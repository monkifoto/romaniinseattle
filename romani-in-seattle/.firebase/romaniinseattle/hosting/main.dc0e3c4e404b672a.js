"use strict";(self.webpackChunkromani_in_seattle=self.webpackChunkromani_in_seattle||[]).push([[179],{35:(zt,$e,j)=>{j.d($e,{$:()=>qn,A:()=>ge,G:()=>Je,K:()=>as,L:()=>Ri,N:()=>Ei,P:()=>kp,R:()=>Xd,U:()=>Jt,V:()=>uo,W:()=>Le,X:()=>It,Y:()=>Nt,Z:()=>be,_:()=>bn,a:()=>St,a0:()=>ca,a1:()=>Jc,a2:()=>Ks,a3:()=>jd,a4:()=>xu,a5:()=>el,a6:()=>ac,a7:()=>Bo,a8:()=>cc,a9:()=>tl,aA:()=>or,aB:()=>Xe,aC:()=>de,aD:()=>eu,aE:()=>pt,aF:()=>Yt,aG:()=>uh,aH:()=>cf,aI:()=>Ha,aJ:()=>mr,aN:()=>dc,aQ:()=>cn,aa:()=>ef,ab:()=>Hd,ac:()=>Va,ad:()=>Kl,ae:()=>Ua,af:()=>R,ag:()=>B,ah:()=>Ie,ak:()=>fr,al:()=>wr,am:()=>Jn,ap:()=>la,aq:()=>$o,as:()=>zd,at:()=>nf,au:()=>Ut,av:()=>ki,aw:()=>wi,ax:()=>Be,ay:()=>Yo,az:()=>Up,b:()=>Ao,c:()=>ih,d:()=>Fp,e:()=>cl,f:()=>vc,g:()=>uf,h:()=>ch,i:()=>xr,j:()=>V_,k:()=>yf,l:()=>qo,m:()=>vf,p:()=>Ce,r:()=>_a,s:()=>eh,u:()=>mc});var I=j(5861),u=j(4303),W=j(9058),ve=j(7879),_e=j(7582),we=j(4537);const Ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ge={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Je=function Me(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Mt=function ut(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},dt=new W.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),mt=new ve.Yd("@firebase/auth");function qe(C,..._){mt.logLevel<=ve.in.ERROR&&mt.error(`Auth (${u.SDK_VERSION}): ${C}`,..._)}function Be(C,..._){throw ze(C,..._)}function Xe(C,..._){return ze(C,..._)}function Ue(C,_,v){const M=Object.assign(Object.assign({},Mt()),{[_]:v});return new W.LL("auth","Firebase",M).create(_,{appName:C.name})}function et(C){return Ue(C,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vt(C,_,v){if(!(_ instanceof v))throw v.name!==_.constructor.name&&Be(C,"argument-error"),Ue(C,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ze(C,..._){if("string"!=typeof C){const v=_[0],M=[..._.slice(1)];return M[0]&&(M[0].appName=C.name),C._errorFactory.create(v,...M)}return dt.create(C,..._)}function de(C,_,...v){if(!C)throw ze(_,...v)}function gt(C){const _="INTERNAL ASSERTION FAILED: "+C;throw qe(_),new Error(_)}function Ut(C,_){C||gt(_)}function Bn(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function _t(){return"http:"===Rt()||"https:"===Rt()}function Rt(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Pe{constructor(_,v){this.shortDelay=_,this.longDelay=v,Ut(v>_,"Short delay should be less than long delay!"),this.isMobile=(0,W.uI)()||(0,W.b$)()}get(){return function Wt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(_t()||(0,W.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fe(C,_){Ut(C.emulator,"Emulator should always be set here");const{url:v}=C.emulator;return _?`${v}${_.startsWith("/")?_.slice(1):_}`:v}class Oe{static initialize(_,v,M){this.fetchImpl=_,v&&(this.headersImpl=v),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void gt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void gt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void gt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const We={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ke=new Pe(3e4,6e4);function lt(C,_){return C.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:C.tenantId}):_}function ft(C,_,v,M){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,I.Z)(function*(C,_,v,M,Y={}){return Vt(C,Y,(0,I.Z)(function*(){let se={},Ne={};M&&("GET"===_?Ne=M:se={body:JSON.stringify(M)});const st=(0,W.xO)(Object.assign({key:C.config.apiKey},Ne)).slice(1),wt=yield C._getAdditionalHeaders();return wt["Content-Type"]="application/json",C.languageCode&&(wt["X-Firebase-Locale"]=C.languageCode),Oe.fetch()(un(C,C.config.apiHost,v,st),Object.assign({method:_,headers:wt,referrerPolicy:"no-referrer"},se))}))})).apply(this,arguments)}function Vt(C,_,v){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,I.Z)(function*(C,_,v){C._canInitEmulator=!1;const M=Object.assign(Object.assign({},We),_);try{const Y=new qt(C),se=yield Promise.race([v(),Y.promise]);Y.clearNetworkTimeout();const Ne=yield se.json();if("needConfirmation"in Ne)throw an(C,"account-exists-with-different-credential",Ne);if(se.ok&&!("errorMessage"in Ne))return Ne;{const st=se.ok?Ne.errorMessage:Ne.error.message,[wt,pn]=st.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===wt)throw an(C,"credential-already-in-use",Ne);if("EMAIL_EXISTS"===wt)throw an(C,"email-already-in-use",Ne);if("USER_DISABLED"===wt)throw an(C,"user-disabled",Ne);const Rn=M[wt]||wt.toLowerCase().replace(/[_\s]+/g,"-");if(pn)throw Ue(C,Rn,pn);Be(C,Rn)}}catch(Y){if(Y instanceof W.ZR)throw Y;Be(C,"network-request-failed",{message:String(Y)})}})).apply(this,arguments)}function on(C,_,v,M){return jn.apply(this,arguments)}function jn(){return(jn=(0,I.Z)(function*(C,_,v,M,Y={}){const se=yield ft(C,_,v,M,Y);return"mfaPendingCredential"in se&&Be(C,"multi-factor-auth-required",{_serverResponse:se}),se})).apply(this,arguments)}function un(C,_,v,M){const Y=`${_}${v}?${M}`;return C.config.emulator?fe(C.config,Y):`${C.config.apiScheme}://${Y}`}function er(C){switch(C){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qt{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((v,M)=>{this.timer=setTimeout(()=>M(Xe(this.auth,"network-request-failed")),Ke.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function an(C,_,v){const M={appName:C.name};v.email&&(M.email=v.email),v.phoneNumber&&(M.phoneNumber=v.phoneNumber);const Y=Xe(C,_,M);return Y.customData._tokenResponse=v,Y}function mn(C){return void 0!==C&&void 0!==C.getResponse}function vn(C){return void 0!==C&&void 0!==C.enterprise}class $t{constructor(_){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=_.recaptchaEnforcementState}getProviderEnforcementState(_){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===_)return er(v.enforcementState);return null}isProviderEnabled(_){return"ENFORCE"===this.getProviderEnforcementState(_)||"AUDIT"===this.getProviderEnforcementState(_)}}function In(){return(In=(0,I.Z)(function*(C){return(yield ft(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ur(C,_){return On.apply(this,arguments)}function On(){return(On=(0,I.Z)(function*(C,_){return ft(C,"GET","/v2/recaptchaConfig",lt(C,_))})).apply(this,arguments)}function fn(){return(fn=(0,I.Z)(function*(C,_){return ft(C,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function _n(){return(_n=(0,I.Z)(function*(C,_){return ft(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function br(C,_){return _r.apply(this,arguments)}function _r(){return(_r=(0,I.Z)(function*(C,_){return ft(C,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function Nn(C){if(C)try{const _=new Date(Number(C));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function ui(){return(ui=(0,I.Z)(function*(C,_=!1){const v=(0,W.m9)(C),M=yield v.getIdToken(_),Y=si(M);de(Y&&Y.exp&&Y.auth_time&&Y.iat,v.auth,"internal-error");const se="object"==typeof Y.firebase?Y.firebase:void 0,Ne=se?.sign_in_provider;return{claims:Y,token:M,authTime:Nn(Kt(Y.auth_time)),issuedAtTime:Nn(Kt(Y.iat)),expirationTime:Nn(Kt(Y.exp)),signInProvider:Ne||null,signInSecondFactor:se?.sign_in_second_factor||null}})).apply(this,arguments)}function Kt(C){return 1e3*Number(C)}function si(C){const[_,v,M]=C.split(".");if(void 0===_||void 0===v||void 0===M)return qe("JWT malformed, contained fewer than 3 sections"),null;try{const Y=(0,W.tV)(v);return Y?JSON.parse(Y):(qe("Failed to decode base64 JWT payload"),null)}catch(Y){return qe("Caught error parsing JWT payload as JSON",Y?.toString()),null}}function Hn(C){const _=si(C);return de(_,"internal-error"),de(typeof _.exp<"u","internal-error"),de(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}function pr(C,_){return gr.apply(this,arguments)}function gr(){return(gr=(0,I.Z)(function*(C,_,v=!1){if(v)return _;try{return yield _}catch(M){throw M instanceof W.ZR&&function Yr({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}(M)&&C.auth.currentUser===C&&(yield C.auth.signOut()),M}})).apply(this,arguments)}class je{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var v;if(_){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const Y=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,Y)}}schedule(_=!1){var v=this;if(!this.isRunning)return;const M=this.getInterval(_);this.timerId=setTimeout((0,I.Z)(function*(){yield v.iteration()}),M)}iteration(){var _=this;return(0,I.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&_.schedule(!0))}_.schedule()})()}}class Et{constructor(_,v){this.createdAt=_,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nn(this.lastLoginAt),this.creationTime=Nn(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ie(C){return Te.apply(this,arguments)}function Te(){return(Te=(0,I.Z)(function*(C){var _;const v=C.auth,M=yield C.getIdToken(),Y=yield pr(C,br(v,{idToken:M}));de(Y?.users.length,v,"internal-error");const se=Y.users[0];C._notifyReloadListener(se);const Ne=null!==(_=se.providerUserInfo)&&void 0!==_&&_.length?oi(se.providerUserInfo):[],st=function Dn(C,_){return[...C.filter(M=>!_.some(Y=>Y.providerId===M.providerId)),..._]}(C.providerData,Ne),Rn=!!C.isAnonymous&&!(C.email&&se.passwordHash||st?.length),vr={uid:se.localId,displayName:se.displayName||null,photoURL:se.photoUrl||null,email:se.email||null,emailVerified:se.emailVerified||!1,phoneNumber:se.phoneNumber||null,tenantId:se.tenantId||null,providerData:st,metadata:new Et(se.createdAt,se.lastLoginAt),isAnonymous:Rn};Object.assign(C,vr)})).apply(this,arguments)}function Lt(){return(Lt=(0,I.Z)(function*(C){const _=(0,W.m9)(C);yield ie(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function oi(C){return C.map(_=>{var{providerId:v}=_,M=(0,_e._T)(_,["providerId"]);return{providerId:v,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}function oe(){return(oe=(0,I.Z)(function*(C,_){const v=yield Vt(C,{},(0,I.Z)(function*(){const M=(0,W.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:Y,apiKey:se}=C.config,Ne=un(C,Y,"/v1/token",`key=${se}`),st=yield C._getAdditionalHeaders();return st["Content-Type"]="application/x-www-form-urlencoded",Oe.fetch()(Ne,{method:"POST",headers:st,body:M})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function H(){return(H=(0,I.Z)(function*(C,_){return ft(C,"POST","/v2/accounts:revokeToken",lt(C,_))})).apply(this,arguments)}class U{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){de(_.idToken,"internal-error"),de(typeof _.idToken<"u","internal-error"),de(typeof _.refreshToken<"u","internal-error");const v="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):Hn(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,v)}updateFromIdToken(_){de(0!==_.length,"internal-error");const v=Hn(_);this.updateTokensAndExpiration(_,null,v)}getToken(_,v=!1){var M=this;return(0,I.Z)(function*(){return v||!M.accessToken||M.isExpired?(de(M.refreshToken,_,"user-token-expired"),M.refreshToken?(yield M.refresh(_,M.refreshToken),M.accessToken):null):M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,v){var M=this;return(0,I.Z)(function*(){const{accessToken:Y,refreshToken:se,expiresIn:Ne}=yield function xt(C,_){return oe.apply(this,arguments)}(_,v);M.updateTokensAndExpiration(Y,se,Number(Ne))})()}updateTokensAndExpiration(_,v,M){this.refreshToken=v||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(_,v){const{refreshToken:M,accessToken:Y,expirationTime:se}=v,Ne=new U;return M&&(de("string"==typeof M,"internal-error",{appName:_}),Ne.refreshToken=M),Y&&(de("string"==typeof Y,"internal-error",{appName:_}),Ne.accessToken=Y),se&&(de("number"==typeof se,"internal-error",{appName:_}),Ne.expirationTime=se),Ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new U,this.toJSON())}_performRefresh(){return gt("not implemented")}}function F(C,_){de("string"==typeof C||typeof C>"u","internal-error",{appName:_})}class ce{constructor(_){var{uid:v,auth:M,stsTokenManager:Y}=_,se=(0,_e._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new je(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=M,this.stsTokenManager=Y,this.accessToken=Y.accessToken,this.displayName=se.displayName||null,this.email=se.email||null,this.emailVerified=se.emailVerified||!1,this.phoneNumber=se.phoneNumber||null,this.photoURL=se.photoURL||null,this.isAnonymous=se.isAnonymous||!1,this.tenantId=se.tenantId||null,this.providerData=se.providerData?[...se.providerData]:[],this.metadata=new Et(se.createdAt||void 0,se.lastLoginAt||void 0)}getIdToken(_){var v=this;return(0,I.Z)(function*(){const M=yield pr(v,v.stsTokenManager.getToken(v.auth,_));return de(M,v.auth,"internal-error"),v.accessToken!==M&&(v.accessToken=M,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),M})()}getIdTokenResult(_){return function Ir(C){return ui.apply(this,arguments)}(this,_)}reload(){return function ct(C){return Lt.apply(this,arguments)}(this)}_assign(_){this!==_&&(de(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(v=>Object.assign({},v)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const v=new ce(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(_){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,v=!1){var M=this;return(0,I.Z)(function*(){let Y=!1;_.idToken&&_.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(_),Y=!0),v&&(yield ie(M)),yield M.auth._persistUserIfCurrent(M),Y&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var _=this;return(0,I.Z)(function*(){if((0,u._isFirebaseServerApp)(_.auth.app))return Promise.reject(et(_.auth));const v=yield _.getIdToken();return yield pr(_,function Ot(C,_){return fn.apply(this,arguments)}(_.auth,{idToken:v})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,v){var M,Y,se,Ne,st,wt,pn,Rn;const vr=null!==(M=v.displayName)&&void 0!==M?M:void 0,po=null!==(Y=v.email)&&void 0!==Y?Y:void 0,vl=null!==(se=v.phoneNumber)&&void 0!==se?se:void 0,Or=null!==(Ne=v.photoURL)&&void 0!==Ne?Ne:void 0,Ac=null!==(st=v.tenantId)&&void 0!==st?st:void 0,Ea=null!==(wt=v._redirectEventId)&&void 0!==wt?wt:void 0,If=null!==(pn=v.createdAt)&&void 0!==pn?pn:void 0,El=null!==(Rn=v.lastLoginAt)&&void 0!==Rn?Rn:void 0,{uid:Il,emailVerified:bf,isAnonymous:Wp,providerData:hh,stsTokenManager:Tf}=v;de(Il&&Tf,_,"internal-error");const $a=U.fromJSON(this.name,Tf);de("string"==typeof Il,_,"internal-error"),F(vr,_.name),F(po,_.name),de("boolean"==typeof bf,_,"internal-error"),de("boolean"==typeof Wp,_,"internal-error"),F(vl,_.name),F(Or,_.name),F(Ac,_.name),F(Ea,_.name),F(If,_.name),F(El,_.name);const bl=new ce({uid:Il,auth:_,email:po,emailVerified:bf,displayName:vr,isAnonymous:Wp,photoURL:Or,phoneNumber:vl,tenantId:Ac,stsTokenManager:$a,createdAt:If,lastLoginAt:El});return hh&&Array.isArray(hh)&&(bl.providerData=hh.map(fh=>Object.assign({},fh))),Ea&&(bl._redirectEventId=Ea),bl}static _fromIdTokenResponse(_,v,M=!1){return(0,I.Z)(function*(){const Y=new U;Y.updateFromServerResponse(v);const se=new ce({uid:v.localId,auth:_,stsTokenManager:Y,isAnonymous:M});return yield ie(se),se})()}static _fromGetAccountInfoResponse(_,v,M){return(0,I.Z)(function*(){const Y=v.users[0];de(void 0!==Y.localId,"internal-error");const se=void 0!==Y.providerUserInfo?oi(Y.providerUserInfo):[],Ne=!(Y.email&&Y.passwordHash||se?.length),st=new U;st.updateFromIdToken(M);const wt=new ce({uid:Y.localId,auth:_,stsTokenManager:st,isAnonymous:Ne}),pn={uid:Y.localId,displayName:Y.displayName||null,photoURL:Y.photoUrl||null,email:Y.email||null,emailVerified:Y.emailVerified||!1,phoneNumber:Y.phoneNumber||null,tenantId:Y.tenantId||null,providerData:se,metadata:new Et(Y.createdAt,Y.lastLoginAt),isAnonymous:!(Y.email&&Y.passwordHash||se?.length)};return Object.assign(wt,pn),wt})()}}const xe=new Map;function pt(C){Ut(C instanceof Function,"Expected a class definition");let _=xe.get(C);return _?(Ut(_ instanceof C,"Instance stored in cache mismatched with class"),_):(_=new C,xe.set(C,_),_)}const Jt=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,I.Z)(function*(){return!0})()}_set(v,M){var Y=this;return(0,I.Z)(function*(){Y.storage[v]=M})()}_get(v){var M=this;return(0,I.Z)(function*(){const Y=M.storage[v];return void 0===Y?null:Y})()}_remove(v){var M=this;return(0,I.Z)(function*(){delete M.storage[v]})()}_addListener(v,M){}_removeListener(v,M){}}return C.type="NONE",C})();function Yt(C,_,v){return`firebase:${C}:${_}:${v}`}class en{constructor(_,v,M){this.persistence=_,this.auth=v,this.userKey=M;const{config:Y,name:se}=this.auth;this.fullUserKey=Yt(this.userKey,Y.apiKey,se),this.fullPersistenceKey=Yt("persistence",Y.apiKey,se),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,I.Z)(function*(){const v=yield _.persistence._get(_.fullUserKey);return v?ce._fromJSON(_.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var v=this;return(0,I.Z)(function*(){if(v.persistence===_)return;const M=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=_,M?v.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,v,M="authUser"){return(0,I.Z)(function*(){if(!v.length)return new en(pt(Jt),_,M);const Y=(yield Promise.all(v.map(function(){var pn=(0,I.Z)(function*(Rn){if(yield Rn._isAvailable())return Rn});return function(Rn){return pn.apply(this,arguments)}}()))).filter(pn=>pn);let se=Y[0]||pt(Jt);const Ne=Yt(M,_.config.apiKey,_.name);let st=null;for(const pn of v)try{const Rn=yield pn._get(Ne);if(Rn){const vr=ce._fromJSON(_,Rn);pn!==se&&(st=vr),se=pn;break}}catch{}const wt=Y.filter(pn=>pn._shouldAllowMigration);return se._shouldAllowMigration&&wt.length?(se=wt[0],st&&(yield se._set(Ne,st.toJSON())),yield Promise.all(v.map(function(){var pn=(0,I.Z)(function*(Rn){if(Rn!==se)try{yield Rn._remove(Ne)}catch{}});return function(Rn){return pn.apply(this,arguments)}}())),new en(se,_,M)):new en(se,_,M)})()}}function Gn(C){const _=C.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(Fo(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(Sn(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(vo(_))return"Blackberry";if(Os(_))return"Webos";if(yi(_))return"Safari";if((_.includes("chrome/")||xs(_))&&!_.includes("edge/"))return"Chrome";if(wi(_))return"Android";{const M=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===M?.length)return M[1]}return"Other"}function Sn(C=(0,W.z$)()){return/firefox\//i.test(C)}function yi(C=(0,W.z$)()){const _=C.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function xs(C=(0,W.z$)()){return/crios\//i.test(C)}function Fo(C=(0,W.z$)()){return/iemobile/i.test(C)}function wi(C=(0,W.z$)()){return/android/i.test(C)}function vo(C=(0,W.z$)()){return/blackberry/i.test(C)}function Os(C=(0,W.z$)()){return/webos/i.test(C)}function ki(C=(0,W.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function or(C=(0,W.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function Ra(C=(0,W.z$)()){return ki(C)||wi(C)||Os(C)||vo(C)||/windows phone/i.test(C)||Fo(C)}function Yi(C,_=[]){let v;switch(C){case"Browser":v=Gn((0,W.z$)());break;case"Worker":v=`${Gn((0,W.z$)())}-${C}`;break;default:v=C}const M=_.length?_.join(","):"FirebaseCore-web";return`${v}/JsCore/${u.SDK_VERSION}/${M}`}class Mr{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,v){const M=se=>new Promise((Ne,st)=>{try{Ne(_(se))}catch(wt){st(wt)}});M.onAbort=v,this.queue.push(M);const Y=this.queue.length-1;return()=>{this.queue[Y]=()=>Promise.resolve()}}runMiddleware(_){var v=this;return(0,I.Z)(function*(){if(v.auth.currentUser===_)return;const M=[];try{for(const Y of v.queue)yield Y(_),Y.onAbort&&M.push(Y.onAbort)}catch(Y){M.reverse();for(const se of M)try{se()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:Y?.message})}})()}}function ai(){return(ai=(0,I.Z)(function*(C,_={}){return ft(C,"GET","/v2/passwordPolicy",lt(C,_))})).apply(this,arguments)}class ia{constructor(_){var v,M,Y,se;const Ne=_.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=Ne.minPasswordLength)&&void 0!==v?v:6,Ne.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ne.maxPasswordLength),void 0!==Ne.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ne.containsLowercaseCharacter),void 0!==Ne.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ne.containsUppercaseCharacter),void 0!==Ne.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ne.containsNumericCharacter),void 0!==Ne.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ne.containsNonAlphanumericCharacter),this.enforcementState=_.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Y=null===(M=_.allowedNonAlphanumericCharacters)||void 0===M?void 0:M.join(""))&&void 0!==Y?Y:"",this.forceUpgradeOnSignin=null!==(se=_.forceUpgradeOnSignin)&&void 0!==se&&se,this.schemaVersion=_.schemaVersion}validatePassword(_){var v,M,Y,se,Ne,st;const wt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(_,wt),this.validatePasswordCharacterOptions(_,wt),wt.isValid&&(wt.isValid=null===(v=wt.meetsMinPasswordLength)||void 0===v||v),wt.isValid&&(wt.isValid=null===(M=wt.meetsMaxPasswordLength)||void 0===M||M),wt.isValid&&(wt.isValid=null===(Y=wt.containsLowercaseLetter)||void 0===Y||Y),wt.isValid&&(wt.isValid=null===(se=wt.containsUppercaseLetter)||void 0===se||se),wt.isValid&&(wt.isValid=null===(Ne=wt.containsNumericCharacter)||void 0===Ne||Ne),wt.isValid&&(wt.isValid=null===(st=wt.containsNonAlphanumericCharacter)||void 0===st||st),wt}validatePasswordLengthOptions(_,v){const M=this.customStrengthOptions.minPasswordLength,Y=this.customStrengthOptions.maxPasswordLength;M&&(v.meetsMinPasswordLength=_.length>=M),Y&&(v.meetsMaxPasswordLength=_.length<=Y)}validatePasswordCharacterOptions(_,v){let M;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let Y=0;Y<_.length;Y++)M=_.charAt(Y),this.updatePasswordCharacterOptionsStatuses(v,M>="a"&&M<="z",M>="A"&&M<="Z",M>="0"&&M<="9",this.allowedNonAlphanumericCharacters.includes(M))}updatePasswordCharacterOptionsStatuses(_,v,M,Y,se){this.customStrengthOptions.containsLowercaseLetter&&(_.containsLowercaseLetter||(_.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(_.containsUppercaseLetter||(_.containsUppercaseLetter=M)),this.customStrengthOptions.containsNumericCharacter&&(_.containsNumericCharacter||(_.containsNumericCharacter=Y)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(_.containsNonAlphanumericCharacter||(_.containsNonAlphanumericCharacter=se))}}class Oa{constructor(_,v,M,Y){this.app=_,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=M,this.config=Y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $i(this),this.idTokenSubscription=new $i(this),this.beforeStateQueue=new Mr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=Y.sdkClientVersion}_initializeWithPersistence(_,v){var M=this;return v&&(this._popupRedirectResolver=pt(v)),this._initializationPromise=this.queue((0,I.Z)(function*(){var Y,se;if(!M._deleted&&(M.persistenceManager=yield en.create(M,_),!M._deleted)){if(null!==(Y=M._popupRedirectResolver)&&void 0!==Y&&Y._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(v),M.lastNotifiedUid=(null===(se=M.currentUser)||void 0===se?void 0:se.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,I.Z)(function*(){if(_._deleted)return;const v=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||v){if(_.currentUser&&v&&_.currentUser.uid===v.uid)return _._currentUser._assign(v),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(_){var v=this;return(0,I.Z)(function*(){try{const M=yield br(v,{idToken:_}),Y=yield ce._fromGetAccountInfoResponse(v,M,_);yield v.directlySetCurrentUser(Y)}catch(M){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",M),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(_){var v=this;return(0,I.Z)(function*(){var M;if((0,u._isFirebaseServerApp)(v.app)){const st=v.app.settings.authIdToken;return st?new Promise(wt=>{setTimeout(()=>v.initializeCurrentUserFromIdToken(st).then(wt,wt))}):v.directlySetCurrentUser(null)}const Y=yield v.assertedPersistence.getCurrentUser();let se=Y,Ne=!1;if(_&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const st=null===(M=v.redirectUser)||void 0===M?void 0:M._redirectEventId,wt=se?._redirectEventId,pn=yield v.tryRedirectSignIn(_);(!st||st===wt)&&pn?.user&&(se=pn.user,Ne=!0)}if(!se)return v.directlySetCurrentUser(null);if(!se._redirectEventId){if(Ne)try{yield v.beforeStateQueue.runMiddleware(se)}catch(st){se=Y,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(st))}return se?v.reloadAndSetCurrentUserOrClear(se):v.directlySetCurrentUser(null)}return de(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===se._redirectEventId?v.directlySetCurrentUser(se):v.reloadAndSetCurrentUserOrClear(se)})()}tryRedirectSignIn(_){var v=this;return(0,I.Z)(function*(){let M=null;try{M=yield v._popupRedirectResolver._completeRedirectFn(v,_,!0)}catch{yield v._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(_){var v=this;return(0,I.Z)(function*(){try{yield ie(_)}catch(M){if("auth/network-request-failed"!==M?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function nt(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var _=this;return(0,I.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var v=this;return(0,I.Z)(function*(){if((0,u._isFirebaseServerApp)(v.app))return Promise.reject(et(v));const M=_?(0,W.m9)(_):null;return M&&de(M.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(M&&M._clone(v))})()}_updateCurrentUser(_,v=!1){var M=this;return(0,I.Z)(function*(){if(!M._deleted)return _&&de(M.tenantId===_.tenantId,M,"tenant-id-mismatch"),v||(yield M.beforeStateQueue.runMiddleware(_)),M.queue((0,I.Z)(function*(){yield M.directlySetCurrentUser(_),M.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,I.Z)(function*(){return(0,u._isFirebaseServerApp)(_.app)?Promise.reject(et(_)):(yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0))})()}setPersistence(_){var v=this;return(0,u._isFirebaseServerApp)(this.app)?Promise.reject(et(this)):this.queue((0,I.Z)(function*(){yield v.assertedPersistence.setPersistence(pt(_))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(_){var v=this;return(0,I.Z)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const M=v._getPasswordPolicyInternal();return M.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):M.validatePassword(_)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var _=this;return(0,I.Z)(function*(){const v=yield function Xa(C){return ai.apply(this,arguments)}(_),M=new ia(v);null===_.tenantId?_._projectPasswordPolicy=M:_._tenantPasswordPolicies[_.tenantId]=M})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new W.LL("auth","Firebase",_())}onAuthStateChanged(_,v,M){return this.registerStateListener(this.authStateSubscription,_,v,M)}beforeAuthStateChanged(_,v){return this.beforeStateQueue.pushCallback(_,v)}onIdTokenChanged(_,v,M){return this.registerStateListener(this.idTokenSubscription,_,v,M)}authStateReady(){return new Promise((_,v)=>{if(this.currentUser)_();else{const M=this.onAuthStateChanged(()=>{M(),_()},v)}})}revokeAccessToken(_){var v=this;return(0,I.Z)(function*(){if(v.currentUser){const M=yield v.currentUser.getIdToken(),Y={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:_,idToken:M};null!=v.tenantId&&(Y.tenantId=v.tenantId),yield function Q(C,_){return H.apply(this,arguments)}(v,Y)}})()}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,v){var M=this;return(0,I.Z)(function*(){const Y=yield M.getOrInitRedirectPersistenceManager(v);return null===_?Y.removeCurrentUser():Y.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var v=this;return(0,I.Z)(function*(){if(!v.redirectPersistenceManager){const M=_&&pt(_)||v._popupRedirectResolver;de(M,v,"argument-error"),v.redirectPersistenceManager=yield en.create(v,[pt(M._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(_){var v=this;return(0,I.Z)(function*(){var M,Y;return v._isInitialized&&(yield v.queue((0,I.Z)(function*(){}))),(null===(M=v._currentUser)||void 0===M?void 0:M._redirectEventId)===_?v._currentUser:(null===(Y=v.redirectUser)||void 0===Y?void 0:Y._redirectEventId)===_?v.redirectUser:null})()}_persistUserIfCurrent(_){var v=this;return(0,I.Z)(function*(){if(_===v.currentUser)return v.queue((0,I.Z)(function*(){return v.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(v=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,v,M,Y){if(this._deleted)return()=>{};const se="function"==typeof v?v:v.next.bind(v);let Ne=!1;const st=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(st,this,"internal-error"),st.then(()=>{Ne||se(this.currentUser)}),"function"==typeof v){const wt=_.addObserver(v,M,Y);return()=>{Ne=!0,wt()}}{const wt=_.addObserver(v);return()=>{Ne=!0,wt()}}}directlySetCurrentUser(_){var v=this;return(0,I.Z)(function*(){v.currentUser&&v.currentUser!==_&&v._currentUser._stopProactiveRefresh(),_&&v.isProactiveRefreshEnabled&&_._startProactiveRefresh(),v.currentUser=_,_?yield v.assertedPersistence.setCurrentUser(_):yield v.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=Yi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,I.Z)(function*(){var v;const M={"X-Client-Version":_.clientVersion};_.app.options.appId&&(M["X-Firebase-gmpid"]=_.app.options.appId);const Y=yield null===(v=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();Y&&(M["X-Firebase-Client"]=Y);const se=yield _._getAppCheckToken();return se&&(M["X-Firebase-AppCheck"]=se),M})()}_getAppCheckToken(){var _=this;return(0,I.Z)(function*(){var v;const M=yield null===(v=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return M?.error&&function Xt(C,..._){mt.logLevel<=ve.in.WARN&&mt.warn(`Auth (${u.SDK_VERSION}): ${C}`,..._)}(`Error while retrieving App Check token: ${M.error}`),M?.token})()}}function mr(C){return(0,W.m9)(C)}class $i{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,W.ne)(v=>this.observer=v)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let co={loadJS:()=>(0,I.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Br(C){return co.loadJS(C)}function ec(C){return`__${C}${Math.floor(1e6*Math.random())}`}class pi{constructor(_){this.type="recaptcha-enterprise",this.auth=mr(_)}verify(_="verify",v=!1){var M=this;return(0,I.Z)(function*(){function se(){return se=(0,I.Z)(function*(st){if(!v){if(null==st.tenantId&&null!=st._agentRecaptchaConfig)return st._agentRecaptchaConfig.siteKey;if(null!=st.tenantId&&void 0!==st._tenantRecaptchaConfigs[st.tenantId])return st._tenantRecaptchaConfigs[st.tenantId].siteKey}return new Promise(function(){var wt=(0,I.Z)(function*(pn,Rn){ur(st,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(vr=>{if(void 0!==vr.recaptchaKey){const po=new $t(vr);return null==st.tenantId?st._agentRecaptchaConfig=po:st._tenantRecaptchaConfigs[st.tenantId]=po,pn(po.siteKey)}Rn(new Error("recaptcha Enterprise site key undefined"))}).catch(vr=>{Rn(vr)})});return function(pn,Rn){return wt.apply(this,arguments)}}())}),se.apply(this,arguments)}function Ne(st,wt,pn){const Rn=window.grecaptcha;vn(Rn)?Rn.enterprise.ready(()=>{Rn.enterprise.execute(st,{action:_}).then(vr=>{wt(vr)}).catch(()=>{wt("NO_RECAPTCHA")})}):pn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((st,wt)=>{(function Y(st){return se.apply(this,arguments)})(M.auth).then(pn=>{if(!v&&vn(window.grecaptcha))Ne(pn,st,wt);else{if(typeof window>"u")return void wt(new Error("RecaptchaVerifier is only supported in browser"));let Rn=function Qi(){return co.recaptchaEnterpriseScript}();0!==Rn.length&&(Rn+=pn),Br(Rn).then(()=>{Ne(pn,st,wt)}).catch(vr=>{wt(vr)})}}).catch(pn=>{wt(pn)})})})()}}function Tr(C,_,v){return nc.apply(this,arguments)}function nc(){return(nc=(0,I.Z)(function*(C,_,v,M=!1){const Y=new pi(C);let se;try{se=yield Y.verify(v)}catch{se=yield Y.verify(v,!0)}const Ne=Object.assign({},_);return Object.assign(Ne,M?{captchaResp:se}:{captchaResponse:se}),Object.assign(Ne,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ne,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ne})).apply(this,arguments)}function ks(C,_,v,M){return Ai.apply(this,arguments)}function Ai(){return Ai=(0,I.Z)(function*(C,_,v,M){var Y;if(null!==(Y=C._getRecaptchaConfig())&&void 0!==Y&&Y.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const se=yield Tr(C,_,v,"getOobCode"===v);return M(C,se)}return M(C,_).catch(function(){var se=(0,I.Z)(function*(Ne){if("auth/missing-recaptcha-token"===Ne.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const st=yield Tr(C,_,v,"getOobCode"===v);return M(C,st)}return Promise.reject(Ne)});return function(Ne){return se.apply(this,arguments)}}())}),Ai.apply(this,arguments)}function as(C,_,v){const M=mr(C);de(M._canInitEmulator,M,"emulator-config-failed"),de(/^https?:\/\//.test(_),M,"invalid-emulator-scheme");const Y=!!v?.disableWarnings,se=Qr(_),{host:Ne,port:st}=function Is(C){const _=Qr(C),v=/(\/\/)?([^?#/]+)/.exec(C.substr(_.length));if(!v)return{host:"",port:null};const M=v[2].split("@").pop()||"",Y=/^(\[[^\]]+\])(:|$)/.exec(M);if(Y){const se=Y[1];return{host:se,port:bs(M.substr(se.length+1))}}{const[se,Ne]=M.split(":");return{host:se,port:bs(Ne)}}}(_);M.config.emulator={url:`${se}//${Ne}${null===st?"":`:${st}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:Ne,port:st,protocol:se.replace(":",""),options:Object.freeze({disableWarnings:Y})}),Y||function Lo(){function C(){const _=document.createElement("p"),v=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function Qr(C){const _=C.indexOf(":");return _<0?"":C.substr(0,_+1)}function bs(C){if(!C)return null;const _=Number(C);return isNaN(_)?null:_}class Ri{constructor(_,v){this.providerId=_,this.signInMethod=v}toJSON(){return gt("not implemented")}_getIdTokenResponse(_){return gt("not implemented")}_linkToIdToken(_,v){return gt("not implemented")}_getReauthenticationResolver(_){return gt("not implemented")}}function aa(C,_){return An.apply(this,arguments)}function An(){return(An=(0,I.Z)(function*(C,_){return ft(C,"POST","/v1/accounts:resetPassword",lt(C,_))})).apply(this,arguments)}function jr(){return(jr=(0,I.Z)(function*(C,_){return ft(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function xi(C,_){return kr.apply(this,arguments)}function kr(){return(kr=(0,I.Z)(function*(C,_){return ft(C,"POST","/v1/accounts:signUp",_)})).apply(this,arguments)}function Li(){return(Li=(0,I.Z)(function*(C,_){return ft(C,"POST","/v1/accounts:update",lt(C,_))})).apply(this,arguments)}function Vo(C,_){return qi.apply(this,arguments)}function qi(){return(qi=(0,I.Z)(function*(C,_){return on(C,"POST","/v1/accounts:signInWithPassword",lt(C,_))})).apply(this,arguments)}function Ts(C,_){return dr.apply(this,arguments)}function dr(){return(dr=(0,I.Z)(function*(C,_){return ft(C,"POST","/v1/accounts:sendOobCode",lt(C,_))})).apply(this,arguments)}function Mn(){return(Mn=(0,I.Z)(function*(C,_){return Ts(C,_)})).apply(this,arguments)}function lr(C,_){return gi.apply(this,arguments)}function gi(){return(gi=(0,I.Z)(function*(C,_){return Ts(C,_)})).apply(this,arguments)}function lo(C,_){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,I.Z)(function*(C,_){return Ts(C,_)})).apply(this,arguments)}function Yn(){return(Yn=(0,I.Z)(function*(C,_){return Ts(C,_)})).apply(this,arguments)}function cs(){return(cs=(0,I.Z)(function*(C,_){return on(C,"POST","/v1/accounts:signInWithEmailLink",lt(C,_))})).apply(this,arguments)}function Ji(){return(Ji=(0,I.Z)(function*(C,_){return on(C,"POST","/v1/accounts:signInWithEmailLink",lt(C,_))})).apply(this,arguments)}class tr extends Ri{constructor(_,v,M,Y=null){super("password",M),this._email=_,this._password=v,this._tenantId=Y}static _fromEmailAndPassword(_,v){return new tr(_,v,"password")}static _fromEmailAndCode(_,v,M=null){return new tr(_,v,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(_){var v=this;return(0,I.Z)(function*(){switch(v.signInMethod){case"password":return ks(_,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Vo);case"emailLink":return function Zi(C,_){return cs.apply(this,arguments)}(_,{email:v._email,oobCode:v._password});default:Be(_,"internal-error")}})()}_linkToIdToken(_,v){var M=this;return(0,I.Z)(function*(){switch(M.signInMethod){case"password":return ks(_,{idToken:v,returnSecureToken:!0,email:M._email,password:M._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xi);case"emailLink":return function Fn(C,_){return Ji.apply(this,arguments)}(_,{idToken:v,email:M._email,oobCode:M._password});default:Be(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function vi(C,_){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,I.Z)(function*(C,_){return on(C,"POST","/v1/accounts:signInWithIdp",lt(C,_))})).apply(this,arguments)}class Ei extends Ri{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const v=new Ei(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(v.idToken=_.idToken),_.accessToken&&(v.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(v.nonce=_.nonce),_.pendingToken&&(v.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(v.accessToken=_.oauthToken,v.secret=_.oauthTokenSecret):Be("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:M,signInMethod:Y}=v,se=(0,_e._T)(v,["providerId","signInMethod"]);if(!M||!Y)return null;const Ne=new Ei(M,Y);return Ne.idToken=se.idToken||void 0,Ne.accessToken=se.accessToken||void 0,Ne.secret=se.secret,Ne.nonce=se.nonce,Ne.pendingToken=se.pendingToken||null,Ne}_getIdTokenResponse(_){return vi(_,this.buildRequest())}_linkToIdToken(_,v){const M=this.buildRequest();return M.idToken=v,vi(_,M)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,vi(_,v)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),_.postBody=(0,W.xO)(v)}return _}}function Fs(){return(Fs=(0,I.Z)(function*(C,_){return ft(C,"POST","/v1/accounts:sendVerificationCode",lt(C,_))})).apply(this,arguments)}function us(){return(us=(0,I.Z)(function*(C,_){return on(C,"POST","/v1/accounts:signInWithPhoneNumber",lt(C,_))})).apply(this,arguments)}function ir(){return(ir=(0,I.Z)(function*(C,_){const v=yield on(C,"POST","/v1/accounts:signInWithPhoneNumber",lt(C,_));if(v.temporaryProof)throw an(C,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Ls={USER_NOT_FOUND:"user-not-found"};function Na(){return(Na=(0,I.Z)(function*(C,_){return on(C,"POST","/v1/accounts:signInWithPhoneNumber",lt(C,Object.assign(Object.assign({},_),{operation:"REAUTH"})),Ls)})).apply(this,arguments)}class es extends Ri{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,v){return new es({verificationId:_,verificationCode:v})}static _fromTokenResponse(_,v){return new es({phoneNumber:_,temporaryProof:v})}_getIdTokenResponse(_){return function Yc(C,_){return us.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,v){return function Kn(C,_){return ir.apply(this,arguments)}(_,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function Qn(C,_){return Na.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:v,verificationId:M,verificationCode:Y}=this.params;return _&&v?{temporaryProof:_,phoneNumber:v}:{sessionInfo:M,code:Y}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:v,verificationCode:M,phoneNumber:Y,temporaryProof:se}=_;return M||v||Y||se?new es({verificationId:v,verificationCode:M,phoneNumber:Y,temporaryProof:se}):null}}class Cs{constructor(_){var v,M,Y,se,Ne,st;const wt=(0,W.zd)((0,W.pd)(_)),pn=null!==(v=wt.apiKey)&&void 0!==v?v:null,Rn=null!==(M=wt.oobCode)&&void 0!==M?M:null,vr=function Oi(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Y=wt.mode)&&void 0!==Y?Y:null);de(pn&&Rn&&vr,"argument-error"),this.apiKey=pn,this.operation=vr,this.code=Rn,this.continueUrl=null!==(se=wt.continueUrl)&&void 0!==se?se:null,this.languageCode=null!==(Ne=wt.languageCode)&&void 0!==Ne?Ne:null,this.tenantId=null!==(st=wt.tenantId)&&void 0!==st?st:null}static parseLink(_){const v=function ds(C){const _=(0,W.zd)((0,W.pd)(C)).link,v=_?(0,W.zd)((0,W.pd)(_)).deep_link_id:null,M=(0,W.zd)((0,W.pd)(C)).deep_link_id;return(M?(0,W.zd)((0,W.pd)(M)).link:null)||M||v||_||C}(_);try{return new Cs(v)}catch{return null}}}let uo=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(v,M){return tr._fromEmailAndPassword(v,M)}static credentialWithLink(v,M){const Y=Cs.parseLink(M);return de(Y,"argument-error"),tr._fromEmailAndCode(v,Y.code,Y.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class zr{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class ae extends zr{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class be extends ae{static credentialFromJSON(_){const v="string"==typeof _?JSON.parse(_):_;return de("providerId"in v&&"signInMethod"in v,"argument-error"),Ei._fromParams(v)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return de(_.idToken||_.accessToken,"argument-error"),Ei._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return be.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return be.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:v,oauthAccessToken:M,oauthTokenSecret:Y,pendingToken:se,nonce:Ne,providerId:st}=_;if(!M&&!Y&&!v&&!se||!st)return null;try{return new be(st)._credential({idToken:v,accessToken:M,nonce:Ne,pendingToken:se})}catch{return null}}}let Le=(()=>{class C extends ae{constructor(){super("facebook.com")}static credential(v){return Ei._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),It=(()=>{class C extends ae{constructor(){super("google.com"),this.addScope("profile")}static credential(v,M){return Ei._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:M})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:M,oauthAccessToken:Y}=v;if(!M&&!Y)return null;try{return C.credential(M,Y)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Nt=(()=>{class C extends ae{constructor(){super("github.com")}static credential(v){return Ei._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class cn extends Ri{constructor(_,v){super(_,_),this.pendingToken=v}_getIdTokenResponse(_){return vi(_,this.buildRequest())}_linkToIdToken(_,v){const M=this.buildRequest();return M.idToken=v,vi(_,M)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,vi(_,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:M,signInMethod:Y,pendingToken:se}=v;return M&&Y&&se&&M===Y?new cn(M,se):null}static _create(_,v){return new cn(_,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class bn extends zr{constructor(_){de(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return bn.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return bn.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const v=cn.fromJSON(_);return de(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:v,providerId:M}=_;if(!v||!M)return null;try{return cn._create(M,v)}catch{return null}}}let qn=(()=>{class C extends ae{constructor(){super("twitter.com")}static credential(v,M){return Ei._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:M})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:M,oauthTokenSecret:Y}=v;if(!M||!Y)return null;try{return C.credential(M,Y)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Vi(C,_){return hs.apply(this,arguments)}function hs(){return(hs=(0,I.Z)(function*(C,_){return on(C,"POST","/v1/accounts:signUp",lt(C,_))})).apply(this,arguments)}class Ni{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,v,M,Y=!1){return(0,I.Z)(function*(){const se=yield ce._fromIdTokenResponse(_,M,Y),Ne=Ws(M);return new Ni({user:se,providerId:Ne,_tokenResponse:M,operationType:v})})()}static _forOperation(_,v,M){return(0,I.Z)(function*(){yield _._updateTokensIfNecessary(M,!0);const Y=Ws(M);return new Ni({user:_,providerId:Y,_tokenResponse:M,operationType:v})})()}}function Ws(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function ca(C){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,I.Z)(function*(C){var _;if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(et(C));const v=mr(C);if(yield v._initializationPromise,null!==(_=v.currentUser)&&void 0!==_&&_.isAnonymous)return new Ni({user:v.currentUser,providerId:null,operationType:"signIn"});const M=yield Vi(v,{returnSecureToken:!0}),Y=yield Ni._fromIdTokenResponse(v,"signIn",M,!0);return yield v._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class Fr extends W.ZR{constructor(_,v,M,Y){var se;super(v.code,v.message),this.operationType=M,this.user=Y,Object.setPrototypeOf(this,Fr.prototype),this.customData={appName:_.name,tenantId:null!==(se=_.tenantId)&&void 0!==se?se:void 0,_serverResponse:v.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(_,v,M,Y){return new Fr(_,v,M,Y)}}function Bd(C,_,v,M){return("reauthenticate"===_?v._getReauthenticationResolver(C):v._getIdTokenResponse(C)).catch(se=>{throw"auth/multi-factor-auth-required"===se.code?Fr._fromErrorAndOperation(C,se,_,M):se})}function ql(C){return new Set(C.map(({providerId:_})=>_).filter(_=>!!_))}function la(C,_){return mi.apply(this,arguments)}function mi(){return mi=(0,I.Z)(function*(C,_){const v=(0,W.m9)(C);yield rc(!0,v,_);const{providerUserInfo:M}=yield function wn(C,_){return _n.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[_]}),Y=ql(M||[]);return v.providerData=v.providerData.filter(se=>Y.has(se.providerId)),Y.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),mi.apply(this,arguments)}function Ru(C,_){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,I.Z)(function*(C,_,v=!1){const M=yield pr(C,_._linkToIdToken(C.auth,yield C.getIdToken()),v);return Ni._forOperation(C,"link",M)})).apply(this,arguments)}function rc(C,_,v){return ic.apply(this,arguments)}function ic(){return(ic=(0,I.Z)(function*(C,_,v){yield ie(_);const Y=!1===C?"provider-already-linked":"no-such-provider";de(ql(_.providerData).has(v)===C,_.auth,Y)})).apply(this,arguments)}function ka(C,_){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,I.Z)(function*(C,_,v=!1){const{auth:M}=C;if((0,u._isFirebaseServerApp)(M.app))return Promise.reject(et(M));const Y="reauthenticate";try{const se=yield pr(C,Bd(M,Y,_,C),v);de(se.idToken,M,"internal-error");const Ne=si(se.idToken);de(Ne,M,"internal-error");const{sub:st}=Ne;return de(C.uid===st,M,"user-mismatch"),Ni._forOperation(C,Y,se)}catch(se){throw"auth/user-not-found"===se?.code&&Be(M,"user-mismatch"),se}})).apply(this,arguments)}function sc(C,_){return ua.apply(this,arguments)}function ua(){return(ua=(0,I.Z)(function*(C,_,v=!1){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(et(C));const M="signIn",Y=yield Bd(C,M,_),se=yield Ni._fromIdTokenResponse(C,M,Y);return v||(yield C._updateCurrentUser(se.user)),se})).apply(this,arguments)}function Jc(C,_){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,I.Z)(function*(C,_){return sc(mr(C),_)})).apply(this,arguments)}function Ks(C,_){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,I.Z)(function*(C,_){const v=(0,W.m9)(C);return yield rc(!1,v,_.providerId),Ru(v,_)})).apply(this,arguments)}function jd(C,_){return hr.apply(this,arguments)}function hr(){return(hr=(0,I.Z)(function*(C,_){return ka((0,W.m9)(C),_)})).apply(this,arguments)}function Di(){return(Di=(0,I.Z)(function*(C,_){return on(C,"POST","/v1/accounts:signInWithCustomToken",lt(C,_))})).apply(this,arguments)}function xu(C,_){return Us.apply(this,arguments)}function Us(){return Us=(0,I.Z)(function*(C,_){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(et(C));const v=mr(C),M=yield function da(C,_){return Di.apply(this,arguments)}(v,{token:_,returnSecureToken:!0}),Y=yield Ni._fromIdTokenResponse(v,"signIn",M);return yield v._updateCurrentUser(Y.user),Y}),Us.apply(this,arguments)}class Ys{constructor(_,v){this.factorId=_,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(_,v){return"phoneInfo"in v?Qs._fromServerResponse(_,v):"totpInfo"in v?Eo._fromServerResponse(_,v):Be(_,"internal-error")}}class Qs extends Ys{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,v){return new Qs(v)}}class Eo extends Ys{constructor(_){super("totp",_)}static _fromServerResponse(_,v){return new Eo(v)}}function Fa(C,_,v){var M;de((null===(M=v.url)||void 0===M?void 0:M.length)>0,C,"invalid-continue-uri"),de(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),_.continueUrl=v.url,_.dynamicLinkDomain=v.dynamicLinkDomain,_.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(de(v.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),_.iOSBundleId=v.iOS.bundleId),v.android&&(de(v.android.packageName.length>0,C,"missing-android-pkg-name"),_.androidInstallApp=v.android.installApp,_.androidMinimumVersionCode=v.android.minimumVersion,_.androidPackageName=v.android.packageName)}function Zn(C){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,I.Z)(function*(C){const _=mr(C);_._getPasswordPolicyInternal()&&(yield _._updatePasswordPolicy())})).apply(this,arguments)}function el(C,_,v){return oc.apply(this,arguments)}function oc(){return(oc=(0,I.Z)(function*(C,_,v){const M=mr(C),Y={requestType:"PASSWORD_RESET",email:_,clientType:"CLIENT_TYPE_WEB"};v&&Fa(M,Y,v),yield ks(M,Y,"getOobCode",lr)})).apply(this,arguments)}function ac(C,_,v){return La.apply(this,arguments)}function La(){return La=(0,I.Z)(function*(C,_,v){yield aa((0,W.m9)(C),{oobCode:_,newPassword:v}).catch(function(){var M=(0,I.Z)(function*(Y){throw"auth/password-does-not-meet-requirements"===Y.code&&Zn(C),Y});return function(Y){return M.apply(this,arguments)}}())}),La.apply(this,arguments)}function Bo(C,_){return Io.apply(this,arguments)}function Io(){return Io=(0,I.Z)(function*(C,_){yield function Gi(C,_){return Li.apply(this,arguments)}((0,W.m9)(C),{oobCode:_})}),Io.apply(this,arguments)}function cc(C,_){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,I.Z)(function*(C,_){const v=(0,W.m9)(C),M=yield aa(v,{oobCode:_}),Y=M.requestType;switch(de(Y,v,"internal-error"),Y){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":de(M.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":de(M.mfaInfo,v,"internal-error");default:de(M.email,v,"internal-error")}let se=null;return M.mfaInfo&&(se=Ys._fromServerResponse(mr(v),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:se},operation:Y}})).apply(this,arguments)}function tl(C,_){return jo.apply(this,arguments)}function jo(){return(jo=(0,I.Z)(function*(C,_){const{data:v}=yield cc((0,W.m9)(C),_);return v.email})).apply(this,arguments)}function ef(C,_,v){return bo.apply(this,arguments)}function bo(){return(bo=(0,I.Z)(function*(C,_,v){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(et(C));const M=mr(C),Ne=yield ks(M,{returnSecureToken:!0,email:_,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Vi).catch(wt=>{throw"auth/password-does-not-meet-requirements"===wt.code&&Zn(C),wt}),st=yield Ni._fromIdTokenResponse(M,"signIn",Ne);return yield M._updateCurrentUser(st.user),st})).apply(this,arguments)}function Hd(C,_,v){return(0,u._isFirebaseServerApp)(C.app)?Promise.reject(et(C)):Jc((0,W.m9)(C),uo.credential(_,v)).catch(function(){var M=(0,I.Z)(function*(Y){throw"auth/password-does-not-meet-requirements"===Y.code&&Zn(C),Y});return function(Y){return M.apply(this,arguments)}}())}function Va(C,_,v){return lc.apply(this,arguments)}function lc(){return(lc=(0,I.Z)(function*(C,_,v){const M=mr(C),Y={requestType:"EMAIL_SIGNIN",email:_,clientType:"CLIENT_TYPE_WEB"};(function se(Ne,st){de(st.handleCodeInApp,M,"argument-error"),st&&Fa(M,Ne,st)})(Y,v),yield ks(M,Y,"getOobCode",lo)})).apply(this,arguments)}function Kl(C,_){const v=Cs.parseLink(_);return"EMAIL_SIGNIN"===v?.operation}function Ua(C,_,v){return $d.apply(this,arguments)}function $d(){return($d=(0,I.Z)(function*(C,_,v){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(et(C));const M=(0,W.m9)(C),Y=uo.credentialWithLink(_,v||Bn());return de(Y._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),Jc(M,Y)})).apply(this,arguments)}function $r(){return($r=(0,I.Z)(function*(C,_){return ft(C,"POST","/v1/accounts:createAuthUri",lt(C,_))})).apply(this,arguments)}function R(C,_){return X.apply(this,arguments)}function X(){return X=(0,I.Z)(function*(C,_){const M={identifier:_,continueUri:_t()?Bn():"http://localhost"},{signinMethods:Y}=yield function nl(C,_){return $r.apply(this,arguments)}((0,W.m9)(C),M);return Y||[]}),X.apply(this,arguments)}function B(C,_){return J.apply(this,arguments)}function J(){return J=(0,I.Z)(function*(C,_){const v=(0,W.m9)(C),Y={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};_&&Fa(v.auth,Y,_);const{email:se}=yield function Zt(C,_){return Mn.apply(this,arguments)}(v.auth,Y);se!==C.email&&(yield C.reload())}),J.apply(this,arguments)}function Ie(C,_,v){return at.apply(this,arguments)}function at(){return at=(0,I.Z)(function*(C,_,v){const M=(0,W.m9)(C),se={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:_};v&&Fa(M.auth,se,v);const{email:Ne}=yield function ni(C,_){return Yn.apply(this,arguments)}(M.auth,se);Ne!==C.email&&(yield C.reload())}),at.apply(this,arguments)}function dn(){return(dn=(0,I.Z)(function*(C,_){return ft(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function fr(C,_){return Rr.apply(this,arguments)}function Rr(){return Rr=(0,I.Z)(function*(C,{displayName:_,photoURL:v}){if(void 0===_&&void 0===v)return;const M=(0,W.m9)(C),se={idToken:yield M.getIdToken(),displayName:_,photoUrl:v,returnSecureToken:!0},Ne=yield pr(M,function bt(C,_){return dn.apply(this,arguments)}(M.auth,se));M.displayName=Ne.displayName||null,M.photoURL=Ne.photoUrl||null;const st=M.providerData.find(({providerId:wt})=>"password"===wt);st&&(st.displayName=M.displayName,st.photoURL=M.photoURL),yield M._updateTokensIfNecessary(Ne)}),Rr.apply(this,arguments)}function wr(C,_){const v=(0,W.m9)(C);return(0,u._isFirebaseServerApp)(v.auth.app)?Promise.reject(et(v.auth)):Lr(v,_,null)}function Jn(C,_){return Lr((0,W.m9)(C),null,_)}function Lr(C,_,v){return Er.apply(this,arguments)}function Er(){return Er=(0,I.Z)(function*(C,_,v){const{auth:M}=C,se={idToken:yield C.getIdToken(),returnSecureToken:!0};_&&(se.email=_),v&&(se.password=v);const Ne=yield pr(C,function Cr(C,_){return jr.apply(this,arguments)}(M,se));yield C._updateTokensIfNecessary(Ne,!0)}),Er.apply(this,arguments)}class Wi{constructor(_,v,M={}){this.isNewUser=_,this.providerId=v,this.profile=M}}class Bi extends Wi{constructor(_,v,M,Y){super(_,v,M),this.username=Y}}class Ho extends Wi{constructor(_,v){super(_,"facebook.com",v)}}class ws extends Bi{constructor(_,v){super(_,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class Gr extends Wi{constructor(_,v){super(_,"google.com",v)}}class Un extends Bi{constructor(_,v,M){super(_,"twitter.com",v,M)}}function $o(C){const{user:_,_tokenResponse:v}=C;return _.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Ii(C){var _,v;if(!C)return null;const{providerId:M}=C,Y=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},se=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!M&&C?.idToken){const Ne=null===(v=null===(_=si(C.idToken))||void 0===_?void 0:_.firebase)||void 0===v?void 0:v.sign_in_provider;if(Ne)return new Wi(se,"anonymous"!==Ne&&"custom"!==Ne?Ne:null)}if(!M)return null;switch(M){case"facebook.com":return new Ho(se,Y);case"github.com":return new ws(se,Y);case"google.com":return new Gr(se,Y);case"twitter.com":return new Un(se,Y,C.screenName||null);case"custom":case"anonymous":return new Wi(se,null);default:return new Wi(se,M,Y)}}(v)}class Co{constructor(_,v,M){this.type=_,this.credential=v,this.user=M}static _fromIdtoken(_,v){return new Co("enroll",_,v)}static _fromMfaPendingCredential(_){return new Co("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var v,M;if(_?.multiFactorSession){if(null!==(v=_.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Co._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(M=_.multiFactorSession)&&void 0!==M&&M.idToken)return Co._fromIdtoken(_.multiFactorSession.idToken)}return null}}class wo{constructor(_,v,M){this.session=_,this.hints=v,this.signInResolver=M}static _fromError(_,v){const M=mr(_),Y=v.customData._serverResponse,se=(Y.mfaInfo||[]).map(st=>Ys._fromServerResponse(M,st));de(Y.mfaPendingCredential,M,"internal-error");const Ne=Co._fromMfaPendingCredential(Y.mfaPendingCredential);return new wo(Ne,se,function(){var st=(0,I.Z)(function*(wt){const pn=yield wt._process(M,Ne);delete Y.mfaInfo,delete Y.mfaPendingCredential;const Rn=Object.assign(Object.assign({},Y),{idToken:pn.idToken,refreshToken:pn.refreshToken});switch(v.operationType){case"signIn":const vr=yield Ni._fromIdTokenResponse(M,v.operationType,Rn);return yield M._updateCurrentUser(vr.user),vr;case"reauthenticate":return de(v.user,M,"internal-error"),Ni._forOperation(v.user,v.operationType,Rn);default:Be(M,"internal-error")}});return function(wt){return st.apply(this,arguments)}}())}resolveSignIn(_){var v=this;return(0,I.Z)(function*(){return v.signInResolver(_)})()}}function zd(C,_){var v;const M=(0,W.m9)(C),Y=_;return de(_.customData.operationType,M,"argument-error"),de(null===(v=Y.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,M,"argument-error"),wo._fromError(M,Y)}class il{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(M=>Ys._fromServerResponse(_.auth,M)))})}static _fromUser(_){return new il(_)}getSession(){var _=this;return(0,I.Z)(function*(){return Co._fromIdtoken(yield _.user.getIdToken(),_.user)})()}enroll(_,v){var M=this;return(0,I.Z)(function*(){const Y=_,se=yield M.getSession(),Ne=yield pr(M.user,Y._process(M.user.auth,se,v));return yield M.user._updateTokensIfNecessary(Ne),M.user.reload()})()}unenroll(_){var v=this;return(0,I.Z)(function*(){const M="string"==typeof _?_:_.uid,Y=yield v.user.getIdToken();try{const se=yield pr(v.user,function Gd(C,_){return ft(C,"POST","/v2/accounts/mfaEnrollment:withdraw",lt(C,_))}(v.user.auth,{idToken:Y,mfaEnrollmentId:M}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Ne})=>Ne!==M),yield v.user._updateTokensIfNecessary(se),yield v.user.reload()}catch(se){throw se}})()}}const Ba=new WeakMap;function nf(C){const _=(0,W.m9)(C);return Ba.has(_)||Ba.set(_,il._fromUser(_)),Ba.get(_)}const qd="__sak";class di{constructor(_,v){this.storageRetriever=_,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(qd,"1"),this.storage.removeItem(qd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,v){return this.storage.setItem(_,JSON.stringify(v)),Promise.resolve()}_get(_){const v=this.storage.getItem(_);return Promise.resolve(v?JSON.parse(v):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ao=(()=>{class C extends di{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,M)=>this.onStorageEvent(v,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ja(){const C=(0,W.z$)();return yi(C)||ki(C)}()&&function Gl(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ra(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const M of Object.keys(this.listeners)){const Y=this.storage.getItem(M),se=this.localCache[M];Y!==se&&v(M,se,Y)}}onStorageEvent(v,M=!1){if(!v.key)return void this.forAllChangedKeys((st,wt,pn)=>{this.notifyListeners(st,pn)});const Y=v.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const st=this.storage.getItem(Y);if(v.newValue!==st)null!==v.newValue?this.storage.setItem(Y,v.newValue):this.storage.removeItem(Y);else if(this.localCache[Y]===v.newValue&&!M)return}const se=()=>{const st=this.storage.getItem(Y);!M&&this.localCache[Y]===st||this.notifyListeners(Y,st)},Ne=this.storage.getItem(Y);!function Pa(){return(0,W.w1)()&&10===document.documentMode}()||Ne===v.newValue||v.newValue===v.oldValue?se():setTimeout(se,10)}notifyListeners(v,M){this.localCache[v]=M;const Y=this.listeners[v];if(Y)for(const se of Array.from(Y))se(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,M,Y)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:M,newValue:Y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(M)}_removeListener(v,M){this.listeners[v]&&(this.listeners[v].delete(M),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,M){var Y=()=>super._set,se=this;return(0,I.Z)(function*(){yield Y().call(se,v,M),se.localCache[v]=JSON.stringify(M)})()}_get(v){var M=()=>super._get,Y=this;return(0,I.Z)(function*(){const se=yield M().call(Y,v);return Y.localCache[v]=JSON.stringify(se),se})()}_remove(v){var M=()=>super._remove,Y=this;return(0,I.Z)(function*(){yield M().call(Y,v),delete Y.localCache[v]})()}}return C.type="LOCAL",C})(),St=(()=>{class C extends di{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,M){}_removeListener(v,M){}}return C.type="SESSION",C})();let Wd=(()=>{class C{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const M=this.receivers.find(se=>se.isListeningto(v));if(M)return M;const Y=new C(v);return this.receivers.push(Y),Y}isListeningto(v){return this.eventTarget===v}handleEvent(v){var M=this;return(0,I.Z)(function*(){const Y=v,{eventId:se,eventType:Ne,data:st}=Y.data,wt=M.handlersMap[Ne];if(!wt?.size)return;Y.ports[0].postMessage({status:"ack",eventId:se,eventType:Ne});const pn=Array.from(wt).map(function(){var vr=(0,I.Z)(function*(po){return po(Y.origin,st)});return function(po){return vr.apply(this,arguments)}}()),Rn=yield function yr(C){return Promise.all(C.map(function(){var _=(0,I.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(M){return{fulfilled:!1,reason:M}}});return function(v){return _.apply(this,arguments)}}()))}(pn);Y.ports[0].postMessage({status:"done",eventId:se,eventType:Ne,response:Rn})})()}_subscribe(v,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(M)}_unsubscribe(v,M){this.handlersMap[v]&&M&&this.handlersMap[v].delete(M),(!M||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function dc(C="",_=10){let v="";for(let M=0;M<_;M++)v+=Math.floor(10*Math.random());return C+v}class Ki{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,v,M=50){var Y=this;return(0,I.Z)(function*(){const se=typeof MessageChannel<"u"?new MessageChannel:null;if(!se)throw new Error("connection_unavailable");let Ne,st;return new Promise((wt,pn)=>{const Rn=dc("",20);se.port1.start();const vr=setTimeout(()=>{pn(new Error("unsupported_event"))},M);st={messageChannel:se,onMessage(po){const vl=po;if(vl.data.eventId===Rn)switch(vl.data.status){case"ack":clearTimeout(vr),Ne=setTimeout(()=>{pn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ne),wt(vl.data.response);break;default:clearTimeout(vr),clearTimeout(Ne),pn(new Error("invalid_response"))}}},Y.handlers.add(st),se.port1.addEventListener("message",st.onMessage),Y.target.postMessage({eventType:_,eventId:Rn,data:v},[se.port2])}).finally(()=>{st&&Y.removeMessageHandler(st)})})()}}function Si(){return window}function ts(){return typeof Si().WorkerGlobalScope<"u"&&"function"==typeof Si().importScripts}function hc(){return(hc=(0,I.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ku="firebaseLocalStorageDb",Do="firebaseLocalStorage",Qd="fbase_key";class fa{constructor(_){this.request=_}toPromise(){return new Promise((_,v)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function S(C,_){return C.transaction([Do],_?"readwrite":"readonly").objectStore(Do)}function w(){const C=indexedDB.open(ku,1);return new Promise((_,v)=>{C.addEventListener("error",()=>{v(C.error)}),C.addEventListener("upgradeneeded",()=>{const M=C.result;try{M.createObjectStore(Do,{keyPath:Qd})}catch(Y){v(Y)}}),C.addEventListener("success",(0,I.Z)(function*(){const M=C.result;M.objectStoreNames.contains(Do)?_(M):(M.close(),yield function N(){const C=indexedDB.deleteDatabase(ku);return new fa(C).toPromise()}(),_(yield w()))}))})}function k(C,_,v){return G.apply(this,arguments)}function G(){return(G=(0,I.Z)(function*(C,_,v){const M=S(C,!0).put({[Qd]:_,value:v});return new fa(M).toPromise()})).apply(this,arguments)}function Ee(){return(Ee=(0,I.Z)(function*(C,_){const v=S(C,!1).get(_),M=yield new fa(v).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function rt(C,_){const v=S(C,!0).delete(_);return new fa(v).toPromise()}const xr=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,I.Z)(function*(){return v.db||(v.db=yield w()),v.db})()}_withRetries(v){var M=this;return(0,I.Z)(function*(){let Y=0;for(;;)try{const se=yield M._openDb();return yield v(se)}catch(se){if(Y++>3)throw se;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,I.Z)(function*(){return ts()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,I.Z)(function*(){v.receiver=Wd._getInstance(function Yd(){return ts()?self:null}()),v.receiver._subscribe("keyChanged",function(){var M=(0,I.Z)(function*(Y,se){return{keyProcessed:(yield v._poll()).includes(se.key)}});return function(Y,se){return M.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var M=(0,I.Z)(function*(Y,se){return["keyChanged"]});return function(Y,se){return M.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,I.Z)(function*(){var M,Y;if(v.activeServiceWorker=yield function sl(){return hc.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Ki(v.activeServiceWorker);const se=yield v.sender._send("ping",{},800);se&&null!==(M=se[0])&&void 0!==M&&M.fulfilled&&null!==(Y=se[0])&&void 0!==Y&&Y.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var M=this;return(0,I.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function Kd(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:v},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,I.Z)(function*(){try{if(!indexedDB)return!1;const v=yield w();return yield k(v,qd,"1"),yield rt(v,qd),!0}catch{}return!1})()}_withPendingWrite(v){var M=this;return(0,I.Z)(function*(){M.pendingWrites++;try{yield v()}finally{M.pendingWrites--}})()}_set(v,M){var Y=this;return(0,I.Z)(function*(){return Y._withPendingWrite((0,I.Z)(function*(){return yield Y._withRetries(se=>k(se,v,M)),Y.localCache[v]=M,Y.notifyServiceWorker(v)}))})()}_get(v){var M=this;return(0,I.Z)(function*(){const Y=yield M._withRetries(se=>function re(C,_){return Ee.apply(this,arguments)}(se,v));return M.localCache[v]=Y,Y})()}_remove(v){var M=this;return(0,I.Z)(function*(){return M._withPendingWrite((0,I.Z)(function*(){return yield M._withRetries(Y=>rt(Y,v)),delete M.localCache[v],M.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,I.Z)(function*(){const M=yield v._withRetries(Ne=>{const st=S(Ne,!1).getAll();return new fa(st).toPromise()});if(!M)return[];if(0!==v.pendingWrites)return[];const Y=[],se=new Set;if(0!==M.length)for(const{fbase_key:Ne,value:st}of M)se.add(Ne),JSON.stringify(v.localCache[Ne])!==JSON.stringify(st)&&(v.notifyListeners(Ne,st),Y.push(Ne));for(const Ne of Object.keys(v.localCache))v.localCache[Ne]&&!se.has(Ne)&&(v.notifyListeners(Ne,null),Y.push(Ne));return Y})()}notifyListeners(v,M){this.localCache[v]=M;const Y=this.listeners[v];if(Y)for(const se of Array.from(Y))se(M)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,I.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(M)}_removeListener(v,M){this.listeners[v]&&(this.listeners[v].delete(M),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})(),ho=1e12;class Fu{constructor(_){this.auth=_,this.counter=ho,this._widgets=new Map}render(_,v){const M=this.counter;return this._widgets.set(M,new rs(_,this.auth.name,v||{})),this.counter++,M}reset(_){var v;const M=_||ho;null===(v=this._widgets.get(M))||void 0===v||v.delete(),this._widgets.delete(M)}getResponse(_){var v;return(null===(v=this._widgets.get(_||ho))||void 0===v?void 0:v.getResponse())||""}execute(_){var v=this;return(0,I.Z)(function*(){var M;return null===(M=v._widgets.get(_||ho))||void 0===M||M.execute(),""})()}}class rs{constructor(_,v,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Y="string"==typeof _?document.getElementById(_):_;de(Y,"argument-error",{appName:v}),this.container=Y,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function pa(C){const _=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<C;M++)_.push(v.charAt(Math.floor(62*Math.random())));return _.join("")}(50);const{callback:_,"expired-callback":v}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const hi=ec("rcb"),sf=new Pe(3e4,6e4);class Np{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=Si().grecaptcha)||void 0===_||!_.render)}load(_,v=""){return de(function Jd(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(v),_,"argument-error"),this.shouldResolveImmediately(v)&&mn(Si().grecaptcha)?Promise.resolve(Si().grecaptcha):new Promise((M,Y)=>{const se=Si().setTimeout(()=>{Y(Xe(_,"network-request-failed"))},sf.get());Si()[hi]=()=>{Si().clearTimeout(se),delete Si()[hi];const st=Si().grecaptcha;if(!st||!mn(st))return void Y(Xe(_,"internal-error"));const wt=st.render;st.render=(pn,Rn)=>{const vr=wt(pn,Rn);return this.counter++,vr},this.hostLanguage=v,M(st)},Br(`${function Ns(){return co.recaptchaV2Script}()}?${(0,W.xO)({onload:hi,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(se),Y(Xe(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var v;return!(null===(v=Si().grecaptcha)||void 0===v||!v.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ol{load(_){return(0,I.Z)(function*(){return new Fu(_)})()}clearedOneInstance(){}}const Go="recaptcha",ga={theme:"light",type:"image"};class Xd{constructor(_,v,M=Object.assign({},ga)){this.parameters=M,this.type=Go,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=mr(_),this.isInvisible="invisible"===this.parameters.size,de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Y="string"==typeof v?document.getElementById(v):v;de(Y,this.auth,"argument-error"),this.container=Y,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ol:new Np,this.validateStartingState()}verify(){var _=this;return(0,I.Z)(function*(){_.assertNotDestroyed();const v=yield _.render(),M=_.getAssertedRecaptcha();return M.getResponse(v)||new Promise(se=>{const Ne=st=>{st&&(_.tokenChangeListeners.delete(Ne),se(st))};_.tokenChangeListeners.add(Ne),_.isInvisible&&M.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){de(!this.parameters.sitekey,this.auth,"argument-error"),de(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return v=>{if(this.tokenChangeListeners.forEach(M=>M(v)),"function"==typeof _)_(v);else if("string"==typeof _){const M=Si()[_];"function"==typeof M&&M(v)}}}assertNotDestroyed(){de(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,I.Z)(function*(){if(yield _.init(),!_.widgetId){let v=_.container;if(!_.isInvisible){const M=document.createElement("div");v.appendChild(M),v=M}_.widgetId=_.getAssertedRecaptcha().render(v,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,I.Z)(function*(){de(_t()&&!ts(),_.auth,"internal-error"),yield function pc(){let C=null;return new Promise(_=>{"complete"!==document.readyState?(C=()=>_(),window.addEventListener("load",C)):_()}).catch(_=>{throw C&&window.removeEventListener("load",C),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const v=yield function li(C){return In.apply(this,arguments)}(_.auth);de(v,_.auth,"internal-error"),_.parameters.sitekey=v})()}getAssertedRecaptcha(){return de(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class af{constructor(_,v){this.verificationId=_,this.onConfirmation=v}confirm(_){const v=es._fromVerification(this.verificationId,_);return this.onConfirmation(v)}}function eh(C,_,v){return ma.apply(this,arguments)}function ma(){return(ma=(0,I.Z)(function*(C,_,v){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(et(C));const M=mr(C),Y=yield Lu(M,_,(0,W.m9)(v));return new af(Y,se=>Jc(M,se))})).apply(this,arguments)}function qo(C,_,v){return js.apply(this,arguments)}function js(){return(js=(0,I.Z)(function*(C,_,v){const M=(0,W.m9)(C);yield rc(!1,M,"phone");const Y=yield Lu(M.auth,_,(0,W.m9)(v));return new af(Y,se=>Ks(M,se))})).apply(this,arguments)}function _a(C,_,v){return th.apply(this,arguments)}function th(){return(th=(0,I.Z)(function*(C,_,v){const M=(0,W.m9)(C);if((0,u._isFirebaseServerApp)(M.auth.app))return Promise.reject(et(M.auth));const Y=yield Lu(M.auth,_,(0,W.m9)(v));return new af(Y,se=>jd(M,se))})).apply(this,arguments)}function Lu(C,_,v){return gc.apply(this,arguments)}function gc(){return gc=(0,I.Z)(function*(C,_,v){var M;const Y=yield v.verify();try{let se;if(de("string"==typeof Y,C,"argument-error"),de(v.type===Go,C,"argument-error"),se="string"==typeof _?{phoneNumber:_}:_,"session"in se){const Ne=se.session;if("phoneNumber"in se)return de("enroll"===Ne.type,C,"internal-error"),(yield function tf(C,_){return ft(C,"POST","/v2/accounts/mfaEnrollment:start",lt(C,_))}(C,{idToken:Ne.credential,phoneEnrollmentInfo:{phoneNumber:se.phoneNumber,recaptchaToken:Y}})).phoneSessionInfo.sessionInfo;{de("signin"===Ne.type,C,"internal-error");const st=(null===(M=se.multiFactorHint)||void 0===M?void 0:M.uid)||se.multiFactorUid;return de(st,C,"missing-multi-factor-info"),(yield function zn(C,_){return ft(C,"POST","/v2/accounts/mfaSignIn:start",lt(C,_))}(C,{mfaPendingCredential:Ne.credential,mfaEnrollmentId:st,phoneSignInInfo:{recaptchaToken:Y}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ne}=yield function ls(C,_){return Fs.apply(this,arguments)}(C,{phoneNumber:se.phoneNumber,recaptchaToken:Y});return Ne}}finally{v._reset()}}),gc.apply(this,arguments)}function mc(C,_){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,I.Z)(function*(C,_){const v=(0,W.m9)(C);if((0,u._isFirebaseServerApp)(v.auth.app))return Promise.reject(et(v.auth));yield Ru(v,_)})).apply(this,arguments)}let kp=(()=>{class C{constructor(v){this.providerId=C.PROVIDER_ID,this.auth=mr(v)}verifyPhoneNumber(v,M){return Lu(this.auth,v,(0,W.m9)(M))}static credential(v,M){return es._fromVerification(v,M)}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:M,temporaryProof:Y}=v;return M&&Y?es._fromTokenResponse(M,Y):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function Zo(C,_){return _?pt(_):(de(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class _c extends Ri{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return vi(_,this._buildIdpRequest())}_linkToIdToken(_,v){return vi(_,this._buildIdpRequest(v))}_getReauthenticationResolver(_){return vi(_,this._buildIdpRequest())}_buildIdpRequest(_){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(v.idToken=_),v}}function nh(C){return sc(C.auth,new _c(C),C.bypassAuthState)}function rh(C){const{auth:_,user:v}=C;return de(v,_,"internal-error"),ka(v,new _c(C),C.bypassAuthState)}function sm(C){return yc.apply(this,arguments)}function yc(){return(yc=(0,I.Z)(function*(C){const{auth:_,user:v}=C;return de(v,_,"internal-error"),Ru(v,new _c(C),C.bypassAuthState)})).apply(this,arguments)}class Xl{constructor(_,v,M,Y,se=!1){this.auth=_,this.resolver=M,this.user=Y,this.bypassAuthState=se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var _=this;return new Promise(function(){var v=(0,I.Z)(function*(M,Y){_.pendingPromise={resolve:M,reject:Y};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(se){_.reject(se)}});return function(M,Y){return v.apply(this,arguments)}}())}onAuthEvent(_){var v=this;return(0,I.Z)(function*(){const{urlResponse:M,sessionId:Y,postBody:se,tenantId:Ne,error:st,type:wt}=_;if(st)return void v.reject(st);const pn={auth:v.auth,requestUri:M,sessionId:Y,tenantId:Ne||void 0,postBody:se||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(wt)(pn))}catch(Rn){v.reject(Rn)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return nh;case"linkViaPopup":case"linkViaRedirect":return sm;case"reauthViaPopup":case"reauthViaRedirect":return rh;default:Be(this.auth,"internal-error")}}resolve(_){Ut(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){Ut(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const al=new Pe(2e3,1e4);function ih(C,_,v){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,I.Z)(function*(C,_,v){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(Xe(C,"operation-not-supported-in-this-environment"));const M=mr(C);vt(C,_,zr);const Y=Zo(M,v);return new ji(M,"signInViaPopup",_,Y).executeNotNull()})).apply(this,arguments)}function cl(C,_,v){return ya.apply(this,arguments)}function ya(){return(ya=(0,I.Z)(function*(C,_,v){const M=(0,W.m9)(C);if((0,u._isFirebaseServerApp)(M.auth.app))return Promise.reject(Xe(M.auth,"operation-not-supported-in-this-environment"));vt(M.auth,_,zr);const Y=Zo(M.auth,v);return new ji(M.auth,"reauthViaPopup",_,Y,M).executeNotNull()})).apply(this,arguments)}function Fp(C,_,v){return sh.apply(this,arguments)}function sh(){return(sh=(0,I.Z)(function*(C,_,v){const M=(0,W.m9)(C);vt(M.auth,_,zr);const Y=Zo(M.auth,v);return new ji(M.auth,"linkViaPopup",_,Y,M).executeNotNull()})).apply(this,arguments)}let ji=(()=>{class C extends Xl{constructor(v,M,Y,se,Ne){super(v,M,se,Ne),this.provider=Y,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var v=this;return(0,I.Z)(function*(){const M=yield v.execute();return de(M,v.auth,"internal-error"),M})()}onExecution(){var v=this;return(0,I.Z)(function*(){Ut(1===v.filter.length,"Popup operations only handle one event");const M=dc();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],M),v.authWindow.associatedEvent=M,v.resolver._originValidation(v.auth).catch(Y=>{v.reject(Y)}),v.resolver._isIframeWebStorageSupported(v.auth,Y=>{Y||v.reject(Xe(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Xe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const v=()=>{var M,Y;this.pollId=null!==(Y=null===(M=this.authWindow)||void 0===M?void 0:M.window)&&void 0!==Y&&Y.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Xe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,al.get())};v()}}return C.currentPopupAction=null,C})();const om="pendingRedirect",gs=new Map;class oh extends Xl{constructor(_,v,M=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,M),this.eventId=null}execute(){var _=()=>super.execute,v=this;return(0,I.Z)(function*(){let M=gs.get(v.auth._key());if(!M){try{const se=(yield function ah(C,_){return Mo.apply(this,arguments)}(v.resolver,v.auth))?yield _().call(v):null;M=()=>Promise.resolve(se)}catch(Y){M=()=>Promise.reject(Y)}gs.set(v.auth._key(),M)}return v.bypassAuthState||gs.set(v.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(_){var v=()=>super.onAuthEvent,M=this;return(0,I.Z)(function*(){if("signInViaRedirect"===_.type)return v().call(M,_);if("unknown"!==_.type){if(_.eventId){const Y=yield M.auth._redirectUserForId(_.eventId);if(Y)return M.user=Y,v().call(M,_);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,I.Z)(function*(){})()}cleanUp(){}}function Mo(){return(Mo=(0,I.Z)(function*(C,_){const v=lf(_),M=ul(C);if(!(yield M._isAvailable()))return!1;const Y="true"===(yield M._get(v));return yield M._remove(v),Y})).apply(this,arguments)}function Po(C,_){return ll.apply(this,arguments)}function ll(){return(ll=(0,I.Z)(function*(C,_){return ul(C)._set(lf(_),"true")})).apply(this,arguments)}function Ha(){gs.clear()}function cf(C,_){gs.set(C._key(),_)}function ul(C){return pt(C._redirectPersistence)}function lf(C){return Yt(om,C.config.apiKey,C.name)}function vc(C,_,v){return function Lp(C,_,v){return Vp.apply(this,arguments)}(C,_,v)}function Vp(){return(Vp=(0,I.Z)(function*(C,_,v){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(et(C));const M=mr(C);vt(C,_,zr),yield M._initializationPromise;const Y=Zo(M,v);return yield Po(Y,M),Y._openRedirect(M,_,"signInViaRedirect")})).apply(this,arguments)}function ch(C,_,v){return function dl(C,_,v){return lh.apply(this,arguments)}(C,_,v)}function lh(){return(lh=(0,I.Z)(function*(C,_,v){const M=(0,W.m9)(C);if(vt(M.auth,_,zr),(0,u._isFirebaseServerApp)(M.auth.app))return Promise.reject(et(M.auth));yield M.auth._initializationPromise;const Y=Zo(M.auth,v);yield Po(Y,M.auth);const se=yield va(M);return Y._openRedirect(M.auth,_,"reauthViaRedirect",se)})).apply(this,arguments)}function uf(C,_,v){return function Vu(C,_,v){return hl.apply(this,arguments)}(C,_,v)}function hl(){return(hl=(0,I.Z)(function*(C,_,v){const M=(0,W.m9)(C);vt(M.auth,_,zr),yield M.auth._initializationPromise;const Y=Zo(M.auth,v);yield rc(!1,M,_.providerId),yield Po(Y,M.auth);const se=yield va(M);return Y._openRedirect(M.auth,_,"linkViaRedirect",se)})).apply(this,arguments)}function V_(C,_){return ms.apply(this,arguments)}function ms(){return(ms=(0,I.Z)(function*(C,_){return yield mr(C)._initializationPromise,uh(C,_,!1)})).apply(this,arguments)}function uh(C,_){return fl.apply(this,arguments)}function fl(){return(fl=(0,I.Z)(function*(C,_,v=!1){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(et(C));const M=mr(C),Y=Zo(M,_),Ne=yield new oh(M,Y,v).execute();return Ne&&!v&&(delete Ne.user._redirectEventId,yield M._persistUserIfCurrent(Ne.user),yield M._setRedirectUser(null,_)),Ne})).apply(this,arguments)}function va(C){return pl.apply(this,arguments)}function pl(){return(pl=(0,I.Z)(function*(C){const _=dc(`${C.uid}:::`);return C._redirectEventId=_,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),_})).apply(this,arguments)}class eu{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let v=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(_,M)&&(v=!0,this.sendToConsumer(_,M),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function tu(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ic(C);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=_,v=!0)),v}sendToConsumer(_,v){var M;if(_.error&&!Ic(_)){const Y=(null===(M=_.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";v.onError(Xe(this.auth,Y))}else v.onAuthEvent(_)}isEventForConsumer(_,v){const M=null===v.eventId||!!_.eventId&&_.eventId===v.eventId;return v.filter.includes(_.type)&&M}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ec(_))}saveEventToCache(_){this.cachedEventUids.add(Ec(_)),this.lastProcessedEventTime=Date.now()}}function Ec(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(_=>_).join("-")}function Ic({type:C,error:_}){return"unknown"===C&&"auth/no-auth-event"===_?.code}function Up(C){return eo.apply(this,arguments)}function eo(){return(eo=(0,I.Z)(function*(C,_={}){return ft(C,"GET","/v1/projects",_)})).apply(this,arguments)}const Zr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Av=/^https?/;function hf(){return(hf=(0,I.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:_}=yield Up(C);for(const v of _)try{if(Dv(v))return}catch{}Be(C,"unauthorized-domain")})).apply(this,arguments)}function Dv(C){const _=Bn(),{protocol:v,hostname:M}=new URL(_);if(C.startsWith("chrome-extension://")){const Ne=new URL(C);return""===Ne.hostname&&""===M?"chrome-extension:"===v&&C.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===v&&Ne.hostname===M}if(!Av.test(v))return!1;if(Zr.test(C))return M===C;const Y=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(M)}const am=new Pe(3e4,6e4);function B_(){const C=Si().___jsl;if(C?.H)for(const _ of Object.keys(C.H))if(C.H[_].r=C.H[_].r||[],C.H[_].L=C.H[_].L||[],C.H[_].r=[...C.H[_].L],C.CP)for(let v=0;v<C.CP.length;v++)C.CP[v]=null}let Uu=null;const cm=new Pe(5e3,15e3),jp="__/auth/iframe",Hi="emulator/auth/iframe",bc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ff(C){const _=C.config;de(_.authDomain,C,"auth-domain-config-required");const v=_.emulator?fe(_,Hi):`https://${C.config.authDomain}/${jp}`,M={apiKey:_.apiKey,appName:C.name,v:u.SDK_VERSION},Y=Tc.get(C.config.apiHost);Y&&(M.eid=Y);const se=C._getFrameworks();return se.length&&(M.fw=se.join(",")),`${v}?${(0,W.xO)(M).slice(1)}`}function Cc(){return Cc=(0,I.Z)(function*(C){const _=yield function Bu(C){return Uu=Uu||function Bp(C){return new Promise((_,v)=>{var M,Y,se;function Ne(){B_(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{B_(),v(Xe(C,"network-request-failed"))},timeout:am.get()})}if(null!==(Y=null===(M=Si().gapi)||void 0===M?void 0:M.iframes)&&void 0!==Y&&Y.Iframe)_(gapi.iframes.getContext());else{if(null===(se=Si().gapi)||void 0===se||!se.load){const st=ec("iframefcb");return Si()[st]=()=>{gapi.load?Ne():v(Xe(C,"network-request-failed"))},Br(`${function Fi(){return co.gapiScript}()}?onload=${st}`).catch(wt=>v(wt))}Ne()}}).catch(_=>{throw Uu=null,_})}(C),Uu}(C),v=Si().gapi;return de(v,C,"internal-error"),_.open({where:document.body,url:ff(C),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bc,dontclear:!0},M=>new Promise(function(){var Y=(0,I.Z)(function*(se,Ne){yield M.restyle({setHideOnLeave:!1});const st=Xe(C,"network-request-failed"),wt=Si().setTimeout(()=>{Ne(st)},cm.get());function pn(){Si().clearTimeout(wt),se(M)}M.ping(pn).then(pn,()=>{Ne(st)})});return function(se,Ne){return Y.apply(this,arguments)}}()))}),Cc.apply(this,arguments)}const pf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class nu{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const $u="__/auth/handler",gl="emulator/auth/handler",Ko=encodeURIComponent("fac");function Yo(C,_,v,M,Y,se){return zu.apply(this,arguments)}function zu(){return(zu=(0,I.Z)(function*(C,_,v,M,Y,se){de(C.config.authDomain,C,"auth-domain-config-required"),de(C.config.apiKey,C,"invalid-api-key");const Ne={apiKey:C.config.apiKey,appName:C.name,authType:v,redirectUrl:M,v:u.SDK_VERSION,eventId:Y};if(_ instanceof zr){_.setDefaultLanguage(C.languageCode),Ne.providerId=_.providerId||"",(0,W.xb)(_.getCustomParameters())||(Ne.customParameters=JSON.stringify(_.getCustomParameters()));for(const[Rn,vr]of Object.entries(se||{}))Ne[Rn]=vr}if(_ instanceof ae){const Rn=_.getScopes().filter(vr=>""!==vr);Rn.length>0&&(Ne.scopes=Rn.join(","))}C.tenantId&&(Ne.tid=C.tenantId);const st=Ne;for(const Rn of Object.keys(st))void 0===st[Rn]&&delete st[Rn];const wt=yield C._getAppCheckToken(),pn=wt?`#${Ko}=${encodeURIComponent(wt)}`:"";return`${function mf({config:C}){return C.emulator?fe(C,gl):`https://${C.authDomain}/${$u}`}(C)}?${(0,W.xO)(st).slice(1)}${pn}`})).apply(this,arguments)}const ml="webStorageSupport",yf=class _f{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=St,this._completeRedirectFn=uh,this._overrideRedirectResult=cf}_openPopup(_,v,M,Y){var se=this;return(0,I.Z)(function*(){var Ne;Ut(null===(Ne=se.eventManagers[_._key()])||void 0===Ne?void 0:Ne.manager,"_initialize() not called before _openPopup()");const st=yield Yo(_,v,M,Bn(),Y);return function $p(C,_,v,M=500,Y=600){const se=Math.max((window.screen.availHeight-Y)/2,0).toString(),Ne=Math.max((window.screen.availWidth-M)/2,0).toString();let st="";const wt=Object.assign(Object.assign({},pf),{width:M.toString(),height:Y.toString(),top:se,left:Ne}),pn=(0,W.z$)().toLowerCase();v&&(st=xs(pn)?"_blank":v),Sn(pn)&&(_=_||"http://localhost",wt.scrollbars="yes");const Rn=Object.entries(wt).reduce((po,[vl,Or])=>`${po}${vl}=${Or},`,"");if(function Zs(C=(0,W.z$)()){var _;return ki(C)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(pn)&&"_self"!==st)return function fo(C,_){const v=document.createElement("a");v.href=C,v.target=_;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(M)}(_||"",st),new nu(null);const vr=window.open(_||"",st,Rn);de(vr,C,"popup-blocked");try{vr.focus()}catch{}return new nu(vr)}(_,st,dc())})()}_openRedirect(_,v,M,Y){var se=this;return(0,I.Z)(function*(){return yield se._originValidation(_),function Ql(C){Si().location.href=C}(yield Yo(_,v,M,Bn(),Y)),new Promise(()=>{})})()}_initialize(_){const v=_._key();if(this.eventManagers[v]){const{manager:Y,promise:se}=this.eventManagers[v];return Y?Promise.resolve(Y):(Ut(se,"If manager is not set, promise should be"),se)}const M=this.initAndGetManager(_);return this.eventManagers[v]={promise:M},M.catch(()=>{delete this.eventManagers[v]}),M}initAndGetManager(_){var v=this;return(0,I.Z)(function*(){const M=yield function to(C){return Cc.apply(this,arguments)}(_),Y=new eu(_);return M.register("authEvent",se=>(de(se?.authEvent,_,"invalid-auth-event"),{status:Y.onEvent(se.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[_._key()]={manager:Y},v.iframes[_._key()]=M,Y})()}_isIframeWebStorageSupported(_,v){this.iframes[_._key()].send(ml,{type:ml},Y=>{var se;const Ne=null===(se=Y?.[0])||void 0===se?void 0:se[ml];void 0!==Ne&&v(!!Ne),Be(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const v=_._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function U_(C){return hf.apply(this,arguments)}(_)),this.originValidationPromises[v]}get _shouldInitProactively(){return Ra()||yi()||ki()}};class j_{constructor(_){this.factorId=_}_process(_,v,M){switch(v.type){case"enroll":return this._finalizeEnroll(_,v.credential,M);case"signin":return this._finalizeSignIn(_,v.credential);default:return gt("unexpected MultiFactorSessionType")}}}class ru extends j_{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new ru(_)}_finalizeEnroll(_,v,M){return function xp(C,_){return ft(C,"POST","/v2/accounts/mfaEnrollment:finalize",lt(C,_))}(_,{idToken:v,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,v){return function ns(C,_){return ft(C,"POST","/v2/accounts/mfaSignIn:finalize",lt(C,_))}(_,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let vf=(()=>{class C{constructor(){}static assertion(v){return ru._fromCredential(v)}}return C.FACTOR_ID="phone",C})();var dh="@firebase/auth";class Gu{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var v=this;return(0,I.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const v=this.auth.onIdTokenChanged(M=>{_(M?.stsTokenManager.accessToken||null)});this.internalListeners.set(_,v),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const v=this.internalListeners.get(_);v&&(this.internalListeners.delete(_),v(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,W.Pz)("authIdTokenMaxAge"),function zi(C){co=C}({loadJS:C=>new Promise((_,v)=>{const M=document.createElement("script");M.setAttribute("src",C),M.onload=_,M.onerror=Y=>{const se=Xe("internal-error");se.customData=Y,v(se)},M.type="text/javascript",M.charset="UTF-8",function um(){var C,_;return null!==(_=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==_?_:document}().appendChild(M)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Ef(C){(0,u._registerComponent)(new we.wA("auth",(_,{options:v})=>{const M=_.getProvider("app").getImmediate(),Y=_.getProvider("heartbeat"),se=_.getProvider("app-check-internal"),{apiKey:Ne,authDomain:st}=M.options;de(Ne&&!Ne.includes(":"),"invalid-api-key",{appName:M.name});const wt={apiKey:Ne,authDomain:st,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yi(C)},pn=new Oa(M,Y,se,wt);return function oa(C,_){const v=_?.persistence||[],M=(Array.isArray(v)?v:[v]).map(pt);_?.errorMap&&C._updateErrorMap(_.errorMap),C._initializeWithPersistence(M,_?.popupRedirectResolver)}(pn,v),pn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,v,M)=>{_.getProvider("auth-internal").initialize()})),(0,u._registerComponent)(new we.wA("auth-internal",_=>{const v=mr(_.getProvider("auth").getImmediate());return new Gu(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,u.registerVersion)(dh,"1.7.4",function qu(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(C)),(0,u.registerVersion)(dh,"1.7.4","esm2017")}("Browser")},5588:(zt,$e,j)=>{j.d($e,{u7:()=>uy,Jj:()=>cd,IX:()=>xo,my:()=>_i,xU:()=>Ol,Lz:()=>mu,WA:()=>fe,F8:()=>vg,$q:()=>wa,W:()=>Nl,EK:()=>vn,PU:()=>Wa,l7:()=>An,Ky:()=>Ot,Xb:()=>On,Cf:()=>Xn,K9:()=>Wt,Me:()=>sa,yq:()=>Ut,Wi:()=>ry,ET:()=>gy,Ab:()=>Xf,vr:()=>jh,Fc:()=>yg,hJ:()=>xm,B$:()=>kc,at:()=>Rm,oe:()=>Vc,AK:()=>Ty,TF:()=>$v,JU:()=>Hv,ST:()=>_g,fH:()=>qa,Ix:()=>h0,Wu:()=>Uh,Lx:()=>ly,qY:()=>Mi,GL:()=>Ti,QT:()=>py,kl:()=>$m,Xk:()=>Eu,PL:()=>zm,UQ:()=>Xv,zN:()=>_0,ad:()=>Gf,nP:()=>Cy,b9:()=>Jv,vh:()=>Tg,Pb:()=>oy,L$:()=>f0,cf:()=>Jo,sc:()=>my,Xo:()=>Um,IO:()=>Fm,iE:()=>Om,Eo:()=>pg,i3:()=>Wm,Bt:()=>Jf,pl:()=>eE,Ub:()=>ze,qK:()=>Aa,TQ:()=>Qf,e0:()=>fd,r7:()=>Gm,Mx:()=>d0,ar:()=>Lm});var Ce,De,I=j(5861),u=j(4303),W=j(4537),ve=j(7879),_e=j(9058),we=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},he={};(function(){var d;function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function f(He,Ae,Fe){Fe||(Fe=0);var Ge=Array(16);if("string"==typeof Ae)for(var Qe=0;16>Qe;++Qe)Ge[Qe]=Ae.charCodeAt(Fe++)|Ae.charCodeAt(Fe++)<<8|Ae.charCodeAt(Fe++)<<16|Ae.charCodeAt(Fe++)<<24;else for(Qe=0;16>Qe;++Qe)Ge[Qe]=Ae[Fe++]|Ae[Fe++]<<8|Ae[Fe++]<<16|Ae[Fe++]<<24;var ot=He.g[3],Re=(Ae=He.g[0])+(ot^(Fe=He.g[1])&((Qe=He.g[2])^ot))+Ge[0]+3614090360&4294967295;Re=(Fe=(Qe=(ot=(Ae=(Fe=(Qe=(ot=(Ae=(Fe=(Qe=(ot=(Ae=(Fe=(Qe=(ot=(Ae=(Fe=(Qe=(ot=(Ae=(Fe=(Qe=(ot=(Ae=(Fe=(Qe=(ot=(Ae=(Fe=(Qe=(ot=(Ae=(Fe=(Qe=(ot=(Ae=(Fe=(Qe=(ot=(Ae=(Fe=(Qe=(ot=(Ae=(Fe=(Qe=(ot=(Ae=(Fe=(Qe=(ot=(Ae=(Fe=(Qe=(ot=(Ae=(Fe=(Qe=(ot=(Ae=Fe+(Re<<7&4294967295|Re>>>25))+((Re=ot+(Qe^Ae&(Fe^Qe))+Ge[1]+3905402710&4294967295)<<12&4294967295|Re>>>20))+((Re=Qe+(Fe^ot&(Ae^Fe))+Ge[2]+606105819&4294967295)<<17&4294967295|Re>>>15))+((Re=Fe+(Ae^Qe&(ot^Ae))+Ge[3]+3250441966&4294967295)<<22&4294967295|Re>>>10))+((Re=Ae+(ot^Fe&(Qe^ot))+Ge[4]+4118548399&4294967295)<<7&4294967295|Re>>>25))+((Re=ot+(Qe^Ae&(Fe^Qe))+Ge[5]+1200080426&4294967295)<<12&4294967295|Re>>>20))+((Re=Qe+(Fe^ot&(Ae^Fe))+Ge[6]+2821735955&4294967295)<<17&4294967295|Re>>>15))+((Re=Fe+(Ae^Qe&(ot^Ae))+Ge[7]+4249261313&4294967295)<<22&4294967295|Re>>>10))+((Re=Ae+(ot^Fe&(Qe^ot))+Ge[8]+1770035416&4294967295)<<7&4294967295|Re>>>25))+((Re=ot+(Qe^Ae&(Fe^Qe))+Ge[9]+2336552879&4294967295)<<12&4294967295|Re>>>20))+((Re=Qe+(Fe^ot&(Ae^Fe))+Ge[10]+4294925233&4294967295)<<17&4294967295|Re>>>15))+((Re=Fe+(Ae^Qe&(ot^Ae))+Ge[11]+2304563134&4294967295)<<22&4294967295|Re>>>10))+((Re=Ae+(ot^Fe&(Qe^ot))+Ge[12]+1804603682&4294967295)<<7&4294967295|Re>>>25))+((Re=ot+(Qe^Ae&(Fe^Qe))+Ge[13]+4254626195&4294967295)<<12&4294967295|Re>>>20))+((Re=Qe+(Fe^ot&(Ae^Fe))+Ge[14]+2792965006&4294967295)<<17&4294967295|Re>>>15))+((Re=Fe+(Ae^Qe&(ot^Ae))+Ge[15]+1236535329&4294967295)<<22&4294967295|Re>>>10))+((Re=Ae+(Qe^ot&(Fe^Qe))+Ge[1]+4129170786&4294967295)<<5&4294967295|Re>>>27))+((Re=ot+(Fe^Qe&(Ae^Fe))+Ge[6]+3225465664&4294967295)<<9&4294967295|Re>>>23))+((Re=Qe+(Ae^Fe&(ot^Ae))+Ge[11]+643717713&4294967295)<<14&4294967295|Re>>>18))+((Re=Fe+(ot^Ae&(Qe^ot))+Ge[0]+3921069994&4294967295)<<20&4294967295|Re>>>12))+((Re=Ae+(Qe^ot&(Fe^Qe))+Ge[5]+3593408605&4294967295)<<5&4294967295|Re>>>27))+((Re=ot+(Fe^Qe&(Ae^Fe))+Ge[10]+38016083&4294967295)<<9&4294967295|Re>>>23))+((Re=Qe+(Ae^Fe&(ot^Ae))+Ge[15]+3634488961&4294967295)<<14&4294967295|Re>>>18))+((Re=Fe+(ot^Ae&(Qe^ot))+Ge[4]+3889429448&4294967295)<<20&4294967295|Re>>>12))+((Re=Ae+(Qe^ot&(Fe^Qe))+Ge[9]+568446438&4294967295)<<5&4294967295|Re>>>27))+((Re=ot+(Fe^Qe&(Ae^Fe))+Ge[14]+3275163606&4294967295)<<9&4294967295|Re>>>23))+((Re=Qe+(Ae^Fe&(ot^Ae))+Ge[3]+4107603335&4294967295)<<14&4294967295|Re>>>18))+((Re=Fe+(ot^Ae&(Qe^ot))+Ge[8]+1163531501&4294967295)<<20&4294967295|Re>>>12))+((Re=Ae+(Qe^ot&(Fe^Qe))+Ge[13]+2850285829&4294967295)<<5&4294967295|Re>>>27))+((Re=ot+(Fe^Qe&(Ae^Fe))+Ge[2]+4243563512&4294967295)<<9&4294967295|Re>>>23))+((Re=Qe+(Ae^Fe&(ot^Ae))+Ge[7]+1735328473&4294967295)<<14&4294967295|Re>>>18))+((Re=Fe+(ot^Ae&(Qe^ot))+Ge[12]+2368359562&4294967295)<<20&4294967295|Re>>>12))+((Re=Ae+(Fe^Qe^ot)+Ge[5]+4294588738&4294967295)<<4&4294967295|Re>>>28))+((Re=ot+(Ae^Fe^Qe)+Ge[8]+2272392833&4294967295)<<11&4294967295|Re>>>21))+((Re=Qe+(ot^Ae^Fe)+Ge[11]+1839030562&4294967295)<<16&4294967295|Re>>>16))+((Re=Fe+(Qe^ot^Ae)+Ge[14]+4259657740&4294967295)<<23&4294967295|Re>>>9))+((Re=Ae+(Fe^Qe^ot)+Ge[1]+2763975236&4294967295)<<4&4294967295|Re>>>28))+((Re=ot+(Ae^Fe^Qe)+Ge[4]+1272893353&4294967295)<<11&4294967295|Re>>>21))+((Re=Qe+(ot^Ae^Fe)+Ge[7]+4139469664&4294967295)<<16&4294967295|Re>>>16))+((Re=Fe+(Qe^ot^Ae)+Ge[10]+3200236656&4294967295)<<23&4294967295|Re>>>9))+((Re=Ae+(Fe^Qe^ot)+Ge[13]+681279174&4294967295)<<4&4294967295|Re>>>28))+((Re=ot+(Ae^Fe^Qe)+Ge[0]+3936430074&4294967295)<<11&4294967295|Re>>>21))+((Re=Qe+(ot^Ae^Fe)+Ge[3]+3572445317&4294967295)<<16&4294967295|Re>>>16))+((Re=Fe+(Qe^ot^Ae)+Ge[6]+76029189&4294967295)<<23&4294967295|Re>>>9))+((Re=Ae+(Fe^Qe^ot)+Ge[9]+3654602809&4294967295)<<4&4294967295|Re>>>28))+((Re=ot+(Ae^Fe^Qe)+Ge[12]+3873151461&4294967295)<<11&4294967295|Re>>>21))+((Re=Qe+(ot^Ae^Fe)+Ge[15]+530742520&4294967295)<<16&4294967295|Re>>>16))+((Re=Fe+(Qe^ot^Ae)+Ge[2]+3299628645&4294967295)<<23&4294967295|Re>>>9))+((Re=Ae+(Qe^(Fe|~ot))+Ge[0]+4096336452&4294967295)<<6&4294967295|Re>>>26))+((Re=ot+(Fe^(Ae|~Qe))+Ge[7]+1126891415&4294967295)<<10&4294967295|Re>>>22))+((Re=Qe+(Ae^(ot|~Fe))+Ge[14]+2878612391&4294967295)<<15&4294967295|Re>>>17))+((Re=Fe+(ot^(Qe|~Ae))+Ge[5]+4237533241&4294967295)<<21&4294967295|Re>>>11))+((Re=Ae+(Qe^(Fe|~ot))+Ge[12]+1700485571&4294967295)<<6&4294967295|Re>>>26))+((Re=ot+(Fe^(Ae|~Qe))+Ge[3]+2399980690&4294967295)<<10&4294967295|Re>>>22))+((Re=Qe+(Ae^(ot|~Fe))+Ge[10]+4293915773&4294967295)<<15&4294967295|Re>>>17))+((Re=Fe+(ot^(Qe|~Ae))+Ge[1]+2240044497&4294967295)<<21&4294967295|Re>>>11))+((Re=Ae+(Qe^(Fe|~ot))+Ge[8]+1873313359&4294967295)<<6&4294967295|Re>>>26))+((Re=ot+(Fe^(Ae|~Qe))+Ge[15]+4264355552&4294967295)<<10&4294967295|Re>>>22))+((Re=Qe+(Ae^(ot|~Fe))+Ge[6]+2734768916&4294967295)<<15&4294967295|Re>>>17))+((Re=Fe+(ot^(Qe|~Ae))+Ge[13]+1309151649&4294967295)<<21&4294967295|Re>>>11))+((ot=(Ae=Fe+((Re=Ae+(Qe^(Fe|~ot))+Ge[4]+4149444226&4294967295)<<6&4294967295|Re>>>26))+((Re=ot+(Fe^(Ae|~Qe))+Ge[11]+3174756917&4294967295)<<10&4294967295|Re>>>22))^((Qe=ot+((Re=Qe+(Ae^(ot|~Fe))+Ge[2]+718787259&4294967295)<<15&4294967295|Re>>>17))|~Ae))+Ge[9]+3951481745&4294967295,He.g[0]=He.g[0]+Ae&4294967295,He.g[1]=He.g[1]+(Qe+(Re<<21&4294967295|Re>>>11))&4294967295,He.g[2]=He.g[2]+Qe&4294967295,He.g[3]=He.g[3]+ot&4294967295}function b(He,Ae){this.h=Ae;for(var Fe=[],Ge=!0,Qe=He.length-1;0<=Qe;Qe--){var ot=0|He[Qe];Ge&&ot==Ae||(Fe[Qe]=ot,Ge=!1)}this.g=Fe}(function e(He,Ae){function Fe(){}Fe.prototype=Ae.prototype,He.D=Ae.prototype,He.prototype=new Fe,He.prototype.constructor=He,He.C=function(Ge,Qe,ot){for(var Re=Array(arguments.length-2),Ya=2;Ya<arguments.length;Ya++)Re[Ya-2]=arguments[Ya];return Ae.prototype[Qe].apply(Ge,Re)}})(a,function r(){this.blockSize=-1}),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},a.prototype.u=function(He,Ae){void 0===Ae&&(Ae=He.length);for(var Fe=Ae-this.blockSize,Ge=this.B,Qe=this.h,ot=0;ot<Ae;){if(0==Qe)for(;ot<=Fe;)f(this,He,ot),ot+=this.blockSize;if("string"==typeof He){for(;ot<Ae;)if(Ge[Qe++]=He.charCodeAt(ot++),Qe==this.blockSize){f(this,Ge),Qe=0;break}}else for(;ot<Ae;)if(Ge[Qe++]=He[ot++],Qe==this.blockSize){f(this,Ge),Qe=0;break}}this.h=Qe,this.o+=Ae},a.prototype.v=function(){var He=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);He[0]=128;for(var Ae=1;Ae<He.length-8;++Ae)He[Ae]=0;var Fe=8*this.o;for(Ae=He.length-8;Ae<He.length;++Ae)He[Ae]=255&Fe,Fe/=256;for(this.u(He),He=Array(16),Ae=Fe=0;4>Ae;++Ae)for(var Ge=0;32>Ge;Ge+=8)He[Fe++]=this.g[Ae]>>>Ge&255;return He};var x={};function L(He){return-128<=He&&128>He?function y(He,Ae){var Fe=x;return Object.prototype.hasOwnProperty.call(Fe,He)?Fe[He]:Fe[He]=Ae(He)}(He,function(Ae){return new b([0|Ae],0>Ae?-1:0)}):new b([0|He],0>He?-1:0)}function q(He){if(isNaN(He)||!isFinite(He))return pe;if(0>He)return At(q(-He));for(var Ae=[],Fe=1,Ge=0;He>=Fe;Ge++)Ae[Ge]=He/Fe|0,Fe*=4294967296;return new b(Ae,0)}var pe=L(0),Se=L(1),tt=L(16777216);function Dt(He){if(0!=He.h)return!1;for(var Ae=0;Ae<He.g.length;Ae++)if(0!=He.g[Ae])return!1;return!0}function jt(He){return-1==He.h}function At(He){for(var Ae=He.g.length,Fe=[],Ge=0;Ge<Ae;Ge++)Fe[Ge]=~He.g[Ge];return new b(Fe,~He.h).add(Se)}function yn(He,Ae){return He.add(At(Ae))}function xn(He,Ae){for(;(65535&He[Ae])!=He[Ae];)He[Ae+1]+=He[Ae]>>>16,He[Ae]&=65535,Ae++}function Tn(He,Ae){this.g=He,this.h=Ae}function sr(He,Ae){if(Dt(Ae))throw Error("division by zero");if(Dt(He))return new Tn(pe,pe);if(jt(He))return Ae=sr(At(He),Ae),new Tn(At(Ae.g),At(Ae.h));if(jt(Ae))return Ae=sr(He,At(Ae)),new Tn(At(Ae.g),Ae.h);if(30<He.g.length){if(jt(He)||jt(Ae))throw Error("slowDivide_ only works with positive integers.");for(var Fe=Se,Ge=Ae;0>=Ge.l(He);)Fe=Vr(Fe),Ge=Vr(Ge);var Qe=nr(Fe,1),ot=nr(Ge,1);for(Ge=nr(Ge,2),Fe=nr(Fe,2);!Dt(Ge);){var Re=ot.add(Ge);0>=Re.l(He)&&(Qe=Qe.add(Fe),ot=Re),Ge=nr(Ge,1),Fe=nr(Fe,1)}return Ae=yn(He,Qe.j(Ae)),new Tn(Qe,Ae)}for(Qe=pe;0<=He.l(Ae);){for(Fe=Math.max(1,Math.floor(He.m()/Ae.m())),Ge=48>=(Ge=Math.ceil(Math.log(Fe)/Math.LN2))?1:Math.pow(2,Ge-48),Re=(ot=q(Fe)).j(Ae);jt(Re)||0<Re.l(He);)Re=(ot=q(Fe-=Ge)).j(Ae);Dt(ot)&&(ot=Se),Qe=Qe.add(ot),He=yn(He,Re)}return new Tn(Qe,He)}function Vr(He){for(var Ae=He.g.length+1,Fe=[],Ge=0;Ge<Ae;Ge++)Fe[Ge]=He.i(Ge)<<1|He.i(Ge-1)>>>31;return new b(Fe,He.h)}function nr(He,Ae){var Fe=Ae>>5;Ae%=32;for(var Ge=He.g.length-Fe,Qe=[],ot=0;ot<Ge;ot++)Qe[ot]=0<Ae?He.i(ot+Fe)>>>Ae|He.i(ot+Fe+1)<<32-Ae:He.i(ot+Fe);return new b(Qe,He.h)}(d=b.prototype).m=function(){if(jt(this))return-At(this).m();for(var He=0,Ae=1,Fe=0;Fe<this.g.length;Fe++){var Ge=this.i(Fe);He+=(0<=Ge?Ge:4294967296+Ge)*Ae,Ae*=4294967296}return He},d.toString=function(He){if(2>(He=He||10)||36<He)throw Error("radix out of range: "+He);if(Dt(this))return"0";if(jt(this))return"-"+At(this).toString(He);for(var Ae=q(Math.pow(He,6)),Fe=this,Ge="";;){var Qe=sr(Fe,Ae).g,ot=((0<(Fe=yn(Fe,Qe.j(Ae))).g.length?Fe.g[0]:Fe.h)>>>0).toString(He);if(Dt(Fe=Qe))return ot+Ge;for(;6>ot.length;)ot="0"+ot;Ge=ot+Ge}},d.i=function(He){return 0>He?0:He<this.g.length?this.g[He]:this.h},d.l=function(He){return jt(He=yn(this,He))?-1:Dt(He)?0:1},d.abs=function(){return jt(this)?At(this):this},d.add=function(He){for(var Ae=Math.max(this.g.length,He.g.length),Fe=[],Ge=0,Qe=0;Qe<=Ae;Qe++){var ot=Ge+(65535&this.i(Qe))+(65535&He.i(Qe)),Re=(ot>>>16)+(this.i(Qe)>>>16)+(He.i(Qe)>>>16);Ge=Re>>>16,Fe[Qe]=(Re&=65535)<<16|(ot&=65535)}return new b(Fe,-2147483648&Fe[Fe.length-1]?-1:0)},d.j=function(He){if(Dt(this)||Dt(He))return pe;if(jt(this))return jt(He)?At(this).j(At(He)):At(At(this).j(He));if(jt(He))return At(this.j(At(He)));if(0>this.l(tt)&&0>He.l(tt))return q(this.m()*He.m());for(var Ae=this.g.length+He.g.length,Fe=[],Ge=0;Ge<2*Ae;Ge++)Fe[Ge]=0;for(Ge=0;Ge<this.g.length;Ge++)for(var Qe=0;Qe<He.g.length;Qe++){var ot=this.i(Ge)>>>16,Re=65535&this.i(Ge),Ya=He.i(Qe)>>>16,$h=65535&He.i(Qe);Fe[2*Ge+2*Qe]+=Re*$h,xn(Fe,2*Ge+2*Qe),Fe[2*Ge+2*Qe+1]+=ot*$h,xn(Fe,2*Ge+2*Qe+1),Fe[2*Ge+2*Qe+1]+=Re*Ya,xn(Fe,2*Ge+2*Qe+1),Fe[2*Ge+2*Qe+2]+=ot*Ya,xn(Fe,2*Ge+2*Qe+2)}for(Ge=0;Ge<Ae;Ge++)Fe[Ge]=Fe[2*Ge+1]<<16|Fe[2*Ge];for(Ge=Ae;Ge<2*Ae;Ge++)Fe[Ge]=0;return new b(Fe,0)},d.A=function(He){return sr(this,He).h},d.and=function(He){for(var Ae=Math.max(this.g.length,He.g.length),Fe=[],Ge=0;Ge<Ae;Ge++)Fe[Ge]=this.i(Ge)&He.i(Ge);return new b(Fe,this.h&He.h)},d.or=function(He){for(var Ae=Math.max(this.g.length,He.g.length),Fe=[],Ge=0;Ge<Ae;Ge++)Fe[Ge]=this.i(Ge)|He.i(Ge);return new b(Fe,this.h|He.h)},d.xor=function(He){for(var Ae=Math.max(this.g.length,He.g.length),Fe=[],Ge=0;Ge<Ae;Ge++)Fe[Ge]=this.i(Ge)^He.i(Ge);return new b(Fe,this.h^He.h)},a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,De=he.Md5=a,b.prototype.add=b.prototype.add,b.prototype.multiply=b.prototype.j,b.prototype.modulo=b.prototype.A,b.prototype.compare=b.prototype.l,b.prototype.toNumber=b.prototype.m,b.prototype.toString=b.prototype.toString,b.prototype.getBits=b.prototype.i,b.fromNumber=q,b.fromString=function ne(He,Ae){if(0==He.length)throw Error("number format error: empty string");if(2>(Ae=Ae||10)||36<Ae)throw Error("radix out of range: "+Ae);if("-"==He.charAt(0))return At(ne(He.substring(1),Ae));if(0<=He.indexOf("-"))throw Error('number format error: interior "-" character');for(var Fe=q(Math.pow(Ae,8)),Ge=pe,Qe=0;Qe<He.length;Qe+=8){var ot=Math.min(8,He.length-Qe),Re=parseInt(He.substring(Qe,Qe+ot),Ae);8>ot?(ot=q(Math.pow(Ae,ot)),Ge=Ge.j(ot).add(q(Re))):Ge=(Ge=Ge.j(Fe)).add(q(Re))}return Ge},Ce=he.Integer=b}).apply(typeof we<"u"?we:typeof self<"u"?self:typeof window<"u"?window:{});var Me,ut,Je,Mt,dt,Ct,mt,Xt,qe,ue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ge={};(function(){var d,e="function"==typeof Object.defineProperties?Object.defineProperty:function(E,V,K){return E==Array.prototype||E==Object.prototype||(E[V]=K.value),E},a=function r(E){E=["object"==typeof globalThis&&globalThis,E,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ue&&ue];for(var V=0;V<E.length;++V){var K=E[V];if(K&&K.Math==Math)return K}throw Error("Cannot find global object")}(this);!function f(E,V){if(V)e:{var K=a;E=E.split(".");for(var le=0;le<E.length-1;le++){var Ze=E[le];if(!(Ze in K))break e;K=K[Ze]}(V=V(le=K[E=E[E.length-1]]))!=le&&null!=V&&e(K,E,{configurable:!0,writable:!0,value:V})}}("Array.prototype.values",function(E){return E||function(){return function y(E,V){E instanceof String&&(E+="");var K=0,le=!1,Ze={next:function(){if(!le&&K<E.length){var ht=K++;return{value:V(ht,E[ht]),done:!1}}return le=!0,{done:!0,value:void 0}}};return Ze[Symbol.iterator]=function(){return Ze},Ze}(this,function(V,K){return K})}});var b=b||{},x=this||self;function L(E){var V=typeof E;return"array"==(V="object"!=V?V:E?Array.isArray(E)?"array":V:"null")||"object"==V&&"number"==typeof E.length}function q(E){var V=typeof E;return"object"==V&&null!=E||"function"==V}function ne(E,V,K){return E.call.apply(E.bind,arguments)}function pe(E,V,K){if(!E)throw Error();if(2<arguments.length){var le=Array.prototype.slice.call(arguments,2);return function(){var Ze=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ze,le),E.apply(V,Ze)}}return function(){return E.apply(V,arguments)}}function Se(E,V,K){return(Se=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ne:pe).apply(null,arguments)}function tt(E,V){var K=Array.prototype.slice.call(arguments,1);return function(){var le=K.slice();return le.push.apply(le,arguments),E.apply(this,le)}}function Dt(E,V){function K(){}K.prototype=V.prototype,E.aa=V.prototype,E.prototype=new K,E.prototype.constructor=E,E.Qb=function(le,Ze,ht){for(var rn=Array(arguments.length-2),fi=2;fi<arguments.length;fi++)rn[fi-2]=arguments[fi];return V.prototype[Ze].apply(le,rn)}}function jt(E){const V=E.length;if(0<V){const K=Array(V);for(let le=0;le<V;le++)K[le]=E[le];return K}return[]}function At(E,V){for(let K=1;K<arguments.length;K++){const le=arguments[K];if(L(le)){const Ze=E.length||0,ht=le.length||0;E.length=Ze+ht;for(let rn=0;rn<ht;rn++)E[Ze+rn]=le[rn]}else E.push(le)}}function xn(E){return/^[\s\xa0]*$/.test(E)}function Tn(){var E=x.navigator;return E&&(E=E.userAgent)?E:""}function sr(E){return sr[" "](E),E}sr[" "]=function(){};var Vr=!(-1==Tn().indexOf("Gecko")||-1!=Tn().toLowerCase().indexOf("webkit")&&-1==Tn().indexOf("Edge")||-1!=Tn().indexOf("Trident")||-1!=Tn().indexOf("MSIE")||-1!=Tn().indexOf("Edge"));function nr(E,V,K){for(const le in E)V.call(K,E[le],le,E)}function Ae(E){const V={};for(const K in E)V[K]=E[K];return V}const Fe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ge(E,V){let K,le;for(let Ze=1;Ze<arguments.length;Ze++){for(K in le=arguments[Ze],le)E[K]=le[K];for(let ht=0;ht<Fe.length;ht++)K=Fe[ht],Object.prototype.hasOwnProperty.call(le,K)&&(E[K]=le[K])}}function Qe(E){var V=1;E=E.split(":");const K=[];for(;0<V&&E.length;)K.push(E.shift()),V--;return E.length&&K.push(E.join(":")),K}function ot(E){x.setTimeout(()=>{throw E},0)}function Re(){var E=Dy;let V=null;return E.g&&(V=E.g,E.g=E.g.next,E.g||(E.h=null),V.next=null),V}var $h=new class yn{constructor(V,K){this.i=V,this.j=K,this.h=0,this.g=null}get(){let V;return 0<this.h?(this.h--,V=this.g,this.g=V.next,V.next=null):V=this.i(),V}}(()=>new Xo,E=>E.reset());class Xo{constructor(){this.next=this.g=this.h=null}set(V,K){this.h=V,this.g=K,this.next=null}reset(){this.next=this.g=this.h=null}}let tp,np=!1,Dy=new class Ya{constructor(){this.h=this.g=null}add(V,K){const le=$h.get();le.set(V,K),this.h?this.h.next=le:this.g=le,this.h=le}},rp=()=>{const E=x.Promise.resolve(void 0);tp=()=>{E.then(Sy)}};var Sy=()=>{for(var E;E=Re();){try{E.h.call(E.g)}catch(K){ot(K)}var V=$h;V.j(E),100>V.h&&(V.h++,E.next=V.g,V.g=E)}np=!1};function Tu(){this.s=this.s,this.C=this.C}function Hs(E,V){this.type=E,this.g=this.target=V,this.defaultPrevented=!1}Tu.prototype.s=!1,Tu.prototype.ma=function(){this.s||(this.s=!0,this.N())},Tu.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Hs.prototype.h=function(){this.defaultPrevented=!0};var cE=function(){if(!x.addEventListener||!Object.defineProperty)return!1;var E=!1,V=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const K=()=>{};x.addEventListener("test",K,V),x.removeEventListener("test",K,V)}catch{}return E}();function _d(E,V){if(Hs.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var K=this.type=E.type,le=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=V,V=E.relatedTarget){if(Vr){e:{try{sr(V.nodeName);var Ze=!0;break e}catch{}Ze=!1}Ze||(V=null)}}else"mouseover"==K?V=E.fromElement:"mouseout"==K&&(V=E.toElement);this.relatedTarget=V,le?(this.clientX=void 0!==le.clientX?le.clientX:le.pageX,this.clientY=void 0!==le.clientY?le.clientY:le.pageY,this.screenX=le.screenX||0,this.screenY=le.screenY||0):(this.clientX=void 0!==E.clientX?E.clientX:E.pageX,this.clientY=void 0!==E.clientY?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType="string"==typeof E.pointerType?E.pointerType:lE[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&_d.aa.h.call(this)}}Dt(_d,Hs);var lE={2:"touch",3:"pen",4:"mouse"};_d.prototype.h=function(){_d.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var yd="closure_listenable_"+(1e6*Math.random()|0),Pg=0;function My(E,V,K,le,Ze){this.listener=E,this.proxy=null,this.src=V,this.type=K,this.capture=!!le,this.ha=Ze,this.key=++Pg,this.da=this.fa=!1}function ip(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function Km(E){this.src=E,this.g={},this.h=0}function Py(E,V){var K=V.type;if(K in E.g){var ht,le=E.g[K],Ze=Array.prototype.indexOf.call(le,V,void 0);(ht=0<=Ze)&&Array.prototype.splice.call(le,Ze,1),ht&&(ip(V),0==E.g[K].length&&(delete E.g[K],E.h--))}}function Ry(E,V,K,le){for(var Ze=0;Ze<E.length;++Ze){var ht=E[Ze];if(!ht.da&&ht.listener==V&&ht.capture==!!K&&ht.ha==le)return Ze}return-1}Km.prototype.add=function(E,V,K,le,Ze){var ht=E.toString();(E=this.g[ht])||(E=this.g[ht]=[],this.h++);var rn=Ry(E,V,le,Ze);return-1<rn?(V=E[rn],K||(V.fa=!1)):((V=new My(V,this.src,ht,!!le,Ze)).fa=K,E.push(V)),V};var Da="closure_lm_"+(1e6*Math.random()|0),sp={};function xy(E,V,K,le,Ze){if(le&&le.once)return Qm(E,V,K,le,Ze);if(Array.isArray(V)){for(var ht=0;ht<V.length;ht++)xy(E,V[ht],K,le,Ze);return null}return K=e_(K),E&&E[yd]?E.K(V,K,q(le)?!!le.capture:!!le,Ze):Ym(E,V,K,!1,le,Ze)}function Ym(E,V,K,le,Ze,ht){if(!V)throw Error("Invalid event type");var rn=q(Ze)?!!Ze.capture:!!Ze,fi=op(E);if(fi||(E[Da]=fi=new Km(E)),(K=fi.add(V,K,le,rn,ht)).proxy)return K;if(le=function uE(){const V=E0;return function E(K){return V.call(E.src,E.listener,K)}}(),K.proxy=le,le.src=E,le.listener=K,E.addEventListener)cE||(Ze=rn),void 0===Ze&&(Ze=!1),E.addEventListener(V.toString(),le,Ze);else if(E.attachEvent)E.attachEvent(Rg(V.toString()),le);else{if(!E.addListener||!E.removeListener)throw Error("addEventListener and attachEvent are unavailable.");E.addListener(le)}return K}function Qm(E,V,K,le,Ze){if(Array.isArray(V)){for(var ht=0;ht<V.length;ht++)Qm(E,V[ht],K,le,Ze);return null}return K=e_(K),E&&E[yd]?E.L(V,K,q(le)?!!le.capture:!!le,Ze):Ym(E,V,K,!0,le,Ze)}function Jm(E,V,K,le,Ze){if(Array.isArray(V))for(var ht=0;ht<V.length;ht++)Jm(E,V[ht],K,le,Ze);else le=q(le)?!!le.capture:!!le,K=e_(K),E&&E[yd]?(E=E.i,(V=String(V).toString())in E.g&&-1<(K=Ry(ht=E.g[V],K,le,Ze))&&(ip(ht[K]),Array.prototype.splice.call(ht,K,1),0==ht.length&&(delete E.g[V],E.h--))):E&&(E=op(E))&&(V=E.g[V.toString()],E=-1,V&&(E=Ry(V,K,le,Ze)),(K=-1<E?V[E]:null)&&vd(K))}function vd(E){if("number"!=typeof E&&E&&!E.da){var V=E.src;if(V&&V[yd])Py(V.i,E);else{var K=E.type,le=E.proxy;V.removeEventListener?V.removeEventListener(K,le,E.capture):V.detachEvent?V.detachEvent(Rg(K),le):V.addListener&&V.removeListener&&V.removeListener(le),(K=op(V))?(Py(K,E),0==K.h&&(K.src=null,V[Da]=null)):ip(E)}}}function Rg(E){return E in sp?sp[E]:sp[E]="on"+E}function E0(E,V){if(E.da)E=!0;else{V=new _d(V,this);var K=E.listener,le=E.ha||E.src;E.fa&&vd(E),E=K.call(le,V)}return E}function op(E){return(E=E[Da])instanceof Km?E:null}var Xm="__closure_events_fn_"+(1e9*Math.random()>>>0);function e_(E){return"function"==typeof E?E:(E[Xm]||(E[Xm]=function(V){return E.handleEvent(V)}),E[Xm])}function $s(){Tu.call(this),this.i=new Km(this),this.M=this,this.F=null}function zs(E,V){var K,le=E.F;if(le)for(K=[];le;le=le.F)K.push(le);if(E=E.M,le=V.type||V,"string"==typeof V)V=new Hs(V,E);else if(V instanceof Hs)V.target=V.target||E;else{var Ze=V;Ge(V=new Hs(le,E),Ze)}if(Ze=!0,K)for(var ht=K.length-1;0<=ht;ht--){var rn=V.g=K[ht];Ze=mo(rn,le,!0,V)&&Ze}if(Ze=mo(rn=V.g=E,le,!0,V)&&Ze,Ze=mo(rn,le,!1,V)&&Ze,K)for(ht=0;ht<K.length;ht++)Ze=mo(rn=V.g=K[ht],le,!1,V)&&Ze}function mo(E,V,K,le){if(!(V=E.i.g[String(V)]))return!0;V=V.concat();for(var Ze=!0,ht=0;ht<V.length;++ht){var rn=V[ht];if(rn&&!rn.da&&rn.capture==K){var fi=rn.listener,ys=rn.ha||rn.src;rn.fa&&Py(E.i,rn),Ze=!1!==fi.call(ys,le)&&Ze}}return Ze&&!le.defaultPrevented}function t_(E,V,K){if("function"==typeof E)K&&(E=Se(E,K));else{if(!E||"function"!=typeof E.handleEvent)throw Error("Invalid listener argument");E=Se(E.handleEvent,E)}return 2147483647<Number(V)?-1:x.setTimeout(E,V||0)}function n_(E){E.g=t_(()=>{E.g=null,E.i&&(E.i=!1,n_(E))},E.l);const V=E.h;E.h=null,E.m.apply(null,V)}Dt($s,Tu),$s.prototype[yd]=!0,$s.prototype.removeEventListener=function(E,V,K,le){Jm(this,E,V,K,le)},$s.prototype.N=function(){if($s.aa.N.call(this),this.i){var V,E=this.i;for(V in E.g){for(var K=E.g[V],le=0;le<K.length;le++)ip(K[le]);delete E.g[V],E.h--}}this.F=null},$s.prototype.K=function(E,V,K,le){return this.i.add(String(E),V,!1,K,le)},$s.prototype.L=function(E,V,K,le){return this.i.add(String(E),V,!0,K,le)};class Qa extends Tu{constructor(V,K){super(),this.m=V,this.l=K,this.h=null,this.i=!1,this.g=null}j(V){this.h=arguments,this.g?this.i=!0:n_(this)}N(){super.N(),this.g&&(x.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zh(E){Tu.call(this),this.h=E,this.g={}}Dt(zh,Tu);var xg=[];function Oy(E){nr(E.g,function(V,K){this.g.hasOwnProperty(K)&&vd(V)},E),E.g={}}zh.prototype.N=function(){zh.aa.N.call(this),Oy(this)},zh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gh=x.JSON.stringify,ap=x.JSON.parse,Ny=class{stringify(E){return x.JSON.stringify(E,void 0)}parse(E){return x.JSON.parse(E,void 0)}};function qh(){}function ky(){}qh.prototype.h=null;var Ed={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Id(){Hs.call(this,"d")}function r_(){Hs.call(this,"c")}Dt(Id,Hs),Dt(r_,Hs);var bd={},i_=null;function cp(){return i_=i_||new $s}function Td(E){Hs.call(this,bd.La,E)}function Og(E){const V=cp();zs(V,new Td(V))}function s_(E,V){Hs.call(this,bd.STAT_EVENT,E),this.stat=V}function io(E){const V=cp();zs(V,new s_(V,E))}function Ng(E,V){Hs.call(this,bd.Ma,E),this.size=V}function lp(E,V){if("function"!=typeof E)throw Error("Fn must not be null and must be a function");return x.setTimeout(function(){E()},V)}function Uc(){this.g=!0}function Zh(E,V,K,le){E.info(function(){return"XMLHTTP TEXT ("+V+"): "+function pE(E,V){if(!E.g)return V;if(!V)return null;try{var K=JSON.parse(V);if(K)for(E=0;E<K.length;E++)if(Array.isArray(K[E])){var le=K[E];if(!(2>le.length)){var Ze=le[1];if(Array.isArray(Ze)&&!(1>Ze.length)){var ht=Ze[0];if("noop"!=ht&&"stop"!=ht&&"close"!=ht)for(var rn=1;rn<Ze.length;rn++)Ze[rn]=""}}}return Gh(K)}catch{return V}}(E,K)+(le?" "+le:"")})}bd.La="serverreachability",Dt(Td,Hs),bd.STAT_EVENT="statevent",Dt(s_,Hs),bd.Ma="timingevent",Dt(Ng,Hs),Uc.prototype.xa=function(){this.g=!1},Uc.prototype.info=function(){};var a_,kg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function up(){}function Ja(E,V,K,le){this.j=E,this.i=V,this.l=K,this.R=le||1,this.U=new zh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ly}function Ly(){this.i=null,this.g="",this.h=!1}Dt(up,qh),up.prototype.g=function(){return new XMLHttpRequest},up.prototype.i=function(){return{}},a_=new up;var dp={},c_={};function l_(E,V,K){E.L=1,E.v=Bl(Bc(V)),E.m=K,E.P=!0,Vy(E,null)}function Vy(E,V){E.F=Date.now(),Fg(E),E.A=Bc(E.v);var K=E.A,le=E.R;Array.isArray(le)||(le=[String(le)]),Gy(K.i,"t",le),E.C=0,K=E.j.J,E.h=new Ly,E.g=rv(E.j,K?V:null,!E.m),0<E.O&&(E.M=new Qa(Se(E.Y,E,E.g),E.O)),V=E.U,K=E.g,le=E.ca;var Ze="readystatechange";Array.isArray(Ze)||(Ze&&(xg[0]=Ze.toString()),Ze=xg);for(var ht=0;ht<Ze.length;ht++){var rn=xy(K,Ze[ht],le||V.handleEvent,!1,V.h||V);if(!rn)break;V.g[rn.key]=rn}V=E.H?Ae(E.H):{},E.m?(E.u||(E.u="POST"),V["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,V)):(E.u="GET",E.g.ea(E.A,E.u,null,V)),Og(),function hE(E,V,K,le,Ze,ht){E.info(function(){if(E.g)if(ht)for(var rn="",fi=ht.split("&"),ys=0;ys<fi.length;ys++){var Nr=fi[ys].split("=");if(1<Nr.length){var vs=Nr[0];Nr=Nr[1];var so=vs.split("_");rn=2<=so.length&&"type"==so[1]?rn+(vs+"=")+Nr+"&":rn+(vs+"=redacted&")}}else rn=null;else rn=ht;return"XMLHTTP REQ ("+le+") [attempt "+Ze+"]: "+V+"\n"+K+"\n"+rn})}(E.i,E.u,E.A,E.l,E.R,E.m)}function Uy(E){return!!E.g&&"GET"==E.u&&2!=E.L&&E.j.Ca}function gE(E,V){var K=E.C,le=V.indexOf("\n",K);return-1==le?c_:(K=Number(V.substring(K,le)),isNaN(K)?dp:(le+=1)+K>V.length?c_:(V=V.slice(le,le+K),E.C=le+K,V))}function Fg(E){E.S=Date.now()+E.I,By(E,E.I)}function By(E,V){if(null!=E.B)throw Error("WatchDog timer not null");E.B=lp(Se(E.ba,E),V)}function Lg(E){E.B&&(x.clearTimeout(E.B),E.B=null)}function Wh(E){0==E.j.G||E.J||tv(E.j,E)}function Cd(E){Lg(E);var V=E.M;V&&"function"==typeof V.ma&&V.ma(),E.M=null,Oy(E.U),E.g&&(V=E.g,E.g=null,V.abort(),V.ma())}function jy(E,V){try{var K=E.j;if(0!=K.G&&(K.g==E||d_(K.h,E)))if(!E.K&&d_(K.h,E)&&3==K.G){try{var le=K.Da.g.parse(V)}catch{le=null}if(Array.isArray(le)&&3==le.length){var Ze=le;if(0==Ze[0]){e:if(!K.u){if(K.g){if(!(K.g.F+3e3<E.F))break e;zg(K),__(K)}Hg(K),io(18)}}else K.za=Ze[1],0<K.za-K.T&&37500>Ze[2]&&K.F&&0==K.v&&!K.C&&(K.C=lp(Se(K.Za,K),6e3));if(1>=hp(K.h)&&K.ca){try{K.ca()}catch{}K.ca=void 0}}else Cu(K,11)}else if((E.K||K.g==E)&&zg(K),!xn(V))for(Ze=K.Da.g.parse(V),V=0;V<Ze.length;V++){let Nr=Ze[V];if(K.T=Nr[0],Nr=Nr[1],2==K.G)if("c"==Nr[0]){K.K=Nr[1],K.ia=Nr[2];const vs=Nr[3];null!=vs&&(K.la=vs,K.j.info("VER="+K.la));const so=Nr[4];null!=so&&(K.Aa=so,K.j.info("SVER="+K.Aa));const Fd=Nr[5];null!=Fd&&"number"==typeof Fd&&0<Fd&&(K.L=le=1.5*Fd,K.j.info("backChannelRequestTimeoutMs_="+le)),le=K;const No=E.g;if(No){const vp=No.g?No.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vp){var ht=le.h;ht.g||-1==vp.indexOf("spdy")&&-1==vp.indexOf("quic")&&-1==vp.indexOf("h2")||(ht.j=ht.l,ht.g=new Set,ht.h&&(h_(ht,ht.h),ht.h=null))}if(le.D){const Ep=No.g?No.g.getResponseHeader("X-HTTP-Session-Id"):null;Ep&&(le.ya=Ep,Xr(le.I,le.D,Ep))}}K.G=3,K.l&&K.l.ua(),K.ba&&(K.R=Date.now()-E.F,K.j.info("Handshake RTT: "+K.R+"ms"));var rn=E;if((le=K).qa=Gg(le,le.J?le.ia:null,le.W),rn.K){Vg(le.h,rn);var fi=rn,ys=le.L;ys&&(fi.I=ys),fi.B&&(Lg(fi),Fg(fi)),le.g=rn}else ev(le);0<K.i.length&&jg(K)}else"stop"!=Nr[0]&&"close"!=Nr[0]||Cu(K,7);else 3==K.G&&("stop"==Nr[0]||"close"==Nr[0]?"stop"==Nr[0]?Cu(K,7):Yh(K):"noop"!=Nr[0]&&K.l&&K.l.ta(Nr),K.v=0)}Og()}catch{}}function u_(E){this.l=E||10,E=x.PerformanceNavigationTiming?0<(E=x.performance.getEntriesByType("navigation")).length&&("hq"==E[0].nextHopProtocol||"h2"==E[0].nextHopProtocol):!!(x.chrome&&x.chrome.loadTimes&&x.chrome.loadTimes()&&x.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mE(E){return!!E.h||!!E.g&&E.g.size>=E.j}function hp(E){return E.h?1:E.g?E.g.size:0}function d_(E,V){return E.h?E.h==V:!!E.g&&E.g.has(V)}function h_(E,V){E.g?E.g.add(V):E.h=V}function Vg(E,V){E.h&&E.h==V?E.h=null:E.g&&E.g.has(V)&&E.g.delete(V)}function f_(E){if(null!=E.h)return E.i.concat(E.h.D);if(null!=E.g&&0!==E.g.size){let V=E.i;for(const K of E.g.values())V=V.concat(K.D);return V}return jt(E.i)}function Ms(E,V){if(E.forEach&&"function"==typeof E.forEach)E.forEach(V,void 0);else if(L(E)||"string"==typeof E)Array.prototype.forEach.call(E,V,void 0);else for(var K=function fp(E){if(E.na&&"function"==typeof E.na)return E.na();if(!E.V||"function"!=typeof E.V){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(L(E)||"string"==typeof E){var V=[];E=E.length;for(var K=0;K<E;K++)V.push(K);return V}V=[],K=0;for(const le in E)V[K++]=le;return V}}}(E),le=function ea(E){if(E.V&&"function"==typeof E.V)return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if("string"==typeof E)return E.split("");if(L(E)){for(var V=[],K=E.length,le=0;le<K;le++)V.push(E[le]);return V}for(le in V=[],K=0,E)V[K++]=E[le];return V}(E),Ze=le.length,ht=0;ht<Ze;ht++)V.call(void 0,le[ht],K&&K[ht],E)}Ja.prototype.ca=function(E){E=E.target;const V=this.M;V&&3==jl(E)?V.j():this.Y(E)},Ja.prototype.Y=function(E){try{if(E==this.g)e:{const so=jl(this.g);var V=this.g.Ba();if(this.g.Z(),!(3>so)&&(3!=so||this.g&&(this.h.h||this.g.oa()||Yy(this.g)))){this.J||4!=so||7==V||Og(),Lg(this);var K=this.g.Z();this.X=K;t:if(Uy(this)){var le=Yy(this.g);E="";var Ze=le.length,ht=4==jl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Cd(this),Wh(this);var rn="";break t}this.h.i=new x.TextDecoder}for(V=0;V<Ze;V++)this.h.h=!0,E+=this.h.i.decode(le[V],{stream:!(ht&&V==Ze-1)});le.length=0,this.h.g+=E,this.C=0,rn=this.h.g}else rn=this.g.oa();if(this.o=200==K,function o_(E,V,K,le,Ze,ht,rn){E.info(function(){return"XMLHTTP RESP ("+le+") [ attempt "+Ze+"]: "+V+"\n"+K+"\n"+ht+" "+rn})}(this.i,this.u,this.A,this.l,this.R,so,K),this.o){if(this.T&&!this.K){t:{if(this.g){var fi,ys=this.g;if((fi=ys.g?ys.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xn(fi)){var Nr=fi;break t}}Nr=null}if(!(K=Nr)){this.o=!1,this.s=3,io(12),Cd(this),Wh(this);break e}Zh(this.i,this.l,K,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jy(this,K)}if(this.P){let No;for(K=!0;!this.J&&this.C<rn.length;){if(No=gE(this,rn),No==c_){4==so&&(this.s=4,io(14),K=!1),Zh(this.i,this.l,null,"[Incomplete Response]");break}if(No==dp){this.s=4,io(15),Zh(this.i,this.l,rn,"[Invalid Chunk]"),K=!1;break}Zh(this.i,this.l,No,null),jy(this,No)}if(Uy(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=so||0!=rn.length||this.h.h||(this.s=1,io(16),K=!1),this.o=this.o&&K,K){if(0<rn.length&&!this.W){this.W=!0;var vs=this.j;vs.g==this&&vs.ba&&!vs.M&&(vs.j.info("Great, no buffering proxy detected. Bytes received: "+rn.length),$g(vs),vs.M=!0,io(11))}}else Zh(this.i,this.l,rn,"[Invalid Chunked Response]"),Cd(this),Wh(this)}else Zh(this.i,this.l,rn,null),jy(this,rn);4==so&&Cd(this),this.o&&!this.J&&(4==so?tv(this.j,this):(this.o=!1,Fg(this)))}else(function IE(E){const V={};E=(E.g&&2<=jl(E)&&E.g.getAllResponseHeaders()||"").split("\r\n");for(let le=0;le<E.length;le++){if(xn(E[le]))continue;var K=Qe(E[le]);const Ze=K[0];if("string"!=typeof(K=K[1]))continue;K=K.trim();const ht=V[Ze]||[];V[Ze]=ht,ht.push(K)}!function He(E,V){for(const K in E)V.call(void 0,E[K],K,E)}(V,function(le){return le.join(", ")})})(this.g),400==K&&0<rn.indexOf("Unknown SID")?(this.s=3,io(12)):(this.s=0,io(13)),Cd(this),Wh(this)}}}catch{}},Ja.prototype.cancel=function(){this.J=!0,Cd(this)},Ja.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(function fE(E,V){E.info(function(){return"TIMEOUT: "+V})}(this.i,this.A),2!=this.L&&(Og(),io(17)),Cd(this),this.s=2,Wh(this)):By(this,this.S-E)},u_.prototype.cancel=function(){if(this.i=f_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const E of this.g.values())E.cancel();this.g.clear()}};var wd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gs(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof Gs){this.h=E.h,Vl(this,E.j),this.o=E.o,this.g=E.g,Ul(this,E.s),this.l=E.l;var V=E.i,K=new Md;K.i=V.i,V.g&&(K.g=new Map(V.g),K.h=V.h),Ad(this,K),this.m=E.m}else E&&(V=String(E).match(wd))?(this.h=!1,Vl(this,V[1]||"",!0),this.o=jc(V[2]||""),this.g=jc(V[3]||"",!0),Ul(this,V[4]),this.l=jc(V[5]||"",!0),Ad(this,V[6]||"",!0),this.m=jc(V[7]||"")):(this.h=!1,this.i=new Md(null,this.h))}function Bc(E){return new Gs(E)}function Vl(E,V,K){E.j=K?jc(V,!0):V,E.j&&(E.j=E.j.replace(/:$/,""))}function Ul(E,V){if(V){if(V=Number(V),isNaN(V)||0>V)throw Error("Bad port number "+V);E.s=V}else E.s=null}function Ad(E,V,K){V instanceof Md?(E.i=V,function I0(E,V){V&&!E.j&&(zc(E),E.i=null,E.g.forEach(function(K,le){var Ze=le.toLowerCase();le!=Ze&&($y(this,le),Gy(this,Ze,K))},E)),E.j=V}(E.i,E.h)):(K||(V=Hc(V,yE)),E.i=new Md(V,E.h))}function Xr(E,V,K){E.i.set(V,K)}function Bl(E){return Xr(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function jc(E,V){return E?V?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function Hc(E,V,K){return"string"==typeof E?(E=encodeURI(E).replace(V,Dd),K&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function Dd(E){return"%"+((E=E.charCodeAt(0))>>4&15).toString(16)+(15&E).toString(16)}Gs.prototype.toString=function(){var E=[],V=this.j;V&&E.push(Hc(V,Sd,!0),":");var K=this.g;return(K||"file"==V)&&(E.push("//"),(V=this.o)&&E.push(Hc(V,Sd,!0),"@"),E.push(encodeURIComponent(String(K)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(K=this.s)&&E.push(":",String(K))),(K=this.l)&&(this.g&&"/"!=K.charAt(0)&&E.push("/"),E.push(Hc(K,"/"==K.charAt(0)?_E:$c,!0))),(K=this.i.toString())&&E.push("?",K),(K=this.m)&&E.push("#",Hc(K,vE)),E.join("")};var E,Sd=/[#\/\?@]/g,$c=/[#\?:]/g,_E=/[#\?]/g,yE=/[#\?@]/g,vE=/#/g;function Md(E,V){this.h=this.g=null,this.i=E||null,this.j=!!V}function zc(E){E.g||(E.g=new Map,E.h=0,E.i&&function p_(E,V){if(E){E=E.split("&");for(var K=0;K<E.length;K++){var le=E[K].indexOf("="),Ze=null;if(0<=le){var ht=E[K].substring(0,le);Ze=E[K].substring(le+1)}else ht=E[K];V(ht,Ze?decodeURIComponent(Ze.replace(/\+/g," ")):"")}}}(E.i,function(V,K){E.add(decodeURIComponent(V.replace(/\+/g," ")),K)}))}function $y(E,V){zc(E),V=Pd(E,V),E.g.has(V)&&(E.i=null,E.h-=E.g.get(V).length,E.g.delete(V))}function zy(E,V){return zc(E),V=Pd(E,V),E.g.has(V)}function Gy(E,V,K){$y(E,V),0<K.length&&(E.i=null,E.g.set(Pd(E,V),jt(K)),E.h+=K.length)}function Pd(E,V){return V=String(V),E.j&&(V=V.toLowerCase()),V}function Rd(E,V,K,le,Ze){try{Ze&&(Ze.onload=null,Ze.onerror=null,Ze.onabort=null,Ze.ontimeout=null),le(K)}catch{}}function pp(){this.g=new Ny}function EE(E,V,K){const le=K||"";try{Ms(E,function(Ze,ht){let rn=Ze;q(Ze)&&(rn=Gh(Ze)),V.push(le+ht+"="+encodeURIComponent(rn))})}catch(Ze){throw V.push(le+"type="+encodeURIComponent("_badmap")),Ze}}function xd(E){this.l=E.Ub||null,this.j=E.eb||!1}function qy(E,V){$s.call(this),this.D=E,this.o=V,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function g_(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}function gp(E){E.readyState=4,E.l=null,E.j=null,E.v=null,mp(E)}function mp(E){E.onreadystatechange&&E.onreadystatechange.call(E)}function Ug(E){let V="";return nr(E,function(K,le){V+=le,V+=":",V+=K,V+="\r\n"}),V}function Od(E,V,K){e:{for(le in K){var le=!1;break e}le=!0}le||(K=Ug(K),"string"==typeof E?null!=K&&encodeURIComponent(String(K)):Xr(E,V,K))}function Pi(E){$s.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(d=Md.prototype).add=function(E,V){zc(this),this.i=null,E=Pd(this,E);var K=this.g.get(E);return K||this.g.set(E,K=[]),K.push(V),this.h+=1,this},d.forEach=function(E,V){zc(this),this.g.forEach(function(K,le){K.forEach(function(Ze){E.call(V,Ze,le,this)},this)},this)},d.na=function(){zc(this);const E=Array.from(this.g.values()),V=Array.from(this.g.keys()),K=[];for(let le=0;le<V.length;le++){const Ze=E[le];for(let ht=0;ht<Ze.length;ht++)K.push(V[le])}return K},d.V=function(E){zc(this);let V=[];if("string"==typeof E)zy(this,E)&&(V=V.concat(this.g.get(Pd(this,E))));else{E=Array.from(this.g.values());for(let K=0;K<E.length;K++)V=V.concat(E[K])}return V},d.set=function(E,V){return zc(this),this.i=null,zy(this,E=Pd(this,E))&&(this.h-=this.g.get(E).length),this.g.set(E,[V]),this.h+=1,this},d.get=function(E,V){return E&&0<(E=this.V(E)).length?String(E[0]):V},d.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],V=Array.from(this.g.keys());for(var K=0;K<V.length;K++){var le=V[K];const ht=encodeURIComponent(String(le)),rn=this.V(le);for(le=0;le<rn.length;le++){var Ze=ht;""!==rn[le]&&(Ze+="="+encodeURIComponent(String(rn[le]))),E.push(Ze)}}return this.i=E.join("&")},Dt(xd,qh),xd.prototype.g=function(){return new qy(this.l,this.j)},xd.prototype.i=(E={},function(){return E}),Dt(qy,$s),(d=qy.prototype).open=function(E,V){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=V,this.readyState=1,mp(this)},d.send=function(E){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const V={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(V.body=E),(this.D||x).fetch(new Request(this.A,V)).then(this.Sa.bind(this),this.ga.bind(this))},d.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gp(this)),this.readyState=0},d.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,mp(this)),this.g&&(this.readyState=3,mp(this),this.g)))if("arraybuffer"===this.responseType)E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof x.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;g_(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))},d.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var V=E.value?E.value:new Uint8Array(0);(V=this.v.decode(V,{stream:!E.done}))&&(this.response=this.responseText+=V)}E.done?gp(this):mp(this),3==this.readyState&&g_(this)}},d.Ra=function(E){this.g&&(this.response=this.responseText=E,gp(this))},d.Qa=function(E){this.g&&(this.response=E,gp(this))},d.ga=function(){this.g&&gp(this)},d.setRequestHeader=function(E,V){this.u.append(E,V)},d.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},d.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],V=this.h.entries();for(var K=V.next();!K.done;)E.push((K=K.value)[0]+": "+K[1]),K=V.next();return E.join("\r\n")},Object.defineProperty(qy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(E){this.m=E?"include":"same-origin"}}),Dt(Pi,$s);var Bg=/^https?$/i,Zy=["POST","PUT"];function Kh(E,V){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=V,E.m=5,m_(E),Nd(E)}function m_(E){E.A||(E.A=!0,zs(E,"complete"),zs(E,"error"))}function Wy(E){if(E.h&&typeof b<"u"&&(!E.v[1]||4!=jl(E)||2!=E.Z()))if(E.u&&4==jl(E))t_(E.Ea,0,E);else if(zs(E,"readystatechange"),4==jl(E)){E.h=!1;try{const rn=E.Z();e:switch(rn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var V=!0;break e;default:V=!1}var K;if(!(K=V)){var le;if(le=0===rn){var Ze=String(E.D).match(wd)[1]||null;!Ze&&x.self&&x.self.location&&(Ze=x.self.location.protocol.slice(0,-1)),le=!Bg.test(Ze?Ze.toLowerCase():"")}K=le}if(K)zs(E,"complete"),zs(E,"success");else{E.m=6;try{var ht=2<jl(E)?E.g.statusText:""}catch{ht=""}E.l=ht+" ["+E.Z()+"]",m_(E)}}finally{Nd(E)}}}function Nd(E,V){if(E.g){Ky(E);const K=E.g,le=E.v[0]?()=>{}:null;E.g=null,E.v=null,V||zs(E,"ready");try{K.onreadystatechange=le}catch{}}}function Ky(E){E.I&&(x.clearTimeout(E.I),E.I=null)}function jl(E){return E.g?E.g.readyState:0}function Yy(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function kd(E,V,K){return K&&K.internalChannelParams&&K.internalChannelParams[E]||V}function _p(E){this.Aa=0,this.i=[],this.j=new Uc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=kd("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=kd("baseRetryDelayMs",5e3,E),this.cb=kd("retryDelaySeedMs",1e4,E),this.Wa=kd("forwardChannelMaxRetries",2,E),this.wa=kd("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new u_(E&&E.concurrentRequestLimit),this.Da=new pp,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yh(E){if(Qy(E),3==E.G){var V=E.U++,K=Bc(E.I);if(Xr(K,"SID",E.K),Xr(K,"RID",V),Xr(K,"TYPE","terminate"),Qh(E,K),(V=new Ja(E,E.j,V)).L=2,V.v=Bl(Bc(K)),K=!1,x.navigator&&x.navigator.sendBeacon)try{K=x.navigator.sendBeacon(V.v.toString(),"")}catch{}!K&&x.Image&&((new Image).src=V.v,K=!0),K||(V.g=rv(V.j,null),V.g.ea(V.v)),V.F=Date.now(),Fg(V)}E_(E)}function __(E){E.g&&($g(E),E.g.cancel(),E.g=null)}function Qy(E){__(E),E.u&&(x.clearTimeout(E.u),E.u=null),zg(E),E.h.cancel(),E.s&&("number"==typeof E.s&&x.clearTimeout(E.s),E.s=null)}function jg(E){if(!mE(E.h)&&!E.s){E.s=!0;var V=E.Ga;tp||rp(),np||(tp(),np=!0),Dy.add(V,E),E.B=0}}function Jy(E,V){var K;K=V?V.l:E.U++;const le=Bc(E.I);Xr(le,"SID",E.K),Xr(le,"RID",K),Xr(le,"AID",E.T),Qh(E,le),E.m&&E.o&&Od(le,E.m,E.o),K=new Ja(E,E.j,K,E.B+1),null===E.m&&(K.H=E.o),V&&(E.i=V.D.concat(E.i)),V=Xy(E,K,1e3),K.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),h_(E.h,K),l_(K,le,V)}function Qh(E,V){E.H&&nr(E.H,function(K,le){Xr(V,le,K)}),E.l&&Ms({},function(K,le){Xr(V,le,K)})}function Xy(E,V,K){K=Math.min(E.i.length,K);var le=E.l?Se(E.l.Na,E.l,E):null;e:{var Ze=E.i;let ht=-1;for(;;){const rn=["count="+K];-1==ht?0<K?(ht=Ze[0].g,rn.push("ofs="+ht)):ht=0:rn.push("ofs="+ht);let fi=!0;for(let ys=0;ys<K;ys++){let Nr=Ze[ys].g;const vs=Ze[ys].map;if(Nr-=ht,0>Nr)ht=Math.max(0,Ze[ys].g-100),fi=!1;else try{EE(vs,rn,"req"+Nr+"_")}catch{le&&le(vs)}}if(fi){le=rn.join("&");break e}}}return E=E.i.splice(0,K),V.D=E,le}function ev(E){if(!E.g&&!E.u){E.Y=1;var V=E.Fa;tp||rp(),np||(tp(),np=!0),Dy.add(V,E),E.v=0}}function Hg(E){return!(E.g||E.u||3<=E.v||(E.Y++,E.u=lp(Se(E.Fa,E),nv(E,E.v)),E.v++,0))}function $g(E){null!=E.A&&(x.clearTimeout(E.A),E.A=null)}function v_(E){E.g=new Ja(E,E.j,"rpc",E.Y),null===E.m&&(E.g.H=E.o),E.g.O=0;var V=Bc(E.qa);Xr(V,"RID","rpc"),Xr(V,"SID",E.K),Xr(V,"AID",E.T),Xr(V,"CI",E.F?"0":"1"),!E.F&&E.ja&&Xr(V,"TO",E.ja),Xr(V,"TYPE","xmlhttp"),Qh(E,V),E.m&&E.o&&Od(V,E.m,E.o),E.L&&(E.g.I=E.L);var K=E.g;E=E.ia,K.L=1,K.v=Bl(Bc(V)),K.m=null,K.P=!0,Vy(K,E)}function zg(E){null!=E.C&&(x.clearTimeout(E.C),E.C=null)}function tv(E,V){var K=null;if(E.g==V){zg(E),$g(E),E.g=null;var le=2}else{if(!d_(E.h,V))return;K=V.D,Vg(E.h,V),le=1}if(0!=E.G)if(V.o)if(1==le){K=V.m?V.m.length:0,V=Date.now()-V.F;var Ze=E.B;zs(le=cp(),new Ng(le,K)),jg(E)}else ev(E);else if(3==(Ze=V.s)||0==Ze&&0<V.X||!(1==le&&function y_(E,V){return!(hp(E.h)>=E.h.j-(E.s?1:0)||(E.s?(E.i=V.D.concat(E.i),0):1==E.G||2==E.G||E.B>=(E.Va?0:E.Wa)||(E.s=lp(Se(E.Ga,E,V),nv(E,E.B)),E.B++,0)))}(E,V)||2==le&&Hg(E)))switch(K&&0<K.length&&(V=E.h,V.i=V.i.concat(K)),Ze){case 1:Cu(E,5);break;case 4:Cu(E,10);break;case 3:Cu(E,6);break;default:Cu(E,2)}}function nv(E,V){let K=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(K*=2),K*V}function Cu(E,V){if(E.j.info("Error code "+V),2==V){var K=Se(E.fb,E),le=E.Xa;const Ze=!le;le=new Gs(le||"//www.google.com/images/cleardot.gif"),x.location&&"http"==x.location.protocol||Vl(le,"https"),Bl(le),Ze?function VI(E,V){const K=new Uc;if(x.Image){const le=new Image;le.onload=tt(Rd,K,"TestLoadImage: loaded",!0,V,le),le.onerror=tt(Rd,K,"TestLoadImage: error",!1,V,le),le.onabort=tt(Rd,K,"TestLoadImage: abort",!1,V,le),le.ontimeout=tt(Rd,K,"TestLoadImage: timeout",!1,V,le),x.setTimeout(function(){le.ontimeout&&le.ontimeout()},1e4),le.src=E}else V(!1)}(le.toString(),K):function UI(E,V){new Uc;const le=new AbortController,Ze=setTimeout(()=>{le.abort(),Rd(0,0,!1,V)},1e4);fetch(E,{signal:le.signal}).then(ht=>{clearTimeout(Ze),Rd(0,0,!!ht.ok,V)}).catch(()=>{clearTimeout(Ze),Rd(0,0,!1,V)})}(le.toString(),K)}else io(2);E.G=0,E.l&&E.l.sa(V),E_(E),Qy(E)}function E_(E){if(E.G=0,E.ka=[],E.l){const V=f_(E.h);(0!=V.length||0!=E.i.length)&&(At(E.ka,V),At(E.ka,E.i),E.h.i.length=0,jt(E.i),E.i.length=0),E.l.ra()}}function Gg(E,V,K){var le=K instanceof Gs?Bc(K):new Gs(K);if(""!=le.g)V&&(le.g=V+"."+le.g),Ul(le,le.s);else{var Ze=x.location;le=Ze.protocol,V=V?V+"."+Ze.hostname:Ze.hostname,Ze=+Ze.port;var ht=new Gs(null);le&&Vl(ht,le),V&&(ht.g=V),Ze&&Ul(ht,Ze),K&&(ht.l=K),le=ht}return V=E.ya,(K=E.D)&&V&&Xr(le,K,V),Xr(le,"VER",E.la),Qh(E,le),le}function rv(E,V,K){if(V&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return(V=new Pi(E.Ca&&!E.pa?new xd({eb:K}):E.pa)).Ha(E.J),V}function Sa(){}function wu(){}function qs(E,V){$s.call(this),this.g=new _p(V),this.l=E,this.h=V&&V.messageUrlParams||null,E=V&&V.messageHeaders||null,V&&V.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=V&&V.initMessageHeaders||null,V&&V.messageContentType&&(E?E["X-WebChannel-Content-Type"]=V.messageContentType:E={"X-WebChannel-Content-Type":V.messageContentType}),V&&V.va&&(E?E["X-WebChannel-Client-Profile"]=V.va:E={"X-WebChannel-Client-Profile":V.va}),this.g.S=E,(E=V&&V.Sb)&&!xn(E)&&(this.g.m=E),this.v=V&&V.supportsCrossDomainXhr||!1,this.u=V&&V.sendRawJson||!1,(V=V&&V.httpSessionIdParam)&&!xn(V)&&(this.g.D=V,null!==(E=this.h)&&V in E&&V in(E=this.h)&&delete E[V]),this.j=new Ps(this)}function yp(E){Id.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var V=E.__sm__;if(V){e:{for(const K in V){E=K;break e}E=void 0}(this.i=E)&&(E=this.i,V=null!==V&&E in V?V[E]:void 0),this.data=V}else this.data=E}function qg(){r_.call(this),this.status=1}function Ps(E){this.g=E}(d=Pi.prototype).Ha=function(E){this.J=E},d.ea=function(E,V,K,le){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);V=V?V.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():a_.g(),this.v=function dE(E){return E.h||(E.h=E.i())}(this.o?this.o:a_),this.g.onreadystatechange=Se(this.Ea,this);try{this.B=!0,this.g.open(V,String(E),!0),this.B=!1}catch(ht){return void Kh(this,ht)}if(E=K||"",K=new Map(this.headers),le)if(Object.getPrototypeOf(le)===Object.prototype)for(var Ze in le)K.set(Ze,le[Ze]);else{if("function"!=typeof le.keys||"function"!=typeof le.get)throw Error("Unknown input type for opt_headers: "+String(le));for(const ht of le.keys())K.set(ht,le.get(ht))}le=Array.from(K.keys()).find(ht=>"content-type"==ht.toLowerCase()),Ze=x.FormData&&E instanceof x.FormData,!(0<=Array.prototype.indexOf.call(Zy,V,void 0))||le||Ze||K.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ht,rn]of K)this.g.setRequestHeader(ht,rn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ky(this),this.u=!0,this.g.send(E),this.u=!1}catch(ht){Kh(this,ht)}},d.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,zs(this,"complete"),zs(this,"abort"),Nd(this))},d.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nd(this,!0)),Pi.aa.N.call(this)},d.Ea=function(){this.s||(this.B||this.u||this.j?Wy(this):this.bb())},d.bb=function(){Wy(this)},d.isActive=function(){return!!this.g},d.Z=function(){try{return 2<jl(this)?this.g.status:-1}catch{return-1}},d.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},d.Oa=function(E){if(this.g){var V=this.g.responseText;return E&&0==V.indexOf(E)&&(V=V.substring(E.length)),ap(V)}},d.Ba=function(){return this.m},d.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(d=_p.prototype).la=8,d.G=1,d.connect=function(E,V,K,le){io(0),this.W=E,this.H=V||{},K&&void 0!==le&&(this.H.OSID=K,this.H.OAID=le),this.F=this.X,this.I=Gg(this,null,this.W),jg(this)},d.Ga=function(E){if(this.s)if(this.s=null,1==this.G){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const Ze=new Ja(this,this.j,E);let ht=this.o;if(this.S&&(ht?(ht=Ae(ht),Ge(ht,this.S)):ht=this.S),null!==this.m||this.O||(Ze.H=ht,ht=null),this.P)e:{for(var V=0,K=0;K<this.i.length;K++){var le=this.i[K];if(void 0===(le="__data__"in le.map&&"string"==typeof(le=le.map.__data__)?le.length:void 0))break;if(4096<(V+=le)){V=K;break e}if(4096===V||K===this.i.length-1){V=K+1;break e}}V=1e3}else V=1e3;V=Xy(this,Ze,V),Xr(K=Bc(this.I),"RID",E),Xr(K,"CVER",22),this.D&&Xr(K,"X-HTTP-Session-Id",this.D),Qh(this,K),ht&&(this.O?V="headers="+encodeURIComponent(String(Ug(ht)))+"&"+V:this.m&&Od(K,this.m,ht)),h_(this.h,Ze),this.Ua&&Xr(K,"TYPE","init"),this.P?(Xr(K,"$req",V),Xr(K,"SID","null"),Ze.T=!0,l_(Ze,K,null)):l_(Ze,K,V),this.G=2}}else 3==this.G&&(E?Jy(this,E):0==this.i.length||mE(this.h)||Jy(this))},d.Fa=function(){if(this.u=null,v_(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=lp(Se(this.ab,this),E)}},d.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,io(10),__(this),v_(this))},d.Za=function(){null!=this.C&&(this.C=null,__(this),Hg(this),io(19))},d.fb=function(E){E?(this.j.info("Successfully pinged google.com"),io(2)):(this.j.info("Failed to ping google.com"),io(1))},d.isActive=function(){return!!this.l&&this.l.isActive(this)},(d=Sa.prototype).ua=function(){},d.ta=function(){},d.sa=function(){},d.ra=function(){},d.isActive=function(){return!0},d.Na=function(){},wu.prototype.g=function(E,V){return new qs(E,V)},Dt(qs,$s),qs.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qs.prototype.close=function(){Yh(this.g)},qs.prototype.o=function(E){var V=this.g;if("string"==typeof E){var K={};K.__data__=E,E=K}else this.u&&((K={}).__data__=Gh(E),E=K);V.i.push(new class{constructor(E,V){this.g=E,this.map=V}}(V.Ya++,E)),3==V.G&&jg(V)},qs.prototype.N=function(){this.g.l=null,delete this.j,Yh(this.g),delete this.g,qs.aa.N.call(this)},Dt(yp,Id),Dt(qg,r_),Dt(Ps,Sa),Ps.prototype.ua=function(){zs(this.g,"a")},Ps.prototype.ta=function(E){zs(this.g,new yp(E))},Ps.prototype.sa=function(E){zs(this.g,new qg)},Ps.prototype.ra=function(){zs(this.g,"b")},wu.prototype.createWebChannel=wu.prototype.g,qs.prototype.send=qs.prototype.o,qs.prototype.open=qs.prototype.m,qs.prototype.close=qs.prototype.close,qe=ge.createWebChannelTransport=function(){return new wu},Xt=ge.getStatEventTarget=function(){return cp()},mt=ge.Event=bd,Ct=ge.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kg.NO_ERROR=0,kg.TIMEOUT=8,kg.HTTP_ERROR=6,dt=ge.ErrorCode=kg,Fy.COMPLETE="complete",Mt=ge.EventType=Fy,ky.EventType=Ed,Ed.OPEN="a",Ed.CLOSE="b",Ed.ERROR="c",Ed.MESSAGE="d",$s.prototype.listen=$s.prototype.K,Je=ge.WebChannel=ky,ut=ge.FetchXmlHttpFactory=xd,Pi.prototype.listenOnce=Pi.prototype.L,Pi.prototype.getLastError=Pi.prototype.Ka,Pi.prototype.getLastErrorCode=Pi.prototype.Ba,Pi.prototype.getStatus=Pi.prototype.Z,Pi.prototype.getResponseJson=Pi.prototype.Oa,Pi.prototype.getResponseText=Pi.prototype.oa,Pi.prototype.send=Pi.prototype.ea,Pi.prototype.setWithCredentials=Pi.prototype.Ha,Me=ge.XhrIo=Pi}).apply(typeof ue<"u"?ue:typeof self<"u"?self:typeof window<"u"?window:{});const Be="@firebase/firestore";class Xe{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let Ue="10.12.1";const et=new ve.Yd("@firebase/firestore");function vt(){return et.logLevel}function ze(d){et.setLogLevel(d)}function de(d,...e){if(et.logLevel<=ve.in.DEBUG){const r=e.map(Bn);et.debug(`Firestore (${Ue}): ${d}`,...r)}}function gt(d,...e){if(et.logLevel<=ve.in.ERROR){const r=e.map(Bn);et.error(`Firestore (${Ue}): ${d}`,...r)}}function Ut(d,...e){if(et.logLevel<=ve.in.WARN){const r=e.map(Bn);et.warn(`Firestore (${Ue}): ${d}`,...r)}}function Bn(d){if("string"==typeof d)return d;try{return JSON.stringify(d)}catch{return d}}function _t(d="Unexpected state"){const e=`FIRESTORE (${Ue}) INTERNAL ASSERTION FAILED: `+d;throw gt(e),new Error(e)}function Rt(d,e){d||_t()}function Wt(d,e){d||_t()}function nt(d,e){return d}const Pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends _e.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Oe{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class We{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ke{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Xe.UNAUTHENTICATED))}shutdown(){}}class lt{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class ft{constructor(e){this.t=e,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var a=this;let f=this.i;const y=q=>this.i!==f?(f=this.i,r(q)):Promise.resolve();let b=new Oe;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new Oe,e.enqueueRetryable(()=>y(this.currentUser))};const x=()=>{const q=b;e.enqueueRetryable((0,I.Z)(function*(){yield q.promise,yield y(a.currentUser)}))},L=q=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=q,this.auth.addAuthTokenListener(this.o),x()};this.t.onInit(q=>L(q)),setTimeout(()=>{if(!this.auth){const q=this.t.getImmediate({optional:!0});q?L(q):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new Oe)}},0),x()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(a=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Rt("string"==typeof a.accessToken),new We(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Rt(null===e||"string"==typeof e),new Xe(e)}}class Gt{constructor(e,r,a){this.l=e,this.h=r,this.P=a,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Vt{constructor(e,r,a){this.l=e,this.h=r,this.P=a}getToken(){return Promise.resolve(new Gt(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Xe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Bt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class on{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const a=y=>{null!=y.error&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${y.error.message}`);const b=y.token!==this.R;return this.R=y.token,de("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?r(y.token):Promise.resolve()};this.o=y=>{e.enqueueRetryable(()=>a(y))};const f=y=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=y,this.appCheck.addTokenListener(this.o)};this.A.onInit(y=>f(y)),setTimeout(()=>{if(!this.appCheck){const y=this.A.getImmediate({optional:!0});y?f(y):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Rt("string"==typeof r.token),this.R=r.token,new Bt(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function un(d){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(d);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let a=0;a<d;a++)r[a]=Math.floor(256*Math.random());return r}class er{static newId(){const r=62*Math.floor(256/62);let a="";for(;a.length<20;){const f=un(40);for(let y=0;y<f.length;++y)a.length<20&&f[y]<r&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(f[y]%62))}return a}}function qt(d,e){return d<e?-1:d>e?1:0}function an(d,e,r){return d.length===e.length&&d.every((a,f)=>r(a,e[f]))}function mn(d){return d+"\0"}class vn{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new fe(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new fe(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new fe(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vn.fromMillis(Date.now())}static fromDate(e){return vn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*r));return new vn(r,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qt(this.nanoseconds,e.nanoseconds):qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class $t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new $t(e)}static min(){return new $t(new vn(0,0))}static max(){return new $t(new vn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class li{constructor(e,r,a){void 0===r?r=0:r>e.length&&_t(),void 0===a?a=e.length-r:a>e.length-r&&_t(),this.segments=e,this.offset=r,this.len=a}get length(){return this.len}isEqual(e){return 0===li.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof li?e.forEach(a=>{r.push(a)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,a=this.limit();r<a;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const a=Math.min(e.length,r.length);for(let f=0;f<a;f++){const y=e.get(f),b=r.get(f);if(y<b)return-1;if(y>b)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class In extends li{construct(e,r,a){return new In(e,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const a of e){if(a.indexOf("//")>=0)throw new fe(Pe.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter(f=>f.length>0))}return new In(r)}static emptyPath(){return new In([])}}const ur=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class On extends li{construct(e,r,a){return new On(e,r,a)}static isValidIdentifier(e){return ur.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),On.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new On(["__name__"])}static fromServerFormat(e){const r=[];let a="",f=0;const y=()=>{if(0===a.length)throw new fe(Pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let b=!1;for(;f<e.length;){const x=e[f];if("\\"===x){if(f+1===e.length)throw new fe(Pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const L=e[f+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new fe(Pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=L,f+=2}else"`"===x?(b=!b,f++):"."!==x||b?(a+=x,f++):(y(),f++)}if(y(),b)throw new fe(Pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new On(r)}static emptyPath(){return new On([])}}class Ot{constructor(e){this.path=e}static fromPath(e){return new Ot(In.fromString(e))}static fromName(e){return new Ot(In.fromString(e).popFirst(5))}static empty(){return new Ot(In.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===In.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return In.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ot(new In(e.slice()))}}class fn{constructor(e,r,a,f){this.indexId=e,this.collectionGroup=r,this.fields=a,this.indexState=f}}function wn(d){return d.fields.find(e=>2===e.kind)}function _n(d){return d.fields.filter(e=>2!==e.kind)}fn.UNKNOWN_ID=-1;class _r{constructor(e,r){this.fieldPath=e,this.kind=r}}class Pn{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Pn(0,Kt.min())}}function Ir(d,e){const r=d.toTimestamp().seconds,a=d.toTimestamp().nanoseconds+1,f=$t.fromTimestamp(1e9===a?new vn(r+1,0):new vn(r,a));return new Kt(f,Ot.empty(),e)}function ui(d){return new Kt(d.readTime,d.key,-1)}class Kt{constructor(e,r,a){this.readTime=e,this.documentKey=r,this.largestBatchId=a}static min(){return new Kt($t.min(),Ot.empty(),-1)}static max(){return new Kt($t.max(),Ot.empty(),-1)}}function si(d,e){let r=d.readTime.compareTo(e.readTime);return 0!==r?r:(r=Ot.comparator(d.documentKey,e.documentKey),0!==r?r:qt(d.largestBatchId,e.largestBatchId))}const Hn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function gr(d){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,I.Z)(function*(d){if(d.code!==Pe.FAILED_PRECONDITION||d.message!==Hn)throw d;de("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new je((a,f)=>{this.nextCallback=y=>{this.wrapSuccess(e,y).next(a,f)},this.catchCallback=y=>{this.wrapFailure(r,y).next(a,f)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof je?r:je.resolve(r)}catch(r){return je.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):je.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):je.reject(r)}static resolve(e){return new je((r,a)=>{r(e)})}static reject(e){return new je((r,a)=>{a(e)})}static waitFor(e){return new je((r,a)=>{let f=0,y=0,b=!1;e.forEach(x=>{++f,x.next(()=>{++y,b&&y===f&&r()},L=>a(L))}),b=!0,y===f&&r()})}static or(e){let r=je.resolve(!1);for(const a of e)r=r.next(f=>f?je.resolve(f):a());return r}static forEach(e,r){const a=[];return e.forEach((f,y)=>{a.push(r.call(this,f,y))}),this.waitFor(a)}static mapArray(e,r){return new je((a,f)=>{const y=e.length,b=new Array(y);let x=0;for(let L=0;L<y;L++){const q=L;r(e[q]).next(ne=>{b[q]=ne,++x,x===y&&a(b)},ne=>f(ne))}})}static doWhile(e,r){return new je((a,f)=>{const y=()=>{!0===e()?r().next(()=>{y()},f):a()};y()})}}class Et{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Oe,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new Lt(e,r.error)):this.V.resolve()},this.transaction.onerror=a=>{const f=Q(a.target.error);this.V.reject(new Lt(e,f))}}static open(e,r,a,f){try{return new Et(r,e.transaction(f,a))}catch(y){throw new Lt(r,y)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(de("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new oi(r)}}class ie{constructor(e,r,a){this.name=e,this.version=r,this.p=a,12.2===ie.S((0,_e.z$)())&&gt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return de("SimpleDb","Removing database:",e),xt(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,_e.hl)())return!1;if(ie.C())return!0;const e=(0,_e.z$)(),r=ie.S(e),a=0<r&&r<10,f=Te(e),y=0<f&&f<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||y)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(a)}M(e){var r=this;return(0,I.Z)(function*(){return r.db||(de("SimpleDb","Opening database:",r.name),r.db=yield new Promise((a,f)=>{const y=indexedDB.open(r.name,r.version);y.onsuccess=b=>{a(b.target.result)},y.onblocked=()=>{f(new Lt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},y.onerror=b=>{const x=b.target.error;f("VersionError"===x.name?new fe(Pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===x.name?new fe(Pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+x):new Lt(e,x))},y.onupgradeneeded=b=>{de("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',b.oldVersion),r.p.O(b.target.result,y.transaction,b.oldVersion,r.version).next(()=>{de("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=a=>r.N(a)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,a,f){var y=this;return(0,I.Z)(function*(){const b="readonly"===r;let x=0;for(;;){++x;try{y.db=yield y.M(e);const L=Et.open(y.db,e,b?"readonly":"readwrite",a),q=f(L).next(ne=>(L.g(),ne)).catch(ne=>(L.abort(ne),je.reject(ne))).toPromise();return q.catch(()=>{}),yield L.m,q}catch(L){const q=L,ne="FirebaseError"!==q.name&&x<3;if(de("SimpleDb","Transaction failed with error:",q.message,"Retrying:",ne),y.close(),!ne)return Promise.reject(q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Te(d){const e=d.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class ct{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return xt(this.B.delete())}}class Lt extends fe{constructor(e,r){super(Pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Dn(d){return"IndexedDbTransactionError"===d.name}class oi{constructor(e){this.store=e}put(e,r){let a;return void 0!==r?(de("SimpleDb","PUT",this.store.name,e,r),a=this.store.put(r,e)):(de("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),xt(a)}add(e){return de("SimpleDb","ADD",this.store.name,e,e),xt(this.store.add(e))}get(e){return xt(this.store.get(e)).next(r=>(void 0===r&&(r=null),de("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return de("SimpleDb","DELETE",this.store.name,e),xt(this.store.delete(e))}count(){return de("SimpleDb","COUNT",this.store.name),xt(this.store.count())}U(e,r){const a=this.options(e,r),f=a.index?this.store.index(a.index):this.store;if("function"==typeof f.getAll){const y=f.getAll(a.range);return new je((b,x)=>{y.onerror=L=>{x(L.target.error)},y.onsuccess=L=>{b(L.target.result)}})}{const y=this.cursor(a),b=[];return this.W(y,(x,L)=>{b.push(L)}).next(()=>b)}}G(e,r){const a=this.store.getAll(e,null===r?void 0:r);return new je((f,y)=>{a.onerror=b=>{y(b.target.error)},a.onsuccess=b=>{f(b.target.result)}})}j(e,r){de("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,r);a.H=!1;const f=this.cursor(a);return this.W(f,(y,b,x)=>x.delete())}J(e,r){let a;r?a=e:(a={},r=e);const f=this.cursor(a);return this.W(f,r)}Y(e){const r=this.cursor({});return new je((a,f)=>{r.onerror=y=>{const b=Q(y.target.error);f(b)},r.onsuccess=y=>{const b=y.target.result;b?e(b.primaryKey,b.value).next(x=>{x?b.continue():a()}):a()}})}W(e,r){const a=[];return new je((f,y)=>{e.onerror=b=>{y(b.target.error)},e.onsuccess=b=>{const x=b.target.result;if(!x)return void f();const L=new ct(x),q=r(x.primaryKey,x.value,L);if(q instanceof je){const ne=q.catch(pe=>(L.done(),je.reject(pe)));a.push(ne)}L.isDone?f():null===L.K?x.continue():x.continue(L.K)}}).next(()=>je.waitFor(a))}options(e,r){let a;return void 0!==e&&("string"==typeof e?a=e:r=e),{index:a,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const a=this.store.index(e.index);return e.H?a.openKeyCursor(e.range,r):a.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function xt(d){return new je((e,r)=>{d.onsuccess=a=>{e(a.target.result)},d.onerror=a=>{const f=Q(a.target.error);r(f)}})}let oe=!1;function Q(d){const e=ie.S((0,_e.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(d.message.indexOf(r)>=0){const a=new fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return oe||(oe=!0,setTimeout(()=>{throw a},0)),a}}return d}class H{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;de("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,I.Z)(function*(){r.task=null;try{de("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(a){Dn(a)?de("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",a):yield gr(a)}yield r.X(6e4)}))}}class U{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,I.Z)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>r.te(a,e))})()}te(e,r){const a=new Set;let f=r,y=!0;return je.doWhile(()=>!0===y&&f>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(b=>{if(null!==b&&!a.has(b))return de("IndexBackfiller",`Processing collection: ${b}`),this.ne(e,b,f).next(x=>{f-=x,a.add(b)});y=!1})).next(()=>r-f)}ne(e,r,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(f=>this.localStore.localDocuments.getNextDocuments(e,r,f,a).next(y=>{const b=y.changes;return this.localStore.indexManager.updateIndexEntries(e,b).next(()=>this.re(f,y)).next(x=>(de("IndexBackfiller",`Updating offset: ${x}`),this.localStore.indexManager.updateCollectionGroup(e,r,x))).next(()=>b.size)}))}re(e,r){let a=e;return r.changes.forEach((f,y)=>{const b=ui(y);si(b,a)>0&&(a=b)}),new Kt(a.readTime,a.documentKey,Math.max(r.batchId,e.largestBatchId))}}let F=(()=>{class d{constructor(r,a){this.previousValue=r,a&&(a.sequenceNumberHandler=f=>this.ie(f),this.se=f=>a.writeSequenceNumber(f))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return d.oe=-1,d})();function ce(d){return null==d}function xe(d){return 0===d&&1/d==-1/0}function pt(d){return"number"==typeof d&&Number.isInteger(d)&&!xe(d)&&d<=Number.MAX_SAFE_INTEGER&&d>=Number.MIN_SAFE_INTEGER}function Pt(d){let e="";for(let r=0;r<d.length;r++)e.length>0&&(e=Yt(e)),e=Jt(d.get(r),e);return Yt(e)}function Jt(d,e){let r=e;const a=d.length;for(let f=0;f<a;f++){const y=d.charAt(f);switch(y){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=y}}return r}function Yt(d){return d+"\x01\x01"}function en(d){const e=d.length;if(Rt(e>=2),2===e)return Rt("\x01"===d.charAt(0)&&"\x01"===d.charAt(1)),In.emptyPath();const r=e-2,a=[];let f="";for(let y=0;y<e;){const b=d.indexOf("\x01",y);switch((b<0||b>r)&&_t(),d.charAt(b+1)){case"\x01":const x=d.substring(y,b);let L;0===f.length?L=x:(f+=x,L=f,f=""),a.push(L);break;case"\x10":f+=d.substring(y,b),f+="\0";break;case"\x11":f+=d.substring(y,b+1);break;default:_t()}y=b+2}return new In(a)}const Gn=["userId","batchId"];function Sn(d,e){return[d,Pt(e)]}function yi(d,e,r){return[d,Pt(e),r]}const xs={},Fo=["prefixPath","collectionGroup","readTime","documentId"],wi=["prefixPath","collectionGroup","documentId"],vo=["collectionGroup","readTime","prefixPath","documentId"],Os=["canonicalId","targetId"],ki=["targetId","path"],or=["path","targetId"],Zs=["collectionId","parent"],Pa=["indexId","uid"],Ra=["uid","sequenceNumber"],Gl=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Yi=["indexId","uid","orderedDocumentKey"],Mr=["userId","collectionPath","documentId"],Xa=["userId","collectionPath","largestBatchId"],ai=["userId","collectionGroup","largestBatchId"],xa=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ia=[...xa,"documentOverlays"],Oa=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],mr=Oa,$i=[...mr,"indexConfiguration","indexState","indexEntries"],co=$i;class zi extends pr{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function Br(d,e){const r=nt(d);return ie.F(r._e,e)}function Ns(d){let e=0;for(const r in d)Object.prototype.hasOwnProperty.call(d,r)&&e++;return e}function Qi(d,e){for(const r in d)Object.prototype.hasOwnProperty.call(d,r)&&e(r,d[r])}function ec(d){for(const e in d)if(Object.prototype.hasOwnProperty.call(d,e))return!1;return!0}class Pr{constructor(e,r){this.comparator=e,this.root=r||pi.EMPTY}insert(e,r){return new Pr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,pi.BLACK,null,null))}remove(e){return new Pr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pi.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(0===a)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(e){let r=0,a=this.root;for(;!a.isEmpty();){const f=this.comparator(e,a.key);if(0===f)return r+a.left.size;f<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,a)=>(e(r,a),!1))}toString(){const e=[];return this.inorderTraversal((r,a)=>(e.push(`${r}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tc(this.root,e,this.comparator,!1)}getReverseIterator(){return new tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tc(this.root,e,this.comparator,!0)}}class tc{constructor(e,r,a,f){this.isReverse=f,this.nodeStack=[];let y=1;for(;!e.isEmpty();)if(y=r?a(e.key,r):1,r&&f&&(y*=-1),y<0)e=this.isReverse?e.left:e.right;else{if(0===y){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pi{constructor(e,r,a,f,y){this.key=e,this.value=r,this.color=a??pi.RED,this.left=f??pi.EMPTY,this.right=y??pi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,a,f,y){return new pi(e??this.key,r??this.value,a??this.color,f??this.left,y??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,a){let f=this;const y=a(e,f.key);return f=y<0?f.copy(null,null,null,f.left.insert(e,r,a),null):0===y?f.copy(null,r,null,null,null):f.copy(null,null,null,null,f.right.insert(e,r,a)),f.fixUp()}removeMin(){if(this.left.isEmpty())return pi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let a,f=this;if(r(e,f.key)<0)f.left.isEmpty()||f.left.isRed()||f.left.left.isRed()||(f=f.moveRedLeft()),f=f.copy(null,null,null,f.left.remove(e,r),null);else{if(f.left.isRed()&&(f=f.rotateRight()),f.right.isEmpty()||f.right.isRed()||f.right.left.isRed()||(f=f.moveRedRight()),0===r(e,f.key)){if(f.right.isEmpty())return pi.EMPTY;a=f.right.min(),f=f.copy(a.key,a.value,null,null,f.right.removeMin())}f=f.copy(null,null,null,null,f.right.remove(e,r))}return f.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const e=this.left.check();if(e!==this.right.check())throw _t();return e+(this.isRed()?0:1)}}pi.EMPTY=null,pi.RED=!0,pi.BLACK=!1,pi.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(e,r,a,f,y){return this}insert(e,r,a){return new pi(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Tr{constructor(e){this.comparator=e,this.data=new Pr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,a)=>(e(r),!1))}forEachInRange(e,r){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const f=a.getNext();if(this.comparator(f.key,e[1])>=0)return;r(f.key)}}forEachWhile(e,r){let a;for(a=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new nc(this.data.getIterator())}getIteratorFrom(e){return new nc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(a=>{r=r.add(a)}),r}isEqual(e){if(!(e instanceof Tr)||this.size!==e.size)return!1;const r=this.data.getIterator(),a=e.data.getIterator();for(;r.hasNext();){const f=r.getNext().key,y=a.getNext().key;if(0!==this.comparator(f,y))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Tr(this.comparator);return r.data=e,r}}class nc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ks(d){return d.hasNext()?d.getNext():void 0}class Ai{constructor(e){this.fields=e,e.sort(On.comparator)}static empty(){return new Ai([])}unionWith(e){let r=new Tr(On.comparator);for(const a of this.fields)r=r.add(a);for(const a of e)r=r.add(a);return new Ai(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return an(this.fields,e.fields,(r,a)=>r.isEqual(a))}}class os extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function sa(){return typeof atob<"u"}class ti{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(f){try{return atob(f)}catch(y){throw typeof DOMException<"u"&&y instanceof DOMException?new os("Invalid base64 string: "+y):y}}(e);return new ti(r)}static fromUint8Array(e){const r=function(f){let y="";for(let b=0;b<f.length;++b)y+=String.fromCharCode(f[b]);return y}(e);return new ti(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const a=new Uint8Array(r.length);for(let f=0;f<r.length;f++)a[f]=r.charCodeAt(f);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ti.EMPTY_BYTE_STRING=new ti("");const oa=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function as(d){if(Rt(!!d),"string"==typeof d){let e=0;const r=oa.exec(d);if(Rt(!!r),r[1]){let f=r[1];f=(f+"000000000").substr(0,9),e=Number(f)}const a=new Date(d);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Qr(d.seconds),nanos:Qr(d.nanos)}}function Qr(d){return"number"==typeof d?d:"string"==typeof d?Number(d):0}function Is(d){return"string"==typeof d?ti.fromBase64String(d):ti.fromUint8Array(d)}function bs(d){var e,r;return"server_timestamp"===(null===(r=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Lo(d){const e=d.mapValue.fields.__previous_value__;return bs(e)?Lo(e):e}function Ri(d){const e=as(d.mapValue.fields.__local_write_time__.timestampValue);return new vn(e.seconds,e.nanos)}class aa{constructor(e,r,a,f,y,b,x,L,q){this.databaseId=e,this.appId=r,this.persistenceKey=a,this.host=f,this.ssl=y,this.forceLongPolling=b,this.autoDetectLongPolling=x,this.longPollingOptions=L,this.useFetchStreams=q}}class An{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new An("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof An&&e.projectId===this.projectId&&e.database===this.database}}const Cr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},jr={nullValue:"NULL_VALUE"};function xi(d){return"nullValue"in d?0:"booleanValue"in d?1:"integerValue"in d||"doubleValue"in d?2:"timestampValue"in d?3:"stringValue"in d?5:"bytesValue"in d?6:"referenceValue"in d?7:"geoPointValue"in d?8:"arrayValue"in d?9:"mapValue"in d?bs(d)?4:Yn(d)?9007199254740991:10:_t()}function kr(d,e){if(d===e)return!0;const r=xi(d);if(r!==xi(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return d.booleanValue===e.booleanValue;case 4:return Ri(d).isEqual(Ri(e));case 3:return function(f,y){if("string"==typeof f.timestampValue&&"string"==typeof y.timestampValue&&f.timestampValue.length===y.timestampValue.length)return f.timestampValue===y.timestampValue;const b=as(f.timestampValue),x=as(y.timestampValue);return b.seconds===x.seconds&&b.nanos===x.nanos}(d,e);case 5:return d.stringValue===e.stringValue;case 6:return y=e,Is(d.bytesValue).isEqual(Is(y.bytesValue));case 7:return d.referenceValue===e.referenceValue;case 8:return function(f,y){return Qr(f.geoPointValue.latitude)===Qr(y.geoPointValue.latitude)&&Qr(f.geoPointValue.longitude)===Qr(y.geoPointValue.longitude)}(d,e);case 2:return function(f,y){if("integerValue"in f&&"integerValue"in y)return Qr(f.integerValue)===Qr(y.integerValue);if("doubleValue"in f&&"doubleValue"in y){const b=Qr(f.doubleValue),x=Qr(y.doubleValue);return b===x?xe(b)===xe(x):isNaN(b)&&isNaN(x)}return!1}(d,e);case 9:return an(d.arrayValue.values||[],e.arrayValue.values||[],kr);case 10:return function(f,y){const b=f.mapValue.fields||{},x=y.mapValue.fields||{};if(Ns(b)!==Ns(x))return!1;for(const L in b)if(b.hasOwnProperty(L)&&(void 0===x[L]||!kr(b[L],x[L])))return!1;return!0}(d,e);default:return _t()}var y}function Gi(d,e){return void 0!==(d.values||[]).find(r=>kr(r,e))}function Li(d,e){if(d===e)return 0;const r=xi(d),a=xi(e);if(r!==a)return qt(r,a);switch(r){case 0:case 9007199254740991:return 0;case 1:return qt(d.booleanValue,e.booleanValue);case 2:return function(y,b){const x=Qr(y.integerValue||y.doubleValue),L=Qr(b.integerValue||b.doubleValue);return x<L?-1:x>L?1:x===L?0:isNaN(x)?isNaN(L)?0:-1:1}(d,e);case 3:return Vo(d.timestampValue,e.timestampValue);case 4:return Vo(Ri(d),Ri(e));case 5:return qt(d.stringValue,e.stringValue);case 6:return function(y,b){const x=Is(y),L=Is(b);return x.compareTo(L)}(d.bytesValue,e.bytesValue);case 7:return function(y,b){const x=y.split("/"),L=b.split("/");for(let q=0;q<x.length&&q<L.length;q++){const ne=qt(x[q],L[q]);if(0!==ne)return ne}return qt(x.length,L.length)}(d.referenceValue,e.referenceValue);case 8:return function(y,b){const x=qt(Qr(y.latitude),Qr(b.latitude));return 0!==x?x:qt(Qr(y.longitude),Qr(b.longitude))}(d.geoPointValue,e.geoPointValue);case 9:return function(y,b){const x=y.values||[],L=b.values||[];for(let q=0;q<x.length&&q<L.length;++q){const ne=Li(x[q],L[q]);if(ne)return ne}return qt(x.length,L.length)}(d.arrayValue,e.arrayValue);case 10:return function(y,b){if(y===Cr.mapValue&&b===Cr.mapValue)return 0;if(y===Cr.mapValue)return 1;if(b===Cr.mapValue)return-1;const x=y.fields||{},L=Object.keys(x),q=b.fields||{},ne=Object.keys(q);L.sort(),ne.sort();for(let pe=0;pe<L.length&&pe<ne.length;++pe){const Se=qt(L[pe],ne[pe]);if(0!==Se)return Se;const tt=Li(x[L[pe]],q[ne[pe]]);if(0!==tt)return tt}return qt(L.length,ne.length)}(d.mapValue,e.mapValue);default:throw _t()}}function Vo(d,e){if("string"==typeof d&&"string"==typeof e&&d.length===e.length)return qt(d,e);const r=as(d),a=as(e),f=qt(r.seconds,a.seconds);return 0!==f?f:qt(r.nanos,a.nanos)}function qi(d){return Ts(d)}function Ts(d){return"nullValue"in d?"null":"booleanValue"in d?""+d.booleanValue:"integerValue"in d?""+d.integerValue:"doubleValue"in d?""+d.doubleValue:"timestampValue"in d?function(r){const a=as(r);return`time(${a.seconds},${a.nanos})`}(d.timestampValue):"stringValue"in d?d.stringValue:"bytesValue"in d?Is(d.bytesValue).toBase64():"referenceValue"in d?Ot.fromName(d.referenceValue).toString():"geoPointValue"in d?function(r){return`geo(${r.latitude},${r.longitude})`}(d.geoPointValue):"arrayValue"in d?function(r){let a="[",f=!0;for(const y of r.values||[])f?f=!1:a+=",",a+=Ts(y);return a+"]"}(d.arrayValue):"mapValue"in d?function(r){const a=Object.keys(r.fields||{}).sort();let f="{",y=!0;for(const b of a)y?y=!1:f+=",",f+=`${b}:${Ts(r.fields[b])}`;return f+"}"}(d.mapValue):_t()}function Zt(d,e){return{referenceValue:`projects/${d.projectId}/databases/${d.database}/documents/${e.path.canonicalString()}`}}function Mn(d){return!!d&&"integerValue"in d}function lr(d){return!!d&&"arrayValue"in d}function gi(d){return!!d&&"nullValue"in d}function lo(d){return!!d&&"doubleValue"in d&&isNaN(Number(d.doubleValue))}function Hr(d){return!!d&&"mapValue"in d}function ni(d){if(d.geoPointValue)return{geoPointValue:Object.assign({},d.geoPointValue)};if(d.timestampValue&&"object"==typeof d.timestampValue)return{timestampValue:Object.assign({},d.timestampValue)};if(d.mapValue){const e={mapValue:{fields:{}}};return Qi(d.mapValue.fields,(r,a)=>e.mapValue.fields[r]=ni(a)),e}if(d.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(d.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=ni(d.arrayValue.values[r]);return e}return Object.assign({},d)}function Yn(d){return"__max__"===(((d.mapValue||{}).fields||{}).__type__||{}).stringValue}function Zi(d){return"nullValue"in d?jr:"booleanValue"in d?{booleanValue:!1}:"integerValue"in d||"doubleValue"in d?{doubleValue:NaN}:"timestampValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in d?{stringValue:""}:"bytesValue"in d?{bytesValue:""}:"referenceValue"in d?Zt(An.empty(),Ot.empty()):"geoPointValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in d?{arrayValue:{}}:"mapValue"in d?{mapValue:{}}:_t()}function cs(d){return"nullValue"in d?{booleanValue:!1}:"booleanValue"in d?{doubleValue:NaN}:"integerValue"in d||"doubleValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in d?{stringValue:""}:"stringValue"in d?{bytesValue:""}:"bytesValue"in d?Zt(An.empty(),Ot.empty()):"referenceValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in d?{arrayValue:{}}:"arrayValue"in d?{mapValue:{}}:"mapValue"in d?Cr:_t()}function Fn(d,e){const r=Li(d.value,e.value);return 0!==r?r:d.inclusive&&!e.inclusive?-1:!d.inclusive&&e.inclusive?1:0}function Ji(d,e){const r=Li(d.value,e.value);return 0!==r?r:d.inclusive&&!e.inclusive?1:!d.inclusive&&e.inclusive?-1:0}class tr{constructor(e){this.value=e}static empty(){return new tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let a=0;a<e.length-1;++a)if(r=(r.mapValue.fields||{})[e.get(a)],!Hr(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=ni(r)}setAll(e){let r=On.emptyPath(),a={},f=[];e.forEach((b,x)=>{if(!r.isImmediateParentOf(x)){const L=this.getFieldsMap(r);this.applyChanges(L,a,f),a={},f=[],r=x.popLast()}b?a[x.lastSegment()]=ni(b):f.push(x.lastSegment())});const y=this.getFieldsMap(r);this.applyChanges(y,a,f)}delete(e){const r=this.field(e.popLast());Hr(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return kr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<e.length;++a){let f=r.mapValue.fields[e.get(a)];Hr(f)&&f.mapValue.fields||(f={mapValue:{fields:{}}},r.mapValue.fields[e.get(a)]=f),r=f}return r.mapValue.fields}applyChanges(e,r,a){Qi(r,(f,y)=>e[f]=y);for(const f of a)delete e[f]}clone(){return new tr(ni(this.value))}}function vi(d){const e=[];return Qi(d.fields,(r,a)=>{const f=new On([r]);if(Hr(a)){const y=vi(a.mapValue).fields;if(0===y.length)e.push(f);else for(const b of y)e.push(f.child(b))}else e.push(f)}),new Ai(e)}class Ln{constructor(e,r,a,f,y,b,x){this.key=e,this.documentType=r,this.version=a,this.readTime=f,this.createTime=y,this.data=b,this.documentState=x}static newInvalidDocument(e){return new Ln(e,0,$t.min(),$t.min(),$t.min(),tr.empty(),0)}static newFoundDocument(e,r,a,f){return new Ln(e,1,r,$t.min(),a,f,0)}static newNoDocument(e,r){return new Ln(e,2,r,$t.min(),$t.min(),tr.empty(),0)}static newUnknownDocument(e,r){return new Ln(e,3,r,$t.min(),$t.min(),tr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual($t.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xi{constructor(e,r){this.position=e,this.inclusive=r}}function Ei(d,e,r){let a=0;for(let f=0;f<d.position.length;f++){const y=e[f],b=d.position[f];if(a=y.field.isKeyField()?Ot.comparator(Ot.fromName(b.referenceValue),r.key):Li(b,r.data.field(y.field)),"desc"===y.dir&&(a*=-1),0!==a)break}return a}function ls(d,e){if(null===d)return null===e;if(null===e||d.inclusive!==e.inclusive||d.position.length!==e.position.length)return!1;for(let r=0;r<d.position.length;r++)if(!kr(d.position[r],e.position[r]))return!1;return!0}class Fs{constructor(e,r="asc"){this.field=e,this.dir=r}}function Yc(d,e){return d.dir===e.dir&&d.field.isEqual(e.field)}class us{}class Kn extends us{constructor(e,r,a){super(),this.field=e,this.op=r,this.value=a}static create(e,r,a){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,a):new uo(e,r,a):"array-contains"===r?new Le(e,a):"in"===r?new It(e,a):"not-in"===r?new Nt(e,a):"array-contains-any"===r?new Qt(e,a):new Kn(e,r,a)}static createKeyFieldInFilter(e,r,a){return"in"===r?new zr(e,a):new ae(e,a)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(Li(r,this.value)):null!==r&&xi(this.value)===xi(r)&&this.matchesComparison(Li(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ir extends us{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new ir(e,r)}matches(e){return Ls(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ls(d){return"and"===d.op}function Qn(d){return"or"===d.op}function Na(d){return es(d)&&Ls(d)}function es(d){for(const e of d.filters)if(e instanceof ir)return!1;return!0}function Oi(d){if(d instanceof Kn)return d.field.canonicalString()+d.op.toString()+qi(d.value);if(Na(d))return d.filters.map(e=>Oi(e)).join(",");{const e=d.filters.map(r=>Oi(r)).join(",");return`${d.op}(${e})`}}function ds(d,e){return d instanceof Kn?(a=d,(f=e)instanceof Kn&&a.op===f.op&&a.field.isEqual(f.field)&&kr(a.value,f.value)):d instanceof ir?function(a,f){return f instanceof ir&&a.op===f.op&&a.filters.length===f.filters.length&&a.filters.reduce((y,b,x)=>y&&ds(b,f.filters[x]),!0)}(d,e):void _t();var a,f}function Cs(d,e){const r=d.filters.concat(e);return ir.create(r,d.op)}function Uo(d){return d instanceof Kn?`${(r=d).field.canonicalString()} ${r.op} ${qi(r.value)}`:d instanceof ir?function(r){return r.op.toString()+" {"+r.getFilters().map(Uo).join(" ,")+"}"}(d):"Filter";var r}class uo extends Kn{constructor(e,r,a){super(e,r,a),this.key=Ot.fromName(a.referenceValue)}matches(e){const r=Ot.comparator(e.key,this.key);return this.matchesComparison(r)}}class zr extends Kn{constructor(e,r){super(e,"in",r),this.keys=be(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class ae extends Kn{constructor(e,r){super(e,"not-in",r),this.keys=be(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function be(d,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(a=>Ot.fromName(a.referenceValue))}class Le extends Kn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return lr(r)&&Gi(r.arrayValue,this.value)}}class It extends Kn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Gi(this.value.arrayValue,r)}}class Nt extends Kn{constructor(e,r){super(e,"not-in",r)}matches(e){if(Gi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Gi(this.value.arrayValue,r)}}class Qt extends Kn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!lr(r)||!r.arrayValue.values)&&r.arrayValue.values.some(a=>Gi(this.value.arrayValue,a))}}class cn{constructor(e,r=null,a=[],f=[],y=null,b=null,x=null){this.path=e,this.collectionGroup=r,this.orderBy=a,this.filters=f,this.limit=y,this.startAt=b,this.endAt=x,this.ue=null}}function Vn(d,e=null,r=[],a=[],f=null,y=null,b=null){return new cn(d,e,r,a,f,y,b)}function bn(d){const e=nt(d);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(a=>Oi(a)).join(","),r+="|ob:",r+=e.orderBy.map(a=>{return(y=a).field.canonicalString()+y.dir;var y}).join(","),ce(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(a=>qi(a)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(a=>qi(a)).join(",")),e.ue=r}return e.ue}function qn(d,e){if(d.limit!==e.limit||d.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<d.orderBy.length;r++)if(!Yc(d.orderBy[r],e.orderBy[r]))return!1;if(d.filters.length!==e.filters.length)return!1;for(let r=0;r<d.filters.length;r++)if(!ds(d.filters[r],e.filters[r]))return!1;return d.collectionGroup===e.collectionGroup&&!!d.path.isEqual(e.path)&&!!ls(d.startAt,e.startAt)&&ls(d.endAt,e.endAt)}function Vi(d){return Ot.isDocumentKey(d.path)&&null===d.collectionGroup&&0===d.filters.length}function hs(d,e){return d.filters.filter(r=>r instanceof Kn&&r.field.isEqual(e))}function Ni(d,e,r){let a=jr,f=!0;for(const y of hs(d,e)){let b=jr,x=!0;switch(y.op){case"<":case"<=":b=Zi(y.value);break;case"==":case"in":case">=":b=y.value;break;case">":b=y.value,x=!1;break;case"!=":case"not-in":b=jr}Fn({value:a,inclusive:f},{value:b,inclusive:x})<0&&(a=b,f=x)}if(null!==r)for(let y=0;y<d.orderBy.length;++y)if(d.orderBy[y].field.isEqual(e)){const b=r.position[y];Fn({value:a,inclusive:f},{value:b,inclusive:r.inclusive})<0&&(a=b,f=r.inclusive);break}return{value:a,inclusive:f}}function Ws(d,e,r){let a=Cr,f=!0;for(const y of hs(d,e)){let b=Cr,x=!0;switch(y.op){case">=":case">":b=cs(y.value),x=!1;break;case"==":case"in":case"<=":b=y.value;break;case"<":b=y.value,x=!1;break;case"!=":case"not-in":b=Cr}Ji({value:a,inclusive:f},{value:b,inclusive:x})>0&&(a=b,f=x)}if(null!==r)for(let y=0;y<d.orderBy.length;++y)if(d.orderBy[y].field.isEqual(e)){const b=r.position[y];Ji({value:a,inclusive:f},{value:b,inclusive:r.inclusive})>0&&(a=b,f=r.inclusive);break}return{value:a,inclusive:f}}class ca{constructor(e,r=null,a=[],f=[],y=null,b="F",x=null,L=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=f,this.limit=y,this.limitType=b,this.startAt=x,this.endAt=L,this.ce=null,this.le=null,this.he=null}}function Pu(d,e,r,a,f,y,b,x){return new ca(d,e,r,a,f,y,b,x)}function Fr(d){return new ca(d)}function Bd(d){return 0===d.filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())}function ql(d){return null!==d.collectionGroup}function la(d){const e=nt(d);if(null===e.ce){e.ce=[];const r=new Set;for(const y of e.explicitOrderBy)e.ce.push(y),r.add(y.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(b){let x=new Tr(On.comparator);return b.filters.forEach(L=>{L.getFlattenedFilters().forEach(q=>{q.isInequality()&&(x=x.add(q.field))})}),x})(e).forEach(y=>{r.has(y.canonicalString())||y.isKeyField()||e.ce.push(new Fs(y,a))}),r.has(On.keyField().canonicalString())||e.ce.push(new Fs(On.keyField(),a))}return e.ce}function mi(d){const e=nt(d);return e.le||(e.le=function Zl(d,e){if("F"===d.limitType)return Vn(d.path,d.collectionGroup,e,d.filters,d.limit,d.startAt,d.endAt);{e=e.map(f=>new Fs(f.field,"desc"===f.dir?"asc":"desc"));const r=d.endAt?new Xi(d.endAt.position,d.endAt.inclusive):null,a=d.startAt?new Xi(d.startAt.position,d.startAt.inclusive):null;return Vn(d.path,d.collectionGroup,e,d.filters,d.limit,r,a)}}(e,la(d))),e.le}function rc(d,e){const r=d.filters.concat([e]);return new ca(d.path,d.collectionGroup,d.explicitOrderBy.slice(),r,d.limit,d.limitType,d.startAt,d.endAt)}function ic(d,e,r){return new ca(d.path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),e,r,d.startAt,d.endAt)}function ka(d,e){return qn(mi(d),mi(e))&&d.limitType===e.limitType}function Qc(d){return`${bn(mi(d))}|lt:${d.limitType}`}function sc(d){return`Query(target=${function(r){let a=r.path.canonicalString();return null!==r.collectionGroup&&(a+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(a+=`, filters: [${r.filters.map(f=>Uo(f)).join(", ")}]`),ce(r.limit)||(a+=", limit: "+r.limit),r.orderBy.length>0&&(a+=`, orderBy: [${r.orderBy.map(f=>{return`${(b=f).field.canonicalString()} (${b.dir})`;var b}).join(", ")}]`),r.startAt&&(a+=", startAt: ",a+=r.startAt.inclusive?"b:":"a:",a+=r.startAt.position.map(f=>qi(f)).join(",")),r.endAt&&(a+=", endAt: ",a+=r.endAt.inclusive?"a:":"b:",a+=r.endAt.position.map(f=>qi(f)).join(",")),`Target(${a})`}(mi(d))}; limitType=${d.limitType})`}function ua(d,e){return e.isFoundDocument()&&function(a,f){const y=f.key.path;return null!==a.collectionGroup?f.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(y):Ot.isDocumentKey(a.path)?a.path.isEqual(y):a.path.isImmediateParentOf(y)}(d,e)&&function(a,f){for(const y of la(a))if(!y.field.isKeyField()&&null===f.data.field(y.field))return!1;return!0}(d,e)&&function(a,f){for(const y of a.filters)if(!y.matches(f))return!1;return!0}(d,e)&&(f=e,!((a=d).startAt&&!function(b,x,L){const q=Ei(b,x,L);return b.inclusive?q<=0:q<0}(a.startAt,la(a),f)||a.endAt&&!function(b,x,L){const q=Ei(b,x,L);return b.inclusive?q>=0:q>0}(a.endAt,la(a),f)));var a,f}function Jc(d){return d.collectionGroup||(d.path.length%2==1?d.path.lastSegment():d.path.get(d.path.length-2))}function Vs(d){return(e,r)=>{let a=!1;for(const f of la(d)){const y=Ks(f,e,r);if(0!==y)return y;a=a||f.field.isKeyField()}return 0}}function Ks(d,e,r){const a=d.field.isKeyField()?Ot.comparator(e.key,r.key):function(y,b,x){const L=b.data.field(y),q=x.data.field(y);return null!==L&&null!==q?Li(L,q):_t()}(d.field,e,r);switch(d.dir){case"asc":return a;case"desc":return-1*a;default:return _t()}}class Ui{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0!==a)for(const[f,y]of a)if(this.equalsFn(f,e))return y}has(e){return void 0!==this.get(e)}set(e,r){const a=this.mapKeyFn(e),f=this.inner[a];if(void 0===f)return this.inner[a]=[[e,r]],void this.innerSize++;for(let y=0;y<f.length;y++)if(this.equalsFn(f[y][0],e))return void(f[y]=[e,r]);f.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0===a)return!1;for(let f=0;f<a.length;f++)if(this.equalsFn(a[f][0],e))return 1===a.length?delete this.inner[r]:a.splice(f,1),this.innerSize--,!0;return!1}forEach(e){Qi(this.inner,(r,a)=>{for(const[f,y]of a)e(f,y)})}isEmpty(){return ec(this.inner)}size(){return this.innerSize}}const jd=new Pr(Ot.comparator);function hr(){return jd}const da=new Pr(Ot.comparator);function Di(...d){let e=da;for(const r of d)e=e.insert(r.key,r);return e}function xu(d){let e=da;return d.forEach((r,a)=>e=e.insert(r,a.overlayedDocument)),e}function Us(){return Qs()}function Ys(){return Qs()}function Qs(){return new Ui(d=>d.toString(),(d,e)=>d.isEqual(e))}const Eo=new Pr(Ot.comparator),Fa=new Tr(Ot.comparator);function Zn(...d){let e=Fa;for(const r of d)e=e.add(r);return e}const Xc=new Tr(qt);function el(){return Xc}function oc(d,e){if(d.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xe(e)?"-0":e}}function ac(d){return{integerValue:""+d}}function La(d,e){return pt(e)?ac(e):oc(d,e)}class Bo{constructor(){this._=void 0}}function Io(d,e,r){return d instanceof tl?function(f,y){const b={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:f.seconds,nanos:f.nanoseconds}}}};return y&&bs(y)&&(y=Lo(y)),y&&(b.fields.__previous_value__=y),{mapValue:b}}(r,e):d instanceof jo?ef(d,e):d instanceof bo?Hd(d,e):function(f,y){const b=Wl(f,y),x=lc(b)+lc(f.Pe);return Mn(b)&&Mn(f.Pe)?ac(x):oc(f.serializer,x)}(d,e)}function cc(d,e,r){return d instanceof jo?ef(d,e):d instanceof bo?Hd(d,e):r}function Wl(d,e){return d instanceof Va?Mn(a=e)||(y=a)&&"doubleValue"in y?e:{integerValue:0}:null;var a,y}class tl extends Bo{}class jo extends Bo{constructor(e){super(),this.elements=e}}function ef(d,e){const r=Kl(e);for(const a of d.elements)r.some(f=>kr(f,a))||r.push(a);return{arrayValue:{values:r}}}class bo extends Bo{constructor(e){super(),this.elements=e}}function Hd(d,e){let r=Kl(e);for(const a of d.elements)r=r.filter(f=>!kr(f,a));return{arrayValue:{values:r}}}class Va extends Bo{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function lc(d){return Qr(d.integerValue||d.doubleValue)}function Kl(d){return lr(d)&&d.arrayValue.values?d.arrayValue.values.slice():[]}class Ua{constructor(e,r){this.field=e,this.transform=r}}class nl{constructor(e,r){this.version=e,this.transformResults=r}}class $r{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new $r}static exists(e){return new $r(void 0,e)}static updateTime(e){return new $r(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function R(d,e){return void 0!==d.updateTime?e.isFoundDocument()&&e.version.isEqual(d.updateTime):void 0===d.exists||d.exists===e.isFoundDocument()}class X{}function B(d,e){if(!d.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return d.isNoDocument()?new Lr(d.key,$r.none()):new dn(d.key,d.data,$r.none());{const r=d.data,a=tr.empty();let f=new Tr(On.comparator);for(let y of e.fields)if(!f.has(y)){let b=r.field(y);null===b&&y.length>1&&(y=y.popLast(),b=r.field(y)),null===b?a.delete(y):a.set(y,b),f=f.add(y)}return new fr(d.key,a,new Ai(f.toArray()),$r.none())}}function J(d,e,r){d instanceof dn?function(f,y,b){const x=f.value.clone(),L=wr(f.fieldTransforms,y,b.transformResults);x.setAll(L),y.convertToFoundDocument(b.version,x).setHasCommittedMutations()}(d,e,r):d instanceof fr?function(f,y,b){if(!R(f.precondition,y))return void y.convertToUnknownDocument(b.version);const x=wr(f.fieldTransforms,y,b.transformResults),L=y.data;L.setAll(Rr(f)),L.setAll(x),y.convertToFoundDocument(b.version,L).setHasCommittedMutations()}(d,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Ie(d,e,r,a){return d instanceof dn?function(y,b,x,L){if(!R(y.precondition,b))return x;const q=y.value.clone(),ne=Jn(y.fieldTransforms,L,b);return q.setAll(ne),b.convertToFoundDocument(b.version,q).setHasLocalMutations(),null}(d,e,r,a):d instanceof fr?function(y,b,x,L){if(!R(y.precondition,b))return x;const q=Jn(y.fieldTransforms,L,b),ne=b.data;return ne.setAll(Rr(y)),ne.setAll(q),b.convertToFoundDocument(b.version,ne).setHasLocalMutations(),null===x?null:x.unionWith(y.fieldMask.fields).unionWith(y.fieldTransforms.map(pe=>pe.field))}(d,e,r,a):(x=r,R(d.precondition,b=e)?(b.convertToNoDocument(b.version).setHasLocalMutations(),null):x);var b,x}function at(d,e){let r=null;for(const a of d.fieldTransforms){const f=e.data.field(a.field),y=Wl(a.transform,f||null);null!=y&&(null===r&&(r=tr.empty()),r.set(a.field,y))}return r||null}function bt(d,e){return d.type===e.type&&!!d.key.isEqual(e.key)&&!!d.precondition.isEqual(e.precondition)&&(f=e.fieldTransforms,!!(void 0===(a=d.fieldTransforms)&&void 0===f||a&&f&&an(a,f,(y,b)=>function $d(d,e){return d.field.isEqual(e.field)&&(f=e.transform,(a=d.transform)instanceof jo&&f instanceof jo||a instanceof bo&&f instanceof bo?an(a.elements,f.elements,kr):a instanceof Va&&f instanceof Va?kr(a.Pe,f.Pe):a instanceof tl&&f instanceof tl);var a,f}(y,b))))&&(0===d.type?d.value.isEqual(e.value):1!==d.type||d.data.isEqual(e.data)&&d.fieldMask.isEqual(e.fieldMask));var a,f}class dn extends X{constructor(e,r,a,f=[]){super(),this.key=e,this.value=r,this.precondition=a,this.fieldTransforms=f,this.type=0}getFieldMask(){return null}}class fr extends X{constructor(e,r,a,f,y=[]){super(),this.key=e,this.data=r,this.fieldMask=a,this.precondition=f,this.fieldTransforms=y,this.type=1}getFieldMask(){return this.fieldMask}}function Rr(d){const e=new Map;return d.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const a=d.data.field(r);e.set(r,a)}}),e}function wr(d,e,r){const a=new Map;Rt(d.length===r.length);for(let f=0;f<r.length;f++){const y=d[f],b=y.transform,x=e.data.field(y.field);a.set(y.field,cc(b,x,r[f]))}return a}function Jn(d,e,r){const a=new Map;for(const f of d){const y=f.transform,b=r.data.field(f.field);a.set(f.field,Io(y,b,e))}return a}class Lr extends X{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Er extends X{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ii{constructor(e,r,a,f){this.batchId=e,this.localWriteTime=r,this.baseMutations=a,this.mutations=f}applyToRemoteDocument(e,r){const a=r.mutationResults;for(let f=0;f<this.mutations.length;f++){const y=this.mutations[f];y.key.isEqual(e.key)&&J(y,e,a[f])}}applyToLocalView(e,r){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(r=Ie(a,e,r,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(r=Ie(a,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const a=Ys();return this.mutations.forEach(f=>{const y=e.get(f.key),b=y.overlayedDocument;let x=this.applyToLocalView(b,y.mutatedFields);x=r.has(f.key)?null:x;const L=B(b,x);null!==L&&a.set(f.key,L),b.isValidDocument()||b.convertToNoDocument($t.min())}),a}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Zn())}isEqual(e){return this.batchId===e.batchId&&an(this.mutations,e.mutations,(r,a)=>bt(r,a))&&an(this.baseMutations,e.baseMutations,(r,a)=>bt(r,a))}}class Wi{constructor(e,r,a,f){this.batch=e,this.commitVersion=r,this.mutationResults=a,this.docVersions=f}static from(e,r,a){Rt(e.mutations.length===a.length);let f=Eo;const y=e.mutations;for(let b=0;b<y.length;b++)f=f.insert(y[b].key,a[b].version);return new Wi(e,r,a,f)}}class Bi{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ws{constructor(e,r){this.count=e,this.unchangedNames=r}}var Gr,Un;function $o(d){switch(d){default:return _t();case Pe.CANCELLED:case Pe.UNKNOWN:case Pe.DEADLINE_EXCEEDED:case Pe.RESOURCE_EXHAUSTED:case Pe.INTERNAL:case Pe.UNAVAILABLE:case Pe.UNAUTHENTICATED:return!1;case Pe.INVALID_ARGUMENT:case Pe.NOT_FOUND:case Pe.ALREADY_EXISTS:case Pe.PERMISSION_DENIED:case Pe.FAILED_PRECONDITION:case Pe.ABORTED:case Pe.OUT_OF_RANGE:case Pe.UNIMPLEMENTED:case Pe.DATA_LOSS:return!0}}function Bs(d){if(void 0===d)return gt("GRPC error has no .code"),Pe.UNKNOWN;switch(d){case Gr.OK:return Pe.OK;case Gr.CANCELLED:return Pe.CANCELLED;case Gr.UNKNOWN:return Pe.UNKNOWN;case Gr.DEADLINE_EXCEEDED:return Pe.DEADLINE_EXCEEDED;case Gr.RESOURCE_EXHAUSTED:return Pe.RESOURCE_EXHAUSTED;case Gr.INTERNAL:return Pe.INTERNAL;case Gr.UNAVAILABLE:return Pe.UNAVAILABLE;case Gr.UNAUTHENTICATED:return Pe.UNAUTHENTICATED;case Gr.INVALID_ARGUMENT:return Pe.INVALID_ARGUMENT;case Gr.NOT_FOUND:return Pe.NOT_FOUND;case Gr.ALREADY_EXISTS:return Pe.ALREADY_EXISTS;case Gr.PERMISSION_DENIED:return Pe.PERMISSION_DENIED;case Gr.FAILED_PRECONDITION:return Pe.FAILED_PRECONDITION;case Gr.ABORTED:return Pe.ABORTED;case Gr.OUT_OF_RANGE:return Pe.OUT_OF_RANGE;case Gr.UNIMPLEMENTED:return Pe.UNIMPLEMENTED;case Gr.DATA_LOSS:return Pe.DATA_LOSS;default:return _t()}}(Un=Gr||(Gr={}))[Un.OK=0]="OK",Un[Un.CANCELLED=1]="CANCELLED",Un[Un.UNKNOWN=2]="UNKNOWN",Un[Un.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Un[Un.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Un[Un.NOT_FOUND=5]="NOT_FOUND",Un[Un.ALREADY_EXISTS=6]="ALREADY_EXISTS",Un[Un.PERMISSION_DENIED=7]="PERMISSION_DENIED",Un[Un.UNAUTHENTICATED=16]="UNAUTHENTICATED",Un[Un.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Un[Un.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Un[Un.ABORTED=10]="ABORTED",Un[Un.OUT_OF_RANGE=11]="OUT_OF_RANGE",Un[Un.UNIMPLEMENTED=12]="UNIMPLEMENTED",Un[Un.INTERNAL=13]="INTERNAL",Un[Un.UNAVAILABLE=14]="UNAVAILABLE",Un[Un.DATA_LOSS=15]="DATA_LOSS";function ha(){return new TextEncoder}const To=new Ce([4294967295,4294967295],0);function fs(d){const e=ha().encode(d),r=new De;return r.update(e),new Uint8Array(r.digest())}function Ou(d){const e=new DataView(d.buffer),r=e.getUint32(0,!0),a=e.getUint32(4,!0),f=e.getUint32(8,!0),y=e.getUint32(12,!0);return[new Ce([r,a],0),new Ce([f,y],0)]}class Yl{constructor(e,r,a){if(this.bitmap=e,this.padding=r,this.hashCount=a,r<0||r>=8)throw new zo(`Invalid padding: ${r}`);if(a<0)throw new zo(`Invalid hash count: ${a}`);if(e.length>0&&0===this.hashCount)throw new zo(`Invalid hash count: ${a}`);if(0===e.length&&0!==r)throw new zo(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Ce.fromNumber(this.Ie)}Ee(e,r,a){let f=e.add(r.multiply(Ce.fromNumber(a)));return 1===f.compare(To)&&(f=new Ce([f.getBits(0),f.getBits(1)],0)),f.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=fs(e),[a,f]=Ou(r);for(let y=0;y<this.hashCount;y++){const b=this.Ee(a,f,y);if(!this.de(b))return!1}return!0}static create(e,r,a){const f=e%8==0?0:8-e%8,y=new Uint8Array(Math.ceil(e/8)),b=new Yl(y,f,r);return a.forEach(x=>b.insert(x)),b}insert(e){if(0===this.Ie)return;const r=fs(e),[a,f]=Ou(r);for(let y=0;y<this.hashCount;y++){const b=this.Ee(a,f,y);this.Ae(b)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class zo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ps{constructor(e,r,a,f,y){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=f,this.resolvedLimboDocuments=y}static createSynthesizedRemoteEventForCurrentChange(e,r,a){const f=new Map;return f.set(e,rl.createSynthesizedTargetChangeForCurrentChange(e,r,a)),new ps($t.min(),f,new Pr(qt),hr(),Zn())}}class rl{constructor(e,r,a,f,y){this.resumeToken=e,this.current=r,this.addedDocuments=a,this.modifiedDocuments=f,this.removedDocuments=y}static createSynthesizedTargetChangeForCurrentChange(e,r,a){return new rl(a,r,Zn(),Zn(),Zn())}}class uc{constructor(e,r,a,f){this.Re=e,this.removedTargetIds=r,this.key=a,this.Ve=f}}class Nu{constructor(e,r){this.targetId=e,this.me=r}}class Js{constructor(e,r,a=ti.EMPTY_BYTE_STRING,f=null){this.state=e,this.targetIds=r,this.resumeToken=a,this.cause=f}}class Co{constructor(){this.fe=0,this.ge=tf(),this.pe=ti.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Zn(),r=Zn(),a=Zn();return this.ge.forEach((f,y)=>{switch(y){case 0:e=e.add(f);break;case 2:r=r.add(f);break;case 1:a=a.add(f);break;default:_t()}}),new rl(this.pe,this.ye,e,r,a)}ve(){this.we=!1,this.ge=tf()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Rt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class wo{constructor(e){this.Le=e,this.Be=new Map,this.ke=hr(),this.qe=zd(),this.Qe=new Pr(qt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const a=this.Ge(r);switch(e.state){case 0:this.ze(r)&&a.De(e.resumeToken);break;case 1:a.Oe(),a.Se||a.ve(),a.De(e.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(a.Ne(),a.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),a.De(e.resumeToken));break;default:_t()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((a,f)=>{this.ze(f)&&r(f)})}He(e){const r=e.targetId,a=e.me.count,f=this.Je(r);if(f){const y=f.target;if(Vi(y))if(0===a){const b=new Ot(y.path);this.Ue(r,b,Ln.newNoDocument(b,$t.min()))}else Rt(1===a);else{const b=this.Ye(r);if(b!==a){const x=this.Ze(e),L=x?this.Xe(x,e,b):1;0!==L&&(this.je(r),this.Qe=this.Qe.insert(r,2===L?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:a="",padding:f=0},hashCount:y=0}=r;let b,x;try{b=Is(a).toUint8Array()}catch(L){if(L instanceof os)return Ut("Decoding the base64 bloom filter in existence filter failed ("+L.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw L}try{x=new Yl(b,f,y)}catch(L){return Ut(L instanceof zo?"BloomFilter error: ":"Applying bloom filter failed: ",L),null}return 0===x.Ie?null:x}Xe(e,r,a){return r.me.count===a-this.nt(e,r.targetId)?0:2}nt(e,r){const a=this.Le.getRemoteKeysForTarget(r);let f=0;return a.forEach(y=>{const b=this.Le.tt(),x=`projects/${b.projectId}/databases/${b.database}/documents/${y.path.canonicalString()}`;e.mightContain(x)||(this.Ue(r,y,null),f++)}),f}rt(e){const r=new Map;this.Be.forEach((y,b)=>{const x=this.Je(b);if(x){if(y.current&&Vi(x.target)){const L=new Ot(x.target.path);null!==this.ke.get(L)||this.it(b,L)||this.Ue(b,L,Ln.newNoDocument(L,e))}y.be&&(r.set(b,y.Ce()),y.ve())}});let a=Zn();this.qe.forEach((y,b)=>{let x=!0;b.forEachWhile(L=>{const q=this.Je(L);return!q||"TargetPurposeLimboResolution"===q.purpose||(x=!1,!1)}),x&&(a=a.add(y))}),this.ke.forEach((y,b)=>b.setReadTime(e));const f=new ps(e,r,this.Qe,this.ke,a);return this.ke=hr(),this.qe=zd(),this.Qe=new Pr(qt),f}$e(e,r){if(!this.ze(e))return;const a=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,a),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,a){if(!this.ze(e))return;const f=this.Ge(e);this.it(e,r)?f.Fe(r,1):f.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),a&&(this.ke=this.ke.insert(r,a))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Co,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Tr(qt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||de("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Co),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function zd(){return new Pr(Ot.comparator)}function tf(){return new Pr(Ot.comparator)}const xp={asc:"ASCENDING",desc:"DESCENDING"},L_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$n={and:"AND",or:"OR"};class Gd{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function il(d,e){return d.useProto3Json||ce(e)?e:{value:e}}function Ba(d,e){return d.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nf(d,e){return d.useProto3Json?e.toBase64():e.toUint8Array()}function qd(d,e){return Ba(d,e.toTimestamp())}function di(d){return Rt(!!d),$t.fromTimestamp(function(r){const a=as(r);return new vn(a.seconds,a.nanos)}(d))}function ja(d,e){return rf(d,e).canonicalString()}function rf(d,e){const r=(f=d,new In(["projects",f.projectId,"databases",f.database])).child("documents");var f;return void 0===e?r:r.child(e)}function Op(d){const e=In.fromString(d);return Rt(Ee(e)),e}function Zd(d,e){return ja(d.databaseId,e.path)}function Ao(d,e){const r=Op(e);if(r.get(1)!==d.databaseId.projectId)throw new fe(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+d.databaseId.projectId);if(r.get(3)!==d.databaseId.database)throw new fe(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+d.databaseId.database);return new Ot(Wd(r))}function im(d,e){return ja(d.databaseId,e)}function St(d){const e=Op(d);return 4===e.length?In.emptyPath():Wd(e)}function yr(d){return new In(["projects",d.databaseId.projectId,"databases",d.databaseId.database]).canonicalString()}function Wd(d){return Rt(d.length>4&&"documents"===d.get(4)),d.popFirst(5)}function dc(d,e,r){return{name:Zd(d,e),fields:r.value.mapValue.fields}}function Ki(d,e,r){const a=Ao(d,e.name),f=di(e.updateTime),y=e.createTime?di(e.createTime):$t.min(),b=new tr({mapValue:{fields:e.fields}}),x=Ln.newFoundDocument(a,f,y,b);return r&&x.setHasCommittedMutations(),r?x.setHasCommittedMutations():x}function ts(d,e){let r;if(e instanceof dn)r={update:dc(d,e.key,e.value)};else if(e instanceof Lr)r={delete:Zd(d,e.key)};else if(e instanceof fr)r={update:dc(d,e.key,e.data),updateMask:re(e.fieldMask)};else{if(!(e instanceof Er))return _t();r={verify:Zd(d,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(a=>function(y,b){const x=b.transform;if(x instanceof tl)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(x instanceof jo)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:x.elements}};if(x instanceof bo)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:x.elements}};if(x instanceof Va)return{fieldPath:b.field.canonicalString(),increment:x.Pe};throw _t()}(0,a))),e.precondition.isNone||(r.currentDocument=void 0!==(y=e.precondition).updateTime?{updateTime:qd(d,y.updateTime)}:void 0!==y.exists?{exists:y.exists}:_t()),r;var y}function sl(d,e){const r=e.currentDocument?void 0!==(y=e.currentDocument).updateTime?$r.updateTime(di(y.updateTime)):void 0!==y.exists?$r.exists(y.exists):$r.none():$r.none(),a=e.updateTransforms?e.updateTransforms.map(f=>function(b,x){let L=null;"setToServerValue"in x?(Rt("REQUEST_TIME"===x.setToServerValue),L=new tl):"appendMissingElements"in x?L=new jo(x.appendMissingElements.values||[]):"removeAllFromArray"in x?L=new bo(x.removeAllFromArray.values||[]):"increment"in x?L=new Va(b,x.increment):_t();const q=On.fromServerFormat(x.fieldPath);return new Ua(q,L)}(d,f)):[];var y;if(e.update){const f=Ao(d,e.update.name),y=new tr({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new Ai((e.updateMask.fieldPaths||[]).map(ne=>On.fromServerFormat(ne)));return new fr(f,y,b,r,a)}return new dn(f,y,r,a)}if(e.delete){const f=Ao(d,e.delete);return new Lr(f,r)}if(e.verify){const f=Ao(d,e.verify);return new Er(f,r)}return _t()}function Kd(d,e){return{documents:[im(d,e.path)]}}function Yd(d,e){const r={structuredQuery:{}},a=e.path;let f;null!==e.collectionGroup?(f=a,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(f=a.popLast(),r.structuredQuery.from=[{collectionId:a.lastSegment()}]),r.parent=im(d,f);const y=function(q){if(0!==q.length)return G(ir.create(q,"and"))}(e.filters);y&&(r.structuredQuery.where=y);const b=function(q){if(0!==q.length)return q.map(ne=>{return{field:w((Se=ne).field),direction:fa(Se.dir)};var Se})}(e.orderBy);b&&(r.structuredQuery.orderBy=b);const x=il(d,e.limit);return null!==x&&(r.structuredQuery.limit=x),e.startAt&&(r.structuredQuery.startAt={before:(q=e.startAt).inclusive,values:q.position}),e.endAt&&(r.structuredQuery.endAt=function(q){return{before:!q.inclusive,values:q.position}}(e.endAt)),{_t:r,parent:f};var q}function As(d){let e=St(d.parent);const r=d.structuredQuery,a=r.from?r.from.length:0;let f=null;if(a>0){Rt(1===a);const ne=r.from[0];ne.allDescendants?f=ne.collectionId:e=e.child(ne.collectionId)}let y=[];r.where&&(y=function(pe){const Se=Qd(pe);return Se instanceof ir&&Na(Se)?Se.getFilters():[Se]}(r.where));let b=[];r.orderBy&&(b=r.orderBy.map(Se=>{return new Fs(k((Dt=Se).field),function(At){switch(At){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Dt.direction));var Dt}));let x=null;r.limit&&(x=function(pe){let Se;return Se="object"==typeof pe?pe.value:pe,ce(Se)?null:Se}(r.limit));let L=null;var pe;r.startAt&&(L=new Xi((pe=r.startAt).values||[],!!pe.before));let q=null;return r.endAt&&(q=function(pe){return new Xi(pe.values||[],!pe.before)}(r.endAt)),Pu(e,f,b,y,x,"F",L,q)}function Qd(d){return void 0!==d.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const a=k(r.unaryFilter.field);return Kn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const f=k(r.unaryFilter.field);return Kn.create(f,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const y=k(r.unaryFilter.field);return Kn.create(y,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const b=k(r.unaryFilter.field);return Kn.create(b,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}(d):void 0!==d.fieldFilter?Kn.create(k((r=d).fieldFilter.field),function(f){switch(f){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==d.compositeFilter?function(r){return ir.create(r.compositeFilter.filters.map(a=>Qd(a)),function(f){switch(f){case"AND":return"and";case"OR":return"or";default:return _t()}}(r.compositeFilter.op))}(d):_t();var r}function fa(d){return xp[d]}function S(d){return L_[d]}function N(d){return $n[d]}function w(d){return{fieldPath:d.canonicalString()}}function k(d){return On.fromServerFormat(d.fieldPath)}function G(d){return d instanceof Kn?function(r){if("=="===r.op){if(lo(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NAN"}};if(gi(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(lo(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NOT_NAN"}};if(gi(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:w(r.field),op:S(r.op),value:r.value}}}(d):d instanceof ir?function(r){const a=r.getFilters().map(f=>G(f));return 1===a.length?a[0]:{compositeFilter:{op:N(r.op),filters:a}}}(d):_t()}function re(d){const e=[];return d.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Ee(d){return d.length>=4&&"projects"===d.get(0)&&"databases"===d.get(2)}class rt{constructor(e,r,a,f,y=$t.min(),b=$t.min(),x=ti.EMPTY_BYTE_STRING,L=null){this.target=e,this.targetId=r,this.purpose=a,this.sequenceNumber=f,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=x,this.expectedCount=L}withSequenceNumber(e){return new rt(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new rt(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rt(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rt(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class it{constructor(e){this.ct=e}}function ar(d,e){const r=e.key,a={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:xr(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())a.document={name:Zd(y=d.ct,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:Ba(y,b.version.toTimestamp()),createTime:Ba(y,b.createTime.toTimestamp())};else if(e.isNoDocument())a.noDocument={path:r.path.toArray(),readTime:zn(e.version)};else{if(!e.isUnknownDocument())return _t();a.unknownDocument={path:r.path.toArray(),version:zn(e.version)}}var y,b;return a}function xr(d){const e=d.toTimestamp();return[e.seconds,e.nanoseconds]}function zn(d){const e=d.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ns(d){const e=new vn(d.seconds,d.nanoseconds);return $t.fromTimestamp(e)}function Xs(d,e){const r=(e.baseMutations||[]).map(y=>sl(d.ct,y));for(let y=0;y<e.mutations.length-1;++y)y+1<e.mutations.length&&void 0!==e.mutations[y+1].transform&&(e.mutations[y].updateTransforms=e.mutations[y+1].transform.fieldTransforms,e.mutations.splice(y+1,1),++y);const a=e.mutations.map(y=>sl(d.ct,y)),f=vn.fromMillis(e.localWriteTimeMs);return new Ii(e.batchId,f,r,a)}function So(d){const e=ns(d.readTime),r=void 0!==d.lastLimboFreeSnapshotVersion?ns(d.lastLimboFreeSnapshotVersion):$t.min();let a;return a=void 0!==d.query.documents?(Rt(1===(y=d.query).documents.length),mi(Fr(St(y.documents[0])))):function(y){return mi(As(y))}(d.query),new rt(a,d.targetId,"TargetPurposeListen",d.lastListenSequenceNumber,e,r,ti.fromBase64String(d.resumeToken));var y}function fc(d,e){const r=zn(e.snapshotVersion),a=zn(e.lastLimboFreeSnapshotVersion);let f;f=Vi(e.target)?Kd(d.ct,e.target):Yd(d.ct,e.target)._t;const y=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:bn(e.target),readTime:r,resumeToken:y,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:f}}function ho(d){const e=As({parent:d.parent,structuredQuery:d.structuredQuery});return"LAST"===d.limitType?ic(e,e.limit,"L"):e}function Fu(d,e){return new Bi(e.largestBatchId,sl(d.ct,e.overlayMutation))}function rs(d,e){const r=e.path.lastSegment();return[d,Pt(e.path.popLast()),r]}function pa(d,e,r,a){return{indexId:d,uid:e,sequenceNumber:r,readTime:zn(a.readTime),documentKey:Pt(a.documentKey.path),largestBatchId:a.largestBatchId}}class hi{getBundleMetadata(e,r){return sf(e).get(r).next(a=>{if(a)return{id:(y=a).bundleId,createTime:ns(y.createTime),version:y.version};var y})}saveBundleMetadata(e,r){return sf(e).put({bundleId:(f=r).id,createTime:zn(di(f.createTime)),version:f.version});var f}getNamedQuery(e,r){return Np(e).get(r).next(a=>{if(a)return{name:(y=a).name,query:ho(y.bundledQuery),readTime:ns(y.readTime)};var y})}saveNamedQuery(e,r){return Np(e).put({name:(f=r).name,readTime:zn(di(f.readTime)),bundledQuery:f.bundledQuery});var f}}function sf(d){return Br(d,"bundles")}function Np(d){return Br(d,"namedQueries")}class Jd{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new Jd(e,r.uid||"")}getOverlay(e,r){return ol(e).get(rs(this.userId,r)).next(a=>a?Fu(this.serializer,a):null)}getOverlays(e,r){const a=Us();return je.forEach(r,f=>this.getOverlay(e,f).next(y=>{null!==y&&a.set(f,y)})).next(()=>a)}saveOverlays(e,r,a){const f=[];return a.forEach((y,b)=>{const x=new Bi(r,b);f.push(this.ht(e,x))}),je.waitFor(f)}removeOverlaysForBatchId(e,r,a){const f=new Set;r.forEach(b=>f.add(Pt(b.getCollectionPath())));const y=[];return f.forEach(b=>{const x=IDBKeyRange.bound([this.userId,b,a],[this.userId,b,a+1],!1,!0);y.push(ol(e).j("collectionPathOverlayIndex",x))}),je.waitFor(y)}getOverlaysForCollection(e,r,a){const f=Us(),y=Pt(r),b=IDBKeyRange.bound([this.userId,y,a],[this.userId,y,Number.POSITIVE_INFINITY],!0);return ol(e).U("collectionPathOverlayIndex",b).next(x=>{for(const L of x){const q=Fu(this.serializer,L);f.set(q.getKey(),q)}return f})}getOverlaysForCollectionGroup(e,r,a,f){const y=Us();let b;const x=IDBKeyRange.bound([this.userId,r,a],[this.userId,r,Number.POSITIVE_INFINITY],!0);return ol(e).J({index:"collectionGroupOverlayIndex",range:x},(L,q,ne)=>{const pe=Fu(this.serializer,q);y.size()<f||pe.largestBatchId===b?(y.set(pe.getKey(),pe),b=pe.largestBatchId):ne.done()}).next(()=>y)}ht(e,r){return ol(e).put(function(f,y,b){const[x,L,q]=rs(y,b.mutation.key);return{userId:y,collectionPath:L,documentId:q,collectionGroup:b.mutation.key.getCollectionGroup(),largestBatchId:b.largestBatchId,overlayMutation:ts(f.ct,b.mutation)}}(this.serializer,this.userId,r))}}function ol(d){return Br(d,"documentOverlays")}class Go{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(Qr(e.integerValue));else if("doubleValue"in e){const a=Qr(e.doubleValue);isNaN(a)?this.Et(r,13):(this.Et(r,15),xe(a)?r.dt(0):r.dt(a))}else if("timestampValue"in e){let a=e.timestampValue;this.Et(r,20),"string"==typeof a&&(a=as(a)),r.At(`${a.seconds||""}`),r.dt(a.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(Is(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const a=e.geoPointValue;this.Et(r,45),r.dt(a.latitude||0),r.dt(a.longitude||0)}else"mapValue"in e?Yn(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):_t()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const a=e.fields||{};this.Et(r,55);for(const f of Object.keys(a))this.Rt(f,r),this.It(a[f],r)}wt(e,r){const a=e.values||[];this.Et(r,50);for(const f of a)this.It(f,r)}gt(e,r){this.Et(r,37),Ot.fromName(e).path.forEach(a=>{this.Et(r,60),this.St(a,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}function ga(d){if(0===d)return 8;let e=0;return!(d>>4)&&(e+=4,d<<=4),!(d>>6)&&(e+=2,d<<=2),!(d>>7)&&(e+=1),e}function Xd(d){const e=64-function(a){let f=0;for(let y=0;y<8;++y){const b=ga(255&a[y]);if(f+=b,8!==b)break}return f}(d);return Math.ceil(e/8)}Go.bt=new Go;class pc{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const r=e[Symbol.iterator]();let a=r.next();for(;!a.done;)this.Ct(a.value),a=r.next();this.vt()}Ft(e){const r=e[Symbol.iterator]();let a=r.next();for(;!a.done;)this.Mt(a.value),a=r.next();this.xt()}Ot(e){for(const r of e){const a=r.charCodeAt(0);if(a<128)this.Ct(a);else if(a<2048)this.Ct(960|a>>>6),this.Ct(128|63&a);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|a>>>12),this.Ct(128|63&a>>>6),this.Ct(128|63&a);else{const f=r.codePointAt(0);this.Ct(240|f>>>18),this.Ct(128|63&f>>>12),this.Ct(128|63&f>>>6),this.Ct(128|63&f)}}this.vt()}Nt(e){for(const r of e){const a=r.charCodeAt(0);if(a<128)this.Mt(a);else if(a<2048)this.Mt(960|a>>>6),this.Mt(128|63&a);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|a>>>12),this.Mt(128|63&a>>>6),this.Mt(128|63&a);else{const f=r.codePointAt(0);this.Mt(240|f>>>18),this.Mt(128|63&f>>>12),this.Mt(128|63&f>>>6),this.Mt(128|63&f)}}this.xt()}Lt(e){const r=this.Bt(e),a=Xd(r);this.kt(1+a),this.buffer[this.position++]=255&a;for(let f=r.length-a;f<r.length;++f)this.buffer[this.position++]=255&r[f]}qt(e){const r=this.Bt(e),a=Xd(r);this.kt(1+a),this.buffer[this.position++]=~(255&a);for(let f=r.length-a;f<r.length;++f)this.buffer[this.position++]=~(255&r[f])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const r=function(y){const b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,y,!1),new Uint8Array(b.buffer)}(e),a=0!=(128&r[0]);r[0]^=a?255:128;for(let f=1;f<r.length;++f)r[f]^=a?255:0;return r}Ct(e){const r=255&e;0===r?(this.Kt(0),this.Kt(255)):255===r?(this.Kt(255),this.Kt(0)):this.Kt(r)}Mt(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const r=e+this.position;if(r<=this.buffer.length)return;let a=2*this.buffer.length;a<r&&(a=r);const f=new Uint8Array(a);f.set(this.buffer),this.buffer=f}}class af{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class eh{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class ma{constructor(){this.Gt=new pc,this.zt=new af(this.Gt),this.jt=new eh(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class qo{constructor(e,r,a,f){this.indexId=e,this.documentKey=r,this.arrayValue=a,this.directionalValue=f}Jt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,a=new Uint8Array(r);return a.set(this.directionalValue,0),r!==e?a.set([0],this.directionalValue.length):++a[a.length-1],new qo(this.indexId,this.documentKey,this.arrayValue,a)}}function js(d,e){let r=d.indexId-e.indexId;return 0!==r?r:(r=_a(d.arrayValue,e.arrayValue),0!==r?r:(r=_a(d.directionalValue,e.directionalValue),0!==r?r:Ot.comparator(d.documentKey,e.documentKey)))}function _a(d,e){for(let r=0;r<d.length&&r<e.length;++r){const a=d[r]-e[r];if(0!==a)return a}return d.length-e.length}class th{constructor(e){this.Yt=new Tr((r,a)=>On.comparator(r.field,a.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const r of e.filters){const a=r;a.isInequality()?this.Yt=this.Yt.add(a):this.Xt.push(a)}}get en(){return this.Yt.size>1}tn(e){if(Rt(e.collectionGroup===this.collectionId),this.en)return!1;const r=wn(e);if(void 0!==r&&!this.nn(r))return!1;const a=_n(e);let f=new Set,y=0,b=0;for(;y<a.length&&this.nn(a[y]);++y)f=f.add(a[y].fieldPath.canonicalString());if(y===a.length)return!0;if(this.Yt.size>0){const x=this.Yt.getIterator().getNext();if(!f.has(x.field.canonicalString())){const L=a[y];if(!this.rn(x,L)||!this.sn(this.Zt[b++],L))return!1}++y}for(;y<a.length;++y)if(b>=this.Zt.length||!this.sn(this.Zt[b++],a[y]))return!1;return!0}on(){if(this.en)return null;let e=new Tr(On.comparator);const r=[];for(const a of this.Xt)if(!a.field.isKeyField())if("array-contains"===a.op||"array-contains-any"===a.op)r.push(new _r(a.field,2));else{if(e.has(a.field))continue;e=e.add(a.field),r.push(new _r(a.field,0))}for(const a of this.Zt)a.field.isKeyField()||e.has(a.field)||(e=e.add(a.field),r.push(new _r(a.field,"asc"===a.dir?0:1)));return new fn(fn.UNKNOWN_ID,this.collectionId,r,Pn.empty())}nn(e){for(const r of this.Xt)if(this.rn(r,e))return!0;return!1}rn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function Lu(d){var e,r;if(Rt(d instanceof Kn||d instanceof ir),d instanceof Kn){if(d instanceof It){const f=(null===(r=null===(e=d.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(y=>Kn.create(d.field,"==",y)))||[];return ir.create(f,"or")}return d}const a=d.filters.map(f=>Lu(f));return ir.create(a,d.op)}function gc(d){if(0===d.getFilters().length)return[];const e=Zo(Lu(d));return Rt(kp(e)),mc(e)||Jl(e)?[e]:e.getFilters()}function mc(d){return d instanceof Kn}function Jl(d){return d instanceof ir&&Na(d)}function kp(d){return mc(d)||Jl(d)||function(r){if(r instanceof ir&&Qn(r)){for(const a of r.getFilters())if(!mc(a)&&!Jl(a))return!1;return!0}return!1}(d)}function Zo(d){if(Rt(d instanceof Kn||d instanceof ir),d instanceof Kn)return d;if(1===d.filters.length)return Zo(d.filters[0]);const e=d.filters.map(a=>Zo(a));let r=ir.create(e,d.op);return r=rh(r),kp(r)?r:(Rt(r instanceof ir),Rt(Ls(r)),Rt(r.filters.length>1),r.filters.reduce((a,f)=>_c(a,f)))}function _c(d,e){let r;return Rt(d instanceof Kn||d instanceof ir),Rt(e instanceof Kn||e instanceof ir),r=d instanceof Kn?e instanceof Kn?ir.create([d,e],"and"):nh(d,e):e instanceof Kn?nh(e,d):function(f,y){if(Rt(f.filters.length>0&&y.filters.length>0),Ls(f)&&Ls(y))return Cs(f,y.getFilters());const b=Qn(f)?f:y,x=Qn(f)?y:f,L=b.filters.map(q=>_c(q,x));return ir.create(L,"or")}(d,e),rh(r)}function nh(d,e){if(Ls(e))return Cs(e,d.getFilters());{const r=e.filters.map(a=>_c(d,a));return ir.create(r,"or")}}function rh(d){if(Rt(d instanceof Kn||d instanceof ir),d instanceof Kn)return d;const e=d.getFilters();if(1===e.length)return rh(e[0]);if(es(d))return d;const r=e.map(f=>rh(f)),a=[];return r.forEach(f=>{f instanceof Kn?a.push(f):f instanceof ir&&(f.op===d.op?a.push(...f.filters):a.push(f))}),1===a.length?a[0]:ir.create(a,d.op)}class sm{constructor(){this._n=new yc}addToCollectionParentIndex(e,r){return this._n.add(r),je.resolve()}getCollectionParents(e,r){return je.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return je.resolve()}deleteFieldIndex(e,r){return je.resolve()}deleteAllFieldIndexes(e){return je.resolve()}createTargetIndexes(e,r){return je.resolve()}getDocumentsMatchingTarget(e,r){return je.resolve(null)}getIndexType(e,r){return je.resolve(0)}getFieldIndexes(e,r){return je.resolve([])}getNextCollectionGroupToUpdate(e){return je.resolve(null)}getMinOffset(e,r){return je.resolve(Kt.min())}getMinOffsetFromCollectionGroup(e,r){return je.resolve(Kt.min())}updateCollectionGroup(e,r,a){return je.resolve()}updateIndexEntries(e,r){return je.resolve()}}class yc{constructor(){this.index={}}add(e){const r=e.lastSegment(),a=e.popLast(),f=this.index[r]||new Tr(In.comparator),y=!f.has(a);return this.index[r]=f.add(a),y}has(e){const r=e.lastSegment(),a=e.popLast(),f=this.index[r];return f&&f.has(a)}getEntries(e){return(this.index[e]||new Tr(In.comparator)).toArray()}}const Xl=new Uint8Array(0);class al{constructor(e,r){this.databaseId=r,this.an=new yc,this.un=new Ui(a=>bn(a),(a,f)=>qn(a,f)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.an.has(r)){const a=r.lastSegment(),f=r.popLast();e.addOnCommittedListener(()=>{this.an.add(r)});const y={collectionId:a,parent:Pt(f)};return ih(e).put(y)}return je.resolve()}getCollectionParents(e,r){const a=[],f=IDBKeyRange.bound([r,""],[mn(r),""],!1,!0);return ih(e).U(f).next(y=>{for(const b of y){if(b.collectionId!==r)break;a.push(en(b.parent))}return a})}addFieldIndex(e,r){const a=cl(e),f={indexId:(x=r).indexId,collectionGroup:x.collectionGroup,fields:x.fields.map(L=>[L.fieldPath.canonicalString(),L.kind])};var x;delete f.indexId;const y=a.add(f);if(r.indexState){const b=ya(e);return y.next(x=>{b.put(pa(x,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return y.next()}deleteFieldIndex(e,r){const a=cl(e),f=ya(e),y=Wo(e);return a.delete(r.indexId).next(()=>f.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>y.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=cl(e),a=Wo(e),f=ya(e);return r.j().next(()=>a.j()).next(()=>f.j())}createTargetIndexes(e,r){return je.forEach(this.cn(r),a=>this.getIndexType(e,a).next(f=>{if(0===f||1===f){const y=new th(a).on();if(null!=y)return this.addFieldIndex(e,y)}}))}getDocumentsMatchingTarget(e,r){const a=Wo(e);let f=!0;const y=new Map;return je.forEach(this.cn(r),b=>this.ln(e,b).next(x=>{f&&(f=!!x),y.set(b,x)})).next(()=>{if(f){let b=Zn();const x=[];return je.forEach(y,(L,q)=>{var Tn;de("IndexedDbIndexManager",`Using index ${Tn=L,`id=${Tn.indexId}|cg=${Tn.collectionGroup}|f=${Tn.fields.map(sr=>`${sr.fieldPath}:${sr.kind}`).join(",")}`} to execute ${bn(r)}`);const ne=function(Tn,sr){const Vr=wn(sr);if(void 0===Vr)return null;for(const nr of hs(Tn,Vr.fieldPath))switch(nr.op){case"array-contains-any":return nr.value.arrayValue.values||[];case"array-contains":return[nr.value]}return null}(q,L),pe=function(Tn,sr){const Vr=new Map;for(const nr of _n(sr))for(const He of hs(Tn,nr.fieldPath))switch(He.op){case"==":case"in":Vr.set(nr.fieldPath.canonicalString(),He.value);break;case"not-in":case"!=":return Vr.set(nr.fieldPath.canonicalString(),He.value),Array.from(Vr.values())}return null}(q,L),Se=function(Tn,sr){const Vr=[];let nr=!0;for(const He of _n(sr)){const Ae=0===He.kind?Ni(Tn,He.fieldPath,Tn.startAt):Ws(Tn,He.fieldPath,Tn.startAt);Vr.push(Ae.value),nr&&(nr=Ae.inclusive)}return new Xi(Vr,nr)}(q,L),tt=function(Tn,sr){const Vr=[];let nr=!0;for(const He of _n(sr)){const Ae=0===He.kind?Ws(Tn,He.fieldPath,Tn.endAt):Ni(Tn,He.fieldPath,Tn.endAt);Vr.push(Ae.value),nr&&(nr=Ae.inclusive)}return new Xi(Vr,nr)}(q,L),Dt=this.hn(L,q,Se),jt=this.hn(L,q,tt),At=this.Pn(L,q,pe),yn=this.In(L.indexId,ne,Dt,Se.inclusive,jt,tt.inclusive,At);return je.forEach(yn,xn=>a.G(xn,r.limit).next(Tn=>{Tn.forEach(sr=>{const Vr=Ot.fromSegments(sr.documentKey);b.has(Vr)||(b=b.add(Vr),x.push(Vr))})}))}).next(()=>x)}return je.resolve(null)})}cn(e){let r=this.un.get(e);return r||(r=0===e.filters.length?[e]:gc(ir.create(e.filters,"and")).map(a=>Vn(e.path,e.collectionGroup,e.orderBy,a.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,r),r)}In(e,r,a,f,y,b,x){const L=(null!=r?r.length:1)*Math.max(a.length,y.length),q=L/(null!=r?r.length:1),ne=[];for(let pe=0;pe<L;++pe){const Se=r?this.Tn(r[pe/q]):Xl,tt=this.En(e,Se,a[pe%q],f),Dt=this.dn(e,Se,y[pe%q],b),jt=x.map(At=>this.En(e,Se,At,!0));ne.push(...this.createRange(tt,Dt,jt))}return ne}En(e,r,a,f){const y=new qo(e,Ot.empty(),r,a);return f?y:y.Jt()}dn(e,r,a,f){const y=new qo(e,Ot.empty(),r,a);return f?y.Jt():y}ln(e,r){const a=new th(r),f=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,f).next(y=>{let b=null;for(const x of y)a.tn(x)&&(!b||x.fields.length>b.fields.length)&&(b=x);return b})}getIndexType(e,r){let a=2;const f=this.cn(r);return je.forEach(f,y=>this.ln(e,y).next(b=>{b?0!==a&&b.fields.length<function(L){let q=new Tr(On.comparator),ne=!1;for(const pe of L.filters)for(const Se of pe.getFlattenedFilters())Se.field.isKeyField()||("array-contains"===Se.op||"array-contains-any"===Se.op?ne=!0:q=q.add(Se.field));for(const pe of L.orderBy)pe.field.isKeyField()||(q=q.add(pe.field));return q.size+(ne?1:0)}(y)&&(a=1):a=0})).next(()=>null!==r.limit&&f.length>1&&2===a?1:a)}An(e,r){const a=new ma;for(const f of _n(e)){const y=r.data.field(f.fieldPath);if(null==y)return null;const b=a.Ht(f.kind);Go.bt.Pt(y,b)}return a.Wt()}Tn(e){const r=new ma;return Go.bt.Pt(e,r.Ht(0)),r.Wt()}Rn(e,r){const a=new ma;return Go.bt.Pt(Zt(this.databaseId,r),a.Ht(function(y){const b=_n(y);return 0===b.length?0:b[b.length-1].kind}(e))),a.Wt()}Pn(e,r,a){if(null===a)return[];let f=[];f.push(new ma);let y=0;for(const b of _n(e)){const x=a[y++];for(const L of f)if(this.Vn(r,b.fieldPath)&&lr(x))f=this.mn(f,b,x);else{const q=L.Ht(b.kind);Go.bt.Pt(x,q)}}return this.fn(f)}hn(e,r,a){return this.Pn(e,r,a.position)}fn(e){const r=[];for(let a=0;a<e.length;++a)r[a]=e[a].Wt();return r}mn(e,r,a){const f=[...e],y=[];for(const b of a.arrayValue.values||[])for(const x of f){const L=new ma;L.seed(x.Wt()),Go.bt.Pt(b,L.Ht(r.kind)),y.push(L)}return y}Vn(e,r){return!!e.filters.find(a=>a instanceof Kn&&a.field.isEqual(r)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(e,r){const a=cl(e),f=ya(e);return(r?a.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):a.U()).next(y=>{const b=[];return je.forEach(y,x=>f.get([x.indexId,this.uid]).next(L=>{b.push(function(ne,pe){const Se=pe?new Pn(pe.sequenceNumber,new Kt(ns(pe.readTime),new Ot(en(pe.documentKey)),pe.largestBatchId)):Pn.empty(),tt=ne.fields.map(([Dt,jt])=>new _r(On.fromServerFormat(Dt),jt));return new fn(ne.indexId,ne.collectionGroup,tt,Se)}(x,L))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((a,f)=>{const y=a.indexState.sequenceNumber-f.indexState.sequenceNumber;return 0!==y?y:qt(a.collectionGroup,f.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,a){const f=cl(e),y=ya(e);return this.gn(e).next(b=>f.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(x=>je.forEach(x,L=>y.put(pa(L.indexId,this.uid,b,a)))))}updateIndexEntries(e,r){const a=new Map;return je.forEach(r,(f,y)=>{const b=a.get(f.collectionGroup);return(b?je.resolve(b):this.getFieldIndexes(e,f.collectionGroup)).next(x=>(a.set(f.collectionGroup,x),je.forEach(x,L=>this.pn(e,f,L).next(q=>{const ne=this.yn(y,L);return q.isEqual(ne)?je.resolve():this.wn(e,y,L,q,ne)}))))})}Sn(e,r,a,f){return Wo(e).put({indexId:f.indexId,uid:this.uid,arrayValue:f.arrayValue,directionalValue:f.directionalValue,orderedDocumentKey:this.Rn(a,r.key),documentKey:r.key.path.toArray()})}bn(e,r,a,f){return Wo(e).delete([f.indexId,this.uid,f.arrayValue,f.directionalValue,this.Rn(a,r.key),r.key.path.toArray()])}pn(e,r,a){const f=Wo(e);let y=new Tr(js);return f.J({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.Rn(a,r)])},(b,x)=>{y=y.add(new qo(a.indexId,r,x.arrayValue,x.directionalValue))}).next(()=>y)}yn(e,r){let a=new Tr(js);const f=this.An(r,e);if(null==f)return a;const y=wn(r);if(null!=y){const b=e.data.field(y.fieldPath);if(lr(b))for(const x of b.arrayValue.values||[])a=a.add(new qo(r.indexId,e.key,this.Tn(x),f))}else a=a.add(new qo(r.indexId,e.key,Xl,f));return a}wn(e,r,a,f,y){de("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const b=[];return function(L,q,ne,pe,Se){const tt=L.getIterator(),Dt=q.getIterator();let jt=ks(tt),At=ks(Dt);for(;jt||At;){let yn=!1,xn=!1;if(jt&&At){const Tn=ne(jt,At);Tn<0?xn=!0:Tn>0&&(yn=!0)}else null!=jt?xn=!0:yn=!0;yn?(pe(At),At=ks(Dt)):xn?(Se(jt),jt=ks(tt)):(jt=ks(tt),At=ks(Dt))}}(f,y,js,x=>{b.push(this.Sn(e,r,a,x))},x=>{b.push(this.bn(e,r,a,x))}),je.waitFor(b)}gn(e){let r=1;return ya(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,f,y)=>{y.done(),r=f.sequenceNumber+1}).next(()=>r)}createRange(e,r,a){a=a.sort((b,x)=>js(b,x)).filter((b,x,L)=>!x||0!==js(b,L[x-1]));const f=[];f.push(e);for(const b of a){const x=js(b,e),L=js(b,r);if(0===x)f[0]=e.Jt();else if(x>0&&L<0)f.push(b),f.push(b.Jt());else if(L>0)break}f.push(r);const y=[];for(let b=0;b<f.length;b+=2){if(this.Dn(f[b],f[b+1]))return[];y.push(IDBKeyRange.bound([f[b].indexId,this.uid,f[b].arrayValue,f[b].directionalValue,Xl,[]],[f[b+1].indexId,this.uid,f[b+1].arrayValue,f[b+1].directionalValue,Xl,[]]))}return y}Dn(e,r){return js(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(Fp)}getMinOffset(e,r){return je.mapArray(this.cn(r),a=>this.ln(e,a).next(f=>f||_t())).next(Fp)}}function ih(d){return Br(d,"collectionParents")}function Wo(d){return Br(d,"indexEntries")}function cl(d){return Br(d,"indexConfiguration")}function ya(d){return Br(d,"indexState")}function Fp(d){Rt(0!==d.length);let e=d[0].indexState.offset,r=e.largestBatchId;for(let a=1;a<d.length;a++){const f=d[a].indexState.offset;si(f,e)<0&&(e=f),r<f.largestBatchId&&(r=f.largestBatchId)}return new Kt(e.readTime,e.documentKey,r)}const sh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ji{constructor(e,r,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new ji(e,ji.DEFAULT_COLLECTION_PERCENTILE,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function om(d,e,r){const a=d.store("mutations"),f=d.store("documentMutations"),y=[],b=IDBKeyRange.only(r.batchId);let x=0;const L=a.J({range:b},(ne,pe,Se)=>(x++,Se.delete()));y.push(L.next(()=>{Rt(1===x)}));const q=[];for(const ne of r.mutations){const pe=yi(e,ne.key.path,r.batchId);y.push(f.delete(pe)),q.push(ne.key)}return je.waitFor(y).next(()=>q)}function gs(d){if(!d)return 0;let e;if(d.document)e=d.document;else if(d.unknownDocument)e=d.unknownDocument;else{if(!d.noDocument)throw _t();e=d.noDocument}return JSON.stringify(e).length}ji.DEFAULT_COLLECTION_PERCENTILE=10,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ji.DEFAULT=new ji(41943040,ji.DEFAULT_COLLECTION_PERCENTILE,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ji.DISABLED=new ji(-1,0,0);class oh{constructor(e,r,a,f){this.userId=e,this.serializer=r,this.indexManager=a,this.referenceDelegate=f,this.Cn={}}static lt(e,r,a,f){Rt(""!==e.uid);const y=e.isAuthenticated()?e.uid:"";return new oh(y,r,a,f)}checkEmpty(e){let r=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Mo(e).J({index:"userMutationsIndex",range:a},(f,y,b)=>{r=!1,b.done()}).next(()=>r)}addMutationBatch(e,r,a,f){const y=Po(e),b=Mo(e);return b.add({}).next(x=>{Rt("number"==typeof x);const L=new Ii(x,r,a,f),q=function(tt,Dt,jt){const At=jt.baseMutations.map(xn=>ts(tt.ct,xn)),yn=jt.mutations.map(xn=>ts(tt.ct,xn));return{userId:Dt,batchId:jt.batchId,localWriteTimeMs:jt.localWriteTime.toMillis(),baseMutations:At,mutations:yn}}(this.serializer,this.userId,L),ne=[];let pe=new Tr((Se,tt)=>qt(Se.canonicalString(),tt.canonicalString()));for(const Se of f){const tt=yi(this.userId,Se.key.path,x);pe=pe.add(Se.key.path.popLast()),ne.push(b.put(q)),ne.push(y.put(tt,xs))}return pe.forEach(Se=>{ne.push(this.indexManager.addToCollectionParentIndex(e,Se))}),e.addOnCommittedListener(()=>{this.Cn[x]=L.keys()}),je.waitFor(ne).next(()=>L)})}lookupMutationBatch(e,r){return Mo(e).get(r).next(a=>a?(Rt(a.userId===this.userId),Xs(this.serializer,a)):null)}vn(e,r){return this.Cn[r]?je.resolve(this.Cn[r]):this.lookupMutationBatch(e,r).next(a=>{if(a){const f=a.keys();return this.Cn[r]=f,f}return null})}getNextMutationBatchAfterBatchId(e,r){const a=r+1,f=IDBKeyRange.lowerBound([this.userId,a]);let y=null;return Mo(e).J({index:"userMutationsIndex",range:f},(b,x,L)=>{x.userId===this.userId&&(Rt(x.batchId>=a),y=Xs(this.serializer,x)),L.done()}).next(()=>y)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return Mo(e).J({index:"userMutationsIndex",range:r,reverse:!0},(f,y,b)=>{a=y.batchId,b.done()}).next(()=>a)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Mo(e).U("userMutationsIndex",r).next(a=>a.map(f=>Xs(this.serializer,f)))}getAllMutationBatchesAffectingDocumentKey(e,r){const a=Sn(this.userId,r.path),f=IDBKeyRange.lowerBound(a),y=[];return Po(e).J({range:f},(b,x,L)=>{const[q,ne,pe]=b,Se=en(ne);if(q===this.userId&&r.path.isEqual(Se))return Mo(e).get(pe).next(tt=>{if(!tt)throw _t();Rt(tt.userId===this.userId),y.push(Xs(this.serializer,tt))});L.done()}).next(()=>y)}getAllMutationBatchesAffectingDocumentKeys(e,r){let a=new Tr(qt);const f=[];return r.forEach(y=>{const b=Sn(this.userId,y.path),x=IDBKeyRange.lowerBound(b),L=Po(e).J({range:x},(q,ne,pe)=>{const[Se,tt,Dt]=q,jt=en(tt);Se===this.userId&&y.path.isEqual(jt)?a=a.add(Dt):pe.done()});f.push(L)}),je.waitFor(f).next(()=>this.Fn(e,a))}getAllMutationBatchesAffectingQuery(e,r){const a=r.path,f=a.length+1,y=Sn(this.userId,a),b=IDBKeyRange.lowerBound(y);let x=new Tr(qt);return Po(e).J({range:b},(L,q,ne)=>{const[pe,Se,tt]=L,Dt=en(Se);pe===this.userId&&a.isPrefixOf(Dt)?Dt.length===f&&(x=x.add(tt)):ne.done()}).next(()=>this.Fn(e,x))}Fn(e,r){const a=[],f=[];return r.forEach(y=>{f.push(Mo(e).get(y).next(b=>{if(null===b)throw _t();Rt(b.userId===this.userId),a.push(Xs(this.serializer,b))}))}),je.waitFor(f).next(()=>a)}removeMutationBatch(e,r){return om(e._e,this.userId,r).next(a=>(e.addOnCommittedListener(()=>{this.Mn(r.batchId)}),je.forEach(a,f=>this.referenceDelegate.markPotentiallyOrphaned(e,f))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return je.resolve();const a=IDBKeyRange.lowerBound([this.userId]),f=[];return Po(e).J({range:a},(y,b,x)=>{if(y[0]===this.userId){const L=en(y[1]);f.push(L)}else x.done()}).next(()=>{Rt(0===f.length)})})}containsKey(e,r){return ah(e,this.userId,r)}xn(e){return ll(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ah(d,e,r){const a=Sn(e,r.path),f=a[1],y=IDBKeyRange.lowerBound(a);let b=!1;return Po(d).J({range:y,H:!0},(x,L,q)=>{const[ne,pe,Se]=x;ne===e&&pe===f&&(b=!0),q.done()}).next(()=>b)}function Mo(d){return Br(d,"mutations")}function Po(d){return Br(d,"documentMutations")}function ll(d){return Br(d,"mutationQueues")}class Ha{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Ha(0)}static Ln(){return new Ha(-1)}}class cf{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Bn(e).next(r=>{const a=new Ha(r.highestTargetId);return r.highestTargetId=a.next(),this.kn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(r=>$t.fromTimestamp(new vn(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,a){return this.Bn(e).next(f=>(f.highestListenSequenceNumber=r,a&&(f.lastRemoteSnapshotVersion=a.toTimestamp()),r>f.highestListenSequenceNumber&&(f.highestListenSequenceNumber=r),this.kn(e,f)))}addTargetData(e,r){return this.qn(e,r).next(()=>this.Bn(e).next(a=>(a.targetCount+=1,this.Qn(r,a),this.kn(e,a))))}updateTargetData(e,r){return this.qn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>ul(e).delete(r.targetId)).next(()=>this.Bn(e)).next(a=>(Rt(a.targetCount>0),a.targetCount-=1,this.kn(e,a)))}removeTargets(e,r,a){let f=0;const y=[];return ul(e).J((b,x)=>{const L=So(x);L.sequenceNumber<=r&&null===a.get(L.targetId)&&(f++,y.push(this.removeTargetData(e,L)))}).next(()=>je.waitFor(y)).next(()=>f)}forEachTarget(e,r){return ul(e).J((a,f)=>{const y=So(f);r(y)})}Bn(e){return lf(e).get("targetGlobalKey").next(r=>(Rt(null!==r),r))}kn(e,r){return lf(e).put("targetGlobalKey",r)}qn(e,r){return ul(e).put(fc(this.serializer,r))}Qn(e,r){let a=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,a=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.Bn(e).next(r=>r.targetCount)}getTargetData(e,r){const a=bn(r),f=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let y=null;return ul(e).J({range:f,index:"queryTargetsIndex"},(b,x,L)=>{const q=So(x);qn(r,q.target)&&(y=q,L.done())}).next(()=>y)}addMatchingKeys(e,r,a){const f=[],y=vc(e);return r.forEach(b=>{const x=Pt(b.path);f.push(y.put({targetId:a,path:x})),f.push(this.referenceDelegate.addReference(e,a,b))}),je.waitFor(f)}removeMatchingKeys(e,r,a){const f=vc(e);return je.forEach(r,y=>{const b=Pt(y.path);return je.waitFor([f.delete([a,b]),this.referenceDelegate.removeReference(e,a,y)])})}removeMatchingKeysForTargetId(e,r){const a=vc(e),f=IDBKeyRange.bound([r],[r+1],!1,!0);return a.delete(f)}getMatchingKeysForTargetId(e,r){const a=IDBKeyRange.bound([r],[r+1],!1,!0),f=vc(e);let y=Zn();return f.J({range:a,H:!0},(b,x,L)=>{const q=en(b[1]),ne=new Ot(q);y=y.add(ne)}).next(()=>y)}containsKey(e,r){const a=Pt(r.path),f=IDBKeyRange.bound([a],[mn(a)],!1,!0);let y=0;return vc(e).J({index:"documentTargetsIndex",H:!0,range:f},([b,x],L,q)=>{0!==b&&(y++,q.done())}).next(()=>y>0)}ot(e,r){return ul(e).get(r).next(a=>a?So(a):null)}}function ul(d){return Br(d,"targets")}function lf(d){return Br(d,"targetGlobal")}function vc(d){return Br(d,"targetDocuments")}function Lp([d,e],[r,a]){const f=qt(d,r);return 0===f?qt(e,a):f}class Vp{constructor(e){this.Kn=e,this.buffer=new Tr(Lp),this.$n=0}Un(){return++this.$n}Wn(e){const r=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();Lp(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class ch{constructor(e,r,a){this.garbageCollector=e,this.asyncQueue=r,this.localStore=a,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var r=this;de("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,I.Z)(function*(){r.Gn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(a){Dn(a)?de("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield gr(a)}yield r.zn(3e5)}))}}class dl{constructor(e,r){this.jn=e,this.params=r}calculateTargetCount(e,r){return this.jn.Hn(e).next(a=>Math.floor(r/100*a))}nthSequenceNumber(e,r){if(0===r)return je.resolve(F.oe);const a=new Vp(r);return this.jn.forEachTarget(e,f=>a.Wn(f.sequenceNumber)).next(()=>this.jn.Jn(e,f=>a.Wn(f))).next(()=>a.maxValue)}removeTargets(e,r,a){return this.jn.removeTargets(e,r,a)}removeOrphanedDocuments(e,r){return this.jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector","Garbage collection skipped; disabled"),je.resolve(sh)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sh):this.Yn(e,r))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,r){let a,f,y,b,x,L,q;const ne=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(pe=>(pe>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${pe}`),f=this.params.maximumSequenceNumbersToCollect):f=pe,b=Date.now(),this.nthSequenceNumber(e,f))).next(pe=>(a=pe,x=Date.now(),this.removeTargets(e,a,r))).next(pe=>(y=pe,L=Date.now(),this.removeOrphanedDocuments(e,a))).next(pe=>(q=Date.now(),vt()<=ve.in.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-ne}ms\n\tDetermined least recently used ${f} in `+(x-b)+`ms\n\tRemoved ${y} targets in `+(L-x)+`ms\n\tRemoved ${pe} documents in `+(q-L)+`ms\nTotal Duration: ${q-ne}ms`),je.resolve({didRun:!0,sequenceNumbersCollected:f,targetsRemoved:y,documentsRemoved:pe})))}}class uf{constructor(e,r){this.db=e,this.garbageCollector=function lh(d,e){return new dl(d,e)}(this,r)}Hn(e){const r=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(a=>r.next(f=>a+f))}Zn(e){let r=0;return this.Jn(e,a=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Jn(e,r){return this.Xn(e,(a,f)=>r(f))}addReference(e,r,a){return Vu(e,a)}removeReference(e,r,a){return Vu(e,a)}removeTargets(e,r,a){return this.db.getTargetCache().removeTargets(e,r,a)}markPotentiallyOrphaned(e,r){return Vu(e,r)}er(e,r){return function(f,y){let b=!1;return ll(f).Y(x=>ah(f,x,y).next(L=>(L&&(b=!0),je.resolve(!L)))).next(()=>b)}(e,r)}removeOrphanedDocuments(e,r){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),f=[];let y=0;return this.Xn(e,(b,x)=>{if(x<=r){const L=this.er(e,b).next(q=>{if(!q)return y++,a.getEntry(e,b).next(()=>(a.removeEntry(b,$t.min()),vc(e).delete([0,Pt(b.path)])))});f.push(L)}}).next(()=>je.waitFor(f)).next(()=>a.apply(e)).next(()=>y)}removeTarget(e,r){const a=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,r){return Vu(e,r)}Xn(e,r){const a=vc(e);let f,y=F.oe;return a.J({index:"documentTargetsIndex"},([b,x],{path:L,sequenceNumber:q})=>{0===b?(y!==F.oe&&r(new Ot(en(f)),y),y=q,f=L):y=F.oe}).next(()=>{y!==F.oe&&r(new Ot(en(f)),y)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Vu(d,e){return vc(d).put((f=d.currentSequenceNumber,{targetId:0,path:Pt(e.path),sequenceNumber:f}));var f}class hl{constructor(){this.changes=new Ui(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Ln.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const a=this.changes.get(r);return void 0!==a?je.resolve(a):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class V_{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,a){return va(e).put(a)}removeEntry(e,r,a){return va(e).delete(function(y,b){const x=y.path.toArray();return[x.slice(0,x.length-2),x[x.length-2],xr(b),x[x.length-1]]}(r,a))}updateMetadata(e,r){return this.getMetadata(e).next(a=>(a.byteSize+=r,this.tr(e,a)))}getEntry(e,r){let a=Ln.newInvalidDocument(r);return va(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(pl(r))},(f,y)=>{a=this.nr(r,y)}).next(()=>a)}rr(e,r){let a={size:0,document:Ln.newInvalidDocument(r)};return va(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(pl(r))},(f,y)=>{a={document:this.nr(r,y),size:gs(y)}}).next(()=>a)}getEntries(e,r){let a=hr();return this.ir(e,r,(f,y)=>{const b=this.nr(f,y);a=a.insert(f,b)}).next(()=>a)}sr(e,r){let a=hr(),f=new Pr(Ot.comparator);return this.ir(e,r,(y,b)=>{const x=this.nr(y,b);a=a.insert(y,x),f=f.insert(y,gs(b))}).next(()=>({documents:a,_r:f}))}ir(e,r,a){if(r.isEmpty())return je.resolve();let f=new Tr(eu);r.forEach(L=>f=f.add(L));const y=IDBKeyRange.bound(pl(f.first()),pl(f.last())),b=f.getIterator();let x=b.getNext();return va(e).J({index:"documentKeyIndex",range:y},(L,q,ne)=>{const pe=Ot.fromSegments([...q.prefixPath,q.collectionGroup,q.documentId]);for(;x&&eu(x,pe)<0;)a(x,null),x=b.getNext();x&&x.isEqual(pe)&&(a(x,q),x=b.hasNext()?b.getNext():null),x?ne.$(pl(x)):ne.done()}).next(()=>{for(;x;)a(x,null),x=b.hasNext()?b.getNext():null})}getDocumentsMatchingQuery(e,r,a,f,y){const b=r.path,x=[b.popLast().toArray(),b.lastSegment(),xr(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],L=[b.popLast().toArray(),b.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return va(e).U(IDBKeyRange.bound(x,L,!0)).next(q=>{y?.incrementDocumentReadCount(q.length);let ne=hr();for(const pe of q){const Se=this.nr(Ot.fromSegments(pe.prefixPath.concat(pe.collectionGroup,pe.documentId)),pe);Se.isFoundDocument()&&(ua(r,Se)||f.has(Se.key))&&(ne=ne.insert(Se.key,Se))}return ne})}getAllFromCollectionGroup(e,r,a,f){let y=hr();const b=df(r,a),x=df(r,Kt.max());return va(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,x,!0)},(L,q,ne)=>{const pe=this.nr(Ot.fromSegments(q.prefixPath.concat(q.collectionGroup,q.documentId)),q);y=y.insert(pe.key,pe),y.size===f&&ne.done()}).next(()=>y)}newChangeBuffer(e){return new uh(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return fl(e).get("remoteDocumentGlobalKey").next(r=>(Rt(!!r),r))}tr(e,r){return fl(e).put("remoteDocumentGlobalKey",r)}nr(e,r){if(r){const a=function ln(d,e){let r;if(e.document)r=Ki(d.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const a=Ot.fromSegments(e.noDocument.path),f=ns(e.noDocument.readTime);r=Ln.newNoDocument(a,f),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return _t();{const a=Ot.fromSegments(e.unknownDocument.path),f=ns(e.unknownDocument.version);r=Ln.newUnknownDocument(a,f)}}return e.readTime&&r.setReadTime(function(f){const y=new vn(f[0],f[1]);return $t.fromTimestamp(y)}(e.readTime)),r}(this.serializer,r);if(!a.isNoDocument()||!a.version.isEqual($t.min()))return a}return Ln.newInvalidDocument(e)}}function ms(d){return new V_(d)}class uh extends hl{constructor(e,r){super(),this.ar=e,this.trackRemovals=r,this.ur=new Ui(a=>a.toString(),(a,f)=>a.isEqual(f))}applyChanges(e){const r=[];let a=0,f=new Tr((y,b)=>qt(y.canonicalString(),b.canonicalString()));return this.changes.forEach((y,b)=>{const x=this.ur.get(y);if(r.push(this.ar.removeEntry(e,y,x.readTime)),b.isValidDocument()){const L=ar(this.ar.serializer,b);f=f.add(y.path.popLast());const q=gs(L);a+=q-x.size,r.push(this.ar.addEntry(e,y,L))}else if(a-=x.size,this.trackRemovals){const L=ar(this.ar.serializer,b.convertToNoDocument($t.min()));r.push(this.ar.addEntry(e,y,L))}}),f.forEach(y=>{r.push(this.ar.indexManager.addToCollectionParentIndex(e,y))}),r.push(this.ar.updateMetadata(e,a)),je.waitFor(r)}getFromCache(e,r){return this.ar.rr(e,r).next(a=>(this.ur.set(r,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(e,r){return this.ar.sr(e,r).next(({documents:a,_r:f})=>(f.forEach((y,b)=>{this.ur.set(y,{size:b,readTime:a.get(y).readTime})}),a))}}function fl(d){return Br(d,"remoteDocumentGlobal")}function va(d){return Br(d,"remoteDocumentsV14")}function pl(d){const e=d.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function df(d,e){const r=e.documentKey.path.toArray();return[d,xr(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function eu(d,e){const r=d.path.toArray(),a=e.path.toArray();let f=0;for(let y=0;y<r.length-2&&y<a.length-2;++y)if(f=qt(r[y],a[y]),f)return f;return f=qt(r.length,a.length),f||(f=qt(r[r.length-2],a[a.length-2]),f||qt(r[r.length-1],a[a.length-1]))}class Ec{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class Ic{constructor(e,r,a,f){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=a,this.indexManager=f}getDocument(e,r){let a=null;return this.documentOverlayCache.getOverlay(e,r).next(f=>(a=f,this.remoteDocumentCache.getEntry(e,r))).next(f=>(null!==a&&Ie(a.mutation,f,Ai.empty(),vn.now()),f))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(a=>this.getLocalViewOfDocuments(e,a,Zn()).next(()=>a))}getLocalViewOfDocuments(e,r,a=Zn()){const f=Us();return this.populateOverlays(e,f,r).next(()=>this.computeViews(e,r,f,a).next(y=>{let b=Di();return y.forEach((x,L)=>{b=b.insert(x,L.overlayedDocument)}),b}))}getOverlayedDocuments(e,r){const a=Us();return this.populateOverlays(e,a,r).next(()=>this.computeViews(e,r,a,Zn()))}populateOverlays(e,r,a){const f=[];return a.forEach(y=>{r.has(y)||f.push(y)}),this.documentOverlayCache.getOverlays(e,f).next(y=>{y.forEach((b,x)=>{r.set(b,x)})})}computeViews(e,r,a,f){let y=hr();const b=Qs(),x=Qs();return r.forEach((L,q)=>{const ne=a.get(q.key);f.has(q.key)&&(void 0===ne||ne.mutation instanceof fr)?y=y.insert(q.key,q):void 0!==ne?(b.set(q.key,ne.mutation.getFieldMask()),Ie(ne.mutation,q,ne.mutation.getFieldMask(),vn.now())):b.set(q.key,Ai.empty())}),this.recalculateAndSaveOverlays(e,y).next(L=>(L.forEach((q,ne)=>b.set(q,ne)),r.forEach((q,ne)=>{var pe;return x.set(q,new Ec(ne,null!==(pe=b.get(q))&&void 0!==pe?pe:null))}),x))}recalculateAndSaveOverlays(e,r){const a=Qs();let f=new Pr((b,x)=>b-x),y=Zn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(b=>{for(const x of b)x.keys().forEach(L=>{const q=r.get(L);if(null===q)return;let ne=a.get(L)||Ai.empty();ne=x.applyToLocalView(q,ne),a.set(L,ne);const pe=(f.get(x.batchId)||Zn()).add(L);f=f.insert(x.batchId,pe)})}).next(()=>{const b=[],x=f.getReverseIterator();for(;x.hasNext();){const L=x.getNext(),q=L.key,ne=L.value,pe=Ys();ne.forEach(Se=>{if(!y.has(Se)){const tt=B(r.get(Se),a.get(Se));null!==tt&&pe.set(Se,tt),y=y.add(Se)}}),b.push(this.documentOverlayCache.saveOverlays(e,q,pe))}return je.waitFor(b)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,r,a,f){return Ot.isDocumentKey((b=r).path)&&null===b.collectionGroup&&0===b.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):ql(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,a,f):this.getDocumentsMatchingCollectionQuery(e,r,a,f);var b}getNextDocuments(e,r,a,f){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,a,f).next(y=>{const b=f-y.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,a.largestBatchId,f-y.size):je.resolve(Us());let x=-1,L=y;return b.next(q=>je.forEach(q,(ne,pe)=>(x<pe.largestBatchId&&(x=pe.largestBatchId),y.get(ne)?je.resolve():this.remoteDocumentCache.getEntry(e,ne).next(Se=>{L=L.insert(ne,Se)}))).next(()=>this.populateOverlays(e,q,y)).next(()=>this.computeViews(e,L,q,Zn())).next(ne=>({batchId:x,changes:xu(ne)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ot(r)).next(a=>{let f=Di();return a.isFoundDocument()&&(f=f.insert(a.key,a)),f})}getDocumentsMatchingCollectionGroupQuery(e,r,a,f){const y=r.collectionGroup;let b=Di();return this.indexManager.getCollectionParents(e,y).next(x=>je.forEach(x,L=>{const q=(pe=r,Se=L.child(y),new ca(Se,null,pe.explicitOrderBy.slice(),pe.filters.slice(),pe.limit,pe.limitType,pe.startAt,pe.endAt));var pe,Se;return this.getDocumentsMatchingCollectionQuery(e,q,a,f).next(ne=>{ne.forEach((pe,Se)=>{b=b.insert(pe,Se)})})}).next(()=>b))}getDocumentsMatchingCollectionQuery(e,r,a,f){let y;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,a.largestBatchId).next(b=>(y=b,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,a,y,f))).next(b=>{y.forEach((L,q)=>{const ne=q.getKey();null===b.get(ne)&&(b=b.insert(ne,Ln.newInvalidDocument(ne)))});let x=Di();return b.forEach((L,q)=>{const ne=y.get(L);void 0!==ne&&Ie(ne.mutation,q,Ai.empty(),vn.now()),ua(r,q)&&(x=x.insert(L,q))}),x})}}class tu{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return je.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(f=r).id,version:f.version,createTime:di(f.createTime)}),je.resolve();var f}getNamedQuery(e,r){return je.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(f=r).name,query:ho(f.bundledQuery),readTime:di(f.readTime)}),je.resolve();var f}}class Up{constructor(){this.overlays=new Pr(Ot.comparator),this.hr=new Map}getOverlay(e,r){return je.resolve(this.overlays.get(r))}getOverlays(e,r){const a=Us();return je.forEach(r,f=>this.getOverlay(e,f).next(y=>{null!==y&&a.set(f,y)})).next(()=>a)}saveOverlays(e,r,a){return a.forEach((f,y)=>{this.ht(e,r,y)}),je.resolve()}removeOverlaysForBatchId(e,r,a){const f=this.hr.get(a);return void 0!==f&&(f.forEach(y=>this.overlays=this.overlays.remove(y)),this.hr.delete(a)),je.resolve()}getOverlaysForCollection(e,r,a){const f=Us(),y=r.length+1,b=new Ot(r.child("")),x=this.overlays.getIteratorFrom(b);for(;x.hasNext();){const L=x.getNext().value,q=L.getKey();if(!r.isPrefixOf(q.path))break;q.path.length===y&&L.largestBatchId>a&&f.set(L.getKey(),L)}return je.resolve(f)}getOverlaysForCollectionGroup(e,r,a,f){let y=new Pr((q,ne)=>q-ne);const b=this.overlays.getIterator();for(;b.hasNext();){const q=b.getNext().value;if(q.getKey().getCollectionGroup()===r&&q.largestBatchId>a){let ne=y.get(q.largestBatchId);null===ne&&(ne=Us(),y=y.insert(q.largestBatchId,ne)),ne.set(q.getKey(),q)}}const x=Us(),L=y.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach((q,ne)=>x.set(q,ne)),!(x.size()>=f)););return je.resolve(x)}ht(e,r,a){const f=this.overlays.get(a.key);if(null!==f){const b=this.hr.get(f.largestBatchId).delete(a.key);this.hr.set(f.largestBatchId,b)}this.overlays=this.overlays.insert(a.key,new Bi(r,a));let y=this.hr.get(r);void 0===y&&(y=Zn(),this.hr.set(r,y)),this.hr.set(r,y.add(a.key))}}class eo{constructor(){this.Pr=new Tr(Zr.Ir),this.Tr=new Tr(Zr.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const a=new Zr(e,r);this.Pr=this.Pr.add(a),this.Tr=this.Tr.add(a)}dr(e,r){e.forEach(a=>this.addReference(a,r))}removeReference(e,r){this.Ar(new Zr(e,r))}Rr(e,r){e.forEach(a=>this.removeReference(a,r))}Vr(e){const r=new Ot(new In([])),a=new Zr(r,e),f=new Zr(r,e+1),y=[];return this.Tr.forEachInRange([a,f],b=>{this.Ar(b),y.push(b.key)}),y}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new Ot(new In([])),a=new Zr(r,e),f=new Zr(r,e+1);let y=Zn();return this.Tr.forEachInRange([a,f],b=>{y=y.add(b.key)}),y}containsKey(e){const r=new Zr(e,0),a=this.Pr.firstAfterOrEqual(r);return null!==a&&e.isEqual(a.key)}}class Zr{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return Ot.comparator(e.key,r.key)||qt(e.pr,r.pr)}static Er(e,r){return qt(e.pr,r.pr)||Ot.comparator(e.key,r.key)}}class Av{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new Tr(Zr.Ir)}checkEmpty(e){return je.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,a,f){const y=this.yr;this.yr++;const b=new Ii(y,r,a,f);this.mutationQueue.push(b);for(const x of f)this.wr=this.wr.add(new Zr(x.key,y)),this.indexManager.addToCollectionParentIndex(e,x.key.path.popLast());return je.resolve(b)}lookupMutationBatch(e,r){return je.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const f=this.br(r+1),y=f<0?0:f;return je.resolve(this.mutationQueue.length>y?this.mutationQueue[y]:null)}getHighestUnacknowledgedBatchId(){return je.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const a=new Zr(r,0),f=new Zr(r,Number.POSITIVE_INFINITY),y=[];return this.wr.forEachInRange([a,f],b=>{const x=this.Sr(b.pr);y.push(x)}),je.resolve(y)}getAllMutationBatchesAffectingDocumentKeys(e,r){let a=new Tr(qt);return r.forEach(f=>{const y=new Zr(f,0),b=new Zr(f,Number.POSITIVE_INFINITY);this.wr.forEachInRange([y,b],x=>{a=a.add(x.pr)})}),je.resolve(this.Dr(a))}getAllMutationBatchesAffectingQuery(e,r){const a=r.path,f=a.length+1;let y=a;Ot.isDocumentKey(y)||(y=y.child(""));const b=new Zr(new Ot(y),0);let x=new Tr(qt);return this.wr.forEachWhile(L=>{const q=L.key.path;return!!a.isPrefixOf(q)&&(q.length===f&&(x=x.add(L.pr)),!0)},b),je.resolve(this.Dr(x))}Dr(e){const r=[];return e.forEach(a=>{const f=this.Sr(a);null!==f&&r.push(f)}),r}removeMutationBatch(e,r){Rt(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let a=this.wr;return je.forEach(r.mutations,f=>{const y=new Zr(f.key,r.batchId);return a=a.delete(y),this.referenceDelegate.markPotentiallyOrphaned(e,f.key)}).next(()=>{this.wr=a})}Mn(e){}containsKey(e,r){const a=new Zr(r,0),f=this.wr.firstAfterOrEqual(a);return je.resolve(r.isEqual(f&&f.key))}performConsistencyCheck(e){return je.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class U_{constructor(e){this.vr=e,this.docs=new Pr(Ot.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const a=r.key,f=this.docs.get(a),y=f?f.size:0,b=this.vr(r);return this.docs=this.docs.insert(a,{document:r.mutableCopy(),size:b}),this.size+=b-y,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const a=this.docs.get(r);return je.resolve(a?a.document.mutableCopy():Ln.newInvalidDocument(r))}getEntries(e,r){let a=hr();return r.forEach(f=>{const y=this.docs.get(f);a=a.insert(f,y?y.document.mutableCopy():Ln.newInvalidDocument(f))}),je.resolve(a)}getDocumentsMatchingQuery(e,r,a,f){let y=hr();const b=r.path,x=new Ot(b.child("")),L=this.docs.getIteratorFrom(x);for(;L.hasNext();){const{key:q,value:{document:ne}}=L.getNext();if(!b.isPrefixOf(q.path))break;q.path.length>b.length+1||si(ui(ne),a)<=0||(f.has(ne.key)||ua(r,ne))&&(y=y.insert(ne.key,ne.mutableCopy()))}return je.resolve(y)}getAllFromCollectionGroup(e,r,a,f){_t()}Fr(e,r){return je.forEach(this.docs,a=>r(a))}newChangeBuffer(e){return new hf(this)}getSize(e){return je.resolve(this.size)}}class hf extends hl{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((a,f)=>{f.isValidDocument()?r.push(this.ar.addEntry(e,f)):this.ar.removeEntry(a)}),je.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class Dv{constructor(e){this.persistence=e,this.Mr=new Ui(r=>bn(r),qn),this.lastRemoteSnapshotVersion=$t.min(),this.highestTargetId=0,this.Or=0,this.Nr=new eo,this.targetCount=0,this.Lr=Ha.Nn()}forEachTarget(e,r){return this.Mr.forEach((a,f)=>r(f)),je.resolve()}getLastRemoteSnapshotVersion(e){return je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return je.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),je.resolve(this.highestTargetId)}setTargetsMetadata(e,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.Or&&(this.Or=r),je.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Lr=new Ha(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,je.resolve()}updateTargetData(e,r){return this.qn(r),je.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,je.resolve()}removeTargets(e,r,a){let f=0;const y=[];return this.Mr.forEach((b,x)=>{x.sequenceNumber<=r&&null===a.get(x.targetId)&&(this.Mr.delete(b),y.push(this.removeMatchingKeysForTargetId(e,x.targetId)),f++)}),je.waitFor(y).next(()=>f)}getTargetCount(e){return je.resolve(this.targetCount)}getTargetData(e,r){const a=this.Mr.get(r)||null;return je.resolve(a)}addMatchingKeys(e,r,a){return this.Nr.dr(r,a),je.resolve()}removeMatchingKeys(e,r,a){this.Nr.Rr(r,a);const f=this.persistence.referenceDelegate,y=[];return f&&r.forEach(b=>{y.push(f.markPotentiallyOrphaned(e,b))}),je.waitFor(y)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),je.resolve()}getMatchingKeysForTargetId(e,r){const a=this.Nr.gr(r);return je.resolve(a)}containsKey(e,r){return je.resolve(this.Nr.containsKey(r))}}class am{constructor(e,r){this.Br={},this.overlays={},this.kr=new F(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Dv(this),this.indexManager=new sm,this.remoteDocumentCache=new U_(a=>this.referenceDelegate.Kr(a)),this.serializer=new it(r),this.$r=new tu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Up,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let a=this.Br[e.toKey()];return a||(a=new Av(r,this.referenceDelegate),this.Br[e.toKey()]=a),a}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,a){de("MemoryPersistence","Starting transaction:",e);const f=new B_(this.kr.next());return this.referenceDelegate.Ur(),a(f).next(y=>this.referenceDelegate.Wr(f).next(()=>y)).toPromise().then(y=>(f.raiseOnCommittedEvent(),y))}Gr(e,r){return je.or(Object.values(this.Br).map(a=>()=>a.containsKey(e,r)))}}class B_ extends pr{constructor(e){super(),this.currentSequenceNumber=e}}class Bp{constructor(e){this.persistence=e,this.zr=new eo,this.jr=null}static Hr(e){return new Bp(e)}get Jr(){if(this.jr)return this.jr;throw _t()}addReference(e,r,a){return this.zr.addReference(a,r),this.Jr.delete(a.toString()),je.resolve()}removeReference(e,r,a){return this.zr.removeReference(a,r),this.Jr.add(a.toString()),je.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),je.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(f=>this.Jr.add(f.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,r.targetId).next(f=>{f.forEach(y=>this.Jr.add(y.toString()))}).next(()=>a.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.Jr,a=>{const f=Ot.fromPath(a);return this.Yr(e,f).next(y=>{y||r.removeEntry(f,$t.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(a=>{a?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return je.or([()=>je.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class Bu{constructor(e){this.serializer=e}O(e,r,a,f){const y=new Et("createOrUpgrade",r);var L;a<1&&f>=1&&(e.createObjectStore("owner"),(L=e).createObjectStore("mutationQueues",{keyPath:"userId"}),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Gn,{unique:!0}),L.createObjectStore("documentMutations"),cm(e),function(L){L.createObjectStore("remoteDocuments")}(e));let b=je.resolve();return a<3&&f>=3&&(0!==a&&(function(L){L.deleteObjectStore("targetDocuments"),L.deleteObjectStore("targets"),L.deleteObjectStore("targetGlobal")}(e),cm(e)),b=b.next(()=>function(L){const q=L.store("targetGlobal"),ne={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:$t.min().toTimestamp(),targetCount:0};return q.put("targetGlobalKey",ne)}(y))),a<4&&f>=4&&(0!==a&&(b=b.next(()=>function(L,q){return q.store("mutations").U().next(ne=>{L.deleteObjectStore("mutations"),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Gn,{unique:!0});const pe=q.store("mutations"),Se=ne.map(tt=>pe.put(tt));return je.waitFor(Se)})}(e,y))),b=b.next(()=>{!function(L){L.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),a<5&&f>=5&&(b=b.next(()=>this.Xr(y))),a<6&&f>=6&&(b=b.next(()=>(function(L){L.createObjectStore("remoteDocumentGlobal")}(e),this.ei(y)))),a<7&&f>=7&&(b=b.next(()=>this.ti(y))),a<8&&f>=8&&(b=b.next(()=>this.ni(e,y))),a<9&&f>=9&&(b=b.next(()=>{!function(L){L.objectStoreNames.contains("remoteDocumentChanges")&&L.deleteObjectStore("remoteDocumentChanges")}(e)})),a<10&&f>=10&&(b=b.next(()=>this.ri(y))),a<11&&f>=11&&(b=b.next(()=>{(function(L){L.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(L){L.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),a<12&&f>=12&&(b=b.next(()=>{!function(L){const q=L.createObjectStore("documentOverlays",{keyPath:Mr});q.createIndex("collectionPathOverlayIndex",Xa,{unique:!1}),q.createIndex("collectionGroupOverlayIndex",ai,{unique:!1})}(e)})),a<13&&f>=13&&(b=b.next(()=>function(L){const q=L.createObjectStore("remoteDocumentsV14",{keyPath:Fo});q.createIndex("documentKeyIndex",wi),q.createIndex("collectionGroupIndex",vo)}(e)).next(()=>this.ii(e,y)).next(()=>e.deleteObjectStore("remoteDocuments"))),a<14&&f>=14&&(b=b.next(()=>this.si(e,y))),a<15&&f>=15&&(b=b.next(()=>function(L){L.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),L.createObjectStore("indexState",{keyPath:Pa}).createIndex("sequenceNumberIndex",Ra,{unique:!1}),L.createObjectStore("indexEntries",{keyPath:Gl}).createIndex("documentKeyIndex",Yi,{unique:!1})}(e))),a<16&&f>=16&&(b=b.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),b}ei(e){let r=0;return e.store("remoteDocuments").J((a,f)=>{r+=gs(f)}).next(()=>{const a={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}Xr(e){const r=e.store("mutationQueues"),a=e.store("mutations");return r.U().next(f=>je.forEach(f,y=>{const b=IDBKeyRange.bound([y.userId,-1],[y.userId,y.lastAcknowledgedBatchId]);return a.U("userMutationsIndex",b).next(x=>je.forEach(x,L=>{Rt(L.userId===y.userId);const q=Xs(this.serializer,L);return om(e,y.userId,q).next(()=>{})}))}))}ti(e){const r=e.store("targetDocuments"),a=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(f=>{const y=[];return a.J((b,x)=>{const L=new In(b),q=[0,Pt(L)];y.push(r.get(q).next(ne=>ne?je.resolve():r.put({targetId:0,path:Pt(L),sequenceNumber:f.highestListenSequenceNumber})))}).next(()=>je.waitFor(y))})}ni(e,r){e.createObjectStore("collectionParents",{keyPath:Zs});const a=r.store("collectionParents"),f=new yc,y=b=>{if(f.add(b)){const x=b.lastSegment(),L=b.popLast();return a.put({collectionId:x,parent:Pt(L)})}};return r.store("remoteDocuments").J({H:!0},(b,x)=>{const L=new In(b);return y(L.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([b,x,L],q)=>{const ne=en(x);return y(ne.popLast())}))}ri(e){const r=e.store("targets");return r.J((a,f)=>{const y=So(f),b=fc(this.serializer,y);return r.put(b)})}ii(e,r){const a=r.store("remoteDocuments"),f=[];return a.J((y,b)=>{const x=r.store("remoteDocumentsV14"),L=(pe=b,pe.document?new Ot(In.fromString(pe.document.name).popFirst(5)):pe.noDocument?Ot.fromSegments(pe.noDocument.path):pe.unknownDocument?Ot.fromSegments(pe.unknownDocument.path):_t()).path.toArray(),q={prefixPath:L.slice(0,L.length-2),collectionGroup:L[L.length-2],documentId:L[L.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};var pe;f.push(x.put(q))}).next(()=>je.waitFor(f))}si(e,r){const a=r.store("mutations"),f=ms(this.serializer),y=new am(Bp.Hr,this.serializer.ct);return a.U().next(b=>{const x=new Map;return b.forEach(L=>{var q;let ne=null!==(q=x.get(L.userId))&&void 0!==q?q:Zn();Xs(this.serializer,L).keys().forEach(pe=>ne=ne.add(pe)),x.set(L.userId,ne)}),je.forEach(x,(L,q)=>{const ne=new Xe(q),pe=Jd.lt(this.serializer,ne),Se=y.getIndexManager(ne),tt=oh.lt(ne,this.serializer,Se,y.referenceDelegate);return new Ic(f,tt,pe,Se).recalculateAndSaveOverlaysForDocumentKeys(new zi(r,F.oe),L).next()})})}}function cm(d){d.createObjectStore("targetDocuments",{keyPath:ki}).createIndex("documentTargetsIndex",or,{unique:!0}),d.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Os,{unique:!0}),d.createObjectStore("targetGlobal")}const jp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Hi{constructor(e,r,a,f,y,b,x,L,q,ne,pe=16){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=a,this.oi=y,this.window=b,this.document=x,this._i=q,this.ai=ne,this.ui=pe,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=Se=>Promise.resolve(),!Hi.D())throw new fe(Pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new uf(this,f),this.Ti=r+"main",this.serializer=new it(L),this.Ei=new ie(this.Ti,this.ui,new Bu(this.serializer)),this.Qr=new cf(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ms(this.serializer),this.$r=new hi,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===ne&&gt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new fe(Pe.FAILED_PRECONDITION,jp);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new F(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var r=this;return this.Ii=function(){var a=(0,I.Z)(function*(f){if(r.started)return e(f)});return function(f){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var r=(0,I.Z)(function*(a){null===a.newVersion&&(yield e())});return function(a){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,I.Z)(function*(){r.started&&(yield r.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Tc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(r=>{r||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(r=>this.isPrimary&&!r?this.yi(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(Dn(e))return de("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return de("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return bc(e).get("owner").next(r=>je.resolve(this.Si(r)))}bi(e){return Tc(e).delete(this.clientId)}Di(){var e=this;return(0,I.Z)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const f=Br(a,"clientMetadata");return f.U().next(y=>{const b=e.vi(y,18e5),x=y.filter(L=>-1===b.indexOf(L));return je.forEach(x,L=>f.delete(L.clientId)).next(()=>x)})}).catch(()=>[]);if(e.di)for(const a of r)e.di.removeItem(e.Fi(a.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?je.resolve(!0):bc(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)){if(this.Si(r)&&this.networkEnabled)return!0;if(!this.Si(r)){if(!r.allowTabSynchronization)throw new fe(Pe.FAILED_PRECONDITION,jp);return!1}}return!(!this.networkEnabled||!this.inForeground)||Tc(e).U().next(a=>void 0===this.vi(a,5e3).find(f=>!(this.clientId===f.clientId||!(!this.networkEnabled&&f.networkEnabled||!this.inForeground&&f.inForeground&&this.networkEnabled===f.networkEnabled))))}).next(r=>(this.isPrimary!==r&&de("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,I.Z)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const a=new zi(r,F.oe);return e.yi(a).next(()=>e.bi(a))}),e.Ei.close(),e.Li()})()}vi(e,r){return e.filter(a=>this.Ci(a.updateTimeMs,r)&&!this.Mi(a.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Tc(e).U().next(r=>this.vi(r,18e5).map(a=>a.clientId)))}get started(){return this.qr}getMutationQueue(e,r){return oh.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new al(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Jd.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,r,a){de("IndexedDbPersistence","Starting transaction:",e);const f="readonly"===r?"readonly":"readwrite",y=16===(L=this.ui)?co:15===L?$i:14===L?mr:13===L?Oa:12===L?ia:11===L?xa:void _t();var L;let b;return this.Ei.runTransaction(e,f,y,x=>(b=new zi(x,this.kr?this.kr.next():F.oe),"readwrite-primary"===r?this.gi(b).next(L=>!!L||this.pi(b)).next(L=>{if(!L)throw gt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new fe(Pe.FAILED_PRECONDITION,Hn);return a(b)}).next(L=>this.wi(b).next(()=>L)):this.ki(b).next(()=>a(b)))).then(x=>(b.raiseOnCommittedEvent(),x))}ki(e){return bc(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)&&!this.Si(r)&&!(this.ai||this.allowTabSynchronization&&r.allowTabSynchronization))throw new fe(Pe.FAILED_PRECONDITION,jp)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return bc(e).put("owner",r)}static D(){return ie.D()}yi(e){const r=bc(e);return r.get("owner").next(a=>this.Si(a)?(de("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):je.resolve())}Ci(e,r){const a=Date.now();return!(e<a-r||e>a&&(gt(`Detected an update time that is in the future: ${e} > ${a}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const r=/(?:Version|Mobile)\/1[456]/;(0,_e.G6)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var r;try{const a=null!==(null===(r=this.di)||void 0===r?void 0:r.getItem(this.Fi(e)));return de("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return gt("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){gt("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function bc(d){return Br(d,"owner")}function Tc(d){return Br(d,"clientMetadata")}function ff(d,e){let r=d.projectId;return d.isDefaultDatabase||(r+="."+d.database),"firestore/"+e+"/"+r+"/"}class to{constructor(e,r,a,f){this.targetId=e,this.fromCache=r,this.qi=a,this.Qi=f}static Ki(e,r){let a=Zn(),f=Zn();for(const y of r.docChanges)switch(y.type){case 0:a=a.add(y.doc.key);break;case 1:f=f.add(y.doc.key)}return new to(e,r.fromCache,a,f)}}class Cc{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class pf{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,_e.G6)()?8:Te((0,_e.z$)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,a,f){const y={result:null};return this.ji(e,r).next(b=>{y.result=b}).next(()=>{if(!y.result)return this.Hi(e,r,f,a).next(b=>{y.result=b})}).next(()=>{if(y.result)return;const b=new Cc;return this.Ji(e,r,b).next(x=>{if(y.result=x,this.Ui)return this.Yi(e,r,b,x.size)})}).next(()=>y.result)}Yi(e,r,a,f){return a.documentReadCount<this.Wi?(vt()<=ve.in.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",sc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),je.resolve()):(vt()<=ve.in.DEBUG&&de("QueryEngine","Query:",sc(r),"scans",a.documentReadCount,"local documents and returns",f,"documents as results."),a.documentReadCount>this.Gi*f?(vt()<=ve.in.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",sc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mi(r))):je.resolve())}ji(e,r){if(Bd(r))return je.resolve(null);let a=mi(r);return this.indexManager.getIndexType(e,a).next(f=>0===f?null:(null!==r.limit&&1===f&&(r=ic(r,null,"F"),a=mi(r)),this.indexManager.getDocumentsMatchingTarget(e,a).next(y=>{const b=Zn(...y);return this.zi.getDocuments(e,b).next(x=>this.indexManager.getMinOffset(e,a).next(L=>{const q=this.Zi(r,x);return this.Xi(r,q,b,L.readTime)?this.ji(e,ic(r,null,"F")):this.es(e,q,r,L)}))})))}Hi(e,r,a,f){return Bd(r)||f.isEqual($t.min())?je.resolve(null):this.zi.getDocuments(e,a).next(y=>{const b=this.Zi(r,y);return this.Xi(r,b,a,f)?je.resolve(null):(vt()<=ve.in.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",f.toString(),sc(r)),this.es(e,b,r,Ir(f,-1)).next(x=>x))})}Zi(e,r){let a=new Tr(Vs(e));return r.forEach((f,y)=>{ua(e,y)&&(a=a.add(y))}),a}Xi(e,r,a,f){if(null===e.limit)return!1;if(a.size!==r.size)return!0;const y="F"===e.limitType?r.last():r.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(f)>0)}Ji(e,r,a){return vt()<=ve.in.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",sc(r)),this.zi.getDocumentsMatchingQuery(e,r,Kt.min(),a)}es(e,r,a,f){return this.zi.getDocumentsMatchingQuery(e,a,f).next(y=>(r.forEach(b=>{y=y.insert(b.key,b)}),y))}}class gf{constructor(e,r,a,f){this.persistence=e,this.ts=r,this.serializer=f,this.ns=new Pr(qt),this.rs=new Ui(y=>bn(y),qn),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(a)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ic(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function ju(d,e,r,a){return new gf(d,e,r,a)}function Hu(d,e){return Hp.apply(this,arguments)}function Hp(){return(Hp=(0,I.Z)(function*(d,e){const r=nt(d);return yield r.persistence.runTransaction("Handle user change","readonly",a=>{let f;return r.mutationQueue.getAllMutationBatches(a).next(y=>(f=y,r._s(e),r.mutationQueue.getAllMutationBatches(a))).next(y=>{const b=[],x=[];let L=Zn();for(const q of f){b.push(q.batchId);for(const ne of q.mutations)L=L.add(ne.key)}for(const q of y){x.push(q.batchId);for(const ne of q.mutations)L=L.add(ne.key)}return r.localDocuments.getDocuments(a,L).next(q=>({us:q,removedBatchIds:b,addedBatchIds:x}))})})})).apply(this,arguments)}function $p(d){const e=nt(d);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function $u(d,e,r){let a=Zn(),f=Zn();return r.forEach(y=>a=a.add(y)),e.getEntries(d,a).next(y=>{let b=hr();return r.forEach((x,L)=>{const q=y.get(x);L.isFoundDocument()!==q.isFoundDocument()&&(f=f.add(x)),L.isNoDocument()&&L.version.isEqual($t.min())?(e.removeEntry(x,L.readTime),b=b.insert(x,L)):!q.isValidDocument()||L.version.compareTo(q.version)>0||0===L.version.compareTo(q.version)&&q.hasPendingWrites?(e.addEntry(L),b=b.insert(x,L)):de("LocalStore","Ignoring outdated watch update for ",x,". Current version:",q.version," Watch version:",L.version)}),{cs:b,ls:f}})}function gl(d,e){const r=nt(d);return r.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function Ko(d,e){const r=nt(d);return r.persistence.runTransaction("Allocate target","readwrite",a=>{let f;return r.Qr.getTargetData(a,e).next(y=>y?(f=y,je.resolve(f)):r.Qr.allocateTargetId(a).next(b=>(f=new rt(e,b,"TargetPurposeListen",a.currentSequenceNumber),r.Qr.addTargetData(a,f).next(()=>f))))}).then(a=>{const f=r.ns.get(a.targetId);return(null===f||a.snapshotVersion.compareTo(f.snapshotVersion)>0)&&(r.ns=r.ns.insert(a.targetId,a),r.rs.set(e,a.targetId)),a})}function Yo(d,e,r){return zu.apply(this,arguments)}function zu(){return(zu=(0,I.Z)(function*(d,e,r){const a=nt(d),f=a.ns.get(e),y=r?"readwrite":"readwrite-primary";try{r||(yield a.persistence.runTransaction("Release target",y,b=>a.persistence.referenceDelegate.removeTarget(b,f)))}catch(b){if(!Dn(b))throw b;de("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}a.ns=a.ns.remove(e),a.rs.delete(f.target)})).apply(this,arguments)}function mf(d,e,r){const a=nt(d);let f=$t.min(),y=Zn();return a.persistence.runTransaction("Execute query","readwrite",b=>function(L,q,ne){const pe=nt(L),Se=pe.rs.get(ne);return void 0!==Se?je.resolve(pe.ns.get(Se)):pe.Qr.getTargetData(q,ne)}(a,b,mi(e)).next(x=>{if(x)return f=x.lastLimboFreeSnapshotVersion,a.Qr.getMatchingKeysForTargetId(b,x.targetId).next(L=>{y=L})}).next(()=>a.ts.getDocumentsMatchingQuery(b,e,r?f:$t.min(),r?y:Zn())).next(x=>(yf(a,Jc(e),x),{documents:x,hs:y})))}function ml(d,e){const r=nt(d),a=nt(r.Qr),f=r.ns.get(e);return f?Promise.resolve(f.target):r.persistence.runTransaction("Get target data","readonly",y=>a.ot(y,e).next(b=>b?b.target:null))}function _f(d,e){const r=nt(d),a=r.ss.get(e)||$t.min();return r.persistence.runTransaction("Get new document changes","readonly",f=>r.os.getAllFromCollectionGroup(f,e,Ir(a,-1),Number.MAX_SAFE_INTEGER)).then(f=>(yf(r,e,f),f))}function yf(d,e,r){let a=d.ss.get(e)||$t.min();r.forEach((f,y)=>{y.readTime.compareTo(a)>0&&(a=y.readTime)}),d.ss.set(e,a)}function ru(){return(ru=(0,I.Z)(function*(d,e,r,a){const f=nt(d);let y=Zn(),b=hr();for(const q of r){const ne=e.Ps(q.metadata.name);q.document&&(y=y.add(ne));const pe=e.Is(q);pe.setReadTime(e.Ts(q.metadata.readTime)),b=b.insert(ne,pe)}const x=f.os.newChangeBuffer({trackRemovals:!0}),L=yield Ko(f,(ne=a,mi(Fr(In.fromString(`__bundle__/docs/${ne}`)))));var ne;return f.persistence.runTransaction("Apply bundle documents","readwrite",q=>$u(q,x,b).next(ne=>(x.apply(q),ne)).next(ne=>f.Qr.removeMatchingKeysForTargetId(q,L.targetId).next(()=>f.Qr.addMatchingKeys(q,y,L.targetId)).next(()=>f.localDocuments.getLocalViewOfDocuments(q,ne.cs,ne.ls)).next(()=>ne.cs)))})).apply(this,arguments)}function vf(d,e){return zp.apply(this,arguments)}function zp(){return(zp=(0,I.Z)(function*(d,e,r=Zn()){const a=yield Ko(d,mi(ho(e.bundledQuery))),f=nt(d);return f.persistence.runTransaction("Save named query","readwrite",y=>{const b=di(e.readTime);if(a.snapshotVersion.compareTo(b)>=0)return f.$r.saveNamedQuery(y,e);const x=a.withResumeToken(ti.EMPTY_BYTE_STRING,b);return f.ns=f.ns.insert(x.targetId,x),f.Qr.updateTargetData(y,x).next(()=>f.Qr.removeMatchingKeysForTargetId(y,a.targetId)).next(()=>f.Qr.addMatchingKeys(y,r,a.targetId)).next(()=>f.$r.saveNamedQuery(y,e))})})).apply(this,arguments)}function iu(d,e){return`firestore_clients_${d}_${e}`}function Gp(d,e,r){let a=`firestore_mutations_${d}_${r}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function wc(d,e){return`firestore_targets_${d}_${e}`}class dh{constructor(e,r,a,f){this.user=e,this.batchId=r,this.state=a,this.error=f}static Es(e,r,a){const f=JSON.parse(a);let y,b="object"==typeof f&&-1!==["pending","acknowledged","rejected"].indexOf(f.state)&&(void 0===f.error||"object"==typeof f.error);return b&&f.error&&(b="string"==typeof f.error.message&&"string"==typeof f.error.code,b&&(y=new fe(f.error.code,f.error.message))),b?new dh(e,r,f.state,y):(gt("SharedClientState",`Failed to parse mutation state for ID '${r}': ${a}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _l{constructor(e,r,a){this.targetId=e,this.state=r,this.error=a}static Es(e,r){const a=JSON.parse(r);let f,y="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return y&&a.error&&(y="string"==typeof a.error.message&&"string"==typeof a.error.code,y&&(f=new fe(a.error.code,a.error.message))),y?new _l(e,a.state,f):(gt("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gu{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Es(e,r){const a=JSON.parse(r);let f="object"==typeof a&&a.activeTargetIds instanceof Array,y=el();for(let b=0;f&&b<a.activeTargetIds.length;++b)f=pt(a.activeTargetIds[b]),y=y.add(a.activeTargetIds[b]);return f?new Gu(e,y):(gt("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class qu{constructor(e,r){this.clientId=e,this.onlineState=r}static Es(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new qu(r.clientId,r.onlineState):(gt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Ef{constructor(){this.activeTargetIds=el()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qp{constructor(e,r,a,f,y){this.window=e,this.oi=r,this.persistenceKey=a,this.Vs=f,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Pr(qt),this.started=!1,this.ys=[];const b=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.ws=iu(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new Ef),this.bs=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(L){return`firestore_bundle_loaded_v2_${L}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,I.Z)(function*(){const r=yield e.syncEngine.Bi();for(const f of r){if(f===e.Vs)continue;const y=e.getItem(iu(e.persistenceKey,f));if(y){const b=Gu.Es(f,y);b&&(e.ps=e.ps.insert(b.clientId,b))}}e.Ms();const a=e.storage.getItem(e.vs);if(a){const f=e.xs(a);f&&e.Os(f)}for(const f of e.ys)e.gs(f);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let r=!1;return this.ps.forEach((a,f)=>{f.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,r,a){this.Ls(e,r,a),this.Bs(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(wc(this.persistenceKey,e));if(a){const f=_l.Es(e,a);f&&(r=f.state)}}return this.ks.As(e),this.Ms(),r}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(wc(this.persistenceKey,e))}updateQueryState(e,r,a){this.qs(e,r,a)}handleUserChange(e,r,a){r.forEach(f=>{this.Bs(f)}),this.currentUser=e,a.forEach(f=>{this.addPendingMutation(f)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return de("SharedClientState","READ",e,r),r}setItem(e,r){de("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){de("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var r=this;const a=e;if(a.storageArea===this.storage){if(de("SharedClientState","EVENT",a.key,a.newValue),a.key===this.ws)return void gt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,I.Z)(function*(){if(r.started){if(null!==a.key)if(r.bs.test(a.key)){if(null==a.newValue){const f=r.$s(a.key);return r.Us(f,null)}{const f=r.Ws(a.key,a.newValue);if(f)return r.Us(f.clientId,f)}}else if(r.Ds.test(a.key)){if(null!==a.newValue){const f=r.Gs(a.key,a.newValue);if(f)return r.zs(f)}}else if(r.Cs.test(a.key)){if(null!==a.newValue){const f=r.js(a.key,a.newValue);if(f)return r.Hs(f)}}else if(a.key===r.vs){if(null!==a.newValue){const f=r.xs(a.newValue);if(f)return r.Os(f)}}else if(a.key===r.Ss){const f=function(b){let x=F.oe;if(null!=b)try{const L=JSON.parse(b);Rt("number"==typeof L),x=L}catch(L){gt("SharedClientState","Failed to read sequence number from WebStorage",L)}return x}(a.newValue);f!==F.oe&&r.sequenceNumberHandler(f)}else if(a.key===r.Fs){const f=r.Js(a.newValue);yield Promise.all(f.map(y=>r.syncEngine.Ys(y)))}}else r.ys.push(a)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,r,a){const f=new dh(this.currentUser,e,r,a),y=Gp(this.persistenceKey,this.currentUser,e);this.setItem(y,f.ds())}Bs(e){const r=Gp(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,r,a){const f=wc(this.persistenceKey,e),y=new _l(e,r,a);this.setItem(f,y.ds())}Ks(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Fs,r)}$s(e){const r=this.bs.exec(e);return r?r[1]:null}Ws(e,r){const a=this.$s(e);return Gu.Es(a,r)}Gs(e,r){const a=this.Ds.exec(e),f=Number(a[1]);return dh.Es(new Xe(void 0!==a[2]?a[2]:null),f,r)}js(e,r){const a=this.Cs.exec(e),f=Number(a[1]);return _l.Es(f,r)}xs(e){return qu.Es(e)}Js(e){return JSON.parse(e)}zs(e){var r=this;return(0,I.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Zs(e.batchId,e.state,e.error);de("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,r){const a=r?this.ps.insert(e,r):this.ps.remove(e),f=this.Ns(this.ps),y=this.Ns(a),b=[],x=[];return y.forEach(L=>{f.has(L)||b.push(L)}),f.forEach(L=>{y.has(L)||x.push(L)}),this.syncEngine.eo(b,x).then(()=>{this.ps=a})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let r=el();return e.forEach((a,f)=>{r=r.unionWith(f.activeTargetIds)}),r}}class lm{constructor(){this.no=new Ef,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,a){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,a){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Ef,Promise.resolve()}handleUserChange(e,r,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class yl{io(e){}shutdown(){}}class Zu{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){de("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){de("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Zp=null;function um(){return null===Zp?Zp=268435456+Math.round(2147483648*Math.random()):Zp++,"0x"+Zp.toString(16)}const C={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const v="WebChannelConnection";class M extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const a=r.ssl?"https":"http",f=encodeURIComponent(this.databaseId.projectId),y=encodeURIComponent(this.databaseId.database);this.wo=a+"://"+r.host,this.So=`projects/${f}/databases/${y}`,this.bo="(default)"===this.databaseId.database?`project_id=${f}`:`project_id=${f}&database_id=${y}`}get Do(){return!1}Co(r,a,f,y,b){const x=um(),L=this.vo(r,a.toUriEncodedString());de("RestConnection",`Sending RPC '${r}' ${x}:`,L,f);const q={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(q,y,b),this.Mo(r,L,q,f).then(ne=>(de("RestConnection",`Received RPC '${r}' ${x}: `,ne),ne),ne=>{throw Ut("RestConnection",`RPC '${r}' ${x} failed with error: `,ne,"url: ",L,"request:",f),ne})}xo(r,a,f,y,b,x){return this.Co(r,a,f,y,b)}Fo(r,a,f){r["X-Goog-Api-Client"]="gl-js/ fire/"+Ue,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((y,b)=>r[b]=y),f&&f.headers.forEach((y,b)=>r[b]=y)}vo(r,a){return`${this.wo}/v1/${a}:${C[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,r,a,f){const y=um();return new Promise((b,x)=>{const L=new Me;L.setWithCredentials(!0),L.listenOnce(Mt.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case dt.NO_ERROR:const ne=L.getResponseJson();de(v,`XHR for RPC '${e}' ${y} received:`,JSON.stringify(ne)),b(ne);break;case dt.TIMEOUT:de(v,`RPC '${e}' ${y} timed out`),x(new fe(Pe.DEADLINE_EXCEEDED,"Request time out"));break;case dt.HTTP_ERROR:const pe=L.getStatus();if(de(v,`RPC '${e}' ${y} failed with status:`,pe,"response text:",L.getResponseText()),pe>0){let Se=L.getResponseJson();Array.isArray(Se)&&(Se=Se[0]);const tt=Se?.error;if(tt&&tt.status&&tt.message){const Dt=function(At){const yn=At.toLowerCase().replace(/_/g,"-");return Object.values(Pe).indexOf(yn)>=0?yn:Pe.UNKNOWN}(tt.status);x(new fe(Dt,tt.message))}else x(new fe(Pe.UNKNOWN,"Server responded with status "+L.getStatus()))}else x(new fe(Pe.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{de(v,`RPC '${e}' ${y} completed.`)}});const q=JSON.stringify(f);de(v,`RPC '${e}' ${y} sending request:`,f),L.send(r,"POST",q,a,15)})}Oo(e,r,a){const f=um(),y=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],b=qe(),x=Xt(),L={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},q=this.longPollingOptions.timeoutSeconds;void 0!==q&&(L.longPollingTimeout=Math.round(1e3*q)),this.useFetchStreams&&(L.xmlHttpFactory=new ut({})),this.Fo(L.initMessageHeaders,r,a),L.encodeInitMessageHeaders=!0;const ne=y.join("");de(v,`Creating RPC '${e}' stream ${f}: ${ne}`,L);const pe=b.createWebChannel(ne,L);let Se=!1,tt=!1;const Dt=new _({lo:At=>{tt?de(v,`Not sending because RPC '${e}' stream ${f} is closed:`,At):(Se||(de(v,`Opening RPC '${e}' stream ${f} transport.`),pe.open(),Se=!0),de(v,`RPC '${e}' stream ${f} sending:`,At),pe.send(At))},ho:()=>pe.close()}),jt=(At,yn,xn)=>{At.listen(yn,Tn=>{try{xn(Tn)}catch(sr){setTimeout(()=>{throw sr},0)}})};return jt(pe,Je.EventType.OPEN,()=>{tt||(de(v,`RPC '${e}' stream ${f} transport opened.`),Dt.mo())}),jt(pe,Je.EventType.CLOSE,()=>{tt||(tt=!0,de(v,`RPC '${e}' stream ${f} transport closed`),Dt.po())}),jt(pe,Je.EventType.ERROR,At=>{tt||(tt=!0,Ut(v,`RPC '${e}' stream ${f} transport errored:`,At),Dt.po(new fe(Pe.UNAVAILABLE,"The operation could not be completed")))}),jt(pe,Je.EventType.MESSAGE,At=>{var yn;if(!tt){const xn=At.data[0];Rt(!!xn);const sr=xn.error||(null===(yn=xn[0])||void 0===yn?void 0:yn.error);if(sr){de(v,`RPC '${e}' stream ${f} received error:`,sr);const Vr=sr.status;let nr=function(Fe){const Ge=Gr[Fe];if(void 0!==Ge)return Bs(Ge)}(Vr),He=sr.message;void 0===nr&&(nr=Pe.INTERNAL,He="Unknown error status: "+Vr+" with message "+sr.message),tt=!0,Dt.po(new fe(nr,He)),pe.close()}else de(v,`RPC '${e}' stream ${f} received:`,xn),Dt.yo(xn)}}),jt(x,mt.STAT_EVENT,At=>{At.stat===Ct.PROXY?de(v,`RPC '${e}' stream ${f} detected buffering proxy`):At.stat===Ct.NOPROXY&&de(v,`RPC '${e}' stream ${f} detected no buffering proxy`)}),setTimeout(()=>{Dt.fo()},0),Dt}}function Y(){return typeof window<"u"?window:null}function se(){return typeof document<"u"?document:null}function Ne(d){return new Gd(d,!0)}class st{constructor(e,r,a=1e3,f=1.5,y=6e4){this.oi=e,this.timerId=r,this.No=a,this.Lo=f,this.Bo=y,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const r=Math.floor(this.ko+this.Uo()),a=Math.max(0,Date.now()-this.Qo),f=Math.max(0,r-a);f>0&&de("ExponentialBackoff",`Backing off for ${f} ms (base delay: ${this.ko} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,f,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class wt{constructor(e,r,a,f,y,b,x,L){this.oi=e,this.Go=a,this.zo=f,this.connection=y,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=x,this.listener=L,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new st(e,r)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,I.Z)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,I.Z)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,r){var a=this;return(0,I.Z)(function*(){a.s_(),a.o_(),a.Yo.cancel(),a.jo++,4!==e?a.Yo.reset():r&&r.code===Pe.RESOURCE_EXHAUSTED?(gt(r.toString()),gt("Using maximum backoff delay to prevent overloading the backend."),a.Yo.Ko()):r&&r.code===Pe.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.__(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.Ao(r)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),r=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,f])=>{this.jo===r&&this.u_(a,f)},a=>{e(()=>{const f=new fe(Pe.UNKNOWN,"Fetching auth token failed: "+a.message);return this.c_(f)})})}u_(e,r){const a=this.a_(this.jo);this.stream=this.l_(e,r),this.stream.Po(()=>{a(()=>this.listener.Po())}),this.stream.To(()=>{a(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(f=>{a(()=>this.c_(f))}),this.stream.onMessage(f=>{a(()=>this.onMessage(f))})}e_(){var e=this;this.state=5,this.Yo.$o((0,I.Z)(function*(){e.state=0,e.start()}))}c_(e){return de("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return r=>{this.oi.enqueueAndForget(()=>this.jo===e?r():(de("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pn extends wt{constructor(e,r,a,f,y,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,f,b),this.serializer=y}l_(e,r){return this.connection.Oo("Listen",e,r)}onMessage(e){this.Yo.reset();const r=function Ql(d,e){let r;if("targetChange"in e){const a="NO_CHANGE"===(q=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===q?1:"REMOVE"===q?2:"CURRENT"===q?3:"RESET"===q?4:_t(),f=e.targetChange.targetIds||[],y=function(q,ne){return q.useProto3Json?(Rt(void 0===ne||"string"==typeof ne),ti.fromBase64String(ne||"")):(Rt(void 0===ne||ne instanceof Buffer||ne instanceof Uint8Array),ti.fromUint8Array(ne||new Uint8Array))}(d,e.targetChange.resumeToken),b=e.targetChange.cause,x=b&&function(q){const ne=void 0===q.code?Pe.UNKNOWN:Bs(q.code);return new fe(ne,q.message||"")}(b);r=new Js(a,f,y,x||null)}else if("documentChange"in e){const a=e.documentChange,f=Ao(d,a.document.name),y=di(a.document.updateTime),b=a.document.createTime?di(a.document.createTime):$t.min(),x=new tr({mapValue:{fields:a.document.fields}}),L=Ln.newFoundDocument(f,y,b,x);r=new uc(a.targetIds||[],a.removedTargetIds||[],L.key,L)}else if("documentDelete"in e){const a=e.documentDelete,f=Ao(d,a.document),y=a.readTime?di(a.readTime):$t.min(),b=Ln.newNoDocument(f,y);r=new uc([],a.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const a=e.documentRemove,f=Ao(d,a.document);r=new uc([],a.removedTargetIds||[],f,null)}else{if(!("filter"in e))return _t();{const a=e.filter,{count:f=0,unchangedNames:y}=a,b=new ws(f,y);r=new Nu(a.targetId,b)}}var q;return r}(this.serializer,e),a=function(y){if(!("targetChange"in y))return $t.min();const b=y.targetChange;return b.targetIds&&b.targetIds.length?$t.min():b.readTime?di(b.readTime):$t.min()}(e);return this.listener.h_(r,a)}P_(e){const r={};r.database=yr(this.serializer),r.addTarget=function(y,b){let x;const L=b.target;if(x=Vi(L)?{documents:Kd(y,L)}:{query:Yd(y,L)._t},x.targetId=b.targetId,b.resumeToken.approximateByteSize()>0){x.resumeToken=nf(y,b.resumeToken);const q=il(y,b.expectedCount);null!==q&&(x.expectedCount=q)}else if(b.snapshotVersion.compareTo($t.min())>0){x.readTime=Ba(y,b.snapshotVersion.toTimestamp());const q=il(y,b.expectedCount);null!==q&&(x.expectedCount=q)}return x}(this.serializer,e);const a=function Do(d,e){const r=function(f){switch(f){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);a&&(r.labels=a),this.i_(r)}I_(e){const r={};r.database=yr(this.serializer),r.removeTarget=e,this.i_(r)}}class Rn extends wt{constructor(e,r,a,f,y,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,f,b),this.serializer=y,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,r){return this.connection.Oo("Write",e,r)}onMessage(e){if(Rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const r=function hc(d,e){return d&&d.length>0?(Rt(void 0!==e),d.map(r=>function(f,y){let b=di(f.updateTime?f.updateTime:y);return b.isEqual($t.min())&&(b=di(y)),new nl(b,f.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),a=di(e.commitTime);return this.listener.A_(a,r)}return Rt(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=yr(this.serializer),this.i_(e)}d_(e){const r={streamToken:this.lastStreamToken,writes:e.map(a=>ts(this.serializer,a))};this.i_(r)}}class vr extends class{}{constructor(e,r,a,f){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=a,this.serializer=f,this.m_=!1}f_(){if(this.m_)throw new fe(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,r,a,f){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,b])=>this.connection.Co(e,rf(r,a),f,y,b)).catch(y=>{throw"FirebaseError"===y.name?(y.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new fe(Pe.UNKNOWN,y.toString())})}xo(e,r,a,f,y){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([b,x])=>this.connection.xo(e,rf(r,a),f,b,x,y)).catch(b=>{throw"FirebaseError"===b.name?(b.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),b):new fe(Pe.UNKNOWN,b.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class po{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(gt(r),this.y_=!1):de("OnlineStateTracker",r)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class vl{constructor(e,r,a,f,y){var b=this;this.localStore=e,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=y,this.O_.io(x=>{a.enqueueAndForget((0,I.Z)(function*(){var L;$a(b)&&(de("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,I.Z)(function*(ne){const pe=nt(ne);pe.M_.add(4),yield Ea(pe),pe.N_.set("Unknown"),pe.M_.delete(4),yield Or(pe)}),function q(ne){return L.apply(this,arguments)})(b))}))}),this.N_=new po(a,f)}}function Or(d){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,I.Z)(function*(d){if($a(d))for(const e of d.x_)yield e(!0)})).apply(this,arguments)}function Ea(d){return If.apply(this,arguments)}function If(){return(If=(0,I.Z)(function*(d){for(const e of d.x_)yield e(!1)})).apply(this,arguments)}function El(d,e){const r=nt(d);r.F_.has(e.targetId)||(r.F_.set(e.targetId,e),Tf(r)?hh(r):Wu(r).Xo()&&bf(r,e))}function Il(d,e){const r=nt(d),a=Wu(r);r.F_.delete(e),a.Xo()&&Wp(r,e),0===r.F_.size&&(a.Xo()?a.n_():$a(r)&&r.N_.set("Unknown"))}function bf(d,e){if(d.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($t.min())>0){const r=d.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Wu(d).P_(e)}function Wp(d,e){d.L_.xe(e),Wu(d).I_(e)}function hh(d){d.L_=new wo({getRemoteKeysForTarget:e=>d.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>d.F_.get(e)||null,tt:()=>d.datastore.serializer.databaseId}),Wu(d).start(),d.N_.w_()}function Tf(d){return $a(d)&&!Wu(d).Zo()&&d.F_.size>0}function $a(d){return 0===nt(d).M_.size}function bl(d){d.L_=void 0}function fh(d){return Cf.apply(this,arguments)}function Cf(){return(Cf=(0,I.Z)(function*(d){d.N_.set("Online")})).apply(this,arguments)}function H_(d){return Kp.apply(this,arguments)}function Kp(){return(Kp=(0,I.Z)(function*(d){d.F_.forEach((e,r)=>{bf(d,e)})})).apply(this,arguments)}function ph(d,e){return Yp.apply(this,arguments)}function Yp(){return(Yp=(0,I.Z)(function*(d,e){bl(d),Tf(d)?(d.N_.D_(e),hh(d)):d.N_.set("Unknown")})).apply(this,arguments)}function wf(d,e,r){return za.apply(this,arguments)}function za(){return za=(0,I.Z)(function*(d,e,r){if(d.N_.set("Online"),e instanceof Js&&2===e.state&&e.cause)try{yield(a=(0,I.Z)(function*(y,b){const x=b.cause;for(const L of b.targetIds)y.F_.has(L)&&(yield y.remoteSyncer.rejectListen(L,x),y.F_.delete(L),y.L_.removeTarget(L))}),function f(y,b){return a.apply(this,arguments)})(d,e)}catch(a){de("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield su(d,a)}else if(e instanceof uc?d.L_.Ke(e):e instanceof Nu?d.L_.He(e):d.L_.We(e),!r.isEqual($t.min()))try{const a=yield $p(d.localStore);r.compareTo(a)>=0&&(yield function(y,b){const x=y.L_.rt(b);return x.targetChanges.forEach((L,q)=>{if(L.resumeToken.approximateByteSize()>0){const ne=y.F_.get(q);ne&&y.F_.set(q,ne.withResumeToken(L.resumeToken,b))}}),x.targetMismatches.forEach((L,q)=>{const ne=y.F_.get(L);if(!ne)return;y.F_.set(L,ne.withResumeToken(ti.EMPTY_BYTE_STRING,ne.snapshotVersion)),Wp(y,L);const pe=new rt(ne.target,L,q,ne.sequenceNumber);bf(y,pe)}),y.remoteSyncer.applyRemoteEvent(x)}(d,r))}catch(a){de("RemoteStore","Failed to raise snapshot:",a),yield su(d,a)}var a}),za.apply(this,arguments)}function su(d,e,r){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,I.Z)(function*(d,e,r){if(!Dn(e))throw e;d.M_.add(1),yield Ea(d),d.N_.set("Offline"),r||(r=()=>$p(d.localStore)),d.asyncQueue.enqueueRetryable((0,I.Z)(function*(){de("RemoteStore","Retrying IndexedDB access"),yield r(),d.M_.delete(1),yield Or(d)}))})).apply(this,arguments)}function Ga(d,e){return e().catch(r=>su(d,r,e))}function gh(d){return Qp.apply(this,arguments)}function Qp(){return(Qp=(0,I.Z)(function*(d){const e=nt(d),r=Sc(e);let a=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;$_(e);)try{const f=yield gl(e.localStore,a);if(null===f){0===e.v_.length&&r.n_();break}a=f.batchId,dm(e,f)}catch(f){yield su(e,f)}z_(e)&&Tl(e)})).apply(this,arguments)}function $_(d){return $a(d)&&d.v_.length<10}function dm(d,e){d.v_.push(e);const r=Sc(d);r.Xo()&&r.E_&&r.d_(e.mutations)}function z_(d){return $a(d)&&!Sc(d).Zo()&&d.v_.length>0}function Tl(d){Sc(d).start()}function ou(d){return Af.apply(this,arguments)}function Af(){return(Af=(0,I.Z)(function*(d){Sc(d).V_()})).apply(this,arguments)}function no(d){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,I.Z)(function*(d){const e=Sc(d);for(const r of d.v_)e.d_(r.mutations)})).apply(this,arguments)}function Ro(d,e,r){return bi.apply(this,arguments)}function bi(){return(bi=(0,I.Z)(function*(d,e,r){const a=d.v_.shift(),f=Wi.from(a,e,r);yield Ga(d,()=>d.remoteSyncer.applySuccessfulWrite(f)),yield gh(d)})).apply(this,arguments)}function hm(d,e){return mh.apply(this,arguments)}function mh(){return mh=(0,I.Z)(function*(d,e){var r;e&&Sc(d).E_&&(yield(r=(0,I.Z)(function*(f,y){if($o(x=y.code)&&x!==Pe.ABORTED){const b=f.v_.shift();Sc(f).t_(),yield Ga(f,()=>f.remoteSyncer.rejectFailedWrite(b.batchId,y)),yield gh(f)}var x}),function a(f,y){return r.apply(this,arguments)})(d,e)),z_(d)&&Tl(d)}),mh.apply(this,arguments)}function Ds(d,e){return au.apply(this,arguments)}function au(){return(au=(0,I.Z)(function*(d,e){const r=nt(d);r.asyncQueue.verifyOperationInProgress(),de("RemoteStore","RemoteStore received new credentials");const a=$a(r);r.M_.add(3),yield Ea(r),a&&r.N_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.M_.delete(3),yield Or(r)})).apply(this,arguments)}function Df(d,e){return Sf.apply(this,arguments)}function Sf(){return(Sf=(0,I.Z)(function*(d,e){const r=nt(d);e?(r.M_.delete(2),yield Or(r)):e||(r.M_.add(2),yield Ea(r),r.N_.set("Unknown"))})).apply(this,arguments)}function Wu(d){return d.B_||(d.B_=function(r,a,f){const y=nt(r);return y.f_(),new pn(a,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,f)}(d.datastore,d.asyncQueue,{Po:fh.bind(null,d),To:H_.bind(null,d),Ao:ph.bind(null,d),h_:wf.bind(null,d)}),d.x_.push(function(){var e=(0,I.Z)(function*(r){r?(d.B_.t_(),Tf(d)?hh(d):d.N_.set("Unknown")):(yield d.B_.stop(),bl(d))});return function(r){return e.apply(this,arguments)}}())),d.B_}function Sc(d){return d.k_||(d.k_=function(r,a,f){const y=nt(r);return y.f_(),new Rn(a,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,f)}(d.datastore,d.asyncQueue,{Po:()=>Promise.resolve(),To:ou.bind(null,d),Ao:hm.bind(null,d),R_:no.bind(null,d),A_:Ro.bind(null,d)}),d.x_.push(function(){var e=(0,I.Z)(function*(r){r?(d.k_.t_(),yield gh(d)):(yield d.k_.stop(),d.v_.length>0&&(de("RemoteStore",`Stopping write stream with ${d.v_.length} pending writes`),d.v_=[]))});return function(r){return e.apply(this,arguments)}}())),d.k_}class _h{constructor(e,r,a,f,y){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=a,this.op=f,this.removalCallback=y,this.deferred=new Oe,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,a,f,y){const b=Date.now()+a,x=new _h(e,r,b,f,y);return x.start(a),x}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new fe(Pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cu(d,e){if(gt("AsyncQueue",`${e}: ${d}`),Dn(d))return new fe(Pe.UNAVAILABLE,`${e}: ${d}`);throw d}class Ku{constructor(e){this.comparator=e?(r,a)=>e(r,a)||Ot.comparator(r.key,a.key):(r,a)=>Ot.comparator(r.key,a.key),this.keyedMap=Di(),this.sortedSet=new Pr(this.comparator)}static emptySet(e){return new Ku(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,a)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Ku)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;r.hasNext();){const f=r.getNext().key,y=a.getNext().key;if(!f.isEqual(y))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const a=new Ku;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=r,a}}class Jp{constructor(){this.q_=new Pr(Ot.comparator)}track(e){const r=e.doc.key,a=this.q_.get(r);a?0!==e.type&&3===a.type?this.q_=this.q_.insert(r,e):3===e.type&&1!==a.type?this.q_=this.q_.insert(r,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.q_=this.q_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.q_=this.q_.remove(r):1===e.type&&2===a.type?this.q_=this.q_.insert(r,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):_t():this.q_=this.q_.insert(r,e)}Q_(){const e=[];return this.q_.inorderTraversal((r,a)=>{e.push(a)}),e}}class Yu{constructor(e,r,a,f,y,b,x,L,q){this.query=e,this.docs=r,this.oldDocs=a,this.docChanges=f,this.mutatedKeys=y,this.fromCache=b,this.syncStateChanged=x,this.excludesMetadataChanges=L,this.hasCachedResults=q}static fromInitialDocuments(e,r,a,f,y){const b=[];return r.forEach(x=>{b.push({type:0,doc:x})}),new Yu(e,r,Ku.emptySet(r),b,a,f,!0,!1,y)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ka(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,a=e.docChanges;if(r.length!==a.length)return!1;for(let f=0;f<r.length;f++)if(r[f].type!==a[f].type||!r[f].doc.isEqual(a[f].doc))return!1;return!0}}class Sv{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class Xp{constructor(){this.queries=new Ui(e=>Qc(e),ka),this.onlineState="Unknown",this.z_=new Set}}function yh(d,e){return Mf.apply(this,arguments)}function Mf(){return(Mf=(0,I.Z)(function*(d,e){const r=nt(d);let a=3;const f=e.query;let y=r.queries.get(f);y?!y.W_()&&e.G_()&&(a=2):(y=new Sv,a=e.G_()?0:1);try{switch(a){case 0:y.K_=yield r.onListen(f,!0);break;case 1:y.K_=yield r.onListen(f,!1);break;case 2:yield r.onFirstRemoteStoreListen(f)}}catch(b){const x=cu(b,`Initialization of query '${sc(e.query)}' failed`);return void e.onError(x)}r.queries.set(f,y),y.U_.push(e),e.j_(r.onlineState),y.K_&&e.H_(y.K_)&&Rf(r)})).apply(this,arguments)}function lu(d,e){return Pf.apply(this,arguments)}function Pf(){return(Pf=(0,I.Z)(function*(d,e){const r=nt(d),a=e.query;let f=3;const y=r.queries.get(a);if(y){const b=y.U_.indexOf(e);b>=0&&(y.U_.splice(b,1),0===y.U_.length?f=e.G_()?0:1:!y.W_()&&e.G_()&&(f=2))}switch(f){case 0:return r.queries.delete(a),r.onUnlisten(a,!0);case 1:return r.queries.delete(a),r.onUnlisten(a,!1);case 2:return r.onLastRemoteStoreUnlisten(a);default:return}})).apply(this,arguments)}function G_(d,e){const r=nt(d);let a=!1;for(const f of e){const b=r.queries.get(f.query);if(b){for(const x of b.U_)x.H_(f)&&(a=!0);b.K_=f}}a&&Rf(r)}function fm(d,e,r){const a=nt(d),f=a.queries.get(e);if(f)for(const y of f.U_)y.onError(r);a.queries.delete(e)}function Rf(d){d.z_.forEach(e=>{e.next()})}var vh,Mc;(Mc=vh||(vh={})).J_="default",Mc.Cache="cache";class Qu{constructor(e,r,a){this.query=e,this.Y_=r,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=a||{}}H_(e){if(!this.options.includeMetadataChanges){const a=[];for(const f of e.docChanges)3!==f.type&&a.push(f);e=new Yu(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),r=!0):this.ta(e,this.onlineState)&&(this.na(e),r=!0),this.X_=e,r}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let r=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),r=!0),r}ta(e,r){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=Yu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==vh.Cache}}class pm{constructor(e,r){this.ia=e,this.byteLength=r}sa(){return"metadata"in this.ia}}class xf{constructor(e){this.serializer=e}Ps(e){return Ao(this.serializer,e)}Is(e){return e.metadata.exists?Ki(this.serializer,e.document,!1):Ln.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return di(e)}}class Ss{constructor(e,r,a){this.oa=e,this.localStore=r,this.serializer=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Cl(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++r;const a=In.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}aa(e){const r=new Map,a=new xf(this.serializer);for(const f of e)if(f.metadata.queries){const y=a.Ps(f.metadata.name);for(const b of f.metadata.queries){const x=(r.get(b)||Zn()).add(y);r.set(b,x)}}return r}complete(){var e=this;return(0,I.Z)(function*(){const r=yield function j_(d,e,r,a){return ru.apply(this,arguments)}(e.localStore,new xf(e.serializer),e.documents,e.oa.id),a=e.aa(e.documents);for(const f of e.queries)yield vf(e.localStore,f,a.get(f.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:r}})()}}function Cl(d){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}class gm{constructor(e){this.key=e}}class Mv{constructor(e){this.key=e}}class Pv{constructor(e,r){this.query=e,this.la=r,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Zn(),this.mutatedKeys=Zn(),this.Ia=Vs(e),this.Ta=new Ku(this.Ia)}get Ea(){return this.la}da(e,r){const a=r?r.Aa:new Jp,f=r?r.Ta:this.Ta;let y=r?r.mutatedKeys:this.mutatedKeys,b=f,x=!1;const L="F"===this.query.limitType&&f.size===this.query.limit?f.last():null,q="L"===this.query.limitType&&f.size===this.query.limit?f.first():null;if(e.inorderTraversal((ne,pe)=>{const Se=f.get(ne),tt=ua(this.query,pe)?pe:null,Dt=!!Se&&this.mutatedKeys.has(Se.key),jt=!!tt&&(tt.hasLocalMutations||this.mutatedKeys.has(tt.key)&&tt.hasCommittedMutations);let At=!1;Se&&tt?Se.data.isEqual(tt.data)?Dt!==jt&&(a.track({type:3,doc:tt}),At=!0):this.Ra(Se,tt)||(a.track({type:2,doc:tt}),At=!0,(L&&this.Ia(tt,L)>0||q&&this.Ia(tt,q)<0)&&(x=!0)):!Se&&tt?(a.track({type:0,doc:tt}),At=!0):Se&&!tt&&(a.track({type:1,doc:Se}),At=!0,(L||q)&&(x=!0)),At&&(tt?(b=b.add(tt),y=jt?y.add(ne):y.delete(ne)):(b=b.delete(ne),y=y.delete(ne)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const ne="F"===this.query.limitType?b.last():b.first();b=b.delete(ne.key),y=y.delete(ne.key),a.track({type:1,doc:ne})}return{Ta:b,Aa:a,Xi:x,mutatedKeys:y}}Ra(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,a,f){const y=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const b=e.Aa.Q_();b.sort((ne,pe)=>function(tt,Dt){const jt=At=>{switch(At){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return jt(tt)-jt(Dt)}(ne.type,pe.type)||this.Ia(ne.doc,pe.doc)),this.Va(a),f=null!=f&&f;const x=r&&!f?this.ma():[],L=0===this.Pa.size&&this.current&&!f?1:0,q=L!==this.ha;return this.ha=L,0!==b.length||q?{snapshot:new Yu(this.query,e.Ta,y,b,e.mutatedKeys,0===L,q,!1,!!a&&a.resumeToken.approximateByteSize()>0),fa:x}:{fa:x}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Jp,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(r=>this.la=this.la.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.la=this.la.delete(r)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Zn(),this.Ta.forEach(a=>{this.ga(a.key)&&(this.Pa=this.Pa.add(a.key))});const r=[];return e.forEach(a=>{this.Pa.has(a)||r.push(new Mv(a))}),this.Pa.forEach(a=>{e.has(a)||r.push(new gm(a))}),r}pa(e){this.la=e.hs,this.Pa=Zn();const r=this.da(e.documents);return this.applyChanges(r,!0)}ya(){return Yu.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class Ju{constructor(e,r,a){this.query=e,this.targetId=r,this.view=a}}class Eh{constructor(e){this.key=e,this.wa=!1}}class eg{constructor(e,r,a,f,y,b){this.localStore=e,this.remoteStore=r,this.eventManager=a,this.sharedClientState=f,this.currentUser=y,this.maxConcurrentLimboResolutions=b,this.Sa={},this.ba=new Ui(x=>Qc(x),ka),this.Da=new Map,this.Ca=new Set,this.va=new Pr(Ot.comparator),this.Fa=new Map,this.Ma=new eo,this.xa={},this.Oa=new Map,this.Na=Ha.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function Xu(d,e){return Of.apply(this,arguments)}function Of(){return(Of=(0,I.Z)(function*(d,e,r=!0){const a=Ah(d);let f;const y=a.ba.get(e);return y?(a.sharedClientState.addLocalQueryTarget(y.targetId),f=y.view.ya()):f=yield Rv(a,e,r,!0),f})).apply(this,arguments)}function Nf(d,e){return mm.apply(this,arguments)}function mm(){return(mm=(0,I.Z)(function*(d,e){const r=Ah(d);yield Rv(r,e,!0,!1)})).apply(this,arguments)}function Rv(d,e,r,a){return tg.apply(this,arguments)}function tg(){return(tg=(0,I.Z)(function*(d,e,r,a){const f=yield Ko(d.localStore,mi(e)),y=f.targetId,b=r?d.sharedClientState.addLocalQueryTarget(y):"not-current";let x;return a&&(x=yield _m(d,e,y,"current"===b,f.resumeToken)),d.isPrimaryClient&&r&&El(d.remoteStore,f),x})).apply(this,arguments)}function _m(d,e,r,a,f){return uu.apply(this,arguments)}function uu(){return uu=(0,I.Z)(function*(d,e,r,a,f){d.Ba=(pe,Se,tt)=>{return(Dt=(0,I.Z)(function*(At,yn,xn,Tn){let sr=yn.view.da(xn);sr.Xi&&(sr=yield mf(At.localStore,yn.query,!1).then(({documents:Ae})=>yn.view.da(Ae,sr)));const Vr=Tn&&Tn.targetChanges.get(yn.targetId),nr=Tn&&null!=Tn.targetMismatches.get(yn.targetId),He=yn.view.applyChanges(sr,At.isPrimaryClient,Vr,nr);return Y_(At,yn.targetId,He.fa),He.snapshot}),function jt(At,yn,xn,Tn){return Dt.apply(this,arguments)})(d,pe,Se,tt);var Dt};const y=yield mf(d.localStore,e,!0),b=new Pv(e,y.hs),x=b.da(y.documents),L=rl.createSynthesizedTargetChangeForCurrentChange(r,a&&"Offline"!==d.onlineState,f),q=b.applyChanges(x,d.isPrimaryClient,L);Y_(d,r,q.fa);const ne=new Ju(e,r,b);return d.ba.set(e,ne),d.Da.has(r)?d.Da.get(r).push(e):d.Da.set(r,[e]),q.snapshot}),uu.apply(this,arguments)}function xv(d,e,r){return ym.apply(this,arguments)}function ym(){return(ym=(0,I.Z)(function*(d,e,r){const a=nt(d),f=a.ba.get(e),y=a.Da.get(f.targetId);if(y.length>1)return a.Da.set(f.targetId,y.filter(b=>!ka(b,e))),void a.ba.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(f.targetId),a.sharedClientState.isActiveQueryTarget(f.targetId)||(yield Yo(a.localStore,f.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(f.targetId),r&&Il(a.remoteStore,f.targetId),Dl(a,f.targetId)}).catch(gr))):(Dl(a,f.targetId),yield Yo(a.localStore,f.targetId,!0))})).apply(this,arguments)}function o0(d,e){return q_.apply(this,arguments)}function q_(){return(q_=(0,I.Z)(function*(d,e){const r=nt(d),a=r.ba.get(e),f=r.Da.get(a.targetId);r.isPrimaryClient&&1===f.length&&(r.sharedClientState.removeLocalQueryTarget(a.targetId),Il(r.remoteStore,a.targetId))})).apply(this,arguments)}function Z_(){return(Z_=(0,I.Z)(function*(d,e,r){const a=bm(d);try{const f=yield function(b,x){const L=nt(b),q=vn.now(),ne=x.reduce((tt,Dt)=>tt.add(Dt.key),Zn());let pe,Se;return L.persistence.runTransaction("Locally write mutations","readwrite",tt=>{let Dt=hr(),jt=Zn();return L.os.getEntries(tt,ne).next(At=>{Dt=At,Dt.forEach((yn,xn)=>{xn.isValidDocument()||(jt=jt.add(yn))})}).next(()=>L.localDocuments.getOverlayedDocuments(tt,Dt)).next(At=>{pe=At;const yn=[];for(const xn of x){const Tn=at(xn,pe.get(xn.key).overlayedDocument);null!=Tn&&yn.push(new fr(xn.key,Tn,vi(Tn.value.mapValue),$r.exists(!0)))}return L.mutationQueue.addMutationBatch(tt,q,yn,x)}).next(At=>{Se=At;const yn=At.applyToLocalDocumentSet(pe,jt);return L.documentOverlayCache.saveOverlays(tt,At.batchId,yn)})}).then(()=>({batchId:Se.batchId,changes:xu(pe)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(f.batchId),function(b,x,L){let q=b.xa[b.currentUser.toKey()];q||(q=new Pr(qt)),q=q.insert(x,L),b.xa[b.currentUser.toKey()]=q}(a,f.batchId,r),yield Sl(a,f.changes),yield gh(a.remoteStore)}catch(f){const y=cu(f,"Failed to persist write");r.reject(y)}})).apply(this,arguments)}function W_(d,e){return vm.apply(this,arguments)}function vm(){return(vm=(0,I.Z)(function*(d,e){const r=nt(d);try{const a=yield function fo(d,e){const r=nt(d),a=e.snapshotVersion;let f=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",y=>{const b=r.os.newChangeBuffer({trackRemovals:!0});f=r.ns;const x=[];e.targetChanges.forEach((ne,pe)=>{const Se=f.get(pe);if(!Se)return;x.push(r.Qr.removeMatchingKeys(y,ne.removedDocuments,pe).next(()=>r.Qr.addMatchingKeys(y,ne.addedDocuments,pe)));let tt=Se.withSequenceNumber(y.currentSequenceNumber);var jt,At,yn;null!==e.targetMismatches.get(pe)?tt=tt.withResumeToken(ti.EMPTY_BYTE_STRING,$t.min()).withLastLimboFreeSnapshotVersion($t.min()):ne.resumeToken.approximateByteSize()>0&&(tt=tt.withResumeToken(ne.resumeToken,a)),f=f.insert(pe,tt),At=tt,yn=ne,(0===(jt=Se).resumeToken.approximateByteSize()||At.snapshotVersion.toMicroseconds()-jt.snapshotVersion.toMicroseconds()>=3e8||yn.addedDocuments.size+yn.modifiedDocuments.size+yn.removedDocuments.size>0)&&x.push(r.Qr.updateTargetData(y,tt))});let L=hr(),q=Zn();if(e.documentUpdates.forEach(ne=>{e.resolvedLimboDocuments.has(ne)&&x.push(r.persistence.referenceDelegate.updateLimboDocument(y,ne))}),x.push($u(y,b,e.documentUpdates).next(ne=>{L=ne.cs,q=ne.ls})),!a.isEqual($t.min())){const ne=r.Qr.getLastRemoteSnapshotVersion(y).next(pe=>r.Qr.setTargetsMetadata(y,y.currentSequenceNumber,a));x.push(ne)}return je.waitFor(x).next(()=>b.apply(y)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,L,q)).next(()=>L)}).then(y=>(r.ns=f,y))}(r.localStore,e);e.targetChanges.forEach((f,y)=>{const b=r.Fa.get(y);b&&(Rt(f.addedDocuments.size+f.modifiedDocuments.size+f.removedDocuments.size<=1),f.addedDocuments.size>0?b.wa=!0:f.modifiedDocuments.size>0?Rt(b.wa):f.removedDocuments.size>0&&(Rt(b.wa),b.wa=!1))}),yield Sl(r,a,e)}catch(a){yield gr(a)}})).apply(this,arguments)}function ed(d,e,r){const a=nt(d);if(a.isPrimaryClient&&0===r||!a.isPrimaryClient&&1===r){const f=[];a.ba.forEach((y,b)=>{const x=b.view.j_(e);x.snapshot&&f.push(x.snapshot)}),function(b,x){const L=nt(b);L.onlineState=x;let q=!1;L.queries.forEach((ne,pe)=>{for(const Se of pe.U_)Se.j_(x)&&(q=!0)}),q&&Rf(L)}(a.eventManager,e),f.length&&a.Sa.h_(f),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function Ih(d,e,r){return wl.apply(this,arguments)}function wl(){return(wl=(0,I.Z)(function*(d,e,r){const a=nt(d);a.sharedClientState.updateQueryState(e,"rejected",r);const f=a.Fa.get(e),y=f&&f.key;if(y){let b=new Pr(Ot.comparator);b=b.insert(y,Ln.newNoDocument(y,$t.min()));const x=Zn().add(y),L=new ps($t.min(),new Map,new Pr(qt),b,x);yield W_(a,L),a.va=a.va.remove(y),a.Fa.delete(e),rg(a)}else yield Yo(a.localStore,e,!1).then(()=>Dl(a,e,r)).catch(gr)})).apply(this,arguments)}function du(d,e){return Al.apply(this,arguments)}function Al(){return(Al=(0,I.Z)(function*(d,e){const r=nt(d),a=e.batch.batchId;try{const f=yield function nu(d,e){const r=nt(d);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const f=e.batch.keys(),y=r.os.newChangeBuffer({trackRemovals:!0});return function(x,L,q,ne){const pe=q.batch,Se=pe.keys();let tt=je.resolve();return Se.forEach(Dt=>{tt=tt.next(()=>ne.getEntry(L,Dt)).next(jt=>{const At=q.docVersions.get(Dt);Rt(null!==At),jt.version.compareTo(At)<0&&(pe.applyToRemoteDocument(jt,q),jt.isValidDocument()&&(jt.setReadTime(q.commitVersion),ne.addEntry(jt)))})}),tt.next(()=>x.mutationQueue.removeMutationBatch(L,pe))}(r,a,e,y).next(()=>y.apply(a)).next(()=>r.mutationQueue.performConsistencyCheck(a)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(a,f,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(x){let L=Zn();for(let q=0;q<x.mutationResults.length;++q)x.mutationResults[q].transformResults.length>0&&(L=L.add(x.batch.mutations[q].key));return L}(e))).next(()=>r.localDocuments.getDocuments(a,f))})}(r.localStore,e);hu(r,a,null),bh(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),yield Sl(r,f)}catch(f){yield gr(f)}})).apply(this,arguments)}function K_(d,e,r){return td.apply(this,arguments)}function td(){return(td=(0,I.Z)(function*(d,e,r){const a=nt(d);try{const f=yield function(b,x){const L=nt(b);return L.persistence.runTransaction("Reject batch","readwrite-primary",q=>{let ne;return L.mutationQueue.lookupMutationBatch(q,x).next(pe=>(Rt(null!==pe),ne=pe.keys(),L.mutationQueue.removeMutationBatch(q,pe))).next(()=>L.mutationQueue.performConsistencyCheck(q)).next(()=>L.documentOverlayCache.removeOverlaysForBatchId(q,ne,x)).next(()=>L.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(q,ne)).next(()=>L.localDocuments.getDocuments(q,ne))})}(a.localStore,e);hu(a,e,r),bh(a,e),a.sharedClientState.updateMutationState(e,"rejected",r),yield Sl(a,f)}catch(f){yield gr(f)}})).apply(this,arguments)}function nd(){return(nd=(0,I.Z)(function*(d,e){const r=nt(d);$a(r.remoteStore)||de("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(b){const x=nt(b);return x.persistence.runTransaction("Get highest unacknowledged batch id","readonly",L=>x.mutationQueue.getHighestUnacknowledgedBatchId(L))}(r.localStore);if(-1===a)return void e.resolve();const f=r.Oa.get(a)||[];f.push(e),r.Oa.set(a,f)}catch(a){const f=cu(a,"Initialization of waitForPendingWrites() operation failed");e.reject(f)}})).apply(this,arguments)}function bh(d,e){(d.Oa.get(e)||[]).forEach(r=>{r.resolve()}),d.Oa.delete(e)}function hu(d,e,r){const a=nt(d);let f=a.xa[a.currentUser.toKey()];if(f){const y=f.get(e);y&&(r?y.reject(r):y.resolve(),f=f.remove(e)),a.xa[a.currentUser.toKey()]=f}}function Dl(d,e,r=null){d.sharedClientState.removeLocalQueryTarget(e);for(const a of d.Da.get(e))d.ba.delete(a),r&&d.Sa.ka(a,r);d.Da.delete(e),d.isPrimaryClient&&d.Ma.Vr(e).forEach(a=>{d.Ma.containsKey(a)||rd(d,a)})}function rd(d,e){d.Ca.delete(e.path.canonicalString());const r=d.va.get(e);null!==r&&(Il(d.remoteStore,r),d.va=d.va.remove(e),d.Fa.delete(r),rg(d))}function Y_(d,e,r){for(const a of r)a instanceof gm?(d.Ma.addReference(a.key,e),a0(d,a)):a instanceof Mv?(de("SyncEngine","Document no longer in limbo: "+a.key),d.Ma.removeReference(a.key,e),d.Ma.containsKey(a.key)||rd(d,a.key)):_t()}function a0(d,e){const r=e.key,a=r.path.canonicalString();d.va.get(r)||d.Ca.has(a)||(de("SyncEngine","New document in limbo: "+r),d.Ca.add(a),rg(d))}function rg(d){for(;d.Ca.size>0&&d.va.size<d.maxConcurrentLimboResolutions;){const e=d.Ca.values().next().value;d.Ca.delete(e);const r=new Ot(In.fromString(e)),a=d.Na.next();d.Fa.set(a,new Eh(r)),d.va=d.va.insert(r,a),El(d.remoteStore,new rt(mi(Fr(r.path)),a,"TargetPurposeLimboResolution",F.oe))}}function Sl(d,e,r){return Pc.apply(this,arguments)}function Pc(){return Pc=(0,I.Z)(function*(d,e,r){const a=nt(d),f=[],y=[],b=[];var x;a.ba.isEmpty()||(a.ba.forEach((x,L)=>{b.push(a.Ba(L,e,r).then(q=>{if((q||r)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(L.targetId,q&&!q.fromCache?"current":"not-current"),q){f.push(q);const ne=to.Ki(L.targetId,q);y.push(ne)}}))}),yield Promise.all(b),a.Sa.h_(f),yield(x=(0,I.Z)(function*(q,ne){const pe=nt(q);try{yield pe.persistence.runTransaction("notifyLocalViewChanges","readwrite",Se=>je.forEach(ne,tt=>je.forEach(tt.qi,Dt=>pe.persistence.referenceDelegate.addReference(Se,tt.targetId,Dt)).next(()=>je.forEach(tt.Qi,Dt=>pe.persistence.referenceDelegate.removeReference(Se,tt.targetId,Dt)))))}catch(Se){if(!Dn(Se))throw Se;de("LocalStore","Failed to update sequence numbers: "+Se)}for(const Se of ne){const tt=Se.targetId;if(!Se.fromCache){const Dt=pe.ns.get(tt),At=Dt.withLastLimboFreeSnapshotVersion(Dt.snapshotVersion);pe.ns=pe.ns.insert(tt,At)}}}),function L(q,ne){return x.apply(this,arguments)})(a.localStore,y))}),Pc.apply(this,arguments)}function fu(d,e){return pu.apply(this,arguments)}function pu(){return(pu=(0,I.Z)(function*(d,e){const r=nt(d);if(!r.currentUser.isEqual(e)){de("SyncEngine","User change. New user:",e.toKey());const a=yield Hu(r.localStore,e);r.currentUser=e,(y=r).Oa.forEach(x=>{x.forEach(L=>{L.reject(new fe(Pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),y.Oa.clear(),r.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield Sl(r,a.us)}var y})).apply(this,arguments)}function Rc(d,e){const r=nt(d),a=r.Fa.get(e);if(a&&a.wa)return Zn().add(a.key);{let f=Zn();const y=r.Da.get(e);if(!y)return f;for(const b of y){const x=r.ba.get(b);f=f.unionWith(x.view.Ea)}return f}}function ig(d,e){return Th.apply(this,arguments)}function Th(){return(Th=(0,I.Z)(function*(d,e){const r=nt(d),a=yield mf(r.localStore,e.query,!0),f=e.view.pa(a);return r.isPrimaryClient&&Y_(r,e.targetId,f.fa),f})).apply(this,arguments)}function c0(d,e){return Ff.apply(this,arguments)}function Ff(){return(Ff=(0,I.Z)(function*(d,e){const r=nt(d);return _f(r.localStore,e).then(a=>Sl(r,a))})).apply(this,arguments)}function Ch(d,e,r,a){return Em.apply(this,arguments)}function Em(){return(Em=(0,I.Z)(function*(d,e,r,a){const f=nt(d),y=yield function(x,L){const q=nt(x),ne=nt(q.mutationQueue);return q.persistence.runTransaction("Lookup mutation documents","readonly",pe=>ne.vn(pe,L).next(Se=>Se?q.localDocuments.getDocuments(pe,Se):je.resolve(null)))}(f.localStore,e);var L;null!==y?("pending"===r?yield gh(f.remoteStore):"acknowledged"===r||"rejected"===r?(hu(f,e,a||null),bh(f,e),L=e,nt(nt(f.localStore).mutationQueue).Mn(L)):_t(),yield Sl(f,y)):de("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function id(){return(id=(0,I.Z)(function*(d,e){const r=nt(d);if(Ah(r),bm(r),!0===e&&!0!==r.La){const a=r.sharedClientState.getAllActiveQueryTargets(),f=yield sg(r,a.toArray());r.La=!0,yield Df(r.remoteStore,!0);for(const y of f)El(r.remoteStore,y)}else if(!1===e&&!1!==r.La){const a=[];let f=Promise.resolve();r.Da.forEach((y,b)=>{r.sharedClientState.isLocalQueryTarget(b)?a.push(b):f=f.then(()=>(Dl(r,b),Yo(r.localStore,b,!0))),Il(r.remoteStore,b)}),yield f,yield sg(r,a),function(b){const x=nt(b);x.Fa.forEach((L,q)=>{Il(x.remoteStore,q)}),x.Ma.mr(),x.Fa=new Map,x.va=new Pr(Ot.comparator)}(r),r.La=!1,yield Df(r.remoteStore,!1)}})).apply(this,arguments)}function sg(d,e,r){return Lf.apply(this,arguments)}function Lf(){return(Lf=(0,I.Z)(function*(d,e,r){const a=nt(d),f=[],y=[];for(const b of e){let x;const L=a.Da.get(b);if(L&&0!==L.length){x=yield Ko(a.localStore,mi(L[0]));for(const q of L){const ne=a.ba.get(q),pe=yield ig(a,ne);pe.snapshot&&y.push(pe.snapshot)}}else{const q=yield ml(a.localStore,b);x=yield Ko(a.localStore,q),yield _m(a,Im(q),b,!1,x.resumeToken)}f.push(x)}return a.Sa.h_(y),f})).apply(this,arguments)}function Im(d){return Pu(d.path,d.collectionGroup,d.orderBy,d.filters,d.limit,"F",d.startAt,d.endAt)}function Ov(d){return r=nt(d).localStore,nt(nt(r).persistence).Bi();var r}function sd(d,e,r,a){return Vf.apply(this,arguments)}function Vf(){return(Vf=(0,I.Z)(function*(d,e,r,a){const f=nt(d);if(f.La)return void de("SyncEngine","Ignoring unexpected query state notification.");const y=f.Da.get(e);if(y&&y.length>0)switch(r){case"current":case"not-current":{const b=yield _f(f.localStore,Jc(y[0])),x=ps.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,ti.EMPTY_BYTE_STRING);yield Sl(f,b,x);break}case"rejected":yield Yo(f.localStore,e,!0),Dl(f,e,a);break;default:_t()}})).apply(this,arguments)}function l0(d,e,r){return Q_.apply(this,arguments)}function Q_(){return(Q_=(0,I.Z)(function*(d,e,r){const a=Ah(d);if(a.La){for(const f of e){if(a.Da.has(f)&&a.sharedClientState.isActiveQueryTarget(f)){de("SyncEngine","Adding an already active target "+f);continue}const y=yield ml(a.localStore,f),b=yield Ko(a.localStore,y);yield _m(a,Im(y),b.targetId,!1,b.resumeToken),El(a.remoteStore,b)}for(const f of r)a.Da.has(f)&&(yield Yo(a.localStore,f,!1).then(()=>{Il(a.remoteStore,f),Dl(a,f)}).catch(gr))}})).apply(this,arguments)}function Ah(d){const e=nt(d);return e.remoteStore.remoteSyncer.applyRemoteEvent=W_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rc.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ih.bind(null,e),e.Sa.h_=G_.bind(null,e.eventManager),e.Sa.ka=fm.bind(null,e.eventManager),e}function bm(d){const e=nt(d);return e.remoteStore.remoteSyncer.applySuccessfulWrite=du.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=K_.bind(null,e),e}class ba{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,I.Z)(function*(){r.serializer=Ne(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return ju(this.persistence,new pf,e.initialUser,this.serializer)}createPersistence(e){return new am(Bp.Hr,this.serializer)}createSharedClientState(e){return new lm}terminate(){var e=this;return(0,I.Z)(function*(){var r,a;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(a=e.indexBackfillerScheduler)||void 0===a||a.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class J_ extends ba{constructor(e,r,a){super(),this.Qa=e,this.cacheSizeBytes=r,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,a=this;return(0,I.Z)(function*(){yield r().call(a,e),yield a.Qa.initialize(a,e),yield bm(a.Qa.syncEngine),yield gh(a.Qa.remoteStore),yield a.persistence.fi(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return ju(this.persistence,new pf,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new ch(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const a=new U(r,this.persistence);return new H(e.asyncQueue,a)}createPersistence(e){const r=ff(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?ji.withCacheSize(this.cacheSizeBytes):ji.DEFAULT;return new Hi(this.synchronizeTabs,r,e.clientId,a,e.asyncQueue,Y(),se(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new lm}}class X_ extends J_{constructor(e,r){super(e,r,!1),this.Qa=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,a=this;return(0,I.Z)(function*(){yield r().call(a,e);const f=a.Qa.syncEngine;a.sharedClientState instanceof qp&&(a.sharedClientState.syncEngine={Zs:Ch.bind(null,f),Xs:sd.bind(null,f),eo:l0.bind(null,f),Bi:Ov.bind(null,f),Ys:c0.bind(null,f)},yield a.sharedClientState.start()),yield a.persistence.fi(function(){var y=(0,I.Z)(function*(b){yield function wh(d,e){return id.apply(this,arguments)}(a.Qa.syncEngine,b),a.gcScheduler&&(b&&!a.gcScheduler.started?a.gcScheduler.start():b||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(b&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():b||a.indexBackfillerScheduler.stop())});return function(b){return y.apply(this,arguments)}}())})()}createSharedClientState(e){const r=Y();if(!qp.D(r))throw new fe(Pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=ff(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new qp(r,e.asyncQueue,a,e.clientId,e.initialUser)}}class Oc{initialize(e,r){var a=this;return(0,I.Z)(function*(){a.localStore||(a.localStore=e.localStore,a.sharedClientState=e.sharedClientState,a.datastore=a.createDatastore(r),a.remoteStore=a.createRemoteStore(r),a.eventManager=a.createEventManager(r),a.syncEngine=a.createSyncEngine(r,!e.synchronizeTabs),a.sharedClientState.onlineStateHandler=f=>ed(a.syncEngine,f,1),a.remoteStore.remoteSyncer.handleCredentialChange=fu.bind(null,a.syncEngine),yield Df(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Xp}createDatastore(e){const r=Ne(e.databaseInfo.databaseId),a=new M(e.databaseInfo);return new vr(e.authCredentials,e.appCheckCredentials,a,r)}createRemoteStore(e){return a=this.localStore,f=this.datastore,y=e.asyncQueue,b=r=>ed(this.syncEngine,r,0),x=Zu.D()?new Zu:new yl,new vl(a,f,y,b,x);var a,f,y,b,x}createSyncEngine(e,r){return function(f,y,b,x,L,q,ne){const pe=new eg(f,y,b,x,L,q);return ne&&(pe.La=!0),pe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,I.Z)(function*(){var r,a;yield(a=(0,I.Z)(function*(y){const b=nt(y);de("RemoteStore","RemoteStore shutting down."),b.M_.add(5),yield Ea(b),b.O_.shutdown(),b.N_.set("Unknown")}),function f(y){return a.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}function Dh(d,e=10240){let r=0;return{read:()=>(0,I.Z)(function*(){if(r<d.byteLength){const a={value:d.slice(r,r+e),done:!1};return r+=e,a}return{done:!0}})(),cancel:()=>(0,I.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Uf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):gt("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class Tm{constructor(e,r){this.Ua=e,this.serializer=r,this.metadata=new Oe,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(a=>{a&&a.sa()?this.metadata.resolve(a.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(a?.ia)}`))},a=>this.metadata.reject(a))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,I.Z)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,I.Z)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,I.Z)(function*(){const r=yield e.za();if(null===r)return null;const a=e.Wa.decode(r),f=Number(a);isNaN(f)&&e.ja(`length string (${a}) is not valid number`);const y=yield e.Ha(f);return new pm(JSON.parse(y),r.length+f)})()}Ja(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}za(){var e=this;return(0,I.Z)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const r=e.Ja();r<0&&e.ja("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),a})()}Ha(e){var r=this;return(0,I.Z)(function*(){for(;r.buffer.length<e;)(yield r.Ya())&&r.ja("Reached the end of bundle when more is expected.");const a=r.Wa.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),a})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,I.Z)(function*(){const r=yield e.Ua.read();if(!r.done){const a=new Uint8Array(e.buffer.length+r.value.length);a.set(e.buffer),a.set(r.value,e.buffer.length),e.buffer=a}return r.done})()}}class Bf{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,I.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new fe(Pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const a=yield(f=(0,I.Z)(function*(b,x){const L=nt(b),q={documents:x.map(tt=>Zd(L.serializer,tt))},ne=yield L.xo("BatchGetDocuments",L.serializer.databaseId,In.emptyPath(),q,x.length),pe=new Map;ne.forEach(tt=>{const Dt=function Si(d,e){return"found"in e?function(a,f){Rt(!!f.found);const y=Ao(a,f.found.name),b=di(f.found.updateTime),x=f.found.createTime?di(f.found.createTime):$t.min(),L=new tr({mapValue:{fields:f.found.fields}});return Ln.newFoundDocument(y,b,x,L)}(d,e):"missing"in e?function(a,f){Rt(!!f.missing),Rt(!!f.readTime);const y=Ao(a,f.missing),b=di(f.readTime);return Ln.newNoDocument(y,b)}(d,e):_t()}(L.serializer,tt);pe.set(Dt.key.toString(),Dt)});const Se=[];return x.forEach(tt=>{const Dt=pe.get(tt.toString());Rt(!!Dt),Se.push(Dt)}),Se}),function y(b,x){return f.apply(this,arguments)})(r.datastore,e);var f;return a.forEach(f=>r.recordVersion(f)),a})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new Lr(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,I.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var a;e.mutations.forEach(a=>{r.delete(a.key.toString())}),r.forEach((a,f)=>{const y=Ot.fromPath(f);e.mutations.push(new Er(y,e.precondition(y)))}),yield(a=(0,I.Z)(function*(y,b){const x=nt(y),L={writes:b.map(q=>ts(x.serializer,q))};yield x.Co("Commit",x.serializer.databaseId,In.emptyPath(),L)}),function f(y,b){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw _t();r=$t.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!r.isEqual(a))throw new fe(Pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual($t.min())?$r.exists(!1):$r.updateTime(r):$r.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual($t.min()))throw new fe(Pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $r.updateTime(r)}return $r.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class u0{constructor(e,r,a,f,y){this.asyncQueue=e,this.datastore=r,this.options=a,this.updateFunction=f,this.deferred=y,this.Za=a.maxAttempts,this.Yo=new st(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Yo.$o((0,I.Z)(function*(){const r=new Bf(e.datastore),a=e.tu(r);a&&a.then(f=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(f)}).catch(y=>{e.nu(y)}))}).catch(f=>{e.nu(f)})}))}tu(e){try{const r=this.updateFunction(e);return!ce(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!$o(r)}return!1}}class kv{constructor(e,r,a,f){var y=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=a,this.databaseInfo=f,this.user=Xe.UNAUTHENTICATED,this.clientId=er.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(a,function(){var b=(0,I.Z)(function*(x){de("FirestoreClient","Received user=",x.uid),yield y.authCredentialListener(x),y.user=x});return function(x){return b.apply(this,arguments)}}()),this.appCheckCredentials.start(a,b=>(de("FirestoreClient","Received new app check token=",b),this.appCheckCredentialListener(b,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new fe(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Oe;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,I.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(a){const f=cu(a,"Failed to shutdown persistence");r.reject(f)}})),r.promise}}function jf(d,e){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,I.Z)(function*(d,e){d.asyncQueue.verifyOperationInProgress(),de("FirestoreClient","Initializing OfflineComponentProvider");const r=d.configuration;yield e.initialize(r);let a=r.initialUser;d.setCredentialChangeListener(function(){var f=(0,I.Z)(function*(y){a.isEqual(y)||(yield Hu(e.localStore,y),a=y)});return function(y){return f.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>d.terminate()),d._offlineComponents=e}),Hf.apply(this,arguments)}function Nc(d,e){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,I.Z)(function*(d,e){d.asyncQueue.verifyOperationInProgress();const r=yield og(d);de("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,d.configuration),d.setCredentialChangeListener(a=>Ds(e.remoteStore,a)),d.setAppCheckTokenChangeListener((a,f)=>Ds(e.remoteStore,f)),d._onlineComponents=e})).apply(this,arguments)}function ey(d){return"FirebaseError"===d.name?d.code===Pe.FAILED_PRECONDITION||d.code===Pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code}function og(d){return $f.apply(this,arguments)}function $f(){return($f=(0,I.Z)(function*(d){if(!d._offlineComponents)if(d._uninitializedComponentsProvider){de("FirestoreClient","Using user provided OfflineComponentProvider");try{yield jf(d,d._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!ey(r))throw r;Ut("Error using user provided cache. Falling back to memory cache: "+r),yield jf(d,new ba)}}else de("FirestoreClient","Using default OfflineComponentProvider"),yield jf(d,new ba);return d._offlineComponents})).apply(this,arguments)}function Cm(d){return wm.apply(this,arguments)}function wm(){return(wm=(0,I.Z)(function*(d){return d._onlineComponents||(d._uninitializedComponentsProvider?(de("FirestoreClient","Using user provided OnlineComponentProvider"),yield Nc(d,d._uninitializedComponentsProvider._online)):(de("FirestoreClient","Using default OnlineComponentProvider"),yield Nc(d,new Oc))),d._onlineComponents})).apply(this,arguments)}function zf(d){return og(d).then(e=>e.persistence)}function Qo(d){return og(d).then(e=>e.localStore)}function ag(d){return Cm(d).then(e=>e.remoteStore)}function Am(d){return Cm(d).then(e=>e.syncEngine)}function Mh(d){return cg.apply(this,arguments)}function cg(){return(cg=(0,I.Z)(function*(d){const e=yield Cm(d),r=e.eventManager;return r.onListen=Xu.bind(null,e.syncEngine),r.onUnlisten=xv.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Nf.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=o0.bind(null,e.syncEngine),r})).apply(this,arguments)}function lg(d,e,r={}){const a=new Oe;return d.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return function(y,b,x,L,q){const ne=new Uf({next:Se=>{b.enqueueAndForget(()=>lu(y,pe));const tt=Se.docs.has(x);!tt&&Se.fromCache?q.reject(new fe(Pe.UNAVAILABLE,"Failed to get document because the client is offline.")):tt&&Se.fromCache&&L&&"server"===L.source?q.reject(new fe(Pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):q.resolve(Se)},error:Se=>q.reject(Se)}),pe=new Qu(Fr(x.path),ne,{includeMetadataChanges:!0,ra:!0});return yh(y,pe)}(yield Mh(d),d.asyncQueue,e,r,a)})),a.promise}function Dm(d,e,r={}){const a=new Oe;return d.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return function(y,b,x,L,q){const ne=new Uf({next:Se=>{b.enqueueAndForget(()=>lu(y,pe)),Se.fromCache&&"server"===L.source?q.reject(new fe(Pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):q.resolve(Se)},error:Se=>q.reject(Se)}),pe=new Qu(x,ne,{includeMetadataChanges:!0,ra:!0});return yh(y,pe)}(yield Mh(d),d.asyncQueue,e,r,a)})),a.promise}function Pm(d){const e={};return void 0!==d.timeoutSeconds&&(e.timeoutSeconds=d.timeoutSeconds),e}const ny=new Map;function od(d,e,r){if(!r)throw new fe(Pe.INVALID_ARGUMENT,`Function ${d}() cannot be called with an empty ${e}.`)}function ry(d,e,r,a){if(!0===e&&!0===a)throw new fe(Pe.INVALID_ARGUMENT,`${d} and ${r} cannot be used together.`)}function hg(d){if(!Ot.isDocumentKey(d))throw new fe(Pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${d} has ${d.length}.`)}function jv(d){if(Ot.isDocumentKey(d))throw new fe(Pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${d} has ${d.length}.`)}function Ml(d){if(void 0===d)return"undefined";if(null===d)return"null";if("string"==typeof d)return d.length>20&&(d=`${d.substring(0,20)}...`),JSON.stringify(d);if("number"==typeof d||"boolean"==typeof d)return""+d;if("object"==typeof d){if(d instanceof Array)return"an array";{const e=(a=d).constructor?a.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var a;return"function"==typeof d?"a function":_t()}function Xn(d,e){if("_delegate"in d&&(d=d._delegate),!(d instanceof e)){if(e.name===d.constructor.name)throw new fe(Pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Ml(d);throw new fe(Pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return d}function Rh(d,e){if(e<=0)throw new fe(Pe.INVALID_ARGUMENT,`Function ${d}() requires a positive number, but it was: ${e}.`)}class fg{constructor(e){var r,a;if(void 0===e.host){if(void 0!==e.ssl)throw new fe(Pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new fe(Pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ry("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Pm(null!==(a=e.experimentalLongPollingOptions)&&void 0!==a?a:{}),function(y){if(void 0!==y.timeoutSeconds){if(isNaN(y.timeoutSeconds))throw new fe(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (must not be NaN)`);if(y.timeoutSeconds<5)throw new fe(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (minimum allowed value is 5)`);if(y.timeoutSeconds>30)throw new fe(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xh{constructor(e,r,a,f){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=a,this._app=f,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new fe(Pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new fe(Pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fg(e),void 0!==e.credentials&&(this._authCredentials=function(a){if(!a)return new Ke;switch(a.type){case"firstParty":return new Vt(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new fe(Pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const a=ny.get(r);a&&(de("ComponentProvider","Removing Datastore"),ny.delete(r),a.terminate())}(this),Promise.resolve()}}function Rm(d,e,r,a={}){var f;const y=(d=Xn(d,xh))._getSettings(),b=`${e}:${r}`;if("firestore.googleapis.com"!==y.host&&y.host!==b&&Ut("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),d._setSettings(Object.assign(Object.assign({},y),{host:b,ssl:!1})),a.mockUserToken){let x,L;if("string"==typeof a.mockUserToken)x=a.mockUserToken,L=Xe.MOCK_USER;else{x=(0,_e.Sg)(a.mockUserToken,null===(f=d._app)||void 0===f?void 0:f.options.projectId);const q=a.mockUserToken.sub||a.mockUserToken.user_id;if(!q)throw new fe(Pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");L=new Xe(q)}d._authCredentials=new lt(new We(x,L))}}class is{constructor(e,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new is(this.firestore,e,this._query)}}class _i{constructor(e,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ca(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _i(this.firestore,e,this._key)}}class Ca extends is{constructor(e,r,a){super(e,r,Fr(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _i(this.firestore,null,new Ot(e))}withConverter(e){return new Ca(this.firestore,e,this._path)}}function xm(d,e,...r){if(d=(0,_e.m9)(d),od("collection","path",e),d instanceof xh){const a=In.fromString(e,...r);return jv(a),new Ca(d,null,a)}{if(!(d instanceof _i||d instanceof Ca))throw new fe(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=d._path.child(In.fromString(e,...r));return jv(a),new Ca(d.firestore,null,a)}}function kc(d,e){if(d=Xn(d,xh),od("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new fe(Pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new is(d,null,(a=e,new ca(In.emptyPath(),a)));var a}function Hv(d,e,...r){if(d=(0,_e.m9)(d),1===arguments.length&&(e=er.newId()),od("doc","path",e),d instanceof xh){const a=In.fromString(e,...r);return hg(a),new _i(d,null,new Ot(a))}{if(!(d instanceof _i||d instanceof Ca))throw new fe(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=d._path.child(In.fromString(e,...r));return hg(a),new _i(d.firestore,d instanceof Ca?d.converter:null,new Ot(a))}}function pg(d,e){return d=(0,_e.m9)(d),e=(0,_e.m9)(e),(d instanceof _i||d instanceof Ca)&&(e instanceof _i||e instanceof Ca)&&d.firestore===e.firestore&&d.path===e.path&&d.converter===e.converter}function Om(d,e){return d=(0,_e.m9)(d),e=(0,_e.m9)(e),d instanceof is&&e instanceof is&&d.firestore===e.firestore&&ka(d._query,e._query)&&d.converter===e.converter}class gg{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new st(this,"async_queue_retry"),this.hu=()=>{const r=se();r&&de("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Yo.Wo()};const e=se();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const r=se();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const r=new Oe;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,I.Z)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(r){if(!Dn(r))throw r;de("AsyncQueue","Operation failed with retryable error: "+r)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const r=this.iu.then(()=>(this.uu=!0,e().catch(a=>{throw this.au=a,this.uu=!1,gt("INTERNAL UNHANDLED ERROR: ",function(b){let x=b.message||"";return b.stack&&(x=b.stack.includes(b.message)?b.stack:b.message+"\n"+b.stack),x}(a)),a}).then(a=>(this.uu=!1,a))));return this.iu=r,r}enqueueAfterDelay(e,r,a){this.Pu(),this.lu.indexOf(e)>-1&&(r=0);const f=_h.createAndSchedule(this,e,r,a,y=>this.Eu(y));return this._u.push(f),f}Pu(){this.au&&_t()}verifyOperationInProgress(){}du(){var e=this;return(0,I.Z)(function*(){let r;do{r=e.iu,yield r}while(r!==e.iu)})()}Au(e){for(const r of this._u)if(r.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((r,a)=>r.targetTimeMs-a.targetTimeMs);for(const r of this._u)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const r=this._u.indexOf(e);this._u.splice(r,1)}}function mg(d){return function(r,a){if("object"!=typeof r||null===r)return!1;const f=r;for(const y of["next","error","complete"])if(y in f&&"function"==typeof f[y])return!0;return!1}(d)}class iy{constructor(){this._progressObserver={},this._taskCompletionResolver=new Oe,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,a){this._progressObserver={next:e,error:r,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const xo=-1;class ri extends xh{constructor(e,r,a,f){super(e,r,a,f),this.type="firestore",this._queue=new gg,this._persistenceKey=f?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||qf(this),this._firestoreClient.terminate()}}function Gf(d,e){const r="object"==typeof d?d:(0,u.getApp)(),a="string"==typeof d?d:e||"(default)",f=(0,u._getProvider)(r,"firestore").getImmediate({identifier:a});if(!f._initialized){const y=(0,_e.P0)("firestore");y&&Rm(f,...y)}return f}function Mi(d){return d._firestoreClient||qf(d),d._firestoreClient.verifyNotTerminated(),d._firestoreClient}function qf(d){var e,r,a;const f=d._freezeSettings(),y=(L=(null===(e=d._app)||void 0===e?void 0:e.options.appId)||"",new aa(d._databaseId,L,d._persistenceKey,(ne=f).host,ne.ssl,ne.experimentalForceLongPolling,ne.experimentalAutoDetectLongPolling,Pm(ne.experimentalLongPollingOptions),ne.useFetchStreams));var L,ne;d._firestoreClient=new kv(d._authCredentials,d._appCheckCredentials,d._queue,y),null!==(r=f.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(a=f.localCache)&&void 0!==a&&a._onlineComponentProvider&&(d._firestoreClient._uninitializedComponentsProvider={_offlineKind:f.localCache.kind,_offline:f.localCache._offlineComponentProvider,_online:f.localCache._onlineComponentProvider})}function _g(d,e){zv(d=Xn(d,ri));const r=Mi(d);if(r._uninitializedComponentsProvider)throw new fe(Pe.FAILED_PRECONDITION,"SDK cache is already specified.");Ut("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const a=d._freezeSettings(),f=new Oc;return ad(r,f,new J_(f,a.cacheSizeBytes,e?.forceOwnership))}function qa(d){zv(d=Xn(d,ri));const e=Mi(d);if(e._uninitializedComponentsProvider)throw new fe(Pe.FAILED_PRECONDITION,"SDK cache is already specified.");Ut("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=d._freezeSettings(),a=new Oc;return ad(e,a,new X_(a,r.cacheSizeBytes))}function ad(d,e,r){const a=new Oe;return d.asyncQueue.enqueue((0,I.Z)(function*(){try{yield jf(d,r),yield Nc(d,e),a.resolve()}catch(f){const y=f;if(!ey(y))throw y;Ut("Error enabling indexeddb cache. Falling back to memory cache: "+y),a.reject(y)}})).then(()=>a.promise)}function yg(d){if(d._initialized&&!d._terminated)throw new fe(Pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Oe;return d._queue.enqueueAndForgetEvenWhileRestricted((0,I.Z)(function*(){try{yield(r=(0,I.Z)(function*(f){if(!ie.D())return Promise.resolve();const y=f+"main";yield ie.delete(y)}),function a(f){return r.apply(this,arguments)})(ff(d._databaseId,d._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function d0(d){return function(r){const a=new Oe;return r.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return function ng(d,e){return nd.apply(this,arguments)}(yield Am(r),a)})),a.promise}(Mi(d=Xn(d,ri)))}function h0(d){return function Lv(d){return d.asyncQueue.enqueue((0,I.Z)(function*(){const e=yield zf(d),r=yield ag(d);return e.setNetworkEnabled(!0),function(f){const y=nt(f);return y.M_.delete(0),Or(y)}(r)}))}(Mi(d=Xn(d,ri)))}function $v(d){return function ty(d){return d.asyncQueue.enqueue((0,I.Z)(function*(){const e=yield zf(d),r=yield ag(d);return e.setNetworkEnabled(!1),(a=(0,I.Z)(function*(y){const b=nt(y);b.M_.add(0),yield Ea(b),b.N_.set("Offline")}),function f(y){return a.apply(this,arguments)})(r);var a}))}(Mi(d=Xn(d,ri)))}function oy(d,e){const r=Mi(d=Xn(d,ri)),a=new iy;return function Ta(d,e,r,a){const f=function(b,x){let L;return L="string"==typeof b?ha().encode(b):b,ne=function(ne,pe){if(ne instanceof Uint8Array)return Dh(ne,void 0);if(ne instanceof ArrayBuffer)return Dh(new Uint8Array(ne),void 0);if(ne instanceof ReadableStream)return ne.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(L),new Tm(ne,x);var ne}(r,Ne(e));d.asyncQueue.enqueueAndForget((0,I.Z)(function*(){!function xc(d,e,r){const a=nt(d);var f;(f=(0,I.Z)(function*(b,x,L){try{const q=yield x.getMetadata();if(yield function(Dt,jt){const At=nt(Dt),yn=di(jt.createTime);return At.persistence.runTransaction("hasNewerBundle","readonly",xn=>At.$r.getBundleMetadata(xn,jt.id)).then(xn=>!!xn&&xn.createTime.compareTo(yn)>=0)}(b.localStore,q))return yield x.close(),L._completeWith({taskState:"Success",documentsLoaded:(Dt=q).totalDocuments,bytesLoaded:Dt.totalBytes,totalDocuments:Dt.totalDocuments,totalBytes:Dt.totalBytes}),Promise.resolve(new Set);L._updateProgress(Cl(q));const ne=new Ss(q,b.localStore,x.serializer);let pe=yield x.qa();for(;pe;){const tt=yield ne._a(pe);tt&&L._updateProgress(tt),pe=yield x.qa()}const Se=yield ne.complete();return yield Sl(b,Se.ca,void 0),yield function(Dt,jt){const At=nt(Dt);return At.persistence.runTransaction("Save bundle","readwrite",yn=>At.$r.saveBundleMetadata(yn,jt))}(b.localStore,q),L._completeWith(Se.progress),Promise.resolve(Se.ua)}catch(q){return Ut("SyncEngine",`Loading bundle failed with ${q}`),L._failWith(q),Promise.resolve(new Set)}var Dt}),function y(b,x,L){return f.apply(this,arguments)})(a,e,r).then(f=>{a.sharedClientState.notifyBundleLoaded(f)})}(yield Am(d),f,a)}))}(r,d._databaseId,e,a),a}function f0(d,e){return function Bv(d,e){return d.asyncQueue.enqueue((0,I.Z)(function*(){return function(a,f){const y=nt(a);return y.persistence.runTransaction("Get named query","readonly",b=>y.$r.getNamedQuery(b,f))}(yield Qo(d),e)}))}(Mi(d=Xn(d,ri)),e).then(r=>r?new is(d,null,r.query):null)}function zv(d){if(d._initialized||d._terminated)throw new fe(Pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class cd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cd(ti.fromBase64String(e))}catch(r){throw new fe(Pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new cd(ti.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class mu{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new fe(Pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new On(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Nh{constructor(e){this._methodName=e}}class vg{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new fe(Pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new fe(Pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qt(this._lat,e._lat)||qt(this._long,e._long)}}const ay=/^__.*__$/;class qv{constructor(e,r,a){this.data=e,this.fieldMask=r,this.fieldTransforms=a}toMutation(e,r){return null!==this.fieldMask?new fr(e,this.data,this.fieldMask,r,this.fieldTransforms):new dn(e,this.data,r,this.fieldTransforms)}}class Zv{constructor(e,r,a){this.data=e,this.fieldMask=r,this.fieldTransforms=a}toMutation(e,r){return new fr(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Wv(d){switch(d){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class ld{constructor(e,r,a,f,y,b){this.settings=e,this.databaseId=r,this.serializer=a,this.ignoreUndefinedProperties=f,void 0===y&&this.mu(),this.fieldTransforms=y||[],this.fieldMask=b||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new ld(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(e),f=this.gu({path:a,yu:!1});return f.wu(e),f}Su(e){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(e),f=this.gu({path:a,yu:!1});return f.mu(),f}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return hd(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(Wv(this.fu)&&ay.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class Kv{constructor(e,r,a){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=a||Ne(e)}Fu(e,r,a,f=!1){return new ld({fu:e,methodName:r,vu:a,path:On.emptyPath(),yu:!1,Cu:f},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pl(d){const e=d._freezeSettings(),r=Ne(d._databaseId);return new Kv(d._databaseId,!!e.ignoreUndefinedProperties,r)}function kh(d,e,r,a,f,y={}){const b=d.Fu(y.merge||y.mergeFields?2:0,e,r,f);Nm("Data must be an object, but it was:",b,a);const x=yu(a,b);let L,q;if(y.merge)L=new Ai(b.fieldMask),q=b.fieldTransforms;else if(y.mergeFields){const ne=[];for(const pe of y.mergeFields){const Se=Za(e,pe,r);if(!b.contains(Se))throw new fe(Pe.INVALID_ARGUMENT,`Field '${Se}' is specified in your field mask but missing from your input data.`);Ig(ne,Se)||ne.push(Se)}L=new Ai(ne),q=b.fieldTransforms.filter(pe=>L.covers(pe.field))}else L=null,q=b.fieldTransforms;return new qv(new tr(x),L,q)}class Fc extends Nh{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fc}}function Eg(d,e,r){return new ld({fu:3,vu:e.settings.vu,methodName:d._methodName,yu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Wf extends Nh{_toFieldTransform(e){return new Ua(e.path,new tl)}isEqual(e){return e instanceof Wf}}class ud extends Nh{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=Eg(this,e,!0),a=this.Mu.map(y=>Wr(y,r)),f=new jo(a);return new Ua(e.path,f)}isEqual(e){return e instanceof ud&&(0,_e.vZ)(this.Mu,e.Mu)}}class Fh extends Nh{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=Eg(this,e,!0),a=this.Mu.map(y=>Wr(y,r)),f=new bo(a);return new Ua(e.path,f)}isEqual(e){return e instanceof Fh&&(0,_e.vZ)(this.Mu,e.Mu)}}class _u extends Nh{constructor(e,r){super(e),this.xu=r}_toFieldTransform(e){const r=new Va(e.serializer,La(e.serializer,this.xu));return new Ua(e.path,r)}isEqual(e){return e instanceof _u&&this.xu===e.xu}}function Kf(d,e,r,a){const f=d.Fu(1,e,r);Nm("Data must be an object, but it was:",f,a);const y=[],b=tr.empty();Qi(a,(L,q)=>{const ne=go(e,L,r);q=(0,_e.m9)(q);const pe=f.Su(ne);if(q instanceof Fc)y.push(ne);else{const Se=Wr(q,pe);null!=Se&&(y.push(ne),b.set(ne,Se))}});const x=new Ai(y);return new Zv(b,x,f.fieldTransforms)}function Yf(d,e,r,a,f,y){const b=d.Fu(1,e,r),x=[Za(e,a,r)],L=[f];if(y.length%2!=0)throw new fe(Pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Se=0;Se<y.length;Se+=2)x.push(Za(e,y[Se])),L.push(y[Se+1]);const q=[],ne=tr.empty();for(let Se=x.length-1;Se>=0;--Se)if(!Ig(q,x[Se])){const tt=x[Se];let Dt=L[Se];Dt=(0,_e.m9)(Dt);const jt=b.Su(tt);if(Dt instanceof Fc)q.push(tt);else{const At=Wr(Dt,jt);null!=At&&(q.push(tt),ne.set(tt,At))}}const pe=new Ai(q);return new Zv(ne,pe,b.fieldTransforms)}function dd(d,e,r,a=!1){return Wr(r,d.Fu(a?4:3,e))}function Wr(d,e){if(Oo(d=(0,_e.m9)(d)))return Nm("Unsupported field value:",e,d),yu(d,e);if(d instanceof Nh)return function(a,f){if(!Wv(f.fu))throw f.Du(`${a._methodName}() can only be used with update() and set()`);if(!f.path)throw f.Du(`${a._methodName}() is not currently supported inside arrays`);const y=a._toFieldTransform(f);y&&f.fieldTransforms.push(y)}(d,e),null;if(void 0===d&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),d instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(a,f){const y=[];let b=0;for(const x of a){let L=Wr(x,f.bu(b));null==L&&(L={nullValue:"NULL_VALUE"}),y.push(L),b++}return{arrayValue:{values:y}}}(d,e)}return function(a,f){if(null===(a=(0,_e.m9)(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return La(f.serializer,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){const y=vn.fromDate(a);return{timestampValue:Ba(f.serializer,y)}}if(a instanceof vn){const y=new vn(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Ba(f.serializer,y)}}if(a instanceof vg)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof cd)return{bytesValue:nf(f.serializer,a._byteString)};if(a instanceof _i){const y=f.databaseId,b=a.firestore._databaseId;if(!b.isEqual(y))throw f.Du(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${y.projectId}/${y.database}`);return{referenceValue:ja(a.firestore._databaseId||f.databaseId,a._key.path)}}throw f.Du(`Unsupported field value: ${Ml(a)}`)}(d,e)}function yu(d,e){const r={};return ec(d)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qi(d,(a,f)=>{const y=Wr(f,e.pu(a));null!=y&&(r[a]=y)}),{mapValue:{fields:r}}}function Oo(d){return!("object"!=typeof d||null===d||d instanceof Array||d instanceof Date||d instanceof vn||d instanceof vg||d instanceof cd||d instanceof _i||d instanceof Nh)}function Nm(d,e,r){if(!Oo(r)||"object"!=typeof(f=r)||null===f||Object.getPrototypeOf(f)!==Object.prototype&&null!==Object.getPrototypeOf(f)){const a=Ml(r);throw e.Du("an object"===a?d+" a custom object":d+" "+a)}var f}function Za(d,e,r){if((e=(0,_e.m9)(e))instanceof mu)return e._internalPath;if("string"==typeof e)return go(d,e);throw hd("Field path arguments must be of type string or ",d,!1,void 0,r)}const Lh=new RegExp("[~\\*/\\[\\]]");function go(d,e,r){if(e.search(Lh)>=0)throw hd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,d,!1,void 0,r);try{return new mu(...e.split("."))._internalPath}catch{throw hd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,d,!1,void 0,r)}}function hd(d,e,r,a,f){const y=a&&!a.isEmpty(),b=void 0!==f;let x=`Function ${e}() called with invalid data`;r&&(x+=" (via `toFirestore()`)"),x+=". ";let L="";return(y||b)&&(L+=" (found",y&&(L+=` in field ${a}`),b&&(L+=` in document ${f}`),L+=")"),new fe(Pe.INVALID_ARGUMENT,x+d+L)}function Ig(d,e){return d.some(r=>r.isEqual(e))}class Vh{constructor(e,r,a,f,y){this._firestore=e,this._userDataWriter=r,this._key=a,this._document=f,this._converter=y}get id(){return this._key.path.lastSegment()}get ref(){return new _i(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Yv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(km("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class Yv extends Vh{data(){return super.data()}}function km(d,e){return"string"==typeof e?go(d,e):e instanceof mu?e._internalPath:e._delegate._internalPath}function cy(d){if("L"===d.limitType&&0===d.explicitOrderBy.length)throw new fe(Pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ci{}class Jr extends ci{}function Fm(d,e,...r){let a=[];e instanceof ci&&a.push(e),a=a.concat(r),function(y){const b=y.filter(L=>L instanceof Rl).length,x=y.filter(L=>L instanceof vu).length;if(b>1||b>0&&x>0)throw new fe(Pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const f of a)d=f._apply(d);return d}class vu extends Jr{constructor(e,r,a){super(),this._field=e,this._op=r,this._value=a,this.type="where"}static _create(e,r,a){return new vu(e,r,a)}_apply(e){const r=this._parse(e);return gd(e._query,r),new is(e.firestore,e.converter,rc(e._query,r))}_parse(e){const r=Pl(e.firestore);return function(y,b,x,L,q,ne,pe){let Se;if(q.isKeyField()){if("array-contains"===ne||"array-contains-any"===ne)throw new fe(Pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ne}' queries on documentId().`);if("in"===ne||"not-in"===ne){pd(pe,ne);const tt=[];for(const Dt of pe)tt.push(jm(L,y,Dt));Se={arrayValue:{values:tt}}}else Se=jm(L,y,pe)}else"in"!==ne&&"not-in"!==ne&&"array-contains-any"!==ne||pd(pe,ne),Se=dd(x,"where",pe,"in"===ne||"not-in"===ne);return Kn.create(q,ne,Se)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function Lm(d,e,r){const a=e,f=km("where",d);return vu._create(f,a,r)}class Rl extends ci{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Rl(e,r)}_parse(e){const r=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return 1===r.length?r[0]:ir.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(f,y){let b=f;const x=y.getFlattenedFilters();for(const L of x)gd(b,L),b=rc(b,L)}(e._query,r),new is(e.firestore,e.converter,rc(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Vm extends Jr{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Vm(e,r)}_apply(e){const r=function(f,y,b){if(null!==f.startAt)throw new fe(Pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==f.endAt)throw new fe(Pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fs(y,b)}(e._query,this._field,this._direction);return new is(e.firestore,e.converter,function(f,y){const b=f.explicitOrderBy.concat([y]);return new ca(f.path,f.collectionGroup,b,f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(e._query,r))}}function Um(d,e="asc"){const r=e,a=km("orderBy",d);return Vm._create(a,r)}class bg extends Jr{constructor(e,r,a){super(),this.type=e,this._limit=r,this._limitType=a}static _create(e,r,a){return new bg(e,r,a)}_apply(e){return new is(e.firestore,e.converter,ic(e._query,this._limit,this._limitType))}}function Jv(d){return Rh("limit",d),bg._create("limit",d,"F")}function Tg(d){return Rh("limitToLast",d),bg._create("limitToLast",d,"L")}class Cg extends Jr{constructor(e,r,a){super(),this.type=e,this._docOrFields=r,this._inclusive=a}static _create(e,r,a){return new Cg(e,r,a)}_apply(e){const r=Bm(e,this.type,this._docOrFields,this._inclusive);return new is(e.firestore,e.converter,(y=r,new ca((f=e._query).path,f.collectionGroup,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,y,f.endAt)));var f,y}}function fd(...d){return Cg._create("startAt",d,!0)}function Qf(...d){return Cg._create("startAfter",d,!1)}class wg extends Jr{constructor(e,r,a){super(),this.type=e,this._docOrFields=r,this._inclusive=a}static _create(e,r,a){return new wg(e,r,a)}_apply(e){const r=Bm(e,this.type,this._docOrFields,this._inclusive);return new is(e.firestore,e.converter,(y=r,new ca((f=e._query).path,f.collectionGroup,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,y)));var f,y}}function ly(...d){return wg._create("endBefore",d,!1)}function Uh(...d){return wg._create("endAt",d,!0)}function Bm(d,e,r,a){if(r[0]=(0,_e.m9)(r[0]),r[0]instanceof Vh)return function(y,b,x,L,q){if(!L)throw new fe(Pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${x}().`);const ne=[];for(const pe of la(y))if(pe.field.isKeyField())ne.push(Zt(b,L.key));else{const Se=L.data.field(pe.field);if(bs(Se))throw new fe(Pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+pe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Se){const tt=pe.field.canonicalString();throw new fe(Pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${tt}' (used as the orderBy) does not exist.`)}ne.push(Se)}return new Xi(ne,q)}(d._query,d.firestore._databaseId,e,r[0]._document,a);{const f=Pl(d.firestore);return function(b,x,L,q,ne,pe){const Se=b.explicitOrderBy;if(ne.length>Se.length)throw new fe(Pe.INVALID_ARGUMENT,`Too many arguments provided to ${q}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const tt=[];for(let Dt=0;Dt<ne.length;Dt++){const jt=ne[Dt];if(Se[Dt].field.isKeyField()){if("string"!=typeof jt)throw new fe(Pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${q}(), but got a ${typeof jt}`);if(!ql(b)&&-1!==jt.indexOf("/"))throw new fe(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${q}() must be a plain document ID, but '${jt}' contains a slash.`);const At=b.path.child(In.fromString(jt));if(!Ot.isDocumentKey(At))throw new fe(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${q}() must result in a valid document path, but '${At}' is not because it contains an odd number of segments.`);const yn=new Ot(At);tt.push(Zt(x,yn))}else{const At=dd(L,q,jt);tt.push(At)}}return new Xi(tt,pe)}(d._query,d.firestore._databaseId,f,e,r,a)}}function jm(d,e,r){if("string"==typeof(r=(0,_e.m9)(r))){if(""===r)throw new fe(Pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ql(e)&&-1!==r.indexOf("/"))throw new fe(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const a=e.path.child(In.fromString(r));if(!Ot.isDocumentKey(a))throw new fe(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Zt(d,new Ot(a))}if(r instanceof _i)return Zt(d,r._key);throw new fe(Pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ml(r)}.`)}function pd(d,e){if(!Array.isArray(d)||0===d.length)throw new fe(Pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gd(d,e){const r=function(f,y){for(const b of f)for(const x of b.getFlattenedFilters())if(y.indexOf(x.op)>=0)return x.op;return null}(d.filters,function(f){switch(f){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new fe(Pe.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class uy{convertValue(e,r="none"){switch(xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw _t()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const a={};return Qi(e,(f,y)=>{a[f]=this.convertValue(y,r)}),a}convertGeoPoint(e){return new vg(Qr(e.latitude),Qr(e.longitude))}convertArray(e,r){return(e.values||[]).map(a=>this.convertValue(a,r))}convertServerTimestamp(e,r){switch(r){case"previous":const a=Lo(e);return null==a?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(Ri(e));default:return null}}convertTimestamp(e){const r=as(e);return new vn(r.seconds,r.nanos)}convertDocumentKey(e,r){const a=In.fromString(e);Rt(Ee(a));const f=new An(a.get(1),a.get(3)),y=new Ot(a.popFirst(5));return f.isEqual(r)||gt(`Document ${y} contains a document reference within a different database (${f.projectId}/${f.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),y}}function Bh(d,e,r){let a;return a=d?r&&(r.merge||r.mergeFields)?d.toFirestore(e,r):d.toFirestore(e):e,a}class dy extends uy{constructor(e){super(),this.firestore=e}convertBytes(e){return new cd(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new _i(this.firestore,null,r)}}class xl{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ol extends Vh{constructor(e,r,a,f,y,b){super(e,r,a,f,b),this._firestore=e,this._firestoreImpl=e,this.metadata=y}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new wa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const a=this._document.data.field(km("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}}class wa extends Ol{data(e={}){return super.data(e)}}class Nl{constructor(e,r,a,f){this._firestore=e,this._userDataWriter=r,this._snapshot=f,this.metadata=new xl(f.hasPendingWrites,f.fromCache),this.query=a}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(a=>{e.call(r,new wa(this._firestore,this._userDataWriter,a.key,a,new xl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new fe(Pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(f,y){if(f._snapshot.oldDocs.isEmpty()){let b=0;return f._snapshot.docChanges.map(x=>({type:"added",doc:new wa(f._firestore,f._userDataWriter,x.doc.key,x.doc,new xl(f._snapshot.mutatedKeys.has(x.doc.key),f._snapshot.fromCache),f.query.converter),oldIndex:-1,newIndex:b++}))}{let b=f._snapshot.oldDocs;return f._snapshot.docChanges.filter(x=>y||3!==x.type).map(x=>{const L=new wa(f._firestore,f._userDataWriter,x.doc.key,x.doc,new xl(f._snapshot.mutatedKeys.has(x.doc.key),f._snapshot.fromCache),f.query.converter);let q=-1,ne=-1;return 0!==x.type&&(q=b.indexOf(x.doc.key),b=b.delete(x.doc.key)),1!==x.type&&(b=b.add(x.doc),ne=b.indexOf(x.doc.key)),{type:md(x.type),doc:L,oldIndex:q,newIndex:ne}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function md(d){switch(d){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}function Aa(d,e){return d instanceof Ol&&e instanceof Ol?d._firestore===e._firestore&&d._key.isEqual(e._key)&&(null===d._document?null===e._document:d._document.isEqual(e._document))&&d._converter===e._converter:d instanceof Nl&&e instanceof Nl&&d._firestore===e._firestore&&Om(d.query,e.query)&&d.metadata.isEqual(e.metadata)&&d._snapshot.isEqual(e._snapshot)}function py(d){d=Xn(d,_i);const e=Xn(d.firestore,ri);return lg(Mi(e),d._key).then(r=>Ag(e,d,r))}class Lc extends uy{constructor(e){super(),this.firestore=e}convertBytes(e){return new cd(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new _i(this.firestore,null,r)}}function $m(d){d=Xn(d,_i);const e=Xn(d.firestore,ri),r=Mi(e),a=new Lc(e);return function Vv(d,e){const r=new Oe;return d.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return(a=(0,I.Z)(function*(y,b,x){try{const L=yield function(ne,pe){const Se=nt(ne);return Se.persistence.runTransaction("read document","readonly",tt=>Se.localDocuments.getDocument(tt,pe))}(y,b);L.isFoundDocument()?x.resolve(L):L.isNoDocument()?x.resolve(null):x.reject(new fe(Pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(L){const q=cu(L,`Failed to get document '${b} from cache`);x.reject(q)}}),function f(y,b,x){return a.apply(this,arguments)})(yield Qo(d),e,r);var a})),r.promise}(r,d._key).then(f=>new Ol(e,a,d._key,f,new xl(null!==f&&f.hasLocalMutations,!0),d.converter))}function Eu(d){d=Xn(d,_i);const e=Xn(d.firestore,ri);return lg(Mi(e),d._key,{source:"server"}).then(r=>Ag(e,d,r))}function zm(d){d=Xn(d,is);const e=Xn(d.firestore,ri),r=Mi(e),a=new Lc(e);return cy(d._query),Dm(r,d._query).then(f=>new Nl(e,a,d,f))}function Xv(d){d=Xn(d,is);const e=Xn(d.firestore,ri),r=Mi(e),a=new Lc(e);return function Ph(d,e){const r=new Oe;return d.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return(a=(0,I.Z)(function*(y,b,x){try{const L=yield mf(y,b,!0),q=new Pv(b,L.hs),ne=q.da(L.documents),pe=q.applyChanges(ne,!1);x.resolve(pe.snapshot)}catch(L){const q=cu(L,`Failed to execute query '${b} against cache`);x.reject(q)}}),function f(y,b,x){return a.apply(this,arguments)})(yield Qo(d),e,r);var a})),r.promise}(r,d._query).then(f=>new Nl(e,a,d,f))}function _0(d){d=Xn(d,is);const e=Xn(d.firestore,ri),r=Mi(e),a=new Lc(e);return Dm(r,d._query,{source:"server"}).then(f=>new Nl(e,a,d,f))}function eE(d,e,r){d=Xn(d,_i);const a=Xn(d.firestore,ri),f=Bh(d.converter,e,r);return Ti(a,[kh(Pl(a),"setDoc",d._key,f,null!==d.converter,r).toMutation(d._key,$r.none())])}function Gm(d,e,r,...a){d=Xn(d,_i);const f=Xn(d.firestore,ri),y=Pl(f);let b;return b="string"==typeof(e=(0,_e.m9)(e))||e instanceof mu?Yf(y,"updateDoc",d._key,e,r,a):Kf(y,"updateDoc",d._key,e),Ti(f,[b.toMutation(d._key,$r.exists(!0))])}function Vc(d){return Ti(Xn(d.firestore,ri),[new Lr(d._key,$r.none())])}function gy(d,e){const r=Xn(d.firestore,ri),a=Hv(d),f=Bh(d.converter,e);return Ti(r,[kh(Pl(d.firestore),"addDoc",a._key,f,null!==d.converter,{}).toMutation(a._key,$r.exists(!1))]).then(()=>a)}function Jo(d,...e){var r,a,f;d=(0,_e.m9)(d);let y={includeMetadataChanges:!1,source:"default"},b=0;"object"!=typeof e[b]||mg(e[b])||(y=e[b],b++);const x={includeMetadataChanges:y.includeMetadataChanges,source:y.source};if(mg(e[b])){const pe=e[b];e[b]=null===(r=pe.next)||void 0===r?void 0:r.bind(pe),e[b+1]=null===(a=pe.error)||void 0===a?void 0:a.bind(pe),e[b+2]=null===(f=pe.complete)||void 0===f?void 0:f.bind(pe)}let L,q,ne;if(d instanceof _i)q=Xn(d.firestore,ri),ne=Fr(d._key.path),L={next:pe=>{e[b]&&e[b](Ag(q,d,pe))},error:e[b+1],complete:e[b+2]};else{const pe=Xn(d,is);q=Xn(pe.firestore,ri),ne=pe._query;const Se=new Lc(q);L={next:tt=>{e[b]&&e[b](new Nl(q,Se,pe,tt))},error:e[b+1],complete:e[b+2]},cy(d._query)}return function(Se,tt,Dt,jt){const At=new Uf(jt),yn=new Qu(tt,At,Dt);return Se.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return yh(yield Mh(Se),yn)})),()=>{At.$a(),Se.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return lu(yield Mh(Se),yn)}))}}(Mi(q),ne,x,L)}function my(d,e){return function Uv(d,e){const r=new Uf(e);return d.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return f=yield Mh(d),y=r,nt(f).z_.add(y),void y.next();var f,y})),()=>{r.$a(),d.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return f=yield Mh(d),y=r,void nt(f).z_.delete(y);var f,y}))}}(Mi(d=Xn(d,ri)),mg(e)?e:{next:e})}function Ti(d,e){return function(a,f){const y=new Oe;return a.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return function kf(d,e,r){return Z_.apply(this,arguments)}(yield Am(a),f,y)})),y.promise}(Mi(d),e)}function Ag(d,e,r){const a=r.docs.get(e._key),f=new Lc(d);return new Ol(d,f,e._key,a,new xl(r.hasPendingWrites,r.fromCache),e.converter)}const Fl={maxAttempts:5};class Wa{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Pl(e)}set(e,r,a){this._verifyNotCommitted();const f=bu(e,this._firestore),y=Bh(f.converter,r,a),b=kh(this._dataReader,"WriteBatch.set",f._key,y,null!==f.converter,a);return this._mutations.push(b.toMutation(f._key,$r.none())),this}update(e,r,a,...f){this._verifyNotCommitted();const y=bu(e,this._firestore);let b;return b="string"==typeof(r=(0,_e.m9)(r))||r instanceof mu?Yf(this._dataReader,"WriteBatch.update",y._key,r,a,f):Kf(this._dataReader,"WriteBatch.update",y._key,r),this._mutations.push(b.toMutation(y._key,$r.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=bu(e,this._firestore);return this._mutations=this._mutations.concat(new Lr(r._key,$r.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new fe(Pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function bu(d,e){if((d=(0,_e.m9)(d)).firestore!==e)throw new fe(Pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return d}class rE extends class{constructor(r,a){this._firestore=r,this._transaction=a,this._dataReader=Pl(r)}get(r){const a=bu(r,this._firestore),f=new dy(this._firestore);return this._transaction.lookup([a._key]).then(y=>{if(!y||1!==y.length)return _t();const b=y[0];if(b.isFoundDocument())return new Vh(this._firestore,f,b.key,b,a.converter);if(b.isNoDocument())return new Vh(this._firestore,f,a._key,null,a.converter);throw _t()})}set(r,a,f){const y=bu(r,this._firestore),b=Bh(y.converter,a,f),x=kh(this._dataReader,"Transaction.set",y._key,b,null!==y.converter,f);return this._transaction.set(y._key,x),this}update(r,a,f,...y){const b=bu(r,this._firestore);let x;return x="string"==typeof(a=(0,_e.m9)(a))||a instanceof mu?Yf(this._dataReader,"Transaction.update",b._key,a,f,y):Kf(this._dataReader,"Transaction.update",b._key,a),this._transaction.update(b._key,x),this}delete(r){const a=bu(r,this._firestore);return this._transaction.delete(a._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=bu(e,this._firestore),a=new Lc(this._firestore);return super.get(e).then(f=>new Ol(this._firestore,a,r._key,f._document,new xl(!1,!1),r.converter))}}function Wm(d,e,r){d=Xn(d,ri);const a=Object.assign(Object.assign({},Fl),r);return function(y){if(y.maxAttempts<1)throw new fe(Pe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(y,b,x){const L=new Oe;return y.asyncQueue.enqueueAndForget((0,I.Z)(function*(){const q=yield function Fv(d){return Cm(d).then(e=>e.datastore)}(y);new u0(y.asyncQueue,q,x,b,L).Xa()})),L.promise}(Mi(d),f=>e(new rE(d,f)),a)}function Ty(){return new Fc("deleteField")}function Jf(){return new Wf("serverTimestamp")}function jh(...d){return new ud("arrayUnion",d)}function Xf(...d){return new Fh("arrayRemove",d)}function Cy(d){return new _u("increment",d)}!function(e,r=!0){Ue=u.SDK_VERSION,(0,u._registerComponent)(new W.wA("firestore",(a,{instanceIdentifier:f,options:y})=>{const b=a.getProvider("app").getImmediate(),x=new ri(new ft(a.getProvider("auth-internal")),new on(a.getProvider("app-check-internal")),function(q,ne){if(!Object.prototype.hasOwnProperty.apply(q.options,["projectId"]))throw new fe(Pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new An(q.options.projectId,ne)}(b,f),b);return y=Object.assign({useFetchStreams:r},y),x._setSettings(y),x},"PUBLIC").setMultipleInstances(!0)),(0,u.registerVersion)(Be,"4.6.3",e),(0,u.registerVersion)(Be,"4.6.3","esm2017")}()},9058:(zt,$e,j)=>{j.d($e,{$s:()=>Lt,BH:()=>Ue,G6:()=>Pe,L:()=>De,LL:()=>ft,P0:()=>qe,Pz:()=>Xe,Sg:()=>et,UG:()=>de,ZB:()=>Me,ZR:()=>lt,aH:()=>Be,b$:()=>Bn,eu:()=>Oe,hl:()=>fe,jU:()=>gt,m9:()=>xt,ne:()=>br,pd:()=>wn,r3:()=>mn,ru:()=>Ut,tV:()=>ue,uI:()=>ze,vZ:()=>In,w1:()=>Rt,xO:()=>Ot,xb:()=>$t,z$:()=>vt,zI:()=>We,zd:()=>fn});const ve=function(oe){const Q=[];let H=0;for(let U=0;U<oe.length;U++){let F=oe.charCodeAt(U);F<128?Q[H++]=F:F<2048?(Q[H++]=F>>6|192,Q[H++]=63&F|128):55296==(64512&F)&&U+1<oe.length&&56320==(64512&oe.charCodeAt(U+1))?(F=65536+((1023&F)<<10)+(1023&oe.charCodeAt(++U)),Q[H++]=F>>18|240,Q[H++]=F>>12&63|128,Q[H++]=F>>6&63|128,Q[H++]=63&F|128):(Q[H++]=F>>12|224,Q[H++]=F>>6&63|128,Q[H++]=63&F|128)}return Q},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(oe,Q){if(!Array.isArray(oe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=Q?this.byteToCharMapWebSafe_:this.byteToCharMap_,U=[];for(let F=0;F<oe.length;F+=3){const ce=oe[F],xe=F+1<oe.length,pt=xe?oe[F+1]:0,Pt=F+2<oe.length,Jt=Pt?oe[F+2]:0;let Gn=(15&pt)<<2|Jt>>6,Sn=63&Jt;Pt||(Sn=64,xe||(Gn=64)),U.push(H[ce>>2],H[(3&ce)<<4|pt>>4],H[Gn],H[Sn])}return U.join("")},encodeString(oe,Q){return this.HAS_NATIVE_SUPPORT&&!Q?btoa(oe):this.encodeByteArray(ve(oe),Q)},decodeString(oe,Q){return this.HAS_NATIVE_SUPPORT&&!Q?atob(oe):function(oe){const Q=[];let H=0,U=0;for(;H<oe.length;){const F=oe[H++];if(F<128)Q[U++]=String.fromCharCode(F);else if(F>191&&F<224){const ce=oe[H++];Q[U++]=String.fromCharCode((31&F)<<6|63&ce)}else if(F>239&&F<365){const Pt=((7&F)<<18|(63&oe[H++])<<12|(63&oe[H++])<<6|63&oe[H++])-65536;Q[U++]=String.fromCharCode(55296+(Pt>>10)),Q[U++]=String.fromCharCode(56320+(1023&Pt))}else{const ce=oe[H++],xe=oe[H++];Q[U++]=String.fromCharCode((15&F)<<12|(63&ce)<<6|63&xe)}}return Q.join("")}(this.decodeStringToByteArray(oe,Q))},decodeStringToByteArray(oe,Q){this.init_();const H=Q?this.charToByteMapWebSafe_:this.charToByteMap_,U=[];for(let F=0;F<oe.length;){const ce=H[oe.charAt(F++)],pt=F<oe.length?H[oe.charAt(F)]:0;++F;const Jt=F<oe.length?H[oe.charAt(F)]:64;++F;const en=F<oe.length?H[oe.charAt(F)]:64;if(++F,null==ce||null==pt||null==Jt||null==en)throw new he;U.push(ce<<2|pt>>4),64!==Jt&&(U.push(pt<<4&240|Jt>>2),64!==en&&U.push(Jt<<6&192|en))}return U},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let oe=0;oe<this.ENCODED_VALS.length;oe++)this.byteToCharMap_[oe]=this.ENCODED_VALS.charAt(oe),this.charToByteMap_[this.byteToCharMap_[oe]]=oe,this.byteToCharMapWebSafe_[oe]=this.ENCODED_VALS_WEBSAFE.charAt(oe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[oe]]=oe,oe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(oe)]=oe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(oe)]=oe)}}};class he extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const De=function(oe){return function(oe){const Q=ve(oe);return we.encodeByteArray(Q,!0)}(oe).replace(/\./g,"")},ue=function(oe){try{return we.decodeString(oe,!0)}catch(Q){console.error("base64Decode failed: ",Q)}return null};function Me(oe,Q){if(!(Q instanceof Object))return Q;switch(Q.constructor){case Date:return new Date(Q.getTime());case Object:void 0===oe&&(oe={});break;case Array:oe=[];break;default:return Q}for(const H in Q)!Q.hasOwnProperty(H)||!ut(H)||(oe[H]=Me(oe[H],Q[H]));return oe}function ut(oe){return"__proto__"!==oe}const mt=()=>{try{return function Je(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const oe=process.env.__FIREBASE_DEFAULTS__;return oe?JSON.parse(oe):void 0})()||(()=>{if(typeof document>"u")return;let oe;try{oe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Q=oe&&ue(oe[1]);return Q&&JSON.parse(Q)})()}catch(oe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${oe}`)}},qe=oe=>{const Q=(oe=>{var Q,H;return null===(H=null===(Q=mt())||void 0===Q?void 0:Q.emulatorHosts)||void 0===H?void 0:H[oe]})(oe);if(!Q)return;const H=Q.lastIndexOf(":");if(H<=0||H+1===Q.length)throw new Error(`Invalid host ${Q} with no separate hostname and port!`);const U=parseInt(Q.substring(H+1),10);return"["===Q[0]?[Q.substring(1,H-1),U]:[Q.substring(0,H),U]},Be=()=>{var oe;return null===(oe=mt())||void 0===oe?void 0:oe.config},Xe=oe=>{var Q;return null===(Q=mt())||void 0===Q?void 0:Q[`_${oe}`]};class Ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Q,H)=>{this.resolve=Q,this.reject=H})}wrapCallback(Q){return(H,U)=>{H?this.reject(H):this.resolve(U),"function"==typeof Q&&(this.promise.catch(()=>{}),1===Q.length?Q(H):Q(H,U))}}}function et(oe,Q){if(oe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const U=Q||"demo-project",F=oe.iat||0,ce=oe.sub||oe.user_id;if(!ce)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const xe=Object.assign({iss:`https://securetoken.google.com/${U}`,aud:U,iat:F,exp:F+3600,auth_time:F,sub:ce,user_id:ce,firebase:{sign_in_provider:"custom",identities:{}}},oe);return[De(JSON.stringify({alg:"none",type:"JWT"})),De(JSON.stringify(xe)),""].join(".")}function vt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ze(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function de(){var oe;const Q=null===(oe=mt())||void 0===oe?void 0:oe.forceEnvironment;if("node"===Q)return!0;if("browser"===Q)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function gt(){return"object"==typeof self&&self.self===self}function Ut(){const oe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof oe&&void 0!==oe.id}function Bn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Rt(){const oe=vt();return oe.indexOf("MSIE ")>=0||oe.indexOf("Trident/")>=0}function Pe(){return!de()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fe(){try{return"object"==typeof indexedDB}catch{return!1}}function Oe(){return new Promise((oe,Q)=>{try{let H=!0;const U="validate-browser-context-for-indexeddb-analytics-module",F=self.indexedDB.open(U);F.onsuccess=()=>{F.result.close(),H||self.indexedDB.deleteDatabase(U),oe(!0)},F.onupgradeneeded=()=>{H=!1},F.onerror=()=>{var ce;Q((null===(ce=F.error)||void 0===ce?void 0:ce.message)||"")}}catch(H){Q(H)}})}function We(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class lt extends Error{constructor(Q,H,U){super(H),this.code=Q,this.customData=U,this.name="FirebaseError",Object.setPrototypeOf(this,lt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ft.prototype.create)}}class ft{constructor(Q,H,U){this.service=Q,this.serviceName=H,this.errors=U}create(Q,...H){const U=H[0]||{},F=`${this.service}/${Q}`,ce=this.errors[Q],xe=ce?function Gt(oe,Q){return oe.replace(Vt,(H,U)=>{const F=Q[U];return null!=F?String(F):`<${U}?>`})}(ce,U):"Error";return new lt(F,`${this.serviceName}: ${xe} (${F}).`,U)}}const Vt=/\{\$([^}]+)}/g;function mn(oe,Q){return Object.prototype.hasOwnProperty.call(oe,Q)}function $t(oe){for(const Q in oe)if(Object.prototype.hasOwnProperty.call(oe,Q))return!1;return!0}function In(oe,Q){if(oe===Q)return!0;const H=Object.keys(oe),U=Object.keys(Q);for(const F of H){if(!U.includes(F))return!1;const ce=oe[F],xe=Q[F];if(ur(ce)&&ur(xe)){if(!In(ce,xe))return!1}else if(ce!==xe)return!1}for(const F of U)if(!H.includes(F))return!1;return!0}function ur(oe){return null!==oe&&"object"==typeof oe}function Ot(oe){const Q=[];for(const[H,U]of Object.entries(oe))Array.isArray(U)?U.forEach(F=>{Q.push(encodeURIComponent(H)+"="+encodeURIComponent(F))}):Q.push(encodeURIComponent(H)+"="+encodeURIComponent(U));return Q.length?"&"+Q.join("&"):""}function fn(oe){const Q={};return oe.replace(/^\?/,"").split("&").forEach(U=>{if(U){const[F,ce]=U.split("=");Q[decodeURIComponent(F)]=decodeURIComponent(ce)}}),Q}function wn(oe){const Q=oe.indexOf("?");if(!Q)return"";const H=oe.indexOf("#",Q);return oe.substring(Q,H>0?H:void 0)}function br(oe,Q){const H=new _r(oe,Q);return H.subscribe.bind(H)}class _r{constructor(Q,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{Q(this)}).catch(U=>{this.error(U)})}next(Q){this.forEachObserver(H=>{H.next(Q)})}error(Q){this.forEachObserver(H=>{H.error(Q)}),this.close(Q)}complete(){this.forEachObserver(Q=>{Q.complete()}),this.close()}subscribe(Q,H,U){let F;if(void 0===Q&&void 0===H&&void 0===U)throw new Error("Missing Observer.");F=function Pn(oe,Q){if("object"!=typeof oe||null===oe)return!1;for(const H of Q)if(H in oe&&"function"==typeof oe[H])return!0;return!1}(Q,["next","error","complete"])?Q:{next:Q,error:H,complete:U},void 0===F.next&&(F.next=Ir),void 0===F.error&&(F.error=Ir),void 0===F.complete&&(F.complete=Ir);const ce=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?F.error(this.finalError):F.complete()}catch{}}),this.observers.push(F),ce}unsubscribeOne(Q){void 0===this.observers||void 0===this.observers[Q]||(delete this.observers[Q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Q){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,Q)}sendOne(Q,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Q])try{H(this.observers[Q])}catch(U){typeof console<"u"&&console.error&&console.error(U)}})}close(Q){this.finalized||(this.finalized=!0,void 0!==Q&&(this.finalError=Q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ir(){}const Et=1e3,ie=2,Te=144e5,ct=.5;function Lt(oe,Q=Et,H=ie){const U=Q*Math.pow(H,oe),F=Math.round(ct*U*(Math.random()-.5)*2);return Math.min(Te,U+F)}function xt(oe){return oe&&oe._delegate?oe._delegate:oe}},4626:(zt,$e,j)=>{j.d($e,{e:()=>Ce});var I=j(5861),u=j(2459),W=j(6306),ve=j(7398),_e=j(5879),we=j(981),he=j(3914);let Ce=(()=>{class De{constructor(ge,Me){this.afAuth=ge,this.router=Me,this.user$=this.afAuth.authState}login(ge,Me){return this.router.navigate(["/admin"]),(0,u.D)(this.afAuth.signInWithEmailAndPassword(ge,Me)).pipe((0,W.K)(ut=>{throw console.error("Login error: ",ut),ut}))}logout(){var ge=this;return(0,I.Z)(function*(){yield ge.afAuth.signOut(),ge.router.navigate(["/login"])})()}isLoggedIn(){return this.user$.pipe((0,ve.U)(ge=>!!ge))}static#e=this.\u0275fac=function(Me){return new(Me||De)(_e.LFG(we.zQ),_e.LFG(he.F0))};static#t=this.\u0275prov=_e.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})()},3375:(zt,$e,j)=>{j.d($e,{n:()=>W});var I=j(5879),u=j(7104);let W=(()=>{class ve{constructor(we){this.firestore=we}getEvents(){return this.firestore.collection("Events",we=>we.orderBy("Community_Sponsor","desc")).valueChanges()}addEvent(we){const he=this.firestore.createId();return this.firestore.collection("Events").doc(he).set(we)}updateEvent(we,he){return this.eventsCollection.doc(we).update(he)}static#e=this.\u0275fac=function(he){return new(he||ve)(I.LFG(u.ST))};static#t=this.\u0275prov=I.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})()},8924:(zt,$e,j)=>{j.d($e,{b:()=>ve});var I=j(7398),u=j(5879),W=j(7104);let ve=(()=>{class _e{constructor(he){this.firestore=he}getAllOffers(){return this.firestore.collection("Offers",he=>he.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,I.U)(he=>he.map(Ce=>{const De=Ce.payload.doc.data();return{id:Ce.payload.doc.id,...De}})))}getOffers(){return this.firestore.collection("Offers",he=>he.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,I.U)(he=>he.map(Ce=>{const De=Ce.payload.doc.data();return{id:Ce.payload.doc.id,...De}}))).pipe((0,I.U)(he=>he.filter(Ce=>1==Ce.Approved)))}addOffer(he){he.id=this.firestore.createId();const Ce=(new Date).toISOString().split("T")[0];return he.Date_Created=Ce,this.firestore.collection("Offers").doc(he.id).set(he)}getOffer(he){return this.firestore.collection("Offers").doc(he).valueChanges()}updateOffer(he,Ce){return console.log("Update Offer: "+he),this.firestore.collection("Offers").doc(he).update(Ce)}getAllOfferTypes(){return this.firestore.collection("OfferTypes").valueChanges().pipe((0,I.U)(he=>{const Ce=he.map(De=>De.OfferType);return Array.from(new Set(Ce))}))}getOfferById(he){return this.firestore.collection("Offers").doc(he).valueChanges()}static#e=this.\u0275fac=function(Ce){return new(Ce||_e)(u.LFG(W.ST))};static#t=this.\u0275prov=u.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})()},614:(zt,$e,j)=>{j.d($e,{r:()=>ve});var I=j(7398),u=j(5879),W=j(7104);let ve=(()=>{class _e{constructor(he){this.firestore=he,this.servicesCollection=this.firestore.collection("Services")}getServices(){return this.firestore.collection("Services",he=>he.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,I.U)(he=>he.map(Ce=>{const De=Ce.payload.doc.data();return{id:Ce.payload.doc.id,...De}}))).pipe((0,I.U)(he=>he.filter(Ce=>1==Ce.Approved)))}getAllServices(){return this.firestore.collection("Services",he=>he.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,I.U)(he=>he.map(Ce=>{const De=Ce.payload.doc.data();return{id:Ce.payload.doc.id,...De}})))}getServiceById(he){return this.firestore.collection("Services").doc(he).valueChanges()}getServicesByType(he){return this.firestore.collection("Services",Ce=>Ce.where("Service_Type","==",he)).valueChanges()}getAllServiceTypes(){return this.firestore.collection("ListOfServices").valueChanges().pipe((0,I.U)(he=>{const Ce=he.map(De=>De.Name);return Array.from(new Set(Ce))}))}addService(he){const Ce=this.firestore.createId();return he.id=Ce,he.Date_Created=(new Date).toISOString(),this.firestore.collection("Services").doc(Ce).set(he),this.firestore.doc(`Services/${Ce}`).valueChanges().pipe((0,I.U)(De=>De?{id:Ce,...De}:void 0))}updateService(he,Ce){return console.log("update",he),Ce.Date_Updated=(new Date).toISOString(),this.firestore.collection("Services").doc(he).update(Ce),this.firestore.doc(`Services/${he}`).valueChanges().pipe((0,I.U)(De=>De?{id:he,...De}:void 0))}static#e=this.\u0275fac=function(Ce){return new(Ce||_e)(u.LFG(W.ST))};static#t=this.\u0275prov=u.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})()},8266:(zt,$e,j)=>{j.d($e,{d:()=>we});var I=j(5879),u=j(7104);let W=(()=>{class he{constructor(De){this.firestore=De}getAnalytics(){return this.firestore.collection("analytics").valueChanges()}static#e=this.\u0275fac=function(ue){return new(ue||he)(I.LFG(u.ST))};static#t=this.\u0275prov=I.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"})}return he})();var ve=j(6814);function _e(he,Ce){if(1&he&&(I.TgZ(0,"tr")(1,"td"),I._uU(2),I.qZA(),I.TgZ(3,"td"),I._uU(4),I.ALo(5,"json"),I.qZA(),I.TgZ(6,"td"),I._uU(7),I.ALo(8,"date"),I.qZA()()),2&he){const De=Ce.$implicit;I.xp6(2),I.Oqu(De.page_path),I.xp6(2),I.Oqu(I.lcZ(5,3,De.query_params)),I.xp6(3),I.Oqu(I.xi3(8,5,De.timestamp,"medium"))}}let we=(()=>{class he{constructor(De){this.analyticsService=De,this.analyticsData=[]}ngOnInit(){this.analyticsService.getAnalytics().subscribe(De=>{this.analyticsData=De})}static#e=this.\u0275fac=function(ue){return new(ue||he)(I.Y36(W))};static#t=this.\u0275cmp=I.Xpm({type:he,selectors:[["app-analytics"]],decls:14,vars:1,consts:[[1,"container"],[1,"table"],[4,"ngFor","ngForOf"]],template:function(ue,ge){1&ue&&(I.TgZ(0,"div",0)(1,"h2"),I._uU(2,"Analytics Data"),I.qZA(),I.TgZ(3,"table",1)(4,"thead")(5,"tr")(6,"th"),I._uU(7,"Page Path"),I.qZA(),I.TgZ(8,"th"),I._uU(9,"Query Params"),I.qZA(),I.TgZ(10,"th"),I._uU(11,"Timestamp"),I.qZA()()(),I.TgZ(12,"tbody"),I.YNc(13,_e,9,8,"tr",2),I.qZA()()()),2&ue&&(I.xp6(13),I.Q6J("ngForOf",ge.analyticsData))},dependencies:[ve.sg,ve.Ts,ve.uU],styles:[".container[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2}"]})}return he})()},9747:(zt,$e,j)=>{var I=j(6593),u=j(5879),W=j(6814);let ve;try{ve=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ve=!1}let ue,_e=(()=>{class c{constructor(s){this._platformId=s,this.isBrowser=this._platformId?(0,W.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ve)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(h){return new(h||c)(u.LFG(u.Lbi))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();function Me(c){return function ge(){if(null==ue&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ue=!0}))}finally{ue=ue||!1}return ue}()?c:!!c.capture}function xi(c){return Array.isArray(c)?c:[c]}var Vo=j(8645),qi=j(2572),Ts=j(5211),dr=j(5592),Zt=j(8180),Mn=j(2181),gi=j(6321),lo=j(9360),Hr=j(8251);function ni(c,o=gi.z){return(0,lo.e)((s,h)=>{let g=null,P=null,$=null;const te=()=>{if(g){g.unsubscribe(),g=null;const ke=P;P=null,h.next(ke)}};function me(){const ke=$+c,yt=o.now();if(yt<ke)return g=this.schedule(void 0,ke-yt),void h.add(g);te()}s.subscribe((0,Hr.x)(h,ke=>{P=ke,$=o.now(),g||(g=o.schedule(me,c),h.add(g))},()=>{te(),h.complete()},void 0,()=>{P=g=null}))})}var Yn=j(7398),Zi=j(7921),cs=j(9773);const Ji=new Set;let tr,vi=(()=>{class c{constructor(s,h){this._platform=s,this._nonce=h,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Xi}matchMedia(s){return(this._platform.WEBKIT||this._platform.BLINK)&&function Ln(c,o){if(!Ji.has(c))try{tr||(tr=document.createElement("style"),o&&(tr.nonce=o),tr.setAttribute("type","text/css"),document.head.appendChild(tr)),tr.sheet&&(tr.sheet.insertRule(`@media ${c} {body{ }}`,0),Ji.add(c))}catch(s){console.error(s)}}(s,this._nonce),this._matchMedia(s)}static#e=this.\u0275fac=function(h){return new(h||c)(u.LFG(_e),u.LFG(u.Ojb,8))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();function Xi(c){return{matches:"all"===c||""===c,media:c,addListener:()=>{},removeListener:()=>{}}}let Ei=(()=>{class c{constructor(s,h){this._mediaMatcher=s,this._zone=h,this._queries=new Map,this._destroySubject=new Vo.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(s){return ls(xi(s)).some(g=>this._registerQuery(g).mql.matches)}observe(s){const g=ls(xi(s)).map($=>this._registerQuery($).observable);let P=(0,qi.a)(g);return P=(0,Ts.z)(P.pipe((0,Zt.q)(1)),P.pipe(function lr(c){return(0,Mn.h)((o,s)=>c<=s)}(1),ni(0))),P.pipe((0,Yn.U)($=>{const te={matches:!1,breakpoints:{}};return $.forEach(({matches:me,query:ke})=>{te.matches=te.matches||me,te.breakpoints[ke]=me}),te}))}_registerQuery(s){if(this._queries.has(s))return this._queries.get(s);const h=this._mediaMatcher.matchMedia(s),P={observable:new dr.y($=>{const te=me=>this._zone.run(()=>$.next(me));return h.addListener(te),()=>{h.removeListener(te)}}).pipe((0,Zi.O)(h),(0,Yn.U)(({matches:$})=>({query:s,matches:$})),(0,cs.R)(this._destroySubject)),mql:h};return this._queries.set(s,P),P}static#e=this.\u0275fac=function(h){return new(h||c)(u.LFG(vi),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();function ls(c){return c.map(o=>o.split(",")).reduce((o,s)=>o.concat(s)).map(o=>o.trim())}const Ys="cdk-high-contrast-black-on-white",Qs="cdk-high-contrast-white-on-black",Eo="cdk-high-contrast-active";let Fa=(()=>{class c{constructor(s,h){this._platform=s,this._document=h,this._breakpointSubscription=(0,u.f3M)(Ei).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const s=this._document.createElement("div");s.style.backgroundColor="rgb(1,2,3)",s.style.position="absolute",this._document.body.appendChild(s);const h=this._document.defaultView||window,g=h&&h.getComputedStyle?h.getComputedStyle(s):null,P=(g&&g.backgroundColor||"").replace(/ /g,"");switch(s.remove(),P){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const s=this._document.body.classList;s.remove(Eo,Ys,Qs),this._hasCheckedHighContrastMode=!0;const h=this.getHighContrastMode();1===h?s.add(Eo,Ys):2===h&&s.add(Eo,Qs)}}static#e=this.\u0275fac=function(h){return new(h||c)(u.LFG(_e),u.LFG(W.K0))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),Io=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})();const $r=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function nl(){return!0}});let R=(()=>{class c{constructor(s,h,g){this._sanityChecks=h,this._document=g,this._hasDoneGlobalChecks=!1,s._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(s){return!function Xe(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[s])}static#e=this.\u0275fac=function(h){return new(h||c)(u.LFG(Fa),u.LFG($r,8),u.LFG(W.K0))};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({imports:[Io,Io]})}return c})(),To=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({imports:[R,R]})}return c})();const Ou=Me({passive:!0,capture:!0});class Yl{constructor(){this._events=new Map,this._delegateEventHandler=o=>{const s=function Be(c){return c.composedPath?c.composedPath()[0]:c.target}(o);s&&this._events.get(o.type)?.forEach((h,g)=>{(g===s||g.contains(s))&&h.forEach(P=>P.handleEvent(o))})}}addHandler(o,s,h,g){const P=this._events.get(s);if(P){const $=P.get(h);$?$.add(g):P.set(h,new Set([g]))}else this._events.set(s,new Map([[h,new Set([g])]])),o.runOutsideAngular(()=>{document.addEventListener(s,this._delegateEventHandler,Ou)})}removeHandler(o,s,h){const g=this._events.get(o);if(!g)return;const P=g.get(s);P&&(P.delete(h),0===P.size&&g.delete(s),0===g.size&&(this._events.delete(o),document.removeEventListener(o,this._delegateEventHandler,Ou)))}}class Js{static#e=this._eventManager=new Yl;constructor(o,s,h,g){this._target=o,this._ngZone=s,this._platform=g,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,g.isBrowser&&(this._containerElement=Gi(h))}fadeInRipple(o,s,h={}){const g=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),P={...zo,...h.animation},$=h.radius||function Co(c,o,s){const h=Math.max(Math.abs(c-s.left),Math.abs(c-s.right)),g=Math.max(Math.abs(o-s.top),Math.abs(o-s.bottom));return Math.sqrt(h*h+g*g)}(o,s,g),te=o-g.left,me=s-g.top,ke=P.enterDuration,yt=document.createElement("div");yt.classList.add("mat-ripple-element"),yt.style.left=te-$+"px",yt.style.top=me-$+"px",yt.style.height=2*$+"px",yt.style.width=2*$+"px",null!=h.color&&(yt.style.backgroundColor=h.color),yt.style.transitionDuration=`${ke}ms`,this._containerElement.appendChild(yt);const Ft=window.getComputedStyle(yt),gn=Ft.transitionDuration,tn="none"===Ft.transitionProperty||"0s"===gn||"0s, 0s"===gn||0===g.width&&0===g.height,nn=new fs(this,yt,h,tn);yt.style.transform="scale3d(1, 1, 1)",nn.state=0,h.persistent||(this._mostRecentTransientRipple=nn);return!tn&&(ke||P.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ar=()=>this._finishRippleTransition(nn),Kr=()=>this._destroyRipple(nn);yt.addEventListener("transitionend",Ar),yt.addEventListener("transitioncancel",Kr)}),this._activeRipples.set(nn,null),(tn||!ke)&&this._finishRippleTransition(nn),nn}fadeOutRipple(o){if(2===o.state||3===o.state)return;const s=o.element,h={...zo,...o.config.animation};s.style.transitionDuration=`${h.exitDuration}ms`,s.style.opacity="0",o.state=2,(o._animationForciblyDisabledThroughCss||!h.exitDuration)&&this._finishRippleTransition(o)}fadeOutAll(){this._getActiveRipples().forEach(o=>o.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(o=>{o.config.persistent||o.fadeOut()})}setupTriggerEvents(o){const s=Gi(o);!this._platform.isBrowser||!s||s===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=s,uc.forEach(h=>{Js._eventManager.addHandler(this._ngZone,h,s,this)}))}handleEvent(o){"mousedown"===o.type?this._onMousedown(o):"touchstart"===o.type?this._onTouchStart(o):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Nu.forEach(s=>{this._triggerElement.addEventListener(s,this,rl)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(o){0===o.state?this._startFadeOutTransition(o):2===o.state&&this._destroyRipple(o)}_startFadeOutTransition(o){const s=o===this._mostRecentTransientRipple,{persistent:h}=o.config;o.state=1,!h&&(!s||!this._isPointerDown)&&o.fadeOut()}_destroyRipple(o){const s=this._activeRipples.get(o)??null;this._activeRipples.delete(o),this._activeRipples.size||(this._containerRect=null),o===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),o.state=3,null!==s&&(o.element.removeEventListener("transitionend",s.onTransitionEnd),o.element.removeEventListener("transitioncancel",s.onTransitionCancel)),o.element.remove()}_onMousedown(o){const s=function Zl(c){return 0===c.buttons||0===c.detail}(o),h=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!s&&!h&&(this._isPointerDown=!0,this.fadeInRipple(o.clientX,o.clientY,this._target.rippleConfig))}_onTouchStart(o){if(!this._target.rippleDisabled&&!function rc(c){const o=c.touches&&c.touches[0]||c.changedTouches&&c.changedTouches[0];return!(!o||-1!==o.identifier||null!=o.radiusX&&1!==o.radiusX||null!=o.radiusY&&1!==o.radiusY)}(o)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const s=o.changedTouches;if(s)for(let h=0;h<s.length;h++)this.fadeInRipple(s[h].clientX,s[h].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(o=>{!o.config.persistent&&(1===o.state||o.config.terminateOnPointerUp&&0===o.state)&&o.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const o=this._triggerElement;o&&(uc.forEach(s=>Js._eventManager.removeHandler(s,o,this)),this._pointerUpEventsRegistered&&Nu.forEach(s=>o.removeEventListener(s,this,rl)))}}let xr=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({imports:[R,W.ez,R]})}return c})();var zn=j(2096),Xs=(j(8504),j(7453)),So=j(4829),fc=j(4564),ho=j(7400),Fu=j(2714);function rs(...c){const o=(0,fc.jO)(c),{args:s,keys:h}=(0,Xs.D)(c),g=new dr.y(P=>{const{length:$}=s;if(!$)return void P.complete();const te=new Array($);let me=$,ke=$;for(let yt=0;yt<$;yt++){let Ft=!1;(0,So.Xf)(s[yt]).subscribe((0,Hr.x)(P,sn=>{Ft||(Ft=!0,ke--),te[yt]=sn},()=>me--,void 0,()=>{(!me||!Ft)&&(ke||P.next(h?(0,Fu.n)(h,te):te),P.complete())}))}});return o?g.pipe((0,ho.Z)(o)):g}j(9397),j(6306);var sf=j(4716);j(3020),j(6328);let _l=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({imports:[R,R]})}return c})(),po=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({imports:[To,R,To,R]})}return c})();var Or=j(3914),Ac=j(3375),Ea=j(8924);function If(c,o){1&c&&(u.TgZ(0,"span",12),u._uU(1,"\u2605"),u.qZA())}function El(c,o){1&c&&(u.TgZ(0,"p"),u._uU(1,"Oferta a expirat"),u.qZA())}function Il(c,o){1&c&&(u.TgZ(0,"p"),u._uU(1,"Oferta este valabil\u0101"),u.qZA())}function bf(c,o){if(1&c&&(u.TgZ(0,"div")(1,"a",13),u._UZ(2,"img",14),u.qZA(),u._UZ(3,"br"),u._uU(4," Facebook"),u.qZA()),2&c){const s=u.oxw();u.xp6(1),u.s9C("href",s.offer.Facebook,u.LSH)}}function Wp(c,o){if(1&c&&(u.TgZ(0,"div")(1,"a",13),u._UZ(2,"img",15),u.qZA(),u._UZ(3,"br"),u._uU(4," Instagram"),u.qZA()),2&c){const s=u.oxw();u.xp6(1),u.MGl("href","https://www.instagram.com/",s.offer.Instagram,"",u.LSH)}}function hh(c,o){if(1&c&&(u.TgZ(0,"div")(1,"a",16),u._UZ(2,"img",17),u.qZA(),u._UZ(3,"br"),u._uU(4," Email"),u.qZA()),2&c){const s=u.oxw();u.xp6(1),u.MGl("href","mailto:",s.offer.Email,"",u.LSH)}}function Tf(c,o){if(1&c&&(u.TgZ(0,"div")(1,"a",13),u._UZ(2,"img",18),u.qZA(),u._UZ(3,"br"),u._uU(4," Website"),u.qZA()),2&c){const s=u.oxw();u.xp6(1),u.s9C("href",s.offer.Website,u.LSH)}}let $a=(()=>{class c{constructor(s){this.router=s,this.currentImageIndex=1}ngOnInit(){this.offer.Image1||(this.offer.Image1="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/dafaultImage.jpg"),this.offer.Image2||(this.offer.Image2="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/dafaultImage.jpg"),this.offer.Image3||(this.offer.Image3="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/dafaultImage.jpg"),this.offer.Image4||(this.offer.Image4="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/dafaultImage.jpg"),this.offer.Image5||(this.offer.Image5="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/dafaultImage.jpg"),this.startImageCarousel()}startImageCarousel(){setInterval(()=>{this.currentImageIndex=this.currentImageIndex%5+1},3e3)}nextImage(){this.currentImageIndex=this.currentImageIndex%5+1}prevImage(){this.currentImageIndex=(this.currentImageIndex-2+5)%5+1}navigateToDetails(){console.log("Navigating to details:",this.offer.id),this.router.navigate(["/offers",this.offer.id])}static#e=this.\u0275fac=function(h){return new(h||c)(u.Y36(Or.F0))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-offer-card"]],inputs:{offer:"offer"},decls:56,vars:21,consts:[[1,"offer-card"],[1,"carousel"],[1,"prev",3,"click"],[1,"next",3,"click"],[1,"image-container"],[3,"src","alt"],[1,"offer-details"],["class","sponsor-icon",4,"ngIf"],[4,"ngIf"],[3,"click"],[1,"offer-footer"],[1,"social-icons"],[1,"sponsor-icon"],["target","_blank",3,"href"],["src","../../../assets/images/SVG/facebook-icon.svg"],["src","../../../assets/images/SVG/instagram-icon.svg"],[3,"href"],["src","../../../assets/images/SVG/email-icon.svg"],["src","../../../assets/images/SVG/browser-icon.svg"]],template:function(h,g){1&h&&(u.TgZ(0,"div",0)(1,"div",1)(2,"button",2),u.NdJ("click",function(){return g.prevImage()}),u._uU(3,"\u276e"),u.qZA(),u.TgZ(4,"button",3),u.NdJ("click",function(){return g.nextImage()}),u._uU(5,"\u276f"),u.qZA(),u.TgZ(6,"div",4),u._UZ(7,"img",5),u.qZA()(),u.TgZ(8,"div",6)(9,"h3"),u._uU(10),u.qZA(),u.YNc(11,If,2,0,"span",7),u.TgZ(12,"p")(13,"strong"),u._uU(14,"Compania:"),u.qZA(),u._uU(15),u.qZA(),u.TgZ(16,"p")(17,"strong"),u._uU(18,"Persona de contact:"),u.qZA(),u._uU(19),u.qZA(),u._UZ(20,"hr"),u.TgZ(21,"p")(22,"strong"),u._uU(23,"Numar de Tel:"),u.qZA(),u._uU(24),u.qZA(),u.TgZ(25,"p")(26,"strong"),u._uU(27,"Locatie:"),u.qZA(),u._uU(28),u.qZA(),u.TgZ(29,"p")(30,"strong"),u._uU(31,"Descriiere:"),u.qZA(),u._uU(32),u.qZA(),u.TgZ(33,"p")(34,"strong"),u._uU(35,"Pret:"),u.qZA(),u._uU(36),u.qZA(),u.TgZ(37,"p")(38,"strong"),u._uU(39,"Tip de ofert\u0101:"),u.qZA(),u._uU(40),u.qZA(),u.TgZ(41,"p")(42,"strong"),u._uU(43,"Creata pe data de:"),u.qZA(),u._uU(44),u.ALo(45,"date"),u.qZA(),u.YNc(46,El,2,0,"p",8),u.YNc(47,Il,2,0,"p",8),u.TgZ(48,"button",9),u.NdJ("click",function(){return g.navigateToDetails()}),u._uU(49,"Detalii"),u.qZA()(),u.TgZ(50,"div",10)(51,"div",11),u.YNc(52,bf,5,1,"div",8),u.YNc(53,Wp,5,1,"div",8),u.YNc(54,hh,5,1,"div",8),u.YNc(55,Tf,5,1,"div",8),u.qZA()()()),2&h&&(u.xp6(7),u.MGl("alt","Image ",g.currentImageIndex,""),u.Q6J("src",g.offer["Image"+g.currentImageIndex],u.LSH),u.xp6(3),u.Oqu(g.offer.Title),u.xp6(1),u.Q6J("ngIf",g.offer.Community_Sponsor),u.xp6(4),u.hij(" ",g.offer.Company_Name,""),u.xp6(4),u.hij(" ",g.offer.Contact_Name,""),u.xp6(5),u.hij(" ",g.offer.Phone_Number,""),u.xp6(4),u.hij(" ",g.offer.Location,""),u.xp6(4),u.Oqu(g.offer.Description),u.xp6(4),u.Oqu(g.offer.Price),u.xp6(4),u.Oqu(g.offer.OfferType),u.xp6(4),u.hij(" ",u.xi3(45,18,g.offer.Date_Created,"shortDate"),""),u.xp6(2),u.Q6J("ngIf",g.offer.Filled),u.xp6(1),u.Q6J("ngIf",!g.offer.Filled),u.xp6(5),u.Q6J("ngIf",g.offer.Facebook),u.xp6(1),u.Q6J("ngIf",g.offer.Instagram),u.xp6(1),u.Q6J("ngIf",g.offer.Email),u.xp6(1),u.Q6J("ngIf",g.offer.Website))},dependencies:[W.O5,W.uU],styles:[".offer-card[_ngcontent-%COMP%]{width:400px;min-height:550px;border-radius:8px;overflow:hidden;box-shadow:0 4px 8px #0000001a;transition:transform .3s;height:800px;position:relative;background-color:#fafafa}.offer-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.carousel[_ngcontent-%COMP%]{position:relative;width:100%;overflow:hidden}.carousel-inner[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;flex-shrink:0}.image-container[_ngcontent-%COMP%]{width:400px;height:250px;overflow:hidden;display:flex;justify-content:center;align-items:center}.prev[_ngcontent-%COMP%], .next[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background-color:#00000080;color:#fff;border:none;padding:10px;cursor:pointer;border-radius:50%}.prev[_ngcontent-%COMP%]{left:10px}.next[_ngcontent-%COMP%]{right:10px}.offer-details[_ngcontent-%COMP%]{padding:15px}.offer-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.offer-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.offer-footer[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:400px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px;color:gold}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}"]})}return c})();function bl(c,o){if(1&c&&(u.TgZ(0,"div",7),u._UZ(1,"img",8),u.qZA()),2&c){const s=u.oxw();u.xp6(1),u.s9C("alt",s.event.Name),u.Q6J("src",s.event.Poster_Image,u.LSH)}}function fh(c,o){1&c&&(u.TgZ(0,"div",9)(1,"span",10),u._uU(2,"Event Expired"),u.qZA()())}let Cf=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-event-card"]],inputs:{event:"event"},decls:44,vars:19,consts:[[1,"event-card"],["class","event-image",4,"ngIf"],[1,"event-details"],[1,"card-title"],["target","_blank",3,"href"],[1,"card-subtitle"],["class","card-expired",4,"ngIf"],[1,"event-image"],[3,"src","alt"],[1,"card-expired"],[1,""]],template:function(h,g){1&h&&(u.TgZ(0,"div",0),u.YNc(1,bl,2,2,"div",1),u.TgZ(2,"div",2)(3,"div",3),u._uU(4),u.qZA(),u.TgZ(5,"p")(6,"strong"),u._uU(7,"Location:"),u.qZA(),u._uU(8),u.qZA(),u.TgZ(9,"p")(10,"strong"),u._uU(11,"Date:"),u.qZA(),u._uU(12),u.ALo(13,"date"),u.qZA(),u.TgZ(14,"p")(15,"strong"),u._uU(16,"Time:"),u.qZA(),u._uU(17),u.qZA(),u.TgZ(18,"p")(19,"strong"),u._uU(20,"Price:"),u.qZA(),u._uU(21),u.qZA(),u.TgZ(22,"p")(23,"strong"),u._uU(24,"Contact:"),u.qZA(),u._uU(25),u.qZA(),u.TgZ(26,"p")(27,"strong"),u._uU(28,"Website:"),u.qZA(),u.TgZ(29,"a",4),u._uU(30),u.qZA()(),u.TgZ(31,"p")(32,"strong"),u._uU(33,"Facebook:"),u.qZA(),u.TgZ(34,"a",4),u._uU(35),u.qZA()(),u.TgZ(36,"p")(37,"strong"),u._uU(38,"Instagram:"),u.qZA(),u.TgZ(39,"a",4),u._uU(40),u.qZA()(),u.TgZ(41,"div",5),u._uU(42),u.qZA(),u.YNc(43,fh,3,0,"div",6),u.qZA()()),2&h&&(u.xp6(1),u.Q6J("ngIf",g.event.Poster_Image),u.xp6(3),u.Oqu(g.event.Name),u.xp6(4),u.hij(" ",g.event.Location,""),u.xp6(4),u.hij(" ",u.xi3(13,16,g.event.Event_Date,"longDate"),""),u.xp6(5),u.hij(" ",g.event.Time,""),u.xp6(4),u.hij(" ",g.event.Price,""),u.xp6(4),u.AsE(" ",g.event.Contact," - ",g.event.Phone_Number,""),u.xp6(4),u.Q6J("href",g.event.Website,u.LSH),u.xp6(1),u.Oqu(g.event.Website),u.xp6(4),u.Q6J("href",g.event.Facebook,u.LSH),u.xp6(1),u.Oqu(g.event.Facebook),u.xp6(4),u.Q6J("href",g.event.Instagram,u.LSH),u.xp6(1),u.Oqu(g.event.Instagram),u.xp6(2),u.Oqu(g.event.Description),u.xp6(1),u.Q6J("ngIf",g.event.Expired))},dependencies:[W.O5,W.uU],styles:[".event-card[_ngcontent-%COMP%]{width:400px;min-height:550px;border-radius:8px;overflow:hidden;display:flex;flex-direction:column;margin:16px;box-shadow:0 4px 8px #0000001a;background-color:#fafafa}.event-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.event-details[_ngcontent-%COMP%]{padding:16px}.event-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.event-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0}.event-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.event-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.service-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:10px;padding:40px;width:calc(25% - 32px);box-sizing:border-box;position:relative;min-width:400px}.card-header[_ngcontent-%COMP%]{text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333}.card-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-top:4px}.card-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:gold}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}.services-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:30px;padding:30px}.services-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.services-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px;font-size:1rem}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}.add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.services-control[_ngcontent-%COMP%]{flex-direction:column}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}"]})}return c})();function H_(c,o){1&c&&u._UZ(0,"app-event-card",25),2&c&&u.Q6J("event",o.$implicit)}function Kp(c,o){1&c&&u._UZ(0,"app-offer-card",26),2&c&&u.Q6J("offer",o.$implicit)}function ph(c,o){if(1&c&&(u.TgZ(0,"li",27)(1,"a",28),u._uU(2),u.qZA()()),2&c){const s=o.$implicit;u.xp6(1),u.s9C("href",s.url,u.LSH),u.xp6(1),u.Oqu(s.name)}}let Yp=(()=>{class c{constructor(s,h,g){this.eventService=s,this.offersService=h,this.router=g,this.resourceLinks=[{name:"Ambasada Romaniei in SUA",url:"https://washington.mae.ro/"},{name:"Ambasada SUA in Romania",url:"https://ro.usembassy.gov/"},{name:"American Romanian Cultural Society",url:"www.arcsproject.org"},{name:"Biserica Sfintii Trei Ierarhi",url:"http://www.ortodox.org/"},{name:"Romanian United Foundation",url:"https://www.romanianunitedfund.org/"}],this.events=[],this.offers=[]}ngOnInit(){this.eventService.getEvents().subscribe(s=>{this.events=s}),this.offersService.getOffers().subscribe(s=>{this.offers=s})}navigateToAddEvent(){this.router.navigate(["/add-event"])}static#e=this.\u0275fac=function(h){return new(h||c)(u.Y36(Ac.n),u.Y36(Ea.b),u.Y36(Or.F0))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-home"]],decls:97,vars:3,consts:[[1,"container"],[1,"hero"],[1,"container","hero-content"],[1,"hero-text"],["href","https://www.facebook.com/groups/RomaniinSeattle"],["href","https://www.facebook.com/groups/RomaniinSeattle",1,"btn"],[1,"hero-image"],["src","../../../assets/images/Seattle-Romania.png","alt","Seattle"],[1,"community-description"],[1,"community-descriptions"],[1,"description-card"],[1,"sharedContent-Section"],[1,"services-container"],[3,"event",4,"ngFor","ngForOf"],[1,"offer-list"],[3,"offer",4,"ngFor","ngForOf"],[1,"resource-consulate"],["target","_blank","href","http://newyork.mae.ro/"],["target","_blank","href","http://chicago.mae.ro/"],["target","_blank","href","http://losangeles.mae.ro/"],["target","_blank","href","http://miami.mae.ro/"],[1,"resources-section"],[1,"section-header"],[1,"resource-list"],["class","resource-item",4,"ngFor","ngForOf"],[3,"event"],[3,"offer"],[1,"resource-item"],["target","_blank",3,"href"]],template:function(h,g){1&h&&(u.TgZ(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"h1"),u._uU(5,"Bine ati venit in comunitatea "),u.TgZ(6,"a",4),u._uU(7,"Romani in Seattle"),u.qZA()(),u.TgZ(8,"p"),u._uU(9,"Servictii, oferte si evenimente pentru persoanele care locuiesc in zona Seattle."),u.qZA(),u.TgZ(10,"a",5),u._uU(11,"Join our Facebook Group"),u.qZA()(),u.TgZ(12,"div",6),u._UZ(13,"img",7),u.qZA()()(),u.TgZ(14,"section",8)(15,"div",0)(16,"h2"),u._uU(17,"Despre communitatea noastra"),u.qZA(),u.TgZ(18,"p"),u._uU(19,'Scopul al acestui website este de a beneficia Romani \xeen Seattle, prin schimbul de informa\u021bii utile si in acela\u0219i timp promov\xe2nd Companiile Romane\u0219ti din zona Seattle la \xa0Comunitatea Romaneasca de aici. Acesta a \xeenceput pe facebook prin grupul "Romani \xeen Seattle\u201d care acum con\u021bine peste 3700 de membri.'),u.qZA()()(),u.TgZ(20,"div",9)(21,"div",10)(22,"h2"),u._uU(23,"Evenimente"),u.qZA(),u.TgZ(24,"p"),u._uU(25,"Al\u0103tura\u021bi-v\u0103 nou\u0103 pentru o varietate de evenimente care reunesc comunitatea. De la festivaluri la ateliere, exist\u0103 ceva pentru toat\u0103 lumea."),u.qZA()(),u.TgZ(26,"div",10)(27,"h2"),u._uU(28,"Servicii"),u.qZA(),u.TgZ(29,"p"),u._uU(30,"Sprijini\u021bi-ne afacerile locale \u0219i descoperi\u021bi produse \u0219i servicii unice oferite de membrii comunit\u0103\u021bii."),u.qZA()(),u.TgZ(31,"div",10)(32,"h2"),u._uU(33,"Oportunit\u0103\u021bi si Oferte"),u.qZA(),u.TgZ(34,"p"),u._uU(35,"Implica\u021bi-v\u0103 \u0219i face\u021bi o diferen\u021b\u0103 prin voluntariat pentru diverse proiecte \u0219i ini\u021biative comunitare."),u.qZA()(),u.TgZ(36,"div",10)(37,"h2"),u._uU(38,"Resurse"),u.qZA(),u.TgZ(39,"p"),u._uU(40,"Accesa\u021bi resurse \u0219i servicii valoroase oferite de comunitate at\xe2t pentru reziden\u021bi, c\xe2t \u0219i pentru vizitatori."),u.qZA()()(),u.TgZ(41,"div",11)(42,"h1"),u._uU(43,"Evenimente"),u.qZA(),u.TgZ(44,"div",12),u.YNc(45,H_,1,1,"app-event-card",13),u.qZA()(),u.TgZ(46,"div",11)(47,"h1"),u._uU(48,"Oportunit\u0103\u021bi si Oferte"),u.qZA(),u.TgZ(49,"div",14),u.YNc(50,Kp,1,1,"app-offer-card",15),u.qZA()(),u.TgZ(51,"div",11)(52,"h1"),u._uU(53,"Resurse"),u.qZA(),u.TgZ(54,"section",16)(55,"div",9)(56,"div",10)(57,"h2"),u._uU(58,"Consulatul Rom\xe2niei la New York"),u.qZA(),u.TgZ(59,"h3"),u._uU(60,"CONSUL GENERAL: doamna Mihaela-Simona FLOREA"),u.qZA(),u.TgZ(61,"p"),u._uU(62,"Adres\u0103: 200 East 38th Street, New York, NY 10016"),u.qZA(),u.TgZ(63,"a",17),u._uU(64,"http://newyork.mae.ro/"),u.qZA()(),u.TgZ(65,"div",10)(66,"h2"),u._uU(67,"Consulatul Rom\xe2niei la Chicago"),u.qZA(),u.TgZ(68,"h3"),u._uU(69,"CONSUL GENERAL: "),u.qZA(),u.TgZ(70,"p"),u._uU(71,"Adres\u0103: 737 North Michigan Avenue, Suite 2300, Chicago, IL 60611"),u.qZA(),u.TgZ(72,"a",18),u._uU(73,"http://chicago.mae.ro/"),u.qZA()(),u.TgZ(74,"div",10)(75,"h2"),u._uU(76,"Consulatul Rom\xe2niei la Los Angeles"),u.qZA(),u.TgZ(77,"h3"),u._uU(78,"CONSUL GENERAL: doamna Lucia SAVA"),u.qZA(),u.TgZ(79,"p"),u._uU(80,"Adres\u0103: 11766 Wilshire Blvd. Suite 200, Los Angeles CA 90025"),u.qZA(),u.TgZ(81,"a",19),u._uU(82,"http://losangeles.mae.ro/"),u.qZA()(),u.TgZ(83,"div",10)(84,"h2"),u._uU(85,"Consulatul Rom\xe2niei la Miami"),u.qZA(),u.TgZ(86,"h3"),u._uU(87,"CONSUL GENERAL: doamna Elena-GabrielA EREMIA"),u.qZA(),u.TgZ(88,"p"),u._uU(89,"Adres\u0103: 1101 Brickell Ave, suite N 600, Miami, FL 33131"),u.qZA(),u.TgZ(90,"a",20),u._uU(91,"http://miami.mae.ro/"),u.qZA()()()()(),u.TgZ(92,"section",21)(93,"h2",22),u._uU(94,"Resurse utile pentru comunitate"),u.qZA(),u.TgZ(95,"ul",23),u.YNc(96,ph,3,2,"li",24),u.qZA()()()),2&h&&(u.xp6(45),u.Q6J("ngForOf",g.events),u.xp6(5),u.Q6J("ngForOf",g.offers),u.xp6(46),u.Q6J("ngForOf",g.resourceLinks))},dependencies:[W.sg,$a,Cf],styles:[".container[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px;margin-bottom:20px}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px;color:var(--button-color)}.hero[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;background-color:#f5f5f5;padding:6rem 0 0rem}.hero-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.hero-text[_ngcontent-%COMP%]{flex:1;padding:0 2rem}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1.5rem}.btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;padding:.75rem 1.5rem;text-decoration:none;border-radius:5px;font-size:1rem}.hero-image[_ngcontent-%COMP%]{flex:1}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.community-description[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;padding:2rem 0;text-align:center}.community-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.community-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin:0 auto;max-width:800px;color:#f5f5f5}@media (max-width: 768px){.hero[_ngcontent-%COMP%]{flex-direction:column}.hero-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.hero-text[_ngcontent-%COMP%]{margin-bottom:2rem}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}}.community-descriptions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;padding:40px 20px}.description-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:20px;padding:20px;width:300px;text-align:center}.description-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--button-color);margin-bottom:10px}.description-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:var(--button-color)}.description-card-group[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:20px;padding:20px;width:100%;text-align:center}.resource-list[_ngcontent-%COMP%]{list-style-type:none;padding:0}.resource-item[_ngcontent-%COMP%]{margin:10px 0}.resource-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--button-color);font-size:18px;transition:color .3s ease}.resource-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0056b3}a[_ngcontent-%COMP%]{color:inherit}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.service-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:10px;padding:40px;width:calc(25% - 32px);box-sizing:border-box;position:relative;min-width:400px}.card-header[_ngcontent-%COMP%]{text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333}.card-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-top:4px}.card-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:gold}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}.offers[_ngcontent-%COMP%], .offer-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.offer-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;overflow:hidden;box-shadow:0 4px 8px #0000001a;transition:transform .3s;max-width:400px;height:800px;position:relative;text-align:left}.offer-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.carousel[_ngcontent-%COMP%]{position:relative;width:100%;overflow:hidden}.carousel-inner[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;flex-shrink:0}.image-container[_ngcontent-%COMP%]{width:400px;height:250px;overflow:hidden;display:flex;justify-content:center;align-items:center}.prev[_ngcontent-%COMP%], .next[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background-color:#00000080;color:#fff;border:none;padding:10px;cursor:pointer;border-radius:50%}.prev[_ngcontent-%COMP%]{left:10px}.next[_ngcontent-%COMP%]{right:10px}.offer-details[_ngcontent-%COMP%]{padding:15px}.offer-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.offer-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.offer-footer[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}.featured[_ngcontent-%COMP%]{color:#007bff;font-weight:700}.sharedContent-Section[_ngcontent-%COMP%]{padding:50px 0}.button-container[_ngcontent-%COMP%]{text-align:center}.fb-button[_ngcontent-%COMP%]{background-color:var(--button-bg-color);color:var(--button-text-color);padding:10px 20px;border-radius:5px;text-decoration:none;font-size:18px;display:inline-flex;align-items:center;transition:background-color .3s}.fb-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;font-size:20px}.fb-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-bg-color)}"]})}return c})();var wf=j(614),za=j(2459);let su=(()=>{class c{constructor(s,h){this._renderer=s,this._elementRef=h,this.onChange=g=>{},this.onTouched=()=>{}}setProperty(s,h){this._renderer.setProperty(this._elementRef.nativeElement,s,h)}registerOnTouched(s){this.onTouched=s}registerOnChange(s){this.onChange=s}setDisabledState(s){this.setProperty("disabled",s)}static#e=this.\u0275fac=function(h){return new(h||c)(u.Y36(u.Qsj),u.Y36(u.SBq))};static#t=this.\u0275dir=u.lG2({type:c})}return c})(),Ia=(()=>{class c extends su{static#e=this.\u0275fac=function(){let s;return function(g){return(s||(s=u.n5z(c)))(g||c)}}();static#t=this.\u0275dir=u.lG2({type:c,features:[u.qOj]})}return c})();const Ga=new u.OlP("NgValueAccessor"),$_={provide:Ga,useExisting:(0,u.Gpc)(()=>Tl),multi:!0},z_=new u.OlP("CompositionEventMode");let Tl=(()=>{class c extends su{constructor(s,h,g){super(s,h),this._compositionMode=g,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function dm(){const c=(0,W.q)()?(0,W.q)().getUserAgent():"";return/android (\d+)/.test(c.toLowerCase())}())}writeValue(s){this.setProperty("value",s??"")}_handleInput(s){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(s)}_compositionStart(){this._composing=!0}_compositionEnd(s){this._composing=!1,this._compositionMode&&this.onChange(s)}static#e=this.\u0275fac=function(h){return new(h||c)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(z_,8))};static#t=this.\u0275dir=u.lG2({type:c,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(h,g){1&h&&u.NdJ("input",function($){return g._handleInput($.target.value)})("blur",function(){return g.onTouched()})("compositionstart",function(){return g._compositionStart()})("compositionend",function($){return g._compositionEnd($.target.value)})},features:[u._Bn([$_]),u.qOj]})}return c})();function ou(c){return null==c||("string"==typeof c||Array.isArray(c))&&0===c.length}function Af(c){return null!=c&&"number"==typeof c.length}const no=new u.OlP("NgValidators"),Dc=new u.OlP("NgAsyncValidators"),Ro=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class bi{static min(o){return function hm(c){return o=>{if(ou(o.value)||ou(c))return null;const s=parseFloat(o.value);return!isNaN(s)&&s<c?{min:{min:c,actual:o.value}}:null}}(o)}static max(o){return function mh(c){return o=>{if(ou(o.value)||ou(c))return null;const s=parseFloat(o.value);return!isNaN(s)&&s>c?{max:{max:c,actual:o.value}}:null}}(o)}static required(o){return Ds(o)}static requiredTrue(o){return function au(c){return!0===c.value?null:{required:!0}}(o)}static email(o){return function Df(c){return ou(c.value)||Ro.test(c.value)?null:{email:!0}}(o)}static minLength(o){return function Sf(c){return o=>ou(o.value)||!Af(o.value)?null:o.value.length<c?{minlength:{requiredLength:c,actualLength:o.value.length}}:null}(o)}static maxLength(o){return function Wu(c){return o=>Af(o.value)&&o.value.length>c?{maxlength:{requiredLength:c,actualLength:o.value.length}}:null}(o)}static pattern(o){return function Sc(c){if(!c)return _h;let o,s;return"string"==typeof c?(s="","^"!==c.charAt(0)&&(s+="^"),s+=c,"$"!==c.charAt(c.length-1)&&(s+="$"),o=new RegExp(s)):(s=c.toString(),o=c),h=>{if(ou(h.value))return null;const g=h.value;return o.test(g)?null:{pattern:{requiredPattern:s,actualValue:g}}}}(o)}static nullValidator(o){return null}static compose(o){return yh(o)}static composeAsync(o){return lu(o)}}function Ds(c){return ou(c.value)?{required:!0}:null}function _h(c){return null}function cu(c){return null!=c}function Ku(c){return(0,u.QGY)(c)?(0,za.D)(c):c}function Jp(c){let o={};return c.forEach(s=>{o=null!=s?{...o,...s}:o}),0===Object.keys(o).length?null:o}function Yu(c,o){return o.map(s=>s(c))}function Xp(c){return c.map(o=>function Sv(c){return!c.validate}(o)?o:s=>o.validate(s))}function yh(c){if(!c)return null;const o=c.filter(cu);return 0==o.length?null:function(s){return Jp(Yu(s,o))}}function Mf(c){return null!=c?yh(Xp(c)):null}function lu(c){if(!c)return null;const o=c.filter(cu);return 0==o.length?null:function(s){return rs(Yu(s,o).map(Ku)).pipe((0,Yn.U)(Jp))}}function Pf(c){return null!=c?lu(Xp(c)):null}function G_(c,o){return null===c?[o]:Array.isArray(c)?[...c,o]:[c,o]}function fm(c){return c._rawValidators}function Rf(c){return c._rawAsyncValidators}function vh(c){return c?Array.isArray(c)?c:[c]:[]}function Mc(c,o){return Array.isArray(c)?c.includes(o):c===o}function Qu(c,o){const s=vh(o);return vh(c).forEach(g=>{Mc(s,g)||s.push(g)}),s}function pm(c,o){return vh(o).filter(s=>!Mc(c,s))}class xf{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(o){this._rawValidators=o||[],this._composedValidatorFn=Mf(this._rawValidators)}_setAsyncValidators(o){this._rawAsyncValidators=o||[],this._composedAsyncValidatorFn=Pf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(o){this._onDestroyCallbacks.push(o)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(o=>o()),this._onDestroyCallbacks=[]}reset(o=void 0){this.control&&this.control.reset(o)}hasError(o,s){return!!this.control&&this.control.hasError(o,s)}getError(o,s){return this.control?this.control.getError(o,s):null}}class Ss extends xf{get formDirective(){return null}get path(){return null}}class Cl extends xf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gm{constructor(o){this._cd=o}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ju=(()=>{class c extends gm{constructor(s){super(s)}static#e=this.\u0275fac=function(h){return new(h||c)(u.Y36(Cl,2))};static#t=this.\u0275dir=u.lG2({type:c,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(h,g){2&h&&u.ekj("ng-untouched",g.isUntouched)("ng-touched",g.isTouched)("ng-pristine",g.isPristine)("ng-dirty",g.isDirty)("ng-valid",g.isValid)("ng-invalid",g.isInvalid)("ng-pending",g.isPending)},features:[u.qOj]})}return c})(),Eh=(()=>{class c extends gm{constructor(s){super(s)}static#e=this.\u0275fac=function(h){return new(h||c)(u.Y36(Ss,10))};static#t=this.\u0275dir=u.lG2({type:c,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(h,g){2&h&&u.ekj("ng-untouched",g.isUntouched)("ng-touched",g.isTouched)("ng-pristine",g.isPristine)("ng-dirty",g.isDirty)("ng-valid",g.isValid)("ng-invalid",g.isInvalid)("ng-pending",g.isPending)("ng-submitted",g.isSubmitted)},features:[u.qOj]})}return c})();const ed="VALID",Ih="INVALID",wl="PENDING",du="DISABLED";function Al(c){return(nd(c)?c.validators:c)||null}function td(c,o){return(nd(o)?o.asyncValidators:c)||null}function nd(c){return null!=c&&!Array.isArray(c)&&"object"==typeof c}function bh(c,o,s){const h=c.controls;if(!(o?Object.keys(h):h).length)throw new u.vHH(1e3,"");if(!h[s])throw new u.vHH(1001,"")}function hu(c,o,s){c._forEachChild((h,g)=>{if(void 0===s[g])throw new u.vHH(1002,"")})}class Dl{constructor(o,s){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(o),this._assignAsyncValidators(s)}get validator(){return this._composedValidatorFn}set validator(o){this._rawValidators=this._composedValidatorFn=o}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(o){this._rawAsyncValidators=this._composedAsyncValidatorFn=o}get parent(){return this._parent}get valid(){return this.status===ed}get invalid(){return this.status===Ih}get pending(){return this.status==wl}get disabled(){return this.status===du}get enabled(){return this.status!==du}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(o){this._assignValidators(o)}setAsyncValidators(o){this._assignAsyncValidators(o)}addValidators(o){this.setValidators(Qu(o,this._rawValidators))}addAsyncValidators(o){this.setAsyncValidators(Qu(o,this._rawAsyncValidators))}removeValidators(o){this.setValidators(pm(o,this._rawValidators))}removeAsyncValidators(o){this.setAsyncValidators(pm(o,this._rawAsyncValidators))}hasValidator(o){return Mc(this._rawValidators,o)}hasAsyncValidator(o){return Mc(this._rawAsyncValidators,o)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(o={}){this.touched=!0,this._parent&&!o.onlySelf&&this._parent.markAsTouched(o)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(o=>o.markAllAsTouched())}markAsUntouched(o={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(s=>{s.markAsUntouched({onlySelf:!0})}),this._parent&&!o.onlySelf&&this._parent._updateTouched(o)}markAsDirty(o={}){this.pristine=!1,this._parent&&!o.onlySelf&&this._parent.markAsDirty(o)}markAsPristine(o={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(s=>{s.markAsPristine({onlySelf:!0})}),this._parent&&!o.onlySelf&&this._parent._updatePristine(o)}markAsPending(o={}){this.status=wl,!1!==o.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!o.onlySelf&&this._parent.markAsPending(o)}disable(o={}){const s=this._parentMarkedDirty(o.onlySelf);this.status=du,this.errors=null,this._forEachChild(h=>{h.disable({...o,onlySelf:!0})}),this._updateValue(),!1!==o.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...o,skipPristineCheck:s}),this._onDisabledChange.forEach(h=>h(!0))}enable(o={}){const s=this._parentMarkedDirty(o.onlySelf);this.status=ed,this._forEachChild(h=>{h.enable({...o,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:o.emitEvent}),this._updateAncestors({...o,skipPristineCheck:s}),this._onDisabledChange.forEach(h=>h(!1))}_updateAncestors(o){this._parent&&!o.onlySelf&&(this._parent.updateValueAndValidity(o),o.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(o){this._parent=o}getRawValue(){return this.value}updateValueAndValidity(o={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ed||this.status===wl)&&this._runAsyncValidator(o.emitEvent)),!1!==o.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!o.onlySelf&&this._parent.updateValueAndValidity(o)}_updateTreeValidity(o={emitEvent:!0}){this._forEachChild(s=>s._updateTreeValidity(o)),this.updateValueAndValidity({onlySelf:!0,emitEvent:o.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?du:ed}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(o){if(this.asyncValidator){this.status=wl,this._hasOwnPendingAsyncValidator=!0;const s=Ku(this.asyncValidator(this));this._asyncValidationSubscription=s.subscribe(h=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(h,{emitEvent:o})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(o,s={}){this.errors=o,this._updateControlsErrors(!1!==s.emitEvent)}get(o){let s=o;return null==s||(Array.isArray(s)||(s=s.split(".")),0===s.length)?null:s.reduce((h,g)=>h&&h._find(g),this)}getError(o,s){const h=s?this.get(s):this;return h&&h.errors?h.errors[o]:null}hasError(o,s){return!!this.getError(o,s)}get root(){let o=this;for(;o._parent;)o=o._parent;return o}_updateControlsErrors(o){this.status=this._calculateStatus(),o&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(o)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?du:this.errors?Ih:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wl)?wl:this._anyControlsHaveStatus(Ih)?Ih:ed}_anyControlsHaveStatus(o){return this._anyControls(s=>s.status===o)}_anyControlsDirty(){return this._anyControls(o=>o.dirty)}_anyControlsTouched(){return this._anyControls(o=>o.touched)}_updatePristine(o={}){this.pristine=!this._anyControlsDirty(),this._parent&&!o.onlySelf&&this._parent._updatePristine(o)}_updateTouched(o={}){this.touched=this._anyControlsTouched(),this._parent&&!o.onlySelf&&this._parent._updateTouched(o)}_registerOnCollectionChange(o){this._onCollectionChange=o}_setUpdateStrategy(o){nd(o)&&null!=o.updateOn&&(this._updateOn=o.updateOn)}_parentMarkedDirty(o){return!o&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(o){return null}_assignValidators(o){this._rawValidators=Array.isArray(o)?o.slice():o,this._composedValidatorFn=function K_(c){return Array.isArray(c)?Mf(c):c||null}(this._rawValidators)}_assignAsyncValidators(o){this._rawAsyncValidators=Array.isArray(o)?o.slice():o,this._composedAsyncValidatorFn=function ng(c){return Array.isArray(c)?Pf(c):c||null}(this._rawAsyncValidators)}}class rd extends Dl{constructor(o,s,h){super(Al(s),td(h,s)),this.controls=o,this._initObservables(),this._setUpdateStrategy(s),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(o,s){return this.controls[o]?this.controls[o]:(this.controls[o]=s,s.setParent(this),s._registerOnCollectionChange(this._onCollectionChange),s)}addControl(o,s,h={}){this.registerControl(o,s),this.updateValueAndValidity({emitEvent:h.emitEvent}),this._onCollectionChange()}removeControl(o,s={}){this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),delete this.controls[o],this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}setControl(o,s,h={}){this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),delete this.controls[o],s&&this.registerControl(o,s),this.updateValueAndValidity({emitEvent:h.emitEvent}),this._onCollectionChange()}contains(o){return this.controls.hasOwnProperty(o)&&this.controls[o].enabled}setValue(o,s={}){hu(this,0,o),Object.keys(o).forEach(h=>{bh(this,!0,h),this.controls[h].setValue(o[h],{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s)}patchValue(o,s={}){null!=o&&(Object.keys(o).forEach(h=>{const g=this.controls[h];g&&g.patchValue(o[h],{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s))}reset(o={},s={}){this._forEachChild((h,g)=>{h.reset(o?o[g]:null,{onlySelf:!0,emitEvent:s.emitEvent})}),this._updatePristine(s),this._updateTouched(s),this.updateValueAndValidity(s)}getRawValue(){return this._reduceChildren({},(o,s,h)=>(o[h]=s.getRawValue(),o))}_syncPendingControls(){let o=this._reduceChildren(!1,(s,h)=>!!h._syncPendingControls()||s);return o&&this.updateValueAndValidity({onlySelf:!0}),o}_forEachChild(o){Object.keys(this.controls).forEach(s=>{const h=this.controls[s];h&&o(h,s)})}_setUpControls(){this._forEachChild(o=>{o.setParent(this),o._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(o){for(const[s,h]of Object.entries(this.controls))if(this.contains(s)&&o(h))return!0;return!1}_reduceValue(){return this._reduceChildren({},(s,h,g)=>((h.enabled||this.disabled)&&(s[g]=h.value),s))}_reduceChildren(o,s){let h=o;return this._forEachChild((g,P)=>{h=s(h,g,P)}),h}_allControlsDisabled(){for(const o of Object.keys(this.controls))if(this.controls[o].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(o){return this.controls.hasOwnProperty(o)?this.controls[o]:null}}class rg extends rd{}const Pc=new u.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>fu}),fu="always";function pu(c,o){return[...o.path,c]}function Rc(c,o,s=fu){Ff(c,o),o.valueAccessor.writeValue(c.value),(c.disabled||"always"===s)&&o.valueAccessor.setDisabledState?.(c.disabled),function Em(c,o){o.valueAccessor.registerOnChange(s=>{c._pendingValue=s,c._pendingChange=!0,c._pendingDirty=!0,"change"===c.updateOn&&id(c,o)})}(c,o),function sg(c,o){const s=(h,g)=>{o.valueAccessor.writeValue(h),g&&o.viewToModelUpdate(h)};c.registerOnChange(s),o._registerOnDestroy(()=>{c._unregisterOnChange(s)})}(c,o),function wh(c,o){o.valueAccessor.registerOnTouched(()=>{c._pendingTouched=!0,"blur"===c.updateOn&&c._pendingChange&&id(c,o),"submit"!==c.updateOn&&c.markAsTouched()})}(c,o),function c0(c,o){if(o.valueAccessor.setDisabledState){const s=h=>{o.valueAccessor.setDisabledState(h)};c.registerOnDisabledChange(s),o._registerOnDestroy(()=>{c._unregisterOnDisabledChange(s)})}}(c,o)}function ig(c,o,s=!0){const h=()=>{};o.valueAccessor&&(o.valueAccessor.registerOnChange(h),o.valueAccessor.registerOnTouched(h)),Ch(c,o),c&&(o._invokeOnDestroyCallbacks(),c._registerOnCollectionChange(()=>{}))}function Th(c,o){c.forEach(s=>{s.registerOnValidatorChange&&s.registerOnValidatorChange(o)})}function Ff(c,o){const s=fm(c);null!==o.validator?c.setValidators(G_(s,o.validator)):"function"==typeof s&&c.setValidators([s]);const h=Rf(c);null!==o.asyncValidator?c.setAsyncValidators(G_(h,o.asyncValidator)):"function"==typeof h&&c.setAsyncValidators([h]);const g=()=>c.updateValueAndValidity();Th(o._rawValidators,g),Th(o._rawAsyncValidators,g)}function Ch(c,o){let s=!1;if(null!==c){if(null!==o.validator){const g=fm(c);if(Array.isArray(g)&&g.length>0){const P=g.filter($=>$!==o.validator);P.length!==g.length&&(s=!0,c.setValidators(P))}}if(null!==o.asyncValidator){const g=Rf(c);if(Array.isArray(g)&&g.length>0){const P=g.filter($=>$!==o.asyncValidator);P.length!==g.length&&(s=!0,c.setAsyncValidators(P))}}}const h=()=>{};return Th(o._rawValidators,h),Th(o._rawAsyncValidators,h),s}function id(c,o){c._pendingDirty&&c.markAsDirty(),c.setValue(c._pendingValue,{emitModelToViewChange:!1}),o.viewToModelUpdate(c._pendingValue),c._pendingChange=!1}function Lf(c,o){Ff(c,o)}function Ah(c,o){if(!c.hasOwnProperty("model"))return!1;const s=c.model;return!!s.isFirstChange()||!Object.is(o,s.currentValue)}function xc(c,o){c._syncPendingControls(),o.forEach(s=>{const h=s.control;"submit"===h.updateOn&&h._pendingChange&&(s.viewToModelUpdate(h._pendingValue),h._pendingChange=!1)})}function ba(c,o){if(!o)return null;let s,h,g;return Array.isArray(o),o.forEach(P=>{P.constructor===Tl?s=P:function bm(c){return Object.getPrototypeOf(c.constructor)===Ia}(P)?h=P:g=P}),g||h||s||null}const X_={provide:Ss,useExisting:(0,u.Gpc)(()=>Dh)},Oc=(()=>Promise.resolve())();let Dh=(()=>{class c extends Ss{constructor(s,h,g){super(),this.callSetDisabledState=g,this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new rd({},Mf(s),Pf(h))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(s){Oc.then(()=>{const h=this._findContainer(s.path);s.control=h.registerControl(s.name,s.control),Rc(s.control,s,this.callSetDisabledState),s.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(s)})}getControl(s){return this.form.get(s.path)}removeControl(s){Oc.then(()=>{const h=this._findContainer(s.path);h&&h.removeControl(s.name),this._directives.delete(s)})}addFormGroup(s){Oc.then(()=>{const h=this._findContainer(s.path),g=new rd({});Lf(g,s),h.registerControl(s.name,g),g.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(s){Oc.then(()=>{const h=this._findContainer(s.path);h&&h.removeControl(s.name)})}getFormGroup(s){return this.form.get(s.path)}updateModel(s,h){Oc.then(()=>{this.form.get(s.path).setValue(h)})}setValue(s){this.control.setValue(s)}onSubmit(s){return this.submitted=!0,xc(this.form,this._directives),this.ngSubmit.emit(s),"dialog"===s?.target?.method}onReset(){this.resetForm()}resetForm(s=void 0){this.form.reset(s),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(s){return s.pop(),s.length?this.form.get(s):this.form}static#e=this.\u0275fac=function(h){return new(h||c)(u.Y36(no,10),u.Y36(Dc,10),u.Y36(Pc,8))};static#t=this.\u0275dir=u.lG2({type:c,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(h,g){1&h&&u.NdJ("submit",function($){return g.onSubmit($)})("reset",function(){return g.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([X_]),u.qOj]})}return c})();function Uf(c,o){const s=c.indexOf(o);s>-1&&c.splice(s,1)}function Tm(c){return"object"==typeof c&&null!==c&&2===Object.keys(c).length&&"value"in c&&"disabled"in c}const Bf=class extends Dl{constructor(o=null,s,h){super(Al(s),td(h,s)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(o),this._setUpdateStrategy(s),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),nd(s)&&(s.nonNullable||s.initialValueIsDefault)&&(this.defaultValue=Tm(o)?o.value:o)}setValue(o,s={}){this.value=this._pendingValue=o,this._onChange.length&&!1!==s.emitModelToViewChange&&this._onChange.forEach(h=>h(this.value,!1!==s.emitViewToModelChange)),this.updateValueAndValidity(s)}patchValue(o,s={}){this.setValue(o,s)}reset(o=this.defaultValue,s={}){this._applyFormState(o),this.markAsPristine(s),this.markAsUntouched(s),this.setValue(this.value,s),this._pendingChange=!1}_updateValue(){}_anyControls(o){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(o){this._onChange.push(o)}_unregisterOnChange(o){Uf(this._onChange,o)}registerOnDisabledChange(o){this._onDisabledChange.push(o)}_unregisterOnDisabledChange(o){Uf(this._onDisabledChange,o)}_forEachChild(o){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(o){Tm(o)?(this.value=this._pendingValue=o.value,o.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=o}},Cm={provide:Cl,useExisting:(0,u.Gpc)(()=>zf)},wm=(()=>Promise.resolve())();let zf=(()=>{class c extends Cl{constructor(s,h,g,P,$,te){super(),this._changeDetectorRef=$,this.callSetDisabledState=te,this.control=new Bf,this._registered=!1,this.name="",this.update=new u.vpe,this._parent=s,this._setValidators(h),this._setAsyncValidators(g),this.valueAccessor=ba(0,P)}ngOnChanges(s){if(this._checkForErrors(),!this._registered||"name"in s){if(this._registered&&(this._checkName(),this.formDirective)){const h=s.name.previousValue;this.formDirective.removeControl({name:h,path:this._getPath(h)})}this._setUpControl()}"isDisabled"in s&&this._updateDisabled(s),Ah(s,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(s){this.viewModel=s,this.update.emit(s)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Rc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(s){wm.then(()=>{this.control.setValue(s,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(s){const h=s.isDisabled.currentValue,g=0!==h&&(0,u.VuI)(h);wm.then(()=>{g&&!this.control.disabled?this.control.disable():!g&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(s){return this._parent?pu(s,this._parent):[s]}static#e=this.\u0275fac=function(h){return new(h||c)(u.Y36(Ss,9),u.Y36(no,10),u.Y36(Dc,10),u.Y36(Ga,10),u.Y36(u.sBO,8),u.Y36(Pc,8))};static#t=this.\u0275dir=u.lG2({type:c,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([Cm]),u.qOj,u.TTD]})}return c})(),Qo=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275dir=u.lG2({type:c,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return c})(),cg=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})();const Ph=new u.OlP("NgModelWithFormControlWarning"),Uv={provide:Ss,useExisting:(0,u.Gpc)(()=>Ta)};let Ta=(()=>{class c extends Ss{constructor(s,h,g){super(),this.callSetDisabledState=g,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(s),this._setAsyncValidators(h)}ngOnChanges(s){this._checkFormPresent(),s.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ch(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(s){const h=this.form.get(s.path);return Rc(h,s,this.callSetDisabledState),h.updateValueAndValidity({emitEvent:!1}),this.directives.push(s),h}getControl(s){return this.form.get(s.path)}removeControl(s){ig(s.control||null,s,!1),function Nv(c,o){const s=c.indexOf(o);s>-1&&c.splice(s,1)}(this.directives,s)}addFormGroup(s){this._setUpFormContainer(s)}removeFormGroup(s){this._cleanUpFormContainer(s)}getFormGroup(s){return this.form.get(s.path)}addFormArray(s){this._setUpFormContainer(s)}removeFormArray(s){this._cleanUpFormContainer(s)}getFormArray(s){return this.form.get(s.path)}updateModel(s,h){this.form.get(s.path).setValue(h)}onSubmit(s){return this.submitted=!0,xc(this.form,this.directives),this.ngSubmit.emit(s),"dialog"===s?.target?.method}onReset(){this.resetForm()}resetForm(s=void 0){this.form.reset(s),this.submitted=!1}_updateDomValue(){this.directives.forEach(s=>{const h=s.control,g=this.form.get(s.path);h!==g&&(ig(h||null,s),(c=>c instanceof Bf)(g)&&(Rc(g,s,this.callSetDisabledState),s.control=g))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(s){const h=this.form.get(s.path);Lf(h,s),h.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(s){if(this.form){const h=this.form.get(s.path);h&&function Im(c,o){return Ch(c,o)}(h,s)&&h.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ff(this.form,this),this._oldForm&&Ch(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(h){return new(h||c)(u.Y36(no,10),u.Y36(Dc,10),u.Y36(Pc,8))};static#t=this.\u0275dir=u.lG2({type:c,selectors:[["","formGroup",""]],hostBindings:function(h,g){1&h&&u.NdJ("submit",function($){return g.onSubmit($)})("reset",function(){return g.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Uv]),u.qOj,u.TTD]})}return c})();const ny={provide:Cl,useExisting:(0,u.Gpc)(()=>od)};let od=(()=>{class c extends Cl{set isDisabled(s){}static#e=this._ngModelWarningSentOnce=!1;constructor(s,h,g,P,$){super(),this._ngModelWarningConfig=$,this._added=!1,this.name=null,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=s,this._setValidators(h),this._setAsyncValidators(g),this.valueAccessor=ba(0,P)}ngOnChanges(s){this._added||this._setUpControl(),Ah(s,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(s){this.viewModel=s,this.update.emit(s)}get path(){return pu(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(h){return new(h||c)(u.Y36(Ss,13),u.Y36(no,10),u.Y36(Dc,10),u.Y36(Ga,10),u.Y36(Ph,8))};static#n=this.\u0275dir=u.lG2({type:c,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([ny]),u.qOj,u.TTD]})}return c})();const ry={provide:Ga,useExisting:(0,u.Gpc)(()=>Ml),multi:!0};function hg(c,o){return null==c?`${o}`:(o&&"object"==typeof o&&(o="Object"),`${c}: ${o}`.slice(0,50))}let Ml=(()=>{class c extends Ia{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(s){this._compareWith=s}writeValue(s){this.value=s;const g=hg(this._getOptionId(s),s);this.setProperty("value",g)}registerOnChange(s){this.onChange=h=>{this.value=this._getOptionValue(h),s(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(s){for(const h of this._optionMap.keys())if(this._compareWith(this._optionMap.get(h),s))return h;return null}_getOptionValue(s){const h=function jv(c){return c.split(":")[0]}(s);return this._optionMap.has(h)?this._optionMap.get(h):s}static#e=this.\u0275fac=function(){let s;return function(g){return(s||(s=u.n5z(c)))(g||c)}}();static#t=this.\u0275dir=u.lG2({type:c,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(h,g){1&h&&u.NdJ("change",function($){return g.onChange($.target.value)})("blur",function(){return g.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([ry]),u.qOj]})}return c})(),Xn=(()=>{class c{constructor(s,h,g){this._element=s,this._renderer=h,this._select=g,this._select&&(this.id=this._select._registerOption())}set ngValue(s){null!=this._select&&(this._select._optionMap.set(this.id,s),this._setElementValue(hg(this.id,s)),this._select.writeValue(this._select.value))}set value(s){this._setElementValue(s),this._select&&this._select.writeValue(this._select.value)}_setElementValue(s){this._renderer.setProperty(this._element.nativeElement,"value",s)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(h){return new(h||c)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(Ml,9))};static#t=this.\u0275dir=u.lG2({type:c,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return c})();const Rh={provide:Ga,useExisting:(0,u.Gpc)(()=>is),multi:!0};function fg(c,o){return null==c?`${o}`:("string"==typeof o&&(o=`'${o}'`),o&&"object"==typeof o&&(o="Object"),`${c}: ${o}`.slice(0,50))}let is=(()=>{class c extends Ia{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(s){this._compareWith=s}writeValue(s){let h;if(this.value=s,Array.isArray(s)){const g=s.map(P=>this._getOptionId(P));h=(P,$)=>{P._setSelected(g.indexOf($.toString())>-1)}}else h=(g,P)=>{g._setSelected(!1)};this._optionMap.forEach(h)}registerOnChange(s){this.onChange=h=>{const g=[],P=h.selectedOptions;if(void 0!==P){const $=P;for(let te=0;te<$.length;te++){const ke=this._getOptionValue($[te].value);g.push(ke)}}else{const $=h.options;for(let te=0;te<$.length;te++){const me=$[te];if(me.selected){const ke=this._getOptionValue(me.value);g.push(ke)}}}this.value=g,s(g)}}_registerOption(s){const h=(this._idCounter++).toString();return this._optionMap.set(h,s),h}_getOptionId(s){for(const h of this._optionMap.keys())if(this._compareWith(this._optionMap.get(h)._value,s))return h;return null}_getOptionValue(s){const h=function xh(c){return c.split(":")[0]}(s);return this._optionMap.has(h)?this._optionMap.get(h)._value:s}static#e=this.\u0275fac=function(){let s;return function(g){return(s||(s=u.n5z(c)))(g||c)}}();static#t=this.\u0275dir=u.lG2({type:c,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(h,g){1&h&&u.NdJ("change",function($){return g.onChange($.target)})("blur",function(){return g.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([Rh]),u.qOj]})}return c})(),_i=(()=>{class c{constructor(s,h,g){this._element=s,this._renderer=h,this._select=g,this._select&&(this.id=this._select._registerOption(this))}set ngValue(s){null!=this._select&&(this._value=s,this._setElementValue(fg(this.id,s)),this._select.writeValue(this._select.value))}set value(s){this._select?(this._value=s,this._setElementValue(fg(this.id,s)),this._select.writeValue(this._select.value)):this._setElementValue(s)}_setElementValue(s){this._renderer.setProperty(this._element.nativeElement,"value",s)}_setSelected(s){this._renderer.setProperty(this._element.nativeElement,"selected",s)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(h){return new(h||c)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(is,9))};static#t=this.\u0275dir=u.lG2({type:c,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return c})(),kc=(()=>{class c{constructor(){this._validator=_h}ngOnChanges(s){if(this.inputName in s){const h=this.normalizeInput(s[this.inputName].currentValue);this._enabled=this.enabled(h),this._validator=this._enabled?this.createValidator(h):_h,this._onChange&&this._onChange()}}validate(s){return this._validator(s)}registerOnValidatorChange(s){this._onChange=s}enabled(s){return null!=s}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275dir=u.lG2({type:c,features:[u.TTD]})}return c})();const mg={provide:no,useExisting:(0,u.Gpc)(()=>xo),multi:!0};let xo=(()=>{class c extends kc{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=u.VuI,this.createValidator=s=>Ds}enabled(s){return s}static#e=this.\u0275fac=function(){let s;return function(g){return(s||(s=u.n5z(c)))(g||c)}}();static#t=this.\u0275dir=u.lG2({type:c,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(h,g){2&h&&u.uIk("required",g._enabled?"":null)},inputs:{required:"required"},features:[u._Bn([mg]),u.qOj]})}return c})(),Oh=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({imports:[cg]})}return c})();class oy extends Dl{constructor(o,s,h){super(Al(s),td(h,s)),this.controls=o,this._initObservables(),this._setUpdateStrategy(s),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(o){return this.controls[this._adjustIndex(o)]}push(o,s={}){this.controls.push(o),this._registerControl(o),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}insert(o,s,h={}){this.controls.splice(o,0,s),this._registerControl(s),this.updateValueAndValidity({emitEvent:h.emitEvent})}removeAt(o,s={}){let h=this._adjustIndex(o);h<0&&(h=0),this.controls[h]&&this.controls[h]._registerOnCollectionChange(()=>{}),this.controls.splice(h,1),this.updateValueAndValidity({emitEvent:s.emitEvent})}setControl(o,s,h={}){let g=this._adjustIndex(o);g<0&&(g=0),this.controls[g]&&this.controls[g]._registerOnCollectionChange(()=>{}),this.controls.splice(g,1),s&&(this.controls.splice(g,0,s),this._registerControl(s)),this.updateValueAndValidity({emitEvent:h.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(o,s={}){hu(this,0,o),o.forEach((h,g)=>{bh(this,!1,g),this.at(g).setValue(h,{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s)}patchValue(o,s={}){null!=o&&(o.forEach((h,g)=>{this.at(g)&&this.at(g).patchValue(h,{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s))}reset(o=[],s={}){this._forEachChild((h,g)=>{h.reset(o[g],{onlySelf:!0,emitEvent:s.emitEvent})}),this._updatePristine(s),this._updateTouched(s),this.updateValueAndValidity(s)}getRawValue(){return this.controls.map(o=>o.getRawValue())}clear(o={}){this.controls.length<1||(this._forEachChild(s=>s._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:o.emitEvent}))}_adjustIndex(o){return o<0?o+this.length:o}_syncPendingControls(){let o=this.controls.reduce((s,h)=>!!h._syncPendingControls()||s,!1);return o&&this.updateValueAndValidity({onlySelf:!0}),o}_forEachChild(o){this.controls.forEach((s,h)=>{o(s,h)})}_updateValue(){this.value=this.controls.filter(o=>o.enabled||this.disabled).map(o=>o.value)}_anyControls(o){return this.controls.some(s=>s.enabled&&o(s))}_setUpControls(){this._forEachChild(o=>this._registerControl(o))}_allControlsDisabled(){for(const o of this.controls)if(o.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(o){o.setParent(this),o._registerOnCollectionChange(this._onCollectionChange)}_find(o){return this.at(o)??null}}function gu(c){return!!c&&(void 0!==c.asyncValidators||void 0!==c.validators||void 0!==c.updateOn)}let Zf=(()=>{class c{constructor(){this.useNonNullable=!1}get nonNullable(){const s=new c;return s.useNonNullable=!0,s}group(s,h=null){const g=this._reduceControls(s);let P={};return gu(h)?P=h:null!==h&&(P.validators=h.validator,P.asyncValidators=h.asyncValidator),new rd(g,P)}record(s,h=null){const g=this._reduceControls(s);return new rg(g,h)}control(s,h,g){let P={};return this.useNonNullable?(gu(h)?P=h:(P.validators=h,P.asyncValidators=g),new Bf(s,{...P,nonNullable:!0})):new Bf(s,h,g)}array(s,h,g){const P=s.map($=>this._createControl($));return new oy(P,h,g)}_reduceControls(s){const h={};return Object.keys(s).forEach(g=>{h[g]=this._createControl(s[g])}),h}_createControl(s){return s instanceof Bf||s instanceof Dl?s:Array.isArray(s)?this.control(s[0],s.length>1?s[1]:null,s.length>2?s[2]:null):this.control(s)}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),Nh=(()=>{class c{static withConfig(s){return{ngModule:c,providers:[{provide:Pc,useValue:s.callSetDisabledState??fu}]}}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({imports:[Oh]})}return c})(),vg=(()=>{class c{static withConfig(s){return{ngModule:c,providers:[{provide:Ph,useValue:s.warnOnNgModelWithFormControl??"always"},{provide:Pc,useValue:s.callSetDisabledState??fu}]}}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({imports:[Oh]})}return c})();function ay(c){return c?/^https?:\/\//i.test(c)?c:`http://${c}`:""}function qv(c,o){1&c&&(u.TgZ(0,"span",15),u._uU(1,"\u2605"),u.qZA())}function Zv(c,o){if(1&c&&(u.TgZ(0,"div")(1,"a",16),u._UZ(2,"img",17),u.qZA(),u._UZ(3,"br"),u._uU(4," Facebook"),u.qZA()),2&c){const s=u.oxw();u.xp6(1),u.s9C("href",s.svc.Facebook,u.LSH)}}function Wv(c,o){if(1&c&&(u.TgZ(0,"div")(1,"a",16),u._UZ(2,"img",18),u.qZA(),u._UZ(3,"br"),u._uU(4," Instagram"),u.qZA()),2&c){const s=u.oxw();u.xp6(1),u.MGl("href","https://www.instagram.com/",s.svc.Instagram,"",u.LSH)}}function ld(c,o){if(1&c&&(u.TgZ(0,"div")(1,"a",19),u._UZ(2,"img",20),u.qZA(),u._UZ(3,"br"),u._uU(4," Email"),u.qZA()),2&c){const s=u.oxw();u.xp6(1),u.MGl("href","mailto:",s.svc.Email,"",u.LSH)}}function Kv(c,o){if(1&c&&(u.TgZ(0,"div")(1,"a",16),u._UZ(2,"img",21),u.qZA(),u._UZ(3,"br"),u._uU(4," Website"),u.qZA()),2&c){const s=u.oxw();u.xp6(1),u.s9C("href",s.svc.Website,u.LSH)}}let Pl=(()=>{class c{constructor(s){this.router=s}ngOnInit(){(void 0===this.svc.Image||""==this.svc.Image)&&(this.svc.Image="https://firebasestorage.googleapis.com/v0/b/romaniinseattle.appspot.com/o/serviceImages%2FdafaultImage.jpg?alt=media&token=3b0787df-12f0-444a-a426-013843534f1e"),this.svc.Website=ay(this.svc.Website)}viewDetails(){this.router.navigate(["/services",this.svc.id])}static#e=this.\u0275fac=function(h){return new(h||c)(u.Y36(Or.F0))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-service-card"]],inputs:{svc:"svc"},decls:23,vars:11,consts:[[1,"service-card"],[1,"service-card-image-container"],[1,"service-card-image",3,"src","alt"],[1,"service-card-content"],[1,"card-header"],[1,"card-title"],["class","sponsor-icon",4,"ngIf"],[1,"card-subtitle","service_type"],[1,"card-subtitle","contact_info"],[1,"card-description"],[1,"card-button"],[3,"click"],[1,"card-footer"],[1,"social-icons"],[4,"ngIf"],[1,"sponsor-icon"],["target","_blank",3,"href"],["src","../../../assets/images/SVG/facebook-icon.svg"],["src","../../../assets/images/SVG/instagram-icon.svg"],[3,"href"],["src","../../../assets/images/SVG/email-icon.svg"],["src","../../../assets/images/SVG/browser-icon.svg"]],template:function(h,g){1&h&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"img",2),u.qZA(),u.TgZ(3,"div",3)(4,"div",4)(5,"div",5),u._uU(6),u.YNc(7,qv,2,0,"span",6),u.qZA(),u.TgZ(8,"div",7),u._uU(9),u.qZA(),u.TgZ(10,"div",8),u._uU(11),u.qZA(),u.TgZ(12,"div",9),u._uU(13),u.qZA(),u.TgZ(14,"div",10)(15,"button",11),u.NdJ("click",function(){return g.viewDetails()}),u._uU(16,"Detalii"),u.qZA()()(),u.TgZ(17,"div",12)(18,"div",13),u.YNc(19,Zv,5,1,"div",14),u.YNc(20,Wv,5,1,"div",14),u.YNc(21,ld,5,1,"div",14),u.YNc(22,Kv,5,1,"div",14),u.qZA()()()()),2&h&&(u.xp6(2),u.s9C("alt",g.svc.Name),u.Q6J("src",g.svc.Image,u.LSH),u.xp6(4),u.Oqu(g.svc.Name),u.xp6(1),u.Q6J("ngIf",g.svc.Community_Sponsor),u.xp6(2),u.Oqu(g.svc.Service_Type),u.xp6(2),u.Oqu(g.svc.Phone_Number),u.xp6(2),u.Oqu(g.svc.Description),u.xp6(6),u.Q6J("ngIf",g.svc.Facebook),u.xp6(1),u.Q6J("ngIf",g.svc.Instagram),u.xp6(1),u.Q6J("ngIf",g.svc.Email),u.xp6(1),u.Q6J("ngIf",g.svc.Website))},dependencies:[W.O5],styles:[".service-card[_ngcontent-%COMP%]{background-color:#fafafa;width:400px;min-height:550px;display:flex;flex-direction:column;justify-content:space-between;border-radius:8px;box-shadow:0 4px 8px #00000080;margin:10px;padding:40px;box-sizing:border-box;position:relative}.service-card-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:5px}.service-card-image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover;border:2px solid #ddd}.card-header[_ngcontent-%COMP%]{text-align:center;margin:25px}.card-title[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:500;font-style:bold;font-size:1.7rem;font-weight:700;color:#333;line-height:1.2}.card-subtitle[_ngcontent-%COMP%]{font-family:Catamaran,sans-serif;font-optical-sizing:auto;font-weight:400;font-style:normal;font-size:1rem;color:#666;margin-top:4px}.card-description[_ngcontent-%COMP%]{text-align:left;font-family:Catamaran,sans-serif;font-optical-sizing:auto;font-weight:400;font-style:normal;color:#666;margin-top:4px;overflow:hidden;-webkit-box-orient:vertical;display:block;display:-webkit-box;overflow:hidden!important;text-overflow:ellipsis;-webkit-line-clamp:4}.service_type[_ngcontent-%COMP%]{text-transform:uppercase;padding:1rem 0}.contact_info[_ngcontent-%COMP%]{padding:0 0 1rem;font-size:1.2rem}.card-footer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 480px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 100px);min-width:175px;margin:2px;padding:2px;min-height:150px;min-height:330px}.card-title[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:100;font-style:bold;font-size:.9rem;font-weight:400;color:#333;line-height:1;padding:0;margin:0}.card-subtitle[_ngcontent-%COMP%]{font-family:Catamaran,sans-serif;font-optical-sizing:auto;font-weight:100;font-style:normal;color:#666;margin-top:1px}.card-description[_ngcontent-%COMP%]{display:none}.service_type[_ngcontent-%COMP%]{text-transform:uppercase;padding:0;font-size:.5rem}.card-footer[_ngcontent-%COMP%]{display:none}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:175px}.service-footer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}.services-control[_ngcontent-%COMP%]{flex-direction:column}@media screen and (max-width: 960px) and(min-width:480px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}.service-card-front[_ngcontent-%COMP%]{background-color:#fff;color:#000}.service-card-content[_ngcontent-%COMP%]{padding:0}.service-date[_ngcontent-%COMP%]{font-size:12px;color:#f1c40f}.service-footer[_ngcontent-%COMP%]{margin-top:10px}.featured[_ngcontent-%COMP%]{font-weight:700;color:#f39c12}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:400px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000}#browser-icon[_ngcontent-%COMP%]{fill:red;stroke:#000}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px;color:gold}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}"]})}return c})();function kh(c,o){if(1&c&&(u.TgZ(0,"option",14),u._uU(1),u.qZA()),2&c){const s=o.$implicit;u.Q6J("value",s),u.xp6(1),u.Oqu(s)}}function Fc(c,o){1&c&&u._UZ(0,"app-service-card",15),2&c&&u.Q6J("svc",o.$implicit)}let Eg=(()=>{class c{constructor(s,h,g){this.servicesService=s,this.route=h,this.router=g,this.services=[],this.filteredServices=[],this.serviceTypes=[],this.selectedServiceType=""}ngOnInit(){this.route.queryParams.subscribe(s=>{this.selectedServiceType=s.serviceType||""}),this.filterServices(this.selectedServiceType)}navigateToAddService(){this.router.navigate(["/add-service"])}handleChange(s){const{target:h}=s;return h&&console.log(h.value),h.value}fetchServiceTypes(){console.log("FetchServiceTypes Function"),this.servicesService.getAllServiceTypes().subscribe(s=>{this.serviceTypes=s,s.forEach(h=>{})}),console.log("Number of Service Types returned by the database : "+this.serviceTypes.length)}onFilterChange(s){console.log("Filter changed:",s),this.router.navigate([],{relativeTo:this.route,queryParams:{serviceType:s},queryParamsHandling:"merge"}),this.filterServices(s)}filterServices(s){console.log("Filter Serices: "+s),this.fetchServiceTypes(),s&&""!==s?this.servicesService.getServicesByType(s).subscribe(h=>{this.services=h.filter(g=>g.Approved),this.filteredServices=h.filter(g=>g.Approved),console.log("Number of Services returned by the Database :  "+this.services.length)}):this.servicesService.getServices().subscribe(h=>{this.services=h.filter(g=>g.Approved),this.filteredServices=h.filter(g=>g.Approved),console.log("Number of Services returned by the Database :  "+this.services.length)})}extractServiceTypes(){this.serviceTypes=[...new Set(this.services.map(s=>s.Service_Type))]}shareLink(){const h=this.router.url.split("?")[1]||"";navigator.clipboard.writeText("https://romaniinseattle.web.app/services"+(h?"?"+h:"")).then(()=>{alert("Link copied to clipboard!")},P=>{console.error("Could not copy text: ",P)})}static#e=this.\u0275fac=function(h){return new(h||c)(u.Y36(wf.r),u.Y36(Or.gz),u.Y36(Or.F0))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-services"]],decls:24,vars:3,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"services-control"],[1,"service-control-container"],["for","service-type"],["id","service-type",1,"filter-dropdown",3,"ngModel","change","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[2,"min-width","150px",3,"click"],[1,"share-button",3,"click"],[1,"fas","fa-share-alt"],[1,"services-container"],[3,"svc",4,"ngFor","ngForOf"],[3,"value"],[3,"svc"]],template:function(h,g){1&h&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._uU(3,"Lista de Servicii"),u.qZA()(),u.TgZ(4,"div",2)(5,"h2"),u._uU(6,"Descoperi\u021bi serviciile oferite de membrii comunit\u0103\u021bii"),u.qZA()()(),u.TgZ(7,"div",3)(8,"div",4)(9,"label",5),u._uU(10,"Filtra\u021bi lista dup\u0103 tipul serviciului: "),u.qZA()(),u.TgZ(11,"div",4)(12,"select",6),u.NdJ("change",function($){return g.onFilterChange(g.handleChange($))})("ngModelChange",function($){return g.selectedServiceType=$}),u.TgZ(13,"option",7),u._uU(14,"Toate serviciile"),u.qZA(),u.YNc(15,kh,2,2,"option",8),u.qZA()(),u.TgZ(16,"div",4)(17,"button",9),u.NdJ("click",function(){return g.navigateToAddService()}),u._uU(18,"Adaugati un Serviciu"),u.qZA()(),u.TgZ(19,"button",10),u.NdJ("click",function(){return g.shareLink()}),u._UZ(20,"i",11),u._uU(21," Share "),u.qZA()(),u.TgZ(22,"div",12),u.YNc(23,Fc,1,1,"app-service-card",13),u.qZA()),2&h&&(u.xp6(12),u.Q6J("ngModel",g.selectedServiceType),u.xp6(3),u.Q6J("ngForOf",g.serviceTypes),u.xp6(8),u.Q6J("ngForOf",g.filteredServices))},dependencies:[W.sg,Xn,_i,Ml,Ju,zf,Pl],styles:[".hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.services-control[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px;padding:20px;flex-wrap:wrap}.service-control-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:5px;padding:5px}.services-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.services-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px;font-size:1rem}.add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}label[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:16px;text-transform:uppercase}.filter-dropdown[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:16px;text-transform:uppercase;cursor:pointer}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;padding:1rem}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:3rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1rem;text-align:center}}"]})}return c})(),Wf=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-rules"]],decls:32,vars:0,consts:[[1,"hero-section"],[1,"overlay"],[1,"content"],["href","#",1,"cta-button"]],template:function(h,g){1&h&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"h1"),u._uU(4,"Regulile \u0219i Reglement\u0103rile"),u.qZA(),u.TgZ(5,"p"),u._uU(6,"Apreciem cooperarea \u0219i \xeen\u021belegerea dvs. \xeen respectarea regulilor grupului nostru."),u.qZA(),u.TgZ(7,"a",3),u._uU(8,"Get Started"),u.qZA()()(),u.TgZ(9,"h2"),u._uU(10,"Regulile \u0219i Reglement\u0103rile"),u.qZA(),u.TgZ(11,"ul")(12,"li"),u._uU(13,"Nu este permis\u0103 nicio form\u0103 de publicitate."),u.qZA(),u.TgZ(14,"li"),u._uU(15,"Respecta\u021bi to\u021bi membrii."),u.qZA(),u.TgZ(16,"li"),u._uU(17,"F\u0103r\u0103 spam."),u.qZA(),u.TgZ(18,"li"),u._uU(19,"F\u0103r\u0103 limbaj ofensator."),u.qZA(),u.TgZ(20,"li"),u._uU(21,"R\u0103m\xe2ne\u021bi la subiect."),u.qZA(),u.TgZ(22,"li"),u._uU(23,"Raporta\u021bi \xeenc\u0103lc\u0103rile regulilor c\u0103tre administratori."),u.qZA(),u.TgZ(24,"li"),u._uU(25,"Folosi\u021bi un limbaj adecvat."),u.qZA(),u.TgZ(26,"li"),u._uU(27,"F\u0103r\u0103 discursuri de ur\u0103 sau h\u0103r\u021buire."),u.qZA(),u.TgZ(28,"li"),u._uU(29,"Respecta\u021bi Standardele Comunit\u0103\u021bii Facebook."),u.qZA()(),u.TgZ(30,"p"),u._uU(31,"Dac\u0103 dori\u021bi s\u0103 v\u0103 oferi\u021bi serviciile comunit\u0103\u021bii, v\u0103 rug\u0103m s\u0103 trimite\u021bi detaliile serviciilor dumneavoastr\u0103 prin intermediul site-ului nostru. Un administrator va revizui trimiterea dvs. \u0219i o va ad\u0103uga \xeen grup c\xe2t mai cur\xe2nd posibil. Apreciem cooperarea \u0219i \xeen\u021belegerea dvs. \xeen respectarea regulilor grupului nostru."),u.qZA())},styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Arial,sans-serif;height:100%}.hero-section[_ngcontent-%COMP%]{position:relative;height:100vh;background:url(http://source.unsplash.com/800x600/?Seattle) no-repeat center center/cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#fff}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:3em;margin:.5em 0}p[_ngcontent-%COMP%]{font-size:1.5em;margin:.5em 0}.cta-button[_ngcontent-%COMP%]{display:inline-block;padding:.75em 1.5em;margin-top:1em;font-size:1.2em;color:#fff;background-color:#f60;border:none;border-radius:5px;text-decoration:none;cursor:pointer;transition:background-color .3s ease}.cta-button[_ngcontent-%COMP%]:hover{background-color:#e65c00}"]})}return c})();function ud(c,o){1&c&&u._UZ(0,"app-event-card",7),2&c&&u.Q6J("event",o.$implicit)}let Fh=(()=>{class c{constructor(s,h){this.eventService=s,this.router=h,this.events=[]}ngOnInit(){this.eventService.getEvents().subscribe(s=>{this.events=s})}navigateToAddEvent(){this.router.navigate(["/add-event"])}static#e=this.\u0275fac=function(h){return new(h||c)(u.Y36(Ac.n),u.Y36(Or.F0))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-events"]],decls:12,vars:1,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"add-service-container"],[3,"click"],[1,"services-container"],[3,"event",4,"ngFor","ngForOf"],[3,"event"]],template:function(h,g){1&h&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._uU(3,"Lista de Evenimente"),u.qZA()(),u.TgZ(4,"div",2)(5,"h2"),u._uU(6,"Descoperi\u021bi serviciile oferite de membrii comunit\u0103\u021bii"),u.qZA()()(),u.TgZ(7,"div",3)(8,"button",4),u.NdJ("click",function(){return g.navigateToAddEvent()}),u._uU(9,"Adaugati un Eveniment"),u.qZA()(),u.TgZ(10,"div",5),u.YNc(11,ud,1,1,"app-event-card",6),u.qZA()),2&h&&(u.xp6(11),u.Q6J("ngForOf",g.events))},dependencies:[W.sg,Cf],styles:[".hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.section-header[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;background-color:#f0f0f0}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:10px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.service-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:10px;padding:40px;width:calc(25% - 32px);box-sizing:border-box;position:relative;min-width:400px}.card-header[_ngcontent-%COMP%]{text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333}.card-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-top:4px}.card-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:gold}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}.services-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:30px;padding:30px}.services-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.services-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px;font-size:1rem}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}.add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.services-control[_ngcontent-%COMP%]{flex-direction:column}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}"]})}return c})();function _u(c,o){1&c&&u._UZ(0,"app-offer-card",7),2&c&&u.Q6J("offer",o.$implicit)}let Kf=(()=>{class c{constructor(s,h){this.offersService=s,this.router=h,this.offers=[]}ngOnInit(){this.offersService.getOffers().subscribe(s=>{console.log(s),this.offers=s})}navigateToAddOffer(){this.router.navigate(["/add-offers"])}static#e=this.\u0275fac=function(h){return new(h||c)(u.Y36(Ea.b),u.Y36(Or.F0))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-offers"]],decls:12,vars:1,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"add-service-container"],[3,"click"],[1,"offer-list"],[3,"offer",4,"ngFor","ngForOf"],[3,"offer"]],template:function(h,g){1&h&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._uU(3,"De toate pentru to\u021bi"),u.qZA()(),u.TgZ(4,"div",2)(5,"h2"),u._uU(6,"Descoperi\u021bi oferte de membrii comunit\u0103\u021bii"),u.qZA()()(),u.TgZ(7,"div",3)(8,"button",4),u.NdJ("click",function(){return g.navigateToAddOffer()}),u._uU(9,"Adaugati oferte"),u.qZA()(),u.TgZ(10,"div",5),u.YNc(11,_u,1,1,"app-offer-card",6),u.qZA()),2&h&&(u.xp6(11),u.Q6J("ngForOf",g.offers))},dependencies:[W.sg,$a],styles:[".hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(http://source.unsplash.com/800x600/?Seattle);background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.section-header[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;background-color:#f0f0f0}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:10px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.add-offer-container[_ngcontent-%COMP%], .add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}.offer-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;justify-content:center}.offers[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.offers-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.offers-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a;margin:15px;width:calc(25% - 32px);overflow:hidden;transition:transform .3s,box-shadow .3s;min-width:400px}.offers-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 12px 24px #0003}.offer-card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:180px;object-fit:cover}.offers-card-content[_ngcontent-%COMP%]{padding:20px;text-align:left}.offers-card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;font-size:22px;font-weight:600}.offers-card-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 10px;font-size:18px;color:#666;font-weight:400}.offers-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 10px;font-size:16px;color:#777}.offers-footer[_ngcontent-%COMP%]{text-align:right;margin-top:10px}.featured[_ngcontent-%COMP%]{color:#007bff;font-weight:700}@media (max-width: 1024px){.offer-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.offer-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}"]})}return c})();class Yf{constructor(){this.Name="",this.Phone_Number="",this.Email="",this.Description="",this.Website="",this.Facebook="",this.Instagram="",this.Date_Created="",this.Date_Updated="",this.Image="",this.Approved=!1,this.OpenHour="",this.CloseHour=""}}class dd extends Yf{constructor(){super(...arguments),this.id=""}}var Wr=j(1920),yu=j(4664),Oo=j(7217),Nm=j(3106),Za=j(5861),Lh=j(4303),go=j(9058),hd=j(4537);const Ig="firebasestorage.googleapis.com",Vh="storageBucket";class ci extends go.ZR{constructor(o,s,h=0){super(Fm(o),`Firebase Storage: ${s} (${Fm(o)})`),this.status_=h,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ci.prototype)}get status(){return this.status_}set status(o){this.status_=o}_codeEquals(o){return Fm(o)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(o){this.customData.serverResponse=o,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Jr=function(c){return c.UNKNOWN="unknown",c.OBJECT_NOT_FOUND="object-not-found",c.BUCKET_NOT_FOUND="bucket-not-found",c.PROJECT_NOT_FOUND="project-not-found",c.QUOTA_EXCEEDED="quota-exceeded",c.UNAUTHENTICATED="unauthenticated",c.UNAUTHORIZED="unauthorized",c.UNAUTHORIZED_APP="unauthorized-app",c.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",c.INVALID_CHECKSUM="invalid-checksum",c.CANCELED="canceled",c.INVALID_EVENT_NAME="invalid-event-name",c.INVALID_URL="invalid-url",c.INVALID_DEFAULT_BUCKET="invalid-default-bucket",c.NO_DEFAULT_BUCKET="no-default-bucket",c.CANNOT_SLICE_BLOB="cannot-slice-blob",c.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",c.NO_DOWNLOAD_URL="no-download-url",c.INVALID_ARGUMENT="invalid-argument",c.INVALID_ARGUMENT_COUNT="invalid-argument-count",c.APP_DELETED="app-deleted",c.INVALID_ROOT_OPERATION="invalid-root-operation",c.INVALID_FORMAT="invalid-format",c.INTERNAL_ERROR="internal-error",c.UNSUPPORTED_ENVIRONMENT="unsupported-environment",c}(Jr||{});function Fm(c){return"storage/"+c}function vu(){return new ci(Jr.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Um(){return new ci(Jr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function bg(){return new ci(Jr.CANCELED,"User canceled the upload/download.")}function fd(){return new ci(Jr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Uh(c){return new ci(Jr.INVALID_ARGUMENT,c)}function Bm(){return new ci(Jr.APP_DELETED,"The Firebase app was deleted.")}function jm(c){return new ci(Jr.INVALID_ROOT_OPERATION,"The operation '"+c+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function pd(c,o){return new ci(Jr.INVALID_FORMAT,"String does not match format '"+c+"': "+o)}function gd(c){throw new ci(Jr.INTERNAL_ERROR,"Internal error: "+c)}class _s{constructor(o,s){this.bucket=o,this.path_=s}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const o=encodeURIComponent;return"/b/"+o(this.bucket)+"/o/"+o(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(o,s){let h;try{h=_s.makeFromUrl(o,s)}catch{return new _s(o,"")}if(""===h.path)return h;throw function Tg(c){return new ci(Jr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+c+"'.")}(o)}static makeFromUrl(o,s){let h=null;const g="([A-Za-z0-9.\\-_]+)",te=new RegExp("^gs://"+g+"(/(.*))?$","i");function ke(Dr){Dr.path_=decodeURIComponent(Dr.path)}const Ft=s.replace(/[.]/g,"\\."),Ur=[{regex:te,indices:{bucket:1,path:3},postModify:function P(Dr){"/"===Dr.path.charAt(Dr.path.length-1)&&(Dr.path_=Dr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Ft}/v[A-Za-z0-9_]+/b/${g}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:ke},{regex:new RegExp(`^https?://${s===Ig?"(?:storage.googleapis.com|storage.cloud.google.com)":s}/${g}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:ke}];for(let Dr=0;Dr<Ur.length;Dr++){const ra=Ur[Dr],Rs=ra.regex.exec(o);if(Rs){let ko=Rs[ra.indices.path];ko||(ko=""),h=new _s(Rs[ra.indices.bucket],ko),ra.postModify(h);break}}if(null==h)throw function Jv(c){return new ci(Jr.INVALID_URL,"Invalid URL '"+c+"'.")}(o);return h}}class uy{constructor(o){this.promise_=Promise.reject(o)}getPromise(){return this.promise_}cancel(o=!1){}}function Hm(c){return"string"==typeof c||c instanceof String}function fy(c){return xl()&&c instanceof Blob}function xl(){return typeof Blob<"u"}function Ol(c,o,s,h){if(h<o)throw Uh(`Invalid value for '${c}'. Expected ${o} or greater.`);if(h>s)throw Uh(`Invalid value for '${c}'. Expected ${s} or less.`)}function wa(c,o,s){let h=o;return null==s&&(h=`https://${o}`),`${s}://${h}/v0${c}`}function Nl(c){const o=encodeURIComponent;let s="?";for(const h in c)c.hasOwnProperty(h)&&(s=s+(o(h)+"=")+o(c[h])+"&");return s=s.slice(0,-1),s}var md=function(c){return c[c.NO_ERROR=0]="NO_ERROR",c[c.NETWORK_ERROR=1]="NETWORK_ERROR",c[c.ABORT=2]="ABORT",c}(md||{});function Aa(c,o){const s=c>=500&&c<600,g=-1!==[408,429].indexOf(c),P=-1!==o.indexOf(c);return s||g||P}class py{constructor(o,s,h,g,P,$,te,me,ke,yt,Ft,sn=!0){this.url_=o,this.method_=s,this.headers_=h,this.body_=g,this.successCodes_=P,this.additionalRetryCodes_=$,this.callback_=te,this.errorCallback_=me,this.timeout_=ke,this.progressCallback_=yt,this.connectionFactory_=Ft,this.retry=sn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((gn,tn)=>{this.resolve_=gn,this.reject_=tn,this.start_()})}start_(){const s=(h,g)=>{const P=this.resolve_,$=this.reject_,te=g.connection;if(g.wasSuccessCode)try{const me=this.callback_(te,te.getResponse());!function g0(c){return void 0!==c}(me)?P():P(me)}catch(me){$(me)}else if(null!==te){const me=vu();me.serverResponse=te.getErrorText(),$(this.errorCallback_?this.errorCallback_(te,me):me)}else $(g.canceled?this.appDelete_?Bm():bg():Um())};this.canceled_?s(0,new Lc(!1,null,!0)):this.backoffId_=function Bh(c,o,s){let h=1,g=null,P=null,$=!1,te=0;function me(){return 2===te}let ke=!1;function yt(...En){ke||(ke=!0,o.apply(null,En))}function Ft(En){g=setTimeout(()=>{g=null,c(gn,me())},En)}function sn(){P&&clearTimeout(P)}function gn(En,...Ar){if(ke)return void sn();if(En)return sn(),void yt.call(null,En,...Ar);if(me()||$)return sn(),void yt.call(null,En,...Ar);let Ur;h<64&&(h*=2),1===te?(te=2,Ur=0):Ur=1e3*(h+Math.random()),Ft(Ur)}let tn=!1;function nn(En){tn||(tn=!0,sn(),!ke&&(null!==g?(En||(te=2),clearTimeout(g),Ft(0)):En||(te=1)))}return Ft(0),P=setTimeout(()=>{$=!0,nn(!0)},s),nn}((h,g)=>{if(g)return void h(!1,new Lc(!1,null,!0));const P=this.connectionFactory_();this.pendingConnection_=P;const $=te=>{null!==this.progressCallback_&&this.progressCallback_(te.loaded,te.lengthComputable?te.total:-1)};null!==this.progressCallback_&&P.addUploadProgressListener($),P.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&P.removeUploadProgressListener($),this.pendingConnection_=null;const te=P.getErrorCode()===md.NO_ERROR,me=P.getStatus();if(!te||Aa(me,this.additionalRetryCodes_)&&this.retry){const yt=P.getErrorCode()===md.ABORT;return void h(!1,new Lc(!1,null,yt))}const ke=-1!==this.successCodes_.indexOf(me);h(!0,new Lc(ke,P))})},s,this.timeout_)}getPromise(){return this.promise_}cancel(o){this.canceled_=!0,this.appDelete_=o||!1,null!==this.backoffId_&&function dy(c){c(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Lc{constructor(o,s,h){this.wasSuccessCode=o,this.connection=s,this.canceled=!!h}}function Gm(...c){const o=function eE(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==o){const s=new o;for(let h=0;h<c.length;h++)s.append(c[h]);return s.getBlob()}if(xl())return new Blob(c);throw new ci(Jr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Jo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class my{constructor(o,s){this.data=o,this.contentType=s||null}}function Ti(c,o){switch(c){case Jo.RAW:return new my(Ag(o));case Jo.BASE64:case Jo.BASE64URL:return new my(yy(c,o));case Jo.DATA_URL:return new my(function qm(c){const o=new vy(c);return o.base64?yy(Jo.BASE64,o.rest):function _y(c){let o;try{o=decodeURIComponent(c)}catch{throw pd(Jo.DATA_URL,"Malformed data URL.")}return Ag(o)}(o.rest)}(o),function Ey(c){return new vy(c).contentType}(o))}throw vu()}function Ag(c){const o=[];for(let s=0;s<c.length;s++){let h=c.charCodeAt(s);h<=127?o.push(h):h<=2047?o.push(192|h>>6,128|63&h):55296==(64512&h)?s<c.length-1&&56320==(64512&c.charCodeAt(s+1))?(h=65536|(1023&h)<<10|1023&c.charCodeAt(++s),o.push(240|h>>18,128|h>>12&63,128|h>>6&63,128|63&h)):o.push(239,191,189):56320==(64512&h)?o.push(239,191,189):o.push(224|h>>12,128|h>>6&63,128|63&h)}return new Uint8Array(o)}function yy(c,o){switch(c){case Jo.BASE64:{const g=-1!==o.indexOf("-"),P=-1!==o.indexOf("_");if(g||P)throw pd(c,"Invalid character '"+(g?"-":"_")+"' found: is it base64url encoded?");break}case Jo.BASE64URL:{const g=-1!==o.indexOf("+"),P=-1!==o.indexOf("/");if(g||P)throw pd(c,"Invalid character '"+(g?"+":"/")+"' found: is it base64 encoded?");o=o.replace(/-/g,"+").replace(/_/g,"/");break}}let s;try{s=function gy(c){if(typeof atob>"u")throw function ly(c){return new ci(Jr.UNSUPPORTED_ENVIRONMENT,`${c} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(c)}(o)}catch(g){throw g.message.includes("polyfill")?g:pd(c,"Invalid character found")}const h=new Uint8Array(s.length);for(let g=0;g<s.length;g++)h[g]=s.charCodeAt(g);return h}class vy{constructor(o){this.base64=!1,this.contentType=null;const s=o.match(/^data:([^,]+)?,/);if(null===s)throw pd(Jo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const h=s[1]||null;null!=h&&(this.base64=function Iy(c,o){return c.length>=o.length&&c.substring(c.length-o.length)===o}(h,";base64"),this.contentType=this.base64?h.substring(0,h.length-7):h),this.rest=o.substring(o.indexOf(",")+1)}}class kl{constructor(o,s){let h=0,g="";fy(o)?(this.data_=o,h=o.size,g=o.type):o instanceof ArrayBuffer?(s?this.data_=new Uint8Array(o):(this.data_=new Uint8Array(o.byteLength),this.data_.set(new Uint8Array(o))),h=this.data_.length):o instanceof Uint8Array&&(s?this.data_=o:(this.data_=new Uint8Array(o.length),this.data_.set(o)),h=o.length),this.size_=h,this.type_=g}size(){return this.size_}type(){return this.type_}slice(o,s){if(fy(this.data_)){const g=function Vc(c,o,s){return c.webkitSlice?c.webkitSlice(o,s):c.mozSlice?c.mozSlice(o,s):c.slice?c.slice(o,s):null}(this.data_,o,s);return null===g?null:new kl(g)}{const h=new Uint8Array(this.data_.buffer,o,s-o);return new kl(h,!0)}}static getBlob(...o){if(xl()){const s=o.map(h=>h instanceof kl?h.data_:h);return new kl(Gm.apply(null,s))}{const s=o.map($=>Hm($)?Ti(Jo.RAW,$).data:$.data_);let h=0;s.forEach($=>{h+=$.byteLength});const g=new Uint8Array(h);let P=0;return s.forEach($=>{for(let te=0;te<$.length;te++)g[P++]=$[te]}),new kl(g,!0)}}uploadData(){return this.data_}}function Zm(c){let o;try{o=JSON.parse(c)}catch{return null}return function hy(c){return"object"==typeof c&&!Array.isArray(c)}(o)?o:null}function by(c){const o=c.lastIndexOf("/",c.length-2);return-1===o?c:c.slice(o+1)}function nE(c,o){return o}class ro{constructor(o,s,h,g){this.server=o,this.local=s||o,this.writable=!!h,this.xform=g||nE}}let Iu=null;function Wa(){if(Iu)return Iu;const c=[];c.push(new ro("bucket")),c.push(new ro("generation")),c.push(new ro("metageneration")),c.push(new ro("name","fullPath",!0));const s=new ro("name");s.xform=function o(P,$){return function Fl(c){return!Hm(c)||c.length<2?c:by(c)}($)},c.push(s);const g=new ro("size");return g.xform=function h(P,$){return void 0!==$?Number($):$},c.push(g),c.push(new ro("timeCreated")),c.push(new ro("updated")),c.push(new ro("md5Hash",null,!0)),c.push(new ro("cacheControl",null,!0)),c.push(new ro("contentDisposition",null,!0)),c.push(new ro("contentEncoding",null,!0)),c.push(new ro("contentLanguage",null,!0)),c.push(new ro("contentType",null,!0)),c.push(new ro("metadata","customMetadata",!0)),Iu=c,Iu}function Wm(c,o,s){const h=Zm(o);return null===h?null:function rE(c,o,s){const h={type:"file"},g=s.length;for(let P=0;P<g;P++){const $=s[P];h[$.local]=$.xform(h,o[$.server])}return function bu(c,o){Object.defineProperty(c,"ref",{get:function s(){const P=new _s(c.bucket,c.fullPath);return o._makeStorageReference(P)}})}(h,c),h}(c,h,s)}function Jf(c,o){const s={},h=o.length;for(let g=0;g<h;g++){const P=o[g];P.writable&&(s[P.server]=c[P.local])}return JSON.stringify(s)}const jh="prefixes",Xf="items";class Ll{constructor(o,s,h,g){this.url=o,this.method=s,this.handler=h,this.timeout=g,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ka(c){if(!c)throw vu()}function Dg(c,o){return function s(h,g){const P=Wm(c,g,o);return Ka(null!==P),P}}function Sg(c){return function o(s,h){let g;return g=401===s.getStatus()?s.getErrorText().includes("Firebase App Check token is invalid")?function Qv(){return new ci(Jr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function p0(){return new ci(Jr.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===s.getStatus()?function Rl(c){return new ci(Jr.QUOTA_EXCEEDED,"Quota for bucket '"+c+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(c.bucket):403===s.getStatus()?function Vm(c){return new ci(Jr.UNAUTHORIZED,"User does not have permission to access '"+c+"'.")}(c.path):h,g.status=s.getStatus(),g.serverResponse=h.serverResponse,g}}function Mg(c){const o=Sg(c);return function s(h,g){let P=o(h,g);return 404===h.getStatus()&&(P=function Lm(c){return new ci(Jr.OBJECT_NOT_FOUND,"Object '"+c+"' does not exist.")}(c.path)),P.serverResponse=g.serverResponse,P}}function wy(c,o,s){const g=wa(o.fullServerUrl(),c.host,c._protocol),$=c.maxOperationRetryTime,te=new Ll(g,"GET",Dg(c,s),$);return te.errorHandler=Mg(o),te}function oE(c,o,s,h,g){const P={};P.prefix=o.isRoot?"":o.path+"/",s&&s.length>0&&(P.delimiter=s),h&&(P.pageToken=h),g&&(P.maxResults=g);const te=wa(o.bucketOnlyServerUrl(),c.host,c._protocol),ke=c.maxOperationRetryTime,yt=new Ll(te,"GET",function v0(c,o){return function s(h,g){const P=function iE(c,o,s){const h=Zm(s);return null===h?null:function Cy(c,o,s){const h={prefixes:[],items:[],nextPageToken:s.nextPageToken};if(s[jh])for(const g of s[jh]){const P=g.replace(/\/$/,""),$=c._makeStorageReference(new _s(o,P));h.prefixes.push($)}if(s[Xf])for(const g of s[Xf]){const P=c._makeStorageReference(new _s(o,g.name));h.items.push(P)}return h}(c,o,h)}(c,o,g);return Ka(null!==P),P}}(c,o.bucket),ke);return yt.urlParams=P,yt.errorHandler=Sg(o),yt}function d(c,o,s){const h=Object.assign({},s);return h.fullPath=c.path,h.size=o.size(),h.contentType||(h.contentType=function ep(c,o){return c&&c.contentType||o&&o.type()||"application/octet-stream"}(null,o)),h}class r{constructor(o,s,h,g){this.current=o,this.total=s,this.finalized=!!h,this.metadata=g||null}}function a(c,o){let s=null;try{s=c.getResponseHeader("X-Goog-Upload-Status")}catch{Ka(!1)}return Ka(!!s&&-1!==(o||["active"]).indexOf(s)),s}const b=262144;const L={STATE_CHANGED:"state_changed"},q={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ne(c){switch(c){case"running":case"pausing":case"canceling":return q.RUNNING;case"paused":return q.PAUSED;case"success":return q.SUCCESS;case"canceled":return q.CANCELED;default:return q.ERROR}}class pe{constructor(o,s,h){if(function m0(c){return"function"==typeof c}(o)||null!=s||null!=h)this.next=o,this.error=s??void 0,this.complete=h??void 0;else{const P=o;this.next=P.next,this.error=P.error,this.complete=P.complete}}}function Se(c){return(...o)=>{Promise.resolve().then(()=>c(...o))}}let tt=null;class Dt{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=md.NO_ERROR,this.sendPromise_=new Promise(o=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=md.ABORT,o()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=md.NETWORK_ERROR,o()}),this.xhr_.addEventListener("load",()=>{o()})})}send(o,s,h,g){if(this.sent_)throw gd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(s,o,!0),void 0!==g)for(const P in g)g.hasOwnProperty(P)&&this.xhr_.setRequestHeader(P,g[P].toString());return void 0!==h?this.xhr_.send(h):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw gd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw gd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw gd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw gd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(o){return this.xhr_.getResponseHeader(o)}addUploadProgressListener(o){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",o)}removeUploadProgressListener(o){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",o)}}class jt extends Dt{initXhr(){this.xhr_.responseType="text"}}function At(){return tt?tt():new jt}class Vr{constructor(o,s,h=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=o,this._blob=s,this._metadata=h,this._mappings=Wa(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=g=>{if(this._request=void 0,this._chunkMultiplier=1,g._codeEquals(Jr.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const P=this.isExponentialBackoffExpired();if(Aa(g.status,[])){if(!P)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();g=Um()}this._error=g,this._transition("error")}},this._metadataErrorHandler=g=>{this._request=void 0,g._codeEquals(Jr.CANCELED)?this.completeTransitions_():(this._error=g,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((g,P)=>{this._resolve=g,this._reject=P,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const o=this._transferred;return s=>this._updateProgress(o+s)}_shouldDoResumable(o){return o.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(o){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([s,h])=>{switch(this._state){case"running":o(s,h);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((o,s)=>{const h=function f(c,o,s,h,g){const P=o.bucketOnlyServerUrl(),$=d(o,h,g),te={name:$.fullPath},me=wa(P,c.host,c._protocol),yt={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${h.size()}`,"X-Goog-Upload-Header-Content-Type":$.contentType,"Content-Type":"application/json; charset=utf-8"},Ft=Jf($,s),tn=new Ll(me,"POST",function gn(nn){let En;a(nn);try{En=nn.getResponseHeader("X-Goog-Upload-URL")}catch{Ka(!1)}return Ka(Hm(En)),En},c.maxUploadRetryTime);return tn.urlParams=te,tn.headers=yt,tn.body=Ft,tn.errorHandler=Sg(o),tn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),g=this._ref.storage._makeRequest(h,At,o,s);this._request=g,g.getPromise().then(P=>{this._request=void 0,this._uploadUrl=P,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const o=this._uploadUrl;this._resolveToken((s,h)=>{const g=function y(c,o,s,h){const me=new Ll(s,"POST",function P(ke){const yt=a(ke,["active","final"]);let Ft=null;try{Ft=ke.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ka(!1)}Ft||Ka(!1);const sn=Number(Ft);return Ka(!isNaN(sn)),new r(sn,h.size(),"final"===yt)},c.maxUploadRetryTime);return me.headers={"X-Goog-Upload-Command":"query"},me.errorHandler=Sg(o),me}(this._ref.storage,this._ref._location,o,this._blob),P=this._ref.storage._makeRequest(g,At,s,h);this._request=P,P.getPromise().then($=>{this._request=void 0,this._updateProgress($.current),this._needToFetchStatus=!1,$.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const o=b*this._chunkMultiplier,s=new r(this._transferred,this._blob.size()),h=this._uploadUrl;this._resolveToken((g,P)=>{let $;try{$=function x(c,o,s,h,g,P,$,te){const me=new r(0,0);if($?(me.current=$.current,me.total=$.total):(me.current=0,me.total=h.size()),h.size()!==me.total)throw function Qf(){return new ci(Jr.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const ke=me.total-me.current;let yt=ke;g>0&&(yt=Math.min(yt,g));const Ft=me.current;let gn="";gn=0===yt?"finalize":ke===yt?"upload, finalize":"upload";const tn={"X-Goog-Upload-Command":gn,"X-Goog-Upload-Offset":`${me.current}`},nn=h.slice(Ft,Ft+yt);if(null===nn)throw fd();const Ur=new Ll(s,"POST",function En(Dr,ra){const Rs=a(Dr,["active","final"]),Es=me.current+yt,ko=h.size();let Ma;return Ma="final"===Rs?Dg(o,P)(Dr,ra):null,new r(Es,ko,"final"===Rs,Ma)},o.maxUploadRetryTime);return Ur.headers=tn,Ur.body=nn.uploadData(),Ur.progressCallback=te||null,Ur.errorHandler=Sg(c),Ur}(this._ref._location,this._ref.storage,h,this._blob,o,this._mappings,s,this._makeProgressCallback())}catch(me){return this._error=me,void this._transition("error")}const te=this._ref.storage._makeRequest($,At,g,P,!1);this._request=te,te.getPromise().then(me=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(me.current),me.finalized?(this._metadata=me.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){b*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((o,s)=>{const h=wy(this._ref.storage,this._ref._location,this._mappings),g=this._ref.storage._makeRequest(h,At,o,s);this._request=g,g.getPromise().then(P=>{this._request=void 0,this._metadata=P,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((o,s)=>{const h=function e(c,o,s,h,g){const P=o.bucketOnlyServerUrl(),$={"X-Goog-Upload-Protocol":"multipart"},me=function te(){let Ur="";for(let Dr=0;Dr<2;Dr++)Ur+=Math.random().toString().slice(2);return Ur}();$["Content-Type"]="multipart/related; boundary="+me;const ke=d(o,h,g),yt=Jf(ke,s),gn=kl.getBlob("--"+me+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+yt+"\r\n--"+me+"\r\nContent-Type: "+ke.contentType+"\r\n\r\n",h,"\r\n--"+me+"--");if(null===gn)throw fd();const tn={name:ke.fullPath},nn=wa(P,c.host,c._protocol),Ar=c.maxUploadRetryTime,Kr=new Ll(nn,"POST",Dg(c,s),Ar);return Kr.urlParams=tn,Kr.headers=$,Kr.body=gn.uploadData(),Kr.errorHandler=Sg(o),Kr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),g=this._ref.storage._makeRequest(h,At,o,s);this._request=g,g.getPromise().then(P=>{this._request=void 0,this._metadata=P,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(o){const s=this._transferred;this._transferred=o,this._transferred!==s&&this._notifyObservers()}_transition(o){if(this._state!==o)switch(o){case"canceling":case"pausing":this._state=o,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const s="paused"===this._state;this._state=o,s&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=o,this._notifyObservers();break;case"canceled":this._error=bg(),this._state=o,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const o=ne(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:o,metadata:this._metadata,task:this,ref:this._ref}}on(o,s,h,g){const P=new pe(s||void 0,h||void 0,g||void 0);return this._addObserver(P),()=>{this._removeObserver(P)}}then(o,s){return this._promise.then(o,s)}catch(o){return this.then(null,o)}_addObserver(o){this._observers.push(o),this._notifyObserver(o)}_removeObserver(o){const s=this._observers.indexOf(o);-1!==s&&this._observers.splice(s,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(s=>{this._notifyObserver(s)})}_finishPromise(){if(void 0!==this._resolve){let o=!0;switch(ne(this._state)){case q.SUCCESS:Se(this._resolve.bind(null,this.snapshot))();break;case q.CANCELED:case q.ERROR:Se(this._reject.bind(null,this._error))();break;default:o=!1}o&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(o){switch(ne(this._state)){case q.RUNNING:case q.PAUSED:o.next&&Se(o.next.bind(o,this.snapshot))();break;case q.SUCCESS:o.complete&&Se(o.complete.bind(o))();break;default:o.error&&Se(o.error.bind(o,this._error))()}}resume(){const o="paused"===this._state||"pausing"===this._state;return o&&this._transition("running"),o}pause(){const o="running"===this._state;return o&&this._transition("pausing"),o}cancel(){const o="running"===this._state||"pausing"===this._state;return o&&this._transition("canceling"),o}}class nr{constructor(o,s){this._service=o,this._location=s instanceof _s?s:_s.makeFromUrl(s,o.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(o,s){return new nr(o,s)}get root(){const o=new _s(this._location.bucket,"");return this._newRef(this._service,o)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return by(this._location.path)}get storage(){return this._service}get parent(){const o=function tE(c){if(0===c.length)return null;const o=c.lastIndexOf("/");return-1===o?"":c.slice(0,o)}(this._location.path);if(null===o)return null;const s=new _s(this._location.bucket,o);return new nr(this._service,s)}_throwIfRoot(o){if(""===this._location.path)throw jm(o)}}function Re(c,o,s){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,Za.Z)(function*(c,o,s){const g=yield $h(c,{pageToken:s});o.prefixes.push(...g.prefixes),o.items.push(...g.items),null!=g.nextPageToken&&(yield Re(c,o,g.nextPageToken))})).apply(this,arguments)}function $h(c,o){null!=o&&"number"==typeof o.maxResults&&Ol("options.maxResults",1,1e3,o.maxResults);const s=o||{},h=oE(c.storage,c._location,"/",s.pageToken,s.maxResults);return c.storage.makeRequestWithTokens(h,At)}function np(c){c._throwIfRoot("getDownloadURL");const o=function aE(c,o,s){const g=wa(o.fullServerUrl(),c.host,c._protocol),$=c.maxOperationRetryTime,te=new Ll(g,"GET",function sE(c,o){return function s(h,g){const P=Wm(c,g,o);return Ka(null!==P),function Ty(c,o,s,h){const g=Zm(o);if(null===g||!Hm(g.downloadTokens))return null;const P=g.downloadTokens;if(0===P.length)return null;const $=encodeURIComponent;return P.split(",").map(ke=>{const Ft=c.fullPath;return wa("/b/"+$(c.bucket)+"/o/"+$(Ft),s,h)+Nl({alt:"media",token:ke})})[0]}(P,g,c.host,c._protocol)}}(c,s),$);return te.errorHandler=Mg(o),te}(c.storage,c._location,Wa());return c.storage.makeRequestWithTokens(o,At).then(s=>{if(null===s)throw function wg(){return new ci(Jr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return s})}function rp(c,o){const s=function y0(c,o){const s=o.split("/").filter(h=>h.length>0).join("/");return 0===c.length?s:c+"/"+s}(c._location.path,o),h=new _s(c._location.bucket,s);return new nr(c.storage,h)}function Hs(c,o){if(c instanceof yd){const s=c;if(null==s._bucket)throw function Cg(){return new ci(Jr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Vh+"' property when initializing the app?")}();const h=new nr(s,s._bucket);return null!=o?Hs(h,o):h}return void 0!==o?rp(c,o):c}function cE(c,o){if(o&&function Sy(c){return/^[A-Za-z]+:\/\//.test(c)}(o)){if(c instanceof yd)return function Tu(c,o){return new nr(c,o)}(c,o);throw Uh("To use ref(service, url), the first argument must be a Storage instance.")}return Hs(c,o)}function _d(c,o){const s=o?.[Vh];return null==s?null:_s.makeFromBucketSpec(s,c)}class yd{constructor(o,s,h,g,P){this.app=o,this._authProvider=s,this._appCheckProvider=h,this._url=g,this._firebaseVersion=P,this._bucket=null,this._host=Ig,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=g?_s.makeFromBucketSpec(g,this._host):_d(this._host,this.app.options)}get host(){return this._host}set host(o){this._host=o,this._bucket=null!=this._url?_s.makeFromBucketSpec(this._url,o):_d(o,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(o){Ol("time",0,Number.POSITIVE_INFINITY,o),this._maxUploadRetryTime=o}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(o){Ol("time",0,Number.POSITIVE_INFINITY,o),this._maxOperationRetryTime=o}_getAuthToken(){var o=this;return(0,Za.Z)(function*(){if(o._overrideAuthToken)return o._overrideAuthToken;const s=o._authProvider.getImmediate({optional:!0});if(s){const h=yield s.getToken();if(null!==h)return h.accessToken}return null})()}_getAppCheckToken(){var o=this;return(0,Za.Z)(function*(){const s=o._appCheckProvider.getImmediate({optional:!0});return s?(yield s.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(o=>o.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(o){return new nr(this,o)}_makeRequest(o,s,h,g,P=!0){if(this._deleted)return new uy(Bm());{const $=function _0(c,o,s,h,g,P,$=!0){const te=Nl(c.urlParams),me=c.url+te,ke=Object.assign({},c.headers);return function zm(c,o){o&&(c["X-Firebase-GMPID"]=o)}(ke,o),function $m(c,o){null!==o&&o.length>0&&(c.Authorization="Firebase "+o)}(ke,s),function Eu(c,o){c["X-Firebase-Storage-Version"]="webjs/"+(o??"AppManager")}(ke,P),function Xv(c,o){null!==o&&(c["X-Firebase-AppCheck"]=o)}(ke,h),new py(me,c.method,ke,c.body,c.successCodes,c.additionalRetryCodes,c.handler,c.errorHandler,c.timeout,c.progressCallback,g,$)}(o,this._appId,h,g,s,this._firebaseVersion,P);return this._requests.add($),$.getPromise().then(()=>this._requests.delete($),()=>this._requests.delete($)),$}}makeRequestWithTokens(o,s){var h=this;return(0,Za.Z)(function*(){const[g,P]=yield Promise.all([h._getAuthToken(),h._getAppCheckToken()]);return h._makeRequest(o,s,g,P).getPromise()})()}}const Pg="@firebase/storage",ip="storage";function vd(c,o){return cE(c=(0,go.m9)(c),o)}function E0(c=(0,Lh.getApp)(),o){c=(0,go.m9)(c);const h=(0,Lh._getProvider)(c,ip).getImmediate({identifier:o}),g=(0,go.P0)("storage");return g&&op(h,...g),h}function op(c,o,s,h={}){!function lE(c,o,s,h={}){c.host=`${o}:${s}`,c._protocol="http";const{mockUserToken:g}=h;g&&(c._overrideAuthToken="string"==typeof g?g:(0,go.Sg)(g,c.app.options.projectId))}(c,o,s,h)}function $s(c,{instanceIdentifier:o}){const s=c.getProvider("app").getImmediate(),h=c.getProvider("auth-internal"),g=c.getProvider("app-check-internal");return new yd(s,h,g,o,Lh.SDK_VERSION)}!function zs(){(0,Lh._registerComponent)(new hd.wA(ip,$s,"PUBLIC").setMultipleInstances(!0)),(0,Lh.registerVersion)(Pg,"0.12.5",""),(0,Lh.registerVersion)(Pg,"0.12.5","esm2017")}();class mo{constructor(o,s,h){this._delegate=o,this.task=s,this.ref=h}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class t_{constructor(o,s){this._delegate=o,this._ref=s,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new mo(this._delegate.snapshot,this,this._ref)}then(o,s){return this._delegate.then(h=>{if(o)return o(new mo(h,this,this._ref))},s)}on(o,s,h,g){let P;return s&&(P="function"==typeof s?$=>s(new mo($,this,this._ref)):{next:s.next?$=>s.next(new mo($,this,this._ref)):void 0,complete:s.complete||void 0,error:s.error||void 0}),this._delegate.on(o,P,h||void 0,g||void 0)}}class n_{constructor(o,s){this._delegate=o,this._service=s}get prefixes(){return this._delegate.prefixes.map(o=>new Qa(o,this._service))}get items(){return this._delegate.items.map(o=>new Qa(o,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Qa{constructor(o,s){this._delegate=o,this.storage=s}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(o){const s=function Rg(c,o){return rp(c,o)}(this._delegate,o);return new Qa(s,this.storage)}get root(){return new Qa(this._delegate.root,this.storage)}get parent(){const o=this._delegate.parent;return null==o?null:new Qa(o,this.storage)}put(o,s){return this._throwIfRoot("put"),new t_(function Da(c,o,s){return function Ge(c,o,s){return c._throwIfRoot("uploadBytesResumable"),new Vr(c,new kl(o),s)}(c=(0,go.m9)(c),o,s)}(this._delegate,o,s),this)}putString(o,s=Jo.RAW,h){this._throwIfRoot("putString");const g=Ti(s,o),P=Object.assign({},h);return null==P.contentType&&null!=g.contentType&&(P.contentType=g.contentType),new t_(new Vr(this._delegate,new kl(g.data,!0),P),this)}listAll(){return function uE(c){return function ot(c){const o={prefixes:[],items:[]};return Re(c,o).then(()=>o)}(c=(0,go.m9)(c))}(this._delegate).then(o=>new n_(o,this.storage))}list(o){return function Ym(c,o){return $h(c=(0,go.m9)(c),o)}(this._delegate,o||void 0).then(s=>new n_(s,this.storage))}getMetadata(){return function sp(c){return function Xo(c){c._throwIfRoot("getMetadata");const o=wy(c.storage,c._location,Wa());return c.storage.makeRequestWithTokens(o,At)}(c=(0,go.m9)(c))}(this._delegate)}updateMetadata(o){return function xy(c,o){return function tp(c,o){c._throwIfRoot("updateMetadata");const s=function LI(c,o,s,h){const P=wa(o.fullServerUrl(),c.host,c._protocol),te=Jf(s,h),ke=c.maxOperationRetryTime,yt=new Ll(P,"PATCH",Dg(c,h),ke);return yt.headers={"Content-Type":"application/json; charset=utf-8"},yt.body=te,yt.errorHandler=Mg(o),yt}(c.storage,c._location,o,Wa());return c.storage.makeRequestWithTokens(s,At)}(c=(0,go.m9)(c),o)}(this._delegate,o)}getDownloadURL(){return function Qm(c){return np(c=(0,go.m9)(c))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Jm(c){return function Dy(c){c._throwIfRoot("deleteObject");const o=function Hh(c,o){const h=wa(o.fullServerUrl(),c.host,c._protocol),te=new Ll(h,"DELETE",function $(me,ke){},c.maxOperationRetryTime);return te.successCodes=[200,204],te.errorHandler=Mg(o),te}(c.storage,c._location);return c.storage.makeRequestWithTokens(o,At)}(c=(0,go.m9)(c))}(this._delegate)}_throwIfRoot(o){if(""===this._delegate._location.path)throw jm(o)}}class zh{constructor(o,s){this.app=o,this._delegate=s}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(o){if(xg(o))throw Uh("ref() expected a child path but got a URL, use refFromURL instead.");return new Qa(vd(this._delegate,o),this)}refFromURL(o){if(!xg(o))throw Uh("refFromURL() expected a full URL but got a child path, use ref() instead.");try{_s.makeFromUrl(o,this._delegate.host)}catch{throw Uh("refFromUrl() expected a valid full URL but got an invalid one.")}return new Qa(vd(this._delegate,o),this)}setMaxUploadRetryTime(o){this._delegate.maxUploadRetryTime=o}setMaxOperationRetryTime(o){this._delegate.maxOperationRetryTime=o}useEmulator(o,s,h={}){op(this._delegate,o,s,h)}}function xg(c){return/^[A-Za-z]+:\/\//.test(c)}function Ny(c,{instanceIdentifier:o}){const s=c.getProvider("app-compat").getImmediate(),h=c.getProvider("storage").getImmediate({identifier:o});return new zh(s,h)}!function qh(c){const o={TaskState:q,TaskEvent:L,StringFormat:Jo,Storage:zh,Reference:Qa};c.INTERNAL.registerComponent(new hd.wA("storage-compat",Ny,"PUBLIC").setServiceProps(o).setMultipleInstances(!0)),c.registerVersion("@firebase/storage-compat","0.3.8")}(Nm.Z);var dE=j(7142);function Ed(c){const o=function ky(c){return new dr.y(o=>{const s=$=>o.next($);s(c.snapshot);const P=c.on("state_changed",s);return c.then($=>{s($),o.complete()},$=>{s(c.snapshot),($=>{o.error($)})($)}),function(){P()}}).pipe(ni(0))}(c);return{task:c,then:c.then.bind(c),catch:c.catch.bind(c),pause:c.pause.bind(c),cancel:c.cancel.bind(c),resume:c.resume.bind(c),snapshotChanges:()=>o,percentageChanges:()=>o.pipe((0,Yn.U)(s=>s.bytesTransferred/s.totalBytes*100))}}function Id(c){return{getDownloadURL:()=>(0,zn.of)(void 0).pipe(Wr.fc,(0,yu.w)(()=>c.getDownloadURL()),Wr.iC),getMetadata:()=>(0,zn.of)(void 0).pipe(Wr.fc,(0,yu.w)(()=>c.getMetadata()),Wr.iC),delete:()=>(0,za.D)(c.delete()),child:o=>Id(c.child(o)),updateMetadata:o=>(0,za.D)(c.updateMetadata(o)),put:(o,s)=>Ed(c.put(o,s)),putString:(o,s,h)=>Ed(c.putString(o,s,h)),list:o=>(0,za.D)(c.list(o)),listAll:()=>(0,za.D)(c.listAll())}}const r_=new u.OlP("angularfire2.storageBucket"),bd=new u.OlP("angularfire2.storage.maxUploadRetryTime"),i_=new u.OlP("angularfire2.storage.maxOperationRetryTime"),cp=new u.OlP("angularfire2.storage.use-emulator");let Td=(()=>{class c{storage;constructor(s,h,g,P,$,te,me,ke,yt,Ft){const sn=(0,Oo.on)(s,$,h);this.storage=(0,Oo.cc)(`${sn.name}.storage.${g}`,"AngularFireStorage",sn.name,()=>{const gn=$.runOutsideAngular(()=>sn.storage(g||void 0)),tn=yt;return tn&&gn.useEmulator(...tn),me&&gn.setMaxUploadRetryTime(me),ke&&gn.setMaxOperationRetryTime(ke),gn},[me,ke])}ref(s){return Id(this.storage.ref(s))}refFromURL(s){return Id(this.storage.refFromURL(s))}upload(s,h,g){return Id(this.storage.ref(s)).put(h,g)}static \u0275fac=function(h){return new(h||c)(u.LFG(Oo.Dh),u.LFG(Oo.xv,8),u.LFG(r_,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Wr.HU),u.LFG(bd,8),u.LFG(i_,8),u.LFG(cp,8),u.LFG(Wr.Rf,8))};static \u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"any"})}return c})(),s_=(()=>{class c{static \u0275fac=function(h){return new(h||c)};static \u0275mod=u.oAB({type:c});static \u0275inj=u.cJS({})}return c})(),io=(()=>{class c{constructor(){dE.Z.registerVersion("angularfire",Wr.q4.full,"gcs-compat")}static \u0275fac=function(h){return new(h||c)};static \u0275mod=u.oAB({type:c});static \u0275inj=u.cJS({providers:[Td],imports:[s_]})}return c})(),Ng=(()=>{class c{constructor(s){this.storage=s}uploadImage(s,h){const g=`${h}/${s.name}`,P=this.storage.ref(g),$=this.storage.upload(g,s);return new dr.y(te=>{$.snapshotChanges().pipe((0,sf.x)(()=>{P.getDownloadURL().subscribe(me=>{te.next(me),te.complete()})})).subscribe()})}static#e=this.\u0275fac=function(h){return new(h||c)(u.LFG(Td))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();function lp(c,o){if(1&c&&(u.TgZ(0,"option",26),u._uU(1),u.qZA()),2&c){const s=o.$implicit;u.Q6J("value",s),u.xp6(1),u.Oqu(s)}}let Uc=(()=>{class c{constructor(s,h,g,P){this.fb=s,this.servicesService=h,this.imageUploadService=g,this.router=P,this.serviceTypes=[],this.selectedFile=null,this.serviceObj=new dd,this.serviceForm=this.fb.group({Name:["",bi.required],Email:["",[bi.required,bi.email]],Phone_Number:[""],Website:[""],Facebook:[""],Instagram:[""],Image:[""],Description:[""],Date_Created:[""],Community_Sponsor:[""],Service_Type:["",bi.required]})}ngOnInit(){this.fetchServiceTypes()}onFileSelected(s){this.selectedFile=s.target.files[0]}fetchServiceTypes(){this.servicesService.getAllServiceTypes().subscribe(s=>{this.serviceTypes=s})}onSubmit(){this.serviceForm.valid&&(this.serviceObj.Name=this.serviceForm.value.Name,this.serviceObj.Phone_Number=this.serviceForm.value.Phone_Number,this.serviceObj.Service_Type=this.serviceForm.value.Service_Type,this.serviceObj.Community_Sponsor=!1,this.serviceObj.Email=this.serviceForm.value.Email,this.serviceObj.Website=this.serviceForm.value.Website,this.serviceObj.Facebook=this.serviceForm.value.Facebook,this.serviceObj.Instagram=this.serviceForm.value.Instagram,this.serviceObj.Description=this.serviceForm.value.Description,this.serviceObj.Date_Created=this.serviceForm.value.Date_Created,this.serviceObj.Image=this.serviceForm.value.Image,this.selectedFile?this.imageUploadService.uploadImage(this.selectedFile,"serviceImages").subscribe(s=>{this.serviceObj.Image=s,console.log(s),this.saveService()}):this.saveService())}saveService(){const s={id:this.serviceObj.id,Name:this.serviceObj.Name,Phone_Number:this.serviceObj.Phone_Number,Service_Type:this.serviceObj.Service_Type,Community_Sponsor:!1,Email:this.serviceObj.Email,Website:this.serviceObj.Website,Facebook:this.serviceObj.Facebook,Instagram:this.serviceObj.Instagram,Description:this.serviceObj.Description,Date_Created:(new Date).getDate.toString(),Date_Updated:(new Date).getDate.toString(),Image:this.serviceObj.Image,Approved:!1,OpenHour:"",CloseHour:""};this.servicesService.addService(s).subscribe(h=>{console.log("Service added successfully with ID:",h?.id),this.serviceForm.reset(),this.router.navigate(["/services",h?.id])})}static#e=this.\u0275fac=function(h){return new(h||c)(u.Y36(Zf),u.Y36(wf.r),u.Y36(Ng),u.Y36(Or.F0))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-add-service"]],decls:51,vars:3,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","Name",1,"required"],["id","Name","formControlName","Name","required",""],["for","Email",1,"required"],["id","Email","type","Email","formControlName","Email"],["for","Phone_Number"],["id","Phone_Number","formControlName","Phone_Number"],["for","Website"],["id","Website","formControlName","Website"],["for","Facebook"],["id","Facebook","formControlName","Facebook"],["for","Instagram"],["id","Instagram","formControlName","Instagram"],["for","Description",1,"required"],["id","Description","formControlName","Description"],["for","Service_Type",1,"required"],["id","Service_Type","formControlName","Service_Type","required",""],[3,"value",4,"ngFor","ngForOf"],["for","Image"],["type","file","formControlName","Image",3,"change"],["type","submit",3,"disabled"],[3,"value"]],template:function(h,g){1&h&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._uU(3,"Lista de Servicii"),u.qZA()(),u.TgZ(4,"div",2)(5,"h2"),u._uU(6,"Adaugati serviciile oferite pentru membrii comunit\u0103\u021bii"),u.qZA(),u._UZ(7,"p"),u.qZA()(),u.TgZ(8,"div",3)(9,"h2"),u._uU(10," Serviciile ad\u0103ugate prin aceast\u0103 pagin\u0103 sunt supuse aprob\u0103rii administratorului \xeenainte de a fi afi\u0219ate \xeen list\u0103."),u.qZA(),u.TgZ(11,"form",4),u.NdJ("ngSubmit",function(){return g.onSubmit()}),u.TgZ(12,"div",5)(13,"label",6),u._uU(14,"Nume:"),u.qZA(),u._UZ(15,"input",7),u.qZA(),u.TgZ(16,"div",5)(17,"label",8),u._uU(18,"Adresa Email:"),u.qZA(),u._UZ(19,"input",9),u.qZA(),u.TgZ(20,"div",5)(21,"label",10),u._uU(22,"Numar de telefon:"),u.qZA(),u._UZ(23,"input",11),u.qZA(),u.TgZ(24,"div",5)(25,"label",12),u._uU(26,"Pagina Web:"),u.qZA(),u._UZ(27,"input",13),u.qZA(),u.TgZ(28,"div",5)(29,"label",14),u._uU(30,"Pagina Facebook:"),u.qZA(),u._UZ(31,"input",15),u.qZA(),u.TgZ(32,"div",5)(33,"label",16),u._uU(34,"Instagram:(@username)"),u.qZA(),u._UZ(35,"input",17),u.qZA(),u.TgZ(36,"div",5)(37,"label",18),u._uU(38,"Descriere a serviciile oferite:"),u.qZA(),u._UZ(39,"textarea",19),u.qZA(),u.TgZ(40,"div",5)(41,"label",20),u._uU(42,"Categoria de serviciului:"),u.qZA(),u.TgZ(43,"select",21),u.YNc(44,lp,2,2,"option",22),u.qZA()(),u.TgZ(45,"div",5)(46,"label",23),u._uU(47,"Imagine:"),u.qZA(),u.TgZ(48,"input",24),u.NdJ("change",function($){return g.onFileSelected($)}),u.qZA()(),u.TgZ(49,"button",25),u._uU(50,"Add Service"),u.qZA()()()),2&h&&(u.xp6(11),u.Q6J("formGroup",g.serviceForm),u.xp6(33),u.Q6J("ngForOf",g.serviceTypes),u.xp6(5),u.Q6J("disabled",g.serviceForm.invalid))},dependencies:[W.sg,Qo,Xn,_i,Tl,Ml,Ju,Eh,xo,Ta,od],styles:['.hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.section-header[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;background-color:#f0f0f0}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:10px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.form-container[_ngcontent-%COMP%]{max-width:600px;margin:50px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;color:#fff;background-color:#007bff;border:none;border-radius:4px;cursor:pointer}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}']})}return c})(),hE=(()=>{class c{constructor(s,h){this.fb=s,this.eventsService=h,this.eventForm=this.fb.group({Approved:[""],Community_Sponsor:[""],Contact:[""],Description:["",bi.required],Event_date:["",bi.required],Location:["",bi.required],Name:["",bi.required],Phone_Number:[""],Poster_Image:["",bi.required],Price:["",bi.required],Website:[""]})}ngOnInit(){}onSubmit(){this.eventForm.valid&&this.eventsService.addEvent(this.eventForm.value).then(()=>{console.log("Event added successfully"),this.eventForm.reset()}).catch(h=>{console.error("Error adding event: ",h)})}static#e=this.\u0275fac=function(h){return new(h||c)(u.Y36(Zf),u.Y36(Ac.n))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-add-event"]],decls:40,vars:2,consts:[[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","Name",1,"required"],["id","Name","formControlName","Name","required",""],["for","Contact"],["id","Contact","formControlName","Contact","required",""],["for","Poster_Image",1,"required"],["id","Poster_Image","formControlName","Poster_Image","required",""],["for","Phone_Number"],["id","Phone_Number","formControlName","Phone_Number"],["for","Event_date",1,"required"],["id","Event_date","type","date","formControlName","Event_date","required",""],["for","Location",1,"required"],["id","Location","formControlName","Location","required",""],["for","Description",1,"required"],["id","Description","formControlName","Description","required",""],["for","Price",1,"required"],["id","Price","formControlName","Price","required",""],["for","Website"],["id","Website","formControlName","Website"],["type","submit",3,"disabled"]],template:function(h,g){1&h&&(u.TgZ(0,"div",0)(1,"form",1),u.NdJ("ngSubmit",function(){return g.onSubmit()}),u.TgZ(2,"div",2)(3,"label",3),u._uU(4,"Titlu:"),u.qZA(),u._UZ(5,"input",4),u.qZA(),u.TgZ(6,"div",2)(7,"label",5),u._uU(8,"Persoana de contact:"),u.qZA(),u._UZ(9,"input",6),u.qZA(),u.TgZ(10,"div",2)(11,"label",7),u._uU(12,"Imagine poster:"),u.qZA(),u._UZ(13,"input",8),u.qZA(),u.TgZ(14,"div",2)(15,"label",9),u._uU(16,"Numar de Telefon:"),u.qZA(),u._UZ(17,"input",10),u.qZA(),u.TgZ(18,"div",2)(19,"label",11),u._uU(20,"Data Evenimentului:"),u.qZA(),u._UZ(21,"input",12),u.qZA(),u.TgZ(22,"div",2)(23,"label",13),u._uU(24,"Locatie:"),u.qZA(),u._UZ(25,"input",14),u.qZA(),u.TgZ(26,"div",2)(27,"label",15),u._uU(28,"Descriere:"),u.qZA(),u._UZ(29,"textarea",16),u.qZA(),u.TgZ(30,"div",2)(31,"label",17),u._uU(32,"Pret:"),u.qZA(),u._UZ(33,"input",18),u.qZA(),u.TgZ(34,"div",2)(35,"label",19),u._uU(36,"Website:"),u.qZA(),u._UZ(37,"input",20),u.qZA(),u.TgZ(38,"button",21),u._uU(39,"Adauga Eveniment"),u.qZA()()()),2&h&&(u.xp6(1),u.Q6J("formGroup",g.eventForm),u.xp6(37),u.Q6J("disabled",g.eventForm.invalid))},dependencies:[Qo,Tl,Ju,Eh,xo,Ta,od],styles:['.form-container[_ngcontent-%COMP%]{max-width:600px;margin:100px auto 0;padding:50px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;color:#fff;border:none;border-radius:4px;cursor:pointer}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}']})}return c})();var o_=j(7104);function Zh(c,o){if(1&c&&(u.TgZ(0,"option",28),u._uU(1),u.qZA()),2&c){const s=o.$implicit;u.Q6J("value",s),u.xp6(1),u.Oqu(s)}}let fE=(()=>{class c{constructor(s,h,g,P,$){this.fb=s,this.offersService=h,this.firestore=g,this.imageUploadService=P,this.router=$,this.offerTypes=[],this.offer={Title:"",Company_Name:"",Contact_Name:"",Phone_Number:"",Email:"",Description:"",Location:"",Website:"",Filled:!1,Date_Created:(new Date).toISOString(),Price:"",Image1:"",Image2:"",Image3:"",Image4:"",Image5:"",OfferType:"",Facebook:"",Instagram:"",id:"",Community_Sponsor:!1,Approved:!1,ApprovedDate:""},this.selectedFiles=null,this.offerForm=this.fb.group({Title:["",bi.required],Company_Name:[""],Contact_Name:["",bi.required],Phone_Number:["",bi.required],Email:["",[bi.email]],Location:["",bi.required],Website:[""],Description:["",bi.required],Price:[""],Image1:[""],Image2:[""],Image3:[""],Image4:[""],Image5:[""],Filled:!1,Date_Created:[""],ApprovedDate:[""],OfferType:[""],Community_Sponsor:!1})}onFileSelected(s){this.selectedFiles=s.target.files}ngOnInit(){this.offersService.getAllOfferTypes().subscribe(s=>{this.offerTypes=s})}onSubmit(s){var h=this;if(console.log(s),this.selectedFiles&&this.selectedFiles.length>0){const g=[];for(let P=0;P<this.selectedFiles.length;P++){const te=this.imageUploadService.uploadImage(this.selectedFiles[P],"offers");g.push(te)}rs(g).pipe((0,Yn.U)(P=>{this.offer.Image1=P[0]||"",this.offer.Image2=P[1]||"",this.offer.Image3=P[2]||"",this.offer.Image4=P[3]||"",this.offer.Image5=P[4]||""}),(0,yu.w)((0,Za.Z)(function*(){return h.saveOffer()}))).subscribe()}else this.saveOffer().subscribe()}saveOffer(){return(0,za.D)(this.firestore.collection("Offers").add(this.offer).then(s=>{console.log("Offer added with ID:",s.id),this.router.navigate(["/offers",s.id])}).catch(s=>{console.error("Error adding offer:",s)}))}static#e=this.\u0275fac=function(h){return new(h||c)(u.Y36(Zf),u.Y36(Ea.b),u.Y36(o_.ST),u.Y36(Ng),u.Y36(Or.F0))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-add-offers"]],decls:50,vars:11,consts:[[1,"form-container"],[3,"ngSubmit"],["offerForm","ngForm"],[1,"form-group"],["for","Title",1,"required"],["type","text","name","Title","required","","placeholder","Title",3,"ngModel","ngModelChange"],["for","Company_Name"],["type","text","name","Company_Name","required","","placeholder","Company Name",3,"ngModel","ngModelChange"],["for","Contact_Name",1,"required"],["type","text","name","Contact_Name","required","","placeholder","Contact Name",3,"ngModel","ngModelChange"],["for","Phone_Number",1,"required"],["type","text","name","Phone_Number","required","","placeholder","Phone Number",3,"ngModel","ngModelChange"],["for","Email"],["type","email","name","Email","required","","placeholder","Email",3,"ngModel","ngModelChange"],["for","Description",1,"required"],["name","Description","required","","placeholder","Description",3,"ngModel","ngModelChange"],["for","Price"],["type","text","name","Price","required","","placeholder","Price",3,"ngModel","ngModelChange"],["for","Location",1,"required"],["type","text","name","Location","required","","placeholder","Location",3,"ngModel","ngModelChange"],["for","Website"],["type","url","name","Website","placeholder","Website",3,"ngModel","ngModelChange"],["for","OfferType"],["id","OfferType","name","OfferType","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","Images"],["type","file","id","Images","multiple","","accept","image/*",1,"form-control",3,"change"],["type","submit"],[3,"value"]],template:function(h,g){if(1&h){const P=u.EpF();u.TgZ(0,"div",0)(1,"form",1,2),u.NdJ("ngSubmit",function(){u.CHM(P);const te=u.MAs(2);return u.KtG(g.onSubmit(te))}),u.TgZ(3,"div",3)(4,"label",4),u._uU(5,"Titlu:"),u.qZA(),u.TgZ(6,"input",5),u.NdJ("ngModelChange",function(te){return g.offer.Title=te}),u.qZA()(),u.TgZ(7,"div",3)(8,"label",6),u._uU(9,"Numele Companiei:"),u.qZA(),u.TgZ(10,"input",7),u.NdJ("ngModelChange",function(te){return g.offer.Company_Name=te}),u.qZA()(),u.TgZ(11,"div",3)(12,"label",8),u._uU(13,"Numele persoanei de contact:"),u.qZA(),u.TgZ(14,"input",9),u.NdJ("ngModelChange",function(te){return g.offer.Contact_Name=te}),u.qZA()(),u.TgZ(15,"div",3)(16,"label",10),u._uU(17,"Numar de telefon:"),u.qZA(),u.TgZ(18,"input",11),u.NdJ("ngModelChange",function(te){return g.offer.Phone_Number=te}),u.qZA()(),u.TgZ(19,"div",3)(20,"label",12),u._uU(21,"Adresa de Email:"),u.qZA(),u.TgZ(22,"input",13),u.NdJ("ngModelChange",function(te){return g.offer.Email=te}),u.qZA()(),u.TgZ(23,"div",3)(24,"label",14),u._uU(25,"Descriere:"),u.qZA(),u.TgZ(26,"textarea",15),u.NdJ("ngModelChange",function(te){return g.offer.Description=te}),u.qZA()(),u.TgZ(27,"div",3)(28,"label",16),u._uU(29,"Pret:"),u.qZA(),u.TgZ(30,"input",17),u.NdJ("ngModelChange",function(te){return g.offer.Price=te}),u.qZA()(),u.TgZ(31,"div",3)(32,"label",18),u._uU(33,"Locatie:"),u.qZA(),u.TgZ(34,"input",19),u.NdJ("ngModelChange",function(te){return g.offer.Location=te}),u.qZA()(),u.TgZ(35,"div",3)(36,"label",20),u._uU(37,"Website:"),u.qZA(),u.TgZ(38,"input",21),u.NdJ("ngModelChange",function(te){return g.offer.Website=te}),u.qZA()(),u.TgZ(39,"div",3)(40,"label",22),u._uU(41,"Tip de oferta"),u.qZA(),u.TgZ(42,"select",23),u.NdJ("ngModelChange",function(te){return g.offer.OfferType=te}),u.YNc(43,Zh,2,2,"option",24),u.qZA()(),u.TgZ(44,"div",3)(45,"label",25),u._uU(46,"Images"),u.qZA(),u.TgZ(47,"input",26),u.NdJ("change",function(te){return g.onFileSelected(te)}),u.qZA()(),u.TgZ(48,"button",27),u._uU(49,"Adauga Oferta"),u.qZA()()()}2&h&&(u.xp6(6),u.Q6J("ngModel",g.offer.Title),u.xp6(4),u.Q6J("ngModel",g.offer.Company_Name),u.xp6(4),u.Q6J("ngModel",g.offer.Contact_Name),u.xp6(4),u.Q6J("ngModel",g.offer.Phone_Number),u.xp6(4),u.Q6J("ngModel",g.offer.Email),u.xp6(4),u.Q6J("ngModel",g.offer.Description),u.xp6(4),u.Q6J("ngModel",g.offer.Price),u.xp6(4),u.Q6J("ngModel",g.offer.Location),u.xp6(4),u.Q6J("ngModel",g.offer.Website),u.xp6(4),u.Q6J("ngModel",g.offer.OfferType),u.xp6(1),u.Q6J("ngForOf",g.offerTypes))},dependencies:[W.sg,Qo,Xn,_i,Tl,Ml,Ju,Eh,xo,zf,Dh],styles:['.form-container[_ngcontent-%COMP%]{max-width:600px;margin:100px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;color:#fff;border:none;border-radius:4px;cursor:pointer}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}']})}return c})();function pE(c,o){if(1&c&&(u.TgZ(0,"option",31),u._uU(1),u.qZA()),2&c){const s=o.$implicit;u.Q6J("value",s),u.xp6(1),u.Oqu(s)}}let kg=(()=>{class c{constructor(s,h,g,P,$){this.fb=s,this.route=h,this.router=g,this.servicesService=P,this.imageUploadService=$,this.serviceId=null,this.serviceTypes=[],this.selectedFile=null,this.serviceObj=new dd,this.oldImage=null,this.serviceForm=this.fb.group({Name:["",bi.required],Email:["",bi.email],Phone_Number:["",bi.required],Website:[""],Facebook:[""],Instagram:[""],Description:["",bi.required],Service_Type:["",bi.required],Image:[""],Date_Created:[""],Date_Updated:[""],Approved:[""]})}onFileSelected(s){this.selectedFile=s.target.files[0]}ngOnInit(){this.serviceId=this.route.snapshot.paramMap.get("id"),this.servicesService.getServiceById(this.serviceId).subscribe(s=>{this.serviceForm.patchValue({Id:this.serviceId,Name:s?.Name,Email:s?.Email,Phone_Number:s?.Phone_Number,Service_Type:s?.Service_Type,Website:s?.Website,Facebook:s?.Facebook,Instagram:s?.Instagram,Description:s?.Description,Date_Created:s?.Date_Created,Date_Updated:s?.Date_Updated,Approved:s?.Approved}),s?.Image&&(this.oldImage=s?.Image)}),this.fetchServiceTypes()}fetchServiceTypes(){this.servicesService.getAllServiceTypes().subscribe(s=>{this.serviceTypes=s})}onSubmit(){this.serviceForm.valid&&(this.serviceObj.id=this.serviceId?this.serviceId:"0",this.serviceObj.Name=this.serviceForm.value.Name,this.serviceObj.Phone_Number=this.serviceForm.value.Phone_Number,this.serviceObj.Service_Type=this.serviceForm.value.Service_Type,this.serviceObj.Community_Sponsor=!1,this.serviceObj.Email=this.serviceForm.value.Email,this.serviceObj.Website=this.serviceForm.value.Website,this.serviceObj.Facebook=this.serviceForm.value.Facebook,this.serviceObj.Instagram=this.serviceForm.value.Instagram,this.serviceObj.Description=this.serviceForm.value.Description,this.serviceObj.Date_Created=this.serviceForm.value.Date_Created,this.serviceObj.Date_Updated=this.serviceForm.value.Date_Updated,this.serviceObj.Approved=this.serviceForm.value.Approved,this.serviceObj.Image=this.serviceForm.value.Image,this.selectedFile?(console.log(this.selectedFile),this.imageUploadService.uploadImage(this.selectedFile,"serviceImages").subscribe(s=>{this.serviceObj.Image=s,this.saveService()})):(this.oldImage&&(this.serviceObj.Image=this.oldImage),this.saveService()))}saveService(){const s={id:this.serviceObj.id,Name:this.serviceObj.Name,Phone_Number:this.serviceObj.Phone_Number,Service_Type:this.serviceObj.Service_Type,Community_Sponsor:!1,Email:this.serviceObj.Email,Website:this.serviceObj.Website,Facebook:this.serviceObj.Facebook,Instagram:this.serviceObj.Instagram,Description:this.serviceObj.Description,Date_Created:this.serviceObj.Date_Created,Date_Updated:(new Date).getDate.toString(),Image:this.serviceObj.Image,Approved:!1,OpenHour:"",CloseHour:""};console.log(s);let h=this.route.snapshot.paramMap.get("id");this.servicesService.updateService(h,s).subscribe(g=>{console.log("Service updated successfully  ID:",g?.id),this.serviceForm.reset(),this.router.navigate(["/services",g?.id])})}static#e=this.\u0275fac=function(h){return new(h||c)(u.Y36(Zf),u.Y36(Or.gz),u.Y36(Or.F0),u.Y36(wf.r),u.Y36(Ng))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-edit-services"]],decls:55,vars:4,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","Name",1,"required"],["id","Name","formControlName","Name","required",""],["for","Email",1,"required"],["id","Email","type","Email","formControlName","Email"],["for","Phone_Number",1,"required"],["id","Phone_Number","formControlName","Phone_Number"],["for","Website"],["id","Website","formControlName","Website"],["for","Facebook"],["id","Facebook","formControlName","Facebook"],["for","Instagram"],["id","Instagram","formControlName","Instagram"],["for","Description",1,"required"],["id","Description","formControlName","Description"],["for","Image"],[1,"service-card-image-container"],[1,"service-card-image",3,"src"],["type","file","formControlName","Image",3,"change"],["for","Service_Type",1,"required"],["id","Service_Type","formControlName","Service_Type","required",""],[3,"value",4,"ngFor","ngForOf"],["type","submit",3,"disabled"],[2,"display","none"],["for","Approved"],["id","Approved","formControlName","Approved"],[3,"value"]],template:function(h,g){1&h&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._uU(3,"Lista de Servicii"),u.qZA()(),u.TgZ(4,"div",2)(5,"h2"),u._uU(6,"Adaugati serviciile oferite pentru membrii comunit\u0103\u021bii"),u.qZA()()(),u.TgZ(7,"div",3)(8,"form",4),u.NdJ("ngSubmit",function(){return g.onSubmit()}),u.TgZ(9,"div",5)(10,"label",6),u._uU(11,"Nume:"),u.qZA(),u._UZ(12,"input",7),u.qZA(),u.TgZ(13,"div",5)(14,"label",8),u._uU(15,"Adresa Email:"),u.qZA(),u._UZ(16,"input",9),u.qZA(),u.TgZ(17,"div",5)(18,"label",10),u._uU(19,"Numar de telefon:"),u.qZA(),u._UZ(20,"input",11),u.qZA(),u.TgZ(21,"div",5)(22,"label",12),u._uU(23,"Pagina Web:"),u.qZA(),u._UZ(24,"input",13),u.qZA(),u.TgZ(25,"div",5)(26,"label",14),u._uU(27,"Pagina Facebook:"),u.qZA(),u._UZ(28,"input",15),u.qZA(),u.TgZ(29,"div",5)(30,"label",16),u._uU(31,"Instagram:"),u.qZA(),u._UZ(32,"input",17),u.qZA(),u.TgZ(33,"div",5)(34,"label",18),u._uU(35,"Descriere a serviciile oferite:"),u.qZA(),u._UZ(36,"textarea",19),u.qZA(),u.TgZ(37,"div",5)(38,"label",20),u._uU(39,"Imagine:"),u.qZA(),u.TgZ(40,"div",21),u._UZ(41,"img",22),u.qZA(),u.TgZ(42,"input",23),u.NdJ("change",function($){return g.onFileSelected($)}),u.qZA()(),u.TgZ(43,"div",5)(44,"label",24),u._uU(45,"Categoria de serviciului:"),u.qZA(),u.TgZ(46,"select",25),u.YNc(47,pE,2,2,"option",26),u.qZA()(),u.TgZ(48,"button",27),u._uU(49,"Salvati Serviciu"),u.qZA(),u.TgZ(50,"div",28)(51,"div")(52,"label",29),u._uU(53,"Approved:"),u.qZA(),u._UZ(54,"input",30),u.qZA()()()()),2&h&&(u.xp6(8),u.Q6J("formGroup",g.serviceForm),u.xp6(33),u.Q6J("src",g.oldImage,u.LSH),u.xp6(6),u.Q6J("ngForOf",g.serviceTypes),u.xp6(1),u.Q6J("disabled",g.serviceForm.invalid))},dependencies:[W.sg,Qo,Xn,_i,Tl,Ml,Ju,Eh,xo,Ta,od],styles:['.hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.form-container[_ngcontent-%COMP%]{max-width:600px;margin:50px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:10px 20px;font-size:16px;border-radius:5px;cursor:pointer;margin:10px 0;transition:background-color .3s ease}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}button[_ngcontent-%COMP%]:hover, select[_ngcontent-%COMP%]:hover{background-color:#0056b3}button[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #007bff40}.service-card-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.service-card-image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover;border:2px solid #ddd}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}']})}return c})();var Fy=j(8266);function a_(c,o){if(1&c&&(u.TgZ(0,"div",5),u._UZ(1,"img",6),u.qZA()),2&c){const s=o.$implicit;u.xp6(1),u.Q6J("src",s,u.LSH)}}let up=(()=>{class c{constructor(s,h,g){this.route=s,this.router=h,this.offerService=g,this.images=[]}ngOnInit(){const s=this.route.snapshot.paramMap.get("id");s&&this.offerService.getOfferById(s).subscribe(h=>{this.offer=h,this.images=[h.Image1,h.Image2,h.Image3,h.Image4,h.Image5].filter(g=>!!g)})}goBack(){this.router.navigate(["/offers"])}static#e=this.\u0275fac=function(h){return new(h||c)(u.Y36(Or.gz),u.Y36(Or.F0),u.Y36(Ea.b))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-offer-detail"]],decls:45,vars:15,consts:[[1,"offer-detail"],[1,"carousel"],["class","image-container",4,"ngFor","ngForOf"],["target","_blank",3,"href"],[3,"click"],[1,"image-container"],["alt","Offer Image",3,"src"]],template:function(h,g){1&h&&(u.TgZ(0,"div",0)(1,"h2"),u._uU(2),u.qZA(),u.TgZ(3,"div",1),u.YNc(4,a_,2,1,"div",2),u.qZA(),u.TgZ(5,"p")(6,"strong"),u._uU(7,"Company Name:"),u.qZA(),u._uU(8),u.qZA(),u.TgZ(9,"p")(10,"strong"),u._uU(11,"Contact Name:"),u.qZA(),u._uU(12),u.qZA(),u.TgZ(13,"p")(14,"strong"),u._uU(15,"Phone Number:"),u.qZA(),u._uU(16),u.qZA(),u.TgZ(17,"p")(18,"strong"),u._uU(19,"Email:"),u.qZA(),u._uU(20),u.qZA(),u.TgZ(21,"p")(22,"strong"),u._uU(23,"Description:"),u.qZA(),u._uU(24),u.qZA(),u.TgZ(25,"p")(26,"strong"),u._uU(27,"Location:"),u.qZA(),u._uU(28),u.qZA(),u.TgZ(29,"p")(30,"strong"),u._uU(31,"Website:"),u.qZA(),u.TgZ(32,"a",3),u._uU(33),u.qZA()(),u.TgZ(34,"p")(35,"strong"),u._uU(36,"Offer Type:"),u.qZA(),u._uU(37),u.qZA(),u.TgZ(38,"p")(39,"strong"),u._uU(40,"Date Created:"),u.qZA(),u._uU(41),u.ALo(42,"date"),u.qZA(),u.TgZ(43,"button",4),u.NdJ("click",function(){return g.goBack()}),u._uU(44,"Back to Offers"),u.qZA()()),2&h&&(u.xp6(2),u.Oqu(null==g.offer?null:g.offer.Title),u.xp6(2),u.Q6J("ngForOf",g.images),u.xp6(4),u.hij(" ",null==g.offer?null:g.offer.Company_Name,""),u.xp6(4),u.hij(" ",null==g.offer?null:g.offer.Contact_Name,""),u.xp6(4),u.hij(" ",null==g.offer?null:g.offer.Phone_Number,""),u.xp6(4),u.hij(" ",null==g.offer?null:g.offer.Email,""),u.xp6(4),u.hij(" ",null==g.offer?null:g.offer.Description,""),u.xp6(4),u.hij(" ",null==g.offer?null:g.offer.Location,""),u.xp6(4),u.Q6J("href",null==g.offer?null:g.offer.Website,u.LSH),u.xp6(1),u.Oqu(null==g.offer?null:g.offer.Website),u.xp6(4),u.hij(" ",null==g.offer?null:g.offer.OfferType,""),u.xp6(4),u.hij(" ",u.xi3(42,12,null==g.offer?null:g.offer.Date_Created,"shortDate"),""))},dependencies:[W.sg,W.uU],styles:[".offer-detail[_ngcontent-%COMP%]{max-width:600px;margin:100px auto auto;padding:16px;border:1px solid #ddd;border-radius:4px;box-shadow:0 2px 4px #0000001a}.carousel[_ngcontent-%COMP%]{display:flex;overflow:hidden;max-height:300px;margin-bottom:16px}.image-container[_ngcontent-%COMP%]{flex:0 0 400px;overflow:hidden;position:relative}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;max-height:300px;object-fit:cover}button[_ngcontent-%COMP%]{display:block;margin:16px auto;padding:8px 16px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return c})();var Ja=j(4626);function Ly(c,o){if(1&c){const s=u.EpF();u.TgZ(0,"button",12),u.NdJ("click",function(){u.CHM(s);const g=u.oxw();return u.KtG(g.navigateToEditService(g.service.id))}),u._uU(1,"Edit"),u.qZA()}}let dp=(()=>{class c{constructor(s,h,g,P){this.route=s,this.servicesService=h,this.router=g,this.authService=P,this.service=new dd,this.serviceId=null,this.isLoggedIn$=this.authService.isLoggedIn()}ngOnInit(){this.serviceId=this.route.snapshot.paramMap.get("id"),this.servicesService.getServiceById(this.serviceId).subscribe(s=>{s&&(this.service.Community_Sponsor=s?.Community_Sponsor,this.service.Name=s.Name,this.service.Date_Created=s.Date_Created,this.service.Description=s.Description,this.service.Email=s.Email,this.service.Facebook=s.Facebook,this.service.Instagram=s.Instagram,this.service.Phone_Number=s.Phone_Number,this.service.Service_Type=s.Service_Type,this.service.Website=ay(s.Website),this.service.Image=s.Image,this.serviceId&&(this.service.id=this.serviceId),console.log("Image",s?.Image),(""==s.Image||void 0===s.Image)&&(this.service.Image="https://firebasestorage.googleapis.com/v0/b/romaniinseattle.appspot.com/o/serviceImages%2FdafaultImage.jpg?alt=media&token=3b0787df-12f0-444a-a426-013843534f1e"))})}goBack(){this.router.navigate(["/services"])}navigateToEditService(s){this.router.navigate(["/edit-service",s])}static#e=this.\u0275fac=function(h){return new(h||c)(u.Y36(Or.gz),u.Y36(wf.r),u.Y36(Or.F0),u.Y36(Ja.e))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-service-detail"]],decls:61,vars:22,consts:[[1,"service-details-container"],[1,"service-header"],[1,"forDebug"],[1,"service-content"],[1,"service-image"],[3,"src","alt"],[1,"service-details"],[1,"service-details-label"],["target","_blank",3,"href"],[1,"service-actions"],["class","editButton",3,"click",4,"ngIf"],[3,"click"],[1,"editButton",3,"click"]],template:function(h,g){1&h&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1")(3,"strong"),u._uU(4,"Name:"),u.qZA(),u._uU(5),u.qZA(),u.TgZ(6,"div",2)(7,"h3")(8,"strong"),u._uU(9,"Service Id:"),u.qZA(),u._uU(10),u.qZA()()(),u.TgZ(11,"div",3)(12,"div",4),u._UZ(13,"img",5),u.qZA(),u.TgZ(14,"div",6)(15,"div")(16,"label",7),u._uU(17,"Tip Serviciu:"),u.qZA(),u._uU(18),u.qZA(),u.TgZ(19,"div")(20,"label",7),u._uU(21,"Nr Telefon:"),u.qZA(),u._uU(22),u.qZA(),u.TgZ(23,"div")(24,"label",7),u._uU(25,"Email:"),u.qZA(),u._uU(26),u.qZA(),u.TgZ(27,"div")(28,"label",7),u._uU(29,"Website:"),u.qZA(),u.TgZ(30,"a",8),u._uU(31),u.qZA()(),u.TgZ(32,"div")(33,"label",7),u._uU(34,"Facebook:"),u.qZA(),u.TgZ(35,"a",8),u._uU(36),u.qZA()(),u.TgZ(37,"div")(38,"label",7),u._uU(39,"Instagram:"),u.qZA(),u.TgZ(40,"a",8),u._uU(41),u.qZA()(),u.TgZ(42,"div")(43,"label",7),u._uU(44,"Sponsor:"),u.qZA(),u._uU(45),u.qZA(),u.TgZ(46,"div")(47,"label",7),u._uU(48,"Date Created:"),u.qZA(),u._uU(49),u.ALo(50,"date"),u.qZA(),u.TgZ(51,"div")(52,"label",7),u._uU(53,"Description:"),u.qZA(),u._uU(54),u.qZA()()(),u.TgZ(55,"div",9),u.YNc(56,Ly,2,0,"button",10),u.ALo(57,"async"),u._uU(58," \xa0 "),u.TgZ(59,"button",11),u.NdJ("click",function(){return g.goBack()}),u._uU(60,"Inapoi la Servicii"),u.qZA()()()),2&h&&(u.xp6(5),u.Oqu(g.service.Name),u.xp6(5),u.Oqu(g.service.id),u.xp6(3),u.s9C("alt",g.service.Name),u.Q6J("src",g.service.Image,u.LSH),u.xp6(5),u.hij(" ",g.service.Service_Type,""),u.xp6(4),u.hij(" ",g.service.Phone_Number,""),u.xp6(4),u.hij(" ",g.service.Email,""),u.xp6(4),u.Q6J("href",g.service.Website,u.LSH),u.xp6(1),u.Oqu(g.service.Website),u.xp6(4),u.Q6J("href",g.service.Facebook,u.LSH),u.xp6(1),u.Oqu(g.service.Facebook),u.xp6(4),u.Q6J("href",g.service.Instagram,u.LSH),u.xp6(1),u.Oqu(g.service.Instagram),u.xp6(4),u.hij(" ",g.service.Community_Sponsor?"Yes":"No",""),u.xp6(4),u.hij(" ",u.xi3(50,17,g.service.Date_Created,"shortDate"),""),u.xp6(5),u.Oqu(g.service.Description),u.xp6(2),u.Q6J("ngIf",u.lcZ(57,20,g.isLoggedIn$)))},dependencies:[W.O5,W.Ov,W.uU],styles:[".forDebug[_ngcontent-%COMP%]{display:none}.editButton[_ngcontent-%COMP%]{visibility:hidden}.service-details-container[_ngcontent-%COMP%]{max-width:800px;margin:100px auto 0;padding:20px;background-color:#f8f9fa;border-radius:10px;box-shadow:0 0 10px #0000001a}.service-details-label[_ngcontent-%COMP%]{display:inline-block;font-size:1.1em;font-weight:700;padding:10px}.service-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;font-size:2.5em;margin-bottom:20px;color:#333}.service-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start}.service-image[_ngcontent-%COMP%]{flex:1;margin-right:20px}.service-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;border-radius:10px;box-shadow:0 0 10px #0000001a}.service-details[_ngcontent-%COMP%]{flex:2;font-size:1.2em;color:#555}.service-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2em;margin-bottom:10px;color:#444}.service-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px}.service-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.service-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.service-actions[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.service-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;font-size:1em;color:#fff;background-color:#007bff;border:none;border-radius:5px;cursor:pointer}.service-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return c})(),c_=(()=>{class c{constructor(s,h){this.authService=s,this.router=h,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).subscribe({next:()=>this.router.navigate(["/admin"]),error:s=>this.handleLoginError(s)})}handleLoginError(s){switch(s.code){case"auth/user-not-found":this.errorMessage="No user found with this email.";break;case"auth/wrong-password":this.errorMessage="Incorrect password.";break;case"auth/invalid-email":this.errorMessage="Invalid email format.";break;default:this.errorMessage="Login failed. Please try again."}console.log(this.errorMessage)}static#e=this.\u0275fac=function(h){return new(h||c)(u.Y36(Ja.e),u.Y36(Or.F0))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-login"]],decls:15,vars:2,consts:[[1,"login-container"],[1,"login-box"],[3,"submit"],[1,"input-group"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModel","ngModelChange"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModel","ngModelChange"],["type","submit"]],template:function(h,g){1&h&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h2"),u._uU(3,"Login"),u.qZA(),u.TgZ(4,"form",2),u.NdJ("submit",function(){return g.login()}),u.TgZ(5,"div",3)(6,"label",4),u._uU(7,"Email"),u.qZA(),u.TgZ(8,"input",5),u.NdJ("ngModelChange",function($){return g.email=$}),u.qZA()(),u.TgZ(9,"div",3)(10,"label",6),u._uU(11,"Password"),u.qZA(),u.TgZ(12,"input",7),u.NdJ("ngModelChange",function($){return g.password=$}),u.qZA()(),u.TgZ(13,"button",8),u._uU(14,"Login"),u.qZA()()()()),2&h&&(u.xp6(8),u.Q6J("ngModel",g.email),u.xp6(4),u.Q6J("ngModel",g.password))},dependencies:[Qo,Tl,Ju,Eh,xo,zf,Dh],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:linear-gradient(to right,#007bff,#0056b3)}.login-box[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:8px;box-shadow:0 2px 4px #0000001a;width:300px;text-align:center}.login-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px;font-size:24px;color:#333}.input-group[_ngcontent-%COMP%]{margin-bottom:15px;text-align:left}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;color:#333}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;box-sizing:border-box}button[_ngcontent-%COMP%]{width:100%;padding:10px 20px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:16px;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return c})();const Vy=[{path:"",component:Yp},{path:"rules",component:Wf},{path:"analytics",component:Fy.d},{path:"events",component:Fh},{path:"add-event",component:hE},{path:"offers",component:Kf},{path:"add-offers",component:fE},{path:"offers/:id",component:up},{path:"services",component:Eg},{path:"add-service",component:Uc},{path:"services/add",component:Uc},{path:"services/:id",component:dp},{path:"edit-service/:id",component:kg},{path:"test",component:(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-test"]],decls:17,vars:0,consts:[[1,"hero"],[1,"container","hero-content"],[1,"hero-text"],["href","https://www.facebook.com/groups/seattlecommunity",1,"btn"],[1,"hero-image"],["src","https://via.placeholder.com/600x400","alt","Seattle"],[1,"community-description"],[1,"container"]],template:function(h,g){1&h&&(u.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1"),u._uU(4,"Welcome to Seattle Community"),u.qZA(),u.TgZ(5,"p"),u._uU(6,"Your go-to place for community services and events"),u.qZA(),u.TgZ(7,"a",3),u._uU(8,"Join our Facebook Group"),u.qZA()(),u.TgZ(9,"div",4),u._UZ(10,"img",5),u.qZA()()(),u.TgZ(11,"section",6)(12,"div",7)(13,"h2"),u._uU(14,"About Our Community"),u.qZA(),u.TgZ(15,"p"),u._uU(16,"Seattle Community is dedicated to bringing together local residents, businesses, and organizations to foster a sense of unity and support. We offer a variety of services, events, and opportunities to connect with others in the area. Join us and be a part of a vibrant and active community!"),u.qZA()()())},styles:[".hero[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#f5f5f5;padding:2rem 0}.hero-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.hero-text[_ngcontent-%COMP%]{flex:1}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1.5rem}.btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:.75rem 1.5rem;text-decoration:none;border-radius:5px;font-size:1rem}.hero-image[_ngcontent-%COMP%]{flex:1}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:5px}.community-description[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:2rem 0;text-align:center}.community-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.community-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin:0 auto;max-width:800px}"]})}return c})()},{path:"login",component:c_},{path:"",redirectTo:"/login",pathMatch:"full"},{path:"admin",loadChildren:()=>j.e(525).then(j.bind(j,1525)).then(c=>c.AdminModule)}];let Uy=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({imports:[Or.Bz.forRoot(Vy),Or.Bz]})}return c})();var gE=j(5513),Fg=j(6232),By=j(3093),Lg=j(940);const Cd=new u.OlP("angularfire2.analytics.analyticsCollectionEnabled"),jy=new u.OlP("angularfire2.analytics.appVersion"),Hy=new u.OlP("angularfire2.analytics.appName"),u_=new u.OlP("angularfire2.analytics.debugMode"),mE=new u.OlP("angularfire2.analytics.config"),ea="dataLayer";let Ms=(()=>{class c{measurementId;analyticsInitialized=new Promise(()=>{});updateConfig(s){var h=this;return(0,Za.Z)(function*(){yield h.analyticsInitialized,window.gtag("config",h.measurementId,{...s,update:!0})})()}constructor(s,h,g,P,$,te,me,ke,yt){if((0,W.NF)(me)){window[ea]=window[ea]||[];const sn=(...nn)=>"config"===nn[0]&&"firebase"===nn[2].origin&&(this.measurementId=nn[1],!0),gn=nn=>{window.gtag=(...En)=>{nn&&nn(...En),"event"===En[0]&&En[2].send_to===this.measurementId&&(P&&(En[2].app_name=P),g&&(En[2].app_version=g)),$&&typeof console<"u"&&console.info(...En),function(...Ar){window[ea].push(arguments)}(...En)}};window[ea].some(sn)?(this.analyticsInitialized=Promise.resolve(),gn()):this.analyticsInitialized=new Promise(nn=>{gn((...En)=>{sn(...En)&&nn()})}),te&&this.updateConfig(te),$&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const Ft=(0,zn.of)(void 0).pipe((0,By.Q)(yt.outsideAngular),(0,yu.w)(gE.Gb),(0,yu.w)(sn=>sn?ke.runOutsideAngular(()=>j.e(861).then(j.bind(j,861))):Fg.E),(0,Yn.U)(()=>(0,Oo.cc)("analytics","AngularFireAnalytics",s.name,()=>{const sn=s.analytics();return!1===h&&sn.setAnalyticsCollectionEnabled(!1),sn},[s,h,te,$])),(0,Lg.d)({bufferSize:1,refCount:!1}));return(0,Oo.pX)(this,Ft,ke)}static \u0275fac=function(h){return new(h||c)(u.LFG(Oo.Ot),u.LFG(Cd,8),u.LFG(jy,8),u.LFG(Hy,8),u.LFG(u_,8),u.LFG(mE,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Wr.HU))};static \u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"any"})}return c})();const Vl=function(c){return{"open-bar1":c}},Ul=function(c){return{"open-bar2":c}},Ad=function(c){return{"open-bar3":c}},Xr=function(c){return{active:c}};let Bl=(()=>{class c{constructor(){this.menuOpen=!1}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-navigation"]],decls:25,vars:12,consts:[[1,"navbar"],[1,"navbar-container"],[1,"logo"],["routerLink","/"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item"],["routerLink","/",1,"nav-links",3,"click"],["routerLink","/services",1,"nav-links",3,"click"],["routerLink","/events",1,"nav-links",3,"click"],["routerLink","/offers",1,"nav-links",3,"click"],["routerLink","/rules",1,"nav-links",3,"click"]],template:function(h,g){1&h&&(u.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),u._uU(4,"Romani in Seattle"),u.qZA()(),u.TgZ(5,"div",4),u.NdJ("click",function(){return g.toggleMenu()}),u._UZ(6,"div",5)(7,"div",6)(8,"div",7),u.qZA(),u.TgZ(9,"ul",8)(10,"li",9)(11,"a",10),u.NdJ("click",function(){return g.closeMenu()}),u._uU(12,"Home"),u.qZA()(),u.TgZ(13,"li",9)(14,"a",11),u.NdJ("click",function(){return g.closeMenu()}),u._uU(15,"Servicii"),u.qZA()(),u.TgZ(16,"li",9)(17,"a",12),u.NdJ("click",function(){return g.closeMenu()}),u._uU(18,"Evenimente"),u.qZA()(),u.TgZ(19,"li",9)(20,"a",13),u.NdJ("click",function(){return g.closeMenu()}),u._uU(21,"Oferte"),u.qZA()(),u.TgZ(22,"li",9)(23,"a",14),u.NdJ("click",function(){return g.closeMenu()}),u._uU(24,"Regulament"),u.qZA()()()()()),2&h&&(u.xp6(6),u.Q6J("ngClass",u.VKq(4,Vl,g.menuOpen)),u.xp6(1),u.Q6J("ngClass",u.VKq(6,Ul,g.menuOpen)),u.xp6(1),u.Q6J("ngClass",u.VKq(8,Ad,g.menuOpen)),u.xp6(1),u.Q6J("ngClass",u.VKq(10,Xr,g.menuOpen)))},dependencies:[W.mk,Or.rH],styles:[".navbar[_ngcontent-%COMP%]{background-color:var(--nav-background-color);position:fixed;width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:70px;max-width:1200px;margin:0 auto}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:34px;font-weight:700;color:var(--button-color);text-decoration:none}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);text-decoration:none;text-transform:uppercase;font-size:18px;font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:500;font-style:bold}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:#fff}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:#fff}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:flex-start}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;width:100%;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);text-decoration:none;text-transform:uppercase;font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:200;font-style:normal;color:var(--nav-active-text);font-size:24px}}"]})}return c})(),jc=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"footer"],[1,"footer-content"]],template:function(h,g){1&h&&(u.TgZ(0,"footer",0)(1,"div",1),u._uU(2," \xa9 2024 Romani in Seattle. All rights reserved. "),u.qZA()())},styles:[".footer[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%;height:50px;background-color:#333;color:#fff;display:flex;align-items:center;justify-content:center;text-align:center;box-shadow:0 -2px 5px #0000001a}.footer-content[_ngcontent-%COMP%]{font-size:.9rem}"]})}return c})(),Hc=(()=>{class c{constructor(s,h,g,P){this.router=s,this.analytics=h,this.activatedRoute=g,this.firestore=P,this.title="romani-in-seattle"}ngOnInit(){this.router.events.pipe((0,Mn.h)(s=>s instanceof Or.m2)).subscribe(s=>{const h=s.urlAfterRedirects,g=this.activatedRoute.snapshot.queryParams,P=new Date;this.firestore.collection("analytics").add({page_path:h,query_params:g,timestamp:P}).then(()=>{console.log("Analytics data saved")}).catch($=>{console.error("Error saving analytics data",$)})})}static#e=this.\u0275fac=function(h){return new(h||c)(u.Y36(Or.F0),u.Y36(Ms),u.Y36(Or.gz),u.Y36(o_.ST))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"main-layout"]],template:function(h,g){1&h&&(u.TgZ(0,"div",0),u._UZ(1,"app-navigation")(2,"router-outlet")(3,"app-footer"),u.qZA())},dependencies:[Or.lC,Bl,jc],styles:[".content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;min-width:calc(100vw - 70px);min-height:calc(100vh - 70px);padding:20px}"]})}return c})();class Dd{}class Sd{}const $c="*";function Md(c,o=null){return{type:2,steps:c,options:o}}function zc(c){return{type:6,styles:c,offset:null}}class pp{constructor(o=0,s=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=o+s}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(o=>o()),this._onDoneFns=[])}onStart(o){this._originalOnStartFns.push(o),this._onStartFns.push(o)}onDone(o){this._originalOnDoneFns.push(o),this._onDoneFns.push(o)}onDestroy(o){this._onDestroyFns.push(o)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(o=>o()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(o=>o()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(o){this._position=this.totalTime?o*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(o){const s="start"==o?this._onStartFns:this._onDoneFns;s.forEach(h=>h()),s.length=0}}class EE{constructor(o){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=o;let s=0,h=0,g=0;const P=this.players.length;0==P?queueMicrotask(()=>this._onFinish()):this.players.forEach($=>{$.onDone(()=>{++s==P&&this._onFinish()}),$.onDestroy(()=>{++h==P&&this._onDestroy()}),$.onStart(()=>{++g==P&&this._onStart()})}),this.totalTime=this.players.reduce(($,te)=>Math.max($,te.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(o=>o()),this._onDoneFns=[])}init(){this.players.forEach(o=>o.init())}onStart(o){this._onStartFns.push(o)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(o=>o()),this._onStartFns=[])}onDone(o){this._onDoneFns.push(o)}onDestroy(o){this._onDestroyFns.push(o)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(o=>o.play())}pause(){this.players.forEach(o=>o.pause())}restart(){this.players.forEach(o=>o.restart())}finish(){this._onFinish(),this.players.forEach(o=>o.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(o=>o.destroy()),this._onDestroyFns.forEach(o=>o()),this._onDestroyFns=[])}reset(){this.players.forEach(o=>o.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(o){const s=o*this.totalTime;this.players.forEach(h=>{const g=h.totalTime?Math.min(1,s/h.totalTime):1;h.setPosition(g)})}getPosition(){const o=this.players.reduce((s,h)=>null===s||h.totalTime>s.totalTime?h:s,null);return null!=o?o.getPosition():0}beforeDestroy(){this.players.forEach(o=>{o.beforeDestroy&&o.beforeDestroy()})}triggerCallback(o){const s="start"==o?this._onStartFns:this._onDoneFns;s.forEach(h=>h()),s.length=0}}function g_(c){return new u.vHH(3e3,!1)}function Sa(c){switch(c.length){case 0:return new pp;case 1:return c[0];default:return new EE(c)}}function wu(c,o,s=new Map,h=new Map){const g=[],P=[];let $=-1,te=null;if(o.forEach(me=>{const ke=me.get("offset"),yt=ke==$,Ft=yt&&te||new Map;me.forEach((sn,gn)=>{let tn=gn,nn=sn;if("offset"!==gn)switch(tn=c.normalizePropertyName(tn,g),nn){case"!":nn=s.get(gn);break;case $c:nn=h.get(gn);break;default:nn=c.normalizeStyleValue(gn,tn,nn,g)}Ft.set(tn,nn)}),yt||P.push(Ft),te=Ft,$=ke}),g.length)throw function Qh(c){return new u.vHH(3502,!1)}();return P}function qs(c,o,s,h){switch(o){case"start":c.onStart(()=>h(s&&yp(s,"start",c)));break;case"done":c.onDone(()=>h(s&&yp(s,"done",c)));break;case"destroy":c.onDestroy(()=>h(s&&yp(s,"destroy",c)))}}function yp(c,o,s){const P=qg(c.element,c.triggerName,c.fromState,c.toState,o||c.phaseName,s.totalTime??c.totalTime,!!s.disabled),$=c._data;return null!=$&&(P._data=$),P}function qg(c,o,s,h,g="",P=0,$){return{element:c,triggerName:o,fromState:s,toState:h,phaseName:g,totalTime:P,disabled:!!$}}function Ps(c,o,s){let h=c.get(o);return h||c.set(o,h=s),h}function E(c){const o=c.indexOf(":");return[c.substring(1,o),c.slice(o+1)]}const V=(()=>typeof document>"u"?null:document.documentElement)();function K(c){const o=c.parentNode||c.host||null;return o===V?null:o}let Ze=null,ht=!1;function Nr(c,o){for(;o;){if(o===c)return!0;o=K(o)}return!1}function vs(c,o,s){if(s)return Array.from(c.querySelectorAll(o));const h=c.querySelector(o);return h?[h]:[]}let Fd=(()=>{class c{validateStyleProperty(s){return function rn(c){Ze||(Ze=function ys(){return typeof document<"u"?document.body:null}()||{},ht=!!Ze.style&&"WebkitAppearance"in Ze.style);let o=!0;return Ze.style&&!function le(c){return"ebkit"==c.substring(1,6)}(c)&&(o=c in Ze.style,!o&&ht&&(o="Webkit"+c.charAt(0).toUpperCase()+c.slice(1)in Ze.style)),o}(s)}matchesElement(s,h){return!1}containsElement(s,h){return Nr(s,h)}getParentElement(s){return K(s)}query(s,h,g){return vs(s,h,g)}computeStyle(s,h,g){return g||""}animate(s,h,g,P,$,te=[],me){return new pp(g,P)}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})(),No=(()=>{class c{static#e=this.NOOP=new Fd}return c})();const vp=1e3,bE="ng-enter",I_="ng-leave",b_="ng-trigger",Zg=".ng-trigger",T_="ng-animating",iv=".ng-animating";function Au(c){if("number"==typeof c)return c;const o=c.match(/^(-?[\.\d]+)(m?s)/);return!o||o.length<2?0:sv(parseFloat(o[1]),o[2])}function sv(c,o){return"s"===o?c*vp:c}function C_(c,o,s){return c.hasOwnProperty("duration")?c:function T0(c,o,s){let g,P=0,$="";if("string"==typeof c){const te=c.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===te)return o.push(g_()),{duration:0,delay:0,easing:""};g=sv(parseFloat(te[1]),te[2]);const me=te[3];null!=me&&(P=sv(parseFloat(me),te[4]));const ke=te[5];ke&&($=ke)}else g=c;if(!s){let te=!1,me=o.length;g<0&&(o.push(function gp(){return new u.vHH(3100,!1)}()),te=!0),P<0&&(o.push(function mp(){return new u.vHH(3101,!1)}()),te=!0),te&&o.splice(me,0,g_())}return{duration:g,delay:P,easing:$}}(c,o,s)}function Wg(c,o={}){return Object.keys(c).forEach(s=>{o[s]=c[s]}),o}function TE(c){const o=new Map;return Object.keys(c).forEach(s=>{o.set(s,c[s])}),o}function ta(c,o=new Map,s){if(s)for(let[h,g]of s)o.set(h,g);for(let[h,g]of c)o.set(h,g);return o}function Du(c,o,s){o.forEach((h,g)=>{const P=wE(g);s&&!s.has(g)&&s.set(g,c.style[P]),c.style[P]=h})}function Ip(c,o){o.forEach((s,h)=>{const g=wE(h);c.style[g]=""})}function bp(c){return Array.isArray(c)?1==c.length?c[0]:Md(c):c}const A_=new RegExp("{{\\s*(.+?)\\s*}}","g");function w0(c){let o=[];if("string"==typeof c){let s;for(;s=A_.exec(c);)o.push(s[1]);A_.lastIndex=0}return o}function Cp(c,o,s){const h=c.toString(),g=h.replace(A_,(P,$)=>{let te=o[$];return null==te&&(s.push(function Od(c){return new u.vHH(3003,!1)}()),te=""),te.toString()});return g==h?c:g}function CE(c){const o=[];let s=c.next();for(;!s.done;)o.push(s.value),s=c.next();return o}const UT=/-+([a-z0-9])/g;function wE(c){return c.replace(UT,(...o)=>o[1].toUpperCase())}function ii(c,o,s){switch(o.type){case 7:return c.visitTrigger(o,s);case 0:return c.visitState(o,s);case 1:return c.visitTransition(o,s);case 2:return c.visitSequence(o,s);case 3:return c.visitGroup(o,s);case 4:return c.visitAnimate(o,s);case 5:return c.visitKeyframes(o,s);case 6:return c.visitStyle(o,s);case 8:return c.visitReference(o,s);case 9:return c.visitAnimateChild(o,s);case 10:return c.visitAnimateRef(o,s);case 11:return c.visitQuery(o,s);case 12:return c.visitStagger(o,s);default:throw function Pi(c){return new u.vHH(3004,!1)}()}}function AE(c,o){return window.getComputedStyle(c)[o]}const Ld="*";function zI(c,o){const s=[];return"string"==typeof c?c.split(/\s*,\s*/).forEach(h=>function GI(c,o,s){if(":"==c[0]){const me=function D0(c,o){switch(c){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(s,h)=>parseFloat(h)>parseFloat(s);case":decrement":return(s,h)=>parseFloat(h)<parseFloat(s);default:return o.push(function Qy(c){return new u.vHH(3016,!1)}()),"* => *"}}(c,s);if("function"==typeof me)return void o.push(me);c=me}const h=c.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==h||h.length<4)return s.push(function __(c){return new u.vHH(3015,!1)}()),o;const g=h[1],P=h[2],$=h[3];o.push(qI(g,$));"<"==P[0]&&!(g==Ld&&$==Ld)&&o.push(qI($,g))}(h,s,o)):s.push(c),s}const ov=new Set(["true","1"]),D_=new Set(["false","0"]);function qI(c,o){const s=ov.has(c)||D_.has(c),h=ov.has(o)||D_.has(o);return(g,P)=>{let $=c==Ld||c==g,te=o==Ld||o==P;return!$&&s&&"boolean"==typeof g&&($=g?ov.has(c):D_.has(c)),!te&&h&&"boolean"==typeof P&&(te=P?ov.has(o):D_.has(o)),$&&te}}const SE=new RegExp("s*:selfs*,?","g");function Gc(c,o,s,h){return new ZI(c).build(o,s,h)}class ZI{constructor(o){this._driver=o}build(o,s,h){const g=new $l(s);return this._resetContextStyleTimingState(g),ii(this,bp(o),g)}_resetContextStyleTimingState(o){o.currentQuerySelector="",o.collectedStyles=new Map,o.collectedStyles.set("",new Map),o.currentTime=0}visitTrigger(o,s){let h=s.queryCount=0,g=s.depCount=0;const P=[],$=[];return"@"==o.name.charAt(0)&&s.errors.push(function Zy(){return new u.vHH(3006,!1)}()),o.definitions.forEach(te=>{if(this._resetContextStyleTimingState(s),0==te.type){const me=te,ke=me.name;ke.toString().split(/\s*,\s*/).forEach(yt=>{me.name=yt,P.push(this.visitState(me,s))}),me.name=ke}else if(1==te.type){const me=this.visitTransition(te,s);h+=me.queryCount,g+=me.depCount,$.push(me)}else s.errors.push(function Kh(){return new u.vHH(3007,!1)}())}),{type:7,name:o.name,states:P,transitions:$,queryCount:h,depCount:g,options:null}}visitState(o,s){const h=this.visitStyle(o.styles,s),g=o.options&&o.options.params||null;if(h.containsDynamicStyles){const P=new Set,$=g||{};h.styles.forEach(te=>{te instanceof Map&&te.forEach(me=>{w0(me).forEach(ke=>{$.hasOwnProperty(ke)||P.add(ke)})})}),P.size&&(CE(P.values()),s.errors.push(function m_(c,o){return new u.vHH(3008,!1)}()))}return{type:0,name:o.name,style:h,options:g?{params:g}:null}}visitTransition(o,s){s.queryCount=0,s.depCount=0;const h=ii(this,bp(o.animation),s);return{type:1,matchers:zI(o.expr,s.errors),animation:h,queryCount:s.queryCount,depCount:s.depCount,options:wp(o.options)}}visitSequence(o,s){return{type:2,steps:o.steps.map(h=>ii(this,h,s)),options:wp(o.options)}}visitGroup(o,s){const h=s.currentTime;let g=0;const P=o.steps.map($=>{s.currentTime=h;const te=ii(this,$,s);return g=Math.max(g,s.currentTime),te});return s.currentTime=g,{type:3,steps:P,options:wp(o.options)}}visitAnimate(o,s){const h=function P0(c,o){if(c.hasOwnProperty("duration"))return c;if("number"==typeof c)return ME(C_(c,o).duration,0,"");const s=c;if(s.split(/\s+/).some(P=>"{"==P.charAt(0)&&"{"==P.charAt(1))){const P=ME(0,0,"");return P.dynamic=!0,P.strValue=s,P}const g=C_(s,o);return ME(g.duration,g.delay,g.easing)}(o.timings,s.errors);s.currentAnimateTimings=h;let g,P=o.styles?o.styles:zc({});if(5==P.type)g=this.visitKeyframes(P,s);else{let $=o.styles,te=!1;if(!$){te=!0;const ke={};h.easing&&(ke.easing=h.easing),$=zc(ke)}s.currentTime+=h.duration+h.delay;const me=this.visitStyle($,s);me.isEmptyStep=te,g=me}return s.currentAnimateTimings=null,{type:4,timings:h,style:g,options:null}}visitStyle(o,s){const h=this._makeStyleAst(o,s);return this._validateStyleAst(h,s),h}_makeStyleAst(o,s){const h=[],g=Array.isArray(o.styles)?o.styles:[o.styles];for(let te of g)"string"==typeof te?te===$c?h.push(te):s.errors.push(new u.vHH(3002,!1)):h.push(TE(te));let P=!1,$=null;return h.forEach(te=>{if(te instanceof Map&&(te.has("easing")&&($=te.get("easing"),te.delete("easing")),!P))for(let me of te.values())if(me.toString().indexOf("{{")>=0){P=!0;break}}),{type:6,styles:h,easing:$,offset:o.offset,containsDynamicStyles:P,options:null}}_validateStyleAst(o,s){const h=s.currentAnimateTimings;let g=s.currentTime,P=s.currentTime;h&&P>0&&(P-=h.duration+h.delay),o.styles.forEach($=>{"string"!=typeof $&&$.forEach((te,me)=>{const ke=s.collectedStyles.get(s.currentQuerySelector),yt=ke.get(me);let Ft=!0;yt&&(P!=g&&P>=yt.startTime&&g<=yt.endTime&&(s.errors.push(function Ky(c,o,s,h,g){return new u.vHH(3010,!1)}()),Ft=!1),P=yt.startTime),Ft&&ke.set(me,{startTime:P,endTime:g}),s.options&&function Tp(c,o,s){const h=o.params||{},g=w0(c);g.length&&g.forEach(P=>{h.hasOwnProperty(P)||s.push(function Ug(c){return new u.vHH(3001,!1)}())})}(te,s.options,s.errors)})})}visitKeyframes(o,s){const h={type:5,styles:[],options:null};if(!s.currentAnimateTimings)return s.errors.push(function jl(){return new u.vHH(3011,!1)}()),h;let P=0;const $=[];let te=!1,me=!1,ke=0;const yt=o.steps.map(Ar=>{const Kr=this._makeStyleAst(Ar,s);let Ur=null!=Kr.offset?Kr.offset:function M0(c){if("string"==typeof c)return null;let o=null;if(Array.isArray(c))c.forEach(s=>{if(s instanceof Map&&s.has("offset")){const h=s;o=parseFloat(h.get("offset")),h.delete("offset")}});else if(c instanceof Map&&c.has("offset")){const s=c;o=parseFloat(s.get("offset")),s.delete("offset")}return o}(Kr.styles),Dr=0;return null!=Ur&&(P++,Dr=Kr.offset=Ur),me=me||Dr<0||Dr>1,te=te||Dr<ke,ke=Dr,$.push(Dr),Kr});me&&s.errors.push(function Yy(){return new u.vHH(3012,!1)}()),te&&s.errors.push(function IE(){return new u.vHH(3200,!1)}());const Ft=o.steps.length;let sn=0;P>0&&P<Ft?s.errors.push(function kd(){return new u.vHH(3202,!1)}()):0==P&&(sn=1/(Ft-1));const gn=Ft-1,tn=s.currentTime,nn=s.currentAnimateTimings,En=nn.duration;return yt.forEach((Ar,Kr)=>{const Ur=sn>0?Kr==gn?1:sn*Kr:$[Kr],Dr=Ur*En;s.currentTime=tn+nn.delay+Dr,nn.duration=Dr,this._validateStyleAst(Ar,s),Ar.offset=Ur,h.styles.push(Ar)}),h}visitReference(o,s){return{type:8,animation:ii(this,bp(o.animation),s),options:wp(o.options)}}visitAnimateChild(o,s){return s.depCount++,{type:9,options:wp(o.options)}}visitAnimateRef(o,s){return{type:10,animation:this.visitReference(o.animation,s),options:wp(o.options)}}visitQuery(o,s){const h=s.currentQuerySelector,g=o.options||{};s.queryCount++,s.currentQuery=o;const[P,$]=function Su(c){const o=!!c.split(/\s*,\s*/).find(s=>":self"==s);return o&&(c=c.replace(SE,"")),c=c.replace(/@\*/g,Zg).replace(/@\w+/g,s=>Zg+"-"+s.slice(1)).replace(/:animating/g,iv),[c,o]}(o.selector);s.currentQuerySelector=h.length?h+" "+P:P,Ps(s.collectedStyles,s.currentQuerySelector,new Map);const te=ii(this,bp(o.animation),s);return s.currentQuery=null,s.currentQuerySelector=h,{type:11,selector:P,limit:g.limit||0,optional:!!g.optional,includeSelf:$,animation:te,originalSelector:o.selector,options:wp(o.options)}}visitStagger(o,s){s.currentQuery||s.errors.push(function _p(){return new u.vHH(3013,!1)}());const h="full"===o.timings?{duration:0,delay:0,easing:"full"}:C_(o.timings,s.errors,!0);return{type:12,animation:ii(this,bp(o.animation),s),timings:h,options:null}}}class $l{constructor(o){this.errors=o,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function wp(c){return c?(c=Wg(c)).params&&(c.params=function Hl(c){return c?Wg(c):null}(c.params)):c={},c}function ME(c,o,s){return{duration:c,delay:o,easing:s}}function PE(c,o,s,h,g,P,$=null,te=!1){return{type:1,element:c,keyframes:o,preStyleProps:s,postStyleProps:h,duration:g,delay:P,totalTime:g+P,easing:$,subTimeline:te}}class av{constructor(){this._map=new Map}get(o){return this._map.get(o)||[]}append(o,s){let h=this._map.get(o);h||this._map.set(o,h=[]),h.push(...s)}has(o){return this._map.has(o)}clear(){this._map.clear()}}const WI=new RegExp(":enter","g"),KI=new RegExp(":leave","g");function xE(c,o,s,h,g,P=new Map,$=new Map,te,me,ke=[]){return(new x0).buildKeyframes(c,o,s,h,g,P,$,te,me,ke)}class x0{buildKeyframes(o,s,h,g,P,$,te,me,ke,yt=[]){ke=ke||new av;const Ft=new Kg(o,s,ke,g,P,yt,[]);Ft.options=me;const sn=me.delay?Au(me.delay):0;Ft.currentTimeline.delayNextStep(sn),Ft.currentTimeline.setStyles([$],null,Ft.errors,me),ii(this,h,Ft);const gn=Ft.timelines.filter(tn=>tn.containsAnimation());if(gn.length&&te.size){let tn;for(let nn=gn.length-1;nn>=0;nn--){const En=gn[nn];if(En.element===s){tn=En;break}}tn&&!tn.allowOnlyTimelineStyles()&&tn.setStyles([te],null,Ft.errors,me)}return gn.length?gn.map(tn=>tn.buildKeyframes()):[PE(s,[],[],[],0,sn,"",!1)]}visitTrigger(o,s){}visitState(o,s){}visitTransition(o,s){}visitAnimateChild(o,s){const h=s.subInstructions.get(s.element);if(h){const g=s.createSubContext(o.options),P=s.currentTimeline.currentTime,$=this._visitSubInstructions(h,g,g.options);P!=$&&s.transformIntoNewTimeline($)}s.previousNode=o}visitAnimateRef(o,s){const h=s.createSubContext(o.options);h.transformIntoNewTimeline(),this._applyAnimationRefDelays([o.options,o.animation.options],s,h),this.visitReference(o.animation,h),s.transformIntoNewTimeline(h.currentTimeline.currentTime),s.previousNode=o}_applyAnimationRefDelays(o,s,h){for(const g of o){const P=g?.delay;if(P){const $="number"==typeof P?P:Au(Cp(P,g?.params??{},s.errors));h.delayNextStep($)}}}_visitSubInstructions(o,s,h){let P=s.currentTimeline.currentTime;const $=null!=h.duration?Au(h.duration):null,te=null!=h.delay?Au(h.delay):null;return 0!==$&&o.forEach(me=>{const ke=s.appendInstructionToTimeline(me,$,te);P=Math.max(P,ke.duration+ke.delay)}),P}visitReference(o,s){s.updateOptions(o.options,!0),ii(this,o.animation,s),s.previousNode=o}visitSequence(o,s){const h=s.subContextCount;let g=s;const P=o.options;if(P&&(P.params||P.delay)&&(g=s.createSubContext(P),g.transformIntoNewTimeline(),null!=P.delay)){6==g.previousNode.type&&(g.currentTimeline.snapshotCurrentStyles(),g.previousNode=M_);const $=Au(P.delay);g.delayNextStep($)}o.steps.length&&(o.steps.forEach($=>ii(this,$,g)),g.currentTimeline.applyStylesToKeyframe(),g.subContextCount>h&&g.transformIntoNewTimeline()),s.previousNode=o}visitGroup(o,s){const h=[];let g=s.currentTimeline.currentTime;const P=o.options&&o.options.delay?Au(o.options.delay):0;o.steps.forEach($=>{const te=s.createSubContext(o.options);P&&te.delayNextStep(P),ii(this,$,te),g=Math.max(g,te.currentTimeline.currentTime),h.push(te.currentTimeline)}),h.forEach($=>s.currentTimeline.mergeTimelineCollectedStyles($)),s.transformIntoNewTimeline(g),s.previousNode=o}_visitTiming(o,s){if(o.dynamic){const h=o.strValue;return C_(s.params?Cp(h,s.params,s.errors):h,s.errors)}return{duration:o.duration,delay:o.delay,easing:o.easing}}visitAnimate(o,s){const h=s.currentAnimateTimings=this._visitTiming(o.timings,s),g=s.currentTimeline;h.delay&&(s.incrementTime(h.delay),g.snapshotCurrentStyles());const P=o.style;5==P.type?this.visitKeyframes(P,s):(s.incrementTime(h.duration),this.visitStyle(P,s),g.applyStylesToKeyframe()),s.currentAnimateTimings=null,s.previousNode=o}visitStyle(o,s){const h=s.currentTimeline,g=s.currentAnimateTimings;!g&&h.hasCurrentStyleProperties()&&h.forwardFrame();const P=g&&g.easing||o.easing;o.isEmptyStep?h.applyEmptyStep(P):h.setStyles(o.styles,P,s.errors,s.options),s.previousNode=o}visitKeyframes(o,s){const h=s.currentAnimateTimings,g=s.currentTimeline.duration,P=h.duration,te=s.createSubContext().currentTimeline;te.easing=h.easing,o.styles.forEach(me=>{te.forwardTime((me.offset||0)*P),te.setStyles(me.styles,me.easing,s.errors,s.options),te.applyStylesToKeyframe()}),s.currentTimeline.mergeTimelineCollectedStyles(te),s.transformIntoNewTimeline(g+P),s.previousNode=o}visitQuery(o,s){const h=s.currentTimeline.currentTime,g=o.options||{},P=g.delay?Au(g.delay):0;P&&(6===s.previousNode.type||0==h&&s.currentTimeline.hasCurrentStyleProperties())&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=M_);let $=h;const te=s.invokeQuery(o.selector,o.originalSelector,o.limit,o.includeSelf,!!g.optional,s.errors);s.currentQueryTotal=te.length;let me=null;te.forEach((ke,yt)=>{s.currentQueryIndex=yt;const Ft=s.createSubContext(o.options,ke);P&&Ft.delayNextStep(P),ke===s.element&&(me=Ft.currentTimeline),ii(this,o.animation,Ft),Ft.currentTimeline.applyStylesToKeyframe(),$=Math.max($,Ft.currentTimeline.currentTime)}),s.currentQueryIndex=0,s.currentQueryTotal=0,s.transformIntoNewTimeline($),me&&(s.currentTimeline.mergeTimelineCollectedStyles(me),s.currentTimeline.snapshotCurrentStyles()),s.previousNode=o}visitStagger(o,s){const h=s.parentContext,g=s.currentTimeline,P=o.timings,$=Math.abs(P.duration),te=$*(s.currentQueryTotal-1);let me=$*s.currentQueryIndex;switch(P.duration<0?"reverse":P.easing){case"reverse":me=te-me;break;case"full":me=h.currentStaggerTime}const yt=s.currentTimeline;me&&yt.delayNextStep(me);const Ft=yt.currentTime;ii(this,o.animation,s),s.previousNode=o,h.currentStaggerTime=g.currentTime-Ft+(g.startTime-h.currentTimeline.startTime)}}const M_={};class Kg{constructor(o,s,h,g,P,$,te,me){this._driver=o,this.element=s,this.subInstructions=h,this._enterClassName=g,this._leaveClassName=P,this.errors=$,this.timelines=te,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=M_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=me||new cv(this._driver,s,0),te.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(o,s){if(!o)return;const h=o;let g=this.options;null!=h.duration&&(g.duration=Au(h.duration)),null!=h.delay&&(g.delay=Au(h.delay));const P=h.params;if(P){let $=g.params;$||($=this.options.params={}),Object.keys(P).forEach(te=>{(!s||!$.hasOwnProperty(te))&&($[te]=Cp(P[te],$,this.errors))})}}_copyOptions(){const o={};if(this.options){const s=this.options.params;if(s){const h=o.params={};Object.keys(s).forEach(g=>{h[g]=s[g]})}}return o}createSubContext(o=null,s,h){const g=s||this.element,P=new Kg(this._driver,g,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(g,h||0));return P.previousNode=this.previousNode,P.currentAnimateTimings=this.currentAnimateTimings,P.options=this._copyOptions(),P.updateOptions(o),P.currentQueryIndex=this.currentQueryIndex,P.currentQueryTotal=this.currentQueryTotal,P.parentContext=this,this.subContextCount++,P}transformIntoNewTimeline(o){return this.previousNode=M_,this.currentTimeline=this.currentTimeline.fork(this.element,o),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(o,s,h){const g={duration:s??o.duration,delay:this.currentTimeline.currentTime+(h??0)+o.delay,easing:""},P=new O0(this._driver,o.element,o.keyframes,o.preStyleProps,o.postStyleProps,g,o.stretchStartingKeyframe);return this.timelines.push(P),g}incrementTime(o){this.currentTimeline.forwardTime(this.currentTimeline.duration+o)}delayNextStep(o){o>0&&this.currentTimeline.delayNextStep(o)}invokeQuery(o,s,h,g,P,$){let te=[];if(g&&te.push(this.element),o.length>0){o=(o=o.replace(WI,"."+this._enterClassName)).replace(KI,"."+this._leaveClassName);let ke=this._driver.query(this.element,o,1!=h);0!==h&&(ke=h<0?ke.slice(ke.length+h,ke.length):ke.slice(0,h)),te.push(...ke)}return!P&&0==te.length&&$.push(function Yh(c){return new u.vHH(3014,!1)}()),te}}class cv{constructor(o,s,h,g){this._driver=o,this.element=s,this.startTime=h,this._elementTimelineStylesLookup=g,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(s),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(s,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(o){const s=1===this._keyframes.size&&this._pendingStyles.size;this.duration||s?(this.forwardTime(this.currentTime+o),s&&this.snapshotCurrentStyles()):this.startTime+=o}fork(o,s){return this.applyStylesToKeyframe(),new cv(this._driver,o,s||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(o){this.applyStylesToKeyframe(),this.duration=o,this._loadKeyframe()}_updateStyle(o,s){this._localTimelineStyles.set(o,s),this._globalTimelineStyles.set(o,s),this._styleSummary.set(o,{time:this.currentTime,value:s})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(o){o&&this._previousKeyframe.set("easing",o);for(let[s,h]of this._globalTimelineStyles)this._backFill.set(s,h||$c),this._currentKeyframe.set(s,$c);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(o,s,h,g){s&&this._previousKeyframe.set("easing",s);const P=g&&g.params||{},$=function N0(c,o){const s=new Map;let h;return c.forEach(g=>{if("*"===g){h=h||o.keys();for(let P of h)s.set(P,$c)}else ta(g,s)}),s}(o,this._globalTimelineStyles);for(let[te,me]of $){const ke=Cp(me,P,h);this._pendingStyles.set(te,ke),this._localTimelineStyles.has(te)||this._backFill.set(te,this._globalTimelineStyles.get(te)??$c),this._updateStyle(te,ke)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((o,s)=>{this._currentKeyframe.set(s,o)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((o,s)=>{this._currentKeyframe.has(s)||this._currentKeyframe.set(s,o)}))}snapshotCurrentStyles(){for(let[o,s]of this._localTimelineStyles)this._pendingStyles.set(o,s),this._updateStyle(o,s)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const o=[];for(let s in this._currentKeyframe)o.push(s);return o}mergeTimelineCollectedStyles(o){o._styleSummary.forEach((s,h)=>{const g=this._styleSummary.get(h);(!g||s.time>g.time)&&this._updateStyle(h,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const o=new Set,s=new Set,h=1===this._keyframes.size&&0===this.duration;let g=[];this._keyframes.forEach((te,me)=>{const ke=ta(te,new Map,this._backFill);ke.forEach((yt,Ft)=>{"!"===yt?o.add(Ft):yt===$c&&s.add(Ft)}),h||ke.set("offset",me/this.duration),g.push(ke)});const P=o.size?CE(o.values()):[],$=s.size?CE(s.values()):[];if(h){const te=g[0],me=new Map(te);te.set("offset",0),me.set("offset",1),g=[te,me]}return PE(this.element,g,P,$,this.duration,this.startTime,this.easing,!1)}}class O0 extends cv{constructor(o,s,h,g,P,$,te=!1){super(o,s,$.delay),this.keyframes=h,this.preStyleProps=g,this.postStyleProps=P,this._stretchStartingKeyframe=te,this.timings={duration:$.duration,delay:$.delay,easing:$.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let o=this.keyframes,{delay:s,duration:h,easing:g}=this.timings;if(this._stretchStartingKeyframe&&s){const P=[],$=h+s,te=s/$,me=ta(o[0]);me.set("offset",0),P.push(me);const ke=ta(o[0]);ke.set("offset",OE(te)),P.push(ke);const yt=o.length-1;for(let Ft=1;Ft<=yt;Ft++){let sn=ta(o[Ft]);const gn=sn.get("offset");sn.set("offset",OE((s+gn*h)/$)),P.push(sn)}h=$,s=0,g="",o=P}return PE(this.element,o,this.preStyleProps,this.postStyleProps,h,s,g,!0)}}function OE(c,o=3){const s=Math.pow(10,o-1);return Math.round(c*s)/s}class NE{}const lv=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class kE extends NE{normalizePropertyName(o,s){return wE(o)}normalizeStyleValue(o,s,h,g){let P="";const $=h.toString().trim();if(lv.has(s)&&0!==h&&"0"!==h)if("number"==typeof h)P="px";else{const te=h.match(/^[+-]?[\d\.]+([a-z]*)$/);te&&0==te[1].length&&g.push(function Bg(c,o){return new u.vHH(3005,!1)}())}return $+P}}function FE(c,o,s,h,g,P,$,te,me,ke,yt,Ft,sn){return{type:0,element:c,triggerName:o,isRemovalTransition:g,fromState:s,fromStyles:P,toState:h,toStyles:$,timelines:te,queriedElements:me,preStyleProps:ke,postStyleProps:yt,totalTime:Ft,errors:sn}}const uv={};class LE{constructor(o,s,h){this._triggerName=o,this.ast=s,this._stateStyles=h}match(o,s,h,g){return function F0(c,o,s,h,g){return c.some(P=>P(o,s,h,g))}(this.ast.matchers,o,s,h,g)}buildStyles(o,s,h){let g=this._stateStyles.get("*");return void 0!==o&&(g=this._stateStyles.get(o?.toString())||g),g?g.buildStyles(s,h):new Map}build(o,s,h,g,P,$,te,me,ke,yt){const Ft=[],sn=this.ast.options&&this.ast.options.params||uv,tn=this.buildStyles(h,te&&te.params||uv,Ft),nn=me&&me.params||uv,En=this.buildStyles(g,nn,Ft),Ar=new Set,Kr=new Map,Ur=new Map,Dr="void"===g,ra={params:L0(nn,sn),delay:this.ast.options?.delay},Rs=yt?[]:xE(o,s,this.ast.animation,P,$,tn,En,ra,ke,Ft);let Es=0;if(Rs.forEach(Ma=>{Es=Math.max(Ma.duration+Ma.delay,Es)}),Ft.length)return FE(s,this._triggerName,h,g,Dr,tn,En,[],[],Kr,Ur,Es,Ft);Rs.forEach(Ma=>{const Mu=Ma.element,n0=Ps(Kr,Mu,new Set);Ma.preStyleProps.forEach(Sp=>n0.add(Sp));const nm=Ps(Ur,Mu,new Set);Ma.postStyleProps.forEach(Sp=>nm.add(Sp)),Mu!==s&&Ar.add(Mu)});const ko=CE(Ar.values());return FE(s,this._triggerName,h,g,Dr,tn,En,Rs,ko,Kr,Ur,Es)}}function L0(c,o){const s=Wg(o);for(const h in c)c.hasOwnProperty(h)&&null!=c[h]&&(s[h]=c[h]);return s}class V0{constructor(o,s,h){this.styles=o,this.defaultParams=s,this.normalizer=h}buildStyles(o,s){const h=new Map,g=Wg(this.defaultParams);return Object.keys(o).forEach(P=>{const $=o[P];null!==$&&(g[P]=$)}),this.styles.styles.forEach(P=>{"string"!=typeof P&&P.forEach(($,te)=>{$&&($=Cp($,g,s));const me=this.normalizer.normalizePropertyName(te,s);$=this.normalizer.normalizeStyleValue(te,me,$,s),h.set(te,$)})}),h}}class JI{constructor(o,s,h){this.name=o,this.ast=s,this._normalizer=h,this.transitionFactories=[],this.states=new Map,s.states.forEach(g=>{this.states.set(g.name,new V0(g.style,g.options&&g.options.params||{},h))}),U0(this.states,"true","1"),U0(this.states,"false","0"),s.transitions.forEach(g=>{this.transitionFactories.push(new LE(o,g,this.states))}),this.fallbackTransition=function XI(c,o,s){return new LE(c,{type:1,animation:{type:2,steps:[],options:null},matchers:[($,te)=>!0],options:null,queryCount:0,depCount:0},o)}(o,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(o,s,h,g){return this.transitionFactories.find($=>$.match(o,s,h,g))||null}matchStyles(o,s,h){return this.fallbackTransition.buildStyles(o,s,h)}}function U0(c,o,s){c.has(o)?c.has(s)||c.set(s,c.get(o)):c.has(s)&&c.set(o,c.get(s))}const eb=new av;class tb{constructor(o,s,h){this.bodyNode=o,this._driver=s,this._normalizer=h,this._animations=new Map,this._playersById=new Map,this.players=[]}register(o,s){const h=[],P=Gc(this._driver,s,h,[]);if(h.length)throw function Xy(c){return new u.vHH(3503,!1)}();this._animations.set(o,P)}_buildPlayer(o,s,h){const g=o.element,P=wu(this._normalizer,o.keyframes,s,h);return this._driver.animate(g,P,o.duration,o.delay,o.easing,[],!0)}create(o,s,h={}){const g=[],P=this._animations.get(o);let $;const te=new Map;if(P?($=xE(this._driver,s,P,bE,I_,new Map,new Map,h,eb,g),$.forEach(yt=>{const Ft=Ps(te,yt.element,new Map);yt.postStyleProps.forEach(sn=>Ft.set(sn,null))})):(g.push(function ev(){return new u.vHH(3300,!1)}()),$=[]),g.length)throw function Hg(c){return new u.vHH(3504,!1)}();te.forEach((yt,Ft)=>{yt.forEach((sn,gn)=>{yt.set(gn,this._driver.computeStyle(Ft,gn,$c))})});const ke=Sa($.map(yt=>{const Ft=te.get(yt.element);return this._buildPlayer(yt,new Map,Ft)}));return this._playersById.set(o,ke),ke.onDestroy(()=>this.destroy(o)),this.players.push(ke),ke}destroy(o){const s=this._getPlayer(o);s.destroy(),this._playersById.delete(o);const h=this.players.indexOf(s);h>=0&&this.players.splice(h,1)}_getPlayer(o){const s=this._playersById.get(o);if(!s)throw function $g(c){return new u.vHH(3301,!1)}();return s}listen(o,s,h,g){const P=qg(s,"","","");return qs(this._getPlayer(o),h,P,g),()=>{}}command(o,s,h,g){if("register"==h)return void this.register(o,g[0]);if("create"==h)return void this.create(o,s,g[0]||{});const P=this._getPlayer(o);switch(h){case"play":P.play();break;case"pause":P.pause();break;case"reset":P.reset();break;case"restart":P.restart();break;case"finish":P.finish();break;case"init":P.init();break;case"setPosition":P.setPosition(parseFloat(g[0]));break;case"destroy":this.destroy(o)}}}const B0="ng-animate-queued",VE="ng-animate-disabled",ob=[],j0={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ab={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},zl="__ng_removed";class UE{get params(){return this.options.params}constructor(o,s=""){this.namespaceId=s;const h=o&&o.hasOwnProperty("value");if(this.value=function G0(c){return c??null}(h?o.value:o),h){const P=Wg(o);delete P.value,this.options=P}else this.options={};this.options.params||(this.options.params={})}absorbOptions(o){const s=o.params;if(s){const h=this.options.params;Object.keys(s).forEach(g=>{null==h[g]&&(h[g]=s[g])})}}}const P_="void",dv=new UE(P_);class H0{constructor(o,s,h){this.id=o,this.hostElement=s,this._engine=h,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+o,oo(s,this._hostClassName)}listen(o,s,h,g){if(!this._triggers.has(s))throw function v_(c,o){return new u.vHH(3302,!1)}();if(null==h||0==h.length)throw function zg(c){return new u.vHH(3303,!1)}();if(!function q0(c){return"start"==c||"done"==c}(h))throw function tv(c,o){return new u.vHH(3400,!1)}();const P=Ps(this._elementListeners,o,[]),$={name:s,phase:h,callback:g};P.push($);const te=Ps(this._engine.statesByElement,o,new Map);return te.has(s)||(oo(o,b_),oo(o,b_+"-"+s),te.set(s,dv)),()=>{this._engine.afterFlush(()=>{const me=P.indexOf($);me>=0&&P.splice(me,1),this._triggers.has(s)||te.delete(s)})}}register(o,s){return!this._triggers.has(o)&&(this._triggers.set(o,s),!0)}_getTrigger(o){const s=this._triggers.get(o);if(!s)throw function nv(c){return new u.vHH(3401,!1)}();return s}trigger(o,s,h,g=!0){const P=this._getTrigger(s),$=new hv(this.id,s,o);let te=this._engine.statesByElement.get(o);te||(oo(o,b_),oo(o,b_+"-"+s),this._engine.statesByElement.set(o,te=new Map));let me=te.get(s);const ke=new UE(h,this.id);if(!(h&&h.hasOwnProperty("value"))&&me&&ke.absorbOptions(me.options),te.set(s,ke),me||(me=dv),ke.value!==P_&&me.value===ke.value){if(!function $E(c,o){const s=Object.keys(c),h=Object.keys(o);if(s.length!=h.length)return!1;for(let g=0;g<s.length;g++){const P=s[g];if(!o.hasOwnProperty(P)||c[P]!==o[P])return!1}return!0}(me.params,ke.params)){const nn=[],En=P.matchStyles(me.value,me.params,nn),Ar=P.matchStyles(ke.value,ke.params,nn);nn.length?this._engine.reportError(nn):this._engine.afterFlush(()=>{Ip(o,En),Du(o,Ar)})}return}const sn=Ps(this._engine.playersByElement,o,[]);sn.forEach(nn=>{nn.namespaceId==this.id&&nn.triggerName==s&&nn.queued&&nn.destroy()});let gn=P.matchTransition(me.value,ke.value,o,ke.params),tn=!1;if(!gn){if(!g)return;gn=P.fallbackTransition,tn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:o,triggerName:s,transition:gn,fromState:me,toState:ke,player:$,isFallbackTransition:tn}),tn||(oo(o,B0),$.onStart(()=>{Yg(o,B0)})),$.onDone(()=>{let nn=this.players.indexOf($);nn>=0&&this.players.splice(nn,1);const En=this._engine.playersByElement.get(o);if(En){let Ar=En.indexOf($);Ar>=0&&En.splice(Ar,1)}}),this.players.push($),sn.push($),$}deregister(o){this._triggers.delete(o),this._engine.statesByElement.forEach(s=>s.delete(o)),this._elementListeners.forEach((s,h)=>{this._elementListeners.set(h,s.filter(g=>g.name!=o))})}clearElementCache(o){this._engine.statesByElement.delete(o),this._elementListeners.delete(o);const s=this._engine.playersByElement.get(o);s&&(s.forEach(h=>h.destroy()),this._engine.playersByElement.delete(o))}_signalRemovalForInnerTriggers(o,s){const h=this._engine.driver.query(o,Zg,!0);h.forEach(g=>{if(g[zl])return;const P=this._engine.fetchNamespacesByElement(g);P.size?P.forEach($=>$.triggerLeaveAnimation(g,s,!1,!0)):this.clearElementCache(g)}),this._engine.afterFlushAnimationsDone(()=>h.forEach(g=>this.clearElementCache(g)))}triggerLeaveAnimation(o,s,h,g){const P=this._engine.statesByElement.get(o),$=new Map;if(P){const te=[];if(P.forEach((me,ke)=>{if($.set(ke,me.value),this._triggers.has(ke)){const yt=this.trigger(o,ke,P_,g);yt&&te.push(yt)}}),te.length)return this._engine.markElementAsRemoved(this.id,o,!0,s,$),h&&Sa(te).onDone(()=>this._engine.processLeaveNode(o)),!0}return!1}prepareLeaveAnimationListeners(o){const s=this._elementListeners.get(o),h=this._engine.statesByElement.get(o);if(s&&h){const g=new Set;s.forEach(P=>{const $=P.name;if(g.has($))return;g.add($);const me=this._triggers.get($).fallbackTransition,ke=h.get($)||dv,yt=new UE(P_),Ft=new hv(this.id,$,o);this._engine.totalQueuedPlayers++,this._queue.push({element:o,triggerName:$,transition:me,fromState:ke,toState:yt,player:Ft,isFallbackTransition:!0})})}}removeNode(o,s){const h=this._engine;if(o.childElementCount&&this._signalRemovalForInnerTriggers(o,s),this.triggerLeaveAnimation(o,s,!0))return;let g=!1;if(h.totalAnimations){const P=h.players.length?h.playersByQueriedElement.get(o):[];if(P&&P.length)g=!0;else{let $=o;for(;$=$.parentNode;)if(h.statesByElement.get($)){g=!0;break}}}if(this.prepareLeaveAnimationListeners(o),g)h.markElementAsRemoved(this.id,o,!1,s);else{const P=o[zl];(!P||P===j0)&&(h.afterFlush(()=>this.clearElementCache(o)),h.destroyInnerAnimations(o),h._onRemovalComplete(o,s))}}insertNode(o,s){oo(o,this._hostClassName)}drainQueuedTransitions(o){const s=[];return this._queue.forEach(h=>{const g=h.player;if(g.destroyed)return;const P=h.element,$=this._elementListeners.get(P);$&&$.forEach(te=>{if(te.name==h.triggerName){const me=qg(P,h.triggerName,h.fromState.value,h.toState.value);me._data=o,qs(h.player,te.phase,me,te.callback)}}),g.markedForDestroy?this._engine.afterFlush(()=>{g.destroy()}):s.push(h)}),this._queue=[],s.sort((h,g)=>{const P=h.transition.ast.depCount,$=g.transition.ast.depCount;return 0==P||0==$?P-$:this._engine.driver.containsElement(h.element,g.element)?1:-1})}destroy(o){this.players.forEach(s=>s.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,o)}}class $0{_onRemovalComplete(o,s){this.onRemovalComplete(o,s)}constructor(o,s,h){this.bodyNode=o,this.driver=s,this._normalizer=h,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(g,P)=>{}}get queuedPlayers(){const o=[];return this._namespaceList.forEach(s=>{s.players.forEach(h=>{h.queued&&o.push(h)})}),o}createNamespace(o,s){const h=new H0(o,s,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,s)?this._balanceNamespaceList(h,s):(this.newHostElements.set(s,h),this.collectEnterElement(s)),this._namespaceLookup[o]=h}_balanceNamespaceList(o,s){const h=this._namespaceList,g=this.namespacesByHostElement;if(h.length-1>=0){let $=!1,te=this.driver.getParentElement(s);for(;te;){const me=g.get(te);if(me){const ke=h.indexOf(me);h.splice(ke+1,0,o),$=!0;break}te=this.driver.getParentElement(te)}$||h.unshift(o)}else h.push(o);return g.set(s,o),o}register(o,s){let h=this._namespaceLookup[o];return h||(h=this.createNamespace(o,s)),h}registerTrigger(o,s,h){let g=this._namespaceLookup[o];g&&g.register(s,h)&&this.totalAnimations++}destroy(o,s){o&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const h=this._fetchNamespace(o);this.namespacesByHostElement.delete(h.hostElement);const g=this._namespaceList.indexOf(h);g>=0&&this._namespaceList.splice(g,1),h.destroy(s),delete this._namespaceLookup[o]}))}_fetchNamespace(o){return this._namespaceLookup[o]}fetchNamespacesByElement(o){const s=new Set,h=this.statesByElement.get(o);if(h)for(let g of h.values())if(g.namespaceId){const P=this._fetchNamespace(g.namespaceId);P&&s.add(P)}return s}trigger(o,s,h,g){if(R_(s)){const P=this._fetchNamespace(o);if(P)return P.trigger(s,h,g),!0}return!1}insertNode(o,s,h,g){if(!R_(s))return;const P=s[zl];if(P&&P.setForRemoval){P.setForRemoval=!1,P.setForMove=!0;const $=this.collectedLeaveElements.indexOf(s);$>=0&&this.collectedLeaveElements.splice($,1)}if(o){const $=this._fetchNamespace(o);$&&$.insertNode(s,h)}g&&this.collectEnterElement(s)}collectEnterElement(o){this.collectedEnterElements.push(o)}markElementAsDisabled(o,s){s?this.disabledNodes.has(o)||(this.disabledNodes.add(o),oo(o,VE)):this.disabledNodes.has(o)&&(this.disabledNodes.delete(o),Yg(o,VE))}removeNode(o,s,h){if(R_(s)){const g=o?this._fetchNamespace(o):null;g?g.removeNode(s,h):this.markElementAsRemoved(o,s,!1,h);const P=this.namespacesByHostElement.get(s);P&&P.id!==o&&P.removeNode(s,h)}else this._onRemovalComplete(s,h)}markElementAsRemoved(o,s,h,g,P){this.collectedLeaveElements.push(s),s[zl]={namespaceId:o,setForRemoval:g,hasAnimation:h,removedBeforeQueried:!1,previousTriggersValues:P}}listen(o,s,h,g,P){return R_(s)?this._fetchNamespace(o).listen(s,h,g,P):()=>{}}_buildInstruction(o,s,h,g,P){return o.transition.build(this.driver,o.element,o.fromState.value,o.toState.value,h,g,o.fromState.options,o.toState.options,s,P)}destroyInnerAnimations(o){let s=this.driver.query(o,Zg,!0);s.forEach(h=>this.destroyActiveAnimationsForElement(h)),0!=this.playersByQueriedElement.size&&(s=this.driver.query(o,iv,!0),s.forEach(h=>this.finishActiveQueriedAnimationOnElement(h)))}destroyActiveAnimationsForElement(o){const s=this.playersByElement.get(o);s&&s.forEach(h=>{h.queued?h.markedForDestroy=!0:h.destroy()})}finishActiveQueriedAnimationOnElement(o){const s=this.playersByQueriedElement.get(o);s&&s.forEach(h=>h.finish())}whenRenderingDone(){return new Promise(o=>{if(this.players.length)return Sa(this.players).onDone(()=>o());o()})}processLeaveNode(o){const s=o[zl];if(s&&s.setForRemoval){if(o[zl]=j0,s.namespaceId){this.destroyInnerAnimations(o);const h=this._fetchNamespace(s.namespaceId);h&&h.clearElementCache(o)}this._onRemovalComplete(o,s.setForRemoval)}o.classList?.contains(VE)&&this.markElementAsDisabled(o,!1),this.driver.query(o,".ng-animate-disabled",!0).forEach(h=>{this.markElementAsDisabled(h,!1)})}flush(o=-1){let s=[];if(this.newHostElements.size&&(this.newHostElements.forEach((h,g)=>this._balanceNamespaceList(h,g)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let h=0;h<this.collectedEnterElements.length;h++)oo(this.collectedEnterElements[h],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const h=[];try{s=this._flushAnimations(h,o)}finally{for(let g=0;g<h.length;g++)h[g]()}}else for(let h=0;h<this.collectedLeaveElements.length;h++)this.processLeaveNode(this.collectedLeaveElements[h]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(h=>h()),this._flushFns=[],this._whenQuietFns.length){const h=this._whenQuietFns;this._whenQuietFns=[],s.length?Sa(s).onDone(()=>{h.forEach(g=>g())}):h.forEach(g=>g())}}reportError(o){throw function Cu(c){return new u.vHH(3402,!1)}()}_flushAnimations(o,s){const h=new av,g=[],P=new Map,$=[],te=new Map,me=new Map,ke=new Map,yt=new Set;this.disabledNodes.forEach(Cn=>{yt.add(Cn);const Wn=this.driver.query(Cn,".ng-animate-queued",!0);for(let rr=0;rr<Wn.length;rr++)yt.add(Wn[rr])});const Ft=this.bodyNode,sn=Array.from(this.statesByElement.keys()),gn=HE(sn,this.collectedEnterElements),tn=new Map;let nn=0;gn.forEach((Cn,Wn)=>{const rr=bE+nn++;tn.set(Wn,rr),Cn.forEach(ei=>oo(ei,rr))});const En=[],Ar=new Set,Kr=new Set;for(let Cn=0;Cn<this.collectedLeaveElements.length;Cn++){const Wn=this.collectedLeaveElements[Cn],rr=Wn[zl];rr&&rr.setForRemoval&&(En.push(Wn),Ar.add(Wn),rr.hasAnimation?this.driver.query(Wn,".ng-star-inserted",!0).forEach(ei=>Ar.add(ei)):Kr.add(Wn))}const Ur=new Map,Dr=HE(sn,Array.from(Ar));Dr.forEach((Cn,Wn)=>{const rr=I_+nn++;Ur.set(Wn,rr),Cn.forEach(ei=>oo(ei,rr))}),o.push(()=>{gn.forEach((Cn,Wn)=>{const rr=tn.get(Wn);Cn.forEach(ei=>Yg(ei,rr))}),Dr.forEach((Cn,Wn)=>{const rr=Ur.get(Wn);Cn.forEach(ei=>Yg(ei,rr))}),En.forEach(Cn=>{this.processLeaveNode(Cn)})});const ra=[],Rs=[];for(let Cn=this._namespaceList.length-1;Cn>=0;Cn--)this._namespaceList[Cn].drainQueuedTransitions(s).forEach(rr=>{const ei=rr.player,yo=rr.element;if(ra.push(ei),this.collectedEnterElements.length){const ao=yo[zl];if(ao&&ao.setForMove){if(ao.previousTriggersValues&&ao.previousTriggersValues.has(rr.triggerName)){const Xh=ao.previousTriggersValues.get(rr.triggerName),Zc=this.statesByElement.get(rr.element);if(Zc&&Zc.has(rr.triggerName)){const Pp=Zc.get(rr.triggerName);Pp.value=Xh,Zc.set(rr.triggerName,Pp)}}return void ei.destroy()}}const Ud=!Ft||!this.driver.containsElement(Ft,yo),qc=Ur.get(yo),Mp=tn.get(yo),ss=this._buildInstruction(rr,h,Mp,qc,Ud);if(ss.errors&&ss.errors.length)return void Rs.push(ss);if(Ud)return ei.onStart(()=>Ip(yo,ss.fromStyles)),ei.onDestroy(()=>Du(yo,ss.toStyles)),void g.push(ei);if(rr.isFallbackTransition)return ei.onStart(()=>Ip(yo,ss.fromStyles)),ei.onDestroy(()=>Du(yo,ss.toStyles)),void g.push(ei);const CT=[];ss.timelines.forEach(ao=>{ao.stretchStartingKeyframe=!0,this.disabledNodes.has(ao.element)||CT.push(ao)}),ss.timelines=CT,h.append(yo,ss.timelines),$.push({instruction:ss,player:ei,element:yo}),ss.queriedElements.forEach(ao=>Ps(te,ao,[]).push(ei)),ss.preStyleProps.forEach((ao,Xh)=>{if(ao.size){let Zc=me.get(Xh);Zc||me.set(Xh,Zc=new Set),ao.forEach((Pp,r0)=>Zc.add(r0))}}),ss.postStyleProps.forEach((ao,Xh)=>{let Zc=ke.get(Xh);Zc||ke.set(Xh,Zc=new Set),ao.forEach((Pp,r0)=>Zc.add(r0))})});if(Rs.length){const Cn=[];Rs.forEach(Wn=>{Cn.push(function Gg(c,o){return new u.vHH(3505,!1)}())}),ra.forEach(Wn=>Wn.destroy()),this.reportError(Cn)}const Es=new Map,ko=new Map;$.forEach(Cn=>{const Wn=Cn.element;h.has(Wn)&&(ko.set(Wn,Wn),this._beforeAnimationBuild(Cn.player.namespaceId,Cn.instruction,Es))}),g.forEach(Cn=>{const Wn=Cn.element;this._getPreviousPlayers(Wn,!1,Cn.namespaceId,Cn.triggerName,null).forEach(ei=>{Ps(Es,Wn,[]).push(ei),ei.destroy()})});const Ma=En.filter(Cn=>ub(Cn,me,ke)),Mu=new Map;jE(Mu,this.driver,Kr,ke,$c).forEach(Cn=>{ub(Cn,me,ke)&&Ma.push(Cn)});const nm=new Map;gn.forEach((Cn,Wn)=>{jE(nm,this.driver,new Set(Cn),me,"!")}),Ma.forEach(Cn=>{const Wn=Mu.get(Cn),rr=nm.get(Cn);Mu.set(Cn,new Map([...Wn?.entries()??[],...rr?.entries()??[]]))});const Sp=[],PI=[],TT={};$.forEach(Cn=>{const{element:Wn,player:rr,instruction:ei}=Cn;if(h.has(Wn)){if(yt.has(Wn))return rr.onDestroy(()=>Du(Wn,ei.toStyles)),rr.disabled=!0,rr.overrideTotalTime(ei.totalTime),void g.push(rr);let yo=TT;if(ko.size>1){let qc=Wn;const Mp=[];for(;qc=qc.parentNode;){const ss=ko.get(qc);if(ss){yo=ss;break}Mp.push(qc)}Mp.forEach(ss=>ko.set(ss,yo))}const Ud=this._buildAnimation(rr.namespaceId,ei,Es,P,nm,Mu);if(rr.setRealPlayer(Ud),yo===TT)Sp.push(rr);else{const qc=this.playersByElement.get(yo);qc&&qc.length&&(rr.parentPlayer=Sa(qc)),g.push(rr)}}else Ip(Wn,ei.fromStyles),rr.onDestroy(()=>Du(Wn,ei.toStyles)),PI.push(rr),yt.has(Wn)&&g.push(rr)}),PI.forEach(Cn=>{const Wn=P.get(Cn.element);if(Wn&&Wn.length){const rr=Sa(Wn);Cn.setRealPlayer(rr)}}),g.forEach(Cn=>{Cn.parentPlayer?Cn.syncPlayerEvents(Cn.parentPlayer):Cn.destroy()});for(let Cn=0;Cn<En.length;Cn++){const Wn=En[Cn],rr=Wn[zl];if(Yg(Wn,I_),rr&&rr.hasAnimation)continue;let ei=[];if(te.size){let Ud=te.get(Wn);Ud&&Ud.length&&ei.push(...Ud);let qc=this.driver.query(Wn,iv,!0);for(let Mp=0;Mp<qc.length;Mp++){let ss=te.get(qc[Mp]);ss&&ss.length&&ei.push(...ss)}}const yo=ei.filter(Ud=>!Ud.destroyed);yo.length?cb(this,Wn,yo):this.processLeaveNode(Wn)}return En.length=0,Sp.forEach(Cn=>{this.players.push(Cn),Cn.onDone(()=>{Cn.destroy();const Wn=this.players.indexOf(Cn);this.players.splice(Wn,1)}),Cn.play()}),Sp}afterFlush(o){this._flushFns.push(o)}afterFlushAnimationsDone(o){this._whenQuietFns.push(o)}_getPreviousPlayers(o,s,h,g,P){let $=[];if(s){const te=this.playersByQueriedElement.get(o);te&&($=te)}else{const te=this.playersByElement.get(o);if(te){const me=!P||P==P_;te.forEach(ke=>{ke.queued||!me&&ke.triggerName!=g||$.push(ke)})}}return(h||g)&&($=$.filter(te=>!(h&&h!=te.namespaceId||g&&g!=te.triggerName))),$}_beforeAnimationBuild(o,s,h){const P=s.element,$=s.isRemovalTransition?void 0:o,te=s.isRemovalTransition?void 0:s.triggerName;for(const me of s.timelines){const ke=me.element,yt=ke!==P,Ft=Ps(h,ke,[]);this._getPreviousPlayers(ke,yt,$,te,s.toState).forEach(gn=>{const tn=gn.getRealPlayer();tn.beforeDestroy&&tn.beforeDestroy(),gn.destroy(),Ft.push(gn)})}Ip(P,s.fromStyles)}_buildAnimation(o,s,h,g,P,$){const te=s.triggerName,me=s.element,ke=[],yt=new Set,Ft=new Set,sn=s.timelines.map(tn=>{const nn=tn.element;yt.add(nn);const En=nn[zl];if(En&&En.removedBeforeQueried)return new pp(tn.duration,tn.delay);const Ar=nn!==me,Kr=function Qg(c){const o=[];return lb(c,o),o}((h.get(nn)||ob).map(Es=>Es.getRealPlayer())).filter(Es=>!!Es.element&&Es.element===nn),Ur=P.get(nn),Dr=$.get(nn),ra=wu(this._normalizer,tn.keyframes,Ur,Dr),Rs=this._buildPlayer(tn,ra,Kr);if(tn.subTimeline&&g&&Ft.add(nn),Ar){const Es=new hv(o,te,nn);Es.setRealPlayer(Rs),ke.push(Es)}return Rs});ke.forEach(tn=>{Ps(this.playersByQueriedElement,tn.element,[]).push(tn),tn.onDone(()=>function z0(c,o,s){let h=c.get(o);if(h){if(h.length){const g=h.indexOf(s);h.splice(g,1)}0==h.length&&c.delete(o)}return h}(this.playersByQueriedElement,tn.element,tn))}),yt.forEach(tn=>oo(tn,T_));const gn=Sa(sn);return gn.onDestroy(()=>{yt.forEach(tn=>Yg(tn,T_)),Du(me,s.toStyles)}),Ft.forEach(tn=>{Ps(g,tn,[]).push(gn)}),gn}_buildPlayer(o,s,h){return s.length>0?this.driver.animate(o.element,s,o.duration,o.delay,o.easing,h):new pp(o.duration,o.delay)}}class hv{constructor(o,s,h){this.namespaceId=o,this.triggerName=s,this.element=h,this._player=new pp,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(o){this._containsRealPlayer||(this._player=o,this._queuedCallbacks.forEach((s,h)=>{s.forEach(g=>qs(o,h,void 0,g))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(o.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(o){this.totalTime=o}syncPlayerEvents(o){const s=this._player;s.triggerCallback&&o.onStart(()=>s.triggerCallback("start")),o.onDone(()=>this.finish()),o.onDestroy(()=>this.destroy())}_queueEvent(o,s){Ps(this._queuedCallbacks,o,[]).push(s)}onDone(o){this.queued&&this._queueEvent("done",o),this._player.onDone(o)}onStart(o){this.queued&&this._queueEvent("start",o),this._player.onStart(o)}onDestroy(o){this.queued&&this._queueEvent("destroy",o),this._player.onDestroy(o)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(o){this.queued||this._player.setPosition(o)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(o){const s=this._player;s.triggerCallback&&s.triggerCallback(o)}}function R_(c){return c&&1===c.nodeType}function BE(c,o){const s=c.style.display;return c.style.display=o??"none",s}function jE(c,o,s,h,g){const P=[];s.forEach(me=>P.push(BE(me)));const $=[];h.forEach((me,ke)=>{const yt=new Map;me.forEach(Ft=>{const sn=o.computeStyle(ke,Ft,g);yt.set(Ft,sn),(!sn||0==sn.length)&&(ke[zl]=ab,$.push(ke))}),c.set(ke,yt)});let te=0;return s.forEach(me=>BE(me,P[te++])),$}function HE(c,o){const s=new Map;if(c.forEach(te=>s.set(te,[])),0==o.length)return s;const g=new Set(o),P=new Map;function $(te){if(!te)return 1;let me=P.get(te);if(me)return me;const ke=te.parentNode;return me=s.has(ke)?ke:g.has(ke)?1:$(ke),P.set(te,me),me}return o.forEach(te=>{const me=$(te);1!==me&&s.get(me).push(te)}),s}function oo(c,o){c.classList?.add(o)}function Yg(c,o){c.classList?.remove(o)}function cb(c,o,s){Sa(s).onDone(()=>c.processLeaveNode(o))}function lb(c,o){for(let s=0;s<c.length;s++){const h=c[s];h instanceof EE?lb(h.players,o):o.push(h)}}function ub(c,o,s){const h=s.get(c);if(!h)return!1;let g=o.get(c);return g?h.forEach(P=>g.add(P)):o.set(c,h),s.delete(c),!0}class x_{constructor(o,s,h){this.bodyNode=o,this._driver=s,this._normalizer=h,this._triggerCache={},this.onRemovalComplete=(g,P)=>{},this._transitionEngine=new $0(o,s,h),this._timelineEngine=new tb(o,s,h),this._transitionEngine.onRemovalComplete=(g,P)=>this.onRemovalComplete(g,P)}registerTrigger(o,s,h,g,P){const $=o+"-"+g;let te=this._triggerCache[$];if(!te){const me=[],yt=Gc(this._driver,P,me,[]);if(me.length)throw function Jy(c,o){return new u.vHH(3404,!1)}();te=function QI(c,o,s){return new JI(c,o,s)}(g,yt,this._normalizer),this._triggerCache[$]=te}this._transitionEngine.registerTrigger(s,g,te)}register(o,s){this._transitionEngine.register(o,s)}destroy(o,s){this._transitionEngine.destroy(o,s)}onInsert(o,s,h,g){this._transitionEngine.insertNode(o,s,h,g)}onRemove(o,s,h){this._transitionEngine.removeNode(o,s,h)}disableAnimations(o,s){this._transitionEngine.markElementAsDisabled(o,s)}process(o,s,h,g){if("@"==h.charAt(0)){const[P,$]=E(h);this._timelineEngine.command(P,s,$,g)}else this._transitionEngine.trigger(o,s,h,g)}listen(o,s,h,g,P){if("@"==h.charAt(0)){const[$,te]=E(h);return this._timelineEngine.listen($,s,te,P)}return this._transitionEngine.listen(o,s,h,g,P)}flush(o=-1){this._transitionEngine.flush(o)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(o){this._transitionEngine.afterFlushAnimationsDone(o)}}let GT=(()=>{class c{static#e=this.initialStylesByElement=new WeakMap;constructor(s,h,g){this._element=s,this._startStyles=h,this._endStyles=g,this._state=0;let P=c.initialStylesByElement.get(s);P||c.initialStylesByElement.set(s,P=new Map),this._initialStyles=P}start(){this._state<1&&(this._startStyles&&Du(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Du(this._element,this._initialStyles),this._endStyles&&(Du(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(c.initialStylesByElement.delete(this._element),this._startStyles&&(Ip(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ip(this._element,this._endStyles),this._endStyles=null),Du(this._element,this._initialStyles),this._state=3)}}return c})();function Jh(c){let o=null;return c.forEach((s,h)=>{(function db(c){return"display"===c||"position"===c})(h)&&(o=o||new Map,o.set(h,s))}),o}class W0{constructor(o,s,h,g){this.element=o,this.keyframes=s,this.options=h,this._specialStyles=g,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=h.duration,this._delay=h.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(o=>o()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const o=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,o,this.options),this._finalKeyframe=o.length?o[o.length-1]:new Map;const s=()=>this._onFinish();this.domPlayer.addEventListener("finish",s),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",s)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(o){const s=[];return o.forEach(h=>{s.push(Object.fromEntries(h))}),s}_triggerWebAnimation(o,s,h){return o.animate(this._convertKeyframesToObject(s),h)}onStart(o){this._originalOnStartFns.push(o),this._onStartFns.push(o)}onDone(o){this._originalOnDoneFns.push(o),this._onDoneFns.push(o)}onDestroy(o){this._onDestroyFns.push(o)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(o=>o()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(o=>o()),this._onDestroyFns=[])}setPosition(o){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=o*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const o=new Map;this.hasStarted()&&this._finalKeyframe.forEach((h,g)=>{"offset"!==g&&o.set(g,this._finished?h:AE(this.element,g))}),this.currentSnapshot=o}triggerCallback(o){const s="start"===o?this._onStartFns:this._onDoneFns;s.forEach(h=>h()),s.length=0}}class hb{validateStyleProperty(o){return!0}validateAnimatableStyleProperty(o){return!0}matchesElement(o,s){return!1}containsElement(o,s){return Nr(o,s)}getParentElement(o){return K(o)}query(o,s,h){return vs(o,s,h)}computeStyle(o,s,h){return window.getComputedStyle(o)[s]}animate(o,s,h,g,P,$=[]){const me={duration:h,delay:g,fill:0==g?"both":"forwards"};P&&(me.easing=P);const ke=new Map,yt=$.filter(gn=>gn instanceof W0);(function A0(c,o){return 0===c||0===o})(h,g)&&yt.forEach(gn=>{gn.currentSnapshot.forEach((tn,nn)=>ke.set(nn,tn))});let Ft=function C0(c){return c.length?c[0]instanceof Map?c:c.map(o=>TE(o)):[]}(s).map(gn=>ta(gn));Ft=function BI(c,o,s){if(s.size&&o.length){let h=o[0],g=[];if(s.forEach((P,$)=>{h.has($)||g.push($),h.set($,P)}),g.length)for(let P=1;P<o.length;P++){let $=o[P];g.forEach(te=>$.set(te,AE(c,te)))}}return o}(o,Ft,ke);const sn=function Z0(c,o){let s=null,h=null;return Array.isArray(o)&&o.length?(s=Jh(o[0]),o.length>1&&(h=Jh(o[o.length-1]))):o instanceof Map&&(s=Jh(o)),s||h?new GT(c,s,h):null}(o,Ft);return new W0(o,Ft,me,sn)}}let Jg=(()=>{class c extends Dd{constructor(s,h){super(),this._nextAnimationId=0,this._renderer=s.createRenderer(h.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(s){const h=this._nextAnimationId.toString();this._nextAnimationId++;const g=Array.isArray(s)?Md(s):s;return O_(this._renderer,null,h,"register",[g]),new fb(h,this._renderer)}static#e=this.\u0275fac=function(h){return new(h||c)(u.LFG(u.FYo),u.LFG(W.K0))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})();class fb extends Sd{constructor(o,s){super(),this._id=o,this._renderer=s}create(o,s){return new fv(this._id,o,s||{},this._renderer)}}class fv{constructor(o,s,h,g){this.id=o,this.element=s,this._renderer=g,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",h)}_listen(o,s){return this._renderer.listen(this.element,`@@${this.id}:${o}`,s)}_command(o,...s){return O_(this._renderer,this.element,this.id,o,s)}onDone(o){this._listen("done",o)}onStart(o){this._listen("start",o)}onDestroy(o){this._listen("destroy",o)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(o){this._command("setPosition",o)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function O_(c,o,s,h,g){return c.setProperty(o,`@@${s}:${h}`,g)}const pb="@.disabled";let K0=(()=>{class c{constructor(s,h,g){this.delegate=s,this.engine=h,this._zone=g,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,h.onRemovalComplete=(P,$)=>{const te=$?.parentNode(P);te&&$.removeChild(te,P)}}createRenderer(s,h){const P=this.delegate.createRenderer(s,h);if(!(s&&h&&h.data&&h.data.animation)){let yt=this._rendererCache.get(P);return yt||(yt=new zE("",P,this.engine,()=>this._rendererCache.delete(P)),this._rendererCache.set(P,yt)),yt}const $=h.id,te=h.id+"-"+this._currentId;this._currentId++,this.engine.register(te,s);const me=yt=>{Array.isArray(yt)?yt.forEach(me):this.engine.registerTrigger($,te,s,yt.name,yt)};return h.data.animation.forEach(me),new gb(this,te,P,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(s,h,g){s>=0&&s<this._microtaskId?this._zone.run(()=>h(g)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(P=>{const[$,te]=P;$(te)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([h,g]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(h){return new(h||c)(u.LFG(u.FYo),u.LFG(x_),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})();class zE{constructor(o,s,h,g){this.namespaceId=o,this.delegate=s,this.engine=h,this._onDestroy=g}get data(){return this.delegate.data}destroyNode(o){this.delegate.destroyNode?.(o)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(o,s){return this.delegate.createElement(o,s)}createComment(o){return this.delegate.createComment(o)}createText(o){return this.delegate.createText(o)}appendChild(o,s){this.delegate.appendChild(o,s),this.engine.onInsert(this.namespaceId,s,o,!1)}insertBefore(o,s,h,g=!0){this.delegate.insertBefore(o,s,h),this.engine.onInsert(this.namespaceId,s,o,g)}removeChild(o,s,h){this.engine.onRemove(this.namespaceId,s,this.delegate)}selectRootElement(o,s){return this.delegate.selectRootElement(o,s)}parentNode(o){return this.delegate.parentNode(o)}nextSibling(o){return this.delegate.nextSibling(o)}setAttribute(o,s,h,g){this.delegate.setAttribute(o,s,h,g)}removeAttribute(o,s,h){this.delegate.removeAttribute(o,s,h)}addClass(o,s){this.delegate.addClass(o,s)}removeClass(o,s){this.delegate.removeClass(o,s)}setStyle(o,s,h,g){this.delegate.setStyle(o,s,h,g)}removeStyle(o,s,h){this.delegate.removeStyle(o,s,h)}setProperty(o,s,h){"@"==s.charAt(0)&&s==pb?this.disableAnimations(o,!!h):this.delegate.setProperty(o,s,h)}setValue(o,s){this.delegate.setValue(o,s)}listen(o,s,h){return this.delegate.listen(o,s,h)}disableAnimations(o,s){this.engine.disableAnimations(o,s)}}class gb extends zE{constructor(o,s,h,g,P){super(s,h,g,P),this.factory=o,this.namespaceId=s}setProperty(o,s,h){"@"==s.charAt(0)?"."==s.charAt(1)&&s==pb?this.disableAnimations(o,h=void 0===h||!!h):this.engine.process(this.namespaceId,o,s.slice(1),h):this.delegate.setProperty(o,s,h)}listen(o,s,h){if("@"==s.charAt(0)){const g=function Y0(c){switch(c){case"body":return document.body;case"document":return document;case"window":return window;default:return c}}(o);let P=s.slice(1),$="";return"@"!=P.charAt(0)&&([P,$]=function Q0(c){const o=c.indexOf(".");return[c.substring(0,o),c.slice(o+1)]}(P)),this.engine.listen(this.namespaceId,g,P,$,te=>{this.factory.scheduleListenerCallback(te._data||-1,h,te)})}return this.delegate.listen(o,s,h)}}const eI=[{provide:Dd,useClass:Jg},{provide:NE,useFactory:function X0(){return new kE}},{provide:x_,useClass:(()=>{class c extends x_{constructor(s,h,g,P){super(s.body,h,g)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(h){return new(h||c)(u.LFG(W.K0),u.LFG(No),u.LFG(NE),u.LFG(u.z2F))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})()},{provide:u.FYo,useFactory:function mb(c,o,s){return new K0(c,o,s)},deps:[I.se,x_,u.R0b]}],GE=[{provide:No,useFactory:()=>new hb},{provide:u.QbO,useValue:"BrowserAnimations"},...eI],Xg=[{provide:No,useClass:Fd},{provide:u.QbO,useValue:"NoopAnimations"},...eI];let _b=(()=>{class c{static withConfig(s){return{ngModule:c,providers:s.disableAnimations?Xg:GE}}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({providers:GE,imports:[I.b2]})}return c})();const ZE_firebase={apiKey:"AIzaSyBfMHRYkwC16Pt-IuqcVJOYjkrRgOlEVH8",authDomain:"romaniinseattle.firebaseapp.com",projectId:"romaniinseattle",storageBucket:"romaniinseattle.appspot.com",messagingSenderId:"548714995927",appId:"1:548714995927:web:70a2631d9f5d8d2f8fd092"};var Vd=j(3182);class Ap{constructor(o){return o}}class WE{constructor(){return(0,Vd.C6)()}}const KE=new u.OlP("angularfire2._apps"),yb={provide:Ap,useFactory:function N_(c){return c&&1===c.length?c[0]:new Ap((0,Vd.Mq)())},deps:[[new u.FiY,KE]]},vb={provide:WE,deps:[[new u.FiY,KE]]};function tI(c){return(o,s)=>{const h=o.runOutsideAngular(()=>c(s));return new Ap(h)}}let nI=(()=>{class c{constructor(s){(0,Vd.KN)("angularfire",Wr.q4.full,"core"),(0,Vd.KN)("angularfire",Wr.q4.full,"app"),(0,Vd.KN)("angular",u.q4F.full,s.toString())}static \u0275fac=function(h){return new(h||c)(u.LFG(u.Lbi))};static \u0275mod=u.oAB({type:c});static \u0275inj=u.cJS({providers:[yb,vb]})}return c})();function rI(c,...o){return{ngModule:nI,providers:[{provide:KE,useFactory:tI(c),multi:!0,deps:[u.R0b,u.zs3,Wr.HU,...o]}]}}const Ib=(0,Wr.u3)(Vd.ZF,!0);j(35),j(7879);class QE{constructor(){return(0,Wr.vb)("auth")}}var jb=j(5588);class mv{constructor(o){return o}}const _v="firestore",yv=new u.OlP("angularfire2.firestore-instances");function $b(c){return(o,s)=>{const h=o.runOutsideAngular(()=>c(s));return new mv(h)}}const zb={provide:class hI{constructor(){return(0,Wr.vb)(_v)}},deps:[[new u.FiY,yv]]},Gb={provide:mv,useFactory:function fI(c,o){const s=(0,Wr.JM)(_v,c,o);return s&&new mv(s)},deps:[[new u.FiY,yv],Ap]};let qb=(()=>{class c{constructor(){(0,Vd.KN)("angularfire",Wr.q4.full,"fst")}static \u0275fac=function(h){return new(h||c)};static \u0275mod=u.oAB({type:c});static \u0275inj=u.cJS({providers:[Gb,zb]})}return c})();function pI(c,...o){return{ngModule:qb,providers:[{provide:yv,useFactory:$b(c),multi:!0,deps:[u.R0b,u.zs3,Wr.HU,WE,[new u.FiY,QE],[new u.FiY,Wr.Rf],...o]}]}}const mI=(0,Wr.u3)(jb.ad,!0);var TI=j(981);class bv{constructor(o){return o}}const CI="storage",t0=new u.OlP("angularfire2.storage-instances");function gT(c){return(o,s)=>{const h=o.runOutsideAngular(()=>c(s));return new bv(h)}}const na={provide:class wI{constructor(){return(0,Wr.vb)(CI)}},deps:[[new u.FiY,t0]]},tm={provide:bv,useFactory:function AI(c,o){const s=(0,Wr.JM)(CI,c,o);return s&&new bv(s)},deps:[[new u.FiY,t0],Ap]};let mT=(()=>{class c{constructor(){(0,Vd.KN)("angularfire",Wr.q4.full,"gcs")}static \u0275fac=function(h){return new(h||c)};static \u0275mod=u.oAB({type:c});static \u0275inj=u.cJS({providers:[tm,na]})}return c})();function _T(c,...o){return{ngModule:mT,providers:[{provide:t0,useFactory:gT(c),multi:!0,deps:[u.R0b,u.zs3,Wr.HU,WE,[new u.FiY,QE],[new u.FiY,Wr.Rf],...o]}]}}const vT=(0,Wr.u3)(E0,!0);let bT=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=u.oAB({type:c,bootstrap:[Hc]});static#n=this.\u0275inj=u.cJS({imports:[I.b2,Uy,_b,xr,_l,po,o_.yb,io,TI.ww,Oo.hO.initializeApp(ZE_firebase),rI(()=>Ib(ZE_firebase)),pI(()=>mI()),_T(()=>vT()),vg,Nh,Or.Bz,Or.Bz]})}return c})();I.q6().bootstrapModule(bT).catch(c=>console.error(c))},5619:(zt,$e,j)=>{j.d($e,{X:()=>u});var I=j(8645);class u extends I.x{constructor(ve){super(),this._value=ve}get value(){return this.getValue()}_subscribe(ve){const _e=super._subscribe(ve);return!_e.closed&&ve.next(this._value),_e}getValue(){const{hasError:ve,thrownError:_e,_value:we}=this;if(ve)throw _e;return this._throwIfClosed(),we}next(ve){super.next(this._value=ve)}}},5592:(zt,$e,j)=>{j.d($e,{y:()=>Ce});var I=j(305),u=j(7394),W=j(4850),ve=j(8407),_e=j(2653),we=j(4674),he=j(1441);let Ce=(()=>{class Me{constructor(Je){Je&&(this._subscribe=Je)}lift(Je){const Mt=new Me;return Mt.source=this,Mt.operator=Je,Mt}subscribe(Je,Mt,dt){const Ct=function ge(Me){return Me&&Me instanceof I.Lv||function ue(Me){return Me&&(0,we.m)(Me.next)&&(0,we.m)(Me.error)&&(0,we.m)(Me.complete)}(Me)&&(0,u.Nn)(Me)}(Je)?Je:new I.Hp(Je,Mt,dt);return(0,he.x)(()=>{const{operator:mt,source:Xt}=this;Ct.add(mt?mt.call(Ct,Xt):Xt?this._subscribe(Ct):this._trySubscribe(Ct))}),Ct}_trySubscribe(Je){try{return this._subscribe(Je)}catch(Mt){Je.error(Mt)}}forEach(Je,Mt){return new(Mt=De(Mt))((dt,Ct)=>{const mt=new I.Hp({next:Xt=>{try{Je(Xt)}catch(qe){Ct(qe),mt.unsubscribe()}},error:Ct,complete:dt});this.subscribe(mt)})}_subscribe(Je){var Mt;return null===(Mt=this.source)||void 0===Mt?void 0:Mt.subscribe(Je)}[W.L](){return this}pipe(...Je){return(0,ve.U)(Je)(this)}toPromise(Je){return new(Je=De(Je))((Mt,dt)=>{let Ct;this.subscribe(mt=>Ct=mt,mt=>dt(mt),()=>Mt(Ct))})}}return Me.create=ut=>new Me(ut),Me})();function De(Me){var ut;return null!==(ut=Me??_e.config.Promise)&&void 0!==ut?ut:Promise}},8645:(zt,$e,j)=>{j.d($e,{x:()=>he});var I=j(5592),u=j(7394);const ve=(0,j(2306).d)(De=>function(){De(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _e=j(9039),we=j(1441);let he=(()=>{class De extends I.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ge){const Me=new Ce(this,this);return Me.operator=ge,Me}_throwIfClosed(){if(this.closed)throw new ve}next(ge){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Me of this.currentObservers)Me.next(ge)}})}error(ge){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ge;const{observers:Me}=this;for(;Me.length;)Me.shift().error(ge)}})}complete(){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ge}=this;for(;ge.length;)ge.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ge;return(null===(ge=this.observers)||void 0===ge?void 0:ge.length)>0}_trySubscribe(ge){return this._throwIfClosed(),super._trySubscribe(ge)}_subscribe(ge){return this._throwIfClosed(),this._checkFinalizedStatuses(ge),this._innerSubscribe(ge)}_innerSubscribe(ge){const{hasError:Me,isStopped:ut,observers:Je}=this;return Me||ut?u.Lc:(this.currentObservers=null,Je.push(ge),new u.w0(()=>{this.currentObservers=null,(0,_e.P)(Je,ge)}))}_checkFinalizedStatuses(ge){const{hasError:Me,thrownError:ut,isStopped:Je}=this;Me?ge.error(ut):Je&&ge.complete()}asObservable(){const ge=new I.y;return ge.source=this,ge}}return De.create=(ue,ge)=>new Ce(ue,ge),De})();class Ce extends he{constructor(ue,ge){super(),this.destination=ue,this.source=ge}next(ue){var ge,Me;null===(Me=null===(ge=this.destination)||void 0===ge?void 0:ge.next)||void 0===Me||Me.call(ge,ue)}error(ue){var ge,Me;null===(Me=null===(ge=this.destination)||void 0===ge?void 0:ge.error)||void 0===Me||Me.call(ge,ue)}complete(){var ue,ge;null===(ge=null===(ue=this.destination)||void 0===ue?void 0:ue.complete)||void 0===ge||ge.call(ue)}_subscribe(ue){var ge,Me;return null!==(Me=null===(ge=this.source)||void 0===ge?void 0:ge.subscribe(ue))&&void 0!==Me?Me:u.Lc}}},305:(zt,$e,j)=>{j.d($e,{Hp:()=>dt,Lv:()=>Me});var I=j(4674),u=j(7394),W=j(2653),ve=j(3894),_e=j(2420);const we=De("C",void 0,void 0);function De(Be,Xe,Ue){return{kind:Be,value:Xe,error:Ue}}var ue=j(7599),ge=j(1441);class Me extends u.w0{constructor(Xe){super(),this.isStopped=!1,Xe?(this.destination=Xe,(0,u.Nn)(Xe)&&Xe.add(this)):this.destination=qe}static create(Xe,Ue,et){return new dt(Xe,Ue,et)}next(Xe){this.isStopped?Xt(function Ce(Be){return De("N",Be,void 0)}(Xe),this):this._next(Xe)}error(Xe){this.isStopped?Xt(function he(Be){return De("E",void 0,Be)}(Xe),this):(this.isStopped=!0,this._error(Xe))}complete(){this.isStopped?Xt(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Xe){this.destination.next(Xe)}_error(Xe){try{this.destination.error(Xe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ut=Function.prototype.bind;function Je(Be,Xe){return ut.call(Be,Xe)}class Mt{constructor(Xe){this.partialObserver=Xe}next(Xe){const{partialObserver:Ue}=this;if(Ue.next)try{Ue.next(Xe)}catch(et){Ct(et)}}error(Xe){const{partialObserver:Ue}=this;if(Ue.error)try{Ue.error(Xe)}catch(et){Ct(et)}else Ct(Xe)}complete(){const{partialObserver:Xe}=this;if(Xe.complete)try{Xe.complete()}catch(Ue){Ct(Ue)}}}class dt extends Me{constructor(Xe,Ue,et){let vt;if(super(),(0,I.m)(Xe)||!Xe)vt={next:Xe??void 0,error:Ue??void 0,complete:et??void 0};else{let ze;this&&W.config.useDeprecatedNextContext?(ze=Object.create(Xe),ze.unsubscribe=()=>this.unsubscribe(),vt={next:Xe.next&&Je(Xe.next,ze),error:Xe.error&&Je(Xe.error,ze),complete:Xe.complete&&Je(Xe.complete,ze)}):vt=Xe}this.destination=new Mt(vt)}}function Ct(Be){W.config.useDeprecatedSynchronousErrorHandling?(0,ge.O)(Be):(0,ve.h)(Be)}function Xt(Be,Xe){const{onStoppedNotification:Ue}=W.config;Ue&&ue.z.setTimeout(()=>Ue(Be,Xe))}const qe={closed:!0,next:_e.Z,error:function mt(Be){throw Be},complete:_e.Z}},7394:(zt,$e,j)=>{j.d($e,{Lc:()=>we,w0:()=>_e,Nn:()=>he});var I=j(4674);const W=(0,j(2306).d)(De=>function(ge){De(this),this.message=ge?`${ge.length} errors occurred during unsubscription:\n${ge.map((Me,ut)=>`${ut+1}) ${Me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ge});var ve=j(9039);class _e{constructor(ue){this.initialTeardown=ue,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ue;if(!this.closed){this.closed=!0;const{_parentage:ge}=this;if(ge)if(this._parentage=null,Array.isArray(ge))for(const Je of ge)Je.remove(this);else ge.remove(this);const{initialTeardown:Me}=this;if((0,I.m)(Me))try{Me()}catch(Je){ue=Je instanceof W?Je.errors:[Je]}const{_finalizers:ut}=this;if(ut){this._finalizers=null;for(const Je of ut)try{Ce(Je)}catch(Mt){ue=ue??[],Mt instanceof W?ue=[...ue,...Mt.errors]:ue.push(Mt)}}if(ue)throw new W(ue)}}add(ue){var ge;if(ue&&ue!==this)if(this.closed)Ce(ue);else{if(ue instanceof _e){if(ue.closed||ue._hasParent(this))return;ue._addParent(this)}(this._finalizers=null!==(ge=this._finalizers)&&void 0!==ge?ge:[]).push(ue)}}_hasParent(ue){const{_parentage:ge}=this;return ge===ue||Array.isArray(ge)&&ge.includes(ue)}_addParent(ue){const{_parentage:ge}=this;this._parentage=Array.isArray(ge)?(ge.push(ue),ge):ge?[ge,ue]:ue}_removeParent(ue){const{_parentage:ge}=this;ge===ue?this._parentage=null:Array.isArray(ge)&&(0,ve.P)(ge,ue)}remove(ue){const{_finalizers:ge}=this;ge&&(0,ve.P)(ge,ue),ue instanceof _e&&ue._removeParent(this)}}_e.EMPTY=(()=>{const De=new _e;return De.closed=!0,De})();const we=_e.EMPTY;function he(De){return De instanceof _e||De&&"closed"in De&&(0,I.m)(De.remove)&&(0,I.m)(De.add)&&(0,I.m)(De.unsubscribe)}function Ce(De){(0,I.m)(De)?De():De.unsubscribe()}},2653:(zt,$e,j)=>{j.d($e,{config:()=>I});const I={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(zt,$e,j)=>{j.d($e,{a:()=>ue});var I=j(5592),u=j(7453),W=j(2459),ve=j(2737),_e=j(7400),we=j(4564),he=j(2714),Ce=j(8251),De=j(7103);function ue(...ut){const Je=(0,we.yG)(ut),Mt=(0,we.jO)(ut),{args:dt,keys:Ct}=(0,u.D)(ut);if(0===dt.length)return(0,W.D)([],Je);const mt=new I.y(function ge(ut,Je,Mt=ve.y){return dt=>{Me(Je,()=>{const{length:Ct}=ut,mt=new Array(Ct);let Xt=Ct,qe=Ct;for(let Be=0;Be<Ct;Be++)Me(Je,()=>{const Xe=(0,W.D)(ut[Be],Je);let Ue=!1;Xe.subscribe((0,Ce.x)(dt,et=>{mt[Be]=et,Ue||(Ue=!0,qe--),qe||dt.next(Mt(mt.slice()))},()=>{--Xt||dt.complete()}))},dt)},dt)}}(dt,Je,Ct?Xt=>(0,he.n)(Ct,Xt):ve.y));return Mt?mt.pipe((0,_e.Z)(Mt)):mt}function Me(ut,Je,Mt){ut?(0,De.f)(Mt,ut,Je):Je()}},5211:(zt,$e,j)=>{j.d($e,{z:()=>_e});var I=j(7537),W=j(4564),ve=j(2459);function _e(...we){return function u(){return(0,I.J)(1)}()((0,ve.D)(we,(0,W.yG)(we)))}},6232:(zt,$e,j)=>{j.d($e,{E:()=>u});const u=new(j(5592).y)(_e=>_e.complete())},2459:(zt,$e,j)=>{j.d($e,{D:()=>Xe});var I=j(4829),u=j(3093),W=j(5137),we=j(5592),Ce=j(4971),De=j(4674),ue=j(7103);function Me(Ue,et){if(!Ue)throw new Error("Iterable cannot be null");return new we.y(vt=>{(0,ue.f)(vt,et,()=>{const ze=Ue[Symbol.asyncIterator]();(0,ue.f)(vt,et,()=>{ze.next().then(de=>{de.done?vt.complete():vt.next(de.value)})},0,!0)})})}var ut=j(8382),Je=j(4026),Mt=j(4266),dt=j(3664),Ct=j(5726),mt=j(9853),Xt=j(541);function Xe(Ue,et){return et?function Be(Ue,et){if(null!=Ue){if((0,ut.c)(Ue))return function ve(Ue,et){return(0,I.Xf)(Ue).pipe((0,W.R)(et),(0,u.Q)(et))}(Ue,et);if((0,Mt.z)(Ue))return function he(Ue,et){return new we.y(vt=>{let ze=0;return et.schedule(function(){ze===Ue.length?vt.complete():(vt.next(Ue[ze++]),vt.closed||this.schedule())})})}(Ue,et);if((0,Je.t)(Ue))return function _e(Ue,et){return(0,I.Xf)(Ue).pipe((0,W.R)(et),(0,u.Q)(et))}(Ue,et);if((0,Ct.D)(Ue))return Me(Ue,et);if((0,dt.T)(Ue))return function ge(Ue,et){return new we.y(vt=>{let ze;return(0,ue.f)(vt,et,()=>{ze=Ue[Ce.h](),(0,ue.f)(vt,et,()=>{let de,gt;try{({value:de,done:gt}=ze.next())}catch(Ut){return void vt.error(Ut)}gt?vt.complete():vt.next(de)},0,!0)}),()=>(0,De.m)(ze?.return)&&ze.return()})}(Ue,et);if((0,Xt.L)(Ue))return function qe(Ue,et){return Me((0,Xt.Q)(Ue),et)}(Ue,et)}throw(0,mt.z)(Ue)}(Ue,et):(0,I.Xf)(Ue)}},4829:(zt,$e,j)=>{j.d($e,{Xf:()=>ut});var I=j(7582),u=j(4266),W=j(4026),ve=j(5592),_e=j(8382),we=j(5726),he=j(9853),Ce=j(3664),De=j(541),ue=j(4674),ge=j(3894),Me=j(4850);function ut(Be){if(Be instanceof ve.y)return Be;if(null!=Be){if((0,_e.c)(Be))return function Je(Be){return new ve.y(Xe=>{const Ue=Be[Me.L]();if((0,ue.m)(Ue.subscribe))return Ue.subscribe(Xe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Be);if((0,u.z)(Be))return function Mt(Be){return new ve.y(Xe=>{for(let Ue=0;Ue<Be.length&&!Xe.closed;Ue++)Xe.next(Be[Ue]);Xe.complete()})}(Be);if((0,W.t)(Be))return function dt(Be){return new ve.y(Xe=>{Be.then(Ue=>{Xe.closed||(Xe.next(Ue),Xe.complete())},Ue=>Xe.error(Ue)).then(null,ge.h)})}(Be);if((0,we.D)(Be))return mt(Be);if((0,Ce.T)(Be))return function Ct(Be){return new ve.y(Xe=>{for(const Ue of Be)if(Xe.next(Ue),Xe.closed)return;Xe.complete()})}(Be);if((0,De.L)(Be))return function Xt(Be){return mt((0,De.Q)(Be))}(Be)}throw(0,he.z)(Be)}function mt(Be){return new ve.y(Xe=>{(function qe(Be,Xe){var Ue,et,vt,ze;return(0,I.mG)(this,void 0,void 0,function*(){try{for(Ue=(0,I.KL)(Be);!(et=yield Ue.next()).done;)if(Xe.next(et.value),Xe.closed)return}catch(de){vt={error:de}}finally{try{et&&!et.done&&(ze=Ue.return)&&(yield ze.call(Ue))}finally{if(vt)throw vt.error}}Xe.complete()})})(Be,Xe).catch(Ue=>Xe.error(Ue))})}},3019:(zt,$e,j)=>{j.d($e,{T:()=>we});var I=j(7537),u=j(4829),W=j(6232),ve=j(4564),_e=j(2459);function we(...he){const Ce=(0,ve.yG)(he),De=(0,ve._6)(he,1/0),ue=he;return ue.length?1===ue.length?(0,u.Xf)(ue[0]):(0,I.J)(De)((0,_e.D)(ue,Ce)):W.E}},2096:(zt,$e,j)=>{j.d($e,{of:()=>W});var I=j(4564),u=j(2459);function W(...ve){const _e=(0,I.yG)(ve);return(0,u.D)(ve,_e)}},8504:(zt,$e,j)=>{j.d($e,{_:()=>W});var I=j(5592),u=j(4674);function W(ve,_e){const we=(0,u.m)(ve)?ve:()=>ve,he=Ce=>Ce.error(we());return new I.y(_e?Ce=>_e.schedule(he,0,Ce):he)}},8251:(zt,$e,j)=>{j.d($e,{x:()=>u});var I=j(305);function u(ve,_e,we,he,Ce){return new W(ve,_e,we,he,Ce)}class W extends I.Lv{constructor(_e,we,he,Ce,De,ue){super(_e),this.onFinalize=De,this.shouldUnsubscribe=ue,this._next=we?function(ge){try{we(ge)}catch(Me){_e.error(Me)}}:super._next,this._error=Ce?function(ge){try{Ce(ge)}catch(Me){_e.error(Me)}finally{this.unsubscribe()}}:super._error,this._complete=he?function(){try{he()}catch(ge){_e.error(ge)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var _e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:we}=this;super.unsubscribe(),!we&&(null===(_e=this.onFinalize)||void 0===_e||_e.call(this))}}}},6306:(zt,$e,j)=>{j.d($e,{K:()=>ve});var I=j(4829),u=j(8251),W=j(9360);function ve(_e){return(0,W.e)((we,he)=>{let ue,Ce=null,De=!1;Ce=we.subscribe((0,u.x)(he,void 0,void 0,ge=>{ue=(0,I.Xf)(_e(ge,ve(_e)(we))),Ce?(Ce.unsubscribe(),Ce=null,ue.subscribe(he)):De=!0})),De&&(Ce.unsubscribe(),Ce=null,ue.subscribe(he))})}},6328:(zt,$e,j)=>{j.d($e,{b:()=>W});var I=j(1631),u=j(4674);function W(ve,_e){return(0,u.m)(_e)?(0,I.z)(ve,_e,1):(0,I.z)(ve,1)}},3572:(zt,$e,j)=>{j.d($e,{d:()=>W});var I=j(9360),u=j(8251);function W(ve){return(0,I.e)((_e,we)=>{let he=!1;_e.subscribe((0,u.x)(we,Ce=>{he=!0,we.next(Ce)},()=>{he||we.next(ve),we.complete()}))})}},3997:(zt,$e,j)=>{j.d($e,{x:()=>ve});var I=j(2737),u=j(9360),W=j(8251);function ve(we,he=I.y){return we=we??_e,(0,u.e)((Ce,De)=>{let ue,ge=!0;Ce.subscribe((0,W.x)(De,Me=>{const ut=he(Me);(ge||!we(ue,ut))&&(ge=!1,ue=ut,De.next(Me))}))})}function _e(we,he){return we===he}},2181:(zt,$e,j)=>{j.d($e,{h:()=>W});var I=j(9360),u=j(8251);function W(ve,_e){return(0,I.e)((we,he)=>{let Ce=0;we.subscribe((0,u.x)(he,De=>ve.call(_e,De,Ce++)&&he.next(De)))})}},4716:(zt,$e,j)=>{j.d($e,{x:()=>u});var I=j(9360);function u(W){return(0,I.e)((ve,_e)=>{try{ve.subscribe(_e)}finally{_e.add(W)}})}},1374:(zt,$e,j)=>{j.d($e,{P:()=>he});var I=j(6973),u=j(2181),W=j(8180),ve=j(3572),_e=j(3026),we=j(2737);function he(Ce,De){const ue=arguments.length>=2;return ge=>ge.pipe(Ce?(0,u.h)((Me,ut)=>Ce(Me,ut,ge)):we.y,(0,W.q)(1),ue?(0,ve.d)(De):(0,_e.T)(()=>new I.K))}},7398:(zt,$e,j)=>{j.d($e,{U:()=>W});var I=j(9360),u=j(8251);function W(ve,_e){return(0,I.e)((we,he)=>{let Ce=0;we.subscribe((0,u.x)(he,De=>{he.next(ve.call(_e,De,Ce++))}))})}},7537:(zt,$e,j)=>{j.d($e,{J:()=>W});var I=j(1631),u=j(2737);function W(ve=1/0){return(0,I.z)(u.y,ve)}},1631:(zt,$e,j)=>{j.d($e,{z:()=>Ce});var I=j(7398),u=j(4829),W=j(9360),ve=j(7103),_e=j(8251),he=j(4674);function Ce(De,ue,ge=1/0){return(0,he.m)(ue)?Ce((Me,ut)=>(0,I.U)((Je,Mt)=>ue(Me,Je,ut,Mt))((0,u.Xf)(De(Me,ut))),ge):("number"==typeof ue&&(ge=ue),(0,W.e)((Me,ut)=>function we(De,ue,ge,Me,ut,Je,Mt,dt){const Ct=[];let mt=0,Xt=0,qe=!1;const Be=()=>{qe&&!Ct.length&&!mt&&ue.complete()},Xe=et=>mt<Me?Ue(et):Ct.push(et),Ue=et=>{Je&&ue.next(et),mt++;let vt=!1;(0,u.Xf)(ge(et,Xt++)).subscribe((0,_e.x)(ue,ze=>{ut?.(ze),Je?Xe(ze):ue.next(ze)},()=>{vt=!0},void 0,()=>{if(vt)try{for(mt--;Ct.length&&mt<Me;){const ze=Ct.shift();Mt?(0,ve.f)(ue,Mt,()=>Ue(ze)):Ue(ze)}Be()}catch(ze){ue.error(ze)}}))};return De.subscribe((0,_e.x)(ue,Xe,()=>{qe=!0,Be()})),()=>{dt?.()}}(Me,ut,De,ge)))}},3093:(zt,$e,j)=>{j.d($e,{Q:()=>ve});var I=j(7103),u=j(9360),W=j(8251);function ve(_e,we=0){return(0,u.e)((he,Ce)=>{he.subscribe((0,W.x)(Ce,De=>(0,I.f)(Ce,_e,()=>Ce.next(De),we),()=>(0,I.f)(Ce,_e,()=>Ce.complete(),we),De=>(0,I.f)(Ce,_e,()=>Ce.error(De),we)))})}},6699:(zt,$e,j)=>{j.d($e,{R:()=>ve});var I=j(9360),u=j(8251);function ve(_e,we){return(0,I.e)(function W(_e,we,he,Ce,De){return(ue,ge)=>{let Me=he,ut=we,Je=0;ue.subscribe((0,u.x)(ge,Mt=>{const dt=Je++;ut=Me?_e(ut,Mt,dt):(Me=!0,Mt),Ce&&ge.next(ut)},De&&(()=>{Me&&ge.next(ut),ge.complete()})))}}(_e,we,arguments.length>=2,!0))}},3020:(zt,$e,j)=>{j.d($e,{B:()=>_e});var I=j(4829),u=j(8645),W=j(305),ve=j(9360);function _e(he={}){const{connector:Ce=(()=>new u.x),resetOnError:De=!0,resetOnComplete:ue=!0,resetOnRefCountZero:ge=!0}=he;return Me=>{let ut,Je,Mt,dt=0,Ct=!1,mt=!1;const Xt=()=>{Je?.unsubscribe(),Je=void 0},qe=()=>{Xt(),ut=Mt=void 0,Ct=mt=!1},Be=()=>{const Xe=ut;qe(),Xe?.unsubscribe()};return(0,ve.e)((Xe,Ue)=>{dt++,!mt&&!Ct&&Xt();const et=Mt=Mt??Ce();Ue.add(()=>{dt--,0===dt&&!mt&&!Ct&&(Je=we(Be,ge))}),et.subscribe(Ue),!ut&&dt>0&&(ut=new W.Hp({next:vt=>et.next(vt),error:vt=>{mt=!0,Xt(),Je=we(qe,De,vt),et.error(vt)},complete:()=>{Ct=!0,Xt(),Je=we(qe,ue),et.complete()}}),(0,I.Xf)(Xe).subscribe(ut))})(Me)}}function we(he,Ce,...De){if(!0===Ce)return void he();if(!1===Ce)return;const ue=new W.Hp({next:()=>{ue.unsubscribe(),he()}});return(0,I.Xf)(Ce(...De)).subscribe(ue)}},940:(zt,$e,j)=>{j.d($e,{d:()=>_e});var I=j(8645),u=j(4552);class W extends I.x{constructor(he=1/0,Ce=1/0,De=u.l){super(),this._bufferSize=he,this._windowTime=Ce,this._timestampProvider=De,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ce===1/0,this._bufferSize=Math.max(1,he),this._windowTime=Math.max(1,Ce)}next(he){const{isStopped:Ce,_buffer:De,_infiniteTimeWindow:ue,_timestampProvider:ge,_windowTime:Me}=this;Ce||(De.push(he),!ue&&De.push(ge.now()+Me)),this._trimBuffer(),super.next(he)}_subscribe(he){this._throwIfClosed(),this._trimBuffer();const Ce=this._innerSubscribe(he),{_infiniteTimeWindow:De,_buffer:ue}=this,ge=ue.slice();for(let Me=0;Me<ge.length&&!he.closed;Me+=De?1:2)he.next(ge[Me]);return this._checkFinalizedStatuses(he),Ce}_trimBuffer(){const{_bufferSize:he,_timestampProvider:Ce,_buffer:De,_infiniteTimeWindow:ue}=this,ge=(ue?1:2)*he;if(he<1/0&&ge<De.length&&De.splice(0,De.length-ge),!ue){const Me=Ce.now();let ut=0;for(let Je=1;Je<De.length&&De[Je]<=Me;Je+=2)ut=Je;ut&&De.splice(0,ut+1)}}}var ve=j(3020);function _e(we,he,Ce){let De,ue=!1;return we&&"object"==typeof we?({bufferSize:De=1/0,windowTime:he=1/0,refCount:ue=!1,scheduler:Ce}=we):De=we??1/0,(0,ve.B)({connector:()=>new W(De,he,Ce),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ue})}},7921:(zt,$e,j)=>{j.d($e,{O:()=>ve});var I=j(5211),u=j(4564),W=j(9360);function ve(..._e){const we=(0,u.yG)(_e);return(0,W.e)((he,Ce)=>{(we?(0,I.z)(_e,he,we):(0,I.z)(_e,he)).subscribe(Ce)})}},5137:(zt,$e,j)=>{j.d($e,{R:()=>u});var I=j(9360);function u(W,ve=0){return(0,I.e)((_e,we)=>{we.add(W.schedule(()=>_e.subscribe(we),ve))})}},4664:(zt,$e,j)=>{j.d($e,{w:()=>ve});var I=j(4829),u=j(9360),W=j(8251);function ve(_e,we){return(0,u.e)((he,Ce)=>{let De=null,ue=0,ge=!1;const Me=()=>ge&&!De&&Ce.complete();he.subscribe((0,W.x)(Ce,ut=>{De?.unsubscribe();let Je=0;const Mt=ue++;(0,I.Xf)(_e(ut,Mt)).subscribe(De=(0,W.x)(Ce,dt=>Ce.next(we?we(ut,dt,Mt,Je++):dt),()=>{De=null,Me()}))},()=>{ge=!0,Me()}))})}},8180:(zt,$e,j)=>{j.d($e,{q:()=>ve});var I=j(6232),u=j(9360),W=j(8251);function ve(_e){return _e<=0?()=>I.E:(0,u.e)((we,he)=>{let Ce=0;we.subscribe((0,W.x)(he,De=>{++Ce<=_e&&(he.next(De),_e<=Ce&&he.complete())}))})}},9773:(zt,$e,j)=>{j.d($e,{R:()=>_e});var I=j(9360),u=j(8251),W=j(4829),ve=j(2420);function _e(we){return(0,I.e)((he,Ce)=>{(0,W.Xf)(we).subscribe((0,u.x)(Ce,()=>Ce.complete(),ve.Z)),!Ce.closed&&he.subscribe(Ce)})}},9397:(zt,$e,j)=>{j.d($e,{b:()=>_e});var I=j(4674),u=j(9360),W=j(8251),ve=j(2737);function _e(we,he,Ce){const De=(0,I.m)(we)||he||Ce?{next:we,error:he,complete:Ce}:we;return De?(0,u.e)((ue,ge)=>{var Me;null===(Me=De.subscribe)||void 0===Me||Me.call(De);let ut=!0;ue.subscribe((0,W.x)(ge,Je=>{var Mt;null===(Mt=De.next)||void 0===Mt||Mt.call(De,Je),ge.next(Je)},()=>{var Je;ut=!1,null===(Je=De.complete)||void 0===Je||Je.call(De),ge.complete()},Je=>{var Mt;ut=!1,null===(Mt=De.error)||void 0===Mt||Mt.call(De,Je),ge.error(Je)},()=>{var Je,Mt;ut&&(null===(Je=De.unsubscribe)||void 0===Je||Je.call(De)),null===(Mt=De.finalize)||void 0===Mt||Mt.call(De)}))}):ve.y}},3026:(zt,$e,j)=>{j.d($e,{T:()=>ve});var I=j(6973),u=j(9360),W=j(8251);function ve(we=_e){return(0,u.e)((he,Ce)=>{let De=!1;he.subscribe((0,W.x)(Ce,ue=>{De=!0,Ce.next(ue)},()=>De?Ce.complete():Ce.error(we())))})}function _e(){return new I.K}},1954:(zt,$e,j)=>{j.d($e,{o:()=>_e});var I=j(7394);class u extends I.w0{constructor(he,Ce){super()}schedule(he,Ce=0){return this}}const W={setInterval(we,he,...Ce){const{delegate:De}=W;return De?.setInterval?De.setInterval(we,he,...Ce):setInterval(we,he,...Ce)},clearInterval(we){const{delegate:he}=W;return(he?.clearInterval||clearInterval)(we)},delegate:void 0};var ve=j(9039);class _e extends u{constructor(he,Ce){super(he,Ce),this.scheduler=he,this.work=Ce,this.pending=!1}schedule(he,Ce=0){var De;if(this.closed)return this;this.state=he;const ue=this.id,ge=this.scheduler;return null!=ue&&(this.id=this.recycleAsyncId(ge,ue,Ce)),this.pending=!0,this.delay=Ce,this.id=null!==(De=this.id)&&void 0!==De?De:this.requestAsyncId(ge,this.id,Ce),this}requestAsyncId(he,Ce,De=0){return W.setInterval(he.flush.bind(he,this),De)}recycleAsyncId(he,Ce,De=0){if(null!=De&&this.delay===De&&!1===this.pending)return Ce;null!=Ce&&W.clearInterval(Ce)}execute(he,Ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const De=this._execute(he,Ce);if(De)return De;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(he,Ce){let ue,De=!1;try{this.work(he)}catch(ge){De=!0,ue=ge||new Error("Scheduled action threw falsy error")}if(De)return this.unsubscribe(),ue}unsubscribe(){if(!this.closed){const{id:he,scheduler:Ce}=this,{actions:De}=Ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ve.P)(De,this),null!=he&&(this.id=this.recycleAsyncId(Ce,he,null)),this.delay=null,super.unsubscribe()}}}},2631:(zt,$e,j)=>{j.d($e,{v:()=>W});var I=j(4552);class u{constructor(_e,we=u.now){this.schedulerActionCtor=_e,this.now=we}schedule(_e,we=0,he){return new this.schedulerActionCtor(this,_e).schedule(he,we)}}u.now=I.l.now;class W extends u{constructor(_e,we=u.now){super(_e,we),this.actions=[],this._active=!1}flush(_e){const{actions:we}=this;if(this._active)return void we.push(_e);let he;this._active=!0;do{if(he=_e.execute(_e.state,_e.delay))break}while(_e=we.shift());if(this._active=!1,he){for(;_e=we.shift();)_e.unsubscribe();throw he}}}},6321:(zt,$e,j)=>{j.d($e,{z:()=>W});var I=j(1954);const W=new(j(2631).v)(I.o)},4552:(zt,$e,j)=>{j.d($e,{l:()=>I});const I={now:()=>(I.delegate||Date).now(),delegate:void 0}},7599:(zt,$e,j)=>{j.d($e,{z:()=>I});const I={setTimeout(u,W,...ve){const{delegate:_e}=I;return _e?.setTimeout?_e.setTimeout(u,W,...ve):setTimeout(u,W,...ve)},clearTimeout(u){const{delegate:W}=I;return(W?.clearTimeout||clearTimeout)(u)},delegate:void 0}},4971:(zt,$e,j)=>{j.d($e,{h:()=>u});const u=function I(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(zt,$e,j)=>{j.d($e,{L:()=>I});const I="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(zt,$e,j)=>{j.d($e,{K:()=>u});const u=(0,j(2306).d)(W=>function(){W(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(zt,$e,j)=>{j.d($e,{_6:()=>we,jO:()=>ve,yG:()=>_e});var I=j(4674);function W(he){return he[he.length-1]}function ve(he){return(0,I.m)(W(he))?he.pop():void 0}function _e(he){return function u(he){return he&&(0,I.m)(he.schedule)}(W(he))?he.pop():void 0}function we(he,Ce){return"number"==typeof W(he)?he.pop():Ce}},7453:(zt,$e,j)=>{j.d($e,{D:()=>_e});const{isArray:I}=Array,{getPrototypeOf:u,prototype:W,keys:ve}=Object;function _e(he){if(1===he.length){const Ce=he[0];if(I(Ce))return{args:Ce,keys:null};if(function we(he){return he&&"object"==typeof he&&u(he)===W}(Ce)){const De=ve(Ce);return{args:De.map(ue=>Ce[ue]),keys:De}}}return{args:he,keys:null}}},9039:(zt,$e,j)=>{function I(u,W){if(u){const ve=u.indexOf(W);0<=ve&&u.splice(ve,1)}}j.d($e,{P:()=>I})},2306:(zt,$e,j)=>{function I(u){const ve=u(_e=>{Error.call(_e),_e.stack=(new Error).stack});return ve.prototype=Object.create(Error.prototype),ve.prototype.constructor=ve,ve}j.d($e,{d:()=>I})},2714:(zt,$e,j)=>{function I(u,W){return u.reduce((ve,_e,we)=>(ve[_e]=W[we],ve),{})}j.d($e,{n:()=>I})},1441:(zt,$e,j)=>{j.d($e,{O:()=>ve,x:()=>W});var I=j(2653);let u=null;function W(_e){if(I.config.useDeprecatedSynchronousErrorHandling){const we=!u;if(we&&(u={errorThrown:!1,error:null}),_e(),we){const{errorThrown:he,error:Ce}=u;if(u=null,he)throw Ce}}else _e()}function ve(_e){I.config.useDeprecatedSynchronousErrorHandling&&u&&(u.errorThrown=!0,u.error=_e)}},7103:(zt,$e,j)=>{function I(u,W,ve,_e=0,we=!1){const he=W.schedule(function(){ve(),we?u.add(this.schedule(null,_e)):this.unsubscribe()},_e);if(u.add(he),!we)return he}j.d($e,{f:()=>I})},2737:(zt,$e,j)=>{function I(u){return u}j.d($e,{y:()=>I})},4266:(zt,$e,j)=>{j.d($e,{z:()=>I});const I=u=>u&&"number"==typeof u.length&&"function"!=typeof u},5726:(zt,$e,j)=>{j.d($e,{D:()=>u});var I=j(4674);function u(W){return Symbol.asyncIterator&&(0,I.m)(W?.[Symbol.asyncIterator])}},4674:(zt,$e,j)=>{function I(u){return"function"==typeof u}j.d($e,{m:()=>I})},8382:(zt,$e,j)=>{j.d($e,{c:()=>W});var I=j(4850),u=j(4674);function W(ve){return(0,u.m)(ve[I.L])}},3664:(zt,$e,j)=>{j.d($e,{T:()=>W});var I=j(4971),u=j(4674);function W(ve){return(0,u.m)(ve?.[I.h])}},4026:(zt,$e,j)=>{j.d($e,{t:()=>u});var I=j(4674);function u(W){return(0,I.m)(W?.then)}},541:(zt,$e,j)=>{j.d($e,{L:()=>ve,Q:()=>W});var I=j(7582),u=j(4674);function W(_e){return(0,I.FC)(this,arguments,function*(){const he=_e.getReader();try{for(;;){const{value:Ce,done:De}=yield(0,I.qq)(he.read());if(De)return yield(0,I.qq)(void 0);yield yield(0,I.qq)(Ce)}}finally{he.releaseLock()}})}function ve(_e){return(0,u.m)(_e?.getReader)}},9360:(zt,$e,j)=>{j.d($e,{A:()=>u,e:()=>W});var I=j(4674);function u(ve){return(0,I.m)(ve?.lift)}function W(ve){return _e=>{if(u(_e))return _e.lift(function(we){try{return ve(we,this)}catch(he){this.error(he)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(zt,$e,j)=>{j.d($e,{Z:()=>ve});var I=j(7398);const{isArray:u}=Array;function ve(_e){return(0,I.U)(we=>function W(_e,we){return u(we)?_e(...we):_e(we)}(_e,we))}},2420:(zt,$e,j)=>{function I(){}j.d($e,{Z:()=>I})},8407:(zt,$e,j)=>{j.d($e,{U:()=>W,z:()=>u});var I=j(2737);function u(...ve){return W(ve)}function W(ve){return 0===ve.length?I.y:1===ve.length?ve[0]:function(we){return ve.reduce((he,Ce)=>Ce(he),we)}}},3894:(zt,$e,j)=>{j.d($e,{h:()=>W});var I=j(2653),u=j(7599);function W(ve){u.z.setTimeout(()=>{const{onUnhandledError:_e}=I.config;if(!_e)throw ve;_e(ve)})}},9853:(zt,$e,j)=>{function I(u){return new TypeError(`You provided ${null!==u&&"object"==typeof u?"an invalid object":`'${u}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d($e,{z:()=>I})},6814:(zt,$e,j)=>{j.d($e,{Do:()=>dt,EM:()=>Ei,HT:()=>ve,JF:()=>us,K0:()=>we,Mx:()=>Yi,NF:()=>Ji,O5:()=>zi,Ov:()=>Qr,PM:()=>tr,S$:()=>ut,Ts:()=>Li,V_:()=>Ce,Ye:()=>Ct,b0:()=>Mt,bD:()=>Yn,ez:()=>ni,mk:()=>ai,q:()=>W,sg:()=>mr,uU:()=>jr,w_:()=>_e});var I=j(5879);let u=null;function W(){return u}function ve(R){u||(u=R)}class _e{}const we=new I.OlP("DocumentToken");let he=(()=>{class R{historyGo(B){throw new Error("Not implemented")}static#e=this.\u0275fac=function(J){return new(J||R)};static#t=this.\u0275prov=I.Yz7({token:R,factory:function(){return(0,I.f3M)(De)},providedIn:"platform"})}return R})();const Ce=new I.OlP("Location Initialized");let De=(()=>{class R extends he{constructor(){super(),this._doc=(0,I.f3M)(we),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return W().getBaseHref(this._doc)}onPopState(B){const J=W().getGlobalEventTarget(this._doc,"window");return J.addEventListener("popstate",B,!1),()=>J.removeEventListener("popstate",B)}onHashChange(B){const J=W().getGlobalEventTarget(this._doc,"window");return J.addEventListener("hashchange",B,!1),()=>J.removeEventListener("hashchange",B)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(B){this._location.pathname=B}pushState(B,J,Ie){this._history.pushState(B,J,Ie)}replaceState(B,J,Ie){this._history.replaceState(B,J,Ie)}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}static#e=this.\u0275fac=function(J){return new(J||R)};static#t=this.\u0275prov=I.Yz7({token:R,factory:function(){return new R},providedIn:"platform"})}return R})();function ue(R,X){if(0==R.length)return X;if(0==X.length)return R;let B=0;return R.endsWith("/")&&B++,X.startsWith("/")&&B++,2==B?R+X.substring(1):1==B?R+X:R+"/"+X}function ge(R){const X=R.match(/#|\?|$/),B=X&&X.index||R.length;return R.slice(0,B-("/"===R[B-1]?1:0))+R.slice(B)}function Me(R){return R&&"?"!==R[0]?"?"+R:R}let ut=(()=>{class R{historyGo(B){throw new Error("Not implemented")}static#e=this.\u0275fac=function(J){return new(J||R)};static#t=this.\u0275prov=I.Yz7({token:R,factory:function(){return(0,I.f3M)(Mt)},providedIn:"root"})}return R})();const Je=new I.OlP("appBaseHref");let Mt=(()=>{class R extends ut{constructor(B,J){super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=J??this._platformLocation.getBaseHrefFromDOM()??(0,I.f3M)(we).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return ue(this._baseHref,B)}path(B=!1){const J=this._platformLocation.pathname+Me(this._platformLocation.search),Ie=this._platformLocation.hash;return Ie&&B?`${J}${Ie}`:J}pushState(B,J,Ie,at){const bt=this.prepareExternalUrl(Ie+Me(at));this._platformLocation.pushState(B,J,bt)}replaceState(B,J,Ie,at){const bt=this.prepareExternalUrl(Ie+Me(at));this._platformLocation.replaceState(B,J,bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}static#e=this.\u0275fac=function(J){return new(J||R)(I.LFG(he),I.LFG(Je,8))};static#t=this.\u0275prov=I.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"})}return R})(),dt=(()=>{class R extends ut{constructor(B,J){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=J&&(this._baseHref=J)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let J=this._platformLocation.hash;return null==J&&(J="#"),J.length>0?J.substring(1):J}prepareExternalUrl(B){const J=ue(this._baseHref,B);return J.length>0?"#"+J:J}pushState(B,J,Ie,at){let bt=this.prepareExternalUrl(Ie+Me(at));0==bt.length&&(bt=this._platformLocation.pathname),this._platformLocation.pushState(B,J,bt)}replaceState(B,J,Ie,at){let bt=this.prepareExternalUrl(Ie+Me(at));0==bt.length&&(bt=this._platformLocation.pathname),this._platformLocation.replaceState(B,J,bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}static#e=this.\u0275fac=function(J){return new(J||R)(I.LFG(he),I.LFG(Je,8))};static#t=this.\u0275prov=I.Yz7({token:R,factory:R.\u0275fac})}return R})(),Ct=(()=>{class R{constructor(B){this._subject=new I.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const J=this._locationStrategy.getBaseHref();this._basePath=function Be(R){if(new RegExp("^(https?:)?//").test(R)){const[,B]=R.split(/\/\/[^\/]+/);return B}return R}(ge(qe(J))),this._locationStrategy.onPopState(Ie=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ie.state,type:Ie.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,J=""){return this.path()==this.normalize(B+Me(J))}normalize(B){return R.stripTrailingSlash(function Xt(R,X){if(!R||!X.startsWith(R))return X;const B=X.substring(R.length);return""===B||["/",";","?","#"].includes(B[0])?B:X}(this._basePath,qe(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,J="",Ie=null){this._locationStrategy.pushState(Ie,"",B,J),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+Me(J)),Ie)}replaceState(B,J="",Ie=null){this._locationStrategy.replaceState(Ie,"",B,J),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+Me(J)),Ie)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){this._locationStrategy.historyGo?.(B)}onUrlChange(B){return this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(J=>{this._notifyUrlChangeListeners(J.url,J.state)})),()=>{const J=this._urlChangeListeners.indexOf(B);this._urlChangeListeners.splice(J,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",J){this._urlChangeListeners.forEach(Ie=>Ie(B,J))}subscribe(B,J,Ie){return this._subject.subscribe({next:B,error:J,complete:Ie})}static#e=this.normalizeQueryParams=Me;static#t=this.joinWithSlash=ue;static#n=this.stripTrailingSlash=ge;static#r=this.\u0275fac=function(J){return new(J||R)(I.LFG(ut))};static#i=this.\u0275prov=I.Yz7({token:R,factory:function(){return function mt(){return new Ct((0,I.LFG)(ut))}()},providedIn:"root"})}return R})();function qe(R){return R.replace(/\/index.html$/,"")}var vt=function(R){return R[R.Format=0]="Format",R[R.Standalone=1]="Standalone",R}(vt||{}),ze=function(R){return R[R.Narrow=0]="Narrow",R[R.Abbreviated=1]="Abbreviated",R[R.Wide=2]="Wide",R[R.Short=3]="Short",R}(ze||{}),de=function(R){return R[R.Short=0]="Short",R[R.Medium=1]="Medium",R[R.Long=2]="Long",R[R.Full=3]="Full",R}(de||{}),gt=function(R){return R[R.Decimal=0]="Decimal",R[R.Group=1]="Group",R[R.List=2]="List",R[R.PercentSign=3]="PercentSign",R[R.PlusSign=4]="PlusSign",R[R.MinusSign=5]="MinusSign",R[R.Exponential=6]="Exponential",R[R.SuperscriptingExponent=7]="SuperscriptingExponent",R[R.PerMille=8]="PerMille",R[R.Infinity=9]="Infinity",R[R.NaN=10]="NaN",R[R.TimeSeparator=11]="TimeSeparator",R[R.CurrencyDecimal=12]="CurrencyDecimal",R[R.CurrencyGroup=13]="CurrencyGroup",R}(gt||{});function Oe(R,X){return mn((0,I.cg1)(R)[I.wAp.DateFormat],X)}function We(R,X){return mn((0,I.cg1)(R)[I.wAp.TimeFormat],X)}function Ke(R,X){return mn((0,I.cg1)(R)[I.wAp.DateTimeFormat],X)}function lt(R,X){const B=(0,I.cg1)(R),J=B[I.wAp.NumberSymbols][X];if(typeof J>"u"){if(X===gt.CurrencyDecimal)return B[I.wAp.NumberSymbols][gt.Decimal];if(X===gt.CurrencyGroup)return B[I.wAp.NumberSymbols][gt.Group]}return J}function un(R){if(!R[I.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${R[I.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function mn(R,X){for(let B=X;B>-1;B--)if(typeof R[B]<"u")return R[B];throw new Error("Locale data API: locale data undefined")}function vn(R){const[X,B]=R.split(":");return{hours:+X,minutes:+B}}const ur=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,On={},Ot=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var fn=function(R){return R[R.Short=0]="Short",R[R.ShortGMT=1]="ShortGMT",R[R.Long=2]="Long",R[R.Extended=3]="Extended",R}(fn||{}),wn=function(R){return R[R.FullYear=0]="FullYear",R[R.Month=1]="Month",R[R.Date=2]="Date",R[R.Hours=3]="Hours",R[R.Minutes=4]="Minutes",R[R.Seconds=5]="Seconds",R[R.FractionalSeconds=6]="FractionalSeconds",R[R.Day=7]="Day",R}(wn||{}),_n=function(R){return R[R.DayPeriods=0]="DayPeriods",R[R.Days=1]="Days",R[R.Months=2]="Months",R[R.Eras=3]="Eras",R}(_n||{});function br(R,X,B,J){let Ie=function Q(R){if(U(R))return R;if("number"==typeof R&&!isNaN(R))return new Date(R);if("string"==typeof R){if(R=R.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(R)){const[Ie,at=1,bt=1]=R.split("-").map(dn=>+dn);return _r(Ie,at-1,bt)}const B=parseFloat(R);if(!isNaN(R-B))return new Date(B);let J;if(J=R.match(ur))return function H(R){const X=new Date(0);let B=0,J=0;const Ie=R[8]?X.setUTCFullYear:X.setFullYear,at=R[8]?X.setUTCHours:X.setHours;R[9]&&(B=Number(R[9]+R[10]),J=Number(R[9]+R[11])),Ie.call(X,Number(R[1]),Number(R[2])-1,Number(R[3]));const bt=Number(R[4]||0)-B,dn=Number(R[5]||0)-J,fr=Number(R[6]||0),Rr=Math.floor(1e3*parseFloat("0."+(R[7]||0)));return at.call(X,bt,dn,fr,Rr),X}(J)}const X=new Date(R);if(!U(X))throw new Error(`Unable to convert "${R}" into a date`);return X}(R);X=Nn(B,X)||X;let dn,bt=[];for(;X;){if(dn=Ot.exec(X),!dn){bt.push(X);break}{bt=bt.concat(dn.slice(1));const wr=bt.pop();if(!wr)break;X=wr}}let fr=Ie.getTimezoneOffset();J&&(fr=oi(J,fr),Ie=function oe(R,X,B){const J=B?-1:1,Ie=R.getTimezoneOffset();return function xt(R,X){return(R=new Date(R.getTime())).setMinutes(R.getMinutes()+X),R}(R,J*(oi(X,Ie)-Ie))}(Ie,J,!0));let Rr="";return bt.forEach(wr=>{const Jn=function Dn(R){if(Lt[R])return Lt[R];let X;switch(R){case"G":case"GG":case"GGG":X=Hn(_n.Eras,ze.Abbreviated);break;case"GGGG":X=Hn(_n.Eras,ze.Wide);break;case"GGGGG":X=Hn(_n.Eras,ze.Narrow);break;case"y":X=Kt(wn.FullYear,1,0,!1,!0);break;case"yy":X=Kt(wn.FullYear,2,0,!0,!0);break;case"yyy":X=Kt(wn.FullYear,3,0,!1,!0);break;case"yyyy":X=Kt(wn.FullYear,4,0,!1,!0);break;case"Y":X=ct(1);break;case"YY":X=ct(2,!0);break;case"YYY":X=ct(3);break;case"YYYY":X=ct(4);break;case"M":case"L":X=Kt(wn.Month,1,1);break;case"MM":case"LL":X=Kt(wn.Month,2,1);break;case"MMM":X=Hn(_n.Months,ze.Abbreviated);break;case"MMMM":X=Hn(_n.Months,ze.Wide);break;case"MMMMM":X=Hn(_n.Months,ze.Narrow);break;case"LLL":X=Hn(_n.Months,ze.Abbreviated,vt.Standalone);break;case"LLLL":X=Hn(_n.Months,ze.Wide,vt.Standalone);break;case"LLLLL":X=Hn(_n.Months,ze.Narrow,vt.Standalone);break;case"w":X=Te(1);break;case"ww":X=Te(2);break;case"W":X=Te(1,!0);break;case"d":X=Kt(wn.Date,1);break;case"dd":X=Kt(wn.Date,2);break;case"c":case"cc":X=Kt(wn.Day,1);break;case"ccc":X=Hn(_n.Days,ze.Abbreviated,vt.Standalone);break;case"cccc":X=Hn(_n.Days,ze.Wide,vt.Standalone);break;case"ccccc":X=Hn(_n.Days,ze.Narrow,vt.Standalone);break;case"cccccc":X=Hn(_n.Days,ze.Short,vt.Standalone);break;case"E":case"EE":case"EEE":X=Hn(_n.Days,ze.Abbreviated);break;case"EEEE":X=Hn(_n.Days,ze.Wide);break;case"EEEEE":X=Hn(_n.Days,ze.Narrow);break;case"EEEEEE":X=Hn(_n.Days,ze.Short);break;case"a":case"aa":case"aaa":X=Hn(_n.DayPeriods,ze.Abbreviated);break;case"aaaa":X=Hn(_n.DayPeriods,ze.Wide);break;case"aaaaa":X=Hn(_n.DayPeriods,ze.Narrow);break;case"b":case"bb":case"bbb":X=Hn(_n.DayPeriods,ze.Abbreviated,vt.Standalone,!0);break;case"bbbb":X=Hn(_n.DayPeriods,ze.Wide,vt.Standalone,!0);break;case"bbbbb":X=Hn(_n.DayPeriods,ze.Narrow,vt.Standalone,!0);break;case"B":case"BB":case"BBB":X=Hn(_n.DayPeriods,ze.Abbreviated,vt.Format,!0);break;case"BBBB":X=Hn(_n.DayPeriods,ze.Wide,vt.Format,!0);break;case"BBBBB":X=Hn(_n.DayPeriods,ze.Narrow,vt.Format,!0);break;case"h":X=Kt(wn.Hours,1,-12);break;case"hh":X=Kt(wn.Hours,2,-12);break;case"H":X=Kt(wn.Hours,1);break;case"HH":X=Kt(wn.Hours,2);break;case"m":X=Kt(wn.Minutes,1);break;case"mm":X=Kt(wn.Minutes,2);break;case"s":X=Kt(wn.Seconds,1);break;case"ss":X=Kt(wn.Seconds,2);break;case"S":X=Kt(wn.FractionalSeconds,1);break;case"SS":X=Kt(wn.FractionalSeconds,2);break;case"SSS":X=Kt(wn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":X=gr(fn.Short);break;case"ZZZZZ":X=gr(fn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":X=gr(fn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":X=gr(fn.Long);break;default:return null}return Lt[R]=X,X}(wr);Rr+=Jn?Jn(Ie,B,fr):"''"===wr?"'":wr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Rr}function _r(R,X,B){const J=new Date(0);return J.setFullYear(R,X,B),J.setHours(0,0,0),J}function Nn(R,X){const B=function Bn(R){return(0,I.cg1)(R)[I.wAp.LocaleId]}(R);if(On[B]=On[B]||{},On[B][X])return On[B][X];let J="";switch(X){case"shortDate":J=Oe(R,de.Short);break;case"mediumDate":J=Oe(R,de.Medium);break;case"longDate":J=Oe(R,de.Long);break;case"fullDate":J=Oe(R,de.Full);break;case"shortTime":J=We(R,de.Short);break;case"mediumTime":J=We(R,de.Medium);break;case"longTime":J=We(R,de.Long);break;case"fullTime":J=We(R,de.Full);break;case"short":const Ie=Nn(R,"shortTime"),at=Nn(R,"shortDate");J=Pn(Ke(R,de.Short),[Ie,at]);break;case"medium":const bt=Nn(R,"mediumTime"),dn=Nn(R,"mediumDate");J=Pn(Ke(R,de.Medium),[bt,dn]);break;case"long":const fr=Nn(R,"longTime"),Rr=Nn(R,"longDate");J=Pn(Ke(R,de.Long),[fr,Rr]);break;case"full":const wr=Nn(R,"fullTime"),Jn=Nn(R,"fullDate");J=Pn(Ke(R,de.Full),[wr,Jn])}return J&&(On[B][X]=J),J}function Pn(R,X){return X&&(R=R.replace(/\{([^}]+)}/g,function(B,J){return null!=X&&J in X?X[J]:B})),R}function Ir(R,X,B="-",J,Ie){let at="";(R<0||Ie&&R<=0)&&(Ie?R=1-R:(R=-R,at=B));let bt=String(R);for(;bt.length<X;)bt="0"+bt;return J&&(bt=bt.slice(bt.length-X)),at+bt}function Kt(R,X,B=0,J=!1,Ie=!1){return function(at,bt){let dn=function si(R,X){switch(R){case wn.FullYear:return X.getFullYear();case wn.Month:return X.getMonth();case wn.Date:return X.getDate();case wn.Hours:return X.getHours();case wn.Minutes:return X.getMinutes();case wn.Seconds:return X.getSeconds();case wn.FractionalSeconds:return X.getMilliseconds();case wn.Day:return X.getDay();default:throw new Error(`Unknown DateType value "${R}".`)}}(R,at);if((B>0||dn>-B)&&(dn+=B),R===wn.Hours)0===dn&&-12===B&&(dn=12);else if(R===wn.FractionalSeconds)return function ui(R,X){return Ir(R,3).substring(0,X)}(dn,X);const fr=lt(bt,gt.MinusSign);return Ir(dn,X,fr,J,Ie)}}function Hn(R,X,B=vt.Format,J=!1){return function(Ie,at){return function pr(R,X,B,J,Ie,at){switch(B){case _n.Months:return function Wt(R,X,B){const J=(0,I.cg1)(R),at=mn([J[I.wAp.MonthsFormat],J[I.wAp.MonthsStandalone]],X);return mn(at,B)}(X,Ie,J)[R.getMonth()];case _n.Days:return function Rt(R,X,B){const J=(0,I.cg1)(R),at=mn([J[I.wAp.DaysFormat],J[I.wAp.DaysStandalone]],X);return mn(at,B)}(X,Ie,J)[R.getDay()];case _n.DayPeriods:const bt=R.getHours(),dn=R.getMinutes();if(at){const Rr=function er(R){const X=(0,I.cg1)(R);return un(X),(X[I.wAp.ExtraData][2]||[]).map(J=>"string"==typeof J?vn(J):[vn(J[0]),vn(J[1])])}(X),wr=function qt(R,X,B){const J=(0,I.cg1)(R);un(J);const at=mn([J[I.wAp.ExtraData][0],J[I.wAp.ExtraData][1]],X)||[];return mn(at,B)||[]}(X,Ie,J),Jn=Rr.findIndex(Lr=>{if(Array.isArray(Lr)){const[Er,Ii]=Lr,Wi=bt>=Er.hours&&dn>=Er.minutes,Bi=bt<Ii.hours||bt===Ii.hours&&dn<Ii.minutes;if(Er.hours<Ii.hours){if(Wi&&Bi)return!0}else if(Wi||Bi)return!0}else if(Lr.hours===bt&&Lr.minutes===dn)return!0;return!1});if(-1!==Jn)return wr[Jn]}return function _t(R,X,B){const J=(0,I.cg1)(R),at=mn([J[I.wAp.DayPeriodsFormat],J[I.wAp.DayPeriodsStandalone]],X);return mn(at,B)}(X,Ie,J)[bt<12?0:1];case _n.Eras:return function nt(R,X){return mn((0,I.cg1)(R)[I.wAp.Eras],X)}(X,J)[R.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${B}`)}}(Ie,at,R,X,B,J)}}function gr(R){return function(X,B,J){const Ie=-1*J,at=lt(B,gt.MinusSign),bt=Ie>0?Math.floor(Ie/60):Math.ceil(Ie/60);switch(R){case fn.Short:return(Ie>=0?"+":"")+Ir(bt,2,at)+Ir(Math.abs(Ie%60),2,at);case fn.ShortGMT:return"GMT"+(Ie>=0?"+":"")+Ir(bt,1,at);case fn.Long:return"GMT"+(Ie>=0?"+":"")+Ir(bt,2,at)+":"+Ir(Math.abs(Ie%60),2,at);case fn.Extended:return 0===J?"Z":(Ie>=0?"+":"")+Ir(bt,2,at)+":"+Ir(Math.abs(Ie%60),2,at);default:throw new Error(`Unknown zone width "${R}"`)}}}const Yr=0,je=4;function ie(R){return _r(R.getFullYear(),R.getMonth(),R.getDate()+(je-R.getDay()))}function Te(R,X=!1){return function(B,J){let Ie;if(X){const at=new Date(B.getFullYear(),B.getMonth(),1).getDay()-1,bt=B.getDate();Ie=1+Math.floor((bt+at)/7)}else{const at=ie(B),bt=function Et(R){const X=_r(R,Yr,1).getDay();return _r(R,0,1+(X<=je?je:je+7)-X)}(at.getFullYear()),dn=at.getTime()-bt.getTime();Ie=1+Math.round(dn/6048e5)}return Ir(Ie,R,lt(J,gt.MinusSign))}}function ct(R,X=!1){return function(B,J){return Ir(ie(B).getFullYear(),R,lt(J,gt.MinusSign),X)}}const Lt={};function oi(R,X){R=R.replace(/:/g,"");const B=Date.parse("Jan 01, 1970 00:00:00 "+R)/6e4;return isNaN(B)?X:B}function U(R){return R instanceof Date&&!isNaN(R.valueOf())}function Yi(R,X){X=encodeURIComponent(X);for(const B of R.split(";")){const J=B.indexOf("="),[Ie,at]=-1==J?[B,""]:[B.slice(0,J),B.slice(J+1)];if(Ie.trim()===X)return decodeURIComponent(at)}return null}const Mr=/\s+/,Xa=[];let ai=(()=>{class R{constructor(B,J,Ie,at){this._iterableDiffers=B,this._keyValueDiffers=J,this._ngEl=Ie,this._renderer=at,this.initialClasses=Xa,this.stateMap=new Map}set klass(B){this.initialClasses=null!=B?B.trim().split(Mr):Xa}set ngClass(B){this.rawClass="string"==typeof B?B.trim().split(Mr):B}ngDoCheck(){for(const J of this.initialClasses)this._updateState(J,!0);const B=this.rawClass;if(Array.isArray(B)||B instanceof Set)for(const J of B)this._updateState(J,!0);else if(null!=B)for(const J of Object.keys(B))this._updateState(J,!!B[J]);this._applyStateDiff()}_updateState(B,J){const Ie=this.stateMap.get(B);void 0!==Ie?(Ie.enabled!==J&&(Ie.changed=!0,Ie.enabled=J),Ie.touched=!0):this.stateMap.set(B,{enabled:J,changed:!0,touched:!0})}_applyStateDiff(){for(const B of this.stateMap){const J=B[0],Ie=B[1];Ie.changed?(this._toggleClass(J,Ie.enabled),Ie.changed=!1):Ie.touched||(Ie.enabled&&this._toggleClass(J,!1),this.stateMap.delete(J)),Ie.touched=!1}}_toggleClass(B,J){(B=B.trim()).length>0&&B.split(Mr).forEach(Ie=>{J?this._renderer.addClass(this._ngEl.nativeElement,Ie):this._renderer.removeClass(this._ngEl.nativeElement,Ie)})}static#e=this.\u0275fac=function(J){return new(J||R)(I.Y36(I.ZZ4),I.Y36(I.aQg),I.Y36(I.SBq),I.Y36(I.Qsj))};static#t=this.\u0275dir=I.lG2({type:R,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return R})();class Oa{constructor(X,B,J,Ie){this.$implicit=X,this.ngForOf=B,this.index=J,this.count=Ie}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let mr=(()=>{class R{set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}constructor(B,J,Ie){this._viewContainer=B,this._template=J,this._differs=Ie,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const J=this._viewContainer;B.forEachOperation((Ie,at,bt)=>{if(null==Ie.previousIndex)J.createEmbeddedView(this._template,new Oa(Ie.item,this._ngForOf,-1,-1),null===bt?void 0:bt);else if(null==bt)J.remove(null===at?void 0:at);else if(null!==at){const dn=J.get(at);J.move(dn,bt),$i(dn,Ie)}});for(let Ie=0,at=J.length;Ie<at;Ie++){const dn=J.get(Ie).context;dn.index=Ie,dn.count=at,dn.ngForOf=this._ngForOf}B.forEachIdentityChange(Ie=>{$i(J.get(Ie.currentIndex),Ie)})}static ngTemplateContextGuard(B,J){return!0}static#e=this.\u0275fac=function(J){return new(J||R)(I.Y36(I.s_b),I.Y36(I.Rgc),I.Y36(I.ZZ4))};static#t=this.\u0275dir=I.lG2({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return R})();function $i(R,X){R.context.$implicit=X.item}let zi=(()=>{class R{constructor(B,J){this._viewContainer=B,this._context=new Br,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=J}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){Ns("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){Ns("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,J){return!0}static#e=this.\u0275fac=function(J){return new(J||R)(I.Y36(I.s_b),I.Y36(I.Rgc))};static#t=this.\u0275dir=I.lG2({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return R})();class Br{constructor(){this.$implicit=null,this.ngIf=null}}function Ns(R,X){if(X&&!X.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,I.AaK)(X)}'.`)}function os(R,X){return new I.vHH(2100,!1)}class sa{createSubscription(X,B){return(0,I.rg0)(()=>X.subscribe({next:B,error:J=>{throw J}}))}dispose(X){(0,I.rg0)(()=>X.unsubscribe())}}class ti{createSubscription(X,B){return X.then(B,J=>{throw J})}dispose(X){}}const oa=new ti,as=new sa;let Qr=(()=>{class R{constructor(B){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=B}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(B){return this._obj?B!==this._obj?(this._dispose(),this.transform(B)):this._latestValue:(B&&this._subscribe(B),this._latestValue)}_subscribe(B){this._obj=B,this._strategy=this._selectStrategy(B),this._subscription=this._strategy.createSubscription(B,J=>this._updateLatestValue(B,J))}_selectStrategy(B){if((0,I.QGY)(B))return oa;if((0,I.F4k)(B))return as;throw os()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(B,J){B===this._obj&&(this._latestValue=J,this._ref.markForCheck())}static#e=this.\u0275fac=function(J){return new(J||R)(I.Y36(I.sBO,16))};static#t=this.\u0275pipe=I.Yjl({name:"async",type:R,pure:!1,standalone:!0})}return R})();const An=new I.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Cr=new I.OlP("DATE_PIPE_DEFAULT_OPTIONS");let jr=(()=>{class R{constructor(B,J,Ie){this.locale=B,this.defaultTimezone=J,this.defaultOptions=Ie}transform(B,J,Ie,at){if(null==B||""===B||B!=B)return null;try{return br(B,J??this.defaultOptions?.dateFormat??"mediumDate",at||this.locale,Ie??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(bt){throw os()}}static#e=this.\u0275fac=function(J){return new(J||R)(I.Y36(I.soG,16),I.Y36(An,24),I.Y36(Cr,24))};static#t=this.\u0275pipe=I.Yjl({name:"date",type:R,pure:!0,standalone:!0})}return R})(),Li=(()=>{class R{transform(B){return JSON.stringify(B,null,2)}static#e=this.\u0275fac=function(J){return new(J||R)};static#t=this.\u0275pipe=I.Yjl({name:"json",type:R,pure:!1,standalone:!0})}return R})(),ni=(()=>{class R{static#e=this.\u0275fac=function(J){return new(J||R)};static#t=this.\u0275mod=I.oAB({type:R});static#n=this.\u0275inj=I.cJS({})}return R})();const Yn="browser",Zi="server";function Ji(R){return R===Yn}function tr(R){return R===Zi}let Ei=(()=>{class R{static#e=this.\u0275prov=(0,I.Yz7)({token:R,providedIn:"root",factory:()=>new ls((0,I.LFG)(we),window)})}return R})();class ls{constructor(X,B){this.document=X,this.window=B,this.offset=()=>[0,0]}setOffset(X){this.offset=Array.isArray(X)?()=>X:X}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(X){this.supportsScrolling()&&this.window.scrollTo(X[0],X[1])}scrollToAnchor(X){if(!this.supportsScrolling())return;const B=function Fs(R,X){const B=R.getElementById(X)||R.getElementsByName(X)[0];if(B)return B;if("function"==typeof R.createTreeWalker&&R.body&&"function"==typeof R.body.attachShadow){const J=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let Ie=J.currentNode;for(;Ie;){const at=Ie.shadowRoot;if(at){const bt=at.getElementById(X)||at.querySelector(`[name="${X}"]`);if(bt)return bt}Ie=J.nextNode()}}return null}(this.document,X);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(X){this.supportsScrolling()&&(this.window.history.scrollRestoration=X)}scrollToElement(X){const B=X.getBoundingClientRect(),J=B.left+this.window.pageXOffset,Ie=B.top+this.window.pageYOffset,at=this.offset();this.window.scrollTo(J-at[0],Ie-at[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class us{}},5879:(zt,$e,j)=>{j.d($e,{$8M:()=>eu,$WT:()=>xi,$Z:()=>L,AFp:()=>Zf,ALo:()=>eT,AaK:()=>Me,AsE:()=>kE,CHM:()=>Wd,CRH:()=>bv,EJc:()=>r0,EiD:()=>Dm,EpF:()=>fi,F$t:()=>I_,F4k:()=>Nr,FYo:()=>ly,FiY:()=>iu,GfV:()=>pd,Gpc:()=>Mt,HDt:()=>yw,Hsn:()=>b_,JOm:()=>Ia,JVY:()=>J_,JZr:()=>qe,KtG:()=>dc,L6k:()=>X_,LAX:()=>Dh,LFG:()=>Pt,LSH:()=>Mm,Lbi:()=>Gv,Lck:()=>SC,MAs:()=>Cu,MGl:()=>T_,MMx:()=>Bb,NdJ:()=>vs,Ojb:()=>ay,OlP:()=>Kt,Oqu:()=>k0,P3R:()=>hg,PXZ:()=>zA,Q6J:()=>E_,QGY:()=>ys,QbO:()=>vg,Qsj:()=>Uh,R0b:()=>Ti,RDi:()=>Em,Rgc:()=>Iv,SBq:()=>Qf,Sil:()=>yA,Suo:()=>TI,TTD:()=>Jn,TgZ:()=>Sa,VKq:()=>Wb,VuI:()=>AD,X6Q:()=>JA,XFs:()=>fn,Xpm:()=>ti,Xq5:()=>u_,Xts:()=>Rh,Y36:()=>x,YKP:()=>Vb,YNc:()=>Hg,Yjl:()=>aa,Yz7:()=>un,Z0I:()=>mn,ZZ4:()=>kT,_Bn:()=>Lb,_UZ:()=>qs,_c5:()=>pD,_uU:()=>OE,aQg:()=>FT,c2e:()=>Xh,cJS:()=>qt,cg1:()=>$E,dDg:()=>BA,dqk:()=>Pn,eBb:()=>Oc,eFA:()=>Sw,eJc:()=>DI,ekj:()=>SE,eoX:()=>Cw,f3M:()=>Yt,g9A:()=>mu,h0i:()=>em,hGG:()=>gD,hij:()=>lv,iGM:()=>fT,ifc:()=>Os,ip1:()=>RI,jDz:()=>mv,kL8:()=>x_,lG2:()=>Ri,lcZ:()=>tT,lqb:()=>qa,lri:()=>bw,mCW:()=>Hf,n5z:()=>fl,oAB:()=>Is,oxw:()=>b0,pB0:()=>Uf,q3G:()=>Ta,q4F:()=>gd,qFp:()=>SD,qLn:()=>Eu,qOj:()=>Ja,qZA:()=>wu,qzn:()=>ba,rWj:()=>Tw,rg0:()=>at,s9C:()=>Zg,sBO:()=>XA,s_b:()=>e0,soG:()=>Pp,tb:()=>MT,tp0:()=>wc,uIk:()=>Bc,vHH:()=>Be,vpe:()=>Vc,wAp:()=>Jh,xi3:()=>nT,xp6:()=>y,z2F:()=>Cv,z3N:()=>xc,zSh:()=>sy,zs3:()=>Aa});var I=j(8645),u=j(7394),W=j(5592),ve=j(3019),_e=j(5619),we=j(2096),he=j(3020),Ce=j(4664),De=j(3997);function ue(t){for(let n in t)if(t[n]===ue)return n;throw Error("Could not find renamed property on target object.")}function ge(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function Me(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Me).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function ut(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Je=ue({__forward_ref__:ue});function Mt(t){return t.__forward_ref__=Mt,t.toString=function(){return Me(this())},t}function dt(t){return Ct(t)?t():t}function Ct(t){return"function"==typeof t&&t.hasOwnProperty(Je)&&t.__forward_ref__===Mt}function mt(t){return t&&!!t.\u0275providers}const qe="https://g.co/ng/security#xss";class Be extends Error{constructor(n,i){super(function Xe(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function Ue(t){return"string"==typeof t?t:null==t?"":String(t)}function gt(t,n){throw new Be(-201,!1)}function Gt(t,n){null==t&&function Vt(t,n,i,l){throw new Error(`ASSERTION ERROR: ${t}`+(null==l?"":` [Expected=> ${i} ${l} ${n} <=Actual]`))}(n,t,null,"!=")}function un(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function qt(t){return{providers:t.providers||[],imports:t.imports||[]}}function an(t){return vn(t,In)||vn(t,On)}function mn(t){return null!==an(t)}function vn(t,n){return t.hasOwnProperty(n)?t[n]:null}function li(t){return t&&(t.hasOwnProperty(ur)||t.hasOwnProperty(Ot))?t[ur]:null}const In=ue({\u0275prov:ue}),ur=ue({\u0275inj:ue}),On=ue({ngInjectableDef:ue}),Ot=ue({ngInjectorDef:ue});var fn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(fn||{});let wn;function br(t){const n=wn;return wn=t,n}function _r(t,n,i){const l=an(t);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:i&fn.Optional?null:void 0!==n?n:void gt(Me(t))}const Pn=globalThis;class Kt{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=un({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Dn={},oi="__NG_DI_FLAG__",xt="ngTempTokenPath",Q=/\n/gm,U="__source";let F;function xe(t){const n=F;return F=t,n}function pt(t,n=fn.Default){if(void 0===F)throw new Be(-203,!1);return null===F?_r(t,void 0,n):F.get(t,n&fn.Optional?null:void 0,n)}function Pt(t,n=fn.Default){return(function _n(){return wn}()||pt)(dt(t),n)}function Yt(t,n=fn.Default){return Pt(t,en(n))}function en(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Gn(t){const n=[];for(let i=0;i<t.length;i++){const l=dt(t[i]);if(Array.isArray(l)){if(0===l.length)throw new Be(900,!1);let p,m=fn.Default;for(let T=0;T<l.length;T++){const D=l[T],O=yi(D);"number"==typeof O?-1===O?p=D.token:m|=O:p=D}n.push(Pt(p,m))}else n.push(Pt(l))}return n}function Sn(t,n){return t[oi]=n,t.prototype[oi]=n,t}function yi(t){return t[oi]}function wi(t){return{toString:t}.toString()}var vo=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(vo||{}),Os=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Os||{});const ki={},or=[],Zs=ue({\u0275cmp:ue}),Pa=ue({\u0275dir:ue}),Ra=ue({\u0275pipe:ue}),Gl=ue({\u0275mod:ue}),Yi=ue({\u0275fac:ue}),Mr=ue({__NG_ELEMENT_ID__:ue}),Xa=ue({__NG_ENV_ID__:ue});function ai(t,n,i){let l=t.length;for(;;){const p=t.indexOf(n,i);if(-1===p)return p;if(0===p||t.charCodeAt(p-1)<=32){const m=n.length;if(p+m===l||t.charCodeAt(p+m)<=32)return p}i=p+1}}function xa(t,n,i){let l=0;for(;l<i.length;){const p=i[l];if("number"==typeof p){if(0!==p)break;l++;const m=i[l++],T=i[l++],D=i[l++];t.setAttribute(n,T,D,m)}else{const m=p,T=i[++l];Oa(m)?t.setProperty(n,m,T):t.setAttribute(n,m,T),l++}}return l}function ia(t){return 3===t||4===t||6===t}function Oa(t){return 64===t.charCodeAt(0)}function mr(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let l=0;l<n.length;l++){const p=n[l];"number"==typeof p?i=p:0===i||$i(t,i,p,null,-1===i||2===i?n[++l]:null)}}return t}function $i(t,n,i,l,p){let m=0,T=t.length;if(-1===n)T=-1;else for(;m<t.length;){const D=t[m++];if("number"==typeof D){if(D===n){T=-1;break}if(D>n){T=m-1;break}}}for(;m<t.length;){const D=t[m];if("number"==typeof D)break;if(D===i){if(null===l)return void(null!==p&&(t[m+1]=p));if(l===t[m+1])return void(t[m+2]=p)}m++,null!==l&&m++,null!==p&&m++}-1!==T&&(t.splice(T,0,n),m=T+1),t.splice(m++,0,i),null!==l&&t.splice(m++,0,l),null!==p&&t.splice(m++,0,p)}const co="ng-template";function zi(t,n,i){let l=0,p=!0;for(;l<t.length;){let m=t[l++];if("string"==typeof m&&p){const T=t[l++];if(i&&"class"===m&&-1!==ai(T.toLowerCase(),n,0))return!0}else{if(1===m){for(;l<t.length&&"string"==typeof(m=t[l++]);)if(m.toLowerCase()===n)return!0;return!1}"number"==typeof m&&(p=!1)}}return!1}function Br(t){return 4===t.type&&t.value!==co}function Ns(t,n,i){return n===(4!==t.type||i?t.value:co)}function Qi(t,n,i){let l=4;const p=t.attrs||[],m=function pi(t){for(let n=0;n<t.length;n++)if(ia(t[n]))return n;return t.length}(p);let T=!1;for(let D=0;D<n.length;D++){const O=n[D];if("number"!=typeof O){if(!T)if(4&l){if(l=2|1&l,""!==O&&!Ns(t,O,i)||""===O&&1===n.length){if(Fi(l))return!1;T=!0}}else{const z=8&l?O:n[++D];if(8&l&&null!==t.attrs){if(!zi(t.attrs,z,i)){if(Fi(l))return!1;T=!0}continue}const ye=ec(8&l?"class":O,p,Br(t),i);if(-1===ye){if(Fi(l))return!1;T=!0;continue}if(""!==z){let Ve;Ve=ye>m?"":p[ye+1].toLowerCase();const Ye=8&l?Ve:null;if(Ye&&-1!==ai(Ye,z,0)||2&l&&z!==Ve){if(Fi(l))return!1;T=!0}}}}else{if(!T&&!Fi(l)&&!Fi(O))return!1;if(T&&Fi(O))continue;T=!1,l=O|1&l}}return Fi(l)||T}function Fi(t){return 0==(1&t)}function ec(t,n,i,l){if(null===n)return-1;let p=0;if(l||!i){let m=!1;for(;p<n.length;){const T=n[p];if(T===t)return p;if(3===T||6===T)m=!0;else{if(1===T||2===T){let D=n[++p];for(;"string"==typeof D;)D=n[++p];continue}if(4===T)break;if(0===T){p+=4;continue}}p+=m?1:2}return-1}return function Tr(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const l=t[i];if("number"==typeof l)return-1;if(l===n)return i;i++}return-1}(n,t)}function Pr(t,n,i=!1){for(let l=0;l<n.length;l++)if(Qi(t,n[l],i))return!0;return!1}function nc(t,n){e:for(let i=0;i<n.length;i++){const l=n[i];if(t.length===l.length){for(let p=0;p<t.length;p++)if(t[p]!==l[p])continue e;return!0}}return!1}function ks(t,n){return t?":not("+n.trim()+")":n}function Ai(t){let n=t[0],i=1,l=2,p="",m=!1;for(;i<t.length;){let T=t[i];if("string"==typeof T)if(2&l){const D=t[++i];p+="["+T+(D.length>0?'="'+D+'"':"")+"]"}else 8&l?p+="."+T:4&l&&(p+=" "+T);else""!==p&&!Fi(T)&&(n+=ks(m,p),p=""),l=T,m=m||!Fi(l);i++}return""!==p&&(n+=ks(m,p)),n}function ti(t){return wi(()=>{const n=Gi(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===vo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Os.Emulated,styles:t.styles||or,_:null,schemas:t.schemas||null,tView:null,id:""};Li(i);const l=t.dependencies;return i.directiveDefs=Vo(l,!1),i.pipeDefs=Vo(l,!0),i.id=function Ts(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const p of i)n=Math.imul(31,n)+p.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function as(t){return An(t)||Cr(t)}function Qr(t){return null!==t}function Is(t){return wi(()=>({type:t.type,bootstrap:t.bootstrap||or,declarations:t.declarations||or,imports:t.imports||or,exports:t.exports||or,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Lo(t,n){if(null==t)return ki;const i={};for(const l in t)if(t.hasOwnProperty(l)){let p=t[l],m=p;Array.isArray(p)&&(m=p[1],p=p[0]),i[p]=l,n&&(n[p]=m)}return i}function Ri(t){return wi(()=>{const n=Gi(t);return Li(n),n})}function aa(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function An(t){return t[Zs]||null}function Cr(t){return t[Pa]||null}function jr(t){return t[Ra]||null}function xi(t){const n=An(t)||Cr(t)||jr(t);return null!==n&&n.standalone}function kr(t,n){const i=t[Gl]||null;if(!i&&!0===n)throw new Error(`Type ${Me(t)} does not have '\u0275mod' property.`);return i}function Gi(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||ki,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||or,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Lo(t.inputs,n),outputs:Lo(t.outputs)}}function Li(t){t.features?.forEach(n=>n(t))}function Vo(t,n){if(!t)return null;const i=n?jr:as;return()=>("function"==typeof t?t():t).map(l=>i(l)).filter(Qr)}const dr=0,Zt=1,Mn=2,lr=3,gi=4,lo=5,Hr=6,ni=7,Yn=8,Zi=9,cs=10,Fn=11,Ji=12,tr=13,vi=14,Ln=15,Xi=16,Ei=17,ls=18,Fs=19,Yc=20,us=21,Kn=22,ir=23,Ls=24,Qn=25,es=1,Oi=2,ds=7,Uo=9,zr=11;function be(t){return Array.isArray(t)&&"object"==typeof t[es]}function Le(t){return Array.isArray(t)&&!0===t[es]}function It(t){return 0!=(4&t.flags)}function Nt(t){return t.componentOffset>-1}function Qt(t){return 1==(1&t.flags)}function cn(t){return!!t.template}function Vn(t){return 0!=(512&t[Mn])}function Vs(t,n){return t.hasOwnProperty(Yi)?t[Yi]:null}let hr=null,da=!1;function Di(t){const n=hr;return hr=t,n}const xu={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Ys(t){if(!Bo(t)||t.dirty){if(!t.producerMustRecompute(t)&&!el(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Fa(t){t.dirty=!0,function Qs(t){if(void 0===t.liveConsumerNode)return;const n=da;da=!0;try{for(const i of t.liveConsumerNode)i.dirty||Fa(i)}finally{da=n}}(t),t.consumerMarkedDirty?.(t)}function Zn(t){return t&&(t.nextProducerIndex=0),Di(t)}function Xc(t,n){if(Di(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Bo(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)La(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function el(t){Io(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],l=t.producerLastReadVersion[n];if(l!==i.version||(Ys(i),l!==i.version))return!0}return!1}function oc(t){if(Io(t),Bo(t))for(let n=0;n<t.producerNode.length;n++)La(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function La(t,n){if(function cc(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Io(t),1===t.liveConsumerNode.length)for(let l=0;l<t.producerNode.length;l++)La(t.producerNode[l],t.producerIndexOfThis[l]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const l=t.liveConsumerIndexOfThis[n],p=t.liveConsumerNode[n];Io(p),p.producerIndexOfThis[l]=n}}function Bo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Io(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Va=null;function at(t){const n=Di(null);try{return t()}finally{Di(n)}}const dn=()=>{},fr=(()=>({...xu,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:dn}))();class wr{constructor(n,i,l){this.previousValue=n,this.currentValue=i,this.firstChange=l}isFirstChange(){return this.firstChange}}function Jn(){return Lr}function Lr(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ii),Er}function Er(){const t=Bi(this),n=t?.current;if(n){const i=t.previous;if(i===ki)t.previous=n;else for(let l in n)i[l]=n[l];t.current=null,this.ngOnChanges(n)}}function Ii(t,n,i,l){const p=this.declaredInputs[i],m=Bi(t)||function Ho(t,n){return t[Wi]=n}(t,{previous:ki,current:null}),T=m.current||(m.current={}),D=m.previous,O=D[p];T[p]=new wr(O&&O.currentValue,n,D===ki),t[l]=n}Jn.ngInherit=!0;const Wi="__ngSimpleChanges__";function Bi(t){return t[Wi]||null}const Un=function(t,n,i){};function qr(t){for(;Array.isArray(t);)t=t[dr];return t}function To(t,n){return qr(n[t])}function fs(t,n){return qr(n[t.index])}function Yl(t,n){return t.data[n]}function zo(t,n){return t[n]}function ps(t,n){const i=n[t];return be(i)?i:i[dr]}function Js(t,n){return null==n?null:t[n]}function Co(t){t[Ei]=0}function wo(t){1024&t[Mn]||(t[Mn]|=1024,tf(t,1))}function zd(t){1024&t[Mn]&&(t[Mn]&=-1025,tf(t,-1))}function tf(t,n){let i=t[lr];if(null===i)return;i[lo]+=n;let l=i;for(i=i[lr];null!==i&&(1===n&&1===l[lo]||-1===n&&0===l[lo]);)i[lo]+=n,l=i,i=i[lr]}const $n={lFrame:ns(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function di(){return $n.bindingsEnabled}function ja(){return null!==$n.skipHydrationRootTNode}function St(){return $n.lFrame.lView}function yr(){return $n.lFrame.tView}function Wd(t){return $n.lFrame.contextLView=t,t[Yn]}function dc(t){return $n.lFrame.contextLView=null,t}function Ki(){let t=Si();for(;null!==t&&64===t.type;)t=t.parent;return t}function Si(){return $n.lFrame.currentTNode}function ts(t,n){const i=$n.lFrame;i.currentTNode=t,i.isParent=n}function sl(){return $n.lFrame.isParent}function hc(){$n.lFrame.isParent=!1}function As(){const t=$n.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function fa(){return $n.lFrame.bindingIndex++}function S(t){const n=$n.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function k(t,n){const i=$n.lFrame;i.bindingIndex=i.bindingRootIndex=t,re(n)}function re(t){$n.lFrame.currentDirectiveIndex=t}function rt(){return $n.lFrame.currentQueryIndex}function it(t){$n.lFrame.currentQueryIndex=t}function ln(t){const n=t[Zt];return 2===n.type?n.declTNode:1===n.type?t[Hr]:null}function ar(t,n,i){if(i&fn.SkipSelf){let p=n,m=t;for(;!(p=p.parent,null!==p||i&fn.Host||(p=ln(m),null===p||(m=m[vi],10&p.type))););if(null===p)return!1;n=p,t=m}const l=$n.lFrame=zn();return l.currentTNode=n,l.lView=t,!0}function xr(t){const n=zn(),i=t[Zt];$n.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function zn(){const t=$n.lFrame,n=null===t?null:t.child;return null===n?ns(t):n}function ns(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Xs(){const t=$n.lFrame;return $n.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const So=Xs;function fc(){const t=Xs();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function rs(){return $n.lFrame.selectedIndex}function pa(t){$n.lFrame.selectedIndex=t}function hi(){const t=$n.lFrame;return Yl(t.tView,t.selectedIndex)}let ga=!0;function Xd(){return ga}function pc(t){ga=t}function eh(t,n){for(let i=n.directiveStart,l=n.directiveEnd;i<l;i++){const m=t.data[i].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:D,ngAfterViewInit:O,ngAfterViewChecked:z,ngOnDestroy:ee}=m;T&&(t.contentHooks??=[]).push(-i,T),D&&((t.contentHooks??=[]).push(i,D),(t.contentCheckHooks??=[]).push(i,D)),O&&(t.viewHooks??=[]).push(-i,O),z&&((t.viewHooks??=[]).push(i,z),(t.viewCheckHooks??=[]).push(i,z)),null!=ee&&(t.destroyHooks??=[]).push(i,ee)}}function ma(t,n,i){_a(t,n,3,i)}function qo(t,n,i,l){(3&t[Mn])===i&&_a(t,n,i,l)}function js(t,n){let i=t[Mn];(3&i)===n&&(i&=8191,i+=1,t[Mn]=i)}function _a(t,n,i,l){const m=l??-1,T=n.length-1;let D=0;for(let O=void 0!==l?65535&t[Ei]:0;O<T;O++)if("number"==typeof n[O+1]){if(D=n[O],null!=l&&D>=l)break}else n[O]<0&&(t[Ei]+=65536),(D<m||-1==m)&&(Lu(t,i,n,O),t[Ei]=(4294901760&t[Ei])+O+2),O++}function th(t,n){Un(4,t,n);const i=Di(null);try{n.call(t)}finally{Di(i),Un(5,t,n)}}function Lu(t,n,i,l){const p=i[l]<0,m=i[l+1],D=t[p?-i[l]:i[l]];p?t[Mn]>>13<t[Ei]>>16&&(3&t[Mn])===n&&(t[Mn]+=8192,th(D,m)):th(D,m)}const gc=-1;class mc{constructor(n,i,l){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=l}}function Xl(t){return t!==gc}function al(t){return 32767&t}function Wo(t,n){let i=function ih(t){return t>>16}(t),l=n;for(;i>0;)l=l[vi],i--;return l}let cl=!0;function ya(t){const n=cl;return cl=t,n}const sh=255,ji=5;let om=0;const gs={};function ah(t,n){const i=Po(t,n);if(-1!==i)return i;const l=n[Zt];l.firstCreatePass&&(t.injectorIndex=n.length,Mo(l.data,t),Mo(n,null),Mo(l.blueprint,null));const p=ll(t,n),m=t.injectorIndex;if(Xl(p)){const T=al(p),D=Wo(p,n),O=D[Zt].data;for(let z=0;z<8;z++)n[m+z]=D[T+z]|O[T+z]}return n[m+8]=p,m}function Mo(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Po(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function ll(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,l=null,p=n;for(;null!==p;){if(l=df(p),null===l)return gc;if(i++,p=p[vi],-1!==l.injectorIndex)return l.injectorIndex|i<<16}return gc}function Ha(t,n,i){!function oh(t,n,i){let l;"string"==typeof i?l=i.charCodeAt(0)||0:i.hasOwnProperty(Mr)&&(l=i[Mr]),null==l&&(l=i[Mr]=om++);const p=l&sh;n.data[t+(p>>ji)]|=1<<p}(t,n,i)}function ul(t,n,i){if(i&fn.Optional||void 0!==t)return t;gt()}function lf(t,n,i,l){if(i&fn.Optional&&void 0===l&&(l=null),!(i&(fn.Self|fn.Host))){const p=t[Zi],m=br(void 0);try{return p?p.get(n,l,i&fn.Optional):_r(n,l,i&fn.Optional)}finally{br(m)}}return ul(l,0,i)}function vc(t,n,i,l=fn.Default,p){if(null!==t){if(2048&n[Mn]&&!(l&fn.Self)){const T=function pl(t,n,i,l,p){let m=t,T=n;for(;null!==m&&null!==T&&2048&T[Mn]&&!(512&T[Mn]);){const D=Lp(m,T,i,l|fn.Self,gs);if(D!==gs)return D;let O=m.parent;if(!O){const z=T[Yc];if(z){const ee=z.get(i,gs,l);if(ee!==gs)return ee}O=df(T),T=T[vi]}m=O}return p}(t,n,i,l,gs);if(T!==gs)return T}const m=Lp(t,n,i,l,gs);if(m!==gs)return m}return lf(n,i,l,p)}function Lp(t,n,i,l,p){const m=function lh(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Mr)?t[Mr]:void 0;return"number"==typeof n?n>=0?n&sh:uh:n}(i);if("function"==typeof m){if(!ar(n,t,l))return l&fn.Host?ul(p,0,l):lf(n,i,l,p);try{let T;if(T=m(l),null!=T||l&fn.Optional)return T;gt()}finally{So()}}else if("number"==typeof m){let T=null,D=Po(t,n),O=gc,z=l&fn.Host?n[Ln][Hr]:null;for((-1===D||l&fn.SkipSelf)&&(O=-1===D?ll(t,n):n[D+8],O!==gc&&Vu(l,!1)?(T=n[Zt],D=al(O),n=Wo(O,n)):D=-1);-1!==D;){const ee=n[Zt];if(uf(m,D,ee.data)){const ye=Vp(D,n,i,T,l,z);if(ye!==gs)return ye}O=n[D+8],O!==gc&&Vu(l,n[Zt].data[D+8]===z)&&uf(m,D,n)?(T=ee,D=al(O),n=Wo(O,n)):D=-1}}return p}function Vp(t,n,i,l,p,m){const T=n[Zt],D=T.data[t+8],ee=ch(D,T,i,null==l?Nt(D)&&cl:l!=T&&0!=(3&D.type),p&fn.Host&&m===D);return null!==ee?dl(n,T,ee,D):gs}function ch(t,n,i,l,p){const m=t.providerIndexes,T=n.data,D=1048575&m,O=t.directiveStart,ee=m>>20,Ve=p?D+ee:t.directiveEnd;for(let Ye=l?D:D+ee;Ye<Ve;Ye++){const Tt=T[Ye];if(Ye<O&&i===Tt||Ye>=O&&Tt.type===i)return Ye}if(p){const Ye=T[O];if(Ye&&cn(Ye)&&Ye.type===i)return O}return null}function dl(t,n,i,l){let p=t[i];const m=n.data;if(function Jl(t){return t instanceof mc}(p)){const T=p;T.resolving&&function vt(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Be(-200,`Circular dependency in DI detected for ${t}${i}`)}(function et(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ue(t)}(m[i]));const D=ya(T.canSeeViewProviders);T.resolving=!0;const z=T.injectImpl?br(T.injectImpl):null;ar(t,l,fn.Default);try{p=t[i]=T.factory(void 0,m,t,l),n.firstCreatePass&&i>=l.directiveStart&&function af(t,n,i){const{ngOnChanges:l,ngOnInit:p,ngDoCheck:m}=n.type.prototype;if(l){const T=Lr(n);(i.preOrderHooks??=[]).push(t,T),(i.preOrderCheckHooks??=[]).push(t,T)}p&&(i.preOrderHooks??=[]).push(0-t,p),m&&((i.preOrderHooks??=[]).push(t,m),(i.preOrderCheckHooks??=[]).push(t,m))}(i,m[i],n)}finally{null!==z&&br(z),ya(D),T.resolving=!1,So()}}return p}function uf(t,n,i){return!!(i[n+(t>>ji)]&1<<t)}function Vu(t,n){return!(t&fn.Self||t&fn.Host&&n)}class ms{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,l){return vc(this._tNode,this._lView,n,en(l),i)}}function uh(){return new ms(Ki(),St())}function fl(t){return wi(()=>{const n=t.prototype.constructor,i=n[Yi]||va(n),l=Object.prototype;let p=Object.getPrototypeOf(t.prototype).constructor;for(;p&&p!==l;){const m=p[Yi]||va(p);if(m&&m!==i)return m;p=Object.getPrototypeOf(p)}return m=>new m})}function va(t){return Ct(t)?()=>{const n=va(dt(t));return n&&n()}:Vs(t)}function df(t){const n=t[Zt],i=n.type;return 2===i?n.declTNode:1===i?t[Hr]:null}function eu(t){return function cf(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const l=i.length;let p=0;for(;p<l;){const m=i[p];if(ia(m))break;if(0===m)p+=2;else if("number"==typeof m)for(p++;p<l&&"string"==typeof i[p];)p++;else{if(m===n)return i[p+1];p+=2}}}return null}(Ki(),t)}const Ic="__parameters__";function Zr(t,n,i){return wi(()=>{const l=function eo(t){return function(...i){if(t){const l=t(...i);for(const p in l)this[p]=l[p]}}}(n);function p(...m){if(this instanceof p)return l.apply(this,m),this;const T=new p(...m);return D.annotation=T,D;function D(O,z,ee){const ye=O.hasOwnProperty(Ic)?O[Ic]:Object.defineProperty(O,Ic,{value:[]})[Ic];for(;ye.length<=ee;)ye.push(null);return(ye[ee]=ye[ee]||[]).push(T),O}}return i&&(p.prototype=Object.create(i.prototype)),p.prototype.ngMetadataName=t,p.annotationCls=p,p})}function Cc(t,n){t.forEach(i=>Array.isArray(i)?Cc(i,n):n(i))}function pf(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function gf(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function ju(t,n){const i=[];for(let l=0;l<t;l++)i.push(n);return i}function fo(t,n,i){let l=gl(t,n);return l>=0?t[1|l]=i:(l=~l,function nu(t,n,i,l){let p=t.length;if(p==n)t.push(i,l);else if(1===p)t.push(l,t[0]),t[0]=i;else{for(p--,t.push(t[p-1],t[p]);p>n;)t[p]=t[p-2],p--;t[n]=i,t[n+1]=l}}(t,l,n,i)),l}function $u(t,n){const i=gl(t,n);if(i>=0)return t[1|i]}function gl(t,n){return function Yo(t,n,i){let l=0,p=t.length>>i;for(;p!==l;){const m=l+(p-l>>1),T=t[m<<i];if(n===T)return m<<i;T>n?p=m:l=m+1}return~(p<<i)}(t,n,1)}const iu=Sn(Zr("Optional"),8),wc=Sn(Zr("SkipSelf"),4);function za(t){return 128==(128&t.flags)}var Ia=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ia||{});const dm=new Map;let z_=0;const mh="__ngContext__";function Ds(t,n){be(n)?(t[mh]=n[Fs],function ou(t){dm.set(t[Fs],t)}(n)):t[mh]=n}let Xp;function yh(t,n){return Xp(t,n)}function lu(t){const n=t[lr];return Le(n)?n[lr]:n}function fm(t){return vh(t[Ji])}function Rf(t){return vh(t[gi])}function vh(t){for(;null!==t&&!Le(t);)t=t[gi];return t}function Mc(t,n,i,l,p){if(null!=l){let m,T=!1;Le(l)?m=l:be(l)&&(T=!0,l=l[dr]);const D=qr(l);0===t&&null!==i?null==p?xv(n,i,D):uu(n,i,D,p||null,!0):1===t&&null!==i?uu(n,i,D,p||null,!0):2===t?function ng(t,n,i){const l=kf(t,n);l&&function o0(t,n,i,l){t.removeChild(n,i,l)}(t,l,n,i)}(n,D,T):3===t&&n.destroyNode(D),null!=m&&function Y_(t,n,i,l,p){const m=i[ds];m!==qr(i)&&Mc(n,t,l,m,p);for(let D=zr;D<i.length;D++){const O=i[D];hu(O[Zt],O,t,n,l,m)}}(n,t,m,i,p)}}function Ss(t,n,i){return t.createElement(n,i)}function eg(t,n){const i=t[Uo],l=i.indexOf(n);zd(n),i.splice(l,1)}function Xu(t,n){if(t.length<=zr)return;const i=zr+n,l=t[i];if(l){const p=l[Xi];null!==p&&p!==t&&eg(p,l),n>0&&(t[i-1][gi]=l[gi]);const m=gf(t,zr+n);!function Cl(t,n){hu(t,n,n[Fn],2,null,null),n[dr]=null,n[Hr]=null}(l[Zt],l);const T=m[ls];null!==T&&T.detachView(m[Zt]),l[lr]=null,l[gi]=null,l[Mn]&=-129}return l}function Of(t,n){if(!(256&n[Mn])){const i=n[Fn];n[ir]&&oc(n[ir]),n[Ls]&&oc(n[Ls]),i.destroyNode&&hu(t,n,i,3,null,null),function Pv(t){let n=t[Ji];if(!n)return Nf(t[Zt],t);for(;n;){let i=null;if(be(n))i=n[Ji];else{const l=n[zr];l&&(i=l)}if(!i){for(;n&&!n[gi]&&n!==t;)be(n)&&Nf(n[Zt],n),n=n[lr];null===n&&(n=t),be(n)&&Nf(n[Zt],n),i=n&&n[gi]}n=i}}(n)}}function Nf(t,n){if(!(256&n[Mn])){n[Mn]&=-129,n[Mn]|=256,function Rv(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let l=0;l<i.length;l+=2){const p=n[i[l]];if(!(p instanceof mc)){const m=i[l+1];if(Array.isArray(m))for(let T=0;T<m.length;T+=2){const D=p[m[T]],O=m[T+1];Un(4,D,O);try{O.call(D)}finally{Un(5,D,O)}}else{Un(4,p,m);try{m.call(p)}finally{Un(5,p,m)}}}}}(t,n),function mm(t,n){const i=t.cleanup,l=n[ni];if(null!==i)for(let m=0;m<i.length-1;m+=2)if("string"==typeof i[m]){const T=i[m+3];T>=0?l[T]():l[-T].unsubscribe(),m+=2}else i[m].call(l[i[m+1]]);null!==l&&(n[ni]=null);const p=n[us];if(null!==p){n[us]=null;for(let m=0;m<p.length;m++)(0,p[m])()}}(t,n),1===n[Zt].type&&n[Fn].destroy();const i=n[Xi];if(null!==i&&Le(n[lr])){i!==n[lr]&&eg(i,n);const l=n[ls];null!==l&&l.detachView(t)}!function no(t){dm.delete(t[Fs])}(n)}}function tg(t,n,i){return function _m(t,n,i){let l=n;for(;null!==l&&40&l.type;)l=(n=l).parent;if(null===l)return i[dr];{const{componentOffset:p}=l;if(p>-1){const{encapsulation:m}=t.data[l.directiveStart+p];if(m===Os.None||m===Os.Emulated)return null}return fs(l,i)}}(t,n.parent,i)}function uu(t,n,i,l,p){t.insertBefore(n,i,l,p)}function xv(t,n,i){t.appendChild(n,i)}function ym(t,n,i,l,p){null!==l?uu(t,n,i,l,p):xv(t,n,i)}function kf(t,n){return t.parentNode(n)}function W_(t,n,i){return ed(t,n,i)}let Ih,fu,Ch,id,ed=function vm(t,n,i){return 40&t.type?fs(t,i):null};function du(t,n,i,l){const p=tg(t,l,n),m=n[Fn],D=W_(l.parent||n[Hr],l,n);if(null!=p)if(Array.isArray(i))for(let O=0;O<i.length;O++)ym(m,p,i[O],D,!1);else ym(m,p,i,D,!1);void 0!==Ih&&Ih(m,l,n,i,p)}function Al(t,n){if(null!==n){const i=n.type;if(3&i)return fs(n,t);if(4&i)return td(-1,t[n.index]);if(8&i){const l=n.child;if(null!==l)return Al(t,l);{const p=t[n.index];return Le(p)?td(-1,p):qr(p)}}if(32&i)return yh(n,t)()||qr(t[n.index]);{const l=K_(t,n);return null!==l?Array.isArray(l)?l[0]:Al(lu(t[Ln]),l):Al(t,n.next)}}return null}function K_(t,n){return null!==n?t[Ln][Hr].projection[n.projection]:null}function td(t,n){const i=zr+t+1;if(i<n.length){const l=n[i],p=l[Zt].firstChild;if(null!==p)return Al(l,p)}return n[ds]}function bh(t,n,i,l,p,m,T){for(;null!=i;){const D=l[i.index],O=i.type;if(T&&0===n&&(D&&Ds(qr(D),l),i.flags|=2),32!=(32&i.flags))if(8&O)bh(t,n,i.child,l,p,m,!1),Mc(n,t,p,D,m);else if(32&O){const z=yh(i,l);let ee;for(;ee=z();)Mc(n,t,p,ee,m);Mc(n,t,p,D,m)}else 16&O?rd(t,n,l,i,p,m):Mc(n,t,p,D,m);i=T?i.projectionNext:i.next}}function hu(t,n,i,l,p,m){bh(i,l,t.firstChild,n,p,m,!1)}function rd(t,n,i,l,p,m){const T=i[Ln],O=T[Hr].projection[l.projection];if(Array.isArray(O))for(let z=0;z<O.length;z++)Mc(n,t,p,O[z],m);else{let z=O;const ee=T[lr];za(l)&&(z.flags|=128),bh(t,n,z,ee,p,m,!0)}}function Sl(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function Pc(t,n,i){const{mergedAttrs:l,classes:p,styles:m}=i;null!==l&&xa(t,n,l),null!==p&&Sl(t,n,p),null!==m&&function rg(t,n,i){t.setAttribute(n,"style",i)}(t,n,m)}function Rc(t){return function pu(){if(void 0===fu&&(fu=null,Pn.trustedTypes))try{fu=Pn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return fu}()?.createHTML(t)||t}function Em(t){Ch=t}function Ov(t){return function sg(){if(void 0===id&&(id=null,Pn.trustedTypes))try{id=Pn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return id}()?.createScriptURL(t)||t}class sd{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${qe})`}}class Vf extends sd{getTypeName(){return"HTML"}}class l0 extends sd{getTypeName(){return"Style"}}class Q_ extends sd{getTypeName(){return"Script"}}class Ah extends sd{getTypeName(){return"URL"}}class bm extends sd{getTypeName(){return"ResourceURL"}}function xc(t){return t instanceof sd?t.changingThisBreaksApplicationSecurity:t}function ba(t,n){const i=function Nv(t){return t instanceof sd&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${qe})`)}return i===n}function J_(t){return new Vf(t)}function X_(t){return new l0(t)}function Oc(t){return new Q_(t)}function Dh(t){return new Ah(t)}function Uf(t){return new bm(t)}class Bf{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(Rc(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class u0{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=Rc(n),i}}const jf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Hf(t){return(t=String(t)).match(jf)?t:"unsafe:"+t}function Nc(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function Sh(...t){const n={};for(const i of t)for(const l in i)i.hasOwnProperty(l)&&(n[l]=!0);return n}const ey=Nc("area,br,col,hr,img,wbr"),og=Nc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$f=Nc("rp,rt"),Qo=Sh(ey,Sh(og,Nc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Sh($f,Nc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Sh($f,og)),ag=Nc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Mh=Sh(ag,Nc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Nc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),cg=Nc("script,style,template");class Lv{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,l=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?l=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,l&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let p=this.checkClobberedElement(i,i.nextSibling);if(p){i=p;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!Qo.hasOwnProperty(i))return this.sanitizedSomething=!0,!cg.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const l=n.attributes;for(let p=0;p<l.length;p++){const m=l.item(p),T=m.name,D=T.toLowerCase();if(!Mh.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let O=m.value;ag[D]&&(O=Hf(O)),this.buf.push(" ",T,'="',lg(O),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();Qo.hasOwnProperty(i)&&!ey.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(lg(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const ty=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Vv=/([^\#-~ |!])/g;function lg(t){return t.replace(/&/g,"&amp;").replace(ty,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Vv,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ph;function Dm(t,n){let i=null;try{Ph=Ph||function Tm(t){const n=new u0(t);return function kv(){try{return!!(new window.DOMParser).parseFromString(Rc(""),"text/html")}catch{return!1}}()?new Bf(n):n}(t);let l=n?String(n):"";i=Ph.getInertBodyElement(l);let p=5,m=l;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,l=m,m=i.innerHTML,i=Ph.getInertBodyElement(l)}while(l!==m);return Rc((new Lv).sanitizeChildren(ug(i)||i))}finally{if(i){const l=ug(i)||i;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function ug(t){return"content"in t&&function Uv(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ta=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ta||{});function Mm(t){const n=Xn();return n?n.sanitize(Ta.URL,t)||"":ba(t,"URL")?xc(t):Hf(Ue(t))}function dg(t){const n=Xn();if(n)return Ov(n.sanitize(Ta.RESOURCE_URL,t)||"");if(ba(t,"ResourceURL"))return Ov(xc(t));throw new Be(904,!1)}function hg(t,n,i){return function ry(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?dg:Mm}(n,i)(t)}function Xn(){const t=St();return t&&t[cs].sanitizer}const Rh=new Kt("ENVIRONMENT_INITIALIZER"),fg=new Kt("INJECTOR",-1),xh=new Kt("INJECTOR_DEF_TYPES");class Rm{get(n,i=Dn){if(i===Dn){const l=new Error(`NullInjectorError: No provider for ${Me(n)}!`);throw l.name="NullInjectorError",l}return i}}function _i(...t){return{\u0275providers:Ca(0,t),\u0275fromNgModule:!0}}function Ca(t,...n){const i=[],l=new Set;let p;const m=T=>{i.push(T)};return Cc(n,T=>{const D=T;kc(D,m,[],l)&&(p||=[],p.push(D))}),void 0!==p&&xm(p,m),i}function xm(t,n){for(let i=0;i<t.length;i++){const{ngModule:l,providers:p}=t[i];pg(p,m=>{n(m,l)})}}function kc(t,n,i,l){if(!(t=dt(t)))return!1;let p=null,m=li(t);const T=!m&&An(t);if(m||T){if(T&&!T.standalone)return!1;p=t}else{const O=t.ngModule;if(m=li(O),!m)return!1;p=O}const D=l.has(p);if(T){if(D)return!1;if(l.add(p),T.dependencies){const O="function"==typeof T.dependencies?T.dependencies():T.dependencies;for(const z of O)kc(z,n,i,l)}}else{if(!m)return!1;{if(null!=m.imports&&!D){let z;l.add(p);try{Cc(m.imports,ee=>{kc(ee,n,i,l)&&(z||=[],z.push(ee))})}finally{}void 0!==z&&xm(z,n)}if(!D){const z=Vs(p)||(()=>new p);n({provide:p,useFactory:z,deps:or},p),n({provide:xh,useValue:p,multi:!0},p),n({provide:Rh,useValue:()=>Pt(p),multi:!0},p)}const O=m.providers;if(null!=O&&!D){const z=t;pg(O,ee=>{n(ee,z)})}}}return p!==t&&void 0!==t.providers}function pg(t,n){for(let i of t)mt(i)&&(i=i.\u0275providers),Array.isArray(i)?pg(i,n):n(i)}const Om=ue({provide:String,useValue:ue});function gg(t){return null!==t&&"object"==typeof t&&Om in t}function xo(t){return"function"==typeof t}const sy=new Kt("Set Injector scope."),Gf={},Mi={};let qf;function _g(){return void 0===qf&&(qf=new Rm),qf}class qa{}class ad extends qa{get destroyed(){return this._destroyed}constructor(n,i,l,p){super(),this.parent=i,this.source=l,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,gu(n,T=>this.processProvider(T)),this.records.set(fg,Oh(void 0,this)),p.has("environment")&&this.records.set(qa,Oh(void 0,this));const m=this.records.get(sy);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(xh.multi,or,fn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=xe(this),l=br(void 0);try{return n()}finally{xe(i),br(l)}}get(n,i=Dn,l=fn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Xa))return n[Xa](this);l=en(l);const m=xe(this),T=br(void 0);try{if(!(l&fn.SkipSelf)){let O=this.records.get(n);if(void 0===O){const z=function zv(t){return"function"==typeof t||"object"==typeof t&&t instanceof Kt}(n)&&an(n);O=z&&this.injectableDefInScope(z)?Oh(yg(n),Gf):null,this.records.set(n,O)}if(null!=O)return this.hydrate(n,O)}return(l&fn.Self?_g():this.parent).get(n,i=l&fn.Optional&&i===Dn?null:i)}catch(D){if("NullInjectorError"===D.name){if((D[xt]=D[xt]||[]).unshift(Me(n)),m)throw D;return function xs(t,n,i,l){const p=t[xt];throw n[U]&&p.unshift(n[U]),t.message=function Fo(t,n,i,l=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let p=Me(n);if(Array.isArray(n))p=n.map(Me).join(" -> ");else if("object"==typeof n){let m=[];for(let T in n)if(n.hasOwnProperty(T)){let D=n[T];m.push(T+":"+("string"==typeof D?JSON.stringify(D):Me(D)))}p=`{${m.join(", ")}}`}return`${i}${l?"("+l+")":""}[${p}]: ${t.replace(Q,"\n  ")}`}("\n"+t.message,p,i,l),t.ngTokenPath=p,t[xt]=null,t}(D,n,"R3InjectorError",this.source)}throw D}finally{br(T),xe(m)}}resolveInjectorInitializers(){const n=xe(this),i=br(void 0);try{const p=this.get(Rh.multi,or,fn.Self);for(const m of p)m()}finally{xe(n),br(i)}}toString(){const n=[],i=this.records;for(const l of i.keys())n.push(Me(l));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Be(205,!1)}processProvider(n){let i=xo(n=dt(n))?n:dt(n&&n.provide);const l=function h0(t){return gg(t)?Oh(void 0,t.useValue):Oh($v(t),Gf)}(n);if(xo(n)||!0!==n.multi)this.records.get(i);else{let p=this.records.get(i);p||(p=Oh(void 0,Gf,!0),p.factory=()=>Gn(p.multi),this.records.set(i,p)),i=n,p.multi.push(n)}this.records.set(i,l)}hydrate(n,i){return i.value===Gf&&(i.value=Mi,i.value=i.factory()),"object"==typeof i.value&&i.value&&function f0(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=dt(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function yg(t){const n=an(t),i=null!==n?n.factory:Vs(t);if(null!==i)return i;if(t instanceof Kt)throw new Be(204,!1);if(t instanceof Function)return function d0(t){const n=t.length;if(n>0)throw ju(n,"?"),new Be(204,!1);const i=function $t(t){return t&&(t[In]||t[On])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new Be(204,!1)}function $v(t,n,i){let l;if(xo(t)){const p=dt(t);return Vs(p)||yg(p)}if(gg(t))l=()=>dt(t.useValue);else if(function iy(t){return!(!t||!t.useFactory)}(t))l=()=>t.useFactory(...Gn(t.deps||[]));else if(function mg(t){return!(!t||!t.useExisting)}(t))l=()=>Pt(dt(t.useExisting));else{const p=dt(t&&(t.useClass||t.provide));if(!function oy(t){return!!t.deps}(t))return Vs(p)||yg(p);l=()=>new p(...Gn(t.deps))}return l}function Oh(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function gu(t,n){for(const i of t)Array.isArray(i)?gu(i,n):i&&mt(i)?gu(i.\u0275providers,n):n(i)}const Zf=new Kt("AppId",{providedIn:"root",factory:()=>cd}),cd="ng",mu=new Kt("Platform Initializer"),Gv=new Kt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),vg=new Kt("AnimationModuleType"),ay=new Kt("CSP nonce",{providedIn:"root",factory:()=>function wh(){if(void 0!==Ch)return Ch;if(typeof document<"u")return document;throw new Be(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Za=(t,n,i)=>null;function hd(t,n,i=!1){return Za(t,n,i)}class p0{}class Qv{}class Jv{resolveComponentFactory(n){throw function Vm(t){const n=Error(`No component factory found for ${Me(t)}.`);return n.ngComponent=t,n}(n)}}let Tg=(()=>{class t{static#e=this.NULL=new Jv}return t})();function Cg(){return fd(Ki(),St())}function fd(t,n){return new Qf(fs(t,n))}let Qf=(()=>{class t{constructor(i){this.nativeElement=i}static#e=this.__NG_ELEMENT_ID__=Cg}return t})();function wg(t){return t instanceof Qf?t.nativeElement:t}class ly{}let Uh=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Bm(){const t=St(),i=ps(Ki().index,t);return(be(i)?i:t)[Fn]}()}return t})(),jm=(()=>{class t{static#e=this.\u0275prov=un({token:t,providedIn:"root",factory:()=>null})}return t})();class pd{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const gd=new pd("16.2.12"),_s={};function Nl(t,n=null,i=null,l){const p=md(t,n,i,l);return p.resolveInjectorInitializers(),p}function md(t,n=null,i=null,l,p=new Set){const m=[i||or,_i(t)];return l=l||("object"==typeof t?void 0:Me(t)),new ad(m,n||_g(),l||null,p)}let Aa=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Dn;static#t=this.NULL=new Rm;static create(i,l){if(Array.isArray(i))return Nl({name:""},l,i,"");{const p=i.name??"";return Nl({name:p},i.parent,i.providers,p)}}static#n=this.\u0275prov=un({token:t,providedIn:"any",factory:()=>Pt(fg)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function $m(t){return t.ngOriginalError}class Eu{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&$m(n);for(;i&&$m(i);)i=$m(i);return i||null}}function Gm(t){return n=>{setTimeout(t,void 0,n)}}const Vc=class eE extends I.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,l){let p=n,m=i||(()=>null),T=l;if(n&&"object"==typeof n){const O=n;p=O.next?.bind(O),m=O.error?.bind(O),T=O.complete?.bind(O)}this.__isAsync&&(m=Gm(m),p&&(p=Gm(p)),T&&(T=Gm(T)));const D=super.subscribe({next:p,error:m,complete:T});return n instanceof u.w0&&n.add(D),D}};function gy(...t){}class Ti{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Vc(!1),this.onMicrotaskEmpty=new Vc(!1),this.onStable=new Vc(!1),this.onError=new Vc(!1),typeof Zone>"u")throw new Be(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!l&&i,p.shouldCoalesceRunChangeDetection=l,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function Jo(){const t="function"==typeof Pn.requestAnimationFrame;let n=Pn[t?"requestAnimationFrame":"setTimeout"],i=Pn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const l=n[Zone.__symbol__("OriginalDelegate")];l&&(n=l);const p=i[Zone.__symbol__("OriginalDelegate")];p&&(i=p)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function vy(t){const n=()=>{!function yy(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Pn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,qm(t),t.isCheckStableRunning=!0,_y(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),qm(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,l,p,m,T,D)=>{if(function y0(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(D))return i.invokeTask(p,m,T,D);try{return Ey(t),i.invokeTask(p,m,T,D)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||t.shouldCoalesceRunChangeDetection)&&n(),Iy(t)}},onInvoke:(i,l,p,m,T,D,O)=>{try{return Ey(t),i.invoke(p,m,T,D,O)}finally{t.shouldCoalesceRunChangeDetection&&n(),Iy(t)}},onHasTask:(i,l,p,m)=>{i.hasTask(p,m),l===p&&("microTask"==m.change?(t._hasPendingMicrotasks=m.microTask,qm(t),_y(t)):"macroTask"==m.change&&(t.hasPendingMacrotasks=m.macroTask))},onHandleError:(i,l,p,m)=>(i.handleError(p,m),t.runOutsideAngular(()=>t.onError.emit(m)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ti.isInAngularZone())throw new Be(909,!1)}static assertNotInAngularZone(){if(Ti.isInAngularZone())throw new Be(909,!1)}run(n,i,l){return this._inner.run(n,i,l)}runTask(n,i,l,p){const m=this._inner,T=m.scheduleEventTask("NgZoneEvent: "+p,n,Ag,gy,gy);try{return m.runTask(T,i,l)}finally{m.cancelTask(T)}}runGuarded(n,i,l){return this._inner.runGuarded(n,i,l)}runOutsideAngular(n){return this._outer.run(n)}}const Ag={};function _y(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function qm(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Ey(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Iy(t){t._nesting--,_y(t)}class kl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Vc,this.onMicrotaskEmpty=new Vc,this.onStable=new Vc,this.onError=new Vc}run(n,i,l){return n.apply(i,l)}runGuarded(n,i,l){return n.apply(i,l)}runOutsideAngular(n){return n()}runTask(n,i,l,p){return n.apply(i,l)}}const Zm=new Kt("",{providedIn:"root",factory:tE});function tE(){const t=Yt(Ti);let n=!0;const i=new W.y(p=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{p.next(n),p.complete()})}),l=new W.y(p=>{let m;t.runOutsideAngular(()=>{m=t.onStable.subscribe(()=>{Ti.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,p.next(!0))})})});const T=t.onUnstable.subscribe(()=>{Ti.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{p.next(!1)}))});return()=>{m.unsubscribe(),T.unsubscribe()}});return(0,ve.T)(i,l.pipe((0,he.B)()))}function Fl(t){return t instanceof Function?t():t}let Jf=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=un({token:t,providedIn:"root",factory:()=>new t})}return t})();function jh(t){for(;t;){t[Mn]|=64;const n=lu(t);if(Vn(t)&&!n)return t;t=n}return null}const iE=new Kt("",{providedIn:"root",factory:()=>!1});let Hh=null;function ep(t,n){return t[n]??a()}function d(t,n){const i=a();i.producerNode?.length&&(t[n]=Hh,i.lView=t,Hh=r())}const e={...xu,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{jh(t.lView)},lView:null};function r(){return Object.create(e)}function a(){return Hh??=r(),Hh}const f={};function y(t){b(yr(),St(),rs()+t,!1)}function b(t,n,i,l){if(!l)if(3==(3&n[Mn])){const m=t.preOrderCheckHooks;null!==m&&ma(n,m,i)}else{const m=t.preOrderHooks;null!==m&&qo(n,m,0,i)}pa(i)}function x(t,n=fn.Default){const i=St();return null===i?Pt(t,n):vc(Ki(),i,dt(t),n)}function L(){throw new Error("invalid")}function ne(t,n,i,l,p,m,T,D,O,z,ee){const ye=n.blueprint.slice();return ye[dr]=p,ye[Mn]=140|l,(null!==z||t&&2048&t[Mn])&&(ye[Mn]|=2048),Co(ye),ye[lr]=ye[vi]=t,ye[Yn]=i,ye[cs]=T||t&&t[cs],ye[Fn]=D||t&&t[Fn],ye[Zi]=O||t&&t[Zi]||null,ye[Hr]=m,ye[Fs]=function Tl(){return z_++}(),ye[Kn]=ee,ye[Yc]=z,ye[Ln]=2==n.type?t[Ln]:ye,ye}function pe(t,n,i,l,p){let m=t.data[n];if(null===m)m=function Se(t,n,i,l,p){const m=Si(),T=sl(),O=t.data[n]=function Qe(t,n,i,l,p,m){let T=n?n.injectorIndex:-1,D=0;return ja()&&(D|=128),{type:i,index:l,insertBeforeIndex:null,injectorIndex:T,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:D,providerIndexes:0,value:p,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?m:m&&m.parent,i,n,l,p);return null===t.firstChild&&(t.firstChild=O),null!==m&&(T?null==m.child&&null!==O.parent&&(m.child=O):null===m.next&&(m.next=O,O.prev=m)),O}(t,n,i,l,p),function N(){return $n.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=i,m.value=l,m.attrs=p;const T=function Ql(){const t=$n.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();m.injectorIndex=null===T?-1:T.injectorIndex}return ts(m,!0),m}function tt(t,n,i,l){if(0===i)return-1;const p=n.length;for(let m=0;m<i;m++)n.push(l),t.blueprint.push(l),t.data.push(null);return p}function Dt(t,n,i,l,p){const m=ep(n,ir),T=rs(),D=2&l;try{pa(-1),D&&n.length>Qn&&b(t,n,Qn,!1),Un(D?2:0,p);const z=D?m:null,ee=Zn(z);try{null!==z&&(z.dirty=!1),i(l,p)}finally{Xc(z,ee)}}finally{D&&null===n[ir]&&d(n,ir),pa(T),Un(D?3:1,p)}}function jt(t,n,i){if(It(n)){const l=Di(null);try{const m=n.directiveEnd;for(let T=n.directiveStart;T<m;T++){const D=t.data[T];D.contentQueries&&D.contentQueries(1,i[T],T)}}finally{Di(l)}}}function At(t,n,i){di()&&(function cE(t,n,i,l){const p=i.directiveStart,m=i.directiveEnd;Nt(i)&&function Ry(t,n,i){const l=fs(n,t),p=xn(i);let T=16;i.signals?T=4096:i.onPush&&(T=64);const D=vd(t,ne(t,p,null,T,l,n,null,t[cs].rendererFactory.createRenderer(l,i),null,null,null));t[n.index]=D}(n,i,t.data[p+i.componentOffset]),t.firstCreatePass||ah(i,n),Ds(l,n);const T=i.initialInputs;for(let D=p;D<m;D++){const O=t.data[D],z=dl(n,t,D,i);Ds(z,n),null!==T&&xy(0,D-p,z,O,0,T),cn(O)&&(ps(i.index,n)[Yn]=dl(n,t,D,i))}}(t,n,i,fs(i,n)),64==(64&i.flags)&&_d(t,n,i))}function yn(t,n,i=fs){const l=n.localNames;if(null!==l){let p=n.index+1;for(let m=0;m<l.length;m+=2){const T=l[m+1],D=-1===T?i(n,t):t[T];t[p++]=D}}}function xn(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Tn(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Tn(t,n,i,l,p,m,T,D,O,z,ee){const ye=Qn+l,Ve=ye+p,Ye=function sr(t,n){const i=[];for(let l=0;l<n;l++)i.push(l<t?null:f);return i}(ye,Ve),Tt="function"==typeof z?z():z;return Ye[Zt]={type:t,blueprint:Ye,template:i,queries:null,viewQuery:D,declTNode:n,data:Ye.slice().fill(null,ye),bindingStartIndex:ye,expandoStartIndex:Ve,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:O,consts:Tt,incompleteFirstPass:!1,ssrId:ee}}let He=t=>null;function ot(t,n,i,l){for(let p in t)if(t.hasOwnProperty(p)){i=null===i?{}:i;const m=t[p];null===l?Re(i,n,p,m):l.hasOwnProperty(p)&&Re(i,n,l[p],m)}return i}function Re(t,n,i,l){t.hasOwnProperty(i)?t[i].push(n,l):t[i]=[n,l]}function Xo(t,n,i,l,p,m,T,D){const O=fs(n,i);let ee,z=n.inputs;!D&&null!=z&&(ee=z[l])?(zs(t,i,ee,l,p),Nt(n)&&function tp(t,n){const i=ps(n,t);16&i[Mn]||(i[Mn]|=64)}(i,n.index)):3&n.type&&(l=function $h(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(l),p=null!=T?T(p,n.value||"",l):p,m.setProperty(O,l,p))}function rp(t,n,i,l){if(di()){const p=null===l?null:{"":-1},m=function yd(t,n){const i=t.directiveRegistry;let l=null,p=null;if(i)for(let m=0;m<i.length;m++){const T=i[m];if(Pr(n,T.selectors,!1))if(l||(l=[]),cn(T))if(null!==T.findHostDirectiveDefs){const D=[];p=p||new Map,T.findHostDirectiveDefs(T,D,p),l.unshift(...D,T),Pg(t,n,D.length)}else l.unshift(T),Pg(t,n,0);else p=p||new Map,T.findHostDirectiveDefs?.(T,l,p),l.push(T)}return null===l?null:[l,p]}(t,i);let T,D;null===m?T=D=null:[T,D]=m,null!==T&&Sy(t,n,i,T,p,D),p&&function My(t,n,i){if(n){const l=t.localNames=[];for(let p=0;p<n.length;p+=2){const m=i[n[p+1]];if(null==m)throw new Be(-301,!1);l.push(n[p],m)}}}(i,l,p)}i.mergedAttrs=mr(i.mergedAttrs,i.attrs)}function Sy(t,n,i,l,p,m){for(let z=0;z<l.length;z++)Ha(ah(i,n),t,l[z].type);!function Km(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,l.length);for(let z=0;z<l.length;z++){const ee=l[z];ee.providersResolver&&ee.providersResolver(ee)}let T=!1,D=!1,O=tt(t,n,l.length,null);for(let z=0;z<l.length;z++){const ee=l[z];i.mergedAttrs=mr(i.mergedAttrs,ee.hostAttrs),Py(t,i,n,O,ee),ip(O,ee,p),null!==ee.contentQueries&&(i.flags|=4),(null!==ee.hostBindings||null!==ee.hostAttrs||0!==ee.hostVars)&&(i.flags|=64);const ye=ee.type.prototype;!T&&(ye.ngOnChanges||ye.ngOnInit||ye.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),T=!0),!D&&(ye.ngOnChanges||ye.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),D=!0),O++}!function Ya(t,n,i){const p=n.directiveEnd,m=t.data,T=n.attrs,D=[];let O=null,z=null;for(let ee=n.directiveStart;ee<p;ee++){const ye=m[ee],Ve=i?i.get(ye):null,Tt=Ve?Ve.outputs:null;O=ot(ye.inputs,ee,O,Ve?Ve.inputs:null),z=ot(ye.outputs,ee,z,Tt);const Ht=null===O||null===T||Br(n)?null:uE(O,ee,T);D.push(Ht)}null!==O&&(O.hasOwnProperty("class")&&(n.flags|=8),O.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=D,n.inputs=O,n.outputs=z}(t,i,m)}function _d(t,n,i){const l=i.directiveStart,p=i.directiveEnd,m=i.index,T=function G(){return $n.lFrame.currentDirectiveIndex}();try{pa(m);for(let D=l;D<p;D++){const O=t.data[D],z=n[D];re(D),(null!==O.hostBindings||0!==O.hostVars||null!==O.hostAttrs)&&lE(O,z)}}finally{pa(-1),re(T)}}function lE(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Pg(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function ip(t,n,i){if(i){if(n.exportAs)for(let l=0;l<n.exportAs.length;l++)i[n.exportAs[l]]=t;cn(n)&&(i[""]=t)}}function Py(t,n,i,l,p){t.data[l]=p;const m=p.factory||(p.factory=Vs(p.type)),T=new mc(m,cn(p),x);t.blueprint[l]=T,i[l]=T,function Tu(t,n,i,l,p){const m=p.hostBindings;if(m){let T=t.hostBindingOpCodes;null===T&&(T=t.hostBindingOpCodes=[]);const D=~n.index;(function Hs(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(T)!=D&&T.push(D),T.push(i,l,m)}}(t,n,l,tt(t,i,p.hostVars,f),p)}function Da(t,n,i,l,p,m){const T=fs(t,n);!function sp(t,n,i,l,p,m,T){if(null==m)t.removeAttribute(n,p,i);else{const D=null==T?Ue(m):T(m,l||"",p);t.setAttribute(n,p,D,i)}}(n[Fn],T,m,t.value,i,l,p)}function xy(t,n,i,l,p,m){const T=m[n];if(null!==T)for(let D=0;D<T.length;)Ym(l,i,T[D++],T[D++],T[D++])}function Ym(t,n,i,l,p){const m=Di(null);try{const T=t.inputTransforms;null!==T&&T.hasOwnProperty(l)&&(p=T[l].call(n,p)),null!==t.setInput?t.setInput(n,p,i,l):n[l]=p}finally{Di(m)}}function uE(t,n,i){let l=null,p=0;for(;p<i.length;){const m=i[p];if(0!==m)if(5!==m){if("number"==typeof m)break;if(t.hasOwnProperty(m)){null===l&&(l=[]);const T=t[m];for(let D=0;D<T.length;D+=2)if(T[D]===n){l.push(m,T[D+1],i[p+1]);break}}p+=2}else p+=2;else p+=4}return l}function Qm(t,n,i,l){return[t,!0,!1,n,null,0,l,i,null,null,null]}function Jm(t,n){const i=t.contentQueries;if(null!==i)for(let l=0;l<i.length;l+=2){const m=i[l+1];if(-1!==m){const T=t.data[m];it(i[l]),T.contentQueries(2,n[m],m)}}}function vd(t,n){return t[Ji]?t[tr][gi]=n:t[Ji]=n,t[tr]=n,n}function Rg(t,n,i){it(0);const l=Di(null);try{n(t,i)}finally{Di(l)}}function op(t){return t[ni]||(t[ni]=[])}function Xm(t){return t.cleanup||(t.cleanup=[])}function $s(t,n){const i=t[Zi],l=i?i.get(Eu,null):null;l&&l.handleError(n)}function zs(t,n,i,l,p){for(let m=0;m<i.length;){const T=i[m++],D=i[m++];Ym(t.data[T],n[T],l,D,p)}}function mo(t,n,i){const l=To(n,t);!function pm(t,n,i){t.setValue(n,i)}(t[Fn],l,i)}function t_(t,n){const i=ps(n,t),l=i[Zt];!function n_(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(l,i);const p=i[dr];null!==p&&null===i[Kn]&&(i[Kn]=hd(p,i[Zi])),Qa(l,i,i[Yn])}function Qa(t,n,i){xr(n);try{const l=t.viewQuery;null!==l&&Rg(1,l,i);const p=t.template;null!==p&&Dt(t,n,p,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Jm(t,n),t.staticViewQueries&&Rg(2,t.viewQuery,i);const m=t.components;null!==m&&function zh(t,n){for(let i=0;i<n.length;i++)t_(t,n[i])}(n,m)}catch(l){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),l}finally{n[Mn]&=-5,fc()}}let xg=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,l,p){const m=typeof Zone>"u"?null:Zone.current,T=function bt(t,n,i){const l=Object.create(fr);i&&(l.consumerAllowSignalWrites=!0),l.fn=t,l.schedule=n;const p=T=>{l.cleanupFn=T};return l.ref={notify:()=>Fa(l),run:()=>{if(l.dirty=!1,l.hasRun&&!el(l))return;l.hasRun=!0;const T=Zn(l);try{l.cleanupFn(),l.cleanupFn=dn,l.fn(p)}finally{Xc(l,T)}},cleanup:()=>l.cleanupFn()},l.ref}(i,z=>{this.all.has(z)&&this.queue.set(z,m)},p);let D;this.all.add(T),T.notify();const O=()=>{T.cleanup(),D?.(),this.all.delete(T),this.queue.delete(T)};return D=l?.onDestroy(O),{destroy:O}}flush(){if(0!==this.queue.size)for(const[i,l]of this.queue)this.queue.delete(i),l?l.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=un({token:t,providedIn:"root",factory:()=>new t})}return t})();function Gh(t,n,i){let l=i?t.styles:null,p=i?t.classes:null,m=0;if(null!==n)for(let T=0;T<n.length;T++){const D=n[T];"number"==typeof D?m=D:1==m?p=ut(p,D):2==m&&(l=ut(l,D+": "+n[++T]+";"))}i?t.styles=l:t.stylesWithoutHost=l,i?t.classes=p:t.classesWithoutHost=p}function ap(t,n,i,l,p=!1){for(;null!==i;){const m=n[i.index];null!==m&&l.push(qr(m)),Le(m)&&Ny(m,l);const T=i.type;if(8&T)ap(t,n,i.child,l);else if(32&T){const D=yh(i,n);let O;for(;O=D();)l.push(O)}else if(16&T){const D=K_(n,i);if(Array.isArray(D))l.push(...D);else{const O=lu(n[Ln]);ap(O[Zt],O,D,l,!0)}}i=p?i.projectionNext:i.next}return l}function Ny(t,n){for(let i=zr;i<t.length;i++){const l=t[i],p=l[Zt].firstChild;null!==p&&ap(l[Zt],l,p,n)}t[ds]!==t[dr]&&n.push(t[ds])}function qh(t,n,i,l=!0){const p=n[cs],m=p.rendererFactory,T=p.afterRenderEventManager;m.begin?.(),T?.begin();try{Ed(t,n,t.template,i)}catch(O){throw l&&$s(n,O),O}finally{m.end?.(),p.effectManager?.flush(),T?.end()}}function Ed(t,n,i,l){const p=n[Mn];if(256!=(256&p)){n[cs].effectManager?.flush(),xr(n);try{Co(n),function Qd(t){return $n.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&Dt(t,n,i,2,l);const T=3==(3&p);if(T){const z=t.preOrderCheckHooks;null!==z&&ma(n,z,null)}else{const z=t.preOrderHooks;null!==z&&qo(n,z,0,null),js(n,0)}if(function r_(t){for(let n=fm(t);null!==n;n=Rf(n)){if(!n[Oi])continue;const i=n[Uo];for(let l=0;l<i.length;l++){wo(i[l])}}}(n),Id(n,2),null!==t.contentQueries&&Jm(t,n),T){const z=t.contentCheckHooks;null!==z&&ma(n,z)}else{const z=t.contentHooks;null!==z&&qo(n,z,1),js(n,1)}!function q(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const l=ep(n,Ls);try{for(let p=0;p<i.length;p++){const m=i[p];if(m<0)pa(~m);else{const T=m,D=i[++p],O=i[++p];k(D,T),l.dirty=!1;const z=Zn(l);try{O(2,n[T])}finally{Xc(l,z)}}}}finally{null===n[Ls]&&d(n,Ls),pa(-1)}}(t,n);const D=t.components;null!==D&&cp(n,D,0);const O=t.viewQuery;if(null!==O&&Rg(2,O,l),T){const z=t.viewCheckHooks;null!==z&&ma(n,z)}else{const z=t.viewHooks;null!==z&&qo(n,z,2),js(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Mn]&=-73,zd(n)}finally{fc()}}}function Id(t,n){for(let i=fm(t);null!==i;i=Rf(i))for(let l=zr;l<i.length;l++)i_(i[l],n)}function bd(t,n,i){i_(ps(n,t),i)}function i_(t,n){if(!function uc(t){return 128==(128&t[Mn])}(t))return;const i=t[Zt],l=t[Mn];if(80&l&&0===n||1024&l||2===n)Ed(i,t,i.template,t[Yn]);else if(t[lo]>0){Id(t,1);const p=i.components;null!==p&&cp(t,p,1)}}function cp(t,n,i){for(let l=0;l<n.length;l++)bd(t,n[l],i)}class Td{get rootNodes(){const n=this._lView,i=n[Zt];return ap(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Yn]}set context(n){this._lView[Yn]=n}get destroyed(){return 256==(256&this._lView[Mn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[lr];if(Le(n)){const i=n[8],l=i?i.indexOf(this):-1;l>-1&&(Xu(n,l),gf(i,l))}this._attachedToViewContainer=!1}Of(this._lView[Zt],this._lView)}onDestroy(n){!function xp(t,n){if(256==(256&t[Mn]))throw new Be(911,!1);null===t[us]&&(t[us]=[]),t[us].push(n)}(this._lView,n)}markForCheck(){jh(this._cdRefInjectingView||this._lView)}detach(){this._lView[Mn]&=-129}reattach(){this._lView[Mn]|=128}detectChanges(){qh(this._lView[Zt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Mv(t,n){hu(t,n,n[Fn],2,null,null)}(this._lView[Zt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Be(902,!1);this._appRef=n}}class Og extends Td{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;qh(n[Zt],n,n[Yn],!1)}checkNoChanges(){}get context(){return null}}class s_ extends Tg{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=An(n);return new Uc(i,this.ngModule)}}function io(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class lp{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,l){l=en(l);const p=this.injector.get(n,_s,l);return p!==_s||i===_s?p:this.parentInjector.get(n,i,l)}}class Uc extends Qv{get inputs(){const n=this.componentDef,i=n.inputTransforms,l=io(n.inputs);if(null!==i)for(const p of l)i.hasOwnProperty(p.propName)&&(p.transform=i[p.propName]);return l}get outputs(){return io(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function os(t){return t.map(Ai).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,l,p){let m=(p=p||this.ngModule)instanceof qa?p:p?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const T=m?new lp(n,m):n,D=T.get(ly,null);if(null===D)throw new Be(407,!1);const ye={rendererFactory:D,sanitizer:T.get(jm,null),effectManager:T.get(xg,null),afterRenderEventManager:T.get(Jf,null)},Ve=D.createRenderer(null,this.componentDef),Ye=this.componentDef.selectors[0][0]||"div",Tt=l?function Vr(t,n,i,l){const m=l.get(iE,!1)||i===Os.ShadowDom,T=t.selectRootElement(n,m);return function nr(t){He(t)}(T),T}(Ve,l,this.componentDef.encapsulation,T):Ss(Ve,Ye,function Ng(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Ye)),kn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let kt=null;null!==Tt&&(kt=hd(Tt,T,!0));const cr=Tn(0,null,null,1,0,null,null,null,null,null,null),Sr=ne(null,cr,null,kn,null,null,ye,Ve,T,null,kt);let Ci,Kc;xr(Sr);try{const Rp=this.componentDef;let wv,VT=null;Rp.findHostDirectiveDefs?(wv=[],VT=new Map,Rp.findHostDirectiveDefs(Rp,wv,VT),wv.push(Rp)):wv=[Rp];const MD=function o_(t,n){const i=t[Zt],l=Qn;return t[l]=n,pe(i,l,2,"#host",null)}(Sr,Tt),PD=function Zh(t,n,i,l,p,m,T){const D=p[Zt];!function fE(t,n,i,l){for(const p of t)n.mergedAttrs=mr(n.mergedAttrs,p.hostAttrs);null!==n.mergedAttrs&&(Gh(n,n.mergedAttrs,!0),null!==i&&Pc(l,i,n))}(l,t,n,T);let O=null;null!==n&&(O=hd(n,p[Zi]));const z=m.rendererFactory.createRenderer(n,i);let ee=16;i.signals?ee=4096:i.onPush&&(ee=64);const ye=ne(p,xn(i),null,ee,p[t.index],t,m,z,null,null,O);return D.firstCreatePass&&Pg(D,t,l.length-1),vd(p,ye),p[t.index]=ye}(MD,Tt,Rp,wv,Sr,ye,Ve);Kc=Yl(cr,Qn),Tt&&function kg(t,n,i,l){if(l)xa(t,i,["ng-version",gd.full]);else{const{attrs:p,classes:m}=function sa(t){const n=[],i=[];let l=1,p=2;for(;l<t.length;){let m=t[l];if("string"==typeof m)2===p?""!==m&&n.push(m,t[++l]):8===p&&i.push(m);else{if(!Fi(p))break;p=m}l++}return{attrs:n,classes:i}}(n.selectors[0]);p&&xa(t,i,p),m&&m.length>0&&Sl(t,i,m.join(" "))}}(Ve,Rp,Tt,l),void 0!==i&&function Fy(t,n,i){const l=t.projection=[];for(let p=0;p<n.length;p++){const m=i[p];l.push(null!=m?Array.from(m):null)}}(Kc,this.ngContentSelectors,i),Ci=function pE(t,n,i,l,p,m){const T=Ki(),D=p[Zt],O=fs(T,p);Sy(D,p,T,i,null,l);for(let ee=0;ee<i.length;ee++)Ds(dl(p,D,T.directiveStart+ee,T),p);_d(D,p,T),O&&Ds(O,p);const z=dl(p,D,T.directiveStart+T.componentOffset,T);if(t[Yn]=p[Yn]=z,null!==m)for(const ee of m)ee(z,n);return jt(D,T,t),z}(PD,Rp,wv,VT,Sr,[a_]),Qa(cr,Sr,null)}finally{fc()}return new hE(this.componentType,Ci,fd(Kc,Sr),Sr,Kc)}}class hE extends p0{constructor(n,i,l,p,m){super(),this.location=l,this._rootLView=p,this._tNode=m,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new Og(p),this.componentType=n}setInput(n,i){const l=this._tNode.inputs;let p;if(null!==l&&(p=l[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const m=this._rootLView;zs(m[Zt],m,p,n,i),this.previousInputValues.set(n,i),jh(ps(this._tNode.index,m))}}get injector(){return new ms(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function a_(){const t=Ki();eh(St()[Zt],t)}function Ja(t){let n=function up(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const l=[t];for(;n;){let p;if(cn(t))p=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Be(903,!1);p=n.\u0275dir}if(p){if(i){l.push(p);const T=t;T.inputs=dp(t.inputs),T.inputTransforms=dp(t.inputTransforms),T.declaredInputs=dp(t.declaredInputs),T.outputs=dp(t.outputs);const D=p.hostBindings;D&&Vy(t,D);const O=p.viewQuery,z=p.contentQueries;if(O&&c_(t,O),z&&l_(t,z),ge(t.inputs,p.inputs),ge(t.declaredInputs,p.declaredInputs),ge(t.outputs,p.outputs),null!==p.inputTransforms&&(null===T.inputTransforms&&(T.inputTransforms={}),ge(T.inputTransforms,p.inputTransforms)),cn(p)&&p.data.animation){const ee=t.data;ee.animation=(ee.animation||[]).concat(p.data.animation)}}const m=p.features;if(m)for(let T=0;T<m.length;T++){const D=m[T];D&&D.ngInherit&&D(t),D===Ja&&(i=!1)}}n=Object.getPrototypeOf(n)}!function Ly(t){let n=0,i=null;for(let l=t.length-1;l>=0;l--){const p=t[l];p.hostVars=n+=p.hostVars,p.hostAttrs=mr(p.hostAttrs,i=mr(i,p.hostAttrs))}}(l)}function dp(t){return t===ki?{}:t===or?[]:t}function c_(t,n){const i=t.viewQuery;t.viewQuery=i?(l,p)=>{n(l,p),i(l,p)}:n}function l_(t,n){const i=t.contentQueries;t.contentQueries=i?(l,p,m)=>{n(l,p,m),i(l,p,m)}:n}function Vy(t,n){const i=t.hostBindings;t.hostBindings=i?(l,p)=>{n(l,p),i(l,p)}:n}function u_(t){const n=t.inputConfig,i={};for(const l in n)if(n.hasOwnProperty(l)){const p=n[l];Array.isArray(p)&&p[2]&&(i[l]=p[2])}t.inputTransforms=i}function hp(t){return!!Vg(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Vg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ea(t,n,i){return t[n]=i}function Ms(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function wd(t,n,i,l){const p=Ms(t,n,i);return Ms(t,n+1,l)||p}function Bc(t,n,i,l){const p=St();return Ms(p,fa(),n)&&(yr(),Da(hi(),p,t,n,i,l)),Bc}function Ul(t,n,i,l){return Ms(t,fa(),i)?n+Ue(i)+l:f}function Ad(t,n,i,l,p,m){const D=wd(t,function Do(){return $n.lFrame.bindingIndex}(),i,p);return S(2),D?n+Ue(i)+l+Ue(p)+m:f}function Hg(t,n,i,l,p,m,T,D){const O=St(),z=yr(),ee=t+Qn,ye=z.firstCreatePass?function ev(t,n,i,l,p,m,T,D,O){const z=n.consts,ee=pe(n,t,4,T||null,Js(z,D));rp(n,i,ee,Js(z,O)),eh(n,ee);const ye=ee.tView=Tn(2,ee,l,p,m,n.directiveRegistry,n.pipeRegistry,null,n.schemas,z,null);return null!==n.queries&&(n.queries.template(n,ee),ye.queries=n.queries.embeddedTView(ee)),ee}(ee,z,O,n,i,l,p,m,T):z.data[ee];ts(ye,!1);const Ve=$g(z,O,ye,t);Xd()&&du(z,O,Ve,ye),Ds(Ve,O),vd(O,O[ee]=Qm(Ve,O,Ve,ye)),Qt(ye)&&At(z,O,ye),null!=T&&yn(O,ye,D)}let $g=function v_(t,n,i,l){return pc(!0),n[Fn].createComment("")};function Cu(t){return zo(function Kd(){return $n.lFrame.contextLView}(),Qn+t)}function E_(t,n,i){const l=St();return Ms(l,fa(),n)&&Xo(yr(),hi(),l,t,n,l[Fn],i,!1),E_}function Gg(t,n,i,l,p){const T=p?"class":"style";zs(t,i,n.inputs[T],T,l)}function Sa(t,n,i,l){const p=St(),m=yr(),T=Qn+t,D=p[Fn],O=m.firstCreatePass?function rv(t,n,i,l,p,m){const T=n.consts,O=pe(n,t,2,l,Js(T,p));return rp(n,i,O,Js(T,m)),null!==O.attrs&&Gh(O,O.attrs,!1),null!==O.mergedAttrs&&Gh(O,O.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,O),O}(T,m,p,n,i,l):m.data[T],z=yp(m,p,O,D,n,t);p[T]=z;const ee=Qt(O);return ts(O,!0),Pc(D,z,O),32!=(32&O.flags)&&Xd()&&du(m,p,z,O),0===function Ba(){return $n.lFrame.elementDepthCount}()&&Ds(z,p),function nf(){$n.lFrame.elementDepthCount++}(),ee&&(At(m,p,O),jt(m,O,p)),null!==l&&yn(p,O),Sa}function wu(){let t=Ki();sl()?hc():(t=t.parent,ts(t,!1));const n=t;(function rf(t){return $n.skipHydrationRootTNode===t})(n)&&function im(){$n.skipHydrationRootTNode=null}(),function qd(){$n.lFrame.elementDepthCount--}();const i=yr();return i.firstCreatePass&&(eh(i,t),It(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function nh(t){return 0!=(8&t.flags)}(n)&&Gg(i,n,St(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function rh(t){return 0!=(16&t.flags)}(n)&&Gg(i,n,St(),n.stylesWithoutHost,!1),wu}function qs(t,n,i,l){return Sa(t,n,i,l),wu(),qs}let yp=(t,n,i,l,p,m)=>(pc(!0),Ss(l,p,function Go(){return $n.lFrame.currentNamespace}()));function fi(){return St()}function ys(t){return!!t&&"function"==typeof t.then}function Nr(t){return!!t&&"function"==typeof t.subscribe}function vs(t,n,i,l){const p=St(),m=yr(),T=Ki();return function No(t,n,i,l,p,m,T){const D=Qt(l),z=t.firstCreatePass&&Xm(t),ee=n[Yn],ye=op(n);let Ve=!0;if(3&l.type||T){const Ht=fs(l,n),hn=T?T(Ht):Ht,kn=ye.length,kt=T?Sr=>T(qr(Sr[l.index])):l.index;let cr=null;if(!T&&D&&(cr=function Fd(t,n,i,l){const p=t.cleanup;if(null!=p)for(let m=0;m<p.length-1;m+=2){const T=p[m];if(T===i&&p[m+1]===l){const D=n[ni],O=p[m+2];return D.length>O?D[O]:null}"string"==typeof T&&(m+=2)}return null}(t,n,p,l.index)),null!==cr)(cr.__ngLastListenerFn__||cr).__ngNextListenerFn__=m,cr.__ngLastListenerFn__=m,Ve=!1;else{m=Ep(l,n,ee,m,!1);const Sr=i.listen(hn,p,m);ye.push(m,Sr),z&&z.push(p,kt,kn,kn+1)}}else m=Ep(l,n,ee,m,!1);const Ye=l.outputs;let Tt;if(Ve&&null!==Ye&&(Tt=Ye[p])){const Ht=Tt.length;if(Ht)for(let hn=0;hn<Ht;hn+=2){const Ci=n[Tt[hn]][Tt[hn+1]].subscribe(m),Kc=ye.length;ye.push(m,Ci),z&&z.push(p,l.index,Kc,-(Kc+1))}}}(m,p,p[Fn],T,t,n,l),vs}function vp(t,n,i,l){try{return Un(6,n,i),!1!==i(l)}catch(p){return $s(t,p),!1}finally{Un(7,n,i)}}function Ep(t,n,i,l,p){return function m(T){if(T===Function)return l;jh(t.componentOffset>-1?ps(t.index,n):n);let O=vp(n,i,l,T),z=m.__ngNextListenerFn__;for(;z;)O=vp(n,i,z,T)&&O,z=z.__ngNextListenerFn__;return p&&!1===O&&T.preventDefault(),O}}function b0(t=1){return function ho(t){return($n.lFrame.contextLView=function Fu(t,n){for(;t>0;)n=n[vi],t--;return n}(t,$n.lFrame.contextLView))[Yn]}(t)}function bE(t,n){let i=null;const l=function tc(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(t);for(let p=0;p<n.length;p++){const m=n[p];if("*"!==m){if(null===l?Pr(t,m,!0):nc(l,m))return p}else i=p}return i}function I_(t){const n=St()[Ln][Hr];if(!n.projection){const l=n.projection=ju(t?t.length:1,null),p=l.slice();let m=n.child;for(;null!==m;){const T=t?bE(m,t):0;null!==T&&(p[T]?p[T].projectionNext=m:l[T]=m,p[T]=m),m=m.next}}}function b_(t,n=0,i){const l=St(),p=yr(),m=pe(p,Qn+t,16,null,i||null);null===m.projection&&(m.projection=n),hc(),(!l[Kn]||ja())&&32!=(32&m.flags)&&function Dl(t,n,i){rd(n[Fn],0,n,i,tg(t,i,n),W_(i.parent||n[Hr],i,n))}(p,l,m)}function Zg(t,n,i){return T_(t,"",n,"",i),Zg}function T_(t,n,i,l,p){const m=St(),T=Ul(m,n,i,l);return T!==f&&Xo(yr(),hi(),m,t,T,m[Fn],p,!1),T_}function w_(t,n){return t<<17|n<<2}function ta(t){return t>>17&32767}function bp(t){return 2|t}function Tp(t){return(131068&t)>>2}function A_(t,n){return-131069&t|n<<2}function Cp(t){return 1|t}function A0(t,n,i,l,p){const m=t[i+1],T=null===n;let D=l?ta(m):Tp(m),O=!1;for(;0!==D&&(!1===O||T);){const ee=t[D+1];BI(t[D],n)&&(O=!0,t[D+1]=l?Cp(ee):bp(ee)),D=l?ta(ee):Tp(ee)}O&&(t[i+1]=l?bp(m):Cp(m))}function BI(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&gl(t,n)>=0}function SE(t,n){return function Hl(t,n,i,l){const p=St(),m=yr(),T=S(2);m.firstUpdatePass&&function P0(t,n,i,l){const p=t.data;if(null===p[i+1]){const m=p[rs()],T=function M0(t,n){return n>=t.expandoStartIndex}(t,i);(function O0(t,n){return 0!=(t.flags&(n?8:16))})(m,l)&&null===n&&!T&&(n=!1),n=function wp(t,n,i,l){const p=function Ee(t){const n=$n.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let m=l?n.residualClasses:n.residualStyles;if(null===p)0===(l?n.classBindings:n.styleBindings)&&(i=S_(i=RE(null,t,n,i,l),n.attrs,l),m=null);else{const T=n.directiveStylingLast;if(-1===T||t[T]!==p)if(i=RE(p,t,n,i,l),null===m){let O=function ME(t,n,i){const l=i?n.classBindings:n.styleBindings;if(0!==Tp(l))return t[ta(l)]}(t,n,l);void 0!==O&&Array.isArray(O)&&(O=RE(null,t,n,O[1],l),O=S_(O,n.attrs,l),function PE(t,n,i,l){t[ta(i?n.classBindings:n.styleBindings)]=l}(t,n,l,O))}else m=function av(t,n,i){let l;const p=n.directiveEnd;for(let m=1+n.directiveStylingLast;m<p;m++)l=S_(l,t[m].hostAttrs,i);return S_(l,n.attrs,i)}(t,n,l)}return void 0!==m&&(l?n.residualClasses=m:n.residualStyles=m),i}(p,m,n,l),function wE(t,n,i,l,p,m){let T=m?n.classBindings:n.styleBindings,D=ta(T),O=Tp(T);t[l]=i;let ee,z=!1;if(Array.isArray(i)?(ee=i[1],(null===ee||gl(i,ee)>0)&&(z=!0)):ee=i,p)if(0!==O){const Ve=ta(t[D+1]);t[l+1]=w_(Ve,D),0!==Ve&&(t[Ve+1]=A_(t[Ve+1],l)),t[D+1]=function Ip(t,n){return 131071&t|n<<17}(t[D+1],l)}else t[l+1]=w_(D,0),0!==D&&(t[D+1]=A_(t[D+1],l)),D=l;else t[l+1]=w_(O,0),0===D?D=l:t[O+1]=A_(t[O+1],l),O=l;z&&(t[l+1]=bp(t[l+1])),A0(t,ee,l,!0),A0(t,ee,l,!1),function BT(t,n,i,l,p){const m=p?t.residualClasses:t.residualStyles;null!=m&&"string"==typeof n&&gl(m,n)>=0&&(i[l+1]=Cp(i[l+1]))}(n,ee,t,l,m),T=w_(D,O),m?n.classBindings=T:n.styleBindings=T}(p,m,n,i,T,l)}}(m,t,T,l),n!==f&&Ms(p,T,n)&&function x0(t,n,i,l,p,m,T,D){if(!(3&n.type))return;const O=t.data,z=O[D+1],ee=function w0(t){return 1==(1&t)}(z)?M_(O,n,i,p,Tp(z),T):void 0;Kg(ee)||(Kg(m)||function Du(t){return 2==(2&t)}(z)&&(m=M_(O,null,i,p,D,T)),function a0(t,n,i,l,p){if(n)p?t.addClass(i,l):t.removeClass(i,l);else{let m=-1===l.indexOf("-")?void 0:Ia.DashCase;null==p?t.removeStyle(i,l,m):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),m|=Ia.Important),t.setStyle(i,l,p,m))}}(l,T,To(rs(),i),p,m))}(m,m.data[rs()],p,p[Fn],t,p[T+1]=function cv(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Me(xc(t)))),t}(n,i),l,T)}(t,n,null,!0),SE}function RE(t,n,i,l,p){let m=null;const T=i.directiveEnd;let D=i.directiveStylingLast;for(-1===D?D=i.directiveStart:D++;D<T&&(m=n[D],l=S_(l,m.hostAttrs,p),m!==t);)D++;return null!==t&&(i.directiveStylingLast=D),l}function S_(t,n,i){const l=i?1:2;let p=-1;if(null!==n)for(let m=0;m<n.length;m++){const T=n[m];"number"==typeof T?p=T:p===l&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),fo(t,T,!!i||n[++m]))}return void 0===t?null:t}function M_(t,n,i,l,p,m){const T=null===n;let D;for(;p>0;){const O=t[p],z=Array.isArray(O),ee=z?O[1]:O,ye=null===ee;let Ve=i[p+1];Ve===f&&(Ve=ye?or:void 0);let Ye=ye?$u(Ve,l):ee===l?Ve:void 0;if(z&&!Kg(Ye)&&(Ye=$u(O,l)),Kg(Ye)&&(D=Ye,T))return D;const Tt=t[p+1];p=T?ta(Tt):Tp(Tt)}if(null!==n){let O=m?n.residualClasses:n.residualStyles;null!=O&&(D=$u(O,l))}return D}function Kg(t){return void 0!==t}function OE(t,n=""){const i=St(),l=yr(),p=t+Qn,m=l.firstCreatePass?pe(l,p,1,n,null):l.data[p],T=N0(l,i,m,n,t);i[p]=T,Xd()&&du(l,i,T,m),ts(m,!1)}let N0=(t,n,i,l,p)=>(pc(!0),function Qu(t,n){return t.createText(n)}(n[Fn],l));function k0(t){return lv("",t,""),k0}function lv(t,n,i){const l=St(),p=Ul(l,t,n,i);return p!==f&&mo(l,rs(),p),lv}function kE(t,n,i,l,p){const m=St(),T=Ad(m,t,n,i,l,p);return T!==f&&mo(m,rs(),T),kE}const oo=void 0;var cb=["en",[["a","p"],["AM","PM"],oo],[["AM","PM"],oo,oo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],oo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],oo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",oo,"{1} 'at' {0}",oo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Yg(t){const i=Math.floor(Math.abs(t)),l=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===l?1:5}];let Qg={};function $E(t){const n=function db(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=Z0(n);if(i)return i;const l=n.split("-")[0];if(i=Z0(l),i)return i;if("en"===l)return cb;throw new Be(701,!1)}function x_(t){return $E(t)[Jh.PluralCase]}function Z0(t){return t in Qg||(Qg[t]=Pn.ng&&Pn.ng.common&&Pn.ng.common.locales&&Pn.ng.common.locales[t]),Qg[t]}var Jh=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Jh||{});const Jg="en-US";let K0=Jg;function oI(t,n,i,l,p){if(t=dt(t),Array.isArray(t))for(let m=0;m<t.length;m++)oI(t[m],n,i,l,p);else{const m=yr(),T=St(),D=Ki();let O=xo(t)?t:dt(t.provide);const z=$v(t),ee=1048575&D.providerIndexes,ye=D.directiveStart,Ve=D.providerIndexes>>20;if(xo(t)||!t.multi){const Ye=new mc(z,p,x),Tt=cI(O,n,p?ee:ee+Ve,ye);-1===Tt?(Ha(ah(D,T),m,O),aI(m,t,n.length),n.push(O),D.directiveStart++,D.directiveEnd++,p&&(D.providerIndexes+=1048576),i.push(Ye),T.push(Ye)):(i[Tt]=Ye,T[Tt]=Ye)}else{const Ye=cI(O,n,ee+Ve,ye),Tt=cI(O,n,ee,ee+Ve),hn=Tt>=0&&i[Tt];if(p&&!hn||!p&&!(Ye>=0&&i[Ye])){Ha(ah(D,T),m,O);const kn=function DC(t,n,i,l,p){const m=new mc(t,i,x);return m.multi=[],m.index=n,m.componentProviders=0,Fb(m,p,l&&!i),m}(p?AC:wC,i.length,p,l,z);!p&&hn&&(i[Tt].providerFactory=kn),aI(m,t,n.length,0),n.push(O),D.directiveStart++,D.directiveEnd++,p&&(D.providerIndexes+=1048576),i.push(kn),T.push(kn)}else aI(m,t,Ye>-1?Ye:Tt,Fb(i[p?Tt:Ye],z,!p&&l));!p&&l&&hn&&i[Tt].componentProviders++}}}function aI(t,n,i,l){const p=xo(n),m=function ri(t){return!!t.useClass}(n);if(p||m){const O=(m?dt(n.useClass):n).prototype.ngOnDestroy;if(O){const z=t.destroyHooks||(t.destroyHooks=[]);if(!p&&n.multi){const ee=z.indexOf(i);-1===ee?z.push(i,[l,O]):z[ee+1].push(l,O)}else z.push(i,O)}}}function Fb(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function cI(t,n,i,l){for(let p=i;p<l;p++)if(n[p]===t)return p;return-1}function wC(t,n,i,l){return lI(this.multi,[])}function AC(t,n,i,l){const p=this.multi;let m;if(this.providerFactory){const T=this.providerFactory.componentProviders,D=dl(i,i[Zt],this.providerFactory.index,l);m=D.slice(0,T),lI(p,m);for(let O=T;O<D.length;O++)m.push(D[O])}else m=[],lI(p,m);return m}function lI(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function Lb(t,n=[]){return i=>{i.providersResolver=(l,p)=>function CC(t,n,i){const l=yr();if(l.firstCreatePass){const p=cn(t);oI(i,l.data,l.blueprint,p,!0),oI(n,l.data,l.blueprint,p,!1)}}(l,p?p(t):t,n)}}class em{}class Vb{}function SC(t,n){return new uI(t,n??null,[])}class uI extends em{constructor(n,i,l){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new s_(this);const p=kr(n);this._bootstrapComponents=Fl(p.bootstrap),this._r3Injector=md(n,i,[{provide:em,useValue:this},{provide:Tg,useValue:this.componentFactoryResolver},...l],Me(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class dI extends Vb{constructor(n){super(),this.moduleType=n}create(n){return new uI(this.moduleType,n,[])}}class Ub extends em{constructor(n){super(),this.componentFactoryResolver=new s_(this),this.instance=null;const i=new ad([...n.providers,{provide:em,useValue:this},{provide:Tg,useValue:this.componentFactoryResolver}],n.parent||_g(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Bb(t,n,i=null){return new Ub({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let jb=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const l=Ca(0,i.type),p=l.length>0?Bb([l],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,p)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=un({token:t,providedIn:"environment",factory:()=>new t(Pt(qa))})}return t})();function mv(t){t.getStandaloneInjector=n=>n.get(jb).getOrCreateStandaloneInjector(t)}function Wb(t,n,i,l){return Kb(St(),As(),t,n,i,l)}function vv(t,n){const i=t[n];return i===f?void 0:i}function Kb(t,n,i,l,p,m){const T=n+i;return Ms(t,T,p)?ea(t,T+1,m?l.call(m,p):l(p)):vv(t,T+1)}function eT(t,n){const i=yr();let l;const p=t+Qn;i.firstCreatePass?(l=function $C(t,n){if(n)for(let i=n.length-1;i>=0;i--){const l=n[i];if(t===l.name)return l}}(n,i.pipeRegistry),i.data[p]=l,l.onDestroy&&(i.destroyHooks??=[]).push(p,l.onDestroy)):l=i.data[p];const m=l.factory||(l.factory=Vs(l.type)),D=br(x);try{const O=ya(!1),z=m();return ya(O),function nv(t,n,i,l){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=l}(i,St(),p,z),z}finally{br(D)}}function tT(t,n,i){const l=t+Qn,p=St(),m=zo(p,l);return Ev(p,l)?Kb(p,As(),n,m.transform,i,m):m.transform(i)}function nT(t,n,i,l){const p=t+Qn,m=St(),T=zo(m,p);return Ev(m,p)?function Yb(t,n,i,l,p,m,T){const D=n+i;return wd(t,D,p,m)?ea(t,D+2,T?l.call(T,p,m):l(p,m)):vv(t,D+2)}(m,As(),n,T.transform,i,l,T):T.transform(i,l)}function Ev(t,n){return t[Zt].data[n].pure}function ZC(){return this._results[Symbol.iterator]()}class gI{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Vc)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=gI.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=ZC)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const l=this;l.dirty=!1;const p=function to(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function ff(t,n,i){if(t.length!==n.length)return!1;for(let l=0;l<t.length;l++){let p=t[l],m=n[l];if(i&&(p=i(p),m=i(m)),m!==p)return!1}return!0}(l._results,p,i))&&(l._results=p,l.length=p.length,l.last=p[this.length-1],l.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function KC(t,n,i,l=!0){const p=n[Zt];if(function Ju(t,n,i,l){const p=zr+l,m=i.length;l>0&&(i[p-1][gi]=n),l<m-zr?(n[gi]=i[p],pf(i,zr+l,n)):(i.push(n),n[gi]=null),n[lr]=i;const T=n[Xi];null!==T&&i!==T&&function Eh(t,n){const i=t[Uo];n[Ln]!==n[lr][lr][Ln]&&(t[Oi]=!0),null===i?t[Uo]=[n]:i.push(n)}(T,n);const D=n[ls];null!==D&&D.insertView(t),n[Mn]|=128}(p,n,t,i),l){const m=td(i,t),T=n[Fn],D=kf(T,t[ds]);null!==D&&function gm(t,n,i,l,p,m){l[dr]=p,l[Hr]=n,hu(t,l,i,1,p,m)}(p,t[Hr],T,n,D,m)}}let Iv=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=JC}return t})();const YC=Iv,QC=class extends YC{constructor(n,i,l){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,l){const p=function WC(t,n,i,l){const p=n.tView,D=ne(t,p,i,4096&t[Mn]?4096:16,null,n,null,null,null,l?.injector??null,l?.hydrationInfo??null);D[Xi]=t[n.index];const z=t[ls];return null!==z&&(D[ls]=z.createEmbeddedView(p)),Qa(p,D,i),D}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:l});return new Td(p)}};function JC(){return JE(Ki(),St())}function JE(t,n){return 4&t.type?new QC(n,t,fd(t,n)):null}let e0=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=iw}return t})();function iw(){return cT(Ki(),St())}const sw=e0,oT=class extends sw{constructor(n,i,l){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=l}get element(){return fd(this._hostTNode,this._hostLView)}get injector(){return new ms(this._hostTNode,this._hostLView)}get parentInjector(){const n=ll(this._hostTNode,this._hostLView);if(Xl(n)){const i=Wo(n,this._hostLView),l=al(n);return new ms(i[Zt].data[l+8],i)}return new ms(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=aT(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-zr}createEmbeddedView(n,i,l){let p,m;"number"==typeof l?p=l:null!=l&&(p=l.index,m=l.injector);const D=n.createEmbeddedViewImpl(i||{},m,null);return this.insertImpl(D,p,false),D}createComponent(n,i,l,p,m){const T=n&&!function Tc(t){return"function"==typeof t}(n);let D;if(T)D=i;else{const Ht=i||{};D=Ht.index,l=Ht.injector,p=Ht.projectableNodes,m=Ht.environmentInjector||Ht.ngModuleRef}const O=T?n:new Uc(An(n)),z=l||this.parentInjector;if(!m&&null==O.ngModule){const hn=(T?z:this.parentInjector).get(qa,null);hn&&(m=hn)}An(O.componentType??{});const Ye=O.create(z,p,null,m);return this.insertImpl(Ye.hostView,D,false),Ye}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,l){const p=n._lView;if(function Nu(t){return Le(t[lr])}(p)){const O=this.indexOf(n);if(-1!==O)this.detach(O);else{const z=p[lr],ee=new oT(z,z[Hr],z[lr]);ee.detach(ee.indexOf(n))}}const T=this._adjustIndex(i),D=this._lContainer;return KC(D,p,T,!l),n.attachToViewContainerRef(),pf(_I(D),T,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=aT(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),l=Xu(this._lContainer,i);l&&(gf(_I(this._lContainer),i),Of(l[Zt],l))}detach(n){const i=this._adjustIndex(n,-1),l=Xu(this._lContainer,i);return l&&null!=gf(_I(this._lContainer),i)?new Td(l):null}_adjustIndex(n,i=0){return n??this.length+i}};function aT(t){return t[8]}function _I(t){return t[8]||(t[8]=[])}function cT(t,n){let i;const l=n[t.index];return Le(l)?i=l:(i=Qm(l,n,null,t),n[t.index]=i,vd(n,i)),lT(i,n,t,l),new oT(i,t,n)}let lT=function uT(t,n,i,l){if(t[ds])return;let p;p=8&i.type?qr(l):function ow(t,n){const i=t[Fn],l=i.createComment(""),p=fs(n,t);return uu(i,kf(i,p),l,function Z_(t,n){return t.nextSibling(n)}(i,p),!1),l}(n,i),t[ds]=p};class yI{constructor(n){this.queryList=n,this.matches=null}clone(){return new yI(this.queryList)}setDirty(){this.queryList.setDirty()}}class vI{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const l=null!==n.contentQueries?n.contentQueries[0]:i.length,p=[];for(let m=0;m<l;m++){const T=i.getByIndex(m);p.push(this.queries[T.indexInDeclarationView].clone())}return new vI(p)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==AI(n,i).matches&&this.queries[i].setDirty()}}class dT{constructor(n,i,l=null){this.predicate=n,this.flags=i,this.read=l}}class EI{constructor(n=[]){this.queries=n}elementStart(n,i){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let l=0;l<this.length;l++){const p=null!==i?i.length:0,m=this.getByIndex(l).embeddedTView(n,p);m&&(m.indexInDeclarationView=l,null!==i?i.push(m):i=[m])}return null!==i?new EI(i):null}template(n,i){for(let l=0;l<this.queries.length;l++)this.queries[l].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class II{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new II(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let l=n.parent;for(;null!==l&&8&l.type&&l.index!==i;)l=l.parent;return i===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const l=this.metadata.predicate;if(Array.isArray(l))for(let p=0;p<l.length;p++){const m=l[p];this.matchTNodeWithReadOption(n,i,lw(i,m)),this.matchTNodeWithReadOption(n,i,ch(i,n,m,!1,!1))}else l===Iv?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,ch(i,n,l,!1,!1))}matchTNodeWithReadOption(n,i,l){if(null!==l){const p=this.metadata.read;if(null!==p)if(p===Qf||p===e0||p===Iv&&4&i.type)this.addMatch(i.index,-2);else{const m=ch(i,n,p,!1,!1);null!==m&&this.addMatch(i.index,m)}else this.addMatch(i.index,l)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function lw(t,n){const i=t.localNames;if(null!==i)for(let l=0;l<i.length;l+=2)if(i[l]===n)return i[l+1];return null}function dw(t,n,i,l){return-1===i?function uw(t,n){return 11&t.type?fd(t,n):4&t.type?JE(t,n):null}(n,t):-2===i?function hw(t,n,i){return i===Qf?fd(n,t):i===Iv?JE(n,t):i===e0?cT(n,t):void 0}(t,n,l):dl(t,t[Zt],i,n)}function hT(t,n,i,l){const p=n[ls].queries[l];if(null===p.matches){const m=t.data,T=i.matches,D=[];for(let O=0;O<T.length;O+=2){const z=T[O];D.push(z<0?null:dw(n,m[z],T[O+1],i.metadata.read))}p.matches=D}return p.matches}function bI(t,n,i,l){const p=t.queries.getByIndex(i),m=p.matches;if(null!==m){const T=hT(t,n,p,i);for(let D=0;D<m.length;D+=2){const O=m[D];if(O>0)l.push(T[D/2]);else{const z=m[D+1],ee=n[-O];for(let ye=zr;ye<ee.length;ye++){const Ve=ee[ye];Ve[Xi]===Ve[lr]&&bI(Ve[Zt],Ve,z,l)}if(null!==ee[Uo]){const ye=ee[Uo];for(let Ve=0;Ve<ye.length;Ve++){const Ye=ye[Ve];bI(Ye[Zt],Ye,z,l)}}}}}return l}function fT(t){const n=St(),i=yr(),l=rt();it(l+1);const p=AI(i,l);if(t.dirty&&function rl(t){return 4==(4&t[Mn])}(n)===(2==(2&p.metadata.flags))){if(null===p.matches)t.reset([]);else{const m=p.crossesNgTemplate?bI(i,n,l,[]):hT(i,n,p,l);t.reset(m,wg),t.notifyOnChanges()}return!0}return!1}function TI(t,n,i,l){const p=yr();if(p.firstCreatePass){const m=Ki();(function pT(t,n,i){null===t.queries&&(t.queries=new EI),t.queries.track(new II(n,i))})(p,new dT(n,i,l),m.index),function t0(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(p,t),2==(2&i)&&(p.staticContentQueries=!0)}!function wI(t,n,i){const l=new gI(4==(4&i));(function Ge(t,n,i,l){const p=op(n);p.push(i),t.firstCreatePass&&Xm(t).push(l,p.length-1)})(t,n,l,l.destroy),null===n[ls]&&(n[ls]=new vI),n[ls].queries.push(new yI(l))}(p,St(),i)}function bv(){return function CI(t,n){return t[ls].queries[n].queryList}(St(),rt())}function AI(t,n){return t.queries.getByIndex(n)}function DI(t){return!!kr(t)}const RI=new Kt("Application Initializer");let ao=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,l)=>{this.resolve=i,this.reject=l}),this.appInits=Yt(RI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const p of this.appInits){const m=p();if(ys(m))i.push(m);else if(Nr(m)){const T=new Promise((D,O)=>{m.subscribe({complete:D,error:O})});i.push(T)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{l()}).catch(p=>{this.reject(p)}),0===i.length&&l(),this.initialized=!0}static#e=this.\u0275fac=function(l){return new(l||t)};static#t=this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Xh=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static#e=this.\u0275fac=function(l){return new(l||t)};static#t=this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Pp=new Kt("LocaleId",{providedIn:"root",factory:()=>Yt(Pp,fn.Optional|fn.SkipSelf)||function Zc(){return typeof $localize<"u"&&$localize.locale||Jg}()}),r0=new Kt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let yw=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new _e.X(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(l){return new(l||t)};static#t=this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class _A{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let yA=(()=>{class t{compileModuleSync(i){return new dI(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const l=this.compileModuleSync(i),m=Fl(kr(i).declarations).reduce((T,D)=>{const O=An(D);return O&&T.push(new Uc(O)),T},[]);return new _A(l,m)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static#e=this.\u0275fac=function(l){return new(l||t)};static#t=this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const bw=new Kt(""),Tw=new Kt("");let DT,BA=(()=>{class t{constructor(i,l,p){this._ngZone=i,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,DT||(function jA(t){DT=t}(p),p.addToWindow(l)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ti.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(i)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,l,p){let m=-1;l&&l>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==m),i(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:i,timeoutId:m,updateCb:p})}whenStable(i,l,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,l,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,l,p){return[]}static#e=this.\u0275fac=function(l){return new(l||t)(Pt(Ti),Pt(Cw),Pt(Tw))};static#t=this.\u0275prov=un({token:t,factory:t.\u0275fac})}return t})(),Cw=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,l){this._applications.set(i,l)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,l=!0){return DT?.findTestabilityInTree(this,i,l)??null}static#e=this.\u0275fac=function(l){return new(l||t)};static#t=this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),rm=null;const ww=new Kt("AllowMultipleToken"),ST=new Kt("PlatformDestroyListeners"),MT=new Kt("appBootstrapListener");class zA{constructor(n,i){this.name=n,this.token=i}}function Sw(t,n,i=[]){const l=`Platform: ${n}`,p=new Kt(l);return(m=[])=>{let T=PT();if(!T||T.injector.get(ww,!1)){const D=[...i,...m,{provide:p,useValue:!0}];t?t(D):function GA(t){if(rm&&!rm.get(ww,!1))throw new Be(400,!1);(function Aw(){!function Kl(t){Va=t}(()=>{throw new Be(600,!1)})})(),rm=t;const n=t.get(Pw);(function Dw(t){t.get(mu,null)?.forEach(i=>i())})(t)}(function Mw(t=[],n){return Aa.create({name:n,providers:[{provide:sy,useValue:"platform"},{provide:ST,useValue:new Set([()=>rm=null])},...t]})}(D,l))}return function ZA(t){const n=PT();if(!n)throw new Be(401,!1);return n}()}}function PT(){return rm?.get(Pw)??null}let Pw=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,l){const p=function WA(t="zone.js",n){return"noop"===t?new kl:"zone.js"===t?new Ti(n):t}(l?.ngZone,function Rw(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:l?.ngZoneEventCoalescing,runCoalescing:l?.ngZoneRunCoalescing}));return p.run(()=>{const m=function MC(t,n,i){return new uI(t,n,i)}(i.moduleType,this.injector,function Fw(t){return[{provide:Ti,useFactory:t},{provide:Rh,multi:!0,useFactory:()=>{const n=Yt(YA,{optional:!0});return()=>n.initialize()}},{provide:kw,useFactory:KA},{provide:Zm,useFactory:tE}]}(()=>p)),T=m.injector.get(Eu,null);return p.runOutsideAngular(()=>{const D=p.onError.subscribe({next:O=>{T.handleError(O)}});m.onDestroy(()=>{OI(this._modules,m),D.unsubscribe()})}),function xw(t,n,i){try{const l=i();return ys(l)?l.catch(p=>{throw n.runOutsideAngular(()=>t.handleError(p)),p}):l}catch(l){throw n.runOutsideAngular(()=>t.handleError(l)),l}}(T,p,()=>{const D=m.injector.get(ao);return D.runInitializers(),D.donePromise.then(()=>(function zE(t){Gt(t,"Expected localeId to be defined"),"string"==typeof t&&(K0=t.toLowerCase().replace(/_/g,"-"))}(m.injector.get(Pp,Jg)||Jg),this._moduleDoBootstrap(m),m))})})}bootstrapModule(i,l=[]){const p=Ow({},l);return function HA(t,n,i){const l=new dI(i);return Promise.resolve(l)}(0,0,i).then(m=>this.bootstrapModuleFactory(m,p))}_moduleDoBootstrap(i){const l=i.injector.get(Cv);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(p=>l.bootstrap(p));else{if(!i.instance.ngDoBootstrap)throw new Be(-403,!1);i.instance.ngDoBootstrap(l)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Be(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const i=this._injector.get(ST,null);i&&(i.forEach(l=>l()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(l){return new(l||t)(Pt(Aa))};static#t=this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function Ow(t,n){return Array.isArray(n)?n.reduce(Ow,t):{...t,...n}}let Cv=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Yt(kw),this.zoneIsStable=Yt(Zm),this.componentTypes=[],this.components=[],this.isStable=Yt(yw).hasPendingTasks.pipe((0,Ce.w)(i=>i?(0,we.of)(!1):this.zoneIsStable),(0,De.x)(),(0,he.B)()),this._injector=Yt(qa)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,l){const p=i instanceof Qv;if(!this._injector.get(ao).done)throw!p&&xi(i),new Be(405,!1);let T;T=p?i:this._injector.get(Tg).resolveComponentFactory(i),this.componentTypes.push(T.componentType);const D=function $A(t){return t.isBoundToModule}(T)?void 0:this._injector.get(em),z=T.create(Aa.NULL,[],l||T.selector,D),ee=z.location.nativeElement,ye=z.injector.get(bw,null);return ye?.registerApplication(ee),z.onDestroy(()=>{this.detachView(z.hostView),OI(this.components,z),ye?.unregisterApplication(ee)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new Be(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const l=i;this._views.push(l),l.attachToAppRef(this)}detachView(i){const l=i;OI(this._views,l),l.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const l=this._injector.get(MT,[]);l.push(...this._bootstrapListeners),l.forEach(p=>p(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>OI(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Be(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(l){return new(l||t)};static#t=this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function OI(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const kw=new Kt("",{providedIn:"root",factory:()=>Yt(Eu).handleError.bind(void 0)});function KA(){const t=Yt(Ti),n=Yt(Eu);return i=>t.runOutsideAngular(()=>n.handleError(i))}let YA=(()=>{class t{constructor(){this.zone=Yt(Ti),this.applicationRef=Yt(Cv)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(l){return new(l||t)};static#t=this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function JA(){return!1}let XA=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=eD}return t})();function eD(t){return function tD(t,n,i){if(Nt(t)&&!i){const l=ps(t.index,n);return new Td(l,l)}return 47&t.type?new Td(n[Ln],n):null}(Ki(),St(),16==(16&t))}class Bw{constructor(){}supports(n){return hp(n)}create(n){return new aD(n)}}const oD=(t,n)=>n;class aD{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||oD}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,l=this._removalsHead,p=0,m=null;for(;i||l;){const T=!l||i&&i.currentIndex<Hw(l,p,m)?i:l,D=Hw(T,p,m),O=T.currentIndex;if(T===l)p--,l=l._nextRemoved;else if(i=i._next,null==T.previousIndex)p++;else{m||(m=[]);const z=D-p,ee=O-p;if(z!=ee){for(let Ve=0;Ve<z;Ve++){const Ye=Ve<m.length?m[Ve]:m[Ve]=0,Tt=Ye+Ve;ee<=Tt&&Tt<z&&(m[Ve]=Ye+1)}m[T.previousIndex]=ee-z}}D!==O&&n(T,D,O)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!hp(n))throw new Be(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let p,m,T,i=this._itHead,l=!1;if(Array.isArray(n)){this.length=n.length;for(let D=0;D<this.length;D++)m=n[D],T=this._trackByFn(D,m),null!==i&&Object.is(i.trackById,T)?(l&&(i=this._verifyReinsertion(i,m,T,D)),Object.is(i.item,m)||this._addIdentityChange(i,m)):(i=this._mismatch(i,m,T,D),l=!0),i=i._next}else p=0,function h_(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let l;for(;!(l=i.next()).done;)n(l.value)}}(n,D=>{T=this._trackByFn(p,D),null!==i&&Object.is(i.trackById,T)?(l&&(i=this._verifyReinsertion(i,D,T,p)),Object.is(i.item,D)||this._addIdentityChange(i,D)):(i=this._mismatch(i,D,T,p),l=!0),i=i._next,p++}),this.length=p;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,l,p){let m;return null===n?m=this._itTail:(m=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,m,p)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(l,p))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,m,p)):n=this._addAfter(new cD(i,l),m,p),n}_verifyReinsertion(n,i,l,p){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==m?n=this._reinsertAfter(m,n._prev,p):n.currentIndex!=p&&(n.currentIndex=p,this._addToMoves(n,p)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const p=n._prevRemoved,m=n._nextRemoved;return null===p?this._removalsHead=m:p._nextRemoved=m,null===m?this._removalsTail=p:m._prevRemoved=p,this._insertAfter(n,i,l),this._addToMoves(n,l),n}_moveAfter(n,i,l){return this._unlink(n),this._insertAfter(n,i,l),this._addToMoves(n,l),n}_addAfter(n,i,l){return this._insertAfter(n,i,l),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,l){const p=null===i?this._itHead:i._next;return n._next=p,n._prev=i,null===p?this._itTail=n:p._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new jw),this._linkedRecords.put(n),n.currentIndex=l,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,l=n._next;return null===i?this._itHead=l:i._next=l,null===l?this._itTail=i:l._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jw),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class cD{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lD{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===i||i<=l.currentIndex)&&Object.is(l.trackById,n))return l;return null}remove(n){const i=n._prevDup,l=n._nextDup;return null===i?this._head=l:i._nextDup=l,null===l?this._tail=i:l._prevDup=i,null===this._head}}class jw{constructor(){this.map=new Map}put(n){const i=n.trackById;let l=this.map.get(i);l||(l=new lD,this.map.set(i,l)),l.add(n)}get(n,i){const p=this.map.get(n);return p?p.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Hw(t,n,i){const l=t.previousIndex;if(null===l)return l;let p=0;return i&&l<i.length&&(p=i[l]),l+n+p}class $w{constructor(){}supports(n){return n instanceof Map||Vg(n)}create(){return new uD}}class uD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||Vg(n)))throw new Be(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(l,p)=>{if(i&&i.key===p)this._maybeAddToChanges(i,l),this._appendAfter=i,i=i._next;else{const m=this._getOrCreateRecordForKey(p,l);i=this._insertBeforeOrAppend(i,m)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let l=i;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const l=n._prev;return i._next=n,i._prev=l,n._prev=i,l&&(l._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const p=this._records.get(n);this._maybeAddToChanges(p,i);const m=p._prev,T=p._next;return m&&(m._next=T),T&&(T._prev=m),p._next=null,p._prev=null,p}const l=new dD(n);return this._records.set(n,l),l.currentValue=i,this._addToAdditions(l),l}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(l=>i(n[l],l))}}class dD{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function zw(){return new kT([new Bw])}let kT=(()=>{class t{static#e=this.\u0275prov=un({token:t,providedIn:"root",factory:zw});constructor(i){this.factories=i}static create(i,l){if(null!=l){const p=l.factories.slice();i=i.concat(p)}return new t(i)}static extend(i){return{provide:t,useFactory:l=>t.create(i,l||zw()),deps:[[t,new wc,new iu]]}}find(i){const l=this.factories.find(p=>p.supports(i));if(null!=l)return l;throw new Be(901,!1)}}return t})();function Gw(){return new FT([new $w])}let FT=(()=>{class t{static#e=this.\u0275prov=un({token:t,providedIn:"root",factory:Gw});constructor(i){this.factories=i}static create(i,l){if(l){const p=l.factories.slice();i=i.concat(p)}return new t(i)}static extend(i){return{provide:t,useFactory:l=>t.create(i,l||Gw()),deps:[[t,new wc,new iu]]}}find(i){const l=this.factories.find(p=>p.supports(i));if(l)return l;throw new Be(901,!1)}}return t})();const pD=Sw(null,"core",[]);let gD=(()=>{class t{constructor(i){}static#e=this.\u0275fac=function(l){return new(l||t)(Pt(Cv))};static#t=this.\u0275mod=Is({type:t});static#n=this.\u0275inj=qt({})}return t})();function AD(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function SD(t){const n=An(t);if(!n)return null;const i=new Uc(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},981:(zt,$e,j)=>{j.d($e,{zQ:()=>Ut,ww:()=>Bn,rT:()=>vt,f7:()=>de,L6:()=>Ue,_Q:()=>et,lh:()=>ze,Qv:()=>Xe,nw:()=>gt}),j(6365);var u=j(6814),W=j(5879),ve=j(1920),_e=j(7217),we=j(8645),he=j(2096),Ce=j(5592),De=j(2459),ue=j(3019),ge=j(3093),Me=j(4664),ut=j(7398),Je=j(940),Mt=j(1374),dt=j(4674);function Ct(_t,Rt){return(0,dt.m)(Rt)?(0,Me.w)(()=>_t,Rt):(0,Me.w)(()=>_t)}var mt=j(5137),Xt=j(2181),qe=j(7142);const Xe=new W.OlP("angularfire2.auth.use-emulator"),Ue=new W.OlP("angularfire2.auth.settings"),et=new W.OlP("angularfire2.auth.tenant-id"),vt=new W.OlP("angularfire2.auth.langugage-code"),ze=new W.OlP("angularfire2.auth.use-device-language"),de=new W.OlP("angularfire.auth.persistence"),gt=(_t,Rt,Wt,nt,Pe,fe,Oe,We)=>(0,_e.cc)(`${_t.name}.auth`,"AngularFireAuth",_t.name,()=>{const Ke=Rt.runOutsideAngular(()=>_t.auth());if(Wt&&Ke.useEmulator(...Wt),nt&&(Ke.tenantId=nt),Ke.languageCode=Pe,fe&&Ke.useDeviceLanguage(),Oe)for(const[lt,ft]of Object.entries(Oe))Ke.settings[lt]=ft;return We&&Ke.setPersistence(We),Ke},[Wt,nt,Pe,fe,Oe,We]);let Ut=(()=>{class _t{authState;idToken;user;idTokenResult;credential;constructor(Wt,nt,Pe,fe,Oe,We,Ke,lt,ft,Gt,Vt,Bt){const on=new we.x,jn=(0,he.of)(void 0).pipe((0,ge.Q)(Oe.outsideAngular),(0,Me.w)(()=>fe.runOutsideAngular(()=>Promise.resolve().then(j.bind(j,6365)))),(0,ut.U)(()=>(0,_e.on)(Wt,fe,nt)),(0,ut.U)(un=>gt(un,fe,We,lt,ft,Gt,Ke,Vt)),(0,Je.d)({bufferSize:1,refCount:!1}));if((0,u.PM)(Pe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,he.of)(null);else{jn.pipe((0,Mt.P)()).subscribe();const un=jn.pipe((0,Me.w)(an=>an.getRedirectResult().then(mn=>mn,()=>null)),ve.iC,(0,Je.d)({bufferSize:1,refCount:!1})),er=jn.pipe((0,Me.w)(an=>new Ce.y(mn=>({unsubscribe:fe.runOutsideAngular(()=>an.onAuthStateChanged(vn=>mn.next(vn),vn=>mn.error(vn),()=>mn.complete()))})))),qt=jn.pipe((0,Me.w)(an=>new Ce.y(mn=>({unsubscribe:fe.runOutsideAngular(()=>an.onIdTokenChanged(vn=>mn.next(vn),vn=>mn.error(vn),()=>mn.complete()))}))));this.authState=un.pipe(Ct(er),(0,mt.R)(Oe.outsideAngular),(0,ge.Q)(Oe.insideAngular)),this.user=un.pipe(Ct(qt),(0,mt.R)(Oe.outsideAngular),(0,ge.Q)(Oe.insideAngular)),this.idToken=this.user.pipe((0,Me.w)(an=>an?(0,De.D)(an.getIdToken()):(0,he.of)(null))),this.idTokenResult=this.user.pipe((0,Me.w)(an=>an?(0,De.D)(an.getIdTokenResult()):(0,he.of)(null))),this.credential=(0,ue.T)(un,on,this.authState.pipe((0,Xt.h)(an=>!an))).pipe((0,ut.U)(an=>an?.user?an:null),(0,mt.R)(Oe.outsideAngular),(0,ge.Q)(Oe.insideAngular))}return(0,_e.pX)(this,jn,fe,{spy:{apply:(un,er,qt)=>{(un.startsWith("signIn")||un.startsWith("createUser"))&&qt.then(an=>on.next(an))}}})}static \u0275fac=function(nt){return new(nt||_t)(W.LFG(_e.Dh),W.LFG(_e.xv,8),W.LFG(W.Lbi),W.LFG(W.R0b),W.LFG(ve.HU),W.LFG(Xe,8),W.LFG(Ue,8),W.LFG(et,8),W.LFG(vt,8),W.LFG(ze,8),W.LFG(de,8),W.LFG(ve.Rf,8))};static \u0275prov=W.Yz7({token:_t,factory:_t.\u0275fac,providedIn:"any"})}return _t})(),Bn=(()=>{class _t{constructor(){qe.Z.registerVersion("angularfire",ve.q4.full,"auth-compat")}static \u0275fac=function(nt){return new(nt||_t)};static \u0275mod=W.oAB({type:_t});static \u0275inj=W.cJS({providers:[Ut]})}return _t})()},7104:(zt,$e,j)=>{j.d($e,{ST:()=>Yr,yb:()=>je});var I=j(6814),u=j(5879),W=j(1920),ve=j(7217),_e=j(981),we=j(6321),he=j(5592),Ce=j(2459),De=j(2096),ue=j(7921),ge=j(9360),Me=j(8251);function ut(){return(0,ge.e)((Et,ie)=>{let Te,ct=!1;Et.subscribe((0,Me.x)(ie,Lt=>{const Dn=Te;Te=Lt,ct&&ie.next([Dn,Lt]),ct=!0}))})}var Je=j(7398),Mt=j(6699),dt=j(3997),Ct=j(2181),Xt=(j(6365),j(3106)),qe=j(5588),Be=j(9058),Xe=j(4537);function vt(Et,ie){if(void 0===ie)return{merge:!1};if(void 0!==ie.mergeFields&&void 0!==ie.merge)throw new qe.WA("invalid-argument",`Invalid options passed to function ${Et}(): You cannot specify both "merge" and "mergeFields".`);return ie}function ze(){if(typeof Uint8Array>"u")throw new qe.WA("unimplemented","Uint8Arrays are not available in this environment.")}function de(){if(!(0,qe.Me)())throw new qe.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class gt{constructor(ie){this._delegate=ie}static fromBase64String(ie){return de(),new gt(qe.Jj.fromBase64String(ie))}static fromUint8Array(ie){return ze(),new gt(qe.Jj.fromUint8Array(ie))}toBase64(){return de(),this._delegate.toBase64()}toUint8Array(){return ze(),this._delegate.toUint8Array()}isEqual(ie){return this._delegate.isEqual(ie._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ut(Et){return function Bn(Et,ie){if("object"!=typeof Et||null===Et)return!1;const Te=Et;for(const ct of ie)if(ct in Te&&"function"==typeof Te[ct])return!0;return!1}(Et,["next","error","complete"])}class _t{enableIndexedDbPersistence(ie,Te){return(0,qe.ST)(ie._delegate,{forceOwnership:Te})}enableMultiTabIndexedDbPersistence(ie){return(0,qe.fH)(ie._delegate)}clearIndexedDbPersistence(ie){return(0,qe.Fc)(ie._delegate)}}class Rt{constructor(ie,Te,ct){this._delegate=Te,this._persistenceProvider=ct,this.INTERNAL={delete:()=>this.terminate()},ie instanceof qe.l7||(this._appCompat=ie)}get _databaseId(){return this._delegate._databaseId}settings(ie){const Te=this._delegate._getSettings();!ie.merge&&Te.host!==ie.host&&(0,qe.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),ie.merge&&delete(ie=Object.assign(Object.assign({},Te),ie)).merge,this._delegate._setSettings(ie)}useEmulator(ie,Te,ct={}){(0,qe.at)(this._delegate,ie,Te,ct)}enableNetwork(){return(0,qe.Ix)(this._delegate)}disableNetwork(){return(0,qe.TF)(this._delegate)}enablePersistence(ie){let Te=!1,ct=!1;return ie&&(Te=!!ie.synchronizeTabs,ct=!!ie.experimentalForceOwningTab,(0,qe.Wi)("synchronizeTabs",Te,"experimentalForceOwningTab",ct)),Te?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,ct)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,qe.Mx)(this._delegate)}onSnapshotsInSync(ie){return(0,qe.sc)(this._delegate,ie)}get app(){if(!this._appCompat)throw new qe.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(ie){try{return new un(this,(0,qe.hJ)(this._delegate,ie))}catch(Te){throw Ke(Te,"collection()","Firestore.collection()")}}doc(ie){try{return new We(this,(0,qe.JU)(this._delegate,ie))}catch(Te){throw Ke(Te,"doc()","Firestore.doc()")}}collectionGroup(ie){try{return new Bt(this,(0,qe.B$)(this._delegate,ie))}catch(Te){throw Ke(Te,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(ie){return(0,qe.i3)(this._delegate,Te=>ie(new Pe(this,Te)))}batch(){return(0,qe.qY)(this._delegate),new fe(new qe.PU(this._delegate,ie=>(0,qe.GL)(this._delegate,ie)))}loadBundle(ie){return(0,qe.Pb)(this._delegate,ie)}namedQuery(ie){return(0,qe.L$)(this._delegate,ie).then(Te=>Te?new Bt(this,Te):null)}}class Wt extends qe.u7{constructor(ie){super(),this.firestore=ie}convertBytes(ie){return new gt(new qe.Jj(ie))}convertReference(ie){const Te=this.convertDocumentKey(ie,this.firestore._databaseId);return We.forKey(Te,this.firestore,null)}}class Pe{constructor(ie,Te){this._firestore=ie,this._delegate=Te,this._userDataWriter=new Wt(ie)}get(ie){const Te=er(ie);return this._delegate.get(Te).then(ct=>new Gt(this._firestore,new qe.xU(this._firestore._delegate,this._userDataWriter,ct._key,ct._document,ct.metadata,Te.converter)))}set(ie,Te,ct){const Lt=er(ie);return ct?(vt("Transaction.set",ct),this._delegate.set(Lt,Te,ct)):this._delegate.set(Lt,Te),this}update(ie,Te,ct,...Lt){const Dn=er(ie);return 2===arguments.length?this._delegate.update(Dn,Te):this._delegate.update(Dn,Te,ct,...Lt),this}delete(ie){const Te=er(ie);return this._delegate.delete(Te),this}}class fe{constructor(ie){this._delegate=ie}set(ie,Te,ct){const Lt=er(ie);return ct?(vt("WriteBatch.set",ct),this._delegate.set(Lt,Te,ct)):this._delegate.set(Lt,Te),this}update(ie,Te,ct,...Lt){const Dn=er(ie);return 2===arguments.length?this._delegate.update(Dn,Te):this._delegate.update(Dn,Te,ct,...Lt),this}delete(ie){const Te=er(ie);return this._delegate.delete(Te),this}commit(){return this._delegate.commit()}}class Oe{constructor(ie,Te,ct){this._firestore=ie,this._userDataWriter=Te,this._delegate=ct}fromFirestore(ie,Te){const ct=new qe.$q(this._firestore._delegate,this._userDataWriter,ie._key,ie._document,ie.metadata,null);return this._delegate.fromFirestore(new Vt(this._firestore,ct),Te??{})}toFirestore(ie,Te){return Te?this._delegate.toFirestore(ie,Te):this._delegate.toFirestore(ie)}static getInstance(ie,Te){const ct=Oe.INSTANCES;let Lt=ct.get(ie);Lt||(Lt=new WeakMap,ct.set(ie,Lt));let Dn=Lt.get(Te);return Dn||(Dn=new Oe(ie,new Wt(ie),Te),Lt.set(Te,Dn)),Dn}}Oe.INSTANCES=new WeakMap;class We{constructor(ie,Te){this.firestore=ie,this._delegate=Te,this._userDataWriter=new Wt(ie)}static forPath(ie,Te,ct){if(ie.length%2!=0)throw new qe.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${ie.canonicalString()} has ${ie.length}`);return new We(Te,new qe.my(Te._delegate,ct,new qe.Ky(ie)))}static forKey(ie,Te,ct){return new We(Te,new qe.my(Te._delegate,ct,ie))}get id(){return this._delegate.id}get parent(){return new un(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(ie){try{return new un(this.firestore,(0,qe.hJ)(this._delegate,ie))}catch(Te){throw Ke(Te,"collection()","DocumentReference.collection()")}}isEqual(ie){return(ie=(0,Be.m9)(ie))instanceof qe.my&&(0,qe.Eo)(this._delegate,ie)}set(ie,Te){Te=vt("DocumentReference.set",Te);try{return Te?(0,qe.pl)(this._delegate,ie,Te):(0,qe.pl)(this._delegate,ie)}catch(ct){throw Ke(ct,"setDoc()","DocumentReference.set()")}}update(ie,Te,...ct){try{return 1===arguments.length?(0,qe.r7)(this._delegate,ie):(0,qe.r7)(this._delegate,ie,Te,...ct)}catch(Lt){throw Ke(Lt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,qe.oe)(this._delegate)}onSnapshot(...ie){const Te=lt(ie),ct=ft(ie,Lt=>new Gt(this.firestore,new qe.xU(this.firestore._delegate,this._userDataWriter,Lt._key,Lt._document,Lt.metadata,this._delegate.converter)));return(0,qe.cf)(this._delegate,Te,ct)}get(ie){let Te;return Te="cache"===ie?.source?(0,qe.kl)(this._delegate):"server"===ie?.source?(0,qe.Xk)(this._delegate):(0,qe.QT)(this._delegate),Te.then(ct=>new Gt(this.firestore,new qe.xU(this.firestore._delegate,this._userDataWriter,ct._key,ct._document,ct.metadata,this._delegate.converter)))}withConverter(ie){return new We(this.firestore,this._delegate.withConverter(ie?Oe.getInstance(this.firestore,ie):null))}}function Ke(Et,ie,Te){return Et.message=Et.message.replace(ie,Te),Et}function lt(Et){for(const ie of Et)if("object"==typeof ie&&!Ut(ie))return ie;return{}}function ft(Et,ie){var Te,ct;let Lt;return Lt=Ut(Et[0])?Et[0]:Ut(Et[1])?Et[1]:"function"==typeof Et[0]?{next:Et[0],error:Et[1],complete:Et[2]}:{next:Et[1],error:Et[2],complete:Et[3]},{next:Dn=>{Lt.next&&Lt.next(ie(Dn))},error:null===(Te=Lt.error)||void 0===Te?void 0:Te.bind(Lt),complete:null===(ct=Lt.complete)||void 0===ct?void 0:ct.bind(Lt)}}class Gt{constructor(ie,Te){this._firestore=ie,this._delegate=Te}get ref(){return new We(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(ie){return this._delegate.data(ie)}get(ie,Te){return this._delegate.get(ie,Te)}isEqual(ie){return(0,qe.qK)(this._delegate,ie._delegate)}}class Vt extends Gt{data(ie){const Te=this._delegate.data(ie);return this._delegate._converter||(0,qe.K9)(void 0!==Te,"Document in a QueryDocumentSnapshot should exist"),Te}}class Bt{constructor(ie,Te){this.firestore=ie,this._delegate=Te,this._userDataWriter=new Wt(ie)}where(ie,Te,ct){try{return new Bt(this.firestore,(0,qe.IO)(this._delegate,(0,qe.ar)(ie,Te,ct)))}catch(Lt){throw Ke(Lt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(ie,Te){try{return new Bt(this.firestore,(0,qe.IO)(this._delegate,(0,qe.Xo)(ie,Te)))}catch(ct){throw Ke(ct,/(orderBy|where)\(\)/,"Query.$1()")}}limit(ie){try{return new Bt(this.firestore,(0,qe.IO)(this._delegate,(0,qe.b9)(ie)))}catch(Te){throw Ke(Te,"limit()","Query.limit()")}}limitToLast(ie){try{return new Bt(this.firestore,(0,qe.IO)(this._delegate,(0,qe.vh)(ie)))}catch(Te){throw Ke(Te,"limitToLast()","Query.limitToLast()")}}startAt(...ie){try{return new Bt(this.firestore,(0,qe.IO)(this._delegate,(0,qe.e0)(...ie)))}catch(Te){throw Ke(Te,"startAt()","Query.startAt()")}}startAfter(...ie){try{return new Bt(this.firestore,(0,qe.IO)(this._delegate,(0,qe.TQ)(...ie)))}catch(Te){throw Ke(Te,"startAfter()","Query.startAfter()")}}endBefore(...ie){try{return new Bt(this.firestore,(0,qe.IO)(this._delegate,(0,qe.Lx)(...ie)))}catch(Te){throw Ke(Te,"endBefore()","Query.endBefore()")}}endAt(...ie){try{return new Bt(this.firestore,(0,qe.IO)(this._delegate,(0,qe.Wu)(...ie)))}catch(Te){throw Ke(Te,"endAt()","Query.endAt()")}}isEqual(ie){return(0,qe.iE)(this._delegate,ie._delegate)}get(ie){let Te;return Te="cache"===ie?.source?(0,qe.UQ)(this._delegate):"server"===ie?.source?(0,qe.zN)(this._delegate):(0,qe.PL)(this._delegate),Te.then(ct=>new jn(this.firestore,new qe.W(this.firestore._delegate,this._userDataWriter,this._delegate,ct._snapshot)))}onSnapshot(...ie){const Te=lt(ie),ct=ft(ie,Lt=>new jn(this.firestore,new qe.W(this.firestore._delegate,this._userDataWriter,this._delegate,Lt._snapshot)));return(0,qe.cf)(this._delegate,Te,ct)}withConverter(ie){return new Bt(this.firestore,this._delegate.withConverter(ie?Oe.getInstance(this.firestore,ie):null))}}class on{constructor(ie,Te){this._firestore=ie,this._delegate=Te}get type(){return this._delegate.type}get doc(){return new Vt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class jn{constructor(ie,Te){this._firestore=ie,this._delegate=Te}get query(){return new Bt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(ie=>new Vt(this._firestore,ie))}docChanges(ie){return this._delegate.docChanges(ie).map(Te=>new on(this._firestore,Te))}forEach(ie,Te){this._delegate.forEach(ct=>{ie.call(Te,new Vt(this._firestore,ct))})}isEqual(ie){return(0,qe.qK)(this._delegate,ie._delegate)}}class un extends Bt{constructor(ie,Te){super(ie,Te),this.firestore=ie,this._delegate=Te}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const ie=this._delegate.parent;return ie?new We(this.firestore,ie):null}doc(ie){try{return new We(this.firestore,void 0===ie?(0,qe.JU)(this._delegate):(0,qe.JU)(this._delegate,ie))}catch(Te){throw Ke(Te,"doc()","CollectionReference.doc()")}}add(ie){return(0,qe.ET)(this._delegate,ie).then(Te=>new We(this.firestore,Te))}isEqual(ie){return(0,qe.Eo)(this._delegate,ie._delegate)}withConverter(ie){return new un(this.firestore,this._delegate.withConverter(ie?Oe.getInstance(this.firestore,ie):null))}}function er(Et){return(0,qe.Cf)(Et,qe.my)}class qt{constructor(...ie){this._delegate=new qe.Lz(...ie)}static documentId(){return new qt(qe.Xb.keyField().canonicalString())}isEqual(ie){return(ie=(0,Be.m9)(ie))instanceof qe.Lz&&this._delegate._internalPath.isEqual(ie._internalPath)}}class an{constructor(ie){this._delegate=ie}static serverTimestamp(){const ie=(0,qe.Bt)();return ie._methodName="FieldValue.serverTimestamp",new an(ie)}static delete(){const ie=(0,qe.AK)();return ie._methodName="FieldValue.delete",new an(ie)}static arrayUnion(...ie){const Te=(0,qe.vr)(...ie);return Te._methodName="FieldValue.arrayUnion",new an(Te)}static arrayRemove(...ie){const Te=(0,qe.Ab)(...ie);return Te._methodName="FieldValue.arrayRemove",new an(Te)}static increment(ie){const Te=(0,qe.nP)(ie);return Te._methodName="FieldValue.increment",new an(Te)}isEqual(ie){return this._delegate.isEqual(ie._delegate)}}const mn={Firestore:Rt,GeoPoint:qe.F8,Timestamp:qe.EK,Blob:gt,Transaction:Pe,WriteBatch:fe,DocumentReference:We,DocumentSnapshot:Gt,Query:Bt,QueryDocumentSnapshot:Vt,QuerySnapshot:jn,CollectionReference:un,FieldPath:qt,FieldValue:an,setLogLevel:function nt(Et){(0,qe.Ub)(Et)},CACHE_SIZE_UNLIMITED:qe.IX};!function $t(Et){(function vn(Et,ie){Et.INTERNAL.registerComponent(new Xe.wA("firestore-compat",Te=>{const ct=Te.getProvider("app-compat").getImmediate(),Lt=Te.getProvider("firestore").getImmediate();return ie(ct,Lt)},"PUBLIC").setServiceProps(Object.assign({},mn)))})(Et,(ie,Te)=>new Rt(ie,Te,new _t)),Et.registerVersion("@firebase/firestore-compat","0.3.32")}(Xt.Z);var li=j(7142);function ur(Et,ie){return function In(Et,ie=we.z){return new he.y(Te=>{let ct;return null!=ie?ie.schedule(()=>{ct=Et.onSnapshot({includeMetadataChanges:!0},Te)}):ct=Et.onSnapshot({includeMetadataChanges:!0},Te),()=>{ct?.()}})}(Et,ie)}function Ot(Et,ie){return ur(Et,ie).pipe((0,Je.U)(Te=>({payload:Te,type:"query"})))}class fn{ref;afs;constructor(ie,Te){this.ref=ie,this.afs=Te}set(ie,Te){return this.ref.set(ie,Te)}update(ie){return this.ref.update(ie)}delete(){return this.ref.delete()}collection(ie,Te){const ct=this.ref.collection(ie),{ref:Lt,query:Dn}=gr(ct,Te);return new Ir(Lt,Dn,this.afs)}snapshotChanges(){return function On(Et,ie){return ur(Et,ie).pipe((0,ue.O)(void 0),ut(),(0,Je.U)(Te=>{const[ct,Lt]=Te;return Lt.exists?ct?.exists?{payload:Lt,type:"modified"}:{payload:Lt,type:"added"}:{payload:Lt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(W.iC)}valueChanges(ie={}){return this.snapshotChanges().pipe((0,Je.U)(({payload:Te})=>ie.idField?{...Te.data(),[ie.idField]:Te.id}:Te.data()))}get(ie){return(0,Ce.D)(this.ref.get(ie)).pipe(W.iC)}}function wn(Et,ie){return Ot(Et,ie).pipe((0,ue.O)(void 0),ut(),(0,Je.U)(Te=>{const[ct,Lt]=Te,Dn=Lt.payload.docChanges(),oi=Dn.map(xt=>({type:xt.type,payload:xt}));return ct&&JSON.stringify(ct.payload.metadata)!==JSON.stringify(Lt.payload.metadata)&&Lt.payload.docs.forEach((xt,oe)=>{const Q=Dn.find(U=>U.doc.ref.isEqual(xt.ref)),H=ct?.payload.docs.find(U=>U.ref.isEqual(xt.ref));Q&&JSON.stringify(Q.doc.metadata)===JSON.stringify(xt.metadata)||!Q&&H&&JSON.stringify(H.metadata)===JSON.stringify(xt.metadata)||oi.push({type:"modified",payload:{oldIndex:oe,newIndex:oe,type:"modified",doc:xt}})}),oi}))}function _n(Et,ie,Te){return wn(Et,Te).pipe((0,Mt.R)((ct,Lt)=>function br(Et,ie,Te){return ie.forEach(ct=>{Te.indexOf(ct.type)>-1&&(Et=function Nn(Et,ie){switch(ie.type){case"added":if(!Et[ie.newIndex]||!Et[ie.newIndex].doc.ref.isEqual(ie.doc.ref))return _r(Et,ie.newIndex,0,ie);break;case"modified":if(null==Et[ie.oldIndex]||Et[ie.oldIndex].doc.ref.isEqual(ie.doc.ref)){if(ie.oldIndex!==ie.newIndex){const Te=Et.slice();return Te.splice(ie.oldIndex,1),Te.splice(ie.newIndex,0,ie),Te}return _r(Et,ie.newIndex,1,ie)}break;case"removed":if(Et[ie.oldIndex]&&Et[ie.oldIndex].doc.ref.isEqual(ie.doc.ref))return _r(Et,ie.oldIndex,1)}return Et}(Et,ct))}),Et}(ct,Lt.map(Dn=>Dn.payload),ie),[]),(0,dt.x)(),(0,Je.U)(ct=>ct.map(Lt=>({type:Lt.type,payload:Lt}))))}function _r(Et,ie,Te,...ct){const Lt=Et.slice();return Lt.splice(ie,Te,...ct),Lt}function Pn(Et){return(!Et||0===Et.length)&&(Et=["added","removed","modified"]),Et}class Ir{ref;query;afs;constructor(ie,Te,ct){this.ref=ie,this.query=Te,this.afs=ct}stateChanges(ie){let Te=wn(this.query,this.afs.schedulers.outsideAngular);return ie&&ie.length>0&&(Te=Te.pipe((0,Je.U)(ct=>ct.filter(Lt=>ie.indexOf(Lt.type)>-1)))),Te.pipe((0,ue.O)(void 0),ut(),(0,Ct.h)(([ct,Lt])=>Lt.length>0||!ct),(0,Je.U)(([,ct])=>ct),W.iC)}auditTrail(ie){return this.stateChanges(ie).pipe((0,Mt.R)((Te,ct)=>[...Te,...ct],[]))}snapshotChanges(ie){const Te=Pn(ie);return _n(this.query,Te,this.afs.schedulers.outsideAngular).pipe(W.iC)}valueChanges(ie={}){return Ot(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(Te=>Te.payload.docs.map(ct=>ie.idField?{...ct.data(),[ie.idField]:ct.id}:ct.data())),W.iC)}get(ie){return(0,Ce.D)(this.query.get(ie)).pipe(W.iC)}add(ie){return this.ref.add(ie)}doc(ie){return new fn(this.ref.doc(ie),this.afs)}}class ui{query;afs;constructor(ie,Te){this.query=ie,this.afs=Te}stateChanges(ie){return ie&&0!==ie.length?wn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(Te=>Te.filter(ct=>ie.indexOf(ct.type)>-1)),(0,Ct.h)(Te=>Te.length>0),W.iC):wn(this.query,this.afs.schedulers.outsideAngular).pipe(W.iC)}auditTrail(ie){return this.stateChanges(ie).pipe((0,Mt.R)((Te,ct)=>[...Te,...ct],[]))}snapshotChanges(ie){const Te=Pn(ie);return _n(this.query,Te,this.afs.schedulers.outsideAngular).pipe(W.iC)}valueChanges(ie={}){return Ot(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(ct=>ct.payload.docs.map(Lt=>ie.idField?{[ie.idField]:Lt.id,...Lt.data()}:Lt.data())),W.iC)}get(ie){return(0,Ce.D)(this.query.get(ie)).pipe(W.iC)}}const Kt=new u.OlP("angularfire2.enableFirestorePersistence"),si=new u.OlP("angularfire2.firestore.persistenceSettings"),Hn=new u.OlP("angularfire2.firestore.settings"),pr=new u.OlP("angularfire2.firestore.use-emulator");function gr(Et,ie=(Te=>Te)){return{query:ie(Et),ref:Et}}let Yr=(()=>{class Et{schedulers;firestore;persistenceEnabled$;constructor(Te,ct,Lt,Dn,oi,xt,oe,Q,H,U,F,ce,xe,pt,Pt,Jt,Yt){this.schedulers=oe;const en=(0,ve.on)(Te,xt,ct),Gn=H;U&&(0,_e.nw)(en,xt,F,xe,pt,Pt,ce,Jt),[this.firestore,this.persistenceEnabled$]=(0,ve.cc)(`${en.name}.firestore`,"AngularFirestore",en.name,()=>{const Sn=xt.runOutsideAngular(()=>en.firestore());if(Dn&&Sn.settings(Dn),Gn&&Sn.useEmulator(...Gn),Lt&&!(0,I.PM)(oi)){const yi=()=>{try{return(0,Ce.D)(Sn.enablePersistence(Q||void 0).then(()=>!0,()=>!1))}catch(xs){return typeof console<"u"&&console.warn(xs),(0,De.of)(!1)}};return[Sn,xt.runOutsideAngular(yi)]}return[Sn,(0,De.of)(!1)]},[Dn,Gn,Lt])}collection(Te,ct){let Lt;Lt="string"==typeof Te?this.firestore.collection(Te):Te;const{ref:Dn,query:oi}=gr(Lt,ct),xt=this.schedulers.ngZone.run(()=>Dn);return new Ir(xt,oi,this)}collectionGroup(Te,ct){const Lt=ct||(oi=>oi),Dn=this.firestore.collectionGroup(Te);return new ui(Lt(Dn),this)}doc(Te){let ct;ct="string"==typeof Te?this.firestore.doc(Te):Te;const Lt=this.schedulers.ngZone.run(()=>ct);return new fn(Lt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(ct){return new(ct||Et)(u.LFG(ve.Dh),u.LFG(ve.xv,8),u.LFG(Kt,8),u.LFG(Hn,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(W.HU),u.LFG(si,8),u.LFG(pr,8),u.LFG(_e.zQ,8),u.LFG(_e.Qv,8),u.LFG(_e.L6,8),u.LFG(_e._Q,8),u.LFG(_e.rT,8),u.LFG(_e.lh,8),u.LFG(_e.f7,8),u.LFG(W.Rf,8))};static \u0275prov=u.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"any"})}return Et})(),je=(()=>{class Et{constructor(){li.Z.registerVersion("angularfire",W.q4.full,"fst-compat")}static enablePersistence(Te){return{ngModule:Et,providers:[{provide:Kt,useValue:!0},{provide:si,useValue:Te}]}}static \u0275fac=function(ct){return new(ct||Et)};static \u0275mod=u.oAB({type:Et});static \u0275inj=u.cJS({providers:[Yr]})}return Et})()},7217:(zt,$e,j)=>{j.d($e,{Dh:()=>Ce,GT:()=>we,Ot:()=>he,cc:()=>Je,hO:()=>ut,on:()=>ue,pX:()=>_e,xv:()=>De});var I=j(5879),u=j(1920),W=j(7142);const ve=["ngOnDestroy"],_e=(mt,Xt,qe,Be={})=>new Proxy(mt,{get:(Xe,Ue)=>qe.runOutsideAngular(()=>{if(mt[Ue])return Be?.spy?.get&&Be.spy.get(Ue,mt[Ue]),mt[Ue];if(ve.indexOf(Ue)>-1)return()=>{};const et=Xt.toPromise().then(vt=>{const ze=vt?.[Ue];return"function"==typeof ze?ze.bind(vt):ze?.then?ze.then(de=>qe.run(()=>de)):qe.run(()=>ze)});return new Proxy(()=>{},{get:(vt,ze)=>et[ze],apply:(vt,ze,de)=>et.then(gt=>{const Ut=gt?.(...de);return Be?.spy?.apply&&Be.spy.apply(Ue,de,Ut),Ut})})})}),we=(mt,Xt)=>{Xt.forEach(qe=>{Object.getOwnPropertyNames(qe.prototype||qe).forEach(Be=>{Object.defineProperty(mt.prototype,Be,Object.getOwnPropertyDescriptor(qe.prototype||qe,Be))})})};class he{constructor(Xt){return Xt}}const Ce=new I.OlP("angularfire2.app.options"),De=new I.OlP("angularfire2.app.name");function ue(mt,Xt,qe){const Xe="object"==typeof qe&&qe||{};Xe.name=Xe.name||"string"==typeof qe&&qe||"[DEFAULT]";const et=W.Z.apps.filter(vt=>vt&&vt.name===Xe.name)[0]||Xt.runOutsideAngular(()=>W.Z.initializeApp(mt,Xe));try{if(JSON.stringify(mt)!==JSON.stringify(et.options)){const vt=!!module.hot;ge("error",`${et.name} Firebase App already initialized with different options${vt?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new he(et)}const ge=(mt,...Xt)=>{(0,I.X6Q)()&&typeof console<"u"&&console[mt](...Xt)},Me={provide:he,useFactory:ue,deps:[Ce,I.R0b,[new I.FiY,De]]};let ut=(()=>{class mt{static initializeApp(qe,Be){return{ngModule:mt,providers:[{provide:Ce,useValue:qe},{provide:De,useValue:Be}]}}constructor(qe){W.Z.registerVersion("angularfire",u.q4.full,"core"),W.Z.registerVersion("angularfire",u.q4.full,"app-compat"),W.Z.registerVersion("angular",I.q4F.full,qe.toString())}static \u0275fac=function(Be){return new(Be||mt)(I.LFG(I.Lbi))};static \u0275mod=I.oAB({type:mt});static \u0275inj=I.cJS({providers:[Me]})}return mt})();function Je(mt,Xt,qe,Be,Xe){const[,Ue,et]=globalThis.\u0275AngularfireInstanceCache.find(vt=>vt[0]===mt)||[];if(Ue)return function Mt(mt,Xt){try{return mt.toString()===Xt.toString()}catch{return mt===Xt}}(Xe,et)||(Ct("error",`${Xt} was already initialized on the ${qe} Firebase App with different settings.${dt?" You may need to reload as Firebase is not HMR aware.":""}`),Ct("warn",{is:Xe,was:et})),Ue;{const vt=Be();return globalThis.\u0275AngularfireInstanceCache.push([mt,vt,Xe]),vt}}const dt=typeof module<"u"&&!!module.hot,Ct=(mt,...Xt)=>{(0,I.X6Q)()&&typeof console<"u"&&console[mt](...Xt)};globalThis.\u0275AngularfireInstanceCache||=[]},1920:(zt,$e,j)=>{j.d($e,{q4:()=>Je,iC:()=>Ut,fc:()=>de,HU:()=>Ue,Rf:()=>mt,vb:()=>Ct,JM:()=>dt,u3:()=>Rt});var I=j(5879),u=j(3182),W=j(1954),_e=j(2631);const he=new class we extends _e.v{}(class ve extends W.o{constructor(nt,Pe){super(nt,Pe),this.scheduler=nt,this.work=Pe}schedule(nt,Pe=0){return Pe>0?super.schedule(nt,Pe):(this.delay=Pe,this.state=nt,this.scheduler.flush(this),this)}execute(nt,Pe){return Pe>0||this.closed?super.execute(nt,Pe):this._execute(nt,Pe)}requestAsyncId(nt,Pe,fe=0){return null!=fe&&fe>0||null==fe&&this.delay>0?super.requestAsyncId(nt,Pe,fe):(nt.flush(this),0)}});var De=j(6321),ue=j(5592),ge=j(9397),Me=j(3093),ut=j(5137);const Je=new I.GfV("ANGULARFIRE2_VERSION");function dt(Wt,nt,Pe){if(nt){if(1===nt.length)return nt[0];const We=nt.filter(Ke=>Ke.app===Pe);if(1===We.length)return We[0]}return Pe.container.getProvider(Wt).getImmediate({optional:!0})}const Ct=(Wt,nt)=>{const Pe=nt?[nt]:(0,u.C6)(),fe=[];return Pe.forEach(Oe=>{Oe.container.getProvider(Wt).instances.forEach(Ke=>{fe.includes(Ke)||fe.push(Ke)})}),fe};class mt{constructor(){return Ct(Xt)}}const Xt="app-check";function qe(){}class Be{zone;delegate;constructor(nt,Pe=he){this.zone=nt,this.delegate=Pe}now(){return this.delegate.now()}schedule(nt,Pe,fe){const Oe=this.zone;return this.delegate.schedule(function(Ke){Oe.runGuarded(()=>{nt.apply(this,[Ke])})},Pe,fe)}}class Xe{zone;task=null;constructor(nt){this.zone=nt}call(nt,Pe){const fe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qe,{},qe,qe)),Pe.pipe((0,ge.b)({next:fe,complete:fe,error:fe})).subscribe(nt).add(fe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ue=(()=>{class Wt{ngZone;outsideAngular;insideAngular;constructor(Pe){this.ngZone=Pe,this.outsideAngular=Pe.runOutsideAngular(()=>new Be(Zone.current)),this.insideAngular=Pe.run(()=>new Be(Zone.current,De.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(fe){return new(fe||Wt)(I.LFG(I.R0b))};static \u0275prov=I.Yz7({token:Wt,factory:Wt.\u0275fac,providedIn:"root"})}return Wt})();function et(){const Wt=globalThis.\u0275AngularFireScheduler;if(!Wt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Wt}function ze(Wt){return et().ngZone.run(()=>Wt())}function de(Wt){return Wt.pipe((0,Me.Q)(et().outsideAngular))}function Ut(Wt){return function Bn(Wt){return function(Pe){return(Pe=Pe.lift(new Xe(Wt.ngZone))).pipe((0,ut.R)(Wt.outsideAngular),(0,Me.Q)(Wt.insideAngular))}}(et())(Wt)}const _t=(Wt,nt)=>function(){const fe=arguments;return nt&&setTimeout(()=>{"scheduled"===nt.state&&nt.invoke()},10),ze(()=>Wt.apply(void 0,fe))},Rt=(Wt,nt)=>function(){let Pe;const fe=arguments;for(let We=0;We<arguments.length;We++)"function"==typeof fe[We]&&(nt&&(Pe||=ze(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qe,{},qe,qe))),fe[We]=_t(fe[We],Pe));const Oe=function vt(Wt){return et().ngZone.runOutsideAngular(()=>Wt())}(()=>Wt.apply(this,fe));if(!nt){if(Oe instanceof ue.y){const We=et();return Oe.pipe((0,ut.R)(We.outsideAngular),(0,Me.Q)(We.insideAngular))}return ze(()=>Oe)}return Oe instanceof ue.y?Oe.pipe(Ut):Oe instanceof Promise?ze(()=>new Promise((We,Ke)=>Oe.then(lt=>ze(()=>We(lt)),lt=>ze(()=>Ke(lt))))):"function"==typeof Oe&&Pe?function(){return setTimeout(()=>{Pe&&"scheduled"===Pe.state&&Pe.invoke()},10),Oe.apply(this,arguments)}:ze(()=>Oe)}},6593:(zt,$e,j)=>{j.d($e,{Dx:()=>ur,H7:()=>Yr,b2:()=>mn,q6:()=>un,se:()=>ze});var I=j(5879),u=j(6814);class W extends u.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ve extends W{static makeCurrent(){(0,u.HT)(new ve)}onAndCancel(H,U,F){return H.addEventListener(U,F),()=>{H.removeEventListener(U,F)}}dispatchEvent(H,U){H.dispatchEvent(U)}remove(H){H.parentNode&&H.parentNode.removeChild(H)}createElement(H,U){return(U=U||this.getDefaultDocument()).createElement(H)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(H){return H.nodeType===Node.ELEMENT_NODE}isShadowRoot(H){return H instanceof DocumentFragment}getGlobalEventTarget(H,U){return"window"===U?window:"document"===U?H:"body"===U?H.body:null}getBaseHref(H){const U=function we(){return _e=_e||document.querySelector("base"),_e?_e.getAttribute("href"):null}();return null==U?null:function Ce(Q){he=he||document.createElement("a"),he.setAttribute("href",Q);const H=he.pathname;return"/"===H.charAt(0)?H:`/${H}`}(U)}resetBaseElement(){_e=null}getUserAgent(){return window.navigator.userAgent}getCookie(H){return(0,u.Mx)(document.cookie,H)}}let he,_e=null,ue=(()=>{class Q{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(F){return new(F||Q)};static#t=this.\u0275prov=I.Yz7({token:Q,factory:Q.\u0275fac})}return Q})();const ge=new I.OlP("EventManagerPlugins");let Me=(()=>{class Q{constructor(U,F){this._zone=F,this._eventNameToPlugin=new Map,U.forEach(ce=>{ce.manager=this}),this._plugins=U.slice().reverse()}addEventListener(U,F,ce){return this._findPluginFor(F).addEventListener(U,F,ce)}getZone(){return this._zone}_findPluginFor(U){let F=this._eventNameToPlugin.get(U);if(F)return F;if(F=this._plugins.find(xe=>xe.supports(U)),!F)throw new I.vHH(5101,!1);return this._eventNameToPlugin.set(U,F),F}static#e=this.\u0275fac=function(F){return new(F||Q)(I.LFG(ge),I.LFG(I.R0b))};static#t=this.\u0275prov=I.Yz7({token:Q,factory:Q.\u0275fac})}return Q})();class ut{constructor(H){this._doc=H}}const Je="ng-app-id";let Mt=(()=>{class Q{constructor(U,F,ce,xe={}){this.doc=U,this.appId=F,this.nonce=ce,this.platformId=xe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,u.PM)(xe),this.resetHostNodes()}addStyles(U){for(const F of U)1===this.changeUsageCount(F,1)&&this.onStyleAdded(F)}removeStyles(U){for(const F of U)this.changeUsageCount(F,-1)<=0&&this.onStyleRemoved(F)}ngOnDestroy(){const U=this.styleNodesInDOM;U&&(U.forEach(F=>F.remove()),U.clear());for(const F of this.getAllStyles())this.onStyleRemoved(F);this.resetHostNodes()}addHost(U){this.hostNodes.add(U);for(const F of this.getAllStyles())this.addStyleToHost(U,F)}removeHost(U){this.hostNodes.delete(U)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(U){for(const F of this.hostNodes)this.addStyleToHost(F,U)}onStyleRemoved(U){const F=this.styleRef;F.get(U)?.elements?.forEach(ce=>ce.remove()),F.delete(U)}collectServerRenderedStyles(){const U=this.doc.head?.querySelectorAll(`style[${Je}="${this.appId}"]`);if(U?.length){const F=new Map;return U.forEach(ce=>{null!=ce.textContent&&F.set(ce.textContent,ce)}),F}return null}changeUsageCount(U,F){const ce=this.styleRef;if(ce.has(U)){const xe=ce.get(U);return xe.usage+=F,xe.usage}return ce.set(U,{usage:F,elements:[]}),F}getStyleElement(U,F){const ce=this.styleNodesInDOM,xe=ce?.get(F);if(xe?.parentNode===U)return ce.delete(F),xe.removeAttribute(Je),xe;{const pt=this.doc.createElement("style");return this.nonce&&pt.setAttribute("nonce",this.nonce),pt.textContent=F,this.platformIsServer&&pt.setAttribute(Je,this.appId),pt}}addStyleToHost(U,F){const ce=this.getStyleElement(U,F);U.appendChild(ce);const xe=this.styleRef,pt=xe.get(F)?.elements;pt?pt.push(ce):xe.set(F,{elements:[ce],usage:1})}resetHostNodes(){const U=this.hostNodes;U.clear(),U.add(this.doc.head)}static#e=this.\u0275fac=function(F){return new(F||Q)(I.LFG(u.K0),I.LFG(I.AFp),I.LFG(I.Ojb,8),I.LFG(I.Lbi))};static#t=this.\u0275prov=I.Yz7({token:Q,factory:Q.\u0275fac})}return Q})();const dt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ct=/%COMP%/g,Xe=new I.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function vt(Q,H){return H.map(U=>U.replace(Ct,Q))}let ze=(()=>{class Q{constructor(U,F,ce,xe,pt,Pt,Jt,Yt=null){this.eventManager=U,this.sharedStylesHost=F,this.appId=ce,this.removeStylesOnCompDestroy=xe,this.doc=pt,this.platformId=Pt,this.ngZone=Jt,this.nonce=Yt,this.rendererByCompId=new Map,this.platformIsServer=(0,u.PM)(Pt),this.defaultRenderer=new de(U,pt,Jt,this.platformIsServer)}createRenderer(U,F){if(!U||!F)return this.defaultRenderer;this.platformIsServer&&F.encapsulation===I.ifc.ShadowDom&&(F={...F,encapsulation:I.ifc.Emulated});const ce=this.getOrCreateRenderer(U,F);return ce instanceof Wt?ce.applyToHost(U):ce instanceof Rt&&ce.applyStyles(),ce}getOrCreateRenderer(U,F){const ce=this.rendererByCompId;let xe=ce.get(F.id);if(!xe){const pt=this.doc,Pt=this.ngZone,Jt=this.eventManager,Yt=this.sharedStylesHost,en=this.removeStylesOnCompDestroy,Gn=this.platformIsServer;switch(F.encapsulation){case I.ifc.Emulated:xe=new Wt(Jt,Yt,F,this.appId,en,pt,Pt,Gn);break;case I.ifc.ShadowDom:return new _t(Jt,Yt,U,F,pt,Pt,this.nonce,Gn);default:xe=new Rt(Jt,Yt,F,en,pt,Pt,Gn)}ce.set(F.id,xe)}return xe}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(F){return new(F||Q)(I.LFG(Me),I.LFG(Mt),I.LFG(I.AFp),I.LFG(Xe),I.LFG(u.K0),I.LFG(I.Lbi),I.LFG(I.R0b),I.LFG(I.Ojb))};static#t=this.\u0275prov=I.Yz7({token:Q,factory:Q.\u0275fac})}return Q})();class de{constructor(H,U,F,ce){this.eventManager=H,this.doc=U,this.ngZone=F,this.platformIsServer=ce,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(H,U){return U?this.doc.createElementNS(dt[U]||U,H):this.doc.createElement(H)}createComment(H){return this.doc.createComment(H)}createText(H){return this.doc.createTextNode(H)}appendChild(H,U){(Bn(H)?H.content:H).appendChild(U)}insertBefore(H,U,F){H&&(Bn(H)?H.content:H).insertBefore(U,F)}removeChild(H,U){H&&H.removeChild(U)}selectRootElement(H,U){let F="string"==typeof H?this.doc.querySelector(H):H;if(!F)throw new I.vHH(-5104,!1);return U||(F.textContent=""),F}parentNode(H){return H.parentNode}nextSibling(H){return H.nextSibling}setAttribute(H,U,F,ce){if(ce){U=ce+":"+U;const xe=dt[ce];xe?H.setAttributeNS(xe,U,F):H.setAttribute(U,F)}else H.setAttribute(U,F)}removeAttribute(H,U,F){if(F){const ce=dt[F];ce?H.removeAttributeNS(ce,U):H.removeAttribute(`${F}:${U}`)}else H.removeAttribute(U)}addClass(H,U){H.classList.add(U)}removeClass(H,U){H.classList.remove(U)}setStyle(H,U,F,ce){ce&(I.JOm.DashCase|I.JOm.Important)?H.style.setProperty(U,F,ce&I.JOm.Important?"important":""):H.style[U]=F}removeStyle(H,U,F){F&I.JOm.DashCase?H.style.removeProperty(U):H.style[U]=""}setProperty(H,U,F){H[U]=F}setValue(H,U){H.nodeValue=U}listen(H,U,F){if("string"==typeof H&&!(H=(0,u.q)().getGlobalEventTarget(this.doc,H)))throw new Error(`Unsupported event target ${H} for event ${U}`);return this.eventManager.addEventListener(H,U,this.decoratePreventDefault(F))}decoratePreventDefault(H){return U=>{if("__ngUnwrap__"===U)return H;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>H(U)):H(U))&&U.preventDefault()}}}function Bn(Q){return"TEMPLATE"===Q.tagName&&void 0!==Q.content}class _t extends de{constructor(H,U,F,ce,xe,pt,Pt,Jt){super(H,xe,pt,Jt),this.sharedStylesHost=U,this.hostEl=F,this.shadowRoot=F.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Yt=vt(ce.id,ce.styles);for(const en of Yt){const Gn=document.createElement("style");Pt&&Gn.setAttribute("nonce",Pt),Gn.textContent=en,this.shadowRoot.appendChild(Gn)}}nodeOrShadowRoot(H){return H===this.hostEl?this.shadowRoot:H}appendChild(H,U){return super.appendChild(this.nodeOrShadowRoot(H),U)}insertBefore(H,U,F){return super.insertBefore(this.nodeOrShadowRoot(H),U,F)}removeChild(H,U){return super.removeChild(this.nodeOrShadowRoot(H),U)}parentNode(H){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(H)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Rt extends de{constructor(H,U,F,ce,xe,pt,Pt,Jt){super(H,xe,pt,Pt),this.sharedStylesHost=U,this.removeStylesOnCompDestroy=ce,this.styles=Jt?vt(Jt,F.styles):F.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Wt extends Rt{constructor(H,U,F,ce,xe,pt,Pt,Jt){const Yt=ce+"-"+F.id;super(H,U,F,xe,pt,Pt,Jt,Yt),this.contentAttr=function Ue(Q){return"_ngcontent-%COMP%".replace(Ct,Q)}(Yt),this.hostAttr=function et(Q){return"_nghost-%COMP%".replace(Ct,Q)}(Yt)}applyToHost(H){this.applyStyles(),this.setAttribute(H,this.hostAttr,"")}createElement(H,U){const F=super.createElement(H,U);return super.setAttribute(F,this.contentAttr,""),F}}let nt=(()=>{class Q extends ut{constructor(U){super(U)}supports(U){return!0}addEventListener(U,F,ce){return U.addEventListener(F,ce,!1),()=>this.removeEventListener(U,F,ce)}removeEventListener(U,F,ce){return U.removeEventListener(F,ce)}static#e=this.\u0275fac=function(F){return new(F||Q)(I.LFG(u.K0))};static#t=this.\u0275prov=I.Yz7({token:Q,factory:Q.\u0275fac})}return Q})();const Pe=["alt","control","meta","shift"],fe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Oe={alt:Q=>Q.altKey,control:Q=>Q.ctrlKey,meta:Q=>Q.metaKey,shift:Q=>Q.shiftKey};let We=(()=>{class Q extends ut{constructor(U){super(U)}supports(U){return null!=Q.parseEventName(U)}addEventListener(U,F,ce){const xe=Q.parseEventName(F),pt=Q.eventCallback(xe.fullKey,ce,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,u.q)().onAndCancel(U,xe.domEventName,pt))}static parseEventName(U){const F=U.toLowerCase().split("."),ce=F.shift();if(0===F.length||"keydown"!==ce&&"keyup"!==ce)return null;const xe=Q._normalizeKey(F.pop());let pt="",Pt=F.indexOf("code");if(Pt>-1&&(F.splice(Pt,1),pt="code."),Pe.forEach(Yt=>{const en=F.indexOf(Yt);en>-1&&(F.splice(en,1),pt+=Yt+".")}),pt+=xe,0!=F.length||0===xe.length)return null;const Jt={};return Jt.domEventName=ce,Jt.fullKey=pt,Jt}static matchEventFullKeyCode(U,F){let ce=fe[U.key]||U.key,xe="";return F.indexOf("code.")>-1&&(ce=U.code,xe="code."),!(null==ce||!ce)&&(ce=ce.toLowerCase()," "===ce?ce="space":"."===ce&&(ce="dot"),Pe.forEach(pt=>{pt!==ce&&(0,Oe[pt])(U)&&(xe+=pt+".")}),xe+=ce,xe===F)}static eventCallback(U,F,ce){return xe=>{Q.matchEventFullKeyCode(xe,U)&&ce.runGuarded(()=>F(xe))}}static _normalizeKey(U){return"esc"===U?"escape":U}static#e=this.\u0275fac=function(F){return new(F||Q)(I.LFG(u.K0))};static#t=this.\u0275prov=I.Yz7({token:Q,factory:Q.\u0275fac})}return Q})();const un=(0,I.eFA)(I._c5,"browser",[{provide:I.Lbi,useValue:u.bD},{provide:I.g9A,useValue:function Vt(){ve.makeCurrent()},multi:!0},{provide:u.K0,useFactory:function on(){return(0,I.RDi)(document),document},deps:[]}]),er=new I.OlP(""),qt=[{provide:I.rWj,useClass:class De{addToWindow(H){I.dqk.getAngularTestability=(F,ce=!0)=>{const xe=H.findTestabilityInTree(F,ce);if(null==xe)throw new I.vHH(5103,!1);return xe},I.dqk.getAllAngularTestabilities=()=>H.getAllTestabilities(),I.dqk.getAllAngularRootElements=()=>H.getAllRootElements(),I.dqk.frameworkStabilizers||(I.dqk.frameworkStabilizers=[]),I.dqk.frameworkStabilizers.push(F=>{const ce=I.dqk.getAllAngularTestabilities();let xe=ce.length,pt=!1;const Pt=function(Jt){pt=pt||Jt,xe--,0==xe&&F(pt)};ce.forEach(Jt=>{Jt.whenStable(Pt)})})}findTestabilityInTree(H,U,F){return null==U?null:H.getTestability(U)??(F?(0,u.q)().isShadowRoot(U)?this.findTestabilityInTree(H,U.host,!0):this.findTestabilityInTree(H,U.parentElement,!0):null)}},deps:[]},{provide:I.lri,useClass:I.dDg,deps:[I.R0b,I.eoX,I.rWj]},{provide:I.dDg,useClass:I.dDg,deps:[I.R0b,I.eoX,I.rWj]}],an=[{provide:I.zSh,useValue:"root"},{provide:I.qLn,useFactory:function Bt(){return new I.qLn},deps:[]},{provide:ge,useClass:nt,multi:!0,deps:[u.K0,I.R0b,I.Lbi]},{provide:ge,useClass:We,multi:!0,deps:[u.K0]},ze,Mt,Me,{provide:I.FYo,useExisting:ze},{provide:u.JF,useClass:ue,deps:[]},[]];let mn=(()=>{class Q{constructor(U){}static withServerTransition(U){return{ngModule:Q,providers:[{provide:I.AFp,useValue:U.appId}]}}static#e=this.\u0275fac=function(F){return new(F||Q)(I.LFG(er,12))};static#t=this.\u0275mod=I.oAB({type:Q});static#n=this.\u0275inj=I.cJS({providers:[...an,...qt],imports:[u.ez,I.hGG]})}return Q})(),ur=(()=>{class Q{constructor(U){this._doc=U}getTitle(){return this._doc.title}setTitle(U){this._doc.title=U||""}static#e=this.\u0275fac=function(F){return new(F||Q)(I.LFG(u.K0))};static#t=this.\u0275prov=I.Yz7({token:Q,factory:function(F){let ce=null;return ce=F?new F:function In(){return new ur((0,I.LFG)(u.K0))}(),ce},providedIn:"root"})}return Q})();typeof window<"u"&&window;let Yr=(()=>{class Q{static#e=this.\u0275fac=function(F){return new(F||Q)};static#t=this.\u0275prov=I.Yz7({token:Q,factory:function(F){let ce=null;return ce=F?new(F||Q):I.LFG(Et),ce},providedIn:"root"})}return Q})(),Et=(()=>{class Q extends Yr{constructor(U){super(),this._doc=U}sanitize(U,F){if(null==F)return null;switch(U){case I.q3G.NONE:return F;case I.q3G.HTML:return(0,I.qzn)(F,"HTML")?(0,I.z3N)(F):(0,I.EiD)(this._doc,String(F)).toString();case I.q3G.STYLE:return(0,I.qzn)(F,"Style")?(0,I.z3N)(F):F;case I.q3G.SCRIPT:if((0,I.qzn)(F,"Script"))return(0,I.z3N)(F);throw new I.vHH(5200,!1);case I.q3G.URL:return(0,I.qzn)(F,"URL")?(0,I.z3N)(F):(0,I.mCW)(String(F));case I.q3G.RESOURCE_URL:if((0,I.qzn)(F,"ResourceURL"))return(0,I.z3N)(F);throw new I.vHH(5201,!1);default:throw new I.vHH(5202,!1)}}bypassSecurityTrustHtml(U){return(0,I.JVY)(U)}bypassSecurityTrustStyle(U){return(0,I.L6k)(U)}bypassSecurityTrustScript(U){return(0,I.eBb)(U)}bypassSecurityTrustUrl(U){return(0,I.LAX)(U)}bypassSecurityTrustResourceUrl(U){return(0,I.pB0)(U)}static#e=this.\u0275fac=function(F){return new(F||Q)(I.LFG(u.K0))};static#t=this.\u0275prov=I.Yz7({token:Q,factory:function(F){let ce=null;return ce=F?new F:function je(Q){return new Et(Q.get(u.K0))}(I.LFG(I.zs3)),ce},providedIn:"root"})}return Q})()},3914:(zt,$e,j)=>{j.d($e,{gz:()=>Gi,m2:()=>zi,F0:()=>Bs,rH:()=>To,Bz:()=>dc,lC:()=>gi});var I=j(5879),u=j(5592),W=j(4674),_e=j(2459),we=j(2096),he=j(5619),Ce=j(2572),De=j(6973),ue=j(5211),ge=j(4829);function Me(S){return new u.y(N=>{(0,ge.Xf)(S()).subscribe(N)})}var ut=j(8407),Je=j(8504),Mt=j(6232),dt=j(7394),Ct=j(9360),mt=j(8251);function Xt(){return(0,Ct.e)((S,N)=>{let w=null;S._refCount++;const k=(0,mt.x)(N,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(w=null);const G=S._connection,re=w;w=null,G&&(!re||G===re)&&G.unsubscribe(),N.unsubscribe()});S.subscribe(k),k.closed||(w=S.connect())})}class qe extends u.y{constructor(N,w){super(),this.source=N,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,Ct.A)(N)&&(this.lift=N.lift)}_subscribe(N){return this.getSubject().subscribe(N)}getSubject(){const N=this._subject;return(!N||N.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:N}=this;this._subject=this._connection=null,N?.unsubscribe()}connect(){let N=this._connection;if(!N){N=this._connection=new dt.w0;const w=this.getSubject();N.add(this.source.subscribe((0,mt.x)(w,void 0,()=>{this._teardown(),w.complete()},k=>{this._teardown(),w.error(k)},()=>this._teardown()))),N.closed&&(this._connection=null,N=dt.w0.EMPTY)}return N}refCount(){return Xt()(this)}}var Be=j(8645),Xe=j(6814),Ue=j(7398),et=j(4664),vt=j(8180),ze=j(7921),de=j(2181),gt=j(1631),Ut=j(1374),Bn=j(6328),_t=j(9397),Rt=j(6306),Wt=j(6699),nt=j(3572);function Pe(S){return S<=0?()=>Mt.E:(0,Ct.e)((N,w)=>{let k=[];N.subscribe((0,mt.x)(w,G=>{k.push(G),S<k.length&&k.shift()},()=>{for(const G of k)w.next(G);w.complete()},void 0,()=>{k=null}))})}var fe=j(3026),Oe=j(2737),lt=j(4716),ft=j(9773),Gt=j(7537),Vt=j(6593);const Bt="primary",on=Symbol("RouteTitle");class jn{constructor(N){this.params=N||{}}has(N){return Object.prototype.hasOwnProperty.call(this.params,N)}get(N){if(this.has(N)){const w=this.params[N];return Array.isArray(w)?w[0]:w}return null}getAll(N){if(this.has(N)){const w=this.params[N];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function un(S){return new jn(S)}function er(S,N,w){const k=w.path.split("/");if(k.length>S.length||"full"===w.pathMatch&&(N.hasChildren()||k.length<S.length))return null;const G={};for(let re=0;re<k.length;re++){const Ee=k[re],rt=S[re];if(Ee.startsWith(":"))G[Ee.substring(1)]=rt;else if(Ee!==rt.path)return null}return{consumed:S.slice(0,k.length),posParams:G}}function an(S,N){const w=S?Object.keys(S):void 0,k=N?Object.keys(N):void 0;if(!w||!k||w.length!=k.length)return!1;let G;for(let re=0;re<w.length;re++)if(G=w[re],!mn(S[G],N[G]))return!1;return!0}function mn(S,N){if(Array.isArray(S)&&Array.isArray(N)){if(S.length!==N.length)return!1;const w=[...S].sort(),k=[...N].sort();return w.every((G,re)=>k[re]===G)}return S===N}function vn(S){return S.length>0?S[S.length-1]:null}function $t(S){return function ve(S){return!!S&&(S instanceof u.y||(0,W.m)(S.lift)&&(0,W.m)(S.subscribe))}(S)?S:(0,I.QGY)(S)?(0,_e.D)(Promise.resolve(S)):(0,we.of)(S)}const li={exact:function Ot(S,N,w){if(!ui(S.segments,N.segments)||!br(S.segments,N.segments,w)||S.numberOfChildren!==N.numberOfChildren)return!1;for(const k in N.children)if(!S.children[k]||!Ot(S.children[k],N.children[k],w))return!1;return!0},subset:wn},In={exact:function On(S,N){return an(S,N)},subset:function fn(S,N){return Object.keys(N).length<=Object.keys(S).length&&Object.keys(N).every(w=>mn(S[w],N[w]))},ignored:()=>!0};function ur(S,N,w){return li[w.paths](S.root,N.root,w.matrixParams)&&In[w.queryParams](S.queryParams,N.queryParams)&&!("exact"===w.fragment&&S.fragment!==N.fragment)}function wn(S,N,w){return _n(S,N,N.segments,w)}function _n(S,N,w,k){if(S.segments.length>w.length){const G=S.segments.slice(0,w.length);return!(!ui(G,w)||N.hasChildren()||!br(G,w,k))}if(S.segments.length===w.length){if(!ui(S.segments,w)||!br(S.segments,w,k))return!1;for(const G in N.children)if(!S.children[G]||!wn(S.children[G],N.children[G],k))return!1;return!0}{const G=w.slice(0,S.segments.length),re=w.slice(S.segments.length);return!!(ui(S.segments,G)&&br(S.segments,G,k)&&S.children[Bt])&&_n(S.children[Bt],N,re,k)}}function br(S,N,w){return N.every((k,G)=>In[w](S[G].parameters,k.parameters))}class _r{constructor(N=new Nn([],{}),w={},k=null){this.root=N,this.queryParams=w,this.fragment=k}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=un(this.queryParams)),this._queryParamMap}toString(){return pr.serialize(this)}}class Nn{constructor(N,w){this.segments=N,this.children=w,this.parent=null,Object.values(w).forEach(k=>k.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gr(this)}}class Pn{constructor(N,w){this.path=N,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=un(this.parameters)),this._parameterMap}toString(){return Dn(this)}}function ui(S,N){return S.length===N.length&&S.every((w,k)=>w.path===N[k].path)}let si=(()=>{class S{static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=I.Yz7({token:S,factory:function(){return new Hn},providedIn:"root"})}return S})();class Hn{parse(N){const w=new Pt(N);return new _r(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(N){const w=`/${Yr(N.root,!0)}`,k=function xt(S){const N=Object.keys(S).map(w=>{const k=S[w];return Array.isArray(k)?k.map(G=>`${Et(w)}=${Et(G)}`).join("&"):`${Et(w)}=${Et(k)}`}).filter(w=>!!w);return N.length?`?${N.join("&")}`:""}(N.queryParams);return`${w}${k}${"string"==typeof N.fragment?`#${function ie(S){return encodeURI(S)}(N.fragment)}`:""}`}}const pr=new Hn;function gr(S){return S.segments.map(N=>Dn(N)).join("/")}function Yr(S,N){if(!S.hasChildren())return gr(S);if(N){const w=S.children[Bt]?Yr(S.children[Bt],!1):"",k=[];return Object.entries(S.children).forEach(([G,re])=>{G!==Bt&&k.push(`${G}:${Yr(re,!1)}`)}),k.length>0?`${w}(${k.join("//")})`:w}{const w=function Kt(S,N){let w=[];return Object.entries(S.children).forEach(([k,G])=>{k===Bt&&(w=w.concat(N(G,k)))}),Object.entries(S.children).forEach(([k,G])=>{k!==Bt&&(w=w.concat(N(G,k)))}),w}(S,(k,G)=>G===Bt?[Yr(S.children[Bt],!1)]:[`${G}:${Yr(k,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[Bt]?`${gr(S)}/${w[0]}`:`${gr(S)}/(${w.join("//")})`}}function je(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Et(S){return je(S).replace(/%3B/gi,";")}function Te(S){return je(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ct(S){return decodeURIComponent(S)}function Lt(S){return ct(S.replace(/\+/g,"%20"))}function Dn(S){return`${Te(S.path)}${function oi(S){return Object.keys(S).map(N=>`;${Te(N)}=${Te(S[N])}`).join("")}(S.parameters)}`}const oe=/^[^\/()?;#]+/;function Q(S){const N=S.match(oe);return N?N[0]:""}const H=/^[^\/()?;=#]+/,F=/^[^=?&#]+/,xe=/^[^&#]+/;class Pt{constructor(N){this.url=N,this.remaining=N}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nn([],{}):new Nn([],this.parseChildren())}parseQueryParams(){const N={};if(this.consumeOptional("?"))do{this.parseQueryParam(N)}while(this.consumeOptional("&"));return N}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const N=[];for(this.peekStartsWith("(")||N.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),N.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let k={};return this.peekStartsWith("(")&&(k=this.parseParens(!1)),(N.length>0||Object.keys(w).length>0)&&(k[Bt]=new Nn(N,w)),k}parseSegment(){const N=Q(this.remaining);if(""===N&&this.peekStartsWith(";"))throw new I.vHH(4009,!1);return this.capture(N),new Pn(ct(N),this.parseMatrixParams())}parseMatrixParams(){const N={};for(;this.consumeOptional(";");)this.parseParam(N);return N}parseParam(N){const w=function U(S){const N=S.match(H);return N?N[0]:""}(this.remaining);if(!w)return;this.capture(w);let k="";if(this.consumeOptional("=")){const G=Q(this.remaining);G&&(k=G,this.capture(k))}N[ct(w)]=ct(k)}parseQueryParam(N){const w=function ce(S){const N=S.match(F);return N?N[0]:""}(this.remaining);if(!w)return;this.capture(w);let k="";if(this.consumeOptional("=")){const Ee=function pt(S){const N=S.match(xe);return N?N[0]:""}(this.remaining);Ee&&(k=Ee,this.capture(k))}const G=Lt(w),re=Lt(k);if(N.hasOwnProperty(G)){let Ee=N[G];Array.isArray(Ee)||(Ee=[Ee],N[G]=Ee),Ee.push(re)}else N[G]=re}parseParens(N){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const k=Q(this.remaining),G=this.remaining[k.length];if("/"!==G&&")"!==G&&";"!==G)throw new I.vHH(4010,!1);let re;k.indexOf(":")>-1?(re=k.slice(0,k.indexOf(":")),this.capture(re),this.capture(":")):N&&(re=Bt);const Ee=this.parseChildren();w[re]=1===Object.keys(Ee).length?Ee[Bt]:new Nn([],Ee),this.consumeOptional("//")}return w}peekStartsWith(N){return this.remaining.startsWith(N)}consumeOptional(N){return!!this.peekStartsWith(N)&&(this.remaining=this.remaining.substring(N.length),!0)}capture(N){if(!this.consumeOptional(N))throw new I.vHH(4011,!1)}}function Jt(S){return S.segments.length>0?new Nn([],{[Bt]:S}):S}function Yt(S){const N={};for(const k of Object.keys(S.children)){const re=Yt(S.children[k]);if(k===Bt&&0===re.segments.length&&re.hasChildren())for(const[Ee,rt]of Object.entries(re.children))N[Ee]=rt;else(re.segments.length>0||re.hasChildren())&&(N[k]=re)}return function en(S){if(1===S.numberOfChildren&&S.children[Bt]){const N=S.children[Bt];return new Nn(S.segments.concat(N.segments),N.children)}return S}(new Nn(S.segments,N))}function Gn(S){return S instanceof _r}function yi(S){let N;const G=Jt(function w(re){const Ee={};for(const it of re.children){const ln=w(it);Ee[it.outlet]=ln}const rt=new Nn(re.url,Ee);return re===S&&(N=rt),rt}(S.root));return N??G}function xs(S,N,w,k){let G=S;for(;G.parent;)G=G.parent;if(0===N.length)return vo(G,G,G,w,k);const re=function or(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new ki(!0,0,S);let N=0,w=!1;const k=S.reduce((G,re,Ee)=>{if("object"==typeof re&&null!=re){if(re.outlets){const rt={};return Object.entries(re.outlets).forEach(([it,ln])=>{rt[it]="string"==typeof ln?ln.split("/"):ln}),[...G,{outlets:rt}]}if(re.segmentPath)return[...G,re.segmentPath]}return"string"!=typeof re?[...G,re]:0===Ee?(re.split("/").forEach((rt,it)=>{0==it&&"."===rt||(0==it&&""===rt?w=!0:".."===rt?N++:""!=rt&&G.push(rt))}),G):[...G,re]},[]);return new ki(w,N,k)}(N);if(re.toRoot())return vo(G,G,new Nn([],{}),w,k);const Ee=function Pa(S,N,w){if(S.isAbsolute)return new Zs(N,!0,0);if(!w)return new Zs(N,!1,NaN);if(null===w.parent)return new Zs(w,!0,0);const k=Fo(S.commands[0])?0:1;return function Ra(S,N,w){let k=S,G=N,re=w;for(;re>G;){if(re-=G,k=k.parent,!k)throw new I.vHH(4005,!1);G=k.segments.length}return new Zs(k,!1,G-re)}(w,w.segments.length-1+k,S.numberOfDoubleDots)}(re,G,S),rt=Ee.processChildren?Mr(Ee.segmentGroup,Ee.index,re.commands):Yi(Ee.segmentGroup,Ee.index,re.commands);return vo(G,Ee.segmentGroup,rt,w,k)}function Fo(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function wi(S){return"object"==typeof S&&null!=S&&S.outlets}function vo(S,N,w,k,G){let Ee,re={};k&&Object.entries(k).forEach(([it,ln])=>{re[it]=Array.isArray(ln)?ln.map(ar=>`${ar}`):`${ln}`}),Ee=S===N?w:Os(S,N,w);const rt=Jt(Yt(Ee));return new _r(rt,re,G)}function Os(S,N,w){const k={};return Object.entries(S.children).forEach(([G,re])=>{k[G]=re===N?w:Os(re,N,w)}),new Nn(S.segments,k)}class ki{constructor(N,w,k){if(this.isAbsolute=N,this.numberOfDoubleDots=w,this.commands=k,N&&k.length>0&&Fo(k[0]))throw new I.vHH(4003,!1);const G=k.find(wi);if(G&&G!==vn(k))throw new I.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Zs{constructor(N,w,k){this.segmentGroup=N,this.processChildren=w,this.index=k}}function Yi(S,N,w){if(S||(S=new Nn([],{})),0===S.segments.length&&S.hasChildren())return Mr(S,N,w);const k=function Xa(S,N,w){let k=0,G=N;const re={match:!1,pathIndex:0,commandIndex:0};for(;G<S.segments.length;){if(k>=w.length)return re;const Ee=S.segments[G],rt=w[k];if(wi(rt))break;const it=`${rt}`,ln=k<w.length-1?w[k+1]:null;if(G>0&&void 0===it)break;if(it&&ln&&"object"==typeof ln&&void 0===ln.outlets){if(!Oa(it,ln,Ee))return re;k+=2}else{if(!Oa(it,{},Ee))return re;k++}G++}return{match:!0,pathIndex:G,commandIndex:k}}(S,N,w),G=w.slice(k.commandIndex);if(k.match&&k.pathIndex<S.segments.length){const re=new Nn(S.segments.slice(0,k.pathIndex),{});return re.children[Bt]=new Nn(S.segments.slice(k.pathIndex),S.children),Mr(re,0,G)}return k.match&&0===G.length?new Nn(S.segments,{}):k.match&&!S.hasChildren()?ai(S,N,w):k.match?Mr(S,0,G):ai(S,N,w)}function Mr(S,N,w){if(0===w.length)return new Nn(S.segments,{});{const k=function Gl(S){return wi(S[0])?S[0].outlets:{[Bt]:S}}(w),G={};if(Object.keys(k).some(re=>re!==Bt)&&S.children[Bt]&&1===S.numberOfChildren&&0===S.children[Bt].segments.length){const re=Mr(S.children[Bt],N,w);return new Nn(S.segments,re.children)}return Object.entries(k).forEach(([re,Ee])=>{"string"==typeof Ee&&(Ee=[Ee]),null!==Ee&&(G[re]=Yi(S.children[re],N,Ee))}),Object.entries(S.children).forEach(([re,Ee])=>{void 0===k[re]&&(G[re]=Ee)}),new Nn(S.segments,G)}}function ai(S,N,w){const k=S.segments.slice(0,N);let G=0;for(;G<w.length;){const re=w[G];if(wi(re)){const it=xa(re.outlets);return new Nn(k,it)}if(0===G&&Fo(w[0])){k.push(new Pn(S.segments[N].path,ia(w[0]))),G++;continue}const Ee=wi(re)?re.outlets[Bt]:`${re}`,rt=G<w.length-1?w[G+1]:null;Ee&&rt&&Fo(rt)?(k.push(new Pn(Ee,ia(rt))),G+=2):(k.push(new Pn(Ee,{})),G++)}return new Nn(k,{})}function xa(S){const N={};return Object.entries(S).forEach(([w,k])=>{"string"==typeof k&&(k=[k]),null!==k&&(N[w]=ai(new Nn([],{}),0,k))}),N}function ia(S){const N={};return Object.entries(S).forEach(([w,k])=>N[w]=`${k}`),N}function Oa(S,N,w){return S==w.path&&an(N,w.parameters)}const mr="imperative";class $i{constructor(N,w){this.id=N,this.url=w}}class co extends $i{constructor(N,w,k="imperative",G=null){super(N,w),this.type=0,this.navigationTrigger=k,this.restoredState=G}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zi extends $i{constructor(N,w,k){super(N,w),this.urlAfterRedirects=k,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Br extends $i{constructor(N,w,k,G){super(N,w),this.reason=k,this.code=G,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ns extends $i{constructor(N,w,k,G){super(N,w),this.reason=k,this.code=G,this.type=16}}class Qi extends $i{constructor(N,w,k,G){super(N,w),this.error=k,this.target=G,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Fi extends $i{constructor(N,w,k,G){super(N,w),this.urlAfterRedirects=k,this.state=G,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ec extends $i{constructor(N,w,k,G){super(N,w),this.urlAfterRedirects=k,this.state=G,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pr extends $i{constructor(N,w,k,G,re){super(N,w),this.urlAfterRedirects=k,this.state=G,this.shouldActivate=re,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class tc extends $i{constructor(N,w,k,G){super(N,w),this.urlAfterRedirects=k,this.state=G,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pi extends $i{constructor(N,w,k,G){super(N,w),this.urlAfterRedirects=k,this.state=G,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tr{constructor(N){this.route=N,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class nc{constructor(N){this.route=N,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ks{constructor(N){this.snapshot=N,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ai{constructor(N){this.snapshot=N,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class os{constructor(N){this.snapshot=N,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sa{constructor(N){this.snapshot=N,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ti{constructor(N,w,k){this.routerEvent=N,this.position=w,this.anchor=k,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class oa{}class as{constructor(N){this.url=N}}class Is{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new bs,this.attachRef=null}}let bs=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(w,k){const G=this.getOrCreateContext(w);G.outlet=k,this.contexts.set(w,G)}onChildOutletDestroyed(w){const k=this.getContext(w);k&&(k.outlet=null,k.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let k=this.getContext(w);return k||(k=new Is,this.contexts.set(w,k)),k}getContext(w){return this.contexts.get(w)||null}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=I.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();class Lo{constructor(N){this._root=N}get root(){return this._root.value}parent(N){const w=this.pathFromRoot(N);return w.length>1?w[w.length-2]:null}children(N){const w=Ri(N,this._root);return w?w.children.map(k=>k.value):[]}firstChild(N){const w=Ri(N,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(N){const w=aa(N,this._root);return w.length<2?[]:w[w.length-2].children.map(G=>G.value).filter(G=>G!==N)}pathFromRoot(N){return aa(N,this._root).map(w=>w.value)}}function Ri(S,N){if(S===N.value)return N;for(const w of N.children){const k=Ri(S,w);if(k)return k}return null}function aa(S,N){if(S===N.value)return[N];for(const w of N.children){const k=aa(S,w);if(k.length)return k.unshift(N),k}return[]}class An{constructor(N,w){this.value=N,this.children=w}toString(){return`TreeNode(${this.value})`}}function Cr(S){const N={};return S&&S.children.forEach(w=>N[w.value.outlet]=w),N}class jr extends Lo{constructor(N,w){super(N),this.snapshot=w,dr(this,N)}toString(){return this.snapshot.toString()}}function xi(S,N){const w=function kr(S,N){const Ee=new qi([],{},{},"",{},Bt,N,null,{});return new Ts("",new An(Ee,[]))}(0,N),k=new he.X([new Pn("",{})]),G=new he.X({}),re=new he.X({}),Ee=new he.X({}),rt=new he.X(""),it=new Gi(k,G,Ee,rt,re,Bt,N,w.root);return it.snapshot=w.root,new jr(new An(it,[]),w)}class Gi{constructor(N,w,k,G,re,Ee,rt,it){this.urlSubject=N,this.paramsSubject=w,this.queryParamsSubject=k,this.fragmentSubject=G,this.dataSubject=re,this.outlet=Ee,this.component=rt,this._futureSnapshot=it,this.title=this.dataSubject?.pipe((0,Ue.U)(ln=>ln[on]))??(0,we.of)(void 0),this.url=N,this.params=w,this.queryParams=k,this.fragment=G,this.data=re}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ue.U)(N=>un(N)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ue.U)(N=>un(N)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Li(S,N="emptyOnly"){const w=S.pathFromRoot;let k=0;if("always"!==N)for(k=w.length-1;k>=1;){const G=w[k],re=w[k-1];if(G.routeConfig&&""===G.routeConfig.path)k--;else{if(re.component)break;k--}}return function Vo(S){return S.reduce((N,w)=>({params:{...N.params,...w.params},data:{...N.data,...w.data},resolve:{...w.data,...N.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(k))}class qi{get title(){return this.data?.[on]}constructor(N,w,k,G,re,Ee,rt,it,ln){this.url=N,this.params=w,this.queryParams=k,this.fragment=G,this.data=re,this.outlet=Ee,this.component=rt,this.routeConfig=it,this._resolve=ln}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=un(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=un(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(k=>k.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ts extends Lo{constructor(N,w){super(w),this.url=N,dr(this,w)}toString(){return Zt(this._root)}}function dr(S,N){N.value._routerState=S,N.children.forEach(w=>dr(S,w))}function Zt(S){const N=S.children.length>0?` { ${S.children.map(Zt).join(", ")} } `:"";return`${S.value}${N}`}function Mn(S){if(S.snapshot){const N=S.snapshot,w=S._futureSnapshot;S.snapshot=w,an(N.queryParams,w.queryParams)||S.queryParamsSubject.next(w.queryParams),N.fragment!==w.fragment&&S.fragmentSubject.next(w.fragment),an(N.params,w.params)||S.paramsSubject.next(w.params),function qt(S,N){if(S.length!==N.length)return!1;for(let w=0;w<S.length;++w)if(!an(S[w],N[w]))return!1;return!0}(N.url,w.url)||S.urlSubject.next(w.url),an(N.data,w.data)||S.dataSubject.next(w.data)}else S.snapshot=S._futureSnapshot,S.dataSubject.next(S._futureSnapshot.data)}function lr(S,N){const w=an(S.params,N.params)&&function Ir(S,N){return ui(S,N)&&S.every((w,k)=>an(w.parameters,N[k].parameters))}(S.url,N.url);return w&&!(!S.parent!=!N.parent)&&(!S.parent||lr(S.parent,N.parent))}let gi=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=Bt,this.activateEvents=new I.vpe,this.deactivateEvents=new I.vpe,this.attachEvents=new I.vpe,this.detachEvents=new I.vpe,this.parentContexts=(0,I.f3M)(bs),this.location=(0,I.f3M)(I.s_b),this.changeDetector=(0,I.f3M)(I.sBO),this.environmentInjector=(0,I.f3M)(I.lqb),this.inputBinder=(0,I.f3M)(Hr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:k,previousValue:G}=w.name;if(k)return;this.isTrackedInParentContexts(G)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(G)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I.vHH(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,k){this.activated=w,this._activatedRoute=k,this.location.insert(w.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,k){if(this.isActivated)throw new I.vHH(4013,!1);this._activatedRoute=w;const G=this.location,Ee=w.snapshot.component,rt=this.parentContexts.getOrCreateContext(this.name).children,it=new lo(w,rt,G.injector);this.activated=G.createComponent(Ee,{index:G.length,injector:it,environmentInjector:k??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275dir=I.lG2({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[I.TTD]})}return S})();class lo{constructor(N,w,k){this.route=N,this.childContexts=w,this.parent=k}get(N,w){return N===Gi?this.route:N===bs?this.childContexts:this.parent.get(N,w)}}const Hr=new I.OlP("");let ni=(()=>{class S{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){this.outletDataSubscriptions.get(w)?.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:k}=w,G=(0,Ce.a)([k.queryParams,k.params,k.data]).pipe((0,et.w)(([re,Ee,rt],it)=>(rt={...re,...Ee,...rt},0===it?(0,we.of)(rt):Promise.resolve(rt)))).subscribe(re=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==k||null===k.component)return void this.unsubscribeFromRouteData(w);const Ee=(0,I.qFp)(k.component);if(Ee)for(const{templateName:rt}of Ee.inputs)w.activatedComponentRef.setInput(rt,re[rt]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,G)}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=I.Yz7({token:S,factory:S.\u0275fac})}return S})();function Zi(S,N,w){if(w&&S.shouldReuseRoute(N.value,w.value.snapshot)){const k=w.value;k._futureSnapshot=N.value;const G=function cs(S,N,w){return N.children.map(k=>{for(const G of w.children)if(S.shouldReuseRoute(k.value,G.value.snapshot))return Zi(S,k,G);return Zi(S,k)})}(S,N,w);return new An(k,G)}{if(S.shouldAttach(N.value)){const re=S.retrieve(N.value);if(null!==re){const Ee=re.route;return Ee.value._futureSnapshot=N.value,Ee.children=N.children.map(rt=>Zi(S,rt)),Ee}}const k=function Fn(S){return new Gi(new he.X(S.url),new he.X(S.params),new he.X(S.queryParams),new he.X(S.fragment),new he.X(S.data),S.outlet,S.component,S)}(N.value),G=N.children.map(re=>Zi(S,re));return new An(k,G)}}const Ji="ngNavigationCancelingError";function tr(S,N){const{redirectTo:w,navigationBehaviorOptions:k}=Gn(N)?{redirectTo:N,navigationBehaviorOptions:void 0}:N,G=vi(!1,0,N);return G.url=w,G.navigationBehaviorOptions=k,G}function vi(S,N,w){const k=new Error("NavigationCancelingError: "+(S||""));return k[Ji]=!0,k.cancellationCode=N,w&&(k.url=w),k}function Xi(S){return S&&S[Ji]}let Ei=(()=>{class S{static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275cmp=I.Xpm({type:S,selectors:[["ng-component"]],standalone:!0,features:[I.jDz],decls:1,vars:0,template:function(k,G){1&k&&I._UZ(0,"router-outlet")},dependencies:[gi],encapsulation:2})}return S})();function es(S){const N=S.children&&S.children.map(es),w=N?{...S,children:N}:{...S};return!w.component&&!w.loadComponent&&(N||w.loadChildren)&&w.outlet&&w.outlet!==Bt&&(w.component=Ei),w}function Oi(S){return S.outlet||Bt}function Cs(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let N=S.parent;N;N=N.parent){const w=N.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class zr{constructor(N,w,k,G,re){this.routeReuseStrategy=N,this.futureState=w,this.currState=k,this.forwardEvent=G,this.inputBindingEnabled=re}activate(N){const w=this.futureState._root,k=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,k,N),Mn(this.futureState.root),this.activateChildRoutes(w,k,N)}deactivateChildRoutes(N,w,k){const G=Cr(w);N.children.forEach(re=>{const Ee=re.value.outlet;this.deactivateRoutes(re,G[Ee],k),delete G[Ee]}),Object.values(G).forEach(re=>{this.deactivateRouteAndItsChildren(re,k)})}deactivateRoutes(N,w,k){const G=N.value,re=w?w.value:null;if(G===re)if(G.component){const Ee=k.getContext(G.outlet);Ee&&this.deactivateChildRoutes(N,w,Ee.children)}else this.deactivateChildRoutes(N,w,k);else re&&this.deactivateRouteAndItsChildren(w,k)}deactivateRouteAndItsChildren(N,w){N.value.component&&this.routeReuseStrategy.shouldDetach(N.value.snapshot)?this.detachAndStoreRouteSubtree(N,w):this.deactivateRouteAndOutlet(N,w)}detachAndStoreRouteSubtree(N,w){const k=w.getContext(N.value.outlet),G=k&&N.value.component?k.children:w,re=Cr(N);for(const Ee of Object.keys(re))this.deactivateRouteAndItsChildren(re[Ee],G);if(k&&k.outlet){const Ee=k.outlet.detach(),rt=k.children.onOutletDeactivated();this.routeReuseStrategy.store(N.value.snapshot,{componentRef:Ee,route:N,contexts:rt})}}deactivateRouteAndOutlet(N,w){const k=w.getContext(N.value.outlet),G=k&&N.value.component?k.children:w,re=Cr(N);for(const Ee of Object.keys(re))this.deactivateRouteAndItsChildren(re[Ee],G);k&&(k.outlet&&(k.outlet.deactivate(),k.children.onOutletDeactivated()),k.attachRef=null,k.route=null)}activateChildRoutes(N,w,k){const G=Cr(w);N.children.forEach(re=>{this.activateRoutes(re,G[re.value.outlet],k),this.forwardEvent(new sa(re.value.snapshot))}),N.children.length&&this.forwardEvent(new Ai(N.value.snapshot))}activateRoutes(N,w,k){const G=N.value,re=w?w.value:null;if(Mn(G),G===re)if(G.component){const Ee=k.getOrCreateContext(G.outlet);this.activateChildRoutes(N,w,Ee.children)}else this.activateChildRoutes(N,w,k);else if(G.component){const Ee=k.getOrCreateContext(G.outlet);if(this.routeReuseStrategy.shouldAttach(G.snapshot)){const rt=this.routeReuseStrategy.retrieve(G.snapshot);this.routeReuseStrategy.store(G.snapshot,null),Ee.children.onOutletReAttached(rt.contexts),Ee.attachRef=rt.componentRef,Ee.route=rt.route.value,Ee.outlet&&Ee.outlet.attach(rt.componentRef,rt.route.value),Mn(rt.route.value),this.activateChildRoutes(N,null,Ee.children)}else{const rt=Cs(G.snapshot);Ee.attachRef=null,Ee.route=G,Ee.injector=rt,Ee.outlet&&Ee.outlet.activateWith(G,Ee.injector),this.activateChildRoutes(N,null,Ee.children)}}else this.activateChildRoutes(N,null,k)}}class ae{constructor(N){this.path=N,this.route=this.path[this.path.length-1]}}class be{constructor(N,w){this.component=N,this.route=w}}function Le(S,N,w){const k=S._root;return Qt(k,N?N._root:null,w,[k.value])}function Nt(S,N){const w=Symbol(),k=N.get(S,w);return k===w?"function"!=typeof S||(0,I.Z0I)(S)?N.get(S):S:k}function Qt(S,N,w,k,G={canDeactivateChecks:[],canActivateChecks:[]}){const re=Cr(N);return S.children.forEach(Ee=>{(function cn(S,N,w,k,G={canDeactivateChecks:[],canActivateChecks:[]}){const re=S.value,Ee=N?N.value:null,rt=w?w.getContext(S.value.outlet):null;if(Ee&&re.routeConfig===Ee.routeConfig){const it=function Vn(S,N,w){if("function"==typeof w)return w(S,N);switch(w){case"pathParamsChange":return!ui(S.url,N.url);case"pathParamsOrQueryParamsChange":return!ui(S.url,N.url)||!an(S.queryParams,N.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lr(S,N)||!an(S.queryParams,N.queryParams);default:return!lr(S,N)}}(Ee,re,re.routeConfig.runGuardsAndResolvers);it?G.canActivateChecks.push(new ae(k)):(re.data=Ee.data,re._resolvedData=Ee._resolvedData),Qt(S,N,re.component?rt?rt.children:null:w,k,G),it&&rt&&rt.outlet&&rt.outlet.isActivated&&G.canDeactivateChecks.push(new be(rt.outlet.component,Ee))}else Ee&&bn(N,rt,G),G.canActivateChecks.push(new ae(k)),Qt(S,null,re.component?rt?rt.children:null:w,k,G)})(Ee,re[Ee.value.outlet],w,k.concat([Ee.value]),G),delete re[Ee.value.outlet]}),Object.entries(re).forEach(([Ee,rt])=>bn(rt,w.getContext(Ee),G)),G}function bn(S,N,w){const k=Cr(S),G=S.value;Object.entries(k).forEach(([re,Ee])=>{bn(Ee,G.component?N?N.children.getContext(re):null:N,w)}),w.canDeactivateChecks.push(new be(G.component&&N&&N.outlet&&N.outlet.isActivated?N.outlet.component:null,G))}function qn(S){return"function"==typeof S}function ql(S){return S instanceof De.K||"EmptyError"===S?.name}const la=Symbol("INITIAL_VALUE");function mi(){return(0,et.w)(S=>(0,Ce.a)(S.map(N=>N.pipe((0,vt.q)(1),(0,ze.O)(la)))).pipe((0,Ue.U)(N=>{for(const w of N)if(!0!==w){if(w===la)return la;if(!1===w||w instanceof _r)return w}return!0}),(0,de.h)(N=>N!==la),(0,vt.q)(1)))}function Vs(S){return(0,ut.z)((0,_t.b)(N=>{if(Gn(N))throw tr(0,N)}),(0,Ue.U)(N=>!0===N))}class Ui{constructor(N){this.segmentGroup=N||null}}class jd{constructor(N){this.urlTree=N}}function hr(S){return(0,Je._)(new Ui(S))}function da(S){return(0,Je._)(new jd(S))}class Us{constructor(N,w){this.urlSerializer=N,this.urlTree=w}noMatchError(N){return new I.vHH(4002,!1)}lineralizeSegments(N,w){let k=[],G=w.root;for(;;){if(k=k.concat(G.segments),0===G.numberOfChildren)return(0,we.of)(k);if(G.numberOfChildren>1||!G.children[Bt])return(0,Je._)(new I.vHH(4e3,!1));G=G.children[Bt]}}applyRedirectCommands(N,w,k){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),N,k)}applyRedirectCreateUrlTree(N,w,k,G){const re=this.createSegmentGroup(N,w.root,k,G);return new _r(re,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(N,w){const k={};return Object.entries(N).forEach(([G,re])=>{if("string"==typeof re&&re.startsWith(":")){const rt=re.substring(1);k[G]=w[rt]}else k[G]=re}),k}createSegmentGroup(N,w,k,G){const re=this.createSegments(N,w.segments,k,G);let Ee={};return Object.entries(w.children).forEach(([rt,it])=>{Ee[rt]=this.createSegmentGroup(N,it,k,G)}),new Nn(re,Ee)}createSegments(N,w,k,G){return w.map(re=>re.path.startsWith(":")?this.findPosParam(N,re,G):this.findOrReturn(re,k))}findPosParam(N,w,k){const G=k[w.path.substring(1)];if(!G)throw new I.vHH(4001,!1);return G}findOrReturn(N,w){let k=0;for(const G of w){if(G.path===N.path)return w.splice(k),G;k++}return N}}const Ys={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Qs(S,N,w,k,G){const re=Eo(S,N,w);return re.matched?(k=function ls(S,N){return S.providers&&!S._injector&&(S._injector=(0,I.MMx)(S.providers,N,`Route: ${S.path}`)),S._injector??N}(N,k),function Ks(S,N,w,k){const G=N.canMatch;if(!G||0===G.length)return(0,we.of)(!0);const re=G.map(Ee=>{const rt=Nt(Ee,S);return $t(function Pu(S){return S&&qn(S.canMatch)}(rt)?rt.canMatch(N,w):S.runInContext(()=>rt(N,w)))});return(0,we.of)(re).pipe(mi(),Vs())}(k,N,w).pipe((0,Ue.U)(Ee=>!0===Ee?re:{...Ys}))):(0,we.of)(re)}function Eo(S,N,w){if(""===N.path)return"full"===N.pathMatch&&(S.hasChildren()||w.length>0)?{...Ys}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const G=(N.matcher||er)(w,S,N);if(!G)return{...Ys};const re={};Object.entries(G.posParams??{}).forEach(([rt,it])=>{re[rt]=it.path});const Ee=G.consumed.length>0?{...re,...G.consumed[G.consumed.length-1].parameters}:re;return{matched:!0,consumedSegments:G.consumed,remainingSegments:w.slice(G.consumed.length),parameters:Ee,positionalParamSegments:G.posParams??{}}}function Fa(S,N,w,k){return w.length>0&&function el(S,N,w){return w.some(k=>ac(S,N,k)&&Oi(k)!==Bt)}(S,w,k)?{segmentGroup:new Nn(N,Xc(k,new Nn(w,S.children))),slicedSegments:[]}:0===w.length&&function oc(S,N,w){return w.some(k=>ac(S,N,k))}(S,w,k)?{segmentGroup:new Nn(S.segments,Zn(S,0,w,k,S.children)),slicedSegments:w}:{segmentGroup:new Nn(S.segments,S.children),slicedSegments:w}}function Zn(S,N,w,k,G){const re={};for(const Ee of k)if(ac(S,w,Ee)&&!G[Oi(Ee)]){const rt=new Nn([],{});re[Oi(Ee)]=rt}return{...G,...re}}function Xc(S,N){const w={};w[Bt]=N;for(const k of S)if(""===k.path&&Oi(k)!==Bt){const G=new Nn([],{});w[Oi(k)]=G}return w}function ac(S,N,w){return(!(S.hasChildren()||N.length>0)||"full"!==w.pathMatch)&&""===w.path}class cc{constructor(N,w,k,G,re,Ee,rt){this.injector=N,this.configLoader=w,this.rootComponentType=k,this.config=G,this.urlTree=re,this.paramsInheritanceStrategy=Ee,this.urlSerializer=rt,this.allowRedirects=!0,this.applyRedirects=new Us(this.urlSerializer,this.urlTree)}noMatchError(N){return new I.vHH(4002,!1)}recognize(){const N=Fa(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,N,Bt).pipe((0,Rt.K)(w=>{if(w instanceof jd)return this.allowRedirects=!1,this.urlTree=w.urlTree,this.match(w.urlTree);throw w instanceof Ui?this.noMatchError(w):w}),(0,Ue.U)(w=>{const k=new qi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Bt,this.rootComponentType,null,{}),G=new An(k,w),re=new Ts("",G),Ee=function Sn(S,N,w=null,k=null){return xs(yi(S),N,w,k)}(k,[],this.urlTree.queryParams,this.urlTree.fragment);return Ee.queryParams=this.urlTree.queryParams,re.url=this.urlSerializer.serialize(Ee),this.inheritParamsAndData(re._root),{state:re,tree:Ee}}))}match(N){return this.processSegmentGroup(this.injector,this.config,N.root,Bt).pipe((0,Rt.K)(k=>{throw k instanceof Ui?this.noMatchError(k):k}))}inheritParamsAndData(N){const w=N.value,k=Li(w,this.paramsInheritanceStrategy);w.params=Object.freeze(k.params),w.data=Object.freeze(k.data),N.children.forEach(G=>this.inheritParamsAndData(G))}processSegmentGroup(N,w,k,G){return 0===k.segments.length&&k.hasChildren()?this.processChildren(N,w,k):this.processSegment(N,w,k,k.segments,G,!0)}processChildren(N,w,k){const G=[];for(const re of Object.keys(k.children))"primary"===re?G.unshift(re):G.push(re);return(0,_e.D)(G).pipe((0,Bn.b)(re=>{const Ee=k.children[re],rt=function ds(S,N){const w=S.filter(k=>Oi(k)===N);return w.push(...S.filter(k=>Oi(k)!==N)),w}(w,re);return this.processSegmentGroup(N,rt,Ee,re)}),(0,Wt.R)((re,Ee)=>(re.push(...Ee),re)),(0,nt.d)(null),function We(S,N){const w=arguments.length>=2;return k=>k.pipe(S?(0,de.h)((G,re)=>S(G,re,k)):Oe.y,Pe(1),w?(0,nt.d)(N):(0,fe.T)(()=>new De.K))}(),(0,gt.z)(re=>{if(null===re)return hr(k);const Ee=jo(re);return function Wl(S){S.sort((N,w)=>N.value.outlet===Bt?-1:w.value.outlet===Bt?1:N.value.outlet.localeCompare(w.value.outlet))}(Ee),(0,we.of)(Ee)}))}processSegment(N,w,k,G,re,Ee){return(0,_e.D)(w).pipe((0,Bn.b)(rt=>this.processSegmentAgainstRoute(rt._injector??N,w,rt,k,G,re,Ee).pipe((0,Rt.K)(it=>{if(it instanceof Ui)return(0,we.of)(null);throw it}))),(0,Ut.P)(rt=>!!rt),(0,Rt.K)(rt=>{if(ql(rt))return function Bo(S,N,w){return 0===N.length&&!S.children[w]}(k,G,re)?(0,we.of)([]):hr(k);throw rt}))}processSegmentAgainstRoute(N,w,k,G,re,Ee,rt){return function La(S,N,w,k){return!!(Oi(S)===k||k!==Bt&&ac(N,w,S))&&("**"===S.path||Eo(N,S,w).matched)}(k,G,re,Ee)?void 0===k.redirectTo?this.matchSegmentAgainstRoute(N,G,k,re,Ee,rt):rt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(N,G,w,k,re,Ee):hr(G):hr(G)}expandSegmentAgainstRouteUsingRedirect(N,w,k,G,re,Ee){return"**"===G.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(N,k,G,Ee):this.expandRegularSegmentAgainstRouteUsingRedirect(N,w,k,G,re,Ee)}expandWildCardWithParamsAgainstRouteUsingRedirect(N,w,k,G){const re=this.applyRedirects.applyRedirectCommands([],k.redirectTo,{});return k.redirectTo.startsWith("/")?da(re):this.applyRedirects.lineralizeSegments(k,re).pipe((0,gt.z)(Ee=>{const rt=new Nn(Ee,{});return this.processSegment(N,w,rt,Ee,G,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(N,w,k,G,re,Ee){const{matched:rt,consumedSegments:it,remainingSegments:ln,positionalParamSegments:ar}=Eo(w,G,re);if(!rt)return hr(w);const xr=this.applyRedirects.applyRedirectCommands(it,G.redirectTo,ar);return G.redirectTo.startsWith("/")?da(xr):this.applyRedirects.lineralizeSegments(G,xr).pipe((0,gt.z)(zn=>this.processSegment(N,k,w,zn.concat(ln),Ee,!1)))}matchSegmentAgainstRoute(N,w,k,G,re,Ee){let rt;if("**"===k.path){const it=G.length>0?vn(G).parameters:{},ln=new qi(G,it,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bo(k),Oi(k),k.component??k._loadedComponent??null,k,Hd(k));rt=(0,we.of)({snapshot:ln,consumedSegments:[],remainingSegments:[]}),w.children={}}else rt=Qs(w,k,G,N).pipe((0,Ue.U)(({matched:it,consumedSegments:ln,remainingSegments:ar,parameters:xr})=>it?{snapshot:new qi(ln,xr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bo(k),Oi(k),k.component??k._loadedComponent??null,k,Hd(k)),consumedSegments:ln,remainingSegments:ar}:null));return rt.pipe((0,et.w)(it=>null===it?hr(w):this.getChildConfig(N=k._injector??N,k,G).pipe((0,et.w)(({routes:ln})=>{const ar=k._loadedInjector??N,{snapshot:xr,consumedSegments:zn,remainingSegments:ns}=it,{segmentGroup:Xs,slicedSegments:So}=Fa(w,zn,ns,ln);if(0===So.length&&Xs.hasChildren())return this.processChildren(ar,ln,Xs).pipe((0,Ue.U)(ho=>null===ho?null:[new An(xr,ho)]));if(0===ln.length&&0===So.length)return(0,we.of)([new An(xr,[])]);const fc=Oi(k)===re;return this.processSegment(ar,ln,Xs,So,fc?Bt:re,!0).pipe((0,Ue.U)(ho=>[new An(xr,ho)]))}))))}getChildConfig(N,w,k){return w.children?(0,we.of)({routes:w.children,injector:N}):w.loadChildren?void 0!==w._loadedRoutes?(0,we.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function Jc(S,N,w,k){const G=N.canLoad;if(void 0===G||0===G.length)return(0,we.of)(!0);const re=G.map(Ee=>{const rt=Nt(Ee,S);return $t(function hs(S){return S&&qn(S.canLoad)}(rt)?rt.canLoad(N,w):S.runInContext(()=>rt(N,w)))});return(0,we.of)(re).pipe(mi(),Vs())}(N,w,k).pipe((0,gt.z)(G=>G?this.configLoader.loadChildren(N,w).pipe((0,_t.b)(re=>{w._loadedRoutes=re.routes,w._loadedInjector=re.injector})):function xu(S){return(0,Je._)(vi(!1,3))}())):(0,we.of)({routes:[],injector:N})}}function tl(S){const N=S.value.routeConfig;return N&&""===N.path}function jo(S){const N=[],w=new Set;for(const k of S){if(!tl(k)){N.push(k);continue}const G=N.find(re=>k.value.routeConfig===re.value.routeConfig);void 0!==G?(G.children.push(...k.children),w.add(G)):N.push(k)}for(const k of w){const G=jo(k.children);N.push(new An(k.value,G))}return N.filter(k=>!w.has(k))}function bo(S){return S.data||{}}function Hd(S){return S.resolve||{}}function $r(S){return"string"==typeof S.title||null===S.title}function R(S){return(0,et.w)(N=>{const w=S(N);return w?(0,_e.D)(w).pipe((0,Ue.U)(()=>N)):(0,we.of)(N)})}const X=new I.OlP("ROUTES");let B=(()=>{class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,I.f3M)(I.Sil)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,we.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const k=$t(w.loadComponent()).pipe((0,Ue.U)(at),(0,_t.b)(re=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=re}),(0,lt.x)(()=>{this.componentLoaders.delete(w)})),G=new qe(k,()=>new Be.x).pipe(Xt());return this.componentLoaders.set(w,G),G}loadChildren(w,k){if(this.childrenLoaders.get(k))return this.childrenLoaders.get(k);if(k._loadedRoutes)return(0,we.of)({routes:k._loadedRoutes,injector:k._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(k);const re=function J(S,N,w,k){return $t(S.loadChildren()).pipe((0,Ue.U)(at),(0,gt.z)(G=>G instanceof I.YKP||Array.isArray(G)?(0,we.of)(G):(0,_e.D)(N.compileModuleAsync(G))),(0,Ue.U)(G=>{k&&k(S);let re,Ee,rt=!1;return Array.isArray(G)?(Ee=G,!0):(re=G.create(w).injector,Ee=re.get(X,[],{optional:!0,self:!0}).flat()),{routes:Ee.map(es),injector:re}}))}(k,this.compiler,w,this.onLoadEndListener).pipe((0,lt.x)(()=>{this.childrenLoaders.delete(k)})),Ee=new qe(re,()=>new Be.x).pipe(Xt());return this.childrenLoaders.set(k,Ee),Ee}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=I.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function at(S){return function Ie(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let bt=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Be.x,this.transitionAbortSubject=new Be.x,this.configLoader=(0,I.f3M)(B),this.environmentInjector=(0,I.f3M)(I.lqb),this.urlSerializer=(0,I.f3M)(si),this.rootContexts=(0,I.f3M)(bs),this.inputBindingEnabled=null!==(0,I.f3M)(Hr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,we.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=G=>this.events.next(new nc(G)),this.configLoader.onLoadStartListener=G=>this.events.next(new Tr(G))}complete(){this.transitions?.complete()}handleNavigationRequest(w){const k=++this.navigationId;this.transitions?.next({...this.transitions.value,...w,id:k})}setupNavigations(w,k,G){return this.transitions=new he.X({id:0,currentUrlTree:k,currentRawUrl:k,currentBrowserUrl:k,extractedUrl:w.urlHandlingStrategy.extract(k),urlAfterRedirects:w.urlHandlingStrategy.extract(k),rawUrl:k,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:mr,restoredState:null,currentSnapshot:G.snapshot,targetSnapshot:null,currentRouterState:G,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,de.h)(re=>0!==re.id),(0,Ue.U)(re=>({...re,extractedUrl:w.urlHandlingStrategy.extract(re.rawUrl)})),(0,et.w)(re=>{this.currentTransition=re;let Ee=!1,rt=!1;return(0,we.of)(re).pipe((0,_t.b)(it=>{this.currentNavigation={id:it.id,initialUrl:it.rawUrl,extractedUrl:it.extractedUrl,trigger:it.source,extras:it.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,et.w)(it=>{const ln=it.currentBrowserUrl.toString(),ar=!w.navigated||it.extractedUrl.toString()!==ln||ln!==it.currentUrlTree.toString();if(!ar&&"reload"!==(it.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const zn="";return this.events.next(new Ns(it.id,this.urlSerializer.serialize(it.rawUrl),zn,0)),it.resolve(null),Mt.E}if(w.urlHandlingStrategy.shouldProcessUrl(it.rawUrl))return(0,we.of)(it).pipe((0,et.w)(zn=>{const ns=this.transitions?.getValue();return this.events.next(new co(zn.id,this.urlSerializer.serialize(zn.extractedUrl),zn.source,zn.restoredState)),ns!==this.transitions?.getValue()?Mt.E:Promise.resolve(zn)}),function Va(S,N,w,k,G,re){return(0,gt.z)(Ee=>function Io(S,N,w,k,G,re,Ee="emptyOnly"){return new cc(S,N,w,k,G,Ee,re).recognize()}(S,N,w,k,Ee.extractedUrl,G,re).pipe((0,Ue.U)(({state:rt,tree:it})=>({...Ee,targetSnapshot:rt,urlAfterRedirects:it}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,_t.b)(zn=>{re.targetSnapshot=zn.targetSnapshot,re.urlAfterRedirects=zn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:zn.urlAfterRedirects};const ns=new Fi(zn.id,this.urlSerializer.serialize(zn.extractedUrl),this.urlSerializer.serialize(zn.urlAfterRedirects),zn.targetSnapshot);this.events.next(ns)}));if(ar&&w.urlHandlingStrategy.shouldProcessUrl(it.currentRawUrl)){const{id:zn,extractedUrl:ns,source:Xs,restoredState:So,extras:fc}=it,ho=new co(zn,this.urlSerializer.serialize(ns),Xs,So);this.events.next(ho);const Fu=xi(0,this.rootComponentType).snapshot;return this.currentTransition=re={...it,targetSnapshot:Fu,urlAfterRedirects:ns,extras:{...fc,skipLocationChange:!1,replaceUrl:!1}},(0,we.of)(re)}{const zn="";return this.events.next(new Ns(it.id,this.urlSerializer.serialize(it.extractedUrl),zn,1)),it.resolve(null),Mt.E}}),(0,_t.b)(it=>{const ln=new ec(it.id,this.urlSerializer.serialize(it.extractedUrl),this.urlSerializer.serialize(it.urlAfterRedirects),it.targetSnapshot);this.events.next(ln)}),(0,Ue.U)(it=>(this.currentTransition=re={...it,guards:Le(it.targetSnapshot,it.currentSnapshot,this.rootContexts)},re)),function Ru(S,N){return(0,gt.z)(w=>{const{targetSnapshot:k,currentSnapshot:G,guards:{canActivateChecks:re,canDeactivateChecks:Ee}}=w;return 0===Ee.length&&0===re.length?(0,we.of)({...w,guardsResult:!0}):function Zl(S,N,w,k){return(0,_e.D)(S).pipe((0,gt.z)(G=>function ua(S,N,w,k,G){const re=N&&N.routeConfig?N.routeConfig.canDeactivate:null;if(!re||0===re.length)return(0,we.of)(!0);const Ee=re.map(rt=>{const it=Cs(N)??G,ln=Nt(rt,it);return $t(function ca(S){return S&&qn(S.canDeactivate)}(ln)?ln.canDeactivate(S,N,w,k):it.runInContext(()=>ln(S,N,w,k))).pipe((0,Ut.P)())});return(0,we.of)(Ee).pipe(mi())}(G.component,G.route,w,N,k)),(0,Ut.P)(G=>!0!==G,!0))}(Ee,k,G,S).pipe((0,gt.z)(rt=>rt&&function Vi(S){return"boolean"==typeof S}(rt)?function rc(S,N,w,k){return(0,_e.D)(N).pipe((0,Bn.b)(G=>(0,ue.z)(function ka(S,N){return null!==S&&N&&N(new ks(S)),(0,we.of)(!0)}(G.route.parent,k),function ic(S,N){return null!==S&&N&&N(new os(S)),(0,we.of)(!0)}(G.route,k),function sc(S,N,w){const k=N[N.length-1],re=N.slice(0,N.length-1).reverse().map(Ee=>function It(S){const N=S.routeConfig?S.routeConfig.canActivateChild:null;return N&&0!==N.length?{node:S,guards:N}:null}(Ee)).filter(Ee=>null!==Ee).map(Ee=>Me(()=>{const rt=Ee.guards.map(it=>{const ln=Cs(Ee.node)??w,ar=Nt(it,ln);return $t(function Ws(S){return S&&qn(S.canActivateChild)}(ar)?ar.canActivateChild(k,S):ln.runInContext(()=>ar(k,S))).pipe((0,Ut.P)())});return(0,we.of)(rt).pipe(mi())}));return(0,we.of)(re).pipe(mi())}(S,G.path,w),function Qc(S,N,w){const k=N.routeConfig?N.routeConfig.canActivate:null;if(!k||0===k.length)return(0,we.of)(!0);const G=k.map(re=>Me(()=>{const Ee=Cs(N)??w,rt=Nt(re,Ee);return $t(function Ni(S){return S&&qn(S.canActivate)}(rt)?rt.canActivate(N,S):Ee.runInContext(()=>rt(N,S))).pipe((0,Ut.P)())}));return(0,we.of)(G).pipe(mi())}(S,G.route,w))),(0,Ut.P)(G=>!0!==G,!0))}(k,re,S,N):(0,we.of)(rt)),(0,Ue.U)(rt=>({...w,guardsResult:rt})))})}(this.environmentInjector,it=>this.events.next(it)),(0,_t.b)(it=>{if(re.guardsResult=it.guardsResult,Gn(it.guardsResult))throw tr(0,it.guardsResult);const ln=new Pr(it.id,this.urlSerializer.serialize(it.extractedUrl),this.urlSerializer.serialize(it.urlAfterRedirects),it.targetSnapshot,!!it.guardsResult);this.events.next(ln)}),(0,de.h)(it=>!!it.guardsResult||(this.cancelNavigationTransition(it,"",3),!1)),R(it=>{if(it.guards.canActivateChecks.length)return(0,we.of)(it).pipe((0,_t.b)(ln=>{const ar=new tc(ln.id,this.urlSerializer.serialize(ln.extractedUrl),this.urlSerializer.serialize(ln.urlAfterRedirects),ln.targetSnapshot);this.events.next(ar)}),(0,et.w)(ln=>{let ar=!1;return(0,we.of)(ln).pipe(function lc(S,N){return(0,gt.z)(w=>{const{targetSnapshot:k,guards:{canActivateChecks:G}}=w;if(!G.length)return(0,we.of)(w);let re=0;return(0,_e.D)(G).pipe((0,Bn.b)(Ee=>function Kl(S,N,w,k){const G=S.routeConfig,re=S._resolve;return void 0!==G?.title&&!$r(G)&&(re[on]=G.title),function Ua(S,N,w,k){const G=function $d(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===G.length)return(0,we.of)({});const re={};return(0,_e.D)(G).pipe((0,gt.z)(Ee=>function nl(S,N,w,k){const G=Cs(N)??k,re=Nt(S,G);return $t(re.resolve?re.resolve(N,w):G.runInContext(()=>re(N,w)))}(S[Ee],N,w,k).pipe((0,Ut.P)(),(0,_t.b)(rt=>{re[Ee]=rt}))),Pe(1),function Ke(S){return(0,Ue.U)(()=>S)}(re),(0,Rt.K)(Ee=>ql(Ee)?Mt.E:(0,Je._)(Ee)))}(re,S,N,k).pipe((0,Ue.U)(Ee=>(S._resolvedData=Ee,S.data=Li(S,w).resolve,G&&$r(G)&&(S.data[on]=G.title),null)))}(Ee.route,k,S,N)),(0,_t.b)(()=>re++),Pe(1),(0,gt.z)(Ee=>re===G.length?(0,we.of)(w):Mt.E))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,_t.b)({next:()=>ar=!0,complete:()=>{ar||this.cancelNavigationTransition(ln,"",2)}}))}),(0,_t.b)(ln=>{const ar=new pi(ln.id,this.urlSerializer.serialize(ln.extractedUrl),this.urlSerializer.serialize(ln.urlAfterRedirects),ln.targetSnapshot);this.events.next(ar)}))}),R(it=>{const ln=ar=>{const xr=[];ar.routeConfig?.loadComponent&&!ar.routeConfig._loadedComponent&&xr.push(this.configLoader.loadComponent(ar.routeConfig).pipe((0,_t.b)(zn=>{ar.component=zn}),(0,Ue.U)(()=>{})));for(const zn of ar.children)xr.push(...ln(zn));return xr};return(0,Ce.a)(ln(it.targetSnapshot.root)).pipe((0,nt.d)(),(0,vt.q)(1))}),R(()=>this.afterPreactivation()),(0,Ue.U)(it=>{const ln=function Yn(S,N,w){const k=Zi(S,N._root,w?w._root:void 0);return new jr(k,N)}(w.routeReuseStrategy,it.targetSnapshot,it.currentRouterState);return this.currentTransition=re={...it,targetRouterState:ln},re}),(0,_t.b)(()=>{this.events.next(new oa)}),((S,N,w,k)=>(0,Ue.U)(G=>(new zr(N,G.targetRouterState,G.currentRouterState,w,k).activate(S),G)))(this.rootContexts,w.routeReuseStrategy,it=>this.events.next(it),this.inputBindingEnabled),(0,vt.q)(1),(0,_t.b)({next:it=>{Ee=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new zi(it.id,this.urlSerializer.serialize(it.extractedUrl),this.urlSerializer.serialize(it.urlAfterRedirects))),w.titleStrategy?.updateTitle(it.targetRouterState.snapshot),it.resolve(!0)},complete:()=>{Ee=!0}}),(0,ft.R)(this.transitionAbortSubject.pipe((0,_t.b)(it=>{throw it}))),(0,lt.x)(()=>{Ee||rt||this.cancelNavigationTransition(re,"",1),this.currentNavigation?.id===re.id&&(this.currentNavigation=null)}),(0,Rt.K)(it=>{if(rt=!0,Xi(it))this.events.next(new Br(re.id,this.urlSerializer.serialize(re.extractedUrl),it.message,it.cancellationCode)),function Ln(S){return Xi(S)&&Gn(S.url)}(it)?this.events.next(new as(it.url)):re.resolve(!1);else{this.events.next(new Qi(re.id,this.urlSerializer.serialize(re.extractedUrl),it,re.targetSnapshot??void 0));try{re.resolve(w.errorHandler(it))}catch(ln){re.reject(ln)}}return Mt.E}))}))}cancelNavigationTransition(w,k,G){const re=new Br(w.id,this.urlSerializer.serialize(w.extractedUrl),k,G);this.events.next(re),w.resolve(!1)}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=I.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function dn(S){return S!==mr}let fr=(()=>{class S{buildTitle(w){let k,G=w.root;for(;void 0!==G;)k=this.getResolvedTitleForRoute(G)??k,G=G.children.find(re=>re.outlet===Bt);return k}getResolvedTitleForRoute(w){return w.data[on]}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=I.Yz7({token:S,factory:function(){return(0,I.f3M)(Rr)},providedIn:"root"})}return S})(),Rr=(()=>{class S extends fr{constructor(w){super(),this.title=w}updateTitle(w){const k=this.buildTitle(w);void 0!==k&&this.title.setTitle(k)}static#e=this.\u0275fac=function(k){return new(k||S)(I.LFG(Vt.Dx))};static#t=this.\u0275prov=I.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})(),wr=(()=>{class S{static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=I.Yz7({token:S,factory:function(){return(0,I.f3M)(Lr)},providedIn:"root"})}return S})();class Jn{shouldDetach(N){return!1}store(N,w){}shouldAttach(N){return!1}retrieve(N){return null}shouldReuseRoute(N,w){return N.routeConfig===w.routeConfig}}let Lr=(()=>{class S extends Jn{static#e=this.\u0275fac=function(){let w;return function(G){return(w||(w=I.n5z(S)))(G||S)}}();static#t=this.\u0275prov=I.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const Er=new I.OlP("",{providedIn:"root",factory:()=>({})});let Ii=(()=>{class S{static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=I.Yz7({token:S,factory:function(){return(0,I.f3M)(Wi)},providedIn:"root"})}return S})(),Wi=(()=>{class S{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,k){return w}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=I.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();var Bi=function(S){return S[S.COMPLETE=0]="COMPLETE",S[S.FAILED=1]="FAILED",S[S.REDIRECTING=2]="REDIRECTING",S}(Bi||{});function Ho(S,N){S.events.pipe((0,de.h)(w=>w instanceof zi||w instanceof Br||w instanceof Qi||w instanceof Ns),(0,Ue.U)(w=>w instanceof zi||w instanceof Ns?Bi.COMPLETE:w instanceof Br&&(0===w.code||1===w.code)?Bi.REDIRECTING:Bi.FAILED),(0,de.h)(w=>w!==Bi.REDIRECTING),(0,vt.q)(1)).subscribe(()=>{N()})}function ws(S){throw S}function Gr(S,N,w){return N.parse("/")}const Un={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$o={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bs=(()=>{class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,I.f3M)(I.c2e),this.isNgZoneEnabled=!1,this._events=new Be.x,this.options=(0,I.f3M)(Er,{optional:!0})||{},this.pendingTasks=(0,I.f3M)(I.HDt),this.errorHandler=this.options.errorHandler||ws,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Gr,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,I.f3M)(Ii),this.routeReuseStrategy=(0,I.f3M)(wr),this.titleStrategy=(0,I.f3M)(fr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,I.f3M)(X,{optional:!0})?.flat()??[],this.navigationTransitions=(0,I.f3M)(bt),this.urlSerializer=(0,I.f3M)(si),this.location=(0,I.f3M)(Xe.Ye),this.componentInputBindingEnabled=!!(0,I.f3M)(Hr,{optional:!0}),this.eventsSubscription=new dt.w0,this.isNgZoneEnabled=(0,I.f3M)(I.R0b)instanceof I.R0b&&I.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new _r,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=xi(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(w=>{this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(k=>{try{const{currentTransition:G}=this.navigationTransitions;if(null===G)return void(ha(k)&&this._events.next(k));if(k instanceof co)dn(G.source)&&(this.browserUrlTree=G.extractedUrl);else if(k instanceof Ns)this.rawUrlTree=G.rawUrl;else if(k instanceof Fi){if("eager"===this.urlUpdateStrategy){if(!G.extras.skipLocationChange){const re=this.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl);this.setBrowserUrl(re,G)}this.browserUrlTree=G.urlAfterRedirects}}else if(k instanceof oa)this.currentUrlTree=G.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl),this.routerState=G.targetRouterState,"deferred"===this.urlUpdateStrategy&&(G.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,G),this.browserUrlTree=G.urlAfterRedirects);else if(k instanceof Br)0!==k.code&&1!==k.code&&(this.navigated=!0),(3===k.code||2===k.code)&&this.restoreHistory(G);else if(k instanceof as){const re=this.urlHandlingStrategy.merge(k.url,G.currentRawUrl),Ee={skipLocationChange:G.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||dn(G.source)};this.scheduleNavigation(re,mr,null,Ee,{resolve:G.resolve,reject:G.reject,promise:G.promise})}k instanceof Qi&&this.restoreHistory(G,!0),k instanceof zi&&(this.navigated=!0),ha(k)&&this._events.next(k)}catch(G){this.navigationTransitions.transitionAbortSubject.next(G)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),mr,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const k="popstate"===w.type?"popstate":"hashchange";"popstate"===k&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,k,w.state)},0)}))}navigateToSyncWithBrowser(w,k,G){const re={replaceUrl:!0},Ee=G?.navigationId?G:null;if(G){const it={...G};delete it.navigationId,delete it.\u0275routerPageId,0!==Object.keys(it).length&&(re.state=it)}const rt=this.parseUrl(w);this.scheduleNavigation(rt,k,Ee,re)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(es),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,k={}){const{relativeTo:G,queryParams:re,fragment:Ee,queryParamsHandling:rt,preserveFragment:it}=k,ln=it?this.currentUrlTree.fragment:Ee;let xr,ar=null;switch(rt){case"merge":ar={...this.currentUrlTree.queryParams,...re};break;case"preserve":ar=this.currentUrlTree.queryParams;break;default:ar=re||null}null!==ar&&(ar=this.removeEmptyProps(ar));try{xr=yi(G?G.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||!w[0].startsWith("/"))&&(w=[]),xr=this.currentUrlTree.root}return xs(xr,w,ar,ln??null)}navigateByUrl(w,k={skipLocationChange:!1}){const G=Gn(w)?w:this.parseUrl(w),re=this.urlHandlingStrategy.merge(G,this.rawUrlTree);return this.scheduleNavigation(re,mr,null,k)}navigate(w,k={skipLocationChange:!1}){return function qr(S){for(let N=0;N<S.length;N++)if(null==S[N])throw new I.vHH(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,k),k)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let k;try{k=this.urlSerializer.parse(w)}catch(G){k=this.malformedUriErrorHandler(G,this.urlSerializer,w)}return k}isActive(w,k){let G;if(G=!0===k?{...Un}:!1===k?{...$o}:k,Gn(w))return ur(this.currentUrlTree,w,G);const re=this.parseUrl(w);return ur(this.currentUrlTree,re,G)}removeEmptyProps(w){return Object.keys(w).reduce((k,G)=>{const re=w[G];return null!=re&&(k[G]=re),k},{})}scheduleNavigation(w,k,G,re,Ee){if(this.disposed)return Promise.resolve(!1);let rt,it,ln;Ee?(rt=Ee.resolve,it=Ee.reject,ln=Ee.promise):ln=new Promise((xr,zn)=>{rt=xr,it=zn});const ar=this.pendingTasks.add();return Ho(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(ar))}),this.navigationTransitions.handleNavigationRequest({source:k,restoredState:G,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:w,extras:re,resolve:rt,reject:it,promise:ln,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ln.catch(xr=>Promise.reject(xr))}setBrowserUrl(w,k){const G=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(G)||k.extras.replaceUrl){const Ee={...k.extras.state,...this.generateNgRouterState(k.id,this.browserPageId)};this.location.replaceState(G,"",Ee)}else{const re={...k.extras.state,...this.generateNgRouterState(k.id,this.browserPageId+1)};this.location.go(G,"",re)}}restoreHistory(w,k=!1){if("computed"===this.canceledNavigationResolution){const re=this.currentPageId-this.browserPageId;0!==re?this.location.historyGo(re):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===re&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(k&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,k){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:k}:{navigationId:w}}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=I.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function ha(S){return!(S instanceof oa||S instanceof as)}let To=(()=>{class S{constructor(w,k,G,re,Ee,rt){this.router=w,this.route=k,this.tabIndexAttribute=G,this.renderer=re,this.el=Ee,this.locationStrategy=rt,this.href=null,this.commands=null,this.onChanges=new Be.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const it=Ee.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===it||"area"===it,this.isAnchorElement?this.subscription=w.events.subscribe(ln=>{ln instanceof zi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,k,G,re,Ee){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||k||G||re||Ee||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const w=null===this.href?null:(0,I.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",w)}applyAttributeValue(w,k){const G=this.renderer,re=this.el.nativeElement;null!==k?G.setAttribute(re,w,k):G.removeAttribute(re,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(k){return new(k||S)(I.Y36(Bs),I.Y36(Gi),I.$8M("tabindex"),I.Y36(I.Qsj),I.Y36(I.SBq),I.Y36(Xe.S$))};static#t=this.\u0275dir=I.lG2({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(k,G){1&k&&I.NdJ("click",function(Ee){return G.onClick(Ee.button,Ee.ctrlKey,Ee.shiftKey,Ee.altKey,Ee.metaKey)}),2&k&&I.uIk("target",G.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",I.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",I.VuI],replaceUrl:["replaceUrl","replaceUrl",I.VuI],routerLink:"routerLink"},standalone:!0,features:[I.Xq5,I.TTD]})}return S})();class Yl{}let rl=(()=>{class S{constructor(w,k,G,re,Ee){this.router=w,this.injector=G,this.preloadingStrategy=re,this.loader=Ee}setUpPreloading(){this.subscription=this.router.events.pipe((0,de.h)(w=>w instanceof zi),(0,Bn.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,k){const G=[];for(const re of k){re.providers&&!re._injector&&(re._injector=(0,I.MMx)(re.providers,w,`Route: ${re.path}`));const Ee=re._injector??w,rt=re._loadedInjector??Ee;(re.loadChildren&&!re._loadedRoutes&&void 0===re.canLoad||re.loadComponent&&!re._loadedComponent)&&G.push(this.preloadConfig(Ee,re)),(re.children||re._loadedRoutes)&&G.push(this.processRoutes(rt,re.children??re._loadedRoutes))}return(0,_e.D)(G).pipe((0,Gt.J)())}preloadConfig(w,k){return this.preloadingStrategy.preload(k,()=>{let G;G=k.loadChildren&&void 0===k.canLoad?this.loader.loadChildren(w,k):(0,we.of)(null);const re=G.pipe((0,gt.z)(Ee=>null===Ee?(0,we.of)(void 0):(k._loadedRoutes=Ee.routes,k._loadedInjector=Ee.injector,this.processRoutes(Ee.injector??w,Ee.routes))));if(k.loadComponent&&!k._loadedComponent){const Ee=this.loader.loadComponent(k);return(0,_e.D)([re,Ee]).pipe((0,Gt.J)())}return re})}static#e=this.\u0275fac=function(k){return new(k||S)(I.LFG(Bs),I.LFG(I.Sil),I.LFG(I.lqb),I.LFG(Yl),I.LFG(B))};static#t=this.\u0275prov=I.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const uc=new I.OlP("");let Nu=(()=>{class S{constructor(w,k,G,re,Ee={}){this.urlSerializer=w,this.transitions=k,this.viewportScroller=G,this.zone=re,this.options=Ee,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ee.scrollPositionRestoration=Ee.scrollPositionRestoration||"disabled",Ee.anchorScrolling=Ee.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof co?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof zi?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof Ns&&0===w.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof ti&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,k){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ti(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,k))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(k){I.$Z()};static#t=this.\u0275prov=I.Yz7({token:S,factory:S.\u0275fac})}return S})();function wo(S,N){return{\u0275kind:S,\u0275providers:N}}function $n(){const S=(0,I.f3M)(I.zs3);return N=>{const w=S.get(I.z2F);if(N!==w.components[0])return;const k=S.get(Bs),G=S.get(Gd);1===S.get(il)&&k.initialNavigation(),S.get(di,null,I.XFs.Optional)?.setUpPreloading(),S.get(uc,null,I.XFs.Optional)?.init(),k.resetRootComponentType(w.componentTypes[0]),G.closed||(G.next(),G.complete(),G.unsubscribe())}}const Gd=new I.OlP("",{factory:()=>new Be.x}),il=new I.OlP("",{providedIn:"root",factory:()=>1}),di=new I.OlP("");function ja(S){return wo(0,[{provide:di,useExisting:rl},{provide:Yl,useExisting:S}])}const St=new I.OlP("ROUTER_FORROOT_GUARD"),yr=[Xe.Ye,{provide:si,useClass:Hn},Bs,bs,{provide:Gi,useFactory:function Co(S){return S.routerState.root},deps:[Bs]},B,[]];function Wd(){return new I.PXZ("Router",Bs)}let dc=(()=>{class S{constructor(w){}static forRoot(w,k){return{ngModule:S,providers:[yr,[],{provide:X,multi:!0,useValue:w},{provide:St,useFactory:ts,deps:[[Bs,new I.FiY,new I.tp0]]},{provide:Er,useValue:k||{}},k?.useHash?{provide:Xe.S$,useClass:Xe.Do}:{provide:Xe.S$,useClass:Xe.b0},{provide:uc,useFactory:()=>{const S=(0,I.f3M)(Xe.EM),N=(0,I.f3M)(I.R0b),w=(0,I.f3M)(Er),k=(0,I.f3M)(bt),G=(0,I.f3M)(si);return w.scrollOffset&&S.setOffset(w.scrollOffset),new Nu(G,k,S,N,w)}},k?.preloadingStrategy?ja(k.preloadingStrategy).\u0275providers:[],{provide:I.PXZ,multi:!0,useFactory:Wd},k?.initialNavigation?sl(k):[],k?.bindToComponentInputs?wo(8,[ni,{provide:Hr,useExisting:ni}]).\u0275providers:[],[{provide:hc,useFactory:$n},{provide:I.tb,multi:!0,useExisting:hc}]]}}static forChild(w){return{ngModule:S,providers:[{provide:X,multi:!0,useValue:w}]}}static#e=this.\u0275fac=function(k){return new(k||S)(I.LFG(St,8))};static#t=this.\u0275mod=I.oAB({type:S});static#n=this.\u0275inj=I.cJS({})}return S})();function ts(S){return"guarded"}function sl(S){return["disabled"===S.initialNavigation?wo(3,[{provide:I.ip1,multi:!0,useFactory:()=>{const N=(0,I.f3M)(Bs);return()=>{N.setUpLocationChangeListener()}}},{provide:il,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?wo(2,[{provide:il,useValue:0},{provide:I.ip1,multi:!0,deps:[I.zs3],useFactory:N=>{const w=N.get(Xe.V_,Promise.resolve());return()=>w.then(()=>new Promise(k=>{const G=N.get(Bs),re=N.get(Gd);Ho(G,()=>{k(!0)}),N.get(bt).afterPreactivation=()=>(k(!0),re.closed?(0,we.of)(void 0):re),G.initialNavigation()}))}}]).\u0275providers:[]]}const hc=new I.OlP("")},5513:(zt,$e,j)=>{j.d($e,{Gb:()=>Yc,Kz:()=>ds,EI:()=>es,lT:()=>Kn,Iv:()=>Qn,xP:()=>Na,Xd:()=>Ln});var I=j(5861),u=j(4303),W=j(7879),ve=j(9058),_e=j(4537),we=j(1878);const he="@firebase/installations",Ce="0.6.7",De=1e4,ue=`w:${Ce}`,ge="FIS_v2",Me="https://firebaseinstallations.googleapis.com/v1",ut=36e5,Ct=new ve.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function mt(ae){return ae instanceof ve.ZR&&ae.code.includes("request-failed")}function Xt({projectId:ae}){return`${Me}/projects/${ae}/installations`}function qe(ae){return{token:ae.token,requestStatus:2,expiresIn:de(ae.expiresIn),creationTime:Date.now()}}function Be(ae,be){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,I.Z)(function*(ae,be){const It=(yield be.json()).error;return Ct.create("request-failed",{requestName:ae,serverCode:It.code,serverMessage:It.message,serverStatus:It.status})})).apply(this,arguments)}function Ue({apiKey:ae}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":ae})}function vt(ae){return ze.apply(this,arguments)}function ze(){return(ze=(0,I.Z)(function*(ae){const be=yield ae();return be.status>=500&&be.status<600?ae():be})).apply(this,arguments)}function de(ae){return Number(ae.replace("s","000"))}function Bn(){return(Bn=(0,I.Z)(function*({appConfig:ae,heartbeatServiceProvider:be},{fid:Le}){const It=Xt(ae),Nt=Ue(ae),Qt=be.getImmediate({optional:!0});if(Qt){const qn=yield Qt.getHeartbeatsHeader();qn&&Nt.append("x-firebase-client",qn)}const Vn={method:"POST",headers:Nt,body:JSON.stringify({fid:Le,authVersion:ge,appId:ae.appId,sdkVersion:ue})},bn=yield vt(()=>fetch(It,Vn));if(bn.ok){const qn=yield bn.json();return{fid:qn.fid||Le,registrationStatus:2,refreshToken:qn.refreshToken,authToken:qe(qn.authToken)}}throw yield Be("Create Installation",bn)})).apply(this,arguments)}function _t(ae){return new Promise(be=>{setTimeout(be,ae)})}const Wt=/^[cdef][\w-]{21}$/,nt="";function Pe(){try{const ae=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(ae),ae[0]=112+ae[0]%16;const Le=function fe(ae){return function Rt(ae){return btoa(String.fromCharCode(...ae)).replace(/\+/g,"-").replace(/\//g,"_")}(ae).substr(0,22)}(ae);return Wt.test(Le)?Le:nt}catch{return nt}}function Oe(ae){return`${ae.appName}!${ae.appId}`}const We=new Map;function Ke(ae,be){const Le=Oe(ae);Gt(Le,be),function Vt(ae,be){const Le=function on(){return!Bt&&"BroadcastChannel"in self&&(Bt=new BroadcastChannel("[Firebase] FID Change"),Bt.onmessage=ae=>{Gt(ae.data.key,ae.data.fid)}),Bt}();Le&&Le.postMessage({key:ae,fid:be}),function jn(){0===We.size&&Bt&&(Bt.close(),Bt=null)}()}(Le,be)}function Gt(ae,be){const Le=We.get(ae);if(Le)for(const It of Le)It(be)}let Bt=null;const un="firebase-installations-database",er=1,qt="firebase-installations-store";let an=null;function mn(){return an||(an=(0,we.X3)(un,er,{upgrade:(ae,be)=>{0===be&&ae.createObjectStore(qt)}})),an}function vn(ae,be){return $t.apply(this,arguments)}function $t(){return($t=(0,I.Z)(function*(ae,be){const Le=Oe(ae),Nt=(yield mn()).transaction(qt,"readwrite"),Qt=Nt.objectStore(qt),cn=yield Qt.get(Le);return yield Qt.put(be,Le),yield Nt.done,(!cn||cn.fid!==be.fid)&&Ke(ae,be.fid),be})).apply(this,arguments)}function li(ae){return In.apply(this,arguments)}function In(){return(In=(0,I.Z)(function*(ae){const be=Oe(ae),It=(yield mn()).transaction(qt,"readwrite");yield It.objectStore(qt).delete(be),yield It.done})).apply(this,arguments)}function ur(ae,be){return On.apply(this,arguments)}function On(){return(On=(0,I.Z)(function*(ae,be){const Le=Oe(ae),Nt=(yield mn()).transaction(qt,"readwrite"),Qt=Nt.objectStore(qt),cn=yield Qt.get(Le),Vn=be(cn);return void 0===Vn?yield Qt.delete(Le):yield Qt.put(Vn,Le),yield Nt.done,Vn&&(!cn||cn.fid!==Vn.fid)&&Ke(ae,Vn.fid),Vn})).apply(this,arguments)}function Ot(ae){return fn.apply(this,arguments)}function fn(){return fn=(0,I.Z)(function*(ae){let be;const Le=yield ur(ae.appConfig,It=>{const Nt=function wn(ae){return ui(ae||{fid:Pe(),registrationStatus:0})}(It),Qt=function _n(ae,be){if(0===be.registrationStatus){if(!navigator.onLine)return{installationEntry:be,registrationPromise:Promise.reject(Ct.create("app-offline"))};const Le={fid:be.fid,registrationStatus:1,registrationTime:Date.now()},It=function br(ae,be){return _r.apply(this,arguments)}(ae,Le);return{installationEntry:Le,registrationPromise:It}}return 1===be.registrationStatus?{installationEntry:be,registrationPromise:Nn(ae)}:{installationEntry:be}}(ae,Nt);return be=Qt.registrationPromise,Qt.installationEntry});return Le.fid===nt?{installationEntry:yield be}:{installationEntry:Le,registrationPromise:be}}),fn.apply(this,arguments)}function _r(){return _r=(0,I.Z)(function*(ae,be){try{const Le=yield function Ut(ae,be){return Bn.apply(this,arguments)}(ae,be);return vn(ae.appConfig,Le)}catch(Le){throw mt(Le)&&409===Le.customData.serverCode?yield li(ae.appConfig):yield vn(ae.appConfig,{fid:be.fid,registrationStatus:0}),Le}}),_r.apply(this,arguments)}function Nn(ae){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,I.Z)(function*(ae){let be=yield Ir(ae.appConfig);for(;1===be.registrationStatus;)yield _t(100),be=yield Ir(ae.appConfig);if(0===be.registrationStatus){const{installationEntry:Le,registrationPromise:It}=yield Ot(ae);return It||Le}return be})).apply(this,arguments)}function Ir(ae){return ur(ae,be=>{if(!be)throw Ct.create("installation-not-found");return ui(be)})}function ui(ae){return function Kt(ae){return 1===ae.registrationStatus&&ae.registrationTime+De<Date.now()}(ae)?{fid:ae.fid,registrationStatus:0}:ae}function Hn(){return(Hn=(0,I.Z)(function*({appConfig:ae,heartbeatServiceProvider:be},Le){const It=function pr(ae,{fid:be}){return`${Xt(ae)}/${be}/authTokens:generate`}(ae,Le),Nt=function et(ae,{refreshToken:be}){const Le=Ue(ae);return Le.append("Authorization",function gt(ae){return`${ge} ${ae}`}(be)),Le}(ae,Le),Qt=be.getImmediate({optional:!0});if(Qt){const qn=yield Qt.getHeartbeatsHeader();qn&&Nt.append("x-firebase-client",qn)}const Vn={method:"POST",headers:Nt,body:JSON.stringify({installation:{sdkVersion:ue,appId:ae.appId}})},bn=yield vt(()=>fetch(It,Vn));if(bn.ok)return qe(yield bn.json());throw yield Be("Generate Auth Token",bn)})).apply(this,arguments)}function gr(ae){return Yr.apply(this,arguments)}function Yr(){return Yr=(0,I.Z)(function*(ae,be=!1){let Le;const It=yield ur(ae.appConfig,Qt=>{if(!Lt(Qt))throw Ct.create("not-registered");const cn=Qt.authToken;if(!be&&function Dn(ae){return 2===ae.requestStatus&&!function oi(ae){const be=Date.now();return be<ae.creationTime||ae.creationTime+ae.expiresIn<be+ut}(ae)}(cn))return Qt;if(1===cn.requestStatus)return Le=function je(ae,be){return Et.apply(this,arguments)}(ae,be),Qt;{if(!navigator.onLine)throw Ct.create("app-offline");const Vn=function xt(ae){const be={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},ae),{authToken:be})}(Qt);return Le=function Te(ae,be){return ct.apply(this,arguments)}(ae,Vn),Vn}});return Le?yield Le:It.authToken}),Yr.apply(this,arguments)}function Et(){return(Et=(0,I.Z)(function*(ae,be){let Le=yield ie(ae.appConfig);for(;1===Le.authToken.requestStatus;)yield _t(100),Le=yield ie(ae.appConfig);const It=Le.authToken;return 0===It.requestStatus?gr(ae,be):It})).apply(this,arguments)}function ie(ae){return ur(ae,be=>{if(!Lt(be))throw Ct.create("not-registered");return function oe(ae){return 1===ae.requestStatus&&ae.requestTime+De<Date.now()}(be.authToken)?Object.assign(Object.assign({},be),{authToken:{requestStatus:0}}):be})}function ct(){return ct=(0,I.Z)(function*(ae,be){try{const Le=yield function si(ae,be){return Hn.apply(this,arguments)}(ae,be),It=Object.assign(Object.assign({},be),{authToken:Le});return yield vn(ae.appConfig,It),Le}catch(Le){if(!mt(Le)||401!==Le.customData.serverCode&&404!==Le.customData.serverCode){const It=Object.assign(Object.assign({},be),{authToken:{requestStatus:0}});yield vn(ae.appConfig,It)}else yield li(ae.appConfig);throw Le}}),ct.apply(this,arguments)}function Lt(ae){return void 0!==ae&&2===ae.registrationStatus}function H(){return(H=(0,I.Z)(function*(ae){const be=ae,{installationEntry:Le,registrationPromise:It}=yield Ot(be);return It?It.catch(console.error):gr(be).catch(console.error),Le.fid})).apply(this,arguments)}function F(){return F=(0,I.Z)(function*(ae,be=!1){const Le=ae;return yield function ce(ae){return xe.apply(this,arguments)}(Le),(yield gr(Le,be)).token}),F.apply(this,arguments)}function xe(){return(xe=(0,I.Z)(function*(ae){const{registrationPromise:be}=yield Ot(ae);be&&(yield be)})).apply(this,arguments)}function xs(ae){return Ct.create("missing-app-config-values",{valueName:ae})}const Fo="installations",vo=ae=>{const be=ae.getProvider("app").getImmediate(),Le=function yi(ae){if(!ae||!ae.options)throw xs("App Configuration");if(!ae.name)throw xs("App Name");const be=["projectId","apiKey","appId"];for(const Le of be)if(!ae.options[Le])throw xs(Le);return{appName:ae.name,projectId:ae.options.projectId,apiKey:ae.options.apiKey,appId:ae.options.appId}}(be);return{app:be,appConfig:Le,heartbeatServiceProvider:(0,u._getProvider)(be,"heartbeat"),_delete:()=>Promise.resolve()}},Os=ae=>{const be=ae.getProvider("app").getImmediate(),Le=(0,u._getProvider)(be,Fo).getImmediate();return{getId:()=>function Q(ae){return H.apply(this,arguments)}(Le),getToken:Nt=>function U(ae){return F.apply(this,arguments)}(Le,Nt)}};(function ki(){(0,u._registerComponent)(new _e.wA(Fo,vo,"PUBLIC")),(0,u._registerComponent)(new _e.wA("installations-internal",Os,"PRIVATE"))})(),(0,u.registerVersion)(he,Ce),(0,u.registerVersion)(he,Ce,"esm2017");const or="analytics",Zs="firebase_id",Pa="origin",Ra=6e4,Gl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Yi="https://www.googletagmanager.com/gtag/js",Mr=new W.Yd("@firebase/analytics"),ai=new ve.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function xa(ae){if(!ae.startsWith(Yi)){const be=ai.create("invalid-gtag-resource",{gtagURL:ae});return Mr.warn(be.message),""}return ae}function ia(ae){return Promise.all(ae.map(be=>be.catch(Le=>Le)))}function zi(){return(zi=(0,I.Z)(function*(ae,be,Le,It,Nt,Qt){const cn=It[Nt];try{if(cn)yield be[cn];else{const bn=(yield ia(Le)).find(qn=>qn.measurementId===Nt);bn&&(yield be[bn.appId])}}catch(Vn){Mr.error(Vn)}ae("config",Nt,Qt)})).apply(this,arguments)}function Ns(){return(Ns=(0,I.Z)(function*(ae,be,Le,It,Nt){try{let Qt=[];if(Nt&&Nt.send_to){let cn=Nt.send_to;Array.isArray(cn)||(cn=[cn]);const Vn=yield ia(Le);for(const bn of cn){const qn=Vn.find(hs=>hs.measurementId===bn),Vi=qn&&be[qn.appId];if(!Vi){Qt=[];break}Qt.push(Vi)}}0===Qt.length&&(Qt=Object.values(be)),yield Promise.all(Qt),ae("event",It,Nt||{})}catch(Qt){Mr.error(Qt)}})).apply(this,arguments)}const Pr=30,Tr=new class pi{constructor(be={},Le=1e3){this.throttleMetadata=be,this.intervalMillis=Le}getThrottleMetadata(be){return this.throttleMetadata[be]}setThrottleMetadata(be,Le){this.throttleMetadata[be]=Le}deleteThrottleMetadata(be){delete this.throttleMetadata[be]}};function nc(ae){return new Headers({Accept:"application/json","x-goog-api-key":ae})}function Ai(){return(Ai=(0,I.Z)(function*(ae){var be;const{appId:Le,apiKey:It}=ae,Nt={method:"GET",headers:nc(It)},Qt=Gl.replace("{app-id}",Le),cn=yield fetch(Qt,Nt);if(200!==cn.status&&304!==cn.status){let Vn="";try{const bn=yield cn.json();null!==(be=bn.error)&&void 0!==be&&be.message&&(Vn=bn.error.message)}catch{}throw ai.create("config-fetch-failed",{httpStatus:cn.status,responseMessage:Vn})}return cn.json()})).apply(this,arguments)}function sa(){return(sa=(0,I.Z)(function*(ae,be=Tr,Le){const{appId:It,apiKey:Nt,measurementId:Qt}=ae.options;if(!It)throw ai.create("no-app-id");if(!Nt){if(Qt)return{measurementId:Qt,appId:It};throw ai.create("no-api-key")}const cn=be.getThrottleMetadata(It)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Vn=new Is;return setTimeout((0,I.Z)(function*(){Vn.abort()}),void 0!==Le?Le:Ra),ti({appId:It,apiKey:Nt,measurementId:Qt},cn,Vn,be)})).apply(this,arguments)}function ti(ae,be,Le){return oa.apply(this,arguments)}function oa(){return oa=(0,I.Z)(function*(ae,{throttleEndTimeMillis:be,backoffCount:Le},It,Nt=Tr){var Qt;const{appId:cn,measurementId:Vn}=ae;try{yield function as(ae,be){return new Promise((Le,It)=>{const Nt=Math.max(be-Date.now(),0),Qt=setTimeout(Le,Nt);ae.addEventListener(()=>{clearTimeout(Qt),It(ai.create("fetch-throttle",{throttleEndTimeMillis:be}))})})}(It,be)}catch(bn){if(Vn)return Mr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Vn} provided in the "measurementId" field in the local Firebase config. [${bn?.message}]`),{appId:cn,measurementId:Vn};throw bn}try{const bn=yield function ks(ae){return Ai.apply(this,arguments)}(ae);return Nt.deleteThrottleMetadata(cn),bn}catch(bn){const qn=bn;if(!function Qr(ae){if(!(ae instanceof ve.ZR&&ae.customData))return!1;const be=Number(ae.customData.httpStatus);return 429===be||500===be||503===be||504===be}(qn)){if(Nt.deleteThrottleMetadata(cn),Vn)return Mr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Vn} provided in the "measurementId" field in the local Firebase config. [${qn?.message}]`),{appId:cn,measurementId:Vn};throw bn}const Vi=503===Number(null===(Qt=qn?.customData)||void 0===Qt?void 0:Qt.httpStatus)?(0,ve.$s)(Le,Nt.intervalMillis,Pr):(0,ve.$s)(Le,Nt.intervalMillis),hs={throttleEndTimeMillis:Date.now()+Vi,backoffCount:Le+1};return Nt.setThrottleMetadata(cn,hs),Mr.debug(`Calling attemptFetch again in ${Vi} millis`),ti(ae,hs,It,Nt)}}),oa.apply(this,arguments)}class Is{constructor(){this.listeners=[]}addEventListener(be){this.listeners.push(be)}abort(){this.listeners.forEach(be=>be())}}let bs,Ts;function Ri(){return(Ri=(0,I.Z)(function*(ae,be,Le,It,Nt){if(Nt&&Nt.global)ae("event",Le,It);else{const Qt=yield be;ae("event",Le,Object.assign(Object.assign({},It),{send_to:Qt}))}})).apply(this,arguments)}function An(){return(An=(0,I.Z)(function*(ae,be,Le,It){if(It&&It.global)return ae("set",{screen_name:Le}),Promise.resolve();ae("config",yield be,{update:!0,screen_name:Le})})).apply(this,arguments)}function jr(){return(jr=(0,I.Z)(function*(ae,be,Le,It){if(It&&It.global)return ae("set",{user_id:Le}),Promise.resolve();ae("config",yield be,{update:!0,user_id:Le})})).apply(this,arguments)}function kr(){return(kr=(0,I.Z)(function*(ae,be,Le,It){if(It&&It.global){const Nt={};for(const Qt of Object.keys(Le))Nt[`user_properties.${Qt}`]=Le[Qt];return ae("set",Nt),Promise.resolve()}ae("config",yield be,{update:!0,user_properties:Le})})).apply(this,arguments)}function qi(){return(qi=(0,I.Z)(function*(ae,be){const Le=yield ae;window[`ga-disable-${Le}`]=!be})).apply(this,arguments)}function lr(){return(lr=(0,I.Z)(function*(){if(!(0,ve.hl)())return Mr.warn(ai.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ve.eu)()}catch(ae){return Mr.warn(ai.create("indexeddb-unavailable",{errorInfo:ae?.toString()}).message),!1}return!0})).apply(this,arguments)}function lo(){return lo=(0,I.Z)(function*(ae,be,Le,It,Nt,Qt,cn){var Vn;const bn=function os(ae){return sa.apply(this,arguments)}(ae);bn.then(Ws=>{Le[Ws.measurementId]=Ws.appId,ae.options.measurementId&&Ws.measurementId!==ae.options.measurementId&&Mr.warn(`The measurement ID in the local Firebase config (${ae.options.measurementId}) does not match the measurement ID fetched from the server (${Ws.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ws=>Mr.error(Ws)),be.push(bn);const qn=function Mn(){return lr.apply(this,arguments)}().then(Ws=>{if(Ws)return It.getId()}),[Vi,hs]=yield Promise.all([bn,qn]);(function ec(ae){const be=window.document.getElementsByTagName("script");for(const Le of Object.values(be))if(Le.src&&Le.src.includes(Yi)&&Le.src.includes(ae))return Le;return null})(Qt)||function mr(ae,be){const Le=function Oa(ae,be){let Le;return window.trustedTypes&&(Le=window.trustedTypes.createPolicy(ae,be)),Le}("firebase-js-sdk-policy",{createScriptURL:xa}),It=document.createElement("script"),Nt=`${Yi}?l=${ae}&id=${be}`;It.src=Le?Le?.createScriptURL(Nt):Nt,It.async=!0,document.head.appendChild(It)}(Qt,Vi.measurementId),Ts&&(Nt("consent","default",Ts),function dr(ae){Ts=ae}(void 0)),Nt("js",new Date);const Ni=null!==(Vn=cn?.config)&&void 0!==Vn?Vn:{};return Ni[Pa]="firebase",Ni.update=!0,null!=hs&&(Ni[Zs]=hs),Nt("config",Vi.measurementId,Ni),bs&&(Nt("set",bs),function Zt(ae){bs=ae}(void 0)),Vi.measurementId}),lo.apply(this,arguments)}class Hr{constructor(be){this.app=be}_delete(){return delete ni[this.app.options.appId],Promise.resolve()}}let ni={},Yn=[];const Zi={};let Ji,tr,cs="dataLayer",Fn="gtag",vi=!1;function Ln(ae){if(vi)throw ai.create("already-initialized");ae.dataLayerName&&(cs=ae.dataLayerName),ae.gtagName&&(Fn=ae.gtagName)}function Ei(ae,be,Le){!function Xi(){const ae=[];if((0,ve.ru)()&&ae.push("This is a browser extension environment."),(0,ve.zI)()||ae.push("Cookies are not available."),ae.length>0){const be=ae.map((It,Nt)=>`(${Nt+1}) ${It}`).join(" "),Le=ai.create("invalid-analytics-context",{errorInfo:be});Mr.warn(Le.message)}}();const It=ae.options.appId;if(!It)throw ai.create("no-app-id");if(!ae.options.apiKey){if(!ae.options.measurementId)throw ai.create("no-api-key");Mr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${ae.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ni[It])throw ai.create("already-exists",{id:It});if(!vi){!function $i(ae){let be=[];Array.isArray(window[ae])?be=window[ae]:window[ae]=be}(cs);const{wrappedGtag:Qt,gtagCore:cn}=function Fi(ae,be,Le,It,Nt){let Qt=function(...cn){window[It].push(arguments)};return window[Nt]&&"function"==typeof window[Nt]&&(Qt=window[Nt]),window[Nt]=function Qi(ae,be,Le,It){function Qt(){return Qt=(0,I.Z)(function*(cn,...Vn){try{if("event"===cn){const[bn,qn]=Vn;yield function Br(ae,be,Le,It,Nt){return Ns.apply(this,arguments)}(ae,be,Le,bn,qn)}else if("config"===cn){const[bn,qn]=Vn;yield function co(ae,be,Le,It,Nt,Qt){return zi.apply(this,arguments)}(ae,be,Le,It,bn,qn)}else if("consent"===cn){const[bn,qn]=Vn;ae("consent",bn,qn)}else if("get"===cn){const[bn,qn,Vi]=Vn;ae("get",bn,qn,Vi)}else if("set"===cn){const[bn]=Vn;ae("set",bn)}else ae(cn,...Vn)}catch(bn){Mr.error(bn)}}),Qt.apply(this,arguments)}return function Nt(cn){return Qt.apply(this,arguments)}}(Qt,ae,be,Le),{gtagCore:Qt,wrappedGtag:window[Nt]}}(ni,Yn,Zi,cs,Fn);tr=Qt,Ji=cn,vi=!0}return ni[It]=function gi(ae,be,Le,It,Nt,Qt,cn){return lo.apply(this,arguments)}(ae,Yn,Zi,be,Ji,cs,Le),new Hr(ae)}function Yc(){return us.apply(this,arguments)}function us(){return(us=(0,I.Z)(function*(){if((0,ve.ru)()||!(0,ve.zI)()||!(0,ve.hl)())return!1;try{return yield(0,ve.eu)()}catch{return!1}})).apply(this,arguments)}function Kn(ae,be,Le){ae=(0,ve.m9)(ae),function aa(ae,be,Le,It){return An.apply(this,arguments)}(tr,ni[ae.app.options.appId],be,Le).catch(It=>Mr.error(It))}function Qn(ae,be,Le){ae=(0,ve.m9)(ae),function Cr(ae,be,Le,It){return jr.apply(this,arguments)}(tr,ni[ae.app.options.appId],be,Le).catch(It=>Mr.error(It))}function Na(ae,be,Le){ae=(0,ve.m9)(ae),function xi(ae,be,Le,It){return kr.apply(this,arguments)}(tr,ni[ae.app.options.appId],be,Le).catch(It=>Mr.error(It))}function es(ae,be){ae=(0,ve.m9)(ae),function Vo(ae,be){return qi.apply(this,arguments)}(ni[ae.app.options.appId],be).catch(Le=>Mr.error(Le))}function ds(ae,be,Le,It){ae=(0,ve.m9)(ae),function Lo(ae,be,Le,It,Nt){return Ri.apply(this,arguments)}(tr,ni[ae.app.options.appId],be,Le,It).catch(Nt=>Mr.error(Nt))}const Uo="@firebase/analytics";!function zr(){(0,u._registerComponent)(new _e.wA(or,(be,{options:Le})=>Ei(be.getProvider("app").getImmediate(),be.getProvider("installations-internal").getImmediate(),Le),"PUBLIC")),(0,u._registerComponent)(new _e.wA("analytics-internal",function ae(be){try{const Le=be.getProvider(or).getImmediate();return{logEvent:(It,Nt,Qt)=>ds(Le,It,Nt,Qt)}}catch(Le){throw ai.create("interop-component-reg-failed",{reason:Le})}},"PRIVATE")),(0,u.registerVersion)(Uo,"0.10.4"),(0,u.registerVersion)(Uo,"0.10.4","esm2017")}()},3106:(zt,$e,j)=>{j.d($e,{Z:()=>Mt});var I=j(9058),u=j(4537),W=j(4303),ve=j(7879);class _e{constructor(Ct,mt){this._delegate=Ct,this.firebase=mt,(0,W._addComponent)(Ct,new u.wA("app-compat",()=>this,"PUBLIC")),this.container=Ct.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ct){this._delegate.automaticDataCollectionEnabled=Ct}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ct=>{this._delegate.checkDestroyed(),Ct()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,W.deleteApp)(this._delegate)))}_getService(Ct,mt=W._DEFAULT_ENTRY_NAME){var Xt;this._delegate.checkDestroyed();const qe=this._delegate.container.getProvider(Ct);return!qe.isInitialized()&&"EXPLICIT"===(null===(Xt=qe.getComponent())||void 0===Xt?void 0:Xt.instantiationMode)&&qe.initialize(),qe.getImmediate({identifier:mt})}_removeServiceInstance(Ct,mt=W._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ct).clearInstance(mt)}_addComponent(Ct){(0,W._addComponent)(this._delegate,Ct)}_addOrOverwriteComponent(Ct){(0,W._addOrOverwriteComponent)(this._delegate,Ct)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const he=new I.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ue=function De(){const dt=function Ce(dt){const Ct={},mt={__esModule:!0,initializeApp:function Be(vt,ze={}){const de=W.initializeApp(vt,ze);if((0,I.r3)(Ct,de.name))return Ct[de.name];const gt=new dt(de,mt);return Ct[de.name]=gt,gt},app:qe,registerVersion:W.registerVersion,setLogLevel:W.setLogLevel,onLog:W.onLog,apps:null,SDK_VERSION:W.SDK_VERSION,INTERNAL:{registerComponent:function Ue(vt){const ze=vt.name,de=ze.replace("-compat","");if(W._registerComponent(vt)&&"PUBLIC"===vt.type){const gt=(Ut=qe())=>{if("function"!=typeof Ut[de])throw he.create("invalid-app-argument",{appName:ze});return Ut[de]()};void 0!==vt.serviceProps&&(0,I.ZB)(gt,vt.serviceProps),mt[de]=gt,dt.prototype[de]=function(...Ut){return this._getService.bind(this,ze).apply(this,vt.multipleInstances?Ut:[])}}return"PUBLIC"===vt.type?mt[de]:null},removeApp:function Xt(vt){delete Ct[vt]},useAsService:function et(vt,ze){return"serverAuth"===ze?null:ze},modularAPIs:W}};function qe(vt){if(!(0,I.r3)(Ct,vt=vt||W._DEFAULT_ENTRY_NAME))throw he.create("no-app",{appName:vt});return Ct[vt]}return mt.default=mt,Object.defineProperty(mt,"apps",{get:function Xe(){return Object.keys(Ct).map(vt=>Ct[vt])}}),qe.App=dt,mt}(_e);return dt.INTERNAL=Object.assign(Object.assign({},dt.INTERNAL),{createFirebaseNamespace:De,extendNamespace:function Ct(mt){(0,I.ZB)(dt,mt)},createSubscribe:I.ne,ErrorFactory:I.LL,deepExtend:I.ZB}),dt}(),ge=new ve.Yd("@firebase/app-compat");if((0,I.jU)()&&void 0!==self.firebase){ge.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const dt=self.firebase.SDK_VERSION;dt&&dt.indexOf("LITE")>=0&&ge.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Mt=ue;!function Je(dt){(0,W.registerVersion)("@firebase/app-compat","0.2.35",dt)}()},4303:(zt,$e,j)=>{j.r($e),j.d($e,{FirebaseError:()=>ve.ZR,SDK_VERSION:()=>li,_DEFAULT_ENTRY_NAME:()=>Oe,_addComponent:()=>Gt,_addOrOverwriteComponent:()=>Vt,_apps:()=>Ke,_clearComponents:()=>qt,_components:()=>ft,_getProvider:()=>on,_isFirebaseApp:()=>un,_isFirebaseServerApp:()=>er,_registerComponent:()=>Bt,_removeServiceInstance:()=>jn,_serverApps:()=>lt,deleteApp:()=>fn,getApp:()=>On,getApps:()=>Ot,initializeApp:()=>In,initializeServerApp:()=>ur,onLog:()=>br,registerVersion:()=>_n,setLogLevel:()=>_r});var I=j(5861),u=j(4537),W=j(7879),ve=j(9058),_e=j(1878);class we{constructor(oe){this.container=oe}getPlatformInfoString(){return this.container.getProviders().map(Q=>{if(function he(xt){const oe=xt.getComponent();return"VERSION"===oe?.type}(Q)){const H=Q.getImmediate();return`${H.library}/${H.version}`}return null}).filter(Q=>Q).join(" ")}}const Ce="@firebase/app",De="0.10.5",ue=new W.Yd("@firebase/app"),Oe="[DEFAULT]",We={[Ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Ke=new Map,lt=new Map,ft=new Map;function Gt(xt,oe){try{xt.container.addComponent(oe)}catch(Q){ue.debug(`Component ${oe.name} failed to register with FirebaseApp ${xt.name}`,Q)}}function Vt(xt,oe){xt.container.addOrOverwriteComponent(oe)}function Bt(xt){const oe=xt.name;if(ft.has(oe))return ue.debug(`There were multiple attempts to register component ${oe}.`),!1;ft.set(oe,xt);for(const Q of Ke.values())Gt(Q,xt);for(const Q of lt.values())Gt(Q,xt);return!0}function on(xt,oe){const Q=xt.container.getProvider("heartbeat").getImmediate({optional:!0});return Q&&Q.triggerHeartbeat(),xt.container.getProvider(oe)}function jn(xt,oe,Q=Oe){on(xt,oe).clearInstance(Q)}function un(xt){return void 0!==xt.options}function er(xt){return void 0!==xt.settings}function qt(){ft.clear()}const mn=new ve.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class vn{constructor(oe,Q,H){this._isDeleted=!1,this._options=Object.assign({},oe),this._config=Object.assign({},Q),this._name=Q.name,this._automaticDataCollectionEnabled=Q.automaticDataCollectionEnabled,this._container=H,this.container.addComponent(new u.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(oe){this.checkDestroyed(),this._automaticDataCollectionEnabled=oe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(oe){this._isDeleted=oe}checkDestroyed(){if(this.isDeleted)throw mn.create("app-deleted",{appName:this._name})}}class $t extends vn{constructor(oe,Q,H,U){const F=void 0!==Q.automaticDataCollectionEnabled&&Q.automaticDataCollectionEnabled,ce={name:H,automaticDataCollectionEnabled:F};super(void 0!==oe.apiKey?oe:oe.options,ce,U),this._serverConfig=Object.assign({automaticDataCollectionEnabled:F},Q),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Q.releaseOnDeref=void 0,_n(Ce,De,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(oe){this.isDeleted||(this._refCount++,void 0!==oe&&this._finalizationRegistry.register(oe,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){fn(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw mn.create("server-app-deleted")}}const li="10.12.2";function In(xt,oe={}){let Q=xt;"object"!=typeof oe&&(oe={name:oe});const H=Object.assign({name:Oe,automaticDataCollectionEnabled:!1},oe),U=H.name;if("string"!=typeof U||!U)throw mn.create("bad-app-name",{appName:String(U)});if(Q||(Q=(0,ve.aH)()),!Q)throw mn.create("no-options");const F=Ke.get(U);if(F){if((0,ve.vZ)(Q,F.options)&&(0,ve.vZ)(H,F.config))return F;throw mn.create("duplicate-app",{appName:U})}const ce=new u.H0(U);for(const pt of ft.values())ce.addComponent(pt);const xe=new vn(Q,H,ce);return Ke.set(U,xe),xe}function ur(xt,oe){if((0,ve.jU)())throw mn.create("invalid-server-app-environment");let Q;void 0===oe.automaticDataCollectionEnabled&&(oe.automaticDataCollectionEnabled=!1),Q=un(xt)?xt.options:xt;const H=Object.assign(Object.assign({},oe),Q);if(void 0!==H.releaseOnDeref&&delete H.releaseOnDeref,void 0!==oe.releaseOnDeref&&typeof FinalizationRegistry>"u")throw mn.create("finalization-registry-not-supported",{});const F=""+(Pt=JSON.stringify(H),[...Pt].reduce((Jt,Yt)=>Math.imul(31,Jt)+Yt.charCodeAt(0)|0,0)),ce=lt.get(F);var Pt;if(ce)return ce.incRefCount(oe.releaseOnDeref),ce;const xe=new u.H0(F);for(const Pt of ft.values())xe.addComponent(Pt);const pt=new $t(Q,oe,F,xe);return lt.set(F,pt),pt}function On(xt=Oe){const oe=Ke.get(xt);if(!oe&&xt===Oe&&(0,ve.aH)())return In();if(!oe)throw mn.create("no-app",{appName:xt});return oe}function Ot(){return Array.from(Ke.values())}function fn(xt){return wn.apply(this,arguments)}function wn(){return(wn=(0,I.Z)(function*(xt){let oe=!1;const Q=xt.name;Ke.has(Q)?(oe=!0,Ke.delete(Q)):lt.has(Q)&&xt.decRefCount()<=0&&(lt.delete(Q),oe=!0),oe&&(yield Promise.all(xt.container.getProviders().map(H=>H.delete())),xt.isDeleted=!0)})).apply(this,arguments)}function _n(xt,oe,Q){var H;let U=null!==(H=We[xt])&&void 0!==H?H:xt;Q&&(U+=`-${Q}`);const F=U.match(/\s|\//),ce=oe.match(/\s|\//);if(F||ce){const xe=[`Unable to register library "${U}" with version "${oe}":`];return F&&xe.push(`library name "${U}" contains illegal characters (whitespace or "/")`),F&&ce&&xe.push("and"),ce&&xe.push(`version name "${oe}" contains illegal characters (whitespace or "/")`),void ue.warn(xe.join(" "))}Bt(new u.wA(`${U}-version`,()=>({library:U,version:oe}),"VERSION"))}function br(xt,oe){if(null!==xt&&"function"!=typeof xt)throw mn.create("invalid-log-argument");(0,W.Am)(xt,oe)}function _r(xt){(0,W.Ub)(xt)}const Nn="firebase-heartbeat-database",Pn=1,Ir="firebase-heartbeat-store";let ui=null;function Kt(){return ui||(ui=(0,_e.X3)(Nn,Pn,{upgrade:(xt,oe)=>{if(0===oe)try{xt.createObjectStore(Ir)}catch(Q){console.warn(Q)}}}).catch(xt=>{throw mn.create("idb-open",{originalErrorMessage:xt.message})})),ui}function Hn(){return(Hn=(0,I.Z)(function*(xt){try{const Q=(yield Kt()).transaction(Ir),H=yield Q.objectStore(Ir).get(Yr(xt));return yield Q.done,H}catch(oe){if(oe instanceof ve.ZR)ue.warn(oe.message);else{const Q=mn.create("idb-get",{originalErrorMessage:oe?.message});ue.warn(Q.message)}}})).apply(this,arguments)}function pr(xt,oe){return gr.apply(this,arguments)}function gr(){return(gr=(0,I.Z)(function*(xt,oe){try{const H=(yield Kt()).transaction(Ir,"readwrite");yield H.objectStore(Ir).put(oe,Yr(xt)),yield H.done}catch(Q){if(Q instanceof ve.ZR)ue.warn(Q.message);else{const H=mn.create("idb-set",{originalErrorMessage:Q?.message});ue.warn(H.message)}}})).apply(this,arguments)}function Yr(xt){return`${xt.name}!${xt.options.appId}`}class ie{constructor(oe){this.container=oe,this._heartbeatsCache=null;const Q=this.container.getProvider("app").getImmediate();this._storage=new Lt(Q),this._heartbeatsCachePromise=this._storage.read().then(H=>(this._heartbeatsCache=H,H))}triggerHeartbeat(){var oe=this;return(0,I.Z)(function*(){var Q,H;const F=oe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ce=Te();if((null!=(null===(Q=oe._heartbeatsCache)||void 0===Q?void 0:Q.heartbeats)||(oe._heartbeatsCache=yield oe._heartbeatsCachePromise,null!=(null===(H=oe._heartbeatsCache)||void 0===H?void 0:H.heartbeats)))&&oe._heartbeatsCache.lastSentHeartbeatDate!==ce&&!oe._heartbeatsCache.heartbeats.some(xe=>xe.date===ce))return oe._heartbeatsCache.heartbeats.push({date:ce,agent:F}),oe._heartbeatsCache.heartbeats=oe._heartbeatsCache.heartbeats.filter(xe=>{const pt=new Date(xe.date).valueOf();return Date.now()-pt<=2592e6}),oe._storage.overwrite(oe._heartbeatsCache)})()}getHeartbeatsHeader(){var oe=this;return(0,I.Z)(function*(){var Q;if(null===oe._heartbeatsCache&&(yield oe._heartbeatsCachePromise),null==(null===(Q=oe._heartbeatsCache)||void 0===Q?void 0:Q.heartbeats)||0===oe._heartbeatsCache.heartbeats.length)return"";const H=Te(),{heartbeatsToSend:U,unsentEntries:F}=function ct(xt,oe=1024){const Q=[];let H=xt.slice();for(const U of xt){const F=Q.find(ce=>ce.agent===U.agent);if(F){if(F.dates.push(U.date),Dn(Q)>oe){F.dates.pop();break}}else if(Q.push({agent:U.agent,dates:[U.date]}),Dn(Q)>oe){Q.pop();break}H=H.slice(1)}return{heartbeatsToSend:Q,unsentEntries:H}}(oe._heartbeatsCache.heartbeats),ce=(0,ve.L)(JSON.stringify({version:2,heartbeats:U}));return oe._heartbeatsCache.lastSentHeartbeatDate=H,F.length>0?(oe._heartbeatsCache.heartbeats=F,yield oe._storage.overwrite(oe._heartbeatsCache)):(oe._heartbeatsCache.heartbeats=[],oe._storage.overwrite(oe._heartbeatsCache)),ce})()}}function Te(){return(new Date).toISOString().substring(0,10)}class Lt{constructor(oe){this.app=oe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,I.Z)(function*(){return!!(0,ve.hl)()&&(0,ve.eu)().then(()=>!0).catch(()=>!1)})()}read(){var oe=this;return(0,I.Z)(function*(){if(yield oe._canUseIndexedDBPromise){const H=yield function si(xt){return Hn.apply(this,arguments)}(oe.app);return H?.heartbeats?H:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(oe){var Q=this;return(0,I.Z)(function*(){var H;if(yield Q._canUseIndexedDBPromise){const F=yield Q.read();return pr(Q.app,{lastSentHeartbeatDate:null!==(H=oe.lastSentHeartbeatDate)&&void 0!==H?H:F.lastSentHeartbeatDate,heartbeats:oe.heartbeats})}})()}add(oe){var Q=this;return(0,I.Z)(function*(){var H;if(yield Q._canUseIndexedDBPromise){const F=yield Q.read();return pr(Q.app,{lastSentHeartbeatDate:null!==(H=oe.lastSentHeartbeatDate)&&void 0!==H?H:F.lastSentHeartbeatDate,heartbeats:[...F.heartbeats,...oe.heartbeats]})}})()}}function Dn(xt){return(0,ve.L)(JSON.stringify({version:2,heartbeats:xt})).length}!function oi(xt){Bt(new u.wA("platform-logger",oe=>new we(oe),"PRIVATE")),Bt(new u.wA("heartbeat",oe=>new ie(oe),"PRIVATE")),_n(Ce,De,xt),_n(Ce,De,"esm2017"),_n("fire-js","")}("")},4537:(zt,$e,j)=>{j.d($e,{H0:()=>Ce,wA:()=>W});var I=j(5861),u=j(9058);class W{constructor(ue,ge,Me){this.name=ue,this.instanceFactory=ge,this.type=Me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ue){return this.instantiationMode=ue,this}setMultipleInstances(ue){return this.multipleInstances=ue,this}setServiceProps(ue){return this.serviceProps=ue,this}setInstanceCreatedCallback(ue){return this.onInstanceCreated=ue,this}}const ve="[DEFAULT]";class _e{constructor(ue,ge){this.name=ue,this.container=ge,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ue){const ge=this.normalizeInstanceIdentifier(ue);if(!this.instancesDeferred.has(ge)){const Me=new u.BH;if(this.instancesDeferred.set(ge,Me),this.isInitialized(ge)||this.shouldAutoInitialize())try{const ut=this.getOrInitializeService({instanceIdentifier:ge});ut&&Me.resolve(ut)}catch{}}return this.instancesDeferred.get(ge).promise}getImmediate(ue){var ge;const Me=this.normalizeInstanceIdentifier(ue?.identifier),ut=null!==(ge=ue?.optional)&&void 0!==ge&&ge;if(!this.isInitialized(Me)&&!this.shouldAutoInitialize()){if(ut)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Me})}catch(Je){if(ut)return null;throw Je}}getComponent(){return this.component}setComponent(ue){if(ue.name!==this.name)throw Error(`Mismatching Component ${ue.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ue,this.shouldAutoInitialize()){if(function he(De){return"EAGER"===De.instantiationMode}(ue))try{this.getOrInitializeService({instanceIdentifier:ve})}catch{}for(const[ge,Me]of this.instancesDeferred.entries()){const ut=this.normalizeInstanceIdentifier(ge);try{const Je=this.getOrInitializeService({instanceIdentifier:ut});Me.resolve(Je)}catch{}}}}clearInstance(ue=ve){this.instancesDeferred.delete(ue),this.instancesOptions.delete(ue),this.instances.delete(ue)}delete(){var ue=this;return(0,I.Z)(function*(){const ge=Array.from(ue.instances.values());yield Promise.all([...ge.filter(Me=>"INTERNAL"in Me).map(Me=>Me.INTERNAL.delete()),...ge.filter(Me=>"_delete"in Me).map(Me=>Me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ue=ve){return this.instances.has(ue)}getOptions(ue=ve){return this.instancesOptions.get(ue)||{}}initialize(ue={}){const{options:ge={}}=ue,Me=this.normalizeInstanceIdentifier(ue.instanceIdentifier);if(this.isInitialized(Me))throw Error(`${this.name}(${Me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ut=this.getOrInitializeService({instanceIdentifier:Me,options:ge});for(const[Je,Mt]of this.instancesDeferred.entries())Me===this.normalizeInstanceIdentifier(Je)&&Mt.resolve(ut);return ut}onInit(ue,ge){var Me;const ut=this.normalizeInstanceIdentifier(ge),Je=null!==(Me=this.onInitCallbacks.get(ut))&&void 0!==Me?Me:new Set;Je.add(ue),this.onInitCallbacks.set(ut,Je);const Mt=this.instances.get(ut);return Mt&&ue(Mt,ut),()=>{Je.delete(ue)}}invokeOnInitCallbacks(ue,ge){const Me=this.onInitCallbacks.get(ge);if(Me)for(const ut of Me)try{ut(ue,ge)}catch{}}getOrInitializeService({instanceIdentifier:ue,options:ge={}}){let Me=this.instances.get(ue);if(!Me&&this.component&&(Me=this.component.instanceFactory(this.container,{instanceIdentifier:(De=ue,De===ve?void 0:De),options:ge}),this.instances.set(ue,Me),this.instancesOptions.set(ue,ge),this.invokeOnInitCallbacks(Me,ue),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ue,Me)}catch{}var De;return Me||null}normalizeInstanceIdentifier(ue=ve){return this.component?this.component.multipleInstances?ue:ve:ue}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ce{constructor(ue){this.name=ue,this.providers=new Map}addComponent(ue){const ge=this.getProvider(ue.name);if(ge.isComponentSet())throw new Error(`Component ${ue.name} has already been registered with ${this.name}`);ge.setComponent(ue)}addOrOverwriteComponent(ue){this.getProvider(ue.name).isComponentSet()&&this.providers.delete(ue.name),this.addComponent(ue)}getProvider(ue){if(this.providers.has(ue))return this.providers.get(ue);const ge=new _e(ue,this);return this.providers.set(ue,ge),ge}getProviders(){return Array.from(this.providers.values())}}},7879:(zt,$e,j)=>{j.d($e,{Am:()=>De,Ub:()=>Ce,Yd:()=>he,in:()=>u});const I=[];var u=function(ue){return ue[ue.DEBUG=0]="DEBUG",ue[ue.VERBOSE=1]="VERBOSE",ue[ue.INFO=2]="INFO",ue[ue.WARN=3]="WARN",ue[ue.ERROR=4]="ERROR",ue[ue.SILENT=5]="SILENT",ue}(u||{});const W={debug:u.DEBUG,verbose:u.VERBOSE,info:u.INFO,warn:u.WARN,error:u.ERROR,silent:u.SILENT},ve=u.INFO,_e={[u.DEBUG]:"log",[u.VERBOSE]:"log",[u.INFO]:"info",[u.WARN]:"warn",[u.ERROR]:"error"},we=(ue,ge,...Me)=>{if(ge<ue.logLevel)return;const ut=(new Date).toISOString(),Je=_e[ge];if(!Je)throw new Error(`Attempted to log a message with an invalid logType (value: ${ge})`);console[Je](`[${ut}]  ${ue.name}:`,...Me)};class he{constructor(ge){this.name=ge,this._logLevel=ve,this._logHandler=we,this._userLogHandler=null,I.push(this)}get logLevel(){return this._logLevel}set logLevel(ge){if(!(ge in u))throw new TypeError(`Invalid value "${ge}" assigned to \`logLevel\``);this._logLevel=ge}setLogLevel(ge){this._logLevel="string"==typeof ge?W[ge]:ge}get logHandler(){return this._logHandler}set logHandler(ge){if("function"!=typeof ge)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ge}get userLogHandler(){return this._userLogHandler}set userLogHandler(ge){this._userLogHandler=ge}debug(...ge){this._userLogHandler&&this._userLogHandler(this,u.DEBUG,...ge),this._logHandler(this,u.DEBUG,...ge)}log(...ge){this._userLogHandler&&this._userLogHandler(this,u.VERBOSE,...ge),this._logHandler(this,u.VERBOSE,...ge)}info(...ge){this._userLogHandler&&this._userLogHandler(this,u.INFO,...ge),this._logHandler(this,u.INFO,...ge)}warn(...ge){this._userLogHandler&&this._userLogHandler(this,u.WARN,...ge),this._logHandler(this,u.WARN,...ge)}error(...ge){this._userLogHandler&&this._userLogHandler(this,u.ERROR,...ge),this._logHandler(this,u.ERROR,...ge)}}function Ce(ue){I.forEach(ge=>{ge.setLogLevel(ue)})}function De(ue,ge){for(const Me of I){let ut=null;ge&&ge.level&&(ut=W[ge.level]),Me.userLogHandler=null===ue?null:(Je,Mt,...dt)=>{const Ct=dt.map(mt=>{if(null==mt)return null;if("string"==typeof mt)return mt;if("number"==typeof mt||"boolean"==typeof mt)return mt.toString();if(mt instanceof Error)return mt.message;try{return JSON.stringify(mt)}catch{return null}}).filter(mt=>mt).join(" ");Mt>=(ut??Je.logLevel)&&ue({level:u[Mt].toLowerCase(),message:Ct,args:dt,type:Je.name})}}}},3182:(zt,$e,j)=>{j.d($e,{C6:()=>I.getApps,KN:()=>I.registerVersion,Mq:()=>I.getApp,ZF:()=>I.initializeApp});var I=j(4303);(0,I.registerVersion)("firebase","10.12.2","app")},7142:(zt,$e,j)=>{j.d($e,{Z:()=>I.Z});var I=j(3106);I.Z.registerVersion("firebase","10.12.2","app-compat")},6365:(zt,$e,j)=>{j.r($e);var I=j(5861),u=j(3106),W=j(35),ve=j(9058),he=(j(4303),j(7879),j(4537));function Ce(){return window}function ge(){return ge=(0,I.Z)(function*(H,U,F){var ce;const{BuildInfo:xe}=Ce();(0,W.au)(U.sessionId,"AuthEvent did not contain a session ID");const pt=yield function mt(H){return Xt.apply(this,arguments)}(U.sessionId),Pt={};return(0,W.av)()?Pt.ibi=xe.packageName:(0,W.aw)()?Pt.apn=xe.packageName:(0,W.ax)(H,"operation-not-supported-in-this-environment"),xe.displayName&&(Pt.appDisplayName=xe.displayName),Pt.sessionId=pt,(0,W.ay)(H,F,U.type,void 0,null!==(ce=U.eventId)&&void 0!==ce?ce:void 0,Pt)}),ge.apply(this,arguments)}function ut(){return(ut=(0,I.Z)(function*(H){const{BuildInfo:U}=Ce(),F={};(0,W.av)()?F.iosBundleId=U.packageName:(0,W.aw)()?F.androidPackageName=U.packageName:(0,W.ax)(H,"operation-not-supported-in-this-environment"),yield(0,W.az)(H,F)})).apply(this,arguments)}function dt(){return(dt=(0,I.Z)(function*(H,U,F){const{cordova:ce}=Ce();let xe=()=>{};try{yield new Promise((pt,Pt)=>{let Jt=null;function Yt(){var Sn;pt();const yi=null===(Sn=ce.plugins.browsertab)||void 0===Sn?void 0:Sn.close;"function"==typeof yi&&yi(),"function"==typeof F?.close&&F.close()}function en(){Jt||(Jt=window.setTimeout(()=>{Pt((0,W.aB)(H,"redirect-cancelled-by-user"))},2e3))}function Gn(){"visible"===document?.visibilityState&&en()}U.addPassiveListener(Yt),document.addEventListener("resume",en,!1),(0,W.aw)()&&document.addEventListener("visibilitychange",Gn,!1),xe=()=>{U.removePassiveListener(Yt),document.removeEventListener("resume",en,!1),document.removeEventListener("visibilitychange",Gn,!1),Jt&&window.clearTimeout(Jt)}})}finally{xe()}})).apply(this,arguments)}function Xt(){return(Xt=(0,I.Z)(function*(H){const U=function qe(H){if((0,W.au)(/[0-9a-zA-Z]+/.test(H),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(H);const U=new ArrayBuffer(H.length),F=new Uint8Array(U);for(let ce=0;ce<H.length;ce++)F[ce]=H.charCodeAt(ce);return F}(H),F=yield crypto.subtle.digest("SHA-256",U);return Array.from(new Uint8Array(F)).map(xe=>xe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Xe extends W.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(U=>{this.resolveInialized=U})}addPassiveListener(U){this.passiveListeners.add(U)}removePassiveListener(U){this.passiveListeners.delete(U)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(U){return this.resolveInialized(),this.passiveListeners.forEach(F=>F(U)),super.onEvent(U)}initialized(){var U=this;return(0,I.Z)(function*(){yield U.initPromise})()}}function vt(H){return ze.apply(this,arguments)}function ze(){return(ze=(0,I.Z)(function*(H){const U=yield Ut()._get(Bn(H));return U&&(yield Ut()._remove(Bn(H))),U})).apply(this,arguments)}function gt(){const H=[];for(let F=0;F<20;F++){const ce=Math.floor(62*Math.random());H.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ce))}return H.join("")}function Ut(){return(0,W.aE)(W.b)}function Bn(H){return(0,W.aF)("authEvent",H.config.apiKey,H.name)}function Wt(H){if(!H?.includes("?"))return{};const[U,...F]=H.split("?");return(0,ve.zd)(F.join("?"))}const fe=class Pe{constructor(){this._redirectPersistence=W.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=W.aG,this._overrideRedirectResult=W.aH}_initialize(U){var F=this;return(0,I.Z)(function*(){const ce=U._key();let xe=F.eventManagers.get(ce);return xe||(xe=new Xe(U),F.eventManagers.set(ce,xe),F.attachCallbackListeners(U,xe)),xe})()}_openPopup(U){(0,W.ax)(U,"operation-not-supported-in-this-environment")}_openRedirect(U,F,ce,xe){var pt=this;return(0,I.Z)(function*(){!function Ct(H){var U,F,ce,xe,pt,Pt,Jt,Yt,en,Gn;const Sn=Ce();(0,W.aC)("function"==typeof(null===(U=Sn?.universalLinks)||void 0===U?void 0:U.subscribe),H,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,W.aC)(typeof(null===(F=Sn?.BuildInfo)||void 0===F?void 0:F.packageName)<"u",H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,W.aC)("function"==typeof(null===(pt=null===(xe=null===(ce=Sn?.cordova)||void 0===ce?void 0:ce.plugins)||void 0===xe?void 0:xe.browsertab)||void 0===pt?void 0:pt.openUrl),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,W.aC)("function"==typeof(null===(Yt=null===(Jt=null===(Pt=Sn?.cordova)||void 0===Pt?void 0:Pt.plugins)||void 0===Jt?void 0:Jt.browsertab)||void 0===Yt?void 0:Yt.isAvailable),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,W.aC)("function"==typeof(null===(Gn=null===(en=Sn?.cordova)||void 0===en?void 0:en.InAppBrowser)||void 0===Gn?void 0:Gn.open),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(U);const Pt=yield pt._initialize(U);yield Pt.initialized(),Pt.resetRedirect(),(0,W.aI)(),yield pt._originValidation(U);const Jt=function Ue(H,U,F=null){return{type:U,eventId:F,urlResponse:null,sessionId:gt(),postBody:null,tenantId:H.tenantId,error:(0,W.aB)(H,"no-auth-event")}}(U,ce,xe);yield function et(H,U){return Ut()._set(Bn(H),U)}(U,Jt);const Yt=yield function ue(H,U,F){return ge.apply(this,arguments)}(U,Jt,F),en=yield function Je(H){const{cordova:U}=Ce();return new Promise(F=>{U.plugins.browsertab.isAvailable(ce=>{let xe=null;ce?U.plugins.browsertab.openUrl(H):xe=U.InAppBrowser.open(H,(0,W.aA)()?"_blank":"_system","location=yes"),F(xe)})})}(Yt);return function Mt(H,U,F){return dt.apply(this,arguments)}(U,Pt,en)})()}_isIframeWebStorageSupported(U,F){throw new Error("Method not implemented.")}_originValidation(U){const F=U._key();return this.originValidationPromises[F]||(this.originValidationPromises[F]=function Me(H){return ut.apply(this,arguments)}(U)),this.originValidationPromises[F]}attachCallbackListeners(U,F){const{universalLinks:ce,handleOpenURL:xe,BuildInfo:pt}=Ce(),Pt=setTimeout((0,I.Z)(function*(){yield vt(U),F.onEvent(Oe())}),500),Jt=function(){var Gn=(0,I.Z)(function*(Sn){clearTimeout(Pt);const yi=yield vt(U);let xs=null;yi&&Sn?.url&&(xs=function de(H,U){var F,ce;const xe=function Rt(H){const U=Wt(H),F=U.link?decodeURIComponent(U.link):void 0,ce=Wt(F).link,xe=U.deep_link_id?decodeURIComponent(U.deep_link_id):void 0;return Wt(xe).link||xe||ce||F||H}(U);if(xe.includes("/__/auth/callback")){const pt=Wt(xe),Pt=pt.firebaseError?function _t(H){try{return JSON.parse(H)}catch{return null}}(decodeURIComponent(pt.firebaseError)):null,Jt=null===(ce=null===(F=Pt?.code)||void 0===F?void 0:F.split("auth/"))||void 0===ce?void 0:ce[1],Yt=Jt?(0,W.aB)(Jt):null;return Yt?{type:H.type,eventId:H.eventId,tenantId:H.tenantId,error:Yt,urlResponse:null,sessionId:null,postBody:null}:{type:H.type,eventId:H.eventId,tenantId:H.tenantId,sessionId:H.sessionId,urlResponse:xe,postBody:null}}return null}(yi,Sn.url)),F.onEvent(xs||Oe())});return function(yi){return Gn.apply(this,arguments)}}();typeof ce<"u"&&"function"==typeof ce.subscribe&&ce.subscribe(null,Jt);const Yt=xe,en=`${pt.packageName.toLowerCase()}://`;Ce().handleOpenURL=function(){var Gn=(0,I.Z)(function*(Sn){if(Sn.toLowerCase().startsWith(en)&&Jt({url:Sn}),"function"==typeof Yt)try{Yt(Sn)}catch(yi){console.error(yi)}});return function(Sn){return Gn.apply(this,arguments)}}()}};function Oe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,W.aB)("no-auth-event")}}function Gt(){var H;return(null===(H=self?.location)||void 0===H?void 0:H.protocol)||null}function Bt(H=(0,ve.z$)()){return!("file:"!==Gt()&&"ionic:"!==Gt()&&"capacitor:"!==Gt()||!H.toLowerCase().match(/iphone|ipad|ipod|android/))}function qt(){try{const H=self.localStorage,U=W.aN();if(H)return H.setItem(U,"1"),H.removeItem(U),!function er(H=(0,ve.z$)()){return function jn(){return(0,ve.w1)()&&11===document?.documentMode}()||function un(H=(0,ve.z$)()){return/Edge\/\d+/.test(H)}(H)}()||(0,ve.hl)()}catch{return an()&&(0,ve.hl)()}return!1}function an(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function mn(){return(function Vt(){return"http:"===Gt()||"https:"===Gt()}()||(0,ve.ru)()||Bt())&&!function on(){return(0,ve.b$)()||(0,ve.UG)()}()&&qt()&&!an()}function vn(){return Bt()&&typeof document<"u"}function li(){return(li=(0,I.Z)(function*(){return!!vn()&&new Promise(H=>{const U=setTimeout(()=>{H(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(U),H(!0)})})})).apply(this,arguments)}const ur={LOCAL:"local",NONE:"none",SESSION:"session"},On=W.aC,Ot="persistence";function wn(H){return _n.apply(this,arguments)}function _n(){return(_n=(0,I.Z)(function*(H){yield H._initializationPromise;const U=_r(),F=W.aF(Ot,H.config.apiKey,H.name);U&&U.setItem(F,H._getPersistence())})).apply(this,arguments)}function _r(){var H;try{return(null===(H=function In(){return typeof window<"u"?window:null}())||void 0===H?void 0:H.sessionStorage)||null}catch{return null}}const Nn=W.aC;class Pn{constructor(){this.browserResolver=W.aE(W.k),this.cordovaResolver=W.aE(fe),this.underlyingResolver=null,this._redirectPersistence=W.a,this._completeRedirectFn=W.aG,this._overrideRedirectResult=W.aH}_initialize(U){var F=this;return(0,I.Z)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._initialize(U)})()}_openPopup(U,F,ce,xe){var pt=this;return(0,I.Z)(function*(){return yield pt.selectUnderlyingResolver(),pt.assertedUnderlyingResolver._openPopup(U,F,ce,xe)})()}_openRedirect(U,F,ce,xe){var pt=this;return(0,I.Z)(function*(){return yield pt.selectUnderlyingResolver(),pt.assertedUnderlyingResolver._openRedirect(U,F,ce,xe)})()}_isIframeWebStorageSupported(U,F){this.assertedUnderlyingResolver._isIframeWebStorageSupported(U,F)}_originValidation(U){return this.assertedUnderlyingResolver._originValidation(U)}get _shouldInitProactively(){return vn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Nn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var U=this;return(0,I.Z)(function*(){if(U.underlyingResolver)return;const F=yield function $t(){return li.apply(this,arguments)}();U.underlyingResolver=F?U.cordovaResolver:U.browserResolver})()}}function Ir(H){return H.unwrap()}function Kt(H){return Hn(H)}function Hn(H){const{_tokenResponse:U}=H instanceof ve.ZR?H.customData:H;if(!U)return null;if(!(H instanceof ve.ZR)&&"temporaryProof"in U&&"phoneNumber"in U)return W.P.credentialFromResult(H);const F=U.providerId;if(!F||F===W.p.PASSWORD)return null;let ce;switch(F){case W.p.GOOGLE:ce=W.X;break;case W.p.FACEBOOK:ce=W.W;break;case W.p.GITHUB:ce=W.Y;break;case W.p.TWITTER:ce=W.$;break;default:const{oauthIdToken:xe,oauthAccessToken:pt,oauthTokenSecret:Pt,pendingToken:Jt,nonce:Yt}=U;return pt||Pt||xe||Jt?Jt?F.startsWith("saml.")?W.aQ._create(F,Jt):W.N._fromParams({providerId:F,signInMethod:F,pendingToken:Jt,idToken:xe,accessToken:pt}):new W.Z(F).credential({idToken:xe,accessToken:pt,rawNonce:Yt}):null}return H instanceof ve.ZR?ce.credentialFromError(H):ce.credentialFromResult(H)}function pr(H,U){return U.catch(F=>{throw F instanceof ve.ZR&&function si(H,U){var F;const ce=null===(F=U.customData)||void 0===F?void 0:F._tokenResponse;if("auth/multi-factor-auth-required"===U?.code)U.resolver=new je(H,W.as(H,U));else if(ce){const xe=Hn(U),pt=U;xe&&(pt.credential=xe,pt.tenantId=ce.tenantId||void 0,pt.email=ce.email||void 0,pt.phoneNumber=ce.phoneNumber||void 0)}}(H,F),F}).then(F=>{const xe=F.user;return{operationType:F.operationType,credential:Kt(F),additionalUserInfo:W.aq(F),user:Et.getOrCreate(xe)}})}function gr(H,U){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,I.Z)(function*(H,U){const F=yield U;return{verificationId:F.verificationId,confirm:ce=>pr(H,F.confirm(ce))}})).apply(this,arguments)}class je{constructor(U,F){this.resolver=F,this.auth=function ui(H){return H.wrapped()}(U)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(U){return pr(Ir(this.auth),this.resolver.resolveSignIn(U))}}class Et{constructor(U){this._delegate=U,this.multiFactor=W.at(U)}static getOrCreate(U){return Et.USER_MAP.has(U)||Et.USER_MAP.set(U,new Et(U)),Et.USER_MAP.get(U)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(U){return this._delegate.getIdTokenResult(U)}getIdToken(U){return this._delegate.getIdToken(U)}linkAndRetrieveDataWithCredential(U){return this.linkWithCredential(U)}linkWithCredential(U){var F=this;return(0,I.Z)(function*(){return pr(F.auth,W.a2(F._delegate,U))})()}linkWithPhoneNumber(U,F){var ce=this;return(0,I.Z)(function*(){return gr(ce.auth,W.l(ce._delegate,U,F))})()}linkWithPopup(U){var F=this;return(0,I.Z)(function*(){return pr(F.auth,W.d(F._delegate,U,Pn))})()}linkWithRedirect(U){var F=this;return(0,I.Z)(function*(){return yield wn(W.aJ(F.auth)),W.g(F._delegate,U,Pn)})()}reauthenticateAndRetrieveDataWithCredential(U){return this.reauthenticateWithCredential(U)}reauthenticateWithCredential(U){var F=this;return(0,I.Z)(function*(){return pr(F.auth,W.a3(F._delegate,U))})()}reauthenticateWithPhoneNumber(U,F){return gr(this.auth,W.r(this._delegate,U,F))}reauthenticateWithPopup(U){return pr(this.auth,W.e(this._delegate,U,Pn))}reauthenticateWithRedirect(U){var F=this;return(0,I.Z)(function*(){return yield wn(W.aJ(F.auth)),W.h(F._delegate,U,Pn)})()}sendEmailVerification(U){return W.ag(this._delegate,U)}unlink(U){var F=this;return(0,I.Z)(function*(){return yield W.ap(F._delegate,U),F})()}updateEmail(U){return W.al(this._delegate,U)}updatePassword(U){return W.am(this._delegate,U)}updatePhoneNumber(U){return W.u(this._delegate,U)}updateProfile(U){return W.ak(this._delegate,U)}verifyBeforeUpdateEmail(U,F){return W.ah(this._delegate,U,F)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Et.USER_MAP=new WeakMap;const ie=W.aC;let Te=(()=>{class H{constructor(F,ce){if(this.app=F,ce.isInitialized())return this._delegate=ce.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:xe}=F.options;ie(xe,"invalid-api-key",{appName:F.name}),ie(xe,"invalid-api-key",{appName:F.name});const pt=typeof window<"u"?Pn:void 0;this._delegate=ce.initialize({options:{persistence:Lt(xe,F.name),popupRedirectResolver:pt}}),this._delegate._updateErrorMap(W.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Et.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(F){this._delegate.languageCode=F}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(F){this._delegate.tenantId=F}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(F,ce){W.K(this._delegate,F,ce)}applyActionCode(F){return W.a7(this._delegate,F)}checkActionCode(F){return W.a8(this._delegate,F)}confirmPasswordReset(F,ce){return W.a6(this._delegate,F,ce)}createUserWithEmailAndPassword(F,ce){var xe=this;return(0,I.Z)(function*(){return pr(xe._delegate,W.aa(xe._delegate,F,ce))})()}fetchProvidersForEmail(F){return this.fetchSignInMethodsForEmail(F)}fetchSignInMethodsForEmail(F){return W.af(this._delegate,F)}isSignInWithEmailLink(F){return W.ad(this._delegate,F)}getRedirectResult(){var F=this;return(0,I.Z)(function*(){ie(mn(),F._delegate,"operation-not-supported-in-this-environment");const ce=yield W.j(F._delegate,Pn);return ce?pr(F._delegate,Promise.resolve(ce)):{credential:null,user:null}})()}addFrameworkForLogging(F){!function We(H,U){(0,W.aJ)(H)._logFramework(U)}(this._delegate,F)}onAuthStateChanged(F,ce,xe){const{next:pt,error:Pt,complete:Jt}=ct(F,ce,xe);return this._delegate.onAuthStateChanged(pt,Pt,Jt)}onIdTokenChanged(F,ce,xe){const{next:pt,error:Pt,complete:Jt}=ct(F,ce,xe);return this._delegate.onIdTokenChanged(pt,Pt,Jt)}sendSignInLinkToEmail(F,ce){return W.ac(this._delegate,F,ce)}sendPasswordResetEmail(F,ce){return W.a5(this._delegate,F,ce||void 0)}setPersistence(F){var ce=this;return(0,I.Z)(function*(){let xe;switch(function fn(H,U){On(Object.values(ur).includes(U),H,"invalid-persistence-type"),(0,ve.b$)()?On(U!==ur.SESSION,H,"unsupported-persistence-type"):(0,ve.UG)()?On(U===ur.NONE,H,"unsupported-persistence-type"):an()?On(U===ur.NONE||U===ur.LOCAL&&(0,ve.hl)(),H,"unsupported-persistence-type"):On(U===ur.NONE||qt(),H,"unsupported-persistence-type")}(ce._delegate,F),F){case ur.SESSION:xe=W.a;break;case ur.LOCAL:xe=(yield W.aE(W.i)._isAvailable())?W.i:W.b;break;case ur.NONE:xe=W.U;break;default:return W.ax("argument-error",{appName:ce._delegate.name})}return ce._delegate.setPersistence(xe)})()}signInAndRetrieveDataWithCredential(F){return this.signInWithCredential(F)}signInAnonymously(){return pr(this._delegate,W.a0(this._delegate))}signInWithCredential(F){return pr(this._delegate,W.a1(this._delegate,F))}signInWithCustomToken(F){return pr(this._delegate,W.a4(this._delegate,F))}signInWithEmailAndPassword(F,ce){return pr(this._delegate,W.ab(this._delegate,F,ce))}signInWithEmailLink(F,ce){return pr(this._delegate,W.ae(this._delegate,F,ce))}signInWithPhoneNumber(F,ce){return gr(this._delegate,W.s(this._delegate,F,ce))}signInWithPopup(F){var ce=this;return(0,I.Z)(function*(){return ie(mn(),ce._delegate,"operation-not-supported-in-this-environment"),pr(ce._delegate,W.c(ce._delegate,F,Pn))})()}signInWithRedirect(F){var ce=this;return(0,I.Z)(function*(){return ie(mn(),ce._delegate,"operation-not-supported-in-this-environment"),yield wn(ce._delegate),W.f(ce._delegate,F,Pn)})()}updateCurrentUser(F){return this._delegate.updateCurrentUser(F)}verifyPasswordResetCode(F){return W.a9(this._delegate,F)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return H.Persistence=ur,H})();function ct(H,U,F){let ce=H;"function"!=typeof H&&({next:ce,error:U,complete:F}=H);const xe=ce;return{next:Pt=>xe(Pt&&Et.getOrCreate(Pt)),error:U,complete:F}}function Lt(H,U){const F=function br(H,U){const F=_r();if(!F)return[];const ce=W.aF(Ot,H,U);switch(F.getItem(ce)){case ur.NONE:return[W.U];case ur.LOCAL:return[W.i,W.a];case ur.SESSION:return[W.a];default:return[]}}(H,U);if(typeof self<"u"&&!F.includes(W.i)&&F.push(W.i),typeof window<"u")for(const ce of[W.b,W.a])F.includes(ce)||F.push(ce);return F.includes(W.U)||F.push(W.U),F}class Dn{constructor(){this.providerId="phone",this._delegate=new W.P(Ir(u.Z.auth()))}static credential(U,F){return W.P.credential(U,F)}verifyPhoneNumber(U,F){return this._delegate.verifyPhoneNumber(U,F)}unwrap(){return this._delegate}}Dn.PHONE_SIGN_IN_METHOD=W.P.PHONE_SIGN_IN_METHOD,Dn.PROVIDER_ID=W.P.PROVIDER_ID;const oi=W.aC;class xt{constructor(U,F,ce=u.Z.app()){var xe;oi(null===(xe=ce.options)||void 0===xe?void 0:xe.apiKey,"invalid-api-key",{appName:ce.name}),this._delegate=new W.R(ce.auth(),U,F),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Q(H){H.INTERNAL.registerComponent(new he.wA("auth-compat",U=>{const F=U.getProvider("app-compat").getImmediate(),ce=U.getProvider("auth");return new Te(F,ce)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:W.A.EMAIL_SIGNIN,PASSWORD_RESET:W.A.PASSWORD_RESET,RECOVER_EMAIL:W.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:W.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:W.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:W.A.VERIFY_EMAIL}},EmailAuthProvider:W.V,FacebookAuthProvider:W.W,GithubAuthProvider:W.Y,GoogleAuthProvider:W.X,OAuthProvider:W.Z,SAMLAuthProvider:W._,PhoneAuthProvider:Dn,PhoneMultiFactorGenerator:W.m,RecaptchaVerifier:xt,TwitterAuthProvider:W.$,Auth:Te,AuthCredential:W.L,Error:ve.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),H.registerVersion("@firebase/auth-compat","0.5.9")}(u.Z)},1878:(zt,$e,j)=>{j.d($e,{X3:()=>qe});var I=j(5861);const u=(ze,de)=>de.some(gt=>ze instanceof gt);let W,ve;const he=new WeakMap,Ce=new WeakMap,De=new WeakMap,ue=new WeakMap,ge=new WeakMap;let Je={get(ze,de,gt){if(ze instanceof IDBTransaction){if("done"===de)return Ce.get(ze);if("objectStoreNames"===de)return ze.objectStoreNames||De.get(ze);if("store"===de)return gt.objectStoreNames[1]?void 0:gt.objectStore(gt.objectStoreNames[0])}return mt(ze[de])},set:(ze,de,gt)=>(ze[de]=gt,!0),has:(ze,de)=>ze instanceof IDBTransaction&&("done"===de||"store"===de)||de in ze};function Ct(ze){return"function"==typeof ze?function dt(ze){return ze!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function we(){return ve||(ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ze)?function(...de){return ze.apply(Xt(this),de),mt(he.get(this))}:function(...de){return mt(ze.apply(Xt(this),de))}:function(de,...gt){const Ut=ze.call(Xt(this),de,...gt);return De.set(Ut,de.sort?de.sort():[de]),mt(Ut)}}(ze):(ze instanceof IDBTransaction&&function ut(ze){if(Ce.has(ze))return;const de=new Promise((gt,Ut)=>{const Bn=()=>{ze.removeEventListener("complete",_t),ze.removeEventListener("error",Rt),ze.removeEventListener("abort",Rt)},_t=()=>{gt(),Bn()},Rt=()=>{Ut(ze.error||new DOMException("AbortError","AbortError")),Bn()};ze.addEventListener("complete",_t),ze.addEventListener("error",Rt),ze.addEventListener("abort",Rt)});Ce.set(ze,de)}(ze),u(ze,function _e(){return W||(W=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ze,Je):ze)}function mt(ze){if(ze instanceof IDBRequest)return function Me(ze){const de=new Promise((gt,Ut)=>{const Bn=()=>{ze.removeEventListener("success",_t),ze.removeEventListener("error",Rt)},_t=()=>{gt(mt(ze.result)),Bn()},Rt=()=>{Ut(ze.error),Bn()};ze.addEventListener("success",_t),ze.addEventListener("error",Rt)});return de.then(gt=>{gt instanceof IDBCursor&&he.set(gt,ze)}).catch(()=>{}),ge.set(de,ze),de}(ze);if(ue.has(ze))return ue.get(ze);const de=Ct(ze);return de!==ze&&(ue.set(ze,de),ge.set(de,ze)),de}const Xt=ze=>ge.get(ze);function qe(ze,de,{blocked:gt,upgrade:Ut,blocking:Bn,terminated:_t}={}){const Rt=indexedDB.open(ze,de),Wt=mt(Rt);return Ut&&Rt.addEventListener("upgradeneeded",nt=>{Ut(mt(Rt.result),nt.oldVersion,nt.newVersion,mt(Rt.transaction),nt)}),gt&&Rt.addEventListener("blocked",nt=>gt(nt.oldVersion,nt.newVersion,nt)),Wt.then(nt=>{_t&&nt.addEventListener("close",()=>_t()),Bn&&nt.addEventListener("versionchange",Pe=>Bn(Pe.oldVersion,Pe.newVersion,Pe))}).catch(()=>{}),Wt}const Xe=["get","getKey","getAll","getAllKeys","count"],Ue=["put","add","delete","clear"],et=new Map;function vt(ze,de){if(!(ze instanceof IDBDatabase)||de in ze||"string"!=typeof de)return;if(et.get(de))return et.get(de);const gt=de.replace(/FromIndex$/,""),Ut=de!==gt,Bn=Ue.includes(gt);if(!(gt in(Ut?IDBIndex:IDBObjectStore).prototype)||!Bn&&!Xe.includes(gt))return;const _t=function(){var Rt=(0,I.Z)(function*(Wt,...nt){const Pe=this.transaction(Wt,Bn?"readwrite":"readonly");let fe=Pe.store;return Ut&&(fe=fe.index(nt.shift())),(yield Promise.all([fe[gt](...nt),Bn&&Pe.done]))[0]});return function(nt){return Rt.apply(this,arguments)}}();return et.set(de,_t),_t}!function Mt(ze){Je=ze(Je)}(ze=>({...ze,get:(de,gt,Ut)=>vt(de,gt)||ze.get(de,gt,Ut),has:(de,gt)=>!!vt(de,gt)||ze.has(de,gt)}))},5861:(zt,$e,j)=>{function I(W,ve,_e,we,he,Ce,De){try{var ue=W[Ce](De),ge=ue.value}catch(Me){return void _e(Me)}ue.done?ve(ge):Promise.resolve(ge).then(we,he)}function u(W){return function(){var ve=this,_e=arguments;return new Promise(function(we,he){var Ce=W.apply(ve,_e);function De(ge){I(Ce,we,he,De,ue,"next",ge)}function ue(ge){I(Ce,we,he,De,ue,"throw",ge)}De(void 0)})}}j.d($e,{Z:()=>u})},7582:(zt,$e,j)=>{function ve(fe,Oe){var We={};for(var Ke in fe)Object.prototype.hasOwnProperty.call(fe,Ke)&&Oe.indexOf(Ke)<0&&(We[Ke]=fe[Ke]);if(null!=fe&&"function"==typeof Object.getOwnPropertySymbols){var lt=0;for(Ke=Object.getOwnPropertySymbols(fe);lt<Ke.length;lt++)Oe.indexOf(Ke[lt])<0&&Object.prototype.propertyIsEnumerable.call(fe,Ke[lt])&&(We[Ke[lt]]=fe[Ke[lt]])}return We}function Me(fe,Oe,We,Ke){return new(We||(We=Promise))(function(ft,Gt){function Vt(jn){try{on(Ke.next(jn))}catch(un){Gt(un)}}function Bt(jn){try{on(Ke.throw(jn))}catch(un){Gt(un)}}function on(jn){jn.done?ft(jn.value):function lt(ft){return ft instanceof We?ft:new We(function(Gt){Gt(ft)})}(jn.value).then(Vt,Bt)}on((Ke=Ke.apply(fe,Oe||[])).next())})}function Be(fe){return this instanceof Be?(this.v=fe,this):new Be(fe)}function Xe(fe,Oe,We){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var lt,Ke=We.apply(fe,Oe||[]),ft=[];return lt={},Gt("next"),Gt("throw"),Gt("return"),lt[Symbol.asyncIterator]=function(){return this},lt;function Gt(er){Ke[er]&&(lt[er]=function(qt){return new Promise(function(an,mn){ft.push([er,qt,an,mn])>1||Vt(er,qt)})})}function Vt(er,qt){try{!function Bt(er){er.value instanceof Be?Promise.resolve(er.value.v).then(on,jn):un(ft[0][2],er)}(Ke[er](qt))}catch(an){un(ft[0][3],an)}}function on(er){Vt("next",er)}function jn(er){Vt("throw",er)}function un(er,qt){er(qt),ft.shift(),ft.length&&Vt(ft[0][0],ft[0][1])}}function et(fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var We,Oe=fe[Symbol.asyncIterator];return Oe?Oe.call(fe):(fe=function dt(fe){var Oe="function"==typeof Symbol&&Symbol.iterator,We=Oe&&fe[Oe],Ke=0;if(We)return We.call(fe);if(fe&&"number"==typeof fe.length)return{next:function(){return fe&&Ke>=fe.length&&(fe=void 0),{value:fe&&fe[Ke++],done:!fe}}};throw new TypeError(Oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(fe),We={},Ke("next"),Ke("throw"),Ke("return"),We[Symbol.asyncIterator]=function(){return this},We);function Ke(ft){We[ft]=fe[ft]&&function(Gt){return new Promise(function(Vt,Bt){!function lt(ft,Gt,Vt,Bt){Promise.resolve(Bt).then(function(on){ft({value:on,done:Vt})},Gt)}(Vt,Bt,(Gt=fe[ft](Gt)).done,Gt.value)})}}}j.d($e,{FC:()=>Xe,KL:()=>et,_T:()=>ve,mG:()=>Me,qq:()=>Be}),"function"==typeof SuppressedError&&SuppressedError}},zt=>{zt(zt.s=9747)}]);