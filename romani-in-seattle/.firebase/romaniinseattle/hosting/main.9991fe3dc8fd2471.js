(self.webpackChunkromani_in_seattle=self.webpackChunkromani_in_seattle||[]).push([[179],{35:(an,ut,k)=>{"use strict";k.d(ut,{$:()=>Is,A:()=>z,G:()=>ye,K:()=>To,L:()=>Xi,N:()=>$e,P:()=>wg,R:()=>Nu,U:()=>mn,V:()=>ao,W:()=>bi,X:()=>ds,Y:()=>ro,Z:()=>Qr,_:()=>Po,a:()=>qt,a0:()=>F,a1:()=>_c,a2:()=>ts,a3:()=>Tu,a4:()=>vc,a5:()=>ol,a6:()=>ca,a7:()=>Vs,a8:()=>sl,a9:()=>Ac,aA:()=>En,aB:()=>tt,aC:()=>Ee,aD:()=>Xl,aE:()=>kt,aF:()=>cn,aG:()=>Zu,aH:()=>pl,aI:()=>Nr,aJ:()=>ur,aN:()=>Ga,aQ:()=>Gi,aa:()=>Od,ab:()=>cl,ac:()=>Sa,ad:()=>Gl,ae:()=>ua,af:()=>x,ag:()=>j,ah:()=>Ue,ak:()=>Lr,al:()=>ti,am:()=>Ir,ap:()=>co,aq:()=>qo,as:()=>Du,at:()=>Fd,au:()=>Vt,av:()=>fr,aw:()=>Xt,ax:()=>Ne,ay:()=>ga,az:()=>Wd,b:()=>Ds,c:()=>Ip,d:()=>Sg,e:()=>hl,f:()=>Na,g:()=>Jl,h:()=>Yl,i:()=>di,j:()=>$u,k:()=>eh,l:()=>Ra,m:()=>Wu,p:()=>ae,r:()=>jd,s:()=>Fu,u:()=>ul});var f=k(5861),o=k(534),U=k(9058),Se=k(7879),_e=k(7582),Ae=k(4537);const ae={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ye=function se(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},De=function be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Re=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),We=new Se.Yd("@firebase/auth");function Fe(T,...g){We.logLevel<=Se.in.ERROR&&We.error(`Auth (${o.SDK_VERSION}): ${T}`,...g)}function Ne(T,...g){throw bt(T,...g)}function tt(T,...g){return bt(T,...g)}function Ze(T,g,y){const M=Object.assign(Object.assign({},De()),{[g]:y});return new U.LL("auth","Firebase",M).create(g,{appName:T.name})}function qe(T){return Ze(T,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ht(T,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&Ne(T,"argument-error"),Ze(T,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bt(T,...g){if("string"!=typeof T){const y=g[0],M=[...g.slice(1)];return M[0]&&(M[0].appName=T.name),T._errorFactory.create(y,...M)}return Re.create(T,...g)}function Ee(T,g,...y){if(!T)throw bt(g,...y)}function Nt(T){const g="INTERNAL ASSERTION FAILED: "+T;throw Fe(g),new Error(g)}function Vt(T,g){T||Nt(g)}function Dn(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.href)||""}function wt(){return"http:"===Qe()||"https:"===Qe()}function Qe(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.protocol)||null}class we{constructor(g,y){this.shortDelay=g,this.longDelay=y,Vt(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return function dt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(wt()||(0,U.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function te(T,g){Vt(T.emulator,"Emulator should always be set here");const{url:y}=T.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class Ie{static initialize(g,y,M){this.fetchImpl=g,y&&(this.headersImpl=y),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Nt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Nt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Nt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Pe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},je=new we(3e4,6e4);function ot(T,g){return T.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:T.tenantId}):g}function vt(T,g,y,M){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,f.Z)(function*(T,g,y,M,X={}){return Zt(T,X,(0,f.Z)(function*(){let me={},rt={};M&&("GET"===g?rt=M:me={body:JSON.stringify(M)});const Pt=(0,U.xO)(Object.assign({key:T.config.apiKey},rt)).slice(1),Jt=yield T._getAdditionalHeaders();return Jt["Content-Type"]="application/json",T.languageCode&&(Jt["X-Firebase-Locale"]=T.languageCode),Ie.fetch()(Pn(T,T.config.apiHost,y,Pt),Object.assign({method:g,headers:Jt,referrerPolicy:"no-referrer"},me))}))})).apply(this,arguments)}function Zt(T,g,y){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,f.Z)(function*(T,g,y){T._canInitEmulator=!1;const M=Object.assign(Object.assign({},Pe),g);try{const X=new on(T),me=yield Promise.race([y(),X.promise]);X.clearNetworkTimeout();const rt=yield me.json();if("needConfirmation"in rt)throw Nn(T,"account-exists-with-different-credential",rt);if(me.ok&&!("errorMessage"in rt))return rt;{const Pt=me.ok?rt.errorMessage:rt.error.message,[Jt,Fn]=Pt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Jt)throw Nn(T,"credential-already-in-use",rt);if("EMAIL_EXISTS"===Jt)throw Nn(T,"email-already-in-use",rt);if("USER_DISABLED"===Jt)throw Nn(T,"user-disabled",rt);const er=M[Jt]||Jt.toLowerCase().replace(/[_\s]+/g,"-");if(Fn)throw Ze(T,er,Fn);Ne(T,er)}}catch(X){if(X instanceof U.ZR)throw X;Ne(T,"network-request-failed",{message:String(X)})}})).apply(this,arguments)}function Cn(T,g,y,M){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,f.Z)(function*(T,g,y,M,X={}){const me=yield vt(T,g,y,M,X);return"mfaPendingCredential"in me&&Ne(T,"multi-factor-auth-required",{_serverResponse:me}),me})).apply(this,arguments)}function Pn(T,g,y,M){const X=`${g}${y}?${M}`;return T.config.emulator?te(T.config,X):`${T.config.apiScheme}://${X}`}function On(T){switch(T){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class on{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,M)=>{this.timer=setTimeout(()=>M(tt(this.auth,"network-request-failed")),je.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nn(T,g,y){const M={appName:T.name};y.email&&(M.email=y.email),y.phoneNumber&&(M.phoneNumber=y.phoneNumber);const X=tt(T,g,M);return X.customData._tokenResponse=y,X}function mr(T){return void 0!==T&&void 0!==T.getResponse}function Yn(T){return void 0!==T&&void 0!==T.enterprise}class Kt{constructor(g){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=g.recaptchaEnforcementState}getProviderEnforcementState(g){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const y of this.recaptchaEnforcementState)if(y.provider&&y.provider===g)return On(y.enforcementState);return null}isProviderEnabled(g){return"ENFORCE"===this.getProviderEnforcementState(g)||"AUDIT"===this.getProviderEnforcementState(g)}}function xn(){return(xn=(0,f.Z)(function*(T){return(yield vt(T,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Pr(T,g){return ir.apply(this,arguments)}function ir(){return(ir=(0,f.Z)(function*(T,g){return vt(T,"GET","/v2/recaptchaConfig",ot(T,g))})).apply(this,arguments)}function bn(){return(bn=(0,f.Z)(function*(T,g){return vt(T,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function jn(){return(jn=(0,f.Z)(function*(T,g){return vt(T,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ar(T,g){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,f.Z)(function*(T,g){return vt(T,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Zn(T){if(T)try{const g=new Date(Number(T));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Ei(){return(Ei=(0,f.Z)(function*(T,g=!1){const y=(0,U.m9)(T),M=yield y.getIdToken(g),X=Ur(M);Ee(X&&X.exp&&X.auth_time&&X.iat,y.auth,"internal-error");const me="object"==typeof X.firebase?X.firebase:void 0,rt=me?.sign_in_provider;return{claims:X,token:M,authTime:Zn(gn(X.auth_time)),issuedAtTime:Zn(gn(X.iat)),expirationTime:Zn(gn(X.exp)),signInProvider:rt||null,signInSecondFactor:me?.sign_in_second_factor||null}})).apply(this,arguments)}function gn(T){return 1e3*Number(T)}function Ur(T){const[g,y,M]=T.split(".");if(void 0===g||void 0===y||void 0===M)return Fe("JWT malformed, contained fewer than 3 sections"),null;try{const X=(0,U.tV)(y);return X?JSON.parse(X):(Fe("Failed to decode base64 JWT payload"),null)}catch(X){return Fe("Caught error parsing JWT payload as JSON",X?.toString()),null}}function sr(T){const g=Ur(T);return Ee(g,"internal-error"),Ee(typeof g.exp<"u","internal-error"),Ee(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}function xr(T,g){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,f.Z)(function*(T,g,y=!1){if(y)return g;try{return yield g}catch(M){throw M instanceof U.ZR&&function ii({code:T}){return"auth/user-disabled"===T||"auth/user-token-expired"===T}(M)&&T.auth.currentUser===T&&(yield T.auth.signOut()),M}})).apply(this,arguments)}class ct{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const X=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,X)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const M=this.getInterval(g);this.timerId=setTimeout((0,f.Z)(function*(){yield y.iteration()}),M)}iteration(){var g=this;return(0,f.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&g.schedule(!0))}g.schedule()})()}}class Dt{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zn(this.lastLoginAt),this.creationTime=Zn(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ue(T){return Be.apply(this,arguments)}function Be(){return(Be=(0,f.Z)(function*(T){var g;const y=T.auth,M=yield T.getIdToken(),X=yield xr(T,Ar(y,{idToken:M}));Ee(X?.users.length,y,"internal-error");const me=X.users[0];T._notifyReloadListener(me);const rt=null!==(g=me.providerUserInfo)&&void 0!==g&&g.length?hi(me.providerUserInfo):[],Pt=function Hn(T,g){return[...T.filter(M=>!g.some(X=>X.providerId===M.providerId)),...g]}(T.providerData,rt),er=!!T.isAnonymous&&!(T.email&&me.passwordHash||Pt?.length),jr={uid:me.localId,displayName:me.displayName||null,photoURL:me.photoUrl||null,email:me.email||null,emailVerified:me.emailVerified||!1,phoneNumber:me.phoneNumber||null,tenantId:me.tenantId||null,providerData:Pt,metadata:new Dt(me.createdAt,me.lastLoginAt),isAnonymous:er};Object.assign(T,jr)})).apply(this,arguments)}function en(){return(en=(0,f.Z)(function*(T){const g=(0,U.m9)(T);yield ue(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function hi(T){return T.map(g=>{var{providerId:y}=g,M=(0,_e._T)(g,["providerId"]);return{providerId:y,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}function Ge(){return(Ge=(0,f.Z)(function*(T,g){const y=yield Zt(T,{},(0,f.Z)(function*(){const M=(0,U.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:X,apiKey:me}=T.config,rt=Pn(T,X,"/v1/token",`key=${me}`),Pt=yield T._getAdditionalHeaders();return Pt["Content-Type"]="application/x-www-form-urlencoded",Ie.fetch()(rt,{method:"POST",headers:Pt,body:M})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}function Q(){return(Q=(0,f.Z)(function*(T,g){return vt(T,"POST","/v2/accounts:revokeToken",ot(T,g))})).apply(this,arguments)}class H{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Ee(g.idToken,"internal-error"),Ee(typeof g.idToken<"u","internal-error"),Ee(typeof g.refreshToken<"u","internal-error");const y="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):sr(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}updateFromIdToken(g){Ee(0!==g.length,"internal-error");const y=sr(g);this.updateTokensAndExpiration(g,null,y)}getToken(g,y=!1){var M=this;return(0,f.Z)(function*(){return y||!M.accessToken||M.isExpired?(Ee(M.refreshToken,g,"user-token-expired"),M.refreshToken?(yield M.refresh(g,M.refreshToken),M.accessToken):null):M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var M=this;return(0,f.Z)(function*(){const{accessToken:X,refreshToken:me,expiresIn:rt}=yield function Tr(T,g){return Ge.apply(this,arguments)}(g,y);M.updateTokensAndExpiration(X,me,Number(rt))})()}updateTokensAndExpiration(g,y,M){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(g,y){const{refreshToken:M,accessToken:X,expirationTime:me}=y,rt=new H;return M&&(Ee("string"==typeof M,"internal-error",{appName:g}),rt.refreshToken=M),X&&(Ee("string"==typeof X,"internal-error",{appName:g}),rt.accessToken=X),me&&(Ee("number"==typeof me,"internal-error",{appName:g}),rt.expirationTime=me),rt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new H,this.toJSON())}_performRefresh(){return Nt("not implemented")}}function B(T,g){Ee("string"==typeof T||typeof T>"u","internal-error",{appName:g})}class Te{constructor(g){var{uid:y,auth:M,stsTokenManager:X}=g,me=(0,_e._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ct(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=M,this.stsTokenManager=X,this.accessToken=X.accessToken,this.displayName=me.displayName||null,this.email=me.email||null,this.emailVerified=me.emailVerified||!1,this.phoneNumber=me.phoneNumber||null,this.photoURL=me.photoURL||null,this.isAnonymous=me.isAnonymous||!1,this.tenantId=me.tenantId||null,this.providerData=me.providerData?[...me.providerData]:[],this.metadata=new Dt(me.createdAt||void 0,me.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,f.Z)(function*(){const M=yield xr(y,y.stsTokenManager.getToken(y.auth,g));return Ee(M,y.auth,"internal-error"),y.accessToken!==M&&(y.accessToken=M,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),M})()}getIdTokenResult(g){return function Yr(T){return Ei.apply(this,arguments)}(this,g)}reload(){return function xt(T){return en.apply(this,arguments)}(this)}_assign(g){this!==g&&(Ee(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const y=new Te(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(g){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var M=this;return(0,f.Z)(function*(){let X=!1;g.idToken&&g.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(g),X=!0),y&&(yield ue(M)),yield M.auth._persistUserIfCurrent(M),X&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var g=this;return(0,f.Z)(function*(){if((0,o._isFirebaseServerApp)(g.auth.app))return Promise.reject(qe(g.auth));const y=yield g.getIdToken();return yield xr(g,function Yt(T,g){return bn.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var M,X,me,rt,Pt,Jt,Fn,er;const jr=null!==(M=y.displayName)&&void 0!==M?M:void 0,ps=null!==(X=y.email)&&void 0!==X?X:void 0,La=null!==(me=y.phoneNumber)&&void 0!==me?me:void 0,Xa=null!==(rt=y.photoURL)&&void 0!==rt?rt:void 0,Il=null!==(Pt=y.tenantId)&&void 0!==Pt?Pt:void 0,Lc=null!==(Jt=y._redirectEventId)&&void 0!==Jt?Jt:void 0,Ku=null!==(Fn=y.createdAt)&&void 0!==Fn?Fn:void 0,Vc=null!==(er=y.lastLoginAt)&&void 0!==er?er:void 0,{uid:Uc,emailVerified:ih,isAnonymous:df,providerData:Yu,stsTokenManager:oh}=y;Ee(Uc&&oh,g,"internal-error");const ec=H.fromJSON(this.name,oh);Ee("string"==typeof Uc,g,"internal-error"),B(jr,g.name),B(ps,g.name),Ee("boolean"==typeof ih,g,"internal-error"),Ee("boolean"==typeof df,g,"internal-error"),B(La,g.name),B(Xa,g.name),B(Il,g.name),B(Lc,g.name),B(Ku,g.name),B(Vc,g.name);const Bc=new Te({uid:Uc,auth:g,email:ps,emailVerified:ih,displayName:jr,isAnonymous:df,photoURL:Xa,phoneNumber:La,tenantId:Il,stsTokenManager:ec,createdAt:Ku,lastLoginAt:Vc});return Yu&&Array.isArray(Yu)&&(Bc.providerData=Yu.map(Ju=>Object.assign({},Ju))),Lc&&(Bc._redirectEventId=Lc),Bc}static _fromIdTokenResponse(g,y,M=!1){return(0,f.Z)(function*(){const X=new H;X.updateFromServerResponse(y);const me=new Te({uid:y.localId,auth:g,stsTokenManager:X,isAnonymous:M});return yield ue(me),me})()}static _fromGetAccountInfoResponse(g,y,M){return(0,f.Z)(function*(){const X=y.users[0];Ee(void 0!==X.localId,"internal-error");const me=void 0!==X.providerUserInfo?hi(X.providerUserInfo):[],rt=!(X.email&&X.passwordHash||me?.length),Pt=new H;Pt.updateFromIdToken(M);const Jt=new Te({uid:X.localId,auth:g,stsTokenManager:Pt,isAnonymous:rt}),Fn={uid:X.localId,displayName:X.displayName||null,photoURL:X.photoUrl||null,email:X.email||null,emailVerified:X.emailVerified||!1,phoneNumber:X.phoneNumber||null,tenantId:X.tenantId||null,providerData:me,metadata:new Dt(X.createdAt,X.lastLoginAt),isAnonymous:!(X.email&&X.passwordHash||me?.length)};return Object.assign(Jt,Fn),Jt})()}}const Xe=new Map;function kt(T){Vt(T instanceof Function,"Expected a class definition");let g=Xe.get(T);return g?(Vt(g instanceof T,"Instance stored in cache mismatched with class"),g):(g=new T,Xe.set(T,g),g)}const mn=(()=>{class T{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(y,M){var X=this;return(0,f.Z)(function*(){X.storage[y]=M})()}_get(y){var M=this;return(0,f.Z)(function*(){const X=M.storage[y];return void 0===X?null:X})()}_remove(y){var M=this;return(0,f.Z)(function*(){delete M.storage[y]})()}_addListener(y,M){}_removeListener(y,M){}}return T.type="NONE",T})();function cn(T,g,y){return`firebase:${T}:${g}:${y}`}class fn{constructor(g,y,M){this.persistence=g,this.auth=y,this.userKey=M;const{config:X,name:me}=this.auth;this.fullUserKey=cn(this.userKey,X.apiKey,me),this.fullPersistenceKey=cn("persistence",X.apiKey,me),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,f.Z)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?Te._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,f.Z)(function*(){if(y.persistence===g)return;const M=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,M?y.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,M="authUser"){return(0,f.Z)(function*(){if(!y.length)return new fn(kt(mn),g,M);const X=(yield Promise.all(y.map(function(){var Fn=(0,f.Z)(function*(er){if(yield er._isAvailable())return er});return function(er){return Fn.apply(this,arguments)}}()))).filter(Fn=>Fn);let me=X[0]||kt(mn);const rt=cn(M,g.config.apiKey,g.name);let Pt=null;for(const Fn of y)try{const er=yield Fn._get(rt);if(er){const jr=Te._fromJSON(g,er);Fn!==me&&(Pt=jr),me=Fn;break}}catch{}const Jt=X.filter(Fn=>Fn._shouldAllowMigration);return me._shouldAllowMigration&&Jt.length?(me=Jt[0],Pt&&(yield me._set(rt,Pt.toJSON())),yield Promise.all(y.map(function(){var Fn=(0,f.Z)(function*(er){if(er!==me)try{yield er._remove(rt)}catch{}});return function(er){return Fn.apply(this,arguments)}}())),new fn(me,g,M)):new fn(me,g,M)})()}}function Jn(T){const g=T.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(jt(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Je(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(An(g))return"Blackberry";if(ln(g))return"Webos";if(He(g))return"Safari";if((g.includes("chrome/")||nt(g))&&!g.includes("edge/"))return"Chrome";if(Xt(g))return"Android";{const M=T.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===M?.length)return M[1]}return"Other"}function Je(T=(0,U.z$)()){return/firefox\//i.test(T)}function He(T=(0,U.z$)()){const g=T.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function nt(T=(0,U.z$)()){return/crios\//i.test(T)}function jt(T=(0,U.z$)()){return/iemobile/i.test(T)}function Xt(T=(0,U.z$)()){return/android/i.test(T)}function An(T=(0,U.z$)()){return/blackberry/i.test(T)}function ln(T=(0,U.z$)()){return/webos/i.test(T)}function fr(T=(0,U.z$)()){return/iphone|ipad|ipod/i.test(T)||/macintosh/i.test(T)&&/mobile/i.test(T)}function En(T=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(T)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(T)}function Ft(T=(0,U.z$)()){return fr(T)||Xt(T)||ln(T)||An(T)||/windows phone/i.test(T)||jt(T)}function Ln(T,g=[]){let y;switch(T){case"Browser":y=Jn((0,U.z$)());break;case"Worker":y=`${Jn((0,U.z$)())}-${T}`;break;default:y=T}const M=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${o.SDK_VERSION}/${M}`}class Vn{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,y){const M=me=>new Promise((rt,Pt)=>{try{rt(g(me))}catch(Jt){Pt(Jt)}});M.onAbort=y,this.queue.push(M);const X=this.queue.length-1;return()=>{this.queue[X]=()=>Promise.resolve()}}runMiddleware(g){var y=this;return(0,f.Z)(function*(){if(y.auth.currentUser===g)return;const M=[];try{for(const X of y.queue)yield X(g),X.onAbort&&M.push(X.onAbort)}catch(X){M.reverse();for(const me of M)try{me()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:X?.message})}})()}}function zn(){return(zn=(0,f.Z)(function*(T,g={}){return vt(T,"GET","/v2/passwordPolicy",ot(T,g))})).apply(this,arguments)}class fi{constructor(g){var y,M,X,me;const rt=g.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(y=rt.minPasswordLength)&&void 0!==y?y:6,rt.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=rt.maxPasswordLength),void 0!==rt.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=rt.containsLowercaseCharacter),void 0!==rt.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=rt.containsUppercaseCharacter),void 0!==rt.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=rt.containsNumericCharacter),void 0!==rt.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=rt.containsNonAlphanumericCharacter),this.enforcementState=g.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(X=null===(M=g.allowedNonAlphanumericCharacters)||void 0===M?void 0:M.join(""))&&void 0!==X?X:"",this.forceUpgradeOnSignin=null!==(me=g.forceUpgradeOnSignin)&&void 0!==me&&me,this.schemaVersion=g.schemaVersion}validatePassword(g){var y,M,X,me,rt,Pt;const Jt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(g,Jt),this.validatePasswordCharacterOptions(g,Jt),Jt.isValid&&(Jt.isValid=null===(y=Jt.meetsMinPasswordLength)||void 0===y||y),Jt.isValid&&(Jt.isValid=null===(M=Jt.meetsMaxPasswordLength)||void 0===M||M),Jt.isValid&&(Jt.isValid=null===(X=Jt.containsLowercaseLetter)||void 0===X||X),Jt.isValid&&(Jt.isValid=null===(me=Jt.containsUppercaseLetter)||void 0===me||me),Jt.isValid&&(Jt.isValid=null===(rt=Jt.containsNumericCharacter)||void 0===rt||rt),Jt.isValid&&(Jt.isValid=null===(Pt=Jt.containsNonAlphanumericCharacter)||void 0===Pt||Pt),Jt}validatePasswordLengthOptions(g,y){const M=this.customStrengthOptions.minPasswordLength,X=this.customStrengthOptions.maxPasswordLength;M&&(y.meetsMinPasswordLength=g.length>=M),X&&(y.meetsMaxPasswordLength=g.length<=X)}validatePasswordCharacterOptions(g,y){let M;this.updatePasswordCharacterOptionsStatuses(y,!1,!1,!1,!1);for(let X=0;X<g.length;X++)M=g.charAt(X),this.updatePasswordCharacterOptionsStatuses(y,M>="a"&&M<="z",M>="A"&&M<="Z",M>="0"&&M<="9",this.allowedNonAlphanumericCharacters.includes(M))}updatePasswordCharacterOptionsStatuses(g,y,M,X,me){this.customStrengthOptions.containsLowercaseLetter&&(g.containsLowercaseLetter||(g.containsLowercaseLetter=y)),this.customStrengthOptions.containsUppercaseLetter&&(g.containsUppercaseLetter||(g.containsUppercaseLetter=M)),this.customStrengthOptions.containsNumericCharacter&&(g.containsNumericCharacter||(g.containsNumericCharacter=X)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(g.containsNonAlphanumericCharacter||(g.containsNonAlphanumericCharacter=me))}}class ei{constructor(g,y,M,X){this.app=g,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=M,this.config=X,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mi(this),this.idTokenSubscription=new Mi(this),this.beforeStateQueue=new Vn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Re,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=X.sdkClientVersion}_initializeWithPersistence(g,y){var M=this;return y&&(this._popupRedirectResolver=kt(y)),this._initializationPromise=this.queue((0,f.Z)(function*(){var X,me;if(!M._deleted&&(M.persistenceManager=yield fn.create(M,g),!M._deleted)){if(null!==(X=M._popupRedirectResolver)&&void 0!==X&&X._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(y),M.lastNotifiedUid=(null===(me=M.currentUser)||void 0===me?void 0:me.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,f.Z)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y,!0)}})()}initializeCurrentUserFromIdToken(g){var y=this;return(0,f.Z)(function*(){try{const M=yield Ar(y,{idToken:g}),X=yield Te._fromGetAccountInfoResponse(y,M,g);yield y.directlySetCurrentUser(X)}catch(M){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",M),yield y.directlySetCurrentUser(null)}})()}initializeCurrentUser(g){var y=this;return(0,f.Z)(function*(){var M;if((0,o._isFirebaseServerApp)(y.app)){const Pt=y.app.settings.authIdToken;return Pt?new Promise(Jt=>{setTimeout(()=>y.initializeCurrentUserFromIdToken(Pt).then(Jt,Jt))}):y.directlySetCurrentUser(null)}const X=yield y.assertedPersistence.getCurrentUser();let me=X,rt=!1;if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const Pt=null===(M=y.redirectUser)||void 0===M?void 0:M._redirectEventId,Jt=me?._redirectEventId,Fn=yield y.tryRedirectSignIn(g);(!Pt||Pt===Jt)&&Fn?.user&&(me=Fn.user,rt=!0)}if(!me)return y.directlySetCurrentUser(null);if(!me._redirectEventId){if(rt)try{yield y.beforeStateQueue.runMiddleware(me)}catch(Pt){me=X,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(Pt))}return me?y.reloadAndSetCurrentUserOrClear(me):y.directlySetCurrentUser(null)}return Ee(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===me._redirectEventId?y.directlySetCurrentUser(me):y.reloadAndSetCurrentUserOrClear(me)})()}tryRedirectSignIn(g){var y=this;return(0,f.Z)(function*(){let M=null;try{M=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch{yield y._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,f.Z)(function*(){try{yield ue(g)}catch(M){if("auth/network-request-failed"!==M?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Le(){if(typeof navigator>"u")return null;const T=navigator;return T.languages&&T.languages[0]||T.language||null}()}_delete(){var g=this;return(0,f.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,f.Z)(function*(){if((0,o._isFirebaseServerApp)(y.app))return Promise.reject(qe(y));const M=g?(0,U.m9)(g):null;return M&&Ee(M.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(M&&M._clone(y))})()}_updateCurrentUser(g,y=!1){var M=this;return(0,f.Z)(function*(){if(!M._deleted)return g&&Ee(M.tenantId===g.tenantId,M,"tenant-id-mismatch"),y||(yield M.beforeStateQueue.runMiddleware(g)),M.queue((0,f.Z)(function*(){yield M.directlySetCurrentUser(g),M.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,f.Z)(function*(){return(0,o._isFirebaseServerApp)(g.app)?Promise.reject(qe(g)):(yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0))})()}setPersistence(g){var y=this;return(0,o._isFirebaseServerApp)(this.app)?Promise.reject(qe(this)):this.queue((0,f.Z)(function*(){yield y.assertedPersistence.setPersistence(kt(g))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(g){var y=this;return(0,f.Z)(function*(){y._getPasswordPolicyInternal()||(yield y._updatePasswordPolicy());const M=y._getPasswordPolicyInternal();return M.schemaVersion!==y.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(y._errorFactory.create("unsupported-password-policy-schema-version",{})):M.validatePassword(g)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var g=this;return(0,f.Z)(function*(){const y=yield function yn(T){return zn.apply(this,arguments)}(g),M=new fi(y);null===g.tenantId?g._projectPasswordPolicy=M:g._tenantPasswordPolicies[g.tenantId]=M})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new U.LL("auth","Firebase",g())}onAuthStateChanged(g,y,M){return this.registerStateListener(this.authStateSubscription,g,y,M)}beforeAuthStateChanged(g,y){return this.beforeStateQueue.pushCallback(g,y)}onIdTokenChanged(g,y,M){return this.registerStateListener(this.idTokenSubscription,g,y,M)}authStateReady(){return new Promise((g,y)=>{if(this.currentUser)g();else{const M=this.onAuthStateChanged(()=>{M(),g()},y)}})}revokeAccessToken(g){var y=this;return(0,f.Z)(function*(){if(y.currentUser){const M=yield y.currentUser.getIdToken(),X={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:g,idToken:M};null!=y.tenantId&&(X.tenantId=y.tenantId),yield function ce(T,g){return Q.apply(this,arguments)}(y,X)}})()}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var M=this;return(0,f.Z)(function*(){const X=yield M.getOrInitRedirectPersistenceManager(y);return null===g?X.removeCurrentUser():X.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,f.Z)(function*(){if(!y.redirectPersistenceManager){const M=g&&kt(g)||y._popupRedirectResolver;Ee(M,y,"argument-error"),y.redirectPersistenceManager=yield fn.create(y,[kt(M._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,f.Z)(function*(){var M,X;return y._isInitialized&&(yield y.queue((0,f.Z)(function*(){}))),(null===(M=y._currentUser)||void 0===M?void 0:M._redirectEventId)===g?y._currentUser:(null===(X=y.redirectUser)||void 0===X?void 0:X._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,f.Z)(function*(){if(g===y.currentUser)return y.queue((0,f.Z)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,M,X){if(this._deleted)return()=>{};const me="function"==typeof y?y:y.next.bind(y);let rt=!1;const Pt=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(Pt,this,"internal-error"),Pt.then(()=>{rt||me(this.currentUser)}),"function"==typeof y){const Jt=g.addObserver(y,M,X);return()=>{rt=!0,Jt()}}{const Jt=g.addObserver(y);return()=>{rt=!0,Jt()}}}directlySetCurrentUser(g){var y=this;return(0,f.Z)(function*(){y.currentUser&&y.currentUser!==g&&y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh(),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Ln(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,f.Z)(function*(){var y;const M={"X-Client-Version":g.clientVersion};g.app.options.appId&&(M["X-Firebase-gmpid"]=g.app.options.appId);const X=yield null===(y=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();X&&(M["X-Firebase-Client"]=X);const me=yield g._getAppCheckToken();return me&&(M["X-Firebase-AppCheck"]=me),M})()}_getAppCheckToken(){var g=this;return(0,f.Z)(function*(){var y;const M=yield null===(y=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return M?.error&&function _t(T,...g){We.logLevel<=Se.in.WARN&&We.warn(`Auth (${o.SDK_VERSION}): ${T}`,...g)}(`Error while retrieving App Check token: ${M.error}`),M?.token})()}}function ur(T){return(0,U.m9)(T)}class Mi{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,U.ne)(y=>this.observer=y)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mi={loadJS:()=>(0,f.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zr(T){return mi.loadJS(T)}function Qo(T){return`__${T}${Math.floor(1e6*Math.random())}`}class xi{constructor(g){this.type="recaptcha-enterprise",this.auth=ur(g)}verify(g="verify",y=!1){var M=this;return(0,f.Z)(function*(){function me(){return me=(0,f.Z)(function*(Pt){if(!y){if(null==Pt.tenantId&&null!=Pt._agentRecaptchaConfig)return Pt._agentRecaptchaConfig.siteKey;if(null!=Pt.tenantId&&void 0!==Pt._tenantRecaptchaConfigs[Pt.tenantId])return Pt._tenantRecaptchaConfigs[Pt.tenantId].siteKey}return new Promise(function(){var Jt=(0,f.Z)(function*(Fn,er){Pr(Pt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(jr=>{if(void 0!==jr.recaptchaKey){const ps=new Kt(jr);return null==Pt.tenantId?Pt._agentRecaptchaConfig=ps:Pt._tenantRecaptchaConfigs[Pt.tenantId]=ps,Fn(ps.siteKey)}er(new Error("recaptcha Enterprise site key undefined"))}).catch(jr=>{er(jr)})});return function(Fn,er){return Jt.apply(this,arguments)}}())}),me.apply(this,arguments)}function rt(Pt,Jt,Fn){const er=window.grecaptcha;Yn(er)?er.enterprise.ready(()=>{er.enterprise.execute(Pt,{action:g}).then(jr=>{Jt(jr)}).catch(()=>{Jt("NO_RECAPTCHA")})}):Fn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Pt,Jt)=>{(function X(Pt){return me.apply(this,arguments)})(M.auth).then(Fn=>{if(!y&&Yn(window.grecaptcha))rt(Fn,Pt,Jt);else{if(typeof window>"u")return void Jt(new Error("RecaptchaVerifier is only supported in browser"));let er=function go(){return mi.recaptchaEnterpriseScript}();0!==er.length&&(er+=Fn),zr(er).then(()=>{rt(Fn,Pt,Jt)}).catch(jr=>{Jt(jr)})}}).catch(Fn=>{Jt(Fn)})})})()}}function Jr(T,g,y){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,f.Z)(function*(T,g,y,M=!1){const X=new xi(T);let me;try{me=yield X.verify(y)}catch{me=yield X.verify(y,!0)}const rt=Object.assign({},g);return Object.assign(rt,M?{captchaResp:me}:{captchaResponse:me}),Object.assign(rt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(rt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),rt})).apply(this,arguments)}function Vo(T,g,y,M){return Bi.apply(this,arguments)}function Bi(){return Bi=(0,f.Z)(function*(T,g,y,M){var X;if(null!==(X=T._getRecaptchaConfig())&&void 0!==X&&X.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const me=yield Jr(T,g,y,"getOobCode"===y);return M(T,me)}return M(T,g).catch(function(){var me=(0,f.Z)(function*(rt){if("auth/missing-recaptcha-token"===rt.code){console.log(`${y} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Pt=yield Jr(T,g,y,"getOobCode"===y);return M(T,Pt)}return Promise.reject(rt)});return function(rt){return me.apply(this,arguments)}}())}),Bi.apply(this,arguments)}function To(T,g,y){const M=ur(T);Ee(M._canInitEmulator,M,"emulator-config-failed"),Ee(/^https?:\/\//.test(g),M,"invalid-emulator-scheme");const X=!!y?.disableWarnings,me=Ai(g),{host:rt,port:Pt}=function mo(T){const g=Ai(T),y=/(\/\/)?([^?#/]+)/.exec(T.substr(g.length));if(!y)return{host:"",port:null};const M=y[2].split("@").pop()||"",X=/^(\[[^\]]+\])(:|$)/.exec(M);if(X){const me=X[1];return{host:me,port:$o(M.substr(me.length+1))}}{const[me,rt]=M.split(":");return{host:me,port:$o(rt)}}}(g);M.config.emulator={url:`${me}//${rt}${null===Pt?"":`:${Pt}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:rt,port:Pt,protocol:me.replace(":",""),options:Object.freeze({disableWarnings:X})}),X||function Xo(){function T(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",T):T())}()}function Ai(T){const g=T.indexOf(":");return g<0?"":T.substr(0,g+1)}function $o(T){if(!T)return null;const g=Number(T);return isNaN(g)?null:g}class Xi{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return Nt("not implemented")}_getIdTokenResponse(g){return Nt("not implemented")}_linkToIdToken(g,y){return Nt("not implemented")}_getReauthenticationResolver(g){return Nt("not implemented")}}function us(T,g){return qn.apply(this,arguments)}function qn(){return(qn=(0,f.Z)(function*(T,g){return vt(T,"POST","/v1/accounts:resetPassword",ot(T,g))})).apply(this,arguments)}function si(){return(si=(0,f.Z)(function*(T,g){return vt(T,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ji(T,g){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,f.Z)(function*(T,g){return vt(T,"POST","/v1/accounts:signUp",g)})).apply(this,arguments)}function to(){return(to=(0,f.Z)(function*(T,g){return vt(T,"POST","/v1/accounts:update",ot(T,g))})).apply(this,arguments)}function As(T,g){return _o.apply(this,arguments)}function _o(){return(_o=(0,f.Z)(function*(T,g){return Cn(T,"POST","/v1/accounts:signInWithPassword",ot(T,g))})).apply(this,arguments)}function Uo(T,g){return $r.apply(this,arguments)}function $r(){return($r=(0,f.Z)(function*(T,g){return vt(T,"POST","/v1/accounts:sendOobCode",ot(T,g))})).apply(this,arguments)}function Xn(){return(Xn=(0,f.Z)(function*(T,g){return Uo(T,g)})).apply(this,arguments)}function Rr(T,g){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,f.Z)(function*(T,g){return Uo(T,g)})).apply(this,arguments)}function Hi(T,g){return ci.apply(this,arguments)}function ci(){return(ci=(0,f.Z)(function*(T,g){return Uo(T,g)})).apply(this,arguments)}function ai(){return(ai=(0,f.Z)(function*(T,g){return Uo(T,g)})).apply(this,arguments)}function vo(){return(vo=(0,f.Z)(function*(T,g){return Cn(T,"POST","/v1/accounts:signInWithEmailLink",ot(T,g))})).apply(this,arguments)}function Do(){return(Do=(0,f.Z)(function*(T,g){return Cn(T,"POST","/v1/accounts:signInWithEmailLink",ot(T,g))})).apply(this,arguments)}class li extends Xi{constructor(g,y,M,X=null){super("password",M),this._email=g,this._password=y,this._tenantId=X}static _fromEmailAndPassword(g,y){return new li(g,y,"password")}static _fromEmailAndCode(g,y,M=null){return new li(g,y,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,f.Z)(function*(){switch(y.signInMethod){case"password":return Vo(g,{returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",As);case"emailLink":return function no(T,g){return vo.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:Ne(g,"internal-error")}})()}_linkToIdToken(g,y){var M=this;return(0,f.Z)(function*(){switch(M.signInMethod){case"password":return Vo(g,{idToken:y,returnSecureToken:!0,email:M._email,password:M._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ji);case"emailLink":return function nr(T,g){return Do.apply(this,arguments)}(g,{idToken:y,email:M._email,oobCode:M._password});default:Ne(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function re(T,g){return Y.apply(this,arguments)}function Y(){return(Y=(0,f.Z)(function*(T,g){return Cn(T,"POST","/v1/accounts:signInWithIdp",ot(T,g))})).apply(this,arguments)}class $e extends Xi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new $e(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):Ne("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:M,signInMethod:X}=y,me=(0,_e._T)(y,["providerId","signInMethod"]);if(!M||!X)return null;const rt=new $e(M,X);return rt.idToken=me.idToken||void 0,rt.accessToken=me.accessToken||void 0,rt.secret=me.secret,rt.nonce=me.nonce,rt.pendingToken=me.pendingToken||null,rt}_getIdTokenResponse(g){return re(g,this.buildRequest())}_linkToIdToken(g,y){const M=this.buildRequest();return M.idToken=y,re(g,M)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,re(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,U.xO)(y)}return g}}function Lt(){return(Lt=(0,f.Z)(function*(T,g){return vt(T,"POST","/v1/accounts:sendVerificationCode",ot(T,g))})).apply(this,arguments)}function Sn(){return(Sn=(0,f.Z)(function*(T,g){return Cn(T,"POST","/v1/accounts:signInWithPhoneNumber",ot(T,g))})).apply(this,arguments)}function In(){return(In=(0,f.Z)(function*(T,g){const y=yield Cn(T,"POST","/v1/accounts:signInWithPhoneNumber",ot(T,g));if(y.temporaryProof)throw Nn(T,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const _r={USER_NOT_FOUND:"user-not-found"};function Ii(){return(Ii=(0,f.Z)(function*(T,g){return Cn(T,"POST","/v1/accounts:signInWithPhoneNumber",ot(T,Object.assign(Object.assign({},g),{operation:"REAUTH"})),_r)})).apply(this,arguments)}class Zr extends Xi{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,y){return new Zr({verificationId:g,verificationCode:y})}static _fromTokenResponse(g,y){return new Zr({phoneNumber:g,temporaryProof:y})}_getIdTokenResponse(g){return function pn(T,g){return Sn.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,y){return function Qt(T,g){return In.apply(this,arguments)}(g,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Bn(T,g){return Ii.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:y,verificationId:M,verificationCode:X}=this.params;return g&&y?{temporaryProof:g,phoneNumber:y}:{sessionInfo:M,code:X}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:y,verificationCode:M,phoneNumber:X,temporaryProof:me}=g;return M||y||X||me?new Zr({verificationId:y,verificationCode:M,phoneNumber:X,temporaryProof:me}):null}}class Br{constructor(g){var y,M,X,me,rt,Pt;const Jt=(0,U.zd)((0,U.pd)(g)),Fn=null!==(y=Jt.apiKey)&&void 0!==y?y:null,er=null!==(M=Jt.oobCode)&&void 0!==M?M:null,jr=function Or(T){switch(T){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(X=Jt.mode)&&void 0!==X?X:null);Ee(Fn&&er&&jr,"argument-error"),this.apiKey=Fn,this.operation=jr,this.code=er,this.continueUrl=null!==(me=Jt.continueUrl)&&void 0!==me?me:null,this.languageCode=null!==(rt=Jt.languageCode)&&void 0!==rt?rt:null,this.tenantId=null!==(Pt=Jt.tenantId)&&void 0!==Pt?Pt:null}static parseLink(g){const y=function _i(T){const g=(0,U.zd)((0,U.pd)(T)).link,y=g?(0,U.zd)((0,U.pd)(g)).deep_link_id:null,M=(0,U.zd)((0,U.pd)(T)).deep_link_id;return(M?(0,U.zd)((0,U.pd)(M)).link:null)||M||y||g||T}(g);try{return new Br(y)}catch{return null}}}let ao=(()=>{class T{constructor(){this.providerId=T.PROVIDER_ID}static credential(y,M){return li._fromEmailAndPassword(y,M)}static credentialWithLink(y,M){const X=Br.parseLink(M);return Ee(X,"argument-error"),li._fromEmailAndCode(y,X.code,X.tenantId)}}return T.PROVIDER_ID="password",T.EMAIL_PASSWORD_SIGN_IN_METHOD="password",T.EMAIL_LINK_SIGN_IN_METHOD="emailLink",T})();class yr{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Pi extends yr{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Qr extends Pi{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return Ee("providerId"in y&&"signInMethod"in y,"argument-error"),$e._fromParams(y)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Ee(g.idToken||g.accessToken,"argument-error"),$e._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Qr.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Qr.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:M,oauthTokenSecret:X,pendingToken:me,nonce:rt,providerId:Pt}=g;if(!M&&!X&&!y&&!me||!Pt)return null;try{return new Qr(Pt)._credential({idToken:y,accessToken:M,nonce:rt,pendingToken:me})}catch{return null}}}let bi=(()=>{class T extends Pi{constructor(){super("facebook.com")}static credential(y){return $e._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return T.credentialFromTaggedObject(y)}static credentialFromError(y){return T.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return T.credential(y.oauthAccessToken)}catch{return null}}}return T.FACEBOOK_SIGN_IN_METHOD="facebook.com",T.PROVIDER_ID="facebook.com",T})(),ds=(()=>{class T extends Pi{constructor(){super("google.com"),this.addScope("profile")}static credential(y,M){return $e._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:M})}static credentialFromResult(y){return T.credentialFromTaggedObject(y)}static credentialFromError(y){return T.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:M,oauthAccessToken:X}=y;if(!M&&!X)return null;try{return T.credential(M,X)}catch{return null}}}return T.GOOGLE_SIGN_IN_METHOD="google.com",T.PROVIDER_ID="google.com",T})(),ro=(()=>{class T extends Pi{constructor(){super("github.com")}static credential(y){return $e._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return T.credentialFromTaggedObject(y)}static credentialFromError(y){return T.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return T.credential(y.oauthAccessToken)}catch{return null}}}return T.GITHUB_SIGN_IN_METHOD="github.com",T.PROVIDER_ID="github.com",T})();class Gi extends Xi{constructor(g,y){super(g,g),this.pendingToken=y}_getIdTokenResponse(g){return re(g,this.buildRequest())}_linkToIdToken(g,y){const M=this.buildRequest();return M.idToken=y,re(g,M)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,re(g,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:M,signInMethod:X,pendingToken:me}=y;return M&&X&&me&&M===X?new Gi(M,me):null}static _create(g,y){return new Gi(g,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Po extends yr{constructor(g){Ee(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Po.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Po.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const y=Gi.fromJSON(g);return Ee(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:y,providerId:M}=g;if(!y||!M)return null;try{return Gi._create(M,y)}catch{return null}}}let Is=(()=>{class T extends Pi{constructor(){super("twitter.com")}static credential(y,M){return $e._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:M})}static credentialFromResult(y){return T.credentialFromTaggedObject(y)}static credentialFromError(y){return T.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:M,oauthTokenSecret:X}=y;if(!M||!X)return null;try{return T.credential(M,X)}catch{return null}}}return T.TWITTER_SIGN_IN_METHOD="twitter.com",T.PROVIDER_ID="twitter.com",T})();function za(T,g){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,f.Z)(function*(T,g){return Cn(T,"POST","/v1/accounts:signUp",ot(T,g))})).apply(this,arguments)}class K{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,M,X=!1){return(0,f.Z)(function*(){const me=yield Te._fromIdTokenResponse(g,M,X),rt=ie(M);return new K({user:me,providerId:rt,_tokenResponse:M,operationType:y})})()}static _forOperation(g,y,M){return(0,f.Z)(function*(){yield g._updateTokensIfNecessary(M,!0);const X=ie(M);return new K({user:g,providerId:X,_tokenResponse:M,operationType:y})})()}}function ie(T){return T.providerId?T.providerId:"phoneNumber"in T?"phone":null}function F(T){return ge.apply(this,arguments)}function ge(){return(ge=(0,f.Z)(function*(T){var g;if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(qe(T));const y=ur(T);if(yield y._initializationPromise,null!==(g=y.currentUser)&&void 0!==g&&g.isAnonymous)return new K({user:y.currentUser,providerId:null,operationType:"signIn"});const M=yield za(y,{returnSecureToken:!0}),X=yield K._fromIdTokenResponse(y,"signIn",M,!0);return yield y._updateCurrentUser(X.user),X})).apply(this,arguments)}class ze extends U.ZR{constructor(g,y,M,X){var me;super(y.code,y.message),this.operationType=M,this.user=X,Object.setPrototypeOf(this,ze.prototype),this.customData={appName:g.name,tenantId:null!==(me=g.tenantId)&&void 0!==me?me:void 0,_serverResponse:y.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(g,y,M,X){return new ze(g,y,M,X)}}function kn(T,g,y,M){return("reauthenticate"===g?y._getReauthenticationResolver(T):y._getIdTokenResponse(T)).catch(me=>{throw"auth/multi-factor-auth-required"===me.code?ze._fromErrorAndOperation(T,me,g,M):me})}function vr(T){return new Set(T.map(({providerId:g})=>g).filter(g=>!!g))}function co(T,g){return vi.apply(this,arguments)}function vi(){return vi=(0,f.Z)(function*(T,g){const y=(0,U.m9)(T);yield gc(!0,y,g);const{providerUserInfo:M}=yield function Un(T,g){return jn.apply(this,arguments)}(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[g]}),X=vr(M||[]);return y.providerData=y.providerData.filter(me=>X.has(me.providerId)),X.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y}),vi.apply(this,arguments)}function ba(T,g){return ql.apply(this,arguments)}function ql(){return(ql=(0,f.Z)(function*(T,g,y=!1){const M=yield xr(T,g._linkToIdToken(T.auth,yield T.getIdToken()),y);return K._forOperation(T,"link",M)})).apply(this,arguments)}function gc(T,g,y){return $a.apply(this,arguments)}function $a(){return($a=(0,f.Z)(function*(T,g,y){yield ue(g);const X=!1===T?"provider-already-linked":"no-such-provider";Ee(vr(g.providerData).has(y)===T,g.auth,X)})).apply(this,arguments)}function Ca(T,g){return mc.apply(this,arguments)}function mc(){return(mc=(0,f.Z)(function*(T,g,y=!1){const{auth:M}=T;if((0,o._isFirebaseServerApp)(M.app))return Promise.reject(qe(M));const X="reauthenticate";try{const me=yield xr(T,kn(M,X,g,T),y);Ee(me.idToken,M,"internal-error");const rt=Ur(me.idToken);Ee(rt,M,"internal-error");const{sub:Pt}=rt;return Ee(T.uid===Pt,M,"user-mismatch"),K._forOperation(T,X,me)}catch(me){throw"auth/user-not-found"===me?.code&&Ne(M,"user-mismatch"),me}})).apply(this,arguments)}function Ta(T,g){return sa.apply(this,arguments)}function sa(){return(sa=(0,f.Z)(function*(T,g,y=!1){if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(qe(T));const M="signIn",X=yield kn(T,M,g),me=yield K._fromIdTokenResponse(T,M,X);return y||(yield T._updateCurrentUser(me.user)),me})).apply(this,arguments)}function _c(T,g){return es.apply(this,arguments)}function es(){return(es=(0,f.Z)(function*(T,g){return Ta(ur(T),g)})).apply(this,arguments)}function ts(T,g){return yo.apply(this,arguments)}function yo(){return(yo=(0,f.Z)(function*(T,g){const y=(0,U.m9)(T);return yield gc(!1,y,g.providerId),ba(y,g)})).apply(this,arguments)}function Tu(T,g){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,f.Z)(function*(T,g){return Ca((0,U.m9)(T),g)})).apply(this,arguments)}function zi(){return(zi=(0,f.Z)(function*(T,g){return Cn(T,"POST","/v1/accounts:signInWithCustomToken",ot(T,g))})).apply(this,arguments)}function vc(T,g){return xo.apply(this,arguments)}function xo(){return xo=(0,f.Z)(function*(T,g){if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(qe(T));const y=ur(T),M=yield function aa(T,g){return zi.apply(this,arguments)}(y,{token:g,returnSecureToken:!0}),X=yield K._fromIdTokenResponse(y,"signIn",M);return yield y._updateCurrentUser(X.user),X}),xo.apply(this,arguments)}class hs{constructor(g,y){this.factorId=g,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(g,y){return"phoneInfo"in y?bs._fromServerResponse(g,y):"totpInfo"in y?wa._fromServerResponse(g,y):Ne(g,"internal-error")}}class bs extends hs{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,y){return new bs(y)}}class wa extends hs{constructor(g){super("totp",g)}static _fromServerResponse(g,y){return new wa(y)}}function Da(T,g,y){var M;Ee((null===(M=y.url)||void 0===M?void 0:M.length)>0,T,"invalid-continue-uri"),Ee(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,T,"invalid-dynamic-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(Ee(y.iOS.bundleId.length>0,T,"missing-ios-bundle-id"),g.iOSBundleId=y.iOS.bundleId),y.android&&(Ee(y.android.packageName.length>0,T,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function pr(T){return yc.apply(this,arguments)}function yc(){return(yc=(0,f.Z)(function*(T){const g=ur(T);g._getPasswordPolicyInternal()&&(yield g._updatePasswordPolicy())})).apply(this,arguments)}function ol(T,g,y){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,f.Z)(function*(T,g,y){const M=ur(T),X={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};y&&Da(M,X,y),yield Vo(M,X,"getOobCode",Rr)})).apply(this,arguments)}function ca(T,g,y){return Ls.apply(this,arguments)}function Ls(){return Ls=(0,f.Z)(function*(T,g,y){yield us((0,U.m9)(T),{oobCode:g,newPassword:y}).catch(function(){var M=(0,f.Z)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&pr(T),X});return function(X){return M.apply(this,arguments)}}())}),Ls.apply(this,arguments)}function Vs(T,g){return la.apply(this,arguments)}function la(){return la=(0,f.Z)(function*(T,g){yield function eo(T,g){return to.apply(this,arguments)}((0,U.m9)(T),{oobCode:g})}),la.apply(this,arguments)}function sl(T,g){return al.apply(this,arguments)}function al(){return(al=(0,f.Z)(function*(T,g){const y=(0,U.m9)(T),M=yield us(y,{oobCode:g}),X=M.requestType;switch(Ee(X,y,"internal-error"),X){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ee(M.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ee(M.mfaInfo,y,"internal-error");default:Ee(M.email,y,"internal-error")}let me=null;return M.mfaInfo&&(me=hs._fromServerResponse(ur(y),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:me},operation:X}})).apply(this,arguments)}function Ac(T,g){return Us.apply(this,arguments)}function Us(){return(Us=(0,f.Z)(function*(T,g){const{data:y}=yield sl((0,U.m9)(T),g);return y.email})).apply(this,arguments)}function Od(T,g,y){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,f.Z)(function*(T,g,y){if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(qe(T));const M=ur(T),rt=yield Vo(M,{returnSecureToken:!0,email:g,password:y,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",za).catch(Jt=>{throw"auth/password-does-not-meet-requirements"===Jt.code&&pr(T),Jt}),Pt=yield K._fromIdTokenResponse(M,"signIn",rt);return yield M._updateCurrentUser(Pt.user),Pt})).apply(this,arguments)}function cl(T,g,y){return(0,o._isFirebaseServerApp)(T.app)?Promise.reject(qe(T)):_c((0,U.m9)(T),ao.credential(g,y)).catch(function(){var M=(0,f.Z)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&pr(T),X});return function(X){return M.apply(this,arguments)}}())}function Sa(T,g,y){return Za.apply(this,arguments)}function Za(){return(Za=(0,f.Z)(function*(T,g,y){const M=ur(T),X={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};(function me(rt,Pt){Ee(Pt.handleCodeInApp,M,"argument-error"),Pt&&Da(M,rt,Pt)})(X,y),yield Vo(M,X,"getOobCode",Hi)})).apply(this,arguments)}function Gl(T,g){const y=Br.parseLink(g);return"EMAIL_SIGNIN"===y?.operation}function ua(T,g,y){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,f.Z)(function*(T,g,y){if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(qe(T));const M=(0,U.m9)(T),X=ao.credentialWithLink(g,y||Dn());return Ee(X._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),_c(M,X)})).apply(this,arguments)}function Ci(){return(Ci=(0,f.Z)(function*(T,g){return vt(T,"POST","/v1/accounts:createAuthUri",ot(T,g))})).apply(this,arguments)}function x(T,g){return oe.apply(this,arguments)}function oe(){return oe=(0,f.Z)(function*(T,g){const M={identifier:g,continueUri:wt()?Dn():"http://localhost"},{signinMethods:X}=yield function ll(T,g){return Ci.apply(this,arguments)}((0,U.m9)(T),M);return X||[]}),oe.apply(this,arguments)}function j(T,g){return ne.apply(this,arguments)}function ne(){return ne=(0,f.Z)(function*(T,g){const y=(0,U.m9)(T),X={requestType:"VERIFY_EMAIL",idToken:yield T.getIdToken()};g&&Da(y.auth,X,g);const{email:me}=yield function _n(T,g){return Xn.apply(this,arguments)}(y.auth,X);me!==T.email&&(yield T.reload())}),ne.apply(this,arguments)}function Ue(T,g,y){return Ot.apply(this,arguments)}function Ot(){return Ot=(0,f.Z)(function*(T,g,y){const M=(0,U.m9)(T),me={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield T.getIdToken(),newEmail:g};y&&Da(M.auth,me,y);const{email:rt}=yield function wo(T,g){return ai.apply(this,arguments)}(M.auth,me);rt!==T.email&&(yield T.reload())}),Ot.apply(this,arguments)}function Mn(){return(Mn=(0,f.Z)(function*(T,g){return vt(T,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Lr(T,g){return ui.apply(this,arguments)}function ui(){return ui=(0,f.Z)(function*(T,{displayName:g,photoURL:y}){if(void 0===g&&void 0===y)return;const M=(0,U.m9)(T),me={idToken:yield M.getIdToken(),displayName:g,photoUrl:y,returnSecureToken:!0},rt=yield xr(M,function Ht(T,g){return Mn.apply(this,arguments)}(M.auth,me));M.displayName=rt.displayName||null,M.photoURL=rt.photoUrl||null;const Pt=M.providerData.find(({providerId:Jt})=>"password"===Jt);Pt&&(Pt.displayName=M.displayName,Pt.photoURL=M.photoURL),yield M._updateTokensIfNecessary(rt)}),ui.apply(this,arguments)}function ti(T,g){const y=(0,U.m9)(T);return(0,o._isFirebaseServerApp)(y.auth.app)?Promise.reject(qe(y.auth)):pi(y,g,null)}function Ir(T,g){return pi((0,U.m9)(T),null,g)}function pi(T,g,y){return Kr.apply(this,arguments)}function Kr(){return Kr=(0,f.Z)(function*(T,g,y){const{auth:M}=T,me={idToken:yield T.getIdToken(),returnSecureToken:!0};g&&(me.email=g),y&&(me.password=y);const rt=yield xr(T,function Wr(T,g){return si.apply(this,arguments)}(M,me));yield T._updateTokensIfNecessary(rt,!0)}),Kr.apply(this,arguments)}class So{constructor(g,y,M={}){this.isNewUser=g,this.providerId=y,this.profile=M}}class Eo extends So{constructor(g,y,M,X){super(g,y,M),this.username=X}}class Bs extends So{constructor(g,y){super(g,"facebook.com",y)}}class Zo extends Eo{constructor(g,y){super(g,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class Ti extends So{constructor(g,y){super(g,"google.com",y)}}class cr extends Eo{constructor(g,y,M){super(g,"twitter.com",y,M)}}function qo(T){const{user:g,_tokenResponse:y}=T;return g.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function Wi(T){var g,y;if(!T)return null;const{providerId:M}=T,X=T.rawUserInfo?JSON.parse(T.rawUserInfo):{},me=T.isNewUser||"identitytoolkit#SignupNewUserResponse"===T.kind;if(!M&&T?.idToken){const rt=null===(y=null===(g=Ur(T.idToken))||void 0===g?void 0:g.firebase)||void 0===y?void 0:y.sign_in_provider;if(rt)return new So(me,"anonymous"!==rt&&"custom"!==rt?rt:null)}if(!M)return null;switch(M){case"facebook.com":return new Bs(me,X);case"github.com":return new Zo(me,X);case"google.com":return new Ti(me,X);case"twitter.com":return new cr(me,X,T.screenName||null);case"custom":case"anonymous":return new So(me,null);default:return new So(me,M,X)}}(y)}class $s{constructor(g,y,M){this.type=g,this.credential=y,this.user=M}static _fromIdtoken(g,y){return new $s("enroll",g,y)}static _fromMfaPendingCredential(g){return new $s("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var y,M;if(g?.multiFactorSession){if(null!==(y=g.multiFactorSession)&&void 0!==y&&y.pendingCredential)return $s._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(M=g.multiFactorSession)&&void 0!==M&&M.idToken)return $s._fromIdtoken(g.multiFactorSession.idToken)}return null}}class ws{constructor(g,y,M){this.session=g,this.hints=y,this.signInResolver=M}static _fromError(g,y){const M=ur(g),X=y.customData._serverResponse,me=(X.mfaInfo||[]).map(Pt=>hs._fromServerResponse(M,Pt));Ee(X.mfaPendingCredential,M,"internal-error");const rt=$s._fromMfaPendingCredential(X.mfaPendingCredential);return new ws(rt,me,function(){var Pt=(0,f.Z)(function*(Jt){const Fn=yield Jt._process(M,rt);delete X.mfaInfo,delete X.mfaPendingCredential;const er=Object.assign(Object.assign({},X),{idToken:Fn.idToken,refreshToken:Fn.refreshToken});switch(y.operationType){case"signIn":const jr=yield K._fromIdTokenResponse(M,y.operationType,er);return yield M._updateCurrentUser(jr.user),jr;case"reauthenticate":return Ee(y.user,M,"internal-error"),K._forOperation(y.user,y.operationType,er);default:Ne(M,"internal-error")}});return function(Jt){return Pt.apply(this,arguments)}}())}resolveSignIn(g){var y=this;return(0,f.Z)(function*(){return y.signInResolver(g)})()}}function Du(T,g){var y;const M=(0,U.m9)(T),X=g;return Ee(g.customData.operationType,M,"argument-error"),Ee(null===(y=X.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,M,"argument-error"),ws._fromError(M,X)}class Tc{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(M=>hs._fromServerResponse(g.auth,M)))})}static _fromUser(g){return new Tc(g)}getSession(){var g=this;return(0,f.Z)(function*(){return $s._fromIdtoken(yield g.user.getIdToken(),g.user)})()}enroll(g,y){var M=this;return(0,f.Z)(function*(){const X=g,me=yield M.getSession(),rt=yield xr(M.user,X._process(M.user.auth,me,y));return yield M.user._updateTokensIfNecessary(rt),M.user.reload()})()}unenroll(g){var y=this;return(0,f.Z)(function*(){const M="string"==typeof g?g:g.uid,X=yield y.user.getIdToken();try{const me=yield xr(y.user,function Su(T,g){return vt(T,"POST","/v2/accounts/mfaEnrollment:withdraw",ot(T,g))}(y.user.auth,{idToken:X,mfaEnrollmentId:M}));y.enrolledFactors=y.enrolledFactors.filter(({uid:rt})=>rt!==M),yield y.user._updateTokensIfNecessary(me),yield y.user.reload()}catch(me){throw me}})()}}const Ma=new WeakMap;function Fd(T){const g=(0,U.m9)(T);return Ma.has(g)||Ma.set(g,Tc._fromUser(g)),Ma.get(g)}const Mu="__sak";class Vi{constructor(g,y){this.storageRetriever=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Mu,"1"),this.storage.removeItem(Mu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ds=(()=>{class T extends Vi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,M)=>this.onStorageEvent(y,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Pa(){const T=(0,U.z$)();return He(T)||fr(T)}()&&function un(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ft(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const M of Object.keys(this.listeners)){const X=this.storage.getItem(M),me=this.localCache[M];X!==me&&y(M,me,X)}}onStorageEvent(y,M=!1){if(!y.key)return void this.forAllChangedKeys((Pt,Jt,Fn)=>{this.notifyListeners(Pt,Fn)});const X=y.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Pt=this.storage.getItem(X);if(y.newValue!==Pt)null!==y.newValue?this.storage.setItem(X,y.newValue):this.storage.removeItem(X);else if(this.localCache[X]===y.newValue&&!M)return}const me=()=>{const Pt=this.storage.getItem(X);!M&&this.localCache[X]===Pt||this.notifyListeners(X,Pt)},rt=this.storage.getItem(X);!function pt(){return(0,U.w1)()&&10===document.documentMode}()||rt===y.newValue||y.newValue===y.oldValue?me():setTimeout(me,10)}notifyListeners(y,M){this.localCache[y]=M;const X=this.listeners[y];if(X)for(const me of Array.from(X))me(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,M,X)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:M,newValue:X}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(M)}_removeListener(y,M){this.listeners[y]&&(this.listeners[y].delete(M),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,M){var X=()=>super._set,me=this;return(0,f.Z)(function*(){yield X().call(me,y,M),me.localCache[y]=JSON.stringify(M)})()}_get(y){var M=()=>super._get,X=this;return(0,f.Z)(function*(){const me=yield M().call(X,y);return X.localCache[y]=JSON.stringify(me),me})()}_remove(y){var M=()=>super._remove,X=this;return(0,f.Z)(function*(){yield M().call(X,y),delete X.localCache[y]})()}}return T.type="LOCAL",T})(),qt=(()=>{class T extends Vi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,M){}_removeListener(y,M){}}return T.type="SESSION",T})();let xu=(()=>{class T{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const M=this.receivers.find(me=>me.isListeningto(y));if(M)return M;const X=new T(y);return this.receivers.push(X),X}isListeningto(y){return this.eventTarget===y}handleEvent(y){var M=this;return(0,f.Z)(function*(){const X=y,{eventId:me,eventType:rt,data:Pt}=X.data,Jt=M.handlersMap[rt];if(!Jt?.size)return;X.ports[0].postMessage({status:"ack",eventId:me,eventType:rt});const Fn=Array.from(Jt).map(function(){var jr=(0,f.Z)(function*(ps){return ps(X.origin,Pt)});return function(ps){return jr.apply(this,arguments)}}()),er=yield function qr(T){return Promise.all(T.map(function(){var g=(0,f.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(M){return{fulfilled:!1,reason:M}}});return function(y){return g.apply(this,arguments)}}()))}(Fn);X.ports[0].postMessage({status:"done",eventId:me,eventType:rt,response:er})})()}_subscribe(y,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(M)}_unsubscribe(y,M){this.handlersMap[y]&&M&&this.handlersMap[y].delete(M),(!M||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return T.receivers=[],T})();function Ga(T="",g=10){let y="";for(let M=0;M<g;M++)y+=Math.floor(10*Math.random());return T+y}class Ao{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,M=50){var X=this;return(0,f.Z)(function*(){const me=typeof MessageChannel<"u"?new MessageChannel:null;if(!me)throw new Error("connection_unavailable");let rt,Pt;return new Promise((Jt,Fn)=>{const er=Ga("",20);me.port1.start();const jr=setTimeout(()=>{Fn(new Error("unsupported_event"))},M);Pt={messageChannel:me,onMessage(ps){const La=ps;if(La.data.eventId===er)switch(La.data.status){case"ack":clearTimeout(jr),rt=setTimeout(()=>{Fn(new Error("timeout"))},3e3);break;case"done":clearTimeout(rt),Jt(La.data.response);break;default:clearTimeout(jr),clearTimeout(rt),Fn(new Error("invalid_response"))}}},X.handlers.add(Pt),me.port1.addEventListener("message",Pt.onMessage),X.target.postMessage({eventType:g,eventId:er,data:y},[me.port2])}).finally(()=>{Pt&&X.removeMessageHandler(Pt)})})()}}function Qi(){return window}function No(){return typeof Qi().WorkerGlobalScope<"u"&&"function"==typeof Qi().importScripts}function Wa(){return(Wa=(0,f.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ru="firebaseLocalStorageDb",Ss="firebaseLocalStorage",Ou="fbase_key";class da{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function S(T,g){return T.transaction([Ss],g?"readwrite":"readonly").objectStore(Ss)}function w(){const T=indexedDB.open(Ru,1);return new Promise((g,y)=>{T.addEventListener("error",()=>{y(T.error)}),T.addEventListener("upgradeneeded",()=>{const M=T.result;try{M.createObjectStore(Ss,{keyPath:Ou})}catch(X){y(X)}}),T.addEventListener("success",(0,f.Z)(function*(){const M=T.result;M.objectStoreNames.contains(Ss)?g(M):(M.close(),yield function O(){const T=indexedDB.deleteDatabase(Ru);return new da(T).toPromise()}(),g(yield w()))}))})}function N(T,g,y){return W.apply(this,arguments)}function W(){return(W=(0,f.Z)(function*(T,g,y){const M=S(T,!0).put({[Ou]:g,value:y});return new da(M).toPromise()})).apply(this,arguments)}function Ve(){return(Ve=(0,f.Z)(function*(T,g){const y=S(T,!1).get(g),M=yield new da(y).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function St(T,g){const y=S(T,!0).delete(g);return new da(y).toPromise()}const di=(()=>{class T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,f.Z)(function*(){return y.db||(y.db=yield w()),y.db})()}_withRetries(y){var M=this;return(0,f.Z)(function*(){let X=0;for(;;)try{const me=yield M._openDb();return yield y(me)}catch(me){if(X++>3)throw me;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,f.Z)(function*(){return No()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,f.Z)(function*(){y.receiver=xu._getInstance(function Ud(){return No()?self:null}()),y.receiver._subscribe("keyChanged",function(){var M=(0,f.Z)(function*(X,me){return{keyProcessed:(yield y._poll()).includes(me.key)}});return function(X,me){return M.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var M=(0,f.Z)(function*(X,me){return["keyChanged"]});return function(X,me){return M.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,f.Z)(function*(){var M,X;if(y.activeServiceWorker=yield function Dc(){return Wa.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new Ao(y.activeServiceWorker);const me=yield y.sender._send("ping",{},800);me&&null!==(M=me[0])&&void 0!==M&&M.fulfilled&&null!==(X=me[0])&&void 0!==X&&X.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var M=this;return(0,f.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function Vd(){var T;return(null===(T=navigator?.serviceWorker)||void 0===T?void 0:T.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:y},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const y=yield w();return yield N(y,Mu,"1"),yield St(y,Mu),!0}catch{}return!1})()}_withPendingWrite(y){var M=this;return(0,f.Z)(function*(){M.pendingWrites++;try{yield y()}finally{M.pendingWrites--}})()}_set(y,M){var X=this;return(0,f.Z)(function*(){return X._withPendingWrite((0,f.Z)(function*(){return yield X._withRetries(me=>N(me,y,M)),X.localCache[y]=M,X.notifyServiceWorker(y)}))})()}_get(y){var M=this;return(0,f.Z)(function*(){const X=yield M._withRetries(me=>function pe(T,g){return Ve.apply(this,arguments)}(me,y));return M.localCache[y]=X,X})()}_remove(y){var M=this;return(0,f.Z)(function*(){return M._withPendingWrite((0,f.Z)(function*(){return yield M._withRetries(X=>St(X,y)),delete M.localCache[y],M.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,f.Z)(function*(){const M=yield y._withRetries(rt=>{const Pt=S(rt,!1).getAll();return new da(Pt).toPromise()});if(!M)return[];if(0!==y.pendingWrites)return[];const X=[],me=new Set;if(0!==M.length)for(const{fbase_key:rt,value:Pt}of M)me.add(rt),JSON.stringify(y.localCache[rt])!==JSON.stringify(Pt)&&(y.notifyListeners(rt,Pt),X.push(rt));for(const rt of Object.keys(y.localCache))y.localCache[rt]&&!me.has(rt)&&(y.notifyListeners(rt,null),X.push(rt));return X})()}notifyListeners(y,M){this.localCache[y]=M;const X=this.listeners[y];if(X)for(const me of Array.from(X))me(M)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(M)}_removeListener(y,M){this.listeners[y]&&(this.listeners[y].delete(M),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return T.type="LOCAL",T})(),Ps=1e12;class Qa{constructor(g){this.auth=g,this.counter=Ps,this._widgets=new Map}render(g,y){const M=this.counter;return this._widgets.set(M,new Wo(g,this.auth.name,y||{})),this.counter++,M}reset(g){var y;const M=g||Ps;null===(y=this._widgets.get(M))||void 0===y||y.delete(),this._widgets.delete(M)}getResponse(g){var y;return(null===(y=this._widgets.get(g||Ps))||void 0===y?void 0:y.getResponse())||""}execute(g){var y=this;return(0,f.Z)(function*(){var M;return null===(M=y._widgets.get(g||Ps))||void 0===M||M.execute(),""})()}}class Wo{constructor(g,y,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const X="string"==typeof g?document.getElementById(g):g;Ee(X,"argument-error",{appName:y}),this.container=X,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function xs(T){const g=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<T;M++)g.push(y.charAt(Math.floor(62*Math.random())));return g.join("")}(50);const{callback:g,"expired-callback":y}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Oi=Qo("rcb"),Yh=new we(3e4,6e4);class Bd{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Qi().grecaptcha)||void 0===g||!g.render)}load(g,y=""){return Ee(function Wl(T){return T.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(T)}(y),g,"argument-error"),this.shouldResolveImmediately(y)&&mr(Qi().grecaptcha)?Promise.resolve(Qi().grecaptcha):new Promise((M,X)=>{const me=Qi().setTimeout(()=>{X(tt(g,"network-request-failed"))},Yh.get());Qi()[Oi]=()=>{Qi().clearTimeout(me),delete Qi()[Oi];const Pt=Qi().grecaptcha;if(!Pt||!mr(Pt))return void X(tt(g,"internal-error"));const Jt=Pt.render;Pt.render=(Fn,er)=>{const jr=Jt(Fn,er);return this.counter++,jr},this.hostLanguage=y,M(Pt)},zr(`${function Jo(){return mi.recaptchaV2Script}()}?${(0,U.xO)({onload:Oi,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(me),X(tt(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var y;return!(null===(y=Qi().grecaptcha)||void 0===y||!y.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Zs{load(g){return(0,f.Z)(function*(){return new Qa(g)})()}clearedOneInstance(){}}const qs="recaptcha",Jh={theme:"light",type:"image"};class Nu{constructor(g,y,M=Object.assign({},Jh)){this.parameters=M,this.type=qs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ur(g),this.isInvisible="invisible"===this.parameters.size,Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const X="string"==typeof y?document.getElementById(y):y;Ee(X,this.auth,"argument-error"),this.container=X,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Zs:new Bd,this.validateStartingState()}verify(){var g=this;return(0,f.Z)(function*(){g.assertNotDestroyed();const y=yield g.render(),M=g.getAssertedRecaptcha();return M.getResponse(y)||new Promise(me=>{const rt=Pt=>{Pt&&(g.tokenChangeListeners.delete(rt),me(Pt))};g.tokenChangeListeners.add(rt),g.isInvisible&&M.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Ee(!this.parameters.sitekey,this.auth,"argument-error"),Ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return y=>{if(this.tokenChangeListeners.forEach(M=>M(y)),"function"==typeof g)g(y);else if("string"==typeof g){const M=Qi()[g];"function"==typeof M&&M(y)}}}assertNotDestroyed(){Ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,f.Z)(function*(){if(yield g.init(),!g.widgetId){let y=g.container;if(!g.isInvisible){const M=document.createElement("div");y.appendChild(M),y=M}g.widgetId=g.getAssertedRecaptcha().render(y,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,f.Z)(function*(){Ee(wt()&&!No(),g.auth,"internal-error"),yield function Gs(){let T=null;return new Promise(g=>{"complete"!==document.readyState?(T=()=>g(),window.addEventListener("load",T)):g()}).catch(g=>{throw T&&window.removeEventListener("load",T),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const y=yield function Hr(T){return xn.apply(this,arguments)}(g.auth);Ee(y,g.auth,"internal-error"),g.parameters.sitekey=y})()}getAssertedRecaptcha(){return Ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ku{constructor(g,y){this.verificationId=g,this.onConfirmation=y}confirm(g){const y=Zr._fromVerification(this.verificationId,g);return this.onConfirmation(y)}}function Fu(T,g,y){return xa.apply(this,arguments)}function xa(){return(xa=(0,f.Z)(function*(T,g,y){if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(qe(T));const M=ur(T),X=yield Vu(M,g,(0,U.m9)(y));return new ku(X,me=>_c(M,me))})).apply(this,arguments)}function Ra(T,g,y){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,f.Z)(function*(T,g,y){const M=(0,U.m9)(T);yield gc(!1,M,"phone");const X=yield Vu(M.auth,g,(0,U.m9)(y));return new ku(X,me=>ts(M,me))})).apply(this,arguments)}function jd(T,g,y){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,f.Z)(function*(T,g,y){const M=(0,U.m9)(T);if((0,o._isFirebaseServerApp)(M.auth.app))return Promise.reject(qe(M.auth));const X=yield Vu(M.auth,g,(0,U.m9)(y));return new ku(X,me=>Tu(M,me))})).apply(this,arguments)}function Vu(T,g,y){return Sc.apply(this,arguments)}function Sc(){return Sc=(0,f.Z)(function*(T,g,y){var M;const X=yield y.verify();try{let me;if(Ee("string"==typeof X,T,"argument-error"),Ee(y.type===qs,T,"argument-error"),me="string"==typeof g?{phoneNumber:g}:g,"session"in me){const rt=me.session;if("phoneNumber"in me)return Ee("enroll"===rt.type,T,"internal-error"),(yield function kd(T,g){return vt(T,"POST","/v2/accounts/mfaEnrollment:start",ot(T,g))}(T,{idToken:rt.credential,phoneEnrollmentInfo:{phoneNumber:me.phoneNumber,recaptchaToken:X}})).phoneSessionInfo.sessionInfo;{Ee("signin"===rt.type,T,"internal-error");const Pt=(null===(M=me.multiFactorHint)||void 0===M?void 0:M.uid)||me.multiFactorUid;return Ee(Pt,T,"missing-multi-factor-info"),(yield function br(T,g){return vt(T,"POST","/v2/accounts/mfaSignIn:start",ot(T,g))}(T,{mfaPendingCredential:rt.credential,mfaEnrollmentId:Pt,phoneSignInInfo:{recaptchaToken:X}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:rt}=yield function ft(T,g){return Lt.apply(this,arguments)}(T,{phoneNumber:me.phoneNumber,recaptchaToken:X});return rt}}finally{y._reset()}}),Sc.apply(this,arguments)}function ul(T,g){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,f.Z)(function*(T,g){const y=(0,U.m9)(T);if((0,o._isFirebaseServerApp)(y.auth.app))return Promise.reject(qe(y.auth));yield ba(y,g)})).apply(this,arguments)}let wg=(()=>{class T{constructor(y){this.providerId=T.PROVIDER_ID,this.auth=ur(y)}verifyPhoneNumber(y,M){return Vu(this.auth,y,(0,U.m9)(M))}static credential(y,M){return Zr._fromVerification(y,M)}static credentialFromResult(y){return T.credentialFromTaggedObject(y)}static credentialFromError(y){return T.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:M,temporaryProof:X}=y;return M&&X?Zr._fromTokenResponse(M,X):null}}return T.PROVIDER_ID="phone",T.PHONE_SIGN_IN_METHOD="phone",T})();function fa(T,g){return g?kt(g):(Ee(T._popupRedirectResolver,T,"argument-error"),T._popupRedirectResolver)}class Hd extends Xi{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return re(g,this._buildIdpRequest())}_linkToIdToken(g,y){return re(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return re(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function Ap(T){return Ta(T.auth,new Hd(T),T.bypassAuthState)}function zd(T){const{auth:g,user:y}=T;return Ee(y,g,"internal-error"),Ca(y,new Hd(T),T.bypassAuthState)}function Dg(T){return $d.apply(this,arguments)}function $d(){return($d=(0,f.Z)(function*(T){const{auth:g,user:y}=T;return Ee(y,g,"internal-error"),ba(y,new Hd(T),T.bypassAuthState)})).apply(this,arguments)}class dl{constructor(g,y,M,X,me=!1){this.auth=g,this.resolver=M,this.user=X,this.bypassAuthState=me,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,f.Z)(function*(M,X){g.pendingPromise={resolve:M,reject:X};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(me){g.reject(me)}});return function(M,X){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,f.Z)(function*(){const{urlResponse:M,sessionId:X,postBody:me,tenantId:rt,error:Pt,type:Jt}=g;if(Pt)return void y.reject(Pt);const Fn={auth:y.auth,requestUri:M,sessionId:X,tenantId:rt||void 0,postBody:me||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Jt)(Fn))}catch(er){y.reject(er)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Ap;case"linkViaPopup":case"linkViaRedirect":return Dg;case"reauthViaPopup":case"reauthViaRedirect":return zd;default:Ne(this.auth,"internal-error")}}resolve(g){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Uu=new we(2e3,1e4);function Ip(T,g,y){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,f.Z)(function*(T,g,y){if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(tt(T,"operation-not-supported-in-this-environment"));const M=ur(T);ht(T,g,yr);const X=fa(M,y);return new Fo(M,"signInViaPopup",g,X).executeNotNull()})).apply(this,arguments)}function hl(T,g,y){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,f.Z)(function*(T,g,y){const M=(0,U.m9)(T);if((0,o._isFirebaseServerApp)(M.auth.app))return Promise.reject(tt(M.auth,"operation-not-supported-in-this-environment"));ht(M.auth,g,yr);const X=fa(M.auth,y);return new Fo(M.auth,"reauthViaPopup",g,X,M).executeNotNull()})).apply(this,arguments)}function Sg(T,g,y){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,f.Z)(function*(T,g,y){const M=(0,U.m9)(T);ht(M.auth,g,yr);const X=fa(M.auth,y);return new Fo(M.auth,"linkViaPopup",g,X,M).executeNotNull()})).apply(this,arguments)}let Fo=(()=>{class T extends dl{constructor(y,M,X,me,rt){super(y,M,me,rt),this.provider=X,this.authWindow=null,this.pollId=null,T.currentPopupAction&&T.currentPopupAction.cancel(),T.currentPopupAction=this}executeNotNull(){var y=this;return(0,f.Z)(function*(){const M=yield y.execute();return Ee(M,y.auth,"internal-error"),M})()}onExecution(){var y=this;return(0,f.Z)(function*(){Vt(1===y.filter.length,"Popup operations only handle one event");const M=Ga();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],M),y.authWindow.associatedEvent=M,y.resolver._originValidation(y.auth).catch(X=>{y.reject(X)}),y.resolver._isIframeWebStorageSupported(y.auth,X=>{X||y.reject(tt(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(tt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,T.currentPopupAction=null}pollUserCancellation(){const y=()=>{var M,X;this.pollId=null!==(X=null===(M=this.authWindow)||void 0===M?void 0:M.window)&&void 0!==X&&X.closed?window.setTimeout(()=>{this.pollId=null,this.reject(tt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(y,Uu.get())};y()}}return T.currentPopupAction=null,T})();const bp="pendingRedirect",Ki=new Map;class Kl extends dl{constructor(g,y,M=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,M),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,f.Z)(function*(){let M=Ki.get(y.auth._key());if(!M){try{const me=(yield function ju(T,g){return Ys.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;M=()=>Promise.resolve(me)}catch(X){M=()=>Promise.reject(X)}Ki.set(y.auth._key(),M)}return y.bypassAuthState||Ki.set(y.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,M=this;return(0,f.Z)(function*(){if("signInViaRedirect"===g.type)return y().call(M,g);if("unknown"!==g.type){if(g.eventId){const X=yield M.auth._redirectUserForId(g.eventId);if(X)return M.user=X,y().call(M,g);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function Ys(){return(Ys=(0,f.Z)(function*(T,g){const y=Hu(g),M=fs(T);if(!(yield M._isAvailable()))return!1;const X="true"===(yield M._get(y));return yield M._remove(y),X})).apply(this,arguments)}function Oa(T,g){return fl.apply(this,arguments)}function fl(){return(fl=(0,f.Z)(function*(T,g){return fs(T)._set(Hu(g),"true")})).apply(this,arguments)}function Nr(){Ki.clear()}function pl(T,g){Ki.set(T._key(),g)}function fs(T){return kt(T._redirectPersistence)}function Hu(T){return cn(bp,T.config.apiKey,T.name)}function Na(T,g,y){return function Zd(T,g,y){return qd.apply(this,arguments)}(T,g,y)}function qd(){return(qd=(0,f.Z)(function*(T,g,y){if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(qe(T));const M=ur(T);ht(T,g,yr),yield M._initializationPromise;const X=fa(M,y);return yield Oa(X,M),X._openRedirect(M,g,"signInViaRedirect")})).apply(this,arguments)}function Yl(T,g,y){return function Mc(T,g,y){return zu.apply(this,arguments)}(T,g,y)}function zu(){return(zu=(0,f.Z)(function*(T,g,y){const M=(0,U.m9)(T);if(ht(M.auth,g,yr),(0,o._isFirebaseServerApp)(M.auth.app))return Promise.reject(qe(M.auth));yield M.auth._initializationPromise;const X=fa(M.auth,y);yield Oa(X,M.auth);const me=yield pa(M);return X._openRedirect(M.auth,g,"reauthViaRedirect",me)})).apply(this,arguments)}function Jl(T,g,y){return function tn(T,g,y){return ka.apply(this,arguments)}(T,g,y)}function ka(){return(ka=(0,f.Z)(function*(T,g,y){const M=(0,U.m9)(T);ht(M.auth,g,yr),yield M.auth._initializationPromise;const X=fa(M.auth,y);yield gc(!1,M,g.providerId),yield Oa(X,M.auth);const me=yield pa(M);return X._openRedirect(M.auth,g,"linkViaRedirect",me)})).apply(this,arguments)}function $u(T,g){return Io.apply(this,arguments)}function Io(){return(Io=(0,f.Z)(function*(T,g){return yield ur(T)._initializationPromise,Zu(T,g,!1)})).apply(this,arguments)}function Zu(T,g){return Js.apply(this,arguments)}function Js(){return(Js=(0,f.Z)(function*(T,g,y=!1){if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(qe(T));const M=ur(T),X=fa(M,g),rt=yield new Kl(M,X,y).execute();return rt&&!y&&(delete rt.user._redirectEventId,yield M._persistUserIfCurrent(rt.user),yield M._setRedirectUser(null,g)),rt})).apply(this,arguments)}function pa(T){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,f.Z)(function*(T){const g=Ga(`${T.uid}:::`);return T._redirectEventId=g,yield T.auth._setRedirectUser(T),yield T.auth._persistUserIfCurrent(T),g})).apply(this,arguments)}class Xl{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(g,M)&&(y=!0,this.sendToConsumer(g,M),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function gl(T){switch(T.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ka(T);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var M;if(g.error&&!Ka(g)){const X=(null===(M=g.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";y.onError(tt(this.auth,X))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const M=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&M}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xc(g))}saveEventToCache(g){this.cachedEventUids.add(xc(g)),this.lastProcessedEventTime=Date.now()}}function xc(T){return[T.type,T.eventId,T.sessionId,T.tenantId].filter(g=>g).join("-")}function Ka({type:T,error:g}){return"unknown"===T&&"auth/no-auth-event"===g?.code}function Wd(T){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,f.Z)(function*(T,g={}){return vt(T,"GET","/v1/projects",g)})).apply(this,arguments)}const Yi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mg=/^https?/;function Xh(){return(Xh=(0,f.Z)(function*(T){if(T.config.emulator)return;const{authorizedDomains:g}=yield Wd(T);for(const y of g)try{if(Pg(y))return}catch{}Ne(T,"unauthorized-domain")})).apply(this,arguments)}function Pg(T){const g=Dn(),{protocol:y,hostname:M}=new URL(g);if(T.startsWith("chrome-extension://")){const rt=new URL(T);return""===rt.hostname&&""===M?"chrome-extension:"===y&&T.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&rt.hostname===M}if(!Mg.test(y))return!1;if(Yi.test(T))return M===T;const X=T.replace(/\./g,"\\.");return new RegExp("^(.+\\."+X+"|"+X+")$","i").test(M)}const ef=new we(3e4,6e4);function Tp(){const T=Qi().___jsl;if(T?.H)for(const g of Object.keys(T.H))if(T.H[g].r=T.H[g].r||[],T.H[g].L=T.H[g].L||[],T.H[g].r=[...T.H[g].L],T.CP)for(let y=0;y<T.CP.length;y++)T.CP[y]=null}let ml=null;const tf=new we(5e3,15e3),Kd="__/auth/iframe",lo="emulator/auth/iframe",eu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ya=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yd(T){const g=T.config;Ee(g.authDomain,T,"auth-domain-config-required");const y=g.emulator?te(g,lo):`https://${T.config.authDomain}/${Kd}`,M={apiKey:g.apiKey,appName:T.name,v:o.SDK_VERSION},X=Ya.get(T.config.apiHost);X&&(M.eid=X);const me=T._getFrameworks();return me.length&&(M.fw=me.join(",")),`${y}?${(0,U.xO)(M).slice(1)}`}function Ja(){return Ja=(0,f.Z)(function*(T){const g=yield function _l(T){return ml=ml||function Qd(T){return new Promise((g,y)=>{var M,X,me;function rt(){Tp(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Tp(),y(tt(T,"network-request-failed"))},timeout:ef.get()})}if(null!==(X=null===(M=Qi().gapi)||void 0===M?void 0:M.iframes)&&void 0!==X&&X.Iframe)g(gapi.iframes.getContext());else{if(null===(me=Qi().gapi)||void 0===me||!me.load){const Pt=Qo("iframefcb");return Qi()[Pt]=()=>{gapi.load?rt():y(tt(T,"network-request-failed"))},zr(`${function Ui(){return mi.gapiScript}()}?onload=${Pt}`).catch(Jt=>y(Jt))}rt()}}).catch(g=>{throw ml=null,g})}(T),ml}(T),y=Qi().gapi;return Ee(y,T,"internal-error"),g.open({where:document.body,url:Yd(T),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eu,dontclear:!0},M=>new Promise(function(){var X=(0,f.Z)(function*(me,rt){yield M.restyle({setHideOnLeave:!1});const Pt=tt(T,"network-request-failed"),Jt=Qi().setTimeout(()=>{rt(Pt)},tf.get());function Fn(){Qi().clearTimeout(Jt),me(M)}M.ping(Fn).then(Fn,()=>{rt(Pt)})});return function(me,rt){return X.apply(this,arguments)}}()))}),Ja.apply(this,arguments)}const Jd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class sf{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const tu="__/auth/handler",Xs="emulator/auth/handler",nu=encodeURIComponent("fac");function ga(T,g,y,M,X,me){return ru.apply(this,arguments)}function ru(){return(ru=(0,f.Z)(function*(T,g,y,M,X,me){Ee(T.config.authDomain,T,"auth-domain-config-required"),Ee(T.config.apiKey,T,"invalid-api-key");const rt={apiKey:T.config.apiKey,appName:T.name,authType:y,redirectUrl:M,v:o.SDK_VERSION,eventId:X};if(g instanceof yr){g.setDefaultLanguage(T.languageCode),rt.providerId=g.providerId||"",(0,U.xb)(g.getCustomParameters())||(rt.customParameters=JSON.stringify(g.getCustomParameters()));for(const[er,jr]of Object.entries(me||{}))rt[er]=jr}if(g instanceof Pi){const er=g.getScopes().filter(jr=>""!==jr);er.length>0&&(rt.scopes=er.join(","))}T.tenantId&&(rt.tid=T.tenantId);const Pt=rt;for(const er of Object.keys(Pt))void 0===Pt[er]&&delete Pt[er];const Jt=yield T._getAppCheckToken(),Fn=Jt?`#${nu}=${encodeURIComponent(Jt)}`:"";return`${function qu({config:T}){return T.emulator?te(T,Xs):`https://${T.authDomain}/${tu}`}(T)}?${(0,U.xO)(Pt).slice(1)}${Fn}`})).apply(this,arguments)}const Gu="webStorageSupport",eh=class Xd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qt,this._completeRedirectFn=Zu,this._overrideRedirectResult=pl}_openPopup(g,y,M,X){var me=this;return(0,f.Z)(function*(){var rt;Vt(null===(rt=me.eventManagers[g._key()])||void 0===rt?void 0:rt.manager,"_initialize() not called before _openPopup()");const Pt=yield ga(g,y,M,Dn(),X);return function wp(T,g,y,M=500,X=600){const me=Math.max((window.screen.availHeight-X)/2,0).toString(),rt=Math.max((window.screen.availWidth-M)/2,0).toString();let Pt="";const Jt=Object.assign(Object.assign({},Jd),{width:M.toString(),height:X.toString(),top:me,left:rt}),Fn=(0,U.z$)().toLowerCase();y&&(Pt=nt(Fn)?"_blank":y),Je(Fn)&&(g=g||"http://localhost",Jt.scrollbars="yes");const er=Object.entries(Jt).reduce((ps,[La,Xa])=>`${ps}${La}=${Xa},`,"");if(function yt(T=(0,U.z$)()){var g;return fr(T)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Fn)&&"_self"!==Pt)return function is(T,g){const y=document.createElement("a");y.href=T,y.target=g;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(M)}(g||"",Pt),new sf(null);const jr=window.open(g||"",Pt,er);Ee(jr,T,"popup-blocked");try{jr.focus()}catch{}return new sf(jr)}(g,Pt,Ga())})()}_openRedirect(g,y,M,X){var me=this;return(0,f.Z)(function*(){return yield me._originValidation(g),function wc(T){Qi().location.href=T}(yield ga(g,y,M,Dn(),X)),new Promise(()=>{})})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:X,promise:me}=this.eventManagers[y];return X?Promise.resolve(X):(Vt(me,"If manager is not set, promise should be"),me)}const M=this.initAndGetManager(g);return this.eventManagers[y]={promise:M},M.catch(()=>{delete this.eventManagers[y]}),M}initAndGetManager(g){var y=this;return(0,f.Z)(function*(){const M=yield function rs(T){return Ja.apply(this,arguments)}(g),X=new Xl(g);return M.register("authEvent",me=>(Ee(me?.authEvent,g,"invalid-auth-event"),{status:X.onEvent(me.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:X},y.iframes[g._key()]=M,X})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send(Gu,{type:Gu},X=>{var me;const rt=null===(me=X?.[0])||void 0===me?void 0:me[Gu];void 0!==rt&&y(!!rt),Ne(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Cp(T){return Xh.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return Ft()||He()||fr()}};class af{constructor(g){this.factorId=g}_process(g,y,M){switch(y.type){case"enroll":return this._finalizeEnroll(g,y.credential,M);case"signin":return this._finalizeSignIn(g,y.credential);default:return Nt("unexpected MultiFactorSessionType")}}}class Nc extends af{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Nc(g)}_finalizeEnroll(g,y,M){return function Qh(T,g){return vt(T,"POST","/v2/accounts/mfaEnrollment:finalize",ot(T,g))}(g,{idToken:y,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,y){return function ko(T,g){return vt(T,"POST","/v2/accounts/mfaSignIn:finalize",ot(T,g))}(g,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Wu=(()=>{class T{constructor(){}static assertion(y){return Nc._fromCredential(y)}}return T.FACTOR_ID="phone",T})();var iu="@firebase/auth";class yl{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,f.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(M=>{g(M?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);y&&(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,U.Pz)("authIdTokenMaxAge"),function oo(T){mi=T}({loadJS:T=>new Promise((g,y)=>{const M=document.createElement("script");M.setAttribute("src",T),M.onload=g,M.onerror=X=>{const me=tt("internal-error");me.customData=X,y(me)},M.type="text/javascript",M.charset="UTF-8",function uf(){var T,g;return null!==(g=null===(T=document.getElementsByTagName("head"))||void 0===T?void 0:T[0])&&void 0!==g?g:document}().appendChild(M)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Qu(T){(0,o._registerComponent)(new Ae.wA("auth",(g,{options:y})=>{const M=g.getProvider("app").getImmediate(),X=g.getProvider("heartbeat"),me=g.getProvider("app-check-internal"),{apiKey:rt,authDomain:Pt}=M.options;Ee(rt&&!rt.includes(":"),"invalid-api-key",{appName:M.name});const Jt={apiKey:rt,authDomain:Pt,clientPlatform:T,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ln(T)},Fn=new ei(M,X,me,Jt);return function ks(T,g){const y=g?.persistence||[],M=(Array.isArray(y)?y:[y]).map(kt);g?.errorMap&&T._updateErrorMap(g.errorMap),T._initializeWithPersistence(M,g?.popupRedirectResolver)}(Fn,y),Fn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,M)=>{g.getProvider("auth-internal").initialize()})),(0,o._registerComponent)(new Ae.wA("auth-internal",g=>{const y=ur(g.getProvider("auth").getImmediate());return new yl(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,o.registerVersion)(iu,"1.7.4",function El(T){switch(T){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(T)),(0,o.registerVersion)(iu,"1.7.4","esm2017")}("Browser")},5588:(an,ut,k)=>{"use strict";k.d(ut,{u7:()=>Yf,Jj:()=>Ol,IX:()=>Rl,my:()=>uo,xU:()=>Cd,Lz:()=>oc,WA:()=>te,F8:()=>_u,$q:()=>Xp,W:()=>vu,EK:()=>Yn,PU:()=>wd,l7:()=>qn,Ky:()=>Yt,Xb:()=>ir,Cf:()=>kr,K9:()=>dt,Me:()=>Es,yq:()=>Vt,Wi:()=>$p,ET:()=>x_,Ab:()=>eg,vr:()=>ep,Fc:()=>Wp,hJ:()=>nm,B$:()=>Ih,at:()=>Bf,oe:()=>el,AK:()=>L_,TF:()=>im,JU:()=>__,ST:()=>Hf,fH:()=>ic,Ix:()=>zf,Wu:()=>bv,Lx:()=>C_,qY:()=>ki,GL:()=>bo,QT:()=>P_,kl:()=>gm,Xk:()=>yu,PL:()=>mm,UQ:()=>wv,zN:()=>by,ad:()=>pd,nP:()=>V_,b9:()=>Iv,vh:()=>Yp,Pb:()=>om,L$:()=>sm,cf:()=>Sv,sc:()=>Cy,Xo:()=>hm,IO:()=>Ev,iE:()=>qp,Eo:()=>bh,i3:()=>F_,Bt:()=>Em,pl:()=>Dv,Ub:()=>bt,qK:()=>cc,TQ:()=>Qf,e0:()=>Ph,r7:()=>_m,Mx:()=>v_,ar:()=>Mh});var ae,ve,f=k(5861),o=k(534),U=k(4537),Se=k(7879),_e=k(9058),Ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},de={};(function(){var c;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(gt,Ke,st){st||(st=0);var mt=Array(16);if("string"==typeof Ke)for(var At=0;16>At;++At)mt[At]=Ke.charCodeAt(st++)|Ke.charCodeAt(st++)<<8|Ke.charCodeAt(st++)<<16|Ke.charCodeAt(st++)<<24;else for(At=0;16>At;++At)mt[At]=Ke[st++]|Ke[st++]<<8|Ke[st++]<<16|Ke[st++]<<24;var Rt=gt.g[3],it=(Ke=gt.g[0])+(Rt^(st=gt.g[1])&((At=gt.g[2])^Rt))+mt[0]+3614090360&4294967295;it=(st=(At=(Rt=(Ke=(st=(At=(Rt=(Ke=(st=(At=(Rt=(Ke=(st=(At=(Rt=(Ke=(st=(At=(Rt=(Ke=(st=(At=(Rt=(Ke=(st=(At=(Rt=(Ke=(st=(At=(Rt=(Ke=(st=(At=(Rt=(Ke=(st=(At=(Rt=(Ke=(st=(At=(Rt=(Ke=(st=(At=(Rt=(Ke=(st=(At=(Rt=(Ke=(st=(At=(Rt=(Ke=(st=(At=(Rt=(Ke=st+(it<<7&4294967295|it>>>25))+((it=Rt+(At^Ke&(st^At))+mt[1]+3905402710&4294967295)<<12&4294967295|it>>>20))+((it=At+(st^Rt&(Ke^st))+mt[2]+606105819&4294967295)<<17&4294967295|it>>>15))+((it=st+(Ke^At&(Rt^Ke))+mt[3]+3250441966&4294967295)<<22&4294967295|it>>>10))+((it=Ke+(Rt^st&(At^Rt))+mt[4]+4118548399&4294967295)<<7&4294967295|it>>>25))+((it=Rt+(At^Ke&(st^At))+mt[5]+1200080426&4294967295)<<12&4294967295|it>>>20))+((it=At+(st^Rt&(Ke^st))+mt[6]+2821735955&4294967295)<<17&4294967295|it>>>15))+((it=st+(Ke^At&(Rt^Ke))+mt[7]+4249261313&4294967295)<<22&4294967295|it>>>10))+((it=Ke+(Rt^st&(At^Rt))+mt[8]+1770035416&4294967295)<<7&4294967295|it>>>25))+((it=Rt+(At^Ke&(st^At))+mt[9]+2336552879&4294967295)<<12&4294967295|it>>>20))+((it=At+(st^Rt&(Ke^st))+mt[10]+4294925233&4294967295)<<17&4294967295|it>>>15))+((it=st+(Ke^At&(Rt^Ke))+mt[11]+2304563134&4294967295)<<22&4294967295|it>>>10))+((it=Ke+(Rt^st&(At^Rt))+mt[12]+1804603682&4294967295)<<7&4294967295|it>>>25))+((it=Rt+(At^Ke&(st^At))+mt[13]+4254626195&4294967295)<<12&4294967295|it>>>20))+((it=At+(st^Rt&(Ke^st))+mt[14]+2792965006&4294967295)<<17&4294967295|it>>>15))+((it=st+(Ke^At&(Rt^Ke))+mt[15]+1236535329&4294967295)<<22&4294967295|it>>>10))+((it=Ke+(At^Rt&(st^At))+mt[1]+4129170786&4294967295)<<5&4294967295|it>>>27))+((it=Rt+(st^At&(Ke^st))+mt[6]+3225465664&4294967295)<<9&4294967295|it>>>23))+((it=At+(Ke^st&(Rt^Ke))+mt[11]+643717713&4294967295)<<14&4294967295|it>>>18))+((it=st+(Rt^Ke&(At^Rt))+mt[0]+3921069994&4294967295)<<20&4294967295|it>>>12))+((it=Ke+(At^Rt&(st^At))+mt[5]+3593408605&4294967295)<<5&4294967295|it>>>27))+((it=Rt+(st^At&(Ke^st))+mt[10]+38016083&4294967295)<<9&4294967295|it>>>23))+((it=At+(Ke^st&(Rt^Ke))+mt[15]+3634488961&4294967295)<<14&4294967295|it>>>18))+((it=st+(Rt^Ke&(At^Rt))+mt[4]+3889429448&4294967295)<<20&4294967295|it>>>12))+((it=Ke+(At^Rt&(st^At))+mt[9]+568446438&4294967295)<<5&4294967295|it>>>27))+((it=Rt+(st^At&(Ke^st))+mt[14]+3275163606&4294967295)<<9&4294967295|it>>>23))+((it=At+(Ke^st&(Rt^Ke))+mt[3]+4107603335&4294967295)<<14&4294967295|it>>>18))+((it=st+(Rt^Ke&(At^Rt))+mt[8]+1163531501&4294967295)<<20&4294967295|it>>>12))+((it=Ke+(At^Rt&(st^At))+mt[13]+2850285829&4294967295)<<5&4294967295|it>>>27))+((it=Rt+(st^At&(Ke^st))+mt[2]+4243563512&4294967295)<<9&4294967295|it>>>23))+((it=At+(Ke^st&(Rt^Ke))+mt[7]+1735328473&4294967295)<<14&4294967295|it>>>18))+((it=st+(Rt^Ke&(At^Rt))+mt[12]+2368359562&4294967295)<<20&4294967295|it>>>12))+((it=Ke+(st^At^Rt)+mt[5]+4294588738&4294967295)<<4&4294967295|it>>>28))+((it=Rt+(Ke^st^At)+mt[8]+2272392833&4294967295)<<11&4294967295|it>>>21))+((it=At+(Rt^Ke^st)+mt[11]+1839030562&4294967295)<<16&4294967295|it>>>16))+((it=st+(At^Rt^Ke)+mt[14]+4259657740&4294967295)<<23&4294967295|it>>>9))+((it=Ke+(st^At^Rt)+mt[1]+2763975236&4294967295)<<4&4294967295|it>>>28))+((it=Rt+(Ke^st^At)+mt[4]+1272893353&4294967295)<<11&4294967295|it>>>21))+((it=At+(Rt^Ke^st)+mt[7]+4139469664&4294967295)<<16&4294967295|it>>>16))+((it=st+(At^Rt^Ke)+mt[10]+3200236656&4294967295)<<23&4294967295|it>>>9))+((it=Ke+(st^At^Rt)+mt[13]+681279174&4294967295)<<4&4294967295|it>>>28))+((it=Rt+(Ke^st^At)+mt[0]+3936430074&4294967295)<<11&4294967295|it>>>21))+((it=At+(Rt^Ke^st)+mt[3]+3572445317&4294967295)<<16&4294967295|it>>>16))+((it=st+(At^Rt^Ke)+mt[6]+76029189&4294967295)<<23&4294967295|it>>>9))+((it=Ke+(st^At^Rt)+mt[9]+3654602809&4294967295)<<4&4294967295|it>>>28))+((it=Rt+(Ke^st^At)+mt[12]+3873151461&4294967295)<<11&4294967295|it>>>21))+((it=At+(Rt^Ke^st)+mt[15]+530742520&4294967295)<<16&4294967295|it>>>16))+((it=st+(At^Rt^Ke)+mt[2]+3299628645&4294967295)<<23&4294967295|it>>>9))+((it=Ke+(At^(st|~Rt))+mt[0]+4096336452&4294967295)<<6&4294967295|it>>>26))+((it=Rt+(st^(Ke|~At))+mt[7]+1126891415&4294967295)<<10&4294967295|it>>>22))+((it=At+(Ke^(Rt|~st))+mt[14]+2878612391&4294967295)<<15&4294967295|it>>>17))+((it=st+(Rt^(At|~Ke))+mt[5]+4237533241&4294967295)<<21&4294967295|it>>>11))+((it=Ke+(At^(st|~Rt))+mt[12]+1700485571&4294967295)<<6&4294967295|it>>>26))+((it=Rt+(st^(Ke|~At))+mt[3]+2399980690&4294967295)<<10&4294967295|it>>>22))+((it=At+(Ke^(Rt|~st))+mt[10]+4293915773&4294967295)<<15&4294967295|it>>>17))+((it=st+(Rt^(At|~Ke))+mt[1]+2240044497&4294967295)<<21&4294967295|it>>>11))+((it=Ke+(At^(st|~Rt))+mt[8]+1873313359&4294967295)<<6&4294967295|it>>>26))+((it=Rt+(st^(Ke|~At))+mt[15]+4264355552&4294967295)<<10&4294967295|it>>>22))+((it=At+(Ke^(Rt|~st))+mt[6]+2734768916&4294967295)<<15&4294967295|it>>>17))+((it=st+(Rt^(At|~Ke))+mt[13]+1309151649&4294967295)<<21&4294967295|it>>>11))+((Rt=(Ke=st+((it=Ke+(At^(st|~Rt))+mt[4]+4149444226&4294967295)<<6&4294967295|it>>>26))+((it=Rt+(st^(Ke|~At))+mt[11]+3174756917&4294967295)<<10&4294967295|it>>>22))^((At=Rt+((it=At+(Ke^(Rt|~st))+mt[2]+718787259&4294967295)<<15&4294967295|it>>>17))|~Ke))+mt[9]+3951481745&4294967295,gt.g[0]=gt.g[0]+Ke&4294967295,gt.g[1]=gt.g[1]+(At+(it<<21&4294967295|it>>>11))&4294967295,gt.g[2]=gt.g[2]+At&4294967295,gt.g[3]=gt.g[3]+Rt&4294967295}function I(gt,Ke){this.h=Ke;for(var st=[],mt=!0,At=gt.length-1;0<=At;At--){var Rt=0|gt[At];mt&&Rt==Ke||(st[At]=Rt,mt=!1)}this.g=st}(function e(gt,Ke){function st(){}st.prototype=Ke.prototype,gt.D=Ke.prototype,gt.prototype=new st,gt.prototype.constructor=gt,gt.C=function(mt,At,Rt){for(var it=Array(arguments.length-2),Bl=2;Bl<arguments.length;Bl++)it[Bl-2]=arguments[Bl];return Ke.prototype[At].apply(mt,it)}})(s,function r(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(gt,Ke){void 0===Ke&&(Ke=gt.length);for(var st=Ke-this.blockSize,mt=this.B,At=this.h,Rt=0;Rt<Ke;){if(0==At)for(;Rt<=st;)u(this,gt,Rt),Rt+=this.blockSize;if("string"==typeof gt){for(;Rt<Ke;)if(mt[At++]=gt.charCodeAt(Rt++),At==this.blockSize){u(this,mt),At=0;break}}else for(;Rt<Ke;)if(mt[At++]=gt[Rt++],At==this.blockSize){u(this,mt),At=0;break}}this.h=At,this.o+=Ke},s.prototype.v=function(){var gt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);gt[0]=128;for(var Ke=1;Ke<gt.length-8;++Ke)gt[Ke]=0;var st=8*this.o;for(Ke=gt.length-8;Ke<gt.length;++Ke)gt[Ke]=255&st,st/=256;for(this.u(gt),gt=Array(16),Ke=st=0;4>Ke;++Ke)for(var mt=0;32>mt;mt+=8)gt[st++]=this.g[Ke]>>>mt&255;return gt};var P={};function L(gt){return-128<=gt&&128>gt?function _(gt,Ke){var st=P;return Object.prototype.hasOwnProperty.call(st,gt)?st[gt]:st[gt]=Ke(gt)}(gt,function(Ke){return new I([0|Ke],0>Ke?-1:0)}):new I([0|gt],0>gt?-1:0)}function J(gt){if(isNaN(gt)||!isFinite(gt))return Me;if(0>gt)return nn(J(-gt));for(var Ke=[],st=1,mt=0;gt>=st;mt++)Ke[mt]=gt/st|0,st*=4294967296;return new I(Ke,0)}var Me=L(0),et=L(1),Ct=L(16777216);function Gt(gt){if(0!=gt.h)return!1;for(var Ke=0;Ke<gt.g.length;Ke++)if(0!=gt.g[Ke])return!1;return!0}function hn(gt){return-1==gt.h}function nn(gt){for(var Ke=gt.g.length,st=[],mt=0;mt<Ke;mt++)st[mt]=~gt.g[mt];return new I(st,~gt.h).add(et)}function $n(gt,Ke){return gt.add(nn(Ke))}function or(gt,Ke){for(;(65535&gt[Ke])!=gt[Ke];)gt[Ke+1]+=gt[Ke]>>>16,gt[Ke]&=65535,Ke++}function Qn(gt,Ke){this.g=gt,this.h=Ke}function Mr(gt,Ke){if(Gt(Ke))throw Error("division by zero");if(Gt(gt))return new Qn(Me,Me);if(hn(gt))return Ke=Mr(nn(gt),Ke),new Qn(nn(Ke.g),nn(Ke.h));if(hn(Ke))return Ke=Mr(gt,nn(Ke)),new Qn(nn(Ke.g),Ke.h);if(30<gt.g.length){if(hn(gt)||hn(Ke))throw Error("slowDivide_ only works with positive integers.");for(var st=et,mt=Ke;0>=mt.l(gt);)st=wi(st),mt=wi(mt);var At=Gr(st,1),Rt=Gr(mt,1);for(mt=Gr(mt,2),st=Gr(st,2);!Gt(mt);){var it=Rt.add(mt);0>=it.l(gt)&&(At=At.add(st),Rt=it),mt=Gr(mt,1),st=Gr(st,1)}return Ke=$n(gt,At.j(Ke)),new Qn(At,Ke)}for(At=Me;0<=gt.l(Ke);){for(st=Math.max(1,Math.floor(gt.m()/Ke.m())),mt=48>=(mt=Math.ceil(Math.log(st)/Math.LN2))?1:Math.pow(2,mt-48),it=(Rt=J(st)).j(Ke);hn(it)||0<it.l(gt);)it=(Rt=J(st-=mt)).j(Ke);Gt(Rt)&&(Rt=et),At=At.add(Rt),gt=$n(gt,it)}return new Qn(At,gt)}function wi(gt){for(var Ke=gt.g.length+1,st=[],mt=0;mt<Ke;mt++)st[mt]=gt.i(mt)<<1|gt.i(mt-1)>>>31;return new I(st,gt.h)}function Gr(gt,Ke){var st=Ke>>5;Ke%=32;for(var mt=gt.g.length-st,At=[],Rt=0;Rt<mt;Rt++)At[Rt]=0<Ke?gt.i(Rt+st)>>>Ke|gt.i(Rt+st+1)<<32-Ke:gt.i(Rt+st);return new I(At,gt.h)}(c=I.prototype).m=function(){if(hn(this))return-nn(this).m();for(var gt=0,Ke=1,st=0;st<this.g.length;st++){var mt=this.i(st);gt+=(0<=mt?mt:4294967296+mt)*Ke,Ke*=4294967296}return gt},c.toString=function(gt){if(2>(gt=gt||10)||36<gt)throw Error("radix out of range: "+gt);if(Gt(this))return"0";if(hn(this))return"-"+nn(this).toString(gt);for(var Ke=J(Math.pow(gt,6)),st=this,mt="";;){var At=Mr(st,Ke).g,Rt=((0<(st=$n(st,At.j(Ke))).g.length?st.g[0]:st.h)>>>0).toString(gt);if(Gt(st=At))return Rt+mt;for(;6>Rt.length;)Rt="0"+Rt;mt=Rt+mt}},c.i=function(gt){return 0>gt?0:gt<this.g.length?this.g[gt]:this.h},c.l=function(gt){return hn(gt=$n(this,gt))?-1:Gt(gt)?0:1},c.abs=function(){return hn(this)?nn(this):this},c.add=function(gt){for(var Ke=Math.max(this.g.length,gt.g.length),st=[],mt=0,At=0;At<=Ke;At++){var Rt=mt+(65535&this.i(At))+(65535&gt.i(At)),it=(Rt>>>16)+(this.i(At)>>>16)+(gt.i(At)>>>16);mt=it>>>16,st[At]=(it&=65535)<<16|(Rt&=65535)}return new I(st,-2147483648&st[st.length-1]?-1:0)},c.j=function(gt){if(Gt(this)||Gt(gt))return Me;if(hn(this))return hn(gt)?nn(this).j(nn(gt)):nn(nn(this).j(gt));if(hn(gt))return nn(this.j(nn(gt)));if(0>this.l(Ct)&&0>gt.l(Ct))return J(this.m()*gt.m());for(var Ke=this.g.length+gt.g.length,st=[],mt=0;mt<2*Ke;mt++)st[mt]=0;for(mt=0;mt<this.g.length;mt++)for(var At=0;At<gt.g.length;At++){var Rt=this.i(mt)>>>16,it=65535&this.i(mt),Bl=gt.i(At)>>>16,tp=65535&gt.i(At);st[2*mt+2*At]+=it*tp,or(st,2*mt+2*At),st[2*mt+2*At+1]+=Rt*tp,or(st,2*mt+2*At+1),st[2*mt+2*At+1]+=it*Bl,or(st,2*mt+2*At+1),st[2*mt+2*At+2]+=Rt*Bl,or(st,2*mt+2*At+2)}for(mt=0;mt<Ke;mt++)st[mt]=st[2*mt+1]<<16|st[2*mt];for(mt=Ke;mt<2*Ke;mt++)st[mt]=0;return new I(st,0)},c.A=function(gt){return Mr(this,gt).h},c.and=function(gt){for(var Ke=Math.max(this.g.length,gt.g.length),st=[],mt=0;mt<Ke;mt++)st[mt]=this.i(mt)&gt.i(mt);return new I(st,this.h&gt.h)},c.or=function(gt){for(var Ke=Math.max(this.g.length,gt.g.length),st=[],mt=0;mt<Ke;mt++)st[mt]=this.i(mt)|gt.i(mt);return new I(st,this.h|gt.h)},c.xor=function(gt){for(var Ke=Math.max(this.g.length,gt.g.length),st=[],mt=0;mt<Ke;mt++)st[mt]=this.i(mt)^gt.i(mt);return new I(st,this.h^gt.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ve=de.Md5=s,I.prototype.add=I.prototype.add,I.prototype.multiply=I.prototype.j,I.prototype.modulo=I.prototype.A,I.prototype.compare=I.prototype.l,I.prototype.toNumber=I.prototype.m,I.prototype.toString=I.prototype.toString,I.prototype.getBits=I.prototype.i,I.fromNumber=J,I.fromString=function he(gt,Ke){if(0==gt.length)throw Error("number format error: empty string");if(2>(Ke=Ke||10)||36<Ke)throw Error("radix out of range: "+Ke);if("-"==gt.charAt(0))return nn(he(gt.substring(1),Ke));if(0<=gt.indexOf("-"))throw Error('number format error: interior "-" character');for(var st=J(Math.pow(Ke,8)),mt=Me,At=0;At<gt.length;At+=8){var Rt=Math.min(8,gt.length-At),it=parseInt(gt.substring(At,At+Rt),Ke);8>Rt?(Rt=J(Math.pow(Ke,Rt)),mt=mt.j(Rt).add(J(it))):mt=(mt=mt.j(st)).add(J(it))}return mt},ae=de.Integer=I}).apply(typeof Ae<"u"?Ae:typeof self<"u"?self:typeof window<"u"?window:{});var se,be,ye,De,Re,Ye,We,_t,Fe,q=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},z={};(function(){var c,e="function"==typeof Object.defineProperties?Object.defineProperty:function(E,V,ee){return E==Array.prototype||E==Object.prototype||(E[V]=ee.value),E},s=function r(E){E=["object"==typeof globalThis&&globalThis,E,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof q&&q];for(var V=0;V<E.length;++V){var ee=E[V];if(ee&&ee.Math==Math)return ee}throw Error("Cannot find global object")}(this);!function u(E,V){if(V)e:{var ee=s;E=E.split(".");for(var Ce=0;Ce<E.length-1;Ce++){var It=E[Ce];if(!(It in ee))break e;ee=ee[It]}(V=V(Ce=ee[E=E[E.length-1]]))!=Ce&&null!=V&&e(ee,E,{configurable:!0,writable:!0,value:V})}}("Array.prototype.values",function(E){return E||function(){return function _(E,V){E instanceof String&&(E+="");var ee=0,Ce=!1,It={next:function(){if(!Ce&&ee<E.length){var Ut=ee++;return{value:V(Ut,E[Ut]),done:!1}}return Ce=!0,{done:!0,value:void 0}}};return It[Symbol.iterator]=function(){return It},It}(this,function(V,ee){return ee})}});var I=I||{},P=this||self;function L(E){var V=typeof E;return"array"==(V="object"!=V?V:E?Array.isArray(E)?"array":V:"null")||"object"==V&&"number"==typeof E.length}function J(E){var V=typeof E;return"object"==V&&null!=E||"function"==V}function he(E,V,ee){return E.call.apply(E.bind,arguments)}function Me(E,V,ee){if(!E)throw Error();if(2<arguments.length){var Ce=Array.prototype.slice.call(arguments,2);return function(){var It=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(It,Ce),E.apply(V,It)}}return function(){return E.apply(V,arguments)}}function et(E,V,ee){return(et=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?he:Me).apply(null,arguments)}function Ct(E,V){var ee=Array.prototype.slice.call(arguments,1);return function(){var Ce=ee.slice();return Ce.push.apply(Ce,arguments),E.apply(this,Ce)}}function Gt(E,V){function ee(){}ee.prototype=V.prototype,E.aa=V.prototype,E.prototype=new ee,E.prototype.constructor=E,E.Qb=function(Ce,It,Ut){for(var wn=Array(arguments.length-2),Zi=2;Zi<arguments.length;Zi++)wn[Zi-2]=arguments[Zi];return V.prototype[It].apply(Ce,wn)}}function hn(E){const V=E.length;if(0<V){const ee=Array(V);for(let Ce=0;Ce<V;Ce++)ee[Ce]=E[Ce];return ee}return[]}function nn(E,V){for(let ee=1;ee<arguments.length;ee++){const Ce=arguments[ee];if(L(Ce)){const It=E.length||0,Ut=Ce.length||0;E.length=It+Ut;for(let wn=0;wn<Ut;wn++)E[It+wn]=Ce[wn]}else E.push(Ce)}}function or(E){return/^[\s\xa0]*$/.test(E)}function Qn(){var E=P.navigator;return E&&(E=E.userAgent)?E:""}function Mr(E){return Mr[" "](E),E}Mr[" "]=function(){};var wi=!(-1==Qn().indexOf("Gecko")||-1!=Qn().toLowerCase().indexOf("webkit")&&-1==Qn().indexOf("Edge")||-1!=Qn().indexOf("Trident")||-1!=Qn().indexOf("MSIE")||-1!=Qn().indexOf("Edge"));function Gr(E,V,ee){for(const Ce in E)V.call(ee,E[Ce],Ce,E)}function Ke(E){const V={};for(const ee in E)V[ee]=E[ee];return V}const st="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mt(E,V){let ee,Ce;for(let It=1;It<arguments.length;It++){for(ee in Ce=arguments[It],Ce)E[ee]=Ce[ee];for(let Ut=0;Ut<st.length;Ut++)ee=st[Ut],Object.prototype.hasOwnProperty.call(Ce,ee)&&(E[ee]=Ce[ee])}}function At(E){var V=1;E=E.split(":");const ee=[];for(;0<V&&E.length;)ee.push(E.shift()),V--;return E.length&&ee.push(E.join(":")),ee}function Rt(E){P.setTimeout(()=>{throw E},0)}function it(){var E=B_;let V=null;return E.g&&(V=E.g,E.g=E.g.next,E.g||(E.h=null),V.next=null),V}var tp=new class $n{constructor(V,ee){this.i=V,this.j=ee,this.h=0,this.g=null}get(){let V;return 0<this.h?(this.h--,V=this.g,this.g=V.next,V.next=null):V=this.i(),V}}(()=>new ya,E=>E.reset());class ya{constructor(){this.next=this.g=this.h=null}set(V,ee){this.h=V,this.g=ee,this.next=null}reset(){this.next=this.g=this.h=null}}let np,rp=!1,B_=new class Bl{constructor(){this.h=this.g=null}add(V,ee){const Ce=tp.get();Ce.set(V,ee),this.h?this.h.next=Ce:this.g=Ce,this.h=Ce}},tg=()=>{const E=P.Promise.resolve(void 0);np=()=>{E.then(j_)}};var j_=()=>{for(var E;E=it();){try{E.h.call(E.g)}catch(ee){Rt(ee)}var V=tp;V.j(E),100>V.h&&(V.h++,E.next=V.g,V.g=E)}rp=!1};function Au(){this.s=this.s,this.C=this.C}function ms(E,V){this.type=E,this.g=this.target=V,this.defaultPrevented=!1}Au.prototype.s=!1,Au.prototype.ma=function(){this.s||(this.s=!0,this.N())},Au.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ms.prototype.h=function(){this.defaultPrevented=!0};var zv=function(){if(!P.addEventListener||!Object.defineProperty)return!1;var E=!1,V=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const ee=()=>{};P.addEventListener("test",ee,V),P.removeEventListener("test",ee,V)}catch{}return E}();function Rh(E,V){if(ms.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var ee=this.type=E.type,Ce=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=V,V=E.relatedTarget){if(wi){e:{try{Mr(V.nodeName);var It=!0;break e}catch{}It=!1}It||(V=null)}}else"mouseover"==ee?V=E.fromElement:"mouseout"==ee&&(V=E.toElement);this.relatedTarget=V,Ce?(this.clientX=void 0!==Ce.clientX?Ce.clientX:Ce.pageX,this.clientY=void 0!==Ce.clientY?Ce.clientY:Ce.pageY,this.screenX=Ce.screenX||0,this.screenY=Ce.screenY||0):(this.clientX=void 0!==E.clientX?E.clientX:E.pageX,this.clientY=void 0!==E.clientY?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType="string"==typeof E.pointerType?E.pointerType:$v[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&Rh.aa.h.call(this)}}Gt(Rh,ms);var $v={2:"touch",3:"pen",4:"mouse"};Rh.prototype.h=function(){Rh.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var ip="closure_listenable_"+(1e6*Math.random()|0),Am=0;function Zv(E,V,ee,Ce,It){this.listener=E,this.proxy=null,this.src=V,this.type=ee,this.capture=!!Ce,this.ha=It,this.key=++Am,this.da=this.fa=!1}function ng(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function rg(E){this.src=E,this.g={},this.h=0}function Im(E,V){var ee=V.type;if(ee in E.g){var Ut,Ce=E.g[ee],It=Array.prototype.indexOf.call(Ce,V,void 0);(Ut=0<=It)&&Array.prototype.splice.call(Ce,It,1),Ut&&(ng(V),0==E.g[ee].length&&(delete E.g[ee],E.h--))}}function bm(E,V,ee,Ce){for(var It=0;It<E.length;++It){var Ut=E[It];if(!Ut.da&&Ut.listener==V&&Ut.capture==!!ee&&Ut.ha==Ce)return It}return-1}rg.prototype.add=function(E,V,ee,Ce,It){var Ut=E.toString();(E=this.g[Ut])||(E=this.g[Ut]=[],this.h++);var wn=bm(E,V,Ce,It);return-1<wn?(V=E[wn],ee||(V.fa=!1)):((V=new Zv(V,this.src,Ut,!!Ce,It)).fa=ee,E.push(V)),V};var Ba="closure_lm_"+(1e6*Math.random()|0),op={};function H_(E,V,ee,Ce,It){if(Ce&&Ce.once)return Cm(E,V,ee,Ce,It);if(Array.isArray(V)){for(var Ut=0;Ut<V.length;Ut++)H_(E,V[Ut],ee,Ce,It);return null}return ee=cg(ee),E&&E[ip]?E.K(V,ee,J(Ce)?!!Ce.capture:!!Ce,It):ig(E,V,ee,!1,Ce,It)}function ig(E,V,ee,Ce,It,Ut){if(!V)throw Error("Invalid event type");var wn=J(It)?!!It.capture:!!It,Zi=sg(E);if(Zi||(E[Ba]=Zi=new rg(E)),(ee=Zi.add(V,ee,Ce,wn,Ut)).proxy)return ee;if(Ce=function qv(){const V=xy;return function E(ee){return V.call(E.src,E.listener,ee)}}(),ee.proxy=Ce,Ce.src=E,Ce.listener=ee,E.addEventListener)zv||(It=wn),void 0===It&&(It=!1),E.addEventListener(V.toString(),Ce,It);else if(E.attachEvent)E.attachEvent(og(V.toString()),Ce);else{if(!E.addListener||!E.removeListener)throw Error("addEventListener and attachEvent are unavailable.");E.addListener(Ce)}return ee}function Cm(E,V,ee,Ce,It){if(Array.isArray(V)){for(var Ut=0;Ut<V.length;Ut++)Cm(E,V[Ut],ee,Ce,It);return null}return ee=cg(ee),E&&E[ip]?E.L(V,ee,J(Ce)?!!Ce.capture:!!Ce,It):ig(E,V,ee,!0,Ce,It)}function Tm(E,V,ee,Ce,It){if(Array.isArray(V))for(var Ut=0;Ut<V.length;Ut++)Tm(E,V[Ut],ee,Ce,It);else Ce=J(Ce)?!!Ce.capture:!!Ce,ee=cg(ee),E&&E[ip]?(E=E.i,(V=String(V).toString())in E.g&&-1<(ee=bm(Ut=E.g[V],ee,Ce,It))&&(ng(Ut[ee]),Array.prototype.splice.call(Ut,ee,1),0==Ut.length&&(delete E.g[V],E.h--))):E&&(E=sg(E))&&(V=E.g[V.toString()],E=-1,V&&(E=bm(V,ee,Ce,It)),(ee=-1<E?V[E]:null)&&Oh(ee))}function Oh(E){if("number"!=typeof E&&E&&!E.da){var V=E.src;if(V&&V[ip])Im(V.i,E);else{var ee=E.type,Ce=E.proxy;V.removeEventListener?V.removeEventListener(ee,Ce,E.capture):V.detachEvent?V.detachEvent(og(ee),Ce):V.addListener&&V.removeListener&&V.removeListener(Ce),(ee=sg(V))?(Im(ee,E),0==ee.h&&(ee.src=null,V[Ba]=null)):ng(E)}}}function og(E){return E in op?op[E]:op[E]="on"+E}function xy(E,V){if(E.da)E=!0;else{V=new Rh(V,this);var ee=E.listener,Ce=E.ha||E.src;E.fa&&Oh(E),E=ee.call(Ce,V)}return E}function sg(E){return(E=E[Ba])instanceof rg?E:null}var ag="__closure_events_fn_"+(1e9*Math.random()>>>0);function cg(E){return"function"==typeof E?E:(E[ag]||(E[ag]=function(V){return E.handleEvent(V)}),E[ag])}function ss(){Au.call(this),this.i=new rg(this),this.M=this,this.F=null}function as(E,V){var ee,Ce=E.F;if(Ce)for(ee=[];Ce;Ce=Ce.F)ee.push(Ce);if(E=E.M,Ce=V.type||V,"string"==typeof V)V=new ms(V,E);else if(V instanceof ms)V.target=V.target||E;else{var It=V;mt(V=new ms(Ce,E),It)}if(It=!0,ee)for(var Ut=ee.length-1;0<=Ut;Ut--){var wn=V.g=ee[Ut];It=ja(wn,Ce,!0,V)&&It}if(It=ja(wn=V.g=E,Ce,!0,V)&&It,It=ja(wn,Ce,!1,V)&&It,ee)for(Ut=0;Ut<ee.length;Ut++)It=ja(wn=V.g=ee[Ut],Ce,!1,V)&&It}function ja(E,V,ee,Ce){if(!(V=E.i.g[String(V)]))return!0;V=V.concat();for(var It=!0,Ut=0;Ut<V.length;++Ut){var wn=V[Ut];if(wn&&!wn.da&&wn.capture==ee){var Zi=wn.listener,Yo=wn.ha||wn.src;wn.fa&&Im(E.i,wn),It=!1!==Zi.call(Yo,Ce)&&It}}return It&&!Ce.defaultPrevented}function z_(E,V,ee){if("function"==typeof E)ee&&(E=et(E,ee));else{if(!E||"function"!=typeof E.handleEvent)throw Error("Invalid listener argument");E=et(E.handleEvent,E)}return 2147483647<Number(V)?-1:P.setTimeout(E,V||0)}function $_(E){E.g=z_(()=>{E.g=null,E.i&&(E.i=!1,$_(E))},E.l);const V=E.h;E.h=null,E.m.apply(null,V)}Gt(ss,Au),ss.prototype[ip]=!0,ss.prototype.removeEventListener=function(E,V,ee,Ce){Tm(this,E,V,ee,Ce)},ss.prototype.N=function(){if(ss.aa.N.call(this),this.i){var V,E=this.i;for(V in E.g){for(var ee=E.g[V],Ce=0;Ce<ee.length;Ce++)ng(ee[Ce]);delete E.g[V],E.h--}}this.F=null},ss.prototype.K=function(E,V,ee,Ce){return this.i.add(String(E),V,!1,ee,Ce)},ss.prototype.L=function(E,V,ee,Ce){return this.i.add(String(E),V,!0,ee,Ce)};class wm extends Au{constructor(V,ee){super(),this.m=V,this.l=ee,this.h=null,this.i=!1,this.g=null}j(V){this.h=arguments,this.g?this.i=!0:$_(this)}N(){super.N(),this.g&&(P.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sp(E){Au.call(this),this.h=E,this.g={}}Gt(sp,Au);var Dm=[];function Z_(E){Gr(E.g,function(V,ee){this.g.hasOwnProperty(ee)&&Oh(V)},E),E.g={}}sp.prototype.N=function(){sp.aa.N.call(this),Z_(this)},sp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nh=P.JSON.stringify,ap=P.JSON.parse,q_=class{stringify(E){return P.JSON.stringify(E,void 0)}parse(E){return P.JSON.parse(E,void 0)}};function kh(){}function G_(){}kh.prototype.h=null;var Fh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lg(){ms.call(this,"d")}function Sm(){ms.call(this,"c")}Gt(lg,ms),Gt(Sm,ms);var Sd={},Mm=null;function cp(){return Mm=Mm||new ss}function Lh(E){ms.call(this,Sd.La,E)}function lp(E){const V=cp();as(V,new Lh(V))}function Pm(E,V){ms.call(this,Sd.STAT_EVENT,E),this.stat=V}function _s(E){const V=cp();as(V,new Pm(V,E))}function xm(E,V){ms.call(this,Sd.Ma,E),this.size=V}function Vh(E,V){if("function"!=typeof E)throw Error("Fn must not be null and must be a function");return P.setTimeout(function(){E()},V)}function tl(){this.g=!0}function jl(E,V,ee,Ce){E.info(function(){return"XMLHTTP TEXT ("+V+"): "+function K_(E,V){if(!E.g)return V;if(!V)return null;try{var ee=JSON.parse(V);if(ee)for(E=0;E<ee.length;E++)if(Array.isArray(ee[E])){var Ce=ee[E];if(!(2>Ce.length)){var It=Ce[1];if(Array.isArray(It)&&!(1>It.length)){var Ut=It[0];if("noop"!=Ut&&"stop"!=Ut&&"close"!=Ut)for(var wn=1;wn<It.length;wn++)It[wn]=""}}}return Nh(ee)}catch{return V}}(E,ee)+(Ce?" "+Ce:"")})}Sd.La="serverreachability",Gt(Lh,ms),Sd.STAT_EVENT="statevent",Gt(Pm,ms),Sd.Ma="timingevent",Gt(xm,ms),tl.prototype.xa=function(){this.g=!1},tl.prototype.info=function(){};var dg,ug={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},up={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Uh(){}function lc(E,V,ee,Ce){this.j=E,this.i=V,this.l=ee,this.R=Ce||1,this.U=new sp(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Om}function Om(){this.i=null,this.g="",this.h=!1}Gt(Uh,kh),Uh.prototype.g=function(){return new XMLHttpRequest},Uh.prototype.i=function(){return{}},dg=new Uh;var Bh={},hg={};function Nm(E,V,ee){E.L=1,E.v=Tt(C(V)),E.m=ee,E.P=!0,Y_(E,null)}function Y_(E,V){E.F=Date.now(),fg(E),E.A=C(E.v);var ee=E.A,Ce=E.R;Array.isArray(Ce)||(Ce=[String(Ce)]),Ea(ee.i,"t",Ce),E.C=0,ee=E.j.J,E.h=new Om,E.g=ny(E.j,ee?V:null,!E.m),0<E.O&&(E.M=new wm(et(E.Y,E,E.g),E.O)),V=E.U,ee=E.g,Ce=E.ca;var It="readystatechange";Array.isArray(It)||(It&&(Dm[0]=It.toString()),It=Dm);for(var Ut=0;Ut<It.length;Ut++){var wn=H_(ee,It[Ut],Ce||V.handleEvent,!1,V.h||V);if(!wn)break;V.g[wn.key]=wn}V=E.H?Ke(E.H):{},E.m?(E.u||(E.u="POST"),V["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,V)):(E.u="GET",E.g.ea(E.A,E.u,null,V)),lp(),function W_(E,V,ee,Ce,It,Ut){E.info(function(){if(E.g)if(Ut)for(var wn="",Zi=Ut.split("&"),Yo=0;Yo<Zi.length;Yo++){var Di=Zi[Yo].split("=");if(1<Di.length){var ls=Di[0];Di=Di[1];var vs=ls.split("_");wn=2<=vs.length&&"type"==vs[1]?wn+(ls+"=")+Di+"&":wn+(ls+"=redacted&")}}else wn=null;else wn=Ut;return"XMLHTTP REQ ("+Ce+") [attempt "+It+"]: "+V+"\n"+ee+"\n"+wn})}(E.i,E.u,E.A,E.l,E.R,E.m)}function J_(E){return!!E.g&&"GET"==E.u&&2!=E.L&&E.j.Ca}function Wv(E,V){var ee=E.C,Ce=V.indexOf("\n",ee);return-1==Ce?hg:(ee=Number(V.substring(ee,Ce)),isNaN(ee)?Bh:(Ce+=1)+ee>V.length?hg:(V=V.slice(Ce,Ce+ee),E.C=Ce+ee,V))}function fg(E){E.S=Date.now()+E.I,X_(E,E.I)}function X_(E,V){if(null!=E.B)throw Error("WatchDog timer not null");E.B=Vh(et(E.ba,E),V)}function pg(E){E.B&&(P.clearTimeout(E.B),E.B=null)}function jh(E){0==E.j.G||E.J||ey(E.j,E)}function Iu(E){pg(E);var V=E.M;V&&"function"==typeof V.ma&&V.ma(),E.M=null,Z_(E.U),E.g&&(V=E.g,E.g=null,V.abort(),V.ma())}function ev(E,V){try{var ee=E.j;if(0!=ee.G&&(ee.g==E||Fm(ee.h,E)))if(!E.K&&Fm(ee.h,E)&&3==ee.G){try{var Ce=ee.Da.g.parse(V)}catch{Ce=null}if(Array.isArray(Ce)&&3==Ce.length){var It=Ce;if(0==It[0]){e:if(!ee.u){if(ee.g){if(!(ee.g.F+3e3<E.F))break e;Hm(ee),nv(ee)}Bm(ee),_s(18)}}else ee.za=It[1],0<ee.za-ee.T&&37500>It[2]&&ee.F&&0==ee.v&&!ee.C&&(ee.C=Vh(et(ee.Za,ee),6e3));if(1>=dp(ee.h)&&ee.ca){try{ee.ca()}catch{}ee.ca=void 0}}else qh(ee,11)}else if((E.K||ee.g==E)&&Hm(ee),!or(V))for(It=ee.Da.g.parse(V),V=0;V<It.length;V++){let Di=It[V];if(ee.T=Di[0],Di=Di[1],2==ee.G)if("c"==Di[0]){ee.K=Di[1],ee.ia=Di[2];const ls=Di[3];null!=ls&&(ee.la=ls,ee.j.info("VER="+ee.la));const vs=Di[4];null!=vs&&(ee.Aa=vs,ee.j.info("SVER="+ee.Aa));const _p=Di[5];null!=_p&&"number"==typeof _p&&0<_p&&(ee.L=Ce=1.5*_p,ee.j.info("backChannelRequestTimeoutMs_="+Ce)),Ce=ee;const dc=E.g;if(dc){const Eg=dc.g?dc.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Eg){var Ut=Ce.h;Ut.g||-1==Eg.indexOf("spdy")&&-1==Eg.indexOf("quic")&&-1==Eg.indexOf("h2")||(Ut.j=Ut.l,Ut.g=new Set,Ut.h&&(Lm(Ut,Ut.h),Ut.h=null))}if(Ce.D){const Zm=dc.g?dc.g.getResponseHeader("X-HTTP-Session-Id"):null;Zm&&(Ce.ya=Zm,at(Ce.I,Ce.D,Zm))}}ee.G=3,ee.l&&ee.l.ua(),ee.ba&&(ee.R=Date.now()-E.F,ee.j.info("Handshake RTT: "+ee.R+"ms"));var wn=E;if((Ce=ee).qa=$m(Ce,Ce.J?Ce.ia:null,Ce.W),wn.K){gg(Ce.h,wn);var Zi=wn,Yo=Ce.L;Yo&&(Zi.I=Yo),Zi.B&&(pg(Zi),fg(Zi)),Ce.g=wn}else Xv(Ce);0<ee.i.length&&Um(ee)}else"stop"!=Di[0]&&"close"!=Di[0]||qh(ee,7);else 3==ee.G&&("stop"==Di[0]||"close"==Di[0]?"stop"==Di[0]?qh(ee,7):pp(ee):"noop"!=Di[0]&&ee.l&&ee.l.ta(Di),ee.v=0)}lp()}catch{}}function km(E){this.l=E||10,E=P.PerformanceNavigationTiming?0<(E=P.performance.getEntriesByType("navigation")).length&&("hq"==E[0].nextHopProtocol||"h2"==E[0].nextHopProtocol):!!(P.chrome&&P.chrome.loadTimes&&P.chrome.loadTimes()&&P.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qv(E){return!!E.h||!!E.g&&E.g.size>=E.j}function dp(E){return E.h?1:E.g?E.g.size:0}function Fm(E,V){return E.h?E.h==V:!!E.g&&E.g.has(V)}function Lm(E,V){E.g?E.g.add(V):E.h=V}function gg(E,V){E.h&&E.h==V?E.h=null:E.g&&E.g.has(V)&&E.g.delete(V)}function mg(E){if(null!=E.h)return E.i.concat(E.h.D);if(null!=E.g&&0!==E.g.size){let V=E.i;for(const ee of E.g.values())V=V.concat(ee.D);return V}return hn(E.i)}function v(E,V){if(E.forEach&&"function"==typeof E.forEach)E.forEach(V,void 0);else if(L(E)||"string"==typeof E)Array.prototype.forEach.call(E,V,void 0);else for(var ee=function Hh(E){if(E.na&&"function"==typeof E.na)return E.na();if(!E.V||"function"!=typeof E.V){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(L(E)||"string"==typeof E){var V=[];E=E.length;for(var ee=0;ee<E;ee++)V.push(ee);return V}V=[],ee=0;for(const Ce in E)V[ee++]=Ce;return V}}}(E),Ce=function uc(E){if(E.V&&"function"==typeof E.V)return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if("string"==typeof E)return E.split("");if(L(E)){for(var V=[],ee=E.length,Ce=0;Ce<ee;Ce++)V.push(E[Ce]);return V}for(Ce in V=[],ee=0,E)V[ee++]=E[Ce];return V}(E),It=Ce.length,Ut=0;Ut<It;Ut++)V.call(void 0,Ce[Ut],ee&&ee[Ut],E)}lc.prototype.ca=function(E){E=E.target;const V=this.M;V&&3==Lo(E)?V.j():this.Y(E)},lc.prototype.Y=function(E){try{if(E==this.g)e:{const vs=Lo(this.g);var V=this.g.Ba();if(this.g.Z(),!(3>vs)&&(3!=vs||this.g&&(this.h.h||this.g.oa()||$h(this.g)))){this.J||4!=vs||7==V||lp(),pg(this);var ee=this.g.Z();this.X=ee;t:if(J_(this)){var Ce=$h(this.g);E="";var It=Ce.length,Ut=4==Lo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Iu(this),jh(this);var wn="";break t}this.h.i=new P.TextDecoder}for(V=0;V<It;V++)this.h.h=!0,E+=this.h.i.decode(Ce[V],{stream:!(Ut&&V==It-1)});Ce.length=0,this.h.g+=E,this.C=0,wn=this.h.g}else wn=this.g.oa();if(this.o=200==ee,function Q_(E,V,ee,Ce,It,Ut,wn){E.info(function(){return"XMLHTTP RESP ("+Ce+") [ attempt "+It+"]: "+V+"\n"+ee+"\n"+Ut+" "+wn})}(this.i,this.u,this.A,this.l,this.R,vs,ee),this.o){if(this.T&&!this.K){t:{if(this.g){var Zi,Yo=this.g;if((Zi=Yo.g?Yo.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!or(Zi)){var Di=Zi;break t}}Di=null}if(!(ee=Di)){this.o=!1,this.s=3,_s(12),Iu(this),jh(this);break e}jl(this.i,this.l,ee,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ev(this,ee)}if(this.P){let dc;for(ee=!0;!this.J&&this.C<wn.length;){if(dc=Wv(this,wn),dc==hg){4==vs&&(this.s=4,_s(14),ee=!1),jl(this.i,this.l,null,"[Incomplete Response]");break}if(dc==Bh){this.s=4,_s(15),jl(this.i,this.l,wn,"[Invalid Chunk]"),ee=!1;break}jl(this.i,this.l,dc,null),ev(this,dc)}if(J_(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=vs||0!=wn.length||this.h.h||(this.s=1,_s(16),ee=!1),this.o=this.o&&ee,ee){if(0<wn.length&&!this.W){this.W=!0;var ls=this.j;ls.g==this&&ls.ba&&!ls.M&&(ls.j.info("Great, no buffering proxy detected. Bytes received: "+wn.length),jm(ls),ls.M=!0,_s(11))}}else jl(this.i,this.l,wn,"[Invalid Chunked Response]"),Iu(this),jh(this)}else jl(this.i,this.l,wn,null),ev(this,wn);4==vs&&Iu(this),this.o&&!this.J&&(4==vs?ey(this.j,this):(this.o=!1,fg(this)))}else(function _g(E){const V={};E=(E.g&&2<=Lo(E)&&E.g.getAllResponseHeaders()||"").split("\r\n");for(let Ce=0;Ce<E.length;Ce++){if(or(E[Ce]))continue;var ee=At(E[Ce]);const It=ee[0];if("string"!=typeof(ee=ee[1]))continue;ee=ee.trim();const Ut=V[It]||[];V[It]=Ut,Ut.push(ee)}!function gt(E,V){for(const ee in E)V.call(void 0,E[ee],ee,E)}(V,function(Ce){return Ce.join(", ")})})(this.g),400==ee&&0<wn.indexOf("Unknown SID")?(this.s=3,_s(12)):(this.s=0,_s(13)),Iu(this),jh(this)}}}catch{}},lc.prototype.cancel=function(){this.J=!0,Iu(this)},lc.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(function Rm(E,V){E.info(function(){return"TIMEOUT: "+V})}(this.i,this.A),2!=this.L&&(lp(),_s(17)),Iu(this),this.s=2,jh(this)):X_(this,this.S-E)},km.prototype.cancel=function(){if(this.i=mg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const E of this.g.values())E.cancel();this.g.clear()}};var h=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function m(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof m){this.h=E.h,$(this,E.j),this.o=E.o,this.g=E.g,fe(this,E.s),this.l=E.l;var V=E.i,ee=new $i;ee.i=V.i,V.g&&(ee.g=new Map(V.g),ee.h=V.h),Oe(this,ee),this.m=E.m}else E&&(V=String(E).match(h))?(this.h=!1,$(this,V[1]||"",!0),this.o=sn(V[2]||""),this.g=sn(V[3]||"",!0),fe(this,V[4]),this.l=sn(V[5]||"",!0),Oe(this,V[6]||"",!0),this.m=sn(V[7]||"")):(this.h=!1,this.i=new $i(null,this.h))}function C(E){return new m(E)}function $(E,V,ee){E.j=ee?sn(V,!0):V,E.j&&(E.j=E.j.replace(/:$/,""))}function fe(E,V){if(V){if(V=Number(V),isNaN(V)||0>V)throw Error("Bad port number "+V);E.s=V}else E.s=null}function Oe(E,V,ee){V instanceof $i?(E.i=V,function nl(E,V){V&&!E.j&&(fo(E),E.i=null,E.g.forEach(function(ee,Ce){var It=Ce.toLowerCase();Ce!=It&&(zo(this,Ce),Ea(this,It,ee))},E)),E.j=V}(E.i,E.h)):(ee||(V=vn(V,Fi)),E.i=new $i(V,E.h))}function at(E,V,ee){E.i.set(V,ee)}function Tt(E){return at(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function sn(E,V){return E?V?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function vn(E,V,ee){return"string"==typeof E?(E=encodeURI(E).replace(V,Er),ee&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function Er(E){return"%"+((E=E.charCodeAt(0))>>4&15).toString(16)+(15&E).toString(16)}m.prototype.toString=function(){var E=[],V=this.j;V&&E.push(vn(V,gr,!0),":");var ee=this.g;return(ee||"file"==V)&&(E.push("//"),(V=this.o)&&E.push(vn(V,gr,!0),"@"),E.push(encodeURIComponent(String(ee)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(ee=this.s)&&E.push(":",String(ee))),(ee=this.l)&&(this.g&&"/"!=ee.charAt(0)&&E.push("/"),E.push(vn(ee,"/"==ee.charAt(0)?lr:tr,!0))),(ee=this.i.toString())&&E.push("?",ee),(ee=this.m)&&E.push("#",vn(ee,ho)),E.join("")};var E,gr=/[#\/\?@]/g,tr=/[#\?:]/g,lr=/[#\?]/g,Fi=/[#\?@]/g,ho=/#/g;function $i(E,V){this.h=this.g=null,this.i=E||null,this.j=!!V}function fo(E){E.g||(E.g=new Map,E.h=0,E.i&&function l(E,V){if(E){E=E.split("&");for(var ee=0;ee<E.length;ee++){var Ce=E[ee].indexOf("="),It=null;if(0<=Ce){var Ut=E[ee].substring(0,Ce);It=E[ee].substring(Ce+1)}else Ut=E[ee];V(Ut,It?decodeURIComponent(It.replace(/\+/g," ")):"")}}}(E.i,function(V,ee){E.add(decodeURIComponent(V.replace(/\+/g," ")),ee)}))}function zo(E,V){fo(E),V=Co(E,V),E.g.has(V)&&(E.i=null,E.h-=E.g.get(V).length,E.g.delete(V))}function Hl(E,V){return fo(E),V=Co(E,V),E.g.has(V)}function Ea(E,V,ee){zo(E,V),0<ee.length&&(E.i=null,E.g.set(Co(E,V),hn(ee)),E.h+=ee.length)}function Co(E,V){return V=String(V),E.j&&(V=V.toLowerCase()),V}function rl(E,V,ee,Ce,It){try{It&&(It.onload=null,It.onerror=null,It.onabort=null,It.ontimeout=null),Ce(ee)}catch{}}function zh(){this.g=new q_}function Md(E,V,ee){const Ce=ee||"";try{v(E,function(It,Ut){let wn=It;J(It)&&(wn=Nh(It)),V.push(Ce+Ut+"="+encodeURIComponent(wn))})}catch(It){throw V.push(Ce+"type="+encodeURIComponent("_badmap")),It}}function Pd(E){this.l=E.Ub||null,this.j=E.eb||!1}function hp(E,V){ss.call(this),this.D=E,this.o=V,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Gn(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}function rr(E){E.readyState=4,E.l=null,E.j=null,E.v=null,dr(E)}function dr(E){E.onreadystatechange&&E.onreadystatechange.call(E)}function ni(E){let V="";return Gr(E,function(ee,Ce){V+=Ce,V+=":",V+=ee,V+="\r\n"}),V}function io(E,V,ee){e:{for(Ce in ee){var Ce=!1;break e}Ce=!0}Ce||(ee=ni(ee),"string"==typeof E?null!=ee&&encodeURIComponent(String(ee)):at(E,V,ee))}function gi(E){ss.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(c=$i.prototype).add=function(E,V){fo(this),this.i=null,E=Co(this,E);var ee=this.g.get(E);return ee||this.g.set(E,ee=[]),ee.push(V),this.h+=1,this},c.forEach=function(E,V){fo(this),this.g.forEach(function(ee,Ce){ee.forEach(function(It){E.call(V,It,Ce,this)},this)},this)},c.na=function(){fo(this);const E=Array.from(this.g.values()),V=Array.from(this.g.keys()),ee=[];for(let Ce=0;Ce<V.length;Ce++){const It=E[Ce];for(let Ut=0;Ut<It.length;Ut++)ee.push(V[Ce])}return ee},c.V=function(E){fo(this);let V=[];if("string"==typeof E)Hl(this,E)&&(V=V.concat(this.g.get(Co(this,E))));else{E=Array.from(this.g.values());for(let ee=0;ee<E.length;ee++)V=V.concat(E[ee])}return V},c.set=function(E,V){return fo(this),this.i=null,Hl(this,E=Co(this,E))&&(this.h-=this.g.get(E).length),this.g.set(E,[V]),this.h+=1,this},c.get=function(E,V){return E&&0<(E=this.V(E)).length?String(E[0]):V},c.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],V=Array.from(this.g.keys());for(var ee=0;ee<V.length;ee++){var Ce=V[ee];const Ut=encodeURIComponent(String(Ce)),wn=this.V(Ce);for(Ce=0;Ce<wn.length;Ce++){var It=Ut;""!==wn[Ce]&&(It+="="+encodeURIComponent(String(wn[Ce]))),E.push(It)}}return this.i=E.join("&")},Gt(Pd,kh),Pd.prototype.g=function(){return new hp(this.l,this.j)},Pd.prototype.i=(E={},function(){return E}),Gt(hp,ss),(c=hp.prototype).open=function(E,V){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=V,this.readyState=1,dr(this)},c.send=function(E){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const V={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(V.body=E),(this.D||P).fetch(new Request(this.A,V)).then(this.Sa.bind(this),this.ga.bind(this))},c.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,rr(this)),this.readyState=0},c.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,dr(this)),this.g&&(this.readyState=3,dr(this),this.g)))if("arraybuffer"===this.responseType)E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof P.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gn(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))},c.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var V=E.value?E.value:new Uint8Array(0);(V=this.v.decode(V,{stream:!E.done}))&&(this.response=this.responseText+=V)}E.done?rr(this):dr(this),3==this.readyState&&Gn(this)}},c.Ra=function(E){this.g&&(this.response=this.responseText=E,rr(this))},c.Qa=function(E){this.g&&(this.response=E,rr(this))},c.ga=function(){this.g&&rr(this)},c.setRequestHeader=function(E,V){this.u.append(E,V)},c.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},c.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],V=this.h.entries();for(var ee=V.next();!ee.done;)E.push((ee=ee.value)[0]+": "+ee[1]),ee=V.next();return E.join("\r\n")},Object.defineProperty(hp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(E){this.m=E?"include":"same-origin"}}),Gt(gi,ss);var cs=/^https?$/i,il=["POST","PUT"];function Li(E,V){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=V,E.m=5,fp(E),po(E)}function fp(E){E.A||(E.A=!0,as(E,"complete"),as(E,"error"))}function Vm(E){if(E.h&&typeof I<"u"&&(!E.v[1]||4!=Lo(E)||2!=E.Z()))if(E.u&&4==Lo(E))z_(E.Ea,0,E);else if(as(E,"readystatechange"),4==Lo(E)){E.h=!1;try{const wn=E.Z();e:switch(wn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var V=!0;break e;default:V=!1}var ee;if(!(ee=V)){var Ce;if(Ce=0===wn){var It=String(E.D).match(h)[1]||null;!It&&P.self&&P.self.location&&(It=P.self.location.protocol.slice(0,-1)),Ce=!cs.test(It?It.toLowerCase():"")}ee=Ce}if(ee)as(E,"complete"),as(E,"success");else{E.m=6;try{var Ut=2<Lo(E)?E.g.statusText:""}catch{Ut=""}E.l=Ut+" ["+E.Z()+"]",fp(E)}}finally{po(E)}}}function po(E,V){if(E.g){Zl(E);const ee=E.g,Ce=E.v[0]?()=>{}:null;E.g=null,E.v=null,V||as(E,"ready");try{ee.onreadystatechange=Ce}catch{}}}function Zl(E){E.I&&(P.clearTimeout(E.I),E.I=null)}function Lo(E){return E.g?E.g.readyState:0}function $h(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function Zh(E,V,ee){return ee&&ee.internalChannelParams&&ee.internalChannelParams[E]||V}function vg(E){this.Aa=0,this.i=[],this.j=new tl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zh("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zh("baseRetryDelayMs",5e3,E),this.cb=Zh("retryDelaySeedMs",1e4,E),this.Wa=Zh("forwardChannelMaxRetries",2,E),this.wa=Zh("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new km(E&&E.concurrentRequestLimit),this.Da=new zh,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function pp(E){if(Kv(E),3==E.G){var V=E.U++,ee=C(E.I);if(at(ee,"SID",E.K),at(ee,"RID",V),at(ee,"TYPE","terminate"),gp(E,ee),(V=new lc(E,E.j,V)).L=2,V.v=Tt(C(ee)),ee=!1,P.navigator&&P.navigator.sendBeacon)try{ee=P.navigator.sendBeacon(V.v.toString(),"")}catch{}!ee&&P.Image&&((new Image).src=V.v,ee=!0),ee||(V.g=ny(V.j,null),V.g.ea(V.v)),V.F=Date.now(),fg(V)}zm(E)}function nv(E){E.g&&(jm(E),E.g.cancel(),E.g=null)}function Kv(E){nv(E),E.u&&(P.clearTimeout(E.u),E.u=null),Hm(E),E.h.cancel(),E.s&&("number"==typeof E.s&&P.clearTimeout(E.s),E.s=null)}function Um(E){if(!Qv(E.h)&&!E.s){E.s=!0;var V=E.Ga;np||tg(),rp||(np(),rp=!0),B_.add(V,E),E.B=0}}function Yv(E,V){var ee;ee=V?V.l:E.U++;const Ce=C(E.I);at(Ce,"SID",E.K),at(Ce,"RID",ee),at(Ce,"AID",E.T),gp(E,Ce),E.m&&E.o&&io(Ce,E.m,E.o),ee=new lc(E,E.j,ee,E.B+1),null===E.m&&(ee.H=E.o),V&&(E.i=V.D.concat(E.i)),V=Jv(E,ee,1e3),ee.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),Lm(E.h,ee),Nm(ee,Ce,V)}function gp(E,V){E.H&&Gr(E.H,function(ee,Ce){at(V,Ce,ee)}),E.l&&v({},function(ee,Ce){at(V,Ce,ee)})}function Jv(E,V,ee){ee=Math.min(E.i.length,ee);var Ce=E.l?et(E.l.Na,E.l,E):null;e:{var It=E.i;let Ut=-1;for(;;){const wn=["count="+ee];-1==Ut?0<ee?(Ut=It[0].g,wn.push("ofs="+Ut)):Ut=0:wn.push("ofs="+Ut);let Zi=!0;for(let Yo=0;Yo<ee;Yo++){let Di=It[Yo].g;const ls=It[Yo].map;if(Di-=Ut,0>Di)Ut=Math.max(0,It[Yo].g-100),Zi=!1;else try{Md(ls,wn,"req"+Di+"_")}catch{Ce&&Ce(ls)}}if(Zi){Ce=wn.join("&");break e}}}return E=E.i.splice(0,ee),V.D=E,Ce}function Xv(E){if(!E.g&&!E.u){E.Y=1;var V=E.Fa;np||tg(),rp||(np(),rp=!0),B_.add(V,E),E.v=0}}function Bm(E){return!(E.g||E.u||3<=E.v||(E.Y++,E.u=Vh(et(E.Fa,E),ty(E,E.v)),E.v++,0))}function jm(E){null!=E.A&&(P.clearTimeout(E.A),E.A=null)}function iv(E){E.g=new lc(E,E.j,"rpc",E.Y),null===E.m&&(E.g.H=E.o),E.g.O=0;var V=C(E.qa);at(V,"RID","rpc"),at(V,"SID",E.K),at(V,"AID",E.T),at(V,"CI",E.F?"0":"1"),!E.F&&E.ja&&at(V,"TO",E.ja),at(V,"TYPE","xmlhttp"),gp(E,V),E.m&&E.o&&io(V,E.m,E.o),E.L&&(E.g.I=E.L);var ee=E.g;E=E.ia,ee.L=1,ee.v=Tt(C(V)),ee.m=null,ee.P=!0,Y_(ee,E)}function Hm(E){null!=E.C&&(P.clearTimeout(E.C),E.C=null)}function ey(E,V){var ee=null;if(E.g==V){Hm(E),jm(E),E.g=null;var Ce=2}else{if(!Fm(E.h,V))return;ee=V.D,gg(E.h,V),Ce=1}if(0!=E.G)if(V.o)if(1==Ce){ee=V.m?V.m.length:0,V=Date.now()-V.F;var It=E.B;as(Ce=cp(),new xm(Ce,ee)),Um(E)}else Xv(E);else if(3==(It=V.s)||0==It&&0<V.X||!(1==Ce&&function rv(E,V){return!(dp(E.h)>=E.h.j-(E.s?1:0)||(E.s?(E.i=V.D.concat(E.i),0):1==E.G||2==E.G||E.B>=(E.Va?0:E.Wa)||(E.s=Vh(et(E.Ga,E,V),ty(E,E.B)),E.B++,0)))}(E,V)||2==Ce&&Bm(E)))switch(ee&&0<ee.length&&(V=E.h,V.i=V.i.concat(ee)),It){case 1:qh(E,5);break;case 4:qh(E,10);break;case 3:qh(E,6);break;default:qh(E,2)}}function ty(E,V){let ee=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(ee*=2),ee*V}function qh(E,V){if(E.j.info("Error code "+V),2==V){var ee=et(E.fb,E),Ce=E.Xa;const It=!Ce;Ce=new m(Ce||"//www.google.com/images/cleardot.gif"),P.location&&"http"==P.location.protocol||$(Ce,"https"),Tt(Ce),It?function zl(E,V){const ee=new tl;if(P.Image){const Ce=new Image;Ce.onload=Ct(rl,ee,"TestLoadImage: loaded",!0,V,Ce),Ce.onerror=Ct(rl,ee,"TestLoadImage: error",!1,V,Ce),Ce.onabort=Ct(rl,ee,"TestLoadImage: abort",!1,V,Ce),Ce.ontimeout=Ct(rl,ee,"TestLoadImage: timeout",!1,V,Ce),P.setTimeout(function(){Ce.ontimeout&&Ce.ontimeout()},1e4),Ce.src=E}else V(!1)}(Ce.toString(),ee):function $l(E,V){new tl;const Ce=new AbortController,It=setTimeout(()=>{Ce.abort(),rl(0,0,!1,V)},1e4);fetch(E,{signal:Ce.signal}).then(Ut=>{clearTimeout(It),rl(0,0,!!Ut.ok,V)}).catch(()=>{clearTimeout(It),rl(0,0,!1,V)})}(Ce.toString(),ee)}else _s(2);E.G=0,E.l&&E.l.sa(V),zm(E),Kv(E)}function zm(E){if(E.G=0,E.ka=[],E.l){const V=mg(E.h);(0!=V.length||0!=E.i.length)&&(nn(E.ka,V),nn(E.ka,E.i),E.h.i.length=0,hn(E.i),E.i.length=0),E.l.ra()}}function $m(E,V,ee){var Ce=ee instanceof m?C(ee):new m(ee);if(""!=Ce.g)V&&(Ce.g=V+"."+Ce.g),fe(Ce,Ce.s);else{var It=P.location;Ce=It.protocol,V=V?V+"."+It.hostname:It.hostname,It=+It.port;var Ut=new m(null);Ce&&$(Ut,Ce),V&&(Ut.g=V),It&&fe(Ut,It),ee&&(Ut.l=ee),Ce=Ut}return V=E.ya,(ee=E.D)&&V&&at(Ce,ee,V),at(Ce,"VER",E.la),gp(E,Ce),Ce}function ny(E,V,ee){if(V&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return(V=new gi(E.Ca&&!E.pa?new Pd({eb:ee}):E.pa)).Ha(E.J),V}function yg(){}function Gh(){}function oa(E,V){ss.call(this),this.g=new vg(V),this.l=E,this.h=V&&V.messageUrlParams||null,E=V&&V.messageHeaders||null,V&&V.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=V&&V.initMessageHeaders||null,V&&V.messageContentType&&(E?E["X-WebChannel-Content-Type"]=V.messageContentType:E={"X-WebChannel-Content-Type":V.messageContentType}),V&&V.va&&(E?E["X-WebChannel-Client-Profile"]=V.va:E={"X-WebChannel-Client-Profile":V.va}),this.g.S=E,(E=V&&V.Sb)&&!or(E)&&(this.g.m=E),this.v=V&&V.supportsCrossDomainXhr||!1,this.u=V&&V.sendRawJson||!1,(V=V&&V.httpSessionIdParam)&&!or(V)&&(this.g.D=V,null!==(E=this.h)&&V in E&&V in(E=this.h)&&delete E[V]),this.j=new mp(this)}function ov(E){lg.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var V=E.__sm__;if(V){e:{for(const ee in V){E=ee;break e}E=void 0}(this.i=E)&&(E=this.i,V=null!==V&&E in V?V[E]:void 0),this.data=V}else this.data=E}function ry(){Sm.call(this),this.status=1}function mp(E){this.g=E}(c=gi.prototype).Ha=function(E){this.J=E},c.ea=function(E,V,ee,Ce){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);V=V?V.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dg.g(),this.v=function Gv(E){return E.h||(E.h=E.i())}(this.o?this.o:dg),this.g.onreadystatechange=et(this.Ea,this);try{this.B=!0,this.g.open(V,String(E),!0),this.B=!1}catch(Ut){return void Li(this,Ut)}if(E=ee||"",ee=new Map(this.headers),Ce)if(Object.getPrototypeOf(Ce)===Object.prototype)for(var It in Ce)ee.set(It,Ce[It]);else{if("function"!=typeof Ce.keys||"function"!=typeof Ce.get)throw Error("Unknown input type for opt_headers: "+String(Ce));for(const Ut of Ce.keys())ee.set(Ut,Ce.get(Ut))}Ce=Array.from(ee.keys()).find(Ut=>"content-type"==Ut.toLowerCase()),It=P.FormData&&E instanceof P.FormData,!(0<=Array.prototype.indexOf.call(il,V,void 0))||Ce||It||ee.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ut,wn]of ee)this.g.setRequestHeader(Ut,wn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zl(this),this.u=!0,this.g.send(E),this.u=!1}catch(Ut){Li(this,Ut)}},c.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,as(this,"complete"),as(this,"abort"),po(this))},c.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),po(this,!0)),gi.aa.N.call(this)},c.Ea=function(){this.s||(this.B||this.u||this.j?Vm(this):this.bb())},c.bb=function(){Vm(this)},c.isActive=function(){return!!this.g},c.Z=function(){try{return 2<Lo(this)?this.g.status:-1}catch{return-1}},c.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},c.Oa=function(E){if(this.g){var V=this.g.responseText;return E&&0==V.indexOf(E)&&(V=V.substring(E.length)),ap(V)}},c.Ba=function(){return this.m},c.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(c=vg.prototype).la=8,c.G=1,c.connect=function(E,V,ee,Ce){_s(0),this.W=E,this.H=V||{},ee&&void 0!==Ce&&(this.H.OSID=ee,this.H.OAID=Ce),this.F=this.X,this.I=$m(this,null,this.W),Um(this)},c.Ga=function(E){if(this.s)if(this.s=null,1==this.G){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const It=new lc(this,this.j,E);let Ut=this.o;if(this.S&&(Ut?(Ut=Ke(Ut),mt(Ut,this.S)):Ut=this.S),null!==this.m||this.O||(It.H=Ut,Ut=null),this.P)e:{for(var V=0,ee=0;ee<this.i.length;ee++){var Ce=this.i[ee];if(void 0===(Ce="__data__"in Ce.map&&"string"==typeof(Ce=Ce.map.__data__)?Ce.length:void 0))break;if(4096<(V+=Ce)){V=ee;break e}if(4096===V||ee===this.i.length-1){V=ee+1;break e}}V=1e3}else V=1e3;V=Jv(this,It,V),at(ee=C(this.I),"RID",E),at(ee,"CVER",22),this.D&&at(ee,"X-HTTP-Session-Id",this.D),gp(this,ee),Ut&&(this.O?V="headers="+encodeURIComponent(String(ni(Ut)))+"&"+V:this.m&&io(ee,this.m,Ut)),Lm(this.h,It),this.Ua&&at(ee,"TYPE","init"),this.P?(at(ee,"$req",V),at(ee,"SID","null"),It.T=!0,Nm(It,ee,null)):Nm(It,ee,V),this.G=2}}else 3==this.G&&(E?Yv(this,E):0==this.i.length||Qv(this.h)||Yv(this))},c.Fa=function(){if(this.u=null,iv(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=Vh(et(this.ab,this),E)}},c.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_s(10),nv(this),iv(this))},c.Za=function(){null!=this.C&&(this.C=null,nv(this),Bm(this),_s(19))},c.fb=function(E){E?(this.j.info("Successfully pinged google.com"),_s(2)):(this.j.info("Failed to ping google.com"),_s(1))},c.isActive=function(){return!!this.l&&this.l.isActive(this)},(c=yg.prototype).ua=function(){},c.ta=function(){},c.sa=function(){},c.ra=function(){},c.isActive=function(){return!0},c.Na=function(){},Gh.prototype.g=function(E,V){return new oa(E,V)},Gt(oa,ss),oa.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},oa.prototype.close=function(){pp(this.g)},oa.prototype.o=function(E){var V=this.g;if("string"==typeof E){var ee={};ee.__data__=E,E=ee}else this.u&&((ee={}).__data__=Nh(E),E=ee);V.i.push(new class{constructor(E,V){this.g=E,this.map=V}}(V.Ya++,E)),3==V.G&&Um(V)},oa.prototype.N=function(){this.g.l=null,delete this.j,pp(this.g),delete this.g,oa.aa.N.call(this)},Gt(ov,lg),Gt(ry,Sm),Gt(mp,yg),mp.prototype.ua=function(){as(this.g,"a")},mp.prototype.ta=function(E){as(this.g,new ov(E))},mp.prototype.sa=function(E){as(this.g,new ry)},mp.prototype.ra=function(){as(this.g,"b")},Gh.prototype.createWebChannel=Gh.prototype.g,oa.prototype.send=oa.prototype.o,oa.prototype.open=oa.prototype.m,oa.prototype.close=oa.prototype.close,Fe=z.createWebChannelTransport=function(){return new Gh},_t=z.getStatEventTarget=function(){return cp()},We=z.Event=Sd,Ye=z.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ug.NO_ERROR=0,ug.TIMEOUT=8,ug.HTTP_ERROR=6,Re=z.ErrorCode=ug,up.COMPLETE="complete",De=z.EventType=up,G_.EventType=Fh,Fh.OPEN="a",Fh.CLOSE="b",Fh.ERROR="c",Fh.MESSAGE="d",ss.prototype.listen=ss.prototype.K,ye=z.WebChannel=G_,be=z.FetchXmlHttpFactory=Pd,gi.prototype.listenOnce=gi.prototype.L,gi.prototype.getLastError=gi.prototype.Ka,gi.prototype.getLastErrorCode=gi.prototype.Ba,gi.prototype.getStatus=gi.prototype.Z,gi.prototype.getResponseJson=gi.prototype.Oa,gi.prototype.getResponseText=gi.prototype.oa,gi.prototype.send=gi.prototype.ea,gi.prototype.setWithCredentials=gi.prototype.Ha,se=z.XhrIo=gi}).apply(typeof q<"u"?q:typeof self<"u"?self:typeof window<"u"?window:{});const Ne="@firebase/firestore";class tt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tt.UNAUTHENTICATED=new tt(null),tt.GOOGLE_CREDENTIALS=new tt("google-credentials-uid"),tt.FIRST_PARTY=new tt("first-party-uid"),tt.MOCK_USER=new tt("mock-user");let Ze="10.12.1";const qe=new Se.Yd("@firebase/firestore");function ht(){return qe.logLevel}function bt(c){qe.setLogLevel(c)}function Ee(c,...e){if(qe.logLevel<=Se.in.DEBUG){const r=e.map(Dn);qe.debug(`Firestore (${Ze}): ${c}`,...r)}}function Nt(c,...e){if(qe.logLevel<=Se.in.ERROR){const r=e.map(Dn);qe.error(`Firestore (${Ze}): ${c}`,...r)}}function Vt(c,...e){if(qe.logLevel<=Se.in.WARN){const r=e.map(Dn);qe.warn(`Firestore (${Ze}): ${c}`,...r)}}function Dn(c){if("string"==typeof c)return c;try{return JSON.stringify(c)}catch{return c}}function wt(c="Unexpected state"){const e=`FIRESTORE (${Ze}) INTERNAL ASSERTION FAILED: `+c;throw Nt(e),new Error(e)}function Qe(c,e){c||wt()}function dt(c,e){c||wt()}function Le(c,e){return c}const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends _e.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ie{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Pe{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class je{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(tt.UNAUTHENTICATED))}shutdown(){}}class ot{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class vt{constructor(e){this.t=e,this.currentUser=tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;let u=this.i;const _=J=>this.i!==u?(u=this.i,r(J)):Promise.resolve();let I=new Ie;this.o=()=>{this.i++,this.currentUser=this.u(),I.resolve(),I=new Ie,e.enqueueRetryable(()=>_(this.currentUser))};const P=()=>{const J=I;e.enqueueRetryable((0,f.Z)(function*(){yield J.promise,yield _(s.currentUser)}))},L=J=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=J,this.auth.addAuthTokenListener(this.o),P()};this.t.onInit(J=>L(J)),setTimeout(()=>{if(!this.auth){const J=this.t.getImmediate({optional:!0});J?L(J):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),I.resolve(),I=new Ie)}},0),P()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe("string"==typeof s.accessToken),new Pe(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Qe(null===e||"string"==typeof e),new tt(e)}}class Bt{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=tt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Zt{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new Bt(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Wt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const s=_=>{null!=_.error&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${_.error.message}`);const I=_.token!==this.R;return this.R=_.token,Ee("FirebaseAppCheckTokenProvider",`Received ${I?"new":"existing"} token.`),I?r(_.token):Promise.resolve()};this.o=_=>{e.enqueueRetryable(()=>s(_))};const u=_=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=_,this.appCheck.addTokenListener(this.o)};this.A.onInit(_=>u(_)),setTimeout(()=>{if(!this.appCheck){const _=this.A.getImmediate({optional:!0});_?u(_):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Qe("string"==typeof r.token),this.R=r.token,new Wt(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Pn(c){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(c);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<c;s++)r[s]=Math.floor(256*Math.random());return r}class On{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=Pn(40);for(let _=0;_<u.length;++_)s.length<20&&u[_]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[_]%62))}return s}}function on(c,e){return c<e?-1:c>e?1:0}function Nn(c,e,r){return c.length===e.length&&c.every((s,u)=>r(s,e[u]))}function mr(c){return c+"\0"}class Yn{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new te(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new te(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new te(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Yn.fromMillis(Date.now())}static fromDate(e){return Yn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new Yn(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?on(this.nanoseconds,e.nanoseconds):on(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Kt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Kt(e)}static min(){return new Kt(new Yn(0,0))}static max(){return new Kt(new Yn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Hr{constructor(e,r,s){void 0===r?r=0:r>e.length&&wt(),void 0===s?s=e.length-r:s>e.length-r&&wt(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===Hr.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Hr?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let u=0;u<s;u++){const _=e.get(u),I=r.get(u);if(_<I)return-1;if(_>I)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class xn extends Hr{construct(e,r,s){return new xn(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new te(we.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(u=>u.length>0))}return new xn(r)}static emptyPath(){return new xn([])}}const Pr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ir extends Hr{construct(e,r,s){return new ir(e,r,s)}static isValidIdentifier(e){return Pr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ir.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ir(["__name__"])}static fromServerFormat(e){const r=[];let s="",u=0;const _=()=>{if(0===s.length)throw new te(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let I=!1;for(;u<e.length;){const P=e[u];if("\\"===P){if(u+1===e.length)throw new te(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const L=e[u+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new te(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=L,u+=2}else"`"===P?(I=!I,u++):"."!==P||I?(s+=P,u++):(_(),u++)}if(_(),I)throw new te(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ir(r)}static emptyPath(){return new ir([])}}class Yt{constructor(e){this.path=e}static fromPath(e){return new Yt(xn.fromString(e))}static fromName(e){return new Yt(xn.fromString(e).popFirst(5))}static empty(){return new Yt(xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===xn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return xn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Yt(new xn(e.slice()))}}class bn{constructor(e,r,s,u){this.indexId=e,this.collectionGroup=r,this.fields=s,this.indexState=u}}function Un(c){return c.fields.find(e=>2===e.kind)}function jn(c){return c.fields.filter(e=>2!==e.kind)}bn.UNKNOWN_ID=-1;class Cr{constructor(e,r){this.fieldPath=e,this.kind=r}}class Wn{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Wn(0,gn.min())}}function Yr(c,e){const r=c.toTimestamp().seconds,s=c.toTimestamp().nanoseconds+1,u=Kt.fromTimestamp(1e9===s?new Yn(r+1,0):new Yn(r,s));return new gn(u,Yt.empty(),e)}function Ei(c){return new gn(c.readTime,c.key,-1)}class gn{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new gn(Kt.min(),Yt.empty(),-1)}static max(){return new gn(Kt.max(),Yt.empty(),-1)}}function Ur(c,e){let r=c.readTime.compareTo(e.readTime);return 0!==r?r:(r=Yt.comparator(c.documentKey,e.documentKey),0!==r?r:on(c.largestBatchId,e.largestBatchId))}const sr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Dr(c){return ii.apply(this,arguments)}function ii(){return(ii=(0,f.Z)(function*(c){if(c.code!==we.FAILED_PRECONDITION||c.message!==sr)throw c;Ee("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class ct{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ct((s,u)=>{this.nextCallback=_=>{this.wrapSuccess(e,_).next(s,u)},this.catchCallback=_=>{this.wrapFailure(r,_).next(s,u)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ct?r:ct.resolve(r)}catch(r){return ct.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ct.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ct.reject(r)}static resolve(e){return new ct((r,s)=>{r(e)})}static reject(e){return new ct((r,s)=>{s(e)})}static waitFor(e){return new ct((r,s)=>{let u=0,_=0,I=!1;e.forEach(P=>{++u,P.next(()=>{++_,I&&_===u&&r()},L=>s(L))}),I=!0,_===u&&r()})}static or(e){let r=ct.resolve(!1);for(const s of e)r=r.next(u=>u?ct.resolve(u):s());return r}static forEach(e,r){const s=[];return e.forEach((u,_)=>{s.push(r.call(this,u,_))}),this.waitFor(s)}static mapArray(e,r){return new ct((s,u)=>{const _=e.length,I=new Array(_);let P=0;for(let L=0;L<_;L++){const J=L;r(e[J]).next(he=>{I[J]=he,++P,P===_&&s(I)},he=>u(he))}})}static doWhile(e,r){return new ct((s,u)=>{const _=()=>{!0===e()?r().next(()=>{_()},u):s()};_()})}}class Dt{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Ie,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new en(e,r.error)):this.V.resolve()},this.transaction.onerror=s=>{const u=ce(s.target.error);this.V.reject(new en(e,u))}}static open(e,r,s,u){try{return new Dt(r,e.transaction(u,s))}catch(_){throw new en(r,_)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ee("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new hi(r)}}class ue{constructor(e,r,s){this.name=e,this.version=r,this.p=s,12.2===ue.S((0,_e.z$)())&&Nt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ee("SimpleDb","Removing database:",e),Tr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,_e.hl)())return!1;if(ue.C())return!0;const e=(0,_e.z$)(),r=ue.S(e),s=0<r&&r<10,u=Be(e),_=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||_)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(e){var r=this;return(0,f.Z)(function*(){return r.db||(Ee("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,u)=>{const _=indexedDB.open(r.name,r.version);_.onsuccess=I=>{s(I.target.result)},_.onblocked=()=>{u(new en(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},_.onerror=I=>{const P=I.target.error;u("VersionError"===P.name?new te(we.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===P.name?new te(we.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+P):new en(e,P))},_.onupgradeneeded=I=>{Ee("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',I.oldVersion),r.p.O(I.target.result,_.transaction,I.oldVersion,r.version).next(()=>{Ee("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=s=>r.N(s)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,s,u){var _=this;return(0,f.Z)(function*(){const I="readonly"===r;let P=0;for(;;){++P;try{_.db=yield _.M(e);const L=Dt.open(_.db,e,I?"readonly":"readwrite",s),J=u(L).next(he=>(L.g(),he)).catch(he=>(L.abort(he),ct.reject(he))).toPromise();return J.catch(()=>{}),yield L.m,J}catch(L){const J=L,he="FirebaseError"!==J.name&&P<3;if(Ee("SimpleDb","Transaction failed with error:",J.message,"Retrying:",he),_.close(),!he)return Promise.reject(J)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Be(c){const e=c.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class xt{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Tr(this.B.delete())}}class en extends te{constructor(e,r){super(we.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Hn(c){return"IndexedDbTransactionError"===c.name}class hi{constructor(e){this.store=e}put(e,r){let s;return void 0!==r?(Ee("SimpleDb","PUT",this.store.name,e,r),s=this.store.put(r,e)):(Ee("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Tr(s)}add(e){return Ee("SimpleDb","ADD",this.store.name,e,e),Tr(this.store.add(e))}get(e){return Tr(this.store.get(e)).next(r=>(void 0===r&&(r=null),Ee("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return Ee("SimpleDb","DELETE",this.store.name,e),Tr(this.store.delete(e))}count(){return Ee("SimpleDb","COUNT",this.store.name),Tr(this.store.count())}U(e,r){const s=this.options(e,r),u=s.index?this.store.index(s.index):this.store;if("function"==typeof u.getAll){const _=u.getAll(s.range);return new ct((I,P)=>{_.onerror=L=>{P(L.target.error)},_.onsuccess=L=>{I(L.target.result)}})}{const _=this.cursor(s),I=[];return this.W(_,(P,L)=>{I.push(L)}).next(()=>I)}}G(e,r){const s=this.store.getAll(e,null===r?void 0:r);return new ct((u,_)=>{s.onerror=I=>{_(I.target.error)},s.onsuccess=I=>{u(I.target.result)}})}j(e,r){Ee("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,r);s.H=!1;const u=this.cursor(s);return this.W(u,(_,I,P)=>P.delete())}J(e,r){let s;r?s=e:(s={},r=e);const u=this.cursor(s);return this.W(u,r)}Y(e){const r=this.cursor({});return new ct((s,u)=>{r.onerror=_=>{const I=ce(_.target.error);u(I)},r.onsuccess=_=>{const I=_.target.result;I?e(I.primaryKey,I.value).next(P=>{P?I.continue():s()}):s()}})}W(e,r){const s=[];return new ct((u,_)=>{e.onerror=I=>{_(I.target.error)},e.onsuccess=I=>{const P=I.target.result;if(!P)return void u();const L=new xt(P),J=r(P.primaryKey,P.value,L);if(J instanceof ct){const he=J.catch(Me=>(L.done(),ct.reject(Me)));s.push(he)}L.isDone?u():null===L.K?P.continue():P.continue(L.K)}}).next(()=>ct.waitFor(s))}options(e,r){let s;return void 0!==e&&("string"==typeof e?s=e:r=e),{index:s,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const s=this.store.index(e.index);return e.H?s.openKeyCursor(e.range,r):s.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Tr(c){return new ct((e,r)=>{c.onsuccess=s=>{e(s.target.result)},c.onerror=s=>{const u=ce(s.target.error);r(u)}})}let Ge=!1;function ce(c){const e=ue.S((0,_e.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(c.message.indexOf(r)>=0){const s=new te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ge||(Ge=!0,setTimeout(()=>{throw s},0)),s}}return c}class Q{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;Ee("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,f.Z)(function*(){r.task=null;try{Ee("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(s){Hn(s)?Ee("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield Dr(s)}yield r.X(6e4)}))}}class H{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,f.Z)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>r.te(s,e))})()}te(e,r){const s=new Set;let u=r,_=!0;return ct.doWhile(()=>!0===_&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(I=>{if(null!==I&&!s.has(I))return Ee("IndexBackfiller",`Processing collection: ${I}`),this.ne(e,I,u).next(P=>{u-=P,s.add(I)});_=!1})).next(()=>r-u)}ne(e,r,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(u=>this.localStore.localDocuments.getNextDocuments(e,r,u,s).next(_=>{const I=_.changes;return this.localStore.indexManager.updateIndexEntries(e,I).next(()=>this.re(u,_)).next(P=>(Ee("IndexBackfiller",`Updating offset: ${P}`),this.localStore.indexManager.updateCollectionGroup(e,r,P))).next(()=>I.size)}))}re(e,r){let s=e;return r.changes.forEach((u,_)=>{const I=Ei(_);Ur(I,s)>0&&(s=I)}),new gn(s.readTime,s.documentKey,Math.max(r.batchId,e.largestBatchId))}}let B=(()=>{class c{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=u=>this.ie(u),this.se=u=>s.writeSequenceNumber(u))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return c.oe=-1,c})();function Te(c){return null==c}function Xe(c){return 0===c&&1/c==-1/0}function kt(c){return"number"==typeof c&&Number.isInteger(c)&&!Xe(c)&&c<=Number.MAX_SAFE_INTEGER&&c>=Number.MIN_SAFE_INTEGER}function $t(c){let e="";for(let r=0;r<c.length;r++)e.length>0&&(e=cn(e)),e=mn(c.get(r),e);return cn(e)}function mn(c,e){let r=e;const s=c.length;for(let u=0;u<s;u++){const _=c.charAt(u);switch(_){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=_}}return r}function cn(c){return c+"\x01\x01"}function fn(c){const e=c.length;if(Qe(e>=2),2===e)return Qe("\x01"===c.charAt(0)&&"\x01"===c.charAt(1)),xn.emptyPath();const r=e-2,s=[];let u="";for(let _=0;_<e;){const I=c.indexOf("\x01",_);switch((I<0||I>r)&&wt(),c.charAt(I+1)){case"\x01":const P=c.substring(_,I);let L;0===u.length?L=P:(u+=P,L=u,u=""),s.push(L);break;case"\x10":u+=c.substring(_,I),u+="\0";break;case"\x11":u+=c.substring(_,I+1);break;default:wt()}_=I+2}return new xn(s)}const Jn=["userId","batchId"];function Je(c,e){return[c,$t(e)]}function He(c,e,r){return[c,$t(e),r]}const nt={},jt=["prefixPath","collectionGroup","readTime","documentId"],Xt=["prefixPath","collectionGroup","documentId"],An=["collectionGroup","readTime","prefixPath","documentId"],ln=["canonicalId","targetId"],fr=["targetId","path"],En=["path","targetId"],yt=["collectionId","parent"],pt=["indexId","uid"],Ft=["uid","sequenceNumber"],un=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ln=["indexId","uid","orderedDocumentKey"],Vn=["userId","collectionPath","documentId"],yn=["userId","collectionPath","largestBatchId"],zn=["userId","collectionGroup","largestBatchId"],Sr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],fi=[...Sr,"documentOverlays"],ei=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ur=ei,Mi=[...ur,"indexConfiguration","indexState","indexEntries"],mi=Mi;class oo extends xr{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function zr(c,e){const r=Le(c);return ue.F(r._e,e)}function Jo(c){let e=0;for(const r in c)Object.prototype.hasOwnProperty.call(c,r)&&e++;return e}function go(c,e){for(const r in c)Object.prototype.hasOwnProperty.call(c,r)&&e(r,c[r])}function Qo(c){for(const e in c)if(Object.prototype.hasOwnProperty.call(c,e))return!1;return!0}class oi{constructor(e,r){this.comparator=e,this.root=r||xi.EMPTY}insert(e,r){return new oi(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,xi.BLACK,null,null))}remove(e){return new oi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xi.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(0===u)return r+s.left.size;u<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Aa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Aa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Aa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Aa(this.root,e,this.comparator,!0)}}class Aa{constructor(e,r,s,u){this.isReverse=u,this.nodeStack=[];let _=1;for(;!e.isEmpty();)if(_=r?s(e.key,r):1,r&&u&&(_*=-1),_<0)e=this.isReverse?e.left:e.right;else{if(0===_){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xi{constructor(e,r,s,u,_){this.key=e,this.value=r,this.color=s??xi.RED,this.left=u??xi.EMPTY,this.right=_??xi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,u,_){return new xi(e??this.key,r??this.value,s??this.color,u??this.left,_??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let u=this;const _=s(e,u.key);return u=_<0?u.copy(null,null,null,u.left.insert(e,r,s),null):0===_?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(e,r,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return xi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,u=this;if(r(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(e,u.key)){if(u.right.isEmpty())return xi.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wt();const e=this.left.check();if(e!==this.right.check())throw wt();return e+(this.isRed()?0:1)}}xi.EMPTY=null,xi.RED=!0,xi.BLACK=!1,xi.EMPTY=new class{constructor(){this.size=0}get key(){throw wt()}get value(){throw wt()}get color(){throw wt()}get left(){throw wt()}get right(){throw wt()}copy(e,r,s,u,_){return this}insert(e,r,s){return new xi(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jr{constructor(e){this.comparator=e,this.data=new oi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;r(u.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Ns(this.data.getIterator())}getIteratorFrom(e){return new Ns(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof Jr)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,_=s.getNext().key;if(0!==this.comparator(u,_))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Jr(this.comparator);return r.data=e,r}}class Ns{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Vo(c){return c.hasNext()?c.getNext():void 0}class Bi{constructor(e){this.fields=e,e.sort(ir.comparator)}static empty(){return new Bi([])}unionWith(e){let r=new Jr(ir.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new Bi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Nn(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class qi extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Es(){return typeof atob<"u"}class Si{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(u){try{return atob(u)}catch(_){throw typeof DOMException<"u"&&_ instanceof DOMException?new qi("Invalid base64 string: "+_):_}}(e);return new Si(r)}static fromUint8Array(e){const r=function(u){let _="";for(let I=0;I<u.length;++I)_+=String.fromCharCode(u[I]);return _}(e);return new Si(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let u=0;u<r.length;u++)s[u]=r.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return on(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Si.EMPTY_BYTE_STRING=new Si("");const ks=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function To(c){if(Qe(!!c),"string"==typeof c){let e=0;const r=ks.exec(c);if(Qe(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(c);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ai(c.seconds),nanos:Ai(c.nanos)}}function Ai(c){return"number"==typeof c?c:"string"==typeof c?Number(c):0}function mo(c){return"string"==typeof c?Si.fromBase64String(c):Si.fromUint8Array(c)}function $o(c){var e,r;return"server_timestamp"===(null===(r=((null===(e=c?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Xo(c){const e=c.mapValue.fields.__previous_value__;return $o(e)?Xo(e):e}function Xi(c){const e=To(c.mapValue.fields.__local_write_time__.timestampValue);return new Yn(e.seconds,e.nanos)}class us{constructor(e,r,s,u,_,I,P,L,J){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=u,this.ssl=_,this.forceLongPolling=I,this.autoDetectLongPolling=P,this.longPollingOptions=L,this.useFetchStreams=J}}class qn{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new qn("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof qn&&e.projectId===this.projectId&&e.database===this.database}}const Wr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},si={nullValue:"NULL_VALUE"};function ji(c){return"nullValue"in c?0:"booleanValue"in c?1:"integerValue"in c||"doubleValue"in c?2:"timestampValue"in c?3:"stringValue"in c?5:"bytesValue"in c?6:"referenceValue"in c?7:"geoPointValue"in c?8:"arrayValue"in c?9:"mapValue"in c?$o(c)?4:ai(c)?9007199254740991:10:wt()}function Xr(c,e){if(c===e)return!0;const r=ji(c);if(r!==ji(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return c.booleanValue===e.booleanValue;case 4:return Xi(c).isEqual(Xi(e));case 3:return function(u,_){if("string"==typeof u.timestampValue&&"string"==typeof _.timestampValue&&u.timestampValue.length===_.timestampValue.length)return u.timestampValue===_.timestampValue;const I=To(u.timestampValue),P=To(_.timestampValue);return I.seconds===P.seconds&&I.nanos===P.nanos}(c,e);case 5:return c.stringValue===e.stringValue;case 6:return _=e,mo(c.bytesValue).isEqual(mo(_.bytesValue));case 7:return c.referenceValue===e.referenceValue;case 8:return function(u,_){return Ai(u.geoPointValue.latitude)===Ai(_.geoPointValue.latitude)&&Ai(u.geoPointValue.longitude)===Ai(_.geoPointValue.longitude)}(c,e);case 2:return function(u,_){if("integerValue"in u&&"integerValue"in _)return Ai(u.integerValue)===Ai(_.integerValue);if("doubleValue"in u&&"doubleValue"in _){const I=Ai(u.doubleValue),P=Ai(_.doubleValue);return I===P?Xe(I)===Xe(P):isNaN(I)&&isNaN(P)}return!1}(c,e);case 9:return Nn(c.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:return function(u,_){const I=u.mapValue.fields||{},P=_.mapValue.fields||{};if(Jo(I)!==Jo(P))return!1;for(const L in I)if(I.hasOwnProperty(L)&&(void 0===P[L]||!Xr(I[L],P[L])))return!1;return!0}(c,e);default:return wt()}var _}function eo(c,e){return void 0!==(c.values||[]).find(r=>Xr(r,e))}function to(c,e){if(c===e)return 0;const r=ji(c),s=ji(e);if(r!==s)return on(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return on(c.booleanValue,e.booleanValue);case 2:return function(_,I){const P=Ai(_.integerValue||_.doubleValue),L=Ai(I.integerValue||I.doubleValue);return P<L?-1:P>L?1:P===L?0:isNaN(P)?isNaN(L)?0:-1:1}(c,e);case 3:return As(c.timestampValue,e.timestampValue);case 4:return As(Xi(c),Xi(e));case 5:return on(c.stringValue,e.stringValue);case 6:return function(_,I){const P=mo(_),L=mo(I);return P.compareTo(L)}(c.bytesValue,e.bytesValue);case 7:return function(_,I){const P=_.split("/"),L=I.split("/");for(let J=0;J<P.length&&J<L.length;J++){const he=on(P[J],L[J]);if(0!==he)return he}return on(P.length,L.length)}(c.referenceValue,e.referenceValue);case 8:return function(_,I){const P=on(Ai(_.latitude),Ai(I.latitude));return 0!==P?P:on(Ai(_.longitude),Ai(I.longitude))}(c.geoPointValue,e.geoPointValue);case 9:return function(_,I){const P=_.values||[],L=I.values||[];for(let J=0;J<P.length&&J<L.length;++J){const he=to(P[J],L[J]);if(he)return he}return on(P.length,L.length)}(c.arrayValue,e.arrayValue);case 10:return function(_,I){if(_===Wr.mapValue&&I===Wr.mapValue)return 0;if(_===Wr.mapValue)return 1;if(I===Wr.mapValue)return-1;const P=_.fields||{},L=Object.keys(P),J=I.fields||{},he=Object.keys(J);L.sort(),he.sort();for(let Me=0;Me<L.length&&Me<he.length;++Me){const et=on(L[Me],he[Me]);if(0!==et)return et;const Ct=to(P[L[Me]],J[he[Me]]);if(0!==Ct)return Ct}return on(L.length,he.length)}(c.mapValue,e.mapValue);default:throw wt()}}function As(c,e){if("string"==typeof c&&"string"==typeof e&&c.length===e.length)return on(c,e);const r=To(c),s=To(e),u=on(r.seconds,s.seconds);return 0!==u?u:on(r.nanos,s.nanos)}function _o(c){return Uo(c)}function Uo(c){return"nullValue"in c?"null":"booleanValue"in c?""+c.booleanValue:"integerValue"in c?""+c.integerValue:"doubleValue"in c?""+c.doubleValue:"timestampValue"in c?function(r){const s=To(r);return`time(${s.seconds},${s.nanos})`}(c.timestampValue):"stringValue"in c?c.stringValue:"bytesValue"in c?mo(c.bytesValue).toBase64():"referenceValue"in c?Yt.fromName(c.referenceValue).toString():"geoPointValue"in c?function(r){return`geo(${r.latitude},${r.longitude})`}(c.geoPointValue):"arrayValue"in c?function(r){let s="[",u=!0;for(const _ of r.values||[])u?u=!1:s+=",",s+=Uo(_);return s+"]"}(c.arrayValue):"mapValue"in c?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",_=!0;for(const I of s)_?_=!1:u+=",",u+=`${I}:${Uo(r.fields[I])}`;return u+"}"}(c.mapValue):wt()}function _n(c,e){return{referenceValue:`projects/${c.projectId}/databases/${c.database}/documents/${e.path.canonicalString()}`}}function Xn(c){return!!c&&"integerValue"in c}function Rr(c){return!!c&&"arrayValue"in c}function Ri(c){return!!c&&"nullValue"in c}function Hi(c){return!!c&&"doubleValue"in c&&isNaN(Number(c.doubleValue))}function ci(c){return!!c&&"mapValue"in c}function wo(c){if(c.geoPointValue)return{geoPointValue:Object.assign({},c.geoPointValue)};if(c.timestampValue&&"object"==typeof c.timestampValue)return{timestampValue:Object.assign({},c.timestampValue)};if(c.mapValue){const e={mapValue:{fields:{}}};return go(c.mapValue.fields,(r,s)=>e.mapValue.fields[r]=wo(s)),e}if(c.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(c.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=wo(c.arrayValue.values[r]);return e}return Object.assign({},c)}function ai(c){return"__max__"===(((c.mapValue||{}).fields||{}).__type__||{}).stringValue}function no(c){return"nullValue"in c?si:"booleanValue"in c?{booleanValue:!1}:"integerValue"in c||"doubleValue"in c?{doubleValue:NaN}:"timestampValue"in c?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in c?{stringValue:""}:"bytesValue"in c?{bytesValue:""}:"referenceValue"in c?_n(qn.empty(),Yt.empty()):"geoPointValue"in c?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in c?{arrayValue:{}}:"mapValue"in c?{mapValue:{}}:wt()}function vo(c){return"nullValue"in c?{booleanValue:!1}:"booleanValue"in c?{doubleValue:NaN}:"integerValue"in c||"doubleValue"in c?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in c?{stringValue:""}:"stringValue"in c?{bytesValue:""}:"bytesValue"in c?_n(qn.empty(),Yt.empty()):"referenceValue"in c?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in c?{arrayValue:{}}:"arrayValue"in c?{mapValue:{}}:"mapValue"in c?Wr:wt()}function nr(c,e){const r=to(c.value,e.value);return 0!==r?r:c.inclusive&&!e.inclusive?-1:!c.inclusive&&e.inclusive?1:0}function Do(c,e){const r=to(c.value,e.value);return 0!==r?r:c.inclusive&&!e.inclusive?1:!c.inclusive&&e.inclusive?-1:0}class li{constructor(e){this.value=e}static empty(){return new li({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!ci(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=wo(r)}setAll(e){let r=ir.emptyPath(),s={},u=[];e.forEach((I,P)=>{if(!r.isImmediateParentOf(P)){const L=this.getFieldsMap(r);this.applyChanges(L,s,u),s={},u=[],r=P.popLast()}I?s[P.lastSegment()]=wo(I):u.push(P.lastSegment())});const _=this.getFieldsMap(r);this.applyChanges(_,s,u)}delete(e){const r=this.field(e.popLast());ci(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=r.mapValue.fields[e.get(s)];ci(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=u),r=u}return r.mapValue.fields}applyChanges(e,r,s){go(r,(u,_)=>e[u]=_);for(const u of s)delete e[u]}clone(){return new li(wo(this.value))}}function re(c){const e=[];return go(c.fields,(r,s)=>{const u=new ir([r]);if(ci(s)){const _=re(s.mapValue).fields;if(0===_.length)e.push(u);else for(const I of _)e.push(u.child(I))}else e.push(u)}),new Bi(e)}class Y{constructor(e,r,s,u,_,I,P){this.key=e,this.documentType=r,this.version=s,this.readTime=u,this.createTime=_,this.data=I,this.documentState=P}static newInvalidDocument(e){return new Y(e,0,Kt.min(),Kt.min(),Kt.min(),li.empty(),0)}static newFoundDocument(e,r,s,u){return new Y(e,1,r,Kt.min(),s,u,0)}static newNoDocument(e,r){return new Y(e,2,r,Kt.min(),Kt.min(),li.empty(),0)}static newUnknownDocument(e,r){return new Y(e,3,r,Kt.min(),Kt.min(),li.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Kt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=li.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Kt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Y&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Y(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ke{constructor(e,r){this.position=e,this.inclusive=r}}function $e(c,e,r){let s=0;for(let u=0;u<c.position.length;u++){const _=e[u],I=c.position[u];if(s=_.field.isKeyField()?Yt.comparator(Yt.fromName(I.referenceValue),r.key):to(I,r.data.field(_.field)),"desc"===_.dir&&(s*=-1),0!==s)break}return s}function ft(c,e){if(null===c)return null===e;if(null===e||c.inclusive!==e.inclusive||c.position.length!==e.position.length)return!1;for(let r=0;r<c.position.length;r++)if(!Xr(c.position[r],e.position[r]))return!1;return!0}class Lt{constructor(e,r="asc"){this.field=e,this.dir=r}}function pn(c,e){return c.dir===e.dir&&c.field.isEqual(e.field)}class Sn{}class Qt extends Sn{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new ao(e,r,s):"array-contains"===r?new bi(e,s):"in"===r?new ds(e,s):"not-in"===r?new ro(e,s):"array-contains-any"===r?new Mo(e,s):new Qt(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new yr(e,s):new Pi(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(to(r,this.value)):null!==r&&ji(this.value)===ji(r)&&this.matchesComparison(to(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return wt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class In extends Sn{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new In(e,r)}matches(e){return _r(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function _r(c){return"and"===c.op}function Bn(c){return"or"===c.op}function Ii(c){return Zr(c)&&_r(c)}function Zr(c){for(const e of c.filters)if(e instanceof In)return!1;return!0}function Or(c){if(c instanceof Qt)return c.field.canonicalString()+c.op.toString()+_o(c.value);if(Ii(c))return c.filters.map(e=>Or(e)).join(",");{const e=c.filters.map(r=>Or(r)).join(",");return`${c.op}(${e})`}}function _i(c,e){return c instanceof Qt?(s=c,(u=e)instanceof Qt&&s.op===u.op&&s.field.isEqual(u.field)&&Xr(s.value,u.value)):c instanceof In?function(s,u){return u instanceof In&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((_,I,P)=>_&&_i(I,u.filters[P]),!0)}(c,e):void wt();var s,u}function Br(c,e){const r=c.filters.concat(e);return In.create(r,c.op)}function so(c){return c instanceof Qt?`${(r=c).field.canonicalString()} ${r.op} ${_o(r.value)}`:c instanceof In?function(r){return r.op.toString()+" {"+r.getFilters().map(so).join(" ,")+"}"}(c):"Filter";var r}class ao extends Qt{constructor(e,r,s){super(e,r,s),this.key=Yt.fromName(s.referenceValue)}matches(e){const r=Yt.comparator(e.key,this.key);return this.matchesComparison(r)}}class yr extends Qt{constructor(e,r){super(e,"in",r),this.keys=Qr(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Pi extends Qt{constructor(e,r){super(e,"not-in",r),this.keys=Qr(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Qr(c,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>Yt.fromName(s.referenceValue))}class bi extends Qt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Rr(r)&&eo(r.arrayValue,this.value)}}class ds extends Qt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&eo(this.value.arrayValue,r)}}class ro extends Qt{constructor(e,r){super(e,"not-in",r)}matches(e){if(eo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!eo(this.value.arrayValue,r)}}class Mo extends Qt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Rr(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>eo(this.value.arrayValue,s))}}class Gi{constructor(e,r=null,s=[],u=[],_=null,I=null,P=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=u,this.limit=_,this.startAt=I,this.endAt=P,this.ue=null}}function Ia(c,e=null,r=[],s=[],u=null,_=null,I=null){return new Gi(c,e,r,s,u,_,I)}function Po(c){const e=Le(c);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>Or(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(_=s).field.canonicalString()+_.dir;var _}).join(","),Te(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>_o(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>_o(s)).join(",")),e.ue=r}return e.ue}function Is(c,e){if(c.limit!==e.limit||c.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<c.orderBy.length;r++)if(!pn(c.orderBy[r],e.orderBy[r]))return!1;if(c.filters.length!==e.filters.length)return!1;for(let r=0;r<c.filters.length;r++)if(!_i(c.filters[r],e.filters[r]))return!1;return c.collectionGroup===e.collectionGroup&&!!c.path.isEqual(e.path)&&!!ft(c.startAt,e.startAt)&&ft(c.endAt,e.endAt)}function za(c){return Yt.isDocumentKey(c.path)&&null===c.collectionGroup&&0===c.filters.length}function Fs(c,e){return c.filters.filter(r=>r instanceof Qt&&r.field.isEqual(e))}function K(c,e,r){let s=si,u=!0;for(const _ of Fs(c,e)){let I=si,P=!0;switch(_.op){case"<":case"<=":I=no(_.value);break;case"==":case"in":case">=":I=_.value;break;case">":I=_.value,P=!1;break;case"!=":case"not-in":I=si}nr({value:s,inclusive:u},{value:I,inclusive:P})<0&&(s=I,u=P)}if(null!==r)for(let _=0;_<c.orderBy.length;++_)if(c.orderBy[_].field.isEqual(e)){const I=r.position[_];nr({value:s,inclusive:u},{value:I,inclusive:r.inclusive})<0&&(s=I,u=r.inclusive);break}return{value:s,inclusive:u}}function ie(c,e,r){let s=Wr,u=!0;for(const _ of Fs(c,e)){let I=Wr,P=!0;switch(_.op){case">=":case">":I=vo(_.value),P=!1;break;case"==":case"in":case"<=":I=_.value;break;case"<":I=_.value,P=!1;break;case"!=":case"not-in":I=Wr}Do({value:s,inclusive:u},{value:I,inclusive:P})>0&&(s=I,u=P)}if(null!==r)for(let _=0;_<c.orderBy.length;++_)if(c.orderBy[_].field.isEqual(e)){const I=r.position[_];Do({value:s,inclusive:u},{value:I,inclusive:r.inclusive})>0&&(s=I,u=r.inclusive);break}return{value:s,inclusive:u}}class F{constructor(e,r=null,s=[],u=[],_=null,I="F",P=null,L=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=u,this.limit=_,this.limitType=I,this.startAt=P,this.endAt=L,this.ce=null,this.le=null,this.he=null}}function ge(c,e,r,s,u,_,I,P){return new F(c,e,r,s,u,_,I,P)}function ze(c){return new F(c)}function kn(c){return 0===c.filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())}function vr(c){return null!==c.collectionGroup}function co(c){const e=Le(c);if(null===e.ce){e.ce=[];const r=new Set;for(const _ of e.explicitOrderBy)e.ce.push(_),r.add(_.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(I){let P=new Jr(ir.comparator);return I.filters.forEach(L=>{L.getFlattenedFilters().forEach(J=>{J.isInequality()&&(P=P.add(J.field))})}),P})(e).forEach(_=>{r.has(_.canonicalString())||_.isKeyField()||e.ce.push(new Lt(_,s))}),r.has(ir.keyField().canonicalString())||e.ce.push(new Lt(ir.keyField(),s))}return e.ce}function vi(c){const e=Le(c);return e.le||(e.le=function ql(c,e){if("F"===c.limitType)return Ia(c.path,c.collectionGroup,e,c.filters,c.limit,c.startAt,c.endAt);{e=e.map(u=>new Lt(u.field,"desc"===u.dir?"asc":"desc"));const r=c.endAt?new ke(c.endAt.position,c.endAt.inclusive):null,s=c.startAt?new ke(c.startAt.position,c.startAt.inclusive):null;return Ia(c.path,c.collectionGroup,e,c.filters,c.limit,r,s)}}(e,co(c))),e.le}function gc(c,e){const r=c.filters.concat([e]);return new F(c.path,c.collectionGroup,c.explicitOrderBy.slice(),r,c.limit,c.limitType,c.startAt,c.endAt)}function $a(c,e,r){return new F(c.path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),e,r,c.startAt,c.endAt)}function Ca(c,e){return Is(vi(c),vi(e))&&c.limitType===e.limitType}function mc(c){return`${Po(vi(c))}|lt:${c.limitType}`}function Ta(c){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(u=>so(u)).join(", ")}]`),Te(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(u=>{return`${(I=u).field.canonicalString()} (${I.dir})`;var I}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(u=>_o(u)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(u=>_o(u)).join(",")),`Target(${s})`}(vi(c))}; limitType=${c.limitType})`}function sa(c,e){return e.isFoundDocument()&&function(s,u){const _=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(_):Yt.isDocumentKey(s.path)?s.path.isEqual(_):s.path.isImmediateParentOf(_)}(c,e)&&function(s,u){for(const _ of co(s))if(!_.field.isKeyField()&&null===u.data.field(_.field))return!1;return!0}(c,e)&&function(s,u){for(const _ of s.filters)if(!_.matches(u))return!1;return!0}(c,e)&&(u=e,!((s=c).startAt&&!function(I,P,L){const J=$e(I,P,L);return I.inclusive?J<=0:J<0}(s.startAt,co(s),u)||s.endAt&&!function(I,P,L){const J=$e(I,P,L);return I.inclusive?J>=0:J>0}(s.endAt,co(s),u)));var s,u}function _c(c){return c.collectionGroup||(c.path.length%2==1?c.path.lastSegment():c.path.get(c.path.length-2))}function es(c){return(e,r)=>{let s=!1;for(const u of co(c)){const _=ts(u,e,r);if(0!==_)return _;s=s||u.field.isKeyField()}return 0}}function ts(c,e,r){const s=c.field.isKeyField()?Yt.comparator(e.key,r.key):function(_,I,P){const L=I.data.field(_),J=P.data.field(_);return null!==L&&null!==J?to(L,J):wt()}(c.field,e,r);switch(c.dir){case"asc":return s;case"desc":return-1*s;default:return wt()}}class yo{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[u,_]of s)if(this.equalsFn(u,e))return _}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),u=this.inner[s];if(void 0===u)return this.inner[s]=[[e,r]],void this.innerSize++;for(let _=0;_<u.length;_++)if(this.equalsFn(u[_][0],e))return void(u[_]=[e,r]);u.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return 1===s.length?delete this.inner[r]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){go(this.inner,(r,s)=>{for(const[u,_]of s)e(u,_)})}isEmpty(){return Qo(this.inner)}size(){return this.innerSize}}const Tu=new oi(Yt.comparator);function Vr(){return Tu}const aa=new oi(Yt.comparator);function zi(...c){let e=aa;for(const r of c)e=e.insert(r.key,r);return e}function vc(c){let e=aa;return c.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function xo(){return bs()}function hs(){return bs()}function bs(){return new yo(c=>c.toString(),(c,e)=>c.isEqual(e))}const wa=new oi(Yt.comparator),Da=new Jr(Yt.comparator);function pr(...c){let e=Da;for(const r of c)e=e.add(r);return e}const yc=new Jr(on);function ol(){return yc}function Ec(c,e){if(c.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xe(e)?"-0":e}}function ca(c){return{integerValue:""+c}}function Ls(c,e){return kt(e)?ca(e):Ec(c,e)}class Vs{constructor(){this._=void 0}}function la(c,e,r){return c instanceof Ac?function(u,_){const I={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return _&&$o(_)&&(_=Xo(_)),_&&(I.fields.__previous_value__=_),{mapValue:I}}(r,e):c instanceof Us?Od(c,e):c instanceof Cs?cl(c,e):function(u,_){const I=al(u,_),P=Za(I)+Za(u.Pe);return Xn(I)&&Xn(u.Pe)?ca(P):Ec(u.serializer,P)}(c,e)}function sl(c,e,r){return c instanceof Us?Od(c,e):c instanceof Cs?cl(c,e):r}function al(c,e){return c instanceof Sa?Xn(s=e)||(_=s)&&"doubleValue"in _?e:{integerValue:0}:null;var s,_}class Ac extends Vs{}class Us extends Vs{constructor(e){super(),this.elements=e}}function Od(c,e){const r=Gl(e);for(const s of c.elements)r.some(u=>Xr(u,s))||r.push(s);return{arrayValue:{values:r}}}class Cs extends Vs{constructor(e){super(),this.elements=e}}function cl(c,e){let r=Gl(e);for(const s of c.elements)r=r.filter(u=>!Xr(u,s));return{arrayValue:{values:r}}}class Sa extends Vs{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Za(c){return Ai(c.integerValue||c.doubleValue)}function Gl(c){return Rr(c)&&c.arrayValue.values?c.arrayValue.values.slice():[]}class ua{constructor(e,r){this.field=e,this.transform=r}}class ll{constructor(e,r){this.version=e,this.transformResults=r}}class Ci{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Ci}static exists(e){return new Ci(void 0,e)}static updateTime(e){return new Ci(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function x(c,e){return void 0!==c.updateTime?e.isFoundDocument()&&e.version.isEqual(c.updateTime):void 0===c.exists||c.exists===e.isFoundDocument()}class oe{}function j(c,e){if(!c.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return c.isNoDocument()?new pi(c.key,Ci.none()):new Mn(c.key,c.data,Ci.none());{const r=c.data,s=li.empty();let u=new Jr(ir.comparator);for(let _ of e.fields)if(!u.has(_)){let I=r.field(_);null===I&&_.length>1&&(_=_.popLast(),I=r.field(_)),null===I?s.delete(_):s.set(_,I),u=u.add(_)}return new Lr(c.key,s,new Bi(u.toArray()),Ci.none())}}function ne(c,e,r){c instanceof Mn?function(u,_,I){const P=u.value.clone(),L=ti(u.fieldTransforms,_,I.transformResults);P.setAll(L),_.convertToFoundDocument(I.version,P).setHasCommittedMutations()}(c,e,r):c instanceof Lr?function(u,_,I){if(!x(u.precondition,_))return void _.convertToUnknownDocument(I.version);const P=ti(u.fieldTransforms,_,I.transformResults),L=_.data;L.setAll(ui(u)),L.setAll(P),_.convertToFoundDocument(I.version,L).setHasCommittedMutations()}(c,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Ue(c,e,r,s){return c instanceof Mn?function(_,I,P,L){if(!x(_.precondition,I))return P;const J=_.value.clone(),he=Ir(_.fieldTransforms,L,I);return J.setAll(he),I.convertToFoundDocument(I.version,J).setHasLocalMutations(),null}(c,e,r,s):c instanceof Lr?function(_,I,P,L){if(!x(_.precondition,I))return P;const J=Ir(_.fieldTransforms,L,I),he=I.data;return he.setAll(ui(_)),he.setAll(J),I.convertToFoundDocument(I.version,he).setHasLocalMutations(),null===P?null:P.unionWith(_.fieldMask.fields).unionWith(_.fieldTransforms.map(Me=>Me.field))}(c,e,r,s):(P=r,x(c.precondition,I=e)?(I.convertToNoDocument(I.version).setHasLocalMutations(),null):P);var I,P}function Ot(c,e){let r=null;for(const s of c.fieldTransforms){const u=e.data.field(s.field),_=al(s.transform,u||null);null!=_&&(null===r&&(r=li.empty()),r.set(s.field,_))}return r||null}function Ht(c,e){return c.type===e.type&&!!c.key.isEqual(e.key)&&!!c.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(s=c.fieldTransforms)&&void 0===u||s&&u&&Nn(s,u,(_,I)=>function Ts(c,e){return c.field.isEqual(e.field)&&(u=e.transform,(s=c.transform)instanceof Us&&u instanceof Us||s instanceof Cs&&u instanceof Cs?Nn(s.elements,u.elements,Xr):s instanceof Sa&&u instanceof Sa?Xr(s.Pe,u.Pe):s instanceof Ac&&u instanceof Ac);var s,u}(_,I))))&&(0===c.type?c.value.isEqual(e.value):1!==c.type||c.data.isEqual(e.data)&&c.fieldMask.isEqual(e.fieldMask));var s,u}class Mn extends oe{constructor(e,r,s,u=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Lr extends oe{constructor(e,r,s,u,_=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=u,this.fieldTransforms=_,this.type=1}getFieldMask(){return this.fieldMask}}function ui(c){const e=new Map;return c.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=c.data.field(r);e.set(r,s)}}),e}function ti(c,e,r){const s=new Map;Qe(c.length===r.length);for(let u=0;u<r.length;u++){const _=c[u],I=_.transform,P=e.data.field(_.field);s.set(_.field,sl(I,P,r[u]))}return s}function Ir(c,e,r){const s=new Map;for(const u of c){const _=u.transform,I=r.data.field(u.field);s.set(u.field,la(_,I,e))}return s}class pi extends oe{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Kr extends oe{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Wi{constructor(e,r,s,u){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const _=this.mutations[u];_.key.isEqual(e.key)&&ne(_,e,s[u])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=Ue(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=Ue(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=hs();return this.mutations.forEach(u=>{const _=e.get(u.key),I=_.overlayedDocument;let P=this.applyToLocalView(I,_.mutatedFields);P=r.has(u.key)?null:P;const L=j(I,P);null!==L&&s.set(u.key,L),I.isValidDocument()||I.convertToNoDocument(Kt.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),pr())}isEqual(e){return this.batchId===e.batchId&&Nn(this.mutations,e.mutations,(r,s)=>Ht(r,s))&&Nn(this.baseMutations,e.baseMutations,(r,s)=>Ht(r,s))}}class So{constructor(e,r,s,u){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=u}static from(e,r,s){Qe(e.mutations.length===s.length);let u=wa;const _=e.mutations;for(let I=0;I<_.length;I++)u=u.insert(_[I].key,s[I].version);return new So(e,r,s,u)}}class Eo{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Zo{constructor(e,r){this.count=e,this.unchangedNames=r}}var Ti,cr;function qo(c){switch(c){default:return wt();case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0}}function Bo(c){if(void 0===c)return Nt("GRPC error has no .code"),we.UNKNOWN;switch(c){case Ti.OK:return we.OK;case Ti.CANCELLED:return we.CANCELLED;case Ti.UNKNOWN:return we.UNKNOWN;case Ti.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case Ti.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case Ti.INTERNAL:return we.INTERNAL;case Ti.UNAVAILABLE:return we.UNAVAILABLE;case Ti.UNAUTHENTICATED:return we.UNAUTHENTICATED;case Ti.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case Ti.NOT_FOUND:return we.NOT_FOUND;case Ti.ALREADY_EXISTS:return we.ALREADY_EXISTS;case Ti.PERMISSION_DENIED:return we.PERMISSION_DENIED;case Ti.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case Ti.ABORTED:return we.ABORTED;case Ti.OUT_OF_RANGE:return we.OUT_OF_RANGE;case Ti.UNIMPLEMENTED:return we.UNIMPLEMENTED;case Ti.DATA_LOSS:return we.DATA_LOSS;default:return wt()}}(cr=Ti||(Ti={}))[cr.OK=0]="OK",cr[cr.CANCELLED=1]="CANCELLED",cr[cr.UNKNOWN=2]="UNKNOWN",cr[cr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cr[cr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cr[cr.NOT_FOUND=5]="NOT_FOUND",cr[cr.ALREADY_EXISTS=6]="ALREADY_EXISTS",cr[cr.PERMISSION_DENIED=7]="PERMISSION_DENIED",cr[cr.UNAUTHENTICATED=16]="UNAUTHENTICATED",cr[cr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cr[cr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cr[cr.ABORTED=10]="ABORTED",cr[cr.OUT_OF_RANGE=11]="OUT_OF_RANGE",cr[cr.UNIMPLEMENTED=12]="UNIMPLEMENTED",cr[cr.INTERNAL=13]="INTERNAL",cr[cr.UNAVAILABLE=14]="UNAVAILABLE",cr[cr.DATA_LOSS=15]="DATA_LOSS";function Ic(){return new TextEncoder}const js=new ae([4294967295,4294967295],0);function Ro(c){const e=Ic().encode(c),r=new ve;return r.update(e),new Uint8Array(r.digest())}function wu(c){const e=new DataView(c.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),_=e.getUint32(12,!0);return[new ae([r,s],0),new ae([u,_],0)]}class bc{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new Hs(`Invalid padding: ${r}`);if(s<0)throw new Hs(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Hs(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new Hs(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=ae.fromNumber(this.Ie)}Ee(e,r,s){let u=e.add(r.multiply(ae.fromNumber(s)));return 1===u.compare(js)&&(u=new ae([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=Ro(e),[s,u]=wu(r);for(let _=0;_<this.hashCount;_++){const I=this.Ee(s,u,_);if(!this.de(I))return!1}return!0}static create(e,r,s){const u=e%8==0?0:8-e%8,_=new Uint8Array(Math.ceil(e/8)),I=new bc(_,u,r);return s.forEach(P=>I.insert(P)),I}insert(e){if(0===this.Ie)return;const r=Ro(e),[s,u]=wu(r);for(let _=0;_<this.hashCount;_++){const I=this.Ee(s,u,_);this.Ae(I)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class Hs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Oo{constructor(e,r,s,u,_){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=_}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const u=new Map;return u.set(e,qa.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new Oo(Kt.min(),u,new oi(on),Vr(),pr())}}class qa{constructor(e,r,s,u,_){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=_}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new qa(s,r,pr(),pr(),pr())}}class Cc{constructor(e,r,s,u){this.Re=e,this.removedTargetIds=r,this.key=s,this.Ve=u}}class Nd{constructor(e,r){this.targetId=e,this.me=r}}class zs{constructor(e,r,s=Si.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=u}}class $s{constructor(){this.fe=0,this.ge=kd(),this.pe=Si.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=pr(),r=pr(),s=pr();return this.ge.forEach((u,_)=>{switch(_){case 0:e=e.add(u);break;case 2:r=r.add(u);break;case 1:s=s.add(u);break;default:wt()}}),new qa(this.pe,this.ye,e,r,s)}ve(){this.we=!1,this.ge=kd()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ws{constructor(e){this.Le=e,this.Be=new Map,this.ke=Vr(),this.qe=Du(),this.Qe=new oi(on)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const s=this.Ge(r);switch(e.state){case 0:this.ze(r)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.ve(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),s.De(e.resumeToken));break;default:wt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((s,u)=>{this.ze(u)&&r(u)})}He(e){const r=e.targetId,s=e.me.count,u=this.Je(r);if(u){const _=u.target;if(za(_))if(0===s){const I=new Yt(_.path);this.Ue(r,I,Y.newNoDocument(I,Kt.min()))}else Qe(1===s);else{const I=this.Ye(r);if(I!==s){const P=this.Ze(e),L=P?this.Xe(P,e,I):1;0!==L&&(this.je(r),this.Qe=this.Qe.insert(r,2===L?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:_=0}=r;let I,P;try{I=mo(s).toUint8Array()}catch(L){if(L instanceof qi)return Vt("Decoding the base64 bloom filter in existence filter failed ("+L.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw L}try{P=new bc(I,u,_)}catch(L){return Vt(L instanceof Hs?"BloomFilter error: ":"Applying bloom filter failed: ",L),null}return 0===P.Ie?null:P}Xe(e,r,s){return r.me.count===s-this.nt(e,r.targetId)?0:2}nt(e,r){const s=this.Le.getRemoteKeysForTarget(r);let u=0;return s.forEach(_=>{const I=this.Le.tt(),P=`projects/${I.projectId}/databases/${I.database}/documents/${_.path.canonicalString()}`;e.mightContain(P)||(this.Ue(r,_,null),u++)}),u}rt(e){const r=new Map;this.Be.forEach((_,I)=>{const P=this.Je(I);if(P){if(_.current&&za(P.target)){const L=new Yt(P.target.path);null!==this.ke.get(L)||this.it(I,L)||this.Ue(I,L,Y.newNoDocument(L,e))}_.be&&(r.set(I,_.Ce()),_.ve())}});let s=pr();this.qe.forEach((_,I)=>{let P=!0;I.forEachWhile(L=>{const J=this.Je(L);return!J||"TargetPurposeLimboResolution"===J.purpose||(P=!1,!1)}),P&&(s=s.add(_))}),this.ke.forEach((_,I)=>I.setReadTime(e));const u=new Oo(e,r,this.Qe,this.ke,s);return this.ke=Vr(),this.qe=Du(),this.Qe=new oi(on),u}$e(e,r){if(!this.ze(e))return;const s=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,s),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,s){if(!this.ze(e))return;const u=this.Ge(e);this.it(e,r)?u.Fe(r,1):u.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),s&&(this.ke=this.ke.insert(r,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new $s,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Jr(on),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||Ee("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new $s),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Du(){return new oi(Yt.comparator)}function kd(){return new oi(Yt.comparator)}const Qh={asc:"ASCENDING",desc:"DESCENDING"},Tg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hr={and:"AND",or:"OR"};class Su{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Tc(c,e){return c.useProto3Json||Te(e)?e:{value:e}}function Ma(c,e){return c.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fd(c,e){return c.useProto3Json?e.toBase64():e.toUint8Array()}function Mu(c,e){return Ma(c,e.toTimestamp())}function Vi(c){return Qe(!!c),Kt.fromTimestamp(function(r){const s=To(r);return new Yn(s.seconds,s.nanos)}(c))}function Pa(c,e){return Ld(c,e).canonicalString()}function Ld(c,e){const r=(u=c,new xn(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===e?r:r.child(e)}function Kh(c){const e=xn.fromString(c);return Qe(Ve(e)),e}function Pu(c,e){return Pa(c.databaseId,e.path)}function Ds(c,e){const r=Kh(e);if(r.get(1)!==c.databaseId.projectId)throw new te(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+c.databaseId.projectId);if(r.get(3)!==c.databaseId.database)throw new te(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+c.databaseId.database);return new Yt(xu(r))}function Ep(c,e){return Pa(c.databaseId,e)}function qt(c){const e=Kh(c);return 4===e.length?xn.emptyPath():xu(e)}function qr(c){return new xn(["projects",c.databaseId.projectId,"databases",c.databaseId.database]).canonicalString()}function xu(c){return Qe(c.length>4&&"documents"===c.get(4)),c.popFirst(5)}function Ga(c,e,r){return{name:Pu(c,e),fields:r.value.mapValue.fields}}function Ao(c,e,r){const s=Ds(c,e.name),u=Vi(e.updateTime),_=e.createTime?Vi(e.createTime):Kt.min(),I=new li({mapValue:{fields:e.fields}}),P=Y.newFoundDocument(s,u,_,I);return r&&P.setHasCommittedMutations(),r?P.setHasCommittedMutations():P}function No(c,e){let r;if(e instanceof Mn)r={update:Ga(c,e.key,e.value)};else if(e instanceof pi)r={delete:Pu(c,e.key)};else if(e instanceof Lr)r={update:Ga(c,e.key,e.data),updateMask:pe(e.fieldMask)};else{if(!(e instanceof Kr))return wt();r={verify:Pu(c,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(_,I){const P=I.transform;if(P instanceof Ac)return{fieldPath:I.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(P instanceof Us)return{fieldPath:I.field.canonicalString(),appendMissingElements:{values:P.elements}};if(P instanceof Cs)return{fieldPath:I.field.canonicalString(),removeAllFromArray:{values:P.elements}};if(P instanceof Sa)return{fieldPath:I.field.canonicalString(),increment:P.Pe};throw wt()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(_=e.precondition).updateTime?{updateTime:Mu(c,_.updateTime)}:void 0!==_.exists?{exists:_.exists}:wt()),r;var _}function Dc(c,e){const r=e.currentDocument?void 0!==(_=e.currentDocument).updateTime?Ci.updateTime(Vi(_.updateTime)):void 0!==_.exists?Ci.exists(_.exists):Ci.none():Ci.none(),s=e.updateTransforms?e.updateTransforms.map(u=>function(I,P){let L=null;"setToServerValue"in P?(Qe("REQUEST_TIME"===P.setToServerValue),L=new Ac):"appendMissingElements"in P?L=new Us(P.appendMissingElements.values||[]):"removeAllFromArray"in P?L=new Cs(P.removeAllFromArray.values||[]):"increment"in P?L=new Sa(I,P.increment):wt();const J=ir.fromServerFormat(P.fieldPath);return new ua(J,L)}(c,u)):[];var _;if(e.update){const u=Ds(c,e.update.name),_=new li({mapValue:{fields:e.update.fields}});if(e.updateMask){const I=new Bi((e.updateMask.fieldPaths||[]).map(he=>ir.fromServerFormat(he)));return new Lr(u,_,I,r,s)}return new Mn(u,_,r,s)}if(e.delete){const u=Ds(c,e.delete);return new pi(u,r)}if(e.verify){const u=Ds(c,e.verify);return new Kr(u,r)}return wt()}function Vd(c,e){return{documents:[Ep(c,e.path)]}}function Ud(c,e){const r={structuredQuery:{}},s=e.path;let u;null!==e.collectionGroup?(u=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=Ep(c,u);const _=function(J){if(0!==J.length)return W(In.create(J,"and"))}(e.filters);_&&(r.structuredQuery.where=_);const I=function(J){if(0!==J.length)return J.map(he=>{return{field:w((et=he).field),direction:da(et.dir)};var et})}(e.orderBy);I&&(r.structuredQuery.orderBy=I);const P=Tc(c,e.limit);return null!==P&&(r.structuredQuery.limit=P),e.startAt&&(r.structuredQuery.startAt={before:(J=e.startAt).inclusive,values:J.position}),e.endAt&&(r.structuredQuery.endAt=function(J){return{before:!J.inclusive,values:J.position}}(e.endAt)),{_t:r,parent:u};var J}function Go(c){let e=qt(c.parent);const r=c.structuredQuery,s=r.from?r.from.length:0;let u=null;if(s>0){Qe(1===s);const he=r.from[0];he.allDescendants?u=he.collectionId:e=e.child(he.collectionId)}let _=[];r.where&&(_=function(Me){const et=Ou(Me);return et instanceof In&&Ii(et)?et.getFilters():[et]}(r.where));let I=[];r.orderBy&&(I=r.orderBy.map(et=>{return new Lt(N((Gt=et).field),function(nn){switch(nn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Gt.direction));var Gt}));let P=null;r.limit&&(P=function(Me){let et;return et="object"==typeof Me?Me.value:Me,Te(et)?null:et}(r.limit));let L=null;var Me;r.startAt&&(L=new ke((Me=r.startAt).values||[],!!Me.before));let J=null;return r.endAt&&(J=function(Me){return new ke(Me.values||[],!Me.before)}(r.endAt)),ge(e,u,I,_,P,"F",L,J)}function Ou(c){return void 0!==c.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=N(r.unaryFilter.field);return Qt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=N(r.unaryFilter.field);return Qt.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const _=N(r.unaryFilter.field);return Qt.create(_,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const I=N(r.unaryFilter.field);return Qt.create(I,"!=",{nullValue:"NULL_VALUE"});default:return wt()}}(c):void 0!==c.fieldFilter?Qt.create(N((r=c).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wt()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==c.compositeFilter?function(r){return In.create(r.compositeFilter.filters.map(s=>Ou(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return wt()}}(r.compositeFilter.op))}(c):wt();var r}function da(c){return Qh[c]}function S(c){return Tg[c]}function O(c){return hr[c]}function w(c){return{fieldPath:c.canonicalString()}}function N(c){return ir.fromServerFormat(c.fieldPath)}function W(c){return c instanceof Qt?function(r){if("=="===r.op){if(Hi(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NAN"}};if(Ri(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Hi(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NOT_NAN"}};if(Ri(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:w(r.field),op:S(r.op),value:r.value}}}(c):c instanceof In?function(r){const s=r.getFilters().map(u=>W(u));return 1===s.length?s[0]:{compositeFilter:{op:O(r.op),filters:s}}}(c):wt()}function pe(c){const e=[];return c.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Ve(c){return c.length>=4&&"projects"===c.get(0)&&"databases"===c.get(2)}class St{constructor(e,r,s,u,_=Kt.min(),I=Kt.min(),P=Si.EMPTY_BYTE_STRING,L=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=_,this.lastLimboFreeSnapshotVersion=I,this.resumeToken=P,this.expectedCount=L}withSequenceNumber(e){return new St(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new St(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new St(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new St(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Mt{constructor(e){this.ct=e}}function wr(c,e){const r=e.key,s={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:di(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Pu(_=c.ct,(I=e).key),fields:I.data.value.mapValue.fields,updateTime:Ma(_,I.version.toTimestamp()),createTime:Ma(_,I.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:r.path.toArray(),readTime:br(e.version)};else{if(!e.isUnknownDocument())return wt();s.unknownDocument={path:r.path.toArray(),version:br(e.version)}}var _,I;return s}function di(c){const e=c.toTimestamp();return[e.seconds,e.nanoseconds]}function br(c){const e=c.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ko(c){const e=new Yn(c.seconds,c.nanoseconds);return Kt.fromTimestamp(e)}function ns(c,e){const r=(e.baseMutations||[]).map(_=>Dc(c.ct,_));for(let _=0;_<e.mutations.length-1;++_)_+1<e.mutations.length&&void 0!==e.mutations[_+1].transform&&(e.mutations[_].updateTransforms=e.mutations[_+1].transform.fieldTransforms,e.mutations.splice(_+1,1),++_);const s=e.mutations.map(_=>Dc(c.ct,_)),u=Yn.fromMillis(e.localWriteTimeMs);return new Wi(e.batchId,u,r,s)}function Ms(c){const e=ko(c.readTime),r=void 0!==c.lastLimboFreeSnapshotVersion?ko(c.lastLimboFreeSnapshotVersion):Kt.min();let s;return s=void 0!==c.query.documents?(Qe(1===(_=c.query).documents.length),vi(ze(qt(_.documents[0])))):function(_){return vi(Go(_))}(c.query),new St(s,c.targetId,"TargetPurposeListen",c.lastListenSequenceNumber,e,r,Si.fromBase64String(c.resumeToken));var _}function ha(c,e){const r=br(e.snapshotVersion),s=br(e.lastLimboFreeSnapshotVersion);let u;u=za(e.target)?Vd(c.ct,e.target):Ud(c.ct,e.target)._t;const _=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Po(e.target),readTime:r,resumeToken:_,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function Ps(c){const e=Go({parent:c.parent,structuredQuery:c.structuredQuery});return"LAST"===c.limitType?$a(e,e.limit,"L"):e}function Qa(c,e){return new Eo(e.largestBatchId,Dc(c.ct,e.overlayMutation))}function Wo(c,e){const r=e.path.lastSegment();return[c,$t(e.path.popLast()),r]}function xs(c,e,r,s){return{indexId:c,uid:e,sequenceNumber:r,readTime:br(s.readTime),documentKey:$t(s.documentKey.path),largestBatchId:s.largestBatchId}}class Oi{getBundleMetadata(e,r){return Yh(e).get(r).next(s=>{if(s)return{id:(_=s).bundleId,createTime:ko(_.createTime),version:_.version};var _})}saveBundleMetadata(e,r){return Yh(e).put({bundleId:(u=r).id,createTime:br(Vi(u.createTime)),version:u.version});var u}getNamedQuery(e,r){return Bd(e).get(r).next(s=>{if(s)return{name:(_=s).name,query:Ps(_.bundledQuery),readTime:ko(_.readTime)};var _})}saveNamedQuery(e,r){return Bd(e).put({name:(u=r).name,readTime:br(Vi(u.readTime)),bundledQuery:u.bundledQuery});var u}}function Yh(c){return zr(c,"bundles")}function Bd(c){return zr(c,"namedQueries")}class Wl{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new Wl(e,r.uid||"")}getOverlay(e,r){return Zs(e).get(Wo(this.userId,r)).next(s=>s?Qa(this.serializer,s):null)}getOverlays(e,r){const s=xo();return ct.forEach(r,u=>this.getOverlay(e,u).next(_=>{null!==_&&s.set(u,_)})).next(()=>s)}saveOverlays(e,r,s){const u=[];return s.forEach((_,I)=>{const P=new Eo(r,I);u.push(this.ht(e,P))}),ct.waitFor(u)}removeOverlaysForBatchId(e,r,s){const u=new Set;r.forEach(I=>u.add($t(I.getCollectionPath())));const _=[];return u.forEach(I=>{const P=IDBKeyRange.bound([this.userId,I,s],[this.userId,I,s+1],!1,!0);_.push(Zs(e).j("collectionPathOverlayIndex",P))}),ct.waitFor(_)}getOverlaysForCollection(e,r,s){const u=xo(),_=$t(r),I=IDBKeyRange.bound([this.userId,_,s],[this.userId,_,Number.POSITIVE_INFINITY],!0);return Zs(e).U("collectionPathOverlayIndex",I).next(P=>{for(const L of P){const J=Qa(this.serializer,L);u.set(J.getKey(),J)}return u})}getOverlaysForCollectionGroup(e,r,s,u){const _=xo();let I;const P=IDBKeyRange.bound([this.userId,r,s],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Zs(e).J({index:"collectionGroupOverlayIndex",range:P},(L,J,he)=>{const Me=Qa(this.serializer,J);_.size()<u||Me.largestBatchId===I?(_.set(Me.getKey(),Me),I=Me.largestBatchId):he.done()}).next(()=>_)}ht(e,r){return Zs(e).put(function(u,_,I){const[P,L,J]=Wo(_,I.mutation.key);return{userId:_,collectionPath:L,documentId:J,collectionGroup:I.mutation.key.getCollectionGroup(),largestBatchId:I.largestBatchId,overlayMutation:No(u.ct,I.mutation)}}(this.serializer,this.userId,r))}}function Zs(c){return zr(c,"documentOverlays")}class qs{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(Ai(e.integerValue));else if("doubleValue"in e){const s=Ai(e.doubleValue);isNaN(s)?this.Et(r,13):(this.Et(r,15),Xe(s)?r.dt(0):r.dt(s))}else if("timestampValue"in e){let s=e.timestampValue;this.Et(r,20),"string"==typeof s&&(s=To(s)),r.At(`${s.seconds||""}`),r.dt(s.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(mo(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.Et(r,45),r.dt(s.latitude||0),r.dt(s.longitude||0)}else"mapValue"in e?ai(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):wt()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const s=e.fields||{};this.Et(r,55);for(const u of Object.keys(s))this.Rt(u,r),this.It(s[u],r)}wt(e,r){const s=e.values||[];this.Et(r,50);for(const u of s)this.It(u,r)}gt(e,r){this.Et(r,37),Yt.fromName(e).path.forEach(s=>{this.Et(r,60),this.St(s,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}function Jh(c){if(0===c)return 8;let e=0;return!(c>>4)&&(e+=4,c<<=4),!(c>>6)&&(e+=2,c<<=2),!(c>>7)&&(e+=1),e}function Nu(c){const e=64-function(s){let u=0;for(let _=0;_<8;++_){const I=Jh(255&s[_]);if(u+=I,8!==I)break}return u}(c);return Math.ceil(e/8)}qs.bt=new qs;class Gs{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ct(s.value),s=r.next();this.vt()}Ft(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Mt(s.value),s=r.next();this.xt()}Ot(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Ct(s);else if(s<2048)this.Ct(960|s>>>6),this.Ct(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s);else{const u=r.codePointAt(0);this.Ct(240|u>>>18),this.Ct(128|63&u>>>12),this.Ct(128|63&u>>>6),this.Ct(128|63&u)}}this.vt()}Nt(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Mt(s);else if(s<2048)this.Mt(960|s>>>6),this.Mt(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s);else{const u=r.codePointAt(0);this.Mt(240|u>>>18),this.Mt(128|63&u>>>12),this.Mt(128|63&u>>>6),this.Mt(128|63&u)}}this.xt()}Lt(e){const r=this.Bt(e),s=Nu(r);this.kt(1+s),this.buffer[this.position++]=255&s;for(let u=r.length-s;u<r.length;++u)this.buffer[this.position++]=255&r[u]}qt(e){const r=this.Bt(e),s=Nu(r);this.kt(1+s),this.buffer[this.position++]=~(255&s);for(let u=r.length-s;u<r.length;++u)this.buffer[this.position++]=~(255&r[u])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const r=function(_){const I=new DataView(new ArrayBuffer(8));return I.setFloat64(0,_,!1),new Uint8Array(I.buffer)}(e),s=0!=(128&r[0]);r[0]^=s?255:128;for(let u=1;u<r.length;++u)r[u]^=s?255:0;return r}Ct(e){const r=255&e;0===r?(this.Kt(0),this.Kt(255)):255===r?(this.Kt(255),this.Kt(0)):this.Kt(r)}Mt(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const r=e+this.position;if(r<=this.buffer.length)return;let s=2*this.buffer.length;s<r&&(s=r);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class ku{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class Fu{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class xa{constructor(){this.Gt=new Gs,this.zt=new ku(this.Gt),this.jt=new Fu(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Ra{constructor(e,r,s,u){this.indexId=e,this.documentKey=r,this.arrayValue=s,this.directionalValue=u}Jt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(r);return s.set(this.directionalValue,0),r!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Ra(this.indexId,this.documentKey,this.arrayValue,s)}}function Ws(c,e){let r=c.indexId-e.indexId;return 0!==r?r:(r=jd(c.arrayValue,e.arrayValue),0!==r?r:(r=jd(c.directionalValue,e.directionalValue),0!==r?r:Yt.comparator(c.documentKey,e.documentKey)))}function jd(c,e){for(let r=0;r<c.length&&r<e.length;++r){const s=c[r]-e[r];if(0!==s)return s}return c.length-e.length}class Lu{constructor(e){this.Yt=new Jr((r,s)=>ir.comparator(r.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const r of e.filters){const s=r;s.isInequality()?this.Yt=this.Yt.add(s):this.Xt.push(s)}}get en(){return this.Yt.size>1}tn(e){if(Qe(e.collectionGroup===this.collectionId),this.en)return!1;const r=Un(e);if(void 0!==r&&!this.nn(r))return!1;const s=jn(e);let u=new Set,_=0,I=0;for(;_<s.length&&this.nn(s[_]);++_)u=u.add(s[_].fieldPath.canonicalString());if(_===s.length)return!0;if(this.Yt.size>0){const P=this.Yt.getIterator().getNext();if(!u.has(P.field.canonicalString())){const L=s[_];if(!this.rn(P,L)||!this.sn(this.Zt[I++],L))return!1}++_}for(;_<s.length;++_)if(I>=this.Zt.length||!this.sn(this.Zt[I++],s[_]))return!1;return!0}on(){if(this.en)return null;let e=new Jr(ir.comparator);const r=[];for(const s of this.Xt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)r.push(new Cr(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),r.push(new Cr(s.field,0))}for(const s of this.Zt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),r.push(new Cr(s.field,"asc"===s.dir?0:1)));return new bn(bn.UNKNOWN_ID,this.collectionId,r,Wn.empty())}nn(e){for(const r of this.Xt)if(this.rn(r,e))return!0;return!1}rn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function Vu(c){var e,r;if(Qe(c instanceof Qt||c instanceof In),c instanceof Qt){if(c instanceof ds){const u=(null===(r=null===(e=c.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(_=>Qt.create(c.field,"==",_)))||[];return In.create(u,"or")}return c}const s=c.filters.map(u=>Vu(u));return In.create(s,c.op)}function Sc(c){if(0===c.getFilters().length)return[];const e=fa(Vu(c));return Qe(wg(e)),ul(e)||Ql(e)?[e]:e.getFilters()}function ul(c){return c instanceof Qt}function Ql(c){return c instanceof In&&Ii(c)}function wg(c){return ul(c)||Ql(c)||function(r){if(r instanceof In&&Bn(r)){for(const s of r.getFilters())if(!ul(s)&&!Ql(s))return!1;return!0}return!1}(c)}function fa(c){if(Qe(c instanceof Qt||c instanceof In),c instanceof Qt)return c;if(1===c.filters.length)return fa(c.filters[0]);const e=c.filters.map(s=>fa(s));let r=In.create(e,c.op);return r=zd(r),wg(r)?r:(Qe(r instanceof In),Qe(_r(r)),Qe(r.filters.length>1),r.filters.reduce((s,u)=>Hd(s,u)))}function Hd(c,e){let r;return Qe(c instanceof Qt||c instanceof In),Qe(e instanceof Qt||e instanceof In),r=c instanceof Qt?e instanceof Qt?In.create([c,e],"and"):Ap(c,e):e instanceof Qt?Ap(e,c):function(u,_){if(Qe(u.filters.length>0&&_.filters.length>0),_r(u)&&_r(_))return Br(u,_.getFilters());const I=Bn(u)?u:_,P=Bn(u)?_:u,L=I.filters.map(J=>Hd(J,P));return In.create(L,"or")}(c,e),zd(r)}function Ap(c,e){if(_r(e))return Br(e,c.getFilters());{const r=e.filters.map(s=>Hd(c,s));return In.create(r,"or")}}function zd(c){if(Qe(c instanceof Qt||c instanceof In),c instanceof Qt)return c;const e=c.getFilters();if(1===e.length)return zd(e[0]);if(Zr(c))return c;const r=e.map(u=>zd(u)),s=[];return r.forEach(u=>{u instanceof Qt?s.push(u):u instanceof In&&(u.op===c.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:In.create(s,c.op)}class Dg{constructor(){this._n=new $d}addToCollectionParentIndex(e,r){return this._n.add(r),ct.resolve()}getCollectionParents(e,r){return ct.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return ct.resolve()}deleteFieldIndex(e,r){return ct.resolve()}deleteAllFieldIndexes(e){return ct.resolve()}createTargetIndexes(e,r){return ct.resolve()}getDocumentsMatchingTarget(e,r){return ct.resolve(null)}getIndexType(e,r){return ct.resolve(0)}getFieldIndexes(e,r){return ct.resolve([])}getNextCollectionGroupToUpdate(e){return ct.resolve(null)}getMinOffset(e,r){return ct.resolve(gn.min())}getMinOffsetFromCollectionGroup(e,r){return ct.resolve(gn.min())}updateCollectionGroup(e,r,s){return ct.resolve()}updateIndexEntries(e,r){return ct.resolve()}}class $d{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),u=this.index[r]||new Jr(xn.comparator),_=!u.has(s);return this.index[r]=u.add(s),_}has(e){const r=e.lastSegment(),s=e.popLast(),u=this.index[r];return u&&u.has(s)}getEntries(e){return(this.index[e]||new Jr(xn.comparator)).toArray()}}const dl=new Uint8Array(0);class Uu{constructor(e,r){this.databaseId=r,this.an=new $d,this.un=new yo(s=>Po(s),(s,u)=>Is(s,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.an.has(r)){const s=r.lastSegment(),u=r.popLast();e.addOnCommittedListener(()=>{this.an.add(r)});const _={collectionId:s,parent:$t(u)};return Ip(e).put(_)}return ct.resolve()}getCollectionParents(e,r){const s=[],u=IDBKeyRange.bound([r,""],[mr(r),""],!1,!0);return Ip(e).U(u).next(_=>{for(const I of _){if(I.collectionId!==r)break;s.push(fn(I.parent))}return s})}addFieldIndex(e,r){const s=hl(e),u={indexId:(P=r).indexId,collectionGroup:P.collectionGroup,fields:P.fields.map(L=>[L.fieldPath.canonicalString(),L.kind])};var P;delete u.indexId;const _=s.add(u);if(r.indexState){const I=Ks(e);return _.next(P=>{I.put(xs(P,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return _.next()}deleteFieldIndex(e,r){const s=hl(e),u=Ks(e),_=Qs(e);return s.delete(r.indexId).next(()=>u.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>_.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=hl(e),s=Qs(e),u=Ks(e);return r.j().next(()=>s.j()).next(()=>u.j())}createTargetIndexes(e,r){return ct.forEach(this.cn(r),s=>this.getIndexType(e,s).next(u=>{if(0===u||1===u){const _=new Lu(s).on();if(null!=_)return this.addFieldIndex(e,_)}}))}getDocumentsMatchingTarget(e,r){const s=Qs(e);let u=!0;const _=new Map;return ct.forEach(this.cn(r),I=>this.ln(e,I).next(P=>{u&&(u=!!P),_.set(I,P)})).next(()=>{if(u){let I=pr();const P=[];return ct.forEach(_,(L,J)=>{var Qn;Ee("IndexedDbIndexManager",`Using index ${Qn=L,`id=${Qn.indexId}|cg=${Qn.collectionGroup}|f=${Qn.fields.map(Mr=>`${Mr.fieldPath}:${Mr.kind}`).join(",")}`} to execute ${Po(r)}`);const he=function(Qn,Mr){const wi=Un(Mr);if(void 0===wi)return null;for(const Gr of Fs(Qn,wi.fieldPath))switch(Gr.op){case"array-contains-any":return Gr.value.arrayValue.values||[];case"array-contains":return[Gr.value]}return null}(J,L),Me=function(Qn,Mr){const wi=new Map;for(const Gr of jn(Mr))for(const gt of Fs(Qn,Gr.fieldPath))switch(gt.op){case"==":case"in":wi.set(Gr.fieldPath.canonicalString(),gt.value);break;case"not-in":case"!=":return wi.set(Gr.fieldPath.canonicalString(),gt.value),Array.from(wi.values())}return null}(J,L),et=function(Qn,Mr){const wi=[];let Gr=!0;for(const gt of jn(Mr)){const Ke=0===gt.kind?K(Qn,gt.fieldPath,Qn.startAt):ie(Qn,gt.fieldPath,Qn.startAt);wi.push(Ke.value),Gr&&(Gr=Ke.inclusive)}return new ke(wi,Gr)}(J,L),Ct=function(Qn,Mr){const wi=[];let Gr=!0;for(const gt of jn(Mr)){const Ke=0===gt.kind?ie(Qn,gt.fieldPath,Qn.endAt):K(Qn,gt.fieldPath,Qn.endAt);wi.push(Ke.value),Gr&&(Gr=Ke.inclusive)}return new ke(wi,Gr)}(J,L),Gt=this.hn(L,J,et),hn=this.hn(L,J,Ct),nn=this.Pn(L,J,Me),$n=this.In(L.indexId,he,Gt,et.inclusive,hn,Ct.inclusive,nn);return ct.forEach($n,or=>s.G(or,r.limit).next(Qn=>{Qn.forEach(Mr=>{const wi=Yt.fromSegments(Mr.documentKey);I.has(wi)||(I=I.add(wi),P.push(wi))})}))}).next(()=>P)}return ct.resolve(null)})}cn(e){let r=this.un.get(e);return r||(r=0===e.filters.length?[e]:Sc(In.create(e.filters,"and")).map(s=>Ia(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,r),r)}In(e,r,s,u,_,I,P){const L=(null!=r?r.length:1)*Math.max(s.length,_.length),J=L/(null!=r?r.length:1),he=[];for(let Me=0;Me<L;++Me){const et=r?this.Tn(r[Me/J]):dl,Ct=this.En(e,et,s[Me%J],u),Gt=this.dn(e,et,_[Me%J],I),hn=P.map(nn=>this.En(e,et,nn,!0));he.push(...this.createRange(Ct,Gt,hn))}return he}En(e,r,s,u){const _=new Ra(e,Yt.empty(),r,s);return u?_:_.Jt()}dn(e,r,s,u){const _=new Ra(e,Yt.empty(),r,s);return u?_.Jt():_}ln(e,r){const s=new Lu(r),u=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,u).next(_=>{let I=null;for(const P of _)s.tn(P)&&(!I||P.fields.length>I.fields.length)&&(I=P);return I})}getIndexType(e,r){let s=2;const u=this.cn(r);return ct.forEach(u,_=>this.ln(e,_).next(I=>{I?0!==s&&I.fields.length<function(L){let J=new Jr(ir.comparator),he=!1;for(const Me of L.filters)for(const et of Me.getFlattenedFilters())et.field.isKeyField()||("array-contains"===et.op||"array-contains-any"===et.op?he=!0:J=J.add(et.field));for(const Me of L.orderBy)Me.field.isKeyField()||(J=J.add(Me.field));return J.size+(he?1:0)}(_)&&(s=1):s=0})).next(()=>null!==r.limit&&u.length>1&&2===s?1:s)}An(e,r){const s=new xa;for(const u of jn(e)){const _=r.data.field(u.fieldPath);if(null==_)return null;const I=s.Ht(u.kind);qs.bt.Pt(_,I)}return s.Wt()}Tn(e){const r=new xa;return qs.bt.Pt(e,r.Ht(0)),r.Wt()}Rn(e,r){const s=new xa;return qs.bt.Pt(_n(this.databaseId,r),s.Ht(function(_){const I=jn(_);return 0===I.length?0:I[I.length-1].kind}(e))),s.Wt()}Pn(e,r,s){if(null===s)return[];let u=[];u.push(new xa);let _=0;for(const I of jn(e)){const P=s[_++];for(const L of u)if(this.Vn(r,I.fieldPath)&&Rr(P))u=this.mn(u,I,P);else{const J=L.Ht(I.kind);qs.bt.Pt(P,J)}}return this.fn(u)}hn(e,r,s){return this.Pn(e,r,s.position)}fn(e){const r=[];for(let s=0;s<e.length;++s)r[s]=e[s].Wt();return r}mn(e,r,s){const u=[...e],_=[];for(const I of s.arrayValue.values||[])for(const P of u){const L=new xa;L.seed(P.Wt()),qs.bt.Pt(I,L.Ht(r.kind)),_.push(L)}return _}Vn(e,r){return!!e.filters.find(s=>s instanceof Qt&&s.field.isEqual(r)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,r){const s=hl(e),u=Ks(e);return(r?s.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):s.U()).next(_=>{const I=[];return ct.forEach(_,P=>u.get([P.indexId,this.uid]).next(L=>{I.push(function(he,Me){const et=Me?new Wn(Me.sequenceNumber,new gn(ko(Me.readTime),new Yt(fn(Me.documentKey)),Me.largestBatchId)):Wn.empty(),Ct=he.fields.map(([Gt,hn])=>new Cr(ir.fromServerFormat(Gt),hn));return new bn(he.indexId,he.collectionGroup,Ct,et)}(P,L))})).next(()=>I)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((s,u)=>{const _=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==_?_:on(s.collectionGroup,u.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,s){const u=hl(e),_=Ks(e);return this.gn(e).next(I=>u.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(P=>ct.forEach(P,L=>_.put(xs(L.indexId,this.uid,I,s)))))}updateIndexEntries(e,r){const s=new Map;return ct.forEach(r,(u,_)=>{const I=s.get(u.collectionGroup);return(I?ct.resolve(I):this.getFieldIndexes(e,u.collectionGroup)).next(P=>(s.set(u.collectionGroup,P),ct.forEach(P,L=>this.pn(e,u,L).next(J=>{const he=this.yn(_,L);return J.isEqual(he)?ct.resolve():this.wn(e,_,L,J,he)}))))})}Sn(e,r,s,u){return Qs(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.Rn(s,r.key),documentKey:r.key.path.toArray()})}bn(e,r,s,u){return Qs(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.Rn(s,r.key),r.key.path.toArray()])}pn(e,r,s){const u=Qs(e);let _=new Jr(Ws);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.Rn(s,r)])},(I,P)=>{_=_.add(new Ra(s.indexId,r,P.arrayValue,P.directionalValue))}).next(()=>_)}yn(e,r){let s=new Jr(Ws);const u=this.An(r,e);if(null==u)return s;const _=Un(r);if(null!=_){const I=e.data.field(_.fieldPath);if(Rr(I))for(const P of I.arrayValue.values||[])s=s.add(new Ra(r.indexId,e.key,this.Tn(P),u))}else s=s.add(new Ra(r.indexId,e.key,dl,u));return s}wn(e,r,s,u,_){Ee("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const I=[];return function(L,J,he,Me,et){const Ct=L.getIterator(),Gt=J.getIterator();let hn=Vo(Ct),nn=Vo(Gt);for(;hn||nn;){let $n=!1,or=!1;if(hn&&nn){const Qn=he(hn,nn);Qn<0?or=!0:Qn>0&&($n=!0)}else null!=hn?or=!0:$n=!0;$n?(Me(nn),nn=Vo(Gt)):or?(et(hn),hn=Vo(Ct)):(hn=Vo(Ct),nn=Vo(Gt))}}(u,_,Ws,P=>{I.push(this.Sn(e,r,s,P))},P=>{I.push(this.bn(e,r,s,P))}),ct.waitFor(I)}gn(e){let r=1;return Ks(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,_)=>{_.done(),r=u.sequenceNumber+1}).next(()=>r)}createRange(e,r,s){s=s.sort((I,P)=>Ws(I,P)).filter((I,P,L)=>!P||0!==Ws(I,L[P-1]));const u=[];u.push(e);for(const I of s){const P=Ws(I,e),L=Ws(I,r);if(0===P)u[0]=e.Jt();else if(P>0&&L<0)u.push(I),u.push(I.Jt());else if(L>0)break}u.push(r);const _=[];for(let I=0;I<u.length;I+=2){if(this.Dn(u[I],u[I+1]))return[];_.push(IDBKeyRange.bound([u[I].indexId,this.uid,u[I].arrayValue,u[I].directionalValue,dl,[]],[u[I+1].indexId,this.uid,u[I+1].arrayValue,u[I+1].directionalValue,dl,[]]))}return _}Dn(e,r){return Ws(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(Sg)}getMinOffset(e,r){return ct.mapArray(this.cn(r),s=>this.ln(e,s).next(u=>u||wt())).next(Sg)}}function Ip(c){return zr(c,"collectionParents")}function Qs(c){return zr(c,"indexEntries")}function hl(c){return zr(c,"indexConfiguration")}function Ks(c){return zr(c,"indexState")}function Sg(c){Qe(0!==c.length);let e=c[0].indexState.offset,r=e.largestBatchId;for(let s=1;s<c.length;s++){const u=c[s].indexState.offset;Ur(u,e)<0&&(e=u),r<u.largestBatchId&&(r=u.largestBatchId)}return new gn(e.readTime,e.documentKey,r)}const Bu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Fo{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Fo(e,Fo.DEFAULT_COLLECTION_PERCENTILE,Fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function bp(c,e,r){const s=c.store("mutations"),u=c.store("documentMutations"),_=[],I=IDBKeyRange.only(r.batchId);let P=0;const L=s.J({range:I},(he,Me,et)=>(P++,et.delete()));_.push(L.next(()=>{Qe(1===P)}));const J=[];for(const he of r.mutations){const Me=He(e,he.key.path,r.batchId);_.push(u.delete(Me)),J.push(he.key)}return ct.waitFor(_).next(()=>J)}function Ki(c){if(!c)return 0;let e;if(c.document)e=c.document;else if(c.unknownDocument)e=c.unknownDocument;else{if(!c.noDocument)throw wt();e=c.noDocument}return JSON.stringify(e).length}Fo.DEFAULT_COLLECTION_PERCENTILE=10,Fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fo.DEFAULT=new Fo(41943040,Fo.DEFAULT_COLLECTION_PERCENTILE,Fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fo.DISABLED=new Fo(-1,0,0);class Kl{constructor(e,r,s,u){this.userId=e,this.serializer=r,this.indexManager=s,this.referenceDelegate=u,this.Cn={}}static lt(e,r,s,u){Qe(""!==e.uid);const _=e.isAuthenticated()?e.uid:"";return new Kl(_,r,s,u)}checkEmpty(e){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ys(e).J({index:"userMutationsIndex",range:s},(u,_,I)=>{r=!1,I.done()}).next(()=>r)}addMutationBatch(e,r,s,u){const _=Oa(e),I=Ys(e);return I.add({}).next(P=>{Qe("number"==typeof P);const L=new Wi(P,r,s,u),J=function(Ct,Gt,hn){const nn=hn.baseMutations.map(or=>No(Ct.ct,or)),$n=hn.mutations.map(or=>No(Ct.ct,or));return{userId:Gt,batchId:hn.batchId,localWriteTimeMs:hn.localWriteTime.toMillis(),baseMutations:nn,mutations:$n}}(this.serializer,this.userId,L),he=[];let Me=new Jr((et,Ct)=>on(et.canonicalString(),Ct.canonicalString()));for(const et of u){const Ct=He(this.userId,et.key.path,P);Me=Me.add(et.key.path.popLast()),he.push(I.put(J)),he.push(_.put(Ct,nt))}return Me.forEach(et=>{he.push(this.indexManager.addToCollectionParentIndex(e,et))}),e.addOnCommittedListener(()=>{this.Cn[P]=L.keys()}),ct.waitFor(he).next(()=>L)})}lookupMutationBatch(e,r){return Ys(e).get(r).next(s=>s?(Qe(s.userId===this.userId),ns(this.serializer,s)):null)}vn(e,r){return this.Cn[r]?ct.resolve(this.Cn[r]):this.lookupMutationBatch(e,r).next(s=>{if(s){const u=s.keys();return this.Cn[r]=u,u}return null})}getNextMutationBatchAfterBatchId(e,r){const s=r+1,u=IDBKeyRange.lowerBound([this.userId,s]);let _=null;return Ys(e).J({index:"userMutationsIndex",range:u},(I,P,L)=>{P.userId===this.userId&&(Qe(P.batchId>=s),_=ns(this.serializer,P)),L.done()}).next(()=>_)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Ys(e).J({index:"userMutationsIndex",range:r,reverse:!0},(u,_,I)=>{s=_.batchId,I.done()}).next(()=>s)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ys(e).U("userMutationsIndex",r).next(s=>s.map(u=>ns(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(e,r){const s=Je(this.userId,r.path),u=IDBKeyRange.lowerBound(s),_=[];return Oa(e).J({range:u},(I,P,L)=>{const[J,he,Me]=I,et=fn(he);if(J===this.userId&&r.path.isEqual(et))return Ys(e).get(Me).next(Ct=>{if(!Ct)throw wt();Qe(Ct.userId===this.userId),_.push(ns(this.serializer,Ct))});L.done()}).next(()=>_)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Jr(on);const u=[];return r.forEach(_=>{const I=Je(this.userId,_.path),P=IDBKeyRange.lowerBound(I),L=Oa(e).J({range:P},(J,he,Me)=>{const[et,Ct,Gt]=J,hn=fn(Ct);et===this.userId&&_.path.isEqual(hn)?s=s.add(Gt):Me.done()});u.push(L)}),ct.waitFor(u).next(()=>this.Fn(e,s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,u=s.length+1,_=Je(this.userId,s),I=IDBKeyRange.lowerBound(_);let P=new Jr(on);return Oa(e).J({range:I},(L,J,he)=>{const[Me,et,Ct]=L,Gt=fn(et);Me===this.userId&&s.isPrefixOf(Gt)?Gt.length===u&&(P=P.add(Ct)):he.done()}).next(()=>this.Fn(e,P))}Fn(e,r){const s=[],u=[];return r.forEach(_=>{u.push(Ys(e).get(_).next(I=>{if(null===I)throw wt();Qe(I.userId===this.userId),s.push(ns(this.serializer,I))}))}),ct.waitFor(u).next(()=>s)}removeMutationBatch(e,r){return bp(e._e,this.userId,r).next(s=>(e.addOnCommittedListener(()=>{this.Mn(r.batchId)}),ct.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return ct.resolve();const s=IDBKeyRange.lowerBound([this.userId]),u=[];return Oa(e).J({range:s},(_,I,P)=>{if(_[0]===this.userId){const L=fn(_[1]);u.push(L)}else P.done()}).next(()=>{Qe(0===u.length)})})}containsKey(e,r){return ju(e,this.userId,r)}xn(e){return fl(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ju(c,e,r){const s=Je(e,r.path),u=s[1],_=IDBKeyRange.lowerBound(s);let I=!1;return Oa(c).J({range:_,H:!0},(P,L,J)=>{const[he,Me,et]=P;he===e&&Me===u&&(I=!0),J.done()}).next(()=>I)}function Ys(c){return zr(c,"mutations")}function Oa(c){return zr(c,"documentMutations")}function fl(c){return zr(c,"mutationQueues")}class Nr{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Nr(0)}static Ln(){return new Nr(-1)}}class pl{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Bn(e).next(r=>{const s=new Nr(r.highestTargetId);return r.highestTargetId=s.next(),this.kn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(r=>Kt.fromTimestamp(new Yn(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,s){return this.Bn(e).next(u=>(u.highestListenSequenceNumber=r,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),r>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=r),this.kn(e,u)))}addTargetData(e,r){return this.qn(e,r).next(()=>this.Bn(e).next(s=>(s.targetCount+=1,this.Qn(r,s),this.kn(e,s))))}updateTargetData(e,r){return this.qn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>fs(e).delete(r.targetId)).next(()=>this.Bn(e)).next(s=>(Qe(s.targetCount>0),s.targetCount-=1,this.kn(e,s)))}removeTargets(e,r,s){let u=0;const _=[];return fs(e).J((I,P)=>{const L=Ms(P);L.sequenceNumber<=r&&null===s.get(L.targetId)&&(u++,_.push(this.removeTargetData(e,L)))}).next(()=>ct.waitFor(_)).next(()=>u)}forEachTarget(e,r){return fs(e).J((s,u)=>{const _=Ms(u);r(_)})}Bn(e){return Hu(e).get("targetGlobalKey").next(r=>(Qe(null!==r),r))}kn(e,r){return Hu(e).put("targetGlobalKey",r)}qn(e,r){return fs(e).put(ha(this.serializer,r))}Qn(e,r){let s=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,s=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Bn(e).next(r=>r.targetCount)}getTargetData(e,r){const s=Po(r),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let _=null;return fs(e).J({range:u,index:"queryTargetsIndex"},(I,P,L)=>{const J=Ms(P);Is(r,J.target)&&(_=J,L.done())}).next(()=>_)}addMatchingKeys(e,r,s){const u=[],_=Na(e);return r.forEach(I=>{const P=$t(I.path);u.push(_.put({targetId:s,path:P})),u.push(this.referenceDelegate.addReference(e,s,I))}),ct.waitFor(u)}removeMatchingKeys(e,r,s){const u=Na(e);return ct.forEach(r,_=>{const I=$t(_.path);return ct.waitFor([u.delete([s,I]),this.referenceDelegate.removeReference(e,s,_)])})}removeMatchingKeysForTargetId(e,r){const s=Na(e),u=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(e,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),u=Na(e);let _=pr();return u.J({range:s,H:!0},(I,P,L)=>{const J=fn(I[1]),he=new Yt(J);_=_.add(he)}).next(()=>_)}containsKey(e,r){const s=$t(r.path),u=IDBKeyRange.bound([s],[mr(s)],!1,!0);let _=0;return Na(e).J({index:"documentTargetsIndex",H:!0,range:u},([I,P],L,J)=>{0!==I&&(_++,J.done())}).next(()=>_>0)}ot(e,r){return fs(e).get(r).next(s=>s?Ms(s):null)}}function fs(c){return zr(c,"targets")}function Hu(c){return zr(c,"targetGlobal")}function Na(c){return zr(c,"targetDocuments")}function Zd([c,e],[r,s]){const u=on(c,r);return 0===u?on(e,s):u}class qd{constructor(e){this.Kn=e,this.buffer=new Jr(Zd),this.$n=0}Un(){return++this.$n}Wn(e){const r=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();Zd(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Yl{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var r=this;Ee("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,f.Z)(function*(){r.Gn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(s){Hn(s)?Ee("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Dr(s)}yield r.zn(3e5)}))}}class Mc{constructor(e,r){this.jn=e,this.params=r}calculateTargetCount(e,r){return this.jn.Hn(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(0===r)return ct.resolve(B.oe);const s=new qd(r);return this.jn.forEachTarget(e,u=>s.Wn(u.sequenceNumber)).next(()=>this.jn.Jn(e,u=>s.Wn(u))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.jn.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),ct.resolve(Bu)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bu):this.Yn(e,r))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,r){let s,u,_,I,P,L,J;const he=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Me=>(Me>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Me}`),u=this.params.maximumSequenceNumbersToCollect):u=Me,I=Date.now(),this.nthSequenceNumber(e,u))).next(Me=>(s=Me,P=Date.now(),this.removeTargets(e,s,r))).next(Me=>(_=Me,L=Date.now(),this.removeOrphanedDocuments(e,s))).next(Me=>(J=Date.now(),ht()<=Se.in.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${I-he}ms\n\tDetermined least recently used ${u} in `+(P-I)+`ms\n\tRemoved ${_} targets in `+(L-P)+`ms\n\tRemoved ${Me} documents in `+(J-L)+`ms\nTotal Duration: ${J-he}ms`),ct.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:_,documentsRemoved:Me})))}}class Jl{constructor(e,r){this.db=e,this.garbageCollector=function zu(c,e){return new Mc(c,e)}(this,r)}Hn(e){const r=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>r.next(u=>s+u))}Zn(e){let r=0;return this.Jn(e,s=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Jn(e,r){return this.Xn(e,(s,u)=>r(u))}addReference(e,r,s){return tn(e,s)}removeReference(e,r,s){return tn(e,s)}removeTargets(e,r,s){return this.db.getTargetCache().removeTargets(e,r,s)}markPotentiallyOrphaned(e,r){return tn(e,r)}er(e,r){return function(u,_){let I=!1;return fl(u).Y(P=>ju(u,P,_).next(L=>(L&&(I=!0),ct.resolve(!L)))).next(()=>I)}(e,r)}removeOrphanedDocuments(e,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let _=0;return this.Xn(e,(I,P)=>{if(P<=r){const L=this.er(e,I).next(J=>{if(!J)return _++,s.getEntry(e,I).next(()=>(s.removeEntry(I,Kt.min()),Na(e).delete([0,$t(I.path)])))});u.push(L)}}).next(()=>ct.waitFor(u)).next(()=>s.apply(e)).next(()=>_)}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,r){return tn(e,r)}Xn(e,r){const s=Na(e);let u,_=B.oe;return s.J({index:"documentTargetsIndex"},([I,P],{path:L,sequenceNumber:J})=>{0===I?(_!==B.oe&&r(new Yt(fn(u)),_),_=J,u=L):_=B.oe}).next(()=>{_!==B.oe&&r(new Yt(fn(u)),_)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function tn(c,e){return Na(c).put((u=c.currentSequenceNumber,{targetId:0,path:$t(e.path),sequenceNumber:u}));var u}class ka{constructor(){this.changes=new yo(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Y.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?ct.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $u{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,s){return pa(e).put(s)}removeEntry(e,r,s){return pa(e).delete(function(_,I){const P=_.path.toArray();return[P.slice(0,P.length-2),P[P.length-2],di(I),P[P.length-1]]}(r,s))}updateMetadata(e,r){return this.getMetadata(e).next(s=>(s.byteSize+=r,this.tr(e,s)))}getEntry(e,r){let s=Y.newInvalidDocument(r);return pa(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Pc(r))},(u,_)=>{s=this.nr(r,_)}).next(()=>s)}rr(e,r){let s={size:0,document:Y.newInvalidDocument(r)};return pa(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Pc(r))},(u,_)=>{s={document:this.nr(r,_),size:Ki(_)}}).next(()=>s)}getEntries(e,r){let s=Vr();return this.ir(e,r,(u,_)=>{const I=this.nr(u,_);s=s.insert(u,I)}).next(()=>s)}sr(e,r){let s=Vr(),u=new oi(Yt.comparator);return this.ir(e,r,(_,I)=>{const P=this.nr(_,I);s=s.insert(_,P),u=u.insert(_,Ki(I))}).next(()=>({documents:s,_r:u}))}ir(e,r,s){if(r.isEmpty())return ct.resolve();let u=new Jr(Xl);r.forEach(L=>u=u.add(L));const _=IDBKeyRange.bound(Pc(u.first()),Pc(u.last())),I=u.getIterator();let P=I.getNext();return pa(e).J({index:"documentKeyIndex",range:_},(L,J,he)=>{const Me=Yt.fromSegments([...J.prefixPath,J.collectionGroup,J.documentId]);for(;P&&Xl(P,Me)<0;)s(P,null),P=I.getNext();P&&P.isEqual(Me)&&(s(P,J),P=I.hasNext()?I.getNext():null),P?he.$(Pc(P)):he.done()}).next(()=>{for(;P;)s(P,null),P=I.hasNext()?I.getNext():null})}getDocumentsMatchingQuery(e,r,s,u,_){const I=r.path,P=[I.popLast().toArray(),I.lastSegment(),di(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],L=[I.popLast().toArray(),I.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return pa(e).U(IDBKeyRange.bound(P,L,!0)).next(J=>{_?.incrementDocumentReadCount(J.length);let he=Vr();for(const Me of J){const et=this.nr(Yt.fromSegments(Me.prefixPath.concat(Me.collectionGroup,Me.documentId)),Me);et.isFoundDocument()&&(sa(r,et)||u.has(et.key))&&(he=he.insert(et.key,et))}return he})}getAllFromCollectionGroup(e,r,s,u){let _=Vr();const I=Gd(r,s),P=Gd(r,gn.max());return pa(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(I,P,!0)},(L,J,he)=>{const Me=this.nr(Yt.fromSegments(J.prefixPath.concat(J.collectionGroup,J.documentId)),J);_=_.insert(Me.key,Me),_.size===u&&he.done()}).next(()=>_)}newChangeBuffer(e){return new Zu(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Js(e).get("remoteDocumentGlobalKey").next(r=>(Qe(!!r),r))}tr(e,r){return Js(e).put("remoteDocumentGlobalKey",r)}nr(e,r){if(r){const s=function Tn(c,e){let r;if(e.document)r=Ao(c.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Yt.fromSegments(e.noDocument.path),u=ko(e.noDocument.readTime);r=Y.newNoDocument(s,u),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return wt();{const s=Yt.fromSegments(e.unknownDocument.path),u=ko(e.unknownDocument.version);r=Y.newUnknownDocument(s,u)}}return e.readTime&&r.setReadTime(function(u){const _=new Yn(u[0],u[1]);return Kt.fromTimestamp(_)}(e.readTime)),r}(this.serializer,r);if(!s.isNoDocument()||!s.version.isEqual(Kt.min()))return s}return Y.newInvalidDocument(e)}}function Io(c){return new $u(c)}class Zu extends ka{constructor(e,r){super(),this.ar=e,this.trackRemovals=r,this.ur=new yo(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(e){const r=[];let s=0,u=new Jr((_,I)=>on(_.canonicalString(),I.canonicalString()));return this.changes.forEach((_,I)=>{const P=this.ur.get(_);if(r.push(this.ar.removeEntry(e,_,P.readTime)),I.isValidDocument()){const L=wr(this.ar.serializer,I);u=u.add(_.path.popLast());const J=Ki(L);s+=J-P.size,r.push(this.ar.addEntry(e,_,L))}else if(s-=P.size,this.trackRemovals){const L=wr(this.ar.serializer,I.convertToNoDocument(Kt.min()));r.push(this.ar.addEntry(e,_,L))}}),u.forEach(_=>{r.push(this.ar.indexManager.addToCollectionParentIndex(e,_))}),r.push(this.ar.updateMetadata(e,s)),ct.waitFor(r)}getFromCache(e,r){return this.ar.rr(e,r).next(s=>(this.ur.set(r,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,r){return this.ar.sr(e,r).next(({documents:s,_r:u})=>(u.forEach((_,I)=>{this.ur.set(_,{size:I,readTime:s.get(_).readTime})}),s))}}function Js(c){return zr(c,"remoteDocumentGlobal")}function pa(c){return zr(c,"remoteDocumentsV14")}function Pc(c){const e=c.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Gd(c,e){const r=e.documentKey.path.toArray();return[c,di(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Xl(c,e){const r=c.path.toArray(),s=e.path.toArray();let u=0;for(let _=0;_<r.length-2&&_<s.length-2;++_)if(u=on(r[_],s[_]),u)return u;return u=on(r.length,s.length),u||(u=on(r[r.length-2],s[s.length-2]),u||on(r[r.length-1],s[s.length-1]))}class xc{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class Ka{constructor(e,r,s,u){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,r))).next(u=>(null!==s&&Ue(s.mutation,u,Bi.empty(),Yn.now()),u))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,pr()).next(()=>s))}getLocalViewOfDocuments(e,r,s=pr()){const u=xo();return this.populateOverlays(e,u,r).next(()=>this.computeViews(e,r,u,s).next(_=>{let I=zi();return _.forEach((P,L)=>{I=I.insert(P,L.overlayedDocument)}),I}))}getOverlayedDocuments(e,r){const s=xo();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,pr()))}populateOverlays(e,r,s){const u=[];return s.forEach(_=>{r.has(_)||u.push(_)}),this.documentOverlayCache.getOverlays(e,u).next(_=>{_.forEach((I,P)=>{r.set(I,P)})})}computeViews(e,r,s,u){let _=Vr();const I=bs(),P=bs();return r.forEach((L,J)=>{const he=s.get(J.key);u.has(J.key)&&(void 0===he||he.mutation instanceof Lr)?_=_.insert(J.key,J):void 0!==he?(I.set(J.key,he.mutation.getFieldMask()),Ue(he.mutation,J,he.mutation.getFieldMask(),Yn.now())):I.set(J.key,Bi.empty())}),this.recalculateAndSaveOverlays(e,_).next(L=>(L.forEach((J,he)=>I.set(J,he)),r.forEach((J,he)=>{var Me;return P.set(J,new xc(he,null!==(Me=I.get(J))&&void 0!==Me?Me:null))}),P))}recalculateAndSaveOverlays(e,r){const s=bs();let u=new oi((I,P)=>I-P),_=pr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(I=>{for(const P of I)P.keys().forEach(L=>{const J=r.get(L);if(null===J)return;let he=s.get(L)||Bi.empty();he=P.applyToLocalView(J,he),s.set(L,he);const Me=(u.get(P.batchId)||pr()).add(L);u=u.insert(P.batchId,Me)})}).next(()=>{const I=[],P=u.getReverseIterator();for(;P.hasNext();){const L=P.getNext(),J=L.key,he=L.value,Me=hs();he.forEach(et=>{if(!_.has(et)){const Ct=j(r.get(et),s.get(et));null!==Ct&&Me.set(et,Ct),_=_.add(et)}}),I.push(this.documentOverlayCache.saveOverlays(e,J,Me))}return ct.waitFor(I)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,u){return Yt.isDocumentKey((I=r).path)&&null===I.collectionGroup&&0===I.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):vr(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,u):this.getDocumentsMatchingCollectionQuery(e,r,s,u);var I}getNextDocuments(e,r,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,u).next(_=>{const I=u-_.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,u-_.size):ct.resolve(xo());let P=-1,L=_;return I.next(J=>ct.forEach(J,(he,Me)=>(P<Me.largestBatchId&&(P=Me.largestBatchId),_.get(he)?ct.resolve():this.remoteDocumentCache.getEntry(e,he).next(et=>{L=L.insert(he,et)}))).next(()=>this.populateOverlays(e,J,_)).next(()=>this.computeViews(e,L,J,pr())).next(he=>({batchId:P,changes:vc(he)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Yt(r)).next(s=>{let u=zi();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,r,s,u){const _=r.collectionGroup;let I=zi();return this.indexManager.getCollectionParents(e,_).next(P=>ct.forEach(P,L=>{const J=(Me=r,et=L.child(_),new F(et,null,Me.explicitOrderBy.slice(),Me.filters.slice(),Me.limit,Me.limitType,Me.startAt,Me.endAt));var Me,et;return this.getDocumentsMatchingCollectionQuery(e,J,s,u).next(he=>{he.forEach((Me,et)=>{I=I.insert(Me,et)})})}).next(()=>I))}getDocumentsMatchingCollectionQuery(e,r,s,u){let _;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(I=>(_=I,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,_,u))).next(I=>{_.forEach((L,J)=>{const he=J.getKey();null===I.get(he)&&(I=I.insert(he,Y.newInvalidDocument(he)))});let P=zi();return I.forEach((L,J)=>{const he=_.get(L);void 0!==he&&Ue(he.mutation,J,Bi.empty(),Yn.now()),sa(r,J)&&(P=P.insert(L,J))}),P})}}class gl{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return ct.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(u=r).id,version:u.version,createTime:Vi(u.createTime)}),ct.resolve();var u}getNamedQuery(e,r){return ct.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(u=r).name,query:Ps(u.bundledQuery),readTime:Vi(u.readTime)}),ct.resolve();var u}}class Wd{constructor(){this.overlays=new oi(Yt.comparator),this.hr=new Map}getOverlay(e,r){return ct.resolve(this.overlays.get(r))}getOverlays(e,r){const s=xo();return ct.forEach(r,u=>this.getOverlay(e,u).next(_=>{null!==_&&s.set(u,_)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((u,_)=>{this.ht(e,r,_)}),ct.resolve()}removeOverlaysForBatchId(e,r,s){const u=this.hr.get(s);return void 0!==u&&(u.forEach(_=>this.overlays=this.overlays.remove(_)),this.hr.delete(s)),ct.resolve()}getOverlaysForCollection(e,r,s){const u=xo(),_=r.length+1,I=new Yt(r.child("")),P=this.overlays.getIteratorFrom(I);for(;P.hasNext();){const L=P.getNext().value,J=L.getKey();if(!r.isPrefixOf(J.path))break;J.path.length===_&&L.largestBatchId>s&&u.set(L.getKey(),L)}return ct.resolve(u)}getOverlaysForCollectionGroup(e,r,s,u){let _=new oi((J,he)=>J-he);const I=this.overlays.getIterator();for(;I.hasNext();){const J=I.getNext().value;if(J.getKey().getCollectionGroup()===r&&J.largestBatchId>s){let he=_.get(J.largestBatchId);null===he&&(he=xo(),_=_.insert(J.largestBatchId,he)),he.set(J.getKey(),J)}}const P=xo(),L=_.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach((J,he)=>P.set(J,he)),!(P.size()>=u)););return ct.resolve(P)}ht(e,r,s){const u=this.overlays.get(s.key);if(null!==u){const I=this.hr.get(u.largestBatchId).delete(s.key);this.hr.set(u.largestBatchId,I)}this.overlays=this.overlays.insert(s.key,new Eo(r,s));let _=this.hr.get(r);void 0===_&&(_=pr(),this.hr.set(r,_)),this.hr.set(r,_.add(s.key))}}class Rc{constructor(){this.Pr=new Jr(Yi.Ir),this.Tr=new Jr(Yi.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const s=new Yi(e,r);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Ar(new Yi(e,r))}Rr(e,r){e.forEach(s=>this.removeReference(s,r))}Vr(e){const r=new Yt(new xn([])),s=new Yi(r,e),u=new Yi(r,e+1),_=[];return this.Tr.forEachInRange([s,u],I=>{this.Ar(I),_.push(I.key)}),_}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new Yt(new xn([])),s=new Yi(r,e),u=new Yi(r,e+1);let _=pr();return this.Tr.forEachInRange([s,u],I=>{_=_.add(I.key)}),_}containsKey(e){const r=new Yi(e,0),s=this.Pr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class Yi{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return Yt.comparator(e.key,r.key)||on(e.pr,r.pr)}static Er(e,r){return on(e.pr,r.pr)||Yt.comparator(e.key,r.key)}}class Mg{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new Jr(Yi.Ir)}checkEmpty(e){return ct.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,u){const _=this.yr;this.yr++;const I=new Wi(_,r,s,u);this.mutationQueue.push(I);for(const P of u)this.wr=this.wr.add(new Yi(P.key,_)),this.indexManager.addToCollectionParentIndex(e,P.key.path.popLast());return ct.resolve(I)}lookupMutationBatch(e,r){return ct.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const u=this.br(r+1),_=u<0?0:u;return ct.resolve(this.mutationQueue.length>_?this.mutationQueue[_]:null)}getHighestUnacknowledgedBatchId(){return ct.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return ct.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new Yi(r,0),u=new Yi(r,Number.POSITIVE_INFINITY),_=[];return this.wr.forEachInRange([s,u],I=>{const P=this.Sr(I.pr);_.push(P)}),ct.resolve(_)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Jr(on);return r.forEach(u=>{const _=new Yi(u,0),I=new Yi(u,Number.POSITIVE_INFINITY);this.wr.forEachInRange([_,I],P=>{s=s.add(P.pr)})}),ct.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,u=s.length+1;let _=s;Yt.isDocumentKey(_)||(_=_.child(""));const I=new Yi(new Yt(_),0);let P=new Jr(on);return this.wr.forEachWhile(L=>{const J=L.key.path;return!!s.isPrefixOf(J)&&(J.length===u&&(P=P.add(L.pr)),!0)},I),ct.resolve(this.Dr(P))}Dr(e){const r=[];return e.forEach(s=>{const u=this.Sr(s);null!==u&&r.push(u)}),r}removeMutationBatch(e,r){Qe(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return ct.forEach(r.mutations,u=>{const _=new Yi(u.key,r.batchId);return s=s.delete(_),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.wr=s})}Mn(e){}containsKey(e,r){const s=new Yi(r,0),u=this.wr.firstAfterOrEqual(s);return ct.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(e){return ct.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class Cp{constructor(e){this.vr=e,this.docs=new oi(Yt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,u=this.docs.get(s),_=u?u.size:0,I=this.vr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:I}),this.size+=I-_,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return ct.resolve(s?s.document.mutableCopy():Y.newInvalidDocument(r))}getEntries(e,r){let s=Vr();return r.forEach(u=>{const _=this.docs.get(u);s=s.insert(u,_?_.document.mutableCopy():Y.newInvalidDocument(u))}),ct.resolve(s)}getDocumentsMatchingQuery(e,r,s,u){let _=Vr();const I=r.path,P=new Yt(I.child("")),L=this.docs.getIteratorFrom(P);for(;L.hasNext();){const{key:J,value:{document:he}}=L.getNext();if(!I.isPrefixOf(J.path))break;J.path.length>I.length+1||Ur(Ei(he),s)<=0||(u.has(he.key)||sa(r,he))&&(_=_.insert(he.key,he.mutableCopy()))}return ct.resolve(_)}getAllFromCollectionGroup(e,r,s,u){wt()}Fr(e,r){return ct.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new Xh(this)}getSize(e){return ct.resolve(this.size)}}class Xh extends ka{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?r.push(this.ar.addEntry(e,u)):this.ar.removeEntry(s)}),ct.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class Pg{constructor(e){this.persistence=e,this.Mr=new yo(r=>Po(r),Is),this.lastRemoteSnapshotVersion=Kt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Rc,this.targetCount=0,this.Lr=Nr.Nn()}forEachTarget(e,r){return this.Mr.forEach((s,u)=>r(u)),ct.resolve()}getLastRemoteSnapshotVersion(e){return ct.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ct.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),ct.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Or&&(this.Or=r),ct.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Lr=new Nr(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,ct.resolve()}updateTargetData(e,r){return this.qn(r),ct.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,ct.resolve()}removeTargets(e,r,s){let u=0;const _=[];return this.Mr.forEach((I,P)=>{P.sequenceNumber<=r&&null===s.get(P.targetId)&&(this.Mr.delete(I),_.push(this.removeMatchingKeysForTargetId(e,P.targetId)),u++)}),ct.waitFor(_).next(()=>u)}getTargetCount(e){return ct.resolve(this.targetCount)}getTargetData(e,r){const s=this.Mr.get(r)||null;return ct.resolve(s)}addMatchingKeys(e,r,s){return this.Nr.dr(r,s),ct.resolve()}removeMatchingKeys(e,r,s){this.Nr.Rr(r,s);const u=this.persistence.referenceDelegate,_=[];return u&&r.forEach(I=>{_.push(u.markPotentiallyOrphaned(e,I))}),ct.waitFor(_)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),ct.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Nr.gr(r);return ct.resolve(s)}containsKey(e,r){return ct.resolve(this.Nr.containsKey(r))}}class ef{constructor(e,r){this.Br={},this.overlays={},this.kr=new B(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Pg(this),this.indexManager=new Dg,this.remoteDocumentCache=new Cp(s=>this.referenceDelegate.Kr(s)),this.serializer=new Mt(r),this.$r=new gl(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Wd,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.Br[e.toKey()];return s||(s=new Mg(r,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,s){Ee("MemoryPersistence","Starting transaction:",e);const u=new Tp(this.kr.next());return this.referenceDelegate.Ur(),s(u).next(_=>this.referenceDelegate.Wr(u).next(()=>_)).toPromise().then(_=>(u.raiseOnCommittedEvent(),_))}Gr(e,r){return ct.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,r)))}}class Tp extends xr{constructor(e){super(),this.currentSequenceNumber=e}}class Qd{constructor(e){this.persistence=e,this.zr=new Rc,this.jr=null}static Hr(e){return new Qd(e)}get Jr(){if(this.jr)return this.jr;throw wt()}addReference(e,r,s){return this.zr.addReference(s,r),this.Jr.delete(s.toString()),ct.resolve()}removeReference(e,r,s){return this.zr.removeReference(s,r),this.Jr.add(s.toString()),ct.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),ct.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(u=>this.Jr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(u=>{u.forEach(_=>this.Jr.add(_.toString()))}).next(()=>s.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ct.forEach(this.Jr,s=>{const u=Yt.fromPath(s);return this.Yr(e,u).next(_=>{_||r.removeEntry(u,Kt.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(s=>{s?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return ct.or([()=>ct.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class _l{constructor(e){this.serializer=e}O(e,r,s,u){const _=new Dt("createOrUpgrade",r);var L;s<1&&u>=1&&(e.createObjectStore("owner"),(L=e).createObjectStore("mutationQueues",{keyPath:"userId"}),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Jn,{unique:!0}),L.createObjectStore("documentMutations"),tf(e),function(L){L.createObjectStore("remoteDocuments")}(e));let I=ct.resolve();return s<3&&u>=3&&(0!==s&&(function(L){L.deleteObjectStore("targetDocuments"),L.deleteObjectStore("targets"),L.deleteObjectStore("targetGlobal")}(e),tf(e)),I=I.next(()=>function(L){const J=L.store("targetGlobal"),he={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Kt.min().toTimestamp(),targetCount:0};return J.put("targetGlobalKey",he)}(_))),s<4&&u>=4&&(0!==s&&(I=I.next(()=>function(L,J){return J.store("mutations").U().next(he=>{L.deleteObjectStore("mutations"),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Jn,{unique:!0});const Me=J.store("mutations"),et=he.map(Ct=>Me.put(Ct));return ct.waitFor(et)})}(e,_))),I=I.next(()=>{!function(L){L.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&u>=5&&(I=I.next(()=>this.Xr(_))),s<6&&u>=6&&(I=I.next(()=>(function(L){L.createObjectStore("remoteDocumentGlobal")}(e),this.ei(_)))),s<7&&u>=7&&(I=I.next(()=>this.ti(_))),s<8&&u>=8&&(I=I.next(()=>this.ni(e,_))),s<9&&u>=9&&(I=I.next(()=>{!function(L){L.objectStoreNames.contains("remoteDocumentChanges")&&L.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&u>=10&&(I=I.next(()=>this.ri(_))),s<11&&u>=11&&(I=I.next(()=>{(function(L){L.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(L){L.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&u>=12&&(I=I.next(()=>{!function(L){const J=L.createObjectStore("documentOverlays",{keyPath:Vn});J.createIndex("collectionPathOverlayIndex",yn,{unique:!1}),J.createIndex("collectionGroupOverlayIndex",zn,{unique:!1})}(e)})),s<13&&u>=13&&(I=I.next(()=>function(L){const J=L.createObjectStore("remoteDocumentsV14",{keyPath:jt});J.createIndex("documentKeyIndex",Xt),J.createIndex("collectionGroupIndex",An)}(e)).next(()=>this.ii(e,_)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(I=I.next(()=>this.si(e,_))),s<15&&u>=15&&(I=I.next(()=>function(L){L.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),L.createObjectStore("indexState",{keyPath:pt}).createIndex("sequenceNumberIndex",Ft,{unique:!1}),L.createObjectStore("indexEntries",{keyPath:un}).createIndex("documentKeyIndex",Ln,{unique:!1})}(e))),s<16&&u>=16&&(I=I.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),I}ei(e){let r=0;return e.store("remoteDocuments").J((s,u)=>{r+=Ki(u)}).next(()=>{const s={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Xr(e){const r=e.store("mutationQueues"),s=e.store("mutations");return r.U().next(u=>ct.forEach(u,_=>{const I=IDBKeyRange.bound([_.userId,-1],[_.userId,_.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",I).next(P=>ct.forEach(P,L=>{Qe(L.userId===_.userId);const J=ns(this.serializer,L);return bp(e,_.userId,J).next(()=>{})}))}))}ti(e){const r=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const _=[];return s.J((I,P)=>{const L=new xn(I),J=[0,$t(L)];_.push(r.get(J).next(he=>he?ct.resolve():r.put({targetId:0,path:$t(L),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>ct.waitFor(_))})}ni(e,r){e.createObjectStore("collectionParents",{keyPath:yt});const s=r.store("collectionParents"),u=new $d,_=I=>{if(u.add(I)){const P=I.lastSegment(),L=I.popLast();return s.put({collectionId:P,parent:$t(L)})}};return r.store("remoteDocuments").J({H:!0},(I,P)=>{const L=new xn(I);return _(L.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([I,P,L],J)=>{const he=fn(P);return _(he.popLast())}))}ri(e){const r=e.store("targets");return r.J((s,u)=>{const _=Ms(u),I=ha(this.serializer,_);return r.put(I)})}ii(e,r){const s=r.store("remoteDocuments"),u=[];return s.J((_,I)=>{const P=r.store("remoteDocumentsV14"),L=(Me=I,Me.document?new Yt(xn.fromString(Me.document.name).popFirst(5)):Me.noDocument?Yt.fromSegments(Me.noDocument.path):Me.unknownDocument?Yt.fromSegments(Me.unknownDocument.path):wt()).path.toArray(),J={prefixPath:L.slice(0,L.length-2),collectionGroup:L[L.length-2],documentId:L[L.length-1],readTime:I.readTime||[0,0],unknownDocument:I.unknownDocument,noDocument:I.noDocument,document:I.document,hasCommittedMutations:!!I.hasCommittedMutations};var Me;u.push(P.put(J))}).next(()=>ct.waitFor(u))}si(e,r){const s=r.store("mutations"),u=Io(this.serializer),_=new ef(Qd.Hr,this.serializer.ct);return s.U().next(I=>{const P=new Map;return I.forEach(L=>{var J;let he=null!==(J=P.get(L.userId))&&void 0!==J?J:pr();ns(this.serializer,L).keys().forEach(Me=>he=he.add(Me)),P.set(L.userId,he)}),ct.forEach(P,(L,J)=>{const he=new tt(J),Me=Wl.lt(this.serializer,he),et=_.getIndexManager(he),Ct=Kl.lt(he,this.serializer,et,_.referenceDelegate);return new Ka(u,Ct,Me,et).recalculateAndSaveOverlaysForDocumentKeys(new oo(r,B.oe),L).next()})})}}function tf(c){c.createObjectStore("targetDocuments",{keyPath:fr}).createIndex("documentTargetsIndex",En,{unique:!0}),c.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ln,{unique:!0}),c.createObjectStore("targetGlobal")}const Kd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class lo{constructor(e,r,s,u,_,I,P,L,J,he,Me=16){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=s,this.oi=_,this.window=I,this.document=P,this._i=J,this.ai=he,this.ui=Me,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=et=>Promise.resolve(),!lo.D())throw new te(we.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Jl(this,u),this.Ti=r+"main",this.serializer=new Mt(L),this.Ei=new ue(this.Ti,this.ui,new _l(this.serializer)),this.Qr=new pl(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Io(this.serializer),this.$r=new Oi,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===he&&Nt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new te(we.FAILED_PRECONDITION,Kd);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new B(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var r=this;return this.Ii=function(){var s=(0,f.Z)(function*(u){if(r.started)return e(u)});return function(u){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var r=(0,f.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,f.Z)(function*(){r.started&&(yield r.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ya(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(r=>{r||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(r=>this.isPrimary&&!r?this.yi(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(Hn(e))return Ee("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ee("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return eu(e).get("owner").next(r=>ct.resolve(this.Si(r)))}bi(e){return Ya(e).delete(this.clientId)}Di(){var e=this;return(0,f.Z)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=zr(s,"clientMetadata");return u.U().next(_=>{const I=e.vi(_,18e5),P=_.filter(L=>-1===I.indexOf(L));return ct.forEach(P,L=>u.delete(L.clientId)).next(()=>P)})}).catch(()=>[]);if(e.di)for(const s of r)e.di.removeItem(e.Fi(s.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?ct.resolve(!0):eu(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)){if(this.Si(r)&&this.networkEnabled)return!0;if(!this.Si(r)){if(!r.allowTabSynchronization)throw new te(we.FAILED_PRECONDITION,Kd);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ya(e).U().next(s=>void 0===this.vi(s,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(r=>(this.isPrimary!==r&&Ee("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,f.Z)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const s=new oo(r,B.oe);return e.yi(s).next(()=>e.bi(s))}),e.Ei.close(),e.Li()})()}vi(e,r){return e.filter(s=>this.Ci(s.updateTimeMs,r)&&!this.Mi(s.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Ya(e).U().next(r=>this.vi(r,18e5).map(s=>s.clientId)))}get started(){return this.qr}getMutationQueue(e,r){return Kl.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Uu(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Wl.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,r,s){Ee("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===r?"readonly":"readwrite",_=16===(L=this.ui)?mi:15===L?Mi:14===L?ur:13===L?ei:12===L?fi:11===L?Sr:void wt();var L;let I;return this.Ei.runTransaction(e,u,_,P=>(I=new oo(P,this.kr?this.kr.next():B.oe),"readwrite-primary"===r?this.gi(I).next(L=>!!L||this.pi(I)).next(L=>{if(!L)throw Nt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new te(we.FAILED_PRECONDITION,sr);return s(I)}).next(L=>this.wi(I).next(()=>L)):this.ki(I).next(()=>s(I)))).then(P=>(I.raiseOnCommittedEvent(),P))}ki(e){return eu(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)&&!this.Si(r)&&!(this.ai||this.allowTabSynchronization&&r.allowTabSynchronization))throw new te(we.FAILED_PRECONDITION,Kd)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return eu(e).put("owner",r)}static D(){return ue.D()}yi(e){const r=eu(e);return r.get("owner").next(s=>this.Si(s)?(Ee("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):ct.resolve())}Ci(e,r){const s=Date.now();return!(e<s-r||e>s&&(Nt(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const r=/(?:Version|Mobile)\/1[456]/;(0,_e.G6)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var r;try{const s=null!==(null===(r=this.di)||void 0===r?void 0:r.getItem(this.Fi(e)));return Ee("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Nt("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Nt("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function eu(c){return zr(c,"owner")}function Ya(c){return zr(c,"clientMetadata")}function Yd(c,e){let r=c.projectId;return c.isDefaultDatabase||(r+="."+c.database),"firestore/"+e+"/"+r+"/"}class rs{constructor(e,r,s,u){this.targetId=e,this.fromCache=r,this.qi=s,this.Qi=u}static Ki(e,r){let s=pr(),u=pr();for(const _ of r.docChanges)switch(_.type){case 0:s=s.add(_.doc.key);break;case 1:u=u.add(_.doc.key)}return new rs(e,r.fromCache,s,u)}}class Ja{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Jd{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,_e.G6)()?8:Be((0,_e.z$)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,s,u){const _={result:null};return this.ji(e,r).next(I=>{_.result=I}).next(()=>{if(!_.result)return this.Hi(e,r,u,s).next(I=>{_.result=I})}).next(()=>{if(_.result)return;const I=new Ja;return this.Ji(e,r,I).next(P=>{if(_.result=P,this.Ui)return this.Yi(e,r,I,P.size)})}).next(()=>_.result)}Yi(e,r,s,u){return s.documentReadCount<this.Wi?(ht()<=Se.in.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Ta(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ct.resolve()):(ht()<=Se.in.DEBUG&&Ee("QueryEngine","Query:",Ta(r),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Gi*u?(ht()<=Se.in.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Ta(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vi(r))):ct.resolve())}ji(e,r){if(kn(r))return ct.resolve(null);let s=vi(r);return this.indexManager.getIndexType(e,s).next(u=>0===u?null:(null!==r.limit&&1===u&&(r=$a(r,null,"F"),s=vi(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(_=>{const I=pr(..._);return this.zi.getDocuments(e,I).next(P=>this.indexManager.getMinOffset(e,s).next(L=>{const J=this.Zi(r,P);return this.Xi(r,J,I,L.readTime)?this.ji(e,$a(r,null,"F")):this.es(e,J,r,L)}))})))}Hi(e,r,s,u){return kn(r)||u.isEqual(Kt.min())?ct.resolve(null):this.zi.getDocuments(e,s).next(_=>{const I=this.Zi(r,_);return this.Xi(r,I,s,u)?ct.resolve(null):(ht()<=Se.in.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Ta(r)),this.es(e,I,r,Yr(u,-1)).next(P=>P))})}Zi(e,r){let s=new Jr(es(e));return r.forEach((u,_)=>{sa(e,_)&&(s=s.add(_))}),s}Xi(e,r,s,u){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const _="F"===e.limitType?r.last():r.first();return!!_&&(_.hasPendingWrites||_.version.compareTo(u)>0)}Ji(e,r,s){return ht()<=Se.in.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Ta(r)),this.zi.getDocumentsMatchingQuery(e,r,gn.min(),s)}es(e,r,s,u){return this.zi.getDocumentsMatchingQuery(e,s,u).next(_=>(r.forEach(I=>{_=_.insert(I.key,I)}),_))}}class Oc{constructor(e,r,s,u){this.persistence=e,this.ts=r,this.serializer=u,this.ns=new oi(on),this.rs=new yo(_=>Po(_),Is),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(s)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ka(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function vl(c,e,r,s){return new Oc(c,e,r,s)}function nf(c,e){return rf.apply(this,arguments)}function rf(){return(rf=(0,f.Z)(function*(c,e){const r=Le(c);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let u;return r.mutationQueue.getAllMutationBatches(s).next(_=>(u=_,r._s(e),r.mutationQueue.getAllMutationBatches(s))).next(_=>{const I=[],P=[];let L=pr();for(const J of u){I.push(J.batchId);for(const he of J.mutations)L=L.add(he.key)}for(const J of _){P.push(J.batchId);for(const he of J.mutations)L=L.add(he.key)}return r.localDocuments.getDocuments(s,L).next(J=>({us:J,removedBatchIds:I,addedBatchIds:P}))})})})).apply(this,arguments)}function wp(c){const e=Le(c);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function tu(c,e,r){let s=pr(),u=pr();return r.forEach(_=>s=s.add(_)),e.getEntries(c,s).next(_=>{let I=Vr();return r.forEach((P,L)=>{const J=_.get(P);L.isFoundDocument()!==J.isFoundDocument()&&(u=u.add(P)),L.isNoDocument()&&L.version.isEqual(Kt.min())?(e.removeEntry(P,L.readTime),I=I.insert(P,L)):!J.isValidDocument()||L.version.compareTo(J.version)>0||0===L.version.compareTo(J.version)&&J.hasPendingWrites?(e.addEntry(L),I=I.insert(P,L)):Ee("LocalStore","Ignoring outdated watch update for ",P,". Current version:",J.version," Watch version:",L.version)}),{cs:I,ls:u}})}function Xs(c,e){const r=Le(c);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function nu(c,e){const r=Le(c);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return r.Qr.getTargetData(s,e).next(_=>_?(u=_,ct.resolve(u)):r.Qr.allocateTargetId(s).next(I=>(u=new St(e,I,"TargetPurposeListen",s.currentSequenceNumber),r.Qr.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=r.ns.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.ns=r.ns.insert(s.targetId,s),r.rs.set(e,s.targetId)),s})}function ga(c,e,r){return ru.apply(this,arguments)}function ru(){return(ru=(0,f.Z)(function*(c,e,r){const s=Le(c),u=s.ns.get(e),_=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",_,I=>s.persistence.referenceDelegate.removeTarget(I,u)))}catch(I){if(!Hn(I))throw I;Ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${I}`)}s.ns=s.ns.remove(e),s.rs.delete(u.target)})).apply(this,arguments)}function qu(c,e,r){const s=Le(c);let u=Kt.min(),_=pr();return s.persistence.runTransaction("Execute query","readwrite",I=>function(L,J,he){const Me=Le(L),et=Me.rs.get(he);return void 0!==et?ct.resolve(Me.ns.get(et)):Me.Qr.getTargetData(J,he)}(s,I,vi(e)).next(P=>{if(P)return u=P.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(I,P.targetId).next(L=>{_=L})}).next(()=>s.ts.getDocumentsMatchingQuery(I,e,r?u:Kt.min(),r?_:pr())).next(P=>(eh(s,_c(e),P),{documents:P,hs:_})))}function Gu(c,e){const r=Le(c),s=Le(r.Qr),u=r.ns.get(e);return u?Promise.resolve(u.target):r.persistence.runTransaction("Get target data","readonly",_=>s.ot(_,e).next(I=>I?I.target:null))}function Xd(c,e){const r=Le(c),s=r.ss.get(e)||Kt.min();return r.persistence.runTransaction("Get new document changes","readonly",u=>r.os.getAllFromCollectionGroup(u,e,Yr(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(eh(r,e,u),u))}function eh(c,e,r){let s=c.ss.get(e)||Kt.min();r.forEach((u,_)=>{_.readTime.compareTo(s)>0&&(s=_.readTime)}),c.ss.set(e,s)}function Nc(){return(Nc=(0,f.Z)(function*(c,e,r,s){const u=Le(c);let _=pr(),I=Vr();for(const J of r){const he=e.Ps(J.metadata.name);J.document&&(_=_.add(he));const Me=e.Is(J);Me.setReadTime(e.Ts(J.metadata.readTime)),I=I.insert(he,Me)}const P=u.os.newChangeBuffer({trackRemovals:!0}),L=yield nu(u,(he=s,vi(ze(xn.fromString(`__bundle__/docs/${he}`)))));var he;return u.persistence.runTransaction("Apply bundle documents","readwrite",J=>tu(J,P,I).next(he=>(P.apply(J),he)).next(he=>u.Qr.removeMatchingKeysForTargetId(J,L.targetId).next(()=>u.Qr.addMatchingKeys(J,_,L.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(J,he.cs,he.ls)).next(()=>he.cs)))})).apply(this,arguments)}function Wu(c,e){return cf.apply(this,arguments)}function cf(){return(cf=(0,f.Z)(function*(c,e,r=pr()){const s=yield nu(c,vi(Ps(e.bundledQuery))),u=Le(c);return u.persistence.runTransaction("Save named query","readwrite",_=>{const I=Vi(e.readTime);if(s.snapshotVersion.compareTo(I)>=0)return u.$r.saveNamedQuery(_,e);const P=s.withResumeToken(Si.EMPTY_BYTE_STRING,I);return u.ns=u.ns.insert(P.targetId,P),u.Qr.updateTargetData(_,P).next(()=>u.Qr.removeMatchingKeysForTargetId(_,s.targetId)).next(()=>u.Qr.addMatchingKeys(_,r,s.targetId)).next(()=>u.$r.saveNamedQuery(_,e))})})).apply(this,arguments)}function kc(c,e){return`firestore_clients_${c}_${e}`}function th(c,e,r){let s=`firestore_mutations_${c}_${r}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Fa(c,e){return`firestore_targets_${c}_${e}`}class iu{constructor(e,r,s,u){this.user=e,this.batchId=r,this.state=s,this.error=u}static Es(e,r,s){const u=JSON.parse(s);let _,I="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return I&&u.error&&(I="string"==typeof u.error.message&&"string"==typeof u.error.code,I&&(_=new te(u.error.code,u.error.message))),I?new iu(e,r,u.state,_):(Nt("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ea{constructor(e,r,s){this.targetId=e,this.state=r,this.error=s}static Es(e,r){const s=JSON.parse(r);let u,_="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return _&&s.error&&(_="string"==typeof s.error.message&&"string"==typeof s.error.code,_&&(u=new te(s.error.code,s.error.message))),_?new ea(e,s.state,u):(Nt("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class yl{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Es(e,r){const s=JSON.parse(r);let u="object"==typeof s&&s.activeTargetIds instanceof Array,_=ol();for(let I=0;u&&I<s.activeTargetIds.length;++I)u=kt(s.activeTargetIds[I]),_=_.add(s.activeTargetIds[I]);return u?new yl(e,_):(Nt("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class El{constructor(e,r){this.clientId=e,this.onlineState=r}static Es(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new El(r.clientId,r.onlineState):(Nt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Qu{constructor(){this.activeTargetIds=ol()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nh{constructor(e,r,s,u,_){this.window=e,this.oi=r,this.persistenceKey=s,this.Vs=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new oi(on),this.started=!1,this.ys=[];const I=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=_,this.ws=kc(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new Qu),this.bs=new RegExp(`^firestore_clients_${I}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${I}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${I}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(L){return`firestore_bundle_loaded_v2_${L}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,f.Z)(function*(){const r=yield e.syncEngine.Bi();for(const u of r){if(u===e.Vs)continue;const _=e.getItem(kc(e.persistenceKey,u));if(_){const I=yl.Es(u,_);I&&(e.ps=e.ps.insert(I.clientId,I))}}e.Ms();const s=e.storage.getItem(e.vs);if(s){const u=e.xs(s);u&&e.Os(u)}for(const u of e.ys)e.gs(u);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let r=!1;return this.ps.forEach((s,u)=>{u.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,r,s){this.Ls(e,r,s),this.Bs(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Fa(this.persistenceKey,e));if(s){const u=ea.Es(e,s);u&&(r=u.state)}}return this.ks.As(e),this.Ms(),r}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Fa(this.persistenceKey,e))}updateQueryState(e,r,s){this.qs(e,r,s)}handleUserChange(e,r,s){r.forEach(u=>{this.Bs(u)}),this.currentUser=e,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return Ee("SharedClientState","READ",e,r),r}setItem(e,r){Ee("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){Ee("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var r=this;const s=e;if(s.storageArea===this.storage){if(Ee("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ws)return void Nt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,f.Z)(function*(){if(r.started){if(null!==s.key)if(r.bs.test(s.key)){if(null==s.newValue){const u=r.$s(s.key);return r.Us(u,null)}{const u=r.Ws(s.key,s.newValue);if(u)return r.Us(u.clientId,u)}}else if(r.Ds.test(s.key)){if(null!==s.newValue){const u=r.Gs(s.key,s.newValue);if(u)return r.zs(u)}}else if(r.Cs.test(s.key)){if(null!==s.newValue){const u=r.js(s.key,s.newValue);if(u)return r.Hs(u)}}else if(s.key===r.vs){if(null!==s.newValue){const u=r.xs(s.newValue);if(u)return r.Os(u)}}else if(s.key===r.Ss){const u=function(I){let P=B.oe;if(null!=I)try{const L=JSON.parse(I);Qe("number"==typeof L),P=L}catch(L){Nt("SharedClientState","Failed to read sequence number from WebStorage",L)}return P}(s.newValue);u!==B.oe&&r.sequenceNumberHandler(u)}else if(s.key===r.Fs){const u=r.Js(s.newValue);yield Promise.all(u.map(_=>r.syncEngine.Ys(_)))}}else r.ys.push(s)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,r,s){const u=new iu(this.currentUser,e,r,s),_=th(this.persistenceKey,this.currentUser,e);this.setItem(_,u.ds())}Bs(e){const r=th(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,r,s){const u=Fa(this.persistenceKey,e),_=new ea(e,r,s);this.setItem(u,_.ds())}Ks(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Fs,r)}$s(e){const r=this.bs.exec(e);return r?r[1]:null}Ws(e,r){const s=this.$s(e);return yl.Es(s,r)}Gs(e,r){const s=this.Ds.exec(e),u=Number(s[1]);return iu.Es(new tt(void 0!==s[2]?s[2]:null),u,r)}js(e,r){const s=this.Cs.exec(e),u=Number(s[1]);return ea.Es(u,r)}xs(e){return El.Es(e)}Js(e){return JSON.parse(e)}zs(e){var r=this;return(0,f.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Zs(e.batchId,e.state,e.error);Ee("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,r){const s=r?this.ps.insert(e,r):this.ps.remove(e),u=this.Ns(this.ps),_=this.Ns(s),I=[],P=[];return _.forEach(L=>{u.has(L)||I.push(L)}),u.forEach(L=>{_.has(L)||P.push(L)}),this.syncEngine.eo(I,P).then(()=>{this.ps=s})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let r=ol();return e.forEach((s,u)=>{r=r.unionWith(u.activeTargetIds)}),r}}class lf{constructor(){this.no=new Qu,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,s){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Qu,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Fc{io(e){}shutdown(){}}class Al{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let rh=null;function uf(){return null===rh?rh=268435456+Math.round(2147483648*Math.random()):rh++,"0x"+rh.toString(16)}const T={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class g{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const y="WebChannelConnection";class M extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),_=encodeURIComponent(this.databaseId.database);this.wo=s+"://"+r.host,this.So=`projects/${u}/databases/${_}`,this.bo="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${_}`}get Do(){return!1}Co(r,s,u,_,I){const P=uf(),L=this.vo(r,s.toUriEncodedString());Ee("RestConnection",`Sending RPC '${r}' ${P}:`,L,u);const J={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(J,_,I),this.Mo(r,L,J,u).then(he=>(Ee("RestConnection",`Received RPC '${r}' ${P}: `,he),he),he=>{throw Vt("RestConnection",`RPC '${r}' ${P} failed with error: `,he,"url: ",L,"request:",u),he})}xo(r,s,u,_,I,P){return this.Co(r,s,u,_,I)}Fo(r,s,u){r["X-Goog-Api-Client"]="gl-js/ fire/"+Ze,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((_,I)=>r[I]=_),u&&u.headers.forEach((_,I)=>r[I]=_)}vo(r,s){return`${this.wo}/v1/${s}:${T[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,r,s,u){const _=uf();return new Promise((I,P)=>{const L=new se;L.setWithCredentials(!0),L.listenOnce(De.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case Re.NO_ERROR:const he=L.getResponseJson();Ee(y,`XHR for RPC '${e}' ${_} received:`,JSON.stringify(he)),I(he);break;case Re.TIMEOUT:Ee(y,`RPC '${e}' ${_} timed out`),P(new te(we.DEADLINE_EXCEEDED,"Request time out"));break;case Re.HTTP_ERROR:const Me=L.getStatus();if(Ee(y,`RPC '${e}' ${_} failed with status:`,Me,"response text:",L.getResponseText()),Me>0){let et=L.getResponseJson();Array.isArray(et)&&(et=et[0]);const Ct=et?.error;if(Ct&&Ct.status&&Ct.message){const Gt=function(nn){const $n=nn.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf($n)>=0?$n:we.UNKNOWN}(Ct.status);P(new te(Gt,Ct.message))}else P(new te(we.UNKNOWN,"Server responded with status "+L.getStatus()))}else P(new te(we.UNAVAILABLE,"Connection failed."));break;default:wt()}}finally{Ee(y,`RPC '${e}' ${_} completed.`)}});const J=JSON.stringify(u);Ee(y,`RPC '${e}' ${_} sending request:`,u),L.send(r,"POST",J,s,15)})}Oo(e,r,s){const u=uf(),_=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],I=Fe(),P=_t(),L={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},J=this.longPollingOptions.timeoutSeconds;void 0!==J&&(L.longPollingTimeout=Math.round(1e3*J)),this.useFetchStreams&&(L.xmlHttpFactory=new be({})),this.Fo(L.initMessageHeaders,r,s),L.encodeInitMessageHeaders=!0;const he=_.join("");Ee(y,`Creating RPC '${e}' stream ${u}: ${he}`,L);const Me=I.createWebChannel(he,L);let et=!1,Ct=!1;const Gt=new g({lo:nn=>{Ct?Ee(y,`Not sending because RPC '${e}' stream ${u} is closed:`,nn):(et||(Ee(y,`Opening RPC '${e}' stream ${u} transport.`),Me.open(),et=!0),Ee(y,`RPC '${e}' stream ${u} sending:`,nn),Me.send(nn))},ho:()=>Me.close()}),hn=(nn,$n,or)=>{nn.listen($n,Qn=>{try{or(Qn)}catch(Mr){setTimeout(()=>{throw Mr},0)}})};return hn(Me,ye.EventType.OPEN,()=>{Ct||(Ee(y,`RPC '${e}' stream ${u} transport opened.`),Gt.mo())}),hn(Me,ye.EventType.CLOSE,()=>{Ct||(Ct=!0,Ee(y,`RPC '${e}' stream ${u} transport closed`),Gt.po())}),hn(Me,ye.EventType.ERROR,nn=>{Ct||(Ct=!0,Vt(y,`RPC '${e}' stream ${u} transport errored:`,nn),Gt.po(new te(we.UNAVAILABLE,"The operation could not be completed")))}),hn(Me,ye.EventType.MESSAGE,nn=>{var $n;if(!Ct){const or=nn.data[0];Qe(!!or);const Mr=or.error||(null===($n=or[0])||void 0===$n?void 0:$n.error);if(Mr){Ee(y,`RPC '${e}' stream ${u} received error:`,Mr);const wi=Mr.status;let Gr=function(st){const mt=Ti[st];if(void 0!==mt)return Bo(mt)}(wi),gt=Mr.message;void 0===Gr&&(Gr=we.INTERNAL,gt="Unknown error status: "+wi+" with message "+Mr.message),Ct=!0,Gt.po(new te(Gr,gt)),Me.close()}else Ee(y,`RPC '${e}' stream ${u} received:`,or),Gt.yo(or)}}),hn(P,We.STAT_EVENT,nn=>{nn.stat===Ye.PROXY?Ee(y,`RPC '${e}' stream ${u} detected buffering proxy`):nn.stat===Ye.NOPROXY&&Ee(y,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Gt.fo()},0),Gt}}function X(){return typeof window<"u"?window:null}function me(){return typeof document<"u"?document:null}function rt(c){return new Su(c,!0)}class Pt{constructor(e,r,s=1e3,u=1.5,_=6e4){this.oi=e,this.timerId=r,this.No=s,this.Lo=u,this.Bo=_,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const r=Math.floor(this.ko+this.Uo()),s=Math.max(0,Date.now()-this.Qo),u=Math.max(0,r-s);u>0&&Ee("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.ko} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,u,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class Jt{constructor(e,r,s,u,_,I,P,L){this.oi=e,this.Go=s,this.zo=u,this.connection=_,this.authCredentialsProvider=I,this.appCheckCredentialsProvider=P,this.listener=L,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Pt(e,r)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,f.Z)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,f.Z)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,r){var s=this;return(0,f.Z)(function*(){s.s_(),s.o_(),s.Yo.cancel(),s.jo++,4!==e?s.Yo.reset():r&&r.code===we.RESOURCE_EXHAUSTED?(Nt(r.toString()),Nt("Using maximum backoff delay to prevent overloading the backend."),s.Yo.Ko()):r&&r.code===we.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.__(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Ao(r)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),r=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.jo===r&&this.u_(s,u)},s=>{e(()=>{const u=new te(we.UNKNOWN,"Fetching auth token failed: "+s.message);return this.c_(u)})})}u_(e,r){const s=this.a_(this.jo);this.stream=this.l_(e,r),this.stream.Po(()=>{s(()=>this.listener.Po())}),this.stream.To(()=>{s(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(u=>{s(()=>this.c_(u))}),this.stream.onMessage(u=>{s(()=>this.onMessage(u))})}e_(){var e=this;this.state=5,this.Yo.$o((0,f.Z)(function*(){e.state=0,e.start()}))}c_(e){return Ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return r=>{this.oi.enqueueAndForget(()=>this.jo===e?r():(Ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fn extends Jt{constructor(e,r,s,u,_,I){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,u,I),this.serializer=_}l_(e,r){return this.connection.Oo("Listen",e,r)}onMessage(e){this.Yo.reset();const r=function wc(c,e){let r;if("targetChange"in e){const s="NO_CHANGE"===(J=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===J?1:"REMOVE"===J?2:"CURRENT"===J?3:"RESET"===J?4:wt(),u=e.targetChange.targetIds||[],_=function(J,he){return J.useProto3Json?(Qe(void 0===he||"string"==typeof he),Si.fromBase64String(he||"")):(Qe(void 0===he||he instanceof Buffer||he instanceof Uint8Array),Si.fromUint8Array(he||new Uint8Array))}(c,e.targetChange.resumeToken),I=e.targetChange.cause,P=I&&function(J){const he=void 0===J.code?we.UNKNOWN:Bo(J.code);return new te(he,J.message||"")}(I);r=new zs(s,u,_,P||null)}else if("documentChange"in e){const s=e.documentChange,u=Ds(c,s.document.name),_=Vi(s.document.updateTime),I=s.document.createTime?Vi(s.document.createTime):Kt.min(),P=new li({mapValue:{fields:s.document.fields}}),L=Y.newFoundDocument(u,_,I,P);r=new Cc(s.targetIds||[],s.removedTargetIds||[],L.key,L)}else if("documentDelete"in e){const s=e.documentDelete,u=Ds(c,s.document),_=s.readTime?Vi(s.readTime):Kt.min(),I=Y.newNoDocument(u,_);r=new Cc([],s.removedTargetIds||[],I.key,I)}else if("documentRemove"in e){const s=e.documentRemove,u=Ds(c,s.document);r=new Cc([],s.removedTargetIds||[],u,null)}else{if(!("filter"in e))return wt();{const s=e.filter,{count:u=0,unchangedNames:_}=s,I=new Zo(u,_);r=new Nd(s.targetId,I)}}var J;return r}(this.serializer,e),s=function(_){if(!("targetChange"in _))return Kt.min();const I=_.targetChange;return I.targetIds&&I.targetIds.length?Kt.min():I.readTime?Vi(I.readTime):Kt.min()}(e);return this.listener.h_(r,s)}P_(e){const r={};r.database=qr(this.serializer),r.addTarget=function(_,I){let P;const L=I.target;if(P=za(L)?{documents:Vd(_,L)}:{query:Ud(_,L)._t},P.targetId=I.targetId,I.resumeToken.approximateByteSize()>0){P.resumeToken=Fd(_,I.resumeToken);const J=Tc(_,I.expectedCount);null!==J&&(P.expectedCount=J)}else if(I.snapshotVersion.compareTo(Kt.min())>0){P.readTime=Ma(_,I.snapshotVersion.toTimestamp());const J=Tc(_,I.expectedCount);null!==J&&(P.expectedCount=J)}return P}(this.serializer,e);const s=function Ss(c,e){const r=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.i_(r)}I_(e){const r={};r.database=qr(this.serializer),r.removeTarget=e,this.i_(r)}}class er extends Jt{constructor(e,r,s,u,_,I){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,u,I),this.serializer=_,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,r){return this.connection.Oo("Write",e,r)}onMessage(e){if(Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const r=function Wa(c,e){return c&&c.length>0?(Qe(void 0!==e),c.map(r=>function(u,_){let I=Vi(u.updateTime?u.updateTime:_);return I.isEqual(Kt.min())&&(I=Vi(_)),new ll(I,u.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=Vi(e.commitTime);return this.listener.A_(s,r)}return Qe(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=qr(this.serializer),this.i_(e)}d_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>No(this.serializer,s))};this.i_(r)}}class jr extends class{}{constructor(e,r,s,u){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=u,this.m_=!1}f_(){if(this.m_)throw new te(we.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,r,s,u){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_,I])=>this.connection.Co(e,Ld(r,s),u,_,I)).catch(_=>{throw"FirebaseError"===_.name?(_.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new te(we.UNKNOWN,_.toString())})}xo(e,r,s,u,_){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([I,P])=>this.connection.xo(e,Ld(r,s),u,I,P,_)).catch(I=>{throw"FirebaseError"===I.name?(I.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),I):new te(we.UNKNOWN,I.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class ps{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Nt(r),this.y_=!1):Ee("OnlineStateTracker",r)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class La{constructor(e,r,s,u,_){var I=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=_,this.O_.io(P=>{s.enqueueAndForget((0,f.Z)(function*(){var L;ec(I)&&(Ee("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,f.Z)(function*(he){const Me=Le(he);Me.M_.add(4),yield Lc(Me),Me.N_.set("Unknown"),Me.M_.delete(4),yield Xa(Me)}),function J(he){return L.apply(this,arguments)})(I))}))}),this.N_=new ps(s,u)}}function Xa(c){return Il.apply(this,arguments)}function Il(){return(Il=(0,f.Z)(function*(c){if(ec(c))for(const e of c.x_)yield e(!0)})).apply(this,arguments)}function Lc(c){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,f.Z)(function*(c){for(const e of c.x_)yield e(!1)})).apply(this,arguments)}function Vc(c,e){const r=Le(c);r.F_.has(e.targetId)||(r.F_.set(e.targetId,e),oh(r)?Yu(r):ed(r).Xo()&&ih(r,e))}function Uc(c,e){const r=Le(c),s=ed(r);r.F_.delete(e),s.Xo()&&df(r,e),0===r.F_.size&&(s.Xo()?s.n_():ec(r)&&r.N_.set("Unknown"))}function ih(c,e){if(c.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Kt.min())>0){const r=c.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}ed(c).P_(e)}function df(c,e){c.L_.xe(e),ed(c).I_(e)}function Yu(c){c.L_=new ws({getRemoteKeysForTarget:e=>c.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>c.F_.get(e)||null,tt:()=>c.datastore.serializer.databaseId}),ed(c).start(),c.N_.w_()}function oh(c){return ec(c)&&!ed(c).Zo()&&c.F_.size>0}function ec(c){return 0===Le(c).M_.size}function Bc(c){c.L_=void 0}function Ju(c){return hf.apply(this,arguments)}function hf(){return(hf=(0,f.Z)(function*(c){c.N_.set("Online")})).apply(this,arguments)}function Dp(c){return ff.apply(this,arguments)}function ff(){return(ff=(0,f.Z)(function*(c){c.F_.forEach((e,r)=>{ih(c,e)})})).apply(this,arguments)}function Rs(c,e){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,f.Z)(function*(c,e){Bc(c),oh(c)?(c.N_.D_(e),Yu(c)):c.N_.set("Unknown")})).apply(this,arguments)}function e_(c,e,r){return sh.apply(this,arguments)}function sh(){return sh=(0,f.Z)(function*(c,e,r){if(c.N_.set("Online"),e instanceof zs&&2===e.state&&e.cause)try{yield(s=(0,f.Z)(function*(_,I){const P=I.cause;for(const L of I.targetIds)_.F_.has(L)&&(yield _.remoteSyncer.rejectListen(L,P),_.F_.delete(L),_.L_.removeTarget(L))}),function u(_,I){return s.apply(this,arguments)})(c,e)}catch(s){Ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield bl(c,s)}else if(e instanceof Cc?c.L_.Ke(e):e instanceof Nd?c.L_.He(e):c.L_.We(e),!r.isEqual(Kt.min()))try{const s=yield wp(c.localStore);r.compareTo(s)>=0&&(yield function(_,I){const P=_.L_.rt(I);return P.targetChanges.forEach((L,J)=>{if(L.resumeToken.approximateByteSize()>0){const he=_.F_.get(J);he&&_.F_.set(J,he.withResumeToken(L.resumeToken,I))}}),P.targetMismatches.forEach((L,J)=>{const he=_.F_.get(L);if(!he)return;_.F_.set(L,he.withResumeToken(Si.EMPTY_BYTE_STRING,he.snapshotVersion)),df(_,L);const Me=new St(he.target,L,J,he.sequenceNumber);ih(_,Me)}),_.remoteSyncer.applyRemoteEvent(P)}(c,r))}catch(s){Ee("RemoteStore","Failed to raise snapshot:",s),yield bl(c,s)}var s}),sh.apply(this,arguments)}function bl(c,e,r){return ou.apply(this,arguments)}function ou(){return(ou=(0,f.Z)(function*(c,e,r){if(!Hn(e))throw e;c.M_.add(1),yield Lc(c),c.N_.set("Offline"),r||(r=()=>wp(c.localStore)),c.asyncQueue.enqueueRetryable((0,f.Z)(function*(){Ee("RemoteStore","Retrying IndexedDB access"),yield r(),c.M_.delete(1),yield Xa(c)}))})).apply(this,arguments)}function t_(c,e){return e().catch(r=>bl(c,r,e))}function ah(c){return xg.apply(this,arguments)}function xg(){return(xg=(0,f.Z)(function*(c){const e=Le(c),r=jc(e);let s=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;n_(e);)try{const u=yield Xs(e.localStore,s);if(null===u){0===e.v_.length&&r.n_();break}s=u.batchId,Rg(e,u)}catch(u){yield bl(e,u)}r_(e)&&i_(e)})).apply(this,arguments)}function n_(c){return ec(c)&&c.v_.length<10}function Rg(c,e){c.v_.push(e);const r=jc(c);r.Xo()&&r.E_&&r.d_(e.mutations)}function r_(c){return ec(c)&&!jc(c).Zo()&&c.v_.length>0}function i_(c){jc(c).start()}function _v(c){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,f.Z)(function*(c){jc(c).V_()})).apply(this,arguments)}function Og(c){return ch.apply(this,arguments)}function ch(){return(ch=(0,f.Z)(function*(c){const e=jc(c);for(const r of c.v_)e.d_(r.mutations)})).apply(this,arguments)}function ta(c,e,r){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,f.Z)(function*(c,e,r){const s=c.v_.shift(),u=So.from(s,e,r);yield t_(c,()=>c.remoteSyncer.applySuccessfulWrite(u)),yield ah(c)})).apply(this,arguments)}function Ng(c,e){return lh.apply(this,arguments)}function lh(){return lh=(0,f.Z)(function*(c,e){var r;e&&jc(c).E_&&(yield(r=(0,f.Z)(function*(u,_){if(qo(P=_.code)&&P!==we.ABORTED){const I=u.v_.shift();jc(u).t_(),yield t_(u,()=>u.remoteSyncer.rejectFailedWrite(I.batchId,_)),yield ah(u)}var P}),function s(u,_){return r.apply(this,arguments)})(c,e)),r_(c)&&i_(c)}),lh.apply(this,arguments)}function Ko(c,e){return su.apply(this,arguments)}function su(){return(su=(0,f.Z)(function*(c,e){const r=Le(c);r.asyncQueue.verifyOperationInProgress(),Ee("RemoteStore","RemoteStore received new credentials");const s=ec(r);r.M_.add(3),yield Lc(r),s&&r.N_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.M_.delete(3),yield Xa(r)})).apply(this,arguments)}function pf(c,e){return gf.apply(this,arguments)}function gf(){return(gf=(0,f.Z)(function*(c,e){const r=Le(c);e?(r.M_.delete(2),yield Xa(r)):e||(r.M_.add(2),yield Lc(r),r.N_.set("Unknown"))})).apply(this,arguments)}function ed(c){return c.B_||(c.B_=function(r,s,u){const _=Le(r);return _.f_(),new Fn(s,_.connection,_.authCredentials,_.appCheckCredentials,_.serializer,u)}(c.datastore,c.asyncQueue,{Po:Ju.bind(null,c),To:Dp.bind(null,c),Ao:Rs.bind(null,c),h_:e_.bind(null,c)}),c.x_.push(function(){var e=(0,f.Z)(function*(r){r?(c.B_.t_(),oh(c)?Yu(c):c.N_.set("Unknown")):(yield c.B_.stop(),Bc(c))});return function(r){return e.apply(this,arguments)}}())),c.B_}function jc(c){return c.k_||(c.k_=function(r,s,u){const _=Le(r);return _.f_(),new er(s,_.connection,_.authCredentials,_.appCheckCredentials,_.serializer,u)}(c.datastore,c.asyncQueue,{Po:()=>Promise.resolve(),To:_v.bind(null,c),Ao:Ng.bind(null,c),R_:Og.bind(null,c),A_:ta.bind(null,c)}),c.x_.push(function(){var e=(0,f.Z)(function*(r){r?(c.k_.t_(),yield ah(c)):(yield c.k_.stop(),c.v_.length>0&&(Ee("RemoteStore",`Stopping write stream with ${c.v_.length} pending writes`),c.v_=[]))});return function(r){return e.apply(this,arguments)}}())),c.k_}class Mp{constructor(e,r,s,u,_){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=u,this.removalCallback=_,this.deferred=new Ie,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(I=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,u,_){const I=Date.now()+s,P=new Mp(e,r,I,u,_);return P.start(s),P}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new te(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function au(c,e){if(Nt("AsyncQueue",`${e}: ${c}`),Hn(c))return new te(we.UNAVAILABLE,`${e}: ${c}`);throw c}class uh{constructor(e){this.comparator=e?(r,s)=>e(r,s)||Yt.comparator(r.key,s.key):(r,s)=>Yt.comparator(r.key,s.key),this.keyedMap=zi(),this.sortedSet=new oi(this.comparator)}static emptySet(e){return new uh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof uh)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,_=s.getNext().key;if(!u.isEqual(_))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new uh;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class Pp{constructor(){this.q_=new oi(Yt.comparator)}track(e){const r=e.doc.key,s=this.q_.get(r);s?0!==e.type&&3===s.type?this.q_=this.q_.insert(r,e):3===e.type&&1!==s.type?this.q_=this.q_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.q_=this.q_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.q_=this.q_.remove(r):1===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):wt():this.q_=this.q_.insert(r,e)}Q_(){const e=[];return this.q_.inorderTraversal((r,s)=>{e.push(s)}),e}}class td{constructor(e,r,s,u,_,I,P,L,J){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=_,this.fromCache=I,this.syncStateChanged=P,this.excludesMetadataChanges=L,this.hasCachedResults=J}static fromInitialDocuments(e,r,s,u,_){const I=[];return r.forEach(P=>{I.push({type:0,doc:P})}),new td(e,r,uh.emptySet(r),I,s,u,!0,!1,_)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ca(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==s[u].type||!r[u].doc.isEqual(s[u].doc))return!1;return!0}}class o_{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class xp{constructor(){this.queries=new yo(e=>mc(e),Ca),this.onlineState="Unknown",this.z_=new Set}}function dh(c,e){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,f.Z)(function*(c,e){const r=Le(c);let s=3;const u=e.query;let _=r.queries.get(u);_?!_.W_()&&e.G_()&&(s=2):(_=new o_,s=e.G_()?0:1);try{switch(s){case 0:_.K_=yield r.onListen(u,!0);break;case 1:_.K_=yield r.onListen(u,!1);break;case 2:yield r.onFirstRemoteStoreListen(u)}}catch(I){const P=au(I,`Initialization of query '${Ta(e.query)}' failed`);return void e.onError(P)}r.queries.set(u,_),_.U_.push(e),e.j_(r.onlineState),_.K_&&e.H_(_.K_)&&mf(r)})).apply(this,arguments)}function cu(c,e){return Op.apply(this,arguments)}function Op(){return(Op=(0,f.Z)(function*(c,e){const r=Le(c),s=e.query;let u=3;const _=r.queries.get(s);if(_){const I=_.U_.indexOf(e);I>=0&&(_.U_.splice(I,1),0===_.U_.length?u=e.G_()?0:1:!_.W_()&&e.G_()&&(u=2))}switch(u){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function s_(c,e){const r=Le(c);let s=!1;for(const u of e){const I=r.queries.get(u.query);if(I){for(const P of I.U_)P.H_(u)&&(s=!0);I.K_=u}}s&&mf(r)}function kg(c,e,r){const s=Le(c),u=s.queries.get(e);if(u)for(const _ of u.U_)_.onError(r);s.queries.delete(e)}function mf(c){c.z_.forEach(e=>{e.next()})}var _f,lu;(lu=_f||(_f={})).J_="default",lu.Cache="cache";class nd{constructor(e,r,s){this.query=e,this.Y_=r,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=s||{}}H_(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)3!==u.type&&s.push(u);e=new td(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),r=!0):this.ta(e,this.onlineState)&&(this.na(e),r=!0),this.X_=e,r}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let r=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),r=!0),r}ta(e,r){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=td.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==_f.Cache}}class Fg{constructor(e,r){this.ia=e,this.byteLength=r}sa(){return"metadata"in this.ia}}class vf{constructor(e){this.serializer=e}Ps(e){return Ds(this.serializer,e)}Is(e){return e.metadata.exists?Ao(this.serializer,e.document,!1):Y.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Vi(e)}}class yf{constructor(e,r,s){this.oa=e,this.localStore=r,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Lg(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++r;const s=xn.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}aa(e){const r=new Map,s=new vf(this.serializer);for(const u of e)if(u.metadata.queries){const _=s.Ps(u.metadata.name);for(const I of u.metadata.queries){const P=(r.get(I)||pr()).add(_);r.set(I,P)}}return r}complete(){var e=this;return(0,f.Z)(function*(){const r=yield function af(c,e,r,s){return Nc.apply(this,arguments)}(e.localStore,new vf(e.serializer),e.documents,e.oa.id),s=e.aa(e.documents);for(const u of e.queries)yield Wu(e.localStore,u,s.get(u.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:r}})()}}function Lg(c){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:c.totalDocuments,totalBytes:c.totalBytes}}class Vg{constructor(e){this.key=e}}class Ug{constructor(e){this.key=e}}class Bg{constructor(e,r){this.query=e,this.la=r,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=pr(),this.mutatedKeys=pr(),this.Ia=es(e),this.Ta=new uh(this.Ia)}get Ea(){return this.la}da(e,r){const s=r?r.Aa:new Pp,u=r?r.Ta:this.Ta;let _=r?r.mutatedKeys:this.mutatedKeys,I=u,P=!1;const L="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,J="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((he,Me)=>{const et=u.get(he),Ct=sa(this.query,Me)?Me:null,Gt=!!et&&this.mutatedKeys.has(et.key),hn=!!Ct&&(Ct.hasLocalMutations||this.mutatedKeys.has(Ct.key)&&Ct.hasCommittedMutations);let nn=!1;et&&Ct?et.data.isEqual(Ct.data)?Gt!==hn&&(s.track({type:3,doc:Ct}),nn=!0):this.Ra(et,Ct)||(s.track({type:2,doc:Ct}),nn=!0,(L&&this.Ia(Ct,L)>0||J&&this.Ia(Ct,J)<0)&&(P=!0)):!et&&Ct?(s.track({type:0,doc:Ct}),nn=!0):et&&!Ct&&(s.track({type:1,doc:et}),nn=!0,(L||J)&&(P=!0)),nn&&(Ct?(I=I.add(Ct),_=hn?_.add(he):_.delete(he)):(I=I.delete(he),_=_.delete(he)))}),null!==this.query.limit)for(;I.size>this.query.limit;){const he="F"===this.query.limitType?I.last():I.first();I=I.delete(he.key),_=_.delete(he.key),s.track({type:1,doc:he})}return{Ta:I,Aa:s,Xi:P,mutatedKeys:_}}Ra(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,u){const _=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const I=e.Aa.Q_();I.sort((he,Me)=>function(Ct,Gt){const hn=nn=>{switch(nn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt()}};return hn(Ct)-hn(Gt)}(he.type,Me.type)||this.Ia(he.doc,Me.doc)),this.Va(s),u=null!=u&&u;const P=r&&!u?this.ma():[],L=0===this.Pa.size&&this.current&&!u?1:0,J=L!==this.ha;return this.ha=L,0!==I.length||J?{snapshot:new td(this.query,e.Ta,_,I,e.mutatedKeys,0===L,J,!1,!!s&&s.resumeToken.approximateByteSize()>0),fa:P}:{fa:P}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Pp,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(r=>this.la=this.la.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.la=this.la.delete(r)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=pr(),this.Ta.forEach(s=>{this.ga(s.key)&&(this.Pa=this.Pa.add(s.key))});const r=[];return e.forEach(s=>{this.Pa.has(s)||r.push(new Ug(s))}),this.Pa.forEach(s=>{e.has(s)||r.push(new Vg(s))}),r}pa(e){this.la=e.hs,this.Pa=pr();const r=this.da(e.documents);return this.applyChanges(r,!0)}ya(){return td.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class a_{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class vv{constructor(e){this.key=e,this.wa=!1}}class jg{constructor(e,r,s,u,_,I){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=u,this.currentUser=_,this.maxConcurrentLimboResolutions=I,this.Sa={},this.ba=new yo(P=>mc(P),Ca),this.Da=new Map,this.Ca=new Set,this.va=new oi(Yt.comparator),this.Fa=new Map,this.Ma=new Rc,this.xa={},this.Oa=new Map,this.Na=Nr.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function Ef(c,e){return ma.apply(this,arguments)}function ma(){return(ma=(0,f.Z)(function*(c,e,r=!0){const s=_h(c);let u;const _=s.ba.get(e);return _?(s.sharedClientState.addLocalQueryTarget(_.targetId),u=_.view.ya()):u=yield If(s,e,r,!0),u})).apply(this,arguments)}function Af(c,e){return hh.apply(this,arguments)}function hh(){return(hh=(0,f.Z)(function*(c,e){const r=_h(c);yield If(r,e,!0,!1)})).apply(this,arguments)}function If(c,e,r,s){return uu.apply(this,arguments)}function uu(){return(uu=(0,f.Z)(function*(c,e,r,s){const u=yield nu(c.localStore,vi(e)),_=u.targetId,I=r?c.sharedClientState.addLocalQueryTarget(_):"not-current";let P;return s&&(P=yield os(c,e,_,"current"===I,u.resumeToken)),c.isPrimaryClient&&r&&Vc(c.remoteStore,u),P})).apply(this,arguments)}function os(c,e,r,s,u){return tc.apply(this,arguments)}function tc(){return tc=(0,f.Z)(function*(c,e,r,s,u){c.Ba=(Me,et,Ct)=>{return(Gt=(0,f.Z)(function*(nn,$n,or,Qn){let Mr=$n.view.da(or);Mr.Xi&&(Mr=yield qu(nn.localStore,$n.query,!1).then(({documents:Ke})=>$n.view.da(Ke,Mr)));const wi=Qn&&Qn.targetChanges.get($n.targetId),Gr=Qn&&null!=Qn.targetMismatches.get($n.targetId),gt=$n.view.applyChanges(Mr,nn.isPrimaryClient,wi,Gr);return gh(nn,$n.targetId,gt.fa),gt.snapshot}),function hn(nn,$n,or,Qn){return Gt.apply(this,arguments)})(c,Me,et,Ct);var Gt};const _=yield qu(c.localStore,e,!0),I=new Bg(e,_.hs),P=I.da(_.documents),L=qa.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==c.onlineState,u),J=I.applyChanges(P,c.isPrimaryClient,L);gh(c,r,J.fa);const he=new a_(e,r,I);return c.ba.set(e,he),c.Da.has(r)?c.Da.get(r).push(e):c.Da.set(r,[e]),J.snapshot}),tc.apply(this,arguments)}function Hg(c,e,r){return rd.apply(this,arguments)}function rd(){return(rd=(0,f.Z)(function*(c,e,r){const s=Le(c),u=s.ba.get(e),_=s.Da.get(u.targetId);if(_.length>1)return s.Da.set(u.targetId,_.filter(I=>!Ca(I,e))),void s.ba.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield ga(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),r&&Uc(s.remoteStore,u.targetId),zc(s,u.targetId)}).catch(Dr))):(zc(s,u.targetId),yield ga(s.localStore,u.targetId,!0))})).apply(this,arguments)}function c_(c,e){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,f.Z)(function*(c,e){const r=Le(c),s=r.ba.get(e),u=r.Da.get(s.targetId);r.isPrimaryClient&&1===u.length&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),Uc(r.remoteStore,s.targetId))})).apply(this,arguments)}function Np(){return(Np=(0,f.Z)(function*(c,e,r){const s=qg(c);try{const u=yield function(I,P){const L=Le(I),J=Yn.now(),he=P.reduce((Ct,Gt)=>Ct.add(Gt.key),pr());let Me,et;return L.persistence.runTransaction("Locally write mutations","readwrite",Ct=>{let Gt=Vr(),hn=pr();return L.os.getEntries(Ct,he).next(nn=>{Gt=nn,Gt.forEach(($n,or)=>{or.isValidDocument()||(hn=hn.add($n))})}).next(()=>L.localDocuments.getOverlayedDocuments(Ct,Gt)).next(nn=>{Me=nn;const $n=[];for(const or of P){const Qn=Ot(or,Me.get(or.key).overlayedDocument);null!=Qn&&$n.push(new Lr(or.key,Qn,re(Qn.value.mapValue),Ci.exists(!0)))}return L.mutationQueue.addMutationBatch(Ct,J,$n,P)}).next(nn=>{et=nn;const $n=nn.applyToLocalDocumentSet(Me,hn);return L.documentOverlayCache.saveOverlays(Ct,nn.batchId,$n)})}).then(()=>({batchId:et.batchId,changes:vc(Me)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(I,P,L){let J=I.xa[I.currentUser.toKey()];J||(J=new oi(on)),J=J.insert(P,L),I.xa[I.currentUser.toKey()]=J}(s,u.batchId,r),yield na(s,u.changes),yield ah(s.remoteStore)}catch(u){const _=au(u,"Failed to persist write");r.reject(_)}})).apply(this,arguments)}function zg(c,e){return bf.apply(this,arguments)}function bf(){return(bf=(0,f.Z)(function*(c,e){const r=Le(c);try{const s=yield function is(c,e){const r=Le(c),s=e.snapshotVersion;let u=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",_=>{const I=r.os.newChangeBuffer({trackRemovals:!0});u=r.ns;const P=[];e.targetChanges.forEach((he,Me)=>{const et=u.get(Me);if(!et)return;P.push(r.Qr.removeMatchingKeys(_,he.removedDocuments,Me).next(()=>r.Qr.addMatchingKeys(_,he.addedDocuments,Me)));let Ct=et.withSequenceNumber(_.currentSequenceNumber);var hn,nn,$n;null!==e.targetMismatches.get(Me)?Ct=Ct.withResumeToken(Si.EMPTY_BYTE_STRING,Kt.min()).withLastLimboFreeSnapshotVersion(Kt.min()):he.resumeToken.approximateByteSize()>0&&(Ct=Ct.withResumeToken(he.resumeToken,s)),u=u.insert(Me,Ct),nn=Ct,$n=he,(0===(hn=et).resumeToken.approximateByteSize()||nn.snapshotVersion.toMicroseconds()-hn.snapshotVersion.toMicroseconds()>=3e8||$n.addedDocuments.size+$n.modifiedDocuments.size+$n.removedDocuments.size>0)&&P.push(r.Qr.updateTargetData(_,Ct))});let L=Vr(),J=pr();if(e.documentUpdates.forEach(he=>{e.resolvedLimboDocuments.has(he)&&P.push(r.persistence.referenceDelegate.updateLimboDocument(_,he))}),P.push(tu(_,I,e.documentUpdates).next(he=>{L=he.cs,J=he.ls})),!s.isEqual(Kt.min())){const he=r.Qr.getLastRemoteSnapshotVersion(_).next(Me=>r.Qr.setTargetsMetadata(_,_.currentSequenceNumber,s));P.push(he)}return ct.waitFor(P).next(()=>I.apply(_)).next(()=>r.localDocuments.getLocalViewOfDocuments(_,L,J)).next(()=>L)}).then(_=>(r.ns=u,_))}(r.localStore,e);e.targetChanges.forEach((u,_)=>{const I=r.Fa.get(_);I&&(Qe(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?I.wa=!0:u.modifiedDocuments.size>0?Qe(I.wa):u.removedDocuments.size>0&&(Qe(I.wa),I.wa=!1))}),yield na(r,s,e)}catch(s){yield Dr(s)}})).apply(this,arguments)}function Cf(c,e,r){const s=Le(c);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const u=[];s.ba.forEach((_,I)=>{const P=I.view.j_(e);P.snapshot&&u.push(P.snapshot)}),function(I,P){const L=Le(I);L.onlineState=P;let J=!1;L.queries.forEach((he,Me)=>{for(const et of Me.U_)et.j_(P)&&(J=!0)}),J&&mf(L)}(s.eventManager,e),u.length&&s.Sa.h_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Tf(c,e,r){return kp.apply(this,arguments)}function kp(){return(kp=(0,f.Z)(function*(c,e,r){const s=Le(c);s.sharedClientState.updateQueryState(e,"rejected",r);const u=s.Fa.get(e),_=u&&u.key;if(_){let I=new oi(Yt.comparator);I=I.insert(_,Y.newNoDocument(_,Kt.min()));const P=pr().add(_),L=new Oo(Kt.min(),new Map,new oi(on),I,P);yield zg(s,L),s.va=s.va.remove(_),s.Fa.delete(e),mh(s)}else yield ga(s.localStore,e,!1).then(()=>zc(s,e,r)).catch(Dr)})).apply(this,arguments)}function ph(c,e){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,f.Z)(function*(c,e){const r=Le(c),s=e.batch.batchId;try{const u=yield function sf(c,e){const r=Le(c);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),_=r.os.newChangeBuffer({trackRemovals:!0});return function(P,L,J,he){const Me=J.batch,et=Me.keys();let Ct=ct.resolve();return et.forEach(Gt=>{Ct=Ct.next(()=>he.getEntry(L,Gt)).next(hn=>{const nn=J.docVersions.get(Gt);Qe(null!==nn),hn.version.compareTo(nn)<0&&(Me.applyToRemoteDocument(hn,J),hn.isValidDocument()&&(hn.setReadTime(J.commitVersion),he.addEntry(hn)))})}),Ct.next(()=>P.mutationQueue.removeMutationBatch(L,Me))}(r,s,e,_).next(()=>_.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(P){let L=pr();for(let J=0;J<P.mutationResults.length;++J)P.mutationResults[J].transformResults.length>0&&(L=L.add(P.batch.mutations[J].key));return L}(e))).next(()=>r.localDocuments.getDocuments(s,u))})}(r.localStore,e);nc(r,s,null),wl(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield na(r,u)}catch(u){yield Dr(u)}})).apply(this,arguments)}function $g(c,e,r){return id.apply(this,arguments)}function id(){return(id=(0,f.Z)(function*(c,e,r){const s=Le(c);try{const u=yield function(I,P){const L=Le(I);return L.persistence.runTransaction("Reject batch","readwrite-primary",J=>{let he;return L.mutationQueue.lookupMutationBatch(J,P).next(Me=>(Qe(null!==Me),he=Me.keys(),L.mutationQueue.removeMutationBatch(J,Me))).next(()=>L.mutationQueue.performConsistencyCheck(J)).next(()=>L.documentOverlayCache.removeOverlaysForBatchId(J,he,P)).next(()=>L.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(J,he)).next(()=>L.localDocuments.getDocuments(J,he))})}(s.localStore,e);nc(s,e,r),wl(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield na(s,u)}catch(u){yield Dr(u)}})).apply(this,arguments)}function od(){return(od=(0,f.Z)(function*(c,e){const r=Le(c);ec(r.remoteStore)||Ee("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(I){const P=Le(I);return P.persistence.runTransaction("Get highest unacknowledged batch id","readonly",L=>P.mutationQueue.getHighestUnacknowledgedBatchId(L))}(r.localStore);if(-1===s)return void e.resolve();const u=r.Oa.get(s)||[];u.push(e),r.Oa.set(s,u)}catch(s){const u=au(s,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}})).apply(this,arguments)}function wl(c,e){(c.Oa.get(e)||[]).forEach(r=>{r.resolve()}),c.Oa.delete(e)}function nc(c,e,r){const s=Le(c);let u=s.xa[s.currentUser.toKey()];if(u){const _=u.get(e);_&&(r?_.reject(r):_.resolve(),u=u.remove(e)),s.xa[s.currentUser.toKey()]=u}}function zc(c,e,r=null){c.sharedClientState.removeLocalQueryTarget(e);for(const s of c.Da.get(e))c.ba.delete(s),r&&c.Sa.ka(s,r);c.Da.delete(e),c.isPrimaryClient&&c.Ma.Vr(e).forEach(s=>{c.Ma.containsKey(s)||Df(c,s)})}function Df(c,e){c.Ca.delete(e.path.canonicalString());const r=c.va.get(e);null!==r&&(Uc(c.remoteStore,r),c.va=c.va.remove(e),c.Fa.delete(r),mh(c))}function gh(c,e,r){for(const s of r)s instanceof Vg?(c.Ma.addReference(s.key,e),$c(c,s)):s instanceof Ug?(Ee("SyncEngine","Document no longer in limbo: "+s.key),c.Ma.removeReference(s.key,e),c.Ma.containsKey(s.key)||Df(c,s.key)):wt()}function $c(c,e){const r=e.key,s=r.path.canonicalString();c.va.get(r)||c.Ca.has(s)||(Ee("SyncEngine","New document in limbo: "+r),c.Ca.add(s),mh(c))}function mh(c){for(;c.Ca.size>0&&c.va.size<c.maxConcurrentLimboResolutions;){const e=c.Ca.values().next().value;c.Ca.delete(e);const r=new Yt(xn.fromString(e)),s=c.Na.next();c.Fa.set(s,new vv(r)),c.va=c.va.insert(r,s),Vc(c.remoteStore,new St(vi(ze(r.path)),s,"TargetPurposeLimboResolution",B.oe))}}function na(c,e,r){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,f.Z)(function*(c,e,r){const s=Le(c),u=[],_=[],I=[];var P;s.ba.isEmpty()||(s.ba.forEach((P,L)=>{I.push(s.Ba(L,e,r).then(J=>{if((J||r)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(L.targetId,J&&!J.fromCache?"current":"not-current"),J){u.push(J);const he=rs.Ki(L.targetId,J);_.push(he)}}))}),yield Promise.all(I),s.Sa.h_(u),yield(P=(0,f.Z)(function*(J,he){const Me=Le(J);try{yield Me.persistence.runTransaction("notifyLocalViewChanges","readwrite",et=>ct.forEach(he,Ct=>ct.forEach(Ct.qi,Gt=>Me.persistence.referenceDelegate.addReference(et,Ct.targetId,Gt)).next(()=>ct.forEach(Ct.Qi,Gt=>Me.persistence.referenceDelegate.removeReference(et,Ct.targetId,Gt)))))}catch(et){if(!Hn(et))throw et;Ee("LocalStore","Failed to update sequence numbers: "+et)}for(const et of he){const Ct=et.targetId;if(!et.fromCache){const Gt=Me.ns.get(Ct),nn=Gt.withLastLimboFreeSnapshotVersion(Gt.snapshotVersion);Me.ns=Me.ns.insert(Ct,nn)}}}),function L(J,he){return P.apply(this,arguments)})(s.localStore,_))}),Sf.apply(this,arguments)}function Dl(c,e){return sd.apply(this,arguments)}function sd(){return(sd=(0,f.Z)(function*(c,e){const r=Le(c);if(!r.currentUser.isEqual(e)){Ee("SyncEngine","User change. New user:",e.toKey());const s=yield nf(r.localStore,e);r.currentUser=e,(_=r).Oa.forEach(P=>{P.forEach(L=>{L.reject(new te(we.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),_.Oa.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield na(r,s.us)}var _})).apply(this,arguments)}function ad(c,e){const r=Le(c),s=r.Fa.get(e);if(s&&s.wa)return pr().add(s.key);{let u=pr();const _=r.Da.get(e);if(!_)return u;for(const I of _){const P=r.ba.get(I);u=u.unionWith(P.view.Ea)}return u}}function Zg(c,e){return rc.apply(this,arguments)}function rc(){return(rc=(0,f.Z)(function*(c,e){const r=Le(c),s=yield qu(r.localStore,e.query,!0),u=e.view.pa(s);return r.isPrimaryClient&&gh(r,e.targetId,u.fa),u})).apply(this,arguments)}function Zc(c,e){return qc.apply(this,arguments)}function qc(){return(qc=(0,f.Z)(function*(c,e){const r=Le(c);return Xd(r.localStore,e).then(s=>na(r,s))})).apply(this,arguments)}function du(c,e,r,s){return Fp.apply(this,arguments)}function Fp(){return(Fp=(0,f.Z)(function*(c,e,r,s){const u=Le(c),_=yield function(P,L){const J=Le(P),he=Le(J.mutationQueue);return J.persistence.runTransaction("Lookup mutation documents","readonly",Me=>he.vn(Me,L).next(et=>et?J.localDocuments.getDocuments(Me,et):ct.resolve(null)))}(u.localStore,e);var L;null!==_?("pending"===r?yield ah(u.remoteStore):"acknowledged"===r||"rejected"===r?(nc(u,e,s||null),wl(u,e),L=e,Le(Le(u.localStore).mutationQueue).Mn(L)):wt(),yield na(u,_)):Ee("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function hu(){return(hu=(0,f.Z)(function*(c,e){const r=Le(c);if(_h(r),qg(r),!0===e&&!0!==r.La){const s=r.sharedClientState.getAllActiveQueryTargets(),u=yield Ml(r,s.toArray());r.La=!0,yield pf(r.remoteStore,!0);for(const _ of u)Vc(r.remoteStore,_)}else if(!1===e&&!1!==r.La){const s=[];let u=Promise.resolve();r.Da.forEach((_,I)=>{r.sharedClientState.isLocalQueryTarget(I)?s.push(I):u=u.then(()=>(zc(r,I),ga(r.localStore,I,!0))),Uc(r.remoteStore,I)}),yield u,yield Ml(r,s),function(I){const P=Le(I);P.Fa.forEach((L,J)=>{Uc(P.remoteStore,J)}),P.Ma.mr(),P.Fa=new Map,P.va=new oi(Yt.comparator)}(r),r.La=!1,yield pf(r.remoteStore,!1)}})).apply(this,arguments)}function Ml(c,e,r){return fu.apply(this,arguments)}function fu(){return(fu=(0,f.Z)(function*(c,e,r){const s=Le(c),u=[],_=[];for(const I of e){let P;const L=s.Da.get(I);if(L&&0!==L.length){P=yield nu(s.localStore,vi(L[0]));for(const J of L){const he=s.ba.get(J),Me=yield Zg(s,he);Me.snapshot&&_.push(Me.snapshot)}}else{const J=yield Gu(s.localStore,I);P=yield nu(s.localStore,J),yield os(s,Lp(J),I,!1,P.resumeToken)}u.push(P)}return s.Sa.h_(_),u})).apply(this,arguments)}function Lp(c){return ge(c.path,c.collectionGroup,c.orderBy,c.filters,c.limit,"F",c.startAt,c.endAt)}function Mf(c){return r=Le(c).localStore,Le(Le(r).persistence).Bi();var r}function cd(c,e,r,s){return Vp.apply(this,arguments)}function Vp(){return(Vp=(0,f.Z)(function*(c,e,r,s){const u=Le(c);if(u.La)return void Ee("SyncEngine","Ignoring unexpected query state notification.");const _=u.Da.get(e);if(_&&_.length>0)switch(r){case"current":case"not-current":{const I=yield Xd(u.localStore,_c(_[0])),P=Oo.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,Si.EMPTY_BYTE_STRING);yield na(u,I,P);break}case"rejected":yield ga(u.localStore,e,!0),zc(u,e,s);break;default:wt()}})).apply(this,arguments)}function l_(c,e,r){return gs.apply(this,arguments)}function gs(){return(gs=(0,f.Z)(function*(c,e,r){const s=_h(c);if(s.La){for(const u of e){if(s.Da.has(u)&&s.sharedClientState.isActiveQueryTarget(u)){Ee("SyncEngine","Adding an already active target "+u);continue}const _=yield Gu(s.localStore,u),I=yield nu(s.localStore,_);yield os(s,Lp(_),I.targetId,!1,I.resumeToken),Vc(s.remoteStore,I)}for(const u of r)s.Da.has(u)&&(yield ga(s.localStore,u,!1).then(()=>{Uc(s.remoteStore,u),zc(s,u)}).catch(Dr))}})).apply(this,arguments)}function _h(c){const e=Le(c);return e.remoteStore.remoteSyncer.applyRemoteEvent=zg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ad.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tf.bind(null,e),e.Sa.h_=s_.bind(null,e.eventManager),e.Sa.ka=kg.bind(null,e.eventManager),e}function qg(c){const e=Le(c);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ph.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$g.bind(null,e),e}class Gc{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,f.Z)(function*(){r.serializer=rt(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return vl(this.persistence,new Jd,e.initialUser,this.serializer)}createPersistence(e){return new ef(Qd.Hr,this.serializer)}createSharedClientState(e){return new lf}terminate(){var e=this;return(0,f.Z)(function*(){var r,s;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(s=e.indexBackfillerScheduler)||void 0===s||s.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Gg extends Gc{constructor(e,r,s){super(),this.Qa=e,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,s=this;return(0,f.Z)(function*(){yield r().call(s,e),yield s.Qa.initialize(s,e),yield qg(s.Qa.syncEngine),yield ah(s.Qa.remoteStore),yield s.persistence.fi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return vl(this.persistence,new Jd,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new Yl(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const s=new H(r,this.persistence);return new Q(e.asyncQueue,s)}createPersistence(e){const r=Yd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Fo.withCacheSize(this.cacheSizeBytes):Fo.DEFAULT;return new lo(this.synchronizeTabs,r,e.clientId,s,e.asyncQueue,X(),me(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new lf}}class u_ extends Gg{constructor(e,r){super(e,r,!1),this.Qa=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,s=this;return(0,f.Z)(function*(){yield r().call(s,e);const u=s.Qa.syncEngine;s.sharedClientState instanceof nh&&(s.sharedClientState.syncEngine={Zs:du.bind(null,u),Xs:cd.bind(null,u),eo:l_.bind(null,u),Bi:Mf.bind(null,u),Ys:Zc.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.fi(function(){var _=(0,f.Z)(function*(I){yield function Sl(c,e){return hu.apply(this,arguments)}(s.Qa.syncEngine,I),s.gcScheduler&&(I&&!s.gcScheduler.started?s.gcScheduler.start():I||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(I&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():I||s.indexBackfillerScheduler.stop())});return function(I){return _.apply(this,arguments)}}())})()}createSharedClientState(e){const r=X();if(!nh.D(r))throw new te(we.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Yd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new nh(r,e.asyncQueue,s,e.clientId,e.initialUser)}}class Wc{initialize(e,r){var s=this;return(0,f.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=u=>Cf(s.syncEngine,u,1),s.remoteStore.remoteSyncer.handleCredentialChange=Dl.bind(null,s.syncEngine),yield pf(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new xp}createDatastore(e){const r=rt(e.databaseInfo.databaseId),s=new M(e.databaseInfo);return new jr(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return s=this.localStore,u=this.datastore,_=e.asyncQueue,I=r=>Cf(this.syncEngine,r,0),P=Al.D()?new Al:new Fc,new La(s,u,_,I,P);var s,u,_,I,P}createSyncEngine(e,r){return function(u,_,I,P,L,J,he){const Me=new jg(u,_,I,P,L,J);return he&&(Me.La=!0),Me}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,f.Z)(function*(){var r,s;yield(s=(0,f.Z)(function*(_){const I=Le(_);Ee("RemoteStore","RemoteStore shutting down."),I.M_.add(5),yield Lc(I),I.O_.shutdown(),I.N_.set("Unknown")}),function u(_){return s.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}function Wg(c,e=10240){let r=0;return{read:()=>(0,f.Z)(function*(){if(r<c.byteLength){const s={value:c.slice(r,r+e),done:!1};return r+=e,s}return{done:!0}})(),cancel:()=>(0,f.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Pf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Nt("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class Qg{constructor(e,r){this.Ua=e,this.serializer=r,this.metadata=new Ie,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(s=>{s&&s.sa()?this.metadata.resolve(s.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.ia)}`))},s=>this.metadata.reject(s))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,f.Z)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,f.Z)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,f.Z)(function*(){const r=yield e.za();if(null===r)return null;const s=e.Wa.decode(r),u=Number(s);isNaN(u)&&e.ja(`length string (${s}) is not valid number`);const _=yield e.Ha(u);return new Fg(JSON.parse(_),r.length+u)})()}Ja(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}za(){var e=this;return(0,f.Z)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const r=e.Ja();r<0&&e.ja("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),s})()}Ha(e){var r=this;return(0,f.Z)(function*(){for(;r.buffer.length<e;)(yield r.Ya())&&r.ja("Reached the end of bundle when more is expected.");const s=r.Wa.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),s})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,f.Z)(function*(){const r=yield e.Ua.read();if(!r.done){const s=new Uint8Array(e.buffer.length+r.value.length);s.set(e.buffer),s.set(r.value,e.buffer.length),e.buffer=s}return r.done})()}}class xf{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,f.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new te(we.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const s=yield(u=(0,f.Z)(function*(I,P){const L=Le(I),J={documents:P.map(Ct=>Pu(L.serializer,Ct))},he=yield L.xo("BatchGetDocuments",L.serializer.databaseId,xn.emptyPath(),J,P.length),Me=new Map;he.forEach(Ct=>{const Gt=function Qi(c,e){return"found"in e?function(s,u){Qe(!!u.found);const _=Ds(s,u.found.name),I=Vi(u.found.updateTime),P=u.found.createTime?Vi(u.found.createTime):Kt.min(),L=new li({mapValue:{fields:u.found.fields}});return Y.newFoundDocument(_,I,P,L)}(c,e):"missing"in e?function(s,u){Qe(!!u.missing),Qe(!!u.readTime);const _=Ds(s,u.missing),I=Vi(u.readTime);return Y.newNoDocument(_,I)}(c,e):wt()}(L.serializer,Ct);Me.set(Gt.key.toString(),Gt)});const et=[];return P.forEach(Ct=>{const Gt=Me.get(Ct.toString());Qe(!!Gt),et.push(Gt)}),et}),function _(I,P){return u.apply(this,arguments)})(r.datastore,e);var u;return s.forEach(u=>r.recordVersion(u)),s})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new pi(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,f.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var s;e.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,u)=>{const _=Yt.fromPath(u);e.mutations.push(new Kr(_,e.precondition(_)))}),yield(s=(0,f.Z)(function*(_,I){const P=Le(_),L={writes:I.map(J=>No(P.serializer,J))};yield P.Co("Commit",P.serializer.databaseId,xn.emptyPath(),L)}),function u(_,I){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw wt();r=Kt.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!r.isEqual(s))throw new te(we.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Kt.min())?Ci.exists(!1):Ci.updateTime(r):Ci.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Kt.min()))throw new te(we.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ci.updateTime(r)}return Ci.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Rf{constructor(e,r,s,u,_){this.asyncQueue=e,this.datastore=r,this.options=s,this.updateFunction=u,this.deferred=_,this.Za=s.maxAttempts,this.Yo=new Pt(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Yo.$o((0,f.Z)(function*(){const r=new xf(e.datastore),s=e.tu(r);s&&s.then(u=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(u)}).catch(_=>{e.nu(_)}))}).catch(u=>{e.nu(u)})}))}tu(e){try{const r=this.updateFunction(e);return!Te(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!qo(r)}return!1}}class Kg{constructor(e,r,s,u){var _=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=u,this.user=tt.UNAUTHENTICATED,this.clientId=On.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var I=(0,f.Z)(function*(P){Ee("FirestoreClient","Received user=",P.uid),yield _.authCredentialListener(P),_.user=P});return function(P){return I.apply(this,arguments)}}()),this.appCheckCredentials.start(s,I=>(Ee("FirestoreClient","Received new app check token=",I),this.appCheckCredentialListener(I,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te(we.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Ie;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,f.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const u=au(s,"Failed to shutdown persistence");r.reject(u)}})),r.promise}}function vh(c,e){return ld.apply(this,arguments)}function ld(){return ld=(0,f.Z)(function*(c,e){c.asyncQueue.verifyOperationInProgress(),Ee("FirestoreClient","Initializing OfflineComponentProvider");const r=c.configuration;yield e.initialize(r);let s=r.initialUser;c.setCredentialChangeListener(function(){var u=(0,f.Z)(function*(_){s.isEqual(_)||(yield nf(e.localStore,_),s=_)});return function(_){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>c.terminate()),c._offlineComponents=e}),ld.apply(this,arguments)}function ra(c,e){return xl.apply(this,arguments)}function xl(){return(xl=(0,f.Z)(function*(c,e){c.asyncQueue.verifyOperationInProgress();const r=yield Of(c);Ee("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,c.configuration),c.setCredentialChangeListener(s=>Ko(e.remoteStore,s)),c.setAppCheckTokenChangeListener((s,u)=>Ko(e.remoteStore,u)),c._onlineComponents=e})).apply(this,arguments)}function Up(c){return"FirebaseError"===c.name?c.code===we.FAILED_PRECONDITION||c.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code}function Of(c){return Nf.apply(this,arguments)}function Nf(){return(Nf=(0,f.Z)(function*(c){if(!c._offlineComponents)if(c._uninitializedComponentsProvider){Ee("FirestoreClient","Using user provided OfflineComponentProvider");try{yield vh(c,c._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!Up(r))throw r;Vt("Error using user provided cache. Falling back to memory cache: "+r),yield vh(c,new Gc)}}else Ee("FirestoreClient","Using default OfflineComponentProvider"),yield vh(c,new Gc);return c._offlineComponents})).apply(this,arguments)}function Bp(c){return Yg.apply(this,arguments)}function Yg(){return(Yg=(0,f.Z)(function*(c){return c._onlineComponents||(c._uninitializedComponentsProvider?(Ee("FirestoreClient","Using user provided OnlineComponentProvider"),yield ra(c,c._uninitializedComponentsProvider._online)):(Ee("FirestoreClient","Using default OnlineComponentProvider"),yield ra(c,new Wc))),c._onlineComponents})).apply(this,arguments)}function d_(c){return Of(c).then(e=>e.persistence)}function Os(c){return Of(c).then(e=>e.localStore)}function ud(c){return Bp(c).then(e=>e.remoteStore)}function kf(c){return Bp(c).then(e=>e.syncEngine)}function pu(c){return jp.apply(this,arguments)}function jp(){return(jp=(0,f.Z)(function*(c){const e=yield Bp(c),r=e.eventManager;return r.onListen=Ef.bind(null,e.syncEngine),r.onUnlisten=Hg.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Af.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=c_.bind(null,e.syncEngine),r})).apply(this,arguments)}function yh(c,e,r={}){const s=new Ie;return c.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(_,I,P,L,J){const he=new Pf({next:et=>{I.enqueueAndForget(()=>cu(_,Me));const Ct=et.docs.has(P);!Ct&&et.fromCache?J.reject(new te(we.UNAVAILABLE,"Failed to get document because the client is offline.")):Ct&&et.fromCache&&L&&"server"===L.source?J.reject(new te(we.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):J.resolve(et)},error:et=>J.reject(et)}),Me=new nd(ze(P.path),he,{includeMetadataChanges:!0,ra:!0});return dh(_,Me)}(yield pu(c),c.asyncQueue,e,r,s)})),s.promise}function dd(c,e,r={}){const s=new Ie;return c.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(_,I,P,L,J){const he=new Pf({next:et=>{I.enqueueAndForget(()=>cu(_,Me)),et.fromCache&&"server"===L.source?J.reject(new te(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):J.resolve(et)},error:et=>J.reject(et)}),Me=new nd(P,he,{includeMetadataChanges:!0,ra:!0});return dh(_,Me)}(yield pu(c),c.asyncQueue,e,r,s)})),s.promise}function m_(c){const e={};return void 0!==c.timeoutSeconds&&(e.timeoutSeconds=c.timeoutSeconds),e}const Xg=new Map;function zp(c,e,r){if(!r)throw new te(we.INVALID_ARGUMENT,`Function ${c}() cannot be called with an empty ${e}.`)}function $p(c,e,r,s){if(!0===e&&!0===s)throw new te(we.INVALID_ARGUMENT,`${c} and ${r} cannot be used together.`)}function Ah(c){if(!Yt.isDocumentKey(c))throw new te(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${c} has ${c.length}.`)}function em(c){if(Yt.isDocumentKey(c))throw new te(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${c} has ${c.length}.`)}function tm(c){if(void 0===c)return"undefined";if(null===c)return"null";if("string"==typeof c)return c.length>20&&(c=`${c.substring(0,20)}...`),JSON.stringify(c);if("number"==typeof c||"boolean"==typeof c)return""+c;if("object"==typeof c){if(c instanceof Array)return"an array";{const e=(s=c).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof c?"a function":wt()}function kr(c,e){if("_delegate"in c&&(c=c._delegate),!(c instanceof e)){if(e.name===c.constructor.name)throw new te(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=tm(c);throw new te(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return c}function hd(c,e){if(e<=0)throw new te(we.INVALID_ARGUMENT,`Function ${c}() requires a positive number, but it was: ${e}.`)}class Zp{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new te(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new te(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$p("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=m_(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(_){if(void 0!==_.timeoutSeconds){if(isNaN(_.timeoutSeconds))throw new te(we.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (must not be NaN)`);if(_.timeoutSeconds<5)throw new te(we.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (minimum allowed value is 5)`);if(_.timeoutSeconds>30)throw new te(we.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fd{constructor(e,r,s,u){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new te(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new te(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zp(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new je;switch(s.type){case"firstParty":return new Zt(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new te(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=Xg.get(r);s&&(Ee("ComponentProvider","Removing Datastore"),Xg.delete(r),s.terminate())}(this),Promise.resolve()}}function Bf(c,e,r,s={}){var u;const _=(c=kr(c,fd))._getSettings(),I=`${e}:${r}`;if("firestore.googleapis.com"!==_.host&&_.host!==I&&Vt("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),c._setSettings(Object.assign(Object.assign({},_),{host:I,ssl:!1})),s.mockUserToken){let P,L;if("string"==typeof s.mockUserToken)P=s.mockUserToken,L=tt.MOCK_USER;else{P=(0,_e.Sg)(s.mockUserToken,null===(u=c._app)||void 0===u?void 0:u.options.projectId);const J=s.mockUserToken.sub||s.mockUserToken.user_id;if(!J)throw new te(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");L=new tt(J)}c._authCredentials=new ot(new Pe(P,L))}}class jo{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new jo(this.firestore,e,this._query)}}class uo{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new uo(this.firestore,e,this._key)}}class Va extends jo{constructor(e,r,s){super(e,r,ze(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new uo(this.firestore,null,new Yt(e))}withConverter(e){return new Va(this.firestore,e,this._path)}}function nm(c,e,...r){if(c=(0,_e.m9)(c),zp("collection","path",e),c instanceof fd){const s=xn.fromString(e,...r);return em(s),new Va(c,null,s)}{if(!(c instanceof uo||c instanceof Va))throw new te(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=c._path.child(xn.fromString(e,...r));return em(s),new Va(c.firestore,null,s)}}function Ih(c,e){if(c=kr(c,fd),zp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new te(we.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new jo(c,null,(s=e,new F(xn.emptyPath(),s)));var s}function __(c,e,...r){if(c=(0,_e.m9)(c),1===arguments.length&&(e=On.newId()),zp("doc","path",e),c instanceof fd){const s=xn.fromString(e,...r);return Ah(s),new uo(c,null,new Yt(s))}{if(!(c instanceof uo||c instanceof Va))throw new te(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=c._path.child(xn.fromString(e,...r));return Ah(s),new uo(c.firestore,c instanceof Va?c.converter:null,new Yt(s))}}function bh(c,e){return c=(0,_e.m9)(c),e=(0,_e.m9)(e),(c instanceof uo||c instanceof Va)&&(e instanceof uo||e instanceof Va)&&c.firestore===e.firestore&&c.path===e.path&&c.converter===e.converter}function qp(c,e){return c=(0,_e.m9)(c),e=(0,_e.m9)(e),c instanceof jo&&e instanceof jo&&c.firestore===e.firestore&&Ca(c._query,e._query)&&c.converter===e.converter}class Gp{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Pt(this,"async_queue_retry"),this.hu=()=>{const r=me();r&&Ee("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Yo.Wo()};const e=me();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const r=me();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const r=new Ie;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,f.Z)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(r){if(!Hn(r))throw r;Ee("AsyncQueue","Operation failed with retryable error: "+r)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const r=this.iu.then(()=>(this.uu=!0,e().catch(s=>{throw this.au=s,this.uu=!1,Nt("INTERNAL UNHANDLED ERROR: ",function(I){let P=I.message||"";return I.stack&&(P=I.stack.includes(I.message)?I.stack:I.message+"\n"+I.stack),P}(s)),s}).then(s=>(this.uu=!1,s))));return this.iu=r,r}enqueueAfterDelay(e,r,s){this.Pu(),this.lu.indexOf(e)>-1&&(r=0);const u=Mp.createAndSchedule(this,e,r,s,_=>this.Eu(_));return this._u.push(u),u}Pu(){this.au&&wt()}verifyOperationInProgress(){}du(){var e=this;return(0,f.Z)(function*(){let r;do{r=e.iu,yield r}while(r!==e.iu)})()}Au(e){for(const r of this._u)if(r.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this._u)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const r=this._u.indexOf(e);this._u.splice(r,1)}}function jf(c){return function(r,s){if("object"!=typeof r||null===r)return!1;const u=r;for(const _ of["next","error","complete"])if(_ in u&&"function"==typeof u[_])return!0;return!1}(c)}class rm{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ie,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,s){this._progressObserver={next:e,error:r,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Rl=-1;class Ni extends fd{constructor(e,r,s,u){super(e,r,s,u),this.type="firestore",this._queue=new Gp,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||gd(this),this._firestoreClient.terminate()}}function pd(c,e){const r="object"==typeof c?c:(0,o.getApp)(),s="string"==typeof c?c:e||"(default)",u=(0,o._getProvider)(r,"firestore").getImmediate({identifier:s});if(!u._initialized){const _=(0,_e.P0)("firestore");_&&Bf(u,..._)}return u}function ki(c){return c._firestoreClient||gd(c),c._firestoreClient.verifyNotTerminated(),c._firestoreClient}function gd(c){var e,r,s;const u=c._freezeSettings(),_=(L=(null===(e=c._app)||void 0===e?void 0:e.options.appId)||"",new us(c._databaseId,L,c._persistenceKey,(he=u).host,he.ssl,he.experimentalForceLongPolling,he.experimentalAutoDetectLongPolling,m_(he.experimentalLongPollingOptions),he.useFetchStreams));var L,he;c._firestoreClient=new Kg(c._authCredentials,c._appCheckCredentials,c._queue,_),null!==(r=u.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(s=u.localCache)&&void 0!==s&&s._onlineComponentProvider&&(c._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}function Hf(c,e){ia(c=kr(c,Ni));const r=ki(c);if(r._uninitializedComponentsProvider)throw new te(we.FAILED_PRECONDITION,"SDK cache is already specified.");Vt("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=c._freezeSettings(),u=new Wc;return Qc(r,u,new Gg(u,s.cacheSizeBytes,e?.forceOwnership))}function ic(c){ia(c=kr(c,Ni));const e=ki(c);if(e._uninitializedComponentsProvider)throw new te(we.FAILED_PRECONDITION,"SDK cache is already specified.");Vt("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=c._freezeSettings(),s=new Wc;return Qc(e,s,new u_(s,r.cacheSizeBytes))}function Qc(c,e,r){const s=new Ie;return c.asyncQueue.enqueue((0,f.Z)(function*(){try{yield vh(c,r),yield ra(c,e),s.resolve()}catch(u){const _=u;if(!Up(_))throw _;Vt("Error enabling indexeddb cache. Falling back to memory cache: "+_),s.reject(_)}})).then(()=>s.promise)}function Wp(c){if(c._initialized&&!c._terminated)throw new te(we.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ie;return c._queue.enqueueAndForgetEvenWhileRestricted((0,f.Z)(function*(){try{yield(r=(0,f.Z)(function*(u){if(!ue.D())return Promise.resolve();const _=u+"main";yield ue.delete(_)}),function s(u){return r.apply(this,arguments)})(Yd(c._databaseId,c._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function v_(c){return function(r){const s=new Ie;return r.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function wf(c,e){return od.apply(this,arguments)}(yield kf(r),s)})),s.promise}(ki(c=kr(c,Ni)))}function zf(c){return function h_(c){return c.asyncQueue.enqueue((0,f.Z)(function*(){const e=yield d_(c),r=yield ud(c);return e.setNetworkEnabled(!0),function(u){const _=Le(u);return _.M_.delete(0),Xa(_)}(r)}))}(ki(c=kr(c,Ni)))}function im(c){return function f_(c){return c.asyncQueue.enqueue((0,f.Z)(function*(){const e=yield d_(c),r=yield ud(c);return e.setNetworkEnabled(!1),(s=(0,f.Z)(function*(_){const I=Le(_);I.M_.add(0),yield Lc(I),I.N_.set("Offline")}),function u(_){return s.apply(this,arguments)})(r);var s}))}(ki(c=kr(c,Ni)))}function om(c,e){const r=ki(c=kr(c,Ni)),s=new rm;return function gu(c,e,r,s){const u=function(I,P){let L;return L="string"==typeof I?Ic().encode(I):I,he=function(he,Me){if(he instanceof Uint8Array)return Wg(he,void 0);if(he instanceof ArrayBuffer)return Wg(new Uint8Array(he),void 0);if(he instanceof ReadableStream)return he.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(L),new Qg(he,P);var he}(r,rt(e));c.asyncQueue.enqueueAndForget((0,f.Z)(function*(){!function Pl(c,e,r){const s=Le(c);var u;(u=(0,f.Z)(function*(I,P,L){try{const J=yield P.getMetadata();if(yield function(Gt,hn){const nn=Le(Gt),$n=Vi(hn.createTime);return nn.persistence.runTransaction("hasNewerBundle","readonly",or=>nn.$r.getBundleMetadata(or,hn.id)).then(or=>!!or&&or.createTime.compareTo($n)>=0)}(I.localStore,J))return yield P.close(),L._completeWith({taskState:"Success",documentsLoaded:(Gt=J).totalDocuments,bytesLoaded:Gt.totalBytes,totalDocuments:Gt.totalDocuments,totalBytes:Gt.totalBytes}),Promise.resolve(new Set);L._updateProgress(Lg(J));const he=new yf(J,I.localStore,P.serializer);let Me=yield P.qa();for(;Me;){const Ct=yield he._a(Me);Ct&&L._updateProgress(Ct),Me=yield P.qa()}const et=yield he.complete();return yield na(I,et.ca,void 0),yield function(Gt,hn){const nn=Le(Gt);return nn.persistence.runTransaction("Save bundle","readwrite",$n=>nn.$r.saveBundleMetadata($n,hn))}(I.localStore,J),L._completeWith(et.progress),Promise.resolve(et.ua)}catch(J){return Vt("SyncEngine",`Loading bundle failed with ${J}`),L._failWith(J),Promise.resolve(new Set)}var Gt}),function _(I,P,L){return u.apply(this,arguments)})(s,e,r).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield kf(c),u,s)}))}(r,c._databaseId,e,s),s}function sm(c,e){return function Hp(c,e){return c.asyncQueue.enqueue((0,f.Z)(function*(){return function(s,u){const _=Le(s);return _.persistence.runTransaction("Get named query","readonly",I=>_.$r.getNamedQuery(I,u))}(yield Os(c),e)}))}(ki(c=kr(c,Ni)),e).then(r=>r?new jo(c,null,r.query):null)}function ia(c){if(c._initialized||c._terminated)throw new te(we.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ol{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ol(Si.fromBase64String(e))}catch(r){throw new te(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Ol(Si.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class oc{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new te(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ir(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class mu{constructor(e){this._methodName=e}}class _u{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new te(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new te(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return on(this._lat,e._lat)||on(this._long,e._long)}}const y_=/^__.*__$/;class E_{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new Lr(e,this.data,this.fieldMask,r,this.fieldTransforms):new Mn(e,this.data,r,this.fieldTransforms)}}class Qp{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new Lr(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function A_(c){switch(c){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt()}}class Nl{constructor(e,r,s,u,_,I){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===_&&this.mu(),this.fieldTransforms=_||[],this.fieldMask=I||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Nl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.gu({path:s,yu:!1});return u.wu(e),u}Su(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.gu({path:s,yu:!1});return u.mu(),u}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Sh(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(A_(this.fu)&&y_.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class I_{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||rt(e)}Fu(e,r,s,u=!1){return new Nl({fu:e,methodName:r,vu:s,path:ir.emptyPath(),yu:!1,Cu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kc(c){const e=c._freezeSettings(),r=rt(c._databaseId);return new I_(c._databaseId,!!e.ignoreUndefinedProperties,r)}function _d(c,e,r,s,u,_={}){const I=c.Fu(_.merge||_.mergeFields?2:0,e,r,u);Zf("Data must be an object, but it was:",I,s);const P=$f(s,I);let L,J;if(_.merge)L=new Bi(I.fieldMask),J=I.fieldTransforms;else if(_.mergeFields){const he=[];for(const Me of _.mergeFields){const et=Ll(e,Me,r);if(!I.contains(et))throw new te(we.INVALID_ARGUMENT,`Field '${et}' is specified in your field mask but missing from your input data.`);um(he,et)||he.push(et)}L=new Bi(he),J=I.fieldTransforms.filter(Me=>L.covers(Me.field))}else L=null,J=I.fieldTransforms;return new E_(new li(P),L,J)}class sc extends mu{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sc}}function Ch(c,e,r){return new Nl({fu:3,vu:e.settings.vu,methodName:c._methodName,yu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class kl extends mu{_toFieldTransform(e){return new ua(e.path,new Ac)}isEqual(e){return e instanceof kl}}class Fl extends mu{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=Ch(this,e,!0),s=this.Mu.map(_=>yd(_,r)),u=new Us(s);return new ua(e.path,u)}isEqual(e){return e instanceof Fl&&(0,_e.vZ)(this.Mu,e.Mu)}}class vd extends mu{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=Ch(this,e,!0),s=this.Mu.map(_=>yd(_,r)),u=new Cs(s);return new ua(e.path,u)}isEqual(e){return e instanceof vd&&(0,_e.vZ)(this.Mu,e.Mu)}}class Yc extends mu{constructor(e,r){super(e),this.xu=r}_toFieldTransform(e){const r=new Sa(e.serializer,Ls(e.serializer,this.xu));return new ua(e.path,r)}isEqual(e){return e instanceof Yc&&this.xu===e.xu}}function Th(c,e,r,s){const u=c.Fu(1,e,r);Zf("Data must be an object, but it was:",u,s);const _=[],I=li.empty();go(s,(L,J)=>{const he=qf(e,L,r);J=(0,_e.m9)(J);const Me=u.Su(he);if(J instanceof sc)_.push(he);else{const et=yd(J,Me);null!=et&&(_.push(he),I.set(he,et))}});const P=new Bi(_);return new Qp(I,P,u.fieldTransforms)}function wh(c,e,r,s,u,_){const I=c.Fu(1,e,r),P=[Ll(e,s,r)],L=[u];if(_.length%2!=0)throw new te(we.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let et=0;et<_.length;et+=2)P.push(Ll(e,_[et])),L.push(_[et+1]);const J=[],he=li.empty();for(let et=P.length-1;et>=0;--et)if(!um(J,P[et])){const Ct=P[et];let Gt=L[et];Gt=(0,_e.m9)(Gt);const hn=I.Su(Ct);if(Gt instanceof sc)J.push(Ct);else{const nn=yd(Gt,hn);null!=nn&&(J.push(Ct),he.set(Ct,nn))}}const Me=new Bi(J);return new Qp(he,Me,I.fieldTransforms)}function Dh(c,e,r,s=!1){return yd(r,c.Fu(s?4:3,e))}function yd(c,e){if(Ed(c=(0,_e.m9)(c)))return Zf("Unsupported field value:",e,c),$f(c,e);if(c instanceof mu)return function(s,u){if(!A_(u.fu))throw u.Du(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Du(`${s._methodName}() is not currently supported inside arrays`);const _=s._toFieldTransform(u);_&&u.fieldTransforms.push(_)}(c,e),null;if(void 0===c&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),c instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(s,u){const _=[];let I=0;for(const P of s){let L=yd(P,u.bu(I));null==L&&(L={nullValue:"NULL_VALUE"}),_.push(L),I++}return{arrayValue:{values:_}}}(c,e)}return function(s,u){if(null===(s=(0,_e.m9)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return Ls(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const _=Yn.fromDate(s);return{timestampValue:Ma(u.serializer,_)}}if(s instanceof Yn){const _=new Yn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ma(u.serializer,_)}}if(s instanceof _u)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ol)return{bytesValue:Fd(u.serializer,s._byteString)};if(s instanceof uo){const _=u.databaseId,I=s.firestore._databaseId;if(!I.isEqual(_))throw u.Du(`Document reference is for database ${I.projectId}/${I.database} but should be for database ${_.projectId}/${_.database}`);return{referenceValue:Pa(s.firestore._databaseId||u.databaseId,s._key.path)}}throw u.Du(`Unsupported field value: ${tm(s)}`)}(c,e)}function $f(c,e){const r={};return Qo(c)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):go(c,(s,u)=>{const _=yd(u,e.pu(s));null!=_&&(r[s]=_)}),{mapValue:{fields:r}}}function Ed(c){return!("object"!=typeof c||null===c||c instanceof Array||c instanceof Date||c instanceof Yn||c instanceof _u||c instanceof Ol||c instanceof uo||c instanceof mu)}function Zf(c,e,r){if(!Ed(r)||"object"!=typeof(u=r)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=tm(r);throw e.Du("an object"===s?c+" a custom object":c+" "+s)}var u}function Ll(c,e,r){if((e=(0,_e.m9)(e))instanceof oc)return e._internalPath;if("string"==typeof e)return qf(c,e);throw Sh("Field path arguments must be of type string or ",c,!1,void 0,r)}const lm=new RegExp("[~\\*/\\[\\]]");function qf(c,e,r){if(e.search(lm)>=0)throw Sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,c,!1,void 0,r);try{return new oc(...e.split("."))._internalPath}catch{throw Sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,c,!1,void 0,r)}}function Sh(c,e,r,s,u){const _=s&&!s.isEmpty(),I=void 0!==u;let P=`Function ${e}() called with invalid data`;r&&(P+=" (via `toFirestore()`)"),P+=". ";let L="";return(_||I)&&(L+=" (found",_&&(L+=` in field ${s}`),I&&(L+=` in document ${u}`),L+=")"),new te(we.INVALID_ARGUMENT,P+c+L)}function um(c,e){return c.some(r=>r.isEqual(e))}class Gf{constructor(e,r,s,u,_){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=u,this._converter=_}get id(){return this._key.path.lastSegment()}get ref(){return new uo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new dm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(ac("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class dm extends Gf{data(){return super.data()}}function ac(c,e){return"string"==typeof e?qf(c,e):e instanceof oc?e._internalPath:e._delegate._internalPath}function Ho(c){if("L"===c.limitType&&0===c.explicitOrderBy.length)throw new te(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ua{}class Jc extends Ua{}function Ev(c,e,...r){let s=[];e instanceof Ua&&s.push(e),s=s.concat(r),function(_){const I=_.filter(L=>L instanceof Xc).length,P=_.filter(L=>L instanceof Ad).length;if(I>1||I>0&&P>0)throw new te(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)c=u._apply(c);return c}class Ad extends Jc{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new Ad(e,r,s)}_apply(e){const r=this._parse(e);return Kf(e._query,r),new jo(e.firestore,e.converter,gc(e._query,r))}_parse(e){const r=Kc(e.firestore);return function(_,I,P,L,J,he,Me){let et;if(J.isKeyField()){if("array-contains"===he||"array-contains-any"===he)throw new te(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${he}' queries on documentId().`);if("in"===he||"not-in"===he){pm(Me,he);const Ct=[];for(const Gt of Me)Ct.push(w_(L,_,Gt));et={arrayValue:{values:Ct}}}else et=w_(L,_,Me)}else"in"!==he&&"not-in"!==he&&"array-contains-any"!==he||pm(Me,he),et=Dh(P,"where",Me,"in"===he||"not-in"===he);return Qt.create(J,he,et)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function Mh(c,e,r){const s=e,u=ac("where",c);return Ad._create(u,s,r)}class Xc extends Ua{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Xc(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:In.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(u,_){let I=u;const P=_.getFlattenedFilters();for(const L of P)Kf(I,L),I=gc(I,L)}(e._query,r),new jo(e.firestore,e.converter,gc(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Kp extends Jc{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Kp(e,r)}_apply(e){const r=function(u,_,I){if(null!==u.startAt)throw new te(we.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new te(we.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lt(_,I)}(e._query,this._field,this._direction);return new jo(e.firestore,e.converter,function(u,_){const I=u.explicitOrderBy.concat([_]);return new F(u.path,u.collectionGroup,I,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,r))}}function hm(c,e="asc"){const r=e,s=ac("orderBy",c);return Kp._create(s,r)}class fm extends Jc{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new fm(e,r,s)}_apply(e){return new jo(e.firestore,e.converter,$a(e._query,this._limit,this._limitType))}}function Iv(c){return hd("limit",c),fm._create("limit",c,"F")}function Yp(c){return hd("limitToLast",c),fm._create("limitToLast",c,"L")}class Wf extends Jc{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new Wf(e,r,s)}_apply(e){const r=T_(e,this.type,this._docOrFields,this._inclusive);return new jo(e.firestore,e.converter,(_=r,new F((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,_,u.endAt)));var u,_}}function Ph(...c){return Wf._create("startAt",c,!0)}function Qf(...c){return Wf._create("startAfter",c,!1)}class Jp extends Jc{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new Jp(e,r,s)}_apply(e){const r=T_(e,this.type,this._docOrFields,this._inclusive);return new jo(e.firestore,e.converter,(_=r,new F((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,_)));var u,_}}function C_(...c){return Jp._create("endBefore",c,!1)}function bv(...c){return Jp._create("endAt",c,!0)}function T_(c,e,r,s){if(r[0]=(0,_e.m9)(r[0]),r[0]instanceof Gf)return function(_,I,P,L,J){if(!L)throw new te(we.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${P}().`);const he=[];for(const Me of co(_))if(Me.field.isKeyField())he.push(_n(I,L.key));else{const et=L.data.field(Me.field);if($o(et))throw new te(we.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Me.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===et){const Ct=Me.field.canonicalString();throw new te(we.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ct}' (used as the orderBy) does not exist.`)}he.push(et)}return new ke(he,J)}(c._query,c.firestore._databaseId,e,r[0]._document,s);{const u=Kc(c.firestore);return function(I,P,L,J,he,Me){const et=I.explicitOrderBy;if(he.length>et.length)throw new te(we.INVALID_ARGUMENT,`Too many arguments provided to ${J}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ct=[];for(let Gt=0;Gt<he.length;Gt++){const hn=he[Gt];if(et[Gt].field.isKeyField()){if("string"!=typeof hn)throw new te(we.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${J}(), but got a ${typeof hn}`);if(!vr(I)&&-1!==hn.indexOf("/"))throw new te(we.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${J}() must be a plain document ID, but '${hn}' contains a slash.`);const nn=I.path.child(xn.fromString(hn));if(!Yt.isDocumentKey(nn))throw new te(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${J}() must result in a valid document path, but '${nn}' is not because it contains an odd number of segments.`);const $n=new Yt(nn);Ct.push(_n(P,$n))}else{const nn=Dh(L,J,hn);Ct.push(nn)}}return new ke(Ct,Me)}(c._query,c.firestore._databaseId,u,e,r,s)}}function w_(c,e,r){if("string"==typeof(r=(0,_e.m9)(r))){if(""===r)throw new te(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vr(e)&&-1!==r.indexOf("/"))throw new te(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(xn.fromString(r));if(!Yt.isDocumentKey(s))throw new te(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return _n(c,new Yt(s))}if(r instanceof uo)return _n(c,r._key);throw new te(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tm(r)}.`)}function pm(c,e){if(!Array.isArray(c)||0===c.length)throw new te(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Kf(c,e){const r=function(u,_){for(const I of u)for(const P of I.getFlattenedFilters())if(_.indexOf(P.op)>=0)return P.op;return null}(c.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new te(we.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Yf{convertValue(e,r="none"){switch(ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ai(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(mo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw wt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return go(e,(u,_)=>{s[u]=this.convertValue(_,r)}),s}convertGeoPoint(e){return new _u(Ai(e.latitude),Ai(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=Xo(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Xi(e));default:return null}}convertTimestamp(e){const r=To(e);return new Yn(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=xn.fromString(e);Qe(Ve(s));const u=new qn(s.get(1),s.get(3)),_=new Yt(s.popFirst(5));return u.isEqual(r)||Nt(`Document ${_} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),_}}function xh(c,e,r){let s;return s=c?r&&(r.merge||r.mergeFields)?c.toFirestore(e,r):c.toFirestore(e):e,s}class Jf extends Yf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ol(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new uo(this.firestore,null,r)}}class bd{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cd extends Gf{constructor(e,r,s,u,_,I){super(e,r,s,u,I),this._firestore=e,this._firestoreImpl=e,this.metadata=_}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Xp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(ac("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class Xp extends Cd{data(e={}){return super.data(e)}}class vu{constructor(e,r,s,u){this._firestore=e,this._userDataWriter=r,this._snapshot=u,this.metadata=new bd(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new Xp(this._firestore,this._userDataWriter,s.key,s,new bd(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new te(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(u,_){if(u._snapshot.oldDocs.isEmpty()){let I=0;return u._snapshot.docChanges.map(P=>({type:"added",doc:new Xp(u._firestore,u._userDataWriter,P.doc.key,P.doc,new bd(u._snapshot.mutatedKeys.has(P.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:I++}))}{let I=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(P=>_||3!==P.type).map(P=>{const L=new Xp(u._firestore,u._userDataWriter,P.doc.key,P.doc,new bd(u._snapshot.mutatedKeys.has(P.doc.key),u._snapshot.fromCache),u.query.converter);let J=-1,he=-1;return 0!==P.type&&(J=I.indexOf(P.doc.key),I=I.delete(P.doc.key)),1!==P.type&&(I=I.add(P.doc),he=I.indexOf(P.doc.key)),{type:M_(P.type),doc:L,oldIndex:J,newIndex:he}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function M_(c){switch(c){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt()}}function cc(c,e){return c instanceof Cd&&e instanceof Cd?c._firestore===e._firestore&&c._key.isEqual(e._key)&&(null===c._document?null===e._document:c._document.isEqual(e._document))&&c._converter===e._converter:c instanceof vu&&e instanceof vu&&c._firestore===e._firestore&&qp(c.query,e.query)&&c.metadata.isEqual(e.metadata)&&c._snapshot.isEqual(e._snapshot)}function P_(c){c=kr(c,uo);const e=kr(c.firestore,Ni);return yh(ki(e),c._key).then(r=>vm(e,c,r))}class Td extends Yf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ol(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new uo(this.firestore,null,r)}}function gm(c){c=kr(c,uo);const e=kr(c.firestore,Ni),r=ki(e),s=new Td(e);return function p_(c,e){const r=new Ie;return c.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return(s=(0,f.Z)(function*(_,I,P){try{const L=yield function(he,Me){const et=Le(he);return et.persistence.runTransaction("read document","readonly",Ct=>et.localDocuments.getDocument(Ct,Me))}(_,I);L.isFoundDocument()?P.resolve(L):L.isNoDocument()?P.resolve(null):P.reject(new te(we.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(L){const J=au(L,`Failed to get document '${I} from cache`);P.reject(J)}}),function u(_,I,P){return s.apply(this,arguments)})(yield Os(c),e,r);var s})),r.promise}(r,c._key).then(u=>new Cd(e,s,c._key,u,new bd(null!==u&&u.hasLocalMutations,!0),c.converter))}function yu(c){c=kr(c,uo);const e=kr(c.firestore,Ni);return yh(ki(e),c._key,{source:"server"}).then(r=>vm(e,c,r))}function mm(c){c=kr(c,jo);const e=kr(c.firestore,Ni),r=ki(e),s=new Td(e);return Ho(c._query),dd(r,c._query).then(u=>new vu(e,s,c,u))}function wv(c){c=kr(c,jo);const e=kr(c.firestore,Ni),r=ki(e),s=new Td(e);return function Lf(c,e){const r=new Ie;return c.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return(s=(0,f.Z)(function*(_,I,P){try{const L=yield qu(_,I,!0),J=new Bg(I,L.hs),he=J.da(L.documents),Me=J.applyChanges(he,!1);P.resolve(Me.snapshot)}catch(L){const J=au(L,`Failed to execute query '${I} against cache`);P.reject(J)}}),function u(_,I,P){return s.apply(this,arguments)})(yield Os(c),e,r);var s})),r.promise}(r,c._query).then(u=>new vu(e,s,c,u))}function by(c){c=kr(c,jo);const e=kr(c.firestore,Ni),r=ki(e),s=new Td(e);return dd(r,c._query,{source:"server"}).then(u=>new vu(e,s,c,u))}function Dv(c,e,r){c=kr(c,uo);const s=kr(c.firestore,Ni),u=xh(c.converter,e,r);return bo(s,[_d(Kc(s),"setDoc",c._key,u,null!==c.converter,r).toMutation(c._key,Ci.none())])}function _m(c,e,r,...s){c=kr(c,uo);const u=kr(c.firestore,Ni),_=Kc(u);let I;return I="string"==typeof(e=(0,_e.m9)(e))||e instanceof oc?wh(_,"updateDoc",c._key,e,r,s):Th(_,"updateDoc",c._key,e),bo(u,[I.toMutation(c._key,Ci.exists(!0))])}function el(c){return bo(kr(c.firestore,Ni),[new pi(c._key,Ci.none())])}function x_(c,e){const r=kr(c.firestore,Ni),s=__(c),u=xh(c.converter,e);return bo(r,[_d(Kc(c.firestore),"addDoc",s._key,u,null!==c.converter,{}).toMutation(s._key,Ci.exists(!1))]).then(()=>s)}function Sv(c,...e){var r,s,u;c=(0,_e.m9)(c);let _={includeMetadataChanges:!1,source:"default"},I=0;"object"!=typeof e[I]||jf(e[I])||(_=e[I],I++);const P={includeMetadataChanges:_.includeMetadataChanges,source:_.source};if(jf(e[I])){const Me=e[I];e[I]=null===(r=Me.next)||void 0===r?void 0:r.bind(Me),e[I+1]=null===(s=Me.error)||void 0===s?void 0:s.bind(Me),e[I+2]=null===(u=Me.complete)||void 0===u?void 0:u.bind(Me)}let L,J,he;if(c instanceof uo)J=kr(c.firestore,Ni),he=ze(c._key.path),L={next:Me=>{e[I]&&e[I](vm(J,c,Me))},error:e[I+1],complete:e[I+2]};else{const Me=kr(c,jo);J=kr(Me.firestore,Ni),he=Me._query;const et=new Td(J);L={next:Ct=>{e[I]&&e[I](new vu(J,et,Me,Ct))},error:e[I+1],complete:e[I+2]},Ho(c._query)}return function(et,Ct,Gt,hn){const nn=new Pf(hn),$n=new nd(Ct,nn,Gt);return et.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return dh(yield pu(et),$n)})),()=>{nn.$a(),et.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return cu(yield pu(et),$n)}))}}(ki(J),he,P,L)}function Cy(c,e){return function Vf(c,e){const r=new Pf(e);return c.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return u=yield pu(c),_=r,Le(u).z_.add(_),void _.next();var u,_})),()=>{r.$a(),c.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return u=yield pu(c),_=r,void Le(u).z_.delete(_);var u,_}))}}(ki(c=kr(c,Ni)),jf(e)?e:{next:e})}function bo(c,e){return function(s,u){const _=new Ie;return s.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function fh(c,e,r){return Np.apply(this,arguments)}(yield kf(s),u,_)})),_.promise}(ki(c),e)}function vm(c,e,r){const s=r.docs.get(e._key),u=new Td(c);return new Cd(c,u,e._key,s,new bd(r.hasPendingWrites,r.fromCache),e.converter)}const Vl={maxAttempts:5};class wd{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Kc(e)}set(e,r,s){this._verifyNotCommitted();const u=Eu(e,this._firestore),_=xh(u.converter,r,s),I=_d(this._dataReader,"WriteBatch.set",u._key,_,null!==u.converter,s);return this._mutations.push(I.toMutation(u._key,Ci.none())),this}update(e,r,s,...u){this._verifyNotCommitted();const _=Eu(e,this._firestore);let I;return I="string"==typeof(r=(0,_e.m9)(r))||r instanceof oc?wh(this._dataReader,"WriteBatch.update",_._key,r,s,u):Th(this._dataReader,"WriteBatch.update",_._key,r),this._mutations.push(I.toMutation(_._key,Ci.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Eu(e,this._firestore);return this._mutations=this._mutations.concat(new pi(r._key,Ci.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new te(we.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Eu(c,e){if((c=(0,_e.m9)(c)).firestore!==e)throw new te(we.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return c}class kv extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=Kc(r)}get(r){const s=Eu(r,this._firestore),u=new Jf(this._firestore);return this._transaction.lookup([s._key]).then(_=>{if(!_||1!==_.length)return wt();const I=_[0];if(I.isFoundDocument())return new Gf(this._firestore,u,I.key,I,s.converter);if(I.isNoDocument())return new Gf(this._firestore,u,s._key,null,s.converter);throw wt()})}set(r,s,u){const _=Eu(r,this._firestore),I=xh(_.converter,s,u),P=_d(this._dataReader,"Transaction.set",_._key,I,null!==_.converter,u);return this._transaction.set(_._key,P),this}update(r,s,u,..._){const I=Eu(r,this._firestore);let P;return P="string"==typeof(s=(0,_e.m9)(s))||s instanceof oc?wh(this._dataReader,"Transaction.update",I._key,s,u,_):Th(this._dataReader,"Transaction.update",I._key,s),this._transaction.update(I._key,P),this}delete(r){const s=Eu(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=Eu(e,this._firestore),s=new Td(this._firestore);return super.get(e).then(u=>new Cd(this._firestore,s,r._key,u._document,new bd(!1,!1),r.converter))}}function F_(c,e,r){c=kr(c,Ni);const s=Object.assign(Object.assign({},Vl),r);return function(_){if(_.maxAttempts<1)throw new te(we.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(_,I,P){const L=new Ie;return _.asyncQueue.enqueueAndForget((0,f.Z)(function*(){const J=yield function Ff(c){return Bp(c).then(e=>e.datastore)}(_);new Rf(_.asyncQueue,J,P,I,L).Xa()})),L.promise}(ki(c),u=>e(new kv(c,u)),s)}function L_(){return new sc("deleteField")}function Em(){return new kl("serverTimestamp")}function ep(...c){return new Fl("arrayUnion",c)}function eg(...c){return new vd("arrayRemove",c)}function V_(c){return new Yc("increment",c)}!function(e,r=!0){Ze=o.SDK_VERSION,(0,o._registerComponent)(new U.wA("firestore",(s,{instanceIdentifier:u,options:_})=>{const I=s.getProvider("app").getImmediate(),P=new Ni(new vt(s.getProvider("auth-internal")),new Cn(s.getProvider("app-check-internal")),function(J,he){if(!Object.prototype.hasOwnProperty.apply(J.options,["projectId"]))throw new te(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qn(J.options.projectId,he)}(I,u),I);return _=Object.assign({useFetchStreams:r},_),P._setSettings(_),P},"PUBLIC").setMultipleInstances(!0)),(0,o.registerVersion)(Ne,"4.6.3",e),(0,o.registerVersion)(Ne,"4.6.3","esm2017")}()},8153:(an,ut,k)=>{"use strict";k.d(ut,{$Y:()=>yn,B0:()=>Uo,FN:()=>Vn,IX:()=>Ui,Jt:()=>Ri,UJ:()=>Ur,Ym:()=>_n,a1:()=>no,aF:()=>Rr,bm:()=>bn,cF:()=>ai,g6:()=>wo,gE:()=>dt,gH:()=>Nt,iH:()=>ci,oq:()=>Hi,pb:()=>Xn,qm:()=>jn,sd:()=>$r,y4:()=>Dn});var f=k(5861),o=k(534),U=k(9058),Se=k(4537);const _e="firebasestorage.googleapis.com",Ae="storageBucket";class q extends U.ZR{constructor(Y,ke,$e=0){super(se(Y),`Firebase Storage: ${ke} (${se(Y)})`),this.status_=$e,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,q.prototype)}get status(){return this.status_}set status(Y){this.status_=Y}_codeEquals(Y){return se(Y)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(Y){this.customData.serverResponse=Y,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var z=function(re){return re.UNKNOWN="unknown",re.OBJECT_NOT_FOUND="object-not-found",re.BUCKET_NOT_FOUND="bucket-not-found",re.PROJECT_NOT_FOUND="project-not-found",re.QUOTA_EXCEEDED="quota-exceeded",re.UNAUTHENTICATED="unauthenticated",re.UNAUTHORIZED="unauthorized",re.UNAUTHORIZED_APP="unauthorized-app",re.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",re.INVALID_CHECKSUM="invalid-checksum",re.CANCELED="canceled",re.INVALID_EVENT_NAME="invalid-event-name",re.INVALID_URL="invalid-url",re.INVALID_DEFAULT_BUCKET="invalid-default-bucket",re.NO_DEFAULT_BUCKET="no-default-bucket",re.CANNOT_SLICE_BLOB="cannot-slice-blob",re.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",re.NO_DOWNLOAD_URL="no-download-url",re.INVALID_ARGUMENT="invalid-argument",re.INVALID_ARGUMENT_COUNT="invalid-argument-count",re.APP_DELETED="app-deleted",re.INVALID_ROOT_OPERATION="invalid-root-operation",re.INVALID_FORMAT="invalid-format",re.INTERNAL_ERROR="internal-error",re.UNSUPPORTED_ENVIRONMENT="unsupported-environment",re}(z||{});function se(re){return"storage/"+re}function be(){return new q(z.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function _t(){return new q(z.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Fe(){return new q(z.CANCELED,"User canceled the upload/download.")}function qe(){return new q(z.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Nt(re){return new q(z.INVALID_ARGUMENT,re)}function Vt(){return new q(z.APP_DELETED,"The Firebase app was deleted.")}function Dn(re){return new q(z.INVALID_ROOT_OPERATION,"The operation '"+re+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function wt(re,Y){return new q(z.INVALID_FORMAT,"String does not match format '"+re+"': "+Y)}function Qe(re){throw new q(z.INTERNAL_ERROR,"Internal error: "+re)}class dt{constructor(Y,ke){this.bucket=Y,this.path_=ke}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const Y=encodeURIComponent;return"/b/"+Y(this.bucket)+"/o/"+Y(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(Y,ke){let $e;try{$e=dt.makeFromUrl(Y,ke)}catch{return new dt(Y,"")}if(""===$e.path)return $e;throw function tt(re){return new q(z.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+re+"'.")}(Y)}static makeFromUrl(Y,ke){let $e=null;const ft="([A-Za-z0-9.\\-_]+)",Sn=new RegExp("^gs://"+ft+"(/(.*))?$","i");function In(Pi){Pi.path_=decodeURIComponent(Pi.path)}const Bn=ke.replace(/[.]/g,"\\."),yr=[{regex:Sn,indices:{bucket:1,path:3},postModify:function Lt(Pi){"/"===Pi.path.charAt(Pi.path.length-1)&&(Pi.path_=Pi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Bn}/v[A-Za-z0-9_]+/b/${ft}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:In},{regex:new RegExp(`^https?://${ke===_e?"(?:storage.googleapis.com|storage.cloud.google.com)":ke}/${ft}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:In}];for(let Pi=0;Pi<yr.length;Pi++){const Qr=yr[Pi],bi=Qr.regex.exec(Y);if(bi){let ro=bi[Qr.indices.path];ro||(ro=""),$e=new dt(bi[Qr.indices.bucket],ro),Qr.postModify($e);break}}if(null==$e)throw function Ne(re){return new q(z.INVALID_URL,"Invalid URL '"+re+"'.")}(Y);return $e}}class Le{constructor(Y){this.promise_=Promise.reject(Y)}getPromise(){return this.promise_}cancel(Y=!1){}}function ot(re){return"string"==typeof re||re instanceof String}function vt(re){return Bt()&&re instanceof Blob}function Bt(){return typeof Blob<"u"}function Zt(re,Y,ke,$e){if($e<Y)throw Nt(`Invalid value for '${re}'. Expected ${Y} or greater.`);if($e>ke)throw Nt(`Invalid value for '${re}'. Expected ${ke} or less.`)}function Wt(re,Y,ke){let $e=Y;return null==ke&&($e=`https://${Y}`),`${ke}://${$e}/v0${re}`}function Cn(re){const Y=encodeURIComponent;let ke="?";for(const $e in re)re.hasOwnProperty($e)&&(ke=ke+(Y($e)+"=")+Y(re[$e])+"&");return ke=ke.slice(0,-1),ke}var Kn=function(re){return re[re.NO_ERROR=0]="NO_ERROR",re[re.NETWORK_ERROR=1]="NETWORK_ERROR",re[re.ABORT=2]="ABORT",re}(Kn||{});function Pn(re,Y){const ke=re>=500&&re<600,ft=-1!==[408,429].indexOf(re),Lt=-1!==Y.indexOf(re);return ke||ft||Lt}class On{constructor(Y,ke,$e,ft,Lt,pn,Sn,Qt,In,_r,Bn,Ii=!0){this.url_=Y,this.method_=ke,this.headers_=$e,this.body_=ft,this.successCodes_=Lt,this.additionalRetryCodes_=pn,this.callback_=Sn,this.errorCallback_=Qt,this.timeout_=In,this.progressCallback_=_r,this.connectionFactory_=Bn,this.retry=Ii,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Zr,Or)=>{this.resolve_=Zr,this.reject_=Or,this.start_()})}start_(){const ke=($e,ft)=>{const Lt=this.resolve_,pn=this.reject_,Sn=ft.connection;if(ft.wasSuccessCode)try{const Qt=this.callback_(Sn,Sn.getResponse());!function Ie(re){return void 0!==re}(Qt)?Lt():Lt(Qt)}catch(Qt){pn(Qt)}else if(null!==Sn){const Qt=be();Qt.serverResponse=Sn.getErrorText(),pn(this.errorCallback_?this.errorCallback_(Sn,Qt):Qt)}else pn(ft.canceled?this.appDelete_?Vt():Fe():_t())};this.canceled_?ke(0,new on(!1,null,!0)):this.backoffId_=function we(re,Y,ke){let $e=1,ft=null,Lt=null,pn=!1,Sn=0;function Qt(){return 2===Sn}let In=!1;function _r(...Br){In||(In=!0,Y.apply(null,Br))}function Bn(Br){ft=setTimeout(()=>{ft=null,re(Zr,Qt())},Br)}function Ii(){Lt&&clearTimeout(Lt)}function Zr(Br,...so){if(In)return void Ii();if(Br)return Ii(),void _r.call(null,Br,...so);if(Qt()||pn)return Ii(),void _r.call(null,Br,...so);let yr;$e<64&&($e*=2),1===Sn?(Sn=2,yr=0):yr=1e3*($e+Math.random()),Bn(yr)}let Or=!1;function _i(Br){Or||(Or=!0,Ii(),!In&&(null!==ft?(Br||(Sn=2),clearTimeout(ft),Bn(0)):Br||(Sn=1)))}return Bn(0),Lt=setTimeout(()=>{pn=!0,_i(!0)},ke),_i}(($e,ft)=>{if(ft)return void $e(!1,new on(!1,null,!0));const Lt=this.connectionFactory_();this.pendingConnection_=Lt;const pn=Sn=>{null!==this.progressCallback_&&this.progressCallback_(Sn.loaded,Sn.lengthComputable?Sn.total:-1)};null!==this.progressCallback_&&Lt.addUploadProgressListener(pn),Lt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Lt.removeUploadProgressListener(pn),this.pendingConnection_=null;const Sn=Lt.getErrorCode()===Kn.NO_ERROR,Qt=Lt.getStatus();if(!Sn||Pn(Qt,this.additionalRetryCodes_)&&this.retry){const _r=Lt.getErrorCode()===Kn.ABORT;return void $e(!1,new on(!1,null,_r))}const In=-1!==this.successCodes_.indexOf(Qt);$e(!0,new on(In,Lt))})},ke,this.timeout_)}getPromise(){return this.promise_}cancel(Y){this.canceled_=!0,this.appDelete_=Y||!1,null!==this.backoffId_&&function te(re){re(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class on{constructor(Y,ke,$e){this.wasSuccessCode=Y,this.connection=ke,this.canceled=!!$e}}function Pr(...re){const Y=function xn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==Y){const ke=new Y;for(let $e=0;$e<re.length;$e++)ke.append(re[$e]);return ke.getBlob()}if(Bt())return new Blob(re);throw new q(z.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const bn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Un{constructor(Y,ke){this.data=Y,this.contentType=ke||null}}function jn(re,Y){switch(re){case bn.RAW:return new Un(Ar(Y));case bn.BASE64:case bn.BASE64URL:return new Un(Zn(re,Y));case bn.DATA_URL:return new Un(function Yr(re){const Y=new Wn(re);return Y.base64?Zn(bn.BASE64,Y.rest):function Cr(re){let Y;try{Y=decodeURIComponent(re)}catch{throw wt(bn.DATA_URL,"Malformed data URL.")}return Ar(Y)}(Y.rest)}(Y),function Ei(re){return new Wn(re).contentType}(Y))}throw be()}function Ar(re){const Y=[];for(let ke=0;ke<re.length;ke++){let $e=re.charCodeAt(ke);$e<=127?Y.push($e):$e<=2047?Y.push(192|$e>>6,128|63&$e):55296==(64512&$e)?ke<re.length-1&&56320==(64512&re.charCodeAt(ke+1))?($e=65536|(1023&$e)<<10|1023&re.charCodeAt(++ke),Y.push(240|$e>>18,128|$e>>12&63,128|$e>>6&63,128|63&$e)):Y.push(239,191,189):56320==(64512&$e)?Y.push(239,191,189):Y.push(224|$e>>12,128|$e>>6&63,128|63&$e)}return new Uint8Array(Y)}function Zn(re,Y){switch(re){case bn.BASE64:{const ft=-1!==Y.indexOf("-"),Lt=-1!==Y.indexOf("_");if(ft||Lt)throw wt(re,"Invalid character '"+(ft?"-":"_")+"' found: is it base64url encoded?");break}case bn.BASE64URL:{const ft=-1!==Y.indexOf("+"),Lt=-1!==Y.indexOf("/");if(ft||Lt)throw wt(re,"Invalid character '"+(ft?"+":"/")+"' found: is it base64 encoded?");Y=Y.replace(/-/g,"+").replace(/_/g,"/");break}}let ke;try{ke=function Yt(re){if(typeof atob>"u")throw function Ee(re){return new q(z.UNSUPPORTED_ENVIRONMENT,`${re} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(re)}(Y)}catch(ft){throw ft.message.includes("polyfill")?ft:wt(re,"Invalid character found")}const $e=new Uint8Array(ke.length);for(let ft=0;ft<ke.length;ft++)$e[ft]=ke.charCodeAt(ft);return $e}class Wn{constructor(Y){this.base64=!1,this.contentType=null;const ke=Y.match(/^data:([^,]+)?,/);if(null===ke)throw wt(bn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const $e=ke[1]||null;null!=$e&&(this.base64=function gn(re,Y){return re.length>=Y.length&&re.substring(re.length-Y.length)===Y}($e,";base64"),this.contentType=this.base64?$e.substring(0,$e.length-7):$e),this.rest=Y.substring(Y.indexOf(",")+1)}}class Ur{constructor(Y,ke){let $e=0,ft="";vt(Y)?(this.data_=Y,$e=Y.size,ft=Y.type):Y instanceof ArrayBuffer?(ke?this.data_=new Uint8Array(Y):(this.data_=new Uint8Array(Y.byteLength),this.data_.set(new Uint8Array(Y))),$e=this.data_.length):Y instanceof Uint8Array&&(ke?this.data_=Y:(this.data_=new Uint8Array(Y.length),this.data_.set(Y)),$e=Y.length),this.size_=$e,this.type_=ft}size(){return this.size_}type(){return this.type_}slice(Y,ke){if(vt(this.data_)){const ft=function ir(re,Y,ke){return re.webkitSlice?re.webkitSlice(Y,ke):re.mozSlice?re.mozSlice(Y,ke):re.slice?re.slice(Y,ke):null}(this.data_,Y,ke);return null===ft?null:new Ur(ft)}{const $e=new Uint8Array(this.data_.buffer,Y,ke-Y);return new Ur($e,!0)}}static getBlob(...Y){if(Bt()){const ke=Y.map($e=>$e instanceof Ur?$e.data_:$e);return new Ur(Pr.apply(null,ke))}{const ke=Y.map(pn=>ot(pn)?jn(bn.RAW,pn).data:pn.data_);let $e=0;ke.forEach(pn=>{$e+=pn.byteLength});const ft=new Uint8Array($e);let Lt=0;return ke.forEach(pn=>{for(let Sn=0;Sn<pn.length;Sn++)ft[Lt++]=pn[Sn]}),new Ur(ft,!0)}}uploadData(){return this.data_}}function sr(re){let Y;try{Y=JSON.parse(re)}catch{return null}return function je(re){return"object"==typeof re&&!Array.isArray(re)}(Y)?Y:null}function ii(re){const Y=re.lastIndexOf("/",re.length-2);return-1===Y?re:re.slice(Y+1)}function ct(re,Y){return Y}class Dt{constructor(Y,ke,$e,ft){this.server=Y,this.local=ke||Y,this.writable=!!$e,this.xform=ft||ct}}let ue=null;function xt(){if(ue)return ue;const re=[];re.push(new Dt("bucket")),re.push(new Dt("generation")),re.push(new Dt("metageneration")),re.push(new Dt("name","fullPath",!0));const ke=new Dt("name");ke.xform=function Y(Lt,pn){return function Be(re){return!ot(re)||re.length<2?re:ii(re)}(pn)},re.push(ke);const ft=new Dt("size");return ft.xform=function $e(Lt,pn){return void 0!==pn?Number(pn):pn},re.push(ft),re.push(new Dt("timeCreated")),re.push(new Dt("updated")),re.push(new Dt("md5Hash",null,!0)),re.push(new Dt("cacheControl",null,!0)),re.push(new Dt("contentDisposition",null,!0)),re.push(new Dt("contentEncoding",null,!0)),re.push(new Dt("contentLanguage",null,!0)),re.push(new Dt("contentType",null,!0)),re.push(new Dt("metadata","customMetadata",!0)),ue=re,ue}function hi(re,Y,ke){const $e=sr(Y);return null===$e?null:function Hn(re,Y,ke){const $e={type:"file"},ft=ke.length;for(let Lt=0;Lt<ft;Lt++){const pn=ke[Lt];$e[pn.local]=pn.xform($e,Y[pn.server])}return function en(re,Y){Object.defineProperty(re,"ref",{get:function ke(){const Lt=new dt(re.bucket,re.fullPath);return Y._makeStorageReference(Lt)}})}($e,re),$e}(re,$e,ke)}function Ge(re,Y){const ke={},$e=Y.length;for(let ft=0;ft<$e;ft++){const Lt=Y[ft];Lt.writable&&(ke[Lt.server]=re[Lt.local])}return JSON.stringify(ke)}const ce="prefixes",Q="items";class Te{constructor(Y,ke,$e,ft){this.url=Y,this.method=ke,this.handler=$e,this.timeout=ft,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Xe(re){if(!re)throw be()}function kt(re,Y){return function ke($e,ft){const Lt=hi(re,ft,Y);return Xe(null!==Lt),Lt}}function cn(re){return function Y(ke,$e){let ft;return ft=401===ke.getStatus()?ke.getErrorText().includes("Firebase App Check token is invalid")?function Ye(){return new q(z.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Re(){return new q(z.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===ke.getStatus()?function De(re){return new q(z.QUOTA_EXCEEDED,"Quota for bucket '"+re+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(re.bucket):403===ke.getStatus()?function We(re){return new q(z.UNAUTHORIZED,"User does not have permission to access '"+re+"'.")}(re.path):$e,ft.status=ke.getStatus(),ft.serverResponse=$e.serverResponse,ft}}function fn(re){const Y=cn(re);return function ke($e,ft){let Lt=Y($e,ft);return 404===$e.getStatus()&&(Lt=function ye(re){return new q(z.OBJECT_NOT_FOUND,"Object '"+re+"' does not exist.")}(re.path)),Lt.serverResponse=ft.serverResponse,Lt}}function Jn(re,Y,ke){const ft=Wt(Y.fullServerUrl(),re.host,re._protocol),pn=re.maxOperationRetryTime,Sn=new Te(ft,"GET",kt(re,ke),pn);return Sn.errorHandler=fn(Y),Sn}function Je(re,Y,ke,$e,ft){const Lt={};Lt.prefix=Y.isRoot?"":Y.path+"/",ke&&ke.length>0&&(Lt.delimiter=ke),$e&&(Lt.pageToken=$e),ft&&(Lt.maxResults=ft);const Sn=Wt(Y.bucketOnlyServerUrl(),re.host,re._protocol),In=re.maxOperationRetryTime,_r=new Te(Sn,"GET",function $t(re,Y){return function ke($e,ft){const Lt=function B(re,Y,ke){const $e=sr(ke);return null===$e?null:function H(re,Y,ke){const $e={prefixes:[],items:[],nextPageToken:ke.nextPageToken};if(ke[ce])for(const ft of ke[ce]){const Lt=ft.replace(/\/$/,""),pn=re._makeStorageReference(new dt(Y,Lt));$e.prefixes.push(pn)}if(ke[Q])for(const ft of ke[Q]){const Lt=re._makeStorageReference(new dt(Y,ft.name));$e.items.push(Lt)}return $e}(re,Y,$e)}(re,Y,ft);return Xe(null!==Lt),Lt}}(re,Y.bucket),In);return _r.urlParams=Lt,_r.errorHandler=cn(Y),_r}function ln(re,Y,ke){const $e=Object.assign({},ke);return $e.fullPath=re.path,$e.size=Y.size(),$e.contentType||($e.contentType=function An(re,Y){return re&&re.contentType||Y&&Y.type()||"application/octet-stream"}(null,Y)),$e}class En{constructor(Y,ke,$e,ft){this.current=Y,this.total=ke,this.finalized=!!$e,this.metadata=ft||null}}function yt(re,Y){let ke=null;try{ke=re.getResponseHeader("X-Goog-Upload-Status")}catch{Xe(!1)}return Xe(!!ke&&-1!==(Y||["active"]).indexOf(ke)),ke}const Vn={STATE_CHANGED:"state_changed"},yn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function zn(re){switch(re){case"running":case"pausing":case"canceling":return yn.RUNNING;case"paused":return yn.PAUSED;case"success":return yn.SUCCESS;case"canceled":return yn.CANCELED;default:return yn.ERROR}}class Sr{constructor(Y,ke,$e){if(function Pe(re){return"function"==typeof re}(Y)||null!=ke||null!=$e)this.next=Y,this.error=ke??void 0,this.complete=$e??void 0;else{const Lt=Y;this.next=Lt.next,this.error=Lt.error,this.complete=Lt.complete}}}function fi(re){return(...Y)=>{Promise.resolve().then(()=>re(...Y))}}let ei=null;class ur{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Kn.NO_ERROR,this.sendPromise_=new Promise(Y=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Kn.ABORT,Y()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Kn.NETWORK_ERROR,Y()}),this.xhr_.addEventListener("load",()=>{Y()})})}send(Y,ke,$e,ft){if(this.sent_)throw Qe("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(ke,Y,!0),void 0!==ft)for(const Lt in ft)ft.hasOwnProperty(Lt)&&this.xhr_.setRequestHeader(Lt,ft[Lt].toString());return void 0!==$e?this.xhr_.send($e):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Qe("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Qe("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Qe("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Qe("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(Y){return this.xhr_.getResponseHeader(Y)}addUploadProgressListener(Y){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",Y)}removeUploadProgressListener(Y){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",Y)}}class Mi extends ur{initXhr(){this.xhr_.responseType="text"}}function mi(){return ei?ei():new Mi}class Ui{constructor(Y,ke,$e=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=Y,this._blob=ke,this._metadata=$e,this._mappings=xt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=ft=>{if(this._request=void 0,this._chunkMultiplier=1,ft._codeEquals(z.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const Lt=this.isExponentialBackoffExpired();if(Pn(ft.status,[])){if(!Lt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();ft=_t()}this._error=ft,this._transition("error")}},this._metadataErrorHandler=ft=>{this._request=void 0,ft._codeEquals(z.CANCELED)?this.completeTransitions_():(this._error=ft,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((ft,Lt)=>{this._resolve=ft,this._reject=Lt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const Y=this._transferred;return ke=>this._updateProgress(Y+ke)}_shouldDoResumable(Y){return Y.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(Y){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([ke,$e])=>{switch(this._state){case"running":Y(ke,$e);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((Y,ke)=>{const $e=function pt(re,Y,ke,$e,ft){const Lt=Y.bucketOnlyServerUrl(),pn=ln(Y,$e,ft),Sn={name:pn.fullPath},Qt=Wt(Lt,re.host,re._protocol),_r={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${$e.size()}`,"X-Goog-Upload-Header-Content-Type":pn.contentType,"Content-Type":"application/json; charset=utf-8"},Bn=Ge(pn,ke),Or=new Te(Qt,"POST",function Zr(_i){let Br;yt(_i);try{Br=_i.getResponseHeader("X-Goog-Upload-URL")}catch{Xe(!1)}return Xe(ot(Br)),Br},re.maxUploadRetryTime);return Or.urlParams=Sn,Or.headers=_r,Or.body=Bn,Or.errorHandler=cn(Y),Or}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ft=this._ref.storage._makeRequest($e,mi,Y,ke);this._request=ft,ft.getPromise().then(Lt=>{this._request=void 0,this._uploadUrl=Lt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const Y=this._uploadUrl;this._resolveToken((ke,$e)=>{const ft=function Ft(re,Y,ke,$e){const Qt=new Te(ke,"POST",function Lt(In){const _r=yt(In,["active","final"]);let Bn=null;try{Bn=In.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Xe(!1)}Bn||Xe(!1);const Ii=Number(Bn);return Xe(!isNaN(Ii)),new En(Ii,$e.size(),"final"===_r)},re.maxUploadRetryTime);return Qt.headers={"X-Goog-Upload-Command":"query"},Qt.errorHandler=cn(Y),Qt}(this._ref.storage,this._ref._location,Y,this._blob),Lt=this._ref.storage._makeRequest(ft,mi,ke,$e);this._request=Lt,Lt.getPromise().then(pn=>{this._request=void 0,this._updateProgress(pn.current),this._needToFetchStatus=!1,pn.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const Y=262144*this._chunkMultiplier,ke=new En(this._transferred,this._blob.size()),$e=this._uploadUrl;this._resolveToken((ft,Lt)=>{let pn;try{pn=function Ln(re,Y,ke,$e,ft,Lt,pn,Sn){const Qt=new En(0,0);if(pn?(Qt.current=pn.current,Qt.total=pn.total):(Qt.current=0,Qt.total=$e.size()),$e.size()!==Qt.total)throw function ht(){return new q(z.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const In=Qt.total-Qt.current;let _r=In;ft>0&&(_r=Math.min(_r,ft));const Bn=Qt.current;let Zr="";Zr=0===_r?"finalize":In===_r?"upload, finalize":"upload";const Or={"X-Goog-Upload-Command":Zr,"X-Goog-Upload-Offset":`${Qt.current}`},_i=$e.slice(Bn,Bn+_r);if(null===_i)throw qe();const yr=new Te(ke,"POST",function Br(Pi,Qr){const bi=yt(Pi,["active","final"]),ds=Qt.current+_r,ro=$e.size();let Mo;return Mo="final"===bi?kt(Y,Lt)(Pi,Qr):null,new En(ds,ro,"final"===bi,Mo)},Y.maxUploadRetryTime);return yr.headers=Or,yr.body=_i.uploadData(),yr.progressCallback=Sn||null,yr.errorHandler=cn(re),yr}(this._ref._location,this._ref.storage,$e,this._blob,Y,this._mappings,ke,this._makeProgressCallback())}catch(Qt){return this._error=Qt,void this._transition("error")}const Sn=this._ref.storage._makeRequest(pn,mi,ft,Lt,!1);this._request=Sn,Sn.getPromise().then(Qt=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Qt.current),Qt.finalized?(this._metadata=Qt.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((Y,ke)=>{const $e=Jn(this._ref.storage,this._ref._location,this._mappings),ft=this._ref.storage._makeRequest($e,mi,Y,ke);this._request=ft,ft.getPromise().then(Lt=>{this._request=void 0,this._metadata=Lt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((Y,ke)=>{const $e=function fr(re,Y,ke,$e,ft){const Lt=Y.bucketOnlyServerUrl(),pn={"X-Goog-Upload-Protocol":"multipart"},Qt=function Sn(){let yr="";for(let Pi=0;Pi<2;Pi++)yr+=Math.random().toString().slice(2);return yr}();pn["Content-Type"]="multipart/related; boundary="+Qt;const In=ln(Y,$e,ft),_r=Ge(In,ke),Zr=Ur.getBlob("--"+Qt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+_r+"\r\n--"+Qt+"\r\nContent-Type: "+In.contentType+"\r\n\r\n",$e,"\r\n--"+Qt+"--");if(null===Zr)throw qe();const Or={name:In.fullPath},_i=Wt(Lt,re.host,re._protocol),so=re.maxUploadRetryTime,ao=new Te(_i,"POST",kt(re,ke),so);return ao.urlParams=Or,ao.headers=pn,ao.body=Zr.uploadData(),ao.errorHandler=cn(Y),ao}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ft=this._ref.storage._makeRequest($e,mi,Y,ke);this._request=ft,ft.getPromise().then(Lt=>{this._request=void 0,this._metadata=Lt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(Y){const ke=this._transferred;this._transferred=Y,this._transferred!==ke&&this._notifyObservers()}_transition(Y){if(this._state!==Y)switch(Y){case"canceling":case"pausing":this._state=Y,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const ke="paused"===this._state;this._state=Y,ke&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=Y,this._notifyObservers();break;case"canceled":this._error=Fe(),this._state=Y,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const Y=zn(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:Y,metadata:this._metadata,task:this,ref:this._ref}}on(Y,ke,$e,ft){const Lt=new Sr(ke||void 0,$e||void 0,ft||void 0);return this._addObserver(Lt),()=>{this._removeObserver(Lt)}}then(Y,ke){return this._promise.then(Y,ke)}catch(Y){return this.then(null,Y)}_addObserver(Y){this._observers.push(Y),this._notifyObserver(Y)}_removeObserver(Y){const ke=this._observers.indexOf(Y);-1!==ke&&this._observers.splice(ke,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(ke=>{this._notifyObserver(ke)})}_finishPromise(){if(void 0!==this._resolve){let Y=!0;switch(zn(this._state)){case yn.SUCCESS:fi(this._resolve.bind(null,this.snapshot))();break;case yn.CANCELED:case yn.ERROR:fi(this._reject.bind(null,this._error))();break;default:Y=!1}Y&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(Y){switch(zn(this._state)){case yn.RUNNING:case yn.PAUSED:Y.next&&fi(Y.next.bind(Y,this.snapshot))();break;case yn.SUCCESS:Y.complete&&fi(Y.complete.bind(Y))();break;default:Y.error&&fi(Y.error.bind(Y,this._error))()}}resume(){const Y="paused"===this._state||"pausing"===this._state;return Y&&this._transition("running"),Y}pause(){const Y="running"===this._state;return Y&&this._transition("pausing"),Y}cancel(){const Y="running"===this._state||"pausing"===this._state;return Y&&this._transition("canceling"),Y}}class Qo{constructor(Y,ke){this._service=Y,this._location=ke instanceof dt?ke:dt.makeFromUrl(ke,Y.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(Y,ke){return new Qo(Y,ke)}get root(){const Y=new dt(this._location.bucket,"");return this._newRef(this._service,Y)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ii(this._location.path)}get storage(){return this._service}get parent(){const Y=function xr(re){if(0===re.length)return null;const Y=re.lastIndexOf("/");return-1===Y?"":re.slice(0,Y)}(this._location.path);if(null===Y)return null;const ke=new dt(this._location.bucket,Y);return new Qo(this._service,ke)}_throwIfRoot(Y){if(""===this._location.path)throw Dn(Y)}}function Bi(re,Y,ke){return qi.apply(this,arguments)}function qi(){return(qi=(0,f.Z)(function*(re,Y,ke){const ft=yield Es(re,{pageToken:ke});Y.prefixes.push(...ft.prefixes),Y.items.push(...ft.items),null!=ft.nextPageToken&&(yield Bi(re,Y,ft.nextPageToken))})).apply(this,arguments)}function Es(re,Y){null!=Y&&"number"==typeof Y.maxResults&&Zt("options.maxResults",1,1e3,Y.maxResults);const ke=Y||{},$e=Je(re.storage,re._location,"/",ke.pageToken,ke.maxResults);return re.storage.makeRequestWithTokens($e,mi)}function To(re){re._throwIfRoot("getDownloadURL");const Y=function nt(re,Y,ke){const ft=Wt(Y.fullServerUrl(),re.host,re._protocol),pn=re.maxOperationRetryTime,Sn=new Te(ft,"GET",function mn(re,Y){return function ke($e,ft){const Lt=hi(re,ft,Y);return Xe(null!==Lt),function Tr(re,Y,ke,$e){const ft=sr(Y);if(null===ft||!ot(ft.downloadTokens))return null;const Lt=ft.downloadTokens;if(0===Lt.length)return null;const pn=encodeURIComponent;return Lt.split(",").map(In=>{const Bn=re.fullPath;return Wt("/b/"+pn(re.bucket)+"/o/"+pn(Bn),ke,$e)+Cn({alt:"media",token:In})})[0]}(Lt,ft,re.host,re._protocol)}}(re,ke),pn);return Sn.errorHandler=fn(Y),Sn}(re.storage,re._location,xt());return re.storage.makeRequestWithTokens(Y,mi).then(ke=>{if(null===ke)throw function bt(){return new q(z.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return ke})}function mo(re,Y){const ke=function Dr(re,Y){const ke=Y.split("/").filter($e=>$e.length>0).join("/");return 0===re.length?ke:re+"/"+ke}(re._location.path,Y),$e=new dt(re._location.bucket,ke);return new Qo(re.storage,$e)}function Xi(re,Y){if(re instanceof si){const ke=re;if(null==ke._bucket)throw function Ze(){return new q(z.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ae+"' property when initializing the app?")}();const $e=new Qo(ke,ke._bucket);return null!=Y?Xi($e,Y):$e}return void 0!==Y?mo(re,Y):re}function us(re,Y){if(Y&&function $o(re){return/^[A-Za-z]+:\/\//.test(re)}(Y)){if(re instanceof si)return function Xo(re,Y){return new Qo(re,Y)}(re,Y);throw Nt("To use ref(service, url), the first argument must be a Storage instance.")}return Xi(re,Y)}function qn(re,Y){const ke=Y?.[Ae];return null==ke?null:dt.makeFromBucketSpec(ke,re)}class si{constructor(Y,ke,$e,ft,Lt){this.app=Y,this._authProvider=ke,this._appCheckProvider=$e,this._url=ft,this._firebaseVersion=Lt,this._bucket=null,this._host=_e,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=ft?dt.makeFromBucketSpec(ft,this._host):qn(this._host,this.app.options)}get host(){return this._host}set host(Y){this._host=Y,this._bucket=null!=this._url?dt.makeFromBucketSpec(this._url,Y):qn(Y,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(Y){Zt("time",0,Number.POSITIVE_INFINITY,Y),this._maxUploadRetryTime=Y}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(Y){Zt("time",0,Number.POSITIVE_INFINITY,Y),this._maxOperationRetryTime=Y}_getAuthToken(){var Y=this;return(0,f.Z)(function*(){if(Y._overrideAuthToken)return Y._overrideAuthToken;const ke=Y._authProvider.getImmediate({optional:!0});if(ke){const $e=yield ke.getToken();if(null!==$e)return $e.accessToken}return null})()}_getAppCheckToken(){var Y=this;return(0,f.Z)(function*(){const ke=Y._appCheckProvider.getImmediate({optional:!0});return ke?(yield ke.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(Y=>Y.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(Y){return new Qo(this,Y)}_makeRequest(Y,ke,$e,ft,Lt=!0){if(this._deleted)return new Le(Vt());{const pn=function Hr(re,Y,ke,$e,ft,Lt,pn=!0){const Sn=Cn(re.urlParams),Qt=re.url+Sn,In=Object.assign({},re.headers);return function Yn(re,Y){Y&&(re["X-Firebase-GMPID"]=Y)}(In,Y),function Nn(re,Y){null!==Y&&Y.length>0&&(re.Authorization="Firebase "+Y)}(In,ke),function mr(re,Y){re["X-Firebase-Storage-Version"]="webjs/"+(Y??"AppManager")}(In,Lt),function Kt(re,Y){null!==Y&&(re["X-Firebase-AppCheck"]=Y)}(In,$e),new On(Qt,re.method,In,re.body,re.successCodes,re.additionalRetryCodes,re.handler,re.errorHandler,re.timeout,re.progressCallback,ft,pn)}(Y,this._appId,$e,ft,ke,this._firebaseVersion,Lt);return this._requests.add(pn),pn.getPromise().then(()=>this._requests.delete(pn),()=>this._requests.delete(pn)),pn}}makeRequestWithTokens(Y,ke){var $e=this;return(0,f.Z)(function*(){const[ft,Lt]=yield Promise.all([$e._getAuthToken(),$e._getAppCheckToken()]);return $e._makeRequest(Y,ke,ft,Lt).getPromise()})()}}const ji="@firebase/storage",eo="storage";function Uo(re,Y,ke){return function Jr(re,Y,ke){return re._throwIfRoot("uploadBytesResumable"),new Ui(re,new Ur(Y),ke)}(re=(0,U.m9)(re),Y,ke)}function $r(re){return function Si(re){re._throwIfRoot("getMetadata");const Y=Jn(re.storage,re._location,xt());return re.storage.makeRequestWithTokens(Y,mi)}(re=(0,U.m9)(re))}function _n(re,Y){return function ks(re,Y){re._throwIfRoot("updateMetadata");const ke=function jt(re,Y,ke,$e){const Lt=Wt(Y.fullServerUrl(),re.host,re._protocol),Sn=Ge(ke,$e),In=re.maxOperationRetryTime,_r=new Te(Lt,"PATCH",kt(re,$e),In);return _r.headers={"Content-Type":"application/json; charset=utf-8"},_r.body=Sn,_r.errorHandler=fn(Y),_r}(re.storage,re._location,Y,xt());return re.storage.makeRequestWithTokens(ke,mi)}(re=(0,U.m9)(re),Y)}function Xn(re,Y){return Es(re=(0,U.m9)(re),Y)}function Rr(re){return function Vo(re){const Y={prefixes:[],items:[]};return Bi(re,Y).then(()=>Y)}(re=(0,U.m9)(re))}function Ri(re){return To(re=(0,U.m9)(re))}function Hi(re){return function Ai(re){re._throwIfRoot("deleteObject");const Y=function Xt(re,Y){const $e=Wt(Y.fullServerUrl(),re.host,re._protocol),Sn=new Te($e,"DELETE",function pn(Qt,In){},re.maxOperationRetryTime);return Sn.successCodes=[200,204],Sn.errorHandler=fn(Y),Sn}(re.storage,re._location);return re.storage.makeRequestWithTokens(Y,mi)}(re=(0,U.m9)(re))}function ci(re,Y){return us(re=(0,U.m9)(re),Y)}function wo(re,Y){return mo(re,Y)}function ai(re=(0,o.getApp)(),Y){re=(0,U.m9)(re);const $e=(0,o._getProvider)(re,eo).getImmediate({identifier:Y}),ft=(0,U.P0)("storage");return ft&&no($e,...ft),$e}function no(re,Y,ke,$e={}){!function Wr(re,Y,ke,$e={}){re.host=`${Y}:${ke}`,re._protocol="http";const{mockUserToken:ft}=$e;ft&&(re._overrideAuthToken="string"==typeof ft?ft:(0,U.Sg)(ft,re.app.options.projectId))}(re,Y,ke,$e)}function Do(re,{instanceIdentifier:Y}){const ke=re.getProvider("app").getImmediate(),$e=re.getProvider("auth-internal"),ft=re.getProvider("app-check-internal");return new si(ke,$e,ft,Y,o.SDK_VERSION)}!function li(){(0,o._registerComponent)(new Se.wA(eo,Do,"PUBLIC").setMultipleInstances(!0)),(0,o.registerVersion)(ji,"0.12.5",""),(0,o.registerVersion)(ji,"0.12.5","esm2017")}()},9058:(an,ut,k)=>{"use strict";k.d(ut,{BH:()=>Ze,G6:()=>we,L:()=>ve,LL:()=>vt,P0:()=>Fe,Pz:()=>tt,Sg:()=>qe,UG:()=>Ee,ZB:()=>se,ZR:()=>ot,aH:()=>Ne,b$:()=>Dn,eu:()=>Ie,hl:()=>te,jU:()=>Nt,m9:()=>Tr,ne:()=>Ar,pd:()=>Un,r3:()=>mr,ru:()=>Vt,tV:()=>q,uI:()=>bt,vZ:()=>xn,w1:()=>Qe,xO:()=>Yt,xb:()=>Kt,z$:()=>ht,zd:()=>bn});const Se=function(Ge){const ce=[];let Q=0;for(let H=0;H<Ge.length;H++){let B=Ge.charCodeAt(H);B<128?ce[Q++]=B:B<2048?(ce[Q++]=B>>6|192,ce[Q++]=63&B|128):55296==(64512&B)&&H+1<Ge.length&&56320==(64512&Ge.charCodeAt(H+1))?(B=65536+((1023&B)<<10)+(1023&Ge.charCodeAt(++H)),ce[Q++]=B>>18|240,ce[Q++]=B>>12&63|128,ce[Q++]=B>>6&63|128,ce[Q++]=63&B|128):(ce[Q++]=B>>12|224,ce[Q++]=B>>6&63|128,ce[Q++]=63&B|128)}return ce},Ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ge,ce){if(!Array.isArray(Ge))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=ce?this.byteToCharMapWebSafe_:this.byteToCharMap_,H=[];for(let B=0;B<Ge.length;B+=3){const Te=Ge[B],Xe=B+1<Ge.length,kt=Xe?Ge[B+1]:0,$t=B+2<Ge.length,mn=$t?Ge[B+2]:0;let Jn=(15&kt)<<2|mn>>6,Je=63&mn;$t||(Je=64,Xe||(Jn=64)),H.push(Q[Te>>2],Q[(3&Te)<<4|kt>>4],Q[Jn],Q[Je])}return H.join("")},encodeString(Ge,ce){return this.HAS_NATIVE_SUPPORT&&!ce?btoa(Ge):this.encodeByteArray(Se(Ge),ce)},decodeString(Ge,ce){return this.HAS_NATIVE_SUPPORT&&!ce?atob(Ge):function(Ge){const ce=[];let Q=0,H=0;for(;Q<Ge.length;){const B=Ge[Q++];if(B<128)ce[H++]=String.fromCharCode(B);else if(B>191&&B<224){const Te=Ge[Q++];ce[H++]=String.fromCharCode((31&B)<<6|63&Te)}else if(B>239&&B<365){const $t=((7&B)<<18|(63&Ge[Q++])<<12|(63&Ge[Q++])<<6|63&Ge[Q++])-65536;ce[H++]=String.fromCharCode(55296+($t>>10)),ce[H++]=String.fromCharCode(56320+(1023&$t))}else{const Te=Ge[Q++],Xe=Ge[Q++];ce[H++]=String.fromCharCode((15&B)<<12|(63&Te)<<6|63&Xe)}}return ce.join("")}(this.decodeStringToByteArray(Ge,ce))},decodeStringToByteArray(Ge,ce){this.init_();const Q=ce?this.charToByteMapWebSafe_:this.charToByteMap_,H=[];for(let B=0;B<Ge.length;){const Te=Q[Ge.charAt(B++)],kt=B<Ge.length?Q[Ge.charAt(B)]:0;++B;const mn=B<Ge.length?Q[Ge.charAt(B)]:64;++B;const fn=B<Ge.length?Q[Ge.charAt(B)]:64;if(++B,null==Te||null==kt||null==mn||null==fn)throw new de;H.push(Te<<2|kt>>4),64!==mn&&(H.push(kt<<4&240|mn>>2),64!==fn&&H.push(mn<<6&192|fn))}return H},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ge=0;Ge<this.ENCODED_VALS.length;Ge++)this.byteToCharMap_[Ge]=this.ENCODED_VALS.charAt(Ge),this.charToByteMap_[this.byteToCharMap_[Ge]]=Ge,this.byteToCharMapWebSafe_[Ge]=this.ENCODED_VALS_WEBSAFE.charAt(Ge),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ge]]=Ge,Ge>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ge)]=Ge,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ge)]=Ge)}}};class de extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ve=function(Ge){return function(Ge){const ce=Se(Ge);return Ae.encodeByteArray(ce,!0)}(Ge).replace(/\./g,"")},q=function(Ge){try{return Ae.decodeString(Ge,!0)}catch(ce){console.error("base64Decode failed: ",ce)}return null};function se(Ge,ce){if(!(ce instanceof Object))return ce;switch(ce.constructor){case Date:return new Date(ce.getTime());case Object:void 0===Ge&&(Ge={});break;case Array:Ge=[];break;default:return ce}for(const Q in ce)!ce.hasOwnProperty(Q)||!be(Q)||(Ge[Q]=se(Ge[Q],ce[Q]));return Ge}function be(Ge){return"__proto__"!==Ge}const We=()=>{try{return function ye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ge=process.env.__FIREBASE_DEFAULTS__;return Ge?JSON.parse(Ge):void 0})()||(()=>{if(typeof document>"u")return;let Ge;try{Ge=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ce=Ge&&q(Ge[1]);return ce&&JSON.parse(ce)})()}catch(Ge){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ge}`)}},Fe=Ge=>{const ce=(Ge=>{var ce,Q;return null===(Q=null===(ce=We())||void 0===ce?void 0:ce.emulatorHosts)||void 0===Q?void 0:Q[Ge]})(Ge);if(!ce)return;const Q=ce.lastIndexOf(":");if(Q<=0||Q+1===ce.length)throw new Error(`Invalid host ${ce} with no separate hostname and port!`);const H=parseInt(ce.substring(Q+1),10);return"["===ce[0]?[ce.substring(1,Q-1),H]:[ce.substring(0,Q),H]},Ne=()=>{var Ge;return null===(Ge=We())||void 0===Ge?void 0:Ge.config},tt=Ge=>{var ce;return null===(ce=We())||void 0===ce?void 0:ce[`_${Ge}`]};class Ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ce,Q)=>{this.resolve=ce,this.reject=Q})}wrapCallback(ce){return(Q,H)=>{Q?this.reject(Q):this.resolve(H),"function"==typeof ce&&(this.promise.catch(()=>{}),1===ce.length?ce(Q):ce(Q,H))}}}function qe(Ge,ce){if(Ge.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const H=ce||"demo-project",B=Ge.iat||0,Te=Ge.sub||Ge.user_id;if(!Te)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Xe=Object.assign({iss:`https://securetoken.google.com/${H}`,aud:H,iat:B,exp:B+3600,auth_time:B,sub:Te,user_id:Te,firebase:{sign_in_provider:"custom",identities:{}}},Ge);return[ve(JSON.stringify({alg:"none",type:"JWT"})),ve(JSON.stringify(Xe)),""].join(".")}function ht(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function bt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())}function Ee(){var Ge;const ce=null===(Ge=We())||void 0===Ge?void 0:Ge.forceEnvironment;if("node"===ce)return!0;if("browser"===ce)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Nt(){return"object"==typeof self&&self.self===self}function Vt(){const Ge="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ge&&void 0!==Ge.id}function Dn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Qe(){const Ge=ht();return Ge.indexOf("MSIE ")>=0||Ge.indexOf("Trident/")>=0}function we(){return!Ee()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function te(){try{return"object"==typeof indexedDB}catch{return!1}}function Ie(){return new Promise((Ge,ce)=>{try{let Q=!0;const H="validate-browser-context-for-indexeddb-analytics-module",B=self.indexedDB.open(H);B.onsuccess=()=>{B.result.close(),Q||self.indexedDB.deleteDatabase(H),Ge(!0)},B.onupgradeneeded=()=>{Q=!1},B.onerror=()=>{var Te;ce((null===(Te=B.error)||void 0===Te?void 0:Te.message)||"")}}catch(Q){ce(Q)}})}class ot extends Error{constructor(ce,Q,H){super(Q),this.code=ce,this.customData=H,this.name="FirebaseError",Object.setPrototypeOf(this,ot.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vt.prototype.create)}}class vt{constructor(ce,Q,H){this.service=ce,this.serviceName=Q,this.errors=H}create(ce,...Q){const H=Q[0]||{},B=`${this.service}/${ce}`,Te=this.errors[ce],Xe=Te?function Bt(Ge,ce){return Ge.replace(Zt,(Q,H)=>{const B=ce[H];return null!=B?String(B):`<${H}?>`})}(Te,H):"Error";return new ot(B,`${this.serviceName}: ${Xe} (${B}).`,H)}}const Zt=/\{\$([^}]+)}/g;function mr(Ge,ce){return Object.prototype.hasOwnProperty.call(Ge,ce)}function Kt(Ge){for(const ce in Ge)if(Object.prototype.hasOwnProperty.call(Ge,ce))return!1;return!0}function xn(Ge,ce){if(Ge===ce)return!0;const Q=Object.keys(Ge),H=Object.keys(ce);for(const B of Q){if(!H.includes(B))return!1;const Te=Ge[B],Xe=ce[B];if(Pr(Te)&&Pr(Xe)){if(!xn(Te,Xe))return!1}else if(Te!==Xe)return!1}for(const B of H)if(!Q.includes(B))return!1;return!0}function Pr(Ge){return null!==Ge&&"object"==typeof Ge}function Yt(Ge){const ce=[];for(const[Q,H]of Object.entries(Ge))Array.isArray(H)?H.forEach(B=>{ce.push(encodeURIComponent(Q)+"="+encodeURIComponent(B))}):ce.push(encodeURIComponent(Q)+"="+encodeURIComponent(H));return ce.length?"&"+ce.join("&"):""}function bn(Ge){const ce={};return Ge.replace(/^\?/,"").split("&").forEach(H=>{if(H){const[B,Te]=H.split("=");ce[decodeURIComponent(B)]=decodeURIComponent(Te)}}),ce}function Un(Ge){const ce=Ge.indexOf("?");if(!ce)return"";const Q=Ge.indexOf("#",ce);return Ge.substring(ce,Q>0?Q:void 0)}function Ar(Ge,ce){const Q=new Cr(Ge,ce);return Q.subscribe.bind(Q)}class Cr{constructor(ce,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{ce(this)}).catch(H=>{this.error(H)})}next(ce){this.forEachObserver(Q=>{Q.next(ce)})}error(ce){this.forEachObserver(Q=>{Q.error(ce)}),this.close(ce)}complete(){this.forEachObserver(ce=>{ce.complete()}),this.close()}subscribe(ce,Q,H){let B;if(void 0===ce&&void 0===Q&&void 0===H)throw new Error("Missing Observer.");B=function Wn(Ge,ce){if("object"!=typeof Ge||null===Ge)return!1;for(const Q of ce)if(Q in Ge&&"function"==typeof Ge[Q])return!0;return!1}(ce,["next","error","complete"])?ce:{next:ce,error:Q,complete:H},void 0===B.next&&(B.next=Yr),void 0===B.error&&(B.error=Yr),void 0===B.complete&&(B.complete=Yr);const Te=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?B.error(this.finalError):B.complete()}catch{}}),this.observers.push(B),Te}unsubscribeOne(ce){void 0===this.observers||void 0===this.observers[ce]||(delete this.observers[ce],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ce){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,ce)}sendOne(ce,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ce])try{Q(this.observers[ce])}catch(H){typeof console<"u"&&console.error&&console.error(H)}})}close(ce){this.finalized||(this.finalized=!0,void 0!==ce&&(this.finalError=ce),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yr(){}function Tr(Ge){return Ge&&Ge._delegate?Ge._delegate:Ge}},769:(an,ut,k)=>{"use strict";k.d(ut,{y:()=>se});var f=k(5861),o=k(2181),U=k(7398),Se=k(1631),_e=k(6306),Ae=k(2096),de=k(3914),ae=k(5879),ve=k(7104),q=k(9862),z=k(6814);let se=(()=>{class be{constructor(De,Re,Ye,We,_t,Fe){this.firestore=De,this.http=Re,this.route=Ye,this.location=We,this.router=_t,this.activatedRoute=Fe,this.analyticsCollection=this.firestore.collection("analytics"),this.trackPageViews()}getAnalytics(){return this.firestore.collection("analytics",De=>De.orderBy("timestamp","desc")).valueChanges()}trackPageViews(){this.router.events.pipe((0,o.h)(De=>De instanceof de.m2),(0,U.U)(()=>this.activatedRoute),(0,U.U)(De=>{for(;De.firstChild;)De=De.firstChild;return De}),(0,Se.z)(De=>De.queryParams),(0,Se.z)(De=>this.router.events.pipe((0,o.h)(Re=>Re instanceof de.m2),(0,U.U)(Re=>({navigationEvent:Re,queryParams:De}))))).subscribe(({navigationEvent:De,queryParams:Re})=>{this.logAnalyticsData(De.urlAfterRedirects,Re,De.type)})}logAnalyticsData(De,Re,Ye){var We=this;return(0,f.Z)(function*(){const _t=navigator.userAgent,Fe=new Date,Ne=We.getBrowserType(_t),tt=/mobile/i.test(_t),Ze={pagePath:De,queryParams:Re,timestamp:Fe,browser:Ne,isMobile:tt,event_type:Ye};return We.firestore.collection("analytics").add(Ze)})()}getBrowserType(De){return De.includes("Firefox")?"Firefox":De.includes("Chrome")?"Chrome":De.includes("Safari")?"Safari":De.includes("Edge")?"Edge":"Unknown"}getIPAddress(){return this.http.get("https://api.ipify.org/?format=json").pipe((0,_e.K)(De=>(console.error("Error getting IP address: ",De),(0,Ae.of)({ip:"Unknown"}))))}static#e=this.\u0275fac=function(Re){return new(Re||be)(ae.LFG(ve.ST),ae.LFG(q.eN),ae.LFG(de.gz),ae.LFG(z.Ye),ae.LFG(de.F0),ae.LFG(de.gz))};static#t=this.\u0275prov=ae.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})()},4626:(an,ut,k)=>{"use strict";k.d(ut,{e:()=>ae});var f=k(5861),o=k(2459),U=k(6306),Se=k(7398),_e=k(5879),Ae=k(7213),de=k(3914);let ae=(()=>{class ve{constructor(z,se){this.afAuth=z,this.router=se,this.user$=this.afAuth.authState}login(z,se){return this.router.navigate(["/admin"]),(0,o.D)(this.afAuth.signInWithEmailAndPassword(z,se)).pipe((0,U.K)(be=>{throw console.error("Login error: ",be),be}))}logout(){var z=this;return(0,f.Z)(function*(){yield z.afAuth.signOut(),z.router.navigate(["/login"])})()}isLoggedIn(){return this.user$.pipe((0,Se.U)(z=>!!z))}static#e=this.\u0275fac=function(se){return new(se||ve)(_e.LFG(Ae.zQ),_e.LFG(de.F0))};static#t=this.\u0275prov=_e.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})()},5842:(an,ut,k)=>{"use strict";k.d(ut,{I:()=>Ae});var f=k(5861);class o{constructor(){this.message="",this.context="",this.stack="",this.timestamp=new Date,this.id=""}}var U=k(1043),Se=k(5879),_e=k(7104);let Ae=(()=>{class de{constructor(ve){this.firestore=ve,this.err=new o,this.errorLogsCollection=this.firestore.collection("errorLogs")}logError(ve,q){const z={message:ve.message||ve.toString(),stack:ve.stack||"",timestamp:U.EK.now(),context:q||""};return this.firestore.collection("errorLogs").add(Object.assign({},z))}getErrorLogs(){return this.firestore.collection("errorLogs",ve=>ve.orderBy("timestamp","desc").limit(200)).valueChanges()}clearErrorLogs(){var ve=this;return(0,f.Z)(function*(){const q=yield ve.firestore.collection("errorLogs").get().toPromise();if(q&&!q.empty){const z=ve.firestore.firestore.batch();return q.forEach(se=>{z.delete(se.ref)}),z.commit()}console.warn("No error logs to clear.")})()}static#e=this.\u0275fac=function(q){return new(q||de)(Se.LFG(_e.ST))};static#t=this.\u0275prov=Se.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})()},3375:(an,ut,k)=>{"use strict";k.d(ut,{n:()=>de});var f=k(7398),o=k(6306),U=k(8504),Se=k(5879),_e=k(7104),Ae=k(5842);let de=(()=>{class ae{constructor(q,z){this.firestore=q,this.errorLoggingService=z,this.eventsCollection=this.firestore.collection("Events")}getEvents(){return this.firestore.collection("Events",q=>q.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,f.U)(q=>q.map(z=>{const se=z.payload.doc.data();return{id:z.payload.doc.id,...se}})),(0,f.U)(q=>q.filter(z=>z.Approved)),(0,o.K)(q=>(this.errorLoggingService.logError(q,"getEvents"),(0,U._)(()=>new Error(q)))))}getAllEvents(){return this.firestore.collection("Events",q=>q.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,f.U)(q=>q.map(z=>{const se=z.payload.doc.data();return{id:z.payload.doc.id,...se}})),(0,o.K)(q=>(this.errorLoggingService.logError(q,"getAllEvents"),(0,U._)(()=>new Error(q)))))}getEventById(q){return this.eventsCollection.doc(q).valueChanges().pipe((0,o.K)(z=>(this.errorLoggingService.logError(z,`getEventById: ${q}`),(0,U._)(()=>new Error(z)))))}addEvent(q){const z=this.firestore.createId();return q.Date_Created=new Date,q.Date_Updated=new Date,q.ApprovedDate=new Date,q.Approved=!0,this.firestore.collection("Events").doc(z).set(q).catch(se=>{throw this.errorLoggingService.logError(se,"addEvent"),se})}updateEvent(q,z){return z.Date_Updated=new Date,this.eventsCollection.doc(q).update(z).catch(se=>{throw this.errorLoggingService.logError(se,"updateEvent"),se}),this.firestore.doc(`Events/${q}`).valueChanges().pipe((0,f.U)(se=>se?{id:q,...se}:void 0))}deleteEvent(q){return this.eventsCollection.doc(q).delete().catch(z=>{throw this.errorLoggingService.logError(z,"deleteEvent"),z})}static#e=this.\u0275fac=function(z){return new(z||ae)(Se.LFG(_e.ST),Se.LFG(Ae.I))};static#t=this.\u0275prov=Se.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})()},8779:(an,ut,k)=>{"use strict";k.d(ut,{K:()=>q});var f=k(4716),o=k(4664),U=k(6306),Se=k(5592),_e=k(2459),Ae=k(8504),de=k(5879),ae=k(243),ve=k(5842);let q=(()=>{class z{constructor(be,ye){this.storage=be,this.errorLoggingService=ye}uploadImage(be,ye){const De=`${ye}/${be.name}`,Re=this.storage.ref(De),Ye=this.storage.upload(De,be);return new Se.y(We=>{Ye.snapshotChanges().pipe((0,f.x)(()=>{Re.getDownloadURL().subscribe(_t=>{We.next(_t),We.complete()})})).subscribe()})}uploadOfferImage(be,ye){const De=`offers/${ye}/${be.name}`,Re=this.storage.ref(De),Ye=this.storage.upload(De,be);return(0,_e.D)(Ye).pipe((0,o.w)(()=>Re.getDownloadURL()),(0,U.K)(We=>{throw this.errorLoggingService.logError(We,"uploadImage"),We}))}deleteOfferImage(be){return this.storage.refFromURL(be).delete().pipe((0,U.K)(De=>(this.errorLoggingService.logError(De,"deleteImage"),(0,Ae._)(()=>new Error(De)))))}static#e=this.\u0275fac=function(ye){return new(ye||z)(de.LFG(ae.Q1),de.LFG(ve.I))};static#t=this.\u0275prov=de.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})()},8924:(an,ut,k)=>{"use strict";k.d(ut,{b:()=>q});var f=k(7398),o=k(6306),U=k(8504),Se=k(2459),_e=k(4664),Ae=k(5879),de=k(7104),ae=k(5842),ve=k(8779);let q=(()=>{class z{constructor(be,ye,De){this.firestore=be,this.errorLoggingService=ye,this.imageService=De,this.offerCollection=this.firestore.collection("Offers")}generateOfferId(){return this.firestore.createId()}getAllOffers(){return this.firestore.collection("Offers",be=>be.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,f.U)(be=>be.map(ye=>{const De=ye.payload.doc.data();return{id:ye.payload.doc.id,...De}}))).pipe((0,o.K)(be=>(this.errorLoggingService.logError(be,"getAllOffers"),(0,U._)(()=>new Error(be)))))}getOffers(){return this.firestore.collection("Offers",be=>be.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,f.U)(be=>be.map(ye=>{const De=ye.payload.doc.data();return{id:ye.payload.doc.id,...De}}))).pipe((0,f.U)(be=>be.filter(ye=>1==ye.Approved))).pipe((0,f.U)(be=>be.filter(ye=>1==ye.Approved))).pipe((0,o.K)(be=>(this.errorLoggingService.logError(be,"getApprovedOffers"),(0,U._)(()=>new Error(be)))))}getOfferById(be){return this.firestore.collection("Offers").doc(be).valueChanges().pipe((0,f.U)(ye=>{if(!ye)throw new Error(`Offer with ID ${be} not found`);return{id:be,...ye}}),(0,o.K)(ye=>(this.errorLoggingService.logError(ye,"getOfferById: "+be),(0,U._)(()=>new Error(ye)))))}getAllOfferTypes(){return this.firestore.collection("OfferTypes").valueChanges().pipe((0,f.U)(be=>{const ye=be.map(De=>De.OfferType);return Array.from(new Set(ye))})).pipe((0,o.K)(be=>(this.errorLoggingService.logError(be,"getOfferTypes"),(0,U._)(()=>new Error(be)))))}addOffer(be){console.log(be);const ye=this.firestore.createId();return be.id=ye,be.Date_Created=(new Date).toISOString(),be.Date_Updated=(new Date).toISOString(),this.offerCollection.doc(ye).set(Object.assign({},be)).catch(De=>{throw this.errorLoggingService.logError(De,"addOffer"),De}),this.firestore.doc(`Offers/${ye}`).valueChanges().pipe((0,f.U)(De=>De?{id:ye,...De}:void 0))}addOfferWithId(be,ye){return be.id=ye,be.Date_Created=(new Date).toISOString(),be.Date_Updated=(new Date).toISOString(),(0,Se.D)(this.offerCollection.doc(ye).set(Object.assign({},be))).pipe((0,_e.w)(()=>this.firestore.doc(`Offers/${ye}`).valueChanges().pipe((0,f.U)(De=>{if(!De)throw new Error(`Offer with ID ${ye} not found`);return{...De,id:ye}}),(0,o.K)(De=>(this.errorLoggingService.logError(De,"addOffer"),(0,U._)(()=>new Error(De)))))))}updateOffer(be,ye){return console.log("Update Offer: "+be),ye.Date_Updated=(new Date).toISOString(),this.offerCollection.doc(be).update(ye).catch(De=>{throw this.errorLoggingService.logError(De,"updateOffer"),De}),this.firestore.doc(`Offers/${be}`).valueChanges().pipe((0,f.U)(De=>De?{id:be,...De}:void 0))}deleteOffer(be){return this.offerCollection.doc(be).delete().catch(ye=>{throw this.errorLoggingService.logError(ye,"deleteOffer"),ye})}static#e=this.\u0275fac=function(ye){return new(ye||z)(Ae.LFG(de.ST),Ae.LFG(ae.I),Ae.LFG(ve.K))};static#t=this.\u0275prov=Ae.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})()},614:(an,ut,k)=>{"use strict";k.d(ut,{r:()=>de});var f=k(7398),o=k(6306),U=k(8504),Se=k(5879),_e=k(7104),Ae=k(5842);let de=(()=>{class ae{constructor(q,z){this.firestore=q,this.errorLoggingService=z,this.servicesCollection=this.firestore.collection("Services")}getServices(){return this.firestore.collection("Services",q=>q.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,f.U)(q=>q.map(z=>{const se=z.payload.doc.data();return{id:z.payload.doc.id,...se}}))).pipe((0,f.U)(q=>q.filter(z=>1==z.Approved))).pipe((0,o.K)(q=>(this.errorLoggingService.logError(q,"getApprovedServices"),(0,U._)(()=>new Error(q)))))}getAllServices(){return this.firestore.collection("Services",q=>q.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,f.U)(q=>q.map(z=>{const se=z.payload.doc.data();return{id:z.payload.doc.id,...se}}))).pipe((0,o.K)(q=>(this.errorLoggingService.logError(q,"getAllServices"),(0,U._)(()=>new Error(q)))))}getServiceById(q){return this.servicesCollection.doc(q).valueChanges().pipe((0,o.K)(z=>(this.errorLoggingService.logError(z,"getGetServiceById: "+q),(0,U._)(()=>new Error(z)))))}getServicesByType(q){return this.firestore.collection("Services",z=>z.where("Service_Type","==",q).orderBy("Community_Sponsor","desc")).valueChanges().pipe((0,o.K)(z=>(this.errorLoggingService.logError(z,"getServiceByServiceType: "+q),(0,U._)(()=>new Error(z)))))}getAllServiceTypes(){return this.firestore.collection("ListOfServices").valueChanges().pipe((0,f.U)(q=>{const z=q.map(se=>se.Name);return Array.from(new Set(z))})).pipe((0,o.K)(q=>(this.errorLoggingService.logError(q,"getServiceTypes"),(0,U._)(()=>new Error(q)))))}addService(q){const z=this.firestore.createId();return q.id=z,q.Date_Created=(new Date).toISOString(),q.Date_Updated=(new Date).toISOString(),this.servicesCollection.doc(z).set(Object.assign({},q)).catch(se=>{throw this.errorLoggingService.logError(se,"addService"),se}),this.firestore.doc(`Services/${z}`).valueChanges().pipe((0,f.U)(se=>se?{id:z,...se}:void 0))}updateService(q,z){return z.Date_Updated=(new Date).toISOString(),this.servicesCollection.doc(q).update(Object.assign({},z)).catch(se=>{throw this.errorLoggingService.logError(se,"updateService"),se}),this.firestore.doc(`Services/${q}`).valueChanges().pipe((0,f.U)(se=>se?{id:q,...se}:void 0))}deleteService(q){return this.servicesCollection.doc(q).delete().catch(z=>{throw this.errorLoggingService.logError(z,"deleteService"),z})}static#e=this.\u0275fac=function(z){return new(z||ae)(Se.LFG(_e.ST),Se.LFG(Ae.I))};static#t=this.\u0275prov=Se.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})()},2380:(an,ut,k)=>{"use strict";k.d(ut,{d:()=>_e});var f=k(5879),o=k(769),U=k(6814);function Se(Ae,de){if(1&Ae&&(f.TgZ(0,"tr")(1,"td"),f._uU(2),f.ALo(3,"date"),f.qZA(),f.TgZ(4,"td"),f._uU(5),f.qZA(),f.TgZ(6,"td"),f._uU(7),f.qZA(),f.TgZ(8,"td"),f._uU(9),f.ALo(10,"json"),f.qZA(),f.TgZ(11,"td"),f._uU(12),f.qZA(),f.TgZ(13,"td"),f._uU(14),f.qZA(),f.TgZ(15,"td"),f._uU(16),f.qZA()()),2&Ae){const ae=de.$implicit;f.xp6(2),f.Oqu(f.xi3(3,7,null==ae.timestamp?null:ae.timestamp.toDate(),"short")),f.xp6(3),f.Oqu(ae.eventType),f.xp6(2),f.Oqu(ae.pagePath),f.xp6(2),f.Oqu(f.lcZ(10,10,ae.queryParams)),f.xp6(3),f.Oqu(ae.browser),f.xp6(2),f.Oqu(ae.isMobile?"Mobile":"Desktop"),f.xp6(2),f.Oqu(ae.ipAddress)}}let _e=(()=>{class Ae{constructor(ae){this.analyticsService=ae}ngOnInit(){this.analyticsService.getAnalytics().subscribe(ae=>{this.analyticsLogs=ae},ae=>{console.error("Error fetching analytics:",ae)})}static#e=this.\u0275fac=function(ve){return new(ve||Ae)(f.Y36(o.y))};static#t=this.\u0275cmp=f.Xpm({type:Ae,selectors:[["app-analytics"]],decls:22,vars:1,consts:[[1,"analytics-container"],[4,"ngFor","ngForOf"]],template:function(ve,q){1&ve&&(f.TgZ(0,"div",0)(1,"h2"),f._uU(2,"Analytics Logs"),f.qZA(),f.TgZ(3,"table")(4,"thead")(5,"tr")(6,"th"),f._uU(7,"Timestamp"),f.qZA(),f.TgZ(8,"th"),f._uU(9,"Event Type"),f.qZA(),f.TgZ(10,"th"),f._uU(11,"Page Path"),f.qZA(),f.TgZ(12,"th"),f._uU(13,"Query Params"),f.qZA(),f.TgZ(14,"th"),f._uU(15,"Browser"),f.qZA(),f.TgZ(16,"th"),f._uU(17,"Device"),f.qZA(),f.TgZ(18,"th"),f._uU(19,"IP Address"),f.qZA()()(),f.TgZ(20,"tbody"),f.YNc(21,Se,17,12,"tr",1),f.qZA()()()),2&ve&&(f.xp6(21),f.Q6J("ngForOf",q.analyticsLogs))},dependencies:[U.sg,U.Ts,U.uU],styles:[".analytics-container[_ngcontent-%COMP%]{padding:20px;margin:auto}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;text-align:left}th[_ngcontent-%COMP%]{background-color:#f2f2f2}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}"]})}return Ae})()},5375:(an,ut,k)=>{"use strict";var f=k(6593),o=k(5879),U=k(6814);let Se;try{Se=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Se=!1}let q,_e=(()=>{class v{constructor(l){this._platformId=l,this.isBrowser=this._platformId?(0,U.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Se)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(m){return new(m||v)(o.LFG(o.Lbi))};static#t=this.\u0275prov=o.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function se(v){return function z(){if(null==q&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>q=!0}))}finally{q=q||!1}return q}()?v:!!v.capture}function ji(v){return Array.isArray(v)?v:[v]}var As=k(8645),_o=k(2572),Uo=k(5211),$r=k(5592),_n=k(8180),Xn=k(2181),Ri=k(3620),Hi=k(7398),ci=k(7921),wo=k(9773);const no=new Set;let vo,nr=(()=>{class v{constructor(l,m){this._platform=l,this._nonce=m,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):li}matchMedia(l){return(this._platform.WEBKIT||this._platform.BLINK)&&function Do(v,h){if(!no.has(v))try{vo||(vo=document.createElement("style"),h&&(vo.nonce=h),vo.setAttribute("type","text/css"),document.head.appendChild(vo)),vo.sheet&&(vo.sheet.insertRule(`@media ${v} {body{ }}`,0),no.add(v))}catch(l){console.error(l)}}(l,this._nonce),this._matchMedia(l)}static#e=this.\u0275fac=function(m){return new(m||v)(o.LFG(_e),o.LFG(o.Ojb,8))};static#t=this.\u0275prov=o.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function li(v){return{matches:"all"===v||""===v,media:v,addListener:()=>{},removeListener:()=>{}}}let re=(()=>{class v{constructor(l,m){this._mediaMatcher=l,this._zone=m,this._queries=new Map,this._destroySubject=new As.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(l){return Y(ji(l)).some(C=>this._registerQuery(C).mql.matches)}observe(l){const C=Y(ji(l)).map(fe=>this._registerQuery(fe).observable);let $=(0,_o.a)(C);return $=(0,Uo.z)($.pipe((0,_n.q)(1)),$.pipe(function Rr(v){return(0,Xn.h)((h,l)=>v<=l)}(1),(0,Ri.b)(0))),$.pipe((0,Hi.U)(fe=>{const Oe={matches:!1,breakpoints:{}};return fe.forEach(({matches:at,query:Tt})=>{Oe.matches=Oe.matches||at,Oe.breakpoints[Tt]=at}),Oe}))}_registerQuery(l){if(this._queries.has(l))return this._queries.get(l);const m=this._mediaMatcher.matchMedia(l),$={observable:new $r.y(fe=>{const Oe=at=>this._zone.run(()=>fe.next(at));return m.addListener(Oe),()=>{m.removeListener(Oe)}}).pipe((0,ci.O)(m),(0,Hi.U)(({matches:fe})=>({query:l,matches:fe})),(0,wo.R)(this._destroySubject)),mql:m};return this._queries.set(l,$),$}static#e=this.\u0275fac=function(m){return new(m||v)(o.LFG(nr),o.LFG(o.R0b))};static#t=this.\u0275prov=o.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function Y(v){return v.map(h=>h.split(",")).reduce((h,l)=>h.concat(l)).map(h=>h.trim())}const zi="cdk-high-contrast-black-on-white",vc="cdk-high-contrast-white-on-black",xo="cdk-high-contrast-active";let hs=(()=>{class v{constructor(l,m){this._platform=l,this._document=m,this._breakpointSubscription=(0,o.f3M)(re).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const l=this._document.createElement("div");l.style.backgroundColor="rgb(1,2,3)",l.style.position="absolute",this._document.body.appendChild(l);const m=this._document.defaultView||window,C=m&&m.getComputedStyle?m.getComputedStyle(l):null,$=(C&&C.backgroundColor||"").replace(/ /g,"");switch(l.remove(),$){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const l=this._document.body.classList;l.remove(xo,zi,vc),this._hasCheckedHighContrastMode=!0;const m=this.getHighContrastMode();1===m?l.add(xo,zi):2===m&&l.add(xo,vc)}}static#e=this.\u0275fac=function(m){return new(m||v)(o.LFG(_e),o.LFG(U.K0))};static#t=this.\u0275prov=o.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})(),ca=(()=>{class v{static#e=this.\u0275fac=function(m){return new(m||v)};static#t=this.\u0275mod=o.oAB({type:v});static#n=this.\u0275inj=o.cJS({})}return v})();const ua=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function Gl(){return!0}});let Ts=(()=>{class v{constructor(l,m,C){this._sanityChecks=m,this._document=C,this._hasDoneGlobalChecks=!1,l._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(l){return!function tt(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[l])}static#e=this.\u0275fac=function(m){return new(m||v)(o.LFG(hs),o.LFG(ua,8),o.LFG(U.K0))};static#t=this.\u0275mod=o.oAB({type:v});static#n=this.\u0275inj=o.cJS({imports:[ca,ca]})}return v})(),Bo=(()=>{class v{static#e=this.\u0275fac=function(m){return new(m||v)};static#t=this.\u0275mod=o.oAB({type:v});static#n=this.\u0275inj=o.cJS({imports:[Ts,Ts]})}return v})();const Ic=se({passive:!0,capture:!0});class js{constructor(){this._events=new Map,this._delegateEventHandler=h=>{const l=function Ne(v){return v.composedPath?v.composedPath()[0]:v.target}(h);l&&this._events.get(h.type)?.forEach((m,C)=>{(C===l||C.contains(l))&&m.forEach($=>$.handleEvent(h))})}}addHandler(h,l,m,C){const $=this._events.get(l);if($){const fe=$.get(m);fe?fe.add(C):$.set(m,new Set([C]))}else this._events.set(l,new Map([[m,new Set([C])]])),h.runOutsideAngular(()=>{document.addEventListener(l,this._delegateEventHandler,Ic)})}removeHandler(h,l,m){const C=this._events.get(h);if(!C)return;const $=C.get(l);$&&($.delete(m),0===$.size&&C.delete(l),0===C.size&&(this._events.delete(h),document.removeEventListener(h,this._delegateEventHandler,Ic)))}}class qa{static#e=this._eventManager=new js;constructor(h,l,m,C){this._target=h,this._ngZone=l,this._platform=C,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,C.isBrowser&&(this._containerElement=eo(m))}fadeInRipple(h,l,m={}){const C=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),$={...Ro,...m.animation},fe=m.radius||function Cc(v,h,l){const m=Math.max(Math.abs(v-l.left),Math.abs(v-l.right)),C=Math.max(Math.abs(h-l.top),Math.abs(h-l.bottom));return Math.sqrt(m*m+C*C)}(h,l,C),Oe=h-C.left,at=l-C.top,Tt=$.enterDuration,sn=document.createElement("div");sn.classList.add("mat-ripple-element"),sn.style.left=Oe-fe+"px",sn.style.top=at-fe+"px",sn.style.height=2*fe+"px",sn.style.width=2*fe+"px",null!=m.color&&(sn.style.backgroundColor=m.color),sn.style.transitionDuration=`${Tt}ms`,this._containerElement.appendChild(sn);const vn=window.getComputedStyle(sn),gr=vn.transitionDuration,tr="none"===vn.transitionProperty||"0s"===gr||"0s, 0s"===gr||0===C.width&&0===C.height,lr=new yi(this,sn,m,tr);sn.style.transform="scale3d(1, 1, 1)",lr.state=0,m.persistent||(this._mostRecentTransientRipple=lr);return!tr&&(Tt||$.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ho=()=>this._finishRippleTransition(lr),$i=()=>this._destroyRipple(lr);sn.addEventListener("transitionend",ho),sn.addEventListener("transitioncancel",$i)}),this._activeRipples.set(lr,null),(tr||!Tt)&&this._finishRippleTransition(lr),lr}fadeOutRipple(h){if(2===h.state||3===h.state)return;const l=h.element,m={...Ro,...h.config.animation};l.style.transitionDuration=`${m.exitDuration}ms`,l.style.opacity="0",h.state=2,(h._animationForciblyDisabledThroughCss||!m.exitDuration)&&this._finishRippleTransition(h)}fadeOutAll(){this._getActiveRipples().forEach(h=>h.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(h=>{h.config.persistent||h.fadeOut()})}setupTriggerEvents(h){const l=eo(h);!this._platform.isBrowser||!l||l===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=l,Hs.forEach(m=>{qa._eventManager.addHandler(this._ngZone,m,l,this)}))}handleEvent(h){"mousedown"===h.type?this._onMousedown(h):"touchstart"===h.type?this._onTouchStart(h):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Oo.forEach(l=>{this._triggerElement.addEventListener(l,this,bc)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(h){0===h.state?this._startFadeOutTransition(h):2===h.state&&this._destroyRipple(h)}_startFadeOutTransition(h){const l=h===this._mostRecentTransientRipple,{persistent:m}=h.config;h.state=1,!m&&(!l||!this._isPointerDown)&&h.fadeOut()}_destroyRipple(h){const l=this._activeRipples.get(h)??null;this._activeRipples.delete(h),this._activeRipples.size||(this._containerRect=null),h===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),h.state=3,null!==l&&(h.element.removeEventListener("transitionend",l.onTransitionEnd),h.element.removeEventListener("transitioncancel",l.onTransitionCancel)),h.element.remove()}_onMousedown(h){const l=function co(v){return 0===v.buttons||0===v.detail}(h),m=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!l&&!m&&(this._isPointerDown=!0,this.fadeInRipple(h.clientX,h.clientY,this._target.rippleConfig))}_onTouchStart(h){if(!this._target.rippleDisabled&&!function vi(v){const h=v.touches&&v.touches[0]||v.changedTouches&&v.changedTouches[0];return!(!h||-1!==h.identifier||null!=h.radiusX&&1!==h.radiusX||null!=h.radiusY&&1!==h.radiusY)}(h)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const l=h.changedTouches;if(l)for(let m=0;m<l.length;m++)this.fadeInRipple(l[m].clientX,l[m].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(h=>{!h.config.persistent&&(1===h.state||h.config.terminateOnPointerUp&&0===h.state)&&h.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const h=this._triggerElement;h&&(Hs.forEach(l=>qa._eventManager.removeHandler(l,h,this)),this._pointerUpEventsRegistered&&Oo.forEach(l=>h.removeEventListener(l,this,bc)))}}let Mt=(()=>{class v{static#e=this.\u0275fac=function(m){return new(m||v)};static#t=this.\u0275mod=o.oAB({type:v});static#n=this.\u0275inj=o.cJS({imports:[Ts,U.ez,Ts]})}return v})();k(2096),k(8504),k(9315),k(9397),k(6306),k(4716),k(3020);var ha=k(9862);let Ql=(()=>{class v{static#e=this.\u0275fac=function(m){return new(m||v)};static#t=this.\u0275mod=o.oAB({type:v});static#n=this.\u0275inj=o.cJS({imports:[Ts,Ts]})}return v})(),Oa=(()=>{class v{static#e=this.\u0275fac=function(m){return new(m||v)};static#t=this.\u0275mod=o.oAB({type:v});static#n=this.\u0275inj=o.cJS({imports:[Bo,Ts,Bo,Ts]})}return v})();var Nr=k(3914),pl=k(3375),fs=k(8924);let Hu=(()=>{class v{constructor(l){this.router=l,this.defaultImage="https://storage.cloud.google.com/romaniinseattle.appspot.com/events/defaultImage.jpg"}ngOnInit(){this.event.Poster_Image||(this.event.Poster_Image=this.defaultImage)}navigateToDetails(){console.log("Navigating to details:",this.event.id),this.router.navigate(["/events",this.event.id])}static#e=this.\u0275fac=function(m){return new(m||v)(o.Y36(Nr.F0))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-event-card-home"]],inputs:{event:"event"},decls:11,vars:8,consts:[[1,"small-card"],[1,"image-container"],[1,"event-image",3,"src","alt"],[1,"content-container"],[1,"event-name"],[1,"event-date"],[3,"click"]],template:function(m,C){1&m&&(o.TgZ(0,"div",0)(1,"div",1),o._UZ(2,"img",2),o.qZA(),o.TgZ(3,"div",3)(4,"h2",4),o._uU(5),o.qZA(),o.TgZ(6,"p",5),o._uU(7),o.ALo(8,"date"),o.qZA(),o.TgZ(9,"button",6),o.NdJ("click",function(){return C.navigateToDetails()}),o._uU(10,"Detalii"),o.qZA()()()),2&m&&(o.xp6(2),o.s9C("alt",C.event.Event_Name),o.Q6J("src",C.event.Poster_Image,o.LSH),o.xp6(3),o.Oqu(C.event.Event_Name),o.xp6(2),o.AsE("",o.xi3(8,5,C.event.Event_Date,"MM/dd/yyyy")," | ",C.event.Event_Time,""))},dependencies:[U.uU],styles:[".small-card[_ngcontent-%COMP%]{display:flex;width:400px;height:200px;border-radius:12px;overflow:hidden;box-shadow:0 4px 8px #0000001a}.image-container[_ngcontent-%COMP%]{width:40%;position:relative;overflow:hidden}.event-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.content-container[_ngcontent-%COMP%]{flex:1;padding:16px;background-color:#fff;display:flex;flex-direction:column;justify-content:center}.event-name[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:8px}.event-date[_ngcontent-%COMP%]{color:#666;margin-bottom:16px}"]})}return v})();function Na(v,h){if(1&v&&(o.TgZ(0,"div",9),o._UZ(1,"img",10),o.qZA()),2&v){const l=h.$implicit;o.xp6(1),o.Q6J("src",l,o.LSH)}}let Zd=(()=>{class v{constructor(l){this.router=l,this.currentImageIndex=0,this.images=[],this.defaultImage="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/defaultImage.jpg",this.svgInstagramIcon="../../../assets/images/SVG/instagram-icon.svg"}ngOnInit(){console.log(this.offer),this.images=this.offer?.Images?.length?this.offer.Images:[this.defaultImage],this.startImageCarousel()}startImageCarousel(){setInterval(()=>{this.currentImageIndex=(this.currentImageIndex+1)%this.images.length},15e3)}nextImage(){this.currentImageIndex=(this.currentImageIndex+1)%this.images.length}prevImage(){this.currentImageIndex=(this.currentImageIndex-1+this.images.length)%this.images.length}navigateToDetails(){console.log("Navigating to details:",this.offer.id),this.router.navigate(["/offers",this.offer.id])}openLink(l){window.open(l,"_blank")}sendEmail(l){window.location.href=`mailto:${l}`}static#e=this.\u0275fac=function(m){return new(m||v)(o.Y36(Nr.F0))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-offer-card-home"]],inputs:{offer:"offer"},decls:13,vars:9,consts:[[1,"offer-card"],[1,"content-container"],[1,"offer-header"],["alt","Offer Image",1,"offer-thumbnail",3,"src"],[1,"offer-title"],[1,"offer-carousel"],["class","carousel-item",4,"ngFor","ngForOf"],[1,"btn",3,"click"],[1,"offer-footer"],[1,"carousel-item"],["alt","Offer Image Thumbnail",3,"src"]],template:function(m,C){1&m&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2),o._UZ(3,"img",3),o.TgZ(4,"div",4),o._uU(5),o.qZA()(),o.TgZ(6,"div",5),o.YNc(7,Na,2,1,"div",6),o.ALo(8,"slice"),o.qZA(),o.TgZ(9,"button",7),o.NdJ("click",function(){return C.navigateToDetails()}),o._uU(10,"Detalii"),o.qZA(),o.TgZ(11,"div",8),o._uU(12),o.qZA()()()),2&m&&(o.xp6(3),o.Q6J("src",C.offer.Images[0],o.LSH),o.xp6(2),o.Oqu(C.offer.Title),o.xp6(2),o.Q6J("ngForOf",o.Dn7(8,5,C.offer.Images,1,6)),o.xp6(5),o.AsE(" ",C.offer.OfferType," | ",C.offer.Location," "))},dependencies:[U.sg,U.OU],styles:[".offer-card[_ngcontent-%COMP%]{width:300px;border-radius:12px;box-shadow:0 4px 8px #0000001a;background-color:#fff;overflow:hidden;font-family:Arial,sans-serif}.offer-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px}.offer-thumbnail[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;object-fit:cover;margin-right:16px}.offer-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;text-align:left}.offer-contact[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.offer-carousel[_ngcontent-%COMP%]{display:flex;padding:8px 16px}.carousel-item[_ngcontent-%COMP%]{width:90px;height:90px;margin-right:8px;border-radius:8px;overflow:hidden}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.offer-footer[_ngcontent-%COMP%]{padding:8px 16px;font-size:.8rem;color:#666;text-align:center}.btn[_ngcontent-%COMP%]{width:90%}"]})}return v})();function qd(v,h){1&v&&o._UZ(0,"app-offer-card-home",28),2&v&&o.Q6J("offer",h.$implicit)}function Yl(v,h){1&v&&o._UZ(0,"app-event-card-home",29),2&v&&o.Q6J("event",h.$implicit)}function Mc(v,h){if(1&v&&(o.TgZ(0,"li",30)(1,"a",31),o._uU(2),o.qZA()()),2&v){const l=h.$implicit;o.xp6(1),o.s9C("href",l.url,o.LSH),o.xp6(1),o.Oqu(l.name)}}let zu=(()=>{class v{constructor(l,m,C){this.eventService=l,this.offersService=m,this.router=C,this.resourceLinks=[{name:"Ambasada Romaniei in SUA",url:"https://washington.mae.ro/"},{name:"Ambasada SUA in Romania",url:"https://ro.usembassy.gov/"},{name:"American Romanian Cultural Society",url:"www.arcsproject.org"},{name:"Biserica Sfintii Trei Ierarhi",url:"http://www.ortodox.org/"},{name:"Romanian United Foundation",url:"https://www.romanianunitedfund.org/"}],this.events=[],this.offers=[]}ngOnInit(){this.eventService.getEvents().subscribe(l=>{this.events=l}),this.offersService.getOffers().subscribe(l=>{this.offers=l})}navigateToAddEvent(){this.router.navigate(["/add-event"])}static#e=this.\u0275fac=function(m){return new(m||v)(o.Y36(pl.n),o.Y36(fs.b),o.Y36(Nr.F0))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-home"]],decls:100,vars:3,consts:[[1,"container"],[1,"hero"],[1,"container","hero-content"],[1,"hero-text"],["href","https://www.facebook.com/groups/RomaniinSeattle"],["href","https://www.facebook.com/groups/RomaniinSeattle",1,"btn"],[1,"hero-image"],["src","../../../assets/images/Seattle-Romania.png","alt","Seattle"],[1,"community-description"],[1,"community-descriptions"],[1,"description-card"],["href","/services/"],["href","/offers"],["href","/events"],[1,"sharedContent-Section"],[1,"offer-list"],[3,"offer",4,"ngFor","ngForOf"],[1,"services-container"],[3,"event",4,"ngFor","ngForOf"],[1,"resource-consulate"],["target","_blank","href","http://newyork.mae.ro/"],["target","_blank","href","http://chicago.mae.ro/"],["target","_blank","href","http://losangeles.mae.ro/"],["target","_blank","href","http://miami.mae.ro/"],[1,"resources-section"],[1,"section-header"],[1,"resource-list"],["class","resource-item",4,"ngFor","ngForOf"],[3,"offer"],[3,"event"],[1,"resource-item"],["target","_blank",3,"href"]],template:function(m,C){1&m&&(o.TgZ(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"h1"),o._uU(5,"Bine ati venit in comunitatea "),o.TgZ(6,"a",4),o._uU(7,"Romani in Seattle"),o.qZA()(),o.TgZ(8,"p"),o._uU(9,"Servictii, oferte si evenimente pentru persoanele care locuiesc in zona Seattle."),o.qZA(),o.TgZ(10,"a",5),o._uU(11,"Join our Facebook Group"),o.qZA()(),o.TgZ(12,"div",6),o._UZ(13,"img",7),o.qZA()()(),o.TgZ(14,"section",8)(15,"div",0)(16,"h2"),o._uU(17,"Despre communitatea noastra"),o.qZA(),o.TgZ(18,"p"),o._uU(19,'Scopul al acestui website este de a beneficia Romani \xeen Seattle, prin schimbul de informa\u021bii utile si in acela\u0219i timp promov\xe2nd Companiile Romane\u0219ti din zona Seattle la \xa0Comunitatea Romaneasca de aici. Acesta a \xeenceput pe facebook prin grupul "Romani \xeen Seattle\u201d care acum con\u021bine peste 3700 de membri.'),o.qZA()()(),o.TgZ(20,"div",9)(21,"div",10)(22,"a",11)(23,"h2"),o._uU(24,"Servicii"),o.qZA()(),o.TgZ(25,"p"),o._uU(26,"Sprijini\u021bi-ne afacerile locale \u0219i descoperi\u021bi produse \u0219i servicii unice oferite de membrii comunit\u0103\u021bii."),o.qZA()(),o.TgZ(27,"div",10)(28,"a",12)(29,"h2"),o._uU(30,"Oportunit\u0103\u021bi si Oferte"),o.qZA()(),o.TgZ(31,"p"),o._uU(32,"Implica\u021bi-v\u0103 \u0219i face\u021bi o diferen\u021b\u0103 prin voluntariat pentru diverse proiecte \u0219i ini\u021biative comunitare."),o.qZA()(),o.TgZ(33,"div",10)(34,"a",13)(35,"h2"),o._uU(36,"Evenimente"),o.qZA()(),o.TgZ(37,"p"),o._uU(38,"Al\u0103tura\u021bi-v\u0103 nou\u0103 pentru o varietate de evenimente care reunesc comunitatea. De la festivaluri la ateliere, exist\u0103 ceva pentru toat\u0103 lumea."),o.qZA()(),o.TgZ(39,"div",10)(40,"h2"),o._uU(41,"Resurse"),o.qZA(),o.TgZ(42,"p"),o._uU(43,"Accesa\u021bi resurse \u0219i servicii valoroase oferite de comunitate at\xe2t pentru reziden\u021bi, c\xe2t \u0219i pentru vizitatori."),o.qZA()()(),o.TgZ(44,"div",14)(45,"h1"),o._uU(46,"Oportunit\u0103\u021bi si Oferte"),o.qZA(),o.TgZ(47,"div",15),o.YNc(48,qd,1,1,"app-offer-card-home",16),o.qZA(),o.TgZ(49,"div",14)(50,"h1"),o._uU(51,"Evenimente"),o.qZA(),o.TgZ(52,"div",17),o.YNc(53,Yl,1,1,"app-event-card-home",18),o.qZA()()(),o.TgZ(54,"div",14)(55,"h1"),o._uU(56,"Resurse"),o.qZA(),o.TgZ(57,"section",19)(58,"div",9)(59,"div",10)(60,"h2"),o._uU(61,"Consulatul Rom\xe2niei la New York"),o.qZA(),o.TgZ(62,"h3"),o._uU(63,"CONSUL GENERAL: doamna Mihaela-Simona FLOREA"),o.qZA(),o.TgZ(64,"p"),o._uU(65,"Adres\u0103: 200 East 38th Street, New York, NY 10016"),o.qZA(),o.TgZ(66,"a",20),o._uU(67,"http://newyork.mae.ro/"),o.qZA()(),o.TgZ(68,"div",10)(69,"h2"),o._uU(70,"Consulatul Rom\xe2niei la Chicago"),o.qZA(),o.TgZ(71,"h3"),o._uU(72,"CONSUL GENERAL: "),o.qZA(),o.TgZ(73,"p"),o._uU(74,"Adres\u0103: 737 North Michigan Avenue, Suite 2300, Chicago, IL 60611"),o.qZA(),o.TgZ(75,"a",21),o._uU(76,"http://chicago.mae.ro/"),o.qZA()(),o.TgZ(77,"div",10)(78,"h2"),o._uU(79,"Consulatul Rom\xe2niei la Los Angeles"),o.qZA(),o.TgZ(80,"h3"),o._uU(81,"CONSUL GENERAL: doamna Lucia SAVA"),o.qZA(),o.TgZ(82,"p"),o._uU(83,"Adres\u0103: 11766 Wilshire Blvd. Suite 200, Los Angeles CA 90025"),o.qZA(),o.TgZ(84,"a",22),o._uU(85,"http://losangeles.mae.ro/"),o.qZA()(),o.TgZ(86,"div",10)(87,"h2"),o._uU(88,"Consulatul Rom\xe2niei la Miami"),o.qZA(),o.TgZ(89,"h3"),o._uU(90,"CONSUL GENERAL: doamna Elena-GabrielA EREMIA"),o.qZA(),o.TgZ(91,"p"),o._uU(92,"Adres\u0103: 1101 Brickell Ave, suite N 600, Miami, FL 33131"),o.qZA(),o.TgZ(93,"a",23),o._uU(94,"http://miami.mae.ro/"),o.qZA()()()()(),o.TgZ(95,"section",24)(96,"h2",25),o._uU(97,"Resurse utile pentru comunitate"),o.qZA(),o.TgZ(98,"ul",26),o.YNc(99,Mc,3,2,"li",27),o.qZA()()()),2&m&&(o.xp6(48),o.Q6J("ngForOf",C.offers),o.xp6(5),o.Q6J("ngForOf",C.events),o.xp6(46),o.Q6J("ngForOf",C.resourceLinks))},dependencies:[U.sg,Hu,Zd],styles:[".container[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px;margin-bottom:20px}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px;color:var(--button-color)}.hero[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;background-color:#f5f5f5;padding:6rem 0 0rem}.hero-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.hero-text[_ngcontent-%COMP%]{flex:1;padding:0 2rem}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1.5rem}.btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;padding:.75rem 1.5rem;text-decoration:none;border-radius:5px;font-size:1rem}.hero-image[_ngcontent-%COMP%]{flex:1}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.community-description[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;padding:2rem 0;text-align:center}.community-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.community-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin:0 auto;max-width:800px;color:#f5f5f5}@media (max-width: 768px){.hero[_ngcontent-%COMP%]{flex-direction:column}.hero-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.hero-text[_ngcontent-%COMP%]{margin-bottom:2rem}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}}.community-descriptions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;padding:40px 20px}.description-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:20px;padding:20px;width:300px;text-align:center}.description-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--button-color);margin-bottom:10px}.description-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:var(--button-color)}.description-card-group[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:20px;padding:20px;width:100%;text-align:center}.resource-list[_ngcontent-%COMP%]{list-style-type:none;padding:0}.resource-item[_ngcontent-%COMP%]{margin:10px 0}.resource-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--button-color);font-size:18px;transition:color .3s ease}.resource-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0056b3}a[_ngcontent-%COMP%]{color:inherit}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.service-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:10px;padding:40px;width:calc(25% - 32px);box-sizing:border-box;position:relative;min-width:400px}.card-header[_ngcontent-%COMP%]{text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333}.card-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-top:4px}.card-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:gold}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}.offers[_ngcontent-%COMP%], .offer-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.offer-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;overflow:hidden;box-shadow:0 4px 8px #0000001a;transition:transform .3s;max-width:400px;height:800px;position:relative;text-align:left}.offer-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.carousel[_ngcontent-%COMP%]{position:relative;width:100%;overflow:hidden}.carousel-inner[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;flex-shrink:0}.image-container[_ngcontent-%COMP%]{width:400px;height:250px;overflow:hidden;display:flex;justify-content:center;align-items:center}.prev[_ngcontent-%COMP%], .next[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background-color:#00000080;color:#fff;border:none;padding:10px;cursor:pointer;border-radius:50%}.prev[_ngcontent-%COMP%]{left:10px}.next[_ngcontent-%COMP%]{right:10px}.offer-details[_ngcontent-%COMP%]{padding:15px}.offer-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.offer-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.offer-footer[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}.featured[_ngcontent-%COMP%]{color:#007bff;font-weight:700}.sharedContent-Section[_ngcontent-%COMP%]{padding:10px 0}.button-container[_ngcontent-%COMP%]{text-align:center}.fb-button[_ngcontent-%COMP%]{background-color:var(--button-bg-color);color:var(--button-text-color);padding:10px 20px;border-radius:5px;text-decoration:none;font-size:18px;display:inline-flex;align-items:center;transition:background-color .3s}.fb-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;font-size:20px}.fb-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-bg-color)}"]})}return v})();var Jl=k(614),tn=k(6223);function ka(v){return v?/^https?:\/\//i.test(v)?v:`http://${v}`:""}let $u=(()=>{class v{constructor(l){this.sanitizer=l}transform(l){if(!l)return this.sanitizer.bypassSecurityTrustHtml("");const C=l.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,'<a href="$1" target="_blank">$1</a>');return this.sanitizer.bypassSecurityTrustHtml(C)}static#e=this.\u0275fac=function(m){return new(m||v)(o.Y36(f.H7,16))};static#t=this.\u0275pipe=o.Yjl({name:"urlHelper",type:v,pure:!0})}return v})(),Io=(()=>{class v{constructor(l){this.sanitizer=l}transform(l){if(!l)return this.sanitizer.bypassSecurityTrustHtml("");const C=l.replace(/@([a-zA-Z0-9._]+)/gi,($,fe)=>`<a href="https://www.instagram.com/${fe}" target="_blank">${$}</a>`);return console.log(C),this.sanitizer.bypassSecurityTrustHtml(C)}static#e=this.\u0275fac=function(m){return new(m||v)(o.Y36(f.H7,16))};static#t=this.\u0275pipe=o.Yjl({name:"instagramHandle",type:v,pure:!0})}return v})(),Zu=(()=>{class v{constructor(l){this.sanitizer=l}transform(l,m){if(!l)return"";const fe=`<a target="_blank" href="https://www.instagram.com/${l.startsWith("@")?l.substring(1):l}">\n                      <img src="${m}" alt="Instagram Icon">\n                    </a><br>`;return this.sanitizer.bypassSecurityTrustHtml(fe)}static#e=this.\u0275fac=function(m){return new(m||v)(o.Y36(f.H7,16))};static#t=this.\u0275pipe=o.Yjl({name:"instagramLink",type:v,pure:!0})}return v})(),Js=(()=>{class v{transform(l){if(!l)return"";let C=(""+l).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return C?"("+C[1]+") "+C[2]+"-"+C[3]:l.toString()}static#e=this.\u0275fac=function(m){return new(m||v)};static#t=this.\u0275pipe=o.Yjl({name:"phoneNumber",type:v,pure:!0})}return v})();function pa(v,h){1&v&&(o.TgZ(0,"span",17),o._uU(1,"\u2605"),o.qZA())}function Pc(v,h){if(1&v&&(o.TgZ(0,"div",18),o._uU(1),o.qZA()),2&v){const l=o.oxw();o.xp6(1),o.Oqu(l.svc.Description)}}function Gd(v,h){if(1&v&&(o.TgZ(0,"div")(1,"a",19),o._UZ(2,"img",20),o.qZA()()),2&v){const l=o.oxw();o.xp6(1),o.s9C("href",l.svc.Facebook,o.LSH)}}function Xl(v,h){if(1&v&&(o.TgZ(0,"div"),o._UZ(1,"div",21),o.ALo(2,"instagramLink"),o.qZA()),2&v){const l=o.oxw();o.xp6(1),o.Q6J("innerHTML",o.xi3(2,1,l.svc.Instagram,l.svgInstagramIcon),o.oJD)}}function xc(v,h){if(1&v&&(o.TgZ(0,"div")(1,"a",19),o._UZ(2,"img",22),o.qZA()()),2&v){const l=o.oxw();o.xp6(1),o.s9C("href",l.svc.Website,o.LSH)}}function Ka(v,h){if(1&v){const l=o.EpF();o.TgZ(0,"button",23),o.NdJ("click",function(){o.CHM(l);const C=o.oxw();return o.KtG(C.sendEmail(C.svc.Email))}),o._uU(1,"Email"),o.qZA()}}function gl(v,h){if(1&v&&(o.TgZ(0,"div",24),o._uU(1),o.qZA()),2&v){const l=o.oxw();o.xp6(1),o.Oqu(l.svc.Description)}}const Wd=function(v){return{mobile:v}};let Rc=(()=>{class v{constructor(l){this.router=l,this.svgInstagramIcon="../../../assets/images/SVG/instagram-icon.svg",this.isMobile=!1}ngOnInit(){(void 0===this.svc.Image||""==this.svc.Image)&&(this.svc.Image="https://firebasestorage.googleapis.com/v0/b/romaniinseattle.appspot.com/o/serviceImages%2FdafaultImage.jpg?alt=media&token=3b0787df-12f0-444a-a426-013843534f1e"),this.svc.Website=ka(this.svc.Website)}viewDetails(){this.router.navigate(["/services",this.svc.id])}sendEmail(l){window.location.href=`mailto:${l}`}static#e=this.\u0275fac=function(m){return new(m||v)(o.Y36(Nr.F0))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-service-card"]],inputs:{svc:"svc"},decls:24,vars:17,consts:[[1,"service-card",3,"ngClass"],[1,"service-card-image-container"],[1,"service-card-image",3,"src","alt"],[1,"service-card-content"],[1,"card-header"],[1,"card-title"],["class","sponsor-icon",4,"ngIf"],[1,"card-subtitle","service_type"],[1,"card-subtitle","contact_info"],["class","card-description",4,"ngIf"],[1,"card-footer"],[1,"social-icons"],[4,"ngIf"],[1,"card-buttons"],["class","btn message",3,"click",4,"ngIf"],[1,"btn","connect",3,"click"],["class","card-description mobile-description",4,"ngIf"],[1,"sponsor-icon"],[1,"card-description"],["target","_blank",3,"href"],["src","../../../assets/images/SVG/facebook-icon.svg"],[3,"innerHTML"],["src","../../../assets/images/SVG/browser-icon.svg"],[1,"btn","message",3,"click"],[1,"card-description","mobile-description"]],template:function(m,C){1&m&&(o.TgZ(0,"div",0)(1,"div",1),o._UZ(2,"img",2),o.qZA(),o.TgZ(3,"div",3)(4,"div",4)(5,"div",5),o._uU(6),o.YNc(7,pa,2,0,"span",6),o.qZA(),o.TgZ(8,"div",7),o._uU(9),o.qZA(),o.TgZ(10,"div",8),o._uU(11),o.ALo(12,"phoneNumber"),o.qZA()(),o.YNc(13,Pc,2,1,"div",9),o.TgZ(14,"div",10)(15,"div",11),o.YNc(16,Gd,3,1,"div",12),o.YNc(17,Xl,3,4,"div",12),o.YNc(18,xc,3,1,"div",12),o.qZA(),o.TgZ(19,"div",13),o.YNc(20,Ka,2,0,"button",14),o.TgZ(21,"button",15),o.NdJ("click",function(){return C.viewDetails()}),o._uU(22,"Detalii"),o.qZA()()(),o.YNc(23,gl,2,1,"div",16),o.qZA()()),2&m&&(o.Q6J("ngClass",o.VKq(15,Wd,C.isMobile)),o.xp6(2),o.s9C("alt",C.svc.Name),o.Q6J("src",C.svc.Image,o.LSH),o.xp6(4),o.Oqu(C.svc.Name),o.xp6(1),o.Q6J("ngIf",C.svc.Community_Sponsor),o.xp6(2),o.Oqu(C.svc.Service_Type),o.xp6(2),o.Oqu(o.lcZ(12,13,C.svc.Phone_Number)),o.xp6(2),o.Q6J("ngIf",!C.isMobile),o.xp6(3),o.Q6J("ngIf",C.svc.Facebook),o.xp6(1),o.Q6J("ngIf",C.svc.Instagram),o.xp6(1),o.Q6J("ngIf",C.svc.Website),o.xp6(2),o.Q6J("ngIf",C.svc.Email),o.xp6(3),o.Q6J("ngIf",C.isMobile))},dependencies:[U.mk,U.O5,Zu,Js],styles:[".service-card[_ngcontent-%COMP%]{width:400px;height:500px;border-radius:12px;box-shadow:0 4px 8px #0000001a;overflow:hidden;background-color:#fff;transition:transform .3s;display:flex;flex-direction:column;margin:10px}.service-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.service-card-image-container[_ngcontent-%COMP%]{width:100%;height:50%;overflow:hidden}.service-card-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;object-position:20% 20%}.service-card-content[_ngcontent-%COMP%]{padding:15px;height:50%;display:flex;flex-direction:column;justify-content:space-between}.card-header[_ngcontent-%COMP%]{margin-bottom:15px}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.sponsor-icon[_ngcontent-%COMP%]{color:gold}.card-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666}.contact_info[_ngcontent-%COMP%]{margin-top:5px}.card-description[_ngcontent-%COMP%]{text-align:left;font-family:Catamaran,sans-serif;font-optical-sizing:auto;font-weight:400;font-style:normal;color:#666;margin-top:4px;overflow:hidden;-webkit-box-orient:vertical;display:block;display:-webkit-box;overflow:hidden!important;text-overflow:ellipsis;-webkit-line-clamp:4;font-size:.9rem;margin-bottom:15px}.card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.social-icons[_ngcontent-%COMP%], .card-buttons[_ngcontent-%COMP%]{display:flex;gap:10px}.btn[_ngcontent-%COMP%]{padding:10px 15px;border:none;border-radius:5px;cursor:pointer}.btn.message[_ngcontent-%COMP%]{background-color:#fff;color:var(--button-color);border:1px solid var(--button-color)}.btn.connect[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff}@media (max-width: 768px){.service-card[_ngcontent-%COMP%]{width:100%;height:auto;flex-direction:row;margin:0}.card-header[_ngcontent-%COMP%]{margin-bottom:2px}.service-card-image-container[_ngcontent-%COMP%]{width:40%;height:auto;max-height:150px;margin:5px}.service-card-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.service-card-content[_ngcontent-%COMP%]{width:60%;padding:10px}.card-description[_ngcontent-%COMP%], .social-icons[_ngcontent-%COMP%]{display:none}.mobile-description[_ngcontent-%COMP%]{display:none;font-size:.8rem;color:#666;margin-top:10px}.card-footer[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.card-buttons[_ngcontent-%COMP%]{width:100%;margin-top:10px}.btn[_ngcontent-%COMP%]{width:100%}}"]})}return v})();function Yi(v,h){if(1&v&&(o.TgZ(0,"option",14),o._uU(1),o.qZA()),2&v){const l=h.$implicit;o.Q6J("value",l),o.xp6(1),o.Oqu(l)}}function Mg(v,h){1&v&&o._UZ(0,"app-service-card",15),2&v&&o.Q6J("svc",h.$implicit)}let Cp=(()=>{class v{constructor(l,m,C){this.servicesService=l,this.route=m,this.router=C,this.services=[],this.filteredServices=[],this.serviceTypes=[],this.selectedServiceType=""}ngOnInit(){this.route.queryParams.subscribe(l=>{this.selectedServiceType=l.serviceType||""}),this.filterServices(this.selectedServiceType)}navigateToAddService(){this.router.navigate(["/add-service"])}handleChange(l){const{target:m}=l;return m&&console.log(m.value),m.value}fetchServiceTypes(){console.log("FetchServiceTypes Function"),this.servicesService.getAllServiceTypes().subscribe(l=>{this.serviceTypes=l,l.forEach(m=>{})}),console.log("Number of Service Types returned by the database : "+this.serviceTypes.length)}onFilterChange(l){console.log("Filter changed:",l),this.router.navigate([],{relativeTo:this.route,queryParams:{serviceType:l},queryParamsHandling:"merge"}),this.filterServices(l)}filterServices(l){console.log("Filter Serices: "+l),this.fetchServiceTypes(),l&&""!==l?this.servicesService.getServicesByType(l).subscribe(m=>{this.services=m.filter(C=>C.Approved),this.filteredServices=m.filter(C=>C.Approved),console.log("Number of Services returned by the Database :  "+this.services.length)}):this.servicesService.getServices().subscribe(m=>{this.services=m.filter(C=>C.Approved),this.filteredServices=m.filter(C=>C.Approved),console.log("Number of Services returned by the Database :  "+this.services.length)})}extractServiceTypes(){this.serviceTypes=[...new Set(this.services.map(l=>l.Service_Type))]}shareLink(){const m=this.router.url.split("?")[1]||"";navigator.clipboard.writeText("https://romaniinseattle.web.app/services"+(m?"?"+m:"")).then(()=>{alert("Link copied to clipboard!")},$=>{console.error("Could not copy text: ",$)})}static#e=this.\u0275fac=function(m){return new(m||v)(o.Y36(Jl.r),o.Y36(Nr.gz),o.Y36(Nr.F0))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-services"]],decls:24,vars:3,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"services-control"],[1,"service-control-container"],["for","service-type"],["id","service-type",1,"filter-dropdown",3,"ngModel","change","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[2,"min-width","150px",3,"click"],[1,"share-button",3,"click"],[1,"fas","fa-share-alt"],[1,"services-container"],[3,"svc",4,"ngFor","ngForOf"],[3,"value"],[3,"svc"]],template:function(m,C){1&m&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1"),o._uU(3,"Lista de Servicii"),o.qZA()(),o.TgZ(4,"div",2)(5,"h2"),o._uU(6,"Descoperi\u021bi serviciile oferite de membrii comunit\u0103\u021bii"),o.qZA()()(),o.TgZ(7,"div",3)(8,"div",4)(9,"label",5),o._uU(10,"Filtra\u021bi lista dup\u0103 tipul serviciului: "),o.qZA()(),o.TgZ(11,"div",4)(12,"select",6),o.NdJ("change",function(fe){return C.onFilterChange(C.handleChange(fe))})("ngModelChange",function(fe){return C.selectedServiceType=fe}),o.TgZ(13,"option",7),o._uU(14,"Toate serviciile"),o.qZA(),o.YNc(15,Yi,2,2,"option",8),o.qZA()(),o.TgZ(16,"div",4)(17,"button",9),o.NdJ("click",function(){return C.navigateToAddService()}),o._uU(18,"Adaugati un Serviciu"),o.qZA()(),o.TgZ(19,"button",10),o.NdJ("click",function(){return C.shareLink()}),o._UZ(20,"i",11),o._uU(21," Share "),o.qZA()(),o.TgZ(22,"div",12),o.YNc(23,Mg,1,1,"app-service-card",13),o.qZA()),2&m&&(o.xp6(12),o.Q6J("ngModel",C.selectedServiceType),o.xp6(3),o.Q6J("ngForOf",C.serviceTypes),o.xp6(8),o.Q6J("ngForOf",C.filteredServices))},dependencies:[U.sg,tn.YN,tn.Kr,tn.EJ,tn.JJ,tn.On,Rc],styles:[".hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.services-control[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px;padding:20px;flex-wrap:wrap}.service-control-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:5px;padding:5px}.services-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.services-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px;font-size:1rem}.add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}label[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:16px;text-transform:uppercase}.filter-dropdown[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:16px;text-transform:uppercase;cursor:pointer}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,1fr);gap:1rem;padding:1rem}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:3rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1rem;text-align:center}}"]})}return v})(),Xh=(()=>{class v{static#e=this.\u0275fac=function(m){return new(m||v)};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-rules"]],decls:43,vars:0,consts:[[1,"hero-section"],[1,"overlay"],[1,"content"],["href","https://www.facebook.com/groups/RomaniinSeattle",1,"cta-button"],[1,"rules-section"],[1,"container"],[1,"rules-list"]],template:function(m,C){1&m&&(o.TgZ(0,"div",0),o._UZ(1,"div",1),o.TgZ(2,"div",2)(3,"h1"),o._uU(4,"Regulile \u0219i Reglement\u0103rile"),o.qZA(),o.TgZ(5,"p"),o._uU(6,"Apreciem cooperarea \u0219i \xeen\u021belegerea dvs. \xeen respectarea regulilor grupului nostru."),o.qZA(),o.TgZ(7,"a",3),o._uU(8,"Join our Facebook Group"),o.qZA()()(),o.TgZ(9,"section",4)(10,"div",5)(11,"h2"),o._uU(12,"Regulile \u0219i Reglement\u0103rile"),o.qZA(),o.TgZ(13,"ol",6)(14,"li")(15,"span"),o._uU(16,"Respecta\u021bi to\u021bi membrii."),o.qZA(),o._uU(17," Trateaz\u0103 pe toat\u0103 lumea cu respect. Dezbaterile s\u0103n\u0103toase sunt naturale, dar amabilitatea este obligatorie."),o.qZA(),o.TgZ(18,"li")(19,"span"),o._uU(20,"F\u0103r\u0103 discursuri de ur\u0103 sau h\u0103r\u021buire."),o.qZA(),o._uU(21," Asigur\u0103-te c\u0103 toat\u0103 lumea se simte \xeen siguran\u021b\u0103. Bullying-ul de orice fel nu este permis, iar comentariile degradante despre lucruri precum rasa, religia, cultura, orientarea sexual\u0103, genul sau identitatea nu vor fi tolerate."),o.qZA(),o.TgZ(22,"li"),o._uU(23,"F\u0103r\u0103 limbaj ofensator."),o.qZA(),o.TgZ(24,"li")(25,"span"),o._uU(26,"F\u0103r\u0103 Promov\u0103ri sau Spam:"),o.qZA(),o._uU(27," Ofer\u0103 mai mult dec\xe2t prime\u0219ti \xeen acest grup. Auto-promovarea, spam-ul \u0219i link-urile irelevante nu sunt permise."),o.qZA(),o.TgZ(28,"li"),o._uU(29,"R\u0103m\xe2ne\u021bi la subiect."),o.qZA(),o.TgZ(30,"li")(31,"span"),o._uU(32,"Respect\u0103 Intimitatea Fiec\u0103ruia:"),o.qZA(),o._uU(33," Participarea \xeen acest grup necesit\u0103 \xeencredere reciproc\u0103. Discu\u021biile autentice \u0219i expresive fac grupurile grozave, dar pot fi \u0219i sensibile \u0219i private. Ce se \xeemp\u0103rt\u0103\u0219e\u0219te \xeen grup ar trebui s\u0103 r\u0103m\xe2n\u0103 \xeen grup."),o.qZA(),o.TgZ(34,"li")(35,"span"),o._uU(36,"Respecta\u021bi Standardele Comunit\u0103\u021bii Facebook."),o.qZA(),o._uU(37," Respect\u0103 toate liniile directoare ale comunit\u0103\u021bii pentru a asigura c\u0103 grupul r\u0103m\xe2ne un spa\u021biu sigur pentru to\u021bi."),o.qZA(),o.TgZ(38,"li"),o._uU(39,"Raporta\u021bi \xeenc\u0103lc\u0103rile regulilor c\u0103tre administratori."),o.qZA()()(),o.TgZ(40,"div")(41,"p"),o._uU(42,"Dac\u0103 dori\u021bi s\u0103 v\u0103 oferi\u021bi serviciile comunit\u0103\u021bii, v\u0103 rug\u0103m s\u0103 trimite\u021bi detaliile serviciilor dumneavoastr\u0103 prin intermediul site-ului nostru. Un administrator va revizui trimiterea dvs. \u0219i o va ad\u0103uga \xeen grup c\xe2t mai cur\xe2nd posibil. Apreciem cooperarea \u0219i \xeen\u021belegerea dvs. \xeen respectarea regulilor grupului nostru."),o.qZA()()())},styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Arial,sans-serif;height:100%}.hero-section[_ngcontent-%COMP%]{position:relative;height:100vh;background:url(Seattle-Romania.322e2da675d571d6.png) no-repeat center center/cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#fff}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:3em;margin:.5em 0}p[_ngcontent-%COMP%]{font-size:1.5em;margin:.5em 0}.cta-button[_ngcontent-%COMP%]{display:inline-block;padding:.75em 1.5em;margin-top:1em;font-size:1.2em;color:#fff;background-color:var(--button-color);border:none;border-radius:5px;text-decoration:none;cursor:pointer;transition:background-color .3s ease}.cta-button[_ngcontent-%COMP%]:hover{background-color:#e65c00}.rules-section[_ngcontent-%COMP%]{padding:40px 20px;background:#f4f4f4}.rules-section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.rules-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;font-size:32px}.rules-list[_ngcontent-%COMP%]{list-style:none}.rules-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background:#fff;padding:20px;margin-bottom:10px;border-left:5px solid #007BFF}.rules-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;color:#333}"]})}return v})();function Pg(v,h){1&v&&(o.TgZ(0,"div",15)(1,"span",16),o._uU(2,"Evenimentul a Expirat"),o.qZA()())}let ef=(()=>{class v{constructor(l){this.router=l,this.defaultImage="https://storage.cloud.google.com/romaniinseattle.appspot.com/events/defaultImage.jpg"}ngOnInit(){this.event.Poster_Image||(this.event.Poster_Image=this.defaultImage)}navigateToDetails(){console.log("Navigating to details:",this.event.id),this.router.navigate(["/events",this.event.id])}static#e=this.\u0275fac=function(m){return new(m||v)(o.Y36(Nr.F0))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-event-card"]],inputs:{event:"event"},decls:24,vars:17,consts:[[1,"event-card"],[1,"event-image"],[3,"src","alt"],[1,"calendar-icon"],["src","../../../../assets/images/SVG/calendar.svg","alt","Calendar Icon"],[1,"event-date"],[1,"event-details"],[1,"event-date-time"],[1,"date-time"],[1,"event-description"],[1,"contact-name"],[1,"contact-info"],[1,"card-footer"],["class","card-expired",4,"ngIf"],[3,"click"],[1,"card-expired"],[1,"expired"]],template:function(m,C){1&m&&(o.TgZ(0,"div",0)(1,"div",1),o._UZ(2,"img",2),o.TgZ(3,"div",3),o._UZ(4,"img",4),o.TgZ(5,"span",5),o._uU(6),o.ALo(7,"date"),o.qZA()()(),o.TgZ(8,"div",6)(9,"div",7)(10,"span",8),o._uU(11),o.ALo(12,"date"),o.qZA()(),o.TgZ(13,"div",9),o._uU(14),o.qZA(),o.TgZ(15,"div",10),o._uU(16),o.qZA(),o.TgZ(17,"div",11),o._uU(18),o.ALo(19,"phoneNumber"),o.qZA()(),o.TgZ(20,"div",12),o.YNc(21,Pg,3,0,"div",13),o.TgZ(22,"button",14),o.NdJ("click",function(){return C.navigateToDetails()}),o._uU(23,"Detalii"),o.qZA()()()),2&m&&(o.xp6(2),o.s9C("alt",C.event.Event_Name),o.Q6J("src",C.event.Poster_Image,o.LSH),o.xp6(4),o.Oqu(o.xi3(7,9,C.event.Event_Date,"dd")),o.xp6(5),o.AsE("",o.xi3(12,12,C.event.Event_Date,"MM/dd/yyyy")," | ",C.event.Event_Time,""),o.xp6(3),o.hij(" ",C.event.Description," "),o.xp6(2),o.hij(" ",C.event.Contact_Person_Name," "),o.xp6(2),o.hij(" ",o.lcZ(19,15,C.event.Phone_Number)," "),o.xp6(3),o.Q6J("ngIf",C.event.Expired))},dependencies:[U.O5,U.uU,Js],styles:[".event-card[_ngcontent-%COMP%]{display:block;position:relative;width:400px;min-height:550px;border-radius:12px;overflow:hidden;box-shadow:0 4px 8px #0000001a;transition:transform .3s;height:800px}.event-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.calendar-icon[_ngcontent-%COMP%]{position:relative;bottom:45px;left:10px;display:flex;align-items:center;background-color:#fffc;padding:4px 8px;border-radius:4px;width:50px;height:50px;border:solid 1px lightgray}.calendar-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px;margin-right:4px}.event-date[_ngcontent-%COMP%]{font-size:14px;color:#333}.event-details[_ngcontent-%COMP%]{padding:12px}.event-date-time[_ngcontent-%COMP%]{margin-bottom:8px}.date-time[_ngcontent-%COMP%]{font-size:14px;color:#888}.event-description[_ngcontent-%COMP%]{font-size:14px;color:#666;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.contact-name[_ngcontent-%COMP%]{margin-top:8px;font-weight:700}.contact-info[_ngcontent-%COMP%]{color:#666}.details-button[_ngcontent-%COMP%]{margin-top:12px;padding:8px 16px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s}.details-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.card-expired[_ngcontent-%COMP%]{padding:10px;text-align:center}.expired[_ngcontent-%COMP%]{color:red}.card-footer[_ngcontent-%COMP%]{width:90%;display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}"]})}return v})();function Tp(v,h){1&v&&o._UZ(0,"app-event-card",7),2&v&&o.Q6J("event",h.$implicit)}let Qd=(()=>{class v{constructor(l,m){this.eventService=l,this.router=m,this.events=[]}ngOnInit(){this.eventService.getEvents().subscribe(l=>{this.events=l})}navigateToAddEvent(){this.router.navigate(["/add-event"])}static#e=this.\u0275fac=function(m){return new(m||v)(o.Y36(pl.n),o.Y36(Nr.F0))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-events"]],decls:12,vars:1,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"add-service-container"],[3,"click"],[1,"services-container"],[3,"event",4,"ngFor","ngForOf"],[3,"event"]],template:function(m,C){1&m&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1"),o._uU(3,"Lista de Evenimente"),o.qZA()(),o.TgZ(4,"div",2)(5,"h2"),o._uU(6,"Descoperi\u021bi serviciile oferite de membrii comunit\u0103\u021bii"),o.qZA()()(),o.TgZ(7,"div",3)(8,"button",4),o.NdJ("click",function(){return C.navigateToAddEvent()}),o._uU(9,"Adaugati un Eveniment"),o.qZA()(),o.TgZ(10,"div",5),o.YNc(11,Tp,1,1,"app-event-card",6),o.qZA()),2&m&&(o.xp6(11),o.Q6J("ngForOf",C.events))},dependencies:[U.sg,ef],styles:[".hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.section-header[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;background-color:#f0f0f0}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:10px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.service-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:10px;padding:40px;width:calc(25% - 32px);box-sizing:border-box;position:relative;min-width:400px}.card-header[_ngcontent-%COMP%]{text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333}.card-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-top:4px}.card-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:gold}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}.services-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:30px;padding:30px}.services-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.services-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px;font-size:1rem}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}.add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.services-control[_ngcontent-%COMP%]{flex-direction:column}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}"]})}return v})();function ml(v,h){if(1&v&&(o.TgZ(0,"div",13),o._UZ(1,"img",14),o.qZA()),2&v){const l=h.$implicit,m=h.index,C=o.oxw();o.ekj("active",m===C.currentImageIndex),o.xp6(1),o.MGl("alt","Offer Image ",m+1,""),o.Q6J("src",l,o.LSH)}}function _l(v,h){1&v&&(o.TgZ(0,"span",15),o._uU(1,"\u2605"),o.qZA())}function tf(v,h){1&v&&(o.TgZ(0,"p"),o._uU(1,"Oferta a expirat"),o.qZA())}function Kd(v,h){1&v&&(o.TgZ(0,"p"),o._uU(1,"Oferta este valabil\u0101"),o.qZA())}function lo(v,h){if(1&v&&(o.TgZ(0,"div")(1,"a",16),o._UZ(2,"img",17),o.qZA()()),2&v){const l=o.oxw();o.xp6(1),o.s9C("href",l.offer.Facebook,o.LSH)}}function eu(v,h){if(1&v&&(o.TgZ(0,"div"),o._UZ(1,"div",18),o.ALo(2,"instagramLink"),o.qZA()),2&v){const l=o.oxw();o.xp6(1),o.Q6J("innerHTML",o.xi3(2,1,l.offer.Instagram,l.svgInstagramIcon),o.oJD)}}function Ya(v,h){if(1&v&&(o.TgZ(0,"div")(1,"a",19),o._UZ(2,"img",20),o.qZA()()),2&v){const l=o.oxw();o.xp6(1),o.MGl("href","mailto:",l.offer.Email,"",o.LSH)}}function Yd(v,h){if(1&v&&(o.TgZ(0,"div")(1,"a",16),o._UZ(2,"img",21),o.qZA()()),2&v){const l=o.oxw();o.xp6(1),o.s9C("href",l.offer.Website,o.LSH)}}let rs=(()=>{class v{constructor(l){this.router=l,this.currentImageIndex=0,this.images=[],this.defaultImage="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/defaultImage.jpg",this.svgInstagramIcon="../../../assets/images/SVG/instagram-icon.svg"}ngOnInit(){console.log(this.offer),this.images=this.offer?.Images?.length?this.offer.Images:[this.defaultImage],this.startImageCarousel()}startImageCarousel(){setInterval(()=>{this.currentImageIndex=(this.currentImageIndex+1)%this.images.length},15e3)}nextImage(){this.currentImageIndex=(this.currentImageIndex+1)%this.images.length}prevImage(){this.currentImageIndex=(this.currentImageIndex-1+this.images.length)%this.images.length}navigateToDetails(){console.log("Navigating to details:",this.offer.id),this.router.navigate(["/offers",this.offer.id])}static#e=this.\u0275fac=function(m){return new(m||v)(o.Y36(Nr.F0))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-offer-card"]],inputs:{offer:"offer"},decls:53,vars:18,consts:[[1,"offer-card"],[1,"offer-carousel-container"],[1,"carousel"],[1,"carousel-inner"],["class","carousel-item",3,"active",4,"ngFor","ngForOf"],[1,"carousel-control","prev",3,"click"],[1,"carousel-control","next",3,"click"],[1,"offer-details"],["class","sponsor-icon",4,"ngIf"],[4,"ngIf"],[3,"click"],[1,"card-footer"],[1,"social-icons"],[1,"carousel-item"],[1,"carousel-image",3,"src","alt"],[1,"sponsor-icon"],["target","_blank",3,"href"],["src","../../../assets/images/SVG/facebook-icon.svg"],[3,"innerHTML"],[3,"href"],["src","../../../assets/images/SVG/email-icon.svg"],["src","../../../assets/images/SVG/browser-icon.svg"]],template:function(m,C){1&m&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),o.YNc(4,ml,2,4,"div",4),o.qZA(),o.TgZ(5,"a",5),o.NdJ("click",function(){return C.prevImage()}),o._uU(6,"\u276e"),o.qZA(),o.TgZ(7,"a",6),o.NdJ("click",function(){return C.nextImage()}),o._uU(8,"\u276f"),o.qZA()()(),o.TgZ(9,"div",7)(10,"h3"),o._uU(11),o.qZA(),o.YNc(12,_l,2,0,"span",8),o.TgZ(13,"p")(14,"strong"),o._uU(15,"Compania:"),o.qZA(),o._uU(16),o.qZA(),o.TgZ(17,"p")(18,"strong"),o._uU(19,"Persona de contact:"),o.qZA(),o._uU(20),o.qZA(),o._UZ(21,"hr"),o.TgZ(22,"p")(23,"strong"),o._uU(24,"Numar de Tel:"),o.qZA(),o._uU(25),o.ALo(26,"phoneNumber"),o.qZA(),o.TgZ(27,"p")(28,"strong"),o._uU(29,"Locatie:"),o.qZA(),o._uU(30),o.qZA(),o.TgZ(31,"p")(32,"strong"),o._uU(33,"Descriiere:"),o.qZA(),o._uU(34),o.qZA(),o.TgZ(35,"p")(36,"strong"),o._uU(37,"Pret:"),o.qZA(),o._uU(38),o.qZA(),o.TgZ(39,"p")(40,"strong"),o._uU(41,"Tip de ofert\u0101:"),o.qZA(),o._uU(42),o.qZA(),o.YNc(43,tf,2,0,"p",9),o.YNc(44,Kd,2,0,"p",9),o.TgZ(45,"button",10),o.NdJ("click",function(){return C.navigateToDetails()}),o._uU(46,"Detalii"),o.qZA()(),o.TgZ(47,"div",11)(48,"div",12),o.YNc(49,lo,3,1,"div",9),o.YNc(50,eu,3,4,"div",9),o.YNc(51,Ya,3,1,"div",9),o.YNc(52,Yd,3,1,"div",9),o.qZA()()()),2&m&&(o.xp6(4),o.Q6J("ngForOf",C.images),o.xp6(7),o.Oqu(C.offer.Title),o.xp6(1),o.Q6J("ngIf",C.offer.Community_Sponsor),o.xp6(4),o.hij(" ",C.offer.Company_Name,""),o.xp6(4),o.hij(" ",C.offer.Contact_Name,""),o.xp6(5),o.hij(" ",o.lcZ(26,16,C.offer.Phone_Number),""),o.xp6(5),o.hij(" ",C.offer.Location,""),o.xp6(4),o.Oqu(C.offer.Description),o.xp6(4),o.Oqu(C.offer.Price),o.xp6(4),o.Oqu(C.offer.OfferType),o.xp6(1),o.Q6J("ngIf",C.offer.Filled),o.xp6(1),o.Q6J("ngIf",!C.offer.Filled),o.xp6(5),o.Q6J("ngIf",C.offer.Facebook),o.xp6(1),o.Q6J("ngIf",C.offer.Instagram),o.xp6(1),o.Q6J("ngIf",C.offer.Email),o.xp6(1),o.Q6J("ngIf",C.offer.Website))},dependencies:[U.sg,U.O5,Zu,Js],styles:[".offer-card[_ngcontent-%COMP%]{background-color:#fafafa;width:400px;min-height:550px;border-radius:8px;overflow:hidden;box-shadow:0 4px 8px #0000001a;transition:transform .3s;height:800px;position:relative}.offer-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.offer-carousel-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:400px;margin:0 auto}.carousel[_ngcontent-%COMP%]{width:100%;position:relative}.carousel-inner[_ngcontent-%COMP%]{overflow:hidden;border-radius:8px;min-height:300px}.carousel-item[_ngcontent-%COMP%]{display:none;text-align:center}.carousel-item.active[_ngcontent-%COMP%]{display:block}.carousel-image[_ngcontent-%COMP%]{width:400px;height:300px;object-fit:cover}.carousel-control[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);font-size:24px;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.5);cursor:pointer;-webkit-user-select:none;user-select:none}.carousel-control.prev[_ngcontent-%COMP%]{left:10px}.carousel-control.next[_ngcontent-%COMP%]{right:10px}.offer-details[_ngcontent-%COMP%]{padding:15px;text-align:left}.offer-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.offer-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.card-footer[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:400px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px;color:gold}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}"]})}return v})();function Ja(v,h){1&v&&o._UZ(0,"app-offer-card",7),2&v&&o.Q6J("offer",h.$implicit)}let Jd=(()=>{class v{constructor(l,m){this.offersService=l,this.router=m,this.offers=[]}ngOnInit(){this.offersService.getOffers().subscribe(l=>{console.log(l),this.offers=l})}navigateToAddOffer(){this.router.navigate(["/add-offers"])}static#e=this.\u0275fac=function(m){return new(m||v)(o.Y36(fs.b),o.Y36(Nr.F0))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-offers"]],decls:12,vars:1,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"add-service-container"],[3,"click"],[1,"offer-list"],[3,"offer",4,"ngFor","ngForOf"],[3,"offer"]],template:function(m,C){1&m&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1"),o._uU(3,"De toate pentru to\u021bi"),o.qZA()(),o.TgZ(4,"div",2)(5,"h2"),o._uU(6,"Descoperi\u021bi oferte de membrii comunit\u0103\u021bii"),o.qZA()()(),o.TgZ(7,"div",3)(8,"button",4),o.NdJ("click",function(){return C.navigateToAddOffer()}),o._uU(9,"Adaugati oferta"),o.qZA()(),o.TgZ(10,"div",5),o.YNc(11,Ja,1,1,"app-offer-card",6),o.qZA()),2&m&&(o.xp6(11),o.Q6J("ngForOf",C.offers))},dependencies:[U.sg,rs],styles:[".hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(http://source.unsplash.com/800x600/?Seattle);background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.section-header[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;background-color:#f0f0f0}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:10px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.add-offer-container[_ngcontent-%COMP%], .add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}.offer-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;justify-content:center}.offers[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.offers-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.offers-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a;margin:15px;width:calc(25% - 32px);overflow:hidden;transition:transform .3s,box-shadow .3s;min-width:400px}.offers-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 12px 24px #0003}.offer-card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:180px;object-fit:cover}.offers-card-content[_ngcontent-%COMP%]{padding:20px;text-align:left}.offers-card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;font-size:22px;font-weight:600}.offers-card-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 10px;font-size:18px;color:#666;font-weight:400}.offers-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 10px;font-size:16px;color:#777}.offers-footer[_ngcontent-%COMP%]{text-align:right;margin-top:10px}.featured[_ngcontent-%COMP%]{color:#007bff;font-weight:700}@media (max-width: 1024px){.offer-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.offer-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}"]})}return v})();var Oc=k(8779);function vl(v,h){if(1&v&&(o.TgZ(0,"option",30),o._uU(1),o.qZA()),2&v){const l=h.$implicit;o.Q6J("value",l),o.xp6(1),o.Oqu(l)}}function nf(v,h){if(1&v&&(o.TgZ(0,"option",30),o._uU(1),o.qZA()),2&v){const l=h.$implicit;o.Q6J("value",l),o.xp6(1),o.Oqu(l)}}function rf(v,h){if(1&v&&(o.TgZ(0,"option",30),o._uU(1),o.qZA()),2&v){const l=h.$implicit;o.Q6J("value",l),o.xp6(1),o.Oqu(l)}}function sf(v,h){if(1&v&&(o.TgZ(0,"div",31)(1,"h2"),o._uU(2),o.qZA(),o.TgZ(3,"label",32),o._uU(4,"Open:"),o.qZA(),o.TgZ(5,"select",33),o.YNc(6,nf,2,2,"option",8),o.qZA(),o.TgZ(7,"label",32),o._uU(8,"Close:"),o.qZA(),o.TgZ(9,"select",34),o.YNc(10,rf,2,2,"option",8),o.qZA()()),2&v){const l=h.$implicit,m=o.oxw();o.Q6J("formGroupName",l),o.xp6(2),o.Oqu(l),o.xp6(1),o.MGl("for","",l,"-open"),o.xp6(3),o.Q6J("ngForOf",m.hoursOptions),o.xp6(1),o.MGl("for","",l,"-close"),o.xp6(3),o.Q6J("ngForOf",m.hoursOptions)}}const wp=function(){return["Luni","Marti","Miercuri","Joi","Vineri","Sambata","Duminica"]};let is=(()=>{class v{constructor(l,m,C,$){this.fb=l,this.servicesService=m,this.imageUploadService=C,this.router=$,this.serviceTypes=[],this.selectedFile=null,this.hoursOptions=["Closed","7:00 AM","8:00 AM","9:00 AM","10:00 AM","11:00 AM","12:00 PM","1:00 PM","2:00 PM","3:00 PM","4:00 PM","5:00 PM","6:00 PM","7:00 PM","8:00 PM","9:00 PM"],this.serviceForm=this.fb.group({Name:["",tn.kI.required],Email:["",[tn.kI.email]],Phone_Number:[""],Website:[""],Facebook:[""],Instagram:[""],Image:[""],Description:[""],Date_Created:[""],Community_Sponsor:[!1],Service_Type:["",tn.kI.required],Hours:this.fb.group({Luni:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Marti:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Miercuri:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Joi:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Vineri:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Sambata:this.fb.group({open:["Closed"],close:["Closed"]}),Duminica:this.fb.group({open:["Closed"],close:["Closed"]})})})}ngOnInit(){this.fetchServiceTypes()}onFileSelected(l){this.selectedFile=l.target.files[0]}fetchServiceTypes(){this.servicesService.getAllServiceTypes().subscribe(l=>{this.serviceTypes=l})}onSubmit(){this.serviceForm.valid&&(this.selectedFile?this.imageUploadService.uploadImage(this.selectedFile,"serviceImages").subscribe(l=>{this.serviceForm.value.Image=l,console.log(l),this.saveService()}):this.saveService())}formatHours(l){for(const m of Object.keys(l))""===l[m].open&&""===l[m].close&&(l[m]=null);return l}saveService(){this.servicesService.addService(this.serviceForm.value).subscribe(l=>{console.log("Service added successfully with ID:",l?.id),this.serviceForm.reset(),this.router.navigate(["/services",l?.id])})}static#e=this.\u0275fac=function(m){return new(m||v)(o.Y36(tn.qu),o.Y36(Jl.r),o.Y36(Oc.K),o.Y36(Nr.F0))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-add-service"]],decls:59,vars:5,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","Service_Type",1,"required"],["id","Service_Type","formControlName","Service_Type","required",""],[3,"value",4,"ngFor","ngForOf"],["for","Name",1,"required"],["id","Name","placeholder","Ion Dumitrescu","formControlName","Name","required",""],["for","Email"],["id","Email","type","Email","placeholder","info@website.com","formControlName","Email"],["for","Phone_Number"],["id","Phone_Number","type","text","placeholder","(425) 444-5555","formControlName","Phone_Number"],["for","Website"],["id","Website","type","text","placeholder","https://www.website.com","formControlName","Website"],["for","Facebook"],["id","Facebook","type","text","placeholder","https://www.facebook.com/yourname","formControlName","Facebook"],["for","Instagram"],["id","Instagram","type","text","placeholder","@instaHandle..","formControlName","Instagram"],["for","Description",1,"required"],["id","Description","formControlName","Description"],["for","Hours"],["formGroupName","Hours"],[1,"day-container"],["class","day",3,"formGroupName",4,"ngFor","ngForOf"],["for","Image"],["type","file","formControlName","Image",3,"change"],["type","submit",3,"disabled"],[3,"value"],[1,"day",3,"formGroupName"],[3,"for"],["formControlName","open"],["formControlName","close"]],template:function(m,C){1&m&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1"),o._uU(3,"Lista de Servicii"),o.qZA()(),o.TgZ(4,"div",2)(5,"h2"),o._uU(6,"Adaugati serviciile dumneavoastra pentru membrii comunit\u0103\u021bii"),o.qZA(),o._UZ(7,"p"),o.qZA()(),o.TgZ(8,"div",3)(9,"h2"),o._uU(10," Serviciile ad\u0103ugate prin aceast\u0103 pagin\u0103 sunt supuse aprob\u0103rii administratorului \xeenainte de a fi afi\u0219ate \xeen list\u0103."),o.qZA(),o.TgZ(11,"h3"),o._uU(12,"V\u0103 rug\u0103m s\u0103 introduce\u021bi cel pu\u021bin o metod\u0103 de contact."),o.qZA(),o.TgZ(13,"form",4),o.NdJ("ngSubmit",function(){return C.onSubmit()}),o.TgZ(14,"div",5)(15,"label",6),o._uU(16,"Categoria de serviciului:"),o.qZA(),o.TgZ(17,"select",7),o.YNc(18,vl,2,2,"option",8),o.qZA()(),o.TgZ(19,"div",5)(20,"label",9),o._uU(21,"Nume:"),o.qZA(),o._UZ(22,"input",10),o.qZA(),o.TgZ(23,"div",5)(24,"label",11),o._uU(25,"Adresa Email:"),o.qZA(),o._UZ(26,"input",12),o.qZA(),o.TgZ(27,"div",5)(28,"label",13),o._uU(29,"Numar de telefon:"),o.qZA(),o._UZ(30,"input",14),o.qZA(),o.TgZ(31,"div",5)(32,"label",15),o._uU(33,"Pagina Web:"),o.qZA(),o._UZ(34,"input",16),o.qZA(),o.TgZ(35,"div",5)(36,"label",17),o._uU(37,"Pagina Facebook:"),o.qZA(),o._UZ(38,"input",18),o.qZA(),o.TgZ(39,"div",5)(40,"label",19),o._uU(41,"Instagram:(@cont_de_instagram)"),o.qZA(),o._UZ(42,"input",20),o.qZA(),o.TgZ(43,"div",5)(44,"label",21),o._uU(45,"Descriere a serviciile oferite:"),o.qZA(),o._UZ(46,"textarea",22),o.qZA(),o.TgZ(47,"div",5)(48,"label",23),o._uU(49,"Orele de contactare:"),o.qZA(),o.TgZ(50,"div",24)(51,"div",25),o.YNc(52,sf,11,6,"div",26),o.qZA()()(),o.TgZ(53,"div",5)(54,"label",27),o._uU(55,"Imagine:"),o.qZA(),o.TgZ(56,"input",28),o.NdJ("change",function(fe){return C.onFileSelected(fe)}),o.qZA()(),o.TgZ(57,"button",29),o._uU(58,"Adaugati Serviciul"),o.qZA()()()),2&m&&(o.xp6(13),o.Q6J("formGroup",C.serviceForm),o.xp6(5),o.Q6J("ngForOf",C.serviceTypes),o.xp6(34),o.Q6J("ngForOf",o.DdM(4,wp)),o.xp6(5),o.Q6J("disabled",C.serviceForm.invalid))},dependencies:[U.sg,tn._Y,tn.YN,tn.Kr,tn.Fj,tn.EJ,tn.JJ,tn.JL,tn.Q7,tn.sg,tn.u,tn.x0],styles:['.hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.form-container[_ngcontent-%COMP%]{max-width:600px;margin:50px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.day-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.day[_ngcontent-%COMP%]{width:20%;padding:10px;box-sizing:border-box}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;border:none;padding:10px 20px;font-size:16px;border-radius:5px;cursor:pointer;margin:10px 0;transition:background-color .3s ease}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}']})}return v})(),tu=(()=>{class v{constructor(l,m){this.fb=l,this.eventsService=m,this.eventForm=this.fb.group({Approved:[""],Community_Sponsor:[""],Contact:[""],Description:["",tn.kI.required],Event_date:["",tn.kI.required],Location:["",tn.kI.required],Name:["",tn.kI.required],Phone_Number:[""],Poster_Image:["",tn.kI.required],Price:["",tn.kI.required],Website:[""]})}ngOnInit(){}onSubmit(){this.eventForm.valid&&this.eventsService.addEvent(this.eventForm.value).then(()=>{console.log("Event added successfully"),this.eventForm.reset()}).catch(m=>{console.error("Error adding event: ",m)})}static#e=this.\u0275fac=function(m){return new(m||v)(o.Y36(tn.qu),o.Y36(pl.n))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-add-event"]],decls:52,vars:2,consts:[[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","Name",1,"required"],["id","Name","formControlName","Name","required","","placeholder","Titlul Evenimentului"],["for","Contact"],["id","Contact","formControlName","Contact","required","","placeholder","Numele persoanei de contact:"],["for","Poster_Image",1,"required"],["id","Poster_Image","formControlName","Poster_Image","required",""],["for","Phone_Number"],["id","Phone_Number","formControlName","Phone_Number","placeholder","425 555 5555"],["for","Event_date",1,"required"],["id","Event_date","type","date","formControlName","Event_date","required",""],["for","Location",1,"required"],["id","Location","formControlName","Location","required","","placeholder","Locatie"],["for","Description",1,"required"],["id","Description","formControlName","Description","required","","placeholder","Detalii"],["for","Price",1,"required"],["id","Price","formControlName","Price","required","","placeholder","5"],["for","Website"],["id","Website","formControlName","Website","placeholder","Pagina de Web"],["for","Facebook"],["type","text","id","Facebook","formControlName","Facebook","placeholder","Adresa de Facebook"],["for","Instagram"],["type","text","id","Instagram","formControlName","Instagram","placeholder","@instaHandle.."],["type","submit",3,"disabled"]],template:function(m,C){1&m&&(o.TgZ(0,"div",0)(1,"h2"),o._uU(2," Evenimetele ad\u0103ugate prin aceast\u0103 pagin\u0103 sunt supuse aprob\u0103rii administratorului \xeenainte de a fi afi\u0219ate \xeen list\u0103."),o.qZA(),o.TgZ(3,"h3"),o._uU(4,"V\u0103 rug\u0103m s\u0103 introduce\u021bi cel pu\u021bin o metod\u0103 de contact."),o.qZA(),o.TgZ(5,"form",1),o.NdJ("ngSubmit",function(){return C.onSubmit()}),o.TgZ(6,"div",2)(7,"label",3),o._uU(8,"Titlu:"),o.qZA(),o._UZ(9,"input",4),o.qZA(),o.TgZ(10,"div",2)(11,"label",5),o._uU(12,"Numele persoanei de contact:"),o.qZA(),o._UZ(13,"input",6),o.qZA(),o.TgZ(14,"div",2)(15,"label",7),o._uU(16,"Imagine poster:"),o.qZA(),o._UZ(17,"input",8),o.qZA(),o.TgZ(18,"div",2)(19,"label",9),o._uU(20,"Numar de Telefon:"),o.qZA(),o._UZ(21,"input",10),o.qZA(),o.TgZ(22,"div",2)(23,"label",11),o._uU(24,"Data Evenimentului:"),o.qZA(),o._UZ(25,"input",12),o.qZA(),o.TgZ(26,"div",2)(27,"label",13),o._uU(28,"Locatie:"),o.qZA(),o._UZ(29,"input",14),o.qZA(),o.TgZ(30,"div",2)(31,"label",15),o._uU(32,"Descriere:"),o.qZA(),o._UZ(33,"textarea",16),o.qZA(),o.TgZ(34,"div",2)(35,"label",17),o._uU(36,"Pret:"),o.qZA(),o._UZ(37,"input",18),o.qZA(),o.TgZ(38,"div",2)(39,"label",19),o._uU(40,"Website:"),o.qZA(),o._UZ(41,"input",20),o.qZA(),o.TgZ(42,"div",2)(43,"label",21),o._uU(44,"Adresa de Facebook:"),o.qZA(),o._UZ(45,"input",22),o.qZA(),o.TgZ(46,"div",2)(47,"label",23),o._uU(48,"Instagram:(@cont_de_instagram)"),o.qZA(),o._UZ(49,"input",24),o.qZA(),o.TgZ(50,"button",25),o._uU(51,"Adauga Eveniment"),o.qZA()()()),2&m&&(o.xp6(5),o.Q6J("formGroup",C.eventForm),o.xp6(45),o.Q6J("disabled",C.eventForm.invalid))},dependencies:[tn._Y,tn.Fj,tn.JJ,tn.JL,tn.Q7,tn.sg,tn.u],styles:['.form-container[_ngcontent-%COMP%]{max-width:600px;margin:100px auto 0;padding:50px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;color:#fff;border:none;border-radius:4px;cursor:pointer}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}']})}return v})();var Xs=k(5861),nu=k(8963),ga=k.n(nu);function ru(v,h){if(1&v&&(o.TgZ(0,"option",33),o._uU(1),o.qZA()),2&v){const l=h.$implicit;o.Q6J("value",l),o.xp6(1),o.Oqu(l)}}function qu(v,h){if(1&v&&(o.TgZ(0,"div",38),o._UZ(1,"div",39),o.qZA()),2&v){const l=o.oxw().$implicit;o.xp6(1),o.Udp("width",l.progress,"%")}}function Gu(v,h){if(1&v){const l=o.EpF();o.TgZ(0,"div",34),o._UZ(1,"img",35),o.YNc(2,qu,2,2,"div",36),o.TgZ(3,"button",37),o.NdJ("click",function(){const $=o.CHM(l).$implicit,fe=o.oxw();return o.KtG(fe.removeImage($))}),o._uU(4,"X"),o.qZA()()}if(2&v){const l=h.$implicit;o.xp6(1),o.s9C("alt",l.name),o.Q6J("src",l.url,o.LSH),o.xp6(1),o.Q6J("ngIf",void 0!==l.progress)}}let Xd=(()=>{class v{constructor(l,m,C,$){this.fb=l,this.offersService=m,this.imageUploadService=C,this.router=$,this.offerTypes=[],this.images=[],this.imageUploadStatus={},this.offerId="",this.offer={Title:"",Company_Name:"",Contact_Name:"",Phone_Number:"",Email:"",Description:"",Price:"",Location:"",Website:"",OfferType:"",Community_Sponsor:!1,Date_Created:"",Date_Updated:"",Hours:{},Images:[],id:"",Facebook:"",Instagram:"",Filled:!1,Approved:!1,ApprovedDate:""},this.offerForm=this.fb.group({Title:["",tn.kI.required],Company_Name:[""],Contact_Name:["",tn.kI.required],Phone_Number:[""],Email:["",[tn.kI.email]],Location:[""],Website:[""],Facebook:[""],Instagram:[""],Description:["",tn.kI.required],Price:[""],Images:[],Filled:!1,Date_Created:[""],ApprovedDate:[""],OfferType:[""],Community_Sponsor:!1})}ngOnInit(){this.fetchOfferTypes(),this.offerId=this.offersService.generateOfferId()}onFileSelected(l){var m=this;return(0,Xs.Z)(function*(){const C=l.target.files;for(let $=0;$<C.length;$++){const fe=C[$],Oe=yield m.resizeImage(fe);m.imageUploadStatus[fe.name]="Uploading...";const at={name:fe.name,url:"",file:fe,progress:0};m.images.push(at),m.imageUploadService.uploadOfferImage(Oe,m.offerId).subscribe({next:Tt=>{"string"==typeof Tt?(at.url=Tt,m.offer.Images.push(Tt),m.imageUploadStatus[fe.name]="Uploaded"):at.progress=Tt},error:Tt=>{console.error("Image upload failed: ",Tt),m.imageUploadStatus[fe.name]="Failed to upload"}})}})()}removeImage(l){this.images=this.images.filter(m=>m!==l),this.offer.Images=this.offer.Images.filter(m=>m!==l.url),this.imageUploadService.deleteOfferImage(l.url).subscribe(()=>{this.offersService.updateOffer(this.offerId,this.offer).subscribe()})}fetchOfferTypes(){this.offersService.getAllOfferTypes().subscribe(l=>{this.offerTypes=l})}onSubmit(){this.offerForm.valid&&(this.offer.Title=this.offerForm.value.Title,this.offer.Phone_Number=this.offerForm.value.Phone_Number,this.offer.Price=this.offerForm.value.Price,this.offer.Community_Sponsor=this.offerForm.value.Community_Sponsor,this.offer.Company_Name=this.offerForm.value.Company_Name,this.offer.Contact_Name=this.offerForm.value.Contact_Name,this.offer.Website=this.offerForm.value.Website,this.offer.Email=this.offerForm.value.Email,this.offer.Location=this.offerForm.value.Location,this.offer.OfferType=this.offerForm.value.OfferType,this.offer.Description=this.offerForm.value.Description,this.offer.Date_Created=(new Date).toISOString(),this.offer.Date_Updated=(new Date).toISOString(),this.offersService.addOfferWithId(this.offer,this.offerId).subscribe(()=>{this.router.navigate(["/offers"])}))}resizeImage(l){return(0,Xs.Z)(function*(){const m=ga()(),C=new Image;return C.src=URL.createObjectURL(l),new Promise(($,fe)=>{C.onload=(0,Xs.Z)(function*(){const Oe=document.createElement("canvas"),sn=(Oe.getContext("2d"),Math.min(1024/C.width,1024/C.height));Oe.width=C.width*sn,Oe.height=C.height*sn;try{yield m.resize(C,Oe),Oe.toBlob(vn=>{if(vn){const Er=new File([vn],l.name,{type:l.type});$(Er)}else fe(new Error("Image resizing failed"))},l.type)}catch(vn){fe(vn)}}),C.onerror=Oe=>fe(Oe)})})()}static#e=this.\u0275fac=function(m){return new(m||v)(o.Y36(tn.qu),o.Y36(fs.b),o.Y36(Oc.K),o.Y36(Nr.F0))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-add-offers"]],decls:63,vars:4,consts:[[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","OfferType"],["id","OfferType","id","OfferType","formControlName","OfferType","required","",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","Title",1,"required"],["type","text","id","Title","formControlName","Title","required","","placeholder","Titlu"],["for","Company_Name"],["type","text","id","Company_Name","formControlName","Company_Name","required","","placeholder","Numele Companiei"],["for","Contact_Name",1,"required"],["type","text","id","Contact_Name","formControlName","Contact_Name","required","","placeholder","Persoana de contact"],["for","Phone_Number"],["type","text","id","Phone_Number","formControlName","Phone_Number","placeholder","Numar de telefon"],["for","Email",1,"required"],["type","email","id","Email","formControlName","Email","required","","placeholder","Adresa de Email"],["for","Facebook"],["type","text","id","Facebook","formControlName","Facebook","placeholder","Adresa de Facebook"],["for","Instagram"],["type","text","id","Instagram","formControlName","Instagram","placeholder","@instaHandle.."],["for","Description",1,"required"],["id","Description","formControlName","Description","required","","placeholder","Descriere"],["for","Price"],["type","text","id","Price","formControlName","Price","placeholder","Pret"],["for","Location"],["type","text","id","Location","formControlName","Location","placeholder","Locatie"],["for","Website"],["type","url","id","Website","formControlName","Website","placeholder","Pagina de Web"],["for","Images"],["id","Images","type","file","multiple","",1,"form-control-file",3,"change"],[1,"image-preview-container"],["class","image-preview",4,"ngFor","ngForOf"],["type","submit",3,"disabled"],[3,"value"],[1,"image-preview"],[1,"img-thumbnail",3,"src","alt"],["class","progress",4,"ngIf"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"progress"],[1,"progress-bar"]],template:function(m,C){1&m&&(o.TgZ(0,"div",0)(1,"h2"),o._uU(2," Ofertele ad\u0103ugate prin aceast\u0103 pagin\u0103 sunt supuse aprob\u0103rii administratorului \xeenainte de a fi afi\u0219ate \xeen list\u0103."),o.qZA(),o.TgZ(3,"h3"),o._uU(4,"V\u0103 rug\u0103m s\u0103 introduce\u021bi cel pu\u021bin o metod\u0103 de contact."),o.qZA(),o.TgZ(5,"form",1),o.NdJ("ngSubmit",function(){return C.onSubmit()}),o.TgZ(6,"div",2)(7,"label",3),o._uU(8,"Tip de oferta"),o.qZA(),o.TgZ(9,"select",4),o.YNc(10,ru,2,2,"option",5),o.qZA()(),o.TgZ(11,"div",2)(12,"label",6),o._uU(13,"Titlu:"),o.qZA(),o._UZ(14,"input",7),o.qZA(),o.TgZ(15,"div",2)(16,"label",8),o._uU(17,"Numele Companiei:"),o.qZA(),o._UZ(18,"input",9),o.qZA(),o.TgZ(19,"div",2)(20,"label",10),o._uU(21,"Numele persoanei de contact:"),o.qZA(),o._UZ(22,"input",11),o.qZA(),o.TgZ(23,"div",2)(24,"label",12),o._uU(25,"Numar de telefon:"),o.qZA(),o._UZ(26,"input",13),o.qZA(),o.TgZ(27,"div",2)(28,"label",14),o._uU(29,"Adresa de Email:"),o.qZA(),o._UZ(30,"input",15),o.qZA(),o.TgZ(31,"div",2)(32,"label",16),o._uU(33,"Adresa de Facebook:"),o.qZA(),o._UZ(34,"input",17),o.qZA(),o.TgZ(35,"div",2)(36,"label",18),o._uU(37,"Instagram:(@cont_de_instagram)"),o.qZA(),o._UZ(38,"input",19),o.qZA(),o.TgZ(39,"div",2)(40,"label",20),o._uU(41,"Descriere:"),o.qZA(),o._UZ(42,"textarea",21),o.qZA(),o.TgZ(43,"div",2)(44,"label",22),o._uU(45,"Pret:"),o.qZA(),o._UZ(46,"input",23),o.qZA(),o.TgZ(47,"div",2)(48,"label",24),o._uU(49,"Locatie:"),o.qZA(),o._UZ(50,"input",25),o.qZA(),o.TgZ(51,"div",2)(52,"label",26),o._uU(53,"Website:"),o.qZA(),o._UZ(54,"input",27),o.qZA(),o.TgZ(55,"div",2)(56,"label",28),o._uU(57,"Images"),o.qZA(),o.TgZ(58,"input",29),o.NdJ("change",function(fe){return C.onFileSelected(fe)}),o.qZA(),o.TgZ(59,"div",30),o.YNc(60,Gu,5,3,"div",31),o.qZA()(),o.TgZ(61,"button",32),o._uU(62,"Adauga Oferta"),o.qZA()()()),2&m&&(o.xp6(5),o.Q6J("formGroup",C.offerForm),o.xp6(5),o.Q6J("ngForOf",C.offerTypes),o.xp6(50),o.Q6J("ngForOf",C.images),o.xp6(1),o.Q6J("disabled",C.offerForm.invalid))},dependencies:[U.sg,U.O5,tn._Y,tn.YN,tn.Kr,tn.Fj,tn.EJ,tn.JJ,tn.JL,tn.Q7,tn.sg,tn.u],styles:['.form-container[_ngcontent-%COMP%]{max-width:600px;margin:100px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;color:#fff;border:none;border-radius:4px;cursor:pointer;background-color:var(--button-color)}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}.offer-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.offer-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em;margin:0}.company-name[_ngcontent-%COMP%]{font-size:1.2em;color:#555}.contact-name[_ngcontent-%COMP%], .contact-info[_ngcontent-%COMP%], .location[_ngcontent-%COMP%]{font-size:1em;color:#777}.offer-images[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;margin-bottom:20px}.offer-thumbnail[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:cover;border-radius:5px;box-shadow:0 0 10px #0000001a}.offer-details[_ngcontent-%COMP%]{text-align:left}.description[_ngcontent-%COMP%]{font-size:1.2em;margin-bottom:15px}.price[_ngcontent-%COMP%]{font-size:1.1em;font-weight:700;margin-bottom:10px}.website[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.website[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.offer-type[_ngcontent-%COMP%], .date-created[_ngcontent-%COMP%], .date-updated[_ngcontent-%COMP%]{font-size:.9em;color:#555;margin-bottom:5px}@media (max-width: 600px){.offer-container[_ngcontent-%COMP%]{padding:15px}.offer-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5em}.company-name[_ngcontent-%COMP%], .contact-name[_ngcontent-%COMP%], .contact-info[_ngcontent-%COMP%], .location[_ngcontent-%COMP%], .description[_ngcontent-%COMP%], .price[_ngcontent-%COMP%], .offer-type[_ngcontent-%COMP%], .date-created[_ngcontent-%COMP%], .date-updated[_ngcontent-%COMP%]{font-size:1em}.offer-thumbnail[_ngcontent-%COMP%]{width:80px;height:80px}}.image-preview[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.image-preview[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:relative;margin-right:10px;margin-bottom:10px}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100px;max-height:100px;border-radius:4px;border:1px solid #ddd}.image-preview[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:0;right:0;background:rgba(0,0,0,.5);color:#fff;border:none;border-radius:50%;padding:5px;cursor:pointer}']})}return v})();class eh{constructor(){this.Name="",this.Phone_Number="",this.Email="",this.Description="",this.Website="",this.Facebook="",this.Instagram="",this.Date_Created="",this.Date_Updated="",this.Image="",this.Approved=!1,this.OpenHour="",this.CloseHour="",this.Hours={}}}class af extends eh{constructor(){super(...arguments),this.id=""}}function Nc(v,h){if(1&v&&(o.TgZ(0,"option",35),o._uU(1),o.qZA()),2&v){const l=h.$implicit;o.Q6J("value",l),o.xp6(1),o.Oqu(l)}}function Wu(v,h){if(1&v&&(o.TgZ(0,"option",35),o._uU(1),o.qZA()),2&v){const l=h.$implicit;o.Q6J("value",l),o.xp6(1),o.Oqu(l)}}function cf(v,h){if(1&v&&(o.TgZ(0,"option",35),o._uU(1),o.qZA()),2&v){const l=h.$implicit;o.Q6J("value",l),o.xp6(1),o.Oqu(l)}}function kc(v,h){if(1&v&&(o.TgZ(0,"div",36)(1,"h2"),o._uU(2),o.qZA(),o.TgZ(3,"label",37),o._uU(4,"Open:"),o.qZA(),o.TgZ(5,"select",38),o.YNc(6,Wu,2,2,"option",8),o.qZA(),o.TgZ(7,"label",37),o._uU(8,"Close:"),o.qZA(),o.TgZ(9,"select",39),o.YNc(10,cf,2,2,"option",8),o.qZA()()),2&v){const l=h.$implicit,m=o.oxw();o.Q6J("formGroupName",l),o.xp6(2),o.Oqu(l),o.xp6(1),o.MGl("for","",l,"-open"),o.xp6(3),o.Q6J("ngForOf",m.hoursOptions),o.xp6(1),o.MGl("for","",l,"-close"),o.xp6(3),o.Q6J("ngForOf",m.hoursOptions)}}const th=function(){return["Luni","Marti","Miercuri","Joi","Vineri","Sambata","Duminica"]};let Fa=(()=>{class v{constructor(l,m,C,$,fe){this.fb=l,this.route=m,this.router=C,this.servicesService=$,this.imageUploadService=fe,this.serviceId=null,this.serviceTypes=[],this.selectedFile=null,this.serviceObj=new af,this.oldImage=null,this.hoursOptions=["Closed","7:00 AM","8:00 AM","9:00 AM","10:00 AM","11:00 AM","12:00 PM","1:00 PM","2:00 PM","3:00 PM","4:00 PM","5:00 PM","6:00 PM","7:00 PM","8:00 PM","9:00 PM"],this.serviceForm=this.fb.group({Name:["",tn.kI.required],Email:["",[tn.kI.email]],Phone_Number:[""],Website:[""],Facebook:[""],Instagram:[""],Image:[""],Description:[""],Date_Created:[""],Community_Sponsor:[!1],Service_Type:["",tn.kI.required],Hours:this.fb.group({Luni:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Marti:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Miercuri:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Joi:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Vineri:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Sambata:this.fb.group({open:["Closed"],close:["Closed"]}),Duminica:this.fb.group({open:["Closed"],close:["Closed"]})})})}onFileSelected(l){this.selectedFile=l.target.files[0]}ngOnInit(){this.serviceId=this.route.snapshot.paramMap.get("id"),console.log(this.serviceId),this.servicesService.getServiceById(this.serviceId).subscribe(l=>{this.serviceForm.patchValue({Id:this.serviceId,Name:l?.Name,Email:l?.Email?l.Email:"",Phone_Number:l?.Phone_Number?l.Phone_Number:"",Service_Type:l?.Service_Type,Website:l?.Website?l.Website:"",Facebook:l?.Facebook?l?.Facebook:"",Instagram:l?.Instagram?l?.Instagram:"",Description:l?.Description,Date_Created:l?.Date_Created,Date_Updated:l?.Date_Updated,Approved:!0,Hours:l?.Hours}),console.log(this.serviceForm.value),l?.Image&&(this.oldImage=l?.Image)}),this.fetchServiceTypes()}fetchServiceTypes(){this.servicesService.getAllServiceTypes().subscribe(l=>{this.serviceTypes=l})}onSubmit(){this.serviceForm.valid&&(this.serviceObj.id=this.serviceId?this.serviceId:"0",this.serviceObj.Name=this.serviceForm.value.Name,this.serviceObj.Phone_Number=this.serviceForm.value.Phone_Number,this.serviceObj.Service_Type=this.serviceForm.value.Service_Type,this.serviceObj.Community_Sponsor=!1,this.serviceObj.Email=this.serviceForm.value.Email,this.serviceObj.Website=this.serviceForm.value.Website,this.serviceObj.Facebook=this.serviceForm.value.Facebook,this.serviceObj.Instagram=this.serviceForm.value.Instagram,this.serviceObj.Description=this.serviceForm.value.Description,this.serviceObj.Date_Created=this.serviceForm.value.Date_Created,this.serviceObj.Date_Updated=this.serviceForm.value.Date_Updated,this.serviceObj.Image=this.serviceForm.value.Image,this.serviceObj.Hours=this.serviceForm.value.Hours,this.serviceObj.Approved=!0,this.selectedFile?(console.log(this.selectedFile),this.imageUploadService.uploadImage(this.selectedFile,"serviceImages").subscribe(l=>{this.serviceObj.Image=l,this.saveService()})):(this.oldImage&&(this.serviceObj.Image=this.oldImage),this.saveService()))}saveService(){let l=this.route.snapshot.paramMap.get("id");this.servicesService.updateService(l,this.serviceObj).subscribe(m=>{console.log("Service updated successfully  ID:",m?.id),this.serviceForm.reset(),this.router.navigate(["/services",m?.id])})}static#e=this.\u0275fac=function(m){return new(m||v)(o.Y36(tn.qu),o.Y36(Nr.gz),o.Y36(Nr.F0),o.Y36(Jl.r),o.Y36(Oc.K))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-edit-services"]],decls:61,vars:6,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","Service_Type",1,"required"],["id","Service_Type","formControlName","Service_Type","required",""],[3,"value",4,"ngFor","ngForOf"],["for","Name",1,"required"],["id","Name","placeholder","Ion Dumitrescu","formControlName","Name","required",""],["for","Email"],["id","Email","type","Email","placeholder","info@website.com","formControlName","Email"],["for","Phone_Number"],["id","Phone_Number","type","text","placeholder","(425) 444-5555","formControlName","Phone_Number"],["for","Website"],["id","Website","type","text","placeholder","https://www.website.com","formControlName","Website"],["for","Facebook"],["id","Facebook","type","text","placeholder","https://www.facebook.com/yourname","formControlName","Facebook"],["for","Instagram"],["id","Instagram","type","text","placeholder","@instaHandle..","formControlName","Instagram"],["for","Description",1,"required"],["id","Description","formControlName","Description"],["for","Hours"],["formGroupName","Hours"],[1,"day-container"],["class","day",3,"formGroupName",4,"ngFor","ngForOf"],["for","Image"],[1,"service-card-image-container"],[1,"service-card-image",3,"src"],["type","file","formControlName","Image",3,"change"],["type","submit",3,"disabled"],[2,"display","none"],["for","Approved"],["id","Approved","formControlName","Approved"],[3,"value"],[1,"day",3,"formGroupName"],[3,"for"],["formControlName","open"],["formControlName","close"]],template:function(m,C){1&m&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1"),o._uU(3,"Lista de Servicii"),o.qZA()(),o.TgZ(4,"div",2)(5,"h2"),o._uU(6,"Adaugati serviciile oferite pentru membrii comunit\u0103\u021bii"),o.qZA()()(),o.TgZ(7,"div",3)(8,"form",4),o.NdJ("ngSubmit",function(){return C.onSubmit()}),o.TgZ(9,"div",5)(10,"label",6),o._uU(11,"Categoria de serviciului:"),o.qZA(),o.TgZ(12,"select",7),o.YNc(13,Nc,2,2,"option",8),o.qZA()(),o.TgZ(14,"div",5)(15,"label",9),o._uU(16,"Nume:"),o.qZA(),o._UZ(17,"input",10),o.qZA(),o.TgZ(18,"div",5)(19,"label",11),o._uU(20,"Adresa Email:"),o.qZA(),o._UZ(21,"input",12),o.qZA(),o.TgZ(22,"div",5)(23,"label",13),o._uU(24,"Numar de telefon:"),o.qZA(),o._UZ(25,"input",14),o.qZA(),o.TgZ(26,"div",5)(27,"label",15),o._uU(28,"Pagina Web:"),o.qZA(),o._UZ(29,"input",16),o.qZA(),o.TgZ(30,"div",5)(31,"label",17),o._uU(32,"Pagina Facebook:"),o.qZA(),o._UZ(33,"input",18),o.qZA(),o.TgZ(34,"div",5)(35,"label",19),o._uU(36,"Instagram:(@cont_de_instagram)"),o.qZA(),o._UZ(37,"input",20),o.qZA(),o.TgZ(38,"div",5)(39,"label",21),o._uU(40,"Descriere a serviciile oferite:"),o.qZA(),o._UZ(41,"textarea",22),o.qZA(),o.TgZ(42,"div",5)(43,"label",23),o._uU(44,"Orele de contactare:"),o.qZA(),o.TgZ(45,"div",24)(46,"div",25),o.YNc(47,kc,11,6,"div",26),o.qZA()()(),o.TgZ(48,"div",5)(49,"label",27),o._uU(50,"Imagine:"),o.qZA(),o.TgZ(51,"div",28),o._UZ(52,"img",29),o.qZA(),o.TgZ(53,"input",30),o.NdJ("change",function(fe){return C.onFileSelected(fe)}),o.qZA()(),o.TgZ(54,"button",31),o._uU(55,"Salveaza Serviciu"),o.qZA(),o.TgZ(56,"div",32)(57,"div")(58,"label",33),o._uU(59,"Approved:"),o.qZA(),o._UZ(60,"input",34),o.qZA()()()()),2&m&&(o.xp6(8),o.Q6J("formGroup",C.serviceForm),o.xp6(5),o.Q6J("ngForOf",C.serviceTypes),o.xp6(34),o.Q6J("ngForOf",o.DdM(5,th)),o.xp6(5),o.Q6J("src",C.oldImage,o.LSH),o.xp6(2),o.Q6J("disabled",C.serviceForm.invalid))},dependencies:[U.sg,tn._Y,tn.YN,tn.Kr,tn.Fj,tn.EJ,tn.JJ,tn.JL,tn.Q7,tn.sg,tn.u,tn.x0],styles:['.hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.form-container[_ngcontent-%COMP%]{max-width:600px;margin:50px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.day-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.day[_ngcontent-%COMP%]{width:20%;padding:10px;box-sizing:border-box}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;border:none;padding:10px 20px;font-size:16px;border-radius:5px;cursor:pointer;margin:10px 0;transition:background-color .3s ease}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}button[_ngcontent-%COMP%]:hover, select[_ngcontent-%COMP%]:hover{background-color:#0056b3}button[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #007bff40}.service-card-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.service-card-image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover;border:2px solid #ddd}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}']})}return v})();var iu=k(2380),ea=k(4626);function yl(v,h){if(1&v&&(o.TgZ(0,"div",18),o._UZ(1,"img",19),o.qZA()),2&v){const l=h.$implicit,m=h.index,C=o.oxw();o.ekj("active",m===C.currentIndex),o.xp6(1),o.MGl("alt","Offer Image ",m+1,""),o.Q6J("src",l,o.LSH)}}function El(v,h){if(1&v&&(o.TgZ(0,"div",20)(1,"strong"),o._uU(2,"Creata pe data de:"),o.qZA(),o._uU(3),o.ALo(4,"date"),o._UZ(5,"br"),o.TgZ(6,"strong"),o._uU(7,"Modificata pe data de:"),o.qZA(),o._uU(8),o.ALo(9,"date"),o.qZA()),2&v){const l=o.oxw();o.xp6(3),o.hij(" ",o.xi3(4,2,null==l.offer?null:l.offer.Date_Created,"shortDate"),""),o.xp6(5),o.hij(" ",o.xi3(9,5,null==l.offer?null:l.offer.Date_Updated,"shortDate")," ")}}let Qu=(()=>{class v{constructor(l,m,C,$){this.route=l,this.router=m,this.offerService=C,this.authService=$,this.images=[],this.currentIndex=0,this.isLoggedIn$=this.authService.isLoggedIn()}ngOnInit(){const l=this.route.snapshot.paramMap.get("id");l&&this.offerService.getOfferById(l).subscribe(m=>{this.offer=m,this.offer&&this.offer.Images&&(this.images=this.offer.Images.filter(C=>!!C)),this.initCarousel()})}goBack(){this.router.navigate(["/offers"])}initCarousel(){setTimeout(()=>{const l=document.querySelectorAll(".carousel-item");l.length>0&&l[0].classList.add("active")},0)}prevSlide(){this.images.length&&(this.currentIndex=this.currentIndex>0?this.currentIndex-1:this.images.length-1,this.updateSlide())}nextSlide(){this.images.length&&(this.currentIndex=(this.currentIndex+1)%this.images.length,this.updateSlide())}updateSlide(){document.querySelectorAll(".carousel-item").forEach((m,C)=>{m.classList.toggle("active",C===this.currentIndex)})}static#e=this.\u0275fac=function(m){return new(m||v)(o.Y36(Nr.gz),o.Y36(Nr.F0),o.Y36(fs.b),o.Y36(ea.e))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-offer-detail"]],decls:70,vars:23,consts:[[1,"offer-details-container"],[1,"offer-header"],[1,"offer-company"],[1,"offer-carousel-container"],[1,"carousel"],[1,"carousel-inner"],["class","carousel-item",3,"active",4,"ngFor","ngForOf"],[1,"carousel-control","prev",3,"click"],[1,"carousel-control","next",3,"click"],[1,"offer-content"],[1,"offer-info"],["target","_blank",3,"href"],[3,"innerHTML"],[1,"offer-description"],[1,"offer-hours"],[1,"offer-sponsor"],["class","offer-dates",4,"ngIf"],[1,"return-button",3,"click"],[1,"carousel-item"],[3,"src","alt"],[1,"offer-dates"]],template:function(m,C){1&m&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1"),o._uU(3),o.qZA(),o.TgZ(4,"div",2)(5,"strong"),o._uU(6,"Compania:"),o.qZA(),o._uU(7),o.qZA()(),o.TgZ(8,"div",3)(9,"div",4)(10,"div",5),o.YNc(11,yl,2,4,"div",6),o.qZA(),o.TgZ(12,"a",7),o.NdJ("click",function(){return C.prevSlide()}),o._uU(13,"\u276e"),o.qZA(),o.TgZ(14,"a",8),o.NdJ("click",function(){return C.nextSlide()}),o._uU(15,"\u276f"),o.qZA()()(),o.TgZ(16,"div",9)(17,"div",10)(18,"div")(19,"strong"),o._uU(20,"Persoana de contact:"),o.qZA(),o._uU(21),o.qZA(),o.TgZ(22,"div")(23,"strong"),o._uU(24,"Numar de telefon:"),o.qZA(),o._uU(25),o.ALo(26,"phoneNumber"),o.qZA(),o.TgZ(27,"div")(28,"strong"),o._uU(29,"Adresa de Email:"),o.qZA(),o._uU(30),o.qZA(),o.TgZ(31,"div")(32,"strong"),o._uU(33,"Pagina Web:"),o.qZA(),o.TgZ(34,"a",11),o._uU(35),o.qZA()(),o.TgZ(36,"div")(37,"strong"),o._uU(38,"Facebook:"),o.qZA(),o._UZ(39,"span",12),o.ALo(40,"urlHelper"),o.qZA(),o.TgZ(41,"div")(42,"strong"),o._uU(43,"Instagram:"),o.qZA(),o._UZ(44,"span",12),o.ALo(45,"instagramHandle"),o.qZA(),o.TgZ(46,"div")(47,"strong"),o._uU(48,"Locatie:"),o.qZA(),o._uU(49),o.qZA(),o.TgZ(50,"div")(51,"strong"),o._uU(52,"Tip de oferta:"),o.qZA(),o._uU(53),o.qZA()(),o.TgZ(54,"div",13)(55,"strong"),o._uU(56,"Detalii:"),o.qZA(),o._uU(57),o.qZA(),o.TgZ(58,"div",14)(59,"strong"),o._uU(60,"Ore:"),o.qZA(),o._UZ(61,"ul"),o.qZA(),o.TgZ(62,"div",15)(63,"strong"),o._uU(64,"Sponsor:"),o.qZA(),o._uU(65),o.qZA(),o.YNc(66,El,10,8,"div",16),o.ALo(67,"async"),o.TgZ(68,"button",17),o.NdJ("click",function(){return C.goBack()}),o._uU(69,"Inapoi la Oferte"),o.qZA()()()),2&m&&(o.xp6(3),o.Oqu(null==C.offer?null:C.offer.Title),o.xp6(4),o.hij(" ",null==C.offer?null:C.offer.Company_Name," "),o.xp6(4),o.Q6J("ngForOf",C.images),o.xp6(10),o.hij(" ",null==C.offer?null:C.offer.Contact_Name,""),o.xp6(4),o.hij(" ",o.lcZ(26,15,null==C.offer?null:C.offer.Phone_Number),""),o.xp6(5),o.hij(" ",null==C.offer?null:C.offer.Email,""),o.xp6(4),o.Q6J("href",null==C.offer?null:C.offer.Website,o.LSH),o.xp6(1),o.Oqu(null==C.offer?null:C.offer.Website),o.xp6(4),o.Q6J("innerHTML",o.lcZ(40,17,null==C.offer?null:C.offer.Facebook),o.oJD),o.xp6(5),o.Q6J("innerHTML",o.lcZ(45,19,null==C.offer?null:C.offer.Instagram),o.oJD),o.xp6(5),o.hij(" ",null==C.offer?null:C.offer.Location,""),o.xp6(4),o.hij(" ",null==C.offer?null:C.offer.OfferType,""),o.xp6(4),o.hij(" ",null==C.offer?null:C.offer.Description," "),o.xp6(8),o.hij(" ",null!=C.offer&&C.offer.Community_Sponsor?"Yes":"No"," "),o.xp6(1),o.Q6J("ngIf",o.lcZ(67,21,C.isLoggedIn$)))},dependencies:[U.sg,U.O5,U.Ov,U.uU,$u,Io,Js],styles:[".offer-details-container[_ngcontent-%COMP%]{padding:16px;margin:100px auto;max-width:1024px;background-color:#f9f9f9;border-radius:10px;box-shadow:0 2px 4px #0000001a}.offer-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;font-size:1.7rem}.offer-carousel-container[_ngcontent-%COMP%]{position:relative;width:100%;overflow:hidden;margin-bottom:20px}.carousel[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;transition:transform .5s ease-in-out}.carousel-inner[_ngcontent-%COMP%]{display:flex;width:100%}.carousel-item[_ngcontent-%COMP%]{min-width:100%;transition:transform .5s ease-in-out;opacity:0;display:none}.carousel-item.active[_ngcontent-%COMP%]{opacity:1;display:block}.carousel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.carousel-control[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background-color:#00000080;color:#fff;border:none;padding:10px;cursor:pointer;font-size:18px}.carousel-control.prev[_ngcontent-%COMP%]{left:10px}.carousel-control.next[_ngcontent-%COMP%]{right:10px}.offer-content[_ngcontent-%COMP%]{margin-top:20px}.offer-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:10px}.offer-description[_ngcontent-%COMP%], .offer-hours[_ngcontent-%COMP%], .offer-sponsor[_ngcontent-%COMP%], .offer-dates[_ngcontent-%COMP%]{margin-top:20px}.return-button[_ngcontent-%COMP%]{display:block;margin-top:20px;padding:10px 20px;background-color:var(--button-color);color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.return-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return v})();function nh(v,h){1&v&&(o.TgZ(0,"span",17),o._uU(1,"\u2605"),o.qZA())}function lf(v,h){if(1&v&&(o.TgZ(0,"div")(1,"label",18),o._uU(2,"Nr Telefon:"),o.qZA(),o._uU(3),o.ALo(4,"phoneNumber"),o.qZA()),2&v){const l=o.oxw();o.xp6(3),o.hij(" ",o.lcZ(4,1,l.service.Phone_Number),"")}}function Fc(v,h){if(1&v&&(o.TgZ(0,"div")(1,"label",18),o._uU(2,"Email:"),o.qZA(),o._uU(3),o.qZA()),2&v){const l=o.oxw();o.xp6(3),o.hij(" ",l.service.Email,"")}}function Al(v,h){if(1&v&&(o.TgZ(0,"div")(1,"label",18),o._uU(2,"Website:"),o.qZA(),o._UZ(3,"span",19),o.ALo(4,"urlHelper"),o.qZA()),2&v){const l=o.oxw();o.xp6(3),o.Q6J("innerHTML",o.lcZ(4,1,l.service.Website),o.oJD)}}function rh(v,h){if(1&v&&(o.TgZ(0,"div")(1,"label",18),o._uU(2,"Facebook:"),o.qZA(),o._UZ(3,"span",19),o.ALo(4,"urlHelper"),o.qZA()),2&v){const l=o.oxw();o.xp6(3),o.Q6J("innerHTML",o.lcZ(4,1,l.service.Facebook),o.oJD)}}function uf(v,h){if(1&v&&(o.TgZ(0,"div")(1,"label",18),o._uU(2,"Instagram:"),o.qZA(),o._UZ(3,"span",19),o.ALo(4,"instagramHandle"),o.qZA()),2&v){const l=o.oxw();o.xp6(3),o.Q6J("innerHTML",o.lcZ(4,1,l.service.Instagram),o.oJD)}}function T(v,h){if(1&v&&(o.TgZ(0,"div",20)(1,"h2"),o._uU(2,"Orele pentru contactare"),o.qZA(),o.TgZ(3,"ul")(4,"li")(5,"label",21),o._uU(6,"Luni:"),o.qZA(),o._uU(7),o.qZA(),o.TgZ(8,"li")(9,"label",21),o._uU(10,"Marti:"),o.qZA(),o._uU(11),o.qZA(),o.TgZ(12,"li")(13,"label",21),o._uU(14,"Miercuri:"),o.qZA(),o._uU(15),o.qZA(),o.TgZ(16,"li")(17,"label",21),o._uU(18,"Joi:"),o.qZA(),o._uU(19),o.qZA(),o.TgZ(20,"li")(21,"label",21),o._uU(22,"Vineri:"),o.qZA(),o._uU(23),o.qZA(),o.TgZ(24,"li")(25,"label",21),o._uU(26,"Sambata:"),o.qZA(),o._uU(27),o.qZA(),o.TgZ(28,"li")(29,"label",21),o._uU(30,"Duminica:"),o.qZA(),o._uU(31),o.qZA()()()),2&v){const l=o.oxw();o.xp6(7),o.AsE(" ",null==l.service.Hours.Luni?null:l.service.Hours.Luni.open," - ",null==l.service.Hours.Luni?null:l.service.Hours.Luni.close,""),o.xp6(4),o.AsE(" ",null==l.service.Hours.Marti?null:l.service.Hours.Marti.open," - ",null==l.service.Hours.Marti?null:l.service.Hours.Marti.close,""),o.xp6(4),o.AsE(" ",null==l.service.Hours.Miercuri?null:l.service.Hours.Miercuri.open," - ",null==l.service.Hours.Miercuri?null:l.service.Hours.Miercuri.close,""),o.xp6(4),o.AsE(" ",null==l.service.Hours.Joi?null:l.service.Hours.Joi.open," - ",null==l.service.Hours.Joi?null:l.service.Hours.Joi.close,""),o.xp6(4),o.AsE(" ",null==l.service.Hours.Vineri?null:l.service.Hours.Vineri.open," - ",null==l.service.Hours.Vineri?null:l.service.Hours.Vineri.close,""),o.xp6(4),o.AsE(" ",null==l.service.Hours.Sambata?null:l.service.Hours.Sambata.open," - ",null==l.service.Hours.Sambata?null:l.service.Hours.Sambata.close,""),o.xp6(4),o.AsE(" ",null==l.service.Hours.Duminica?null:l.service.Hours.Duminica.open," - ",null==l.service.Hours.Duminica?null:l.service.Hours.Duminica.close,"")}}function g(v,h){if(1&v){const l=o.EpF();o.TgZ(0,"button",22),o.NdJ("click",function(){o.CHM(l);const C=o.oxw();return o.KtG(C.navigateToEditService(C.service.id))}),o._uU(1,"Edit"),o.qZA()}}let y=(()=>{class v{constructor(l,m,C,$){this.route=l,this.servicesService=m,this.router=C,this.authService=$,this.service=new af,this.serviceId=null,this.isLoggedIn$=this.authService.isLoggedIn()}ngOnInit(){this.serviceId=this.route.snapshot.paramMap.get("id"),this.servicesService.getServiceById(this.serviceId).subscribe(l=>{l&&(this.service.Community_Sponsor=l?.Community_Sponsor??!1,this.service.Name=l.Name??"",this.service.Date_Created=l.Date_Created??"",this.service.Description=l.Description??"",this.service.Email=l.Email??"",this.service.Facebook=l.Facebook??"",this.service.Instagram=l.Instagram??"",this.service.Phone_Number=l.Phone_Number??"",this.service.Service_Type=l.Service_Type??"",this.service.Website=ka(l.Website)??"",this.service.Image=l.Image??"",this.service.Hours=l.Hours??{},this.serviceId&&(this.service.id=this.serviceId),console.log("Image",l?.Image),(""==l.Image||void 0===l.Image)&&(this.service.Image="https://firebasestorage.googleapis.com/v0/b/romaniinseattle.appspot.com/o/serviceImages%2FdafaultImage.jpg?alt=media&token=3b0787df-12f0-444a-a426-013843534f1e"))})}goBack(){this.router.navigate(["/services"])}navigateToEditService(l){this.router.navigate(["/edit-service",l])}static#e=this.\u0275fac=function(m){return new(m||v)(o.Y36(Nr.gz),o.Y36(Jl.r),o.Y36(Nr.F0),o.Y36(ea.e))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-service-detail"]],decls:33,vars:15,consts:[[1,"service-details-container"],[1,"service-header"],[1,"service-image"],[3,"src","alt"],[1,"service-info"],["class","sponsor-icon",4,"ngIf"],[1,"service-meta"],[1,"service-location"],[1,"service-bio"],[1,"service-content"],[1,"service-contact"],[1,"service-details"],[4,"ngIf"],["class","service-hours",4,"ngIf"],[1,"service-actions"],["class","editButton",3,"click",4,"ngIf"],[3,"click"],[1,"sponsor-icon"],[1,"service-details-label"],[3,"innerHTML"],[1,"service-hours"],[1,"service-hours-label"],[1,"editButton",3,"click"]],template:function(m,C){1&m&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2),o._UZ(3,"img",3),o.qZA(),o.TgZ(4,"div",4)(5,"h1"),o._uU(6),o.qZA(),o.YNc(7,nh,2,0,"span",5),o.TgZ(8,"div",6)(9,"div",7),o._uU(10),o.qZA()(),o.TgZ(11,"div",8)(12,"h2"),o._uU(13,"Detalii"),o.qZA(),o.TgZ(14,"p"),o._uU(15),o.qZA()()()(),o.TgZ(16,"div",9)(17,"div",10)(18,"h2"),o._uU(19,"Moduri de contactare"),o.qZA(),o.TgZ(20,"div",11),o.YNc(21,lf,5,3,"div",12),o.YNc(22,Fc,4,1,"div",12),o.YNc(23,Al,5,3,"div",12),o.YNc(24,rh,5,3,"div",12),o.YNc(25,uf,5,3,"div",12),o.qZA()(),o.YNc(26,T,32,14,"div",13),o.qZA(),o.TgZ(27,"div",14),o.YNc(28,g,2,0,"button",15),o.ALo(29,"async"),o._uU(30," \xa0 "),o.TgZ(31,"button",16),o.NdJ("click",function(){return C.goBack()}),o._uU(32,"Inapoi la Servicii"),o.qZA()()()),2&m&&(o.xp6(3),o.s9C("alt",C.service.Name),o.Q6J("src",C.service.Image,o.LSH),o.xp6(3),o.Oqu(C.service.Name),o.xp6(1),o.Q6J("ngIf",C.service.Community_Sponsor),o.xp6(3),o.Oqu(C.service.Service_Type.toLocaleUpperCase()),o.xp6(5),o.Oqu(C.service.Description),o.xp6(6),o.Q6J("ngIf",C.service.Phone_Number),o.xp6(1),o.Q6J("ngIf",C.service.Email),o.xp6(1),o.Q6J("ngIf",C.service.Website),o.xp6(1),o.Q6J("ngIf",C.service.Facebook),o.xp6(1),o.Q6J("ngIf",C.service.Instagram),o.xp6(1),o.Q6J("ngIf",C.service.Hours.Luni||C.service.Hours.Marti||C.service.Hours.Miercuri||C.service.Hours.Joi||C.service.Hours.Vineri),o.xp6(2),o.Q6J("ngIf",o.lcZ(29,13,C.isLoggedIn$)))},dependencies:[U.O5,U.Ov,$u,Io,Js],styles:[".forDebug[_ngcontent-%COMP%]{display:none}.service-details-container[_ngcontent-%COMP%]{padding:16px;margin:100px auto;max-width:1024px;background-color:#f9f9f9;border-radius:10px;box-shadow:0 2px 4px #0000001a}.service-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding-bottom:20px;border-bottom:1px solid #eee}.service-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:350px;height:350px;border-radius:50%;object-fit:cover;margin-right:20px}.service-info[_ngcontent-%COMP%]{flex:1}.service-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:2rem}.service-meta[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:10px}.sponsor-icon[_ngcontent-%COMP%]{color:gold;margin-right:10px}.service-location[_ngcontent-%COMP%], .service-date[_ngcontent-%COMP%]{margin-right:20px}.service-bio[_ngcontent-%COMP%]{margin-top:20px}.service-bio[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 10px;font-size:1.2rem}.service-bio[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.service-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:20px}.service-contact[_ngcontent-%COMP%], .service-hours[_ngcontent-%COMP%]{width:48%}.service-contact[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .service-hours[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:10px}.service-details-label[_ngcontent-%COMP%], .service-hours-label[_ngcontent-%COMP%]{font-weight:700;margin-right:10px;width:100px;display:inline-block}.service-details[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:.5rem}.service-hours[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.5rem}.service-actions[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.service-actions[_ngcontent-%COMP%]   .editButton[_ngcontent-%COMP%], .service-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;transition:background-color .3s}@media (max-width: 768px){.service-header[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.service-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:20px}.service-meta[_ngcontent-%COMP%]{justify-content:center}.service-content[_ngcontent-%COMP%]{flex-direction:column}.service-contact[_ngcontent-%COMP%], .service-hours[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.service-actions[_ngcontent-%COMP%]{text-align:center}}"]})}return v})(),M=(()=>{class v{constructor(l,m){this.authService=l,this.router=m,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).subscribe({next:()=>this.router.navigate(["/admin"]),error:l=>this.handleLoginError(l)})}handleLoginError(l){switch(l.code){case"auth/user-not-found":this.errorMessage="No user found with this email.";break;case"auth/wrong-password":this.errorMessage="Incorrect password.";break;case"auth/invalid-email":this.errorMessage="Invalid email format.";break;default:this.errorMessage="Login failed. Please try again."}console.log(this.errorMessage)}static#e=this.\u0275fac=function(m){return new(m||v)(o.Y36(ea.e),o.Y36(Nr.F0))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-login"]],decls:15,vars:2,consts:[[1,"login-container"],[1,"login-box"],[3,"submit"],[1,"input-group"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModel","ngModelChange"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModel","ngModelChange"],["type","submit"]],template:function(m,C){1&m&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h2"),o._uU(3,"Login"),o.qZA(),o.TgZ(4,"form",2),o.NdJ("submit",function(){return C.login()}),o.TgZ(5,"div",3)(6,"label",4),o._uU(7,"Email"),o.qZA(),o.TgZ(8,"input",5),o.NdJ("ngModelChange",function(fe){return C.email=fe}),o.qZA()(),o.TgZ(9,"div",3)(10,"label",6),o._uU(11,"Password"),o.qZA(),o.TgZ(12,"input",7),o.NdJ("ngModelChange",function(fe){return C.password=fe}),o.qZA()(),o.TgZ(13,"button",8),o._uU(14,"Login"),o.qZA()()()()),2&m&&(o.xp6(8),o.Q6J("ngModel",C.email),o.xp6(4),o.Q6J("ngModel",C.password))},dependencies:[tn._Y,tn.Fj,tn.JJ,tn.JL,tn.Q7,tn.On,tn.F],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:linear-gradient(to right,#007bff,#0056b3)}.login-box[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:8px;box-shadow:0 2px 4px #0000001a;width:300px;text-align:center}.login-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px;font-size:24px;color:#333}.input-group[_ngcontent-%COMP%]{margin-bottom:15px;text-align:left}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;color:#333}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;box-sizing:border-box}button[_ngcontent-%COMP%]{width:100%;padding:10px 20px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:16px;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return v})(),X=(()=>{class v{static#e=this.\u0275fac=function(m){return new(m||v)};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-test"]],decls:17,vars:0,consts:[[1,"hero"],[1,"container","hero-content"],[1,"hero-text"],["href","https://www.facebook.com/groups/seattlecommunity",1,"btn"],[1,"hero-image"],["src","https://via.placeholder.com/600x400","alt","Seattle"],[1,"community-description"],[1,"container"]],template:function(m,C){1&m&&(o.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1"),o._uU(4,"Welcome to Seattle Community"),o.qZA(),o.TgZ(5,"p"),o._uU(6,"Your go-to place for community services and events"),o.qZA(),o.TgZ(7,"a",3),o._uU(8,"Join our Facebook Group"),o.qZA()(),o.TgZ(9,"div",4),o._UZ(10,"img",5),o.qZA()()(),o.TgZ(11,"section",6)(12,"div",7)(13,"h2"),o._uU(14,"About Our Community"),o.qZA(),o.TgZ(15,"p"),o._uU(16,"Seattle Community is dedicated to bringing together local residents, businesses, and organizations to foster a sense of unity and support. We offer a variety of services, events, and opportunities to connect with others in the area. Join us and be a part of a vibrant and active community!"),o.qZA()()())},styles:[".hero[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#f5f5f5;padding:2rem 0}.hero-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.hero-text[_ngcontent-%COMP%]{flex:1}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1.5rem}.btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:.75rem 1.5rem;text-decoration:none;border-radius:5px;font-size:1rem}.hero-image[_ngcontent-%COMP%]{flex:1}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:5px}.community-description[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:2rem 0;text-align:center}.community-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.community-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin:0 auto;max-width:800px}"]})}return v})();function me(v,h){if(1&v&&(o.TgZ(0,"option",33),o._uU(1),o.qZA()),2&v){const l=h.$implicit;o.Q6J("value",l),o.xp6(1),o.Oqu(l)}}function rt(v,h){if(1&v&&(o.TgZ(0,"div",38),o._UZ(1,"div",39),o.qZA()),2&v){const l=o.oxw().$implicit;o.xp6(1),o.Udp("width",l.progress,"%")}}function Pt(v,h){if(1&v){const l=o.EpF();o.TgZ(0,"div",34),o._UZ(1,"img",35),o.YNc(2,rt,2,2,"div",36),o.TgZ(3,"button",37),o.NdJ("click",function(){const $=o.CHM(l).$implicit,fe=o.oxw();return o.KtG(fe.removeImage($))}),o._uU(4,"X"),o.qZA()()}if(2&v){const l=h.$implicit;o.xp6(1),o.s9C("alt",l.name),o.Q6J("src",l.url,o.LSH),o.xp6(1),o.Q6J("ngIf",void 0!==l.progress)}}let Jt=(()=>{class v{constructor(l,m,C,$,fe){this.fb=l,this.offersService=m,this.imageUploadService=C,this.router=$,this.route=fe,this.offerTypes=[],this.images=[],this.imageUploadStatus={},this.offerId="",this.offer={Title:"",Company_Name:"",Contact_Name:"",Phone_Number:"",Email:"",Description:"",Price:"",Location:"",Website:"",OfferType:"",Community_Sponsor:!1,Date_Created:"",Date_Updated:"",Hours:{},Images:[],id:"",Facebook:"",Instagram:"",Filled:!1,Approved:!1,ApprovedDate:""},this.offerForm=this.fb.group({Title:["",tn.kI.required],Company_Name:[""],Contact_Name:["",tn.kI.required],Phone_Number:[""],Email:["",[tn.kI.email]],Location:[""],Website:[""],Facebook:[""],Instagram:[""],Description:["",tn.kI.required],Price:[""],Images:[],Filled:!1,Date_Created:[""],ApprovedDate:[""],OfferType:[""],Community_Sponsor:!1})}ngOnInit(){this.route.paramMap.subscribe(l=>{this.offerId=l.get("id"),this.offersService.getOfferById(this.offerId).subscribe(m=>{m&&(this.offer=m,this.offerForm.patchValue(m),m.Images?this.images=m.Images.map(C=>({name:"",url:C})):m.Images=[])})}),this.fetchOfferTypes()}onFileSelected(l){var m=this;return(0,Xs.Z)(function*(){const C=l.target.files;for(let $=0;$<C.length;$++){const fe=C[$],Oe=yield m.resizeImage(fe);m.imageUploadStatus[fe.name]="Uploading...";const at={name:fe.name,url:"",file:fe,progress:0};m.images.push(at),m.imageUploadService.uploadOfferImage(Oe,m.offerId).subscribe({next:Tt=>{console.log("OnFileSelected/uploadImage/Next",m.offer.Images),"string"==typeof Tt?(at.url=Tt,m.offer.Images.push(Tt),console.log("Image uploaded to offer:",m.offer?.Images),m.imageUploadStatus[fe.name]="Uploaded"):at.progress=Tt},error:Tt=>{console.error("Image upload failed: ",Tt),m.imageUploadStatus[fe.name]="Failed to upload"}})}})()}removeImage(l){this.images=this.images.filter(m=>m!==l),this.offer.Images=this.offer.Images.filter(m=>m!==l.url),this.imageUploadService.deleteOfferImage(l.url).subscribe(()=>{this.offersService.updateOffer(this.offerId,this.offer).subscribe()})}fetchOfferTypes(){this.offersService.getAllOfferTypes().subscribe(l=>{this.offerTypes=l})}onSubmit(){this.offerForm.valid&&(this.offer.Title=this.offerForm.value.Title,this.offer.Phone_Number=this.offerForm.value.Phone_Number,this.offer.Price=this.offerForm.value.Price,this.offer.Community_Sponsor=this.offerForm.value.Community_Sponsor,this.offer.Company_Name=this.offerForm.value.Company_Name,this.offer.Contact_Name=this.offerForm.value.Contact_Name,this.offer.Website=this.offerForm.value.Website,this.offer.Email=this.offerForm.value.Email,this.offer.Location=this.offerForm.value.Location,this.offer.OfferType=this.offerForm.value.OfferType,this.offer.Description=this.offerForm.value.Description,this.offer.Date_Updated=(new Date).toISOString(),this.offer.Instagram=this.offerForm.value.Instagram,this.offer.Facebook=this.offerForm.value.Facebook,console.log("offer:",this.offer),this.offersService.updateOffer(this.offerId,this.offer).subscribe(()=>{this.router.navigate(["/offers"])}))}resizeImage(l){return(0,Xs.Z)(function*(){const m=ga()(),C=new Image;return C.src=URL.createObjectURL(l),new Promise(($,fe)=>{C.onload=(0,Xs.Z)(function*(){const Oe=document.createElement("canvas"),sn=(Oe.getContext("2d"),Math.min(1024/C.width,1024/C.height));Oe.width=C.width*sn,Oe.height=C.height*sn;try{yield m.resize(C,Oe),Oe.toBlob(vn=>{if(vn){const Er=new File([vn],l.name,{type:l.type});$(Er)}else fe(new Error("Image resizing failed"))},l.type)}catch(vn){fe(vn)}}),C.onerror=Oe=>fe(Oe)})})()}static#e=this.\u0275fac=function(m){return new(m||v)(o.Y36(tn.qu),o.Y36(fs.b),o.Y36(Oc.K),o.Y36(Nr.F0),o.Y36(Nr.gz))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-edit-oferte"]],decls:59,vars:4,consts:[[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","OfferType"],["id","OfferType","id","OfferType","formControlName","OfferType","required","",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","Title",1,"required"],["type","text","id","Title","formControlName","Title","required","","placeholder","Titlu"],["for","Company_Name"],["type","text","id","Company_Name","formControlName","Company_Name","placeholder","Numele Companiei"],["for","Contact_Name",1,"required"],["type","text","id","Contact_Name","formControlName","Contact_Name","required","","placeholder","Persoana de contact"],["for","Phone_Number"],["type","text","id","Phone_Number","formControlName","Phone_Number","placeholder","Numar de telefon"],["for","Email",1,"required"],["type","email","id","Email","formControlName","Email","required","","placeholder","Adresa de Email"],["for","Facebook"],["type","text","id","Facebook","formControlName","Facebook","placeholder","Adresa de Facebook"],["for","Instagram"],["type","text","id","Instagram","formControlName","Instagram","placeholder","@instaHandle.."],["for","Description",1,"required"],["id","Description","formControlName","Description","required","","placeholder","Descriere"],["for","Price"],["type","text","id","Price","formControlName","Price","placeholder","Pret"],["for","Location"],["type","text","id","Location","formControlName","Location","placeholder","Locatie"],["for","Website"],["type","url","id","Website","formControlName","Website","placeholder","Pagina de Web"],["for","Images"],["id","Images","type","file","multiple","",1,"form-control-file",3,"change"],[1,"image-preview-container"],["class","image-preview",4,"ngFor","ngForOf"],["type","submit",3,"disabled"],[3,"value"],[1,"image-preview"],[1,"img-thumbnail",3,"src","alt"],["class","progress",4,"ngIf"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"progress"],[1,"progress-bar"]],template:function(m,C){1&m&&(o.TgZ(0,"div",0)(1,"form",1),o.NdJ("ngSubmit",function(){return C.onSubmit()}),o.TgZ(2,"div",2)(3,"label",3),o._uU(4,"Tip de oferta"),o.qZA(),o.TgZ(5,"select",4),o.YNc(6,me,2,2,"option",5),o.qZA()(),o.TgZ(7,"div",2)(8,"label",6),o._uU(9,"Titlu:"),o.qZA(),o._UZ(10,"input",7),o.qZA(),o.TgZ(11,"div",2)(12,"label",8),o._uU(13,"Numele Companiei:"),o.qZA(),o._UZ(14,"input",9),o.qZA(),o.TgZ(15,"div",2)(16,"label",10),o._uU(17,"Numele persoanei de contact:"),o.qZA(),o._UZ(18,"input",11),o.qZA(),o.TgZ(19,"div",2)(20,"label",12),o._uU(21,"Numar de telefon:"),o.qZA(),o._UZ(22,"input",13),o.qZA(),o.TgZ(23,"div",2)(24,"label",14),o._uU(25,"Adresa de Email:"),o.qZA(),o._UZ(26,"input",15),o.qZA(),o.TgZ(27,"div",2)(28,"label",16),o._uU(29,"Adresa de Facebook:"),o.qZA(),o._UZ(30,"input",17),o.qZA(),o.TgZ(31,"div",2)(32,"label",18),o._uU(33,"Instagram:(@cont_de_instagram)"),o.qZA(),o._UZ(34,"input",19),o.qZA(),o.TgZ(35,"div",2)(36,"label",20),o._uU(37,"Descriere:"),o.qZA(),o._UZ(38,"textarea",21),o.qZA(),o.TgZ(39,"div",2)(40,"label",22),o._uU(41,"Pret:"),o.qZA(),o._UZ(42,"input",23),o.qZA(),o.TgZ(43,"div",2)(44,"label",24),o._uU(45,"Locatie:"),o.qZA(),o._UZ(46,"input",25),o.qZA(),o.TgZ(47,"div",2)(48,"label",26),o._uU(49,"Website:"),o.qZA(),o._UZ(50,"input",27),o.qZA(),o.TgZ(51,"div",2)(52,"label",28),o._uU(53,"Images"),o.qZA(),o.TgZ(54,"input",29),o.NdJ("change",function(fe){return C.onFileSelected(fe)}),o.qZA(),o.TgZ(55,"div",30),o.YNc(56,Pt,5,3,"div",31),o.qZA()(),o.TgZ(57,"button",32),o._uU(58,"Salveaza Oferta"),o.qZA()()()),2&m&&(o.xp6(1),o.Q6J("formGroup",C.offerForm),o.xp6(5),o.Q6J("ngForOf",C.offerTypes),o.xp6(50),o.Q6J("ngForOf",C.images),o.xp6(1),o.Q6J("disabled",C.offerForm.invalid))},dependencies:[U.sg,U.O5,tn._Y,tn.YN,tn.Kr,tn.Fj,tn.EJ,tn.JJ,tn.JL,tn.Q7,tn.sg,tn.u],styles:['.form-container[_ngcontent-%COMP%]{max-width:600px;margin:100px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;color:#fff;border:none;border-radius:4px;cursor:pointer}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}.image-preview-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.image-preview[_ngcontent-%COMP%]{position:relative;display:inline-block;width:100px;height:100px}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:5px}.image-preview[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;background-color:#00000080}.image-preview[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:5px;background-color:#4caf50}.image-preview[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;background-color:#ff0000b3;border:none;border-radius:3px}']})}return v})();function Fn(v,h){if(1&v&&(o.TgZ(0,"div",14)(1,"strong"),o._uU(2,"Sponsor:"),o.qZA(),o._uU(3),o.qZA()),2&v){const l=o.oxw();o.xp6(3),o.hij(" ",null!=l.event&&l.event.Community_Sponsor?"Yes":"No"," ")}}function er(v,h){if(1&v&&(o.TgZ(0,"div",15)(1,"strong"),o._uU(2,"Created Date:"),o.qZA(),o._uU(3),o.ALo(4,"date"),o._UZ(5,"br"),o.TgZ(6,"strong"),o._uU(7,"Updated Date:"),o.qZA(),o._uU(8),o.ALo(9,"date"),o.qZA()),2&v){const l=o.oxw();o.xp6(3),o.hij(" ",o.xi3(4,2,null==l.event?null:l.event.Date_Created,"shortDate"),""),o.xp6(5),o.hij(" ",o.xi3(9,5,null==l.event?null:l.event.Date_Updated,"shortDate")," ")}}let jr=(()=>{class v{constructor(l,m,C,$){this.route=l,this.router=m,this.eventsService=C,this.authService=$,this.defaultImage="https://storage.cloud.google.com/romaniinseattle.appspot.com/events/defaultImage.jpg",this.isLoggedIn$=this.authService.isLoggedIn()}ngOnInit(){const l=this.route.snapshot.paramMap.get("id");l&&this.eventsService.getEventById(l).subscribe(m=>{this.event=m,this.event?.Poster_Image||(this.event.Poster_Image=this.defaultImage)})}goBack(){this.router.navigate(["/events"])}static#e=this.\u0275fac=function(m){return new(m||v)(o.Y36(Nr.gz),o.Y36(Nr.F0),o.Y36(pl.n),o.Y36(ea.e))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-event-detail"]],decls:61,vars:25,consts:[[1,"event-details-container"],[1,"event-header"],[1,"event-contact"],[1,"event-poster-container"],["alt","Event Poster",1,"poster-image",3,"src"],[1,"event-content"],[1,"event-info"],[1,"event-details-label"],[1,"truncated-link",3,"innerHTML"],[3,"innerHTML"],[1,"event-description"],["class","event-sponsor",4,"ngIf"],["class","event-dates",4,"ngIf"],[3,"click"],[1,"event-sponsor"],[1,"event-dates"]],template:function(m,C){1&m&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1"),o._uU(3),o.qZA(),o.TgZ(4,"div",2)(5,"strong"),o._uU(6,"Contact:"),o.qZA(),o._uU(7),o.qZA()(),o.TgZ(8,"div",3),o._UZ(9,"img",4),o.qZA(),o.TgZ(10,"div",5)(11,"div",6)(12,"div")(13,"label",7),o._uU(14,"Nr Telefon:"),o.qZA(),o._uU(15),o.ALo(16,"phoneNumber"),o.qZA(),o.TgZ(17,"div")(18,"label",7),o._uU(19,"Email:"),o.qZA(),o._uU(20),o.qZA(),o.TgZ(21,"div")(22,"label",7),o._uU(23,"Pagina Web:"),o.qZA(),o._UZ(24,"span",8),o.ALo(25,"urlHelper"),o.qZA(),o.TgZ(26,"div")(27,"label",7),o._uU(28,"Facebook:"),o.qZA(),o._UZ(29,"span",9),o.ALo(30,"urlHelper"),o.qZA(),o.TgZ(31,"div")(32,"label",7),o._uU(33,"Instagram:"),o.qZA(),o._uU(34),o.qZA(),o.TgZ(35,"div")(36,"label",7),o._uU(37,"Locatie:"),o.qZA(),o._uU(38),o.qZA(),o.TgZ(39,"div")(40,"label",7),o._uU(41,"Data Evenimentului:"),o.qZA(),o._uU(42),o.qZA(),o.TgZ(43,"div")(44,"label",7),o._uU(45,"Ora:"),o.qZA(),o._uU(46),o.qZA(),o.TgZ(47,"div")(48,"label",7),o._uU(49,"Pret:"),o.qZA(),o._uU(50),o.qZA()(),o.TgZ(51,"div",10)(52,"strong"),o._uU(53,"Detalii:"),o.qZA(),o._uU(54),o.qZA(),o.YNc(55,Fn,4,1,"div",11),o.ALo(56,"async"),o.YNc(57,er,10,8,"div",12),o.ALo(58,"async"),o.qZA(),o.TgZ(59,"button",13),o.NdJ("click",function(){return C.goBack()}),o._uU(60,"Return to Events"),o.qZA()()),2&m&&(o.xp6(3),o.Oqu(null==C.event?null:C.event.Event_Name),o.xp6(4),o.hij(" ",null==C.event?null:C.event.Contact_Person_Name," "),o.xp6(2),o.Q6J("src",null==C.event?null:C.event.Poster_Image,o.LSH),o.xp6(6),o.hij(" ",o.lcZ(16,15,null==C.event?null:C.event.Phone_Number),""),o.xp6(5),o.hij(" ",null==C.event?null:C.event.Email,""),o.xp6(4),o.Q6J("innerHTML",o.lcZ(25,17,null==C.event?null:C.event.Website),o.oJD),o.xp6(5),o.Q6J("innerHTML",o.lcZ(30,19,null==C.event?null:C.event.Facebook),o.oJD),o.xp6(5),o.hij(" ",null==C.event?null:C.event.Instagram,""),o.xp6(4),o.hij(" ",null==C.event?null:C.event.Location,""),o.xp6(4),o.hij(" ",null==C.event?null:C.event.Event_Date,""),o.xp6(4),o.hij(" ",null==C.event?null:C.event.Event_Time,""),o.xp6(4),o.hij(" ",null==C.event?null:C.event.Price,""),o.xp6(4),o.hij(" ",null==C.event?null:C.event.Description," "),o.xp6(1),o.Q6J("ngIf",o.lcZ(56,21,C.isLoggedIn$)),o.xp6(2),o.Q6J("ngIf",o.lcZ(58,23,C.isLoggedIn$)))},dependencies:[U.O5,U.Ov,U.uU,$u,Js],styles:[".event-details-container[_ngcontent-%COMP%]{border-radius:12px;background-color:#f5f5f5;box-shadow:0 2px 4px #0000001a;overflow:hidden;padding:20px;max-width:1200px;margin:0 auto;font-family:Arial,sans-serif}.event-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.event-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5em;margin:0}.event-poster-container[_ngcontent-%COMP%]{width:100%;height:30vh;overflow:hidden;margin-bottom:20px}.event-poster-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.event-date-time[_ngcontent-%COMP%]{text-align:center;font-size:1.2em;margin-bottom:20px}.event-content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.event-info[_ngcontent-%COMP%]{flex:1 1 45%;min-width:300px;margin-bottom:20px}.event-description[_ngcontent-%COMP%], .event-sponsor[_ngcontent-%COMP%], .event-dates[_ngcontent-%COMP%]{flex:1 1 100%;margin:20px}.event-details-label[_ngcontent-%COMP%], .event-hours-label[_ngcontent-%COMP%]{font-weight:700;margin:10px;width:120px;display:inline-block}.event-description[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:2rem;border-radius:5px}.event-description[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:10px}.truncated-link[_ngcontent-%COMP%]{display:inline-block;max-width:400px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-decoration:none;color:#00f}.back-button[_ngcontent-%COMP%]{display:block;width:200px;margin:20px auto;padding:10px 20px;font-size:1em;background-color:var(--button-color);color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s}.back-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}@media (max-width: 768px){.event-info[_ngcontent-%COMP%]{flex:1 1 100%}}"]})}return v})(),ps=(()=>{class v{constructor(l,m,C,$){this.route=l,this.router=m,this.fb=C,this.eventsService=$,this.eventId=null,this.eventForm=this.fb.group({Approved:[!1],Community_Sponsor:[!1],Contact:[""],Description:["",tn.kI.required],Event_Date:["",tn.kI.required],Location:["",tn.kI.required],Name:["",tn.kI.required],Phone_Number:[""],Poster_Image:["",tn.kI.required],Price:["",tn.kI.required],Website:[""],Facebook:[""],Instagram:[""]})}ngOnInit(){this.eventId=this.route.snapshot.paramMap.get("id"),this.eventId&&this.eventsService.getEventById(this.eventId).subscribe(l=>{l&&(this.event=l,this.eventForm.patchValue(l))})}onSubmit(){this.eventForm.valid&&this.eventId&&this.eventsService.updateEvent(this.eventId,this.eventForm.value).subscribe(()=>{console.log("Event updated successfully"),this.router.navigate(["/events",this.eventId])},m=>{console.error("Error updating event: ",m)})}goBack(){this.router.navigate(this.eventId?["/events",this.eventId]:["/events"])}static#e=this.\u0275fac=function(m){return new(m||v)(o.Y36(Nr.gz),o.Y36(Nr.F0),o.Y36(tn.qu),o.Y36(pl.n))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-event-edit"]],decls:54,vars:1,consts:[[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["id","name","formControlName","Name","type","text"],["for","contact"],["id","contact","formControlName","Contact","type","text"],["for","phone"],["id","phone","formControlName","Phone_Number","type","text"],["for","description"],["id","description","formControlName","Description"],["for","location"],["id","location","formControlName","Location","type","text"],["for","event_date"],["id","event_date","formControlName","Event_Date","type","date"],["for","time"],["id","time","formControlName","Time","type","time"],["for","price"],["id","price","formControlName","Price","type","text"],["for","poster_image"],["id","poster_image","formControlName","Poster_Image","type","text"],["for","website"],["id","website","formControlName","Website","type","text","placeholder","Pagina de Web"],["for","Facebook"],["type","text","id","Facebook","formControlName","Facebook","placeholder","Adresa de Facebook"],["for","Instagram"],["type","text","id","Instagram","formControlName","Instagram","placeholder","@instaHandle.."],["type","submit"],["type","button",3,"click"]],template:function(m,C){1&m&&(o.TgZ(0,"div",0)(1,"form",1),o.NdJ("ngSubmit",function(){return C.onSubmit()}),o.TgZ(2,"div",2)(3,"label",3),o._uU(4,"Numele Evenimentului:"),o.qZA(),o._UZ(5,"input",4),o.qZA(),o.TgZ(6,"div",2)(7,"label",5),o._uU(8,"Persoana de contact:"),o.qZA(),o._UZ(9,"input",6),o.qZA(),o.TgZ(10,"div",2)(11,"label",7),o._uU(12,"Numar de Telefon:"),o.qZA(),o._UZ(13,"input",8),o.qZA(),o.TgZ(14,"div",2)(15,"label",9),o._uU(16,"Descriere:"),o.qZA(),o._UZ(17,"textarea",10),o.qZA(),o.TgZ(18,"div",2)(19,"label",11),o._uU(20,"Locatie:"),o.qZA(),o._UZ(21,"input",12),o.qZA(),o.TgZ(22,"div",2)(23,"label",13),o._uU(24,"Data:"),o.qZA(),o._UZ(25,"input",14),o.qZA(),o.TgZ(26,"div",2)(27,"label",15),o._uU(28,"Ora:"),o.qZA(),o._UZ(29,"input",16),o.qZA(),o.TgZ(30,"div",2)(31,"label",17),o._uU(32,"Pret:"),o.qZA(),o._UZ(33,"input",18),o.qZA(),o.TgZ(34,"div",2)(35,"label",19),o._uU(36,"Imagine Poster:"),o.qZA(),o._UZ(37,"input",20),o.qZA(),o.TgZ(38,"div",2)(39,"label",21),o._uU(40,"Website:"),o.qZA(),o._UZ(41,"input",22),o.qZA(),o.TgZ(42,"div",2)(43,"label",23),o._uU(44,"Adresa de Facebook:"),o.qZA(),o._UZ(45,"input",24),o.qZA(),o.TgZ(46,"div",2)(47,"label",25),o._uU(48,"Instagram:(@cont_de_instagram)"),o.qZA(),o._UZ(49,"input",26),o.qZA(),o.TgZ(50,"button",27),o._uU(51,"Salveaza Evenimentul"),o.qZA(),o.TgZ(52,"button",28),o.NdJ("click",function(){return C.goBack()}),o._uU(53,"Cancel"),o.qZA()()()),2&m&&(o.xp6(1),o.Q6J("formGroup",C.eventForm))},dependencies:[tn._Y,tn.Fj,tn.JJ,tn.JL,tn.sg,tn.u],styles:['.edit-event-container[_ngcontent-%COMP%]{border-radius:8px;background-color:#f5f5f5;padding:16px;margin:16px;box-shadow:0 2px 4px #0000001a;overflow:hidden}.form-container[_ngcontent-%COMP%]{max-width:600px;margin:100px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;color:#fff;border:none;border-radius:4px;cursor:pointer}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}.image-preview-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.image-preview[_ngcontent-%COMP%]{position:relative;display:inline-block;width:100px;height:100px}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:5px}.image-preview[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;background-color:#00000080}.image-preview[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:5px;background-color:#4caf50}.image-preview[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;background-color:#ff0000b3;border:none;border-radius:3px}']})}return v})();const La=function(v){return{active:v}};function Xa(v,h){if(1&v&&(o.TgZ(0,"div",26),o._UZ(1,"img",27),o.qZA()),2&v){const l=h.$implicit,m=h.index,C=o.oxw();o.Q6J("ngClass",o.VKq(3,La,m===C.currentIndex)),o.xp6(1),o.MGl("alt","Offer Image ",m+1,""),o.Q6J("src",l,o.LSH)}}function Il(v,h){if(1&v){const l=o.EpF();o.TgZ(0,"img",28),o.NdJ("click",function(){const $=o.CHM(l).index,fe=o.oxw();return o.KtG(fe.setCurrentSlide($))}),o.qZA()}if(2&v){const l=h.$implicit,m=h.index,C=o.oxw();o.MGl("alt","Thumbnail ",m+1,""),o.Q6J("src",l,o.LSH)("ngClass",o.VKq(3,La,m===C.currentIndex))}}function Lc(v,h){if(1&v&&(o.TgZ(0,"div",29)(1,"strong"),o._uU(2,"Created On:"),o.qZA(),o._uU(3),o.ALo(4,"date"),o._UZ(5,"br"),o.TgZ(6,"strong"),o._uU(7,"Last Updated On:"),o.qZA(),o._uU(8),o.ALo(9,"date"),o.qZA()),2&v){const l=o.oxw();o.xp6(3),o.hij(" ",o.xi3(4,2,null==l.offer?null:l.offer.Date_Created,"shortDate"),""),o.xp6(5),o.hij(" ",o.xi3(9,5,null==l.offer?null:l.offer.Date_Updated,"shortDate")," ")}}let Ku=(()=>{class v{constructor(l,m,C,$){this.route=l,this.router=m,this.offerService=C,this.authService=$,this.images=[],this.currentIndex=0,this.isLoggedIn$=this.authService.isLoggedIn()}ngOnInit(){const l=this.route.snapshot.paramMap.get("id");l&&this.offerService.getOfferById(l).subscribe(m=>{this.offer=m,this.offer&&this.offer.Images&&(this.images=this.offer.Images.filter(C=>!!C)),this.startAutoPlay()})}setCurrentSlide(l){this.currentIndex=l,console.log(`Current Slide Set To: ${l}`),this.resetAutoPlay()}prevSlide(){this.currentIndex=this.currentIndex>0?this.currentIndex-1:this.images.length-1,console.log(`Previous Slide: ${this.currentIndex}`),this.resetAutoPlay()}nextSlide(){this.currentIndex=this.currentIndex<this.images.length-1?this.currentIndex+1:0,console.log(`Next Slide: ${this.currentIndex}`),this.resetAutoPlay()}startAutoPlay(){this.intervalId=setInterval(()=>{this.nextSlide()},1e4)}resetAutoPlay(){clearInterval(this.intervalId),this.startAutoPlay()}goBack(){this.router.navigate(["/offers"])}static#e=this.\u0275fac=function(m){return new(m||v)(o.Y36(Nr.gz),o.Y36(Nr.F0),o.Y36(fs.b),o.Y36(ea.e))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-test-page"]],decls:87,vars:27,consts:[[1,"offer-details-container"],[1,"offer-header"],[1,"offer-company"],[1,"offer-carousel-container"],[1,"carousel"],[1,"carousel-inner"],["class","carousel-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"carousel-control","prev",3,"click"],[1,"carousel-control","next",3,"click"],[1,"carousel-thumbnails"],[3,"src","ngClass","alt","click",4,"ngFor","ngForOf"],[1,"offer-content"],[1,"offer-title"],[1,"offer-price"],[1,"offer-overview"],[1,"offer-buttons"],[1,"filled-button"],[1,"outline-button"],[1,"offer-info"],["target","_blank",3,"href"],[3,"innerHTML"],[1,"offer-description"],[1,"offer-hours"],[1,"offer-sponsor"],["class","offer-dates",4,"ngIf"],[1,"return-button",3,"click"],[1,"carousel-item",3,"ngClass"],[3,"src","alt"],[3,"src","ngClass","alt","click"],[1,"offer-dates"]],template:function(m,C){1&m&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1"),o._uU(3),o.qZA(),o.TgZ(4,"div",2)(5,"strong"),o._uU(6,"Company:"),o.qZA(),o._uU(7),o.qZA()(),o.TgZ(8,"div",3)(9,"div",4)(10,"div",5),o.YNc(11,Xa,2,5,"div",6),o.qZA(),o.TgZ(12,"a",7),o.NdJ("click",function(){return C.prevSlide()}),o._uU(13,"\u276e"),o.qZA(),o.TgZ(14,"a",8),o.NdJ("click",function(){return C.nextSlide()}),o._uU(15,"\u276f"),o.qZA()(),o.TgZ(16,"div",9),o.YNc(17,Il,1,5,"img",10),o.qZA()(),o.TgZ(18,"div",11)(19,"h1",12),o._uU(20),o.qZA(),o.TgZ(21,"div",13),o._uU(22),o.qZA(),o.TgZ(23,"div",14)(24,"h2"),o._uU(25,"Product Overview"),o.qZA(),o.TgZ(26,"p"),o._uU(27),o.qZA()(),o.TgZ(28,"div",15)(29,"button",16),o._uU(30,"Add to Bag"),o.qZA(),o.TgZ(31,"button",17),o._uU(32,"Find in Store"),o.qZA()()(),o.TgZ(33,"div",11)(34,"div",18)(35,"div")(36,"strong"),o._uU(37,"Contact Person:"),o.qZA(),o._uU(38),o.qZA(),o.TgZ(39,"div")(40,"strong"),o._uU(41,"Phone Number:"),o.qZA(),o._uU(42),o.ALo(43,"phoneNumber"),o.qZA(),o.TgZ(44,"div")(45,"strong"),o._uU(46,"Email Address:"),o.qZA(),o._uU(47),o.qZA(),o.TgZ(48,"div")(49,"strong"),o._uU(50,"Website:"),o.qZA(),o.TgZ(51,"a",19),o._uU(52),o.qZA()(),o.TgZ(53,"div")(54,"strong"),o._uU(55,"Facebook:"),o.qZA(),o._UZ(56,"span",20),o.ALo(57,"urlHelper"),o.qZA(),o.TgZ(58,"div")(59,"strong"),o._uU(60,"Instagram:"),o.qZA(),o._UZ(61,"span",20),o.ALo(62,"instagramHandle"),o.qZA(),o.TgZ(63,"div")(64,"strong"),o._uU(65,"Location:"),o.qZA(),o._uU(66),o.qZA(),o.TgZ(67,"div")(68,"strong"),o._uU(69,"Offer Type:"),o.qZA(),o._uU(70),o.qZA()(),o.TgZ(71,"div",21)(72,"strong"),o._uU(73,"Details:"),o.qZA(),o._uU(74),o.qZA(),o.TgZ(75,"div",22)(76,"strong"),o._uU(77,"Hours:"),o.qZA(),o._UZ(78,"ul"),o.qZA(),o.TgZ(79,"div",23)(80,"strong"),o._uU(81,"Sponsor:"),o.qZA(),o._uU(82),o.qZA(),o.YNc(83,Lc,10,8,"div",24),o.ALo(84,"async"),o.TgZ(85,"button",25),o.NdJ("click",function(){return C.goBack()}),o._uU(86,"Back to Offers"),o.qZA()()()),2&m&&(o.xp6(3),o.Oqu(null==C.offer?null:C.offer.Title),o.xp6(4),o.hij(" ",null==C.offer?null:C.offer.Company_Name," "),o.xp6(4),o.Q6J("ngForOf",C.images),o.xp6(6),o.Q6J("ngForOf",C.images),o.xp6(3),o.Oqu(null==C.offer?null:C.offer.Title),o.xp6(2),o.Oqu(null==C.offer?null:C.offer.Price),o.xp6(5),o.Oqu(null==C.offer?null:C.offer.Description),o.xp6(11),o.hij(" ",null==C.offer?null:C.offer.Contact_Name,""),o.xp6(4),o.hij(" ",o.lcZ(43,19,null==C.offer?null:C.offer.Phone_Number),""),o.xp6(5),o.hij(" ",null==C.offer?null:C.offer.Email,""),o.xp6(4),o.Q6J("href",null==C.offer?null:C.offer.Website,o.LSH),o.xp6(1),o.Oqu(null==C.offer?null:C.offer.Website),o.xp6(4),o.Q6J("innerHTML",o.lcZ(57,21,null==C.offer?null:C.offer.Facebook),o.oJD),o.xp6(5),o.Q6J("innerHTML",o.lcZ(62,23,null==C.offer?null:C.offer.Instagram),o.oJD),o.xp6(5),o.hij(" ",null==C.offer?null:C.offer.Location,""),o.xp6(4),o.hij(" ",null==C.offer?null:C.offer.OfferType,""),o.xp6(4),o.hij(" ",null==C.offer?null:C.offer.Description," "),o.xp6(8),o.hij(" ",null!=C.offer&&C.offer.Community_Sponsor?"Yes":"No"," "),o.xp6(1),o.Q6J("ngIf",o.lcZ(84,25,C.isLoggedIn$)))},dependencies:[U.mk,U.sg,U.O5,U.Ov,U.uU,$u,Io,Js],styles:[".offer-details-container[_ngcontent-%COMP%]{max-width:1024px;margin:auto;padding:10px}.offer-carousel-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.carousel[_ngcontent-%COMP%]{position:relative;width:100%}.carousel-inner[_ngcontent-%COMP%]{display:flex;overflow:hidden}.carousel-item[_ngcontent-%COMP%]{flex:0 0 100%;opacity:0;transition:opacity .5s ease-in-out;display:none}.carousel-item.active[_ngcontent-%COMP%]{opacity:1;display:block}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;display:block}.carousel-control[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);font-size:2rem;cursor:pointer;color:#000}.prev[_ngcontent-%COMP%]{left:10px}.next[_ngcontent-%COMP%]{right:10px}.carousel-thumbnails[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:10px;padding-top:10px}.carousel-thumbnails[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer;border:2px solid transparent;width:20%}.carousel-thumbnails[_ngcontent-%COMP%]   img.active[_ngcontent-%COMP%]{border-color:#000}.offer-content[_ngcontent-%COMP%]{padding:20px 0}.offer-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;text-transform:uppercase;margin-bottom:10px}.offer-price[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:10px}.offer-overview[_ngcontent-%COMP%]{margin-bottom:20px}.offer-overview[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;margin-bottom:5px}.offer-overview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin:0}.offer-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.filled-button[_ngcontent-%COMP%], .outline-button[_ngcontent-%COMP%]{padding:10px 20px;cursor:pointer;border:1px solid #000;font-size:1rem}.filled-button[_ngcontent-%COMP%]{background-color:#000;color:#fff}.outline-button[_ngcontent-%COMP%]{background-color:transparent;color:#000}@media (min-width: 600px){.offer-carousel-container[_ngcontent-%COMP%]{flex-direction:row}.carousel-thumbnails[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:10%}.offer-buttons[_ngcontent-%COMP%]{flex-direction:row;gap:10px}}@media (min-width: 768px){.offer-title[_ngcontent-%COMP%]{font-size:2.5rem}.offer-price[_ngcontent-%COMP%]{font-size:2rem}.offer-overview[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.offer-overview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.25rem}}@media (min-width: 1024px){.offer-carousel-container[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between}.carousel[_ngcontent-%COMP%]{width:70%}.carousel-thumbnails[_ngcontent-%COMP%]{width:30%;padding-left:10px;flex-direction:column;gap:10px}.carousel-thumbnails[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.offer-content[_ngcontent-%COMP%]{padding:20px 0}.offer-buttons[_ngcontent-%COMP%]{flex-direction:row;gap:10px}}"]})}return v})();const Vc=[{path:"",component:zu},{path:"rules",component:Xh},{path:"analytics",component:iu.d},{path:"events",component:Qd},{path:"add-event",component:tu},{path:"events/add",component:tu},{path:"events/:id",component:jr},{path:"edit-event/:id",component:ps},{path:"offers",component:Jd},{path:"add-offers",component:Xd},{path:"offers/add",component:Xd},{path:"offers/:id",component:Qu},{path:"edit-oferte/:id",component:Jt},{path:"services",component:Cp},{path:"add-service",component:is},{path:"services/add",component:is},{path:"services/:id",component:y},{path:"edit-service/:id",component:Fa},{path:"test",component:X},{path:"test-page",component:Ku},{path:"test-page/:id",component:Ku},{path:"login",component:M},{path:"",redirectTo:"/login",pathMatch:"full"},{path:"admin",loadChildren:()=>k.e(658).then(k.bind(k,7658)).then(v=>v.AdminModule)}];let Uc=(()=>{class v{static#e=this.\u0275fac=function(m){return new(m||v)};static#t=this.\u0275mod=o.oAB({type:v});static#n=this.\u0275inj=o.cJS({imports:[Nr.Bz.forRoot(Vc),Nr.Bz]})}return v})();var ih=k(769);const df=function(v){return{"open-bar1":v}},Yu=function(v){return{"open-bar2":v}},oh=function(v){return{"open-bar3":v}},ec=function(v){return{active:v}};let Bc=(()=>{class v{constructor(){this.menuOpen=!1}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static#e=this.\u0275fac=function(m){return new(m||v)};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-navigation"]],decls:25,vars:12,consts:[[1,"navbar"],[1,"navbar-container"],[1,"logo"],["routerLink","/"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item"],["routerLink","/",1,"nav-links",3,"click"],["routerLink","/services",1,"nav-links",3,"click"],["routerLink","/offers",1,"nav-links",3,"click"],["routerLink","/events",1,"nav-links",3,"click"],["routerLink","/rules",1,"nav-links",3,"click"]],template:function(m,C){1&m&&(o.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),o._uU(4,"Romani in Seattle"),o.qZA()(),o.TgZ(5,"div",4),o.NdJ("click",function(){return C.toggleMenu()}),o._UZ(6,"div",5)(7,"div",6)(8,"div",7),o.qZA(),o.TgZ(9,"ul",8)(10,"li",9)(11,"a",10),o.NdJ("click",function(){return C.closeMenu()}),o._uU(12,"Home"),o.qZA()(),o.TgZ(13,"li",9)(14,"a",11),o.NdJ("click",function(){return C.closeMenu()}),o._uU(15,"Servicii"),o.qZA()(),o.TgZ(16,"li",9)(17,"a",12),o.NdJ("click",function(){return C.closeMenu()}),o._uU(18,"Oferte"),o.qZA()(),o.TgZ(19,"li",9)(20,"a",13),o.NdJ("click",function(){return C.closeMenu()}),o._uU(21,"Evenimente"),o.qZA()(),o.TgZ(22,"li",9)(23,"a",14),o.NdJ("click",function(){return C.closeMenu()}),o._uU(24,"Regulament"),o.qZA()()()()()),2&m&&(o.xp6(6),o.Q6J("ngClass",o.VKq(4,df,C.menuOpen)),o.xp6(1),o.Q6J("ngClass",o.VKq(6,Yu,C.menuOpen)),o.xp6(1),o.Q6J("ngClass",o.VKq(8,oh,C.menuOpen)),o.xp6(1),o.Q6J("ngClass",o.VKq(10,ec,C.menuOpen)))},dependencies:[U.mk,Nr.rH],styles:[".navbar[_ngcontent-%COMP%]{background-color:var(--nav-background-color);position:fixed;width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:70px;max-width:1200px;margin:0 auto}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:34px;font-weight:700;color:var(--button-color);text-decoration:none}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);text-decoration:none;text-transform:uppercase;font-size:18px;font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:500;font-style:bold}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:#fff}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:#fff}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:flex-start}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;width:100%;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);text-decoration:none;text-transform:uppercase;font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:200;font-style:normal;color:var(--nav-active-text);font-size:24px}}"]})}return v})(),Ju=(()=>{class v{static#e=this.\u0275fac=function(m){return new(m||v)};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"footer"],[1,"footer-content"]],template:function(m,C){1&m&&(o.TgZ(0,"footer",0)(1,"div",1),o._uU(2," \xa9 2024 Romani in Seattle. All rights reserved. "),o.qZA()())},styles:[".footer[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%;height:50px;background-color:#333;color:#fff;display:flex;align-items:center;justify-content:center;text-align:center;box-shadow:0 -2px 5px #0000001a}.footer-content[_ngcontent-%COMP%]{font-size:.9rem}"]})}return v})(),hf=(()=>{class v{constructor(l){this.analyticsService=l,this.title="romani-in-seattle"}ngOnInit(){}trackButtonClick(){}static#e=this.\u0275fac=function(m){return new(m||v)(o.Y36(ih.y))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"main-layout"]],template:function(m,C){1&m&&(o.TgZ(0,"div",0),o._UZ(1,"app-navigation")(2,"router-outlet")(3,"app-footer"),o.qZA())},dependencies:[Nr.lC,Bc,Ju],styles:[".content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;min-width:calc(100vw - 70px);min-height:calc(100vh - 70px);padding:20px}"]})}return v})();class Dp{}class ff{}const Rs="*";function bl(v,h=null){return{type:2,steps:v,options:h}}function ou(v){return{type:6,styles:v,offset:null}}class Cl{constructor(h=0,l=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=h+l}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}onStart(h){this._originalOnStartFns.push(h),this._onStartFns.push(h)}onDone(h){this._originalOnDoneFns.push(h),this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(h=>h()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(h){this._position=this.totalTime?h*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(h){const l="start"==h?this._onStartFns:this._onDoneFns;l.forEach(m=>m()),l.length=0}}class Og{constructor(h){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=h;let l=0,m=0,C=0;const $=this.players.length;0==$?queueMicrotask(()=>this._onFinish()):this.players.forEach(fe=>{fe.onDone(()=>{++l==$&&this._onFinish()}),fe.onDestroy(()=>{++m==$&&this._onDestroy()}),fe.onStart(()=>{++C==$&&this._onStart()})}),this.totalTime=this.players.reduce((fe,Oe)=>Math.max(fe,Oe.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}init(){this.players.forEach(h=>h.init())}onStart(h){this._onStartFns.push(h)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(h=>h()),this._onStartFns=[])}onDone(h){this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(h=>h.play())}pause(){this.players.forEach(h=>h.pause())}restart(){this.players.forEach(h=>h.restart())}finish(){this._onFinish(),this.players.forEach(h=>h.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(h=>h.destroy()),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}reset(){this.players.forEach(h=>h.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(h){const l=h*this.totalTime;this.players.forEach(m=>{const C=m.totalTime?Math.min(1,l/m.totalTime):1;m.setPosition(C)})}getPosition(){const h=this.players.reduce((l,m)=>null===l||m.totalTime>l.totalTime?m:l,null);return null!=h?h.getPosition():0}beforeDestroy(){this.players.forEach(h=>{h.beforeDestroy&&h.beforeDestroy()})}triggerCallback(h){const l="start"==h?this._onStartFns:this._onDoneFns;l.forEach(m=>m()),l.length=0}}function Xu(v){return new o.vHH(3e3,!1)}function ma(v){switch(v.length){case 0:return new Cl;case 1:return v[0];default:return new Og(v)}}function Af(v,h,l=new Map,m=new Map){const C=[],$=[];let fe=-1,Oe=null;if(h.forEach(at=>{const Tt=at.get("offset"),sn=Tt==fe,vn=sn&&Oe||new Map;at.forEach((Er,gr)=>{let tr=gr,lr=Er;if("offset"!==gr)switch(tr=v.normalizePropertyName(tr,C),lr){case"!":lr=l.get(gr);break;case Rs:lr=m.get(gr);break;default:lr=v.normalizeStyleValue(gr,tr,lr,C)}vn.set(tr,lr)}),sn||$.push(vn),Oe=vn,fe=Tt}),C.length)throw function lu(v){return new o.vHH(3502,!1)}();return $}function hh(v,h,l,m){switch(h){case"start":v.onStart(()=>m(l&&If(l,"start",v)));break;case"done":v.onDone(()=>m(l&&If(l,"done",v)));break;case"destroy":v.onDestroy(()=>m(l&&If(l,"destroy",v)))}}function If(v,h,l){const $=uu(v.element,v.triggerName,v.fromState,v.toState,h||v.phaseName,l.totalTime??v.totalTime,!!l.disabled),fe=v._data;return null!=fe&&($._data=fe),$}function uu(v,h,l,m,C="",$=0,fe){return{element:v,triggerName:h,fromState:l,toState:m,phaseName:C,totalTime:$,disabled:!!fe}}function os(v,h,l){let m=v.get(h);return m||v.set(h,m=l),m}function tc(v){const h=v.indexOf(":");return[v.substring(1,h),v.slice(h+1)]}const Hg=(()=>typeof document>"u"?null:document.documentElement)();function rd(v){const h=v.parentNode||v.host||null;return h===Hg?null:h}let Tl=null,fh=!1;function Cf(v,h){for(;h;){if(h===v)return!0;h=rd(h)}return!1}function Tf(v,h,l){if(l)return Array.from(v.querySelectorAll(h));const m=v.querySelector(h);return m?[m]:[]}let ph=(()=>{class v{validateStyleProperty(l){return function Np(v){Tl||(Tl=function bf(){return typeof document<"u"?document.body:null}()||{},fh=!!Tl.style&&"WebkitAppearance"in Tl.style);let h=!0;return Tl.style&&!function c_(v){return"ebkit"==v.substring(1,6)}(v)&&(h=v in Tl.style,!h&&fh&&(h="Webkit"+v.charAt(0).toUpperCase()+v.slice(1)in Tl.style)),h}(l)}matchesElement(l,m){return!1}containsElement(l,m){return Cf(l,m)}getParentElement(l){return rd(l)}query(l,m,C){return Tf(l,m,C)}computeStyle(l,m,C){return C||""}animate(l,m,C,$,fe,Oe=[],at){return new Cl(C,$)}static#e=this.\u0275fac=function(m){return new(m||v)};static#t=this.\u0275prov=o.Yz7({token:v,factory:v.\u0275fac})}return v})(),Hc=(()=>{class v{static#e=this.NOOP=new ph}return v})();const $g=1e3,od="ng-enter",wl="ng-leave",nc="ng-trigger",zc=".ng-trigger",Df="ng-animating",gh=".ng-animating";function $c(v){if("number"==typeof v)return v;const h=v.match(/^(-?[\.\d]+)(m?s)/);return!h||h.length<2?0:mh(parseFloat(h[1]),h[2])}function mh(v,h){return"s"===h?v*$g:v}function na(v,h,l){return v.hasOwnProperty("duration")?v:function Sf(v,h,l){let C,$=0,fe="";if("string"==typeof v){const Oe=v.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Oe)return h.push(Xu()),{duration:0,delay:0,easing:""};C=mh(parseFloat(Oe[1]),Oe[2]);const at=Oe[3];null!=at&&($=mh(parseFloat(at),Oe[4]));const Tt=Oe[5];Tt&&(fe=Tt)}else C=v;if(!l){let Oe=!1,at=h.length;C<0&&(h.push(function Ng(){return new o.vHH(3100,!1)}()),Oe=!0),$<0&&(h.push(function lh(){return new o.vHH(3101,!1)}()),Oe=!0),Oe&&h.splice(at,0,Xu())}return{duration:C,delay:$,easing:fe}}(v,h,l)}function Dl(v,h={}){return Object.keys(v).forEach(l=>{h[l]=v[l]}),h}function sd(v){const h=new Map;return Object.keys(v).forEach(l=>{h.set(l,v[l])}),h}function rc(v,h=new Map,l){if(l)for(let[m,C]of l)h.set(m,C);for(let[m,C]of v)h.set(m,C);return h}function Zc(v,h,l){h.forEach((m,C)=>{const $=Mf(C);l&&!l.has(C)&&l.set(C,v.style[$]),v.style[$]=m})}function qc(v,h){h.forEach((l,m)=>{const C=Mf(m);v.style[C]=""})}function du(v){return Array.isArray(v)?1==v.length?v[0]:bl(v):v}const Sl=new RegExp("{{\\s*(.+?)\\s*}}","g");function hu(v){let h=[];if("string"==typeof v){let l;for(;l=Sl.exec(v);)h.push(l[1]);Sl.lastIndex=0}return h}function Ml(v,h,l){const m=v.toString(),C=m.replace(Sl,($,fe)=>{let Oe=h[fe];return null==Oe&&(l.push(function su(v){return new o.vHH(3003,!1)}()),Oe=""),Oe.toString()});return C==m?v:C}function fu(v){const h=[];let l=v.next();for(;!l.done;)h.push(l.value),l=v.next();return h}const Lp=/-+([a-z0-9])/g;function Mf(v){return v.replace(Lp,(...h)=>h[1].toUpperCase())}function gs(v,h,l){switch(h.type){case 7:return v.visitTrigger(h,l);case 0:return v.visitState(h,l);case 1:return v.visitTransition(h,l);case 2:return v.visitSequence(h,l);case 3:return v.visitGroup(h,l);case 4:return v.visitAnimate(h,l);case 5:return v.visitKeyframes(h,l);case 6:return v.visitStyle(h,l);case 8:return v.visitReference(h,l);case 9:return v.visitAnimateChild(h,l);case 10:return v.visitAnimateRef(h,l);case 11:return v.visitQuery(h,l);case 12:return v.visitStagger(h,l);default:throw function pf(v){return new o.vHH(3004,!1)}()}}function _h(v,h){return window.getComputedStyle(v)[h]}const Wc="*";function Wg(v,h){const l=[];return"string"==typeof v?v.split(/\s*,\s*/).forEach(m=>function Pf(v,h,l){if(":"==v[0]){const at=function Qg(v,h){switch(v){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(l,m)=>parseFloat(m)>parseFloat(l);case":decrement":return(l,m)=>parseFloat(m)<parseFloat(l);default:return h.push(function s_(v){return new o.vHH(3016,!1)}()),"* => *"}}(v,l);if("function"==typeof at)return void h.push(at);v=at}const m=v.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==m||m.length<4)return l.push(function Op(v){return new o.vHH(3015,!1)}()),h;const C=m[1],$=m[2],fe=m[3];h.push(Kg(C,fe));"<"==$[0]&&!(C==Wc&&fe==Wc)&&h.push(Kg(fe,C))}(m,l,h)):l.push(v),l}const xf=new Set(["true","1"]),Rf=new Set(["false","0"]);function Kg(v,h){const l=xf.has(v)||Rf.has(v),m=xf.has(h)||Rf.has(h);return(C,$)=>{let fe=v==Wc||v==C,Oe=h==Wc||h==$;return!fe&&l&&"boolean"==typeof C&&(fe=C?xf.has(v):Rf.has(v)),!Oe&&m&&"boolean"==typeof $&&(Oe=$?xf.has(h):Rf.has(h)),fe&&Oe}}const ld=new RegExp("s*:selfs*,?","g");function ra(v,h,l,m){return new Up(v).build(h,l,m)}class Up{constructor(h){this._driver=h}build(h,l,m){const C=new Bp(l);return this._resetContextStyleTimingState(C),gs(this,du(h),C)}_resetContextStyleTimingState(h){h.currentQuerySelector="",h.collectedStyles=new Map,h.collectedStyles.set("",new Map),h.currentTime=0}visitTrigger(h,l){let m=l.queryCount=0,C=l.depCount=0;const $=[],fe=[];return"@"==h.name.charAt(0)&&l.errors.push(function ed(){return new o.vHH(3006,!1)}()),h.definitions.forEach(Oe=>{if(this._resetContextStyleTimingState(l),0==Oe.type){const at=Oe,Tt=at.name;Tt.toString().split(/\s*,\s*/).forEach(sn=>{at.name=sn,$.push(this.visitState(at,l))}),at.name=Tt}else if(1==Oe.type){const at=this.visitTransition(Oe,l);m+=at.queryCount,C+=at.depCount,fe.push(at)}else l.errors.push(function jc(){return new o.vHH(3007,!1)}())}),{type:7,name:h.name,states:$,transitions:fe,queryCount:m,depCount:C,options:null}}visitState(h,l){const m=this.visitStyle(h.styles,l),C=h.options&&h.options.params||null;if(m.containsDynamicStyles){const $=new Set,fe=C||{};m.styles.forEach(Oe=>{Oe instanceof Map&&Oe.forEach(at=>{hu(at).forEach(Tt=>{fe.hasOwnProperty(Tt)||$.add(Tt)})})}),$.size&&(fu($.values()),l.errors.push(function Mp(v,h){return new o.vHH(3008,!1)}()))}return{type:0,name:h.name,style:m,options:C?{params:C}:null}}visitTransition(h,l){l.queryCount=0,l.depCount=0;const m=gs(this,du(h.animation),l);return{type:1,matchers:Wg(h.expr,l.errors),animation:m,queryCount:l.queryCount,depCount:l.depCount,options:Os(h.options)}}visitSequence(h,l){return{type:2,steps:h.steps.map(m=>gs(this,m,l)),options:Os(h.options)}}visitGroup(h,l){const m=l.currentTime;let C=0;const $=h.steps.map(fe=>{l.currentTime=m;const Oe=gs(this,fe,l);return C=Math.max(C,l.currentTime),Oe});return l.currentTime=C,{type:3,steps:$,options:Os(h.options)}}visitAnimate(h,l){const m=function d_(v,h){if(v.hasOwnProperty("duration"))return v;if("number"==typeof v)return ud(na(v,h).duration,0,"");const l=v;if(l.split(/\s+/).some($=>"{"==$.charAt(0)&&"{"==$.charAt(1))){const $=ud(0,0,"");return $.dynamic=!0,$.strValue=l,$}const C=na(l,h);return ud(C.duration,C.delay,C.easing)}(h.timings,l.errors);l.currentAnimateTimings=m;let C,$=h.styles?h.styles:ou({});if(5==$.type)C=this.visitKeyframes($,l);else{let fe=h.styles,Oe=!1;if(!fe){Oe=!0;const Tt={};m.easing&&(Tt.easing=m.easing),fe=ou(Tt)}l.currentTime+=m.duration+m.delay;const at=this.visitStyle(fe,l);at.isEmptyStep=Oe,C=at}return l.currentAnimateTimings=null,{type:4,timings:m,style:C,options:null}}visitStyle(h,l){const m=this._makeStyleAst(h,l);return this._validateStyleAst(m,l),m}_makeStyleAst(h,l){const m=[],C=Array.isArray(h.styles)?h.styles:[h.styles];for(let Oe of C)"string"==typeof Oe?Oe===Rs?m.push(Oe):l.errors.push(new o.vHH(3002,!1)):m.push(sd(Oe));let $=!1,fe=null;return m.forEach(Oe=>{if(Oe instanceof Map&&(Oe.has("easing")&&(fe=Oe.get("easing"),Oe.delete("easing")),!$))for(let at of Oe.values())if(at.toString().indexOf("{{")>=0){$=!0;break}}),{type:6,styles:m,easing:fe,offset:h.offset,containsDynamicStyles:$,options:null}}_validateStyleAst(h,l){const m=l.currentAnimateTimings;let C=l.currentTime,$=l.currentTime;m&&$>0&&($-=m.duration+m.delay),h.styles.forEach(fe=>{"string"!=typeof fe&&fe.forEach((Oe,at)=>{const Tt=l.collectedStyles.get(l.currentQuerySelector),sn=Tt.get(at);let vn=!0;sn&&($!=C&&$>=sn.startTime&&C<=sn.endTime&&(l.errors.push(function Pp(v,h,l,m,C){return new o.vHH(3010,!1)}()),vn=!1),$=sn.startTime),vn&&Tt.set(at,{startTime:$,endTime:C}),l.options&&function Fp(v,h,l){const m=h.params||{},C=hu(v);C.length&&C.forEach($=>{m.hasOwnProperty($)||l.push(function Ko(v){return new o.vHH(3001,!1)}())})}(Oe,l.options,l.errors)})})}visitKeyframes(h,l){const m={type:5,styles:[],options:null};if(!l.currentAnimateTimings)return l.errors.push(function td(){return new o.vHH(3011,!1)}()),m;let $=0;const fe=[];let Oe=!1,at=!1,Tt=0;const sn=h.steps.map(ho=>{const $i=this._makeStyleAst(ho,l);let fo=null!=$i.offset?$i.offset:function Yg(v){if("string"==typeof v)return null;let h=null;if(Array.isArray(v))v.forEach(l=>{if(l instanceof Map&&l.has("offset")){const m=l;h=parseFloat(m.get("offset")),m.delete("offset")}});else if(v instanceof Map&&v.has("offset")){const l=v;h=parseFloat(l.get("offset")),l.delete("offset")}return h}($i.styles),zo=0;return null!=fo&&($++,zo=$i.offset=fo),at=at||zo<0||zo>1,Oe=Oe||zo<Tt,Tt=zo,fe.push(zo),$i});at&&l.errors.push(function o_(){return new o.vHH(3012,!1)}()),Oe&&l.errors.push(function xp(){return new o.vHH(3200,!1)}());const vn=h.steps.length;let Er=0;$>0&&$<vn?l.errors.push(function dh(){return new o.vHH(3202,!1)}()):0==$&&(Er=1/(vn-1));const gr=vn-1,tr=l.currentTime,lr=l.currentAnimateTimings,Fi=lr.duration;return sn.forEach((ho,$i)=>{const fo=Er>0?$i==gr?1:Er*$i:fe[$i],zo=fo*Fi;l.currentTime=tr+lr.delay+zo,lr.duration=zo,this._validateStyleAst(ho,l),ho.offset=fo,m.styles.push(ho)}),m}visitReference(h,l){return{type:8,animation:gs(this,du(h.animation),l),options:Os(h.options)}}visitAnimateChild(h,l){return l.depCount++,{type:9,options:Os(h.options)}}visitAnimateRef(h,l){return{type:10,animation:this.visitReference(h.animation,l),options:Os(h.options)}}visitQuery(h,l){const m=l.currentQuerySelector,C=h.options||{};l.queryCount++,l.currentQuery=h;const[$,fe]=function Of(v){const h=!!v.split(/\s*,\s*/).find(l=>":self"==l);return h&&(v=v.replace(ld,"")),v=v.replace(/@\*/g,zc).replace(/@\w+/g,l=>zc+"-"+l.slice(1)).replace(/:animating/g,gh),[v,h]}(h.selector);l.currentQuerySelector=m.length?m+" "+$:$,os(l.collectedStyles,l.currentQuerySelector,new Map);const Oe=gs(this,du(h.animation),l);return l.currentQuery=null,l.currentQuerySelector=m,{type:11,selector:$,limit:C.limit||0,optional:!!C.optional,includeSelf:fe,animation:Oe,originalSelector:h.selector,options:Os(h.options)}}visitStagger(h,l){l.currentQuery||l.errors.push(function Rp(){return new o.vHH(3013,!1)}());const m="full"===h.timings?{duration:0,delay:0,easing:"full"}:na(h.timings,l.errors,!0);return{type:12,animation:gs(this,du(h.animation),l),timings:m,options:null}}}class Bp{constructor(h){this.errors=h,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Os(v){return v?(v=Dl(v)).params&&(v.params=function Nf(v){return v?Dl(v):null}(v.params)):v={},v}function ud(v,h,l){return{duration:v,delay:h,easing:l}}function kf(v,h,l,m,C,$,fe=null,Oe=!1){return{type:1,element:v,keyframes:h,preStyleProps:l,postStyleProps:m,duration:C,delay:$,totalTime:C+$,easing:fe,subTimeline:Oe}}class Ff{constructor(){this._map=new Map}get(h){return this._map.get(h)||[]}append(h,l){let m=this._map.get(h);m||this._map.set(h,m=[]),m.push(...l)}has(h){return this._map.has(h)}clear(){this._map.clear()}}const h_=new RegExp(":enter","g"),p_=new RegExp(":leave","g");function yh(v,h,l,m,C,$=new Map,fe=new Map,Oe,at,Tt=[]){return(new Lf).buildKeyframes(v,h,l,m,C,$,fe,Oe,at,Tt)}class Lf{buildKeyframes(h,l,m,C,$,fe,Oe,at,Tt,sn=[]){Tt=Tt||new Ff;const vn=new Eh(h,l,Tt,C,$,sn,[]);vn.options=at;const Er=at.delay?$c(at.delay):0;vn.currentTimeline.delayNextStep(Er),vn.currentTimeline.setStyles([fe],null,vn.errors,at),gs(this,m,vn);const gr=vn.timelines.filter(tr=>tr.containsAnimation());if(gr.length&&Oe.size){let tr;for(let lr=gr.length-1;lr>=0;lr--){const Fi=gr[lr];if(Fi.element===l){tr=Fi;break}}tr&&!tr.allowOnlyTimelineStyles()&&tr.setStyles([Oe],null,vn.errors,at)}return gr.length?gr.map(tr=>tr.buildKeyframes()):[kf(l,[],[],[],0,Er,"",!1)]}visitTrigger(h,l){}visitState(h,l){}visitTransition(h,l){}visitAnimateChild(h,l){const m=l.subInstructions.get(l.element);if(m){const C=l.createSubContext(h.options),$=l.currentTimeline.currentTime,fe=this._visitSubInstructions(m,C,C.options);$!=fe&&l.transformIntoNewTimeline(fe)}l.previousNode=h}visitAnimateRef(h,l){const m=l.createSubContext(h.options);m.transformIntoNewTimeline(),this._applyAnimationRefDelays([h.options,h.animation.options],l,m),this.visitReference(h.animation,m),l.transformIntoNewTimeline(m.currentTimeline.currentTime),l.previousNode=h}_applyAnimationRefDelays(h,l,m){for(const C of h){const $=C?.delay;if($){const fe="number"==typeof $?$:$c(Ml($,C?.params??{},l.errors));m.delayNextStep(fe)}}}_visitSubInstructions(h,l,m){let $=l.currentTimeline.currentTime;const fe=null!=m.duration?$c(m.duration):null,Oe=null!=m.delay?$c(m.delay):null;return 0!==fe&&h.forEach(at=>{const Tt=l.appendInstructionToTimeline(at,fe,Oe);$=Math.max($,Tt.duration+Tt.delay)}),$}visitReference(h,l){l.updateOptions(h.options,!0),gs(this,h.animation,l),l.previousNode=h}visitSequence(h,l){const m=l.subContextCount;let C=l;const $=h.options;if($&&($.params||$.delay)&&(C=l.createSubContext($),C.transformIntoNewTimeline(),null!=$.delay)){6==C.previousNode.type&&(C.currentTimeline.snapshotCurrentStyles(),C.previousNode=dd);const fe=$c($.delay);C.delayNextStep(fe)}h.steps.length&&(h.steps.forEach(fe=>gs(this,fe,C)),C.currentTimeline.applyStylesToKeyframe(),C.subContextCount>m&&C.transformIntoNewTimeline()),l.previousNode=h}visitGroup(h,l){const m=[];let C=l.currentTimeline.currentTime;const $=h.options&&h.options.delay?$c(h.options.delay):0;h.steps.forEach(fe=>{const Oe=l.createSubContext(h.options);$&&Oe.delayNextStep($),gs(this,fe,Oe),C=Math.max(C,Oe.currentTimeline.currentTime),m.push(Oe.currentTimeline)}),m.forEach(fe=>l.currentTimeline.mergeTimelineCollectedStyles(fe)),l.transformIntoNewTimeline(C),l.previousNode=h}_visitTiming(h,l){if(h.dynamic){const m=h.strValue;return na(l.params?Ml(m,l.params,l.errors):m,l.errors)}return{duration:h.duration,delay:h.delay,easing:h.easing}}visitAnimate(h,l){const m=l.currentAnimateTimings=this._visitTiming(h.timings,l),C=l.currentTimeline;m.delay&&(l.incrementTime(m.delay),C.snapshotCurrentStyles());const $=h.style;5==$.type?this.visitKeyframes($,l):(l.incrementTime(m.duration),this.visitStyle($,l),C.applyStylesToKeyframe()),l.currentAnimateTimings=null,l.previousNode=h}visitStyle(h,l){const m=l.currentTimeline,C=l.currentAnimateTimings;!C&&m.hasCurrentStyleProperties()&&m.forwardFrame();const $=C&&C.easing||h.easing;h.isEmptyStep?m.applyEmptyStep($):m.setStyles(h.styles,$,l.errors,l.options),l.previousNode=h}visitKeyframes(h,l){const m=l.currentAnimateTimings,C=l.currentTimeline.duration,$=m.duration,Oe=l.createSubContext().currentTimeline;Oe.easing=m.easing,h.styles.forEach(at=>{Oe.forwardTime((at.offset||0)*$),Oe.setStyles(at.styles,at.easing,l.errors,l.options),Oe.applyStylesToKeyframe()}),l.currentTimeline.mergeTimelineCollectedStyles(Oe),l.transformIntoNewTimeline(C+$),l.previousNode=h}visitQuery(h,l){const m=l.currentTimeline.currentTime,C=h.options||{},$=C.delay?$c(C.delay):0;$&&(6===l.previousNode.type||0==m&&l.currentTimeline.hasCurrentStyleProperties())&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=dd);let fe=m;const Oe=l.invokeQuery(h.selector,h.originalSelector,h.limit,h.includeSelf,!!C.optional,l.errors);l.currentQueryTotal=Oe.length;let at=null;Oe.forEach((Tt,sn)=>{l.currentQueryIndex=sn;const vn=l.createSubContext(h.options,Tt);$&&vn.delayNextStep($),Tt===l.element&&(at=vn.currentTimeline),gs(this,h.animation,vn),vn.currentTimeline.applyStylesToKeyframe(),fe=Math.max(fe,vn.currentTimeline.currentTime)}),l.currentQueryIndex=0,l.currentQueryTotal=0,l.transformIntoNewTimeline(fe),at&&(l.currentTimeline.mergeTimelineCollectedStyles(at),l.currentTimeline.snapshotCurrentStyles()),l.previousNode=h}visitStagger(h,l){const m=l.parentContext,C=l.currentTimeline,$=h.timings,fe=Math.abs($.duration),Oe=fe*(l.currentQueryTotal-1);let at=fe*l.currentQueryIndex;switch($.duration<0?"reverse":$.easing){case"reverse":at=Oe-at;break;case"full":at=m.currentStaggerTime}const sn=l.currentTimeline;at&&sn.delayNextStep(at);const vn=sn.currentTime;gs(this,h.animation,l),l.previousNode=h,m.currentStaggerTime=C.currentTime-vn+(C.startTime-m.currentTimeline.startTime)}}const dd={};class Eh{constructor(h,l,m,C,$,fe,Oe,at){this._driver=h,this.element=l,this.subInstructions=m,this._enterClassName=C,this._leaveClassName=$,this.errors=fe,this.timelines=Oe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=dd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=at||new Vf(this._driver,l,0),Oe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(h,l){if(!h)return;const m=h;let C=this.options;null!=m.duration&&(C.duration=$c(m.duration)),null!=m.delay&&(C.delay=$c(m.delay));const $=m.params;if($){let fe=C.params;fe||(fe=this.options.params={}),Object.keys($).forEach(Oe=>{(!l||!fe.hasOwnProperty(Oe))&&(fe[Oe]=Ml($[Oe],fe,this.errors))})}}_copyOptions(){const h={};if(this.options){const l=this.options.params;if(l){const m=h.params={};Object.keys(l).forEach(C=>{m[C]=l[C]})}}return h}createSubContext(h=null,l,m){const C=l||this.element,$=new Eh(this._driver,C,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(C,m||0));return $.previousNode=this.previousNode,$.currentAnimateTimings=this.currentAnimateTimings,$.options=this._copyOptions(),$.updateOptions(h),$.currentQueryIndex=this.currentQueryIndex,$.currentQueryTotal=this.currentQueryTotal,$.parentContext=this,this.subContextCount++,$}transformIntoNewTimeline(h){return this.previousNode=dd,this.currentTimeline=this.currentTimeline.fork(this.element,h),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(h,l,m){const C={duration:l??h.duration,delay:this.currentTimeline.currentTime+(m??0)+h.delay,easing:""},$=new gu(this._driver,h.element,h.keyframes,h.preStyleProps,h.postStyleProps,C,h.stretchStartingKeyframe);return this.timelines.push($),C}incrementTime(h){this.currentTimeline.forwardTime(this.currentTimeline.duration+h)}delayNextStep(h){h>0&&this.currentTimeline.delayNextStep(h)}invokeQuery(h,l,m,C,$,fe){let Oe=[];if(C&&Oe.push(this.element),h.length>0){h=(h=h.replace(h_,"."+this._enterClassName)).replace(p_,"."+this._leaveClassName);let Tt=this._driver.query(this.element,h,1!=m);0!==m&&(Tt=m<0?Tt.slice(Tt.length+m,Tt.length):Tt.slice(0,m)),Oe.push(...Tt)}return!$&&0==Oe.length&&fe.push(function cu(v){return new o.vHH(3014,!1)}()),Oe}}class Vf{constructor(h,l,m,C){this._driver=h,this.element=l,this.startTime=m,this._elementTimelineStylesLookup=C,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(l),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(l,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(h){const l=1===this._keyframes.size&&this._pendingStyles.size;this.duration||l?(this.forwardTime(this.currentTime+h),l&&this.snapshotCurrentStyles()):this.startTime+=h}fork(h,l){return this.applyStylesToKeyframe(),new Vf(this._driver,h,l||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(h){this.applyStylesToKeyframe(),this.duration=h,this._loadKeyframe()}_updateStyle(h,l){this._localTimelineStyles.set(h,l),this._globalTimelineStyles.set(h,l),this._styleSummary.set(h,{time:this.currentTime,value:l})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(h){h&&this._previousKeyframe.set("easing",h);for(let[l,m]of this._globalTimelineStyles)this._backFill.set(l,m||Rs),this._currentKeyframe.set(l,Rs);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(h,l,m,C){l&&this._previousKeyframe.set("easing",l);const $=C&&C.params||{},fe=function g_(v,h){const l=new Map;let m;return v.forEach(C=>{if("*"===C){m=m||h.keys();for(let $ of m)l.set($,Rs)}else rc(C,l)}),l}(h,this._globalTimelineStyles);for(let[Oe,at]of fe){const Tt=Ml(at,$,m);this._pendingStyles.set(Oe,Tt),this._localTimelineStyles.has(Oe)||this._backFill.set(Oe,this._globalTimelineStyles.get(Oe)??Rs),this._updateStyle(Oe,Tt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((h,l)=>{this._currentKeyframe.set(l,h)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((h,l)=>{this._currentKeyframe.has(l)||this._currentKeyframe.set(l,h)}))}snapshotCurrentStyles(){for(let[h,l]of this._localTimelineStyles)this._pendingStyles.set(h,l),this._updateStyle(h,l)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const h=[];for(let l in this._currentKeyframe)h.push(l);return h}mergeTimelineCollectedStyles(h){h._styleSummary.forEach((l,m)=>{const C=this._styleSummary.get(m);(!C||l.time>C.time)&&this._updateStyle(m,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const h=new Set,l=new Set,m=1===this._keyframes.size&&0===this.duration;let C=[];this._keyframes.forEach((Oe,at)=>{const Tt=rc(Oe,new Map,this._backFill);Tt.forEach((sn,vn)=>{"!"===sn?h.add(vn):sn===Rs&&l.add(vn)}),m||Tt.set("offset",at/this.duration),C.push(Tt)});const $=h.size?fu(h.values()):[],fe=l.size?fu(l.values()):[];if(m){const Oe=C[0],at=new Map(Oe);Oe.set("offset",0),at.set("offset",1),C=[Oe,at]}return kf(this.element,C,$,fe,this.duration,this.startTime,this.easing,!1)}}class gu extends Vf{constructor(h,l,m,C,$,fe,Oe=!1){super(h,l,fe.delay),this.keyframes=m,this.preStyleProps=C,this.postStyleProps=$,this._stretchStartingKeyframe=Oe,this.timings={duration:fe.duration,delay:fe.delay,easing:fe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let h=this.keyframes,{delay:l,duration:m,easing:C}=this.timings;if(this._stretchStartingKeyframe&&l){const $=[],fe=m+l,Oe=l/fe,at=rc(h[0]);at.set("offset",0),$.push(at);const Tt=rc(h[0]);Tt.set("offset",Hp(Oe)),$.push(Tt);const sn=h.length-1;for(let vn=1;vn<=sn;vn++){let Er=rc(h[vn]);const gr=Er.get("offset");Er.set("offset",Hp((l+gr*m)/fe)),$.push(Er)}m=fe,l=0,C="",h=$}return kf(this.element,h,this.preStyleProps,this.postStyleProps,m,l,C,!0)}}function Hp(v,h=3){const l=Math.pow(10,h-1);return Math.round(v*l)/l}class Uf{}const Xg=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class zp extends Uf{normalizePropertyName(h,l){return Mf(h)}normalizeStyleValue(h,l,m,C){let $="";const fe=m.toString().trim();if(Xg.has(l)&&0!==m&&"0"!==m)if("number"==typeof m)$="px";else{const Oe=m.match(/^[+-]?[\d\.]+([a-z]*)$/);Oe&&0==Oe[1].length&&C.push(function gf(v,h){return new o.vHH(3005,!1)}())}return fe+$}}function $p(v,h,l,m,C,$,fe,Oe,at,Tt,sn,vn,Er){return{type:0,element:v,triggerName:h,isRemovalTransition:C,fromState:l,fromStyles:$,toState:m,toStyles:fe,timelines:Oe,queriedElements:at,preStyleProps:Tt,postStyleProps:sn,totalTime:vn,errors:Er}}const Ah={};class em{constructor(h,l,m){this._triggerName=h,this.ast=l,this._stateStyles=m}match(h,l,m,C){return function kr(v,h,l,m,C){return v.some($=>$(h,l,m,C))}(this.ast.matchers,h,l,m,C)}buildStyles(h,l,m){let C=this._stateStyles.get("*");return void 0!==h&&(C=this._stateStyles.get(h?.toString())||C),C?C.buildStyles(l,m):new Map}build(h,l,m,C,$,fe,Oe,at,Tt,sn){const vn=[],Er=this.ast.options&&this.ast.options.params||Ah,tr=this.buildStyles(m,Oe&&Oe.params||Ah,vn),lr=at&&at.params||Ah,Fi=this.buildStyles(C,lr,vn),ho=new Set,$i=new Map,fo=new Map,zo="void"===C,Hl={params:hd(lr,Er),delay:this.ast.options?.delay},Ea=sn?[]:yh(h,l,this.ast.animation,$,fe,tr,Fi,Hl,Tt,vn);let Co=0;if(Ea.forEach(zl=>{Co=Math.max(zl.duration+zl.delay,Co)}),vn.length)return $p(l,this._triggerName,m,C,zo,tr,Fi,[],[],$i,fo,Co,vn);Ea.forEach(zl=>{const $l=zl.element,rl=os($i,$l,new Set);zl.preStyleProps.forEach(Md=>rl.add(Md));const zh=os(fo,$l,new Set);zl.postStyleProps.forEach(Md=>zh.add(Md)),$l!==l&&ho.add($l)});const nl=fu(ho.values());return $p(l,this._triggerName,m,C,zo,tr,Fi,Ea,nl,$i,fo,Co)}}function hd(v,h){const l=Dl(h);for(const m in v)v.hasOwnProperty(m)&&null!=v[m]&&(l[m]=v[m]);return l}class Zp{constructor(h,l,m){this.styles=h,this.defaultParams=l,this.normalizer=m}buildStyles(h,l){const m=new Map,C=Dl(this.defaultParams);return Object.keys(h).forEach($=>{const fe=h[$];null!==fe&&(C[$]=fe)}),this.styles.styles.forEach($=>{"string"!=typeof $&&$.forEach((fe,Oe)=>{fe&&(fe=Ml(fe,C,l));const at=this.normalizer.normalizePropertyName(Oe,l);fe=this.normalizer.normalizeStyleValue(Oe,at,fe,l),m.set(Oe,fe)})}),m}}class Bf{constructor(h,l,m){this.name=h,this.ast=l,this._normalizer=m,this.transitionFactories=[],this.states=new Map,l.states.forEach(C=>{this.states.set(C.name,new Zp(C.style,C.options&&C.options.params||{},m))}),uo(this.states,"true","1"),uo(this.states,"false","0"),l.transitions.forEach(C=>{this.transitionFactories.push(new em(h,C,this.states))}),this.fallbackTransition=function jo(v,h,l){return new em(v,{type:1,animation:{type:2,steps:[],options:null},matchers:[(fe,Oe)=>!0],options:null,queryCount:0,depCount:0},h)}(h,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(h,l,m,C){return this.transitionFactories.find(fe=>fe.match(h,l,m,C))||null}matchStyles(h,l,m){return this.fallbackTransition.buildStyles(h,l,m)}}function uo(v,h,l){v.has(h)?v.has(l)||v.set(l,v.get(h)):v.has(l)&&v.set(h,v.get(l))}const Va=new Ff;class nm{constructor(h,l,m){this.bodyNode=h,this._driver=l,this._normalizer=m,this._animations=new Map,this._playersById=new Map,this.players=[]}register(h,l){const m=[],$=ra(this._driver,l,m,[]);if(m.length)throw function nd(v){return new o.vHH(3503,!1)}();this._animations.set(h,$)}_buildPlayer(h,l,m){const C=h.element,$=Af(this._normalizer,h.keyframes,l,m);return this._driver.animate(C,$,h.duration,h.delay,h.easing,[],!0)}create(h,l,m={}){const C=[],$=this._animations.get(h);let fe;const Oe=new Map;if($?(fe=yh(this._driver,l,$,od,wl,new Map,new Map,m,Va,C),fe.forEach(sn=>{const vn=os(Oe,sn.element,new Map);sn.postStyleProps.forEach(Er=>vn.set(Er,null))})):(C.push(function Fg(){return new o.vHH(3300,!1)}()),fe=[]),C.length)throw function vf(v){return new o.vHH(3504,!1)}();Oe.forEach((sn,vn)=>{sn.forEach((Er,gr)=>{sn.set(gr,this._driver.computeStyle(vn,gr,Rs))})});const Tt=ma(fe.map(sn=>{const vn=Oe.get(sn.element);return this._buildPlayer(sn,new Map,vn)}));return this._playersById.set(h,Tt),Tt.onDestroy(()=>this.destroy(h)),this.players.push(Tt),Tt}destroy(h){const l=this._getPlayer(h);l.destroy(),this._playersById.delete(h);const m=this.players.indexOf(l);m>=0&&this.players.splice(m,1)}_getPlayer(h){const l=this._playersById.get(h);if(!l)throw function yf(v){return new o.vHH(3301,!1)}();return l}listen(h,l,m,C){const $=uu(l,"","","");return hh(this._getPlayer(h),m,$,C),()=>{}}command(h,l,m,C){if("register"==m)return void this.register(h,C[0]);if("create"==m)return void this.create(h,l,C[0]||{});const $=this._getPlayer(h);switch(m){case"play":$.play();break;case"pause":$.pause();break;case"reset":$.reset();break;case"restart":$.restart();break;case"finish":$.finish();break;case"init":$.init();break;case"setPosition":$.setPosition(parseFloat(C[0]));break;case"destroy":this.destroy(h)}}}const Ih="ng-animate-queued",bh="ng-animate-disabled",rm=[],Rl={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ni={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},_a="__ng_removed";class pd{get params(){return this.options.params}constructor(h,l=""){this.namespaceId=l;const m=h&&h.hasOwnProperty("value");if(this.value=function v_(v){return v??null}(m?h.value:h),m){const $=Dl(h);delete $.value,this.options=$}else this.options={};this.options.params||(this.options.params={})}absorbOptions(h){const l=h.params;if(l){const m=this.options.params;Object.keys(l).forEach(C=>{null==m[C]&&(m[C]=l[C])})}}}const ki="void",gd=new pd(ki);class Hf{constructor(h,l,m){this.id=h,this.hostElement=l,this._engine=m,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+h,ia(l,this._hostClassName)}listen(h,l,m,C){if(!this._triggers.has(l))throw function Lg(v,h){return new o.vHH(3302,!1)}();if(null==m||0==m.length)throw function Vg(v){return new o.vHH(3303,!1)}();if(!function im(v){return"start"==v||"done"==v}(m))throw function Ug(v,h){return new o.vHH(3400,!1)}();const $=os(this._elementListeners,h,[]),fe={name:l,phase:m,callback:C};$.push(fe);const Oe=os(this._engine.statesByElement,h,new Map);return Oe.has(l)||(ia(h,nc),ia(h,nc+"-"+l),Oe.set(l,gd)),()=>{this._engine.afterFlush(()=>{const at=$.indexOf(fe);at>=0&&$.splice(at,1),this._triggers.has(l)||Oe.delete(l)})}}register(h,l){return!this._triggers.has(h)&&(this._triggers.set(h,l),!0)}_getTrigger(h){const l=this._triggers.get(h);if(!l)throw function Bg(v){return new o.vHH(3401,!1)}();return l}trigger(h,l,m,C=!0){const $=this._getTrigger(l),fe=new Qc(this.id,l,h);let Oe=this._engine.statesByElement.get(h);Oe||(ia(h,nc),ia(h,nc+"-"+l),this._engine.statesByElement.set(h,Oe=new Map));let at=Oe.get(l);const Tt=new pd(m,this.id);if(!(m&&m.hasOwnProperty("value"))&&at&&Tt.absorbOptions(at.options),Oe.set(l,Tt),at||(at=gd),Tt.value!==ki&&at.value===Tt.value){if(!function cm(v,h){const l=Object.keys(v),m=Object.keys(h);if(l.length!=m.length)return!1;for(let C=0;C<l.length;C++){const $=l[C];if(!h.hasOwnProperty($)||v[$]!==h[$])return!1}return!0}(at.params,Tt.params)){const lr=[],Fi=$.matchStyles(at.value,at.params,lr),ho=$.matchStyles(Tt.value,Tt.params,lr);lr.length?this._engine.reportError(lr):this._engine.afterFlush(()=>{qc(h,Fi),Zc(h,ho)})}return}const Er=os(this._engine.playersByElement,h,[]);Er.forEach(lr=>{lr.namespaceId==this.id&&lr.triggerName==l&&lr.queued&&lr.destroy()});let gr=$.matchTransition(at.value,Tt.value,h,Tt.params),tr=!1;if(!gr){if(!C)return;gr=$.fallbackTransition,tr=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:h,triggerName:l,transition:gr,fromState:at,toState:Tt,player:fe,isFallbackTransition:tr}),tr||(ia(h,Ih),fe.onStart(()=>{va(h,Ih)})),fe.onDone(()=>{let lr=this.players.indexOf(fe);lr>=0&&this.players.splice(lr,1);const Fi=this._engine.playersByElement.get(h);if(Fi){let ho=Fi.indexOf(fe);ho>=0&&Fi.splice(ho,1)}}),this.players.push(fe),Er.push(fe),fe}deregister(h){this._triggers.delete(h),this._engine.statesByElement.forEach(l=>l.delete(h)),this._elementListeners.forEach((l,m)=>{this._elementListeners.set(m,l.filter(C=>C.name!=h))})}clearElementCache(h){this._engine.statesByElement.delete(h),this._elementListeners.delete(h);const l=this._engine.playersByElement.get(h);l&&(l.forEach(m=>m.destroy()),this._engine.playersByElement.delete(h))}_signalRemovalForInnerTriggers(h,l){const m=this._engine.driver.query(h,zc,!0);m.forEach(C=>{if(C[_a])return;const $=this._engine.fetchNamespacesByElement(C);$.size?$.forEach(fe=>fe.triggerLeaveAnimation(C,l,!1,!0)):this.clearElementCache(C)}),this._engine.afterFlushAnimationsDone(()=>m.forEach(C=>this.clearElementCache(C)))}triggerLeaveAnimation(h,l,m,C){const $=this._engine.statesByElement.get(h),fe=new Map;if($){const Oe=[];if($.forEach((at,Tt)=>{if(fe.set(Tt,at.value),this._triggers.has(Tt)){const sn=this.trigger(h,Tt,ki,C);sn&&Oe.push(sn)}}),Oe.length)return this._engine.markElementAsRemoved(this.id,h,!0,l,fe),m&&ma(Oe).onDone(()=>this._engine.processLeaveNode(h)),!0}return!1}prepareLeaveAnimationListeners(h){const l=this._elementListeners.get(h),m=this._engine.statesByElement.get(h);if(l&&m){const C=new Set;l.forEach($=>{const fe=$.name;if(C.has(fe))return;C.add(fe);const at=this._triggers.get(fe).fallbackTransition,Tt=m.get(fe)||gd,sn=new pd(ki),vn=new Qc(this.id,fe,h);this._engine.totalQueuedPlayers++,this._queue.push({element:h,triggerName:fe,transition:at,fromState:Tt,toState:sn,player:vn,isFallbackTransition:!0})})}}removeNode(h,l){const m=this._engine;if(h.childElementCount&&this._signalRemovalForInnerTriggers(h,l),this.triggerLeaveAnimation(h,l,!0))return;let C=!1;if(m.totalAnimations){const $=m.players.length?m.playersByQueriedElement.get(h):[];if($&&$.length)C=!0;else{let fe=h;for(;fe=fe.parentNode;)if(m.statesByElement.get(fe)){C=!0;break}}}if(this.prepareLeaveAnimationListeners(h),C)m.markElementAsRemoved(this.id,h,!1,l);else{const $=h[_a];(!$||$===Rl)&&(m.afterFlush(()=>this.clearElementCache(h)),m.destroyInnerAnimations(h),m._onRemovalComplete(h,l))}}insertNode(h,l){ia(h,this._hostClassName)}drainQueuedTransitions(h){const l=[];return this._queue.forEach(m=>{const C=m.player;if(C.destroyed)return;const $=m.element,fe=this._elementListeners.get($);fe&&fe.forEach(Oe=>{if(Oe.name==m.triggerName){const at=uu($,m.triggerName,m.fromState.value,m.toState.value);at._data=h,hh(m.player,Oe.phase,at,Oe.callback)}}),C.markedForDestroy?this._engine.afterFlush(()=>{C.destroy()}):l.push(m)}),this._queue=[],l.sort((m,C)=>{const $=m.transition.ast.depCount,fe=C.transition.ast.depCount;return 0==$||0==fe?$-fe:this._engine.driver.containsElement(m.element,C.element)?1:-1})}destroy(h){this.players.forEach(l=>l.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,h)}}class ic{_onRemovalComplete(h,l){this.onRemovalComplete(h,l)}constructor(h,l,m){this.bodyNode=h,this.driver=l,this._normalizer=m,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(C,$)=>{}}get queuedPlayers(){const h=[];return this._namespaceList.forEach(l=>{l.players.forEach(m=>{m.queued&&h.push(m)})}),h}createNamespace(h,l){const m=new Hf(h,l,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,l)?this._balanceNamespaceList(m,l):(this.newHostElements.set(l,m),this.collectEnterElement(l)),this._namespaceLookup[h]=m}_balanceNamespaceList(h,l){const m=this._namespaceList,C=this.namespacesByHostElement;if(m.length-1>=0){let fe=!1,Oe=this.driver.getParentElement(l);for(;Oe;){const at=C.get(Oe);if(at){const Tt=m.indexOf(at);m.splice(Tt+1,0,h),fe=!0;break}Oe=this.driver.getParentElement(Oe)}fe||m.unshift(h)}else m.push(h);return C.set(l,h),h}register(h,l){let m=this._namespaceLookup[h];return m||(m=this.createNamespace(h,l)),m}registerTrigger(h,l,m){let C=this._namespaceLookup[h];C&&C.register(l,m)&&this.totalAnimations++}destroy(h,l){h&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const m=this._fetchNamespace(h);this.namespacesByHostElement.delete(m.hostElement);const C=this._namespaceList.indexOf(m);C>=0&&this._namespaceList.splice(C,1),m.destroy(l),delete this._namespaceLookup[h]}))}_fetchNamespace(h){return this._namespaceLookup[h]}fetchNamespacesByElement(h){const l=new Set,m=this.statesByElement.get(h);if(m)for(let C of m.values())if(C.namespaceId){const $=this._fetchNamespace(C.namespaceId);$&&l.add($)}return l}trigger(h,l,m,C){if(zf(l)){const $=this._fetchNamespace(h);if($)return $.trigger(l,m,C),!0}return!1}insertNode(h,l,m,C){if(!zf(l))return;const $=l[_a];if($&&$.setForRemoval){$.setForRemoval=!1,$.setForMove=!0;const fe=this.collectedLeaveElements.indexOf(l);fe>=0&&this.collectedLeaveElements.splice(fe,1)}if(h){const fe=this._fetchNamespace(h);fe&&fe.insertNode(l,m)}C&&this.collectEnterElement(l)}collectEnterElement(h){this.collectedEnterElements.push(h)}markElementAsDisabled(h,l){l?this.disabledNodes.has(h)||(this.disabledNodes.add(h),ia(h,bh)):this.disabledNodes.has(h)&&(this.disabledNodes.delete(h),va(h,bh))}removeNode(h,l,m){if(zf(l)){const C=h?this._fetchNamespace(h):null;C?C.removeNode(l,m):this.markElementAsRemoved(h,l,!1,m);const $=this.namespacesByHostElement.get(l);$&&$.id!==h&&$.removeNode(l,m)}else this._onRemovalComplete(l,m)}markElementAsRemoved(h,l,m,C,$){this.collectedLeaveElements.push(l),l[_a]={namespaceId:h,setForRemoval:C,hasAnimation:m,removedBeforeQueried:!1,previousTriggersValues:$}}listen(h,l,m,C,$){return zf(l)?this._fetchNamespace(h).listen(l,m,C,$):()=>{}}_buildInstruction(h,l,m,C,$){return h.transition.build(this.driver,h.element,h.fromState.value,h.toState.value,m,C,h.fromState.options,h.toState.options,l,$)}destroyInnerAnimations(h){let l=this.driver.query(h,zc,!0);l.forEach(m=>this.destroyActiveAnimationsForElement(m)),0!=this.playersByQueriedElement.size&&(l=this.driver.query(h,gh,!0),l.forEach(m=>this.finishActiveQueriedAnimationOnElement(m)))}destroyActiveAnimationsForElement(h){const l=this.playersByElement.get(h);l&&l.forEach(m=>{m.queued?m.markedForDestroy=!0:m.destroy()})}finishActiveQueriedAnimationOnElement(h){const l=this.playersByQueriedElement.get(h);l&&l.forEach(m=>m.finish())}whenRenderingDone(){return new Promise(h=>{if(this.players.length)return ma(this.players).onDone(()=>h());h()})}processLeaveNode(h){const l=h[_a];if(l&&l.setForRemoval){if(h[_a]=Rl,l.namespaceId){this.destroyInnerAnimations(h);const m=this._fetchNamespace(l.namespaceId);m&&m.clearElementCache(h)}this._onRemovalComplete(h,l.setForRemoval)}h.classList?.contains(bh)&&this.markElementAsDisabled(h,!1),this.driver.query(h,".ng-animate-disabled",!0).forEach(m=>{this.markElementAsDisabled(m,!1)})}flush(h=-1){let l=[];if(this.newHostElements.size&&(this.newHostElements.forEach((m,C)=>this._balanceNamespaceList(m,C)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let m=0;m<this.collectedEnterElements.length;m++)ia(this.collectedEnterElements[m],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const m=[];try{l=this._flushAnimations(m,h)}finally{for(let C=0;C<m.length;C++)m[C]()}}else for(let m=0;m<this.collectedLeaveElements.length;m++)this.processLeaveNode(this.collectedLeaveElements[m]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(m=>m()),this._flushFns=[],this._whenQuietFns.length){const m=this._whenQuietFns;this._whenQuietFns=[],l.length?ma(l).onDone(()=>{m.forEach(C=>C())}):m.forEach(C=>C())}}reportError(h){throw function a_(v){return new o.vHH(3402,!1)}()}_flushAnimations(h,l){const m=new Ff,C=[],$=new Map,fe=[],Oe=new Map,at=new Map,Tt=new Map,sn=new Set;this.disabledNodes.forEach(Gn=>{sn.add(Gn);const rr=this.driver.query(Gn,".ng-animate-queued",!0);for(let dr=0;dr<rr.length;dr++)sn.add(rr[dr])});const vn=this.bodyNode,Er=Array.from(this.statesByElement.keys()),gr=sm(Er,this.collectedEnterElements),tr=new Map;let lr=0;gr.forEach((Gn,rr)=>{const dr=od+lr++;tr.set(rr,dr),Gn.forEach(ni=>ia(ni,dr))});const Fi=[],ho=new Set,$i=new Set;for(let Gn=0;Gn<this.collectedLeaveElements.length;Gn++){const rr=this.collectedLeaveElements[Gn],dr=rr[_a];dr&&dr.setForRemoval&&(Fi.push(rr),ho.add(rr),dr.hasAnimation?this.driver.query(rr,".ng-star-inserted",!0).forEach(ni=>ho.add(ni)):$i.add(rr))}const fo=new Map,zo=sm(Er,Array.from(ho));zo.forEach((Gn,rr)=>{const dr=wl+lr++;fo.set(rr,dr),Gn.forEach(ni=>ia(ni,dr))}),h.push(()=>{gr.forEach((Gn,rr)=>{const dr=tr.get(rr);Gn.forEach(ni=>va(ni,dr))}),zo.forEach((Gn,rr)=>{const dr=fo.get(rr);Gn.forEach(ni=>va(ni,dr))}),Fi.forEach(Gn=>{this.processLeaveNode(Gn)})});const Hl=[],Ea=[];for(let Gn=this._namespaceList.length-1;Gn>=0;Gn--)this._namespaceList[Gn].drainQueuedTransitions(l).forEach(dr=>{const ni=dr.player,io=dr.element;if(Hl.push(ni),this.collectedEnterElements.length){const po=io[_a];if(po&&po.setForMove){if(po.previousTriggersValues&&po.previousTriggersValues.has(dr.triggerName)){const Zl=po.previousTriggersValues.get(dr.triggerName),Lo=this.statesByElement.get(dr.element);if(Lo&&Lo.has(dr.triggerName)){const $h=Lo.get(dr.triggerName);$h.value=Zl,Lo.set(dr.triggerName,$h)}}return void ni.destroy()}}const gi=!vn||!this.driver.containsElement(vn,io),cs=fo.get(io),il=tr.get(io),Li=this._buildInstruction(dr,m,il,cs,gi);if(Li.errors&&Li.errors.length)return void Ea.push(Li);if(gi)return ni.onStart(()=>qc(io,Li.fromStyles)),ni.onDestroy(()=>Zc(io,Li.toStyles)),void C.push(ni);if(dr.isFallbackTransition)return ni.onStart(()=>qc(io,Li.fromStyles)),ni.onDestroy(()=>Zc(io,Li.toStyles)),void C.push(ni);const fp=[];Li.timelines.forEach(po=>{po.stretchStartingKeyframe=!0,this.disabledNodes.has(po.element)||fp.push(po)}),Li.timelines=fp,m.append(io,Li.timelines),fe.push({instruction:Li,player:ni,element:io}),Li.queriedElements.forEach(po=>os(Oe,po,[]).push(ni)),Li.preStyleProps.forEach((po,Zl)=>{if(po.size){let Lo=at.get(Zl);Lo||at.set(Zl,Lo=new Set),po.forEach(($h,_g)=>Lo.add(_g))}}),Li.postStyleProps.forEach((po,Zl)=>{let Lo=Tt.get(Zl);Lo||Tt.set(Zl,Lo=new Set),po.forEach(($h,_g)=>Lo.add(_g))})});if(Ea.length){const Gn=[];Ea.forEach(rr=>{Gn.push(function jg(v,h){return new o.vHH(3505,!1)}())}),Hl.forEach(rr=>rr.destroy()),this.reportError(Gn)}const Co=new Map,nl=new Map;fe.forEach(Gn=>{const rr=Gn.element;m.has(rr)&&(nl.set(rr,rr),this._beforeAnimationBuild(Gn.player.namespaceId,Gn.instruction,Co))}),C.forEach(Gn=>{const rr=Gn.element;this._getPreviousPlayers(rr,!1,Gn.namespaceId,Gn.triggerName,null).forEach(ni=>{os(Co,rr,[]).push(ni),ni.destroy()})});const zl=Fi.filter(Gn=>mu(Gn,at,Tt)),$l=new Map;om($l,this.driver,$i,Tt,Rs).forEach(Gn=>{mu(Gn,at,Tt)&&zl.push(Gn)});const zh=new Map;gr.forEach((Gn,rr)=>{om(zh,this.driver,new Set(Gn),at,"!")}),zl.forEach(Gn=>{const rr=$l.get(Gn),dr=zh.get(Gn);$l.set(Gn,new Map([...rr?.entries()??[],...dr?.entries()??[]]))});const Md=[],Pd=[],hp={};fe.forEach(Gn=>{const{element:rr,player:dr,instruction:ni}=Gn;if(m.has(rr)){if(sn.has(rr))return dr.onDestroy(()=>Zc(rr,ni.toStyles)),dr.disabled=!0,dr.overrideTotalTime(ni.totalTime),void C.push(dr);let io=hp;if(nl.size>1){let cs=rr;const il=[];for(;cs=cs.parentNode;){const Li=nl.get(cs);if(Li){io=Li;break}il.push(cs)}il.forEach(Li=>nl.set(Li,io))}const gi=this._buildAnimation(dr.namespaceId,ni,Co,$,zh,$l);if(dr.setRealPlayer(gi),io===hp)Md.push(dr);else{const cs=this.playersByElement.get(io);cs&&cs.length&&(dr.parentPlayer=ma(cs)),C.push(dr)}}else qc(rr,ni.fromStyles),dr.onDestroy(()=>Zc(rr,ni.toStyles)),Pd.push(dr),sn.has(rr)&&C.push(dr)}),Pd.forEach(Gn=>{const rr=$.get(Gn.element);if(rr&&rr.length){const dr=ma(rr);Gn.setRealPlayer(dr)}}),C.forEach(Gn=>{Gn.parentPlayer?Gn.syncPlayerEvents(Gn.parentPlayer):Gn.destroy()});for(let Gn=0;Gn<Fi.length;Gn++){const rr=Fi[Gn],dr=rr[_a];if(va(rr,wl),dr&&dr.hasAnimation)continue;let ni=[];if(Oe.size){let gi=Oe.get(rr);gi&&gi.length&&ni.push(...gi);let cs=this.driver.query(rr,gh,!0);for(let il=0;il<cs.length;il++){let Li=Oe.get(cs[il]);Li&&Li.length&&ni.push(...Li)}}const io=ni.filter(gi=>!gi.destroyed);io.length?am(this,rr,io):this.processLeaveNode(rr)}return Fi.length=0,Md.forEach(Gn=>{this.players.push(Gn),Gn.onDone(()=>{Gn.destroy();const rr=this.players.indexOf(Gn);this.players.splice(rr,1)}),Gn.play()}),Md}afterFlush(h){this._flushFns.push(h)}afterFlushAnimationsDone(h){this._whenQuietFns.push(h)}_getPreviousPlayers(h,l,m,C,$){let fe=[];if(l){const Oe=this.playersByQueriedElement.get(h);Oe&&(fe=Oe)}else{const Oe=this.playersByElement.get(h);if(Oe){const at=!$||$==ki;Oe.forEach(Tt=>{Tt.queued||!at&&Tt.triggerName!=C||fe.push(Tt)})}}return(m||C)&&(fe=fe.filter(Oe=>!(m&&m!=Oe.namespaceId||C&&C!=Oe.triggerName))),fe}_beforeAnimationBuild(h,l,m){const $=l.element,fe=l.isRemovalTransition?void 0:h,Oe=l.isRemovalTransition?void 0:l.triggerName;for(const at of l.timelines){const Tt=at.element,sn=Tt!==$,vn=os(m,Tt,[]);this._getPreviousPlayers(Tt,sn,fe,Oe,l.toState).forEach(gr=>{const tr=gr.getRealPlayer();tr.beforeDestroy&&tr.beforeDestroy(),gr.destroy(),vn.push(gr)})}qc($,l.fromStyles)}_buildAnimation(h,l,m,C,$,fe){const Oe=l.triggerName,at=l.element,Tt=[],sn=new Set,vn=new Set,Er=l.timelines.map(tr=>{const lr=tr.element;sn.add(lr);const Fi=lr[_a];if(Fi&&Fi.removedBeforeQueried)return new Cl(tr.duration,tr.delay);const ho=lr!==at,$i=function Ol(v){const h=[];return oc(v,h),h}((m.get(lr)||rm).map(Co=>Co.getRealPlayer())).filter(Co=>!!Co.element&&Co.element===lr),fo=$.get(lr),zo=fe.get(lr),Hl=Af(this._normalizer,tr.keyframes,fo,zo),Ea=this._buildPlayer(tr,Hl,$i);if(tr.subTimeline&&C&&vn.add(lr),ho){const Co=new Qc(h,Oe,lr);Co.setRealPlayer(Ea),Tt.push(Co)}return Ea});Tt.forEach(tr=>{os(this.playersByQueriedElement,tr.element,[]).push(tr),tr.onDone(()=>function Wp(v,h,l){let m=v.get(h);if(m){if(m.length){const C=m.indexOf(l);m.splice(C,1)}0==m.length&&v.delete(h)}return m}(this.playersByQueriedElement,tr.element,tr))}),sn.forEach(tr=>ia(tr,Df));const gr=ma(Er);return gr.onDestroy(()=>{sn.forEach(tr=>va(tr,Df)),Zc(at,l.toStyles)}),vn.forEach(tr=>{os(C,tr,[]).push(gr)}),gr}_buildPlayer(h,l,m){return l.length>0?this.driver.animate(h.element,l,h.duration,h.delay,h.easing,m):new Cl(h.duration,h.delay)}}class Qc{constructor(h,l,m){this.namespaceId=h,this.triggerName=l,this.element=m,this._player=new Cl,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(h){this._containsRealPlayer||(this._player=h,this._queuedCallbacks.forEach((l,m)=>{l.forEach(C=>hh(h,m,void 0,C))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(h.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(h){this.totalTime=h}syncPlayerEvents(h){const l=this._player;l.triggerCallback&&h.onStart(()=>l.triggerCallback("start")),h.onDone(()=>this.finish()),h.onDestroy(()=>this.destroy())}_queueEvent(h,l){os(this._queuedCallbacks,h,[]).push(l)}onDone(h){this.queued&&this._queueEvent("done",h),this._player.onDone(h)}onStart(h){this.queued&&this._queueEvent("start",h),this._player.onStart(h)}onDestroy(h){this.queued&&this._queueEvent("destroy",h),this._player.onDestroy(h)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(h){this.queued||this._player.setPosition(h)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(h){const l=this._player;l.triggerCallback&&l.triggerCallback(h)}}function zf(v){return v&&1===v.nodeType}function md(v,h){const l=v.style.display;return v.style.display=h??"none",l}function om(v,h,l,m,C){const $=[];l.forEach(at=>$.push(md(at)));const fe=[];m.forEach((at,Tt)=>{const sn=new Map;at.forEach(vn=>{const Er=h.computeStyle(Tt,vn,C);sn.set(vn,Er),(!Er||0==Er.length)&&(Tt[_a]=Ni,fe.push(Tt))}),v.set(Tt,sn)});let Oe=0;return l.forEach(at=>md(at,$[Oe++])),fe}function sm(v,h){const l=new Map;if(v.forEach(Oe=>l.set(Oe,[])),0==h.length)return l;const C=new Set(h),$=new Map;function fe(Oe){if(!Oe)return 1;let at=$.get(Oe);if(at)return at;const Tt=Oe.parentNode;return at=l.has(Tt)?Tt:C.has(Tt)?1:fe(Tt),$.set(Oe,at),at}return h.forEach(Oe=>{const at=fe(Oe);1!==at&&l.get(at).push(Oe)}),l}function ia(v,h){v.classList?.add(h)}function va(v,h){v.classList?.remove(h)}function am(v,h,l){ma(l).onDone(()=>v.processLeaveNode(h))}function oc(v,h){for(let l=0;l<v.length;l++){const m=v[l];m instanceof Og?oc(m.players,h):h.push(m)}}function mu(v,h,l){const m=l.get(v);if(!m)return!1;let C=h.get(v);return C?m.forEach($=>C.add($)):h.set(v,m),l.delete(v),!0}class _u{constructor(h,l,m){this.bodyNode=h,this._driver=l,this._normalizer=m,this._triggerCache={},this.onRemovalComplete=(C,$)=>{},this._transitionEngine=new ic(h,l,m),this._timelineEngine=new nm(h,l,m),this._transitionEngine.onRemovalComplete=(C,$)=>this.onRemovalComplete(C,$)}registerTrigger(h,l,m,C,$){const fe=h+"-"+C;let Oe=this._triggerCache[fe];if(!Oe){const at=[],sn=ra(this._driver,$,at,[]);if(at.length)throw function _f(v,h){return new o.vHH(3404,!1)}();Oe=function fd(v,h,l){return new Bf(v,h,l)}(C,sn,this._normalizer),this._triggerCache[fe]=Oe}this._transitionEngine.registerTrigger(l,C,Oe)}register(h,l){this._transitionEngine.register(h,l)}destroy(h,l){this._transitionEngine.destroy(h,l)}onInsert(h,l,m,C){this._transitionEngine.insertNode(h,l,m,C)}onRemove(h,l,m){this._transitionEngine.removeNode(h,l,m)}disableAnimations(h,l){this._transitionEngine.markElementAsDisabled(h,l)}process(h,l,m,C){if("@"==m.charAt(0)){const[$,fe]=tc(m);this._timelineEngine.command($,l,fe,C)}else this._transitionEngine.trigger(h,l,m,C)}listen(h,l,m,C,$){if("@"==m.charAt(0)){const[fe,Oe]=tc(m);return this._timelineEngine.listen(fe,l,Oe,$)}return this._transitionEngine.listen(h,l,m,C,$)}flush(h=-1){this._transitionEngine.flush(h)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(h){this._transitionEngine.afterFlushAnimationsDone(h)}}let E_=(()=>{class v{static#e=this.initialStylesByElement=new WeakMap;constructor(l,m,C){this._element=l,this._startStyles=m,this._endStyles=C,this._state=0;let $=v.initialStylesByElement.get(l);$||v.initialStylesByElement.set(l,$=new Map),this._initialStyles=$}start(){this._state<1&&(this._startStyles&&Zc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zc(this._element,this._initialStyles),this._endStyles&&(Zc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(v.initialStylesByElement.delete(this._element),this._startStyles&&(qc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(qc(this._element,this._endStyles),this._endStyles=null),Zc(this._element,this._initialStyles),this._state=3)}}return v})();function Qp(v){let h=null;return v.forEach((l,m)=>{(function A_(v){return"display"===v||"position"===v})(m)&&(h=h||new Map,h.set(m,l))}),h}class Nl{constructor(h,l,m,C){this.element=h,this.keyframes=l,this.options=m,this._specialStyles=C,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=m.duration,this._delay=m.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const h=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,h,this.options),this._finalKeyframe=h.length?h[h.length-1]:new Map;const l=()=>this._onFinish();this.domPlayer.addEventListener("finish",l),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",l)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(h){const l=[];return h.forEach(m=>{l.push(Object.fromEntries(m))}),l}_triggerWebAnimation(h,l,m){return h.animate(this._convertKeyframesToObject(l),m)}onStart(h){this._originalOnStartFns.push(h),this._onStartFns.push(h)}onDone(h){this._originalOnDoneFns.push(h),this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(h=>h()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}setPosition(h){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=h*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const h=new Map;this.hasStarted()&&this._finalKeyframe.forEach((m,C)=>{"offset"!==C&&h.set(C,this._finished?m:_h(this.element,C))}),this.currentSnapshot=h}triggerCallback(h){const l="start"===h?this._onStartFns:this._onDoneFns;l.forEach(m=>m()),l.length=0}}class I_{validateStyleProperty(h){return!0}validateAnimatableStyleProperty(h){return!0}matchesElement(h,l){return!1}containsElement(h,l){return Cf(h,l)}getParentElement(h){return rd(h)}query(h,l,m){return Tf(h,l,m)}computeStyle(h,l,m){return window.getComputedStyle(h)[l]}animate(h,l,m,C,$,fe=[]){const at={duration:m,delay:C,fill:0==C?"both":"forwards"};$&&(at.easing=$);const Tt=new Map,sn=fe.filter(gr=>gr instanceof Nl);(function Vp(v,h){return 0===v||0===h})(m,C)&&sn.forEach(gr=>{gr.currentSnapshot.forEach((tr,lr)=>Tt.set(lr,tr))});let vn=function ad(v){return v.length?v[0]instanceof Map?v:v.map(h=>sd(h)):[]}(l).map(gr=>rc(gr));vn=function l_(v,h,l){if(l.size&&h.length){let m=h[0],C=[];if(l.forEach(($,fe)=>{m.has(fe)||C.push(fe),m.set(fe,$)}),C.length)for(let $=1;$<h.length;$++){let fe=h[$];C.forEach(Oe=>fe.set(Oe,_h(v,Oe)))}}return h}(h,vn,Tt);const Er=function y_(v,h){let l=null,m=null;return Array.isArray(h)&&h.length?(l=Qp(h[0]),h.length>1&&(m=Qp(h[h.length-1]))):h instanceof Map&&(l=Qp(h)),l||m?new E_(v,l,m):null}(h,vn);return new Nl(h,vn,at,Er)}}let Kc=(()=>{class v extends Dp{constructor(l,m){super(),this._nextAnimationId=0,this._renderer=l.createRenderer(m.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(l){const m=this._nextAnimationId.toString();this._nextAnimationId++;const C=Array.isArray(l)?bl(l):l;return Ch(this._renderer,null,m,"register",[C]),new _d(m,this._renderer)}static#e=this.\u0275fac=function(m){return new(m||v)(o.LFG(o.FYo),o.LFG(U.K0))};static#t=this.\u0275prov=o.Yz7({token:v,factory:v.\u0275fac})}return v})();class _d extends ff{constructor(h,l){super(),this._id=h,this._renderer=l}create(h,l){return new sc(this._id,h,l||{},this._renderer)}}class sc{constructor(h,l,m,C){this.id=h,this.element=l,this._renderer=C,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",m)}_listen(h,l){return this._renderer.listen(this.element,`@@${this.id}:${h}`,l)}_command(h,...l){return Ch(this._renderer,this.element,this.id,h,l)}onDone(h){this._listen("done",h)}onStart(h){this._listen("start",h)}onDestroy(h){this._listen("destroy",h)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(h){this._command("setPosition",h)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Ch(v,h,l,m,C){return v.setProperty(h,`@@${l}:${m}`,C)}const Fl="@.disabled";let vd=(()=>{class v{constructor(l,m,C){this.delegate=l,this.engine=m,this._zone=C,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,m.onRemovalComplete=($,fe)=>{const Oe=fe?.parentNode($);Oe&&fe.removeChild(Oe,$)}}createRenderer(l,m){const $=this.delegate.createRenderer(l,m);if(!(l&&m&&m.data&&m.data.animation)){let sn=this._rendererCache.get($);return sn||(sn=new Yc("",$,this.engine,()=>this._rendererCache.delete($)),this._rendererCache.set($,sn)),sn}const fe=m.id,Oe=m.id+"-"+this._currentId;this._currentId++,this.engine.register(Oe,l);const at=sn=>{Array.isArray(sn)?sn.forEach(at):this.engine.registerTrigger(fe,Oe,l,sn.name,sn)};return m.data.animation.forEach(at),new Th(this,Oe,$,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(l,m,C){l>=0&&l<this._microtaskId?this._zone.run(()=>m(C)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach($=>{const[fe,Oe]=$;fe(Oe)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([m,C]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(m){return new(m||v)(o.LFG(o.FYo),o.LFG(_u),o.LFG(o.R0b))};static#t=this.\u0275prov=o.Yz7({token:v,factory:v.\u0275fac})}return v})();class Yc{constructor(h,l,m,C){this.namespaceId=h,this.delegate=l,this.engine=m,this._onDestroy=C}get data(){return this.delegate.data}destroyNode(h){this.delegate.destroyNode?.(h)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(h,l){return this.delegate.createElement(h,l)}createComment(h){return this.delegate.createComment(h)}createText(h){return this.delegate.createText(h)}appendChild(h,l){this.delegate.appendChild(h,l),this.engine.onInsert(this.namespaceId,l,h,!1)}insertBefore(h,l,m,C=!0){this.delegate.insertBefore(h,l,m),this.engine.onInsert(this.namespaceId,l,h,C)}removeChild(h,l,m){this.engine.onRemove(this.namespaceId,l,this.delegate)}selectRootElement(h,l){return this.delegate.selectRootElement(h,l)}parentNode(h){return this.delegate.parentNode(h)}nextSibling(h){return this.delegate.nextSibling(h)}setAttribute(h,l,m,C){this.delegate.setAttribute(h,l,m,C)}removeAttribute(h,l,m){this.delegate.removeAttribute(h,l,m)}addClass(h,l){this.delegate.addClass(h,l)}removeClass(h,l){this.delegate.removeClass(h,l)}setStyle(h,l,m,C){this.delegate.setStyle(h,l,m,C)}removeStyle(h,l,m){this.delegate.removeStyle(h,l,m)}setProperty(h,l,m){"@"==l.charAt(0)&&l==Fl?this.disableAnimations(h,!!m):this.delegate.setProperty(h,l,m)}setValue(h,l){this.delegate.setValue(h,l)}listen(h,l,m){return this.delegate.listen(h,l,m)}disableAnimations(h,l){this.engine.disableAnimations(h,l)}}class Th extends Yc{constructor(h,l,m,C,$){super(l,m,C,$),this.factory=h,this.namespaceId=l}setProperty(h,l,m){"@"==l.charAt(0)?"."==l.charAt(1)&&l==Fl?this.disableAnimations(h,m=void 0===m||!!m):this.engine.process(this.namespaceId,h,l.slice(1),m):this.delegate.setProperty(h,l,m)}listen(h,l,m){if("@"==l.charAt(0)){const C=function wh(v){switch(v){case"body":return document.body;case"document":return document;case"window":return window;default:return v}}(h);let $=l.slice(1),fe="";return"@"!=$.charAt(0)&&([$,fe]=function Dh(v){const h=v.indexOf(".");return[v.substring(0,h),v.slice(h+1)]}($)),this.engine.listen(this.namespaceId,C,$,fe,Oe=>{this.factory.scheduleListenerCallback(Oe._data||-1,m,Oe)})}return this.delegate.listen(h,l,m)}}const Zf=[{provide:Dp,useClass:Kc},{provide:Uf,useFactory:function $f(){return new zp}},{provide:_u,useClass:(()=>{class v extends _u{constructor(l,m,C,$){super(l.body,m,C)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(m){return new(m||v)(o.LFG(U.K0),o.LFG(Hc),o.LFG(Uf),o.LFG(o.z2F))};static#t=this.\u0275prov=o.Yz7({token:v,factory:v.\u0275fac})}return v})()},{provide:o.FYo,useFactory:function Ed(v,h,l){return new vd(v,h,l)},deps:[f.se,_u,o.R0b]}],Ll=[{provide:Hc,useFactory:()=>new I_},{provide:o.QbO,useValue:"BrowserAnimations"},...Zf],lm=[{provide:Hc,useClass:ph},{provide:o.QbO,useValue:"NoopAnimations"},...Zf];let qf=(()=>{class v{static withConfig(l){return{ngModule:v,providers:l.disableAnimations?lm:Ll}}static#e=this.\u0275fac=function(m){return new(m||v)};static#t=this.\u0275mod=o.oAB({type:v});static#n=this.\u0275inj=o.cJS({providers:Ll,imports:[f.b2]})}return v})();const dm_firebase={apiKey:"AIzaSyBfMHRYkwC16Pt-IuqcVJOYjkrRgOlEVH8",authDomain:"romaniinseattle.firebaseapp.com",projectId:"romaniinseattle",storageBucket:"romaniinseattle.appspot.com",messagingSenderId:"548714995927",appId:"1:548714995927:web:70a2631d9f5d8d2f8fd092"};var ac=k(3182),Ho=k(1920);class Ua{constructor(h){return h}}class Jc{constructor(){return(0,ac.C6)()}}const Mh=new o.OlP("angularfire2._apps"),Xc={provide:Ua,useFactory:function Ad(v){return v&&1===v.length?v[0]:new Ua((0,ac.Mq)())},deps:[[new o.FiY,Mh]]},Av={provide:Jc,deps:[[new o.FiY,Mh]]};function b_(v){return(h,l)=>{const m=h.runOutsideAngular(()=>v(l));return new Ua(m)}}let Kp=(()=>{class v{constructor(l){(0,ac.KN)("angularfire",Ho.q4.full,"core"),(0,ac.KN)("angularfire",Ho.q4.full,"app"),(0,ac.KN)("angular",o.q4F.full,l.toString())}static \u0275fac=function(m){return new(m||v)(o.LFG(o.Lbi))};static \u0275mod=o.oAB({type:v});static \u0275inj=o.cJS({providers:[Xc,Av]})}return v})();function hm(v,...h){return{ngModule:Kp,providers:[{provide:Mh,useFactory:b_(v),multi:!0,deps:[o.R0b,o.zs3,Ho.HU,...h]}]}}const Wf=(0,Ho.u3)(ac.ZF,!0);k(35),k(534),k(9058),k(7879),k(4537);class Yf{constructor(){return(0,Ho.vb)("auth")}}var Py=k(1043);class Ul{constructor(h){return h}}const Dd="firestore",r=new o.OlP("angularfire2.firestore-instances");function u(v){return(h,l)=>{const m=h.runOutsideAngular(()=>v(l));return new Ul(m)}}const _={provide:class c{constructor(){return(0,Ho.vb)(Dd)}},deps:[[new o.FiY,r]]},I={provide:Ul,useFactory:function s(v,h){const l=(0,Ho.JM)(Dd,v,h);return l&&new Ul(l)},deps:[[new o.FiY,r],Ua]};let P=(()=>{class v{constructor(){(0,ac.KN)("angularfire",Ho.q4.full,"fst")}static \u0275fac=function(m){return new(m||v)};static \u0275mod=o.oAB({type:v});static \u0275inj=o.cJS({providers:[I,_]})}return v})();function L(v,...h){return{ngModule:P,providers:[{provide:r,useFactory:u(v),multi:!0,deps:[o.R0b,o.zs3,Ho.HU,Jc,[new o.FiY,Yf],[new o.FiY,Ho.Rf],...h]}]}}const ig=(0,Ho.u3)(Py.ad,!0);var xm=k(7217),Vh=k(7104),tl=k(243),W_=k(7213),Q_=k(8153);class jl{constructor(h){return h}}const Rm="storage",up=new o.OlP("angularfire2.storage-instances");function Uh(v){return(h,l)=>{const m=h.runOutsideAngular(()=>v(l));return new jl(m)}}const lc={provide:class K_{constructor(){return(0,Ho.vb)(Rm)}},deps:[[new o.FiY,up]]},Om={provide:jl,useFactory:function dg(v,h){const l=(0,Ho.JM)(Rm,v,h);return l&&new jl(l)},deps:[[new o.FiY,up],Ua]};let Bh=(()=>{class v{constructor(){(0,ac.KN)("angularfire",Ho.q4.full,"gcs")}static \u0275fac=function(m){return new(m||v)};static \u0275mod=o.oAB({type:v});static \u0275inj=o.cJS({providers:[Om,lc]})}return v})();function hg(v,...h){return{ngModule:Bh,providers:[{provide:up,useFactory:Uh(v),multi:!0,deps:[o.R0b,o.zs3,Ho.HU,Jc,[new o.FiY,Yf],[new o.FiY,Ho.Rf],...h]}]}}const Iu=(0,Ho.u3)(Q_.cF,!0);var mg=k(5842);let uc=(()=>{class v{constructor(l){this.injector=l}handleError(l){this.injector.get(mg.I).logError(l)}static#e=this.\u0275fac=function(m){return new(m||v)(o.LFG(o.zs3))};static#t=this.\u0275prov=o.Yz7({token:v,factory:v.\u0275fac})}return v})(),Hh=(()=>{class v{static#e=this.\u0275fac=function(m){return new(m||v)};static#t=this.\u0275mod=o.oAB({type:v,bootstrap:[hf]});static#n=this.\u0275inj=o.cJS({providers:[{provide:o.qLn,useClass:uc},mg.I],imports:[f.b2,ha.JF,Nr.Bz,Uc,qf,Mt,Ql,Oa,Vh.yb,tl.TE,W_.ww,xm.hO.initializeApp(dm_firebase),hm(()=>Wf(dm_firebase)),L(()=>ig()),hg(()=>Iu()),tn.UX,tn.u5,Nr.Bz]})}return v})();f.q6().bootstrapModule(Hh).catch(v=>console.error(v))},8963:an=>{an.exports=function o(U,Se,_e){function Ae(ve,q){if(!Se[ve]){if(!U[ve]){if(de)return de(ve,!0);var se=new Error("Cannot find module '"+ve+"'");throw se.code="MODULE_NOT_FOUND",se}var be=Se[ve]={exports:{}};U[ve][0].call(be.exports,function(ye){return Ae(U[ve][1][ye]||ye)},be,be.exports,o,U,Se,_e)}return Se[ve].exports}for(var de=void 0,ae=0;ae<_e.length;ae++)Ae(_e[ae]);return Ae}({1:[function(o,U,Se){"use strict";var _e=o("multimath"),Ae=o("./mm_unsharp_mask"),de=o("./mm_resize");function ae(ve){var q=ve||[],z={js:q.indexOf("js")>=0,wasm:q.indexOf("wasm")>=0};_e.call(this,z),this.features={js:z.js,wasm:z.wasm&&this.has_wasm()},this.use(Ae),this.use(de)}(ae.prototype=Object.create(_e.prototype)).constructor=ae,ae.prototype.resizeAndUnsharp=function(q,z){var se=this.resize(q,z);return q.unsharpAmount&&this.unsharp_mask(se,q.toWidth,q.toHeight,q.unsharpAmount,q.unsharpRadius,q.unsharpThreshold),se},U.exports=ae},{"./mm_resize":4,"./mm_unsharp_mask":9,multimath:19}],2:[function(o,U,Se){"use strict";function _e(z){return z<0?0:z>255?255:z}function Ae(z){return z>=0?z:0}U.exports={convolveHor:function de(z,se,be,ye,De,Re){var Ye,We,_t,Fe,Ne,tt,Ze,qe,ht,bt,Ee,Nt=0,Vt=0;for(ht=0;ht<ye;ht++){for(Ne=0,bt=0;bt<De;bt++){for(tt=Re[Ne++],Ze=Re[Ne++],qe=Nt+4*tt|0,Ye=We=_t=Fe=0;Ze>0;Ze--)Fe=Fe+(Ee=Re[Ne++])*z[qe+3]|0,_t=_t+Ee*z[qe+2]|0,We=We+Ee*z[qe+1]|0,Ye=Ye+Ee*z[qe]|0,qe=qe+4|0;se[Vt+3]=Ae(Fe>>7),se[Vt+2]=Ae(_t>>7),se[Vt+1]=Ae(We>>7),se[Vt]=Ae(Ye>>7),Vt=Vt+4*ye|0}Vt=4*(ht+1)|0,Nt=(ht+1)*be*4|0}},convolveVert:function ae(z,se,be,ye,De,Re){var Ye,We,_t,Fe,Ne,tt,Ze,qe,ht,bt,Ee,Nt=0,Vt=0;for(ht=0;ht<ye;ht++){for(Ne=0,bt=0;bt<De;bt++){for(tt=Re[Ne++],Ze=Re[Ne++],qe=Nt+4*tt|0,Ye=We=_t=Fe=0;Ze>0;Ze--)Fe=Fe+(Ee=Re[Ne++])*z[qe+3]|0,_t=_t+Ee*z[qe+2]|0,We=We+Ee*z[qe+1]|0,Ye=Ye+Ee*z[qe]|0,qe=qe+4|0;Ye>>=7,We>>=7,_t>>=7,se[Vt+3]=_e(8192+(Fe>>=7)>>14),se[Vt+2]=_e(_t+8192>>14),se[Vt+1]=_e(We+8192>>14),se[Vt]=_e(Ye+8192>>14),Vt=Vt+4*ye|0}Vt=4*(ht+1)|0,Nt=(ht+1)*be*4|0}},convolveHorWithPre:function ve(z,se,be,ye,De,Re){var Ye,We,_t,Fe,Ne,tt,Ze,qe,ht,bt,Ee,Nt,Vt=0,Dn=0;for(bt=0;bt<ye;bt++){for(tt=0,Ee=0;Ee<De;Ee++){for(Ze=Re[tt++],qe=Re[tt++],ht=Vt+4*Ze|0,Ye=We=_t=Fe=0;qe>0;qe--)Fe=Fe+(Nt=Re[tt++])*(Ne=z[ht+3])|0,_t=_t+Nt*z[ht+2]*Ne|0,We=We+Nt*z[ht+1]*Ne|0,Ye=Ye+Nt*z[ht]*Ne|0,ht=ht+4|0;_t=_t/255|0,We=We/255|0,Ye=Ye/255|0,se[Dn+3]=Ae(Fe>>7),se[Dn+2]=Ae(_t>>7),se[Dn+1]=Ae(We>>7),se[Dn]=Ae(Ye>>7),Dn=Dn+4*ye|0}Dn=4*(bt+1)|0,Vt=(bt+1)*be*4|0}},convolveVertWithPre:function q(z,se,be,ye,De,Re){var Ye,We,_t,Fe,Ne,tt,Ze,qe,ht,bt,Ee,Nt=0,Vt=0;for(ht=0;ht<ye;ht++){for(Ne=0,bt=0;bt<De;bt++){for(tt=Re[Ne++],Ze=Re[Ne++],qe=Nt+4*tt|0,Ye=We=_t=Fe=0;Ze>0;Ze--)Fe=Fe+(Ee=Re[Ne++])*z[qe+3]|0,_t=_t+Ee*z[qe+2]|0,We=We+Ee*z[qe+1]|0,Ye=Ye+Ee*z[qe]|0,qe=qe+4|0;Ye>>=7,We>>=7,_t>>=7,(Fe=_e(8192+(Fe>>=7)>>14))>0&&(Ye=255*Ye/Fe|0,We=255*We/Fe|0,_t=255*_t/Fe|0),se[Vt+3]=Fe,se[Vt+2]=_e(_t+8192>>14),se[Vt+1]=_e(We+8192>>14),se[Vt]=_e(Ye+8192>>14),Vt=Vt+4*ye|0}Vt=4*(ht+1)|0,Nt=(ht+1)*be*4|0}}}},{}],3:[function(o,U,Se){"use strict";U.exports="AGFzbQEAAAAADAZkeWxpbmsAAAAAAAEYA2AGf39/f39/AGAAAGAIf39/f39/f38AAg8BA2VudgZtZW1vcnkCAAADBwYBAAAAAAIGBgF/AEEACweUAQgRX193YXNtX2NhbGxfY3RvcnMAAAtjb252b2x2ZUhvcgABDGNvbnZvbHZlVmVydAACEmNvbnZvbHZlSG9yV2l0aFByZQADE2NvbnZvbHZlVmVydFdpdGhQcmUABApjb252b2x2ZUhWAAUMX19kc29faGFuZGxlAwAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAAKyA4GAwABC4wDARB/AkAgA0UNACAERQ0AIANBAnQhFQNAQQAhE0EAIQsDQCALQQJqIQcCfyALQQF0IAVqIgYuAQIiC0UEQEEAIQhBACEGQQAhCUEAIQogBwwBCyASIAYuAQBqIQhBACEJQQAhCiALIRRBACEOIAchBkEAIQ8DQCAFIAZBAXRqLgEAIhAgACAIQQJ0aigCACIRQRh2bCAPaiEPIBFB/wFxIBBsIAlqIQkgEUEQdkH/AXEgEGwgDmohDiARQQh2Qf8BcSAQbCAKaiEKIAhBAWohCCAGQQFqIQYgFEEBayIUDQALIAlBB3UhCCAKQQd1IQYgDkEHdSEJIA9BB3UhCiAHIAtqCyELIAEgDEEBdCIHaiAIQQAgCEEAShs7AQAgASAHQQJyaiAGQQAgBkEAShs7AQAgASAHQQRyaiAJQQAgCUEAShs7AQAgASAHQQZyaiAKQQAgCkEAShs7AQAgDCAVaiEMIBNBAWoiEyAERw0ACyANQQFqIg0gAmwhEiANQQJ0IQwgAyANRw0ACwsL2gMBD38CQCADRQ0AIARFDQAgAkECdCEUA0AgCyEMQQAhE0EAIQIDQCACQQJqIQYCfyACQQF0IAVqIgcuAQIiAkUEQEEAIQhBACEHQQAhCkEAIQkgBgwBCyAHLgEAQQJ0IBJqIQhBACEJIAIhCkEAIQ0gBiEHQQAhDkEAIQ8DQCAFIAdBAXRqLgEAIhAgACAIQQF0IhFqLwEAbCAJaiEJIAAgEUEGcmovAQAgEGwgDmohDiAAIBFBBHJqLwEAIBBsIA9qIQ8gACARQQJyai8BACAQbCANaiENIAhBBGohCCAHQQFqIQcgCkEBayIKDQALIAlBB3UhCCANQQd1IQcgDkEHdSEKIA9BB3UhCSACIAZqCyECIAEgDEECdGogB0GAQGtBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobQQh0QYD+A3EgCUGAQGtBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobQRB0QYCA/AdxIApBgEBrQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG0EYdHJyIAhBgEBrQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG3I2AgAgAyAMaiEMIBNBAWoiEyAERw0ACyAUIAtBAWoiC2whEiADIAtHDQALCwuSAwEQfwJAIANFDQAgBEUNACADQQJ0IRUDQEEAIRNBACEGA0AgBkECaiEIAn8gBkEBdCAFaiIGLgECIgdFBEBBACEJQQAhDEEAIQ1BACEOIAgMAQsgEiAGLgEAaiEJQQAhDkEAIQ1BACEMIAchFEEAIQ8gCCEGA0AgBSAGQQF0ai4BACAAIAlBAnRqKAIAIhBBGHZsIhEgD2ohDyARIBBBEHZB/wFxbCAMaiEMIBEgEEEIdkH/AXFsIA1qIQ0gESAQQf8BcWwgDmohDiAJQQFqIQkgBkEBaiEGIBRBAWsiFA0ACyAPQQd1IQkgByAIagshBiABIApBAXQiCGogDkH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEECcmogDUH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEEEcmogDEH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEEGcmogCUEAIAlBAEobOwEAIAogFWohCiATQQFqIhMgBEcNAAsgC0EBaiILIAJsIRIgC0ECdCEKIAMgC0cNAAsLC4IEAQ9/AkAgA0UNACAERQ0AIAJBAnQhFANAIAshDEEAIRJBACEHA0AgB0ECaiEKAn8gB0EBdCAFaiICLgECIhNFBEBBACEIQQAhCUEAIQYgCiEHQQAMAQsgAi4BAEECdCARaiEJQQAhByATIQJBACENIAohBkEAIQ5BACEPA0AgBSAGQQF0ai4BACIIIAAgCUEBdCIQai8BAGwgB2ohByAAIBBBBnJqLwEAIAhsIA5qIQ4gACAQQQRyai8BACAIbCAPaiEPIAAgEEECcmovAQAgCGwgDWohDSAJQQRqIQkgBkEBaiEGIAJBAWsiAg0ACyAHQQd1IQggDUEHdSEJIA9BB3UhBiAKIBNqIQcgDkEHdQtBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKGyIKQf8BcQRAIAlB/wFsIAJtIQkgCEH/AWwgAm0hCCAGQf8BbCACbSEGCyABIAxBAnRqIAlBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKG0EIdEGA/gNxIAZBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKG0EQdEGAgPwHcSAKQRh0ciAIQYBAa0EOdSICQf8BIAJB/wFIGyICQQAgAkEAShtycjYCACADIAxqIQwgEkEBaiISIARHDQALIBQgC0EBaiILbCERIAMgC0cNAAsLC0AAIAcEQEEAIAIgAyAEIAUgABADIAJBACAEIAUgBiABEAQPC0EAIAIgAyAEIAUgABABIAJBACAEIAUgBiABEAIL"},{}],4:[function(o,U,Se){"use strict";U.exports={name:"resize",fn:o("./resize"),wasm_fn:o("./resize_wasm"),wasm_src:o("./convolve_wasm_base64")}},{"./convolve_wasm_base64":3,"./resize":5,"./resize_wasm":8}],5:[function(o,U,Se){"use strict";var _e=o("./resize_filter_gen"),Ae=o("./convolve"),de=Ae.convolveHor,ae=Ae.convolveVert,ve=Ae.convolveHorWithPre,q=Ae.convolveVertWithPre;U.exports=function(ye){var De=ye.src,Re=ye.width,Ye=ye.height,We=ye.toWidth,_t=ye.toHeight,Fe=ye.scaleX||ye.toWidth/ye.width,Ne=ye.scaleY||ye.toHeight/ye.height,tt=ye.offsetX||0,Ze=ye.offsetY||0,qe=ye.dest||new Uint8Array(We*_t*4),ht=typeof ye.filter>"u"?"mks2013":ye.filter,bt=_e(ht,Re,We,Fe,tt),Ee=_e(ht,Ye,_t,Ne,Ze),Nt=new Uint16Array(We*Ye*4);return function z(be,ye,De){for(var Re=3,Ye=ye*De*4|0;Re<Ye;){if(255!==be[Re])return!0;Re=Re+4|0}return!1}(De,Re,Ye)?(ve(De,Nt,Re,Ye,We,bt),q(Nt,qe,Ye,We,_t,Ee)):(de(De,Nt,Re,Ye,We,bt),ae(Nt,qe,Ye,We,_t,Ee),function se(be,ye,De){for(var Re=3,Ye=ye*De*4|0;Re<Ye;)be[Re]=255,Re=Re+4|0}(qe,We,_t)),qe}},{"./convolve":2,"./resize_filter_gen":6}],6:[function(o,U,Se){"use strict";var _e=o("./resize_filter_info");function de(ae){return Math.round(16383*ae)}U.exports=function(ve,q,z,se,be){var We,_t,Fe,Ne,tt,Ze,qe,ht,bt,Ee,Nt,Vt,Dn,wt,Qe,Le,ye=_e.filter[ve].fn,De=1/se,Re=Math.min(1,se),Ye=_e.filter[ve].win/Re,we=Math.floor(2*(Ye+1)),te=new Int16Array((we+2)*z),Ie=0,Pe=!te.subarray||!te.set;for(We=0;We<z;We++){for(_t=(We+.5)*De+be,Fe=Math.max(0,Math.floor(_t-Ye)),tt=(Ne=Math.min(q-1,Math.ceil(_t+Ye)))-Fe+1,Ze=new Float32Array(tt),qe=new Int16Array(tt),ht=0,bt=Fe,Ee=0;bt<=Ne;bt++,Ee++)ht+=Nt=ye((bt+.5-_t)*Re),Ze[Ee]=Nt;for(Vt=0,Ee=0;Ee<Ze.length;Ee++)Vt+=Dn=Ze[Ee]/ht,qe[Ee]=de(Dn);for(qe[z>>1]+=de(1-Vt),wt=0;wt<qe.length&&0===qe[wt];)wt++;if(wt<qe.length){for(Qe=qe.length-1;Qe>0&&0===qe[Qe];)Qe--;if(Le=Qe-wt+1,te[Ie++]=Fe+wt,te[Ie++]=Le,Pe)for(Ee=wt;Ee<=Qe;Ee++)te[Ie++]=qe[Ee];else te.set(qe.subarray(wt,Qe+1),Ie),Ie+=Le}else te[Ie++]=0,te[Ie++]=0}return te}},{"./resize_filter_info":7}],7:[function(o,U,Se){"use strict";U.exports={filter:{box:{win:.5,fn:function(de){return de<0&&(de=-de),de<.5?1:0}},hamming:{win:1,fn:function(de){if(de<0&&(de=-de),de>=1)return 0;if(de<1.1920929e-7)return 1;var ae=de*Math.PI;return Math.sin(ae)/ae*(.54+.46*Math.cos(ae/1))}},lanczos2:{win:2,fn:function(de){if(de<0&&(de=-de),de>=2)return 0;if(de<1.1920929e-7)return 1;var ae=de*Math.PI;return Math.sin(ae)/ae*Math.sin(ae/2)/(ae/2)}},lanczos3:{win:3,fn:function(de){if(de<0&&(de=-de),de>=3)return 0;if(de<1.1920929e-7)return 1;var ae=de*Math.PI;return Math.sin(ae)/ae*Math.sin(ae/3)/(ae/3)}},mks2013:{win:2.5,fn:function(de){return de<0&&(de=-de),de>=2.5?0:de>=1.5?-.125*(de-2.5)*(de-2.5):de>=.5?.25*(4*de*de-11*de+7):1.0625-1.75*de*de}}},f2q:{box:0,hamming:1,lanczos2:2,lanczos3:3},q2f:["box","hamming","lanczos2","lanczos3"]}},{}],8:[function(o,U,Se){"use strict";var _e=o("./resize_filter_gen");var ve=!0;try{ve=1===new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]}catch{}function q(z,se,be){if(ve)se.set(function ae(z){return new Uint8Array(z.buffer,0,z.byteLength)}(z),be);else for(var ye=be,De=0;De<z.length;De++){var Re=z[De];se[ye++]=255&Re,se[ye++]=Re>>8&255}}U.exports=function(se){var be=se.src,ye=se.width,De=se.height,Re=se.toWidth,Ye=se.toHeight,We=se.scaleX||se.toWidth/se.width,_t=se.scaleY||se.toHeight/se.height,Fe=se.offsetX||0,Ne=se.offsetY||0,tt=se.dest||new Uint8Array(Re*Ye*4),Ze=typeof se.filter>"u"?"mks2013":se.filter,qe=_e(Ze,ye,Re,We,Fe),ht=_e(Ze,De,Ye,_t,Ne),Ee=Math.max(be.byteLength,tt.byteLength),Nt=this.__align(0+Ee),Dn=this.__align(Nt+De*Re*4*2),wt=this.__align(Dn+qe.byteLength),dt=this.__instance("resize",wt+ht.byteLength),Le=new Uint8Array(this.__memory.buffer),we=new Uint32Array(this.__memory.buffer),te=new Uint32Array(be.buffer);we.set(te),q(qe,Le,Dn),q(ht,Le,wt);var Ie=dt.exports.convolveHV||dt.exports._convolveHV;return function Ae(z,se,be){for(var ye=3,De=se*be*4|0;ye<De;){if(255!==z[ye])return!0;ye=ye+4|0}return!1}(be,ye,De)?Ie(Dn,wt,Nt,ye,De,Re,Ye,1):(Ie(Dn,wt,Nt,ye,De,Re,Ye,0),function de(z,se,be){for(var ye=3,De=se*be*4|0;ye<De;)z[ye]=255,ye=ye+4|0}(tt,Re,Ye)),new Uint32Array(tt.buffer).set(new Uint32Array(this.__memory.buffer,0,Ye*Re)),tt}},{"./resize_filter_gen":6}],9:[function(o,U,Se){"use strict";U.exports={name:"unsharp_mask",fn:o("./unsharp_mask"),wasm_fn:o("./unsharp_mask_wasm"),wasm_src:o("./unsharp_mask_wasm_base64")}},{"./unsharp_mask":10,"./unsharp_mask_wasm":11,"./unsharp_mask_wasm_base64":12}],10:[function(o,U,Se){"use strict";var _e=o("glur/mono16");U.exports=function(ae,ve,q,z,se,be){var ye,De,Re,Ye,We;if(!(0===z||se<.5)){se>2&&(se=2);var _t=function Ae(de,ae,ve){for(var se,be,ye,q=ae*ve,z=new Uint16Array(q),Re=0;Re<q;Re++)ye=de[4*Re+2],z[Re]=((se=de[4*Re])>=(be=de[4*Re+1])&&se>=ye?se:be>=ye&&be>=se?be:ye)<<8;return z}(ae,ve,q),Fe=new Uint16Array(_t);_e(Fe,ve,q,se);for(var Ne=z/100*4096+.5|0,tt=be<<8,Ze=ve*q,qe=0;qe<Ze;qe++)Ye=(ye=_t[qe])-Fe[qe],Math.abs(Ye)>=tt&&(ae[We=4*qe]=ae[We]*(Re=((De=(De=(De=ye+(Ne*Ye+2048>>12))>65280?65280:De)<0?0:De)<<12)/(ye=0!==ye?ye:1)|0)+2048>>12,ae[We+1]=ae[We+1]*Re+2048>>12,ae[We+2]=ae[We+2]*Re+2048>>12)}}},{"glur/mono16":18}],11:[function(o,U,Se){"use strict";U.exports=function(Ae,de,ae,ve,q,z){if(!(0===ve||q<.5)){q>2&&(q=2);var se=de*ae,be=4*se,ye=2*se,De=2*se,Re=4*Math.max(de,ae),_t=be,Fe=_t+ye,Ne=Fe+De,tt=Ne+De,Ze=tt+Re,qe=this.__instance("unsharp_mask",be+ye+2*De+Re+32,{exp:Math.exp}),ht=new Uint32Array(Ae.buffer);new Uint32Array(this.__memory.buffer).set(ht);var Ee=qe.exports.hsv_v16||qe.exports._hsv_v16;Ee(0,_t,de,ae),(Ee=qe.exports.blurMono16||qe.exports._blurMono16)(_t,Fe,Ne,tt,Ze,de,ae,q),(Ee=qe.exports.unsharp||qe.exports._unsharp)(0,0,_t,Fe,de,ae,ve,z),ht.set(new Uint32Array(this.__memory.buffer,0,se))}}},{}],12:[function(o,U,Se){"use strict";U.exports="AGFzbQEAAAAADAZkeWxpbmsAAAAAAAE0B2AAAGAEf39/fwBgBn9/f39/fwBgCH9/f39/f39/AGAIf39/f39/f30AYAJ9fwBgAXwBfAIZAgNlbnYDZXhwAAYDZW52Bm1lbW9yeQIAAAMHBgAFAgQBAwYGAX8AQQALB4oBCBFfX3dhc21fY2FsbF9jdG9ycwABFl9fYnVpbGRfZ2F1c3NpYW5fY29lZnMAAg5fX2dhdXNzMTZfbGluZQADCmJsdXJNb25vMTYABAdoc3ZfdjE2AAUHdW5zaGFycAAGDF9fZHNvX2hhbmRsZQMAGF9fd2FzbV9hcHBseV9kYXRhX3JlbG9jcwABCsUMBgMAAQvWAQEHfCABRNuGukOCGvs/IAC7oyICRAAAAAAAAADAohAAIgW2jDgCFCABIAKaEAAiAyADoCIGtjgCECABRAAAAAAAAPA/IAOhIgQgBKIgAyACIAKgokQAAAAAAADwP6AgBaGjIgS2OAIAIAEgBSAEmqIiB7Y4AgwgASADIAJEAAAAAAAA8D+gIASioiIItjgCCCABIAMgAkQAAAAAAADwv6AgBKKiIgK2OAIEIAEgByAIoCAFRAAAAAAAAPA/IAahoCIDo7Y4AhwgASAEIAKgIAOjtjgCGAuGBQMGfwl8An0gAyoCDCEVIAMqAgghFiADKgIUuyERIAMqAhC7IRACQCAEQQFrIghBAEgiCQRAIAIhByAAIQYMAQsgAiAALwEAuCIPIAMqAhi7oiIMIBGiIg0gDCAQoiAPIAMqAgS7IhOiIhQgAyoCALsiEiAPoqCgoCIOtjgCACACQQRqIQcgAEECaiEGIAhFDQAgCEEBIAhBAUgbIgpBf3MhCwJ/IAQgCmtBAXFFBEAgDiENIAgMAQsgAiANIA4gEKIgFCASIAAvAQK4Ig+ioKCgIg22OAIEIAJBCGohByAAQQRqIQYgDiEMIARBAmsLIQIgC0EAIARrRg0AA0AgByAMIBGiIA0gEKIgDyAToiASIAYvAQC4Ig6ioKCgIgy2OAIAIAcgDSARoiAMIBCiIA4gE6IgEiAGLwECuCIPoqCgoCINtjgCBCAHQQhqIQcgBkEEaiEGIAJBAkohACACQQJrIQIgAA0ACwsCQCAJDQAgASAFIAhsQQF0aiIAAn8gBkECay8BACICuCINIBW7IhKiIA0gFrsiE6KgIA0gAyoCHLuiIgwgEKKgIAwgEaKgIg8gB0EEayIHKgIAu6AiDkQAAAAAAADwQWMgDkQAAAAAAAAAAGZxBEAgDqsMAQtBAAs7AQAgCEUNACAGQQRrIQZBACAFa0EBdCEBA0ACfyANIBKiIAJB//8DcbgiDSAToqAgDyIOIBCioCAMIBGioCIPIAdBBGsiByoCALugIgxEAAAAAAAA8EFjIAxEAAAAAAAAAABmcQRAIAyrDAELQQALIQMgBi8BACECIAAgAWoiACADOwEAIAZBAmshBiAIQQFKIQMgDiEMIAhBAWshCCADDQALCwvRAgIBfwd8AkAgB0MAAAAAWw0AIARE24a6Q4Ia+z8gB0MAAAA/l7ujIglEAAAAAAAAAMCiEAAiDLaMOAIUIAQgCZoQACIKIAqgIg22OAIQIAREAAAAAAAA8D8gCqEiCyALoiAKIAkgCaCiRAAAAAAAAPA/oCAMoaMiC7Y4AgAgBCAMIAuaoiIOtjgCDCAEIAogCUQAAAAAAADwP6AgC6KiIg+2OAIIIAQgCiAJRAAAAAAAAPC/oCALoqIiCbY4AgQgBCAOIA+gIAxEAAAAAAAA8D8gDaGgIgqjtjgCHCAEIAsgCaAgCqO2OAIYIAYEQANAIAAgBSAIbEEBdGogAiAIQQF0aiADIAQgBSAGEAMgCEEBaiIIIAZHDQALCyAFRQ0AQQAhCANAIAIgBiAIbEEBdGogASAIQQF0aiADIAQgBiAFEAMgCEEBaiIIIAVHDQALCwtxAQN/IAIgA2wiBQRAA0AgASAAKAIAIgRBEHZB/wFxIgIgAiAEQQh2Qf8BcSIDIAMgBEH/AXEiBEkbIAIgA0sbIgYgBiAEIAIgBEsbIAMgBEsbQQh0OwEAIAFBAmohASAAQQRqIQAgBUEBayIFDQALCwuZAgIDfwF8IAQgBWwhBAJ/IAazQwAAgEWUQwAAyEKVu0QAAAAAAADgP6AiC5lEAAAAAAAA4EFjBEAgC6oMAQtBgICAgHgLIQUgBARAIAdBCHQhCUEAIQYDQCAJIAIgBkEBdCIHai8BACIBIAMgB2ovAQBrIgcgB0EfdSIIaiAIc00EQCAAIAZBAnQiCGoiCiAFIAdsQYAQakEMdSABaiIHQYD+AyAHQYD+A0gbIgdBACAHQQBKG0EMdCABQQEgARtuIgEgCi0AAGxBgBBqQQx2OgAAIAAgCEEBcmoiByABIActAABsQYAQakEMdjoAACAAIAhBAnJqIgcgASAHLQAAbEGAEGpBDHY6AAALIAZBAWoiBiAERw0ACwsL"},{}],13:[function(o,U,Se){"use strict";function Ae(de,ae){this.create=de,this.available=[],this.acquired={},this.lastId=1,this.timeoutId=0,this.idle=ae||2e3}Ae.prototype.acquire=function(){var ae,de=this;return 0!==this.available.length?ae=this.available.pop():((ae=this.create()).id=this.lastId++,ae.release=function(){return de.release(ae)}),this.acquired[ae.id]=ae,ae},Ae.prototype.release=function(de){var ae=this;delete this.acquired[de.id],de.lastUsed=Date.now(),this.available.push(de),0===this.timeoutId&&(this.timeoutId=setTimeout(function(){return ae.gc()},100))},Ae.prototype.gc=function(){var de=this,ae=Date.now();this.available=this.available.filter(function(ve){return!(ae-ve.lastUsed>de.idle&&(ve.destroy(),1))}),this.timeoutId=0!==this.available.length?setTimeout(function(){return de.gc()},100):0},U.exports=Ae},{}],14:[function(o,U,Se){"use strict";U.exports=function(de,ae,ve,q,z,se){var De=(2*se+2+1)/z;if(De>.5)return[[ve,q]];var Re=Math.ceil(Math.log(Math.min(ve/de,q/ae))/Math.log(De));if(Re<=1)return[[ve,q]];for(var Ye=[],We=0;We<Re;We++){var _t=Math.round(Math.pow(Math.pow(de,Re-We-1)*Math.pow(ve,We+1),1/Re)),Fe=Math.round(Math.pow(Math.pow(ae,Re-We-1)*Math.pow(q,We+1),1/Re));Ye.push([_t,Fe])}return Ye}},{}],15:[function(o,U,Se){"use strict";function Ae(ae){var ve=Math.round(ae);return Math.abs(ae-ve)<1e-5?ve:Math.floor(ae)}function de(ae){var ve=Math.round(ae);return Math.abs(ae-ve)<1e-5?ve:Math.ceil(ae)}U.exports=function(ve){var q=ve.toWidth/ve.width,z=ve.toHeight/ve.height,se=Ae(ve.srcTileSize*q)-2*ve.destTileBorder,be=Ae(ve.srcTileSize*z)-2*ve.destTileBorder;if(se<1||be<1)throw new Error("Internal error in pica: target tile width/height is too small.");var ye,De,Re,Ye,We,_t,Ne,Fe=[];for(Ye=0;Ye<ve.toHeight;Ye+=be)for(Re=0;Re<ve.toWidth;Re+=se)(ye=Re-ve.destTileBorder)<0&&(ye=0),ye+(We=Re+se+ve.destTileBorder-ye)>=ve.toWidth&&(We=ve.toWidth-ye),(De=Ye-ve.destTileBorder)<0&&(De=0),De+(_t=Ye+be+ve.destTileBorder-De)>=ve.toHeight&&(_t=ve.toHeight-De),Ne={toX:ye,toY:De,toWidth:We,toHeight:_t,toInnerX:Re,toInnerY:Ye,toInnerWidth:se,toInnerHeight:be,offsetX:ye/q-Ae(ye/q),offsetY:De/z-Ae(De/z),scaleX:q,scaleY:z,x:Ae(ye/q),y:Ae(De/z),width:de(We/q),height:de(_t/z)},Fe.push(Ne);return Fe}},{}],16:[function(o,U,Se){"use strict";function _e(Ae){return Object.prototype.toString.call(Ae)}U.exports.isCanvas=function(de){var ae=_e(de);return"[object HTMLCanvasElement]"===ae||"[object OffscreenCanvas]"===ae||"[object Canvas]"===ae},U.exports.isImage=function(de){return"[object HTMLImageElement]"===_e(de)},U.exports.isImageBitmap=function(de){return"[object ImageBitmap]"===_e(de)},U.exports.limiter=function(de){var ae=0,ve=[];function q(){ae<de&&ve.length&&(ae++,ve.shift()())}return function(se){return new Promise(function(be,ye){ve.push(function(){se().then(function(De){be(De),ae--,q()},function(De){ye(De),ae--,q()})}),q()})}},U.exports.cib_quality_name=function(de){switch(de){case 0:return"pixelated";case 1:return"low";case 2:return"medium"}return"high"},U.exports.cib_support=function(de){return Promise.resolve().then(function(){if(typeof createImageBitmap>"u")return!1;var ae=de(100,100);return createImageBitmap(ae,0,0,100,100,{resizeWidth:10,resizeHeight:10,resizeQuality:"high"}).then(function(ve){var q=10===ve.width;return ve.close(),ae=null,q})}).catch(function(){return!1})},U.exports.worker_offscreen_canvas_support=function(){return new Promise(function(de,ae){if(typeof OffscreenCanvas>"u")de(!1);else{var q=btoa("(".concat(function ve(se){typeof createImageBitmap>"u"?se.postMessage(!1):Promise.resolve().then(function(){var be=new OffscreenCanvas(10,10);return be.getContext("2d").rect(0,0,1,1),createImageBitmap(be,0,0,1,1)}).then(function(){return se.postMessage(!0)},function(){return se.postMessage(!1)})}.toString(),")(self);")),z=new Worker("data:text/javascript;base64,".concat(q));z.onmessage=function(se){return de(se.data)},z.onerror=ae}}).then(function(de){return de},function(){return!1})},U.exports.can_use_canvas=function(de){var ae=!1;try{var q=de(2,1).getContext("2d"),z=q.createImageData(2,1);z.data[0]=12,z.data[1]=23,z.data[2]=34,z.data[3]=255,z.data[4]=45,z.data[5]=56,z.data[6]=67,z.data[7]=255,q.putImageData(z,0,0),z=null,12===(z=q.getImageData(0,0,2,1)).data[0]&&23===z.data[1]&&34===z.data[2]&&255===z.data[3]&&45===z.data[4]&&56===z.data[5]&&67===z.data[6]&&255===z.data[7]&&(ae=!0)}catch{}return ae},U.exports.cib_can_use_region=function(){return new Promise(function(de){if(typeof Image>"u"||typeof createImageBitmap>"u")de(!1);else{var ae=new Image;ae.src="data:image/jpeg;base64,/9j/4QBiRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAYAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAABIAAAAAQAAAEgAAAAB/9sAQwAEAwMEAwMEBAMEBQQEBQYKBwYGBgYNCQoICg8NEBAPDQ8OERMYFBESFxIODxUcFRcZGRsbGxAUHR8dGh8YGhsa/9sAQwEEBQUGBQYMBwcMGhEPERoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoa/8IAEQgAAQACAwERAAIRAQMRAf/EABQAAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAF/P//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAQUCf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Bf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Bf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEABj8Cf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8hf//aAAwDAQACAAMAAAAQH//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Qf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Qf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8Qf//Z",ae.onload=function(){createImageBitmap(ae,0,0,ae.width,ae.height).then(function(ve){de(ve.width===ae.width&&ve.height===ae.height)},function(){return de(!1)})},ae.onerror=function(){return de(!1)}}})}},{}],17:[function(o,U,Se){"use strict";U.exports=function(){var Ae,_e=o("./mathlib");onmessage=function(ae){var ve=ae.data.opts;if(!ve.src&&ve.srcBitmap){var z=new OffscreenCanvas(ve.width,ve.height),se=z.getContext("2d");se.drawImage(ve.srcBitmap,0,0),ve.src=se.getImageData(0,0,ve.width,ve.height).data,z.width=z.height=0,z=null,ve.srcBitmap.close(),ve.srcBitmap=null}Ae||(Ae=new _e(ae.data.features));var be=Ae.resizeAndUnsharp(ve);postMessage({data:be},[be.buffer])}}},{"./mathlib":1}],18:[function(o,U,Se){var _e,Ae,de,ae,ve,q;function ye(Re,Ye,We,_t,Fe,Ne){var tt,Ze,qe,ht,bt,Ee,Nt,Vt,Dn,wt,Qe,dt,Le,we;for(Dn=0;Dn<Ne;Dn++){for(Nt=Dn,Vt=0,ht=bt=(tt=Re[Ee=Dn*Fe])*_t[6],Qe=_t[0],dt=_t[1],Le=_t[4],we=_t[5],wt=0;wt<Fe;wt++)qe=(Ze=Re[Ee])*Qe+tt*dt+ht*Le+bt*we,bt=ht,tt=Ze,We[Vt]=ht=qe,Vt++,Ee++;for(Vt--,Nt+=Ne*(Fe-1),ht=bt=(tt=Re[--Ee])*_t[7],Ze=tt,Qe=_t[2],dt=_t[3],wt=Fe-1;wt>=0;wt--)qe=Ze*Qe+tt*dt+ht*Le+bt*we,bt=ht,tt=Ze,Ze=Re[Ee],Ye[Nt]=We[Vt]+(ht=qe),Ee--,Vt--,Nt-=Ne}}U.exports=function De(Re,Ye,We,_t){if(_t){var Fe=new Uint16Array(Re.length),Ne=new Float32Array(Math.max(Ye,We)),tt=function be(Re){Re<.5&&(Re=.5);var Ye=Math.exp(.527076)/Re,We=Math.exp(-Ye),_t=Math.exp(-2*Ye),Fe=(1-We)*(1-We)/(1+2*Ye*We-_t);return _e=Fe,Ae=Fe*(Ye-1)*We,de=Fe*(Ye+1)*We,ae=-Fe*_t,ve=2*We,q=-_t,new Float32Array([_e,Ae,de,ae,ve,q,(_e+Ae)/(1-ve-q),(de+ae)/(1-ve-q)])}(_t);ye(Re,Fe,Ne,tt,Ye,We),ye(Fe,Re,Ne,tt,We,Ye)}}},{}],19:[function(o,U,Se){"use strict";var _e=o("object-assign"),Ae=o("./lib/base64decode"),de=o("./lib/wa_detect"),ae={js:!0,wasm:!0};function ve(q){if(!(this instanceof ve))return new ve(q);var z=_e({},ae,q||{});if(this.options=z,this.__cache={},this.__init_promise=null,this.__modules=z.modules||{},this.__memory=null,this.__wasm={},this.__isLE=1===new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0],!this.options.js&&!this.options.wasm)throw new Error('mathlib: at least "js" or "wasm" should be enabled')}ve.prototype.has_wasm=de,ve.prototype.use=function(q){return this.__modules[q.name]=q,this[q.name]=this.options.wasm&&this.has_wasm()&&q.wasm_fn?q.wasm_fn:q.fn,this},ve.prototype.init=function(){if(this.__init_promise)return this.__init_promise;if(!this.options.js&&this.options.wasm&&!this.has_wasm())return Promise.reject(new Error('mathlib: only "wasm" was enabled, but it\'s not supported'));var q=this;return this.__init_promise=Promise.all(Object.keys(q.__modules).map(function(z){var se=q.__modules[z];return q.options.wasm&&q.has_wasm()&&se.wasm_fn&&!q.__wasm[z]?WebAssembly.compile(q.__base64decode(se.wasm_src)).then(function(be){q.__wasm[z]=be}):null})).then(function(){return q}),this.__init_promise},ve.prototype.__base64decode=Ae,ve.prototype.__reallocate=function(z){if(!this.__memory)return this.__memory=new WebAssembly.Memory({initial:Math.ceil(z/65536)}),this.__memory;var se=this.__memory.buffer.byteLength;return se<z&&this.__memory.grow(Math.ceil((z-se)/65536)),this.__memory},ve.prototype.__instance=function(z,se,be){if(se&&this.__reallocate(se),this.__wasm[z]||(this.__wasm[z]=new WebAssembly.Module(this.__base64decode(this.__modules[z].wasm_src))),!this.__cache[z]){var De={memoryBase:0,memory:this.__memory,tableBase:0,table:new WebAssembly.Table({initial:0,element:"anyfunc"})};this.__cache[z]=new WebAssembly.Instance(this.__wasm[z],{env:_e(De,be||{})})}return this.__cache[z]},ve.prototype.__align=function(z,se){var be=z%(se=se||8);return z+(be?se-be:0)},U.exports=ve},{"./lib/base64decode":20,"./lib/wa_detect":21,"object-assign":22}],20:[function(o,U,Se){"use strict";U.exports=function(de){for(var ae=de.replace(/[\r\n=]/g,""),ve=ae.length,q=new Uint8Array(3*ve>>2),z=0,se=0,be=0;be<ve;be++)be%4==0&&be&&(q[se++]=z>>16&255,q[se++]=z>>8&255,q[se++]=255&z),z=z<<6|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(ae.charAt(be));var ye=ve%4*6;return 0===ye?(q[se++]=z>>16&255,q[se++]=z>>8&255,q[se++]=255&z):18===ye?(q[se++]=z>>10&255,q[se++]=z>>2&255):12===ye&&(q[se++]=z>>4&255),q}},{}],21:[function(o,U,Se){"use strict";var _e;U.exports=function(){if(typeof _e<"u"||(_e=!1,typeof WebAssembly>"u"))return _e;try{var de=new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]),ae=new WebAssembly.Module(de);return 0!==new WebAssembly.Instance(ae,{}).exports.test(4)&&(_e=!0),_e}catch{}return _e}},{}],22:[function(o,U,Se){"use strict";var _e=Object.getOwnPropertySymbols,Ae=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable;U.exports=function ve(){try{if(!Object.assign)return!1;var q=new String("abc");if(q[5]="de","5"===Object.getOwnPropertyNames(q)[0])return!1;for(var z={},se=0;se<10;se++)z["_"+String.fromCharCode(se)]=se;if("0123456789"!==Object.getOwnPropertyNames(z).map(function(De){return z[De]}).join(""))return!1;var ye={};return"abcdefghijklmnopqrst".split("").forEach(function(De){ye[De]=De}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},ye)).join("")}catch{return!1}}()?Object.assign:function(q,z){for(var se,ye,be=function ae(q){if(null==q)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(q)}(q),De=1;De<arguments.length;De++){for(var Re in se=Object(arguments[De]))Ae.call(se,Re)&&(be[Re]=se[Re]);if(_e){ye=_e(se);for(var Ye=0;Ye<ye.length;Ye++)de.call(se,ye[Ye])&&(be[ye[Ye]]=se[ye[Ye]])}}return be}},{}],23:[function(o,U,Se){var _e=arguments[3],Ae=arguments[4],de=arguments[5],ae=JSON.stringify;U.exports=function(ve,q){for(var z,se=Object.keys(de),be=0,ye=se.length;be<ye;be++){var Re=de[De=se[be]].exports;if(Re===ve||Re&&Re.default===ve){z=De;break}}if(!z){z=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var Ye={};for(be=0,ye=se.length;be<ye;be++){var De;Ye[De=se[be]]=De}Ae[z]=["function(require,module,exports){"+ve+"(self); }",Ye]}var We=Math.floor(Math.pow(16,8)*Math.random()).toString(16),_t={};_t[z]=z,Ae[We]=["function(require,module,exports){var f = require("+ae(z)+");(f.default ? f.default : f)(self);}",_t];var Fe={};!function Ne(Ee){for(var Nt in Fe[Ee]=!0,Ae[Ee][1]){var Vt=Ae[Ee][1][Nt];Fe[Vt]||Ne(Vt)}}(We);var tt="("+_e+")({"+Object.keys(Fe).map(function(Ee){return ae(Ee)+":["+Ae[Ee][0]+","+ae(Ae[Ee][1])+"]"}).join(",")+"},{},["+ae(We)+"])",Ze=window.URL||window.webkitURL||window.mozURL||window.msURL,qe=new Blob([tt],{type:"text/javascript"});if(q&&q.bare)return qe;var ht=Ze.createObjectURL(qe),bt=new Worker(ht);return bt.objectURL=ht,bt}},{}],"/index.js":[function(o,U,Se){"use strict";function _e(Qe,dt){return function q(Qe){if(Array.isArray(Qe))return Qe}(Qe)||function ve(Qe,dt){var Le=null==Qe?null:typeof Symbol<"u"&&Qe[Symbol.iterator]||Qe["@@iterator"];if(null!=Le){var Pe,je,we=[],te=!0,Ie=!1;try{for(Le=Le.call(Qe);!(te=(Pe=Le.next()).done)&&(we.push(Pe.value),!dt||we.length!==dt);te=!0);}catch(ot){Ie=!0,je=ot}finally{try{!te&&null!=Le.return&&Le.return()}finally{if(Ie)throw je}}return we}}(Qe,dt)||function de(Qe,dt){if(Qe){if("string"==typeof Qe)return ae(Qe,dt);var Le=Object.prototype.toString.call(Qe).slice(8,-1);if("Object"===Le&&Qe.constructor&&(Le=Qe.constructor.name),"Map"===Le||"Set"===Le)return Array.from(Qe);if("Arguments"===Le||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Le))return ae(Qe,dt)}}(Qe,dt)||function Ae(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(Qe,dt){(null==dt||dt>Qe.length)&&(dt=Qe.length);for(var Le=0,we=new Array(dt);Le<dt;Le++)we[Le]=Qe[Le];return we}var z=o("object-assign"),se=o("webworkify"),be=o("./lib/mathlib"),ye=o("./lib/pool"),De=o("./lib/utils"),Re=o("./lib/worker"),Ye=o("./lib/stepper"),We=o("./lib/tiler"),_t=o("./lib/mm_resize/resize_filter_info"),Fe={},Ne=!1;try{typeof navigator<"u"&&navigator.userAgent&&(Ne=navigator.userAgent.indexOf("Safari")>=0)}catch{}var tt=1;typeof navigator<"u"&&(tt=Math.min(navigator.hardwareConcurrency||1,4));var Ze={tile:1024,concurrency:tt,features:["js","wasm","ww"],idle:2e3,createCanvas:function(dt,Le){var we=document.createElement("canvas");return we.width=dt,we.height=Le,we}},qe={filter:"mks2013",unsharpAmount:0,unsharpRadius:0,unsharpThreshold:0},ht=!1,bt=!1,Ee=!1,Nt=!1,Vt=!1;function Dn(){return{value:se(Re),destroy:function(){if(this.value.terminate(),typeof window<"u"){var dt=window.URL||window.webkitURL||window.mozURL||window.msURL;dt&&dt.revokeObjectURL&&this.value.objectURL&&dt.revokeObjectURL(this.value.objectURL)}}}}function wt(Qe){if(!(this instanceof wt))return new wt(Qe);this.options=z({},Ze,Qe||{});var dt="lk_".concat(this.options.concurrency);this.__limit=Fe[dt]||De.limiter(this.options.concurrency),Fe[dt]||(Fe[dt]=this.__limit),this.features={js:!1,wasm:!1,cib:!1,ww:!1},this.__workersPool=null,this.__requested_features=[],this.__mathlib=null}wt.prototype.init=function(){var Qe=this;if(this.__initPromise)return this.__initPromise;if(typeof ImageData<"u"&&typeof Uint8ClampedArray<"u")try{new ImageData(new Uint8ClampedArray(400),10,10),ht=!0}catch{}typeof ImageBitmap<"u"&&(ImageBitmap.prototype&&ImageBitmap.prototype.close?bt=!0:this.debug("ImageBitmap does not support .close(), disabled"));var dt=this.options.features.slice();if(dt.indexOf("all")>=0&&(dt=["cib","wasm","js","ww"]),this.__requested_features=dt,this.__mathlib=new be(dt),dt.indexOf("ww")>=0&&typeof window<"u"&&"Worker"in window)try{o("webworkify")(function(){}).terminate(),this.features.ww=!0;var we="wp_".concat(JSON.stringify(this.options));Fe[we]?this.__workersPool=Fe[we]:(this.__workersPool=new ye(Dn,this.options.idle),Fe[we]=this.__workersPool)}catch{}var Ie,Pe,te=this.__mathlib.init().then(function(ot){z(Qe.features,ot.features)});Ie=bt?De.cib_support(this.options.createCanvas).then(function(ot){Qe.features.cib&&dt.indexOf("cib")<0?Qe.debug("createImageBitmap() resize supported, but disabled by config"):dt.indexOf("cib")>=0&&(Qe.features.cib=ot)}):Promise.resolve(!1),Ee=De.can_use_canvas(this.options.createCanvas),Pe=(Pe=bt&&ht&&-1!==dt.indexOf("ww")?De.worker_offscreen_canvas_support():Promise.resolve(!1)).then(function(ot){Nt=ot});var je=De.cib_can_use_region().then(function(ot){Vt=ot});return this.__initPromise=Promise.all([te,Ie,Pe,je]).then(function(){return Qe}),this.__initPromise},wt.prototype.__invokeResize=function(Qe,dt){var Le=this;return dt.__mathCache=dt.__mathCache||{},Promise.resolve().then(function(){return Le.features.ww?new Promise(function(we,te){var Ie=Le.__workersPool.acquire();dt.cancelToken&&dt.cancelToken.catch(function(je){return te(je)}),Ie.value.onmessage=function(je){Ie.release(),je.data.err?te(je.data.err):we(je.data)};var Pe=[];Qe.src&&Pe.push(Qe.src.buffer),Qe.srcBitmap&&Pe.push(Qe.srcBitmap),Ie.value.postMessage({opts:Qe,features:Le.__requested_features,preload:{wasm_nodule:Le.__mathlib.__}},Pe)}):{data:Le.__mathlib.resizeAndUnsharp(Qe,dt.__mathCache)}})},wt.prototype.__extractTileData=function(Qe,dt,Le,we,te){if(this.features.ww&&Nt&&(De.isCanvas(dt)||Vt))return this.debug("Create tile for OffscreenCanvas"),createImageBitmap(we.srcImageBitmap||dt,Qe.x,Qe.y,Qe.width,Qe.height).then(function(je){return te.srcBitmap=je,te});if(De.isCanvas(dt))return we.srcCtx||(we.srcCtx=dt.getContext("2d")),this.debug("Get tile pixel data"),te.src=we.srcCtx.getImageData(Qe.x,Qe.y,Qe.width,Qe.height).data,te;this.debug("Draw tile imageBitmap/image to temporary canvas");var Ie=this.options.createCanvas(Qe.width,Qe.height),Pe=Ie.getContext("2d");return Pe.globalCompositeOperation="copy",Pe.drawImage(we.srcImageBitmap||dt,Qe.x,Qe.y,Qe.width,Qe.height,0,0,Qe.width,Qe.height),this.debug("Get tile pixel data"),te.src=Pe.getImageData(0,0,Qe.width,Qe.height).data,Ie.width=Ie.height=0,te},wt.prototype.__landTileData=function(Qe,dt,Le){var we;if(this.debug("Convert raw rgba tile result to ImageData"),dt.bitmap)return Le.toCtx.drawImage(dt.bitmap,Qe.toX,Qe.toY),null;if(ht)we=new ImageData(new Uint8ClampedArray(dt.data),Qe.toWidth,Qe.toHeight);else if((we=Le.toCtx.createImageData(Qe.toWidth,Qe.toHeight)).data.set)we.data.set(dt.data);else for(var te=we.data.length-1;te>=0;te--)we.data[te]=dt.data[te];return this.debug("Draw tile"),Ne?Le.toCtx.putImageData(we,Qe.toX,Qe.toY,Qe.toInnerX-Qe.toX,Qe.toInnerY-Qe.toY,Qe.toInnerWidth+1e-5,Qe.toInnerHeight+1e-5):Le.toCtx.putImageData(we,Qe.toX,Qe.toY,Qe.toInnerX-Qe.toX,Qe.toInnerY-Qe.toY,Qe.toInnerWidth,Qe.toInnerHeight),null},wt.prototype.__tileAndResize=function(Qe,dt,Le){var we=this,te={srcCtx:null,srcImageBitmap:null,isImageBitmapReused:!1,toCtx:null};return Promise.resolve().then(function(){if(te.toCtx=dt.getContext("2d"),De.isCanvas(Qe))return null;if(De.isImageBitmap(Qe))return te.srcImageBitmap=Qe,te.isImageBitmapReused=!0,null;if(De.isImage(Qe))return bt?(we.debug("Decode image via createImageBitmap"),createImageBitmap(Qe).then(function(Pe){te.srcImageBitmap=Pe}).catch(function(Pe){return null})):null;throw new Error('Pica: ".from" should be Image, Canvas or ImageBitmap')}).then(function(){if(Le.canceled)return Le.cancelToken;we.debug("Calculate tiles");var je=We({width:Le.width,height:Le.height,srcTileSize:we.options.tile,toWidth:Le.toWidth,toHeight:Le.toHeight,destTileBorder:Le.__destTileBorder}).map(function(vt){return function(je){return we.__limit(function(){if(Le.canceled)return Le.cancelToken;var ot={width:je.width,height:je.height,toWidth:je.toWidth,toHeight:je.toHeight,scaleX:je.scaleX,scaleY:je.scaleY,offsetX:je.offsetX,offsetY:je.offsetY,filter:Le.filter,unsharpAmount:Le.unsharpAmount,unsharpRadius:Le.unsharpRadius,unsharpThreshold:Le.unsharpThreshold};return we.debug("Invoke resize math"),Promise.resolve(ot).then(function(vt){return we.__extractTileData(je,Qe,Le,te,vt)}).then(function(vt){return we.debug("Invoke resize math"),we.__invokeResize(vt,Le)}).then(function(vt){return Le.canceled?Le.cancelToken:(te.srcImageData=null,we.__landTileData(je,vt,te))})})}(vt)});function ot(vt){vt.srcImageBitmap&&(vt.isImageBitmapReused||vt.srcImageBitmap.close(),vt.srcImageBitmap=null)}return we.debug("Process tiles"),Promise.all(je).then(function(){return we.debug("Finished!"),ot(te),dt},function(vt){throw ot(te),vt})})},wt.prototype.__processStages=function(Qe,dt,Le,we){var te=this;if(we.canceled)return we.cancelToken;var Bt,Zt,Pe=_e(Qe.shift(),2),je=Pe[0],ot=Pe[1],vt=0===Qe.length;return Bt=vt||_t.q2f.indexOf(we.filter)<0?we.filter:"box"===we.filter?"box":"hamming",we=z({},we,{toWidth:je,toHeight:ot,filter:Bt}),vt||(Zt=this.options.createCanvas(je,ot)),this.__tileAndResize(dt,vt?Le:Zt,we).then(function(){return vt?Le:(we.width=je,we.height=ot,te.__processStages(Qe,Zt,Le,we))}).then(function(Wt){return Zt&&(Zt.width=Zt.height=0),Wt})},wt.prototype.__resizeViaCreateImageBitmap=function(Qe,dt,Le){var we=this,te=dt.getContext("2d");return this.debug("Resize via createImageBitmap()"),createImageBitmap(Qe,{resizeWidth:Le.toWidth,resizeHeight:Le.toHeight,resizeQuality:De.cib_quality_name(_t.f2q[Le.filter])}).then(function(Ie){if(Le.canceled)return Le.cancelToken;if(!Le.unsharpAmount)return te.drawImage(Ie,0,0),Ie.close(),te=null,we.debug("Finished!"),dt;we.debug("Unsharp result");var Pe=we.options.createCanvas(Le.toWidth,Le.toHeight),je=Pe.getContext("2d");je.drawImage(Ie,0,0),Ie.close();var ot=je.getImageData(0,0,Le.toWidth,Le.toHeight);return we.__mathlib.unsharp_mask(ot.data,Le.toWidth,Le.toHeight,Le.unsharpAmount,Le.unsharpRadius,Le.unsharpThreshold),te.putImageData(ot,0,0),Pe.width=Pe.height=0,ot=je=Pe=te=null,we.debug("Finished!"),dt})},wt.prototype.resize=function(Qe,dt,Le){var we=this;this.debug("Start resize...");var te=z({},qe);if(isNaN(Le)?Le&&(te=z(te,Le)):te=z(te,{quality:Le}),te.toWidth=dt.width,te.toHeight=dt.height,te.width=Qe.naturalWidth||Qe.width,te.height=Qe.naturalHeight||Qe.height,Object.prototype.hasOwnProperty.call(te,"quality")){if(te.quality<0||te.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(te.quality));te.filter=_t.q2f[te.quality]}return 0===dt.width||0===dt.height?Promise.reject(new Error("Invalid output size: ".concat(dt.width,"x").concat(dt.height))):(te.unsharpRadius>2&&(te.unsharpRadius=2),te.canceled=!1,te.cancelToken&&(te.cancelToken=te.cancelToken.then(function(Pe){throw te.canceled=!0,Pe},function(Pe){throw te.canceled=!0,Pe})),te.__destTileBorder=Math.ceil(Math.max(3,2.5*te.unsharpRadius|0)),this.init().then(function(){if(te.canceled)return te.cancelToken;if(we.features.cib){if(_t.q2f.indexOf(te.filter)>=0)return we.__resizeViaCreateImageBitmap(Qe,dt,te);we.debug("cib is enabled, but not supports provided filter, fallback to manual math")}if(!Ee){var Pe=new Error("Pica: cannot use getImageData on canvas, make sure fingerprinting protection isn't enabled");throw Pe.code="ERR_GET_IMAGE_DATA",Pe}var je=Ye(te.width,te.height,te.toWidth,te.toHeight,we.options.tile,te.__destTileBorder);return we.__processStages(je,Qe,dt,te)}))},wt.prototype.resizeBuffer=function(Qe){var dt=this,Le=z({},qe,Qe);if(Object.prototype.hasOwnProperty.call(Le,"quality")){if(Le.quality<0||Le.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(Le.quality));Le.filter=_t.q2f[Le.quality]}return this.init().then(function(){return dt.__mathlib.resizeAndUnsharp(Le)})},wt.prototype.toBlob=function(Qe,dt,Le){return dt=dt||"image/png",new Promise(function(we){if(Qe.toBlob)Qe.toBlob(function(ot){return we(ot)},dt,Le);else if(Qe.convertToBlob)we(Qe.convertToBlob({type:dt,quality:Le}));else{for(var te=atob(Qe.toDataURL(dt,Le).split(",")[1]),Ie=te.length,Pe=new Uint8Array(Ie),je=0;je<Ie;je++)Pe[je]=te.charCodeAt(je);we(new Blob([Pe],{type:dt}))}})},wt.prototype.debug=function(){},U.exports=wt},{"./lib/mathlib":1,"./lib/mm_resize/resize_filter_info":7,"./lib/pool":13,"./lib/stepper":14,"./lib/tiler":15,"./lib/utils":16,"./lib/worker":17,"object-assign":22,webworkify:23}]},{},[])("/index.js")},5619:(an,ut,k)=>{"use strict";k.d(ut,{X:()=>o});var f=k(8645);class o extends f.x{constructor(Se){super(),this._value=Se}get value(){return this.getValue()}_subscribe(Se){const _e=super._subscribe(Se);return!_e.closed&&Se.next(this._value),_e}getValue(){const{hasError:Se,thrownError:_e,_value:Ae}=this;if(Se)throw _e;return this._throwIfClosed(),Ae}next(Se){super.next(this._value=Se)}}},5592:(an,ut,k)=>{"use strict";k.d(ut,{y:()=>ae});var f=k(305),o=k(7394),U=k(4850),Se=k(8407),_e=k(2653),Ae=k(4674),de=k(1441);let ae=(()=>{class se{constructor(ye){ye&&(this._subscribe=ye)}lift(ye){const De=new se;return De.source=this,De.operator=ye,De}subscribe(ye,De,Re){const Ye=function z(se){return se&&se instanceof f.Lv||function q(se){return se&&(0,Ae.m)(se.next)&&(0,Ae.m)(se.error)&&(0,Ae.m)(se.complete)}(se)&&(0,o.Nn)(se)}(ye)?ye:new f.Hp(ye,De,Re);return(0,de.x)(()=>{const{operator:We,source:_t}=this;Ye.add(We?We.call(Ye,_t):_t?this._subscribe(Ye):this._trySubscribe(Ye))}),Ye}_trySubscribe(ye){try{return this._subscribe(ye)}catch(De){ye.error(De)}}forEach(ye,De){return new(De=ve(De))((Re,Ye)=>{const We=new f.Hp({next:_t=>{try{ye(_t)}catch(Fe){Ye(Fe),We.unsubscribe()}},error:Ye,complete:Re});this.subscribe(We)})}_subscribe(ye){var De;return null===(De=this.source)||void 0===De?void 0:De.subscribe(ye)}[U.L](){return this}pipe(...ye){return(0,Se.U)(ye)(this)}toPromise(ye){return new(ye=ve(ye))((De,Re)=>{let Ye;this.subscribe(We=>Ye=We,We=>Re(We),()=>De(Ye))})}}return se.create=be=>new se(be),se})();function ve(se){var be;return null!==(be=se??_e.config.Promise)&&void 0!==be?be:Promise}},8645:(an,ut,k)=>{"use strict";k.d(ut,{x:()=>de});var f=k(5592),o=k(7394);const Se=(0,k(2306).d)(ve=>function(){ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _e=k(9039),Ae=k(1441);let de=(()=>{class ve extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const se=new ae(this,this);return se.operator=z,se}_throwIfClosed(){if(this.closed)throw new Se}next(z){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const se of this.currentObservers)se.next(z)}})}error(z){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:se}=this;for(;se.length;)se.shift().error(z)}})}complete(){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:se,isStopped:be,observers:ye}=this;return se||be?o.Lc:(this.currentObservers=null,ye.push(z),new o.w0(()=>{this.currentObservers=null,(0,_e.P)(ye,z)}))}_checkFinalizedStatuses(z){const{hasError:se,thrownError:be,isStopped:ye}=this;se?z.error(be):ye&&z.complete()}asObservable(){const z=new f.y;return z.source=this,z}}return ve.create=(q,z)=>new ae(q,z),ve})();class ae extends de{constructor(q,z){super(),this.destination=q,this.source=z}next(q){var z,se;null===(se=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===se||se.call(z,q)}error(q){var z,se;null===(se=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===se||se.call(z,q)}complete(){var q,z;null===(z=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===z||z.call(q)}_subscribe(q){var z,se;return null!==(se=null===(z=this.source)||void 0===z?void 0:z.subscribe(q))&&void 0!==se?se:o.Lc}}},305:(an,ut,k)=>{"use strict";k.d(ut,{Hp:()=>Re,Lv:()=>se});var f=k(4674),o=k(7394),U=k(2653),Se=k(3894),_e=k(2420);const Ae=ve("C",void 0,void 0);function ve(Ne,tt,Ze){return{kind:Ne,value:tt,error:Ze}}var q=k(7599),z=k(1441);class se extends o.w0{constructor(tt){super(),this.isStopped=!1,tt?(this.destination=tt,(0,o.Nn)(tt)&&tt.add(this)):this.destination=Fe}static create(tt,Ze,qe){return new Re(tt,Ze,qe)}next(tt){this.isStopped?_t(function ae(Ne){return ve("N",Ne,void 0)}(tt),this):this._next(tt)}error(tt){this.isStopped?_t(function de(Ne){return ve("E",void 0,Ne)}(tt),this):(this.isStopped=!0,this._error(tt))}complete(){this.isStopped?_t(Ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(tt){this.destination.next(tt)}_error(tt){try{this.destination.error(tt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const be=Function.prototype.bind;function ye(Ne,tt){return be.call(Ne,tt)}class De{constructor(tt){this.partialObserver=tt}next(tt){const{partialObserver:Ze}=this;if(Ze.next)try{Ze.next(tt)}catch(qe){Ye(qe)}}error(tt){const{partialObserver:Ze}=this;if(Ze.error)try{Ze.error(tt)}catch(qe){Ye(qe)}else Ye(tt)}complete(){const{partialObserver:tt}=this;if(tt.complete)try{tt.complete()}catch(Ze){Ye(Ze)}}}class Re extends se{constructor(tt,Ze,qe){let ht;if(super(),(0,f.m)(tt)||!tt)ht={next:tt??void 0,error:Ze??void 0,complete:qe??void 0};else{let bt;this&&U.config.useDeprecatedNextContext?(bt=Object.create(tt),bt.unsubscribe=()=>this.unsubscribe(),ht={next:tt.next&&ye(tt.next,bt),error:tt.error&&ye(tt.error,bt),complete:tt.complete&&ye(tt.complete,bt)}):ht=tt}this.destination=new De(ht)}}function Ye(Ne){U.config.useDeprecatedSynchronousErrorHandling?(0,z.O)(Ne):(0,Se.h)(Ne)}function _t(Ne,tt){const{onStoppedNotification:Ze}=U.config;Ze&&q.z.setTimeout(()=>Ze(Ne,tt))}const Fe={closed:!0,next:_e.Z,error:function We(Ne){throw Ne},complete:_e.Z}},7394:(an,ut,k)=>{"use strict";k.d(ut,{Lc:()=>Ae,w0:()=>_e,Nn:()=>de});var f=k(4674);const U=(0,k(2306).d)(ve=>function(z){ve(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((se,be)=>`${be+1}) ${se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var Se=k(9039);class _e{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const ye of z)ye.remove(this);else z.remove(this);const{initialTeardown:se}=this;if((0,f.m)(se))try{se()}catch(ye){q=ye instanceof U?ye.errors:[ye]}const{_finalizers:be}=this;if(be){this._finalizers=null;for(const ye of be)try{ae(ye)}catch(De){q=q??[],De instanceof U?q=[...q,...De.errors]:q.push(De)}}if(q)throw new U(q)}}add(q){var z;if(q&&q!==this)if(this.closed)ae(q);else{if(q instanceof _e){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(q)}}_hasParent(q){const{_parentage:z}=this;return z===q||Array.isArray(z)&&z.includes(q)}_addParent(q){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(q),z):z?[z,q]:q}_removeParent(q){const{_parentage:z}=this;z===q?this._parentage=null:Array.isArray(z)&&(0,Se.P)(z,q)}remove(q){const{_finalizers:z}=this;z&&(0,Se.P)(z,q),q instanceof _e&&q._removeParent(this)}}_e.EMPTY=(()=>{const ve=new _e;return ve.closed=!0,ve})();const Ae=_e.EMPTY;function de(ve){return ve instanceof _e||ve&&"closed"in ve&&(0,f.m)(ve.remove)&&(0,f.m)(ve.add)&&(0,f.m)(ve.unsubscribe)}function ae(ve){(0,f.m)(ve)?ve():ve.unsubscribe()}},2653:(an,ut,k)=>{"use strict";k.d(ut,{config:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(an,ut,k)=>{"use strict";k.d(ut,{a:()=>q});var f=k(5592),o=k(7453),U=k(2459),Se=k(2737),_e=k(7400),Ae=k(4564),de=k(2714),ae=k(8251),ve=k(7103);function q(...be){const ye=(0,Ae.yG)(be),De=(0,Ae.jO)(be),{args:Re,keys:Ye}=(0,o.D)(be);if(0===Re.length)return(0,U.D)([],ye);const We=new f.y(function z(be,ye,De=Se.y){return Re=>{se(ye,()=>{const{length:Ye}=be,We=new Array(Ye);let _t=Ye,Fe=Ye;for(let Ne=0;Ne<Ye;Ne++)se(ye,()=>{const tt=(0,U.D)(be[Ne],ye);let Ze=!1;tt.subscribe((0,ae.x)(Re,qe=>{We[Ne]=qe,Ze||(Ze=!0,Fe--),Fe||Re.next(De(We.slice()))},()=>{--_t||Re.complete()}))},Re)},Re)}}(Re,ye,Ye?_t=>(0,de.n)(Ye,_t):Se.y));return De?We.pipe((0,_e.Z)(De)):We}function se(be,ye,De){be?(0,ve.f)(De,be,ye):ye()}},5211:(an,ut,k)=>{"use strict";k.d(ut,{z:()=>_e});var f=k(7537),U=k(4564),Se=k(2459);function _e(...Ae){return function o(){return(0,f.J)(1)}()((0,Se.D)(Ae,(0,U.yG)(Ae)))}},6232:(an,ut,k)=>{"use strict";k.d(ut,{E:()=>o});const o=new(k(5592).y)(_e=>_e.complete())},9315:(an,ut,k)=>{"use strict";k.d(ut,{D:()=>ae});var f=k(5592),o=k(7453),U=k(4829),Se=k(4564),_e=k(8251),Ae=k(7400),de=k(2714);function ae(...ve){const q=(0,Se.jO)(ve),{args:z,keys:se}=(0,o.D)(ve),be=new f.y(ye=>{const{length:De}=z;if(!De)return void ye.complete();const Re=new Array(De);let Ye=De,We=De;for(let _t=0;_t<De;_t++){let Fe=!1;(0,U.Xf)(z[_t]).subscribe((0,_e.x)(ye,Ne=>{Fe||(Fe=!0,We--),Re[_t]=Ne},()=>Ye--,void 0,()=>{(!Ye||!Fe)&&(We||ye.next(se?(0,de.n)(se,Re):Re),ye.complete())}))}});return q?be.pipe((0,Ae.Z)(q)):be}},2459:(an,ut,k)=>{"use strict";k.d(ut,{D:()=>tt});var f=k(4829),o=k(3093),U=k(5137),Ae=k(5592),ae=k(4971),ve=k(4674),q=k(7103);function se(Ze,qe){if(!Ze)throw new Error("Iterable cannot be null");return new Ae.y(ht=>{(0,q.f)(ht,qe,()=>{const bt=Ze[Symbol.asyncIterator]();(0,q.f)(ht,qe,()=>{bt.next().then(Ee=>{Ee.done?ht.complete():ht.next(Ee.value)})},0,!0)})})}var be=k(8382),ye=k(4026),De=k(4266),Re=k(3664),Ye=k(5726),We=k(9853),_t=k(541);function tt(Ze,qe){return qe?function Ne(Ze,qe){if(null!=Ze){if((0,be.c)(Ze))return function Se(Ze,qe){return(0,f.Xf)(Ze).pipe((0,U.R)(qe),(0,o.Q)(qe))}(Ze,qe);if((0,De.z)(Ze))return function de(Ze,qe){return new Ae.y(ht=>{let bt=0;return qe.schedule(function(){bt===Ze.length?ht.complete():(ht.next(Ze[bt++]),ht.closed||this.schedule())})})}(Ze,qe);if((0,ye.t)(Ze))return function _e(Ze,qe){return(0,f.Xf)(Ze).pipe((0,U.R)(qe),(0,o.Q)(qe))}(Ze,qe);if((0,Ye.D)(Ze))return se(Ze,qe);if((0,Re.T)(Ze))return function z(Ze,qe){return new Ae.y(ht=>{let bt;return(0,q.f)(ht,qe,()=>{bt=Ze[ae.h](),(0,q.f)(ht,qe,()=>{let Ee,Nt;try{({value:Ee,done:Nt}=bt.next())}catch(Vt){return void ht.error(Vt)}Nt?ht.complete():ht.next(Ee)},0,!0)}),()=>(0,ve.m)(bt?.return)&&bt.return()})}(Ze,qe);if((0,_t.L)(Ze))return function Fe(Ze,qe){return se((0,_t.Q)(Ze),qe)}(Ze,qe)}throw(0,We.z)(Ze)}(Ze,qe):(0,f.Xf)(Ze)}},4829:(an,ut,k)=>{"use strict";k.d(ut,{Xf:()=>be});var f=k(7582),o=k(4266),U=k(4026),Se=k(5592),_e=k(8382),Ae=k(5726),de=k(9853),ae=k(3664),ve=k(541),q=k(4674),z=k(3894),se=k(4850);function be(Ne){if(Ne instanceof Se.y)return Ne;if(null!=Ne){if((0,_e.c)(Ne))return function ye(Ne){return new Se.y(tt=>{const Ze=Ne[se.L]();if((0,q.m)(Ze.subscribe))return Ze.subscribe(tt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ne);if((0,o.z)(Ne))return function De(Ne){return new Se.y(tt=>{for(let Ze=0;Ze<Ne.length&&!tt.closed;Ze++)tt.next(Ne[Ze]);tt.complete()})}(Ne);if((0,U.t)(Ne))return function Re(Ne){return new Se.y(tt=>{Ne.then(Ze=>{tt.closed||(tt.next(Ze),tt.complete())},Ze=>tt.error(Ze)).then(null,z.h)})}(Ne);if((0,Ae.D)(Ne))return We(Ne);if((0,ae.T)(Ne))return function Ye(Ne){return new Se.y(tt=>{for(const Ze of Ne)if(tt.next(Ze),tt.closed)return;tt.complete()})}(Ne);if((0,ve.L)(Ne))return function _t(Ne){return We((0,ve.Q)(Ne))}(Ne)}throw(0,de.z)(Ne)}function We(Ne){return new Se.y(tt=>{(function Fe(Ne,tt){var Ze,qe,ht,bt;return(0,f.mG)(this,void 0,void 0,function*(){try{for(Ze=(0,f.KL)(Ne);!(qe=yield Ze.next()).done;)if(tt.next(qe.value),tt.closed)return}catch(Ee){ht={error:Ee}}finally{try{qe&&!qe.done&&(bt=Ze.return)&&(yield bt.call(Ze))}finally{if(ht)throw ht.error}}tt.complete()})})(Ne,tt).catch(Ze=>tt.error(Ze))})}},3019:(an,ut,k)=>{"use strict";k.d(ut,{T:()=>Ae});var f=k(7537),o=k(4829),U=k(6232),Se=k(4564),_e=k(2459);function Ae(...de){const ae=(0,Se.yG)(de),ve=(0,Se._6)(de,1/0),q=de;return q.length?1===q.length?(0,o.Xf)(q[0]):(0,f.J)(ve)((0,_e.D)(q,ae)):U.E}},2096:(an,ut,k)=>{"use strict";k.d(ut,{of:()=>U});var f=k(4564),o=k(2459);function U(...Se){const _e=(0,f.yG)(Se);return(0,o.D)(Se,_e)}},8504:(an,ut,k)=>{"use strict";k.d(ut,{_:()=>U});var f=k(5592),o=k(4674);function U(Se,_e){const Ae=(0,o.m)(Se)?Se:()=>Se,de=ae=>ae.error(Ae());return new f.y(_e?ae=>_e.schedule(de,0,ae):de)}},8251:(an,ut,k)=>{"use strict";k.d(ut,{x:()=>o});var f=k(305);function o(Se,_e,Ae,de,ae){return new U(Se,_e,Ae,de,ae)}class U extends f.Lv{constructor(_e,Ae,de,ae,ve,q){super(_e),this.onFinalize=ve,this.shouldUnsubscribe=q,this._next=Ae?function(z){try{Ae(z)}catch(se){_e.error(se)}}:super._next,this._error=ae?function(z){try{ae(z)}catch(se){_e.error(se)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(z){_e.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var _e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ae}=this;super.unsubscribe(),!Ae&&(null===(_e=this.onFinalize)||void 0===_e||_e.call(this))}}}},6306:(an,ut,k)=>{"use strict";k.d(ut,{K:()=>Se});var f=k(4829),o=k(8251),U=k(9360);function Se(_e){return(0,U.e)((Ae,de)=>{let q,ae=null,ve=!1;ae=Ae.subscribe((0,o.x)(de,void 0,void 0,z=>{q=(0,f.Xf)(_e(z,Se(_e)(Ae))),ae?(ae.unsubscribe(),ae=null,q.subscribe(de)):ve=!0})),ve&&(ae.unsubscribe(),ae=null,q.subscribe(de))})}},6328:(an,ut,k)=>{"use strict";k.d(ut,{b:()=>U});var f=k(1631),o=k(4674);function U(Se,_e){return(0,o.m)(_e)?(0,f.z)(Se,_e,1):(0,f.z)(Se,1)}},3620:(an,ut,k)=>{"use strict";k.d(ut,{b:()=>Se});var f=k(6321),o=k(9360),U=k(8251);function Se(_e,Ae=f.z){return(0,o.e)((de,ae)=>{let ve=null,q=null,z=null;const se=()=>{if(ve){ve.unsubscribe(),ve=null;const ye=q;q=null,ae.next(ye)}};function be(){const ye=z+_e,De=Ae.now();if(De<ye)return ve=this.schedule(void 0,ye-De),void ae.add(ve);se()}de.subscribe((0,U.x)(ae,ye=>{q=ye,z=Ae.now(),ve||(ve=Ae.schedule(be,_e),ae.add(ve))},()=>{se(),ae.complete()},void 0,()=>{q=ve=null}))})}},3572:(an,ut,k)=>{"use strict";k.d(ut,{d:()=>U});var f=k(9360),o=k(8251);function U(Se){return(0,f.e)((_e,Ae)=>{let de=!1;_e.subscribe((0,o.x)(Ae,ae=>{de=!0,Ae.next(ae)},()=>{de||Ae.next(Se),Ae.complete()}))})}},3997:(an,ut,k)=>{"use strict";k.d(ut,{x:()=>Se});var f=k(2737),o=k(9360),U=k(8251);function Se(Ae,de=f.y){return Ae=Ae??_e,(0,o.e)((ae,ve)=>{let q,z=!0;ae.subscribe((0,U.x)(ve,se=>{const be=de(se);(z||!Ae(q,be))&&(z=!1,q=be,ve.next(se))}))})}function _e(Ae,de){return Ae===de}},2181:(an,ut,k)=>{"use strict";k.d(ut,{h:()=>U});var f=k(9360),o=k(8251);function U(Se,_e){return(0,f.e)((Ae,de)=>{let ae=0;Ae.subscribe((0,o.x)(de,ve=>Se.call(_e,ve,ae++)&&de.next(ve)))})}},4716:(an,ut,k)=>{"use strict";k.d(ut,{x:()=>o});var f=k(9360);function o(U){return(0,f.e)((Se,_e)=>{try{Se.subscribe(_e)}finally{_e.add(U)}})}},1374:(an,ut,k)=>{"use strict";k.d(ut,{P:()=>de});var f=k(6973),o=k(2181),U=k(8180),Se=k(3572),_e=k(3026),Ae=k(2737);function de(ae,ve){const q=arguments.length>=2;return z=>z.pipe(ae?(0,o.h)((se,be)=>ae(se,be,z)):Ae.y,(0,U.q)(1),q?(0,Se.d)(ve):(0,_e.T)(()=>new f.K))}},7398:(an,ut,k)=>{"use strict";k.d(ut,{U:()=>U});var f=k(9360),o=k(8251);function U(Se,_e){return(0,f.e)((Ae,de)=>{let ae=0;Ae.subscribe((0,o.x)(de,ve=>{de.next(Se.call(_e,ve,ae++))}))})}},7537:(an,ut,k)=>{"use strict";k.d(ut,{J:()=>U});var f=k(1631),o=k(2737);function U(Se=1/0){return(0,f.z)(o.y,Se)}},1631:(an,ut,k)=>{"use strict";k.d(ut,{z:()=>ae});var f=k(7398),o=k(4829),U=k(9360),Se=k(7103),_e=k(8251),de=k(4674);function ae(ve,q,z=1/0){return(0,de.m)(q)?ae((se,be)=>(0,f.U)((ye,De)=>q(se,ye,be,De))((0,o.Xf)(ve(se,be))),z):("number"==typeof q&&(z=q),(0,U.e)((se,be)=>function Ae(ve,q,z,se,be,ye,De,Re){const Ye=[];let We=0,_t=0,Fe=!1;const Ne=()=>{Fe&&!Ye.length&&!We&&q.complete()},tt=qe=>We<se?Ze(qe):Ye.push(qe),Ze=qe=>{ye&&q.next(qe),We++;let ht=!1;(0,o.Xf)(z(qe,_t++)).subscribe((0,_e.x)(q,bt=>{be?.(bt),ye?tt(bt):q.next(bt)},()=>{ht=!0},void 0,()=>{if(ht)try{for(We--;Ye.length&&We<se;){const bt=Ye.shift();De?(0,Se.f)(q,De,()=>Ze(bt)):Ze(bt)}Ne()}catch(bt){q.error(bt)}}))};return ve.subscribe((0,_e.x)(q,tt,()=>{Fe=!0,Ne()})),()=>{Re?.()}}(se,be,ve,z)))}},3093:(an,ut,k)=>{"use strict";k.d(ut,{Q:()=>Se});var f=k(7103),o=k(9360),U=k(8251);function Se(_e,Ae=0){return(0,o.e)((de,ae)=>{de.subscribe((0,U.x)(ae,ve=>(0,f.f)(ae,_e,()=>ae.next(ve),Ae),()=>(0,f.f)(ae,_e,()=>ae.complete(),Ae),ve=>(0,f.f)(ae,_e,()=>ae.error(ve),Ae)))})}},6699:(an,ut,k)=>{"use strict";k.d(ut,{R:()=>Se});var f=k(9360),o=k(8251);function Se(_e,Ae){return(0,f.e)(function U(_e,Ae,de,ae,ve){return(q,z)=>{let se=de,be=Ae,ye=0;q.subscribe((0,o.x)(z,De=>{const Re=ye++;be=se?_e(be,De,Re):(se=!0,De),ae&&z.next(be)},ve&&(()=>{se&&z.next(be),z.complete()})))}}(_e,Ae,arguments.length>=2,!0))}},3020:(an,ut,k)=>{"use strict";k.d(ut,{B:()=>_e});var f=k(4829),o=k(8645),U=k(305),Se=k(9360);function _e(de={}){const{connector:ae=(()=>new o.x),resetOnError:ve=!0,resetOnComplete:q=!0,resetOnRefCountZero:z=!0}=de;return se=>{let be,ye,De,Re=0,Ye=!1,We=!1;const _t=()=>{ye?.unsubscribe(),ye=void 0},Fe=()=>{_t(),be=De=void 0,Ye=We=!1},Ne=()=>{const tt=be;Fe(),tt?.unsubscribe()};return(0,Se.e)((tt,Ze)=>{Re++,!We&&!Ye&&_t();const qe=De=De??ae();Ze.add(()=>{Re--,0===Re&&!We&&!Ye&&(ye=Ae(Ne,z))}),qe.subscribe(Ze),!be&&Re>0&&(be=new U.Hp({next:ht=>qe.next(ht),error:ht=>{We=!0,_t(),ye=Ae(Fe,ve,ht),qe.error(ht)},complete:()=>{Ye=!0,_t(),ye=Ae(Fe,q),qe.complete()}}),(0,f.Xf)(tt).subscribe(be))})(se)}}function Ae(de,ae,...ve){if(!0===ae)return void de();if(!1===ae)return;const q=new U.Hp({next:()=>{q.unsubscribe(),de()}});return(0,f.Xf)(ae(...ve)).subscribe(q)}},7921:(an,ut,k)=>{"use strict";k.d(ut,{O:()=>Se});var f=k(5211),o=k(4564),U=k(9360);function Se(..._e){const Ae=(0,o.yG)(_e);return(0,U.e)((de,ae)=>{(Ae?(0,f.z)(_e,de,Ae):(0,f.z)(_e,de)).subscribe(ae)})}},5137:(an,ut,k)=>{"use strict";k.d(ut,{R:()=>o});var f=k(9360);function o(U,Se=0){return(0,f.e)((_e,Ae)=>{Ae.add(U.schedule(()=>_e.subscribe(Ae),Se))})}},4664:(an,ut,k)=>{"use strict";k.d(ut,{w:()=>Se});var f=k(4829),o=k(9360),U=k(8251);function Se(_e,Ae){return(0,o.e)((de,ae)=>{let ve=null,q=0,z=!1;const se=()=>z&&!ve&&ae.complete();de.subscribe((0,U.x)(ae,be=>{ve?.unsubscribe();let ye=0;const De=q++;(0,f.Xf)(_e(be,De)).subscribe(ve=(0,U.x)(ae,Re=>ae.next(Ae?Ae(be,Re,De,ye++):Re),()=>{ve=null,se()}))},()=>{z=!0,se()}))})}},8180:(an,ut,k)=>{"use strict";k.d(ut,{q:()=>Se});var f=k(6232),o=k(9360),U=k(8251);function Se(_e){return _e<=0?()=>f.E:(0,o.e)((Ae,de)=>{let ae=0;Ae.subscribe((0,U.x)(de,ve=>{++ae<=_e&&(de.next(ve),_e<=ae&&de.complete())}))})}},9773:(an,ut,k)=>{"use strict";k.d(ut,{R:()=>_e});var f=k(9360),o=k(8251),U=k(4829),Se=k(2420);function _e(Ae){return(0,f.e)((de,ae)=>{(0,U.Xf)(Ae).subscribe((0,o.x)(ae,()=>ae.complete(),Se.Z)),!ae.closed&&de.subscribe(ae)})}},9397:(an,ut,k)=>{"use strict";k.d(ut,{b:()=>_e});var f=k(4674),o=k(9360),U=k(8251),Se=k(2737);function _e(Ae,de,ae){const ve=(0,f.m)(Ae)||de||ae?{next:Ae,error:de,complete:ae}:Ae;return ve?(0,o.e)((q,z)=>{var se;null===(se=ve.subscribe)||void 0===se||se.call(ve);let be=!0;q.subscribe((0,U.x)(z,ye=>{var De;null===(De=ve.next)||void 0===De||De.call(ve,ye),z.next(ye)},()=>{var ye;be=!1,null===(ye=ve.complete)||void 0===ye||ye.call(ve),z.complete()},ye=>{var De;be=!1,null===(De=ve.error)||void 0===De||De.call(ve,ye),z.error(ye)},()=>{var ye,De;be&&(null===(ye=ve.unsubscribe)||void 0===ye||ye.call(ve)),null===(De=ve.finalize)||void 0===De||De.call(ve)}))}):Se.y}},3026:(an,ut,k)=>{"use strict";k.d(ut,{T:()=>Se});var f=k(6973),o=k(9360),U=k(8251);function Se(Ae=_e){return(0,o.e)((de,ae)=>{let ve=!1;de.subscribe((0,U.x)(ae,q=>{ve=!0,ae.next(q)},()=>ve?ae.complete():ae.error(Ae())))})}function _e(){return new f.K}},1954:(an,ut,k)=>{"use strict";k.d(ut,{o:()=>_e});var f=k(7394);class o extends f.w0{constructor(de,ae){super()}schedule(de,ae=0){return this}}const U={setInterval(Ae,de,...ae){const{delegate:ve}=U;return ve?.setInterval?ve.setInterval(Ae,de,...ae):setInterval(Ae,de,...ae)},clearInterval(Ae){const{delegate:de}=U;return(de?.clearInterval||clearInterval)(Ae)},delegate:void 0};var Se=k(9039);class _e extends o{constructor(de,ae){super(de,ae),this.scheduler=de,this.work=ae,this.pending=!1}schedule(de,ae=0){var ve;if(this.closed)return this;this.state=de;const q=this.id,z=this.scheduler;return null!=q&&(this.id=this.recycleAsyncId(z,q,ae)),this.pending=!0,this.delay=ae,this.id=null!==(ve=this.id)&&void 0!==ve?ve:this.requestAsyncId(z,this.id,ae),this}requestAsyncId(de,ae,ve=0){return U.setInterval(de.flush.bind(de,this),ve)}recycleAsyncId(de,ae,ve=0){if(null!=ve&&this.delay===ve&&!1===this.pending)return ae;null!=ae&&U.clearInterval(ae)}execute(de,ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ve=this._execute(de,ae);if(ve)return ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,ae){let q,ve=!1;try{this.work(de)}catch(z){ve=!0,q=z||new Error("Scheduled action threw falsy error")}if(ve)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:de,scheduler:ae}=this,{actions:ve}=ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Se.P)(ve,this),null!=de&&(this.id=this.recycleAsyncId(ae,de,null)),this.delay=null,super.unsubscribe()}}}},2631:(an,ut,k)=>{"use strict";k.d(ut,{v:()=>U});var f=k(4552);class o{constructor(_e,Ae=o.now){this.schedulerActionCtor=_e,this.now=Ae}schedule(_e,Ae=0,de){return new this.schedulerActionCtor(this,_e).schedule(de,Ae)}}o.now=f.l.now;class U extends o{constructor(_e,Ae=o.now){super(_e,Ae),this.actions=[],this._active=!1}flush(_e){const{actions:Ae}=this;if(this._active)return void Ae.push(_e);let de;this._active=!0;do{if(de=_e.execute(_e.state,_e.delay))break}while(_e=Ae.shift());if(this._active=!1,de){for(;_e=Ae.shift();)_e.unsubscribe();throw de}}}},6321:(an,ut,k)=>{"use strict";k.d(ut,{z:()=>U});var f=k(1954);const U=new(k(2631).v)(f.o)},4552:(an,ut,k)=>{"use strict";k.d(ut,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},7599:(an,ut,k)=>{"use strict";k.d(ut,{z:()=>f});const f={setTimeout(o,U,...Se){const{delegate:_e}=f;return _e?.setTimeout?_e.setTimeout(o,U,...Se):setTimeout(o,U,...Se)},clearTimeout(o){const{delegate:U}=f;return(U?.clearTimeout||clearTimeout)(o)},delegate:void 0}},4971:(an,ut,k)=>{"use strict";k.d(ut,{h:()=>o});const o=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(an,ut,k)=>{"use strict";k.d(ut,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(an,ut,k)=>{"use strict";k.d(ut,{K:()=>o});const o=(0,k(2306).d)(U=>function(){U(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(an,ut,k)=>{"use strict";k.d(ut,{_6:()=>Ae,jO:()=>Se,yG:()=>_e});var f=k(4674);function U(de){return de[de.length-1]}function Se(de){return(0,f.m)(U(de))?de.pop():void 0}function _e(de){return function o(de){return de&&(0,f.m)(de.schedule)}(U(de))?de.pop():void 0}function Ae(de,ae){return"number"==typeof U(de)?de.pop():ae}},7453:(an,ut,k)=>{"use strict";k.d(ut,{D:()=>_e});const{isArray:f}=Array,{getPrototypeOf:o,prototype:U,keys:Se}=Object;function _e(de){if(1===de.length){const ae=de[0];if(f(ae))return{args:ae,keys:null};if(function Ae(de){return de&&"object"==typeof de&&o(de)===U}(ae)){const ve=Se(ae);return{args:ve.map(q=>ae[q]),keys:ve}}}return{args:de,keys:null}}},9039:(an,ut,k)=>{"use strict";function f(o,U){if(o){const Se=o.indexOf(U);0<=Se&&o.splice(Se,1)}}k.d(ut,{P:()=>f})},2306:(an,ut,k)=>{"use strict";function f(o){const Se=o(_e=>{Error.call(_e),_e.stack=(new Error).stack});return Se.prototype=Object.create(Error.prototype),Se.prototype.constructor=Se,Se}k.d(ut,{d:()=>f})},2714:(an,ut,k)=>{"use strict";function f(o,U){return o.reduce((Se,_e,Ae)=>(Se[_e]=U[Ae],Se),{})}k.d(ut,{n:()=>f})},1441:(an,ut,k)=>{"use strict";k.d(ut,{O:()=>Se,x:()=>U});var f=k(2653);let o=null;function U(_e){if(f.config.useDeprecatedSynchronousErrorHandling){const Ae=!o;if(Ae&&(o={errorThrown:!1,error:null}),_e(),Ae){const{errorThrown:de,error:ae}=o;if(o=null,de)throw ae}}else _e()}function Se(_e){f.config.useDeprecatedSynchronousErrorHandling&&o&&(o.errorThrown=!0,o.error=_e)}},7103:(an,ut,k)=>{"use strict";function f(o,U,Se,_e=0,Ae=!1){const de=U.schedule(function(){Se(),Ae?o.add(this.schedule(null,_e)):this.unsubscribe()},_e);if(o.add(de),!Ae)return de}k.d(ut,{f:()=>f})},2737:(an,ut,k)=>{"use strict";function f(o){return o}k.d(ut,{y:()=>f})},4266:(an,ut,k)=>{"use strict";k.d(ut,{z:()=>f});const f=o=>o&&"number"==typeof o.length&&"function"!=typeof o},5726:(an,ut,k)=>{"use strict";k.d(ut,{D:()=>o});var f=k(4674);function o(U){return Symbol.asyncIterator&&(0,f.m)(U?.[Symbol.asyncIterator])}},4674:(an,ut,k)=>{"use strict";function f(o){return"function"==typeof o}k.d(ut,{m:()=>f})},8382:(an,ut,k)=>{"use strict";k.d(ut,{c:()=>U});var f=k(4850),o=k(4674);function U(Se){return(0,o.m)(Se[f.L])}},3664:(an,ut,k)=>{"use strict";k.d(ut,{T:()=>U});var f=k(4971),o=k(4674);function U(Se){return(0,o.m)(Se?.[f.h])}},4026:(an,ut,k)=>{"use strict";k.d(ut,{t:()=>o});var f=k(4674);function o(U){return(0,f.m)(U?.then)}},541:(an,ut,k)=>{"use strict";k.d(ut,{L:()=>Se,Q:()=>U});var f=k(7582),o=k(4674);function U(_e){return(0,f.FC)(this,arguments,function*(){const de=_e.getReader();try{for(;;){const{value:ae,done:ve}=yield(0,f.qq)(de.read());if(ve)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(ae)}}finally{de.releaseLock()}})}function Se(_e){return(0,o.m)(_e?.getReader)}},9360:(an,ut,k)=>{"use strict";k.d(ut,{A:()=>o,e:()=>U});var f=k(4674);function o(Se){return(0,f.m)(Se?.lift)}function U(Se){return _e=>{if(o(_e))return _e.lift(function(Ae){try{return Se(Ae,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(an,ut,k)=>{"use strict";k.d(ut,{Z:()=>Se});var f=k(7398);const{isArray:o}=Array;function Se(_e){return(0,f.U)(Ae=>function U(_e,Ae){return o(Ae)?_e(...Ae):_e(Ae)}(_e,Ae))}},2420:(an,ut,k)=>{"use strict";function f(){}k.d(ut,{Z:()=>f})},8407:(an,ut,k)=>{"use strict";k.d(ut,{U:()=>U,z:()=>o});var f=k(2737);function o(...Se){return U(Se)}function U(Se){return 0===Se.length?f.y:1===Se.length?Se[0]:function(Ae){return Se.reduce((de,ae)=>ae(de),Ae)}}},3894:(an,ut,k)=>{"use strict";k.d(ut,{h:()=>U});var f=k(2653),o=k(7599);function U(Se){o.z.setTimeout(()=>{const{onUnhandledError:_e}=f.config;if(!_e)throw Se;_e(Se)})}},9853:(an,ut,k)=>{"use strict";function f(o){return new TypeError(`You provided ${null!==o&&"object"==typeof o?"an invalid object":`'${o}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(ut,{z:()=>f})},6814:(an,ut,k)=>{"use strict";k.d(ut,{Do:()=>Re,EM:()=>$e,HT:()=>Se,JF:()=>Sn,K0:()=>Ae,Mx:()=>Ln,NF:()=>Do,O5:()=>oo,OU:()=>Hi,Ov:()=>Ai,PM:()=>li,S$:()=>be,Ts:()=>to,V_:()=>ae,Ye:()=>Ye,b0:()=>De,bD:()=>ai,ez:()=>wo,mk:()=>zn,q:()=>U,sg:()=>ur,uU:()=>si,w_:()=>_e});var f=k(5879);let o=null;function U(){return o}function Se(x){o||(o=x)}class _e{}const Ae=new f.OlP("DocumentToken");let de=(()=>{class x{historyGo(j){throw new Error("Not implemented")}static#e=this.\u0275fac=function(ne){return new(ne||x)};static#t=this.\u0275prov=f.Yz7({token:x,factory:function(){return(0,f.f3M)(ve)},providedIn:"platform"})}return x})();const ae=new f.OlP("Location Initialized");let ve=(()=>{class x extends de{constructor(){super(),this._doc=(0,f.f3M)(Ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(j){const ne=U().getGlobalEventTarget(this._doc,"window");return ne.addEventListener("popstate",j,!1),()=>ne.removeEventListener("popstate",j)}onHashChange(j){const ne=U().getGlobalEventTarget(this._doc,"window");return ne.addEventListener("hashchange",j,!1),()=>ne.removeEventListener("hashchange",j)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(j){this._location.pathname=j}pushState(j,ne,Ue){this._history.pushState(j,ne,Ue)}replaceState(j,ne,Ue){this._history.replaceState(j,ne,Ue)}forward(){this._history.forward()}back(){this._history.back()}historyGo(j=0){this._history.go(j)}getState(){return this._history.state}static#e=this.\u0275fac=function(ne){return new(ne||x)};static#t=this.\u0275prov=f.Yz7({token:x,factory:function(){return new x},providedIn:"platform"})}return x})();function q(x,oe){if(0==x.length)return oe;if(0==oe.length)return x;let j=0;return x.endsWith("/")&&j++,oe.startsWith("/")&&j++,2==j?x+oe.substring(1):1==j?x+oe:x+"/"+oe}function z(x){const oe=x.match(/#|\?|$/),j=oe&&oe.index||x.length;return x.slice(0,j-("/"===x[j-1]?1:0))+x.slice(j)}function se(x){return x&&"?"!==x[0]?"?"+x:x}let be=(()=>{class x{historyGo(j){throw new Error("Not implemented")}static#e=this.\u0275fac=function(ne){return new(ne||x)};static#t=this.\u0275prov=f.Yz7({token:x,factory:function(){return(0,f.f3M)(De)},providedIn:"root"})}return x})();const ye=new f.OlP("appBaseHref");let De=(()=>{class x extends be{constructor(j,ne){super(),this._platformLocation=j,this._removeListenerFns=[],this._baseHref=ne??this._platformLocation.getBaseHrefFromDOM()??(0,f.f3M)(Ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}prepareExternalUrl(j){return q(this._baseHref,j)}path(j=!1){const ne=this._platformLocation.pathname+se(this._platformLocation.search),Ue=this._platformLocation.hash;return Ue&&j?`${ne}${Ue}`:ne}pushState(j,ne,Ue,Ot){const Ht=this.prepareExternalUrl(Ue+se(Ot));this._platformLocation.pushState(j,ne,Ht)}replaceState(j,ne,Ue,Ot){const Ht=this.prepareExternalUrl(Ue+se(Ot));this._platformLocation.replaceState(j,ne,Ht)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static#e=this.\u0275fac=function(ne){return new(ne||x)(f.LFG(de),f.LFG(ye,8))};static#t=this.\u0275prov=f.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})(),Re=(()=>{class x extends be{constructor(j,ne){super(),this._platformLocation=j,this._baseHref="",this._removeListenerFns=[],null!=ne&&(this._baseHref=ne)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){let ne=this._platformLocation.hash;return null==ne&&(ne="#"),ne.length>0?ne.substring(1):ne}prepareExternalUrl(j){const ne=q(this._baseHref,j);return ne.length>0?"#"+ne:ne}pushState(j,ne,Ue,Ot){let Ht=this.prepareExternalUrl(Ue+se(Ot));0==Ht.length&&(Ht=this._platformLocation.pathname),this._platformLocation.pushState(j,ne,Ht)}replaceState(j,ne,Ue,Ot){let Ht=this.prepareExternalUrl(Ue+se(Ot));0==Ht.length&&(Ht=this._platformLocation.pathname),this._platformLocation.replaceState(j,ne,Ht)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static#e=this.\u0275fac=function(ne){return new(ne||x)(f.LFG(de),f.LFG(ye,8))};static#t=this.\u0275prov=f.Yz7({token:x,factory:x.\u0275fac})}return x})(),Ye=(()=>{class x{constructor(j){this._subject=new f.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=j;const ne=this._locationStrategy.getBaseHref();this._basePath=function Ne(x){if(new RegExp("^(https?:)?//").test(x)){const[,j]=x.split(/\/\/[^\/]+/);return j}return x}(z(Fe(ne))),this._locationStrategy.onPopState(Ue=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ue.state,type:Ue.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(j=!1){return this.normalize(this._locationStrategy.path(j))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(j,ne=""){return this.path()==this.normalize(j+se(ne))}normalize(j){return x.stripTrailingSlash(function _t(x,oe){if(!x||!oe.startsWith(x))return oe;const j=oe.substring(x.length);return""===j||["/",";","?","#"].includes(j[0])?j:oe}(this._basePath,Fe(j)))}prepareExternalUrl(j){return j&&"/"!==j[0]&&(j="/"+j),this._locationStrategy.prepareExternalUrl(j)}go(j,ne="",Ue=null){this._locationStrategy.pushState(Ue,"",j,ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+se(ne)),Ue)}replaceState(j,ne="",Ue=null){this._locationStrategy.replaceState(Ue,"",j,ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+se(ne)),Ue)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(j=0){this._locationStrategy.historyGo?.(j)}onUrlChange(j){return this._urlChangeListeners.push(j),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ne=>{this._notifyUrlChangeListeners(ne.url,ne.state)})),()=>{const ne=this._urlChangeListeners.indexOf(j);this._urlChangeListeners.splice(ne,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(j="",ne){this._urlChangeListeners.forEach(Ue=>Ue(j,ne))}subscribe(j,ne,Ue){return this._subject.subscribe({next:j,error:ne,complete:Ue})}static#e=this.normalizeQueryParams=se;static#t=this.joinWithSlash=q;static#n=this.stripTrailingSlash=z;static#r=this.\u0275fac=function(ne){return new(ne||x)(f.LFG(be))};static#i=this.\u0275prov=f.Yz7({token:x,factory:function(){return function We(){return new Ye((0,f.LFG)(be))}()},providedIn:"root"})}return x})();function Fe(x){return x.replace(/\/index.html$/,"")}var ht=function(x){return x[x.Format=0]="Format",x[x.Standalone=1]="Standalone",x}(ht||{}),bt=function(x){return x[x.Narrow=0]="Narrow",x[x.Abbreviated=1]="Abbreviated",x[x.Wide=2]="Wide",x[x.Short=3]="Short",x}(bt||{}),Ee=function(x){return x[x.Short=0]="Short",x[x.Medium=1]="Medium",x[x.Long=2]="Long",x[x.Full=3]="Full",x}(Ee||{}),Nt=function(x){return x[x.Decimal=0]="Decimal",x[x.Group=1]="Group",x[x.List=2]="List",x[x.PercentSign=3]="PercentSign",x[x.PlusSign=4]="PlusSign",x[x.MinusSign=5]="MinusSign",x[x.Exponential=6]="Exponential",x[x.SuperscriptingExponent=7]="SuperscriptingExponent",x[x.PerMille=8]="PerMille",x[x.Infinity=9]="Infinity",x[x.NaN=10]="NaN",x[x.TimeSeparator=11]="TimeSeparator",x[x.CurrencyDecimal=12]="CurrencyDecimal",x[x.CurrencyGroup=13]="CurrencyGroup",x}(Nt||{});function Ie(x,oe){return mr((0,f.cg1)(x)[f.wAp.DateFormat],oe)}function Pe(x,oe){return mr((0,f.cg1)(x)[f.wAp.TimeFormat],oe)}function je(x,oe){return mr((0,f.cg1)(x)[f.wAp.DateTimeFormat],oe)}function ot(x,oe){const j=(0,f.cg1)(x),ne=j[f.wAp.NumberSymbols][oe];if(typeof ne>"u"){if(oe===Nt.CurrencyDecimal)return j[f.wAp.NumberSymbols][Nt.Decimal];if(oe===Nt.CurrencyGroup)return j[f.wAp.NumberSymbols][Nt.Group]}return ne}function Pn(x){if(!x[f.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${x[f.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function mr(x,oe){for(let j=oe;j>-1;j--)if(typeof x[j]<"u")return x[j];throw new Error("Locale data API: locale data undefined")}function Yn(x){const[oe,j]=x.split(":");return{hours:+oe,minutes:+j}}const Pr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ir={},Yt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var bn=function(x){return x[x.Short=0]="Short",x[x.ShortGMT=1]="ShortGMT",x[x.Long=2]="Long",x[x.Extended=3]="Extended",x}(bn||{}),Un=function(x){return x[x.FullYear=0]="FullYear",x[x.Month=1]="Month",x[x.Date=2]="Date",x[x.Hours=3]="Hours",x[x.Minutes=4]="Minutes",x[x.Seconds=5]="Seconds",x[x.FractionalSeconds=6]="FractionalSeconds",x[x.Day=7]="Day",x}(Un||{}),jn=function(x){return x[x.DayPeriods=0]="DayPeriods",x[x.Days=1]="Days",x[x.Months=2]="Months",x[x.Eras=3]="Eras",x}(jn||{});function Ar(x,oe,j,ne){let Ue=function ce(x){if(H(x))return x;if("number"==typeof x&&!isNaN(x))return new Date(x);if("string"==typeof x){if(x=x.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(x)){const[Ue,Ot=1,Ht=1]=x.split("-").map(Mn=>+Mn);return Cr(Ue,Ot-1,Ht)}const j=parseFloat(x);if(!isNaN(x-j))return new Date(j);let ne;if(ne=x.match(Pr))return function Q(x){const oe=new Date(0);let j=0,ne=0;const Ue=x[8]?oe.setUTCFullYear:oe.setFullYear,Ot=x[8]?oe.setUTCHours:oe.setHours;x[9]&&(j=Number(x[9]+x[10]),ne=Number(x[9]+x[11])),Ue.call(oe,Number(x[1]),Number(x[2])-1,Number(x[3]));const Ht=Number(x[4]||0)-j,Mn=Number(x[5]||0)-ne,Lr=Number(x[6]||0),ui=Math.floor(1e3*parseFloat("0."+(x[7]||0)));return Ot.call(oe,Ht,Mn,Lr,ui),oe}(ne)}const oe=new Date(x);if(!H(oe))throw new Error(`Unable to convert "${x}" into a date`);return oe}(x);oe=Zn(j,oe)||oe;let Mn,Ht=[];for(;oe;){if(Mn=Yt.exec(oe),!Mn){Ht.push(oe);break}{Ht=Ht.concat(Mn.slice(1));const ti=Ht.pop();if(!ti)break;oe=ti}}let Lr=Ue.getTimezoneOffset();ne&&(Lr=hi(ne,Lr),Ue=function Ge(x,oe,j){const ne=j?-1:1,Ue=x.getTimezoneOffset();return function Tr(x,oe){return(x=new Date(x.getTime())).setMinutes(x.getMinutes()+oe),x}(x,ne*(hi(oe,Ue)-Ue))}(Ue,ne,!0));let ui="";return Ht.forEach(ti=>{const Ir=function Hn(x){if(en[x])return en[x];let oe;switch(x){case"G":case"GG":case"GGG":oe=sr(jn.Eras,bt.Abbreviated);break;case"GGGG":oe=sr(jn.Eras,bt.Wide);break;case"GGGGG":oe=sr(jn.Eras,bt.Narrow);break;case"y":oe=gn(Un.FullYear,1,0,!1,!0);break;case"yy":oe=gn(Un.FullYear,2,0,!0,!0);break;case"yyy":oe=gn(Un.FullYear,3,0,!1,!0);break;case"yyyy":oe=gn(Un.FullYear,4,0,!1,!0);break;case"Y":oe=xt(1);break;case"YY":oe=xt(2,!0);break;case"YYY":oe=xt(3);break;case"YYYY":oe=xt(4);break;case"M":case"L":oe=gn(Un.Month,1,1);break;case"MM":case"LL":oe=gn(Un.Month,2,1);break;case"MMM":oe=sr(jn.Months,bt.Abbreviated);break;case"MMMM":oe=sr(jn.Months,bt.Wide);break;case"MMMMM":oe=sr(jn.Months,bt.Narrow);break;case"LLL":oe=sr(jn.Months,bt.Abbreviated,ht.Standalone);break;case"LLLL":oe=sr(jn.Months,bt.Wide,ht.Standalone);break;case"LLLLL":oe=sr(jn.Months,bt.Narrow,ht.Standalone);break;case"w":oe=Be(1);break;case"ww":oe=Be(2);break;case"W":oe=Be(1,!0);break;case"d":oe=gn(Un.Date,1);break;case"dd":oe=gn(Un.Date,2);break;case"c":case"cc":oe=gn(Un.Day,1);break;case"ccc":oe=sr(jn.Days,bt.Abbreviated,ht.Standalone);break;case"cccc":oe=sr(jn.Days,bt.Wide,ht.Standalone);break;case"ccccc":oe=sr(jn.Days,bt.Narrow,ht.Standalone);break;case"cccccc":oe=sr(jn.Days,bt.Short,ht.Standalone);break;case"E":case"EE":case"EEE":oe=sr(jn.Days,bt.Abbreviated);break;case"EEEE":oe=sr(jn.Days,bt.Wide);break;case"EEEEE":oe=sr(jn.Days,bt.Narrow);break;case"EEEEEE":oe=sr(jn.Days,bt.Short);break;case"a":case"aa":case"aaa":oe=sr(jn.DayPeriods,bt.Abbreviated);break;case"aaaa":oe=sr(jn.DayPeriods,bt.Wide);break;case"aaaaa":oe=sr(jn.DayPeriods,bt.Narrow);break;case"b":case"bb":case"bbb":oe=sr(jn.DayPeriods,bt.Abbreviated,ht.Standalone,!0);break;case"bbbb":oe=sr(jn.DayPeriods,bt.Wide,ht.Standalone,!0);break;case"bbbbb":oe=sr(jn.DayPeriods,bt.Narrow,ht.Standalone,!0);break;case"B":case"BB":case"BBB":oe=sr(jn.DayPeriods,bt.Abbreviated,ht.Format,!0);break;case"BBBB":oe=sr(jn.DayPeriods,bt.Wide,ht.Format,!0);break;case"BBBBB":oe=sr(jn.DayPeriods,bt.Narrow,ht.Format,!0);break;case"h":oe=gn(Un.Hours,1,-12);break;case"hh":oe=gn(Un.Hours,2,-12);break;case"H":oe=gn(Un.Hours,1);break;case"HH":oe=gn(Un.Hours,2);break;case"m":oe=gn(Un.Minutes,1);break;case"mm":oe=gn(Un.Minutes,2);break;case"s":oe=gn(Un.Seconds,1);break;case"ss":oe=gn(Un.Seconds,2);break;case"S":oe=gn(Un.FractionalSeconds,1);break;case"SS":oe=gn(Un.FractionalSeconds,2);break;case"SSS":oe=gn(Un.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":oe=Dr(bn.Short);break;case"ZZZZZ":oe=Dr(bn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":oe=Dr(bn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":oe=Dr(bn.Long);break;default:return null}return en[x]=oe,oe}(ti);ui+=Ir?Ir(Ue,j,Lr):"''"===ti?"'":ti.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),ui}function Cr(x,oe,j){const ne=new Date(0);return ne.setFullYear(x,oe,j),ne.setHours(0,0,0),ne}function Zn(x,oe){const j=function Dn(x){return(0,f.cg1)(x)[f.wAp.LocaleId]}(x);if(ir[j]=ir[j]||{},ir[j][oe])return ir[j][oe];let ne="";switch(oe){case"shortDate":ne=Ie(x,Ee.Short);break;case"mediumDate":ne=Ie(x,Ee.Medium);break;case"longDate":ne=Ie(x,Ee.Long);break;case"fullDate":ne=Ie(x,Ee.Full);break;case"shortTime":ne=Pe(x,Ee.Short);break;case"mediumTime":ne=Pe(x,Ee.Medium);break;case"longTime":ne=Pe(x,Ee.Long);break;case"fullTime":ne=Pe(x,Ee.Full);break;case"short":const Ue=Zn(x,"shortTime"),Ot=Zn(x,"shortDate");ne=Wn(je(x,Ee.Short),[Ue,Ot]);break;case"medium":const Ht=Zn(x,"mediumTime"),Mn=Zn(x,"mediumDate");ne=Wn(je(x,Ee.Medium),[Ht,Mn]);break;case"long":const Lr=Zn(x,"longTime"),ui=Zn(x,"longDate");ne=Wn(je(x,Ee.Long),[Lr,ui]);break;case"full":const ti=Zn(x,"fullTime"),Ir=Zn(x,"fullDate");ne=Wn(je(x,Ee.Full),[ti,Ir])}return ne&&(ir[j][oe]=ne),ne}function Wn(x,oe){return oe&&(x=x.replace(/\{([^}]+)}/g,function(j,ne){return null!=oe&&ne in oe?oe[ne]:j})),x}function Yr(x,oe,j="-",ne,Ue){let Ot="";(x<0||Ue&&x<=0)&&(Ue?x=1-x:(x=-x,Ot=j));let Ht=String(x);for(;Ht.length<oe;)Ht="0"+Ht;return ne&&(Ht=Ht.slice(Ht.length-oe)),Ot+Ht}function gn(x,oe,j=0,ne=!1,Ue=!1){return function(Ot,Ht){let Mn=function Ur(x,oe){switch(x){case Un.FullYear:return oe.getFullYear();case Un.Month:return oe.getMonth();case Un.Date:return oe.getDate();case Un.Hours:return oe.getHours();case Un.Minutes:return oe.getMinutes();case Un.Seconds:return oe.getSeconds();case Un.FractionalSeconds:return oe.getMilliseconds();case Un.Day:return oe.getDay();default:throw new Error(`Unknown DateType value "${x}".`)}}(x,Ot);if((j>0||Mn>-j)&&(Mn+=j),x===Un.Hours)0===Mn&&-12===j&&(Mn=12);else if(x===Un.FractionalSeconds)return function Ei(x,oe){return Yr(x,3).substring(0,oe)}(Mn,oe);const Lr=ot(Ht,Nt.MinusSign);return Yr(Mn,oe,Lr,ne,Ue)}}function sr(x,oe,j=ht.Format,ne=!1){return function(Ue,Ot){return function xr(x,oe,j,ne,Ue,Ot){switch(j){case jn.Months:return function dt(x,oe,j){const ne=(0,f.cg1)(x),Ot=mr([ne[f.wAp.MonthsFormat],ne[f.wAp.MonthsStandalone]],oe);return mr(Ot,j)}(oe,Ue,ne)[x.getMonth()];case jn.Days:return function Qe(x,oe,j){const ne=(0,f.cg1)(x),Ot=mr([ne[f.wAp.DaysFormat],ne[f.wAp.DaysStandalone]],oe);return mr(Ot,j)}(oe,Ue,ne)[x.getDay()];case jn.DayPeriods:const Ht=x.getHours(),Mn=x.getMinutes();if(Ot){const ui=function On(x){const oe=(0,f.cg1)(x);return Pn(oe),(oe[f.wAp.ExtraData][2]||[]).map(ne=>"string"==typeof ne?Yn(ne):[Yn(ne[0]),Yn(ne[1])])}(oe),ti=function on(x,oe,j){const ne=(0,f.cg1)(x);Pn(ne);const Ot=mr([ne[f.wAp.ExtraData][0],ne[f.wAp.ExtraData][1]],oe)||[];return mr(Ot,j)||[]}(oe,Ue,ne),Ir=ui.findIndex(pi=>{if(Array.isArray(pi)){const[Kr,Wi]=pi,So=Ht>=Kr.hours&&Mn>=Kr.minutes,Eo=Ht<Wi.hours||Ht===Wi.hours&&Mn<Wi.minutes;if(Kr.hours<Wi.hours){if(So&&Eo)return!0}else if(So||Eo)return!0}else if(pi.hours===Ht&&pi.minutes===Mn)return!0;return!1});if(-1!==Ir)return ti[Ir]}return function wt(x,oe,j){const ne=(0,f.cg1)(x),Ot=mr([ne[f.wAp.DayPeriodsFormat],ne[f.wAp.DayPeriodsStandalone]],oe);return mr(Ot,j)}(oe,Ue,ne)[Ht<12?0:1];case jn.Eras:return function Le(x,oe){return mr((0,f.cg1)(x)[f.wAp.Eras],oe)}(oe,ne)[x.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${j}`)}}(Ue,Ot,x,oe,j,ne)}}function Dr(x){return function(oe,j,ne){const Ue=-1*ne,Ot=ot(j,Nt.MinusSign),Ht=Ue>0?Math.floor(Ue/60):Math.ceil(Ue/60);switch(x){case bn.Short:return(Ue>=0?"+":"")+Yr(Ht,2,Ot)+Yr(Math.abs(Ue%60),2,Ot);case bn.ShortGMT:return"GMT"+(Ue>=0?"+":"")+Yr(Ht,1,Ot);case bn.Long:return"GMT"+(Ue>=0?"+":"")+Yr(Ht,2,Ot)+":"+Yr(Math.abs(Ue%60),2,Ot);case bn.Extended:return 0===ne?"Z":(Ue>=0?"+":"")+Yr(Ht,2,Ot)+":"+Yr(Math.abs(Ue%60),2,Ot);default:throw new Error(`Unknown zone width "${x}"`)}}}const ii=0,ct=4;function ue(x){return Cr(x.getFullYear(),x.getMonth(),x.getDate()+(ct-x.getDay()))}function Be(x,oe=!1){return function(j,ne){let Ue;if(oe){const Ot=new Date(j.getFullYear(),j.getMonth(),1).getDay()-1,Ht=j.getDate();Ue=1+Math.floor((Ht+Ot)/7)}else{const Ot=ue(j),Ht=function Dt(x){const oe=Cr(x,ii,1).getDay();return Cr(x,0,1+(oe<=ct?ct:ct+7)-oe)}(Ot.getFullYear()),Mn=Ot.getTime()-Ht.getTime();Ue=1+Math.round(Mn/6048e5)}return Yr(Ue,x,ot(ne,Nt.MinusSign))}}function xt(x,oe=!1){return function(j,ne){return Yr(ue(j).getFullYear(),x,ot(ne,Nt.MinusSign),oe)}}const en={};function hi(x,oe){x=x.replace(/:/g,"");const j=Date.parse("Jan 01, 1970 00:00:00 "+x)/6e4;return isNaN(j)?oe:j}function H(x){return x instanceof Date&&!isNaN(x.valueOf())}function Ln(x,oe){oe=encodeURIComponent(oe);for(const j of x.split(";")){const ne=j.indexOf("="),[Ue,Ot]=-1==ne?[j,""]:[j.slice(0,ne),j.slice(ne+1)];if(Ue.trim()===oe)return decodeURIComponent(Ot)}return null}const Vn=/\s+/,yn=[];let zn=(()=>{class x{constructor(j,ne,Ue,Ot){this._iterableDiffers=j,this._keyValueDiffers=ne,this._ngEl=Ue,this._renderer=Ot,this.initialClasses=yn,this.stateMap=new Map}set klass(j){this.initialClasses=null!=j?j.trim().split(Vn):yn}set ngClass(j){this.rawClass="string"==typeof j?j.trim().split(Vn):j}ngDoCheck(){for(const ne of this.initialClasses)this._updateState(ne,!0);const j=this.rawClass;if(Array.isArray(j)||j instanceof Set)for(const ne of j)this._updateState(ne,!0);else if(null!=j)for(const ne of Object.keys(j))this._updateState(ne,!!j[ne]);this._applyStateDiff()}_updateState(j,ne){const Ue=this.stateMap.get(j);void 0!==Ue?(Ue.enabled!==ne&&(Ue.changed=!0,Ue.enabled=ne),Ue.touched=!0):this.stateMap.set(j,{enabled:ne,changed:!0,touched:!0})}_applyStateDiff(){for(const j of this.stateMap){const ne=j[0],Ue=j[1];Ue.changed?(this._toggleClass(ne,Ue.enabled),Ue.changed=!1):Ue.touched||(Ue.enabled&&this._toggleClass(ne,!1),this.stateMap.delete(ne)),Ue.touched=!1}}_toggleClass(j,ne){(j=j.trim()).length>0&&j.split(Vn).forEach(Ue=>{ne?this._renderer.addClass(this._ngEl.nativeElement,Ue):this._renderer.removeClass(this._ngEl.nativeElement,Ue)})}static#e=this.\u0275fac=function(ne){return new(ne||x)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))};static#t=this.\u0275dir=f.lG2({type:x,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return x})();class ei{constructor(oe,j,ne,Ue){this.$implicit=oe,this.ngForOf=j,this.index=ne,this.count=Ue}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ur=(()=>{class x{set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}constructor(j,ne,Ue){this._viewContainer=j,this._template=ne,this._differs=Ue,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const ne=this._viewContainer;j.forEachOperation((Ue,Ot,Ht)=>{if(null==Ue.previousIndex)ne.createEmbeddedView(this._template,new ei(Ue.item,this._ngForOf,-1,-1),null===Ht?void 0:Ht);else if(null==Ht)ne.remove(null===Ot?void 0:Ot);else if(null!==Ot){const Mn=ne.get(Ot);ne.move(Mn,Ht),Mi(Mn,Ue)}});for(let Ue=0,Ot=ne.length;Ue<Ot;Ue++){const Mn=ne.get(Ue).context;Mn.index=Ue,Mn.count=Ot,Mn.ngForOf=this._ngForOf}j.forEachIdentityChange(Ue=>{Mi(ne.get(Ue.currentIndex),Ue)})}static ngTemplateContextGuard(j,ne){return!0}static#e=this.\u0275fac=function(ne){return new(ne||x)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))};static#t=this.\u0275dir=f.lG2({type:x,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return x})();function Mi(x,oe){x.context.$implicit=oe.item}let oo=(()=>{class x{constructor(j,ne){this._viewContainer=j,this._context=new zr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ne}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){Jo("ngIfThen",j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){Jo("ngIfElse",j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(j,ne){return!0}static#e=this.\u0275fac=function(ne){return new(ne||x)(f.Y36(f.s_b),f.Y36(f.Rgc))};static#t=this.\u0275dir=f.lG2({type:x,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return x})();class zr{constructor(){this.$implicit=null,this.ngIf=null}}function Jo(x,oe){if(oe&&!oe.createEmbeddedView)throw new Error(`${x} must be a TemplateRef, but received '${(0,f.AaK)(oe)}'.`)}function qi(x,oe){return new f.vHH(2100,!1)}class Es{createSubscription(oe,j){return(0,f.rg0)(()=>oe.subscribe({next:j,error:ne=>{throw ne}}))}dispose(oe){(0,f.rg0)(()=>oe.unsubscribe())}}class Si{createSubscription(oe,j){return oe.then(j,ne=>{throw ne})}dispose(oe){}}const ks=new Si,To=new Es;let Ai=(()=>{class x{constructor(j){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=j}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(j){return this._obj?j!==this._obj?(this._dispose(),this.transform(j)):this._latestValue:(j&&this._subscribe(j),this._latestValue)}_subscribe(j){this._obj=j,this._strategy=this._selectStrategy(j),this._subscription=this._strategy.createSubscription(j,ne=>this._updateLatestValue(j,ne))}_selectStrategy(j){if((0,f.QGY)(j))return ks;if((0,f.F4k)(j))return To;throw qi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(j,ne){j===this._obj&&(this._latestValue=ne,this._ref.markForCheck())}static#e=this.\u0275fac=function(ne){return new(ne||x)(f.Y36(f.sBO,16))};static#t=this.\u0275pipe=f.Yjl({name:"async",type:x,pure:!1,standalone:!0})}return x})();const qn=new f.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Wr=new f.OlP("DATE_PIPE_DEFAULT_OPTIONS");let si=(()=>{class x{constructor(j,ne,Ue){this.locale=j,this.defaultTimezone=ne,this.defaultOptions=Ue}transform(j,ne,Ue,Ot){if(null==j||""===j||j!=j)return null;try{return Ar(j,ne??this.defaultOptions?.dateFormat??"mediumDate",Ot||this.locale,Ue??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Ht){throw qi()}}static#e=this.\u0275fac=function(ne){return new(ne||x)(f.Y36(f.soG,16),f.Y36(qn,24),f.Y36(Wr,24))};static#t=this.\u0275pipe=f.Yjl({name:"date",type:x,pure:!0,standalone:!0})}return x})(),to=(()=>{class x{transform(j){return JSON.stringify(j,null,2)}static#e=this.\u0275fac=function(ne){return new(ne||x)};static#t=this.\u0275pipe=f.Yjl({name:"json",type:x,pure:!1,standalone:!0})}return x})(),Hi=(()=>{class x{transform(j,ne,Ue){if(null==j)return null;if(!this.supports(j))throw qi();return j.slice(ne,Ue)}supports(j){return"string"==typeof j||Array.isArray(j)}static#e=this.\u0275fac=function(ne){return new(ne||x)};static#t=this.\u0275pipe=f.Yjl({name:"slice",type:x,pure:!1,standalone:!0})}return x})(),wo=(()=>{class x{static#e=this.\u0275fac=function(ne){return new(ne||x)};static#t=this.\u0275mod=f.oAB({type:x});static#n=this.\u0275inj=f.cJS({})}return x})();const ai="browser",no="server";function Do(x){return x===ai}function li(x){return x===no}let $e=(()=>{class x{static#e=this.\u0275prov=(0,f.Yz7)({token:x,providedIn:"root",factory:()=>new ft((0,f.LFG)(Ae),window)})}return x})();class ft{constructor(oe,j){this.document=oe,this.window=j,this.offset=()=>[0,0]}setOffset(oe){this.offset=Array.isArray(oe)?()=>oe:oe}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(oe){this.supportsScrolling()&&this.window.scrollTo(oe[0],oe[1])}scrollToAnchor(oe){if(!this.supportsScrolling())return;const j=function Lt(x,oe){const j=x.getElementById(oe)||x.getElementsByName(oe)[0];if(j)return j;if("function"==typeof x.createTreeWalker&&x.body&&"function"==typeof x.body.attachShadow){const ne=x.createTreeWalker(x.body,NodeFilter.SHOW_ELEMENT);let Ue=ne.currentNode;for(;Ue;){const Ot=Ue.shadowRoot;if(Ot){const Ht=Ot.getElementById(oe)||Ot.querySelector(`[name="${oe}"]`);if(Ht)return Ht}Ue=ne.nextNode()}}return null}(this.document,oe);j&&(this.scrollToElement(j),j.focus())}setHistoryScrollRestoration(oe){this.supportsScrolling()&&(this.window.history.scrollRestoration=oe)}scrollToElement(oe){const j=oe.getBoundingClientRect(),ne=j.left+this.window.pageXOffset,Ue=j.top+this.window.pageYOffset,Ot=this.offset();this.window.scrollTo(ne-Ot[0],Ue-Ot[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Sn{}},9862:(an,ut,k)=>{"use strict";k.d(ut,{JF:()=>B,eN:()=>te});var f=k(5879),o=k(2096),U=k(2459),Se=k(5592),_e=k(6328),Ae=k(2181),de=k(7398),ae=k(4716),ve=k(4664),q=k(6814);class z{}class se{}class be{constructor(He){this.normalizedNames=new Map,this.lazyUpdate=null,He?"string"==typeof He?this.lazyInit=()=>{this.headers=new Map,He.split("\n").forEach(nt=>{const jt=nt.indexOf(":");if(jt>0){const Xt=nt.slice(0,jt),An=Xt.toLowerCase(),ln=nt.slice(jt+1).trim();this.maybeSetNormalizedName(Xt,An),this.headers.has(An)?this.headers.get(An).push(ln):this.headers.set(An,[ln])}})}:typeof Headers<"u"&&He instanceof Headers?(this.headers=new Map,He.forEach((nt,jt)=>{this.setHeaderEntries(jt,nt)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(He).forEach(([nt,jt])=>{this.setHeaderEntries(nt,jt)})}:this.headers=new Map}has(He){return this.init(),this.headers.has(He.toLowerCase())}get(He){this.init();const nt=this.headers.get(He.toLowerCase());return nt&&nt.length>0?nt[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(He){return this.init(),this.headers.get(He.toLowerCase())||null}append(He,nt){return this.clone({name:He,value:nt,op:"a"})}set(He,nt){return this.clone({name:He,value:nt,op:"s"})}delete(He,nt){return this.clone({name:He,value:nt,op:"d"})}maybeSetNormalizedName(He,nt){this.normalizedNames.has(nt)||this.normalizedNames.set(nt,He)}init(){this.lazyInit&&(this.lazyInit instanceof be?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(He=>this.applyUpdate(He)),this.lazyUpdate=null))}copyFrom(He){He.init(),Array.from(He.headers.keys()).forEach(nt=>{this.headers.set(nt,He.headers.get(nt)),this.normalizedNames.set(nt,He.normalizedNames.get(nt))})}clone(He){const nt=new be;return nt.lazyInit=this.lazyInit&&this.lazyInit instanceof be?this.lazyInit:this,nt.lazyUpdate=(this.lazyUpdate||[]).concat([He]),nt}applyUpdate(He){const nt=He.name.toLowerCase();switch(He.op){case"a":case"s":let jt=He.value;if("string"==typeof jt&&(jt=[jt]),0===jt.length)return;this.maybeSetNormalizedName(He.name,nt);const Xt=("a"===He.op?this.headers.get(nt):void 0)||[];Xt.push(...jt),this.headers.set(nt,Xt);break;case"d":const An=He.value;if(An){let ln=this.headers.get(nt);if(!ln)return;ln=ln.filter(fr=>-1===An.indexOf(fr)),0===ln.length?(this.headers.delete(nt),this.normalizedNames.delete(nt)):this.headers.set(nt,ln)}else this.headers.delete(nt),this.normalizedNames.delete(nt)}}setHeaderEntries(He,nt){const jt=(Array.isArray(nt)?nt:[nt]).map(An=>An.toString()),Xt=He.toLowerCase();this.headers.set(Xt,jt),this.maybeSetNormalizedName(He,Xt)}forEach(He){this.init(),Array.from(this.normalizedNames.keys()).forEach(nt=>He(this.normalizedNames.get(nt),this.headers.get(nt)))}}class De{encodeKey(He){return _t(He)}encodeValue(He){return _t(He)}decodeKey(He){return decodeURIComponent(He)}decodeValue(He){return decodeURIComponent(He)}}const Ye=/%(\d[a-f0-9])/gi,We={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _t(Je){return encodeURIComponent(Je).replace(Ye,(He,nt)=>We[nt]??He)}function Fe(Je){return`${Je}`}class Ne{constructor(He={}){if(this.updates=null,this.cloneFrom=null,this.encoder=He.encoder||new De,He.fromString){if(He.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Re(Je,He){const nt=new Map;return Je.length>0&&Je.replace(/^\?/,"").split("&").forEach(Xt=>{const An=Xt.indexOf("="),[ln,fr]=-1==An?[He.decodeKey(Xt),""]:[He.decodeKey(Xt.slice(0,An)),He.decodeValue(Xt.slice(An+1))],En=nt.get(ln)||[];En.push(fr),nt.set(ln,En)}),nt}(He.fromString,this.encoder)}else He.fromObject?(this.map=new Map,Object.keys(He.fromObject).forEach(nt=>{const jt=He.fromObject[nt],Xt=Array.isArray(jt)?jt.map(Fe):[Fe(jt)];this.map.set(nt,Xt)})):this.map=null}has(He){return this.init(),this.map.has(He)}get(He){this.init();const nt=this.map.get(He);return nt?nt[0]:null}getAll(He){return this.init(),this.map.get(He)||null}keys(){return this.init(),Array.from(this.map.keys())}append(He,nt){return this.clone({param:He,value:nt,op:"a"})}appendAll(He){const nt=[];return Object.keys(He).forEach(jt=>{const Xt=He[jt];Array.isArray(Xt)?Xt.forEach(An=>{nt.push({param:jt,value:An,op:"a"})}):nt.push({param:jt,value:Xt,op:"a"})}),this.clone(nt)}set(He,nt){return this.clone({param:He,value:nt,op:"s"})}delete(He,nt){return this.clone({param:He,value:nt,op:"d"})}toString(){return this.init(),this.keys().map(He=>{const nt=this.encoder.encodeKey(He);return this.map.get(He).map(jt=>nt+"="+this.encoder.encodeValue(jt)).join("&")}).filter(He=>""!==He).join("&")}clone(He){const nt=new Ne({encoder:this.encoder});return nt.cloneFrom=this.cloneFrom||this,nt.updates=(this.updates||[]).concat(He),nt}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(He=>this.map.set(He,this.cloneFrom.map.get(He))),this.updates.forEach(He=>{switch(He.op){case"a":case"s":const nt=("a"===He.op?this.map.get(He.param):void 0)||[];nt.push(Fe(He.value)),this.map.set(He.param,nt);break;case"d":if(void 0===He.value){this.map.delete(He.param);break}{let jt=this.map.get(He.param)||[];const Xt=jt.indexOf(Fe(He.value));-1!==Xt&&jt.splice(Xt,1),jt.length>0?this.map.set(He.param,jt):this.map.delete(He.param)}}}),this.cloneFrom=this.updates=null)}}class Ze{constructor(){this.map=new Map}set(He,nt){return this.map.set(He,nt),this}get(He){return this.map.has(He)||this.map.set(He,He.defaultValue()),this.map.get(He)}delete(He){return this.map.delete(He),this}has(He){return this.map.has(He)}keys(){return this.map.keys()}}function ht(Je){return typeof ArrayBuffer<"u"&&Je instanceof ArrayBuffer}function bt(Je){return typeof Blob<"u"&&Je instanceof Blob}function Ee(Je){return typeof FormData<"u"&&Je instanceof FormData}class Vt{constructor(He,nt,jt,Xt){let An;if(this.url=nt,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=He.toUpperCase(),function qe(Je){switch(Je){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Xt?(this.body=void 0!==jt?jt:null,An=Xt):An=jt,An&&(this.reportProgress=!!An.reportProgress,this.withCredentials=!!An.withCredentials,An.responseType&&(this.responseType=An.responseType),An.headers&&(this.headers=An.headers),An.context&&(this.context=An.context),An.params&&(this.params=An.params)),this.headers||(this.headers=new be),this.context||(this.context=new Ze),this.params){const ln=this.params.toString();if(0===ln.length)this.urlWithParams=nt;else{const fr=nt.indexOf("?");this.urlWithParams=nt+(-1===fr?"?":fr<nt.length-1?"&":"")+ln}}else this.params=new Ne,this.urlWithParams=nt}serializeBody(){return null===this.body?null:ht(this.body)||bt(this.body)||Ee(this.body)||function Nt(Je){return typeof URLSearchParams<"u"&&Je instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ne?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ee(this.body)?null:bt(this.body)?this.body.type||null:ht(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ne?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(He={}){const nt=He.method||this.method,jt=He.url||this.url,Xt=He.responseType||this.responseType,An=void 0!==He.body?He.body:this.body,ln=void 0!==He.withCredentials?He.withCredentials:this.withCredentials,fr=void 0!==He.reportProgress?He.reportProgress:this.reportProgress;let En=He.headers||this.headers,yt=He.params||this.params;const pt=He.context??this.context;return void 0!==He.setHeaders&&(En=Object.keys(He.setHeaders).reduce((Ft,un)=>Ft.set(un,He.setHeaders[un]),En)),He.setParams&&(yt=Object.keys(He.setParams).reduce((Ft,un)=>Ft.set(un,He.setParams[un]),yt)),new Vt(nt,jt,An,{params:yt,headers:En,context:pt,reportProgress:fr,responseType:Xt,withCredentials:ln})}}var Dn=function(Je){return Je[Je.Sent=0]="Sent",Je[Je.UploadProgress=1]="UploadProgress",Je[Je.ResponseHeader=2]="ResponseHeader",Je[Je.DownloadProgress=3]="DownloadProgress",Je[Je.Response=4]="Response",Je[Je.User=5]="User",Je}(Dn||{});class wt{constructor(He,nt=200,jt="OK"){this.headers=He.headers||new be,this.status=void 0!==He.status?He.status:nt,this.statusText=He.statusText||jt,this.url=He.url||null,this.ok=this.status>=200&&this.status<300}}class Qe extends wt{constructor(He={}){super(He),this.type=Dn.ResponseHeader}clone(He={}){return new Qe({headers:He.headers||this.headers,status:void 0!==He.status?He.status:this.status,statusText:He.statusText||this.statusText,url:He.url||this.url||void 0})}}class dt extends wt{constructor(He={}){super(He),this.type=Dn.Response,this.body=void 0!==He.body?He.body:null}clone(He={}){return new dt({body:void 0!==He.body?He.body:this.body,headers:He.headers||this.headers,status:void 0!==He.status?He.status:this.status,statusText:He.statusText||this.statusText,url:He.url||this.url||void 0})}}class Le extends wt{constructor(He){super(He,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${He.url||"(unknown url)"}`:`Http failure response for ${He.url||"(unknown url)"}: ${He.status} ${He.statusText}`,this.error=He.error||null}}function we(Je,He){return{body:He,headers:Je.headers,context:Je.context,observe:Je.observe,params:Je.params,reportProgress:Je.reportProgress,responseType:Je.responseType,withCredentials:Je.withCredentials}}let te=(()=>{class Je{constructor(nt){this.handler=nt}request(nt,jt,Xt={}){let An;if(nt instanceof Vt)An=nt;else{let En,yt;En=Xt.headers instanceof be?Xt.headers:new be(Xt.headers),Xt.params&&(yt=Xt.params instanceof Ne?Xt.params:new Ne({fromObject:Xt.params})),An=new Vt(nt,jt,void 0!==Xt.body?Xt.body:null,{headers:En,context:Xt.context,params:yt,reportProgress:Xt.reportProgress,responseType:Xt.responseType||"json",withCredentials:Xt.withCredentials})}const ln=(0,o.of)(An).pipe((0,_e.b)(En=>this.handler.handle(En)));if(nt instanceof Vt||"events"===Xt.observe)return ln;const fr=ln.pipe((0,Ae.h)(En=>En instanceof dt));switch(Xt.observe||"body"){case"body":switch(An.responseType){case"arraybuffer":return fr.pipe((0,de.U)(En=>{if(null!==En.body&&!(En.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return En.body}));case"blob":return fr.pipe((0,de.U)(En=>{if(null!==En.body&&!(En.body instanceof Blob))throw new Error("Response is not a Blob.");return En.body}));case"text":return fr.pipe((0,de.U)(En=>{if(null!==En.body&&"string"!=typeof En.body)throw new Error("Response is not a string.");return En.body}));default:return fr.pipe((0,de.U)(En=>En.body))}case"response":return fr;default:throw new Error(`Unreachable: unhandled observe type ${Xt.observe}}`)}}delete(nt,jt={}){return this.request("DELETE",nt,jt)}get(nt,jt={}){return this.request("GET",nt,jt)}head(nt,jt={}){return this.request("HEAD",nt,jt)}jsonp(nt,jt){return this.request("JSONP",nt,{params:(new Ne).append(jt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(nt,jt={}){return this.request("OPTIONS",nt,jt)}patch(nt,jt,Xt={}){return this.request("PATCH",nt,we(Xt,jt))}post(nt,jt,Xt={}){return this.request("POST",nt,we(Xt,jt))}put(nt,jt,Xt={}){return this.request("PUT",nt,we(Xt,jt))}static#e=this.\u0275fac=function(jt){return new(jt||Je)(f.LFG(z))};static#t=this.\u0275prov=f.Yz7({token:Je,factory:Je.\u0275fac})}return Je})();function Wt(Je,He){return He(Je)}function Cn(Je,He){return(nt,jt)=>He.intercept(nt,{handle:Xt=>Je(Xt,jt)})}const Pn=new f.OlP(""),On=new f.OlP(""),on=new f.OlP("");function Nn(){let Je=null;return(He,nt)=>{null===Je&&(Je=((0,f.f3M)(Pn,{optional:!0})??[]).reduceRight(Cn,Wt));const jt=(0,f.f3M)(f.HDt),Xt=jt.add();return Je(He,nt).pipe((0,ae.x)(()=>jt.remove(Xt)))}}let mr=(()=>{class Je extends z{constructor(nt,jt){super(),this.backend=nt,this.injector=jt,this.chain=null,this.pendingTasks=(0,f.f3M)(f.HDt)}handle(nt){if(null===this.chain){const Xt=Array.from(new Set([...this.injector.get(On),...this.injector.get(on,[])]));this.chain=Xt.reduceRight((An,ln)=>function Kn(Je,He,nt){return(jt,Xt)=>nt.runInContext(()=>He(jt,An=>Je(An,Xt)))}(An,ln,this.injector),Wt)}const jt=this.pendingTasks.add();return this.chain(nt,Xt=>this.backend.handle(Xt)).pipe((0,ae.x)(()=>this.pendingTasks.remove(jt)))}static#e=this.\u0275fac=function(jt){return new(jt||Je)(f.LFG(se),f.LFG(f.lqb))};static#t=this.\u0275prov=f.Yz7({token:Je,factory:Je.\u0275fac})}return Je})();const Cr=/^\)\]\}',?\n/;let Wn=(()=>{class Je{constructor(nt){this.xhrFactory=nt}handle(nt){if("JSONP"===nt.method)throw new f.vHH(-2800,!1);const jt=this.xhrFactory;return(jt.\u0275loadImpl?(0,U.D)(jt.\u0275loadImpl()):(0,o.of)(null)).pipe((0,ve.w)(()=>new Se.y(An=>{const ln=jt.build();if(ln.open(nt.method,nt.urlWithParams),nt.withCredentials&&(ln.withCredentials=!0),nt.headers.forEach((yn,zn)=>ln.setRequestHeader(yn,zn.join(","))),nt.headers.has("Accept")||ln.setRequestHeader("Accept","application/json, text/plain, */*"),!nt.headers.has("Content-Type")){const yn=nt.detectContentTypeHeader();null!==yn&&ln.setRequestHeader("Content-Type",yn)}if(nt.responseType){const yn=nt.responseType.toLowerCase();ln.responseType="json"!==yn?yn:"text"}const fr=nt.serializeBody();let En=null;const yt=()=>{if(null!==En)return En;const yn=ln.statusText||"OK",zn=new be(ln.getAllResponseHeaders()),Sr=function Zn(Je){return"responseURL"in Je&&Je.responseURL?Je.responseURL:/^X-Request-URL:/m.test(Je.getAllResponseHeaders())?Je.getResponseHeader("X-Request-URL"):null}(ln)||nt.url;return En=new Qe({headers:zn,status:ln.status,statusText:yn,url:Sr}),En},pt=()=>{let{headers:yn,status:zn,statusText:Sr,url:fi}=yt(),ei=null;204!==zn&&(ei=typeof ln.response>"u"?ln.responseText:ln.response),0===zn&&(zn=ei?200:0);let ur=zn>=200&&zn<300;if("json"===nt.responseType&&"string"==typeof ei){const Mi=ei;ei=ei.replace(Cr,"");try{ei=""!==ei?JSON.parse(ei):null}catch(mi){ei=Mi,ur&&(ur=!1,ei={error:mi,text:ei})}}ur?(An.next(new dt({body:ei,headers:yn,status:zn,statusText:Sr,url:fi||void 0})),An.complete()):An.error(new Le({error:ei,headers:yn,status:zn,statusText:Sr,url:fi||void 0}))},Ft=yn=>{const{url:zn}=yt(),Sr=new Le({error:yn,status:ln.status||0,statusText:ln.statusText||"Unknown Error",url:zn||void 0});An.error(Sr)};let un=!1;const Ln=yn=>{un||(An.next(yt()),un=!0);let zn={type:Dn.DownloadProgress,loaded:yn.loaded};yn.lengthComputable&&(zn.total=yn.total),"text"===nt.responseType&&ln.responseText&&(zn.partialText=ln.responseText),An.next(zn)},Vn=yn=>{let zn={type:Dn.UploadProgress,loaded:yn.loaded};yn.lengthComputable&&(zn.total=yn.total),An.next(zn)};return ln.addEventListener("load",pt),ln.addEventListener("error",Ft),ln.addEventListener("timeout",Ft),ln.addEventListener("abort",Ft),nt.reportProgress&&(ln.addEventListener("progress",Ln),null!==fr&&ln.upload&&ln.upload.addEventListener("progress",Vn)),ln.send(fr),An.next({type:Dn.Sent}),()=>{ln.removeEventListener("error",Ft),ln.removeEventListener("abort",Ft),ln.removeEventListener("load",pt),ln.removeEventListener("timeout",Ft),nt.reportProgress&&(ln.removeEventListener("progress",Ln),null!==fr&&ln.upload&&ln.upload.removeEventListener("progress",Vn)),ln.readyState!==ln.DONE&&ln.abort()}})))}static#e=this.\u0275fac=function(jt){return new(jt||Je)(f.LFG(q.JF))};static#t=this.\u0275prov=f.Yz7({token:Je,factory:Je.\u0275fac})}return Je})();const Yr=new f.OlP("XSRF_ENABLED"),gn=new f.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),sr=new f.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class xr{}let Dr=(()=>{class Je{constructor(nt,jt,Xt){this.doc=nt,this.platform=jt,this.cookieName=Xt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const nt=this.doc.cookie||"";return nt!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,q.Mx)(nt,this.cookieName),this.lastCookieString=nt),this.lastToken}static#e=this.\u0275fac=function(jt){return new(jt||Je)(f.LFG(q.K0),f.LFG(f.Lbi),f.LFG(gn))};static#t=this.\u0275prov=f.Yz7({token:Je,factory:Je.\u0275fac})}return Je})();function ii(Je,He){const nt=Je.url.toLowerCase();if(!(0,f.f3M)(Yr)||"GET"===Je.method||"HEAD"===Je.method||nt.startsWith("http://")||nt.startsWith("https://"))return He(Je);const jt=(0,f.f3M)(xr).getToken(),Xt=(0,f.f3M)(sr);return null!=jt&&!Je.headers.has(Xt)&&(Je=Je.clone({headers:Je.headers.set(Xt,jt)})),He(Je)}var Dt=function(Je){return Je[Je.Interceptors=0]="Interceptors",Je[Je.LegacyInterceptors=1]="LegacyInterceptors",Je[Je.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Je[Je.NoXsrfProtection=3]="NoXsrfProtection",Je[Je.JsonpSupport=4]="JsonpSupport",Je[Je.RequestsMadeViaParent=5]="RequestsMadeViaParent",Je[Je.Fetch=6]="Fetch",Je}(Dt||{});function Be(...Je){const He=[te,Wn,mr,{provide:z,useExisting:mr},{provide:se,useExisting:Wn},{provide:On,useValue:ii,multi:!0},{provide:Yr,useValue:!0},{provide:xr,useClass:Dr}];for(const nt of Je)He.push(...nt.\u0275providers);return(0,f.MR2)(He)}const en=new f.OlP("LEGACY_INTERCEPTOR_FN");function Hn(){return function ue(Je,He){return{\u0275kind:Je,\u0275providers:He}}(Dt.LegacyInterceptors,[{provide:en,useFactory:Nn},{provide:On,useExisting:en,multi:!0}])}let B=(()=>{class Je{static#e=this.\u0275fac=function(jt){return new(jt||Je)};static#t=this.\u0275mod=f.oAB({type:Je});static#n=this.\u0275inj=f.cJS({providers:[Be(Hn())]})}return Je})()},5879:(an,ut,k)=>{"use strict";k.d(ut,{$8M:()=>Xl,$WT:()=>ji,$Z:()=>L,AFp:()=>am,ALo:()=>cA,AaK:()=>se,AsE:()=>By,CHM:()=>xu,CRH:()=>TA,DdM:()=>tA,Dn7:()=>dA,EJc:()=>RT,EiD:()=>dd,EpF:()=>Zi,F$t:()=>D0,F4k:()=>Di,FYo:()=>C_,FiY:()=>kc,GfV:()=>pm,Gpc:()=>De,HDt:()=>GA,Hsn:()=>S0,JOm:()=>ou,JVY:()=>Gg,JZr:()=>Fe,KtG:()=>Ga,L6k:()=>u_,LAX:()=>Wg,LFG:()=>$t,LSH:()=>Jg,Lbi:()=>cm,Lck:()=>yC,MGl:()=>iy,MMx:()=>GE,MR2:()=>jo,NdJ:()=>ls,Ojb:()=>y_,OlP:()=>gn,Oqu:()=>Uy,P3R:()=>Ah,PXZ:()=>aw,Q6J:()=>zm,QGY:()=>Yo,QbO:()=>_u,Qsj:()=>bv,R0b:()=>bo,RDi:()=>Fp,Rgc:()=>pv,SBq:()=>Qf,Sil:()=>kT,Suo:()=>CA,TTD:()=>Ir,TgZ:()=>yg,Udp:()=>Fy,VKq:()=>nA,VuI:()=>zw,X6Q:()=>gw,XFs:()=>bn,Xpm:()=>Si,Xq5:()=>km,Xts:()=>hd,Y36:()=>P,YKP:()=>ZE,YNc:()=>Bm,Yjl:()=>us,Yz7:()=>Pn,Z0I:()=>mr,ZZ4:()=>A0,_Bn:()=>$E,_UZ:()=>oa,_c5:()=>xw,_uU:()=>K0,aQg:()=>I0,c2e:()=>qA,cJS:()=>on,cg1:()=>jy,dDg:()=>rw,dqk:()=>Wn,eBb:()=>Wc,eFA:()=>rI,eJc:()=>o0,ekj:()=>Ly,eoX:()=>XA,f3M:()=>cn,g9A:()=>oc,h0i:()=>bg,hGG:()=>Rw,hij:()=>ay,iGM:()=>bA,ifc:()=>ln,ip1:()=>ZA,jDz:()=>WE,kL8:()=>mE,lG2:()=>Xi,lcZ:()=>lA,lqb:()=>ic,lri:()=>YA,mCW:()=>ld,n5z:()=>Js,oAB:()=>mo,oJD:()=>Hp,oxw:()=>w0,pB0:()=>Pf,q3G:()=>gu,q4F:()=>Kf,qFp:()=>Zw,qLn:()=>yu,qOj:()=>lc,qZA:()=>Gh,qzn:()=>Gc,rWj:()=>JA,rg0:()=>Ot,s9C:()=>Ry,sBO:()=>mw,s_b:()=>py,soG:()=>my,tb:()=>g0,tp0:()=>Fa,uIk:()=>C,vHH:()=>Ne,vpe:()=>el,wAp:()=>Wm,xi3:()=>uA,xp6:()=>_,z2F:()=>Jm,z3N:()=>Pl,zSh:()=>_a,zs3:()=>cc});var f=k(8645),o=k(7394),U=k(5592),Se=k(3019),_e=k(5619),Ae=k(2096),de=k(3020),ae=k(4664),ve=k(3997);function q(t){for(let n in t)if(t[n]===q)return n;throw Error("Could not find renamed property on target object.")}function z(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function se(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(se).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function be(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const ye=q({__forward_ref__:q});function De(t){return t.__forward_ref__=De,t.toString=function(){return se(this())},t}function Re(t){return Ye(t)?t():t}function Ye(t){return"function"==typeof t&&t.hasOwnProperty(ye)&&t.__forward_ref__===De}function We(t){return t&&!!t.\u0275providers}const Fe="https://g.co/ng/security#xss";class Ne extends Error{constructor(n,i){super(function tt(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function Ze(t){return"string"==typeof t?t:null==t?"":String(t)}function Nt(t,n){throw new Ne(-201,!1)}function Bt(t,n){null==t&&function Zt(t,n,i,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${i} ${a} ${n} <=Actual]`))}(n,t,null,"!=")}function Pn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function on(t){return{providers:t.providers||[],imports:t.imports||[]}}function Nn(t){return Yn(t,xn)||Yn(t,ir)}function mr(t){return null!==Nn(t)}function Yn(t,n){return t.hasOwnProperty(n)?t[n]:null}function Hr(t){return t&&(t.hasOwnProperty(Pr)||t.hasOwnProperty(Yt))?t[Pr]:null}const xn=q({\u0275prov:q}),Pr=q({\u0275inj:q}),ir=q({ngInjectableDef:q}),Yt=q({ngInjectorDef:q});var bn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(bn||{});let Un;function Ar(t){const n=Un;return Un=t,n}function Cr(t,n,i){const a=Nn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:i&bn.Optional?null:void 0!==n?n:void Nt(se(t))}const Wn=globalThis;class gn{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Pn({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Hn={},hi="__NG_DI_FLAG__",Tr="ngTempTokenPath",ce=/\n/gm,H="__source";let B;function Xe(t){const n=B;return B=t,n}function kt(t,n=bn.Default){if(void 0===B)throw new Ne(-203,!1);return null===B?Cr(t,void 0,n):B.get(t,n&bn.Optional?null:void 0,n)}function $t(t,n=bn.Default){return(function jn(){return Un}()||kt)(Re(t),n)}function cn(t,n=bn.Default){return $t(t,fn(n))}function fn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Jn(t){const n=[];for(let i=0;i<t.length;i++){const a=Re(t[i]);if(Array.isArray(a)){if(0===a.length)throw new Ne(900,!1);let d,p=bn.Default;for(let b=0;b<a.length;b++){const D=a[b],R=He(D);"number"==typeof R?-1===R?d=D.token:p|=R:d=D}n.push($t(d,p))}else n.push($t(a))}return n}function Je(t,n){return t[hi]=n,t.prototype[hi]=n,t}function He(t){return t[hi]}function Xt(t){return{toString:t}.toString()}var An=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(An||{}),ln=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ln||{});const fr={},En=[],yt=q({\u0275cmp:q}),pt=q({\u0275dir:q}),Ft=q({\u0275pipe:q}),un=q({\u0275mod:q}),Ln=q({\u0275fac:q}),Vn=q({__NG_ELEMENT_ID__:q}),yn=q({__NG_ENV_ID__:q});function zn(t,n,i){let a=t.length;for(;;){const d=t.indexOf(n,i);if(-1===d)return d;if(0===d||t.charCodeAt(d-1)<=32){const p=n.length;if(d+p===a||t.charCodeAt(d+p)<=32)return d}i=d+1}}function Sr(t,n,i){let a=0;for(;a<i.length;){const d=i[a];if("number"==typeof d){if(0!==d)break;a++;const p=i[a++],b=i[a++],D=i[a++];t.setAttribute(n,b,D,p)}else{const p=d,b=i[++a];ei(p)?t.setProperty(n,p,b):t.setAttribute(n,p,b),a++}}return a}function fi(t){return 3===t||4===t||6===t}function ei(t){return 64===t.charCodeAt(0)}function ur(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let a=0;a<n.length;a++){const d=n[a];"number"==typeof d?i=d:0===i||Mi(t,i,d,null,-1===i||2===i?n[++a]:null)}}return t}function Mi(t,n,i,a,d){let p=0,b=t.length;if(-1===n)b=-1;else for(;p<t.length;){const D=t[p++];if("number"==typeof D){if(D===n){b=-1;break}if(D>n){b=p-1;break}}}for(;p<t.length;){const D=t[p];if("number"==typeof D)break;if(D===i){if(null===a)return void(null!==d&&(t[p+1]=d));if(a===t[p+1])return void(t[p+2]=d)}p++,null!==a&&p++,null!==d&&p++}-1!==b&&(t.splice(b,0,n),p=b+1),t.splice(p++,0,i),null!==a&&t.splice(p++,0,a),null!==d&&t.splice(p++,0,d)}const mi="ng-template";function oo(t,n,i){let a=0,d=!0;for(;a<t.length;){let p=t[a++];if("string"==typeof p&&d){const b=t[a++];if(i&&"class"===p&&-1!==zn(b.toLowerCase(),n,0))return!0}else{if(1===p){for(;a<t.length&&"string"==typeof(p=t[a++]);)if(p.toLowerCase()===n)return!0;return!1}"number"==typeof p&&(d=!1)}}return!1}function zr(t){return 4===t.type&&t.value!==mi}function Jo(t,n,i){return n===(4!==t.type||i?t.value:mi)}function go(t,n,i){let a=4;const d=t.attrs||[],p=function xi(t){for(let n=0;n<t.length;n++)if(fi(t[n]))return n;return t.length}(d);let b=!1;for(let D=0;D<n.length;D++){const R=n[D];if("number"!=typeof R){if(!b)if(4&a){if(a=2|1&a,""!==R&&!Jo(t,R,i)||""===R&&1===n.length){if(Ui(a))return!1;b=!0}}else{const G=8&a?R:n[++D];if(8&a&&null!==t.attrs){if(!oo(t.attrs,G,i)){if(Ui(a))return!1;b=!0}continue}const xe=Qo(8&a?"class":R,d,zr(t),i);if(-1===xe){if(Ui(a))return!1;b=!0;continue}if(""!==G){let lt;lt=xe>p?"":d[xe+1].toLowerCase();const Et=8&a?lt:null;if(Et&&-1!==zn(Et,G,0)||2&a&&G!==lt){if(Ui(a))return!1;b=!0}}}}else{if(!b&&!Ui(a)&&!Ui(R))return!1;if(b&&Ui(R))continue;b=!1,a=R|1&a}}return Ui(a)||b}function Ui(t){return 0==(1&t)}function Qo(t,n,i,a){if(null===n)return-1;let d=0;if(a||!i){let p=!1;for(;d<n.length;){const b=n[d];if(b===t)return d;if(3===b||6===b)p=!0;else{if(1===b||2===b){let D=n[++d];for(;"string"==typeof D;)D=n[++d];continue}if(4===b)break;if(0===b){d+=4;continue}}d+=p?1:2}return-1}return function Jr(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const a=t[i];if("number"==typeof a)return-1;if(a===n)return i;i++}return-1}(n,t)}function oi(t,n,i=!1){for(let a=0;a<n.length;a++)if(go(t,n[a],i))return!0;return!1}function Ns(t,n){e:for(let i=0;i<n.length;i++){const a=n[i];if(t.length===a.length){for(let d=0;d<t.length;d++)if(t[d]!==a[d])continue e;return!0}}return!1}function Vo(t,n){return t?":not("+n.trim()+")":n}function Bi(t){let n=t[0],i=1,a=2,d="",p=!1;for(;i<t.length;){let b=t[i];if("string"==typeof b)if(2&a){const D=t[++i];d+="["+b+(D.length>0?'="'+D+'"':"")+"]"}else 8&a?d+="."+b:4&a&&(d+=" "+b);else""!==d&&!Ui(b)&&(n+=Vo(p,d),d=""),a=b,p=p||!Ui(a);i++}return""!==d&&(n+=Vo(p,d)),n}function Si(t){return Xt(()=>{const n=eo(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===An.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ln.Emulated,styles:t.styles||En,_:null,schemas:t.schemas||null,tView:null,id:""};to(i);const a=t.dependencies;return i.directiveDefs=As(a,!1),i.pipeDefs=As(a,!0),i.id=function Uo(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const d of i)n=Math.imul(31,n)+d.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function To(t){return qn(t)||Wr(t)}function Ai(t){return null!==t}function mo(t){return Xt(()=>({type:t.type,bootstrap:t.bootstrap||En,declarations:t.declarations||En,imports:t.imports||En,exports:t.exports||En,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Xo(t,n){if(null==t)return fr;const i={};for(const a in t)if(t.hasOwnProperty(a)){let d=t[a],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),i[d]=a,n&&(n[d]=p)}return i}function Xi(t){return Xt(()=>{const n=eo(t);return to(n),n})}function us(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function qn(t){return t[yt]||null}function Wr(t){return t[pt]||null}function si(t){return t[Ft]||null}function ji(t){const n=qn(t)||Wr(t)||si(t);return null!==n&&n.standalone}function Xr(t,n){const i=t[un]||null;if(!i&&!0===n)throw new Error(`Type ${se(t)} does not have '\u0275mod' property.`);return i}function eo(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||fr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||En,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Xo(t.inputs,n),outputs:Xo(t.outputs)}}function to(t){t.features?.forEach(n=>n(t))}function As(t,n){if(!t)return null;const i=n?si:To;return()=>("function"==typeof t?t():t).map(a=>i(a)).filter(Ai)}const $r=0,_n=1,Xn=2,Rr=3,Ri=4,Hi=5,ci=6,wo=7,ai=8,no=9,vo=10,nr=11,Do=12,li=13,re=14,Y=15,ke=16,$e=17,ft=18,Lt=19,pn=20,Sn=21,Qt=22,In=23,_r=24,Bn=25,Zr=1,Or=2,_i=7,so=9,yr=11;function Qr(t){return Array.isArray(t)&&"object"==typeof t[Zr]}function bi(t){return Array.isArray(t)&&!0===t[Zr]}function ds(t){return 0!=(4&t.flags)}function ro(t){return t.componentOffset>-1}function Mo(t){return 1==(1&t.flags)}function Gi(t){return!!t.template}function Ia(t){return 0!=(512&t[Xn])}function es(t,n){return t.hasOwnProperty(Ln)?t[Ln]:null}let Vr=null,aa=!1;function zi(t){const n=Vr;return Vr=t,n}const vc={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function hs(t){if(!Vs(t)||t.dirty){if(!t.producerMustRecompute(t)&&!ol(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Da(t){t.dirty=!0,function bs(t){if(void 0===t.liveConsumerNode)return;const n=aa;aa=!0;try{for(const i of t.liveConsumerNode)i.dirty||Da(i)}finally{aa=n}}(t),t.consumerMarkedDirty?.(t)}function pr(t){return t&&(t.nextProducerIndex=0),zi(t)}function yc(t,n){if(zi(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Vs(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)Ls(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ol(t){la(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],a=t.producerLastReadVersion[n];if(a!==i.version||(hs(i),a!==i.version))return!0}return!1}function Ec(t){if(la(t),Vs(t))for(let n=0;n<t.producerNode.length;n++)Ls(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ls(t,n){if(function sl(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),la(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)Ls(t.producerNode[a],t.producerIndexOfThis[a]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[n],d=t.liveConsumerNode[n];la(d),d.producerIndexOfThis[a]=n}}function Vs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function la(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Sa=null;function Ot(t){const n=zi(null);try{return t()}finally{zi(n)}}const Mn=()=>{},Lr=(()=>({...vc,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Mn}))();class ti{constructor(n,i,a){this.previousValue=n,this.currentValue=i,this.firstChange=a}isFirstChange(){return this.firstChange}}function Ir(){return pi}function pi(t){return t.type.prototype.ngOnChanges&&(t.setInput=Wi),Kr}function Kr(){const t=Eo(this),n=t?.current;if(n){const i=t.previous;if(i===fr)t.previous=n;else for(let a in n)i[a]=n[a];t.current=null,this.ngOnChanges(n)}}function Wi(t,n,i,a){const d=this.declaredInputs[i],p=Eo(t)||function Bs(t,n){return t[So]=n}(t,{previous:fr,current:null}),b=p.current||(p.current={}),D=p.previous,R=D[d];b[d]=new ti(R&&R.currentValue,n,D===fr),t[a]=n}Ir.ngInherit=!0;const So="__ngSimpleChanges__";function Eo(t){return t[So]||null}const cr=function(t,n,i){};function yi(t){for(;Array.isArray(t);)t=t[$r];return t}function js(t,n){return yi(n[t])}function Ro(t,n){return yi(n[t.index])}function bc(t,n){return t.data[n]}function Hs(t,n){return t[n]}function Oo(t,n){const i=n[t];return Qr(i)?i:i[$r]}function zs(t,n){return null==n?null:t[n]}function $s(t){t[$e]=0}function ws(t){1024&t[Xn]||(t[Xn]|=1024,kd(t,1))}function Du(t){1024&t[Xn]&&(t[Xn]&=-1025,kd(t,-1))}function kd(t,n){let i=t[Rr];if(null===i)return;i[Hi]+=n;let a=i;for(i=i[Rr];null!==i&&(1===n&&1===a[Hi]||-1===n&&0===a[Hi]);)i[Hi]+=n,a=i,i=i[Rr]}const hr={lFrame:ko(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Vi(){return hr.bindingsEnabled}function Pa(){return null!==hr.skipHydrationRootTNode}function qt(){return hr.lFrame.lView}function qr(){return hr.lFrame.tView}function xu(t){return hr.lFrame.contextLView=t,t[ai]}function Ga(t){return hr.lFrame.contextLView=null,t}function Ao(){let t=Qi();for(;null!==t&&64===t.type;)t=t.parent;return t}function Qi(){return hr.lFrame.currentTNode}function No(t,n){const i=hr.lFrame;i.currentTNode=t,i.isParent=n}function Dc(){return hr.lFrame.isParent}function Wa(){hr.lFrame.isParent=!1}function Go(){const t=hr.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function da(){return hr.lFrame.bindingIndex++}function S(t){const n=hr.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function N(t,n){const i=hr.lFrame;i.bindingIndex=i.bindingRootIndex=t,pe(n)}function pe(t){hr.lFrame.currentDirectiveIndex=t}function St(){return hr.lFrame.currentQueryIndex}function Mt(t){hr.lFrame.currentQueryIndex=t}function Tn(t){const n=t[_n];return 2===n.type?n.declTNode:1===n.type?t[ci]:null}function wr(t,n,i){if(i&bn.SkipSelf){let d=n,p=t;for(;!(d=d.parent,null!==d||i&bn.Host||(d=Tn(p),null===d||(p=p[re],10&d.type))););if(null===d)return!1;n=d,t=p}const a=hr.lFrame=br();return a.currentTNode=n,a.lView=t,!0}function di(t){const n=br(),i=t[_n];hr.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function br(){const t=hr.lFrame,n=null===t?null:t.child;return null===n?ko(t):n}function ko(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function ns(){const t=hr.lFrame;return hr.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ms=ns;function ha(){const t=ns();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Wo(){return hr.lFrame.selectedIndex}function xs(t){hr.lFrame.selectedIndex=t}function Oi(){const t=hr.lFrame;return bc(t.tView,t.selectedIndex)}let Jh=!0;function Nu(){return Jh}function Gs(t){Jh=t}function Fu(t,n){for(let i=n.directiveStart,a=n.directiveEnd;i<a;i++){const p=t.data[i].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:D,ngAfterViewInit:R,ngAfterViewChecked:G,ngOnDestroy:le}=p;b&&(t.contentHooks??=[]).push(-i,b),D&&((t.contentHooks??=[]).push(i,D),(t.contentCheckHooks??=[]).push(i,D)),R&&(t.viewHooks??=[]).push(-i,R),G&&((t.viewHooks??=[]).push(i,G),(t.viewCheckHooks??=[]).push(i,G)),null!=le&&(t.destroyHooks??=[]).push(i,le)}}function xa(t,n,i){jd(t,n,3,i)}function Ra(t,n,i,a){(3&t[Xn])===i&&jd(t,n,i,a)}function Ws(t,n){let i=t[Xn];(3&i)===n&&(i&=8191,i+=1,t[Xn]=i)}function jd(t,n,i,a){const p=a??-1,b=n.length-1;let D=0;for(let R=void 0!==a?65535&t[$e]:0;R<b;R++)if("number"==typeof n[R+1]){if(D=n[R],null!=a&&D>=a)break}else n[R]<0&&(t[$e]+=65536),(D<p||-1==p)&&(Vu(t,i,n,R),t[$e]=(4294901760&t[$e])+R+2),R++}function Lu(t,n){cr(4,t,n);const i=zi(null);try{n.call(t)}finally{zi(i),cr(5,t,n)}}function Vu(t,n,i,a){const d=i[a]<0,p=i[a+1],D=t[d?-i[a]:i[a]];d?t[Xn]>>13<t[$e]>>16&&(3&t[Xn])===n&&(t[Xn]+=8192,Lu(D,p)):Lu(D,p)}const Sc=-1;class ul{constructor(n,i,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=a}}function dl(t){return t!==Sc}function Uu(t){return 32767&t}function Qs(t,n){let i=function Ip(t){return t>>16}(t),a=n;for(;i>0;)a=a[re],i--;return a}let hl=!0;function Ks(t){const n=hl;return hl=t,n}const Bu=255,Fo=5;let bp=0;const Ki={};function ju(t,n){const i=Oa(t,n);if(-1!==i)return i;const a=n[_n];a.firstCreatePass&&(t.injectorIndex=n.length,Ys(a.data,t),Ys(n,null),Ys(a.blueprint,null));const d=fl(t,n),p=t.injectorIndex;if(dl(d)){const b=Uu(d),D=Qs(d,n),R=D[_n].data;for(let G=0;G<8;G++)n[p+G]=D[b+G]|R[b+G]}return n[p+8]=d,p}function Ys(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Oa(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function fl(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,a=null,d=n;for(;null!==d;){if(a=Gd(d),null===a)return Sc;if(i++,d=d[re],-1!==a.injectorIndex)return a.injectorIndex|i<<16}return Sc}function Nr(t,n,i){!function Kl(t,n,i){let a;"string"==typeof i?a=i.charCodeAt(0)||0:i.hasOwnProperty(Vn)&&(a=i[Vn]),null==a&&(a=i[Vn]=bp++);const d=a&Bu;n.data[t+(d>>Fo)]|=1<<d}(t,n,i)}function fs(t,n,i){if(i&bn.Optional||void 0!==t)return t;Nt()}function Hu(t,n,i,a){if(i&bn.Optional&&void 0===a&&(a=null),!(i&(bn.Self|bn.Host))){const d=t[no],p=Ar(void 0);try{return d?d.get(n,a,i&bn.Optional):Cr(n,a,i&bn.Optional)}finally{Ar(p)}}return fs(a,0,i)}function Na(t,n,i,a=bn.Default,d){if(null!==t){if(2048&n[Xn]&&!(a&bn.Self)){const b=function Pc(t,n,i,a,d){let p=t,b=n;for(;null!==p&&null!==b&&2048&b[Xn]&&!(512&b[Xn]);){const D=Zd(p,b,i,a|bn.Self,Ki);if(D!==Ki)return D;let R=p.parent;if(!R){const G=b[pn];if(G){const le=G.get(i,Ki,a);if(le!==Ki)return le}R=Gd(b),b=b[re]}p=R}return d}(t,n,i,a,Ki);if(b!==Ki)return b}const p=Zd(t,n,i,a,Ki);if(p!==Ki)return p}return Hu(n,i,a,d)}function Zd(t,n,i,a,d){const p=function zu(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Vn)?t[Vn]:void 0;return"number"==typeof n?n>=0?n&Bu:Zu:n}(i);if("function"==typeof p){if(!wr(n,t,a))return a&bn.Host?fs(d,0,a):Hu(n,i,a,d);try{let b;if(b=p(a),null!=b||a&bn.Optional)return b;Nt()}finally{Ms()}}else if("number"==typeof p){let b=null,D=Oa(t,n),R=Sc,G=a&bn.Host?n[Y][ci]:null;for((-1===D||a&bn.SkipSelf)&&(R=-1===D?fl(t,n):n[D+8],R!==Sc&&tn(a,!1)?(b=n[_n],D=Uu(R),n=Qs(R,n)):D=-1);-1!==D;){const le=n[_n];if(Jl(p,D,le.data)){const xe=qd(D,n,i,b,a,G);if(xe!==Ki)return xe}R=n[D+8],R!==Sc&&tn(a,n[_n].data[D+8]===G)&&Jl(p,D,n)?(b=le,D=Uu(R),n=Qs(R,n)):D=-1}}return d}function qd(t,n,i,a,d,p){const b=n[_n],D=b.data[t+8],le=Yl(D,b,i,null==a?ro(D)&&hl:a!=b&&0!=(3&D.type),d&bn.Host&&p===D);return null!==le?Mc(n,b,le,D):Ki}function Yl(t,n,i,a,d){const p=t.providerIndexes,b=n.data,D=1048575&p,R=t.directiveStart,le=p>>20,lt=d?D+le:t.directiveEnd;for(let Et=a?D:D+le;Et<lt;Et++){const zt=b[Et];if(Et<R&&i===zt||Et>=R&&zt.type===i)return Et}if(d){const Et=b[R];if(Et&&Gi(Et)&&Et.type===i)return R}return null}function Mc(t,n,i,a){let d=t[i];const p=n.data;if(function Ql(t){return t instanceof ul}(d)){const b=d;b.resolving&&function ht(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Ne(-200,`Circular dependency in DI detected for ${t}${i}`)}(function qe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ze(t)}(p[i]));const D=Ks(b.canSeeViewProviders);b.resolving=!0;const G=b.injectImpl?Ar(b.injectImpl):null;wr(t,a,bn.Default);try{d=t[i]=b.factory(void 0,p,t,a),n.firstCreatePass&&i>=a.directiveStart&&function ku(t,n,i){const{ngOnChanges:a,ngOnInit:d,ngDoCheck:p}=n.type.prototype;if(a){const b=pi(n);(i.preOrderHooks??=[]).push(t,b),(i.preOrderCheckHooks??=[]).push(t,b)}d&&(i.preOrderHooks??=[]).push(0-t,d),p&&((i.preOrderHooks??=[]).push(t,p),(i.preOrderCheckHooks??=[]).push(t,p))}(i,p[i],n)}finally{null!==G&&Ar(G),Ks(D),b.resolving=!1,Ms()}}return d}function Jl(t,n,i){return!!(i[n+(t>>Fo)]&1<<t)}function tn(t,n){return!(t&bn.Self||t&bn.Host&&n)}class Io{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,a){return Na(this._tNode,this._lView,n,fn(a),i)}}function Zu(){return new Io(Ao(),qt())}function Js(t){return Xt(()=>{const n=t.prototype.constructor,i=n[Ln]||pa(n),a=Object.prototype;let d=Object.getPrototypeOf(t.prototype).constructor;for(;d&&d!==a;){const p=d[Ln]||pa(d);if(p&&p!==i)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function pa(t){return Ye(t)?()=>{const n=pa(Re(t));return n&&n()}:es(t)}function Gd(t){const n=t[_n],i=n.type;return 2===i?n.declTNode:1===i?t[ci]:null}function Xl(t){return function pl(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const a=i.length;let d=0;for(;d<a;){const p=i[d];if(fi(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<a&&"string"==typeof i[d];)d++;else{if(p===n)return i[d+1];d+=2}}}return null}(Ao(),t)}const Ka="__parameters__";function Yi(t,n,i){return Xt(()=>{const a=function Rc(t){return function(...i){if(t){const a=t(...i);for(const d in a)this[d]=a[d]}}}(n);function d(...p){if(this instanceof d)return a.apply(this,p),this;const b=new d(...p);return D.annotation=b,D;function D(R,G,le){const xe=R.hasOwnProperty(Ka)?R[Ka]:Object.defineProperty(R,Ka,{value:[]})[Ka];for(;xe.length<=le;)xe.push(null);return(xe[le]=xe[le]||[]).push(b),R}}return i&&(d.prototype=Object.create(i.prototype)),d.prototype.ngMetadataName=t,d.annotationCls=d,d})}function Ja(t,n){t.forEach(i=>Array.isArray(i)?Ja(i,n):n(i))}function Jd(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function Oc(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function vl(t,n){const i=[];for(let a=0;a<t;a++)i.push(n);return i}function is(t,n,i){let a=Xs(t,n);return a>=0?t[1|a]=i:(a=~a,function sf(t,n,i,a){let d=t.length;if(d==n)t.push(i,a);else if(1===d)t.push(a,t[0]),t[0]=i;else{for(d--,t.push(t[d-1],t[d]);d>n;)t[d]=t[d-2],d--;t[n]=i,t[n+1]=a}}(t,a,n,i)),a}function tu(t,n){const i=Xs(t,n);if(i>=0)return t[1|i]}function Xs(t,n){return function ga(t,n,i){let a=0,d=t.length>>i;for(;d!==a;){const p=a+(d-a>>1),b=t[p<<i];if(n===b)return p<<i;b>n?d=p:a=p+1}return~(d<<i)}(t,n,1)}const kc=Je(Yi("Optional"),8),Fa=Je(Yi("SkipSelf"),4);function sh(t){return 128==(128&t.flags)}var ou=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ou||{});const Rg=new Map;let r_=0;const lh="__ngContext__";function Ko(t,n){Qr(n)?(t[lh]=n[Lt],function _v(t){Rg.set(t[Lt],t)}(n)):t[lh]=n}let xp;function dh(t,n){return xp(t,n)}function cu(t){const n=t[Rr];return bi(n)?n[Rr]:n}function kg(t){return _f(t[Do])}function mf(t){return _f(t[Ri])}function _f(t){for(;null!==t&&!bi(t);)t=t[Ri];return t}function lu(t,n,i,a,d){if(null!=a){let p,b=!1;bi(a)?p=a:Qr(a)&&(b=!0,a=a[$r]);const D=yi(a);0===t&&null!==i?null==d?Hg(n,i,D):tc(n,i,D,d||null,!0):1===t&&null!==i?tc(n,i,D,d||null,!0):2===t?function wf(t,n,i){const a=fh(t,n);a&&function c_(t,n,i,a){t.removeChild(n,i,a)}(t,a,n,i)}(n,D,b):3===t&&n.destroyNode(D),null!=p&&function gh(t,n,i,a,d){const p=i[_i];p!==yi(i)&&lu(n,t,a,p,d);for(let D=yr;D<i.length;D++){const R=i[D];nc(R[_n],R,t,n,a,p)}}(n,t,p,i,d)}}function yf(t,n,i){return t.createElement(n,i)}function jg(t,n){const i=t[so],a=i.indexOf(n);Du(n),i.splice(a,1)}function Ef(t,n){if(t.length<=yr)return;const i=yr+n,a=t[i];if(a){const d=a[ke];null!==d&&d!==t&&jg(d,a),n>0&&(t[i-1][Ri]=a[Ri]);const p=Oc(t,yr+n);!function Lg(t,n){nc(t,n,n[nr],2,null,null),n[$r]=null,n[ci]=null}(a[_n],a);const b=p[ft];null!==b&&b.detachView(p[_n]),a[Rr]=null,a[Ri]=null,a[Xn]&=-129}return a}function ma(t,n){if(!(256&n[Xn])){const i=n[nr];n[In]&&Ec(n[In]),n[_r]&&Ec(n[_r]),i.destroyNode&&nc(t,n,i,3,null,null),function Bg(t){let n=t[Do];if(!n)return Af(t[_n],t);for(;n;){let i=null;if(Qr(n))i=n[Do];else{const a=n[yr];a&&(i=a)}if(!i){for(;n&&!n[Ri]&&n!==t;)Qr(n)&&Af(n[_n],n),n=n[Rr];null===n&&(n=t),Qr(n)&&Af(n[_n],n),i=n&&n[Ri]}n=i}}(n)}}function Af(t,n){if(!(256&n[Xn])){n[Xn]&=-129,n[Xn]|=256,function If(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let a=0;a<i.length;a+=2){const d=n[i[a]];if(!(d instanceof ul)){const p=i[a+1];if(Array.isArray(p))for(let b=0;b<p.length;b+=2){const D=d[p[b]],R=p[b+1];cr(4,D,R);try{R.call(D)}finally{cr(5,D,R)}}else{cr(4,d,p);try{p.call(d)}finally{cr(5,d,p)}}}}}(t,n),function hh(t,n){const i=t.cleanup,a=n[wo];if(null!==i)for(let p=0;p<i.length-1;p+=2)if("string"==typeof i[p]){const b=i[p+3];b>=0?a[b]():a[-b].unsubscribe(),p+=2}else i[p].call(a[i[p+1]]);null!==a&&(n[wo]=null);const d=n[Sn];if(null!==d){n[Sn]=null;for(let p=0;p<d.length;p++)(0,d[p])()}}(t,n),1===n[_n].type&&n[nr].destroy();const i=n[ke];if(null!==i&&bi(n[Rr])){i!==n[Rr]&&jg(i,n);const a=n[ft];null!==a&&a.detachView(t)}!function Og(t){Rg.delete(t[Lt])}(n)}}function uu(t,n,i){return function os(t,n,i){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return i[$r];{const{componentOffset:d}=a;if(d>-1){const{encapsulation:p}=t.data[a.directiveStart+d];if(p===ln.None||p===ln.Emulated)return null}return Ro(a,i)}}(t,n.parent,i)}function tc(t,n,i,a,d){t.insertBefore(n,i,a,d)}function Hg(t,n,i){t.appendChild(n,i)}function rd(t,n,i,a,d){null!==a?tc(t,n,i,a,d):Hg(t,n,i)}function fh(t,n){return t.parentNode(n)}function zg(t,n,i){return Cf(t,n,i)}let Tf,Dl,du,hu,Cf=function bf(t,n,i){return 40&t.type?Ro(t,i):null};function ph(t,n,i,a){const d=uu(t,a,n),p=n[nr],D=zg(a.parent||n[ci],a,n);if(null!=d)if(Array.isArray(i))for(let R=0;R<i.length;R++)rd(p,d,i[R],D,!1);else rd(p,d,i,D,!1);void 0!==Tf&&Tf(p,a,n,i,d)}function Hc(t,n){if(null!==n){const i=n.type;if(3&i)return Ro(n,t);if(4&i)return id(-1,t[n.index]);if(8&i){const a=n.child;if(null!==a)return Hc(t,a);{const d=t[n.index];return bi(d)?id(-1,d):yi(d)}}if(32&i)return dh(n,t)()||yi(t[n.index]);{const a=$g(t,n);return null!==a?Array.isArray(a)?a[0]:Hc(cu(t[Y]),a):Hc(t,n.next)}}return null}function $g(t,n){return null!==n?t[Y][ci].projection[n.projection]:null}function id(t,n){const i=yr+t+1;if(i<n.length){const a=n[i],d=a[_n].firstChild;if(null!==d)return Hc(a,d)}return n[_i]}function wl(t,n,i,a,d,p,b){for(;null!=i;){const D=a[i.index],R=i.type;if(b&&0===n&&(D&&Ko(yi(D),a),i.flags|=2),32!=(32&i.flags))if(8&R)wl(t,n,i.child,a,d,p,!1),lu(n,t,d,D,p);else if(32&R){const G=dh(i,a);let le;for(;le=G();)lu(n,t,d,le,p);lu(n,t,d,D,p)}else 16&R?Df(t,n,a,i,d,p):lu(n,t,d,D,p);i=b?i.projectionNext:i.next}}function nc(t,n,i,a,d,p){wl(i,a,t.firstChild,n,d,p,!1)}function Df(t,n,i,a,d,p){const b=i[Y],R=b[ci].projection[a.projection];if(Array.isArray(R))for(let G=0;G<R.length;G++)lu(n,t,d,R[G],p);else{let G=R;const le=b[Rr];sh(a)&&(G.flags|=128),wl(t,n,G,le,d,p,!0)}}function na(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function Sf(t,n,i){const{mergedAttrs:a,classes:d,styles:p}=i;null!==a&&Sr(t,n,a),null!==d&&na(t,n,d),null!==p&&function mh(t,n,i){t.setAttribute(n,"style",i)}(t,n,p)}function ad(t){return function sd(){if(void 0===Dl&&(Dl=null,Wn.trustedTypes))try{Dl=Wn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Dl}()?.createHTML(t)||t}function Fp(t){du=t}function Sl(){if(void 0!==du)return du;if(typeof document<"u")return document;throw new Ne(210,!1)}function Ml(){if(void 0===hu&&(hu=null,Wn.trustedTypes))try{hu=Wn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return hu}function fu(t){return Ml()?.createHTML(t)||t}function Mf(t){return Ml()?.createScriptURL(t)||t}class cd{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Fe})`}}class Vp extends cd{getTypeName(){return"HTML"}}class l_ extends cd{getTypeName(){return"Style"}}class gs extends cd{getTypeName(){return"Script"}}class _h extends cd{getTypeName(){return"URL"}}class qg extends cd{getTypeName(){return"ResourceURL"}}function Pl(t){return t instanceof cd?t.changingThisBreaksApplicationSecurity:t}function Gc(t,n){const i=function yv(t){return t instanceof cd&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${Fe})`)}return i===n}function Gg(t){return new Vp(t)}function u_(t){return new l_(t)}function Wc(t){return new gs(t)}function Wg(t){return new _h(t)}function Pf(t){return new qg(t)}class xf{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(ad(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class Rf{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=ad(n),i}}const vh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ld(t){return(t=String(t)).match(vh)?t:"unsafe:"+t}function ra(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function xl(...t){const n={};for(const i of t)for(const a in i)i.hasOwnProperty(a)&&(n[a]=!0);return n}const Up=ra("area,br,col,hr,img,wbr"),Of=ra("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Nf=ra("rp,rt"),Os=xl(Up,xl(Of,ra("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),xl(Nf,ra("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),xl(Nf,Of)),ud=ra("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),pu=xl(ud,ra("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ra("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),jp=ra("script,style,template");class h_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,a=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?a=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,a&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let d=this.checkClobberedElement(i,i.nextSibling);if(d){i=d;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!Os.hasOwnProperty(i))return this.sanitizedSomething=!0,!jp.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const a=n.attributes;for(let d=0;d<a.length;d++){const p=a.item(d),b=p.name,D=b.toLowerCase();if(!pu.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let R=p.value;ud[D]&&(R=ld(R)),this.buf.push(" ",b,'="',yh(R),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();Os.hasOwnProperty(i)&&!Up.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(yh(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const f_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,p_=/([^\#-~ |!])/g;function yh(t){return t.replace(/&/g,"&amp;").replace(f_,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(p_,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Lf;function dd(t,n){let i=null;try{Lf=Lf||function Qg(t){const n=new Rf(t);return function Kg(){try{return!!(new window.DOMParser).parseFromString(ad(""),"text/html")}catch{return!1}}()?new xf(n):n}(t);let a=n?String(n):"";i=Lf.getInertBodyElement(a);let d=5,p=a;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,a=p,p=i.innerHTML,i=Lf.getInertBodyElement(a)}while(a!==p);return ad((new h_).sanitizeChildren(Eh(i)||i))}finally{if(i){const a=Eh(i)||i;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Eh(t){return"content"in t&&function Vf(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var gu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(gu||{});function Hp(t){const n=kr();return n?fu(n.sanitize(gu.HTML,t)||""):Gc(t,"HTML")?fu(Pl(t)):dd(Sl(),Ze(t))}function Jg(t){const n=kr();return n?n.sanitize(gu.URL,t)||"":Gc(t,"URL")?Pl(t):ld(Ze(t))}function Uf(t){const n=kr();if(n)return Mf(n.sanitize(gu.RESOURCE_URL,t)||"");if(Gc(t,"ResourceURL"))return Mf(Pl(t));throw new Ne(904,!1)}function Ah(t,n,i){return function $p(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Uf:Jg}(n,i)(t)}function kr(){const t=qt();return t&&t[vo].sanitizer}const hd=new gn("ENVIRONMENT_INITIALIZER"),Zp=new gn("INJECTOR",-1),fd=new gn("INJECTOR_DEF_TYPES");class Bf{get(n,i=Hn){if(i===Hn){const a=new Error(`NullInjectorError: No provider for ${se(n)}!`);throw a.name="NullInjectorError",a}return i}}function jo(t){return{\u0275providers:t}}function uo(...t){return{\u0275providers:Va(0,t),\u0275fromNgModule:!0}}function Va(t,...n){const i=[],a=new Set;let d;const p=b=>{i.push(b)};return Ja(n,b=>{const D=b;Ih(D,p,[],a)&&(d||=[],d.push(D))}),void 0!==d&&nm(d,p),i}function nm(t,n){for(let i=0;i<t.length;i++){const{ngModule:a,providers:d}=t[i];bh(d,p=>{n(p,a)})}}function Ih(t,n,i,a){if(!(t=Re(t)))return!1;let d=null,p=Hr(t);const b=!p&&qn(t);if(p||b){if(b&&!b.standalone)return!1;d=t}else{const R=t.ngModule;if(p=Hr(R),!p)return!1;d=R}const D=a.has(d);if(b){if(D)return!1;if(a.add(d),b.dependencies){const R="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const G of R)Ih(G,n,i,a)}}else{if(!p)return!1;{if(null!=p.imports&&!D){let G;a.add(d);try{Ja(p.imports,le=>{Ih(le,n,i,a)&&(G||=[],G.push(le))})}finally{}void 0!==G&&nm(G,n)}if(!D){const G=es(d)||(()=>new d);n({provide:d,useFactory:G,deps:En},d),n({provide:fd,useValue:d,multi:!0},d),n({provide:hd,useValue:()=>$t(d),multi:!0},d)}const R=p.providers;if(null!=R&&!D){const G=t;bh(R,le=>{n(le,G)})}}}return d!==t&&void 0!==t.providers}function bh(t,n){for(let i of t)We(i)&&(i=i.\u0275providers),Array.isArray(i)?bh(i,n):n(i)}const qp=q({provide:String,useValue:q});function Gp(t){return null!==t&&"object"==typeof t&&qp in t}function Rl(t){return"function"==typeof t}const _a=new gn("Set Injector scope."),pd={},ki={};let gd;function Hf(){return void 0===gd&&(gd=new Bf),gd}class ic{}class Qc extends ic{get destroyed(){return this._destroyed}constructor(n,i,a,d){super(),this.parent=i,this.source=a,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,va(n,b=>this.processProvider(b)),this.records.set(Zp,md(void 0,this)),d.has("environment")&&this.records.set(ic,md(void 0,this));const p=this.records.get(_a);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(fd.multi,En,bn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=Xe(this),a=Ar(void 0);try{return n()}finally{Xe(i),Ar(a)}}get(n,i=Hn,a=bn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(yn))return n[yn](this);a=fn(a);const p=Xe(this),b=Ar(void 0);try{if(!(a&bn.SkipSelf)){let R=this.records.get(n);if(void 0===R){const G=function ia(t){return"function"==typeof t||"object"==typeof t&&t instanceof gn}(n)&&Nn(n);R=G&&this.injectableDefInScope(G)?md(Wp(n),pd):null,this.records.set(n,R)}if(null!=R)return this.hydrate(n,R)}return(a&bn.Self?Hf():this.parent).get(n,i=a&bn.Optional&&i===Hn?null:i)}catch(D){if("NullInjectorError"===D.name){if((D[Tr]=D[Tr]||[]).unshift(se(n)),p)throw D;return function nt(t,n,i,a){const d=t[Tr];throw n[H]&&d.unshift(n[H]),t.message=function jt(t,n,i,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let d=se(n);if(Array.isArray(n))d=n.map(se).join(" -> ");else if("object"==typeof n){let p=[];for(let b in n)if(n.hasOwnProperty(b)){let D=n[b];p.push(b+":"+("string"==typeof D?JSON.stringify(D):se(D)))}d=`{${p.join(", ")}}`}return`${i}${a?"("+a+")":""}[${d}]: ${t.replace(ce,"\n  ")}`}("\n"+t.message,d,i,a),t.ngTokenPath=d,t[Tr]=null,t}(D,n,"R3InjectorError",this.source)}throw D}finally{Ar(b),Xe(p)}}resolveInjectorInitializers(){const n=Xe(this),i=Ar(void 0);try{const d=this.get(hd.multi,En,bn.Self);for(const p of d)p()}finally{Xe(n),Ar(i)}}toString(){const n=[],i=this.records;for(const a of i.keys())n.push(se(a));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ne(205,!1)}processProvider(n){let i=Rl(n=Re(n))?n:Re(n&&n.provide);const a=function zf(t){return Gp(t)?md(void 0,t.useValue):md(im(t),pd)}(n);if(Rl(n)||!0!==n.multi)this.records.get(i);else{let d=this.records.get(i);d||(d=md(void 0,pd,!0),d.factory=()=>Jn(d.multi),this.records.set(i,d)),i=n,d.multi.push(n)}this.records.set(i,a)}hydrate(n,i){return i.value===pd&&(i.value=ki,i.value=i.factory()),"object"==typeof i.value&&i.value&&function sm(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=Re(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function Wp(t){const n=Nn(t),i=null!==n?n.factory:es(t);if(null!==i)return i;if(t instanceof gn)throw new Ne(204,!1);if(t instanceof Function)return function v_(t){const n=t.length;if(n>0)throw vl(n,"?"),new Ne(204,!1);const i=function Kt(t){return t&&(t[xn]||t[ir])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new Ne(204,!1)}function im(t,n,i){let a;if(Rl(t)){const d=Re(t);return es(d)||Wp(d)}if(Gp(t))a=()=>Re(t.useValue);else if(function rm(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Jn(t.deps||[]));else if(function jf(t){return!(!t||!t.useExisting)}(t))a=()=>$t(Re(t.useExisting));else{const d=Re(t&&(t.useClass||t.provide));if(!function om(t){return!!t.deps}(t))return es(d)||Wp(d);a=()=>new d(...Jn(t.deps))}return a}function md(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function va(t,n){for(const i of t)Array.isArray(i)?va(i,n):i&&We(i)?va(i.\u0275providers,n):n(i)}const am=new gn("AppId",{providedIn:"root",factory:()=>Ol}),Ol="ng",oc=new gn("Platform Initializer"),cm=new gn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),_u=new gn("AnimationModuleType"),y_=new gn("CSP nonce",{providedIn:"root",factory:()=>Sl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Ll=(t,n,i)=>null;function Sh(t,n,i=!1){return Ll(t,n,i)}class Av{}class b_{}class Iv{resolveComponentFactory(n){throw function Kp(t){const n=Error(`No component factory found for ${se(t)}.`);return n.ngComponent=t,n}(n)}}let Yp=(()=>{class t{static#e=this.NULL=new Iv}return t})();function Wf(){return Ph(Ao(),qt())}function Ph(t,n){return new Qf(Ro(t,n))}let Qf=(()=>{class t{constructor(i){this.nativeElement=i}static#e=this.__NG_ELEMENT_ID__=Wf}return t})();function Jp(t){return t instanceof Qf?t.nativeElement:t}class C_{}let bv=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function T_(){const t=qt(),i=Oo(Ao().index,t);return(Qr(i)?i:t)[nr]}()}return t})(),w_=(()=>{class t{static#e=this.\u0275prov=Pn({token:t,providedIn:"root",factory:()=>null})}return t})();class pm{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Kf=new pm("16.2.12"),Id={};function vu(t,n=null,i=null,a){const d=M_(t,n,i,a);return d.resolveInjectorInitializers(),d}function M_(t,n=null,i=null,a,d=new Set){const p=[i||En,uo(t)];return a=a||("object"==typeof t?void 0:se(t)),new Qc(p,n||Hf(),a||null,d)}let cc=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Hn;static#t=this.NULL=new Bf;static create(i,a){if(Array.isArray(i))return vu({name:""},a,i,"");{const d=i.name??"";return vu({name:d},i.parent,i.providers,d)}}static#n=this.\u0275prov=Pn({token:t,providedIn:"any",factory:()=>$t(Zp)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function gm(t){return t.ngOriginalError}class yu{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&gm(n);for(;i&&gm(i);)i=gm(i);return i||null}}function _m(t){return n=>{setTimeout(t,void 0,n)}}const el=class Dv extends f.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,a){let d=n,p=i||(()=>null),b=a;if(n&&"object"==typeof n){const R=n;d=R.next?.bind(R),p=R.error?.bind(R),b=R.complete?.bind(R)}this.__isAsync&&(p=_m(p),d&&(d=_m(d)),b&&(b=_m(b)));const D=super.subscribe({next:d,error:p,complete:b});return n instanceof o.w0&&n.add(D),D}};function x_(...t){}class bo{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new el(!1),this.onMicrotaskEmpty=new el(!1),this.onStable=new el(!1),this.onError=new el(!1),typeof Zone>"u")throw new Ne(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!a&&i,d.shouldCoalesceRunChangeDetection=a,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function Sv(){const t="function"==typeof Wn.requestAnimationFrame;let n=Wn[t?"requestAnimationFrame":"setTimeout"],i=Wn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const d=i[Zone.__symbol__("OriginalDelegate")];d&&(i=d)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Pv(t){const n=()=>{!function Mv(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Wn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ym(t),t.isCheckStableRunning=!0,R_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ym(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,a,d,p,b,D)=>{if(function wy(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(D))return i.invokeTask(d,p,b,D);try{return O_(t),i.invokeTask(d,p,b,D)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||t.shouldCoalesceRunChangeDetection)&&n(),N_(t)}},onInvoke:(i,a,d,p,b,D,R)=>{try{return O_(t),i.invoke(d,p,b,D,R)}finally{t.shouldCoalesceRunChangeDetection&&n(),N_(t)}},onHasTask:(i,a,d,p)=>{i.hasTask(d,p),a===d&&("microTask"==p.change?(t._hasPendingMicrotasks=p.microTask,ym(t),R_(t)):"macroTask"==p.change&&(t.hasPendingMacrotasks=p.macroTask))},onHandleError:(i,a,d,p)=>(i.handleError(d,p),t.runOutsideAngular(()=>t.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bo.isInAngularZone())throw new Ne(909,!1)}static assertNotInAngularZone(){if(bo.isInAngularZone())throw new Ne(909,!1)}run(n,i,a){return this._inner.run(n,i,a)}runTask(n,i,a,d){const p=this._inner,b=p.scheduleEventTask("NgZoneEvent: "+d,n,vm,x_,x_);try{return p.runTask(b,i,a)}finally{p.cancelTask(b)}}runGuarded(n,i,a){return this._inner.runGuarded(n,i,a)}runOutsideAngular(n){return this._outer.run(n)}}const vm={};function R_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ym(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function O_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function N_(t){t._nesting--,R_(t)}class Ty{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new el,this.onMicrotaskEmpty=new el,this.onStable=new el,this.onError=new el}run(n,i,a){return n.apply(i,a)}runGuarded(n,i,a){return n.apply(i,a)}runOutsideAngular(n){return n()}runTask(n,i,a,d){return n.apply(i,a)}}const xv=new gn("",{providedIn:"root",factory:Rv});function Rv(){const t=cn(bo);let n=!0;const i=new U.y(d=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{d.next(n),d.complete()})}),a=new U.y(d=>{let p;t.runOutsideAngular(()=>{p=t.onStable.subscribe(()=>{bo.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,d.next(!0))})})});const b=t.onUnstable.subscribe(()=>{bo.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{d.next(!1)}))});return()=>{p.unsubscribe(),b.unsubscribe()}});return(0,Se.T)(i,a.pipe((0,de.B)()))}function Vl(t){return t instanceof Function?t():t}let Em=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Pn({token:t,providedIn:"root",factory:()=>new t})}return t})();function ep(t){for(;t;){t[Xn]|=64;const n=cu(t);if(Ia(t)&&!n)return t;t=n}return null}const Fv=new gn("",{providedIn:"root",factory:()=>!1});let Ul=null;function Dd(t,n){return t[n]??s()}function c(t,n){const i=s();i.producerNode?.length&&(t[n]=Ul,i.lView=t,Ul=r())}const e={...vc,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ep(t.lView)},lView:null};function r(){return Object.create(e)}function s(){return Ul??=r(),Ul}const u={};function _(t){I(qr(),qt(),Wo()+t,!1)}function I(t,n,i,a){if(!a)if(3==(3&n[Xn])){const p=t.preOrderCheckHooks;null!==p&&xa(n,p,i)}else{const p=t.preOrderHooks;null!==p&&Ra(n,p,0,i)}xs(i)}function P(t,n=bn.Default){const i=qt();return null===i?$t(t,n):Na(Ao(),i,Re(t),n)}function L(){throw new Error("invalid")}function he(t,n,i,a,d,p,b,D,R,G,le){const xe=n.blueprint.slice();return xe[$r]=d,xe[Xn]=140|a,(null!==G||t&&2048&t[Xn])&&(xe[Xn]|=2048),$s(xe),xe[Rr]=xe[re]=t,xe[ai]=i,xe[vo]=b||t&&t[vo],xe[nr]=D||t&&t[nr],xe[no]=R||t&&t[no]||null,xe[ci]=p,xe[Lt]=function i_(){return r_++}(),xe[Qt]=le,xe[pn]=G,xe[Y]=2==n.type?t[Y]:xe,xe}function Me(t,n,i,a,d){let p=t.data[n];if(null===p)p=function et(t,n,i,a,d){const p=Qi(),b=Dc(),R=t.data[n]=function At(t,n,i,a,d,p){let b=n?n.injectorIndex:-1,D=0;return Pa()&&(D|=128),{type:i,index:a,insertBeforeIndex:null,injectorIndex:b,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:D,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?p:p&&p.parent,i,n,a,d);return null===t.firstChild&&(t.firstChild=R),null!==p&&(b?null==p.child&&null!==R.parent&&(p.child=R):null===p.next&&(p.next=R,R.prev=p)),R}(t,n,i,a,d),function O(){return hr.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=i,p.value=a,p.attrs=d;const b=function wc(){const t=hr.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();p.injectorIndex=null===b?-1:b.injectorIndex}return No(p,!0),p}function Ct(t,n,i,a){if(0===i)return-1;const d=n.length;for(let p=0;p<i;p++)n.push(a),t.blueprint.push(a),t.data.push(null);return d}function Gt(t,n,i,a,d){const p=Dd(n,In),b=Wo(),D=2&a;try{xs(-1),D&&n.length>Bn&&I(t,n,Bn,!1),cr(D?2:0,d);const G=D?p:null,le=pr(G);try{null!==G&&(G.dirty=!1),i(a,d)}finally{yc(G,le)}}finally{D&&null===n[In]&&c(n,In),xs(b),cr(D?3:1,d)}}function hn(t,n,i){if(ds(n)){const a=zi(null);try{const p=n.directiveEnd;for(let b=n.directiveStart;b<p;b++){const D=t.data[b];D.contentQueries&&D.contentQueries(1,i[b],b)}}finally{zi(a)}}}function nn(t,n,i){Vi()&&(function zv(t,n,i,a){const d=i.directiveStart,p=i.directiveEnd;ro(i)&&function bm(t,n,i){const a=Ro(n,t),d=or(i);let b=16;i.signals?b=4096:i.onPush&&(b=64);const D=Oh(t,he(t,d,null,b,a,n,null,t[vo].rendererFactory.createRenderer(a,i),null,null,null));t[n.index]=D}(n,i,t.data[d+i.componentOffset]),t.firstCreatePass||ju(i,n),Ko(a,n);const b=i.initialInputs;for(let D=d;D<p;D++){const R=t.data[D],G=Mc(n,t,D,i);Ko(G,n),null!==b&&H_(0,D-d,G,R,0,b),Gi(R)&&(Oo(i.index,n)[ai]=Mc(n,t,D,i))}}(t,n,i,Ro(i,n)),64==(64&i.flags)&&Rh(t,n,i))}function $n(t,n,i=Ro){const a=n.localNames;if(null!==a){let d=n.index+1;for(let p=0;p<a.length;p+=2){const b=a[p+1],D=-1===b?i(n,t):t[b];t[d++]=D}}}function or(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Qn(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Qn(t,n,i,a,d,p,b,D,R,G,le){const xe=Bn+a,lt=xe+d,Et=function Mr(t,n){const i=[];for(let a=0;a<n;a++)i.push(a<t?null:u);return i}(xe,lt),zt="function"==typeof G?G():G;return Et[_n]={type:t,blueprint:Et,template:i,queries:null,viewQuery:D,declTNode:n,data:Et.slice().fill(null,xe),bindingStartIndex:xe,expandoStartIndex:lt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:R,consts:zt,incompleteFirstPass:!1,ssrId:le}}let gt=t=>null;function Rt(t,n,i,a){for(let d in t)if(t.hasOwnProperty(d)){i=null===i?{}:i;const p=t[d];null===a?it(i,n,d,p):a.hasOwnProperty(d)&&it(i,n,a[d],p)}return i}function it(t,n,i,a){t.hasOwnProperty(i)?t[i].push(n,a):t[i]=[n,a]}function ya(t,n,i,a,d,p,b,D){const R=Ro(n,i);let le,G=n.inputs;!D&&null!=G&&(le=G[a])?(as(t,i,le,a,d),ro(n)&&function np(t,n){const i=Oo(n,t);16&i[Xn]||(i[Xn]|=64)}(i,n.index)):3&n.type&&(a=function tp(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),d=null!=b?b(d,n.value||"",a):d,p.setProperty(R,a,d))}function tg(t,n,i,a){if(Vi()){const d=null===a?null:{"":-1},p=function ip(t,n){const i=t.directiveRegistry;let a=null,d=null;if(i)for(let p=0;p<i.length;p++){const b=i[p];if(oi(n,b.selectors,!1))if(a||(a=[]),Gi(b))if(null!==b.findHostDirectiveDefs){const D=[];d=d||new Map,b.findHostDirectiveDefs(b,D,d),a.unshift(...D,b),Am(t,n,D.length)}else a.unshift(b),Am(t,n,0);else d=d||new Map,b.findHostDirectiveDefs?.(b,a,d),a.push(b)}return null===a?null:[a,d]}(t,i);let b,D;null===p?b=D=null:[b,D]=p,null!==b&&j_(t,n,i,b,d,D),d&&function Zv(t,n,i){if(n){const a=t.localNames=[];for(let d=0;d<n.length;d+=2){const p=i[n[d+1]];if(null==p)throw new Ne(-301,!1);a.push(n[d],p)}}}(i,a,d)}i.mergedAttrs=ur(i.mergedAttrs,i.attrs)}function j_(t,n,i,a,d,p){for(let G=0;G<a.length;G++)Nr(ju(i,n),t,a[G].type);!function rg(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,a.length);for(let G=0;G<a.length;G++){const le=a[G];le.providersResolver&&le.providersResolver(le)}let b=!1,D=!1,R=Ct(t,n,a.length,null);for(let G=0;G<a.length;G++){const le=a[G];i.mergedAttrs=ur(i.mergedAttrs,le.hostAttrs),Im(t,i,n,R,le),ng(R,le,d),null!==le.contentQueries&&(i.flags|=4),(null!==le.hostBindings||null!==le.hostAttrs||0!==le.hostVars)&&(i.flags|=64);const xe=le.type.prototype;!b&&(xe.ngOnChanges||xe.ngOnInit||xe.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),b=!0),!D&&(xe.ngOnChanges||xe.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),D=!0),R++}!function Bl(t,n,i){const d=n.directiveEnd,p=t.data,b=n.attrs,D=[];let R=null,G=null;for(let le=n.directiveStart;le<d;le++){const xe=p[le],lt=i?i.get(xe):null,zt=lt?lt.outputs:null;R=Rt(xe.inputs,le,R,lt?lt.inputs:null),G=Rt(xe.outputs,le,G,zt);const dn=null===R||null===b||zr(n)?null:qv(R,le,b);D.push(dn)}null!==R&&(R.hasOwnProperty("class")&&(n.flags|=8),R.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=D,n.inputs=R,n.outputs=G}(t,i,p)}function Rh(t,n,i){const a=i.directiveStart,d=i.directiveEnd,p=i.index,b=function W(){return hr.lFrame.currentDirectiveIndex}();try{xs(p);for(let D=a;D<d;D++){const R=t.data[D],G=n[D];pe(D),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&$v(R,G)}}finally{xs(-1),pe(b)}}function $v(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Am(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function ng(t,n,i){if(i){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)i[n.exportAs[a]]=t;Gi(n)&&(i[""]=t)}}function Im(t,n,i,a,d){t.data[a]=d;const p=d.factory||(d.factory=es(d.type)),b=new ul(p,Gi(d),P);t.blueprint[a]=b,i[a]=b,function Au(t,n,i,a,d){const p=d.hostBindings;if(p){let b=t.hostBindingOpCodes;null===b&&(b=t.hostBindingOpCodes=[]);const D=~n.index;(function ms(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(b)!=D&&b.push(D),b.push(i,a,p)}}(t,n,a,Ct(t,i,d.hostVars,u),d)}function Ba(t,n,i,a,d,p){const b=Ro(t,n);!function op(t,n,i,a,d,p,b){if(null==p)t.removeAttribute(n,d,i);else{const D=null==b?Ze(p):b(p,a||"",d);t.setAttribute(n,d,D,i)}}(n[nr],b,p,t.value,i,a,d)}function H_(t,n,i,a,d,p){const b=p[n];if(null!==b)for(let D=0;D<b.length;)ig(a,i,b[D++],b[D++],b[D++])}function ig(t,n,i,a,d){const p=zi(null);try{const b=t.inputTransforms;null!==b&&b.hasOwnProperty(a)&&(d=b[a].call(n,d)),null!==t.setInput?t.setInput(n,d,i,a):n[a]=d}finally{zi(p)}}function qv(t,n,i){let a=null,d=0;for(;d<i.length;){const p=i[d];if(0!==p)if(5!==p){if("number"==typeof p)break;if(t.hasOwnProperty(p)){null===a&&(a=[]);const b=t[p];for(let D=0;D<b.length;D+=2)if(b[D]===n){a.push(p,b[D+1],i[d+1]);break}}d+=2}else d+=2;else d+=4}return a}function Cm(t,n,i,a){return[t,!0,!1,n,null,0,a,i,null,null,null]}function Tm(t,n){const i=t.contentQueries;if(null!==i)for(let a=0;a<i.length;a+=2){const p=i[a+1];if(-1!==p){const b=t.data[p];Mt(i[a]),b.contentQueries(2,n[p],p)}}}function Oh(t,n){return t[Do]?t[li][Ri]=n:t[Do]=n,t[li]=n,n}function og(t,n,i){Mt(0);const a=zi(null);try{n(t,i)}finally{zi(a)}}function sg(t){return t[wo]||(t[wo]=[])}function ag(t){return t.cleanup||(t.cleanup=[])}function ss(t,n){const i=t[no],a=i?i.get(yu,null):null;a&&a.handleError(n)}function as(t,n,i,a,d){for(let p=0;p<i.length;){const b=i[p++],D=i[p++];ig(t.data[b],n[b],a,D,d)}}function ja(t,n,i){const a=js(n,t);!function Fg(t,n,i){t.setValue(n,i)}(t[nr],a,i)}function z_(t,n){const i=Oo(n,t),a=i[_n];!function $_(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(a,i);const d=i[$r];null!==d&&null===i[Qt]&&(i[Qt]=Sh(d,i[no])),wm(a,i,i[ai])}function wm(t,n,i){di(n);try{const a=t.viewQuery;null!==a&&og(1,a,i);const d=t.template;null!==d&&Gt(t,n,d,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Tm(t,n),t.staticViewQueries&&og(2,t.viewQuery,i);const p=t.components;null!==p&&function sp(t,n){for(let i=0;i<n.length;i++)z_(t,n[i])}(n,p)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[Xn]&=-5,ha()}}let Dm=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,a,d){const p=typeof Zone>"u"?null:Zone.current,b=function Ht(t,n,i){const a=Object.create(Lr);i&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=n;const d=b=>{a.cleanupFn=b};return a.ref={notify:()=>Da(a),run:()=>{if(a.dirty=!1,a.hasRun&&!ol(a))return;a.hasRun=!0;const b=pr(a);try{a.cleanupFn(),a.cleanupFn=Mn,a.fn(d)}finally{yc(a,b)}},cleanup:()=>a.cleanupFn()},a.ref}(i,G=>{this.all.has(G)&&this.queue.set(G,p)},d);let D;this.all.add(b),b.notify();const R=()=>{b.cleanup(),D?.(),this.all.delete(b),this.queue.delete(b)};return D=a?.onDestroy(R),{destroy:R}}flush(){if(0!==this.queue.size)for(const[i,a]of this.queue)this.queue.delete(i),a?a.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Pn({token:t,providedIn:"root",factory:()=>new t})}return t})();function Nh(t,n,i){let a=i?t.styles:null,d=i?t.classes:null,p=0;if(null!==n)for(let b=0;b<n.length;b++){const D=n[b];"number"==typeof D?p=D:1==p?d=be(d,D):2==p&&(a=be(a,D+": "+n[++b]+";"))}i?t.styles=a:t.stylesWithoutHost=a,i?t.classes=d:t.classesWithoutHost=d}function ap(t,n,i,a,d=!1){for(;null!==i;){const p=n[i.index];null!==p&&a.push(yi(p)),bi(p)&&q_(p,a);const b=i.type;if(8&b)ap(t,n,i.child,a);else if(32&b){const D=dh(i,n);let R;for(;R=D();)a.push(R)}else if(16&b){const D=$g(n,i);if(Array.isArray(D))a.push(...D);else{const R=cu(n[Y]);ap(R[_n],R,D,a,!0)}}i=d?i.projectionNext:i.next}return a}function q_(t,n){for(let i=yr;i<t.length;i++){const a=t[i],d=a[_n].firstChild;null!==d&&ap(a[_n],a,d,n)}t[_i]!==t[$r]&&n.push(t[_i])}function kh(t,n,i,a=!0){const d=n[vo],p=d.rendererFactory,b=d.afterRenderEventManager;p.begin?.(),b?.begin();try{Fh(t,n,t.template,i)}catch(R){throw a&&ss(n,R),R}finally{p.end?.(),d.effectManager?.flush(),b?.end()}}function Fh(t,n,i,a){const d=n[Xn];if(256!=(256&d)){n[vo].effectManager?.flush(),di(n);try{$s(n),function Ou(t){return hr.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&Gt(t,n,i,2,a);const b=3==(3&d);if(b){const G=t.preOrderCheckHooks;null!==G&&xa(n,G,null)}else{const G=t.preOrderHooks;null!==G&&Ra(n,G,0,null),Ws(n,0)}if(function Sm(t){for(let n=kg(t);null!==n;n=mf(n)){if(!n[Or])continue;const i=n[so];for(let a=0;a<i.length;a++){ws(i[a])}}}(n),lg(n,2),null!==t.contentQueries&&Tm(t,n),b){const G=t.contentCheckHooks;null!==G&&xa(n,G)}else{const G=t.contentHooks;null!==G&&Ra(n,G,1),Ws(n,1)}!function J(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const a=Dd(n,_r);try{for(let d=0;d<i.length;d++){const p=i[d];if(p<0)xs(~p);else{const b=p,D=i[++d],R=i[++d];N(D,b),a.dirty=!1;const G=pr(a);try{R(2,n[b])}finally{yc(a,G)}}}}finally{null===n[_r]&&c(n,_r),xs(-1)}}(t,n);const D=t.components;null!==D&&cp(n,D,0);const R=t.viewQuery;if(null!==R&&og(2,R,a),b){const G=t.viewCheckHooks;null!==G&&xa(n,G)}else{const G=t.viewHooks;null!==G&&Ra(n,G,2),Ws(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Xn]&=-73,Du(n)}finally{ha()}}}function lg(t,n){for(let i=kg(t);null!==i;i=mf(i))for(let a=yr;a<i.length;a++)Mm(i[a],n)}function Sd(t,n,i){Mm(Oo(n,t),i)}function Mm(t,n){if(!function Cc(t){return 128==(128&t[Xn])}(t))return;const i=t[_n],a=t[Xn];if(80&a&&0===n||1024&a||2===n)Fh(i,t,i.template,t[ai]);else if(t[Hi]>0){lg(t,1);const d=i.components;null!==d&&cp(t,d,1)}}function cp(t,n,i){for(let a=0;a<n.length;a++)Sd(t,n[a],i)}class Lh{get rootNodes(){const n=this._lView,i=n[_n];return ap(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ai]}set context(n){this._lView[ai]=n}get destroyed(){return 256==(256&this._lView[Xn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Rr];if(bi(n)){const i=n[8],a=i?i.indexOf(this):-1;a>-1&&(Ef(n,a),Oc(i,a))}this._attachedToViewContainer=!1}ma(this._lView[_n],this._lView)}onDestroy(n){!function Qh(t,n){if(256==(256&t[Xn]))throw new Ne(911,!1);null===t[Sn]&&(t[Sn]=[]),t[Sn].push(n)}(this._lView,n)}markForCheck(){ep(this._cdRefInjectingView||this._lView)}detach(){this._lView[Xn]&=-129}reattach(){this._lView[Xn]|=128}detectChanges(){kh(this._lView[_n],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ug(t,n){nc(t,n,n[nr],2,null,null)}(this._lView[_n],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ne(902,!1);this._appRef=n}}class lp extends Lh{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;kh(n[_n],n,n[ai],!1)}checkNoChanges(){}get context(){return null}}class Pm extends Yp{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=qn(n);return new tl(i,this.ngModule)}}function _s(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class Vh{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,a){a=fn(a);const d=this.injector.get(n,Id,a);return d!==Id||i===Id?d:this.parentInjector.get(n,i,a)}}class tl extends b_{get inputs(){const n=this.componentDef,i=n.inputTransforms,a=_s(n.inputs);if(null!==i)for(const d of a)i.hasOwnProperty(d.propName)&&(d.transform=i[d.propName]);return a}get outputs(){return _s(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function qi(t){return t.map(Bi).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,a,d){let p=(d=d||this.ngModule)instanceof ic?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const b=p?new Vh(n,p):n,D=b.get(C_,null);if(null===D)throw new Ne(407,!1);const xe={rendererFactory:D,sanitizer:b.get(w_,null),effectManager:b.get(Dm,null),afterRenderEventManager:b.get(Em,null)},lt=D.createRenderer(null,this.componentDef),Et=this.componentDef.selectors[0][0]||"div",zt=a?function wi(t,n,i,a){const p=a.get(Fv,!1)||i===ln.ShadowDom,b=t.selectRootElement(n,p);return function Gr(t){gt(t)}(b),b}(lt,a,this.componentDef.encapsulation,b):yf(lt,Et,function xm(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Et)),ar=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let rn=null;null!==zt&&(rn=Sh(zt,b,!0));const Fr=Qn(0,null,null,1,0,null,null,null,null,null,null),ri=he(null,Fr,null,ar,null,null,xe,lt,b,null,rn);let Ji,pc;di(ri);try{const Wh=this.componentDef;let Xm,C0=null;Wh.findHostDirectiveDefs?(Xm=[],C0=new Map,Wh.findHostDirectiveDefs(Wh,Xm,C0),Xm.push(Wh)):Xm=[Wh];const qw=function Q_(t,n){const i=t[_n],a=Bn;return t[a]=n,Me(i,a,2,"#host",null)}(ri,zt),Gw=function jl(t,n,i,a,d,p,b){const D=d[_n];!function Rm(t,n,i,a){for(const d of t)n.mergedAttrs=ur(n.mergedAttrs,d.hostAttrs);null!==n.mergedAttrs&&(Nh(n,n.mergedAttrs,!0),null!==i&&Sf(a,i,n))}(a,t,n,b);let R=null;null!==n&&(R=Sh(n,d[no]));const G=p.rendererFactory.createRenderer(n,i);let le=16;i.signals?le=4096:i.onPush&&(le=64);const xe=he(d,or(i),null,le,d[t.index],t,p,G,null,null,R);return D.firstCreatePass&&Am(D,t,a.length-1),Oh(d,xe),d[t.index]=xe}(qw,zt,Wh,Xm,ri,xe,lt);pc=bc(Fr,Bn),zt&&function ug(t,n,i,a){if(a)Sr(t,i,["ng-version",Kf.full]);else{const{attrs:d,classes:p}=function Es(t){const n=[],i=[];let a=1,d=2;for(;a<t.length;){let p=t[a];if("string"==typeof p)2===d?""!==p&&n.push(p,t[++a]):8===d&&i.push(p);else{if(!Ui(d))break;d=p}a++}return{attrs:n,classes:i}}(n.selectors[0]);d&&Sr(t,i,d),p&&p.length>0&&na(t,i,p.join(" "))}}(lt,Wh,zt,a),void 0!==i&&function up(t,n,i){const a=t.projection=[];for(let d=0;d<n.length;d++){const p=i[d];a.push(null!=p?Array.from(p):null)}}(pc,this.ngContentSelectors,i),Ji=function K_(t,n,i,a,d,p){const b=Ao(),D=d[_n],R=Ro(b,d);j_(D,d,b,i,null,a);for(let le=0;le<i.length;le++)Ko(Mc(d,D,b.directiveStart+le,b),d);Rh(D,d,b),R&&Ko(R,d);const G=Mc(d,D,b.directiveStart+b.componentOffset,b);if(t[ai]=d[ai]=G,null!==p)for(const le of p)le(G,n);return hn(D,b,t),G}(Gw,Wh,Xm,C0,ri,[dg]),wm(Fr,ri,null)}finally{ha()}return new W_(this.componentType,Ji,Ph(pc,ri),ri,pc)}}class W_ extends Av{constructor(n,i,a,d,p){super(),this.location=a,this._rootLView=d,this._tNode=p,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new lp(d),this.componentType=n}setInput(n,i){const a=this._tNode.inputs;let d;if(null!==a&&(d=a[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const p=this._rootLView;as(p[_n],p,d,n,i),this.previousInputValues.set(n,i),ep(Oo(this._tNode.index,p))}}get injector(){return new Io(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function dg(){const t=Ao();Fu(qt()[_n],t)}function lc(t){let n=function Uh(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const a=[t];for(;n;){let d;if(Gi(t))d=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ne(903,!1);d=n.\u0275dir}if(d){if(i){a.push(d);const b=t;b.inputs=Bh(t.inputs),b.inputTransforms=Bh(t.inputTransforms),b.declaredInputs=Bh(t.declaredInputs),b.outputs=Bh(t.outputs);const D=d.hostBindings;D&&Y_(t,D);const R=d.viewQuery,G=d.contentQueries;if(R&&hg(t,R),G&&Nm(t,G),z(t.inputs,d.inputs),z(t.declaredInputs,d.declaredInputs),z(t.outputs,d.outputs),null!==d.inputTransforms&&(null===b.inputTransforms&&(b.inputTransforms={}),z(b.inputTransforms,d.inputTransforms)),Gi(d)&&d.data.animation){const le=t.data;le.animation=(le.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let b=0;b<p.length;b++){const D=p[b];D&&D.ngInherit&&D(t),D===lc&&(i=!1)}}n=Object.getPrototypeOf(n)}!function Om(t){let n=0,i=null;for(let a=t.length-1;a>=0;a--){const d=t[a];d.hostVars=n+=d.hostVars,d.hostAttrs=ur(d.hostAttrs,i=ur(i,d.hostAttrs))}}(a)}function Bh(t){return t===fr?{}:t===En?[]:t}function hg(t,n){const i=t.viewQuery;t.viewQuery=i?(a,d)=>{n(a,d),i(a,d)}:n}function Nm(t,n){const i=t.contentQueries;t.contentQueries=i?(a,d,p)=>{n(a,d,p),i(a,d,p)}:n}function Y_(t,n){const i=t.hostBindings;t.hostBindings=i?(a,d)=>{n(a,d),i(a,d)}:n}function km(t){const n=t.inputConfig,i={};for(const a in n)if(n.hasOwnProperty(a)){const d=n[a];Array.isArray(d)&&d[2]&&(i[a]=d[2])}t.inputTransforms=i}function dp(t){return!!gg(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function gg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function uc(t,n,i){return t[n]=i}function v(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function h(t,n,i,a){const d=v(t,n,i);return v(t,n+1,a)||d}function C(t,n,i,a){const d=qt();return v(d,da(),n)&&(qr(),Ba(Oi(),d,t,n,i,a)),C}function fe(t,n,i,a){return v(t,da(),i)?n+Ze(i)+a:u}function Oe(t,n,i,a,d,p){const D=h(t,function Ss(){return hr.lFrame.bindingIndex}(),i,d);return S(2),D?n+Ze(i)+a+Ze(d)+p:u}function Bm(t,n,i,a,d,p,b,D){const R=qt(),G=qr(),le=t+Bn,xe=G.firstCreatePass?function Xv(t,n,i,a,d,p,b,D,R){const G=n.consts,le=Me(n,t,4,b||null,zs(G,D));tg(n,i,le,zs(G,R)),Fu(n,le);const xe=le.tView=Qn(2,le,a,d,p,n.directiveRegistry,n.pipeRegistry,null,n.schemas,G,null);return null!==n.queries&&(n.queries.template(n,le),xe.queries=n.queries.embeddedTView(le)),le}(le,G,R,n,i,a,d,p,b):G.data[le];No(xe,!1);const lt=jm(G,R,xe,t);Nu()&&ph(G,R,lt,xe),Ko(lt,R),Oh(R,R[le]=Cm(lt,R,lt,xe)),Mo(xe)&&nn(G,R,xe),null!=b&&$n(R,xe,D)}let jm=function iv(t,n,i,a){return Gs(!0),n[nr].createComment("")};function zm(t,n,i){const a=qt();return v(a,da(),n)&&ya(qr(),Oi(),a,t,n,a[nr],i,!1),zm}function $m(t,n,i,a,d){const b=d?"class":"style";as(t,i,n.inputs[b],b,a)}function yg(t,n,i,a){const d=qt(),p=qr(),b=Bn+t,D=d[nr],R=p.firstCreatePass?function ny(t,n,i,a,d,p){const b=n.consts,R=Me(n,t,2,a,zs(b,d));return tg(n,i,R,zs(b,p)),null!==R.attrs&&Nh(R,R.attrs,!1),null!==R.mergedAttrs&&Nh(R,R.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,R),R}(b,p,d,n,i,a):p.data[b],G=ov(p,d,R,D,n,t);d[b]=G;const le=Mo(R);return No(R,!0),Sf(D,G,R),32!=(32&R.flags)&&Nu()&&ph(p,d,G,R),0===function Ma(){return hr.lFrame.elementDepthCount}()&&Ko(G,d),function Fd(){hr.lFrame.elementDepthCount++}(),le&&(nn(p,d,R),hn(p,R,d)),null!==a&&$n(d,R),yg}function Gh(){let t=Ao();Dc()?Wa():(t=t.parent,No(t,!1));const n=t;(function Ld(t){return hr.skipHydrationRootTNode===t})(n)&&function Ep(){hr.skipHydrationRootTNode=null}(),function Mu(){hr.lFrame.elementDepthCount--}();const i=qr();return i.firstCreatePass&&(Fu(i,t),ds(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Ap(t){return 0!=(8&t.flags)}(n)&&$m(i,n,qt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function zd(t){return 0!=(16&t.flags)}(n)&&$m(i,n,qt(),n.stylesWithoutHost,!1),Gh}function oa(t,n,i,a){return yg(t,n,i,a),Gh(),oa}let ov=(t,n,i,a,d,p)=>(Gs(!0),yf(a,d,function qs(){return hr.lFrame.currentNamespace}()));function Zi(){return qt()}function Yo(t){return!!t&&"function"==typeof t.then}function Di(t){return!!t&&"function"==typeof t.subscribe}function ls(t,n,i,a){const d=qt(),p=qr(),b=Ao();return function dc(t,n,i,a,d,p,b){const D=Mo(a),G=t.firstCreatePass&&ag(t),le=n[ai],xe=sg(n);let lt=!0;if(3&a.type||b){const dn=Ro(a,n),Rn=b?b(dn):dn,ar=xe.length,rn=b?ri=>b(yi(ri[a.index])):a.index;let Fr=null;if(!b&&D&&(Fr=function _p(t,n,i,a){const d=t.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const b=d[p];if(b===i&&d[p+1]===a){const D=n[wo],R=d[p+2];return D.length>R?D[R]:null}"string"==typeof b&&(p+=2)}return null}(t,n,d,a.index)),null!==Fr)(Fr.__ngLastListenerFn__||Fr).__ngNextListenerFn__=p,Fr.__ngLastListenerFn__=p,lt=!1;else{p=Zm(a,n,le,p,!1);const ri=i.listen(Rn,d,p);xe.push(p,ri),G&&G.push(d,rn,ar,ar+1)}}else p=Zm(a,n,le,p,!1);const Et=a.outputs;let zt;if(lt&&null!==Et&&(zt=Et[d])){const dn=zt.length;if(dn)for(let Rn=0;Rn<dn;Rn+=2){const Ji=n[zt[Rn]][zt[Rn+1]].subscribe(p),pc=xe.length;xe.push(p,Ji),G&&G.push(d,a.index,pc,-(pc+1))}}}(p,d,d[nr],b,t,n,a),ls}function Eg(t,n,i,a){try{return cr(6,n,i),!1!==i(a)}catch(d){return ss(t,d),!1}finally{cr(7,n,i)}}function Zm(t,n,i,a,d){return function p(b){if(b===Function)return a;ep(t.componentOffset>-1?Oo(t.index,n):n);let R=Eg(n,i,a,b),G=p.__ngNextListenerFn__;for(;G;)R=Eg(n,i,G,b)&&R,G=G.__ngNextListenerFn__;return d&&!1===R&&b.preventDefault(),R}}function w0(t=1){return function Ps(t){return(hr.lFrame.contextLView=function Qa(t,n){for(;t>0;)n=n[re],t--;return n}(t,hr.lFrame.contextLView))[ai]}(t)}function MI(t,n){let i=null;const a=function Aa(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(t);for(let d=0;d<n.length;d++){const p=n[d];if("*"!==p){if(null===a?oi(t,p,!0):Ns(a,p))return d}else i=d}return i}function D0(t){const n=qt()[Y][ci];if(!n.projection){const a=n.projection=vl(t?t.length:1,null),d=a.slice();let p=n.child;for(;null!==p;){const b=t?MI(p,t):0;null!==b&&(d[b]?d[b].projectionNext=p:a[b]=p,d[b]=p),p=p.next}}}function S0(t,n=0,i){const a=qt(),d=qr(),p=Me(d,Bn+t,16,null,i||null);null===p.projection&&(p.projection=n),Wa(),(!a[Qt]||Pa())&&32!=(32&p.flags)&&function zc(t,n,i){Df(n[nr],0,n,i,uu(t,i,n),zg(i.parent||n[ci],i,n))}(d,a,p)}function Ry(t,n,i){return iy(t,"",n,"",i),Ry}function iy(t,n,i,a,d){const p=qt(),b=fe(p,n,i,a);return b!==u&&ya(qr(),Oi(),p,t,b,p[nr],d,!1),iy}function oy(t,n){return t<<17|n<<2}function vp(t){return t>>17&32767}function Oy(t){return 2|t}function Ag(t){return(131068&t)>>2}function Ny(t,n){return-131069&t|n<<2}function ky(t){return 1|t}function L0(t,n,i,a,d){const p=t[i+1],b=null===n;let D=a?vp(p):Ag(p),R=!1;for(;0!==D&&(!1===R||b);){const le=t[D+1];kI(t[D],n)&&(R=!0,t[D+1]=a?ky(le):Oy(le)),D=a?vp(le):Ag(le)}R&&(t[i+1]=a?Oy(p):ky(p))}function kI(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Xs(t,n)>=0}function Fy(t,n,i){return bu(t,n,i,!1),Fy}function Ly(t,n){return bu(t,n,null,!0),Ly}function bu(t,n,i,a){const d=qt(),p=qr(),b=S(2);p.firstUpdatePass&&function Z0(t,n,i,a){const d=t.data;if(null===d[i+1]){const p=d[Wo()],b=function $0(t,n){return n>=t.expandoStartIndex}(t,i);(function Q0(t,n){return 0!=(t.flags&(n?8:16))})(p,a)&&null===n&&!b&&(n=!1),n=function $I(t,n,i,a){const d=function Ve(t){const n=hr.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let p=a?n.residualClasses:n.residualStyles;if(null===d)0===(a?n.classBindings:n.styleBindings)&&(i=sv(i=Vy(null,t,n,i,a),n.attrs,a),p=null);else{const b=n.directiveStylingLast;if(-1===b||t[b]!==d)if(i=Vy(d,t,n,i,a),null===p){let R=function ZI(t,n,i){const a=i?n.classBindings:n.styleBindings;if(0!==Ag(a))return t[vp(a)]}(t,n,a);void 0!==R&&Array.isArray(R)&&(R=Vy(null,t,n,R[1],a),R=sv(R,n.attrs,a),function qI(t,n,i,a){t[vp(i?n.classBindings:n.styleBindings)]=a}(t,n,a,R))}else p=function GI(t,n,i){let a;const d=n.directiveEnd;for(let p=1+n.directiveStylingLast;p<d;p++)a=sv(a,t[p].hostAttrs,i);return sv(a,n.attrs,i)}(t,n,a)}return void 0!==p&&(a?n.residualClasses=p:n.residualStyles=p),i}(d,p,n,a),function OI(t,n,i,a,d,p){let b=p?n.classBindings:n.styleBindings,D=vp(b),R=Ag(b);t[a]=i;let le,G=!1;if(Array.isArray(i)?(le=i[1],(null===le||Xs(i,le)>0)&&(G=!0)):le=i,d)if(0!==R){const lt=vp(t[D+1]);t[a+1]=oy(lt,D),0!==lt&&(t[lt+1]=Ny(t[lt+1],a)),t[D+1]=function xI(t,n){return 131071&t|n<<17}(t[D+1],a)}else t[a+1]=oy(D,0),0!==D&&(t[D+1]=Ny(t[D+1],a)),D=a;else t[a+1]=oy(R,0),0===D?D=a:t[R+1]=Ny(t[R+1],a),R=a;G&&(t[a+1]=Oy(t[a+1])),L0(t,le,a,!0),L0(t,le,a,!1),function NI(t,n,i,a,d){const p=d?t.residualClasses:t.residualStyles;null!=p&&"string"==typeof n&&Xs(p,n)>=0&&(i[a+1]=ky(i[a+1]))}(n,le,t,a,p),b=oy(D,R),p?n.classBindings=b:n.styleBindings=b}(d,p,n,i,b,a)}}(p,t,b,a),n!==u&&v(d,b,n)&&function G0(t,n,i,a,d,p,b,D){if(!(3&n.type))return;const R=t.data,G=R[D+1],le=function RI(t){return 1==(1&t)}(G)?W0(R,n,i,d,Ag(G),b):void 0;sy(le)||(sy(p)||function PI(t){return 2==(2&t)}(G)&&(p=W0(R,null,i,d,D,b)),function $c(t,n,i,a,d){if(n)d?t.addClass(i,a):t.removeClass(i,a);else{let p=-1===a.indexOf("-")?void 0:ou.DashCase;null==d?t.removeStyle(i,a,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=ou.Important),t.setStyle(i,a,d,p))}}(a,b,js(Wo(),i),d,p))}(p,p.data[Wo()],d,d[nr],t,d[b+1]=function YI(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=se(Pl(t)))),t}(n,i),a,b)}function Vy(t,n,i,a,d){let p=null;const b=i.directiveEnd;let D=i.directiveStylingLast;for(-1===D?D=i.directiveStart:D++;D<b&&(p=n[D],a=sv(a,p.hostAttrs,d),p!==t);)D++;return null!==t&&(i.directiveStylingLast=D),a}function sv(t,n,i){const a=i?1:2;let d=-1;if(null!==n)for(let p=0;p<n.length;p++){const b=n[p];"number"==typeof b?d=b:d===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),is(t,b,!!i||n[++p]))}return void 0===t?null:t}function W0(t,n,i,a,d,p){const b=null===n;let D;for(;d>0;){const R=t[d],G=Array.isArray(R),le=G?R[1]:R,xe=null===le;let lt=i[d+1];lt===u&&(lt=xe?En:void 0);let Et=xe?tu(lt,a):le===a?lt:void 0;if(G&&!sy(Et)&&(Et=tu(R,a)),sy(Et)&&(D=Et,b))return D;const zt=t[d+1];d=b?vp(zt):Ag(zt)}if(null!==n){let R=p?n.residualClasses:n.residualStyles;null!=R&&(D=tu(R,a))}return D}function sy(t){return void 0!==t}function K0(t,n=""){const i=qt(),a=qr(),d=t+Bn,p=a.firstCreatePass?Me(a,d,1,n,null):a.data[d],b=Y0(a,i,p,n,t);i[d]=b,Nu()&&ph(a,i,b,p),No(p,!1)}let Y0=(t,n,i,a,d)=>(Gs(!0),function nd(t,n){return t.createText(n)}(n[nr],a));function Uy(t){return ay("",t,""),Uy}function ay(t,n,i){const a=qt(),d=fe(a,t,n,i);return d!==u&&ja(a,Wo(),d),ay}function By(t,n,i,a,d){const p=qt(),b=Oe(p,t,n,i,a,d);return b!==u&&ja(p,Wo(),b),By}const Ig=void 0;var yb=["en",[["a","p"],["AM","PM"],Ig],[["AM","PM"],Ig,Ig],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ig,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ig,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ig,"{1} 'at' {0}",Ig],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function vb(t){const i=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===a?1:5}];let Gm={};function jy(t){const n=function Eb(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=_E(n);if(i)return i;const a=n.split("-")[0];if(i=_E(a),i)return i;if("en"===a)return yb;throw new Ne(701,!1)}function mE(t){return jy(t)[Wm.PluralCase]}function _E(t){return t in Gm||(Gm[t]=Wn.ng&&Wn.ng.common&&Wn.ng.common.locales&&Wn.ng.common.locales[t]),Gm[t]}var Wm=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Wm||{});const Qm="en-US";let vE=Qm;function $y(t,n,i,a,d){if(t=Re(t),Array.isArray(t))for(let p=0;p<t.length;p++)$y(t[p],n,i,a,d);else{const p=qr(),b=qt(),D=Ao();let R=Rl(t)?t:Re(t.provide);const G=im(t),le=1048575&D.providerIndexes,xe=D.directiveStart,lt=D.providerIndexes>>20;if(Rl(t)||!t.multi){const Et=new ul(G,d,P),zt=qy(R,n,d?le:le+lt,xe);-1===zt?(Nr(ju(D,b),p,R),Zy(p,t,n.length),n.push(R),D.directiveStart++,D.directiveEnd++,d&&(D.providerIndexes+=1048576),i.push(Et),b.push(Et)):(i[zt]=Et,b[zt]=Et)}else{const Et=qy(R,n,le+lt,xe),zt=qy(R,n,le,le+lt),Rn=zt>=0&&i[zt];if(d&&!Rn||!d&&!(Et>=0&&i[Et])){Nr(ju(D,b),p,R);const ar=function vC(t,n,i,a,d){const p=new ul(t,i,P);return p.multi=[],p.index=n,p.componentProviders=0,zE(p,d,a&&!i),p}(d?_C:mC,i.length,d,a,G);!d&&Rn&&(i[zt].providerFactory=ar),Zy(p,t,n.length,0),n.push(R),D.directiveStart++,D.directiveEnd++,d&&(D.providerIndexes+=1048576),i.push(ar),b.push(ar)}else Zy(p,t,Et>-1?Et:zt,zE(i[d?zt:Et],G,!d&&a));!d&&a&&Rn&&i[zt].componentProviders++}}}function Zy(t,n,i,a){const d=Rl(n),p=function Ni(t){return!!t.useClass}(n);if(d||p){const R=(p?Re(n.useClass):n).prototype.ngOnDestroy;if(R){const G=t.destroyHooks||(t.destroyHooks=[]);if(!d&&n.multi){const le=G.indexOf(i);-1===le?G.push(i,[a,R]):G[le+1].push(a,R)}else G.push(i,R)}}}function zE(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function qy(t,n,i,a){for(let d=i;d<a;d++)if(n[d]===t)return d;return-1}function mC(t,n,i,a){return Gy(this.multi,[])}function _C(t,n,i,a){const d=this.multi;let p;if(this.providerFactory){const b=this.providerFactory.componentProviders,D=Mc(i,i[_n],this.providerFactory.index,a);p=D.slice(0,b),Gy(d,p);for(let R=b;R<D.length;R++)p.push(D[R])}else p=[],Gy(d,p);return p}function Gy(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function $E(t,n=[]){return i=>{i.providersResolver=(a,d)=>function gC(t,n,i){const a=qr();if(a.firstCreatePass){const d=Gi(t);$y(i,a.data,a.blueprint,d,!0),$y(n,a.data,a.blueprint,d,!1)}}(a,d?d(t):t,n)}}class bg{}class ZE{}function yC(t,n){return new Wy(t,n??null,[])}class Wy extends bg{constructor(n,i,a){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Pm(this);const d=Xr(n);this._bootstrapComponents=Vl(d.bootstrap),this._r3Injector=M_(n,i,[{provide:bg,useValue:this},{provide:Yp,useValue:this.componentFactoryResolver},...a],se(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Qy extends ZE{constructor(n){super(),this.moduleType=n}create(n){return new Wy(this.moduleType,n,[])}}class qE extends bg{constructor(n){super(),this.componentFactoryResolver=new Pm(this),this.instance=null;const i=new Qc([...n.providers,{provide:bg,useValue:this},{provide:Yp,useValue:this.componentFactoryResolver}],n.parent||Hf(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function GE(t,n,i=null){return new qE({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let AC=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const a=Va(0,i.type),d=a.length>0?GE([a],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,d)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Pn({token:t,providedIn:"environment",factory:()=>new t($t(ic))})}return t})();function WE(t){t.getStandaloneInjector=n=>n.get(AC).getOrCreateStandaloneInjector(t)}function tA(t,n,i){const a=Go()+t,d=qt();return d[a]===u?uc(d,a,i?n.call(i):n()):function Hh(t,n){return t[n]}(d,a)}function nA(t,n,i,a){return rA(qt(),Go(),t,n,i,a)}function hv(t,n){const i=t[n];return i===u?void 0:i}function rA(t,n,i,a,d,p){const b=n+i;return v(t,b,d)?uc(t,b+1,p?a.call(p,d):a(d)):hv(t,b+1)}function oA(t,n,i,a,d,p,b,D){const R=n+i;return function l(t,n,i,a,d){const p=h(t,n,i,a);return v(t,n+2,d)||p}(t,R,d,p,b)?uc(t,R+3,D?a.call(D,d,p,b):a(d,p,b)):hv(t,R+3)}function cA(t,n){const i=qr();let a;const d=t+Bn;i.firstCreatePass?(a=function VC(t,n){if(n)for(let i=n.length-1;i>=0;i--){const a=n[i];if(t===a.name)return a}}(n,i.pipeRegistry),i.data[d]=a,a.onDestroy&&(i.destroyHooks??=[]).push(d,a.onDestroy)):a=i.data[d];const p=a.factory||(a.factory=es(a.type)),D=Ar(P);try{const R=Ks(!1),G=p();return Ks(R),function ty(t,n,i,a){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=a}(i,qt(),d,G),G}finally{Ar(D)}}function lA(t,n,i){const a=t+Bn,d=qt(),p=Hs(d,a);return fv(d,a)?rA(d,Go(),n,p.transform,i,p):p.transform(i)}function uA(t,n,i,a){const d=t+Bn,p=qt(),b=Hs(p,d);return fv(p,d)?function iA(t,n,i,a,d,p,b){const D=n+i;return h(t,D,d,p)?uc(t,D+2,b?a.call(b,d,p):a(d,p)):hv(t,D+2)}(p,Go(),n,b.transform,i,a,b):b.transform(i,a)}function dA(t,n,i,a,d){const p=t+Bn,b=qt(),D=Hs(b,p);return fv(b,p)?oA(b,Go(),n,D.transform,i,a,d,D):D.transform(i,a,d)}function fv(t,n){return t[_n].data[n].pure}function jC(){return this._results[Symbol.iterator]()}class Yy{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new el)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=Yy.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=jC)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const a=this;a.dirty=!1;const d=function rs(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Yd(t,n,i){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let d=t[a],p=n[a];if(i&&(d=i(d),p=i(p)),p!==d)return!1}return!0}(a._results,d,i))&&(a._results=d,a.length=d.length,a.last=d[this.length-1],a.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function zC(t,n,i,a=!0){const d=n[_n];if(function a_(t,n,i,a){const d=yr+a,p=i.length;a>0&&(i[d-1][Ri]=n),a<p-yr?(n[Ri]=i[d],Jd(i,yr+a,n)):(i.push(n),n[Ri]=null),n[Rr]=i;const b=n[ke];null!==b&&i!==b&&function vv(t,n){const i=t[so];n[Y]!==n[Rr][Rr][Y]&&(t[Or]=!0),null===i?t[so]=[n]:i.push(n)}(b,n);const D=n[ft];null!==D&&D.insertView(t),n[Xn]|=128}(d,n,t,i),a){const p=id(i,t),b=n[nr],D=fh(b,t[_i]);null!==D&&function Vg(t,n,i,a,d,p){a[$r]=d,a[ci]=n,nc(t,a,i,1,d,p)}(d,t[ci],b,n,D,p)}}let pv=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=qC}return t})();const $C=pv,ZC=class extends $C{constructor(n,i,a){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,a){const d=function HC(t,n,i,a){const d=n.tView,D=he(t,d,i,4096&t[Xn]?4096:16,null,n,null,null,null,a?.injector??null,a?.hydrationInfo??null);D[ke]=t[n.index];const G=t[ft];return null!==G&&(D[ft]=G.createEmbeddedView(d)),wm(d,D,i),D}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:a});return new Lh(d)}};function qC(){return hy(Ao(),qt())}function hy(t,n){return 4&t.type?new ZC(n,t,Ph(t,n)):null}let py=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=JC}return t})();function JC(){return vA(Ao(),qt())}const XC=py,mA=class extends XC{constructor(n,i,a){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=a}get element(){return Ph(this._hostTNode,this._hostLView)}get injector(){return new Io(this._hostTNode,this._hostLView)}get parentInjector(){const n=fl(this._hostTNode,this._hostLView);if(dl(n)){const i=Qs(n,this._hostLView),a=Uu(n);return new Io(i[_n].data[a+8],i)}return new Io(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=_A(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-yr}createEmbeddedView(n,i,a){let d,p;"number"==typeof a?d=a:null!=a&&(d=a.index,p=a.injector);const D=n.createEmbeddedViewImpl(i||{},p,null);return this.insertImpl(D,d,false),D}createComponent(n,i,a,d,p){const b=n&&!function Ya(t){return"function"==typeof t}(n);let D;if(b)D=i;else{const dn=i||{};D=dn.index,a=dn.injector,d=dn.projectableNodes,p=dn.environmentInjector||dn.ngModuleRef}const R=b?n:new tl(qn(n)),G=a||this.parentInjector;if(!p&&null==R.ngModule){const Rn=(b?G:this.parentInjector).get(ic,null);Rn&&(p=Rn)}qn(R.componentType??{});const Et=R.create(G,d,null,p);return this.insertImpl(Et.hostView,D,false),Et}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,a){const d=n._lView;if(function Nd(t){return bi(t[Rr])}(d)){const R=this.indexOf(n);if(-1!==R)this.detach(R);else{const G=d[Rr],le=new mA(G,G[ci],G[Rr]);le.detach(le.indexOf(n))}}const b=this._adjustIndex(i),D=this._lContainer;return zC(D,d,b,!a),n.attachToViewContainerRef(),Jd(Jy(D),b,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=_A(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),a=Ef(this._lContainer,i);a&&(Oc(Jy(this._lContainer),i),ma(a[_n],a))}detach(n){const i=this._adjustIndex(n,-1),a=Ef(this._lContainer,i);return a&&null!=Oc(Jy(this._lContainer),i)?new Lh(a):null}_adjustIndex(n,i=0){return n??this.length+i}};function _A(t){return t[8]}function Jy(t){return t[8]||(t[8]=[])}function vA(t,n){let i;const a=n[t.index];return bi(a)?i=a:(i=Cm(a,n,null,t),n[t.index]=i,Oh(n,i)),yA(i,n,t,a),new mA(i,t,n)}let yA=function EA(t,n,i,a){if(t[_i])return;let d;d=8&i.type?yi(a):function eT(t,n){const i=t[nr],a=i.createComment(""),d=Ro(n,t);return tc(i,fh(i,d),a,function Np(t,n){return t.nextSibling(n)}(i,d),!1),a}(n,i),t[_i]=d};class Xy{constructor(n){this.queryList=n,this.matches=null}clone(){return new Xy(this.queryList)}setDirty(){this.queryList.setDirty()}}class e0{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const a=null!==n.contentQueries?n.contentQueries[0]:i.length,d=[];for(let p=0;p<a;p++){const b=i.getByIndex(p);d.push(this.queries[b.indexInDeclarationView].clone())}return new e0(d)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==SA(n,i).matches&&this.queries[i].setDirty()}}class AA{constructor(n,i,a=null){this.predicate=n,this.flags=i,this.read=a}}class t0{constructor(n=[]){this.queries=n}elementStart(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let a=0;a<this.length;a++){const d=null!==i?i.length:0,p=this.getByIndex(a).embeddedTView(n,d);p&&(p.indexInDeclarationView=a,null!==i?i.push(p):i=[p])}return null!==i?new t0(i):null}template(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class n0{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new n0(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==i;)a=a.parent;return i===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const a=this.metadata.predicate;if(Array.isArray(a))for(let d=0;d<a.length;d++){const p=a[d];this.matchTNodeWithReadOption(n,i,rT(i,p)),this.matchTNodeWithReadOption(n,i,Yl(i,n,p,!1,!1))}else a===pv?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Yl(i,n,a,!1,!1))}matchTNodeWithReadOption(n,i,a){if(null!==a){const d=this.metadata.read;if(null!==d)if(d===Qf||d===py||d===pv&&4&i.type)this.addMatch(i.index,-2);else{const p=Yl(i,n,d,!1,!1);null!==p&&this.addMatch(i.index,p)}else this.addMatch(i.index,a)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function rT(t,n){const i=t.localNames;if(null!==i)for(let a=0;a<i.length;a+=2)if(i[a]===n)return i[a+1];return null}function oT(t,n,i,a){return-1===i?function iT(t,n){return 11&t.type?Ph(t,n):4&t.type?hy(t,n):null}(n,t):-2===i?function sT(t,n,i){return i===Qf?Ph(n,t):i===pv?hy(n,t):i===py?vA(n,t):void 0}(t,n,a):Mc(t,t[_n],i,n)}function IA(t,n,i,a){const d=n[ft].queries[a];if(null===d.matches){const p=t.data,b=i.matches,D=[];for(let R=0;R<b.length;R+=2){const G=b[R];D.push(G<0?null:oT(n,p[G],b[R+1],i.metadata.read))}d.matches=D}return d.matches}function r0(t,n,i,a){const d=t.queries.getByIndex(i),p=d.matches;if(null!==p){const b=IA(t,n,d,i);for(let D=0;D<p.length;D+=2){const R=p[D];if(R>0)a.push(b[D/2]);else{const G=p[D+1],le=n[-R];for(let xe=yr;xe<le.length;xe++){const lt=le[xe];lt[ke]===lt[Rr]&&r0(lt[_n],lt,G,a)}if(null!==le[so]){const xe=le[so];for(let lt=0;lt<xe.length;lt++){const Et=xe[lt];r0(Et[_n],Et,G,a)}}}}}return a}function bA(t){const n=qt(),i=qr(),a=St();Mt(a+1);const d=SA(i,a);if(t.dirty&&function qa(t){return 4==(4&t[Xn])}(n)===(2==(2&d.metadata.flags))){if(null===d.matches)t.reset([]);else{const p=d.crossesNgTemplate?r0(i,n,a,[]):IA(i,n,d,a);t.reset(p,Jp),t.notifyOnChanges()}return!0}return!1}function CA(t,n,i,a){const d=qr();if(d.firstCreatePass){const p=Ao();(function DA(t,n,i){null===t.queries&&(t.queries=new t0),t.queries.track(new n0(n,i))})(d,new AA(n,i,a),p.index),function lT(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(d,t),2==(2&i)&&(d.staticContentQueries=!0)}!function wA(t,n,i){const a=new Yy(4==(4&i));(function mt(t,n,i,a){const d=sg(n);d.push(i),t.firstCreatePass&&ag(t).push(a,d.length-1)})(t,n,a,a.destroy),null===n[ft]&&(n[ft]=new e0),n[ft].queries.push(new Xy(a))}(d,qt(),i)}function TA(){return function cT(t,n){return t[ft].queries[n].queryList}(qt(),St())}function SA(t,n){return t.queries.getByIndex(n)}function o0(t){return!!Xr(t)}const ZA=new gn("Application Initializer");let u0=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,a)=>{this.resolve=i,this.reject=a}),this.appInits=cn(ZA,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const d of this.appInits){const p=d();if(Yo(p))i.push(p);else if(Di(p)){const b=new Promise((D,R)=>{p.subscribe({complete:D,error:R})});i.push(b)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{a()}).catch(d=>{this.reject(d)}),0===i.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Pn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),qA=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Pn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const my=new gn("LocaleId",{providedIn:"root",factory:()=>cn(my,bn.Optional|bn.SkipSelf)||function xT(){return typeof $localize<"u"&&$localize.locale||Qm}()}),RT=new gn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let GA=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new _e.X(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Pn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class NT{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let kT=(()=>{class t{compileModuleSync(i){return new Qy(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const a=this.compileModuleSync(i),p=Vl(Xr(i).declarations).reduce((b,D)=>{const R=qn(D);return R&&b.push(new tl(R)),b},[]);return new NT(a,p)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Pn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const YA=new gn(""),JA=new gn("");let f0,rw=(()=>{class t{constructor(i,a,d){this._ngZone=i,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,f0||(function iw(t){f0=t}(d),d.addToWindow(a)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(i)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,a,d){let p=-1;a&&a>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==p),i(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:i,timeoutId:p,updateCb:d})}whenStable(i,a,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,a,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,a,d){return[]}static#e=this.\u0275fac=function(a){return new(a||t)($t(bo),$t(XA),$t(JA))};static#t=this.\u0275prov=Pn({token:t,factory:t.\u0275fac})}return t})(),XA=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,a){this._applications.set(i,a)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,a=!0){return f0?.findTestabilityInTree(this,i,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Pn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),yp=null;const eI=new gn("AllowMultipleToken"),p0=new gn("PlatformDestroyListeners"),g0=new gn("appBootstrapListener");class aw{constructor(n,i){this.name=n,this.token=i}}function rI(t,n,i=[]){const a=`Platform: ${n}`,d=new gn(a);return(p=[])=>{let b=m0();if(!b||b.injector.get(eI,!1)){const D=[...i,...p,{provide:d,useValue:!0}];t?t(D):function cw(t){if(yp&&!yp.get(eI,!1))throw new Ne(400,!1);(function tI(){!function Gl(t){Sa=t}(()=>{throw new Ne(600,!1)})})(),yp=t;const n=t.get(oI);(function nI(t){t.get(oc,null)?.forEach(i=>i())})(t)}(function iI(t=[],n){return cc.create({name:n,providers:[{provide:_a,useValue:"platform"},{provide:p0,useValue:new Set([()=>yp=null])},...t]})}(D,a))}return function uw(t){const n=m0();if(!n)throw new Ne(401,!1);return n}()}}function m0(){return yp?.get(oI)??null}let oI=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,a){const d=function dw(t="zone.js",n){return"noop"===t?new Ty:"zone.js"===t?new bo(n):t}(a?.ngZone,function sI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return d.run(()=>{const p=function EC(t,n,i){return new Wy(t,n,i)}(i.moduleType,this.injector,function dI(t){return[{provide:bo,useFactory:t},{provide:hd,multi:!0,useFactory:()=>{const n=cn(fw,{optional:!0});return()=>n.initialize()}},{provide:uI,useFactory:hw},{provide:xv,useFactory:Rv}]}(()=>d)),b=p.injector.get(yu,null);return d.runOutsideAngular(()=>{const D=d.onError.subscribe({next:R=>{b.handleError(R)}});p.onDestroy(()=>{vy(this._modules,p),D.unsubscribe()})}),function aI(t,n,i){try{const a=i();return Yo(a)?a.catch(d=>{throw n.runOutsideAngular(()=>t.handleError(d)),d}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(b,d,()=>{const D=p.injector.get(u0);return D.runInitializers(),D.donePromise.then(()=>(function yE(t){Bt(t,"Expected localeId to be defined"),"string"==typeof t&&(vE=t.toLowerCase().replace(/_/g,"-"))}(p.injector.get(my,Qm)||Qm),this._moduleDoBootstrap(p),p))})})}bootstrapModule(i,a=[]){const d=cI({},a);return function ow(t,n,i){const a=new Qy(i);return Promise.resolve(a)}(0,0,i).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(i){const a=i.injector.get(Jm);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(d=>a.bootstrap(d));else{if(!i.instance.ngDoBootstrap)throw new Ne(-403,!1);i.instance.ngDoBootstrap(a)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ne(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const i=this._injector.get(p0,null);i&&(i.forEach(a=>a()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)($t(cc))};static#t=this.\u0275prov=Pn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function cI(t,n){return Array.isArray(n)?n.reduce(cI,t):{...t,...n}}let Jm=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=cn(uI),this.zoneIsStable=cn(xv),this.componentTypes=[],this.components=[],this.isStable=cn(GA).hasPendingTasks.pipe((0,ae.w)(i=>i?(0,Ae.of)(!1):this.zoneIsStable),(0,ve.x)(),(0,de.B)()),this._injector=cn(ic)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,a){const d=i instanceof b_;if(!this._injector.get(u0).done)throw!d&&ji(i),new Ne(405,!1);let b;b=d?i:this._injector.get(Yp).resolveComponentFactory(i),this.componentTypes.push(b.componentType);const D=function sw(t){return t.isBoundToModule}(b)?void 0:this._injector.get(bg),G=b.create(cc.NULL,[],a||b.selector,D),le=G.location.nativeElement,xe=G.injector.get(YA,null);return xe?.registerApplication(le),G.onDestroy(()=>{this.detachView(G.hostView),vy(this.components,G),xe?.unregisterApplication(le)}),this._loadComponent(G),G}tick(){if(this._runningTick)throw new Ne(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const a=i;this._views.push(a),a.attachToAppRef(this)}detachView(i){const a=i;vy(this._views,a),a.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const a=this._injector.get(g0,[]);a.push(...this._bootstrapListeners),a.forEach(d=>d(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>vy(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Ne(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Pn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vy(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const uI=new gn("",{providedIn:"root",factory:()=>cn(yu).handleError.bind(void 0)});function hw(){const t=cn(bo),n=cn(yu);return i=>t.runOutsideAngular(()=>n.handleError(i))}let fw=(()=>{class t{constructor(){this.zone=cn(bo),this.applicationRef=cn(Jm)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Pn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gw(){return!1}let mw=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=_w}return t})();function _w(t){return function vw(t,n,i){if(ro(t)&&!i){const a=Oo(t.index,n);return new Lh(a,a)}return 47&t.type?new Lh(n[Y],n):null}(Ao(),qt(),16==(16&t))}class gI{constructor(){}supports(n){return dp(n)}create(n){return new Cw(n)}}const bw=(t,n)=>n;class Cw{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||bw}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,a=this._removalsHead,d=0,p=null;for(;i||a;){const b=!a||i&&i.currentIndex<_I(a,d,p)?i:a,D=_I(b,d,p),R=b.currentIndex;if(b===a)d--,a=a._nextRemoved;else if(i=i._next,null==b.previousIndex)d++;else{p||(p=[]);const G=D-d,le=R-d;if(G!=le){for(let lt=0;lt<G;lt++){const Et=lt<p.length?p[lt]:p[lt]=0,zt=Et+lt;le<=zt&&zt<G&&(p[lt]=Et+1)}p[b.previousIndex]=le-G}}D!==R&&n(b,D,R)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!dp(n))throw new Ne(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let d,p,b,i=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let D=0;D<this.length;D++)p=n[D],b=this._trackByFn(D,p),null!==i&&Object.is(i.trackById,b)?(a&&(i=this._verifyReinsertion(i,p,b,D)),Object.is(i.item,p)||this._addIdentityChange(i,p)):(i=this._mismatch(i,p,b,D),a=!0),i=i._next}else d=0,function Lm(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let a;for(;!(a=i.next()).done;)n(a.value)}}(n,D=>{b=this._trackByFn(d,D),null!==i&&Object.is(i.trackById,b)?(a&&(i=this._verifyReinsertion(i,D,b,d)),Object.is(i.item,D)||this._addIdentityChange(i,D)):(i=this._mismatch(i,D,b,d),a=!0),i=i._next,d++}),this.length=d;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,a,d){let p;return null===n?p=this._itTail:(p=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,p,d)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,d))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,p,d)):n=this._addAfter(new Tw(i,a),p,d),n}_verifyReinsertion(n,i,a,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==p?n=this._reinsertAfter(p,n._prev,d):n.currentIndex!=d&&(n.currentIndex=d,this._addToMoves(n,d)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const d=n._prevRemoved,p=n._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(n,i,a),this._addToMoves(n,a),n}_moveAfter(n,i,a){return this._unlink(n),this._insertAfter(n,i,a),this._addToMoves(n,a),n}_addAfter(n,i,a){return this._insertAfter(n,i,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,a){const d=null===i?this._itHead:i._next;return n._next=d,n._prev=i,null===d?this._itTail=n:d._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new mI),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,a=n._next;return null===i?this._itHead=a:i._next=a,null===a?this._itTail=i:a._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mI),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class Tw{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ww{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===i||i<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const i=n._prevDup,a=n._nextDup;return null===i?this._head=a:i._nextDup=a,null===a?this._tail=i:a._prevDup=i,null===this._head}}class mI{constructor(){this.map=new Map}put(n){const i=n.trackById;let a=this.map.get(i);a||(a=new ww,this.map.set(i,a)),a.add(n)}get(n,i){const d=this.map.get(n);return d?d.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _I(t,n,i){const a=t.previousIndex;if(null===a)return a;let d=0;return i&&a<i.length&&(d=i[a]),a+n+d}class vI{constructor(){}supports(n){return n instanceof Map||gg(n)}create(){return new Dw}}class Dw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||gg(n)))throw new Ne(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,d)=>{if(i&&i.key===d)this._maybeAddToChanges(i,a),this._appendAfter=i,i=i._next;else{const p=this._getOrCreateRecordForKey(d,a);i=this._insertBeforeOrAppend(i,p)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let a=i;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const a=n._prev;return i._next=n,i._prev=a,n._prev=i,a&&(a._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const d=this._records.get(n);this._maybeAddToChanges(d,i);const p=d._prev,b=d._next;return p&&(p._next=b),b&&(b._prev=p),d._next=null,d._prev=null,d}const a=new Sw(n);return this._records.set(n,a),a.currentValue=i,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(a=>i(n[a],a))}}class Sw{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yI(){return new A0([new gI])}let A0=(()=>{class t{static#e=this.\u0275prov=Pn({token:t,providedIn:"root",factory:yI});constructor(i){this.factories=i}static create(i,a){if(null!=a){const d=a.factories.slice();i=i.concat(d)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||yI()),deps:[[t,new Fa,new kc]]}}find(i){const a=this.factories.find(d=>d.supports(i));if(null!=a)return a;throw new Ne(901,!1)}}return t})();function EI(){return new I0([new vI])}let I0=(()=>{class t{static#e=this.\u0275prov=Pn({token:t,providedIn:"root",factory:EI});constructor(i){this.factories=i}static create(i,a){if(a){const d=a.factories.slice();i=i.concat(d)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||EI()),deps:[[t,new Fa,new kc]]}}find(i){const a=this.factories.find(d=>d.supports(i));if(a)return a;throw new Ne(901,!1)}}return t})();const xw=rI(null,"core",[]);let Rw=(()=>{class t{constructor(i){}static#e=this.\u0275fac=function(a){return new(a||t)($t(Jm))};static#t=this.\u0275mod=mo({type:t});static#n=this.\u0275inj=on({})}return t})();function zw(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function Zw(t){const n=qn(t);if(!n)return null;const i=new tl(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},7213:(an,ut,k)=>{"use strict";k.d(ut,{zQ:()=>Qe,ww:()=>dt,rT:()=>Nt,f7:()=>Dn,L6:()=>bt,_Q:()=>Ee,lh:()=>Vt,Qv:()=>ht,nw:()=>wt}),k(6365);var o=k(6814),U=k(5879),Se=k(1920),_e=k(7217),Ae=k(8645),de=k(2096),ae=k(5592),ve=k(2459),q=k(3019),z=k(3093),se=k(4664),be=k(7398),ye=k(4552);class De extends Ae.x{constructor(we=1/0,te=1/0,Ie=ye.l){super(),this._bufferSize=we,this._windowTime=te,this._timestampProvider=Ie,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=te===1/0,this._bufferSize=Math.max(1,we),this._windowTime=Math.max(1,te)}next(we){const{isStopped:te,_buffer:Ie,_infiniteTimeWindow:Pe,_timestampProvider:je,_windowTime:ot}=this;te||(Ie.push(we),!Pe&&Ie.push(je.now()+ot)),this._trimBuffer(),super.next(we)}_subscribe(we){this._throwIfClosed(),this._trimBuffer();const te=this._innerSubscribe(we),{_infiniteTimeWindow:Ie,_buffer:Pe}=this,je=Pe.slice();for(let ot=0;ot<je.length&&!we.closed;ot+=Ie?1:2)we.next(je[ot]);return this._checkFinalizedStatuses(we),te}_trimBuffer(){const{_bufferSize:we,_timestampProvider:te,_buffer:Ie,_infiniteTimeWindow:Pe}=this,je=(Pe?1:2)*we;if(we<1/0&&je<Ie.length&&Ie.splice(0,Ie.length-je),!Pe){const ot=te.now();let vt=0;for(let Bt=1;Bt<Ie.length&&Ie[Bt]<=ot;Bt+=2)vt=Bt;vt&&Ie.splice(0,vt+1)}}}var Re=k(3020);function Ye(Le,we,te){let Ie,Pe=!1;return Le&&"object"==typeof Le?({bufferSize:Ie=1/0,windowTime:we=1/0,refCount:Pe=!1,scheduler:te}=Le):Ie=Le??1/0,(0,Re.B)({connector:()=>new De(Ie,we,te),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Pe})}var We=k(1374),_t=k(4674);function Fe(Le,we){return(0,_t.m)(we)?(0,se.w)(()=>Le,we):(0,se.w)(()=>Le)}var Ne=k(5137),tt=k(2181),Ze=k(7142);const ht=new U.OlP("angularfire2.auth.use-emulator"),bt=new U.OlP("angularfire2.auth.settings"),Ee=new U.OlP("angularfire2.auth.tenant-id"),Nt=new U.OlP("angularfire2.auth.langugage-code"),Vt=new U.OlP("angularfire2.auth.use-device-language"),Dn=new U.OlP("angularfire.auth.persistence"),wt=(Le,we,te,Ie,Pe,je,ot,vt)=>(0,_e.cc)(`${Le.name}.auth`,"AngularFireAuth",Le.name,()=>{const Bt=we.runOutsideAngular(()=>Le.auth());if(te&&Bt.useEmulator(...te),Ie&&(Bt.tenantId=Ie),Bt.languageCode=Pe,je&&Bt.useDeviceLanguage(),ot)for(const[Zt,Wt]of Object.entries(ot))Bt.settings[Zt]=Wt;return vt&&Bt.setPersistence(vt),Bt},[te,Ie,Pe,je,ot,vt]);let Qe=(()=>{class Le{authState;idToken;user;idTokenResult;credential;constructor(te,Ie,Pe,je,ot,vt,Bt,Zt,Wt,Cn,Kn,Pn){const On=new Ae.x,on=(0,de.of)(void 0).pipe((0,z.Q)(ot.outsideAngular),(0,se.w)(()=>je.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,6365)))),(0,be.U)(()=>(0,_e.on)(te,je,Ie)),(0,be.U)(Nn=>wt(Nn,je,vt,Zt,Wt,Cn,Bt,Kn)),Ye({bufferSize:1,refCount:!1}));if((0,o.PM)(Pe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,de.of)(null);else{on.pipe((0,We.P)()).subscribe();const Nn=on.pipe((0,se.w)(Kt=>Kt.getRedirectResult().then(Hr=>Hr,()=>null)),Se.iC,Ye({bufferSize:1,refCount:!1})),mr=on.pipe((0,se.w)(Kt=>new ae.y(Hr=>({unsubscribe:je.runOutsideAngular(()=>Kt.onAuthStateChanged(xn=>Hr.next(xn),xn=>Hr.error(xn),()=>Hr.complete()))})))),Yn=on.pipe((0,se.w)(Kt=>new ae.y(Hr=>({unsubscribe:je.runOutsideAngular(()=>Kt.onIdTokenChanged(xn=>Hr.next(xn),xn=>Hr.error(xn),()=>Hr.complete()))}))));this.authState=Nn.pipe(Fe(mr),(0,Ne.R)(ot.outsideAngular),(0,z.Q)(ot.insideAngular)),this.user=Nn.pipe(Fe(Yn),(0,Ne.R)(ot.outsideAngular),(0,z.Q)(ot.insideAngular)),this.idToken=this.user.pipe((0,se.w)(Kt=>Kt?(0,ve.D)(Kt.getIdToken()):(0,de.of)(null))),this.idTokenResult=this.user.pipe((0,se.w)(Kt=>Kt?(0,ve.D)(Kt.getIdTokenResult()):(0,de.of)(null))),this.credential=(0,q.T)(Nn,On,this.authState.pipe((0,tt.h)(Kt=>!Kt))).pipe((0,be.U)(Kt=>Kt?.user?Kt:null),(0,Ne.R)(ot.outsideAngular),(0,z.Q)(ot.insideAngular))}return(0,_e.pX)(this,on,je,{spy:{apply:(Nn,mr,Yn)=>{(Nn.startsWith("signIn")||Nn.startsWith("createUser"))&&Yn.then(Kt=>On.next(Kt))}}})}static \u0275fac=function(Ie){return new(Ie||Le)(U.LFG(_e.Dh),U.LFG(_e.xv,8),U.LFG(U.Lbi),U.LFG(U.R0b),U.LFG(Se.HU),U.LFG(ht,8),U.LFG(bt,8),U.LFG(Ee,8),U.LFG(Nt,8),U.LFG(Vt,8),U.LFG(Dn,8),U.LFG(Se.Rf,8))};static \u0275prov=U.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"any"})}return Le})(),dt=(()=>{class Le{constructor(){Ze.Z.registerVersion("angularfire",Se.q4.full,"auth-compat")}static \u0275fac=function(Ie){return new(Ie||Le)};static \u0275mod=U.oAB({type:Le});static \u0275inj=U.cJS({providers:[Qe]})}return Le})()},7104:(an,ut,k)=>{"use strict";k.d(ut,{ST:()=>ii,yb:()=>ct});var f=k(6814),o=k(5879),U=k(1920),Se=k(7217),_e=k(7213),Ae=k(6321),de=k(5592),ae=k(2459),ve=k(2096),q=k(7921),z=k(9360),se=k(8251);function be(){return(0,z.e)((Dt,ue)=>{let Be,xt=!1;Dt.subscribe((0,se.x)(ue,en=>{const Hn=Be;Be=en,xt&&ue.next([Hn,en]),xt=!0}))})}var ye=k(7398),De=k(6699),Re=k(3997),Ye=k(2181),_t=(k(6365),k(3106)),Fe=k(5588),Ne=k(9058),tt=k(4537);function ht(Dt,ue){if(void 0===ue)return{merge:!1};if(void 0!==ue.mergeFields&&void 0!==ue.merge)throw new Fe.WA("invalid-argument",`Invalid options passed to function ${Dt}(): You cannot specify both "merge" and "mergeFields".`);return ue}function bt(){if(typeof Uint8Array>"u")throw new Fe.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Ee(){if(!(0,Fe.Me)())throw new Fe.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Nt{constructor(ue){this._delegate=ue}static fromBase64String(ue){return Ee(),new Nt(Fe.Jj.fromBase64String(ue))}static fromUint8Array(ue){return bt(),new Nt(Fe.Jj.fromUint8Array(ue))}toBase64(){return Ee(),this._delegate.toBase64()}toUint8Array(){return bt(),this._delegate.toUint8Array()}isEqual(ue){return this._delegate.isEqual(ue._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Vt(Dt){return function Dn(Dt,ue){if("object"!=typeof Dt||null===Dt)return!1;const Be=Dt;for(const xt of ue)if(xt in Be&&"function"==typeof Be[xt])return!0;return!1}(Dt,["next","error","complete"])}class wt{enableIndexedDbPersistence(ue,Be){return(0,Fe.ST)(ue._delegate,{forceOwnership:Be})}enableMultiTabIndexedDbPersistence(ue){return(0,Fe.fH)(ue._delegate)}clearIndexedDbPersistence(ue){return(0,Fe.Fc)(ue._delegate)}}class Qe{constructor(ue,Be,xt){this._delegate=Be,this._persistenceProvider=xt,this.INTERNAL={delete:()=>this.terminate()},ue instanceof Fe.l7||(this._appCompat=ue)}get _databaseId(){return this._delegate._databaseId}settings(ue){const Be=this._delegate._getSettings();!ue.merge&&Be.host!==ue.host&&(0,Fe.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),ue.merge&&delete(ue=Object.assign(Object.assign({},Be),ue)).merge,this._delegate._setSettings(ue)}useEmulator(ue,Be,xt={}){(0,Fe.at)(this._delegate,ue,Be,xt)}enableNetwork(){return(0,Fe.Ix)(this._delegate)}disableNetwork(){return(0,Fe.TF)(this._delegate)}enablePersistence(ue){let Be=!1,xt=!1;return ue&&(Be=!!ue.synchronizeTabs,xt=!!ue.experimentalForceOwningTab,(0,Fe.Wi)("synchronizeTabs",Be,"experimentalForceOwningTab",xt)),Be?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,xt)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Fe.Mx)(this._delegate)}onSnapshotsInSync(ue){return(0,Fe.sc)(this._delegate,ue)}get app(){if(!this._appCompat)throw new Fe.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(ue){try{return new Pn(this,(0,Fe.hJ)(this._delegate,ue))}catch(Be){throw je(Be,"collection()","Firestore.collection()")}}doc(ue){try{return new Pe(this,(0,Fe.JU)(this._delegate,ue))}catch(Be){throw je(Be,"doc()","Firestore.doc()")}}collectionGroup(ue){try{return new Wt(this,(0,Fe.B$)(this._delegate,ue))}catch(Be){throw je(Be,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(ue){return(0,Fe.i3)(this._delegate,Be=>ue(new we(this,Be)))}batch(){return(0,Fe.qY)(this._delegate),new te(new Fe.PU(this._delegate,ue=>(0,Fe.GL)(this._delegate,ue)))}loadBundle(ue){return(0,Fe.Pb)(this._delegate,ue)}namedQuery(ue){return(0,Fe.L$)(this._delegate,ue).then(Be=>Be?new Wt(this,Be):null)}}class dt extends Fe.u7{constructor(ue){super(),this.firestore=ue}convertBytes(ue){return new Nt(new Fe.Jj(ue))}convertReference(ue){const Be=this.convertDocumentKey(ue,this.firestore._databaseId);return Pe.forKey(Be,this.firestore,null)}}class we{constructor(ue,Be){this._firestore=ue,this._delegate=Be,this._userDataWriter=new dt(ue)}get(ue){const Be=On(ue);return this._delegate.get(Be).then(xt=>new Bt(this._firestore,new Fe.xU(this._firestore._delegate,this._userDataWriter,xt._key,xt._document,xt.metadata,Be.converter)))}set(ue,Be,xt){const en=On(ue);return xt?(ht("Transaction.set",xt),this._delegate.set(en,Be,xt)):this._delegate.set(en,Be),this}update(ue,Be,xt,...en){const Hn=On(ue);return 2===arguments.length?this._delegate.update(Hn,Be):this._delegate.update(Hn,Be,xt,...en),this}delete(ue){const Be=On(ue);return this._delegate.delete(Be),this}}class te{constructor(ue){this._delegate=ue}set(ue,Be,xt){const en=On(ue);return xt?(ht("WriteBatch.set",xt),this._delegate.set(en,Be,xt)):this._delegate.set(en,Be),this}update(ue,Be,xt,...en){const Hn=On(ue);return 2===arguments.length?this._delegate.update(Hn,Be):this._delegate.update(Hn,Be,xt,...en),this}delete(ue){const Be=On(ue);return this._delegate.delete(Be),this}commit(){return this._delegate.commit()}}class Ie{constructor(ue,Be,xt){this._firestore=ue,this._userDataWriter=Be,this._delegate=xt}fromFirestore(ue,Be){const xt=new Fe.$q(this._firestore._delegate,this._userDataWriter,ue._key,ue._document,ue.metadata,null);return this._delegate.fromFirestore(new Zt(this._firestore,xt),Be??{})}toFirestore(ue,Be){return Be?this._delegate.toFirestore(ue,Be):this._delegate.toFirestore(ue)}static getInstance(ue,Be){const xt=Ie.INSTANCES;let en=xt.get(ue);en||(en=new WeakMap,xt.set(ue,en));let Hn=en.get(Be);return Hn||(Hn=new Ie(ue,new dt(ue),Be),en.set(Be,Hn)),Hn}}Ie.INSTANCES=new WeakMap;class Pe{constructor(ue,Be){this.firestore=ue,this._delegate=Be,this._userDataWriter=new dt(ue)}static forPath(ue,Be,xt){if(ue.length%2!=0)throw new Fe.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${ue.canonicalString()} has ${ue.length}`);return new Pe(Be,new Fe.my(Be._delegate,xt,new Fe.Ky(ue)))}static forKey(ue,Be,xt){return new Pe(Be,new Fe.my(Be._delegate,xt,ue))}get id(){return this._delegate.id}get parent(){return new Pn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(ue){try{return new Pn(this.firestore,(0,Fe.hJ)(this._delegate,ue))}catch(Be){throw je(Be,"collection()","DocumentReference.collection()")}}isEqual(ue){return(ue=(0,Ne.m9)(ue))instanceof Fe.my&&(0,Fe.Eo)(this._delegate,ue)}set(ue,Be){Be=ht("DocumentReference.set",Be);try{return Be?(0,Fe.pl)(this._delegate,ue,Be):(0,Fe.pl)(this._delegate,ue)}catch(xt){throw je(xt,"setDoc()","DocumentReference.set()")}}update(ue,Be,...xt){try{return 1===arguments.length?(0,Fe.r7)(this._delegate,ue):(0,Fe.r7)(this._delegate,ue,Be,...xt)}catch(en){throw je(en,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Fe.oe)(this._delegate)}onSnapshot(...ue){const Be=ot(ue),xt=vt(ue,en=>new Bt(this.firestore,new Fe.xU(this.firestore._delegate,this._userDataWriter,en._key,en._document,en.metadata,this._delegate.converter)));return(0,Fe.cf)(this._delegate,Be,xt)}get(ue){let Be;return Be="cache"===ue?.source?(0,Fe.kl)(this._delegate):"server"===ue?.source?(0,Fe.Xk)(this._delegate):(0,Fe.QT)(this._delegate),Be.then(xt=>new Bt(this.firestore,new Fe.xU(this.firestore._delegate,this._userDataWriter,xt._key,xt._document,xt.metadata,this._delegate.converter)))}withConverter(ue){return new Pe(this.firestore,this._delegate.withConverter(ue?Ie.getInstance(this.firestore,ue):null))}}function je(Dt,ue,Be){return Dt.message=Dt.message.replace(ue,Be),Dt}function ot(Dt){for(const ue of Dt)if("object"==typeof ue&&!Vt(ue))return ue;return{}}function vt(Dt,ue){var Be,xt;let en;return en=Vt(Dt[0])?Dt[0]:Vt(Dt[1])?Dt[1]:"function"==typeof Dt[0]?{next:Dt[0],error:Dt[1],complete:Dt[2]}:{next:Dt[1],error:Dt[2],complete:Dt[3]},{next:Hn=>{en.next&&en.next(ue(Hn))},error:null===(Be=en.error)||void 0===Be?void 0:Be.bind(en),complete:null===(xt=en.complete)||void 0===xt?void 0:xt.bind(en)}}class Bt{constructor(ue,Be){this._firestore=ue,this._delegate=Be}get ref(){return new Pe(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(ue){return this._delegate.data(ue)}get(ue,Be){return this._delegate.get(ue,Be)}isEqual(ue){return(0,Fe.qK)(this._delegate,ue._delegate)}}class Zt extends Bt{data(ue){const Be=this._delegate.data(ue);return this._delegate._converter||(0,Fe.K9)(void 0!==Be,"Document in a QueryDocumentSnapshot should exist"),Be}}class Wt{constructor(ue,Be){this.firestore=ue,this._delegate=Be,this._userDataWriter=new dt(ue)}where(ue,Be,xt){try{return new Wt(this.firestore,(0,Fe.IO)(this._delegate,(0,Fe.ar)(ue,Be,xt)))}catch(en){throw je(en,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(ue,Be){try{return new Wt(this.firestore,(0,Fe.IO)(this._delegate,(0,Fe.Xo)(ue,Be)))}catch(xt){throw je(xt,/(orderBy|where)\(\)/,"Query.$1()")}}limit(ue){try{return new Wt(this.firestore,(0,Fe.IO)(this._delegate,(0,Fe.b9)(ue)))}catch(Be){throw je(Be,"limit()","Query.limit()")}}limitToLast(ue){try{return new Wt(this.firestore,(0,Fe.IO)(this._delegate,(0,Fe.vh)(ue)))}catch(Be){throw je(Be,"limitToLast()","Query.limitToLast()")}}startAt(...ue){try{return new Wt(this.firestore,(0,Fe.IO)(this._delegate,(0,Fe.e0)(...ue)))}catch(Be){throw je(Be,"startAt()","Query.startAt()")}}startAfter(...ue){try{return new Wt(this.firestore,(0,Fe.IO)(this._delegate,(0,Fe.TQ)(...ue)))}catch(Be){throw je(Be,"startAfter()","Query.startAfter()")}}endBefore(...ue){try{return new Wt(this.firestore,(0,Fe.IO)(this._delegate,(0,Fe.Lx)(...ue)))}catch(Be){throw je(Be,"endBefore()","Query.endBefore()")}}endAt(...ue){try{return new Wt(this.firestore,(0,Fe.IO)(this._delegate,(0,Fe.Wu)(...ue)))}catch(Be){throw je(Be,"endAt()","Query.endAt()")}}isEqual(ue){return(0,Fe.iE)(this._delegate,ue._delegate)}get(ue){let Be;return Be="cache"===ue?.source?(0,Fe.UQ)(this._delegate):"server"===ue?.source?(0,Fe.zN)(this._delegate):(0,Fe.PL)(this._delegate),Be.then(xt=>new Kn(this.firestore,new Fe.W(this.firestore._delegate,this._userDataWriter,this._delegate,xt._snapshot)))}onSnapshot(...ue){const Be=ot(ue),xt=vt(ue,en=>new Kn(this.firestore,new Fe.W(this.firestore._delegate,this._userDataWriter,this._delegate,en._snapshot)));return(0,Fe.cf)(this._delegate,Be,xt)}withConverter(ue){return new Wt(this.firestore,this._delegate.withConverter(ue?Ie.getInstance(this.firestore,ue):null))}}class Cn{constructor(ue,Be){this._firestore=ue,this._delegate=Be}get type(){return this._delegate.type}get doc(){return new Zt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Kn{constructor(ue,Be){this._firestore=ue,this._delegate=Be}get query(){return new Wt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(ue=>new Zt(this._firestore,ue))}docChanges(ue){return this._delegate.docChanges(ue).map(Be=>new Cn(this._firestore,Be))}forEach(ue,Be){this._delegate.forEach(xt=>{ue.call(Be,new Zt(this._firestore,xt))})}isEqual(ue){return(0,Fe.qK)(this._delegate,ue._delegate)}}class Pn extends Wt{constructor(ue,Be){super(ue,Be),this.firestore=ue,this._delegate=Be}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const ue=this._delegate.parent;return ue?new Pe(this.firestore,ue):null}doc(ue){try{return new Pe(this.firestore,void 0===ue?(0,Fe.JU)(this._delegate):(0,Fe.JU)(this._delegate,ue))}catch(Be){throw je(Be,"doc()","CollectionReference.doc()")}}add(ue){return(0,Fe.ET)(this._delegate,ue).then(Be=>new Pe(this.firestore,Be))}isEqual(ue){return(0,Fe.Eo)(this._delegate,ue._delegate)}withConverter(ue){return new Pn(this.firestore,this._delegate.withConverter(ue?Ie.getInstance(this.firestore,ue):null))}}function On(Dt){return(0,Fe.Cf)(Dt,Fe.my)}class on{constructor(...ue){this._delegate=new Fe.Lz(...ue)}static documentId(){return new on(Fe.Xb.keyField().canonicalString())}isEqual(ue){return(ue=(0,Ne.m9)(ue))instanceof Fe.Lz&&this._delegate._internalPath.isEqual(ue._internalPath)}}class Nn{constructor(ue){this._delegate=ue}static serverTimestamp(){const ue=(0,Fe.Bt)();return ue._methodName="FieldValue.serverTimestamp",new Nn(ue)}static delete(){const ue=(0,Fe.AK)();return ue._methodName="FieldValue.delete",new Nn(ue)}static arrayUnion(...ue){const Be=(0,Fe.vr)(...ue);return Be._methodName="FieldValue.arrayUnion",new Nn(Be)}static arrayRemove(...ue){const Be=(0,Fe.Ab)(...ue);return Be._methodName="FieldValue.arrayRemove",new Nn(Be)}static increment(ue){const Be=(0,Fe.nP)(ue);return Be._methodName="FieldValue.increment",new Nn(Be)}isEqual(ue){return this._delegate.isEqual(ue._delegate)}}const mr={Firestore:Qe,GeoPoint:Fe.F8,Timestamp:Fe.EK,Blob:Nt,Transaction:we,WriteBatch:te,DocumentReference:Pe,DocumentSnapshot:Bt,Query:Wt,QueryDocumentSnapshot:Zt,QuerySnapshot:Kn,CollectionReference:Pn,FieldPath:on,FieldValue:Nn,setLogLevel:function Le(Dt){(0,Fe.Ub)(Dt)},CACHE_SIZE_UNLIMITED:Fe.IX};!function Kt(Dt){(function Yn(Dt,ue){Dt.INTERNAL.registerComponent(new tt.wA("firestore-compat",Be=>{const xt=Be.getProvider("app-compat").getImmediate(),en=Be.getProvider("firestore").getImmediate();return ue(xt,en)},"PUBLIC").setServiceProps(Object.assign({},mr)))})(Dt,(ue,Be)=>new Qe(ue,Be,new wt)),Dt.registerVersion("@firebase/firestore-compat","0.3.32")}(_t.Z);var Hr=k(7142);function Pr(Dt,ue){return function xn(Dt,ue=Ae.z){return new de.y(Be=>{let xt;return null!=ue?ue.schedule(()=>{xt=Dt.onSnapshot({includeMetadataChanges:!0},Be)}):xt=Dt.onSnapshot({includeMetadataChanges:!0},Be),()=>{xt?.()}})}(Dt,ue)}function Yt(Dt,ue){return Pr(Dt,ue).pipe((0,ye.U)(Be=>({payload:Be,type:"query"})))}class bn{ref;afs;constructor(ue,Be){this.ref=ue,this.afs=Be}set(ue,Be){return this.ref.set(ue,Be)}update(ue){return this.ref.update(ue)}delete(){return this.ref.delete()}collection(ue,Be){const xt=this.ref.collection(ue),{ref:en,query:Hn}=Dr(xt,Be);return new Yr(en,Hn,this.afs)}snapshotChanges(){return function ir(Dt,ue){return Pr(Dt,ue).pipe((0,q.O)(void 0),be(),(0,ye.U)(Be=>{const[xt,en]=Be;return en.exists?xt?.exists?{payload:en,type:"modified"}:{payload:en,type:"added"}:{payload:en,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(U.iC)}valueChanges(ue={}){return this.snapshotChanges().pipe((0,ye.U)(({payload:Be})=>ue.idField?{...Be.data(),[ue.idField]:Be.id}:Be.data()))}get(ue){return(0,ae.D)(this.ref.get(ue)).pipe(U.iC)}}function Un(Dt,ue){return Yt(Dt,ue).pipe((0,q.O)(void 0),be(),(0,ye.U)(Be=>{const[xt,en]=Be,Hn=en.payload.docChanges(),hi=Hn.map(Tr=>({type:Tr.type,payload:Tr}));return xt&&JSON.stringify(xt.payload.metadata)!==JSON.stringify(en.payload.metadata)&&en.payload.docs.forEach((Tr,Ge)=>{const ce=Hn.find(H=>H.doc.ref.isEqual(Tr.ref)),Q=xt?.payload.docs.find(H=>H.ref.isEqual(Tr.ref));ce&&JSON.stringify(ce.doc.metadata)===JSON.stringify(Tr.metadata)||!ce&&Q&&JSON.stringify(Q.metadata)===JSON.stringify(Tr.metadata)||hi.push({type:"modified",payload:{oldIndex:Ge,newIndex:Ge,type:"modified",doc:Tr}})}),hi}))}function jn(Dt,ue,Be){return Un(Dt,Be).pipe((0,De.R)((xt,en)=>function Ar(Dt,ue,Be){return ue.forEach(xt=>{Be.indexOf(xt.type)>-1&&(Dt=function Zn(Dt,ue){switch(ue.type){case"added":if(!Dt[ue.newIndex]||!Dt[ue.newIndex].doc.ref.isEqual(ue.doc.ref))return Cr(Dt,ue.newIndex,0,ue);break;case"modified":if(null==Dt[ue.oldIndex]||Dt[ue.oldIndex].doc.ref.isEqual(ue.doc.ref)){if(ue.oldIndex!==ue.newIndex){const Be=Dt.slice();return Be.splice(ue.oldIndex,1),Be.splice(ue.newIndex,0,ue),Be}return Cr(Dt,ue.newIndex,1,ue)}break;case"removed":if(Dt[ue.oldIndex]&&Dt[ue.oldIndex].doc.ref.isEqual(ue.doc.ref))return Cr(Dt,ue.oldIndex,1)}return Dt}(Dt,xt))}),Dt}(xt,en.map(Hn=>Hn.payload),ue),[]),(0,Re.x)(),(0,ye.U)(xt=>xt.map(en=>({type:en.type,payload:en}))))}function Cr(Dt,ue,Be,...xt){const en=Dt.slice();return en.splice(ue,Be,...xt),en}function Wn(Dt){return(!Dt||0===Dt.length)&&(Dt=["added","removed","modified"]),Dt}class Yr{ref;query;afs;constructor(ue,Be,xt){this.ref=ue,this.query=Be,this.afs=xt}stateChanges(ue){let Be=Un(this.query,this.afs.schedulers.outsideAngular);return ue&&ue.length>0&&(Be=Be.pipe((0,ye.U)(xt=>xt.filter(en=>ue.indexOf(en.type)>-1)))),Be.pipe((0,q.O)(void 0),be(),(0,Ye.h)(([xt,en])=>en.length>0||!xt),(0,ye.U)(([,xt])=>xt),U.iC)}auditTrail(ue){return this.stateChanges(ue).pipe((0,De.R)((Be,xt)=>[...Be,...xt],[]))}snapshotChanges(ue){const Be=Wn(ue);return jn(this.query,Be,this.afs.schedulers.outsideAngular).pipe(U.iC)}valueChanges(ue={}){return Yt(this.query,this.afs.schedulers.outsideAngular).pipe((0,ye.U)(Be=>Be.payload.docs.map(xt=>ue.idField?{...xt.data(),[ue.idField]:xt.id}:xt.data())),U.iC)}get(ue){return(0,ae.D)(this.query.get(ue)).pipe(U.iC)}add(ue){return this.ref.add(ue)}doc(ue){return new bn(this.ref.doc(ue),this.afs)}}class Ei{query;afs;constructor(ue,Be){this.query=ue,this.afs=Be}stateChanges(ue){return ue&&0!==ue.length?Un(this.query,this.afs.schedulers.outsideAngular).pipe((0,ye.U)(Be=>Be.filter(xt=>ue.indexOf(xt.type)>-1)),(0,Ye.h)(Be=>Be.length>0),U.iC):Un(this.query,this.afs.schedulers.outsideAngular).pipe(U.iC)}auditTrail(ue){return this.stateChanges(ue).pipe((0,De.R)((Be,xt)=>[...Be,...xt],[]))}snapshotChanges(ue){const Be=Wn(ue);return jn(this.query,Be,this.afs.schedulers.outsideAngular).pipe(U.iC)}valueChanges(ue={}){return Yt(this.query,this.afs.schedulers.outsideAngular).pipe((0,ye.U)(xt=>xt.payload.docs.map(en=>ue.idField?{[ue.idField]:en.id,...en.data()}:en.data())),U.iC)}get(ue){return(0,ae.D)(this.query.get(ue)).pipe(U.iC)}}const gn=new o.OlP("angularfire2.enableFirestorePersistence"),Ur=new o.OlP("angularfire2.firestore.persistenceSettings"),sr=new o.OlP("angularfire2.firestore.settings"),xr=new o.OlP("angularfire2.firestore.use-emulator");function Dr(Dt,ue=(Be=>Be)){return{query:ue(Dt),ref:Dt}}let ii=(()=>{class Dt{schedulers;firestore;persistenceEnabled$;constructor(Be,xt,en,Hn,hi,Tr,Ge,ce,Q,H,B,Te,Xe,kt,$t,mn,cn){this.schedulers=Ge;const fn=(0,Se.on)(Be,Tr,xt),Jn=Q;H&&(0,_e.nw)(fn,Tr,B,Xe,kt,$t,Te,mn),[this.firestore,this.persistenceEnabled$]=(0,Se.cc)(`${fn.name}.firestore`,"AngularFirestore",fn.name,()=>{const Je=Tr.runOutsideAngular(()=>fn.firestore());if(Hn&&Je.settings(Hn),Jn&&Je.useEmulator(...Jn),en&&!(0,f.PM)(hi)){const He=()=>{try{return(0,ae.D)(Je.enablePersistence(ce||void 0).then(()=>!0,()=>!1))}catch(nt){return typeof console<"u"&&console.warn(nt),(0,ve.of)(!1)}};return[Je,Tr.runOutsideAngular(He)]}return[Je,(0,ve.of)(!1)]},[Hn,Jn,en])}collection(Be,xt){let en;en="string"==typeof Be?this.firestore.collection(Be):Be;const{ref:Hn,query:hi}=Dr(en,xt),Tr=this.schedulers.ngZone.run(()=>Hn);return new Yr(Tr,hi,this)}collectionGroup(Be,xt){const en=xt||(hi=>hi),Hn=this.firestore.collectionGroup(Be);return new Ei(en(Hn),this)}doc(Be){let xt;xt="string"==typeof Be?this.firestore.doc(Be):Be;const en=this.schedulers.ngZone.run(()=>xt);return new bn(en,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(xt){return new(xt||Dt)(o.LFG(Se.Dh),o.LFG(Se.xv,8),o.LFG(gn,8),o.LFG(sr,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(U.HU),o.LFG(Ur,8),o.LFG(xr,8),o.LFG(_e.zQ,8),o.LFG(_e.Qv,8),o.LFG(_e.L6,8),o.LFG(_e._Q,8),o.LFG(_e.rT,8),o.LFG(_e.lh,8),o.LFG(_e.f7,8),o.LFG(U.Rf,8))};static \u0275prov=o.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"any"})}return Dt})(),ct=(()=>{class Dt{constructor(){Hr.Z.registerVersion("angularfire",U.q4.full,"fst-compat")}static enablePersistence(Be){return{ngModule:Dt,providers:[{provide:gn,useValue:!0},{provide:Ur,useValue:Be}]}}static \u0275fac=function(xt){return new(xt||Dt)};static \u0275mod=o.oAB({type:Dt});static \u0275inj=o.cJS({providers:[ii]})}return Dt})()},243:(an,ut,k)=>{"use strict";k.d(ut,{Q1:()=>Qe,TE:()=>we});var f=k(1920),o=k(5592),U=k(2096),Se=k(2459),_e=k(3620),Ae=k(7398),de=k(4664),ae=k(5879),ve=k(7217),q=k(3106),z=k(8153),se=k(4537);class be{constructor(Ie,Pe,je){this._delegate=Ie,this.task=Pe,this.ref=je}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class ye{constructor(Ie,Pe){this._delegate=Ie,this._ref=Pe,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new be(this._delegate.snapshot,this,this._ref)}then(Ie,Pe){return this._delegate.then(je=>{if(Ie)return Ie(new be(je,this,this._ref))},Pe)}on(Ie,Pe,je,ot){let vt;return Pe&&(vt="function"==typeof Pe?Bt=>Pe(new be(Bt,this,this._ref)):{next:Pe.next?Bt=>Pe.next(new be(Bt,this,this._ref)):void 0,complete:Pe.complete||void 0,error:Pe.error||void 0}),this._delegate.on(Ie,vt,je||void 0,ot||void 0)}}class De{constructor(Ie,Pe){this._delegate=Ie,this._service=Pe}get prefixes(){return this._delegate.prefixes.map(Ie=>new Re(Ie,this._service))}get items(){return this._delegate.items.map(Ie=>new Re(Ie,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Re{constructor(Ie,Pe){this._delegate=Ie,this.storage=Pe}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(Ie){const Pe=(0,z.g6)(this._delegate,Ie);return new Re(Pe,this.storage)}get root(){return new Re(this._delegate.root,this.storage)}get parent(){const Ie=this._delegate.parent;return null==Ie?null:new Re(Ie,this.storage)}put(Ie,Pe){return this._throwIfRoot("put"),new ye((0,z.B0)(this._delegate,Ie,Pe),this)}putString(Ie,Pe=z.bm.RAW,je){this._throwIfRoot("putString");const ot=(0,z.qm)(Pe,Ie),vt=Object.assign({},je);return null==vt.contentType&&null!=ot.contentType&&(vt.contentType=ot.contentType),new ye(new z.IX(this._delegate,new z.UJ(ot.data,!0),vt),this)}listAll(){return(0,z.aF)(this._delegate).then(Ie=>new De(Ie,this.storage))}list(Ie){return(0,z.pb)(this._delegate,Ie||void 0).then(Pe=>new De(Pe,this.storage))}getMetadata(){return(0,z.sd)(this._delegate)}updateMetadata(Ie){return(0,z.Ym)(this._delegate,Ie)}getDownloadURL(){return(0,z.Jt)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,z.oq)(this._delegate)}_throwIfRoot(Ie){if(""===this._delegate._location.path)throw(0,z.y4)(Ie)}}class Ye{constructor(Ie,Pe){this.app=Ie,this._delegate=Pe}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(Ie){if(We(Ie))throw(0,z.gH)("ref() expected a child path but got a URL, use refFromURL instead.");return new Re((0,z.iH)(this._delegate,Ie),this)}refFromURL(Ie){if(!We(Ie))throw(0,z.gH)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{z.gE.makeFromUrl(Ie,this._delegate.host)}catch{throw(0,z.gH)("refFromUrl() expected a valid full URL but got an invalid one.")}return new Re((0,z.iH)(this._delegate,Ie),this)}setMaxUploadRetryTime(Ie){this._delegate.maxUploadRetryTime=Ie}setMaxOperationRetryTime(Ie){this._delegate.maxOperationRetryTime=Ie}useEmulator(Ie,Pe,je={}){(0,z.a1)(this._delegate,Ie,Pe,je)}}function We(te){return/^[A-Za-z]+:\/\//.test(te)}function tt(te,{instanceIdentifier:Ie}){const Pe=te.getProvider("app-compat").getImmediate(),je=te.getProvider("storage").getImmediate({identifier:Ie});return new Ye(Pe,je)}!function Ze(te){const Ie={TaskState:z.$Y,TaskEvent:z.FN,StringFormat:z.bm,Storage:Ye,Reference:Re};te.INTERNAL.registerComponent(new se.wA("storage-compat",tt,"PUBLIC").setServiceProps(Ie).setMultipleInstances(!0)),te.registerVersion("@firebase/storage-compat","0.3.8")}(q.Z);var qe=k(7142);function bt(te){const Ie=function ht(te){return new o.y(Ie=>{const Pe=Bt=>Ie.next(Bt);Pe(te.snapshot);const vt=te.on("state_changed",Pe);return te.then(Bt=>{Pe(Bt),Ie.complete()},Bt=>{Pe(te.snapshot),(Bt=>{Ie.error(Bt)})(Bt)}),function(){vt()}}).pipe((0,_e.b)(0))}(te);return{task:te,then:te.then.bind(te),catch:te.catch.bind(te),pause:te.pause.bind(te),cancel:te.cancel.bind(te),resume:te.resume.bind(te),snapshotChanges:()=>Ie,percentageChanges:()=>Ie.pipe((0,Ae.U)(Pe=>Pe.bytesTransferred/Pe.totalBytes*100))}}function Ee(te){return{getDownloadURL:()=>(0,U.of)(void 0).pipe(f.fc,(0,de.w)(()=>te.getDownloadURL()),f.iC),getMetadata:()=>(0,U.of)(void 0).pipe(f.fc,(0,de.w)(()=>te.getMetadata()),f.iC),delete:()=>(0,Se.D)(te.delete()),child:Ie=>Ee(te.child(Ie)),updateMetadata:Ie=>(0,Se.D)(te.updateMetadata(Ie)),put:(Ie,Pe)=>bt(te.put(Ie,Pe)),putString:(Ie,Pe,je)=>bt(te.putString(Ie,Pe,je)),list:Ie=>(0,Se.D)(te.list(Ie)),listAll:()=>(0,Se.D)(te.listAll())}}const Nt=new ae.OlP("angularfire2.storageBucket"),Vt=new ae.OlP("angularfire2.storage.maxUploadRetryTime"),Dn=new ae.OlP("angularfire2.storage.maxOperationRetryTime"),wt=new ae.OlP("angularfire2.storage.use-emulator");let Qe=(()=>{class te{storage;constructor(Pe,je,ot,vt,Bt,Zt,Wt,Cn,Kn,Pn){const On=(0,ve.on)(Pe,Bt,je);this.storage=(0,ve.cc)(`${On.name}.storage.${ot}`,"AngularFireStorage",On.name,()=>{const on=Bt.runOutsideAngular(()=>On.storage(ot||void 0)),Nn=Kn;return Nn&&on.useEmulator(...Nn),Wt&&on.setMaxUploadRetryTime(Wt),Cn&&on.setMaxOperationRetryTime(Cn),on},[Wt,Cn])}ref(Pe){return Ee(this.storage.ref(Pe))}refFromURL(Pe){return Ee(this.storage.refFromURL(Pe))}upload(Pe,je,ot){return Ee(this.storage.ref(Pe)).put(je,ot)}static \u0275fac=function(je){return new(je||te)(ae.LFG(ve.Dh),ae.LFG(ve.xv,8),ae.LFG(Nt,8),ae.LFG(ae.Lbi),ae.LFG(ae.R0b),ae.LFG(f.HU),ae.LFG(Vt,8),ae.LFG(Dn,8),ae.LFG(wt,8),ae.LFG(f.Rf,8))};static \u0275prov=ae.Yz7({token:te,factory:te.\u0275fac,providedIn:"any"})}return te})(),Le=(()=>{class te{static \u0275fac=function(je){return new(je||te)};static \u0275mod=ae.oAB({type:te});static \u0275inj=ae.cJS({})}return te})(),we=(()=>{class te{constructor(){qe.Z.registerVersion("angularfire",f.q4.full,"gcs-compat")}static \u0275fac=function(je){return new(je||te)};static \u0275mod=ae.oAB({type:te});static \u0275inj=ae.cJS({providers:[Qe],imports:[Le]})}return te})()},7217:(an,ut,k)=>{"use strict";k.d(ut,{Dh:()=>ae,GT:()=>Ae,cc:()=>ye,hO:()=>be,on:()=>q,pX:()=>_e,xv:()=>ve});var f=k(5879),o=k(1920),U=k(7142);const Se=["ngOnDestroy"],_e=(We,_t,Fe,Ne={})=>new Proxy(We,{get:(tt,Ze)=>Fe.runOutsideAngular(()=>{if(We[Ze])return Ne?.spy?.get&&Ne.spy.get(Ze,We[Ze]),We[Ze];if(Se.indexOf(Ze)>-1)return()=>{};const qe=_t.toPromise().then(ht=>{const bt=ht?.[Ze];return"function"==typeof bt?bt.bind(ht):bt?.then?bt.then(Ee=>Fe.run(()=>Ee)):Fe.run(()=>bt)});return new Proxy(()=>{},{get:(ht,bt)=>qe[bt],apply:(ht,bt,Ee)=>qe.then(Nt=>{const Vt=Nt?.(...Ee);return Ne?.spy?.apply&&Ne.spy.apply(Ze,Ee,Vt),Vt})})})}),Ae=(We,_t)=>{_t.forEach(Fe=>{Object.getOwnPropertyNames(Fe.prototype||Fe).forEach(Ne=>{Object.defineProperty(We.prototype,Ne,Object.getOwnPropertyDescriptor(Fe.prototype||Fe,Ne))})})};class de{constructor(_t){return _t}}const ae=new f.OlP("angularfire2.app.options"),ve=new f.OlP("angularfire2.app.name");function q(We,_t,Fe){const tt="object"==typeof Fe&&Fe||{};tt.name=tt.name||"string"==typeof Fe&&Fe||"[DEFAULT]";const qe=U.Z.apps.filter(ht=>ht&&ht.name===tt.name)[0]||_t.runOutsideAngular(()=>U.Z.initializeApp(We,tt));try{if(JSON.stringify(We)!==JSON.stringify(qe.options)){const ht=!!module.hot;z("error",`${qe.name} Firebase App already initialized with different options${ht?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new de(qe)}const z=(We,..._t)=>{(0,f.X6Q)()&&typeof console<"u"&&console[We](..._t)},se={provide:de,useFactory:q,deps:[ae,f.R0b,[new f.FiY,ve]]};let be=(()=>{class We{static initializeApp(Fe,Ne){return{ngModule:We,providers:[{provide:ae,useValue:Fe},{provide:ve,useValue:Ne}]}}constructor(Fe){U.Z.registerVersion("angularfire",o.q4.full,"core"),U.Z.registerVersion("angularfire",o.q4.full,"app-compat"),U.Z.registerVersion("angular",f.q4F.full,Fe.toString())}static \u0275fac=function(Ne){return new(Ne||We)(f.LFG(f.Lbi))};static \u0275mod=f.oAB({type:We});static \u0275inj=f.cJS({providers:[se]})}return We})();function ye(We,_t,Fe,Ne,tt){const[,Ze,qe]=globalThis.\u0275AngularfireInstanceCache.find(ht=>ht[0]===We)||[];if(Ze)return function De(We,_t){try{return We.toString()===_t.toString()}catch{return We===_t}}(tt,qe)||(Ye("error",`${_t} was already initialized on the ${Fe} Firebase App with different settings.${Re?" You may need to reload as Firebase is not HMR aware.":""}`),Ye("warn",{is:tt,was:qe})),Ze;{const ht=Ne();return globalThis.\u0275AngularfireInstanceCache.push([We,ht,tt]),ht}}const Re=typeof module<"u"&&!!module.hot,Ye=(We,..._t)=>{(0,f.X6Q)()&&typeof console<"u"&&console[We](..._t)};globalThis.\u0275AngularfireInstanceCache||=[]},1920:(an,ut,k)=>{"use strict";k.d(ut,{q4:()=>ye,iC:()=>Vt,fc:()=>Ee,HU:()=>Ze,Rf:()=>We,vb:()=>Ye,JM:()=>Re,u3:()=>Qe});var f=k(5879),o=k(3182),U=k(1954),_e=k(2631);const de=new class Ae extends _e.v{}(class Se extends U.o{constructor(Le,we){super(Le,we),this.scheduler=Le,this.work=we}schedule(Le,we=0){return we>0?super.schedule(Le,we):(this.delay=we,this.state=Le,this.scheduler.flush(this),this)}execute(Le,we){return we>0||this.closed?super.execute(Le,we):this._execute(Le,we)}requestAsyncId(Le,we,te=0){return null!=te&&te>0||null==te&&this.delay>0?super.requestAsyncId(Le,we,te):(Le.flush(this),0)}});var ve=k(6321),q=k(5592),z=k(9397),se=k(3093),be=k(5137);const ye=new f.GfV("ANGULARFIRE2_VERSION");function Re(dt,Le,we){if(Le){if(1===Le.length)return Le[0];const Pe=Le.filter(je=>je.app===we);if(1===Pe.length)return Pe[0]}return we.container.getProvider(dt).getImmediate({optional:!0})}const Ye=(dt,Le)=>{const we=Le?[Le]:(0,o.C6)(),te=[];return we.forEach(Ie=>{Ie.container.getProvider(dt).instances.forEach(je=>{te.includes(je)||te.push(je)})}),te};class We{constructor(){return Ye(_t)}}const _t="app-check";function Fe(){}class Ne{zone;delegate;constructor(Le,we=de){this.zone=Le,this.delegate=we}now(){return this.delegate.now()}schedule(Le,we,te){const Ie=this.zone;return this.delegate.schedule(function(je){Ie.runGuarded(()=>{Le.apply(this,[je])})},we,te)}}class tt{zone;task=null;constructor(Le){this.zone=Le}call(Le,we){const te=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fe,{},Fe,Fe)),we.pipe((0,z.b)({next:te,complete:te,error:te})).subscribe(Le).add(te)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ze=(()=>{class dt{ngZone;outsideAngular;insideAngular;constructor(we){this.ngZone=we,this.outsideAngular=we.runOutsideAngular(()=>new Ne(Zone.current)),this.insideAngular=we.run(()=>new Ne(Zone.current,ve.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(te){return new(te||dt)(f.LFG(f.R0b))};static \u0275prov=f.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"root"})}return dt})();function qe(){const dt=globalThis.\u0275AngularFireScheduler;if(!dt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return dt}function bt(dt){return qe().ngZone.run(()=>dt())}function Ee(dt){return dt.pipe((0,se.Q)(qe().outsideAngular))}function Vt(dt){return function Dn(dt){return function(we){return(we=we.lift(new tt(dt.ngZone))).pipe((0,be.R)(dt.outsideAngular),(0,se.Q)(dt.insideAngular))}}(qe())(dt)}const wt=(dt,Le)=>function(){const te=arguments;return Le&&setTimeout(()=>{"scheduled"===Le.state&&Le.invoke()},10),bt(()=>dt.apply(void 0,te))},Qe=(dt,Le)=>function(){let we;const te=arguments;for(let Pe=0;Pe<arguments.length;Pe++)"function"==typeof te[Pe]&&(Le&&(we||=bt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fe,{},Fe,Fe))),te[Pe]=wt(te[Pe],we));const Ie=function ht(dt){return qe().ngZone.runOutsideAngular(()=>dt())}(()=>dt.apply(this,te));if(!Le){if(Ie instanceof q.y){const Pe=qe();return Ie.pipe((0,be.R)(Pe.outsideAngular),(0,se.Q)(Pe.insideAngular))}return bt(()=>Ie)}return Ie instanceof q.y?Ie.pipe(Vt):Ie instanceof Promise?bt(()=>new Promise((Pe,je)=>Ie.then(ot=>bt(()=>Pe(ot)),ot=>bt(()=>je(ot))))):"function"==typeof Ie&&we?function(){return setTimeout(()=>{we&&"scheduled"===we.state&&we.invoke()},10),Ie.apply(this,arguments)}:bt(()=>Ie)}},6223:(an,ut,k)=>{"use strict";k.d(ut,{EJ:()=>Hi,F:()=>Mi,Fj:()=>ye,JJ:()=>Kt,JL:()=>Hr,Kr:()=>Do,On:()=>qi,Q7:()=>Qt,UX:()=>Fs,YN:()=>ci,_Y:()=>Es,kI:()=>Fe,qu:()=>Gi,sg:()=>Xr,u:()=>_n,u5:()=>za,x0:()=>to});var f=k(5879),o=k(6814),U=k(2459),Se=k(9315),_e=k(7398);let Ae=(()=>{class K{constructor(F,ge){this._renderer=F,this._elementRef=ge,this.onChange=ze=>{},this.onTouched=()=>{}}setProperty(F,ge){this._renderer.setProperty(this._elementRef.nativeElement,F,ge)}registerOnTouched(F){this.onTouched=F}registerOnChange(F){this.onChange=F}setDisabledState(F){this.setProperty("disabled",F)}static#e=this.\u0275fac=function(ge){return new(ge||K)(f.Y36(f.Qsj),f.Y36(f.SBq))};static#t=this.\u0275dir=f.lG2({type:K})}return K})(),de=(()=>{class K extends Ae{static#e=this.\u0275fac=function(){let F;return function(ze){return(F||(F=f.n5z(K)))(ze||K)}}();static#t=this.\u0275dir=f.lG2({type:K,features:[f.qOj]})}return K})();const ae=new f.OlP("NgValueAccessor"),z={provide:ae,useExisting:(0,f.Gpc)(()=>ye),multi:!0},be=new f.OlP("CompositionEventMode");let ye=(()=>{class K extends Ae{constructor(F,ge,ze){super(F,ge),this._compositionMode=ze,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function se(){const K=(0,o.q)()?(0,o.q)().getUserAgent():"";return/android (\d+)/.test(K.toLowerCase())}())}writeValue(F){this.setProperty("value",F??"")}_handleInput(F){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(F)}_compositionStart(){this._composing=!0}_compositionEnd(F){this._composing=!1,this._compositionMode&&this.onChange(F)}static#e=this.\u0275fac=function(ge){return new(ge||K)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(be,8))};static#t=this.\u0275dir=f.lG2({type:K,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ge,ze){1&ge&&f.NdJ("input",function(vr){return ze._handleInput(vr.target.value)})("blur",function(){return ze.onTouched()})("compositionstart",function(){return ze._compositionStart()})("compositionend",function(vr){return ze._compositionEnd(vr.target.value)})},features:[f._Bn([z]),f.qOj]})}return K})();function De(K){return null==K||("string"==typeof K||Array.isArray(K))&&0===K.length}function Re(K){return null!=K&&"number"==typeof K.length}const Ye=new f.OlP("NgValidators"),We=new f.OlP("NgAsyncValidators"),_t=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Fe{static min(ie){return function Ne(K){return ie=>{if(De(ie.value)||De(K))return null;const F=parseFloat(ie.value);return!isNaN(F)&&F<K?{min:{min:K,actual:ie.value}}:null}}(ie)}static max(ie){return function tt(K){return ie=>{if(De(ie.value)||De(K))return null;const F=parseFloat(ie.value);return!isNaN(F)&&F>K?{max:{max:K,actual:ie.value}}:null}}(ie)}static required(ie){return Ze(ie)}static requiredTrue(ie){return function qe(K){return!0===K.value?null:{required:!0}}(ie)}static email(ie){return function ht(K){return De(K.value)||_t.test(K.value)?null:{email:!0}}(ie)}static minLength(ie){return function bt(K){return ie=>De(ie.value)||!Re(ie.value)?null:ie.value.length<K?{minlength:{requiredLength:K,actualLength:ie.value.length}}:null}(ie)}static maxLength(ie){return function Ee(K){return ie=>Re(ie.value)&&ie.value.length>K?{maxlength:{requiredLength:K,actualLength:ie.value.length}}:null}(ie)}static pattern(ie){return function Nt(K){if(!K)return Vt;let ie,F;return"string"==typeof K?(F="","^"!==K.charAt(0)&&(F+="^"),F+=K,"$"!==K.charAt(K.length-1)&&(F+="$"),ie=new RegExp(F)):(F=K.toString(),ie=K),ge=>{if(De(ge.value))return null;const ze=ge.value;return ie.test(ze)?null:{pattern:{requiredPattern:F,actualValue:ze}}}}(ie)}static nullValidator(ie){return null}static compose(ie){return te(ie)}static composeAsync(ie){return Pe(ie)}}function Ze(K){return De(K.value)?{required:!0}:null}function Vt(K){return null}function Dn(K){return null!=K}function wt(K){return(0,f.QGY)(K)?(0,U.D)(K):K}function Qe(K){let ie={};return K.forEach(F=>{ie=null!=F?{...ie,...F}:ie}),0===Object.keys(ie).length?null:ie}function dt(K,ie){return ie.map(F=>F(K))}function we(K){return K.map(ie=>function Le(K){return!K.validate}(ie)?ie:F=>ie.validate(F))}function te(K){if(!K)return null;const ie=K.filter(Dn);return 0==ie.length?null:function(F){return Qe(dt(F,ie))}}function Ie(K){return null!=K?te(we(K)):null}function Pe(K){if(!K)return null;const ie=K.filter(Dn);return 0==ie.length?null:function(F){const ge=dt(F,ie).map(wt);return(0,Se.D)(ge).pipe((0,_e.U)(Qe))}}function je(K){return null!=K?Pe(we(K)):null}function ot(K,ie){return null===K?[ie]:Array.isArray(K)?[...K,ie]:[K,ie]}function vt(K){return K._rawValidators}function Bt(K){return K._rawAsyncValidators}function Zt(K){return K?Array.isArray(K)?K:[K]:[]}function Wt(K,ie){return Array.isArray(K)?K.includes(ie):K===ie}function Cn(K,ie){const F=Zt(ie);return Zt(K).forEach(ze=>{Wt(F,ze)||F.push(ze)}),F}function Kn(K,ie){return Zt(ie).filter(F=>!Wt(K,F))}class Pn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ie){this._rawValidators=ie||[],this._composedValidatorFn=Ie(this._rawValidators)}_setAsyncValidators(ie){this._rawAsyncValidators=ie||[],this._composedAsyncValidatorFn=je(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ie){this._onDestroyCallbacks.push(ie)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ie=>ie()),this._onDestroyCallbacks=[]}reset(ie=void 0){this.control&&this.control.reset(ie)}hasError(ie,F){return!!this.control&&this.control.hasError(ie,F)}getError(ie,F){return this.control?this.control.getError(ie,F):null}}class On extends Pn{get formDirective(){return null}get path(){return null}}class on extends Pn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Nn{constructor(ie){this._cd=ie}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Kt=(()=>{class K extends Nn{constructor(F){super(F)}static#e=this.\u0275fac=function(ge){return new(ge||K)(f.Y36(on,2))};static#t=this.\u0275dir=f.lG2({type:K,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ge,ze){2&ge&&f.ekj("ng-untouched",ze.isUntouched)("ng-touched",ze.isTouched)("ng-pristine",ze.isPristine)("ng-dirty",ze.isDirty)("ng-valid",ze.isValid)("ng-invalid",ze.isInvalid)("ng-pending",ze.isPending)},features:[f.qOj]})}return K})(),Hr=(()=>{class K extends Nn{constructor(F){super(F)}static#e=this.\u0275fac=function(ge){return new(ge||K)(f.Y36(On,10))};static#t=this.\u0275dir=f.lG2({type:K,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ge,ze){2&ge&&f.ekj("ng-untouched",ze.isUntouched)("ng-touched",ze.isTouched)("ng-pristine",ze.isPristine)("ng-dirty",ze.isDirty)("ng-valid",ze.isValid)("ng-invalid",ze.isInvalid)("ng-pending",ze.isPending)("ng-submitted",ze.isSubmitted)},features:[f.qOj]})}return K})();const Dr="VALID",ii="INVALID",ct="PENDING",Dt="DISABLED";function ue(K){return(Hn(K)?K.validators:K)||null}function xt(K,ie){return(Hn(ie)?ie.asyncValidators:K)||null}function Hn(K){return null!=K&&!Array.isArray(K)&&"object"==typeof K}function hi(K,ie,F){const ge=K.controls;if(!(ie?Object.keys(ge):ge).length)throw new f.vHH(1e3,"");if(!ge[F])throw new f.vHH(1001,"")}function Tr(K,ie,F){K._forEachChild((ge,ze)=>{if(void 0===F[ze])throw new f.vHH(1002,"")})}class Ge{constructor(ie,F){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(ie),this._assignAsyncValidators(F)}get validator(){return this._composedValidatorFn}set validator(ie){this._rawValidators=this._composedValidatorFn=ie}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ie){this._rawAsyncValidators=this._composedAsyncValidatorFn=ie}get parent(){return this._parent}get valid(){return this.status===Dr}get invalid(){return this.status===ii}get pending(){return this.status==ct}get disabled(){return this.status===Dt}get enabled(){return this.status!==Dt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ie){this._assignValidators(ie)}setAsyncValidators(ie){this._assignAsyncValidators(ie)}addValidators(ie){this.setValidators(Cn(ie,this._rawValidators))}addAsyncValidators(ie){this.setAsyncValidators(Cn(ie,this._rawAsyncValidators))}removeValidators(ie){this.setValidators(Kn(ie,this._rawValidators))}removeAsyncValidators(ie){this.setAsyncValidators(Kn(ie,this._rawAsyncValidators))}hasValidator(ie){return Wt(this._rawValidators,ie)}hasAsyncValidator(ie){return Wt(this._rawAsyncValidators,ie)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ie={}){this.touched=!0,this._parent&&!ie.onlySelf&&this._parent.markAsTouched(ie)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(ie=>ie.markAllAsTouched())}markAsUntouched(ie={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(F=>{F.markAsUntouched({onlySelf:!0})}),this._parent&&!ie.onlySelf&&this._parent._updateTouched(ie)}markAsDirty(ie={}){this.pristine=!1,this._parent&&!ie.onlySelf&&this._parent.markAsDirty(ie)}markAsPristine(ie={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(F=>{F.markAsPristine({onlySelf:!0})}),this._parent&&!ie.onlySelf&&this._parent._updatePristine(ie)}markAsPending(ie={}){this.status=ct,!1!==ie.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!ie.onlySelf&&this._parent.markAsPending(ie)}disable(ie={}){const F=this._parentMarkedDirty(ie.onlySelf);this.status=Dt,this.errors=null,this._forEachChild(ge=>{ge.disable({...ie,onlySelf:!0})}),this._updateValue(),!1!==ie.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ie,skipPristineCheck:F}),this._onDisabledChange.forEach(ge=>ge(!0))}enable(ie={}){const F=this._parentMarkedDirty(ie.onlySelf);this.status=Dr,this._forEachChild(ge=>{ge.enable({...ie,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ie.emitEvent}),this._updateAncestors({...ie,skipPristineCheck:F}),this._onDisabledChange.forEach(ge=>ge(!1))}_updateAncestors(ie){this._parent&&!ie.onlySelf&&(this._parent.updateValueAndValidity(ie),ie.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(ie){this._parent=ie}getRawValue(){return this.value}updateValueAndValidity(ie={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Dr||this.status===ct)&&this._runAsyncValidator(ie.emitEvent)),!1!==ie.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ie.onlySelf&&this._parent.updateValueAndValidity(ie)}_updateTreeValidity(ie={emitEvent:!0}){this._forEachChild(F=>F._updateTreeValidity(ie)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ie.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Dt:Dr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ie){if(this.asyncValidator){this.status=ct,this._hasOwnPendingAsyncValidator=!0;const F=wt(this.asyncValidator(this));this._asyncValidationSubscription=F.subscribe(ge=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ge,{emitEvent:ie})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(ie,F={}){this.errors=ie,this._updateControlsErrors(!1!==F.emitEvent)}get(ie){let F=ie;return null==F||(Array.isArray(F)||(F=F.split(".")),0===F.length)?null:F.reduce((ge,ze)=>ge&&ge._find(ze),this)}getError(ie,F){const ge=F?this.get(F):this;return ge&&ge.errors?ge.errors[ie]:null}hasError(ie,F){return!!this.getError(ie,F)}get root(){let ie=this;for(;ie._parent;)ie=ie._parent;return ie}_updateControlsErrors(ie){this.status=this._calculateStatus(),ie&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(ie)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?Dt:this.errors?ii:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ct)?ct:this._anyControlsHaveStatus(ii)?ii:Dr}_anyControlsHaveStatus(ie){return this._anyControls(F=>F.status===ie)}_anyControlsDirty(){return this._anyControls(ie=>ie.dirty)}_anyControlsTouched(){return this._anyControls(ie=>ie.touched)}_updatePristine(ie={}){this.pristine=!this._anyControlsDirty(),this._parent&&!ie.onlySelf&&this._parent._updatePristine(ie)}_updateTouched(ie={}){this.touched=this._anyControlsTouched(),this._parent&&!ie.onlySelf&&this._parent._updateTouched(ie)}_registerOnCollectionChange(ie){this._onCollectionChange=ie}_setUpdateStrategy(ie){Hn(ie)&&null!=ie.updateOn&&(this._updateOn=ie.updateOn)}_parentMarkedDirty(ie){return!ie&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ie){return null}_assignValidators(ie){this._rawValidators=Array.isArray(ie)?ie.slice():ie,this._composedValidatorFn=function Be(K){return Array.isArray(K)?Ie(K):K||null}(this._rawValidators)}_assignAsyncValidators(ie){this._rawAsyncValidators=Array.isArray(ie)?ie.slice():ie,this._composedAsyncValidatorFn=function en(K){return Array.isArray(K)?je(K):K||null}(this._rawAsyncValidators)}}class ce extends Ge{constructor(ie,F,ge){super(ue(F),xt(ge,F)),this.controls=ie,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(ie,F){return this.controls[ie]?this.controls[ie]:(this.controls[ie]=F,F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange),F)}addControl(ie,F,ge={}){this.registerControl(ie,F),this.updateValueAndValidity({emitEvent:ge.emitEvent}),this._onCollectionChange()}removeControl(ie,F={}){this.controls[ie]&&this.controls[ie]._registerOnCollectionChange(()=>{}),delete this.controls[ie],this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}setControl(ie,F,ge={}){this.controls[ie]&&this.controls[ie]._registerOnCollectionChange(()=>{}),delete this.controls[ie],F&&this.registerControl(ie,F),this.updateValueAndValidity({emitEvent:ge.emitEvent}),this._onCollectionChange()}contains(ie){return this.controls.hasOwnProperty(ie)&&this.controls[ie].enabled}setValue(ie,F={}){Tr(this,0,ie),Object.keys(ie).forEach(ge=>{hi(this,!0,ge),this.controls[ge].setValue(ie[ge],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(ie,F={}){null!=ie&&(Object.keys(ie).forEach(ge=>{const ze=this.controls[ge];ze&&ze.patchValue(ie[ge],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(ie={},F={}){this._forEachChild((ge,ze)=>{ge.reset(ie?ie[ze]:null,{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this._reduceChildren({},(ie,F,ge)=>(ie[ge]=F.getRawValue(),ie))}_syncPendingControls(){let ie=this._reduceChildren(!1,(F,ge)=>!!ge._syncPendingControls()||F);return ie&&this.updateValueAndValidity({onlySelf:!0}),ie}_forEachChild(ie){Object.keys(this.controls).forEach(F=>{const ge=this.controls[F];ge&&ie(ge,F)})}_setUpControls(){this._forEachChild(ie=>{ie.setParent(this),ie._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(ie){for(const[F,ge]of Object.entries(this.controls))if(this.contains(F)&&ie(ge))return!0;return!1}_reduceValue(){return this._reduceChildren({},(F,ge,ze)=>((ge.enabled||this.disabled)&&(F[ze]=ge.value),F))}_reduceChildren(ie,F){let ge=ie;return this._forEachChild((ze,kn)=>{ge=F(ge,ze,kn)}),ge}_allControlsDisabled(){for(const ie of Object.keys(this.controls))if(this.controls[ie].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(ie){return this.controls.hasOwnProperty(ie)?this.controls[ie]:null}}class B extends ce{}const Xe=new f.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>kt}),kt="always";function $t(K,ie){return[...ie.path,K]}function mn(K,ie,F=kt){Je(K,ie),ie.valueAccessor.writeValue(K.value),(K.disabled||"always"===F)&&ie.valueAccessor.setDisabledState?.(K.disabled),function nt(K,ie){ie.valueAccessor.registerOnChange(F=>{K._pendingValue=F,K._pendingChange=!0,K._pendingDirty=!0,"change"===K.updateOn&&Xt(K,ie)})}(K,ie),function An(K,ie){const F=(ge,ze)=>{ie.valueAccessor.writeValue(ge),ze&&ie.viewToModelUpdate(ge)};K.registerOnChange(F),ie._registerOnDestroy(()=>{K._unregisterOnChange(F)})}(K,ie),function jt(K,ie){ie.valueAccessor.registerOnTouched(()=>{K._pendingTouched=!0,"blur"===K.updateOn&&K._pendingChange&&Xt(K,ie),"submit"!==K.updateOn&&K.markAsTouched()})}(K,ie),function Jn(K,ie){if(ie.valueAccessor.setDisabledState){const F=ge=>{ie.valueAccessor.setDisabledState(ge)};K.registerOnDisabledChange(F),ie._registerOnDestroy(()=>{K._unregisterOnDisabledChange(F)})}}(K,ie)}function cn(K,ie,F=!0){const ge=()=>{};ie.valueAccessor&&(ie.valueAccessor.registerOnChange(ge),ie.valueAccessor.registerOnTouched(ge)),He(K,ie),K&&(ie._invokeOnDestroyCallbacks(),K._registerOnCollectionChange(()=>{}))}function fn(K,ie){K.forEach(F=>{F.registerOnValidatorChange&&F.registerOnValidatorChange(ie)})}function Je(K,ie){const F=vt(K);null!==ie.validator?K.setValidators(ot(F,ie.validator)):"function"==typeof F&&K.setValidators([F]);const ge=Bt(K);null!==ie.asyncValidator?K.setAsyncValidators(ot(ge,ie.asyncValidator)):"function"==typeof ge&&K.setAsyncValidators([ge]);const ze=()=>K.updateValueAndValidity();fn(ie._rawValidators,ze),fn(ie._rawAsyncValidators,ze)}function He(K,ie){let F=!1;if(null!==K){if(null!==ie.validator){const ze=vt(K);if(Array.isArray(ze)&&ze.length>0){const kn=ze.filter(vr=>vr!==ie.validator);kn.length!==ze.length&&(F=!0,K.setValidators(kn))}}if(null!==ie.asyncValidator){const ze=Bt(K);if(Array.isArray(ze)&&ze.length>0){const kn=ze.filter(vr=>vr!==ie.asyncValidator);kn.length!==ze.length&&(F=!0,K.setAsyncValidators(kn))}}}const ge=()=>{};return fn(ie._rawValidators,ge),fn(ie._rawAsyncValidators,ge),F}function Xt(K,ie){K._pendingDirty&&K.markAsDirty(),K.setValue(K._pendingValue,{emitModelToViewChange:!1}),ie.viewToModelUpdate(K._pendingValue),K._pendingChange=!1}function ln(K,ie){Je(K,ie)}function Ln(K,ie){if(!K.hasOwnProperty("model"))return!1;const F=K.model;return!!F.isFirstChange()||!Object.is(ie,F.currentValue)}function yn(K,ie){K._syncPendingControls(),ie.forEach(F=>{const ge=F.control;"submit"===ge.updateOn&&ge._pendingChange&&(F.viewToModelUpdate(ge._pendingValue),ge._pendingChange=!1)})}function zn(K,ie){if(!ie)return null;let F,ge,ze;return Array.isArray(ie),ie.forEach(kn=>{kn.constructor===ye?F=kn:function Vn(K){return Object.getPrototypeOf(K.constructor)===de}(kn)?ge=kn:ze=kn}),ze||ge||F||null}const ei={provide:On,useExisting:(0,f.Gpc)(()=>Mi)},ur=(()=>Promise.resolve())();let Mi=(()=>{class K extends On{constructor(F,ge,ze){super(),this.callSetDisabledState=ze,this.submitted=!1,this._directives=new Set,this.ngSubmit=new f.vpe,this.form=new ce({},Ie(F),je(ge))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(F){ur.then(()=>{const ge=this._findContainer(F.path);F.control=ge.registerControl(F.name,F.control),mn(F.control,F,this.callSetDisabledState),F.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(F)})}getControl(F){return this.form.get(F.path)}removeControl(F){ur.then(()=>{const ge=this._findContainer(F.path);ge&&ge.removeControl(F.name),this._directives.delete(F)})}addFormGroup(F){ur.then(()=>{const ge=this._findContainer(F.path),ze=new ce({});ln(ze,F),ge.registerControl(F.name,ze),ze.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(F){ur.then(()=>{const ge=this._findContainer(F.path);ge&&ge.removeControl(F.name)})}getFormGroup(F){return this.form.get(F.path)}updateModel(F,ge){ur.then(()=>{this.form.get(F.path).setValue(ge)})}setValue(F){this.control.setValue(F)}onSubmit(F){return this.submitted=!0,yn(this.form,this._directives),this.ngSubmit.emit(F),"dialog"===F?.target?.method}onReset(){this.resetForm()}resetForm(F=void 0){this.form.reset(F),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(F){return F.pop(),F.length?this.form.get(F):this.form}static#e=this.\u0275fac=function(ge){return new(ge||K)(f.Y36(Ye,10),f.Y36(We,10),f.Y36(Xe,8))};static#t=this.\u0275dir=f.lG2({type:K,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ge,ze){1&ge&&f.NdJ("submit",function(vr){return ze.onSubmit(vr)})("reset",function(){return ze.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([ei]),f.qOj]})}return K})();function mi(K,ie){const F=K.indexOf(ie);F>-1&&K.splice(F,1)}function oo(K){return"object"==typeof K&&null!==K&&2===Object.keys(K).length&&"value"in K&&"disabled"in K}const zr=class extends Ge{constructor(ie=null,F,ge){super(ue(F),xt(ge,F)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ie),this._setUpdateStrategy(F),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Hn(F)&&(F.nonNullable||F.initialValueIsDefault)&&(this.defaultValue=oo(ie)?ie.value:ie)}setValue(ie,F={}){this.value=this._pendingValue=ie,this._onChange.length&&!1!==F.emitModelToViewChange&&this._onChange.forEach(ge=>ge(this.value,!1!==F.emitViewToModelChange)),this.updateValueAndValidity(F)}patchValue(ie,F={}){this.setValue(ie,F)}reset(ie=this.defaultValue,F={}){this._applyFormState(ie),this.markAsPristine(F),this.markAsUntouched(F),this.setValue(this.value,F),this._pendingChange=!1}_updateValue(){}_anyControls(ie){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ie){this._onChange.push(ie)}_unregisterOnChange(ie){mi(this._onChange,ie)}registerOnDisabledChange(ie){this._onDisabledChange.push(ie)}_unregisterOnDisabledChange(ie){mi(this._onDisabledChange,ie)}_forEachChild(ie){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ie){oo(ie)?(this.value=this._pendingValue=ie.value,ie.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ie}};let Ui=(()=>{class K extends On{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return $t(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let F;return function(ze){return(F||(F=f.n5z(K)))(ze||K)}}();static#t=this.\u0275dir=f.lG2({type:K,features:[f.qOj]})}return K})();const Vo={provide:on,useExisting:(0,f.Gpc)(()=>qi)},Bi=(()=>Promise.resolve())();let qi=(()=>{class K extends on{constructor(F,ge,ze,kn,vr,co){super(),this._changeDetectorRef=vr,this.callSetDisabledState=co,this.control=new zr,this._registered=!1,this.name="",this.update=new f.vpe,this._parent=F,this._setValidators(ge),this._setAsyncValidators(ze),this.valueAccessor=zn(0,kn)}ngOnChanges(F){if(this._checkForErrors(),!this._registered||"name"in F){if(this._registered&&(this._checkName(),this.formDirective)){const ge=F.name.previousValue;this.formDirective.removeControl({name:ge,path:this._getPath(ge)})}this._setUpControl()}"isDisabled"in F&&this._updateDisabled(F),Ln(F,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){mn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(F){Bi.then(()=>{this.control.setValue(F,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(F){const ge=F.isDisabled.currentValue,ze=0!==ge&&(0,f.VuI)(ge);Bi.then(()=>{ze&&!this.control.disabled?this.control.disable():!ze&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(F){return this._parent?$t(F,this._parent):[F]}static#e=this.\u0275fac=function(ge){return new(ge||K)(f.Y36(On,9),f.Y36(Ye,10),f.Y36(We,10),f.Y36(ae,10),f.Y36(f.sBO,8),f.Y36(Xe,8))};static#t=this.\u0275dir=f.lG2({type:K,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f._Bn([Vo]),f.qOj,f.TTD]})}return K})(),Es=(()=>{class K{static#e=this.\u0275fac=function(ge){return new(ge||K)};static#t=this.\u0275dir=f.lG2({type:K,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return K})(),mo=(()=>{class K{static#e=this.\u0275fac=function(ge){return new(ge||K)};static#t=this.\u0275mod=f.oAB({type:K});static#n=this.\u0275inj=f.cJS({})}return K})();const qn=new f.OlP("NgModelWithFormControlWarning"),ji={provide:On,useExisting:(0,f.Gpc)(()=>Xr)};let Xr=(()=>{class K extends On{constructor(F,ge,ze){super(),this.callSetDisabledState=ze,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(F),this._setAsyncValidators(ge)}ngOnChanges(F){this._checkFormPresent(),F.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(He(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(F){const ge=this.form.get(F.path);return mn(ge,F,this.callSetDisabledState),ge.updateValueAndValidity({emitEvent:!1}),this.directives.push(F),ge}getControl(F){return this.form.get(F.path)}removeControl(F){cn(F.control||null,F,!1),function Sr(K,ie){const F=K.indexOf(ie);F>-1&&K.splice(F,1)}(this.directives,F)}addFormGroup(F){this._setUpFormContainer(F)}removeFormGroup(F){this._cleanUpFormContainer(F)}getFormGroup(F){return this.form.get(F.path)}addFormArray(F){this._setUpFormContainer(F)}removeFormArray(F){this._cleanUpFormContainer(F)}getFormArray(F){return this.form.get(F.path)}updateModel(F,ge){this.form.get(F.path).setValue(ge)}onSubmit(F){return this.submitted=!0,yn(this.form,this.directives),this.ngSubmit.emit(F),"dialog"===F?.target?.method}onReset(){this.resetForm()}resetForm(F=void 0){this.form.reset(F),this.submitted=!1}_updateDomValue(){this.directives.forEach(F=>{const ge=F.control,ze=this.form.get(F.path);ge!==ze&&(cn(ge||null,F),(K=>K instanceof zr)(ze)&&(mn(ze,F,this.callSetDisabledState),F.control=ze))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(F){const ge=this.form.get(F.path);ln(ge,F),ge.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(F){if(this.form){const ge=this.form.get(F.path);ge&&function fr(K,ie){return He(K,ie)}(ge,F)&&ge.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Je(this.form,this),this._oldForm&&He(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(ge){return new(ge||K)(f.Y36(Ye,10),f.Y36(We,10),f.Y36(Xe,8))};static#t=this.\u0275dir=f.lG2({type:K,selectors:[["","formGroup",""]],hostBindings:function(ge,ze){1&ge&&f.NdJ("submit",function(vr){return ze.onSubmit(vr)})("reset",function(){return ze.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([ji]),f.qOj,f.TTD]})}return K})();const eo={provide:On,useExisting:(0,f.Gpc)(()=>to)};let to=(()=>{class K extends Ui{constructor(F,ge,ze){super(),this.name=null,this._parent=F,this._setValidators(ge),this._setAsyncValidators(ze)}_checkParentType(){Uo(this._parent)}static#e=this.\u0275fac=function(ge){return new(ge||K)(f.Y36(On,13),f.Y36(Ye,10),f.Y36(We,10))};static#t=this.\u0275dir=f.lG2({type:K,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[f._Bn([eo]),f.qOj]})}return K})();const As={provide:On,useExisting:(0,f.Gpc)(()=>_o)};let _o=(()=>{class K extends On{constructor(F,ge,ze){super(),this.name=null,this._parent=F,this._setValidators(ge),this._setAsyncValidators(ze)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return $t(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Uo(this._parent)}static#e=this.\u0275fac=function(ge){return new(ge||K)(f.Y36(On,13),f.Y36(Ye,10),f.Y36(We,10))};static#t=this.\u0275dir=f.lG2({type:K,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[f._Bn([As]),f.qOj]})}return K})();function Uo(K){return!(K instanceof to||K instanceof Xr||K instanceof _o)}const $r={provide:on,useExisting:(0,f.Gpc)(()=>_n)};let _n=(()=>{class K extends on{set isDisabled(F){}static#e=this._ngModelWarningSentOnce=!1;constructor(F,ge,ze,kn,vr){super(),this._ngModelWarningConfig=vr,this._added=!1,this.name=null,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=F,this._setValidators(ge),this._setAsyncValidators(ze),this.valueAccessor=zn(0,kn)}ngOnChanges(F){this._added||this._setUpControl(),Ln(F,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}get path(){return $t(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(ge){return new(ge||K)(f.Y36(On,13),f.Y36(Ye,10),f.Y36(We,10),f.Y36(ae,10),f.Y36(qn,8))};static#n=this.\u0275dir=f.lG2({type:K,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([$r]),f.qOj,f.TTD]})}return K})();const Xn={provide:ae,useExisting:(0,f.Gpc)(()=>Hi),multi:!0};function Rr(K,ie){return null==K?`${ie}`:(ie&&"object"==typeof ie&&(ie="Object"),`${K}: ${ie}`.slice(0,50))}let Hi=(()=>{class K extends de{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(F){this._compareWith=F}writeValue(F){this.value=F;const ze=Rr(this._getOptionId(F),F);this.setProperty("value",ze)}registerOnChange(F){this.onChange=ge=>{this.value=this._getOptionValue(ge),F(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(F){for(const ge of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ge),F))return ge;return null}_getOptionValue(F){const ge=function Ri(K){return K.split(":")[0]}(F);return this._optionMap.has(ge)?this._optionMap.get(ge):F}static#e=this.\u0275fac=function(){let F;return function(ze){return(F||(F=f.n5z(K)))(ze||K)}}();static#t=this.\u0275dir=f.lG2({type:K,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ge,ze){1&ge&&f.NdJ("change",function(vr){return ze.onChange(vr.target.value)})("blur",function(){return ze.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([Xn]),f.qOj]})}return K})(),ci=(()=>{class K{constructor(F,ge,ze){this._element=F,this._renderer=ge,this._select=ze,this._select&&(this.id=this._select._registerOption())}set ngValue(F){null!=this._select&&(this._select._optionMap.set(this.id,F),this._setElementValue(Rr(this.id,F)),this._select.writeValue(this._select.value))}set value(F){this._setElementValue(F),this._select&&this._select.writeValue(this._select.value)}_setElementValue(F){this._renderer.setProperty(this._element.nativeElement,"value",F)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ge){return new(ge||K)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(Hi,9))};static#t=this.\u0275dir=f.lG2({type:K,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return K})();const wo={provide:ae,useExisting:(0,f.Gpc)(()=>nr),multi:!0};function ai(K,ie){return null==K?`${ie}`:("string"==typeof ie&&(ie=`'${ie}'`),ie&&"object"==typeof ie&&(ie="Object"),`${K}: ${ie}`.slice(0,50))}let nr=(()=>{class K extends de{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(F){this._compareWith=F}writeValue(F){let ge;if(this.value=F,Array.isArray(F)){const ze=F.map(kn=>this._getOptionId(kn));ge=(kn,vr)=>{kn._setSelected(ze.indexOf(vr.toString())>-1)}}else ge=(ze,kn)=>{ze._setSelected(!1)};this._optionMap.forEach(ge)}registerOnChange(F){this.onChange=ge=>{const ze=[],kn=ge.selectedOptions;if(void 0!==kn){const vr=kn;for(let co=0;co<vr.length;co++){const ba=this._getOptionValue(vr[co].value);ze.push(ba)}}else{const vr=ge.options;for(let co=0;co<vr.length;co++){const vi=vr[co];if(vi.selected){const ba=this._getOptionValue(vi.value);ze.push(ba)}}}this.value=ze,F(ze)}}_registerOption(F){const ge=(this._idCounter++).toString();return this._optionMap.set(ge,F),ge}_getOptionId(F){for(const ge of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ge)._value,F))return ge;return null}_getOptionValue(F){const ge=function no(K){return K.split(":")[0]}(F);return this._optionMap.has(ge)?this._optionMap.get(ge)._value:F}static#e=this.\u0275fac=function(){let F;return function(ze){return(F||(F=f.n5z(K)))(ze||K)}}();static#t=this.\u0275dir=f.lG2({type:K,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ge,ze){1&ge&&f.NdJ("change",function(vr){return ze.onChange(vr.target)})("blur",function(){return ze.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([wo]),f.qOj]})}return K})(),Do=(()=>{class K{constructor(F,ge,ze){this._element=F,this._renderer=ge,this._select=ze,this._select&&(this.id=this._select._registerOption(this))}set ngValue(F){null!=this._select&&(this._value=F,this._setElementValue(ai(this.id,F)),this._select.writeValue(this._select.value))}set value(F){this._select?(this._value=F,this._setElementValue(ai(this.id,F)),this._select.writeValue(this._select.value)):this._setElementValue(F)}_setElementValue(F){this._renderer.setProperty(this._element.nativeElement,"value",F)}_setSelected(F){this._renderer.setProperty(this._element.nativeElement,"selected",F)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ge){return new(ge||K)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(nr,9))};static#t=this.\u0275dir=f.lG2({type:K,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return K})(),Y=(()=>{class K{constructor(){this._validator=Vt}ngOnChanges(F){if(this.inputName in F){const ge=this.normalizeInput(F[this.inputName].currentValue);this._enabled=this.enabled(ge),this._validator=this._enabled?this.createValidator(ge):Vt,this._onChange&&this._onChange()}}validate(F){return this._validator(F)}registerOnValidatorChange(F){this._onChange=F}enabled(F){return null!=F}static#e=this.\u0275fac=function(ge){return new(ge||K)};static#t=this.\u0275dir=f.lG2({type:K,features:[f.TTD]})}return K})();const pn={provide:Ye,useExisting:(0,f.Gpc)(()=>Qt),multi:!0};let Qt=(()=>{class K extends Y{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=f.VuI,this.createValidator=F=>Ze}enabled(F){return F}static#e=this.\u0275fac=function(){let F;return function(ze){return(F||(F=f.n5z(K)))(ze||K)}}();static#t=this.\u0275dir=f.lG2({type:K,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ge,ze){2&ge&&f.uIk("required",ze._enabled?"":null)},inputs:{required:"required"},features:[f._Bn([pn]),f.qOj]})}return K})(),Qr=(()=>{class K{static#e=this.\u0275fac=function(ge){return new(ge||K)};static#t=this.\u0275mod=f.oAB({type:K});static#n=this.\u0275inj=f.cJS({imports:[mo]})}return K})();class bi extends Ge{constructor(ie,F,ge){super(ue(F),xt(ge,F)),this.controls=ie,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(ie){return this.controls[this._adjustIndex(ie)]}push(ie,F={}){this.controls.push(ie),this._registerControl(ie),this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}insert(ie,F,ge={}){this.controls.splice(ie,0,F),this._registerControl(F),this.updateValueAndValidity({emitEvent:ge.emitEvent})}removeAt(ie,F={}){let ge=this._adjustIndex(ie);ge<0&&(ge=0),this.controls[ge]&&this.controls[ge]._registerOnCollectionChange(()=>{}),this.controls.splice(ge,1),this.updateValueAndValidity({emitEvent:F.emitEvent})}setControl(ie,F,ge={}){let ze=this._adjustIndex(ie);ze<0&&(ze=0),this.controls[ze]&&this.controls[ze]._registerOnCollectionChange(()=>{}),this.controls.splice(ze,1),F&&(this.controls.splice(ze,0,F),this._registerControl(F)),this.updateValueAndValidity({emitEvent:ge.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(ie,F={}){Tr(this,0,ie),ie.forEach((ge,ze)=>{hi(this,!1,ze),this.at(ze).setValue(ge,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(ie,F={}){null!=ie&&(ie.forEach((ge,ze)=>{this.at(ze)&&this.at(ze).patchValue(ge,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(ie=[],F={}){this._forEachChild((ge,ze)=>{ge.reset(ie[ze],{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this.controls.map(ie=>ie.getRawValue())}clear(ie={}){this.controls.length<1||(this._forEachChild(F=>F._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:ie.emitEvent}))}_adjustIndex(ie){return ie<0?ie+this.length:ie}_syncPendingControls(){let ie=this.controls.reduce((F,ge)=>!!ge._syncPendingControls()||F,!1);return ie&&this.updateValueAndValidity({onlySelf:!0}),ie}_forEachChild(ie){this.controls.forEach((F,ge)=>{ie(F,ge)})}_updateValue(){this.value=this.controls.filter(ie=>ie.enabled||this.disabled).map(ie=>ie.value)}_anyControls(ie){return this.controls.some(F=>F.enabled&&ie(F))}_setUpControls(){this._forEachChild(ie=>this._registerControl(ie))}_allControlsDisabled(){for(const ie of this.controls)if(ie.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(ie){ie.setParent(this),ie._registerOnCollectionChange(this._onCollectionChange)}_find(ie){return this.at(ie)??null}}function Mo(K){return!!K&&(void 0!==K.asyncValidators||void 0!==K.validators||void 0!==K.updateOn)}let Gi=(()=>{class K{constructor(){this.useNonNullable=!1}get nonNullable(){const F=new K;return F.useNonNullable=!0,F}group(F,ge=null){const ze=this._reduceControls(F);let kn={};return Mo(ge)?kn=ge:null!==ge&&(kn.validators=ge.validator,kn.asyncValidators=ge.asyncValidator),new ce(ze,kn)}record(F,ge=null){const ze=this._reduceControls(F);return new B(ze,ge)}control(F,ge,ze){let kn={};return this.useNonNullable?(Mo(ge)?kn=ge:(kn.validators=ge,kn.asyncValidators=ze),new zr(F,{...kn,nonNullable:!0})):new zr(F,ge,ze)}array(F,ge,ze){const kn=F.map(vr=>this._createControl(vr));return new bi(kn,ge,ze)}_reduceControls(F){const ge={};return Object.keys(F).forEach(ze=>{ge[ze]=this._createControl(F[ze])}),ge}_createControl(F){return F instanceof zr||F instanceof Ge?F:Array.isArray(F)?this.control(F[0],F.length>1?F[1]:null,F.length>2?F[2]:null):this.control(F)}static#e=this.\u0275fac=function(ge){return new(ge||K)};static#t=this.\u0275prov=f.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})(),za=(()=>{class K{static withConfig(F){return{ngModule:K,providers:[{provide:Xe,useValue:F.callSetDisabledState??kt}]}}static#e=this.\u0275fac=function(ge){return new(ge||K)};static#t=this.\u0275mod=f.oAB({type:K});static#n=this.\u0275inj=f.cJS({imports:[Qr]})}return K})(),Fs=(()=>{class K{static withConfig(F){return{ngModule:K,providers:[{provide:qn,useValue:F.warnOnNgModelWithFormControl??"always"},{provide:Xe,useValue:F.callSetDisabledState??kt}]}}static#e=this.\u0275fac=function(ge){return new(ge||K)};static#t=this.\u0275mod=f.oAB({type:K});static#n=this.\u0275inj=f.cJS({imports:[Qr]})}return K})()},6593:(an,ut,k)=>{"use strict";k.d(ut,{Dx:()=>Pr,H7:()=>ii,b2:()=>mr,q6:()=>Pn,se:()=>bt});var f=k(5879),o=k(6814);class U extends o.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Se extends U{static makeCurrent(){(0,o.HT)(new Se)}onAndCancel(Q,H,B){return Q.addEventListener(H,B),()=>{Q.removeEventListener(H,B)}}dispatchEvent(Q,H){Q.dispatchEvent(H)}remove(Q){Q.parentNode&&Q.parentNode.removeChild(Q)}createElement(Q,H){return(H=H||this.getDefaultDocument()).createElement(Q)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Q){return Q.nodeType===Node.ELEMENT_NODE}isShadowRoot(Q){return Q instanceof DocumentFragment}getGlobalEventTarget(Q,H){return"window"===H?window:"document"===H?Q:"body"===H?Q.body:null}getBaseHref(Q){const H=function Ae(){return _e=_e||document.querySelector("base"),_e?_e.getAttribute("href"):null}();return null==H?null:function ae(ce){de=de||document.createElement("a"),de.setAttribute("href",ce);const Q=de.pathname;return"/"===Q.charAt(0)?Q:`/${Q}`}(H)}resetBaseElement(){_e=null}getUserAgent(){return window.navigator.userAgent}getCookie(Q){return(0,o.Mx)(document.cookie,Q)}}let de,_e=null,q=(()=>{class ce{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(B){return new(B||ce)};static#t=this.\u0275prov=f.Yz7({token:ce,factory:ce.\u0275fac})}return ce})();const z=new f.OlP("EventManagerPlugins");let se=(()=>{class ce{constructor(H,B){this._zone=B,this._eventNameToPlugin=new Map,H.forEach(Te=>{Te.manager=this}),this._plugins=H.slice().reverse()}addEventListener(H,B,Te){return this._findPluginFor(B).addEventListener(H,B,Te)}getZone(){return this._zone}_findPluginFor(H){let B=this._eventNameToPlugin.get(H);if(B)return B;if(B=this._plugins.find(Xe=>Xe.supports(H)),!B)throw new f.vHH(5101,!1);return this._eventNameToPlugin.set(H,B),B}static#e=this.\u0275fac=function(B){return new(B||ce)(f.LFG(z),f.LFG(f.R0b))};static#t=this.\u0275prov=f.Yz7({token:ce,factory:ce.\u0275fac})}return ce})();class be{constructor(Q){this._doc=Q}}const ye="ng-app-id";let De=(()=>{class ce{constructor(H,B,Te,Xe={}){this.doc=H,this.appId=B,this.nonce=Te,this.platformId=Xe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,o.PM)(Xe),this.resetHostNodes()}addStyles(H){for(const B of H)1===this.changeUsageCount(B,1)&&this.onStyleAdded(B)}removeStyles(H){for(const B of H)this.changeUsageCount(B,-1)<=0&&this.onStyleRemoved(B)}ngOnDestroy(){const H=this.styleNodesInDOM;H&&(H.forEach(B=>B.remove()),H.clear());for(const B of this.getAllStyles())this.onStyleRemoved(B);this.resetHostNodes()}addHost(H){this.hostNodes.add(H);for(const B of this.getAllStyles())this.addStyleToHost(H,B)}removeHost(H){this.hostNodes.delete(H)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(H){for(const B of this.hostNodes)this.addStyleToHost(B,H)}onStyleRemoved(H){const B=this.styleRef;B.get(H)?.elements?.forEach(Te=>Te.remove()),B.delete(H)}collectServerRenderedStyles(){const H=this.doc.head?.querySelectorAll(`style[${ye}="${this.appId}"]`);if(H?.length){const B=new Map;return H.forEach(Te=>{null!=Te.textContent&&B.set(Te.textContent,Te)}),B}return null}changeUsageCount(H,B){const Te=this.styleRef;if(Te.has(H)){const Xe=Te.get(H);return Xe.usage+=B,Xe.usage}return Te.set(H,{usage:B,elements:[]}),B}getStyleElement(H,B){const Te=this.styleNodesInDOM,Xe=Te?.get(B);if(Xe?.parentNode===H)return Te.delete(B),Xe.removeAttribute(ye),Xe;{const kt=this.doc.createElement("style");return this.nonce&&kt.setAttribute("nonce",this.nonce),kt.textContent=B,this.platformIsServer&&kt.setAttribute(ye,this.appId),kt}}addStyleToHost(H,B){const Te=this.getStyleElement(H,B);H.appendChild(Te);const Xe=this.styleRef,kt=Xe.get(B)?.elements;kt?kt.push(Te):Xe.set(B,{elements:[Te],usage:1})}resetHostNodes(){const H=this.hostNodes;H.clear(),H.add(this.doc.head)}static#e=this.\u0275fac=function(B){return new(B||ce)(f.LFG(o.K0),f.LFG(f.AFp),f.LFG(f.Ojb,8),f.LFG(f.Lbi))};static#t=this.\u0275prov=f.Yz7({token:ce,factory:ce.\u0275fac})}return ce})();const Re={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ye=/%COMP%/g,tt=new f.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ht(ce,Q){return Q.map(H=>H.replace(Ye,ce))}let bt=(()=>{class ce{constructor(H,B,Te,Xe,kt,$t,mn,cn=null){this.eventManager=H,this.sharedStylesHost=B,this.appId=Te,this.removeStylesOnCompDestroy=Xe,this.doc=kt,this.platformId=$t,this.ngZone=mn,this.nonce=cn,this.rendererByCompId=new Map,this.platformIsServer=(0,o.PM)($t),this.defaultRenderer=new Ee(H,kt,mn,this.platformIsServer)}createRenderer(H,B){if(!H||!B)return this.defaultRenderer;this.platformIsServer&&B.encapsulation===f.ifc.ShadowDom&&(B={...B,encapsulation:f.ifc.Emulated});const Te=this.getOrCreateRenderer(H,B);return Te instanceof dt?Te.applyToHost(H):Te instanceof Qe&&Te.applyStyles(),Te}getOrCreateRenderer(H,B){const Te=this.rendererByCompId;let Xe=Te.get(B.id);if(!Xe){const kt=this.doc,$t=this.ngZone,mn=this.eventManager,cn=this.sharedStylesHost,fn=this.removeStylesOnCompDestroy,Jn=this.platformIsServer;switch(B.encapsulation){case f.ifc.Emulated:Xe=new dt(mn,cn,B,this.appId,fn,kt,$t,Jn);break;case f.ifc.ShadowDom:return new wt(mn,cn,H,B,kt,$t,this.nonce,Jn);default:Xe=new Qe(mn,cn,B,fn,kt,$t,Jn)}Te.set(B.id,Xe)}return Xe}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(B){return new(B||ce)(f.LFG(se),f.LFG(De),f.LFG(f.AFp),f.LFG(tt),f.LFG(o.K0),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(f.Ojb))};static#t=this.\u0275prov=f.Yz7({token:ce,factory:ce.\u0275fac})}return ce})();class Ee{constructor(Q,H,B,Te){this.eventManager=Q,this.doc=H,this.ngZone=B,this.platformIsServer=Te,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Q,H){return H?this.doc.createElementNS(Re[H]||H,Q):this.doc.createElement(Q)}createComment(Q){return this.doc.createComment(Q)}createText(Q){return this.doc.createTextNode(Q)}appendChild(Q,H){(Dn(Q)?Q.content:Q).appendChild(H)}insertBefore(Q,H,B){Q&&(Dn(Q)?Q.content:Q).insertBefore(H,B)}removeChild(Q,H){Q&&Q.removeChild(H)}selectRootElement(Q,H){let B="string"==typeof Q?this.doc.querySelector(Q):Q;if(!B)throw new f.vHH(-5104,!1);return H||(B.textContent=""),B}parentNode(Q){return Q.parentNode}nextSibling(Q){return Q.nextSibling}setAttribute(Q,H,B,Te){if(Te){H=Te+":"+H;const Xe=Re[Te];Xe?Q.setAttributeNS(Xe,H,B):Q.setAttribute(H,B)}else Q.setAttribute(H,B)}removeAttribute(Q,H,B){if(B){const Te=Re[B];Te?Q.removeAttributeNS(Te,H):Q.removeAttribute(`${B}:${H}`)}else Q.removeAttribute(H)}addClass(Q,H){Q.classList.add(H)}removeClass(Q,H){Q.classList.remove(H)}setStyle(Q,H,B,Te){Te&(f.JOm.DashCase|f.JOm.Important)?Q.style.setProperty(H,B,Te&f.JOm.Important?"important":""):Q.style[H]=B}removeStyle(Q,H,B){B&f.JOm.DashCase?Q.style.removeProperty(H):Q.style[H]=""}setProperty(Q,H,B){Q[H]=B}setValue(Q,H){Q.nodeValue=H}listen(Q,H,B){if("string"==typeof Q&&!(Q=(0,o.q)().getGlobalEventTarget(this.doc,Q)))throw new Error(`Unsupported event target ${Q} for event ${H}`);return this.eventManager.addEventListener(Q,H,this.decoratePreventDefault(B))}decoratePreventDefault(Q){return H=>{if("__ngUnwrap__"===H)return Q;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Q(H)):Q(H))&&H.preventDefault()}}}function Dn(ce){return"TEMPLATE"===ce.tagName&&void 0!==ce.content}class wt extends Ee{constructor(Q,H,B,Te,Xe,kt,$t,mn){super(Q,Xe,kt,mn),this.sharedStylesHost=H,this.hostEl=B,this.shadowRoot=B.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const cn=ht(Te.id,Te.styles);for(const fn of cn){const Jn=document.createElement("style");$t&&Jn.setAttribute("nonce",$t),Jn.textContent=fn,this.shadowRoot.appendChild(Jn)}}nodeOrShadowRoot(Q){return Q===this.hostEl?this.shadowRoot:Q}appendChild(Q,H){return super.appendChild(this.nodeOrShadowRoot(Q),H)}insertBefore(Q,H,B){return super.insertBefore(this.nodeOrShadowRoot(Q),H,B)}removeChild(Q,H){return super.removeChild(this.nodeOrShadowRoot(Q),H)}parentNode(Q){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Q)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Qe extends Ee{constructor(Q,H,B,Te,Xe,kt,$t,mn){super(Q,Xe,kt,$t),this.sharedStylesHost=H,this.removeStylesOnCompDestroy=Te,this.styles=mn?ht(mn,B.styles):B.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class dt extends Qe{constructor(Q,H,B,Te,Xe,kt,$t,mn){const cn=Te+"-"+B.id;super(Q,H,B,Xe,kt,$t,mn,cn),this.contentAttr=function Ze(ce){return"_ngcontent-%COMP%".replace(Ye,ce)}(cn),this.hostAttr=function qe(ce){return"_nghost-%COMP%".replace(Ye,ce)}(cn)}applyToHost(Q){this.applyStyles(),this.setAttribute(Q,this.hostAttr,"")}createElement(Q,H){const B=super.createElement(Q,H);return super.setAttribute(B,this.contentAttr,""),B}}let Le=(()=>{class ce extends be{constructor(H){super(H)}supports(H){return!0}addEventListener(H,B,Te){return H.addEventListener(B,Te,!1),()=>this.removeEventListener(H,B,Te)}removeEventListener(H,B,Te){return H.removeEventListener(B,Te)}static#e=this.\u0275fac=function(B){return new(B||ce)(f.LFG(o.K0))};static#t=this.\u0275prov=f.Yz7({token:ce,factory:ce.\u0275fac})}return ce})();const we=["alt","control","meta","shift"],te={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ie={alt:ce=>ce.altKey,control:ce=>ce.ctrlKey,meta:ce=>ce.metaKey,shift:ce=>ce.shiftKey};let Pe=(()=>{class ce extends be{constructor(H){super(H)}supports(H){return null!=ce.parseEventName(H)}addEventListener(H,B,Te){const Xe=ce.parseEventName(B),kt=ce.eventCallback(Xe.fullKey,Te,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,o.q)().onAndCancel(H,Xe.domEventName,kt))}static parseEventName(H){const B=H.toLowerCase().split("."),Te=B.shift();if(0===B.length||"keydown"!==Te&&"keyup"!==Te)return null;const Xe=ce._normalizeKey(B.pop());let kt="",$t=B.indexOf("code");if($t>-1&&(B.splice($t,1),kt="code."),we.forEach(cn=>{const fn=B.indexOf(cn);fn>-1&&(B.splice(fn,1),kt+=cn+".")}),kt+=Xe,0!=B.length||0===Xe.length)return null;const mn={};return mn.domEventName=Te,mn.fullKey=kt,mn}static matchEventFullKeyCode(H,B){let Te=te[H.key]||H.key,Xe="";return B.indexOf("code.")>-1&&(Te=H.code,Xe="code."),!(null==Te||!Te)&&(Te=Te.toLowerCase()," "===Te?Te="space":"."===Te&&(Te="dot"),we.forEach(kt=>{kt!==Te&&(0,Ie[kt])(H)&&(Xe+=kt+".")}),Xe+=Te,Xe===B)}static eventCallback(H,B,Te){return Xe=>{ce.matchEventFullKeyCode(Xe,H)&&Te.runGuarded(()=>B(Xe))}}static _normalizeKey(H){return"esc"===H?"escape":H}static#e=this.\u0275fac=function(B){return new(B||ce)(f.LFG(o.K0))};static#t=this.\u0275prov=f.Yz7({token:ce,factory:ce.\u0275fac})}return ce})();const Pn=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:o.bD},{provide:f.g9A,useValue:function Zt(){Se.makeCurrent()},multi:!0},{provide:o.K0,useFactory:function Cn(){return(0,f.RDi)(document),document},deps:[]}]),On=new f.OlP(""),on=[{provide:f.rWj,useClass:class ve{addToWindow(Q){f.dqk.getAngularTestability=(B,Te=!0)=>{const Xe=Q.findTestabilityInTree(B,Te);if(null==Xe)throw new f.vHH(5103,!1);return Xe},f.dqk.getAllAngularTestabilities=()=>Q.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>Q.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(B=>{const Te=f.dqk.getAllAngularTestabilities();let Xe=Te.length,kt=!1;const $t=function(mn){kt=kt||mn,Xe--,0==Xe&&B(kt)};Te.forEach(mn=>{mn.whenStable($t)})})}findTestabilityInTree(Q,H,B){return null==H?null:Q.getTestability(H)??(B?(0,o.q)().isShadowRoot(H)?this.findTestabilityInTree(Q,H.host,!0):this.findTestabilityInTree(Q,H.parentElement,!0):null)}},deps:[]},{provide:f.lri,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]}],Nn=[{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function Wt(){return new f.qLn},deps:[]},{provide:z,useClass:Le,multi:!0,deps:[o.K0,f.R0b,f.Lbi]},{provide:z,useClass:Pe,multi:!0,deps:[o.K0]},bt,De,se,{provide:f.FYo,useExisting:bt},{provide:o.JF,useClass:q,deps:[]},[]];let mr=(()=>{class ce{constructor(H){}static withServerTransition(H){return{ngModule:ce,providers:[{provide:f.AFp,useValue:H.appId}]}}static#e=this.\u0275fac=function(B){return new(B||ce)(f.LFG(On,12))};static#t=this.\u0275mod=f.oAB({type:ce});static#n=this.\u0275inj=f.cJS({providers:[...Nn,...on],imports:[o.ez,f.hGG]})}return ce})(),Pr=(()=>{class ce{constructor(H){this._doc=H}getTitle(){return this._doc.title}setTitle(H){this._doc.title=H||""}static#e=this.\u0275fac=function(B){return new(B||ce)(f.LFG(o.K0))};static#t=this.\u0275prov=f.Yz7({token:ce,factory:function(B){let Te=null;return Te=B?new B:function xn(){return new Pr((0,f.LFG)(o.K0))}(),Te},providedIn:"root"})}return ce})();typeof window<"u"&&window;let ii=(()=>{class ce{static#e=this.\u0275fac=function(B){return new(B||ce)};static#t=this.\u0275prov=f.Yz7({token:ce,factory:function(B){let Te=null;return Te=B?new(B||ce):f.LFG(Dt),Te},providedIn:"root"})}return ce})(),Dt=(()=>{class ce extends ii{constructor(H){super(),this._doc=H}sanitize(H,B){if(null==B)return null;switch(H){case f.q3G.NONE:return B;case f.q3G.HTML:return(0,f.qzn)(B,"HTML")?(0,f.z3N)(B):(0,f.EiD)(this._doc,String(B)).toString();case f.q3G.STYLE:return(0,f.qzn)(B,"Style")?(0,f.z3N)(B):B;case f.q3G.SCRIPT:if((0,f.qzn)(B,"Script"))return(0,f.z3N)(B);throw new f.vHH(5200,!1);case f.q3G.URL:return(0,f.qzn)(B,"URL")?(0,f.z3N)(B):(0,f.mCW)(String(B));case f.q3G.RESOURCE_URL:if((0,f.qzn)(B,"ResourceURL"))return(0,f.z3N)(B);throw new f.vHH(5201,!1);default:throw new f.vHH(5202,!1)}}bypassSecurityTrustHtml(H){return(0,f.JVY)(H)}bypassSecurityTrustStyle(H){return(0,f.L6k)(H)}bypassSecurityTrustScript(H){return(0,f.eBb)(H)}bypassSecurityTrustUrl(H){return(0,f.LAX)(H)}bypassSecurityTrustResourceUrl(H){return(0,f.pB0)(H)}static#e=this.\u0275fac=function(B){return new(B||ce)(f.LFG(o.K0))};static#t=this.\u0275prov=f.Yz7({token:ce,factory:function(B){let Te=null;return Te=B?new B:function ct(ce){return new Dt(ce.get(o.K0))}(f.LFG(f.zs3)),Te},providedIn:"root"})}return ce})()},3914:(an,ut,k)=>{"use strict";k.d(ut,{gz:()=>eo,m2:()=>oo,F0:()=>Bo,rH:()=>js,Bz:()=>Ga,lC:()=>Ri});var f=k(5879),o=k(5592),U=k(4674),_e=k(2459),Ae=k(2096),de=k(5619),ae=k(2572),ve=k(6973),q=k(5211),z=k(4829);function se(S){return new o.y(O=>{(0,z.Xf)(S()).subscribe(O)})}var be=k(8407),ye=k(8504),De=k(6232),Re=k(7394),Ye=k(9360),We=k(8251);function _t(){return(0,Ye.e)((S,O)=>{let w=null;S._refCount++;const N=(0,We.x)(O,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(w=null);const W=S._connection,pe=w;w=null,W&&(!pe||W===pe)&&W.unsubscribe(),O.unsubscribe()});S.subscribe(N),N.closed||(w=S.connect())})}class Fe extends o.y{constructor(O,w){super(),this.source=O,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,Ye.A)(O)&&(this.lift=O.lift)}_subscribe(O){return this.getSubject().subscribe(O)}getSubject(){const O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:O}=this;this._subject=this._connection=null,O?.unsubscribe()}connect(){let O=this._connection;if(!O){O=this._connection=new Re.w0;const w=this.getSubject();O.add(this.source.subscribe((0,We.x)(w,void 0,()=>{this._teardown(),w.complete()},N=>{this._teardown(),w.error(N)},()=>this._teardown()))),O.closed&&(this._connection=null,O=Re.w0.EMPTY)}return O}refCount(){return _t()(this)}}var Ne=k(8645),tt=k(6814),Ze=k(7398),qe=k(4664),ht=k(8180),bt=k(7921),Ee=k(2181),Nt=k(1631),Vt=k(1374),Dn=k(6328),wt=k(9397),Qe=k(6306),dt=k(6699),Le=k(3572);function we(S){return S<=0?()=>De.E:(0,Ye.e)((O,w)=>{let N=[];O.subscribe((0,We.x)(w,W=>{N.push(W),S<N.length&&N.shift()},()=>{for(const W of N)w.next(W);w.complete()},void 0,()=>{N=null}))})}var te=k(3026),Ie=k(2737),ot=k(4716),vt=k(9773),Bt=k(7537),Zt=k(6593);const Wt="primary",Cn=Symbol("RouteTitle");class Kn{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w[0]:w}return null}getAll(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function Pn(S){return new Kn(S)}function On(S,O,w){const N=w.path.split("/");if(N.length>S.length||"full"===w.pathMatch&&(O.hasChildren()||N.length<S.length))return null;const W={};for(let pe=0;pe<N.length;pe++){const Ve=N[pe],St=S[pe];if(Ve.startsWith(":"))W[Ve.substring(1)]=St;else if(Ve!==St.path)return null}return{consumed:S.slice(0,N.length),posParams:W}}function Nn(S,O){const w=S?Object.keys(S):void 0,N=O?Object.keys(O):void 0;if(!w||!N||w.length!=N.length)return!1;let W;for(let pe=0;pe<w.length;pe++)if(W=w[pe],!mr(S[W],O[W]))return!1;return!0}function mr(S,O){if(Array.isArray(S)&&Array.isArray(O)){if(S.length!==O.length)return!1;const w=[...S].sort(),N=[...O].sort();return w.every((W,pe)=>N[pe]===W)}return S===O}function Yn(S){return S.length>0?S[S.length-1]:null}function Kt(S){return function Se(S){return!!S&&(S instanceof o.y||(0,U.m)(S.lift)&&(0,U.m)(S.subscribe))}(S)?S:(0,f.QGY)(S)?(0,_e.D)(Promise.resolve(S)):(0,Ae.of)(S)}const Hr={exact:function Yt(S,O,w){if(!Ei(S.segments,O.segments)||!Ar(S.segments,O.segments,w)||S.numberOfChildren!==O.numberOfChildren)return!1;for(const N in O.children)if(!S.children[N]||!Yt(S.children[N],O.children[N],w))return!1;return!0},subset:Un},xn={exact:function ir(S,O){return Nn(S,O)},subset:function bn(S,O){return Object.keys(O).length<=Object.keys(S).length&&Object.keys(O).every(w=>mr(S[w],O[w]))},ignored:()=>!0};function Pr(S,O,w){return Hr[w.paths](S.root,O.root,w.matrixParams)&&xn[w.queryParams](S.queryParams,O.queryParams)&&!("exact"===w.fragment&&S.fragment!==O.fragment)}function Un(S,O,w){return jn(S,O,O.segments,w)}function jn(S,O,w,N){if(S.segments.length>w.length){const W=S.segments.slice(0,w.length);return!(!Ei(W,w)||O.hasChildren()||!Ar(W,w,N))}if(S.segments.length===w.length){if(!Ei(S.segments,w)||!Ar(S.segments,w,N))return!1;for(const W in O.children)if(!S.children[W]||!Un(S.children[W],O.children[W],N))return!1;return!0}{const W=w.slice(0,S.segments.length),pe=w.slice(S.segments.length);return!!(Ei(S.segments,W)&&Ar(S.segments,W,N)&&S.children[Wt])&&jn(S.children[Wt],O,pe,N)}}function Ar(S,O,w){return O.every((N,W)=>xn[w](S[W].parameters,N.parameters))}class Cr{constructor(O=new Zn([],{}),w={},N=null){this.root=O,this.queryParams=w,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pn(this.queryParams)),this._queryParamMap}toString(){return xr.serialize(this)}}class Zn{constructor(O,w){this.segments=O,this.children=w,this.parent=null,Object.values(w).forEach(N=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dr(this)}}class Wn{constructor(O,w){this.path=O,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=Pn(this.parameters)),this._parameterMap}toString(){return Hn(this)}}function Ei(S,O){return S.length===O.length&&S.every((w,N)=>w.path===O[N].path)}let Ur=(()=>{class S{static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:function(){return new sr},providedIn:"root"})}return S})();class sr{parse(O){const w=new $t(O);return new Cr(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(O){const w=`/${ii(O.root,!0)}`,N=function Tr(S){const O=Object.keys(S).map(w=>{const N=S[w];return Array.isArray(N)?N.map(W=>`${Dt(w)}=${Dt(W)}`).join("&"):`${Dt(w)}=${Dt(N)}`}).filter(w=>!!w);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${w}${N}${"string"==typeof O.fragment?`#${function ue(S){return encodeURI(S)}(O.fragment)}`:""}`}}const xr=new sr;function Dr(S){return S.segments.map(O=>Hn(O)).join("/")}function ii(S,O){if(!S.hasChildren())return Dr(S);if(O){const w=S.children[Wt]?ii(S.children[Wt],!1):"",N=[];return Object.entries(S.children).forEach(([W,pe])=>{W!==Wt&&N.push(`${W}:${ii(pe,!1)}`)}),N.length>0?`${w}(${N.join("//")})`:w}{const w=function gn(S,O){let w=[];return Object.entries(S.children).forEach(([N,W])=>{N===Wt&&(w=w.concat(O(W,N)))}),Object.entries(S.children).forEach(([N,W])=>{N!==Wt&&(w=w.concat(O(W,N)))}),w}(S,(N,W)=>W===Wt?[ii(S.children[Wt],!1)]:[`${W}:${ii(N,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[Wt]?`${Dr(S)}/${w[0]}`:`${Dr(S)}/(${w.join("//")})`}}function ct(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dt(S){return ct(S).replace(/%3B/gi,";")}function Be(S){return ct(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xt(S){return decodeURIComponent(S)}function en(S){return xt(S.replace(/\+/g,"%20"))}function Hn(S){return`${Be(S.path)}${function hi(S){return Object.keys(S).map(O=>`;${Be(O)}=${Be(S[O])}`).join("")}(S.parameters)}`}const Ge=/^[^\/()?;#]+/;function ce(S){const O=S.match(Ge);return O?O[0]:""}const Q=/^[^\/()?;=#]+/,B=/^[^=?&#]+/,Xe=/^[^&#]+/;class $t{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zn([],{}):new Zn([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(O.length>0||Object.keys(w).length>0)&&(N[Wt]=new Zn(O,w)),N}parseSegment(){const O=ce(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new f.vHH(4009,!1);return this.capture(O),new Wn(xt(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const w=function H(S){const O=S.match(Q);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const W=ce(this.remaining);W&&(N=W,this.capture(N))}O[xt(w)]=xt(N)}parseQueryParam(O){const w=function Te(S){const O=S.match(B);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const Ve=function kt(S){const O=S.match(Xe);return O?O[0]:""}(this.remaining);Ve&&(N=Ve,this.capture(N))}const W=en(w),pe=en(N);if(O.hasOwnProperty(W)){let Ve=O[W];Array.isArray(Ve)||(Ve=[Ve],O[W]=Ve),Ve.push(pe)}else O[W]=pe}parseParens(O){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=ce(this.remaining),W=this.remaining[N.length];if("/"!==W&&")"!==W&&";"!==W)throw new f.vHH(4010,!1);let pe;N.indexOf(":")>-1?(pe=N.slice(0,N.indexOf(":")),this.capture(pe),this.capture(":")):O&&(pe=Wt);const Ve=this.parseChildren();w[pe]=1===Object.keys(Ve).length?Ve[Wt]:new Zn([],Ve),this.consumeOptional("//")}return w}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new f.vHH(4011,!1)}}function mn(S){return S.segments.length>0?new Zn([],{[Wt]:S}):S}function cn(S){const O={};for(const N of Object.keys(S.children)){const pe=cn(S.children[N]);if(N===Wt&&0===pe.segments.length&&pe.hasChildren())for(const[Ve,St]of Object.entries(pe.children))O[Ve]=St;else(pe.segments.length>0||pe.hasChildren())&&(O[N]=pe)}return function fn(S){if(1===S.numberOfChildren&&S.children[Wt]){const O=S.children[Wt];return new Zn(S.segments.concat(O.segments),O.children)}return S}(new Zn(S.segments,O))}function Jn(S){return S instanceof Cr}function He(S){let O;const W=mn(function w(pe){const Ve={};for(const Mt of pe.children){const Tn=w(Mt);Ve[Mt.outlet]=Tn}const St=new Zn(pe.url,Ve);return pe===S&&(O=St),St}(S.root));return O??W}function nt(S,O,w,N){let W=S;for(;W.parent;)W=W.parent;if(0===O.length)return An(W,W,W,w,N);const pe=function En(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new fr(!0,0,S);let O=0,w=!1;const N=S.reduce((W,pe,Ve)=>{if("object"==typeof pe&&null!=pe){if(pe.outlets){const St={};return Object.entries(pe.outlets).forEach(([Mt,Tn])=>{St[Mt]="string"==typeof Tn?Tn.split("/"):Tn}),[...W,{outlets:St}]}if(pe.segmentPath)return[...W,pe.segmentPath]}return"string"!=typeof pe?[...W,pe]:0===Ve?(pe.split("/").forEach((St,Mt)=>{0==Mt&&"."===St||(0==Mt&&""===St?w=!0:".."===St?O++:""!=St&&W.push(St))}),W):[...W,pe]},[]);return new fr(w,O,N)}(O);if(pe.toRoot())return An(W,W,new Zn([],{}),w,N);const Ve=function pt(S,O,w){if(S.isAbsolute)return new yt(O,!0,0);if(!w)return new yt(O,!1,NaN);if(null===w.parent)return new yt(w,!0,0);const N=jt(S.commands[0])?0:1;return function Ft(S,O,w){let N=S,W=O,pe=w;for(;pe>W;){if(pe-=W,N=N.parent,!N)throw new f.vHH(4005,!1);W=N.segments.length}return new yt(N,!1,W-pe)}(w,w.segments.length-1+N,S.numberOfDoubleDots)}(pe,W,S),St=Ve.processChildren?Vn(Ve.segmentGroup,Ve.index,pe.commands):Ln(Ve.segmentGroup,Ve.index,pe.commands);return An(W,Ve.segmentGroup,St,w,N)}function jt(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function Xt(S){return"object"==typeof S&&null!=S&&S.outlets}function An(S,O,w,N,W){let Ve,pe={};N&&Object.entries(N).forEach(([Mt,Tn])=>{pe[Mt]=Array.isArray(Tn)?Tn.map(wr=>`${wr}`):`${Tn}`}),Ve=S===O?w:ln(S,O,w);const St=mn(cn(Ve));return new Cr(St,pe,W)}function ln(S,O,w){const N={};return Object.entries(S.children).forEach(([W,pe])=>{N[W]=pe===O?w:ln(pe,O,w)}),new Zn(S.segments,N)}class fr{constructor(O,w,N){if(this.isAbsolute=O,this.numberOfDoubleDots=w,this.commands=N,O&&N.length>0&&jt(N[0]))throw new f.vHH(4003,!1);const W=N.find(Xt);if(W&&W!==Yn(N))throw new f.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class yt{constructor(O,w,N){this.segmentGroup=O,this.processChildren=w,this.index=N}}function Ln(S,O,w){if(S||(S=new Zn([],{})),0===S.segments.length&&S.hasChildren())return Vn(S,O,w);const N=function yn(S,O,w){let N=0,W=O;const pe={match:!1,pathIndex:0,commandIndex:0};for(;W<S.segments.length;){if(N>=w.length)return pe;const Ve=S.segments[W],St=w[N];if(Xt(St))break;const Mt=`${St}`,Tn=N<w.length-1?w[N+1]:null;if(W>0&&void 0===Mt)break;if(Mt&&Tn&&"object"==typeof Tn&&void 0===Tn.outlets){if(!ei(Mt,Tn,Ve))return pe;N+=2}else{if(!ei(Mt,{},Ve))return pe;N++}W++}return{match:!0,pathIndex:W,commandIndex:N}}(S,O,w),W=w.slice(N.commandIndex);if(N.match&&N.pathIndex<S.segments.length){const pe=new Zn(S.segments.slice(0,N.pathIndex),{});return pe.children[Wt]=new Zn(S.segments.slice(N.pathIndex),S.children),Vn(pe,0,W)}return N.match&&0===W.length?new Zn(S.segments,{}):N.match&&!S.hasChildren()?zn(S,O,w):N.match?Vn(S,0,W):zn(S,O,w)}function Vn(S,O,w){if(0===w.length)return new Zn(S.segments,{});{const N=function un(S){return Xt(S[0])?S[0].outlets:{[Wt]:S}}(w),W={};if(Object.keys(N).some(pe=>pe!==Wt)&&S.children[Wt]&&1===S.numberOfChildren&&0===S.children[Wt].segments.length){const pe=Vn(S.children[Wt],O,w);return new Zn(S.segments,pe.children)}return Object.entries(N).forEach(([pe,Ve])=>{"string"==typeof Ve&&(Ve=[Ve]),null!==Ve&&(W[pe]=Ln(S.children[pe],O,Ve))}),Object.entries(S.children).forEach(([pe,Ve])=>{void 0===N[pe]&&(W[pe]=Ve)}),new Zn(S.segments,W)}}function zn(S,O,w){const N=S.segments.slice(0,O);let W=0;for(;W<w.length;){const pe=w[W];if(Xt(pe)){const Mt=Sr(pe.outlets);return new Zn(N,Mt)}if(0===W&&jt(w[0])){N.push(new Wn(S.segments[O].path,fi(w[0]))),W++;continue}const Ve=Xt(pe)?pe.outlets[Wt]:`${pe}`,St=W<w.length-1?w[W+1]:null;Ve&&St&&jt(St)?(N.push(new Wn(Ve,fi(St))),W+=2):(N.push(new Wn(Ve,{})),W++)}return new Zn(N,{})}function Sr(S){const O={};return Object.entries(S).forEach(([w,N])=>{"string"==typeof N&&(N=[N]),null!==N&&(O[w]=zn(new Zn([],{}),0,N))}),O}function fi(S){const O={};return Object.entries(S).forEach(([w,N])=>O[w]=`${N}`),O}function ei(S,O,w){return S==w.path&&Nn(O,w.parameters)}const ur="imperative";class Mi{constructor(O,w){this.id=O,this.url=w}}class mi extends Mi{constructor(O,w,N="imperative",W=null){super(O,w),this.type=0,this.navigationTrigger=N,this.restoredState=W}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class oo extends Mi{constructor(O,w,N){super(O,w),this.urlAfterRedirects=N,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class zr extends Mi{constructor(O,w,N,W){super(O,w),this.reason=N,this.code=W,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jo extends Mi{constructor(O,w,N,W){super(O,w),this.reason=N,this.code=W,this.type=16}}class go extends Mi{constructor(O,w,N,W){super(O,w),this.error=N,this.target=W,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ui extends Mi{constructor(O,w,N,W){super(O,w),this.urlAfterRedirects=N,this.state=W,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qo extends Mi{constructor(O,w,N,W){super(O,w),this.urlAfterRedirects=N,this.state=W,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oi extends Mi{constructor(O,w,N,W,pe){super(O,w),this.urlAfterRedirects=N,this.state=W,this.shouldActivate=pe,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Aa extends Mi{constructor(O,w,N,W){super(O,w),this.urlAfterRedirects=N,this.state=W,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xi extends Mi{constructor(O,w,N,W){super(O,w),this.urlAfterRedirects=N,this.state=W,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jr{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ns{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vo{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bi{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qi{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Es{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Si{constructor(O,w,N){this.routerEvent=O,this.position=w,this.anchor=N,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ks{}class To{constructor(O){this.url=O}}class mo{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new $o,this.attachRef=null}}let $o=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(w,N){const W=this.getOrCreateContext(w);W.outlet=N,this.contexts.set(w,W)}onChildOutletDestroyed(w){const N=this.getContext(w);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let N=this.getContext(w);return N||(N=new mo,this.contexts.set(w,N)),N}getContext(w){return this.contexts.get(w)||null}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();class Xo{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const w=this.pathFromRoot(O);return w.length>1?w[w.length-2]:null}children(O){const w=Xi(O,this._root);return w?w.children.map(N=>N.value):[]}firstChild(O){const w=Xi(O,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(O){const w=us(O,this._root);return w.length<2?[]:w[w.length-2].children.map(W=>W.value).filter(W=>W!==O)}pathFromRoot(O){return us(O,this._root).map(w=>w.value)}}function Xi(S,O){if(S===O.value)return O;for(const w of O.children){const N=Xi(S,w);if(N)return N}return null}function us(S,O){if(S===O.value)return[O];for(const w of O.children){const N=us(S,w);if(N.length)return N.unshift(O),N}return[]}class qn{constructor(O,w){this.value=O,this.children=w}toString(){return`TreeNode(${this.value})`}}function Wr(S){const O={};return S&&S.children.forEach(w=>O[w.value.outlet]=w),O}class si extends Xo{constructor(O,w){super(O),this.snapshot=w,$r(this,O)}toString(){return this.snapshot.toString()}}function ji(S,O){const w=function Xr(S,O){const Ve=new _o([],{},{},"",{},Wt,O,null,{});return new Uo("",new qn(Ve,[]))}(0,O),N=new de.X([new Wn("",{})]),W=new de.X({}),pe=new de.X({}),Ve=new de.X({}),St=new de.X(""),Mt=new eo(N,W,Ve,St,pe,Wt,O,w.root);return Mt.snapshot=w.root,new si(new qn(Mt,[]),w)}class eo{constructor(O,w,N,W,pe,Ve,St,Mt){this.urlSubject=O,this.paramsSubject=w,this.queryParamsSubject=N,this.fragmentSubject=W,this.dataSubject=pe,this.outlet=Ve,this.component=St,this._futureSnapshot=Mt,this.title=this.dataSubject?.pipe((0,Ze.U)(Tn=>Tn[Cn]))??(0,Ae.of)(void 0),this.url=O,this.params=w,this.queryParams=N,this.fragment=W,this.data=pe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ze.U)(O=>Pn(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ze.U)(O=>Pn(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function to(S,O="emptyOnly"){const w=S.pathFromRoot;let N=0;if("always"!==O)for(N=w.length-1;N>=1;){const W=w[N],pe=w[N-1];if(W.routeConfig&&""===W.routeConfig.path)N--;else{if(pe.component)break;N--}}return function As(S){return S.reduce((O,w)=>({params:{...O.params,...w.params},data:{...O.data,...w.data},resolve:{...w.data,...O.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(N))}class _o{get title(){return this.data?.[Cn]}constructor(O,w,N,W,pe,Ve,St,Mt,Tn){this.url=O,this.params=w,this.queryParams=N,this.fragment=W,this.data=pe,this.outlet=Ve,this.component=St,this.routeConfig=Mt,this._resolve=Tn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Uo extends Xo{constructor(O,w){super(w),this.url=O,$r(this,w)}toString(){return _n(this._root)}}function $r(S,O){O.value._routerState=S,O.children.forEach(w=>$r(S,w))}function _n(S){const O=S.children.length>0?` { ${S.children.map(_n).join(", ")} } `:"";return`${S.value}${O}`}function Xn(S){if(S.snapshot){const O=S.snapshot,w=S._futureSnapshot;S.snapshot=w,Nn(O.queryParams,w.queryParams)||S.queryParamsSubject.next(w.queryParams),O.fragment!==w.fragment&&S.fragmentSubject.next(w.fragment),Nn(O.params,w.params)||S.paramsSubject.next(w.params),function on(S,O){if(S.length!==O.length)return!1;for(let w=0;w<S.length;++w)if(!Nn(S[w],O[w]))return!1;return!0}(O.url,w.url)||S.urlSubject.next(w.url),Nn(O.data,w.data)||S.dataSubject.next(w.data)}else S.snapshot=S._futureSnapshot,S.dataSubject.next(S._futureSnapshot.data)}function Rr(S,O){const w=Nn(S.params,O.params)&&function Yr(S,O){return Ei(S,O)&&S.every((w,N)=>Nn(w.parameters,O[N].parameters))}(S.url,O.url);return w&&!(!S.parent!=!O.parent)&&(!S.parent||Rr(S.parent,O.parent))}let Ri=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=Wt,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.parentContexts=(0,f.f3M)($o),this.location=(0,f.f3M)(f.s_b),this.changeDetector=(0,f.f3M)(f.sBO),this.environmentInjector=(0,f.f3M)(f.lqb),this.inputBinder=(0,f.f3M)(ci,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:N,previousValue:W}=w.name;if(N)return;this.isTrackedInParentContexts(W)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(W)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.vHH(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,N){this.activated=w,this._activatedRoute=N,this.location.insert(w.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,N){if(this.isActivated)throw new f.vHH(4013,!1);this._activatedRoute=w;const W=this.location,Ve=w.snapshot.component,St=this.parentContexts.getOrCreateContext(this.name).children,Mt=new Hi(w,St,W.injector);this.activated=W.createComponent(Ve,{index:W.length,injector:Mt,environmentInjector:N??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275dir=f.lG2({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[f.TTD]})}return S})();class Hi{constructor(O,w,N){this.route=O,this.childContexts=w,this.parent=N}get(O,w){return O===eo?this.route:O===$o?this.childContexts:this.parent.get(O,w)}}const ci=new f.OlP("");let wo=(()=>{class S{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){this.outletDataSubscriptions.get(w)?.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:N}=w,W=(0,ae.a)([N.queryParams,N.params,N.data]).pipe((0,qe.w)(([pe,Ve,St],Mt)=>(St={...pe,...Ve,...St},0===Mt?(0,Ae.of)(St):Promise.resolve(St)))).subscribe(pe=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(w);const Ve=(0,f.qFp)(N.component);if(Ve)for(const{templateName:St}of Ve.inputs)w.activatedComponentRef.setInput(St,pe[St]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,W)}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac})}return S})();function no(S,O,w){if(w&&S.shouldReuseRoute(O.value,w.value.snapshot)){const N=w.value;N._futureSnapshot=O.value;const W=function vo(S,O,w){return O.children.map(N=>{for(const W of w.children)if(S.shouldReuseRoute(N.value,W.value.snapshot))return no(S,N,W);return no(S,N)})}(S,O,w);return new qn(N,W)}{if(S.shouldAttach(O.value)){const pe=S.retrieve(O.value);if(null!==pe){const Ve=pe.route;return Ve.value._futureSnapshot=O.value,Ve.children=O.children.map(St=>no(S,St)),Ve}}const N=function nr(S){return new eo(new de.X(S.url),new de.X(S.params),new de.X(S.queryParams),new de.X(S.fragment),new de.X(S.data),S.outlet,S.component,S)}(O.value),W=O.children.map(pe=>no(S,pe));return new qn(N,W)}}const Do="ngNavigationCancelingError";function li(S,O){const{redirectTo:w,navigationBehaviorOptions:N}=Jn(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,W=re(!1,0,O);return W.url=w,W.navigationBehaviorOptions=N,W}function re(S,O,w){const N=new Error("NavigationCancelingError: "+(S||""));return N[Do]=!0,N.cancellationCode=O,w&&(N.url=w),N}function ke(S){return S&&S[Do]}let $e=(()=>{class S{static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275cmp=f.Xpm({type:S,selectors:[["ng-component"]],standalone:!0,features:[f.jDz],decls:1,vars:0,template:function(N,W){1&N&&f._UZ(0,"router-outlet")},dependencies:[Ri],encapsulation:2})}return S})();function Zr(S){const O=S.children&&S.children.map(Zr),w=O?{...S,children:O}:{...S};return!w.component&&!w.loadComponent&&(O||w.loadChildren)&&w.outlet&&w.outlet!==Wt&&(w.component=$e),w}function Or(S){return S.outlet||Wt}function Br(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let O=S.parent;O;O=O.parent){const w=O.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class yr{constructor(O,w,N,W,pe){this.routeReuseStrategy=O,this.futureState=w,this.currState=N,this.forwardEvent=W,this.inputBindingEnabled=pe}activate(O){const w=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,N,O),Xn(this.futureState.root),this.activateChildRoutes(w,N,O)}deactivateChildRoutes(O,w,N){const W=Wr(w);O.children.forEach(pe=>{const Ve=pe.value.outlet;this.deactivateRoutes(pe,W[Ve],N),delete W[Ve]}),Object.values(W).forEach(pe=>{this.deactivateRouteAndItsChildren(pe,N)})}deactivateRoutes(O,w,N){const W=O.value,pe=w?w.value:null;if(W===pe)if(W.component){const Ve=N.getContext(W.outlet);Ve&&this.deactivateChildRoutes(O,w,Ve.children)}else this.deactivateChildRoutes(O,w,N);else pe&&this.deactivateRouteAndItsChildren(w,N)}deactivateRouteAndItsChildren(O,w){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,w):this.deactivateRouteAndOutlet(O,w)}detachAndStoreRouteSubtree(O,w){const N=w.getContext(O.value.outlet),W=N&&O.value.component?N.children:w,pe=Wr(O);for(const Ve of Object.keys(pe))this.deactivateRouteAndItsChildren(pe[Ve],W);if(N&&N.outlet){const Ve=N.outlet.detach(),St=N.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:Ve,route:O,contexts:St})}}deactivateRouteAndOutlet(O,w){const N=w.getContext(O.value.outlet),W=N&&O.value.component?N.children:w,pe=Wr(O);for(const Ve of Object.keys(pe))this.deactivateRouteAndItsChildren(pe[Ve],W);N&&(N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated()),N.attachRef=null,N.route=null)}activateChildRoutes(O,w,N){const W=Wr(w);O.children.forEach(pe=>{this.activateRoutes(pe,W[pe.value.outlet],N),this.forwardEvent(new Es(pe.value.snapshot))}),O.children.length&&this.forwardEvent(new Bi(O.value.snapshot))}activateRoutes(O,w,N){const W=O.value,pe=w?w.value:null;if(Xn(W),W===pe)if(W.component){const Ve=N.getOrCreateContext(W.outlet);this.activateChildRoutes(O,w,Ve.children)}else this.activateChildRoutes(O,w,N);else if(W.component){const Ve=N.getOrCreateContext(W.outlet);if(this.routeReuseStrategy.shouldAttach(W.snapshot)){const St=this.routeReuseStrategy.retrieve(W.snapshot);this.routeReuseStrategy.store(W.snapshot,null),Ve.children.onOutletReAttached(St.contexts),Ve.attachRef=St.componentRef,Ve.route=St.route.value,Ve.outlet&&Ve.outlet.attach(St.componentRef,St.route.value),Xn(St.route.value),this.activateChildRoutes(O,null,Ve.children)}else{const St=Br(W.snapshot);Ve.attachRef=null,Ve.route=W,Ve.injector=St,Ve.outlet&&Ve.outlet.activateWith(W,Ve.injector),this.activateChildRoutes(O,null,Ve.children)}}else this.activateChildRoutes(O,null,N)}}class Pi{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class Qr{constructor(O,w){this.component=O,this.route=w}}function bi(S,O,w){const N=S._root;return Mo(N,O?O._root:null,w,[N.value])}function ro(S,O){const w=Symbol(),N=O.get(S,w);return N===w?"function"!=typeof S||(0,f.Z0I)(S)?O.get(S):S:N}function Mo(S,O,w,N,W={canDeactivateChecks:[],canActivateChecks:[]}){const pe=Wr(O);return S.children.forEach(Ve=>{(function Gi(S,O,w,N,W={canDeactivateChecks:[],canActivateChecks:[]}){const pe=S.value,Ve=O?O.value:null,St=w?w.getContext(S.value.outlet):null;if(Ve&&pe.routeConfig===Ve.routeConfig){const Mt=function Ia(S,O,w){if("function"==typeof w)return w(S,O);switch(w){case"pathParamsChange":return!Ei(S.url,O.url);case"pathParamsOrQueryParamsChange":return!Ei(S.url,O.url)||!Nn(S.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rr(S,O)||!Nn(S.queryParams,O.queryParams);default:return!Rr(S,O)}}(Ve,pe,pe.routeConfig.runGuardsAndResolvers);Mt?W.canActivateChecks.push(new Pi(N)):(pe.data=Ve.data,pe._resolvedData=Ve._resolvedData),Mo(S,O,pe.component?St?St.children:null:w,N,W),Mt&&St&&St.outlet&&St.outlet.isActivated&&W.canDeactivateChecks.push(new Qr(St.outlet.component,Ve))}else Ve&&Po(O,St,W),W.canActivateChecks.push(new Pi(N)),Mo(S,null,pe.component?St?St.children:null:w,N,W)})(Ve,pe[Ve.value.outlet],w,N.concat([Ve.value]),W),delete pe[Ve.value.outlet]}),Object.entries(pe).forEach(([Ve,St])=>Po(St,w.getContext(Ve),W)),W}function Po(S,O,w){const N=Wr(S),W=S.value;Object.entries(N).forEach(([pe,Ve])=>{Po(Ve,W.component?O?O.children.getContext(pe):null:O,w)}),w.canDeactivateChecks.push(new Qr(W.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,W))}function Is(S){return"function"==typeof S}function vr(S){return S instanceof ve.K||"EmptyError"===S?.name}const co=Symbol("INITIAL_VALUE");function vi(){return(0,qe.w)(S=>(0,ae.a)(S.map(O=>O.pipe((0,ht.q)(1),(0,bt.O)(co)))).pipe((0,Ze.U)(O=>{for(const w of O)if(!0!==w){if(w===co)return co;if(!1===w||w instanceof Cr)return w}return!0}),(0,Ee.h)(O=>O!==co),(0,ht.q)(1)))}function es(S){return(0,be.z)((0,wt.b)(O=>{if(Jn(O))throw li(0,O)}),(0,Ze.U)(O=>!0===O))}class yo{constructor(O){this.segmentGroup=O||null}}class Tu{constructor(O){this.urlTree=O}}function Vr(S){return(0,ye._)(new yo(S))}function aa(S){return(0,ye._)(new Tu(S))}class xo{constructor(O,w){this.urlSerializer=O,this.urlTree=w}noMatchError(O){return new f.vHH(4002,!1)}lineralizeSegments(O,w){let N=[],W=w.root;for(;;){if(N=N.concat(W.segments),0===W.numberOfChildren)return(0,Ae.of)(N);if(W.numberOfChildren>1||!W.children[Wt])return(0,ye._)(new f.vHH(4e3,!1));W=W.children[Wt]}}applyRedirectCommands(O,w,N){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),O,N)}applyRedirectCreateUrlTree(O,w,N,W){const pe=this.createSegmentGroup(O,w.root,N,W);return new Cr(pe,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(O,w){const N={};return Object.entries(O).forEach(([W,pe])=>{if("string"==typeof pe&&pe.startsWith(":")){const St=pe.substring(1);N[W]=w[St]}else N[W]=pe}),N}createSegmentGroup(O,w,N,W){const pe=this.createSegments(O,w.segments,N,W);let Ve={};return Object.entries(w.children).forEach(([St,Mt])=>{Ve[St]=this.createSegmentGroup(O,Mt,N,W)}),new Zn(pe,Ve)}createSegments(O,w,N,W){return w.map(pe=>pe.path.startsWith(":")?this.findPosParam(O,pe,W):this.findOrReturn(pe,N))}findPosParam(O,w,N){const W=N[w.path.substring(1)];if(!W)throw new f.vHH(4001,!1);return W}findOrReturn(O,w){let N=0;for(const W of w){if(W.path===O.path)return w.splice(N),W;N++}return O}}const hs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bs(S,O,w,N,W){const pe=wa(S,O,w);return pe.matched?(N=function ft(S,O){return S.providers&&!S._injector&&(S._injector=(0,f.MMx)(S.providers,O,`Route: ${S.path}`)),S._injector??O}(O,N),function ts(S,O,w,N){const W=O.canMatch;if(!W||0===W.length)return(0,Ae.of)(!0);const pe=W.map(Ve=>{const St=ro(Ve,S);return Kt(function ge(S){return S&&Is(S.canMatch)}(St)?St.canMatch(O,w):S.runInContext(()=>St(O,w)))});return(0,Ae.of)(pe).pipe(vi(),es())}(N,O,w).pipe((0,Ze.U)(Ve=>!0===Ve?pe:{...hs}))):(0,Ae.of)(pe)}function wa(S,O,w){if(""===O.path)return"full"===O.pathMatch&&(S.hasChildren()||w.length>0)?{...hs}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const W=(O.matcher||On)(w,S,O);if(!W)return{...hs};const pe={};Object.entries(W.posParams??{}).forEach(([St,Mt])=>{pe[St]=Mt.path});const Ve=W.consumed.length>0?{...pe,...W.consumed[W.consumed.length-1].parameters}:pe;return{matched:!0,consumedSegments:W.consumed,remainingSegments:w.slice(W.consumed.length),parameters:Ve,positionalParamSegments:W.posParams??{}}}function Da(S,O,w,N){return w.length>0&&function ol(S,O,w){return w.some(N=>ca(S,O,N)&&Or(N)!==Wt)}(S,w,N)?{segmentGroup:new Zn(O,yc(N,new Zn(w,S.children))),slicedSegments:[]}:0===w.length&&function Ec(S,O,w){return w.some(N=>ca(S,O,N))}(S,w,N)?{segmentGroup:new Zn(S.segments,pr(S,0,w,N,S.children)),slicedSegments:w}:{segmentGroup:new Zn(S.segments,S.children),slicedSegments:w}}function pr(S,O,w,N,W){const pe={};for(const Ve of N)if(ca(S,w,Ve)&&!W[Or(Ve)]){const St=new Zn([],{});pe[Or(Ve)]=St}return{...W,...pe}}function yc(S,O){const w={};w[Wt]=O;for(const N of S)if(""===N.path&&Or(N)!==Wt){const W=new Zn([],{});w[Or(N)]=W}return w}function ca(S,O,w){return(!(S.hasChildren()||O.length>0)||"full"!==w.pathMatch)&&""===w.path}class sl{constructor(O,w,N,W,pe,Ve,St){this.injector=O,this.configLoader=w,this.rootComponentType=N,this.config=W,this.urlTree=pe,this.paramsInheritanceStrategy=Ve,this.urlSerializer=St,this.allowRedirects=!0,this.applyRedirects=new xo(this.urlSerializer,this.urlTree)}noMatchError(O){return new f.vHH(4002,!1)}recognize(){const O=Da(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,Wt).pipe((0,Qe.K)(w=>{if(w instanceof Tu)return this.allowRedirects=!1,this.urlTree=w.urlTree,this.match(w.urlTree);throw w instanceof yo?this.noMatchError(w):w}),(0,Ze.U)(w=>{const N=new _o([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Wt,this.rootComponentType,null,{}),W=new qn(N,w),pe=new Uo("",W),Ve=function Je(S,O,w=null,N=null){return nt(He(S),O,w,N)}(N,[],this.urlTree.queryParams,this.urlTree.fragment);return Ve.queryParams=this.urlTree.queryParams,pe.url=this.urlSerializer.serialize(Ve),this.inheritParamsAndData(pe._root),{state:pe,tree:Ve}}))}match(O){return this.processSegmentGroup(this.injector,this.config,O.root,Wt).pipe((0,Qe.K)(N=>{throw N instanceof yo?this.noMatchError(N):N}))}inheritParamsAndData(O){const w=O.value,N=to(w,this.paramsInheritanceStrategy);w.params=Object.freeze(N.params),w.data=Object.freeze(N.data),O.children.forEach(W=>this.inheritParamsAndData(W))}processSegmentGroup(O,w,N,W){return 0===N.segments.length&&N.hasChildren()?this.processChildren(O,w,N):this.processSegment(O,w,N,N.segments,W,!0)}processChildren(O,w,N){const W=[];for(const pe of Object.keys(N.children))"primary"===pe?W.unshift(pe):W.push(pe);return(0,_e.D)(W).pipe((0,Dn.b)(pe=>{const Ve=N.children[pe],St=function _i(S,O){const w=S.filter(N=>Or(N)===O);return w.push(...S.filter(N=>Or(N)!==O)),w}(w,pe);return this.processSegmentGroup(O,St,Ve,pe)}),(0,dt.R)((pe,Ve)=>(pe.push(...Ve),pe)),(0,Le.d)(null),function Pe(S,O){const w=arguments.length>=2;return N=>N.pipe(S?(0,Ee.h)((W,pe)=>S(W,pe,N)):Ie.y,we(1),w?(0,Le.d)(O):(0,te.T)(()=>new ve.K))}(),(0,Nt.z)(pe=>{if(null===pe)return Vr(N);const Ve=Us(pe);return function al(S){S.sort((O,w)=>O.value.outlet===Wt?-1:w.value.outlet===Wt?1:O.value.outlet.localeCompare(w.value.outlet))}(Ve),(0,Ae.of)(Ve)}))}processSegment(O,w,N,W,pe,Ve){return(0,_e.D)(w).pipe((0,Dn.b)(St=>this.processSegmentAgainstRoute(St._injector??O,w,St,N,W,pe,Ve).pipe((0,Qe.K)(Mt=>{if(Mt instanceof yo)return(0,Ae.of)(null);throw Mt}))),(0,Vt.P)(St=>!!St),(0,Qe.K)(St=>{if(vr(St))return function Vs(S,O,w){return 0===O.length&&!S.children[w]}(N,W,pe)?(0,Ae.of)([]):Vr(N);throw St}))}processSegmentAgainstRoute(O,w,N,W,pe,Ve,St){return function Ls(S,O,w,N){return!!(Or(S)===N||N!==Wt&&ca(O,w,S))&&("**"===S.path||wa(O,S,w).matched)}(N,W,pe,Ve)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(O,W,N,pe,Ve,St):St&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,W,w,N,pe,Ve):Vr(W):Vr(W)}expandSegmentAgainstRouteUsingRedirect(O,w,N,W,pe,Ve){return"**"===W.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,N,W,Ve):this.expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,W,pe,Ve)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,w,N,W){const pe=this.applyRedirects.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?aa(pe):this.applyRedirects.lineralizeSegments(N,pe).pipe((0,Nt.z)(Ve=>{const St=new Zn(Ve,{});return this.processSegment(O,w,St,Ve,W,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,W,pe,Ve){const{matched:St,consumedSegments:Mt,remainingSegments:Tn,positionalParamSegments:wr}=wa(w,W,pe);if(!St)return Vr(w);const di=this.applyRedirects.applyRedirectCommands(Mt,W.redirectTo,wr);return W.redirectTo.startsWith("/")?aa(di):this.applyRedirects.lineralizeSegments(W,di).pipe((0,Nt.z)(br=>this.processSegment(O,N,w,br.concat(Tn),Ve,!1)))}matchSegmentAgainstRoute(O,w,N,W,pe,Ve){let St;if("**"===N.path){const Mt=W.length>0?Yn(W).parameters:{},Tn=new _o(W,Mt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Cs(N),Or(N),N.component??N._loadedComponent??null,N,cl(N));St=(0,Ae.of)({snapshot:Tn,consumedSegments:[],remainingSegments:[]}),w.children={}}else St=bs(w,N,W,O).pipe((0,Ze.U)(({matched:Mt,consumedSegments:Tn,remainingSegments:wr,parameters:di})=>Mt?{snapshot:new _o(Tn,di,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Cs(N),Or(N),N.component??N._loadedComponent??null,N,cl(N)),consumedSegments:Tn,remainingSegments:wr}:null));return St.pipe((0,qe.w)(Mt=>null===Mt?Vr(w):this.getChildConfig(O=N._injector??O,N,W).pipe((0,qe.w)(({routes:Tn})=>{const wr=N._loadedInjector??O,{snapshot:di,consumedSegments:br,remainingSegments:ko}=Mt,{segmentGroup:ns,slicedSegments:Ms}=Da(w,br,ko,Tn);if(0===Ms.length&&ns.hasChildren())return this.processChildren(wr,Tn,ns).pipe((0,Ze.U)(Ps=>null===Ps?null:[new qn(di,Ps)]));if(0===Tn.length&&0===Ms.length)return(0,Ae.of)([new qn(di,[])]);const ha=Or(N)===pe;return this.processSegment(wr,Tn,ns,Ms,ha?Wt:pe,!0).pipe((0,Ze.U)(Ps=>[new qn(di,Ps)]))}))))}getChildConfig(O,w,N){return w.children?(0,Ae.of)({routes:w.children,injector:O}):w.loadChildren?void 0!==w._loadedRoutes?(0,Ae.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function _c(S,O,w,N){const W=O.canLoad;if(void 0===W||0===W.length)return(0,Ae.of)(!0);const pe=W.map(Ve=>{const St=ro(Ve,S);return Kt(function Fs(S){return S&&Is(S.canLoad)}(St)?St.canLoad(O,w):S.runInContext(()=>St(O,w)))});return(0,Ae.of)(pe).pipe(vi(),es())}(O,w,N).pipe((0,Nt.z)(W=>W?this.configLoader.loadChildren(O,w).pipe((0,wt.b)(pe=>{w._loadedRoutes=pe.routes,w._loadedInjector=pe.injector})):function vc(S){return(0,ye._)(re(!1,3))}())):(0,Ae.of)({routes:[],injector:O})}}function Ac(S){const O=S.value.routeConfig;return O&&""===O.path}function Us(S){const O=[],w=new Set;for(const N of S){if(!Ac(N)){O.push(N);continue}const W=O.find(pe=>N.value.routeConfig===pe.value.routeConfig);void 0!==W?(W.children.push(...N.children),w.add(W)):O.push(N)}for(const N of w){const W=Us(N.children);O.push(new qn(N.value,W))}return O.filter(N=>!w.has(N))}function Cs(S){return S.data||{}}function cl(S){return S.resolve||{}}function Ci(S){return"string"==typeof S.title||null===S.title}function x(S){return(0,qe.w)(O=>{const w=S(O);return w?(0,_e.D)(w).pipe((0,Ze.U)(()=>O)):(0,Ae.of)(O)})}const oe=new f.OlP("ROUTES");let j=(()=>{class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,f.f3M)(f.Sil)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,Ae.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const N=Kt(w.loadComponent()).pipe((0,Ze.U)(Ot),(0,wt.b)(pe=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=pe}),(0,ot.x)(()=>{this.componentLoaders.delete(w)})),W=new Fe(N,()=>new Ne.x).pipe(_t());return this.componentLoaders.set(w,W),W}loadChildren(w,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,Ae.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const pe=function ne(S,O,w,N){return Kt(S.loadChildren()).pipe((0,Ze.U)(Ot),(0,Nt.z)(W=>W instanceof f.YKP||Array.isArray(W)?(0,Ae.of)(W):(0,_e.D)(O.compileModuleAsync(W))),(0,Ze.U)(W=>{N&&N(S);let pe,Ve,St=!1;return Array.isArray(W)?(Ve=W,!0):(pe=W.create(w).injector,Ve=pe.get(oe,[],{optional:!0,self:!0}).flat()),{routes:Ve.map(Zr),injector:pe}}))}(N,this.compiler,w,this.onLoadEndListener).pipe((0,ot.x)(()=>{this.childrenLoaders.delete(N)})),Ve=new Fe(pe,()=>new Ne.x).pipe(_t());return this.childrenLoaders.set(N,Ve),Ve}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function Ot(S){return function Ue(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let Ht=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ne.x,this.transitionAbortSubject=new Ne.x,this.configLoader=(0,f.f3M)(j),this.environmentInjector=(0,f.f3M)(f.lqb),this.urlSerializer=(0,f.f3M)(Ur),this.rootContexts=(0,f.f3M)($o),this.inputBindingEnabled=null!==(0,f.f3M)(ci,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ae.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=W=>this.events.next(new Ns(W)),this.configLoader.onLoadStartListener=W=>this.events.next(new Jr(W))}complete(){this.transitions?.complete()}handleNavigationRequest(w){const N=++this.navigationId;this.transitions?.next({...this.transitions.value,...w,id:N})}setupNavigations(w,N,W){return this.transitions=new de.X({id:0,currentUrlTree:N,currentRawUrl:N,currentBrowserUrl:N,extractedUrl:w.urlHandlingStrategy.extract(N),urlAfterRedirects:w.urlHandlingStrategy.extract(N),rawUrl:N,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ur,restoredState:null,currentSnapshot:W.snapshot,targetSnapshot:null,currentRouterState:W,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ee.h)(pe=>0!==pe.id),(0,Ze.U)(pe=>({...pe,extractedUrl:w.urlHandlingStrategy.extract(pe.rawUrl)})),(0,qe.w)(pe=>{this.currentTransition=pe;let Ve=!1,St=!1;return(0,Ae.of)(pe).pipe((0,wt.b)(Mt=>{this.currentNavigation={id:Mt.id,initialUrl:Mt.rawUrl,extractedUrl:Mt.extractedUrl,trigger:Mt.source,extras:Mt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,qe.w)(Mt=>{const Tn=Mt.currentBrowserUrl.toString(),wr=!w.navigated||Mt.extractedUrl.toString()!==Tn||Tn!==Mt.currentUrlTree.toString();if(!wr&&"reload"!==(Mt.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const br="";return this.events.next(new Jo(Mt.id,this.urlSerializer.serialize(Mt.rawUrl),br,0)),Mt.resolve(null),De.E}if(w.urlHandlingStrategy.shouldProcessUrl(Mt.rawUrl))return(0,Ae.of)(Mt).pipe((0,qe.w)(br=>{const ko=this.transitions?.getValue();return this.events.next(new mi(br.id,this.urlSerializer.serialize(br.extractedUrl),br.source,br.restoredState)),ko!==this.transitions?.getValue()?De.E:Promise.resolve(br)}),function Sa(S,O,w,N,W,pe){return(0,Nt.z)(Ve=>function la(S,O,w,N,W,pe,Ve="emptyOnly"){return new sl(S,O,w,N,W,Ve,pe).recognize()}(S,O,w,N,Ve.extractedUrl,W,pe).pipe((0,Ze.U)(({state:St,tree:Mt})=>({...Ve,targetSnapshot:St,urlAfterRedirects:Mt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,wt.b)(br=>{pe.targetSnapshot=br.targetSnapshot,pe.urlAfterRedirects=br.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:br.urlAfterRedirects};const ko=new Ui(br.id,this.urlSerializer.serialize(br.extractedUrl),this.urlSerializer.serialize(br.urlAfterRedirects),br.targetSnapshot);this.events.next(ko)}));if(wr&&w.urlHandlingStrategy.shouldProcessUrl(Mt.currentRawUrl)){const{id:br,extractedUrl:ko,source:ns,restoredState:Ms,extras:ha}=Mt,Ps=new mi(br,this.urlSerializer.serialize(ko),ns,Ms);this.events.next(Ps);const Qa=ji(0,this.rootComponentType).snapshot;return this.currentTransition=pe={...Mt,targetSnapshot:Qa,urlAfterRedirects:ko,extras:{...ha,skipLocationChange:!1,replaceUrl:!1}},(0,Ae.of)(pe)}{const br="";return this.events.next(new Jo(Mt.id,this.urlSerializer.serialize(Mt.extractedUrl),br,1)),Mt.resolve(null),De.E}}),(0,wt.b)(Mt=>{const Tn=new Qo(Mt.id,this.urlSerializer.serialize(Mt.extractedUrl),this.urlSerializer.serialize(Mt.urlAfterRedirects),Mt.targetSnapshot);this.events.next(Tn)}),(0,Ze.U)(Mt=>(this.currentTransition=pe={...Mt,guards:bi(Mt.targetSnapshot,Mt.currentSnapshot,this.rootContexts)},pe)),function ba(S,O){return(0,Nt.z)(w=>{const{targetSnapshot:N,currentSnapshot:W,guards:{canActivateChecks:pe,canDeactivateChecks:Ve}}=w;return 0===Ve.length&&0===pe.length?(0,Ae.of)({...w,guardsResult:!0}):function ql(S,O,w,N){return(0,_e.D)(S).pipe((0,Nt.z)(W=>function sa(S,O,w,N,W){const pe=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!pe||0===pe.length)return(0,Ae.of)(!0);const Ve=pe.map(St=>{const Mt=Br(O)??W,Tn=ro(St,Mt);return Kt(function F(S){return S&&Is(S.canDeactivate)}(Tn)?Tn.canDeactivate(S,O,w,N):Mt.runInContext(()=>Tn(S,O,w,N))).pipe((0,Vt.P)())});return(0,Ae.of)(Ve).pipe(vi())}(W.component,W.route,w,O,N)),(0,Vt.P)(W=>!0!==W,!0))}(Ve,N,W,S).pipe((0,Nt.z)(St=>St&&function za(S){return"boolean"==typeof S}(St)?function gc(S,O,w,N){return(0,_e.D)(O).pipe((0,Dn.b)(W=>(0,q.z)(function Ca(S,O){return null!==S&&O&&O(new Vo(S)),(0,Ae.of)(!0)}(W.route.parent,N),function $a(S,O){return null!==S&&O&&O(new qi(S)),(0,Ae.of)(!0)}(W.route,N),function Ta(S,O,w){const N=O[O.length-1],pe=O.slice(0,O.length-1).reverse().map(Ve=>function ds(S){const O=S.routeConfig?S.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:S,guards:O}:null}(Ve)).filter(Ve=>null!==Ve).map(Ve=>se(()=>{const St=Ve.guards.map(Mt=>{const Tn=Br(Ve.node)??w,wr=ro(Mt,Tn);return Kt(function ie(S){return S&&Is(S.canActivateChild)}(wr)?wr.canActivateChild(N,S):Tn.runInContext(()=>wr(N,S))).pipe((0,Vt.P)())});return(0,Ae.of)(St).pipe(vi())}));return(0,Ae.of)(pe).pipe(vi())}(S,W.path,w),function mc(S,O,w){const N=O.routeConfig?O.routeConfig.canActivate:null;if(!N||0===N.length)return(0,Ae.of)(!0);const W=N.map(pe=>se(()=>{const Ve=Br(O)??w,St=ro(pe,Ve);return Kt(function K(S){return S&&Is(S.canActivate)}(St)?St.canActivate(O,S):Ve.runInContext(()=>St(O,S))).pipe((0,Vt.P)())}));return(0,Ae.of)(W).pipe(vi())}(S,W.route,w))),(0,Vt.P)(W=>!0!==W,!0))}(N,pe,S,O):(0,Ae.of)(St)),(0,Ze.U)(St=>({...w,guardsResult:St})))})}(this.environmentInjector,Mt=>this.events.next(Mt)),(0,wt.b)(Mt=>{if(pe.guardsResult=Mt.guardsResult,Jn(Mt.guardsResult))throw li(0,Mt.guardsResult);const Tn=new oi(Mt.id,this.urlSerializer.serialize(Mt.extractedUrl),this.urlSerializer.serialize(Mt.urlAfterRedirects),Mt.targetSnapshot,!!Mt.guardsResult);this.events.next(Tn)}),(0,Ee.h)(Mt=>!!Mt.guardsResult||(this.cancelNavigationTransition(Mt,"",3),!1)),x(Mt=>{if(Mt.guards.canActivateChecks.length)return(0,Ae.of)(Mt).pipe((0,wt.b)(Tn=>{const wr=new Aa(Tn.id,this.urlSerializer.serialize(Tn.extractedUrl),this.urlSerializer.serialize(Tn.urlAfterRedirects),Tn.targetSnapshot);this.events.next(wr)}),(0,qe.w)(Tn=>{let wr=!1;return(0,Ae.of)(Tn).pipe(function Za(S,O){return(0,Nt.z)(w=>{const{targetSnapshot:N,guards:{canActivateChecks:W}}=w;if(!W.length)return(0,Ae.of)(w);let pe=0;return(0,_e.D)(W).pipe((0,Dn.b)(Ve=>function Gl(S,O,w,N){const W=S.routeConfig,pe=S._resolve;return void 0!==W?.title&&!Ci(W)&&(pe[Cn]=W.title),function ua(S,O,w,N){const W=function Ts(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===W.length)return(0,Ae.of)({});const pe={};return(0,_e.D)(W).pipe((0,Nt.z)(Ve=>function ll(S,O,w,N){const W=Br(O)??N,pe=ro(S,W);return Kt(pe.resolve?pe.resolve(O,w):W.runInContext(()=>pe(O,w)))}(S[Ve],O,w,N).pipe((0,Vt.P)(),(0,wt.b)(St=>{pe[Ve]=St}))),we(1),function je(S){return(0,Ze.U)(()=>S)}(pe),(0,Qe.K)(Ve=>vr(Ve)?De.E:(0,ye._)(Ve)))}(pe,S,O,N).pipe((0,Ze.U)(Ve=>(S._resolvedData=Ve,S.data=to(S,w).resolve,W&&Ci(W)&&(S.data[Cn]=W.title),null)))}(Ve.route,N,S,O)),(0,wt.b)(()=>pe++),we(1),(0,Nt.z)(Ve=>pe===W.length?(0,Ae.of)(w):De.E))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,wt.b)({next:()=>wr=!0,complete:()=>{wr||this.cancelNavigationTransition(Tn,"",2)}}))}),(0,wt.b)(Tn=>{const wr=new xi(Tn.id,this.urlSerializer.serialize(Tn.extractedUrl),this.urlSerializer.serialize(Tn.urlAfterRedirects),Tn.targetSnapshot);this.events.next(wr)}))}),x(Mt=>{const Tn=wr=>{const di=[];wr.routeConfig?.loadComponent&&!wr.routeConfig._loadedComponent&&di.push(this.configLoader.loadComponent(wr.routeConfig).pipe((0,wt.b)(br=>{wr.component=br}),(0,Ze.U)(()=>{})));for(const br of wr.children)di.push(...Tn(br));return di};return(0,ae.a)(Tn(Mt.targetSnapshot.root)).pipe((0,Le.d)(),(0,ht.q)(1))}),x(()=>this.afterPreactivation()),(0,Ze.U)(Mt=>{const Tn=function ai(S,O,w){const N=no(S,O._root,w?w._root:void 0);return new si(N,O)}(w.routeReuseStrategy,Mt.targetSnapshot,Mt.currentRouterState);return this.currentTransition=pe={...Mt,targetRouterState:Tn},pe}),(0,wt.b)(()=>{this.events.next(new ks)}),((S,O,w,N)=>(0,Ze.U)(W=>(new yr(O,W.targetRouterState,W.currentRouterState,w,N).activate(S),W)))(this.rootContexts,w.routeReuseStrategy,Mt=>this.events.next(Mt),this.inputBindingEnabled),(0,ht.q)(1),(0,wt.b)({next:Mt=>{Ve=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new oo(Mt.id,this.urlSerializer.serialize(Mt.extractedUrl),this.urlSerializer.serialize(Mt.urlAfterRedirects))),w.titleStrategy?.updateTitle(Mt.targetRouterState.snapshot),Mt.resolve(!0)},complete:()=>{Ve=!0}}),(0,vt.R)(this.transitionAbortSubject.pipe((0,wt.b)(Mt=>{throw Mt}))),(0,ot.x)(()=>{Ve||St||this.cancelNavigationTransition(pe,"",1),this.currentNavigation?.id===pe.id&&(this.currentNavigation=null)}),(0,Qe.K)(Mt=>{if(St=!0,ke(Mt))this.events.next(new zr(pe.id,this.urlSerializer.serialize(pe.extractedUrl),Mt.message,Mt.cancellationCode)),function Y(S){return ke(S)&&Jn(S.url)}(Mt)?this.events.next(new To(Mt.url)):pe.resolve(!1);else{this.events.next(new go(pe.id,this.urlSerializer.serialize(pe.extractedUrl),Mt,pe.targetSnapshot??void 0));try{pe.resolve(w.errorHandler(Mt))}catch(Tn){pe.reject(Tn)}}return De.E}))}))}cancelNavigationTransition(w,N,W){const pe=new zr(w.id,this.urlSerializer.serialize(w.extractedUrl),N,W);this.events.next(pe),w.resolve(!1)}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function Mn(S){return S!==ur}let Lr=(()=>{class S{buildTitle(w){let N,W=w.root;for(;void 0!==W;)N=this.getResolvedTitleForRoute(W)??N,W=W.children.find(pe=>pe.outlet===Wt);return N}getResolvedTitleForRoute(w){return w.data[Cn]}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:function(){return(0,f.f3M)(ui)},providedIn:"root"})}return S})(),ui=(()=>{class S extends Lr{constructor(w){super(),this.title=w}updateTitle(w){const N=this.buildTitle(w);void 0!==N&&this.title.setTitle(N)}static#e=this.\u0275fac=function(N){return new(N||S)(f.LFG(Zt.Dx))};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})(),ti=(()=>{class S{static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:function(){return(0,f.f3M)(pi)},providedIn:"root"})}return S})();class Ir{shouldDetach(O){return!1}store(O,w){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,w){return O.routeConfig===w.routeConfig}}let pi=(()=>{class S extends Ir{static#e=this.\u0275fac=function(){let w;return function(W){return(w||(w=f.n5z(S)))(W||S)}}();static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const Kr=new f.OlP("",{providedIn:"root",factory:()=>({})});let Wi=(()=>{class S{static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:function(){return(0,f.f3M)(So)},providedIn:"root"})}return S})(),So=(()=>{class S{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,N){return w}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();var Eo=function(S){return S[S.COMPLETE=0]="COMPLETE",S[S.FAILED=1]="FAILED",S[S.REDIRECTING=2]="REDIRECTING",S}(Eo||{});function Bs(S,O){S.events.pipe((0,Ee.h)(w=>w instanceof oo||w instanceof zr||w instanceof go||w instanceof Jo),(0,Ze.U)(w=>w instanceof oo||w instanceof Jo?Eo.COMPLETE:w instanceof zr&&(0===w.code||1===w.code)?Eo.REDIRECTING:Eo.FAILED),(0,Ee.h)(w=>w!==Eo.REDIRECTING),(0,ht.q)(1)).subscribe(()=>{O()})}function Zo(S){throw S}function Ti(S,O,w){return O.parse("/")}const cr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bo=(()=>{class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,f.f3M)(f.c2e),this.isNgZoneEnabled=!1,this._events=new Ne.x,this.options=(0,f.f3M)(Kr,{optional:!0})||{},this.pendingTasks=(0,f.f3M)(f.HDt),this.errorHandler=this.options.errorHandler||Zo,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ti,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,f.f3M)(Wi),this.routeReuseStrategy=(0,f.f3M)(ti),this.titleStrategy=(0,f.f3M)(Lr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,f.f3M)(oe,{optional:!0})?.flat()??[],this.navigationTransitions=(0,f.f3M)(Ht),this.urlSerializer=(0,f.f3M)(Ur),this.location=(0,f.f3M)(tt.Ye),this.componentInputBindingEnabled=!!(0,f.f3M)(ci,{optional:!0}),this.eventsSubscription=new Re.w0,this.isNgZoneEnabled=(0,f.f3M)(f.R0b)instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Cr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ji(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(w=>{this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(N=>{try{const{currentTransition:W}=this.navigationTransitions;if(null===W)return void(Ic(N)&&this._events.next(N));if(N instanceof mi)Mn(W.source)&&(this.browserUrlTree=W.extractedUrl);else if(N instanceof Jo)this.rawUrlTree=W.rawUrl;else if(N instanceof Ui){if("eager"===this.urlUpdateStrategy){if(!W.extras.skipLocationChange){const pe=this.urlHandlingStrategy.merge(W.urlAfterRedirects,W.rawUrl);this.setBrowserUrl(pe,W)}this.browserUrlTree=W.urlAfterRedirects}}else if(N instanceof ks)this.currentUrlTree=W.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(W.urlAfterRedirects,W.rawUrl),this.routerState=W.targetRouterState,"deferred"===this.urlUpdateStrategy&&(W.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,W),this.browserUrlTree=W.urlAfterRedirects);else if(N instanceof zr)0!==N.code&&1!==N.code&&(this.navigated=!0),(3===N.code||2===N.code)&&this.restoreHistory(W);else if(N instanceof To){const pe=this.urlHandlingStrategy.merge(N.url,W.currentRawUrl),Ve={skipLocationChange:W.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Mn(W.source)};this.scheduleNavigation(pe,ur,null,Ve,{resolve:W.resolve,reject:W.reject,promise:W.promise})}N instanceof go&&this.restoreHistory(W,!0),N instanceof oo&&(this.navigated=!0),Ic(N)&&this._events.next(N)}catch(W){this.navigationTransitions.transitionAbortSubject.next(W)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ur,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const N="popstate"===w.type?"popstate":"hashchange";"popstate"===N&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,N,w.state)},0)}))}navigateToSyncWithBrowser(w,N,W){const pe={replaceUrl:!0},Ve=W?.navigationId?W:null;if(W){const Mt={...W};delete Mt.navigationId,delete Mt.\u0275routerPageId,0!==Object.keys(Mt).length&&(pe.state=Mt)}const St=this.parseUrl(w);this.scheduleNavigation(St,N,Ve,pe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(Zr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,N={}){const{relativeTo:W,queryParams:pe,fragment:Ve,queryParamsHandling:St,preserveFragment:Mt}=N,Tn=Mt?this.currentUrlTree.fragment:Ve;let di,wr=null;switch(St){case"merge":wr={...this.currentUrlTree.queryParams,...pe};break;case"preserve":wr=this.currentUrlTree.queryParams;break;default:wr=pe||null}null!==wr&&(wr=this.removeEmptyProps(wr));try{di=He(W?W.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||!w[0].startsWith("/"))&&(w=[]),di=this.currentUrlTree.root}return nt(di,w,wr,Tn??null)}navigateByUrl(w,N={skipLocationChange:!1}){const W=Jn(w)?w:this.parseUrl(w),pe=this.urlHandlingStrategy.merge(W,this.rawUrlTree);return this.scheduleNavigation(pe,ur,null,N)}navigate(w,N={skipLocationChange:!1}){return function yi(S){for(let O=0;O<S.length;O++)if(null==S[O])throw new f.vHH(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,N),N)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let N;try{N=this.urlSerializer.parse(w)}catch(W){N=this.malformedUriErrorHandler(W,this.urlSerializer,w)}return N}isActive(w,N){let W;if(W=!0===N?{...cr}:!1===N?{...qo}:N,Jn(w))return Pr(this.currentUrlTree,w,W);const pe=this.parseUrl(w);return Pr(this.currentUrlTree,pe,W)}removeEmptyProps(w){return Object.keys(w).reduce((N,W)=>{const pe=w[W];return null!=pe&&(N[W]=pe),N},{})}scheduleNavigation(w,N,W,pe,Ve){if(this.disposed)return Promise.resolve(!1);let St,Mt,Tn;Ve?(St=Ve.resolve,Mt=Ve.reject,Tn=Ve.promise):Tn=new Promise((di,br)=>{St=di,Mt=br});const wr=this.pendingTasks.add();return Bs(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(wr))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:W,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:w,extras:pe,resolve:St,reject:Mt,promise:Tn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Tn.catch(di=>Promise.reject(di))}setBrowserUrl(w,N){const W=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(W)||N.extras.replaceUrl){const Ve={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId)};this.location.replaceState(W,"",Ve)}else{const pe={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId+1)};this.location.go(W,"",pe)}}restoreHistory(w,N=!1){if("computed"===this.canceledNavigationResolution){const pe=this.currentPageId-this.browserPageId;0!==pe?this.location.historyGo(pe):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===pe&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,N){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:N}:{navigationId:w}}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function Ic(S){return!(S instanceof ks||S instanceof To)}let js=(()=>{class S{constructor(w,N,W,pe,Ve,St){this.router=w,this.route=N,this.tabIndexAttribute=W,this.renderer=pe,this.el=Ve,this.locationStrategy=St,this.href=null,this.commands=null,this.onChanges=new Ne.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Mt=Ve.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Mt||"area"===Mt,this.isAnchorElement?this.subscription=w.events.subscribe(Tn=>{Tn instanceof oo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,N,W,pe,Ve){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||N||W||pe||Ve||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const w=null===this.href?null:(0,f.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",w)}applyAttributeValue(w,N){const W=this.renderer,pe=this.el.nativeElement;null!==N?W.setAttribute(pe,w,N):W.removeAttribute(pe,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(N){return new(N||S)(f.Y36(Bo),f.Y36(eo),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(tt.S$))};static#t=this.\u0275dir=f.lG2({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(N,W){1&N&&f.NdJ("click",function(Ve){return W.onClick(Ve.button,Ve.ctrlKey,Ve.shiftKey,Ve.altKey,Ve.metaKey)}),2&N&&f.uIk("target",W.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",f.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",f.VuI],replaceUrl:["replaceUrl","replaceUrl",f.VuI],routerLink:"routerLink"},standalone:!0,features:[f.Xq5,f.TTD]})}return S})();class bc{}let qa=(()=>{class S{constructor(w,N,W,pe,Ve){this.router=w,this.injector=W,this.preloadingStrategy=pe,this.loader=Ve}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ee.h)(w=>w instanceof oo),(0,Dn.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,N){const W=[];for(const pe of N){pe.providers&&!pe._injector&&(pe._injector=(0,f.MMx)(pe.providers,w,`Route: ${pe.path}`));const Ve=pe._injector??w,St=pe._loadedInjector??Ve;(pe.loadChildren&&!pe._loadedRoutes&&void 0===pe.canLoad||pe.loadComponent&&!pe._loadedComponent)&&W.push(this.preloadConfig(Ve,pe)),(pe.children||pe._loadedRoutes)&&W.push(this.processRoutes(St,pe.children??pe._loadedRoutes))}return(0,_e.D)(W).pipe((0,Bt.J)())}preloadConfig(w,N){return this.preloadingStrategy.preload(N,()=>{let W;W=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(w,N):(0,Ae.of)(null);const pe=W.pipe((0,Nt.z)(Ve=>null===Ve?(0,Ae.of)(void 0):(N._loadedRoutes=Ve.routes,N._loadedInjector=Ve.injector,this.processRoutes(Ve.injector??w,Ve.routes))));if(N.loadComponent&&!N._loadedComponent){const Ve=this.loader.loadComponent(N);return(0,_e.D)([pe,Ve]).pipe((0,Bt.J)())}return pe})}static#e=this.\u0275fac=function(N){return new(N||S)(f.LFG(Bo),f.LFG(f.Sil),f.LFG(f.lqb),f.LFG(bc),f.LFG(j))};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const Cc=new f.OlP("");let Nd=(()=>{class S{constructor(w,N,W,pe,Ve={}){this.urlSerializer=w,this.transitions=N,this.viewportScroller=W,this.zone=pe,this.options=Ve,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ve.scrollPositionRestoration=Ve.scrollPositionRestoration||"disabled",Ve.anchorScrolling=Ve.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof mi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof oo?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof Jo&&0===w.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Si&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,N){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Si(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(N){f.$Z()};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac})}return S})();function ws(S,O){return{\u0275kind:S,\u0275providers:O}}function hr(){const S=(0,f.f3M)(f.zs3);return O=>{const w=S.get(f.z2F);if(O!==w.components[0])return;const N=S.get(Bo),W=S.get(Su);1===S.get(Tc)&&N.initialNavigation(),S.get(Vi,null,f.XFs.Optional)?.setUpPreloading(),S.get(Cc,null,f.XFs.Optional)?.init(),N.resetRootComponentType(w.componentTypes[0]),W.closed||(W.next(),W.complete(),W.unsubscribe())}}const Su=new f.OlP("",{factory:()=>new Ne.x}),Tc=new f.OlP("",{providedIn:"root",factory:()=>1}),Vi=new f.OlP("");function Pa(S){return ws(0,[{provide:Vi,useExisting:qa},{provide:bc,useExisting:S}])}const qt=new f.OlP("ROUTER_FORROOT_GUARD"),qr=[tt.Ye,{provide:Ur,useClass:sr},Bo,$o,{provide:eo,useFactory:function $s(S){return S.routerState.root},deps:[Bo]},j,[]];function xu(){return new f.PXZ("Router",Bo)}let Ga=(()=>{class S{constructor(w){}static forRoot(w,N){return{ngModule:S,providers:[qr,[],{provide:oe,multi:!0,useValue:w},{provide:qt,useFactory:No,deps:[[Bo,new f.FiY,new f.tp0]]},{provide:Kr,useValue:N||{}},N?.useHash?{provide:tt.S$,useClass:tt.Do}:{provide:tt.S$,useClass:tt.b0},{provide:Cc,useFactory:()=>{const S=(0,f.f3M)(tt.EM),O=(0,f.f3M)(f.R0b),w=(0,f.f3M)(Kr),N=(0,f.f3M)(Ht),W=(0,f.f3M)(Ur);return w.scrollOffset&&S.setOffset(w.scrollOffset),new Nd(W,N,S,O,w)}},N?.preloadingStrategy?Pa(N.preloadingStrategy).\u0275providers:[],{provide:f.PXZ,multi:!0,useFactory:xu},N?.initialNavigation?Dc(N):[],N?.bindToComponentInputs?ws(8,[wo,{provide:ci,useExisting:wo}]).\u0275providers:[],[{provide:Wa,useFactory:hr},{provide:f.tb,multi:!0,useExisting:Wa}]]}}static forChild(w){return{ngModule:S,providers:[{provide:oe,multi:!0,useValue:w}]}}static#e=this.\u0275fac=function(N){return new(N||S)(f.LFG(qt,8))};static#t=this.\u0275mod=f.oAB({type:S});static#n=this.\u0275inj=f.cJS({})}return S})();function No(S){return"guarded"}function Dc(S){return["disabled"===S.initialNavigation?ws(3,[{provide:f.ip1,multi:!0,useFactory:()=>{const O=(0,f.f3M)(Bo);return()=>{O.setUpLocationChangeListener()}}},{provide:Tc,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?ws(2,[{provide:Tc,useValue:0},{provide:f.ip1,multi:!0,deps:[f.zs3],useFactory:O=>{const w=O.get(tt.V_,Promise.resolve());return()=>w.then(()=>new Promise(N=>{const W=O.get(Bo),pe=O.get(Su);Bs(W,()=>{N(!0)}),O.get(Ht).afterPreactivation=()=>(N(!0),pe.closed?(0,Ae.of)(void 0):pe),W.initialNavigation()}))}}]).\u0275providers:[]]}const Wa=new f.OlP("")},3106:(an,ut,k)=>{"use strict";k.d(ut,{Z:()=>De});var f=k(9058),o=k(4537),U=k(534),Se=k(7879);class _e{constructor(Ye,We){this._delegate=Ye,this.firebase=We,(0,U._addComponent)(Ye,new o.wA("app-compat",()=>this,"PUBLIC")),this.container=Ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ye){this._delegate.automaticDataCollectionEnabled=Ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ye=>{this._delegate.checkDestroyed(),Ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(Ye,We=U._DEFAULT_ENTRY_NAME){var _t;this._delegate.checkDestroyed();const Fe=this._delegate.container.getProvider(Ye);return!Fe.isInitialized()&&"EXPLICIT"===(null===(_t=Fe.getComponent())||void 0===_t?void 0:_t.instantiationMode)&&Fe.initialize(),Fe.getImmediate({identifier:We})}_removeServiceInstance(Ye,We=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ye).clearInstance(We)}_addComponent(Ye){(0,U._addComponent)(this._delegate,Ye)}_addOrOverwriteComponent(Ye){(0,U._addOrOverwriteComponent)(this._delegate,Ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function ve(){const Re=function ae(Re){const Ye={},We={__esModule:!0,initializeApp:function Ne(ht,bt={}){const Ee=U.initializeApp(ht,bt);if((0,f.r3)(Ye,Ee.name))return Ye[Ee.name];const Nt=new Re(Ee,We);return Ye[Ee.name]=Nt,Nt},app:Fe,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function Ze(ht){const bt=ht.name,Ee=bt.replace("-compat","");if(U._registerComponent(ht)&&"PUBLIC"===ht.type){const Nt=(Vt=Fe())=>{if("function"!=typeof Vt[Ee])throw de.create("invalid-app-argument",{appName:bt});return Vt[Ee]()};void 0!==ht.serviceProps&&(0,f.ZB)(Nt,ht.serviceProps),We[Ee]=Nt,Re.prototype[Ee]=function(...Vt){return this._getService.bind(this,bt).apply(this,ht.multipleInstances?Vt:[])}}return"PUBLIC"===ht.type?We[Ee]:null},removeApp:function _t(ht){delete Ye[ht]},useAsService:function qe(ht,bt){return"serverAuth"===bt?null:bt},modularAPIs:U}};function Fe(ht){if(!(0,f.r3)(Ye,ht=ht||U._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:ht});return Ye[ht]}return We.default=We,Object.defineProperty(We,"apps",{get:function tt(){return Object.keys(Ye).map(ht=>Ye[ht])}}),Fe.App=Re,We}(_e);return Re.INTERNAL=Object.assign(Object.assign({},Re.INTERNAL),{createFirebaseNamespace:ve,extendNamespace:function Ye(We){(0,f.ZB)(Re,We)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),Re}(),z=new Se.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Re=self.firebase.SDK_VERSION;Re&&Re.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const De=q;!function ye(Re){(0,U.registerVersion)("@firebase/app-compat","0.2.35",Re)}()},534:(an,ut,k)=>{"use strict";k.r(ut),k.d(ut,{FirebaseError:()=>Se.ZR,SDK_VERSION:()=>Be,_DEFAULT_ENTRY_NAME:()=>Un,_addComponent:()=>Wn,_addOrOverwriteComponent:()=>Yr,_apps:()=>Ar,_clearComponents:()=>Dr,_components:()=>Zn,_getProvider:()=>gn,_isFirebaseApp:()=>sr,_isFirebaseServerApp:()=>xr,_registerComponent:()=>Ei,_removeServiceInstance:()=>Ur,_serverApps:()=>Cr,deleteApp:()=>Tr,getApp:()=>Hn,getApps:()=>hi,initializeApp:()=>xt,initializeServerApp:()=>en,onLog:()=>Q,registerVersion:()=>ce,setLogLevel:()=>H});var f=k(5861),o=k(4537),U=k(7879),Se=k(9058);const _e=(yt,pt)=>pt.some(Ft=>yt instanceof Ft);let Ae,de;const q=new WeakMap,z=new WeakMap,se=new WeakMap,be=new WeakMap,ye=new WeakMap;let Ye={get(yt,pt,Ft){if(yt instanceof IDBTransaction){if("done"===pt)return z.get(yt);if("objectStoreNames"===pt)return yt.objectStoreNames||se.get(yt);if("store"===pt)return Ft.objectStoreNames[1]?void 0:Ft.objectStore(Ft.objectStoreNames[0])}return Ne(yt[pt])},set:(yt,pt,Ft)=>(yt[pt]=Ft,!0),has:(yt,pt)=>yt instanceof IDBTransaction&&("done"===pt||"store"===pt)||pt in yt};function Fe(yt){return"function"==typeof yt?function _t(yt){return yt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(yt)?function(...pt){return yt.apply(tt(this),pt),Ne(q.get(this))}:function(...pt){return Ne(yt.apply(tt(this),pt))}:function(pt,...Ft){const un=yt.call(tt(this),pt,...Ft);return se.set(un,pt.sort?pt.sort():[pt]),Ne(un)}}(yt):(yt instanceof IDBTransaction&&function Re(yt){if(z.has(yt))return;const pt=new Promise((Ft,un)=>{const Ln=()=>{yt.removeEventListener("complete",Vn),yt.removeEventListener("error",yn),yt.removeEventListener("abort",yn)},Vn=()=>{Ft(),Ln()},yn=()=>{un(yt.error||new DOMException("AbortError","AbortError")),Ln()};yt.addEventListener("complete",Vn),yt.addEventListener("error",yn),yt.addEventListener("abort",yn)});z.set(yt,pt)}(yt),_e(yt,function ae(){return Ae||(Ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(yt,Ye):yt)}function Ne(yt){if(yt instanceof IDBRequest)return function De(yt){const pt=new Promise((Ft,un)=>{const Ln=()=>{yt.removeEventListener("success",Vn),yt.removeEventListener("error",yn)},Vn=()=>{Ft(Ne(yt.result)),Ln()},yn=()=>{un(yt.error),Ln()};yt.addEventListener("success",Vn),yt.addEventListener("error",yn)});return pt.then(Ft=>{Ft instanceof IDBCursor&&q.set(Ft,yt)}).catch(()=>{}),ye.set(pt,yt),pt}(yt);if(be.has(yt))return be.get(yt);const pt=Fe(yt);return pt!==yt&&(be.set(yt,pt),ye.set(pt,yt)),pt}const tt=yt=>ye.get(yt),ht=["get","getKey","getAll","getAllKeys","count"],bt=["put","add","delete","clear"],Ee=new Map;function Nt(yt,pt){if(!(yt instanceof IDBDatabase)||pt in yt||"string"!=typeof pt)return;if(Ee.get(pt))return Ee.get(pt);const Ft=pt.replace(/FromIndex$/,""),un=pt!==Ft,Ln=bt.includes(Ft);if(!(Ft in(un?IDBIndex:IDBObjectStore).prototype)||!Ln&&!ht.includes(Ft))return;const Vn=function(){var yn=(0,f.Z)(function*(zn,...Sr){const fi=this.transaction(zn,Ln?"readwrite":"readonly");let ei=fi.store;return un&&(ei=ei.index(Sr.shift())),(yield Promise.all([ei[Ft](...Sr),Ln&&fi.done]))[0]});return function(Sr){return yn.apply(this,arguments)}}();return Ee.set(pt,Vn),Vn}!function We(yt){Ye=yt(Ye)}(yt=>({...yt,get:(pt,Ft,un)=>Nt(pt,Ft)||yt.get(pt,Ft,un),has:(pt,Ft)=>!!Nt(pt,Ft)||yt.has(pt,Ft)}));class Vt{constructor(pt){this.container=pt}getPlatformInfoString(){return this.container.getProviders().map(Ft=>{if(function Dn(yt){const pt=yt.getComponent();return"VERSION"===pt?.type}(Ft)){const un=Ft.getImmediate();return`${un.library}/${un.version}`}return null}).filter(Ft=>Ft).join(" ")}}const wt="@firebase/app",Qe="0.10.5",dt=new U.Yd("@firebase/app"),Un="[DEFAULT]",jn={[wt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Ar=new Map,Cr=new Map,Zn=new Map;function Wn(yt,pt){try{yt.container.addComponent(pt)}catch(Ft){dt.debug(`Component ${pt.name} failed to register with FirebaseApp ${yt.name}`,Ft)}}function Yr(yt,pt){yt.container.addOrOverwriteComponent(pt)}function Ei(yt){const pt=yt.name;if(Zn.has(pt))return dt.debug(`There were multiple attempts to register component ${pt}.`),!1;Zn.set(pt,yt);for(const Ft of Ar.values())Wn(Ft,yt);for(const Ft of Cr.values())Wn(Ft,yt);return!0}function gn(yt,pt){const Ft=yt.container.getProvider("heartbeat").getImmediate({optional:!0});return Ft&&Ft.triggerHeartbeat(),yt.container.getProvider(pt)}function Ur(yt,pt,Ft=Un){gn(yt,pt).clearInstance(Ft)}function sr(yt){return void 0!==yt.options}function xr(yt){return void 0!==yt.settings}function Dr(){Zn.clear()}const ct=new Se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Dt{constructor(pt,Ft,un){this._isDeleted=!1,this._options=Object.assign({},pt),this._config=Object.assign({},Ft),this._name=Ft.name,this._automaticDataCollectionEnabled=Ft.automaticDataCollectionEnabled,this._container=un,this.container.addComponent(new o.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pt){this.checkDestroyed(),this._automaticDataCollectionEnabled=pt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(pt){this._isDeleted=pt}checkDestroyed(){if(this.isDeleted)throw ct.create("app-deleted",{appName:this._name})}}class ue extends Dt{constructor(pt,Ft,un,Ln){const Vn=void 0!==Ft.automaticDataCollectionEnabled&&Ft.automaticDataCollectionEnabled,yn={name:un,automaticDataCollectionEnabled:Vn};super(void 0!==pt.apiKey?pt:pt.options,yn,Ln),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Vn},Ft),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Ft.releaseOnDeref=void 0,ce(wt,Qe,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(pt){this.isDeleted||(this._refCount++,void 0!==pt&&this._finalizationRegistry.register(pt,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Tr(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ct.create("server-app-deleted")}}const Be="10.12.2";function xt(yt,pt={}){let Ft=yt;"object"!=typeof pt&&(pt={name:pt});const un=Object.assign({name:Un,automaticDataCollectionEnabled:!1},pt),Ln=un.name;if("string"!=typeof Ln||!Ln)throw ct.create("bad-app-name",{appName:String(Ln)});if(Ft||(Ft=(0,Se.aH)()),!Ft)throw ct.create("no-options");const Vn=Ar.get(Ln);if(Vn){if((0,Se.vZ)(Ft,Vn.options)&&(0,Se.vZ)(un,Vn.config))return Vn;throw ct.create("duplicate-app",{appName:Ln})}const yn=new o.H0(Ln);for(const Sr of Zn.values())yn.addComponent(Sr);const zn=new Dt(Ft,un,yn);return Ar.set(Ln,zn),zn}function en(yt,pt){if((0,Se.jU)())throw ct.create("invalid-server-app-environment");let Ft;void 0===pt.automaticDataCollectionEnabled&&(pt.automaticDataCollectionEnabled=!1),Ft=sr(yt)?yt.options:yt;const un=Object.assign(Object.assign({},pt),Ft);if(void 0!==un.releaseOnDeref&&delete un.releaseOnDeref,void 0!==pt.releaseOnDeref&&typeof FinalizationRegistry>"u")throw ct.create("finalization-registry-not-supported",{});const Vn=""+(fi=JSON.stringify(un),[...fi].reduce((ei,ur)=>Math.imul(31,ei)+ur.charCodeAt(0)|0,0)),yn=Cr.get(Vn);var fi;if(yn)return yn.incRefCount(pt.releaseOnDeref),yn;const zn=new o.H0(Vn);for(const fi of Zn.values())zn.addComponent(fi);const Sr=new ue(Ft,pt,Vn,zn);return Cr.set(Vn,Sr),Sr}function Hn(yt=Un){const pt=Ar.get(yt);if(!pt&&yt===Un&&(0,Se.aH)())return xt();if(!pt)throw ct.create("no-app",{appName:yt});return pt}function hi(){return Array.from(Ar.values())}function Tr(yt){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,f.Z)(function*(yt){let pt=!1;const Ft=yt.name;Ar.has(Ft)?(pt=!0,Ar.delete(Ft)):Cr.has(Ft)&&yt.decRefCount()<=0&&(Cr.delete(Ft),pt=!0),pt&&(yield Promise.all(yt.container.getProviders().map(un=>un.delete())),yt.isDeleted=!0)})).apply(this,arguments)}function ce(yt,pt,Ft){var un;let Ln=null!==(un=jn[yt])&&void 0!==un?un:yt;Ft&&(Ln+=`-${Ft}`);const Vn=Ln.match(/\s|\//),yn=pt.match(/\s|\//);if(Vn||yn){const zn=[`Unable to register library "${Ln}" with version "${pt}":`];return Vn&&zn.push(`library name "${Ln}" contains illegal characters (whitespace or "/")`),Vn&&yn&&zn.push("and"),yn&&zn.push(`version name "${pt}" contains illegal characters (whitespace or "/")`),void dt.warn(zn.join(" "))}Ei(new o.wA(`${Ln}-version`,()=>({library:Ln,version:pt}),"VERSION"))}function Q(yt,pt){if(null!==yt&&"function"!=typeof yt)throw ct.create("invalid-log-argument");(0,U.Am)(yt,pt)}function H(yt){(0,U.Ub)(yt)}const B="firebase-heartbeat-database",Te=1,Xe="firebase-heartbeat-store";let kt=null;function $t(){return kt||(kt=function Ze(yt,pt,{blocked:Ft,upgrade:un,blocking:Ln,terminated:Vn}={}){const yn=indexedDB.open(yt,pt),zn=Ne(yn);return un&&yn.addEventListener("upgradeneeded",Sr=>{un(Ne(yn.result),Sr.oldVersion,Sr.newVersion,Ne(yn.transaction),Sr)}),Ft&&yn.addEventListener("blocked",Sr=>Ft(Sr.oldVersion,Sr.newVersion,Sr)),zn.then(Sr=>{Vn&&Sr.addEventListener("close",()=>Vn()),Ln&&Sr.addEventListener("versionchange",fi=>Ln(fi.oldVersion,fi.newVersion,fi))}).catch(()=>{}),zn}(B,Te,{upgrade:(yt,pt)=>{if(0===pt)try{yt.createObjectStore(Xe)}catch(Ft){console.warn(Ft)}}}).catch(yt=>{throw ct.create("idb-open",{originalErrorMessage:yt.message})})),kt}function cn(){return(cn=(0,f.Z)(function*(yt){try{const Ft=(yield $t()).transaction(Xe),un=yield Ft.objectStore(Xe).get(Je(yt));return yield Ft.done,un}catch(pt){if(pt instanceof Se.ZR)dt.warn(pt.message);else{const Ft=ct.create("idb-get",{originalErrorMessage:pt?.message});dt.warn(Ft.message)}}})).apply(this,arguments)}function fn(yt,pt){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,f.Z)(function*(yt,pt){try{const un=(yield $t()).transaction(Xe,"readwrite");yield un.objectStore(Xe).put(pt,Je(yt)),yield un.done}catch(Ft){if(Ft instanceof Se.ZR)dt.warn(Ft.message);else{const un=ct.create("idb-set",{originalErrorMessage:Ft?.message});dt.warn(un.message)}}})).apply(this,arguments)}function Je(yt){return`${yt.name}!${yt.options.appId}`}class jt{constructor(pt){this.container=pt,this._heartbeatsCache=null;const Ft=this.container.getProvider("app").getImmediate();this._storage=new ln(Ft),this._heartbeatsCachePromise=this._storage.read().then(un=>(this._heartbeatsCache=un,un))}triggerHeartbeat(){var pt=this;return(0,f.Z)(function*(){var Ft,un;const Vn=pt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),yn=Xt();if((null!=(null===(Ft=pt._heartbeatsCache)||void 0===Ft?void 0:Ft.heartbeats)||(pt._heartbeatsCache=yield pt._heartbeatsCachePromise,null!=(null===(un=pt._heartbeatsCache)||void 0===un?void 0:un.heartbeats)))&&pt._heartbeatsCache.lastSentHeartbeatDate!==yn&&!pt._heartbeatsCache.heartbeats.some(zn=>zn.date===yn))return pt._heartbeatsCache.heartbeats.push({date:yn,agent:Vn}),pt._heartbeatsCache.heartbeats=pt._heartbeatsCache.heartbeats.filter(zn=>{const Sr=new Date(zn.date).valueOf();return Date.now()-Sr<=2592e6}),pt._storage.overwrite(pt._heartbeatsCache)})()}getHeartbeatsHeader(){var pt=this;return(0,f.Z)(function*(){var Ft;if(null===pt._heartbeatsCache&&(yield pt._heartbeatsCachePromise),null==(null===(Ft=pt._heartbeatsCache)||void 0===Ft?void 0:Ft.heartbeats)||0===pt._heartbeatsCache.heartbeats.length)return"";const un=Xt(),{heartbeatsToSend:Ln,unsentEntries:Vn}=function An(yt,pt=1024){const Ft=[];let un=yt.slice();for(const Ln of yt){const Vn=Ft.find(yn=>yn.agent===Ln.agent);if(Vn){if(Vn.dates.push(Ln.date),fr(Ft)>pt){Vn.dates.pop();break}}else if(Ft.push({agent:Ln.agent,dates:[Ln.date]}),fr(Ft)>pt){Ft.pop();break}un=un.slice(1)}return{heartbeatsToSend:Ft,unsentEntries:un}}(pt._heartbeatsCache.heartbeats),yn=(0,Se.L)(JSON.stringify({version:2,heartbeats:Ln}));return pt._heartbeatsCache.lastSentHeartbeatDate=un,Vn.length>0?(pt._heartbeatsCache.heartbeats=Vn,yield pt._storage.overwrite(pt._heartbeatsCache)):(pt._heartbeatsCache.heartbeats=[],pt._storage.overwrite(pt._heartbeatsCache)),yn})()}}function Xt(){return(new Date).toISOString().substring(0,10)}class ln{constructor(pt){this.app=pt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,Se.hl)()&&(0,Se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var pt=this;return(0,f.Z)(function*(){if(yield pt._canUseIndexedDBPromise){const un=yield function mn(yt){return cn.apply(this,arguments)}(pt.app);return un?.heartbeats?un:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(pt){var Ft=this;return(0,f.Z)(function*(){var un;if(yield Ft._canUseIndexedDBPromise){const Vn=yield Ft.read();return fn(Ft.app,{lastSentHeartbeatDate:null!==(un=pt.lastSentHeartbeatDate)&&void 0!==un?un:Vn.lastSentHeartbeatDate,heartbeats:pt.heartbeats})}})()}add(pt){var Ft=this;return(0,f.Z)(function*(){var un;if(yield Ft._canUseIndexedDBPromise){const Vn=yield Ft.read();return fn(Ft.app,{lastSentHeartbeatDate:null!==(un=pt.lastSentHeartbeatDate)&&void 0!==un?un:Vn.lastSentHeartbeatDate,heartbeats:[...Vn.heartbeats,...pt.heartbeats]})}})()}}function fr(yt){return(0,Se.L)(JSON.stringify({version:2,heartbeats:yt})).length}!function En(yt){Ei(new o.wA("platform-logger",pt=>new Vt(pt),"PRIVATE")),Ei(new o.wA("heartbeat",pt=>new jt(pt),"PRIVATE")),ce(wt,Qe,yt),ce(wt,Qe,"esm2017"),ce("fire-js","")}("")},4537:(an,ut,k)=>{"use strict";k.d(ut,{H0:()=>ae,wA:()=>U});var f=k(5861),o=k(9058);class U{constructor(q,z,se){this.name=q,this.instanceFactory=z,this.type=se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const Se="[DEFAULT]";class _e{constructor(q,z){this.name=q,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const z=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(z)){const se=new o.BH;if(this.instancesDeferred.set(z,se),this.isInitialized(z)||this.shouldAutoInitialize())try{const be=this.getOrInitializeService({instanceIdentifier:z});be&&se.resolve(be)}catch{}}return this.instancesDeferred.get(z).promise}getImmediate(q){var z;const se=this.normalizeInstanceIdentifier(q?.identifier),be=null!==(z=q?.optional)&&void 0!==z&&z;if(!this.isInitialized(se)&&!this.shouldAutoInitialize()){if(be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:se})}catch(ye){if(be)return null;throw ye}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function de(ve){return"EAGER"===ve.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:Se})}catch{}for(const[z,se]of this.instancesDeferred.entries()){const be=this.normalizeInstanceIdentifier(z);try{const ye=this.getOrInitializeService({instanceIdentifier:be});se.resolve(ye)}catch{}}}}clearInstance(q=Se){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,f.Z)(function*(){const z=Array.from(q.instances.values());yield Promise.all([...z.filter(se=>"INTERNAL"in se).map(se=>se.INTERNAL.delete()),...z.filter(se=>"_delete"in se).map(se=>se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=Se){return this.instances.has(q)}getOptions(q=Se){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:z={}}=q,se=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(se))throw Error(`${this.name}(${se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const be=this.getOrInitializeService({instanceIdentifier:se,options:z});for(const[ye,De]of this.instancesDeferred.entries())se===this.normalizeInstanceIdentifier(ye)&&De.resolve(be);return be}onInit(q,z){var se;const be=this.normalizeInstanceIdentifier(z),ye=null!==(se=this.onInitCallbacks.get(be))&&void 0!==se?se:new Set;ye.add(q),this.onInitCallbacks.set(be,ye);const De=this.instances.get(be);return De&&q(De,be),()=>{ye.delete(q)}}invokeOnInitCallbacks(q,z){const se=this.onInitCallbacks.get(z);if(se)for(const be of se)try{be(q,z)}catch{}}getOrInitializeService({instanceIdentifier:q,options:z={}}){let se=this.instances.get(q);if(!se&&this.component&&(se=this.component.instanceFactory(this.container,{instanceIdentifier:(ve=q,ve===Se?void 0:ve),options:z}),this.instances.set(q,se),this.instancesOptions.set(q,z),this.invokeOnInitCallbacks(se,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,se)}catch{}var ve;return se||null}normalizeInstanceIdentifier(q=Se){return this.component?this.component.multipleInstances?q:Se:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ae{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const z=this.getProvider(q.name);if(z.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);z.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const z=new _e(q,this);return this.providers.set(q,z),z}getProviders(){return Array.from(this.providers.values())}}},7879:(an,ut,k)=>{"use strict";k.d(ut,{Am:()=>ve,Ub:()=>ae,Yd:()=>de,in:()=>o});const f=[];var o=function(q){return q[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",q}(o||{});const U={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},Se=o.INFO,_e={[o.DEBUG]:"log",[o.VERBOSE]:"log",[o.INFO]:"info",[o.WARN]:"warn",[o.ERROR]:"error"},Ae=(q,z,...se)=>{if(z<q.logLevel)return;const be=(new Date).toISOString(),ye=_e[z];if(!ye)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[ye](`[${be}]  ${q.name}:`,...se)};class de{constructor(z){this.name=z,this._logLevel=Se,this._logHandler=Ae,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in o))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?U[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,o.DEBUG,...z),this._logHandler(this,o.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,o.VERBOSE,...z),this._logHandler(this,o.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,o.INFO,...z),this._logHandler(this,o.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,o.WARN,...z),this._logHandler(this,o.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,o.ERROR,...z),this._logHandler(this,o.ERROR,...z)}}function ae(q){f.forEach(z=>{z.setLogLevel(q)})}function ve(q,z){for(const se of f){let be=null;z&&z.level&&(be=U[z.level]),se.userLogHandler=null===q?null:(ye,De,...Re)=>{const Ye=Re.map(We=>{if(null==We)return null;if("string"==typeof We)return We;if("number"==typeof We||"boolean"==typeof We)return We.toString();if(We instanceof Error)return We.message;try{return JSON.stringify(We)}catch{return null}}).filter(We=>We).join(" ");De>=(be??ye.logLevel)&&q({level:o[De].toLowerCase(),message:Ye,args:Re,type:ye.name})}}}},3182:(an,ut,k)=>{"use strict";k.d(ut,{C6:()=>f.getApps,KN:()=>f.registerVersion,Mq:()=>f.getApp,ZF:()=>f.initializeApp});var f=k(534);(0,f.registerVersion)("firebase","10.12.2","app")},7142:(an,ut,k)=>{"use strict";k.d(ut,{Z:()=>f.Z});var f=k(3106);f.Z.registerVersion("firebase","10.12.2","app-compat")},6365:(an,ut,k)=>{"use strict";k.r(ut);var f=k(5861),o=k(3106),U=k(35),Se=k(9058),de=(k(534),k(7879),k(4537));function ae(){return window}function z(){return z=(0,f.Z)(function*(Q,H,B){var Te;const{BuildInfo:Xe}=ae();(0,U.au)(H.sessionId,"AuthEvent did not contain a session ID");const kt=yield function We(Q){return _t.apply(this,arguments)}(H.sessionId),$t={};return(0,U.av)()?$t.ibi=Xe.packageName:(0,U.aw)()?$t.apn=Xe.packageName:(0,U.ax)(Q,"operation-not-supported-in-this-environment"),Xe.displayName&&($t.appDisplayName=Xe.displayName),$t.sessionId=kt,(0,U.ay)(Q,B,H.type,void 0,null!==(Te=H.eventId)&&void 0!==Te?Te:void 0,$t)}),z.apply(this,arguments)}function be(){return(be=(0,f.Z)(function*(Q){const{BuildInfo:H}=ae(),B={};(0,U.av)()?B.iosBundleId=H.packageName:(0,U.aw)()?B.androidPackageName=H.packageName:(0,U.ax)(Q,"operation-not-supported-in-this-environment"),yield(0,U.az)(Q,B)})).apply(this,arguments)}function Re(){return(Re=(0,f.Z)(function*(Q,H,B){const{cordova:Te}=ae();let Xe=()=>{};try{yield new Promise((kt,$t)=>{let mn=null;function cn(){var Je;kt();const He=null===(Je=Te.plugins.browsertab)||void 0===Je?void 0:Je.close;"function"==typeof He&&He(),"function"==typeof B?.close&&B.close()}function fn(){mn||(mn=window.setTimeout(()=>{$t((0,U.aB)(Q,"redirect-cancelled-by-user"))},2e3))}function Jn(){"visible"===document?.visibilityState&&fn()}H.addPassiveListener(cn),document.addEventListener("resume",fn,!1),(0,U.aw)()&&document.addEventListener("visibilitychange",Jn,!1),Xe=()=>{H.removePassiveListener(cn),document.removeEventListener("resume",fn,!1),document.removeEventListener("visibilitychange",Jn,!1),mn&&window.clearTimeout(mn)}})}finally{Xe()}})).apply(this,arguments)}function _t(){return(_t=(0,f.Z)(function*(Q){const H=function Fe(Q){if((0,U.au)(/[0-9a-zA-Z]+/.test(Q),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(Q);const H=new ArrayBuffer(Q.length),B=new Uint8Array(H);for(let Te=0;Te<Q.length;Te++)B[Te]=Q.charCodeAt(Te);return B}(Q),B=yield crypto.subtle.digest("SHA-256",H);return Array.from(new Uint8Array(B)).map(Xe=>Xe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class tt extends U.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(H=>{this.resolveInialized=H})}addPassiveListener(H){this.passiveListeners.add(H)}removePassiveListener(H){this.passiveListeners.delete(H)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(H){return this.resolveInialized(),this.passiveListeners.forEach(B=>B(H)),super.onEvent(H)}initialized(){var H=this;return(0,f.Z)(function*(){yield H.initPromise})()}}function ht(Q){return bt.apply(this,arguments)}function bt(){return(bt=(0,f.Z)(function*(Q){const H=yield Vt()._get(Dn(Q));return H&&(yield Vt()._remove(Dn(Q))),H})).apply(this,arguments)}function Nt(){const Q=[];for(let B=0;B<20;B++){const Te=Math.floor(62*Math.random());Q.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Te))}return Q.join("")}function Vt(){return(0,U.aE)(U.b)}function Dn(Q){return(0,U.aF)("authEvent",Q.config.apiKey,Q.name)}function dt(Q){if(!Q?.includes("?"))return{};const[H,...B]=Q.split("?");return(0,Se.zd)(B.join("?"))}const te=class we{constructor(){this._redirectPersistence=U.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=U.aG,this._overrideRedirectResult=U.aH}_initialize(H){var B=this;return(0,f.Z)(function*(){const Te=H._key();let Xe=B.eventManagers.get(Te);return Xe||(Xe=new tt(H),B.eventManagers.set(Te,Xe),B.attachCallbackListeners(H,Xe)),Xe})()}_openPopup(H){(0,U.ax)(H,"operation-not-supported-in-this-environment")}_openRedirect(H,B,Te,Xe){var kt=this;return(0,f.Z)(function*(){!function Ye(Q){var H,B,Te,Xe,kt,$t,mn,cn,fn,Jn;const Je=ae();(0,U.aC)("function"==typeof(null===(H=Je?.universalLinks)||void 0===H?void 0:H.subscribe),Q,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,U.aC)(typeof(null===(B=Je?.BuildInfo)||void 0===B?void 0:B.packageName)<"u",Q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,U.aC)("function"==typeof(null===(kt=null===(Xe=null===(Te=Je?.cordova)||void 0===Te?void 0:Te.plugins)||void 0===Xe?void 0:Xe.browsertab)||void 0===kt?void 0:kt.openUrl),Q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.aC)("function"==typeof(null===(cn=null===(mn=null===($t=Je?.cordova)||void 0===$t?void 0:$t.plugins)||void 0===mn?void 0:mn.browsertab)||void 0===cn?void 0:cn.isAvailable),Q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.aC)("function"==typeof(null===(Jn=null===(fn=Je?.cordova)||void 0===fn?void 0:fn.InAppBrowser)||void 0===Jn?void 0:Jn.open),Q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(H);const $t=yield kt._initialize(H);yield $t.initialized(),$t.resetRedirect(),(0,U.aI)(),yield kt._originValidation(H);const mn=function Ze(Q,H,B=null){return{type:H,eventId:B,urlResponse:null,sessionId:Nt(),postBody:null,tenantId:Q.tenantId,error:(0,U.aB)(Q,"no-auth-event")}}(H,Te,Xe);yield function qe(Q,H){return Vt()._set(Dn(Q),H)}(H,mn);const cn=yield function q(Q,H,B){return z.apply(this,arguments)}(H,mn,B),fn=yield function ye(Q){const{cordova:H}=ae();return new Promise(B=>{H.plugins.browsertab.isAvailable(Te=>{let Xe=null;Te?H.plugins.browsertab.openUrl(Q):Xe=H.InAppBrowser.open(Q,(0,U.aA)()?"_blank":"_system","location=yes"),B(Xe)})})}(cn);return function De(Q,H,B){return Re.apply(this,arguments)}(H,$t,fn)})()}_isIframeWebStorageSupported(H,B){throw new Error("Method not implemented.")}_originValidation(H){const B=H._key();return this.originValidationPromises[B]||(this.originValidationPromises[B]=function se(Q){return be.apply(this,arguments)}(H)),this.originValidationPromises[B]}attachCallbackListeners(H,B){const{universalLinks:Te,handleOpenURL:Xe,BuildInfo:kt}=ae(),$t=setTimeout((0,f.Z)(function*(){yield ht(H),B.onEvent(Ie())}),500),mn=function(){var Jn=(0,f.Z)(function*(Je){clearTimeout($t);const He=yield ht(H);let nt=null;He&&Je?.url&&(nt=function Ee(Q,H){var B,Te;const Xe=function Qe(Q){const H=dt(Q),B=H.link?decodeURIComponent(H.link):void 0,Te=dt(B).link,Xe=H.deep_link_id?decodeURIComponent(H.deep_link_id):void 0;return dt(Xe).link||Xe||Te||B||Q}(H);if(Xe.includes("/__/auth/callback")){const kt=dt(Xe),$t=kt.firebaseError?function wt(Q){try{return JSON.parse(Q)}catch{return null}}(decodeURIComponent(kt.firebaseError)):null,mn=null===(Te=null===(B=$t?.code)||void 0===B?void 0:B.split("auth/"))||void 0===Te?void 0:Te[1],cn=mn?(0,U.aB)(mn):null;return cn?{type:Q.type,eventId:Q.eventId,tenantId:Q.tenantId,error:cn,urlResponse:null,sessionId:null,postBody:null}:{type:Q.type,eventId:Q.eventId,tenantId:Q.tenantId,sessionId:Q.sessionId,urlResponse:Xe,postBody:null}}return null}(He,Je.url)),B.onEvent(nt||Ie())});return function(He){return Jn.apply(this,arguments)}}();typeof Te<"u"&&"function"==typeof Te.subscribe&&Te.subscribe(null,mn);const cn=Xe,fn=`${kt.packageName.toLowerCase()}://`;ae().handleOpenURL=function(){var Jn=(0,f.Z)(function*(Je){if(Je.toLowerCase().startsWith(fn)&&mn({url:Je}),"function"==typeof cn)try{cn(Je)}catch(He){console.error(He)}});return function(Je){return Jn.apply(this,arguments)}}()}};function Ie(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,U.aB)("no-auth-event")}}function Bt(){var Q;return(null===(Q=self?.location)||void 0===Q?void 0:Q.protocol)||null}function Wt(Q=(0,Se.z$)()){return!("file:"!==Bt()&&"ionic:"!==Bt()&&"capacitor:"!==Bt()||!Q.toLowerCase().match(/iphone|ipad|ipod|android/))}function on(){try{const Q=self.localStorage,H=U.aN();if(Q)return Q.setItem(H,"1"),Q.removeItem(H),!function On(Q=(0,Se.z$)()){return function Kn(){return(0,Se.w1)()&&11===document?.documentMode}()||function Pn(Q=(0,Se.z$)()){return/Edge\/\d+/.test(Q)}(Q)}()||(0,Se.hl)()}catch{return Nn()&&(0,Se.hl)()}return!1}function Nn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function mr(){return(function Zt(){return"http:"===Bt()||"https:"===Bt()}()||(0,Se.ru)()||Wt())&&!function Cn(){return(0,Se.b$)()||(0,Se.UG)()}()&&on()&&!Nn()}function Yn(){return Wt()&&typeof document<"u"}function Hr(){return(Hr=(0,f.Z)(function*(){return!!Yn()&&new Promise(Q=>{const H=setTimeout(()=>{Q(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(H),Q(!0)})})})).apply(this,arguments)}const Pr={LOCAL:"local",NONE:"none",SESSION:"session"},ir=U.aC,Yt="persistence";function Un(Q){return jn.apply(this,arguments)}function jn(){return(jn=(0,f.Z)(function*(Q){yield Q._initializationPromise;const H=Cr(),B=U.aF(Yt,Q.config.apiKey,Q.name);H&&H.setItem(B,Q._getPersistence())})).apply(this,arguments)}function Cr(){var Q;try{return(null===(Q=function xn(){return typeof window<"u"?window:null}())||void 0===Q?void 0:Q.sessionStorage)||null}catch{return null}}const Zn=U.aC;class Wn{constructor(){this.browserResolver=U.aE(U.k),this.cordovaResolver=U.aE(te),this.underlyingResolver=null,this._redirectPersistence=U.a,this._completeRedirectFn=U.aG,this._overrideRedirectResult=U.aH}_initialize(H){var B=this;return(0,f.Z)(function*(){return yield B.selectUnderlyingResolver(),B.assertedUnderlyingResolver._initialize(H)})()}_openPopup(H,B,Te,Xe){var kt=this;return(0,f.Z)(function*(){return yield kt.selectUnderlyingResolver(),kt.assertedUnderlyingResolver._openPopup(H,B,Te,Xe)})()}_openRedirect(H,B,Te,Xe){var kt=this;return(0,f.Z)(function*(){return yield kt.selectUnderlyingResolver(),kt.assertedUnderlyingResolver._openRedirect(H,B,Te,Xe)})()}_isIframeWebStorageSupported(H,B){this.assertedUnderlyingResolver._isIframeWebStorageSupported(H,B)}_originValidation(H){return this.assertedUnderlyingResolver._originValidation(H)}get _shouldInitProactively(){return Yn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Zn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var H=this;return(0,f.Z)(function*(){if(H.underlyingResolver)return;const B=yield function Kt(){return Hr.apply(this,arguments)}();H.underlyingResolver=B?H.cordovaResolver:H.browserResolver})()}}function Yr(Q){return Q.unwrap()}function gn(Q){return sr(Q)}function sr(Q){const{_tokenResponse:H}=Q instanceof Se.ZR?Q.customData:Q;if(!H)return null;if(!(Q instanceof Se.ZR)&&"temporaryProof"in H&&"phoneNumber"in H)return U.P.credentialFromResult(Q);const B=H.providerId;if(!B||B===U.p.PASSWORD)return null;let Te;switch(B){case U.p.GOOGLE:Te=U.X;break;case U.p.FACEBOOK:Te=U.W;break;case U.p.GITHUB:Te=U.Y;break;case U.p.TWITTER:Te=U.$;break;default:const{oauthIdToken:Xe,oauthAccessToken:kt,oauthTokenSecret:$t,pendingToken:mn,nonce:cn}=H;return kt||$t||Xe||mn?mn?B.startsWith("saml.")?U.aQ._create(B,mn):U.N._fromParams({providerId:B,signInMethod:B,pendingToken:mn,idToken:Xe,accessToken:kt}):new U.Z(B).credential({idToken:Xe,accessToken:kt,rawNonce:cn}):null}return Q instanceof Se.ZR?Te.credentialFromError(Q):Te.credentialFromResult(Q)}function xr(Q,H){return H.catch(B=>{throw B instanceof Se.ZR&&function Ur(Q,H){var B;const Te=null===(B=H.customData)||void 0===B?void 0:B._tokenResponse;if("auth/multi-factor-auth-required"===H?.code)H.resolver=new ct(Q,U.as(Q,H));else if(Te){const Xe=sr(H),kt=H;Xe&&(kt.credential=Xe,kt.tenantId=Te.tenantId||void 0,kt.email=Te.email||void 0,kt.phoneNumber=Te.phoneNumber||void 0)}}(Q,B),B}).then(B=>{const Xe=B.user;return{operationType:B.operationType,credential:gn(B),additionalUserInfo:U.aq(B),user:Dt.getOrCreate(Xe)}})}function Dr(Q,H){return ii.apply(this,arguments)}function ii(){return(ii=(0,f.Z)(function*(Q,H){const B=yield H;return{verificationId:B.verificationId,confirm:Te=>xr(Q,B.confirm(Te))}})).apply(this,arguments)}class ct{constructor(H,B){this.resolver=B,this.auth=function Ei(Q){return Q.wrapped()}(H)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(H){return xr(Yr(this.auth),this.resolver.resolveSignIn(H))}}class Dt{constructor(H){this._delegate=H,this.multiFactor=U.at(H)}static getOrCreate(H){return Dt.USER_MAP.has(H)||Dt.USER_MAP.set(H,new Dt(H)),Dt.USER_MAP.get(H)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(H){return this._delegate.getIdTokenResult(H)}getIdToken(H){return this._delegate.getIdToken(H)}linkAndRetrieveDataWithCredential(H){return this.linkWithCredential(H)}linkWithCredential(H){var B=this;return(0,f.Z)(function*(){return xr(B.auth,U.a2(B._delegate,H))})()}linkWithPhoneNumber(H,B){var Te=this;return(0,f.Z)(function*(){return Dr(Te.auth,U.l(Te._delegate,H,B))})()}linkWithPopup(H){var B=this;return(0,f.Z)(function*(){return xr(B.auth,U.d(B._delegate,H,Wn))})()}linkWithRedirect(H){var B=this;return(0,f.Z)(function*(){return yield Un(U.aJ(B.auth)),U.g(B._delegate,H,Wn)})()}reauthenticateAndRetrieveDataWithCredential(H){return this.reauthenticateWithCredential(H)}reauthenticateWithCredential(H){var B=this;return(0,f.Z)(function*(){return xr(B.auth,U.a3(B._delegate,H))})()}reauthenticateWithPhoneNumber(H,B){return Dr(this.auth,U.r(this._delegate,H,B))}reauthenticateWithPopup(H){return xr(this.auth,U.e(this._delegate,H,Wn))}reauthenticateWithRedirect(H){var B=this;return(0,f.Z)(function*(){return yield Un(U.aJ(B.auth)),U.h(B._delegate,H,Wn)})()}sendEmailVerification(H){return U.ag(this._delegate,H)}unlink(H){var B=this;return(0,f.Z)(function*(){return yield U.ap(B._delegate,H),B})()}updateEmail(H){return U.al(this._delegate,H)}updatePassword(H){return U.am(this._delegate,H)}updatePhoneNumber(H){return U.u(this._delegate,H)}updateProfile(H){return U.ak(this._delegate,H)}verifyBeforeUpdateEmail(H,B){return U.ah(this._delegate,H,B)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Dt.USER_MAP=new WeakMap;const ue=U.aC;let Be=(()=>{class Q{constructor(B,Te){if(this.app=B,Te.isInitialized())return this._delegate=Te.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Xe}=B.options;ue(Xe,"invalid-api-key",{appName:B.name}),ue(Xe,"invalid-api-key",{appName:B.name});const kt=typeof window<"u"?Wn:void 0;this._delegate=Te.initialize({options:{persistence:en(Xe,B.name),popupRedirectResolver:kt}}),this._delegate._updateErrorMap(U.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Dt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(B){this._delegate.languageCode=B}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(B){this._delegate.tenantId=B}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(B,Te){U.K(this._delegate,B,Te)}applyActionCode(B){return U.a7(this._delegate,B)}checkActionCode(B){return U.a8(this._delegate,B)}confirmPasswordReset(B,Te){return U.a6(this._delegate,B,Te)}createUserWithEmailAndPassword(B,Te){var Xe=this;return(0,f.Z)(function*(){return xr(Xe._delegate,U.aa(Xe._delegate,B,Te))})()}fetchProvidersForEmail(B){return this.fetchSignInMethodsForEmail(B)}fetchSignInMethodsForEmail(B){return U.af(this._delegate,B)}isSignInWithEmailLink(B){return U.ad(this._delegate,B)}getRedirectResult(){var B=this;return(0,f.Z)(function*(){ue(mr(),B._delegate,"operation-not-supported-in-this-environment");const Te=yield U.j(B._delegate,Wn);return Te?xr(B._delegate,Promise.resolve(Te)):{credential:null,user:null}})()}addFrameworkForLogging(B){!function Pe(Q,H){(0,U.aJ)(Q)._logFramework(H)}(this._delegate,B)}onAuthStateChanged(B,Te,Xe){const{next:kt,error:$t,complete:mn}=xt(B,Te,Xe);return this._delegate.onAuthStateChanged(kt,$t,mn)}onIdTokenChanged(B,Te,Xe){const{next:kt,error:$t,complete:mn}=xt(B,Te,Xe);return this._delegate.onIdTokenChanged(kt,$t,mn)}sendSignInLinkToEmail(B,Te){return U.ac(this._delegate,B,Te)}sendPasswordResetEmail(B,Te){return U.a5(this._delegate,B,Te||void 0)}setPersistence(B){var Te=this;return(0,f.Z)(function*(){let Xe;switch(function bn(Q,H){ir(Object.values(Pr).includes(H),Q,"invalid-persistence-type"),(0,Se.b$)()?ir(H!==Pr.SESSION,Q,"unsupported-persistence-type"):(0,Se.UG)()?ir(H===Pr.NONE,Q,"unsupported-persistence-type"):Nn()?ir(H===Pr.NONE||H===Pr.LOCAL&&(0,Se.hl)(),Q,"unsupported-persistence-type"):ir(H===Pr.NONE||on(),Q,"unsupported-persistence-type")}(Te._delegate,B),B){case Pr.SESSION:Xe=U.a;break;case Pr.LOCAL:Xe=(yield U.aE(U.i)._isAvailable())?U.i:U.b;break;case Pr.NONE:Xe=U.U;break;default:return U.ax("argument-error",{appName:Te._delegate.name})}return Te._delegate.setPersistence(Xe)})()}signInAndRetrieveDataWithCredential(B){return this.signInWithCredential(B)}signInAnonymously(){return xr(this._delegate,U.a0(this._delegate))}signInWithCredential(B){return xr(this._delegate,U.a1(this._delegate,B))}signInWithCustomToken(B){return xr(this._delegate,U.a4(this._delegate,B))}signInWithEmailAndPassword(B,Te){return xr(this._delegate,U.ab(this._delegate,B,Te))}signInWithEmailLink(B,Te){return xr(this._delegate,U.ae(this._delegate,B,Te))}signInWithPhoneNumber(B,Te){return Dr(this._delegate,U.s(this._delegate,B,Te))}signInWithPopup(B){var Te=this;return(0,f.Z)(function*(){return ue(mr(),Te._delegate,"operation-not-supported-in-this-environment"),xr(Te._delegate,U.c(Te._delegate,B,Wn))})()}signInWithRedirect(B){var Te=this;return(0,f.Z)(function*(){return ue(mr(),Te._delegate,"operation-not-supported-in-this-environment"),yield Un(Te._delegate),U.f(Te._delegate,B,Wn)})()}updateCurrentUser(B){return this._delegate.updateCurrentUser(B)}verifyPasswordResetCode(B){return U.a9(this._delegate,B)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Q.Persistence=Pr,Q})();function xt(Q,H,B){let Te=Q;"function"!=typeof Q&&({next:Te,error:H,complete:B}=Q);const Xe=Te;return{next:$t=>Xe($t&&Dt.getOrCreate($t)),error:H,complete:B}}function en(Q,H){const B=function Ar(Q,H){const B=Cr();if(!B)return[];const Te=U.aF(Yt,Q,H);switch(B.getItem(Te)){case Pr.NONE:return[U.U];case Pr.LOCAL:return[U.i,U.a];case Pr.SESSION:return[U.a];default:return[]}}(Q,H);if(typeof self<"u"&&!B.includes(U.i)&&B.push(U.i),typeof window<"u")for(const Te of[U.b,U.a])B.includes(Te)||B.push(Te);return B.includes(U.U)||B.push(U.U),B}class Hn{constructor(){this.providerId="phone",this._delegate=new U.P(Yr(o.Z.auth()))}static credential(H,B){return U.P.credential(H,B)}verifyPhoneNumber(H,B){return this._delegate.verifyPhoneNumber(H,B)}unwrap(){return this._delegate}}Hn.PHONE_SIGN_IN_METHOD=U.P.PHONE_SIGN_IN_METHOD,Hn.PROVIDER_ID=U.P.PROVIDER_ID;const hi=U.aC;class Tr{constructor(H,B,Te=o.Z.app()){var Xe;hi(null===(Xe=Te.options)||void 0===Xe?void 0:Xe.apiKey,"invalid-api-key",{appName:Te.name}),this._delegate=new U.R(Te.auth(),H,B),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ce(Q){Q.INTERNAL.registerComponent(new de.wA("auth-compat",H=>{const B=H.getProvider("app-compat").getImmediate(),Te=H.getProvider("auth");return new Be(B,Te)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:U.A.EMAIL_SIGNIN,PASSWORD_RESET:U.A.PASSWORD_RESET,RECOVER_EMAIL:U.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:U.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:U.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:U.A.VERIFY_EMAIL}},EmailAuthProvider:U.V,FacebookAuthProvider:U.W,GithubAuthProvider:U.Y,GoogleAuthProvider:U.X,OAuthProvider:U.Z,SAMLAuthProvider:U._,PhoneAuthProvider:Hn,PhoneMultiFactorGenerator:U.m,RecaptchaVerifier:Tr,TwitterAuthProvider:U.$,Auth:Be,AuthCredential:U.L,Error:Se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Q.registerVersion("@firebase/auth-compat","0.5.9")}(o.Z)},1043:(an,ut,k)=>{"use strict";k.d(ut,{EK:()=>f.EK,ad:()=>f.ad});var f=k(5588)},5861:(an,ut,k)=>{"use strict";function f(U,Se,_e,Ae,de,ae,ve){try{var q=U[ae](ve),z=q.value}catch(se){return void _e(se)}q.done?Se(z):Promise.resolve(z).then(Ae,de)}function o(U){return function(){var Se=this,_e=arguments;return new Promise(function(Ae,de){var ae=U.apply(Se,_e);function ve(z){f(ae,Ae,de,ve,q,"next",z)}function q(z){f(ae,Ae,de,ve,q,"throw",z)}ve(void 0)})}}k.d(ut,{Z:()=>o})},7582:(an,ut,k)=>{"use strict";function Se(te,Ie){var Pe={};for(var je in te)Object.prototype.hasOwnProperty.call(te,je)&&Ie.indexOf(je)<0&&(Pe[je]=te[je]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var ot=0;for(je=Object.getOwnPropertySymbols(te);ot<je.length;ot++)Ie.indexOf(je[ot])<0&&Object.prototype.propertyIsEnumerable.call(te,je[ot])&&(Pe[je[ot]]=te[je[ot]])}return Pe}function se(te,Ie,Pe,je){return new(Pe||(Pe=Promise))(function(vt,Bt){function Zt(Kn){try{Cn(je.next(Kn))}catch(Pn){Bt(Pn)}}function Wt(Kn){try{Cn(je.throw(Kn))}catch(Pn){Bt(Pn)}}function Cn(Kn){Kn.done?vt(Kn.value):function ot(vt){return vt instanceof Pe?vt:new Pe(function(Bt){Bt(vt)})}(Kn.value).then(Zt,Wt)}Cn((je=je.apply(te,Ie||[])).next())})}function Ne(te){return this instanceof Ne?(this.v=te,this):new Ne(te)}function tt(te,Ie,Pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ot,je=Pe.apply(te,Ie||[]),vt=[];return ot={},Bt("next"),Bt("throw"),Bt("return"),ot[Symbol.asyncIterator]=function(){return this},ot;function Bt(On){je[On]&&(ot[On]=function(on){return new Promise(function(Nn,mr){vt.push([On,on,Nn,mr])>1||Zt(On,on)})})}function Zt(On,on){try{!function Wt(On){On.value instanceof Ne?Promise.resolve(On.value.v).then(Cn,Kn):Pn(vt[0][2],On)}(je[On](on))}catch(Nn){Pn(vt[0][3],Nn)}}function Cn(On){Zt("next",On)}function Kn(On){Zt("throw",On)}function Pn(On,on){On(on),vt.shift(),vt.length&&Zt(vt[0][0],vt[0][1])}}function qe(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,Ie=te[Symbol.asyncIterator];return Ie?Ie.call(te):(te=function Re(te){var Ie="function"==typeof Symbol&&Symbol.iterator,Pe=Ie&&te[Ie],je=0;if(Pe)return Pe.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&je>=te.length&&(te=void 0),{value:te&&te[je++],done:!te}}};throw new TypeError(Ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),Pe={},je("next"),je("throw"),je("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe);function je(vt){Pe[vt]=te[vt]&&function(Bt){return new Promise(function(Zt,Wt){!function ot(vt,Bt,Zt,Wt){Promise.resolve(Wt).then(function(Cn){vt({value:Cn,done:Zt})},Bt)}(Zt,Wt,(Bt=te[vt](Bt)).done,Bt.value)})}}}k.d(ut,{FC:()=>tt,KL:()=>qe,_T:()=>Se,mG:()=>se,qq:()=>Ne}),"function"==typeof SuppressedError&&SuppressedError}},an=>{an(an.s=5375)}]);