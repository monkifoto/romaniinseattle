"use strict";(self.webpackChunkromani_in_seattle=self.webpackChunkromani_in_seattle||[]).push([[658],{7658:(w,l,a)=>{a.r(l),a.d(l,{AdminModule:()=>L});var s=a(6814),p=a(3914),e=a(5879),u=a(4626);let _=(()=>{class o{constructor(t){this.authService=t}logout(){this.authService.logout()}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(u.e))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-admin"]],decls:26,vars:0,consts:[[1,"header-container"],[1,"nav-pills"],[1,"title-container"],["routerLink","service-manager"],["routerLink","offer-management"],["routerLink","event-management"],["routerLink","analytics"],["routerLink","error-log"],[3,"click"]],template:function(n,r){1&n&&(e.TgZ(0,"div")(1,"div",0)(2,"nav",1)(3,"div",2)(4,"h2"),e._uU(5,"Admin Pannel"),e.qZA()(),e.TgZ(6,"ul")(7,"li")(8,"a",3),e._uU(9,"Service Manager"),e.qZA()(),e.TgZ(10,"li")(11,"a",4),e._uU(12,"Offers Manager"),e.qZA()(),e.TgZ(13,"li")(14,"a",5),e._uU(15,"Event Manager"),e.qZA()(),e.TgZ(16,"li")(17,"a",6),e._uU(18,"Analytics"),e.qZA()(),e.TgZ(19,"li")(20,"a",7),e._uU(21,"Error Log"),e.qZA()(),e.TgZ(22,"li")(23,"button",8),e.NdJ("click",function(){return r.logout()}),e._uU(24,"Logout"),e.qZA()()()()(),e._UZ(25,"router-outlet"),e.qZA())},dependencies:[p.lC,p.rH],styles:[".admin-container[_ngcontent-%COMP%]{padding-top:50rem;width:80%;margin:0 auto;box-shadow:0 2px 4px #0000001a;border-radius:8px;overflow:hidden}.header-container[_ngcontent-%COMP%]{margin-top:100px;display:flex;flex-direction:column}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:24px}.nav-pills[_ngcontent-%COMP%]{margin:0;padding:0}.nav-pills[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;display:flex;justify-content:center}.nav-pills[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 5px}.nav-pills[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:10px 20px;border-radius:5px;text-decoration:none;color:#fff;background:var(--button-color);transition:background-color .3s,color .3s}.nav-pills[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .nav-pills[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#0056b3;color:#fff}main[_ngcontent-%COMP%]{padding:20px;background:#fff}main[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0}button[_ngcontent-%COMP%]{margin:0}"]})}return o})();var m=a(8180),h=a(7398),f=a(2380),v=a(614),d=a(6223);function A(o,g){if(1&o&&(e.TgZ(0,"div")(1,"a",8),e._uU(2),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.MGl("href","mailto:",t.Email,"",e.LSH),e.xp6(1),e.Oqu(t.Email)}}function T(o,g){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"img",4),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e._UZ(9,"br"),e.YNc(10,A,3,2,"div",5),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e._UZ(15,"br"),e._uU(16),e._UZ(17,"br"),e._uU(18),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.ALo(23,"date"),e._UZ(24,"br"),e._uU(25),e.ALo(26,"date"),e.qZA(),e.TgZ(27,"td")(28,"input",6),e.NdJ("change",function(){const i=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.toggleApproval(i))}),e.qZA()(),e.TgZ(29,"td")(30,"button",7),e.NdJ("click",function(){const i=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.navigateToEditService(i.id))}),e._uU(31,"Edit"),e.qZA()(),e.TgZ(32,"td")(33,"button",7),e.NdJ("click",function(){const i=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.deleteService(i.id))}),e._uU(34,"Delete"),e.qZA()()()}if(2&o){const t=g.$implicit;e.xp6(2),e.s9C("src",t.Image,e.LSH),e.xp6(2),e.Oqu(t.Name),e.xp6(2),e.Oqu(t.Service_Type),e.xp6(2),e.hij("",t.Phone_Number," "),e.xp6(2),e.Q6J("ngIf",t.Email),e.xp6(2),e.Oqu(t.Description),e.xp6(2),e.Oqu(t.Website),e.xp6(2),e.hij(" ",t.Facebook,""),e.xp6(2),e.Oqu(t.Instagram),e.xp6(2),e.Oqu(t.Community_Sponsor),e.xp6(2),e.hij("",e.xi3(23,13,t.Date_Created,"dd/MM/yyyy")," "),e.xp6(3),e.hij(" ",e.xi3(26,16,t.Date_Updated,"dd/MM/yyyy")," "),e.xp6(3),e.Q6J("checked",t.Approved)}}let x=(()=>{class o{constructor(t,n){this.serviceManagementService=t,this.router=n,this.searchText="",this.services=[],this.filteredServices=[]}ngOnInit(){this.serviceManagementService.getAllServices().subscribe(t=>{this.services=t.sort((n,r)=>n.Approved===r.Approved?new Date(r.Date_Created).getTime()-new Date(n.Date_Created).getTime():n.Approved?1:-1),this.filteredServices=t.sort((n,r)=>n.Approved===r.Approved?new Date(r.Date_Created).getTime()-new Date(n.Date_Created).getTime():n.Approved?1:-1)})}toggleApproval(t){t.Approved=!t.Approved,this.serviceManagementService.updateService(t.id,t)}navigateToEditService(t){this.router.navigate(["/edit-service",t])}filterServices(){console.log("list of services",this.services.length),console.log("list of filtered services",this.filteredServices.length),console.log("search text",this.searchText),this.filteredServices=this.searchText?this.services.filter(t=>t.Name.toLowerCase().includes(this.searchText.toLowerCase())||t.Service_Type.toLowerCase().includes(this.searchText.toLowerCase())||t.Phone_Number.includes(this.searchText)||t.Email.toLowerCase().includes(this.searchText.toLowerCase())||t.Description.toLowerCase().includes(this.searchText.toLowerCase())):this.services}deleteService(t){confirm("Are you sure you want to delete this service?")&&this.serviceManagementService.deleteService(t)}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(v.r),e.Y36(p.F0))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-manage-services"]],decls:32,vars:2,consts:[[1,"admin-container"],[1,"search-container"],["type","text","placeholder","Search...",3,"ngModel","ngModelChange","input"],[4,"ngFor","ngForOf"],[1,"service-card-image",3,"src"],[4,"ngIf"],["type","checkbox",3,"checked","change"],[1,"editButton",3,"click"],[3,"href"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"input",2),e.NdJ("ngModelChange",function(c){return r.searchText=c})("input",function(){return r.filterServices()}),e.qZA()(),e.TgZ(3,"h2"),e._uU(4,"Manage Services"),e.qZA(),e.TgZ(5,"table")(6,"thead")(7,"tr")(8,"th"),e._uU(9,"Image"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Name"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Service Type"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Contact"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Description"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Online Presence"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Sponsor"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Date Created"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Approved"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"Edit"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"Delete"),e.qZA()()(),e.TgZ(30,"tbody"),e.YNc(31,T,35,19,"tr",3),e.qZA()()()),2&n&&(e.xp6(2),e.Q6J("ngModel",r.searchText),e.xp6(29),e.Q6J("ngForOf",r.filteredServices))},dependencies:[s.sg,s.O5,d.Fj,d.JJ,d.On,s.uU],styles:[".admin-container[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:10px;border:1px solid #ddd;text-align:left}th[_ngcontent-%COMP%]{background-color:#f4f4f4}input[type=checkbox][_ngcontent-%COMP%]{transform:scale(1.5)}.service-manager-container[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a}.service-card-image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover;border:2px solid #ddd}"]})}return o})();var C=a(8924);function q(o,g){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.qZA(),e.TgZ(23,"td"),e._uU(24),e.qZA(),e.TgZ(25,"td")(26,"input",2),e.NdJ("change",function(){const i=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.toggleApproval(i))}),e.qZA()(),e.TgZ(27,"td")(28,"button",3),e.NdJ("click",function(){const i=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.deleteService(i.id))}),e._uU(29,"Delete"),e.qZA()()()}if(2&o){const t=g.$implicit;e.xp6(2),e.Oqu(t.Title),e.xp6(2),e.Oqu(t.Company_Name),e.xp6(2),e.Oqu(t.Contact_Name),e.xp6(2),e.Oqu(t.Phone_Number),e.xp6(2),e.Oqu(t.Email),e.xp6(2),e.Oqu(t.Description),e.xp6(2),e.Oqu(t.Price),e.xp6(2),e.Oqu(t.Location),e.xp6(2),e.Oqu(t.Website),e.xp6(2),e.Oqu(t.Facebook),e.xp6(2),e.Oqu(t.Instagram),e.xp6(2),e.Oqu(t.Date_Created),e.xp6(2),e.Q6J("checked",t.Approved)}}let O=(()=>{class o{constructor(t){this.offerService=t,this.offers=[]}ngOnInit(){this.offerService.getAllOffers().subscribe(t=>{this.offers=t.sort((n,r)=>n.Approved===r.Approved?new Date(r.Date_Created).getTime()-new Date(n.Date_Created).getTime():n.Approved?1:-1)})}toggleApproval(t){t.Approved=!t.Approved,t.ApprovedDate=(new Date).toISOString(),this.offerService.updateOffer(t.id,t)}deleteService(t){confirm("Are you sure you want to delete this service?")&&this.offerService.deleteOffer(t)}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(C.b))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-offer-management"]],decls:36,vars:1,consts:[[1,"offer-management-container"],[4,"ngFor","ngForOf"],["type","checkbox",3,"checked","change"],[1,"editButton",3,"click"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"h2"),e._uU(2,"Manage Offers"),e.qZA(),e.TgZ(3,"table")(4,"thead")(5,"tr")(6,"th"),e._uU(7,"Title"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Company Name"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Contact Name"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Phone Number"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Email"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Description"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Price"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Location"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Website"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Facebook"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"Instagram"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"Date Created"),e.qZA(),e.TgZ(30,"th"),e._uU(31,"Approved"),e.qZA(),e.TgZ(32,"th"),e._uU(33,"Commands"),e.qZA()()(),e.TgZ(34,"tbody"),e.YNc(35,q,30,13,"tr",1),e.qZA()()()),2&n&&(e.xp6(35),e.Q6J("ngForOf",r.offers))},dependencies:[s.sg],styles:[".offer-management-container[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:10px;border:1px solid #ddd;text-align:left}th[_ngcontent-%COMP%]{background-color:#f4f4f4}input[type=checkbox][_ngcontent-%COMP%]{transform:scale(1.5)}"]})}return o})();var M=a(3375);function U(o,g){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td")(15,"a",2),e._uU(16),e.qZA()(),e.TgZ(17,"td")(18,"a",2),e._uU(19),e.qZA()(),e.TgZ(20,"td")(21,"a",2),e._uU(22),e.qZA()(),e.TgZ(23,"td")(24,"input",3),e.NdJ("change",function(){const i=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.toggleApproval(i))}),e.qZA()(),e.TgZ(25,"td"),e._uU(26),e.qZA(),e.TgZ(27,"td")(28,"button",4),e.NdJ("click",function(){const i=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.deleteService(i.id))}),e._uU(29,"Delete"),e.qZA()()()}if(2&o){const t=g.$implicit;e.xp6(2),e.Oqu(t.Name),e.xp6(2),e.Oqu(t.Description),e.xp6(2),e.Oqu(t.Location),e.xp6(2),e.Oqu(e.xi3(9,14,t.Event_Date,"short")),e.xp6(3),e.Oqu(t.Time),e.xp6(2),e.Oqu(t.Contact),e.xp6(2),e.Q6J("href",t.Website,e.LSH),e.xp6(1),e.Oqu(t.Website),e.xp6(2),e.Q6J("href",t.Facebook,e.LSH),e.xp6(1),e.Oqu(t.Facebook),e.xp6(2),e.Q6J("href",t.Instagram,e.LSH),e.xp6(1),e.Oqu(t.Instagram),e.xp6(2),e.Q6J("checked",t.Approved),e.xp6(2),e.Oqu(t.Date_Created)}}let b=(()=>{class o{constructor(t){this.eventService=t,this.events=[]}ngOnInit(){this.eventService.getAllEvents().subscribe(t=>{this.events=t.sort((n,r)=>n.Approved===r.Approved?new Date(r.Date_Created).getTime()-new Date(n.Date_Created).getTime():n.Approved?1:-1)})}toggleApproval(t){t.Approved=!t.Approved,t.ApprovedDate=new Date,this.eventService.updateEvent(t.id,t)}deleteService(t){confirm("Are you sure you want to delete this service?")&&this.eventService.deleteService(t)}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(M.n))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-event-management"]],decls:32,vars:1,consts:[[1,"event-management-container"],[4,"ngFor","ngForOf"],["target","_blank",3,"href"],["type","checkbox",3,"checked","change"],[1,"editButton",3,"click"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"h2"),e._uU(2,"Manage Events"),e.qZA(),e.TgZ(3,"table")(4,"thead")(5,"tr")(6,"th"),e._uU(7,"Title"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Description"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Location"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Date"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Time"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Organizer"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Website"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Facebook"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Instagram"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Approved"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"Date Created"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"Actions"),e.qZA()()(),e.TgZ(30,"tbody"),e.YNc(31,U,30,17,"tr",1),e.qZA()()()),2&n&&(e.xp6(31),e.Q6J("ngForOf",r.events))},dependencies:[s.sg,s.uU],styles:[".event-management-container[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:10px;border:1px solid #ddd;text-align:left}th[_ngcontent-%COMP%]{background-color:#f4f4f4}input[type=checkbox][_ngcontent-%COMP%]{transform:scale(1.5)}"]})}return o})();var P=a(7104);function S(o,g){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"json"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"json"),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"json"),e.qZA()()),2&o){const t=g.$implicit;e.xp6(2),e.Oqu(t.timestamp),e.xp6(2),e.Oqu(e.lcZ(5,4,t.message)),e.xp6(3),e.Oqu(e.lcZ(8,6,t.stack)),e.xp6(3),e.Oqu(e.lcZ(11,8,t.context))}}const k=[{path:"",component:_,canActivate:[(o,g)=>{const t=(0,e.f3M)(u.e),n=(0,e.f3M)(p.F0);return t.user$.pipe((0,m.q)(1),(0,h.U)(r=>!!r||n.createUrlTree(["/login"])))}],children:[{path:"",redirectTo:"service-manager",pathMatch:"full"},{path:"service-manager",component:x},{path:"offer-management",component:O},{path:"event-management",component:b},{path:"analytics",component:f.d},{path:"error-log",component:(()=>{class o{constructor(t){this.firestore=t,this.errorLogs$=this.firestore.collection("errorLogs",n=>n.orderBy("timestamp","desc")).valueChanges()}ngOnInit(){}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(P.ST))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-error-log"]],decls:17,vars:3,consts:[[1,"error-log-container"],[4,"ngFor","ngForOf"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"h2"),e._uU(2,"Error Logs"),e.qZA(),e.TgZ(3,"table")(4,"thead")(5,"tr")(6,"th"),e._uU(7,"Timestamp"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Message"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Stack"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Context"),e.qZA()()(),e.TgZ(14,"tbody"),e.YNc(15,S,12,10,"tr",1),e.ALo(16,"async"),e.qZA()()()),2&n&&(e.xp6(15),e.Q6J("ngForOf",e.lcZ(16,1,r.errorLogs$)))},dependencies:[s.sg,s.Ov,s.Ts],styles:[".error-log-container[_ngcontent-%COMP%]{padding:16px}.error-log-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:16px}.error-log-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.error-log-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .error-log-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px}.error-log-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f4f4f4}"]})}return o})()}]}];let D=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275mod=e.oAB({type:o});static#n=this.\u0275inj=e.cJS({imports:[p.Bz.forChild(k),p.Bz]})}return o})(),L=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275mod=e.oAB({type:o});static#n=this.\u0275inj=e.cJS({imports:[s.ez,D,d.u5,p.Bz]})}return o})()}}]);