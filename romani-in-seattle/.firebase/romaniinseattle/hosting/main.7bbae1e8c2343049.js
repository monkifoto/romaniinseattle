(self.webpackChunkromani_in_seattle=self.webpackChunkromani_in_seattle||[]).push([[179],{35:(sn,lt,k)=>{"use strict";k.d(lt,{$:()=>Ds,A:()=>z,G:()=>ye,K:()=>wo,L:()=>no,N:()=>$e,P:()=>Pg,R:()=>Lu,U:()=>mn,V:()=>ho,W:()=>Ii,X:()=>ms,Y:()=>ao,Z:()=>Kr,_:()=>No,a:()=>Gt,a0:()=>F,a1:()=>Tc,a2:()=>is,a3:()=>Su,a4:()=>wc,a5:()=>ll,a6:()=>fa,a7:()=>qs,a8:()=>ul,a9:()=>Mc,aA:()=>yn,aB:()=>tt,aC:()=>Ee,aD:()=>ac,aE:()=>kt,aF:()=>an,aG:()=>Kd,aH:()=>vl,aI:()=>jr,aJ:()=>ur,aN:()=>rc,aQ:()=>qi,aa:()=>Fd,ab:()=>hl,ac:()=>Oa,ad:()=>Hl,ae:()=>ga,af:()=>x,ag:()=>j,ah:()=>Ue,ak:()=>Lr,al:()=>ti,am:()=>Ir,ap:()=>fo,aq:()=>qo,as:()=>Pu,at:()=>Ud,au:()=>Vt,av:()=>hr,aw:()=>Xt,ax:()=>Ne,ay:()=>Aa,az:()=>Yd,b:()=>Rs,c:()=>pp,d:()=>Rg,e:()=>ml,f:()=>ya,g:()=>Qh,h:()=>Gl,i:()=>ui,j:()=>mp,k:()=>rh,l:()=>La,m:()=>bl,p:()=>ae,r:()=>$d,s:()=>Uu,u:()=>pl});var f=k(5861),o=k(534),U=k(9058),Se=k(7879),_e=k(7582),Ae=k(4537);const ae={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ye=function se(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},De=function be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Re=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),We=new Se.Yd("@firebase/auth");function Fe(T,...g){We.logLevel<=Se.in.ERROR&&We.error(`Auth (${o.SDK_VERSION}): ${T}`,...g)}function Ne(T,...g){throw bt(T,...g)}function tt(T,...g){return bt(T,...g)}function Ze(T,g,v){const M=Object.assign(Object.assign({},De()),{[g]:v});return new U.LL("auth","Firebase",M).create(g,{appName:T.name})}function Ge(T){return Ze(T,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dt(T,g,v){if(!(g instanceof v))throw v.name!==g.constructor.name&&Ne(T,"argument-error"),Ze(T,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bt(T,...g){if("string"!=typeof T){const v=g[0],M=[...g.slice(1)];return M[0]&&(M[0].appName=T.name),T._errorFactory.create(v,...M)}return Re.create(T,...g)}function Ee(T,g,...v){if(!T)throw bt(g,...v)}function Nt(T){const g="INTERNAL ASSERTION FAILED: "+T;throw Fe(g),new Error(g)}function Vt(T,g){T||Nt(g)}function Dn(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.href)||""}function Tt(){return"http:"===Ke()||"https:"===Ke()}function Ke(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.protocol)||null}class we{constructor(g,v){this.shortDelay=g,this.longDelay=v,Vt(v>g,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return function ut(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Tt()||(0,U.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function te(T,g){Vt(T.emulator,"Emulator should always be set here");const{url:v}=T.emulator;return g?`${v}${g.startsWith("/")?g.slice(1):g}`:v}class Ie{static initialize(g,v,M){this.fetchImpl=g,v&&(this.headersImpl=v),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Nt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Nt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Nt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Pe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},je=new we(3e4,6e4);function ot(T,g){return T.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:T.tenantId}):g}function vt(T,g,v,M){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,f.Z)(function*(T,g,v,M,X={}){return Zt(T,X,(0,f.Z)(function*(){let me={},rt={};M&&("GET"===g?rt=M:me={body:JSON.stringify(M)});const Pt=(0,U.xO)(Object.assign({key:T.config.apiKey},rt)).slice(1),Jt=yield T._getAdditionalHeaders();return Jt["Content-Type"]="application/json",T.languageCode&&(Jt["X-Firebase-Locale"]=T.languageCode),Ie.fetch()(Pn(T,T.config.apiHost,v,Pt),Object.assign({method:g,headers:Jt,referrerPolicy:"no-referrer"},me))}))})).apply(this,arguments)}function Zt(T,g,v){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,f.Z)(function*(T,g,v){T._canInitEmulator=!1;const M=Object.assign(Object.assign({},Pe),g);try{const X=new on(T),me=yield Promise.race([v(),X.promise]);X.clearNetworkTimeout();const rt=yield me.json();if("needConfirmation"in rt)throw Nn(T,"account-exists-with-different-credential",rt);if(me.ok&&!("errorMessage"in rt))return rt;{const Pt=me.ok?rt.errorMessage:rt.error.message,[Jt,kn]=Pt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Jt)throw Nn(T,"credential-already-in-use",rt);if("EMAIL_EXISTS"===Jt)throw Nn(T,"email-already-in-use",rt);if("USER_DISABLED"===Jt)throw Nn(T,"user-disabled",rt);const tr=M[Jt]||Jt.toLowerCase().replace(/[_\s]+/g,"-");if(kn)throw Ze(T,tr,kn);Ne(T,tr)}}catch(X){if(X instanceof U.ZR)throw X;Ne(T,"network-request-failed",{message:String(X)})}})).apply(this,arguments)}function bn(T,g,v,M){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,f.Z)(function*(T,g,v,M,X={}){const me=yield vt(T,g,v,M,X);return"mfaPendingCredential"in me&&Ne(T,"multi-factor-auth-required",{_serverResponse:me}),me})).apply(this,arguments)}function Pn(T,g,v,M){const X=`${g}${v}?${M}`;return T.config.emulator?te(T.config,X):`${T.config.apiScheme}://${X}`}function On(T){switch(T){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class on{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((v,M)=>{this.timer=setTimeout(()=>M(tt(this.auth,"network-request-failed")),je.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nn(T,g,v){const M={appName:T.name};v.email&&(M.email=v.email),v.phoneNumber&&(M.phoneNumber=v.phoneNumber);const X=tt(T,g,M);return X.customData._tokenResponse=v,X}function pr(T){return void 0!==T&&void 0!==T.getResponse}function Yn(T){return void 0!==T&&void 0!==T.enterprise}class Qt{constructor(g){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=g.recaptchaEnforcementState}getProviderEnforcementState(g){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===g)return On(v.enforcementState);return null}isProviderEnabled(g){return"ENFORCE"===this.getProviderEnforcementState(g)||"AUDIT"===this.getProviderEnforcementState(g)}}function xn(){return(xn=(0,f.Z)(function*(T){return(yield vt(T,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Rr(T,g){return rr.apply(this,arguments)}function rr(){return(rr=(0,f.Z)(function*(T,g){return vt(T,"GET","/v2/recaptchaConfig",ot(T,g))})).apply(this,arguments)}function In(){return(In=(0,f.Z)(function*(T,g){return vt(T,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Hn(){return(Hn=(0,f.Z)(function*(T,g){return vt(T,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ar(T,g){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,f.Z)(function*(T,g){return vt(T,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Gn(T){if(T)try{const g=new Date(Number(T));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function yi(){return(yi=(0,f.Z)(function*(T,g=!1){const v=(0,U.m9)(T),M=yield v.getIdToken(g),X=Ur(M);Ee(X&&X.exp&&X.auth_time&&X.iat,v.auth,"internal-error");const me="object"==typeof X.firebase?X.firebase:void 0,rt=me?.sign_in_provider;return{claims:X,token:M,authTime:Gn(gn(X.auth_time)),issuedAtTime:Gn(gn(X.iat)),expirationTime:Gn(gn(X.exp)),signInProvider:rt||null,signInSecondFactor:me?.sign_in_second_factor||null}})).apply(this,arguments)}function gn(T){return 1e3*Number(T)}function Ur(T){const[g,v,M]=T.split(".");if(void 0===g||void 0===v||void 0===M)return Fe("JWT malformed, contained fewer than 3 sections"),null;try{const X=(0,U.tV)(v);return X?JSON.parse(X):(Fe("Failed to decode base64 JWT payload"),null)}catch(X){return Fe("Caught error parsing JWT payload as JSON",X?.toString()),null}}function sr(T){const g=Ur(T);return Ee(g,"internal-error"),Ee(typeof g.exp<"u","internal-error"),Ee(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}function Or(T,g){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,f.Z)(function*(T,g,v=!1){if(v)return g;try{return yield g}catch(M){throw M instanceof U.ZR&&function ri({code:T}){return"auth/user-disabled"===T||"auth/user-token-expired"===T}(M)&&T.auth.currentUser===T&&(yield T.auth.signOut()),M}})).apply(this,arguments)}class at{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var v;if(g){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const X=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,X)}}schedule(g=!1){var v=this;if(!this.isRunning)return;const M=this.getInterval(g);this.timerId=setTimeout((0,f.Z)(function*(){yield v.iteration()}),M)}iteration(){var g=this;return(0,f.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&g.schedule(!0))}g.schedule()})()}}class wt{constructor(g,v){this.createdAt=g,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gn(this.lastLoginAt),this.creationTime=Gn(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ue(T){return Be.apply(this,arguments)}function Be(){return(Be=(0,f.Z)(function*(T){var g;const v=T.auth,M=yield T.getIdToken(),X=yield Or(T,Ar(v,{idToken:M}));Ee(X?.users.length,v,"internal-error");const me=X.users[0];T._notifyReloadListener(me);const rt=null!==(g=me.providerUserInfo)&&void 0!==g&&g.length?hi(me.providerUserInfo):[],Pt=function zn(T,g){return[...T.filter(M=>!g.some(X=>X.providerId===M.providerId)),...g]}(T.providerData,rt),tr=!!T.isAnonymous&&!(T.email&&me.passwordHash||Pt?.length),vr={uid:me.localId,displayName:me.displayName||null,photoURL:me.photoUrl||null,email:me.email||null,emailVerified:me.emailVerified||!1,phoneNumber:me.phoneNumber||null,tenantId:me.tenantId||null,providerData:Pt,metadata:new wt(me.createdAt,me.lastLoginAt),isAnonymous:tr};Object.assign(T,vr)})).apply(this,arguments)}function tn(){return(tn=(0,f.Z)(function*(T){const g=(0,U.m9)(T);yield ue(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function hi(T){return T.map(g=>{var{providerId:v}=g,M=(0,_e._T)(g,["providerId"]);return{providerId:v,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}function qe(){return(qe=(0,f.Z)(function*(T,g){const v=yield Zt(T,{},(0,f.Z)(function*(){const M=(0,U.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:X,apiKey:me}=T.config,rt=Pn(T,X,"/v1/token",`key=${me}`),Pt=yield T._getAdditionalHeaders();return Pt["Content-Type"]="application/x-www-form-urlencoded",Ie.fetch()(rt,{method:"POST",headers:Pt,body:M})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function K(){return(K=(0,f.Z)(function*(T,g){return vt(T,"POST","/v2/accounts:revokeToken",ot(T,g))})).apply(this,arguments)}class H{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Ee(g.idToken,"internal-error"),Ee(typeof g.idToken<"u","internal-error"),Ee(typeof g.refreshToken<"u","internal-error");const v="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):sr(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,v)}updateFromIdToken(g){Ee(0!==g.length,"internal-error");const v=sr(g);this.updateTokensAndExpiration(g,null,v)}getToken(g,v=!1){var M=this;return(0,f.Z)(function*(){return v||!M.accessToken||M.isExpired?(Ee(M.refreshToken,g,"user-token-expired"),M.refreshToken?(yield M.refresh(g,M.refreshToken),M.accessToken):null):M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,v){var M=this;return(0,f.Z)(function*(){const{accessToken:X,refreshToken:me,expiresIn:rt}=yield function wr(T,g){return qe.apply(this,arguments)}(g,v);M.updateTokensAndExpiration(X,me,Number(rt))})()}updateTokensAndExpiration(g,v,M){this.refreshToken=v||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(g,v){const{refreshToken:M,accessToken:X,expirationTime:me}=v,rt=new H;return M&&(Ee("string"==typeof M,"internal-error",{appName:g}),rt.refreshToken=M),X&&(Ee("string"==typeof X,"internal-error",{appName:g}),rt.accessToken=X),me&&(Ee("number"==typeof me,"internal-error",{appName:g}),rt.expirationTime=me),rt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new H,this.toJSON())}_performRefresh(){return Nt("not implemented")}}function B(T,g){Ee("string"==typeof T||typeof T>"u","internal-error",{appName:g})}class Te{constructor(g){var{uid:v,auth:M,stsTokenManager:X}=g,me=(0,_e._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new at(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=M,this.stsTokenManager=X,this.accessToken=X.accessToken,this.displayName=me.displayName||null,this.email=me.email||null,this.emailVerified=me.emailVerified||!1,this.phoneNumber=me.phoneNumber||null,this.photoURL=me.photoURL||null,this.isAnonymous=me.isAnonymous||!1,this.tenantId=me.tenantId||null,this.providerData=me.providerData?[...me.providerData]:[],this.metadata=new wt(me.createdAt||void 0,me.lastLoginAt||void 0)}getIdToken(g){var v=this;return(0,f.Z)(function*(){const M=yield Or(v,v.stsTokenManager.getToken(v.auth,g));return Ee(M,v.auth,"internal-error"),v.accessToken!==M&&(v.accessToken=M,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),M})()}getIdTokenResult(g){return function Yr(T){return yi.apply(this,arguments)}(this,g)}reload(){return function xt(T){return tn.apply(this,arguments)}(this)}_assign(g){this!==g&&(Ee(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(v=>Object.assign({},v)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const v=new Te(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(g){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,v=!1){var M=this;return(0,f.Z)(function*(){let X=!1;g.idToken&&g.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(g),X=!0),v&&(yield ue(M)),yield M.auth._persistUserIfCurrent(M),X&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var g=this;return(0,f.Z)(function*(){if((0,o._isFirebaseServerApp)(g.auth.app))return Promise.reject(Ge(g.auth));const v=yield g.getIdToken();return yield Or(g,function Yt(T,g){return In.apply(this,arguments)}(g.auth,{idToken:v})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,v){var M,X,me,rt,Pt,Jt,kn,tr;const vr=null!==(M=v.displayName)&&void 0!==M?M:void 0,Vs=null!==(X=v.email)&&void 0!==X?X:void 0,qc=null!==(me=v.phoneNumber)&&void 0!==me?me:void 0,Wc=null!==(rt=v.photoURL)&&void 0!==rt?rt:void 0,Kc=null!==(Pt=v.tenantId)&&void 0!==Pt?Pt:void 0,dc=null!==(Jt=v._redirectEventId)&&void 0!==Jt?Jt:void 0,af=null!==(kn=v.createdAt)&&void 0!==kn?kn:void 0,Dl=null!==(tr=v.lastLoginAt)&&void 0!==tr?tr:void 0,{uid:Sl,emailVerified:cf,isAnonymous:Ap,providerData:ah,stsTokenManager:lf}=v;Ee(Sl&&lf,g,"internal-error");const Qc=H.fromJSON(this.name,lf);Ee("string"==typeof Sl,g,"internal-error"),B(vr,g.name),B(Vs,g.name),Ee("boolean"==typeof cf,g,"internal-error"),Ee("boolean"==typeof Ap,g,"internal-error"),B(qc,g.name),B(Wc,g.name),B(Kc,g.name),B(dc,g.name),B(af,g.name),B(Dl,g.name);const aa=new Te({uid:Sl,auth:g,email:Vs,emailVerified:cf,displayName:vr,isAnonymous:Ap,photoURL:Wc,phoneNumber:qc,tenantId:Kc,stsTokenManager:Qc,createdAt:af,lastLoginAt:Dl});return ah&&Array.isArray(ah)&&(aa.providerData=ah.map(Xl=>Object.assign({},Xl))),dc&&(aa._redirectEventId=dc),aa}static _fromIdTokenResponse(g,v,M=!1){return(0,f.Z)(function*(){const X=new H;X.updateFromServerResponse(v);const me=new Te({uid:v.localId,auth:g,stsTokenManager:X,isAnonymous:M});return yield ue(me),me})()}static _fromGetAccountInfoResponse(g,v,M){return(0,f.Z)(function*(){const X=v.users[0];Ee(void 0!==X.localId,"internal-error");const me=void 0!==X.providerUserInfo?hi(X.providerUserInfo):[],rt=!(X.email&&X.passwordHash||me?.length),Pt=new H;Pt.updateFromIdToken(M);const Jt=new Te({uid:X.localId,auth:g,stsTokenManager:Pt,isAnonymous:rt}),kn={uid:X.localId,displayName:X.displayName||null,photoURL:X.photoUrl||null,email:X.email||null,emailVerified:X.emailVerified||!1,phoneNumber:X.phoneNumber||null,tenantId:X.tenantId||null,providerData:me,metadata:new wt(X.createdAt,X.lastLoginAt),isAnonymous:!(X.email&&X.passwordHash||me?.length)};return Object.assign(Jt,kn),Jt})()}}const Xe=new Map;function kt(T){Vt(T instanceof Function,"Expected a class definition");let g=Xe.get(T);return g?(Vt(g instanceof T,"Instance stored in cache mismatched with class"),g):(g=new T,Xe.set(T,g),g)}const mn=(()=>{class T{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(v,M){var X=this;return(0,f.Z)(function*(){X.storage[v]=M})()}_get(v){var M=this;return(0,f.Z)(function*(){const X=M.storage[v];return void 0===X?null:X})()}_remove(v){var M=this;return(0,f.Z)(function*(){delete M.storage[v]})()}_addListener(v,M){}_removeListener(v,M){}}return T.type="NONE",T})();function an(T,g,v){return`firebase:${T}:${g}:${v}`}class fn{constructor(g,v,M){this.persistence=g,this.auth=v,this.userKey=M;const{config:X,name:me}=this.auth;this.fullUserKey=an(this.userKey,X.apiKey,me),this.fullPersistenceKey=an("persistence",X.apiKey,me),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,f.Z)(function*(){const v=yield g.persistence._get(g.fullUserKey);return v?Te._fromJSON(g.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var v=this;return(0,f.Z)(function*(){if(v.persistence===g)return;const M=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=g,M?v.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,v,M="authUser"){return(0,f.Z)(function*(){if(!v.length)return new fn(kt(mn),g,M);const X=(yield Promise.all(v.map(function(){var kn=(0,f.Z)(function*(tr){if(yield tr._isAvailable())return tr});return function(tr){return kn.apply(this,arguments)}}()))).filter(kn=>kn);let me=X[0]||kt(mn);const rt=an(M,g.config.apiKey,g.name);let Pt=null;for(const kn of v)try{const tr=yield kn._get(rt);if(tr){const vr=Te._fromJSON(g,tr);kn!==me&&(Pt=vr),me=kn;break}}catch{}const Jt=X.filter(kn=>kn._shouldAllowMigration);return me._shouldAllowMigration&&Jt.length?(me=Jt[0],Pt&&(yield me._set(rt,Pt.toJSON())),yield Promise.all(v.map(function(){var kn=(0,f.Z)(function*(tr){if(tr!==me)try{yield tr._remove(rt)}catch{}});return function(tr){return kn.apply(this,arguments)}}())),new fn(me,g,M)):new fn(me,g,M)})()}}function Jn(T){const g=T.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(jt(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Je(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(En(g))return"Blackberry";if(cn(g))return"Webos";if(He(g))return"Safari";if((g.includes("chrome/")||nt(g))&&!g.includes("edge/"))return"Chrome";if(Xt(g))return"Android";{const M=T.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===M?.length)return M[1]}return"Other"}function Je(T=(0,U.z$)()){return/firefox\//i.test(T)}function He(T=(0,U.z$)()){const g=T.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function nt(T=(0,U.z$)()){return/crios\//i.test(T)}function jt(T=(0,U.z$)()){return/iemobile/i.test(T)}function Xt(T=(0,U.z$)()){return/android/i.test(T)}function En(T=(0,U.z$)()){return/blackberry/i.test(T)}function cn(T=(0,U.z$)()){return/webos/i.test(T)}function hr(T=(0,U.z$)()){return/iphone|ipad|ipod/i.test(T)||/macintosh/i.test(T)&&/mobile/i.test(T)}function yn(T=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(T)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(T)}function Ft(T=(0,U.z$)()){return hr(T)||Xt(T)||cn(T)||En(T)||/windows phone/i.test(T)||jt(T)}function Ln(T,g=[]){let v;switch(T){case"Browser":v=Jn((0,U.z$)());break;case"Worker":v=`${Jn((0,U.z$)())}-${T}`;break;default:v=T}const M=g.length?g.join(","):"FirebaseCore-web";return`${v}/JsCore/${o.SDK_VERSION}/${M}`}class Vn{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,v){const M=me=>new Promise((rt,Pt)=>{try{rt(g(me))}catch(Jt){Pt(Jt)}});M.onAbort=v,this.queue.push(M);const X=this.queue.length-1;return()=>{this.queue[X]=()=>Promise.resolve()}}runMiddleware(g){var v=this;return(0,f.Z)(function*(){if(v.auth.currentUser===g)return;const M=[];try{for(const X of v.queue)yield X(g),X.onAbort&&M.push(X.onAbort)}catch(X){M.reverse();for(const me of M)try{me()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:X?.message})}})()}}function $n(){return($n=(0,f.Z)(function*(T,g={}){return vt(T,"GET","/v2/passwordPolicy",ot(T,g))})).apply(this,arguments)}class fi{constructor(g){var v,M,X,me;const rt=g.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=rt.minPasswordLength)&&void 0!==v?v:6,rt.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=rt.maxPasswordLength),void 0!==rt.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=rt.containsLowercaseCharacter),void 0!==rt.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=rt.containsUppercaseCharacter),void 0!==rt.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=rt.containsNumericCharacter),void 0!==rt.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=rt.containsNonAlphanumericCharacter),this.enforcementState=g.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(X=null===(M=g.allowedNonAlphanumericCharacters)||void 0===M?void 0:M.join(""))&&void 0!==X?X:"",this.forceUpgradeOnSignin=null!==(me=g.forceUpgradeOnSignin)&&void 0!==me&&me,this.schemaVersion=g.schemaVersion}validatePassword(g){var v,M,X,me,rt,Pt;const Jt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(g,Jt),this.validatePasswordCharacterOptions(g,Jt),Jt.isValid&&(Jt.isValid=null===(v=Jt.meetsMinPasswordLength)||void 0===v||v),Jt.isValid&&(Jt.isValid=null===(M=Jt.meetsMaxPasswordLength)||void 0===M||M),Jt.isValid&&(Jt.isValid=null===(X=Jt.containsLowercaseLetter)||void 0===X||X),Jt.isValid&&(Jt.isValid=null===(me=Jt.containsUppercaseLetter)||void 0===me||me),Jt.isValid&&(Jt.isValid=null===(rt=Jt.containsNumericCharacter)||void 0===rt||rt),Jt.isValid&&(Jt.isValid=null===(Pt=Jt.containsNonAlphanumericCharacter)||void 0===Pt||Pt),Jt}validatePasswordLengthOptions(g,v){const M=this.customStrengthOptions.minPasswordLength,X=this.customStrengthOptions.maxPasswordLength;M&&(v.meetsMinPasswordLength=g.length>=M),X&&(v.meetsMaxPasswordLength=g.length<=X)}validatePasswordCharacterOptions(g,v){let M;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let X=0;X<g.length;X++)M=g.charAt(X),this.updatePasswordCharacterOptionsStatuses(v,M>="a"&&M<="z",M>="A"&&M<="Z",M>="0"&&M<="9",this.allowedNonAlphanumericCharacters.includes(M))}updatePasswordCharacterOptionsStatuses(g,v,M,X,me){this.customStrengthOptions.containsLowercaseLetter&&(g.containsLowercaseLetter||(g.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(g.containsUppercaseLetter||(g.containsUppercaseLetter=M)),this.customStrengthOptions.containsNumericCharacter&&(g.containsNumericCharacter||(g.containsNumericCharacter=X)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(g.containsNonAlphanumericCharacter||(g.containsNonAlphanumericCharacter=me))}}class ei{constructor(g,v,M,X){this.app=g,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=M,this.config=X,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xi(this),this.idTokenSubscription=new xi(this),this.beforeStateQueue=new Vn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Re,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=X.sdkClientVersion}_initializeWithPersistence(g,v){var M=this;return v&&(this._popupRedirectResolver=kt(v)),this._initializationPromise=this.queue((0,f.Z)(function*(){var X,me;if(!M._deleted&&(M.persistenceManager=yield fn.create(M,g),!M._deleted)){if(null!==(X=M._popupRedirectResolver)&&void 0!==X&&X._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(v),M.lastNotifiedUid=(null===(me=M.currentUser)||void 0===me?void 0:me.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,f.Z)(function*(){if(g._deleted)return;const v=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||v){if(g.currentUser&&v&&g.currentUser.uid===v.uid)return g._currentUser._assign(v),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(g){var v=this;return(0,f.Z)(function*(){try{const M=yield Ar(v,{idToken:g}),X=yield Te._fromGetAccountInfoResponse(v,M,g);yield v.directlySetCurrentUser(X)}catch(M){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",M),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(g){var v=this;return(0,f.Z)(function*(){var M;if((0,o._isFirebaseServerApp)(v.app)){const Pt=v.app.settings.authIdToken;return Pt?new Promise(Jt=>{setTimeout(()=>v.initializeCurrentUserFromIdToken(Pt).then(Jt,Jt))}):v.directlySetCurrentUser(null)}const X=yield v.assertedPersistence.getCurrentUser();let me=X,rt=!1;if(g&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Pt=null===(M=v.redirectUser)||void 0===M?void 0:M._redirectEventId,Jt=me?._redirectEventId,kn=yield v.tryRedirectSignIn(g);(!Pt||Pt===Jt)&&kn?.user&&(me=kn.user,rt=!0)}if(!me)return v.directlySetCurrentUser(null);if(!me._redirectEventId){if(rt)try{yield v.beforeStateQueue.runMiddleware(me)}catch(Pt){me=X,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Pt))}return me?v.reloadAndSetCurrentUserOrClear(me):v.directlySetCurrentUser(null)}return Ee(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===me._redirectEventId?v.directlySetCurrentUser(me):v.reloadAndSetCurrentUserOrClear(me)})()}tryRedirectSignIn(g){var v=this;return(0,f.Z)(function*(){let M=null;try{M=yield v._popupRedirectResolver._completeRedirectFn(v,g,!0)}catch{yield v._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(g){var v=this;return(0,f.Z)(function*(){try{yield ue(g)}catch(M){if("auth/network-request-failed"!==M?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Le(){if(typeof navigator>"u")return null;const T=navigator;return T.languages&&T.languages[0]||T.language||null}()}_delete(){var g=this;return(0,f.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var v=this;return(0,f.Z)(function*(){if((0,o._isFirebaseServerApp)(v.app))return Promise.reject(Ge(v));const M=g?(0,U.m9)(g):null;return M&&Ee(M.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(M&&M._clone(v))})()}_updateCurrentUser(g,v=!1){var M=this;return(0,f.Z)(function*(){if(!M._deleted)return g&&Ee(M.tenantId===g.tenantId,M,"tenant-id-mismatch"),v||(yield M.beforeStateQueue.runMiddleware(g)),M.queue((0,f.Z)(function*(){yield M.directlySetCurrentUser(g),M.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,f.Z)(function*(){return(0,o._isFirebaseServerApp)(g.app)?Promise.reject(Ge(g)):(yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0))})()}setPersistence(g){var v=this;return(0,o._isFirebaseServerApp)(this.app)?Promise.reject(Ge(this)):this.queue((0,f.Z)(function*(){yield v.assertedPersistence.setPersistence(kt(g))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(g){var v=this;return(0,f.Z)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const M=v._getPasswordPolicyInternal();return M.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):M.validatePassword(g)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var g=this;return(0,f.Z)(function*(){const v=yield function vn(T){return $n.apply(this,arguments)}(g),M=new fi(v);null===g.tenantId?g._projectPasswordPolicy=M:g._tenantPasswordPolicies[g.tenantId]=M})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new U.LL("auth","Firebase",g())}onAuthStateChanged(g,v,M){return this.registerStateListener(this.authStateSubscription,g,v,M)}beforeAuthStateChanged(g,v){return this.beforeStateQueue.pushCallback(g,v)}onIdTokenChanged(g,v,M){return this.registerStateListener(this.idTokenSubscription,g,v,M)}authStateReady(){return new Promise((g,v)=>{if(this.currentUser)g();else{const M=this.onAuthStateChanged(()=>{M(),g()},v)}})}revokeAccessToken(g){var v=this;return(0,f.Z)(function*(){if(v.currentUser){const M=yield v.currentUser.getIdToken(),X={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:g,idToken:M};null!=v.tenantId&&(X.tenantId=v.tenantId),yield function ce(T,g){return K.apply(this,arguments)}(v,X)}})()}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,v){var M=this;return(0,f.Z)(function*(){const X=yield M.getOrInitRedirectPersistenceManager(v);return null===g?X.removeCurrentUser():X.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var v=this;return(0,f.Z)(function*(){if(!v.redirectPersistenceManager){const M=g&&kt(g)||v._popupRedirectResolver;Ee(M,v,"argument-error"),v.redirectPersistenceManager=yield fn.create(v,[kt(M._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(g){var v=this;return(0,f.Z)(function*(){var M,X;return v._isInitialized&&(yield v.queue((0,f.Z)(function*(){}))),(null===(M=v._currentUser)||void 0===M?void 0:M._redirectEventId)===g?v._currentUser:(null===(X=v.redirectUser)||void 0===X?void 0:X._redirectEventId)===g?v.redirectUser:null})()}_persistUserIfCurrent(g){var v=this;return(0,f.Z)(function*(){if(g===v.currentUser)return v.queue((0,f.Z)(function*(){return v.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(v=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,v,M,X){if(this._deleted)return()=>{};const me="function"==typeof v?v:v.next.bind(v);let rt=!1;const Pt=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(Pt,this,"internal-error"),Pt.then(()=>{rt||me(this.currentUser)}),"function"==typeof v){const Jt=g.addObserver(v,M,X);return()=>{rt=!0,Jt()}}{const Jt=g.addObserver(v);return()=>{rt=!0,Jt()}}}directlySetCurrentUser(g){var v=this;return(0,f.Z)(function*(){v.currentUser&&v.currentUser!==g&&v._currentUser._stopProactiveRefresh(),g&&v.isProactiveRefreshEnabled&&g._startProactiveRefresh(),v.currentUser=g,g?yield v.assertedPersistence.setCurrentUser(g):yield v.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Ln(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,f.Z)(function*(){var v;const M={"X-Client-Version":g.clientVersion};g.app.options.appId&&(M["X-Firebase-gmpid"]=g.app.options.appId);const X=yield null===(v=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();X&&(M["X-Firebase-Client"]=X);const me=yield g._getAppCheckToken();return me&&(M["X-Firebase-AppCheck"]=me),M})()}_getAppCheckToken(){var g=this;return(0,f.Z)(function*(){var v;const M=yield null===(v=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return M?.error&&function _t(T,...g){We.logLevel<=Se.in.WARN&&We.warn(`Auth (${o.SDK_VERSION}): ${T}`,...g)}(`Error while retrieving App Check token: ${M.error}`),M?.token})()}}function ur(T){return(0,U.m9)(T)}class xi{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,U.ne)(v=>this.observer=v)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let gi={loadJS:()=>(0,f.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zr(T){return gi.loadJS(T)}function Qo(T){return`__${T}${Math.floor(1e6*Math.random())}`}class Ni{constructor(g){this.type="recaptcha-enterprise",this.auth=ur(g)}verify(g="verify",v=!1){var M=this;return(0,f.Z)(function*(){function me(){return me=(0,f.Z)(function*(Pt){if(!v){if(null==Pt.tenantId&&null!=Pt._agentRecaptchaConfig)return Pt._agentRecaptchaConfig.siteKey;if(null!=Pt.tenantId&&void 0!==Pt._tenantRecaptchaConfigs[Pt.tenantId])return Pt._tenantRecaptchaConfigs[Pt.tenantId].siteKey}return new Promise(function(){var Jt=(0,f.Z)(function*(kn,tr){Rr(Pt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(vr=>{if(void 0!==vr.recaptchaKey){const Vs=new Qt(vr);return null==Pt.tenantId?Pt._agentRecaptchaConfig=Vs:Pt._tenantRecaptchaConfigs[Pt.tenantId]=Vs,kn(Vs.siteKey)}tr(new Error("recaptcha Enterprise site key undefined"))}).catch(vr=>{tr(vr)})});return function(kn,tr){return Jt.apply(this,arguments)}}())}),me.apply(this,arguments)}function rt(Pt,Jt,kn){const tr=window.grecaptcha;Yn(tr)?tr.enterprise.ready(()=>{tr.enterprise.execute(Pt,{action:g}).then(vr=>{Jt(vr)}).catch(()=>{Jt("NO_RECAPTCHA")})}):kn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Pt,Jt)=>{(function X(Pt){return me.apply(this,arguments)})(M.auth).then(kn=>{if(!v&&Yn(window.grecaptcha))rt(kn,Pt,Jt);else{if(typeof window>"u")return void Jt(new Error("RecaptchaVerifier is only supported in browser"));let tr=function go(){return gi.recaptchaEnterpriseScript}();0!==tr.length&&(tr+=kn),zr(tr).then(()=>{rt(kn,Pt,Jt)}).catch(vr=>{Jt(vr)})}}).catch(kn=>{Jt(kn)})})})()}}function Jr(T,g,v){return zs.apply(this,arguments)}function zs(){return(zs=(0,f.Z)(function*(T,g,v,M=!1){const X=new Ni(T);let me;try{me=yield X.verify(v)}catch{me=yield X.verify(v,!0)}const rt=Object.assign({},g);return Object.assign(rt,M?{captchaResp:me}:{captchaResponse:me}),Object.assign(rt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(rt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),rt})).apply(this,arguments)}function jo(T,g,v,M){return Hi.apply(this,arguments)}function Hi(){return Hi=(0,f.Z)(function*(T,g,v,M){var X;if(null!==(X=T._getRecaptchaConfig())&&void 0!==X&&X.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const me=yield Jr(T,g,v,"getOobCode"===v);return M(T,me)}return M(T,g).catch(function(){var me=(0,f.Z)(function*(rt){if("auth/missing-recaptcha-token"===rt.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Pt=yield Jr(T,g,v,"getOobCode"===v);return M(T,Pt)}return Promise.reject(rt)});return function(rt){return me.apply(this,arguments)}}())}),Hi.apply(this,arguments)}function wo(T,g,v){const M=ur(T);Ee(M._canInitEmulator,M,"emulator-config-failed"),Ee(/^https?:\/\//.test(g),M,"invalid-emulator-scheme");const X=!!v?.disableWarnings,me=Ei(g),{host:rt,port:Pt}=function mo(T){const g=Ei(T),v=/(\/\/)?([^?#/]+)/.exec(T.substr(g.length));if(!v)return{host:"",port:null};const M=v[2].split("@").pop()||"",X=/^(\[[^\]]+\])(:|$)/.exec(M);if(X){const me=X[1];return{host:me,port:Zo(M.substr(me.length+1))}}{const[me,rt]=M.split(":");return{host:me,port:Zo(rt)}}}(g);M.config.emulator={url:`${me}//${rt}${null===Pt?"":`:${Pt}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:rt,port:Pt,protocol:me.replace(":",""),options:Object.freeze({disableWarnings:X})}),X||function ns(){function T(){const g=document.createElement("p"),v=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",T):T())}()}function Ei(T){const g=T.indexOf(":");return g<0?"":T.substr(0,g+1)}function Zo(T){if(!T)return null;const g=Number(T);return isNaN(g)?null:g}class no{constructor(g,v){this.providerId=g,this.signInMethod=v}toJSON(){return Nt("not implemented")}_getIdTokenResponse(g){return Nt("not implemented")}_linkToIdToken(g,v){return Nt("not implemented")}_getReauthenticationResolver(g){return Nt("not implemented")}}function gs(T,g){return qn.apply(this,arguments)}function qn(){return(qn=(0,f.Z)(function*(T,g){return vt(T,"POST","/v1/accounts:resetPassword",ot(T,g))})).apply(this,arguments)}function oi(){return(oi=(0,f.Z)(function*(T,g){return vt(T,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function zi(T,g){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,f.Z)(function*(T,g){return vt(T,"POST","/v1/accounts:signUp",g)})).apply(this,arguments)}function io(){return(io=(0,f.Z)(function*(T,g){return vt(T,"POST","/v1/accounts:update",ot(T,g))})).apply(this,arguments)}function ws(T,g){return _o.apply(this,arguments)}function _o(){return(_o=(0,f.Z)(function*(T,g){return bn(T,"POST","/v1/accounts:signInWithPassword",ot(T,g))})).apply(this,arguments)}function Ho(T,g){return $r.apply(this,arguments)}function $r(){return($r=(0,f.Z)(function*(T,g){return vt(T,"POST","/v1/accounts:sendOobCode",ot(T,g))})).apply(this,arguments)}function Xn(){return(Xn=(0,f.Z)(function*(T,g){return Ho(T,g)})).apply(this,arguments)}function Nr(T,g){return ki.apply(this,arguments)}function ki(){return(ki=(0,f.Z)(function*(T,g){return Ho(T,g)})).apply(this,arguments)}function oo(T,g){return ai.apply(this,arguments)}function ai(){return(ai=(0,f.Z)(function*(T,g){return Ho(T,g)})).apply(this,arguments)}function si(){return(si=(0,f.Z)(function*(T,g){return Ho(T,g)})).apply(this,arguments)}function vo(){return(vo=(0,f.Z)(function*(T,g){return bn(T,"POST","/v1/accounts:signInWithEmailLink",ot(T,g))})).apply(this,arguments)}function So(){return(So=(0,f.Z)(function*(T,g){return bn(T,"POST","/v1/accounts:signInWithEmailLink",ot(T,g))})).apply(this,arguments)}class ci extends no{constructor(g,v,M,X=null){super("password",M),this._email=g,this._password=v,this._tenantId=X}static _fromEmailAndPassword(g,v){return new ci(g,v,"password")}static _fromEmailAndCode(g,v,M=null){return new ci(g,v,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(g){var v=this;return(0,f.Z)(function*(){switch(v.signInMethod){case"password":return jo(g,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ws);case"emailLink":return function so(T,g){return vo.apply(this,arguments)}(g,{email:v._email,oobCode:v._password});default:Ne(g,"internal-error")}})()}_linkToIdToken(g,v){var M=this;return(0,f.Z)(function*(){switch(M.signInMethod){case"password":return jo(g,{idToken:v,returnSecureToken:!0,email:M._email,password:M._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zi);case"emailLink":return function nr(T,g){return So.apply(this,arguments)}(g,{idToken:v,email:M._email,oobCode:M._password});default:Ne(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function re(T,g){return Y.apply(this,arguments)}function Y(){return(Y=(0,f.Z)(function*(T,g){return bn(T,"POST","/v1/accounts:signInWithIdp",ot(T,g))})).apply(this,arguments)}class $e extends no{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const v=new $e(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(v.idToken=g.idToken),g.accessToken&&(v.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(v.nonce=g.nonce),g.pendingToken&&(v.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(v.accessToken=g.oauthToken,v.secret=g.oauthTokenSecret):Ne("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:M,signInMethod:X}=v,me=(0,_e._T)(v,["providerId","signInMethod"]);if(!M||!X)return null;const rt=new $e(M,X);return rt.idToken=me.idToken||void 0,rt.accessToken=me.accessToken||void 0,rt.secret=me.secret,rt.nonce=me.nonce,rt.pendingToken=me.pendingToken||null,rt}_getIdTokenResponse(g){return re(g,this.buildRequest())}_linkToIdToken(g,v){const M=this.buildRequest();return M.idToken=v,re(g,M)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,re(g,v)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),g.postBody=(0,U.xO)(v)}return g}}function Lt(){return(Lt=(0,f.Z)(function*(T,g){return vt(T,"POST","/v1/accounts:sendVerificationCode",ot(T,g))})).apply(this,arguments)}function Sn(){return(Sn=(0,f.Z)(function*(T,g){return bn(T,"POST","/v1/accounts:signInWithPhoneNumber",ot(T,g))})).apply(this,arguments)}function An(){return(An=(0,f.Z)(function*(T,g){const v=yield bn(T,"POST","/v1/accounts:signInWithPhoneNumber",ot(T,g));if(v.temporaryProof)throw Nn(T,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const mr={USER_NOT_FOUND:"user-not-found"};function Ai(){return(Ai=(0,f.Z)(function*(T,g){return bn(T,"POST","/v1/accounts:signInWithPhoneNumber",ot(T,Object.assign(Object.assign({},g),{operation:"REAUTH"})),mr)})).apply(this,arguments)}class Zr extends no{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,v){return new Zr({verificationId:g,verificationCode:v})}static _fromTokenResponse(g,v){return new Zr({phoneNumber:g,temporaryProof:v})}_getIdTokenResponse(g){return function pn(T,g){return Sn.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,v){return function Kt(T,g){return An.apply(this,arguments)}(g,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Bn(T,g){return Ai.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:v,verificationId:M,verificationCode:X}=this.params;return g&&v?{temporaryProof:g,phoneNumber:v}:{sessionInfo:M,code:X}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:v,verificationCode:M,phoneNumber:X,temporaryProof:me}=g;return M||v||X||me?new Zr({verificationId:v,verificationCode:M,phoneNumber:X,temporaryProof:me}):null}}class Br{constructor(g){var v,M,X,me,rt,Pt;const Jt=(0,U.zd)((0,U.pd)(g)),kn=null!==(v=Jt.apiKey)&&void 0!==v?v:null,tr=null!==(M=Jt.oobCode)&&void 0!==M?M:null,vr=function kr(T){switch(T){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(X=Jt.mode)&&void 0!==X?X:null);Ee(kn&&tr&&vr,"argument-error"),this.apiKey=kn,this.operation=vr,this.code=tr,this.continueUrl=null!==(me=Jt.continueUrl)&&void 0!==me?me:null,this.languageCode=null!==(rt=Jt.languageCode)&&void 0!==rt?rt:null,this.tenantId=null!==(Pt=Jt.tenantId)&&void 0!==Pt?Pt:null}static parseLink(g){const v=function mi(T){const g=(0,U.zd)((0,U.pd)(T)).link,v=g?(0,U.zd)((0,U.pd)(g)).deep_link_id:null,M=(0,U.zd)((0,U.pd)(T)).deep_link_id;return(M?(0,U.zd)((0,U.pd)(M)).link:null)||M||v||g||T}(g);try{return new Br(v)}catch{return null}}}let ho=(()=>{class T{constructor(){this.providerId=T.PROVIDER_ID}static credential(v,M){return ci._fromEmailAndPassword(v,M)}static credentialWithLink(v,M){const X=Br.parseLink(M);return Ee(X,"argument-error"),ci._fromEmailAndCode(v,X.code,X.tenantId)}}return T.PROVIDER_ID="password",T.EMAIL_PASSWORD_SIGN_IN_METHOD="password",T.EMAIL_LINK_SIGN_IN_METHOD="emailLink",T})();class yr{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Ri extends yr{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Kr extends Ri{static credentialFromJSON(g){const v="string"==typeof g?JSON.parse(g):g;return Ee("providerId"in v&&"signInMethod"in v,"argument-error"),$e._fromParams(v)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Ee(g.idToken||g.accessToken,"argument-error"),$e._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Kr.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Kr.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:M,oauthTokenSecret:X,pendingToken:me,nonce:rt,providerId:Pt}=g;if(!M&&!X&&!v&&!me||!Pt)return null;try{return new Kr(Pt)._credential({idToken:v,accessToken:M,nonce:rt,pendingToken:me})}catch{return null}}}let Ii=(()=>{class T extends Ri{constructor(){super("facebook.com")}static credential(v){return $e._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return T.credential(v.oauthAccessToken)}catch{return null}}}return T.FACEBOOK_SIGN_IN_METHOD="facebook.com",T.PROVIDER_ID="facebook.com",T})(),ms=(()=>{class T extends Ri{constructor(){super("google.com"),this.addScope("profile")}static credential(v,M){return $e._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:M})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:M,oauthAccessToken:X}=v;if(!M&&!X)return null;try{return T.credential(M,X)}catch{return null}}}return T.GOOGLE_SIGN_IN_METHOD="google.com",T.PROVIDER_ID="google.com",T})(),ao=(()=>{class T extends Ri{constructor(){super("github.com")}static credential(v){return $e._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return T.credential(v.oauthAccessToken)}catch{return null}}}return T.GITHUB_SIGN_IN_METHOD="github.com",T.PROVIDER_ID="github.com",T})();class qi extends no{constructor(g,v){super(g,g),this.pendingToken=v}_getIdTokenResponse(g){return re(g,this.buildRequest())}_linkToIdToken(g,v){const M=this.buildRequest();return M.idToken=v,re(g,M)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,re(g,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:M,signInMethod:X,pendingToken:me}=v;return M&&X&&me&&M===X?new qi(M,me):null}static _create(g,v){return new qi(g,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class No extends yr{constructor(g){Ee(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return No.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return No.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const v=qi.fromJSON(g);return Ee(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:v,providerId:M}=g;if(!v||!M)return null;try{return qi._create(M,v)}catch{return null}}}let Ds=(()=>{class T extends Ri{constructor(){super("twitter.com")}static credential(v,M){return $e._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:M})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:M,oauthTokenSecret:X}=v;if(!M||!X)return null;try{return T.credential(M,X)}catch{return null}}}return T.TWITTER_SIGN_IN_METHOD="twitter.com",T.PROVIDER_ID="twitter.com",T})();function Xa(T,g){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,f.Z)(function*(T,g){return bn(T,"POST","/v1/accounts:signUp",ot(T,g))})).apply(this,arguments)}class Q{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,v,M,X=!1){return(0,f.Z)(function*(){const me=yield Te._fromIdTokenResponse(g,M,X),rt=ie(M);return new Q({user:me,providerId:rt,_tokenResponse:M,operationType:v})})()}static _forOperation(g,v,M){return(0,f.Z)(function*(){yield g._updateTokensIfNecessary(M,!0);const X=ie(M);return new Q({user:g,providerId:X,_tokenResponse:M,operationType:v})})()}}function ie(T){return T.providerId?T.providerId:"phoneNumber"in T?"phone":null}function F(T){return ge.apply(this,arguments)}function ge(){return(ge=(0,f.Z)(function*(T){var g;if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(Ge(T));const v=ur(T);if(yield v._initializationPromise,null!==(g=v.currentUser)&&void 0!==g&&g.isAnonymous)return new Q({user:v.currentUser,providerId:null,operationType:"signIn"});const M=yield Xa(v,{returnSecureToken:!0}),X=yield Q._fromIdTokenResponse(v,"signIn",M,!0);return yield v._updateCurrentUser(X.user),X})).apply(this,arguments)}class ze extends U.ZR{constructor(g,v,M,X){var me;super(v.code,v.message),this.operationType=M,this.user=X,Object.setPrototypeOf(this,ze.prototype),this.customData={appName:g.name,tenantId:null!==(me=g.tenantId)&&void 0!==me?me:void 0,_serverResponse:v.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(g,v,M,X){return new ze(g,v,M,X)}}function Fn(T,g,v,M){return("reauthenticate"===g?v._getReauthenticationResolver(T):v._getIdTokenResponse(T)).catch(me=>{throw"auth/multi-factor-auth-required"===me.code?ze._fromErrorAndOperation(T,me,g,M):me})}function _r(T){return new Set(T.map(({providerId:g})=>g).filter(g=>!!g))}function fo(T,g){return _i.apply(this,arguments)}function _i(){return _i=(0,f.Z)(function*(T,g){const v=(0,U.m9)(T);yield bc(!0,v,g);const{providerUserInfo:M}=yield function Un(T,g){return Hn.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[g]}),X=_r(M||[]);return v.providerData=v.providerData.filter(me=>X.has(me.providerId)),X.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),_i.apply(this,arguments)}function Sa(T,g){return jl.apply(this,arguments)}function jl(){return(jl=(0,f.Z)(function*(T,g,v=!1){const M=yield Or(T,g._linkToIdToken(T.auth,yield T.getIdToken()),v);return Q._forOperation(T,"link",M)})).apply(this,arguments)}function bc(T,g,v){return ec.apply(this,arguments)}function ec(){return(ec=(0,f.Z)(function*(T,g,v){yield ue(g);const X=!1===T?"provider-already-linked":"no-such-provider";Ee(_r(g.providerData).has(v)===T,g.auth,X)})).apply(this,arguments)}function Ma(T,g){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,f.Z)(function*(T,g,v=!1){const{auth:M}=T;if((0,o._isFirebaseServerApp)(M.app))return Promise.reject(Ge(M));const X="reauthenticate";try{const me=yield Or(T,Fn(M,X,g,T),v);Ee(me.idToken,M,"internal-error");const rt=Ur(me.idToken);Ee(rt,M,"internal-error");const{sub:Pt}=rt;return Ee(T.uid===Pt,M,"user-mismatch"),Q._forOperation(T,X,me)}catch(me){throw"auth/user-not-found"===me?.code&&Ne(M,"user-mismatch"),me}})).apply(this,arguments)}function Pa(T,g){return da.apply(this,arguments)}function da(){return(da=(0,f.Z)(function*(T,g,v=!1){if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(Ge(T));const M="signIn",X=yield Fn(T,M,g),me=yield Q._fromIdTokenResponse(T,M,X);return v||(yield T._updateCurrentUser(me.user)),me})).apply(this,arguments)}function Tc(T,g){return rs.apply(this,arguments)}function rs(){return(rs=(0,f.Z)(function*(T,g){return Pa(ur(T),g)})).apply(this,arguments)}function is(T,g){return yo.apply(this,arguments)}function yo(){return(yo=(0,f.Z)(function*(T,g){const v=(0,U.m9)(T);return yield bc(!1,v,g.providerId),Sa(v,g)})).apply(this,arguments)}function Su(T,g){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,f.Z)(function*(T,g){return Ma((0,U.m9)(T),g)})).apply(this,arguments)}function $i(){return($i=(0,f.Z)(function*(T,g){return bn(T,"POST","/v1/accounts:signInWithCustomToken",ot(T,g))})).apply(this,arguments)}function wc(T,g){return ko.apply(this,arguments)}function ko(){return ko=(0,f.Z)(function*(T,g){if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(Ge(T));const v=ur(T),M=yield function ha(T,g){return $i.apply(this,arguments)}(v,{token:g,returnSecureToken:!0}),X=yield Q._fromIdTokenResponse(v,"signIn",M);return yield v._updateCurrentUser(X.user),X}),ko.apply(this,arguments)}class _s{constructor(g,v){this.factorId=g,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(g,v){return"phoneInfo"in v?Ss._fromServerResponse(g,v):"totpInfo"in v?xa._fromServerResponse(g,v):Ne(g,"internal-error")}}class Ss extends _s{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,v){return new Ss(v)}}class xa extends _s{constructor(g){super("totp",g)}static _fromServerResponse(g,v){return new xa(v)}}function Ra(T,g,v){var M;Ee((null===(M=v.url)||void 0===M?void 0:M.length)>0,T,"invalid-continue-uri"),Ee(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,T,"invalid-dynamic-link-domain"),g.continueUrl=v.url,g.dynamicLinkDomain=v.dynamicLinkDomain,g.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Ee(v.iOS.bundleId.length>0,T,"missing-ios-bundle-id"),g.iOSBundleId=v.iOS.bundleId),v.android&&(Ee(v.android.packageName.length>0,T,"missing-android-pkg-name"),g.androidInstallApp=v.android.installApp,g.androidMinimumVersionCode=v.android.minimumVersion,g.androidPackageName=v.android.packageName)}function fr(T){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,f.Z)(function*(T){const g=ur(T);g._getPasswordPolicyInternal()&&(yield g._updatePasswordPolicy())})).apply(this,arguments)}function ll(T,g,v){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,f.Z)(function*(T,g,v){const M=ur(T),X={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};v&&Ra(M,X,v),yield jo(M,X,"getOobCode",Nr)})).apply(this,arguments)}function fa(T,g,v){return Gs.apply(this,arguments)}function Gs(){return Gs=(0,f.Z)(function*(T,g,v){yield gs((0,U.m9)(T),{oobCode:g,newPassword:v}).catch(function(){var M=(0,f.Z)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&fr(T),X});return function(X){return M.apply(this,arguments)}}())}),Gs.apply(this,arguments)}function qs(T,g){return pa.apply(this,arguments)}function pa(){return pa=(0,f.Z)(function*(T,g){yield function ro(T,g){return io.apply(this,arguments)}((0,U.m9)(T),{oobCode:g})}),pa.apply(this,arguments)}function ul(T,g){return dl.apply(this,arguments)}function dl(){return(dl=(0,f.Z)(function*(T,g){const v=(0,U.m9)(T),M=yield gs(v,{oobCode:g}),X=M.requestType;switch(Ee(X,v,"internal-error"),X){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ee(M.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ee(M.mfaInfo,v,"internal-error");default:Ee(M.email,v,"internal-error")}let me=null;return M.mfaInfo&&(me=_s._fromServerResponse(ur(v),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:me},operation:X}})).apply(this,arguments)}function Mc(T,g){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,f.Z)(function*(T,g){const{data:v}=yield ul((0,U.m9)(T),g);return v.email})).apply(this,arguments)}function Fd(T,g,v){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,f.Z)(function*(T,g,v){if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(Ge(T));const M=ur(T),rt=yield jo(M,{returnSecureToken:!0,email:g,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xa).catch(Jt=>{throw"auth/password-does-not-meet-requirements"===Jt.code&&fr(T),Jt}),Pt=yield Q._fromIdTokenResponse(M,"signIn",rt);return yield M._updateCurrentUser(Pt.user),Pt})).apply(this,arguments)}function hl(T,g,v){return(0,o._isFirebaseServerApp)(T.app)?Promise.reject(Ge(T)):Tc((0,U.m9)(T),ho.credential(g,v)).catch(function(){var M=(0,f.Z)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&fr(T),X});return function(X){return M.apply(this,arguments)}}())}function Oa(T,g,v){return tc.apply(this,arguments)}function tc(){return(tc=(0,f.Z)(function*(T,g,v){const M=ur(T),X={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};(function me(rt,Pt){Ee(Pt.handleCodeInApp,M,"argument-error"),Pt&&Ra(M,rt,Pt)})(X,v),yield jo(M,X,"getOobCode",oo)})).apply(this,arguments)}function Hl(T,g){const v=Br.parseLink(g);return"EMAIL_SIGNIN"===v?.operation}function ga(T,g,v){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,f.Z)(function*(T,g,v){if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(Ge(T));const M=(0,U.m9)(T),X=ho.credentialWithLink(g,v||Dn());return Ee(X._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),Tc(M,X)})).apply(this,arguments)}function bi(){return(bi=(0,f.Z)(function*(T,g){return vt(T,"POST","/v1/accounts:createAuthUri",ot(T,g))})).apply(this,arguments)}function x(T,g){return oe.apply(this,arguments)}function oe(){return oe=(0,f.Z)(function*(T,g){const M={identifier:g,continueUri:Tt()?Dn():"http://localhost"},{signinMethods:X}=yield function fl(T,g){return bi.apply(this,arguments)}((0,U.m9)(T),M);return X||[]}),oe.apply(this,arguments)}function j(T,g){return ne.apply(this,arguments)}function ne(){return ne=(0,f.Z)(function*(T,g){const v=(0,U.m9)(T),X={requestType:"VERIFY_EMAIL",idToken:yield T.getIdToken()};g&&Ra(v.auth,X,g);const{email:me}=yield function _n(T,g){return Xn.apply(this,arguments)}(v.auth,X);me!==T.email&&(yield T.reload())}),ne.apply(this,arguments)}function Ue(T,g,v){return Ot.apply(this,arguments)}function Ot(){return Ot=(0,f.Z)(function*(T,g,v){const M=(0,U.m9)(T),me={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield T.getIdToken(),newEmail:g};v&&Ra(M.auth,me,v);const{email:rt}=yield function Do(T,g){return si.apply(this,arguments)}(M.auth,me);rt!==T.email&&(yield T.reload())}),Ot.apply(this,arguments)}function Mn(){return(Mn=(0,f.Z)(function*(T,g){return vt(T,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Lr(T,g){return li.apply(this,arguments)}function li(){return li=(0,f.Z)(function*(T,{displayName:g,photoURL:v}){if(void 0===g&&void 0===v)return;const M=(0,U.m9)(T),me={idToken:yield M.getIdToken(),displayName:g,photoUrl:v,returnSecureToken:!0},rt=yield Or(M,function Ht(T,g){return Mn.apply(this,arguments)}(M.auth,me));M.displayName=rt.displayName||null,M.photoURL=rt.photoUrl||null;const Pt=M.providerData.find(({providerId:Jt})=>"password"===Jt);Pt&&(Pt.displayName=M.displayName,Pt.photoURL=M.photoURL),yield M._updateTokensIfNecessary(rt)}),li.apply(this,arguments)}function ti(T,g){const v=(0,U.m9)(T);return(0,o._isFirebaseServerApp)(v.auth.app)?Promise.reject(Ge(v.auth)):pi(v,g,null)}function Ir(T,g){return pi((0,U.m9)(T),null,g)}function pi(T,g,v){return Qr.apply(this,arguments)}function Qr(){return Qr=(0,f.Z)(function*(T,g,v){const{auth:M}=T,me={idToken:yield T.getIdToken(),returnSecureToken:!0};g&&(me.email=g),v&&(me.password=v);const rt=yield Or(T,function Wr(T,g){return oi.apply(this,arguments)}(M,me));yield T._updateTokensIfNecessary(rt,!0)}),Qr.apply(this,arguments)}class Mo{constructor(g,v,M={}){this.isNewUser=g,this.providerId=v,this.profile=M}}class Eo extends Mo{constructor(g,v,M,X){super(g,v,M),this.username=X}}class Ks extends Mo{constructor(g,v){super(g,"facebook.com",v)}}class Go extends Eo{constructor(g,v){super(g,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class Ci extends Mo{constructor(g,v){super(g,"google.com",v)}}class cr extends Eo{constructor(g,v,M){super(g,"twitter.com",v,M)}}function qo(T){const{user:g,_tokenResponse:v}=T;return g.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Wi(T){var g,v;if(!T)return null;const{providerId:M}=T,X=T.rawUserInfo?JSON.parse(T.rawUserInfo):{},me=T.isNewUser||"identitytoolkit#SignupNewUserResponse"===T.kind;if(!M&&T?.idToken){const rt=null===(v=null===(g=Ur(T.idToken))||void 0===g?void 0:g.firebase)||void 0===v?void 0:v.sign_in_provider;if(rt)return new Mo(me,"anonymous"!==rt&&"custom"!==rt?rt:null)}if(!M)return null;switch(M){case"facebook.com":return new Ks(me,X);case"github.com":return new Go(me,X);case"google.com":return new Ci(me,X);case"twitter.com":return new cr(me,X,T.screenName||null);case"custom":case"anonymous":return new Mo(me,null);default:return new Mo(me,M,X)}}(v)}class Xs{constructor(g,v,M){this.type=g,this.credential=v,this.user=M}static _fromIdtoken(g,v){return new Xs("enroll",g,v)}static _fromMfaPendingCredential(g){return new Xs("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var v,M;if(g?.multiFactorSession){if(null!==(v=g.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Xs._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(M=g.multiFactorSession)&&void 0!==M&&M.idToken)return Xs._fromIdtoken(g.multiFactorSession.idToken)}return null}}class xs{constructor(g,v,M){this.session=g,this.hints=v,this.signInResolver=M}static _fromError(g,v){const M=ur(g),X=v.customData._serverResponse,me=(X.mfaInfo||[]).map(Pt=>_s._fromServerResponse(M,Pt));Ee(X.mfaPendingCredential,M,"internal-error");const rt=Xs._fromMfaPendingCredential(X.mfaPendingCredential);return new xs(rt,me,function(){var Pt=(0,f.Z)(function*(Jt){const kn=yield Jt._process(M,rt);delete X.mfaInfo,delete X.mfaPendingCredential;const tr=Object.assign(Object.assign({},X),{idToken:kn.idToken,refreshToken:kn.refreshToken});switch(v.operationType){case"signIn":const vr=yield Q._fromIdTokenResponse(M,v.operationType,tr);return yield M._updateCurrentUser(vr.user),vr;case"reauthenticate":return Ee(v.user,M,"internal-error"),Q._forOperation(v.user,v.operationType,tr);default:Ne(M,"internal-error")}});return function(Jt){return Pt.apply(this,arguments)}}())}resolveSignIn(g){var v=this;return(0,f.Z)(function*(){return v.signInResolver(g)})()}}function Pu(T,g){var v;const M=(0,U.m9)(T),X=g;return Ee(g.customData.operationType,M,"argument-error"),Ee(null===(v=X.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,M,"argument-error"),xs._fromError(M,X)}class Oc{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(M=>_s._fromServerResponse(g.auth,M)))})}static _fromUser(g){return new Oc(g)}getSession(){var g=this;return(0,f.Z)(function*(){return Xs._fromIdtoken(yield g.user.getIdToken(),g.user)})()}enroll(g,v){var M=this;return(0,f.Z)(function*(){const X=g,me=yield M.getSession(),rt=yield Or(M.user,X._process(M.user.auth,me,v));return yield M.user._updateTokensIfNecessary(rt),M.user.reload()})()}unenroll(g){var v=this;return(0,f.Z)(function*(){const M="string"==typeof g?g:g.uid,X=yield v.user.getIdToken();try{const me=yield Or(v.user,function xu(T,g){return vt(T,"POST","/v2/accounts/mfaEnrollment:withdraw",ot(T,g))}(v.user.auth,{idToken:X,mfaEnrollmentId:M}));v.enrolledFactors=v.enrolledFactors.filter(({uid:rt})=>rt!==M),yield v.user._updateTokensIfNecessary(me),yield v.user.reload()}catch(me){throw me}})()}}const Na=new WeakMap;function Ud(T){const g=(0,U.m9)(T);return Na.has(g)||Na.set(g,Oc._fromUser(g)),Na.get(g)}const Ru="__sak";class Vi{constructor(g,v){this.storageRetriever=g,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Ru,"1"),this.storage.removeItem(Ru),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,v){return this.storage.setItem(g,JSON.stringify(v)),Promise.resolve()}_get(g){const v=this.storage.getItem(g);return Promise.resolve(v?JSON.parse(v):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Rs=(()=>{class T extends Vi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,M)=>this.onStorageEvent(v,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ka(){const T=(0,U.z$)();return He(T)||hr(T)}()&&function un(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ft(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const M of Object.keys(this.listeners)){const X=this.storage.getItem(M),me=this.localCache[M];X!==me&&v(M,me,X)}}onStorageEvent(v,M=!1){if(!v.key)return void this.forAllChangedKeys((Pt,Jt,kn)=>{this.notifyListeners(Pt,kn)});const X=v.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Pt=this.storage.getItem(X);if(v.newValue!==Pt)null!==v.newValue?this.storage.setItem(X,v.newValue):this.storage.removeItem(X);else if(this.localCache[X]===v.newValue&&!M)return}const me=()=>{const Pt=this.storage.getItem(X);!M&&this.localCache[X]===Pt||this.notifyListeners(X,Pt)},rt=this.storage.getItem(X);!function ft(){return(0,U.w1)()&&10===document.documentMode}()||rt===v.newValue||v.newValue===v.oldValue?me():setTimeout(me,10)}notifyListeners(v,M){this.localCache[v]=M;const X=this.listeners[v];if(X)for(const me of Array.from(X))me(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,M,X)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:M,newValue:X}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(M)}_removeListener(v,M){this.listeners[v]&&(this.listeners[v].delete(M),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,M){var X=()=>super._set,me=this;return(0,f.Z)(function*(){yield X().call(me,v,M),me.localCache[v]=JSON.stringify(M)})()}_get(v){var M=()=>super._get,X=this;return(0,f.Z)(function*(){const me=yield M().call(X,v);return X.localCache[v]=JSON.stringify(me),me})()}_remove(v){var M=()=>super._remove,X=this;return(0,f.Z)(function*(){yield M().call(X,v),delete X.localCache[v]})()}}return T.type="LOCAL",T})(),Gt=(()=>{class T extends Vi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,M){}_removeListener(v,M){}}return T.type="SESSION",T})();let Nu=(()=>{class T{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const M=this.receivers.find(me=>me.isListeningto(v));if(M)return M;const X=new T(v);return this.receivers.push(X),X}isListeningto(v){return this.eventTarget===v}handleEvent(v){var M=this;return(0,f.Z)(function*(){const X=v,{eventId:me,eventType:rt,data:Pt}=X.data,Jt=M.handlersMap[rt];if(!Jt?.size)return;X.ports[0].postMessage({status:"ack",eventId:me,eventType:rt});const kn=Array.from(Jt).map(function(){var vr=(0,f.Z)(function*(Vs){return Vs(X.origin,Pt)});return function(Vs){return vr.apply(this,arguments)}}()),tr=yield function Gr(T){return Promise.all(T.map(function(){var g=(0,f.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(M){return{fulfilled:!1,reason:M}}});return function(v){return g.apply(this,arguments)}}()))}(kn);X.ports[0].postMessage({status:"done",eventId:me,eventType:rt,response:tr})})()}_subscribe(v,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(M)}_unsubscribe(v,M){this.handlersMap[v]&&M&&this.handlersMap[v].delete(M),(!M||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return T.receivers=[],T})();function rc(T="",g=10){let v="";for(let M=0;M<g;M++)v+=Math.floor(10*Math.random());return T+v}class Ao{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,v,M=50){var X=this;return(0,f.Z)(function*(){const me=typeof MessageChannel<"u"?new MessageChannel:null;if(!me)throw new Error("connection_unavailable");let rt,Pt;return new Promise((Jt,kn)=>{const tr=rc("",20);me.port1.start();const vr=setTimeout(()=>{kn(new Error("unsupported_event"))},M);Pt={messageChannel:me,onMessage(Vs){const qc=Vs;if(qc.data.eventId===tr)switch(qc.data.status){case"ack":clearTimeout(vr),rt=setTimeout(()=>{kn(new Error("timeout"))},3e3);break;case"done":clearTimeout(rt),Jt(qc.data.response);break;default:clearTimeout(vr),clearTimeout(rt),kn(new Error("invalid_response"))}}},X.handlers.add(Pt),me.port1.addEventListener("message",Pt.onMessage),X.target.postMessage({eventType:g,eventId:tr,data:v},[me.port2])}).finally(()=>{Pt&&X.removeMessageHandler(Pt)})})()}}function Ki(){return window}function Vo(){return typeof Ki().WorkerGlobalScope<"u"&&"function"==typeof Ki().importScripts}function ic(){return(ic=(0,f.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ku="firebaseLocalStorageDb",Os="firebaseLocalStorage",Fu="fbase_key";class ma{constructor(g){this.request=g}toPromise(){return new Promise((g,v)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function S(T,g){return T.transaction([Os],g?"readwrite":"readonly").objectStore(Os)}function w(){const T=indexedDB.open(ku,1);return new Promise((g,v)=>{T.addEventListener("error",()=>{v(T.error)}),T.addEventListener("upgradeneeded",()=>{const M=T.result;try{M.createObjectStore(Os,{keyPath:Fu})}catch(X){v(X)}}),T.addEventListener("success",(0,f.Z)(function*(){const M=T.result;M.objectStoreNames.contains(Os)?g(M):(M.close(),yield function O(){const T=indexedDB.deleteDatabase(ku);return new ma(T).toPromise()}(),g(yield w()))}))})}function N(T,g,v){return W.apply(this,arguments)}function W(){return(W=(0,f.Z)(function*(T,g,v){const M=S(T,!0).put({[Fu]:g,value:v});return new ma(M).toPromise()})).apply(this,arguments)}function Ve(){return(Ve=(0,f.Z)(function*(T,g){const v=S(T,!1).get(g),M=yield new ma(v).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function Dt(T,g){const v=S(T,!0).delete(g);return new ma(v).toPromise()}const ui=(()=>{class T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,f.Z)(function*(){return v.db||(v.db=yield w()),v.db})()}_withRetries(v){var M=this;return(0,f.Z)(function*(){let X=0;for(;;)try{const me=yield M._openDb();return yield v(me)}catch(me){if(X++>3)throw me;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,f.Z)(function*(){return Vo()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,f.Z)(function*(){v.receiver=Nu._getInstance(function Hd(){return Vo()?self:null}()),v.receiver._subscribe("keyChanged",function(){var M=(0,f.Z)(function*(X,me){return{keyProcessed:(yield v._poll()).includes(me.key)}});return function(X,me){return M.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var M=(0,f.Z)(function*(X,me){return["keyChanged"]});return function(X,me){return M.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,f.Z)(function*(){var M,X;if(v.activeServiceWorker=yield function kc(){return ic.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Ao(v.activeServiceWorker);const me=yield v.sender._send("ping",{},800);me&&null!==(M=me[0])&&void 0!==M&&M.fulfilled&&null!==(X=me[0])&&void 0!==X&&X.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var M=this;return(0,f.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function jd(){var T;return(null===(T=navigator?.serviceWorker)||void 0===T?void 0:T.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:v},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const v=yield w();return yield N(v,Ru,"1"),yield Dt(v,Ru),!0}catch{}return!1})()}_withPendingWrite(v){var M=this;return(0,f.Z)(function*(){M.pendingWrites++;try{yield v()}finally{M.pendingWrites--}})()}_set(v,M){var X=this;return(0,f.Z)(function*(){return X._withPendingWrite((0,f.Z)(function*(){return yield X._withRetries(me=>N(me,v,M)),X.localCache[v]=M,X.notifyServiceWorker(v)}))})()}_get(v){var M=this;return(0,f.Z)(function*(){const X=yield M._withRetries(me=>function fe(T,g){return Ve.apply(this,arguments)}(me,v));return M.localCache[v]=X,X})()}_remove(v){var M=this;return(0,f.Z)(function*(){return M._withPendingWrite((0,f.Z)(function*(){return yield M._withRetries(X=>Dt(X,v)),delete M.localCache[v],M.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,f.Z)(function*(){const M=yield v._withRetries(rt=>{const Pt=S(rt,!1).getAll();return new ma(Pt).toPromise()});if(!M)return[];if(0!==v.pendingWrites)return[];const X=[],me=new Set;if(0!==M.length)for(const{fbase_key:rt,value:Pt}of M)me.add(rt),JSON.stringify(v.localCache[rt])!==JSON.stringify(Pt)&&(v.notifyListeners(rt,Pt),X.push(rt));for(const rt of Object.keys(v.localCache))v.localCache[rt]&&!me.has(rt)&&(v.notifyListeners(rt,null),X.push(rt));return X})()}notifyListeners(v,M){this.localCache[v]=M;const X=this.listeners[v];if(X)for(const me of Array.from(X))me(M)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(M)}_removeListener(v,M){this.listeners[v]&&(this.listeners[v].delete(M),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return T.type="LOCAL",T})(),ks=1e12;class oc{constructor(g){this.auth=g,this.counter=ks,this._widgets=new Map}render(g,v){const M=this.counter;return this._widgets.set(M,new Ko(g,this.auth.name,v||{})),this.counter++,M}reset(g){var v;const M=g||ks;null===(v=this._widgets.get(M))||void 0===v||v.delete(),this._widgets.delete(M)}getResponse(g){var v;return(null===(v=this._widgets.get(g||ks))||void 0===v?void 0:v.getResponse())||""}execute(g){var v=this;return(0,f.Z)(function*(){var M;return null===(M=v._widgets.get(g||ks))||void 0===M||M.execute(),""})()}}class Ko{constructor(g,v,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const X="string"==typeof g?document.getElementById(g):g;Ee(X,"argument-error",{appName:v}),this.container=X,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Fs(T){const g=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<T;M++)g.push(v.charAt(Math.floor(62*Math.random())));return g.join("")}(50);const{callback:g,"expired-callback":v}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Fi=Qo("rcb"),Wh=new we(3e4,6e4);class zd{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Ki().grecaptcha)||void 0===g||!g.render)}load(g,v=""){return Ee(function zl(T){return T.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(T)}(v),g,"argument-error"),this.shouldResolveImmediately(v)&&pr(Ki().grecaptcha)?Promise.resolve(Ki().grecaptcha):new Promise((M,X)=>{const me=Ki().setTimeout(()=>{X(tt(g,"network-request-failed"))},Wh.get());Ki()[Fi]=()=>{Ki().clearTimeout(me),delete Ki()[Fi];const Pt=Ki().grecaptcha;if(!Pt||!pr(Pt))return void X(tt(g,"internal-error"));const Jt=Pt.render;Pt.render=(kn,tr)=>{const vr=Jt(kn,tr);return this.counter++,vr},this.hostLanguage=v,M(Pt)},zr(`${function ts(){return gi.recaptchaV2Script}()}?${(0,U.xO)({onload:Fi,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(me),X(tt(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var v;return!(null===(v=Ki().grecaptcha)||void 0===v||!v.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ea{load(g){return(0,f.Z)(function*(){return new oc(g)})()}clearedOneInstance(){}}const ta="recaptcha",Kh={theme:"light",type:"image"};class Lu{constructor(g,v,M=Object.assign({},Kh)){this.parameters=M,this.type=ta,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ur(g),this.isInvisible="invisible"===this.parameters.size,Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const X="string"==typeof v?document.getElementById(v):v;Ee(X,this.auth,"argument-error"),this.container=X,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ea:new zd,this.validateStartingState()}verify(){var g=this;return(0,f.Z)(function*(){g.assertNotDestroyed();const v=yield g.render(),M=g.getAssertedRecaptcha();return M.getResponse(v)||new Promise(me=>{const rt=Pt=>{Pt&&(g.tokenChangeListeners.delete(rt),me(Pt))};g.tokenChangeListeners.add(rt),g.isInvisible&&M.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Ee(!this.parameters.sitekey,this.auth,"argument-error"),Ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return v=>{if(this.tokenChangeListeners.forEach(M=>M(v)),"function"==typeof g)g(v);else if("string"==typeof g){const M=Ki()[g];"function"==typeof M&&M(v)}}}assertNotDestroyed(){Ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,f.Z)(function*(){if(yield g.init(),!g.widgetId){let v=g.container;if(!g.isInvisible){const M=document.createElement("div");v.appendChild(M),v=M}g.widgetId=g.getAssertedRecaptcha().render(v,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,f.Z)(function*(){Ee(Tt()&&!Vo(),g.auth,"internal-error"),yield function na(){let T=null;return new Promise(g=>{"complete"!==document.readyState?(T=()=>g(),window.addEventListener("load",T)):g()}).catch(g=>{throw T&&window.removeEventListener("load",T),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const v=yield function Hr(T){return xn.apply(this,arguments)}(g.auth);Ee(v,g.auth,"internal-error"),g.parameters.sitekey=v})()}getAssertedRecaptcha(){return Ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Vu{constructor(g,v){this.verificationId=g,this.onConfirmation=v}confirm(g){const v=Zr._fromVerification(this.verificationId,g);return this.onConfirmation(v)}}function Uu(T,g,v){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,f.Z)(function*(T,g,v){if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(Ge(T));const M=ur(T),X=yield ju(M,g,(0,U.m9)(v));return new Vu(X,me=>Tc(M,me))})).apply(this,arguments)}function La(T,g,v){return ra.apply(this,arguments)}function ra(){return(ra=(0,f.Z)(function*(T,g,v){const M=(0,U.m9)(T);yield bc(!1,M,"phone");const X=yield ju(M.auth,g,(0,U.m9)(v));return new Vu(X,me=>is(M,me))})).apply(this,arguments)}function $d(T,g,v){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,f.Z)(function*(T,g,v){const M=(0,U.m9)(T);if((0,o._isFirebaseServerApp)(M.auth.app))return Promise.reject(Ge(M.auth));const X=yield ju(M.auth,g,(0,U.m9)(v));return new Vu(X,me=>Su(M,me))})).apply(this,arguments)}function ju(T,g,v){return Fc.apply(this,arguments)}function Fc(){return Fc=(0,f.Z)(function*(T,g,v){var M;const X=yield v.verify();try{let me;if(Ee("string"==typeof X,T,"argument-error"),Ee(v.type===ta,T,"argument-error"),me="string"==typeof g?{phoneNumber:g}:g,"session"in me){const rt=me.session;if("phoneNumber"in me)return Ee("enroll"===rt.type,T,"internal-error"),(yield function Vd(T,g){return vt(T,"POST","/v2/accounts/mfaEnrollment:start",ot(T,g))}(T,{idToken:rt.credential,phoneEnrollmentInfo:{phoneNumber:me.phoneNumber,recaptchaToken:X}})).phoneSessionInfo.sessionInfo;{Ee("signin"===rt.type,T,"internal-error");const Pt=(null===(M=me.multiFactorHint)||void 0===M?void 0:M.uid)||me.multiFactorUid;return Ee(Pt,T,"missing-multi-factor-info"),(yield function br(T,g){return vt(T,"POST","/v2/accounts/mfaSignIn:start",ot(T,g))}(T,{mfaPendingCredential:rt.credential,mfaEnrollmentId:Pt,phoneSignInInfo:{recaptchaToken:X}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:rt}=yield function ht(T,g){return Lt.apply(this,arguments)}(T,{phoneNumber:me.phoneNumber,recaptchaToken:X});return rt}}finally{v._reset()}}),Fc.apply(this,arguments)}function pl(T,g){return $l.apply(this,arguments)}function $l(){return($l=(0,f.Z)(function*(T,g){const v=(0,U.m9)(T);if((0,o._isFirebaseServerApp)(v.auth.app))return Promise.reject(Ge(v.auth));yield Sa(v,g)})).apply(this,arguments)}let Pg=(()=>{class T{constructor(v){this.providerId=T.PROVIDER_ID,this.auth=ur(v)}verifyPhoneNumber(v,M){return ju(this.auth,v,(0,U.m9)(M))}static credential(v,M){return Zr._fromVerification(v,M)}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:M,temporaryProof:X}=v;return M&&X?Zr._fromTokenResponse(M,X):null}}return T.PROVIDER_ID="phone",T.PHONE_SIGN_IN_METHOD="phone",T})();function va(T,g){return g?kt(g):(Ee(T._popupRedirectResolver,T,"argument-error"),T._popupRedirectResolver)}class Zd extends no{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return re(g,this._buildIdpRequest())}_linkToIdToken(g,v){return re(g,this._buildIdpRequest(v))}_getReauthenticationResolver(g){return re(g,this._buildIdpRequest())}_buildIdpRequest(g){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(v.idToken=g),v}}function fp(T){return Pa(T.auth,new Zd(T),T.bypassAuthState)}function Gd(T){const{auth:g,user:v}=T;return Ee(v,g,"internal-error"),Ma(v,new Zd(T),T.bypassAuthState)}function xg(T){return qd.apply(this,arguments)}function qd(){return(qd=(0,f.Z)(function*(T){const{auth:g,user:v}=T;return Ee(v,g,"internal-error"),Sa(v,new Zd(T),T.bypassAuthState)})).apply(this,arguments)}class gl{constructor(g,v,M,X,me=!1){this.auth=g,this.resolver=M,this.user=X,this.bypassAuthState=me,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var g=this;return new Promise(function(){var v=(0,f.Z)(function*(M,X){g.pendingPromise={resolve:M,reject:X};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(me){g.reject(me)}});return function(M,X){return v.apply(this,arguments)}}())}onAuthEvent(g){var v=this;return(0,f.Z)(function*(){const{urlResponse:M,sessionId:X,postBody:me,tenantId:rt,error:Pt,type:Jt}=g;if(Pt)return void v.reject(Pt);const kn={auth:v.auth,requestUri:M,sessionId:X,tenantId:rt||void 0,postBody:me||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Jt)(kn))}catch(tr){v.reject(tr)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return fp;case"linkViaPopup":case"linkViaRedirect":return xg;case"reauthViaPopup":case"reauthViaRedirect":return Gd;default:Ne(this.auth,"internal-error")}}resolve(g){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Hu=new we(2e3,1e4);function pp(T,g,v){return ia.apply(this,arguments)}function ia(){return(ia=(0,f.Z)(function*(T,g,v){if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(tt(T,"operation-not-supported-in-this-environment"));const M=ur(T);dt(T,g,yr);const X=va(M,v);return new Bo(M,"signInViaPopup",g,X).executeNotNull()})).apply(this,arguments)}function ml(T,g,v){return oa.apply(this,arguments)}function oa(){return(oa=(0,f.Z)(function*(T,g,v){const M=(0,U.m9)(T);if((0,o._isFirebaseServerApp)(M.auth.app))return Promise.reject(tt(M.auth,"operation-not-supported-in-this-environment"));dt(M.auth,g,yr);const X=va(M.auth,v);return new Bo(M.auth,"reauthViaPopup",g,X,M).executeNotNull()})).apply(this,arguments)}function Rg(T,g,v){return zu.apply(this,arguments)}function zu(){return(zu=(0,f.Z)(function*(T,g,v){const M=(0,U.m9)(T);dt(M.auth,g,yr);const X=va(M.auth,v);return new Bo(M.auth,"linkViaPopup",g,X,M).executeNotNull()})).apply(this,arguments)}let Bo=(()=>{class T extends gl{constructor(v,M,X,me,rt){super(v,M,me,rt),this.provider=X,this.authWindow=null,this.pollId=null,T.currentPopupAction&&T.currentPopupAction.cancel(),T.currentPopupAction=this}executeNotNull(){var v=this;return(0,f.Z)(function*(){const M=yield v.execute();return Ee(M,v.auth,"internal-error"),M})()}onExecution(){var v=this;return(0,f.Z)(function*(){Vt(1===v.filter.length,"Popup operations only handle one event");const M=rc();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],M),v.authWindow.associatedEvent=M,v.resolver._originValidation(v.auth).catch(X=>{v.reject(X)}),v.resolver._isIframeWebStorageSupported(v.auth,X=>{X||v.reject(tt(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(tt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,T.currentPopupAction=null}pollUserCancellation(){const v=()=>{var M,X;this.pollId=null!==(X=null===(M=this.authWindow)||void 0===M?void 0:M.window)&&void 0!==X&&X.closed?window.setTimeout(()=>{this.pollId=null,this.reject(tt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,Hu.get())};v()}}return T.currentPopupAction=null,T})();const gp="pendingRedirect",Qi=new Map;class Zl extends gl{constructor(g,v,M=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,M),this.eventId=null}execute(){var g=()=>super.execute,v=this;return(0,f.Z)(function*(){let M=Qi.get(v.auth._key());if(!M){try{const me=(yield function $u(T,g){return sa.apply(this,arguments)}(v.resolver,v.auth))?yield g().call(v):null;M=()=>Promise.resolve(me)}catch(X){M=()=>Promise.reject(X)}Qi.set(v.auth._key(),M)}return v.bypassAuthState||Qi.set(v.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(g){var v=()=>super.onAuthEvent,M=this;return(0,f.Z)(function*(){if("signInViaRedirect"===g.type)return v().call(M,g);if("unknown"!==g.type){if(g.eventId){const X=yield M.auth._redirectUserForId(g.eventId);if(X)return M.user=X,v().call(M,g);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function sa(){return(sa=(0,f.Z)(function*(T,g){const v=yl(g),M=Ls(T);if(!(yield M._isAvailable()))return!1;const X="true"===(yield M._get(v));return yield M._remove(v),X})).apply(this,arguments)}function Va(T,g){return _l.apply(this,arguments)}function _l(){return(_l=(0,f.Z)(function*(T,g){return Ls(T)._set(yl(g),"true")})).apply(this,arguments)}function jr(){Qi.clear()}function vl(T,g){Qi.set(T._key(),g)}function Ls(T){return kt(T._redirectPersistence)}function yl(T){return an(gp,T.config.apiKey,T.name)}function ya(T,g,v){return function Zu(T,g,v){return Wd.apply(this,arguments)}(T,g,v)}function Wd(){return(Wd=(0,f.Z)(function*(T,g,v){if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(Ge(T));const M=ur(T);dt(T,g,yr),yield M._initializationPromise;const X=va(M,v);return yield Va(X,M),X._openRedirect(M,g,"signInViaRedirect")})).apply(this,arguments)}function Gl(T,g,v){return function Lc(T,g,v){return Gu.apply(this,arguments)}(T,g,v)}function Gu(){return(Gu=(0,f.Z)(function*(T,g,v){const M=(0,U.m9)(T);if(dt(M.auth,g,yr),(0,o._isFirebaseServerApp)(M.auth.app))return Promise.reject(Ge(M.auth));yield M.auth._initializationPromise;const X=va(M.auth,v);yield Va(X,M.auth);const me=yield Ea(M);return X._openRedirect(M.auth,g,"reauthViaRedirect",me)})).apply(this,arguments)}function Qh(T,g,v){return function ql(T,g,v){return sc.apply(this,arguments)}(T,g,v)}function sc(){return(sc=(0,f.Z)(function*(T,g,v){const M=(0,U.m9)(T);dt(M.auth,g,yr),yield M.auth._initializationPromise;const X=va(M.auth,v);yield bc(!1,M,g.providerId),yield Va(X,M.auth);const me=yield Ea(M);return X._openRedirect(M.auth,g,"linkViaRedirect",me)})).apply(this,arguments)}function mp(T,g){return Po.apply(this,arguments)}function Po(){return(Po=(0,f.Z)(function*(T,g){return yield ur(T)._initializationPromise,Kd(T,g,!1)})).apply(this,arguments)}function Kd(T,g){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,f.Z)(function*(T,g,v=!1){if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(Ge(T));const M=ur(T),X=va(M,g),rt=yield new Zl(M,X,v).execute();return rt&&!v&&(delete rt.user._redirectEventId,yield M._persistUserIfCurrent(rt.user),yield M._setRedirectUser(null,g)),rt})).apply(this,arguments)}function Ea(T){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,f.Z)(function*(T){const g=rc(`${T.uid}:::`);return T._redirectEventId=g,yield T.auth._setRedirectUser(T),yield T.auth._persistUserIfCurrent(T),g})).apply(this,arguments)}class ac{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let v=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(g,M)&&(v=!0,this.sendToConsumer(g,M),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function El(T){switch(T.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ua(T);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=g,v=!0)),v}sendToConsumer(g,v){var M;if(g.error&&!Ua(g)){const X=(null===(M=g.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";v.onError(tt(this.auth,X))}else v.onAuthEvent(g)}isEventForConsumer(g,v){const M=null===v.eventId||!!g.eventId&&g.eventId===v.eventId;return v.filter.includes(g.type)&&M}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(en(g))}saveEventToCache(g){this.cachedEventUids.add(en(g)),this.lastProcessedEventTime=Date.now()}}function en(T){return[T.type,T.eventId,T.sessionId,T.tenantId].filter(g=>g).join("-")}function Ua({type:T,error:g}){return"unknown"===T&&"auth/no-auth-event"===g?.code}function Yd(T){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,f.Z)(function*(T,g={}){return vt(T,"GET","/v1/projects",g)})).apply(this,arguments)}const Yi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Og=/^https?/;function Yh(){return(Yh=(0,f.Z)(function*(T){if(T.config.emulator)return;const{authorizedDomains:g}=yield Yd(T);for(const v of g)try{if(Ng(v))return}catch{}Ne(T,"unauthorized-domain")})).apply(this,arguments)}function Ng(T){const g=Dn(),{protocol:v,hostname:M}=new URL(g);if(T.startsWith("chrome-extension://")){const rt=new URL(T);return""===rt.hostname&&""===M?"chrome-extension:"===v&&T.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===v&&rt.hostname===M}if(!Og.test(v))return!1;if(Yi.test(T))return M===T;const X=T.replace(/\./g,"\\.");return new RegExp("^(.+\\."+X+"|"+X+")$","i").test(M)}const Jh=new we(3e4,6e4);function vp(){const T=Ki().___jsl;if(T?.H)for(const g of Object.keys(T.H))if(T.H[g].r=T.H[g].r||[],T.H[g].L=T.H[g].L||[],T.H[g].r=[...T.H[g].L],T.CP)for(let v=0;v<T.CP.length;v++)T.CP[v]=null}let Al=null;const Xh=new we(5e3,15e3),Xd="__/auth/iframe",po="emulator/auth/iframe",cc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eh(T){const g=T.config;Ee(g.authDomain,T,"auth-domain-config-required");const v=g.emulator?te(g,po):`https://${T.config.authDomain}/${Xd}`,M={apiKey:g.apiKey,appName:T.name,v:o.SDK_VERSION},X=lc.get(T.config.apiHost);X&&(M.eid=X);const me=T._getFrameworks();return me.length&&(M.fw=me.join(",")),`${v}?${(0,U.xO)(M).slice(1)}`}function uc(){return uc=(0,f.Z)(function*(T){const g=yield function Il(T){return Al=Al||function Jd(T){return new Promise((g,v)=>{var M,X,me;function rt(){vp(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{vp(),v(tt(T,"network-request-failed"))},timeout:Jh.get()})}if(null!==(X=null===(M=Ki().gapi)||void 0===M?void 0:M.iframes)&&void 0!==X&&X.Iframe)g(gapi.iframes.getContext());else{if(null===(me=Ki().gapi)||void 0===me||!me.load){const Pt=Qo("iframefcb");return Ki()[Pt]=()=>{gapi.load?rt():v(tt(T,"network-request-failed"))},zr(`${function ji(){return gi.gapiScript}()}?onload=${Pt}`).catch(Jt=>v(Jt))}rt()}}).catch(g=>{throw Al=null,g})}(T),Al}(T),v=Ki().gapi;return Ee(v,T,"internal-error"),g.open({where:document.body,url:eh(T),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cc,dontclear:!0},M=>new Promise(function(){var X=(0,f.Z)(function*(me,rt){yield M.restyle({setHideOnLeave:!1});const Pt=tt(T,"network-request-failed"),Jt=Ki().setTimeout(()=>{rt(Pt)},Xh.get());function kn(){Ki().clearTimeout(Jt),me(M)}M.ping(kn).then(kn,()=>{rt(Pt)})});return function(me,rt){return X.apply(this,arguments)}}()))}),uc.apply(this,arguments)}const th={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class nh{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const qu="__/auth/handler",Hc="emulator/auth/handler",Ql=encodeURIComponent("fac");function Aa(T,g,v,M,X,me){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,f.Z)(function*(T,g,v,M,X,me){Ee(T.config.authDomain,T,"auth-domain-config-required"),Ee(T.config.apiKey,T,"invalid-api-key");const rt={apiKey:T.config.apiKey,appName:T.name,authType:v,redirectUrl:M,v:o.SDK_VERSION,eventId:X};if(g instanceof yr){g.setDefaultLanguage(T.languageCode),rt.providerId=g.providerId||"",(0,U.xb)(g.getCustomParameters())||(rt.customParameters=JSON.stringify(g.getCustomParameters()));for(const[tr,vr]of Object.entries(me||{}))rt[tr]=vr}if(g instanceof Ri){const tr=g.getScopes().filter(vr=>""!==vr);tr.length>0&&(rt.scopes=tr.join(","))}T.tenantId&&(rt.tid=T.tenantId);const Pt=rt;for(const tr of Object.keys(Pt))void 0===Pt[tr]&&delete Pt[tr];const Jt=yield T._getAppCheckToken(),kn=Jt?`#${Ql}=${encodeURIComponent(Jt)}`:"";return`${function Wu({config:T}){return T.emulator?te(T,Hc):`https://${T.authDomain}/${qu}`}(T)}?${(0,U.xO)(Pt).slice(1)}${kn}`})).apply(this,arguments)}const Ku="webStorageSupport",rh=class tf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gt,this._completeRedirectFn=Kd,this._overrideRedirectResult=vl}_openPopup(g,v,M,X){var me=this;return(0,f.Z)(function*(){var rt;Vt(null===(rt=me.eventManagers[g._key()])||void 0===rt?void 0:rt.manager,"_initialize() not called before _openPopup()");const Pt=yield Aa(g,v,M,Dn(),X);return function yp(T,g,v,M=500,X=600){const me=Math.max((window.screen.availHeight-X)/2,0).toString(),rt=Math.max((window.screen.availWidth-M)/2,0).toString();let Pt="";const Jt=Object.assign(Object.assign({},th),{width:M.toString(),height:X.toString(),top:me,left:rt}),kn=(0,U.z$)().toLowerCase();v&&(Pt=nt(kn)?"_blank":v),Je(kn)&&(g=g||"http://localhost",Jt.scrollbars="yes");const tr=Object.entries(Jt).reduce((Vs,[qc,Wc])=>`${Vs}${qc}=${Wc},`,"");if(function yt(T=(0,U.z$)()){var g;return hr(T)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(kn)&&"_self"!==Pt)return function vs(T,g){const v=document.createElement("a");v.href=T,v.target=g;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(M)}(g||"",Pt),new nh(null);const vr=window.open(g||"",Pt,tr);Ee(vr,T,"popup-blocked");try{vr.focus()}catch{}return new nh(vr)}(g,Pt,rc())})()}_openRedirect(g,v,M,X){var me=this;return(0,f.Z)(function*(){return yield me._originValidation(g),function Nc(T){Ki().location.href=T}(yield Aa(g,v,M,Dn(),X)),new Promise(()=>{})})()}_initialize(g){const v=g._key();if(this.eventManagers[v]){const{manager:X,promise:me}=this.eventManagers[v];return X?Promise.resolve(X):(Vt(me,"If manager is not set, promise should be"),me)}const M=this.initAndGetManager(g);return this.eventManagers[v]={promise:M},M.catch(()=>{delete this.eventManagers[v]}),M}initAndGetManager(g){var v=this;return(0,f.Z)(function*(){const M=yield function ss(T){return uc.apply(this,arguments)}(g),X=new ac(g);return M.register("authEvent",me=>(Ee(me?.authEvent,g,"invalid-auth-event"),{status:X.onEvent(me.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[g._key()]={manager:X},v.iframes[g._key()]=M,X})()}_isIframeWebStorageSupported(g,v){this.iframes[g._key()].send(Ku,{type:Ku},X=>{var me;const rt=null===(me=X?.[0])||void 0===me?void 0:me[Ku];void 0!==rt&&v(!!rt),Ne(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const v=g._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function _p(T){return Yh.apply(this,arguments)}(g)),this.originValidationPromises[v]}get _shouldInitProactively(){return Ft()||He()||hr()}};class Ep{constructor(g){this.factorId=g}_process(g,v,M){switch(v.type){case"enroll":return this._finalizeEnroll(g,v.credential,M);case"signin":return this._finalizeSignIn(g,v.credential);default:return Nt("unexpected MultiFactorSessionType")}}}class zc extends Ep{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new zc(g)}_finalizeEnroll(g,v,M){return function Gh(T,g){return vt(T,"POST","/v2/accounts/mfaEnrollment:finalize",ot(T,g))}(g,{idToken:v,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,v){return function Uo(T,g){return vt(T,"POST","/v2/accounts/mfaSignIn:finalize",ot(T,g))}(g,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let bl=(()=>{class T{constructor(){}static assertion(v){return zc._fromCredential(v)}}return T.FACTOR_ID="phone",T})();var Jl="@firebase/auth";class Cl{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var v=this;return(0,f.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const v=this.auth.onIdTokenChanged(M=>{g(M?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,v),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const v=this.internalListeners.get(g);v&&(this.internalListeners.delete(g),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,U.Pz)("authIdTokenMaxAge"),function lo(T){gi=T}({loadJS:T=>new Promise((g,v)=>{const M=document.createElement("script");M.setAttribute("src",T),M.onload=g,M.onerror=X=>{const me=tt("internal-error");me.customData=X,v(me)},M.type="text/javascript",M.charset="UTF-8",function sf(){var T,g;return null!==(g=null===(T=document.getElementsByTagName("head"))||void 0===T?void 0:T[0])&&void 0!==g?g:document}().appendChild(M)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Qu(T){(0,o._registerComponent)(new Ae.wA("auth",(g,{options:v})=>{const M=g.getProvider("app").getImmediate(),X=g.getProvider("heartbeat"),me=g.getProvider("app-check-internal"),{apiKey:rt,authDomain:Pt}=M.options;Ee(rt&&!rt.includes(":"),"invalid-api-key",{appName:M.name});const Jt={apiKey:rt,authDomain:Pt,clientPlatform:T,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ln(T)},kn=new ei(M,X,me,Jt);return function $s(T,g){const v=g?.persistence||[],M=(Array.isArray(v)?v:[v]).map(kt);g?.errorMap&&T._updateErrorMap(g.errorMap),T._initializeWithPersistence(M,g?.popupRedirectResolver)}(kn,v),kn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,v,M)=>{g.getProvider("auth-internal").initialize()})),(0,o._registerComponent)(new Ae.wA("auth-internal",g=>{const v=ur(g.getProvider("auth").getImmediate());return new Cl(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,o.registerVersion)(Jl,"1.7.4",function Tl(T){switch(T){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(T)),(0,o.registerVersion)(Jl,"1.7.4","esm2017")}("Browser")},5588:(sn,lt,k)=>{"use strict";k.d(lt,{u7:()=>A_,Jj:()=>Ol,IX:()=>du,my:()=>Io,xU:()=>Cd,Lz:()=>ol,WA:()=>te,F8:()=>Bf,$q:()=>ng,W:()=>vu,EK:()=>Yn,PU:()=>wd,l7:()=>qn,Ky:()=>Yt,Xb:()=>rr,Cf:()=>Sr,K9:()=>ut,Me:()=>Ts,yq:()=>Vt,Wi:()=>om,ET:()=>w_,Ab:()=>Dd,vr:()=>qf,Fc:()=>Vf,hJ:()=>bh,B$:()=>Of,at:()=>Rf,oe:()=>sl,AK:()=>rg,TF:()=>lm,JU:()=>sm,ST:()=>Lf,fH:()=>ba,Ix:()=>g_,Wu:()=>gv,Lx:()=>v_,qY:()=>Ui,GL:()=>Co,QT:()=>T_,kl:()=>Em,Xk:()=>yu,PL:()=>Am,UQ:()=>_v,zN:()=>by,ad:()=>Ch,nP:()=>Tm,b9:()=>pv,vh:()=>zf,Pb:()=>um,L$:()=>Uf,cf:()=>yv,sc:()=>Cy,Xo:()=>mm,IO:()=>fv,iE:()=>kf,Eo:()=>Nf,i3:()=>Gf,Bt:()=>ig,pl:()=>vv,Ub:()=>bt,qK:()=>_c,TQ:()=>$f,e0:()=>Rh,r7:()=>Im,Mx:()=>p_,ar:()=>xh});var ae,ve,f=k(5861),o=k(534),U=k(4537),Se=k(7879),_e=k(9058),Ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},de={};(function(){var c;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(pt,Qe,st){st||(st=0);var gt=Array(16);if("string"==typeof Qe)for(var At=0;16>At;++At)gt[At]=Qe.charCodeAt(st++)|Qe.charCodeAt(st++)<<8|Qe.charCodeAt(st++)<<16|Qe.charCodeAt(st++)<<24;else for(At=0;16>At;++At)gt[At]=Qe[st++]|Qe[st++]<<8|Qe[st++]<<16|Qe[st++]<<24;var Rt=pt.g[3],it=(Qe=pt.g[0])+(Rt^(st=pt.g[1])&((At=pt.g[2])^Rt))+gt[0]+3614090360&4294967295;it=(st=(At=(Rt=(Qe=(st=(At=(Rt=(Qe=(st=(At=(Rt=(Qe=(st=(At=(Rt=(Qe=(st=(At=(Rt=(Qe=(st=(At=(Rt=(Qe=(st=(At=(Rt=(Qe=(st=(At=(Rt=(Qe=(st=(At=(Rt=(Qe=(st=(At=(Rt=(Qe=(st=(At=(Rt=(Qe=(st=(At=(Rt=(Qe=(st=(At=(Rt=(Qe=(st=(At=(Rt=(Qe=(st=(At=(Rt=(Qe=st+(it<<7&4294967295|it>>>25))+((it=Rt+(At^Qe&(st^At))+gt[1]+3905402710&4294967295)<<12&4294967295|it>>>20))+((it=At+(st^Rt&(Qe^st))+gt[2]+606105819&4294967295)<<17&4294967295|it>>>15))+((it=st+(Qe^At&(Rt^Qe))+gt[3]+3250441966&4294967295)<<22&4294967295|it>>>10))+((it=Qe+(Rt^st&(At^Rt))+gt[4]+4118548399&4294967295)<<7&4294967295|it>>>25))+((it=Rt+(At^Qe&(st^At))+gt[5]+1200080426&4294967295)<<12&4294967295|it>>>20))+((it=At+(st^Rt&(Qe^st))+gt[6]+2821735955&4294967295)<<17&4294967295|it>>>15))+((it=st+(Qe^At&(Rt^Qe))+gt[7]+4249261313&4294967295)<<22&4294967295|it>>>10))+((it=Qe+(Rt^st&(At^Rt))+gt[8]+1770035416&4294967295)<<7&4294967295|it>>>25))+((it=Rt+(At^Qe&(st^At))+gt[9]+2336552879&4294967295)<<12&4294967295|it>>>20))+((it=At+(st^Rt&(Qe^st))+gt[10]+4294925233&4294967295)<<17&4294967295|it>>>15))+((it=st+(Qe^At&(Rt^Qe))+gt[11]+2304563134&4294967295)<<22&4294967295|it>>>10))+((it=Qe+(Rt^st&(At^Rt))+gt[12]+1804603682&4294967295)<<7&4294967295|it>>>25))+((it=Rt+(At^Qe&(st^At))+gt[13]+4254626195&4294967295)<<12&4294967295|it>>>20))+((it=At+(st^Rt&(Qe^st))+gt[14]+2792965006&4294967295)<<17&4294967295|it>>>15))+((it=st+(Qe^At&(Rt^Qe))+gt[15]+1236535329&4294967295)<<22&4294967295|it>>>10))+((it=Qe+(At^Rt&(st^At))+gt[1]+4129170786&4294967295)<<5&4294967295|it>>>27))+((it=Rt+(st^At&(Qe^st))+gt[6]+3225465664&4294967295)<<9&4294967295|it>>>23))+((it=At+(Qe^st&(Rt^Qe))+gt[11]+643717713&4294967295)<<14&4294967295|it>>>18))+((it=st+(Rt^Qe&(At^Rt))+gt[0]+3921069994&4294967295)<<20&4294967295|it>>>12))+((it=Qe+(At^Rt&(st^At))+gt[5]+3593408605&4294967295)<<5&4294967295|it>>>27))+((it=Rt+(st^At&(Qe^st))+gt[10]+38016083&4294967295)<<9&4294967295|it>>>23))+((it=At+(Qe^st&(Rt^Qe))+gt[15]+3634488961&4294967295)<<14&4294967295|it>>>18))+((it=st+(Rt^Qe&(At^Rt))+gt[4]+3889429448&4294967295)<<20&4294967295|it>>>12))+((it=Qe+(At^Rt&(st^At))+gt[9]+568446438&4294967295)<<5&4294967295|it>>>27))+((it=Rt+(st^At&(Qe^st))+gt[14]+3275163606&4294967295)<<9&4294967295|it>>>23))+((it=At+(Qe^st&(Rt^Qe))+gt[3]+4107603335&4294967295)<<14&4294967295|it>>>18))+((it=st+(Rt^Qe&(At^Rt))+gt[8]+1163531501&4294967295)<<20&4294967295|it>>>12))+((it=Qe+(At^Rt&(st^At))+gt[13]+2850285829&4294967295)<<5&4294967295|it>>>27))+((it=Rt+(st^At&(Qe^st))+gt[2]+4243563512&4294967295)<<9&4294967295|it>>>23))+((it=At+(Qe^st&(Rt^Qe))+gt[7]+1735328473&4294967295)<<14&4294967295|it>>>18))+((it=st+(Rt^Qe&(At^Rt))+gt[12]+2368359562&4294967295)<<20&4294967295|it>>>12))+((it=Qe+(st^At^Rt)+gt[5]+4294588738&4294967295)<<4&4294967295|it>>>28))+((it=Rt+(Qe^st^At)+gt[8]+2272392833&4294967295)<<11&4294967295|it>>>21))+((it=At+(Rt^Qe^st)+gt[11]+1839030562&4294967295)<<16&4294967295|it>>>16))+((it=st+(At^Rt^Qe)+gt[14]+4259657740&4294967295)<<23&4294967295|it>>>9))+((it=Qe+(st^At^Rt)+gt[1]+2763975236&4294967295)<<4&4294967295|it>>>28))+((it=Rt+(Qe^st^At)+gt[4]+1272893353&4294967295)<<11&4294967295|it>>>21))+((it=At+(Rt^Qe^st)+gt[7]+4139469664&4294967295)<<16&4294967295|it>>>16))+((it=st+(At^Rt^Qe)+gt[10]+3200236656&4294967295)<<23&4294967295|it>>>9))+((it=Qe+(st^At^Rt)+gt[13]+681279174&4294967295)<<4&4294967295|it>>>28))+((it=Rt+(Qe^st^At)+gt[0]+3936430074&4294967295)<<11&4294967295|it>>>21))+((it=At+(Rt^Qe^st)+gt[3]+3572445317&4294967295)<<16&4294967295|it>>>16))+((it=st+(At^Rt^Qe)+gt[6]+76029189&4294967295)<<23&4294967295|it>>>9))+((it=Qe+(st^At^Rt)+gt[9]+3654602809&4294967295)<<4&4294967295|it>>>28))+((it=Rt+(Qe^st^At)+gt[12]+3873151461&4294967295)<<11&4294967295|it>>>21))+((it=At+(Rt^Qe^st)+gt[15]+530742520&4294967295)<<16&4294967295|it>>>16))+((it=st+(At^Rt^Qe)+gt[2]+3299628645&4294967295)<<23&4294967295|it>>>9))+((it=Qe+(At^(st|~Rt))+gt[0]+4096336452&4294967295)<<6&4294967295|it>>>26))+((it=Rt+(st^(Qe|~At))+gt[7]+1126891415&4294967295)<<10&4294967295|it>>>22))+((it=At+(Qe^(Rt|~st))+gt[14]+2878612391&4294967295)<<15&4294967295|it>>>17))+((it=st+(Rt^(At|~Qe))+gt[5]+4237533241&4294967295)<<21&4294967295|it>>>11))+((it=Qe+(At^(st|~Rt))+gt[12]+1700485571&4294967295)<<6&4294967295|it>>>26))+((it=Rt+(st^(Qe|~At))+gt[3]+2399980690&4294967295)<<10&4294967295|it>>>22))+((it=At+(Qe^(Rt|~st))+gt[10]+4293915773&4294967295)<<15&4294967295|it>>>17))+((it=st+(Rt^(At|~Qe))+gt[1]+2240044497&4294967295)<<21&4294967295|it>>>11))+((it=Qe+(At^(st|~Rt))+gt[8]+1873313359&4294967295)<<6&4294967295|it>>>26))+((it=Rt+(st^(Qe|~At))+gt[15]+4264355552&4294967295)<<10&4294967295|it>>>22))+((it=At+(Qe^(Rt|~st))+gt[6]+2734768916&4294967295)<<15&4294967295|it>>>17))+((it=st+(Rt^(At|~Qe))+gt[13]+1309151649&4294967295)<<21&4294967295|it>>>11))+((Rt=(Qe=st+((it=Qe+(At^(st|~Rt))+gt[4]+4149444226&4294967295)<<6&4294967295|it>>>26))+((it=Rt+(st^(Qe|~At))+gt[11]+3174756917&4294967295)<<10&4294967295|it>>>22))^((At=Rt+((it=At+(Qe^(Rt|~st))+gt[2]+718787259&4294967295)<<15&4294967295|it>>>17))|~Qe))+gt[9]+3951481745&4294967295,pt.g[0]=pt.g[0]+Qe&4294967295,pt.g[1]=pt.g[1]+(At+(it<<21&4294967295|it>>>11))&4294967295,pt.g[2]=pt.g[2]+At&4294967295,pt.g[3]=pt.g[3]+Rt&4294967295}function I(pt,Qe){this.h=Qe;for(var st=[],gt=!0,At=pt.length-1;0<=At;At--){var Rt=0|pt[At];gt&&Rt==Qe||(st[At]=Rt,gt=!1)}this.g=st}(function e(pt,Qe){function st(){}st.prototype=Qe.prototype,pt.D=Qe.prototype,pt.prototype=new st,pt.prototype.constructor=pt,pt.C=function(gt,At,Rt){for(var it=Array(arguments.length-2),Ll=2;Ll<arguments.length;Ll++)it[Ll-2]=arguments[Ll];return Qe.prototype[At].apply(gt,it)}})(s,function r(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(pt,Qe){void 0===Qe&&(Qe=pt.length);for(var st=Qe-this.blockSize,gt=this.B,At=this.h,Rt=0;Rt<Qe;){if(0==At)for(;Rt<=st;)u(this,pt,Rt),Rt+=this.blockSize;if("string"==typeof pt){for(;Rt<Qe;)if(gt[At++]=pt.charCodeAt(Rt++),At==this.blockSize){u(this,gt),At=0;break}}else for(;Rt<Qe;)if(gt[At++]=pt[Rt++],At==this.blockSize){u(this,gt),At=0;break}}this.h=At,this.o+=Qe},s.prototype.v=function(){var pt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);pt[0]=128;for(var Qe=1;Qe<pt.length-8;++Qe)pt[Qe]=0;var st=8*this.o;for(Qe=pt.length-8;Qe<pt.length;++Qe)pt[Qe]=255&st,st/=256;for(this.u(pt),pt=Array(16),Qe=st=0;4>Qe;++Qe)for(var gt=0;32>gt;gt+=8)pt[st++]=this.g[Qe]>>>gt&255;return pt};var P={};function L(pt){return-128<=pt&&128>pt?function m(pt,Qe){var st=P;return Object.prototype.hasOwnProperty.call(st,pt)?st[pt]:st[pt]=Qe(pt)}(pt,function(Qe){return new I([0|Qe],0>Qe?-1:0)}):new I([0|pt],0>pt?-1:0)}function J(pt){if(isNaN(pt)||!isFinite(pt))return Me;if(0>pt)return nn(J(-pt));for(var Qe=[],st=1,gt=0;pt>=st;gt++)Qe[gt]=pt/st|0,st*=4294967296;return new I(Qe,0)}var Me=L(0),et=L(1),Ct=L(16777216);function qt(pt){if(0!=pt.h)return!1;for(var Qe=0;Qe<pt.g.length;Qe++)if(0!=pt.g[Qe])return!1;return!0}function hn(pt){return-1==pt.h}function nn(pt){for(var Qe=pt.g.length,st=[],gt=0;gt<Qe;gt++)st[gt]=~pt.g[gt];return new I(st,~pt.h).add(et)}function Zn(pt,Qe){return pt.add(nn(Qe))}function ir(pt,Qe){for(;(65535&pt[Qe])!=pt[Qe];)pt[Qe+1]+=pt[Qe]>>>16,pt[Qe]&=65535,Qe++}function Kn(pt,Qe){this.g=pt,this.h=Qe}function xr(pt,Qe){if(qt(Qe))throw Error("division by zero");if(qt(pt))return new Kn(Me,Me);if(hn(pt))return Qe=xr(nn(pt),Qe),new Kn(nn(Qe.g),nn(Qe.h));if(hn(Qe))return Qe=xr(pt,nn(Qe)),new Kn(nn(Qe.g),Qe.h);if(30<pt.g.length){if(hn(pt)||hn(Qe))throw Error("slowDivide_ only works with positive integers.");for(var st=et,gt=Qe;0>=gt.l(pt);)st=Ti(st),gt=Ti(gt);var At=qr(st,1),Rt=qr(gt,1);for(gt=qr(gt,2),st=qr(st,2);!qt(gt);){var it=Rt.add(gt);0>=it.l(pt)&&(At=At.add(st),Rt=it),gt=qr(gt,1),st=qr(st,1)}return Qe=Zn(pt,At.j(Qe)),new Kn(At,Qe)}for(At=Me;0<=pt.l(Qe);){for(st=Math.max(1,Math.floor(pt.m()/Qe.m())),gt=48>=(gt=Math.ceil(Math.log(st)/Math.LN2))?1:Math.pow(2,gt-48),it=(Rt=J(st)).j(Qe);hn(it)||0<it.l(pt);)it=(Rt=J(st-=gt)).j(Qe);qt(Rt)&&(Rt=et),At=At.add(Rt),pt=Zn(pt,it)}return new Kn(At,pt)}function Ti(pt){for(var Qe=pt.g.length+1,st=[],gt=0;gt<Qe;gt++)st[gt]=pt.i(gt)<<1|pt.i(gt-1)>>>31;return new I(st,pt.h)}function qr(pt,Qe){var st=Qe>>5;Qe%=32;for(var gt=pt.g.length-st,At=[],Rt=0;Rt<gt;Rt++)At[Rt]=0<Qe?pt.i(Rt+st)>>>Qe|pt.i(Rt+st+1)<<32-Qe:pt.i(Rt+st);return new I(At,pt.h)}(c=I.prototype).m=function(){if(hn(this))return-nn(this).m();for(var pt=0,Qe=1,st=0;st<this.g.length;st++){var gt=this.i(st);pt+=(0<=gt?gt:4294967296+gt)*Qe,Qe*=4294967296}return pt},c.toString=function(pt){if(2>(pt=pt||10)||36<pt)throw Error("radix out of range: "+pt);if(qt(this))return"0";if(hn(this))return"-"+nn(this).toString(pt);for(var Qe=J(Math.pow(pt,6)),st=this,gt="";;){var At=xr(st,Qe).g,Rt=((0<(st=Zn(st,At.j(Qe))).g.length?st.g[0]:st.h)>>>0).toString(pt);if(qt(st=At))return Rt+gt;for(;6>Rt.length;)Rt="0"+Rt;gt=Rt+gt}},c.i=function(pt){return 0>pt?0:pt<this.g.length?this.g[pt]:this.h},c.l=function(pt){return hn(pt=Zn(this,pt))?-1:qt(pt)?0:1},c.abs=function(){return hn(this)?nn(this):this},c.add=function(pt){for(var Qe=Math.max(this.g.length,pt.g.length),st=[],gt=0,At=0;At<=Qe;At++){var Rt=gt+(65535&this.i(At))+(65535&pt.i(At)),it=(Rt>>>16)+(this.i(At)>>>16)+(pt.i(At)>>>16);gt=it>>>16,st[At]=(it&=65535)<<16|(Rt&=65535)}return new I(st,-2147483648&st[st.length-1]?-1:0)},c.j=function(pt){if(qt(this)||qt(pt))return Me;if(hn(this))return hn(pt)?nn(this).j(nn(pt)):nn(nn(this).j(pt));if(hn(pt))return nn(this.j(nn(pt)));if(0>this.l(Ct)&&0>pt.l(Ct))return J(this.m()*pt.m());for(var Qe=this.g.length+pt.g.length,st=[],gt=0;gt<2*Qe;gt++)st[gt]=0;for(gt=0;gt<this.g.length;gt++)for(var At=0;At<pt.g.length;At++){var Rt=this.i(gt)>>>16,it=65535&this.i(gt),Ll=pt.i(At)>>>16,Kf=65535&pt.i(At);st[2*gt+2*At]+=it*Kf,ir(st,2*gt+2*At),st[2*gt+2*At+1]+=Rt*Kf,ir(st,2*gt+2*At+1),st[2*gt+2*At+1]+=it*Ll,ir(st,2*gt+2*At+1),st[2*gt+2*At+2]+=Rt*Ll,ir(st,2*gt+2*At+2)}for(gt=0;gt<Qe;gt++)st[gt]=st[2*gt+1]<<16|st[2*gt];for(gt=Qe;gt<2*Qe;gt++)st[gt]=0;return new I(st,0)},c.A=function(pt){return xr(this,pt).h},c.and=function(pt){for(var Qe=Math.max(this.g.length,pt.g.length),st=[],gt=0;gt<Qe;gt++)st[gt]=this.i(gt)&pt.i(gt);return new I(st,this.h&pt.h)},c.or=function(pt){for(var Qe=Math.max(this.g.length,pt.g.length),st=[],gt=0;gt<Qe;gt++)st[gt]=this.i(gt)|pt.i(gt);return new I(st,this.h|pt.h)},c.xor=function(pt){for(var Qe=Math.max(this.g.length,pt.g.length),st=[],gt=0;gt<Qe;gt++)st[gt]=this.i(gt)^pt.i(gt);return new I(st,this.h^pt.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ve=de.Md5=s,I.prototype.add=I.prototype.add,I.prototype.multiply=I.prototype.j,I.prototype.modulo=I.prototype.A,I.prototype.compare=I.prototype.l,I.prototype.toNumber=I.prototype.m,I.prototype.toString=I.prototype.toString,I.prototype.getBits=I.prototype.i,I.fromNumber=J,I.fromString=function he(pt,Qe){if(0==pt.length)throw Error("number format error: empty string");if(2>(Qe=Qe||10)||36<Qe)throw Error("radix out of range: "+Qe);if("-"==pt.charAt(0))return nn(he(pt.substring(1),Qe));if(0<=pt.indexOf("-"))throw Error('number format error: interior "-" character');for(var st=J(Math.pow(Qe,8)),gt=Me,At=0;At<pt.length;At+=8){var Rt=Math.min(8,pt.length-At),it=parseInt(pt.substring(At,At+Rt),Qe);8>Rt?(Rt=J(Math.pow(Qe,Rt)),gt=gt.j(Rt).add(J(it))):gt=(gt=gt.j(st)).add(J(it))}return gt},ae=de.Integer=I}).apply(typeof Ae<"u"?Ae:typeof self<"u"?self:typeof window<"u"?window:{});var se,be,ye,De,Re,Ye,We,_t,Fe,G=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},z={};(function(){var c,e="function"==typeof Object.defineProperties?Object.defineProperty:function(E,V,ee){return E==Array.prototype||E==Object.prototype||(E[V]=ee.value),E},s=function r(E){E=["object"==typeof globalThis&&globalThis,E,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof G&&G];for(var V=0;V<E.length;++V){var ee=E[V];if(ee&&ee.Math==Math)return ee}throw Error("Cannot find global object")}(this);!function u(E,V){if(V)e:{var ee=s;E=E.split(".");for(var Ce=0;Ce<E.length-1;Ce++){var It=E[Ce];if(!(It in ee))break e;ee=ee[It]}(V=V(Ce=ee[E=E[E.length-1]]))!=Ce&&null!=V&&e(ee,E,{configurable:!0,writable:!0,value:V})}}("Array.prototype.values",function(E){return E||function(){return function m(E,V){E instanceof String&&(E+="");var ee=0,Ce=!1,It={next:function(){if(!Ce&&ee<E.length){var Ut=ee++;return{value:V(Ut,E[Ut]),done:!1}}return Ce=!0,{done:!0,value:void 0}}};return It[Symbol.iterator]=function(){return It},It}(this,function(V,ee){return ee})}});var I=I||{},P=this||self;function L(E){var V=typeof E;return"array"==(V="object"!=V?V:E?Array.isArray(E)?"array":V:"null")||"object"==V&&"number"==typeof E.length}function J(E){var V=typeof E;return"object"==V&&null!=E||"function"==V}function he(E,V,ee){return E.call.apply(E.bind,arguments)}function Me(E,V,ee){if(!E)throw Error();if(2<arguments.length){var Ce=Array.prototype.slice.call(arguments,2);return function(){var It=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(It,Ce),E.apply(V,It)}}return function(){return E.apply(V,arguments)}}function et(E,V,ee){return(et=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?he:Me).apply(null,arguments)}function Ct(E,V){var ee=Array.prototype.slice.call(arguments,1);return function(){var Ce=ee.slice();return Ce.push.apply(Ce,arguments),E.apply(this,Ce)}}function qt(E,V){function ee(){}ee.prototype=V.prototype,E.aa=V.prototype,E.prototype=new ee,E.prototype.constructor=E,E.Qb=function(Ce,It,Ut){for(var wn=Array(arguments.length-2),Zi=2;Zi<arguments.length;Zi++)wn[Zi-2]=arguments[Zi];return V.prototype[It].apply(Ce,wn)}}function hn(E){const V=E.length;if(0<V){const ee=Array(V);for(let Ce=0;Ce<V;Ce++)ee[Ce]=E[Ce];return ee}return[]}function nn(E,V){for(let ee=1;ee<arguments.length;ee++){const Ce=arguments[ee];if(L(Ce)){const It=E.length||0,Ut=Ce.length||0;E.length=It+Ut;for(let wn=0;wn<Ut;wn++)E[It+wn]=Ce[wn]}else E.push(Ce)}}function ir(E){return/^[\s\xa0]*$/.test(E)}function Kn(){var E=P.navigator;return E&&(E=E.userAgent)?E:""}function xr(E){return xr[" "](E),E}xr[" "]=function(){};var Ti=!(-1==Kn().indexOf("Gecko")||-1!=Kn().toLowerCase().indexOf("webkit")&&-1==Kn().indexOf("Edge")||-1!=Kn().indexOf("Trident")||-1!=Kn().indexOf("MSIE")||-1!=Kn().indexOf("Edge"));function qr(E,V,ee){for(const Ce in E)V.call(ee,E[Ce],Ce,E)}function Qe(E){const V={};for(const ee in E)V[ee]=E[ee];return V}const st="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gt(E,V){let ee,Ce;for(let It=1;It<arguments.length;It++){for(ee in Ce=arguments[It],Ce)E[ee]=Ce[ee];for(let Ut=0;Ut<st.length;Ut++)ee=st[Ut],Object.prototype.hasOwnProperty.call(Ce,ee)&&(E[ee]=Ce[ee])}}function At(E){var V=1;E=E.split(":");const ee=[];for(;0<V&&E.length;)ee.push(E.shift()),V--;return E.length&&ee.push(E.join(":")),ee}function Rt(E){P.setTimeout(()=>{throw E},0)}function it(){var E=N_;let V=null;return E.g&&(V=E.g,E.g=E.g.next,E.g||(E.h=null),V.next=null),V}var Kf=new class Zn{constructor(V,ee){this.i=V,this.j=ee,this.h=0,this.g=null}get(){let V;return 0<this.h?(this.h--,V=this.g,this.g=V.next,V.next=null):V=this.i(),V}}(()=>new Ta,E=>E.reset());class Ta{constructor(){this.next=this.g=this.h=null}set(V,ee){this.h=V,this.g=ee,this.next=null}reset(){this.next=this.g=this.h=null}}let Qf,kh=!1,N_=new class Ll{constructor(){this.h=this.g=null}add(V,ee){const Ce=Kf.get();Ce.set(V,ee),this.h?this.h.next=Ce:this.g=Ce,this.h=Ce}},og=()=>{const E=P.Promise.resolve(void 0);Qf=()=>{E.then(k_)}};var k_=()=>{for(var E;E=it();){try{E.h.call(E.g)}catch(ee){Rt(ee)}var V=Kf;V.j(E),100>V.h&&(V.h++,E.next=V.g,V.g=E)}kh=!1};function Au(){this.s=this.s,this.C=this.C}function ys(E,V){this.type=E,this.g=this.target=V,this.defaultPrevented=!1}Au.prototype.s=!1,Au.prototype.ma=function(){this.s||(this.s=!0,this.N())},Au.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ys.prototype.h=function(){this.defaultPrevented=!0};var Ov=function(){if(!P.addEventListener||!Object.defineProperty)return!1;var E=!1,V=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const ee=()=>{};P.addEventListener("test",ee,V),P.removeEventListener("test",ee,V)}catch{}return E}();function Fh(E,V){if(ys.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var ee=this.type=E.type,Ce=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=V,V=E.relatedTarget){if(Ti){e:{try{xr(V.nodeName);var It=!0;break e}catch{}It=!1}It||(V=null)}}else"mouseover"==ee?V=E.fromElement:"mouseout"==ee&&(V=E.toElement);this.relatedTarget=V,Ce?(this.clientX=void 0!==Ce.clientX?Ce.clientX:Ce.pageX,this.clientY=void 0!==Ce.clientY?Ce.clientY:Ce.pageY,this.screenX=Ce.screenX||0,this.screenY=Ce.screenY||0):(this.clientX=void 0!==E.clientX?E.clientX:E.pageX,this.clientY=void 0!==E.clientY?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType="string"==typeof E.pointerType?E.pointerType:Nv[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&Fh.aa.h.call(this)}}qt(Fh,ys);var Nv={2:"touch",3:"pen",4:"mouse"};Fh.prototype.h=function(){Fh.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var Yf="closure_listenable_"+(1e6*Math.random()|0),Dm=0;function kv(E,V,ee,Ce,It){this.listener=E,this.proxy=null,this.src=V,this.type=ee,this.capture=!!Ce,this.ha=It,this.key=++Dm,this.da=this.fa=!1}function sg(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function ag(E){this.src=E,this.g={},this.h=0}function Sm(E,V){var ee=V.type;if(ee in E.g){var Ut,Ce=E.g[ee],It=Array.prototype.indexOf.call(Ce,V,void 0);(Ut=0<=It)&&Array.prototype.splice.call(Ce,It,1),Ut&&(sg(V),0==E.g[ee].length&&(delete E.g[ee],E.h--))}}function Mm(E,V,ee,Ce){for(var It=0;It<E.length;++It){var Ut=E[It];if(!Ut.da&&Ut.listener==V&&Ut.capture==!!ee&&Ut.ha==Ce)return It}return-1}ag.prototype.add=function(E,V,ee,Ce,It){var Ut=E.toString();(E=this.g[Ut])||(E=this.g[Ut]=[],this.h++);var wn=Mm(E,V,Ce,It);return-1<wn?(V=E[wn],ee||(V.fa=!1)):((V=new kv(V,this.src,Ut,!!Ce,It)).fa=ee,E.push(V)),V};var qa="closure_lm_"+(1e6*Math.random()|0),Jf={};function F_(E,V,ee,Ce,It){if(Ce&&Ce.once)return xm(E,V,ee,Ce,It);if(Array.isArray(V)){for(var Ut=0;Ut<V.length;Ut++)F_(E,V[Ut],ee,Ce,It);return null}return ee=dg(ee),E&&E[Yf]?E.K(V,ee,J(Ce)?!!Ce.capture:!!Ce,It):Pm(E,V,ee,!1,Ce,It)}function Pm(E,V,ee,Ce,It,Ut){if(!V)throw Error("Invalid event type");var wn=J(It)?!!It.capture:!!It,Zi=lg(E);if(Zi||(E[qa]=Zi=new ag(E)),(ee=Zi.add(V,ee,Ce,wn,Ut)).proxy)return ee;if(Ce=function Fv(){const V=Sy;return function E(ee){return V.call(E.src,E.listener,ee)}}(),ee.proxy=Ce,Ce.src=E,Ce.listener=ee,E.addEventListener)Ov||(It=wn),void 0===It&&(It=!1),E.addEventListener(V.toString(),Ce,It);else if(E.attachEvent)E.attachEvent(cg(V.toString()),Ce);else{if(!E.addListener||!E.removeListener)throw Error("addEventListener and attachEvent are unavailable.");E.addListener(Ce)}return ee}function xm(E,V,ee,Ce,It){if(Array.isArray(V)){for(var Ut=0;Ut<V.length;Ut++)xm(E,V[Ut],ee,Ce,It);return null}return ee=dg(ee),E&&E[Yf]?E.L(V,ee,J(Ce)?!!Ce.capture:!!Ce,It):Pm(E,V,ee,!0,Ce,It)}function Rm(E,V,ee,Ce,It){if(Array.isArray(V))for(var Ut=0;Ut<V.length;Ut++)Rm(E,V[Ut],ee,Ce,It);else Ce=J(Ce)?!!Ce.capture:!!Ce,ee=dg(ee),E&&E[Yf]?(E=E.i,(V=String(V).toString())in E.g&&-1<(ee=Mm(Ut=E.g[V],ee,Ce,It))&&(sg(Ut[ee]),Array.prototype.splice.call(Ut,ee,1),0==Ut.length&&(delete E.g[V],E.h--))):E&&(E=lg(E))&&(V=E.g[V.toString()],E=-1,V&&(E=Mm(V,ee,Ce,It)),(ee=-1<E?V[E]:null)&&Lh(ee))}function Lh(E){if("number"!=typeof E&&E&&!E.da){var V=E.src;if(V&&V[Yf])Sm(V.i,E);else{var ee=E.type,Ce=E.proxy;V.removeEventListener?V.removeEventListener(ee,Ce,E.capture):V.detachEvent?V.detachEvent(cg(ee),Ce):V.addListener&&V.removeListener&&V.removeListener(Ce),(ee=lg(V))?(Sm(ee,E),0==ee.h&&(ee.src=null,V[qa]=null)):sg(E)}}}function cg(E){return E in Jf?Jf[E]:Jf[E]="on"+E}function Sy(E,V){if(E.da)E=!0;else{V=new Fh(V,this);var ee=E.listener,Ce=E.ha||E.src;E.fa&&Lh(E),E=ee.call(Ce,V)}return E}function lg(E){return(E=E[qa])instanceof ag?E:null}var ug="__closure_events_fn_"+(1e9*Math.random()>>>0);function dg(E){return"function"==typeof E?E:(E[ug]||(E[ug]=function(V){return E.handleEvent(V)}),E[ug])}function us(){Au.call(this),this.i=new ag(this),this.M=this,this.F=null}function ds(E,V){var ee,Ce=E.F;if(Ce)for(ee=[];Ce;Ce=Ce.F)ee.push(Ce);if(E=E.M,Ce=V.type||V,"string"==typeof V)V=new ys(V,E);else if(V instanceof ys)V.target=V.target||E;else{var It=V;gt(V=new ys(Ce,E),It)}if(It=!0,ee)for(var Ut=ee.length-1;0<=Ut;Ut--){var wn=V.g=ee[Ut];It=Wa(wn,Ce,!0,V)&&It}if(It=Wa(wn=V.g=E,Ce,!0,V)&&It,It=Wa(wn,Ce,!1,V)&&It,ee)for(Ut=0;Ut<ee.length;Ut++)It=Wa(wn=V.g=ee[Ut],Ce,!1,V)&&It}function Wa(E,V,ee,Ce){if(!(V=E.i.g[String(V)]))return!0;V=V.concat();for(var It=!0,Ut=0;Ut<V.length;++Ut){var wn=V[Ut];if(wn&&!wn.da&&wn.capture==ee){var Zi=wn.listener,es=wn.ha||wn.src;wn.fa&&Sm(E.i,wn),It=!1!==Zi.call(es,Ce)&&It}}return It&&!Ce.defaultPrevented}function L_(E,V,ee){if("function"==typeof E)ee&&(E=et(E,ee));else{if(!E||"function"!=typeof E.handleEvent)throw Error("Invalid listener argument");E=et(E.handleEvent,E)}return 2147483647<Number(V)?-1:P.setTimeout(E,V||0)}function V_(E){E.g=L_(()=>{E.g=null,E.i&&(E.i=!1,V_(E))},E.l);const V=E.h;E.h=null,E.m.apply(null,V)}qt(us,Au),us.prototype[Yf]=!0,us.prototype.removeEventListener=function(E,V,ee,Ce){Rm(this,E,V,ee,Ce)},us.prototype.N=function(){if(us.aa.N.call(this),this.i){var V,E=this.i;for(V in E.g){for(var ee=E.g[V],Ce=0;Ce<ee.length;Ce++)sg(ee[Ce]);delete E.g[V],E.h--}}this.F=null},us.prototype.K=function(E,V,ee,Ce){return this.i.add(String(E),V,!1,ee,Ce)},us.prototype.L=function(E,V,ee,Ce){return this.i.add(String(E),V,!0,ee,Ce)};class Om extends Au{constructor(V,ee){super(),this.m=V,this.l=ee,this.h=null,this.i=!1,this.g=null}j(V){this.h=arguments,this.g?this.i=!0:V_(this)}N(){super.N(),this.g&&(P.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vh(E){Au.call(this),this.h=E,this.g={}}qt(Vh,Au);var hg=[];function Nm(E){qr(E.g,function(V,ee){this.g.hasOwnProperty(ee)&&Lh(V)},E),E.g={}}Vh.prototype.N=function(){Vh.aa.N.call(this),Nm(this)},Vh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sd=P.JSON.stringify,Uh=P.JSON.parse,Xf=class{stringify(E){return P.JSON.stringify(E,void 0)}parse(E){return P.JSON.parse(E,void 0)}};function Iu(){}function B_(){}Iu.prototype.h=null;var Vl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ep(){ys.call(this,"d")}function fg(){ys.call(this,"c")}qt(ep,ys),qt(fg,ys);var bu={},pg=null;function Bh(){return pg=pg||new us}function Md(E){ys.call(this,bu.La,E)}function tp(E){const V=Bh();ds(V,new Md(V))}function km(E,V){ys.call(this,bu.STAT_EVENT,E),this.stat=V}function Es(E){const V=Bh();ds(V,new km(V,E))}function j_(E,V){ys.call(this,bu.Ma,E),this.size=V}function np(E,V){if("function"!=typeof E)throw Error("Fn must not be null and must be a function");return P.setTimeout(function(){E()},V)}function Ul(){this.g=!0}function Pd(E,V,ee,Ce){E.info(function(){return"XMLHTTP TEXT ("+V+"): "+function Bv(E,V){if(!E.g)return V;if(!V)return null;try{var ee=JSON.parse(V);if(ee)for(E=0;E<ee.length;E++)if(Array.isArray(ee[E])){var Ce=ee[E];if(!(2>Ce.length)){var It=Ce[1];if(Array.isArray(It)&&!(1>It.length)){var Ut=It[0];if("noop"!=Ut&&"stop"!=Ut&&"close"!=Ut)for(var wn=1;wn<It.length;wn++)It[wn]=""}}}return Sd(ee)}catch{return V}}(E,ee)+(Ce?" "+Ce:"")})}bu.La="serverreachability",qt(Md,ys),bu.STAT_EVENT="statevent",qt(km,ys),bu.Ma="timingevent",qt(j_,ys),Ul.prototype.xa=function(){this.g=!1},Ul.prototype.info=function(){};var Fm,gg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},H_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function rp(){}function al(E,V,ee,Ce){this.j=E,this.i=V,this.l=ee,this.R=Ce||1,this.U=new Vh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new z_}function z_(){this.i=null,this.g="",this.h=!1}qt(rp,Iu),rp.prototype.g=function(){return new XMLHttpRequest},rp.prototype.i=function(){return{}},Fm=new rp;var xd={},mg={};function _g(E,V,ee){E.L=1,E.v=la(Xi(V)),E.m=ee,E.P=!0,y(E,null)}function y(E,V){E.F=Date.now(),_(E),E.A=Xi(E.v);var ee=E.A,Ce=E.R;Array.isArray(Ce)||(Ce=[String(Ce)]),ip(ee.i,"t",Ce),E.C=0,ee=E.j.J,E.h=new z_,E.g=Jv(E.j,ee?V:null,!E.m),0<E.O&&(E.M=new Om(et(E.Y,E,E.g),E.O)),V=E.U,ee=E.g,Ce=E.ca;var It="readystatechange";Array.isArray(It)||(It&&(hg[0]=It.toString()),It=hg);for(var Ut=0;Ut<It.length;Ut++){var wn=F_(ee,It[Ut],Ce||V.handleEvent,!1,V.h||V);if(!wn)break;V.g[wn.key]=wn}V=E.H?Qe(E.H):{},E.m?(E.u||(E.u="POST"),V["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,V)):(E.u="GET",E.g.ea(E.A,E.u,null,V)),tp(),function Lv(E,V,ee,Ce,It,Ut){E.info(function(){if(E.g)if(Ut)for(var wn="",Zi=Ut.split("&"),es=0;es<Zi.length;es++){var Mi=Zi[es].split("=");if(1<Mi.length){var ps=Mi[0];Mi=Mi[1];var bs=ps.split("_");wn=2<=bs.length&&"type"==bs[1]?wn+(ps+"=")+Mi+"&":wn+(ps+"=redacted&")}}else wn=null;else wn=Ut;return"XMLHTTP REQ ("+Ce+") [attempt "+It+"]: "+V+"\n"+ee+"\n"+wn})}(E.i,E.u,E.A,E.l,E.R,E.m)}function h(E){return!!E.g&&"GET"==E.u&&2!=E.L&&E.j.Ca}function l(E,V){var ee=E.C,Ce=V.indexOf("\n",ee);return-1==Ce?mg:(ee=Number(V.substring(ee,Ce)),isNaN(ee)?xd:(Ce+=1)+ee>V.length?mg:(V=V.slice(Ce,Ce+ee),E.C=Ce+ee,V))}function _(E){E.S=Date.now()+E.I,C(E,E.I)}function C(E,V){if(null!=E.B)throw Error("WatchDog timer not null");E.B=np(et(E.ba,E),V)}function $(E){E.B&&(P.clearTimeout(E.B),E.B=null)}function pe(E){0==E.j.G||E.J||Qv(E.j,E)}function Oe(E){$(E);var V=E.M;V&&"function"==typeof V.ma&&V.ma(),E.M=null,Nm(E.U),E.g&&(V=E.g,E.g=null,V.abort(),V.ma())}function mt(E,V){try{var ee=E.j;if(0!=ee.G&&(ee.g==E||Er(ee.h,E)))if(!E.K&&Er(ee.h,E)&&3==ee.G){try{var Ce=ee.Da.g.parse(V)}catch{Ce=null}if(Array.isArray(Ce)&&3==Ce.length){var It=Ce;if(0==It[0]){e:if(!ee.u){if(ee.g){if(!(ee.g.F+3e3<E.F))break e;Hm(ee),G_(ee)}Bm(ee),Es(18)}}else ee.za=It[1],0<ee.za-ee.T&&37500>It[2]&&ee.F&&0==ee.v&&!ee.C&&(ee.C=np(et(ee.Za,ee),6e3));if(1>=Cr(ee.h)&&ee.ca){try{ee.ca()}catch{}ee.ca=void 0}}else zh(ee,11)}else if((E.K||ee.g==E)&&Hm(ee),!ir(V))for(It=ee.Da.g.parse(V),V=0;V<It.length;V++){let Mi=It[V];if(ee.T=Mi[0],Mi=Mi[1],2==ee.G)if("c"==Mi[0]){ee.K=Mi[1],ee.ia=Mi[2];const ps=Mi[3];null!=ps&&(ee.la=ps,ee.j.info("VER="+ee.la));const bs=Mi[4];null!=bs&&(ee.Aa=bs,ee.j.info("SVER="+ee.Aa));const lp=Mi[5];null!=lp&&"number"==typeof lp&&0<lp&&(ee.L=Ce=1.5*lp,ee.j.info("backChannelRequestTimeoutMs_="+Ce)),Ce=ee;const yc=E.g;if(yc){const Cg=yc.g?yc.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cg){var Ut=Ce.h;Ut.g||-1==Cg.indexOf("spdy")&&-1==Cg.indexOf("quic")&&-1==Cg.indexOf("h2")||(Ut.j=Ut.l,Ut.g=new Set,Ut.h&&(er(Ut,Ut.h),Ut.h=null))}if(Ce.D){const Zm=yc.g?yc.g.getResponseHeader("X-HTTP-Session-Id"):null;Zm&&(Ce.ya=Zm,Si(Ce.I,Ce.D,Zm))}}ee.G=3,ee.l&&ee.l.ua(),ee.ba&&(ee.R=Date.now()-E.F,ee.j.info("Handshake RTT: "+ee.R+"ms"));var wn=E;if((Ce=ee).qa=$m(Ce,Ce.J?Ce.ia:null,Ce.W),wn.K){or(Ce.h,wn);var Zi=wn,es=Ce.L;es&&(Zi.I=es),Zi.B&&($(Zi),_(Zi)),Ce.g=wn}else Kv(Ce);0<ee.i.length&&Um(ee)}else"stop"!=Mi[0]&&"close"!=Mi[0]||zh(ee,7);else 3==ee.G&&("stop"==Mi[0]||"close"==Mi[0]?"stop"==Mi[0]?zh(ee,7):sp(ee):"noop"!=Mi[0]&&ee.l&&ee.l.ta(Mi),ee.v=0)}tp()}catch{}}function ln(E){this.l=E||10,E=P.PerformanceNavigationTiming?0<(E=P.performance.getEntriesByType("navigation")).length&&("hq"==E[0].nextHopProtocol||"h2"==E[0].nextHopProtocol):!!(P.chrome&&P.chrome.loadTimes&&P.chrome.loadTimes()&&P.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cn(E){return!!E.h||!!E.g&&E.g.size>=E.j}function Cr(E){return E.h?1:E.g?E.g.size:0}function Er(E,V){return E.h?E.h==V:!!E.g&&E.g.has(V)}function er(E,V){E.g?E.g.add(V):E.h=V}function or(E,V){E.h&&E.h==V?E.h=null:E.g&&E.g.has(V)&&E.g.delete(V)}function Li(E){if(null!=E.h)return E.i.concat(E.h.D);if(null!=E.g&&0!==E.g.size){let V=E.i;for(const ee of E.g.values())V=V.concat(ee.D);return V}return hn(E.i)}function Di(E,V){if(E.forEach&&"function"==typeof E.forEach)E.forEach(V,void 0);else if(L(E)||"string"==typeof E)Array.prototype.forEach.call(E,V,void 0);else for(var ee=function Ji(E){if(E.na&&"function"==typeof E.na)return E.na();if(!E.V||"function"!=typeof E.V){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(L(E)||"string"==typeof E){var V=[];E=E.length;for(var ee=0;ee<E;ee++)V.push(ee);return V}V=[],ee=0;for(const Ce in E)V[ee++]=Ce;return V}}}(E),Ce=function wi(E){if(E.V&&"function"==typeof E.V)return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if("string"==typeof E)return E.split("");if(L(E)){for(var V=[],ee=E.length,Ce=0;Ce<ee;Ce++)V.push(E[Ce]);return V}for(Ce in V=[],ee=0,E)V[ee++]=E[Ce];return V}(E),It=Ce.length,Ut=0;Ut<It;Ut++)V.call(void 0,Ce[Ut],ee&&ee[Ut],E)}al.prototype.ca=function(E){E=E.target;const V=this.M;V&&3==Tu(E)?V.j():this.Y(E)},al.prototype.Y=function(E){try{if(E==this.g)e:{const bs=Tu(this.g);var V=this.g.Ba();if(this.g.Z(),!(3>bs)&&(3!=bs||this.g&&(this.h.h||this.g.oa()||Zv(this.g)))){this.J||4!=bs||7==V||tp(),$(this);var ee=this.g.Z();this.X=ee;t:if(h(this)){var Ce=Zv(this.g);E="";var It=Ce.length,Ut=4==Tu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Oe(this),pe(this);var wn="";break t}this.h.i=new P.TextDecoder}for(V=0;V<It;V++)this.h.h=!0,E+=this.h.i.decode(Ce[V],{stream:!(Ut&&V==It-1)});Ce.length=0,this.h.g+=E,this.C=0,wn=this.h.g}else wn=this.g.oa();if(this.o=200==ee,function Vv(E,V,ee,Ce,It,Ut,wn){E.info(function(){return"XMLHTTP RESP ("+Ce+") [ attempt "+It+"]: "+V+"\n"+ee+"\n"+Ut+" "+wn})}(this.i,this.u,this.A,this.l,this.R,bs,ee),this.o){if(this.T&&!this.K){t:{if(this.g){var Zi,es=this.g;if((Zi=es.g?es.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ir(Zi)){var Mi=Zi;break t}}Mi=null}if(!(ee=Mi)){this.o=!1,this.s=3,Es(12),Oe(this),pe(this);break e}Pd(this.i,this.l,ee,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mt(this,ee)}if(this.P){let yc;for(ee=!0;!this.J&&this.C<wn.length;){if(yc=l(this,wn),yc==mg){4==bs&&(this.s=4,Es(14),ee=!1),Pd(this.i,this.l,null,"[Incomplete Response]");break}if(yc==xd){this.s=4,Es(15),Pd(this.i,this.l,wn,"[Invalid Chunk]"),ee=!1;break}Pd(this.i,this.l,yc,null),mt(this,yc)}if(h(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=bs||0!=wn.length||this.h.h||(this.s=1,Es(16),ee=!1),this.o=this.o&&ee,ee){if(0<wn.length&&!this.W){this.W=!0;var ps=this.j;ps.g==this&&ps.ba&&!ps.M&&(ps.j.info("Great, no buffering proxy detected. Bytes received: "+wn.length),jm(ps),ps.M=!0,Es(11))}}else Pd(this.i,this.l,wn,"[Invalid Chunked Response]"),Oe(this),pe(this)}else Pd(this.i,this.l,wn,null),mt(this,wn);4==bs&&Oe(this),this.o&&!this.J&&(4==bs?Qv(this.j,this):(this.o=!1,_(this)))}else(function My(E){const V={};E=(E.g&&2<=Tu(E)&&E.g.getAllResponseHeaders()||"").split("\r\n");for(let Ce=0;Ce<E.length;Ce++){if(ir(E[Ce]))continue;var ee=At(E[Ce]);const It=ee[0];if("string"!=typeof(ee=ee[1]))continue;ee=ee.trim();const Ut=V[It]||[];V[It]=Ut,Ut.push(ee)}!function pt(E,V){for(const ee in E)V.call(void 0,E[ee],ee,E)}(V,function(Ce){return Ce.join(", ")})})(this.g),400==ee&&0<wn.indexOf("Unknown SID")?(this.s=3,Es(12)):(this.s=0,Es(13)),Oe(this),pe(this)}}}catch{}},al.prototype.cancel=function(){this.J=!0,Oe(this)},al.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(function Uv(E,V){E.info(function(){return"TIMEOUT: "+V})}(this.i,this.A),2!=this.L&&(tp(),Es(17)),Oe(this),this.s=2,pe(this)):C(this,this.S-E)},ln.prototype.cancel=function(){if(this.i=Li(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const E of this.g.values())E.cancel();this.g.clear()}};var co=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bi(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof Bi){this.h=E.h,Jo(this,E.j),this.o=E.o,this.g=E.g,Xo(this,E.s),this.l=E.l;var V=E.i,ee=new Is;ee.i=V.i,V.g&&(ee.g=new Map(V.g),ee.h=V.h),As(this,ee),this.m=E.m}else E&&(V=String(E).match(co))?(this.h=!1,Jo(this,V[1]||"",!0),this.o=hs(V[2]||""),this.g=hs(V[3]||"",!0),Xo(this,V[4]),this.l=hs(V[5]||"",!0),As(this,V[6]||"",!0),this.m=hs(V[7]||"")):(this.h=!1,this.i=new Is(null,this.h))}function Xi(E){return new Bi(E)}function Jo(E,V,ee){E.j=ee?hs(V,!0):V,E.j&&(E.j=E.j.replace(/:$/,""))}function Xo(E,V){if(V){if(V=Number(V),isNaN(V)||0>V)throw Error("Bad port number "+V);E.s=V}else E.s=null}function As(E,V,ee){V instanceof Is?(E.i=V,function fs(E,V){V&&!E.j&&(Ro(E),E.i=null,E.g.forEach(function(ee,Ce){var It=Ce.toLowerCase();Ce!=It&&(vc(this,Ce),ip(this,It,ee))},E)),E.j=V}(E.i,E.h)):(ee||(V=Ka(V,di)),E.i=new Is(V,E.h))}function Si(E,V,ee){E.i.set(V,ee)}function la(E){return Si(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function hs(E,V){return E?V?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function Ka(E,V,ee){return"string"==typeof E?(E=encodeURI(E).replace(V,Cu),ee&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function Cu(E){return"%"+((E=E.charCodeAt(0))>>4&15).toString(16)+(15&E).toString(16)}Bi.prototype.toString=function(){var E=[],V=this.j;V&&E.push(Ka(V,jn,!0),":");var ee=this.g;return(ee||"file"==V)&&(E.push("//"),(V=this.o)&&E.push(Ka(V,jn,!0),"@"),E.push(encodeURIComponent(String(ee)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(ee=this.s)&&E.push(":",String(ee))),(ee=this.l)&&(this.g&&"/"!=ee.charAt(0)&&E.push("/"),E.push(Ka(ee,"/"==ee.charAt(0)?gr:lr,!0))),(ee=this.i.toString())&&E.push("?",ee),(ee=this.m)&&E.push("#",Ka(ee,$o)),E.join("")};var E,jn=/[#\/\?@]/g,lr=/[#\?:]/g,gr=/[#\?]/g,di=/[#\?@]/g,$o=/#/g;function Is(E,V){this.h=this.g=null,this.i=E||null,this.j=!!V}function Ro(E){E.g||(E.g=new Map,E.h=0,E.i&&function cl(E,V){if(E){E=E.split("&");for(var ee=0;ee<E.length;ee++){var Ce=E[ee].indexOf("="),It=null;if(0<=Ce){var Ut=E[ee].substring(0,Ce);It=E[ee].substring(Ce+1)}else Ut=E[ee];V(Ut,It?decodeURIComponent(It.replace(/\+/g," ")):"")}}}(E.i,function(V,ee){E.add(decodeURIComponent(V.replace(/\+/g," ")),ee)}))}function vc(E,V){Ro(E),V=Bl(E,V),E.g.has(V)&&(E.i=null,E.h-=E.g.get(V).length,E.g.delete(V))}function eo(E,V){return Ro(E),V=Bl(E,V),E.g.has(V)}function ip(E,V,ee){vc(E,V),0<ee.length&&(E.i=null,E.g.set(Bl(E,V),hn(ee)),E.h+=ee.length)}function Bl(E,V){return V=String(V),E.j&&(V=V.toLowerCase()),V}function Ya(E,V,ee,Ce,It){try{It&&(It.onload=null,It.onerror=null,It.onabort=null,It.ontimeout=null),Ce(ee)}catch{}}function vg(){this.g=new Xf}function T0(E,V,ee){const Ce=ee||"";try{Di(E,function(It,Ut){let wn=It;J(It)&&(wn=Sd(It)),V.push(Ce+Ut+"="+encodeURIComponent(wn))})}catch(It){throw V.push(Ce+"type="+encodeURIComponent("_badmap")),It}}function yg(E){this.l=E.Ub||null,this.j=E.eb||!1}function $_(E,V){us.call(this),this.D=E,this.o=V,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function jv(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}function Eg(E){E.readyState=4,E.l=null,E.j=null,E.v=null,Ag(E)}function Ag(E){E.onreadystatechange&&E.onreadystatechange.call(E)}function Lm(E){let V="";return qr(E,function(ee,Ce){V+=Ce,V+=":",V+=ee,V+="\r\n"}),V}function jh(E,V,ee){e:{for(Ce in ee){var Ce=!1;break e}Ce=!0}Ce||(ee=Lm(ee),"string"==typeof E?null!=ee&&encodeURIComponent(String(ee)):Si(E,V,ee))}function To(E){us.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(c=Is.prototype).add=function(E,V){Ro(this),this.i=null,E=Bl(this,E);var ee=this.g.get(E);return ee||this.g.set(E,ee=[]),ee.push(V),this.h+=1,this},c.forEach=function(E,V){Ro(this),this.g.forEach(function(ee,Ce){ee.forEach(function(It){E.call(V,It,Ce,this)},this)},this)},c.na=function(){Ro(this);const E=Array.from(this.g.values()),V=Array.from(this.g.keys()),ee=[];for(let Ce=0;Ce<V.length;Ce++){const It=E[Ce];for(let Ut=0;Ut<It.length;Ut++)ee.push(V[Ce])}return ee},c.V=function(E){Ro(this);let V=[];if("string"==typeof E)eo(this,E)&&(V=V.concat(this.g.get(Bl(this,E))));else{E=Array.from(this.g.values());for(let ee=0;ee<E.length;ee++)V=V.concat(E[ee])}return V},c.set=function(E,V){return Ro(this),this.i=null,eo(this,E=Bl(this,E))&&(this.h-=this.g.get(E).length),this.g.set(E,[V]),this.h+=1,this},c.get=function(E,V){return E&&0<(E=this.V(E)).length?String(E[0]):V},c.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],V=Array.from(this.g.keys());for(var ee=0;ee<V.length;ee++){var Ce=V[ee];const Ut=encodeURIComponent(String(Ce)),wn=this.V(Ce);for(Ce=0;Ce<wn.length;Ce++){var It=Ut;""!==wn[Ce]&&(It+="="+encodeURIComponent(String(wn[Ce]))),E.push(It)}}return this.i=E.join("&")},qt(yg,Iu),yg.prototype.g=function(){return new $_(this.l,this.j)},yg.prototype.i=(E={},function(){return E}),qt($_,us),(c=$_.prototype).open=function(E,V){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=V,this.readyState=1,Ag(this)},c.send=function(E){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const V={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(V.body=E),(this.D||P).fetch(new Request(this.A,V)).then(this.Sa.bind(this),this.ga.bind(this))},c.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Eg(this)),this.readyState=0},c.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,Ag(this)),this.g&&(this.readyState=3,Ag(this),this.g)))if("arraybuffer"===this.responseType)E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof P.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jv(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))},c.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var V=E.value?E.value:new Uint8Array(0);(V=this.v.decode(V,{stream:!E.done}))&&(this.response=this.responseText+=V)}E.done?Eg(this):Ag(this),3==this.readyState&&jv(this)}},c.Ra=function(E){this.g&&(this.response=this.responseText=E,Eg(this))},c.Qa=function(E){this.g&&(this.response=E,Eg(this))},c.ga=function(){this.g&&Eg(this)},c.setRequestHeader=function(E,V){this.u.append(E,V)},c.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},c.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],V=this.h.entries();for(var ee=V.next();!ee.done;)E.push((ee=ee.value)[0]+": "+ee[1]),ee=V.next();return E.join("\r\n")},Object.defineProperty($_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(E){this.m=E?"include":"same-origin"}}),qt(To,us);var Vm=/^https?$/i,Hv=["POST","PUT"];function op(E,V){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=V,E.m=5,Z_(E),Od(E)}function Z_(E){E.A||(E.A=!0,ds(E,"complete"),ds(E,"error"))}function zv(E){if(E.h&&typeof I<"u"&&(!E.v[1]||4!=Tu(E)||2!=E.Z()))if(E.u&&4==Tu(E))L_(E.Ea,0,E);else if(ds(E,"readystatechange"),4==Tu(E)){E.h=!1;try{const wn=E.Z();e:switch(wn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var V=!0;break e;default:V=!1}var ee;if(!(ee=V)){var Ce;if(Ce=0===wn){var It=String(E.D).match(co)[1]||null;!It&&P.self&&P.self.location&&(It=P.self.location.protocol.slice(0,-1)),Ce=!Vm.test(It?It.toLowerCase():"")}ee=Ce}if(ee)ds(E,"complete"),ds(E,"success");else{E.m=6;try{var Ut=2<Tu(E)?E.g.statusText:""}catch{Ut=""}E.l=Ut+" ["+E.Z()+"]",Z_(E)}}finally{Od(E)}}}function Od(E,V){if(E.g){$v(E);const ee=E.g,Ce=E.v[0]?()=>{}:null;E.g=null,E.v=null,V||ds(E,"ready");try{ee.onreadystatechange=Ce}catch{}}}function $v(E){E.I&&(P.clearTimeout(E.I),E.I=null)}function Tu(E){return E.g?E.g.readyState:0}function Zv(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function Hh(E,V,ee){return ee&&ee.internalChannelParams&&ee.internalChannelParams[E]||V}function Ig(E){this.Aa=0,this.i=[],this.j=new Ul,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hh("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hh("baseRetryDelayMs",5e3,E),this.cb=Hh("retryDelaySeedMs",1e4,E),this.Wa=Hh("forwardChannelMaxRetries",2,E),this.wa=Hh("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new ln(E&&E.concurrentRequestLimit),this.Da=new vg,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function sp(E){if(Gv(E),3==E.G){var V=E.U++,ee=Xi(E.I);if(Si(ee,"SID",E.K),Si(ee,"RID",V),Si(ee,"TYPE","terminate"),ap(E,ee),(V=new al(E,E.j,V)).L=2,V.v=la(Xi(ee)),ee=!1,P.navigator&&P.navigator.sendBeacon)try{ee=P.navigator.sendBeacon(V.v.toString(),"")}catch{}!ee&&P.Image&&((new Image).src=V.v,ee=!0),ee||(V.g=Jv(V.j,null),V.g.ea(V.v)),V.F=Date.now(),_(V)}zm(E)}function G_(E){E.g&&(jm(E),E.g.cancel(),E.g=null)}function Gv(E){G_(E),E.u&&(P.clearTimeout(E.u),E.u=null),Hm(E),E.h.cancel(),E.s&&("number"==typeof E.s&&P.clearTimeout(E.s),E.s=null)}function Um(E){if(!Cn(E.h)&&!E.s){E.s=!0;var V=E.Ga;Qf||og(),kh||(Qf(),kh=!0),N_.add(V,E),E.B=0}}function qv(E,V){var ee;ee=V?V.l:E.U++;const Ce=Xi(E.I);Si(Ce,"SID",E.K),Si(Ce,"RID",ee),Si(Ce,"AID",E.T),ap(E,Ce),E.m&&E.o&&jh(Ce,E.m,E.o),ee=new al(E,E.j,ee,E.B+1),null===E.m&&(ee.H=E.o),V&&(E.i=V.D.concat(E.i)),V=Wv(E,ee,1e3),ee.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),er(E.h,ee),_g(ee,Ce,V)}function ap(E,V){E.H&&qr(E.H,function(ee,Ce){Si(V,Ce,ee)}),E.l&&Di({},function(ee,Ce){Si(V,Ce,ee)})}function Wv(E,V,ee){ee=Math.min(E.i.length,ee);var Ce=E.l?et(E.l.Na,E.l,E):null;e:{var It=E.i;let Ut=-1;for(;;){const wn=["count="+ee];-1==Ut?0<ee?(Ut=It[0].g,wn.push("ofs="+Ut)):Ut=0:wn.push("ofs="+Ut);let Zi=!0;for(let es=0;es<ee;es++){let Mi=It[es].g;const ps=It[es].map;if(Mi-=Ut,0>Mi)Ut=Math.max(0,It[es].g-100),Zi=!1;else try{T0(ps,wn,"req"+Mi+"_")}catch{Ce&&Ce(ps)}}if(Zi){Ce=wn.join("&");break e}}}return E=E.i.splice(0,ee),V.D=E,Ce}function Kv(E){if(!E.g&&!E.u){E.Y=1;var V=E.Fa;Qf||og(),kh||(Qf(),kh=!0),N_.add(V,E),E.v=0}}function Bm(E){return!(E.g||E.u||3<=E.v||(E.Y++,E.u=np(et(E.Fa,E),Yv(E,E.v)),E.v++,0))}function jm(E){null!=E.A&&(P.clearTimeout(E.A),E.A=null)}function W_(E){E.g=new al(E,E.j,"rpc",E.Y),null===E.m&&(E.g.H=E.o),E.g.O=0;var V=Xi(E.qa);Si(V,"RID","rpc"),Si(V,"SID",E.K),Si(V,"AID",E.T),Si(V,"CI",E.F?"0":"1"),!E.F&&E.ja&&Si(V,"TO",E.ja),Si(V,"TYPE","xmlhttp"),ap(E,V),E.m&&E.o&&jh(V,E.m,E.o),E.L&&(E.g.I=E.L);var ee=E.g;E=E.ia,ee.L=1,ee.v=la(Xi(V)),ee.m=null,ee.P=!0,y(ee,E)}function Hm(E){null!=E.C&&(P.clearTimeout(E.C),E.C=null)}function Qv(E,V){var ee=null;if(E.g==V){Hm(E),jm(E),E.g=null;var Ce=2}else{if(!Er(E.h,V))return;ee=V.D,or(E.h,V),Ce=1}if(0!=E.G)if(V.o)if(1==Ce){ee=V.m?V.m.length:0,V=Date.now()-V.F;var It=E.B;ds(Ce=Bh(),new j_(Ce,ee)),Um(E)}else Kv(E);else if(3==(It=V.s)||0==It&&0<V.X||!(1==Ce&&function q_(E,V){return!(Cr(E.h)>=E.h.j-(E.s?1:0)||(E.s?(E.i=V.D.concat(E.i),0):1==E.G||2==E.G||E.B>=(E.Va?0:E.Wa)||(E.s=np(et(E.Ga,E,V),Yv(E,E.B)),E.B++,0)))}(E,V)||2==Ce&&Bm(E)))switch(ee&&0<ee.length&&(V=E.h,V.i=V.i.concat(ee)),It){case 1:zh(E,5);break;case 4:zh(E,10);break;case 3:zh(E,6);break;default:zh(E,2)}}function Yv(E,V){let ee=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(ee*=2),ee*V}function zh(E,V){if(E.j.info("Error code "+V),2==V){var ee=et(E.fb,E),Ce=E.Xa;const It=!Ce;Ce=new Bi(Ce||"//www.google.com/images/cleardot.gif"),P.location&&"http"==P.location.protocol||Jo(Ce,"https"),la(Ce),It?function Rd(E,V){const ee=new Ul;if(P.Image){const Ce=new Image;Ce.onload=Ct(Ya,ee,"TestLoadImage: loaded",!0,V,Ce),Ce.onerror=Ct(Ya,ee,"TestLoadImage: error",!1,V,Ce),Ce.onabort=Ct(Ya,ee,"TestLoadImage: abort",!1,V,Ce),Ce.ontimeout=Ct(Ya,ee,"TestLoadImage: timeout",!1,V,Ce),P.setTimeout(function(){Ce.ontimeout&&Ce.ontimeout()},1e4),Ce.src=E}else V(!1)}(Ce.toString(),ee):function Qa(E,V){new Ul;const Ce=new AbortController,It=setTimeout(()=>{Ce.abort(),Ya(0,0,!1,V)},1e4);fetch(E,{signal:Ce.signal}).then(Ut=>{clearTimeout(It),Ya(0,0,!!Ut.ok,V)}).catch(()=>{clearTimeout(It),Ya(0,0,!1,V)})}(Ce.toString(),ee)}else Es(2);E.G=0,E.l&&E.l.sa(V),zm(E),Gv(E)}function zm(E){if(E.G=0,E.ka=[],E.l){const V=Li(E.h);(0!=V.length||0!=E.i.length)&&(nn(E.ka,V),nn(E.ka,E.i),E.h.i.length=0,hn(E.i),E.i.length=0),E.l.ra()}}function $m(E,V,ee){var Ce=ee instanceof Bi?Xi(ee):new Bi(ee);if(""!=Ce.g)V&&(Ce.g=V+"."+Ce.g),Xo(Ce,Ce.s);else{var It=P.location;Ce=It.protocol,V=V?V+"."+It.hostname:It.hostname,It=+It.port;var Ut=new Bi(null);Ce&&Jo(Ut,Ce),V&&(Ut.g=V),It&&Xo(Ut,It),ee&&(Ut.l=ee),Ce=Ut}return V=E.ya,(ee=E.D)&&V&&Si(Ce,ee,V),Si(Ce,"VER",E.la),ap(E,Ce),Ce}function Jv(E,V,ee){if(V&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return(V=new To(E.Ca&&!E.pa?new yg({eb:ee}):E.pa)).Ha(E.J),V}function bg(){}function $h(){}function ua(E,V){us.call(this),this.g=new Ig(V),this.l=E,this.h=V&&V.messageUrlParams||null,E=V&&V.messageHeaders||null,V&&V.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=V&&V.initMessageHeaders||null,V&&V.messageContentType&&(E?E["X-WebChannel-Content-Type"]=V.messageContentType:E={"X-WebChannel-Content-Type":V.messageContentType}),V&&V.va&&(E?E["X-WebChannel-Client-Profile"]=V.va:E={"X-WebChannel-Client-Profile":V.va}),this.g.S=E,(E=V&&V.Sb)&&!ir(E)&&(this.g.m=E),this.v=V&&V.supportsCrossDomainXhr||!1,this.u=V&&V.sendRawJson||!1,(V=V&&V.httpSessionIdParam)&&!ir(V)&&(this.g.D=V,null!==(E=this.h)&&V in E&&V in(E=this.h)&&delete E[V]),this.j=new cp(this)}function K_(E){ep.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var V=E.__sm__;if(V){e:{for(const ee in V){E=ee;break e}E=void 0}(this.i=E)&&(E=this.i,V=null!==V&&E in V?V[E]:void 0),this.data=V}else this.data=E}function Xv(){fg.call(this),this.status=1}function cp(E){this.g=E}(c=To.prototype).Ha=function(E){this.J=E},c.ea=function(E,V,ee,Ce){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);V=V?V.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fm.g(),this.v=function U_(E){return E.h||(E.h=E.i())}(this.o?this.o:Fm),this.g.onreadystatechange=et(this.Ea,this);try{this.B=!0,this.g.open(V,String(E),!0),this.B=!1}catch(Ut){return void op(this,Ut)}if(E=ee||"",ee=new Map(this.headers),Ce)if(Object.getPrototypeOf(Ce)===Object.prototype)for(var It in Ce)ee.set(It,Ce[It]);else{if("function"!=typeof Ce.keys||"function"!=typeof Ce.get)throw Error("Unknown input type for opt_headers: "+String(Ce));for(const Ut of Ce.keys())ee.set(Ut,Ce.get(Ut))}Ce=Array.from(ee.keys()).find(Ut=>"content-type"==Ut.toLowerCase()),It=P.FormData&&E instanceof P.FormData,!(0<=Array.prototype.indexOf.call(Hv,V,void 0))||Ce||It||ee.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ut,wn]of ee)this.g.setRequestHeader(Ut,wn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$v(this),this.u=!0,this.g.send(E),this.u=!1}catch(Ut){op(this,Ut)}},c.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,ds(this,"complete"),ds(this,"abort"),Od(this))},c.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Od(this,!0)),To.aa.N.call(this)},c.Ea=function(){this.s||(this.B||this.u||this.j?zv(this):this.bb())},c.bb=function(){zv(this)},c.isActive=function(){return!!this.g},c.Z=function(){try{return 2<Tu(this)?this.g.status:-1}catch{return-1}},c.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},c.Oa=function(E){if(this.g){var V=this.g.responseText;return E&&0==V.indexOf(E)&&(V=V.substring(E.length)),Uh(V)}},c.Ba=function(){return this.m},c.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(c=Ig.prototype).la=8,c.G=1,c.connect=function(E,V,ee,Ce){Es(0),this.W=E,this.H=V||{},ee&&void 0!==Ce&&(this.H.OSID=ee,this.H.OAID=Ce),this.F=this.X,this.I=$m(this,null,this.W),Um(this)},c.Ga=function(E){if(this.s)if(this.s=null,1==this.G){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const It=new al(this,this.j,E);let Ut=this.o;if(this.S&&(Ut?(Ut=Qe(Ut),gt(Ut,this.S)):Ut=this.S),null!==this.m||this.O||(It.H=Ut,Ut=null),this.P)e:{for(var V=0,ee=0;ee<this.i.length;ee++){var Ce=this.i[ee];if(void 0===(Ce="__data__"in Ce.map&&"string"==typeof(Ce=Ce.map.__data__)?Ce.length:void 0))break;if(4096<(V+=Ce)){V=ee;break e}if(4096===V||ee===this.i.length-1){V=ee+1;break e}}V=1e3}else V=1e3;V=Wv(this,It,V),Si(ee=Xi(this.I),"RID",E),Si(ee,"CVER",22),this.D&&Si(ee,"X-HTTP-Session-Id",this.D),ap(this,ee),Ut&&(this.O?V="headers="+encodeURIComponent(String(Lm(Ut)))+"&"+V:this.m&&jh(ee,this.m,Ut)),er(this.h,It),this.Ua&&Si(ee,"TYPE","init"),this.P?(Si(ee,"$req",V),Si(ee,"SID","null"),It.T=!0,_g(It,ee,null)):_g(It,ee,V),this.G=2}}else 3==this.G&&(E?qv(this,E):0==this.i.length||Cn(this.h)||qv(this))},c.Fa=function(){if(this.u=null,W_(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=np(et(this.ab,this),E)}},c.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Es(10),G_(this),W_(this))},c.Za=function(){null!=this.C&&(this.C=null,G_(this),Bm(this),Es(19))},c.fb=function(E){E?(this.j.info("Successfully pinged google.com"),Es(2)):(this.j.info("Failed to ping google.com"),Es(1))},c.isActive=function(){return!!this.l&&this.l.isActive(this)},(c=bg.prototype).ua=function(){},c.ta=function(){},c.sa=function(){},c.ra=function(){},c.isActive=function(){return!0},c.Na=function(){},$h.prototype.g=function(E,V){return new ua(E,V)},qt(ua,us),ua.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ua.prototype.close=function(){sp(this.g)},ua.prototype.o=function(E){var V=this.g;if("string"==typeof E){var ee={};ee.__data__=E,E=ee}else this.u&&((ee={}).__data__=Sd(E),E=ee);V.i.push(new class{constructor(E,V){this.g=E,this.map=V}}(V.Ya++,E)),3==V.G&&Um(V)},ua.prototype.N=function(){this.g.l=null,delete this.j,sp(this.g),delete this.g,ua.aa.N.call(this)},qt(K_,ep),qt(Xv,fg),qt(cp,bg),cp.prototype.ua=function(){ds(this.g,"a")},cp.prototype.ta=function(E){ds(this.g,new K_(E))},cp.prototype.sa=function(E){ds(this.g,new Xv)},cp.prototype.ra=function(){ds(this.g,"b")},$h.prototype.createWebChannel=$h.prototype.g,ua.prototype.send=ua.prototype.o,ua.prototype.open=ua.prototype.m,ua.prototype.close=ua.prototype.close,Fe=z.createWebChannelTransport=function(){return new $h},_t=z.getStatEventTarget=function(){return Bh()},We=z.Event=bu,Ye=z.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gg.NO_ERROR=0,gg.TIMEOUT=8,gg.HTTP_ERROR=6,Re=z.ErrorCode=gg,H_.COMPLETE="complete",De=z.EventType=H_,B_.EventType=Vl,Vl.OPEN="a",Vl.CLOSE="b",Vl.ERROR="c",Vl.MESSAGE="d",us.prototype.listen=us.prototype.K,ye=z.WebChannel=B_,be=z.FetchXmlHttpFactory=yg,To.prototype.listenOnce=To.prototype.L,To.prototype.getLastError=To.prototype.Ka,To.prototype.getLastErrorCode=To.prototype.Ba,To.prototype.getStatus=To.prototype.Z,To.prototype.getResponseJson=To.prototype.Oa,To.prototype.getResponseText=To.prototype.oa,To.prototype.send=To.prototype.ea,To.prototype.setWithCredentials=To.prototype.Ha,se=z.XhrIo=To}).apply(typeof G<"u"?G:typeof self<"u"?self:typeof window<"u"?window:{});const Ne="@firebase/firestore";class tt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tt.UNAUTHENTICATED=new tt(null),tt.GOOGLE_CREDENTIALS=new tt("google-credentials-uid"),tt.FIRST_PARTY=new tt("first-party-uid"),tt.MOCK_USER=new tt("mock-user");let Ze="10.12.1";const Ge=new Se.Yd("@firebase/firestore");function dt(){return Ge.logLevel}function bt(c){Ge.setLogLevel(c)}function Ee(c,...e){if(Ge.logLevel<=Se.in.DEBUG){const r=e.map(Dn);Ge.debug(`Firestore (${Ze}): ${c}`,...r)}}function Nt(c,...e){if(Ge.logLevel<=Se.in.ERROR){const r=e.map(Dn);Ge.error(`Firestore (${Ze}): ${c}`,...r)}}function Vt(c,...e){if(Ge.logLevel<=Se.in.WARN){const r=e.map(Dn);Ge.warn(`Firestore (${Ze}): ${c}`,...r)}}function Dn(c){if("string"==typeof c)return c;try{return JSON.stringify(c)}catch{return c}}function Tt(c="Unexpected state"){const e=`FIRESTORE (${Ze}) INTERNAL ASSERTION FAILED: `+c;throw Nt(e),new Error(e)}function Ke(c,e){c||Tt()}function ut(c,e){c||Tt()}function Le(c,e){return c}const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends _e.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ie{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Pe{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class je{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(tt.UNAUTHENTICATED))}shutdown(){}}class ot{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class vt{constructor(e){this.t=e,this.currentUser=tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;let u=this.i;const m=J=>this.i!==u?(u=this.i,r(J)):Promise.resolve();let I=new Ie;this.o=()=>{this.i++,this.currentUser=this.u(),I.resolve(),I=new Ie,e.enqueueRetryable(()=>m(this.currentUser))};const P=()=>{const J=I;e.enqueueRetryable((0,f.Z)(function*(){yield J.promise,yield m(s.currentUser)}))},L=J=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=J,this.auth.addAuthTokenListener(this.o),P()};this.t.onInit(J=>L(J)),setTimeout(()=>{if(!this.auth){const J=this.t.getImmediate({optional:!0});J?L(J):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),I.resolve(),I=new Ie)}},0),P()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke("string"==typeof s.accessToken),new Pe(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ke(null===e||"string"==typeof e),new tt(e)}}class Bt{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=tt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Zt{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new Bt(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Wt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const s=m=>{null!=m.error&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const I=m.token!==this.R;return this.R=m.token,Ee("FirebaseAppCheckTokenProvider",`Received ${I?"new":"existing"} token.`),I?r(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>s(m))};const u=m=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.A.onInit(m=>u(m)),setTimeout(()=>{if(!this.appCheck){const m=this.A.getImmediate({optional:!0});m?u(m):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Ke("string"==typeof r.token),this.R=r.token,new Wt(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Pn(c){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(c);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<c;s++)r[s]=Math.floor(256*Math.random());return r}class On{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=Pn(40);for(let m=0;m<u.length;++m)s.length<20&&u[m]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[m]%62))}return s}}function on(c,e){return c<e?-1:c>e?1:0}function Nn(c,e,r){return c.length===e.length&&c.every((s,u)=>r(s,e[u]))}function pr(c){return c+"\0"}class Yn{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new te(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new te(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new te(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Yn.fromMillis(Date.now())}static fromDate(e){return Yn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new Yn(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?on(this.nanoseconds,e.nanoseconds):on(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Qt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Qt(e)}static min(){return new Qt(new Yn(0,0))}static max(){return new Qt(new Yn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Hr{constructor(e,r,s){void 0===r?r=0:r>e.length&&Tt(),void 0===s?s=e.length-r:s>e.length-r&&Tt(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===Hr.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Hr?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let u=0;u<s;u++){const m=e.get(u),I=r.get(u);if(m<I)return-1;if(m>I)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class xn extends Hr{construct(e,r,s){return new xn(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new te(we.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(u=>u.length>0))}return new xn(r)}static emptyPath(){return new xn([])}}const Rr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rr extends Hr{construct(e,r,s){return new rr(e,r,s)}static isValidIdentifier(e){return Rr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new rr(["__name__"])}static fromServerFormat(e){const r=[];let s="",u=0;const m=()=>{if(0===s.length)throw new te(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let I=!1;for(;u<e.length;){const P=e[u];if("\\"===P){if(u+1===e.length)throw new te(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const L=e[u+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new te(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=L,u+=2}else"`"===P?(I=!I,u++):"."!==P||I?(s+=P,u++):(m(),u++)}if(m(),I)throw new te(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rr(r)}static emptyPath(){return new rr([])}}class Yt{constructor(e){this.path=e}static fromPath(e){return new Yt(xn.fromString(e))}static fromName(e){return new Yt(xn.fromString(e).popFirst(5))}static empty(){return new Yt(xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===xn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return xn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Yt(new xn(e.slice()))}}class In{constructor(e,r,s,u){this.indexId=e,this.collectionGroup=r,this.fields=s,this.indexState=u}}function Un(c){return c.fields.find(e=>2===e.kind)}function Hn(c){return c.fields.filter(e=>2!==e.kind)}In.UNKNOWN_ID=-1;class Tr{constructor(e,r){this.fieldPath=e,this.kind=r}}class Wn{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Wn(0,gn.min())}}function Yr(c,e){const r=c.toTimestamp().seconds,s=c.toTimestamp().nanoseconds+1,u=Qt.fromTimestamp(1e9===s?new Yn(r+1,0):new Yn(r,s));return new gn(u,Yt.empty(),e)}function yi(c){return new gn(c.readTime,c.key,-1)}class gn{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new gn(Qt.min(),Yt.empty(),-1)}static max(){return new gn(Qt.max(),Yt.empty(),-1)}}function Ur(c,e){let r=c.readTime.compareTo(e.readTime);return 0!==r?r:(r=Yt.comparator(c.documentKey,e.documentKey),0!==r?r:on(c.largestBatchId,e.largestBatchId))}const sr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Or{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Mr(c){return ri.apply(this,arguments)}function ri(){return(ri=(0,f.Z)(function*(c){if(c.code!==we.FAILED_PRECONDITION||c.message!==sr)throw c;Ee("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class at{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new at((s,u)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(s,u)},this.catchCallback=m=>{this.wrapFailure(r,m).next(s,u)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof at?r:at.resolve(r)}catch(r){return at.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):at.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):at.reject(r)}static resolve(e){return new at((r,s)=>{r(e)})}static reject(e){return new at((r,s)=>{s(e)})}static waitFor(e){return new at((r,s)=>{let u=0,m=0,I=!1;e.forEach(P=>{++u,P.next(()=>{++m,I&&m===u&&r()},L=>s(L))}),I=!0,m===u&&r()})}static or(e){let r=at.resolve(!1);for(const s of e)r=r.next(u=>u?at.resolve(u):s());return r}static forEach(e,r){const s=[];return e.forEach((u,m)=>{s.push(r.call(this,u,m))}),this.waitFor(s)}static mapArray(e,r){return new at((s,u)=>{const m=e.length,I=new Array(m);let P=0;for(let L=0;L<m;L++){const J=L;r(e[J]).next(he=>{I[J]=he,++P,P===m&&s(I)},he=>u(he))}})}static doWhile(e,r){return new at((s,u)=>{const m=()=>{!0===e()?r().next(()=>{m()},u):s()};m()})}}class wt{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Ie,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new tn(e,r.error)):this.V.resolve()},this.transaction.onerror=s=>{const u=ce(s.target.error);this.V.reject(new tn(e,u))}}static open(e,r,s,u){try{return new wt(r,e.transaction(u,s))}catch(m){throw new tn(r,m)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ee("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new hi(r)}}class ue{constructor(e,r,s){this.name=e,this.version=r,this.p=s,12.2===ue.S((0,_e.z$)())&&Nt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ee("SimpleDb","Removing database:",e),wr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,_e.hl)())return!1;if(ue.C())return!0;const e=(0,_e.z$)(),r=ue.S(e),s=0<r&&r<10,u=Be(e),m=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||m)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(e){var r=this;return(0,f.Z)(function*(){return r.db||(Ee("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,u)=>{const m=indexedDB.open(r.name,r.version);m.onsuccess=I=>{s(I.target.result)},m.onblocked=()=>{u(new tn(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=I=>{const P=I.target.error;u("VersionError"===P.name?new te(we.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===P.name?new te(we.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+P):new tn(e,P))},m.onupgradeneeded=I=>{Ee("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',I.oldVersion),r.p.O(I.target.result,m.transaction,I.oldVersion,r.version).next(()=>{Ee("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=s=>r.N(s)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,s,u){var m=this;return(0,f.Z)(function*(){const I="readonly"===r;let P=0;for(;;){++P;try{m.db=yield m.M(e);const L=wt.open(m.db,e,I?"readonly":"readwrite",s),J=u(L).next(he=>(L.g(),he)).catch(he=>(L.abort(he),at.reject(he))).toPromise();return J.catch(()=>{}),yield L.m,J}catch(L){const J=L,he="FirebaseError"!==J.name&&P<3;if(Ee("SimpleDb","Transaction failed with error:",J.message,"Retrying:",he),m.close(),!he)return Promise.reject(J)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Be(c){const e=c.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class xt{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return wr(this.B.delete())}}class tn extends te{constructor(e,r){super(we.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function zn(c){return"IndexedDbTransactionError"===c.name}class hi{constructor(e){this.store=e}put(e,r){let s;return void 0!==r?(Ee("SimpleDb","PUT",this.store.name,e,r),s=this.store.put(r,e)):(Ee("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),wr(s)}add(e){return Ee("SimpleDb","ADD",this.store.name,e,e),wr(this.store.add(e))}get(e){return wr(this.store.get(e)).next(r=>(void 0===r&&(r=null),Ee("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return Ee("SimpleDb","DELETE",this.store.name,e),wr(this.store.delete(e))}count(){return Ee("SimpleDb","COUNT",this.store.name),wr(this.store.count())}U(e,r){const s=this.options(e,r),u=s.index?this.store.index(s.index):this.store;if("function"==typeof u.getAll){const m=u.getAll(s.range);return new at((I,P)=>{m.onerror=L=>{P(L.target.error)},m.onsuccess=L=>{I(L.target.result)}})}{const m=this.cursor(s),I=[];return this.W(m,(P,L)=>{I.push(L)}).next(()=>I)}}G(e,r){const s=this.store.getAll(e,null===r?void 0:r);return new at((u,m)=>{s.onerror=I=>{m(I.target.error)},s.onsuccess=I=>{u(I.target.result)}})}j(e,r){Ee("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,r);s.H=!1;const u=this.cursor(s);return this.W(u,(m,I,P)=>P.delete())}J(e,r){let s;r?s=e:(s={},r=e);const u=this.cursor(s);return this.W(u,r)}Y(e){const r=this.cursor({});return new at((s,u)=>{r.onerror=m=>{const I=ce(m.target.error);u(I)},r.onsuccess=m=>{const I=m.target.result;I?e(I.primaryKey,I.value).next(P=>{P?I.continue():s()}):s()}})}W(e,r){const s=[];return new at((u,m)=>{e.onerror=I=>{m(I.target.error)},e.onsuccess=I=>{const P=I.target.result;if(!P)return void u();const L=new xt(P),J=r(P.primaryKey,P.value,L);if(J instanceof at){const he=J.catch(Me=>(L.done(),at.reject(Me)));s.push(he)}L.isDone?u():null===L.K?P.continue():P.continue(L.K)}}).next(()=>at.waitFor(s))}options(e,r){let s;return void 0!==e&&("string"==typeof e?s=e:r=e),{index:s,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const s=this.store.index(e.index);return e.H?s.openKeyCursor(e.range,r):s.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function wr(c){return new at((e,r)=>{c.onsuccess=s=>{e(s.target.result)},c.onerror=s=>{const u=ce(s.target.error);r(u)}})}let qe=!1;function ce(c){const e=ue.S((0,_e.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(c.message.indexOf(r)>=0){const s=new te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return qe||(qe=!0,setTimeout(()=>{throw s},0)),s}}return c}class K{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;Ee("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,f.Z)(function*(){r.task=null;try{Ee("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(s){zn(s)?Ee("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield Mr(s)}yield r.X(6e4)}))}}class H{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,f.Z)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>r.te(s,e))})()}te(e,r){const s=new Set;let u=r,m=!0;return at.doWhile(()=>!0===m&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(I=>{if(null!==I&&!s.has(I))return Ee("IndexBackfiller",`Processing collection: ${I}`),this.ne(e,I,u).next(P=>{u-=P,s.add(I)});m=!1})).next(()=>r-u)}ne(e,r,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(u=>this.localStore.localDocuments.getNextDocuments(e,r,u,s).next(m=>{const I=m.changes;return this.localStore.indexManager.updateIndexEntries(e,I).next(()=>this.re(u,m)).next(P=>(Ee("IndexBackfiller",`Updating offset: ${P}`),this.localStore.indexManager.updateCollectionGroup(e,r,P))).next(()=>I.size)}))}re(e,r){let s=e;return r.changes.forEach((u,m)=>{const I=yi(m);Ur(I,s)>0&&(s=I)}),new gn(s.readTime,s.documentKey,Math.max(r.batchId,e.largestBatchId))}}let B=(()=>{class c{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=u=>this.ie(u),this.se=u=>s.writeSequenceNumber(u))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return c.oe=-1,c})();function Te(c){return null==c}function Xe(c){return 0===c&&1/c==-1/0}function kt(c){return"number"==typeof c&&Number.isInteger(c)&&!Xe(c)&&c<=Number.MAX_SAFE_INTEGER&&c>=Number.MIN_SAFE_INTEGER}function $t(c){let e="";for(let r=0;r<c.length;r++)e.length>0&&(e=an(e)),e=mn(c.get(r),e);return an(e)}function mn(c,e){let r=e;const s=c.length;for(let u=0;u<s;u++){const m=c.charAt(u);switch(m){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=m}}return r}function an(c){return c+"\x01\x01"}function fn(c){const e=c.length;if(Ke(e>=2),2===e)return Ke("\x01"===c.charAt(0)&&"\x01"===c.charAt(1)),xn.emptyPath();const r=e-2,s=[];let u="";for(let m=0;m<e;){const I=c.indexOf("\x01",m);switch((I<0||I>r)&&Tt(),c.charAt(I+1)){case"\x01":const P=c.substring(m,I);let L;0===u.length?L=P:(u+=P,L=u,u=""),s.push(L);break;case"\x10":u+=c.substring(m,I),u+="\0";break;case"\x11":u+=c.substring(m,I+1);break;default:Tt()}m=I+2}return new xn(s)}const Jn=["userId","batchId"];function Je(c,e){return[c,$t(e)]}function He(c,e,r){return[c,$t(e),r]}const nt={},jt=["prefixPath","collectionGroup","readTime","documentId"],Xt=["prefixPath","collectionGroup","documentId"],En=["collectionGroup","readTime","prefixPath","documentId"],cn=["canonicalId","targetId"],hr=["targetId","path"],yn=["path","targetId"],yt=["collectionId","parent"],ft=["indexId","uid"],Ft=["uid","sequenceNumber"],un=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ln=["indexId","uid","orderedDocumentKey"],Vn=["userId","collectionPath","documentId"],vn=["userId","collectionPath","largestBatchId"],$n=["userId","collectionGroup","largestBatchId"],Pr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],fi=[...Pr,"documentOverlays"],ei=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ur=ei,xi=[...ur,"indexConfiguration","indexState","indexEntries"],gi=xi;class lo extends Or{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function zr(c,e){const r=Le(c);return ue.F(r._e,e)}function ts(c){let e=0;for(const r in c)Object.prototype.hasOwnProperty.call(c,r)&&e++;return e}function go(c,e){for(const r in c)Object.prototype.hasOwnProperty.call(c,r)&&e(r,c[r])}function Qo(c){for(const e in c)if(Object.prototype.hasOwnProperty.call(c,e))return!1;return!0}class ii{constructor(e,r){this.comparator=e,this.root=r||Ni.EMPTY}insert(e,r){return new ii(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Ni.BLACK,null,null))}remove(e){return new ii(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ni.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(0===u)return r+s.left.size;u<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wa(this.root,e,this.comparator,!1)}getReverseIterator(){return new wa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wa(this.root,e,this.comparator,!0)}}class wa{constructor(e,r,s,u){this.isReverse=u,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=r?s(e.key,r):1,r&&u&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ni{constructor(e,r,s,u,m){this.key=e,this.value=r,this.color=s??Ni.RED,this.left=u??Ni.EMPTY,this.right=m??Ni.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,u,m){return new Ni(e??this.key,r??this.value,s??this.color,u??this.left,m??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let u=this;const m=s(e,u.key);return u=m<0?u.copy(null,null,null,u.left.insert(e,r,s),null):0===m?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(e,r,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Ni.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,u=this;if(r(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(e,u.key)){if(u.right.isEmpty())return Ni.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ni.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ni.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Tt();const e=this.left.check();if(e!==this.right.check())throw Tt();return e+(this.isRed()?0:1)}}Ni.EMPTY=null,Ni.RED=!0,Ni.BLACK=!1,Ni.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt()}get value(){throw Tt()}get color(){throw Tt()}get left(){throw Tt()}get right(){throw Tt()}copy(e,r,s,u,m){return this}insert(e,r,s){return new Ni(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jr{constructor(e){this.comparator=e,this.data=new ii(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;r(u.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new zs(this.data.getIterator())}getIteratorFrom(e){return new zs(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof Jr)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,m=s.getNext().key;if(0!==this.comparator(u,m))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Jr(this.comparator);return r.data=e,r}}class zs{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function jo(c){return c.hasNext()?c.getNext():void 0}class Hi{constructor(e){this.fields=e,e.sort(rr.comparator)}static empty(){return new Hi([])}unionWith(e){let r=new Jr(rr.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new Hi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Nn(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class Gi extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Ts(){return typeof atob<"u"}class Pi{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(u){try{return atob(u)}catch(m){throw typeof DOMException<"u"&&m instanceof DOMException?new Gi("Invalid base64 string: "+m):m}}(e);return new Pi(r)}static fromUint8Array(e){const r=function(u){let m="";for(let I=0;I<u.length;++I)m+=String.fromCharCode(u[I]);return m}(e);return new Pi(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let u=0;u<r.length;u++)s[u]=r.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return on(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pi.EMPTY_BYTE_STRING=new Pi("");const $s=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wo(c){if(Ke(!!c),"string"==typeof c){let e=0;const r=$s.exec(c);if(Ke(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(c);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ei(c.seconds),nanos:Ei(c.nanos)}}function Ei(c){return"number"==typeof c?c:"string"==typeof c?Number(c):0}function mo(c){return"string"==typeof c?Pi.fromBase64String(c):Pi.fromUint8Array(c)}function Zo(c){var e,r;return"server_timestamp"===(null===(r=((null===(e=c?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function ns(c){const e=c.mapValue.fields.__previous_value__;return Zo(e)?ns(e):e}function no(c){const e=wo(c.mapValue.fields.__local_write_time__.timestampValue);return new Yn(e.seconds,e.nanos)}class gs{constructor(e,r,s,u,m,I,P,L,J){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=u,this.ssl=m,this.forceLongPolling=I,this.autoDetectLongPolling=P,this.longPollingOptions=L,this.useFetchStreams=J}}class qn{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new qn("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof qn&&e.projectId===this.projectId&&e.database===this.database}}const Wr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},oi={nullValue:"NULL_VALUE"};function zi(c){return"nullValue"in c?0:"booleanValue"in c?1:"integerValue"in c||"doubleValue"in c?2:"timestampValue"in c?3:"stringValue"in c?5:"bytesValue"in c?6:"referenceValue"in c?7:"geoPointValue"in c?8:"arrayValue"in c?9:"mapValue"in c?Zo(c)?4:si(c)?9007199254740991:10:Tt()}function Xr(c,e){if(c===e)return!0;const r=zi(c);if(r!==zi(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return c.booleanValue===e.booleanValue;case 4:return no(c).isEqual(no(e));case 3:return function(u,m){if("string"==typeof u.timestampValue&&"string"==typeof m.timestampValue&&u.timestampValue.length===m.timestampValue.length)return u.timestampValue===m.timestampValue;const I=wo(u.timestampValue),P=wo(m.timestampValue);return I.seconds===P.seconds&&I.nanos===P.nanos}(c,e);case 5:return c.stringValue===e.stringValue;case 6:return m=e,mo(c.bytesValue).isEqual(mo(m.bytesValue));case 7:return c.referenceValue===e.referenceValue;case 8:return function(u,m){return Ei(u.geoPointValue.latitude)===Ei(m.geoPointValue.latitude)&&Ei(u.geoPointValue.longitude)===Ei(m.geoPointValue.longitude)}(c,e);case 2:return function(u,m){if("integerValue"in u&&"integerValue"in m)return Ei(u.integerValue)===Ei(m.integerValue);if("doubleValue"in u&&"doubleValue"in m){const I=Ei(u.doubleValue),P=Ei(m.doubleValue);return I===P?Xe(I)===Xe(P):isNaN(I)&&isNaN(P)}return!1}(c,e);case 9:return Nn(c.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:return function(u,m){const I=u.mapValue.fields||{},P=m.mapValue.fields||{};if(ts(I)!==ts(P))return!1;for(const L in I)if(I.hasOwnProperty(L)&&(void 0===P[L]||!Xr(I[L],P[L])))return!1;return!0}(c,e);default:return Tt()}var m}function ro(c,e){return void 0!==(c.values||[]).find(r=>Xr(r,e))}function io(c,e){if(c===e)return 0;const r=zi(c),s=zi(e);if(r!==s)return on(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return on(c.booleanValue,e.booleanValue);case 2:return function(m,I){const P=Ei(m.integerValue||m.doubleValue),L=Ei(I.integerValue||I.doubleValue);return P<L?-1:P>L?1:P===L?0:isNaN(P)?isNaN(L)?0:-1:1}(c,e);case 3:return ws(c.timestampValue,e.timestampValue);case 4:return ws(no(c),no(e));case 5:return on(c.stringValue,e.stringValue);case 6:return function(m,I){const P=mo(m),L=mo(I);return P.compareTo(L)}(c.bytesValue,e.bytesValue);case 7:return function(m,I){const P=m.split("/"),L=I.split("/");for(let J=0;J<P.length&&J<L.length;J++){const he=on(P[J],L[J]);if(0!==he)return he}return on(P.length,L.length)}(c.referenceValue,e.referenceValue);case 8:return function(m,I){const P=on(Ei(m.latitude),Ei(I.latitude));return 0!==P?P:on(Ei(m.longitude),Ei(I.longitude))}(c.geoPointValue,e.geoPointValue);case 9:return function(m,I){const P=m.values||[],L=I.values||[];for(let J=0;J<P.length&&J<L.length;++J){const he=io(P[J],L[J]);if(he)return he}return on(P.length,L.length)}(c.arrayValue,e.arrayValue);case 10:return function(m,I){if(m===Wr.mapValue&&I===Wr.mapValue)return 0;if(m===Wr.mapValue)return 1;if(I===Wr.mapValue)return-1;const P=m.fields||{},L=Object.keys(P),J=I.fields||{},he=Object.keys(J);L.sort(),he.sort();for(let Me=0;Me<L.length&&Me<he.length;++Me){const et=on(L[Me],he[Me]);if(0!==et)return et;const Ct=io(P[L[Me]],J[he[Me]]);if(0!==Ct)return Ct}return on(L.length,he.length)}(c.mapValue,e.mapValue);default:throw Tt()}}function ws(c,e){if("string"==typeof c&&"string"==typeof e&&c.length===e.length)return on(c,e);const r=wo(c),s=wo(e),u=on(r.seconds,s.seconds);return 0!==u?u:on(r.nanos,s.nanos)}function _o(c){return Ho(c)}function Ho(c){return"nullValue"in c?"null":"booleanValue"in c?""+c.booleanValue:"integerValue"in c?""+c.integerValue:"doubleValue"in c?""+c.doubleValue:"timestampValue"in c?function(r){const s=wo(r);return`time(${s.seconds},${s.nanos})`}(c.timestampValue):"stringValue"in c?c.stringValue:"bytesValue"in c?mo(c.bytesValue).toBase64():"referenceValue"in c?Yt.fromName(c.referenceValue).toString():"geoPointValue"in c?function(r){return`geo(${r.latitude},${r.longitude})`}(c.geoPointValue):"arrayValue"in c?function(r){let s="[",u=!0;for(const m of r.values||[])u?u=!1:s+=",",s+=Ho(m);return s+"]"}(c.arrayValue):"mapValue"in c?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",m=!0;for(const I of s)m?m=!1:u+=",",u+=`${I}:${Ho(r.fields[I])}`;return u+"}"}(c.mapValue):Tt()}function _n(c,e){return{referenceValue:`projects/${c.projectId}/databases/${c.database}/documents/${e.path.canonicalString()}`}}function Xn(c){return!!c&&"integerValue"in c}function Nr(c){return!!c&&"arrayValue"in c}function ki(c){return!!c&&"nullValue"in c}function oo(c){return!!c&&"doubleValue"in c&&isNaN(Number(c.doubleValue))}function ai(c){return!!c&&"mapValue"in c}function Do(c){if(c.geoPointValue)return{geoPointValue:Object.assign({},c.geoPointValue)};if(c.timestampValue&&"object"==typeof c.timestampValue)return{timestampValue:Object.assign({},c.timestampValue)};if(c.mapValue){const e={mapValue:{fields:{}}};return go(c.mapValue.fields,(r,s)=>e.mapValue.fields[r]=Do(s)),e}if(c.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(c.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Do(c.arrayValue.values[r]);return e}return Object.assign({},c)}function si(c){return"__max__"===(((c.mapValue||{}).fields||{}).__type__||{}).stringValue}function so(c){return"nullValue"in c?oi:"booleanValue"in c?{booleanValue:!1}:"integerValue"in c||"doubleValue"in c?{doubleValue:NaN}:"timestampValue"in c?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in c?{stringValue:""}:"bytesValue"in c?{bytesValue:""}:"referenceValue"in c?_n(qn.empty(),Yt.empty()):"geoPointValue"in c?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in c?{arrayValue:{}}:"mapValue"in c?{mapValue:{}}:Tt()}function vo(c){return"nullValue"in c?{booleanValue:!1}:"booleanValue"in c?{doubleValue:NaN}:"integerValue"in c||"doubleValue"in c?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in c?{stringValue:""}:"stringValue"in c?{bytesValue:""}:"bytesValue"in c?_n(qn.empty(),Yt.empty()):"referenceValue"in c?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in c?{arrayValue:{}}:"arrayValue"in c?{mapValue:{}}:"mapValue"in c?Wr:Tt()}function nr(c,e){const r=io(c.value,e.value);return 0!==r?r:c.inclusive&&!e.inclusive?-1:!c.inclusive&&e.inclusive?1:0}function So(c,e){const r=io(c.value,e.value);return 0!==r?r:c.inclusive&&!e.inclusive?1:!c.inclusive&&e.inclusive?-1:0}class ci{constructor(e){this.value=e}static empty(){return new ci({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!ai(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Do(r)}setAll(e){let r=rr.emptyPath(),s={},u=[];e.forEach((I,P)=>{if(!r.isImmediateParentOf(P)){const L=this.getFieldsMap(r);this.applyChanges(L,s,u),s={},u=[],r=P.popLast()}I?s[P.lastSegment()]=Do(I):u.push(P.lastSegment())});const m=this.getFieldsMap(r);this.applyChanges(m,s,u)}delete(e){const r=this.field(e.popLast());ai(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=r.mapValue.fields[e.get(s)];ai(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=u),r=u}return r.mapValue.fields}applyChanges(e,r,s){go(r,(u,m)=>e[u]=m);for(const u of s)delete e[u]}clone(){return new ci(Do(this.value))}}function re(c){const e=[];return go(c.fields,(r,s)=>{const u=new rr([r]);if(ai(s)){const m=re(s.mapValue).fields;if(0===m.length)e.push(u);else for(const I of m)e.push(u.child(I))}else e.push(u)}),new Hi(e)}class Y{constructor(e,r,s,u,m,I,P){this.key=e,this.documentType=r,this.version=s,this.readTime=u,this.createTime=m,this.data=I,this.documentState=P}static newInvalidDocument(e){return new Y(e,0,Qt.min(),Qt.min(),Qt.min(),ci.empty(),0)}static newFoundDocument(e,r,s,u){return new Y(e,1,r,Qt.min(),s,u,0)}static newNoDocument(e,r){return new Y(e,2,r,Qt.min(),Qt.min(),ci.empty(),0)}static newUnknownDocument(e,r){return new Y(e,3,r,Qt.min(),Qt.min(),ci.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Qt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ci.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Y&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Y(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ke{constructor(e,r){this.position=e,this.inclusive=r}}function $e(c,e,r){let s=0;for(let u=0;u<c.position.length;u++){const m=e[u],I=c.position[u];if(s=m.field.isKeyField()?Yt.comparator(Yt.fromName(I.referenceValue),r.key):io(I,r.data.field(m.field)),"desc"===m.dir&&(s*=-1),0!==s)break}return s}function ht(c,e){if(null===c)return null===e;if(null===e||c.inclusive!==e.inclusive||c.position.length!==e.position.length)return!1;for(let r=0;r<c.position.length;r++)if(!Xr(c.position[r],e.position[r]))return!1;return!0}class Lt{constructor(e,r="asc"){this.field=e,this.dir=r}}function pn(c,e){return c.dir===e.dir&&c.field.isEqual(e.field)}class Sn{}class Kt extends Sn{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new ho(e,r,s):"array-contains"===r?new Ii(e,s):"in"===r?new ms(e,s):"not-in"===r?new ao(e,s):"array-contains-any"===r?new Oo(e,s):new Kt(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new yr(e,s):new Ri(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(io(r,this.value)):null!==r&&zi(this.value)===zi(r)&&this.matchesComparison(io(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Tt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class An extends Sn{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new An(e,r)}matches(e){return mr(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function mr(c){return"and"===c.op}function Bn(c){return"or"===c.op}function Ai(c){return Zr(c)&&mr(c)}function Zr(c){for(const e of c.filters)if(e instanceof An)return!1;return!0}function kr(c){if(c instanceof Kt)return c.field.canonicalString()+c.op.toString()+_o(c.value);if(Ai(c))return c.filters.map(e=>kr(e)).join(",");{const e=c.filters.map(r=>kr(r)).join(",");return`${c.op}(${e})`}}function mi(c,e){return c instanceof Kt?(s=c,(u=e)instanceof Kt&&s.op===u.op&&s.field.isEqual(u.field)&&Xr(s.value,u.value)):c instanceof An?function(s,u){return u instanceof An&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((m,I,P)=>m&&mi(I,u.filters[P]),!0)}(c,e):void Tt();var s,u}function Br(c,e){const r=c.filters.concat(e);return An.create(r,c.op)}function uo(c){return c instanceof Kt?`${(r=c).field.canonicalString()} ${r.op} ${_o(r.value)}`:c instanceof An?function(r){return r.op.toString()+" {"+r.getFilters().map(uo).join(" ,")+"}"}(c):"Filter";var r}class ho extends Kt{constructor(e,r,s){super(e,r,s),this.key=Yt.fromName(s.referenceValue)}matches(e){const r=Yt.comparator(e.key,this.key);return this.matchesComparison(r)}}class yr extends Kt{constructor(e,r){super(e,"in",r),this.keys=Kr(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Ri extends Kt{constructor(e,r){super(e,"not-in",r),this.keys=Kr(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Kr(c,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>Yt.fromName(s.referenceValue))}class Ii extends Kt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Nr(r)&&ro(r.arrayValue,this.value)}}class ms extends Kt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&ro(this.value.arrayValue,r)}}class ao extends Kt{constructor(e,r){super(e,"not-in",r)}matches(e){if(ro(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!ro(this.value.arrayValue,r)}}class Oo extends Kt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Nr(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>ro(this.value.arrayValue,s))}}class qi{constructor(e,r=null,s=[],u=[],m=null,I=null,P=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=u,this.limit=m,this.startAt=I,this.endAt=P,this.ue=null}}function Da(c,e=null,r=[],s=[],u=null,m=null,I=null){return new qi(c,e,r,s,u,m,I)}function No(c){const e=Le(c);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>kr(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(m=s).field.canonicalString()+m.dir;var m}).join(","),Te(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>_o(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>_o(s)).join(",")),e.ue=r}return e.ue}function Ds(c,e){if(c.limit!==e.limit||c.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<c.orderBy.length;r++)if(!pn(c.orderBy[r],e.orderBy[r]))return!1;if(c.filters.length!==e.filters.length)return!1;for(let r=0;r<c.filters.length;r++)if(!mi(c.filters[r],e.filters[r]))return!1;return c.collectionGroup===e.collectionGroup&&!!c.path.isEqual(e.path)&&!!ht(c.startAt,e.startAt)&&ht(c.endAt,e.endAt)}function Xa(c){return Yt.isDocumentKey(c.path)&&null===c.collectionGroup&&0===c.filters.length}function Zs(c,e){return c.filters.filter(r=>r instanceof Kt&&r.field.isEqual(e))}function Q(c,e,r){let s=oi,u=!0;for(const m of Zs(c,e)){let I=oi,P=!0;switch(m.op){case"<":case"<=":I=so(m.value);break;case"==":case"in":case">=":I=m.value;break;case">":I=m.value,P=!1;break;case"!=":case"not-in":I=oi}nr({value:s,inclusive:u},{value:I,inclusive:P})<0&&(s=I,u=P)}if(null!==r)for(let m=0;m<c.orderBy.length;++m)if(c.orderBy[m].field.isEqual(e)){const I=r.position[m];nr({value:s,inclusive:u},{value:I,inclusive:r.inclusive})<0&&(s=I,u=r.inclusive);break}return{value:s,inclusive:u}}function ie(c,e,r){let s=Wr,u=!0;for(const m of Zs(c,e)){let I=Wr,P=!0;switch(m.op){case">=":case">":I=vo(m.value),P=!1;break;case"==":case"in":case"<=":I=m.value;break;case"<":I=m.value,P=!1;break;case"!=":case"not-in":I=Wr}So({value:s,inclusive:u},{value:I,inclusive:P})>0&&(s=I,u=P)}if(null!==r)for(let m=0;m<c.orderBy.length;++m)if(c.orderBy[m].field.isEqual(e)){const I=r.position[m];So({value:s,inclusive:u},{value:I,inclusive:r.inclusive})>0&&(s=I,u=r.inclusive);break}return{value:s,inclusive:u}}class F{constructor(e,r=null,s=[],u=[],m=null,I="F",P=null,L=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=u,this.limit=m,this.limitType=I,this.startAt=P,this.endAt=L,this.ce=null,this.le=null,this.he=null}}function ge(c,e,r,s,u,m,I,P){return new F(c,e,r,s,u,m,I,P)}function ze(c){return new F(c)}function Fn(c){return 0===c.filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())}function _r(c){return null!==c.collectionGroup}function fo(c){const e=Le(c);if(null===e.ce){e.ce=[];const r=new Set;for(const m of e.explicitOrderBy)e.ce.push(m),r.add(m.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(I){let P=new Jr(rr.comparator);return I.filters.forEach(L=>{L.getFlattenedFilters().forEach(J=>{J.isInequality()&&(P=P.add(J.field))})}),P})(e).forEach(m=>{r.has(m.canonicalString())||m.isKeyField()||e.ce.push(new Lt(m,s))}),r.has(rr.keyField().canonicalString())||e.ce.push(new Lt(rr.keyField(),s))}return e.ce}function _i(c){const e=Le(c);return e.le||(e.le=function jl(c,e){if("F"===c.limitType)return Da(c.path,c.collectionGroup,e,c.filters,c.limit,c.startAt,c.endAt);{e=e.map(u=>new Lt(u.field,"desc"===u.dir?"asc":"desc"));const r=c.endAt?new ke(c.endAt.position,c.endAt.inclusive):null,s=c.startAt?new ke(c.startAt.position,c.startAt.inclusive):null;return Da(c.path,c.collectionGroup,e,c.filters,c.limit,r,s)}}(e,fo(c))),e.le}function bc(c,e){const r=c.filters.concat([e]);return new F(c.path,c.collectionGroup,c.explicitOrderBy.slice(),r,c.limit,c.limitType,c.startAt,c.endAt)}function ec(c,e,r){return new F(c.path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),e,r,c.startAt,c.endAt)}function Ma(c,e){return Ds(_i(c),_i(e))&&c.limitType===e.limitType}function Cc(c){return`${No(_i(c))}|lt:${c.limitType}`}function Pa(c){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(u=>uo(u)).join(", ")}]`),Te(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(u=>{return`${(I=u).field.canonicalString()} (${I.dir})`;var I}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(u=>_o(u)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(u=>_o(u)).join(",")),`Target(${s})`}(_i(c))}; limitType=${c.limitType})`}function da(c,e){return e.isFoundDocument()&&function(s,u){const m=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(m):Yt.isDocumentKey(s.path)?s.path.isEqual(m):s.path.isImmediateParentOf(m)}(c,e)&&function(s,u){for(const m of fo(s))if(!m.field.isKeyField()&&null===u.data.field(m.field))return!1;return!0}(c,e)&&function(s,u){for(const m of s.filters)if(!m.matches(u))return!1;return!0}(c,e)&&(u=e,!((s=c).startAt&&!function(I,P,L){const J=$e(I,P,L);return I.inclusive?J<=0:J<0}(s.startAt,fo(s),u)||s.endAt&&!function(I,P,L){const J=$e(I,P,L);return I.inclusive?J>=0:J>0}(s.endAt,fo(s),u)));var s,u}function Tc(c){return c.collectionGroup||(c.path.length%2==1?c.path.lastSegment():c.path.get(c.path.length-2))}function rs(c){return(e,r)=>{let s=!1;for(const u of fo(c)){const m=is(u,e,r);if(0!==m)return m;s=s||u.field.isKeyField()}return 0}}function is(c,e,r){const s=c.field.isKeyField()?Yt.comparator(e.key,r.key):function(m,I,P){const L=I.data.field(m),J=P.data.field(m);return null!==L&&null!==J?io(L,J):Tt()}(c.field,e,r);switch(c.dir){case"asc":return s;case"desc":return-1*s;default:return Tt()}}class yo{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[u,m]of s)if(this.equalsFn(u,e))return m}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),u=this.inner[s];if(void 0===u)return this.inner[s]=[[e,r]],void this.innerSize++;for(let m=0;m<u.length;m++)if(this.equalsFn(u[m][0],e))return void(u[m]=[e,r]);u.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return 1===s.length?delete this.inner[r]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){go(this.inner,(r,s)=>{for(const[u,m]of s)e(u,m)})}isEmpty(){return Qo(this.inner)}size(){return this.innerSize}}const Su=new ii(Yt.comparator);function Vr(){return Su}const ha=new ii(Yt.comparator);function $i(...c){let e=ha;for(const r of c)e=e.insert(r.key,r);return e}function wc(c){let e=ha;return c.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function ko(){return Ss()}function _s(){return Ss()}function Ss(){return new yo(c=>c.toString(),(c,e)=>c.isEqual(e))}const xa=new ii(Yt.comparator),Ra=new Jr(Yt.comparator);function fr(...c){let e=Ra;for(const r of c)e=e.add(r);return e}const Dc=new Jr(on);function ll(){return Dc}function Sc(c,e){if(c.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xe(e)?"-0":e}}function fa(c){return{integerValue:""+c}}function Gs(c,e){return kt(e)?fa(e):Sc(c,e)}class qs{constructor(){this._=void 0}}function pa(c,e,r){return c instanceof Mc?function(u,m){const I={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return m&&Zo(m)&&(m=ns(m)),m&&(I.fields.__previous_value__=m),{mapValue:I}}(r,e):c instanceof Ws?Fd(c,e):c instanceof Ms?hl(c,e):function(u,m){const I=dl(u,m),P=tc(I)+tc(u.Pe);return Xn(I)&&Xn(u.Pe)?fa(P):Sc(u.serializer,P)}(c,e)}function ul(c,e,r){return c instanceof Ws?Fd(c,e):c instanceof Ms?hl(c,e):r}function dl(c,e){return c instanceof Oa?Xn(s=e)||(m=s)&&"doubleValue"in m?e:{integerValue:0}:null;var s,m}class Mc extends qs{}class Ws extends qs{constructor(e){super(),this.elements=e}}function Fd(c,e){const r=Hl(e);for(const s of c.elements)r.some(u=>Xr(u,s))||r.push(s);return{arrayValue:{values:r}}}class Ms extends qs{constructor(e){super(),this.elements=e}}function hl(c,e){let r=Hl(e);for(const s of c.elements)r=r.filter(u=>!Xr(u,s));return{arrayValue:{values:r}}}class Oa extends qs{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function tc(c){return Ei(c.integerValue||c.doubleValue)}function Hl(c){return Nr(c)&&c.arrayValue.values?c.arrayValue.values.slice():[]}class ga{constructor(e,r){this.field=e,this.transform=r}}class fl{constructor(e,r){this.version=e,this.transformResults=r}}class bi{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new bi}static exists(e){return new bi(void 0,e)}static updateTime(e){return new bi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function x(c,e){return void 0!==c.updateTime?e.isFoundDocument()&&e.version.isEqual(c.updateTime):void 0===c.exists||c.exists===e.isFoundDocument()}class oe{}function j(c,e){if(!c.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return c.isNoDocument()?new pi(c.key,bi.none()):new Mn(c.key,c.data,bi.none());{const r=c.data,s=ci.empty();let u=new Jr(rr.comparator);for(let m of e.fields)if(!u.has(m)){let I=r.field(m);null===I&&m.length>1&&(m=m.popLast(),I=r.field(m)),null===I?s.delete(m):s.set(m,I),u=u.add(m)}return new Lr(c.key,s,new Hi(u.toArray()),bi.none())}}function ne(c,e,r){c instanceof Mn?function(u,m,I){const P=u.value.clone(),L=ti(u.fieldTransforms,m,I.transformResults);P.setAll(L),m.convertToFoundDocument(I.version,P).setHasCommittedMutations()}(c,e,r):c instanceof Lr?function(u,m,I){if(!x(u.precondition,m))return void m.convertToUnknownDocument(I.version);const P=ti(u.fieldTransforms,m,I.transformResults),L=m.data;L.setAll(li(u)),L.setAll(P),m.convertToFoundDocument(I.version,L).setHasCommittedMutations()}(c,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Ue(c,e,r,s){return c instanceof Mn?function(m,I,P,L){if(!x(m.precondition,I))return P;const J=m.value.clone(),he=Ir(m.fieldTransforms,L,I);return J.setAll(he),I.convertToFoundDocument(I.version,J).setHasLocalMutations(),null}(c,e,r,s):c instanceof Lr?function(m,I,P,L){if(!x(m.precondition,I))return P;const J=Ir(m.fieldTransforms,L,I),he=I.data;return he.setAll(li(m)),he.setAll(J),I.convertToFoundDocument(I.version,he).setHasLocalMutations(),null===P?null:P.unionWith(m.fieldMask.fields).unionWith(m.fieldTransforms.map(Me=>Me.field))}(c,e,r,s):(P=r,x(c.precondition,I=e)?(I.convertToNoDocument(I.version).setHasLocalMutations(),null):P);var I,P}function Ot(c,e){let r=null;for(const s of c.fieldTransforms){const u=e.data.field(s.field),m=dl(s.transform,u||null);null!=m&&(null===r&&(r=ci.empty()),r.set(s.field,m))}return r||null}function Ht(c,e){return c.type===e.type&&!!c.key.isEqual(e.key)&&!!c.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(s=c.fieldTransforms)&&void 0===u||s&&u&&Nn(s,u,(m,I)=>function Ps(c,e){return c.field.isEqual(e.field)&&(u=e.transform,(s=c.transform)instanceof Ws&&u instanceof Ws||s instanceof Ms&&u instanceof Ms?Nn(s.elements,u.elements,Xr):s instanceof Oa&&u instanceof Oa?Xr(s.Pe,u.Pe):s instanceof Mc&&u instanceof Mc);var s,u}(m,I))))&&(0===c.type?c.value.isEqual(e.value):1!==c.type||c.data.isEqual(e.data)&&c.fieldMask.isEqual(e.fieldMask));var s,u}class Mn extends oe{constructor(e,r,s,u=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Lr extends oe{constructor(e,r,s,u,m=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=u,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function li(c){const e=new Map;return c.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=c.data.field(r);e.set(r,s)}}),e}function ti(c,e,r){const s=new Map;Ke(c.length===r.length);for(let u=0;u<r.length;u++){const m=c[u],I=m.transform,P=e.data.field(m.field);s.set(m.field,ul(I,P,r[u]))}return s}function Ir(c,e,r){const s=new Map;for(const u of c){const m=u.transform,I=r.data.field(u.field);s.set(u.field,pa(m,I,e))}return s}class pi extends oe{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qr extends oe{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Wi{constructor(e,r,s,u){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const m=this.mutations[u];m.key.isEqual(e.key)&&ne(m,e,s[u])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=Ue(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=Ue(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=_s();return this.mutations.forEach(u=>{const m=e.get(u.key),I=m.overlayedDocument;let P=this.applyToLocalView(I,m.mutatedFields);P=r.has(u.key)?null:P;const L=j(I,P);null!==L&&s.set(u.key,L),I.isValidDocument()||I.convertToNoDocument(Qt.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),fr())}isEqual(e){return this.batchId===e.batchId&&Nn(this.mutations,e.mutations,(r,s)=>Ht(r,s))&&Nn(this.baseMutations,e.baseMutations,(r,s)=>Ht(r,s))}}class Mo{constructor(e,r,s,u){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=u}static from(e,r,s){Ke(e.mutations.length===s.length);let u=xa;const m=e.mutations;for(let I=0;I<m.length;I++)u=u.insert(m[I].key,s[I].version);return new Mo(e,r,s,u)}}class Eo{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Go{constructor(e,r){this.count=e,this.unchangedNames=r}}var Ci,cr;function qo(c){switch(c){default:return Tt();case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0}}function zo(c){if(void 0===c)return Nt("GRPC error has no .code"),we.UNKNOWN;switch(c){case Ci.OK:return we.OK;case Ci.CANCELLED:return we.CANCELLED;case Ci.UNKNOWN:return we.UNKNOWN;case Ci.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case Ci.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case Ci.INTERNAL:return we.INTERNAL;case Ci.UNAVAILABLE:return we.UNAVAILABLE;case Ci.UNAUTHENTICATED:return we.UNAUTHENTICATED;case Ci.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case Ci.NOT_FOUND:return we.NOT_FOUND;case Ci.ALREADY_EXISTS:return we.ALREADY_EXISTS;case Ci.PERMISSION_DENIED:return we.PERMISSION_DENIED;case Ci.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case Ci.ABORTED:return we.ABORTED;case Ci.OUT_OF_RANGE:return we.OUT_OF_RANGE;case Ci.UNIMPLEMENTED:return we.UNIMPLEMENTED;case Ci.DATA_LOSS:return we.DATA_LOSS;default:return Tt()}}(cr=Ci||(Ci={}))[cr.OK=0]="OK",cr[cr.CANCELLED=1]="CANCELLED",cr[cr.UNKNOWN=2]="UNKNOWN",cr[cr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cr[cr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cr[cr.NOT_FOUND=5]="NOT_FOUND",cr[cr.ALREADY_EXISTS=6]="ALREADY_EXISTS",cr[cr.PERMISSION_DENIED=7]="PERMISSION_DENIED",cr[cr.UNAUTHENTICATED=16]="UNAUTHENTICATED",cr[cr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cr[cr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cr[cr.ABORTED=10]="ABORTED",cr[cr.OUT_OF_RANGE=11]="OUT_OF_RANGE",cr[cr.UNIMPLEMENTED=12]="UNIMPLEMENTED",cr[cr.INTERNAL=13]="INTERNAL",cr[cr.UNAVAILABLE=14]="UNAVAILABLE",cr[cr.DATA_LOSS=15]="DATA_LOSS";function Pc(){return new TextEncoder}const Qs=new ae([4294967295,4294967295],0);function Fo(c){const e=Pc().encode(c),r=new ve;return r.update(e),new Uint8Array(r.digest())}function Mu(c){const e=new DataView(c.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),m=e.getUint32(12,!0);return[new ae([r,s],0),new ae([u,m],0)]}class xc{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new Ys(`Invalid padding: ${r}`);if(s<0)throw new Ys(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Ys(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new Ys(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=ae.fromNumber(this.Ie)}Ee(e,r,s){let u=e.add(r.multiply(ae.fromNumber(s)));return 1===u.compare(Qs)&&(u=new ae([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=Fo(e),[s,u]=Mu(r);for(let m=0;m<this.hashCount;m++){const I=this.Ee(s,u,m);if(!this.de(I))return!1}return!0}static create(e,r,s){const u=e%8==0?0:8-e%8,m=new Uint8Array(Math.ceil(e/8)),I=new xc(m,u,r);return s.forEach(P=>I.insert(P)),I}insert(e){if(0===this.Ie)return;const r=Fo(e),[s,u]=Mu(r);for(let m=0;m<this.hashCount;m++){const I=this.Ee(s,u,m);this.Ae(I)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class Ys extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lo{constructor(e,r,s,u,m){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const u=new Map;return u.set(e,nc.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new Lo(Qt.min(),u,new ii(on),Vr(),fr())}}class nc{constructor(e,r,s,u,m){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new nc(s,r,fr(),fr(),fr())}}class Rc{constructor(e,r,s,u){this.Re=e,this.removedTargetIds=r,this.key=s,this.Ve=u}}class Ld{constructor(e,r){this.targetId=e,this.me=r}}class Js{constructor(e,r,s=Pi.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=u}}class Xs{constructor(){this.fe=0,this.ge=Vd(),this.pe=Pi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=fr(),r=fr(),s=fr();return this.ge.forEach((u,m)=>{switch(m){case 0:e=e.add(u);break;case 2:r=r.add(u);break;case 1:s=s.add(u);break;default:Tt()}}),new nc(this.pe,this.ye,e,r,s)}ve(){this.we=!1,this.ge=Vd()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class xs{constructor(e){this.Le=e,this.Be=new Map,this.ke=Vr(),this.qe=Pu(),this.Qe=new ii(on)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const s=this.Ge(r);switch(e.state){case 0:this.ze(r)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.ve(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),s.De(e.resumeToken));break;default:Tt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((s,u)=>{this.ze(u)&&r(u)})}He(e){const r=e.targetId,s=e.me.count,u=this.Je(r);if(u){const m=u.target;if(Xa(m))if(0===s){const I=new Yt(m.path);this.Ue(r,I,Y.newNoDocument(I,Qt.min()))}else Ke(1===s);else{const I=this.Ye(r);if(I!==s){const P=this.Ze(e),L=P?this.Xe(P,e,I):1;0!==L&&(this.je(r),this.Qe=this.Qe.insert(r,2===L?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:m=0}=r;let I,P;try{I=mo(s).toUint8Array()}catch(L){if(L instanceof Gi)return Vt("Decoding the base64 bloom filter in existence filter failed ("+L.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw L}try{P=new xc(I,u,m)}catch(L){return Vt(L instanceof Ys?"BloomFilter error: ":"Applying bloom filter failed: ",L),null}return 0===P.Ie?null:P}Xe(e,r,s){return r.me.count===s-this.nt(e,r.targetId)?0:2}nt(e,r){const s=this.Le.getRemoteKeysForTarget(r);let u=0;return s.forEach(m=>{const I=this.Le.tt(),P=`projects/${I.projectId}/databases/${I.database}/documents/${m.path.canonicalString()}`;e.mightContain(P)||(this.Ue(r,m,null),u++)}),u}rt(e){const r=new Map;this.Be.forEach((m,I)=>{const P=this.Je(I);if(P){if(m.current&&Xa(P.target)){const L=new Yt(P.target.path);null!==this.ke.get(L)||this.it(I,L)||this.Ue(I,L,Y.newNoDocument(L,e))}m.be&&(r.set(I,m.Ce()),m.ve())}});let s=fr();this.qe.forEach((m,I)=>{let P=!0;I.forEachWhile(L=>{const J=this.Je(L);return!J||"TargetPurposeLimboResolution"===J.purpose||(P=!1,!1)}),P&&(s=s.add(m))}),this.ke.forEach((m,I)=>I.setReadTime(e));const u=new Lo(e,r,this.Qe,this.ke,s);return this.ke=Vr(),this.qe=Pu(),this.Qe=new ii(on),u}$e(e,r){if(!this.ze(e))return;const s=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,s),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,s){if(!this.ze(e))return;const u=this.Ge(e);this.it(e,r)?u.Fe(r,1):u.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),s&&(this.ke=this.ke.insert(r,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Xs,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Jr(on),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||Ee("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Xs),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Pu(){return new ii(Yt.comparator)}function Vd(){return new ii(Yt.comparator)}const Gh={asc:"ASCENDING",desc:"DESCENDING"},Mg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dr={and:"AND",or:"OR"};class xu{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Oc(c,e){return c.useProto3Json||Te(e)?e:{value:e}}function Na(c,e){return c.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ud(c,e){return c.useProto3Json?e.toBase64():e.toUint8Array()}function Ru(c,e){return Na(c,e.toTimestamp())}function Vi(c){return Ke(!!c),Qt.fromTimestamp(function(r){const s=wo(r);return new Yn(s.seconds,s.nanos)}(c))}function ka(c,e){return Bd(c,e).canonicalString()}function Bd(c,e){const r=(u=c,new xn(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===e?r:r.child(e)}function qh(c){const e=xn.fromString(c);return Ke(Ve(e)),e}function Ou(c,e){return ka(c.databaseId,e.path)}function Rs(c,e){const r=qh(e);if(r.get(1)!==c.databaseId.projectId)throw new te(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+c.databaseId.projectId);if(r.get(3)!==c.databaseId.database)throw new te(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+c.databaseId.database);return new Yt(Nu(r))}function hp(c,e){return ka(c.databaseId,e)}function Gt(c){const e=qh(c);return 4===e.length?xn.emptyPath():Nu(e)}function Gr(c){return new xn(["projects",c.databaseId.projectId,"databases",c.databaseId.database]).canonicalString()}function Nu(c){return Ke(c.length>4&&"documents"===c.get(4)),c.popFirst(5)}function rc(c,e,r){return{name:Ou(c,e),fields:r.value.mapValue.fields}}function Ao(c,e,r){const s=Rs(c,e.name),u=Vi(e.updateTime),m=e.createTime?Vi(e.createTime):Qt.min(),I=new ci({mapValue:{fields:e.fields}}),P=Y.newFoundDocument(s,u,m,I);return r&&P.setHasCommittedMutations(),r?P.setHasCommittedMutations():P}function Vo(c,e){let r;if(e instanceof Mn)r={update:rc(c,e.key,e.value)};else if(e instanceof pi)r={delete:Ou(c,e.key)};else if(e instanceof Lr)r={update:rc(c,e.key,e.data),updateMask:fe(e.fieldMask)};else{if(!(e instanceof Qr))return Tt();r={verify:Ou(c,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(m,I){const P=I.transform;if(P instanceof Mc)return{fieldPath:I.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(P instanceof Ws)return{fieldPath:I.field.canonicalString(),appendMissingElements:{values:P.elements}};if(P instanceof Ms)return{fieldPath:I.field.canonicalString(),removeAllFromArray:{values:P.elements}};if(P instanceof Oa)return{fieldPath:I.field.canonicalString(),increment:P.Pe};throw Tt()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(m=e.precondition).updateTime?{updateTime:Ru(c,m.updateTime)}:void 0!==m.exists?{exists:m.exists}:Tt()),r;var m}function kc(c,e){const r=e.currentDocument?void 0!==(m=e.currentDocument).updateTime?bi.updateTime(Vi(m.updateTime)):void 0!==m.exists?bi.exists(m.exists):bi.none():bi.none(),s=e.updateTransforms?e.updateTransforms.map(u=>function(I,P){let L=null;"setToServerValue"in P?(Ke("REQUEST_TIME"===P.setToServerValue),L=new Mc):"appendMissingElements"in P?L=new Ws(P.appendMissingElements.values||[]):"removeAllFromArray"in P?L=new Ms(P.removeAllFromArray.values||[]):"increment"in P?L=new Oa(I,P.increment):Tt();const J=rr.fromServerFormat(P.fieldPath);return new ga(J,L)}(c,u)):[];var m;if(e.update){const u=Rs(c,e.update.name),m=new ci({mapValue:{fields:e.update.fields}});if(e.updateMask){const I=new Hi((e.updateMask.fieldPaths||[]).map(he=>rr.fromServerFormat(he)));return new Lr(u,m,I,r,s)}return new Mn(u,m,r,s)}if(e.delete){const u=Rs(c,e.delete);return new pi(u,r)}if(e.verify){const u=Rs(c,e.verify);return new Qr(u,r)}return Tt()}function jd(c,e){return{documents:[hp(c,e.path)]}}function Hd(c,e){const r={structuredQuery:{}},s=e.path;let u;null!==e.collectionGroup?(u=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=hp(c,u);const m=function(J){if(0!==J.length)return W(An.create(J,"and"))}(e.filters);m&&(r.structuredQuery.where=m);const I=function(J){if(0!==J.length)return J.map(he=>{return{field:w((et=he).field),direction:ma(et.dir)};var et})}(e.orderBy);I&&(r.structuredQuery.orderBy=I);const P=Oc(c,e.limit);return null!==P&&(r.structuredQuery.limit=P),e.startAt&&(r.structuredQuery.startAt={before:(J=e.startAt).inclusive,values:J.position}),e.endAt&&(r.structuredQuery.endAt=function(J){return{before:!J.inclusive,values:J.position}}(e.endAt)),{_t:r,parent:u};var J}function Wo(c){let e=Gt(c.parent);const r=c.structuredQuery,s=r.from?r.from.length:0;let u=null;if(s>0){Ke(1===s);const he=r.from[0];he.allDescendants?u=he.collectionId:e=e.child(he.collectionId)}let m=[];r.where&&(m=function(Me){const et=Fu(Me);return et instanceof An&&Ai(et)?et.getFilters():[et]}(r.where));let I=[];r.orderBy&&(I=r.orderBy.map(et=>{return new Lt(N((qt=et).field),function(nn){switch(nn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(qt.direction));var qt}));let P=null;r.limit&&(P=function(Me){let et;return et="object"==typeof Me?Me.value:Me,Te(et)?null:et}(r.limit));let L=null;var Me;r.startAt&&(L=new ke((Me=r.startAt).values||[],!!Me.before));let J=null;return r.endAt&&(J=function(Me){return new ke(Me.values||[],!Me.before)}(r.endAt)),ge(e,u,I,m,P,"F",L,J)}function Fu(c){return void 0!==c.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=N(r.unaryFilter.field);return Kt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=N(r.unaryFilter.field);return Kt.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const m=N(r.unaryFilter.field);return Kt.create(m,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const I=N(r.unaryFilter.field);return Kt.create(I,"!=",{nullValue:"NULL_VALUE"});default:return Tt()}}(c):void 0!==c.fieldFilter?Kt.create(N((r=c).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Tt()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==c.compositeFilter?function(r){return An.create(r.compositeFilter.filters.map(s=>Fu(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Tt()}}(r.compositeFilter.op))}(c):Tt();var r}function ma(c){return Gh[c]}function S(c){return Mg[c]}function O(c){return dr[c]}function w(c){return{fieldPath:c.canonicalString()}}function N(c){return rr.fromServerFormat(c.fieldPath)}function W(c){return c instanceof Kt?function(r){if("=="===r.op){if(oo(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NAN"}};if(ki(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(oo(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NOT_NAN"}};if(ki(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:w(r.field),op:S(r.op),value:r.value}}}(c):c instanceof An?function(r){const s=r.getFilters().map(u=>W(u));return 1===s.length?s[0]:{compositeFilter:{op:O(r.op),filters:s}}}(c):Tt()}function fe(c){const e=[];return c.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Ve(c){return c.length>=4&&"projects"===c.get(0)&&"databases"===c.get(2)}class Dt{constructor(e,r,s,u,m=Qt.min(),I=Qt.min(),P=Pi.EMPTY_BYTE_STRING,L=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=I,this.resumeToken=P,this.expectedCount=L}withSequenceNumber(e){return new Dt(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Dt(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Dt(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Dt(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Mt{constructor(e){this.ct=e}}function Dr(c,e){const r=e.key,s={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:ui(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Ou(m=c.ct,(I=e).key),fields:I.data.value.mapValue.fields,updateTime:Na(m,I.version.toTimestamp()),createTime:Na(m,I.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:r.path.toArray(),readTime:br(e.version)};else{if(!e.isUnknownDocument())return Tt();s.unknownDocument={path:r.path.toArray(),version:br(e.version)}}var m,I;return s}function ui(c){const e=c.toTimestamp();return[e.seconds,e.nanoseconds]}function br(c){const e=c.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Uo(c){const e=new Yn(c.seconds,c.nanoseconds);return Qt.fromTimestamp(e)}function os(c,e){const r=(e.baseMutations||[]).map(m=>kc(c.ct,m));for(let m=0;m<e.mutations.length-1;++m)m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(e.mutations[m].updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m);const s=e.mutations.map(m=>kc(c.ct,m)),u=Yn.fromMillis(e.localWriteTimeMs);return new Wi(e.batchId,u,r,s)}function Ns(c){const e=Uo(c.readTime),r=void 0!==c.lastLimboFreeSnapshotVersion?Uo(c.lastLimboFreeSnapshotVersion):Qt.min();let s;return s=void 0!==c.query.documents?(Ke(1===(m=c.query).documents.length),_i(ze(Gt(m.documents[0])))):function(m){return _i(Wo(m))}(c.query),new Dt(s,c.targetId,"TargetPurposeListen",c.lastListenSequenceNumber,e,r,Pi.fromBase64String(c.resumeToken));var m}function _a(c,e){const r=br(e.snapshotVersion),s=br(e.lastLimboFreeSnapshotVersion);let u;u=Xa(e.target)?jd(c.ct,e.target):Hd(c.ct,e.target)._t;const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:No(e.target),readTime:r,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function ks(c){const e=Wo({parent:c.parent,structuredQuery:c.structuredQuery});return"LAST"===c.limitType?ec(e,e.limit,"L"):e}function oc(c,e){return new Eo(e.largestBatchId,kc(c.ct,e.overlayMutation))}function Ko(c,e){const r=e.path.lastSegment();return[c,$t(e.path.popLast()),r]}function Fs(c,e,r,s){return{indexId:c,uid:e,sequenceNumber:r,readTime:br(s.readTime),documentKey:$t(s.documentKey.path),largestBatchId:s.largestBatchId}}class Fi{getBundleMetadata(e,r){return Wh(e).get(r).next(s=>{if(s)return{id:(m=s).bundleId,createTime:Uo(m.createTime),version:m.version};var m})}saveBundleMetadata(e,r){return Wh(e).put({bundleId:(u=r).id,createTime:br(Vi(u.createTime)),version:u.version});var u}getNamedQuery(e,r){return zd(e).get(r).next(s=>{if(s)return{name:(m=s).name,query:ks(m.bundledQuery),readTime:Uo(m.readTime)};var m})}saveNamedQuery(e,r){return zd(e).put({name:(u=r).name,readTime:br(Vi(u.readTime)),bundledQuery:u.bundledQuery});var u}}function Wh(c){return zr(c,"bundles")}function zd(c){return zr(c,"namedQueries")}class zl{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new zl(e,r.uid||"")}getOverlay(e,r){return ea(e).get(Ko(this.userId,r)).next(s=>s?oc(this.serializer,s):null)}getOverlays(e,r){const s=ko();return at.forEach(r,u=>this.getOverlay(e,u).next(m=>{null!==m&&s.set(u,m)})).next(()=>s)}saveOverlays(e,r,s){const u=[];return s.forEach((m,I)=>{const P=new Eo(r,I);u.push(this.ht(e,P))}),at.waitFor(u)}removeOverlaysForBatchId(e,r,s){const u=new Set;r.forEach(I=>u.add($t(I.getCollectionPath())));const m=[];return u.forEach(I=>{const P=IDBKeyRange.bound([this.userId,I,s],[this.userId,I,s+1],!1,!0);m.push(ea(e).j("collectionPathOverlayIndex",P))}),at.waitFor(m)}getOverlaysForCollection(e,r,s){const u=ko(),m=$t(r),I=IDBKeyRange.bound([this.userId,m,s],[this.userId,m,Number.POSITIVE_INFINITY],!0);return ea(e).U("collectionPathOverlayIndex",I).next(P=>{for(const L of P){const J=oc(this.serializer,L);u.set(J.getKey(),J)}return u})}getOverlaysForCollectionGroup(e,r,s,u){const m=ko();let I;const P=IDBKeyRange.bound([this.userId,r,s],[this.userId,r,Number.POSITIVE_INFINITY],!0);return ea(e).J({index:"collectionGroupOverlayIndex",range:P},(L,J,he)=>{const Me=oc(this.serializer,J);m.size()<u||Me.largestBatchId===I?(m.set(Me.getKey(),Me),I=Me.largestBatchId):he.done()}).next(()=>m)}ht(e,r){return ea(e).put(function(u,m,I){const[P,L,J]=Ko(m,I.mutation.key);return{userId:m,collectionPath:L,documentId:J,collectionGroup:I.mutation.key.getCollectionGroup(),largestBatchId:I.largestBatchId,overlayMutation:Vo(u.ct,I.mutation)}}(this.serializer,this.userId,r))}}function ea(c){return zr(c,"documentOverlays")}class ta{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(Ei(e.integerValue));else if("doubleValue"in e){const s=Ei(e.doubleValue);isNaN(s)?this.Et(r,13):(this.Et(r,15),Xe(s)?r.dt(0):r.dt(s))}else if("timestampValue"in e){let s=e.timestampValue;this.Et(r,20),"string"==typeof s&&(s=wo(s)),r.At(`${s.seconds||""}`),r.dt(s.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(mo(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.Et(r,45),r.dt(s.latitude||0),r.dt(s.longitude||0)}else"mapValue"in e?si(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):Tt()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const s=e.fields||{};this.Et(r,55);for(const u of Object.keys(s))this.Rt(u,r),this.It(s[u],r)}wt(e,r){const s=e.values||[];this.Et(r,50);for(const u of s)this.It(u,r)}gt(e,r){this.Et(r,37),Yt.fromName(e).path.forEach(s=>{this.Et(r,60),this.St(s,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}function Kh(c){if(0===c)return 8;let e=0;return!(c>>4)&&(e+=4,c<<=4),!(c>>6)&&(e+=2,c<<=2),!(c>>7)&&(e+=1),e}function Lu(c){const e=64-function(s){let u=0;for(let m=0;m<8;++m){const I=Kh(255&s[m]);if(u+=I,8!==I)break}return u}(c);return Math.ceil(e/8)}ta.bt=new ta;class na{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ct(s.value),s=r.next();this.vt()}Ft(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Mt(s.value),s=r.next();this.xt()}Ot(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Ct(s);else if(s<2048)this.Ct(960|s>>>6),this.Ct(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s);else{const u=r.codePointAt(0);this.Ct(240|u>>>18),this.Ct(128|63&u>>>12),this.Ct(128|63&u>>>6),this.Ct(128|63&u)}}this.vt()}Nt(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Mt(s);else if(s<2048)this.Mt(960|s>>>6),this.Mt(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s);else{const u=r.codePointAt(0);this.Mt(240|u>>>18),this.Mt(128|63&u>>>12),this.Mt(128|63&u>>>6),this.Mt(128|63&u)}}this.xt()}Lt(e){const r=this.Bt(e),s=Lu(r);this.kt(1+s),this.buffer[this.position++]=255&s;for(let u=r.length-s;u<r.length;++u)this.buffer[this.position++]=255&r[u]}qt(e){const r=this.Bt(e),s=Lu(r);this.kt(1+s),this.buffer[this.position++]=~(255&s);for(let u=r.length-s;u<r.length;++u)this.buffer[this.position++]=~(255&r[u])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const r=function(m){const I=new DataView(new ArrayBuffer(8));return I.setFloat64(0,m,!1),new Uint8Array(I.buffer)}(e),s=0!=(128&r[0]);r[0]^=s?255:128;for(let u=1;u<r.length;++u)r[u]^=s?255:0;return r}Ct(e){const r=255&e;0===r?(this.Kt(0),this.Kt(255)):255===r?(this.Kt(255),this.Kt(0)):this.Kt(r)}Mt(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const r=e+this.position;if(r<=this.buffer.length)return;let s=2*this.buffer.length;s<r&&(s=r);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class Vu{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class Uu{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Fa{constructor(){this.Gt=new na,this.zt=new Vu(this.Gt),this.jt=new Uu(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class La{constructor(e,r,s,u){this.indexId=e,this.documentKey=r,this.arrayValue=s,this.directionalValue=u}Jt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(r);return s.set(this.directionalValue,0),r!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new La(this.indexId,this.documentKey,this.arrayValue,s)}}function ra(c,e){let r=c.indexId-e.indexId;return 0!==r?r:(r=$d(c.arrayValue,e.arrayValue),0!==r?r:(r=$d(c.directionalValue,e.directionalValue),0!==r?r:Yt.comparator(c.documentKey,e.documentKey)))}function $d(c,e){for(let r=0;r<c.length&&r<e.length;++r){const s=c[r]-e[r];if(0!==s)return s}return c.length-e.length}class Bu{constructor(e){this.Yt=new Jr((r,s)=>rr.comparator(r.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const r of e.filters){const s=r;s.isInequality()?this.Yt=this.Yt.add(s):this.Xt.push(s)}}get en(){return this.Yt.size>1}tn(e){if(Ke(e.collectionGroup===this.collectionId),this.en)return!1;const r=Un(e);if(void 0!==r&&!this.nn(r))return!1;const s=Hn(e);let u=new Set,m=0,I=0;for(;m<s.length&&this.nn(s[m]);++m)u=u.add(s[m].fieldPath.canonicalString());if(m===s.length)return!0;if(this.Yt.size>0){const P=this.Yt.getIterator().getNext();if(!u.has(P.field.canonicalString())){const L=s[m];if(!this.rn(P,L)||!this.sn(this.Zt[I++],L))return!1}++m}for(;m<s.length;++m)if(I>=this.Zt.length||!this.sn(this.Zt[I++],s[m]))return!1;return!0}on(){if(this.en)return null;let e=new Jr(rr.comparator);const r=[];for(const s of this.Xt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)r.push(new Tr(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),r.push(new Tr(s.field,0))}for(const s of this.Zt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),r.push(new Tr(s.field,"asc"===s.dir?0:1)));return new In(In.UNKNOWN_ID,this.collectionId,r,Wn.empty())}nn(e){for(const r of this.Xt)if(this.rn(r,e))return!0;return!1}rn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function ju(c){var e,r;if(Ke(c instanceof Kt||c instanceof An),c instanceof Kt){if(c instanceof ms){const u=(null===(r=null===(e=c.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(m=>Kt.create(c.field,"==",m)))||[];return An.create(u,"or")}return c}const s=c.filters.map(u=>ju(u));return An.create(s,c.op)}function Fc(c){if(0===c.getFilters().length)return[];const e=va(ju(c));return Ke(Pg(e)),pl(e)||$l(e)?[e]:e.getFilters()}function pl(c){return c instanceof Kt}function $l(c){return c instanceof An&&Ai(c)}function Pg(c){return pl(c)||$l(c)||function(r){if(r instanceof An&&Bn(r)){for(const s of r.getFilters())if(!pl(s)&&!$l(s))return!1;return!0}return!1}(c)}function va(c){if(Ke(c instanceof Kt||c instanceof An),c instanceof Kt)return c;if(1===c.filters.length)return va(c.filters[0]);const e=c.filters.map(s=>va(s));let r=An.create(e,c.op);return r=Gd(r),Pg(r)?r:(Ke(r instanceof An),Ke(mr(r)),Ke(r.filters.length>1),r.filters.reduce((s,u)=>Zd(s,u)))}function Zd(c,e){let r;return Ke(c instanceof Kt||c instanceof An),Ke(e instanceof Kt||e instanceof An),r=c instanceof Kt?e instanceof Kt?An.create([c,e],"and"):fp(c,e):e instanceof Kt?fp(e,c):function(u,m){if(Ke(u.filters.length>0&&m.filters.length>0),mr(u)&&mr(m))return Br(u,m.getFilters());const I=Bn(u)?u:m,P=Bn(u)?m:u,L=I.filters.map(J=>Zd(J,P));return An.create(L,"or")}(c,e),Gd(r)}function fp(c,e){if(mr(e))return Br(e,c.getFilters());{const r=e.filters.map(s=>Zd(c,s));return An.create(r,"or")}}function Gd(c){if(Ke(c instanceof Kt||c instanceof An),c instanceof Kt)return c;const e=c.getFilters();if(1===e.length)return Gd(e[0]);if(Zr(c))return c;const r=e.map(u=>Gd(u)),s=[];return r.forEach(u=>{u instanceof Kt?s.push(u):u instanceof An&&(u.op===c.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:An.create(s,c.op)}class xg{constructor(){this._n=new qd}addToCollectionParentIndex(e,r){return this._n.add(r),at.resolve()}getCollectionParents(e,r){return at.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return at.resolve()}deleteFieldIndex(e,r){return at.resolve()}deleteAllFieldIndexes(e){return at.resolve()}createTargetIndexes(e,r){return at.resolve()}getDocumentsMatchingTarget(e,r){return at.resolve(null)}getIndexType(e,r){return at.resolve(0)}getFieldIndexes(e,r){return at.resolve([])}getNextCollectionGroupToUpdate(e){return at.resolve(null)}getMinOffset(e,r){return at.resolve(gn.min())}getMinOffsetFromCollectionGroup(e,r){return at.resolve(gn.min())}updateCollectionGroup(e,r,s){return at.resolve()}updateIndexEntries(e,r){return at.resolve()}}class qd{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),u=this.index[r]||new Jr(xn.comparator),m=!u.has(s);return this.index[r]=u.add(s),m}has(e){const r=e.lastSegment(),s=e.popLast(),u=this.index[r];return u&&u.has(s)}getEntries(e){return(this.index[e]||new Jr(xn.comparator)).toArray()}}const gl=new Uint8Array(0);class Hu{constructor(e,r){this.databaseId=r,this.an=new qd,this.un=new yo(s=>No(s),(s,u)=>Ds(s,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.an.has(r)){const s=r.lastSegment(),u=r.popLast();e.addOnCommittedListener(()=>{this.an.add(r)});const m={collectionId:s,parent:$t(u)};return pp(e).put(m)}return at.resolve()}getCollectionParents(e,r){const s=[],u=IDBKeyRange.bound([r,""],[pr(r),""],!1,!0);return pp(e).U(u).next(m=>{for(const I of m){if(I.collectionId!==r)break;s.push(fn(I.parent))}return s})}addFieldIndex(e,r){const s=ml(e),u={indexId:(P=r).indexId,collectionGroup:P.collectionGroup,fields:P.fields.map(L=>[L.fieldPath.canonicalString(),L.kind])};var P;delete u.indexId;const m=s.add(u);if(r.indexState){const I=oa(e);return m.next(P=>{I.put(Fs(P,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return m.next()}deleteFieldIndex(e,r){const s=ml(e),u=oa(e),m=ia(e);return s.delete(r.indexId).next(()=>u.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=ml(e),s=ia(e),u=oa(e);return r.j().next(()=>s.j()).next(()=>u.j())}createTargetIndexes(e,r){return at.forEach(this.cn(r),s=>this.getIndexType(e,s).next(u=>{if(0===u||1===u){const m=new Bu(s).on();if(null!=m)return this.addFieldIndex(e,m)}}))}getDocumentsMatchingTarget(e,r){const s=ia(e);let u=!0;const m=new Map;return at.forEach(this.cn(r),I=>this.ln(e,I).next(P=>{u&&(u=!!P),m.set(I,P)})).next(()=>{if(u){let I=fr();const P=[];return at.forEach(m,(L,J)=>{var Kn;Ee("IndexedDbIndexManager",`Using index ${Kn=L,`id=${Kn.indexId}|cg=${Kn.collectionGroup}|f=${Kn.fields.map(xr=>`${xr.fieldPath}:${xr.kind}`).join(",")}`} to execute ${No(r)}`);const he=function(Kn,xr){const Ti=Un(xr);if(void 0===Ti)return null;for(const qr of Zs(Kn,Ti.fieldPath))switch(qr.op){case"array-contains-any":return qr.value.arrayValue.values||[];case"array-contains":return[qr.value]}return null}(J,L),Me=function(Kn,xr){const Ti=new Map;for(const qr of Hn(xr))for(const pt of Zs(Kn,qr.fieldPath))switch(pt.op){case"==":case"in":Ti.set(qr.fieldPath.canonicalString(),pt.value);break;case"not-in":case"!=":return Ti.set(qr.fieldPath.canonicalString(),pt.value),Array.from(Ti.values())}return null}(J,L),et=function(Kn,xr){const Ti=[];let qr=!0;for(const pt of Hn(xr)){const Qe=0===pt.kind?Q(Kn,pt.fieldPath,Kn.startAt):ie(Kn,pt.fieldPath,Kn.startAt);Ti.push(Qe.value),qr&&(qr=Qe.inclusive)}return new ke(Ti,qr)}(J,L),Ct=function(Kn,xr){const Ti=[];let qr=!0;for(const pt of Hn(xr)){const Qe=0===pt.kind?ie(Kn,pt.fieldPath,Kn.endAt):Q(Kn,pt.fieldPath,Kn.endAt);Ti.push(Qe.value),qr&&(qr=Qe.inclusive)}return new ke(Ti,qr)}(J,L),qt=this.hn(L,J,et),hn=this.hn(L,J,Ct),nn=this.Pn(L,J,Me),Zn=this.In(L.indexId,he,qt,et.inclusive,hn,Ct.inclusive,nn);return at.forEach(Zn,ir=>s.G(ir,r.limit).next(Kn=>{Kn.forEach(xr=>{const Ti=Yt.fromSegments(xr.documentKey);I.has(Ti)||(I=I.add(Ti),P.push(Ti))})}))}).next(()=>P)}return at.resolve(null)})}cn(e){let r=this.un.get(e);return r||(r=0===e.filters.length?[e]:Fc(An.create(e.filters,"and")).map(s=>Da(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,r),r)}In(e,r,s,u,m,I,P){const L=(null!=r?r.length:1)*Math.max(s.length,m.length),J=L/(null!=r?r.length:1),he=[];for(let Me=0;Me<L;++Me){const et=r?this.Tn(r[Me/J]):gl,Ct=this.En(e,et,s[Me%J],u),qt=this.dn(e,et,m[Me%J],I),hn=P.map(nn=>this.En(e,et,nn,!0));he.push(...this.createRange(Ct,qt,hn))}return he}En(e,r,s,u){const m=new La(e,Yt.empty(),r,s);return u?m:m.Jt()}dn(e,r,s,u){const m=new La(e,Yt.empty(),r,s);return u?m.Jt():m}ln(e,r){const s=new Bu(r),u=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,u).next(m=>{let I=null;for(const P of m)s.tn(P)&&(!I||P.fields.length>I.fields.length)&&(I=P);return I})}getIndexType(e,r){let s=2;const u=this.cn(r);return at.forEach(u,m=>this.ln(e,m).next(I=>{I?0!==s&&I.fields.length<function(L){let J=new Jr(rr.comparator),he=!1;for(const Me of L.filters)for(const et of Me.getFlattenedFilters())et.field.isKeyField()||("array-contains"===et.op||"array-contains-any"===et.op?he=!0:J=J.add(et.field));for(const Me of L.orderBy)Me.field.isKeyField()||(J=J.add(Me.field));return J.size+(he?1:0)}(m)&&(s=1):s=0})).next(()=>null!==r.limit&&u.length>1&&2===s?1:s)}An(e,r){const s=new Fa;for(const u of Hn(e)){const m=r.data.field(u.fieldPath);if(null==m)return null;const I=s.Ht(u.kind);ta.bt.Pt(m,I)}return s.Wt()}Tn(e){const r=new Fa;return ta.bt.Pt(e,r.Ht(0)),r.Wt()}Rn(e,r){const s=new Fa;return ta.bt.Pt(_n(this.databaseId,r),s.Ht(function(m){const I=Hn(m);return 0===I.length?0:I[I.length-1].kind}(e))),s.Wt()}Pn(e,r,s){if(null===s)return[];let u=[];u.push(new Fa);let m=0;for(const I of Hn(e)){const P=s[m++];for(const L of u)if(this.Vn(r,I.fieldPath)&&Nr(P))u=this.mn(u,I,P);else{const J=L.Ht(I.kind);ta.bt.Pt(P,J)}}return this.fn(u)}hn(e,r,s){return this.Pn(e,r,s.position)}fn(e){const r=[];for(let s=0;s<e.length;++s)r[s]=e[s].Wt();return r}mn(e,r,s){const u=[...e],m=[];for(const I of s.arrayValue.values||[])for(const P of u){const L=new Fa;L.seed(P.Wt()),ta.bt.Pt(I,L.Ht(r.kind)),m.push(L)}return m}Vn(e,r){return!!e.filters.find(s=>s instanceof Kt&&s.field.isEqual(r)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,r){const s=ml(e),u=oa(e);return(r?s.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):s.U()).next(m=>{const I=[];return at.forEach(m,P=>u.get([P.indexId,this.uid]).next(L=>{I.push(function(he,Me){const et=Me?new Wn(Me.sequenceNumber,new gn(Uo(Me.readTime),new Yt(fn(Me.documentKey)),Me.largestBatchId)):Wn.empty(),Ct=he.fields.map(([qt,hn])=>new Tr(rr.fromServerFormat(qt),hn));return new In(he.indexId,he.collectionGroup,Ct,et)}(P,L))})).next(()=>I)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((s,u)=>{const m=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==m?m:on(s.collectionGroup,u.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,s){const u=ml(e),m=oa(e);return this.gn(e).next(I=>u.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(P=>at.forEach(P,L=>m.put(Fs(L.indexId,this.uid,I,s)))))}updateIndexEntries(e,r){const s=new Map;return at.forEach(r,(u,m)=>{const I=s.get(u.collectionGroup);return(I?at.resolve(I):this.getFieldIndexes(e,u.collectionGroup)).next(P=>(s.set(u.collectionGroup,P),at.forEach(P,L=>this.pn(e,u,L).next(J=>{const he=this.yn(m,L);return J.isEqual(he)?at.resolve():this.wn(e,m,L,J,he)}))))})}Sn(e,r,s,u){return ia(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.Rn(s,r.key),documentKey:r.key.path.toArray()})}bn(e,r,s,u){return ia(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.Rn(s,r.key),r.key.path.toArray()])}pn(e,r,s){const u=ia(e);let m=new Jr(ra);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.Rn(s,r)])},(I,P)=>{m=m.add(new La(s.indexId,r,P.arrayValue,P.directionalValue))}).next(()=>m)}yn(e,r){let s=new Jr(ra);const u=this.An(r,e);if(null==u)return s;const m=Un(r);if(null!=m){const I=e.data.field(m.fieldPath);if(Nr(I))for(const P of I.arrayValue.values||[])s=s.add(new La(r.indexId,e.key,this.Tn(P),u))}else s=s.add(new La(r.indexId,e.key,gl,u));return s}wn(e,r,s,u,m){Ee("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const I=[];return function(L,J,he,Me,et){const Ct=L.getIterator(),qt=J.getIterator();let hn=jo(Ct),nn=jo(qt);for(;hn||nn;){let Zn=!1,ir=!1;if(hn&&nn){const Kn=he(hn,nn);Kn<0?ir=!0:Kn>0&&(Zn=!0)}else null!=hn?ir=!0:Zn=!0;Zn?(Me(nn),nn=jo(qt)):ir?(et(hn),hn=jo(Ct)):(hn=jo(Ct),nn=jo(qt))}}(u,m,ra,P=>{I.push(this.Sn(e,r,s,P))},P=>{I.push(this.bn(e,r,s,P))}),at.waitFor(I)}gn(e){let r=1;return oa(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,m)=>{m.done(),r=u.sequenceNumber+1}).next(()=>r)}createRange(e,r,s){s=s.sort((I,P)=>ra(I,P)).filter((I,P,L)=>!P||0!==ra(I,L[P-1]));const u=[];u.push(e);for(const I of s){const P=ra(I,e),L=ra(I,r);if(0===P)u[0]=e.Jt();else if(P>0&&L<0)u.push(I),u.push(I.Jt());else if(L>0)break}u.push(r);const m=[];for(let I=0;I<u.length;I+=2){if(this.Dn(u[I],u[I+1]))return[];m.push(IDBKeyRange.bound([u[I].indexId,this.uid,u[I].arrayValue,u[I].directionalValue,gl,[]],[u[I+1].indexId,this.uid,u[I+1].arrayValue,u[I+1].directionalValue,gl,[]]))}return m}Dn(e,r){return ra(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(Rg)}getMinOffset(e,r){return at.mapArray(this.cn(r),s=>this.ln(e,s).next(u=>u||Tt())).next(Rg)}}function pp(c){return zr(c,"collectionParents")}function ia(c){return zr(c,"indexEntries")}function ml(c){return zr(c,"indexConfiguration")}function oa(c){return zr(c,"indexState")}function Rg(c){Ke(0!==c.length);let e=c[0].indexState.offset,r=e.largestBatchId;for(let s=1;s<c.length;s++){const u=c[s].indexState.offset;Ur(u,e)<0&&(e=u),r<u.largestBatchId&&(r=u.largestBatchId)}return new gn(e.readTime,e.documentKey,r)}const zu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Bo{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Bo(e,Bo.DEFAULT_COLLECTION_PERCENTILE,Bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function gp(c,e,r){const s=c.store("mutations"),u=c.store("documentMutations"),m=[],I=IDBKeyRange.only(r.batchId);let P=0;const L=s.J({range:I},(he,Me,et)=>(P++,et.delete()));m.push(L.next(()=>{Ke(1===P)}));const J=[];for(const he of r.mutations){const Me=He(e,he.key.path,r.batchId);m.push(u.delete(Me)),J.push(he.key)}return at.waitFor(m).next(()=>J)}function Qi(c){if(!c)return 0;let e;if(c.document)e=c.document;else if(c.unknownDocument)e=c.unknownDocument;else{if(!c.noDocument)throw Tt();e=c.noDocument}return JSON.stringify(e).length}Bo.DEFAULT_COLLECTION_PERCENTILE=10,Bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bo.DEFAULT=new Bo(41943040,Bo.DEFAULT_COLLECTION_PERCENTILE,Bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bo.DISABLED=new Bo(-1,0,0);class Zl{constructor(e,r,s,u){this.userId=e,this.serializer=r,this.indexManager=s,this.referenceDelegate=u,this.Cn={}}static lt(e,r,s,u){Ke(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new Zl(m,r,s,u)}checkEmpty(e){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return sa(e).J({index:"userMutationsIndex",range:s},(u,m,I)=>{r=!1,I.done()}).next(()=>r)}addMutationBatch(e,r,s,u){const m=Va(e),I=sa(e);return I.add({}).next(P=>{Ke("number"==typeof P);const L=new Wi(P,r,s,u),J=function(Ct,qt,hn){const nn=hn.baseMutations.map(ir=>Vo(Ct.ct,ir)),Zn=hn.mutations.map(ir=>Vo(Ct.ct,ir));return{userId:qt,batchId:hn.batchId,localWriteTimeMs:hn.localWriteTime.toMillis(),baseMutations:nn,mutations:Zn}}(this.serializer,this.userId,L),he=[];let Me=new Jr((et,Ct)=>on(et.canonicalString(),Ct.canonicalString()));for(const et of u){const Ct=He(this.userId,et.key.path,P);Me=Me.add(et.key.path.popLast()),he.push(I.put(J)),he.push(m.put(Ct,nt))}return Me.forEach(et=>{he.push(this.indexManager.addToCollectionParentIndex(e,et))}),e.addOnCommittedListener(()=>{this.Cn[P]=L.keys()}),at.waitFor(he).next(()=>L)})}lookupMutationBatch(e,r){return sa(e).get(r).next(s=>s?(Ke(s.userId===this.userId),os(this.serializer,s)):null)}vn(e,r){return this.Cn[r]?at.resolve(this.Cn[r]):this.lookupMutationBatch(e,r).next(s=>{if(s){const u=s.keys();return this.Cn[r]=u,u}return null})}getNextMutationBatchAfterBatchId(e,r){const s=r+1,u=IDBKeyRange.lowerBound([this.userId,s]);let m=null;return sa(e).J({index:"userMutationsIndex",range:u},(I,P,L)=>{P.userId===this.userId&&(Ke(P.batchId>=s),m=os(this.serializer,P)),L.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return sa(e).J({index:"userMutationsIndex",range:r,reverse:!0},(u,m,I)=>{s=m.batchId,I.done()}).next(()=>s)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return sa(e).U("userMutationsIndex",r).next(s=>s.map(u=>os(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(e,r){const s=Je(this.userId,r.path),u=IDBKeyRange.lowerBound(s),m=[];return Va(e).J({range:u},(I,P,L)=>{const[J,he,Me]=I,et=fn(he);if(J===this.userId&&r.path.isEqual(et))return sa(e).get(Me).next(Ct=>{if(!Ct)throw Tt();Ke(Ct.userId===this.userId),m.push(os(this.serializer,Ct))});L.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Jr(on);const u=[];return r.forEach(m=>{const I=Je(this.userId,m.path),P=IDBKeyRange.lowerBound(I),L=Va(e).J({range:P},(J,he,Me)=>{const[et,Ct,qt]=J,hn=fn(Ct);et===this.userId&&m.path.isEqual(hn)?s=s.add(qt):Me.done()});u.push(L)}),at.waitFor(u).next(()=>this.Fn(e,s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,u=s.length+1,m=Je(this.userId,s),I=IDBKeyRange.lowerBound(m);let P=new Jr(on);return Va(e).J({range:I},(L,J,he)=>{const[Me,et,Ct]=L,qt=fn(et);Me===this.userId&&s.isPrefixOf(qt)?qt.length===u&&(P=P.add(Ct)):he.done()}).next(()=>this.Fn(e,P))}Fn(e,r){const s=[],u=[];return r.forEach(m=>{u.push(sa(e).get(m).next(I=>{if(null===I)throw Tt();Ke(I.userId===this.userId),s.push(os(this.serializer,I))}))}),at.waitFor(u).next(()=>s)}removeMutationBatch(e,r){return gp(e._e,this.userId,r).next(s=>(e.addOnCommittedListener(()=>{this.Mn(r.batchId)}),at.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return at.resolve();const s=IDBKeyRange.lowerBound([this.userId]),u=[];return Va(e).J({range:s},(m,I,P)=>{if(m[0]===this.userId){const L=fn(m[1]);u.push(L)}else P.done()}).next(()=>{Ke(0===u.length)})})}containsKey(e,r){return $u(e,this.userId,r)}xn(e){return _l(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function $u(c,e,r){const s=Je(e,r.path),u=s[1],m=IDBKeyRange.lowerBound(s);let I=!1;return Va(c).J({range:m,H:!0},(P,L,J)=>{const[he,Me,et]=P;he===e&&Me===u&&(I=!0),J.done()}).next(()=>I)}function sa(c){return zr(c,"mutations")}function Va(c){return zr(c,"documentMutations")}function _l(c){return zr(c,"mutationQueues")}class jr{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new jr(0)}static Ln(){return new jr(-1)}}class vl{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Bn(e).next(r=>{const s=new jr(r.highestTargetId);return r.highestTargetId=s.next(),this.kn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(r=>Qt.fromTimestamp(new Yn(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,s){return this.Bn(e).next(u=>(u.highestListenSequenceNumber=r,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),r>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=r),this.kn(e,u)))}addTargetData(e,r){return this.qn(e,r).next(()=>this.Bn(e).next(s=>(s.targetCount+=1,this.Qn(r,s),this.kn(e,s))))}updateTargetData(e,r){return this.qn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Ls(e).delete(r.targetId)).next(()=>this.Bn(e)).next(s=>(Ke(s.targetCount>0),s.targetCount-=1,this.kn(e,s)))}removeTargets(e,r,s){let u=0;const m=[];return Ls(e).J((I,P)=>{const L=Ns(P);L.sequenceNumber<=r&&null===s.get(L.targetId)&&(u++,m.push(this.removeTargetData(e,L)))}).next(()=>at.waitFor(m)).next(()=>u)}forEachTarget(e,r){return Ls(e).J((s,u)=>{const m=Ns(u);r(m)})}Bn(e){return yl(e).get("targetGlobalKey").next(r=>(Ke(null!==r),r))}kn(e,r){return yl(e).put("targetGlobalKey",r)}qn(e,r){return Ls(e).put(_a(this.serializer,r))}Qn(e,r){let s=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,s=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Bn(e).next(r=>r.targetCount)}getTargetData(e,r){const s=No(r),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let m=null;return Ls(e).J({range:u,index:"queryTargetsIndex"},(I,P,L)=>{const J=Ns(P);Ds(r,J.target)&&(m=J,L.done())}).next(()=>m)}addMatchingKeys(e,r,s){const u=[],m=ya(e);return r.forEach(I=>{const P=$t(I.path);u.push(m.put({targetId:s,path:P})),u.push(this.referenceDelegate.addReference(e,s,I))}),at.waitFor(u)}removeMatchingKeys(e,r,s){const u=ya(e);return at.forEach(r,m=>{const I=$t(m.path);return at.waitFor([u.delete([s,I]),this.referenceDelegate.removeReference(e,s,m)])})}removeMatchingKeysForTargetId(e,r){const s=ya(e),u=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(e,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),u=ya(e);let m=fr();return u.J({range:s,H:!0},(I,P,L)=>{const J=fn(I[1]),he=new Yt(J);m=m.add(he)}).next(()=>m)}containsKey(e,r){const s=$t(r.path),u=IDBKeyRange.bound([s],[pr(s)],!1,!0);let m=0;return ya(e).J({index:"documentTargetsIndex",H:!0,range:u},([I,P],L,J)=>{0!==I&&(m++,J.done())}).next(()=>m>0)}ot(e,r){return Ls(e).get(r).next(s=>s?Ns(s):null)}}function Ls(c){return zr(c,"targets")}function yl(c){return zr(c,"targetGlobal")}function ya(c){return zr(c,"targetDocuments")}function Zu([c,e],[r,s]){const u=on(c,r);return 0===u?on(e,s):u}class Wd{constructor(e){this.Kn=e,this.buffer=new Jr(Zu),this.$n=0}Un(){return++this.$n}Wn(e){const r=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();Zu(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Gl{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var r=this;Ee("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,f.Z)(function*(){r.Gn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(s){zn(s)?Ee("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Mr(s)}yield r.zn(3e5)}))}}class Lc{constructor(e,r){this.jn=e,this.params=r}calculateTargetCount(e,r){return this.jn.Hn(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(0===r)return at.resolve(B.oe);const s=new Wd(r);return this.jn.forEachTarget(e,u=>s.Wn(u.sequenceNumber)).next(()=>this.jn.Jn(e,u=>s.Wn(u))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.jn.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(zu)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zu):this.Yn(e,r))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,r){let s,u,m,I,P,L,J;const he=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Me=>(Me>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Me}`),u=this.params.maximumSequenceNumbersToCollect):u=Me,I=Date.now(),this.nthSequenceNumber(e,u))).next(Me=>(s=Me,P=Date.now(),this.removeTargets(e,s,r))).next(Me=>(m=Me,L=Date.now(),this.removeOrphanedDocuments(e,s))).next(Me=>(J=Date.now(),dt()<=Se.in.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${I-he}ms\n\tDetermined least recently used ${u} in `+(P-I)+`ms\n\tRemoved ${m} targets in `+(L-P)+`ms\n\tRemoved ${Me} documents in `+(J-L)+`ms\nTotal Duration: ${J-he}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:m,documentsRemoved:Me})))}}class Qh{constructor(e,r){this.db=e,this.garbageCollector=function Gu(c,e){return new Lc(c,e)}(this,r)}Hn(e){const r=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>r.next(u=>s+u))}Zn(e){let r=0;return this.Jn(e,s=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Jn(e,r){return this.Xn(e,(s,u)=>r(u))}addReference(e,r,s){return ql(e,s)}removeReference(e,r,s){return ql(e,s)}removeTargets(e,r,s){return this.db.getTargetCache().removeTargets(e,r,s)}markPotentiallyOrphaned(e,r){return ql(e,r)}er(e,r){return function(u,m){let I=!1;return _l(u).Y(P=>$u(u,P,m).next(L=>(L&&(I=!0),at.resolve(!L)))).next(()=>I)}(e,r)}removeOrphanedDocuments(e,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let m=0;return this.Xn(e,(I,P)=>{if(P<=r){const L=this.er(e,I).next(J=>{if(!J)return m++,s.getEntry(e,I).next(()=>(s.removeEntry(I,Qt.min()),ya(e).delete([0,$t(I.path)])))});u.push(L)}}).next(()=>at.waitFor(u)).next(()=>s.apply(e)).next(()=>m)}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,r){return ql(e,r)}Xn(e,r){const s=ya(e);let u,m=B.oe;return s.J({index:"documentTargetsIndex"},([I,P],{path:L,sequenceNumber:J})=>{0===I?(m!==B.oe&&r(new Yt(fn(u)),m),m=J,u=L):m=B.oe}).next(()=>{m!==B.oe&&r(new Yt(fn(u)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ql(c,e){return ya(c).put((u=c.currentSequenceNumber,{targetId:0,path:$t(e.path),sequenceNumber:u}));var u}class sc{constructor(){this.changes=new yo(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Y.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?at.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class mp{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,s){return Ea(e).put(s)}removeEntry(e,r,s){return Ea(e).delete(function(m,I){const P=m.path.toArray();return[P.slice(0,P.length-2),P[P.length-2],ui(I),P[P.length-1]]}(r,s))}updateMetadata(e,r){return this.getMetadata(e).next(s=>(s.byteSize+=r,this.tr(e,s)))}getEntry(e,r){let s=Y.newInvalidDocument(r);return Ea(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Vc(r))},(u,m)=>{s=this.nr(r,m)}).next(()=>s)}rr(e,r){let s={size:0,document:Y.newInvalidDocument(r)};return Ea(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Vc(r))},(u,m)=>{s={document:this.nr(r,m),size:Qi(m)}}).next(()=>s)}getEntries(e,r){let s=Vr();return this.ir(e,r,(u,m)=>{const I=this.nr(u,m);s=s.insert(u,I)}).next(()=>s)}sr(e,r){let s=Vr(),u=new ii(Yt.comparator);return this.ir(e,r,(m,I)=>{const P=this.nr(m,I);s=s.insert(m,P),u=u.insert(m,Qi(I))}).next(()=>({documents:s,_r:u}))}ir(e,r,s){if(r.isEmpty())return at.resolve();let u=new Jr(ac);r.forEach(L=>u=u.add(L));const m=IDBKeyRange.bound(Vc(u.first()),Vc(u.last())),I=u.getIterator();let P=I.getNext();return Ea(e).J({index:"documentKeyIndex",range:m},(L,J,he)=>{const Me=Yt.fromSegments([...J.prefixPath,J.collectionGroup,J.documentId]);for(;P&&ac(P,Me)<0;)s(P,null),P=I.getNext();P&&P.isEqual(Me)&&(s(P,J),P=I.hasNext()?I.getNext():null),P?he.$(Vc(P)):he.done()}).next(()=>{for(;P;)s(P,null),P=I.hasNext()?I.getNext():null})}getDocumentsMatchingQuery(e,r,s,u,m){const I=r.path,P=[I.popLast().toArray(),I.lastSegment(),ui(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],L=[I.popLast().toArray(),I.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ea(e).U(IDBKeyRange.bound(P,L,!0)).next(J=>{m?.incrementDocumentReadCount(J.length);let he=Vr();for(const Me of J){const et=this.nr(Yt.fromSegments(Me.prefixPath.concat(Me.collectionGroup,Me.documentId)),Me);et.isFoundDocument()&&(da(r,et)||u.has(et.key))&&(he=he.insert(et.key,et))}return he})}getAllFromCollectionGroup(e,r,s,u){let m=Vr();const I=Qd(r,s),P=Qd(r,gn.max());return Ea(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(I,P,!0)},(L,J,he)=>{const Me=this.nr(Yt.fromSegments(J.prefixPath.concat(J.collectionGroup,J.documentId)),J);m=m.insert(Me.key,Me),m.size===u&&he.done()}).next(()=>m)}newChangeBuffer(e){return new Kd(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Wl(e).get("remoteDocumentGlobalKey").next(r=>(Ke(!!r),r))}tr(e,r){return Wl(e).put("remoteDocumentGlobalKey",r)}nr(e,r){if(r){const s=function Tn(c,e){let r;if(e.document)r=Ao(c.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Yt.fromSegments(e.noDocument.path),u=Uo(e.noDocument.readTime);r=Y.newNoDocument(s,u),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return Tt();{const s=Yt.fromSegments(e.unknownDocument.path),u=Uo(e.unknownDocument.version);r=Y.newUnknownDocument(s,u)}}return e.readTime&&r.setReadTime(function(u){const m=new Yn(u[0],u[1]);return Qt.fromTimestamp(m)}(e.readTime)),r}(this.serializer,r);if(!s.isNoDocument()||!s.version.isEqual(Qt.min()))return s}return Y.newInvalidDocument(e)}}function Po(c){return new mp(c)}class Kd extends sc{constructor(e,r){super(),this.ar=e,this.trackRemovals=r,this.ur=new yo(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(e){const r=[];let s=0,u=new Jr((m,I)=>on(m.canonicalString(),I.canonicalString()));return this.changes.forEach((m,I)=>{const P=this.ur.get(m);if(r.push(this.ar.removeEntry(e,m,P.readTime)),I.isValidDocument()){const L=Dr(this.ar.serializer,I);u=u.add(m.path.popLast());const J=Qi(L);s+=J-P.size,r.push(this.ar.addEntry(e,m,L))}else if(s-=P.size,this.trackRemovals){const L=Dr(this.ar.serializer,I.convertToNoDocument(Qt.min()));r.push(this.ar.addEntry(e,m,L))}}),u.forEach(m=>{r.push(this.ar.indexManager.addToCollectionParentIndex(e,m))}),r.push(this.ar.updateMetadata(e,s)),at.waitFor(r)}getFromCache(e,r){return this.ar.rr(e,r).next(s=>(this.ur.set(r,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,r){return this.ar.sr(e,r).next(({documents:s,_r:u})=>(u.forEach((m,I)=>{this.ur.set(m,{size:I,readTime:s.get(m).readTime})}),s))}}function Wl(c){return zr(c,"remoteDocumentGlobal")}function Ea(c){return zr(c,"remoteDocumentsV14")}function Vc(c){const e=c.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Qd(c,e){const r=e.documentKey.path.toArray();return[c,ui(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function ac(c,e){const r=c.path.toArray(),s=e.path.toArray();let u=0;for(let m=0;m<r.length-2&&m<s.length-2;++m)if(u=on(r[m],s[m]),u)return u;return u=on(r.length,s.length),u||(u=on(r[r.length-2],s[s.length-2]),u||on(r[r.length-1],s[s.length-1]))}class en{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class Ua{constructor(e,r,s,u){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,r))).next(u=>(null!==s&&Ue(s.mutation,u,Hi.empty(),Yn.now()),u))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,fr()).next(()=>s))}getLocalViewOfDocuments(e,r,s=fr()){const u=ko();return this.populateOverlays(e,u,r).next(()=>this.computeViews(e,r,u,s).next(m=>{let I=$i();return m.forEach((P,L)=>{I=I.insert(P,L.overlayedDocument)}),I}))}getOverlayedDocuments(e,r){const s=ko();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,fr()))}populateOverlays(e,r,s){const u=[];return s.forEach(m=>{r.has(m)||u.push(m)}),this.documentOverlayCache.getOverlays(e,u).next(m=>{m.forEach((I,P)=>{r.set(I,P)})})}computeViews(e,r,s,u){let m=Vr();const I=Ss(),P=Ss();return r.forEach((L,J)=>{const he=s.get(J.key);u.has(J.key)&&(void 0===he||he.mutation instanceof Lr)?m=m.insert(J.key,J):void 0!==he?(I.set(J.key,he.mutation.getFieldMask()),Ue(he.mutation,J,he.mutation.getFieldMask(),Yn.now())):I.set(J.key,Hi.empty())}),this.recalculateAndSaveOverlays(e,m).next(L=>(L.forEach((J,he)=>I.set(J,he)),r.forEach((J,he)=>{var Me;return P.set(J,new en(he,null!==(Me=I.get(J))&&void 0!==Me?Me:null))}),P))}recalculateAndSaveOverlays(e,r){const s=Ss();let u=new ii((I,P)=>I-P),m=fr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(I=>{for(const P of I)P.keys().forEach(L=>{const J=r.get(L);if(null===J)return;let he=s.get(L)||Hi.empty();he=P.applyToLocalView(J,he),s.set(L,he);const Me=(u.get(P.batchId)||fr()).add(L);u=u.insert(P.batchId,Me)})}).next(()=>{const I=[],P=u.getReverseIterator();for(;P.hasNext();){const L=P.getNext(),J=L.key,he=L.value,Me=_s();he.forEach(et=>{if(!m.has(et)){const Ct=j(r.get(et),s.get(et));null!==Ct&&Me.set(et,Ct),m=m.add(et)}}),I.push(this.documentOverlayCache.saveOverlays(e,J,Me))}return at.waitFor(I)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,u){return Yt.isDocumentKey((I=r).path)&&null===I.collectionGroup&&0===I.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):_r(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,u):this.getDocumentsMatchingCollectionQuery(e,r,s,u);var I}getNextDocuments(e,r,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,u).next(m=>{const I=u-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,u-m.size):at.resolve(ko());let P=-1,L=m;return I.next(J=>at.forEach(J,(he,Me)=>(P<Me.largestBatchId&&(P=Me.largestBatchId),m.get(he)?at.resolve():this.remoteDocumentCache.getEntry(e,he).next(et=>{L=L.insert(he,et)}))).next(()=>this.populateOverlays(e,J,m)).next(()=>this.computeViews(e,L,J,fr())).next(he=>({batchId:P,changes:wc(he)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Yt(r)).next(s=>{let u=$i();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,r,s,u){const m=r.collectionGroup;let I=$i();return this.indexManager.getCollectionParents(e,m).next(P=>at.forEach(P,L=>{const J=(Me=r,et=L.child(m),new F(et,null,Me.explicitOrderBy.slice(),Me.filters.slice(),Me.limit,Me.limitType,Me.startAt,Me.endAt));var Me,et;return this.getDocumentsMatchingCollectionQuery(e,J,s,u).next(he=>{he.forEach((Me,et)=>{I=I.insert(Me,et)})})}).next(()=>I))}getDocumentsMatchingCollectionQuery(e,r,s,u){let m;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(I=>(m=I,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,m,u))).next(I=>{m.forEach((L,J)=>{const he=J.getKey();null===I.get(he)&&(I=I.insert(he,Y.newInvalidDocument(he)))});let P=$i();return I.forEach((L,J)=>{const he=m.get(L);void 0!==he&&Ue(he.mutation,J,Hi.empty(),Yn.now()),da(r,J)&&(P=P.insert(L,J))}),P})}}class El{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return at.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(u=r).id,version:u.version,createTime:Vi(u.createTime)}),at.resolve();var u}getNamedQuery(e,r){return at.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(u=r).name,query:ks(u.bundledQuery),readTime:Vi(u.readTime)}),at.resolve();var u}}class Yd{constructor(){this.overlays=new ii(Yt.comparator),this.hr=new Map}getOverlay(e,r){return at.resolve(this.overlays.get(r))}getOverlays(e,r){const s=ko();return at.forEach(r,u=>this.getOverlay(e,u).next(m=>{null!==m&&s.set(u,m)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((u,m)=>{this.ht(e,r,m)}),at.resolve()}removeOverlaysForBatchId(e,r,s){const u=this.hr.get(s);return void 0!==u&&(u.forEach(m=>this.overlays=this.overlays.remove(m)),this.hr.delete(s)),at.resolve()}getOverlaysForCollection(e,r,s){const u=ko(),m=r.length+1,I=new Yt(r.child("")),P=this.overlays.getIteratorFrom(I);for(;P.hasNext();){const L=P.getNext().value,J=L.getKey();if(!r.isPrefixOf(J.path))break;J.path.length===m&&L.largestBatchId>s&&u.set(L.getKey(),L)}return at.resolve(u)}getOverlaysForCollectionGroup(e,r,s,u){let m=new ii((J,he)=>J-he);const I=this.overlays.getIterator();for(;I.hasNext();){const J=I.getNext().value;if(J.getKey().getCollectionGroup()===r&&J.largestBatchId>s){let he=m.get(J.largestBatchId);null===he&&(he=ko(),m=m.insert(J.largestBatchId,he)),he.set(J.getKey(),J)}}const P=ko(),L=m.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach((J,he)=>P.set(J,he)),!(P.size()>=u)););return at.resolve(P)}ht(e,r,s){const u=this.overlays.get(s.key);if(null!==u){const I=this.hr.get(u.largestBatchId).delete(s.key);this.hr.set(u.largestBatchId,I)}this.overlays=this.overlays.insert(s.key,new Eo(r,s));let m=this.hr.get(r);void 0===m&&(m=fr(),this.hr.set(r,m)),this.hr.set(r,m.add(s.key))}}class Uc{constructor(){this.Pr=new Jr(Yi.Ir),this.Tr=new Jr(Yi.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const s=new Yi(e,r);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Ar(new Yi(e,r))}Rr(e,r){e.forEach(s=>this.removeReference(s,r))}Vr(e){const r=new Yt(new xn([])),s=new Yi(r,e),u=new Yi(r,e+1),m=[];return this.Tr.forEachInRange([s,u],I=>{this.Ar(I),m.push(I.key)}),m}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new Yt(new xn([])),s=new Yi(r,e),u=new Yi(r,e+1);let m=fr();return this.Tr.forEachInRange([s,u],I=>{m=m.add(I.key)}),m}containsKey(e){const r=new Yi(e,0),s=this.Pr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class Yi{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return Yt.comparator(e.key,r.key)||on(e.pr,r.pr)}static Er(e,r){return on(e.pr,r.pr)||Yt.comparator(e.key,r.key)}}class Og{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new Jr(Yi.Ir)}checkEmpty(e){return at.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,u){const m=this.yr;this.yr++;const I=new Wi(m,r,s,u);this.mutationQueue.push(I);for(const P of u)this.wr=this.wr.add(new Yi(P.key,m)),this.indexManager.addToCollectionParentIndex(e,P.key.path.popLast());return at.resolve(I)}lookupMutationBatch(e,r){return at.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const u=this.br(r+1),m=u<0?0:u;return at.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new Yi(r,0),u=new Yi(r,Number.POSITIVE_INFINITY),m=[];return this.wr.forEachInRange([s,u],I=>{const P=this.Sr(I.pr);m.push(P)}),at.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Jr(on);return r.forEach(u=>{const m=new Yi(u,0),I=new Yi(u,Number.POSITIVE_INFINITY);this.wr.forEachInRange([m,I],P=>{s=s.add(P.pr)})}),at.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,u=s.length+1;let m=s;Yt.isDocumentKey(m)||(m=m.child(""));const I=new Yi(new Yt(m),0);let P=new Jr(on);return this.wr.forEachWhile(L=>{const J=L.key.path;return!!s.isPrefixOf(J)&&(J.length===u&&(P=P.add(L.pr)),!0)},I),at.resolve(this.Dr(P))}Dr(e){const r=[];return e.forEach(s=>{const u=this.Sr(s);null!==u&&r.push(u)}),r}removeMutationBatch(e,r){Ke(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return at.forEach(r.mutations,u=>{const m=new Yi(u.key,r.batchId);return s=s.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.wr=s})}Mn(e){}containsKey(e,r){const s=new Yi(r,0),u=this.wr.firstAfterOrEqual(s);return at.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(e){return at.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class _p{constructor(e){this.vr=e,this.docs=new ii(Yt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,u=this.docs.get(s),m=u?u.size:0,I=this.vr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:I}),this.size+=I-m,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return at.resolve(s?s.document.mutableCopy():Y.newInvalidDocument(r))}getEntries(e,r){let s=Vr();return r.forEach(u=>{const m=this.docs.get(u);s=s.insert(u,m?m.document.mutableCopy():Y.newInvalidDocument(u))}),at.resolve(s)}getDocumentsMatchingQuery(e,r,s,u){let m=Vr();const I=r.path,P=new Yt(I.child("")),L=this.docs.getIteratorFrom(P);for(;L.hasNext();){const{key:J,value:{document:he}}=L.getNext();if(!I.isPrefixOf(J.path))break;J.path.length>I.length+1||Ur(yi(he),s)<=0||(u.has(he.key)||da(r,he))&&(m=m.insert(he.key,he.mutableCopy()))}return at.resolve(m)}getAllFromCollectionGroup(e,r,s,u){Tt()}Fr(e,r){return at.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new Yh(this)}getSize(e){return at.resolve(this.size)}}class Yh extends sc{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?r.push(this.ar.addEntry(e,u)):this.ar.removeEntry(s)}),at.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class Ng{constructor(e){this.persistence=e,this.Mr=new yo(r=>No(r),Ds),this.lastRemoteSnapshotVersion=Qt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Uc,this.targetCount=0,this.Lr=jr.Nn()}forEachTarget(e,r){return this.Mr.forEach((s,u)=>r(u)),at.resolve()}getLastRemoteSnapshotVersion(e){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return at.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Or&&(this.Or=r),at.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Lr=new jr(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,at.resolve()}updateTargetData(e,r){return this.qn(r),at.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,at.resolve()}removeTargets(e,r,s){let u=0;const m=[];return this.Mr.forEach((I,P)=>{P.sequenceNumber<=r&&null===s.get(P.targetId)&&(this.Mr.delete(I),m.push(this.removeMatchingKeysForTargetId(e,P.targetId)),u++)}),at.waitFor(m).next(()=>u)}getTargetCount(e){return at.resolve(this.targetCount)}getTargetData(e,r){const s=this.Mr.get(r)||null;return at.resolve(s)}addMatchingKeys(e,r,s){return this.Nr.dr(r,s),at.resolve()}removeMatchingKeys(e,r,s){this.Nr.Rr(r,s);const u=this.persistence.referenceDelegate,m=[];return u&&r.forEach(I=>{m.push(u.markPotentiallyOrphaned(e,I))}),at.waitFor(m)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),at.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Nr.gr(r);return at.resolve(s)}containsKey(e,r){return at.resolve(this.Nr.containsKey(r))}}class Jh{constructor(e,r){this.Br={},this.overlays={},this.kr=new B(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Ng(this),this.indexManager=new xg,this.remoteDocumentCache=new _p(s=>this.referenceDelegate.Kr(s)),this.serializer=new Mt(r),this.$r=new El(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Yd,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.Br[e.toKey()];return s||(s=new Og(r,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,s){Ee("MemoryPersistence","Starting transaction:",e);const u=new vp(this.kr.next());return this.referenceDelegate.Ur(),s(u).next(m=>this.referenceDelegate.Wr(u).next(()=>m)).toPromise().then(m=>(u.raiseOnCommittedEvent(),m))}Gr(e,r){return at.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,r)))}}class vp extends Or{constructor(e){super(),this.currentSequenceNumber=e}}class Jd{constructor(e){this.persistence=e,this.zr=new Uc,this.jr=null}static Hr(e){return new Jd(e)}get Jr(){if(this.jr)return this.jr;throw Tt()}addReference(e,r,s){return this.zr.addReference(s,r),this.Jr.delete(s.toString()),at.resolve()}removeReference(e,r,s){return this.zr.removeReference(s,r),this.Jr.add(s.toString()),at.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),at.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(u=>this.Jr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(u=>{u.forEach(m=>this.Jr.add(m.toString()))}).next(()=>s.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.Jr,s=>{const u=Yt.fromPath(s);return this.Yr(e,u).next(m=>{m||r.removeEntry(u,Qt.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(s=>{s?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return at.or([()=>at.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class Il{constructor(e){this.serializer=e}O(e,r,s,u){const m=new wt("createOrUpgrade",r);var L;s<1&&u>=1&&(e.createObjectStore("owner"),(L=e).createObjectStore("mutationQueues",{keyPath:"userId"}),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Jn,{unique:!0}),L.createObjectStore("documentMutations"),Xh(e),function(L){L.createObjectStore("remoteDocuments")}(e));let I=at.resolve();return s<3&&u>=3&&(0!==s&&(function(L){L.deleteObjectStore("targetDocuments"),L.deleteObjectStore("targets"),L.deleteObjectStore("targetGlobal")}(e),Xh(e)),I=I.next(()=>function(L){const J=L.store("targetGlobal"),he={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Qt.min().toTimestamp(),targetCount:0};return J.put("targetGlobalKey",he)}(m))),s<4&&u>=4&&(0!==s&&(I=I.next(()=>function(L,J){return J.store("mutations").U().next(he=>{L.deleteObjectStore("mutations"),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Jn,{unique:!0});const Me=J.store("mutations"),et=he.map(Ct=>Me.put(Ct));return at.waitFor(et)})}(e,m))),I=I.next(()=>{!function(L){L.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&u>=5&&(I=I.next(()=>this.Xr(m))),s<6&&u>=6&&(I=I.next(()=>(function(L){L.createObjectStore("remoteDocumentGlobal")}(e),this.ei(m)))),s<7&&u>=7&&(I=I.next(()=>this.ti(m))),s<8&&u>=8&&(I=I.next(()=>this.ni(e,m))),s<9&&u>=9&&(I=I.next(()=>{!function(L){L.objectStoreNames.contains("remoteDocumentChanges")&&L.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&u>=10&&(I=I.next(()=>this.ri(m))),s<11&&u>=11&&(I=I.next(()=>{(function(L){L.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(L){L.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&u>=12&&(I=I.next(()=>{!function(L){const J=L.createObjectStore("documentOverlays",{keyPath:Vn});J.createIndex("collectionPathOverlayIndex",vn,{unique:!1}),J.createIndex("collectionGroupOverlayIndex",$n,{unique:!1})}(e)})),s<13&&u>=13&&(I=I.next(()=>function(L){const J=L.createObjectStore("remoteDocumentsV14",{keyPath:jt});J.createIndex("documentKeyIndex",Xt),J.createIndex("collectionGroupIndex",En)}(e)).next(()=>this.ii(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(I=I.next(()=>this.si(e,m))),s<15&&u>=15&&(I=I.next(()=>function(L){L.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),L.createObjectStore("indexState",{keyPath:ft}).createIndex("sequenceNumberIndex",Ft,{unique:!1}),L.createObjectStore("indexEntries",{keyPath:un}).createIndex("documentKeyIndex",Ln,{unique:!1})}(e))),s<16&&u>=16&&(I=I.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),I}ei(e){let r=0;return e.store("remoteDocuments").J((s,u)=>{r+=Qi(u)}).next(()=>{const s={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Xr(e){const r=e.store("mutationQueues"),s=e.store("mutations");return r.U().next(u=>at.forEach(u,m=>{const I=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",I).next(P=>at.forEach(P,L=>{Ke(L.userId===m.userId);const J=os(this.serializer,L);return gp(e,m.userId,J).next(()=>{})}))}))}ti(e){const r=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const m=[];return s.J((I,P)=>{const L=new xn(I),J=[0,$t(L)];m.push(r.get(J).next(he=>he?at.resolve():r.put({targetId:0,path:$t(L),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>at.waitFor(m))})}ni(e,r){e.createObjectStore("collectionParents",{keyPath:yt});const s=r.store("collectionParents"),u=new qd,m=I=>{if(u.add(I)){const P=I.lastSegment(),L=I.popLast();return s.put({collectionId:P,parent:$t(L)})}};return r.store("remoteDocuments").J({H:!0},(I,P)=>{const L=new xn(I);return m(L.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([I,P,L],J)=>{const he=fn(P);return m(he.popLast())}))}ri(e){const r=e.store("targets");return r.J((s,u)=>{const m=Ns(u),I=_a(this.serializer,m);return r.put(I)})}ii(e,r){const s=r.store("remoteDocuments"),u=[];return s.J((m,I)=>{const P=r.store("remoteDocumentsV14"),L=(Me=I,Me.document?new Yt(xn.fromString(Me.document.name).popFirst(5)):Me.noDocument?Yt.fromSegments(Me.noDocument.path):Me.unknownDocument?Yt.fromSegments(Me.unknownDocument.path):Tt()).path.toArray(),J={prefixPath:L.slice(0,L.length-2),collectionGroup:L[L.length-2],documentId:L[L.length-1],readTime:I.readTime||[0,0],unknownDocument:I.unknownDocument,noDocument:I.noDocument,document:I.document,hasCommittedMutations:!!I.hasCommittedMutations};var Me;u.push(P.put(J))}).next(()=>at.waitFor(u))}si(e,r){const s=r.store("mutations"),u=Po(this.serializer),m=new Jh(Jd.Hr,this.serializer.ct);return s.U().next(I=>{const P=new Map;return I.forEach(L=>{var J;let he=null!==(J=P.get(L.userId))&&void 0!==J?J:fr();os(this.serializer,L).keys().forEach(Me=>he=he.add(Me)),P.set(L.userId,he)}),at.forEach(P,(L,J)=>{const he=new tt(J),Me=zl.lt(this.serializer,he),et=m.getIndexManager(he),Ct=Zl.lt(he,this.serializer,et,m.referenceDelegate);return new Ua(u,Ct,Me,et).recalculateAndSaveOverlaysForDocumentKeys(new lo(r,B.oe),L).next()})})}}function Xh(c){c.createObjectStore("targetDocuments",{keyPath:hr}).createIndex("documentTargetsIndex",yn,{unique:!0}),c.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",cn,{unique:!0}),c.createObjectStore("targetGlobal")}const Xd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class po{constructor(e,r,s,u,m,I,P,L,J,he,Me=16){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=s,this.oi=m,this.window=I,this.document=P,this._i=J,this.ai=he,this.ui=Me,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=et=>Promise.resolve(),!po.D())throw new te(we.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Qh(this,u),this.Ti=r+"main",this.serializer=new Mt(L),this.Ei=new ue(this.Ti,this.ui,new Il(this.serializer)),this.Qr=new vl(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Po(this.serializer),this.$r=new Fi,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===he&&Nt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new te(we.FAILED_PRECONDITION,Xd);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new B(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var r=this;return this.Ii=function(){var s=(0,f.Z)(function*(u){if(r.started)return e(u)});return function(u){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var r=(0,f.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,f.Z)(function*(){r.started&&(yield r.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>lc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(r=>{r||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(r=>this.isPrimary&&!r?this.yi(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(zn(e))return Ee("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ee("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return cc(e).get("owner").next(r=>at.resolve(this.Si(r)))}bi(e){return lc(e).delete(this.clientId)}Di(){var e=this;return(0,f.Z)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=zr(s,"clientMetadata");return u.U().next(m=>{const I=e.vi(m,18e5),P=m.filter(L=>-1===I.indexOf(L));return at.forEach(P,L=>u.delete(L.clientId)).next(()=>P)})}).catch(()=>[]);if(e.di)for(const s of r)e.di.removeItem(e.Fi(s.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?at.resolve(!0):cc(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)){if(this.Si(r)&&this.networkEnabled)return!0;if(!this.Si(r)){if(!r.allowTabSynchronization)throw new te(we.FAILED_PRECONDITION,Xd);return!1}}return!(!this.networkEnabled||!this.inForeground)||lc(e).U().next(s=>void 0===this.vi(s,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(r=>(this.isPrimary!==r&&Ee("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,f.Z)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const s=new lo(r,B.oe);return e.yi(s).next(()=>e.bi(s))}),e.Ei.close(),e.Li()})()}vi(e,r){return e.filter(s=>this.Ci(s.updateTimeMs,r)&&!this.Mi(s.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>lc(e).U().next(r=>this.vi(r,18e5).map(s=>s.clientId)))}get started(){return this.qr}getMutationQueue(e,r){return Zl.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Hu(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return zl.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,r,s){Ee("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===r?"readonly":"readwrite",m=16===(L=this.ui)?gi:15===L?xi:14===L?ur:13===L?ei:12===L?fi:11===L?Pr:void Tt();var L;let I;return this.Ei.runTransaction(e,u,m,P=>(I=new lo(P,this.kr?this.kr.next():B.oe),"readwrite-primary"===r?this.gi(I).next(L=>!!L||this.pi(I)).next(L=>{if(!L)throw Nt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new te(we.FAILED_PRECONDITION,sr);return s(I)}).next(L=>this.wi(I).next(()=>L)):this.ki(I).next(()=>s(I)))).then(P=>(I.raiseOnCommittedEvent(),P))}ki(e){return cc(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)&&!this.Si(r)&&!(this.ai||this.allowTabSynchronization&&r.allowTabSynchronization))throw new te(we.FAILED_PRECONDITION,Xd)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cc(e).put("owner",r)}static D(){return ue.D()}yi(e){const r=cc(e);return r.get("owner").next(s=>this.Si(s)?(Ee("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):at.resolve())}Ci(e,r){const s=Date.now();return!(e<s-r||e>s&&(Nt(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const r=/(?:Version|Mobile)\/1[456]/;(0,_e.G6)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var r;try{const s=null!==(null===(r=this.di)||void 0===r?void 0:r.getItem(this.Fi(e)));return Ee("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Nt("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Nt("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function cc(c){return zr(c,"owner")}function lc(c){return zr(c,"clientMetadata")}function eh(c,e){let r=c.projectId;return c.isDefaultDatabase||(r+="."+c.database),"firestore/"+e+"/"+r+"/"}class ss{constructor(e,r,s,u){this.targetId=e,this.fromCache=r,this.qi=s,this.Qi=u}static Ki(e,r){let s=fr(),u=fr();for(const m of r.docChanges)switch(m.type){case 0:s=s.add(m.doc.key);break;case 1:u=u.add(m.doc.key)}return new ss(e,r.fromCache,s,u)}}class uc{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class th{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,_e.G6)()?8:Be((0,_e.z$)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,s,u){const m={result:null};return this.ji(e,r).next(I=>{m.result=I}).next(()=>{if(!m.result)return this.Hi(e,r,u,s).next(I=>{m.result=I})}).next(()=>{if(m.result)return;const I=new uc;return this.Ji(e,r,I).next(P=>{if(m.result=P,this.Ui)return this.Yi(e,r,I,P.size)})}).next(()=>m.result)}Yi(e,r,s,u){return s.documentReadCount<this.Wi?(dt()<=Se.in.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Pa(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),at.resolve()):(dt()<=Se.in.DEBUG&&Ee("QueryEngine","Query:",Pa(r),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Gi*u?(dt()<=Se.in.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Pa(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_i(r))):at.resolve())}ji(e,r){if(Fn(r))return at.resolve(null);let s=_i(r);return this.indexManager.getIndexType(e,s).next(u=>0===u?null:(null!==r.limit&&1===u&&(r=ec(r,null,"F"),s=_i(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(m=>{const I=fr(...m);return this.zi.getDocuments(e,I).next(P=>this.indexManager.getMinOffset(e,s).next(L=>{const J=this.Zi(r,P);return this.Xi(r,J,I,L.readTime)?this.ji(e,ec(r,null,"F")):this.es(e,J,r,L)}))})))}Hi(e,r,s,u){return Fn(r)||u.isEqual(Qt.min())?at.resolve(null):this.zi.getDocuments(e,s).next(m=>{const I=this.Zi(r,m);return this.Xi(r,I,s,u)?at.resolve(null):(dt()<=Se.in.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Pa(r)),this.es(e,I,r,Yr(u,-1)).next(P=>P))})}Zi(e,r){let s=new Jr(rs(e));return r.forEach((u,m)=>{da(e,m)&&(s=s.add(m))}),s}Xi(e,r,s,u){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const m="F"===e.limitType?r.last():r.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(u)>0)}Ji(e,r,s){return dt()<=Se.in.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Pa(r)),this.zi.getDocumentsMatchingQuery(e,r,gn.min(),s)}es(e,r,s,u){return this.zi.getDocumentsMatchingQuery(e,s,u).next(m=>(r.forEach(I=>{m=m.insert(I.key,I)}),m))}}class Kl{constructor(e,r,s,u){this.persistence=e,this.ts=r,this.serializer=u,this.ns=new ii(on),this.rs=new yo(m=>No(m),Ds),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(s)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ua(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function Bc(c,e,r,s){return new Kl(c,e,r,s)}function jc(c,e){return ef.apply(this,arguments)}function ef(){return(ef=(0,f.Z)(function*(c,e){const r=Le(c);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let u;return r.mutationQueue.getAllMutationBatches(s).next(m=>(u=m,r._s(e),r.mutationQueue.getAllMutationBatches(s))).next(m=>{const I=[],P=[];let L=fr();for(const J of u){I.push(J.batchId);for(const he of J.mutations)L=L.add(he.key)}for(const J of m){P.push(J.batchId);for(const he of J.mutations)L=L.add(he.key)}return r.localDocuments.getDocuments(s,L).next(J=>({us:J,removedBatchIds:I,addedBatchIds:P}))})})})).apply(this,arguments)}function yp(c){const e=Le(c);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function qu(c,e,r){let s=fr(),u=fr();return r.forEach(m=>s=s.add(m)),e.getEntries(c,s).next(m=>{let I=Vr();return r.forEach((P,L)=>{const J=m.get(P);L.isFoundDocument()!==J.isFoundDocument()&&(u=u.add(P)),L.isNoDocument()&&L.version.isEqual(Qt.min())?(e.removeEntry(P,L.readTime),I=I.insert(P,L)):!J.isValidDocument()||L.version.compareTo(J.version)>0||0===L.version.compareTo(J.version)&&J.hasPendingWrites?(e.addEntry(L),I=I.insert(P,L)):Ee("LocalStore","Ignoring outdated watch update for ",P,". Current version:",J.version," Watch version:",L.version)}),{cs:I,ls:u}})}function Hc(c,e){const r=Le(c);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Ql(c,e){const r=Le(c);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return r.Qr.getTargetData(s,e).next(m=>m?(u=m,at.resolve(u)):r.Qr.allocateTargetId(s).next(I=>(u=new Dt(e,I,"TargetPurposeListen",s.currentSequenceNumber),r.Qr.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=r.ns.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.ns=r.ns.insert(s.targetId,s),r.rs.set(e,s.targetId)),s})}function Aa(c,e,r){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,f.Z)(function*(c,e,r){const s=Le(c),u=s.ns.get(e),m=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",m,I=>s.persistence.referenceDelegate.removeTarget(I,u)))}catch(I){if(!zn(I))throw I;Ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${I}`)}s.ns=s.ns.remove(e),s.rs.delete(u.target)})).apply(this,arguments)}function Wu(c,e,r){const s=Le(c);let u=Qt.min(),m=fr();return s.persistence.runTransaction("Execute query","readwrite",I=>function(L,J,he){const Me=Le(L),et=Me.rs.get(he);return void 0!==et?at.resolve(Me.ns.get(et)):Me.Qr.getTargetData(J,he)}(s,I,_i(e)).next(P=>{if(P)return u=P.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(I,P.targetId).next(L=>{m=L})}).next(()=>s.ts.getDocumentsMatchingQuery(I,e,r?u:Qt.min(),r?m:fr())).next(P=>(rh(s,Tc(e),P),{documents:P,hs:m})))}function Ku(c,e){const r=Le(c),s=Le(r.Qr),u=r.ns.get(e);return u?Promise.resolve(u.target):r.persistence.runTransaction("Get target data","readonly",m=>s.ot(m,e).next(I=>I?I.target:null))}function tf(c,e){const r=Le(c),s=r.ss.get(e)||Qt.min();return r.persistence.runTransaction("Get new document changes","readonly",u=>r.os.getAllFromCollectionGroup(u,e,Yr(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(rh(r,e,u),u))}function rh(c,e,r){let s=c.ss.get(e)||Qt.min();r.forEach((u,m)=>{m.readTime.compareTo(s)>0&&(s=m.readTime)}),c.ss.set(e,s)}function zc(){return(zc=(0,f.Z)(function*(c,e,r,s){const u=Le(c);let m=fr(),I=Vr();for(const J of r){const he=e.Ps(J.metadata.name);J.document&&(m=m.add(he));const Me=e.Is(J);Me.setReadTime(e.Ts(J.metadata.readTime)),I=I.insert(he,Me)}const P=u.os.newChangeBuffer({trackRemovals:!0}),L=yield Ql(u,(he=s,_i(ze(xn.fromString(`__bundle__/docs/${he}`)))));var he;return u.persistence.runTransaction("Apply bundle documents","readwrite",J=>qu(J,P,I).next(he=>(P.apply(J),he)).next(he=>u.Qr.removeMatchingKeysForTargetId(J,L.targetId).next(()=>u.Qr.addMatchingKeys(J,m,L.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(J,he.cs,he.ls)).next(()=>he.cs)))})).apply(this,arguments)}function bl(c,e){return nf.apply(this,arguments)}function nf(){return(nf=(0,f.Z)(function*(c,e,r=fr()){const s=yield Ql(c,_i(ks(e.bundledQuery))),u=Le(c);return u.persistence.runTransaction("Save named query","readwrite",m=>{const I=Vi(e.readTime);if(s.snapshotVersion.compareTo(I)>=0)return u.$r.saveNamedQuery(m,e);const P=s.withResumeToken(Pi.EMPTY_BYTE_STRING,I);return u.ns=u.ns.insert(P.targetId,P),u.Qr.updateTargetData(m,P).next(()=>u.Qr.removeMatchingKeysForTargetId(m,s.targetId)).next(()=>u.Qr.addMatchingKeys(m,r,s.targetId)).next(()=>u.$r.saveNamedQuery(m,e))})})).apply(this,arguments)}function $c(c,e){return`firestore_clients_${c}_${e}`}function ih(c,e,r){let s=`firestore_mutations_${c}_${r}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Ba(c,e){return`firestore_targets_${c}_${e}`}class Jl{constructor(e,r,s,u){this.user=e,this.batchId=r,this.state=s,this.error=u}static Es(e,r,s){const u=JSON.parse(s);let m,I="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return I&&u.error&&(I="string"==typeof u.error.message&&"string"==typeof u.error.code,I&&(m=new te(u.error.code,u.error.message))),I?new Jl(e,r,u.state,m):(Nt("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Zc{constructor(e,r,s){this.targetId=e,this.state=r,this.error=s}static Es(e,r){const s=JSON.parse(r);let u,m="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return m&&s.error&&(m="string"==typeof s.error.message&&"string"==typeof s.error.code,m&&(u=new te(s.error.code,s.error.message))),m?new Zc(e,s.state,u):(Nt("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Cl{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Es(e,r){const s=JSON.parse(r);let u="object"==typeof s&&s.activeTargetIds instanceof Array,m=ll();for(let I=0;u&&I<s.activeTargetIds.length;++I)u=kt(s.activeTargetIds[I]),m=m.add(s.activeTargetIds[I]);return u?new Cl(e,m):(Nt("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class Tl{constructor(e,r){this.clientId=e,this.onlineState=r}static Es(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new Tl(r.clientId,r.onlineState):(Nt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Qu{constructor(){this.activeTargetIds=ll()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oh{constructor(e,r,s,u,m){this.window=e,this.oi=r,this.persistenceKey=s,this.Vs=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new ii(on),this.started=!1,this.ys=[];const I=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.ws=$c(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new Qu),this.bs=new RegExp(`^firestore_clients_${I}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${I}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${I}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(L){return`firestore_bundle_loaded_v2_${L}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,f.Z)(function*(){const r=yield e.syncEngine.Bi();for(const u of r){if(u===e.Vs)continue;const m=e.getItem($c(e.persistenceKey,u));if(m){const I=Cl.Es(u,m);I&&(e.ps=e.ps.insert(I.clientId,I))}}e.Ms();const s=e.storage.getItem(e.vs);if(s){const u=e.xs(s);u&&e.Os(u)}for(const u of e.ys)e.gs(u);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let r=!1;return this.ps.forEach((s,u)=>{u.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,r,s){this.Ls(e,r,s),this.Bs(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Ba(this.persistenceKey,e));if(s){const u=Zc.Es(e,s);u&&(r=u.state)}}return this.ks.As(e),this.Ms(),r}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ba(this.persistenceKey,e))}updateQueryState(e,r,s){this.qs(e,r,s)}handleUserChange(e,r,s){r.forEach(u=>{this.Bs(u)}),this.currentUser=e,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return Ee("SharedClientState","READ",e,r),r}setItem(e,r){Ee("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){Ee("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var r=this;const s=e;if(s.storageArea===this.storage){if(Ee("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ws)return void Nt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,f.Z)(function*(){if(r.started){if(null!==s.key)if(r.bs.test(s.key)){if(null==s.newValue){const u=r.$s(s.key);return r.Us(u,null)}{const u=r.Ws(s.key,s.newValue);if(u)return r.Us(u.clientId,u)}}else if(r.Ds.test(s.key)){if(null!==s.newValue){const u=r.Gs(s.key,s.newValue);if(u)return r.zs(u)}}else if(r.Cs.test(s.key)){if(null!==s.newValue){const u=r.js(s.key,s.newValue);if(u)return r.Hs(u)}}else if(s.key===r.vs){if(null!==s.newValue){const u=r.xs(s.newValue);if(u)return r.Os(u)}}else if(s.key===r.Ss){const u=function(I){let P=B.oe;if(null!=I)try{const L=JSON.parse(I);Ke("number"==typeof L),P=L}catch(L){Nt("SharedClientState","Failed to read sequence number from WebStorage",L)}return P}(s.newValue);u!==B.oe&&r.sequenceNumberHandler(u)}else if(s.key===r.Fs){const u=r.Js(s.newValue);yield Promise.all(u.map(m=>r.syncEngine.Ys(m)))}}else r.ys.push(s)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,r,s){const u=new Jl(this.currentUser,e,r,s),m=ih(this.persistenceKey,this.currentUser,e);this.setItem(m,u.ds())}Bs(e){const r=ih(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,r,s){const u=Ba(this.persistenceKey,e),m=new Zc(e,r,s);this.setItem(u,m.ds())}Ks(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Fs,r)}$s(e){const r=this.bs.exec(e);return r?r[1]:null}Ws(e,r){const s=this.$s(e);return Cl.Es(s,r)}Gs(e,r){const s=this.Ds.exec(e),u=Number(s[1]);return Jl.Es(new tt(void 0!==s[2]?s[2]:null),u,r)}js(e,r){const s=this.Cs.exec(e),u=Number(s[1]);return Zc.Es(u,r)}xs(e){return Tl.Es(e)}Js(e){return JSON.parse(e)}zs(e){var r=this;return(0,f.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Zs(e.batchId,e.state,e.error);Ee("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,r){const s=r?this.ps.insert(e,r):this.ps.remove(e),u=this.Ns(this.ps),m=this.Ns(s),I=[],P=[];return m.forEach(L=>{u.has(L)||I.push(L)}),u.forEach(L=>{m.has(L)||P.push(L)}),this.syncEngine.eo(I,P).then(()=>{this.ps=s})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let r=ll();return e.forEach((s,u)=>{r=r.unionWith(u.activeTargetIds)}),r}}class rf{constructor(){this.no=new Qu,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,s){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Qu,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Gc{io(e){}shutdown(){}}class wl{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let sh=null;function sf(){return null===sh?sh=268435456+Math.round(2147483648*Math.random()):sh++,"0x"+sh.toString(16)}const T={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class g{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const v="WebChannelConnection";class M extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),m=encodeURIComponent(this.databaseId.database);this.wo=s+"://"+r.host,this.So=`projects/${u}/databases/${m}`,this.bo="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${m}`}get Do(){return!1}Co(r,s,u,m,I){const P=sf(),L=this.vo(r,s.toUriEncodedString());Ee("RestConnection",`Sending RPC '${r}' ${P}:`,L,u);const J={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(J,m,I),this.Mo(r,L,J,u).then(he=>(Ee("RestConnection",`Received RPC '${r}' ${P}: `,he),he),he=>{throw Vt("RestConnection",`RPC '${r}' ${P} failed with error: `,he,"url: ",L,"request:",u),he})}xo(r,s,u,m,I,P){return this.Co(r,s,u,m,I)}Fo(r,s,u){r["X-Goog-Api-Client"]="gl-js/ fire/"+Ze,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((m,I)=>r[I]=m),u&&u.headers.forEach((m,I)=>r[I]=m)}vo(r,s){return`${this.wo}/v1/${s}:${T[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,r,s,u){const m=sf();return new Promise((I,P)=>{const L=new se;L.setWithCredentials(!0),L.listenOnce(De.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case Re.NO_ERROR:const he=L.getResponseJson();Ee(v,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(he)),I(he);break;case Re.TIMEOUT:Ee(v,`RPC '${e}' ${m} timed out`),P(new te(we.DEADLINE_EXCEEDED,"Request time out"));break;case Re.HTTP_ERROR:const Me=L.getStatus();if(Ee(v,`RPC '${e}' ${m} failed with status:`,Me,"response text:",L.getResponseText()),Me>0){let et=L.getResponseJson();Array.isArray(et)&&(et=et[0]);const Ct=et?.error;if(Ct&&Ct.status&&Ct.message){const qt=function(nn){const Zn=nn.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(Zn)>=0?Zn:we.UNKNOWN}(Ct.status);P(new te(qt,Ct.message))}else P(new te(we.UNKNOWN,"Server responded with status "+L.getStatus()))}else P(new te(we.UNAVAILABLE,"Connection failed."));break;default:Tt()}}finally{Ee(v,`RPC '${e}' ${m} completed.`)}});const J=JSON.stringify(u);Ee(v,`RPC '${e}' ${m} sending request:`,u),L.send(r,"POST",J,s,15)})}Oo(e,r,s){const u=sf(),m=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],I=Fe(),P=_t(),L={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},J=this.longPollingOptions.timeoutSeconds;void 0!==J&&(L.longPollingTimeout=Math.round(1e3*J)),this.useFetchStreams&&(L.xmlHttpFactory=new be({})),this.Fo(L.initMessageHeaders,r,s),L.encodeInitMessageHeaders=!0;const he=m.join("");Ee(v,`Creating RPC '${e}' stream ${u}: ${he}`,L);const Me=I.createWebChannel(he,L);let et=!1,Ct=!1;const qt=new g({lo:nn=>{Ct?Ee(v,`Not sending because RPC '${e}' stream ${u} is closed:`,nn):(et||(Ee(v,`Opening RPC '${e}' stream ${u} transport.`),Me.open(),et=!0),Ee(v,`RPC '${e}' stream ${u} sending:`,nn),Me.send(nn))},ho:()=>Me.close()}),hn=(nn,Zn,ir)=>{nn.listen(Zn,Kn=>{try{ir(Kn)}catch(xr){setTimeout(()=>{throw xr},0)}})};return hn(Me,ye.EventType.OPEN,()=>{Ct||(Ee(v,`RPC '${e}' stream ${u} transport opened.`),qt.mo())}),hn(Me,ye.EventType.CLOSE,()=>{Ct||(Ct=!0,Ee(v,`RPC '${e}' stream ${u} transport closed`),qt.po())}),hn(Me,ye.EventType.ERROR,nn=>{Ct||(Ct=!0,Vt(v,`RPC '${e}' stream ${u} transport errored:`,nn),qt.po(new te(we.UNAVAILABLE,"The operation could not be completed")))}),hn(Me,ye.EventType.MESSAGE,nn=>{var Zn;if(!Ct){const ir=nn.data[0];Ke(!!ir);const xr=ir.error||(null===(Zn=ir[0])||void 0===Zn?void 0:Zn.error);if(xr){Ee(v,`RPC '${e}' stream ${u} received error:`,xr);const Ti=xr.status;let qr=function(st){const gt=Ci[st];if(void 0!==gt)return zo(gt)}(Ti),pt=xr.message;void 0===qr&&(qr=we.INTERNAL,pt="Unknown error status: "+Ti+" with message "+xr.message),Ct=!0,qt.po(new te(qr,pt)),Me.close()}else Ee(v,`RPC '${e}' stream ${u} received:`,ir),qt.yo(ir)}}),hn(P,We.STAT_EVENT,nn=>{nn.stat===Ye.PROXY?Ee(v,`RPC '${e}' stream ${u} detected buffering proxy`):nn.stat===Ye.NOPROXY&&Ee(v,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{qt.fo()},0),qt}}function X(){return typeof window<"u"?window:null}function me(){return typeof document<"u"?document:null}function rt(c){return new xu(c,!0)}class Pt{constructor(e,r,s=1e3,u=1.5,m=6e4){this.oi=e,this.timerId=r,this.No=s,this.Lo=u,this.Bo=m,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const r=Math.floor(this.ko+this.Uo()),s=Math.max(0,Date.now()-this.Qo),u=Math.max(0,r-s);u>0&&Ee("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.ko} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,u,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class Jt{constructor(e,r,s,u,m,I,P,L){this.oi=e,this.Go=s,this.zo=u,this.connection=m,this.authCredentialsProvider=I,this.appCheckCredentialsProvider=P,this.listener=L,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Pt(e,r)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,f.Z)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,f.Z)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,r){var s=this;return(0,f.Z)(function*(){s.s_(),s.o_(),s.Yo.cancel(),s.jo++,4!==e?s.Yo.reset():r&&r.code===we.RESOURCE_EXHAUSTED?(Nt(r.toString()),Nt("Using maximum backoff delay to prevent overloading the backend."),s.Yo.Ko()):r&&r.code===we.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.__(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Ao(r)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),r=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.jo===r&&this.u_(s,u)},s=>{e(()=>{const u=new te(we.UNKNOWN,"Fetching auth token failed: "+s.message);return this.c_(u)})})}u_(e,r){const s=this.a_(this.jo);this.stream=this.l_(e,r),this.stream.Po(()=>{s(()=>this.listener.Po())}),this.stream.To(()=>{s(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(u=>{s(()=>this.c_(u))}),this.stream.onMessage(u=>{s(()=>this.onMessage(u))})}e_(){var e=this;this.state=5,this.Yo.$o((0,f.Z)(function*(){e.state=0,e.start()}))}c_(e){return Ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return r=>{this.oi.enqueueAndForget(()=>this.jo===e?r():(Ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kn extends Jt{constructor(e,r,s,u,m,I){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,u,I),this.serializer=m}l_(e,r){return this.connection.Oo("Listen",e,r)}onMessage(e){this.Yo.reset();const r=function Nc(c,e){let r;if("targetChange"in e){const s="NO_CHANGE"===(J=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===J?1:"REMOVE"===J?2:"CURRENT"===J?3:"RESET"===J?4:Tt(),u=e.targetChange.targetIds||[],m=function(J,he){return J.useProto3Json?(Ke(void 0===he||"string"==typeof he),Pi.fromBase64String(he||"")):(Ke(void 0===he||he instanceof Buffer||he instanceof Uint8Array),Pi.fromUint8Array(he||new Uint8Array))}(c,e.targetChange.resumeToken),I=e.targetChange.cause,P=I&&function(J){const he=void 0===J.code?we.UNKNOWN:zo(J.code);return new te(he,J.message||"")}(I);r=new Js(s,u,m,P||null)}else if("documentChange"in e){const s=e.documentChange,u=Rs(c,s.document.name),m=Vi(s.document.updateTime),I=s.document.createTime?Vi(s.document.createTime):Qt.min(),P=new ci({mapValue:{fields:s.document.fields}}),L=Y.newFoundDocument(u,m,I,P);r=new Rc(s.targetIds||[],s.removedTargetIds||[],L.key,L)}else if("documentDelete"in e){const s=e.documentDelete,u=Rs(c,s.document),m=s.readTime?Vi(s.readTime):Qt.min(),I=Y.newNoDocument(u,m);r=new Rc([],s.removedTargetIds||[],I.key,I)}else if("documentRemove"in e){const s=e.documentRemove,u=Rs(c,s.document);r=new Rc([],s.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Tt();{const s=e.filter,{count:u=0,unchangedNames:m}=s,I=new Go(u,m);r=new Ld(s.targetId,I)}}var J;return r}(this.serializer,e),s=function(m){if(!("targetChange"in m))return Qt.min();const I=m.targetChange;return I.targetIds&&I.targetIds.length?Qt.min():I.readTime?Vi(I.readTime):Qt.min()}(e);return this.listener.h_(r,s)}P_(e){const r={};r.database=Gr(this.serializer),r.addTarget=function(m,I){let P;const L=I.target;if(P=Xa(L)?{documents:jd(m,L)}:{query:Hd(m,L)._t},P.targetId=I.targetId,I.resumeToken.approximateByteSize()>0){P.resumeToken=Ud(m,I.resumeToken);const J=Oc(m,I.expectedCount);null!==J&&(P.expectedCount=J)}else if(I.snapshotVersion.compareTo(Qt.min())>0){P.readTime=Na(m,I.snapshotVersion.toTimestamp());const J=Oc(m,I.expectedCount);null!==J&&(P.expectedCount=J)}return P}(this.serializer,e);const s=function Os(c,e){const r=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.i_(r)}I_(e){const r={};r.database=Gr(this.serializer),r.removeTarget=e,this.i_(r)}}class tr extends Jt{constructor(e,r,s,u,m,I){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,u,I),this.serializer=m,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,r){return this.connection.Oo("Write",e,r)}onMessage(e){if(Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const r=function ic(c,e){return c&&c.length>0?(Ke(void 0!==e),c.map(r=>function(u,m){let I=Vi(u.updateTime?u.updateTime:m);return I.isEqual(Qt.min())&&(I=Vi(m)),new fl(I,u.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=Vi(e.commitTime);return this.listener.A_(s,r)}return Ke(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Gr(this.serializer),this.i_(e)}d_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>Vo(this.serializer,s))};this.i_(r)}}class vr extends class{}{constructor(e,r,s,u){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=u,this.m_=!1}f_(){if(this.m_)throw new te(we.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,r,s,u){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,I])=>this.connection.Co(e,Bd(r,s),u,m,I)).catch(m=>{throw"FirebaseError"===m.name?(m.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new te(we.UNKNOWN,m.toString())})}xo(e,r,s,u,m){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([I,P])=>this.connection.xo(e,Bd(r,s),u,I,P,m)).catch(I=>{throw"FirebaseError"===I.name?(I.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),I):new te(we.UNKNOWN,I.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class Vs{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Nt(r),this.y_=!1):Ee("OnlineStateTracker",r)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class qc{constructor(e,r,s,u,m){var I=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=m,this.O_.io(P=>{s.enqueueAndForget((0,f.Z)(function*(){var L;Qc(I)&&(Ee("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,f.Z)(function*(he){const Me=Le(he);Me.M_.add(4),yield dc(Me),Me.N_.set("Unknown"),Me.M_.delete(4),yield Wc(Me)}),function J(he){return L.apply(this,arguments)})(I))}))}),this.N_=new Vs(s,u)}}function Wc(c){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,f.Z)(function*(c){if(Qc(c))for(const e of c.x_)yield e(!0)})).apply(this,arguments)}function dc(c){return af.apply(this,arguments)}function af(){return(af=(0,f.Z)(function*(c){for(const e of c.x_)yield e(!1)})).apply(this,arguments)}function Dl(c,e){const r=Le(c);r.F_.has(e.targetId)||(r.F_.set(e.targetId,e),lf(r)?ah(r):nd(r).Xo()&&cf(r,e))}function Sl(c,e){const r=Le(c),s=nd(r);r.F_.delete(e),s.Xo()&&Ap(r,e),0===r.F_.size&&(s.Xo()?s.n_():Qc(r)&&r.N_.set("Unknown"))}function cf(c,e){if(c.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qt.min())>0){const r=c.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}nd(c).P_(e)}function Ap(c,e){c.L_.xe(e),nd(c).I_(e)}function ah(c){c.L_=new xs({getRemoteKeysForTarget:e=>c.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>c.F_.get(e)||null,tt:()=>c.datastore.serializer.databaseId}),nd(c).start(),c.N_.w_()}function lf(c){return Qc(c)&&!nd(c).Zo()&&c.F_.size>0}function Qc(c){return 0===Le(c).M_.size}function aa(c){c.L_=void 0}function Xl(c){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,f.Z)(function*(c){c.N_.set("Online")})).apply(this,arguments)}function e_(c){return ch.apply(this,arguments)}function ch(){return(ch=(0,f.Z)(function*(c){c.F_.forEach((e,r)=>{cf(c,e)})})).apply(this,arguments)}function Ju(c,e){return uf.apply(this,arguments)}function uf(){return(uf=(0,f.Z)(function*(c,e){aa(c),lf(c)?(c.N_.D_(e),ah(c)):c.N_.set("Unknown")})).apply(this,arguments)}function kg(c,e,r){return Xu.apply(this,arguments)}function Xu(){return Xu=(0,f.Z)(function*(c,e,r){if(c.N_.set("Online"),e instanceof Js&&2===e.state&&e.cause)try{yield(s=(0,f.Z)(function*(m,I){const P=I.cause;for(const L of I.targetIds)m.F_.has(L)&&(yield m.remoteSyncer.rejectListen(L,P),m.F_.delete(L),m.L_.removeTarget(L))}),function u(m,I){return s.apply(this,arguments)})(c,e)}catch(s){Ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield eu(c,s)}else if(e instanceof Rc?c.L_.Ke(e):e instanceof Ld?c.L_.He(e):c.L_.We(e),!r.isEqual(Qt.min()))try{const s=yield yp(c.localStore);r.compareTo(s)>=0&&(yield function(m,I){const P=m.L_.rt(I);return P.targetChanges.forEach((L,J)=>{if(L.resumeToken.approximateByteSize()>0){const he=m.F_.get(J);he&&m.F_.set(J,he.withResumeToken(L.resumeToken,I))}}),P.targetMismatches.forEach((L,J)=>{const he=m.F_.get(L);if(!he)return;m.F_.set(L,he.withResumeToken(Pi.EMPTY_BYTE_STRING,he.snapshotVersion)),Ap(m,L);const Me=new Dt(he.target,L,J,he.sequenceNumber);cf(m,Me)}),m.remoteSyncer.applyRemoteEvent(P)}(c,r))}catch(s){Ee("RemoteStore","Failed to raise snapshot:",s),yield eu(c,s)}var s}),Xu.apply(this,arguments)}function eu(c,e,r){return ed.apply(this,arguments)}function ed(){return(ed=(0,f.Z)(function*(c,e,r){if(!zn(e))throw e;c.M_.add(1),yield dc(c),c.N_.set("Offline"),r||(r=()=>yp(c.localStore)),c.asyncQueue.enqueueRetryable((0,f.Z)(function*(){Ee("RemoteStore","Retrying IndexedDB access"),yield r(),c.M_.delete(1),yield Wc(c)}))})).apply(this,arguments)}function Fg(c,e){return e().catch(r=>eu(c,r,e))}function td(c){return Ip.apply(this,arguments)}function Ip(){return(Ip=(0,f.Z)(function*(c){const e=Le(c),r=Yc(e);let s=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;Lg(e);)try{const u=yield Hc(e.localStore,s);if(null===u){0===e.v_.length&&r.n_();break}s=u.batchId,Vg(e,u)}catch(u){yield eu(e,u)}Ug(e)&&Bg(e)})).apply(this,arguments)}function Lg(c){return Qc(c)&&c.v_.length<10}function Vg(c,e){c.v_.push(e);const r=Yc(c);r.Xo()&&r.E_&&r.d_(e.mutations)}function Ug(c){return Qc(c)&&!Yc(c).Zo()&&c.v_.length>0}function Bg(c){Yc(c).start()}function t_(c){return df.apply(this,arguments)}function df(){return(df=(0,f.Z)(function*(c){Yc(c).V_()})).apply(this,arguments)}function n_(c){return bp.apply(this,arguments)}function bp(){return(bp=(0,f.Z)(function*(c){const e=Yc(c);for(const r of c.v_)e.d_(r.mutations)})).apply(this,arguments)}function Us(c,e,r){return lh.apply(this,arguments)}function lh(){return(lh=(0,f.Z)(function*(c,e,r){const s=c.v_.shift(),u=Mo.from(s,e,r);yield Fg(c,()=>c.remoteSyncer.applySuccessfulWrite(u)),yield td(c)})).apply(this,arguments)}function jg(c,e){return uh.apply(this,arguments)}function uh(){return uh=(0,f.Z)(function*(c,e){var r;e&&Yc(c).E_&&(yield(r=(0,f.Z)(function*(u,m){if(qo(P=m.code)&&P!==we.ABORTED){const I=u.v_.shift();Yc(u).t_(),yield Fg(u,()=>u.remoteSyncer.rejectFailedWrite(I.batchId,m)),yield td(u)}var P}),function s(u,m){return r.apply(this,arguments)})(c,e)),Ug(c)&&Bg(c)}),uh.apply(this,arguments)}function Yo(c,e){return tu.apply(this,arguments)}function tu(){return(tu=(0,f.Z)(function*(c,e){const r=Le(c);r.asyncQueue.verifyOperationInProgress(),Ee("RemoteStore","RemoteStore received new credentials");const s=Qc(r);r.M_.add(3),yield dc(r),s&&r.N_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.M_.delete(3),yield Wc(r)})).apply(this,arguments)}function hf(c,e){return ff.apply(this,arguments)}function ff(){return(ff=(0,f.Z)(function*(c,e){const r=Le(c);e?(r.M_.delete(2),yield Wc(r)):e||(r.M_.add(2),yield dc(r),r.N_.set("Unknown"))})).apply(this,arguments)}function nd(c){return c.B_||(c.B_=function(r,s,u){const m=Le(r);return m.f_(),new kn(s,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,u)}(c.datastore,c.asyncQueue,{Po:Xl.bind(null,c),To:e_.bind(null,c),Ao:Ju.bind(null,c),h_:kg.bind(null,c)}),c.x_.push(function(){var e=(0,f.Z)(function*(r){r?(c.B_.t_(),lf(c)?ah(c):c.N_.set("Unknown")):(yield c.B_.stop(),aa(c))});return function(r){return e.apply(this,arguments)}}())),c.B_}function Yc(c){return c.k_||(c.k_=function(r,s,u){const m=Le(r);return m.f_(),new tr(s,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,u)}(c.datastore,c.asyncQueue,{Po:()=>Promise.resolve(),To:t_.bind(null,c),Ao:jg.bind(null,c),R_:n_.bind(null,c),A_:Us.bind(null,c)}),c.x_.push(function(){var e=(0,f.Z)(function*(r){r?(c.k_.t_(),yield td(c)):(yield c.k_.stop(),c.v_.length>0&&(Ee("RemoteStore",`Stopping write stream with ${c.v_.length} pending writes`),c.v_=[]))});return function(r){return e.apply(this,arguments)}}())),c.k_}class Cp{constructor(e,r,s,u,m){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=u,this.removalCallback=m,this.deferred=new Ie,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(I=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,u,m){const I=Date.now()+s,P=new Cp(e,r,I,u,m);return P.start(s),P}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new te(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nu(c,e){if(Nt("AsyncQueue",`${e}: ${c}`),zn(c))return new te(we.UNAVAILABLE,`${e}: ${c}`);throw c}class rd{constructor(e){this.comparator=e?(r,s)=>e(r,s)||Yt.comparator(r.key,s.key):(r,s)=>Yt.comparator(r.key,s.key),this.keyedMap=$i(),this.sortedSet=new ii(this.comparator)}static emptySet(e){return new rd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof rd)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,m=s.getNext().key;if(!u.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new rd;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class Tp{constructor(){this.q_=new ii(Yt.comparator)}track(e){const r=e.doc.key,s=this.q_.get(r);s?0!==e.type&&3===s.type?this.q_=this.q_.insert(r,e):3===e.type&&1!==s.type?this.q_=this.q_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.q_=this.q_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.q_=this.q_.remove(r):1===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):Tt():this.q_=this.q_.insert(r,e)}Q_(){const e=[];return this.q_.inorderTraversal((r,s)=>{e.push(s)}),e}}class id{constructor(e,r,s,u,m,I,P,L,J){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=m,this.fromCache=I,this.syncStateChanged=P,this.excludesMetadataChanges=L,this.hasCachedResults=J}static fromInitialDocuments(e,r,s,u,m){const I=[];return r.forEach(P=>{I.push({type:0,doc:P})}),new id(e,r,rd.emptySet(r),I,s,u,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ma(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==s[u].type||!r[u].doc.isEqual(s[u].doc))return!1;return!0}}class r_{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class Hg{constructor(){this.queries=new yo(e=>Cc(e),Ma),this.onlineState="Unknown",this.z_=new Set}}function dh(c,e){return wp.apply(this,arguments)}function wp(){return(wp=(0,f.Z)(function*(c,e){const r=Le(c);let s=3;const u=e.query;let m=r.queries.get(u);m?!m.W_()&&e.G_()&&(s=2):(m=new r_,s=e.G_()?0:1);try{switch(s){case 0:m.K_=yield r.onListen(u,!0);break;case 1:m.K_=yield r.onListen(u,!1);break;case 2:yield r.onFirstRemoteStoreListen(u)}}catch(I){const P=nu(I,`Initialization of query '${Pa(e.query)}' failed`);return void e.onError(P)}r.queries.set(u,m),m.U_.push(e),e.j_(r.onlineState),m.K_&&e.H_(m.K_)&&od(r)})).apply(this,arguments)}function Bs(c,e){return pf.apply(this,arguments)}function pf(){return(pf=(0,f.Z)(function*(c,e){const r=Le(c),s=e.query;let u=3;const m=r.queries.get(s);if(m){const I=m.U_.indexOf(e);I>=0&&(m.U_.splice(I,1),0===m.U_.length?u=e.G_()?0:1:!m.W_()&&e.G_()&&(u=2))}switch(u){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function Dp(c,e){const r=Le(c);let s=!1;for(const u of e){const I=r.queries.get(u.query);if(I){for(const P of I.U_)P.H_(u)&&(s=!0);I.K_=u}}s&&od(r)}function gf(c,e,r){const s=Le(c),u=s.queries.get(e);if(u)for(const m of u.U_)m.onError(r);s.queries.delete(e)}function od(c){c.z_.forEach(e=>{e.next()})}var as,Ml;(Ml=as||(as={})).J_="default",Ml.Cache="cache";class sd{constructor(e,r,s){this.query=e,this.Y_=r,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=s||{}}H_(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)3!==u.type&&s.push(u);e=new id(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),r=!0):this.ta(e,this.onlineState)&&(this.na(e),r=!0),this.X_=e,r}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let r=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),r=!0),r}ta(e,r){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=id.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==as.Cache}}class mf{constructor(e,r){this.ia=e,this.byteLength=r}sa(){return"metadata"in this.ia}}class _f{constructor(e){this.serializer=e}Ps(e){return Rs(this.serializer,e)}Is(e){return e.metadata.exists?Ao(this.serializer,e.document,!1):Y.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Vi(e)}}class hc{constructor(e,r,s){this.oa=e,this.localStore=r,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Sp(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++r;const s=xn.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}aa(e){const r=new Map,s=new _f(this.serializer);for(const u of e)if(u.metadata.queries){const m=s.Ps(u.metadata.name);for(const I of u.metadata.queries){const P=(r.get(I)||fr()).add(m);r.set(I,P)}}return r}complete(){var e=this;return(0,f.Z)(function*(){const r=yield function Ep(c,e,r,s){return zc.apply(this,arguments)}(e.localStore,new _f(e.serializer),e.documents,e.oa.id),s=e.aa(e.documents);for(const u of e.queries)yield bl(e.localStore,u,s.get(u.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:r}})()}}function Sp(c){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:c.totalDocuments,totalBytes:c.totalBytes}}class zg{constructor(e){this.key=e}}class i_{constructor(e){this.key=e}}class $g{constructor(e,r){this.query=e,this.la=r,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=fr(),this.mutatedKeys=fr(),this.Ia=rs(e),this.Ta=new rd(this.Ia)}get Ea(){return this.la}da(e,r){const s=r?r.Aa:new Tp,u=r?r.Ta:this.Ta;let m=r?r.mutatedKeys:this.mutatedKeys,I=u,P=!1;const L="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,J="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((he,Me)=>{const et=u.get(he),Ct=da(this.query,Me)?Me:null,qt=!!et&&this.mutatedKeys.has(et.key),hn=!!Ct&&(Ct.hasLocalMutations||this.mutatedKeys.has(Ct.key)&&Ct.hasCommittedMutations);let nn=!1;et&&Ct?et.data.isEqual(Ct.data)?qt!==hn&&(s.track({type:3,doc:Ct}),nn=!0):this.Ra(et,Ct)||(s.track({type:2,doc:Ct}),nn=!0,(L&&this.Ia(Ct,L)>0||J&&this.Ia(Ct,J)<0)&&(P=!0)):!et&&Ct?(s.track({type:0,doc:Ct}),nn=!0):et&&!Ct&&(s.track({type:1,doc:et}),nn=!0,(L||J)&&(P=!0)),nn&&(Ct?(I=I.add(Ct),m=hn?m.add(he):m.delete(he)):(I=I.delete(he),m=m.delete(he)))}),null!==this.query.limit)for(;I.size>this.query.limit;){const he="F"===this.query.limitType?I.last():I.first();I=I.delete(he.key),m=m.delete(he.key),s.track({type:1,doc:he})}return{Ta:I,Aa:s,Xi:P,mutatedKeys:m}}Ra(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,u){const m=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const I=e.Aa.Q_();I.sort((he,Me)=>function(Ct,qt){const hn=nn=>{switch(nn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt()}};return hn(Ct)-hn(qt)}(he.type,Me.type)||this.Ia(he.doc,Me.doc)),this.Va(s),u=null!=u&&u;const P=r&&!u?this.ma():[],L=0===this.Pa.size&&this.current&&!u?1:0,J=L!==this.ha;return this.ha=L,0!==I.length||J?{snapshot:new id(this.query,e.Ta,m,I,e.mutatedKeys,0===L,J,!1,!!s&&s.resumeToken.approximateByteSize()>0),fa:P}:{fa:P}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Tp,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(r=>this.la=this.la.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.la=this.la.delete(r)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=fr(),this.Ta.forEach(s=>{this.ga(s.key)&&(this.Pa=this.Pa.add(s.key))});const r=[];return e.forEach(s=>{this.Pa.has(s)||r.push(new i_(s))}),this.Pa.forEach(s=>{e.has(s)||r.push(new zg(s))}),r}pa(e){this.la=e.hs,this.Pa=fr();const r=this.da(e.documents);return this.applyChanges(r,!0)}ya(){return id.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class Zg{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class Gg{constructor(e){this.key=e,this.wa=!1}}class o_{constructor(e,r,s,u,m,I){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=u,this.currentUser=m,this.maxConcurrentLimboResolutions=I,this.Sa={},this.ba=new yo(P=>Cc(P),Ma),this.Da=new Map,this.Ca=new Set,this.va=new ii(Yt.comparator),this.Fa=new Map,this.Ma=new Uc,this.xa={},this.Oa=new Map,this.Na=jr.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function hh(c,e){return ru.apply(this,arguments)}function ru(){return(ru=(0,f.Z)(function*(c,e,r=!0){const s=bf(c);let u;const m=s.ba.get(e);return m?(s.sharedClientState.addLocalQueryTarget(m.targetId),u=m.view.ya()):u=yield qg(s,e,r,!0),u})).apply(this,arguments)}function Mp(c,e){return vf.apply(this,arguments)}function vf(){return(vf=(0,f.Z)(function*(c,e){const r=bf(c);yield qg(r,e,!0,!1)})).apply(this,arguments)}function qg(c,e,r,s){return iu.apply(this,arguments)}function iu(){return(iu=(0,f.Z)(function*(c,e,r,s){const u=yield Ql(c.localStore,_i(e)),m=u.targetId,I=r?c.sharedClientState.addLocalQueryTarget(m):"not-current";let P;return s&&(P=yield ou(c,e,m,"current"===I,u.resumeToken)),c.isPrimaryClient&&r&&Dl(c.remoteStore,u),P})).apply(this,arguments)}function ou(c,e,r,s,u){return Ia.apply(this,arguments)}function Ia(){return Ia=(0,f.Z)(function*(c,e,r,s,u){c.Ba=(Me,et,Ct)=>{return(qt=(0,f.Z)(function*(nn,Zn,ir,Kn){let xr=Zn.view.da(ir);xr.Xi&&(xr=yield Wu(nn.localStore,Zn.query,!1).then(({documents:Qe})=>Zn.view.da(Qe,xr)));const Ti=Kn&&Kn.targetChanges.get(Zn.targetId),qr=Kn&&null!=Kn.targetMismatches.get(Zn.targetId),pt=Zn.view.applyChanges(xr,nn.isPrimaryClient,Ti,qr);return mh(nn,Zn.targetId,pt.fa),pt.snapshot}),function hn(nn,Zn,ir,Kn){return qt.apply(this,arguments)})(c,Me,et,Ct);var qt};const m=yield Wu(c.localStore,e,!0),I=new $g(e,m.hs),P=I.da(m.documents),L=nc.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==c.onlineState,u),J=I.applyChanges(P,c.isPrimaryClient,L);mh(c,r,J.fa);const he=new Zg(e,r,I);return c.ba.set(e,he),c.Da.has(r)?c.Da.get(r).push(e):c.Da.set(r,[e]),J.snapshot}),Ia.apply(this,arguments)}function fh(c,e,r){return ph.apply(this,arguments)}function ph(){return(ph=(0,f.Z)(function*(c,e,r){const s=Le(c),u=s.ba.get(e),m=s.Da.get(u.targetId);if(m.length>1)return s.Da.set(u.targetId,m.filter(I=>!Ma(I,e))),void s.ba.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield Aa(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),r&&Sl(s.remoteStore,u.targetId),Xc(s,u.targetId)}).catch(Mr))):(Xc(s,u.targetId),yield Aa(s.localStore,u.targetId,!0))})).apply(this,arguments)}function Pp(c,e){return fc.apply(this,arguments)}function fc(){return(fc=(0,f.Z)(function*(c,e){const r=Le(c),s=r.ba.get(e),u=r.Da.get(s.targetId);r.isPrimaryClient&&1===u.length&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),Sl(r.remoteStore,s.targetId))})).apply(this,arguments)}function cd(){return(cd=(0,f.Z)(function*(c,e,r){const s=Vp(c);try{const u=yield function(I,P){const L=Le(I),J=Yn.now(),he=P.reduce((Ct,qt)=>Ct.add(qt.key),fr());let Me,et;return L.persistence.runTransaction("Locally write mutations","readwrite",Ct=>{let qt=Vr(),hn=fr();return L.os.getEntries(Ct,he).next(nn=>{qt=nn,qt.forEach((Zn,ir)=>{ir.isValidDocument()||(hn=hn.add(Zn))})}).next(()=>L.localDocuments.getOverlayedDocuments(Ct,qt)).next(nn=>{Me=nn;const Zn=[];for(const ir of P){const Kn=Ot(ir,Me.get(ir.key).overlayedDocument);null!=Kn&&Zn.push(new Lr(ir.key,Kn,re(Kn.value.mapValue),bi.exists(!0)))}return L.mutationQueue.addMutationBatch(Ct,J,Zn,P)}).next(nn=>{et=nn;const Zn=nn.applyToLocalDocumentSet(Me,hn);return L.documentOverlayCache.saveOverlays(Ct,nn.batchId,Zn)})}).then(()=>({batchId:et.batchId,changes:wc(Me)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(I,P,L){let J=I.xa[I.currentUser.toKey()];J||(J=new ii(on)),J=J.insert(P,L),I.xa[I.currentUser.toKey()]=J}(s,u.batchId,r),yield pc(s,u.changes),yield td(s.remoteStore)}catch(u){const m=nu(u,"Failed to persist write");r.reject(m)}})).apply(this,arguments)}function xp(c,e){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,f.Z)(function*(c,e){const r=Le(c);try{const s=yield function vs(c,e){const r=Le(c),s=e.snapshotVersion;let u=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const I=r.os.newChangeBuffer({trackRemovals:!0});u=r.ns;const P=[];e.targetChanges.forEach((he,Me)=>{const et=u.get(Me);if(!et)return;P.push(r.Qr.removeMatchingKeys(m,he.removedDocuments,Me).next(()=>r.Qr.addMatchingKeys(m,he.addedDocuments,Me)));let Ct=et.withSequenceNumber(m.currentSequenceNumber);var hn,nn,Zn;null!==e.targetMismatches.get(Me)?Ct=Ct.withResumeToken(Pi.EMPTY_BYTE_STRING,Qt.min()).withLastLimboFreeSnapshotVersion(Qt.min()):he.resumeToken.approximateByteSize()>0&&(Ct=Ct.withResumeToken(he.resumeToken,s)),u=u.insert(Me,Ct),nn=Ct,Zn=he,(0===(hn=et).resumeToken.approximateByteSize()||nn.snapshotVersion.toMicroseconds()-hn.snapshotVersion.toMicroseconds()>=3e8||Zn.addedDocuments.size+Zn.modifiedDocuments.size+Zn.removedDocuments.size>0)&&P.push(r.Qr.updateTargetData(m,Ct))});let L=Vr(),J=fr();if(e.documentUpdates.forEach(he=>{e.resolvedLimboDocuments.has(he)&&P.push(r.persistence.referenceDelegate.updateLimboDocument(m,he))}),P.push(qu(m,I,e.documentUpdates).next(he=>{L=he.cs,J=he.ls})),!s.isEqual(Qt.min())){const he=r.Qr.getLastRemoteSnapshotVersion(m).next(Me=>r.Qr.setTargetsMetadata(m,m.currentSequenceNumber,s));P.push(he)}return at.waitFor(P).next(()=>I.apply(m)).next(()=>r.localDocuments.getLocalViewOfDocuments(m,L,J)).next(()=>L)}).then(m=>(r.ns=u,m))}(r.localStore,e);e.targetChanges.forEach((u,m)=>{const I=r.Fa.get(m);I&&(Ke(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?I.wa=!0:u.modifiedDocuments.size>0?Ke(I.wa):u.removedDocuments.size>0&&(Ke(I.wa),I.wa=!1))}),yield pc(r,s,e)}catch(s){yield Mr(s)}})).apply(this,arguments)}function yf(c,e,r){const s=Le(c);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const u=[];s.ba.forEach((m,I)=>{const P=I.view.j_(e);P.snapshot&&u.push(P.snapshot)}),function(I,P){const L=Le(I);L.onlineState=P;let J=!1;L.queries.forEach((he,Me)=>{for(const et of Me.U_)et.j_(P)&&(J=!0)}),J&&od(L)}(s.eventManager,e),u.length&&s.Sa.h_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Rp(c,e,r){return gh.apply(this,arguments)}function gh(){return(gh=(0,f.Z)(function*(c,e,r){const s=Le(c);s.sharedClientState.updateQueryState(e,"rejected",r);const u=s.Fa.get(e),m=u&&u.key;if(m){let I=new ii(Yt.comparator);I=I.insert(m,Y.newNoDocument(m,Qt.min()));const P=fr().add(m),L=new Lo(Qt.min(),new Map,new ii(on),I,P);yield xp(s,L),s.va=s.va.remove(m),s.Fa.delete(e),Np(s)}else yield Aa(s.localStore,e,!1).then(()=>Xc(s,e,r)).catch(Mr)})).apply(this,arguments)}function ja(c,e){return cs.apply(this,arguments)}function cs(){return(cs=(0,f.Z)(function*(c,e){const r=Le(c),s=e.batch.batchId;try{const u=yield function nh(c,e){const r=Le(c);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),m=r.os.newChangeBuffer({trackRemovals:!0});return function(P,L,J,he){const Me=J.batch,et=Me.keys();let Ct=at.resolve();return et.forEach(qt=>{Ct=Ct.next(()=>he.getEntry(L,qt)).next(hn=>{const nn=J.docVersions.get(qt);Ke(null!==nn),hn.version.compareTo(nn)<0&&(Me.applyToRemoteDocument(hn,J),hn.isValidDocument()&&(hn.setReadTime(J.commitVersion),he.addEntry(hn)))})}),Ct.next(()=>P.mutationQueue.removeMutationBatch(L,Me))}(r,s,e,m).next(()=>m.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(P){let L=fr();for(let J=0;J<P.mutationResults.length;++J)P.mutationResults[J].transformResults.length>0&&(L=L.add(P.batch.mutations[J].key));return L}(e))).next(()=>r.localDocuments.getDocuments(s,u))})}(r.localStore,e);Ha(r,s,null),ud(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield pc(r,u)}catch(u){yield Mr(u)}})).apply(this,arguments)}function xl(c,e,r){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,f.Z)(function*(c,e,r){const s=Le(c);try{const u=yield function(I,P){const L=Le(I);return L.persistence.runTransaction("Reject batch","readwrite-primary",J=>{let he;return L.mutationQueue.lookupMutationBatch(J,P).next(Me=>(Ke(null!==Me),he=Me.keys(),L.mutationQueue.removeMutationBatch(J,Me))).next(()=>L.mutationQueue.performConsistencyCheck(J)).next(()=>L.documentOverlayCache.removeOverlaysForBatchId(J,he,P)).next(()=>L.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(J,he)).next(()=>L.localDocuments.getDocuments(J,he))})}(s.localStore,e);Ha(s,e,r),ud(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield pc(s,u)}catch(u){yield Mr(u)}})).apply(this,arguments)}function ld(){return(ld=(0,f.Z)(function*(c,e){const r=Le(c);Qc(r.remoteStore)||Ee("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(I){const P=Le(I);return P.persistence.runTransaction("Get highest unacknowledged batch id","readonly",L=>P.mutationQueue.getHighestUnacknowledgedBatchId(L))}(r.localStore);if(-1===s)return void e.resolve();const u=r.Oa.get(s)||[];u.push(e),r.Oa.set(s,u)}catch(s){const u=nu(s,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}})).apply(this,arguments)}function ud(c,e){(c.Oa.get(e)||[]).forEach(r=>{r.resolve()}),c.Oa.delete(e)}function Ha(c,e,r){const s=Le(c);let u=s.xa[s.currentUser.toKey()];if(u){const m=u.get(e);m&&(r?m.reject(r):m.resolve(),u=u.remove(e)),s.xa[s.currentUser.toKey()]=u}}function Xc(c,e,r=null){c.sharedClientState.removeLocalQueryTarget(e);for(const s of c.Da.get(e))c.ba.delete(s),r&&c.Sa.ka(s,r);c.Da.delete(e),c.isPrimaryClient&&c.Ma.Vr(e).forEach(s=>{c.Ma.containsKey(s)||Op(c,s)})}function Op(c,e){c.Ca.delete(e.path.canonicalString());const r=c.va.get(e);null!==r&&(Sl(c.remoteStore,r),c.va=c.va.remove(e),c.Fa.delete(r),Np(c))}function mh(c,e,r){for(const s of r)s instanceof zg?(c.Ma.addReference(s.key,e),av(c,s)):s instanceof i_?(Ee("SyncEngine","Document no longer in limbo: "+s.key),c.Ma.removeReference(s.key,e),c.Ma.containsKey(s.key)||Op(c,s.key)):Tt()}function av(c,e){const r=e.key,s=r.path.canonicalString();c.va.get(r)||c.Ca.has(s)||(Ee("SyncEngine","New document in limbo: "+r),c.Ca.add(s),Np(c))}function Np(c){for(;c.Ca.size>0&&c.va.size<c.maxConcurrentLimboResolutions;){const e=c.Ca.values().next().value;c.Ca.delete(e);const r=new Yt(xn.fromString(e)),s=c.Na.next();c.Fa.set(s,new Gg(r)),c.va=c.va.insert(r,s),Dl(c.remoteStore,new Dt(_i(ze(r.path)),s,"TargetPurposeLimboResolution",B.oe))}}function pc(c,e,r){return ls.apply(this,arguments)}function ls(){return ls=(0,f.Z)(function*(c,e,r){const s=Le(c),u=[],m=[],I=[];var P;s.ba.isEmpty()||(s.ba.forEach((P,L)=>{I.push(s.Ba(L,e,r).then(J=>{if((J||r)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(L.targetId,J&&!J.fromCache?"current":"not-current"),J){u.push(J);const he=ss.Ki(L.targetId,J);m.push(he)}}))}),yield Promise.all(I),s.Sa.h_(u),yield(P=(0,f.Z)(function*(J,he){const Me=Le(J);try{yield Me.persistence.runTransaction("notifyLocalViewChanges","readwrite",et=>at.forEach(he,Ct=>at.forEach(Ct.qi,qt=>Me.persistence.referenceDelegate.addReference(et,Ct.targetId,qt)).next(()=>at.forEach(Ct.Qi,qt=>Me.persistence.referenceDelegate.removeReference(et,Ct.targetId,qt)))))}catch(et){if(!zn(et))throw et;Ee("LocalStore","Failed to update sequence numbers: "+et)}for(const et of he){const Ct=et.targetId;if(!et.fromCache){const qt=Me.ns.get(Ct),nn=qt.withLastLimboFreeSnapshotVersion(qt.snapshotVersion);Me.ns=Me.ns.insert(Ct,nn)}}}),function L(J,he){return P.apply(this,arguments)})(s.localStore,m))}),ls.apply(this,arguments)}function _h(c,e){return Af.apply(this,arguments)}function Af(){return(Af=(0,f.Z)(function*(c,e){const r=Le(c);if(!r.currentUser.isEqual(e)){Ee("SyncEngine","User change. New user:",e.toKey());const s=yield jc(r.localStore,e);r.currentUser=e,(m=r).Oa.forEach(P=>{P.forEach(L=>{L.reject(new te(we.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),m.Oa.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield pc(r,s.us)}var m})).apply(this,arguments)}function vh(c,e){const r=Le(c),s=r.Fa.get(e);if(s&&s.wa)return fr().add(s.key);{let u=fr();const m=r.Da.get(e);if(!m)return u;for(const I of m){const P=r.ba.get(I);u=u.unionWith(P.view.Ea)}return u}}function cv(c,e){return Wg.apply(this,arguments)}function Wg(){return(Wg=(0,f.Z)(function*(c,e){const r=Le(c),s=yield Wu(r.localStore,e.query,!0),u=e.view.pa(s);return r.isPrimaryClient&&mh(r,e.targetId,u.fa),u})).apply(this,arguments)}function vy(c,e){return Kg.apply(this,arguments)}function Kg(){return(Kg=(0,f.Z)(function*(c,e){const r=Le(c);return tf(r.localStore,e).then(s=>pc(r,s))})).apply(this,arguments)}function dd(c,e,r,s){return kp.apply(this,arguments)}function kp(){return(kp=(0,f.Z)(function*(c,e,r,s){const u=Le(c),m=yield function(P,L){const J=Le(P),he=Le(J.mutationQueue);return J.persistence.runTransaction("Lookup mutation documents","readonly",Me=>he.vn(Me,L).next(et=>et?J.localDocuments.getDocuments(Me,et):at.resolve(null)))}(u.localStore,e);var L;null!==m?("pending"===r?yield td(u.remoteStore):"acknowledged"===r||"rejected"===r?(Ha(u,e,s||null),ud(u,e),L=e,Le(Le(u.localStore).mutationQueue).Mn(L)):Tt(),yield pc(u,m)):Ee("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function fd(){return(fd=(0,f.Z)(function*(c,e){const r=Le(c);if(bf(r),Vp(r),!0===e&&!0!==r.La){const s=r.sharedClientState.getAllActiveQueryTargets(),u=yield su(r,s.toArray());r.La=!0,yield hf(r.remoteStore,!0);for(const m of u)Dl(r.remoteStore,m)}else if(!1===e&&!1!==r.La){const s=[];let u=Promise.resolve();r.Da.forEach((m,I)=>{r.sharedClientState.isLocalQueryTarget(I)?s.push(I):u=u.then(()=>(Xc(r,I),Aa(r.localStore,I,!0))),Sl(r.remoteStore,I)}),yield u,yield su(r,s),function(I){const P=Le(I);P.Fa.forEach((L,J)=>{Sl(P.remoteStore,J)}),P.Ma.mr(),P.Fa=new Map,P.va=new ii(Yt.comparator)}(r),r.La=!1,yield hf(r.remoteStore,!1)}})).apply(this,arguments)}function su(c,e,r){return au.apply(this,arguments)}function au(){return(au=(0,f.Z)(function*(c,e,r){const s=Le(c),u=[],m=[];for(const I of e){let P;const L=s.Da.get(I);if(L&&0!==L.length){P=yield Ql(s.localStore,_i(L[0]));for(const J of L){const he=s.ba.get(J),Me=yield cv(s,he);Me.snapshot&&m.push(Me.snapshot)}}else{const J=yield Ku(s.localStore,I);P=yield Ql(s.localStore,J),yield ou(s,If(J),I,!1,P.resumeToken)}u.push(P)}return s.Sa.h_(m),u})).apply(this,arguments)}function If(c){return ge(c.path,c.collectionGroup,c.orderBy,c.filters,c.limit,"F",c.startAt,c.endAt)}function Fp(c){return r=Le(c).localStore,Le(Le(r).persistence).Bi();var r}function cu(c,e,r,s){return yh.apply(this,arguments)}function yh(){return(yh=(0,f.Z)(function*(c,e,r,s){const u=Le(c);if(u.La)return void Ee("SyncEngine","Ignoring unexpected query state notification.");const m=u.Da.get(e);if(m&&m.length>0)switch(r){case"current":case"not-current":{const I=yield tf(u.localStore,Tc(m[0])),P=Lo.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,Pi.EMPTY_BYTE_STRING);yield pc(u,I,P);break}case"rejected":yield Aa(u.localStore,e,!0),Xc(u,e,s);break;default:Tt()}})).apply(this,arguments)}function Qg(c,e,r){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,f.Z)(function*(c,e,r){const s=bf(c);if(s.La){for(const u of e){if(s.Da.has(u)&&s.sharedClientState.isActiveQueryTarget(u)){Ee("SyncEngine","Adding an already active target "+u);continue}const m=yield Ku(s.localStore,u),I=yield Ql(s.localStore,m);yield ou(s,If(m),I.targetId,!1,I.resumeToken),Dl(s.remoteStore,I)}for(const u of r)s.Da.has(u)&&(yield Aa(s.localStore,u,!1).then(()=>{Sl(s.remoteStore,u),Xc(s,u)}).catch(Mr))}})).apply(this,arguments)}function bf(c){const e=Le(c);return e.remoteStore.remoteSyncer.applyRemoteEvent=xp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Rp.bind(null,e),e.Sa.h_=Dp.bind(null,e.eventManager),e.Sa.ka=gf.bind(null,e.eventManager),e}function Vp(c){const e=Le(c);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ja.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xl.bind(null,e),e}class gc{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,f.Z)(function*(){r.serializer=rt(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return Bc(this.persistence,new th,e.initialUser,this.serializer)}createPersistence(e){return new Jh(Jd.Hr,this.serializer)}createSharedClientState(e){return new rf}terminate(){var e=this;return(0,f.Z)(function*(){var r,s;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(s=e.indexBackfillerScheduler)||void 0===s||s.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class tl extends gc{constructor(e,r,s){super(),this.Qa=e,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,s=this;return(0,f.Z)(function*(){yield r().call(s,e),yield s.Qa.initialize(s,e),yield Vp(s.Qa.syncEngine),yield td(s.Qa.remoteStore),yield s.persistence.fi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Bc(this.persistence,new th,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new Gl(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const s=new H(r,this.persistence);return new K(e.asyncQueue,s)}createPersistence(e){const r=eh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Bo.withCacheSize(this.cacheSizeBytes):Bo.DEFAULT;return new po(this.synchronizeTabs,r,e.clientId,s,e.asyncQueue,X(),me(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new rf}}class Cf extends tl{constructor(e,r){super(e,r,!1),this.Qa=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,s=this;return(0,f.Z)(function*(){yield r().call(s,e);const u=s.Qa.syncEngine;s.sharedClientState instanceof oh&&(s.sharedClientState.syncEngine={Zs:dd.bind(null,u),Xs:cu.bind(null,u),eo:Qg.bind(null,u),Bi:Fp.bind(null,u),Ys:vy.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.fi(function(){var m=(0,f.Z)(function*(I){yield function hd(c,e){return fd.apply(this,arguments)}(s.Qa.syncEngine,I),s.gcScheduler&&(I&&!s.gcScheduler.started?s.gcScheduler.start():I||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(I&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():I||s.indexBackfillerScheduler.stop())});return function(I){return m.apply(this,arguments)}}())})()}createSharedClientState(e){const r=X();if(!oh.D(r))throw new te(we.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=eh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new oh(r,e.asyncQueue,s,e.clientId,e.initialUser)}}class Rl{initialize(e,r){var s=this;return(0,f.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=u=>yf(s.syncEngine,u,1),s.remoteStore.remoteSyncer.handleCredentialChange=_h.bind(null,s.syncEngine),yield hf(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Hg}createDatastore(e){const r=rt(e.databaseInfo.databaseId),s=new M(e.databaseInfo);return new vr(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return s=this.localStore,u=this.datastore,m=e.asyncQueue,I=r=>yf(this.syncEngine,r,0),P=wl.D()?new wl:new Gc,new qc(s,u,m,I,P);var s,u,m,I,P}createSyncEngine(e,r){return function(u,m,I,P,L,J,he){const Me=new o_(u,m,I,P,L,J);return he&&(Me.La=!0),Me}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,f.Z)(function*(){var r,s;yield(s=(0,f.Z)(function*(m){const I=Le(m);Ee("RemoteStore","RemoteStore shutting down."),I.M_.add(5),yield dc(I),I.O_.shutdown(),I.N_.set("Unknown")}),function u(m){return s.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}function Eh(c,e=10240){let r=0;return{read:()=>(0,f.Z)(function*(){if(r<c.byteLength){const s={value:c.slice(r,r+e),done:!1};return r+=e,s}return{done:!0}})(),cancel:()=>(0,f.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Tf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Nt("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class Yg{constructor(e,r){this.Ua=e,this.serializer=r,this.metadata=new Ie,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(s=>{s&&s.sa()?this.metadata.resolve(s.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.ia)}`))},s=>this.metadata.reject(s))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,f.Z)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,f.Z)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,f.Z)(function*(){const r=yield e.za();if(null===r)return null;const s=e.Wa.decode(r),u=Number(s);isNaN(u)&&e.ja(`length string (${s}) is not valid number`);const m=yield e.Ha(u);return new mf(JSON.parse(m),r.length+u)})()}Ja(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}za(){var e=this;return(0,f.Z)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const r=e.Ja();r<0&&e.ja("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),s})()}Ha(e){var r=this;return(0,f.Z)(function*(){for(;r.buffer.length<e;)(yield r.Ya())&&r.ja("Reached the end of bundle when more is expected.");const s=r.Wa.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),s})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,f.Z)(function*(){const r=yield e.Ua.read();if(!r.done){const s=new Uint8Array(e.buffer.length+r.value.length);s.set(e.buffer),s.set(r.value,e.buffer.length),e.buffer=s}return r.done})()}}class a_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,f.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new te(we.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const s=yield(u=(0,f.Z)(function*(I,P){const L=Le(I),J={documents:P.map(Ct=>Ou(L.serializer,Ct))},he=yield L.xo("BatchGetDocuments",L.serializer.databaseId,xn.emptyPath(),J,P.length),Me=new Map;he.forEach(Ct=>{const qt=function Ki(c,e){return"found"in e?function(s,u){Ke(!!u.found);const m=Rs(s,u.found.name),I=Vi(u.found.updateTime),P=u.found.createTime?Vi(u.found.createTime):Qt.min(),L=new ci({mapValue:{fields:u.found.fields}});return Y.newFoundDocument(m,I,P,L)}(c,e):"missing"in e?function(s,u){Ke(!!u.missing),Ke(!!u.readTime);const m=Rs(s,u.missing),I=Vi(u.readTime);return Y.newNoDocument(m,I)}(c,e):Tt()}(L.serializer,Ct);Me.set(qt.key.toString(),qt)});const et=[];return P.forEach(Ct=>{const qt=Me.get(Ct.toString());Ke(!!qt),et.push(qt)}),et}),function m(I,P){return u.apply(this,arguments)})(r.datastore,e);var u;return s.forEach(u=>r.recordVersion(u)),s})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new pi(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,f.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var s;e.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,u)=>{const m=Yt.fromPath(u);e.mutations.push(new Qr(m,e.precondition(m)))}),yield(s=(0,f.Z)(function*(m,I){const P=Le(m),L={writes:I.map(J=>Vo(P.serializer,J))};yield P.Co("Commit",P.serializer.databaseId,xn.emptyPath(),L)}),function u(m,I){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw Tt();r=Qt.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!r.isEqual(s))throw new te(we.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Qt.min())?bi.exists(!1):bi.updateTime(r):bi.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Qt.min()))throw new te(we.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bi.updateTime(r)}return bi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class c_{constructor(e,r,s,u,m){this.asyncQueue=e,this.datastore=r,this.options=s,this.updateFunction=u,this.deferred=m,this.Za=s.maxAttempts,this.Yo=new Pt(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Yo.$o((0,f.Z)(function*(){const r=new a_(e.datastore),s=e.tu(r);s&&s.then(u=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(u)}).catch(m=>{e.nu(m)}))}).catch(u=>{e.nu(u)})}))}tu(e){try{const r=this.updateFunction(e);return!Te(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!qo(r)}return!1}}class l_{constructor(e,r,s,u){var m=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=u,this.user=tt.UNAUTHENTICATED,this.clientId=On.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var I=(0,f.Z)(function*(P){Ee("FirestoreClient","Received user=",P.uid),yield m.authCredentialListener(P),m.user=P});return function(P){return I.apply(this,arguments)}}()),this.appCheckCredentials.start(s,I=>(Ee("FirestoreClient","Received new app check token=",I),this.appCheckCredentialListener(I,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te(we.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Ie;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,f.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const u=nu(s,"Failed to shutdown persistence");r.reject(u)}})),r.promise}}function pd(c,e){return gd.apply(this,arguments)}function gd(){return gd=(0,f.Z)(function*(c,e){c.asyncQueue.verifyOperationInProgress(),Ee("FirestoreClient","Initializing OfflineComponentProvider");const r=c.configuration;yield e.initialize(r);let s=r.initialUser;c.setCredentialChangeListener(function(){var u=(0,f.Z)(function*(m){s.isEqual(m)||(yield jc(e.localStore,m),s=m)});return function(m){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>c.terminate()),c._offlineComponents=e}),gd.apply(this,arguments)}function js(c,e){return nl.apply(this,arguments)}function nl(){return(nl=(0,f.Z)(function*(c,e){c.asyncQueue.verifyOperationInProgress();const r=yield wf(c);Ee("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,c.configuration),c.setCredentialChangeListener(s=>Yo(e.remoteStore,s)),c.setAppCheckTokenChangeListener((s,u)=>Yo(e.remoteStore,u)),c._onlineComponents=e})).apply(this,arguments)}function md(c){return"FirebaseError"===c.name?c.code===we.FAILED_PRECONDITION||c.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code}function wf(c){return Ah.apply(this,arguments)}function Ah(){return(Ah=(0,f.Z)(function*(c){if(!c._offlineComponents)if(c._uninitializedComponentsProvider){Ee("FirestoreClient","Using user provided OfflineComponentProvider");try{yield pd(c,c._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!md(r))throw r;Vt("Error using user provided cache. Falling back to memory cache: "+r),yield pd(c,new gc)}}else Ee("FirestoreClient","Using default OfflineComponentProvider"),yield pd(c,new gc);return c._offlineComponents})).apply(this,arguments)}function Up(c){return u_.apply(this,arguments)}function u_(){return(u_=(0,f.Z)(function*(c){return c._onlineComponents||(c._uninitializedComponentsProvider?(Ee("FirestoreClient","Using user provided OnlineComponentProvider"),yield js(c,c._uninitializedComponentsProvider._online)):(Ee("FirestoreClient","Using default OnlineComponentProvider"),yield js(c,new Rl))),c._onlineComponents})).apply(this,arguments)}function Bp(c){return wf(c).then(e=>e.persistence)}function lu(c){return wf(c).then(e=>e.localStore)}function Df(c){return Up(c).then(e=>e.remoteStore)}function Jg(c){return Up(c).then(e=>e.syncEngine)}function rl(c){return Sf.apply(this,arguments)}function Sf(){return(Sf=(0,f.Z)(function*(c){const e=yield Up(c),r=e.eventManager;return r.onListen=hh.bind(null,e.syncEngine),r.onUnlisten=fh.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Mp.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Pp.bind(null,e.syncEngine),r})).apply(this,arguments)}function jp(c,e,r={}){const s=new Ie;return c.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(m,I,P,L,J){const he=new Tf({next:et=>{I.enqueueAndForget(()=>Bs(m,Me));const Ct=et.docs.has(P);!Ct&&et.fromCache?J.reject(new te(we.UNAVAILABLE,"Failed to get document because the client is offline.")):Ct&&et.fromCache&&L&&"server"===L.source?J.reject(new te(we.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):J.resolve(et)},error:et=>J.reject(et)}),Me=new sd(ze(P.path),he,{includeMetadataChanges:!0,ra:!0});return dh(m,Me)}(yield rl(c),c.asyncQueue,e,r,s)})),s.promise}function Hp(c,e,r={}){const s=new Ie;return c.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(m,I,P,L,J){const he=new Tf({next:et=>{I.enqueueAndForget(()=>Bs(m,Me)),et.fromCache&&"server"===L.source?J.reject(new te(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):J.resolve(et)},error:et=>J.reject(et)}),Me=new sd(P,he,{includeMetadataChanges:!0,ra:!0});return dh(m,Me)}(yield rl(c),c.asyncQueue,e,r,s)})),s.promise}function rm(c){const e={};return void 0!==c.timeoutSeconds&&(e.timeoutSeconds=c.timeoutSeconds),e}const im=new Map;function Zp(c,e,r){if(!r)throw new te(we.INVALID_ARGUMENT,`Function ${c}() cannot be called with an empty ${e}.`)}function om(c,e,r,s){if(!0===e&&!0===s)throw new te(we.INVALID_ARGUMENT,`${c} and ${r} cannot be used together.`)}function xf(c){if(!Yt.isDocumentKey(c))throw new te(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${c} has ${c.length}.`)}function f_(c){if(Yt.isDocumentKey(c))throw new te(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${c} has ${c.length}.`)}function ca(c){if(void 0===c)return"undefined";if(null===c)return"null";if("string"==typeof c)return c.length>20&&(c=`${c.substring(0,20)}...`),JSON.stringify(c);if("number"==typeof c||"boolean"==typeof c)return""+c;if("object"==typeof c){if(c instanceof Array)return"an array";{const e=(s=c).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof c?"a function":Tt()}function Sr(c,e){if("_delegate"in c&&(c=c._delegate),!(c instanceof e)){if(e.name===c.constructor.name)throw new te(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=ca(c);throw new te(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return c}function mc(c,e){if(e<=0)throw new te(we.INVALID_ARGUMENT,`Function ${c}() requires a positive number, but it was: ${e}.`)}class Ih{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new te(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new te(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}om("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=rm(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(m){if(void 0!==m.timeoutSeconds){if(isNaN(m.timeoutSeconds))throw new te(we.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (must not be NaN)`);if(m.timeoutSeconds<5)throw new te(we.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (minimum allowed value is 5)`);if(m.timeoutSeconds>30)throw new te(we.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _d{constructor(e,r,s,u){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ih({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new te(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new te(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ih(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new je;switch(s.type){case"firstParty":return new Zt(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new te(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=im.get(r);s&&(Ee("ComponentProvider","Removing Datastore"),im.delete(r),s.terminate())}(this),Promise.resolve()}}function Rf(c,e,r,s={}){var u;const m=(c=Sr(c,_d))._getSettings(),I=`${e}:${r}`;if("firestore.googleapis.com"!==m.host&&m.host!==I&&Vt("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),c._setSettings(Object.assign(Object.assign({},m),{host:I,ssl:!1})),s.mockUserToken){let P,L;if("string"==typeof s.mockUserToken)P=s.mockUserToken,L=tt.MOCK_USER;else{P=(0,_e.Sg)(s.mockUserToken,null===(u=c._app)||void 0===u?void 0:u.options.projectId);const J=s.mockUserToken.sub||s.mockUserToken.user_id;if(!J)throw new te(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");L=new tt(J)}c._authCredentials=new ot(new Pe(P,L))}}class xo{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new xo(this.firestore,e,this._query)}}class Io{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new za(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Io(this.firestore,e,this._key)}}class za extends xo{constructor(e,r,s){super(e,r,ze(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Io(this.firestore,null,new Yt(e))}withConverter(e){return new za(this.firestore,e,this._path)}}function bh(c,e,...r){if(c=(0,_e.m9)(c),Zp("collection","path",e),c instanceof _d){const s=xn.fromString(e,...r);return f_(s),new za(c,null,s)}{if(!(c instanceof Io||c instanceof za))throw new te(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=c._path.child(xn.fromString(e,...r));return f_(s),new za(c.firestore,null,s)}}function Of(c,e){if(c=Sr(c,_d),Zp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new te(we.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new xo(c,null,(s=e,new F(xn.emptyPath(),s)));var s}function sm(c,e,...r){if(c=(0,_e.m9)(c),1===arguments.length&&(e=On.newId()),Zp("doc","path",e),c instanceof _d){const s=xn.fromString(e,...r);return xf(s),new Io(c,null,new Yt(s))}{if(!(c instanceof Io||c instanceof za))throw new te(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=c._path.child(xn.fromString(e,...r));return xf(s),new Io(c.firestore,c instanceof za?c.converter:null,new Yt(s))}}function Nf(c,e){return c=(0,_e.m9)(c),e=(0,_e.m9)(e),(c instanceof Io||c instanceof za)&&(e instanceof Io||e instanceof za)&&c.firestore===e.firestore&&c.path===e.path&&c.converter===e.converter}function kf(c,e){return c=(0,_e.m9)(c),e=(0,_e.m9)(e),c instanceof xo&&e instanceof xo&&c.firestore===e.firestore&&Ma(c._query,e._query)&&c.converter===e.converter}class Hs{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Pt(this,"async_queue_retry"),this.hu=()=>{const r=me();r&&Ee("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Yo.Wo()};const e=me();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const r=me();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const r=new Ie;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,f.Z)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(r){if(!zn(r))throw r;Ee("AsyncQueue","Operation failed with retryable error: "+r)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const r=this.iu.then(()=>(this.uu=!0,e().catch(s=>{throw this.au=s,this.uu=!1,Nt("INTERNAL UNHANDLED ERROR: ",function(I){let P=I.message||"";return I.stack&&(P=I.stack.includes(I.message)?I.stack:I.message+"\n"+I.stack),P}(s)),s}).then(s=>(this.uu=!1,s))));return this.iu=r,r}enqueueAfterDelay(e,r,s){this.Pu(),this.lu.indexOf(e)>-1&&(r=0);const u=Cp.createAndSchedule(this,e,r,s,m=>this.Eu(m));return this._u.push(u),u}Pu(){this.au&&Tt()}verifyOperationInProgress(){}du(){var e=this;return(0,f.Z)(function*(){let r;do{r=e.iu,yield r}while(r!==e.iu)})()}Au(e){for(const r of this._u)if(r.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this._u)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const r=this._u.indexOf(e);this._u.splice(r,1)}}function il(c){return function(r,s){if("object"!=typeof r||null===r)return!1;const u=r;for(const m of["next","error","complete"])if(m in u&&"function"==typeof u[m])return!0;return!1}(c)}class am{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ie,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,s){this._progressObserver={next:e,error:r,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const du=-1;class Oi extends _d{constructor(e,r,s,u){super(e,r,s,u),this.type="firestore",this._queue=new Hs,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ff(this),this._firestoreClient.terminate()}}function Ch(c,e){const r="object"==typeof c?c:(0,o.getApp)(),s="string"==typeof c?c:e||"(default)",u=(0,o._getProvider)(r,"firestore").getImmediate({identifier:s});if(!u._initialized){const m=(0,_e.P0)("firestore");m&&Rf(u,...m)}return u}function Ui(c){return c._firestoreClient||Ff(c),c._firestoreClient.verifyNotTerminated(),c._firestoreClient}function Ff(c){var e,r,s;const u=c._freezeSettings(),m=(L=(null===(e=c._app)||void 0===e?void 0:e.options.appId)||"",new gs(c._databaseId,L,c._persistenceKey,(he=u).host,he.ssl,he.experimentalForceLongPolling,he.experimentalAutoDetectLongPolling,rm(he.experimentalLongPollingOptions),he.useFetchStreams));var L,he;c._firestoreClient=new l_(c._authCredentials,c._appCheckCredentials,c._queue,m),null!==(r=u.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(s=u.localCache)&&void 0!==s&&s._onlineComponentProvider&&(c._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}function Lf(c,e){Gp(c=Sr(c,Oi));const r=Ui(c);if(r._uninitializedComponentsProvider)throw new te(we.FAILED_PRECONDITION,"SDK cache is already specified.");Vt("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=c._freezeSettings(),u=new Rl;return hu(r,u,new tl(u,s.cacheSizeBytes,e?.forceOwnership))}function ba(c){Gp(c=Sr(c,Oi));const e=Ui(c);if(e._uninitializedComponentsProvider)throw new te(we.FAILED_PRECONDITION,"SDK cache is already specified.");Vt("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=c._freezeSettings(),s=new Rl;return hu(e,s,new Cf(s,r.cacheSizeBytes))}function hu(c,e,r){const s=new Ie;return c.asyncQueue.enqueue((0,f.Z)(function*(){try{yield pd(c,r),yield js(c,e),s.resolve()}catch(u){const m=u;if(!md(m))throw m;Vt("Error enabling indexeddb cache. Falling back to memory cache: "+m),s.reject(m)}})).then(()=>s.promise)}function Vf(c){if(c._initialized&&!c._terminated)throw new te(we.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ie;return c._queue.enqueueAndForgetEvenWhileRestricted((0,f.Z)(function*(){try{yield(r=(0,f.Z)(function*(u){if(!ue.D())return Promise.resolve();const m=u+"main";yield ue.delete(m)}),function s(u){return r.apply(this,arguments)})(eh(c._databaseId,c._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function p_(c){return function(r){const s=new Ie;return r.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function Ef(c,e){return ld.apply(this,arguments)}(yield Jg(r),s)})),s.promise}(Ui(c=Sr(c,Oi)))}function g_(c){return function lv(c){return c.asyncQueue.enqueue((0,f.Z)(function*(){const e=yield Bp(c),r=yield Df(c);return e.setNetworkEnabled(!0),function(u){const m=Le(u);return m.M_.delete(0),Wc(m)}(r)}))}(Ui(c=Sr(c,Oi)))}function lm(c){return function d_(c){return c.asyncQueue.enqueue((0,f.Z)(function*(){const e=yield Bp(c),r=yield Df(c);return e.setNetworkEnabled(!1),(s=(0,f.Z)(function*(m){const I=Le(m);I.M_.add(0),yield dc(I),I.N_.set("Offline")}),function u(m){return s.apply(this,arguments)})(r);var s}))}(Ui(c=Sr(c,Oi)))}function um(c,e){const r=Ui(c=Sr(c,Oi)),s=new am;return function uu(c,e,r,s){const u=function(I,P){let L;return L="string"==typeof I?Pc().encode(I):I,he=function(he,Me){if(he instanceof Uint8Array)return Eh(he,void 0);if(he instanceof ArrayBuffer)return Eh(new Uint8Array(he),void 0);if(he instanceof ReadableStream)return he.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(L),new Yg(he,P);var he}(r,rt(e));c.asyncQueue.enqueueAndForget((0,f.Z)(function*(){!function el(c,e,r){const s=Le(c);var u;(u=(0,f.Z)(function*(I,P,L){try{const J=yield P.getMetadata();if(yield function(qt,hn){const nn=Le(qt),Zn=Vi(hn.createTime);return nn.persistence.runTransaction("hasNewerBundle","readonly",ir=>nn.$r.getBundleMetadata(ir,hn.id)).then(ir=>!!ir&&ir.createTime.compareTo(Zn)>=0)}(I.localStore,J))return yield P.close(),L._completeWith({taskState:"Success",documentsLoaded:(qt=J).totalDocuments,bytesLoaded:qt.totalBytes,totalDocuments:qt.totalDocuments,totalBytes:qt.totalBytes}),Promise.resolve(new Set);L._updateProgress(Sp(J));const he=new hc(J,I.localStore,P.serializer);let Me=yield P.qa();for(;Me;){const Ct=yield he._a(Me);Ct&&L._updateProgress(Ct),Me=yield P.qa()}const et=yield he.complete();return yield pc(I,et.ca,void 0),yield function(qt,hn){const nn=Le(qt);return nn.persistence.runTransaction("Save bundle","readwrite",Zn=>nn.$r.saveBundleMetadata(Zn,hn))}(I.localStore,J),L._completeWith(et.progress),Promise.resolve(et.ua)}catch(J){return Vt("SyncEngine",`Loading bundle failed with ${J}`),L._failWith(J),Promise.resolve(new Set)}var qt}),function m(I,P,L){return u.apply(this,arguments)})(s,e,r).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield Jg(c),u,s)}))}(r,c._databaseId,e,s),s}function Uf(c,e){return function tm(c,e){return c.asyncQueue.enqueue((0,f.Z)(function*(){return function(s,u){const m=Le(s);return m.persistence.runTransaction("Get named query","readonly",I=>m.$r.getNamedQuery(I,u))}(yield lu(c),e)}))}(Ui(c=Sr(c,Oi)),e).then(r=>r?new xo(c,null,r.query):null)}function Gp(c){if(c._initialized||c._terminated)throw new te(we.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ol{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ol(Pi.fromBase64String(e))}catch(r){throw new te(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Ol(Pi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ol{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new te(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vd{constructor(e){this._methodName=e}}class Bf{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new te(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new te(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return on(this._lat,e._lat)||on(this._long,e._long)}}const m_=/^__.*__$/;class hm{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new Lr(e,this.data,this.fieldMask,r,this.fieldTransforms):new Mn(e,this.data,r,this.fieldTransforms)}}class Wp{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new Lr(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function fm(c){switch(c){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt()}}class pu{constructor(e,r,s,u,m,I){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===m&&this.mu(),this.fieldTransforms=m||[],this.fieldMask=I||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new pu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.gu({path:s,yu:!1});return u.wu(e),u}Su(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.gu({path:s,yu:!1});return u.mu(),u}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Ad(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(fm(this.fu)&&m_.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class uv{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||rt(e)}Fu(e,r,s,u=!1){return new pu({fu:e,methodName:r,vu:s,path:rr.emptyPath(),yu:!1,Cu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nl(c){const e=c._freezeSettings(),r=rt(c._databaseId);return new uv(c._databaseId,!!e.ignoreUndefinedProperties,r)}function wh(c,e,r,s,u,m={}){const I=c.Fu(m.merge||m.mergeFields?2:0,e,r,u);Kp("Data must be an object, but it was:",I,s);const P=jf(s,I);let L,J;if(m.merge)L=new Hi(I.fieldMask),J=I.fieldTransforms;else if(m.mergeFields){const he=[];for(const Me of m.mergeFields){const et=Mh(e,Me,r);if(!I.contains(et))throw new te(we.INVALID_ARGUMENT,`Field '${et}' is specified in your field mask but missing from your input data.`);pm(he,et)||he.push(et)}L=new Hi(he),J=I.fieldTransforms.filter(Me=>L.covers(Me.field))}else L=null,J=I.fieldTransforms;return new hm(new ci(P),L,J)}class $a extends vd{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $a}}function Za(c,e,r){return new pu({fu:3,vu:e.settings.vu,methodName:c._methodName,yu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class bo extends vd{_toFieldTransform(e){return new ga(e.path,new Mc)}isEqual(e){return e instanceof bo}}class Ca extends vd{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=Za(this,e,!0),s=this.Mu.map(m=>yd(m,r)),u=new Ws(s);return new ga(e.path,u)}isEqual(e){return e instanceof Ca&&(0,_e.vZ)(this.Mu,e.Mu)}}class kl extends vd{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=Za(this,e,!0),s=this.Mu.map(m=>yd(m,r)),u=new Ms(s);return new ga(e.path,u)}isEqual(e){return e instanceof kl&&(0,_e.vZ)(this.Mu,e.Mu)}}class gu extends vd{constructor(e,r){super(e),this.xu=r}_toFieldTransform(e){const r=new Oa(e.serializer,Gs(e.serializer,this.xu));return new ga(e.path,r)}isEqual(e){return e instanceof gu&&this.xu===e.xu}}function Dh(c,e,r,s){const u=c.Fu(1,e,r);Kp("Data must be an object, but it was:",u,s);const m=[],I=ci.empty();go(s,(L,J)=>{const he=Qp(e,L,r);J=(0,_e.m9)(J);const Me=u.Su(he);if(J instanceof $a)m.push(he);else{const et=yd(J,Me);null!=et&&(m.push(he),I.set(he,et))}});const P=new Hi(m);return new Wp(I,P,u.fieldTransforms)}function mu(c,e,r,s,u,m){const I=c.Fu(1,e,r),P=[Mh(e,s,r)],L=[u];if(m.length%2!=0)throw new te(we.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let et=0;et<m.length;et+=2)P.push(Mh(e,m[et])),L.push(m[et+1]);const J=[],he=ci.empty();for(let et=P.length-1;et>=0;--et)if(!pm(J,P[et])){const Ct=P[et];let qt=L[et];qt=(0,_e.m9)(qt);const hn=I.Su(Ct);if(qt instanceof $a)J.push(Ct);else{const nn=yd(qt,hn);null!=nn&&(J.push(Ct),he.set(Ct,nn))}}const Me=new Hi(J);return new Wp(he,Me,I.fieldTransforms)}function Sh(c,e,r,s=!1){return yd(r,c.Fu(s?4:3,e))}function yd(c,e){if(Ed(c=(0,_e.m9)(c)))return Kp("Unsupported field value:",e,c),jf(c,e);if(c instanceof vd)return function(s,u){if(!fm(u.fu))throw u.Du(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Du(`${s._methodName}() is not currently supported inside arrays`);const m=s._toFieldTransform(u);m&&u.fieldTransforms.push(m)}(c,e),null;if(void 0===c&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),c instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(s,u){const m=[];let I=0;for(const P of s){let L=yd(P,u.bu(I));null==L&&(L={nullValue:"NULL_VALUE"}),m.push(L),I++}return{arrayValue:{values:m}}}(c,e)}return function(s,u){if(null===(s=(0,_e.m9)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return Gs(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const m=Yn.fromDate(s);return{timestampValue:Na(u.serializer,m)}}if(s instanceof Yn){const m=new Yn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Na(u.serializer,m)}}if(s instanceof Bf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ol)return{bytesValue:Ud(u.serializer,s._byteString)};if(s instanceof Io){const m=u.databaseId,I=s.firestore._databaseId;if(!I.isEqual(m))throw u.Du(`Document reference is for database ${I.projectId}/${I.database} but should be for database ${m.projectId}/${m.database}`);return{referenceValue:ka(s.firestore._databaseId||u.databaseId,s._key.path)}}throw u.Du(`Unsupported field value: ${ca(s)}`)}(c,e)}function jf(c,e){const r={};return Qo(c)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):go(c,(s,u)=>{const m=yd(u,e.pu(s));null!=m&&(r[s]=m)}),{mapValue:{fields:r}}}function Ed(c){return!("object"!=typeof c||null===c||c instanceof Array||c instanceof Date||c instanceof Yn||c instanceof Bf||c instanceof Ol||c instanceof Io||c instanceof vd)}function Kp(c,e,r){if(!Ed(r)||"object"!=typeof(u=r)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=ca(r);throw e.Du("an object"===s?c+" a custom object":c+" "+s)}var u}function Mh(c,e,r){if((e=(0,_e.m9)(e))instanceof ol)return e._internalPath;if("string"==typeof e)return Qp(c,e);throw Ad("Field path arguments must be of type string or ",c,!1,void 0,r)}const dv=new RegExp("[~\\*/\\[\\]]");function Qp(c,e,r){if(e.search(dv)>=0)throw Ad(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,c,!1,void 0,r);try{return new ol(...e.split("."))._internalPath}catch{throw Ad(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,c,!1,void 0,r)}}function Ad(c,e,r,s,u){const m=s&&!s.isEmpty(),I=void 0!==u;let P=`Function ${e}() called with invalid data`;r&&(P+=" (via `toFirestore()`)"),P+=". ";let L="";return(m||I)&&(L+=" (found",m&&(L+=` in field ${s}`),I&&(L+=` in document ${u}`),L+=")"),new te(we.INVALID_ARGUMENT,P+c+L)}function pm(c,e){return c.some(r=>r.isEqual(e))}class Hf{constructor(e,r,s,u,m){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=u,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new Io(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new hv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(gm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class hv extends Hf{data(){return super.data()}}function gm(c,e){return"string"==typeof e?Qp(c,e):e instanceof ol?e._internalPath:e._delegate._internalPath}function __(c){if("L"===c.limitType&&0===c.explicitOrderBy.length)throw new te(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ph{}class Id extends Ph{}function fv(c,e,...r){let s=[];e instanceof Ph&&s.push(e),s=s.concat(r),function(m){const I=m.filter(L=>L instanceof Ga).length,P=m.filter(L=>L instanceof _u).length;if(I>1||I>0&&P>0)throw new te(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)c=u._apply(c);return c}class _u extends Id{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new _u(e,r,s)}_apply(e){const r=this._parse(e);return ym(e._query,r),new xo(e.firestore,e.converter,bc(e._query,r))}_parse(e){const r=Nl(e.firestore);return function(m,I,P,L,J,he,Me){let et;if(J.isKeyField()){if("array-contains"===he||"array-contains-any"===he)throw new te(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${he}' queries on documentId().`);if("in"===he||"not-in"===he){vm(Me,he);const Ct=[];for(const qt of Me)Ct.push(E_(L,m,qt));et={arrayValue:{values:Ct}}}else et=E_(L,m,Me)}else"in"!==he&&"not-in"!==he&&"array-contains-any"!==he||vm(Me,he),et=Sh(P,"where",Me,"in"===he||"not-in"===he);return Kt.create(J,he,et)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function xh(c,e,r){const s=e,u=gm("where",c);return _u._create(u,s,r)}class Ga extends Ph{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Ga(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:An.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(u,m){let I=u;const P=m.getFlattenedFilters();for(const L of P)ym(I,L),I=bc(I,L)}(e._query,r),new xo(e.firestore,e.converter,bc(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Jp extends Id{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Jp(e,r)}_apply(e){const r=function(u,m,I){if(null!==u.startAt)throw new te(we.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new te(we.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lt(m,I)}(e._query,this._field,this._direction);return new xo(e.firestore,e.converter,function(u,m){const I=u.explicitOrderBy.concat([m]);return new F(u.path,u.collectionGroup,I,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,r))}}function mm(c,e="asc"){const r=e,s=gm("orderBy",c);return Jp._create(s,r)}class _m extends Id{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new _m(e,r,s)}_apply(e){return new xo(e.firestore,e.converter,ec(e._query,this._limit,this._limitType))}}function pv(c){return mc("limit",c),_m._create("limit",c,"F")}function zf(c){return mc("limitToLast",c),_m._create("limitToLast",c,"L")}class Xp extends Id{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new Xp(e,r,s)}_apply(e){const r=y_(e,this.type,this._docOrFields,this._inclusive);return new xo(e.firestore,e.converter,(m=r,new F((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,m,u.endAt)));var u,m}}function Rh(...c){return Xp._create("startAt",c,!0)}function $f(...c){return Xp._create("startAfter",c,!1)}class eg extends Id{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new eg(e,r,s)}_apply(e){const r=y_(e,this.type,this._docOrFields,this._inclusive);return new xo(e.firestore,e.converter,(m=r,new F((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,m)));var u,m}}function v_(...c){return eg._create("endBefore",c,!1)}function gv(...c){return eg._create("endAt",c,!0)}function y_(c,e,r,s){if(r[0]=(0,_e.m9)(r[0]),r[0]instanceof Hf)return function(m,I,P,L,J){if(!L)throw new te(we.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${P}().`);const he=[];for(const Me of fo(m))if(Me.field.isKeyField())he.push(_n(I,L.key));else{const et=L.data.field(Me.field);if(Zo(et))throw new te(we.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Me.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===et){const Ct=Me.field.canonicalString();throw new te(we.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ct}' (used as the orderBy) does not exist.`)}he.push(et)}return new ke(he,J)}(c._query,c.firestore._databaseId,e,r[0]._document,s);{const u=Nl(c.firestore);return function(I,P,L,J,he,Me){const et=I.explicitOrderBy;if(he.length>et.length)throw new te(we.INVALID_ARGUMENT,`Too many arguments provided to ${J}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ct=[];for(let qt=0;qt<he.length;qt++){const hn=he[qt];if(et[qt].field.isKeyField()){if("string"!=typeof hn)throw new te(we.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${J}(), but got a ${typeof hn}`);if(!_r(I)&&-1!==hn.indexOf("/"))throw new te(we.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${J}() must be a plain document ID, but '${hn}' contains a slash.`);const nn=I.path.child(xn.fromString(hn));if(!Yt.isDocumentKey(nn))throw new te(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${J}() must result in a valid document path, but '${nn}' is not because it contains an odd number of segments.`);const Zn=new Yt(nn);Ct.push(_n(P,Zn))}else{const nn=Sh(L,J,hn);Ct.push(nn)}}return new ke(Ct,Me)}(c._query,c.firestore._databaseId,u,e,r,s)}}function E_(c,e,r){if("string"==typeof(r=(0,_e.m9)(r))){if(""===r)throw new te(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_r(e)&&-1!==r.indexOf("/"))throw new te(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(xn.fromString(r));if(!Yt.isDocumentKey(s))throw new te(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return _n(c,new Yt(s))}if(r instanceof Io)return _n(c,r._key);throw new te(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ca(r)}.`)}function vm(c,e){if(!Array.isArray(c)||0===c.length)throw new te(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ym(c,e){const r=function(u,m){for(const I of u)for(const P of I.getFlattenedFilters())if(m.indexOf(P.op)>=0)return P.op;return null}(c.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new te(we.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class A_{convertValue(e,r="none"){switch(zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ei(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(mo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw Tt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return go(e,(u,m)=>{s[u]=this.convertValue(m,r)}),s}convertGeoPoint(e){return new Bf(Ei(e.latitude),Ei(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=ns(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(no(e));default:return null}}convertTimestamp(e){const r=wo(e);return new Yn(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=xn.fromString(e);Ke(Ve(s));const u=new qn(s.get(1),s.get(3)),m=new Yt(s.popFirst(5));return u.isEqual(r)||Nt(`Document ${m} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),m}}function Oh(c,e,r){let s;return s=c?r&&(r.merge||r.mergeFields)?c.toFirestore(e,r):c.toFirestore(e):e,s}class I_ extends A_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ol(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Io(this.firestore,null,r)}}class bd{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cd extends Hf{constructor(e,r,s,u,m,I){super(e,r,s,u,I),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new ng(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(gm("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class ng extends Cd{data(e={}){return super.data(e)}}class vu{constructor(e,r,s,u){this._firestore=e,this._userDataWriter=r,this._snapshot=u,this.metadata=new bd(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new ng(this._firestore,this._userDataWriter,s.key,s,new bd(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new te(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(u,m){if(u._snapshot.oldDocs.isEmpty()){let I=0;return u._snapshot.docChanges.map(P=>({type:"added",doc:new ng(u._firestore,u._userDataWriter,P.doc.key,P.doc,new bd(u._snapshot.mutatedKeys.has(P.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:I++}))}{let I=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(P=>m||3!==P.type).map(P=>{const L=new ng(u._firestore,u._userDataWriter,P.doc.key,P.doc,new bd(u._snapshot.mutatedKeys.has(P.doc.key),u._snapshot.fromCache),u.query.converter);let J=-1,he=-1;return 0!==P.type&&(J=I.indexOf(P.doc.key),I=I.delete(P.doc.key)),1!==P.type&&(I=I.add(P.doc),he=I.indexOf(P.doc.key)),{type:C_(P.type),doc:L,oldIndex:J,newIndex:he}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function C_(c){switch(c){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt()}}function _c(c,e){return c instanceof Cd&&e instanceof Cd?c._firestore===e._firestore&&c._key.isEqual(e._key)&&(null===c._document?null===e._document:c._document.isEqual(e._document))&&c._converter===e._converter:c instanceof vu&&e instanceof vu&&c._firestore===e._firestore&&kf(c.query,e.query)&&c.metadata.isEqual(e.metadata)&&c._snapshot.isEqual(e._snapshot)}function T_(c){c=Sr(c,Io);const e=Sr(c.firestore,Oi);return jp(Ui(e),c._key).then(r=>bm(e,c,r))}class Td extends A_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ol(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Io(this.firestore,null,r)}}function Em(c){c=Sr(c,Io);const e=Sr(c.firestore,Oi),r=Ui(e),s=new Td(e);return function h_(c,e){const r=new Ie;return c.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return(s=(0,f.Z)(function*(m,I,P){try{const L=yield function(he,Me){const et=Le(he);return et.persistence.runTransaction("read document","readonly",Ct=>et.localDocuments.getDocument(Ct,Me))}(m,I);L.isFoundDocument()?P.resolve(L):L.isNoDocument()?P.resolve(null):P.reject(new te(we.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(L){const J=nu(L,`Failed to get document '${I} from cache`);P.reject(J)}}),function u(m,I,P){return s.apply(this,arguments)})(yield lu(c),e,r);var s})),r.promise}(r,c._key).then(u=>new Cd(e,s,c._key,u,new bd(null!==u&&u.hasLocalMutations,!0),c.converter))}function yu(c){c=Sr(c,Io);const e=Sr(c.firestore,Oi);return jp(Ui(e),c._key,{source:"server"}).then(r=>bm(e,c,r))}function Am(c){c=Sr(c,xo);const e=Sr(c.firestore,Oi),r=Ui(e),s=new Td(e);return __(c._query),Hp(r,c._query).then(u=>new vu(e,s,c,u))}function _v(c){c=Sr(c,xo);const e=Sr(c.firestore,Oi),r=Ui(e),s=new Td(e);return function Mf(c,e){const r=new Ie;return c.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return(s=(0,f.Z)(function*(m,I,P){try{const L=yield Wu(m,I,!0),J=new $g(I,L.hs),he=J.da(L.documents),Me=J.applyChanges(he,!1);P.resolve(Me.snapshot)}catch(L){const J=nu(L,`Failed to execute query '${I} against cache`);P.reject(J)}}),function u(m,I,P){return s.apply(this,arguments)})(yield lu(c),e,r);var s})),r.promise}(r,c._query).then(u=>new vu(e,s,c,u))}function by(c){c=Sr(c,xo);const e=Sr(c.firestore,Oi),r=Ui(e),s=new Td(e);return Hp(r,c._query,{source:"server"}).then(u=>new vu(e,s,c,u))}function vv(c,e,r){c=Sr(c,Io);const s=Sr(c.firestore,Oi),u=Oh(c.converter,e,r);return Co(s,[wh(Nl(s),"setDoc",c._key,u,null!==c.converter,r).toMutation(c._key,bi.none())])}function Im(c,e,r,...s){c=Sr(c,Io);const u=Sr(c.firestore,Oi),m=Nl(u);let I;return I="string"==typeof(e=(0,_e.m9)(e))||e instanceof ol?mu(m,"updateDoc",c._key,e,r,s):Dh(m,"updateDoc",c._key,e),Co(u,[I.toMutation(c._key,bi.exists(!0))])}function sl(c){return Co(Sr(c.firestore,Oi),[new pi(c._key,bi.none())])}function w_(c,e){const r=Sr(c.firestore,Oi),s=sm(c),u=Oh(c.converter,e);return Co(r,[wh(Nl(c.firestore),"addDoc",s._key,u,null!==c.converter,{}).toMutation(s._key,bi.exists(!1))]).then(()=>s)}function yv(c,...e){var r,s,u;c=(0,_e.m9)(c);let m={includeMetadataChanges:!1,source:"default"},I=0;"object"!=typeof e[I]||il(e[I])||(m=e[I],I++);const P={includeMetadataChanges:m.includeMetadataChanges,source:m.source};if(il(e[I])){const Me=e[I];e[I]=null===(r=Me.next)||void 0===r?void 0:r.bind(Me),e[I+1]=null===(s=Me.error)||void 0===s?void 0:s.bind(Me),e[I+2]=null===(u=Me.complete)||void 0===u?void 0:u.bind(Me)}let L,J,he;if(c instanceof Io)J=Sr(c.firestore,Oi),he=ze(c._key.path),L={next:Me=>{e[I]&&e[I](bm(J,c,Me))},error:e[I+1],complete:e[I+2]};else{const Me=Sr(c,xo);J=Sr(Me.firestore,Oi),he=Me._query;const et=new Td(J);L={next:Ct=>{e[I]&&e[I](new vu(J,et,Me,Ct))},error:e[I+1],complete:e[I+2]},__(c._query)}return function(et,Ct,qt,hn){const nn=new Tf(hn),Zn=new sd(Ct,nn,qt);return et.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return dh(yield rl(et),Zn)})),()=>{nn.$a(),et.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return Bs(yield rl(et),Zn)}))}}(Ui(J),he,P,L)}function Cy(c,e){return function em(c,e){const r=new Tf(e);return c.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return u=yield rl(c),m=r,Le(u).z_.add(m),void m.next();var u,m})),()=>{r.$a(),c.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return u=yield rl(c),m=r,void Le(u).z_.delete(m);var u,m}))}}(Ui(c=Sr(c,Oi)),il(e)?e:{next:e})}function Co(c,e){return function(s,u){const m=new Ie;return s.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function ad(c,e,r){return cd.apply(this,arguments)}(yield Jg(s),u,m)})),m.promise}(Ui(c),e)}function bm(c,e,r){const s=r.docs.get(e._key),u=new Td(c);return new Cd(c,u,e._key,s,new bd(r.hasPendingWrites,r.fromCache),e.converter)}const Fl={maxAttempts:5};class wd{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Nl(e)}set(e,r,s){this._verifyNotCommitted();const u=Eu(e,this._firestore),m=Oh(u.converter,r,s),I=wh(this._dataReader,"WriteBatch.set",u._key,m,null!==u.converter,s);return this._mutations.push(I.toMutation(u._key,bi.none())),this}update(e,r,s,...u){this._verifyNotCommitted();const m=Eu(e,this._firestore);let I;return I="string"==typeof(r=(0,_e.m9)(r))||r instanceof ol?mu(this._dataReader,"WriteBatch.update",m._key,r,s,u):Dh(this._dataReader,"WriteBatch.update",m._key,r),this._mutations.push(I.toMutation(m._key,bi.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Eu(e,this._firestore);return this._mutations=this._mutations.concat(new pi(r._key,bi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new te(we.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Eu(c,e){if((c=(0,_e.m9)(c)).firestore!==e)throw new te(we.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return c}class x_ extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=Nl(r)}get(r){const s=Eu(r,this._firestore),u=new I_(this._firestore);return this._transaction.lookup([s._key]).then(m=>{if(!m||1!==m.length)return Tt();const I=m[0];if(I.isFoundDocument())return new Hf(this._firestore,u,I.key,I,s.converter);if(I.isNoDocument())return new Hf(this._firestore,u,s._key,null,s.converter);throw Tt()})}set(r,s,u){const m=Eu(r,this._firestore),I=Oh(m.converter,s,u),P=wh(this._dataReader,"Transaction.set",m._key,I,null!==m.converter,u);return this._transaction.set(m._key,P),this}update(r,s,u,...m){const I=Eu(r,this._firestore);let P;return P="string"==typeof(s=(0,_e.m9)(s))||s instanceof ol?mu(this._dataReader,"Transaction.update",I._key,s,u,m):Dh(this._dataReader,"Transaction.update",I._key,s),this._transaction.update(I._key,P),this}delete(r){const s=Eu(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=Eu(e,this._firestore),s=new Td(this._firestore);return super.get(e).then(u=>new Cd(this._firestore,s,r._key,u._document,new bd(!1,!1),r.converter))}}function Gf(c,e,r){c=Sr(c,Oi);const s=Object.assign(Object.assign({},Fl),r);return function(m){if(m.maxAttempts<1)throw new te(we.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(m,I,P){const L=new Ie;return m.asyncQueue.enqueueAndForget((0,f.Z)(function*(){const J=yield function Xg(c){return Up(c).then(e=>e.datastore)}(m);new c_(m.asyncQueue,J,P,I,L).Xa()})),L.promise}(Ui(c),u=>e(new x_(c,u)),s)}function rg(){return new $a("deleteField")}function ig(){return new bo("serverTimestamp")}function qf(...c){return new Ca("arrayUnion",c)}function Dd(...c){return new kl("arrayRemove",c)}function Tm(c){return new gu("increment",c)}!function(e,r=!0){Ze=o.SDK_VERSION,(0,o._registerComponent)(new U.wA("firestore",(s,{instanceIdentifier:u,options:m})=>{const I=s.getProvider("app").getImmediate(),P=new Oi(new vt(s.getProvider("auth-internal")),new bn(s.getProvider("app-check-internal")),function(J,he){if(!Object.prototype.hasOwnProperty.apply(J.options,["projectId"]))throw new te(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qn(J.options.projectId,he)}(I,u),I);return m=Object.assign({useFetchStreams:r},m),P._setSettings(m),P},"PUBLIC").setMultipleInstances(!0)),(0,o.registerVersion)(Ne,"4.6.3",e),(0,o.registerVersion)(Ne,"4.6.3","esm2017")}()},8153:(sn,lt,k)=>{"use strict";k.d(lt,{$Y:()=>vn,B0:()=>Ho,FN:()=>Vn,IX:()=>ji,Jt:()=>ki,UJ:()=>Ur,Ym:()=>_n,a1:()=>so,aF:()=>Nr,bm:()=>In,cF:()=>si,g6:()=>Do,gE:()=>ut,gH:()=>Nt,iH:()=>ai,oq:()=>oo,pb:()=>Xn,qm:()=>Hn,sd:()=>$r,y4:()=>Dn});var f=k(5861),o=k(534),U=k(9058),Se=k(4537);const _e="firebasestorage.googleapis.com",Ae="storageBucket";class G extends U.ZR{constructor(Y,ke,$e=0){super(se(Y),`Firebase Storage: ${ke} (${se(Y)})`),this.status_=$e,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,G.prototype)}get status(){return this.status_}set status(Y){this.status_=Y}_codeEquals(Y){return se(Y)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(Y){this.customData.serverResponse=Y,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var z=function(re){return re.UNKNOWN="unknown",re.OBJECT_NOT_FOUND="object-not-found",re.BUCKET_NOT_FOUND="bucket-not-found",re.PROJECT_NOT_FOUND="project-not-found",re.QUOTA_EXCEEDED="quota-exceeded",re.UNAUTHENTICATED="unauthenticated",re.UNAUTHORIZED="unauthorized",re.UNAUTHORIZED_APP="unauthorized-app",re.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",re.INVALID_CHECKSUM="invalid-checksum",re.CANCELED="canceled",re.INVALID_EVENT_NAME="invalid-event-name",re.INVALID_URL="invalid-url",re.INVALID_DEFAULT_BUCKET="invalid-default-bucket",re.NO_DEFAULT_BUCKET="no-default-bucket",re.CANNOT_SLICE_BLOB="cannot-slice-blob",re.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",re.NO_DOWNLOAD_URL="no-download-url",re.INVALID_ARGUMENT="invalid-argument",re.INVALID_ARGUMENT_COUNT="invalid-argument-count",re.APP_DELETED="app-deleted",re.INVALID_ROOT_OPERATION="invalid-root-operation",re.INVALID_FORMAT="invalid-format",re.INTERNAL_ERROR="internal-error",re.UNSUPPORTED_ENVIRONMENT="unsupported-environment",re}(z||{});function se(re){return"storage/"+re}function be(){return new G(z.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function _t(){return new G(z.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Fe(){return new G(z.CANCELED,"User canceled the upload/download.")}function Ge(){return new G(z.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Nt(re){return new G(z.INVALID_ARGUMENT,re)}function Vt(){return new G(z.APP_DELETED,"The Firebase app was deleted.")}function Dn(re){return new G(z.INVALID_ROOT_OPERATION,"The operation '"+re+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Tt(re,Y){return new G(z.INVALID_FORMAT,"String does not match format '"+re+"': "+Y)}function Ke(re){throw new G(z.INTERNAL_ERROR,"Internal error: "+re)}class ut{constructor(Y,ke){this.bucket=Y,this.path_=ke}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const Y=encodeURIComponent;return"/b/"+Y(this.bucket)+"/o/"+Y(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(Y,ke){let $e;try{$e=ut.makeFromUrl(Y,ke)}catch{return new ut(Y,"")}if(""===$e.path)return $e;throw function tt(re){return new G(z.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+re+"'.")}(Y)}static makeFromUrl(Y,ke){let $e=null;const ht="([A-Za-z0-9.\\-_]+)",Sn=new RegExp("^gs://"+ht+"(/(.*))?$","i");function An(Ri){Ri.path_=decodeURIComponent(Ri.path)}const Bn=ke.replace(/[.]/g,"\\."),yr=[{regex:Sn,indices:{bucket:1,path:3},postModify:function Lt(Ri){"/"===Ri.path.charAt(Ri.path.length-1)&&(Ri.path_=Ri.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Bn}/v[A-Za-z0-9_]+/b/${ht}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:An},{regex:new RegExp(`^https?://${ke===_e?"(?:storage.googleapis.com|storage.cloud.google.com)":ke}/${ht}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:An}];for(let Ri=0;Ri<yr.length;Ri++){const Kr=yr[Ri],Ii=Kr.regex.exec(Y);if(Ii){let ao=Ii[Kr.indices.path];ao||(ao=""),$e=new ut(Ii[Kr.indices.bucket],ao),Kr.postModify($e);break}}if(null==$e)throw function Ne(re){return new G(z.INVALID_URL,"Invalid URL '"+re+"'.")}(Y);return $e}}class Le{constructor(Y){this.promise_=Promise.reject(Y)}getPromise(){return this.promise_}cancel(Y=!1){}}function ot(re){return"string"==typeof re||re instanceof String}function vt(re){return Bt()&&re instanceof Blob}function Bt(){return typeof Blob<"u"}function Zt(re,Y,ke,$e){if($e<Y)throw Nt(`Invalid value for '${re}'. Expected ${Y} or greater.`);if($e>ke)throw Nt(`Invalid value for '${re}'. Expected ${ke} or less.`)}function Wt(re,Y,ke){let $e=Y;return null==ke&&($e=`https://${Y}`),`${ke}://${$e}/v0${re}`}function bn(re){const Y=encodeURIComponent;let ke="?";for(const $e in re)re.hasOwnProperty($e)&&(ke=ke+(Y($e)+"=")+Y(re[$e])+"&");return ke=ke.slice(0,-1),ke}var Qn=function(re){return re[re.NO_ERROR=0]="NO_ERROR",re[re.NETWORK_ERROR=1]="NETWORK_ERROR",re[re.ABORT=2]="ABORT",re}(Qn||{});function Pn(re,Y){const ke=re>=500&&re<600,ht=-1!==[408,429].indexOf(re),Lt=-1!==Y.indexOf(re);return ke||ht||Lt}class On{constructor(Y,ke,$e,ht,Lt,pn,Sn,Kt,An,mr,Bn,Ai=!0){this.url_=Y,this.method_=ke,this.headers_=$e,this.body_=ht,this.successCodes_=Lt,this.additionalRetryCodes_=pn,this.callback_=Sn,this.errorCallback_=Kt,this.timeout_=An,this.progressCallback_=mr,this.connectionFactory_=Bn,this.retry=Ai,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Zr,kr)=>{this.resolve_=Zr,this.reject_=kr,this.start_()})}start_(){const ke=($e,ht)=>{const Lt=this.resolve_,pn=this.reject_,Sn=ht.connection;if(ht.wasSuccessCode)try{const Kt=this.callback_(Sn,Sn.getResponse());!function Ie(re){return void 0!==re}(Kt)?Lt():Lt(Kt)}catch(Kt){pn(Kt)}else if(null!==Sn){const Kt=be();Kt.serverResponse=Sn.getErrorText(),pn(this.errorCallback_?this.errorCallback_(Sn,Kt):Kt)}else pn(ht.canceled?this.appDelete_?Vt():Fe():_t())};this.canceled_?ke(0,new on(!1,null,!0)):this.backoffId_=function we(re,Y,ke){let $e=1,ht=null,Lt=null,pn=!1,Sn=0;function Kt(){return 2===Sn}let An=!1;function mr(...Br){An||(An=!0,Y.apply(null,Br))}function Bn(Br){ht=setTimeout(()=>{ht=null,re(Zr,Kt())},Br)}function Ai(){Lt&&clearTimeout(Lt)}function Zr(Br,...uo){if(An)return void Ai();if(Br)return Ai(),void mr.call(null,Br,...uo);if(Kt()||pn)return Ai(),void mr.call(null,Br,...uo);let yr;$e<64&&($e*=2),1===Sn?(Sn=2,yr=0):yr=1e3*($e+Math.random()),Bn(yr)}let kr=!1;function mi(Br){kr||(kr=!0,Ai(),!An&&(null!==ht?(Br||(Sn=2),clearTimeout(ht),Bn(0)):Br||(Sn=1)))}return Bn(0),Lt=setTimeout(()=>{pn=!0,mi(!0)},ke),mi}(($e,ht)=>{if(ht)return void $e(!1,new on(!1,null,!0));const Lt=this.connectionFactory_();this.pendingConnection_=Lt;const pn=Sn=>{null!==this.progressCallback_&&this.progressCallback_(Sn.loaded,Sn.lengthComputable?Sn.total:-1)};null!==this.progressCallback_&&Lt.addUploadProgressListener(pn),Lt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Lt.removeUploadProgressListener(pn),this.pendingConnection_=null;const Sn=Lt.getErrorCode()===Qn.NO_ERROR,Kt=Lt.getStatus();if(!Sn||Pn(Kt,this.additionalRetryCodes_)&&this.retry){const mr=Lt.getErrorCode()===Qn.ABORT;return void $e(!1,new on(!1,null,mr))}const An=-1!==this.successCodes_.indexOf(Kt);$e(!0,new on(An,Lt))})},ke,this.timeout_)}getPromise(){return this.promise_}cancel(Y){this.canceled_=!0,this.appDelete_=Y||!1,null!==this.backoffId_&&function te(re){re(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class on{constructor(Y,ke,$e){this.wasSuccessCode=Y,this.connection=ke,this.canceled=!!$e}}function Rr(...re){const Y=function xn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==Y){const ke=new Y;for(let $e=0;$e<re.length;$e++)ke.append(re[$e]);return ke.getBlob()}if(Bt())return new Blob(re);throw new G(z.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const In={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Un{constructor(Y,ke){this.data=Y,this.contentType=ke||null}}function Hn(re,Y){switch(re){case In.RAW:return new Un(Ar(Y));case In.BASE64:case In.BASE64URL:return new Un(Gn(re,Y));case In.DATA_URL:return new Un(function Yr(re){const Y=new Wn(re);return Y.base64?Gn(In.BASE64,Y.rest):function Tr(re){let Y;try{Y=decodeURIComponent(re)}catch{throw Tt(In.DATA_URL,"Malformed data URL.")}return Ar(Y)}(Y.rest)}(Y),function yi(re){return new Wn(re).contentType}(Y))}throw be()}function Ar(re){const Y=[];for(let ke=0;ke<re.length;ke++){let $e=re.charCodeAt(ke);$e<=127?Y.push($e):$e<=2047?Y.push(192|$e>>6,128|63&$e):55296==(64512&$e)?ke<re.length-1&&56320==(64512&re.charCodeAt(ke+1))?($e=65536|(1023&$e)<<10|1023&re.charCodeAt(++ke),Y.push(240|$e>>18,128|$e>>12&63,128|$e>>6&63,128|63&$e)):Y.push(239,191,189):56320==(64512&$e)?Y.push(239,191,189):Y.push(224|$e>>12,128|$e>>6&63,128|63&$e)}return new Uint8Array(Y)}function Gn(re,Y){switch(re){case In.BASE64:{const ht=-1!==Y.indexOf("-"),Lt=-1!==Y.indexOf("_");if(ht||Lt)throw Tt(re,"Invalid character '"+(ht?"-":"_")+"' found: is it base64url encoded?");break}case In.BASE64URL:{const ht=-1!==Y.indexOf("+"),Lt=-1!==Y.indexOf("/");if(ht||Lt)throw Tt(re,"Invalid character '"+(ht?"+":"/")+"' found: is it base64 encoded?");Y=Y.replace(/-/g,"+").replace(/_/g,"/");break}}let ke;try{ke=function Yt(re){if(typeof atob>"u")throw function Ee(re){return new G(z.UNSUPPORTED_ENVIRONMENT,`${re} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(re)}(Y)}catch(ht){throw ht.message.includes("polyfill")?ht:Tt(re,"Invalid character found")}const $e=new Uint8Array(ke.length);for(let ht=0;ht<ke.length;ht++)$e[ht]=ke.charCodeAt(ht);return $e}class Wn{constructor(Y){this.base64=!1,this.contentType=null;const ke=Y.match(/^data:([^,]+)?,/);if(null===ke)throw Tt(In.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const $e=ke[1]||null;null!=$e&&(this.base64=function gn(re,Y){return re.length>=Y.length&&re.substring(re.length-Y.length)===Y}($e,";base64"),this.contentType=this.base64?$e.substring(0,$e.length-7):$e),this.rest=Y.substring(Y.indexOf(",")+1)}}class Ur{constructor(Y,ke){let $e=0,ht="";vt(Y)?(this.data_=Y,$e=Y.size,ht=Y.type):Y instanceof ArrayBuffer?(ke?this.data_=new Uint8Array(Y):(this.data_=new Uint8Array(Y.byteLength),this.data_.set(new Uint8Array(Y))),$e=this.data_.length):Y instanceof Uint8Array&&(ke?this.data_=Y:(this.data_=new Uint8Array(Y.length),this.data_.set(Y)),$e=Y.length),this.size_=$e,this.type_=ht}size(){return this.size_}type(){return this.type_}slice(Y,ke){if(vt(this.data_)){const ht=function rr(re,Y,ke){return re.webkitSlice?re.webkitSlice(Y,ke):re.mozSlice?re.mozSlice(Y,ke):re.slice?re.slice(Y,ke):null}(this.data_,Y,ke);return null===ht?null:new Ur(ht)}{const $e=new Uint8Array(this.data_.buffer,Y,ke-Y);return new Ur($e,!0)}}static getBlob(...Y){if(Bt()){const ke=Y.map($e=>$e instanceof Ur?$e.data_:$e);return new Ur(Rr.apply(null,ke))}{const ke=Y.map(pn=>ot(pn)?Hn(In.RAW,pn).data:pn.data_);let $e=0;ke.forEach(pn=>{$e+=pn.byteLength});const ht=new Uint8Array($e);let Lt=0;return ke.forEach(pn=>{for(let Sn=0;Sn<pn.length;Sn++)ht[Lt++]=pn[Sn]}),new Ur(ht,!0)}}uploadData(){return this.data_}}function sr(re){let Y;try{Y=JSON.parse(re)}catch{return null}return function je(re){return"object"==typeof re&&!Array.isArray(re)}(Y)?Y:null}function ri(re){const Y=re.lastIndexOf("/",re.length-2);return-1===Y?re:re.slice(Y+1)}function at(re,Y){return Y}class wt{constructor(Y,ke,$e,ht){this.server=Y,this.local=ke||Y,this.writable=!!$e,this.xform=ht||at}}let ue=null;function xt(){if(ue)return ue;const re=[];re.push(new wt("bucket")),re.push(new wt("generation")),re.push(new wt("metageneration")),re.push(new wt("name","fullPath",!0));const ke=new wt("name");ke.xform=function Y(Lt,pn){return function Be(re){return!ot(re)||re.length<2?re:ri(re)}(pn)},re.push(ke);const ht=new wt("size");return ht.xform=function $e(Lt,pn){return void 0!==pn?Number(pn):pn},re.push(ht),re.push(new wt("timeCreated")),re.push(new wt("updated")),re.push(new wt("md5Hash",null,!0)),re.push(new wt("cacheControl",null,!0)),re.push(new wt("contentDisposition",null,!0)),re.push(new wt("contentEncoding",null,!0)),re.push(new wt("contentLanguage",null,!0)),re.push(new wt("contentType",null,!0)),re.push(new wt("metadata","customMetadata",!0)),ue=re,ue}function hi(re,Y,ke){const $e=sr(Y);return null===$e?null:function zn(re,Y,ke){const $e={type:"file"},ht=ke.length;for(let Lt=0;Lt<ht;Lt++){const pn=ke[Lt];$e[pn.local]=pn.xform($e,Y[pn.server])}return function tn(re,Y){Object.defineProperty(re,"ref",{get:function ke(){const Lt=new ut(re.bucket,re.fullPath);return Y._makeStorageReference(Lt)}})}($e,re),$e}(re,$e,ke)}function qe(re,Y){const ke={},$e=Y.length;for(let ht=0;ht<$e;ht++){const Lt=Y[ht];Lt.writable&&(ke[Lt.server]=re[Lt.local])}return JSON.stringify(ke)}const ce="prefixes",K="items";class Te{constructor(Y,ke,$e,ht){this.url=Y,this.method=ke,this.handler=$e,this.timeout=ht,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Xe(re){if(!re)throw be()}function kt(re,Y){return function ke($e,ht){const Lt=hi(re,ht,Y);return Xe(null!==Lt),Lt}}function an(re){return function Y(ke,$e){let ht;return ht=401===ke.getStatus()?ke.getErrorText().includes("Firebase App Check token is invalid")?function Ye(){return new G(z.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Re(){return new G(z.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===ke.getStatus()?function De(re){return new G(z.QUOTA_EXCEEDED,"Quota for bucket '"+re+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(re.bucket):403===ke.getStatus()?function We(re){return new G(z.UNAUTHORIZED,"User does not have permission to access '"+re+"'.")}(re.path):$e,ht.status=ke.getStatus(),ht.serverResponse=$e.serverResponse,ht}}function fn(re){const Y=an(re);return function ke($e,ht){let Lt=Y($e,ht);return 404===$e.getStatus()&&(Lt=function ye(re){return new G(z.OBJECT_NOT_FOUND,"Object '"+re+"' does not exist.")}(re.path)),Lt.serverResponse=ht.serverResponse,Lt}}function Jn(re,Y,ke){const ht=Wt(Y.fullServerUrl(),re.host,re._protocol),pn=re.maxOperationRetryTime,Sn=new Te(ht,"GET",kt(re,ke),pn);return Sn.errorHandler=fn(Y),Sn}function Je(re,Y,ke,$e,ht){const Lt={};Lt.prefix=Y.isRoot?"":Y.path+"/",ke&&ke.length>0&&(Lt.delimiter=ke),$e&&(Lt.pageToken=$e),ht&&(Lt.maxResults=ht);const Sn=Wt(Y.bucketOnlyServerUrl(),re.host,re._protocol),An=re.maxOperationRetryTime,mr=new Te(Sn,"GET",function $t(re,Y){return function ke($e,ht){const Lt=function B(re,Y,ke){const $e=sr(ke);return null===$e?null:function H(re,Y,ke){const $e={prefixes:[],items:[],nextPageToken:ke.nextPageToken};if(ke[ce])for(const ht of ke[ce]){const Lt=ht.replace(/\/$/,""),pn=re._makeStorageReference(new ut(Y,Lt));$e.prefixes.push(pn)}if(ke[K])for(const ht of ke[K]){const Lt=re._makeStorageReference(new ut(Y,ht.name));$e.items.push(Lt)}return $e}(re,Y,$e)}(re,Y,ht);return Xe(null!==Lt),Lt}}(re,Y.bucket),An);return mr.urlParams=Lt,mr.errorHandler=an(Y),mr}function cn(re,Y,ke){const $e=Object.assign({},ke);return $e.fullPath=re.path,$e.size=Y.size(),$e.contentType||($e.contentType=function En(re,Y){return re&&re.contentType||Y&&Y.type()||"application/octet-stream"}(null,Y)),$e}class yn{constructor(Y,ke,$e,ht){this.current=Y,this.total=ke,this.finalized=!!$e,this.metadata=ht||null}}function yt(re,Y){let ke=null;try{ke=re.getResponseHeader("X-Goog-Upload-Status")}catch{Xe(!1)}return Xe(!!ke&&-1!==(Y||["active"]).indexOf(ke)),ke}const Vn={STATE_CHANGED:"state_changed"},vn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function $n(re){switch(re){case"running":case"pausing":case"canceling":return vn.RUNNING;case"paused":return vn.PAUSED;case"success":return vn.SUCCESS;case"canceled":return vn.CANCELED;default:return vn.ERROR}}class Pr{constructor(Y,ke,$e){if(function Pe(re){return"function"==typeof re}(Y)||null!=ke||null!=$e)this.next=Y,this.error=ke??void 0,this.complete=$e??void 0;else{const Lt=Y;this.next=Lt.next,this.error=Lt.error,this.complete=Lt.complete}}}function fi(re){return(...Y)=>{Promise.resolve().then(()=>re(...Y))}}let ei=null;class ur{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Qn.NO_ERROR,this.sendPromise_=new Promise(Y=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Qn.ABORT,Y()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Qn.NETWORK_ERROR,Y()}),this.xhr_.addEventListener("load",()=>{Y()})})}send(Y,ke,$e,ht){if(this.sent_)throw Ke("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(ke,Y,!0),void 0!==ht)for(const Lt in ht)ht.hasOwnProperty(Lt)&&this.xhr_.setRequestHeader(Lt,ht[Lt].toString());return void 0!==$e?this.xhr_.send($e):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ke("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ke("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ke("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ke("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(Y){return this.xhr_.getResponseHeader(Y)}addUploadProgressListener(Y){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",Y)}removeUploadProgressListener(Y){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",Y)}}class xi extends ur{initXhr(){this.xhr_.responseType="text"}}function gi(){return ei?ei():new xi}class ji{constructor(Y,ke,$e=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=Y,this._blob=ke,this._metadata=$e,this._mappings=xt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=ht=>{if(this._request=void 0,this._chunkMultiplier=1,ht._codeEquals(z.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const Lt=this.isExponentialBackoffExpired();if(Pn(ht.status,[])){if(!Lt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();ht=_t()}this._error=ht,this._transition("error")}},this._metadataErrorHandler=ht=>{this._request=void 0,ht._codeEquals(z.CANCELED)?this.completeTransitions_():(this._error=ht,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((ht,Lt)=>{this._resolve=ht,this._reject=Lt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const Y=this._transferred;return ke=>this._updateProgress(Y+ke)}_shouldDoResumable(Y){return Y.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(Y){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([ke,$e])=>{switch(this._state){case"running":Y(ke,$e);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((Y,ke)=>{const $e=function ft(re,Y,ke,$e,ht){const Lt=Y.bucketOnlyServerUrl(),pn=cn(Y,$e,ht),Sn={name:pn.fullPath},Kt=Wt(Lt,re.host,re._protocol),mr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${$e.size()}`,"X-Goog-Upload-Header-Content-Type":pn.contentType,"Content-Type":"application/json; charset=utf-8"},Bn=qe(pn,ke),kr=new Te(Kt,"POST",function Zr(mi){let Br;yt(mi);try{Br=mi.getResponseHeader("X-Goog-Upload-URL")}catch{Xe(!1)}return Xe(ot(Br)),Br},re.maxUploadRetryTime);return kr.urlParams=Sn,kr.headers=mr,kr.body=Bn,kr.errorHandler=an(Y),kr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ht=this._ref.storage._makeRequest($e,gi,Y,ke);this._request=ht,ht.getPromise().then(Lt=>{this._request=void 0,this._uploadUrl=Lt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const Y=this._uploadUrl;this._resolveToken((ke,$e)=>{const ht=function Ft(re,Y,ke,$e){const Kt=new Te(ke,"POST",function Lt(An){const mr=yt(An,["active","final"]);let Bn=null;try{Bn=An.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Xe(!1)}Bn||Xe(!1);const Ai=Number(Bn);return Xe(!isNaN(Ai)),new yn(Ai,$e.size(),"final"===mr)},re.maxUploadRetryTime);return Kt.headers={"X-Goog-Upload-Command":"query"},Kt.errorHandler=an(Y),Kt}(this._ref.storage,this._ref._location,Y,this._blob),Lt=this._ref.storage._makeRequest(ht,gi,ke,$e);this._request=Lt,Lt.getPromise().then(pn=>{this._request=void 0,this._updateProgress(pn.current),this._needToFetchStatus=!1,pn.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const Y=262144*this._chunkMultiplier,ke=new yn(this._transferred,this._blob.size()),$e=this._uploadUrl;this._resolveToken((ht,Lt)=>{let pn;try{pn=function Ln(re,Y,ke,$e,ht,Lt,pn,Sn){const Kt=new yn(0,0);if(pn?(Kt.current=pn.current,Kt.total=pn.total):(Kt.current=0,Kt.total=$e.size()),$e.size()!==Kt.total)throw function dt(){return new G(z.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const An=Kt.total-Kt.current;let mr=An;ht>0&&(mr=Math.min(mr,ht));const Bn=Kt.current;let Zr="";Zr=0===mr?"finalize":An===mr?"upload, finalize":"upload";const kr={"X-Goog-Upload-Command":Zr,"X-Goog-Upload-Offset":`${Kt.current}`},mi=$e.slice(Bn,Bn+mr);if(null===mi)throw Ge();const yr=new Te(ke,"POST",function Br(Ri,Kr){const Ii=yt(Ri,["active","final"]),ms=Kt.current+mr,ao=$e.size();let Oo;return Oo="final"===Ii?kt(Y,Lt)(Ri,Kr):null,new yn(ms,ao,"final"===Ii,Oo)},Y.maxUploadRetryTime);return yr.headers=kr,yr.body=mi.uploadData(),yr.progressCallback=Sn||null,yr.errorHandler=an(re),yr}(this._ref._location,this._ref.storage,$e,this._blob,Y,this._mappings,ke,this._makeProgressCallback())}catch(Kt){return this._error=Kt,void this._transition("error")}const Sn=this._ref.storage._makeRequest(pn,gi,ht,Lt,!1);this._request=Sn,Sn.getPromise().then(Kt=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Kt.current),Kt.finalized?(this._metadata=Kt.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((Y,ke)=>{const $e=Jn(this._ref.storage,this._ref._location,this._mappings),ht=this._ref.storage._makeRequest($e,gi,Y,ke);this._request=ht,ht.getPromise().then(Lt=>{this._request=void 0,this._metadata=Lt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((Y,ke)=>{const $e=function hr(re,Y,ke,$e,ht){const Lt=Y.bucketOnlyServerUrl(),pn={"X-Goog-Upload-Protocol":"multipart"},Kt=function Sn(){let yr="";for(let Ri=0;Ri<2;Ri++)yr+=Math.random().toString().slice(2);return yr}();pn["Content-Type"]="multipart/related; boundary="+Kt;const An=cn(Y,$e,ht),mr=qe(An,ke),Zr=Ur.getBlob("--"+Kt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+mr+"\r\n--"+Kt+"\r\nContent-Type: "+An.contentType+"\r\n\r\n",$e,"\r\n--"+Kt+"--");if(null===Zr)throw Ge();const kr={name:An.fullPath},mi=Wt(Lt,re.host,re._protocol),uo=re.maxUploadRetryTime,ho=new Te(mi,"POST",kt(re,ke),uo);return ho.urlParams=kr,ho.headers=pn,ho.body=Zr.uploadData(),ho.errorHandler=an(Y),ho}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ht=this._ref.storage._makeRequest($e,gi,Y,ke);this._request=ht,ht.getPromise().then(Lt=>{this._request=void 0,this._metadata=Lt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(Y){const ke=this._transferred;this._transferred=Y,this._transferred!==ke&&this._notifyObservers()}_transition(Y){if(this._state!==Y)switch(Y){case"canceling":case"pausing":this._state=Y,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const ke="paused"===this._state;this._state=Y,ke&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=Y,this._notifyObservers();break;case"canceled":this._error=Fe(),this._state=Y,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const Y=$n(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:Y,metadata:this._metadata,task:this,ref:this._ref}}on(Y,ke,$e,ht){const Lt=new Pr(ke||void 0,$e||void 0,ht||void 0);return this._addObserver(Lt),()=>{this._removeObserver(Lt)}}then(Y,ke){return this._promise.then(Y,ke)}catch(Y){return this.then(null,Y)}_addObserver(Y){this._observers.push(Y),this._notifyObserver(Y)}_removeObserver(Y){const ke=this._observers.indexOf(Y);-1!==ke&&this._observers.splice(ke,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(ke=>{this._notifyObserver(ke)})}_finishPromise(){if(void 0!==this._resolve){let Y=!0;switch($n(this._state)){case vn.SUCCESS:fi(this._resolve.bind(null,this.snapshot))();break;case vn.CANCELED:case vn.ERROR:fi(this._reject.bind(null,this._error))();break;default:Y=!1}Y&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(Y){switch($n(this._state)){case vn.RUNNING:case vn.PAUSED:Y.next&&fi(Y.next.bind(Y,this.snapshot))();break;case vn.SUCCESS:Y.complete&&fi(Y.complete.bind(Y))();break;default:Y.error&&fi(Y.error.bind(Y,this._error))()}}resume(){const Y="paused"===this._state||"pausing"===this._state;return Y&&this._transition("running"),Y}pause(){const Y="running"===this._state;return Y&&this._transition("pausing"),Y}cancel(){const Y="running"===this._state||"pausing"===this._state;return Y&&this._transition("canceling"),Y}}class Qo{constructor(Y,ke){this._service=Y,this._location=ke instanceof ut?ke:ut.makeFromUrl(ke,Y.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(Y,ke){return new Qo(Y,ke)}get root(){const Y=new ut(this._location.bucket,"");return this._newRef(this._service,Y)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ri(this._location.path)}get storage(){return this._service}get parent(){const Y=function Or(re){if(0===re.length)return null;const Y=re.lastIndexOf("/");return-1===Y?"":re.slice(0,Y)}(this._location.path);if(null===Y)return null;const ke=new ut(this._location.bucket,Y);return new Qo(this._service,ke)}_throwIfRoot(Y){if(""===this._location.path)throw Dn(Y)}}function Hi(re,Y,ke){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,f.Z)(function*(re,Y,ke){const ht=yield Ts(re,{pageToken:ke});Y.prefixes.push(...ht.prefixes),Y.items.push(...ht.items),null!=ht.nextPageToken&&(yield Hi(re,Y,ht.nextPageToken))})).apply(this,arguments)}function Ts(re,Y){null!=Y&&"number"==typeof Y.maxResults&&Zt("options.maxResults",1,1e3,Y.maxResults);const ke=Y||{},$e=Je(re.storage,re._location,"/",ke.pageToken,ke.maxResults);return re.storage.makeRequestWithTokens($e,gi)}function wo(re){re._throwIfRoot("getDownloadURL");const Y=function nt(re,Y,ke){const ht=Wt(Y.fullServerUrl(),re.host,re._protocol),pn=re.maxOperationRetryTime,Sn=new Te(ht,"GET",function mn(re,Y){return function ke($e,ht){const Lt=hi(re,ht,Y);return Xe(null!==Lt),function wr(re,Y,ke,$e){const ht=sr(Y);if(null===ht||!ot(ht.downloadTokens))return null;const Lt=ht.downloadTokens;if(0===Lt.length)return null;const pn=encodeURIComponent;return Lt.split(",").map(An=>{const Bn=re.fullPath;return Wt("/b/"+pn(re.bucket)+"/o/"+pn(Bn),ke,$e)+bn({alt:"media",token:An})})[0]}(Lt,ht,re.host,re._protocol)}}(re,ke),pn);return Sn.errorHandler=fn(Y),Sn}(re.storage,re._location,xt());return re.storage.makeRequestWithTokens(Y,gi).then(ke=>{if(null===ke)throw function bt(){return new G(z.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return ke})}function mo(re,Y){const ke=function Mr(re,Y){const ke=Y.split("/").filter($e=>$e.length>0).join("/");return 0===re.length?ke:re+"/"+ke}(re._location.path,Y),$e=new ut(re._location.bucket,ke);return new Qo(re.storage,$e)}function no(re,Y){if(re instanceof oi){const ke=re;if(null==ke._bucket)throw function Ze(){return new G(z.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ae+"' property when initializing the app?")}();const $e=new Qo(ke,ke._bucket);return null!=Y?no($e,Y):$e}return void 0!==Y?mo(re,Y):re}function gs(re,Y){if(Y&&function Zo(re){return/^[A-Za-z]+:\/\//.test(re)}(Y)){if(re instanceof oi)return function ns(re,Y){return new Qo(re,Y)}(re,Y);throw Nt("To use ref(service, url), the first argument must be a Storage instance.")}return no(re,Y)}function qn(re,Y){const ke=Y?.[Ae];return null==ke?null:ut.makeFromBucketSpec(ke,re)}class oi{constructor(Y,ke,$e,ht,Lt){this.app=Y,this._authProvider=ke,this._appCheckProvider=$e,this._url=ht,this._firebaseVersion=Lt,this._bucket=null,this._host=_e,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=ht?ut.makeFromBucketSpec(ht,this._host):qn(this._host,this.app.options)}get host(){return this._host}set host(Y){this._host=Y,this._bucket=null!=this._url?ut.makeFromBucketSpec(this._url,Y):qn(Y,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(Y){Zt("time",0,Number.POSITIVE_INFINITY,Y),this._maxUploadRetryTime=Y}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(Y){Zt("time",0,Number.POSITIVE_INFINITY,Y),this._maxOperationRetryTime=Y}_getAuthToken(){var Y=this;return(0,f.Z)(function*(){if(Y._overrideAuthToken)return Y._overrideAuthToken;const ke=Y._authProvider.getImmediate({optional:!0});if(ke){const $e=yield ke.getToken();if(null!==$e)return $e.accessToken}return null})()}_getAppCheckToken(){var Y=this;return(0,f.Z)(function*(){const ke=Y._appCheckProvider.getImmediate({optional:!0});return ke?(yield ke.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(Y=>Y.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(Y){return new Qo(this,Y)}_makeRequest(Y,ke,$e,ht,Lt=!0){if(this._deleted)return new Le(Vt());{const pn=function Hr(re,Y,ke,$e,ht,Lt,pn=!0){const Sn=bn(re.urlParams),Kt=re.url+Sn,An=Object.assign({},re.headers);return function Yn(re,Y){Y&&(re["X-Firebase-GMPID"]=Y)}(An,Y),function Nn(re,Y){null!==Y&&Y.length>0&&(re.Authorization="Firebase "+Y)}(An,ke),function pr(re,Y){re["X-Firebase-Storage-Version"]="webjs/"+(Y??"AppManager")}(An,Lt),function Qt(re,Y){null!==Y&&(re["X-Firebase-AppCheck"]=Y)}(An,$e),new On(Kt,re.method,An,re.body,re.successCodes,re.additionalRetryCodes,re.handler,re.errorHandler,re.timeout,re.progressCallback,ht,pn)}(Y,this._appId,$e,ht,ke,this._firebaseVersion,Lt);return this._requests.add(pn),pn.getPromise().then(()=>this._requests.delete(pn),()=>this._requests.delete(pn)),pn}}makeRequestWithTokens(Y,ke){var $e=this;return(0,f.Z)(function*(){const[ht,Lt]=yield Promise.all([$e._getAuthToken(),$e._getAppCheckToken()]);return $e._makeRequest(Y,ke,ht,Lt).getPromise()})()}}const zi="@firebase/storage",ro="storage";function Ho(re,Y,ke){return function Jr(re,Y,ke){return re._throwIfRoot("uploadBytesResumable"),new ji(re,new Ur(Y),ke)}(re=(0,U.m9)(re),Y,ke)}function $r(re){return function Pi(re){re._throwIfRoot("getMetadata");const Y=Jn(re.storage,re._location,xt());return re.storage.makeRequestWithTokens(Y,gi)}(re=(0,U.m9)(re))}function _n(re,Y){return function $s(re,Y){re._throwIfRoot("updateMetadata");const ke=function jt(re,Y,ke,$e){const Lt=Wt(Y.fullServerUrl(),re.host,re._protocol),Sn=qe(ke,$e),An=re.maxOperationRetryTime,mr=new Te(Lt,"PATCH",kt(re,$e),An);return mr.headers={"Content-Type":"application/json; charset=utf-8"},mr.body=Sn,mr.errorHandler=fn(Y),mr}(re.storage,re._location,Y,xt());return re.storage.makeRequestWithTokens(ke,gi)}(re=(0,U.m9)(re),Y)}function Xn(re,Y){return Ts(re=(0,U.m9)(re),Y)}function Nr(re){return function jo(re){const Y={prefixes:[],items:[]};return Hi(re,Y).then(()=>Y)}(re=(0,U.m9)(re))}function ki(re){return wo(re=(0,U.m9)(re))}function oo(re){return function Ei(re){re._throwIfRoot("deleteObject");const Y=function Xt(re,Y){const $e=Wt(Y.fullServerUrl(),re.host,re._protocol),Sn=new Te($e,"DELETE",function pn(Kt,An){},re.maxOperationRetryTime);return Sn.successCodes=[200,204],Sn.errorHandler=fn(Y),Sn}(re.storage,re._location);return re.storage.makeRequestWithTokens(Y,gi)}(re=(0,U.m9)(re))}function ai(re,Y){return gs(re=(0,U.m9)(re),Y)}function Do(re,Y){return mo(re,Y)}function si(re=(0,o.getApp)(),Y){re=(0,U.m9)(re);const $e=(0,o._getProvider)(re,ro).getImmediate({identifier:Y}),ht=(0,U.P0)("storage");return ht&&so($e,...ht),$e}function so(re,Y,ke,$e={}){!function Wr(re,Y,ke,$e={}){re.host=`${Y}:${ke}`,re._protocol="http";const{mockUserToken:ht}=$e;ht&&(re._overrideAuthToken="string"==typeof ht?ht:(0,U.Sg)(ht,re.app.options.projectId))}(re,Y,ke,$e)}function So(re,{instanceIdentifier:Y}){const ke=re.getProvider("app").getImmediate(),$e=re.getProvider("auth-internal"),ht=re.getProvider("app-check-internal");return new oi(ke,$e,ht,Y,o.SDK_VERSION)}!function ci(){(0,o._registerComponent)(new Se.wA(ro,So,"PUBLIC").setMultipleInstances(!0)),(0,o.registerVersion)(zi,"0.12.5",""),(0,o.registerVersion)(zi,"0.12.5","esm2017")}()},9058:(sn,lt,k)=>{"use strict";k.d(lt,{BH:()=>Ze,G6:()=>we,L:()=>ve,LL:()=>vt,P0:()=>Fe,Pz:()=>tt,Sg:()=>Ge,UG:()=>Ee,ZB:()=>se,ZR:()=>ot,aH:()=>Ne,b$:()=>Dn,eu:()=>Ie,hl:()=>te,jU:()=>Nt,m9:()=>wr,ne:()=>Ar,pd:()=>Un,r3:()=>pr,ru:()=>Vt,tV:()=>G,uI:()=>bt,vZ:()=>xn,w1:()=>Ke,xO:()=>Yt,xb:()=>Qt,z$:()=>dt,zd:()=>In});const Se=function(qe){const ce=[];let K=0;for(let H=0;H<qe.length;H++){let B=qe.charCodeAt(H);B<128?ce[K++]=B:B<2048?(ce[K++]=B>>6|192,ce[K++]=63&B|128):55296==(64512&B)&&H+1<qe.length&&56320==(64512&qe.charCodeAt(H+1))?(B=65536+((1023&B)<<10)+(1023&qe.charCodeAt(++H)),ce[K++]=B>>18|240,ce[K++]=B>>12&63|128,ce[K++]=B>>6&63|128,ce[K++]=63&B|128):(ce[K++]=B>>12|224,ce[K++]=B>>6&63|128,ce[K++]=63&B|128)}return ce},Ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(qe,ce){if(!Array.isArray(qe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=ce?this.byteToCharMapWebSafe_:this.byteToCharMap_,H=[];for(let B=0;B<qe.length;B+=3){const Te=qe[B],Xe=B+1<qe.length,kt=Xe?qe[B+1]:0,$t=B+2<qe.length,mn=$t?qe[B+2]:0;let Jn=(15&kt)<<2|mn>>6,Je=63&mn;$t||(Je=64,Xe||(Jn=64)),H.push(K[Te>>2],K[(3&Te)<<4|kt>>4],K[Jn],K[Je])}return H.join("")},encodeString(qe,ce){return this.HAS_NATIVE_SUPPORT&&!ce?btoa(qe):this.encodeByteArray(Se(qe),ce)},decodeString(qe,ce){return this.HAS_NATIVE_SUPPORT&&!ce?atob(qe):function(qe){const ce=[];let K=0,H=0;for(;K<qe.length;){const B=qe[K++];if(B<128)ce[H++]=String.fromCharCode(B);else if(B>191&&B<224){const Te=qe[K++];ce[H++]=String.fromCharCode((31&B)<<6|63&Te)}else if(B>239&&B<365){const $t=((7&B)<<18|(63&qe[K++])<<12|(63&qe[K++])<<6|63&qe[K++])-65536;ce[H++]=String.fromCharCode(55296+($t>>10)),ce[H++]=String.fromCharCode(56320+(1023&$t))}else{const Te=qe[K++],Xe=qe[K++];ce[H++]=String.fromCharCode((15&B)<<12|(63&Te)<<6|63&Xe)}}return ce.join("")}(this.decodeStringToByteArray(qe,ce))},decodeStringToByteArray(qe,ce){this.init_();const K=ce?this.charToByteMapWebSafe_:this.charToByteMap_,H=[];for(let B=0;B<qe.length;){const Te=K[qe.charAt(B++)],kt=B<qe.length?K[qe.charAt(B)]:0;++B;const mn=B<qe.length?K[qe.charAt(B)]:64;++B;const fn=B<qe.length?K[qe.charAt(B)]:64;if(++B,null==Te||null==kt||null==mn||null==fn)throw new de;H.push(Te<<2|kt>>4),64!==mn&&(H.push(kt<<4&240|mn>>2),64!==fn&&H.push(mn<<6&192|fn))}return H},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let qe=0;qe<this.ENCODED_VALS.length;qe++)this.byteToCharMap_[qe]=this.ENCODED_VALS.charAt(qe),this.charToByteMap_[this.byteToCharMap_[qe]]=qe,this.byteToCharMapWebSafe_[qe]=this.ENCODED_VALS_WEBSAFE.charAt(qe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[qe]]=qe,qe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(qe)]=qe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(qe)]=qe)}}};class de extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ve=function(qe){return function(qe){const ce=Se(qe);return Ae.encodeByteArray(ce,!0)}(qe).replace(/\./g,"")},G=function(qe){try{return Ae.decodeString(qe,!0)}catch(ce){console.error("base64Decode failed: ",ce)}return null};function se(qe,ce){if(!(ce instanceof Object))return ce;switch(ce.constructor){case Date:return new Date(ce.getTime());case Object:void 0===qe&&(qe={});break;case Array:qe=[];break;default:return ce}for(const K in ce)!ce.hasOwnProperty(K)||!be(K)||(qe[K]=se(qe[K],ce[K]));return qe}function be(qe){return"__proto__"!==qe}const We=()=>{try{return function ye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const qe=process.env.__FIREBASE_DEFAULTS__;return qe?JSON.parse(qe):void 0})()||(()=>{if(typeof document>"u")return;let qe;try{qe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ce=qe&&G(qe[1]);return ce&&JSON.parse(ce)})()}catch(qe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${qe}`)}},Fe=qe=>{const ce=(qe=>{var ce,K;return null===(K=null===(ce=We())||void 0===ce?void 0:ce.emulatorHosts)||void 0===K?void 0:K[qe]})(qe);if(!ce)return;const K=ce.lastIndexOf(":");if(K<=0||K+1===ce.length)throw new Error(`Invalid host ${ce} with no separate hostname and port!`);const H=parseInt(ce.substring(K+1),10);return"["===ce[0]?[ce.substring(1,K-1),H]:[ce.substring(0,K),H]},Ne=()=>{var qe;return null===(qe=We())||void 0===qe?void 0:qe.config},tt=qe=>{var ce;return null===(ce=We())||void 0===ce?void 0:ce[`_${qe}`]};class Ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ce,K)=>{this.resolve=ce,this.reject=K})}wrapCallback(ce){return(K,H)=>{K?this.reject(K):this.resolve(H),"function"==typeof ce&&(this.promise.catch(()=>{}),1===ce.length?ce(K):ce(K,H))}}}function Ge(qe,ce){if(qe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const H=ce||"demo-project",B=qe.iat||0,Te=qe.sub||qe.user_id;if(!Te)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Xe=Object.assign({iss:`https://securetoken.google.com/${H}`,aud:H,iat:B,exp:B+3600,auth_time:B,sub:Te,user_id:Te,firebase:{sign_in_provider:"custom",identities:{}}},qe);return[ve(JSON.stringify({alg:"none",type:"JWT"})),ve(JSON.stringify(Xe)),""].join(".")}function dt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function bt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function Ee(){var qe;const ce=null===(qe=We())||void 0===qe?void 0:qe.forceEnvironment;if("node"===ce)return!0;if("browser"===ce)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Nt(){return"object"==typeof self&&self.self===self}function Vt(){const qe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof qe&&void 0!==qe.id}function Dn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ke(){const qe=dt();return qe.indexOf("MSIE ")>=0||qe.indexOf("Trident/")>=0}function we(){return!Ee()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function te(){try{return"object"==typeof indexedDB}catch{return!1}}function Ie(){return new Promise((qe,ce)=>{try{let K=!0;const H="validate-browser-context-for-indexeddb-analytics-module",B=self.indexedDB.open(H);B.onsuccess=()=>{B.result.close(),K||self.indexedDB.deleteDatabase(H),qe(!0)},B.onupgradeneeded=()=>{K=!1},B.onerror=()=>{var Te;ce((null===(Te=B.error)||void 0===Te?void 0:Te.message)||"")}}catch(K){ce(K)}})}class ot extends Error{constructor(ce,K,H){super(K),this.code=ce,this.customData=H,this.name="FirebaseError",Object.setPrototypeOf(this,ot.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vt.prototype.create)}}class vt{constructor(ce,K,H){this.service=ce,this.serviceName=K,this.errors=H}create(ce,...K){const H=K[0]||{},B=`${this.service}/${ce}`,Te=this.errors[ce],Xe=Te?function Bt(qe,ce){return qe.replace(Zt,(K,H)=>{const B=ce[H];return null!=B?String(B):`<${H}?>`})}(Te,H):"Error";return new ot(B,`${this.serviceName}: ${Xe} (${B}).`,H)}}const Zt=/\{\$([^}]+)}/g;function pr(qe,ce){return Object.prototype.hasOwnProperty.call(qe,ce)}function Qt(qe){for(const ce in qe)if(Object.prototype.hasOwnProperty.call(qe,ce))return!1;return!0}function xn(qe,ce){if(qe===ce)return!0;const K=Object.keys(qe),H=Object.keys(ce);for(const B of K){if(!H.includes(B))return!1;const Te=qe[B],Xe=ce[B];if(Rr(Te)&&Rr(Xe)){if(!xn(Te,Xe))return!1}else if(Te!==Xe)return!1}for(const B of H)if(!K.includes(B))return!1;return!0}function Rr(qe){return null!==qe&&"object"==typeof qe}function Yt(qe){const ce=[];for(const[K,H]of Object.entries(qe))Array.isArray(H)?H.forEach(B=>{ce.push(encodeURIComponent(K)+"="+encodeURIComponent(B))}):ce.push(encodeURIComponent(K)+"="+encodeURIComponent(H));return ce.length?"&"+ce.join("&"):""}function In(qe){const ce={};return qe.replace(/^\?/,"").split("&").forEach(H=>{if(H){const[B,Te]=H.split("=");ce[decodeURIComponent(B)]=decodeURIComponent(Te)}}),ce}function Un(qe){const ce=qe.indexOf("?");if(!ce)return"";const K=qe.indexOf("#",ce);return qe.substring(ce,K>0?K:void 0)}function Ar(qe,ce){const K=new Tr(qe,ce);return K.subscribe.bind(K)}class Tr{constructor(ce,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{ce(this)}).catch(H=>{this.error(H)})}next(ce){this.forEachObserver(K=>{K.next(ce)})}error(ce){this.forEachObserver(K=>{K.error(ce)}),this.close(ce)}complete(){this.forEachObserver(ce=>{ce.complete()}),this.close()}subscribe(ce,K,H){let B;if(void 0===ce&&void 0===K&&void 0===H)throw new Error("Missing Observer.");B=function Wn(qe,ce){if("object"!=typeof qe||null===qe)return!1;for(const K of ce)if(K in qe&&"function"==typeof qe[K])return!0;return!1}(ce,["next","error","complete"])?ce:{next:ce,error:K,complete:H},void 0===B.next&&(B.next=Yr),void 0===B.error&&(B.error=Yr),void 0===B.complete&&(B.complete=Yr);const Te=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?B.error(this.finalError):B.complete()}catch{}}),this.observers.push(B),Te}unsubscribeOne(ce){void 0===this.observers||void 0===this.observers[ce]||(delete this.observers[ce],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ce){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,ce)}sendOne(ce,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ce])try{K(this.observers[ce])}catch(H){typeof console<"u"&&console.error&&console.error(H)}})}close(ce){this.finalized||(this.finalized=!0,void 0!==ce&&(this.finalError=ce),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yr(){}function wr(qe){return qe&&qe._delegate?qe._delegate:qe}},769:(sn,lt,k)=>{"use strict";k.d(lt,{y:()=>se});var f=k(5861),o=k(2181),U=k(7398),Se=k(1631),_e=k(6306),Ae=k(2096),de=k(3914),ae=k(5879),ve=k(7104),G=k(9862),z=k(6814);let se=(()=>{class be{constructor(De,Re,Ye,We,_t,Fe){this.firestore=De,this.http=Re,this.route=Ye,this.location=We,this.router=_t,this.activatedRoute=Fe,this.analyticsCollection=this.firestore.collection("analytics"),this.trackPageViews()}getAnalytics(){return this.firestore.collection("analytics",De=>De.orderBy("timestamp","desc")).valueChanges()}trackPageViews(){this.router.events.pipe((0,o.h)(De=>De instanceof de.m2),(0,U.U)(()=>this.activatedRoute),(0,U.U)(De=>{for(;De.firstChild;)De=De.firstChild;return De}),(0,Se.z)(De=>De.queryParams),(0,Se.z)(De=>this.router.events.pipe((0,o.h)(Re=>Re instanceof de.m2),(0,U.U)(Re=>({navigationEvent:Re,queryParams:De}))))).subscribe(({navigationEvent:De,queryParams:Re})=>{this.logAnalyticsData(De.urlAfterRedirects,Re,De.type)})}logAnalyticsData(De,Re,Ye){var We=this;return(0,f.Z)(function*(){const _t=navigator.userAgent,Fe=new Date,Ne=We.getBrowserType(_t),tt=/mobile/i.test(_t),Ze={pagePath:De,queryParams:Re,timestamp:Fe,browser:Ne,isMobile:tt,event_type:Ye};return We.firestore.collection("analytics").add(Ze)})()}getBrowserType(De){return De.includes("Firefox")?"Firefox":De.includes("Chrome")?"Chrome":De.includes("Safari")?"Safari":De.includes("Edge")?"Edge":"Unknown"}getIPAddress(){return this.http.get("https://api.ipify.org/?format=json").pipe((0,_e.K)(De=>(console.error("Error getting IP address: ",De),(0,Ae.of)({ip:"Unknown"}))))}static#e=this.\u0275fac=function(Re){return new(Re||be)(ae.LFG(ve.ST),ae.LFG(G.eN),ae.LFG(de.gz),ae.LFG(z.Ye),ae.LFG(de.F0),ae.LFG(de.gz))};static#t=this.\u0275prov=ae.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})()},4626:(sn,lt,k)=>{"use strict";k.d(lt,{e:()=>ae});var f=k(5861),o=k(2459),U=k(6306),Se=k(7398),_e=k(5879),Ae=k(7213),de=k(3914);let ae=(()=>{class ve{constructor(z,se){this.afAuth=z,this.router=se,this.user$=this.afAuth.authState}login(z,se){return this.router.navigate(["/admin"]),(0,o.D)(this.afAuth.signInWithEmailAndPassword(z,se)).pipe((0,U.K)(be=>{throw console.error("Login error: ",be),be}))}logout(){var z=this;return(0,f.Z)(function*(){yield z.afAuth.signOut(),z.router.navigate(["/login"])})()}isLoggedIn(){return this.user$.pipe((0,Se.U)(z=>!!z))}static#e=this.\u0275fac=function(se){return new(se||ve)(_e.LFG(Ae.zQ),_e.LFG(de.F0))};static#t=this.\u0275prov=_e.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})()},5842:(sn,lt,k)=>{"use strict";k.d(lt,{I:()=>Ae});var f=k(5861);class o{constructor(){this.message="",this.context="",this.stack="",this.timestamp=new Date,this.id=""}}var U=k(1043),Se=k(5879),_e=k(7104);let Ae=(()=>{class de{constructor(ve){this.firestore=ve,this.err=new o,this.errorLogsCollection=this.firestore.collection("errorLogs")}logError(ve,G){const z={message:ve.message||ve.toString(),stack:ve.stack||"",timestamp:U.EK.now(),context:G||""};return this.firestore.collection("errorLogs").add(Object.assign({},z))}getErrorLogs(){return this.firestore.collection("errorLogs",ve=>ve.orderBy("timestamp","desc").limit(200)).valueChanges()}clearErrorLogs(){var ve=this;return(0,f.Z)(function*(){const G=yield ve.firestore.collection("errorLogs").get().toPromise();if(G&&!G.empty){const z=ve.firestore.firestore.batch();return G.forEach(se=>{z.delete(se.ref)}),z.commit()}console.warn("No error logs to clear.")})()}static#e=this.\u0275fac=function(G){return new(G||de)(Se.LFG(_e.ST))};static#t=this.\u0275prov=Se.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})()},3375:(sn,lt,k)=>{"use strict";k.d(lt,{n:()=>de});var f=k(7398),o=k(6306),U=k(8504),Se=k(5879),_e=k(7104),Ae=k(5842);let de=(()=>{class ae{constructor(G,z){this.firestore=G,this.errorLoggingService=z,this.eventsCollection=this.firestore.collection("Events")}getEvents(){return this.firestore.collection("Events",G=>G.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,f.U)(G=>G.map(z=>{const se=z.payload.doc.data();return{id:z.payload.doc.id,...se}})),(0,f.U)(G=>G.filter(z=>z.Approved)),(0,o.K)(G=>(this.errorLoggingService.logError(G,"getEvents"),(0,U._)(()=>new Error(G)))))}getAllEvents(){return this.firestore.collection("Events",G=>G.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,f.U)(G=>G.map(z=>{const se=z.payload.doc.data();return{id:z.payload.doc.id,...se}})),(0,o.K)(G=>(this.errorLoggingService.logError(G,"getAllEvents"),(0,U._)(()=>new Error(G)))))}getEventById(G){return this.eventsCollection.doc(G).valueChanges().pipe((0,o.K)(z=>(this.errorLoggingService.logError(z,`getEventById: ${G}`),(0,U._)(()=>new Error(z)))))}addEvent(G){const z=this.firestore.createId();return G.Date_Created=new Date,G.Date_Updated=new Date,G.ApprovedDate=new Date,G.Approved=!0,this.firestore.collection("Events").doc(z).set(G).catch(se=>{throw this.errorLoggingService.logError(se,"addEvent"),se})}updateEvent(G,z){return z.Date_Updated=new Date,this.eventsCollection.doc(G).update(z).catch(se=>{throw this.errorLoggingService.logError(se,"updateEvent"),se}),this.firestore.doc(`Events/${G}`).valueChanges().pipe((0,f.U)(se=>se?{id:G,...se}:void 0))}deleteEvent(G){return this.eventsCollection.doc(G).delete().catch(z=>{throw this.errorLoggingService.logError(z,"deleteEvent"),z})}static#e=this.\u0275fac=function(z){return new(z||ae)(Se.LFG(_e.ST),Se.LFG(Ae.I))};static#t=this.\u0275prov=Se.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})()},8779:(sn,lt,k)=>{"use strict";k.d(lt,{K:()=>G});var f=k(4716),o=k(4664),U=k(6306),Se=k(5592),_e=k(2459),Ae=k(8504),de=k(5879),ae=k(243),ve=k(5842);let G=(()=>{class z{constructor(be,ye){this.storage=be,this.errorLoggingService=ye}uploadImage(be,ye){const De=`${ye}/${be.name}`,Re=this.storage.ref(De),Ye=this.storage.upload(De,be);return new Se.y(We=>{Ye.snapshotChanges().pipe((0,f.x)(()=>{Re.getDownloadURL().subscribe(_t=>{We.next(_t),We.complete()})})).subscribe()})}uploadOfferImage(be,ye){const De=`offers/${ye}/${be.name}`,Re=this.storage.ref(De),Ye=this.storage.upload(De,be);return(0,_e.D)(Ye).pipe((0,o.w)(()=>Re.getDownloadURL()),(0,U.K)(We=>{throw this.errorLoggingService.logError(We,"uploadImage"),We}))}deleteOfferImage(be){return this.storage.refFromURL(be).delete().pipe((0,U.K)(De=>(this.errorLoggingService.logError(De,"deleteImage"),(0,Ae._)(()=>new Error(De)))))}static#e=this.\u0275fac=function(ye){return new(ye||z)(de.LFG(ae.Q1),de.LFG(ve.I))};static#t=this.\u0275prov=de.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})()},8924:(sn,lt,k)=>{"use strict";k.d(lt,{b:()=>G});var f=k(7398),o=k(6306),U=k(8504),Se=k(2459),_e=k(4664),Ae=k(5879),de=k(7104),ae=k(5842),ve=k(8779);let G=(()=>{class z{constructor(be,ye,De){this.firestore=be,this.errorLoggingService=ye,this.imageService=De,this.offerCollection=this.firestore.collection("Offers")}generateOfferId(){return this.firestore.createId()}getAllOffers(){return this.firestore.collection("Offers",be=>be.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,f.U)(be=>be.map(ye=>{const De=ye.payload.doc.data();return{id:ye.payload.doc.id,...De}}))).pipe((0,o.K)(be=>(this.errorLoggingService.logError(be,"getAllOffers"),(0,U._)(()=>new Error(be)))))}getOffers(){return this.firestore.collection("Offers",be=>be.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,f.U)(be=>be.map(ye=>{const De=ye.payload.doc.data();return{id:ye.payload.doc.id,...De}}))).pipe((0,f.U)(be=>be.filter(ye=>1==ye.Approved))).pipe((0,f.U)(be=>be.filter(ye=>1==ye.Approved))).pipe((0,o.K)(be=>(this.errorLoggingService.logError(be,"getApprovedOffers"),(0,U._)(()=>new Error(be)))))}getOfferById(be){return this.firestore.collection("Offers").doc(be).valueChanges().pipe((0,f.U)(ye=>{if(!ye)throw new Error(`Offer with ID ${be} not found`);return{id:be,...ye}}),(0,o.K)(ye=>(this.errorLoggingService.logError(ye,"getOfferById: "+be),(0,U._)(()=>new Error(ye)))))}getAllOfferTypes(){return this.firestore.collection("OfferTypes").valueChanges().pipe((0,f.U)(be=>{const ye=be.map(De=>De.OfferType);return Array.from(new Set(ye))})).pipe((0,o.K)(be=>(this.errorLoggingService.logError(be,"getOfferTypes"),(0,U._)(()=>new Error(be)))))}addOffer(be){console.log(be);const ye=this.firestore.createId();return be.id=ye,be.Date_Created=(new Date).toISOString(),be.Date_Updated=(new Date).toISOString(),this.offerCollection.doc(ye).set(Object.assign({},be)).catch(De=>{throw this.errorLoggingService.logError(De,"addOffer"),De}),this.firestore.doc(`Offers/${ye}`).valueChanges().pipe((0,f.U)(De=>De?{id:ye,...De}:void 0))}addOfferWithId(be,ye){return be.id=ye,be.Date_Created=(new Date).toISOString(),be.Date_Updated=(new Date).toISOString(),(0,Se.D)(this.offerCollection.doc(ye).set(Object.assign({},be))).pipe((0,_e.w)(()=>this.firestore.doc(`Offers/${ye}`).valueChanges().pipe((0,f.U)(De=>{if(!De)throw new Error(`Offer with ID ${ye} not found`);return{...De,id:ye}}),(0,o.K)(De=>(this.errorLoggingService.logError(De,"addOffer"),(0,U._)(()=>new Error(De)))))))}updateOffer(be,ye){return console.log("Update Offer: "+be),ye.Date_Updated=(new Date).toISOString(),this.offerCollection.doc(be).update(ye).catch(De=>{throw this.errorLoggingService.logError(De,"updateOffer"),De}),this.firestore.doc(`Offers/${be}`).valueChanges().pipe((0,f.U)(De=>De?{id:be,...De}:void 0))}deleteOffer(be){return this.offerCollection.doc(be).delete().catch(ye=>{throw this.errorLoggingService.logError(ye,"deleteOffer"),ye})}static#e=this.\u0275fac=function(ye){return new(ye||z)(Ae.LFG(de.ST),Ae.LFG(ae.I),Ae.LFG(ve.K))};static#t=this.\u0275prov=Ae.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})()},614:(sn,lt,k)=>{"use strict";k.d(lt,{r:()=>de});var f=k(7398),o=k(6306),U=k(8504),Se=k(5879),_e=k(7104),Ae=k(5842);let de=(()=>{class ae{constructor(G,z){this.firestore=G,this.errorLoggingService=z,this.servicesCollection=this.firestore.collection("Services")}getServices(){return this.firestore.collection("Services",G=>G.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,f.U)(G=>G.map(z=>{const se=z.payload.doc.data();return{id:z.payload.doc.id,...se}}))).pipe((0,f.U)(G=>G.filter(z=>1==z.Approved))).pipe((0,o.K)(G=>(this.errorLoggingService.logError(G,"getApprovedServices"),(0,U._)(()=>new Error(G)))))}getAllServices(){return this.firestore.collection("Services",G=>G.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,f.U)(G=>G.map(z=>{const se=z.payload.doc.data();return{id:z.payload.doc.id,...se}}))).pipe((0,o.K)(G=>(this.errorLoggingService.logError(G,"getAllServices"),(0,U._)(()=>new Error(G)))))}getServiceById(G){return this.servicesCollection.doc(G).valueChanges().pipe((0,o.K)(z=>(this.errorLoggingService.logError(z,"getGetServiceById: "+G),(0,U._)(()=>new Error(z)))))}getServicesByType(G){return this.firestore.collection("Services",z=>z.where("Service_Type","==",G).orderBy("Community_Sponsor","desc")).valueChanges().pipe((0,o.K)(z=>(this.errorLoggingService.logError(z,"getServiceByServiceType: "+G),(0,U._)(()=>new Error(z)))))}getAllServiceTypes(){return this.firestore.collection("ListOfServices").valueChanges().pipe((0,f.U)(G=>{const z=G.map(se=>se.Name);return Array.from(new Set(z))})).pipe((0,o.K)(G=>(this.errorLoggingService.logError(G,"getServiceTypes"),(0,U._)(()=>new Error(G)))))}addService(G){const z=this.firestore.createId();return G.id=z,G.Date_Created=(new Date).toISOString(),G.Date_Updated=(new Date).toISOString(),this.servicesCollection.doc(z).set(Object.assign({},G)).catch(se=>{throw this.errorLoggingService.logError(se,"addService"),se}),this.firestore.doc(`Services/${z}`).valueChanges().pipe((0,f.U)(se=>se?{id:z,...se}:void 0))}updateService(G,z){return z.Date_Updated=(new Date).toISOString(),this.servicesCollection.doc(G).update(Object.assign({},z)).catch(se=>{throw this.errorLoggingService.logError(se,"updateService"),se}),this.firestore.doc(`Services/${G}`).valueChanges().pipe((0,f.U)(se=>se?{id:G,...se}:void 0))}deleteService(G){return this.servicesCollection.doc(G).delete().catch(z=>{throw this.errorLoggingService.logError(z,"deleteService"),z})}static#e=this.\u0275fac=function(z){return new(z||ae)(Se.LFG(_e.ST),Se.LFG(Ae.I))};static#t=this.\u0275prov=Se.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})()},2380:(sn,lt,k)=>{"use strict";k.d(lt,{d:()=>_e});var f=k(5879),o=k(769),U=k(6814);function Se(Ae,de){if(1&Ae&&(f.TgZ(0,"tr")(1,"td"),f._uU(2),f.ALo(3,"date"),f.qZA(),f.TgZ(4,"td"),f._uU(5),f.qZA(),f.TgZ(6,"td"),f._uU(7),f.qZA(),f.TgZ(8,"td"),f._uU(9),f.ALo(10,"json"),f.qZA(),f.TgZ(11,"td"),f._uU(12),f.qZA(),f.TgZ(13,"td"),f._uU(14),f.qZA(),f.TgZ(15,"td"),f._uU(16),f.qZA()()),2&Ae){const ae=de.$implicit;f.xp6(2),f.Oqu(f.xi3(3,7,null==ae.timestamp?null:ae.timestamp.toDate(),"short")),f.xp6(3),f.Oqu(ae.eventType),f.xp6(2),f.Oqu(ae.pagePath),f.xp6(2),f.Oqu(f.lcZ(10,10,ae.queryParams)),f.xp6(3),f.Oqu(ae.browser),f.xp6(2),f.Oqu(ae.isMobile?"Mobile":"Desktop"),f.xp6(2),f.Oqu(ae.ipAddress)}}let _e=(()=>{class Ae{constructor(ae){this.analyticsService=ae}ngOnInit(){this.analyticsService.getAnalytics().subscribe(ae=>{this.analyticsLogs=ae},ae=>{console.error("Error fetching analytics:",ae)})}static#e=this.\u0275fac=function(ve){return new(ve||Ae)(f.Y36(o.y))};static#t=this.\u0275cmp=f.Xpm({type:Ae,selectors:[["app-analytics"]],decls:22,vars:1,consts:[[1,"analytics-container"],[4,"ngFor","ngForOf"]],template:function(ve,G){1&ve&&(f.TgZ(0,"div",0)(1,"h2"),f._uU(2,"Analytics Logs"),f.qZA(),f.TgZ(3,"table")(4,"thead")(5,"tr")(6,"th"),f._uU(7,"Timestamp"),f.qZA(),f.TgZ(8,"th"),f._uU(9,"Event Type"),f.qZA(),f.TgZ(10,"th"),f._uU(11,"Page Path"),f.qZA(),f.TgZ(12,"th"),f._uU(13,"Query Params"),f.qZA(),f.TgZ(14,"th"),f._uU(15,"Browser"),f.qZA(),f.TgZ(16,"th"),f._uU(17,"Device"),f.qZA(),f.TgZ(18,"th"),f._uU(19,"IP Address"),f.qZA()()(),f.TgZ(20,"tbody"),f.YNc(21,Se,17,12,"tr",1),f.qZA()()()),2&ve&&(f.xp6(21),f.Q6J("ngForOf",G.analyticsLogs))},dependencies:[U.sg,U.Ts,U.uU],styles:[".analytics-container[_ngcontent-%COMP%]{padding:20px;margin:auto}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;text-align:left}th[_ngcontent-%COMP%]{background-color:#f2f2f2}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}"]})}return Ae})()},7071:(sn,lt,k)=>{"use strict";var f=k(6593),o=k(5879),U=k(6814);let Se;try{Se=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Se=!1}let G,_e=(()=>{class y{constructor(l){this._platformId=l,this.isBrowser=this._platformId?(0,U.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Se)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(_){return new(_||y)(o.LFG(o.Lbi))};static#t=this.\u0275prov=o.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function se(y){return function z(){if(null==G&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>G=!0}))}finally{G=G||!1}return G}()?y:!!y.capture}function zi(y){return Array.isArray(y)?y:[y]}var ws=k(8645),_o=k(2572),Ho=k(5211),$r=k(5592),_n=k(8180),Xn=k(2181),ki=k(3620),oo=k(7398),ai=k(7921),Do=k(9773);const so=new Set;let vo,nr=(()=>{class y{constructor(l,_){this._platform=l,this._nonce=_,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ci}matchMedia(l){return(this._platform.WEBKIT||this._platform.BLINK)&&function So(y,h){if(!so.has(y))try{vo||(vo=document.createElement("style"),h&&(vo.nonce=h),vo.setAttribute("type","text/css"),document.head.appendChild(vo)),vo.sheet&&(vo.sheet.insertRule(`@media ${y} {body{ }}`,0),so.add(y))}catch(l){console.error(l)}}(l,this._nonce),this._matchMedia(l)}static#e=this.\u0275fac=function(_){return new(_||y)(o.LFG(_e),o.LFG(o.Ojb,8))};static#t=this.\u0275prov=o.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function ci(y){return{matches:"all"===y||""===y,media:y,addListener:()=>{},removeListener:()=>{}}}let re=(()=>{class y{constructor(l,_){this._mediaMatcher=l,this._zone=_,this._queries=new Map,this._destroySubject=new ws.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(l){return Y(zi(l)).some(C=>this._registerQuery(C).mql.matches)}observe(l){const C=Y(zi(l)).map(pe=>this._registerQuery(pe).observable);let $=(0,_o.a)(C);return $=(0,Ho.z)($.pipe((0,_n.q)(1)),$.pipe(function Nr(y){return(0,Xn.h)((h,l)=>y<=l)}(1),(0,ki.b)(0))),$.pipe((0,oo.U)(pe=>{const Oe={matches:!1,breakpoints:{}};return pe.forEach(({matches:mt,query:St})=>{Oe.matches=Oe.matches||mt,Oe.breakpoints[St]=mt}),Oe}))}_registerQuery(l){if(this._queries.has(l))return this._queries.get(l);const _=this._mediaMatcher.matchMedia(l),$={observable:new $r.y(pe=>{const Oe=mt=>this._zone.run(()=>pe.next(mt));return _.addListener(Oe),()=>{_.removeListener(Oe)}}).pipe((0,ai.O)(_),(0,oo.U)(({matches:pe})=>({query:l,matches:pe})),(0,Do.R)(this._destroySubject)),mql:_};return this._queries.set(l,$),$}static#e=this.\u0275fac=function(_){return new(_||y)(o.LFG(nr),o.LFG(o.R0b))};static#t=this.\u0275prov=o.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function Y(y){return y.map(h=>h.split(",")).reduce((h,l)=>h.concat(l)).map(h=>h.trim())}const $i="cdk-high-contrast-black-on-white",wc="cdk-high-contrast-white-on-black",ko="cdk-high-contrast-active";let _s=(()=>{class y{constructor(l,_){this._platform=l,this._document=_,this._breakpointSubscription=(0,o.f3M)(re).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const l=this._document.createElement("div");l.style.backgroundColor="rgb(1,2,3)",l.style.position="absolute",this._document.body.appendChild(l);const _=this._document.defaultView||window,C=_&&_.getComputedStyle?_.getComputedStyle(l):null,$=(C&&C.backgroundColor||"").replace(/ /g,"");switch(l.remove(),$){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const l=this._document.body.classList;l.remove(ko,$i,wc),this._hasCheckedHighContrastMode=!0;const _=this.getHighContrastMode();1===_?l.add(ko,$i):2===_&&l.add(ko,wc)}}static#e=this.\u0275fac=function(_){return new(_||y)(o.LFG(_e),o.LFG(U.K0))};static#t=this.\u0275prov=o.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})(),fa=(()=>{class y{static#e=this.\u0275fac=function(_){return new(_||y)};static#t=this.\u0275mod=o.oAB({type:y});static#n=this.\u0275inj=o.cJS({})}return y})();const ga=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function Hl(){return!0}});let Ps=(()=>{class y{constructor(l,_,C){this._sanityChecks=_,this._document=C,this._hasDoneGlobalChecks=!1,l._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(l){return!function tt(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[l])}static#e=this.\u0275fac=function(_){return new(_||y)(o.LFG(_s),o.LFG(ga,8),o.LFG(U.K0))};static#t=this.\u0275mod=o.oAB({type:y});static#n=this.\u0275inj=o.cJS({imports:[fa,fa]})}return y})(),zo=(()=>{class y{static#e=this.\u0275fac=function(_){return new(_||y)};static#t=this.\u0275mod=o.oAB({type:y});static#n=this.\u0275inj=o.cJS({imports:[Ps,Ps]})}return y})();const Pc=se({passive:!0,capture:!0});class Qs{constructor(){this._events=new Map,this._delegateEventHandler=h=>{const l=function Ne(y){return y.composedPath?y.composedPath()[0]:y.target}(h);l&&this._events.get(h.type)?.forEach((_,C)=>{(C===l||C.contains(l))&&_.forEach($=>$.handleEvent(h))})}}addHandler(h,l,_,C){const $=this._events.get(l);if($){const pe=$.get(_);pe?pe.add(C):$.set(_,new Set([C]))}else this._events.set(l,new Map([[_,new Set([C])]])),h.runOutsideAngular(()=>{document.addEventListener(l,this._delegateEventHandler,Pc)})}removeHandler(h,l,_){const C=this._events.get(h);if(!C)return;const $=C.get(l);$&&($.delete(_),0===$.size&&C.delete(l),0===C.size&&(this._events.delete(h),document.removeEventListener(h,this._delegateEventHandler,Pc)))}}class nc{static#e=this._eventManager=new Qs;constructor(h,l,_,C){this._target=h,this._ngZone=l,this._platform=C,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,C.isBrowser&&(this._containerElement=ro(_))}fadeInRipple(h,l,_={}){const C=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),$={...Fo,..._.animation},pe=_.radius||function Rc(y,h,l){const _=Math.max(Math.abs(y-l.left),Math.abs(y-l.right)),C=Math.max(Math.abs(h-l.top),Math.abs(h-l.bottom));return Math.sqrt(_*_+C*C)}(h,l,C),Oe=h-C.left,mt=l-C.top,St=$.enterDuration,ln=document.createElement("div");ln.classList.add("mat-ripple-element"),ln.style.left=Oe-pe+"px",ln.style.top=mt-pe+"px",ln.style.height=2*pe+"px",ln.style.width=2*pe+"px",null!=_.color&&(ln.style.backgroundColor=_.color),ln.style.transitionDuration=`${St}ms`,this._containerElement.appendChild(ln);const Cn=window.getComputedStyle(ln),Er=Cn.transitionDuration,er="none"===Cn.transitionProperty||"0s"===Er||"0s, 0s"===Er||0===C.width&&0===C.height,or=new vi(this,ln,_,er);ln.style.transform="scale3d(1, 1, 1)",or.state=0,_.persistent||(this._mostRecentTransientRipple=or);return!er&&(St||$.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const wi=()=>this._finishRippleTransition(or),Ji=()=>this._destroyRipple(or);ln.addEventListener("transitionend",wi),ln.addEventListener("transitioncancel",Ji)}),this._activeRipples.set(or,null),(er||!St)&&this._finishRippleTransition(or),or}fadeOutRipple(h){if(2===h.state||3===h.state)return;const l=h.element,_={...Fo,...h.config.animation};l.style.transitionDuration=`${_.exitDuration}ms`,l.style.opacity="0",h.state=2,(h._animationForciblyDisabledThroughCss||!_.exitDuration)&&this._finishRippleTransition(h)}fadeOutAll(){this._getActiveRipples().forEach(h=>h.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(h=>{h.config.persistent||h.fadeOut()})}setupTriggerEvents(h){const l=ro(h);!this._platform.isBrowser||!l||l===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=l,Ys.forEach(_=>{nc._eventManager.addHandler(this._ngZone,_,l,this)}))}handleEvent(h){"mousedown"===h.type?this._onMousedown(h):"touchstart"===h.type?this._onTouchStart(h):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Lo.forEach(l=>{this._triggerElement.addEventListener(l,this,xc)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(h){0===h.state?this._startFadeOutTransition(h):2===h.state&&this._destroyRipple(h)}_startFadeOutTransition(h){const l=h===this._mostRecentTransientRipple,{persistent:_}=h.config;h.state=1,!_&&(!l||!this._isPointerDown)&&h.fadeOut()}_destroyRipple(h){const l=this._activeRipples.get(h)??null;this._activeRipples.delete(h),this._activeRipples.size||(this._containerRect=null),h===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),h.state=3,null!==l&&(h.element.removeEventListener("transitionend",l.onTransitionEnd),h.element.removeEventListener("transitioncancel",l.onTransitionCancel)),h.element.remove()}_onMousedown(h){const l=function fo(y){return 0===y.buttons||0===y.detail}(h),_=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!l&&!_&&(this._isPointerDown=!0,this.fadeInRipple(h.clientX,h.clientY,this._target.rippleConfig))}_onTouchStart(h){if(!this._target.rippleDisabled&&!function _i(y){const h=y.touches&&y.touches[0]||y.changedTouches&&y.changedTouches[0];return!(!h||-1!==h.identifier||null!=h.radiusX&&1!==h.radiusX||null!=h.radiusY&&1!==h.radiusY)}(h)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const l=h.changedTouches;if(l)for(let _=0;_<l.length;_++)this.fadeInRipple(l[_].clientX,l[_].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(h=>{!h.config.persistent&&(1===h.state||h.config.terminateOnPointerUp&&0===h.state)&&h.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const h=this._triggerElement;h&&(Ys.forEach(l=>nc._eventManager.removeHandler(l,h,this)),this._pointerUpEventsRegistered&&Lo.forEach(l=>h.removeEventListener(l,this,xc)))}}let Mt=(()=>{class y{static#e=this.\u0275fac=function(_){return new(_||y)};static#t=this.\u0275mod=o.oAB({type:y});static#n=this.\u0275inj=o.cJS({imports:[Ps,U.ez,Ps]})}return y})();k(2096),k(8504),k(9315),k(9397),k(6306),k(4716),k(3020);var _a=k(9862);let $l=(()=>{class y{static#e=this.\u0275fac=function(_){return new(_||y)};static#t=this.\u0275mod=o.oAB({type:y});static#n=this.\u0275inj=o.cJS({imports:[Ps,Ps]})}return y})(),Va=(()=>{class y{static#e=this.\u0275fac=function(_){return new(_||y)};static#t=this.\u0275mod=o.oAB({type:y});static#n=this.\u0275inj=o.cJS({imports:[zo,Ps,zo,Ps]})}return y})();var jr=k(3914),vl=k(3375),Ls=k(8924);let yl=(()=>{class y{constructor(l){this.sanitizer=l}transform(l){if(!l)return this.sanitizer.bypassSecurityTrustHtml("");const C=l.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,'<a href="$1" target="_blank">$1</a>');return this.sanitizer.bypassSecurityTrustHtml(C)}static#e=this.\u0275fac=function(_){return new(_||y)(o.Y36(f.H7,16))};static#t=this.\u0275pipe=o.Yjl({name:"urlHelper",type:y,pure:!0})}return y})(),ya=(()=>{class y{constructor(l){this.sanitizer=l}transform(l){if(!l)return this.sanitizer.bypassSecurityTrustHtml("");const C=l.replace(/@([a-zA-Z0-9._]+)/gi,($,pe)=>`<a href="https://www.instagram.com/${pe}" target="_blank">${$}</a>`);return console.log(C),this.sanitizer.bypassSecurityTrustHtml(C)}static#e=this.\u0275fac=function(_){return new(_||y)(o.Y36(f.H7,16))};static#t=this.\u0275pipe=o.Yjl({name:"instagramHandle",type:y,pure:!0})}return y})(),Zu=(()=>{class y{constructor(l){this.sanitizer=l}transform(l,_){if(!l)return"";const pe=`<a target="_blank" href="https://www.instagram.com/${l.startsWith("@")?l.substring(1):l}">\n                      <img src="${_}" alt="Instagram Icon">\n                    </a><br>`;return this.sanitizer.bypassSecurityTrustHtml(pe)}static#e=this.\u0275fac=function(_){return new(_||y)(o.Y36(f.H7,16))};static#t=this.\u0275pipe=o.Yjl({name:"instagramLink",type:y,pure:!0})}return y})();function Wd(y,h){if(1&y&&(o.TgZ(0,"div",13),o._UZ(1,"img",14),o.qZA()),2&y){const l=h.$implicit,_=h.index,C=o.oxw();o.ekj("active",_===C.currentImageIndex),o.xp6(1),o.MGl("alt","Offer Image ",_+1,""),o.Q6J("src",l,o.LSH)}}function Gl(y,h){1&y&&(o.TgZ(0,"span",15),o._uU(1,"\u2605"),o.qZA())}function Lc(y,h){1&y&&(o.TgZ(0,"p"),o._uU(1,"Oferta a expirat"),o.qZA())}function Gu(y,h){1&y&&(o.TgZ(0,"p"),o._uU(1,"Oferta este valabil\u0101"),o.qZA())}function Qh(y,h){if(1&y&&(o.TgZ(0,"div")(1,"a",16),o._UZ(2,"img",17),o.qZA()()),2&y){const l=o.oxw();o.xp6(1),o.s9C("href",l.offer.Facebook,o.LSH)}}function ql(y,h){if(1&y&&(o.TgZ(0,"div"),o._UZ(1,"div",18),o.ALo(2,"instagramLink"),o.qZA()),2&y){const l=o.oxw();o.xp6(1),o.Q6J("innerHTML",o.xi3(2,1,l.offer.Instagram,l.svgInstagramIcon),o.oJD)}}function sc(y,h){if(1&y&&(o.TgZ(0,"div")(1,"a",19),o._UZ(2,"img",20),o.qZA()()),2&y){const l=o.oxw();o.xp6(1),o.MGl("href","mailto:",l.offer.Email,"",o.LSH)}}function mp(y,h){if(1&y&&(o.TgZ(0,"div")(1,"a",16),o._UZ(2,"img",21),o.qZA()()),2&y){const l=o.oxw();o.xp6(1),o.s9C("href",l.offer.Website,o.LSH)}}let Po=(()=>{class y{constructor(l){this.router=l,this.currentImageIndex=0,this.images=[],this.defaultImage="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/defaultImage.jpg",this.svgInstagramIcon="../../../assets/images/SVG/instagram-icon.svg"}ngOnInit(){console.log(this.offer),this.images=this.offer?.Images?.length?this.offer.Images:[this.defaultImage],this.startImageCarousel()}startImageCarousel(){setInterval(()=>{this.currentImageIndex=(this.currentImageIndex+1)%this.images.length},15e3)}nextImage(){this.currentImageIndex=(this.currentImageIndex+1)%this.images.length}prevImage(){this.currentImageIndex=(this.currentImageIndex-1+this.images.length)%this.images.length}navigateToDetails(){console.log("Navigating to details:",this.offer.id),this.router.navigate(["/offers",this.offer.id])}static#e=this.\u0275fac=function(_){return new(_||y)(o.Y36(jr.F0))};static#t=this.\u0275cmp=o.Xpm({type:y,selectors:[["app-offer-card"]],inputs:{offer:"offer"},decls:44,vars:14,consts:[[1,"offer-card"],[1,"offer-carousel-container"],[1,"carousel"],[1,"carousel-inner"],["class","carousel-item",3,"active",4,"ngFor","ngForOf"],[1,"carousel-control","prev",3,"click"],[1,"carousel-control","next",3,"click"],[1,"offer-details"],["class","sponsor-icon",4,"ngIf"],[4,"ngIf"],[3,"click"],[1,"card-footer"],[1,"social-icons"],[1,"carousel-item"],[1,"carousel-image",3,"src","alt"],[1,"sponsor-icon"],["target","_blank",3,"href"],["src","../../../assets/images/SVG/facebook-icon.svg"],[3,"innerHTML"],[3,"href"],["src","../../../assets/images/SVG/email-icon.svg"],["src","../../../assets/images/SVG/browser-icon.svg"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),o.YNc(4,Wd,2,4,"div",4),o.qZA(),o.TgZ(5,"a",5),o.NdJ("click",function(){return C.prevImage()}),o._uU(6,"\u276e"),o.qZA(),o.TgZ(7,"a",6),o.NdJ("click",function(){return C.nextImage()}),o._uU(8,"\u276f"),o.qZA()()(),o.TgZ(9,"div",7)(10,"h3"),o._uU(11),o.qZA(),o.YNc(12,Gl,2,0,"span",8),o.TgZ(13,"p")(14,"strong"),o._uU(15,"Compania:"),o.qZA(),o._uU(16),o.qZA(),o._UZ(17,"hr"),o.TgZ(18,"p")(19,"strong"),o._uU(20,"Locatie:"),o.qZA(),o._uU(21),o.qZA(),o.TgZ(22,"p")(23,"strong"),o._uU(24,"Descriiere:"),o.qZA(),o._uU(25),o.qZA(),o.TgZ(26,"p")(27,"strong"),o._uU(28,"Pret:"),o.qZA(),o._uU(29),o.qZA(),o.TgZ(30,"p")(31,"strong"),o._uU(32,"Tip de ofert\u0101:"),o.qZA(),o._uU(33),o.qZA(),o.YNc(34,Lc,2,0,"p",9),o.YNc(35,Gu,2,0,"p",9),o.TgZ(36,"button",10),o.NdJ("click",function(){return C.navigateToDetails()}),o._uU(37,"Detalii"),o.qZA()(),o.TgZ(38,"div",11)(39,"div",12),o.YNc(40,Qh,3,1,"div",9),o.YNc(41,ql,3,4,"div",9),o.YNc(42,sc,3,1,"div",9),o.YNc(43,mp,3,1,"div",9),o.qZA()()()),2&_&&(o.xp6(4),o.Q6J("ngForOf",C.images),o.xp6(7),o.Oqu(C.offer.Title),o.xp6(1),o.Q6J("ngIf",C.offer.Community_Sponsor),o.xp6(4),o.hij(" ",C.offer.Company_Name,""),o.xp6(5),o.hij(" ",C.offer.Location,""),o.xp6(4),o.Oqu(C.offer.Description),o.xp6(4),o.Oqu(C.offer.Price),o.xp6(4),o.Oqu(C.offer.OfferType),o.xp6(1),o.Q6J("ngIf",C.offer.Filled),o.xp6(1),o.Q6J("ngIf",!C.offer.Filled),o.xp6(5),o.Q6J("ngIf",C.offer.Facebook),o.xp6(1),o.Q6J("ngIf",C.offer.Instagram),o.xp6(1),o.Q6J("ngIf",C.offer.Email),o.xp6(1),o.Q6J("ngIf",C.offer.Website))},dependencies:[U.sg,U.O5,Zu],styles:[".offer-card[_ngcontent-%COMP%]{background-color:#fafafa;width:400px;min-height:550px;border-radius:8px;overflow:hidden;box-shadow:0 4px 8px #0000001a;transition:transform .3s;height:800px;position:relative}.offer-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.offer-carousel-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:400px;margin:0 auto}.carousel[_ngcontent-%COMP%]{width:100%;position:relative}.carousel-inner[_ngcontent-%COMP%]{overflow:hidden;border-radius:8px;min-height:300px}.carousel-item[_ngcontent-%COMP%]{display:none;text-align:center}.carousel-item.active[_ngcontent-%COMP%]{display:block}.carousel-image[_ngcontent-%COMP%]{width:400px;height:300px;object-fit:cover}.carousel-control[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);font-size:24px;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.5);cursor:pointer;-webkit-user-select:none;user-select:none}.carousel-control.prev[_ngcontent-%COMP%]{left:10px}.carousel-control.next[_ngcontent-%COMP%]{right:10px}.offer-details[_ngcontent-%COMP%]{padding:15px;text-align:left}.offer-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.offer-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.card-footer[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:400px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px;color:gold}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}"]})}return y})(),Kd=(()=>{class y{constructor(l){this.router=l,this.defaultImage="https://storage.cloud.google.com/romaniinseattle.appspot.com/events/defaultImage.jpg"}ngOnInit(){this.event.Poster_Image||(this.event.Poster_Image=this.defaultImage)}navigateToDetails(){console.log("Navigating to details:",this.event.id),this.router.navigate(["/events",this.event.id])}static#e=this.\u0275fac=function(_){return new(_||y)(o.Y36(jr.F0))};static#t=this.\u0275cmp=o.Xpm({type:y,selectors:[["app-event-card-home"]],inputs:{event:"event"},decls:11,vars:8,consts:[[1,"small-card"],[1,"image-container"],[1,"event-image",3,"src","alt"],[1,"content-container"],[1,"event-name"],[1,"event-date"],[1,"btn",3,"click"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0)(1,"div",1),o._UZ(2,"img",2),o.qZA(),o.TgZ(3,"div",3)(4,"h2",4),o._uU(5),o.qZA(),o.TgZ(6,"p",5),o._uU(7),o.ALo(8,"date"),o.qZA(),o.TgZ(9,"button",6),o.NdJ("click",function(){return C.navigateToDetails()}),o._uU(10,"Detalii"),o.qZA()()()),2&_&&(o.xp6(2),o.s9C("alt",C.event.Event_Name),o.Q6J("src",C.event.Poster_Image,o.LSH),o.xp6(3),o.Oqu(C.event.Event_Name),o.xp6(2),o.AsE("",o.xi3(8,5,C.event.Event_Date,"MM/dd/yyyy")," | ",C.event.Event_Time,""))},dependencies:[U.uU],styles:[".small-card[_ngcontent-%COMP%]{display:flex;width:400px;height:200px;border-radius:12px;overflow:hidden;box-shadow:0 4px 8px #0000001a}.image-container[_ngcontent-%COMP%]{width:40%;position:relative;overflow:hidden}.event-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.content-container[_ngcontent-%COMP%]{flex:1;padding:16px;background-color:#fff;display:flex;flex-direction:column;justify-content:center}.event-name[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:8px}.event-date[_ngcontent-%COMP%]{color:#666;margin-bottom:16px}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:10px;background-color:var(--button-color);color:#fff;font-size:1rem;cursor:pointer;transition:background-color .3s ease}.btn[_ngcontent-%COMP%]:hover{background-color:var(--button-color)}"]})}return y})();function Wl(y,h){1&y&&o._UZ(0,"app-offer-card",28),2&y&&o.Q6J("offer",h.$implicit)}function Ea(y,h){1&y&&o._UZ(0,"app-event-card-home",29),2&y&&o.Q6J("event",h.$implicit)}function Vc(y,h){if(1&y&&(o.TgZ(0,"li",30)(1,"a",31),o._uU(2),o.qZA()()),2&y){const l=h.$implicit;o.xp6(1),o.s9C("href",l.url,o.LSH),o.xp6(1),o.Oqu(l.name)}}let Qd=(()=>{class y{constructor(l,_,C){this.eventService=l,this.offersService=_,this.router=C,this.resourceLinks=[{name:"Ambasada Romaniei in SUA",url:"https://washington.mae.ro/"},{name:"Ambasada SUA in Romania",url:"https://ro.usembassy.gov/"},{name:"American Romanian Cultural Society",url:"www.arcsproject.org"},{name:"Biserica Sfintii Trei Ierarhi",url:"http://www.ortodox.org/"},{name:"Romanian United Foundation",url:"https://www.romanianunitedfund.org/"}],this.events=[],this.offers=[]}ngOnInit(){this.eventService.getEvents().subscribe(l=>{this.events=l}),this.offersService.getOffers().subscribe(l=>{this.offers=l})}navigateToAddEvent(){this.router.navigate(["/add-event"])}static#e=this.\u0275fac=function(_){return new(_||y)(o.Y36(vl.n),o.Y36(Ls.b),o.Y36(jr.F0))};static#t=this.\u0275cmp=o.Xpm({type:y,selectors:[["app-home"]],decls:100,vars:3,consts:[[1,"container"],[1,"hero"],[1,"container","hero-content"],[1,"hero-text"],["href","https://www.facebook.com/groups/RomaniinSeattle"],["href","https://www.facebook.com/groups/RomaniinSeattle",1,"btn"],[1,"hero-image"],["src","../../../assets/images/Seattle-Romania.png","alt","Seattle"],[1,"community-description"],[1,"community-descriptions"],[1,"description-card"],["href","/services/"],["href","/offers"],["href","/events"],[1,"sharedContent-Section"],[1,"offer-list"],[3,"offer",4,"ngFor","ngForOf"],[1,"services-container"],[3,"event",4,"ngFor","ngForOf"],[1,"resource-consulate"],["target","_blank","href","http://newyork.mae.ro/"],["target","_blank","href","http://chicago.mae.ro/"],["target","_blank","href","http://losangeles.mae.ro/"],["target","_blank","href","http://miami.mae.ro/"],[1,"resources-section"],[1,"section-header"],[1,"resource-list"],["class","resource-item",4,"ngFor","ngForOf"],[3,"offer"],[3,"event"],[1,"resource-item"],["target","_blank",3,"href"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"h1"),o._uU(5,"Bine ati venit in comunitatea "),o.TgZ(6,"a",4),o._uU(7,"Romani in Seattle"),o.qZA()(),o.TgZ(8,"p"),o._uU(9,"Servictii, oferte si evenimente pentru persoanele care locuiesc in zona Seattle."),o.qZA(),o.TgZ(10,"a",5),o._uU(11,"Join our Facebook Group"),o.qZA()(),o.TgZ(12,"div",6),o._UZ(13,"img",7),o.qZA()()(),o.TgZ(14,"section",8)(15,"div",0)(16,"h2"),o._uU(17,"Despre communitatea noastra"),o.qZA(),o.TgZ(18,"p"),o._uU(19,'Scopul al acestui website este de a beneficia Romani \xeen Seattle, prin schimbul de informa\u021bii utile si in acela\u0219i timp promov\xe2nd Companiile Romane\u0219ti din zona Seattle la \xa0Comunitatea Romaneasca de aici. Acesta a \xeenceput pe facebook prin grupul "Romani \xeen Seattle\u201d care acum con\u021bine peste 3700 de membri.'),o.qZA()()(),o.TgZ(20,"div",9)(21,"div",10)(22,"a",11)(23,"h2"),o._uU(24,"Servicii"),o.qZA()(),o.TgZ(25,"p"),o._uU(26,"Sprijini\u021bi-ne afacerile locale \u0219i descoperi\u021bi produse \u0219i servicii unice oferite de membrii comunit\u0103\u021bii."),o.qZA()(),o.TgZ(27,"div",10)(28,"a",12)(29,"h2"),o._uU(30,"Oportunit\u0103\u021bi si Oferte"),o.qZA()(),o.TgZ(31,"p"),o._uU(32,"Implica\u021bi-v\u0103 \u0219i face\u021bi o diferen\u021b\u0103 prin voluntariat pentru diverse proiecte \u0219i ini\u021biative comunitare."),o.qZA()(),o.TgZ(33,"div",10)(34,"a",13)(35,"h2"),o._uU(36,"Evenimente"),o.qZA()(),o.TgZ(37,"p"),o._uU(38,"Al\u0103tura\u021bi-v\u0103 nou\u0103 pentru o varietate de evenimente care reunesc comunitatea. De la festivaluri la ateliere, exist\u0103 ceva pentru toat\u0103 lumea."),o.qZA()(),o.TgZ(39,"div",10)(40,"h2"),o._uU(41,"Resurse"),o.qZA(),o.TgZ(42,"p"),o._uU(43,"Accesa\u021bi resurse \u0219i servicii valoroase oferite de comunitate at\xe2t pentru reziden\u021bi, c\xe2t \u0219i pentru vizitatori."),o.qZA()()(),o.TgZ(44,"div",14)(45,"h1"),o._uU(46,"Oportunit\u0103\u021bi si Oferte"),o.qZA(),o.TgZ(47,"div",15),o.YNc(48,Wl,1,1,"app-offer-card",16),o.qZA(),o.TgZ(49,"div",14)(50,"h1"),o._uU(51,"Evenimente"),o.qZA(),o.TgZ(52,"div",17),o.YNc(53,Ea,1,1,"app-event-card-home",18),o.qZA()()(),o.TgZ(54,"div",14)(55,"h1"),o._uU(56,"Resurse"),o.qZA(),o.TgZ(57,"section",19)(58,"div",9)(59,"div",10)(60,"h2"),o._uU(61,"Consulatul Rom\xe2niei la New York"),o.qZA(),o.TgZ(62,"h3"),o._uU(63,"CONSUL GENERAL: doamna Mihaela-Simona FLOREA"),o.qZA(),o.TgZ(64,"p"),o._uU(65,"Adres\u0103: 200 East 38th Street, New York, NY 10016"),o.qZA(),o.TgZ(66,"a",20),o._uU(67,"http://newyork.mae.ro/"),o.qZA()(),o.TgZ(68,"div",10)(69,"h2"),o._uU(70,"Consulatul Rom\xe2niei la Chicago"),o.qZA(),o.TgZ(71,"h3"),o._uU(72,"CONSUL GENERAL: "),o.qZA(),o.TgZ(73,"p"),o._uU(74,"Adres\u0103: 737 North Michigan Avenue, Suite 2300, Chicago, IL 60611"),o.qZA(),o.TgZ(75,"a",21),o._uU(76,"http://chicago.mae.ro/"),o.qZA()(),o.TgZ(77,"div",10)(78,"h2"),o._uU(79,"Consulatul Rom\xe2niei la Los Angeles"),o.qZA(),o.TgZ(80,"h3"),o._uU(81,"CONSUL GENERAL: doamna Lucia SAVA"),o.qZA(),o.TgZ(82,"p"),o._uU(83,"Adres\u0103: 11766 Wilshire Blvd. Suite 200, Los Angeles CA 90025"),o.qZA(),o.TgZ(84,"a",22),o._uU(85,"http://losangeles.mae.ro/"),o.qZA()(),o.TgZ(86,"div",10)(87,"h2"),o._uU(88,"Consulatul Rom\xe2niei la Miami"),o.qZA(),o.TgZ(89,"h3"),o._uU(90,"CONSUL GENERAL: doamna Elena-GabrielA EREMIA"),o.qZA(),o.TgZ(91,"p"),o._uU(92,"Adres\u0103: 1101 Brickell Ave, suite N 600, Miami, FL 33131"),o.qZA(),o.TgZ(93,"a",23),o._uU(94,"http://miami.mae.ro/"),o.qZA()()()()(),o.TgZ(95,"section",24)(96,"h2",25),o._uU(97,"Resurse utile pentru comunitate"),o.qZA(),o.TgZ(98,"ul",26),o.YNc(99,Vc,3,2,"li",27),o.qZA()()()),2&_&&(o.xp6(48),o.Q6J("ngForOf",C.offers),o.xp6(5),o.Q6J("ngForOf",C.events),o.xp6(46),o.Q6J("ngForOf",C.resourceLinks))},dependencies:[U.sg,Po,Kd],styles:[".container[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px;margin-bottom:20px}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px;color:var(--button-color)}.hero[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;background-color:#f5f5f5;padding:6rem 0 0rem}.hero-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.hero-text[_ngcontent-%COMP%]{flex:1;padding:0 2rem}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1.5rem}.btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;padding:.75rem 1.5rem;text-decoration:none;border-radius:5px;font-size:1rem}.hero-image[_ngcontent-%COMP%]{flex:1}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.community-description[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;padding:2rem 0;text-align:center}.community-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.community-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin:0 auto;max-width:800px;color:#f5f5f5}@media (max-width: 768px){.hero[_ngcontent-%COMP%]{flex-direction:column}.hero-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.hero-text[_ngcontent-%COMP%]{margin-bottom:2rem}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}}.community-descriptions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;padding:40px 20px}.description-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:20px;padding:20px;width:300px;text-align:center}.description-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--button-color);margin-bottom:10px}.description-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:var(--button-color)}.description-card-group[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:20px;padding:20px;width:100%;text-align:center}.resource-list[_ngcontent-%COMP%]{list-style-type:none;padding:0}.resource-item[_ngcontent-%COMP%]{margin:10px 0}.resource-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--button-color);font-size:18px;transition:color .3s ease}.resource-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0056b3}a[_ngcontent-%COMP%]{color:inherit}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.service-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:10px;padding:40px;width:calc(25% - 32px);box-sizing:border-box;position:relative;min-width:400px}.card-header[_ngcontent-%COMP%]{text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333}.card-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-top:4px}.card-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:gold}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}.offers[_ngcontent-%COMP%], .offer-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.offer-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;overflow:hidden;box-shadow:0 4px 8px #0000001a;transition:transform .3s;max-width:400px;height:800px;position:relative;text-align:left}.offer-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.carousel[_ngcontent-%COMP%]{position:relative;width:100%;overflow:hidden}.carousel-inner[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;flex-shrink:0}.image-container[_ngcontent-%COMP%]{width:400px;height:250px;overflow:hidden;display:flex;justify-content:center;align-items:center}.prev[_ngcontent-%COMP%], .next[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background-color:#00000080;color:#fff;border:none;padding:10px;cursor:pointer;border-radius:50%}.prev[_ngcontent-%COMP%]{left:10px}.next[_ngcontent-%COMP%]{right:10px}.offer-details[_ngcontent-%COMP%]{padding:15px}.offer-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.offer-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.offer-footer[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}.featured[_ngcontent-%COMP%]{color:#007bff;font-weight:700}.sharedContent-Section[_ngcontent-%COMP%]{padding:50px 0}.button-container[_ngcontent-%COMP%]{text-align:center}.fb-button[_ngcontent-%COMP%]{background-color:var(--button-bg-color);color:var(--button-text-color);padding:10px 20px;border-radius:5px;text-decoration:none;font-size:18px;display:inline-flex;align-items:center;transition:background-color .3s}.fb-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;font-size:20px}.fb-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-bg-color)}"]})}return y})();var ac=k(614),en=k(6223);function Ua(y){return y?/^https?:\/\//i.test(y)?y:`http://${y}`:""}function El(y,h){1&y&&(o.TgZ(0,"span",15),o._uU(1,"\u2605"),o.qZA())}function Yd(y,h){if(1&y&&(o.TgZ(0,"div")(1,"a",16),o._UZ(2,"img",17),o.qZA()()),2&y){const l=o.oxw();o.xp6(1),o.s9C("href",l.svc.Facebook,o.LSH)}}function Uc(y,h){if(1&y&&(o.TgZ(0,"div"),o._UZ(1,"div",18),o.ALo(2,"instagramLink"),o.qZA()),2&y){const l=o.oxw();o.xp6(1),o.Q6J("innerHTML",o.xi3(2,1,l.svc.Instagram,l.svgInstagramIcon),o.oJD)}}function Yi(y,h){if(1&y&&(o.TgZ(0,"div")(1,"a",19),o._UZ(2,"img",20),o.qZA()()),2&y){const l=o.oxw();o.xp6(1),o.MGl("href","mailto:",l.svc.Email,"",o.LSH)}}function Og(y,h){if(1&y&&(o.TgZ(0,"div")(1,"a",16),o._UZ(2,"img",21),o.qZA()()),2&y){const l=o.oxw();o.xp6(1),o.s9C("href",l.svc.Website,o.LSH)}}let _p=(()=>{class y{constructor(l){this.router=l,this.svgInstagramIcon="../../../assets/images/SVG/instagram-icon.svg"}ngOnInit(){(void 0===this.svc.Image||""==this.svc.Image)&&(this.svc.Image="https://firebasestorage.googleapis.com/v0/b/romaniinseattle.appspot.com/o/serviceImages%2FdafaultImage.jpg?alt=media&token=3b0787df-12f0-444a-a426-013843534f1e"),this.svc.Website=Ua(this.svc.Website)}viewDetails(){this.router.navigate(["/services",this.svc.id])}static#e=this.\u0275fac=function(_){return new(_||y)(o.Y36(jr.F0))};static#t=this.\u0275cmp=o.Xpm({type:y,selectors:[["app-service-card"]],inputs:{svc:"svc"},decls:23,vars:11,consts:[[1,"service-card"],[1,"service-card-image-container"],[1,"service-card-image",3,"src","alt"],[1,"service-card-content"],[1,"card-header"],[1,"card-title"],["class","sponsor-icon",4,"ngIf"],[1,"card-subtitle","service_type"],[1,"card-subtitle","contact_info"],[1,"card-description"],[1,"card-button"],[3,"click"],[1,"card-footer"],[1,"social-icons"],[4,"ngIf"],[1,"sponsor-icon"],["target","_blank",3,"href"],["src","../../../assets/images/SVG/facebook-icon.svg"],[3,"innerHTML"],[3,"href"],["src","../../../assets/images/SVG/email-icon.svg"],["src","../../../assets/images/SVG/browser-icon.svg"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0)(1,"div",1),o._UZ(2,"img",2),o.qZA(),o.TgZ(3,"div",3)(4,"div",4)(5,"div",5),o._uU(6),o.YNc(7,El,2,0,"span",6),o.qZA(),o.TgZ(8,"div",7),o._uU(9),o.qZA(),o.TgZ(10,"div",8),o._uU(11),o.qZA(),o.TgZ(12,"div",9),o._uU(13),o.qZA(),o.TgZ(14,"div",10)(15,"button",11),o.NdJ("click",function(){return C.viewDetails()}),o._uU(16,"Detalii"),o.qZA()()(),o.TgZ(17,"div",12)(18,"div",13),o.YNc(19,Yd,3,1,"div",14),o.YNc(20,Uc,3,4,"div",14),o.YNc(21,Yi,3,1,"div",14),o.YNc(22,Og,3,1,"div",14),o.qZA()()()()),2&_&&(o.xp6(2),o.s9C("alt",C.svc.Name),o.Q6J("src",C.svc.Image,o.LSH),o.xp6(4),o.Oqu(C.svc.Name),o.xp6(1),o.Q6J("ngIf",C.svc.Community_Sponsor),o.xp6(2),o.Oqu(C.svc.Service_Type),o.xp6(2),o.Oqu(C.svc.Phone_Number),o.xp6(2),o.Oqu(C.svc.Description),o.xp6(6),o.Q6J("ngIf",C.svc.Facebook),o.xp6(1),o.Q6J("ngIf",C.svc.Instagram),o.xp6(1),o.Q6J("ngIf",C.svc.Email),o.xp6(1),o.Q6J("ngIf",C.svc.Website))},dependencies:[U.O5,Zu],styles:[".service-card[_ngcontent-%COMP%]{background-color:#fafafa;width:400px;min-height:550px;display:flex;flex-direction:column;justify-content:space-between;border-radius:8px;box-shadow:0 4px 8px #00000080;margin:10px;padding:40px;box-sizing:border-box;position:relative}.service-card[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.service-card-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:5px}.service-card-image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover;border:2px solid #ddd}.card-header[_ngcontent-%COMP%]{text-align:center;margin:25px}.card-title[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:500;font-style:bold;font-size:1.7rem;font-weight:700;color:#333;line-height:1.2}.card-subtitle[_ngcontent-%COMP%]{font-family:Catamaran,sans-serif;font-optical-sizing:auto;font-weight:400;font-style:normal;font-size:1rem;color:#666;margin-top:4px}.card-description[_ngcontent-%COMP%]{text-align:left;font-family:Catamaran,sans-serif;font-optical-sizing:auto;font-weight:400;font-style:normal;color:#666;margin-top:4px;overflow:hidden;-webkit-box-orient:vertical;display:block;display:-webkit-box;overflow:hidden!important;text-overflow:ellipsis;-webkit-line-clamp:4}.service_type[_ngcontent-%COMP%]{text-transform:uppercase;padding:1rem 0}.contact_info[_ngcontent-%COMP%]{padding:0 0 1rem;font-size:1.2rem}.card-footer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 480px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 100px);min-width:175px;margin:2px;padding:2px;min-height:150px;min-height:330px}.card-title[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:100;font-style:bold;font-size:.9rem;font-weight:400;color:#333;line-height:1;padding:0;margin:0}.card-subtitle[_ngcontent-%COMP%]{font-family:Catamaran,sans-serif;font-optical-sizing:auto;font-weight:100;font-style:normal;color:#666;margin-top:1px}.card-description[_ngcontent-%COMP%]{display:none}.service_type[_ngcontent-%COMP%]{text-transform:uppercase;padding:0;font-size:.5rem}.card-footer[_ngcontent-%COMP%]{display:none}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:175px}.service-footer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}.services-control[_ngcontent-%COMP%]{flex-direction:column}@media screen and (max-width: 960px) and(min-width:480px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}.service-card-front[_ngcontent-%COMP%]{background-color:#fff;color:#000}.service-card-content[_ngcontent-%COMP%]{padding:0}.service-date[_ngcontent-%COMP%]{font-size:12px;color:#f1c40f}.service-footer[_ngcontent-%COMP%]{margin-top:10px}.featured[_ngcontent-%COMP%]{font-weight:700;color:#f39c12}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:400px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000}#browser-icon[_ngcontent-%COMP%]{fill:red;stroke:#000}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px;color:gold}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}"]})}return y})();function Yh(y,h){if(1&y&&(o.TgZ(0,"option",14),o._uU(1),o.qZA()),2&y){const l=h.$implicit;o.Q6J("value",l),o.xp6(1),o.Oqu(l)}}function Ng(y,h){1&y&&o._UZ(0,"app-service-card",15),2&y&&o.Q6J("svc",h.$implicit)}let Jh=(()=>{class y{constructor(l,_,C){this.servicesService=l,this.route=_,this.router=C,this.services=[],this.filteredServices=[],this.serviceTypes=[],this.selectedServiceType=""}ngOnInit(){this.route.queryParams.subscribe(l=>{this.selectedServiceType=l.serviceType||""}),this.filterServices(this.selectedServiceType)}navigateToAddService(){this.router.navigate(["/add-service"])}handleChange(l){const{target:_}=l;return _&&console.log(_.value),_.value}fetchServiceTypes(){console.log("FetchServiceTypes Function"),this.servicesService.getAllServiceTypes().subscribe(l=>{this.serviceTypes=l,l.forEach(_=>{})}),console.log("Number of Service Types returned by the database : "+this.serviceTypes.length)}onFilterChange(l){console.log("Filter changed:",l),this.router.navigate([],{relativeTo:this.route,queryParams:{serviceType:l},queryParamsHandling:"merge"}),this.filterServices(l)}filterServices(l){console.log("Filter Serices: "+l),this.fetchServiceTypes(),l&&""!==l?this.servicesService.getServicesByType(l).subscribe(_=>{this.services=_.filter(C=>C.Approved),this.filteredServices=_.filter(C=>C.Approved),console.log("Number of Services returned by the Database :  "+this.services.length)}):this.servicesService.getServices().subscribe(_=>{this.services=_.filter(C=>C.Approved),this.filteredServices=_.filter(C=>C.Approved),console.log("Number of Services returned by the Database :  "+this.services.length)})}extractServiceTypes(){this.serviceTypes=[...new Set(this.services.map(l=>l.Service_Type))]}shareLink(){const _=this.router.url.split("?")[1]||"";navigator.clipboard.writeText("https://romaniinseattle.web.app/services"+(_?"?"+_:"")).then(()=>{alert("Link copied to clipboard!")},$=>{console.error("Could not copy text: ",$)})}static#e=this.\u0275fac=function(_){return new(_||y)(o.Y36(ac.r),o.Y36(jr.gz),o.Y36(jr.F0))};static#t=this.\u0275cmp=o.Xpm({type:y,selectors:[["app-services"]],decls:24,vars:3,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"services-control"],[1,"service-control-container"],["for","service-type"],["id","service-type",1,"filter-dropdown",3,"ngModel","change","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[2,"min-width","150px",3,"click"],[1,"share-button",3,"click"],[1,"fas","fa-share-alt"],[1,"services-container"],[3,"svc",4,"ngFor","ngForOf"],[3,"value"],[3,"svc"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1"),o._uU(3,"Lista de Servicii"),o.qZA()(),o.TgZ(4,"div",2)(5,"h2"),o._uU(6,"Descoperi\u021bi serviciile oferite de membrii comunit\u0103\u021bii"),o.qZA()()(),o.TgZ(7,"div",3)(8,"div",4)(9,"label",5),o._uU(10,"Filtra\u021bi lista dup\u0103 tipul serviciului: "),o.qZA()(),o.TgZ(11,"div",4)(12,"select",6),o.NdJ("change",function(pe){return C.onFilterChange(C.handleChange(pe))})("ngModelChange",function(pe){return C.selectedServiceType=pe}),o.TgZ(13,"option",7),o._uU(14,"Toate serviciile"),o.qZA(),o.YNc(15,Yh,2,2,"option",8),o.qZA()(),o.TgZ(16,"div",4)(17,"button",9),o.NdJ("click",function(){return C.navigateToAddService()}),o._uU(18,"Adaugati un Serviciu"),o.qZA()(),o.TgZ(19,"button",10),o.NdJ("click",function(){return C.shareLink()}),o._UZ(20,"i",11),o._uU(21," Share "),o.qZA()(),o.TgZ(22,"div",12),o.YNc(23,Ng,1,1,"app-service-card",13),o.qZA()),2&_&&(o.xp6(12),o.Q6J("ngModel",C.selectedServiceType),o.xp6(3),o.Q6J("ngForOf",C.serviceTypes),o.xp6(8),o.Q6J("ngForOf",C.filteredServices))},dependencies:[U.sg,en.YN,en.Kr,en.EJ,en.JJ,en.On,_p],styles:[".hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.services-control[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px;padding:20px;flex-wrap:wrap}.service-control-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:5px;padding:5px}.services-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.services-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px;font-size:1rem}.add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}label[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:16px;text-transform:uppercase}.filter-dropdown[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:16px;text-transform:uppercase;cursor:pointer}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;padding:1rem}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:3rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1rem;text-align:center}}"]})}return y})(),vp=(()=>{class y{static#e=this.\u0275fac=function(_){return new(_||y)};static#t=this.\u0275cmp=o.Xpm({type:y,selectors:[["app-rules"]],decls:43,vars:0,consts:[[1,"hero-section"],[1,"overlay"],[1,"content"],["href","https://www.facebook.com/groups/RomaniinSeattle",1,"cta-button"],[1,"rules-section"],[1,"container"],[1,"rules-list"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0),o._UZ(1,"div",1),o.TgZ(2,"div",2)(3,"h1"),o._uU(4,"Regulile \u0219i Reglement\u0103rile"),o.qZA(),o.TgZ(5,"p"),o._uU(6,"Apreciem cooperarea \u0219i \xeen\u021belegerea dvs. \xeen respectarea regulilor grupului nostru."),o.qZA(),o.TgZ(7,"a",3),o._uU(8,"Join our Facebook Group"),o.qZA()()(),o.TgZ(9,"section",4)(10,"div",5)(11,"h2"),o._uU(12,"Regulile \u0219i Reglement\u0103rile"),o.qZA(),o.TgZ(13,"ol",6)(14,"li")(15,"span"),o._uU(16,"Respecta\u021bi to\u021bi membrii."),o.qZA(),o._uU(17," Trateaz\u0103 pe toat\u0103 lumea cu respect. Dezbaterile s\u0103n\u0103toase sunt naturale, dar amabilitatea este obligatorie."),o.qZA(),o.TgZ(18,"li")(19,"span"),o._uU(20,"F\u0103r\u0103 discursuri de ur\u0103 sau h\u0103r\u021buire."),o.qZA(),o._uU(21," Asigur\u0103-te c\u0103 toat\u0103 lumea se simte \xeen siguran\u021b\u0103. Bullying-ul de orice fel nu este permis, iar comentariile degradante despre lucruri precum rasa, religia, cultura, orientarea sexual\u0103, genul sau identitatea nu vor fi tolerate."),o.qZA(),o.TgZ(22,"li"),o._uU(23,"F\u0103r\u0103 limbaj ofensator."),o.qZA(),o.TgZ(24,"li")(25,"span"),o._uU(26,"F\u0103r\u0103 Promov\u0103ri sau Spam:"),o.qZA(),o._uU(27," Ofer\u0103 mai mult dec\xe2t prime\u0219ti \xeen acest grup. Auto-promovarea, spam-ul \u0219i link-urile irelevante nu sunt permise."),o.qZA(),o.TgZ(28,"li"),o._uU(29,"R\u0103m\xe2ne\u021bi la subiect."),o.qZA(),o.TgZ(30,"li")(31,"span"),o._uU(32,"Respect\u0103 Intimitatea Fiec\u0103ruia:"),o.qZA(),o._uU(33," Participarea \xeen acest grup necesit\u0103 \xeencredere reciproc\u0103. Discu\u021biile autentice \u0219i expresive fac grupurile grozave, dar pot fi \u0219i sensibile \u0219i private. Ce se \xeemp\u0103rt\u0103\u0219e\u0219te \xeen grup ar trebui s\u0103 r\u0103m\xe2n\u0103 \xeen grup."),o.qZA(),o.TgZ(34,"li")(35,"span"),o._uU(36,"Respecta\u021bi Standardele Comunit\u0103\u021bii Facebook."),o.qZA(),o._uU(37," Respect\u0103 toate liniile directoare ale comunit\u0103\u021bii pentru a asigura c\u0103 grupul r\u0103m\xe2ne un spa\u021biu sigur pentru to\u021bi."),o.qZA(),o.TgZ(38,"li"),o._uU(39,"Raporta\u021bi \xeenc\u0103lc\u0103rile regulilor c\u0103tre administratori."),o.qZA()()(),o.TgZ(40,"div")(41,"p"),o._uU(42,"Dac\u0103 dori\u021bi s\u0103 v\u0103 oferi\u021bi serviciile comunit\u0103\u021bii, v\u0103 rug\u0103m s\u0103 trimite\u021bi detaliile serviciilor dumneavoastr\u0103 prin intermediul site-ului nostru. Un administrator va revizui trimiterea dvs. \u0219i o va ad\u0103uga \xeen grup c\xe2t mai cur\xe2nd posibil. Apreciem cooperarea \u0219i \xeen\u021belegerea dvs. \xeen respectarea regulilor grupului nostru."),o.qZA()()())},styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Arial,sans-serif;height:100%}.hero-section[_ngcontent-%COMP%]{position:relative;height:100vh;background:url(Seattle-Romania.322e2da675d571d6.png) no-repeat center center/cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#fff}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:3em;margin:.5em 0}p[_ngcontent-%COMP%]{font-size:1.5em;margin:.5em 0}.cta-button[_ngcontent-%COMP%]{display:inline-block;padding:.75em 1.5em;margin-top:1em;font-size:1.2em;color:#fff;background-color:var(--button-color);border:none;border-radius:5px;text-decoration:none;cursor:pointer;transition:background-color .3s ease}.cta-button[_ngcontent-%COMP%]:hover{background-color:#e65c00}.rules-section[_ngcontent-%COMP%]{padding:40px 20px;background:#f4f4f4}.rules-section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.rules-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;font-size:32px}.rules-list[_ngcontent-%COMP%]{list-style:none}.rules-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background:#fff;padding:20px;margin-bottom:10px;border-left:5px solid #007BFF}.rules-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;color:#333}"]})}return y})();function Jd(y,h){1&y&&(o.TgZ(0,"div",15)(1,"span",16),o._uU(2,"Evenimentul a Expirat"),o.qZA()())}let Al=(()=>{class y{constructor(l){this.router=l,this.defaultImage="https://storage.cloud.google.com/romaniinseattle.appspot.com/events/defaultImage.jpg"}ngOnInit(){this.event.Poster_Image||(this.event.Poster_Image=this.defaultImage)}navigateToDetails(){console.log("Navigating to details:",this.event.id),this.router.navigate(["/events",this.event.id])}static#e=this.\u0275fac=function(_){return new(_||y)(o.Y36(jr.F0))};static#t=this.\u0275cmp=o.Xpm({type:y,selectors:[["app-event-card"]],inputs:{event:"event"},decls:23,vars:15,consts:[[1,"event-card"],[1,"event-image"],[3,"src","alt"],[1,"calendar-icon"],["src","../../../../assets/images/SVG/calendar.svg","alt","Calendar Icon"],[1,"event-date"],[1,"event-details"],[1,"event-date-time"],[1,"date-time"],[1,"event-description"],[1,"contact-name"],[1,"contact-info"],[1,"card-footer"],["class","card-expired",4,"ngIf"],[3,"click"],[1,"card-expired"],[1,"expired"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0)(1,"div",1),o._UZ(2,"img",2),o.TgZ(3,"div",3),o._UZ(4,"img",4),o.TgZ(5,"span",5),o._uU(6),o.ALo(7,"date"),o.qZA()()(),o.TgZ(8,"div",6)(9,"div",7)(10,"span",8),o._uU(11),o.ALo(12,"date"),o.qZA()(),o.TgZ(13,"div",9),o._uU(14),o.qZA(),o.TgZ(15,"div",10),o._uU(16),o.qZA(),o.TgZ(17,"div",11),o._uU(18),o.qZA()(),o.TgZ(19,"div",12),o.YNc(20,Jd,3,0,"div",13),o.TgZ(21,"button",14),o.NdJ("click",function(){return C.navigateToDetails()}),o._uU(22,"Detalii"),o.qZA()()()),2&_&&(o.xp6(2),o.s9C("alt",C.event.Event_Name),o.Q6J("src",C.event.Poster_Image,o.LSH),o.xp6(4),o.Oqu(o.xi3(7,9,C.event.Event_Date,"dd")),o.xp6(5),o.AsE("",o.xi3(12,12,C.event.Event_Date,"MM/dd/yyyy")," | ",C.event.Event_Time,""),o.xp6(3),o.hij(" ",C.event.Description," "),o.xp6(2),o.hij(" ",C.event.Contact_Person_Name," "),o.xp6(2),o.hij(" ",C.event.Phone_Number," "),o.xp6(2),o.Q6J("ngIf",C.event.Expired))},dependencies:[U.O5,U.uU],styles:[".event-card[_ngcontent-%COMP%]{display:block;position:relative;width:400px;min-height:550px;border-radius:12px;overflow:hidden;box-shadow:0 4px 8px #0000001a;transition:transform .3s;height:800px}.event-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.calendar-icon[_ngcontent-%COMP%]{position:relative;bottom:45px;left:10px;display:flex;align-items:center;background-color:#fffc;padding:4px 8px;border-radius:4px;width:50px;height:50px;border:solid 1px lightgray}.calendar-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px;margin-right:4px}.event-date[_ngcontent-%COMP%]{font-size:14px;color:#333}.event-details[_ngcontent-%COMP%]{padding:12px}.event-date-time[_ngcontent-%COMP%]{margin-bottom:8px}.date-time[_ngcontent-%COMP%]{font-size:14px;color:#888}.event-description[_ngcontent-%COMP%]{font-size:14px;color:#666;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.contact-name[_ngcontent-%COMP%]{margin-top:8px;font-weight:700}.contact-info[_ngcontent-%COMP%]{color:#666}.details-button[_ngcontent-%COMP%]{margin-top:12px;padding:8px 16px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s}.details-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.card-expired[_ngcontent-%COMP%]{padding:10px;text-align:center}.expired[_ngcontent-%COMP%]{color:red}.card-footer[_ngcontent-%COMP%]{width:90%;display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}"]})}return y})();function Il(y,h){1&y&&o._UZ(0,"app-event-card",7),2&y&&o.Q6J("event",h.$implicit)}let Xh=(()=>{class y{constructor(l,_){this.eventService=l,this.router=_,this.events=[]}ngOnInit(){this.eventService.getEvents().subscribe(l=>{this.events=l})}navigateToAddEvent(){this.router.navigate(["/add-event"])}static#e=this.\u0275fac=function(_){return new(_||y)(o.Y36(vl.n),o.Y36(jr.F0))};static#t=this.\u0275cmp=o.Xpm({type:y,selectors:[["app-events"]],decls:12,vars:1,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"add-service-container"],[3,"click"],[1,"services-container"],[3,"event",4,"ngFor","ngForOf"],[3,"event"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1"),o._uU(3,"Lista de Evenimente"),o.qZA()(),o.TgZ(4,"div",2)(5,"h2"),o._uU(6,"Descoperi\u021bi serviciile oferite de membrii comunit\u0103\u021bii"),o.qZA()()(),o.TgZ(7,"div",3)(8,"button",4),o.NdJ("click",function(){return C.navigateToAddEvent()}),o._uU(9,"Adaugati un Eveniment"),o.qZA()(),o.TgZ(10,"div",5),o.YNc(11,Il,1,1,"app-event-card",6),o.qZA()),2&_&&(o.xp6(11),o.Q6J("ngForOf",C.events))},dependencies:[U.sg,Al],styles:[".hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.section-header[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;background-color:#f0f0f0}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:10px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.service-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:10px;padding:40px;width:calc(25% - 32px);box-sizing:border-box;position:relative;min-width:400px}.card-header[_ngcontent-%COMP%]{text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333}.card-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-top:4px}.card-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:gold}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}.services-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:30px;padding:30px}.services-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.services-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px;font-size:1rem}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}.add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.services-control[_ngcontent-%COMP%]{flex-direction:column}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}"]})}return y})();function Xd(y,h){1&y&&o._UZ(0,"app-offer-card",7),2&y&&o.Q6J("offer",h.$implicit)}let po=(()=>{class y{constructor(l,_){this.offersService=l,this.router=_,this.offers=[]}ngOnInit(){this.offersService.getOffers().subscribe(l=>{console.log(l),this.offers=l})}navigateToAddOffer(){this.router.navigate(["/add-offers"])}static#e=this.\u0275fac=function(_){return new(_||y)(o.Y36(Ls.b),o.Y36(jr.F0))};static#t=this.\u0275cmp=o.Xpm({type:y,selectors:[["app-offers"]],decls:12,vars:1,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"add-service-container"],[3,"click"],[1,"offer-list"],[3,"offer",4,"ngFor","ngForOf"],[3,"offer"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1"),o._uU(3,"De toate pentru to\u021bi"),o.qZA()(),o.TgZ(4,"div",2)(5,"h2"),o._uU(6,"Descoperi\u021bi oferte de membrii comunit\u0103\u021bii"),o.qZA()()(),o.TgZ(7,"div",3)(8,"button",4),o.NdJ("click",function(){return C.navigateToAddOffer()}),o._uU(9,"Adaugati oferta"),o.qZA()(),o.TgZ(10,"div",5),o.YNc(11,Xd,1,1,"app-offer-card",6),o.qZA()),2&_&&(o.xp6(11),o.Q6J("ngForOf",C.offers))},dependencies:[U.sg,Po],styles:[".hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(http://source.unsplash.com/800x600/?Seattle);background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.section-header[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;background-color:#f0f0f0}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:10px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.add-offer-container[_ngcontent-%COMP%], .add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}.offer-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;justify-content:center}.offers[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.offers-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.offers-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a;margin:15px;width:calc(25% - 32px);overflow:hidden;transition:transform .3s,box-shadow .3s;min-width:400px}.offers-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 12px 24px #0003}.offer-card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:180px;object-fit:cover}.offers-card-content[_ngcontent-%COMP%]{padding:20px;text-align:left}.offers-card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;font-size:22px;font-weight:600}.offers-card-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 10px;font-size:18px;color:#666;font-weight:400}.offers-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 10px;font-size:16px;color:#777}.offers-footer[_ngcontent-%COMP%]{text-align:right;margin-top:10px}.featured[_ngcontent-%COMP%]{color:#007bff;font-weight:700}@media (max-width: 1024px){.offer-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.offer-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}"]})}return y})();var cc=k(8779);function lc(y,h){if(1&y&&(o.TgZ(0,"option",30),o._uU(1),o.qZA()),2&y){const l=h.$implicit;o.Q6J("value",l),o.xp6(1),o.Oqu(l)}}function eh(y,h){if(1&y&&(o.TgZ(0,"option",30),o._uU(1),o.qZA()),2&y){const l=h.$implicit;o.Q6J("value",l),o.xp6(1),o.Oqu(l)}}function ss(y,h){if(1&y&&(o.TgZ(0,"option",30),o._uU(1),o.qZA()),2&y){const l=h.$implicit;o.Q6J("value",l),o.xp6(1),o.Oqu(l)}}function uc(y,h){if(1&y&&(o.TgZ(0,"div",31)(1,"h2"),o._uU(2),o.qZA(),o.TgZ(3,"label",32),o._uU(4,"Open:"),o.qZA(),o.TgZ(5,"select",33),o.YNc(6,eh,2,2,"option",8),o.qZA(),o.TgZ(7,"label",32),o._uU(8,"Close:"),o.qZA(),o.TgZ(9,"select",34),o.YNc(10,ss,2,2,"option",8),o.qZA()()),2&y){const l=h.$implicit,_=o.oxw();o.Q6J("formGroupName",l),o.xp6(2),o.Oqu(l),o.xp6(1),o.MGl("for","",l,"-open"),o.xp6(3),o.Q6J("ngForOf",_.hoursOptions),o.xp6(1),o.MGl("for","",l,"-close"),o.xp6(3),o.Q6J("ngForOf",_.hoursOptions)}}const th=function(){return["Luni","Marti","Miercuri","Joi","Vineri","Sambata","Duminica"]};let Kl=(()=>{class y{constructor(l,_,C,$){this.fb=l,this.servicesService=_,this.imageUploadService=C,this.router=$,this.serviceTypes=[],this.selectedFile=null,this.hoursOptions=["Closed","7:00 AM","8:00 AM","9:00 AM","10:00 AM","11:00 AM","12:00 PM","1:00 PM","2:00 PM","3:00 PM","4:00 PM","5:00 PM","6:00 PM","7:00 PM","8:00 PM","9:00 PM"],this.serviceForm=this.fb.group({Name:["",en.kI.required],Email:["",[en.kI.email]],Phone_Number:[""],Website:[""],Facebook:[""],Instagram:[""],Image:[""],Description:[""],Date_Created:[""],Community_Sponsor:[!1],Service_Type:["",en.kI.required],Hours:this.fb.group({Luni:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Marti:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Miercuri:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Joi:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Vineri:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Sambata:this.fb.group({open:["Closed"],close:["Closed"]}),Duminica:this.fb.group({open:["Closed"],close:["Closed"]})})})}ngOnInit(){this.fetchServiceTypes()}onFileSelected(l){this.selectedFile=l.target.files[0]}fetchServiceTypes(){this.servicesService.getAllServiceTypes().subscribe(l=>{this.serviceTypes=l})}onSubmit(){this.serviceForm.valid&&(this.selectedFile?this.imageUploadService.uploadImage(this.selectedFile,"serviceImages").subscribe(l=>{this.serviceForm.value.Image=l,console.log(l),this.saveService()}):this.saveService())}formatHours(l){for(const _ of Object.keys(l))""===l[_].open&&""===l[_].close&&(l[_]=null);return l}saveService(){this.servicesService.addService(this.serviceForm.value).subscribe(l=>{console.log("Service added successfully with ID:",l?.id),this.serviceForm.reset(),this.router.navigate(["/services",l?.id])})}static#e=this.\u0275fac=function(_){return new(_||y)(o.Y36(en.qu),o.Y36(ac.r),o.Y36(cc.K),o.Y36(jr.F0))};static#t=this.\u0275cmp=o.Xpm({type:y,selectors:[["app-add-service"]],decls:59,vars:5,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","Service_Type",1,"required"],["id","Service_Type","formControlName","Service_Type","required",""],[3,"value",4,"ngFor","ngForOf"],["for","Name",1,"required"],["id","Name","placeholder","Ion Dumitrescu","formControlName","Name","required",""],["for","Email"],["id","Email","type","Email","placeholder","info@website.com","formControlName","Email"],["for","Phone_Number"],["id","Phone_Number","type","text","placeholder","(425) 444-5555","formControlName","Phone_Number"],["for","Website"],["id","Website","type","text","placeholder","https://www.website.com","formControlName","Website"],["for","Facebook"],["id","Facebook","type","text","placeholder","https://www.facebook.com/yourname","formControlName","Facebook"],["for","Instagram"],["id","Instagram","type","text","placeholder","@instaHandle..","formControlName","Instagram"],["for","Description",1,"required"],["id","Description","formControlName","Description"],["for","Hours"],["formGroupName","Hours"],[1,"day-container"],["class","day",3,"formGroupName",4,"ngFor","ngForOf"],["for","Image"],["type","file","formControlName","Image",3,"change"],["type","submit",3,"disabled"],[3,"value"],[1,"day",3,"formGroupName"],[3,"for"],["formControlName","open"],["formControlName","close"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1"),o._uU(3,"Lista de Servicii"),o.qZA()(),o.TgZ(4,"div",2)(5,"h2"),o._uU(6,"Adaugati serviciile dumneavoastra pentru membrii comunit\u0103\u021bii"),o.qZA(),o._UZ(7,"p"),o.qZA()(),o.TgZ(8,"div",3)(9,"h2"),o._uU(10," Serviciile ad\u0103ugate prin aceast\u0103 pagin\u0103 sunt supuse aprob\u0103rii administratorului \xeenainte de a fi afi\u0219ate \xeen list\u0103."),o.qZA(),o.TgZ(11,"h3"),o._uU(12,"V\u0103 rug\u0103m s\u0103 introduce\u021bi cel pu\u021bin o metod\u0103 de contact."),o.qZA(),o.TgZ(13,"form",4),o.NdJ("ngSubmit",function(){return C.onSubmit()}),o.TgZ(14,"div",5)(15,"label",6),o._uU(16,"Categoria de serviciului:"),o.qZA(),o.TgZ(17,"select",7),o.YNc(18,lc,2,2,"option",8),o.qZA()(),o.TgZ(19,"div",5)(20,"label",9),o._uU(21,"Nume:"),o.qZA(),o._UZ(22,"input",10),o.qZA(),o.TgZ(23,"div",5)(24,"label",11),o._uU(25,"Adresa Email:"),o.qZA(),o._UZ(26,"input",12),o.qZA(),o.TgZ(27,"div",5)(28,"label",13),o._uU(29,"Numar de telefon:"),o.qZA(),o._UZ(30,"input",14),o.qZA(),o.TgZ(31,"div",5)(32,"label",15),o._uU(33,"Pagina Web:"),o.qZA(),o._UZ(34,"input",16),o.qZA(),o.TgZ(35,"div",5)(36,"label",17),o._uU(37,"Pagina Facebook:"),o.qZA(),o._UZ(38,"input",18),o.qZA(),o.TgZ(39,"div",5)(40,"label",19),o._uU(41,"Instagram:(@cont_de_instagram)"),o.qZA(),o._UZ(42,"input",20),o.qZA(),o.TgZ(43,"div",5)(44,"label",21),o._uU(45,"Descriere a serviciile oferite:"),o.qZA(),o._UZ(46,"textarea",22),o.qZA(),o.TgZ(47,"div",5)(48,"label",23),o._uU(49,"Orele de contactare:"),o.qZA(),o.TgZ(50,"div",24)(51,"div",25),o.YNc(52,uc,11,6,"div",26),o.qZA()()(),o.TgZ(53,"div",5)(54,"label",27),o._uU(55,"Imagine:"),o.qZA(),o.TgZ(56,"input",28),o.NdJ("change",function(pe){return C.onFileSelected(pe)}),o.qZA()(),o.TgZ(57,"button",29),o._uU(58,"Adaugati Serviciul"),o.qZA()()()),2&_&&(o.xp6(13),o.Q6J("formGroup",C.serviceForm),o.xp6(5),o.Q6J("ngForOf",C.serviceTypes),o.xp6(34),o.Q6J("ngForOf",o.DdM(4,th)),o.xp6(5),o.Q6J("disabled",C.serviceForm.invalid))},dependencies:[U.sg,en._Y,en.YN,en.Kr,en.Fj,en.EJ,en.JJ,en.JL,en.Q7,en.sg,en.u,en.x0],styles:['.hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.form-container[_ngcontent-%COMP%]{max-width:600px;margin:50px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.day-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.day[_ngcontent-%COMP%]{width:20%;padding:10px;box-sizing:border-box}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;border:none;padding:10px 20px;font-size:16px;border-radius:5px;cursor:pointer;margin:10px 0;transition:background-color .3s ease}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}']})}return y})(),Bc=(()=>{class y{constructor(l,_){this.fb=l,this.eventsService=_,this.eventForm=this.fb.group({Approved:[""],Community_Sponsor:[""],Contact:[""],Description:["",en.kI.required],Event_date:["",en.kI.required],Location:["",en.kI.required],Name:["",en.kI.required],Phone_Number:[""],Poster_Image:["",en.kI.required],Price:["",en.kI.required],Website:[""]})}ngOnInit(){}onSubmit(){this.eventForm.valid&&this.eventsService.addEvent(this.eventForm.value).then(()=>{console.log("Event added successfully"),this.eventForm.reset()}).catch(_=>{console.error("Error adding event: ",_)})}static#e=this.\u0275fac=function(_){return new(_||y)(o.Y36(en.qu),o.Y36(vl.n))};static#t=this.\u0275cmp=o.Xpm({type:y,selectors:[["app-add-event"]],decls:52,vars:2,consts:[[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","Name",1,"required"],["id","Name","formControlName","Name","required","","placeholder","Titlul Evenimentului"],["for","Contact"],["id","Contact","formControlName","Contact","required","","placeholder","Numele persoanei de contact:"],["for","Poster_Image",1,"required"],["id","Poster_Image","formControlName","Poster_Image","required",""],["for","Phone_Number"],["id","Phone_Number","formControlName","Phone_Number","placeholder","425 555 5555"],["for","Event_date",1,"required"],["id","Event_date","type","date","formControlName","Event_date","required",""],["for","Location",1,"required"],["id","Location","formControlName","Location","required","","placeholder","Locatie"],["for","Description",1,"required"],["id","Description","formControlName","Description","required","","placeholder","Detalii"],["for","Price",1,"required"],["id","Price","formControlName","Price","required","","placeholder","5"],["for","Website"],["id","Website","formControlName","Website","placeholder","Pagina de Web"],["for","Facebook"],["type","text","id","Facebook","formControlName","Facebook","placeholder","Adresa de Facebook"],["for","Instagram"],["type","text","id","Instagram","formControlName","Instagram","placeholder","@instaHandle.."],["type","submit",3,"disabled"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0)(1,"h2"),o._uU(2," Evenimetele ad\u0103ugate prin aceast\u0103 pagin\u0103 sunt supuse aprob\u0103rii administratorului \xeenainte de a fi afi\u0219ate \xeen list\u0103."),o.qZA(),o.TgZ(3,"h3"),o._uU(4,"V\u0103 rug\u0103m s\u0103 introduce\u021bi cel pu\u021bin o metod\u0103 de contact."),o.qZA(),o.TgZ(5,"form",1),o.NdJ("ngSubmit",function(){return C.onSubmit()}),o.TgZ(6,"div",2)(7,"label",3),o._uU(8,"Titlu:"),o.qZA(),o._UZ(9,"input",4),o.qZA(),o.TgZ(10,"div",2)(11,"label",5),o._uU(12,"Numele persoanei de contact:"),o.qZA(),o._UZ(13,"input",6),o.qZA(),o.TgZ(14,"div",2)(15,"label",7),o._uU(16,"Imagine poster:"),o.qZA(),o._UZ(17,"input",8),o.qZA(),o.TgZ(18,"div",2)(19,"label",9),o._uU(20,"Numar de Telefon:"),o.qZA(),o._UZ(21,"input",10),o.qZA(),o.TgZ(22,"div",2)(23,"label",11),o._uU(24,"Data Evenimentului:"),o.qZA(),o._UZ(25,"input",12),o.qZA(),o.TgZ(26,"div",2)(27,"label",13),o._uU(28,"Locatie:"),o.qZA(),o._UZ(29,"input",14),o.qZA(),o.TgZ(30,"div",2)(31,"label",15),o._uU(32,"Descriere:"),o.qZA(),o._UZ(33,"textarea",16),o.qZA(),o.TgZ(34,"div",2)(35,"label",17),o._uU(36,"Pret:"),o.qZA(),o._UZ(37,"input",18),o.qZA(),o.TgZ(38,"div",2)(39,"label",19),o._uU(40,"Website:"),o.qZA(),o._UZ(41,"input",20),o.qZA(),o.TgZ(42,"div",2)(43,"label",21),o._uU(44,"Adresa de Facebook:"),o.qZA(),o._UZ(45,"input",22),o.qZA(),o.TgZ(46,"div",2)(47,"label",23),o._uU(48,"Instagram:(@cont_de_instagram)"),o.qZA(),o._UZ(49,"input",24),o.qZA(),o.TgZ(50,"button",25),o._uU(51,"Adauga Eveniment"),o.qZA()()()),2&_&&(o.xp6(5),o.Q6J("formGroup",C.eventForm),o.xp6(45),o.Q6J("disabled",C.eventForm.invalid))},dependencies:[en._Y,en.Fj,en.JJ,en.JL,en.Q7,en.sg,en.u],styles:['.form-container[_ngcontent-%COMP%]{max-width:600px;margin:100px auto 0;padding:50px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;color:#fff;border:none;border-radius:4px;cursor:pointer}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}']})}return y})();var jc=k(5861),ef=k(8963),nh=k.n(ef);function yp(y,h){if(1&y&&(o.TgZ(0,"option",33),o._uU(1),o.qZA()),2&y){const l=h.$implicit;o.Q6J("value",l),o.xp6(1),o.Oqu(l)}}function vs(y,h){if(1&y&&(o.TgZ(0,"div",38),o._UZ(1,"div",39),o.qZA()),2&y){const l=o.oxw().$implicit;o.xp6(1),o.Udp("width",l.progress,"%")}}function qu(y,h){if(1&y){const l=o.EpF();o.TgZ(0,"div",34),o._UZ(1,"img",35),o.YNc(2,vs,2,2,"div",36),o.TgZ(3,"button",37),o.NdJ("click",function(){const $=o.CHM(l).$implicit,pe=o.oxw();return o.KtG(pe.removeImage($))}),o._uU(4,"X"),o.qZA()()}if(2&y){const l=h.$implicit;o.xp6(1),o.s9C("alt",l.name),o.Q6J("src",l.url,o.LSH),o.xp6(1),o.Q6J("ngIf",void 0!==l.progress)}}let Hc=(()=>{class y{constructor(l,_,C,$){this.fb=l,this.offersService=_,this.imageUploadService=C,this.router=$,this.offerTypes=[],this.images=[],this.imageUploadStatus={},this.offerId="",this.offer={Title:"",Company_Name:"",Contact_Name:"",Phone_Number:"",Email:"",Description:"",Price:"",Location:"",Website:"",OfferType:"",Community_Sponsor:!1,Date_Created:"",Date_Updated:"",Hours:{},Images:[],id:"",Facebook:"",Instagram:"",Filled:!1,Approved:!1,ApprovedDate:""},this.offerForm=this.fb.group({Title:["",en.kI.required],Company_Name:[""],Contact_Name:["",en.kI.required],Phone_Number:[""],Email:["",[en.kI.email]],Location:[""],Website:[""],Facebook:[""],Instagram:[""],Description:["",en.kI.required],Price:[""],Images:[],Filled:!1,Date_Created:[""],ApprovedDate:[""],OfferType:[""],Community_Sponsor:!1})}ngOnInit(){this.fetchOfferTypes(),this.offerId=this.offersService.generateOfferId()}onFileSelected(l){var _=this;return(0,jc.Z)(function*(){const C=l.target.files;for(let $=0;$<C.length;$++){const pe=C[$],Oe=yield _.resizeImage(pe);_.imageUploadStatus[pe.name]="Uploading...";const mt={name:pe.name,url:"",file:pe,progress:0};_.images.push(mt),_.imageUploadService.uploadOfferImage(Oe,_.offerId).subscribe({next:St=>{"string"==typeof St?(mt.url=St,_.offer.Images.push(St),_.imageUploadStatus[pe.name]="Uploaded"):mt.progress=St},error:St=>{console.error("Image upload failed: ",St),_.imageUploadStatus[pe.name]="Failed to upload"}})}})()}removeImage(l){this.images=this.images.filter(_=>_!==l),this.offer.Images=this.offer.Images.filter(_=>_!==l.url),this.imageUploadService.deleteOfferImage(l.url).subscribe(()=>{this.offersService.updateOffer(this.offerId,this.offer).subscribe()})}fetchOfferTypes(){this.offersService.getAllOfferTypes().subscribe(l=>{this.offerTypes=l})}onSubmit(){this.offerForm.valid&&(this.offer.Title=this.offerForm.value.Title,this.offer.Phone_Number=this.offerForm.value.Phone_Number,this.offer.Price=this.offerForm.value.Price,this.offer.Community_Sponsor=this.offerForm.value.Community_Sponsor,this.offer.Company_Name=this.offerForm.value.Company_Name,this.offer.Contact_Name=this.offerForm.value.Contact_Name,this.offer.Website=this.offerForm.value.Website,this.offer.Email=this.offerForm.value.Email,this.offer.Location=this.offerForm.value.Location,this.offer.OfferType=this.offerForm.value.OfferType,this.offer.Description=this.offerForm.value.Description,this.offer.Date_Created=(new Date).toISOString(),this.offer.Date_Updated=(new Date).toISOString(),this.offersService.addOfferWithId(this.offer,this.offerId).subscribe(()=>{this.router.navigate(["/offers"])}))}resizeImage(l){return(0,jc.Z)(function*(){const _=nh()(),C=new Image;return C.src=URL.createObjectURL(l),new Promise(($,pe)=>{C.onload=(0,jc.Z)(function*(){const Oe=document.createElement("canvas"),ln=(Oe.getContext("2d"),Math.min(1024/C.width,1024/C.height));Oe.width=C.width*ln,Oe.height=C.height*ln;try{yield _.resize(C,Oe),Oe.toBlob(Cn=>{if(Cn){const Cr=new File([Cn],l.name,{type:l.type});$(Cr)}else pe(new Error("Image resizing failed"))},l.type)}catch(Cn){pe(Cn)}}),C.onerror=Oe=>pe(Oe)})})()}static#e=this.\u0275fac=function(_){return new(_||y)(o.Y36(en.qu),o.Y36(Ls.b),o.Y36(cc.K),o.Y36(jr.F0))};static#t=this.\u0275cmp=o.Xpm({type:y,selectors:[["app-add-offers"]],decls:63,vars:4,consts:[[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","OfferType"],["id","OfferType","id","OfferType","formControlName","OfferType","required","",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","Title",1,"required"],["type","text","id","Title","formControlName","Title","required","","placeholder","Titlu"],["for","Company_Name"],["type","text","id","Company_Name","formControlName","Company_Name","required","","placeholder","Numele Companiei"],["for","Contact_Name",1,"required"],["type","text","id","Contact_Name","formControlName","Contact_Name","required","","placeholder","Persoana de contact"],["for","Phone_Number"],["type","text","id","Phone_Number","formControlName","Phone_Number","placeholder","Numar de telefon"],["for","Email",1,"required"],["type","email","id","Email","formControlName","Email","required","","placeholder","Adresa de Email"],["for","Facebook"],["type","text","id","Facebook","formControlName","Facebook","placeholder","Adresa de Facebook"],["for","Instagram"],["type","text","id","Instagram","formControlName","Instagram","placeholder","@instaHandle.."],["for","Description",1,"required"],["id","Description","formControlName","Description","required","","placeholder","Descriere"],["for","Price"],["type","text","id","Price","formControlName","Price","placeholder","Pret"],["for","Location"],["type","text","id","Location","formControlName","Location","placeholder","Locatie"],["for","Website"],["type","url","id","Website","formControlName","Website","placeholder","Pagina de Web"],["for","Images"],["id","Images","type","file","multiple","",1,"form-control-file",3,"change"],[1,"image-preview-container"],["class","image-preview",4,"ngFor","ngForOf"],["type","submit",3,"disabled"],[3,"value"],[1,"image-preview"],[1,"img-thumbnail",3,"src","alt"],["class","progress",4,"ngIf"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"progress"],[1,"progress-bar"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0)(1,"h2"),o._uU(2," Ofertele ad\u0103ugate prin aceast\u0103 pagin\u0103 sunt supuse aprob\u0103rii administratorului \xeenainte de a fi afi\u0219ate \xeen list\u0103."),o.qZA(),o.TgZ(3,"h3"),o._uU(4,"V\u0103 rug\u0103m s\u0103 introduce\u021bi cel pu\u021bin o metod\u0103 de contact."),o.qZA(),o.TgZ(5,"form",1),o.NdJ("ngSubmit",function(){return C.onSubmit()}),o.TgZ(6,"div",2)(7,"label",3),o._uU(8,"Tip de oferta"),o.qZA(),o.TgZ(9,"select",4),o.YNc(10,yp,2,2,"option",5),o.qZA()(),o.TgZ(11,"div",2)(12,"label",6),o._uU(13,"Titlu:"),o.qZA(),o._UZ(14,"input",7),o.qZA(),o.TgZ(15,"div",2)(16,"label",8),o._uU(17,"Numele Companiei:"),o.qZA(),o._UZ(18,"input",9),o.qZA(),o.TgZ(19,"div",2)(20,"label",10),o._uU(21,"Numele persoanei de contact:"),o.qZA(),o._UZ(22,"input",11),o.qZA(),o.TgZ(23,"div",2)(24,"label",12),o._uU(25,"Numar de telefon:"),o.qZA(),o._UZ(26,"input",13),o.qZA(),o.TgZ(27,"div",2)(28,"label",14),o._uU(29,"Adresa de Email:"),o.qZA(),o._UZ(30,"input",15),o.qZA(),o.TgZ(31,"div",2)(32,"label",16),o._uU(33,"Adresa de Facebook:"),o.qZA(),o._UZ(34,"input",17),o.qZA(),o.TgZ(35,"div",2)(36,"label",18),o._uU(37,"Instagram:(@cont_de_instagram)"),o.qZA(),o._UZ(38,"input",19),o.qZA(),o.TgZ(39,"div",2)(40,"label",20),o._uU(41,"Descriere:"),o.qZA(),o._UZ(42,"textarea",21),o.qZA(),o.TgZ(43,"div",2)(44,"label",22),o._uU(45,"Pret:"),o.qZA(),o._UZ(46,"input",23),o.qZA(),o.TgZ(47,"div",2)(48,"label",24),o._uU(49,"Locatie:"),o.qZA(),o._UZ(50,"input",25),o.qZA(),o.TgZ(51,"div",2)(52,"label",26),o._uU(53,"Website:"),o.qZA(),o._UZ(54,"input",27),o.qZA(),o.TgZ(55,"div",2)(56,"label",28),o._uU(57,"Images"),o.qZA(),o.TgZ(58,"input",29),o.NdJ("change",function(pe){return C.onFileSelected(pe)}),o.qZA(),o.TgZ(59,"div",30),o.YNc(60,qu,5,3,"div",31),o.qZA()(),o.TgZ(61,"button",32),o._uU(62,"Adauga Oferta"),o.qZA()()()),2&_&&(o.xp6(5),o.Q6J("formGroup",C.offerForm),o.xp6(5),o.Q6J("ngForOf",C.offerTypes),o.xp6(50),o.Q6J("ngForOf",C.images),o.xp6(1),o.Q6J("disabled",C.offerForm.invalid))},dependencies:[U.sg,U.O5,en._Y,en.YN,en.Kr,en.Fj,en.EJ,en.JJ,en.JL,en.Q7,en.sg,en.u],styles:['.form-container[_ngcontent-%COMP%]{max-width:600px;margin:100px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;color:#fff;border:none;border-radius:4px;cursor:pointer;background-color:var(--button-color)}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}.offer-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.offer-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em;margin:0}.company-name[_ngcontent-%COMP%]{font-size:1.2em;color:#555}.contact-name[_ngcontent-%COMP%], .contact-info[_ngcontent-%COMP%], .location[_ngcontent-%COMP%]{font-size:1em;color:#777}.offer-images[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;margin-bottom:20px}.offer-thumbnail[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:cover;border-radius:5px;box-shadow:0 0 10px #0000001a}.offer-details[_ngcontent-%COMP%]{text-align:left}.description[_ngcontent-%COMP%]{font-size:1.2em;margin-bottom:15px}.price[_ngcontent-%COMP%]{font-size:1.1em;font-weight:700;margin-bottom:10px}.website[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.website[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.offer-type[_ngcontent-%COMP%], .date-created[_ngcontent-%COMP%], .date-updated[_ngcontent-%COMP%]{font-size:.9em;color:#555;margin-bottom:5px}@media (max-width: 600px){.offer-container[_ngcontent-%COMP%]{padding:15px}.offer-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5em}.company-name[_ngcontent-%COMP%], .contact-name[_ngcontent-%COMP%], .contact-info[_ngcontent-%COMP%], .location[_ngcontent-%COMP%], .description[_ngcontent-%COMP%], .price[_ngcontent-%COMP%], .offer-type[_ngcontent-%COMP%], .date-created[_ngcontent-%COMP%], .date-updated[_ngcontent-%COMP%]{font-size:1em}.offer-thumbnail[_ngcontent-%COMP%]{width:80px;height:80px}}.image-preview[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.image-preview[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:relative;margin-right:10px;margin-bottom:10px}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100px;max-height:100px;border-radius:4px;border:1px solid #ddd}.image-preview[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:0;right:0;background:rgba(0,0,0,.5);color:#fff;border:none;border-radius:50%;padding:5px;cursor:pointer}']})}return y})();class Ql{constructor(){this.Name="",this.Phone_Number="",this.Email="",this.Description="",this.Website="",this.Facebook="",this.Instagram="",this.Date_Created="",this.Date_Updated="",this.Image="",this.Approved=!1,this.OpenHour="",this.CloseHour="",this.Hours={}}}class Aa extends Ql{constructor(){super(...arguments),this.id=""}}function Yl(y,h){if(1&y&&(o.TgZ(0,"option",35),o._uU(1),o.qZA()),2&y){const l=h.$implicit;o.Q6J("value",l),o.xp6(1),o.Oqu(l)}}function Wu(y,h){if(1&y&&(o.TgZ(0,"option",35),o._uU(1),o.qZA()),2&y){const l=h.$implicit;o.Q6J("value",l),o.xp6(1),o.Oqu(l)}}function Ku(y,h){if(1&y&&(o.TgZ(0,"option",35),o._uU(1),o.qZA()),2&y){const l=h.$implicit;o.Q6J("value",l),o.xp6(1),o.Oqu(l)}}function tf(y,h){if(1&y&&(o.TgZ(0,"div",36)(1,"h2"),o._uU(2),o.qZA(),o.TgZ(3,"label",37),o._uU(4,"Open:"),o.qZA(),o.TgZ(5,"select",38),o.YNc(6,Wu,2,2,"option",8),o.qZA(),o.TgZ(7,"label",37),o._uU(8,"Close:"),o.qZA(),o.TgZ(9,"select",39),o.YNc(10,Ku,2,2,"option",8),o.qZA()()),2&y){const l=h.$implicit,_=o.oxw();o.Q6J("formGroupName",l),o.xp6(2),o.Oqu(l),o.xp6(1),o.MGl("for","",l,"-open"),o.xp6(3),o.Q6J("ngForOf",_.hoursOptions),o.xp6(1),o.MGl("for","",l,"-close"),o.xp6(3),o.Q6J("ngForOf",_.hoursOptions)}}const rh=function(){return["Luni","Marti","Miercuri","Joi","Vineri","Sambata","Duminica"]};let Ep=(()=>{class y{constructor(l,_,C,$,pe){this.fb=l,this.route=_,this.router=C,this.servicesService=$,this.imageUploadService=pe,this.serviceId=null,this.serviceTypes=[],this.selectedFile=null,this.serviceObj=new Aa,this.oldImage=null,this.hoursOptions=["Closed","7:00 AM","8:00 AM","9:00 AM","10:00 AM","11:00 AM","12:00 PM","1:00 PM","2:00 PM","3:00 PM","4:00 PM","5:00 PM","6:00 PM","7:00 PM","8:00 PM","9:00 PM"],this.serviceForm=this.fb.group({Name:["",en.kI.required],Email:["",[en.kI.email]],Phone_Number:[""],Website:[""],Facebook:[""],Instagram:[""],Image:[""],Description:[""],Date_Created:[""],Community_Sponsor:[!1],Service_Type:["",en.kI.required],Hours:this.fb.group({Luni:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Marti:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Miercuri:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Joi:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Vineri:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Sambata:this.fb.group({open:["Closed"],close:["Closed"]}),Duminica:this.fb.group({open:["Closed"],close:["Closed"]})})})}onFileSelected(l){this.selectedFile=l.target.files[0]}ngOnInit(){this.serviceId=this.route.snapshot.paramMap.get("id"),console.log(this.serviceId),this.servicesService.getServiceById(this.serviceId).subscribe(l=>{this.serviceForm.patchValue({Id:this.serviceId,Name:l?.Name,Email:l?.Email?l.Email:"",Phone_Number:l?.Phone_Number?l.Phone_Number:"",Service_Type:l?.Service_Type,Website:l?.Website?l.Website:"",Facebook:l?.Facebook?l?.Facebook:"",Instagram:l?.Instagram?l?.Instagram:"",Description:l?.Description,Date_Created:l?.Date_Created,Date_Updated:l?.Date_Updated,Approved:!0,Hours:l?.Hours}),console.log(this.serviceForm.value),l?.Image&&(this.oldImage=l?.Image)}),this.fetchServiceTypes()}fetchServiceTypes(){this.servicesService.getAllServiceTypes().subscribe(l=>{this.serviceTypes=l})}onSubmit(){this.serviceForm.valid&&(this.serviceObj.id=this.serviceId?this.serviceId:"0",this.serviceObj.Name=this.serviceForm.value.Name,this.serviceObj.Phone_Number=this.serviceForm.value.Phone_Number,this.serviceObj.Service_Type=this.serviceForm.value.Service_Type,this.serviceObj.Community_Sponsor=!1,this.serviceObj.Email=this.serviceForm.value.Email,this.serviceObj.Website=this.serviceForm.value.Website,this.serviceObj.Facebook=this.serviceForm.value.Facebook,this.serviceObj.Instagram=this.serviceForm.value.Instagram,this.serviceObj.Description=this.serviceForm.value.Description,this.serviceObj.Date_Created=this.serviceForm.value.Date_Created,this.serviceObj.Date_Updated=this.serviceForm.value.Date_Updated,this.serviceObj.Image=this.serviceForm.value.Image,this.serviceObj.Hours=this.serviceForm.value.Hours,this.selectedFile?(console.log(this.selectedFile),this.imageUploadService.uploadImage(this.selectedFile,"serviceImages").subscribe(l=>{this.serviceObj.Image=l,this.saveService()})):(this.oldImage&&(this.serviceObj.Image=this.oldImage),this.saveService()))}saveService(){let l=this.route.snapshot.paramMap.get("id");this.servicesService.updateService(l,this.serviceObj).subscribe(_=>{console.log("Service updated successfully  ID:",_?.id),this.serviceForm.reset(),this.router.navigate(["/services",_?.id])})}static#e=this.\u0275fac=function(_){return new(_||y)(o.Y36(en.qu),o.Y36(jr.gz),o.Y36(jr.F0),o.Y36(ac.r),o.Y36(cc.K))};static#t=this.\u0275cmp=o.Xpm({type:y,selectors:[["app-edit-services"]],decls:61,vars:6,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","Service_Type",1,"required"],["id","Service_Type","formControlName","Service_Type","required",""],[3,"value",4,"ngFor","ngForOf"],["for","Name",1,"required"],["id","Name","placeholder","Ion Dumitrescu","formControlName","Name","required",""],["for","Email"],["id","Email","type","Email","placeholder","info@website.com","formControlName","Email"],["for","Phone_Number"],["id","Phone_Number","type","text","placeholder","(425) 444-5555","formControlName","Phone_Number"],["for","Website"],["id","Website","type","text","placeholder","https://www.website.com","formControlName","Website"],["for","Facebook"],["id","Facebook","type","text","placeholder","https://www.facebook.com/yourname","formControlName","Facebook"],["for","Instagram"],["id","Instagram","type","text","placeholder","@instaHandle..","formControlName","Instagram"],["for","Description",1,"required"],["id","Description","formControlName","Description"],["for","Hours"],["formGroupName","Hours"],[1,"day-container"],["class","day",3,"formGroupName",4,"ngFor","ngForOf"],["for","Image"],[1,"service-card-image-container"],[1,"service-card-image",3,"src"],["type","file","formControlName","Image",3,"change"],["type","submit",3,"disabled"],[2,"display","none"],["for","Approved"],["id","Approved","formControlName","Approved"],[3,"value"],[1,"day",3,"formGroupName"],[3,"for"],["formControlName","open"],["formControlName","close"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1"),o._uU(3,"Lista de Servicii"),o.qZA()(),o.TgZ(4,"div",2)(5,"h2"),o._uU(6,"Adaugati serviciile oferite pentru membrii comunit\u0103\u021bii"),o.qZA()()(),o.TgZ(7,"div",3)(8,"form",4),o.NdJ("ngSubmit",function(){return C.onSubmit()}),o.TgZ(9,"div",5)(10,"label",6),o._uU(11,"Categoria de serviciului:"),o.qZA(),o.TgZ(12,"select",7),o.YNc(13,Yl,2,2,"option",8),o.qZA()(),o.TgZ(14,"div",5)(15,"label",9),o._uU(16,"Nume:"),o.qZA(),o._UZ(17,"input",10),o.qZA(),o.TgZ(18,"div",5)(19,"label",11),o._uU(20,"Adresa Email:"),o.qZA(),o._UZ(21,"input",12),o.qZA(),o.TgZ(22,"div",5)(23,"label",13),o._uU(24,"Numar de telefon:"),o.qZA(),o._UZ(25,"input",14),o.qZA(),o.TgZ(26,"div",5)(27,"label",15),o._uU(28,"Pagina Web:"),o.qZA(),o._UZ(29,"input",16),o.qZA(),o.TgZ(30,"div",5)(31,"label",17),o._uU(32,"Pagina Facebook:"),o.qZA(),o._UZ(33,"input",18),o.qZA(),o.TgZ(34,"div",5)(35,"label",19),o._uU(36,"Instagram:(@cont_de_instagram)"),o.qZA(),o._UZ(37,"input",20),o.qZA(),o.TgZ(38,"div",5)(39,"label",21),o._uU(40,"Descriere a serviciile oferite:"),o.qZA(),o._UZ(41,"textarea",22),o.qZA(),o.TgZ(42,"div",5)(43,"label",23),o._uU(44,"Orele de contactare:"),o.qZA(),o.TgZ(45,"div",24)(46,"div",25),o.YNc(47,tf,11,6,"div",26),o.qZA()()(),o.TgZ(48,"div",5)(49,"label",27),o._uU(50,"Imagine:"),o.qZA(),o.TgZ(51,"div",28),o._UZ(52,"img",29),o.qZA(),o.TgZ(53,"input",30),o.NdJ("change",function(pe){return C.onFileSelected(pe)}),o.qZA()(),o.TgZ(54,"button",31),o._uU(55,"Salveaza Serviciu"),o.qZA(),o.TgZ(56,"div",32)(57,"div")(58,"label",33),o._uU(59,"Approved:"),o.qZA(),o._UZ(60,"input",34),o.qZA()()()()),2&_&&(o.xp6(8),o.Q6J("formGroup",C.serviceForm),o.xp6(5),o.Q6J("ngForOf",C.serviceTypes),o.xp6(34),o.Q6J("ngForOf",o.DdM(5,rh)),o.xp6(5),o.Q6J("src",C.oldImage,o.LSH),o.xp6(2),o.Q6J("disabled",C.serviceForm.invalid))},dependencies:[U.sg,en._Y,en.YN,en.Kr,en.Fj,en.EJ,en.JJ,en.JL,en.Q7,en.sg,en.u,en.x0],styles:['.hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.form-container[_ngcontent-%COMP%]{max-width:600px;margin:50px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.day-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.day[_ngcontent-%COMP%]{width:20%;padding:10px;box-sizing:border-box}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;border:none;padding:10px 20px;font-size:16px;border-radius:5px;cursor:pointer;margin:10px 0;transition:background-color .3s ease}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}button[_ngcontent-%COMP%]:hover, select[_ngcontent-%COMP%]:hover{background-color:#0056b3}button[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #007bff40}.service-card-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.service-card-image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover;border:2px solid #ddd}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}']})}return y})();var zc=k(2380),bl=k(4626);function nf(y,h){if(1&y&&(o.TgZ(0,"div",18),o._UZ(1,"img",19),o.qZA()),2&y){const l=h.$implicit,_=h.index,C=o.oxw();o.ekj("active",_===C.currentIndex),o.xp6(1),o.MGl("alt","Offer Image ",_+1,""),o.Q6J("src",l,o.LSH)}}function $c(y,h){if(1&y&&(o.TgZ(0,"div",20)(1,"strong"),o._uU(2,"Creata pe data de:"),o.qZA(),o._uU(3),o.ALo(4,"date"),o._UZ(5,"br"),o.TgZ(6,"strong"),o._uU(7,"Modificata pe data de:"),o.qZA(),o._uU(8),o.ALo(9,"date"),o.qZA()),2&y){const l=o.oxw();o.xp6(3),o.hij(" ",o.xi3(4,2,null==l.offer?null:l.offer.Date_Created,"shortDate"),""),o.xp6(5),o.hij(" ",o.xi3(9,5,null==l.offer?null:l.offer.Date_Updated,"shortDate")," ")}}let ih=(()=>{class y{constructor(l,_,C,$){this.route=l,this.router=_,this.offerService=C,this.authService=$,this.images=[],this.currentIndex=0,this.isLoggedIn$=this.authService.isLoggedIn()}ngOnInit(){const l=this.route.snapshot.paramMap.get("id");l&&this.offerService.getOfferById(l).subscribe(_=>{this.offer=_,this.offer&&this.offer.Images&&(this.images=this.offer.Images.filter(C=>!!C)),this.initCarousel()})}goBack(){this.router.navigate(["/offers"])}initCarousel(){setTimeout(()=>{const l=document.querySelectorAll(".carousel-item");l.length>0&&l[0].classList.add("active")},0)}prevSlide(){this.images.length&&(this.currentIndex=this.currentIndex>0?this.currentIndex-1:this.images.length-1,this.updateSlide())}nextSlide(){this.images.length&&(this.currentIndex=(this.currentIndex+1)%this.images.length,this.updateSlide())}updateSlide(){document.querySelectorAll(".carousel-item").forEach((_,C)=>{_.classList.toggle("active",C===this.currentIndex)})}static#e=this.\u0275fac=function(_){return new(_||y)(o.Y36(jr.gz),o.Y36(jr.F0),o.Y36(Ls.b),o.Y36(bl.e))};static#t=this.\u0275cmp=o.Xpm({type:y,selectors:[["app-offer-detail"]],decls:69,vars:21,consts:[[1,"offer-details-container"],[1,"offer-header"],[1,"offer-company"],[1,"offer-carousel-container"],[1,"carousel"],[1,"carousel-inner"],["class","carousel-item",3,"active",4,"ngFor","ngForOf"],[1,"carousel-control","prev",3,"click"],[1,"carousel-control","next",3,"click"],[1,"offer-content"],[1,"offer-info"],["target","_blank",3,"href"],[3,"innerHTML"],[1,"offer-description"],[1,"offer-hours"],[1,"offer-sponsor"],["class","offer-dates",4,"ngIf"],[1,"return-button",3,"click"],[1,"carousel-item"],[3,"src","alt"],[1,"offer-dates"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1"),o._uU(3),o.qZA(),o.TgZ(4,"div",2)(5,"strong"),o._uU(6,"Compania:"),o.qZA(),o._uU(7),o.qZA()(),o.TgZ(8,"div",3)(9,"div",4)(10,"div",5),o.YNc(11,nf,2,4,"div",6),o.qZA(),o.TgZ(12,"a",7),o.NdJ("click",function(){return C.prevSlide()}),o._uU(13,"\u276e"),o.qZA(),o.TgZ(14,"a",8),o.NdJ("click",function(){return C.nextSlide()}),o._uU(15,"\u276f"),o.qZA()()(),o.TgZ(16,"div",9)(17,"div",10)(18,"div")(19,"strong"),o._uU(20,"Persoana de contact:"),o.qZA(),o._uU(21),o.qZA(),o.TgZ(22,"div")(23,"strong"),o._uU(24,"Numar de telefon:"),o.qZA(),o._uU(25),o.qZA(),o.TgZ(26,"div")(27,"strong"),o._uU(28,"Adresa de Email:"),o.qZA(),o._uU(29),o.qZA(),o.TgZ(30,"div")(31,"strong"),o._uU(32,"Pagina Web:"),o.qZA(),o.TgZ(33,"a",11),o._uU(34),o.qZA()(),o.TgZ(35,"div")(36,"strong"),o._uU(37,"Facebook:"),o.qZA(),o._UZ(38,"span",12),o.ALo(39,"urlHelper"),o.qZA(),o.TgZ(40,"div")(41,"strong"),o._uU(42,"Instagram:"),o.qZA(),o._UZ(43,"span",12),o.ALo(44,"instagramHandle"),o.qZA(),o.TgZ(45,"div")(46,"strong"),o._uU(47,"Locatie:"),o.qZA(),o._uU(48),o.qZA(),o.TgZ(49,"div")(50,"strong"),o._uU(51,"Tip de oferta:"),o.qZA(),o._uU(52),o.qZA()(),o.TgZ(53,"div",13)(54,"strong"),o._uU(55,"Detalii:"),o.qZA(),o._uU(56),o.qZA(),o.TgZ(57,"div",14)(58,"strong"),o._uU(59,"Ore:"),o.qZA(),o._UZ(60,"ul"),o.qZA(),o.TgZ(61,"div",15)(62,"strong"),o._uU(63,"Sponsor:"),o.qZA(),o._uU(64),o.qZA(),o.YNc(65,$c,10,8,"div",16),o.ALo(66,"async"),o.TgZ(67,"button",17),o.NdJ("click",function(){return C.goBack()}),o._uU(68,"Inapoi la Oferte"),o.qZA()()()),2&_&&(o.xp6(3),o.Oqu(null==C.offer?null:C.offer.Title),o.xp6(4),o.hij(" ",null==C.offer?null:C.offer.Company_Name," "),o.xp6(4),o.Q6J("ngForOf",C.images),o.xp6(10),o.hij(" ",null==C.offer?null:C.offer.Contact_Name,""),o.xp6(4),o.hij(" ",null==C.offer?null:C.offer.Phone_Number,""),o.xp6(4),o.hij(" ",null==C.offer?null:C.offer.Email,""),o.xp6(4),o.Q6J("href",null==C.offer?null:C.offer.Website,o.LSH),o.xp6(1),o.Oqu(null==C.offer?null:C.offer.Website),o.xp6(4),o.Q6J("innerHTML",o.lcZ(39,15,null==C.offer?null:C.offer.Facebook),o.oJD),o.xp6(5),o.Q6J("innerHTML",o.lcZ(44,17,null==C.offer?null:C.offer.Instagram),o.oJD),o.xp6(5),o.hij(" ",null==C.offer?null:C.offer.Location,""),o.xp6(4),o.hij(" ",null==C.offer?null:C.offer.OfferType,""),o.xp6(4),o.hij(" ",null==C.offer?null:C.offer.Description," "),o.xp6(8),o.hij(" ",null!=C.offer&&C.offer.Community_Sponsor?"Yes":"No"," "),o.xp6(1),o.Q6J("ngIf",o.lcZ(66,19,C.isLoggedIn$)))},dependencies:[U.sg,U.O5,U.Ov,U.uU,yl,ya],styles:[".offer-details-container[_ngcontent-%COMP%]{padding:16px;margin:100px auto;max-width:1024px;background-color:#f9f9f9;border-radius:10px;box-shadow:0 2px 4px #0000001a}.offer-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;font-size:1.7rem}.offer-carousel-container[_ngcontent-%COMP%]{position:relative;width:100%;overflow:hidden;margin-bottom:20px}.carousel[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;transition:transform .5s ease-in-out}.carousel-inner[_ngcontent-%COMP%]{display:flex;width:100%}.carousel-item[_ngcontent-%COMP%]{min-width:100%;transition:transform .5s ease-in-out;opacity:0;display:none}.carousel-item.active[_ngcontent-%COMP%]{opacity:1;display:block}.carousel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.carousel-control[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background-color:#00000080;color:#fff;border:none;padding:10px;cursor:pointer;font-size:18px}.carousel-control.prev[_ngcontent-%COMP%]{left:10px}.carousel-control.next[_ngcontent-%COMP%]{right:10px}.offer-content[_ngcontent-%COMP%]{margin-top:20px}.offer-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:10px}.offer-description[_ngcontent-%COMP%], .offer-hours[_ngcontent-%COMP%], .offer-sponsor[_ngcontent-%COMP%], .offer-dates[_ngcontent-%COMP%]{margin-top:20px}.return-button[_ngcontent-%COMP%]{display:block;margin-top:20px;padding:10px 20px;background-color:var(--button-color);color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.return-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return y})();function Ba(y,h){if(1&y){const l=o.EpF();o.TgZ(0,"button",16),o.NdJ("click",function(){o.CHM(l);const C=o.oxw();return o.KtG(C.navigateToEditService(C.service.id))}),o._uU(1,"Edit"),o.qZA()}}let Jl=(()=>{class y{constructor(l,_,C,$){this.route=l,this.servicesService=_,this.router=C,this.authService=$,this.service=new Aa,this.serviceId=null,this.isLoggedIn$=this.authService.isLoggedIn()}ngOnInit(){this.serviceId=this.route.snapshot.paramMap.get("id"),this.servicesService.getServiceById(this.serviceId).subscribe(l=>{l&&(this.service.Community_Sponsor=l?.Community_Sponsor??!1,this.service.Name=l.Name??"",this.service.Date_Created=l.Date_Created??"",this.service.Description=l.Description??"",this.service.Email=l.Email??"",this.service.Facebook=l.Facebook??"",this.service.Instagram=l.Instagram??"",this.service.Phone_Number=l.Phone_Number??"",this.service.Service_Type=l.Service_Type??"",this.service.Website=Ua(l.Website)??"",this.service.Image=l.Image??"",this.service.Hours=l.Hours??{},this.serviceId&&(this.service.id=this.serviceId),console.log("Image",l?.Image),(""==l.Image||void 0===l.Image)&&(this.service.Image="https://firebasestorage.googleapis.com/v0/b/romaniinseattle.appspot.com/o/serviceImages%2FdafaultImage.jpg?alt=media&token=3b0787df-12f0-444a-a426-013843534f1e"))})}goBack(){this.router.navigate(["/services"])}navigateToEditService(l){this.router.navigate(["/edit-service",l])}static#e=this.\u0275fac=function(_){return new(_||y)(o.Y36(jr.gz),o.Y36(ac.r),o.Y36(jr.F0),o.Y36(bl.e))};static#t=this.\u0275cmp=o.Xpm({type:y,selectors:[["app-service-detail"]],decls:91,vars:39,consts:[[1,"service-details-container"],[1,"service-header"],[1,"forDebug"],[1,"service-content"],[1,"service-image"],[3,"src","alt"],[1,"service-details"],[1,"service-details-label"],[3,"innerHTML"],[1,"date-created"],[1,"service-description"],[1,"hours-label"],[1,"dayLabel"],[1,"service-actions"],["class","editButton",3,"click",4,"ngIf"],[3,"click"],[1,"editButton",3,"click"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3")(4,"strong"),o._uU(5,"Service Id:"),o.qZA(),o._uU(6),o.qZA()()(),o.TgZ(7,"div",3)(8,"div",4),o._UZ(9,"img",5),o.TgZ(10,"h1"),o._uU(11),o.qZA()(),o.TgZ(12,"div",6)(13,"div")(14,"label",7),o._uU(15,"Tip Serviciu:"),o.qZA(),o._uU(16),o.qZA(),o.TgZ(17,"div")(18,"label",7),o._uU(19,"Nr Telefon:"),o.qZA(),o._uU(20),o.qZA(),o.TgZ(21,"div")(22,"label",7),o._uU(23,"Email:"),o.qZA(),o._uU(24),o.qZA(),o.TgZ(25,"div")(26,"label",7),o._uU(27,"Website:"),o.qZA(),o._UZ(28,"span",8),o.ALo(29,"urlHelper"),o.qZA(),o.TgZ(30,"div")(31,"label",7),o._uU(32,"Facebook:"),o.qZA(),o._UZ(33,"span",8),o.ALo(34,"urlHelper"),o.qZA(),o.TgZ(35,"div")(36,"label",7),o._uU(37,"Instagram:"),o.qZA(),o._UZ(38,"span",8),o.ALo(39,"instagramHandle"),o.qZA(),o.TgZ(40,"div")(41,"label",7),o._uU(42,"Sponsor:"),o.qZA(),o._uU(43),o.qZA(),o.TgZ(44,"div",9)(45,"label",7),o._uU(46,"Data:"),o.qZA(),o._uU(47),o.ALo(48,"date"),o.qZA(),o.TgZ(49,"div",10)(50,"label",7),o._uU(51,"Descriere:"),o.qZA(),o._uU(52),o.qZA(),o.TgZ(53,"div")(54,"label",11),o._uU(55,"Orele de contactare:"),o.qZA(),o.TgZ(56,"ul")(57,"li")(58,"strong",12),o._uU(59,"Monday:"),o.qZA(),o._uU(60),o.qZA(),o.TgZ(61,"li")(62,"strong",12),o._uU(63,"Tuesday:"),o.qZA(),o._uU(64),o.qZA(),o.TgZ(65,"li")(66,"strong",12),o._uU(67,"Wednesday:"),o.qZA(),o._uU(68),o.qZA(),o.TgZ(69,"li")(70,"strong",12),o._uU(71,"Thursday:"),o.qZA(),o._uU(72),o.qZA(),o.TgZ(73,"li")(74,"strong",12),o._uU(75,"Friday:"),o.qZA(),o._uU(76),o.qZA(),o.TgZ(77,"li")(78,"strong",12),o._uU(79,"Saturday:"),o.qZA(),o._uU(80),o.qZA(),o.TgZ(81,"li")(82,"strong",12),o._uU(83,"Sunday:"),o.qZA(),o._uU(84),o.qZA()()()()(),o.TgZ(85,"div",13),o.YNc(86,Ba,2,0,"button",14),o.ALo(87,"async"),o._uU(88," \xa0 "),o.TgZ(89,"button",15),o.NdJ("click",function(){return C.goBack()}),o._uU(90,"Inapoi la Servicii"),o.qZA()()()),2&_&&(o.xp6(6),o.hij(" ",C.service.id,""),o.xp6(3),o.s9C("alt",C.service.Name),o.Q6J("src",C.service.Image,o.LSH),o.xp6(2),o.Oqu(C.service.Name),o.xp6(5),o.hij(" ",C.service.Service_Type,""),o.xp6(4),o.hij(" ",C.service.Phone_Number,""),o.xp6(4),o.hij(" ",C.service.Email,""),o.xp6(4),o.Q6J("innerHTML",o.lcZ(29,28,C.service.Website),o.oJD),o.xp6(5),o.Q6J("innerHTML",o.lcZ(34,30,C.service.Facebook),o.oJD),o.xp6(5),o.Q6J("innerHTML",o.lcZ(39,32,C.service.Instagram),o.oJD),o.xp6(5),o.hij(" ",C.service.Community_Sponsor?"Yes":"No",""),o.xp6(4),o.hij(" ",o.xi3(48,34,C.service.Date_Created,"shortDate"),""),o.xp6(5),o.hij(" ",C.service.Description," "),o.xp6(8),o.AsE(" ",null==C.service.Hours.Luni?null:C.service.Hours.Luni.open," - ",null==C.service.Hours.Luni?null:C.service.Hours.Luni.close,""),o.xp6(4),o.AsE(" ",null==C.service.Hours.Marti?null:C.service.Hours.Marti.open," - ",null==C.service.Hours.Marti?null:C.service.Hours.Marti.close,""),o.xp6(4),o.AsE(" ",null==C.service.Hours.Miercuri?null:C.service.Hours.Miercuri.open," - ",null==C.service.Hours.Miercuri?null:C.service.Hours.Miercuri.close,""),o.xp6(4),o.AsE(" ",null==C.service.Hours.Joi?null:C.service.Hours.Joi.open," - ",null==C.service.Hours.Joi?null:C.service.Hours.Joi.close,""),o.xp6(4),o.AsE(" ",null==C.service.Hours.Vineri?null:C.service.Hours.Vineri.open," - ",null==C.service.Hours.Vineri?null:C.service.Hours.Vineri.close,""),o.xp6(4),o.AsE(" ",null==C.service.Hours.Sambata?null:C.service.Hours.Sambata.open," - ",null==C.service.Hours.Sambata?null:C.service.Hours.Sambata.close,""),o.xp6(4),o.AsE(" ",null==C.service.Hours.Duminica?null:C.service.Hours.Duminica.open," - ",null==C.service.Hours.Duminica?null:C.service.Hours.Duminica.close,""),o.xp6(2),o.Q6J("ngIf",o.lcZ(87,37,C.isLoggedIn$)))},dependencies:[U.O5,U.Ov,U.uU,yl,ya],styles:[".forDebug[_ngcontent-%COMP%]{display:none}.service-details-container[_ngcontent-%COMP%]{padding:16px;margin:100px auto;max-width:1024px;background-color:#f9f9f9;border-radius:10px;box-shadow:0 2px 4px #0000001a}.service-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px}.service-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em}.service-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.service-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:400px;height:auto;border-radius:10px}.service-image[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{align-items:center;text-align:center}.service-details[_ngcontent-%COMP%]{width:100%;margin-top:16px}.service-details-label[_ngcontent-%COMP%]{font-weight:700;font-size:1.1em;color:var(--button-color);display:inline-block;width:100px}.service-details[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .service-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:4px 0;font-size:.9em}.service-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0}.service-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.8em;margin:4px 0}.service-description[_ngcontent-%COMP%]{font-size:1em;margin-top:16px;border-top:1px solid #ccc;padding-top:16px}.service-actions[_ngcontent-%COMP%]{margin-top:16px;display:flex;justify-content:space-between;width:100%}.service-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:5px;background-color:var(--button-color);color:#fff;cursor:pointer;font-size:1em}.service-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.date-created[_ngcontent-%COMP%]{display:none}.dayLabel[_ngcontent-%COMP%]{display:inline-block;width:80px;color:var(--button-color)}.hours-label[_ngcontent-%COMP%]{display:inline-block;width:100%;font-size:1.2rem;color:var(--button-color)}@media (min-width: 768px){.service-content[_ngcontent-%COMP%]{flex-direction:row;align-items:flex-start}.service-image[_ngcontent-%COMP%]{margin-right:16px}.service-details[_ngcontent-%COMP%]{flex:1}}@media (max-width: 767px){.service-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5em}.service-details[_ngcontent-%COMP%]{text-align:left}.service-actions[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.service-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:4px 0}}"]})}return y})(),Zc=(()=>{class y{constructor(l,_){this.authService=l,this.router=_,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).subscribe({next:()=>this.router.navigate(["/admin"]),error:l=>this.handleLoginError(l)})}handleLoginError(l){switch(l.code){case"auth/user-not-found":this.errorMessage="No user found with this email.";break;case"auth/wrong-password":this.errorMessage="Incorrect password.";break;case"auth/invalid-email":this.errorMessage="Invalid email format.";break;default:this.errorMessage="Login failed. Please try again."}console.log(this.errorMessage)}static#e=this.\u0275fac=function(_){return new(_||y)(o.Y36(bl.e),o.Y36(jr.F0))};static#t=this.\u0275cmp=o.Xpm({type:y,selectors:[["app-login"]],decls:15,vars:2,consts:[[1,"login-container"],[1,"login-box"],[3,"submit"],[1,"input-group"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModel","ngModelChange"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModel","ngModelChange"],["type","submit"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h2"),o._uU(3,"Login"),o.qZA(),o.TgZ(4,"form",2),o.NdJ("submit",function(){return C.login()}),o.TgZ(5,"div",3)(6,"label",4),o._uU(7,"Email"),o.qZA(),o.TgZ(8,"input",5),o.NdJ("ngModelChange",function(pe){return C.email=pe}),o.qZA()(),o.TgZ(9,"div",3)(10,"label",6),o._uU(11,"Password"),o.qZA(),o.TgZ(12,"input",7),o.NdJ("ngModelChange",function(pe){return C.password=pe}),o.qZA()(),o.TgZ(13,"button",8),o._uU(14,"Login"),o.qZA()()()()),2&_&&(o.xp6(8),o.Q6J("ngModel",C.email),o.xp6(4),o.Q6J("ngModel",C.password))},dependencies:[en._Y,en.Fj,en.JJ,en.JL,en.Q7,en.On,en.F],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:linear-gradient(to right,#007bff,#0056b3)}.login-box[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:8px;box-shadow:0 2px 4px #0000001a;width:300px;text-align:center}.login-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px;font-size:24px;color:#333}.input-group[_ngcontent-%COMP%]{margin-bottom:15px;text-align:left}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;color:#333}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;box-sizing:border-box}button[_ngcontent-%COMP%]{width:100%;padding:10px 20px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:16px;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return y})(),Cl=(()=>{class y{static#e=this.\u0275fac=function(_){return new(_||y)};static#t=this.\u0275cmp=o.Xpm({type:y,selectors:[["app-test"]],decls:17,vars:0,consts:[[1,"hero"],[1,"container","hero-content"],[1,"hero-text"],["href","https://www.facebook.com/groups/seattlecommunity",1,"btn"],[1,"hero-image"],["src","https://via.placeholder.com/600x400","alt","Seattle"],[1,"community-description"],[1,"container"]],template:function(_,C){1&_&&(o.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1"),o._uU(4,"Welcome to Seattle Community"),o.qZA(),o.TgZ(5,"p"),o._uU(6,"Your go-to place for community services and events"),o.qZA(),o.TgZ(7,"a",3),o._uU(8,"Join our Facebook Group"),o.qZA()(),o.TgZ(9,"div",4),o._UZ(10,"img",5),o.qZA()()(),o.TgZ(11,"section",6)(12,"div",7)(13,"h2"),o._uU(14,"About Our Community"),o.qZA(),o.TgZ(15,"p"),o._uU(16,"Seattle Community is dedicated to bringing together local residents, businesses, and organizations to foster a sense of unity and support. We offer a variety of services, events, and opportunities to connect with others in the area. Join us and be a part of a vibrant and active community!"),o.qZA()()())},styles:[".hero[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#f5f5f5;padding:2rem 0}.hero-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.hero-text[_ngcontent-%COMP%]{flex:1}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1.5rem}.btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:.75rem 1.5rem;text-decoration:none;border-radius:5px;font-size:1rem}.hero-image[_ngcontent-%COMP%]{flex:1}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:5px}.community-description[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:2rem 0;text-align:center}.community-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.community-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin:0 auto;max-width:800px}"]})}return y})();function Tl(y,h){if(1&y&&(o.TgZ(0,"option",33),o._uU(1),o.qZA()),2&y){const l=h.$implicit;o.Q6J("value",l),o.xp6(1),o.Oqu(l)}}function Qu(y,h){if(1&y&&(o.TgZ(0,"div",38),o._UZ(1,"div",39),o.qZA()),2&y){const l=o.oxw().$implicit;o.xp6(1),o.Udp("width",l.progress,"%")}}function oh(y,h){if(1&y){const l=o.EpF();o.TgZ(0,"div",34),o._UZ(1,"img",35),o.YNc(2,Qu,2,2,"div",36),o.TgZ(3,"button",37),o.NdJ("click",function(){const $=o.CHM(l).$implicit,pe=o.oxw();return o.KtG(pe.removeImage($))}),o._uU(4,"X"),o.qZA()()}if(2&y){const l=h.$implicit;o.xp6(1),o.s9C("alt",l.name),o.Q6J("src",l.url,o.LSH),o.xp6(1),o.Q6J("ngIf",void 0!==l.progress)}}let rf=(()=>{class y{constructor(l,_,C,$,pe){this.fb=l,this.offersService=_,this.imageUploadService=C,this.router=$,this.route=pe,this.offerTypes=[],this.images=[],this.imageUploadStatus={},this.offerId="",this.offer={Title:"",Company_Name:"",Contact_Name:"",Phone_Number:"",Email:"",Description:"",Price:"",Location:"",Website:"",OfferType:"",Community_Sponsor:!1,Date_Created:"",Date_Updated:"",Hours:{},Images:[],id:"",Facebook:"",Instagram:"",Filled:!1,Approved:!1,ApprovedDate:""},this.offerForm=this.fb.group({Title:["",en.kI.required],Company_Name:[""],Contact_Name:["",en.kI.required],Phone_Number:[""],Email:["",[en.kI.email]],Location:[""],Website:[""],Facebook:[""],Instagram:[""],Description:["",en.kI.required],Price:[""],Images:[],Filled:!1,Date_Created:[""],ApprovedDate:[""],OfferType:[""],Community_Sponsor:!1})}ngOnInit(){this.route.paramMap.subscribe(l=>{this.offerId=l.get("id"),this.offersService.getOfferById(this.offerId).subscribe(_=>{_&&(this.offer=_,this.offerForm.patchValue(_),_.Images?this.images=_.Images.map(C=>({name:"",url:C})):_.Images=[])})}),this.fetchOfferTypes()}onFileSelected(l){var _=this;return(0,jc.Z)(function*(){const C=l.target.files;for(let $=0;$<C.length;$++){const pe=C[$],Oe=yield _.resizeImage(pe);_.imageUploadStatus[pe.name]="Uploading...";const mt={name:pe.name,url:"",file:pe,progress:0};_.images.push(mt),_.imageUploadService.uploadOfferImage(Oe,_.offerId).subscribe({next:St=>{console.log("OnFileSelected/uploadImage/Next",_.offer.Images),"string"==typeof St?(mt.url=St,_.offer.Images.push(St),console.log("Image uploaded to offer:",_.offer?.Images),_.imageUploadStatus[pe.name]="Uploaded"):mt.progress=St},error:St=>{console.error("Image upload failed: ",St),_.imageUploadStatus[pe.name]="Failed to upload"}})}})()}removeImage(l){this.images=this.images.filter(_=>_!==l),this.offer.Images=this.offer.Images.filter(_=>_!==l.url),this.imageUploadService.deleteOfferImage(l.url).subscribe(()=>{this.offersService.updateOffer(this.offerId,this.offer).subscribe()})}fetchOfferTypes(){this.offersService.getAllOfferTypes().subscribe(l=>{this.offerTypes=l})}onSubmit(){this.offerForm.valid&&(this.offer.Title=this.offerForm.value.Title,this.offer.Phone_Number=this.offerForm.value.Phone_Number,this.offer.Price=this.offerForm.value.Price,this.offer.Community_Sponsor=this.offerForm.value.Community_Sponsor,this.offer.Company_Name=this.offerForm.value.Company_Name,this.offer.Contact_Name=this.offerForm.value.Contact_Name,this.offer.Website=this.offerForm.value.Website,this.offer.Email=this.offerForm.value.Email,this.offer.Location=this.offerForm.value.Location,this.offer.OfferType=this.offerForm.value.OfferType,this.offer.Description=this.offerForm.value.Description,this.offer.Date_Updated=(new Date).toISOString(),this.offer.Instagram=this.offerForm.value.Instagram,this.offer.Facebook=this.offerForm.value.Facebook,console.log("offer:",this.offer),this.offersService.updateOffer(this.offerId,this.offer).subscribe(()=>{this.router.navigate(["/offers"])}))}resizeImage(l){return(0,jc.Z)(function*(){const _=nh()(),C=new Image;return C.src=URL.createObjectURL(l),new Promise(($,pe)=>{C.onload=(0,jc.Z)(function*(){const Oe=document.createElement("canvas"),ln=(Oe.getContext("2d"),Math.min(1024/C.width,1024/C.height));Oe.width=C.width*ln,Oe.height=C.height*ln;try{yield _.resize(C,Oe),Oe.toBlob(Cn=>{if(Cn){const Cr=new File([Cn],l.name,{type:l.type});$(Cr)}else pe(new Error("Image resizing failed"))},l.type)}catch(Cn){pe(Cn)}}),C.onerror=Oe=>pe(Oe)})})()}static#e=this.\u0275fac=function(_){return new(_||y)(o.Y36(en.qu),o.Y36(Ls.b),o.Y36(cc.K),o.Y36(jr.F0),o.Y36(jr.gz))};static#t=this.\u0275cmp=o.Xpm({type:y,selectors:[["app-edit-oferte"]],decls:59,vars:4,consts:[[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","OfferType"],["id","OfferType","id","OfferType","formControlName","OfferType","required","",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","Title",1,"required"],["type","text","id","Title","formControlName","Title","required","","placeholder","Titlu"],["for","Company_Name"],["type","text","id","Company_Name","formControlName","Company_Name","placeholder","Numele Companiei"],["for","Contact_Name",1,"required"],["type","text","id","Contact_Name","formControlName","Contact_Name","required","","placeholder","Persoana de contact"],["for","Phone_Number"],["type","text","id","Phone_Number","formControlName","Phone_Number","placeholder","Numar de telefon"],["for","Email",1,"required"],["type","email","id","Email","formControlName","Email","required","","placeholder","Adresa de Email"],["for","Facebook"],["type","text","id","Facebook","formControlName","Facebook","placeholder","Adresa de Facebook"],["for","Instagram"],["type","text","id","Instagram","formControlName","Instagram","placeholder","@instaHandle.."],["for","Description",1,"required"],["id","Description","formControlName","Description","required","","placeholder","Descriere"],["for","Price"],["type","text","id","Price","formControlName","Price","placeholder","Pret"],["for","Location"],["type","text","id","Location","formControlName","Location","placeholder","Locatie"],["for","Website"],["type","url","id","Website","formControlName","Website","placeholder","Pagina de Web"],["for","Images"],["id","Images","type","file","multiple","",1,"form-control-file",3,"change"],[1,"image-preview-container"],["class","image-preview",4,"ngFor","ngForOf"],["type","submit",3,"disabled"],[3,"value"],[1,"image-preview"],[1,"img-thumbnail",3,"src","alt"],["class","progress",4,"ngIf"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"progress"],[1,"progress-bar"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0)(1,"form",1),o.NdJ("ngSubmit",function(){return C.onSubmit()}),o.TgZ(2,"div",2)(3,"label",3),o._uU(4,"Tip de oferta"),o.qZA(),o.TgZ(5,"select",4),o.YNc(6,Tl,2,2,"option",5),o.qZA()(),o.TgZ(7,"div",2)(8,"label",6),o._uU(9,"Titlu:"),o.qZA(),o._UZ(10,"input",7),o.qZA(),o.TgZ(11,"div",2)(12,"label",8),o._uU(13,"Numele Companiei:"),o.qZA(),o._UZ(14,"input",9),o.qZA(),o.TgZ(15,"div",2)(16,"label",10),o._uU(17,"Numele persoanei de contact:"),o.qZA(),o._UZ(18,"input",11),o.qZA(),o.TgZ(19,"div",2)(20,"label",12),o._uU(21,"Numar de telefon:"),o.qZA(),o._UZ(22,"input",13),o.qZA(),o.TgZ(23,"div",2)(24,"label",14),o._uU(25,"Adresa de Email:"),o.qZA(),o._UZ(26,"input",15),o.qZA(),o.TgZ(27,"div",2)(28,"label",16),o._uU(29,"Adresa de Facebook:"),o.qZA(),o._UZ(30,"input",17),o.qZA(),o.TgZ(31,"div",2)(32,"label",18),o._uU(33,"Instagram:(@cont_de_instagram)"),o.qZA(),o._UZ(34,"input",19),o.qZA(),o.TgZ(35,"div",2)(36,"label",20),o._uU(37,"Descriere:"),o.qZA(),o._UZ(38,"textarea",21),o.qZA(),o.TgZ(39,"div",2)(40,"label",22),o._uU(41,"Pret:"),o.qZA(),o._UZ(42,"input",23),o.qZA(),o.TgZ(43,"div",2)(44,"label",24),o._uU(45,"Locatie:"),o.qZA(),o._UZ(46,"input",25),o.qZA(),o.TgZ(47,"div",2)(48,"label",26),o._uU(49,"Website:"),o.qZA(),o._UZ(50,"input",27),o.qZA(),o.TgZ(51,"div",2)(52,"label",28),o._uU(53,"Images"),o.qZA(),o.TgZ(54,"input",29),o.NdJ("change",function(pe){return C.onFileSelected(pe)}),o.qZA(),o.TgZ(55,"div",30),o.YNc(56,oh,5,3,"div",31),o.qZA()(),o.TgZ(57,"button",32),o._uU(58,"Salveaza Oferta"),o.qZA()()()),2&_&&(o.xp6(1),o.Q6J("formGroup",C.offerForm),o.xp6(5),o.Q6J("ngForOf",C.offerTypes),o.xp6(50),o.Q6J("ngForOf",C.images),o.xp6(1),o.Q6J("disabled",C.offerForm.invalid))},dependencies:[U.sg,U.O5,en._Y,en.YN,en.Kr,en.Fj,en.EJ,en.JJ,en.JL,en.Q7,en.sg,en.u],styles:['.form-container[_ngcontent-%COMP%]{max-width:600px;margin:100px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;color:#fff;border:none;border-radius:4px;cursor:pointer}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}.image-preview-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.image-preview[_ngcontent-%COMP%]{position:relative;display:inline-block;width:100px;height:100px}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:5px}.image-preview[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;background-color:#00000080}.image-preview[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:5px;background-color:#4caf50}.image-preview[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;background-color:#ff0000b3;border:none;border-radius:3px}']})}return y})();const sf=[{path:"",component:Qd},{path:"rules",component:vp},{path:"analytics",component:zc.d},{path:"events",component:Xh},{path:"add-event",component:Bc},{path:"events/add",component:Bc},{path:"events/:id",component:(()=>{class y{constructor(l,_,C){this.route=l,this.router=_,this.eventsService=C,this.defaultImage="https://storage.cloud.google.com/romaniinseattle.appspot.com/events/defaultImage.jpg"}ngOnInit(){const l=this.route.snapshot.paramMap.get("id");l&&this.eventsService.getEventById(l).subscribe(_=>{this.event=_,this.event?.Poster_Image||(this.event.Poster_Image=this.defaultImage)})}goBack(){this.router.navigate(["/events"])}static#e=this.\u0275fac=function(_){return new(_||y)(o.Y36(jr.gz),o.Y36(jr.F0),o.Y36(vl.n))};static#t=this.\u0275cmp=o.Xpm({type:y,selectors:[["app-event-detail"]],decls:70,vars:26,consts:[[1,"event-details-container"],[1,"event-header"],[1,"event-contact"],[1,"event-poster-container"],["alt","Event Poster",1,"poster-image",3,"src"],[1,"event-content"],[1,"event-info"],[3,"innerHTML"],[1,"event-description"],[1,"event-sponsor"],[1,"event-dates"],[3,"click"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1"),o._uU(3),o.qZA(),o.TgZ(4,"div",2)(5,"strong"),o._uU(6,"Contact:"),o.qZA(),o._uU(7),o.qZA()(),o.TgZ(8,"div",3),o._UZ(9,"img",4),o.qZA(),o.TgZ(10,"div",5)(11,"div",6)(12,"div")(13,"strong"),o._uU(14,"Phone Number:"),o.qZA(),o._uU(15),o.qZA(),o.TgZ(16,"div")(17,"strong"),o._uU(18,"Email:"),o.qZA(),o._uU(19),o.qZA(),o.TgZ(20,"div")(21,"strong"),o._uU(22,"Website:"),o.qZA(),o._UZ(23,"span",7),o.ALo(24,"urlHelper"),o.qZA(),o.TgZ(25,"div")(26,"strong"),o._uU(27,"Facebook:"),o.qZA(),o._UZ(28,"span",7),o.ALo(29,"urlHelper"),o.qZA(),o.TgZ(30,"div")(31,"strong"),o._uU(32,"Instagram:"),o.qZA(),o._uU(33),o.qZA(),o.TgZ(34,"div")(35,"strong"),o._uU(36,"Location:"),o.qZA(),o._uU(37),o.qZA(),o.TgZ(38,"div")(39,"strong"),o._uU(40,"Event Date:"),o.qZA(),o._uU(41),o.qZA(),o.TgZ(42,"div")(43,"strong"),o._uU(44,"Time:"),o.qZA(),o._uU(45),o.qZA(),o.TgZ(46,"div")(47,"strong"),o._uU(48,"Price:"),o.qZA(),o._uU(49),o.qZA()(),o.TgZ(50,"div",8)(51,"strong"),o._uU(52,"Description:"),o.qZA(),o._uU(53),o.qZA(),o.TgZ(54,"div",9)(55,"strong"),o._uU(56,"Sponsor:"),o.qZA(),o._uU(57),o.qZA(),o.TgZ(58,"div",10)(59,"strong"),o._uU(60,"Created Date:"),o.qZA(),o._uU(61),o.ALo(62,"date"),o._UZ(63,"br"),o.TgZ(64,"strong"),o._uU(65,"Updated Date:"),o.qZA(),o._uU(66),o.ALo(67,"date"),o.qZA()(),o.TgZ(68,"button",11),o.NdJ("click",function(){return C.goBack()}),o._uU(69,"Return to Events"),o.qZA()()),2&_&&(o.xp6(3),o.Oqu(null==C.event?null:C.event.Event_Name),o.xp6(4),o.hij(" ",null==C.event?null:C.event.Contact_Person_Name," "),o.xp6(2),o.Q6J("src",null==C.event?null:C.event.Poster_Image,o.LSH),o.xp6(6),o.hij(" ",null==C.event?null:C.event.Phone_Number,""),o.xp6(4),o.hij(" ",null==C.event?null:C.event.Email,""),o.xp6(4),o.Q6J("innerHTML",o.lcZ(24,16,null==C.event?null:C.event.Website),o.oJD),o.xp6(5),o.Q6J("innerHTML",o.lcZ(29,18,null==C.event?null:C.event.Facebook),o.oJD),o.xp6(5),o.hij(" ",null==C.event?null:C.event.Instagram,""),o.xp6(4),o.hij(" ",null==C.event?null:C.event.Location,""),o.xp6(4),o.hij(" ",null==C.event?null:C.event.Event_Date,""),o.xp6(4),o.hij(" ",null==C.event?null:C.event.Event_Time,""),o.xp6(4),o.hij(" ",null==C.event?null:C.event.Price,""),o.xp6(4),o.hij(" ",null==C.event?null:C.event.Description," "),o.xp6(4),o.hij(" ",null!=C.event&&C.event.Community_Sponsor?"Yes":"No"," "),o.xp6(4),o.hij(" ",o.xi3(62,20,null==C.event?null:C.event.Date_Created,"shortDate"),""),o.xp6(5),o.hij(" ",o.xi3(67,23,null==C.event?null:C.event.Date_Updated,"shortDate")," "))},dependencies:[U.uU,yl],styles:[".event-details-container[_ngcontent-%COMP%]{border-radius:8px;background-color:#f5f5f5;padding:16px;margin:16px;box-shadow:0 2px 4px #0000001a;overflow:hidden}.event-header[_ngcontent-%COMP%], .event-poster-container[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px}.poster-image[_ngcontent-%COMP%]{width:100%;max-width:400px;height:300px;object-fit:cover;border-radius:8px}.event-content[_ngcontent-%COMP%]{margin-top:16px}button[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;padding:8px 16px;border:none;border-radius:4px;cursor:pointer;display:block;margin:0 auto}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return y})()},{path:"edit-event/:id",component:(()=>{class y{constructor(l,_,C,$){this.route=l,this.router=_,this.fb=C,this.eventsService=$,this.eventId=null,this.eventForm=this.fb.group({Approved:[!1],Community_Sponsor:[!1],Contact:[""],Description:["",en.kI.required],Event_Date:["",en.kI.required],Location:["",en.kI.required],Name:["",en.kI.required],Phone_Number:[""],Poster_Image:["",en.kI.required],Price:["",en.kI.required],Website:[""],Facebook:[""],Instagram:[""]})}ngOnInit(){this.eventId=this.route.snapshot.paramMap.get("id"),this.eventId&&this.eventsService.getEventById(this.eventId).subscribe(l=>{l&&(this.event=l,this.eventForm.patchValue(l))})}onSubmit(){this.eventForm.valid&&this.eventId&&this.eventsService.updateEvent(this.eventId,this.eventForm.value).subscribe(()=>{console.log("Event updated successfully"),this.router.navigate(["/events",this.eventId])},_=>{console.error("Error updating event: ",_)})}goBack(){this.router.navigate(this.eventId?["/events",this.eventId]:["/events"])}static#e=this.\u0275fac=function(_){return new(_||y)(o.Y36(jr.gz),o.Y36(jr.F0),o.Y36(en.qu),o.Y36(vl.n))};static#t=this.\u0275cmp=o.Xpm({type:y,selectors:[["app-event-edit"]],decls:54,vars:1,consts:[[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["id","name","formControlName","Name","type","text"],["for","contact"],["id","contact","formControlName","Contact","type","text"],["for","phone"],["id","phone","formControlName","Phone_Number","type","text"],["for","description"],["id","description","formControlName","Description"],["for","location"],["id","location","formControlName","Location","type","text"],["for","event_date"],["id","event_date","formControlName","Event_Date","type","date"],["for","time"],["id","time","formControlName","Time","type","time"],["for","price"],["id","price","formControlName","Price","type","text"],["for","poster_image"],["id","poster_image","formControlName","Poster_Image","type","text"],["for","website"],["id","website","formControlName","Website","type","text","placeholder","Pagina de Web"],["for","Facebook"],["type","text","id","Facebook","formControlName","Facebook","placeholder","Adresa de Facebook"],["for","Instagram"],["type","text","id","Instagram","formControlName","Instagram","placeholder","@instaHandle.."],["type","submit"],["type","button",3,"click"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0)(1,"form",1),o.NdJ("ngSubmit",function(){return C.onSubmit()}),o.TgZ(2,"div",2)(3,"label",3),o._uU(4,"Numele Evenimentului:"),o.qZA(),o._UZ(5,"input",4),o.qZA(),o.TgZ(6,"div",2)(7,"label",5),o._uU(8,"Persoana de contact:"),o.qZA(),o._UZ(9,"input",6),o.qZA(),o.TgZ(10,"div",2)(11,"label",7),o._uU(12,"Numar de Telefon:"),o.qZA(),o._UZ(13,"input",8),o.qZA(),o.TgZ(14,"div",2)(15,"label",9),o._uU(16,"Descriere:"),o.qZA(),o._UZ(17,"textarea",10),o.qZA(),o.TgZ(18,"div",2)(19,"label",11),o._uU(20,"Locatie:"),o.qZA(),o._UZ(21,"input",12),o.qZA(),o.TgZ(22,"div",2)(23,"label",13),o._uU(24,"Data:"),o.qZA(),o._UZ(25,"input",14),o.qZA(),o.TgZ(26,"div",2)(27,"label",15),o._uU(28,"Ora:"),o.qZA(),o._UZ(29,"input",16),o.qZA(),o.TgZ(30,"div",2)(31,"label",17),o._uU(32,"Pret:"),o.qZA(),o._UZ(33,"input",18),o.qZA(),o.TgZ(34,"div",2)(35,"label",19),o._uU(36,"Imagine Poster:"),o.qZA(),o._UZ(37,"input",20),o.qZA(),o.TgZ(38,"div",2)(39,"label",21),o._uU(40,"Website:"),o.qZA(),o._UZ(41,"input",22),o.qZA(),o.TgZ(42,"div",2)(43,"label",23),o._uU(44,"Adresa de Facebook:"),o.qZA(),o._UZ(45,"input",24),o.qZA(),o.TgZ(46,"div",2)(47,"label",25),o._uU(48,"Instagram:(@cont_de_instagram)"),o.qZA(),o._UZ(49,"input",26),o.qZA(),o.TgZ(50,"button",27),o._uU(51,"Salveaza Evenimentul"),o.qZA(),o.TgZ(52,"button",28),o.NdJ("click",function(){return C.goBack()}),o._uU(53,"Cancel"),o.qZA()()()),2&_&&(o.xp6(1),o.Q6J("formGroup",C.eventForm))},dependencies:[en._Y,en.Fj,en.JJ,en.JL,en.sg,en.u],styles:['.edit-event-container[_ngcontent-%COMP%]{border-radius:8px;background-color:#f5f5f5;padding:16px;margin:16px;box-shadow:0 2px 4px #0000001a;overflow:hidden}.form-container[_ngcontent-%COMP%]{max-width:600px;margin:100px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;color:#fff;border:none;border-radius:4px;cursor:pointer}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}.image-preview-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.image-preview[_ngcontent-%COMP%]{position:relative;display:inline-block;width:100px;height:100px}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:5px}.image-preview[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;background-color:#00000080}.image-preview[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:5px;background-color:#4caf50}.image-preview[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;background-color:#ff0000b3;border:none;border-radius:3px}']})}return y})()},{path:"offers",component:po},{path:"add-offers",component:Hc},{path:"offers/add",component:Hc},{path:"offers/:id",component:ih},{path:"edit-oferte/:id",component:rf},{path:"services",component:Jh},{path:"add-service",component:Kl},{path:"services/add",component:Kl},{path:"services/:id",component:Jl},{path:"edit-service/:id",component:Ep},{path:"test",component:Cl},{path:"test-page",component:(()=>{class y{static#e=this.\u0275fac=function(_){return new(_||y)};static#t=this.\u0275cmp=o.Xpm({type:y,selectors:[["app-test-page"]],decls:19,vars:0,consts:[[1,"event-card"],[1,"event-image"],["src","https://elementsfiles.creativeitem.com/files/components/3602551/premium-component-website-event-card-xd-ui-1-3602551.jpg","alt","Event Image"],[1,"calendar-icon"],["src","../../../assets/calendar-icon.svg","alt","Calendar Icon"],[1,"event-date"],[1,"event-details"],[1,"event-date-time"],[1,"date-time"],[1,"event-description"],[1,"contact-name"],[1,"contact-info"],[1,"details-button"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0)(1,"div",1),o._UZ(2,"img",2),o.TgZ(3,"div",3),o._UZ(4,"img",4),o.TgZ(5,"span",5),o._uU(6,"Oct 25, 2024"),o.qZA()()(),o.TgZ(7,"div",6)(8,"div",7)(9,"span",8),o._uU(10,"Oct 25, 2024 | 10:00 AM"),o.qZA()(),o.TgZ(11,"div",9),o._uU(12," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. "),o.qZA(),o.TgZ(13,"div",10),o._uU(14," Contact: John Doe "),o.qZA(),o.TgZ(15,"div",11),o._uU(16," Email: john.doe#example.com "),o.qZA(),o.TgZ(17,"button",12),o._uU(18,"View Details"),o.qZA()()())},styles:[".event-card[_ngcontent-%COMP%]{width:400px;border-radius:12px;overflow:hidden;box-shadow:0 0 10px #0000001a}.event-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.calendar-icon[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:10px;display:flex;align-items:center;background-color:#fffc;padding:4px 8px;border-radius:4px}.calendar-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:4px}.event-date[_ngcontent-%COMP%]{font-size:14px;color:#333}.event-details[_ngcontent-%COMP%]{padding:12px}.event-date-time[_ngcontent-%COMP%]{margin-bottom:8px}.date-time[_ngcontent-%COMP%]{font-size:14px;color:#888}.event-description[_ngcontent-%COMP%]{font-size:14px;color:#666;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.contact-name[_ngcontent-%COMP%]{margin-top:8px;font-weight:700}.contact-info[_ngcontent-%COMP%]{color:#666}.details-button[_ngcontent-%COMP%]{margin-top:12px;padding:8px 16px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s}.details-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return y})()},{path:"login",component:Zc},{path:"",redirectTo:"/login",pathMatch:"full"},{path:"admin",loadChildren:()=>k.e(658).then(k.bind(k,7658)).then(y=>y.AdminModule)}];let T=(()=>{class y{static#e=this.\u0275fac=function(_){return new(_||y)};static#t=this.\u0275mod=o.oAB({type:y});static#n=this.\u0275inj=o.cJS({imports:[jr.Bz.forRoot(sf),jr.Bz]})}return y})();var g=k(769);const v=function(y){return{"open-bar1":y}},M=function(y){return{"open-bar2":y}},X=function(y){return{"open-bar3":y}},me=function(y){return{active:y}};let rt=(()=>{class y{constructor(){this.menuOpen=!1}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static#e=this.\u0275fac=function(_){return new(_||y)};static#t=this.\u0275cmp=o.Xpm({type:y,selectors:[["app-navigation"]],decls:25,vars:12,consts:[[1,"navbar"],[1,"navbar-container"],[1,"logo"],["routerLink","/"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item"],["routerLink","/",1,"nav-links",3,"click"],["routerLink","/services",1,"nav-links",3,"click"],["routerLink","/offers",1,"nav-links",3,"click"],["routerLink","/events",1,"nav-links",3,"click"],["routerLink","/rules",1,"nav-links",3,"click"]],template:function(_,C){1&_&&(o.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),o._uU(4,"Romani in Seattle"),o.qZA()(),o.TgZ(5,"div",4),o.NdJ("click",function(){return C.toggleMenu()}),o._UZ(6,"div",5)(7,"div",6)(8,"div",7),o.qZA(),o.TgZ(9,"ul",8)(10,"li",9)(11,"a",10),o.NdJ("click",function(){return C.closeMenu()}),o._uU(12,"Home"),o.qZA()(),o.TgZ(13,"li",9)(14,"a",11),o.NdJ("click",function(){return C.closeMenu()}),o._uU(15,"Servicii"),o.qZA()(),o.TgZ(16,"li",9)(17,"a",12),o.NdJ("click",function(){return C.closeMenu()}),o._uU(18,"Oferte"),o.qZA()(),o.TgZ(19,"li",9)(20,"a",13),o.NdJ("click",function(){return C.closeMenu()}),o._uU(21,"Evenimente"),o.qZA()(),o.TgZ(22,"li",9)(23,"a",14),o.NdJ("click",function(){return C.closeMenu()}),o._uU(24,"Regulament"),o.qZA()()()()()),2&_&&(o.xp6(6),o.Q6J("ngClass",o.VKq(4,v,C.menuOpen)),o.xp6(1),o.Q6J("ngClass",o.VKq(6,M,C.menuOpen)),o.xp6(1),o.Q6J("ngClass",o.VKq(8,X,C.menuOpen)),o.xp6(1),o.Q6J("ngClass",o.VKq(10,me,C.menuOpen)))},dependencies:[U.mk,jr.rH],styles:[".navbar[_ngcontent-%COMP%]{background-color:var(--nav-background-color);position:fixed;width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:70px;max-width:1200px;margin:0 auto}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:34px;font-weight:700;color:var(--button-color);text-decoration:none}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);text-decoration:none;text-transform:uppercase;font-size:18px;font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:500;font-style:bold}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:#fff}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:#fff}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:flex-start}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;width:100%;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);text-decoration:none;text-transform:uppercase;font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:200;font-style:normal;color:var(--nav-active-text);font-size:24px}}"]})}return y})(),Pt=(()=>{class y{static#e=this.\u0275fac=function(_){return new(_||y)};static#t=this.\u0275cmp=o.Xpm({type:y,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"footer"],[1,"footer-content"]],template:function(_,C){1&_&&(o.TgZ(0,"footer",0)(1,"div",1),o._uU(2," \xa9 2024 Romani in Seattle. All rights reserved. "),o.qZA()())},styles:[".footer[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%;height:50px;background-color:#333;color:#fff;display:flex;align-items:center;justify-content:center;text-align:center;box-shadow:0 -2px 5px #0000001a}.footer-content[_ngcontent-%COMP%]{font-size:.9rem}"]})}return y})(),Jt=(()=>{class y{constructor(l){this.analyticsService=l,this.title="romani-in-seattle"}ngOnInit(){}trackButtonClick(){}static#e=this.\u0275fac=function(_){return new(_||y)(o.Y36(g.y))};static#t=this.\u0275cmp=o.Xpm({type:y,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"main-layout"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0),o._UZ(1,"app-navigation")(2,"router-outlet")(3,"app-footer"),o.qZA())},dependencies:[jr.lC,rt,Pt],styles:[".content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;min-width:calc(100vw - 70px);min-height:calc(100vh - 70px);padding:20px}"]})}return y})();class kn{}class tr{}const vr="*";function Kc(y,h=null){return{type:2,steps:y,options:h}}function dc(y){return{type:6,styles:y,offset:null}}class aa{constructor(h=0,l=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=h+l}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}onStart(h){this._originalOnStartFns.push(h),this._onStartFns.push(h)}onDone(h){this._originalOnDoneFns.push(h),this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(h=>h()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(h){this._position=this.totalTime?h*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(h){const l="start"==h?this._onStartFns:this._onDoneFns;l.forEach(_=>_()),l.length=0}}class Xl{constructor(h){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=h;let l=0,_=0,C=0;const $=this.players.length;0==$?queueMicrotask(()=>this._onFinish()):this.players.forEach(pe=>{pe.onDone(()=>{++l==$&&this._onFinish()}),pe.onDestroy(()=>{++_==$&&this._onDestroy()}),pe.onStart(()=>{++C==$&&this._onStart()})}),this.totalTime=this.players.reduce((pe,Oe)=>Math.max(pe,Oe.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}init(){this.players.forEach(h=>h.init())}onStart(h){this._onStartFns.push(h)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(h=>h()),this._onStartFns=[])}onDone(h){this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(h=>h.play())}pause(){this.players.forEach(h=>h.pause())}restart(){this.players.forEach(h=>h.restart())}finish(){this._onFinish(),this.players.forEach(h=>h.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(h=>h.destroy()),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}reset(){this.players.forEach(h=>h.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(h){const l=h*this.totalTime;this.players.forEach(_=>{const C=_.totalTime?Math.min(1,l/_.totalTime):1;_.setPosition(C)})}getPosition(){const h=this.players.reduce((l,_)=>null===l||_.totalTime>l.totalTime?_:l,null);return null!=h?h.getPosition():0}beforeDestroy(){this.players.forEach(h=>{h.beforeDestroy&&h.beforeDestroy()})}triggerCallback(h){const l="start"==h?this._onStartFns:this._onDoneFns;l.forEach(_=>_()),l.length=0}}function ch(y){return new o.vHH(3e3,!1)}function Bs(y){switch(y.length){case 0:return new aa;case 1:return y[0];default:return new Xl(y)}}function pf(y,h,l=new Map,_=new Map){const C=[],$=[];let pe=-1,Oe=null;if(h.forEach(mt=>{const St=mt.get("offset"),ln=St==pe,Cn=ln&&Oe||new Map;mt.forEach((Cr,Er)=>{let er=Er,or=Cr;if("offset"!==Er)switch(er=y.normalizePropertyName(er,C),or){case"!":or=l.get(Er);break;case vr:or=_.get(Er);break;default:or=y.normalizeStyleValue(Er,er,or,C)}Cn.set(er,or)}),ln||$.push(Cn),Oe=Cn,pe=St}),C.length)throw function hf(y){return new o.vHH(3502,!1)}();return $}function Dp(y,h,l,_){switch(h){case"start":y.onStart(()=>_(l&&gf(l,"start",y)));break;case"done":y.onDone(()=>_(l&&gf(l,"done",y)));break;case"destroy":y.onDestroy(()=>_(l&&gf(l,"destroy",y)))}}function gf(y,h,l){const $=od(y.element,y.triggerName,y.fromState,y.toState,h||y.phaseName,l.totalTime??y.totalTime,!!l.disabled),pe=y._data;return null!=pe&&($._data=pe),$}function od(y,h,l,_,C="",$=0,pe){return{element:y,triggerName:h,fromState:l,toState:_,phaseName:C,totalTime:$,disabled:!!pe}}function as(y,h,l){let _=y.get(h);return _||y.set(h,_=l),_}function Ml(y){const h=y.indexOf(":");return[y.substring(1,h),y.slice(h+1)]}const sd=(()=>typeof document>"u"?null:document.documentElement)();function mf(y){const h=y.parentNode||y.host||null;return h===sd?null:h}let hc=null,Sp=!1;function Zg(y,h){for(;h;){if(h===y)return!0;h=mf(h)}return!1}function Gg(y,h,l){if(l)return Array.from(y.querySelectorAll(h));const _=y.querySelector(h);return _?[_]:[]}let hh=(()=>{class y{validateStyleProperty(l){return function zg(y){hc||(hc=function $g(){return typeof document<"u"?document.body:null}()||{},Sp=!!hc.style&&"WebkitAppearance"in hc.style);let h=!0;return hc.style&&!function _f(y){return"ebkit"==y.substring(1,6)}(y)&&(h=y in hc.style,!h&&Sp&&(h="Webkit"+y.charAt(0).toUpperCase()+y.slice(1)in hc.style)),h}(l)}matchesElement(l,_){return!1}containsElement(l,_){return Zg(l,_)}getParentElement(l){return mf(l)}query(l,_,C){return Gg(l,_,C)}computeStyle(l,_,C){return C||""}animate(l,_,C,$,pe,Oe=[],mt){return new aa(C,$)}static#e=this.\u0275fac=function(_){return new(_||y)};static#t=this.\u0275prov=o.Yz7({token:y,factory:y.\u0275fac})}return y})(),ru=(()=>{class y{static#e=this.NOOP=new hh}return y})();const Mp=1e3,iu="ng-enter",ou="ng-leave",Ia="ng-trigger",fh=".ng-trigger",ph="ng-animating",Pp=".ng-animating";function fc(y){if("number"==typeof y)return y;const h=y.match(/^(-?[\.\d]+)(m?s)/);return!h||h.length<2?0:ad(parseFloat(h[1]),h[2])}function ad(y,h){return"s"===h?y*Mp:y}function cd(y,h,l){return y.hasOwnProperty("duration")?y:function xp(y,h,l){let C,$=0,pe="";if("string"==typeof y){const Oe=y.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Oe)return h.push(ch()),{duration:0,delay:0,easing:""};C=ad(parseFloat(Oe[1]),Oe[2]);const mt=Oe[3];null!=mt&&($=ad(parseFloat(mt),Oe[4]));const St=Oe[5];St&&(pe=St)}else C=y;if(!l){let Oe=!1,mt=h.length;C<0&&(h.push(function Ju(){return new o.vHH(3100,!1)}()),Oe=!0),$<0&&(h.push(function uf(){return new o.vHH(3101,!1)}()),Oe=!0),Oe&&h.splice(mt,0,ch())}return{duration:C,delay:$,easing:pe}}(y,h,l)}function Pl(y,h={}){return Object.keys(y).forEach(l=>{h[l]=y[l]}),h}function yf(y){const h=new Map;return Object.keys(y).forEach(l=>{h.set(l,y[l])}),h}function ja(y,h=new Map,l){if(l)for(let[_,C]of l)h.set(_,C);for(let[_,C]of y)h.set(_,C);return h}function cs(y,h,l){h.forEach((_,C)=>{const $=mh(C);l&&!l.has(C)&&l.set(C,y.style[$]),y.style[$]=_})}function xl(y,h){h.forEach((l,_)=>{const C=mh(_);y.style[C]=""})}function Jc(y){return Array.isArray(y)?1==y.length?y[0]:Kc(y):y}const ld=new RegExp("{{\\s*(.+?)\\s*}}","g");function ud(y){let h=[];if("string"==typeof y){let l;for(;l=ld.exec(y);)h.push(l[1]);ld.lastIndex=0}return h}function Ha(y,h,l){const _=y.toString(),C=_.replace(ld,($,pe)=>{let Oe=h[pe];return null==Oe&&(l.push(function Xu(y){return new o.vHH(3003,!1)}()),Oe=""),Oe.toString()});return C==_?y:C}function Xc(y){const h=[];let l=y.next();for(;!l.done;)h.push(l.value),l=y.next();return h}const Op=/-+([a-z0-9])/g;function mh(y){return y.replace(Op,(...h)=>h[1].toUpperCase())}function ls(y,h,l){switch(h.type){case 7:return y.visitTrigger(h,l);case 0:return y.visitState(h,l);case 1:return y.visitTransition(h,l);case 2:return y.visitSequence(h,l);case 3:return y.visitGroup(h,l);case 4:return y.visitAnimate(h,l);case 5:return y.visitKeyframes(h,l);case 6:return y.visitStyle(h,l);case 8:return y.visitReference(h,l);case 9:return y.visitAnimateChild(h,l);case 10:return y.visitAnimateRef(h,l);case 11:return y.visitQuery(h,l);case 12:return y.visitStagger(h,l);default:throw function eu(y){return new o.vHH(3004,!1)}()}}function _h(y,h){return window.getComputedStyle(y)[h]}const dd="*";function kp(y,h){const l=[];return"string"==typeof y?y.split(/\s*,\s*/).forEach(_=>function hd(y,h,l){if(":"==y[0]){const mt=function fd(y,h){switch(y){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(l,_)=>parseFloat(_)>parseFloat(l);case":decrement":return(l,_)=>parseFloat(_)<parseFloat(l);default:return h.push(function jg(y){return new o.vHH(3016,!1)}()),"* => *"}}(y,l);if("function"==typeof mt)return void h.push(mt);y=mt}const _=y.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==_||_.length<4)return l.push(function lh(y){return new o.vHH(3015,!1)}()),h;const C=_[1],$=_[2],pe=_[3];h.push(If(C,pe));"<"==$[0]&&!(C==dd&&pe==dd)&&h.push(If(pe,C))}(_,l,h)):l.push(y),l}const su=new Set(["true","1"]),au=new Set(["false","0"]);function If(y,h){const l=su.has(y)||au.has(y),_=su.has(h)||au.has(h);return(C,$)=>{let pe=y==dd||y==C,Oe=h==dd||h==$;return!pe&&l&&"boolean"==typeof C&&(pe=C?su.has(y):au.has(y)),!Oe&&_&&"boolean"==typeof $&&(Oe=$?su.has(h):au.has(h)),pe&&Oe}}const cu=new RegExp("s*:selfs*,?","g");function yh(y,h,l,_){return new Lp(y).build(h,l,_)}class Lp{constructor(h){this._driver=h}build(h,l,_){const C=new el(l);return this._resetContextStyleTimingState(C),ls(this,Jc(h),C)}_resetContextStyleTimingState(h){h.currentQuerySelector="",h.collectedStyles=new Map,h.collectedStyles.set("",new Map),h.currentTime=0}visitTrigger(h,l){let _=l.queryCount=0,C=l.depCount=0;const $=[],pe=[];return"@"==h.name.charAt(0)&&l.errors.push(function Fg(){return new o.vHH(3006,!1)}()),h.definitions.forEach(Oe=>{if(this._resetContextStyleTimingState(l),0==Oe.type){const mt=Oe,St=mt.name;St.toString().split(/\s*,\s*/).forEach(ln=>{mt.name=ln,$.push(this.visitState(mt,l))}),mt.name=St}else if(1==Oe.type){const mt=this.visitTransition(Oe,l);_+=mt.queryCount,C+=mt.depCount,pe.push(mt)}else l.errors.push(function td(){return new o.vHH(3007,!1)}())}),{type:7,name:h.name,states:$,transitions:pe,queryCount:_,depCount:C,options:null}}visitState(h,l){const _=this.visitStyle(h.styles,l),C=h.options&&h.options.params||null;if(_.containsDynamicStyles){const $=new Set,pe=C||{};_.styles.forEach(Oe=>{Oe instanceof Map&&Oe.forEach(mt=>{ud(mt).forEach(St=>{pe.hasOwnProperty(St)||$.add(St)})})}),$.size&&(Xc($.values()),l.errors.push(function Ip(y,h){return new o.vHH(3008,!1)}()))}return{type:0,name:h.name,style:_,options:C?{params:C}:null}}visitTransition(h,l){l.queryCount=0,l.depCount=0;const _=ls(this,Jc(h.animation),l);return{type:1,matchers:kp(h.expr,l.errors),animation:_,queryCount:l.queryCount,depCount:l.depCount,options:tl(h.options)}}visitSequence(h,l){return{type:2,steps:h.steps.map(_=>ls(this,_,l)),options:tl(h.options)}}visitGroup(h,l){const _=l.currentTime;let C=0;const $=h.steps.map(pe=>{l.currentTime=_;const Oe=ls(this,pe,l);return C=Math.max(C,l.currentTime),Oe});return l.currentTime=C,{type:3,steps:$,options:tl(h.options)}}visitAnimate(h,l){const _=function s_(y,h){if(y.hasOwnProperty("duration"))return y;if("number"==typeof y)return Cf(cd(y,h).duration,0,"");const l=y;if(l.split(/\s+/).some($=>"{"==$.charAt(0)&&"{"==$.charAt(1))){const $=Cf(0,0,"");return $.dynamic=!0,$.strValue=l,$}const C=cd(l,h);return Cf(C.duration,C.delay,C.easing)}(h.timings,l.errors);l.currentAnimateTimings=_;let C,$=h.styles?h.styles:dc({});if(5==$.type)C=this.visitKeyframes($,l);else{let pe=h.styles,Oe=!1;if(!pe){Oe=!0;const St={};_.easing&&(St.easing=_.easing),pe=dc(St)}l.currentTime+=_.duration+_.delay;const mt=this.visitStyle(pe,l);mt.isEmptyStep=Oe,C=mt}return l.currentAnimateTimings=null,{type:4,timings:_,style:C,options:null}}visitStyle(h,l){const _=this._makeStyleAst(h,l);return this._validateStyleAst(_,l),_}_makeStyleAst(h,l){const _=[],C=Array.isArray(h.styles)?h.styles:[h.styles];for(let Oe of C)"string"==typeof Oe?Oe===vr?_.push(Oe):l.errors.push(new o.vHH(3002,!1)):_.push(yf(Oe));let $=!1,pe=null;return _.forEach(Oe=>{if(Oe instanceof Map&&(Oe.has("easing")&&(pe=Oe.get("easing"),Oe.delete("easing")),!$))for(let mt of Oe.values())if(mt.toString().indexOf("{{")>=0){$=!0;break}}),{type:6,styles:_,easing:pe,offset:h.offset,containsDynamicStyles:$,options:null}}_validateStyleAst(h,l){const _=l.currentAnimateTimings;let C=l.currentTime,$=l.currentTime;_&&$>0&&($-=_.duration+_.delay),h.styles.forEach(pe=>{"string"!=typeof pe&&pe.forEach((Oe,mt)=>{const St=l.collectedStyles.get(l.currentQuerySelector),ln=St.get(mt);let Cn=!0;ln&&($!=C&&$>=ln.startTime&&C<=ln.endTime&&(l.errors.push(function Ug(y,h,l,_,C){return new o.vHH(3010,!1)}()),Cn=!1),$=ln.startTime),Cn&&St.set(mt,{startTime:$,endTime:C}),l.options&&function Ef(y,h,l){const _=h.params||{},C=ud(y);C.length&&C.forEach($=>{_.hasOwnProperty($)||l.push(function kg(y){return new o.vHH(3001,!1)}())})}(Oe,l.options,l.errors)})})}visitKeyframes(h,l){const _={type:5,styles:[],options:null};if(!l.currentAnimateTimings)return l.errors.push(function Bg(){return new o.vHH(3011,!1)}()),_;let $=0;const pe=[];let Oe=!1,mt=!1,St=0;const ln=h.steps.map(wi=>{const Ji=this._makeStyleAst(wi,l);let Di=null!=Ji.offset?Ji.offset:function gc(y){if("string"==typeof y)return null;let h=null;if(Array.isArray(y))y.forEach(l=>{if(l instanceof Map&&l.has("offset")){const _=l;h=parseFloat(_.get("offset")),_.delete("offset")}});else if(y instanceof Map&&y.has("offset")){const l=y;h=parseFloat(l.get("offset")),l.delete("offset")}return h}(Ji.styles),co=0;return null!=Di&&($++,co=Ji.offset=Di),mt=mt||co<0||co>1,Oe=Oe||co<St,St=co,pe.push(co),Ji});mt&&l.errors.push(function t_(){return new o.vHH(3012,!1)}()),Oe&&l.errors.push(function df(){return new o.vHH(3200,!1)}());const Cn=h.steps.length;let Cr=0;$>0&&$<Cn?l.errors.push(function n_(){return new o.vHH(3202,!1)}()):0==$&&(Cr=1/(Cn-1));const Er=Cn-1,er=l.currentTime,or=l.currentAnimateTimings,Li=or.duration;return ln.forEach((wi,Ji)=>{const Di=Cr>0?Ji==Er?1:Cr*Ji:pe[Ji],co=Di*Li;l.currentTime=er+or.delay+co,or.duration=co,this._validateStyleAst(wi,l),wi.offset=Di,_.styles.push(wi)}),_}visitReference(h,l){return{type:8,animation:ls(this,Jc(h.animation),l),options:tl(h.options)}}visitAnimateChild(h,l){return l.depCount++,{type:9,options:tl(h.options)}}visitAnimateRef(h,l){return{type:10,animation:this.visitReference(h.animation,l),options:tl(h.options)}}visitQuery(h,l){const _=l.currentQuerySelector,C=h.options||{};l.queryCount++,l.currentQuery=h;const[$,pe]=function bf(y){const h=!!y.split(/\s*,\s*/).find(l=>":self"==l);return h&&(y=y.replace(cu,"")),y=y.replace(/@\*/g,fh).replace(/@\w+/g,l=>fh+"-"+l.slice(1)).replace(/:animating/g,Pp),[y,h]}(h.selector);l.currentQuerySelector=_.length?_+" "+$:$,as(l.collectedStyles,l.currentQuerySelector,new Map);const Oe=ls(this,Jc(h.animation),l);return l.currentQuery=null,l.currentQuerySelector=_,{type:11,selector:$,limit:C.limit||0,optional:!!C.optional,includeSelf:pe,animation:Oe,originalSelector:h.selector,options:tl(h.options)}}visitStagger(h,l){l.currentQuery||l.errors.push(function bp(){return new o.vHH(3013,!1)}());const _="full"===h.timings?{duration:0,delay:0,easing:"full"}:cd(h.timings,l.errors,!0);return{type:12,animation:ls(this,Jc(h.animation),l),timings:_,options:null}}}class el{constructor(h){this.errors=h,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function tl(y){return y?(y=Pl(y)).params&&(y.params=function Vp(y){return y?Pl(y):null}(y.params)):y={},y}function Cf(y,h,l){return{duration:y,delay:h,easing:l}}function Rl(y,h,l,_,C,$,pe=null,Oe=!1){return{type:1,element:y,keyframes:h,preStyleProps:l,postStyleProps:_,duration:C,delay:$,totalTime:C+$,easing:pe,subTimeline:Oe}}class Eh{constructor(){this._map=new Map}get(h){return this._map.get(h)||[]}append(h,l){let _=this._map.get(h);_||this._map.set(h,_=[]),_.push(...l)}has(h){return this._map.has(h)}clear(){this._map.clear()}}const a_=new RegExp(":enter","g"),l_=new RegExp(":leave","g");function pd(y,h,l,_,C,$=new Map,pe=new Map,Oe,mt,St=[]){return(new gd).buildKeyframes(y,h,l,_,C,$,pe,Oe,mt,St)}class gd{buildKeyframes(h,l,_,C,$,pe,Oe,mt,St,ln=[]){St=St||new Eh;const Cn=new nl(h,l,St,C,$,ln,[]);Cn.options=mt;const Cr=mt.delay?fc(mt.delay):0;Cn.currentTimeline.delayNextStep(Cr),Cn.currentTimeline.setStyles([pe],null,Cn.errors,mt),ls(this,_,Cn);const Er=Cn.timelines.filter(er=>er.containsAnimation());if(Er.length&&Oe.size){let er;for(let or=Er.length-1;or>=0;or--){const Li=Er[or];if(Li.element===l){er=Li;break}}er&&!er.allowOnlyTimelineStyles()&&er.setStyles([Oe],null,Cn.errors,mt)}return Er.length?Er.map(er=>er.buildKeyframes()):[Rl(l,[],[],[],0,Cr,"",!1)]}visitTrigger(h,l){}visitState(h,l){}visitTransition(h,l){}visitAnimateChild(h,l){const _=l.subInstructions.get(l.element);if(_){const C=l.createSubContext(h.options),$=l.currentTimeline.currentTime,pe=this._visitSubInstructions(_,C,C.options);$!=pe&&l.transformIntoNewTimeline(pe)}l.previousNode=h}visitAnimateRef(h,l){const _=l.createSubContext(h.options);_.transformIntoNewTimeline(),this._applyAnimationRefDelays([h.options,h.animation.options],l,_),this.visitReference(h.animation,_),l.transformIntoNewTimeline(_.currentTimeline.currentTime),l.previousNode=h}_applyAnimationRefDelays(h,l,_){for(const C of h){const $=C?.delay;if($){const pe="number"==typeof $?$:fc(Ha($,C?.params??{},l.errors));_.delayNextStep(pe)}}}_visitSubInstructions(h,l,_){let $=l.currentTimeline.currentTime;const pe=null!=_.duration?fc(_.duration):null,Oe=null!=_.delay?fc(_.delay):null;return 0!==pe&&h.forEach(mt=>{const St=l.appendInstructionToTimeline(mt,pe,Oe);$=Math.max($,St.duration+St.delay)}),$}visitReference(h,l){l.updateOptions(h.options,!0),ls(this,h.animation,l),l.previousNode=h}visitSequence(h,l){const _=l.subContextCount;let C=l;const $=h.options;if($&&($.params||$.delay)&&(C=l.createSubContext($),C.transformIntoNewTimeline(),null!=$.delay)){6==C.previousNode.type&&(C.currentTimeline.snapshotCurrentStyles(),C.previousNode=js);const pe=fc($.delay);C.delayNextStep(pe)}h.steps.length&&(h.steps.forEach(pe=>ls(this,pe,C)),C.currentTimeline.applyStylesToKeyframe(),C.subContextCount>_&&C.transformIntoNewTimeline()),l.previousNode=h}visitGroup(h,l){const _=[];let C=l.currentTimeline.currentTime;const $=h.options&&h.options.delay?fc(h.options.delay):0;h.steps.forEach(pe=>{const Oe=l.createSubContext(h.options);$&&Oe.delayNextStep($),ls(this,pe,Oe),C=Math.max(C,Oe.currentTimeline.currentTime),_.push(Oe.currentTimeline)}),_.forEach(pe=>l.currentTimeline.mergeTimelineCollectedStyles(pe)),l.transformIntoNewTimeline(C),l.previousNode=h}_visitTiming(h,l){if(h.dynamic){const _=h.strValue;return cd(l.params?Ha(_,l.params,l.errors):_,l.errors)}return{duration:h.duration,delay:h.delay,easing:h.easing}}visitAnimate(h,l){const _=l.currentAnimateTimings=this._visitTiming(h.timings,l),C=l.currentTimeline;_.delay&&(l.incrementTime(_.delay),C.snapshotCurrentStyles());const $=h.style;5==$.type?this.visitKeyframes($,l):(l.incrementTime(_.duration),this.visitStyle($,l),C.applyStylesToKeyframe()),l.currentAnimateTimings=null,l.previousNode=h}visitStyle(h,l){const _=l.currentTimeline,C=l.currentAnimateTimings;!C&&_.hasCurrentStyleProperties()&&_.forwardFrame();const $=C&&C.easing||h.easing;h.isEmptyStep?_.applyEmptyStep($):_.setStyles(h.styles,$,l.errors,l.options),l.previousNode=h}visitKeyframes(h,l){const _=l.currentAnimateTimings,C=l.currentTimeline.duration,$=_.duration,Oe=l.createSubContext().currentTimeline;Oe.easing=_.easing,h.styles.forEach(mt=>{Oe.forwardTime((mt.offset||0)*$),Oe.setStyles(mt.styles,mt.easing,l.errors,l.options),Oe.applyStylesToKeyframe()}),l.currentTimeline.mergeTimelineCollectedStyles(Oe),l.transformIntoNewTimeline(C+$),l.previousNode=h}visitQuery(h,l){const _=l.currentTimeline.currentTime,C=h.options||{},$=C.delay?fc(C.delay):0;$&&(6===l.previousNode.type||0==_&&l.currentTimeline.hasCurrentStyleProperties())&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=js);let pe=_;const Oe=l.invokeQuery(h.selector,h.originalSelector,h.limit,h.includeSelf,!!C.optional,l.errors);l.currentQueryTotal=Oe.length;let mt=null;Oe.forEach((St,ln)=>{l.currentQueryIndex=ln;const Cn=l.createSubContext(h.options,St);$&&Cn.delayNextStep($),St===l.element&&(mt=Cn.currentTimeline),ls(this,h.animation,Cn),Cn.currentTimeline.applyStylesToKeyframe(),pe=Math.max(pe,Cn.currentTimeline.currentTime)}),l.currentQueryIndex=0,l.currentQueryTotal=0,l.transformIntoNewTimeline(pe),mt&&(l.currentTimeline.mergeTimelineCollectedStyles(mt),l.currentTimeline.snapshotCurrentStyles()),l.previousNode=h}visitStagger(h,l){const _=l.parentContext,C=l.currentTimeline,$=h.timings,pe=Math.abs($.duration),Oe=pe*(l.currentQueryTotal-1);let mt=pe*l.currentQueryIndex;switch($.duration<0?"reverse":$.easing){case"reverse":mt=Oe-mt;break;case"full":mt=_.currentStaggerTime}const ln=l.currentTimeline;mt&&ln.delayNextStep(mt);const Cn=ln.currentTime;ls(this,h.animation,l),l.previousNode=h,_.currentStaggerTime=C.currentTime-Cn+(C.startTime-_.currentTimeline.startTime)}}const js={};class nl{constructor(h,l,_,C,$,pe,Oe,mt){this._driver=h,this.element=l,this.subInstructions=_,this._enterClassName=C,this._leaveClassName=$,this.errors=pe,this.timelines=Oe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=js,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=mt||new md(this._driver,l,0),Oe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(h,l){if(!h)return;const _=h;let C=this.options;null!=_.duration&&(C.duration=fc(_.duration)),null!=_.delay&&(C.delay=fc(_.delay));const $=_.params;if($){let pe=C.params;pe||(pe=this.options.params={}),Object.keys($).forEach(Oe=>{(!l||!pe.hasOwnProperty(Oe))&&(pe[Oe]=Ha($[Oe],pe,this.errors))})}}_copyOptions(){const h={};if(this.options){const l=this.options.params;if(l){const _=h.params={};Object.keys(l).forEach(C=>{_[C]=l[C]})}}return h}createSubContext(h=null,l,_){const C=l||this.element,$=new nl(this._driver,C,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(C,_||0));return $.previousNode=this.previousNode,$.currentAnimateTimings=this.currentAnimateTimings,$.options=this._copyOptions(),$.updateOptions(h),$.currentQueryIndex=this.currentQueryIndex,$.currentQueryTotal=this.currentQueryTotal,$.parentContext=this,this.subContextCount++,$}transformIntoNewTimeline(h){return this.previousNode=js,this.currentTimeline=this.currentTimeline.fork(this.element,h),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(h,l,_){const C={duration:l??h.duration,delay:this.currentTimeline.currentTime+(_??0)+h.delay,easing:""},$=new wf(this._driver,h.element,h.keyframes,h.preStyleProps,h.postStyleProps,C,h.stretchStartingKeyframe);return this.timelines.push($),C}incrementTime(h){this.currentTimeline.forwardTime(this.currentTimeline.duration+h)}delayNextStep(h){h>0&&this.currentTimeline.delayNextStep(h)}invokeQuery(h,l,_,C,$,pe){let Oe=[];if(C&&Oe.push(this.element),h.length>0){h=(h=h.replace(a_,"."+this._enterClassName)).replace(l_,"."+this._leaveClassName);let St=this._driver.query(this.element,h,1!=_);0!==_&&(St=_<0?St.slice(St.length+_,St.length):St.slice(0,_)),Oe.push(...St)}return!$&&0==Oe.length&&pe.push(function Us(y){return new o.vHH(3014,!1)}()),Oe}}class md{constructor(h,l,_,C){this._driver=h,this.element=l,this.startTime=_,this._elementTimelineStylesLookup=C,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(l),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(l,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(h){const l=1===this._keyframes.size&&this._pendingStyles.size;this.duration||l?(this.forwardTime(this.currentTime+h),l&&this.snapshotCurrentStyles()):this.startTime+=h}fork(h,l){return this.applyStylesToKeyframe(),new md(this._driver,h,l||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(h){this.applyStylesToKeyframe(),this.duration=h,this._loadKeyframe()}_updateStyle(h,l){this._localTimelineStyles.set(h,l),this._globalTimelineStyles.set(h,l),this._styleSummary.set(h,{time:this.currentTime,value:l})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(h){h&&this._previousKeyframe.set("easing",h);for(let[l,_]of this._globalTimelineStyles)this._backFill.set(l,_||vr),this._currentKeyframe.set(l,vr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(h,l,_,C){l&&this._previousKeyframe.set("easing",l);const $=C&&C.params||{},pe=function Up(y,h){const l=new Map;let _;return y.forEach(C=>{if("*"===C){_=_||h.keys();for(let $ of _)l.set($,vr)}else ja(C,l)}),l}(h,this._globalTimelineStyles);for(let[Oe,mt]of pe){const St=Ha(mt,$,_);this._pendingStyles.set(Oe,St),this._localTimelineStyles.has(Oe)||this._backFill.set(Oe,this._globalTimelineStyles.get(Oe)??vr),this._updateStyle(Oe,St)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((h,l)=>{this._currentKeyframe.set(l,h)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((h,l)=>{this._currentKeyframe.has(l)||this._currentKeyframe.set(l,h)}))}snapshotCurrentStyles(){for(let[h,l]of this._localTimelineStyles)this._pendingStyles.set(h,l),this._updateStyle(h,l)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const h=[];for(let l in this._currentKeyframe)h.push(l);return h}mergeTimelineCollectedStyles(h){h._styleSummary.forEach((l,_)=>{const C=this._styleSummary.get(_);(!C||l.time>C.time)&&this._updateStyle(_,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const h=new Set,l=new Set,_=1===this._keyframes.size&&0===this.duration;let C=[];this._keyframes.forEach((Oe,mt)=>{const St=ja(Oe,new Map,this._backFill);St.forEach((ln,Cn)=>{"!"===ln?h.add(Cn):ln===vr&&l.add(Cn)}),_||St.set("offset",mt/this.duration),C.push(St)});const $=h.size?Xc(h.values()):[],pe=l.size?Xc(l.values()):[];if(_){const Oe=C[0],mt=new Map(Oe);Oe.set("offset",0),mt.set("offset",1),C=[Oe,mt]}return Rl(this.element,C,$,pe,this.duration,this.startTime,this.easing,!1)}}class wf extends md{constructor(h,l,_,C,$,pe,Oe=!1){super(h,l,pe.delay),this.keyframes=_,this.preStyleProps=C,this.postStyleProps=$,this._stretchStartingKeyframe=Oe,this.timings={duration:pe.duration,delay:pe.delay,easing:pe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let h=this.keyframes,{delay:l,duration:_,easing:C}=this.timings;if(this._stretchStartingKeyframe&&l){const $=[],pe=_+l,Oe=l/pe,mt=ja(h[0]);mt.set("offset",0),$.push(mt);const St=ja(h[0]);St.set("offset",Ah(Oe)),$.push(St);const ln=h.length-1;for(let Cn=1;Cn<=ln;Cn++){let Cr=ja(h[Cn]);const Er=Cr.get("offset");Cr.set("offset",Ah((l+Er*_)/pe)),$.push(Cr)}_=pe,l=0,C="",h=$}return Rl(this.element,h,this.preStyleProps,this.postStyleProps,_,l,C,!0)}}function Ah(y,h=3){const l=Math.pow(10,h-1);return Math.round(y*l)/l}class Bp{}const Df=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Jg extends Bp{normalizePropertyName(h,l){return mh(h)}normalizeStyleValue(h,l,_,C){let $="";const pe=_.toString().trim();if(Df.has(l)&&0!==_&&"0"!==_)if("number"==typeof _)$="px";else{const Oe=_.match(/^[+-]?[\d\.]+([a-z]*)$/);Oe&&0==Oe[1].length&&C.push(function ed(y,h){return new o.vHH(3005,!1)}())}return pe+$}}function Xg(y,h,l,_,C,$,pe,Oe,mt,St,ln,Cn,Cr){return{type:0,element:y,triggerName:h,isRemovalTransition:C,fromState:l,fromStyles:$,toState:_,toStyles:pe,timelines:Oe,queriedElements:mt,preStyleProps:St,postStyleProps:ln,totalTime:Cn,errors:Cr}}const rl={};class Sf{constructor(h,l,_){this._triggerName=h,this.ast=l,this._stateStyles=_}match(h,l,_,C){return function d_(y,h,l,_,C){return y.some($=>$(h,l,_,C))}(this.ast.matchers,h,l,_,C)}buildStyles(h,l,_){let C=this._stateStyles.get("*");return void 0!==h&&(C=this._stateStyles.get(h?.toString())||C),C?C.buildStyles(l,_):new Map}build(h,l,_,C,$,pe,Oe,mt,St,ln){const Cn=[],Cr=this.ast.options&&this.ast.options.params||rl,er=this.buildStyles(_,Oe&&Oe.params||rl,Cn),or=mt&&mt.params||rl,Li=this.buildStyles(C,or,Cn),wi=new Set,Ji=new Map,Di=new Map,co="void"===C,cl={params:h_(or,Cr),delay:this.ast.options?.delay},Bi=ln?[]:pd(h,l,this.ast.animation,$,pe,er,Li,cl,St,Cn);let Xi=0;if(Bi.forEach(Xo=>{Xi=Math.max(Xo.duration+Xo.delay,Xi)}),Cn.length)return Xg(l,this._triggerName,_,C,co,er,Li,[],[],Ji,Di,Xi,Cn);Bi.forEach(Xo=>{const As=Xo.element,Si=as(Ji,As,new Set);Xo.preStyleProps.forEach(hs=>Si.add(hs));const la=as(Di,As,new Set);Xo.postStyleProps.forEach(hs=>la.add(hs)),As!==l&&wi.add(As)});const Jo=Xc(wi.values());return Xg(l,this._triggerName,_,C,co,er,Li,Bi,Jo,Ji,Di,Xi)}}function h_(y,h){const l=Pl(h);for(const _ in y)y.hasOwnProperty(_)&&null!=y[_]&&(l[_]=y[_]);return l}class jp{constructor(h,l,_){this.styles=h,this.defaultParams=l,this.normalizer=_}buildStyles(h,l){const _=new Map,C=Pl(this.defaultParams);return Object.keys(h).forEach($=>{const pe=h[$];null!==pe&&(C[$]=pe)}),this.styles.styles.forEach($=>{"string"!=typeof $&&$.forEach((pe,Oe)=>{pe&&(pe=Ha(pe,C,l));const mt=this.normalizer.normalizePropertyName(Oe,l);pe=this.normalizer.normalizeStyleValue(Oe,mt,pe,l),_.set(Oe,pe)})}),_}}class Hp{constructor(h,l,_){this.name=h,this.ast=l,this._normalizer=_,this.transitionFactories=[],this.states=new Map,l.states.forEach(C=>{this.states.set(C.name,new jp(C.style,C.options&&C.options.params||{},_))}),em(this.states,"true","1"),em(this.states,"false","0"),l.transitions.forEach(C=>{this.transitionFactories.push(new Sf(h,C,this.states))}),this.fallbackTransition=function zp(y,h,l){return new Sf(y,{type:1,animation:{type:2,steps:[],options:null},matchers:[(pe,Oe)=>!0],options:null,queryCount:0,depCount:0},h)}(h,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(h,l,_,C){return this.transitionFactories.find(pe=>pe.match(h,l,_,C))||null}matchStyles(h,l,_){return this.fallbackTransition.buildStyles(h,l,_)}}function em(y,h,l){y.has(h)?y.has(l)||y.set(l,y.get(h)):y.has(l)&&y.set(h,y.get(l))}const uu=new Eh;class tm{constructor(h,l,_){this.bodyNode=h,this._driver=l,this._normalizer=_,this._animations=new Map,this._playersById=new Map,this.players=[]}register(h,l){const _=[],$=yh(this._driver,l,_,[]);if(_.length)throw function ff(y){return new o.vHH(3503,!1)}();this._animations.set(h,$)}_buildPlayer(h,l,_){const C=h.element,$=pf(this._normalizer,h.keyframes,l,_);return this._driver.animate(C,$,h.duration,h.delay,h.easing,[],!0)}create(h,l,_={}){const C=[],$=this._animations.get(h);let pe;const Oe=new Map;if($?(pe=pd(this._driver,l,$,iu,ou,new Map,new Map,_,uu,C),pe.forEach(ln=>{const Cn=as(Oe,ln.element,new Map);ln.postStyleProps.forEach(Cr=>Cn.set(Cr,null))})):(C.push(function nd(){return new o.vHH(3300,!1)}()),pe=[]),C.length)throw function Yc(y){return new o.vHH(3504,!1)}();Oe.forEach((ln,Cn)=>{ln.forEach((Cr,Er)=>{ln.set(Er,this._driver.computeStyle(Cn,Er,vr))})});const St=Bs(pe.map(ln=>{const Cn=Oe.get(ln.element);return this._buildPlayer(ln,new Map,Cn)}));return this._playersById.set(h,St),St.onDestroy(()=>this.destroy(h)),this.players.push(St),St}destroy(h){const l=this._getPlayer(h);l.destroy(),this._playersById.delete(h);const _=this.players.indexOf(l);_>=0&&this.players.splice(_,1)}_getPlayer(h){const l=this._playersById.get(h);if(!l)throw function Cp(y){return new o.vHH(3301,!1)}();return l}listen(h,l,_,C){const $=od(l,"","","");return Dp(this._getPlayer(h),_,$,C),()=>{}}command(h,l,_,C){if("register"==_)return void this.register(h,C[0]);if("create"==_)return void this.create(h,l,C[0]||{});const $=this._getPlayer(h);switch(_){case"play":$.play();break;case"pause":$.pause();break;case"reset":$.reset();break;case"restart":$.restart();break;case"finish":$.finish();break;case"init":$.init();break;case"setPosition":$.setPosition(parseFloat(C[0]));break;case"destroy":this.destroy(h)}}}const nm="ng-animate-queued",Pf="ng-animate-disabled",om=[],xf={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},f_={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ca="__ng_removed";class Sr{get params(){return this.options.params}constructor(h,l=""){this.namespaceId=l;const _=h&&h.hasOwnProperty("value");if(this.value=function za(y){return y??null}(_?h.value:h),_){const $=Pl(h);delete $.value,this.options=$}else this.options={};this.options.params||(this.options.params={})}absorbOptions(h){const l=h.params;if(l){const _=this.options.params;Object.keys(l).forEach(C=>{null==_[C]&&(_[C]=l[C])})}}}const mc="void",Ih=new Sr(mc);class _d{constructor(h,l,_){this.id=h,this.hostElement=l,this._engine=_,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+h,Hs(l,this._hostClassName)}listen(h,l,_,C){if(!this._triggers.has(l))throw function nu(y,h){return new o.vHH(3302,!1)}();if(null==_||0==_.length)throw function rd(y){return new o.vHH(3303,!1)}();if(!function Of(y){return"start"==y||"done"==y}(_))throw function Tp(y,h){return new o.vHH(3400,!1)}();const $=as(this._elementListeners,h,[]),pe={name:l,phase:_,callback:C};$.push(pe);const Oe=as(this._engine.statesByElement,h,new Map);return Oe.has(l)||(Hs(h,Ia),Hs(h,Ia+"-"+l),Oe.set(l,Ih)),()=>{this._engine.afterFlush(()=>{const mt=$.indexOf(pe);mt>=0&&$.splice(mt,1),this._triggers.has(l)||Oe.delete(l)})}}register(h,l){return!this._triggers.has(h)&&(this._triggers.set(h,l),!0)}_getTrigger(h){const l=this._triggers.get(h);if(!l)throw function id(y){return new o.vHH(3401,!1)}();return l}trigger(h,l,_,C=!0){const $=this._getTrigger(l),pe=new xo(this.id,l,h);let Oe=this._engine.statesByElement.get(h);Oe||(Hs(h,Ia),Hs(h,Ia+"-"+l),this._engine.statesByElement.set(h,Oe=new Map));let mt=Oe.get(l);const St=new Sr(_,this.id);if(!(_&&_.hasOwnProperty("value"))&&mt&&St.absorbOptions(mt.options),Oe.set(l,St),mt||(mt=Ih),St.value!==mc&&mt.value===St.value){if(!function cm(y,h){const l=Object.keys(y),_=Object.keys(h);if(l.length!=_.length)return!1;for(let C=0;C<l.length;C++){const $=l[C];if(!h.hasOwnProperty($)||y[$]!==h[$])return!1}return!0}(mt.params,St.params)){const or=[],Li=$.matchStyles(mt.value,mt.params,or),wi=$.matchStyles(St.value,St.params,or);or.length?this._engine.reportError(or):this._engine.afterFlush(()=>{xl(h,Li),cs(h,wi)})}return}const Cr=as(this._engine.playersByElement,h,[]);Cr.forEach(or=>{or.namespaceId==this.id&&or.triggerName==l&&or.queued&&or.destroy()});let Er=$.matchTransition(mt.value,St.value,h,St.params),er=!1;if(!Er){if(!C)return;Er=$.fallbackTransition,er=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:h,triggerName:l,transition:Er,fromState:mt,toState:St,player:pe,isFallbackTransition:er}),er||(Hs(h,nm),pe.onStart(()=>{il(h,nm)})),pe.onDone(()=>{let or=this.players.indexOf(pe);or>=0&&this.players.splice(or,1);const Li=this._engine.playersByElement.get(h);if(Li){let wi=Li.indexOf(pe);wi>=0&&Li.splice(wi,1)}}),this.players.push(pe),Cr.push(pe),pe}deregister(h){this._triggers.delete(h),this._engine.statesByElement.forEach(l=>l.delete(h)),this._elementListeners.forEach((l,_)=>{this._elementListeners.set(_,l.filter(C=>C.name!=h))})}clearElementCache(h){this._engine.statesByElement.delete(h),this._elementListeners.delete(h);const l=this._engine.playersByElement.get(h);l&&(l.forEach(_=>_.destroy()),this._engine.playersByElement.delete(h))}_signalRemovalForInnerTriggers(h,l){const _=this._engine.driver.query(h,fh,!0);_.forEach(C=>{if(C[ca])return;const $=this._engine.fetchNamespacesByElement(C);$.size?$.forEach(pe=>pe.triggerLeaveAnimation(C,l,!1,!0)):this.clearElementCache(C)}),this._engine.afterFlushAnimationsDone(()=>_.forEach(C=>this.clearElementCache(C)))}triggerLeaveAnimation(h,l,_,C){const $=this._engine.statesByElement.get(h),pe=new Map;if($){const Oe=[];if($.forEach((mt,St)=>{if(pe.set(St,mt.value),this._triggers.has(St)){const ln=this.trigger(h,St,mc,C);ln&&Oe.push(ln)}}),Oe.length)return this._engine.markElementAsRemoved(this.id,h,!0,l,pe),_&&Bs(Oe).onDone(()=>this._engine.processLeaveNode(h)),!0}return!1}prepareLeaveAnimationListeners(h){const l=this._elementListeners.get(h),_=this._engine.statesByElement.get(h);if(l&&_){const C=new Set;l.forEach($=>{const pe=$.name;if(C.has(pe))return;C.add(pe);const mt=this._triggers.get(pe).fallbackTransition,St=_.get(pe)||Ih,ln=new Sr(mc),Cn=new xo(this.id,pe,h);this._engine.totalQueuedPlayers++,this._queue.push({element:h,triggerName:pe,transition:mt,fromState:St,toState:ln,player:Cn,isFallbackTransition:!0})})}}removeNode(h,l){const _=this._engine;if(h.childElementCount&&this._signalRemovalForInnerTriggers(h,l),this.triggerLeaveAnimation(h,l,!0))return;let C=!1;if(_.totalAnimations){const $=_.players.length?_.playersByQueriedElement.get(h):[];if($&&$.length)C=!0;else{let pe=h;for(;pe=pe.parentNode;)if(_.statesByElement.get(pe)){C=!0;break}}}if(this.prepareLeaveAnimationListeners(h),C)_.markElementAsRemoved(this.id,h,!1,l);else{const $=h[ca];(!$||$===xf)&&(_.afterFlush(()=>this.clearElementCache(h)),_.destroyInnerAnimations(h),_._onRemovalComplete(h,l))}}insertNode(h,l){Hs(h,this._hostClassName)}drainQueuedTransitions(h){const l=[];return this._queue.forEach(_=>{const C=_.player;if(C.destroyed)return;const $=_.element,pe=this._elementListeners.get($);pe&&pe.forEach(Oe=>{if(Oe.name==_.triggerName){const mt=od($,_.triggerName,_.fromState.value,_.toState.value);mt._data=h,Dp(_.player,Oe.phase,mt,Oe.callback)}}),C.markedForDestroy?this._engine.afterFlush(()=>{C.destroy()}):l.push(_)}),this._queue=[],l.sort((_,C)=>{const $=_.transition.ast.depCount,pe=C.transition.ast.depCount;return 0==$||0==pe?$-pe:this._engine.driver.containsElement(_.element,C.element)?1:-1})}destroy(h){this.players.forEach(l=>l.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,h)}}class Rf{_onRemovalComplete(h,l){this.onRemovalComplete(h,l)}constructor(h,l,_){this.bodyNode=h,this.driver=l,this._normalizer=_,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(C,$)=>{}}get queuedPlayers(){const h=[];return this._namespaceList.forEach(l=>{l.players.forEach(_=>{_.queued&&h.push(_)})}),h}createNamespace(h,l){const _=new _d(h,l,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,l)?this._balanceNamespaceList(_,l):(this.newHostElements.set(l,_),this.collectEnterElement(l)),this._namespaceLookup[h]=_}_balanceNamespaceList(h,l){const _=this._namespaceList,C=this.namespacesByHostElement;if(_.length-1>=0){let pe=!1,Oe=this.driver.getParentElement(l);for(;Oe;){const mt=C.get(Oe);if(mt){const St=_.indexOf(mt);_.splice(St+1,0,h),pe=!0;break}Oe=this.driver.getParentElement(Oe)}pe||_.unshift(h)}else _.push(h);return C.set(l,h),h}register(h,l){let _=this._namespaceLookup[h];return _||(_=this.createNamespace(h,l)),_}registerTrigger(h,l,_){let C=this._namespaceLookup[h];C&&C.register(l,_)&&this.totalAnimations++}destroy(h,l){h&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const _=this._fetchNamespace(h);this.namespacesByHostElement.delete(_.hostElement);const C=this._namespaceList.indexOf(_);C>=0&&this._namespaceList.splice(C,1),_.destroy(l),delete this._namespaceLookup[h]}))}_fetchNamespace(h){return this._namespaceLookup[h]}fetchNamespacesByElement(h){const l=new Set,_=this.statesByElement.get(h);if(_)for(let C of _.values())if(C.namespaceId){const $=this._fetchNamespace(C.namespaceId);$&&l.add($)}return l}trigger(h,l,_,C){if(bh(l)){const $=this._fetchNamespace(h);if($)return $.trigger(l,_,C),!0}return!1}insertNode(h,l,_,C){if(!bh(l))return;const $=l[ca];if($&&$.setForRemoval){$.setForRemoval=!1,$.setForMove=!0;const pe=this.collectedLeaveElements.indexOf(l);pe>=0&&this.collectedLeaveElements.splice(pe,1)}if(h){const pe=this._fetchNamespace(h);pe&&pe.insertNode(l,_)}C&&this.collectEnterElement(l)}collectEnterElement(h){this.collectedEnterElements.push(h)}markElementAsDisabled(h,l){l?this.disabledNodes.has(h)||(this.disabledNodes.add(h),Hs(h,Pf)):this.disabledNodes.has(h)&&(this.disabledNodes.delete(h),il(h,Pf))}removeNode(h,l,_){if(bh(l)){const C=h?this._fetchNamespace(h):null;C?C.removeNode(l,_):this.markElementAsRemoved(h,l,!1,_);const $=this.namespacesByHostElement.get(l);$&&$.id!==h&&$.removeNode(l,_)}else this._onRemovalComplete(l,_)}markElementAsRemoved(h,l,_,C,$){this.collectedLeaveElements.push(l),l[ca]={namespaceId:h,setForRemoval:C,hasAnimation:_,removedBeforeQueried:!1,previousTriggersValues:$}}listen(h,l,_,C,$){return bh(l)?this._fetchNamespace(h).listen(l,_,C,$):()=>{}}_buildInstruction(h,l,_,C,$){return h.transition.build(this.driver,h.element,h.fromState.value,h.toState.value,_,C,h.fromState.options,h.toState.options,l,$)}destroyInnerAnimations(h){let l=this.driver.query(h,fh,!0);l.forEach(_=>this.destroyActiveAnimationsForElement(_)),0!=this.playersByQueriedElement.size&&(l=this.driver.query(h,Pp,!0),l.forEach(_=>this.finishActiveQueriedAnimationOnElement(_)))}destroyActiveAnimationsForElement(h){const l=this.playersByElement.get(h);l&&l.forEach(_=>{_.queued?_.markedForDestroy=!0:_.destroy()})}finishActiveQueriedAnimationOnElement(h){const l=this.playersByQueriedElement.get(h);l&&l.forEach(_=>_.finish())}whenRenderingDone(){return new Promise(h=>{if(this.players.length)return Bs(this.players).onDone(()=>h());h()})}processLeaveNode(h){const l=h[ca];if(l&&l.setForRemoval){if(h[ca]=xf,l.namespaceId){this.destroyInnerAnimations(h);const _=this._fetchNamespace(l.namespaceId);_&&_.clearElementCache(h)}this._onRemovalComplete(h,l.setForRemoval)}h.classList?.contains(Pf)&&this.markElementAsDisabled(h,!1),this.driver.query(h,".ng-animate-disabled",!0).forEach(_=>{this.markElementAsDisabled(_,!1)})}flush(h=-1){let l=[];if(this.newHostElements.size&&(this.newHostElements.forEach((_,C)=>this._balanceNamespaceList(_,C)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let _=0;_<this.collectedEnterElements.length;_++)Hs(this.collectedEnterElements[_],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const _=[];try{l=this._flushAnimations(_,h)}finally{for(let C=0;C<_.length;C++)_[C]()}}else for(let _=0;_<this.collectedLeaveElements.length;_++)this.processLeaveNode(this.collectedLeaveElements[_]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(_=>_()),this._flushFns=[],this._whenQuietFns.length){const _=this._whenQuietFns;this._whenQuietFns=[],l.length?Bs(l).onDone(()=>{_.forEach(C=>C())}):_.forEach(C=>C())}}reportError(h){throw function r_(y){return new o.vHH(3402,!1)}()}_flushAnimations(h,l){const _=new Eh,C=[],$=new Map,pe=[],Oe=new Map,mt=new Map,St=new Map,ln=new Set;this.disabledNodes.forEach(jn=>{ln.add(jn);const lr=this.driver.query(jn,".ng-animate-queued",!0);for(let gr=0;gr<lr.length;gr++)ln.add(lr[gr])});const Cn=this.bodyNode,Cr=Array.from(this.statesByElement.keys()),Er=kf(Cr,this.collectedEnterElements),er=new Map;let or=0;Er.forEach((jn,lr)=>{const gr=iu+or++;er.set(lr,gr),jn.forEach(di=>Hs(di,gr))});const Li=[],wi=new Set,Ji=new Set;for(let jn=0;jn<this.collectedLeaveElements.length;jn++){const lr=this.collectedLeaveElements[jn],gr=lr[ca];gr&&gr.setForRemoval&&(Li.push(lr),wi.add(lr),gr.hasAnimation?this.driver.query(lr,".ng-star-inserted",!0).forEach(di=>wi.add(di)):Ji.add(lr))}const Di=new Map,co=kf(Cr,Array.from(wi));co.forEach((jn,lr)=>{const gr=ou+or++;Di.set(lr,gr),jn.forEach(di=>Hs(di,gr))}),h.push(()=>{Er.forEach((jn,lr)=>{const gr=er.get(lr);jn.forEach(di=>il(di,gr))}),co.forEach((jn,lr)=>{const gr=Di.get(lr);jn.forEach(di=>il(di,gr))}),Li.forEach(jn=>{this.processLeaveNode(jn)})});const cl=[],Bi=[];for(let jn=this._namespaceList.length-1;jn>=0;jn--)this._namespaceList[jn].drainQueuedTransitions(l).forEach(gr=>{const di=gr.player,$o=gr.element;if(cl.push(di),this.collectedEnterElements.length){const fs=$o[ca];if(fs&&fs.setForMove){if(fs.previousTriggersValues&&fs.previousTriggersValues.has(gr.triggerName)){const Rd=fs.previousTriggersValues.get(gr.triggerName),Qa=this.statesByElement.get(gr.element);if(Qa&&Qa.has(gr.triggerName)){const Ya=Qa.get(gr.triggerName);Ya.value=Rd,Qa.set(gr.triggerName,Ya)}}return void di.destroy()}}const Is=!Cn||!this.driver.containsElement(Cn,$o),Ro=Di.get($o),vc=er.get($o),eo=this._buildInstruction(gr,_,vc,Ro,Is);if(eo.errors&&eo.errors.length)return void Bi.push(eo);if(Is)return di.onStart(()=>xl($o,eo.fromStyles)),di.onDestroy(()=>cs($o,eo.toStyles)),void C.push(di);if(gr.isFallbackTransition)return di.onStart(()=>xl($o,eo.fromStyles)),di.onDestroy(()=>cs($o,eo.toStyles)),void C.push(di);const ip=[];eo.timelines.forEach(fs=>{fs.stretchStartingKeyframe=!0,this.disabledNodes.has(fs.element)||ip.push(fs)}),eo.timelines=ip,_.append($o,eo.timelines),pe.push({instruction:eo,player:di,element:$o}),eo.queriedElements.forEach(fs=>as(Oe,fs,[]).push(di)),eo.preStyleProps.forEach((fs,Rd)=>{if(fs.size){let Qa=mt.get(Rd);Qa||mt.set(Rd,Qa=new Set),fs.forEach((Ya,vg)=>Qa.add(vg))}}),eo.postStyleProps.forEach((fs,Rd)=>{let Qa=St.get(Rd);Qa||St.set(Rd,Qa=new Set),fs.forEach((Ya,vg)=>Qa.add(vg))})});if(Bi.length){const jn=[];Bi.forEach(lr=>{jn.push(function dh(y,h){return new o.vHH(3505,!1)}())}),cl.forEach(lr=>lr.destroy()),this.reportError(jn)}const Xi=new Map,Jo=new Map;pe.forEach(jn=>{const lr=jn.element;_.has(lr)&&(Jo.set(lr,lr),this._beforeAnimationBuild(jn.player.namespaceId,jn.instruction,Xi))}),C.forEach(jn=>{const lr=jn.element;this._getPreviousPlayers(lr,!1,jn.namespaceId,jn.triggerName,null).forEach(di=>{as(Xi,lr,[]).push(di),di.destroy()})});const Xo=Li.filter(jn=>Ch(jn,mt,St)),As=new Map;Nf(As,this.driver,Ji,St,vr).forEach(jn=>{Ch(jn,mt,St)&&Xo.push(jn)});const la=new Map;Er.forEach((jn,lr)=>{Nf(la,this.driver,new Set(jn),mt,"!")}),Xo.forEach(jn=>{const lr=As.get(jn),gr=la.get(jn);As.set(jn,new Map([...lr?.entries()??[],...gr?.entries()??[]]))});const hs=[],Ka=[],Cu={};pe.forEach(jn=>{const{element:lr,player:gr,instruction:di}=jn;if(_.has(lr)){if(ln.has(lr))return gr.onDestroy(()=>cs(lr,di.toStyles)),gr.disabled=!0,gr.overrideTotalTime(di.totalTime),void C.push(gr);let $o=Cu;if(Jo.size>1){let Ro=lr;const vc=[];for(;Ro=Ro.parentNode;){const eo=Jo.get(Ro);if(eo){$o=eo;break}vc.push(Ro)}vc.forEach(eo=>Jo.set(eo,$o))}const Is=this._buildAnimation(gr.namespaceId,di,Xi,$,la,As);if(gr.setRealPlayer(Is),$o===Cu)hs.push(gr);else{const Ro=this.playersByElement.get($o);Ro&&Ro.length&&(gr.parentPlayer=Bs(Ro)),C.push(gr)}}else xl(lr,di.fromStyles),gr.onDestroy(()=>cs(lr,di.toStyles)),Ka.push(gr),ln.has(lr)&&C.push(gr)}),Ka.forEach(jn=>{const lr=$.get(jn.element);if(lr&&lr.length){const gr=Bs(lr);jn.setRealPlayer(gr)}}),C.forEach(jn=>{jn.parentPlayer?jn.syncPlayerEvents(jn.parentPlayer):jn.destroy()});for(let jn=0;jn<Li.length;jn++){const lr=Li[jn],gr=lr[ca];if(il(lr,ou),gr&&gr.hasAnimation)continue;let di=[];if(Oe.size){let Is=Oe.get(lr);Is&&Is.length&&di.push(...Is);let Ro=this.driver.query(lr,Pp,!0);for(let vc=0;vc<Ro.length;vc++){let eo=Oe.get(Ro[vc]);eo&&eo.length&&di.push(...eo)}}const $o=di.filter(Is=>!Is.destroyed);$o.length?am(this,lr,$o):this.processLeaveNode(lr)}return Li.length=0,hs.forEach(jn=>{this.players.push(jn),jn.onDone(()=>{jn.destroy();const lr=this.players.indexOf(jn);this.players.splice(lr,1)}),jn.play()}),hs}afterFlush(h){this._flushFns.push(h)}afterFlushAnimationsDone(h){this._whenQuietFns.push(h)}_getPreviousPlayers(h,l,_,C,$){let pe=[];if(l){const Oe=this.playersByQueriedElement.get(h);Oe&&(pe=Oe)}else{const Oe=this.playersByElement.get(h);if(Oe){const mt=!$||$==mc;Oe.forEach(St=>{St.queued||!mt&&St.triggerName!=C||pe.push(St)})}}return(_||C)&&(pe=pe.filter(Oe=>!(_&&_!=Oe.namespaceId||C&&C!=Oe.triggerName))),pe}_beforeAnimationBuild(h,l,_){const $=l.element,pe=l.isRemovalTransition?void 0:h,Oe=l.isRemovalTransition?void 0:l.triggerName;for(const mt of l.timelines){const St=mt.element,ln=St!==$,Cn=as(_,St,[]);this._getPreviousPlayers(St,ln,pe,Oe,l.toState).forEach(Er=>{const er=Er.getRealPlayer();er.beforeDestroy&&er.beforeDestroy(),Er.destroy(),Cn.push(Er)})}xl($,l.fromStyles)}_buildAnimation(h,l,_,C,$,pe){const Oe=l.triggerName,mt=l.element,St=[],ln=new Set,Cn=new Set,Cr=l.timelines.map(er=>{const or=er.element;ln.add(or);const Li=or[ca];if(Li&&Li.removedBeforeQueried)return new aa(er.duration,er.delay);const wi=or!==mt,Ji=function du(y){const h=[];return Oi(y,h),h}((_.get(or)||om).map(Xi=>Xi.getRealPlayer())).filter(Xi=>!!Xi.element&&Xi.element===or),Di=$.get(or),co=pe.get(or),cl=pf(this._normalizer,er.keyframes,Di,co),Bi=this._buildPlayer(er,cl,Ji);if(er.subTimeline&&C&&Cn.add(or),wi){const Xi=new xo(h,Oe,or);Xi.setRealPlayer(Bi),St.push(Xi)}return Bi});St.forEach(er=>{as(this.playersByQueriedElement,er.element,[]).push(er),er.onDone(()=>function Io(y,h,l){let _=y.get(h);if(_){if(_.length){const C=_.indexOf(l);_.splice(C,1)}0==_.length&&y.delete(h)}return _}(this.playersByQueriedElement,er.element,er))}),ln.forEach(er=>Hs(er,ph));const Er=Bs(Cr);return Er.onDestroy(()=>{ln.forEach(er=>il(er,ph)),cs(mt,l.toStyles)}),Cn.forEach(er=>{as(C,er,[]).push(Er)}),Er}_buildPlayer(h,l,_){return l.length>0?this.driver.animate(h.element,l,h.duration,h.delay,h.easing,_):new aa(h.duration,h.delay)}}class xo{constructor(h,l,_){this.namespaceId=h,this.triggerName=l,this.element=_,this._player=new aa,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(h){this._containsRealPlayer||(this._player=h,this._queuedCallbacks.forEach((l,_)=>{l.forEach(C=>Dp(h,_,void 0,C))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(h.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(h){this.totalTime=h}syncPlayerEvents(h){const l=this._player;l.triggerCallback&&h.onStart(()=>l.triggerCallback("start")),h.onDone(()=>this.finish()),h.onDestroy(()=>this.destroy())}_queueEvent(h,l){as(this._queuedCallbacks,h,[]).push(l)}onDone(h){this.queued&&this._queueEvent("done",h),this._player.onDone(h)}onStart(h){this.queued&&this._queueEvent("start",h),this._player.onStart(h)}onDestroy(h){this.queued&&this._queueEvent("destroy",h),this._player.onDestroy(h)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(h){this.queued||this._player.setPosition(h)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(h){const l=this._player;l.triggerCallback&&l.triggerCallback(h)}}function bh(y){return y&&1===y.nodeType}function sm(y,h){const l=y.style.display;return y.style.display=h??"none",l}function Nf(y,h,l,_,C){const $=[];l.forEach(mt=>$.push(sm(mt)));const pe=[];_.forEach((mt,St)=>{const ln=new Map;mt.forEach(Cn=>{const Cr=h.computeStyle(St,Cn,C);ln.set(Cn,Cr),(!Cr||0==Cr.length)&&(St[ca]=f_,pe.push(St))}),y.set(St,ln)});let Oe=0;return l.forEach(mt=>sm(mt,$[Oe++])),pe}function kf(y,h){const l=new Map;if(y.forEach(Oe=>l.set(Oe,[])),0==h.length)return l;const C=new Set(h),$=new Map;function pe(Oe){if(!Oe)return 1;let mt=$.get(Oe);if(mt)return mt;const St=Oe.parentNode;return mt=l.has(St)?St:C.has(St)?1:pe(St),$.set(Oe,mt),mt}return h.forEach(Oe=>{const mt=pe(Oe);1!==mt&&l.get(mt).push(Oe)}),l}function Hs(y,h){y.classList?.add(h)}function il(y,h){y.classList?.remove(h)}function am(y,h,l){Bs(l).onDone(()=>y.processLeaveNode(h))}function Oi(y,h){for(let l=0;l<y.length;l++){const _=y[l];_ instanceof Xl?Oi(_.players,h):h.push(_)}}function Ch(y,h,l){const _=l.get(y);if(!_)return!1;let C=h.get(y);return C?_.forEach($=>C.add($)):h.set(y,_),l.delete(y),!0}class Ui{constructor(h,l,_){this.bodyNode=h,this._driver=l,this._normalizer=_,this._triggerCache={},this.onRemovalComplete=(C,$)=>{},this._transitionEngine=new Rf(h,l,_),this._timelineEngine=new tm(h,l,_),this._transitionEngine.onRemovalComplete=(C,$)=>this.onRemovalComplete(C,$)}registerTrigger(h,l,_,C,$){const pe=h+"-"+C;let Oe=this._triggerCache[pe];if(!Oe){const mt=[],ln=yh(this._driver,$,mt,[]);if(mt.length)throw function tu(y,h){return new o.vHH(3404,!1)}();Oe=function Mf(y,h,l){return new Hp(y,h,l)}(C,ln,this._normalizer),this._triggerCache[pe]=Oe}this._transitionEngine.registerTrigger(l,C,Oe)}register(h,l){this._transitionEngine.register(h,l)}destroy(h,l){this._transitionEngine.destroy(h,l)}onInsert(h,l,_,C){this._transitionEngine.insertNode(h,l,_,C)}onRemove(h,l,_){this._transitionEngine.removeNode(h,l,_)}disableAnimations(h,l){this._transitionEngine.markElementAsDisabled(h,l)}process(h,l,_,C){if("@"==_.charAt(0)){const[$,pe]=Ml(_);this._timelineEngine.command($,l,pe,C)}else this._transitionEngine.trigger(h,l,_,C)}listen(h,l,_,C,$){if("@"==_.charAt(0)){const[pe,Oe]=Ml(_);return this._timelineEngine.listen(pe,l,Oe,$)}return this._transitionEngine.listen(h,l,_,C,$)}flush(h=-1){this._transitionEngine.flush(h)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(h){this._transitionEngine.afterFlushAnimationsDone(h)}}let Lf=(()=>{class y{static#e=this.initialStylesByElement=new WeakMap;constructor(l,_,C){this._element=l,this._startStyles=_,this._endStyles=C,this._state=0;let $=y.initialStylesByElement.get(l);$||y.initialStylesByElement.set(l,$=new Map),this._initialStyles=$}start(){this._state<1&&(this._startStyles&&cs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(cs(this._element,this._initialStyles),this._endStyles&&(cs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(y.initialStylesByElement.delete(this._element),this._startStyles&&(xl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(xl(this._element,this._endStyles),this._endStyles=null),cs(this._element,this._initialStyles),this._state=3)}}return y})();function ba(y){let h=null;return y.forEach((l,_)=>{(function hu(y){return"display"===y||"position"===y})(_)&&(h=h||new Map,h.set(_,l))}),h}class Vf{constructor(h,l,_,C){this.element=h,this.keyframes=l,this.options=_,this._specialStyles=C,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=_.duration,this._delay=_.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const h=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,h,this.options),this._finalKeyframe=h.length?h[h.length-1]:new Map;const l=()=>this._onFinish();this.domPlayer.addEventListener("finish",l),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",l)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(h){const l=[];return h.forEach(_=>{l.push(Object.fromEntries(_))}),l}_triggerWebAnimation(h,l,_){return h.animate(this._convertKeyframesToObject(l),_)}onStart(h){this._originalOnStartFns.push(h),this._onStartFns.push(h)}onDone(h){this._originalOnDoneFns.push(h),this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(h=>h()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}setPosition(h){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=h*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const h=new Map;this.hasStarted()&&this._finalKeyframe.forEach((_,C)=>{"offset"!==C&&h.set(C,this._finished?_:_h(this.element,C))}),this.currentSnapshot=h}triggerCallback(h){const l="start"===h?this._onStartFns:this._onDoneFns;l.forEach(_=>_()),l.length=0}}class p_{validateStyleProperty(h){return!0}validateAnimatableStyleProperty(h){return!0}matchesElement(h,l){return!1}containsElement(h,l){return Zg(h,l)}getParentElement(h){return mf(h)}query(h,l,_){return Gg(h,l,_)}computeStyle(h,l,_){return window.getComputedStyle(h)[l]}animate(h,l,_,C,$,pe=[]){const mt={duration:_,delay:C,fill:0==C?"both":"forwards"};$&&(mt.easing=$);const St=new Map,ln=pe.filter(Er=>Er instanceof Vf);(function Np(y,h){return 0===y||0===h})(_,C)&&ln.forEach(Er=>{Er.currentSnapshot.forEach((er,or)=>St.set(or,er))});let Cn=function Rp(y){return y.length?y[0]instanceof Map?y:y.map(h=>yf(h)):[]}(l).map(Er=>ja(Er));Cn=function pc(y,h,l){if(l.size&&h.length){let _=h[0],C=[];if(l.forEach(($,pe)=>{_.has(pe)||C.push(pe),_.set(pe,$)}),C.length)for(let $=1;$<h.length;$++){let pe=h[$];C.forEach(Oe=>pe.set(Oe,_h(y,Oe)))}}return h}(h,Cn,St);const Cr=function Ff(y,h){let l=null,_=null;return Array.isArray(h)&&h.length?(l=ba(h[0]),h.length>1&&(_=ba(h[h.length-1]))):h instanceof Map&&(l=ba(h)),l||_?new Lf(y,l,_):null}(h,Cn);return new Vf(h,Cn,mt,Cr)}}let g_=(()=>{class y extends kn{constructor(l,_){super(),this._nextAnimationId=0,this._renderer=l.createRenderer(_.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(l){const _=this._nextAnimationId.toString();this._nextAnimationId++;const C=Array.isArray(l)?Kc(l):l;return um(this._renderer,null,_,"register",[C]),new lm(_,this._renderer)}static#e=this.\u0275fac=function(_){return new(_||y)(o.LFG(o.FYo),o.LFG(U.K0))};static#t=this.\u0275prov=o.Yz7({token:y,factory:y.\u0275fac})}return y})();class lm extends tr{constructor(h,l){super(),this._id=h,this._renderer=l}create(h,l){return new Th(this._id,h,l||{},this._renderer)}}class Th{constructor(h,l,_,C){this.id=h,this.element=l,this._renderer=C,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",_)}_listen(h,l){return this._renderer.listen(this.element,`@@${this.id}:${h}`,l)}_command(h,...l){return um(this._renderer,this.element,this.id,h,l)}onDone(h){this._listen("done",h)}onStart(h){this._listen("start",h)}onDestroy(h){this._listen("destroy",h)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(h){this._command("setPosition",h)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function um(y,h,l,_,C){return y.setProperty(h,`@@${l}:${_}`,C)}const Gp="@.disabled";let fu=(()=>{class y{constructor(l,_,C){this.delegate=l,this.engine=_,this._zone=C,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,_.onRemovalComplete=($,pe)=>{const Oe=pe?.parentNode($);Oe&&pe.removeChild(Oe,$)}}createRenderer(l,_){const $=this.delegate.createRenderer(l,_);if(!(l&&_&&_.data&&_.data.animation)){let ln=this._rendererCache.get($);return ln||(ln=new qp("",$,this.engine,()=>this._rendererCache.delete($)),this._rendererCache.set($,ln)),ln}const pe=_.id,Oe=_.id+"-"+this._currentId;this._currentId++,this.engine.register(Oe,l);const mt=ln=>{Array.isArray(ln)?ln.forEach(mt):this.engine.registerTrigger(pe,Oe,l,ln.name,ln)};return _.data.animation.forEach(mt),new Ol(this,Oe,$,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(l,_,C){l>=0&&l<this._microtaskId?this._zone.run(()=>_(C)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach($=>{const[pe,Oe]=$;pe(Oe)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([_,C]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(_){return new(_||y)(o.LFG(o.FYo),o.LFG(Ui),o.LFG(o.R0b))};static#t=this.\u0275prov=o.Yz7({token:y,factory:y.\u0275fac})}return y})();class qp{constructor(h,l,_,C){this.namespaceId=h,this.delegate=l,this.engine=_,this._onDestroy=C}get data(){return this.delegate.data}destroyNode(h){this.delegate.destroyNode?.(h)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(h,l){return this.delegate.createElement(h,l)}createComment(h){return this.delegate.createComment(h)}createText(h){return this.delegate.createText(h)}appendChild(h,l){this.delegate.appendChild(h,l),this.engine.onInsert(this.namespaceId,l,h,!1)}insertBefore(h,l,_,C=!0){this.delegate.insertBefore(h,l,_),this.engine.onInsert(this.namespaceId,l,h,C)}removeChild(h,l,_){this.engine.onRemove(this.namespaceId,l,this.delegate)}selectRootElement(h,l){return this.delegate.selectRootElement(h,l)}parentNode(h){return this.delegate.parentNode(h)}nextSibling(h){return this.delegate.nextSibling(h)}setAttribute(h,l,_,C){this.delegate.setAttribute(h,l,_,C)}removeAttribute(h,l,_){this.delegate.removeAttribute(h,l,_)}addClass(h,l){this.delegate.addClass(h,l)}removeClass(h,l){this.delegate.removeClass(h,l)}setStyle(h,l,_,C){this.delegate.setStyle(h,l,_,C)}removeStyle(h,l,_){this.delegate.removeStyle(h,l,_)}setProperty(h,l,_){"@"==l.charAt(0)&&l==Gp?this.disableAnimations(h,!!_):this.delegate.setProperty(h,l,_)}setValue(h,l){this.delegate.setValue(h,l)}listen(h,l,_){return this.delegate.listen(h,l,_)}disableAnimations(h,l){this.engine.disableAnimations(h,l)}}class Ol extends qp{constructor(h,l,_,C,$){super(l,_,C,$),this.factory=h,this.namespaceId=l}setProperty(h,l,_){"@"==l.charAt(0)?"."==l.charAt(1)&&l==Gp?this.disableAnimations(h,_=void 0===_||!!_):this.engine.process(this.namespaceId,h,l.slice(1),_):this.delegate.setProperty(h,l,_)}listen(h,l,_){if("@"==l.charAt(0)){const C=function ol(y){switch(y){case"body":return document.body;case"document":return document;case"window":return window;default:return y}}(h);let $=l.slice(1),pe="";return"@"!=$.charAt(0)&&([$,pe]=function dm(y){const h=y.indexOf(".");return[y.substring(0,h),y.slice(h+1)]}($)),this.engine.listen(this.namespaceId,C,$,pe,Oe=>{this.factory.scheduleListenerCallback(Oe._data||-1,_,Oe)})}return this.delegate.listen(h,l,_)}}const hm=[{provide:kn,useClass:g_},{provide:Bp,useFactory:function Bf(){return new Jg}},{provide:Ui,useClass:(()=>{class y extends Ui{constructor(l,_,C,$){super(l.body,_,C)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(_){return new(_||y)(o.LFG(U.K0),o.LFG(ru),o.LFG(Bp),o.LFG(o.z2F))};static#t=this.\u0275prov=o.Yz7({token:y,factory:y.\u0275fac})}return y})()},{provide:o.FYo,useFactory:function m_(y,h,l){return new fu(y,h,l)},deps:[f.se,Ui,o.R0b]}],Wp=[{provide:ru,useFactory:()=>new p_},{provide:o.QbO,useValue:"BrowserAnimations"},...hm],fm=[{provide:ru,useClass:hh},{provide:o.QbO,useValue:"NoopAnimations"},...hm];let pu=(()=>{class y{static withConfig(l){return{ngModule:y,providers:l.disableAnimations?fm:Wp}}static#e=this.\u0275fac=function(_){return new(_||y)};static#t=this.\u0275mod=o.oAB({type:y});static#n=this.\u0275inj=o.cJS({providers:Wp,imports:[f.b2]})}return y})();const $a_firebase={apiKey:"AIzaSyBfMHRYkwC16Pt-IuqcVJOYjkrRgOlEVH8",authDomain:"romaniinseattle.firebaseapp.com",projectId:"romaniinseattle",storageBucket:"romaniinseattle.appspot.com",messagingSenderId:"548714995927",appId:"1:548714995927:web:70a2631d9f5d8d2f8fd092"};var Za=k(3182),bo=k(1920);class Ca{constructor(h){return h}}class kl{constructor(){return(0,Za.C6)()}}const mu=new o.OlP("angularfire2._apps"),Sh={provide:Ca,useFactory:function Dh(y){return y&&1===y.length?y[0]:new Ca((0,Za.Mq)())},deps:[[new o.FiY,mu]]},yd={provide:kl,deps:[[new o.FiY,mu]]};function jf(y){return(h,l)=>{const _=h.runOutsideAngular(()=>y(l));return new Ca(_)}}let Ed=(()=>{class y{constructor(l){(0,Za.KN)("angularfire",bo.q4.full,"core"),(0,Za.KN)("angularfire",bo.q4.full,"app"),(0,Za.KN)("angular",o.q4F.full,l.toString())}static \u0275fac=function(_){return new(_||y)(o.LFG(o.Lbi))};static \u0275mod=o.oAB({type:y});static \u0275inj=o.cJS({providers:[Sh,yd]})}return y})();function Kp(y,...h){return{ngModule:Ed,providers:[{provide:mu,useFactory:jf(y),multi:!0,deps:[o.R0b,o.zs3,bo.HU,...h]}]}}const Ad=(0,bo.u3)(Za.ZF,!0);k(35),k(534),k(9058),k(7879),k(4537);class Ga{constructor(){return(0,bo.vb)("auth")}}var x_=k(1043);class Gf{constructor(h){return h}}const rg="firestore",Dd=new o.OlP("angularfire2.firestore-instances");function R_(y){return(h,l)=>{const _=h.runOutsideAngular(()=>y(l));return new Gf(_)}}const wv={provide:class ig{constructor(){return(0,bo.vb)(rg)}},deps:[[new o.FiY,Dd]]},wm={provide:Gf,useFactory:function Tm(y,h){const l=(0,bo.JM)(rg,y,h);return l&&new Gf(l)},deps:[[new o.FiY,Dd],Ca]};let O_=(()=>{class y{constructor(){(0,Za.KN)("angularfire",bo.q4.full,"fst")}static \u0275fac=function(_){return new(_||y)};static \u0275mod=o.oAB({type:y});static \u0275inj=o.cJS({providers:[wm,wv]})}return y})();function Dv(y,...h){return{ngModule:O_,providers:[{provide:Dd,useFactory:R_(y),multi:!0,deps:[o.R0b,o.zs3,bo.HU,kl,[new o.FiY,Ga],[new o.FiY,bo.Rf],...h]}]}}const kh=(0,bo.u3)(x_.ad,!0);var Vh=k(7217),hg=k(7104),Nm=k(243),Sd=k(7213),Uh=k(8153);class Xf{constructor(h){return h}}const Iu="storage",Vl=new o.OlP("angularfire2.storage-instances");function fg(y){return(h,l)=>{const _=h.runOutsideAngular(()=>y(l));return new Xf(_)}}const bu={provide:class U_{constructor(){return(0,bo.vb)(Iu)}},deps:[[new o.FiY,Vl]]},pg={provide:Xf,useFactory:function ep(y,h){const l=(0,bo.JM)(Iu,y,h);return l&&new Xf(l)},deps:[[new o.FiY,Vl],Ca]};let Bh=(()=>{class y{constructor(){(0,Za.KN)("angularfire",bo.q4.full,"gcs")}static \u0275fac=function(_){return new(_||y)};static \u0275mod=o.oAB({type:y});static \u0275inj=o.cJS({providers:[pg,bu]})}return y})();function Md(y,...h){return{ngModule:Bh,providers:[{provide:Vl,useFactory:fg(y),multi:!0,deps:[o.R0b,o.zs3,bo.HU,kl,[new o.FiY,Ga],[new o.FiY,bo.Rf],...h]}]}}const Pd=(0,bo.u3)(Uh.cF,!0);var xd=k(5842);let mg=(()=>{class y{constructor(l){this.injector=l}handleError(l){this.injector.get(xd.I).logError(l)}static#e=this.\u0275fac=function(_){return new(_||y)(o.LFG(o.zs3))};static#t=this.\u0275prov=o.Yz7({token:y,factory:y.\u0275fac})}return y})(),_g=(()=>{class y{static#e=this.\u0275fac=function(_){return new(_||y)};static#t=this.\u0275mod=o.oAB({type:y,bootstrap:[Jt]});static#n=this.\u0275inj=o.cJS({providers:[{provide:o.qLn,useClass:mg},xd.I],imports:[f.b2,_a.JF,jr.Bz,T,pu,Mt,$l,Va,hg.yb,Nm.TE,Sd.ww,Vh.hO.initializeApp($a_firebase),Kp(()=>Ad($a_firebase)),Dv(()=>kh()),Md(()=>Pd()),en.UX,en.u5,jr.Bz]})}return y})();f.q6().bootstrapModule(_g).catch(y=>console.error(y))},8963:sn=>{sn.exports=function o(U,Se,_e){function Ae(ve,G){if(!Se[ve]){if(!U[ve]){if(de)return de(ve,!0);var se=new Error("Cannot find module '"+ve+"'");throw se.code="MODULE_NOT_FOUND",se}var be=Se[ve]={exports:{}};U[ve][0].call(be.exports,function(ye){return Ae(U[ve][1][ye]||ye)},be,be.exports,o,U,Se,_e)}return Se[ve].exports}for(var de=void 0,ae=0;ae<_e.length;ae++)Ae(_e[ae]);return Ae}({1:[function(o,U,Se){"use strict";var _e=o("multimath"),Ae=o("./mm_unsharp_mask"),de=o("./mm_resize");function ae(ve){var G=ve||[],z={js:G.indexOf("js")>=0,wasm:G.indexOf("wasm")>=0};_e.call(this,z),this.features={js:z.js,wasm:z.wasm&&this.has_wasm()},this.use(Ae),this.use(de)}(ae.prototype=Object.create(_e.prototype)).constructor=ae,ae.prototype.resizeAndUnsharp=function(G,z){var se=this.resize(G,z);return G.unsharpAmount&&this.unsharp_mask(se,G.toWidth,G.toHeight,G.unsharpAmount,G.unsharpRadius,G.unsharpThreshold),se},U.exports=ae},{"./mm_resize":4,"./mm_unsharp_mask":9,multimath:19}],2:[function(o,U,Se){"use strict";function _e(z){return z<0?0:z>255?255:z}function Ae(z){return z>=0?z:0}U.exports={convolveHor:function de(z,se,be,ye,De,Re){var Ye,We,_t,Fe,Ne,tt,Ze,Ge,dt,bt,Ee,Nt=0,Vt=0;for(dt=0;dt<ye;dt++){for(Ne=0,bt=0;bt<De;bt++){for(tt=Re[Ne++],Ze=Re[Ne++],Ge=Nt+4*tt|0,Ye=We=_t=Fe=0;Ze>0;Ze--)Fe=Fe+(Ee=Re[Ne++])*z[Ge+3]|0,_t=_t+Ee*z[Ge+2]|0,We=We+Ee*z[Ge+1]|0,Ye=Ye+Ee*z[Ge]|0,Ge=Ge+4|0;se[Vt+3]=Ae(Fe>>7),se[Vt+2]=Ae(_t>>7),se[Vt+1]=Ae(We>>7),se[Vt]=Ae(Ye>>7),Vt=Vt+4*ye|0}Vt=4*(dt+1)|0,Nt=(dt+1)*be*4|0}},convolveVert:function ae(z,se,be,ye,De,Re){var Ye,We,_t,Fe,Ne,tt,Ze,Ge,dt,bt,Ee,Nt=0,Vt=0;for(dt=0;dt<ye;dt++){for(Ne=0,bt=0;bt<De;bt++){for(tt=Re[Ne++],Ze=Re[Ne++],Ge=Nt+4*tt|0,Ye=We=_t=Fe=0;Ze>0;Ze--)Fe=Fe+(Ee=Re[Ne++])*z[Ge+3]|0,_t=_t+Ee*z[Ge+2]|0,We=We+Ee*z[Ge+1]|0,Ye=Ye+Ee*z[Ge]|0,Ge=Ge+4|0;Ye>>=7,We>>=7,_t>>=7,se[Vt+3]=_e(8192+(Fe>>=7)>>14),se[Vt+2]=_e(_t+8192>>14),se[Vt+1]=_e(We+8192>>14),se[Vt]=_e(Ye+8192>>14),Vt=Vt+4*ye|0}Vt=4*(dt+1)|0,Nt=(dt+1)*be*4|0}},convolveHorWithPre:function ve(z,se,be,ye,De,Re){var Ye,We,_t,Fe,Ne,tt,Ze,Ge,dt,bt,Ee,Nt,Vt=0,Dn=0;for(bt=0;bt<ye;bt++){for(tt=0,Ee=0;Ee<De;Ee++){for(Ze=Re[tt++],Ge=Re[tt++],dt=Vt+4*Ze|0,Ye=We=_t=Fe=0;Ge>0;Ge--)Fe=Fe+(Nt=Re[tt++])*(Ne=z[dt+3])|0,_t=_t+Nt*z[dt+2]*Ne|0,We=We+Nt*z[dt+1]*Ne|0,Ye=Ye+Nt*z[dt]*Ne|0,dt=dt+4|0;_t=_t/255|0,We=We/255|0,Ye=Ye/255|0,se[Dn+3]=Ae(Fe>>7),se[Dn+2]=Ae(_t>>7),se[Dn+1]=Ae(We>>7),se[Dn]=Ae(Ye>>7),Dn=Dn+4*ye|0}Dn=4*(bt+1)|0,Vt=(bt+1)*be*4|0}},convolveVertWithPre:function G(z,se,be,ye,De,Re){var Ye,We,_t,Fe,Ne,tt,Ze,Ge,dt,bt,Ee,Nt=0,Vt=0;for(dt=0;dt<ye;dt++){for(Ne=0,bt=0;bt<De;bt++){for(tt=Re[Ne++],Ze=Re[Ne++],Ge=Nt+4*tt|0,Ye=We=_t=Fe=0;Ze>0;Ze--)Fe=Fe+(Ee=Re[Ne++])*z[Ge+3]|0,_t=_t+Ee*z[Ge+2]|0,We=We+Ee*z[Ge+1]|0,Ye=Ye+Ee*z[Ge]|0,Ge=Ge+4|0;Ye>>=7,We>>=7,_t>>=7,(Fe=_e(8192+(Fe>>=7)>>14))>0&&(Ye=255*Ye/Fe|0,We=255*We/Fe|0,_t=255*_t/Fe|0),se[Vt+3]=Fe,se[Vt+2]=_e(_t+8192>>14),se[Vt+1]=_e(We+8192>>14),se[Vt]=_e(Ye+8192>>14),Vt=Vt+4*ye|0}Vt=4*(dt+1)|0,Nt=(dt+1)*be*4|0}}}},{}],3:[function(o,U,Se){"use strict";U.exports="AGFzbQEAAAAADAZkeWxpbmsAAAAAAAEYA2AGf39/f39/AGAAAGAIf39/f39/f38AAg8BA2VudgZtZW1vcnkCAAADBwYBAAAAAAIGBgF/AEEACweUAQgRX193YXNtX2NhbGxfY3RvcnMAAAtjb252b2x2ZUhvcgABDGNvbnZvbHZlVmVydAACEmNvbnZvbHZlSG9yV2l0aFByZQADE2NvbnZvbHZlVmVydFdpdGhQcmUABApjb252b2x2ZUhWAAUMX19kc29faGFuZGxlAwAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAAKyA4GAwABC4wDARB/AkAgA0UNACAERQ0AIANBAnQhFQNAQQAhE0EAIQsDQCALQQJqIQcCfyALQQF0IAVqIgYuAQIiC0UEQEEAIQhBACEGQQAhCUEAIQogBwwBCyASIAYuAQBqIQhBACEJQQAhCiALIRRBACEOIAchBkEAIQ8DQCAFIAZBAXRqLgEAIhAgACAIQQJ0aigCACIRQRh2bCAPaiEPIBFB/wFxIBBsIAlqIQkgEUEQdkH/AXEgEGwgDmohDiARQQh2Qf8BcSAQbCAKaiEKIAhBAWohCCAGQQFqIQYgFEEBayIUDQALIAlBB3UhCCAKQQd1IQYgDkEHdSEJIA9BB3UhCiAHIAtqCyELIAEgDEEBdCIHaiAIQQAgCEEAShs7AQAgASAHQQJyaiAGQQAgBkEAShs7AQAgASAHQQRyaiAJQQAgCUEAShs7AQAgASAHQQZyaiAKQQAgCkEAShs7AQAgDCAVaiEMIBNBAWoiEyAERw0ACyANQQFqIg0gAmwhEiANQQJ0IQwgAyANRw0ACwsL2gMBD38CQCADRQ0AIARFDQAgAkECdCEUA0AgCyEMQQAhE0EAIQIDQCACQQJqIQYCfyACQQF0IAVqIgcuAQIiAkUEQEEAIQhBACEHQQAhCkEAIQkgBgwBCyAHLgEAQQJ0IBJqIQhBACEJIAIhCkEAIQ0gBiEHQQAhDkEAIQ8DQCAFIAdBAXRqLgEAIhAgACAIQQF0IhFqLwEAbCAJaiEJIAAgEUEGcmovAQAgEGwgDmohDiAAIBFBBHJqLwEAIBBsIA9qIQ8gACARQQJyai8BACAQbCANaiENIAhBBGohCCAHQQFqIQcgCkEBayIKDQALIAlBB3UhCCANQQd1IQcgDkEHdSEKIA9BB3UhCSACIAZqCyECIAEgDEECdGogB0GAQGtBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobQQh0QYD+A3EgCUGAQGtBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobQRB0QYCA/AdxIApBgEBrQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG0EYdHJyIAhBgEBrQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG3I2AgAgAyAMaiEMIBNBAWoiEyAERw0ACyAUIAtBAWoiC2whEiADIAtHDQALCwuSAwEQfwJAIANFDQAgBEUNACADQQJ0IRUDQEEAIRNBACEGA0AgBkECaiEIAn8gBkEBdCAFaiIGLgECIgdFBEBBACEJQQAhDEEAIQ1BACEOIAgMAQsgEiAGLgEAaiEJQQAhDkEAIQ1BACEMIAchFEEAIQ8gCCEGA0AgBSAGQQF0ai4BACAAIAlBAnRqKAIAIhBBGHZsIhEgD2ohDyARIBBBEHZB/wFxbCAMaiEMIBEgEEEIdkH/AXFsIA1qIQ0gESAQQf8BcWwgDmohDiAJQQFqIQkgBkEBaiEGIBRBAWsiFA0ACyAPQQd1IQkgByAIagshBiABIApBAXQiCGogDkH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEECcmogDUH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEEEcmogDEH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEEGcmogCUEAIAlBAEobOwEAIAogFWohCiATQQFqIhMgBEcNAAsgC0EBaiILIAJsIRIgC0ECdCEKIAMgC0cNAAsLC4IEAQ9/AkAgA0UNACAERQ0AIAJBAnQhFANAIAshDEEAIRJBACEHA0AgB0ECaiEKAn8gB0EBdCAFaiICLgECIhNFBEBBACEIQQAhCUEAIQYgCiEHQQAMAQsgAi4BAEECdCARaiEJQQAhByATIQJBACENIAohBkEAIQ5BACEPA0AgBSAGQQF0ai4BACIIIAAgCUEBdCIQai8BAGwgB2ohByAAIBBBBnJqLwEAIAhsIA5qIQ4gACAQQQRyai8BACAIbCAPaiEPIAAgEEECcmovAQAgCGwgDWohDSAJQQRqIQkgBkEBaiEGIAJBAWsiAg0ACyAHQQd1IQggDUEHdSEJIA9BB3UhBiAKIBNqIQcgDkEHdQtBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKGyIKQf8BcQRAIAlB/wFsIAJtIQkgCEH/AWwgAm0hCCAGQf8BbCACbSEGCyABIAxBAnRqIAlBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKG0EIdEGA/gNxIAZBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKG0EQdEGAgPwHcSAKQRh0ciAIQYBAa0EOdSICQf8BIAJB/wFIGyICQQAgAkEAShtycjYCACADIAxqIQwgEkEBaiISIARHDQALIBQgC0EBaiILbCERIAMgC0cNAAsLC0AAIAcEQEEAIAIgAyAEIAUgABADIAJBACAEIAUgBiABEAQPC0EAIAIgAyAEIAUgABABIAJBACAEIAUgBiABEAIL"},{}],4:[function(o,U,Se){"use strict";U.exports={name:"resize",fn:o("./resize"),wasm_fn:o("./resize_wasm"),wasm_src:o("./convolve_wasm_base64")}},{"./convolve_wasm_base64":3,"./resize":5,"./resize_wasm":8}],5:[function(o,U,Se){"use strict";var _e=o("./resize_filter_gen"),Ae=o("./convolve"),de=Ae.convolveHor,ae=Ae.convolveVert,ve=Ae.convolveHorWithPre,G=Ae.convolveVertWithPre;U.exports=function(ye){var De=ye.src,Re=ye.width,Ye=ye.height,We=ye.toWidth,_t=ye.toHeight,Fe=ye.scaleX||ye.toWidth/ye.width,Ne=ye.scaleY||ye.toHeight/ye.height,tt=ye.offsetX||0,Ze=ye.offsetY||0,Ge=ye.dest||new Uint8Array(We*_t*4),dt=typeof ye.filter>"u"?"mks2013":ye.filter,bt=_e(dt,Re,We,Fe,tt),Ee=_e(dt,Ye,_t,Ne,Ze),Nt=new Uint16Array(We*Ye*4);return function z(be,ye,De){for(var Re=3,Ye=ye*De*4|0;Re<Ye;){if(255!==be[Re])return!0;Re=Re+4|0}return!1}(De,Re,Ye)?(ve(De,Nt,Re,Ye,We,bt),G(Nt,Ge,Ye,We,_t,Ee)):(de(De,Nt,Re,Ye,We,bt),ae(Nt,Ge,Ye,We,_t,Ee),function se(be,ye,De){for(var Re=3,Ye=ye*De*4|0;Re<Ye;)be[Re]=255,Re=Re+4|0}(Ge,We,_t)),Ge}},{"./convolve":2,"./resize_filter_gen":6}],6:[function(o,U,Se){"use strict";var _e=o("./resize_filter_info");function de(ae){return Math.round(16383*ae)}U.exports=function(ve,G,z,se,be){var We,_t,Fe,Ne,tt,Ze,Ge,dt,bt,Ee,Nt,Vt,Dn,Tt,Ke,Le,ye=_e.filter[ve].fn,De=1/se,Re=Math.min(1,se),Ye=_e.filter[ve].win/Re,we=Math.floor(2*(Ye+1)),te=new Int16Array((we+2)*z),Ie=0,Pe=!te.subarray||!te.set;for(We=0;We<z;We++){for(_t=(We+.5)*De+be,Fe=Math.max(0,Math.floor(_t-Ye)),tt=(Ne=Math.min(G-1,Math.ceil(_t+Ye)))-Fe+1,Ze=new Float32Array(tt),Ge=new Int16Array(tt),dt=0,bt=Fe,Ee=0;bt<=Ne;bt++,Ee++)dt+=Nt=ye((bt+.5-_t)*Re),Ze[Ee]=Nt;for(Vt=0,Ee=0;Ee<Ze.length;Ee++)Vt+=Dn=Ze[Ee]/dt,Ge[Ee]=de(Dn);for(Ge[z>>1]+=de(1-Vt),Tt=0;Tt<Ge.length&&0===Ge[Tt];)Tt++;if(Tt<Ge.length){for(Ke=Ge.length-1;Ke>0&&0===Ge[Ke];)Ke--;if(Le=Ke-Tt+1,te[Ie++]=Fe+Tt,te[Ie++]=Le,Pe)for(Ee=Tt;Ee<=Ke;Ee++)te[Ie++]=Ge[Ee];else te.set(Ge.subarray(Tt,Ke+1),Ie),Ie+=Le}else te[Ie++]=0,te[Ie++]=0}return te}},{"./resize_filter_info":7}],7:[function(o,U,Se){"use strict";U.exports={filter:{box:{win:.5,fn:function(de){return de<0&&(de=-de),de<.5?1:0}},hamming:{win:1,fn:function(de){if(de<0&&(de=-de),de>=1)return 0;if(de<1.1920929e-7)return 1;var ae=de*Math.PI;return Math.sin(ae)/ae*(.54+.46*Math.cos(ae/1))}},lanczos2:{win:2,fn:function(de){if(de<0&&(de=-de),de>=2)return 0;if(de<1.1920929e-7)return 1;var ae=de*Math.PI;return Math.sin(ae)/ae*Math.sin(ae/2)/(ae/2)}},lanczos3:{win:3,fn:function(de){if(de<0&&(de=-de),de>=3)return 0;if(de<1.1920929e-7)return 1;var ae=de*Math.PI;return Math.sin(ae)/ae*Math.sin(ae/3)/(ae/3)}},mks2013:{win:2.5,fn:function(de){return de<0&&(de=-de),de>=2.5?0:de>=1.5?-.125*(de-2.5)*(de-2.5):de>=.5?.25*(4*de*de-11*de+7):1.0625-1.75*de*de}}},f2q:{box:0,hamming:1,lanczos2:2,lanczos3:3},q2f:["box","hamming","lanczos2","lanczos3"]}},{}],8:[function(o,U,Se){"use strict";var _e=o("./resize_filter_gen");var ve=!0;try{ve=1===new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]}catch{}function G(z,se,be){if(ve)se.set(function ae(z){return new Uint8Array(z.buffer,0,z.byteLength)}(z),be);else for(var ye=be,De=0;De<z.length;De++){var Re=z[De];se[ye++]=255&Re,se[ye++]=Re>>8&255}}U.exports=function(se){var be=se.src,ye=se.width,De=se.height,Re=se.toWidth,Ye=se.toHeight,We=se.scaleX||se.toWidth/se.width,_t=se.scaleY||se.toHeight/se.height,Fe=se.offsetX||0,Ne=se.offsetY||0,tt=se.dest||new Uint8Array(Re*Ye*4),Ze=typeof se.filter>"u"?"mks2013":se.filter,Ge=_e(Ze,ye,Re,We,Fe),dt=_e(Ze,De,Ye,_t,Ne),Ee=Math.max(be.byteLength,tt.byteLength),Nt=this.__align(0+Ee),Dn=this.__align(Nt+De*Re*4*2),Tt=this.__align(Dn+Ge.byteLength),ut=this.__instance("resize",Tt+dt.byteLength),Le=new Uint8Array(this.__memory.buffer),we=new Uint32Array(this.__memory.buffer),te=new Uint32Array(be.buffer);we.set(te),G(Ge,Le,Dn),G(dt,Le,Tt);var Ie=ut.exports.convolveHV||ut.exports._convolveHV;return function Ae(z,se,be){for(var ye=3,De=se*be*4|0;ye<De;){if(255!==z[ye])return!0;ye=ye+4|0}return!1}(be,ye,De)?Ie(Dn,Tt,Nt,ye,De,Re,Ye,1):(Ie(Dn,Tt,Nt,ye,De,Re,Ye,0),function de(z,se,be){for(var ye=3,De=se*be*4|0;ye<De;)z[ye]=255,ye=ye+4|0}(tt,Re,Ye)),new Uint32Array(tt.buffer).set(new Uint32Array(this.__memory.buffer,0,Ye*Re)),tt}},{"./resize_filter_gen":6}],9:[function(o,U,Se){"use strict";U.exports={name:"unsharp_mask",fn:o("./unsharp_mask"),wasm_fn:o("./unsharp_mask_wasm"),wasm_src:o("./unsharp_mask_wasm_base64")}},{"./unsharp_mask":10,"./unsharp_mask_wasm":11,"./unsharp_mask_wasm_base64":12}],10:[function(o,U,Se){"use strict";var _e=o("glur/mono16");U.exports=function(ae,ve,G,z,se,be){var ye,De,Re,Ye,We;if(!(0===z||se<.5)){se>2&&(se=2);var _t=function Ae(de,ae,ve){for(var se,be,ye,G=ae*ve,z=new Uint16Array(G),Re=0;Re<G;Re++)ye=de[4*Re+2],z[Re]=((se=de[4*Re])>=(be=de[4*Re+1])&&se>=ye?se:be>=ye&&be>=se?be:ye)<<8;return z}(ae,ve,G),Fe=new Uint16Array(_t);_e(Fe,ve,G,se);for(var Ne=z/100*4096+.5|0,tt=be<<8,Ze=ve*G,Ge=0;Ge<Ze;Ge++)Ye=(ye=_t[Ge])-Fe[Ge],Math.abs(Ye)>=tt&&(ae[We=4*Ge]=ae[We]*(Re=((De=(De=(De=ye+(Ne*Ye+2048>>12))>65280?65280:De)<0?0:De)<<12)/(ye=0!==ye?ye:1)|0)+2048>>12,ae[We+1]=ae[We+1]*Re+2048>>12,ae[We+2]=ae[We+2]*Re+2048>>12)}}},{"glur/mono16":18}],11:[function(o,U,Se){"use strict";U.exports=function(Ae,de,ae,ve,G,z){if(!(0===ve||G<.5)){G>2&&(G=2);var se=de*ae,be=4*se,ye=2*se,De=2*se,Re=4*Math.max(de,ae),_t=be,Fe=_t+ye,Ne=Fe+De,tt=Ne+De,Ze=tt+Re,Ge=this.__instance("unsharp_mask",be+ye+2*De+Re+32,{exp:Math.exp}),dt=new Uint32Array(Ae.buffer);new Uint32Array(this.__memory.buffer).set(dt);var Ee=Ge.exports.hsv_v16||Ge.exports._hsv_v16;Ee(0,_t,de,ae),(Ee=Ge.exports.blurMono16||Ge.exports._blurMono16)(_t,Fe,Ne,tt,Ze,de,ae,G),(Ee=Ge.exports.unsharp||Ge.exports._unsharp)(0,0,_t,Fe,de,ae,ve,z),dt.set(new Uint32Array(this.__memory.buffer,0,se))}}},{}],12:[function(o,U,Se){"use strict";U.exports="AGFzbQEAAAAADAZkeWxpbmsAAAAAAAE0B2AAAGAEf39/fwBgBn9/f39/fwBgCH9/f39/f39/AGAIf39/f39/f30AYAJ9fwBgAXwBfAIZAgNlbnYDZXhwAAYDZW52Bm1lbW9yeQIAAAMHBgAFAgQBAwYGAX8AQQALB4oBCBFfX3dhc21fY2FsbF9jdG9ycwABFl9fYnVpbGRfZ2F1c3NpYW5fY29lZnMAAg5fX2dhdXNzMTZfbGluZQADCmJsdXJNb25vMTYABAdoc3ZfdjE2AAUHdW5zaGFycAAGDF9fZHNvX2hhbmRsZQMAGF9fd2FzbV9hcHBseV9kYXRhX3JlbG9jcwABCsUMBgMAAQvWAQEHfCABRNuGukOCGvs/IAC7oyICRAAAAAAAAADAohAAIgW2jDgCFCABIAKaEAAiAyADoCIGtjgCECABRAAAAAAAAPA/IAOhIgQgBKIgAyACIAKgokQAAAAAAADwP6AgBaGjIgS2OAIAIAEgBSAEmqIiB7Y4AgwgASADIAJEAAAAAAAA8D+gIASioiIItjgCCCABIAMgAkQAAAAAAADwv6AgBKKiIgK2OAIEIAEgByAIoCAFRAAAAAAAAPA/IAahoCIDo7Y4AhwgASAEIAKgIAOjtjgCGAuGBQMGfwl8An0gAyoCDCEVIAMqAgghFiADKgIUuyERIAMqAhC7IRACQCAEQQFrIghBAEgiCQRAIAIhByAAIQYMAQsgAiAALwEAuCIPIAMqAhi7oiIMIBGiIg0gDCAQoiAPIAMqAgS7IhOiIhQgAyoCALsiEiAPoqCgoCIOtjgCACACQQRqIQcgAEECaiEGIAhFDQAgCEEBIAhBAUgbIgpBf3MhCwJ/IAQgCmtBAXFFBEAgDiENIAgMAQsgAiANIA4gEKIgFCASIAAvAQK4Ig+ioKCgIg22OAIEIAJBCGohByAAQQRqIQYgDiEMIARBAmsLIQIgC0EAIARrRg0AA0AgByAMIBGiIA0gEKIgDyAToiASIAYvAQC4Ig6ioKCgIgy2OAIAIAcgDSARoiAMIBCiIA4gE6IgEiAGLwECuCIPoqCgoCINtjgCBCAHQQhqIQcgBkEEaiEGIAJBAkohACACQQJrIQIgAA0ACwsCQCAJDQAgASAFIAhsQQF0aiIAAn8gBkECay8BACICuCINIBW7IhKiIA0gFrsiE6KgIA0gAyoCHLuiIgwgEKKgIAwgEaKgIg8gB0EEayIHKgIAu6AiDkQAAAAAAADwQWMgDkQAAAAAAAAAAGZxBEAgDqsMAQtBAAs7AQAgCEUNACAGQQRrIQZBACAFa0EBdCEBA0ACfyANIBKiIAJB//8DcbgiDSAToqAgDyIOIBCioCAMIBGioCIPIAdBBGsiByoCALugIgxEAAAAAAAA8EFjIAxEAAAAAAAAAABmcQRAIAyrDAELQQALIQMgBi8BACECIAAgAWoiACADOwEAIAZBAmshBiAIQQFKIQMgDiEMIAhBAWshCCADDQALCwvRAgIBfwd8AkAgB0MAAAAAWw0AIARE24a6Q4Ia+z8gB0MAAAA/l7ujIglEAAAAAAAAAMCiEAAiDLaMOAIUIAQgCZoQACIKIAqgIg22OAIQIAREAAAAAAAA8D8gCqEiCyALoiAKIAkgCaCiRAAAAAAAAPA/oCAMoaMiC7Y4AgAgBCAMIAuaoiIOtjgCDCAEIAogCUQAAAAAAADwP6AgC6KiIg+2OAIIIAQgCiAJRAAAAAAAAPC/oCALoqIiCbY4AgQgBCAOIA+gIAxEAAAAAAAA8D8gDaGgIgqjtjgCHCAEIAsgCaAgCqO2OAIYIAYEQANAIAAgBSAIbEEBdGogAiAIQQF0aiADIAQgBSAGEAMgCEEBaiIIIAZHDQALCyAFRQ0AQQAhCANAIAIgBiAIbEEBdGogASAIQQF0aiADIAQgBiAFEAMgCEEBaiIIIAVHDQALCwtxAQN/IAIgA2wiBQRAA0AgASAAKAIAIgRBEHZB/wFxIgIgAiAEQQh2Qf8BcSIDIAMgBEH/AXEiBEkbIAIgA0sbIgYgBiAEIAIgBEsbIAMgBEsbQQh0OwEAIAFBAmohASAAQQRqIQAgBUEBayIFDQALCwuZAgIDfwF8IAQgBWwhBAJ/IAazQwAAgEWUQwAAyEKVu0QAAAAAAADgP6AiC5lEAAAAAAAA4EFjBEAgC6oMAQtBgICAgHgLIQUgBARAIAdBCHQhCUEAIQYDQCAJIAIgBkEBdCIHai8BACIBIAMgB2ovAQBrIgcgB0EfdSIIaiAIc00EQCAAIAZBAnQiCGoiCiAFIAdsQYAQakEMdSABaiIHQYD+AyAHQYD+A0gbIgdBACAHQQBKG0EMdCABQQEgARtuIgEgCi0AAGxBgBBqQQx2OgAAIAAgCEEBcmoiByABIActAABsQYAQakEMdjoAACAAIAhBAnJqIgcgASAHLQAAbEGAEGpBDHY6AAALIAZBAWoiBiAERw0ACwsL"},{}],13:[function(o,U,Se){"use strict";function Ae(de,ae){this.create=de,this.available=[],this.acquired={},this.lastId=1,this.timeoutId=0,this.idle=ae||2e3}Ae.prototype.acquire=function(){var ae,de=this;return 0!==this.available.length?ae=this.available.pop():((ae=this.create()).id=this.lastId++,ae.release=function(){return de.release(ae)}),this.acquired[ae.id]=ae,ae},Ae.prototype.release=function(de){var ae=this;delete this.acquired[de.id],de.lastUsed=Date.now(),this.available.push(de),0===this.timeoutId&&(this.timeoutId=setTimeout(function(){return ae.gc()},100))},Ae.prototype.gc=function(){var de=this,ae=Date.now();this.available=this.available.filter(function(ve){return!(ae-ve.lastUsed>de.idle&&(ve.destroy(),1))}),this.timeoutId=0!==this.available.length?setTimeout(function(){return de.gc()},100):0},U.exports=Ae},{}],14:[function(o,U,Se){"use strict";U.exports=function(de,ae,ve,G,z,se){var De=(2*se+2+1)/z;if(De>.5)return[[ve,G]];var Re=Math.ceil(Math.log(Math.min(ve/de,G/ae))/Math.log(De));if(Re<=1)return[[ve,G]];for(var Ye=[],We=0;We<Re;We++){var _t=Math.round(Math.pow(Math.pow(de,Re-We-1)*Math.pow(ve,We+1),1/Re)),Fe=Math.round(Math.pow(Math.pow(ae,Re-We-1)*Math.pow(G,We+1),1/Re));Ye.push([_t,Fe])}return Ye}},{}],15:[function(o,U,Se){"use strict";function Ae(ae){var ve=Math.round(ae);return Math.abs(ae-ve)<1e-5?ve:Math.floor(ae)}function de(ae){var ve=Math.round(ae);return Math.abs(ae-ve)<1e-5?ve:Math.ceil(ae)}U.exports=function(ve){var G=ve.toWidth/ve.width,z=ve.toHeight/ve.height,se=Ae(ve.srcTileSize*G)-2*ve.destTileBorder,be=Ae(ve.srcTileSize*z)-2*ve.destTileBorder;if(se<1||be<1)throw new Error("Internal error in pica: target tile width/height is too small.");var ye,De,Re,Ye,We,_t,Ne,Fe=[];for(Ye=0;Ye<ve.toHeight;Ye+=be)for(Re=0;Re<ve.toWidth;Re+=se)(ye=Re-ve.destTileBorder)<0&&(ye=0),ye+(We=Re+se+ve.destTileBorder-ye)>=ve.toWidth&&(We=ve.toWidth-ye),(De=Ye-ve.destTileBorder)<0&&(De=0),De+(_t=Ye+be+ve.destTileBorder-De)>=ve.toHeight&&(_t=ve.toHeight-De),Ne={toX:ye,toY:De,toWidth:We,toHeight:_t,toInnerX:Re,toInnerY:Ye,toInnerWidth:se,toInnerHeight:be,offsetX:ye/G-Ae(ye/G),offsetY:De/z-Ae(De/z),scaleX:G,scaleY:z,x:Ae(ye/G),y:Ae(De/z),width:de(We/G),height:de(_t/z)},Fe.push(Ne);return Fe}},{}],16:[function(o,U,Se){"use strict";function _e(Ae){return Object.prototype.toString.call(Ae)}U.exports.isCanvas=function(de){var ae=_e(de);return"[object HTMLCanvasElement]"===ae||"[object OffscreenCanvas]"===ae||"[object Canvas]"===ae},U.exports.isImage=function(de){return"[object HTMLImageElement]"===_e(de)},U.exports.isImageBitmap=function(de){return"[object ImageBitmap]"===_e(de)},U.exports.limiter=function(de){var ae=0,ve=[];function G(){ae<de&&ve.length&&(ae++,ve.shift()())}return function(se){return new Promise(function(be,ye){ve.push(function(){se().then(function(De){be(De),ae--,G()},function(De){ye(De),ae--,G()})}),G()})}},U.exports.cib_quality_name=function(de){switch(de){case 0:return"pixelated";case 1:return"low";case 2:return"medium"}return"high"},U.exports.cib_support=function(de){return Promise.resolve().then(function(){if(typeof createImageBitmap>"u")return!1;var ae=de(100,100);return createImageBitmap(ae,0,0,100,100,{resizeWidth:10,resizeHeight:10,resizeQuality:"high"}).then(function(ve){var G=10===ve.width;return ve.close(),ae=null,G})}).catch(function(){return!1})},U.exports.worker_offscreen_canvas_support=function(){return new Promise(function(de,ae){if(typeof OffscreenCanvas>"u")de(!1);else{var G=btoa("(".concat(function ve(se){typeof createImageBitmap>"u"?se.postMessage(!1):Promise.resolve().then(function(){var be=new OffscreenCanvas(10,10);return be.getContext("2d").rect(0,0,1,1),createImageBitmap(be,0,0,1,1)}).then(function(){return se.postMessage(!0)},function(){return se.postMessage(!1)})}.toString(),")(self);")),z=new Worker("data:text/javascript;base64,".concat(G));z.onmessage=function(se){return de(se.data)},z.onerror=ae}}).then(function(de){return de},function(){return!1})},U.exports.can_use_canvas=function(de){var ae=!1;try{var G=de(2,1).getContext("2d"),z=G.createImageData(2,1);z.data[0]=12,z.data[1]=23,z.data[2]=34,z.data[3]=255,z.data[4]=45,z.data[5]=56,z.data[6]=67,z.data[7]=255,G.putImageData(z,0,0),z=null,12===(z=G.getImageData(0,0,2,1)).data[0]&&23===z.data[1]&&34===z.data[2]&&255===z.data[3]&&45===z.data[4]&&56===z.data[5]&&67===z.data[6]&&255===z.data[7]&&(ae=!0)}catch{}return ae},U.exports.cib_can_use_region=function(){return new Promise(function(de){if(typeof Image>"u"||typeof createImageBitmap>"u")de(!1);else{var ae=new Image;ae.src="data:image/jpeg;base64,/9j/4QBiRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAYAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAABIAAAAAQAAAEgAAAAB/9sAQwAEAwMEAwMEBAMEBQQEBQYKBwYGBgYNCQoICg8NEBAPDQ8OERMYFBESFxIODxUcFRcZGRsbGxAUHR8dGh8YGhsa/9sAQwEEBQUGBQYMBwcMGhEPERoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoa/8IAEQgAAQACAwERAAIRAQMRAf/EABQAAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAF/P//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAQUCf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Bf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Bf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEABj8Cf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8hf//aAAwDAQACAAMAAAAQH//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Qf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Qf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8Qf//Z",ae.onload=function(){createImageBitmap(ae,0,0,ae.width,ae.height).then(function(ve){de(ve.width===ae.width&&ve.height===ae.height)},function(){return de(!1)})},ae.onerror=function(){return de(!1)}}})}},{}],17:[function(o,U,Se){"use strict";U.exports=function(){var Ae,_e=o("./mathlib");onmessage=function(ae){var ve=ae.data.opts;if(!ve.src&&ve.srcBitmap){var z=new OffscreenCanvas(ve.width,ve.height),se=z.getContext("2d");se.drawImage(ve.srcBitmap,0,0),ve.src=se.getImageData(0,0,ve.width,ve.height).data,z.width=z.height=0,z=null,ve.srcBitmap.close(),ve.srcBitmap=null}Ae||(Ae=new _e(ae.data.features));var be=Ae.resizeAndUnsharp(ve);postMessage({data:be},[be.buffer])}}},{"./mathlib":1}],18:[function(o,U,Se){var _e,Ae,de,ae,ve,G;function ye(Re,Ye,We,_t,Fe,Ne){var tt,Ze,Ge,dt,bt,Ee,Nt,Vt,Dn,Tt,Ke,ut,Le,we;for(Dn=0;Dn<Ne;Dn++){for(Nt=Dn,Vt=0,dt=bt=(tt=Re[Ee=Dn*Fe])*_t[6],Ke=_t[0],ut=_t[1],Le=_t[4],we=_t[5],Tt=0;Tt<Fe;Tt++)Ge=(Ze=Re[Ee])*Ke+tt*ut+dt*Le+bt*we,bt=dt,tt=Ze,We[Vt]=dt=Ge,Vt++,Ee++;for(Vt--,Nt+=Ne*(Fe-1),dt=bt=(tt=Re[--Ee])*_t[7],Ze=tt,Ke=_t[2],ut=_t[3],Tt=Fe-1;Tt>=0;Tt--)Ge=Ze*Ke+tt*ut+dt*Le+bt*we,bt=dt,tt=Ze,Ze=Re[Ee],Ye[Nt]=We[Vt]+(dt=Ge),Ee--,Vt--,Nt-=Ne}}U.exports=function De(Re,Ye,We,_t){if(_t){var Fe=new Uint16Array(Re.length),Ne=new Float32Array(Math.max(Ye,We)),tt=function be(Re){Re<.5&&(Re=.5);var Ye=Math.exp(.527076)/Re,We=Math.exp(-Ye),_t=Math.exp(-2*Ye),Fe=(1-We)*(1-We)/(1+2*Ye*We-_t);return _e=Fe,Ae=Fe*(Ye-1)*We,de=Fe*(Ye+1)*We,ae=-Fe*_t,ve=2*We,G=-_t,new Float32Array([_e,Ae,de,ae,ve,G,(_e+Ae)/(1-ve-G),(de+ae)/(1-ve-G)])}(_t);ye(Re,Fe,Ne,tt,Ye,We),ye(Fe,Re,Ne,tt,We,Ye)}}},{}],19:[function(o,U,Se){"use strict";var _e=o("object-assign"),Ae=o("./lib/base64decode"),de=o("./lib/wa_detect"),ae={js:!0,wasm:!0};function ve(G){if(!(this instanceof ve))return new ve(G);var z=_e({},ae,G||{});if(this.options=z,this.__cache={},this.__init_promise=null,this.__modules=z.modules||{},this.__memory=null,this.__wasm={},this.__isLE=1===new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0],!this.options.js&&!this.options.wasm)throw new Error('mathlib: at least "js" or "wasm" should be enabled')}ve.prototype.has_wasm=de,ve.prototype.use=function(G){return this.__modules[G.name]=G,this[G.name]=this.options.wasm&&this.has_wasm()&&G.wasm_fn?G.wasm_fn:G.fn,this},ve.prototype.init=function(){if(this.__init_promise)return this.__init_promise;if(!this.options.js&&this.options.wasm&&!this.has_wasm())return Promise.reject(new Error('mathlib: only "wasm" was enabled, but it\'s not supported'));var G=this;return this.__init_promise=Promise.all(Object.keys(G.__modules).map(function(z){var se=G.__modules[z];return G.options.wasm&&G.has_wasm()&&se.wasm_fn&&!G.__wasm[z]?WebAssembly.compile(G.__base64decode(se.wasm_src)).then(function(be){G.__wasm[z]=be}):null})).then(function(){return G}),this.__init_promise},ve.prototype.__base64decode=Ae,ve.prototype.__reallocate=function(z){if(!this.__memory)return this.__memory=new WebAssembly.Memory({initial:Math.ceil(z/65536)}),this.__memory;var se=this.__memory.buffer.byteLength;return se<z&&this.__memory.grow(Math.ceil((z-se)/65536)),this.__memory},ve.prototype.__instance=function(z,se,be){if(se&&this.__reallocate(se),this.__wasm[z]||(this.__wasm[z]=new WebAssembly.Module(this.__base64decode(this.__modules[z].wasm_src))),!this.__cache[z]){var De={memoryBase:0,memory:this.__memory,tableBase:0,table:new WebAssembly.Table({initial:0,element:"anyfunc"})};this.__cache[z]=new WebAssembly.Instance(this.__wasm[z],{env:_e(De,be||{})})}return this.__cache[z]},ve.prototype.__align=function(z,se){var be=z%(se=se||8);return z+(be?se-be:0)},U.exports=ve},{"./lib/base64decode":20,"./lib/wa_detect":21,"object-assign":22}],20:[function(o,U,Se){"use strict";U.exports=function(de){for(var ae=de.replace(/[\r\n=]/g,""),ve=ae.length,G=new Uint8Array(3*ve>>2),z=0,se=0,be=0;be<ve;be++)be%4==0&&be&&(G[se++]=z>>16&255,G[se++]=z>>8&255,G[se++]=255&z),z=z<<6|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(ae.charAt(be));var ye=ve%4*6;return 0===ye?(G[se++]=z>>16&255,G[se++]=z>>8&255,G[se++]=255&z):18===ye?(G[se++]=z>>10&255,G[se++]=z>>2&255):12===ye&&(G[se++]=z>>4&255),G}},{}],21:[function(o,U,Se){"use strict";var _e;U.exports=function(){if(typeof _e<"u"||(_e=!1,typeof WebAssembly>"u"))return _e;try{var de=new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]),ae=new WebAssembly.Module(de);return 0!==new WebAssembly.Instance(ae,{}).exports.test(4)&&(_e=!0),_e}catch{}return _e}},{}],22:[function(o,U,Se){"use strict";var _e=Object.getOwnPropertySymbols,Ae=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable;U.exports=function ve(){try{if(!Object.assign)return!1;var G=new String("abc");if(G[5]="de","5"===Object.getOwnPropertyNames(G)[0])return!1;for(var z={},se=0;se<10;se++)z["_"+String.fromCharCode(se)]=se;if("0123456789"!==Object.getOwnPropertyNames(z).map(function(De){return z[De]}).join(""))return!1;var ye={};return"abcdefghijklmnopqrst".split("").forEach(function(De){ye[De]=De}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},ye)).join("")}catch{return!1}}()?Object.assign:function(G,z){for(var se,ye,be=function ae(G){if(null==G)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(G)}(G),De=1;De<arguments.length;De++){for(var Re in se=Object(arguments[De]))Ae.call(se,Re)&&(be[Re]=se[Re]);if(_e){ye=_e(se);for(var Ye=0;Ye<ye.length;Ye++)de.call(se,ye[Ye])&&(be[ye[Ye]]=se[ye[Ye]])}}return be}},{}],23:[function(o,U,Se){var _e=arguments[3],Ae=arguments[4],de=arguments[5],ae=JSON.stringify;U.exports=function(ve,G){for(var z,se=Object.keys(de),be=0,ye=se.length;be<ye;be++){var Re=de[De=se[be]].exports;if(Re===ve||Re&&Re.default===ve){z=De;break}}if(!z){z=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var Ye={};for(be=0,ye=se.length;be<ye;be++){var De;Ye[De=se[be]]=De}Ae[z]=["function(require,module,exports){"+ve+"(self); }",Ye]}var We=Math.floor(Math.pow(16,8)*Math.random()).toString(16),_t={};_t[z]=z,Ae[We]=["function(require,module,exports){var f = require("+ae(z)+");(f.default ? f.default : f)(self);}",_t];var Fe={};!function Ne(Ee){for(var Nt in Fe[Ee]=!0,Ae[Ee][1]){var Vt=Ae[Ee][1][Nt];Fe[Vt]||Ne(Vt)}}(We);var tt="("+_e+")({"+Object.keys(Fe).map(function(Ee){return ae(Ee)+":["+Ae[Ee][0]+","+ae(Ae[Ee][1])+"]"}).join(",")+"},{},["+ae(We)+"])",Ze=window.URL||window.webkitURL||window.mozURL||window.msURL,Ge=new Blob([tt],{type:"text/javascript"});if(G&&G.bare)return Ge;var dt=Ze.createObjectURL(Ge),bt=new Worker(dt);return bt.objectURL=dt,bt}},{}],"/index.js":[function(o,U,Se){"use strict";function _e(Ke,ut){return function G(Ke){if(Array.isArray(Ke))return Ke}(Ke)||function ve(Ke,ut){var Le=null==Ke?null:typeof Symbol<"u"&&Ke[Symbol.iterator]||Ke["@@iterator"];if(null!=Le){var Pe,je,we=[],te=!0,Ie=!1;try{for(Le=Le.call(Ke);!(te=(Pe=Le.next()).done)&&(we.push(Pe.value),!ut||we.length!==ut);te=!0);}catch(ot){Ie=!0,je=ot}finally{try{!te&&null!=Le.return&&Le.return()}finally{if(Ie)throw je}}return we}}(Ke,ut)||function de(Ke,ut){if(Ke){if("string"==typeof Ke)return ae(Ke,ut);var Le=Object.prototype.toString.call(Ke).slice(8,-1);if("Object"===Le&&Ke.constructor&&(Le=Ke.constructor.name),"Map"===Le||"Set"===Le)return Array.from(Ke);if("Arguments"===Le||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Le))return ae(Ke,ut)}}(Ke,ut)||function Ae(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(Ke,ut){(null==ut||ut>Ke.length)&&(ut=Ke.length);for(var Le=0,we=new Array(ut);Le<ut;Le++)we[Le]=Ke[Le];return we}var z=o("object-assign"),se=o("webworkify"),be=o("./lib/mathlib"),ye=o("./lib/pool"),De=o("./lib/utils"),Re=o("./lib/worker"),Ye=o("./lib/stepper"),We=o("./lib/tiler"),_t=o("./lib/mm_resize/resize_filter_info"),Fe={},Ne=!1;try{typeof navigator<"u"&&navigator.userAgent&&(Ne=navigator.userAgent.indexOf("Safari")>=0)}catch{}var tt=1;typeof navigator<"u"&&(tt=Math.min(navigator.hardwareConcurrency||1,4));var Ze={tile:1024,concurrency:tt,features:["js","wasm","ww"],idle:2e3,createCanvas:function(ut,Le){var we=document.createElement("canvas");return we.width=ut,we.height=Le,we}},Ge={filter:"mks2013",unsharpAmount:0,unsharpRadius:0,unsharpThreshold:0},dt=!1,bt=!1,Ee=!1,Nt=!1,Vt=!1;function Dn(){return{value:se(Re),destroy:function(){if(this.value.terminate(),typeof window<"u"){var ut=window.URL||window.webkitURL||window.mozURL||window.msURL;ut&&ut.revokeObjectURL&&this.value.objectURL&&ut.revokeObjectURL(this.value.objectURL)}}}}function Tt(Ke){if(!(this instanceof Tt))return new Tt(Ke);this.options=z({},Ze,Ke||{});var ut="lk_".concat(this.options.concurrency);this.__limit=Fe[ut]||De.limiter(this.options.concurrency),Fe[ut]||(Fe[ut]=this.__limit),this.features={js:!1,wasm:!1,cib:!1,ww:!1},this.__workersPool=null,this.__requested_features=[],this.__mathlib=null}Tt.prototype.init=function(){var Ke=this;if(this.__initPromise)return this.__initPromise;if(typeof ImageData<"u"&&typeof Uint8ClampedArray<"u")try{new ImageData(new Uint8ClampedArray(400),10,10),dt=!0}catch{}typeof ImageBitmap<"u"&&(ImageBitmap.prototype&&ImageBitmap.prototype.close?bt=!0:this.debug("ImageBitmap does not support .close(), disabled"));var ut=this.options.features.slice();if(ut.indexOf("all")>=0&&(ut=["cib","wasm","js","ww"]),this.__requested_features=ut,this.__mathlib=new be(ut),ut.indexOf("ww")>=0&&typeof window<"u"&&"Worker"in window)try{o("webworkify")(function(){}).terminate(),this.features.ww=!0;var we="wp_".concat(JSON.stringify(this.options));Fe[we]?this.__workersPool=Fe[we]:(this.__workersPool=new ye(Dn,this.options.idle),Fe[we]=this.__workersPool)}catch{}var Ie,Pe,te=this.__mathlib.init().then(function(ot){z(Ke.features,ot.features)});Ie=bt?De.cib_support(this.options.createCanvas).then(function(ot){Ke.features.cib&&ut.indexOf("cib")<0?Ke.debug("createImageBitmap() resize supported, but disabled by config"):ut.indexOf("cib")>=0&&(Ke.features.cib=ot)}):Promise.resolve(!1),Ee=De.can_use_canvas(this.options.createCanvas),Pe=(Pe=bt&&dt&&-1!==ut.indexOf("ww")?De.worker_offscreen_canvas_support():Promise.resolve(!1)).then(function(ot){Nt=ot});var je=De.cib_can_use_region().then(function(ot){Vt=ot});return this.__initPromise=Promise.all([te,Ie,Pe,je]).then(function(){return Ke}),this.__initPromise},Tt.prototype.__invokeResize=function(Ke,ut){var Le=this;return ut.__mathCache=ut.__mathCache||{},Promise.resolve().then(function(){return Le.features.ww?new Promise(function(we,te){var Ie=Le.__workersPool.acquire();ut.cancelToken&&ut.cancelToken.catch(function(je){return te(je)}),Ie.value.onmessage=function(je){Ie.release(),je.data.err?te(je.data.err):we(je.data)};var Pe=[];Ke.src&&Pe.push(Ke.src.buffer),Ke.srcBitmap&&Pe.push(Ke.srcBitmap),Ie.value.postMessage({opts:Ke,features:Le.__requested_features,preload:{wasm_nodule:Le.__mathlib.__}},Pe)}):{data:Le.__mathlib.resizeAndUnsharp(Ke,ut.__mathCache)}})},Tt.prototype.__extractTileData=function(Ke,ut,Le,we,te){if(this.features.ww&&Nt&&(De.isCanvas(ut)||Vt))return this.debug("Create tile for OffscreenCanvas"),createImageBitmap(we.srcImageBitmap||ut,Ke.x,Ke.y,Ke.width,Ke.height).then(function(je){return te.srcBitmap=je,te});if(De.isCanvas(ut))return we.srcCtx||(we.srcCtx=ut.getContext("2d")),this.debug("Get tile pixel data"),te.src=we.srcCtx.getImageData(Ke.x,Ke.y,Ke.width,Ke.height).data,te;this.debug("Draw tile imageBitmap/image to temporary canvas");var Ie=this.options.createCanvas(Ke.width,Ke.height),Pe=Ie.getContext("2d");return Pe.globalCompositeOperation="copy",Pe.drawImage(we.srcImageBitmap||ut,Ke.x,Ke.y,Ke.width,Ke.height,0,0,Ke.width,Ke.height),this.debug("Get tile pixel data"),te.src=Pe.getImageData(0,0,Ke.width,Ke.height).data,Ie.width=Ie.height=0,te},Tt.prototype.__landTileData=function(Ke,ut,Le){var we;if(this.debug("Convert raw rgba tile result to ImageData"),ut.bitmap)return Le.toCtx.drawImage(ut.bitmap,Ke.toX,Ke.toY),null;if(dt)we=new ImageData(new Uint8ClampedArray(ut.data),Ke.toWidth,Ke.toHeight);else if((we=Le.toCtx.createImageData(Ke.toWidth,Ke.toHeight)).data.set)we.data.set(ut.data);else for(var te=we.data.length-1;te>=0;te--)we.data[te]=ut.data[te];return this.debug("Draw tile"),Ne?Le.toCtx.putImageData(we,Ke.toX,Ke.toY,Ke.toInnerX-Ke.toX,Ke.toInnerY-Ke.toY,Ke.toInnerWidth+1e-5,Ke.toInnerHeight+1e-5):Le.toCtx.putImageData(we,Ke.toX,Ke.toY,Ke.toInnerX-Ke.toX,Ke.toInnerY-Ke.toY,Ke.toInnerWidth,Ke.toInnerHeight),null},Tt.prototype.__tileAndResize=function(Ke,ut,Le){var we=this,te={srcCtx:null,srcImageBitmap:null,isImageBitmapReused:!1,toCtx:null};return Promise.resolve().then(function(){if(te.toCtx=ut.getContext("2d"),De.isCanvas(Ke))return null;if(De.isImageBitmap(Ke))return te.srcImageBitmap=Ke,te.isImageBitmapReused=!0,null;if(De.isImage(Ke))return bt?(we.debug("Decode image via createImageBitmap"),createImageBitmap(Ke).then(function(Pe){te.srcImageBitmap=Pe}).catch(function(Pe){return null})):null;throw new Error('Pica: ".from" should be Image, Canvas or ImageBitmap')}).then(function(){if(Le.canceled)return Le.cancelToken;we.debug("Calculate tiles");var je=We({width:Le.width,height:Le.height,srcTileSize:we.options.tile,toWidth:Le.toWidth,toHeight:Le.toHeight,destTileBorder:Le.__destTileBorder}).map(function(vt){return function(je){return we.__limit(function(){if(Le.canceled)return Le.cancelToken;var ot={width:je.width,height:je.height,toWidth:je.toWidth,toHeight:je.toHeight,scaleX:je.scaleX,scaleY:je.scaleY,offsetX:je.offsetX,offsetY:je.offsetY,filter:Le.filter,unsharpAmount:Le.unsharpAmount,unsharpRadius:Le.unsharpRadius,unsharpThreshold:Le.unsharpThreshold};return we.debug("Invoke resize math"),Promise.resolve(ot).then(function(vt){return we.__extractTileData(je,Ke,Le,te,vt)}).then(function(vt){return we.debug("Invoke resize math"),we.__invokeResize(vt,Le)}).then(function(vt){return Le.canceled?Le.cancelToken:(te.srcImageData=null,we.__landTileData(je,vt,te))})})}(vt)});function ot(vt){vt.srcImageBitmap&&(vt.isImageBitmapReused||vt.srcImageBitmap.close(),vt.srcImageBitmap=null)}return we.debug("Process tiles"),Promise.all(je).then(function(){return we.debug("Finished!"),ot(te),ut},function(vt){throw ot(te),vt})})},Tt.prototype.__processStages=function(Ke,ut,Le,we){var te=this;if(we.canceled)return we.cancelToken;var Bt,Zt,Pe=_e(Ke.shift(),2),je=Pe[0],ot=Pe[1],vt=0===Ke.length;return Bt=vt||_t.q2f.indexOf(we.filter)<0?we.filter:"box"===we.filter?"box":"hamming",we=z({},we,{toWidth:je,toHeight:ot,filter:Bt}),vt||(Zt=this.options.createCanvas(je,ot)),this.__tileAndResize(ut,vt?Le:Zt,we).then(function(){return vt?Le:(we.width=je,we.height=ot,te.__processStages(Ke,Zt,Le,we))}).then(function(Wt){return Zt&&(Zt.width=Zt.height=0),Wt})},Tt.prototype.__resizeViaCreateImageBitmap=function(Ke,ut,Le){var we=this,te=ut.getContext("2d");return this.debug("Resize via createImageBitmap()"),createImageBitmap(Ke,{resizeWidth:Le.toWidth,resizeHeight:Le.toHeight,resizeQuality:De.cib_quality_name(_t.f2q[Le.filter])}).then(function(Ie){if(Le.canceled)return Le.cancelToken;if(!Le.unsharpAmount)return te.drawImage(Ie,0,0),Ie.close(),te=null,we.debug("Finished!"),ut;we.debug("Unsharp result");var Pe=we.options.createCanvas(Le.toWidth,Le.toHeight),je=Pe.getContext("2d");je.drawImage(Ie,0,0),Ie.close();var ot=je.getImageData(0,0,Le.toWidth,Le.toHeight);return we.__mathlib.unsharp_mask(ot.data,Le.toWidth,Le.toHeight,Le.unsharpAmount,Le.unsharpRadius,Le.unsharpThreshold),te.putImageData(ot,0,0),Pe.width=Pe.height=0,ot=je=Pe=te=null,we.debug("Finished!"),ut})},Tt.prototype.resize=function(Ke,ut,Le){var we=this;this.debug("Start resize...");var te=z({},Ge);if(isNaN(Le)?Le&&(te=z(te,Le)):te=z(te,{quality:Le}),te.toWidth=ut.width,te.toHeight=ut.height,te.width=Ke.naturalWidth||Ke.width,te.height=Ke.naturalHeight||Ke.height,Object.prototype.hasOwnProperty.call(te,"quality")){if(te.quality<0||te.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(te.quality));te.filter=_t.q2f[te.quality]}return 0===ut.width||0===ut.height?Promise.reject(new Error("Invalid output size: ".concat(ut.width,"x").concat(ut.height))):(te.unsharpRadius>2&&(te.unsharpRadius=2),te.canceled=!1,te.cancelToken&&(te.cancelToken=te.cancelToken.then(function(Pe){throw te.canceled=!0,Pe},function(Pe){throw te.canceled=!0,Pe})),te.__destTileBorder=Math.ceil(Math.max(3,2.5*te.unsharpRadius|0)),this.init().then(function(){if(te.canceled)return te.cancelToken;if(we.features.cib){if(_t.q2f.indexOf(te.filter)>=0)return we.__resizeViaCreateImageBitmap(Ke,ut,te);we.debug("cib is enabled, but not supports provided filter, fallback to manual math")}if(!Ee){var Pe=new Error("Pica: cannot use getImageData on canvas, make sure fingerprinting protection isn't enabled");throw Pe.code="ERR_GET_IMAGE_DATA",Pe}var je=Ye(te.width,te.height,te.toWidth,te.toHeight,we.options.tile,te.__destTileBorder);return we.__processStages(je,Ke,ut,te)}))},Tt.prototype.resizeBuffer=function(Ke){var ut=this,Le=z({},Ge,Ke);if(Object.prototype.hasOwnProperty.call(Le,"quality")){if(Le.quality<0||Le.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(Le.quality));Le.filter=_t.q2f[Le.quality]}return this.init().then(function(){return ut.__mathlib.resizeAndUnsharp(Le)})},Tt.prototype.toBlob=function(Ke,ut,Le){return ut=ut||"image/png",new Promise(function(we){if(Ke.toBlob)Ke.toBlob(function(ot){return we(ot)},ut,Le);else if(Ke.convertToBlob)we(Ke.convertToBlob({type:ut,quality:Le}));else{for(var te=atob(Ke.toDataURL(ut,Le).split(",")[1]),Ie=te.length,Pe=new Uint8Array(Ie),je=0;je<Ie;je++)Pe[je]=te.charCodeAt(je);we(new Blob([Pe],{type:ut}))}})},Tt.prototype.debug=function(){},U.exports=Tt},{"./lib/mathlib":1,"./lib/mm_resize/resize_filter_info":7,"./lib/pool":13,"./lib/stepper":14,"./lib/tiler":15,"./lib/utils":16,"./lib/worker":17,"object-assign":22,webworkify:23}]},{},[])("/index.js")},5619:(sn,lt,k)=>{"use strict";k.d(lt,{X:()=>o});var f=k(8645);class o extends f.x{constructor(Se){super(),this._value=Se}get value(){return this.getValue()}_subscribe(Se){const _e=super._subscribe(Se);return!_e.closed&&Se.next(this._value),_e}getValue(){const{hasError:Se,thrownError:_e,_value:Ae}=this;if(Se)throw _e;return this._throwIfClosed(),Ae}next(Se){super.next(this._value=Se)}}},5592:(sn,lt,k)=>{"use strict";k.d(lt,{y:()=>ae});var f=k(305),o=k(7394),U=k(4850),Se=k(8407),_e=k(2653),Ae=k(4674),de=k(1441);let ae=(()=>{class se{constructor(ye){ye&&(this._subscribe=ye)}lift(ye){const De=new se;return De.source=this,De.operator=ye,De}subscribe(ye,De,Re){const Ye=function z(se){return se&&se instanceof f.Lv||function G(se){return se&&(0,Ae.m)(se.next)&&(0,Ae.m)(se.error)&&(0,Ae.m)(se.complete)}(se)&&(0,o.Nn)(se)}(ye)?ye:new f.Hp(ye,De,Re);return(0,de.x)(()=>{const{operator:We,source:_t}=this;Ye.add(We?We.call(Ye,_t):_t?this._subscribe(Ye):this._trySubscribe(Ye))}),Ye}_trySubscribe(ye){try{return this._subscribe(ye)}catch(De){ye.error(De)}}forEach(ye,De){return new(De=ve(De))((Re,Ye)=>{const We=new f.Hp({next:_t=>{try{ye(_t)}catch(Fe){Ye(Fe),We.unsubscribe()}},error:Ye,complete:Re});this.subscribe(We)})}_subscribe(ye){var De;return null===(De=this.source)||void 0===De?void 0:De.subscribe(ye)}[U.L](){return this}pipe(...ye){return(0,Se.U)(ye)(this)}toPromise(ye){return new(ye=ve(ye))((De,Re)=>{let Ye;this.subscribe(We=>Ye=We,We=>Re(We),()=>De(Ye))})}}return se.create=be=>new se(be),se})();function ve(se){var be;return null!==(be=se??_e.config.Promise)&&void 0!==be?be:Promise}},8645:(sn,lt,k)=>{"use strict";k.d(lt,{x:()=>de});var f=k(5592),o=k(7394);const Se=(0,k(2306).d)(ve=>function(){ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _e=k(9039),Ae=k(1441);let de=(()=>{class ve extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const se=new ae(this,this);return se.operator=z,se}_throwIfClosed(){if(this.closed)throw new Se}next(z){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const se of this.currentObservers)se.next(z)}})}error(z){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:se}=this;for(;se.length;)se.shift().error(z)}})}complete(){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:se,isStopped:be,observers:ye}=this;return se||be?o.Lc:(this.currentObservers=null,ye.push(z),new o.w0(()=>{this.currentObservers=null,(0,_e.P)(ye,z)}))}_checkFinalizedStatuses(z){const{hasError:se,thrownError:be,isStopped:ye}=this;se?z.error(be):ye&&z.complete()}asObservable(){const z=new f.y;return z.source=this,z}}return ve.create=(G,z)=>new ae(G,z),ve})();class ae extends de{constructor(G,z){super(),this.destination=G,this.source=z}next(G){var z,se;null===(se=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===se||se.call(z,G)}error(G){var z,se;null===(se=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===se||se.call(z,G)}complete(){var G,z;null===(z=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===z||z.call(G)}_subscribe(G){var z,se;return null!==(se=null===(z=this.source)||void 0===z?void 0:z.subscribe(G))&&void 0!==se?se:o.Lc}}},305:(sn,lt,k)=>{"use strict";k.d(lt,{Hp:()=>Re,Lv:()=>se});var f=k(4674),o=k(7394),U=k(2653),Se=k(3894),_e=k(2420);const Ae=ve("C",void 0,void 0);function ve(Ne,tt,Ze){return{kind:Ne,value:tt,error:Ze}}var G=k(7599),z=k(1441);class se extends o.w0{constructor(tt){super(),this.isStopped=!1,tt?(this.destination=tt,(0,o.Nn)(tt)&&tt.add(this)):this.destination=Fe}static create(tt,Ze,Ge){return new Re(tt,Ze,Ge)}next(tt){this.isStopped?_t(function ae(Ne){return ve("N",Ne,void 0)}(tt),this):this._next(tt)}error(tt){this.isStopped?_t(function de(Ne){return ve("E",void 0,Ne)}(tt),this):(this.isStopped=!0,this._error(tt))}complete(){this.isStopped?_t(Ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(tt){this.destination.next(tt)}_error(tt){try{this.destination.error(tt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const be=Function.prototype.bind;function ye(Ne,tt){return be.call(Ne,tt)}class De{constructor(tt){this.partialObserver=tt}next(tt){const{partialObserver:Ze}=this;if(Ze.next)try{Ze.next(tt)}catch(Ge){Ye(Ge)}}error(tt){const{partialObserver:Ze}=this;if(Ze.error)try{Ze.error(tt)}catch(Ge){Ye(Ge)}else Ye(tt)}complete(){const{partialObserver:tt}=this;if(tt.complete)try{tt.complete()}catch(Ze){Ye(Ze)}}}class Re extends se{constructor(tt,Ze,Ge){let dt;if(super(),(0,f.m)(tt)||!tt)dt={next:tt??void 0,error:Ze??void 0,complete:Ge??void 0};else{let bt;this&&U.config.useDeprecatedNextContext?(bt=Object.create(tt),bt.unsubscribe=()=>this.unsubscribe(),dt={next:tt.next&&ye(tt.next,bt),error:tt.error&&ye(tt.error,bt),complete:tt.complete&&ye(tt.complete,bt)}):dt=tt}this.destination=new De(dt)}}function Ye(Ne){U.config.useDeprecatedSynchronousErrorHandling?(0,z.O)(Ne):(0,Se.h)(Ne)}function _t(Ne,tt){const{onStoppedNotification:Ze}=U.config;Ze&&G.z.setTimeout(()=>Ze(Ne,tt))}const Fe={closed:!0,next:_e.Z,error:function We(Ne){throw Ne},complete:_e.Z}},7394:(sn,lt,k)=>{"use strict";k.d(lt,{Lc:()=>Ae,w0:()=>_e,Nn:()=>de});var f=k(4674);const U=(0,k(2306).d)(ve=>function(z){ve(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((se,be)=>`${be+1}) ${se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var Se=k(9039);class _e{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const ye of z)ye.remove(this);else z.remove(this);const{initialTeardown:se}=this;if((0,f.m)(se))try{se()}catch(ye){G=ye instanceof U?ye.errors:[ye]}const{_finalizers:be}=this;if(be){this._finalizers=null;for(const ye of be)try{ae(ye)}catch(De){G=G??[],De instanceof U?G=[...G,...De.errors]:G.push(De)}}if(G)throw new U(G)}}add(G){var z;if(G&&G!==this)if(this.closed)ae(G);else{if(G instanceof _e){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(G)}}_hasParent(G){const{_parentage:z}=this;return z===G||Array.isArray(z)&&z.includes(G)}_addParent(G){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(G),z):z?[z,G]:G}_removeParent(G){const{_parentage:z}=this;z===G?this._parentage=null:Array.isArray(z)&&(0,Se.P)(z,G)}remove(G){const{_finalizers:z}=this;z&&(0,Se.P)(z,G),G instanceof _e&&G._removeParent(this)}}_e.EMPTY=(()=>{const ve=new _e;return ve.closed=!0,ve})();const Ae=_e.EMPTY;function de(ve){return ve instanceof _e||ve&&"closed"in ve&&(0,f.m)(ve.remove)&&(0,f.m)(ve.add)&&(0,f.m)(ve.unsubscribe)}function ae(ve){(0,f.m)(ve)?ve():ve.unsubscribe()}},2653:(sn,lt,k)=>{"use strict";k.d(lt,{config:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(sn,lt,k)=>{"use strict";k.d(lt,{a:()=>G});var f=k(5592),o=k(7453),U=k(2459),Se=k(2737),_e=k(7400),Ae=k(4564),de=k(2714),ae=k(8251),ve=k(7103);function G(...be){const ye=(0,Ae.yG)(be),De=(0,Ae.jO)(be),{args:Re,keys:Ye}=(0,o.D)(be);if(0===Re.length)return(0,U.D)([],ye);const We=new f.y(function z(be,ye,De=Se.y){return Re=>{se(ye,()=>{const{length:Ye}=be,We=new Array(Ye);let _t=Ye,Fe=Ye;for(let Ne=0;Ne<Ye;Ne++)se(ye,()=>{const tt=(0,U.D)(be[Ne],ye);let Ze=!1;tt.subscribe((0,ae.x)(Re,Ge=>{We[Ne]=Ge,Ze||(Ze=!0,Fe--),Fe||Re.next(De(We.slice()))},()=>{--_t||Re.complete()}))},Re)},Re)}}(Re,ye,Ye?_t=>(0,de.n)(Ye,_t):Se.y));return De?We.pipe((0,_e.Z)(De)):We}function se(be,ye,De){be?(0,ve.f)(De,be,ye):ye()}},5211:(sn,lt,k)=>{"use strict";k.d(lt,{z:()=>_e});var f=k(7537),U=k(4564),Se=k(2459);function _e(...Ae){return function o(){return(0,f.J)(1)}()((0,Se.D)(Ae,(0,U.yG)(Ae)))}},6232:(sn,lt,k)=>{"use strict";k.d(lt,{E:()=>o});const o=new(k(5592).y)(_e=>_e.complete())},9315:(sn,lt,k)=>{"use strict";k.d(lt,{D:()=>ae});var f=k(5592),o=k(7453),U=k(4829),Se=k(4564),_e=k(8251),Ae=k(7400),de=k(2714);function ae(...ve){const G=(0,Se.jO)(ve),{args:z,keys:se}=(0,o.D)(ve),be=new f.y(ye=>{const{length:De}=z;if(!De)return void ye.complete();const Re=new Array(De);let Ye=De,We=De;for(let _t=0;_t<De;_t++){let Fe=!1;(0,U.Xf)(z[_t]).subscribe((0,_e.x)(ye,Ne=>{Fe||(Fe=!0,We--),Re[_t]=Ne},()=>Ye--,void 0,()=>{(!Ye||!Fe)&&(We||ye.next(se?(0,de.n)(se,Re):Re),ye.complete())}))}});return G?be.pipe((0,Ae.Z)(G)):be}},2459:(sn,lt,k)=>{"use strict";k.d(lt,{D:()=>tt});var f=k(4829),o=k(3093),U=k(5137),Ae=k(5592),ae=k(4971),ve=k(4674),G=k(7103);function se(Ze,Ge){if(!Ze)throw new Error("Iterable cannot be null");return new Ae.y(dt=>{(0,G.f)(dt,Ge,()=>{const bt=Ze[Symbol.asyncIterator]();(0,G.f)(dt,Ge,()=>{bt.next().then(Ee=>{Ee.done?dt.complete():dt.next(Ee.value)})},0,!0)})})}var be=k(8382),ye=k(4026),De=k(4266),Re=k(3664),Ye=k(5726),We=k(9853),_t=k(541);function tt(Ze,Ge){return Ge?function Ne(Ze,Ge){if(null!=Ze){if((0,be.c)(Ze))return function Se(Ze,Ge){return(0,f.Xf)(Ze).pipe((0,U.R)(Ge),(0,o.Q)(Ge))}(Ze,Ge);if((0,De.z)(Ze))return function de(Ze,Ge){return new Ae.y(dt=>{let bt=0;return Ge.schedule(function(){bt===Ze.length?dt.complete():(dt.next(Ze[bt++]),dt.closed||this.schedule())})})}(Ze,Ge);if((0,ye.t)(Ze))return function _e(Ze,Ge){return(0,f.Xf)(Ze).pipe((0,U.R)(Ge),(0,o.Q)(Ge))}(Ze,Ge);if((0,Ye.D)(Ze))return se(Ze,Ge);if((0,Re.T)(Ze))return function z(Ze,Ge){return new Ae.y(dt=>{let bt;return(0,G.f)(dt,Ge,()=>{bt=Ze[ae.h](),(0,G.f)(dt,Ge,()=>{let Ee,Nt;try{({value:Ee,done:Nt}=bt.next())}catch(Vt){return void dt.error(Vt)}Nt?dt.complete():dt.next(Ee)},0,!0)}),()=>(0,ve.m)(bt?.return)&&bt.return()})}(Ze,Ge);if((0,_t.L)(Ze))return function Fe(Ze,Ge){return se((0,_t.Q)(Ze),Ge)}(Ze,Ge)}throw(0,We.z)(Ze)}(Ze,Ge):(0,f.Xf)(Ze)}},4829:(sn,lt,k)=>{"use strict";k.d(lt,{Xf:()=>be});var f=k(7582),o=k(4266),U=k(4026),Se=k(5592),_e=k(8382),Ae=k(5726),de=k(9853),ae=k(3664),ve=k(541),G=k(4674),z=k(3894),se=k(4850);function be(Ne){if(Ne instanceof Se.y)return Ne;if(null!=Ne){if((0,_e.c)(Ne))return function ye(Ne){return new Se.y(tt=>{const Ze=Ne[se.L]();if((0,G.m)(Ze.subscribe))return Ze.subscribe(tt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ne);if((0,o.z)(Ne))return function De(Ne){return new Se.y(tt=>{for(let Ze=0;Ze<Ne.length&&!tt.closed;Ze++)tt.next(Ne[Ze]);tt.complete()})}(Ne);if((0,U.t)(Ne))return function Re(Ne){return new Se.y(tt=>{Ne.then(Ze=>{tt.closed||(tt.next(Ze),tt.complete())},Ze=>tt.error(Ze)).then(null,z.h)})}(Ne);if((0,Ae.D)(Ne))return We(Ne);if((0,ae.T)(Ne))return function Ye(Ne){return new Se.y(tt=>{for(const Ze of Ne)if(tt.next(Ze),tt.closed)return;tt.complete()})}(Ne);if((0,ve.L)(Ne))return function _t(Ne){return We((0,ve.Q)(Ne))}(Ne)}throw(0,de.z)(Ne)}function We(Ne){return new Se.y(tt=>{(function Fe(Ne,tt){var Ze,Ge,dt,bt;return(0,f.mG)(this,void 0,void 0,function*(){try{for(Ze=(0,f.KL)(Ne);!(Ge=yield Ze.next()).done;)if(tt.next(Ge.value),tt.closed)return}catch(Ee){dt={error:Ee}}finally{try{Ge&&!Ge.done&&(bt=Ze.return)&&(yield bt.call(Ze))}finally{if(dt)throw dt.error}}tt.complete()})})(Ne,tt).catch(Ze=>tt.error(Ze))})}},3019:(sn,lt,k)=>{"use strict";k.d(lt,{T:()=>Ae});var f=k(7537),o=k(4829),U=k(6232),Se=k(4564),_e=k(2459);function Ae(...de){const ae=(0,Se.yG)(de),ve=(0,Se._6)(de,1/0),G=de;return G.length?1===G.length?(0,o.Xf)(G[0]):(0,f.J)(ve)((0,_e.D)(G,ae)):U.E}},2096:(sn,lt,k)=>{"use strict";k.d(lt,{of:()=>U});var f=k(4564),o=k(2459);function U(...Se){const _e=(0,f.yG)(Se);return(0,o.D)(Se,_e)}},8504:(sn,lt,k)=>{"use strict";k.d(lt,{_:()=>U});var f=k(5592),o=k(4674);function U(Se,_e){const Ae=(0,o.m)(Se)?Se:()=>Se,de=ae=>ae.error(Ae());return new f.y(_e?ae=>_e.schedule(de,0,ae):de)}},8251:(sn,lt,k)=>{"use strict";k.d(lt,{x:()=>o});var f=k(305);function o(Se,_e,Ae,de,ae){return new U(Se,_e,Ae,de,ae)}class U extends f.Lv{constructor(_e,Ae,de,ae,ve,G){super(_e),this.onFinalize=ve,this.shouldUnsubscribe=G,this._next=Ae?function(z){try{Ae(z)}catch(se){_e.error(se)}}:super._next,this._error=ae?function(z){try{ae(z)}catch(se){_e.error(se)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(z){_e.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var _e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ae}=this;super.unsubscribe(),!Ae&&(null===(_e=this.onFinalize)||void 0===_e||_e.call(this))}}}},6306:(sn,lt,k)=>{"use strict";k.d(lt,{K:()=>Se});var f=k(4829),o=k(8251),U=k(9360);function Se(_e){return(0,U.e)((Ae,de)=>{let G,ae=null,ve=!1;ae=Ae.subscribe((0,o.x)(de,void 0,void 0,z=>{G=(0,f.Xf)(_e(z,Se(_e)(Ae))),ae?(ae.unsubscribe(),ae=null,G.subscribe(de)):ve=!0})),ve&&(ae.unsubscribe(),ae=null,G.subscribe(de))})}},6328:(sn,lt,k)=>{"use strict";k.d(lt,{b:()=>U});var f=k(1631),o=k(4674);function U(Se,_e){return(0,o.m)(_e)?(0,f.z)(Se,_e,1):(0,f.z)(Se,1)}},3620:(sn,lt,k)=>{"use strict";k.d(lt,{b:()=>Se});var f=k(6321),o=k(9360),U=k(8251);function Se(_e,Ae=f.z){return(0,o.e)((de,ae)=>{let ve=null,G=null,z=null;const se=()=>{if(ve){ve.unsubscribe(),ve=null;const ye=G;G=null,ae.next(ye)}};function be(){const ye=z+_e,De=Ae.now();if(De<ye)return ve=this.schedule(void 0,ye-De),void ae.add(ve);se()}de.subscribe((0,U.x)(ae,ye=>{G=ye,z=Ae.now(),ve||(ve=Ae.schedule(be,_e),ae.add(ve))},()=>{se(),ae.complete()},void 0,()=>{G=ve=null}))})}},3572:(sn,lt,k)=>{"use strict";k.d(lt,{d:()=>U});var f=k(9360),o=k(8251);function U(Se){return(0,f.e)((_e,Ae)=>{let de=!1;_e.subscribe((0,o.x)(Ae,ae=>{de=!0,Ae.next(ae)},()=>{de||Ae.next(Se),Ae.complete()}))})}},3997:(sn,lt,k)=>{"use strict";k.d(lt,{x:()=>Se});var f=k(2737),o=k(9360),U=k(8251);function Se(Ae,de=f.y){return Ae=Ae??_e,(0,o.e)((ae,ve)=>{let G,z=!0;ae.subscribe((0,U.x)(ve,se=>{const be=de(se);(z||!Ae(G,be))&&(z=!1,G=be,ve.next(se))}))})}function _e(Ae,de){return Ae===de}},2181:(sn,lt,k)=>{"use strict";k.d(lt,{h:()=>U});var f=k(9360),o=k(8251);function U(Se,_e){return(0,f.e)((Ae,de)=>{let ae=0;Ae.subscribe((0,o.x)(de,ve=>Se.call(_e,ve,ae++)&&de.next(ve)))})}},4716:(sn,lt,k)=>{"use strict";k.d(lt,{x:()=>o});var f=k(9360);function o(U){return(0,f.e)((Se,_e)=>{try{Se.subscribe(_e)}finally{_e.add(U)}})}},1374:(sn,lt,k)=>{"use strict";k.d(lt,{P:()=>de});var f=k(6973),o=k(2181),U=k(8180),Se=k(3572),_e=k(3026),Ae=k(2737);function de(ae,ve){const G=arguments.length>=2;return z=>z.pipe(ae?(0,o.h)((se,be)=>ae(se,be,z)):Ae.y,(0,U.q)(1),G?(0,Se.d)(ve):(0,_e.T)(()=>new f.K))}},7398:(sn,lt,k)=>{"use strict";k.d(lt,{U:()=>U});var f=k(9360),o=k(8251);function U(Se,_e){return(0,f.e)((Ae,de)=>{let ae=0;Ae.subscribe((0,o.x)(de,ve=>{de.next(Se.call(_e,ve,ae++))}))})}},7537:(sn,lt,k)=>{"use strict";k.d(lt,{J:()=>U});var f=k(1631),o=k(2737);function U(Se=1/0){return(0,f.z)(o.y,Se)}},1631:(sn,lt,k)=>{"use strict";k.d(lt,{z:()=>ae});var f=k(7398),o=k(4829),U=k(9360),Se=k(7103),_e=k(8251),de=k(4674);function ae(ve,G,z=1/0){return(0,de.m)(G)?ae((se,be)=>(0,f.U)((ye,De)=>G(se,ye,be,De))((0,o.Xf)(ve(se,be))),z):("number"==typeof G&&(z=G),(0,U.e)((se,be)=>function Ae(ve,G,z,se,be,ye,De,Re){const Ye=[];let We=0,_t=0,Fe=!1;const Ne=()=>{Fe&&!Ye.length&&!We&&G.complete()},tt=Ge=>We<se?Ze(Ge):Ye.push(Ge),Ze=Ge=>{ye&&G.next(Ge),We++;let dt=!1;(0,o.Xf)(z(Ge,_t++)).subscribe((0,_e.x)(G,bt=>{be?.(bt),ye?tt(bt):G.next(bt)},()=>{dt=!0},void 0,()=>{if(dt)try{for(We--;Ye.length&&We<se;){const bt=Ye.shift();De?(0,Se.f)(G,De,()=>Ze(bt)):Ze(bt)}Ne()}catch(bt){G.error(bt)}}))};return ve.subscribe((0,_e.x)(G,tt,()=>{Fe=!0,Ne()})),()=>{Re?.()}}(se,be,ve,z)))}},3093:(sn,lt,k)=>{"use strict";k.d(lt,{Q:()=>Se});var f=k(7103),o=k(9360),U=k(8251);function Se(_e,Ae=0){return(0,o.e)((de,ae)=>{de.subscribe((0,U.x)(ae,ve=>(0,f.f)(ae,_e,()=>ae.next(ve),Ae),()=>(0,f.f)(ae,_e,()=>ae.complete(),Ae),ve=>(0,f.f)(ae,_e,()=>ae.error(ve),Ae)))})}},6699:(sn,lt,k)=>{"use strict";k.d(lt,{R:()=>Se});var f=k(9360),o=k(8251);function Se(_e,Ae){return(0,f.e)(function U(_e,Ae,de,ae,ve){return(G,z)=>{let se=de,be=Ae,ye=0;G.subscribe((0,o.x)(z,De=>{const Re=ye++;be=se?_e(be,De,Re):(se=!0,De),ae&&z.next(be)},ve&&(()=>{se&&z.next(be),z.complete()})))}}(_e,Ae,arguments.length>=2,!0))}},3020:(sn,lt,k)=>{"use strict";k.d(lt,{B:()=>_e});var f=k(4829),o=k(8645),U=k(305),Se=k(9360);function _e(de={}){const{connector:ae=(()=>new o.x),resetOnError:ve=!0,resetOnComplete:G=!0,resetOnRefCountZero:z=!0}=de;return se=>{let be,ye,De,Re=0,Ye=!1,We=!1;const _t=()=>{ye?.unsubscribe(),ye=void 0},Fe=()=>{_t(),be=De=void 0,Ye=We=!1},Ne=()=>{const tt=be;Fe(),tt?.unsubscribe()};return(0,Se.e)((tt,Ze)=>{Re++,!We&&!Ye&&_t();const Ge=De=De??ae();Ze.add(()=>{Re--,0===Re&&!We&&!Ye&&(ye=Ae(Ne,z))}),Ge.subscribe(Ze),!be&&Re>0&&(be=new U.Hp({next:dt=>Ge.next(dt),error:dt=>{We=!0,_t(),ye=Ae(Fe,ve,dt),Ge.error(dt)},complete:()=>{Ye=!0,_t(),ye=Ae(Fe,G),Ge.complete()}}),(0,f.Xf)(tt).subscribe(be))})(se)}}function Ae(de,ae,...ve){if(!0===ae)return void de();if(!1===ae)return;const G=new U.Hp({next:()=>{G.unsubscribe(),de()}});return(0,f.Xf)(ae(...ve)).subscribe(G)}},7921:(sn,lt,k)=>{"use strict";k.d(lt,{O:()=>Se});var f=k(5211),o=k(4564),U=k(9360);function Se(..._e){const Ae=(0,o.yG)(_e);return(0,U.e)((de,ae)=>{(Ae?(0,f.z)(_e,de,Ae):(0,f.z)(_e,de)).subscribe(ae)})}},5137:(sn,lt,k)=>{"use strict";k.d(lt,{R:()=>o});var f=k(9360);function o(U,Se=0){return(0,f.e)((_e,Ae)=>{Ae.add(U.schedule(()=>_e.subscribe(Ae),Se))})}},4664:(sn,lt,k)=>{"use strict";k.d(lt,{w:()=>Se});var f=k(4829),o=k(9360),U=k(8251);function Se(_e,Ae){return(0,o.e)((de,ae)=>{let ve=null,G=0,z=!1;const se=()=>z&&!ve&&ae.complete();de.subscribe((0,U.x)(ae,be=>{ve?.unsubscribe();let ye=0;const De=G++;(0,f.Xf)(_e(be,De)).subscribe(ve=(0,U.x)(ae,Re=>ae.next(Ae?Ae(be,Re,De,ye++):Re),()=>{ve=null,se()}))},()=>{z=!0,se()}))})}},8180:(sn,lt,k)=>{"use strict";k.d(lt,{q:()=>Se});var f=k(6232),o=k(9360),U=k(8251);function Se(_e){return _e<=0?()=>f.E:(0,o.e)((Ae,de)=>{let ae=0;Ae.subscribe((0,U.x)(de,ve=>{++ae<=_e&&(de.next(ve),_e<=ae&&de.complete())}))})}},9773:(sn,lt,k)=>{"use strict";k.d(lt,{R:()=>_e});var f=k(9360),o=k(8251),U=k(4829),Se=k(2420);function _e(Ae){return(0,f.e)((de,ae)=>{(0,U.Xf)(Ae).subscribe((0,o.x)(ae,()=>ae.complete(),Se.Z)),!ae.closed&&de.subscribe(ae)})}},9397:(sn,lt,k)=>{"use strict";k.d(lt,{b:()=>_e});var f=k(4674),o=k(9360),U=k(8251),Se=k(2737);function _e(Ae,de,ae){const ve=(0,f.m)(Ae)||de||ae?{next:Ae,error:de,complete:ae}:Ae;return ve?(0,o.e)((G,z)=>{var se;null===(se=ve.subscribe)||void 0===se||se.call(ve);let be=!0;G.subscribe((0,U.x)(z,ye=>{var De;null===(De=ve.next)||void 0===De||De.call(ve,ye),z.next(ye)},()=>{var ye;be=!1,null===(ye=ve.complete)||void 0===ye||ye.call(ve),z.complete()},ye=>{var De;be=!1,null===(De=ve.error)||void 0===De||De.call(ve,ye),z.error(ye)},()=>{var ye,De;be&&(null===(ye=ve.unsubscribe)||void 0===ye||ye.call(ve)),null===(De=ve.finalize)||void 0===De||De.call(ve)}))}):Se.y}},3026:(sn,lt,k)=>{"use strict";k.d(lt,{T:()=>Se});var f=k(6973),o=k(9360),U=k(8251);function Se(Ae=_e){return(0,o.e)((de,ae)=>{let ve=!1;de.subscribe((0,U.x)(ae,G=>{ve=!0,ae.next(G)},()=>ve?ae.complete():ae.error(Ae())))})}function _e(){return new f.K}},1954:(sn,lt,k)=>{"use strict";k.d(lt,{o:()=>_e});var f=k(7394);class o extends f.w0{constructor(de,ae){super()}schedule(de,ae=0){return this}}const U={setInterval(Ae,de,...ae){const{delegate:ve}=U;return ve?.setInterval?ve.setInterval(Ae,de,...ae):setInterval(Ae,de,...ae)},clearInterval(Ae){const{delegate:de}=U;return(de?.clearInterval||clearInterval)(Ae)},delegate:void 0};var Se=k(9039);class _e extends o{constructor(de,ae){super(de,ae),this.scheduler=de,this.work=ae,this.pending=!1}schedule(de,ae=0){var ve;if(this.closed)return this;this.state=de;const G=this.id,z=this.scheduler;return null!=G&&(this.id=this.recycleAsyncId(z,G,ae)),this.pending=!0,this.delay=ae,this.id=null!==(ve=this.id)&&void 0!==ve?ve:this.requestAsyncId(z,this.id,ae),this}requestAsyncId(de,ae,ve=0){return U.setInterval(de.flush.bind(de,this),ve)}recycleAsyncId(de,ae,ve=0){if(null!=ve&&this.delay===ve&&!1===this.pending)return ae;null!=ae&&U.clearInterval(ae)}execute(de,ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ve=this._execute(de,ae);if(ve)return ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,ae){let G,ve=!1;try{this.work(de)}catch(z){ve=!0,G=z||new Error("Scheduled action threw falsy error")}if(ve)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:de,scheduler:ae}=this,{actions:ve}=ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Se.P)(ve,this),null!=de&&(this.id=this.recycleAsyncId(ae,de,null)),this.delay=null,super.unsubscribe()}}}},2631:(sn,lt,k)=>{"use strict";k.d(lt,{v:()=>U});var f=k(4552);class o{constructor(_e,Ae=o.now){this.schedulerActionCtor=_e,this.now=Ae}schedule(_e,Ae=0,de){return new this.schedulerActionCtor(this,_e).schedule(de,Ae)}}o.now=f.l.now;class U extends o{constructor(_e,Ae=o.now){super(_e,Ae),this.actions=[],this._active=!1}flush(_e){const{actions:Ae}=this;if(this._active)return void Ae.push(_e);let de;this._active=!0;do{if(de=_e.execute(_e.state,_e.delay))break}while(_e=Ae.shift());if(this._active=!1,de){for(;_e=Ae.shift();)_e.unsubscribe();throw de}}}},6321:(sn,lt,k)=>{"use strict";k.d(lt,{z:()=>U});var f=k(1954);const U=new(k(2631).v)(f.o)},4552:(sn,lt,k)=>{"use strict";k.d(lt,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},7599:(sn,lt,k)=>{"use strict";k.d(lt,{z:()=>f});const f={setTimeout(o,U,...Se){const{delegate:_e}=f;return _e?.setTimeout?_e.setTimeout(o,U,...Se):setTimeout(o,U,...Se)},clearTimeout(o){const{delegate:U}=f;return(U?.clearTimeout||clearTimeout)(o)},delegate:void 0}},4971:(sn,lt,k)=>{"use strict";k.d(lt,{h:()=>o});const o=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(sn,lt,k)=>{"use strict";k.d(lt,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(sn,lt,k)=>{"use strict";k.d(lt,{K:()=>o});const o=(0,k(2306).d)(U=>function(){U(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(sn,lt,k)=>{"use strict";k.d(lt,{_6:()=>Ae,jO:()=>Se,yG:()=>_e});var f=k(4674);function U(de){return de[de.length-1]}function Se(de){return(0,f.m)(U(de))?de.pop():void 0}function _e(de){return function o(de){return de&&(0,f.m)(de.schedule)}(U(de))?de.pop():void 0}function Ae(de,ae){return"number"==typeof U(de)?de.pop():ae}},7453:(sn,lt,k)=>{"use strict";k.d(lt,{D:()=>_e});const{isArray:f}=Array,{getPrototypeOf:o,prototype:U,keys:Se}=Object;function _e(de){if(1===de.length){const ae=de[0];if(f(ae))return{args:ae,keys:null};if(function Ae(de){return de&&"object"==typeof de&&o(de)===U}(ae)){const ve=Se(ae);return{args:ve.map(G=>ae[G]),keys:ve}}}return{args:de,keys:null}}},9039:(sn,lt,k)=>{"use strict";function f(o,U){if(o){const Se=o.indexOf(U);0<=Se&&o.splice(Se,1)}}k.d(lt,{P:()=>f})},2306:(sn,lt,k)=>{"use strict";function f(o){const Se=o(_e=>{Error.call(_e),_e.stack=(new Error).stack});return Se.prototype=Object.create(Error.prototype),Se.prototype.constructor=Se,Se}k.d(lt,{d:()=>f})},2714:(sn,lt,k)=>{"use strict";function f(o,U){return o.reduce((Se,_e,Ae)=>(Se[_e]=U[Ae],Se),{})}k.d(lt,{n:()=>f})},1441:(sn,lt,k)=>{"use strict";k.d(lt,{O:()=>Se,x:()=>U});var f=k(2653);let o=null;function U(_e){if(f.config.useDeprecatedSynchronousErrorHandling){const Ae=!o;if(Ae&&(o={errorThrown:!1,error:null}),_e(),Ae){const{errorThrown:de,error:ae}=o;if(o=null,de)throw ae}}else _e()}function Se(_e){f.config.useDeprecatedSynchronousErrorHandling&&o&&(o.errorThrown=!0,o.error=_e)}},7103:(sn,lt,k)=>{"use strict";function f(o,U,Se,_e=0,Ae=!1){const de=U.schedule(function(){Se(),Ae?o.add(this.schedule(null,_e)):this.unsubscribe()},_e);if(o.add(de),!Ae)return de}k.d(lt,{f:()=>f})},2737:(sn,lt,k)=>{"use strict";function f(o){return o}k.d(lt,{y:()=>f})},4266:(sn,lt,k)=>{"use strict";k.d(lt,{z:()=>f});const f=o=>o&&"number"==typeof o.length&&"function"!=typeof o},5726:(sn,lt,k)=>{"use strict";k.d(lt,{D:()=>o});var f=k(4674);function o(U){return Symbol.asyncIterator&&(0,f.m)(U?.[Symbol.asyncIterator])}},4674:(sn,lt,k)=>{"use strict";function f(o){return"function"==typeof o}k.d(lt,{m:()=>f})},8382:(sn,lt,k)=>{"use strict";k.d(lt,{c:()=>U});var f=k(4850),o=k(4674);function U(Se){return(0,o.m)(Se[f.L])}},3664:(sn,lt,k)=>{"use strict";k.d(lt,{T:()=>U});var f=k(4971),o=k(4674);function U(Se){return(0,o.m)(Se?.[f.h])}},4026:(sn,lt,k)=>{"use strict";k.d(lt,{t:()=>o});var f=k(4674);function o(U){return(0,f.m)(U?.then)}},541:(sn,lt,k)=>{"use strict";k.d(lt,{L:()=>Se,Q:()=>U});var f=k(7582),o=k(4674);function U(_e){return(0,f.FC)(this,arguments,function*(){const de=_e.getReader();try{for(;;){const{value:ae,done:ve}=yield(0,f.qq)(de.read());if(ve)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(ae)}}finally{de.releaseLock()}})}function Se(_e){return(0,o.m)(_e?.getReader)}},9360:(sn,lt,k)=>{"use strict";k.d(lt,{A:()=>o,e:()=>U});var f=k(4674);function o(Se){return(0,f.m)(Se?.lift)}function U(Se){return _e=>{if(o(_e))return _e.lift(function(Ae){try{return Se(Ae,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(sn,lt,k)=>{"use strict";k.d(lt,{Z:()=>Se});var f=k(7398);const{isArray:o}=Array;function Se(_e){return(0,f.U)(Ae=>function U(_e,Ae){return o(Ae)?_e(...Ae):_e(Ae)}(_e,Ae))}},2420:(sn,lt,k)=>{"use strict";function f(){}k.d(lt,{Z:()=>f})},8407:(sn,lt,k)=>{"use strict";k.d(lt,{U:()=>U,z:()=>o});var f=k(2737);function o(...Se){return U(Se)}function U(Se){return 0===Se.length?f.y:1===Se.length?Se[0]:function(Ae){return Se.reduce((de,ae)=>ae(de),Ae)}}},3894:(sn,lt,k)=>{"use strict";k.d(lt,{h:()=>U});var f=k(2653),o=k(7599);function U(Se){o.z.setTimeout(()=>{const{onUnhandledError:_e}=f.config;if(!_e)throw Se;_e(Se)})}},9853:(sn,lt,k)=>{"use strict";function f(o){return new TypeError(`You provided ${null!==o&&"object"==typeof o?"an invalid object":`'${o}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(lt,{z:()=>f})},6814:(sn,lt,k)=>{"use strict";k.d(lt,{Do:()=>Re,EM:()=>$e,HT:()=>Se,JF:()=>Sn,K0:()=>Ae,Mx:()=>Ln,NF:()=>So,O5:()=>lo,Ov:()=>Ei,PM:()=>ci,S$:()=>be,Ts:()=>io,V_:()=>ae,Ye:()=>Ye,b0:()=>De,bD:()=>si,ez:()=>Do,mk:()=>$n,q:()=>U,sg:()=>ur,uU:()=>oi,w_:()=>_e});var f=k(5879);let o=null;function U(){return o}function Se(x){o||(o=x)}class _e{}const Ae=new f.OlP("DocumentToken");let de=(()=>{class x{historyGo(j){throw new Error("Not implemented")}static#e=this.\u0275fac=function(ne){return new(ne||x)};static#t=this.\u0275prov=f.Yz7({token:x,factory:function(){return(0,f.f3M)(ve)},providedIn:"platform"})}return x})();const ae=new f.OlP("Location Initialized");let ve=(()=>{class x extends de{constructor(){super(),this._doc=(0,f.f3M)(Ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(j){const ne=U().getGlobalEventTarget(this._doc,"window");return ne.addEventListener("popstate",j,!1),()=>ne.removeEventListener("popstate",j)}onHashChange(j){const ne=U().getGlobalEventTarget(this._doc,"window");return ne.addEventListener("hashchange",j,!1),()=>ne.removeEventListener("hashchange",j)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(j){this._location.pathname=j}pushState(j,ne,Ue){this._history.pushState(j,ne,Ue)}replaceState(j,ne,Ue){this._history.replaceState(j,ne,Ue)}forward(){this._history.forward()}back(){this._history.back()}historyGo(j=0){this._history.go(j)}getState(){return this._history.state}static#e=this.\u0275fac=function(ne){return new(ne||x)};static#t=this.\u0275prov=f.Yz7({token:x,factory:function(){return new x},providedIn:"platform"})}return x})();function G(x,oe){if(0==x.length)return oe;if(0==oe.length)return x;let j=0;return x.endsWith("/")&&j++,oe.startsWith("/")&&j++,2==j?x+oe.substring(1):1==j?x+oe:x+"/"+oe}function z(x){const oe=x.match(/#|\?|$/),j=oe&&oe.index||x.length;return x.slice(0,j-("/"===x[j-1]?1:0))+x.slice(j)}function se(x){return x&&"?"!==x[0]?"?"+x:x}let be=(()=>{class x{historyGo(j){throw new Error("Not implemented")}static#e=this.\u0275fac=function(ne){return new(ne||x)};static#t=this.\u0275prov=f.Yz7({token:x,factory:function(){return(0,f.f3M)(De)},providedIn:"root"})}return x})();const ye=new f.OlP("appBaseHref");let De=(()=>{class x extends be{constructor(j,ne){super(),this._platformLocation=j,this._removeListenerFns=[],this._baseHref=ne??this._platformLocation.getBaseHrefFromDOM()??(0,f.f3M)(Ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}prepareExternalUrl(j){return G(this._baseHref,j)}path(j=!1){const ne=this._platformLocation.pathname+se(this._platformLocation.search),Ue=this._platformLocation.hash;return Ue&&j?`${ne}${Ue}`:ne}pushState(j,ne,Ue,Ot){const Ht=this.prepareExternalUrl(Ue+se(Ot));this._platformLocation.pushState(j,ne,Ht)}replaceState(j,ne,Ue,Ot){const Ht=this.prepareExternalUrl(Ue+se(Ot));this._platformLocation.replaceState(j,ne,Ht)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static#e=this.\u0275fac=function(ne){return new(ne||x)(f.LFG(de),f.LFG(ye,8))};static#t=this.\u0275prov=f.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})(),Re=(()=>{class x extends be{constructor(j,ne){super(),this._platformLocation=j,this._baseHref="",this._removeListenerFns=[],null!=ne&&(this._baseHref=ne)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){let ne=this._platformLocation.hash;return null==ne&&(ne="#"),ne.length>0?ne.substring(1):ne}prepareExternalUrl(j){const ne=G(this._baseHref,j);return ne.length>0?"#"+ne:ne}pushState(j,ne,Ue,Ot){let Ht=this.prepareExternalUrl(Ue+se(Ot));0==Ht.length&&(Ht=this._platformLocation.pathname),this._platformLocation.pushState(j,ne,Ht)}replaceState(j,ne,Ue,Ot){let Ht=this.prepareExternalUrl(Ue+se(Ot));0==Ht.length&&(Ht=this._platformLocation.pathname),this._platformLocation.replaceState(j,ne,Ht)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static#e=this.\u0275fac=function(ne){return new(ne||x)(f.LFG(de),f.LFG(ye,8))};static#t=this.\u0275prov=f.Yz7({token:x,factory:x.\u0275fac})}return x})(),Ye=(()=>{class x{constructor(j){this._subject=new f.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=j;const ne=this._locationStrategy.getBaseHref();this._basePath=function Ne(x){if(new RegExp("^(https?:)?//").test(x)){const[,j]=x.split(/\/\/[^\/]+/);return j}return x}(z(Fe(ne))),this._locationStrategy.onPopState(Ue=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ue.state,type:Ue.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(j=!1){return this.normalize(this._locationStrategy.path(j))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(j,ne=""){return this.path()==this.normalize(j+se(ne))}normalize(j){return x.stripTrailingSlash(function _t(x,oe){if(!x||!oe.startsWith(x))return oe;const j=oe.substring(x.length);return""===j||["/",";","?","#"].includes(j[0])?j:oe}(this._basePath,Fe(j)))}prepareExternalUrl(j){return j&&"/"!==j[0]&&(j="/"+j),this._locationStrategy.prepareExternalUrl(j)}go(j,ne="",Ue=null){this._locationStrategy.pushState(Ue,"",j,ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+se(ne)),Ue)}replaceState(j,ne="",Ue=null){this._locationStrategy.replaceState(Ue,"",j,ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+se(ne)),Ue)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(j=0){this._locationStrategy.historyGo?.(j)}onUrlChange(j){return this._urlChangeListeners.push(j),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ne=>{this._notifyUrlChangeListeners(ne.url,ne.state)})),()=>{const ne=this._urlChangeListeners.indexOf(j);this._urlChangeListeners.splice(ne,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(j="",ne){this._urlChangeListeners.forEach(Ue=>Ue(j,ne))}subscribe(j,ne,Ue){return this._subject.subscribe({next:j,error:ne,complete:Ue})}static#e=this.normalizeQueryParams=se;static#t=this.joinWithSlash=G;static#n=this.stripTrailingSlash=z;static#r=this.\u0275fac=function(ne){return new(ne||x)(f.LFG(be))};static#i=this.\u0275prov=f.Yz7({token:x,factory:function(){return function We(){return new Ye((0,f.LFG)(be))}()},providedIn:"root"})}return x})();function Fe(x){return x.replace(/\/index.html$/,"")}var dt=function(x){return x[x.Format=0]="Format",x[x.Standalone=1]="Standalone",x}(dt||{}),bt=function(x){return x[x.Narrow=0]="Narrow",x[x.Abbreviated=1]="Abbreviated",x[x.Wide=2]="Wide",x[x.Short=3]="Short",x}(bt||{}),Ee=function(x){return x[x.Short=0]="Short",x[x.Medium=1]="Medium",x[x.Long=2]="Long",x[x.Full=3]="Full",x}(Ee||{}),Nt=function(x){return x[x.Decimal=0]="Decimal",x[x.Group=1]="Group",x[x.List=2]="List",x[x.PercentSign=3]="PercentSign",x[x.PlusSign=4]="PlusSign",x[x.MinusSign=5]="MinusSign",x[x.Exponential=6]="Exponential",x[x.SuperscriptingExponent=7]="SuperscriptingExponent",x[x.PerMille=8]="PerMille",x[x.Infinity=9]="Infinity",x[x.NaN=10]="NaN",x[x.TimeSeparator=11]="TimeSeparator",x[x.CurrencyDecimal=12]="CurrencyDecimal",x[x.CurrencyGroup=13]="CurrencyGroup",x}(Nt||{});function Ie(x,oe){return pr((0,f.cg1)(x)[f.wAp.DateFormat],oe)}function Pe(x,oe){return pr((0,f.cg1)(x)[f.wAp.TimeFormat],oe)}function je(x,oe){return pr((0,f.cg1)(x)[f.wAp.DateTimeFormat],oe)}function ot(x,oe){const j=(0,f.cg1)(x),ne=j[f.wAp.NumberSymbols][oe];if(typeof ne>"u"){if(oe===Nt.CurrencyDecimal)return j[f.wAp.NumberSymbols][Nt.Decimal];if(oe===Nt.CurrencyGroup)return j[f.wAp.NumberSymbols][Nt.Group]}return ne}function Pn(x){if(!x[f.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${x[f.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function pr(x,oe){for(let j=oe;j>-1;j--)if(typeof x[j]<"u")return x[j];throw new Error("Locale data API: locale data undefined")}function Yn(x){const[oe,j]=x.split(":");return{hours:+oe,minutes:+j}}const Rr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,rr={},Yt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var In=function(x){return x[x.Short=0]="Short",x[x.ShortGMT=1]="ShortGMT",x[x.Long=2]="Long",x[x.Extended=3]="Extended",x}(In||{}),Un=function(x){return x[x.FullYear=0]="FullYear",x[x.Month=1]="Month",x[x.Date=2]="Date",x[x.Hours=3]="Hours",x[x.Minutes=4]="Minutes",x[x.Seconds=5]="Seconds",x[x.FractionalSeconds=6]="FractionalSeconds",x[x.Day=7]="Day",x}(Un||{}),Hn=function(x){return x[x.DayPeriods=0]="DayPeriods",x[x.Days=1]="Days",x[x.Months=2]="Months",x[x.Eras=3]="Eras",x}(Hn||{});function Ar(x,oe,j,ne){let Ue=function ce(x){if(H(x))return x;if("number"==typeof x&&!isNaN(x))return new Date(x);if("string"==typeof x){if(x=x.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(x)){const[Ue,Ot=1,Ht=1]=x.split("-").map(Mn=>+Mn);return Tr(Ue,Ot-1,Ht)}const j=parseFloat(x);if(!isNaN(x-j))return new Date(j);let ne;if(ne=x.match(Rr))return function K(x){const oe=new Date(0);let j=0,ne=0;const Ue=x[8]?oe.setUTCFullYear:oe.setFullYear,Ot=x[8]?oe.setUTCHours:oe.setHours;x[9]&&(j=Number(x[9]+x[10]),ne=Number(x[9]+x[11])),Ue.call(oe,Number(x[1]),Number(x[2])-1,Number(x[3]));const Ht=Number(x[4]||0)-j,Mn=Number(x[5]||0)-ne,Lr=Number(x[6]||0),li=Math.floor(1e3*parseFloat("0."+(x[7]||0)));return Ot.call(oe,Ht,Mn,Lr,li),oe}(ne)}const oe=new Date(x);if(!H(oe))throw new Error(`Unable to convert "${x}" into a date`);return oe}(x);oe=Gn(j,oe)||oe;let Mn,Ht=[];for(;oe;){if(Mn=Yt.exec(oe),!Mn){Ht.push(oe);break}{Ht=Ht.concat(Mn.slice(1));const ti=Ht.pop();if(!ti)break;oe=ti}}let Lr=Ue.getTimezoneOffset();ne&&(Lr=hi(ne,Lr),Ue=function qe(x,oe,j){const ne=j?-1:1,Ue=x.getTimezoneOffset();return function wr(x,oe){return(x=new Date(x.getTime())).setMinutes(x.getMinutes()+oe),x}(x,ne*(hi(oe,Ue)-Ue))}(Ue,ne,!0));let li="";return Ht.forEach(ti=>{const Ir=function zn(x){if(tn[x])return tn[x];let oe;switch(x){case"G":case"GG":case"GGG":oe=sr(Hn.Eras,bt.Abbreviated);break;case"GGGG":oe=sr(Hn.Eras,bt.Wide);break;case"GGGGG":oe=sr(Hn.Eras,bt.Narrow);break;case"y":oe=gn(Un.FullYear,1,0,!1,!0);break;case"yy":oe=gn(Un.FullYear,2,0,!0,!0);break;case"yyy":oe=gn(Un.FullYear,3,0,!1,!0);break;case"yyyy":oe=gn(Un.FullYear,4,0,!1,!0);break;case"Y":oe=xt(1);break;case"YY":oe=xt(2,!0);break;case"YYY":oe=xt(3);break;case"YYYY":oe=xt(4);break;case"M":case"L":oe=gn(Un.Month,1,1);break;case"MM":case"LL":oe=gn(Un.Month,2,1);break;case"MMM":oe=sr(Hn.Months,bt.Abbreviated);break;case"MMMM":oe=sr(Hn.Months,bt.Wide);break;case"MMMMM":oe=sr(Hn.Months,bt.Narrow);break;case"LLL":oe=sr(Hn.Months,bt.Abbreviated,dt.Standalone);break;case"LLLL":oe=sr(Hn.Months,bt.Wide,dt.Standalone);break;case"LLLLL":oe=sr(Hn.Months,bt.Narrow,dt.Standalone);break;case"w":oe=Be(1);break;case"ww":oe=Be(2);break;case"W":oe=Be(1,!0);break;case"d":oe=gn(Un.Date,1);break;case"dd":oe=gn(Un.Date,2);break;case"c":case"cc":oe=gn(Un.Day,1);break;case"ccc":oe=sr(Hn.Days,bt.Abbreviated,dt.Standalone);break;case"cccc":oe=sr(Hn.Days,bt.Wide,dt.Standalone);break;case"ccccc":oe=sr(Hn.Days,bt.Narrow,dt.Standalone);break;case"cccccc":oe=sr(Hn.Days,bt.Short,dt.Standalone);break;case"E":case"EE":case"EEE":oe=sr(Hn.Days,bt.Abbreviated);break;case"EEEE":oe=sr(Hn.Days,bt.Wide);break;case"EEEEE":oe=sr(Hn.Days,bt.Narrow);break;case"EEEEEE":oe=sr(Hn.Days,bt.Short);break;case"a":case"aa":case"aaa":oe=sr(Hn.DayPeriods,bt.Abbreviated);break;case"aaaa":oe=sr(Hn.DayPeriods,bt.Wide);break;case"aaaaa":oe=sr(Hn.DayPeriods,bt.Narrow);break;case"b":case"bb":case"bbb":oe=sr(Hn.DayPeriods,bt.Abbreviated,dt.Standalone,!0);break;case"bbbb":oe=sr(Hn.DayPeriods,bt.Wide,dt.Standalone,!0);break;case"bbbbb":oe=sr(Hn.DayPeriods,bt.Narrow,dt.Standalone,!0);break;case"B":case"BB":case"BBB":oe=sr(Hn.DayPeriods,bt.Abbreviated,dt.Format,!0);break;case"BBBB":oe=sr(Hn.DayPeriods,bt.Wide,dt.Format,!0);break;case"BBBBB":oe=sr(Hn.DayPeriods,bt.Narrow,dt.Format,!0);break;case"h":oe=gn(Un.Hours,1,-12);break;case"hh":oe=gn(Un.Hours,2,-12);break;case"H":oe=gn(Un.Hours,1);break;case"HH":oe=gn(Un.Hours,2);break;case"m":oe=gn(Un.Minutes,1);break;case"mm":oe=gn(Un.Minutes,2);break;case"s":oe=gn(Un.Seconds,1);break;case"ss":oe=gn(Un.Seconds,2);break;case"S":oe=gn(Un.FractionalSeconds,1);break;case"SS":oe=gn(Un.FractionalSeconds,2);break;case"SSS":oe=gn(Un.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":oe=Mr(In.Short);break;case"ZZZZZ":oe=Mr(In.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":oe=Mr(In.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":oe=Mr(In.Long);break;default:return null}return tn[x]=oe,oe}(ti);li+=Ir?Ir(Ue,j,Lr):"''"===ti?"'":ti.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),li}function Tr(x,oe,j){const ne=new Date(0);return ne.setFullYear(x,oe,j),ne.setHours(0,0,0),ne}function Gn(x,oe){const j=function Dn(x){return(0,f.cg1)(x)[f.wAp.LocaleId]}(x);if(rr[j]=rr[j]||{},rr[j][oe])return rr[j][oe];let ne="";switch(oe){case"shortDate":ne=Ie(x,Ee.Short);break;case"mediumDate":ne=Ie(x,Ee.Medium);break;case"longDate":ne=Ie(x,Ee.Long);break;case"fullDate":ne=Ie(x,Ee.Full);break;case"shortTime":ne=Pe(x,Ee.Short);break;case"mediumTime":ne=Pe(x,Ee.Medium);break;case"longTime":ne=Pe(x,Ee.Long);break;case"fullTime":ne=Pe(x,Ee.Full);break;case"short":const Ue=Gn(x,"shortTime"),Ot=Gn(x,"shortDate");ne=Wn(je(x,Ee.Short),[Ue,Ot]);break;case"medium":const Ht=Gn(x,"mediumTime"),Mn=Gn(x,"mediumDate");ne=Wn(je(x,Ee.Medium),[Ht,Mn]);break;case"long":const Lr=Gn(x,"longTime"),li=Gn(x,"longDate");ne=Wn(je(x,Ee.Long),[Lr,li]);break;case"full":const ti=Gn(x,"fullTime"),Ir=Gn(x,"fullDate");ne=Wn(je(x,Ee.Full),[ti,Ir])}return ne&&(rr[j][oe]=ne),ne}function Wn(x,oe){return oe&&(x=x.replace(/\{([^}]+)}/g,function(j,ne){return null!=oe&&ne in oe?oe[ne]:j})),x}function Yr(x,oe,j="-",ne,Ue){let Ot="";(x<0||Ue&&x<=0)&&(Ue?x=1-x:(x=-x,Ot=j));let Ht=String(x);for(;Ht.length<oe;)Ht="0"+Ht;return ne&&(Ht=Ht.slice(Ht.length-oe)),Ot+Ht}function gn(x,oe,j=0,ne=!1,Ue=!1){return function(Ot,Ht){let Mn=function Ur(x,oe){switch(x){case Un.FullYear:return oe.getFullYear();case Un.Month:return oe.getMonth();case Un.Date:return oe.getDate();case Un.Hours:return oe.getHours();case Un.Minutes:return oe.getMinutes();case Un.Seconds:return oe.getSeconds();case Un.FractionalSeconds:return oe.getMilliseconds();case Un.Day:return oe.getDay();default:throw new Error(`Unknown DateType value "${x}".`)}}(x,Ot);if((j>0||Mn>-j)&&(Mn+=j),x===Un.Hours)0===Mn&&-12===j&&(Mn=12);else if(x===Un.FractionalSeconds)return function yi(x,oe){return Yr(x,3).substring(0,oe)}(Mn,oe);const Lr=ot(Ht,Nt.MinusSign);return Yr(Mn,oe,Lr,ne,Ue)}}function sr(x,oe,j=dt.Format,ne=!1){return function(Ue,Ot){return function Or(x,oe,j,ne,Ue,Ot){switch(j){case Hn.Months:return function ut(x,oe,j){const ne=(0,f.cg1)(x),Ot=pr([ne[f.wAp.MonthsFormat],ne[f.wAp.MonthsStandalone]],oe);return pr(Ot,j)}(oe,Ue,ne)[x.getMonth()];case Hn.Days:return function Ke(x,oe,j){const ne=(0,f.cg1)(x),Ot=pr([ne[f.wAp.DaysFormat],ne[f.wAp.DaysStandalone]],oe);return pr(Ot,j)}(oe,Ue,ne)[x.getDay()];case Hn.DayPeriods:const Ht=x.getHours(),Mn=x.getMinutes();if(Ot){const li=function On(x){const oe=(0,f.cg1)(x);return Pn(oe),(oe[f.wAp.ExtraData][2]||[]).map(ne=>"string"==typeof ne?Yn(ne):[Yn(ne[0]),Yn(ne[1])])}(oe),ti=function on(x,oe,j){const ne=(0,f.cg1)(x);Pn(ne);const Ot=pr([ne[f.wAp.ExtraData][0],ne[f.wAp.ExtraData][1]],oe)||[];return pr(Ot,j)||[]}(oe,Ue,ne),Ir=li.findIndex(pi=>{if(Array.isArray(pi)){const[Qr,Wi]=pi,Mo=Ht>=Qr.hours&&Mn>=Qr.minutes,Eo=Ht<Wi.hours||Ht===Wi.hours&&Mn<Wi.minutes;if(Qr.hours<Wi.hours){if(Mo&&Eo)return!0}else if(Mo||Eo)return!0}else if(pi.hours===Ht&&pi.minutes===Mn)return!0;return!1});if(-1!==Ir)return ti[Ir]}return function Tt(x,oe,j){const ne=(0,f.cg1)(x),Ot=pr([ne[f.wAp.DayPeriodsFormat],ne[f.wAp.DayPeriodsStandalone]],oe);return pr(Ot,j)}(oe,Ue,ne)[Ht<12?0:1];case Hn.Eras:return function Le(x,oe){return pr((0,f.cg1)(x)[f.wAp.Eras],oe)}(oe,ne)[x.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${j}`)}}(Ue,Ot,x,oe,j,ne)}}function Mr(x){return function(oe,j,ne){const Ue=-1*ne,Ot=ot(j,Nt.MinusSign),Ht=Ue>0?Math.floor(Ue/60):Math.ceil(Ue/60);switch(x){case In.Short:return(Ue>=0?"+":"")+Yr(Ht,2,Ot)+Yr(Math.abs(Ue%60),2,Ot);case In.ShortGMT:return"GMT"+(Ue>=0?"+":"")+Yr(Ht,1,Ot);case In.Long:return"GMT"+(Ue>=0?"+":"")+Yr(Ht,2,Ot)+":"+Yr(Math.abs(Ue%60),2,Ot);case In.Extended:return 0===ne?"Z":(Ue>=0?"+":"")+Yr(Ht,2,Ot)+":"+Yr(Math.abs(Ue%60),2,Ot);default:throw new Error(`Unknown zone width "${x}"`)}}}const ri=0,at=4;function ue(x){return Tr(x.getFullYear(),x.getMonth(),x.getDate()+(at-x.getDay()))}function Be(x,oe=!1){return function(j,ne){let Ue;if(oe){const Ot=new Date(j.getFullYear(),j.getMonth(),1).getDay()-1,Ht=j.getDate();Ue=1+Math.floor((Ht+Ot)/7)}else{const Ot=ue(j),Ht=function wt(x){const oe=Tr(x,ri,1).getDay();return Tr(x,0,1+(oe<=at?at:at+7)-oe)}(Ot.getFullYear()),Mn=Ot.getTime()-Ht.getTime();Ue=1+Math.round(Mn/6048e5)}return Yr(Ue,x,ot(ne,Nt.MinusSign))}}function xt(x,oe=!1){return function(j,ne){return Yr(ue(j).getFullYear(),x,ot(ne,Nt.MinusSign),oe)}}const tn={};function hi(x,oe){x=x.replace(/:/g,"");const j=Date.parse("Jan 01, 1970 00:00:00 "+x)/6e4;return isNaN(j)?oe:j}function H(x){return x instanceof Date&&!isNaN(x.valueOf())}function Ln(x,oe){oe=encodeURIComponent(oe);for(const j of x.split(";")){const ne=j.indexOf("="),[Ue,Ot]=-1==ne?[j,""]:[j.slice(0,ne),j.slice(ne+1)];if(Ue.trim()===oe)return decodeURIComponent(Ot)}return null}const Vn=/\s+/,vn=[];let $n=(()=>{class x{constructor(j,ne,Ue,Ot){this._iterableDiffers=j,this._keyValueDiffers=ne,this._ngEl=Ue,this._renderer=Ot,this.initialClasses=vn,this.stateMap=new Map}set klass(j){this.initialClasses=null!=j?j.trim().split(Vn):vn}set ngClass(j){this.rawClass="string"==typeof j?j.trim().split(Vn):j}ngDoCheck(){for(const ne of this.initialClasses)this._updateState(ne,!0);const j=this.rawClass;if(Array.isArray(j)||j instanceof Set)for(const ne of j)this._updateState(ne,!0);else if(null!=j)for(const ne of Object.keys(j))this._updateState(ne,!!j[ne]);this._applyStateDiff()}_updateState(j,ne){const Ue=this.stateMap.get(j);void 0!==Ue?(Ue.enabled!==ne&&(Ue.changed=!0,Ue.enabled=ne),Ue.touched=!0):this.stateMap.set(j,{enabled:ne,changed:!0,touched:!0})}_applyStateDiff(){for(const j of this.stateMap){const ne=j[0],Ue=j[1];Ue.changed?(this._toggleClass(ne,Ue.enabled),Ue.changed=!1):Ue.touched||(Ue.enabled&&this._toggleClass(ne,!1),this.stateMap.delete(ne)),Ue.touched=!1}}_toggleClass(j,ne){(j=j.trim()).length>0&&j.split(Vn).forEach(Ue=>{ne?this._renderer.addClass(this._ngEl.nativeElement,Ue):this._renderer.removeClass(this._ngEl.nativeElement,Ue)})}static#e=this.\u0275fac=function(ne){return new(ne||x)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))};static#t=this.\u0275dir=f.lG2({type:x,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return x})();class ei{constructor(oe,j,ne,Ue){this.$implicit=oe,this.ngForOf=j,this.index=ne,this.count=Ue}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ur=(()=>{class x{set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}constructor(j,ne,Ue){this._viewContainer=j,this._template=ne,this._differs=Ue,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const ne=this._viewContainer;j.forEachOperation((Ue,Ot,Ht)=>{if(null==Ue.previousIndex)ne.createEmbeddedView(this._template,new ei(Ue.item,this._ngForOf,-1,-1),null===Ht?void 0:Ht);else if(null==Ht)ne.remove(null===Ot?void 0:Ot);else if(null!==Ot){const Mn=ne.get(Ot);ne.move(Mn,Ht),xi(Mn,Ue)}});for(let Ue=0,Ot=ne.length;Ue<Ot;Ue++){const Mn=ne.get(Ue).context;Mn.index=Ue,Mn.count=Ot,Mn.ngForOf=this._ngForOf}j.forEachIdentityChange(Ue=>{xi(ne.get(Ue.currentIndex),Ue)})}static ngTemplateContextGuard(j,ne){return!0}static#e=this.\u0275fac=function(ne){return new(ne||x)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))};static#t=this.\u0275dir=f.lG2({type:x,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return x})();function xi(x,oe){x.context.$implicit=oe.item}let lo=(()=>{class x{constructor(j,ne){this._viewContainer=j,this._context=new zr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ne}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){ts("ngIfThen",j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){ts("ngIfElse",j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(j,ne){return!0}static#e=this.\u0275fac=function(ne){return new(ne||x)(f.Y36(f.s_b),f.Y36(f.Rgc))};static#t=this.\u0275dir=f.lG2({type:x,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return x})();class zr{constructor(){this.$implicit=null,this.ngIf=null}}function ts(x,oe){if(oe&&!oe.createEmbeddedView)throw new Error(`${x} must be a TemplateRef, but received '${(0,f.AaK)(oe)}'.`)}function Gi(x,oe){return new f.vHH(2100,!1)}class Ts{createSubscription(oe,j){return(0,f.rg0)(()=>oe.subscribe({next:j,error:ne=>{throw ne}}))}dispose(oe){(0,f.rg0)(()=>oe.unsubscribe())}}class Pi{createSubscription(oe,j){return oe.then(j,ne=>{throw ne})}dispose(oe){}}const $s=new Pi,wo=new Ts;let Ei=(()=>{class x{constructor(j){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=j}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(j){return this._obj?j!==this._obj?(this._dispose(),this.transform(j)):this._latestValue:(j&&this._subscribe(j),this._latestValue)}_subscribe(j){this._obj=j,this._strategy=this._selectStrategy(j),this._subscription=this._strategy.createSubscription(j,ne=>this._updateLatestValue(j,ne))}_selectStrategy(j){if((0,f.QGY)(j))return $s;if((0,f.F4k)(j))return wo;throw Gi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(j,ne){j===this._obj&&(this._latestValue=ne,this._ref.markForCheck())}static#e=this.\u0275fac=function(ne){return new(ne||x)(f.Y36(f.sBO,16))};static#t=this.\u0275pipe=f.Yjl({name:"async",type:x,pure:!1,standalone:!0})}return x})();const qn=new f.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Wr=new f.OlP("DATE_PIPE_DEFAULT_OPTIONS");let oi=(()=>{class x{constructor(j,ne,Ue){this.locale=j,this.defaultTimezone=ne,this.defaultOptions=Ue}transform(j,ne,Ue,Ot){if(null==j||""===j||j!=j)return null;try{return Ar(j,ne??this.defaultOptions?.dateFormat??"mediumDate",Ot||this.locale,Ue??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Ht){throw Gi()}}static#e=this.\u0275fac=function(ne){return new(ne||x)(f.Y36(f.soG,16),f.Y36(qn,24),f.Y36(Wr,24))};static#t=this.\u0275pipe=f.Yjl({name:"date",type:x,pure:!0,standalone:!0})}return x})(),io=(()=>{class x{transform(j){return JSON.stringify(j,null,2)}static#e=this.\u0275fac=function(ne){return new(ne||x)};static#t=this.\u0275pipe=f.Yjl({name:"json",type:x,pure:!1,standalone:!0})}return x})(),Do=(()=>{class x{static#e=this.\u0275fac=function(ne){return new(ne||x)};static#t=this.\u0275mod=f.oAB({type:x});static#n=this.\u0275inj=f.cJS({})}return x})();const si="browser",so="server";function So(x){return x===si}function ci(x){return x===so}let $e=(()=>{class x{static#e=this.\u0275prov=(0,f.Yz7)({token:x,providedIn:"root",factory:()=>new ht((0,f.LFG)(Ae),window)})}return x})();class ht{constructor(oe,j){this.document=oe,this.window=j,this.offset=()=>[0,0]}setOffset(oe){this.offset=Array.isArray(oe)?()=>oe:oe}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(oe){this.supportsScrolling()&&this.window.scrollTo(oe[0],oe[1])}scrollToAnchor(oe){if(!this.supportsScrolling())return;const j=function Lt(x,oe){const j=x.getElementById(oe)||x.getElementsByName(oe)[0];if(j)return j;if("function"==typeof x.createTreeWalker&&x.body&&"function"==typeof x.body.attachShadow){const ne=x.createTreeWalker(x.body,NodeFilter.SHOW_ELEMENT);let Ue=ne.currentNode;for(;Ue;){const Ot=Ue.shadowRoot;if(Ot){const Ht=Ot.getElementById(oe)||Ot.querySelector(`[name="${oe}"]`);if(Ht)return Ht}Ue=ne.nextNode()}}return null}(this.document,oe);j&&(this.scrollToElement(j),j.focus())}setHistoryScrollRestoration(oe){this.supportsScrolling()&&(this.window.history.scrollRestoration=oe)}scrollToElement(oe){const j=oe.getBoundingClientRect(),ne=j.left+this.window.pageXOffset,Ue=j.top+this.window.pageYOffset,Ot=this.offset();this.window.scrollTo(ne-Ot[0],Ue-Ot[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Sn{}},9862:(sn,lt,k)=>{"use strict";k.d(lt,{JF:()=>B,eN:()=>te});var f=k(5879),o=k(2096),U=k(2459),Se=k(5592),_e=k(6328),Ae=k(2181),de=k(7398),ae=k(4716),ve=k(4664),G=k(6814);class z{}class se{}class be{constructor(He){this.normalizedNames=new Map,this.lazyUpdate=null,He?"string"==typeof He?this.lazyInit=()=>{this.headers=new Map,He.split("\n").forEach(nt=>{const jt=nt.indexOf(":");if(jt>0){const Xt=nt.slice(0,jt),En=Xt.toLowerCase(),cn=nt.slice(jt+1).trim();this.maybeSetNormalizedName(Xt,En),this.headers.has(En)?this.headers.get(En).push(cn):this.headers.set(En,[cn])}})}:typeof Headers<"u"&&He instanceof Headers?(this.headers=new Map,He.forEach((nt,jt)=>{this.setHeaderEntries(jt,nt)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(He).forEach(([nt,jt])=>{this.setHeaderEntries(nt,jt)})}:this.headers=new Map}has(He){return this.init(),this.headers.has(He.toLowerCase())}get(He){this.init();const nt=this.headers.get(He.toLowerCase());return nt&&nt.length>0?nt[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(He){return this.init(),this.headers.get(He.toLowerCase())||null}append(He,nt){return this.clone({name:He,value:nt,op:"a"})}set(He,nt){return this.clone({name:He,value:nt,op:"s"})}delete(He,nt){return this.clone({name:He,value:nt,op:"d"})}maybeSetNormalizedName(He,nt){this.normalizedNames.has(nt)||this.normalizedNames.set(nt,He)}init(){this.lazyInit&&(this.lazyInit instanceof be?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(He=>this.applyUpdate(He)),this.lazyUpdate=null))}copyFrom(He){He.init(),Array.from(He.headers.keys()).forEach(nt=>{this.headers.set(nt,He.headers.get(nt)),this.normalizedNames.set(nt,He.normalizedNames.get(nt))})}clone(He){const nt=new be;return nt.lazyInit=this.lazyInit&&this.lazyInit instanceof be?this.lazyInit:this,nt.lazyUpdate=(this.lazyUpdate||[]).concat([He]),nt}applyUpdate(He){const nt=He.name.toLowerCase();switch(He.op){case"a":case"s":let jt=He.value;if("string"==typeof jt&&(jt=[jt]),0===jt.length)return;this.maybeSetNormalizedName(He.name,nt);const Xt=("a"===He.op?this.headers.get(nt):void 0)||[];Xt.push(...jt),this.headers.set(nt,Xt);break;case"d":const En=He.value;if(En){let cn=this.headers.get(nt);if(!cn)return;cn=cn.filter(hr=>-1===En.indexOf(hr)),0===cn.length?(this.headers.delete(nt),this.normalizedNames.delete(nt)):this.headers.set(nt,cn)}else this.headers.delete(nt),this.normalizedNames.delete(nt)}}setHeaderEntries(He,nt){const jt=(Array.isArray(nt)?nt:[nt]).map(En=>En.toString()),Xt=He.toLowerCase();this.headers.set(Xt,jt),this.maybeSetNormalizedName(He,Xt)}forEach(He){this.init(),Array.from(this.normalizedNames.keys()).forEach(nt=>He(this.normalizedNames.get(nt),this.headers.get(nt)))}}class De{encodeKey(He){return _t(He)}encodeValue(He){return _t(He)}decodeKey(He){return decodeURIComponent(He)}decodeValue(He){return decodeURIComponent(He)}}const Ye=/%(\d[a-f0-9])/gi,We={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _t(Je){return encodeURIComponent(Je).replace(Ye,(He,nt)=>We[nt]??He)}function Fe(Je){return`${Je}`}class Ne{constructor(He={}){if(this.updates=null,this.cloneFrom=null,this.encoder=He.encoder||new De,He.fromString){if(He.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Re(Je,He){const nt=new Map;return Je.length>0&&Je.replace(/^\?/,"").split("&").forEach(Xt=>{const En=Xt.indexOf("="),[cn,hr]=-1==En?[He.decodeKey(Xt),""]:[He.decodeKey(Xt.slice(0,En)),He.decodeValue(Xt.slice(En+1))],yn=nt.get(cn)||[];yn.push(hr),nt.set(cn,yn)}),nt}(He.fromString,this.encoder)}else He.fromObject?(this.map=new Map,Object.keys(He.fromObject).forEach(nt=>{const jt=He.fromObject[nt],Xt=Array.isArray(jt)?jt.map(Fe):[Fe(jt)];this.map.set(nt,Xt)})):this.map=null}has(He){return this.init(),this.map.has(He)}get(He){this.init();const nt=this.map.get(He);return nt?nt[0]:null}getAll(He){return this.init(),this.map.get(He)||null}keys(){return this.init(),Array.from(this.map.keys())}append(He,nt){return this.clone({param:He,value:nt,op:"a"})}appendAll(He){const nt=[];return Object.keys(He).forEach(jt=>{const Xt=He[jt];Array.isArray(Xt)?Xt.forEach(En=>{nt.push({param:jt,value:En,op:"a"})}):nt.push({param:jt,value:Xt,op:"a"})}),this.clone(nt)}set(He,nt){return this.clone({param:He,value:nt,op:"s"})}delete(He,nt){return this.clone({param:He,value:nt,op:"d"})}toString(){return this.init(),this.keys().map(He=>{const nt=this.encoder.encodeKey(He);return this.map.get(He).map(jt=>nt+"="+this.encoder.encodeValue(jt)).join("&")}).filter(He=>""!==He).join("&")}clone(He){const nt=new Ne({encoder:this.encoder});return nt.cloneFrom=this.cloneFrom||this,nt.updates=(this.updates||[]).concat(He),nt}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(He=>this.map.set(He,this.cloneFrom.map.get(He))),this.updates.forEach(He=>{switch(He.op){case"a":case"s":const nt=("a"===He.op?this.map.get(He.param):void 0)||[];nt.push(Fe(He.value)),this.map.set(He.param,nt);break;case"d":if(void 0===He.value){this.map.delete(He.param);break}{let jt=this.map.get(He.param)||[];const Xt=jt.indexOf(Fe(He.value));-1!==Xt&&jt.splice(Xt,1),jt.length>0?this.map.set(He.param,jt):this.map.delete(He.param)}}}),this.cloneFrom=this.updates=null)}}class Ze{constructor(){this.map=new Map}set(He,nt){return this.map.set(He,nt),this}get(He){return this.map.has(He)||this.map.set(He,He.defaultValue()),this.map.get(He)}delete(He){return this.map.delete(He),this}has(He){return this.map.has(He)}keys(){return this.map.keys()}}function dt(Je){return typeof ArrayBuffer<"u"&&Je instanceof ArrayBuffer}function bt(Je){return typeof Blob<"u"&&Je instanceof Blob}function Ee(Je){return typeof FormData<"u"&&Je instanceof FormData}class Vt{constructor(He,nt,jt,Xt){let En;if(this.url=nt,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=He.toUpperCase(),function Ge(Je){switch(Je){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Xt?(this.body=void 0!==jt?jt:null,En=Xt):En=jt,En&&(this.reportProgress=!!En.reportProgress,this.withCredentials=!!En.withCredentials,En.responseType&&(this.responseType=En.responseType),En.headers&&(this.headers=En.headers),En.context&&(this.context=En.context),En.params&&(this.params=En.params)),this.headers||(this.headers=new be),this.context||(this.context=new Ze),this.params){const cn=this.params.toString();if(0===cn.length)this.urlWithParams=nt;else{const hr=nt.indexOf("?");this.urlWithParams=nt+(-1===hr?"?":hr<nt.length-1?"&":"")+cn}}else this.params=new Ne,this.urlWithParams=nt}serializeBody(){return null===this.body?null:dt(this.body)||bt(this.body)||Ee(this.body)||function Nt(Je){return typeof URLSearchParams<"u"&&Je instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ne?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ee(this.body)?null:bt(this.body)?this.body.type||null:dt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ne?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(He={}){const nt=He.method||this.method,jt=He.url||this.url,Xt=He.responseType||this.responseType,En=void 0!==He.body?He.body:this.body,cn=void 0!==He.withCredentials?He.withCredentials:this.withCredentials,hr=void 0!==He.reportProgress?He.reportProgress:this.reportProgress;let yn=He.headers||this.headers,yt=He.params||this.params;const ft=He.context??this.context;return void 0!==He.setHeaders&&(yn=Object.keys(He.setHeaders).reduce((Ft,un)=>Ft.set(un,He.setHeaders[un]),yn)),He.setParams&&(yt=Object.keys(He.setParams).reduce((Ft,un)=>Ft.set(un,He.setParams[un]),yt)),new Vt(nt,jt,En,{params:yt,headers:yn,context:ft,reportProgress:hr,responseType:Xt,withCredentials:cn})}}var Dn=function(Je){return Je[Je.Sent=0]="Sent",Je[Je.UploadProgress=1]="UploadProgress",Je[Je.ResponseHeader=2]="ResponseHeader",Je[Je.DownloadProgress=3]="DownloadProgress",Je[Je.Response=4]="Response",Je[Je.User=5]="User",Je}(Dn||{});class Tt{constructor(He,nt=200,jt="OK"){this.headers=He.headers||new be,this.status=void 0!==He.status?He.status:nt,this.statusText=He.statusText||jt,this.url=He.url||null,this.ok=this.status>=200&&this.status<300}}class Ke extends Tt{constructor(He={}){super(He),this.type=Dn.ResponseHeader}clone(He={}){return new Ke({headers:He.headers||this.headers,status:void 0!==He.status?He.status:this.status,statusText:He.statusText||this.statusText,url:He.url||this.url||void 0})}}class ut extends Tt{constructor(He={}){super(He),this.type=Dn.Response,this.body=void 0!==He.body?He.body:null}clone(He={}){return new ut({body:void 0!==He.body?He.body:this.body,headers:He.headers||this.headers,status:void 0!==He.status?He.status:this.status,statusText:He.statusText||this.statusText,url:He.url||this.url||void 0})}}class Le extends Tt{constructor(He){super(He,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${He.url||"(unknown url)"}`:`Http failure response for ${He.url||"(unknown url)"}: ${He.status} ${He.statusText}`,this.error=He.error||null}}function we(Je,He){return{body:He,headers:Je.headers,context:Je.context,observe:Je.observe,params:Je.params,reportProgress:Je.reportProgress,responseType:Je.responseType,withCredentials:Je.withCredentials}}let te=(()=>{class Je{constructor(nt){this.handler=nt}request(nt,jt,Xt={}){let En;if(nt instanceof Vt)En=nt;else{let yn,yt;yn=Xt.headers instanceof be?Xt.headers:new be(Xt.headers),Xt.params&&(yt=Xt.params instanceof Ne?Xt.params:new Ne({fromObject:Xt.params})),En=new Vt(nt,jt,void 0!==Xt.body?Xt.body:null,{headers:yn,context:Xt.context,params:yt,reportProgress:Xt.reportProgress,responseType:Xt.responseType||"json",withCredentials:Xt.withCredentials})}const cn=(0,o.of)(En).pipe((0,_e.b)(yn=>this.handler.handle(yn)));if(nt instanceof Vt||"events"===Xt.observe)return cn;const hr=cn.pipe((0,Ae.h)(yn=>yn instanceof ut));switch(Xt.observe||"body"){case"body":switch(En.responseType){case"arraybuffer":return hr.pipe((0,de.U)(yn=>{if(null!==yn.body&&!(yn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return yn.body}));case"blob":return hr.pipe((0,de.U)(yn=>{if(null!==yn.body&&!(yn.body instanceof Blob))throw new Error("Response is not a Blob.");return yn.body}));case"text":return hr.pipe((0,de.U)(yn=>{if(null!==yn.body&&"string"!=typeof yn.body)throw new Error("Response is not a string.");return yn.body}));default:return hr.pipe((0,de.U)(yn=>yn.body))}case"response":return hr;default:throw new Error(`Unreachable: unhandled observe type ${Xt.observe}}`)}}delete(nt,jt={}){return this.request("DELETE",nt,jt)}get(nt,jt={}){return this.request("GET",nt,jt)}head(nt,jt={}){return this.request("HEAD",nt,jt)}jsonp(nt,jt){return this.request("JSONP",nt,{params:(new Ne).append(jt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(nt,jt={}){return this.request("OPTIONS",nt,jt)}patch(nt,jt,Xt={}){return this.request("PATCH",nt,we(Xt,jt))}post(nt,jt,Xt={}){return this.request("POST",nt,we(Xt,jt))}put(nt,jt,Xt={}){return this.request("PUT",nt,we(Xt,jt))}static#e=this.\u0275fac=function(jt){return new(jt||Je)(f.LFG(z))};static#t=this.\u0275prov=f.Yz7({token:Je,factory:Je.\u0275fac})}return Je})();function Wt(Je,He){return He(Je)}function bn(Je,He){return(nt,jt)=>He.intercept(nt,{handle:Xt=>Je(Xt,jt)})}const Pn=new f.OlP(""),On=new f.OlP(""),on=new f.OlP("");function Nn(){let Je=null;return(He,nt)=>{null===Je&&(Je=((0,f.f3M)(Pn,{optional:!0})??[]).reduceRight(bn,Wt));const jt=(0,f.f3M)(f.HDt),Xt=jt.add();return Je(He,nt).pipe((0,ae.x)(()=>jt.remove(Xt)))}}let pr=(()=>{class Je extends z{constructor(nt,jt){super(),this.backend=nt,this.injector=jt,this.chain=null,this.pendingTasks=(0,f.f3M)(f.HDt)}handle(nt){if(null===this.chain){const Xt=Array.from(new Set([...this.injector.get(On),...this.injector.get(on,[])]));this.chain=Xt.reduceRight((En,cn)=>function Qn(Je,He,nt){return(jt,Xt)=>nt.runInContext(()=>He(jt,En=>Je(En,Xt)))}(En,cn,this.injector),Wt)}const jt=this.pendingTasks.add();return this.chain(nt,Xt=>this.backend.handle(Xt)).pipe((0,ae.x)(()=>this.pendingTasks.remove(jt)))}static#e=this.\u0275fac=function(jt){return new(jt||Je)(f.LFG(se),f.LFG(f.lqb))};static#t=this.\u0275prov=f.Yz7({token:Je,factory:Je.\u0275fac})}return Je})();const Tr=/^\)\]\}',?\n/;let Wn=(()=>{class Je{constructor(nt){this.xhrFactory=nt}handle(nt){if("JSONP"===nt.method)throw new f.vHH(-2800,!1);const jt=this.xhrFactory;return(jt.\u0275loadImpl?(0,U.D)(jt.\u0275loadImpl()):(0,o.of)(null)).pipe((0,ve.w)(()=>new Se.y(En=>{const cn=jt.build();if(cn.open(nt.method,nt.urlWithParams),nt.withCredentials&&(cn.withCredentials=!0),nt.headers.forEach((vn,$n)=>cn.setRequestHeader(vn,$n.join(","))),nt.headers.has("Accept")||cn.setRequestHeader("Accept","application/json, text/plain, */*"),!nt.headers.has("Content-Type")){const vn=nt.detectContentTypeHeader();null!==vn&&cn.setRequestHeader("Content-Type",vn)}if(nt.responseType){const vn=nt.responseType.toLowerCase();cn.responseType="json"!==vn?vn:"text"}const hr=nt.serializeBody();let yn=null;const yt=()=>{if(null!==yn)return yn;const vn=cn.statusText||"OK",$n=new be(cn.getAllResponseHeaders()),Pr=function Gn(Je){return"responseURL"in Je&&Je.responseURL?Je.responseURL:/^X-Request-URL:/m.test(Je.getAllResponseHeaders())?Je.getResponseHeader("X-Request-URL"):null}(cn)||nt.url;return yn=new Ke({headers:$n,status:cn.status,statusText:vn,url:Pr}),yn},ft=()=>{let{headers:vn,status:$n,statusText:Pr,url:fi}=yt(),ei=null;204!==$n&&(ei=typeof cn.response>"u"?cn.responseText:cn.response),0===$n&&($n=ei?200:0);let ur=$n>=200&&$n<300;if("json"===nt.responseType&&"string"==typeof ei){const xi=ei;ei=ei.replace(Tr,"");try{ei=""!==ei?JSON.parse(ei):null}catch(gi){ei=xi,ur&&(ur=!1,ei={error:gi,text:ei})}}ur?(En.next(new ut({body:ei,headers:vn,status:$n,statusText:Pr,url:fi||void 0})),En.complete()):En.error(new Le({error:ei,headers:vn,status:$n,statusText:Pr,url:fi||void 0}))},Ft=vn=>{const{url:$n}=yt(),Pr=new Le({error:vn,status:cn.status||0,statusText:cn.statusText||"Unknown Error",url:$n||void 0});En.error(Pr)};let un=!1;const Ln=vn=>{un||(En.next(yt()),un=!0);let $n={type:Dn.DownloadProgress,loaded:vn.loaded};vn.lengthComputable&&($n.total=vn.total),"text"===nt.responseType&&cn.responseText&&($n.partialText=cn.responseText),En.next($n)},Vn=vn=>{let $n={type:Dn.UploadProgress,loaded:vn.loaded};vn.lengthComputable&&($n.total=vn.total),En.next($n)};return cn.addEventListener("load",ft),cn.addEventListener("error",Ft),cn.addEventListener("timeout",Ft),cn.addEventListener("abort",Ft),nt.reportProgress&&(cn.addEventListener("progress",Ln),null!==hr&&cn.upload&&cn.upload.addEventListener("progress",Vn)),cn.send(hr),En.next({type:Dn.Sent}),()=>{cn.removeEventListener("error",Ft),cn.removeEventListener("abort",Ft),cn.removeEventListener("load",ft),cn.removeEventListener("timeout",Ft),nt.reportProgress&&(cn.removeEventListener("progress",Ln),null!==hr&&cn.upload&&cn.upload.removeEventListener("progress",Vn)),cn.readyState!==cn.DONE&&cn.abort()}})))}static#e=this.\u0275fac=function(jt){return new(jt||Je)(f.LFG(G.JF))};static#t=this.\u0275prov=f.Yz7({token:Je,factory:Je.\u0275fac})}return Je})();const Yr=new f.OlP("XSRF_ENABLED"),gn=new f.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),sr=new f.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Or{}let Mr=(()=>{class Je{constructor(nt,jt,Xt){this.doc=nt,this.platform=jt,this.cookieName=Xt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const nt=this.doc.cookie||"";return nt!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,G.Mx)(nt,this.cookieName),this.lastCookieString=nt),this.lastToken}static#e=this.\u0275fac=function(jt){return new(jt||Je)(f.LFG(G.K0),f.LFG(f.Lbi),f.LFG(gn))};static#t=this.\u0275prov=f.Yz7({token:Je,factory:Je.\u0275fac})}return Je})();function ri(Je,He){const nt=Je.url.toLowerCase();if(!(0,f.f3M)(Yr)||"GET"===Je.method||"HEAD"===Je.method||nt.startsWith("http://")||nt.startsWith("https://"))return He(Je);const jt=(0,f.f3M)(Or).getToken(),Xt=(0,f.f3M)(sr);return null!=jt&&!Je.headers.has(Xt)&&(Je=Je.clone({headers:Je.headers.set(Xt,jt)})),He(Je)}var wt=function(Je){return Je[Je.Interceptors=0]="Interceptors",Je[Je.LegacyInterceptors=1]="LegacyInterceptors",Je[Je.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Je[Je.NoXsrfProtection=3]="NoXsrfProtection",Je[Je.JsonpSupport=4]="JsonpSupport",Je[Je.RequestsMadeViaParent=5]="RequestsMadeViaParent",Je[Je.Fetch=6]="Fetch",Je}(wt||{});function Be(...Je){const He=[te,Wn,pr,{provide:z,useExisting:pr},{provide:se,useExisting:Wn},{provide:On,useValue:ri,multi:!0},{provide:Yr,useValue:!0},{provide:Or,useClass:Mr}];for(const nt of Je)He.push(...nt.\u0275providers);return(0,f.MR2)(He)}const tn=new f.OlP("LEGACY_INTERCEPTOR_FN");function zn(){return function ue(Je,He){return{\u0275kind:Je,\u0275providers:He}}(wt.LegacyInterceptors,[{provide:tn,useFactory:Nn},{provide:On,useExisting:tn,multi:!0}])}let B=(()=>{class Je{static#e=this.\u0275fac=function(jt){return new(jt||Je)};static#t=this.\u0275mod=f.oAB({type:Je});static#n=this.\u0275inj=f.cJS({providers:[Be(zn())]})}return Je})()},5879:(sn,lt,k)=>{"use strict";k.d(lt,{$8M:()=>ac,$WT:()=>zi,$Z:()=>L,AFp:()=>qp,ALo:()=>cA,AaK:()=>se,AsE:()=>Vy,CHM:()=>Nu,CRH:()=>CA,DdM:()=>tA,EJc:()=>RT,EiD:()=>Hp,EpF:()=>Zi,F$t:()=>D0,F4k:()=>Mi,FYo:()=>v_,FiY:()=>$c,GfV:()=>vm,Gpc:()=>De,HDt:()=>GA,Hsn:()=>S0,JOm:()=>ed,JVY:()=>tl,JZr:()=>Fe,KtG:()=>rc,L6k:()=>Cf,LAX:()=>Eh,LFG:()=>$t,LSH:()=>$p,Lbi:()=>dm,Lck:()=>vC,MGl:()=>ey,MMx:()=>qE,MR2:()=>xo,NdJ:()=>ps,Ojb:()=>m_,OlP:()=>gn,Oqu:()=>Ly,P3R:()=>xf,PXZ:()=>aw,Q6J:()=>zm,QGY:()=>es,QbO:()=>Bf,Qsj:()=>gv,R0b:()=>Co,RDi:()=>kp,Rgc:()=>iv,SBq:()=>$f,Sil:()=>kT,Suo:()=>bA,TTD:()=>Ir,TgZ:()=>bg,Udp:()=>Ny,VKq:()=>nA,VuI:()=>zw,X6Q:()=>gw,XFs:()=>In,Xpm:()=>Pi,Xq5:()=>ln,Xts:()=>mc,Y36:()=>P,YKP:()=>ZE,YNc:()=>Bm,Yjl:()=>gs,Yz7:()=>Pn,Z0I:()=>pr,ZZ4:()=>y0,_Bn:()=>$E,_UZ:()=>ua,_c5:()=>xw,_uU:()=>Q0,aQg:()=>E0,c2e:()=>ZA,cJS:()=>on,cg1:()=>Uy,dDg:()=>rw,dqk:()=>Wn,eBb:()=>Rl,eFA:()=>nI,eJc:()=>n0,ekj:()=>ky,eoX:()=>JA,f3M:()=>an,g9A:()=>ol,h0i:()=>Dg,hGG:()=>Rw,hij:()=>ry,iGM:()=>IA,ifc:()=>cn,ip1:()=>$A,jDz:()=>WE,kL8:()=>mE,lG2:()=>no,lcZ:()=>lA,lqb:()=>ba,lri:()=>QA,mCW:()=>gd,n5z:()=>Wl,oAB:()=>mo,oJD:()=>tm,oxw:()=>w0,pB0:()=>Tf,q3G:()=>uu,q4F:()=>ym,qFp:()=>Zw,qLn:()=>yu,qOj:()=>al,qZA:()=>$h,qzn:()=>gc,rWj:()=>YA,rg0:()=>Ot,s9C:()=>Py,sBO:()=>mw,s_b:()=>uy,soG:()=>hy,tb:()=>f0,tp0:()=>Ba,uIk:()=>Xi,vHH:()=>Ne,vpe:()=>sl,wAp:()=>Wm,xi3:()=>uA,xp6:()=>m,z2F:()=>Jm,z3N:()=>el,zSh:()=>cm,zs3:()=>_c});var f=k(8645),o=k(7394),U=k(5592),Se=k(3019),_e=k(5619),Ae=k(2096),de=k(3020),ae=k(4664),ve=k(3997);function G(t){for(let n in t)if(t[n]===G)return n;throw Error("Could not find renamed property on target object.")}function z(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function se(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(se).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function be(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const ye=G({__forward_ref__:G});function De(t){return t.__forward_ref__=De,t.toString=function(){return se(this())},t}function Re(t){return Ye(t)?t():t}function Ye(t){return"function"==typeof t&&t.hasOwnProperty(ye)&&t.__forward_ref__===De}function We(t){return t&&!!t.\u0275providers}const Fe="https://g.co/ng/security#xss";class Ne extends Error{constructor(n,i){super(function tt(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function Ze(t){return"string"==typeof t?t:null==t?"":String(t)}function Nt(t,n){throw new Ne(-201,!1)}function Bt(t,n){null==t&&function Zt(t,n,i,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${i} ${a} ${n} <=Actual]`))}(n,t,null,"!=")}function Pn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function on(t){return{providers:t.providers||[],imports:t.imports||[]}}function Nn(t){return Yn(t,xn)||Yn(t,rr)}function pr(t){return null!==Nn(t)}function Yn(t,n){return t.hasOwnProperty(n)?t[n]:null}function Hr(t){return t&&(t.hasOwnProperty(Rr)||t.hasOwnProperty(Yt))?t[Rr]:null}const xn=G({\u0275prov:G}),Rr=G({\u0275inj:G}),rr=G({ngInjectableDef:G}),Yt=G({ngInjectorDef:G});var In=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(In||{});let Un;function Ar(t){const n=Un;return Un=t,n}function Tr(t,n,i){const a=Nn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:i&In.Optional?null:void 0!==n?n:void Nt(se(t))}const Wn=globalThis;class gn{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Pn({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const zn={},hi="__NG_DI_FLAG__",wr="ngTempTokenPath",ce=/\n/gm,H="__source";let B;function Xe(t){const n=B;return B=t,n}function kt(t,n=In.Default){if(void 0===B)throw new Ne(-203,!1);return null===B?Tr(t,void 0,n):B.get(t,n&In.Optional?null:void 0,n)}function $t(t,n=In.Default){return(function Hn(){return Un}()||kt)(Re(t),n)}function an(t,n=In.Default){return $t(t,fn(n))}function fn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Jn(t){const n=[];for(let i=0;i<t.length;i++){const a=Re(t[i]);if(Array.isArray(a)){if(0===a.length)throw new Ne(900,!1);let d,p=In.Default;for(let b=0;b<a.length;b++){const D=a[b],R=He(D);"number"==typeof R?-1===R?d=D.token:p|=R:d=D}n.push($t(d,p))}else n.push($t(a))}return n}function Je(t,n){return t[hi]=n,t.prototype[hi]=n,t}function He(t){return t[hi]}function Xt(t){return{toString:t}.toString()}var En=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(En||{}),cn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(cn||{});const hr={},yn=[],yt=G({\u0275cmp:G}),ft=G({\u0275dir:G}),Ft=G({\u0275pipe:G}),un=G({\u0275mod:G}),Ln=G({\u0275fac:G}),Vn=G({__NG_ELEMENT_ID__:G}),vn=G({__NG_ENV_ID__:G});function $n(t,n,i){let a=t.length;for(;;){const d=t.indexOf(n,i);if(-1===d)return d;if(0===d||t.charCodeAt(d-1)<=32){const p=n.length;if(d+p===a||t.charCodeAt(d+p)<=32)return d}i=d+1}}function Pr(t,n,i){let a=0;for(;a<i.length;){const d=i[a];if("number"==typeof d){if(0!==d)break;a++;const p=i[a++],b=i[a++],D=i[a++];t.setAttribute(n,b,D,p)}else{const p=d,b=i[++a];ei(p)?t.setProperty(n,p,b):t.setAttribute(n,p,b),a++}}return a}function fi(t){return 3===t||4===t||6===t}function ei(t){return 64===t.charCodeAt(0)}function ur(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let a=0;a<n.length;a++){const d=n[a];"number"==typeof d?i=d:0===i||xi(t,i,d,null,-1===i||2===i?n[++a]:null)}}return t}function xi(t,n,i,a,d){let p=0,b=t.length;if(-1===n)b=-1;else for(;p<t.length;){const D=t[p++];if("number"==typeof D){if(D===n){b=-1;break}if(D>n){b=p-1;break}}}for(;p<t.length;){const D=t[p];if("number"==typeof D)break;if(D===i){if(null===a)return void(null!==d&&(t[p+1]=d));if(a===t[p+1])return void(t[p+2]=d)}p++,null!==a&&p++,null!==d&&p++}-1!==b&&(t.splice(b,0,n),p=b+1),t.splice(p++,0,i),null!==a&&t.splice(p++,0,a),null!==d&&t.splice(p++,0,d)}const gi="ng-template";function lo(t,n,i){let a=0,d=!0;for(;a<t.length;){let p=t[a++];if("string"==typeof p&&d){const b=t[a++];if(i&&"class"===p&&-1!==$n(b.toLowerCase(),n,0))return!0}else{if(1===p){for(;a<t.length&&"string"==typeof(p=t[a++]);)if(p.toLowerCase()===n)return!0;return!1}"number"==typeof p&&(d=!1)}}return!1}function zr(t){return 4===t.type&&t.value!==gi}function ts(t,n,i){return n===(4!==t.type||i?t.value:gi)}function go(t,n,i){let a=4;const d=t.attrs||[],p=function Ni(t){for(let n=0;n<t.length;n++)if(fi(t[n]))return n;return t.length}(d);let b=!1;for(let D=0;D<n.length;D++){const R=n[D];if("number"!=typeof R){if(!b)if(4&a){if(a=2|1&a,""!==R&&!ts(t,R,i)||""===R&&1===n.length){if(ji(a))return!1;b=!0}}else{const q=8&a?R:n[++D];if(8&a&&null!==t.attrs){if(!lo(t.attrs,q,i)){if(ji(a))return!1;b=!0}continue}const xe=Qo(8&a?"class":R,d,zr(t),i);if(-1===xe){if(ji(a))return!1;b=!0;continue}if(""!==q){let ct;ct=xe>p?"":d[xe+1].toLowerCase();const Et=8&a?ct:null;if(Et&&-1!==$n(Et,q,0)||2&a&&q!==ct){if(ji(a))return!1;b=!0}}}}else{if(!b&&!ji(a)&&!ji(R))return!1;if(b&&ji(R))continue;b=!1,a=R|1&a}}return ji(a)||b}function ji(t){return 0==(1&t)}function Qo(t,n,i,a){if(null===n)return-1;let d=0;if(a||!i){let p=!1;for(;d<n.length;){const b=n[d];if(b===t)return d;if(3===b||6===b)p=!0;else{if(1===b||2===b){let D=n[++d];for(;"string"==typeof D;)D=n[++d];continue}if(4===b)break;if(0===b){d+=4;continue}}d+=p?1:2}return-1}return function Jr(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const a=t[i];if("number"==typeof a)return-1;if(a===n)return i;i++}return-1}(n,t)}function ii(t,n,i=!1){for(let a=0;a<n.length;a++)if(go(t,n[a],i))return!0;return!1}function zs(t,n){e:for(let i=0;i<n.length;i++){const a=n[i];if(t.length===a.length){for(let d=0;d<t.length;d++)if(t[d]!==a[d])continue e;return!0}}return!1}function jo(t,n){return t?":not("+n.trim()+")":n}function Hi(t){let n=t[0],i=1,a=2,d="",p=!1;for(;i<t.length;){let b=t[i];if("string"==typeof b)if(2&a){const D=t[++i];d+="["+b+(D.length>0?'="'+D+'"':"")+"]"}else 8&a?d+="."+b:4&a&&(d+=" "+b);else""!==d&&!ji(b)&&(n+=jo(p,d),d=""),a=b,p=p||!ji(a);i++}return""!==d&&(n+=jo(p,d)),n}function Pi(t){return Xt(()=>{const n=ro(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===En.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||cn.Emulated,styles:t.styles||yn,_:null,schemas:t.schemas||null,tView:null,id:""};io(i);const a=t.dependencies;return i.directiveDefs=ws(a,!1),i.pipeDefs=ws(a,!0),i.id=function Ho(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const d of i)n=Math.imul(31,n)+d.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function wo(t){return qn(t)||Wr(t)}function Ei(t){return null!==t}function mo(t){return Xt(()=>({type:t.type,bootstrap:t.bootstrap||yn,declarations:t.declarations||yn,imports:t.imports||yn,exports:t.exports||yn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ns(t,n){if(null==t)return hr;const i={};for(const a in t)if(t.hasOwnProperty(a)){let d=t[a],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),i[d]=a,n&&(n[d]=p)}return i}function no(t){return Xt(()=>{const n=ro(t);return io(n),n})}function gs(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function qn(t){return t[yt]||null}function Wr(t){return t[ft]||null}function oi(t){return t[Ft]||null}function zi(t){const n=qn(t)||Wr(t)||oi(t);return null!==n&&n.standalone}function Xr(t,n){const i=t[un]||null;if(!i&&!0===n)throw new Error(`Type ${se(t)} does not have '\u0275mod' property.`);return i}function ro(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||hr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||yn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ns(t.inputs,n),outputs:ns(t.outputs)}}function io(t){t.features?.forEach(n=>n(t))}function ws(t,n){if(!t)return null;const i=n?oi:wo;return()=>("function"==typeof t?t():t).map(a=>i(a)).filter(Ei)}const $r=0,_n=1,Xn=2,Nr=3,ki=4,oo=5,ai=6,Do=7,si=8,so=9,vo=10,nr=11,So=12,ci=13,re=14,Y=15,ke=16,$e=17,ht=18,Lt=19,pn=20,Sn=21,Kt=22,An=23,mr=24,Bn=25,Zr=1,kr=2,mi=7,uo=9,yr=11;function Kr(t){return Array.isArray(t)&&"object"==typeof t[Zr]}function Ii(t){return Array.isArray(t)&&!0===t[Zr]}function ms(t){return 0!=(4&t.flags)}function ao(t){return t.componentOffset>-1}function Oo(t){return 1==(1&t.flags)}function qi(t){return!!t.template}function Da(t){return 0!=(512&t[Xn])}function rs(t,n){return t.hasOwnProperty(Ln)?t[Ln]:null}let Vr=null,ha=!1;function $i(t){const n=Vr;return Vr=t,n}const wc={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function _s(t){if(!qs(t)||t.dirty){if(!t.producerMustRecompute(t)&&!ll(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Ra(t){t.dirty=!0,function Ss(t){if(void 0===t.liveConsumerNode)return;const n=ha;ha=!0;try{for(const i of t.liveConsumerNode)i.dirty||Ra(i)}finally{ha=n}}(t),t.consumerMarkedDirty?.(t)}function fr(t){return t&&(t.nextProducerIndex=0),$i(t)}function Dc(t,n){if($i(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(qs(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)Gs(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ll(t){pa(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],a=t.producerLastReadVersion[n];if(a!==i.version||(_s(i),a!==i.version))return!0}return!1}function Sc(t){if(pa(t),qs(t))for(let n=0;n<t.producerNode.length;n++)Gs(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Gs(t,n){if(function ul(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),pa(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)Gs(t.producerNode[a],t.producerIndexOfThis[a]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[n],d=t.liveConsumerNode[n];pa(d),d.producerIndexOfThis[a]=n}}function qs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function pa(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Oa=null;function Ot(t){const n=$i(null);try{return t()}finally{$i(n)}}const Mn=()=>{},Lr=(()=>({...wc,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Mn}))();class ti{constructor(n,i,a){this.previousValue=n,this.currentValue=i,this.firstChange=a}isFirstChange(){return this.firstChange}}function Ir(){return pi}function pi(t){return t.type.prototype.ngOnChanges&&(t.setInput=Wi),Qr}function Qr(){const t=Eo(this),n=t?.current;if(n){const i=t.previous;if(i===hr)t.previous=n;else for(let a in n)i[a]=n[a];t.current=null,this.ngOnChanges(n)}}function Wi(t,n,i,a){const d=this.declaredInputs[i],p=Eo(t)||function Ks(t,n){return t[Mo]=n}(t,{previous:hr,current:null}),b=p.current||(p.current={}),D=p.previous,R=D[d];b[d]=new ti(R&&R.currentValue,n,D===hr),t[a]=n}Ir.ngInherit=!0;const Mo="__ngSimpleChanges__";function Eo(t){return t[Mo]||null}const cr=function(t,n,i){};function vi(t){for(;Array.isArray(t);)t=t[$r];return t}function Qs(t,n){return vi(n[t])}function Fo(t,n){return vi(n[t.index])}function xc(t,n){return t.data[n]}function Ys(t,n){return t[n]}function Lo(t,n){const i=n[t];return Kr(i)?i:i[$r]}function Js(t,n){return null==n?null:t[n]}function Xs(t){t[$e]=0}function xs(t){1024&t[Xn]||(t[Xn]|=1024,Vd(t,1))}function Pu(t){1024&t[Xn]&&(t[Xn]&=-1025,Vd(t,-1))}function Vd(t,n){let i=t[Nr];if(null===i)return;i[oo]+=n;let a=i;for(i=i[Nr];null!==i&&(1===n&&1===a[oo]||-1===n&&0===a[oo]);)i[oo]+=n,a=i,i=i[Nr]}const dr={lFrame:Uo(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Vi(){return dr.bindingsEnabled}function ka(){return null!==dr.skipHydrationRootTNode}function Gt(){return dr.lFrame.lView}function Gr(){return dr.lFrame.tView}function Nu(t){return dr.lFrame.contextLView=t,t[si]}function rc(t){return dr.lFrame.contextLView=null,t}function Ao(){let t=Ki();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ki(){return dr.lFrame.currentTNode}function Vo(t,n){const i=dr.lFrame;i.currentTNode=t,i.isParent=n}function kc(){return dr.lFrame.isParent}function ic(){dr.lFrame.isParent=!1}function Wo(){const t=dr.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function ma(){return dr.lFrame.bindingIndex++}function S(t){const n=dr.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function N(t,n){const i=dr.lFrame;i.bindingIndex=i.bindingRootIndex=t,fe(n)}function fe(t){dr.lFrame.currentDirectiveIndex=t}function Dt(){return dr.lFrame.currentQueryIndex}function Mt(t){dr.lFrame.currentQueryIndex=t}function Tn(t){const n=t[_n];return 2===n.type?n.declTNode:1===n.type?t[ai]:null}function Dr(t,n,i){if(i&In.SkipSelf){let d=n,p=t;for(;!(d=d.parent,null!==d||i&In.Host||(d=Tn(p),null===d||(p=p[re],10&d.type))););if(null===d)return!1;n=d,t=p}const a=dr.lFrame=br();return a.currentTNode=n,a.lView=t,!0}function ui(t){const n=br(),i=t[_n];dr.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function br(){const t=dr.lFrame,n=null===t?null:t.child;return null===n?Uo(t):n}function Uo(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function os(){const t=dr.lFrame;return dr.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ns=os;function _a(){const t=os();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ko(){return dr.lFrame.selectedIndex}function Fs(t){dr.lFrame.selectedIndex=t}function Fi(){const t=dr.lFrame;return xc(t.tView,t.selectedIndex)}let Kh=!0;function Lu(){return Kh}function na(t){Kh=t}function Uu(t,n){for(let i=n.directiveStart,a=n.directiveEnd;i<a;i++){const p=t.data[i].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:D,ngAfterViewInit:R,ngAfterViewChecked:q,ngOnDestroy:le}=p;b&&(t.contentHooks??=[]).push(-i,b),D&&((t.contentHooks??=[]).push(i,D),(t.contentCheckHooks??=[]).push(i,D)),R&&(t.viewHooks??=[]).push(-i,R),q&&((t.viewHooks??=[]).push(i,q),(t.viewCheckHooks??=[]).push(i,q)),null!=le&&(t.destroyHooks??=[]).push(i,le)}}function Fa(t,n,i){$d(t,n,3,i)}function La(t,n,i,a){(3&t[Xn])===i&&$d(t,n,i,a)}function ra(t,n){let i=t[Xn];(3&i)===n&&(i&=8191,i+=1,t[Xn]=i)}function $d(t,n,i,a){const p=a??-1,b=n.length-1;let D=0;for(let R=void 0!==a?65535&t[$e]:0;R<b;R++)if("number"==typeof n[R+1]){if(D=n[R],null!=a&&D>=a)break}else n[R]<0&&(t[$e]+=65536),(D<p||-1==p)&&(ju(t,i,n,R),t[$e]=(4294901760&t[$e])+R+2),R++}function Bu(t,n){cr(4,t,n);const i=$i(null);try{n.call(t)}finally{$i(i),cr(5,t,n)}}function ju(t,n,i,a){const d=i[a]<0,p=i[a+1],D=t[d?-i[a]:i[a]];d?t[Xn]>>13<t[$e]>>16&&(3&t[Xn])===n&&(t[Xn]+=8192,Bu(D,p)):Bu(D,p)}const Fc=-1;class pl{constructor(n,i,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=a}}function gl(t){return t!==Fc}function Hu(t){return 32767&t}function ia(t,n){let i=function pp(t){return t>>16}(t),a=n;for(;i>0;)a=a[re],i--;return a}let ml=!0;function oa(t){const n=ml;return ml=t,n}const zu=255,Bo=5;let gp=0;const Qi={};function $u(t,n){const i=Va(t,n);if(-1!==i)return i;const a=n[_n];a.firstCreatePass&&(t.injectorIndex=n.length,sa(a.data,t),sa(n,null),sa(a.blueprint,null));const d=_l(t,n),p=t.injectorIndex;if(gl(d)){const b=Hu(d),D=ia(d,n),R=D[_n].data;for(let q=0;q<8;q++)n[p+q]=D[b+q]|R[b+q]}return n[p+8]=d,p}function sa(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Va(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function _l(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,a=null,d=n;for(;null!==d;){if(a=Qd(d),null===a)return Fc;if(i++,d=d[re],-1!==a.injectorIndex)return a.injectorIndex|i<<16}return Fc}function jr(t,n,i){!function Zl(t,n,i){let a;"string"==typeof i?a=i.charCodeAt(0)||0:i.hasOwnProperty(Vn)&&(a=i[Vn]),null==a&&(a=i[Vn]=gp++);const d=a&zu;n.data[t+(d>>Bo)]|=1<<d}(t,n,i)}function Ls(t,n,i){if(i&In.Optional||void 0!==t)return t;Nt()}function yl(t,n,i,a){if(i&In.Optional&&void 0===a&&(a=null),!(i&(In.Self|In.Host))){const d=t[so],p=Ar(void 0);try{return d?d.get(n,a,i&In.Optional):Tr(n,a,i&In.Optional)}finally{Ar(p)}}return Ls(a,0,i)}function ya(t,n,i,a=In.Default,d){if(null!==t){if(2048&n[Xn]&&!(a&In.Self)){const b=function Vc(t,n,i,a,d){let p=t,b=n;for(;null!==p&&null!==b&&2048&b[Xn]&&!(512&b[Xn]);){const D=Zu(p,b,i,a|In.Self,Qi);if(D!==Qi)return D;let R=p.parent;if(!R){const q=b[pn];if(q){const le=q.get(i,Qi,a);if(le!==Qi)return le}R=Qd(b),b=b[re]}p=R}return d}(t,n,i,a,Qi);if(b!==Qi)return b}const p=Zu(t,n,i,a,Qi);if(p!==Qi)return p}return yl(n,i,a,d)}function Zu(t,n,i,a,d){const p=function Gu(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Vn)?t[Vn]:void 0;return"number"==typeof n?n>=0?n&zu:Kd:n}(i);if("function"==typeof p){if(!Dr(n,t,a))return a&In.Host?Ls(d,0,a):yl(n,i,a,d);try{let b;if(b=p(a),null!=b||a&In.Optional)return b;Nt()}finally{Ns()}}else if("number"==typeof p){let b=null,D=Va(t,n),R=Fc,q=a&In.Host?n[Y][ai]:null;for((-1===D||a&In.SkipSelf)&&(R=-1===D?_l(t,n):n[D+8],R!==Fc&&ql(a,!1)?(b=n[_n],D=Hu(R),n=ia(R,n)):D=-1);-1!==D;){const le=n[_n];if(Qh(p,D,le.data)){const xe=Wd(D,n,i,b,a,q);if(xe!==Qi)return xe}R=n[D+8],R!==Fc&&ql(a,n[_n].data[D+8]===q)&&Qh(p,D,n)?(b=le,D=Hu(R),n=ia(R,n)):D=-1}}return d}function Wd(t,n,i,a,d,p){const b=n[_n],D=b.data[t+8],le=Gl(D,b,i,null==a?ao(D)&&ml:a!=b&&0!=(3&D.type),d&In.Host&&p===D);return null!==le?Lc(n,b,le,D):Qi}function Gl(t,n,i,a,d){const p=t.providerIndexes,b=n.data,D=1048575&p,R=t.directiveStart,le=p>>20,ct=d?D+le:t.directiveEnd;for(let Et=a?D:D+le;Et<ct;Et++){const zt=b[Et];if(Et<R&&i===zt||Et>=R&&zt.type===i)return Et}if(d){const Et=b[R];if(Et&&qi(Et)&&Et.type===i)return R}return null}function Lc(t,n,i,a){let d=t[i];const p=n.data;if(function $l(t){return t instanceof pl}(d)){const b=d;b.resolving&&function dt(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Ne(-200,`Circular dependency in DI detected for ${t}${i}`)}(function Ge(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ze(t)}(p[i]));const D=oa(b.canSeeViewProviders);b.resolving=!0;const q=b.injectImpl?Ar(b.injectImpl):null;Dr(t,a,In.Default);try{d=t[i]=b.factory(void 0,p,t,a),n.firstCreatePass&&i>=a.directiveStart&&function Vu(t,n,i){const{ngOnChanges:a,ngOnInit:d,ngDoCheck:p}=n.type.prototype;if(a){const b=pi(n);(i.preOrderHooks??=[]).push(t,b),(i.preOrderCheckHooks??=[]).push(t,b)}d&&(i.preOrderHooks??=[]).push(0-t,d),p&&((i.preOrderHooks??=[]).push(t,p),(i.preOrderCheckHooks??=[]).push(t,p))}(i,p[i],n)}finally{null!==q&&Ar(q),oa(D),b.resolving=!1,Ns()}}return d}function Qh(t,n,i){return!!(i[n+(t>>Bo)]&1<<t)}function ql(t,n){return!(t&In.Self||t&In.Host&&n)}class Po{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,a){return ya(this._tNode,this._lView,n,fn(a),i)}}function Kd(){return new Po(Ao(),Gt())}function Wl(t){return Xt(()=>{const n=t.prototype.constructor,i=n[Ln]||Ea(n),a=Object.prototype;let d=Object.getPrototypeOf(t.prototype).constructor;for(;d&&d!==a;){const p=d[Ln]||Ea(d);if(p&&p!==i)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function Ea(t){return Ye(t)?()=>{const n=Ea(Re(t));return n&&n()}:rs(t)}function Qd(t){const n=t[_n],i=n.type;return 2===i?n.declTNode:1===i?t[ai]:null}function ac(t){return function vl(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const a=i.length;let d=0;for(;d<a;){const p=i[d];if(fi(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<a&&"string"==typeof i[d];)d++;else{if(p===n)return i[d+1];d+=2}}}return null}(Ao(),t)}const Ua="__parameters__";function Yi(t,n,i){return Xt(()=>{const a=function Uc(t){return function(...i){if(t){const a=t(...i);for(const d in a)this[d]=a[d]}}}(n);function d(...p){if(this instanceof d)return a.apply(this,p),this;const b=new d(...p);return D.annotation=b,D;function D(R,q,le){const xe=R.hasOwnProperty(Ua)?R[Ua]:Object.defineProperty(R,Ua,{value:[]})[Ua];for(;xe.length<=le;)xe.push(null);return(xe[le]=xe[le]||[]).push(b),R}}return i&&(d.prototype=Object.create(i.prototype)),d.prototype.ngMetadataName=t,d.annotationCls=d,d})}function uc(t,n){t.forEach(i=>Array.isArray(i)?uc(i,n):n(i))}function th(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function Kl(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Bc(t,n){const i=[];for(let a=0;a<t;a++)i.push(n);return i}function vs(t,n,i){let a=Hc(t,n);return a>=0?t[1|a]=i:(a=~a,function nh(t,n,i,a){let d=t.length;if(d==n)t.push(i,a);else if(1===d)t.push(a,t[0]),t[0]=i;else{for(d--,t.push(t[d-1],t[d]);d>n;)t[d]=t[d-2],d--;t[n]=i,t[n+1]=a}}(t,a,n,i)),a}function qu(t,n){const i=Hc(t,n);if(i>=0)return t[1|i]}function Hc(t,n){return function Aa(t,n,i){let a=0,d=t.length>>i;for(;d!==a;){const p=a+(d-a>>1),b=t[p<<i];if(n===b)return p<<i;b>n?d=p:a=p+1}return~(d<<i)}(t,n,1)}const $c=Je(Yi("Optional"),8),Ba=Je(Yi("SkipSelf"),4);function Xu(t){return 128==(128&t.flags)}var ed=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ed||{});const Vg=new Map;let Ug=0;const uh="__ngContext__";function Yo(t,n){Kr(n)?(t[uh]=n[Lt],function t_(t){Vg.set(t[Lt],t)}(n)):t[uh]=n}let Hg;function dh(t,n){return Hg(t,n)}function Bs(t){const n=t[Nr];return Ii(n)?n[Nr]:n}function gf(t){return as(t[So])}function od(t){return as(t[ki])}function as(t){for(;null!==t&&!Ii(t);)t=t[ki];return t}function Ml(t,n,i,a,d){if(null!=a){let p,b=!1;Ii(a)?p=a:Kr(a)&&(b=!0,a=a[$r]);const D=vi(a);0===t&&null!==i?null==d?fh(n,i,D):Ia(n,i,D,d||null,!0):1===t&&null!==i?Ia(n,i,D,d||null,!0):2===t?function Ef(t,n,i){const a=ad(t,n);a&&function Pp(t,n,i,a){t.removeChild(n,i,a)}(t,a,n,i)}(n,D,b):3===t&&n.destroyNode(D),null!=p&&function mh(t,n,i,a,d){const p=i[mi];p!==vi(i)&&Ml(n,t,a,p,d);for(let D=yr;D<i.length;D++){const R=i[D];Ha(R[_n],R,t,n,a,p)}}(n,t,p,i,d)}}function hc(t,n,i){return t.createElement(n,i)}function o_(t,n){const i=t[uo],a=i.indexOf(n);Pu(n),i.splice(a,1)}function hh(t,n){if(t.length<=yr)return;const i=yr+n,a=t[i];if(a){const d=a[ke];null!==d&&d!==t&&o_(d,a),n>0&&(t[i-1][ki]=a[ki]);const p=Kl(t,yr+n);!function Sp(t,n){Ha(t,n,n[nr],2,null,null),n[$r]=null,n[ai]=null}(a[_n],a);const b=p[ht];null!==b&&b.detachView(p[_n]),a[Nr]=null,a[ki]=null,a[Xn]&=-129}return a}function ru(t,n){if(!(256&n[Xn])){const i=n[nr];n[An]&&Sc(n[An]),n[mr]&&Sc(n[mr]),i.destroyNode&&Ha(t,n,i,3,null,null),function $g(t){let n=t[So];if(!n)return Mp(t[_n],t);for(;n;){let i=null;if(Kr(n))i=n[So];else{const a=n[yr];a&&(i=a)}if(!i){for(;n&&!n[ki]&&n!==t;)Kr(n)&&Mp(n[_n],n),n=n[Nr];null===n&&(n=t),Kr(n)&&Mp(n[_n],n),i=n&&n[ki]}n=i}}(n)}}function Mp(t,n){if(!(256&n[Xn])){n[Xn]&=-129,n[Xn]|=256,function qg(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let a=0;a<i.length;a+=2){const d=n[i[a]];if(!(d instanceof pl)){const p=i[a+1];if(Array.isArray(p))for(let b=0;b<p.length;b+=2){const D=d[p[b]],R=p[b+1];cr(4,D,R);try{R.call(D)}finally{cr(5,D,R)}}else{cr(4,d,p);try{p.call(d)}finally{cr(5,d,p)}}}}}(t,n),function vf(t,n){const i=t.cleanup,a=n[Do];if(null!==i)for(let p=0;p<i.length-1;p+=2)if("string"==typeof i[p]){const b=i[p+3];b>=0?a[b]():a[-b].unsubscribe(),p+=2}else i[p].call(a[i[p+1]]);null!==a&&(n[Do]=null);const d=n[Sn];if(null!==d){n[Sn]=null;for(let p=0;p<d.length;p++)(0,d[p])()}}(t,n),1===n[_n].type&&n[nr].destroy();const i=n[ke];if(null!==i&&Ii(n[Nr])){i!==n[Nr]&&o_(i,n);const a=n[ht];null!==a&&a.detachView(t)}!function n_(t){Vg.delete(t[Lt])}(n)}}function iu(t,n,i){return function ou(t,n,i){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return i[$r];{const{componentOffset:d}=a;if(d>-1){const{encapsulation:p}=t.data[a.directiveStart+d];if(p===cn.None||p===cn.Emulated)return null}return Fo(a,i)}}(t,n.parent,i)}function Ia(t,n,i,a,d){t.insertBefore(n,i,a,d)}function fh(t,n,i){t.appendChild(n,i)}function ph(t,n,i,a,d){null!==a?Ia(t,n,i,a,d):fh(t,n,i)}function ad(t,n){return t.parentNode(n)}function xp(t,n,i){return yf(t,n,i)}let Rp,_h,dd,fd,yf=function Pl(t,n,i){return 40&t.type?Fo(t,i):null};function ja(t,n,i,a){const d=iu(t,a,n),p=n[nr],D=xp(a.parent||n[ai],a,n);if(null!=d)if(Array.isArray(i))for(let R=0;R<i.length;R++)ph(p,d,i[R],D,!1);else ph(p,d,i,D,!1);void 0!==Rp&&Rp(p,a,n,i,d)}function cs(t,n){if(null!==n){const i=n.type;if(3&i)return Fo(n,t);if(4&i)return Jc(-1,t[n.index]);if(8&i){const a=n.child;if(null!==a)return cs(t,a);{const d=t[n.index];return Ii(d)?Jc(-1,d):vi(d)}}if(32&i)return dh(n,t)()||vi(t[n.index]);{const a=xl(t,n);return null!==a?Array.isArray(a)?a[0]:cs(Bs(t[Y]),a):cs(t,n.next)}}return null}function xl(t,n){return null!==n?t[Y][ai].projection[n.projection]:null}function Jc(t,n){const i=yr+t+1;if(i<n.length){const a=n[i],d=a[_n].firstChild;if(null!==d)return cs(a,d)}return n[mi]}function ud(t,n,i,a,d,p,b){for(;null!=i;){const D=a[i.index],R=i.type;if(b&&0===n&&(D&&Yo(vi(D),a),i.flags|=2),32!=(32&i.flags))if(8&R)ud(t,n,i.child,a,d,p,!1),Ml(n,t,d,D,p);else if(32&R){const q=dh(i,a);let le;for(;le=q();)Ml(n,t,d,le,p);Ml(n,t,d,D,p)}else 16&R?Op(t,n,a,i,d,p):Ml(n,t,d,D,p);i=b?i.projectionNext:i.next}}function Ha(t,n,i,a,d,p){ud(i,a,t.firstChild,n,d,p,!1)}function Op(t,n,i,a,d,p){const b=i[Y],R=b[ai].projection[a.projection];if(Array.isArray(R))for(let q=0;q<R.length;q++)Ml(n,t,d,R[q],p);else{let q=R;const le=b[Nr];Xu(a)&&(q.flags|=128),ud(t,n,q,le,d,p,!0)}}function pc(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function ls(t,n,i){const{mergedAttrs:a,classes:d,styles:p}=i;null!==a&&Pr(t,n,a),null!==d&&pc(t,n,d),null!==p&&function Np(t,n,i){t.setAttribute(n,"style",i)}(t,n,p)}function vh(t){return function Af(){if(void 0===_h&&(_h=null,Wn.trustedTypes))try{_h=Wn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return _h}()?.createHTML(t)||t}function kp(t){dd=t}function hd(){if(void 0!==dd)return dd;if(typeof document<"u")return document;throw new Ne(210,!1)}function su(){if(void 0===fd&&(fd=null,Wn.trustedTypes))try{fd=Wn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return fd}function au(t){return su()?.createHTML(t)||t}function Fp(t){return su()?.createScriptURL(t)||t}class cu{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Fe})`}}class yh extends cu{getTypeName(){return"HTML"}}class Qg extends cu{getTypeName(){return"Style"}}class Lp extends cu{getTypeName(){return"Script"}}class bf extends cu{getTypeName(){return"URL"}}class Vp extends cu{getTypeName(){return"ResourceURL"}}function el(t){return t instanceof cu?t.changingThisBreaksApplicationSecurity:t}function gc(t,n){const i=function s_(t){return t instanceof cu&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${Fe})`)}return i===n}function tl(t){return new yh(t)}function Cf(t){return new Qg(t)}function Rl(t){return new Lp(t)}function Eh(t){return new bf(t)}function Tf(t){return new Vp(t)}class a_{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(vh(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class c_{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=vh(n),i}}const pd=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function gd(t){return(t=String(t)).match(pd)?t:"unsafe:"+t}function js(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function nl(...t){const n={};for(const i of t)for(const a in i)i.hasOwnProperty(a)&&(n[a]=!0);return n}const md=js("area,br,col,hr,img,wbr"),wf=js("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ah=js("rp,rt"),lu=nl(md,nl(wf,js("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),nl(Ah,js("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nl(Ah,wf)),Df=js("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),rl=nl(Df,js("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),js("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Sf=js("script,style,template");class lv{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,a=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?a=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,a&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let d=this.checkClobberedElement(i,i.nextSibling);if(d){i=d;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!lu.hasOwnProperty(i))return this.sanitizedSomething=!0,!Sf.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const a=n.attributes;for(let d=0;d<a.length;d++){const p=a.item(d),b=p.name,D=b.toLowerCase();if(!rl.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let R=p.value;Df[D]&&(R=gd(R)),this.buf.push(" ",b,'="',jp(R),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();lu.hasOwnProperty(i)&&!md.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(jp(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const d_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,h_=/([^\#-~ |!])/g;function jp(t){return t.replace(/&/g,"&amp;").replace(d_,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(h_,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Mf;function Hp(t,n){let i=null;try{Mf=Mf||function Yg(t){const n=new c_(t);return function l_(){try{return!!(new window.DOMParser).parseFromString(vh(""),"text/html")}catch{return!1}}()?new a_(n):n}(t);let a=n?String(n):"";i=Mf.getInertBodyElement(a);let d=5,p=a;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,a=p,p=i.innerHTML,i=Mf.getInertBodyElement(a)}while(a!==p);return vh((new lv).sanitizeChildren(zp(i)||i))}finally{if(i){const a=zp(i)||i;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function zp(t){return"content"in t&&function em(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var uu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(uu||{});function tm(t){const n=Sr();return n?au(n.sanitize(uu.HTML,t)||""):gc(t,"HTML")?au(el(t)):Hp(hd(),Ze(t))}function $p(t){const n=Sr();return n?n.sanitize(uu.URL,t)||"":gc(t,"URL")?el(t):gd(Ze(t))}function Pf(t){const n=Sr();if(n)return Fp(n.sanitize(uu.RESOURCE_URL,t)||"");if(gc(t,"ResourceURL"))return Fp(el(t));throw new Ne(904,!1)}function xf(t,n,i){return function om(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Pf:$p}(n,i)(t)}function Sr(){const t=Gt();return t&&t[vo].sanitizer}const mc=new gn("ENVIRONMENT_INITIALIZER"),Ih=new gn("INJECTOR",-1),_d=new gn("INJECTOR_DEF_TYPES");class Rf{get(n,i=zn){if(i===zn){const a=new Error(`NullInjectorError: No provider for ${se(n)}!`);throw a.name="NullInjectorError",a}return i}}function xo(t){return{\u0275providers:t}}function Io(...t){return{\u0275providers:za(0,t),\u0275fromNgModule:!0}}function za(t,...n){const i=[],a=new Set;let d;const p=b=>{i.push(b)};return uc(n,b=>{const D=b;Of(D,p,[],a)&&(d||=[],d.push(D))}),void 0!==d&&bh(d,p),i}function bh(t,n){for(let i=0;i<t.length;i++){const{ngModule:a,providers:d}=t[i];Nf(d,p=>{n(p,a)})}}function Of(t,n,i,a){if(!(t=Re(t)))return!1;let d=null,p=Hr(t);const b=!p&&qn(t);if(p||b){if(b&&!b.standalone)return!1;d=t}else{const R=t.ngModule;if(p=Hr(R),!p)return!1;d=R}const D=a.has(d);if(b){if(D)return!1;if(a.add(d),b.dependencies){const R="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const q of R)Of(q,n,i,a)}}else{if(!p)return!1;{if(null!=p.imports&&!D){let q;a.add(d);try{uc(p.imports,le=>{Of(le,n,i,a)&&(q||=[],q.push(le))})}finally{}void 0!==q&&bh(q,n)}if(!D){const q=rs(d)||(()=>new d);n({provide:d,useFactory:q,deps:yn},d),n({provide:_d,useValue:d,multi:!0},d),n({provide:mc,useValue:()=>$t(d),multi:!0},d)}const R=p.providers;if(null!=R&&!D){const q=t;Nf(R,le=>{n(le,q)})}}}return d!==t&&void 0!==t.providers}function Nf(t,n){for(let i of t)We(i)&&(i=i.\u0275providers),Array.isArray(i)?Nf(i,n):n(i)}const kf=G({provide:String,useValue:G});function Hs(t){return null!==t&&"object"==typeof t&&kf in t}function du(t){return"function"==typeof t}const cm=new gn("Set Injector scope."),Ch={},Ui={};let Ff;function Lf(){return void 0===Ff&&(Ff=new Rf),Ff}class ba{}class hu extends ba{get destroyed(){return this._destroyed}constructor(n,i,a,d){super(),this.parent=i,this.source=a,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fu(n,b=>this.processProvider(b)),this.records.set(Ih,Th(void 0,this)),d.has("environment")&&this.records.set(ba,Th(void 0,this));const p=this.records.get(cm);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(_d.multi,yn,In.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=Xe(this),a=Ar(void 0);try{return n()}finally{Xe(i),Ar(a)}}get(n,i=zn,a=In.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(vn))return n[vn](this);a=fn(a);const p=Xe(this),b=Ar(void 0);try{if(!(a&In.SkipSelf)){let R=this.records.get(n);if(void 0===R){const q=function Gp(t){return"function"==typeof t||"object"==typeof t&&t instanceof gn}(n)&&Nn(n);R=q&&this.injectableDefInScope(q)?Th(Vf(n),Ch):null,this.records.set(n,R)}if(null!=R)return this.hydrate(n,R)}return(a&In.Self?Lf():this.parent).get(n,i=a&In.Optional&&i===zn?null:i)}catch(D){if("NullInjectorError"===D.name){if((D[wr]=D[wr]||[]).unshift(se(n)),p)throw D;return function nt(t,n,i,a){const d=t[wr];throw n[H]&&d.unshift(n[H]),t.message=function jt(t,n,i,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let d=se(n);if(Array.isArray(n))d=n.map(se).join(" -> ");else if("object"==typeof n){let p=[];for(let b in n)if(n.hasOwnProperty(b)){let D=n[b];p.push(b+":"+("string"==typeof D?JSON.stringify(D):se(D)))}d=`{${p.join(", ")}}`}return`${i}${a?"("+a+")":""}[${d}]: ${t.replace(ce,"\n  ")}`}("\n"+t.message,d,i,a),t.ngTokenPath=d,t[wr]=null,t}(D,n,"R3InjectorError",this.source)}throw D}finally{Ar(b),Xe(p)}}resolveInjectorInitializers(){const n=Xe(this),i=Ar(void 0);try{const d=this.get(mc.multi,yn,In.Self);for(const p of d)p()}finally{Xe(n),Ar(i)}}toString(){const n=[],i=this.records;for(const a of i.keys())n.push(se(a));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ne(205,!1)}processProvider(n){let i=du(n=Re(n))?n:Re(n&&n.provide);const a=function g_(t){return Hs(t)?Th(void 0,t.useValue):Th(lm(t),Ch)}(n);if(du(n)||!0!==n.multi)this.records.get(i);else{let d=this.records.get(i);d||(d=Th(void 0,Ch,!0),d.factory=()=>Jn(d.multi),this.records.set(i,d)),i=n,d.multi.push(n)}this.records.set(i,a)}hydrate(n,i){return i.value===Ch&&(i.value=Ui,i.value=i.factory()),"object"==typeof i.value&&i.value&&function Uf(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=Re(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function Vf(t){const n=Nn(t),i=null!==n?n.factory:rs(t);if(null!==i)return i;if(t instanceof gn)throw new Ne(204,!1);if(t instanceof Function)return function p_(t){const n=t.length;if(n>0)throw Bc(n,"?"),new Ne(204,!1);const i=function Qt(t){return t&&(t[xn]||t[rr])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new Ne(204,!1)}function lm(t,n,i){let a;if(du(t)){const d=Re(t);return rs(d)||Vf(d)}if(Hs(t))a=()=>Re(t.useValue);else if(function am(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Jn(t.deps||[]));else if(function il(t){return!(!t||!t.useExisting)}(t))a=()=>$t(Re(t.useExisting));else{const d=Re(t&&(t.useClass||t.provide));if(!function um(t){return!!t.deps}(t))return rs(d)||Vf(d);a=()=>new d(...Jn(t.deps))}return a}function Th(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function fu(t,n){for(const i of t)Array.isArray(i)?fu(i,n):i&&We(i)?fu(i.\u0275providers,n):n(i)}const qp=new gn("AppId",{providedIn:"root",factory:()=>Ol}),Ol="ng",ol=new gn("Platform Initializer"),dm=new gn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Bf=new gn("AnimationModuleType"),m_=new gn("CSP nonce",{providedIn:"root",factory:()=>hd().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Mh=(t,n,i)=>null;function Ad(t,n,i=!1){return Mh(t,n,i)}class yy{}class Yp{}class pv{resolveComponentFactory(n){throw function Jp(t){const n=Error(`No component factory found for ${se(t)}.`);return n.ngComponent=t,n}(n)}}let zf=(()=>{class t{static#e=this.NULL=new pv}return t})();function Xp(){return Rh(Ao(),Gt())}function Rh(t,n){return new $f(Fo(t,n))}let $f=(()=>{class t{constructor(i){this.nativeElement=i}static#e=this.__NG_ELEMENT_ID__=Xp}return t})();function eg(t){return t instanceof $f?t.nativeElement:t}class v_{}let gv=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function y_(){const t=Gt(),i=Lo(Ao().index,t);return(Kr(i)?i:t)[nr]}()}return t})(),E_=(()=>{class t{static#e=this.\u0275prov=Pn({token:t,providedIn:"root",factory:()=>null})}return t})();class vm{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const ym=new vm("16.2.12"),tg={};function vu(t,n=null,i=null,a){const d=C_(t,n,i,a);return d.resolveInjectorInitializers(),d}function C_(t,n=null,i=null,a,d=new Set){const p=[i||yn,Io(t)];return a=a||("object"==typeof t?void 0:se(t)),new hu(p,n||Lf(),a||null,d)}let _c=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=zn;static#t=this.NULL=new Rf;static create(i,a){if(Array.isArray(i))return vu({name:""},a,i,"");{const d=i.name??"";return vu({name:d},i.parent,i.providers,d)}}static#n=this.\u0275prov=Pn({token:t,providedIn:"any",factory:()=>$t(Ih)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Em(t){return t.ngOriginalError}class yu{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&Em(n);for(;i&&Em(i);)i=Em(i);return i||null}}function Im(t){return n=>{setTimeout(t,void 0,n)}}const sl=class vv extends f.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,a){let d=n,p=i||(()=>null),b=a;if(n&&"object"==typeof n){const R=n;d=R.next?.bind(R),p=R.error?.bind(R),b=R.complete?.bind(R)}this.__isAsync&&(p=Im(p),d&&(d=Im(d)),b&&(b=Im(b)));const D=super.subscribe({next:d,error:p,complete:b});return n instanceof o.w0&&n.add(D),D}};function w_(...t){}class Co{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new sl(!1),this.onMicrotaskEmpty=new sl(!1),this.onStable=new sl(!1),this.onError=new sl(!1),typeof Zone>"u")throw new Ne(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!a&&i,d.shouldCoalesceRunChangeDetection=a,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function yv(){const t="function"==typeof Wn.requestAnimationFrame;let n=Wn[t?"requestAnimationFrame":"setTimeout"],i=Wn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const d=i[Zone.__symbol__("OriginalDelegate")];d&&(i=d)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Av(t){const n=()=>{!function Ev(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Wn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Cm(t),t.isCheckStableRunning=!0,D_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Cm(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,a,d,p,b,D)=>{if(function wy(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(D))return i.invokeTask(d,p,b,D);try{return S_(t),i.invokeTask(d,p,b,D)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||t.shouldCoalesceRunChangeDetection)&&n(),M_(t)}},onInvoke:(i,a,d,p,b,D,R)=>{try{return S_(t),i.invoke(d,p,b,D,R)}finally{t.shouldCoalesceRunChangeDetection&&n(),M_(t)}},onHasTask:(i,a,d,p)=>{i.hasTask(d,p),a===d&&("microTask"==p.change?(t._hasPendingMicrotasks=p.microTask,Cm(t),D_(t)):"macroTask"==p.change&&(t.hasPendingMacrotasks=p.macroTask))},onHandleError:(i,a,d,p)=>(i.handleError(d,p),t.runOutsideAngular(()=>t.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Co.isInAngularZone())throw new Ne(909,!1)}static assertNotInAngularZone(){if(Co.isInAngularZone())throw new Ne(909,!1)}run(n,i,a){return this._inner.run(n,i,a)}runTask(n,i,a,d){const p=this._inner,b=p.scheduleEventTask("NgZoneEvent: "+d,n,bm,w_,w_);try{return p.runTask(b,i,a)}finally{p.cancelTask(b)}}runGuarded(n,i,a){return this._inner.runGuarded(n,i,a)}runOutsideAngular(n){return this._outer.run(n)}}const bm={};function D_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Cm(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function S_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function M_(t){t._nesting--,D_(t)}class Ty{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new sl,this.onMicrotaskEmpty=new sl,this.onStable=new sl,this.onError=new sl}run(n,i,a){return n.apply(i,a)}runGuarded(n,i,a){return n.apply(i,a)}runOutsideAngular(n){return n()}runTask(n,i,a,d){return n.apply(i,a)}}const Iv=new gn("",{providedIn:"root",factory:bv});function bv(){const t=an(Co);let n=!0;const i=new U.y(d=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{d.next(n),d.complete()})}),a=new U.y(d=>{let p;t.runOutsideAngular(()=>{p=t.onStable.subscribe(()=>{Co.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,d.next(!0))})})});const b=t.onUnstable.subscribe(()=>{Co.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{d.next(!1)}))});return()=>{p.unsubscribe(),b.unsubscribe()}});return(0,Se.T)(i,a.pipe((0,de.B)()))}function Fl(t){return t instanceof Function?t():t}let ig=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Pn({token:t,providedIn:"root",factory:()=>new t})}return t})();function qf(t){for(;t;){t[Xn]|=64;const n=Bs(t);if(Da(t)&&!n)return t;t=n}return null}const R_=new gn("",{providedIn:"root",factory:()=>!1});let Nh=null;function Wf(t,n){return t[n]??s()}function c(t,n){const i=s();i.producerNode?.length&&(t[n]=Nh,i.lView=t,Nh=r())}const e={...wc,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{qf(t.lView)},lView:null};function r(){return Object.create(e)}function s(){return Nh??=r(),Nh}const u={};function m(t){I(Gr(),Gt(),Ko()+t,!1)}function I(t,n,i,a){if(!a)if(3==(3&n[Xn])){const p=t.preOrderCheckHooks;null!==p&&Fa(n,p,i)}else{const p=t.preOrderHooks;null!==p&&La(n,p,0,i)}Fs(i)}function P(t,n=In.Default){const i=Gt();return null===i?$t(t,n):ya(Ao(),i,Re(t),n)}function L(){throw new Error("invalid")}function he(t,n,i,a,d,p,b,D,R,q,le){const xe=n.blueprint.slice();return xe[$r]=d,xe[Xn]=140|a,(null!==q||t&&2048&t[Xn])&&(xe[Xn]|=2048),Xs(xe),xe[Nr]=xe[re]=t,xe[si]=i,xe[vo]=b||t&&t[vo],xe[nr]=D||t&&t[nr],xe[so]=R||t&&t[so]||null,xe[ai]=p,xe[Lt]=function Bg(){return Ug++}(),xe[Kt]=le,xe[pn]=q,xe[Y]=2==n.type?t[Y]:xe,xe}function Me(t,n,i,a,d){let p=t.data[n];if(null===p)p=function et(t,n,i,a,d){const p=Ki(),b=kc(),R=t.data[n]=function At(t,n,i,a,d,p){let b=n?n.injectorIndex:-1,D=0;return ka()&&(D|=128),{type:i,index:a,insertBeforeIndex:null,injectorIndex:b,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:D,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?p:p&&p.parent,i,n,a,d);return null===t.firstChild&&(t.firstChild=R),null!==p&&(b?null==p.child&&null!==R.parent&&(p.child=R):null===p.next&&(p.next=R,R.prev=p)),R}(t,n,i,a,d),function O(){return dr.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=i,p.value=a,p.attrs=d;const b=function Nc(){const t=dr.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();p.injectorIndex=null===b?-1:b.injectorIndex}return Vo(p,!0),p}function Ct(t,n,i,a){if(0===i)return-1;const d=n.length;for(let p=0;p<i;p++)n.push(a),t.blueprint.push(a),t.data.push(null);return d}function qt(t,n,i,a,d){const p=Wf(n,An),b=Ko(),D=2&a;try{Fs(-1),D&&n.length>Bn&&I(t,n,Bn,!1),cr(D?2:0,d);const q=D?p:null,le=fr(q);try{null!==q&&(q.dirty=!1),i(a,d)}finally{Dc(q,le)}}finally{D&&null===n[An]&&c(n,An),Fs(b),cr(D?3:1,d)}}function hn(t,n,i){if(ms(n)){const a=$i(null);try{const p=n.directiveEnd;for(let b=n.directiveStart;b<p;b++){const D=t.data[b];D.contentQueries&&D.contentQueries(1,i[b],b)}}finally{$i(a)}}}function nn(t,n,i){Vi()&&(function Ov(t,n,i,a){const d=i.directiveStart,p=i.directiveEnd;ao(i)&&function Mm(t,n,i){const a=Fo(n,t),d=ir(i);let b=16;i.signals?b=4096:i.onPush&&(b=64);const D=Lh(t,he(t,d,null,b,a,n,null,t[vo].rendererFactory.createRenderer(a,i),null,null,null));t[n.index]=D}(n,i,t.data[d+i.componentOffset]),t.firstCreatePass||$u(i,n),Yo(a,n);const b=i.initialInputs;for(let D=d;D<p;D++){const R=t.data[D],q=Lc(n,t,D,i);Yo(q,n),null!==b&&F_(0,D-d,q,R,0,b),qi(R)&&(Lo(i.index,n)[si]=Lc(n,t,D,i))}}(t,n,i,Fo(i,n)),64==(64&i.flags)&&Fh(t,n,i))}function Zn(t,n,i=Fo){const a=n.localNames;if(null!==a){let d=n.index+1;for(let p=0;p<a.length;p+=2){const b=a[p+1],D=-1===b?i(n,t):t[b];t[d++]=D}}}function ir(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Kn(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Kn(t,n,i,a,d,p,b,D,R,q,le){const xe=Bn+a,ct=xe+d,Et=function xr(t,n){const i=[];for(let a=0;a<n;a++)i.push(a<t?null:u);return i}(xe,ct),zt="function"==typeof q?q():q;return Et[_n]={type:t,blueprint:Et,template:i,queries:null,viewQuery:D,declTNode:n,data:Et.slice().fill(null,xe),bindingStartIndex:xe,expandoStartIndex:ct,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:R,consts:zt,incompleteFirstPass:!1,ssrId:le}}let pt=t=>null;function Rt(t,n,i,a){for(let d in t)if(t.hasOwnProperty(d)){i=null===i?{}:i;const p=t[d];null===a?it(i,n,d,p):a.hasOwnProperty(d)&&it(i,n,a[d],p)}return i}function it(t,n,i,a){t.hasOwnProperty(i)?t[i].push(n,a):t[i]=[n,a]}function Ta(t,n,i,a,d,p,b,D){const R=Fo(n,i);let le,q=n.inputs;!D&&null!=q&&(le=q[a])?(ds(t,i,le,a,d),ao(n)&&function Qf(t,n){const i=Lo(n,t);16&i[Xn]||(i[Xn]|=64)}(i,n.index)):3&n.type&&(a=function Kf(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),d=null!=b?b(d,n.value||"",a):d,p.setProperty(R,a,d))}function og(t,n,i,a){if(Vi()){const d=null===a?null:{"":-1},p=function Yf(t,n){const i=t.directiveRegistry;let a=null,d=null;if(i)for(let p=0;p<i.length;p++){const b=i[p];if(ii(n,b.selectors,!1))if(a||(a=[]),qi(b))if(null!==b.findHostDirectiveDefs){const D=[];d=d||new Map,b.findHostDirectiveDefs(b,D,d),a.unshift(...D,b),Dm(t,n,D.length)}else a.unshift(b),Dm(t,n,0);else d=d||new Map,b.findHostDirectiveDefs?.(b,a,d),a.push(b)}return null===a?null:[a,d]}(t,i);let b,D;null===p?b=D=null:[b,D]=p,null!==b&&k_(t,n,i,b,d,D),d&&function kv(t,n,i){if(n){const a=t.localNames=[];for(let d=0;d<n.length;d+=2){const p=i[n[d+1]];if(null==p)throw new Ne(-301,!1);a.push(n[d],p)}}}(i,a,d)}i.mergedAttrs=ur(i.mergedAttrs,i.attrs)}function k_(t,n,i,a,d,p){for(let q=0;q<a.length;q++)jr($u(i,n),t,a[q].type);!function ag(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,a.length);for(let q=0;q<a.length;q++){const le=a[q];le.providersResolver&&le.providersResolver(le)}let b=!1,D=!1,R=Ct(t,n,a.length,null);for(let q=0;q<a.length;q++){const le=a[q];i.mergedAttrs=ur(i.mergedAttrs,le.hostAttrs),Sm(t,i,n,R,le),sg(R,le,d),null!==le.contentQueries&&(i.flags|=4),(null!==le.hostBindings||null!==le.hostAttrs||0!==le.hostVars)&&(i.flags|=64);const xe=le.type.prototype;!b&&(xe.ngOnChanges||xe.ngOnInit||xe.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),b=!0),!D&&(xe.ngOnChanges||xe.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),D=!0),R++}!function Ll(t,n,i){const d=n.directiveEnd,p=t.data,b=n.attrs,D=[];let R=null,q=null;for(let le=n.directiveStart;le<d;le++){const xe=p[le],ct=i?i.get(xe):null,zt=ct?ct.outputs:null;R=Rt(xe.inputs,le,R,ct?ct.inputs:null),q=Rt(xe.outputs,le,q,zt);const dn=null===R||null===b||zr(n)?null:Fv(R,le,b);D.push(dn)}null!==R&&(R.hasOwnProperty("class")&&(n.flags|=8),R.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=D,n.inputs=R,n.outputs=q}(t,i,p)}function Fh(t,n,i){const a=i.directiveStart,d=i.directiveEnd,p=i.index,b=function W(){return dr.lFrame.currentDirectiveIndex}();try{Fs(p);for(let D=a;D<d;D++){const R=t.data[D],q=n[D];fe(D),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&Nv(R,q)}}finally{Fs(-1),fe(b)}}function Nv(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Dm(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function sg(t,n,i){if(i){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)i[n.exportAs[a]]=t;qi(n)&&(i[""]=t)}}function Sm(t,n,i,a,d){t.data[a]=d;const p=d.factory||(d.factory=rs(d.type)),b=new pl(p,qi(d),P);t.blueprint[a]=b,i[a]=b,function Au(t,n,i,a,d){const p=d.hostBindings;if(p){let b=t.hostBindingOpCodes;null===b&&(b=t.hostBindingOpCodes=[]);const D=~n.index;(function ys(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(b)!=D&&b.push(D),b.push(i,a,p)}}(t,n,a,Ct(t,i,d.hostVars,u),d)}function qa(t,n,i,a,d,p){const b=Fo(t,n);!function Jf(t,n,i,a,d,p,b){if(null==p)t.removeAttribute(n,d,i);else{const D=null==b?Ze(p):b(p,a||"",d);t.setAttribute(n,d,D,i)}}(n[nr],b,p,t.value,i,a,d)}function F_(t,n,i,a,d,p){const b=p[n];if(null!==b)for(let D=0;D<b.length;)Pm(a,i,b[D++],b[D++],b[D++])}function Pm(t,n,i,a,d){const p=$i(null);try{const b=t.inputTransforms;null!==b&&b.hasOwnProperty(a)&&(d=b[a].call(n,d)),null!==t.setInput?t.setInput(n,d,i,a):n[a]=d}finally{$i(p)}}function Fv(t,n,i){let a=null,d=0;for(;d<i.length;){const p=i[d];if(0!==p)if(5!==p){if("number"==typeof p)break;if(t.hasOwnProperty(p)){null===a&&(a=[]);const b=t[p];for(let D=0;D<b.length;D+=2)if(b[D]===n){a.push(p,b[D+1],i[d+1]);break}}d+=2}else d+=2;else d+=4}return a}function xm(t,n,i,a){return[t,!0,!1,n,null,0,a,i,null,null,null]}function Rm(t,n){const i=t.contentQueries;if(null!==i)for(let a=0;a<i.length;a+=2){const p=i[a+1];if(-1!==p){const b=t.data[p];Mt(i[a]),b.contentQueries(2,n[p],p)}}}function Lh(t,n){return t[So]?t[ci][ki]=n:t[So]=n,t[ci]=n,n}function cg(t,n,i){Mt(0);const a=$i(null);try{n(t,i)}finally{$i(a)}}function lg(t){return t[Do]||(t[Do]=[])}function ug(t){return t.cleanup||(t.cleanup=[])}function us(t,n){const i=t[so],a=i?i.get(yu,null):null;a&&a.handleError(n)}function ds(t,n,i,a,d){for(let p=0;p<i.length;){const b=i[p++],D=i[p++];Pm(t.data[b],n[b],a,D,d)}}function Wa(t,n,i){const a=Qs(n,t);!function mf(t,n,i){t.setValue(n,i)}(t[nr],a,i)}function L_(t,n){const i=Lo(n,t),a=i[_n];!function V_(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(a,i);const d=i[$r];null!==d&&null===i[Kt]&&(i[Kt]=Ad(d,i[so])),Om(a,i,i[si])}function Om(t,n,i){ui(n);try{const a=t.viewQuery;null!==a&&cg(1,a,i);const d=t.template;null!==d&&qt(t,n,d,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Rm(t,n),t.staticViewQueries&&cg(2,t.viewQuery,i);const p=t.components;null!==p&&function Vh(t,n){for(let i=0;i<n.length;i++)L_(t,n[i])}(n,p)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[Xn]&=-5,_a()}}let hg=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,a,d){const p=typeof Zone>"u"?null:Zone.current,b=function Ht(t,n,i){const a=Object.create(Lr);i&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=n;const d=b=>{a.cleanupFn=b};return a.ref={notify:()=>Ra(a),run:()=>{if(a.dirty=!1,a.hasRun&&!ll(a))return;a.hasRun=!0;const b=fr(a);try{a.cleanupFn(),a.cleanupFn=Mn,a.fn(d)}finally{Dc(a,b)}},cleanup:()=>a.cleanupFn()},a.ref}(i,q=>{this.all.has(q)&&this.queue.set(q,p)},d);let D;this.all.add(b),b.notify();const R=()=>{b.cleanup(),D?.(),this.all.delete(b),this.queue.delete(b)};return D=a?.onDestroy(R),{destroy:R}}flush(){if(0!==this.queue.size)for(const[i,a]of this.queue)this.queue.delete(i),a?a.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Pn({token:t,providedIn:"root",factory:()=>new t})}return t})();function Sd(t,n,i){let a=i?t.styles:null,d=i?t.classes:null,p=0;if(null!==n)for(let b=0;b<n.length;b++){const D=n[b];"number"==typeof D?p=D:1==p?d=be(d,D):2==p&&(a=be(a,D+": "+n[++b]+";"))}i?t.styles=a:t.stylesWithoutHost=a,i?t.classes=d:t.classesWithoutHost=d}function Uh(t,n,i,a,d=!1){for(;null!==i;){const p=n[i.index];null!==p&&a.push(vi(p)),Ii(p)&&Xf(p,a);const b=i.type;if(8&b)Uh(t,n,i.child,a);else if(32&b){const D=dh(i,n);let R;for(;R=D();)a.push(R)}else if(16&b){const D=xl(n,i);if(Array.isArray(D))a.push(...D);else{const R=Bs(n[Y]);Uh(R[_n],R,D,a,!0)}}i=d?i.projectionNext:i.next}return a}function Xf(t,n){for(let i=yr;i<t.length;i++){const a=t[i],d=a[_n].firstChild;null!==d&&Uh(a[_n],a,d,n)}t[mi]!==t[$r]&&n.push(t[mi])}function Iu(t,n,i,a=!0){const d=n[vo],p=d.rendererFactory,b=d.afterRenderEventManager;p.begin?.(),b?.begin();try{Vl(t,n,t.template,i)}catch(R){throw a&&us(n,R),R}finally{p.end?.(),d.effectManager?.flush(),b?.end()}}function Vl(t,n,i,a){const d=n[Xn];if(256!=(256&d)){n[vo].effectManager?.flush(),ui(n);try{Xs(n),function Fu(t){return dr.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&qt(t,n,i,2,a);const b=3==(3&d);if(b){const q=t.preOrderCheckHooks;null!==q&&Fa(n,q,null)}else{const q=t.preOrderHooks;null!==q&&La(n,q,0,null),ra(n,0)}if(function fg(t){for(let n=gf(t);null!==n;n=od(n)){if(!n[kr])continue;const i=n[uo];for(let a=0;a<i.length;a++){xs(i[a])}}}(n),ep(n,2),null!==t.contentQueries&&Rm(t,n),b){const q=t.contentCheckHooks;null!==q&&Fa(n,q)}else{const q=t.contentHooks;null!==q&&La(n,q,1),ra(n,1)}!function J(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const a=Wf(n,mr);try{for(let d=0;d<i.length;d++){const p=i[d];if(p<0)Fs(~p);else{const b=p,D=i[++d],R=i[++d];N(D,b),a.dirty=!1;const q=fr(a);try{R(2,n[b])}finally{Dc(a,q)}}}}finally{null===n[mr]&&c(n,mr),Fs(-1)}}(t,n);const D=t.components;null!==D&&Bh(n,D,0);const R=t.viewQuery;if(null!==R&&cg(2,R,a),b){const q=t.viewCheckHooks;null!==q&&Fa(n,q)}else{const q=t.viewHooks;null!==q&&La(n,q,2),ra(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Xn]&=-73,Pu(n)}finally{_a()}}}function ep(t,n){for(let i=gf(t);null!==i;i=od(i))for(let a=yr;a<i.length;a++)pg(i[a],n)}function bu(t,n,i){pg(Lo(n,t),i)}function pg(t,n){if(!function Rc(t){return 128==(128&t[Xn])}(t))return;const i=t[_n],a=t[Xn];if(80&a&&0===n||1024&a||2===n)Vl(i,t,i.template,t[si]);else if(t[oo]>0){ep(t,1);const d=i.components;null!==d&&Bh(t,d,1)}}function Bh(t,n,i){for(let a=0;a<n.length;a++)bu(t,n[a],i)}class Md{get rootNodes(){const n=this._lView,i=n[_n];return Uh(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[si]}set context(n){this._lView[si]=n}get destroyed(){return 256==(256&this._lView[Xn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Nr];if(Ii(n)){const i=n[8],a=i?i.indexOf(this):-1;a>-1&&(hh(n,a),Kl(i,a))}this._attachedToViewContainer=!1}ru(this._lView[_n],this._lView)}onDestroy(n){!function Gh(t,n){if(256==(256&t[Xn]))throw new Ne(911,!1);null===t[Sn]&&(t[Sn]=[]),t[Sn].push(n)}(this._lView,n)}markForCheck(){qf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Xn]&=-129}reattach(){this._lView[Xn]|=128}detectChanges(){Iu(this._lView[_n],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function i_(t,n){Ha(t,n,n[nr],2,null,null)}(this._lView[_n],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ne(902,!1);this._appRef=n}}class tp extends Md{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Iu(n[_n],n,n[si],!1)}checkNoChanges(){}get context(){return null}}class km extends zf{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=qn(n);return new Ul(i,this.ngModule)}}function Es(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class np{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,a){a=fn(a);const d=this.injector.get(n,tg,a);return d!==tg||i===tg?d:this.parentInjector.get(n,i,a)}}class Ul extends Yp{get inputs(){const n=this.componentDef,i=n.inputTransforms,a=Es(n.inputs);if(null!==i)for(const d of a)i.hasOwnProperty(d.propName)&&(d.transform=i[d.propName]);return a}get outputs(){return Es(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Gi(t){return t.map(Hi).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,a,d){let p=(d=d||this.ngModule)instanceof ba?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const b=p?new np(n,p):n,D=b.get(v_,null);if(null===D)throw new Ne(407,!1);const xe={rendererFactory:D,sanitizer:b.get(E_,null),effectManager:b.get(hg,null),afterRenderEventManager:b.get(ig,null)},ct=D.createRenderer(null,this.componentDef),Et=this.componentDef.selectors[0][0]||"div",zt=a?function Ti(t,n,i,a){const p=a.get(R_,!1)||i===cn.ShadowDom,b=t.selectRootElement(n,p);return function qr(t){pt(t)}(b),b}(ct,a,this.componentDef.encapsulation,b):hc(ct,Et,function j_(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Et)),ar=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let rn=null;null!==zt&&(rn=Ad(zt,b,!0));const Fr=Kn(0,null,null,1,0,null,null,null,null,null,null),ni=he(null,Fr,null,ar,null,null,xe,ct,b,null,rn);let to,Ic;ui(ni);try{const Zh=this.componentDef;let Xm,I0=null;Zh.findHostDirectiveDefs?(Xm=[],I0=new Map,Zh.findHostDirectiveDefs(Zh,Xm,I0),Xm.push(Zh)):Xm=[Zh];const Gw=function Vv(t,n){const i=t[_n],a=Bn;return t[a]=n,Me(i,a,2,"#host",null)}(ni,zt),qw=function Pd(t,n,i,a,d,p,b){const D=d[_n];!function Uv(t,n,i,a){for(const d of t)n.mergedAttrs=ur(n.mergedAttrs,d.hostAttrs);null!==n.mergedAttrs&&(Sd(n,n.mergedAttrs,!0),null!==i&&ls(a,i,n))}(a,t,n,b);let R=null;null!==n&&(R=Ad(n,d[so]));const q=p.rendererFactory.createRenderer(n,i);let le=16;i.signals?le=4096:i.onPush&&(le=64);const xe=he(d,ir(i),null,le,d[t.index],t,p,q,null,null,R);return D.firstCreatePass&&Dm(D,t,a.length-1),Lh(d,xe),d[t.index]=xe}(Gw,zt,Zh,Xm,ni,xe,ct);Ic=xc(Fr,Bn),zt&&function gg(t,n,i,a){if(a)Pr(t,i,["ng-version",ym.full]);else{const{attrs:d,classes:p}=function Ts(t){const n=[],i=[];let a=1,d=2;for(;a<t.length;){let p=t[a];if("string"==typeof p)2===d?""!==p&&n.push(p,t[++a]):8===d&&i.push(p);else{if(!ji(d))break;d=p}a++}return{attrs:n,classes:i}}(n.selectors[0]);d&&Pr(t,i,d),p&&p.length>0&&pc(t,i,p.join(" "))}}(ct,Zh,zt,a),void 0!==i&&function H_(t,n,i){const a=t.projection=[];for(let d=0;d<n.length;d++){const p=i[d];a.push(null!=p?Array.from(p):null)}}(Ic,this.ngContentSelectors,i),to=function Bv(t,n,i,a,d,p){const b=Ao(),D=d[_n],R=Fo(b,d);k_(D,d,b,i,null,a);for(let le=0;le<i.length;le++)Yo(Lc(d,D,b.directiveStart+le,b),d);Fh(D,d,b),R&&Yo(R,d);const q=Lc(d,D,b.directiveStart+b.componentOffset,b);if(t[si]=d[si]=q,null!==p)for(const le of p)le(q,n);return hn(D,b,t),q}(qw,Zh,Xm,I0,ni,[Fm]),Om(Fr,ni,null)}finally{_a()}return new Lv(this.componentType,to,Rh(Ic,ni),ni,Ic)}}class Lv extends yy{constructor(n,i,a,d,p){super(),this.location=a,this._rootLView=d,this._tNode=p,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new tp(d),this.componentType=n}setInput(n,i){const a=this._tNode.inputs;let d;if(null!==a&&(d=a[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const p=this._rootLView;ds(p[_n],p,d,n,i),this.previousInputValues.set(n,i),qf(Lo(this._tNode.index,p))}}get injector(){return new Po(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Fm(){const t=Ao();Uu(Gt()[_n],t)}function al(t){let n=function rp(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const a=[t];for(;n;){let d;if(qi(t))d=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ne(903,!1);d=n.\u0275dir}if(d){if(i){a.push(d);const b=t;b.inputs=xd(t.inputs),b.inputTransforms=xd(t.inputTransforms),b.declaredInputs=xd(t.declaredInputs),b.outputs=xd(t.outputs);const D=d.hostBindings;D&&y(t,D);const R=d.viewQuery,q=d.contentQueries;if(R&&mg(t,R),q&&_g(t,q),z(t.inputs,d.inputs),z(t.declaredInputs,d.declaredInputs),z(t.outputs,d.outputs),null!==d.inputTransforms&&(null===b.inputTransforms&&(b.inputTransforms={}),z(b.inputTransforms,d.inputTransforms)),qi(d)&&d.data.animation){const le=t.data;le.animation=(le.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let b=0;b<p.length;b++){const D=p[b];D&&D.ngInherit&&D(t),D===al&&(i=!1)}}n=Object.getPrototypeOf(n)}!function z_(t){let n=0,i=null;for(let a=t.length-1;a>=0;a--){const d=t[a];d.hostVars=n+=d.hostVars,d.hostAttrs=ur(d.hostAttrs,i=ur(i,d.hostAttrs))}}(a)}function xd(t){return t===hr?{}:t===yn?[]:t}function mg(t,n){const i=t.viewQuery;t.viewQuery=i?(a,d)=>{n(a,d),i(a,d)}:n}function _g(t,n){const i=t.contentQueries;t.contentQueries=i?(a,d,p)=>{n(a,d,p),i(a,d,p)}:n}function y(t,n){const i=t.hostBindings;t.hostBindings=i?(a,d)=>{n(a,d),i(a,d)}:n}function ln(t){const n=t.inputConfig,i={};for(const a in n)if(n.hasOwnProperty(a)){const d=n[a];Array.isArray(d)&&d[2]&&(i[a]=d[2])}t.inputTransforms=i}function Cr(t){return!!or(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function or(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function wi(t,n,i){return t[n]=i}function Di(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function co(t,n,i,a){const d=Di(t,n,i);return Di(t,n+1,a)||d}function Xi(t,n,i,a){const d=Gt();return Di(d,ma(),n)&&(Gr(),qa(Fi(),d,t,n,i,a)),Xi}function Xo(t,n,i,a){return Di(t,ma(),i)?n+Ze(i)+a:u}function As(t,n,i,a,d,p){const D=co(t,function Os(){return dr.lFrame.bindingIndex}(),i,d);return S(2),D?n+Ze(i)+a+Ze(d)+p:u}function Bm(t,n,i,a,d,p,b,D){const R=Gt(),q=Gr(),le=t+Bn,xe=q.firstCreatePass?function Kv(t,n,i,a,d,p,b,D,R){const q=n.consts,le=Me(n,t,4,b||null,Js(q,D));og(n,i,le,Js(q,R)),Uu(n,le);const xe=le.tView=Kn(2,le,a,d,p,n.directiveRegistry,n.pipeRegistry,null,n.schemas,q,null);return null!==n.queries&&(n.queries.template(n,le),xe.queries=n.queries.embeddedTView(le)),le}(le,q,R,n,i,a,d,p,b):q.data[le];Vo(xe,!1);const ct=jm(q,R,xe,t);Lu()&&ja(q,R,ct,xe),Yo(ct,R),Lh(R,R[le]=xm(ct,R,ct,xe)),Oo(xe)&&nn(q,R,xe),null!=b&&Zn(R,xe,D)}let jm=function W_(t,n,i,a){return na(!0),n[nr].createComment("")};function zm(t,n,i){const a=Gt();return Di(a,ma(),n)&&Ta(Gr(),Fi(),a,t,n,a[nr],i,!1),zm}function $m(t,n,i,a,d){const b=d?"class":"style";ds(t,i,n.inputs[b],b,a)}function bg(t,n,i,a){const d=Gt(),p=Gr(),b=Bn+t,D=d[nr],R=p.firstCreatePass?function Jv(t,n,i,a,d,p){const b=n.consts,R=Me(n,t,2,a,Js(b,d));return og(n,i,R,Js(b,p)),null!==R.attrs&&Sd(R,R.attrs,!1),null!==R.mergedAttrs&&Sd(R,R.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,R),R}(b,p,d,n,i,a):p.data[b],q=K_(p,d,R,D,n,t);d[b]=q;const le=Oo(R);return Vo(R,!0),ls(D,q,R),32!=(32&R.flags)&&Lu()&&ja(p,d,q,R),0===function Na(){return dr.lFrame.elementDepthCount}()&&Yo(q,d),function Ud(){dr.lFrame.elementDepthCount++}(),le&&(nn(p,d,R),hn(p,R,d)),null!==a&&Zn(d,R),bg}function $h(){let t=Ao();kc()?ic():(t=t.parent,Vo(t,!1));const n=t;(function Bd(t){return dr.skipHydrationRootTNode===t})(n)&&function hp(){dr.skipHydrationRootTNode=null}(),function Ru(){dr.lFrame.elementDepthCount--}();const i=Gr();return i.firstCreatePass&&(Uu(i,t),ms(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function fp(t){return 0!=(8&t.flags)}(n)&&$m(i,n,Gt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Gd(t){return 0!=(16&t.flags)}(n)&&$m(i,n,Gt(),n.stylesWithoutHost,!1),$h}function ua(t,n,i,a){return bg(t,n,i,a),$h(),ua}let K_=(t,n,i,a,d,p)=>(na(!0),hc(a,d,function ta(){return dr.lFrame.currentNamespace}()));function Zi(){return Gt()}function es(t){return!!t&&"function"==typeof t.then}function Mi(t){return!!t&&"function"==typeof t.subscribe}function ps(t,n,i,a){const d=Gt(),p=Gr(),b=Ao();return function yc(t,n,i,a,d,p,b){const D=Oo(a),q=t.firstCreatePass&&ug(t),le=n[si],xe=lg(n);let ct=!0;if(3&a.type||b){const dn=Fo(a,n),Rn=b?b(dn):dn,ar=xe.length,rn=b?ni=>b(vi(ni[a.index])):a.index;let Fr=null;if(!b&&D&&(Fr=function lp(t,n,i,a){const d=t.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const b=d[p];if(b===i&&d[p+1]===a){const D=n[Do],R=d[p+2];return D.length>R?D[R]:null}"string"==typeof b&&(p+=2)}return null}(t,n,d,a.index)),null!==Fr)(Fr.__ngLastListenerFn__||Fr).__ngNextListenerFn__=p,Fr.__ngLastListenerFn__=p,ct=!1;else{p=Zm(a,n,le,p,!1);const ni=i.listen(Rn,d,p);xe.push(p,ni),q&&q.push(d,rn,ar,ar+1)}}else p=Zm(a,n,le,p,!1);const Et=a.outputs;let zt;if(ct&&null!==Et&&(zt=Et[d])){const dn=zt.length;if(dn)for(let Rn=0;Rn<dn;Rn+=2){const to=n[zt[Rn]][zt[Rn+1]].subscribe(p),Ic=xe.length;xe.push(p,to),q&&q.push(d,a.index,Ic,-(Ic+1))}}}(p,d,d[nr],b,t,n,a),ps}function Cg(t,n,i,a){try{return cr(6,n,i),!1!==i(a)}catch(d){return us(t,d),!1}finally{cr(7,n,i)}}function Zm(t,n,i,a,d){return function p(b){if(b===Function)return a;qf(t.componentOffset>-1?Lo(t.index,n):n);let R=Cg(n,i,a,b),q=p.__ngNextListenerFn__;for(;q;)R=Cg(n,i,q,b)&&R,q=q.__ngNextListenerFn__;return d&&!1===R&&b.preventDefault(),R}}function w0(t=1){return function ks(t){return(dr.lFrame.contextLView=function oc(t,n){for(;t>0;)n=n[re],t--;return n}(t,dr.lFrame.contextLView))[si]}(t)}function SI(t,n){let i=null;const a=function wa(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(t);for(let d=0;d<n.length;d++){const p=n[d];if("*"!==p){if(null===a?ii(t,p,!0):zs(a,p))return d}else i=d}return i}function D0(t){const n=Gt()[Y][ai];if(!n.projection){const a=n.projection=Bc(t?t.length:1,null),d=a.slice();let p=n.child;for(;null!==p;){const b=t?SI(p,t):0;null!==b&&(d[b]?d[b].projectionNext=p:a[b]=p,d[b]=p),p=p.next}}}function S0(t,n=0,i){const a=Gt(),d=Gr(),p=Me(d,Bn+t,16,null,i||null);null===p.projection&&(p.projection=n),ic(),(!a[Kt]||ka())&&32!=(32&p.flags)&&function Xc(t,n,i){Op(n[nr],0,n,i,iu(t,i,n),xp(i.parent||n[ai],i,n))}(d,a,p)}function Py(t,n,i){return ey(t,"",n,"",i),Py}function ey(t,n,i,a,d){const p=Gt(),b=Xo(p,n,i,a);return b!==u&&Ta(Gr(),Fi(),p,t,b,p[nr],d,!1),ey}function ty(t,n){return t<<17|n<<2}function up(t){return t>>17&32767}function xy(t){return 2|t}function Tg(t){return(131068&t)>>2}function Ry(t,n){return-131069&t|n<<2}function Oy(t){return 1|t}function L0(t,n,i,a,d){const p=t[i+1],b=null===n;let D=a?up(p):Tg(p),R=!1;for(;0!==D&&(!1===R||b);){const le=t[D+1];NI(t[D],n)&&(R=!0,t[D+1]=a?Oy(le):xy(le)),D=a?up(le):Tg(le)}R&&(t[i+1]=a?xy(p):Oy(p))}function NI(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Hc(t,n)>=0}function Ny(t,n,i){return wu(t,n,i,!1),Ny}function ky(t,n){return wu(t,n,null,!0),ky}function wu(t,n,i,a){const d=Gt(),p=Gr(),b=S(2);p.firstUpdatePass&&function Z0(t,n,i,a){const d=t.data;if(null===d[i+1]){const p=d[Ko()],b=function $0(t,n){return n>=t.expandoStartIndex}(t,i);(function K0(t,n){return 0!=(t.flags&(n?8:16))})(p,a)&&null===n&&!b&&(n=!1),n=function zI(t,n,i,a){const d=function Ve(t){const n=dr.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let p=a?n.residualClasses:n.residualStyles;if(null===d)0===(a?n.classBindings:n.styleBindings)&&(i=Q_(i=Fy(null,t,n,i,a),n.attrs,a),p=null);else{const b=n.directiveStylingLast;if(-1===b||t[b]!==d)if(i=Fy(d,t,n,i,a),null===p){let R=function $I(t,n,i){const a=i?n.classBindings:n.styleBindings;if(0!==Tg(a))return t[up(a)]}(t,n,a);void 0!==R&&Array.isArray(R)&&(R=Fy(null,t,n,R[1],a),R=Q_(R,n.attrs,a),function ZI(t,n,i,a){t[up(i?n.classBindings:n.styleBindings)]=a}(t,n,a,R))}else p=function GI(t,n,i){let a;const d=n.directiveEnd;for(let p=1+n.directiveStylingLast;p<d;p++)a=Q_(a,t[p].hostAttrs,i);return Q_(a,n.attrs,i)}(t,n,a)}return void 0!==p&&(a?n.residualClasses=p:n.residualStyles=p),i}(d,p,n,a),function RI(t,n,i,a,d,p){let b=p?n.classBindings:n.styleBindings,D=up(b),R=Tg(b);t[a]=i;let le,q=!1;if(Array.isArray(i)?(le=i[1],(null===le||Hc(i,le)>0)&&(q=!0)):le=i,d)if(0!==R){const ct=up(t[D+1]);t[a+1]=ty(ct,D),0!==ct&&(t[ct+1]=Ry(t[ct+1],a)),t[D+1]=function PI(t,n){return 131071&t|n<<17}(t[D+1],a)}else t[a+1]=ty(D,0),0!==D&&(t[D+1]=Ry(t[D+1],a)),D=a;else t[a+1]=ty(R,0),0===D?D=a:t[R+1]=Ry(t[R+1],a),R=a;q&&(t[a+1]=xy(t[a+1])),L0(t,le,a,!0),L0(t,le,a,!1),function OI(t,n,i,a,d){const p=d?t.residualClasses:t.residualStyles;null!=p&&"string"==typeof n&&Hc(p,n)>=0&&(i[a+1]=Oy(i[a+1]))}(n,le,t,a,p),b=ty(D,R),p?n.classBindings=b:n.styleBindings=b}(d,p,n,i,b,a)}}(p,t,b,a),n!==u&&Di(d,b,n)&&function q0(t,n,i,a,d,p,b,D){if(!(3&n.type))return;const R=t.data,q=R[D+1],le=function xI(t){return 1==(1&t)}(q)?W0(R,n,i,d,Tg(q),b):void 0;ny(le)||(ny(p)||function MI(t){return 2==(2&t)}(q)&&(p=W0(R,null,i,d,D,b)),function av(t,n,i,a,d){if(n)d?t.addClass(i,a):t.removeClass(i,a);else{let p=-1===a.indexOf("-")?void 0:ed.DashCase;null==d?t.removeStyle(i,a,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=ed.Important),t.setStyle(i,a,d,p))}}(a,b,Qs(Ko(),i),d,p))}(p,p.data[Ko()],d,d[nr],t,d[b+1]=function QI(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=se(el(t)))),t}(n,i),a,b)}function Fy(t,n,i,a,d){let p=null;const b=i.directiveEnd;let D=i.directiveStylingLast;for(-1===D?D=i.directiveStart:D++;D<b&&(p=n[D],a=Q_(a,p.hostAttrs,d),p!==t);)D++;return null!==t&&(i.directiveStylingLast=D),a}function Q_(t,n,i){const a=i?1:2;let d=-1;if(null!==n)for(let p=0;p<n.length;p++){const b=n[p];"number"==typeof b?d=b:d===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),vs(t,b,!!i||n[++p]))}return void 0===t?null:t}function W0(t,n,i,a,d,p){const b=null===n;let D;for(;d>0;){const R=t[d],q=Array.isArray(R),le=q?R[1]:R,xe=null===le;let ct=i[d+1];ct===u&&(ct=xe?yn:void 0);let Et=xe?qu(ct,a):le===a?ct:void 0;if(q&&!ny(Et)&&(Et=qu(R,a)),ny(Et)&&(D=Et,b))return D;const zt=t[d+1];d=b?up(zt):Tg(zt)}if(null!==n){let R=p?n.residualClasses:n.residualStyles;null!=R&&(D=qu(R,a))}return D}function ny(t){return void 0!==t}function Q0(t,n=""){const i=Gt(),a=Gr(),d=t+Bn,p=a.firstCreatePass?Me(a,d,1,n,null):a.data[d],b=Y0(a,i,p,n,t);i[d]=b,Lu()&&ja(a,i,b,p),Vo(p,!1)}let Y0=(t,n,i,a,d)=>(na(!0),function sd(t,n){return t.createText(n)}(n[nr],a));function Ly(t){return ry("",t,""),Ly}function ry(t,n,i){const a=Gt(),d=Xo(a,t,n,i);return d!==u&&Wa(a,Ko(),d),ry}function Vy(t,n,i,a,d){const p=Gt(),b=As(p,t,n,i,a,d);return b!==u&&Wa(p,Ko(),b),Vy}const wg=void 0;var vb=["en",[["a","p"],["AM","PM"],wg],[["AM","PM"],wg,wg],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wg,"{1} 'at' {0}",wg],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function _b(t){const i=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===a?1:5}];let qm={};function Uy(t){const n=function yb(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=_E(n);if(i)return i;const a=n.split("-")[0];if(i=_E(a),i)return i;if("en"===a)return vb;throw new Ne(701,!1)}function mE(t){return Uy(t)[Wm.PluralCase]}function _E(t){return t in qm||(qm[t]=Wn.ng&&Wn.ng.common&&Wn.ng.common.locales&&Wn.ng.common.locales[t]),qm[t]}var Wm=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Wm||{});const Km="en-US";let vE=Km;function Hy(t,n,i,a,d){if(t=Re(t),Array.isArray(t))for(let p=0;p<t.length;p++)Hy(t[p],n,i,a,d);else{const p=Gr(),b=Gt(),D=Ao();let R=du(t)?t:Re(t.provide);const q=lm(t),le=1048575&D.providerIndexes,xe=D.directiveStart,ct=D.providerIndexes>>20;if(du(t)||!t.multi){const Et=new pl(q,d,P),zt=$y(R,n,d?le:le+ct,xe);-1===zt?(jr($u(D,b),p,R),zy(p,t,n.length),n.push(R),D.directiveStart++,D.directiveEnd++,d&&(D.providerIndexes+=1048576),i.push(Et),b.push(Et)):(i[zt]=Et,b[zt]=Et)}else{const Et=$y(R,n,le+ct,xe),zt=$y(R,n,le,le+ct),Rn=zt>=0&&i[zt];if(d&&!Rn||!d&&!(Et>=0&&i[Et])){jr($u(D,b),p,R);const ar=function _C(t,n,i,a,d){const p=new pl(t,i,P);return p.multi=[],p.index=n,p.componentProviders=0,zE(p,d,a&&!i),p}(d?mC:gC,i.length,d,a,q);!d&&Rn&&(i[zt].providerFactory=ar),zy(p,t,n.length,0),n.push(R),D.directiveStart++,D.directiveEnd++,d&&(D.providerIndexes+=1048576),i.push(ar),b.push(ar)}else zy(p,t,Et>-1?Et:zt,zE(i[d?zt:Et],q,!d&&a));!d&&a&&Rn&&i[zt].componentProviders++}}}function zy(t,n,i,a){const d=du(n),p=function Oi(t){return!!t.useClass}(n);if(d||p){const R=(p?Re(n.useClass):n).prototype.ngOnDestroy;if(R){const q=t.destroyHooks||(t.destroyHooks=[]);if(!d&&n.multi){const le=q.indexOf(i);-1===le?q.push(i,[a,R]):q[le+1].push(a,R)}else q.push(i,R)}}}function zE(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function $y(t,n,i,a){for(let d=i;d<a;d++)if(n[d]===t)return d;return-1}function gC(t,n,i,a){return Zy(this.multi,[])}function mC(t,n,i,a){const d=this.multi;let p;if(this.providerFactory){const b=this.providerFactory.componentProviders,D=Lc(i,i[_n],this.providerFactory.index,a);p=D.slice(0,b),Zy(d,p);for(let R=b;R<D.length;R++)p.push(D[R])}else p=[],Zy(d,p);return p}function Zy(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function $E(t,n=[]){return i=>{i.providersResolver=(a,d)=>function pC(t,n,i){const a=Gr();if(a.firstCreatePass){const d=qi(t);Hy(i,a.data,a.blueprint,d,!0),Hy(n,a.data,a.blueprint,d,!1)}}(a,d?d(t):t,n)}}class Dg{}class ZE{}function vC(t,n){return new Gy(t,n??null,[])}class Gy extends Dg{constructor(n,i,a){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new km(this);const d=Xr(n);this._bootstrapComponents=Fl(d.bootstrap),this._r3Injector=C_(n,i,[{provide:Dg,useValue:this},{provide:zf,useValue:this.componentFactoryResolver},...a],se(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class qy extends ZE{constructor(n){super(),this.moduleType=n}create(n){return new Gy(this.moduleType,n,[])}}class GE extends Dg{constructor(n){super(),this.componentFactoryResolver=new km(this),this.instance=null;const i=new hu([...n.providers,{provide:Dg,useValue:this},{provide:zf,useValue:this.componentFactoryResolver}],n.parent||Lf(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function qE(t,n,i=null){return new GE({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let EC=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const a=za(0,i.type),d=a.length>0?qE([a],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,d)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Pn({token:t,providedIn:"environment",factory:()=>new t($t(ba))})}return t})();function WE(t){t.getStandaloneInjector=n=>n.get(EC).getOrCreateStandaloneInjector(t)}function tA(t,n,i){const a=Wo()+t,d=Gt();return d[a]===u?wi(d,a,i?n.call(i):n()):function Ji(t,n){return t[n]}(d,a)}function nA(t,n,i,a){return rA(Gt(),Wo(),t,n,i,a)}function nv(t,n){const i=t[n];return i===u?void 0:i}function rA(t,n,i,a,d,p){const b=n+i;return Di(t,b,d)?wi(t,b+1,p?a.call(p,d):a(d)):nv(t,b+1)}function cA(t,n){const i=Gr();let a;const d=t+Bn;i.firstCreatePass?(a=function LC(t,n){if(n)for(let i=n.length-1;i>=0;i--){const a=n[i];if(t===a.name)return a}}(n,i.pipeRegistry),i.data[d]=a,a.onDestroy&&(i.destroyHooks??=[]).push(d,a.onDestroy)):a=i.data[d];const p=a.factory||(a.factory=rs(a.type)),D=Ar(P);try{const R=oa(!1),q=p();return oa(R),function Yv(t,n,i,a){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=a}(i,Gt(),d,q),q}finally{Ar(D)}}function lA(t,n,i){const a=t+Bn,d=Gt(),p=Ys(d,a);return rv(d,a)?rA(d,Wo(),n,p.transform,i,p):p.transform(i)}function uA(t,n,i,a){const d=t+Bn,p=Gt(),b=Ys(p,d);return rv(p,d)?function iA(t,n,i,a,d,p,b){const D=n+i;return co(t,D,d,p)?wi(t,D+2,b?a.call(b,d,p):a(d,p)):nv(t,D+2)}(p,Wo(),n,b.transform,i,a,b):b.transform(i,a)}function rv(t,n){return t[_n].data[n].pure}function jC(){return this._results[Symbol.iterator]()}class Ky{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new sl)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=Ky.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=jC)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const a=this;a.dirty=!1;const d=function ss(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function eh(t,n,i){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let d=t[a],p=n[a];if(i&&(d=i(d),p=i(p)),p!==d)return!1}return!0}(a._results,d,i))&&(a._results=d,a.length=d.length,a.last=d[this.length-1],a.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function zC(t,n,i,a=!0){const d=n[_n];if(function Zg(t,n,i,a){const d=yr+a,p=i.length;a>0&&(i[d-1][ki]=n),a<p-yr?(n[ki]=i[d],th(i,yr+a,n)):(i.push(n),n[ki]=null),n[Nr]=i;const b=n[ke];null!==b&&i!==b&&function Gg(t,n){const i=t[uo];n[Y]!==n[Nr][Nr][Y]&&(t[kr]=!0),null===i?t[uo]=[n]:i.push(n)}(b,n);const D=n[ht];null!==D&&D.insertView(t),n[Xn]|=128}(d,n,t,i),a){const p=Jc(i,t),b=n[nr],D=ad(b,t[mi]);null!==D&&function zg(t,n,i,a,d,p){a[$r]=d,a[ai]=n,Ha(t,a,i,1,d,p)}(d,t[ai],b,n,D,p)}}let iv=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=GC}return t})();const $C=iv,ZC=class extends $C{constructor(n,i,a){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,a){const d=function HC(t,n,i,a){const d=n.tView,D=he(t,d,i,4096&t[Xn]?4096:16,null,n,null,null,null,a?.injector??null,a?.hydrationInfo??null);D[ke]=t[n.index];const q=t[ht];return null!==q&&(D[ht]=q.createEmbeddedView(d)),Om(d,D,i),D}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:a});return new Md(d)}};function GC(){return cy(Ao(),Gt())}function cy(t,n){return 4&t.type?new ZC(n,t,Rh(t,n)):null}let uy=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=JC}return t})();function JC(){return _A(Ao(),Gt())}const XC=uy,gA=class extends XC{constructor(n,i,a){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=a}get element(){return Rh(this._hostTNode,this._hostLView)}get injector(){return new Po(this._hostTNode,this._hostLView)}get parentInjector(){const n=_l(this._hostTNode,this._hostLView);if(gl(n)){const i=ia(n,this._hostLView),a=Hu(n);return new Po(i[_n].data[a+8],i)}return new Po(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=mA(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-yr}createEmbeddedView(n,i,a){let d,p;"number"==typeof a?d=a:null!=a&&(d=a.index,p=a.injector);const D=n.createEmbeddedViewImpl(i||{},p,null);return this.insertImpl(D,d,false),D}createComponent(n,i,a,d,p){const b=n&&!function lc(t){return"function"==typeof t}(n);let D;if(b)D=i;else{const dn=i||{};D=dn.index,a=dn.injector,d=dn.projectableNodes,p=dn.environmentInjector||dn.ngModuleRef}const R=b?n:new Ul(qn(n)),q=a||this.parentInjector;if(!p&&null==R.ngModule){const Rn=(b?q:this.parentInjector).get(ba,null);Rn&&(p=Rn)}qn(R.componentType??{});const Et=R.create(q,d,null,p);return this.insertImpl(Et.hostView,D,false),Et}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,a){const d=n._lView;if(function Ld(t){return Ii(t[Nr])}(d)){const R=this.indexOf(n);if(-1!==R)this.detach(R);else{const q=d[Nr],le=new gA(q,q[ai],q[Nr]);le.detach(le.indexOf(n))}}const b=this._adjustIndex(i),D=this._lContainer;return zC(D,d,b,!a),n.attachToViewContainerRef(),th(Qy(D),b,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=mA(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),a=hh(this._lContainer,i);a&&(Kl(Qy(this._lContainer),i),ru(a[_n],a))}detach(n){const i=this._adjustIndex(n,-1),a=hh(this._lContainer,i);return a&&null!=Kl(Qy(this._lContainer),i)?new Md(a):null}_adjustIndex(n,i=0){return n??this.length+i}};function mA(t){return t[8]}function Qy(t){return t[8]||(t[8]=[])}function _A(t,n){let i;const a=n[t.index];return Ii(a)?i=a:(i=xm(a,n,null,t),n[t.index]=i,Lh(n,i)),vA(i,n,t,a),new gA(i,t,n)}let vA=function yA(t,n,i,a){if(t[mi])return;let d;d=8&i.type?vi(a):function eT(t,n){const i=t[nr],a=i.createComment(""),d=Fo(n,t);return Ia(i,ad(i,d),a,function cd(t,n){return t.nextSibling(n)}(i,d),!1),a}(n,i),t[mi]=d};class Yy{constructor(n){this.queryList=n,this.matches=null}clone(){return new Yy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Jy{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const a=null!==n.contentQueries?n.contentQueries[0]:i.length,d=[];for(let p=0;p<a;p++){const b=i.getByIndex(p);d.push(this.queries[b.indexInDeclarationView].clone())}return new Jy(d)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==DA(n,i).matches&&this.queries[i].setDirty()}}class EA{constructor(n,i,a=null){this.predicate=n,this.flags=i,this.read=a}}class Xy{constructor(n=[]){this.queries=n}elementStart(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let a=0;a<this.length;a++){const d=null!==i?i.length:0,p=this.getByIndex(a).embeddedTView(n,d);p&&(p.indexInDeclarationView=a,null!==i?i.push(p):i=[p])}return null!==i?new Xy(i):null}template(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class e0{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new e0(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==i;)a=a.parent;return i===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const a=this.metadata.predicate;if(Array.isArray(a))for(let d=0;d<a.length;d++){const p=a[d];this.matchTNodeWithReadOption(n,i,rT(i,p)),this.matchTNodeWithReadOption(n,i,Gl(i,n,p,!1,!1))}else a===iv?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Gl(i,n,a,!1,!1))}matchTNodeWithReadOption(n,i,a){if(null!==a){const d=this.metadata.read;if(null!==d)if(d===$f||d===uy||d===iv&&4&i.type)this.addMatch(i.index,-2);else{const p=Gl(i,n,d,!1,!1);null!==p&&this.addMatch(i.index,p)}else this.addMatch(i.index,a)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function rT(t,n){const i=t.localNames;if(null!==i)for(let a=0;a<i.length;a+=2)if(i[a]===n)return i[a+1];return null}function oT(t,n,i,a){return-1===i?function iT(t,n){return 11&t.type?Rh(t,n):4&t.type?cy(t,n):null}(n,t):-2===i?function sT(t,n,i){return i===$f?Rh(n,t):i===iv?cy(n,t):i===uy?_A(n,t):void 0}(t,n,a):Lc(t,t[_n],i,n)}function AA(t,n,i,a){const d=n[ht].queries[a];if(null===d.matches){const p=t.data,b=i.matches,D=[];for(let R=0;R<b.length;R+=2){const q=b[R];D.push(q<0?null:oT(n,p[q],b[R+1],i.metadata.read))}d.matches=D}return d.matches}function t0(t,n,i,a){const d=t.queries.getByIndex(i),p=d.matches;if(null!==p){const b=AA(t,n,d,i);for(let D=0;D<p.length;D+=2){const R=p[D];if(R>0)a.push(b[D/2]);else{const q=p[D+1],le=n[-R];for(let xe=yr;xe<le.length;xe++){const ct=le[xe];ct[ke]===ct[Nr]&&t0(ct[_n],ct,q,a)}if(null!==le[uo]){const xe=le[uo];for(let ct=0;ct<xe.length;ct++){const Et=xe[ct];t0(Et[_n],Et,q,a)}}}}}return a}function IA(t){const n=Gt(),i=Gr(),a=Dt();Mt(a+1);const d=DA(i,a);if(t.dirty&&function nc(t){return 4==(4&t[Xn])}(n)===(2==(2&d.metadata.flags))){if(null===d.matches)t.reset([]);else{const p=d.crossesNgTemplate?t0(i,n,a,[]):AA(i,n,d,a);t.reset(p,eg),t.notifyOnChanges()}return!0}return!1}function bA(t,n,i,a){const d=Gr();if(d.firstCreatePass){const p=Ao();(function wA(t,n,i){null===t.queries&&(t.queries=new Xy),t.queries.track(new e0(n,i))})(d,new EA(n,i,a),p.index),function lT(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(d,t),2==(2&i)&&(d.staticContentQueries=!0)}!function TA(t,n,i){const a=new Ky(4==(4&i));(function gt(t,n,i,a){const d=lg(n);d.push(i),t.firstCreatePass&&ug(t).push(a,d.length-1)})(t,n,a,a.destroy),null===n[ht]&&(n[ht]=new Jy),n[ht].queries.push(new Yy(a))}(d,Gt(),i)}function CA(){return function cT(t,n){return t[ht].queries[n].queryList}(Gt(),Dt())}function DA(t,n){return t.queries.getByIndex(n)}function n0(t){return!!Xr(t)}const $A=new gn("Application Initializer");let c0=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,a)=>{this.resolve=i,this.reject=a}),this.appInits=an($A,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const d of this.appInits){const p=d();if(es(p))i.push(p);else if(Mi(p)){const b=new Promise((D,R)=>{p.subscribe({complete:D,error:R})});i.push(b)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{a()}).catch(d=>{this.reject(d)}),0===i.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Pn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ZA=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Pn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const hy=new gn("LocaleId",{providedIn:"root",factory:()=>an(hy,In.Optional|In.SkipSelf)||function xT(){return typeof $localize<"u"&&$localize.locale||Km}()}),RT=new gn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let GA=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new _e.X(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Pn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class NT{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let kT=(()=>{class t{compileModuleSync(i){return new qy(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const a=this.compileModuleSync(i),p=Fl(Xr(i).declarations).reduce((b,D)=>{const R=qn(D);return R&&b.push(new Ul(R)),b},[]);return new NT(a,p)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Pn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const QA=new gn(""),YA=new gn("");let d0,rw=(()=>{class t{constructor(i,a,d){this._ngZone=i,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,d0||(function iw(t){d0=t}(d),d.addToWindow(a)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Co.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(i)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,a,d){let p=-1;a&&a>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==p),i(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:i,timeoutId:p,updateCb:d})}whenStable(i,a,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,a,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,a,d){return[]}static#e=this.\u0275fac=function(a){return new(a||t)($t(Co),$t(JA),$t(YA))};static#t=this.\u0275prov=Pn({token:t,factory:t.\u0275fac})}return t})(),JA=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,a){this._applications.set(i,a)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,a=!0){return d0?.findTestabilityInTree(this,i,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Pn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),dp=null;const XA=new gn("AllowMultipleToken"),h0=new gn("PlatformDestroyListeners"),f0=new gn("appBootstrapListener");class aw{constructor(n,i){this.name=n,this.token=i}}function nI(t,n,i=[]){const a=`Platform: ${n}`,d=new gn(a);return(p=[])=>{let b=p0();if(!b||b.injector.get(XA,!1)){const D=[...i,...p,{provide:d,useValue:!0}];t?t(D):function cw(t){if(dp&&!dp.get(XA,!1))throw new Ne(400,!1);(function eI(){!function Hl(t){Oa=t}(()=>{throw new Ne(600,!1)})})(),dp=t;const n=t.get(iI);(function tI(t){t.get(ol,null)?.forEach(i=>i())})(t)}(function rI(t=[],n){return _c.create({name:n,providers:[{provide:cm,useValue:"platform"},{provide:h0,useValue:new Set([()=>dp=null])},...t]})}(D,a))}return function uw(t){const n=p0();if(!n)throw new Ne(401,!1);return n}()}}function p0(){return dp?.get(iI)??null}let iI=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,a){const d=function dw(t="zone.js",n){return"noop"===t?new Ty:"zone.js"===t?new Co(n):t}(a?.ngZone,function oI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return d.run(()=>{const p=function yC(t,n,i){return new Gy(t,n,i)}(i.moduleType,this.injector,function uI(t){return[{provide:Co,useFactory:t},{provide:mc,multi:!0,useFactory:()=>{const n=an(fw,{optional:!0});return()=>n.initialize()}},{provide:lI,useFactory:hw},{provide:Iv,useFactory:bv}]}(()=>d)),b=p.injector.get(yu,null);return d.runOutsideAngular(()=>{const D=d.onError.subscribe({next:R=>{b.handleError(R)}});p.onDestroy(()=>{py(this._modules,p),D.unsubscribe()})}),function sI(t,n,i){try{const a=i();return es(a)?a.catch(d=>{throw n.runOutsideAngular(()=>t.handleError(d)),d}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(b,d,()=>{const D=p.injector.get(c0);return D.runInitializers(),D.donePromise.then(()=>(function yE(t){Bt(t,"Expected localeId to be defined"),"string"==typeof t&&(vE=t.toLowerCase().replace(/_/g,"-"))}(p.injector.get(hy,Km)||Km),this._moduleDoBootstrap(p),p))})})}bootstrapModule(i,a=[]){const d=aI({},a);return function ow(t,n,i){const a=new qy(i);return Promise.resolve(a)}(0,0,i).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(i){const a=i.injector.get(Jm);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(d=>a.bootstrap(d));else{if(!i.instance.ngDoBootstrap)throw new Ne(-403,!1);i.instance.ngDoBootstrap(a)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ne(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const i=this._injector.get(h0,null);i&&(i.forEach(a=>a()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)($t(_c))};static#t=this.\u0275prov=Pn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function aI(t,n){return Array.isArray(n)?n.reduce(aI,t):{...t,...n}}let Jm=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=an(lI),this.zoneIsStable=an(Iv),this.componentTypes=[],this.components=[],this.isStable=an(GA).hasPendingTasks.pipe((0,ae.w)(i=>i?(0,Ae.of)(!1):this.zoneIsStable),(0,ve.x)(),(0,de.B)()),this._injector=an(ba)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,a){const d=i instanceof Yp;if(!this._injector.get(c0).done)throw!d&&zi(i),new Ne(405,!1);let b;b=d?i:this._injector.get(zf).resolveComponentFactory(i),this.componentTypes.push(b.componentType);const D=function sw(t){return t.isBoundToModule}(b)?void 0:this._injector.get(Dg),q=b.create(_c.NULL,[],a||b.selector,D),le=q.location.nativeElement,xe=q.injector.get(QA,null);return xe?.registerApplication(le),q.onDestroy(()=>{this.detachView(q.hostView),py(this.components,q),xe?.unregisterApplication(le)}),this._loadComponent(q),q}tick(){if(this._runningTick)throw new Ne(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const a=i;this._views.push(a),a.attachToAppRef(this)}detachView(i){const a=i;py(this._views,a),a.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const a=this._injector.get(f0,[]);a.push(...this._bootstrapListeners),a.forEach(d=>d(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>py(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Ne(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Pn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function py(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const lI=new gn("",{providedIn:"root",factory:()=>an(yu).handleError.bind(void 0)});function hw(){const t=an(Co),n=an(yu);return i=>t.runOutsideAngular(()=>n.handleError(i))}let fw=(()=>{class t{constructor(){this.zone=an(Co),this.applicationRef=an(Jm)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Pn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gw(){return!1}let mw=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=_w}return t})();function _w(t){return function vw(t,n,i){if(ao(t)&&!i){const a=Lo(t.index,n);return new Md(a,a)}return 47&t.type?new Md(n[Y],n):null}(Ao(),Gt(),16==(16&t))}class pI{constructor(){}supports(n){return Cr(n)}create(n){return new Cw(n)}}const bw=(t,n)=>n;class Cw{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||bw}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,a=this._removalsHead,d=0,p=null;for(;i||a;){const b=!a||i&&i.currentIndex<mI(a,d,p)?i:a,D=mI(b,d,p),R=b.currentIndex;if(b===a)d--,a=a._nextRemoved;else if(i=i._next,null==b.previousIndex)d++;else{p||(p=[]);const q=D-d,le=R-d;if(q!=le){for(let ct=0;ct<q;ct++){const Et=ct<p.length?p[ct]:p[ct]=0,zt=Et+ct;le<=zt&&zt<q&&(p[ct]=Et+1)}p[b.previousIndex]=le-q}}D!==R&&n(b,D,R)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!Cr(n))throw new Ne(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let d,p,b,i=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let D=0;D<this.length;D++)p=n[D],b=this._trackByFn(D,p),null!==i&&Object.is(i.trackById,b)?(a&&(i=this._verifyReinsertion(i,p,b,D)),Object.is(i.item,p)||this._addIdentityChange(i,p)):(i=this._mismatch(i,p,b,D),a=!0),i=i._next}else d=0,function er(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let a;for(;!(a=i.next()).done;)n(a.value)}}(n,D=>{b=this._trackByFn(d,D),null!==i&&Object.is(i.trackById,b)?(a&&(i=this._verifyReinsertion(i,D,b,d)),Object.is(i.item,D)||this._addIdentityChange(i,D)):(i=this._mismatch(i,D,b,d),a=!0),i=i._next,d++}),this.length=d;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,a,d){let p;return null===n?p=this._itTail:(p=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,p,d)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,d))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,p,d)):n=this._addAfter(new Tw(i,a),p,d),n}_verifyReinsertion(n,i,a,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==p?n=this._reinsertAfter(p,n._prev,d):n.currentIndex!=d&&(n.currentIndex=d,this._addToMoves(n,d)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const d=n._prevRemoved,p=n._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(n,i,a),this._addToMoves(n,a),n}_moveAfter(n,i,a){return this._unlink(n),this._insertAfter(n,i,a),this._addToMoves(n,a),n}_addAfter(n,i,a){return this._insertAfter(n,i,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,a){const d=null===i?this._itHead:i._next;return n._next=d,n._prev=i,null===d?this._itTail=n:d._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new gI),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,a=n._next;return null===i?this._itHead=a:i._next=a,null===a?this._itTail=i:a._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gI),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class Tw{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ww{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===i||i<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const i=n._prevDup,a=n._nextDup;return null===i?this._head=a:i._nextDup=a,null===a?this._tail=i:a._prevDup=i,null===this._head}}class gI{constructor(){this.map=new Map}put(n){const i=n.trackById;let a=this.map.get(i);a||(a=new ww,this.map.set(i,a)),a.add(n)}get(n,i){const d=this.map.get(n);return d?d.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mI(t,n,i){const a=t.previousIndex;if(null===a)return a;let d=0;return i&&a<i.length&&(d=i[a]),a+n+d}class _I{constructor(){}supports(n){return n instanceof Map||or(n)}create(){return new Dw}}class Dw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||or(n)))throw new Ne(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,d)=>{if(i&&i.key===d)this._maybeAddToChanges(i,a),this._appendAfter=i,i=i._next;else{const p=this._getOrCreateRecordForKey(d,a);i=this._insertBeforeOrAppend(i,p)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let a=i;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const a=n._prev;return i._next=n,i._prev=a,n._prev=i,a&&(a._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const d=this._records.get(n);this._maybeAddToChanges(d,i);const p=d._prev,b=d._next;return p&&(p._next=b),b&&(b._prev=p),d._next=null,d._prev=null,d}const a=new Sw(n);return this._records.set(n,a),a.currentValue=i,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(a=>i(n[a],a))}}class Sw{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vI(){return new y0([new pI])}let y0=(()=>{class t{static#e=this.\u0275prov=Pn({token:t,providedIn:"root",factory:vI});constructor(i){this.factories=i}static create(i,a){if(null!=a){const d=a.factories.slice();i=i.concat(d)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||vI()),deps:[[t,new Ba,new $c]]}}find(i){const a=this.factories.find(d=>d.supports(i));if(null!=a)return a;throw new Ne(901,!1)}}return t})();function yI(){return new E0([new _I])}let E0=(()=>{class t{static#e=this.\u0275prov=Pn({token:t,providedIn:"root",factory:yI});constructor(i){this.factories=i}static create(i,a){if(a){const d=a.factories.slice();i=i.concat(d)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||yI()),deps:[[t,new Ba,new $c]]}}find(i){const a=this.factories.find(d=>d.supports(i));if(a)return a;throw new Ne(901,!1)}}return t})();const xw=nI(null,"core",[]);let Rw=(()=>{class t{constructor(i){}static#e=this.\u0275fac=function(a){return new(a||t)($t(Jm))};static#t=this.\u0275mod=mo({type:t});static#n=this.\u0275inj=on({})}return t})();function zw(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function Zw(t){const n=qn(t);if(!n)return null;const i=new Ul(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},7213:(sn,lt,k)=>{"use strict";k.d(lt,{zQ:()=>Ke,ww:()=>ut,rT:()=>Nt,f7:()=>Dn,L6:()=>bt,_Q:()=>Ee,lh:()=>Vt,Qv:()=>dt,nw:()=>Tt}),k(6365);var o=k(6814),U=k(5879),Se=k(1920),_e=k(7217),Ae=k(8645),de=k(2096),ae=k(5592),ve=k(2459),G=k(3019),z=k(3093),se=k(4664),be=k(7398),ye=k(4552);class De extends Ae.x{constructor(we=1/0,te=1/0,Ie=ye.l){super(),this._bufferSize=we,this._windowTime=te,this._timestampProvider=Ie,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=te===1/0,this._bufferSize=Math.max(1,we),this._windowTime=Math.max(1,te)}next(we){const{isStopped:te,_buffer:Ie,_infiniteTimeWindow:Pe,_timestampProvider:je,_windowTime:ot}=this;te||(Ie.push(we),!Pe&&Ie.push(je.now()+ot)),this._trimBuffer(),super.next(we)}_subscribe(we){this._throwIfClosed(),this._trimBuffer();const te=this._innerSubscribe(we),{_infiniteTimeWindow:Ie,_buffer:Pe}=this,je=Pe.slice();for(let ot=0;ot<je.length&&!we.closed;ot+=Ie?1:2)we.next(je[ot]);return this._checkFinalizedStatuses(we),te}_trimBuffer(){const{_bufferSize:we,_timestampProvider:te,_buffer:Ie,_infiniteTimeWindow:Pe}=this,je=(Pe?1:2)*we;if(we<1/0&&je<Ie.length&&Ie.splice(0,Ie.length-je),!Pe){const ot=te.now();let vt=0;for(let Bt=1;Bt<Ie.length&&Ie[Bt]<=ot;Bt+=2)vt=Bt;vt&&Ie.splice(0,vt+1)}}}var Re=k(3020);function Ye(Le,we,te){let Ie,Pe=!1;return Le&&"object"==typeof Le?({bufferSize:Ie=1/0,windowTime:we=1/0,refCount:Pe=!1,scheduler:te}=Le):Ie=Le??1/0,(0,Re.B)({connector:()=>new De(Ie,we,te),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Pe})}var We=k(1374),_t=k(4674);function Fe(Le,we){return(0,_t.m)(we)?(0,se.w)(()=>Le,we):(0,se.w)(()=>Le)}var Ne=k(5137),tt=k(2181),Ze=k(7142);const dt=new U.OlP("angularfire2.auth.use-emulator"),bt=new U.OlP("angularfire2.auth.settings"),Ee=new U.OlP("angularfire2.auth.tenant-id"),Nt=new U.OlP("angularfire2.auth.langugage-code"),Vt=new U.OlP("angularfire2.auth.use-device-language"),Dn=new U.OlP("angularfire.auth.persistence"),Tt=(Le,we,te,Ie,Pe,je,ot,vt)=>(0,_e.cc)(`${Le.name}.auth`,"AngularFireAuth",Le.name,()=>{const Bt=we.runOutsideAngular(()=>Le.auth());if(te&&Bt.useEmulator(...te),Ie&&(Bt.tenantId=Ie),Bt.languageCode=Pe,je&&Bt.useDeviceLanguage(),ot)for(const[Zt,Wt]of Object.entries(ot))Bt.settings[Zt]=Wt;return vt&&Bt.setPersistence(vt),Bt},[te,Ie,Pe,je,ot,vt]);let Ke=(()=>{class Le{authState;idToken;user;idTokenResult;credential;constructor(te,Ie,Pe,je,ot,vt,Bt,Zt,Wt,bn,Qn,Pn){const On=new Ae.x,on=(0,de.of)(void 0).pipe((0,z.Q)(ot.outsideAngular),(0,se.w)(()=>je.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,6365)))),(0,be.U)(()=>(0,_e.on)(te,je,Ie)),(0,be.U)(Nn=>Tt(Nn,je,vt,Zt,Wt,bn,Bt,Qn)),Ye({bufferSize:1,refCount:!1}));if((0,o.PM)(Pe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,de.of)(null);else{on.pipe((0,We.P)()).subscribe();const Nn=on.pipe((0,se.w)(Qt=>Qt.getRedirectResult().then(Hr=>Hr,()=>null)),Se.iC,Ye({bufferSize:1,refCount:!1})),pr=on.pipe((0,se.w)(Qt=>new ae.y(Hr=>({unsubscribe:je.runOutsideAngular(()=>Qt.onAuthStateChanged(xn=>Hr.next(xn),xn=>Hr.error(xn),()=>Hr.complete()))})))),Yn=on.pipe((0,se.w)(Qt=>new ae.y(Hr=>({unsubscribe:je.runOutsideAngular(()=>Qt.onIdTokenChanged(xn=>Hr.next(xn),xn=>Hr.error(xn),()=>Hr.complete()))}))));this.authState=Nn.pipe(Fe(pr),(0,Ne.R)(ot.outsideAngular),(0,z.Q)(ot.insideAngular)),this.user=Nn.pipe(Fe(Yn),(0,Ne.R)(ot.outsideAngular),(0,z.Q)(ot.insideAngular)),this.idToken=this.user.pipe((0,se.w)(Qt=>Qt?(0,ve.D)(Qt.getIdToken()):(0,de.of)(null))),this.idTokenResult=this.user.pipe((0,se.w)(Qt=>Qt?(0,ve.D)(Qt.getIdTokenResult()):(0,de.of)(null))),this.credential=(0,G.T)(Nn,On,this.authState.pipe((0,tt.h)(Qt=>!Qt))).pipe((0,be.U)(Qt=>Qt?.user?Qt:null),(0,Ne.R)(ot.outsideAngular),(0,z.Q)(ot.insideAngular))}return(0,_e.pX)(this,on,je,{spy:{apply:(Nn,pr,Yn)=>{(Nn.startsWith("signIn")||Nn.startsWith("createUser"))&&Yn.then(Qt=>On.next(Qt))}}})}static \u0275fac=function(Ie){return new(Ie||Le)(U.LFG(_e.Dh),U.LFG(_e.xv,8),U.LFG(U.Lbi),U.LFG(U.R0b),U.LFG(Se.HU),U.LFG(dt,8),U.LFG(bt,8),U.LFG(Ee,8),U.LFG(Nt,8),U.LFG(Vt,8),U.LFG(Dn,8),U.LFG(Se.Rf,8))};static \u0275prov=U.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"any"})}return Le})(),ut=(()=>{class Le{constructor(){Ze.Z.registerVersion("angularfire",Se.q4.full,"auth-compat")}static \u0275fac=function(Ie){return new(Ie||Le)};static \u0275mod=U.oAB({type:Le});static \u0275inj=U.cJS({providers:[Ke]})}return Le})()},7104:(sn,lt,k)=>{"use strict";k.d(lt,{ST:()=>ri,yb:()=>at});var f=k(6814),o=k(5879),U=k(1920),Se=k(7217),_e=k(7213),Ae=k(6321),de=k(5592),ae=k(2459),ve=k(2096),G=k(7921),z=k(9360),se=k(8251);function be(){return(0,z.e)((wt,ue)=>{let Be,xt=!1;wt.subscribe((0,se.x)(ue,tn=>{const zn=Be;Be=tn,xt&&ue.next([zn,tn]),xt=!0}))})}var ye=k(7398),De=k(6699),Re=k(3997),Ye=k(2181),_t=(k(6365),k(3106)),Fe=k(5588),Ne=k(9058),tt=k(4537);function dt(wt,ue){if(void 0===ue)return{merge:!1};if(void 0!==ue.mergeFields&&void 0!==ue.merge)throw new Fe.WA("invalid-argument",`Invalid options passed to function ${wt}(): You cannot specify both "merge" and "mergeFields".`);return ue}function bt(){if(typeof Uint8Array>"u")throw new Fe.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Ee(){if(!(0,Fe.Me)())throw new Fe.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Nt{constructor(ue){this._delegate=ue}static fromBase64String(ue){return Ee(),new Nt(Fe.Jj.fromBase64String(ue))}static fromUint8Array(ue){return bt(),new Nt(Fe.Jj.fromUint8Array(ue))}toBase64(){return Ee(),this._delegate.toBase64()}toUint8Array(){return bt(),this._delegate.toUint8Array()}isEqual(ue){return this._delegate.isEqual(ue._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Vt(wt){return function Dn(wt,ue){if("object"!=typeof wt||null===wt)return!1;const Be=wt;for(const xt of ue)if(xt in Be&&"function"==typeof Be[xt])return!0;return!1}(wt,["next","error","complete"])}class Tt{enableIndexedDbPersistence(ue,Be){return(0,Fe.ST)(ue._delegate,{forceOwnership:Be})}enableMultiTabIndexedDbPersistence(ue){return(0,Fe.fH)(ue._delegate)}clearIndexedDbPersistence(ue){return(0,Fe.Fc)(ue._delegate)}}class Ke{constructor(ue,Be,xt){this._delegate=Be,this._persistenceProvider=xt,this.INTERNAL={delete:()=>this.terminate()},ue instanceof Fe.l7||(this._appCompat=ue)}get _databaseId(){return this._delegate._databaseId}settings(ue){const Be=this._delegate._getSettings();!ue.merge&&Be.host!==ue.host&&(0,Fe.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),ue.merge&&delete(ue=Object.assign(Object.assign({},Be),ue)).merge,this._delegate._setSettings(ue)}useEmulator(ue,Be,xt={}){(0,Fe.at)(this._delegate,ue,Be,xt)}enableNetwork(){return(0,Fe.Ix)(this._delegate)}disableNetwork(){return(0,Fe.TF)(this._delegate)}enablePersistence(ue){let Be=!1,xt=!1;return ue&&(Be=!!ue.synchronizeTabs,xt=!!ue.experimentalForceOwningTab,(0,Fe.Wi)("synchronizeTabs",Be,"experimentalForceOwningTab",xt)),Be?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,xt)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Fe.Mx)(this._delegate)}onSnapshotsInSync(ue){return(0,Fe.sc)(this._delegate,ue)}get app(){if(!this._appCompat)throw new Fe.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(ue){try{return new Pn(this,(0,Fe.hJ)(this._delegate,ue))}catch(Be){throw je(Be,"collection()","Firestore.collection()")}}doc(ue){try{return new Pe(this,(0,Fe.JU)(this._delegate,ue))}catch(Be){throw je(Be,"doc()","Firestore.doc()")}}collectionGroup(ue){try{return new Wt(this,(0,Fe.B$)(this._delegate,ue))}catch(Be){throw je(Be,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(ue){return(0,Fe.i3)(this._delegate,Be=>ue(new we(this,Be)))}batch(){return(0,Fe.qY)(this._delegate),new te(new Fe.PU(this._delegate,ue=>(0,Fe.GL)(this._delegate,ue)))}loadBundle(ue){return(0,Fe.Pb)(this._delegate,ue)}namedQuery(ue){return(0,Fe.L$)(this._delegate,ue).then(Be=>Be?new Wt(this,Be):null)}}class ut extends Fe.u7{constructor(ue){super(),this.firestore=ue}convertBytes(ue){return new Nt(new Fe.Jj(ue))}convertReference(ue){const Be=this.convertDocumentKey(ue,this.firestore._databaseId);return Pe.forKey(Be,this.firestore,null)}}class we{constructor(ue,Be){this._firestore=ue,this._delegate=Be,this._userDataWriter=new ut(ue)}get(ue){const Be=On(ue);return this._delegate.get(Be).then(xt=>new Bt(this._firestore,new Fe.xU(this._firestore._delegate,this._userDataWriter,xt._key,xt._document,xt.metadata,Be.converter)))}set(ue,Be,xt){const tn=On(ue);return xt?(dt("Transaction.set",xt),this._delegate.set(tn,Be,xt)):this._delegate.set(tn,Be),this}update(ue,Be,xt,...tn){const zn=On(ue);return 2===arguments.length?this._delegate.update(zn,Be):this._delegate.update(zn,Be,xt,...tn),this}delete(ue){const Be=On(ue);return this._delegate.delete(Be),this}}class te{constructor(ue){this._delegate=ue}set(ue,Be,xt){const tn=On(ue);return xt?(dt("WriteBatch.set",xt),this._delegate.set(tn,Be,xt)):this._delegate.set(tn,Be),this}update(ue,Be,xt,...tn){const zn=On(ue);return 2===arguments.length?this._delegate.update(zn,Be):this._delegate.update(zn,Be,xt,...tn),this}delete(ue){const Be=On(ue);return this._delegate.delete(Be),this}commit(){return this._delegate.commit()}}class Ie{constructor(ue,Be,xt){this._firestore=ue,this._userDataWriter=Be,this._delegate=xt}fromFirestore(ue,Be){const xt=new Fe.$q(this._firestore._delegate,this._userDataWriter,ue._key,ue._document,ue.metadata,null);return this._delegate.fromFirestore(new Zt(this._firestore,xt),Be??{})}toFirestore(ue,Be){return Be?this._delegate.toFirestore(ue,Be):this._delegate.toFirestore(ue)}static getInstance(ue,Be){const xt=Ie.INSTANCES;let tn=xt.get(ue);tn||(tn=new WeakMap,xt.set(ue,tn));let zn=tn.get(Be);return zn||(zn=new Ie(ue,new ut(ue),Be),tn.set(Be,zn)),zn}}Ie.INSTANCES=new WeakMap;class Pe{constructor(ue,Be){this.firestore=ue,this._delegate=Be,this._userDataWriter=new ut(ue)}static forPath(ue,Be,xt){if(ue.length%2!=0)throw new Fe.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${ue.canonicalString()} has ${ue.length}`);return new Pe(Be,new Fe.my(Be._delegate,xt,new Fe.Ky(ue)))}static forKey(ue,Be,xt){return new Pe(Be,new Fe.my(Be._delegate,xt,ue))}get id(){return this._delegate.id}get parent(){return new Pn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(ue){try{return new Pn(this.firestore,(0,Fe.hJ)(this._delegate,ue))}catch(Be){throw je(Be,"collection()","DocumentReference.collection()")}}isEqual(ue){return(ue=(0,Ne.m9)(ue))instanceof Fe.my&&(0,Fe.Eo)(this._delegate,ue)}set(ue,Be){Be=dt("DocumentReference.set",Be);try{return Be?(0,Fe.pl)(this._delegate,ue,Be):(0,Fe.pl)(this._delegate,ue)}catch(xt){throw je(xt,"setDoc()","DocumentReference.set()")}}update(ue,Be,...xt){try{return 1===arguments.length?(0,Fe.r7)(this._delegate,ue):(0,Fe.r7)(this._delegate,ue,Be,...xt)}catch(tn){throw je(tn,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Fe.oe)(this._delegate)}onSnapshot(...ue){const Be=ot(ue),xt=vt(ue,tn=>new Bt(this.firestore,new Fe.xU(this.firestore._delegate,this._userDataWriter,tn._key,tn._document,tn.metadata,this._delegate.converter)));return(0,Fe.cf)(this._delegate,Be,xt)}get(ue){let Be;return Be="cache"===ue?.source?(0,Fe.kl)(this._delegate):"server"===ue?.source?(0,Fe.Xk)(this._delegate):(0,Fe.QT)(this._delegate),Be.then(xt=>new Bt(this.firestore,new Fe.xU(this.firestore._delegate,this._userDataWriter,xt._key,xt._document,xt.metadata,this._delegate.converter)))}withConverter(ue){return new Pe(this.firestore,this._delegate.withConverter(ue?Ie.getInstance(this.firestore,ue):null))}}function je(wt,ue,Be){return wt.message=wt.message.replace(ue,Be),wt}function ot(wt){for(const ue of wt)if("object"==typeof ue&&!Vt(ue))return ue;return{}}function vt(wt,ue){var Be,xt;let tn;return tn=Vt(wt[0])?wt[0]:Vt(wt[1])?wt[1]:"function"==typeof wt[0]?{next:wt[0],error:wt[1],complete:wt[2]}:{next:wt[1],error:wt[2],complete:wt[3]},{next:zn=>{tn.next&&tn.next(ue(zn))},error:null===(Be=tn.error)||void 0===Be?void 0:Be.bind(tn),complete:null===(xt=tn.complete)||void 0===xt?void 0:xt.bind(tn)}}class Bt{constructor(ue,Be){this._firestore=ue,this._delegate=Be}get ref(){return new Pe(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(ue){return this._delegate.data(ue)}get(ue,Be){return this._delegate.get(ue,Be)}isEqual(ue){return(0,Fe.qK)(this._delegate,ue._delegate)}}class Zt extends Bt{data(ue){const Be=this._delegate.data(ue);return this._delegate._converter||(0,Fe.K9)(void 0!==Be,"Document in a QueryDocumentSnapshot should exist"),Be}}class Wt{constructor(ue,Be){this.firestore=ue,this._delegate=Be,this._userDataWriter=new ut(ue)}where(ue,Be,xt){try{return new Wt(this.firestore,(0,Fe.IO)(this._delegate,(0,Fe.ar)(ue,Be,xt)))}catch(tn){throw je(tn,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(ue,Be){try{return new Wt(this.firestore,(0,Fe.IO)(this._delegate,(0,Fe.Xo)(ue,Be)))}catch(xt){throw je(xt,/(orderBy|where)\(\)/,"Query.$1()")}}limit(ue){try{return new Wt(this.firestore,(0,Fe.IO)(this._delegate,(0,Fe.b9)(ue)))}catch(Be){throw je(Be,"limit()","Query.limit()")}}limitToLast(ue){try{return new Wt(this.firestore,(0,Fe.IO)(this._delegate,(0,Fe.vh)(ue)))}catch(Be){throw je(Be,"limitToLast()","Query.limitToLast()")}}startAt(...ue){try{return new Wt(this.firestore,(0,Fe.IO)(this._delegate,(0,Fe.e0)(...ue)))}catch(Be){throw je(Be,"startAt()","Query.startAt()")}}startAfter(...ue){try{return new Wt(this.firestore,(0,Fe.IO)(this._delegate,(0,Fe.TQ)(...ue)))}catch(Be){throw je(Be,"startAfter()","Query.startAfter()")}}endBefore(...ue){try{return new Wt(this.firestore,(0,Fe.IO)(this._delegate,(0,Fe.Lx)(...ue)))}catch(Be){throw je(Be,"endBefore()","Query.endBefore()")}}endAt(...ue){try{return new Wt(this.firestore,(0,Fe.IO)(this._delegate,(0,Fe.Wu)(...ue)))}catch(Be){throw je(Be,"endAt()","Query.endAt()")}}isEqual(ue){return(0,Fe.iE)(this._delegate,ue._delegate)}get(ue){let Be;return Be="cache"===ue?.source?(0,Fe.UQ)(this._delegate):"server"===ue?.source?(0,Fe.zN)(this._delegate):(0,Fe.PL)(this._delegate),Be.then(xt=>new Qn(this.firestore,new Fe.W(this.firestore._delegate,this._userDataWriter,this._delegate,xt._snapshot)))}onSnapshot(...ue){const Be=ot(ue),xt=vt(ue,tn=>new Qn(this.firestore,new Fe.W(this.firestore._delegate,this._userDataWriter,this._delegate,tn._snapshot)));return(0,Fe.cf)(this._delegate,Be,xt)}withConverter(ue){return new Wt(this.firestore,this._delegate.withConverter(ue?Ie.getInstance(this.firestore,ue):null))}}class bn{constructor(ue,Be){this._firestore=ue,this._delegate=Be}get type(){return this._delegate.type}get doc(){return new Zt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Qn{constructor(ue,Be){this._firestore=ue,this._delegate=Be}get query(){return new Wt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(ue=>new Zt(this._firestore,ue))}docChanges(ue){return this._delegate.docChanges(ue).map(Be=>new bn(this._firestore,Be))}forEach(ue,Be){this._delegate.forEach(xt=>{ue.call(Be,new Zt(this._firestore,xt))})}isEqual(ue){return(0,Fe.qK)(this._delegate,ue._delegate)}}class Pn extends Wt{constructor(ue,Be){super(ue,Be),this.firestore=ue,this._delegate=Be}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const ue=this._delegate.parent;return ue?new Pe(this.firestore,ue):null}doc(ue){try{return new Pe(this.firestore,void 0===ue?(0,Fe.JU)(this._delegate):(0,Fe.JU)(this._delegate,ue))}catch(Be){throw je(Be,"doc()","CollectionReference.doc()")}}add(ue){return(0,Fe.ET)(this._delegate,ue).then(Be=>new Pe(this.firestore,Be))}isEqual(ue){return(0,Fe.Eo)(this._delegate,ue._delegate)}withConverter(ue){return new Pn(this.firestore,this._delegate.withConverter(ue?Ie.getInstance(this.firestore,ue):null))}}function On(wt){return(0,Fe.Cf)(wt,Fe.my)}class on{constructor(...ue){this._delegate=new Fe.Lz(...ue)}static documentId(){return new on(Fe.Xb.keyField().canonicalString())}isEqual(ue){return(ue=(0,Ne.m9)(ue))instanceof Fe.Lz&&this._delegate._internalPath.isEqual(ue._internalPath)}}class Nn{constructor(ue){this._delegate=ue}static serverTimestamp(){const ue=(0,Fe.Bt)();return ue._methodName="FieldValue.serverTimestamp",new Nn(ue)}static delete(){const ue=(0,Fe.AK)();return ue._methodName="FieldValue.delete",new Nn(ue)}static arrayUnion(...ue){const Be=(0,Fe.vr)(...ue);return Be._methodName="FieldValue.arrayUnion",new Nn(Be)}static arrayRemove(...ue){const Be=(0,Fe.Ab)(...ue);return Be._methodName="FieldValue.arrayRemove",new Nn(Be)}static increment(ue){const Be=(0,Fe.nP)(ue);return Be._methodName="FieldValue.increment",new Nn(Be)}isEqual(ue){return this._delegate.isEqual(ue._delegate)}}const pr={Firestore:Ke,GeoPoint:Fe.F8,Timestamp:Fe.EK,Blob:Nt,Transaction:we,WriteBatch:te,DocumentReference:Pe,DocumentSnapshot:Bt,Query:Wt,QueryDocumentSnapshot:Zt,QuerySnapshot:Qn,CollectionReference:Pn,FieldPath:on,FieldValue:Nn,setLogLevel:function Le(wt){(0,Fe.Ub)(wt)},CACHE_SIZE_UNLIMITED:Fe.IX};!function Qt(wt){(function Yn(wt,ue){wt.INTERNAL.registerComponent(new tt.wA("firestore-compat",Be=>{const xt=Be.getProvider("app-compat").getImmediate(),tn=Be.getProvider("firestore").getImmediate();return ue(xt,tn)},"PUBLIC").setServiceProps(Object.assign({},pr)))})(wt,(ue,Be)=>new Ke(ue,Be,new Tt)),wt.registerVersion("@firebase/firestore-compat","0.3.32")}(_t.Z);var Hr=k(7142);function Rr(wt,ue){return function xn(wt,ue=Ae.z){return new de.y(Be=>{let xt;return null!=ue?ue.schedule(()=>{xt=wt.onSnapshot({includeMetadataChanges:!0},Be)}):xt=wt.onSnapshot({includeMetadataChanges:!0},Be),()=>{xt?.()}})}(wt,ue)}function Yt(wt,ue){return Rr(wt,ue).pipe((0,ye.U)(Be=>({payload:Be,type:"query"})))}class In{ref;afs;constructor(ue,Be){this.ref=ue,this.afs=Be}set(ue,Be){return this.ref.set(ue,Be)}update(ue){return this.ref.update(ue)}delete(){return this.ref.delete()}collection(ue,Be){const xt=this.ref.collection(ue),{ref:tn,query:zn}=Mr(xt,Be);return new Yr(tn,zn,this.afs)}snapshotChanges(){return function rr(wt,ue){return Rr(wt,ue).pipe((0,G.O)(void 0),be(),(0,ye.U)(Be=>{const[xt,tn]=Be;return tn.exists?xt?.exists?{payload:tn,type:"modified"}:{payload:tn,type:"added"}:{payload:tn,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(U.iC)}valueChanges(ue={}){return this.snapshotChanges().pipe((0,ye.U)(({payload:Be})=>ue.idField?{...Be.data(),[ue.idField]:Be.id}:Be.data()))}get(ue){return(0,ae.D)(this.ref.get(ue)).pipe(U.iC)}}function Un(wt,ue){return Yt(wt,ue).pipe((0,G.O)(void 0),be(),(0,ye.U)(Be=>{const[xt,tn]=Be,zn=tn.payload.docChanges(),hi=zn.map(wr=>({type:wr.type,payload:wr}));return xt&&JSON.stringify(xt.payload.metadata)!==JSON.stringify(tn.payload.metadata)&&tn.payload.docs.forEach((wr,qe)=>{const ce=zn.find(H=>H.doc.ref.isEqual(wr.ref)),K=xt?.payload.docs.find(H=>H.ref.isEqual(wr.ref));ce&&JSON.stringify(ce.doc.metadata)===JSON.stringify(wr.metadata)||!ce&&K&&JSON.stringify(K.metadata)===JSON.stringify(wr.metadata)||hi.push({type:"modified",payload:{oldIndex:qe,newIndex:qe,type:"modified",doc:wr}})}),hi}))}function Hn(wt,ue,Be){return Un(wt,Be).pipe((0,De.R)((xt,tn)=>function Ar(wt,ue,Be){return ue.forEach(xt=>{Be.indexOf(xt.type)>-1&&(wt=function Gn(wt,ue){switch(ue.type){case"added":if(!wt[ue.newIndex]||!wt[ue.newIndex].doc.ref.isEqual(ue.doc.ref))return Tr(wt,ue.newIndex,0,ue);break;case"modified":if(null==wt[ue.oldIndex]||wt[ue.oldIndex].doc.ref.isEqual(ue.doc.ref)){if(ue.oldIndex!==ue.newIndex){const Be=wt.slice();return Be.splice(ue.oldIndex,1),Be.splice(ue.newIndex,0,ue),Be}return Tr(wt,ue.newIndex,1,ue)}break;case"removed":if(wt[ue.oldIndex]&&wt[ue.oldIndex].doc.ref.isEqual(ue.doc.ref))return Tr(wt,ue.oldIndex,1)}return wt}(wt,xt))}),wt}(xt,tn.map(zn=>zn.payload),ue),[]),(0,Re.x)(),(0,ye.U)(xt=>xt.map(tn=>({type:tn.type,payload:tn}))))}function Tr(wt,ue,Be,...xt){const tn=wt.slice();return tn.splice(ue,Be,...xt),tn}function Wn(wt){return(!wt||0===wt.length)&&(wt=["added","removed","modified"]),wt}class Yr{ref;query;afs;constructor(ue,Be,xt){this.ref=ue,this.query=Be,this.afs=xt}stateChanges(ue){let Be=Un(this.query,this.afs.schedulers.outsideAngular);return ue&&ue.length>0&&(Be=Be.pipe((0,ye.U)(xt=>xt.filter(tn=>ue.indexOf(tn.type)>-1)))),Be.pipe((0,G.O)(void 0),be(),(0,Ye.h)(([xt,tn])=>tn.length>0||!xt),(0,ye.U)(([,xt])=>xt),U.iC)}auditTrail(ue){return this.stateChanges(ue).pipe((0,De.R)((Be,xt)=>[...Be,...xt],[]))}snapshotChanges(ue){const Be=Wn(ue);return Hn(this.query,Be,this.afs.schedulers.outsideAngular).pipe(U.iC)}valueChanges(ue={}){return Yt(this.query,this.afs.schedulers.outsideAngular).pipe((0,ye.U)(Be=>Be.payload.docs.map(xt=>ue.idField?{...xt.data(),[ue.idField]:xt.id}:xt.data())),U.iC)}get(ue){return(0,ae.D)(this.query.get(ue)).pipe(U.iC)}add(ue){return this.ref.add(ue)}doc(ue){return new In(this.ref.doc(ue),this.afs)}}class yi{query;afs;constructor(ue,Be){this.query=ue,this.afs=Be}stateChanges(ue){return ue&&0!==ue.length?Un(this.query,this.afs.schedulers.outsideAngular).pipe((0,ye.U)(Be=>Be.filter(xt=>ue.indexOf(xt.type)>-1)),(0,Ye.h)(Be=>Be.length>0),U.iC):Un(this.query,this.afs.schedulers.outsideAngular).pipe(U.iC)}auditTrail(ue){return this.stateChanges(ue).pipe((0,De.R)((Be,xt)=>[...Be,...xt],[]))}snapshotChanges(ue){const Be=Wn(ue);return Hn(this.query,Be,this.afs.schedulers.outsideAngular).pipe(U.iC)}valueChanges(ue={}){return Yt(this.query,this.afs.schedulers.outsideAngular).pipe((0,ye.U)(xt=>xt.payload.docs.map(tn=>ue.idField?{[ue.idField]:tn.id,...tn.data()}:tn.data())),U.iC)}get(ue){return(0,ae.D)(this.query.get(ue)).pipe(U.iC)}}const gn=new o.OlP("angularfire2.enableFirestorePersistence"),Ur=new o.OlP("angularfire2.firestore.persistenceSettings"),sr=new o.OlP("angularfire2.firestore.settings"),Or=new o.OlP("angularfire2.firestore.use-emulator");function Mr(wt,ue=(Be=>Be)){return{query:ue(wt),ref:wt}}let ri=(()=>{class wt{schedulers;firestore;persistenceEnabled$;constructor(Be,xt,tn,zn,hi,wr,qe,ce,K,H,B,Te,Xe,kt,$t,mn,an){this.schedulers=qe;const fn=(0,Se.on)(Be,wr,xt),Jn=K;H&&(0,_e.nw)(fn,wr,B,Xe,kt,$t,Te,mn),[this.firestore,this.persistenceEnabled$]=(0,Se.cc)(`${fn.name}.firestore`,"AngularFirestore",fn.name,()=>{const Je=wr.runOutsideAngular(()=>fn.firestore());if(zn&&Je.settings(zn),Jn&&Je.useEmulator(...Jn),tn&&!(0,f.PM)(hi)){const He=()=>{try{return(0,ae.D)(Je.enablePersistence(ce||void 0).then(()=>!0,()=>!1))}catch(nt){return typeof console<"u"&&console.warn(nt),(0,ve.of)(!1)}};return[Je,wr.runOutsideAngular(He)]}return[Je,(0,ve.of)(!1)]},[zn,Jn,tn])}collection(Be,xt){let tn;tn="string"==typeof Be?this.firestore.collection(Be):Be;const{ref:zn,query:hi}=Mr(tn,xt),wr=this.schedulers.ngZone.run(()=>zn);return new Yr(wr,hi,this)}collectionGroup(Be,xt){const tn=xt||(hi=>hi),zn=this.firestore.collectionGroup(Be);return new yi(tn(zn),this)}doc(Be){let xt;xt="string"==typeof Be?this.firestore.doc(Be):Be;const tn=this.schedulers.ngZone.run(()=>xt);return new In(tn,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(xt){return new(xt||wt)(o.LFG(Se.Dh),o.LFG(Se.xv,8),o.LFG(gn,8),o.LFG(sr,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(U.HU),o.LFG(Ur,8),o.LFG(Or,8),o.LFG(_e.zQ,8),o.LFG(_e.Qv,8),o.LFG(_e.L6,8),o.LFG(_e._Q,8),o.LFG(_e.rT,8),o.LFG(_e.lh,8),o.LFG(_e.f7,8),o.LFG(U.Rf,8))};static \u0275prov=o.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"any"})}return wt})(),at=(()=>{class wt{constructor(){Hr.Z.registerVersion("angularfire",U.q4.full,"fst-compat")}static enablePersistence(Be){return{ngModule:wt,providers:[{provide:gn,useValue:!0},{provide:Ur,useValue:Be}]}}static \u0275fac=function(xt){return new(xt||wt)};static \u0275mod=o.oAB({type:wt});static \u0275inj=o.cJS({providers:[ri]})}return wt})()},243:(sn,lt,k)=>{"use strict";k.d(lt,{Q1:()=>Ke,TE:()=>we});var f=k(1920),o=k(5592),U=k(2096),Se=k(2459),_e=k(3620),Ae=k(7398),de=k(4664),ae=k(5879),ve=k(7217),G=k(3106),z=k(8153),se=k(4537);class be{constructor(Ie,Pe,je){this._delegate=Ie,this.task=Pe,this.ref=je}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class ye{constructor(Ie,Pe){this._delegate=Ie,this._ref=Pe,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new be(this._delegate.snapshot,this,this._ref)}then(Ie,Pe){return this._delegate.then(je=>{if(Ie)return Ie(new be(je,this,this._ref))},Pe)}on(Ie,Pe,je,ot){let vt;return Pe&&(vt="function"==typeof Pe?Bt=>Pe(new be(Bt,this,this._ref)):{next:Pe.next?Bt=>Pe.next(new be(Bt,this,this._ref)):void 0,complete:Pe.complete||void 0,error:Pe.error||void 0}),this._delegate.on(Ie,vt,je||void 0,ot||void 0)}}class De{constructor(Ie,Pe){this._delegate=Ie,this._service=Pe}get prefixes(){return this._delegate.prefixes.map(Ie=>new Re(Ie,this._service))}get items(){return this._delegate.items.map(Ie=>new Re(Ie,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Re{constructor(Ie,Pe){this._delegate=Ie,this.storage=Pe}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(Ie){const Pe=(0,z.g6)(this._delegate,Ie);return new Re(Pe,this.storage)}get root(){return new Re(this._delegate.root,this.storage)}get parent(){const Ie=this._delegate.parent;return null==Ie?null:new Re(Ie,this.storage)}put(Ie,Pe){return this._throwIfRoot("put"),new ye((0,z.B0)(this._delegate,Ie,Pe),this)}putString(Ie,Pe=z.bm.RAW,je){this._throwIfRoot("putString");const ot=(0,z.qm)(Pe,Ie),vt=Object.assign({},je);return null==vt.contentType&&null!=ot.contentType&&(vt.contentType=ot.contentType),new ye(new z.IX(this._delegate,new z.UJ(ot.data,!0),vt),this)}listAll(){return(0,z.aF)(this._delegate).then(Ie=>new De(Ie,this.storage))}list(Ie){return(0,z.pb)(this._delegate,Ie||void 0).then(Pe=>new De(Pe,this.storage))}getMetadata(){return(0,z.sd)(this._delegate)}updateMetadata(Ie){return(0,z.Ym)(this._delegate,Ie)}getDownloadURL(){return(0,z.Jt)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,z.oq)(this._delegate)}_throwIfRoot(Ie){if(""===this._delegate._location.path)throw(0,z.y4)(Ie)}}class Ye{constructor(Ie,Pe){this.app=Ie,this._delegate=Pe}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(Ie){if(We(Ie))throw(0,z.gH)("ref() expected a child path but got a URL, use refFromURL instead.");return new Re((0,z.iH)(this._delegate,Ie),this)}refFromURL(Ie){if(!We(Ie))throw(0,z.gH)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{z.gE.makeFromUrl(Ie,this._delegate.host)}catch{throw(0,z.gH)("refFromUrl() expected a valid full URL but got an invalid one.")}return new Re((0,z.iH)(this._delegate,Ie),this)}setMaxUploadRetryTime(Ie){this._delegate.maxUploadRetryTime=Ie}setMaxOperationRetryTime(Ie){this._delegate.maxOperationRetryTime=Ie}useEmulator(Ie,Pe,je={}){(0,z.a1)(this._delegate,Ie,Pe,je)}}function We(te){return/^[A-Za-z]+:\/\//.test(te)}function tt(te,{instanceIdentifier:Ie}){const Pe=te.getProvider("app-compat").getImmediate(),je=te.getProvider("storage").getImmediate({identifier:Ie});return new Ye(Pe,je)}!function Ze(te){const Ie={TaskState:z.$Y,TaskEvent:z.FN,StringFormat:z.bm,Storage:Ye,Reference:Re};te.INTERNAL.registerComponent(new se.wA("storage-compat",tt,"PUBLIC").setServiceProps(Ie).setMultipleInstances(!0)),te.registerVersion("@firebase/storage-compat","0.3.8")}(G.Z);var Ge=k(7142);function bt(te){const Ie=function dt(te){return new o.y(Ie=>{const Pe=Bt=>Ie.next(Bt);Pe(te.snapshot);const vt=te.on("state_changed",Pe);return te.then(Bt=>{Pe(Bt),Ie.complete()},Bt=>{Pe(te.snapshot),(Bt=>{Ie.error(Bt)})(Bt)}),function(){vt()}}).pipe((0,_e.b)(0))}(te);return{task:te,then:te.then.bind(te),catch:te.catch.bind(te),pause:te.pause.bind(te),cancel:te.cancel.bind(te),resume:te.resume.bind(te),snapshotChanges:()=>Ie,percentageChanges:()=>Ie.pipe((0,Ae.U)(Pe=>Pe.bytesTransferred/Pe.totalBytes*100))}}function Ee(te){return{getDownloadURL:()=>(0,U.of)(void 0).pipe(f.fc,(0,de.w)(()=>te.getDownloadURL()),f.iC),getMetadata:()=>(0,U.of)(void 0).pipe(f.fc,(0,de.w)(()=>te.getMetadata()),f.iC),delete:()=>(0,Se.D)(te.delete()),child:Ie=>Ee(te.child(Ie)),updateMetadata:Ie=>(0,Se.D)(te.updateMetadata(Ie)),put:(Ie,Pe)=>bt(te.put(Ie,Pe)),putString:(Ie,Pe,je)=>bt(te.putString(Ie,Pe,je)),list:Ie=>(0,Se.D)(te.list(Ie)),listAll:()=>(0,Se.D)(te.listAll())}}const Nt=new ae.OlP("angularfire2.storageBucket"),Vt=new ae.OlP("angularfire2.storage.maxUploadRetryTime"),Dn=new ae.OlP("angularfire2.storage.maxOperationRetryTime"),Tt=new ae.OlP("angularfire2.storage.use-emulator");let Ke=(()=>{class te{storage;constructor(Pe,je,ot,vt,Bt,Zt,Wt,bn,Qn,Pn){const On=(0,ve.on)(Pe,Bt,je);this.storage=(0,ve.cc)(`${On.name}.storage.${ot}`,"AngularFireStorage",On.name,()=>{const on=Bt.runOutsideAngular(()=>On.storage(ot||void 0)),Nn=Qn;return Nn&&on.useEmulator(...Nn),Wt&&on.setMaxUploadRetryTime(Wt),bn&&on.setMaxOperationRetryTime(bn),on},[Wt,bn])}ref(Pe){return Ee(this.storage.ref(Pe))}refFromURL(Pe){return Ee(this.storage.refFromURL(Pe))}upload(Pe,je,ot){return Ee(this.storage.ref(Pe)).put(je,ot)}static \u0275fac=function(je){return new(je||te)(ae.LFG(ve.Dh),ae.LFG(ve.xv,8),ae.LFG(Nt,8),ae.LFG(ae.Lbi),ae.LFG(ae.R0b),ae.LFG(f.HU),ae.LFG(Vt,8),ae.LFG(Dn,8),ae.LFG(Tt,8),ae.LFG(f.Rf,8))};static \u0275prov=ae.Yz7({token:te,factory:te.\u0275fac,providedIn:"any"})}return te})(),Le=(()=>{class te{static \u0275fac=function(je){return new(je||te)};static \u0275mod=ae.oAB({type:te});static \u0275inj=ae.cJS({})}return te})(),we=(()=>{class te{constructor(){Ge.Z.registerVersion("angularfire",f.q4.full,"gcs-compat")}static \u0275fac=function(je){return new(je||te)};static \u0275mod=ae.oAB({type:te});static \u0275inj=ae.cJS({providers:[Ke],imports:[Le]})}return te})()},7217:(sn,lt,k)=>{"use strict";k.d(lt,{Dh:()=>ae,GT:()=>Ae,cc:()=>ye,hO:()=>be,on:()=>G,pX:()=>_e,xv:()=>ve});var f=k(5879),o=k(1920),U=k(7142);const Se=["ngOnDestroy"],_e=(We,_t,Fe,Ne={})=>new Proxy(We,{get:(tt,Ze)=>Fe.runOutsideAngular(()=>{if(We[Ze])return Ne?.spy?.get&&Ne.spy.get(Ze,We[Ze]),We[Ze];if(Se.indexOf(Ze)>-1)return()=>{};const Ge=_t.toPromise().then(dt=>{const bt=dt?.[Ze];return"function"==typeof bt?bt.bind(dt):bt?.then?bt.then(Ee=>Fe.run(()=>Ee)):Fe.run(()=>bt)});return new Proxy(()=>{},{get:(dt,bt)=>Ge[bt],apply:(dt,bt,Ee)=>Ge.then(Nt=>{const Vt=Nt?.(...Ee);return Ne?.spy?.apply&&Ne.spy.apply(Ze,Ee,Vt),Vt})})})}),Ae=(We,_t)=>{_t.forEach(Fe=>{Object.getOwnPropertyNames(Fe.prototype||Fe).forEach(Ne=>{Object.defineProperty(We.prototype,Ne,Object.getOwnPropertyDescriptor(Fe.prototype||Fe,Ne))})})};class de{constructor(_t){return _t}}const ae=new f.OlP("angularfire2.app.options"),ve=new f.OlP("angularfire2.app.name");function G(We,_t,Fe){const tt="object"==typeof Fe&&Fe||{};tt.name=tt.name||"string"==typeof Fe&&Fe||"[DEFAULT]";const Ge=U.Z.apps.filter(dt=>dt&&dt.name===tt.name)[0]||_t.runOutsideAngular(()=>U.Z.initializeApp(We,tt));try{if(JSON.stringify(We)!==JSON.stringify(Ge.options)){const dt=!!module.hot;z("error",`${Ge.name} Firebase App already initialized with different options${dt?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new de(Ge)}const z=(We,..._t)=>{(0,f.X6Q)()&&typeof console<"u"&&console[We](..._t)},se={provide:de,useFactory:G,deps:[ae,f.R0b,[new f.FiY,ve]]};let be=(()=>{class We{static initializeApp(Fe,Ne){return{ngModule:We,providers:[{provide:ae,useValue:Fe},{provide:ve,useValue:Ne}]}}constructor(Fe){U.Z.registerVersion("angularfire",o.q4.full,"core"),U.Z.registerVersion("angularfire",o.q4.full,"app-compat"),U.Z.registerVersion("angular",f.q4F.full,Fe.toString())}static \u0275fac=function(Ne){return new(Ne||We)(f.LFG(f.Lbi))};static \u0275mod=f.oAB({type:We});static \u0275inj=f.cJS({providers:[se]})}return We})();function ye(We,_t,Fe,Ne,tt){const[,Ze,Ge]=globalThis.\u0275AngularfireInstanceCache.find(dt=>dt[0]===We)||[];if(Ze)return function De(We,_t){try{return We.toString()===_t.toString()}catch{return We===_t}}(tt,Ge)||(Ye("error",`${_t} was already initialized on the ${Fe} Firebase App with different settings.${Re?" You may need to reload as Firebase is not HMR aware.":""}`),Ye("warn",{is:tt,was:Ge})),Ze;{const dt=Ne();return globalThis.\u0275AngularfireInstanceCache.push([We,dt,tt]),dt}}const Re=typeof module<"u"&&!!module.hot,Ye=(We,..._t)=>{(0,f.X6Q)()&&typeof console<"u"&&console[We](..._t)};globalThis.\u0275AngularfireInstanceCache||=[]},1920:(sn,lt,k)=>{"use strict";k.d(lt,{q4:()=>ye,iC:()=>Vt,fc:()=>Ee,HU:()=>Ze,Rf:()=>We,vb:()=>Ye,JM:()=>Re,u3:()=>Ke});var f=k(5879),o=k(3182),U=k(1954),_e=k(2631);const de=new class Ae extends _e.v{}(class Se extends U.o{constructor(Le,we){super(Le,we),this.scheduler=Le,this.work=we}schedule(Le,we=0){return we>0?super.schedule(Le,we):(this.delay=we,this.state=Le,this.scheduler.flush(this),this)}execute(Le,we){return we>0||this.closed?super.execute(Le,we):this._execute(Le,we)}requestAsyncId(Le,we,te=0){return null!=te&&te>0||null==te&&this.delay>0?super.requestAsyncId(Le,we,te):(Le.flush(this),0)}});var ve=k(6321),G=k(5592),z=k(9397),se=k(3093),be=k(5137);const ye=new f.GfV("ANGULARFIRE2_VERSION");function Re(ut,Le,we){if(Le){if(1===Le.length)return Le[0];const Pe=Le.filter(je=>je.app===we);if(1===Pe.length)return Pe[0]}return we.container.getProvider(ut).getImmediate({optional:!0})}const Ye=(ut,Le)=>{const we=Le?[Le]:(0,o.C6)(),te=[];return we.forEach(Ie=>{Ie.container.getProvider(ut).instances.forEach(je=>{te.includes(je)||te.push(je)})}),te};class We{constructor(){return Ye(_t)}}const _t="app-check";function Fe(){}class Ne{zone;delegate;constructor(Le,we=de){this.zone=Le,this.delegate=we}now(){return this.delegate.now()}schedule(Le,we,te){const Ie=this.zone;return this.delegate.schedule(function(je){Ie.runGuarded(()=>{Le.apply(this,[je])})},we,te)}}class tt{zone;task=null;constructor(Le){this.zone=Le}call(Le,we){const te=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fe,{},Fe,Fe)),we.pipe((0,z.b)({next:te,complete:te,error:te})).subscribe(Le).add(te)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ze=(()=>{class ut{ngZone;outsideAngular;insideAngular;constructor(we){this.ngZone=we,this.outsideAngular=we.runOutsideAngular(()=>new Ne(Zone.current)),this.insideAngular=we.run(()=>new Ne(Zone.current,ve.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(te){return new(te||ut)(f.LFG(f.R0b))};static \u0275prov=f.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"root"})}return ut})();function Ge(){const ut=globalThis.\u0275AngularFireScheduler;if(!ut)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return ut}function bt(ut){return Ge().ngZone.run(()=>ut())}function Ee(ut){return ut.pipe((0,se.Q)(Ge().outsideAngular))}function Vt(ut){return function Dn(ut){return function(we){return(we=we.lift(new tt(ut.ngZone))).pipe((0,be.R)(ut.outsideAngular),(0,se.Q)(ut.insideAngular))}}(Ge())(ut)}const Tt=(ut,Le)=>function(){const te=arguments;return Le&&setTimeout(()=>{"scheduled"===Le.state&&Le.invoke()},10),bt(()=>ut.apply(void 0,te))},Ke=(ut,Le)=>function(){let we;const te=arguments;for(let Pe=0;Pe<arguments.length;Pe++)"function"==typeof te[Pe]&&(Le&&(we||=bt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fe,{},Fe,Fe))),te[Pe]=Tt(te[Pe],we));const Ie=function dt(ut){return Ge().ngZone.runOutsideAngular(()=>ut())}(()=>ut.apply(this,te));if(!Le){if(Ie instanceof G.y){const Pe=Ge();return Ie.pipe((0,be.R)(Pe.outsideAngular),(0,se.Q)(Pe.insideAngular))}return bt(()=>Ie)}return Ie instanceof G.y?Ie.pipe(Vt):Ie instanceof Promise?bt(()=>new Promise((Pe,je)=>Ie.then(ot=>bt(()=>Pe(ot)),ot=>bt(()=>je(ot))))):"function"==typeof Ie&&we?function(){return setTimeout(()=>{we&&"scheduled"===we.state&&we.invoke()},10),Ie.apply(this,arguments)}:bt(()=>Ie)}},6223:(sn,lt,k)=>{"use strict";k.d(lt,{EJ:()=>oo,F:()=>xi,Fj:()=>ye,JJ:()=>Qt,JL:()=>Hr,Kr:()=>So,On:()=>Gi,Q7:()=>Kt,UX:()=>Zs,YN:()=>ai,_Y:()=>Ts,kI:()=>Fe,qu:()=>qi,sg:()=>Xr,u:()=>_n,u5:()=>Xa,x0:()=>io});var f=k(5879),o=k(6814),U=k(2459),Se=k(9315),_e=k(7398);let Ae=(()=>{class Q{constructor(F,ge){this._renderer=F,this._elementRef=ge,this.onChange=ze=>{},this.onTouched=()=>{}}setProperty(F,ge){this._renderer.setProperty(this._elementRef.nativeElement,F,ge)}registerOnTouched(F){this.onTouched=F}registerOnChange(F){this.onChange=F}setDisabledState(F){this.setProperty("disabled",F)}static#e=this.\u0275fac=function(ge){return new(ge||Q)(f.Y36(f.Qsj),f.Y36(f.SBq))};static#t=this.\u0275dir=f.lG2({type:Q})}return Q})(),de=(()=>{class Q extends Ae{static#e=this.\u0275fac=function(){let F;return function(ze){return(F||(F=f.n5z(Q)))(ze||Q)}}();static#t=this.\u0275dir=f.lG2({type:Q,features:[f.qOj]})}return Q})();const ae=new f.OlP("NgValueAccessor"),z={provide:ae,useExisting:(0,f.Gpc)(()=>ye),multi:!0},be=new f.OlP("CompositionEventMode");let ye=(()=>{class Q extends Ae{constructor(F,ge,ze){super(F,ge),this._compositionMode=ze,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function se(){const Q=(0,o.q)()?(0,o.q)().getUserAgent():"";return/android (\d+)/.test(Q.toLowerCase())}())}writeValue(F){this.setProperty("value",F??"")}_handleInput(F){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(F)}_compositionStart(){this._composing=!0}_compositionEnd(F){this._composing=!1,this._compositionMode&&this.onChange(F)}static#e=this.\u0275fac=function(ge){return new(ge||Q)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(be,8))};static#t=this.\u0275dir=f.lG2({type:Q,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ge,ze){1&ge&&f.NdJ("input",function(_r){return ze._handleInput(_r.target.value)})("blur",function(){return ze.onTouched()})("compositionstart",function(){return ze._compositionStart()})("compositionend",function(_r){return ze._compositionEnd(_r.target.value)})},features:[f._Bn([z]),f.qOj]})}return Q})();function De(Q){return null==Q||("string"==typeof Q||Array.isArray(Q))&&0===Q.length}function Re(Q){return null!=Q&&"number"==typeof Q.length}const Ye=new f.OlP("NgValidators"),We=new f.OlP("NgAsyncValidators"),_t=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Fe{static min(ie){return function Ne(Q){return ie=>{if(De(ie.value)||De(Q))return null;const F=parseFloat(ie.value);return!isNaN(F)&&F<Q?{min:{min:Q,actual:ie.value}}:null}}(ie)}static max(ie){return function tt(Q){return ie=>{if(De(ie.value)||De(Q))return null;const F=parseFloat(ie.value);return!isNaN(F)&&F>Q?{max:{max:Q,actual:ie.value}}:null}}(ie)}static required(ie){return Ze(ie)}static requiredTrue(ie){return function Ge(Q){return!0===Q.value?null:{required:!0}}(ie)}static email(ie){return function dt(Q){return De(Q.value)||_t.test(Q.value)?null:{email:!0}}(ie)}static minLength(ie){return function bt(Q){return ie=>De(ie.value)||!Re(ie.value)?null:ie.value.length<Q?{minlength:{requiredLength:Q,actualLength:ie.value.length}}:null}(ie)}static maxLength(ie){return function Ee(Q){return ie=>Re(ie.value)&&ie.value.length>Q?{maxlength:{requiredLength:Q,actualLength:ie.value.length}}:null}(ie)}static pattern(ie){return function Nt(Q){if(!Q)return Vt;let ie,F;return"string"==typeof Q?(F="","^"!==Q.charAt(0)&&(F+="^"),F+=Q,"$"!==Q.charAt(Q.length-1)&&(F+="$"),ie=new RegExp(F)):(F=Q.toString(),ie=Q),ge=>{if(De(ge.value))return null;const ze=ge.value;return ie.test(ze)?null:{pattern:{requiredPattern:F,actualValue:ze}}}}(ie)}static nullValidator(ie){return null}static compose(ie){return te(ie)}static composeAsync(ie){return Pe(ie)}}function Ze(Q){return De(Q.value)?{required:!0}:null}function Vt(Q){return null}function Dn(Q){return null!=Q}function Tt(Q){return(0,f.QGY)(Q)?(0,U.D)(Q):Q}function Ke(Q){let ie={};return Q.forEach(F=>{ie=null!=F?{...ie,...F}:ie}),0===Object.keys(ie).length?null:ie}function ut(Q,ie){return ie.map(F=>F(Q))}function we(Q){return Q.map(ie=>function Le(Q){return!Q.validate}(ie)?ie:F=>ie.validate(F))}function te(Q){if(!Q)return null;const ie=Q.filter(Dn);return 0==ie.length?null:function(F){return Ke(ut(F,ie))}}function Ie(Q){return null!=Q?te(we(Q)):null}function Pe(Q){if(!Q)return null;const ie=Q.filter(Dn);return 0==ie.length?null:function(F){const ge=ut(F,ie).map(Tt);return(0,Se.D)(ge).pipe((0,_e.U)(Ke))}}function je(Q){return null!=Q?Pe(we(Q)):null}function ot(Q,ie){return null===Q?[ie]:Array.isArray(Q)?[...Q,ie]:[Q,ie]}function vt(Q){return Q._rawValidators}function Bt(Q){return Q._rawAsyncValidators}function Zt(Q){return Q?Array.isArray(Q)?Q:[Q]:[]}function Wt(Q,ie){return Array.isArray(Q)?Q.includes(ie):Q===ie}function bn(Q,ie){const F=Zt(ie);return Zt(Q).forEach(ze=>{Wt(F,ze)||F.push(ze)}),F}function Qn(Q,ie){return Zt(ie).filter(F=>!Wt(Q,F))}class Pn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ie){this._rawValidators=ie||[],this._composedValidatorFn=Ie(this._rawValidators)}_setAsyncValidators(ie){this._rawAsyncValidators=ie||[],this._composedAsyncValidatorFn=je(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ie){this._onDestroyCallbacks.push(ie)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ie=>ie()),this._onDestroyCallbacks=[]}reset(ie=void 0){this.control&&this.control.reset(ie)}hasError(ie,F){return!!this.control&&this.control.hasError(ie,F)}getError(ie,F){return this.control?this.control.getError(ie,F):null}}class On extends Pn{get formDirective(){return null}get path(){return null}}class on extends Pn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Nn{constructor(ie){this._cd=ie}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Qt=(()=>{class Q extends Nn{constructor(F){super(F)}static#e=this.\u0275fac=function(ge){return new(ge||Q)(f.Y36(on,2))};static#t=this.\u0275dir=f.lG2({type:Q,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ge,ze){2&ge&&f.ekj("ng-untouched",ze.isUntouched)("ng-touched",ze.isTouched)("ng-pristine",ze.isPristine)("ng-dirty",ze.isDirty)("ng-valid",ze.isValid)("ng-invalid",ze.isInvalid)("ng-pending",ze.isPending)},features:[f.qOj]})}return Q})(),Hr=(()=>{class Q extends Nn{constructor(F){super(F)}static#e=this.\u0275fac=function(ge){return new(ge||Q)(f.Y36(On,10))};static#t=this.\u0275dir=f.lG2({type:Q,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ge,ze){2&ge&&f.ekj("ng-untouched",ze.isUntouched)("ng-touched",ze.isTouched)("ng-pristine",ze.isPristine)("ng-dirty",ze.isDirty)("ng-valid",ze.isValid)("ng-invalid",ze.isInvalid)("ng-pending",ze.isPending)("ng-submitted",ze.isSubmitted)},features:[f.qOj]})}return Q})();const Mr="VALID",ri="INVALID",at="PENDING",wt="DISABLED";function ue(Q){return(zn(Q)?Q.validators:Q)||null}function xt(Q,ie){return(zn(ie)?ie.asyncValidators:Q)||null}function zn(Q){return null!=Q&&!Array.isArray(Q)&&"object"==typeof Q}function hi(Q,ie,F){const ge=Q.controls;if(!(ie?Object.keys(ge):ge).length)throw new f.vHH(1e3,"");if(!ge[F])throw new f.vHH(1001,"")}function wr(Q,ie,F){Q._forEachChild((ge,ze)=>{if(void 0===F[ze])throw new f.vHH(1002,"")})}class qe{constructor(ie,F){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(ie),this._assignAsyncValidators(F)}get validator(){return this._composedValidatorFn}set validator(ie){this._rawValidators=this._composedValidatorFn=ie}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ie){this._rawAsyncValidators=this._composedAsyncValidatorFn=ie}get parent(){return this._parent}get valid(){return this.status===Mr}get invalid(){return this.status===ri}get pending(){return this.status==at}get disabled(){return this.status===wt}get enabled(){return this.status!==wt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ie){this._assignValidators(ie)}setAsyncValidators(ie){this._assignAsyncValidators(ie)}addValidators(ie){this.setValidators(bn(ie,this._rawValidators))}addAsyncValidators(ie){this.setAsyncValidators(bn(ie,this._rawAsyncValidators))}removeValidators(ie){this.setValidators(Qn(ie,this._rawValidators))}removeAsyncValidators(ie){this.setAsyncValidators(Qn(ie,this._rawAsyncValidators))}hasValidator(ie){return Wt(this._rawValidators,ie)}hasAsyncValidator(ie){return Wt(this._rawAsyncValidators,ie)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ie={}){this.touched=!0,this._parent&&!ie.onlySelf&&this._parent.markAsTouched(ie)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(ie=>ie.markAllAsTouched())}markAsUntouched(ie={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(F=>{F.markAsUntouched({onlySelf:!0})}),this._parent&&!ie.onlySelf&&this._parent._updateTouched(ie)}markAsDirty(ie={}){this.pristine=!1,this._parent&&!ie.onlySelf&&this._parent.markAsDirty(ie)}markAsPristine(ie={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(F=>{F.markAsPristine({onlySelf:!0})}),this._parent&&!ie.onlySelf&&this._parent._updatePristine(ie)}markAsPending(ie={}){this.status=at,!1!==ie.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!ie.onlySelf&&this._parent.markAsPending(ie)}disable(ie={}){const F=this._parentMarkedDirty(ie.onlySelf);this.status=wt,this.errors=null,this._forEachChild(ge=>{ge.disable({...ie,onlySelf:!0})}),this._updateValue(),!1!==ie.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ie,skipPristineCheck:F}),this._onDisabledChange.forEach(ge=>ge(!0))}enable(ie={}){const F=this._parentMarkedDirty(ie.onlySelf);this.status=Mr,this._forEachChild(ge=>{ge.enable({...ie,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ie.emitEvent}),this._updateAncestors({...ie,skipPristineCheck:F}),this._onDisabledChange.forEach(ge=>ge(!1))}_updateAncestors(ie){this._parent&&!ie.onlySelf&&(this._parent.updateValueAndValidity(ie),ie.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(ie){this._parent=ie}getRawValue(){return this.value}updateValueAndValidity(ie={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mr||this.status===at)&&this._runAsyncValidator(ie.emitEvent)),!1!==ie.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ie.onlySelf&&this._parent.updateValueAndValidity(ie)}_updateTreeValidity(ie={emitEvent:!0}){this._forEachChild(F=>F._updateTreeValidity(ie)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ie.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wt:Mr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ie){if(this.asyncValidator){this.status=at,this._hasOwnPendingAsyncValidator=!0;const F=Tt(this.asyncValidator(this));this._asyncValidationSubscription=F.subscribe(ge=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ge,{emitEvent:ie})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(ie,F={}){this.errors=ie,this._updateControlsErrors(!1!==F.emitEvent)}get(ie){let F=ie;return null==F||(Array.isArray(F)||(F=F.split(".")),0===F.length)?null:F.reduce((ge,ze)=>ge&&ge._find(ze),this)}getError(ie,F){const ge=F?this.get(F):this;return ge&&ge.errors?ge.errors[ie]:null}hasError(ie,F){return!!this.getError(ie,F)}get root(){let ie=this;for(;ie._parent;)ie=ie._parent;return ie}_updateControlsErrors(ie){this.status=this._calculateStatus(),ie&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(ie)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?wt:this.errors?ri:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(at)?at:this._anyControlsHaveStatus(ri)?ri:Mr}_anyControlsHaveStatus(ie){return this._anyControls(F=>F.status===ie)}_anyControlsDirty(){return this._anyControls(ie=>ie.dirty)}_anyControlsTouched(){return this._anyControls(ie=>ie.touched)}_updatePristine(ie={}){this.pristine=!this._anyControlsDirty(),this._parent&&!ie.onlySelf&&this._parent._updatePristine(ie)}_updateTouched(ie={}){this.touched=this._anyControlsTouched(),this._parent&&!ie.onlySelf&&this._parent._updateTouched(ie)}_registerOnCollectionChange(ie){this._onCollectionChange=ie}_setUpdateStrategy(ie){zn(ie)&&null!=ie.updateOn&&(this._updateOn=ie.updateOn)}_parentMarkedDirty(ie){return!ie&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ie){return null}_assignValidators(ie){this._rawValidators=Array.isArray(ie)?ie.slice():ie,this._composedValidatorFn=function Be(Q){return Array.isArray(Q)?Ie(Q):Q||null}(this._rawValidators)}_assignAsyncValidators(ie){this._rawAsyncValidators=Array.isArray(ie)?ie.slice():ie,this._composedAsyncValidatorFn=function tn(Q){return Array.isArray(Q)?je(Q):Q||null}(this._rawAsyncValidators)}}class ce extends qe{constructor(ie,F,ge){super(ue(F),xt(ge,F)),this.controls=ie,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(ie,F){return this.controls[ie]?this.controls[ie]:(this.controls[ie]=F,F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange),F)}addControl(ie,F,ge={}){this.registerControl(ie,F),this.updateValueAndValidity({emitEvent:ge.emitEvent}),this._onCollectionChange()}removeControl(ie,F={}){this.controls[ie]&&this.controls[ie]._registerOnCollectionChange(()=>{}),delete this.controls[ie],this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}setControl(ie,F,ge={}){this.controls[ie]&&this.controls[ie]._registerOnCollectionChange(()=>{}),delete this.controls[ie],F&&this.registerControl(ie,F),this.updateValueAndValidity({emitEvent:ge.emitEvent}),this._onCollectionChange()}contains(ie){return this.controls.hasOwnProperty(ie)&&this.controls[ie].enabled}setValue(ie,F={}){wr(this,0,ie),Object.keys(ie).forEach(ge=>{hi(this,!0,ge),this.controls[ge].setValue(ie[ge],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(ie,F={}){null!=ie&&(Object.keys(ie).forEach(ge=>{const ze=this.controls[ge];ze&&ze.patchValue(ie[ge],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(ie={},F={}){this._forEachChild((ge,ze)=>{ge.reset(ie?ie[ze]:null,{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this._reduceChildren({},(ie,F,ge)=>(ie[ge]=F.getRawValue(),ie))}_syncPendingControls(){let ie=this._reduceChildren(!1,(F,ge)=>!!ge._syncPendingControls()||F);return ie&&this.updateValueAndValidity({onlySelf:!0}),ie}_forEachChild(ie){Object.keys(this.controls).forEach(F=>{const ge=this.controls[F];ge&&ie(ge,F)})}_setUpControls(){this._forEachChild(ie=>{ie.setParent(this),ie._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(ie){for(const[F,ge]of Object.entries(this.controls))if(this.contains(F)&&ie(ge))return!0;return!1}_reduceValue(){return this._reduceChildren({},(F,ge,ze)=>((ge.enabled||this.disabled)&&(F[ze]=ge.value),F))}_reduceChildren(ie,F){let ge=ie;return this._forEachChild((ze,Fn)=>{ge=F(ge,ze,Fn)}),ge}_allControlsDisabled(){for(const ie of Object.keys(this.controls))if(this.controls[ie].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(ie){return this.controls.hasOwnProperty(ie)?this.controls[ie]:null}}class B extends ce{}const Xe=new f.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>kt}),kt="always";function $t(Q,ie){return[...ie.path,Q]}function mn(Q,ie,F=kt){Je(Q,ie),ie.valueAccessor.writeValue(Q.value),(Q.disabled||"always"===F)&&ie.valueAccessor.setDisabledState?.(Q.disabled),function nt(Q,ie){ie.valueAccessor.registerOnChange(F=>{Q._pendingValue=F,Q._pendingChange=!0,Q._pendingDirty=!0,"change"===Q.updateOn&&Xt(Q,ie)})}(Q,ie),function En(Q,ie){const F=(ge,ze)=>{ie.valueAccessor.writeValue(ge),ze&&ie.viewToModelUpdate(ge)};Q.registerOnChange(F),ie._registerOnDestroy(()=>{Q._unregisterOnChange(F)})}(Q,ie),function jt(Q,ie){ie.valueAccessor.registerOnTouched(()=>{Q._pendingTouched=!0,"blur"===Q.updateOn&&Q._pendingChange&&Xt(Q,ie),"submit"!==Q.updateOn&&Q.markAsTouched()})}(Q,ie),function Jn(Q,ie){if(ie.valueAccessor.setDisabledState){const F=ge=>{ie.valueAccessor.setDisabledState(ge)};Q.registerOnDisabledChange(F),ie._registerOnDestroy(()=>{Q._unregisterOnDisabledChange(F)})}}(Q,ie)}function an(Q,ie,F=!0){const ge=()=>{};ie.valueAccessor&&(ie.valueAccessor.registerOnChange(ge),ie.valueAccessor.registerOnTouched(ge)),He(Q,ie),Q&&(ie._invokeOnDestroyCallbacks(),Q._registerOnCollectionChange(()=>{}))}function fn(Q,ie){Q.forEach(F=>{F.registerOnValidatorChange&&F.registerOnValidatorChange(ie)})}function Je(Q,ie){const F=vt(Q);null!==ie.validator?Q.setValidators(ot(F,ie.validator)):"function"==typeof F&&Q.setValidators([F]);const ge=Bt(Q);null!==ie.asyncValidator?Q.setAsyncValidators(ot(ge,ie.asyncValidator)):"function"==typeof ge&&Q.setAsyncValidators([ge]);const ze=()=>Q.updateValueAndValidity();fn(ie._rawValidators,ze),fn(ie._rawAsyncValidators,ze)}function He(Q,ie){let F=!1;if(null!==Q){if(null!==ie.validator){const ze=vt(Q);if(Array.isArray(ze)&&ze.length>0){const Fn=ze.filter(_r=>_r!==ie.validator);Fn.length!==ze.length&&(F=!0,Q.setValidators(Fn))}}if(null!==ie.asyncValidator){const ze=Bt(Q);if(Array.isArray(ze)&&ze.length>0){const Fn=ze.filter(_r=>_r!==ie.asyncValidator);Fn.length!==ze.length&&(F=!0,Q.setAsyncValidators(Fn))}}}const ge=()=>{};return fn(ie._rawValidators,ge),fn(ie._rawAsyncValidators,ge),F}function Xt(Q,ie){Q._pendingDirty&&Q.markAsDirty(),Q.setValue(Q._pendingValue,{emitModelToViewChange:!1}),ie.viewToModelUpdate(Q._pendingValue),Q._pendingChange=!1}function cn(Q,ie){Je(Q,ie)}function Ln(Q,ie){if(!Q.hasOwnProperty("model"))return!1;const F=Q.model;return!!F.isFirstChange()||!Object.is(ie,F.currentValue)}function vn(Q,ie){Q._syncPendingControls(),ie.forEach(F=>{const ge=F.control;"submit"===ge.updateOn&&ge._pendingChange&&(F.viewToModelUpdate(ge._pendingValue),ge._pendingChange=!1)})}function $n(Q,ie){if(!ie)return null;let F,ge,ze;return Array.isArray(ie),ie.forEach(Fn=>{Fn.constructor===ye?F=Fn:function Vn(Q){return Object.getPrototypeOf(Q.constructor)===de}(Fn)?ge=Fn:ze=Fn}),ze||ge||F||null}const ei={provide:On,useExisting:(0,f.Gpc)(()=>xi)},ur=(()=>Promise.resolve())();let xi=(()=>{class Q extends On{constructor(F,ge,ze){super(),this.callSetDisabledState=ze,this.submitted=!1,this._directives=new Set,this.ngSubmit=new f.vpe,this.form=new ce({},Ie(F),je(ge))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(F){ur.then(()=>{const ge=this._findContainer(F.path);F.control=ge.registerControl(F.name,F.control),mn(F.control,F,this.callSetDisabledState),F.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(F)})}getControl(F){return this.form.get(F.path)}removeControl(F){ur.then(()=>{const ge=this._findContainer(F.path);ge&&ge.removeControl(F.name),this._directives.delete(F)})}addFormGroup(F){ur.then(()=>{const ge=this._findContainer(F.path),ze=new ce({});cn(ze,F),ge.registerControl(F.name,ze),ze.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(F){ur.then(()=>{const ge=this._findContainer(F.path);ge&&ge.removeControl(F.name)})}getFormGroup(F){return this.form.get(F.path)}updateModel(F,ge){ur.then(()=>{this.form.get(F.path).setValue(ge)})}setValue(F){this.control.setValue(F)}onSubmit(F){return this.submitted=!0,vn(this.form,this._directives),this.ngSubmit.emit(F),"dialog"===F?.target?.method}onReset(){this.resetForm()}resetForm(F=void 0){this.form.reset(F),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(F){return F.pop(),F.length?this.form.get(F):this.form}static#e=this.\u0275fac=function(ge){return new(ge||Q)(f.Y36(Ye,10),f.Y36(We,10),f.Y36(Xe,8))};static#t=this.\u0275dir=f.lG2({type:Q,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ge,ze){1&ge&&f.NdJ("submit",function(_r){return ze.onSubmit(_r)})("reset",function(){return ze.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([ei]),f.qOj]})}return Q})();function gi(Q,ie){const F=Q.indexOf(ie);F>-1&&Q.splice(F,1)}function lo(Q){return"object"==typeof Q&&null!==Q&&2===Object.keys(Q).length&&"value"in Q&&"disabled"in Q}const zr=class extends qe{constructor(ie=null,F,ge){super(ue(F),xt(ge,F)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ie),this._setUpdateStrategy(F),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zn(F)&&(F.nonNullable||F.initialValueIsDefault)&&(this.defaultValue=lo(ie)?ie.value:ie)}setValue(ie,F={}){this.value=this._pendingValue=ie,this._onChange.length&&!1!==F.emitModelToViewChange&&this._onChange.forEach(ge=>ge(this.value,!1!==F.emitViewToModelChange)),this.updateValueAndValidity(F)}patchValue(ie,F={}){this.setValue(ie,F)}reset(ie=this.defaultValue,F={}){this._applyFormState(ie),this.markAsPristine(F),this.markAsUntouched(F),this.setValue(this.value,F),this._pendingChange=!1}_updateValue(){}_anyControls(ie){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ie){this._onChange.push(ie)}_unregisterOnChange(ie){gi(this._onChange,ie)}registerOnDisabledChange(ie){this._onDisabledChange.push(ie)}_unregisterOnDisabledChange(ie){gi(this._onDisabledChange,ie)}_forEachChild(ie){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ie){lo(ie)?(this.value=this._pendingValue=ie.value,ie.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ie}};let ji=(()=>{class Q extends On{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return $t(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let F;return function(ze){return(F||(F=f.n5z(Q)))(ze||Q)}}();static#t=this.\u0275dir=f.lG2({type:Q,features:[f.qOj]})}return Q})();const jo={provide:on,useExisting:(0,f.Gpc)(()=>Gi)},Hi=(()=>Promise.resolve())();let Gi=(()=>{class Q extends on{constructor(F,ge,ze,Fn,_r,fo){super(),this._changeDetectorRef=_r,this.callSetDisabledState=fo,this.control=new zr,this._registered=!1,this.name="",this.update=new f.vpe,this._parent=F,this._setValidators(ge),this._setAsyncValidators(ze),this.valueAccessor=$n(0,Fn)}ngOnChanges(F){if(this._checkForErrors(),!this._registered||"name"in F){if(this._registered&&(this._checkName(),this.formDirective)){const ge=F.name.previousValue;this.formDirective.removeControl({name:ge,path:this._getPath(ge)})}this._setUpControl()}"isDisabled"in F&&this._updateDisabled(F),Ln(F,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){mn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(F){Hi.then(()=>{this.control.setValue(F,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(F){const ge=F.isDisabled.currentValue,ze=0!==ge&&(0,f.VuI)(ge);Hi.then(()=>{ze&&!this.control.disabled?this.control.disable():!ze&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(F){return this._parent?$t(F,this._parent):[F]}static#e=this.\u0275fac=function(ge){return new(ge||Q)(f.Y36(On,9),f.Y36(Ye,10),f.Y36(We,10),f.Y36(ae,10),f.Y36(f.sBO,8),f.Y36(Xe,8))};static#t=this.\u0275dir=f.lG2({type:Q,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f._Bn([jo]),f.qOj,f.TTD]})}return Q})(),Ts=(()=>{class Q{static#e=this.\u0275fac=function(ge){return new(ge||Q)};static#t=this.\u0275dir=f.lG2({type:Q,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return Q})(),mo=(()=>{class Q{static#e=this.\u0275fac=function(ge){return new(ge||Q)};static#t=this.\u0275mod=f.oAB({type:Q});static#n=this.\u0275inj=f.cJS({})}return Q})();const qn=new f.OlP("NgModelWithFormControlWarning"),zi={provide:On,useExisting:(0,f.Gpc)(()=>Xr)};let Xr=(()=>{class Q extends On{constructor(F,ge,ze){super(),this.callSetDisabledState=ze,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(F),this._setAsyncValidators(ge)}ngOnChanges(F){this._checkFormPresent(),F.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(He(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(F){const ge=this.form.get(F.path);return mn(ge,F,this.callSetDisabledState),ge.updateValueAndValidity({emitEvent:!1}),this.directives.push(F),ge}getControl(F){return this.form.get(F.path)}removeControl(F){an(F.control||null,F,!1),function Pr(Q,ie){const F=Q.indexOf(ie);F>-1&&Q.splice(F,1)}(this.directives,F)}addFormGroup(F){this._setUpFormContainer(F)}removeFormGroup(F){this._cleanUpFormContainer(F)}getFormGroup(F){return this.form.get(F.path)}addFormArray(F){this._setUpFormContainer(F)}removeFormArray(F){this._cleanUpFormContainer(F)}getFormArray(F){return this.form.get(F.path)}updateModel(F,ge){this.form.get(F.path).setValue(ge)}onSubmit(F){return this.submitted=!0,vn(this.form,this.directives),this.ngSubmit.emit(F),"dialog"===F?.target?.method}onReset(){this.resetForm()}resetForm(F=void 0){this.form.reset(F),this.submitted=!1}_updateDomValue(){this.directives.forEach(F=>{const ge=F.control,ze=this.form.get(F.path);ge!==ze&&(an(ge||null,F),(Q=>Q instanceof zr)(ze)&&(mn(ze,F,this.callSetDisabledState),F.control=ze))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(F){const ge=this.form.get(F.path);cn(ge,F),ge.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(F){if(this.form){const ge=this.form.get(F.path);ge&&function hr(Q,ie){return He(Q,ie)}(ge,F)&&ge.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Je(this.form,this),this._oldForm&&He(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(ge){return new(ge||Q)(f.Y36(Ye,10),f.Y36(We,10),f.Y36(Xe,8))};static#t=this.\u0275dir=f.lG2({type:Q,selectors:[["","formGroup",""]],hostBindings:function(ge,ze){1&ge&&f.NdJ("submit",function(_r){return ze.onSubmit(_r)})("reset",function(){return ze.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([zi]),f.qOj,f.TTD]})}return Q})();const ro={provide:On,useExisting:(0,f.Gpc)(()=>io)};let io=(()=>{class Q extends ji{constructor(F,ge,ze){super(),this.name=null,this._parent=F,this._setValidators(ge),this._setAsyncValidators(ze)}_checkParentType(){Ho(this._parent)}static#e=this.\u0275fac=function(ge){return new(ge||Q)(f.Y36(On,13),f.Y36(Ye,10),f.Y36(We,10))};static#t=this.\u0275dir=f.lG2({type:Q,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[f._Bn([ro]),f.qOj]})}return Q})();const ws={provide:On,useExisting:(0,f.Gpc)(()=>_o)};let _o=(()=>{class Q extends On{constructor(F,ge,ze){super(),this.name=null,this._parent=F,this._setValidators(ge),this._setAsyncValidators(ze)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return $t(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Ho(this._parent)}static#e=this.\u0275fac=function(ge){return new(ge||Q)(f.Y36(On,13),f.Y36(Ye,10),f.Y36(We,10))};static#t=this.\u0275dir=f.lG2({type:Q,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[f._Bn([ws]),f.qOj]})}return Q})();function Ho(Q){return!(Q instanceof io||Q instanceof Xr||Q instanceof _o)}const $r={provide:on,useExisting:(0,f.Gpc)(()=>_n)};let _n=(()=>{class Q extends on{set isDisabled(F){}static#e=this._ngModelWarningSentOnce=!1;constructor(F,ge,ze,Fn,_r){super(),this._ngModelWarningConfig=_r,this._added=!1,this.name=null,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=F,this._setValidators(ge),this._setAsyncValidators(ze),this.valueAccessor=$n(0,Fn)}ngOnChanges(F){this._added||this._setUpControl(),Ln(F,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}get path(){return $t(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(ge){return new(ge||Q)(f.Y36(On,13),f.Y36(Ye,10),f.Y36(We,10),f.Y36(ae,10),f.Y36(qn,8))};static#n=this.\u0275dir=f.lG2({type:Q,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([$r]),f.qOj,f.TTD]})}return Q})();const Xn={provide:ae,useExisting:(0,f.Gpc)(()=>oo),multi:!0};function Nr(Q,ie){return null==Q?`${ie}`:(ie&&"object"==typeof ie&&(ie="Object"),`${Q}: ${ie}`.slice(0,50))}let oo=(()=>{class Q extends de{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(F){this._compareWith=F}writeValue(F){this.value=F;const ze=Nr(this._getOptionId(F),F);this.setProperty("value",ze)}registerOnChange(F){this.onChange=ge=>{this.value=this._getOptionValue(ge),F(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(F){for(const ge of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ge),F))return ge;return null}_getOptionValue(F){const ge=function ki(Q){return Q.split(":")[0]}(F);return this._optionMap.has(ge)?this._optionMap.get(ge):F}static#e=this.\u0275fac=function(){let F;return function(ze){return(F||(F=f.n5z(Q)))(ze||Q)}}();static#t=this.\u0275dir=f.lG2({type:Q,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ge,ze){1&ge&&f.NdJ("change",function(_r){return ze.onChange(_r.target.value)})("blur",function(){return ze.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([Xn]),f.qOj]})}return Q})(),ai=(()=>{class Q{constructor(F,ge,ze){this._element=F,this._renderer=ge,this._select=ze,this._select&&(this.id=this._select._registerOption())}set ngValue(F){null!=this._select&&(this._select._optionMap.set(this.id,F),this._setElementValue(Nr(this.id,F)),this._select.writeValue(this._select.value))}set value(F){this._setElementValue(F),this._select&&this._select.writeValue(this._select.value)}_setElementValue(F){this._renderer.setProperty(this._element.nativeElement,"value",F)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ge){return new(ge||Q)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(oo,9))};static#t=this.\u0275dir=f.lG2({type:Q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return Q})();const Do={provide:ae,useExisting:(0,f.Gpc)(()=>nr),multi:!0};function si(Q,ie){return null==Q?`${ie}`:("string"==typeof ie&&(ie=`'${ie}'`),ie&&"object"==typeof ie&&(ie="Object"),`${Q}: ${ie}`.slice(0,50))}let nr=(()=>{class Q extends de{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(F){this._compareWith=F}writeValue(F){let ge;if(this.value=F,Array.isArray(F)){const ze=F.map(Fn=>this._getOptionId(Fn));ge=(Fn,_r)=>{Fn._setSelected(ze.indexOf(_r.toString())>-1)}}else ge=(ze,Fn)=>{ze._setSelected(!1)};this._optionMap.forEach(ge)}registerOnChange(F){this.onChange=ge=>{const ze=[],Fn=ge.selectedOptions;if(void 0!==Fn){const _r=Fn;for(let fo=0;fo<_r.length;fo++){const Sa=this._getOptionValue(_r[fo].value);ze.push(Sa)}}else{const _r=ge.options;for(let fo=0;fo<_r.length;fo++){const _i=_r[fo];if(_i.selected){const Sa=this._getOptionValue(_i.value);ze.push(Sa)}}}this.value=ze,F(ze)}}_registerOption(F){const ge=(this._idCounter++).toString();return this._optionMap.set(ge,F),ge}_getOptionId(F){for(const ge of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ge)._value,F))return ge;return null}_getOptionValue(F){const ge=function so(Q){return Q.split(":")[0]}(F);return this._optionMap.has(ge)?this._optionMap.get(ge)._value:F}static#e=this.\u0275fac=function(){let F;return function(ze){return(F||(F=f.n5z(Q)))(ze||Q)}}();static#t=this.\u0275dir=f.lG2({type:Q,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ge,ze){1&ge&&f.NdJ("change",function(_r){return ze.onChange(_r.target)})("blur",function(){return ze.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([Do]),f.qOj]})}return Q})(),So=(()=>{class Q{constructor(F,ge,ze){this._element=F,this._renderer=ge,this._select=ze,this._select&&(this.id=this._select._registerOption(this))}set ngValue(F){null!=this._select&&(this._value=F,this._setElementValue(si(this.id,F)),this._select.writeValue(this._select.value))}set value(F){this._select?(this._value=F,this._setElementValue(si(this.id,F)),this._select.writeValue(this._select.value)):this._setElementValue(F)}_setElementValue(F){this._renderer.setProperty(this._element.nativeElement,"value",F)}_setSelected(F){this._renderer.setProperty(this._element.nativeElement,"selected",F)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ge){return new(ge||Q)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(nr,9))};static#t=this.\u0275dir=f.lG2({type:Q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return Q})(),Y=(()=>{class Q{constructor(){this._validator=Vt}ngOnChanges(F){if(this.inputName in F){const ge=this.normalizeInput(F[this.inputName].currentValue);this._enabled=this.enabled(ge),this._validator=this._enabled?this.createValidator(ge):Vt,this._onChange&&this._onChange()}}validate(F){return this._validator(F)}registerOnValidatorChange(F){this._onChange=F}enabled(F){return null!=F}static#e=this.\u0275fac=function(ge){return new(ge||Q)};static#t=this.\u0275dir=f.lG2({type:Q,features:[f.TTD]})}return Q})();const pn={provide:Ye,useExisting:(0,f.Gpc)(()=>Kt),multi:!0};let Kt=(()=>{class Q extends Y{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=f.VuI,this.createValidator=F=>Ze}enabled(F){return F}static#e=this.\u0275fac=function(){let F;return function(ze){return(F||(F=f.n5z(Q)))(ze||Q)}}();static#t=this.\u0275dir=f.lG2({type:Q,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ge,ze){2&ge&&f.uIk("required",ze._enabled?"":null)},inputs:{required:"required"},features:[f._Bn([pn]),f.qOj]})}return Q})(),Kr=(()=>{class Q{static#e=this.\u0275fac=function(ge){return new(ge||Q)};static#t=this.\u0275mod=f.oAB({type:Q});static#n=this.\u0275inj=f.cJS({imports:[mo]})}return Q})();class Ii extends qe{constructor(ie,F,ge){super(ue(F),xt(ge,F)),this.controls=ie,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(ie){return this.controls[this._adjustIndex(ie)]}push(ie,F={}){this.controls.push(ie),this._registerControl(ie),this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}insert(ie,F,ge={}){this.controls.splice(ie,0,F),this._registerControl(F),this.updateValueAndValidity({emitEvent:ge.emitEvent})}removeAt(ie,F={}){let ge=this._adjustIndex(ie);ge<0&&(ge=0),this.controls[ge]&&this.controls[ge]._registerOnCollectionChange(()=>{}),this.controls.splice(ge,1),this.updateValueAndValidity({emitEvent:F.emitEvent})}setControl(ie,F,ge={}){let ze=this._adjustIndex(ie);ze<0&&(ze=0),this.controls[ze]&&this.controls[ze]._registerOnCollectionChange(()=>{}),this.controls.splice(ze,1),F&&(this.controls.splice(ze,0,F),this._registerControl(F)),this.updateValueAndValidity({emitEvent:ge.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(ie,F={}){wr(this,0,ie),ie.forEach((ge,ze)=>{hi(this,!1,ze),this.at(ze).setValue(ge,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(ie,F={}){null!=ie&&(ie.forEach((ge,ze)=>{this.at(ze)&&this.at(ze).patchValue(ge,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(ie=[],F={}){this._forEachChild((ge,ze)=>{ge.reset(ie[ze],{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this.controls.map(ie=>ie.getRawValue())}clear(ie={}){this.controls.length<1||(this._forEachChild(F=>F._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:ie.emitEvent}))}_adjustIndex(ie){return ie<0?ie+this.length:ie}_syncPendingControls(){let ie=this.controls.reduce((F,ge)=>!!ge._syncPendingControls()||F,!1);return ie&&this.updateValueAndValidity({onlySelf:!0}),ie}_forEachChild(ie){this.controls.forEach((F,ge)=>{ie(F,ge)})}_updateValue(){this.value=this.controls.filter(ie=>ie.enabled||this.disabled).map(ie=>ie.value)}_anyControls(ie){return this.controls.some(F=>F.enabled&&ie(F))}_setUpControls(){this._forEachChild(ie=>this._registerControl(ie))}_allControlsDisabled(){for(const ie of this.controls)if(ie.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(ie){ie.setParent(this),ie._registerOnCollectionChange(this._onCollectionChange)}_find(ie){return this.at(ie)??null}}function Oo(Q){return!!Q&&(void 0!==Q.asyncValidators||void 0!==Q.validators||void 0!==Q.updateOn)}let qi=(()=>{class Q{constructor(){this.useNonNullable=!1}get nonNullable(){const F=new Q;return F.useNonNullable=!0,F}group(F,ge=null){const ze=this._reduceControls(F);let Fn={};return Oo(ge)?Fn=ge:null!==ge&&(Fn.validators=ge.validator,Fn.asyncValidators=ge.asyncValidator),new ce(ze,Fn)}record(F,ge=null){const ze=this._reduceControls(F);return new B(ze,ge)}control(F,ge,ze){let Fn={};return this.useNonNullable?(Oo(ge)?Fn=ge:(Fn.validators=ge,Fn.asyncValidators=ze),new zr(F,{...Fn,nonNullable:!0})):new zr(F,ge,ze)}array(F,ge,ze){const Fn=F.map(_r=>this._createControl(_r));return new Ii(Fn,ge,ze)}_reduceControls(F){const ge={};return Object.keys(F).forEach(ze=>{ge[ze]=this._createControl(F[ze])}),ge}_createControl(F){return F instanceof zr||F instanceof qe?F:Array.isArray(F)?this.control(F[0],F.length>1?F[1]:null,F.length>2?F[2]:null):this.control(F)}static#e=this.\u0275fac=function(ge){return new(ge||Q)};static#t=this.\u0275prov=f.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"})}return Q})(),Xa=(()=>{class Q{static withConfig(F){return{ngModule:Q,providers:[{provide:Xe,useValue:F.callSetDisabledState??kt}]}}static#e=this.\u0275fac=function(ge){return new(ge||Q)};static#t=this.\u0275mod=f.oAB({type:Q});static#n=this.\u0275inj=f.cJS({imports:[Kr]})}return Q})(),Zs=(()=>{class Q{static withConfig(F){return{ngModule:Q,providers:[{provide:qn,useValue:F.warnOnNgModelWithFormControl??"always"},{provide:Xe,useValue:F.callSetDisabledState??kt}]}}static#e=this.\u0275fac=function(ge){return new(ge||Q)};static#t=this.\u0275mod=f.oAB({type:Q});static#n=this.\u0275inj=f.cJS({imports:[Kr]})}return Q})()},6593:(sn,lt,k)=>{"use strict";k.d(lt,{Dx:()=>Rr,H7:()=>ri,b2:()=>pr,q6:()=>Pn,se:()=>bt});var f=k(5879),o=k(6814);class U extends o.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Se extends U{static makeCurrent(){(0,o.HT)(new Se)}onAndCancel(K,H,B){return K.addEventListener(H,B),()=>{K.removeEventListener(H,B)}}dispatchEvent(K,H){K.dispatchEvent(H)}remove(K){K.parentNode&&K.parentNode.removeChild(K)}createElement(K,H){return(H=H||this.getDefaultDocument()).createElement(K)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(K){return K.nodeType===Node.ELEMENT_NODE}isShadowRoot(K){return K instanceof DocumentFragment}getGlobalEventTarget(K,H){return"window"===H?window:"document"===H?K:"body"===H?K.body:null}getBaseHref(K){const H=function Ae(){return _e=_e||document.querySelector("base"),_e?_e.getAttribute("href"):null}();return null==H?null:function ae(ce){de=de||document.createElement("a"),de.setAttribute("href",ce);const K=de.pathname;return"/"===K.charAt(0)?K:`/${K}`}(H)}resetBaseElement(){_e=null}getUserAgent(){return window.navigator.userAgent}getCookie(K){return(0,o.Mx)(document.cookie,K)}}let de,_e=null,G=(()=>{class ce{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(B){return new(B||ce)};static#t=this.\u0275prov=f.Yz7({token:ce,factory:ce.\u0275fac})}return ce})();const z=new f.OlP("EventManagerPlugins");let se=(()=>{class ce{constructor(H,B){this._zone=B,this._eventNameToPlugin=new Map,H.forEach(Te=>{Te.manager=this}),this._plugins=H.slice().reverse()}addEventListener(H,B,Te){return this._findPluginFor(B).addEventListener(H,B,Te)}getZone(){return this._zone}_findPluginFor(H){let B=this._eventNameToPlugin.get(H);if(B)return B;if(B=this._plugins.find(Xe=>Xe.supports(H)),!B)throw new f.vHH(5101,!1);return this._eventNameToPlugin.set(H,B),B}static#e=this.\u0275fac=function(B){return new(B||ce)(f.LFG(z),f.LFG(f.R0b))};static#t=this.\u0275prov=f.Yz7({token:ce,factory:ce.\u0275fac})}return ce})();class be{constructor(K){this._doc=K}}const ye="ng-app-id";let De=(()=>{class ce{constructor(H,B,Te,Xe={}){this.doc=H,this.appId=B,this.nonce=Te,this.platformId=Xe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,o.PM)(Xe),this.resetHostNodes()}addStyles(H){for(const B of H)1===this.changeUsageCount(B,1)&&this.onStyleAdded(B)}removeStyles(H){for(const B of H)this.changeUsageCount(B,-1)<=0&&this.onStyleRemoved(B)}ngOnDestroy(){const H=this.styleNodesInDOM;H&&(H.forEach(B=>B.remove()),H.clear());for(const B of this.getAllStyles())this.onStyleRemoved(B);this.resetHostNodes()}addHost(H){this.hostNodes.add(H);for(const B of this.getAllStyles())this.addStyleToHost(H,B)}removeHost(H){this.hostNodes.delete(H)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(H){for(const B of this.hostNodes)this.addStyleToHost(B,H)}onStyleRemoved(H){const B=this.styleRef;B.get(H)?.elements?.forEach(Te=>Te.remove()),B.delete(H)}collectServerRenderedStyles(){const H=this.doc.head?.querySelectorAll(`style[${ye}="${this.appId}"]`);if(H?.length){const B=new Map;return H.forEach(Te=>{null!=Te.textContent&&B.set(Te.textContent,Te)}),B}return null}changeUsageCount(H,B){const Te=this.styleRef;if(Te.has(H)){const Xe=Te.get(H);return Xe.usage+=B,Xe.usage}return Te.set(H,{usage:B,elements:[]}),B}getStyleElement(H,B){const Te=this.styleNodesInDOM,Xe=Te?.get(B);if(Xe?.parentNode===H)return Te.delete(B),Xe.removeAttribute(ye),Xe;{const kt=this.doc.createElement("style");return this.nonce&&kt.setAttribute("nonce",this.nonce),kt.textContent=B,this.platformIsServer&&kt.setAttribute(ye,this.appId),kt}}addStyleToHost(H,B){const Te=this.getStyleElement(H,B);H.appendChild(Te);const Xe=this.styleRef,kt=Xe.get(B)?.elements;kt?kt.push(Te):Xe.set(B,{elements:[Te],usage:1})}resetHostNodes(){const H=this.hostNodes;H.clear(),H.add(this.doc.head)}static#e=this.\u0275fac=function(B){return new(B||ce)(f.LFG(o.K0),f.LFG(f.AFp),f.LFG(f.Ojb,8),f.LFG(f.Lbi))};static#t=this.\u0275prov=f.Yz7({token:ce,factory:ce.\u0275fac})}return ce})();const Re={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ye=/%COMP%/g,tt=new f.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function dt(ce,K){return K.map(H=>H.replace(Ye,ce))}let bt=(()=>{class ce{constructor(H,B,Te,Xe,kt,$t,mn,an=null){this.eventManager=H,this.sharedStylesHost=B,this.appId=Te,this.removeStylesOnCompDestroy=Xe,this.doc=kt,this.platformId=$t,this.ngZone=mn,this.nonce=an,this.rendererByCompId=new Map,this.platformIsServer=(0,o.PM)($t),this.defaultRenderer=new Ee(H,kt,mn,this.platformIsServer)}createRenderer(H,B){if(!H||!B)return this.defaultRenderer;this.platformIsServer&&B.encapsulation===f.ifc.ShadowDom&&(B={...B,encapsulation:f.ifc.Emulated});const Te=this.getOrCreateRenderer(H,B);return Te instanceof ut?Te.applyToHost(H):Te instanceof Ke&&Te.applyStyles(),Te}getOrCreateRenderer(H,B){const Te=this.rendererByCompId;let Xe=Te.get(B.id);if(!Xe){const kt=this.doc,$t=this.ngZone,mn=this.eventManager,an=this.sharedStylesHost,fn=this.removeStylesOnCompDestroy,Jn=this.platformIsServer;switch(B.encapsulation){case f.ifc.Emulated:Xe=new ut(mn,an,B,this.appId,fn,kt,$t,Jn);break;case f.ifc.ShadowDom:return new Tt(mn,an,H,B,kt,$t,this.nonce,Jn);default:Xe=new Ke(mn,an,B,fn,kt,$t,Jn)}Te.set(B.id,Xe)}return Xe}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(B){return new(B||ce)(f.LFG(se),f.LFG(De),f.LFG(f.AFp),f.LFG(tt),f.LFG(o.K0),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(f.Ojb))};static#t=this.\u0275prov=f.Yz7({token:ce,factory:ce.\u0275fac})}return ce})();class Ee{constructor(K,H,B,Te){this.eventManager=K,this.doc=H,this.ngZone=B,this.platformIsServer=Te,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(K,H){return H?this.doc.createElementNS(Re[H]||H,K):this.doc.createElement(K)}createComment(K){return this.doc.createComment(K)}createText(K){return this.doc.createTextNode(K)}appendChild(K,H){(Dn(K)?K.content:K).appendChild(H)}insertBefore(K,H,B){K&&(Dn(K)?K.content:K).insertBefore(H,B)}removeChild(K,H){K&&K.removeChild(H)}selectRootElement(K,H){let B="string"==typeof K?this.doc.querySelector(K):K;if(!B)throw new f.vHH(-5104,!1);return H||(B.textContent=""),B}parentNode(K){return K.parentNode}nextSibling(K){return K.nextSibling}setAttribute(K,H,B,Te){if(Te){H=Te+":"+H;const Xe=Re[Te];Xe?K.setAttributeNS(Xe,H,B):K.setAttribute(H,B)}else K.setAttribute(H,B)}removeAttribute(K,H,B){if(B){const Te=Re[B];Te?K.removeAttributeNS(Te,H):K.removeAttribute(`${B}:${H}`)}else K.removeAttribute(H)}addClass(K,H){K.classList.add(H)}removeClass(K,H){K.classList.remove(H)}setStyle(K,H,B,Te){Te&(f.JOm.DashCase|f.JOm.Important)?K.style.setProperty(H,B,Te&f.JOm.Important?"important":""):K.style[H]=B}removeStyle(K,H,B){B&f.JOm.DashCase?K.style.removeProperty(H):K.style[H]=""}setProperty(K,H,B){K[H]=B}setValue(K,H){K.nodeValue=H}listen(K,H,B){if("string"==typeof K&&!(K=(0,o.q)().getGlobalEventTarget(this.doc,K)))throw new Error(`Unsupported event target ${K} for event ${H}`);return this.eventManager.addEventListener(K,H,this.decoratePreventDefault(B))}decoratePreventDefault(K){return H=>{if("__ngUnwrap__"===H)return K;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>K(H)):K(H))&&H.preventDefault()}}}function Dn(ce){return"TEMPLATE"===ce.tagName&&void 0!==ce.content}class Tt extends Ee{constructor(K,H,B,Te,Xe,kt,$t,mn){super(K,Xe,kt,mn),this.sharedStylesHost=H,this.hostEl=B,this.shadowRoot=B.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const an=dt(Te.id,Te.styles);for(const fn of an){const Jn=document.createElement("style");$t&&Jn.setAttribute("nonce",$t),Jn.textContent=fn,this.shadowRoot.appendChild(Jn)}}nodeOrShadowRoot(K){return K===this.hostEl?this.shadowRoot:K}appendChild(K,H){return super.appendChild(this.nodeOrShadowRoot(K),H)}insertBefore(K,H,B){return super.insertBefore(this.nodeOrShadowRoot(K),H,B)}removeChild(K,H){return super.removeChild(this.nodeOrShadowRoot(K),H)}parentNode(K){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(K)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ke extends Ee{constructor(K,H,B,Te,Xe,kt,$t,mn){super(K,Xe,kt,$t),this.sharedStylesHost=H,this.removeStylesOnCompDestroy=Te,this.styles=mn?dt(mn,B.styles):B.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ut extends Ke{constructor(K,H,B,Te,Xe,kt,$t,mn){const an=Te+"-"+B.id;super(K,H,B,Xe,kt,$t,mn,an),this.contentAttr=function Ze(ce){return"_ngcontent-%COMP%".replace(Ye,ce)}(an),this.hostAttr=function Ge(ce){return"_nghost-%COMP%".replace(Ye,ce)}(an)}applyToHost(K){this.applyStyles(),this.setAttribute(K,this.hostAttr,"")}createElement(K,H){const B=super.createElement(K,H);return super.setAttribute(B,this.contentAttr,""),B}}let Le=(()=>{class ce extends be{constructor(H){super(H)}supports(H){return!0}addEventListener(H,B,Te){return H.addEventListener(B,Te,!1),()=>this.removeEventListener(H,B,Te)}removeEventListener(H,B,Te){return H.removeEventListener(B,Te)}static#e=this.\u0275fac=function(B){return new(B||ce)(f.LFG(o.K0))};static#t=this.\u0275prov=f.Yz7({token:ce,factory:ce.\u0275fac})}return ce})();const we=["alt","control","meta","shift"],te={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ie={alt:ce=>ce.altKey,control:ce=>ce.ctrlKey,meta:ce=>ce.metaKey,shift:ce=>ce.shiftKey};let Pe=(()=>{class ce extends be{constructor(H){super(H)}supports(H){return null!=ce.parseEventName(H)}addEventListener(H,B,Te){const Xe=ce.parseEventName(B),kt=ce.eventCallback(Xe.fullKey,Te,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,o.q)().onAndCancel(H,Xe.domEventName,kt))}static parseEventName(H){const B=H.toLowerCase().split("."),Te=B.shift();if(0===B.length||"keydown"!==Te&&"keyup"!==Te)return null;const Xe=ce._normalizeKey(B.pop());let kt="",$t=B.indexOf("code");if($t>-1&&(B.splice($t,1),kt="code."),we.forEach(an=>{const fn=B.indexOf(an);fn>-1&&(B.splice(fn,1),kt+=an+".")}),kt+=Xe,0!=B.length||0===Xe.length)return null;const mn={};return mn.domEventName=Te,mn.fullKey=kt,mn}static matchEventFullKeyCode(H,B){let Te=te[H.key]||H.key,Xe="";return B.indexOf("code.")>-1&&(Te=H.code,Xe="code."),!(null==Te||!Te)&&(Te=Te.toLowerCase()," "===Te?Te="space":"."===Te&&(Te="dot"),we.forEach(kt=>{kt!==Te&&(0,Ie[kt])(H)&&(Xe+=kt+".")}),Xe+=Te,Xe===B)}static eventCallback(H,B,Te){return Xe=>{ce.matchEventFullKeyCode(Xe,H)&&Te.runGuarded(()=>B(Xe))}}static _normalizeKey(H){return"esc"===H?"escape":H}static#e=this.\u0275fac=function(B){return new(B||ce)(f.LFG(o.K0))};static#t=this.\u0275prov=f.Yz7({token:ce,factory:ce.\u0275fac})}return ce})();const Pn=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:o.bD},{provide:f.g9A,useValue:function Zt(){Se.makeCurrent()},multi:!0},{provide:o.K0,useFactory:function bn(){return(0,f.RDi)(document),document},deps:[]}]),On=new f.OlP(""),on=[{provide:f.rWj,useClass:class ve{addToWindow(K){f.dqk.getAngularTestability=(B,Te=!0)=>{const Xe=K.findTestabilityInTree(B,Te);if(null==Xe)throw new f.vHH(5103,!1);return Xe},f.dqk.getAllAngularTestabilities=()=>K.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>K.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(B=>{const Te=f.dqk.getAllAngularTestabilities();let Xe=Te.length,kt=!1;const $t=function(mn){kt=kt||mn,Xe--,0==Xe&&B(kt)};Te.forEach(mn=>{mn.whenStable($t)})})}findTestabilityInTree(K,H,B){return null==H?null:K.getTestability(H)??(B?(0,o.q)().isShadowRoot(H)?this.findTestabilityInTree(K,H.host,!0):this.findTestabilityInTree(K,H.parentElement,!0):null)}},deps:[]},{provide:f.lri,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]}],Nn=[{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function Wt(){return new f.qLn},deps:[]},{provide:z,useClass:Le,multi:!0,deps:[o.K0,f.R0b,f.Lbi]},{provide:z,useClass:Pe,multi:!0,deps:[o.K0]},bt,De,se,{provide:f.FYo,useExisting:bt},{provide:o.JF,useClass:G,deps:[]},[]];let pr=(()=>{class ce{constructor(H){}static withServerTransition(H){return{ngModule:ce,providers:[{provide:f.AFp,useValue:H.appId}]}}static#e=this.\u0275fac=function(B){return new(B||ce)(f.LFG(On,12))};static#t=this.\u0275mod=f.oAB({type:ce});static#n=this.\u0275inj=f.cJS({providers:[...Nn,...on],imports:[o.ez,f.hGG]})}return ce})(),Rr=(()=>{class ce{constructor(H){this._doc=H}getTitle(){return this._doc.title}setTitle(H){this._doc.title=H||""}static#e=this.\u0275fac=function(B){return new(B||ce)(f.LFG(o.K0))};static#t=this.\u0275prov=f.Yz7({token:ce,factory:function(B){let Te=null;return Te=B?new B:function xn(){return new Rr((0,f.LFG)(o.K0))}(),Te},providedIn:"root"})}return ce})();typeof window<"u"&&window;let ri=(()=>{class ce{static#e=this.\u0275fac=function(B){return new(B||ce)};static#t=this.\u0275prov=f.Yz7({token:ce,factory:function(B){let Te=null;return Te=B?new(B||ce):f.LFG(wt),Te},providedIn:"root"})}return ce})(),wt=(()=>{class ce extends ri{constructor(H){super(),this._doc=H}sanitize(H,B){if(null==B)return null;switch(H){case f.q3G.NONE:return B;case f.q3G.HTML:return(0,f.qzn)(B,"HTML")?(0,f.z3N)(B):(0,f.EiD)(this._doc,String(B)).toString();case f.q3G.STYLE:return(0,f.qzn)(B,"Style")?(0,f.z3N)(B):B;case f.q3G.SCRIPT:if((0,f.qzn)(B,"Script"))return(0,f.z3N)(B);throw new f.vHH(5200,!1);case f.q3G.URL:return(0,f.qzn)(B,"URL")?(0,f.z3N)(B):(0,f.mCW)(String(B));case f.q3G.RESOURCE_URL:if((0,f.qzn)(B,"ResourceURL"))return(0,f.z3N)(B);throw new f.vHH(5201,!1);default:throw new f.vHH(5202,!1)}}bypassSecurityTrustHtml(H){return(0,f.JVY)(H)}bypassSecurityTrustStyle(H){return(0,f.L6k)(H)}bypassSecurityTrustScript(H){return(0,f.eBb)(H)}bypassSecurityTrustUrl(H){return(0,f.LAX)(H)}bypassSecurityTrustResourceUrl(H){return(0,f.pB0)(H)}static#e=this.\u0275fac=function(B){return new(B||ce)(f.LFG(o.K0))};static#t=this.\u0275prov=f.Yz7({token:ce,factory:function(B){let Te=null;return Te=B?new B:function at(ce){return new wt(ce.get(o.K0))}(f.LFG(f.zs3)),Te},providedIn:"root"})}return ce})()},3914:(sn,lt,k)=>{"use strict";k.d(lt,{gz:()=>ro,m2:()=>lo,F0:()=>zo,rH:()=>Qs,Bz:()=>rc,lC:()=>ki});var f=k(5879),o=k(5592),U=k(4674),_e=k(2459),Ae=k(2096),de=k(5619),ae=k(2572),ve=k(6973),G=k(5211),z=k(4829);function se(S){return new o.y(O=>{(0,z.Xf)(S()).subscribe(O)})}var be=k(8407),ye=k(8504),De=k(6232),Re=k(7394),Ye=k(9360),We=k(8251);function _t(){return(0,Ye.e)((S,O)=>{let w=null;S._refCount++;const N=(0,We.x)(O,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(w=null);const W=S._connection,fe=w;w=null,W&&(!fe||W===fe)&&W.unsubscribe(),O.unsubscribe()});S.subscribe(N),N.closed||(w=S.connect())})}class Fe extends o.y{constructor(O,w){super(),this.source=O,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,Ye.A)(O)&&(this.lift=O.lift)}_subscribe(O){return this.getSubject().subscribe(O)}getSubject(){const O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:O}=this;this._subject=this._connection=null,O?.unsubscribe()}connect(){let O=this._connection;if(!O){O=this._connection=new Re.w0;const w=this.getSubject();O.add(this.source.subscribe((0,We.x)(w,void 0,()=>{this._teardown(),w.complete()},N=>{this._teardown(),w.error(N)},()=>this._teardown()))),O.closed&&(this._connection=null,O=Re.w0.EMPTY)}return O}refCount(){return _t()(this)}}var Ne=k(8645),tt=k(6814),Ze=k(7398),Ge=k(4664),dt=k(8180),bt=k(7921),Ee=k(2181),Nt=k(1631),Vt=k(1374),Dn=k(6328),Tt=k(9397),Ke=k(6306),ut=k(6699),Le=k(3572);function we(S){return S<=0?()=>De.E:(0,Ye.e)((O,w)=>{let N=[];O.subscribe((0,We.x)(w,W=>{N.push(W),S<N.length&&N.shift()},()=>{for(const W of N)w.next(W);w.complete()},void 0,()=>{N=null}))})}var te=k(3026),Ie=k(2737),ot=k(4716),vt=k(9773),Bt=k(7537),Zt=k(6593);const Wt="primary",bn=Symbol("RouteTitle");class Qn{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w[0]:w}return null}getAll(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function Pn(S){return new Qn(S)}function On(S,O,w){const N=w.path.split("/");if(N.length>S.length||"full"===w.pathMatch&&(O.hasChildren()||N.length<S.length))return null;const W={};for(let fe=0;fe<N.length;fe++){const Ve=N[fe],Dt=S[fe];if(Ve.startsWith(":"))W[Ve.substring(1)]=Dt;else if(Ve!==Dt.path)return null}return{consumed:S.slice(0,N.length),posParams:W}}function Nn(S,O){const w=S?Object.keys(S):void 0,N=O?Object.keys(O):void 0;if(!w||!N||w.length!=N.length)return!1;let W;for(let fe=0;fe<w.length;fe++)if(W=w[fe],!pr(S[W],O[W]))return!1;return!0}function pr(S,O){if(Array.isArray(S)&&Array.isArray(O)){if(S.length!==O.length)return!1;const w=[...S].sort(),N=[...O].sort();return w.every((W,fe)=>N[fe]===W)}return S===O}function Yn(S){return S.length>0?S[S.length-1]:null}function Qt(S){return function Se(S){return!!S&&(S instanceof o.y||(0,U.m)(S.lift)&&(0,U.m)(S.subscribe))}(S)?S:(0,f.QGY)(S)?(0,_e.D)(Promise.resolve(S)):(0,Ae.of)(S)}const Hr={exact:function Yt(S,O,w){if(!yi(S.segments,O.segments)||!Ar(S.segments,O.segments,w)||S.numberOfChildren!==O.numberOfChildren)return!1;for(const N in O.children)if(!S.children[N]||!Yt(S.children[N],O.children[N],w))return!1;return!0},subset:Un},xn={exact:function rr(S,O){return Nn(S,O)},subset:function In(S,O){return Object.keys(O).length<=Object.keys(S).length&&Object.keys(O).every(w=>pr(S[w],O[w]))},ignored:()=>!0};function Rr(S,O,w){return Hr[w.paths](S.root,O.root,w.matrixParams)&&xn[w.queryParams](S.queryParams,O.queryParams)&&!("exact"===w.fragment&&S.fragment!==O.fragment)}function Un(S,O,w){return Hn(S,O,O.segments,w)}function Hn(S,O,w,N){if(S.segments.length>w.length){const W=S.segments.slice(0,w.length);return!(!yi(W,w)||O.hasChildren()||!Ar(W,w,N))}if(S.segments.length===w.length){if(!yi(S.segments,w)||!Ar(S.segments,w,N))return!1;for(const W in O.children)if(!S.children[W]||!Un(S.children[W],O.children[W],N))return!1;return!0}{const W=w.slice(0,S.segments.length),fe=w.slice(S.segments.length);return!!(yi(S.segments,W)&&Ar(S.segments,W,N)&&S.children[Wt])&&Hn(S.children[Wt],O,fe,N)}}function Ar(S,O,w){return O.every((N,W)=>xn[w](S[W].parameters,N.parameters))}class Tr{constructor(O=new Gn([],{}),w={},N=null){this.root=O,this.queryParams=w,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pn(this.queryParams)),this._queryParamMap}toString(){return Or.serialize(this)}}class Gn{constructor(O,w){this.segments=O,this.children=w,this.parent=null,Object.values(w).forEach(N=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mr(this)}}class Wn{constructor(O,w){this.path=O,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=Pn(this.parameters)),this._parameterMap}toString(){return zn(this)}}function yi(S,O){return S.length===O.length&&S.every((w,N)=>w.path===O[N].path)}let Ur=(()=>{class S{static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:function(){return new sr},providedIn:"root"})}return S})();class sr{parse(O){const w=new $t(O);return new Tr(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(O){const w=`/${ri(O.root,!0)}`,N=function wr(S){const O=Object.keys(S).map(w=>{const N=S[w];return Array.isArray(N)?N.map(W=>`${wt(w)}=${wt(W)}`).join("&"):`${wt(w)}=${wt(N)}`}).filter(w=>!!w);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${w}${N}${"string"==typeof O.fragment?`#${function ue(S){return encodeURI(S)}(O.fragment)}`:""}`}}const Or=new sr;function Mr(S){return S.segments.map(O=>zn(O)).join("/")}function ri(S,O){if(!S.hasChildren())return Mr(S);if(O){const w=S.children[Wt]?ri(S.children[Wt],!1):"",N=[];return Object.entries(S.children).forEach(([W,fe])=>{W!==Wt&&N.push(`${W}:${ri(fe,!1)}`)}),N.length>0?`${w}(${N.join("//")})`:w}{const w=function gn(S,O){let w=[];return Object.entries(S.children).forEach(([N,W])=>{N===Wt&&(w=w.concat(O(W,N)))}),Object.entries(S.children).forEach(([N,W])=>{N!==Wt&&(w=w.concat(O(W,N)))}),w}(S,(N,W)=>W===Wt?[ri(S.children[Wt],!1)]:[`${W}:${ri(N,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[Wt]?`${Mr(S)}/${w[0]}`:`${Mr(S)}/(${w.join("//")})`}}function at(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wt(S){return at(S).replace(/%3B/gi,";")}function Be(S){return at(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xt(S){return decodeURIComponent(S)}function tn(S){return xt(S.replace(/\+/g,"%20"))}function zn(S){return`${Be(S.path)}${function hi(S){return Object.keys(S).map(O=>`;${Be(O)}=${Be(S[O])}`).join("")}(S.parameters)}`}const qe=/^[^\/()?;#]+/;function ce(S){const O=S.match(qe);return O?O[0]:""}const K=/^[^\/()?;=#]+/,B=/^[^=?&#]+/,Xe=/^[^&#]+/;class $t{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gn([],{}):new Gn([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(O.length>0||Object.keys(w).length>0)&&(N[Wt]=new Gn(O,w)),N}parseSegment(){const O=ce(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new f.vHH(4009,!1);return this.capture(O),new Wn(xt(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const w=function H(S){const O=S.match(K);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const W=ce(this.remaining);W&&(N=W,this.capture(N))}O[xt(w)]=xt(N)}parseQueryParam(O){const w=function Te(S){const O=S.match(B);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const Ve=function kt(S){const O=S.match(Xe);return O?O[0]:""}(this.remaining);Ve&&(N=Ve,this.capture(N))}const W=tn(w),fe=tn(N);if(O.hasOwnProperty(W)){let Ve=O[W];Array.isArray(Ve)||(Ve=[Ve],O[W]=Ve),Ve.push(fe)}else O[W]=fe}parseParens(O){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=ce(this.remaining),W=this.remaining[N.length];if("/"!==W&&")"!==W&&";"!==W)throw new f.vHH(4010,!1);let fe;N.indexOf(":")>-1?(fe=N.slice(0,N.indexOf(":")),this.capture(fe),this.capture(":")):O&&(fe=Wt);const Ve=this.parseChildren();w[fe]=1===Object.keys(Ve).length?Ve[Wt]:new Gn([],Ve),this.consumeOptional("//")}return w}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new f.vHH(4011,!1)}}function mn(S){return S.segments.length>0?new Gn([],{[Wt]:S}):S}function an(S){const O={};for(const N of Object.keys(S.children)){const fe=an(S.children[N]);if(N===Wt&&0===fe.segments.length&&fe.hasChildren())for(const[Ve,Dt]of Object.entries(fe.children))O[Ve]=Dt;else(fe.segments.length>0||fe.hasChildren())&&(O[N]=fe)}return function fn(S){if(1===S.numberOfChildren&&S.children[Wt]){const O=S.children[Wt];return new Gn(S.segments.concat(O.segments),O.children)}return S}(new Gn(S.segments,O))}function Jn(S){return S instanceof Tr}function He(S){let O;const W=mn(function w(fe){const Ve={};for(const Mt of fe.children){const Tn=w(Mt);Ve[Mt.outlet]=Tn}const Dt=new Gn(fe.url,Ve);return fe===S&&(O=Dt),Dt}(S.root));return O??W}function nt(S,O,w,N){let W=S;for(;W.parent;)W=W.parent;if(0===O.length)return En(W,W,W,w,N);const fe=function yn(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new hr(!0,0,S);let O=0,w=!1;const N=S.reduce((W,fe,Ve)=>{if("object"==typeof fe&&null!=fe){if(fe.outlets){const Dt={};return Object.entries(fe.outlets).forEach(([Mt,Tn])=>{Dt[Mt]="string"==typeof Tn?Tn.split("/"):Tn}),[...W,{outlets:Dt}]}if(fe.segmentPath)return[...W,fe.segmentPath]}return"string"!=typeof fe?[...W,fe]:0===Ve?(fe.split("/").forEach((Dt,Mt)=>{0==Mt&&"."===Dt||(0==Mt&&""===Dt?w=!0:".."===Dt?O++:""!=Dt&&W.push(Dt))}),W):[...W,fe]},[]);return new hr(w,O,N)}(O);if(fe.toRoot())return En(W,W,new Gn([],{}),w,N);const Ve=function ft(S,O,w){if(S.isAbsolute)return new yt(O,!0,0);if(!w)return new yt(O,!1,NaN);if(null===w.parent)return new yt(w,!0,0);const N=jt(S.commands[0])?0:1;return function Ft(S,O,w){let N=S,W=O,fe=w;for(;fe>W;){if(fe-=W,N=N.parent,!N)throw new f.vHH(4005,!1);W=N.segments.length}return new yt(N,!1,W-fe)}(w,w.segments.length-1+N,S.numberOfDoubleDots)}(fe,W,S),Dt=Ve.processChildren?Vn(Ve.segmentGroup,Ve.index,fe.commands):Ln(Ve.segmentGroup,Ve.index,fe.commands);return En(W,Ve.segmentGroup,Dt,w,N)}function jt(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function Xt(S){return"object"==typeof S&&null!=S&&S.outlets}function En(S,O,w,N,W){let Ve,fe={};N&&Object.entries(N).forEach(([Mt,Tn])=>{fe[Mt]=Array.isArray(Tn)?Tn.map(Dr=>`${Dr}`):`${Tn}`}),Ve=S===O?w:cn(S,O,w);const Dt=mn(an(Ve));return new Tr(Dt,fe,W)}function cn(S,O,w){const N={};return Object.entries(S.children).forEach(([W,fe])=>{N[W]=fe===O?w:cn(fe,O,w)}),new Gn(S.segments,N)}class hr{constructor(O,w,N){if(this.isAbsolute=O,this.numberOfDoubleDots=w,this.commands=N,O&&N.length>0&&jt(N[0]))throw new f.vHH(4003,!1);const W=N.find(Xt);if(W&&W!==Yn(N))throw new f.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class yt{constructor(O,w,N){this.segmentGroup=O,this.processChildren=w,this.index=N}}function Ln(S,O,w){if(S||(S=new Gn([],{})),0===S.segments.length&&S.hasChildren())return Vn(S,O,w);const N=function vn(S,O,w){let N=0,W=O;const fe={match:!1,pathIndex:0,commandIndex:0};for(;W<S.segments.length;){if(N>=w.length)return fe;const Ve=S.segments[W],Dt=w[N];if(Xt(Dt))break;const Mt=`${Dt}`,Tn=N<w.length-1?w[N+1]:null;if(W>0&&void 0===Mt)break;if(Mt&&Tn&&"object"==typeof Tn&&void 0===Tn.outlets){if(!ei(Mt,Tn,Ve))return fe;N+=2}else{if(!ei(Mt,{},Ve))return fe;N++}W++}return{match:!0,pathIndex:W,commandIndex:N}}(S,O,w),W=w.slice(N.commandIndex);if(N.match&&N.pathIndex<S.segments.length){const fe=new Gn(S.segments.slice(0,N.pathIndex),{});return fe.children[Wt]=new Gn(S.segments.slice(N.pathIndex),S.children),Vn(fe,0,W)}return N.match&&0===W.length?new Gn(S.segments,{}):N.match&&!S.hasChildren()?$n(S,O,w):N.match?Vn(S,0,W):$n(S,O,w)}function Vn(S,O,w){if(0===w.length)return new Gn(S.segments,{});{const N=function un(S){return Xt(S[0])?S[0].outlets:{[Wt]:S}}(w),W={};if(Object.keys(N).some(fe=>fe!==Wt)&&S.children[Wt]&&1===S.numberOfChildren&&0===S.children[Wt].segments.length){const fe=Vn(S.children[Wt],O,w);return new Gn(S.segments,fe.children)}return Object.entries(N).forEach(([fe,Ve])=>{"string"==typeof Ve&&(Ve=[Ve]),null!==Ve&&(W[fe]=Ln(S.children[fe],O,Ve))}),Object.entries(S.children).forEach(([fe,Ve])=>{void 0===N[fe]&&(W[fe]=Ve)}),new Gn(S.segments,W)}}function $n(S,O,w){const N=S.segments.slice(0,O);let W=0;for(;W<w.length;){const fe=w[W];if(Xt(fe)){const Mt=Pr(fe.outlets);return new Gn(N,Mt)}if(0===W&&jt(w[0])){N.push(new Wn(S.segments[O].path,fi(w[0]))),W++;continue}const Ve=Xt(fe)?fe.outlets[Wt]:`${fe}`,Dt=W<w.length-1?w[W+1]:null;Ve&&Dt&&jt(Dt)?(N.push(new Wn(Ve,fi(Dt))),W+=2):(N.push(new Wn(Ve,{})),W++)}return new Gn(N,{})}function Pr(S){const O={};return Object.entries(S).forEach(([w,N])=>{"string"==typeof N&&(N=[N]),null!==N&&(O[w]=$n(new Gn([],{}),0,N))}),O}function fi(S){const O={};return Object.entries(S).forEach(([w,N])=>O[w]=`${N}`),O}function ei(S,O,w){return S==w.path&&Nn(O,w.parameters)}const ur="imperative";class xi{constructor(O,w){this.id=O,this.url=w}}class gi extends xi{constructor(O,w,N="imperative",W=null){super(O,w),this.type=0,this.navigationTrigger=N,this.restoredState=W}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class lo extends xi{constructor(O,w,N){super(O,w),this.urlAfterRedirects=N,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class zr extends xi{constructor(O,w,N,W){super(O,w),this.reason=N,this.code=W,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ts extends xi{constructor(O,w,N,W){super(O,w),this.reason=N,this.code=W,this.type=16}}class go extends xi{constructor(O,w,N,W){super(O,w),this.error=N,this.target=W,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ji extends xi{constructor(O,w,N,W){super(O,w),this.urlAfterRedirects=N,this.state=W,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qo extends xi{constructor(O,w,N,W){super(O,w),this.urlAfterRedirects=N,this.state=W,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ii extends xi{constructor(O,w,N,W,fe){super(O,w),this.urlAfterRedirects=N,this.state=W,this.shouldActivate=fe,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wa extends xi{constructor(O,w,N,W){super(O,w),this.urlAfterRedirects=N,this.state=W,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ni extends xi{constructor(O,w,N,W){super(O,w),this.urlAfterRedirects=N,this.state=W,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jr{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zs{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class jo{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hi{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gi{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ts{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pi{constructor(O,w,N){this.routerEvent=O,this.position=w,this.anchor=N,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class $s{}class wo{constructor(O){this.url=O}}class mo{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Zo,this.attachRef=null}}let Zo=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(w,N){const W=this.getOrCreateContext(w);W.outlet=N,this.contexts.set(w,W)}onChildOutletDestroyed(w){const N=this.getContext(w);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let N=this.getContext(w);return N||(N=new mo,this.contexts.set(w,N)),N}getContext(w){return this.contexts.get(w)||null}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();class ns{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const w=this.pathFromRoot(O);return w.length>1?w[w.length-2]:null}children(O){const w=no(O,this._root);return w?w.children.map(N=>N.value):[]}firstChild(O){const w=no(O,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(O){const w=gs(O,this._root);return w.length<2?[]:w[w.length-2].children.map(W=>W.value).filter(W=>W!==O)}pathFromRoot(O){return gs(O,this._root).map(w=>w.value)}}function no(S,O){if(S===O.value)return O;for(const w of O.children){const N=no(S,w);if(N)return N}return null}function gs(S,O){if(S===O.value)return[O];for(const w of O.children){const N=gs(S,w);if(N.length)return N.unshift(O),N}return[]}class qn{constructor(O,w){this.value=O,this.children=w}toString(){return`TreeNode(${this.value})`}}function Wr(S){const O={};return S&&S.children.forEach(w=>O[w.value.outlet]=w),O}class oi extends ns{constructor(O,w){super(O),this.snapshot=w,$r(this,O)}toString(){return this.snapshot.toString()}}function zi(S,O){const w=function Xr(S,O){const Ve=new _o([],{},{},"",{},Wt,O,null,{});return new Ho("",new qn(Ve,[]))}(0,O),N=new de.X([new Wn("",{})]),W=new de.X({}),fe=new de.X({}),Ve=new de.X({}),Dt=new de.X(""),Mt=new ro(N,W,Ve,Dt,fe,Wt,O,w.root);return Mt.snapshot=w.root,new oi(new qn(Mt,[]),w)}class ro{constructor(O,w,N,W,fe,Ve,Dt,Mt){this.urlSubject=O,this.paramsSubject=w,this.queryParamsSubject=N,this.fragmentSubject=W,this.dataSubject=fe,this.outlet=Ve,this.component=Dt,this._futureSnapshot=Mt,this.title=this.dataSubject?.pipe((0,Ze.U)(Tn=>Tn[bn]))??(0,Ae.of)(void 0),this.url=O,this.params=w,this.queryParams=N,this.fragment=W,this.data=fe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ze.U)(O=>Pn(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ze.U)(O=>Pn(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function io(S,O="emptyOnly"){const w=S.pathFromRoot;let N=0;if("always"!==O)for(N=w.length-1;N>=1;){const W=w[N],fe=w[N-1];if(W.routeConfig&&""===W.routeConfig.path)N--;else{if(fe.component)break;N--}}return function ws(S){return S.reduce((O,w)=>({params:{...O.params,...w.params},data:{...O.data,...w.data},resolve:{...w.data,...O.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(N))}class _o{get title(){return this.data?.[bn]}constructor(O,w,N,W,fe,Ve,Dt,Mt,Tn){this.url=O,this.params=w,this.queryParams=N,this.fragment=W,this.data=fe,this.outlet=Ve,this.component=Dt,this.routeConfig=Mt,this._resolve=Tn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ho extends ns{constructor(O,w){super(w),this.url=O,$r(this,w)}toString(){return _n(this._root)}}function $r(S,O){O.value._routerState=S,O.children.forEach(w=>$r(S,w))}function _n(S){const O=S.children.length>0?` { ${S.children.map(_n).join(", ")} } `:"";return`${S.value}${O}`}function Xn(S){if(S.snapshot){const O=S.snapshot,w=S._futureSnapshot;S.snapshot=w,Nn(O.queryParams,w.queryParams)||S.queryParamsSubject.next(w.queryParams),O.fragment!==w.fragment&&S.fragmentSubject.next(w.fragment),Nn(O.params,w.params)||S.paramsSubject.next(w.params),function on(S,O){if(S.length!==O.length)return!1;for(let w=0;w<S.length;++w)if(!Nn(S[w],O[w]))return!1;return!0}(O.url,w.url)||S.urlSubject.next(w.url),Nn(O.data,w.data)||S.dataSubject.next(w.data)}else S.snapshot=S._futureSnapshot,S.dataSubject.next(S._futureSnapshot.data)}function Nr(S,O){const w=Nn(S.params,O.params)&&function Yr(S,O){return yi(S,O)&&S.every((w,N)=>Nn(w.parameters,O[N].parameters))}(S.url,O.url);return w&&!(!S.parent!=!O.parent)&&(!S.parent||Nr(S.parent,O.parent))}let ki=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=Wt,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.parentContexts=(0,f.f3M)(Zo),this.location=(0,f.f3M)(f.s_b),this.changeDetector=(0,f.f3M)(f.sBO),this.environmentInjector=(0,f.f3M)(f.lqb),this.inputBinder=(0,f.f3M)(ai,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:N,previousValue:W}=w.name;if(N)return;this.isTrackedInParentContexts(W)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(W)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.vHH(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,N){this.activated=w,this._activatedRoute=N,this.location.insert(w.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,N){if(this.isActivated)throw new f.vHH(4013,!1);this._activatedRoute=w;const W=this.location,Ve=w.snapshot.component,Dt=this.parentContexts.getOrCreateContext(this.name).children,Mt=new oo(w,Dt,W.injector);this.activated=W.createComponent(Ve,{index:W.length,injector:Mt,environmentInjector:N??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275dir=f.lG2({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[f.TTD]})}return S})();class oo{constructor(O,w,N){this.route=O,this.childContexts=w,this.parent=N}get(O,w){return O===ro?this.route:O===Zo?this.childContexts:this.parent.get(O,w)}}const ai=new f.OlP("");let Do=(()=>{class S{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){this.outletDataSubscriptions.get(w)?.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:N}=w,W=(0,ae.a)([N.queryParams,N.params,N.data]).pipe((0,Ge.w)(([fe,Ve,Dt],Mt)=>(Dt={...fe,...Ve,...Dt},0===Mt?(0,Ae.of)(Dt):Promise.resolve(Dt)))).subscribe(fe=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(w);const Ve=(0,f.qFp)(N.component);if(Ve)for(const{templateName:Dt}of Ve.inputs)w.activatedComponentRef.setInput(Dt,fe[Dt]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,W)}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac})}return S})();function so(S,O,w){if(w&&S.shouldReuseRoute(O.value,w.value.snapshot)){const N=w.value;N._futureSnapshot=O.value;const W=function vo(S,O,w){return O.children.map(N=>{for(const W of w.children)if(S.shouldReuseRoute(N.value,W.value.snapshot))return so(S,N,W);return so(S,N)})}(S,O,w);return new qn(N,W)}{if(S.shouldAttach(O.value)){const fe=S.retrieve(O.value);if(null!==fe){const Ve=fe.route;return Ve.value._futureSnapshot=O.value,Ve.children=O.children.map(Dt=>so(S,Dt)),Ve}}const N=function nr(S){return new ro(new de.X(S.url),new de.X(S.params),new de.X(S.queryParams),new de.X(S.fragment),new de.X(S.data),S.outlet,S.component,S)}(O.value),W=O.children.map(fe=>so(S,fe));return new qn(N,W)}}const So="ngNavigationCancelingError";function ci(S,O){const{redirectTo:w,navigationBehaviorOptions:N}=Jn(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,W=re(!1,0,O);return W.url=w,W.navigationBehaviorOptions=N,W}function re(S,O,w){const N=new Error("NavigationCancelingError: "+(S||""));return N[So]=!0,N.cancellationCode=O,w&&(N.url=w),N}function ke(S){return S&&S[So]}let $e=(()=>{class S{static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275cmp=f.Xpm({type:S,selectors:[["ng-component"]],standalone:!0,features:[f.jDz],decls:1,vars:0,template:function(N,W){1&N&&f._UZ(0,"router-outlet")},dependencies:[ki],encapsulation:2})}return S})();function Zr(S){const O=S.children&&S.children.map(Zr),w=O?{...S,children:O}:{...S};return!w.component&&!w.loadComponent&&(O||w.loadChildren)&&w.outlet&&w.outlet!==Wt&&(w.component=$e),w}function kr(S){return S.outlet||Wt}function Br(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let O=S.parent;O;O=O.parent){const w=O.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class yr{constructor(O,w,N,W,fe){this.routeReuseStrategy=O,this.futureState=w,this.currState=N,this.forwardEvent=W,this.inputBindingEnabled=fe}activate(O){const w=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,N,O),Xn(this.futureState.root),this.activateChildRoutes(w,N,O)}deactivateChildRoutes(O,w,N){const W=Wr(w);O.children.forEach(fe=>{const Ve=fe.value.outlet;this.deactivateRoutes(fe,W[Ve],N),delete W[Ve]}),Object.values(W).forEach(fe=>{this.deactivateRouteAndItsChildren(fe,N)})}deactivateRoutes(O,w,N){const W=O.value,fe=w?w.value:null;if(W===fe)if(W.component){const Ve=N.getContext(W.outlet);Ve&&this.deactivateChildRoutes(O,w,Ve.children)}else this.deactivateChildRoutes(O,w,N);else fe&&this.deactivateRouteAndItsChildren(w,N)}deactivateRouteAndItsChildren(O,w){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,w):this.deactivateRouteAndOutlet(O,w)}detachAndStoreRouteSubtree(O,w){const N=w.getContext(O.value.outlet),W=N&&O.value.component?N.children:w,fe=Wr(O);for(const Ve of Object.keys(fe))this.deactivateRouteAndItsChildren(fe[Ve],W);if(N&&N.outlet){const Ve=N.outlet.detach(),Dt=N.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:Ve,route:O,contexts:Dt})}}deactivateRouteAndOutlet(O,w){const N=w.getContext(O.value.outlet),W=N&&O.value.component?N.children:w,fe=Wr(O);for(const Ve of Object.keys(fe))this.deactivateRouteAndItsChildren(fe[Ve],W);N&&(N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated()),N.attachRef=null,N.route=null)}activateChildRoutes(O,w,N){const W=Wr(w);O.children.forEach(fe=>{this.activateRoutes(fe,W[fe.value.outlet],N),this.forwardEvent(new Ts(fe.value.snapshot))}),O.children.length&&this.forwardEvent(new Hi(O.value.snapshot))}activateRoutes(O,w,N){const W=O.value,fe=w?w.value:null;if(Xn(W),W===fe)if(W.component){const Ve=N.getOrCreateContext(W.outlet);this.activateChildRoutes(O,w,Ve.children)}else this.activateChildRoutes(O,w,N);else if(W.component){const Ve=N.getOrCreateContext(W.outlet);if(this.routeReuseStrategy.shouldAttach(W.snapshot)){const Dt=this.routeReuseStrategy.retrieve(W.snapshot);this.routeReuseStrategy.store(W.snapshot,null),Ve.children.onOutletReAttached(Dt.contexts),Ve.attachRef=Dt.componentRef,Ve.route=Dt.route.value,Ve.outlet&&Ve.outlet.attach(Dt.componentRef,Dt.route.value),Xn(Dt.route.value),this.activateChildRoutes(O,null,Ve.children)}else{const Dt=Br(W.snapshot);Ve.attachRef=null,Ve.route=W,Ve.injector=Dt,Ve.outlet&&Ve.outlet.activateWith(W,Ve.injector),this.activateChildRoutes(O,null,Ve.children)}}else this.activateChildRoutes(O,null,N)}}class Ri{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class Kr{constructor(O,w){this.component=O,this.route=w}}function Ii(S,O,w){const N=S._root;return Oo(N,O?O._root:null,w,[N.value])}function ao(S,O){const w=Symbol(),N=O.get(S,w);return N===w?"function"!=typeof S||(0,f.Z0I)(S)?O.get(S):S:N}function Oo(S,O,w,N,W={canDeactivateChecks:[],canActivateChecks:[]}){const fe=Wr(O);return S.children.forEach(Ve=>{(function qi(S,O,w,N,W={canDeactivateChecks:[],canActivateChecks:[]}){const fe=S.value,Ve=O?O.value:null,Dt=w?w.getContext(S.value.outlet):null;if(Ve&&fe.routeConfig===Ve.routeConfig){const Mt=function Da(S,O,w){if("function"==typeof w)return w(S,O);switch(w){case"pathParamsChange":return!yi(S.url,O.url);case"pathParamsOrQueryParamsChange":return!yi(S.url,O.url)||!Nn(S.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Nr(S,O)||!Nn(S.queryParams,O.queryParams);default:return!Nr(S,O)}}(Ve,fe,fe.routeConfig.runGuardsAndResolvers);Mt?W.canActivateChecks.push(new Ri(N)):(fe.data=Ve.data,fe._resolvedData=Ve._resolvedData),Oo(S,O,fe.component?Dt?Dt.children:null:w,N,W),Mt&&Dt&&Dt.outlet&&Dt.outlet.isActivated&&W.canDeactivateChecks.push(new Kr(Dt.outlet.component,Ve))}else Ve&&No(O,Dt,W),W.canActivateChecks.push(new Ri(N)),Oo(S,null,fe.component?Dt?Dt.children:null:w,N,W)})(Ve,fe[Ve.value.outlet],w,N.concat([Ve.value]),W),delete fe[Ve.value.outlet]}),Object.entries(fe).forEach(([Ve,Dt])=>No(Dt,w.getContext(Ve),W)),W}function No(S,O,w){const N=Wr(S),W=S.value;Object.entries(N).forEach(([fe,Ve])=>{No(Ve,W.component?O?O.children.getContext(fe):null:O,w)}),w.canDeactivateChecks.push(new Kr(W.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,W))}function Ds(S){return"function"==typeof S}function _r(S){return S instanceof ve.K||"EmptyError"===S?.name}const fo=Symbol("INITIAL_VALUE");function _i(){return(0,Ge.w)(S=>(0,ae.a)(S.map(O=>O.pipe((0,dt.q)(1),(0,bt.O)(fo)))).pipe((0,Ze.U)(O=>{for(const w of O)if(!0!==w){if(w===fo)return fo;if(!1===w||w instanceof Tr)return w}return!0}),(0,Ee.h)(O=>O!==fo),(0,dt.q)(1)))}function rs(S){return(0,be.z)((0,Tt.b)(O=>{if(Jn(O))throw ci(0,O)}),(0,Ze.U)(O=>!0===O))}class yo{constructor(O){this.segmentGroup=O||null}}class Su{constructor(O){this.urlTree=O}}function Vr(S){return(0,ye._)(new yo(S))}function ha(S){return(0,ye._)(new Su(S))}class ko{constructor(O,w){this.urlSerializer=O,this.urlTree=w}noMatchError(O){return new f.vHH(4002,!1)}lineralizeSegments(O,w){let N=[],W=w.root;for(;;){if(N=N.concat(W.segments),0===W.numberOfChildren)return(0,Ae.of)(N);if(W.numberOfChildren>1||!W.children[Wt])return(0,ye._)(new f.vHH(4e3,!1));W=W.children[Wt]}}applyRedirectCommands(O,w,N){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),O,N)}applyRedirectCreateUrlTree(O,w,N,W){const fe=this.createSegmentGroup(O,w.root,N,W);return new Tr(fe,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(O,w){const N={};return Object.entries(O).forEach(([W,fe])=>{if("string"==typeof fe&&fe.startsWith(":")){const Dt=fe.substring(1);N[W]=w[Dt]}else N[W]=fe}),N}createSegmentGroup(O,w,N,W){const fe=this.createSegments(O,w.segments,N,W);let Ve={};return Object.entries(w.children).forEach(([Dt,Mt])=>{Ve[Dt]=this.createSegmentGroup(O,Mt,N,W)}),new Gn(fe,Ve)}createSegments(O,w,N,W){return w.map(fe=>fe.path.startsWith(":")?this.findPosParam(O,fe,W):this.findOrReturn(fe,N))}findPosParam(O,w,N){const W=N[w.path.substring(1)];if(!W)throw new f.vHH(4001,!1);return W}findOrReturn(O,w){let N=0;for(const W of w){if(W.path===O.path)return w.splice(N),W;N++}return O}}const _s={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ss(S,O,w,N,W){const fe=xa(S,O,w);return fe.matched?(N=function ht(S,O){return S.providers&&!S._injector&&(S._injector=(0,f.MMx)(S.providers,O,`Route: ${S.path}`)),S._injector??O}(O,N),function is(S,O,w,N){const W=O.canMatch;if(!W||0===W.length)return(0,Ae.of)(!0);const fe=W.map(Ve=>{const Dt=ao(Ve,S);return Qt(function ge(S){return S&&Ds(S.canMatch)}(Dt)?Dt.canMatch(O,w):S.runInContext(()=>Dt(O,w)))});return(0,Ae.of)(fe).pipe(_i(),rs())}(N,O,w).pipe((0,Ze.U)(Ve=>!0===Ve?fe:{..._s}))):(0,Ae.of)(fe)}function xa(S,O,w){if(""===O.path)return"full"===O.pathMatch&&(S.hasChildren()||w.length>0)?{..._s}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const W=(O.matcher||On)(w,S,O);if(!W)return{..._s};const fe={};Object.entries(W.posParams??{}).forEach(([Dt,Mt])=>{fe[Dt]=Mt.path});const Ve=W.consumed.length>0?{...fe,...W.consumed[W.consumed.length-1].parameters}:fe;return{matched:!0,consumedSegments:W.consumed,remainingSegments:w.slice(W.consumed.length),parameters:Ve,positionalParamSegments:W.posParams??{}}}function Ra(S,O,w,N){return w.length>0&&function ll(S,O,w){return w.some(N=>fa(S,O,N)&&kr(N)!==Wt)}(S,w,N)?{segmentGroup:new Gn(O,Dc(N,new Gn(w,S.children))),slicedSegments:[]}:0===w.length&&function Sc(S,O,w){return w.some(N=>fa(S,O,N))}(S,w,N)?{segmentGroup:new Gn(S.segments,fr(S,0,w,N,S.children)),slicedSegments:w}:{segmentGroup:new Gn(S.segments,S.children),slicedSegments:w}}function fr(S,O,w,N,W){const fe={};for(const Ve of N)if(fa(S,w,Ve)&&!W[kr(Ve)]){const Dt=new Gn([],{});fe[kr(Ve)]=Dt}return{...W,...fe}}function Dc(S,O){const w={};w[Wt]=O;for(const N of S)if(""===N.path&&kr(N)!==Wt){const W=new Gn([],{});w[kr(N)]=W}return w}function fa(S,O,w){return(!(S.hasChildren()||O.length>0)||"full"!==w.pathMatch)&&""===w.path}class ul{constructor(O,w,N,W,fe,Ve,Dt){this.injector=O,this.configLoader=w,this.rootComponentType=N,this.config=W,this.urlTree=fe,this.paramsInheritanceStrategy=Ve,this.urlSerializer=Dt,this.allowRedirects=!0,this.applyRedirects=new ko(this.urlSerializer,this.urlTree)}noMatchError(O){return new f.vHH(4002,!1)}recognize(){const O=Ra(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,Wt).pipe((0,Ke.K)(w=>{if(w instanceof Su)return this.allowRedirects=!1,this.urlTree=w.urlTree,this.match(w.urlTree);throw w instanceof yo?this.noMatchError(w):w}),(0,Ze.U)(w=>{const N=new _o([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Wt,this.rootComponentType,null,{}),W=new qn(N,w),fe=new Ho("",W),Ve=function Je(S,O,w=null,N=null){return nt(He(S),O,w,N)}(N,[],this.urlTree.queryParams,this.urlTree.fragment);return Ve.queryParams=this.urlTree.queryParams,fe.url=this.urlSerializer.serialize(Ve),this.inheritParamsAndData(fe._root),{state:fe,tree:Ve}}))}match(O){return this.processSegmentGroup(this.injector,this.config,O.root,Wt).pipe((0,Ke.K)(N=>{throw N instanceof yo?this.noMatchError(N):N}))}inheritParamsAndData(O){const w=O.value,N=io(w,this.paramsInheritanceStrategy);w.params=Object.freeze(N.params),w.data=Object.freeze(N.data),O.children.forEach(W=>this.inheritParamsAndData(W))}processSegmentGroup(O,w,N,W){return 0===N.segments.length&&N.hasChildren()?this.processChildren(O,w,N):this.processSegment(O,w,N,N.segments,W,!0)}processChildren(O,w,N){const W=[];for(const fe of Object.keys(N.children))"primary"===fe?W.unshift(fe):W.push(fe);return(0,_e.D)(W).pipe((0,Dn.b)(fe=>{const Ve=N.children[fe],Dt=function mi(S,O){const w=S.filter(N=>kr(N)===O);return w.push(...S.filter(N=>kr(N)!==O)),w}(w,fe);return this.processSegmentGroup(O,Dt,Ve,fe)}),(0,ut.R)((fe,Ve)=>(fe.push(...Ve),fe)),(0,Le.d)(null),function Pe(S,O){const w=arguments.length>=2;return N=>N.pipe(S?(0,Ee.h)((W,fe)=>S(W,fe,N)):Ie.y,we(1),w?(0,Le.d)(O):(0,te.T)(()=>new ve.K))}(),(0,Nt.z)(fe=>{if(null===fe)return Vr(N);const Ve=Ws(fe);return function dl(S){S.sort((O,w)=>O.value.outlet===Wt?-1:w.value.outlet===Wt?1:O.value.outlet.localeCompare(w.value.outlet))}(Ve),(0,Ae.of)(Ve)}))}processSegment(O,w,N,W,fe,Ve){return(0,_e.D)(w).pipe((0,Dn.b)(Dt=>this.processSegmentAgainstRoute(Dt._injector??O,w,Dt,N,W,fe,Ve).pipe((0,Ke.K)(Mt=>{if(Mt instanceof yo)return(0,Ae.of)(null);throw Mt}))),(0,Vt.P)(Dt=>!!Dt),(0,Ke.K)(Dt=>{if(_r(Dt))return function qs(S,O,w){return 0===O.length&&!S.children[w]}(N,W,fe)?(0,Ae.of)([]):Vr(N);throw Dt}))}processSegmentAgainstRoute(O,w,N,W,fe,Ve,Dt){return function Gs(S,O,w,N){return!!(kr(S)===N||N!==Wt&&fa(O,w,S))&&("**"===S.path||xa(O,S,w).matched)}(N,W,fe,Ve)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(O,W,N,fe,Ve,Dt):Dt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,W,w,N,fe,Ve):Vr(W):Vr(W)}expandSegmentAgainstRouteUsingRedirect(O,w,N,W,fe,Ve){return"**"===W.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,N,W,Ve):this.expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,W,fe,Ve)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,w,N,W){const fe=this.applyRedirects.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?ha(fe):this.applyRedirects.lineralizeSegments(N,fe).pipe((0,Nt.z)(Ve=>{const Dt=new Gn(Ve,{});return this.processSegment(O,w,Dt,Ve,W,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,W,fe,Ve){const{matched:Dt,consumedSegments:Mt,remainingSegments:Tn,positionalParamSegments:Dr}=xa(w,W,fe);if(!Dt)return Vr(w);const ui=this.applyRedirects.applyRedirectCommands(Mt,W.redirectTo,Dr);return W.redirectTo.startsWith("/")?ha(ui):this.applyRedirects.lineralizeSegments(W,ui).pipe((0,Nt.z)(br=>this.processSegment(O,N,w,br.concat(Tn),Ve,!1)))}matchSegmentAgainstRoute(O,w,N,W,fe,Ve){let Dt;if("**"===N.path){const Mt=W.length>0?Yn(W).parameters:{},Tn=new _o(W,Mt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ms(N),kr(N),N.component??N._loadedComponent??null,N,hl(N));Dt=(0,Ae.of)({snapshot:Tn,consumedSegments:[],remainingSegments:[]}),w.children={}}else Dt=Ss(w,N,W,O).pipe((0,Ze.U)(({matched:Mt,consumedSegments:Tn,remainingSegments:Dr,parameters:ui})=>Mt?{snapshot:new _o(Tn,ui,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ms(N),kr(N),N.component??N._loadedComponent??null,N,hl(N)),consumedSegments:Tn,remainingSegments:Dr}:null));return Dt.pipe((0,Ge.w)(Mt=>null===Mt?Vr(w):this.getChildConfig(O=N._injector??O,N,W).pipe((0,Ge.w)(({routes:Tn})=>{const Dr=N._loadedInjector??O,{snapshot:ui,consumedSegments:br,remainingSegments:Uo}=Mt,{segmentGroup:os,slicedSegments:Ns}=Ra(w,br,Uo,Tn);if(0===Ns.length&&os.hasChildren())return this.processChildren(Dr,Tn,os).pipe((0,Ze.U)(ks=>null===ks?null:[new qn(ui,ks)]));if(0===Tn.length&&0===Ns.length)return(0,Ae.of)([new qn(ui,[])]);const _a=kr(N)===fe;return this.processSegment(Dr,Tn,os,Ns,_a?Wt:fe,!0).pipe((0,Ze.U)(ks=>[new qn(ui,ks)]))}))))}getChildConfig(O,w,N){return w.children?(0,Ae.of)({routes:w.children,injector:O}):w.loadChildren?void 0!==w._loadedRoutes?(0,Ae.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function Tc(S,O,w,N){const W=O.canLoad;if(void 0===W||0===W.length)return(0,Ae.of)(!0);const fe=W.map(Ve=>{const Dt=ao(Ve,S);return Qt(function Zs(S){return S&&Ds(S.canLoad)}(Dt)?Dt.canLoad(O,w):S.runInContext(()=>Dt(O,w)))});return(0,Ae.of)(fe).pipe(_i(),rs())}(O,w,N).pipe((0,Nt.z)(W=>W?this.configLoader.loadChildren(O,w).pipe((0,Tt.b)(fe=>{w._loadedRoutes=fe.routes,w._loadedInjector=fe.injector})):function wc(S){return(0,ye._)(re(!1,3))}())):(0,Ae.of)({routes:[],injector:O})}}function Mc(S){const O=S.value.routeConfig;return O&&""===O.path}function Ws(S){const O=[],w=new Set;for(const N of S){if(!Mc(N)){O.push(N);continue}const W=O.find(fe=>N.value.routeConfig===fe.value.routeConfig);void 0!==W?(W.children.push(...N.children),w.add(W)):O.push(N)}for(const N of w){const W=Ws(N.children);O.push(new qn(N.value,W))}return O.filter(N=>!w.has(N))}function Ms(S){return S.data||{}}function hl(S){return S.resolve||{}}function bi(S){return"string"==typeof S.title||null===S.title}function x(S){return(0,Ge.w)(O=>{const w=S(O);return w?(0,_e.D)(w).pipe((0,Ze.U)(()=>O)):(0,Ae.of)(O)})}const oe=new f.OlP("ROUTES");let j=(()=>{class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,f.f3M)(f.Sil)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,Ae.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const N=Qt(w.loadComponent()).pipe((0,Ze.U)(Ot),(0,Tt.b)(fe=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=fe}),(0,ot.x)(()=>{this.componentLoaders.delete(w)})),W=new Fe(N,()=>new Ne.x).pipe(_t());return this.componentLoaders.set(w,W),W}loadChildren(w,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,Ae.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const fe=function ne(S,O,w,N){return Qt(S.loadChildren()).pipe((0,Ze.U)(Ot),(0,Nt.z)(W=>W instanceof f.YKP||Array.isArray(W)?(0,Ae.of)(W):(0,_e.D)(O.compileModuleAsync(W))),(0,Ze.U)(W=>{N&&N(S);let fe,Ve,Dt=!1;return Array.isArray(W)?(Ve=W,!0):(fe=W.create(w).injector,Ve=fe.get(oe,[],{optional:!0,self:!0}).flat()),{routes:Ve.map(Zr),injector:fe}}))}(N,this.compiler,w,this.onLoadEndListener).pipe((0,ot.x)(()=>{this.childrenLoaders.delete(N)})),Ve=new Fe(fe,()=>new Ne.x).pipe(_t());return this.childrenLoaders.set(N,Ve),Ve}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function Ot(S){return function Ue(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let Ht=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ne.x,this.transitionAbortSubject=new Ne.x,this.configLoader=(0,f.f3M)(j),this.environmentInjector=(0,f.f3M)(f.lqb),this.urlSerializer=(0,f.f3M)(Ur),this.rootContexts=(0,f.f3M)(Zo),this.inputBindingEnabled=null!==(0,f.f3M)(ai,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ae.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=W=>this.events.next(new zs(W)),this.configLoader.onLoadStartListener=W=>this.events.next(new Jr(W))}complete(){this.transitions?.complete()}handleNavigationRequest(w){const N=++this.navigationId;this.transitions?.next({...this.transitions.value,...w,id:N})}setupNavigations(w,N,W){return this.transitions=new de.X({id:0,currentUrlTree:N,currentRawUrl:N,currentBrowserUrl:N,extractedUrl:w.urlHandlingStrategy.extract(N),urlAfterRedirects:w.urlHandlingStrategy.extract(N),rawUrl:N,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ur,restoredState:null,currentSnapshot:W.snapshot,targetSnapshot:null,currentRouterState:W,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ee.h)(fe=>0!==fe.id),(0,Ze.U)(fe=>({...fe,extractedUrl:w.urlHandlingStrategy.extract(fe.rawUrl)})),(0,Ge.w)(fe=>{this.currentTransition=fe;let Ve=!1,Dt=!1;return(0,Ae.of)(fe).pipe((0,Tt.b)(Mt=>{this.currentNavigation={id:Mt.id,initialUrl:Mt.rawUrl,extractedUrl:Mt.extractedUrl,trigger:Mt.source,extras:Mt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ge.w)(Mt=>{const Tn=Mt.currentBrowserUrl.toString(),Dr=!w.navigated||Mt.extractedUrl.toString()!==Tn||Tn!==Mt.currentUrlTree.toString();if(!Dr&&"reload"!==(Mt.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const br="";return this.events.next(new ts(Mt.id,this.urlSerializer.serialize(Mt.rawUrl),br,0)),Mt.resolve(null),De.E}if(w.urlHandlingStrategy.shouldProcessUrl(Mt.rawUrl))return(0,Ae.of)(Mt).pipe((0,Ge.w)(br=>{const Uo=this.transitions?.getValue();return this.events.next(new gi(br.id,this.urlSerializer.serialize(br.extractedUrl),br.source,br.restoredState)),Uo!==this.transitions?.getValue()?De.E:Promise.resolve(br)}),function Oa(S,O,w,N,W,fe){return(0,Nt.z)(Ve=>function pa(S,O,w,N,W,fe,Ve="emptyOnly"){return new ul(S,O,w,N,W,Ve,fe).recognize()}(S,O,w,N,Ve.extractedUrl,W,fe).pipe((0,Ze.U)(({state:Dt,tree:Mt})=>({...Ve,targetSnapshot:Dt,urlAfterRedirects:Mt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,Tt.b)(br=>{fe.targetSnapshot=br.targetSnapshot,fe.urlAfterRedirects=br.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:br.urlAfterRedirects};const Uo=new ji(br.id,this.urlSerializer.serialize(br.extractedUrl),this.urlSerializer.serialize(br.urlAfterRedirects),br.targetSnapshot);this.events.next(Uo)}));if(Dr&&w.urlHandlingStrategy.shouldProcessUrl(Mt.currentRawUrl)){const{id:br,extractedUrl:Uo,source:os,restoredState:Ns,extras:_a}=Mt,ks=new gi(br,this.urlSerializer.serialize(Uo),os,Ns);this.events.next(ks);const oc=zi(0,this.rootComponentType).snapshot;return this.currentTransition=fe={...Mt,targetSnapshot:oc,urlAfterRedirects:Uo,extras:{..._a,skipLocationChange:!1,replaceUrl:!1}},(0,Ae.of)(fe)}{const br="";return this.events.next(new ts(Mt.id,this.urlSerializer.serialize(Mt.extractedUrl),br,1)),Mt.resolve(null),De.E}}),(0,Tt.b)(Mt=>{const Tn=new Qo(Mt.id,this.urlSerializer.serialize(Mt.extractedUrl),this.urlSerializer.serialize(Mt.urlAfterRedirects),Mt.targetSnapshot);this.events.next(Tn)}),(0,Ze.U)(Mt=>(this.currentTransition=fe={...Mt,guards:Ii(Mt.targetSnapshot,Mt.currentSnapshot,this.rootContexts)},fe)),function Sa(S,O){return(0,Nt.z)(w=>{const{targetSnapshot:N,currentSnapshot:W,guards:{canActivateChecks:fe,canDeactivateChecks:Ve}}=w;return 0===Ve.length&&0===fe.length?(0,Ae.of)({...w,guardsResult:!0}):function jl(S,O,w,N){return(0,_e.D)(S).pipe((0,Nt.z)(W=>function da(S,O,w,N,W){const fe=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!fe||0===fe.length)return(0,Ae.of)(!0);const Ve=fe.map(Dt=>{const Mt=Br(O)??W,Tn=ao(Dt,Mt);return Qt(function F(S){return S&&Ds(S.canDeactivate)}(Tn)?Tn.canDeactivate(S,O,w,N):Mt.runInContext(()=>Tn(S,O,w,N))).pipe((0,Vt.P)())});return(0,Ae.of)(Ve).pipe(_i())}(W.component,W.route,w,O,N)),(0,Vt.P)(W=>!0!==W,!0))}(Ve,N,W,S).pipe((0,Nt.z)(Dt=>Dt&&function Xa(S){return"boolean"==typeof S}(Dt)?function bc(S,O,w,N){return(0,_e.D)(O).pipe((0,Dn.b)(W=>(0,G.z)(function Ma(S,O){return null!==S&&O&&O(new jo(S)),(0,Ae.of)(!0)}(W.route.parent,N),function ec(S,O){return null!==S&&O&&O(new Gi(S)),(0,Ae.of)(!0)}(W.route,N),function Pa(S,O,w){const N=O[O.length-1],fe=O.slice(0,O.length-1).reverse().map(Ve=>function ms(S){const O=S.routeConfig?S.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:S,guards:O}:null}(Ve)).filter(Ve=>null!==Ve).map(Ve=>se(()=>{const Dt=Ve.guards.map(Mt=>{const Tn=Br(Ve.node)??w,Dr=ao(Mt,Tn);return Qt(function ie(S){return S&&Ds(S.canActivateChild)}(Dr)?Dr.canActivateChild(N,S):Tn.runInContext(()=>Dr(N,S))).pipe((0,Vt.P)())});return(0,Ae.of)(Dt).pipe(_i())}));return(0,Ae.of)(fe).pipe(_i())}(S,W.path,w),function Cc(S,O,w){const N=O.routeConfig?O.routeConfig.canActivate:null;if(!N||0===N.length)return(0,Ae.of)(!0);const W=N.map(fe=>se(()=>{const Ve=Br(O)??w,Dt=ao(fe,Ve);return Qt(function Q(S){return S&&Ds(S.canActivate)}(Dt)?Dt.canActivate(O,S):Ve.runInContext(()=>Dt(O,S))).pipe((0,Vt.P)())}));return(0,Ae.of)(W).pipe(_i())}(S,W.route,w))),(0,Vt.P)(W=>!0!==W,!0))}(N,fe,S,O):(0,Ae.of)(Dt)),(0,Ze.U)(Dt=>({...w,guardsResult:Dt})))})}(this.environmentInjector,Mt=>this.events.next(Mt)),(0,Tt.b)(Mt=>{if(fe.guardsResult=Mt.guardsResult,Jn(Mt.guardsResult))throw ci(0,Mt.guardsResult);const Tn=new ii(Mt.id,this.urlSerializer.serialize(Mt.extractedUrl),this.urlSerializer.serialize(Mt.urlAfterRedirects),Mt.targetSnapshot,!!Mt.guardsResult);this.events.next(Tn)}),(0,Ee.h)(Mt=>!!Mt.guardsResult||(this.cancelNavigationTransition(Mt,"",3),!1)),x(Mt=>{if(Mt.guards.canActivateChecks.length)return(0,Ae.of)(Mt).pipe((0,Tt.b)(Tn=>{const Dr=new wa(Tn.id,this.urlSerializer.serialize(Tn.extractedUrl),this.urlSerializer.serialize(Tn.urlAfterRedirects),Tn.targetSnapshot);this.events.next(Dr)}),(0,Ge.w)(Tn=>{let Dr=!1;return(0,Ae.of)(Tn).pipe(function tc(S,O){return(0,Nt.z)(w=>{const{targetSnapshot:N,guards:{canActivateChecks:W}}=w;if(!W.length)return(0,Ae.of)(w);let fe=0;return(0,_e.D)(W).pipe((0,Dn.b)(Ve=>function Hl(S,O,w,N){const W=S.routeConfig,fe=S._resolve;return void 0!==W?.title&&!bi(W)&&(fe[bn]=W.title),function ga(S,O,w,N){const W=function Ps(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===W.length)return(0,Ae.of)({});const fe={};return(0,_e.D)(W).pipe((0,Nt.z)(Ve=>function fl(S,O,w,N){const W=Br(O)??N,fe=ao(S,W);return Qt(fe.resolve?fe.resolve(O,w):W.runInContext(()=>fe(O,w)))}(S[Ve],O,w,N).pipe((0,Vt.P)(),(0,Tt.b)(Dt=>{fe[Ve]=Dt}))),we(1),function je(S){return(0,Ze.U)(()=>S)}(fe),(0,Ke.K)(Ve=>_r(Ve)?De.E:(0,ye._)(Ve)))}(fe,S,O,N).pipe((0,Ze.U)(Ve=>(S._resolvedData=Ve,S.data=io(S,w).resolve,W&&bi(W)&&(S.data[bn]=W.title),null)))}(Ve.route,N,S,O)),(0,Tt.b)(()=>fe++),we(1),(0,Nt.z)(Ve=>fe===W.length?(0,Ae.of)(w):De.E))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,Tt.b)({next:()=>Dr=!0,complete:()=>{Dr||this.cancelNavigationTransition(Tn,"",2)}}))}),(0,Tt.b)(Tn=>{const Dr=new Ni(Tn.id,this.urlSerializer.serialize(Tn.extractedUrl),this.urlSerializer.serialize(Tn.urlAfterRedirects),Tn.targetSnapshot);this.events.next(Dr)}))}),x(Mt=>{const Tn=Dr=>{const ui=[];Dr.routeConfig?.loadComponent&&!Dr.routeConfig._loadedComponent&&ui.push(this.configLoader.loadComponent(Dr.routeConfig).pipe((0,Tt.b)(br=>{Dr.component=br}),(0,Ze.U)(()=>{})));for(const br of Dr.children)ui.push(...Tn(br));return ui};return(0,ae.a)(Tn(Mt.targetSnapshot.root)).pipe((0,Le.d)(),(0,dt.q)(1))}),x(()=>this.afterPreactivation()),(0,Ze.U)(Mt=>{const Tn=function si(S,O,w){const N=so(S,O._root,w?w._root:void 0);return new oi(N,O)}(w.routeReuseStrategy,Mt.targetSnapshot,Mt.currentRouterState);return this.currentTransition=fe={...Mt,targetRouterState:Tn},fe}),(0,Tt.b)(()=>{this.events.next(new $s)}),((S,O,w,N)=>(0,Ze.U)(W=>(new yr(O,W.targetRouterState,W.currentRouterState,w,N).activate(S),W)))(this.rootContexts,w.routeReuseStrategy,Mt=>this.events.next(Mt),this.inputBindingEnabled),(0,dt.q)(1),(0,Tt.b)({next:Mt=>{Ve=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new lo(Mt.id,this.urlSerializer.serialize(Mt.extractedUrl),this.urlSerializer.serialize(Mt.urlAfterRedirects))),w.titleStrategy?.updateTitle(Mt.targetRouterState.snapshot),Mt.resolve(!0)},complete:()=>{Ve=!0}}),(0,vt.R)(this.transitionAbortSubject.pipe((0,Tt.b)(Mt=>{throw Mt}))),(0,ot.x)(()=>{Ve||Dt||this.cancelNavigationTransition(fe,"",1),this.currentNavigation?.id===fe.id&&(this.currentNavigation=null)}),(0,Ke.K)(Mt=>{if(Dt=!0,ke(Mt))this.events.next(new zr(fe.id,this.urlSerializer.serialize(fe.extractedUrl),Mt.message,Mt.cancellationCode)),function Y(S){return ke(S)&&Jn(S.url)}(Mt)?this.events.next(new wo(Mt.url)):fe.resolve(!1);else{this.events.next(new go(fe.id,this.urlSerializer.serialize(fe.extractedUrl),Mt,fe.targetSnapshot??void 0));try{fe.resolve(w.errorHandler(Mt))}catch(Tn){fe.reject(Tn)}}return De.E}))}))}cancelNavigationTransition(w,N,W){const fe=new zr(w.id,this.urlSerializer.serialize(w.extractedUrl),N,W);this.events.next(fe),w.resolve(!1)}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function Mn(S){return S!==ur}let Lr=(()=>{class S{buildTitle(w){let N,W=w.root;for(;void 0!==W;)N=this.getResolvedTitleForRoute(W)??N,W=W.children.find(fe=>fe.outlet===Wt);return N}getResolvedTitleForRoute(w){return w.data[bn]}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:function(){return(0,f.f3M)(li)},providedIn:"root"})}return S})(),li=(()=>{class S extends Lr{constructor(w){super(),this.title=w}updateTitle(w){const N=this.buildTitle(w);void 0!==N&&this.title.setTitle(N)}static#e=this.\u0275fac=function(N){return new(N||S)(f.LFG(Zt.Dx))};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})(),ti=(()=>{class S{static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:function(){return(0,f.f3M)(pi)},providedIn:"root"})}return S})();class Ir{shouldDetach(O){return!1}store(O,w){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,w){return O.routeConfig===w.routeConfig}}let pi=(()=>{class S extends Ir{static#e=this.\u0275fac=function(){let w;return function(W){return(w||(w=f.n5z(S)))(W||S)}}();static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const Qr=new f.OlP("",{providedIn:"root",factory:()=>({})});let Wi=(()=>{class S{static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:function(){return(0,f.f3M)(Mo)},providedIn:"root"})}return S})(),Mo=(()=>{class S{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,N){return w}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();var Eo=function(S){return S[S.COMPLETE=0]="COMPLETE",S[S.FAILED=1]="FAILED",S[S.REDIRECTING=2]="REDIRECTING",S}(Eo||{});function Ks(S,O){S.events.pipe((0,Ee.h)(w=>w instanceof lo||w instanceof zr||w instanceof go||w instanceof ts),(0,Ze.U)(w=>w instanceof lo||w instanceof ts?Eo.COMPLETE:w instanceof zr&&(0===w.code||1===w.code)?Eo.REDIRECTING:Eo.FAILED),(0,Ee.h)(w=>w!==Eo.REDIRECTING),(0,dt.q)(1)).subscribe(()=>{O()})}function Go(S){throw S}function Ci(S,O,w){return O.parse("/")}const cr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zo=(()=>{class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,f.f3M)(f.c2e),this.isNgZoneEnabled=!1,this._events=new Ne.x,this.options=(0,f.f3M)(Qr,{optional:!0})||{},this.pendingTasks=(0,f.f3M)(f.HDt),this.errorHandler=this.options.errorHandler||Go,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ci,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,f.f3M)(Wi),this.routeReuseStrategy=(0,f.f3M)(ti),this.titleStrategy=(0,f.f3M)(Lr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,f.f3M)(oe,{optional:!0})?.flat()??[],this.navigationTransitions=(0,f.f3M)(Ht),this.urlSerializer=(0,f.f3M)(Ur),this.location=(0,f.f3M)(tt.Ye),this.componentInputBindingEnabled=!!(0,f.f3M)(ai,{optional:!0}),this.eventsSubscription=new Re.w0,this.isNgZoneEnabled=(0,f.f3M)(f.R0b)instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Tr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=zi(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(w=>{this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(N=>{try{const{currentTransition:W}=this.navigationTransitions;if(null===W)return void(Pc(N)&&this._events.next(N));if(N instanceof gi)Mn(W.source)&&(this.browserUrlTree=W.extractedUrl);else if(N instanceof ts)this.rawUrlTree=W.rawUrl;else if(N instanceof ji){if("eager"===this.urlUpdateStrategy){if(!W.extras.skipLocationChange){const fe=this.urlHandlingStrategy.merge(W.urlAfterRedirects,W.rawUrl);this.setBrowserUrl(fe,W)}this.browserUrlTree=W.urlAfterRedirects}}else if(N instanceof $s)this.currentUrlTree=W.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(W.urlAfterRedirects,W.rawUrl),this.routerState=W.targetRouterState,"deferred"===this.urlUpdateStrategy&&(W.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,W),this.browserUrlTree=W.urlAfterRedirects);else if(N instanceof zr)0!==N.code&&1!==N.code&&(this.navigated=!0),(3===N.code||2===N.code)&&this.restoreHistory(W);else if(N instanceof wo){const fe=this.urlHandlingStrategy.merge(N.url,W.currentRawUrl),Ve={skipLocationChange:W.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Mn(W.source)};this.scheduleNavigation(fe,ur,null,Ve,{resolve:W.resolve,reject:W.reject,promise:W.promise})}N instanceof go&&this.restoreHistory(W,!0),N instanceof lo&&(this.navigated=!0),Pc(N)&&this._events.next(N)}catch(W){this.navigationTransitions.transitionAbortSubject.next(W)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ur,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const N="popstate"===w.type?"popstate":"hashchange";"popstate"===N&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,N,w.state)},0)}))}navigateToSyncWithBrowser(w,N,W){const fe={replaceUrl:!0},Ve=W?.navigationId?W:null;if(W){const Mt={...W};delete Mt.navigationId,delete Mt.\u0275routerPageId,0!==Object.keys(Mt).length&&(fe.state=Mt)}const Dt=this.parseUrl(w);this.scheduleNavigation(Dt,N,Ve,fe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(Zr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,N={}){const{relativeTo:W,queryParams:fe,fragment:Ve,queryParamsHandling:Dt,preserveFragment:Mt}=N,Tn=Mt?this.currentUrlTree.fragment:Ve;let ui,Dr=null;switch(Dt){case"merge":Dr={...this.currentUrlTree.queryParams,...fe};break;case"preserve":Dr=this.currentUrlTree.queryParams;break;default:Dr=fe||null}null!==Dr&&(Dr=this.removeEmptyProps(Dr));try{ui=He(W?W.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||!w[0].startsWith("/"))&&(w=[]),ui=this.currentUrlTree.root}return nt(ui,w,Dr,Tn??null)}navigateByUrl(w,N={skipLocationChange:!1}){const W=Jn(w)?w:this.parseUrl(w),fe=this.urlHandlingStrategy.merge(W,this.rawUrlTree);return this.scheduleNavigation(fe,ur,null,N)}navigate(w,N={skipLocationChange:!1}){return function vi(S){for(let O=0;O<S.length;O++)if(null==S[O])throw new f.vHH(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,N),N)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let N;try{N=this.urlSerializer.parse(w)}catch(W){N=this.malformedUriErrorHandler(W,this.urlSerializer,w)}return N}isActive(w,N){let W;if(W=!0===N?{...cr}:!1===N?{...qo}:N,Jn(w))return Rr(this.currentUrlTree,w,W);const fe=this.parseUrl(w);return Rr(this.currentUrlTree,fe,W)}removeEmptyProps(w){return Object.keys(w).reduce((N,W)=>{const fe=w[W];return null!=fe&&(N[W]=fe),N},{})}scheduleNavigation(w,N,W,fe,Ve){if(this.disposed)return Promise.resolve(!1);let Dt,Mt,Tn;Ve?(Dt=Ve.resolve,Mt=Ve.reject,Tn=Ve.promise):Tn=new Promise((ui,br)=>{Dt=ui,Mt=br});const Dr=this.pendingTasks.add();return Ks(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Dr))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:W,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:w,extras:fe,resolve:Dt,reject:Mt,promise:Tn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Tn.catch(ui=>Promise.reject(ui))}setBrowserUrl(w,N){const W=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(W)||N.extras.replaceUrl){const Ve={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId)};this.location.replaceState(W,"",Ve)}else{const fe={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId+1)};this.location.go(W,"",fe)}}restoreHistory(w,N=!1){if("computed"===this.canceledNavigationResolution){const fe=this.currentPageId-this.browserPageId;0!==fe?this.location.historyGo(fe):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===fe&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,N){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:N}:{navigationId:w}}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function Pc(S){return!(S instanceof $s||S instanceof wo)}let Qs=(()=>{class S{constructor(w,N,W,fe,Ve,Dt){this.router=w,this.route=N,this.tabIndexAttribute=W,this.renderer=fe,this.el=Ve,this.locationStrategy=Dt,this.href=null,this.commands=null,this.onChanges=new Ne.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Mt=Ve.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Mt||"area"===Mt,this.isAnchorElement?this.subscription=w.events.subscribe(Tn=>{Tn instanceof lo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,N,W,fe,Ve){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||N||W||fe||Ve||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const w=null===this.href?null:(0,f.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",w)}applyAttributeValue(w,N){const W=this.renderer,fe=this.el.nativeElement;null!==N?W.setAttribute(fe,w,N):W.removeAttribute(fe,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(N){return new(N||S)(f.Y36(zo),f.Y36(ro),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(tt.S$))};static#t=this.\u0275dir=f.lG2({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(N,W){1&N&&f.NdJ("click",function(Ve){return W.onClick(Ve.button,Ve.ctrlKey,Ve.shiftKey,Ve.altKey,Ve.metaKey)}),2&N&&f.uIk("target",W.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",f.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",f.VuI],replaceUrl:["replaceUrl","replaceUrl",f.VuI],routerLink:"routerLink"},standalone:!0,features:[f.Xq5,f.TTD]})}return S})();class xc{}let nc=(()=>{class S{constructor(w,N,W,fe,Ve){this.router=w,this.injector=W,this.preloadingStrategy=fe,this.loader=Ve}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ee.h)(w=>w instanceof lo),(0,Dn.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,N){const W=[];for(const fe of N){fe.providers&&!fe._injector&&(fe._injector=(0,f.MMx)(fe.providers,w,`Route: ${fe.path}`));const Ve=fe._injector??w,Dt=fe._loadedInjector??Ve;(fe.loadChildren&&!fe._loadedRoutes&&void 0===fe.canLoad||fe.loadComponent&&!fe._loadedComponent)&&W.push(this.preloadConfig(Ve,fe)),(fe.children||fe._loadedRoutes)&&W.push(this.processRoutes(Dt,fe.children??fe._loadedRoutes))}return(0,_e.D)(W).pipe((0,Bt.J)())}preloadConfig(w,N){return this.preloadingStrategy.preload(N,()=>{let W;W=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(w,N):(0,Ae.of)(null);const fe=W.pipe((0,Nt.z)(Ve=>null===Ve?(0,Ae.of)(void 0):(N._loadedRoutes=Ve.routes,N._loadedInjector=Ve.injector,this.processRoutes(Ve.injector??w,Ve.routes))));if(N.loadComponent&&!N._loadedComponent){const Ve=this.loader.loadComponent(N);return(0,_e.D)([fe,Ve]).pipe((0,Bt.J)())}return fe})}static#e=this.\u0275fac=function(N){return new(N||S)(f.LFG(zo),f.LFG(f.Sil),f.LFG(f.lqb),f.LFG(xc),f.LFG(j))};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const Rc=new f.OlP("");let Ld=(()=>{class S{constructor(w,N,W,fe,Ve={}){this.urlSerializer=w,this.transitions=N,this.viewportScroller=W,this.zone=fe,this.options=Ve,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ve.scrollPositionRestoration=Ve.scrollPositionRestoration||"disabled",Ve.anchorScrolling=Ve.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof gi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof lo?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof ts&&0===w.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Pi&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,N){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Pi(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(N){f.$Z()};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac})}return S})();function xs(S,O){return{\u0275kind:S,\u0275providers:O}}function dr(){const S=(0,f.f3M)(f.zs3);return O=>{const w=S.get(f.z2F);if(O!==w.components[0])return;const N=S.get(zo),W=S.get(xu);1===S.get(Oc)&&N.initialNavigation(),S.get(Vi,null,f.XFs.Optional)?.setUpPreloading(),S.get(Rc,null,f.XFs.Optional)?.init(),N.resetRootComponentType(w.componentTypes[0]),W.closed||(W.next(),W.complete(),W.unsubscribe())}}const xu=new f.OlP("",{factory:()=>new Ne.x}),Oc=new f.OlP("",{providedIn:"root",factory:()=>1}),Vi=new f.OlP("");function ka(S){return xs(0,[{provide:Vi,useExisting:nc},{provide:xc,useExisting:S}])}const Gt=new f.OlP("ROUTER_FORROOT_GUARD"),Gr=[tt.Ye,{provide:Ur,useClass:sr},zo,Zo,{provide:ro,useFactory:function Xs(S){return S.routerState.root},deps:[zo]},j,[]];function Nu(){return new f.PXZ("Router",zo)}let rc=(()=>{class S{constructor(w){}static forRoot(w,N){return{ngModule:S,providers:[Gr,[],{provide:oe,multi:!0,useValue:w},{provide:Gt,useFactory:Vo,deps:[[zo,new f.FiY,new f.tp0]]},{provide:Qr,useValue:N||{}},N?.useHash?{provide:tt.S$,useClass:tt.Do}:{provide:tt.S$,useClass:tt.b0},{provide:Rc,useFactory:()=>{const S=(0,f.f3M)(tt.EM),O=(0,f.f3M)(f.R0b),w=(0,f.f3M)(Qr),N=(0,f.f3M)(Ht),W=(0,f.f3M)(Ur);return w.scrollOffset&&S.setOffset(w.scrollOffset),new Ld(W,N,S,O,w)}},N?.preloadingStrategy?ka(N.preloadingStrategy).\u0275providers:[],{provide:f.PXZ,multi:!0,useFactory:Nu},N?.initialNavigation?kc(N):[],N?.bindToComponentInputs?xs(8,[Do,{provide:ai,useExisting:Do}]).\u0275providers:[],[{provide:ic,useFactory:dr},{provide:f.tb,multi:!0,useExisting:ic}]]}}static forChild(w){return{ngModule:S,providers:[{provide:oe,multi:!0,useValue:w}]}}static#e=this.\u0275fac=function(N){return new(N||S)(f.LFG(Gt,8))};static#t=this.\u0275mod=f.oAB({type:S});static#n=this.\u0275inj=f.cJS({})}return S})();function Vo(S){return"guarded"}function kc(S){return["disabled"===S.initialNavigation?xs(3,[{provide:f.ip1,multi:!0,useFactory:()=>{const O=(0,f.f3M)(zo);return()=>{O.setUpLocationChangeListener()}}},{provide:Oc,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?xs(2,[{provide:Oc,useValue:0},{provide:f.ip1,multi:!0,deps:[f.zs3],useFactory:O=>{const w=O.get(tt.V_,Promise.resolve());return()=>w.then(()=>new Promise(N=>{const W=O.get(zo),fe=O.get(xu);Ks(W,()=>{N(!0)}),O.get(Ht).afterPreactivation=()=>(N(!0),fe.closed?(0,Ae.of)(void 0):fe),W.initialNavigation()}))}}]).\u0275providers:[]]}const ic=new f.OlP("")},3106:(sn,lt,k)=>{"use strict";k.d(lt,{Z:()=>De});var f=k(9058),o=k(4537),U=k(534),Se=k(7879);class _e{constructor(Ye,We){this._delegate=Ye,this.firebase=We,(0,U._addComponent)(Ye,new o.wA("app-compat",()=>this,"PUBLIC")),this.container=Ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ye){this._delegate.automaticDataCollectionEnabled=Ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ye=>{this._delegate.checkDestroyed(),Ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(Ye,We=U._DEFAULT_ENTRY_NAME){var _t;this._delegate.checkDestroyed();const Fe=this._delegate.container.getProvider(Ye);return!Fe.isInitialized()&&"EXPLICIT"===(null===(_t=Fe.getComponent())||void 0===_t?void 0:_t.instantiationMode)&&Fe.initialize(),Fe.getImmediate({identifier:We})}_removeServiceInstance(Ye,We=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ye).clearInstance(We)}_addComponent(Ye){(0,U._addComponent)(this._delegate,Ye)}_addOrOverwriteComponent(Ye){(0,U._addOrOverwriteComponent)(this._delegate,Ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function ve(){const Re=function ae(Re){const Ye={},We={__esModule:!0,initializeApp:function Ne(dt,bt={}){const Ee=U.initializeApp(dt,bt);if((0,f.r3)(Ye,Ee.name))return Ye[Ee.name];const Nt=new Re(Ee,We);return Ye[Ee.name]=Nt,Nt},app:Fe,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function Ze(dt){const bt=dt.name,Ee=bt.replace("-compat","");if(U._registerComponent(dt)&&"PUBLIC"===dt.type){const Nt=(Vt=Fe())=>{if("function"!=typeof Vt[Ee])throw de.create("invalid-app-argument",{appName:bt});return Vt[Ee]()};void 0!==dt.serviceProps&&(0,f.ZB)(Nt,dt.serviceProps),We[Ee]=Nt,Re.prototype[Ee]=function(...Vt){return this._getService.bind(this,bt).apply(this,dt.multipleInstances?Vt:[])}}return"PUBLIC"===dt.type?We[Ee]:null},removeApp:function _t(dt){delete Ye[dt]},useAsService:function Ge(dt,bt){return"serverAuth"===bt?null:bt},modularAPIs:U}};function Fe(dt){if(!(0,f.r3)(Ye,dt=dt||U._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:dt});return Ye[dt]}return We.default=We,Object.defineProperty(We,"apps",{get:function tt(){return Object.keys(Ye).map(dt=>Ye[dt])}}),Fe.App=Re,We}(_e);return Re.INTERNAL=Object.assign(Object.assign({},Re.INTERNAL),{createFirebaseNamespace:ve,extendNamespace:function Ye(We){(0,f.ZB)(Re,We)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),Re}(),z=new Se.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Re=self.firebase.SDK_VERSION;Re&&Re.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const De=G;!function ye(Re){(0,U.registerVersion)("@firebase/app-compat","0.2.35",Re)}()},534:(sn,lt,k)=>{"use strict";k.r(lt),k.d(lt,{FirebaseError:()=>Se.ZR,SDK_VERSION:()=>Be,_DEFAULT_ENTRY_NAME:()=>Un,_addComponent:()=>Wn,_addOrOverwriteComponent:()=>Yr,_apps:()=>Ar,_clearComponents:()=>Mr,_components:()=>Gn,_getProvider:()=>gn,_isFirebaseApp:()=>sr,_isFirebaseServerApp:()=>Or,_registerComponent:()=>yi,_removeServiceInstance:()=>Ur,_serverApps:()=>Tr,deleteApp:()=>wr,getApp:()=>zn,getApps:()=>hi,initializeApp:()=>xt,initializeServerApp:()=>tn,onLog:()=>K,registerVersion:()=>ce,setLogLevel:()=>H});var f=k(5861),o=k(4537),U=k(7879),Se=k(9058);const _e=(yt,ft)=>ft.some(Ft=>yt instanceof Ft);let Ae,de;const G=new WeakMap,z=new WeakMap,se=new WeakMap,be=new WeakMap,ye=new WeakMap;let Ye={get(yt,ft,Ft){if(yt instanceof IDBTransaction){if("done"===ft)return z.get(yt);if("objectStoreNames"===ft)return yt.objectStoreNames||se.get(yt);if("store"===ft)return Ft.objectStoreNames[1]?void 0:Ft.objectStore(Ft.objectStoreNames[0])}return Ne(yt[ft])},set:(yt,ft,Ft)=>(yt[ft]=Ft,!0),has:(yt,ft)=>yt instanceof IDBTransaction&&("done"===ft||"store"===ft)||ft in yt};function Fe(yt){return"function"==typeof yt?function _t(yt){return yt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(yt)?function(...ft){return yt.apply(tt(this),ft),Ne(G.get(this))}:function(...ft){return Ne(yt.apply(tt(this),ft))}:function(ft,...Ft){const un=yt.call(tt(this),ft,...Ft);return se.set(un,ft.sort?ft.sort():[ft]),Ne(un)}}(yt):(yt instanceof IDBTransaction&&function Re(yt){if(z.has(yt))return;const ft=new Promise((Ft,un)=>{const Ln=()=>{yt.removeEventListener("complete",Vn),yt.removeEventListener("error",vn),yt.removeEventListener("abort",vn)},Vn=()=>{Ft(),Ln()},vn=()=>{un(yt.error||new DOMException("AbortError","AbortError")),Ln()};yt.addEventListener("complete",Vn),yt.addEventListener("error",vn),yt.addEventListener("abort",vn)});z.set(yt,ft)}(yt),_e(yt,function ae(){return Ae||(Ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(yt,Ye):yt)}function Ne(yt){if(yt instanceof IDBRequest)return function De(yt){const ft=new Promise((Ft,un)=>{const Ln=()=>{yt.removeEventListener("success",Vn),yt.removeEventListener("error",vn)},Vn=()=>{Ft(Ne(yt.result)),Ln()},vn=()=>{un(yt.error),Ln()};yt.addEventListener("success",Vn),yt.addEventListener("error",vn)});return ft.then(Ft=>{Ft instanceof IDBCursor&&G.set(Ft,yt)}).catch(()=>{}),ye.set(ft,yt),ft}(yt);if(be.has(yt))return be.get(yt);const ft=Fe(yt);return ft!==yt&&(be.set(yt,ft),ye.set(ft,yt)),ft}const tt=yt=>ye.get(yt),dt=["get","getKey","getAll","getAllKeys","count"],bt=["put","add","delete","clear"],Ee=new Map;function Nt(yt,ft){if(!(yt instanceof IDBDatabase)||ft in yt||"string"!=typeof ft)return;if(Ee.get(ft))return Ee.get(ft);const Ft=ft.replace(/FromIndex$/,""),un=ft!==Ft,Ln=bt.includes(Ft);if(!(Ft in(un?IDBIndex:IDBObjectStore).prototype)||!Ln&&!dt.includes(Ft))return;const Vn=function(){var vn=(0,f.Z)(function*($n,...Pr){const fi=this.transaction($n,Ln?"readwrite":"readonly");let ei=fi.store;return un&&(ei=ei.index(Pr.shift())),(yield Promise.all([ei[Ft](...Pr),Ln&&fi.done]))[0]});return function(Pr){return vn.apply(this,arguments)}}();return Ee.set(ft,Vn),Vn}!function We(yt){Ye=yt(Ye)}(yt=>({...yt,get:(ft,Ft,un)=>Nt(ft,Ft)||yt.get(ft,Ft,un),has:(ft,Ft)=>!!Nt(ft,Ft)||yt.has(ft,Ft)}));class Vt{constructor(ft){this.container=ft}getPlatformInfoString(){return this.container.getProviders().map(Ft=>{if(function Dn(yt){const ft=yt.getComponent();return"VERSION"===ft?.type}(Ft)){const un=Ft.getImmediate();return`${un.library}/${un.version}`}return null}).filter(Ft=>Ft).join(" ")}}const Tt="@firebase/app",Ke="0.10.5",ut=new U.Yd("@firebase/app"),Un="[DEFAULT]",Hn={[Tt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Ar=new Map,Tr=new Map,Gn=new Map;function Wn(yt,ft){try{yt.container.addComponent(ft)}catch(Ft){ut.debug(`Component ${ft.name} failed to register with FirebaseApp ${yt.name}`,Ft)}}function Yr(yt,ft){yt.container.addOrOverwriteComponent(ft)}function yi(yt){const ft=yt.name;if(Gn.has(ft))return ut.debug(`There were multiple attempts to register component ${ft}.`),!1;Gn.set(ft,yt);for(const Ft of Ar.values())Wn(Ft,yt);for(const Ft of Tr.values())Wn(Ft,yt);return!0}function gn(yt,ft){const Ft=yt.container.getProvider("heartbeat").getImmediate({optional:!0});return Ft&&Ft.triggerHeartbeat(),yt.container.getProvider(ft)}function Ur(yt,ft,Ft=Un){gn(yt,ft).clearInstance(Ft)}function sr(yt){return void 0!==yt.options}function Or(yt){return void 0!==yt.settings}function Mr(){Gn.clear()}const at=new Se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class wt{constructor(ft,Ft,un){this._isDeleted=!1,this._options=Object.assign({},ft),this._config=Object.assign({},Ft),this._name=Ft.name,this._automaticDataCollectionEnabled=Ft.automaticDataCollectionEnabled,this._container=un,this.container.addComponent(new o.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ft){this.checkDestroyed(),this._automaticDataCollectionEnabled=ft}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ft){this._isDeleted=ft}checkDestroyed(){if(this.isDeleted)throw at.create("app-deleted",{appName:this._name})}}class ue extends wt{constructor(ft,Ft,un,Ln){const Vn=void 0!==Ft.automaticDataCollectionEnabled&&Ft.automaticDataCollectionEnabled,vn={name:un,automaticDataCollectionEnabled:Vn};super(void 0!==ft.apiKey?ft:ft.options,vn,Ln),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Vn},Ft),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Ft.releaseOnDeref=void 0,ce(Tt,Ke,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(ft){this.isDeleted||(this._refCount++,void 0!==ft&&this._finalizationRegistry.register(ft,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){wr(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw at.create("server-app-deleted")}}const Be="10.12.2";function xt(yt,ft={}){let Ft=yt;"object"!=typeof ft&&(ft={name:ft});const un=Object.assign({name:Un,automaticDataCollectionEnabled:!1},ft),Ln=un.name;if("string"!=typeof Ln||!Ln)throw at.create("bad-app-name",{appName:String(Ln)});if(Ft||(Ft=(0,Se.aH)()),!Ft)throw at.create("no-options");const Vn=Ar.get(Ln);if(Vn){if((0,Se.vZ)(Ft,Vn.options)&&(0,Se.vZ)(un,Vn.config))return Vn;throw at.create("duplicate-app",{appName:Ln})}const vn=new o.H0(Ln);for(const Pr of Gn.values())vn.addComponent(Pr);const $n=new wt(Ft,un,vn);return Ar.set(Ln,$n),$n}function tn(yt,ft){if((0,Se.jU)())throw at.create("invalid-server-app-environment");let Ft;void 0===ft.automaticDataCollectionEnabled&&(ft.automaticDataCollectionEnabled=!1),Ft=sr(yt)?yt.options:yt;const un=Object.assign(Object.assign({},ft),Ft);if(void 0!==un.releaseOnDeref&&delete un.releaseOnDeref,void 0!==ft.releaseOnDeref&&typeof FinalizationRegistry>"u")throw at.create("finalization-registry-not-supported",{});const Vn=""+(fi=JSON.stringify(un),[...fi].reduce((ei,ur)=>Math.imul(31,ei)+ur.charCodeAt(0)|0,0)),vn=Tr.get(Vn);var fi;if(vn)return vn.incRefCount(ft.releaseOnDeref),vn;const $n=new o.H0(Vn);for(const fi of Gn.values())$n.addComponent(fi);const Pr=new ue(Ft,ft,Vn,$n);return Tr.set(Vn,Pr),Pr}function zn(yt=Un){const ft=Ar.get(yt);if(!ft&&yt===Un&&(0,Se.aH)())return xt();if(!ft)throw at.create("no-app",{appName:yt});return ft}function hi(){return Array.from(Ar.values())}function wr(yt){return qe.apply(this,arguments)}function qe(){return(qe=(0,f.Z)(function*(yt){let ft=!1;const Ft=yt.name;Ar.has(Ft)?(ft=!0,Ar.delete(Ft)):Tr.has(Ft)&&yt.decRefCount()<=0&&(Tr.delete(Ft),ft=!0),ft&&(yield Promise.all(yt.container.getProviders().map(un=>un.delete())),yt.isDeleted=!0)})).apply(this,arguments)}function ce(yt,ft,Ft){var un;let Ln=null!==(un=Hn[yt])&&void 0!==un?un:yt;Ft&&(Ln+=`-${Ft}`);const Vn=Ln.match(/\s|\//),vn=ft.match(/\s|\//);if(Vn||vn){const $n=[`Unable to register library "${Ln}" with version "${ft}":`];return Vn&&$n.push(`library name "${Ln}" contains illegal characters (whitespace or "/")`),Vn&&vn&&$n.push("and"),vn&&$n.push(`version name "${ft}" contains illegal characters (whitespace or "/")`),void ut.warn($n.join(" "))}yi(new o.wA(`${Ln}-version`,()=>({library:Ln,version:ft}),"VERSION"))}function K(yt,ft){if(null!==yt&&"function"!=typeof yt)throw at.create("invalid-log-argument");(0,U.Am)(yt,ft)}function H(yt){(0,U.Ub)(yt)}const B="firebase-heartbeat-database",Te=1,Xe="firebase-heartbeat-store";let kt=null;function $t(){return kt||(kt=function Ze(yt,ft,{blocked:Ft,upgrade:un,blocking:Ln,terminated:Vn}={}){const vn=indexedDB.open(yt,ft),$n=Ne(vn);return un&&vn.addEventListener("upgradeneeded",Pr=>{un(Ne(vn.result),Pr.oldVersion,Pr.newVersion,Ne(vn.transaction),Pr)}),Ft&&vn.addEventListener("blocked",Pr=>Ft(Pr.oldVersion,Pr.newVersion,Pr)),$n.then(Pr=>{Vn&&Pr.addEventListener("close",()=>Vn()),Ln&&Pr.addEventListener("versionchange",fi=>Ln(fi.oldVersion,fi.newVersion,fi))}).catch(()=>{}),$n}(B,Te,{upgrade:(yt,ft)=>{if(0===ft)try{yt.createObjectStore(Xe)}catch(Ft){console.warn(Ft)}}}).catch(yt=>{throw at.create("idb-open",{originalErrorMessage:yt.message})})),kt}function an(){return(an=(0,f.Z)(function*(yt){try{const Ft=(yield $t()).transaction(Xe),un=yield Ft.objectStore(Xe).get(Je(yt));return yield Ft.done,un}catch(ft){if(ft instanceof Se.ZR)ut.warn(ft.message);else{const Ft=at.create("idb-get",{originalErrorMessage:ft?.message});ut.warn(Ft.message)}}})).apply(this,arguments)}function fn(yt,ft){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,f.Z)(function*(yt,ft){try{const un=(yield $t()).transaction(Xe,"readwrite");yield un.objectStore(Xe).put(ft,Je(yt)),yield un.done}catch(Ft){if(Ft instanceof Se.ZR)ut.warn(Ft.message);else{const un=at.create("idb-set",{originalErrorMessage:Ft?.message});ut.warn(un.message)}}})).apply(this,arguments)}function Je(yt){return`${yt.name}!${yt.options.appId}`}class jt{constructor(ft){this.container=ft,this._heartbeatsCache=null;const Ft=this.container.getProvider("app").getImmediate();this._storage=new cn(Ft),this._heartbeatsCachePromise=this._storage.read().then(un=>(this._heartbeatsCache=un,un))}triggerHeartbeat(){var ft=this;return(0,f.Z)(function*(){var Ft,un;const Vn=ft.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),vn=Xt();if((null!=(null===(Ft=ft._heartbeatsCache)||void 0===Ft?void 0:Ft.heartbeats)||(ft._heartbeatsCache=yield ft._heartbeatsCachePromise,null!=(null===(un=ft._heartbeatsCache)||void 0===un?void 0:un.heartbeats)))&&ft._heartbeatsCache.lastSentHeartbeatDate!==vn&&!ft._heartbeatsCache.heartbeats.some($n=>$n.date===vn))return ft._heartbeatsCache.heartbeats.push({date:vn,agent:Vn}),ft._heartbeatsCache.heartbeats=ft._heartbeatsCache.heartbeats.filter($n=>{const Pr=new Date($n.date).valueOf();return Date.now()-Pr<=2592e6}),ft._storage.overwrite(ft._heartbeatsCache)})()}getHeartbeatsHeader(){var ft=this;return(0,f.Z)(function*(){var Ft;if(null===ft._heartbeatsCache&&(yield ft._heartbeatsCachePromise),null==(null===(Ft=ft._heartbeatsCache)||void 0===Ft?void 0:Ft.heartbeats)||0===ft._heartbeatsCache.heartbeats.length)return"";const un=Xt(),{heartbeatsToSend:Ln,unsentEntries:Vn}=function En(yt,ft=1024){const Ft=[];let un=yt.slice();for(const Ln of yt){const Vn=Ft.find(vn=>vn.agent===Ln.agent);if(Vn){if(Vn.dates.push(Ln.date),hr(Ft)>ft){Vn.dates.pop();break}}else if(Ft.push({agent:Ln.agent,dates:[Ln.date]}),hr(Ft)>ft){Ft.pop();break}un=un.slice(1)}return{heartbeatsToSend:Ft,unsentEntries:un}}(ft._heartbeatsCache.heartbeats),vn=(0,Se.L)(JSON.stringify({version:2,heartbeats:Ln}));return ft._heartbeatsCache.lastSentHeartbeatDate=un,Vn.length>0?(ft._heartbeatsCache.heartbeats=Vn,yield ft._storage.overwrite(ft._heartbeatsCache)):(ft._heartbeatsCache.heartbeats=[],ft._storage.overwrite(ft._heartbeatsCache)),vn})()}}function Xt(){return(new Date).toISOString().substring(0,10)}class cn{constructor(ft){this.app=ft,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,Se.hl)()&&(0,Se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ft=this;return(0,f.Z)(function*(){if(yield ft._canUseIndexedDBPromise){const un=yield function mn(yt){return an.apply(this,arguments)}(ft.app);return un?.heartbeats?un:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(ft){var Ft=this;return(0,f.Z)(function*(){var un;if(yield Ft._canUseIndexedDBPromise){const Vn=yield Ft.read();return fn(Ft.app,{lastSentHeartbeatDate:null!==(un=ft.lastSentHeartbeatDate)&&void 0!==un?un:Vn.lastSentHeartbeatDate,heartbeats:ft.heartbeats})}})()}add(ft){var Ft=this;return(0,f.Z)(function*(){var un;if(yield Ft._canUseIndexedDBPromise){const Vn=yield Ft.read();return fn(Ft.app,{lastSentHeartbeatDate:null!==(un=ft.lastSentHeartbeatDate)&&void 0!==un?un:Vn.lastSentHeartbeatDate,heartbeats:[...Vn.heartbeats,...ft.heartbeats]})}})()}}function hr(yt){return(0,Se.L)(JSON.stringify({version:2,heartbeats:yt})).length}!function yn(yt){yi(new o.wA("platform-logger",ft=>new Vt(ft),"PRIVATE")),yi(new o.wA("heartbeat",ft=>new jt(ft),"PRIVATE")),ce(Tt,Ke,yt),ce(Tt,Ke,"esm2017"),ce("fire-js","")}("")},4537:(sn,lt,k)=>{"use strict";k.d(lt,{H0:()=>ae,wA:()=>U});var f=k(5861),o=k(9058);class U{constructor(G,z,se){this.name=G,this.instanceFactory=z,this.type=se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const Se="[DEFAULT]";class _e{constructor(G,z){this.name=G,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const z=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(z)){const se=new o.BH;if(this.instancesDeferred.set(z,se),this.isInitialized(z)||this.shouldAutoInitialize())try{const be=this.getOrInitializeService({instanceIdentifier:z});be&&se.resolve(be)}catch{}}return this.instancesDeferred.get(z).promise}getImmediate(G){var z;const se=this.normalizeInstanceIdentifier(G?.identifier),be=null!==(z=G?.optional)&&void 0!==z&&z;if(!this.isInitialized(se)&&!this.shouldAutoInitialize()){if(be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:se})}catch(ye){if(be)return null;throw ye}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function de(ve){return"EAGER"===ve.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:Se})}catch{}for(const[z,se]of this.instancesDeferred.entries()){const be=this.normalizeInstanceIdentifier(z);try{const ye=this.getOrInitializeService({instanceIdentifier:be});se.resolve(ye)}catch{}}}}clearInstance(G=Se){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,f.Z)(function*(){const z=Array.from(G.instances.values());yield Promise.all([...z.filter(se=>"INTERNAL"in se).map(se=>se.INTERNAL.delete()),...z.filter(se=>"_delete"in se).map(se=>se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=Se){return this.instances.has(G)}getOptions(G=Se){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:z={}}=G,se=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(se))throw Error(`${this.name}(${se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const be=this.getOrInitializeService({instanceIdentifier:se,options:z});for(const[ye,De]of this.instancesDeferred.entries())se===this.normalizeInstanceIdentifier(ye)&&De.resolve(be);return be}onInit(G,z){var se;const be=this.normalizeInstanceIdentifier(z),ye=null!==(se=this.onInitCallbacks.get(be))&&void 0!==se?se:new Set;ye.add(G),this.onInitCallbacks.set(be,ye);const De=this.instances.get(be);return De&&G(De,be),()=>{ye.delete(G)}}invokeOnInitCallbacks(G,z){const se=this.onInitCallbacks.get(z);if(se)for(const be of se)try{be(G,z)}catch{}}getOrInitializeService({instanceIdentifier:G,options:z={}}){let se=this.instances.get(G);if(!se&&this.component&&(se=this.component.instanceFactory(this.container,{instanceIdentifier:(ve=G,ve===Se?void 0:ve),options:z}),this.instances.set(G,se),this.instancesOptions.set(G,z),this.invokeOnInitCallbacks(se,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,se)}catch{}var ve;return se||null}normalizeInstanceIdentifier(G=Se){return this.component?this.component.multipleInstances?G:Se:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ae{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const z=this.getProvider(G.name);if(z.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);z.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const z=new _e(G,this);return this.providers.set(G,z),z}getProviders(){return Array.from(this.providers.values())}}},7879:(sn,lt,k)=>{"use strict";k.d(lt,{Am:()=>ve,Ub:()=>ae,Yd:()=>de,in:()=>o});const f=[];var o=function(G){return G[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",G}(o||{});const U={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},Se=o.INFO,_e={[o.DEBUG]:"log",[o.VERBOSE]:"log",[o.INFO]:"info",[o.WARN]:"warn",[o.ERROR]:"error"},Ae=(G,z,...se)=>{if(z<G.logLevel)return;const be=(new Date).toISOString(),ye=_e[z];if(!ye)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[ye](`[${be}]  ${G.name}:`,...se)};class de{constructor(z){this.name=z,this._logLevel=Se,this._logHandler=Ae,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in o))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?U[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,o.DEBUG,...z),this._logHandler(this,o.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,o.VERBOSE,...z),this._logHandler(this,o.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,o.INFO,...z),this._logHandler(this,o.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,o.WARN,...z),this._logHandler(this,o.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,o.ERROR,...z),this._logHandler(this,o.ERROR,...z)}}function ae(G){f.forEach(z=>{z.setLogLevel(G)})}function ve(G,z){for(const se of f){let be=null;z&&z.level&&(be=U[z.level]),se.userLogHandler=null===G?null:(ye,De,...Re)=>{const Ye=Re.map(We=>{if(null==We)return null;if("string"==typeof We)return We;if("number"==typeof We||"boolean"==typeof We)return We.toString();if(We instanceof Error)return We.message;try{return JSON.stringify(We)}catch{return null}}).filter(We=>We).join(" ");De>=(be??ye.logLevel)&&G({level:o[De].toLowerCase(),message:Ye,args:Re,type:ye.name})}}}},3182:(sn,lt,k)=>{"use strict";k.d(lt,{C6:()=>f.getApps,KN:()=>f.registerVersion,Mq:()=>f.getApp,ZF:()=>f.initializeApp});var f=k(534);(0,f.registerVersion)("firebase","10.12.2","app")},7142:(sn,lt,k)=>{"use strict";k.d(lt,{Z:()=>f.Z});var f=k(3106);f.Z.registerVersion("firebase","10.12.2","app-compat")},6365:(sn,lt,k)=>{"use strict";k.r(lt);var f=k(5861),o=k(3106),U=k(35),Se=k(9058),de=(k(534),k(7879),k(4537));function ae(){return window}function z(){return z=(0,f.Z)(function*(K,H,B){var Te;const{BuildInfo:Xe}=ae();(0,U.au)(H.sessionId,"AuthEvent did not contain a session ID");const kt=yield function We(K){return _t.apply(this,arguments)}(H.sessionId),$t={};return(0,U.av)()?$t.ibi=Xe.packageName:(0,U.aw)()?$t.apn=Xe.packageName:(0,U.ax)(K,"operation-not-supported-in-this-environment"),Xe.displayName&&($t.appDisplayName=Xe.displayName),$t.sessionId=kt,(0,U.ay)(K,B,H.type,void 0,null!==(Te=H.eventId)&&void 0!==Te?Te:void 0,$t)}),z.apply(this,arguments)}function be(){return(be=(0,f.Z)(function*(K){const{BuildInfo:H}=ae(),B={};(0,U.av)()?B.iosBundleId=H.packageName:(0,U.aw)()?B.androidPackageName=H.packageName:(0,U.ax)(K,"operation-not-supported-in-this-environment"),yield(0,U.az)(K,B)})).apply(this,arguments)}function Re(){return(Re=(0,f.Z)(function*(K,H,B){const{cordova:Te}=ae();let Xe=()=>{};try{yield new Promise((kt,$t)=>{let mn=null;function an(){var Je;kt();const He=null===(Je=Te.plugins.browsertab)||void 0===Je?void 0:Je.close;"function"==typeof He&&He(),"function"==typeof B?.close&&B.close()}function fn(){mn||(mn=window.setTimeout(()=>{$t((0,U.aB)(K,"redirect-cancelled-by-user"))},2e3))}function Jn(){"visible"===document?.visibilityState&&fn()}H.addPassiveListener(an),document.addEventListener("resume",fn,!1),(0,U.aw)()&&document.addEventListener("visibilitychange",Jn,!1),Xe=()=>{H.removePassiveListener(an),document.removeEventListener("resume",fn,!1),document.removeEventListener("visibilitychange",Jn,!1),mn&&window.clearTimeout(mn)}})}finally{Xe()}})).apply(this,arguments)}function _t(){return(_t=(0,f.Z)(function*(K){const H=function Fe(K){if((0,U.au)(/[0-9a-zA-Z]+/.test(K),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(K);const H=new ArrayBuffer(K.length),B=new Uint8Array(H);for(let Te=0;Te<K.length;Te++)B[Te]=K.charCodeAt(Te);return B}(K),B=yield crypto.subtle.digest("SHA-256",H);return Array.from(new Uint8Array(B)).map(Xe=>Xe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class tt extends U.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(H=>{this.resolveInialized=H})}addPassiveListener(H){this.passiveListeners.add(H)}removePassiveListener(H){this.passiveListeners.delete(H)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(H){return this.resolveInialized(),this.passiveListeners.forEach(B=>B(H)),super.onEvent(H)}initialized(){var H=this;return(0,f.Z)(function*(){yield H.initPromise})()}}function dt(K){return bt.apply(this,arguments)}function bt(){return(bt=(0,f.Z)(function*(K){const H=yield Vt()._get(Dn(K));return H&&(yield Vt()._remove(Dn(K))),H})).apply(this,arguments)}function Nt(){const K=[];for(let B=0;B<20;B++){const Te=Math.floor(62*Math.random());K.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Te))}return K.join("")}function Vt(){return(0,U.aE)(U.b)}function Dn(K){return(0,U.aF)("authEvent",K.config.apiKey,K.name)}function ut(K){if(!K?.includes("?"))return{};const[H,...B]=K.split("?");return(0,Se.zd)(B.join("?"))}const te=class we{constructor(){this._redirectPersistence=U.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=U.aG,this._overrideRedirectResult=U.aH}_initialize(H){var B=this;return(0,f.Z)(function*(){const Te=H._key();let Xe=B.eventManagers.get(Te);return Xe||(Xe=new tt(H),B.eventManagers.set(Te,Xe),B.attachCallbackListeners(H,Xe)),Xe})()}_openPopup(H){(0,U.ax)(H,"operation-not-supported-in-this-environment")}_openRedirect(H,B,Te,Xe){var kt=this;return(0,f.Z)(function*(){!function Ye(K){var H,B,Te,Xe,kt,$t,mn,an,fn,Jn;const Je=ae();(0,U.aC)("function"==typeof(null===(H=Je?.universalLinks)||void 0===H?void 0:H.subscribe),K,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,U.aC)(typeof(null===(B=Je?.BuildInfo)||void 0===B?void 0:B.packageName)<"u",K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,U.aC)("function"==typeof(null===(kt=null===(Xe=null===(Te=Je?.cordova)||void 0===Te?void 0:Te.plugins)||void 0===Xe?void 0:Xe.browsertab)||void 0===kt?void 0:kt.openUrl),K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.aC)("function"==typeof(null===(an=null===(mn=null===($t=Je?.cordova)||void 0===$t?void 0:$t.plugins)||void 0===mn?void 0:mn.browsertab)||void 0===an?void 0:an.isAvailable),K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.aC)("function"==typeof(null===(Jn=null===(fn=Je?.cordova)||void 0===fn?void 0:fn.InAppBrowser)||void 0===Jn?void 0:Jn.open),K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(H);const $t=yield kt._initialize(H);yield $t.initialized(),$t.resetRedirect(),(0,U.aI)(),yield kt._originValidation(H);const mn=function Ze(K,H,B=null){return{type:H,eventId:B,urlResponse:null,sessionId:Nt(),postBody:null,tenantId:K.tenantId,error:(0,U.aB)(K,"no-auth-event")}}(H,Te,Xe);yield function Ge(K,H){return Vt()._set(Dn(K),H)}(H,mn);const an=yield function G(K,H,B){return z.apply(this,arguments)}(H,mn,B),fn=yield function ye(K){const{cordova:H}=ae();return new Promise(B=>{H.plugins.browsertab.isAvailable(Te=>{let Xe=null;Te?H.plugins.browsertab.openUrl(K):Xe=H.InAppBrowser.open(K,(0,U.aA)()?"_blank":"_system","location=yes"),B(Xe)})})}(an);return function De(K,H,B){return Re.apply(this,arguments)}(H,$t,fn)})()}_isIframeWebStorageSupported(H,B){throw new Error("Method not implemented.")}_originValidation(H){const B=H._key();return this.originValidationPromises[B]||(this.originValidationPromises[B]=function se(K){return be.apply(this,arguments)}(H)),this.originValidationPromises[B]}attachCallbackListeners(H,B){const{universalLinks:Te,handleOpenURL:Xe,BuildInfo:kt}=ae(),$t=setTimeout((0,f.Z)(function*(){yield dt(H),B.onEvent(Ie())}),500),mn=function(){var Jn=(0,f.Z)(function*(Je){clearTimeout($t);const He=yield dt(H);let nt=null;He&&Je?.url&&(nt=function Ee(K,H){var B,Te;const Xe=function Ke(K){const H=ut(K),B=H.link?decodeURIComponent(H.link):void 0,Te=ut(B).link,Xe=H.deep_link_id?decodeURIComponent(H.deep_link_id):void 0;return ut(Xe).link||Xe||Te||B||K}(H);if(Xe.includes("/__/auth/callback")){const kt=ut(Xe),$t=kt.firebaseError?function Tt(K){try{return JSON.parse(K)}catch{return null}}(decodeURIComponent(kt.firebaseError)):null,mn=null===(Te=null===(B=$t?.code)||void 0===B?void 0:B.split("auth/"))||void 0===Te?void 0:Te[1],an=mn?(0,U.aB)(mn):null;return an?{type:K.type,eventId:K.eventId,tenantId:K.tenantId,error:an,urlResponse:null,sessionId:null,postBody:null}:{type:K.type,eventId:K.eventId,tenantId:K.tenantId,sessionId:K.sessionId,urlResponse:Xe,postBody:null}}return null}(He,Je.url)),B.onEvent(nt||Ie())});return function(He){return Jn.apply(this,arguments)}}();typeof Te<"u"&&"function"==typeof Te.subscribe&&Te.subscribe(null,mn);const an=Xe,fn=`${kt.packageName.toLowerCase()}://`;ae().handleOpenURL=function(){var Jn=(0,f.Z)(function*(Je){if(Je.toLowerCase().startsWith(fn)&&mn({url:Je}),"function"==typeof an)try{an(Je)}catch(He){console.error(He)}});return function(Je){return Jn.apply(this,arguments)}}()}};function Ie(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,U.aB)("no-auth-event")}}function Bt(){var K;return(null===(K=self?.location)||void 0===K?void 0:K.protocol)||null}function Wt(K=(0,Se.z$)()){return!("file:"!==Bt()&&"ionic:"!==Bt()&&"capacitor:"!==Bt()||!K.toLowerCase().match(/iphone|ipad|ipod|android/))}function on(){try{const K=self.localStorage,H=U.aN();if(K)return K.setItem(H,"1"),K.removeItem(H),!function On(K=(0,Se.z$)()){return function Qn(){return(0,Se.w1)()&&11===document?.documentMode}()||function Pn(K=(0,Se.z$)()){return/Edge\/\d+/.test(K)}(K)}()||(0,Se.hl)()}catch{return Nn()&&(0,Se.hl)()}return!1}function Nn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function pr(){return(function Zt(){return"http:"===Bt()||"https:"===Bt()}()||(0,Se.ru)()||Wt())&&!function bn(){return(0,Se.b$)()||(0,Se.UG)()}()&&on()&&!Nn()}function Yn(){return Wt()&&typeof document<"u"}function Hr(){return(Hr=(0,f.Z)(function*(){return!!Yn()&&new Promise(K=>{const H=setTimeout(()=>{K(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(H),K(!0)})})})).apply(this,arguments)}const Rr={LOCAL:"local",NONE:"none",SESSION:"session"},rr=U.aC,Yt="persistence";function Un(K){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,f.Z)(function*(K){yield K._initializationPromise;const H=Tr(),B=U.aF(Yt,K.config.apiKey,K.name);H&&H.setItem(B,K._getPersistence())})).apply(this,arguments)}function Tr(){var K;try{return(null===(K=function xn(){return typeof window<"u"?window:null}())||void 0===K?void 0:K.sessionStorage)||null}catch{return null}}const Gn=U.aC;class Wn{constructor(){this.browserResolver=U.aE(U.k),this.cordovaResolver=U.aE(te),this.underlyingResolver=null,this._redirectPersistence=U.a,this._completeRedirectFn=U.aG,this._overrideRedirectResult=U.aH}_initialize(H){var B=this;return(0,f.Z)(function*(){return yield B.selectUnderlyingResolver(),B.assertedUnderlyingResolver._initialize(H)})()}_openPopup(H,B,Te,Xe){var kt=this;return(0,f.Z)(function*(){return yield kt.selectUnderlyingResolver(),kt.assertedUnderlyingResolver._openPopup(H,B,Te,Xe)})()}_openRedirect(H,B,Te,Xe){var kt=this;return(0,f.Z)(function*(){return yield kt.selectUnderlyingResolver(),kt.assertedUnderlyingResolver._openRedirect(H,B,Te,Xe)})()}_isIframeWebStorageSupported(H,B){this.assertedUnderlyingResolver._isIframeWebStorageSupported(H,B)}_originValidation(H){return this.assertedUnderlyingResolver._originValidation(H)}get _shouldInitProactively(){return Yn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Gn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var H=this;return(0,f.Z)(function*(){if(H.underlyingResolver)return;const B=yield function Qt(){return Hr.apply(this,arguments)}();H.underlyingResolver=B?H.cordovaResolver:H.browserResolver})()}}function Yr(K){return K.unwrap()}function gn(K){return sr(K)}function sr(K){const{_tokenResponse:H}=K instanceof Se.ZR?K.customData:K;if(!H)return null;if(!(K instanceof Se.ZR)&&"temporaryProof"in H&&"phoneNumber"in H)return U.P.credentialFromResult(K);const B=H.providerId;if(!B||B===U.p.PASSWORD)return null;let Te;switch(B){case U.p.GOOGLE:Te=U.X;break;case U.p.FACEBOOK:Te=U.W;break;case U.p.GITHUB:Te=U.Y;break;case U.p.TWITTER:Te=U.$;break;default:const{oauthIdToken:Xe,oauthAccessToken:kt,oauthTokenSecret:$t,pendingToken:mn,nonce:an}=H;return kt||$t||Xe||mn?mn?B.startsWith("saml.")?U.aQ._create(B,mn):U.N._fromParams({providerId:B,signInMethod:B,pendingToken:mn,idToken:Xe,accessToken:kt}):new U.Z(B).credential({idToken:Xe,accessToken:kt,rawNonce:an}):null}return K instanceof Se.ZR?Te.credentialFromError(K):Te.credentialFromResult(K)}function Or(K,H){return H.catch(B=>{throw B instanceof Se.ZR&&function Ur(K,H){var B;const Te=null===(B=H.customData)||void 0===B?void 0:B._tokenResponse;if("auth/multi-factor-auth-required"===H?.code)H.resolver=new at(K,U.as(K,H));else if(Te){const Xe=sr(H),kt=H;Xe&&(kt.credential=Xe,kt.tenantId=Te.tenantId||void 0,kt.email=Te.email||void 0,kt.phoneNumber=Te.phoneNumber||void 0)}}(K,B),B}).then(B=>{const Xe=B.user;return{operationType:B.operationType,credential:gn(B),additionalUserInfo:U.aq(B),user:wt.getOrCreate(Xe)}})}function Mr(K,H){return ri.apply(this,arguments)}function ri(){return(ri=(0,f.Z)(function*(K,H){const B=yield H;return{verificationId:B.verificationId,confirm:Te=>Or(K,B.confirm(Te))}})).apply(this,arguments)}class at{constructor(H,B){this.resolver=B,this.auth=function yi(K){return K.wrapped()}(H)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(H){return Or(Yr(this.auth),this.resolver.resolveSignIn(H))}}class wt{constructor(H){this._delegate=H,this.multiFactor=U.at(H)}static getOrCreate(H){return wt.USER_MAP.has(H)||wt.USER_MAP.set(H,new wt(H)),wt.USER_MAP.get(H)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(H){return this._delegate.getIdTokenResult(H)}getIdToken(H){return this._delegate.getIdToken(H)}linkAndRetrieveDataWithCredential(H){return this.linkWithCredential(H)}linkWithCredential(H){var B=this;return(0,f.Z)(function*(){return Or(B.auth,U.a2(B._delegate,H))})()}linkWithPhoneNumber(H,B){var Te=this;return(0,f.Z)(function*(){return Mr(Te.auth,U.l(Te._delegate,H,B))})()}linkWithPopup(H){var B=this;return(0,f.Z)(function*(){return Or(B.auth,U.d(B._delegate,H,Wn))})()}linkWithRedirect(H){var B=this;return(0,f.Z)(function*(){return yield Un(U.aJ(B.auth)),U.g(B._delegate,H,Wn)})()}reauthenticateAndRetrieveDataWithCredential(H){return this.reauthenticateWithCredential(H)}reauthenticateWithCredential(H){var B=this;return(0,f.Z)(function*(){return Or(B.auth,U.a3(B._delegate,H))})()}reauthenticateWithPhoneNumber(H,B){return Mr(this.auth,U.r(this._delegate,H,B))}reauthenticateWithPopup(H){return Or(this.auth,U.e(this._delegate,H,Wn))}reauthenticateWithRedirect(H){var B=this;return(0,f.Z)(function*(){return yield Un(U.aJ(B.auth)),U.h(B._delegate,H,Wn)})()}sendEmailVerification(H){return U.ag(this._delegate,H)}unlink(H){var B=this;return(0,f.Z)(function*(){return yield U.ap(B._delegate,H),B})()}updateEmail(H){return U.al(this._delegate,H)}updatePassword(H){return U.am(this._delegate,H)}updatePhoneNumber(H){return U.u(this._delegate,H)}updateProfile(H){return U.ak(this._delegate,H)}verifyBeforeUpdateEmail(H,B){return U.ah(this._delegate,H,B)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}wt.USER_MAP=new WeakMap;const ue=U.aC;let Be=(()=>{class K{constructor(B,Te){if(this.app=B,Te.isInitialized())return this._delegate=Te.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Xe}=B.options;ue(Xe,"invalid-api-key",{appName:B.name}),ue(Xe,"invalid-api-key",{appName:B.name});const kt=typeof window<"u"?Wn:void 0;this._delegate=Te.initialize({options:{persistence:tn(Xe,B.name),popupRedirectResolver:kt}}),this._delegate._updateErrorMap(U.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?wt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(B){this._delegate.languageCode=B}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(B){this._delegate.tenantId=B}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(B,Te){U.K(this._delegate,B,Te)}applyActionCode(B){return U.a7(this._delegate,B)}checkActionCode(B){return U.a8(this._delegate,B)}confirmPasswordReset(B,Te){return U.a6(this._delegate,B,Te)}createUserWithEmailAndPassword(B,Te){var Xe=this;return(0,f.Z)(function*(){return Or(Xe._delegate,U.aa(Xe._delegate,B,Te))})()}fetchProvidersForEmail(B){return this.fetchSignInMethodsForEmail(B)}fetchSignInMethodsForEmail(B){return U.af(this._delegate,B)}isSignInWithEmailLink(B){return U.ad(this._delegate,B)}getRedirectResult(){var B=this;return(0,f.Z)(function*(){ue(pr(),B._delegate,"operation-not-supported-in-this-environment");const Te=yield U.j(B._delegate,Wn);return Te?Or(B._delegate,Promise.resolve(Te)):{credential:null,user:null}})()}addFrameworkForLogging(B){!function Pe(K,H){(0,U.aJ)(K)._logFramework(H)}(this._delegate,B)}onAuthStateChanged(B,Te,Xe){const{next:kt,error:$t,complete:mn}=xt(B,Te,Xe);return this._delegate.onAuthStateChanged(kt,$t,mn)}onIdTokenChanged(B,Te,Xe){const{next:kt,error:$t,complete:mn}=xt(B,Te,Xe);return this._delegate.onIdTokenChanged(kt,$t,mn)}sendSignInLinkToEmail(B,Te){return U.ac(this._delegate,B,Te)}sendPasswordResetEmail(B,Te){return U.a5(this._delegate,B,Te||void 0)}setPersistence(B){var Te=this;return(0,f.Z)(function*(){let Xe;switch(function In(K,H){rr(Object.values(Rr).includes(H),K,"invalid-persistence-type"),(0,Se.b$)()?rr(H!==Rr.SESSION,K,"unsupported-persistence-type"):(0,Se.UG)()?rr(H===Rr.NONE,K,"unsupported-persistence-type"):Nn()?rr(H===Rr.NONE||H===Rr.LOCAL&&(0,Se.hl)(),K,"unsupported-persistence-type"):rr(H===Rr.NONE||on(),K,"unsupported-persistence-type")}(Te._delegate,B),B){case Rr.SESSION:Xe=U.a;break;case Rr.LOCAL:Xe=(yield U.aE(U.i)._isAvailable())?U.i:U.b;break;case Rr.NONE:Xe=U.U;break;default:return U.ax("argument-error",{appName:Te._delegate.name})}return Te._delegate.setPersistence(Xe)})()}signInAndRetrieveDataWithCredential(B){return this.signInWithCredential(B)}signInAnonymously(){return Or(this._delegate,U.a0(this._delegate))}signInWithCredential(B){return Or(this._delegate,U.a1(this._delegate,B))}signInWithCustomToken(B){return Or(this._delegate,U.a4(this._delegate,B))}signInWithEmailAndPassword(B,Te){return Or(this._delegate,U.ab(this._delegate,B,Te))}signInWithEmailLink(B,Te){return Or(this._delegate,U.ae(this._delegate,B,Te))}signInWithPhoneNumber(B,Te){return Mr(this._delegate,U.s(this._delegate,B,Te))}signInWithPopup(B){var Te=this;return(0,f.Z)(function*(){return ue(pr(),Te._delegate,"operation-not-supported-in-this-environment"),Or(Te._delegate,U.c(Te._delegate,B,Wn))})()}signInWithRedirect(B){var Te=this;return(0,f.Z)(function*(){return ue(pr(),Te._delegate,"operation-not-supported-in-this-environment"),yield Un(Te._delegate),U.f(Te._delegate,B,Wn)})()}updateCurrentUser(B){return this._delegate.updateCurrentUser(B)}verifyPasswordResetCode(B){return U.a9(this._delegate,B)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return K.Persistence=Rr,K})();function xt(K,H,B){let Te=K;"function"!=typeof K&&({next:Te,error:H,complete:B}=K);const Xe=Te;return{next:$t=>Xe($t&&wt.getOrCreate($t)),error:H,complete:B}}function tn(K,H){const B=function Ar(K,H){const B=Tr();if(!B)return[];const Te=U.aF(Yt,K,H);switch(B.getItem(Te)){case Rr.NONE:return[U.U];case Rr.LOCAL:return[U.i,U.a];case Rr.SESSION:return[U.a];default:return[]}}(K,H);if(typeof self<"u"&&!B.includes(U.i)&&B.push(U.i),typeof window<"u")for(const Te of[U.b,U.a])B.includes(Te)||B.push(Te);return B.includes(U.U)||B.push(U.U),B}class zn{constructor(){this.providerId="phone",this._delegate=new U.P(Yr(o.Z.auth()))}static credential(H,B){return U.P.credential(H,B)}verifyPhoneNumber(H,B){return this._delegate.verifyPhoneNumber(H,B)}unwrap(){return this._delegate}}zn.PHONE_SIGN_IN_METHOD=U.P.PHONE_SIGN_IN_METHOD,zn.PROVIDER_ID=U.P.PROVIDER_ID;const hi=U.aC;class wr{constructor(H,B,Te=o.Z.app()){var Xe;hi(null===(Xe=Te.options)||void 0===Xe?void 0:Xe.apiKey,"invalid-api-key",{appName:Te.name}),this._delegate=new U.R(Te.auth(),H,B),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ce(K){K.INTERNAL.registerComponent(new de.wA("auth-compat",H=>{const B=H.getProvider("app-compat").getImmediate(),Te=H.getProvider("auth");return new Be(B,Te)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:U.A.EMAIL_SIGNIN,PASSWORD_RESET:U.A.PASSWORD_RESET,RECOVER_EMAIL:U.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:U.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:U.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:U.A.VERIFY_EMAIL}},EmailAuthProvider:U.V,FacebookAuthProvider:U.W,GithubAuthProvider:U.Y,GoogleAuthProvider:U.X,OAuthProvider:U.Z,SAMLAuthProvider:U._,PhoneAuthProvider:zn,PhoneMultiFactorGenerator:U.m,RecaptchaVerifier:wr,TwitterAuthProvider:U.$,Auth:Be,AuthCredential:U.L,Error:Se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),K.registerVersion("@firebase/auth-compat","0.5.9")}(o.Z)},1043:(sn,lt,k)=>{"use strict";k.d(lt,{EK:()=>f.EK,ad:()=>f.ad});var f=k(5588)},5861:(sn,lt,k)=>{"use strict";function f(U,Se,_e,Ae,de,ae,ve){try{var G=U[ae](ve),z=G.value}catch(se){return void _e(se)}G.done?Se(z):Promise.resolve(z).then(Ae,de)}function o(U){return function(){var Se=this,_e=arguments;return new Promise(function(Ae,de){var ae=U.apply(Se,_e);function ve(z){f(ae,Ae,de,ve,G,"next",z)}function G(z){f(ae,Ae,de,ve,G,"throw",z)}ve(void 0)})}}k.d(lt,{Z:()=>o})},7582:(sn,lt,k)=>{"use strict";function Se(te,Ie){var Pe={};for(var je in te)Object.prototype.hasOwnProperty.call(te,je)&&Ie.indexOf(je)<0&&(Pe[je]=te[je]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var ot=0;for(je=Object.getOwnPropertySymbols(te);ot<je.length;ot++)Ie.indexOf(je[ot])<0&&Object.prototype.propertyIsEnumerable.call(te,je[ot])&&(Pe[je[ot]]=te[je[ot]])}return Pe}function se(te,Ie,Pe,je){return new(Pe||(Pe=Promise))(function(vt,Bt){function Zt(Qn){try{bn(je.next(Qn))}catch(Pn){Bt(Pn)}}function Wt(Qn){try{bn(je.throw(Qn))}catch(Pn){Bt(Pn)}}function bn(Qn){Qn.done?vt(Qn.value):function ot(vt){return vt instanceof Pe?vt:new Pe(function(Bt){Bt(vt)})}(Qn.value).then(Zt,Wt)}bn((je=je.apply(te,Ie||[])).next())})}function Ne(te){return this instanceof Ne?(this.v=te,this):new Ne(te)}function tt(te,Ie,Pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ot,je=Pe.apply(te,Ie||[]),vt=[];return ot={},Bt("next"),Bt("throw"),Bt("return"),ot[Symbol.asyncIterator]=function(){return this},ot;function Bt(On){je[On]&&(ot[On]=function(on){return new Promise(function(Nn,pr){vt.push([On,on,Nn,pr])>1||Zt(On,on)})})}function Zt(On,on){try{!function Wt(On){On.value instanceof Ne?Promise.resolve(On.value.v).then(bn,Qn):Pn(vt[0][2],On)}(je[On](on))}catch(Nn){Pn(vt[0][3],Nn)}}function bn(On){Zt("next",On)}function Qn(On){Zt("throw",On)}function Pn(On,on){On(on),vt.shift(),vt.length&&Zt(vt[0][0],vt[0][1])}}function Ge(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,Ie=te[Symbol.asyncIterator];return Ie?Ie.call(te):(te=function Re(te){var Ie="function"==typeof Symbol&&Symbol.iterator,Pe=Ie&&te[Ie],je=0;if(Pe)return Pe.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&je>=te.length&&(te=void 0),{value:te&&te[je++],done:!te}}};throw new TypeError(Ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),Pe={},je("next"),je("throw"),je("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe);function je(vt){Pe[vt]=te[vt]&&function(Bt){return new Promise(function(Zt,Wt){!function ot(vt,Bt,Zt,Wt){Promise.resolve(Wt).then(function(bn){vt({value:bn,done:Zt})},Bt)}(Zt,Wt,(Bt=te[vt](Bt)).done,Bt.value)})}}}k.d(lt,{FC:()=>tt,KL:()=>Ge,_T:()=>Se,mG:()=>se,qq:()=>Ne}),"function"==typeof SuppressedError&&SuppressedError}},sn=>{sn(sn.s=7071)}]);