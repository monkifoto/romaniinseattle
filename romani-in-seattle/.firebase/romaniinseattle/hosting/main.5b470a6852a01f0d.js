"use strict";(self.webpackChunkromani_in_seattle=self.webpackChunkromani_in_seattle||[]).push([[179],{35:(Jt,Ye,B)=>{B.d(Ye,{$:()=>Xs,A:()=>oe,G:()=>rt,K:()=>bs,L:()=>Xi,N:()=>Si,P:()=>Nm,R:()=>Xo,U:()=>sn,V:()=>Wo,W:()=>$i,X:()=>Ya,Y:()=>Ps,Z:()=>hi,_:()=>rs,a:()=>Nt,a0:()=>F,a1:()=>Bc,a2:()=>eo,a3:()=>td,a4:()=>au,a5:()=>$c,a6:()=>nc,a7:()=>Zo,a8:()=>rc,a9:()=>Hc,aA:()=>dn,aB:()=>it,aC:()=>ve,aD:()=>yu,aE:()=>Tt,aF:()=>Xt,aG:()=>Nh,aH:()=>qf,aI:()=>uc,aJ:()=>nr,aN:()=>oc,aQ:()=>ki,aa:()=>Th,ab:()=>nd,ac:()=>Na,ad:()=>bl,ae:()=>ka,af:()=>P,ag:()=>j,ah:()=>Ie,ak:()=>Pr,al:()=>Br,am:()=>pr,ap:()=>qi,aq:()=>Qo,as:()=>id,at:()=>wh,au:()=>an,av:()=>ar,aw:()=>Ut,ax:()=>Fe,ay:()=>Ua,az:()=>fn,b:()=>No,c:()=>dg,d:()=>km,e:()=>Sl,f:()=>na,g:()=>Zf,h:()=>gu,i:()=>qr,j:()=>Kf,k:()=>Vh,l:()=>ea,m:()=>Ed,p:()=>De,r:()=>Wf,s:()=>Mh,u:()=>Al});var g=B(5861),u=B(534),G=B(9058),be=B(7879),me=B(7582),Ae=B(4537);const De={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},oe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const rt=function ye(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},mt=function st(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ft=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Et=new be.Yd("@firebase/auth");function qe(C,..._){Et.logLevel<=be.in.ERROR&&Et.error(`Auth (${u.SDK_VERSION}): ${C}`,..._)}function Fe(C,..._){throw kt(C,..._)}function it(C,..._){return kt(C,..._)}function He(C,_,v){const M=Object.assign(Object.assign({},mt()),{[_]:v});return new G.LL("auth","Firebase",M).create(_,{appName:C.name})}function ct(C){return He(C,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function At(C,_,v){if(!(_ instanceof v))throw v.name!==_.constructor.name&&Fe(C,"argument-error"),He(C,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function kt(C,..._){if("string"!=typeof C){const v=_[0],M=[..._.slice(1)];return M[0]&&(M[0].appName=C.name),C._errorFactory.create(v,...M)}return ft.create(C,..._)}function ve(C,_,...v){if(!C)throw kt(_,...v)}function jt(C){const _="INTERNAL ASSERTION FAILED: "+C;throw qe(_),new Error(_)}function an(C,_){C||jt(_)}function hr(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function xt(){return"http:"===Wt()||"https:"===Wt()}function Wt(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Re{constructor(_,v){this.shortDelay=_,this.longDelay=v,an(v>_,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return function cn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(xt()||(0,G.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fe(C,_){an(C.emulator,"Emulator should always be set here");const{url:v}=C.emulator;return _?`${v}${_.startsWith("/")?_.slice(1):_}`:v}class ke{static initialize(_,v,M){this.fetchImpl=_,v&&(this.headersImpl=v),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void jt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void jt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void jt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Je={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Xe=new Re(3e4,6e4);function ut(C,_){return C.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:C.tenantId}):_}function It(C,_,v,M){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,g.Z)(function*(C,_,v,M,Y={}){return Ht(C,Y,(0,g.Z)(function*(){let ue={},Ue={};M&&("GET"===_?Ue=M:ue={body:JSON.stringify(M)});const dt=(0,G.xO)(Object.assign({key:C.config.apiKey},Ue)).slice(1),Ft=yield C._getAdditionalHeaders();return Ft["Content-Type"]="application/json",C.languageCode&&(Ft["X-Firebase-Locale"]=C.languageCode),ke.fetch()(Cn(C,C.config.apiHost,v,dt),Object.assign({method:_,headers:Ft,referrerPolicy:"no-referrer"},ue))}))})).apply(this,arguments)}function Ht(C,_,v){return qt.apply(this,arguments)}function qt(){return(qt=(0,g.Z)(function*(C,_,v){C._canInitEmulator=!1;const M=Object.assign(Object.assign({},Je),_);try{const Y=new Kt(C),ue=yield Promise.race([v(),Y.promise]);Y.clearNetworkTimeout();const Ue=yield ue.json();if("needConfirmation"in Ue)throw Dn(C,"account-exists-with-different-credential",Ue);if(ue.ok&&!("errorMessage"in Ue))return Ue;{const dt=ue.ok?Ue.errorMessage:Ue.error.message,[Ft,vn]=dt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ft)throw Dn(C,"credential-already-in-use",Ue);if("EMAIL_EXISTS"===Ft)throw Dn(C,"email-already-in-use",Ue);if("USER_DISABLED"===Ft)throw Dn(C,"user-disabled",Ue);const jn=M[Ft]||Ft.toLowerCase().replace(/[_\s]+/g,"-");if(vn)throw He(C,jn,vn);Fe(C,jn)}}catch(Y){if(Y instanceof G.ZR)throw Y;Fe(C,"network-request-failed",{message:String(Y)})}})).apply(this,arguments)}function gn(C,_,v,M){return er.apply(this,arguments)}function er(){return(er=(0,g.Z)(function*(C,_,v,M,Y={}){const ue=yield It(C,_,v,M,Y);return"mfaPendingCredential"in ue&&Fe(C,"multi-factor-auth-required",{_serverResponse:ue}),ue})).apply(this,arguments)}function Cn(C,_,v,M){const Y=`${_}${v}?${M}`;return C.config.emulator?fe(C.config,Y):`${C.config.apiScheme}://${Y}`}function Mn(C){switch(C){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Kt{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((v,M)=>{this.timer=setTimeout(()=>M(it(this.auth,"network-request-failed")),Xe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dn(C,_,v){const M={appName:C.name};v.email&&(M.email=v.email),v.phoneNumber&&(M.phoneNumber=v.phoneNumber);const Y=it(C,_,M);return Y.customData._tokenResponse=v,Y}function or(C){return void 0!==C&&void 0!==C.getResponse}function Gn(C){return void 0!==C&&void 0!==C.enterprise}class Lt{constructor(_){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=_.recaptchaEnforcementState}getProviderEnforcementState(_){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===_)return Mn(v.enforcementState);return null}isProviderEnabled(_){return"ENFORCE"===this.getProviderEnforcementState(_)||"AUDIT"===this.getProviderEnforcementState(_)}}function In(){return(In=(0,g.Z)(function*(C){return(yield It(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ar(C,_){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,g.Z)(function*(C,_){return It(C,"GET","/v2/recaptchaConfig",ut(C,_))})).apply(this,arguments)}function bn(){return(bn=(0,g.Z)(function*(C,_){return It(C,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function On(){return(On=(0,g.Z)(function*(C,_){return It(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function yr(C,_){return vr.apply(this,arguments)}function vr(){return(vr=(0,g.Z)(function*(C,_){return It(C,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function Fn(C){if(C)try{const _=new Date(Number(C));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function pi(){return(pi=(0,g.Z)(function*(C,_=!1){const v=(0,G.m9)(C),M=yield v.getIdToken(_),Y=gi(M);ve(Y&&Y.exp&&Y.auth_time&&Y.iat,v.auth,"internal-error");const ue="object"==typeof Y.firebase?Y.firebase:void 0,Ue=ue?.sign_in_provider;return{claims:Y,token:M,authTime:Fn(rn(Y.auth_time)),issuedAtTime:Fn(rn(Y.iat)),expirationTime:Fn(rn(Y.exp)),signInProvider:Ue||null,signInSecondFactor:ue?.sign_in_second_factor||null}})).apply(this,arguments)}function rn(C){return 1e3*Number(C)}function gi(C){const[_,v,M]=C.split(".");if(void 0===_||void 0===v||void 0===M)return qe("JWT malformed, contained fewer than 3 sections"),null;try{const Y=(0,G.tV)(v);return Y?JSON.parse(Y):(qe("Failed to decode base64 JWT payload"),null)}catch(Y){return qe("Caught error parsing JWT payload as JSON",Y?.toString()),null}}function tr(C){const _=gi(C);return ve(_,"internal-error"),ve(typeof _.exp<"u","internal-error"),ve(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}function Dr(C,_){return br.apply(this,arguments)}function br(){return(br=(0,g.Z)(function*(C,_,v=!1){if(v)return _;try{return yield _}catch(M){throw M instanceof G.ZR&&function Xr({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}(M)&&C.auth.currentUser===C&&(yield C.auth.signOut()),M}})).apply(this,arguments)}class $e{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var v;if(_){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const Y=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,Y)}}schedule(_=!1){var v=this;if(!this.isRunning)return;const M=this.getInterval(_);this.timerId=setTimeout((0,g.Z)(function*(){yield v.iteration()}),M)}iteration(){var _=this;return(0,g.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&_.schedule(!0))}_.schedule()})()}}class vt{constructor(_,v){this.createdAt=_,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fn(this.lastLoginAt),this.creationTime=Fn(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ae(C){return Te.apply(this,arguments)}function Te(){return(Te=(0,g.Z)(function*(C){var _;const v=C.auth,M=yield C.getIdToken(),Y=yield Dr(C,yr(v,{idToken:M}));ve(Y?.users.length,v,"internal-error");const ue=Y.users[0];C._notifyReloadListener(ue);const Ue=null!==(_=ue.providerUserInfo)&&void 0!==_&&_.length?ui(ue.providerUserInfo):[],dt=function Nn(C,_){return[...C.filter(M=>!_.some(Y=>Y.providerId===M.providerId)),..._]}(C.providerData,Ue),jn=!!C.isAnonymous&&!(C.email&&ue.passwordHash||dt?.length),ur={uid:ue.localId,displayName:ue.displayName||null,photoURL:ue.photoUrl||null,email:ue.email||null,emailVerified:ue.emailVerified||!1,phoneNumber:ue.phoneNumber||null,tenantId:ue.tenantId||null,providerData:dt,metadata:new vt(ue.createdAt,ue.lastLoginAt),isAnonymous:jn};Object.assign(C,ur)})).apply(this,arguments)}function zt(){return(zt=(0,g.Z)(function*(C){const _=(0,G.m9)(C);yield ae(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function ui(C){return C.map(_=>{var{providerId:v}=_,M=(0,me._T)(_,["providerId"]);return{providerId:v,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}function xe(){return(xe=(0,g.Z)(function*(C,_){const v=yield Ht(C,{},(0,g.Z)(function*(){const M=(0,G.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:Y,apiKey:ue}=C.config,Ue=Cn(C,Y,"/v1/token",`key=${ue}`),dt=yield C._getAdditionalHeaders();return dt["Content-Type"]="application/x-www-form-urlencoded",ke.fetch()(Ue,{method:"POST",headers:dt,body:M})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function W(){return(W=(0,g.Z)(function*(C,_){return It(C,"POST","/v2/accounts:revokeToken",ut(C,_))})).apply(this,arguments)}class ${constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){ve(_.idToken,"internal-error"),ve(typeof _.idToken<"u","internal-error"),ve(typeof _.refreshToken<"u","internal-error");const v="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):tr(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,v)}updateFromIdToken(_){ve(0!==_.length,"internal-error");const v=tr(_);this.updateTokensAndExpiration(_,null,v)}getToken(_,v=!1){var M=this;return(0,g.Z)(function*(){return v||!M.accessToken||M.isExpired?(ve(M.refreshToken,_,"user-token-expired"),M.refreshToken?(yield M.refresh(_,M.refreshToken),M.accessToken):null):M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,v){var M=this;return(0,g.Z)(function*(){const{accessToken:Y,refreshToken:ue,expiresIn:Ue}=yield function Er(C,_){return xe.apply(this,arguments)}(_,v);M.updateTokensAndExpiration(Y,ue,Number(Ue))})()}updateTokensAndExpiration(_,v,M){this.refreshToken=v||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(_,v){const{refreshToken:M,accessToken:Y,expirationTime:ue}=v,Ue=new $;return M&&(ve("string"==typeof M,"internal-error",{appName:_}),Ue.refreshToken=M),Y&&(ve("string"==typeof Y,"internal-error",{appName:_}),Ue.accessToken=Y),ue&&(ve("number"==typeof ue,"internal-error",{appName:_}),Ue.expirationTime=ue),Ue}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new $,this.toJSON())}_performRefresh(){return jt("not implemented")}}function U(C,_){ve("string"==typeof C||typeof C>"u","internal-error",{appName:_})}class pe{constructor(_){var{uid:v,auth:M,stsTokenManager:Y}=_,ue=(0,me._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=M,this.stsTokenManager=Y,this.accessToken=Y.accessToken,this.displayName=ue.displayName||null,this.email=ue.email||null,this.emailVerified=ue.emailVerified||!1,this.phoneNumber=ue.phoneNumber||null,this.photoURL=ue.photoURL||null,this.isAnonymous=ue.isAnonymous||!1,this.tenantId=ue.tenantId||null,this.providerData=ue.providerData?[...ue.providerData]:[],this.metadata=new vt(ue.createdAt||void 0,ue.lastLoginAt||void 0)}getIdToken(_){var v=this;return(0,g.Z)(function*(){const M=yield Dr(v,v.stsTokenManager.getToken(v.auth,_));return ve(M,v.auth,"internal-error"),v.accessToken!==M&&(v.accessToken=M,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),M})()}getIdTokenResult(_){return function $r(C){return pi.apply(this,arguments)}(this,_)}reload(){return function yt(C){return zt.apply(this,arguments)}(this)}_assign(_){this!==_&&(ve(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(v=>Object.assign({},v)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const v=new pe(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(_){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,v=!1){var M=this;return(0,g.Z)(function*(){let Y=!1;_.idToken&&_.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(_),Y=!0),v&&(yield ae(M)),yield M.auth._persistUserIfCurrent(M),Y&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var _=this;return(0,g.Z)(function*(){if((0,u._isFirebaseServerApp)(_.auth.app))return Promise.reject(ct(_.auth));const v=yield _.getIdToken();return yield Dr(_,function Vt(C,_){return bn.apply(this,arguments)}(_.auth,{idToken:v})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,v){var M,Y,ue,Ue,dt,Ft,vn,jn;const ur=null!==(M=v.displayName)&&void 0!==M?M:void 0,ao=null!==(Y=v.email)&&void 0!==Y?Y:void 0,bo=null!==(ue=v.phoneNumber)&&void 0!==ue?ue:void 0,ja=null!==(Ue=v.photoURL)&&void 0!==Ue?Ue:void 0,Ul=null!==(dt=v.tenantId)&&void 0!==dt?dt:void 0,ga=null!==(Ft=v._redirectEventId)&&void 0!==Ft?Ft:void 0,Bh=null!==(vn=v.createdAt)&&void 0!==vn?vn:void 0,sl=null!==(jn=v.lastLoginAt)&&void 0!==jn?jn:void 0,{uid:ol,emailVerified:jh,isAnonymous:tp,providerData:Td,stsTokenManager:$h}=v;ve(ol&&$h,_,"internal-error");const vc=$.fromJSON(this.name,$h);ve("string"==typeof ol,_,"internal-error"),U(ur,_.name),U(ao,_.name),ve("boolean"==typeof jh,_,"internal-error"),ve("boolean"==typeof tp,_,"internal-error"),U(bo,_.name),U(ja,_.name),U(Ul,_.name),U(ga,_.name),U(Bh,_.name),U(sl,_.name);const al=new pe({uid:ol,auth:_,email:ao,emailVerified:jh,displayName:ur,isAnonymous:tp,photoURL:ja,phoneNumber:bo,tenantId:Ul,stsTokenManager:vc,createdAt:Bh,lastLoginAt:sl});return Td&&Array.isArray(Td)&&(al.providerData=Td.map(Ns=>Object.assign({},Ns))),ga&&(al._redirectEventId=ga),al}static _fromIdTokenResponse(_,v,M=!1){return(0,g.Z)(function*(){const Y=new $;Y.updateFromServerResponse(v);const ue=new pe({uid:v.localId,auth:_,stsTokenManager:Y,isAnonymous:M});return yield ae(ue),ue})()}static _fromGetAccountInfoResponse(_,v,M){return(0,g.Z)(function*(){const Y=v.users[0];ve(void 0!==Y.localId,"internal-error");const ue=void 0!==Y.providerUserInfo?ui(Y.providerUserInfo):[],Ue=!(Y.email&&Y.passwordHash||ue?.length),dt=new $;dt.updateFromIdToken(M);const Ft=new pe({uid:Y.localId,auth:_,stsTokenManager:dt,isAnonymous:Ue}),vn={uid:Y.localId,displayName:Y.displayName||null,photoURL:Y.photoUrl||null,email:Y.email||null,emailVerified:Y.emailVerified||!1,phoneNumber:Y.phoneNumber||null,tenantId:Y.tenantId||null,providerData:ue,metadata:new vt(Y.createdAt,Y.lastLoginAt),isAnonymous:!(Y.email&&Y.passwordHash||ue?.length)};return Object.assign(Ft,vn),Ft})()}}const Be=new Map;function Tt(C){an(C instanceof Function,"Expected a class definition");let _=Be.get(C);return _?(an(_ instanceof C,"Instance stored in cache mismatched with class"),_):(_=new C,Be.set(C,_),_)}const sn=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(v,M){var Y=this;return(0,g.Z)(function*(){Y.storage[v]=M})()}_get(v){var M=this;return(0,g.Z)(function*(){const Y=M.storage[v];return void 0===Y?null:Y})()}_remove(v){var M=this;return(0,g.Z)(function*(){delete M.storage[v]})()}_addListener(v,M){}_removeListener(v,M){}}return C.type="NONE",C})();function Xt(C,_,v){return`firebase:${C}:${_}:${v}`}class ln{constructor(_,v,M){this.persistence=_,this.auth=v,this.userKey=M;const{config:Y,name:ue}=this.auth;this.fullUserKey=Xt(this.userKey,Y.apiKey,ue),this.fullPersistenceKey=Xt("persistence",Y.apiKey,ue),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,g.Z)(function*(){const v=yield _.persistence._get(_.fullUserKey);return v?pe._fromJSON(_.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var v=this;return(0,g.Z)(function*(){if(v.persistence===_)return;const M=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=_,M?v.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,v,M="authUser"){return(0,g.Z)(function*(){if(!v.length)return new ln(Tt(sn),_,M);const Y=(yield Promise.all(v.map(function(){var vn=(0,g.Z)(function*(jn){if(yield jn._isAvailable())return jn});return function(jn){return vn.apply(this,arguments)}}()))).filter(vn=>vn);let ue=Y[0]||Tt(sn);const Ue=Xt(M,_.config.apiKey,_.name);let dt=null;for(const vn of v)try{const jn=yield vn._get(Ue);if(jn){const ur=pe._fromJSON(_,jn);vn!==ue&&(dt=ur),ue=vn;break}}catch{}const Ft=Y.filter(vn=>vn._shouldAllowMigration);return ue._shouldAllowMigration&&Ft.length?(ue=Ft[0],dt&&(yield ue._set(Ue,dt.toJSON())),yield Promise.all(v.map(function(){var vn=(0,g.Z)(function*(jn){if(jn!==ue)try{yield jn._remove(Ue)}catch{}});return function(jn){return vn.apply(this,arguments)}}())),new ln(ue,_,M)):new ln(ue,_,M)})()}}function qn(C){const _=C.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(Dt(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(Ne(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(un(_))return"Blackberry";if(Qt(_))return"Webos";if(we(_))return"Safari";if((_.includes("chrome/")||Le(_))&&!_.includes("edge/"))return"Chrome";if(Ut(_))return"Android";{const M=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===M?.length)return M[1]}return"Other"}function Ne(C=(0,G.z$)()){return/firefox\//i.test(C)}function we(C=(0,G.z$)()){const _=C.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function Le(C=(0,G.z$)()){return/crios\//i.test(C)}function Dt(C=(0,G.z$)()){return/iemobile/i.test(C)}function Ut(C=(0,G.z$)()){return/android/i.test(C)}function un(C=(0,G.z$)()){return/blackberry/i.test(C)}function Qt(C=(0,G.z$)()){return/webos/i.test(C)}function ar(C=(0,G.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function dn(C=(0,G.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function bt(C=(0,G.z$)()){return ar(C)||Ut(C)||Qt(C)||un(C)||/windows phone/i.test(C)||Dt(C)}function wn(C,_=[]){let v;switch(C){case"Browser":v=qn((0,G.z$)());break;case"Worker":v=`${qn((0,G.z$)())}-${C}`;break;default:v=C}const M=_.length?_.join(","):"FirebaseCore-web";return`${v}/JsCore/${u.SDK_VERSION}/${M}`}class Sn{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,v){const M=ue=>new Promise((Ue,dt)=>{try{Ue(_(ue))}catch(Ft){dt(Ft)}});M.onAbort=v,this.queue.push(M);const Y=this.queue.length-1;return()=>{this.queue[Y]=()=>Promise.resolve()}}runMiddleware(_){var v=this;return(0,g.Z)(function*(){if(v.auth.currentUser===_)return;const M=[];try{for(const Y of v.queue)yield Y(_),Y.onAbort&&M.push(Y.onAbort)}catch(Y){M.reverse();for(const ue of M)try{ue()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:Y?.message})}})()}}function Ln(){return(Ln=(0,g.Z)(function*(C,_={}){return It(C,"GET","/v2/passwordPolicy",ut(C,_))})).apply(this,arguments)}class Ai{constructor(_){var v,M,Y,ue;const Ue=_.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=Ue.minPasswordLength)&&void 0!==v?v:6,Ue.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ue.maxPasswordLength),void 0!==Ue.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ue.containsLowercaseCharacter),void 0!==Ue.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ue.containsUppercaseCharacter),void 0!==Ue.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ue.containsNumericCharacter),void 0!==Ue.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ue.containsNonAlphanumericCharacter),this.enforcementState=_.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Y=null===(M=_.allowedNonAlphanumericCharacters)||void 0===M?void 0:M.join(""))&&void 0!==Y?Y:"",this.forceUpgradeOnSignin=null!==(ue=_.forceUpgradeOnSignin)&&void 0!==ue&&ue,this.schemaVersion=_.schemaVersion}validatePassword(_){var v,M,Y,ue,Ue,dt;const Ft={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(_,Ft),this.validatePasswordCharacterOptions(_,Ft),Ft.isValid&&(Ft.isValid=null===(v=Ft.meetsMinPasswordLength)||void 0===v||v),Ft.isValid&&(Ft.isValid=null===(M=Ft.meetsMaxPasswordLength)||void 0===M||M),Ft.isValid&&(Ft.isValid=null===(Y=Ft.containsLowercaseLetter)||void 0===Y||Y),Ft.isValid&&(Ft.isValid=null===(ue=Ft.containsUppercaseLetter)||void 0===ue||ue),Ft.isValid&&(Ft.isValid=null===(Ue=Ft.containsNumericCharacter)||void 0===Ue||Ue),Ft.isValid&&(Ft.isValid=null===(dt=Ft.containsNonAlphanumericCharacter)||void 0===dt||dt),Ft}validatePasswordLengthOptions(_,v){const M=this.customStrengthOptions.minPasswordLength,Y=this.customStrengthOptions.maxPasswordLength;M&&(v.meetsMinPasswordLength=_.length>=M),Y&&(v.meetsMaxPasswordLength=_.length<=Y)}validatePasswordCharacterOptions(_,v){let M;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let Y=0;Y<_.length;Y++)M=_.charAt(Y),this.updatePasswordCharacterOptionsStatuses(v,M>="a"&&M<="z",M>="A"&&M<="Z",M>="0"&&M<="9",this.allowedNonAlphanumericCharacters.includes(M))}updatePasswordCharacterOptionsStatuses(_,v,M,Y,ue){this.customStrengthOptions.containsLowercaseLetter&&(_.containsLowercaseLetter||(_.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(_.containsUppercaseLetter||(_.containsUppercaseLetter=M)),this.customStrengthOptions.containsNumericCharacter&&(_.containsNumericCharacter||(_.containsNumericCharacter=Y)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(_.containsNonAlphanumericCharacter||(_.containsNonAlphanumericCharacter=ue))}}class Kr{constructor(_,v,M,Y){this.app=_,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=M,this.config=Y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bi(this),this.idTokenSubscription=new bi(this),this.beforeStateQueue=new Sn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ft,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=Y.sdkClientVersion}_initializeWithPersistence(_,v){var M=this;return v&&(this._popupRedirectResolver=Tt(v)),this._initializationPromise=this.queue((0,g.Z)(function*(){var Y,ue;if(!M._deleted&&(M.persistenceManager=yield ln.create(M,_),!M._deleted)){if(null!==(Y=M._popupRedirectResolver)&&void 0!==Y&&Y._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(v),M.lastNotifiedUid=(null===(ue=M.currentUser)||void 0===ue?void 0:ue.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,g.Z)(function*(){if(_._deleted)return;const v=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||v){if(_.currentUser&&v&&_.currentUser.uid===v.uid)return _._currentUser._assign(v),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(_){var v=this;return(0,g.Z)(function*(){try{const M=yield yr(v,{idToken:_}),Y=yield pe._fromGetAccountInfoResponse(v,M,_);yield v.directlySetCurrentUser(Y)}catch(M){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",M),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(_){var v=this;return(0,g.Z)(function*(){var M;if((0,u._isFirebaseServerApp)(v.app)){const dt=v.app.settings.authIdToken;return dt?new Promise(Ft=>{setTimeout(()=>v.initializeCurrentUserFromIdToken(dt).then(Ft,Ft))}):v.directlySetCurrentUser(null)}const Y=yield v.assertedPersistence.getCurrentUser();let ue=Y,Ue=!1;if(_&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const dt=null===(M=v.redirectUser)||void 0===M?void 0:M._redirectEventId,Ft=ue?._redirectEventId,vn=yield v.tryRedirectSignIn(_);(!dt||dt===Ft)&&vn?.user&&(ue=vn.user,Ue=!0)}if(!ue)return v.directlySetCurrentUser(null);if(!ue._redirectEventId){if(Ue)try{yield v.beforeStateQueue.runMiddleware(ue)}catch(dt){ue=Y,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(dt))}return ue?v.reloadAndSetCurrentUserOrClear(ue):v.directlySetCurrentUser(null)}return ve(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===ue._redirectEventId?v.directlySetCurrentUser(ue):v.reloadAndSetCurrentUserOrClear(ue)})()}tryRedirectSignIn(_){var v=this;return(0,g.Z)(function*(){let M=null;try{M=yield v._popupRedirectResolver._completeRedirectFn(v,_,!0)}catch{yield v._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(_){var v=this;return(0,g.Z)(function*(){try{yield ae(_)}catch(M){if("auth/network-request-failed"!==M?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function lt(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var _=this;return(0,g.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var v=this;return(0,g.Z)(function*(){if((0,u._isFirebaseServerApp)(v.app))return Promise.reject(ct(v));const M=_?(0,G.m9)(_):null;return M&&ve(M.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(M&&M._clone(v))})()}_updateCurrentUser(_,v=!1){var M=this;return(0,g.Z)(function*(){if(!M._deleted)return _&&ve(M.tenantId===_.tenantId,M,"tenant-id-mismatch"),v||(yield M.beforeStateQueue.runMiddleware(_)),M.queue((0,g.Z)(function*(){yield M.directlySetCurrentUser(_),M.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,g.Z)(function*(){return(0,u._isFirebaseServerApp)(_.app)?Promise.reject(ct(_)):(yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0))})()}setPersistence(_){var v=this;return(0,u._isFirebaseServerApp)(this.app)?Promise.reject(ct(this)):this.queue((0,g.Z)(function*(){yield v.assertedPersistence.setPersistence(Tt(_))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(_){var v=this;return(0,g.Z)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const M=v._getPasswordPolicyInternal();return M.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):M.validatePassword(_)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var _=this;return(0,g.Z)(function*(){const v=yield function yn(C){return Ln.apply(this,arguments)}(_),M=new Ai(v);null===_.tenantId?_._projectPasswordPolicy=M:_._tenantPasswordPolicies[_.tenantId]=M})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new G.LL("auth","Firebase",_())}onAuthStateChanged(_,v,M){return this.registerStateListener(this.authStateSubscription,_,v,M)}beforeAuthStateChanged(_,v){return this.beforeStateQueue.pushCallback(_,v)}onIdTokenChanged(_,v,M){return this.registerStateListener(this.idTokenSubscription,_,v,M)}authStateReady(){return new Promise((_,v)=>{if(this.currentUser)_();else{const M=this.onAuthStateChanged(()=>{M(),_()},v)}})}revokeAccessToken(_){var v=this;return(0,g.Z)(function*(){if(v.currentUser){const M=yield v.currentUser.getIdToken(),Y={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:_,idToken:M};null!=v.tenantId&&(Y.tenantId=v.tenantId),yield function re(C,_){return W.apply(this,arguments)}(v,Y)}})()}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,v){var M=this;return(0,g.Z)(function*(){const Y=yield M.getOrInitRedirectPersistenceManager(v);return null===_?Y.removeCurrentUser():Y.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var v=this;return(0,g.Z)(function*(){if(!v.redirectPersistenceManager){const M=_&&Tt(_)||v._popupRedirectResolver;ve(M,v,"argument-error"),v.redirectPersistenceManager=yield ln.create(v,[Tt(M._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(_){var v=this;return(0,g.Z)(function*(){var M,Y;return v._isInitialized&&(yield v.queue((0,g.Z)(function*(){}))),(null===(M=v._currentUser)||void 0===M?void 0:M._redirectEventId)===_?v._currentUser:(null===(Y=v.redirectUser)||void 0===Y?void 0:Y._redirectEventId)===_?v.redirectUser:null})()}_persistUserIfCurrent(_){var v=this;return(0,g.Z)(function*(){if(_===v.currentUser)return v.queue((0,g.Z)(function*(){return v.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(v=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,v,M,Y){if(this._deleted)return()=>{};const ue="function"==typeof v?v:v.next.bind(v);let Ue=!1;const dt=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(dt,this,"internal-error"),dt.then(()=>{Ue||ue(this.currentUser)}),"function"==typeof v){const Ft=_.addObserver(v,M,Y);return()=>{Ue=!0,Ft()}}{const Ft=_.addObserver(v);return()=>{Ue=!0,Ft()}}}directlySetCurrentUser(_){var v=this;return(0,g.Z)(function*(){v.currentUser&&v.currentUser!==_&&v._currentUser._stopProactiveRefresh(),_&&v.isProactiveRefreshEnabled&&_._startProactiveRefresh(),v.currentUser=_,_?yield v.assertedPersistence.setCurrentUser(_):yield v.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=wn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,g.Z)(function*(){var v;const M={"X-Client-Version":_.clientVersion};_.app.options.appId&&(M["X-Firebase-gmpid"]=_.app.options.appId);const Y=yield null===(v=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();Y&&(M["X-Firebase-Client"]=Y);const ue=yield _._getAppCheckToken();return ue&&(M["X-Firebase-AppCheck"]=ue),M})()}_getAppCheckToken(){var _=this;return(0,g.Z)(function*(){var v;const M=yield null===(v=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return M?.error&&function nn(C,..._){Et.logLevel<=be.in.WARN&&Et.warn(`Auth (${u.SDK_VERSION}): ${C}`,..._)}(`Error while retrieving App Check token: ${M.error}`),M?.token})()}}function nr(C){return(0,G.m9)(C)}class bi{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,G.ne)(v=>this.observer=v)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ls={loadJS:()=>(0,g.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vr(C){return ls.loadJS(C)}function Fc(C){return`__${C}${Math.floor(1e6*Math.random())}`}class Mi{constructor(_){this.type="recaptcha-enterprise",this.auth=nr(_)}verify(_="verify",v=!1){var M=this;return(0,g.Z)(function*(){function ue(){return ue=(0,g.Z)(function*(dt){if(!v){if(null==dt.tenantId&&null!=dt._agentRecaptchaConfig)return dt._agentRecaptchaConfig.siteKey;if(null!=dt.tenantId&&void 0!==dt._tenantRecaptchaConfigs[dt.tenantId])return dt._tenantRecaptchaConfigs[dt.tenantId].siteKey}return new Promise(function(){var Ft=(0,g.Z)(function*(vn,jn){Ar(dt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ur=>{if(void 0!==ur.recaptchaKey){const ao=new Lt(ur);return null==dt.tenantId?dt._agentRecaptchaConfig=ao:dt._tenantRecaptchaConfigs[dt.tenantId]=ao,vn(ao.siteKey)}jn(new Error("recaptcha Enterprise site key undefined"))}).catch(ur=>{jn(ur)})});return function(vn,jn){return Ft.apply(this,arguments)}}())}),ue.apply(this,arguments)}function Ue(dt,Ft,vn){const jn=window.grecaptcha;Gn(jn)?jn.enterprise.ready(()=>{jn.enterprise.execute(dt,{action:_}).then(ur=>{Ft(ur)}).catch(()=>{Ft("NO_RECAPTCHA")})}):vn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((dt,Ft)=>{(function Y(dt){return ue.apply(this,arguments)})(M.auth).then(vn=>{if(!v&&Gn(window.grecaptcha))Ue(vn,dt,Ft);else{if(typeof window>"u")return void Ft(new Error("RecaptchaVerifier is only supported in browser"));let jn=function us(){return ls.recaptchaEnterpriseScript}();0!==jn.length&&(jn+=vn),Vr(jn).then(()=>{Ue(vn,dt,Ft)}).catch(ur=>{Ft(ur)})}}).catch(vn=>{Ft(vn)})})})()}}function Hr(C,_,v){return wa.apply(this,arguments)}function wa(){return(wa=(0,g.Z)(function*(C,_,v,M=!1){const Y=new Mi(C);let ue;try{ue=yield Y.verify(v)}catch{ue=yield Y.verify(v,!0)}const Ue=Object.assign({},_);return Object.assign(Ue,M?{captchaResp:ue}:{captchaResponse:ue}),Object.assign(Ue,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ue,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ue})).apply(this,arguments)}function js(C,_,v,M){return Bi.apply(this,arguments)}function Bi(){return Bi=(0,g.Z)(function*(C,_,v,M){var Y;if(null!==(Y=C._getRecaptchaConfig())&&void 0!==Y&&Y.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ue=yield Hr(C,_,v,"getOobCode"===v);return M(C,ue)}return M(C,_).catch(function(){var ue=(0,g.Z)(function*(Ue){if("auth/missing-recaptcha-token"===Ue.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const dt=yield Hr(C,_,v,"getOobCode"===v);return M(C,dt)}return Promise.reject(Ue)});return function(Ue){return ue.apply(this,arguments)}}())}),Bi.apply(this,arguments)}function bs(C,_,v){const M=nr(C);ve(M._canInitEmulator,M,"emulator-config-failed"),ve(/^https?:\/\//.test(_),M,"invalid-emulator-scheme");const Y=!!v?.disableWarnings,ue=mi(_),{host:Ue,port:dt}=function Ts(C){const _=mi(C),v=/(\/\/)?([^?#/]+)/.exec(C.substr(_.length));if(!v)return{host:"",port:null};const M=v[2].split("@").pop()||"",Y=/^(\[[^\]]+\])(:|$)/.exec(M);if(Y){const ue=Y[1];return{host:ue,port:Ys(M.substr(ue.length+1))}}{const[ue,Ue]=M.split(":");return{host:ue,port:Ys(Ue)}}}(_);M.config.emulator={url:`${ue}//${Ue}${null===dt?"":`:${dt}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:Ue,port:dt,protocol:ue.replace(":",""),options:Object.freeze({disableWarnings:Y})}),Y||function Do(){function C(){const _=document.createElement("p"),v=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function mi(C){const _=C.indexOf(":");return _<0?"":C.substr(0,_+1)}function Ys(C){if(!C)return null;const _=Number(C);return isNaN(_)?null:_}class Xi{constructor(_,v){this.providerId=_,this.signInMethod=v}toJSON(){return jt("not implemented")}_getIdTokenResponse(_){return jt("not implemented")}_linkToIdToken(_,v){return jt("not implemented")}_getReauthenticationResolver(_){return jt("not implemented")}}function Ho(C,_){return Un.apply(this,arguments)}function Un(){return(Un=(0,g.Z)(function*(C,_){return It(C,"POST","/v1/accounts:resetPassword",ut(C,_))})).apply(this,arguments)}function ri(){return(ri=(0,g.Z)(function*(C,_){return It(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function ji(C,_){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,g.Z)(function*(C,_){return It(C,"POST","/v1/accounts:signUp",_)})).apply(this,arguments)}function Wi(){return(Wi=(0,g.Z)(function*(C,_){return It(C,"POST","/v1/accounts:update",ut(C,_))})).apply(this,arguments)}function zo(C,_){return ts.apply(this,arguments)}function ts(){return(ts=(0,g.Z)(function*(C,_){return gn(C,"POST","/v1/accounts:signInWithPassword",ut(C,_))})).apply(this,arguments)}function $s(C,_){return Or.apply(this,arguments)}function Or(){return(Or=(0,g.Z)(function*(C,_){return It(C,"POST","/v1/accounts:sendOobCode",ut(C,_))})).apply(this,arguments)}function Wn(){return(Wn=(0,g.Z)(function*(C,_){return $s(C,_)})).apply(this,arguments)}function Sr(C,_){return Di.apply(this,arguments)}function Di(){return(Di=(0,g.Z)(function*(C,_){return $s(C,_)})).apply(this,arguments)}function Qs(C,_){return ei.apply(this,arguments)}function ei(){return(ei=(0,g.Z)(function*(C,_){return $s(C,_)})).apply(this,arguments)}function Cr(){return(Cr=(0,g.Z)(function*(C,_){return $s(C,_)})).apply(this,arguments)}function yo(){return(yo=(0,g.Z)(function*(C,_){return gn(C,"POST","/v1/accounts:signInWithEmailLink",ut(C,_))})).apply(this,arguments)}function fs(){return(fs=(0,g.Z)(function*(C,_){return gn(C,"POST","/v1/accounts:signInWithEmailLink",ut(C,_))})).apply(this,arguments)}class kr extends Xi{constructor(_,v,M,Y=null){super("password",M),this._email=_,this._password=v,this._tenantId=Y}static _fromEmailAndPassword(_,v){return new kr(_,v,"password")}static _fromEmailAndCode(_,v,M=null){return new kr(_,v,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(_){var v=this;return(0,g.Z)(function*(){switch(v.signInMethod){case"password":return js(_,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",zo);case"emailLink":return function hs(C,_){return yo.apply(this,arguments)}(_,{email:v._email,oobCode:v._password});default:Fe(_,"internal-error")}})()}_linkToIdToken(_,v){var M=this;return(0,g.Z)(function*(){switch(M.signInMethod){case"password":return js(_,{idToken:v,returnSecureToken:!0,email:M._email,password:M._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ji);case"emailLink":return function Zn(C,_){return fs.apply(this,arguments)}(_,{idToken:v,email:M._email,oobCode:M._password});default:Fe(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function Oi(C,_){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,g.Z)(function*(C,_){return gn(C,"POST","/v1/accounts:signInWithIdp",ut(C,_))})).apply(this,arguments)}class Si extends Xi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const v=new Si(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(v.idToken=_.idToken),_.accessToken&&(v.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(v.nonce=_.nonce),_.pendingToken&&(v.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(v.accessToken=_.oauthToken,v.secret=_.oauthTokenSecret):Fe("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:M,signInMethod:Y}=v,ue=(0,me._T)(v,["providerId","signInMethod"]);if(!M||!Y)return null;const Ue=new Si(M,Y);return Ue.idToken=ue.idToken||void 0,Ue.accessToken=ue.accessToken||void 0,Ue.secret=ue.secret,Ue.nonce=ue.nonce,Ue.pendingToken=ue.pendingToken||null,Ue}_getIdTokenResponse(_){return Oi(_,this.buildRequest())}_linkToIdToken(_,v){const M=this.buildRequest();return M.idToken=v,Oi(_,M)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,Oi(_,v)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),_.postBody=(0,G.xO)(v)}return _}}function Ms(){return(Ms=(0,g.Z)(function*(C,_){return It(C,"POST","/v1/accounts:sendVerificationCode",ut(C,_))})).apply(this,arguments)}function Hs(){return(Hs=(0,g.Z)(function*(C,_){return gn(C,"POST","/v1/accounts:signInWithPhoneNumber",ut(C,_))})).apply(this,arguments)}function fr(){return(fr=(0,g.Z)(function*(C,_){const v=yield gn(C,"POST","/v1/accounts:signInWithPhoneNumber",ut(C,_));if(v.temporaryProof)throw Dn(C,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const vo={USER_NOT_FOUND:"user-not-found"};function Sa(){return(Sa=(0,g.Z)(function*(C,_){return gn(C,"POST","/v1/accounts:signInWithPhoneNumber",ut(C,Object.assign(Object.assign({},_),{operation:"REAUTH"})),vo)})).apply(this,arguments)}class ns extends Xi{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,v){return new ns({verificationId:_,verificationCode:v})}static _fromTokenResponse(_,v){return new ns({phoneNumber:_,temporaryProof:v})}_getIdTokenResponse(_){return function Vc(C,_){return Hs.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,v){return function Jn(C,_){return fr.apply(this,arguments)}(_,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function cr(C,_){return Sa.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:v,verificationId:M,verificationCode:Y}=this.params;return _&&v?{temporaryProof:_,phoneNumber:v}:{sessionInfo:M,code:Y}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:v,verificationCode:M,phoneNumber:Y,temporaryProof:ue}=_;return M||v||Y||ue?new ns({verificationId:v,verificationCode:M,phoneNumber:Y,temporaryProof:ue}):null}}class ws{constructor(_){var v,M,Y,ue,Ue,dt;const Ft=(0,G.zd)((0,G.pd)(_)),vn=null!==(v=Ft.apiKey)&&void 0!==v?v:null,jn=null!==(M=Ft.oobCode)&&void 0!==M?M:null,ur=function Ni(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Y=Ft.mode)&&void 0!==Y?Y:null);ve(vn&&jn&&ur,"argument-error"),this.apiKey=vn,this.operation=ur,this.code=jn,this.continueUrl=null!==(ue=Ft.continueUrl)&&void 0!==ue?ue:null,this.languageCode=null!==(Ue=Ft.languageCode)&&void 0!==Ue?Ue:null,this.tenantId=null!==(dt=Ft.tenantId)&&void 0!==dt?dt:null}static parseLink(_){const v=function Cs(C){const _=(0,G.zd)((0,G.pd)(C)).link,v=_?(0,G.zd)((0,G.pd)(_)).deep_link_id:null,M=(0,G.zd)((0,G.pd)(C)).deep_link_id;return(M?(0,G.zd)((0,G.pd)(M)).link:null)||M||v||_||C}(_);try{return new ws(v)}catch{return null}}}let Wo=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(v,M){return kr._fromEmailAndPassword(v,M)}static credentialWithLink(v,M){const Y=ws.parseLink(M);return ve(Y,"argument-error"),kr._fromEmailAndCode(v,Y.code,Y.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class di{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Ma extends di{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class hi extends Ma{static credentialFromJSON(_){const v="string"==typeof _?JSON.parse(_):_;return ve("providerId"in v&&"signInMethod"in v,"argument-error"),Si._fromParams(v)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return ve(_.idToken||_.accessToken,"argument-error"),Si._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return hi.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return hi.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:v,oauthAccessToken:M,oauthTokenSecret:Y,pendingToken:ue,nonce:Ue,providerId:dt}=_;if(!M&&!Y&&!v&&!ue||!dt)return null;try{return new hi(dt)._credential({idToken:v,accessToken:M,nonce:Ue,pendingToken:ue})}catch{return null}}}let $i=(()=>{class C extends Ma{constructor(){super("facebook.com")}static credential(v){return Si._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),Ya=(()=>{class C extends Ma{constructor(){super("google.com"),this.addScope("profile")}static credential(v,M){return Si._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:M})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:M,oauthAccessToken:Y}=v;if(!M&&!Y)return null;try{return C.credential(M,Y)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Ps=(()=>{class C extends Ma{constructor(){super("github.com")}static credential(v){return Si._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class ki extends Xi{constructor(_,v){super(_,_),this.pendingToken=v}_getIdTokenResponse(_){return Oi(_,this.buildRequest())}_linkToIdToken(_,v){const M=this.buildRequest();return M.idToken=v,Oi(_,M)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,Oi(_,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:M,signInMethod:Y,pendingToken:ue}=v;return M&&Y&&ue&&M===Y?new ki(M,ue):null}static _create(_,v){return new ki(_,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class rs extends di{constructor(_){ve(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return rs.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return rs.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const v=ki.fromJSON(_);return ve(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:v,providerId:M}=_;if(!v||!M)return null;try{return ki._create(M,v)}catch{return null}}}let Xs=(()=>{class C extends Ma{constructor(){super("twitter.com")}static credential(v,M){return Si._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:M})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:M,oauthTokenSecret:Y}=v;if(!M||!Y)return null;try{return C.credential(M,Y)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Qa(C,_){return qo.apply(this,arguments)}function qo(){return(qo=(0,g.Z)(function*(C,_){return gn(C,"POST","/v1/accounts:signUp",ut(C,_))})).apply(this,arguments)}class q{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,v,M,Y=!1){return(0,g.Z)(function*(){const ue=yield pe._fromIdTokenResponse(_,M,Y),Ue=X(M);return new q({user:ue,providerId:Ue,_tokenResponse:M,operationType:v})})()}static _forOperation(_,v,M){return(0,g.Z)(function*(){yield _._updateTokensIfNecessary(M,!0);const Y=X(M);return new q({user:_,providerId:Y,_tokenResponse:M,operationType:v})})()}}function X(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function F(C){return le.apply(this,arguments)}function le(){return(le=(0,g.Z)(function*(C){var _;if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(ct(C));const v=nr(C);if(yield v._initializationPromise,null!==(_=v.currentUser)&&void 0!==_&&_.isAnonymous)return new q({user:v.currentUser,providerId:null,operationType:"signIn"});const M=yield Qa(v,{returnSecureToken:!0}),Y=yield q._fromIdTokenResponse(v,"signIn",M,!0);return yield v._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class Ce extends G.ZR{constructor(_,v,M,Y){var ue;super(v.code,v.message),this.operationType=M,this.user=Y,Object.setPrototypeOf(this,Ce.prototype),this.customData={appName:_.name,tenantId:null!==(ue=_.tenantId)&&void 0!==ue?ue:void 0,_serverResponse:v.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(_,v,M,Y){return new Ce(_,v,M,Y)}}function Tn(C,_,v,M){return("reauthenticate"===_?v._getReauthenticationResolver(C):v._getIdTokenResponse(C)).catch(ue=>{throw"auth/multi-factor-auth-required"===ue.code?Ce._fromErrorAndOperation(C,ue,_,M):ue})}function lr(C){return new Set(C.map(({providerId:_})=>_).filter(_=>!!_))}function qi(C,_){return ii.apply(this,arguments)}function ii(){return ii=(0,g.Z)(function*(C,_){const v=(0,G.m9)(C);yield Ja(!0,v,_);const{providerUserInfo:M}=yield function Rn(C,_){return On.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[_]}),Y=lr(M||[]);return v.providerData=v.providerData.filter(ue=>Y.has(ue.providerId)),Y.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),ii.apply(this,arguments)}function Pa(C,_){return El.apply(this,arguments)}function El(){return(El=(0,g.Z)(function*(C,_,v=!1){const M=yield Dr(C,_._linkToIdToken(C.auth,yield C.getIdToken()),v);return q._forOperation(C,"link",M)})).apply(this,arguments)}function Ja(C,_,v){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,g.Z)(function*(C,_,v){yield ae(_);const Y=!1===C?"provider-already-linked":"no-such-provider";ve(lr(_.providerData).has(v)===C,_.auth,Y)})).apply(this,arguments)}function Ra(C,_){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,g.Z)(function*(C,_,v=!1){const{auth:M}=C;if((0,u._isFirebaseServerApp)(M.app))return Promise.reject(ct(M));const Y="reauthenticate";try{const ue=yield Dr(C,Tn(M,Y,_,C),v);ve(ue.idToken,M,"internal-error");const Ue=gi(ue.idToken);ve(Ue,M,"internal-error");const{sub:dt}=Ue;return ve(C.uid===dt,M,"user-mismatch"),q._forOperation(C,Y,ue)}catch(ue){throw"auth/user-not-found"===ue?.code&&Fe(M,"user-mismatch"),ue}})).apply(this,arguments)}function ec(C,_){return sa.apply(this,arguments)}function sa(){return(sa=(0,g.Z)(function*(C,_,v=!1){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(ct(C));const M="signIn",Y=yield Tn(C,M,_),ue=yield q._fromIdTokenResponse(C,M,Y);return v||(yield C._updateCurrentUser(ue.user)),ue})).apply(this,arguments)}function Bc(C,_){return zs.apply(this,arguments)}function zs(){return(zs=(0,g.Z)(function*(C,_){return ec(nr(C),_)})).apply(this,arguments)}function eo(C,_){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,g.Z)(function*(C,_){const v=(0,G.m9)(C);return yield Ja(!1,v,_.providerId),Pa(v,_)})).apply(this,arguments)}function td(C,_){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,g.Z)(function*(C,_){return Ra((0,G.m9)(C),_)})).apply(this,arguments)}function Fi(){return(Fi=(0,g.Z)(function*(C,_){return gn(C,"POST","/v1/accounts:signInWithCustomToken",ut(C,_))})).apply(this,arguments)}function au(C,_){return Gs.apply(this,arguments)}function Gs(){return Gs=(0,g.Z)(function*(C,_){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(ct(C));const v=nr(C),M=yield function oa(C,_){return Fi.apply(this,arguments)}(v,{token:_,returnSecureToken:!0}),Y=yield q._fromIdTokenResponse(v,"signIn",M);return yield v._updateCurrentUser(Y.user),Y}),Gs.apply(this,arguments)}class to{constructor(_,v){this.factorId=_,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(_,v){return"phoneInfo"in v?no._fromServerResponse(_,v):"totpInfo"in v?So._fromServerResponse(_,v):Fe(_,"internal-error")}}class no extends to{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,v){return new no(v)}}class So extends to{constructor(_){super("totp",_)}static _fromServerResponse(_,v){return new So(v)}}function xa(C,_,v){var M;ve((null===(M=v.url)||void 0===M?void 0:M.length)>0,C,"invalid-continue-uri"),ve(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),_.continueUrl=v.url,_.dynamicLinkDomain=v.dynamicLinkDomain,_.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(ve(v.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),_.iOSBundleId=v.iOS.bundleId),v.android&&(ve(v.android.packageName.length>0,C,"missing-android-pkg-name"),_.androidInstallApp=v.android.installApp,_.androidMinimumVersionCode=v.android.minimumVersion,_.androidPackageName=v.android.packageName)}function ir(C){return jc.apply(this,arguments)}function jc(){return(jc=(0,g.Z)(function*(C){const _=nr(C);_._getPasswordPolicyInternal()&&(yield _._updatePasswordPolicy())})).apply(this,arguments)}function $c(C,_,v){return tc.apply(this,arguments)}function tc(){return(tc=(0,g.Z)(function*(C,_,v){const M=nr(C),Y={requestType:"PASSWORD_RESET",email:_,clientType:"CLIENT_TYPE_WEB"};v&&xa(M,Y,v),yield js(M,Y,"getOobCode",Sr)})).apply(this,arguments)}function nc(C,_,v){return Oa.apply(this,arguments)}function Oa(){return Oa=(0,g.Z)(function*(C,_,v){yield Ho((0,G.m9)(C),{oobCode:_,newPassword:v}).catch(function(){var M=(0,g.Z)(function*(Y){throw"auth/password-does-not-meet-requirements"===Y.code&&ir(C),Y});return function(Y){return M.apply(this,arguments)}}())}),Oa.apply(this,arguments)}function Zo(C,_){return Mo.apply(this,arguments)}function Mo(){return Mo=(0,g.Z)(function*(C,_){yield function es(C,_){return Wi.apply(this,arguments)}((0,G.m9)(C),{oobCode:_})}),Mo.apply(this,arguments)}function rc(C,_){return Il.apply(this,arguments)}function Il(){return(Il=(0,g.Z)(function*(C,_){const v=(0,G.m9)(C),M=yield Ho(v,{oobCode:_}),Y=M.requestType;switch(ve(Y,v,"internal-error"),Y){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ve(M.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ve(M.mfaInfo,v,"internal-error");default:ve(M.email,v,"internal-error")}let ue=null;return M.mfaInfo&&(ue=to._fromServerResponse(nr(v),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:ue},operation:Y}})).apply(this,arguments)}function Hc(C,_){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,g.Z)(function*(C,_){const{data:v}=yield rc((0,G.m9)(C),_);return v.email})).apply(this,arguments)}function Th(C,_,v){return Po.apply(this,arguments)}function Po(){return(Po=(0,g.Z)(function*(C,_,v){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(ct(C));const M=nr(C),Ue=yield js(M,{returnSecureToken:!0,email:_,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Qa).catch(Ft=>{throw"auth/password-does-not-meet-requirements"===Ft.code&&ir(C),Ft}),dt=yield q._fromIdTokenResponse(M,"signIn",Ue);return yield M._updateCurrentUser(dt.user),dt})).apply(this,arguments)}function nd(C,_,v){return(0,u._isFirebaseServerApp)(C.app)?Promise.reject(ct(C)):Bc((0,G.m9)(C),Wo.credential(_,v)).catch(function(){var M=(0,g.Z)(function*(Y){throw"auth/password-does-not-meet-requirements"===Y.code&&ir(C),Y});return function(Y){return M.apply(this,arguments)}}())}function Na(C,_,v){return ic.apply(this,arguments)}function ic(){return(ic=(0,g.Z)(function*(C,_,v){const M=nr(C),Y={requestType:"EMAIL_SIGNIN",email:_,clientType:"CLIENT_TYPE_WEB"};(function ue(Ue,dt){ve(dt.handleCodeInApp,M,"argument-error"),dt&&xa(M,Ue,dt)})(Y,v),yield js(M,Y,"getOobCode",Qs)})).apply(this,arguments)}function bl(C,_){const v=ws.parseLink(_);return"EMAIL_SIGNIN"===v?.operation}function ka(C,_,v){return rd.apply(this,arguments)}function rd(){return(rd=(0,g.Z)(function*(C,_,v){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(ct(C));const M=(0,G.m9)(C),Y=Wo.credentialWithLink(_,v||hr());return ve(Y._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),Bc(M,Y)})).apply(this,arguments)}function ti(){return(ti=(0,g.Z)(function*(C,_){return It(C,"POST","/v1/accounts:createAuthUri",ut(C,_))})).apply(this,arguments)}function P(C,_){return ne.apply(this,arguments)}function ne(){return ne=(0,g.Z)(function*(C,_){const M={identifier:_,continueUri:xt()?hr():"http://localhost"},{signinMethods:Y}=yield function zc(C,_){return ti.apply(this,arguments)}((0,G.m9)(C),M);return Y||[]}),ne.apply(this,arguments)}function j(C,_){return J.apply(this,arguments)}function J(){return J=(0,g.Z)(function*(C,_){const v=(0,G.m9)(C),Y={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};_&&xa(v.auth,Y,_);const{email:ue}=yield function on(C,_){return Wn.apply(this,arguments)}(v.auth,Y);ue!==C.email&&(yield C.reload())}),J.apply(this,arguments)}function Ie(C,_,v){return _t.apply(this,arguments)}function _t(){return _t=(0,g.Z)(function*(C,_,v){const M=(0,G.m9)(C),ue={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:_};v&&xa(M.auth,ue,v);const{email:Ue}=yield function ds(C,_){return Cr.apply(this,arguments)}(M.auth,ue);Ue!==C.email&&(yield C.reload())}),_t.apply(this,arguments)}function _n(){return(_n=(0,g.Z)(function*(C,_){return It(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Pr(C,_){return Wr.apply(this,arguments)}function Wr(){return Wr=(0,g.Z)(function*(C,{displayName:_,photoURL:v}){if(void 0===_&&void 0===v)return;const M=(0,G.m9)(C),ue={idToken:yield M.getIdToken(),displayName:_,photoUrl:v,returnSecureToken:!0},Ue=yield Dr(M,function Mt(C,_){return _n.apply(this,arguments)}(M.auth,ue));M.displayName=Ue.displayName||null,M.photoURL=Ue.photoUrl||null;const dt=M.providerData.find(({providerId:Ft})=>"password"===Ft);dt&&(dt.displayName=M.displayName,dt.photoURL=M.photoURL),yield M._updateTokensIfNecessary(Ue)}),Wr.apply(this,arguments)}function Br(C,_){const v=(0,G.m9)(C);return(0,u._isFirebaseServerApp)(v.auth.app)?Promise.reject(ct(v.auth)):Qr(v,_,null)}function pr(C,_){return Qr((0,G.m9)(C),null,_)}function Qr(C,_,v){return Fr.apply(this,arguments)}function Fr(){return Fr=(0,g.Z)(function*(C,_,v){const{auth:M}=C,ue={idToken:yield C.getIdToken(),returnSecureToken:!0};_&&(ue.email=_),v&&(ue.password=v);const Ue=yield Dr(C,function Ur(C,_){return ri.apply(this,arguments)}(M,ue));yield C._updateTokensIfNecessary(Ue,!0)}),Fr.apply(this,arguments)}class is{constructor(_,v,M={}){this.isNewUser=_,this.providerId=v,this.profile=M}}class Ki extends is{constructor(_,v,M,Y){super(_,v,M),this.username=Y}}class Yo extends is{constructor(_,v){super(_,"facebook.com",v)}}class Rs extends Ki{constructor(_,v){super(_,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class si extends is{constructor(_,v){super(_,"google.com",v)}}class Qn extends Ki{constructor(_,v,M){super(_,"twitter.com",v,M)}}function Qo(C){const{user:_,_tokenResponse:v}=C;return _.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Pi(C){var _,v;if(!C)return null;const{providerId:M}=C,Y=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},ue=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!M&&C?.idToken){const Ue=null===(v=null===(_=gi(C.idToken))||void 0===_?void 0:_.firebase)||void 0===v?void 0:v.sign_in_provider;if(Ue)return new is(ue,"anonymous"!==Ue&&"custom"!==Ue?Ue:null)}if(!M)return null;switch(M){case"facebook.com":return new Yo(ue,Y);case"github.com":return new Rs(ue,Y);case"google.com":return new si(ue,Y);case"twitter.com":return new Qn(ue,Y,C.screenName||null);case"custom":case"anonymous":return new is(ue,null);default:return new is(ue,M,Y)}}(v)}class xo{constructor(_,v,M){this.type=_,this.credential=v,this.user=M}static _fromIdtoken(_,v){return new xo("enroll",_,v)}static _fromMfaPendingCredential(_){return new xo("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var v,M;if(_?.multiFactorSession){if(null!==(v=_.multiFactorSession)&&void 0!==v&&v.pendingCredential)return xo._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(M=_.multiFactorSession)&&void 0!==M&&M.idToken)return xo._fromIdtoken(_.multiFactorSession.idToken)}return null}}class Oo{constructor(_,v,M){this.session=_,this.hints=v,this.signInResolver=M}static _fromError(_,v){const M=nr(_),Y=v.customData._serverResponse,ue=(Y.mfaInfo||[]).map(dt=>to._fromServerResponse(M,dt));ve(Y.mfaPendingCredential,M,"internal-error");const Ue=xo._fromMfaPendingCredential(Y.mfaPendingCredential);return new Oo(Ue,ue,function(){var dt=(0,g.Z)(function*(Ft){const vn=yield Ft._process(M,Ue);delete Y.mfaInfo,delete Y.mfaPendingCredential;const jn=Object.assign(Object.assign({},Y),{idToken:vn.idToken,refreshToken:vn.refreshToken});switch(v.operationType){case"signIn":const ur=yield q._fromIdTokenResponse(M,v.operationType,jn);return yield M._updateCurrentUser(ur.user),ur;case"reauthenticate":return ve(v.user,M,"internal-error"),q._forOperation(v.user,v.operationType,jn);default:Fe(M,"internal-error")}});return function(Ft){return dt.apply(this,arguments)}}())}resolveSignIn(_){var v=this;return(0,g.Z)(function*(){return v.signInResolver(_)})()}}function id(C,_){var v;const M=(0,G.m9)(C),Y=_;return ve(_.customData.operationType,M,"argument-error"),ve(null===(v=Y.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,M,"argument-error"),Oo._fromError(M,Y)}class Wc{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(M=>to._fromServerResponse(_.auth,M)))})}static _fromUser(_){return new Wc(_)}getSession(){var _=this;return(0,g.Z)(function*(){return xo._fromIdtoken(yield _.user.getIdToken(),_.user)})()}enroll(_,v){var M=this;return(0,g.Z)(function*(){const Y=_,ue=yield M.getSession(),Ue=yield Dr(M.user,Y._process(M.user.auth,ue,v));return yield M.user._updateTokensIfNecessary(Ue),M.user.reload()})()}unenroll(_){var v=this;return(0,g.Z)(function*(){const M="string"==typeof _?_:_.uid,Y=yield v.user.getIdToken();try{const ue=yield Dr(v.user,function sd(C,_){return It(C,"POST","/v2/accounts/mfaEnrollment:withdraw",ut(C,_))}(v.user.auth,{idToken:Y,mfaEnrollmentId:M}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Ue})=>Ue!==M),yield v.user._updateTokensIfNecessary(ue),yield v.user.reload()}catch(ue){throw ue}})()}}const Fa=new WeakMap;function wh(C){const _=(0,G.m9)(C);return Fa.has(_)||Fa.set(_,Wc._fromUser(_)),Fa.get(_)}const od="__sak";class Ti{constructor(_,v){this.storageRetriever=_,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(od,"1"),this.storage.removeItem(od),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,v){return this.storage.setItem(_,JSON.stringify(v)),Promise.resolve()}_get(_){const v=this.storage.getItem(_);return Promise.resolve(v?JSON.parse(v):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const No=(()=>{class C extends Ti{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,M)=>this.onStorageEvent(v,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function La(){const C=(0,G.z$)();return we(C)||ar(C)}()&&function en(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=bt(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const M of Object.keys(this.listeners)){const Y=this.storage.getItem(M),ue=this.localCache[M];Y!==ue&&v(M,ue,Y)}}onStorageEvent(v,M=!1){if(!v.key)return void this.forAllChangedKeys((dt,Ft,vn)=>{this.notifyListeners(dt,vn)});const Y=v.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const dt=this.storage.getItem(Y);if(v.newValue!==dt)null!==v.newValue?this.storage.setItem(Y,v.newValue):this.storage.removeItem(Y);else if(this.localCache[Y]===v.newValue&&!M)return}const ue=()=>{const dt=this.storage.getItem(Y);!M&&this.localCache[Y]===dt||this.notifyListeners(Y,dt)},Ue=this.storage.getItem(Y);!function Ke(){return(0,G.w1)()&&10===document.documentMode}()||Ue===v.newValue||v.newValue===v.oldValue?ue():setTimeout(ue,10)}notifyListeners(v,M){this.localCache[v]=M;const Y=this.listeners[v];if(Y)for(const ue of Array.from(Y))ue(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,M,Y)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:M,newValue:Y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(M)}_removeListener(v,M){this.listeners[v]&&(this.listeners[v].delete(M),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,M){var Y=()=>super._set,ue=this;return(0,g.Z)(function*(){yield Y().call(ue,v,M),ue.localCache[v]=JSON.stringify(M)})()}_get(v){var M=()=>super._get,Y=this;return(0,g.Z)(function*(){const ue=yield M().call(Y,v);return Y.localCache[v]=JSON.stringify(ue),ue})()}_remove(v){var M=()=>super._remove,Y=this;return(0,g.Z)(function*(){yield M().call(Y,v),delete Y.localCache[v]})()}}return C.type="LOCAL",C})(),Nt=(()=>{class C extends Ti{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,M){}_removeListener(v,M){}}return C.type="SESSION",C})();let cd=(()=>{class C{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const M=this.receivers.find(ue=>ue.isListeningto(v));if(M)return M;const Y=new C(v);return this.receivers.push(Y),Y}isListeningto(v){return this.eventTarget===v}handleEvent(v){var M=this;return(0,g.Z)(function*(){const Y=v,{eventId:ue,eventType:Ue,data:dt}=Y.data,Ft=M.handlersMap[Ue];if(!Ft?.size)return;Y.ports[0].postMessage({status:"ack",eventId:ue,eventType:Ue});const vn=Array.from(Ft).map(function(){var ur=(0,g.Z)(function*(ao){return ao(Y.origin,dt)});return function(ao){return ur.apply(this,arguments)}}()),jn=yield function Nr(C){return Promise.all(C.map(function(){var _=(0,g.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(M){return{fulfilled:!1,reason:M}}});return function(v){return _.apply(this,arguments)}}()))}(vn);Y.ports[0].postMessage({status:"done",eventId:ue,eventType:Ue,response:jn})})()}_subscribe(v,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(M)}_unsubscribe(v,M){this.handlersMap[v]&&M&&this.handlersMap[v].delete(M),(!M||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function oc(C="",_=10){let v="";for(let M=0;M<_;M++)v+=Math.floor(10*Math.random());return C+v}class ss{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,v,M=50){var Y=this;return(0,g.Z)(function*(){const ue=typeof MessageChannel<"u"?new MessageChannel:null;if(!ue)throw new Error("connection_unavailable");let Ue,dt;return new Promise((Ft,vn)=>{const jn=oc("",20);ue.port1.start();const ur=setTimeout(()=>{vn(new Error("unsupported_event"))},M);dt={messageChannel:ue,onMessage(ao){const bo=ao;if(bo.data.eventId===jn)switch(bo.data.status){case"ack":clearTimeout(ur),Ue=setTimeout(()=>{vn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ue),Ft(bo.data.response);break;default:clearTimeout(ur),clearTimeout(Ue),vn(new Error("invalid_response"))}}},Y.handlers.add(dt),ue.port1.addEventListener("message",dt.onMessage),Y.target.postMessage({eventType:_,eventId:jn,data:v},[ue.port2])}).finally(()=>{dt&&Y.removeMessageHandler(dt)})})()}}function Li(){return window}function ms(){return typeof Li().WorkerGlobalScope<"u"&&"function"==typeof Li().importScripts}function ac(){return(ac=(0,g.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const uu="firebaseLocalStorageDb",ko="firebaseLocalStorage",dd="fbase_key";class ca{constructor(_){this.request=_}toPromise(){return new Promise((_,v)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function S(C,_){return C.transaction([ko],_?"readwrite":"readonly").objectStore(ko)}function w(){const C=indexedDB.open(uu,1);return new Promise((_,v)=>{C.addEventListener("error",()=>{v(C.error)}),C.addEventListener("upgradeneeded",()=>{const M=C.result;try{M.createObjectStore(ko,{keyPath:dd})}catch(Y){v(Y)}}),C.addEventListener("success",(0,g.Z)(function*(){const M=C.result;M.objectStoreNames.contains(ko)?_(M):(M.close(),yield function O(){const C=indexedDB.deleteDatabase(uu);return new ca(C).toPromise()}(),_(yield w()))}))})}function N(C,_,v){return z.apply(this,arguments)}function z(){return(z=(0,g.Z)(function*(C,_,v){const M=S(C,!0).put({[dd]:_,value:v});return new ca(M).toPromise()})).apply(this,arguments)}function Ee(){return(Ee=(0,g.Z)(function*(C,_){const v=S(C,!1).get(_),M=yield new ca(v).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function ht(C,_){const v=S(C,!0).delete(_);return new ca(v).toPromise()}const qr=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,g.Z)(function*(){return v.db||(v.db=yield w()),v.db})()}_withRetries(v){var M=this;return(0,g.Z)(function*(){let Y=0;for(;;)try{const ue=yield M._openDb();return yield v(ue)}catch(ue){if(Y++>3)throw ue;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,g.Z)(function*(){return ms()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,g.Z)(function*(){v.receiver=cd._getInstance(function ud(){return ms()?self:null}()),v.receiver._subscribe("keyChanged",function(){var M=(0,g.Z)(function*(Y,ue){return{keyProcessed:(yield v._poll()).includes(ue.key)}});return function(Y,ue){return M.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var M=(0,g.Z)(function*(Y,ue){return["keyChanged"]});return function(Y,ue){return M.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,g.Z)(function*(){var M,Y;if(v.activeServiceWorker=yield function qc(){return ac.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new ss(v.activeServiceWorker);const ue=yield v.sender._send("ping",{},800);ue&&null!==(M=ue[0])&&void 0!==M&&M.fulfilled&&null!==(Y=ue[0])&&void 0!==Y&&Y.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var M=this;return(0,g.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function ld(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:v},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const v=yield w();return yield N(v,od,"1"),yield ht(v,od),!0}catch{}return!1})()}_withPendingWrite(v){var M=this;return(0,g.Z)(function*(){M.pendingWrites++;try{yield v()}finally{M.pendingWrites--}})()}_set(v,M){var Y=this;return(0,g.Z)(function*(){return Y._withPendingWrite((0,g.Z)(function*(){return yield Y._withRetries(ue=>N(ue,v,M)),Y.localCache[v]=M,Y.notifyServiceWorker(v)}))})()}_get(v){var M=this;return(0,g.Z)(function*(){const Y=yield M._withRetries(ue=>function ce(C,_){return Ee.apply(this,arguments)}(ue,v));return M.localCache[v]=Y,Y})()}_remove(v){var M=this;return(0,g.Z)(function*(){return M._withPendingWrite((0,g.Z)(function*(){return yield M._withRetries(Y=>ht(Y,v)),delete M.localCache[v],M.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,g.Z)(function*(){const M=yield v._withRetries(Ue=>{const dt=S(Ue,!1).getAll();return new ca(dt).toPromise()});if(!M)return[];if(0!==v.pendingWrites)return[];const Y=[],ue=new Set;if(0!==M.length)for(const{fbase_key:Ue,value:dt}of M)ue.add(Ue),JSON.stringify(v.localCache[Ue])!==JSON.stringify(dt)&&(v.notifyListeners(Ue,dt),Y.push(Ue));for(const Ue of Object.keys(v.localCache))v.localCache[Ue]&&!ue.has(Ue)&&(v.notifyListeners(Ue,null),Y.push(Ue));return Y})()}notifyListeners(v,M){this.localCache[v]=M;const Y=this.listeners[v];if(Y)for(const ue of Array.from(Y))ue(M)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(M)}_removeListener(v,M){this.listeners[v]&&(this.listeners[v].delete(M),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})(),so=1e12;class du{constructor(_){this.auth=_,this.counter=so,this._widgets=new Map}render(_,v){const M=this.counter;return this._widgets.set(M,new ys(_,this.auth.name,v||{})),this.counter++,M}reset(_){var v;const M=_||so;null===(v=this._widgets.get(M))||void 0===v||v.delete(),this._widgets.delete(M)}getResponse(_){var v;return(null===(v=this._widgets.get(_||so))||void 0===v?void 0:v.getResponse())||""}execute(_){var v=this;return(0,g.Z)(function*(){var M;return null===(M=v._widgets.get(_||so))||void 0===M||M.execute(),""})()}}class ys{constructor(_,v,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Y="string"==typeof _?document.getElementById(_):_;ve(Y,"argument-error",{appName:v}),this.container=Y,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Zc(C){const _=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<C;M++)_.push(v.charAt(Math.floor(62*Math.random())));return _.join("")}(50);const{callback:_,"expired-callback":v}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const fi=Fc("rcb"),Gf=new Re(3e4,6e4);class wl{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=Li().grecaptcha)||void 0===_||!_.render)}load(_,v=""){return ve(function hu(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(v),_,"argument-error"),this.shouldResolveImmediately(v)&&or(Li().grecaptcha)?Promise.resolve(Li().grecaptcha):new Promise((M,Y)=>{const ue=Li().setTimeout(()=>{Y(it(_,"network-request-failed"))},Gf.get());Li()[fi]=()=>{Li().clearTimeout(ue),delete Li()[fi];const dt=Li().grecaptcha;if(!dt||!or(dt))return void Y(it(_,"internal-error"));const Ft=dt.render;dt.render=(vn,jn)=>{const ur=Ft(vn,jn);return this.counter++,ur},this.hostLanguage=v,M(dt)},Vr(`${function Ao(){return ls.recaptchaV2Script}()}?${(0,G.xO)({onload:fi,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(ue),Y(it(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var v;return!(null===(v=Li().grecaptcha)||void 0===v||!v.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class fu{load(_){return(0,g.Z)(function*(){return new du(_)})()}clearedOneInstance(){}}const la="recaptcha",Dh={theme:"light",type:"image"};class Xo{constructor(_,v,M=Object.assign({},Dh)){this.parameters=M,this.type=la,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=nr(_),this.isInvisible="invisible"===this.parameters.size,ve(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Y="string"==typeof v?document.getElementById(v):v;ve(Y,this.auth,"argument-error"),this.container=Y,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new fu:new wl,this.validateStartingState()}verify(){var _=this;return(0,g.Z)(function*(){_.assertNotDestroyed();const v=yield _.render(),M=_.getAssertedRecaptcha();return M.getResponse(v)||new Promise(ue=>{const Ue=dt=>{dt&&(_.tokenChangeListeners.delete(Ue),ue(dt))};_.tokenChangeListeners.add(Ue),_.isInvisible&&M.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){ve(!this.parameters.sitekey,this.auth,"argument-error"),ve(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ve(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return v=>{if(this.tokenChangeListeners.forEach(M=>M(v)),"function"==typeof _)_(v);else if("string"==typeof _){const M=Li()[_];"function"==typeof M&&M(v)}}}assertNotDestroyed(){ve(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,g.Z)(function*(){if(yield _.init(),!_.widgetId){let v=_.container;if(!_.isInvisible){const M=document.createElement("div");v.appendChild(M),v=M}_.widgetId=_.getAssertedRecaptcha().render(v,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,g.Z)(function*(){ve(xt()&&!ms(),_.auth,"internal-error"),yield function ua(){let C=null;return new Promise(_=>{"complete"!==document.readyState?(C=()=>_(),window.addEventListener("load",C)):_()}).catch(_=>{throw C&&window.removeEventListener("load",C),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const v=yield function Lr(C){return In.apply(this,arguments)}(_.auth);ve(v,_.auth,"internal-error"),_.parameters.sitekey=v})()}getAssertedRecaptcha(){return ve(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Sh{constructor(_,v){this.verificationId=_,this.onConfirmation=v}confirm(_){const v=ns._fromVerification(this.verificationId,_);return this.onConfirmation(v)}}function Mh(C,_,v){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,g.Z)(function*(C,_,v){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(ct(C));const M=nr(C),Y=yield fd(M,_,(0,G.m9)(v));return new Sh(Y,ue=>Bc(M,ue))})).apply(this,arguments)}function ea(C,_,v){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,g.Z)(function*(C,_,v){const M=(0,G.m9)(C);yield Ja(!1,M,"phone");const Y=yield fd(M.auth,_,(0,G.m9)(v));return new Sh(Y,ue=>eo(M,ue))})).apply(this,arguments)}function Wf(C,_,v){return hd.apply(this,arguments)}function hd(){return(hd=(0,g.Z)(function*(C,_,v){const M=(0,G.m9)(C);if((0,u._isFirebaseServerApp)(M.auth.app))return Promise.reject(ct(M.auth));const Y=yield fd(M.auth,_,(0,G.m9)(v));return new Sh(Y,ue=>td(M,ue))})).apply(this,arguments)}function fd(C,_,v){return lc.apply(this,arguments)}function lc(){return lc=(0,g.Z)(function*(C,_,v){var M;const Y=yield v.verify();try{let ue;if(ve("string"==typeof Y,C,"argument-error"),ve(v.type===la,C,"argument-error"),ue="string"==typeof _?{phoneNumber:_}:_,"session"in ue){const Ue=ue.session;if("phoneNumber"in ue)return ve("enroll"===Ue.type,C,"internal-error"),(yield function Ch(C,_){return It(C,"POST","/v2/accounts/mfaEnrollment:start",ut(C,_))}(C,{idToken:Ue.credential,phoneEnrollmentInfo:{phoneNumber:ue.phoneNumber,recaptchaToken:Y}})).phoneSessionInfo.sessionInfo;{ve("signin"===Ue.type,C,"internal-error");const dt=(null===(M=ue.multiFactorHint)||void 0===M?void 0:M.uid)||ue.multiFactorUid;return ve(dt,C,"missing-multi-factor-info"),(yield function sr(C,_){return It(C,"POST","/v2/accounts/mfaSignIn:start",ut(C,_))}(C,{mfaPendingCredential:Ue.credential,mfaEnrollmentId:dt,phoneSignInInfo:{recaptchaToken:Y}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ue}=yield function gs(C,_){return Ms.apply(this,arguments)}(C,{phoneNumber:ue.phoneNumber,recaptchaToken:Y});return Ue}}finally{v._reset()}}),lc.apply(this,arguments)}function Al(C,_){return pd.apply(this,arguments)}function pd(){return(pd=(0,g.Z)(function*(C,_){const v=(0,G.m9)(C);if((0,u._isFirebaseServerApp)(v.auth.app))return Promise.reject(ct(v.auth));yield Pa(v,_)})).apply(this,arguments)}let Nm=(()=>{class C{constructor(v){this.providerId=C.PROVIDER_ID,this.auth=nr(v)}verifyPhoneNumber(v,M){return fd(this.auth,v,(0,G.m9)(M))}static credential(v,M){return ns._fromVerification(v,M)}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:M,temporaryProof:Y}=v;return M&&Y?ns._fromTokenResponse(M,Y):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function da(C,_){return _?Tt(_):(ve(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class gd extends Xi{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return Oi(_,this._buildIdpRequest())}_linkToIdToken(_,v){return Oi(_,this._buildIdpRequest(v))}_getReauthenticationResolver(_){return Oi(_,this._buildIdpRequest())}_buildIdpRequest(_){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(v.idToken=_),v}}function ug(C){return ec(C.auth,new gd(C),C.bypassAuthState)}function Ph(C){const{auth:_,user:v}=C;return ve(v,_,"internal-error"),Ra(v,new gd(C),C.bypassAuthState)}function uy(C){return Rh.apply(this,arguments)}function Rh(){return(Rh=(0,g.Z)(function*(C){const{auth:_,user:v}=C;return ve(v,_,"internal-error"),Pa(v,new gd(C),C.bypassAuthState)})).apply(this,arguments)}class Dl{constructor(_,v,M,Y,ue=!1){this.auth=_,this.resolver=M,this.user=Y,this.bypassAuthState=ue,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var _=this;return new Promise(function(){var v=(0,g.Z)(function*(M,Y){_.pendingPromise={resolve:M,reject:Y};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(ue){_.reject(ue)}});return function(M,Y){return v.apply(this,arguments)}}())}onAuthEvent(_){var v=this;return(0,g.Z)(function*(){const{urlResponse:M,sessionId:Y,postBody:ue,tenantId:Ue,error:dt,type:Ft}=_;if(dt)return void v.reject(dt);const vn={auth:v.auth,requestUri:M,sessionId:Y,tenantId:Ue||void 0,postBody:ue||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Ft)(vn))}catch(jn){v.reject(jn)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return ug;case"linkViaPopup":case"linkViaRedirect":return uy;case"reauthViaPopup":case"reauthViaRedirect":return Ph;default:Fe(this.auth,"internal-error")}}resolve(_){an(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){an(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pu=new Re(2e3,1e4);function dg(C,_,v){return ta.apply(this,arguments)}function ta(){return(ta=(0,g.Z)(function*(C,_,v){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(it(C,"operation-not-supported-in-this-environment"));const M=nr(C);At(C,_,di);const Y=da(M,v);return new os(M,"signInViaPopup",_,Y).executeNotNull()})).apply(this,arguments)}function Sl(C,_,v){return ha.apply(this,arguments)}function ha(){return(ha=(0,g.Z)(function*(C,_,v){const M=(0,G.m9)(C);if((0,u._isFirebaseServerApp)(M.auth.app))return Promise.reject(it(M.auth,"operation-not-supported-in-this-environment"));At(M.auth,_,di);const Y=da(M.auth,v);return new os(M.auth,"reauthViaPopup",_,Y,M).executeNotNull()})).apply(this,arguments)}function km(C,_,v){return md.apply(this,arguments)}function md(){return(md=(0,g.Z)(function*(C,_,v){const M=(0,G.m9)(C);At(M.auth,_,di);const Y=da(M.auth,v);return new os(M.auth,"linkViaPopup",_,Y,M).executeNotNull()})).apply(this,arguments)}let os=(()=>{class C extends Dl{constructor(v,M,Y,ue,Ue){super(v,M,ue,Ue),this.provider=Y,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var v=this;return(0,g.Z)(function*(){const M=yield v.execute();return ve(M,v.auth,"internal-error"),M})()}onExecution(){var v=this;return(0,g.Z)(function*(){an(1===v.filter.length,"Popup operations only handle one event");const M=oc();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],M),v.authWindow.associatedEvent=M,v.resolver._originValidation(v.auth).catch(Y=>{v.reject(Y)}),v.resolver._isIframeWebStorageSupported(v.auth,Y=>{Y||v.reject(it(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(it(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const v=()=>{var M,Y;this.pollId=null!==(Y=null===(M=this.authWindow)||void 0===M?void 0:M.window)&&void 0!==Y&&Y.closed?window.setTimeout(()=>{this.pollId=null,this.reject(it(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,pu.get())};v()}}return C.currentPopupAction=null,C})();const hg="pendingRedirect",Os=new Map;class xh extends Dl{constructor(_,v,M=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,M),this.eventId=null}execute(){var _=()=>super.execute,v=this;return(0,g.Z)(function*(){let M=Os.get(v.auth._key());if(!M){try{const ue=(yield function _d(C,_){return vs.apply(this,arguments)}(v.resolver,v.auth))?yield _().call(v):null;M=()=>Promise.resolve(ue)}catch(Y){M=()=>Promise.reject(Y)}Os.set(v.auth._key(),M)}return v.bypassAuthState||Os.set(v.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(_){var v=()=>super.onAuthEvent,M=this;return(0,g.Z)(function*(){if("signInViaRedirect"===_.type)return v().call(M,_);if("unknown"!==_.type){if(_.eventId){const Y=yield M.auth._redirectUserForId(_.eventId);if(Y)return M.user=Y,v().call(M,_);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function vs(){return(vs=(0,g.Z)(function*(C,_){const v=Ci(_),M=Kc(C);if(!(yield M._isAvailable()))return!1;const Y="true"===(yield M._get(v));return yield M._remove(v),Y})).apply(this,arguments)}function fa(C,_){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,g.Z)(function*(C,_){return Kc(C)._set(Ci(_),"true")})).apply(this,arguments)}function uc(){Os.clear()}function qf(C,_){Os.set(C._key(),_)}function Kc(C){return Tt(C._redirectPersistence)}function Ci(C){return Xt(hg,C.config.apiKey,C.name)}function na(C,_,v){return function Pl(C,_,v){return Oh.apply(this,arguments)}(C,_,v)}function Oh(){return(Oh=(0,g.Z)(function*(C,_,v){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(ct(C));const M=nr(C);At(C,_,di),yield M._initializationPromise;const Y=da(M,v);return yield fa(Y,M),Y._openRedirect(M,_,"signInViaRedirect")})).apply(this,arguments)}function gu(C,_,v){return function Yc(C,_,v){return yd.apply(this,arguments)}(C,_,v)}function yd(){return(yd=(0,g.Z)(function*(C,_,v){const M=(0,G.m9)(C);if(At(M.auth,_,di),(0,u._isFirebaseServerApp)(M.auth.app))return Promise.reject(ct(M.auth));yield M.auth._initializationPromise;const Y=da(M.auth,v);yield fa(Y,M.auth);const ue=yield pa(M);return Y._openRedirect(M.auth,_,"reauthViaRedirect",ue)})).apply(this,arguments)}function Zf(C,_,v){return function mu(C,_,v){return dc.apply(this,arguments)}(C,_,v)}function dc(){return(dc=(0,g.Z)(function*(C,_,v){const M=(0,G.m9)(C);At(M.auth,_,di),yield M.auth._initializationPromise;const Y=da(M.auth,v);yield Ja(!1,M,_.providerId),yield fa(Y,M.auth);const ue=yield pa(M);return Y._openRedirect(M.auth,_,"linkViaRedirect",ue)})).apply(this,arguments)}function Kf(C,_){return Es.apply(this,arguments)}function Es(){return(Es=(0,g.Z)(function*(C,_){return yield nr(C)._initializationPromise,Nh(C,_,!1)})).apply(this,arguments)}function Nh(C,_){return _u.apply(this,arguments)}function _u(){return(_u=(0,g.Z)(function*(C,_,v=!1){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(ct(C));const M=nr(C),Y=da(M,_),Ue=yield new xh(M,Y,v).execute();return Ue&&!v&&(delete Ue.user._redirectEventId,yield M._persistUserIfCurrent(Ue.user),yield M._setRedirectUser(null,_)),Ue})).apply(this,arguments)}function pa(C){return hc.apply(this,arguments)}function hc(){return(hc=(0,g.Z)(function*(C){const _=oc(`${C.uid}:::`);return C._redirectEventId=_,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),_})).apply(this,arguments)}class yu{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let v=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(_,M)&&(v=!0,this.sendToConsumer(_,M),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function Va(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fc(C);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=_,v=!0)),v}sendToConsumer(_,v){var M;if(_.error&&!fc(_)){const Y=(null===(M=_.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";v.onError(it(this.auth,Y))}else v.onAuthEvent(_)}isEventForConsumer(_,v){const M=null===v.eventId||!!_.eventId&&_.eventId===v.eventId;return v.filter.includes(_.type)&&M}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qc(_))}saveEventToCache(_){this.cachedEventUids.add(Qc(_)),this.lastProcessedEventTime=Date.now()}}function Qc(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(_=>_).join("-")}function fc({type:C,error:_}){return"unknown"===C&&"auth/no-auth-event"===_?.code}function fn(C){return pc.apply(this,arguments)}function pc(){return(pc=(0,g.Z)(function*(C,_={}){return It(C,"GET","/v1/projects",_)})).apply(this,arguments)}const Ri=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fm=/^https?/;function Yf(){return(Yf=(0,g.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:_}=yield fn(C);for(const v of _)try{if(Lm(v))return}catch{}Fe(C,"unauthorized-domain")})).apply(this,arguments)}function Lm(C){const _=hr(),{protocol:v,hostname:M}=new URL(_);if(C.startsWith("chrome-extension://")){const Ue=new URL(C);return""===Ue.hostname&&""===M?"chrome-extension:"===v&&C.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===v&&Ue.hostname===M}if(!Fm.test(v))return!1;if(Ri.test(C))return M===C;const Y=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(M)}const Qf=new Re(3e4,6e4);function pg(){const C=Li().___jsl;if(C?.H)for(const _ of Object.keys(C.H))if(C.H[_].r=C.H[_].r||[],C.H[_].L=C.H[_].L||[],C.H[_].r=[...C.H[_].L],C.CP)for(let v=0;v<C.CP.length;v++)C.CP[v]=null}let Rl=null;const Jf=new Re(5e3,15e3),Lh="__/auth/iframe",Hi="emulator/auth/iframe",vu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Eu(C){const _=C.config;ve(_.authDomain,C,"auth-domain-config-required");const v=_.emulator?fe(_,Hi):`https://${C.config.authDomain}/${Lh}`,M={apiKey:_.apiKey,appName:C.name,v:u.SDK_VERSION},Y=gc.get(C.config.apiHost);Y&&(M.eid=Y);const ue=C._getFrameworks();return ue.length&&(M.fw=ue.join(",")),`${v}?${(0,G.xO)(M).slice(1)}`}function Lo(){return Lo=(0,g.Z)(function*(C){const _=yield function xl(C){return Rl=Rl||function Fh(C){return new Promise((_,v)=>{var M,Y,ue;function Ue(){pg(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{pg(),v(it(C,"network-request-failed"))},timeout:Qf.get()})}if(null!==(Y=null===(M=Li().gapi)||void 0===M?void 0:M.iframes)&&void 0!==Y&&Y.Iframe)_(gapi.iframes.getContext());else{if(null===(ue=Li().gapi)||void 0===ue||!ue.load){const dt=Fc("iframefcb");return Li()[dt]=()=>{gapi.load?Ue():v(it(C,"network-request-failed"))},Vr(`${function Ui(){return ls.gapiScript}()}?onload=${dt}`).catch(Ft=>v(Ft))}Ue()}}).catch(_=>{throw Rl=null,_})}(C),Rl}(C),v=Li().gapi;return ve(v,C,"internal-error"),_.open({where:document.body,url:Eu(C),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vu,dontclear:!0},M=>new Promise(function(){var Y=(0,g.Z)(function*(ue,Ue){yield M.restyle({setHideOnLeave:!1});const dt=it(C,"network-request-failed"),Ft=Li().setTimeout(()=>{Ue(dt)},Jf.get());function vn(){Li().clearTimeout(Ft),ue(M)}M.ping(vn).then(vn,()=>{Ue(dt)})});return function(ue,Ue){return Y.apply(this,arguments)}}()))}),Lo.apply(this,arguments)}const Iu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Io{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const bu="__/auth/handler",kl="emulator/auth/handler",Tu=encodeURIComponent("fac");function Ua(C,_,v,M,Y,ue){return _i.apply(this,arguments)}function _i(){return(_i=(0,g.Z)(function*(C,_,v,M,Y,ue){ve(C.config.authDomain,C,"auth-domain-config-required"),ve(C.config.apiKey,C,"invalid-api-key");const Ue={apiKey:C.config.apiKey,appName:C.name,authType:v,redirectUrl:M,v:u.SDK_VERSION,eventId:Y};if(_ instanceof di){_.setDefaultLanguage(C.languageCode),Ue.providerId=_.providerId||"",(0,G.xb)(_.getCustomParameters())||(Ue.customParameters=JSON.stringify(_.getCustomParameters()));for(const[jn,ur]of Object.entries(ue||{}))Ue[jn]=ur}if(_ instanceof Ma){const jn=_.getScopes().filter(ur=>""!==ur);jn.length>0&&(Ue.scopes=jn.join(","))}C.tenantId&&(Ue.tid=C.tenantId);const dt=Ue;for(const jn of Object.keys(dt))void 0===dt[jn]&&delete dt[jn];const Ft=yield C._getAppCheckToken(),vn=Ft?`#${Tu}=${encodeURIComponent(Ft)}`:"";return`${function yi({config:C}){return C.emulator?fe(C,kl):`https://${C.authDomain}/${bu}`}(C)}?${(0,G.xO)(dt).slice(1)}${vn}`})).apply(this,arguments)}const Fl="webStorageSupport",Vh=class vd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nt,this._completeRedirectFn=Nh,this._overrideRedirectResult=qf}_openPopup(_,v,M,Y){var ue=this;return(0,g.Z)(function*(){var Ue;an(null===(Ue=ue.eventManagers[_._key()])||void 0===Ue?void 0:Ue.manager,"_initialize() not called before _openPopup()");const dt=yield Ua(_,v,M,hr(),Y);return function Xf(C,_,v,M=500,Y=600){const ue=Math.max((window.screen.availHeight-Y)/2,0).toString(),Ue=Math.max((window.screen.availWidth-M)/2,0).toString();let dt="";const Ft=Object.assign(Object.assign({},Iu),{width:M.toString(),height:Y.toString(),top:ue,left:Ue}),vn=(0,G.z$)().toLowerCase();v&&(dt=Le(vn)?"_blank":v),Ne(vn)&&(_=_||"http://localhost",Ft.scrollbars="yes");const jn=Object.entries(Ft).reduce((ao,[bo,ja])=>`${ao}${bo}=${ja},`,"");if(function nt(C=(0,G.z$)()){var _;return ar(C)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(vn)&&"_self"!==dt)return function oo(C,_){const v=document.createElement("a");v.href=C,v.target=_;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(M)}(_||"",dt),new Io(null);const ur=window.open(_||"",dt,jn);ve(ur,C,"popup-blocked");try{ur.focus()}catch{}return new Io(ur)}(_,dt,oc())})()}_openRedirect(_,v,M,Y){var ue=this;return(0,g.Z)(function*(){return yield ue._originValidation(_),function Cl(C){Li().location.href=C}(yield Ua(_,v,M,hr(),Y)),new Promise(()=>{})})()}_initialize(_){const v=_._key();if(this.eventManagers[v]){const{manager:Y,promise:ue}=this.eventManagers[v];return Y?Promise.resolve(Y):(an(ue,"If manager is not set, promise should be"),ue)}const M=this.initAndGetManager(_);return this.eventManagers[v]={promise:M},M.catch(()=>{delete this.eventManagers[v]}),M}initAndGetManager(_){var v=this;return(0,g.Z)(function*(){const M=yield function Rr(C){return Lo.apply(this,arguments)}(_),Y=new yu(_);return M.register("authEvent",ue=>(ve(ue?.authEvent,_,"invalid-auth-event"),{status:Y.onEvent(ue.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[_._key()]={manager:Y},v.iframes[_._key()]=M,Y})()}_isIframeWebStorageSupported(_,v){this.iframes[_._key()].send(Fl,{type:Fl},Y=>{var ue;const Ue=null===(ue=Y?.[0])||void 0===ue?void 0:ue[Fl];void 0!==Ue&&v(!!Ue),Fe(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const v=_._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function fg(C){return Yf.apply(this,arguments)}(_)),this.originValidationPromises[v]}get _shouldInitProactively(){return bt()||we()||ar()}};class gg{constructor(_){this.factorId=_}_process(_,v,M){switch(v.type){case"enroll":return this._finalizeEnroll(_,v.credential,M);case"signin":return this._finalizeSignIn(_,v.credential);default:return jt("unexpected MultiFactorSessionType")}}}class Xc extends gg{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new Xc(_)}_finalizeEnroll(_,v,M){return function Hf(C,_){return It(C,"POST","/v2/accounts/mfaEnrollment:finalize",ut(C,_))}(_,{idToken:v,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,v){return function _s(C,_){return It(C,"POST","/v2/accounts/mfaSignIn:finalize",ut(C,_))}(_,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ed=(()=>{class C{constructor(){}static assertion(v){return Xc._fromCredential(v)}}return C.FACTOR_ID="phone",C})();var Cu="@firebase/auth";class tl{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var v=this;return(0,g.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const v=this.auth.onIdTokenChanged(M=>{_(M?.stsTokenManager.accessToken||null)});this.internalListeners.set(_,v),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const v=this.internalListeners.get(_);v&&(this.internalListeners.delete(_),v(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,G.Pz)("authIdTokenMaxAge"),function Qi(C){ls=C}({loadJS:C=>new Promise((_,v)=>{const M=document.createElement("script");M.setAttribute("src",C),M.onload=_,M.onerror=Y=>{const ue=it("internal-error");ue.customData=Y,v(ue)},M.type="text/javascript",M.charset="UTF-8",function Vl(){var C,_;return null!==(_=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==_?_:document}().appendChild(M)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function bd(C){(0,u._registerComponent)(new Ae.wA("auth",(_,{options:v})=>{const M=_.getProvider("app").getImmediate(),Y=_.getProvider("heartbeat"),ue=_.getProvider("app-check-internal"),{apiKey:Ue,authDomain:dt}=M.options;ve(Ue&&!Ue.includes(":"),"invalid-api-key",{appName:M.name});const Ft={apiKey:Ue,authDomain:dt,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wn(C)},vn=new Kr(M,Y,ue,Ft);return function Da(C,_){const v=_?.persistence||[],M=(Array.isArray(v)?v:[v]).map(Tt);_?.errorMap&&C._updateErrorMap(_.errorMap),C._initializeWithPersistence(M,_?.popupRedirectResolver)}(vn,v),vn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,v,M)=>{_.getProvider("auth-internal").initialize()})),(0,u._registerComponent)(new Ae.wA("auth-internal",_=>{const v=nr(_.getProvider("auth").getImmediate());return new tl(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,u.registerVersion)(Cu,"1.7.4",function Ll(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(C)),(0,u.registerVersion)(Cu,"1.7.4","esm2017")}("Browser")},5588:(Jt,Ye,B)=>{B.d(Ye,{u7:()=>rh,Jj:()=>zl,IX:()=>zd,my:()=>as,xU:()=>ju,Lz:()=>dl,WA:()=>fe,F8:()=>Np,$q:()=>$p,W:()=>Is,EK:()=>Gn,PU:()=>zu,l7:()=>Un,Ky:()=>Vt,Xb:()=>Yn,Cf:()=>wr,K9:()=>cn,Me:()=>Aa,yq:()=>an,Wi:()=>c_,ET:()=>hf,Ab:()=>_f,vr:()=>mf,Fc:()=>Wg,hJ:()=>Cy,B$:()=>Gg,at:()=>rf,oe:()=>ra,AK:()=>Gp,TF:()=>Dy,JU:()=>Hv,ST:()=>Op,fH:()=>Cc,Ix:()=>Ay,Wu:()=>y_,Lx:()=>nh,qY:()=>Vi,GL:()=>zi,QT:()=>Fy,kl:()=>E_,Xk:()=>$u,PL:()=>I_,UQ:()=>Hp,zN:()=>qv,ad:()=>Rp,nP:()=>D_,b9:()=>__,vh:()=>th,Pb:()=>Sy,L$:()=>My,cf:()=>b_,sc:()=>Vy,Xo:()=>uf,IO:()=>m_,iE:()=>d_,Eo:()=>u_,i3:()=>gf,Bt:()=>ah,pl:()=>Ly,Ub:()=>kt,qK:()=>Mc,TQ:()=>Kl,e0:()=>Zl,r7:()=>tm,Mx:()=>wy,ar:()=>Yg});var De,We,g=B(5861),u=B(534),G=B(4537),be=B(7879),me=B(9058),Ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Se={};(function(){var l;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function d(Qe,Me,je){je||(je=0);var Ge=Array(16);if("string"==typeof Me)for(var et=0;16>et;++et)Ge[et]=Me.charCodeAt(je++)|Me.charCodeAt(je++)<<8|Me.charCodeAt(je++)<<16|Me.charCodeAt(je++)<<24;else for(et=0;16>et;++et)Ge[et]=Me[je++]|Me[je++]<<8|Me[je++]<<16|Me[je++]<<24;var gt=Qe.g[3],Ve=(Me=Qe.g[0])+(gt^(je=Qe.g[1])&((et=Qe.g[2])^gt))+Ge[0]+3614090360&4294967295;Ve=(je=(et=(gt=(Me=(je=(et=(gt=(Me=(je=(et=(gt=(Me=(je=(et=(gt=(Me=(je=(et=(gt=(Me=(je=(et=(gt=(Me=(je=(et=(gt=(Me=(je=(et=(gt=(Me=(je=(et=(gt=(Me=(je=(et=(gt=(Me=(je=(et=(gt=(Me=(je=(et=(gt=(Me=(je=(et=(gt=(Me=(je=(et=(gt=(Me=(je=(et=(gt=(Me=je+(Ve<<7&4294967295|Ve>>>25))+((Ve=gt+(et^Me&(je^et))+Ge[1]+3905402710&4294967295)<<12&4294967295|Ve>>>20))+((Ve=et+(je^gt&(Me^je))+Ge[2]+606105819&4294967295)<<17&4294967295|Ve>>>15))+((Ve=je+(Me^et&(gt^Me))+Ge[3]+3250441966&4294967295)<<22&4294967295|Ve>>>10))+((Ve=Me+(gt^je&(et^gt))+Ge[4]+4118548399&4294967295)<<7&4294967295|Ve>>>25))+((Ve=gt+(et^Me&(je^et))+Ge[5]+1200080426&4294967295)<<12&4294967295|Ve>>>20))+((Ve=et+(je^gt&(Me^je))+Ge[6]+2821735955&4294967295)<<17&4294967295|Ve>>>15))+((Ve=je+(Me^et&(gt^Me))+Ge[7]+4249261313&4294967295)<<22&4294967295|Ve>>>10))+((Ve=Me+(gt^je&(et^gt))+Ge[8]+1770035416&4294967295)<<7&4294967295|Ve>>>25))+((Ve=gt+(et^Me&(je^et))+Ge[9]+2336552879&4294967295)<<12&4294967295|Ve>>>20))+((Ve=et+(je^gt&(Me^je))+Ge[10]+4294925233&4294967295)<<17&4294967295|Ve>>>15))+((Ve=je+(Me^et&(gt^Me))+Ge[11]+2304563134&4294967295)<<22&4294967295|Ve>>>10))+((Ve=Me+(gt^je&(et^gt))+Ge[12]+1804603682&4294967295)<<7&4294967295|Ve>>>25))+((Ve=gt+(et^Me&(je^et))+Ge[13]+4254626195&4294967295)<<12&4294967295|Ve>>>20))+((Ve=et+(je^gt&(Me^je))+Ge[14]+2792965006&4294967295)<<17&4294967295|Ve>>>15))+((Ve=je+(Me^et&(gt^Me))+Ge[15]+1236535329&4294967295)<<22&4294967295|Ve>>>10))+((Ve=Me+(et^gt&(je^et))+Ge[1]+4129170786&4294967295)<<5&4294967295|Ve>>>27))+((Ve=gt+(je^et&(Me^je))+Ge[6]+3225465664&4294967295)<<9&4294967295|Ve>>>23))+((Ve=et+(Me^je&(gt^Me))+Ge[11]+643717713&4294967295)<<14&4294967295|Ve>>>18))+((Ve=je+(gt^Me&(et^gt))+Ge[0]+3921069994&4294967295)<<20&4294967295|Ve>>>12))+((Ve=Me+(et^gt&(je^et))+Ge[5]+3593408605&4294967295)<<5&4294967295|Ve>>>27))+((Ve=gt+(je^et&(Me^je))+Ge[10]+38016083&4294967295)<<9&4294967295|Ve>>>23))+((Ve=et+(Me^je&(gt^Me))+Ge[15]+3634488961&4294967295)<<14&4294967295|Ve>>>18))+((Ve=je+(gt^Me&(et^gt))+Ge[4]+3889429448&4294967295)<<20&4294967295|Ve>>>12))+((Ve=Me+(et^gt&(je^et))+Ge[9]+568446438&4294967295)<<5&4294967295|Ve>>>27))+((Ve=gt+(je^et&(Me^je))+Ge[14]+3275163606&4294967295)<<9&4294967295|Ve>>>23))+((Ve=et+(Me^je&(gt^Me))+Ge[3]+4107603335&4294967295)<<14&4294967295|Ve>>>18))+((Ve=je+(gt^Me&(et^gt))+Ge[8]+1163531501&4294967295)<<20&4294967295|Ve>>>12))+((Ve=Me+(et^gt&(je^et))+Ge[13]+2850285829&4294967295)<<5&4294967295|Ve>>>27))+((Ve=gt+(je^et&(Me^je))+Ge[2]+4243563512&4294967295)<<9&4294967295|Ve>>>23))+((Ve=et+(Me^je&(gt^Me))+Ge[7]+1735328473&4294967295)<<14&4294967295|Ve>>>18))+((Ve=je+(gt^Me&(et^gt))+Ge[12]+2368359562&4294967295)<<20&4294967295|Ve>>>12))+((Ve=Me+(je^et^gt)+Ge[5]+4294588738&4294967295)<<4&4294967295|Ve>>>28))+((Ve=gt+(Me^je^et)+Ge[8]+2272392833&4294967295)<<11&4294967295|Ve>>>21))+((Ve=et+(gt^Me^je)+Ge[11]+1839030562&4294967295)<<16&4294967295|Ve>>>16))+((Ve=je+(et^gt^Me)+Ge[14]+4259657740&4294967295)<<23&4294967295|Ve>>>9))+((Ve=Me+(je^et^gt)+Ge[1]+2763975236&4294967295)<<4&4294967295|Ve>>>28))+((Ve=gt+(Me^je^et)+Ge[4]+1272893353&4294967295)<<11&4294967295|Ve>>>21))+((Ve=et+(gt^Me^je)+Ge[7]+4139469664&4294967295)<<16&4294967295|Ve>>>16))+((Ve=je+(et^gt^Me)+Ge[10]+3200236656&4294967295)<<23&4294967295|Ve>>>9))+((Ve=Me+(je^et^gt)+Ge[13]+681279174&4294967295)<<4&4294967295|Ve>>>28))+((Ve=gt+(Me^je^et)+Ge[0]+3936430074&4294967295)<<11&4294967295|Ve>>>21))+((Ve=et+(gt^Me^je)+Ge[3]+3572445317&4294967295)<<16&4294967295|Ve>>>16))+((Ve=je+(et^gt^Me)+Ge[6]+76029189&4294967295)<<23&4294967295|Ve>>>9))+((Ve=Me+(je^et^gt)+Ge[9]+3654602809&4294967295)<<4&4294967295|Ve>>>28))+((Ve=gt+(Me^je^et)+Ge[12]+3873151461&4294967295)<<11&4294967295|Ve>>>21))+((Ve=et+(gt^Me^je)+Ge[15]+530742520&4294967295)<<16&4294967295|Ve>>>16))+((Ve=je+(et^gt^Me)+Ge[2]+3299628645&4294967295)<<23&4294967295|Ve>>>9))+((Ve=Me+(et^(je|~gt))+Ge[0]+4096336452&4294967295)<<6&4294967295|Ve>>>26))+((Ve=gt+(je^(Me|~et))+Ge[7]+1126891415&4294967295)<<10&4294967295|Ve>>>22))+((Ve=et+(Me^(gt|~je))+Ge[14]+2878612391&4294967295)<<15&4294967295|Ve>>>17))+((Ve=je+(gt^(et|~Me))+Ge[5]+4237533241&4294967295)<<21&4294967295|Ve>>>11))+((Ve=Me+(et^(je|~gt))+Ge[12]+1700485571&4294967295)<<6&4294967295|Ve>>>26))+((Ve=gt+(je^(Me|~et))+Ge[3]+2399980690&4294967295)<<10&4294967295|Ve>>>22))+((Ve=et+(Me^(gt|~je))+Ge[10]+4293915773&4294967295)<<15&4294967295|Ve>>>17))+((Ve=je+(gt^(et|~Me))+Ge[1]+2240044497&4294967295)<<21&4294967295|Ve>>>11))+((Ve=Me+(et^(je|~gt))+Ge[8]+1873313359&4294967295)<<6&4294967295|Ve>>>26))+((Ve=gt+(je^(Me|~et))+Ge[15]+4264355552&4294967295)<<10&4294967295|Ve>>>22))+((Ve=et+(Me^(gt|~je))+Ge[6]+2734768916&4294967295)<<15&4294967295|Ve>>>17))+((Ve=je+(gt^(et|~Me))+Ge[13]+1309151649&4294967295)<<21&4294967295|Ve>>>11))+((gt=(Me=je+((Ve=Me+(et^(je|~gt))+Ge[4]+4149444226&4294967295)<<6&4294967295|Ve>>>26))+((Ve=gt+(je^(Me|~et))+Ge[11]+3174756917&4294967295)<<10&4294967295|Ve>>>22))^((et=gt+((Ve=et+(Me^(gt|~je))+Ge[2]+718787259&4294967295)<<15&4294967295|Ve>>>17))|~Me))+Ge[9]+3951481745&4294967295,Qe.g[0]=Qe.g[0]+Me&4294967295,Qe.g[1]=Qe.g[1]+(et+(Ve<<21&4294967295|Ve>>>11))&4294967295,Qe.g[2]=Qe.g[2]+et&4294967295,Qe.g[3]=Qe.g[3]+gt&4294967295}function I(Qe,Me){this.h=Me;for(var je=[],Ge=!0,et=Qe.length-1;0<=et;et--){var gt=0|Qe[et];Ge&&gt==Me||(je[et]=gt,Ge=!1)}this.g=je}(function e(Qe,Me){function je(){}je.prototype=Me.prototype,Qe.D=Me.prototype,Qe.prototype=new je,Qe.prototype.constructor=Qe,Qe.C=function(Ge,et,gt){for(var Ve=Array(arguments.length-2),Rc=2;Rc<arguments.length;Rc++)Ve[Rc-2]=arguments[Rc];return Me.prototype[et].apply(Ge,Ve)}})(s,function r(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(Qe,Me){void 0===Me&&(Me=Qe.length);for(var je=Me-this.blockSize,Ge=this.B,et=this.h,gt=0;gt<Me;){if(0==et)for(;gt<=je;)d(this,Qe,gt),gt+=this.blockSize;if("string"==typeof Qe){for(;gt<Me;)if(Ge[et++]=Qe.charCodeAt(gt++),et==this.blockSize){d(this,Ge),et=0;break}}else for(;gt<Me;)if(Ge[et++]=Qe[gt++],et==this.blockSize){d(this,Ge),et=0;break}}this.h=et,this.o+=Me},s.prototype.v=function(){var Qe=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Qe[0]=128;for(var Me=1;Me<Qe.length-8;++Me)Qe[Me]=0;var je=8*this.o;for(Me=Qe.length-8;Me<Qe.length;++Me)Qe[Me]=255&je,je/=256;for(this.u(Qe),Qe=Array(16),Me=je=0;4>Me;++Me)for(var Ge=0;32>Ge;Ge+=8)Qe[je++]=this.g[Me]>>>Ge&255;return Qe};var R={};function L(Qe){return-128<=Qe&&128>Qe?function y(Qe,Me){var je=R;return Object.prototype.hasOwnProperty.call(je,Qe)?je[Qe]:je[Qe]=Me(Qe)}(Qe,function(Me){return new I([0|Me],0>Me?-1:0)}):new I([0|Qe],0>Qe?-1:0)}function K(Qe){if(isNaN(Qe)||!isFinite(Qe))return ge;if(0>Qe)return Bt(K(-Qe));for(var Me=[],je=1,Ge=0;Qe>=je;Ge++)Me[Ge]=Qe/je|0,je*=4294967296;return new I(Me,0)}var ge=L(0),Oe=L(1),ot=L(16777216);function Rt(Qe){if(0!=Qe.h)return!1;for(var Me=0;Me<Qe.g.length;Me++)if(0!=Qe.g[Me])return!1;return!0}function Zt(Qe){return-1==Qe.h}function Bt(Qe){for(var Me=Qe.g.length,je=[],Ge=0;Ge<Me;Ge++)je[Ge]=~Qe.g[Ge];return new I(je,~Qe.h).add(Oe)}function Pn(Qe,Me){return Qe.add(Bt(Me))}function zn(Qe,Me){for(;(65535&Qe[Me])!=Qe[Me];)Qe[Me+1]+=Qe[Me]>>>16,Qe[Me]&=65535,Me++}function kn(Qe,Me){this.g=Qe,this.h=Me}function mr(Qe,Me){if(Rt(Me))throw Error("division by zero");if(Rt(Qe))return new kn(ge,ge);if(Zt(Qe))return Me=mr(Bt(Qe),Me),new kn(Bt(Me.g),Bt(Me.h));if(Zt(Me))return Me=mr(Qe,Bt(Me)),new kn(Bt(Me.g),Me.h);if(30<Qe.g.length){if(Zt(Qe)||Zt(Me))throw Error("slowDivide_ only works with positive integers.");for(var je=Oe,Ge=Me;0>=Ge.l(Qe);)je=zr(je),Ge=zr(Ge);var et=xr(je,1),gt=xr(Ge,1);for(Ge=xr(Ge,2),je=xr(je,2);!Rt(Ge);){var Ve=gt.add(Ge);0>=Ve.l(Qe)&&(et=et.add(je),gt=Ve),Ge=xr(Ge,1),je=xr(je,1)}return Me=Pn(Qe,et.j(Me)),new kn(et,Me)}for(et=ge;0<=Qe.l(Me);){for(je=Math.max(1,Math.floor(Qe.m()/Me.m())),Ge=48>=(Ge=Math.ceil(Math.log(je)/Math.LN2))?1:Math.pow(2,Ge-48),Ve=(gt=K(je)).j(Me);Zt(Ve)||0<Ve.l(Qe);)Ve=(gt=K(je-=Ge)).j(Me);Rt(gt)&&(gt=Oe),et=et.add(gt),Qe=Pn(Qe,Ve)}return new kn(et,Qe)}function zr(Qe){for(var Me=Qe.g.length+1,je=[],Ge=0;Ge<Me;Ge++)je[Ge]=Qe.i(Ge)<<1|Qe.i(Ge-1)>>>31;return new I(je,Qe.h)}function xr(Qe,Me){var je=Me>>5;Me%=32;for(var Ge=Qe.g.length-je,et=[],gt=0;gt<Ge;gt++)et[gt]=0<Me?Qe.i(gt+je)>>>Me|Qe.i(gt+je+1)<<32-Me:Qe.i(gt+je);return new I(et,Qe.h)}(l=I.prototype).m=function(){if(Zt(this))return-Bt(this).m();for(var Qe=0,Me=1,je=0;je<this.g.length;je++){var Ge=this.i(je);Qe+=(0<=Ge?Ge:4294967296+Ge)*Me,Me*=4294967296}return Qe},l.toString=function(Qe){if(2>(Qe=Qe||10)||36<Qe)throw Error("radix out of range: "+Qe);if(Rt(this))return"0";if(Zt(this))return"-"+Bt(this).toString(Qe);for(var Me=K(Math.pow(Qe,6)),je=this,Ge="";;){var et=mr(je,Me).g,gt=((0<(je=Pn(je,et.j(Me))).g.length?je.g[0]:je.h)>>>0).toString(Qe);if(Rt(je=et))return gt+Ge;for(;6>gt.length;)gt="0"+gt;Ge=gt+Ge}},l.i=function(Qe){return 0>Qe?0:Qe<this.g.length?this.g[Qe]:this.h},l.l=function(Qe){return Zt(Qe=Pn(this,Qe))?-1:Rt(Qe)?0:1},l.abs=function(){return Zt(this)?Bt(this):this},l.add=function(Qe){for(var Me=Math.max(this.g.length,Qe.g.length),je=[],Ge=0,et=0;et<=Me;et++){var gt=Ge+(65535&this.i(et))+(65535&Qe.i(et)),Ve=(gt>>>16)+(this.i(et)>>>16)+(Qe.i(et)>>>16);Ge=Ve>>>16,je[et]=(Ve&=65535)<<16|(gt&=65535)}return new I(je,-2147483648&je[je.length-1]?-1:0)},l.j=function(Qe){if(Rt(this)||Rt(Qe))return ge;if(Zt(this))return Zt(Qe)?Bt(this).j(Bt(Qe)):Bt(Bt(this).j(Qe));if(Zt(Qe))return Bt(this.j(Bt(Qe)));if(0>this.l(ot)&&0>Qe.l(ot))return K(this.m()*Qe.m());for(var Me=this.g.length+Qe.g.length,je=[],Ge=0;Ge<2*Me;Ge++)je[Ge]=0;for(Ge=0;Ge<this.g.length;Ge++)for(var et=0;et<Qe.g.length;et++){var gt=this.i(Ge)>>>16,Ve=65535&this.i(Ge),Rc=Qe.i(et)>>>16,vf=65535&Qe.i(et);je[2*Ge+2*et]+=Ve*vf,zn(je,2*Ge+2*et),je[2*Ge+2*et+1]+=gt*vf,zn(je,2*Ge+2*et+1),je[2*Ge+2*et+1]+=Ve*Rc,zn(je,2*Ge+2*et+1),je[2*Ge+2*et+2]+=gt*Rc,zn(je,2*Ge+2*et+2)}for(Ge=0;Ge<Me;Ge++)je[Ge]=je[2*Ge+1]<<16|je[2*Ge];for(Ge=Me;Ge<2*Me;Ge++)je[Ge]=0;return new I(je,0)},l.A=function(Qe){return mr(this,Qe).h},l.and=function(Qe){for(var Me=Math.max(this.g.length,Qe.g.length),je=[],Ge=0;Ge<Me;Ge++)je[Ge]=this.i(Ge)&Qe.i(Ge);return new I(je,this.h&Qe.h)},l.or=function(Qe){for(var Me=Math.max(this.g.length,Qe.g.length),je=[],Ge=0;Ge<Me;Ge++)je[Ge]=this.i(Ge)|Qe.i(Ge);return new I(je,this.h|Qe.h)},l.xor=function(Qe){for(var Me=Math.max(this.g.length,Qe.g.length),je=[],Ge=0;Ge<Me;Ge++)je[Ge]=this.i(Ge)^Qe.i(Ge);return new I(je,this.h^Qe.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,We=Se.Md5=s,I.prototype.add=I.prototype.add,I.prototype.multiply=I.prototype.j,I.prototype.modulo=I.prototype.A,I.prototype.compare=I.prototype.l,I.prototype.toNumber=I.prototype.m,I.prototype.toString=I.prototype.toString,I.prototype.getBits=I.prototype.i,I.fromNumber=K,I.fromString=function se(Qe,Me){if(0==Qe.length)throw Error("number format error: empty string");if(2>(Me=Me||10)||36<Me)throw Error("radix out of range: "+Me);if("-"==Qe.charAt(0))return Bt(se(Qe.substring(1),Me));if(0<=Qe.indexOf("-"))throw Error('number format error: interior "-" character');for(var je=K(Math.pow(Me,8)),Ge=ge,et=0;et<Qe.length;et+=8){var gt=Math.min(8,Qe.length-et),Ve=parseInt(Qe.substring(et,et+gt),Me);8>gt?(gt=K(Math.pow(Me,gt)),Ge=Ge.j(gt).add(K(Ve))):Ge=(Ge=Ge.j(je)).add(K(Ve))}return Ge},De=Se.Integer=I}).apply(typeof Ae<"u"?Ae:typeof self<"u"?self:typeof window<"u"?window:{});var ye,st,rt,mt,ft,wt,Et,nn,qe,te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oe={};(function(){var l,e="function"==typeof Object.defineProperties?Object.defineProperty:function(E,V,Q){return E==Array.prototype||E==Object.prototype||(E[V]=Q.value),E},s=function r(E){E=["object"==typeof globalThis&&globalThis,E,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof te&&te];for(var V=0;V<E.length;++V){var Q=E[V];if(Q&&Q.Math==Math)return Q}throw Error("Cannot find global object")}(this);!function d(E,V){if(V)e:{var Q=s;E=E.split(".");for(var he=0;he<E.length-1;he++){var at=E[he];if(!(at in Q))break e;Q=Q[at]}(V=V(he=Q[E=E[E.length-1]]))!=he&&null!=V&&e(Q,E,{configurable:!0,writable:!0,value:V})}}("Array.prototype.values",function(E){return E||function(){return function y(E,V){E instanceof String&&(E+="");var Q=0,he=!1,at={next:function(){if(!he&&Q<E.length){var Ct=Q++;return{value:V(Ct,E[Ct]),done:!1}}return he=!0,{done:!0,value:void 0}}};return at[Symbol.iterator]=function(){return at},at}(this,function(V,Q){return Q})}});var I=I||{},R=this||self;function L(E){var V=typeof E;return"array"==(V="object"!=V?V:E?Array.isArray(E)?"array":V:"null")||"object"==V&&"number"==typeof E.length}function K(E){var V=typeof E;return"object"==V&&null!=E||"function"==V}function se(E,V,Q){return E.call.apply(E.bind,arguments)}function ge(E,V,Q){if(!E)throw Error();if(2<arguments.length){var he=Array.prototype.slice.call(arguments,2);return function(){var at=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(at,he),E.apply(V,at)}}return function(){return E.apply(V,arguments)}}function Oe(E,V,Q){return(Oe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?se:ge).apply(null,arguments)}function ot(E,V){var Q=Array.prototype.slice.call(arguments,1);return function(){var he=Q.slice();return he.push.apply(he,arguments),E.apply(this,he)}}function Rt(E,V){function Q(){}Q.prototype=V.prototype,E.aa=V.prototype,E.prototype=new Q,E.prototype.constructor=E,E.Qb=function(he,at,Ct){for(var hn=Array(arguments.length-2),wi=2;wi<arguments.length;wi++)hn[wi-2]=arguments[wi];return V.prototype[at].apply(he,hn)}}function Zt(E){const V=E.length;if(0<V){const Q=Array(V);for(let he=0;he<V;he++)Q[he]=E[he];return Q}return[]}function Bt(E,V){for(let Q=1;Q<arguments.length;Q++){const he=arguments[Q];if(L(he)){const at=E.length||0,Ct=he.length||0;E.length=at+Ct;for(let hn=0;hn<Ct;hn++)E[at+hn]=he[hn]}else E.push(he)}}function zn(E){return/^[\s\xa0]*$/.test(E)}function kn(){var E=R.navigator;return E&&(E=E.userAgent)?E:""}function mr(E){return mr[" "](E),E}mr[" "]=function(){};var zr=!(-1==kn().indexOf("Gecko")||-1!=kn().toLowerCase().indexOf("webkit")&&-1==kn().indexOf("Edge")||-1!=kn().indexOf("Trident")||-1!=kn().indexOf("MSIE")||-1!=kn().indexOf("Edge"));function xr(E,V,Q){for(const he in E)V.call(Q,E[he],he,E)}function Me(E){const V={};for(const Q in E)V[Q]=E[Q];return V}const je="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ge(E,V){let Q,he;for(let at=1;at<arguments.length;at++){for(Q in he=arguments[at],he)E[Q]=he[Q];for(let Ct=0;Ct<je.length;Ct++)Q=je[Ct],Object.prototype.hasOwnProperty.call(he,Q)&&(E[Q]=he[Q])}}function et(E){var V=1;E=E.split(":");const Q=[];for(;0<V&&E.length;)Q.push(E.shift()),V--;return E.length&&Q.push(E.join(":")),Q}function gt(E){R.setTimeout(()=>{throw E},0)}function Ve(){var E=P_;let V=null;return E.g&&(V=E.g,E.g=E.g.next,E.g||(E.h=null),V.next=null),V}var vf=new class Pn{constructor(V,Q){this.i=V,this.j=Q,this.h=0,this.g=null}get(){let V;return 0<this.h?(this.h--,V=this.g,this.g=V.next,V.next=null):V=this.i(),V}}(()=>new Uo,E=>E.reset());class Uo{constructor(){this.next=this.g=this.h=null}set(V,Q){this.h=V,this.g=Q,this.next=null}reset(){this.next=this.g=this.h=null}}let Yl,Ef=!1,P_=new class Rc{constructor(){this.h=this.g=null}add(V,Q){const he=vf.get();he.set(V,Q),this.h?this.h.next=he:this.g=he,this.h=he}},lh=()=>{const E=R.Promise.resolve(void 0);Yl=()=>{E.then(R_)}};var R_=()=>{for(var E;E=Ve();){try{E.h.call(E.g)}catch(Q){gt(Q)}var V=vf;V.j(E),100>V.h&&(V.h++,E.next=V.g,V.g=E)}Ef=!1};function pl(){this.s=this.s,this.C=this.C}function uo(E,V){this.type=E,this.g=this.target=V,this.defaultPrevented=!1}pl.prototype.s=!1,pl.prototype.ma=function(){this.s||(this.s=!0,this.N())},pl.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},uo.prototype.h=function(){this.defaultPrevented=!0};var Yy=function(){if(!R.addEventListener||!Object.defineProperty)return!1;var E=!1,V=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const Q=()=>{};R.addEventListener("test",Q,V),R.removeEventListener("test",Q,V)}catch{}return E}();function uh(E,V){if(uo.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var Q=this.type=E.type,he=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=V,V=E.relatedTarget){if(zr){e:{try{mr(V.nodeName);var at=!0;break e}catch{}at=!1}at||(V=null)}}else"mouseover"==Q?V=E.fromElement:"mouseout"==Q&&(V=E.toElement);this.relatedTarget=V,he?(this.clientX=void 0!==he.clientX?he.clientX:he.pageX,this.clientY=void 0!==he.clientY?he.clientY:he.pageY,this.screenX=he.screenX||0,this.screenY=he.screenY||0):(this.clientX=void 0!==E.clientX?E.clientX:E.pageX,this.clientY=void 0!==E.clientY?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType="string"==typeof E.pointerType?E.pointerType:Qy[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&uh.aa.h.call(this)}}Rt(uh,uo);var Qy={2:"touch",3:"pen",4:"mouse"};uh.prototype.h=function(){uh.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var dh="closure_listenable_"+(1e6*Math.random()|0),hh=0;function x_(E,V,Q,he,at){this.listener=E,this.proxy=null,this.src=V,this.type=Q,this.capture=!!he,this.ha=at,this.key=++hh,this.da=this.fa=!1}function Wp(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function If(E){this.src=E,this.g={},this.h=0}function sm(E,V){var Q=V.type;if(Q in E.g){var Ct,he=E.g[Q],at=Array.prototype.indexOf.call(he,V,void 0);(Ct=0<=at)&&Array.prototype.splice.call(he,at,1),Ct&&(Wp(V),0==E.g[Q].length&&(delete E.g[Q],E.h--))}}function om(E,V,Q,he){for(var at=0;at<E.length;++at){var Ct=E[at];if(!Ct.da&&Ct.listener==V&&Ct.capture==!!Q&&Ct.ha==he)return at}return-1}If.prototype.add=function(E,V,Q,he,at){var Ct=E.toString();(E=this.g[Ct])||(E=this.g[Ct]=[],this.h++);var hn=om(E,V,he,at);return-1<hn?(V=E[hn],Q||(V.fa=!1)):((V=new x_(V,this.src,Ct,!!he,at)).fa=Q,E.push(V)),V};var ba="closure_lm_"+(1e6*Math.random()|0),bf={};function O_(E,V,Q,he,at){if(he&&he.once)return Tf(E,V,Q,he,at);if(Array.isArray(V)){for(var Ct=0;Ct<V.length;Ct++)O_(E,V[Ct],Q,he,at);return null}return Q=za(Q),E&&E[dh]?E.K(V,Q,K(he)?!!he.capture:!!he,at):am(E,V,Q,!1,he,at)}function am(E,V,Q,he,at,Ct){if(!V)throw Error("Invalid event type");var hn=K(at)?!!at.capture:!!at,wi=lm(E);if(wi||(E[ba]=wi=new If(E)),(Q=wi.add(V,Q,he,hn,Ct)).proxy)return Q;if(he=function N_(){const V=OE;return function E(Q){return V.call(E.src,E.listener,Q)}}(),Q.proxy=he,he.src=E,he.listener=Q,E.addEventListener)Yy||(at=hn),void 0===at&&(at=!1),E.addEventListener(V.toString(),he,at);else if(E.attachEvent)E.attachEvent(cm(V.toString()),he);else{if(!E.addListener||!E.removeListener)throw Error("addEventListener and attachEvent are unavailable.");E.addListener(he)}return Q}function Tf(E,V,Q,he,at){if(Array.isArray(V)){for(var Ct=0;Ct<V.length;Ct++)Tf(E,V[Ct],Q,he,at);return null}return Q=za(Q),E&&E[dh]?E.L(V,Q,K(he)?!!he.capture:!!he,at):am(E,V,Q,!0,he,at)}function qp(E,V,Q,he,at){if(Array.isArray(V))for(var Ct=0;Ct<V.length;Ct++)qp(E,V[Ct],Q,he,at);else he=K(he)?!!he.capture:!!he,Q=za(Q),E&&E[dh]?(E=E.i,(V=String(V).toString())in E.g&&-1<(Q=om(Ct=E.g[V],Q,he,at))&&(Wp(Ct[Q]),Array.prototype.splice.call(Ct,Q,1),0==Ct.length&&(delete E.g[V],E.h--))):E&&(E=lm(E))&&(V=E.g[V.toString()],E=-1,V&&(E=om(V,Q,he,at)),(Q=-1<E?V[E]:null)&&fh(Q))}function fh(E){if("number"!=typeof E&&E&&!E.da){var V=E.src;if(V&&V[dh])sm(V.i,E);else{var Q=E.type,he=E.proxy;V.removeEventListener?V.removeEventListener(Q,he,E.capture):V.detachEvent?V.detachEvent(cm(Q),he):V.addListener&&V.removeListener&&V.removeListener(he),(Q=lm(V))?(sm(Q,E),0==Q.h&&(Q.src=null,V[ba]=null)):Wp(E)}}}function cm(E){return E in bf?bf[E]:bf[E]="on"+E}function OE(E,V){if(E.da)E=!0;else{V=new uh(V,this);var Q=E.listener,he=E.ha||E.src;E.fa&&fh(E),E=Q.call(he,V)}return E}function lm(E){return(E=E[ba])instanceof If?E:null}var Cf="__closure_events_fn_"+(1e9*Math.random()>>>0);function za(E){return"function"==typeof E?E:(E[Cf]||(E[Cf]=function(V){return E.handleEvent(V)}),E[Cf])}function Yi(){pl.call(this),this.i=new If(this),this.M=this,this.F=null}function Ss(E,V){var Q,he=E.F;if(he)for(Q=[];he;he=he.F)Q.push(he);if(E=E.M,he=V.type||V,"string"==typeof V)V=new uo(V,E);else if(V instanceof uo)V.target=V.target||E;else{var at=V;Ge(V=new uo(he,E),at)}if(at=!0,Q)for(var Ct=Q.length-1;0<=Ct;Ct--){var hn=V.g=Q[Ct];at=Ga(hn,he,!0,V)&&at}if(at=Ga(hn=V.g=E,he,!0,V)&&at,at=Ga(hn,he,!1,V)&&at,Q)for(Ct=0;Ct<Q.length;Ct++)at=Ga(hn=V.g=Q[Ct],he,!1,V)&&at}function Ga(E,V,Q,he){if(!(V=E.i.g[String(V)]))return!0;V=V.concat();for(var at=!0,Ct=0;Ct<V.length;++Ct){var hn=V[Ct];if(hn&&!hn.da&&hn.capture==Q){var wi=hn.listener,Us=hn.ha||hn.src;hn.fa&&sm(E.i,hn),at=!1!==wi.call(Us,he)&&at}}return at&&!he.defaultPrevented}function k_(E,V,Q){if("function"==typeof E)Q&&(E=Oe(E,Q));else{if(!E||"function"!=typeof E.handleEvent)throw Error("Invalid listener argument");E=Oe(E.handleEvent,E)}return 2147483647<Number(V)?-1:R.setTimeout(E,V||0)}function Zp(E){E.g=k_(()=>{E.g=null,E.i&&(E.i=!1,Zp(E))},E.l);const V=E.h;E.h=null,E.m.apply(null,V)}Rt(Yi,pl),Yi.prototype[dh]=!0,Yi.prototype.removeEventListener=function(E,V,Q,he){qp(this,E,V,Q,he)},Yi.prototype.N=function(){if(Yi.aa.N.call(this),this.i){var V,E=this.i;for(V in E.g){for(var Q=E.g[V],he=0;he<Q.length;he++)Wp(Q[he]);delete E.g[V],E.h--}}this.F=null},Yi.prototype.K=function(E,V,Q,he){return this.i.add(String(E),V,!1,Q,he)},Yi.prototype.L=function(E,V,Q,he){return this.i.add(String(E),V,!0,Q,he)};class um extends pl{constructor(V,Q){super(),this.m=V,this.l=Q,this.h=null,this.i=!1,this.g=null}j(V){this.h=arguments,this.g?this.i=!0:Zp(this)}N(){super.N(),this.g&&(R.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wf(E){pl.call(this),this.h=E,this.g={}}Rt(wf,pl);var dm=[];function F_(E){xr(E.g,function(V,Q){this.g.hasOwnProperty(Q)&&fh(V)},E),E.g={}}wf.prototype.N=function(){wf.aa.N.call(this),F_(this)},wf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ph=R.JSON.stringify,Kp=R.JSON.parse,Jy=class{stringify(E){return R.JSON.stringify(E,void 0)}parse(E){return R.JSON.parse(E,void 0)}};function Af(){}function ev(){}Af.prototype.h=null;var Df={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hm(){uo.call(this,"d")}function L_(){uo.call(this,"c")}Rt(hm,uo),Rt(L_,uo);var gh={},Yp=null;function Gu(){return Yp=Yp||new Yi}function Ql(E){uo.call(this,gh.La,E)}function Qp(E){const V=Gu();Ss(V,new Ql(V))}function Sf(E,V){uo.call(this,gh.STAT_EVENT,E),this.stat=V}function ho(E){const V=Gu();Ss(V,new Sf(V,E))}function V_(E,V){uo.call(this,gh.Ma,E),this.size=V}function Jp(E,V){if("function"!=typeof E)throw Error("Fn must not be null and must be a function");return R.setTimeout(function(){E()},V)}function Jl(){this.g=!0}function Mf(E,V,Q,he){E.info(function(){return"XMLHTTP TEXT ("+V+"): "+function eE(E,V){if(!E.g)return V;if(!V)return null;try{var Q=JSON.parse(V);if(Q)for(E=0;E<Q.length;E++)if(Array.isArray(Q[E])){var he=Q[E];if(!(2>he.length)){var at=he[1];if(Array.isArray(at)&&!(1>at.length)){var Ct=at[0];if("noop"!=Ct&&"stop"!=Ct&&"close"!=Ct)for(var hn=1;hn<at.length;hn++)at[hn]=""}}}return ph(Q)}catch{return V}}(E,Q)+(he?" "+he:"")})}gh.La="serverreachability",Rt(Ql,uo),gh.STAT_EVENT="statevent",Rt(Sf,uo),gh.Ma="timingevent",Rt(V_,uo),Jl.prototype.xa=function(){this.g=!1},Jl.prototype.info=function(){};var U_,fm={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},nv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Xp(){}function gl(E,V,Q,he){this.j=E,this.i=V,this.l=Q,this.R=he||1,this.U=new wf(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rv}function rv(){this.i=null,this.g="",this.h=!1}Rt(Xp,Af),Xp.prototype.g=function(){return new XMLHttpRequest},Xp.prototype.i=function(){return{}},U_=new Xp;var eg={},B_={};function j_(E,V,Q){E.L=1,E.v=tu(xc(V)),E.m=Q,E.P=!0,iv(E,null)}function iv(E,V){E.F=Date.now(),pm(E),E.A=xc(E.v);var Q=E.A,he=E.R;Array.isArray(he)||(he=[String(he)]),q_(Q.i,"t",he),E.C=0,Q=E.j.J,E.h=new rv,E.g=wv(E.j,Q?V:null,!E.m),0<E.O&&(E.M=new um(Oe(E.Y,E,E.g),E.O)),V=E.U,Q=E.g,he=E.ca;var at="readystatechange";Array.isArray(at)||(at&&(dm[0]=at.toString()),at=dm);for(var Ct=0;Ct<at.length;Ct++){var hn=O_(Q,at[Ct],he||V.handleEvent,!1,V.h||V);if(!hn)break;V.g[hn.key]=hn}V=E.H?Me(E.H):{},E.m?(E.u||(E.u="POST"),V["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,V)):(E.u="GET",E.g.ea(E.A,E.u,null,V)),Qp(),function tv(E,V,Q,he,at,Ct){E.info(function(){if(E.g)if(Ct)for(var hn="",wi=Ct.split("&"),Us=0;Us<wi.length;Us++){var ni=wi[Us].split("=");if(1<ni.length){var Ks=ni[0];ni=ni[1];var po=Ks.split("_");hn=2<=po.length&&"type"==po[1]?hn+(Ks+"=")+ni+"&":hn+(Ks+"=redacted&")}}else hn=null;else hn=Ct;return"XMLHTTP REQ ("+he+") [attempt "+at+"]: "+V+"\n"+Q+"\n"+hn})}(E.i,E.u,E.A,E.l,E.R,E.m)}function sv(E){return!!E.g&&"GET"==E.u&&2!=E.L&&E.j.Ca}function tE(E,V){var Q=E.C,he=V.indexOf("\n",Q);return-1==he?B_:(Q=Number(V.substring(Q,he)),isNaN(Q)?eg:(he+=1)+Q>V.length?B_:(V=V.slice(he,he+Q),E.C=he+Q,V))}function pm(E){E.S=Date.now()+E.I,ov(E,E.I)}function ov(E,V){if(null!=E.B)throw Error("WatchDog timer not null");E.B=Jp(Oe(E.ba,E),V)}function gm(E){E.B&&(R.clearTimeout(E.B),E.B=null)}function Pf(E){0==E.j.G||E.J||Tv(E.j,E)}function mh(E){gm(E);var V=E.M;V&&"function"==typeof V.ma&&V.ma(),E.M=null,F_(E.U),E.g&&(V=E.g,E.g=null,V.abort(),V.ma())}function av(E,V){try{var Q=E.j;if(0!=Q.G&&(Q.g==E||H_(Q.h,E)))if(!E.K&&H_(Q.h,E)&&3==Q.G){try{var he=Q.Da.g.parse(V)}catch{he=null}if(Array.isArray(he)&&3==he.length){var at=he;if(0==at[0]){e:if(!Q.u){if(Q.g){if(!(Q.g.F+3e3<E.F))break e;Tm(Q),Q_(Q)}Im(Q),ho(18)}}else Q.za=at[1],0<Q.za-Q.T&&37500>at[2]&&Q.F&&0==Q.v&&!Q.C&&(Q.C=Jp(Oe(Q.Za,Q),6e3));if(1>=tg(Q.h)&&Q.ca){try{Q.ca()}catch{}Q.ca=void 0}}else Qu(Q,11)}else if((E.K||Q.g==E)&&Tm(Q),!zn(V))for(at=Q.Da.g.parse(V),V=0;V<at.length;V++){let ni=at[V];if(Q.T=ni[0],ni=ni[1],2==Q.G)if("c"==ni[0]){Q.K=ni[1],Q.ia=ni[2];const Ks=ni[3];null!=Ks&&(Q.la=Ks,Q.j.info("VER="+Q.la));const po=ni[4];null!=po&&(Q.Aa=po,Q.j.info("SVER="+Q.Aa));const Uf=ni[5];null!=Uf&&"number"==typeof Uf&&0<Uf&&(Q.L=he=1.5*Uf,Q.j.info("backChannelRequestTimeoutMs_="+he)),he=Q;const Wa=E.g;if(Wa){const og=Wa.g?Wa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(og){var Ct=he.h;Ct.g||-1==og.indexOf("spdy")&&-1==og.indexOf("quic")&&-1==og.indexOf("h2")||(Ct.j=Ct.l,Ct.g=new Set,Ct.h&&(z_(Ct,Ct.h),Ct.h=null))}if(he.D){const Am=Wa.g?Wa.g.getResponseHeader("X-HTTP-Session-Id"):null;Am&&(he.ya=Am,Ei(he.I,he.D,Am))}}Q.G=3,Q.l&&Q.l.ua(),Q.ba&&(Q.R=Date.now()-E.F,Q.j.info("Handshake RTT: "+Q.R+"ms"));var hn=E;if((he=Q).qa=wm(he,he.J?he.ia:null,he.W),hn.K){mm(he.h,hn);var wi=hn,Us=he.L;Us&&(wi.I=Us),wi.B&&(gm(wi),pm(wi)),he.g=hn}else bv(he);0<Q.i.length&&Em(Q)}else"stop"!=ni[0]&&"close"!=ni[0]||Qu(Q,7);else 3==Q.G&&("stop"==ni[0]||"close"==ni[0]?"stop"==ni[0]?Qu(Q,7):Ff(Q):"noop"!=ni[0]&&Q.l&&Q.l.ta(ni),Q.v=0)}Qp()}catch{}}function $_(E){this.l=E||10,E=R.PerformanceNavigationTiming?0<(E=R.performance.getEntriesByType("navigation")).length&&("hq"==E[0].nextHopProtocol||"h2"==E[0].nextHopProtocol):!!(R.chrome&&R.chrome.loadTimes&&R.chrome.loadTimes()&&R.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nE(E){return!!E.h||!!E.g&&E.g.size>=E.j}function tg(E){return E.h?1:E.g?E.g.size:0}function H_(E,V){return E.h?E.h==V:!!E.g&&E.g.has(V)}function z_(E,V){E.g?E.g.add(V):E.h=V}function mm(E,V){E.h&&E.h==V?E.h=null:E.g&&E.g.has(V)&&E.g.delete(V)}function lv(E){if(null!=E.h)return E.i.concat(E.h.D);if(null!=E.g&&0!==E.g.size){let V=E.i;for(const Q of E.g.values())V=V.concat(Q.D);return V}return Zt(E.i)}function fo(E,V){if(E.forEach&&"function"==typeof E.forEach)E.forEach(V,void 0);else if(L(E)||"string"==typeof E)Array.prototype.forEach.call(E,V,void 0);else for(var Q=function ng(E){if(E.na&&"function"==typeof E.na)return E.na();if(!E.V||"function"!=typeof E.V){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(L(E)||"string"==typeof E){var V=[];E=E.length;for(var Q=0;Q<E;Q++)V.push(Q);return V}V=[],Q=0;for(const he in E)V[Q++]=he;return V}}}(E),he=function ml(E){if(E.V&&"function"==typeof E.V)return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if("string"==typeof E)return E.split("");if(L(E)){for(var V=[],Q=E.length,he=0;he<Q;he++)V.push(E[he]);return V}for(he in V=[],Q=0,E)V[Q++]=E[he];return V}(E),at=he.length,Ct=0;Ct<at;Ct++)V.call(void 0,he[Ct],Q&&Q[Ct],E)}gl.prototype.ca=function(E){E=E.target;const V=this.M;V&&3==ru(E)?V.j():this.Y(E)},gl.prototype.Y=function(E){try{if(E==this.g)e:{const po=ru(this.g);var V=this.g.Ba();if(this.g.Z(),!(3>po)&&(3!=po||this.g&&(this.h.h||this.g.oa()||yv(this.g)))){this.J||4!=po||7==V||Qp(),gm(this);var Q=this.g.Z();this.X=Q;t:if(sv(this)){var he=yv(this.g);E="";var at=he.length,Ct=4==ru(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){mh(this),Pf(this);var hn="";break t}this.h.i=new R.TextDecoder}for(V=0;V<at;V++)this.h.h=!0,E+=this.h.i.decode(he[V],{stream:!(Ct&&V==at-1)});he.length=0,this.h.g+=E,this.C=0,hn=this.h.g}else hn=this.g.oa();if(this.o=200==Q,function Jv(E,V,Q,he,at,Ct,hn){E.info(function(){return"XMLHTTP RESP ("+he+") [ attempt "+at+"]: "+V+"\n"+Q+"\n"+Ct+" "+hn})}(this.i,this.u,this.A,this.l,this.R,po,Q),this.o){if(this.T&&!this.K){t:{if(this.g){var wi,Us=this.g;if((wi=Us.g?Us.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zn(wi)){var ni=wi;break t}}ni=null}if(!(Q=ni)){this.o=!1,this.s=3,ho(12),mh(this),Pf(this);break e}Mf(this.i,this.l,Q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,av(this,Q)}if(this.P){let Wa;for(Q=!0;!this.J&&this.C<hn.length;){if(Wa=tE(this,hn),Wa==B_){4==po&&(this.s=4,ho(14),Q=!1),Mf(this.i,this.l,null,"[Incomplete Response]");break}if(Wa==eg){this.s=4,ho(15),Mf(this.i,this.l,hn,"[Invalid Chunk]"),Q=!1;break}Mf(this.i,this.l,Wa,null),av(this,Wa)}if(sv(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=po||0!=hn.length||this.h.h||(this.s=1,ho(16),Q=!1),this.o=this.o&&Q,Q){if(0<hn.length&&!this.W){this.W=!0;var Ks=this.j;Ks.g==this&&Ks.ba&&!Ks.M&&(Ks.j.info("Great, no buffering proxy detected. Bytes received: "+hn.length),bm(Ks),Ks.M=!0,ho(11))}}else Mf(this.i,this.l,hn,"[Invalid Chunked Response]"),mh(this),Pf(this)}else Mf(this.i,this.l,hn,null),av(this,hn);4==po&&mh(this),this.o&&!this.J&&(4==po?Tv(this.j,this):(this.o=!1,pm(this)))}else(function sE(E){const V={};E=(E.g&&2<=ru(E)&&E.g.getAllResponseHeaders()||"").split("\r\n");for(let he=0;he<E.length;he++){if(zn(E[he]))continue;var Q=et(E[he]);const at=Q[0];if("string"!=typeof(Q=Q[1]))continue;Q=Q.trim();const Ct=V[at]||[];V[at]=Ct,Ct.push(Q)}!function Qe(E,V){for(const Q in E)V.call(void 0,E[Q],Q,E)}(V,function(he){return he.join(", ")})})(this.g),400==Q&&0<hn.indexOf("Unknown SID")?(this.s=3,ho(12)):(this.s=0,ho(13)),mh(this),Pf(this)}}}catch{}},gl.prototype.cancel=function(){this.J=!0,mh(this)},gl.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(function Xv(E,V){E.info(function(){return"TIMEOUT: "+V})}(this.i,this.A),2!=this.L&&(Qp(),ho(17)),mh(this),this.s=2,Pf(this)):ov(this,this.S-E)},$_.prototype.cancel=function(){if(this.i=lv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const E of this.g.values())E.cancel();this.g.clear()}};var Wu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zs(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof Zs){this.h=E.h,Xl(this,E.j),this.o=E.o,this.g=E.g,eu(this,E.s),this.l=E.l;var V=E.i,Q=new xf;Q.i=V.i,V.g&&(Q.g=new Map(V.g),Q.h=V.h),_h(this,Q),this.m=E.m}else E&&(V=String(E).match(Wu))?(this.h=!1,Xl(this,V[1]||"",!0),this.o=_l(V[2]||""),this.g=_l(V[3]||"",!0),eu(this,V[4]),this.l=_l(V[5]||"",!0),_h(this,V[6]||"",!0),this.m=_l(V[7]||"")):(this.h=!1,this.i=new xf(null,this.h))}function xc(E){return new Zs(E)}function Xl(E,V,Q){E.j=Q?_l(V,!0):V,E.j&&(E.j=E.j.replace(/:$/,""))}function eu(E,V){if(V){if(V=Number(V),isNaN(V)||0>V)throw Error("Bad port number "+V);E.s=V}else E.s=null}function _h(E,V,Q){V instanceof xf?(E.i=V,function rE(E,V){V&&!E.j&&(nu(E),E.i=null,E.g.forEach(function(Q,he){var at=he.toLowerCase();he!=at&&(G_(this,he),q_(this,at,Q))},E)),E.j=V}(E.i,E.h)):(Q||(V=yl(V,hv)),E.i=new xf(V,E.h))}function Ei(E,V,Q){E.i.set(V,Q)}function tu(E){return Ei(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function _l(E,V){return E?V?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function yl(E,V,Q){return"string"==typeof E?(E=encodeURI(E).replace(V,Rf),Q&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function Rf(E){return"%"+((E=E.charCodeAt(0))>>4&15).toString(16)+(15&E).toString(16)}Zs.prototype.toString=function(){var E=[],V=this.j;V&&E.push(yl(V,yh,!0),":");var Q=this.g;return(Q||"file"==V)&&(E.push("//"),(V=this.o)&&E.push(yl(V,yh,!0),"@"),E.push(encodeURIComponent(String(Q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(Q=this.s)&&E.push(":",String(Q))),(Q=this.l)&&(this.g&&"/"!=Q.charAt(0)&&E.push("/"),E.push(yl(Q,"/"==Q.charAt(0)?dv:uv,!0))),(Q=this.i.toString())&&E.push("?",Q),(Q=this.m)&&E.push("#",yl(Q,fv)),E.join("")};var E,yh=/[#\/\?@]/g,uv=/[#\?:]/g,dv=/[#\?]/g,hv=/[#\?@]/g,fv=/#/g;function xf(E,V){this.h=this.g=null,this.i=E||null,this.j=!!V}function nu(E){E.g||(E.g=new Map,E.h=0,E.i&&function _m(E,V){if(E){E=E.split("&");for(var Q=0;Q<E.length;Q++){var he=E[Q].indexOf("="),at=null;if(0<=he){var Ct=E[Q].substring(0,he);at=E[Q].substring(he+1)}else Ct=E[Q];V(Ct,at?decodeURIComponent(at.replace(/\+/g," ")):"")}}}(E.i,function(V,Q){E.add(decodeURIComponent(V.replace(/\+/g," ")),Q)}))}function G_(E,V){nu(E),V=qu(E,V),E.g.has(V)&&(E.i=null,E.h-=E.g.get(V).length,E.g.delete(V))}function W_(E,V){return nu(E),V=qu(E,V),E.g.has(V)}function q_(E,V,Q){G_(E,V),0<Q.length&&(E.i=null,E.g.set(qu(E,V),Zt(Q)),E.h+=Q.length)}function qu(E,V){return V=String(V),E.j&&(V=V.toLowerCase()),V}function vl(E,V,Q,he,at){try{at&&(at.onload=null,at.onerror=null,at.onabort=null,at.ontimeout=null),he(Q)}catch{}}function pv(){this.g=new Jy}function NE(E,V,Q){const he=Q||"";try{fo(E,function(at,Ct){let hn=at;K(at)&&(hn=ph(at)),V.push(he+Ct+"="+encodeURIComponent(hn))})}catch(at){throw V.push(he+"type="+encodeURIComponent("_badmap")),at}}function Zu(E){this.l=E.Ub||null,this.j=E.eb||!1}function ym(E,V){Yi.call(this),this.D=E,this.o=V,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function K_(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}function Of(E){E.readyState=4,E.l=null,E.j=null,E.v=null,Nf(E)}function Nf(E){E.onreadystatechange&&E.onreadystatechange.call(E)}function rg(E){let V="";return xr(E,function(Q,he){V+=he,V+=":",V+=Q,V+="\r\n"}),V}function Ku(E,V,Q){e:{for(he in Q){var he=!1;break e}he=!0}he||(Q=rg(Q),"string"==typeof E?null!=Q&&encodeURIComponent(String(Q)):Ei(E,V,Q))}function Gi(E){Yi.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(l=xf.prototype).add=function(E,V){nu(this),this.i=null,E=qu(this,E);var Q=this.g.get(E);return Q||this.g.set(E,Q=[]),Q.push(V),this.h+=1,this},l.forEach=function(E,V){nu(this),this.g.forEach(function(Q,he){Q.forEach(function(at){E.call(V,at,he,this)},this)},this)},l.na=function(){nu(this);const E=Array.from(this.g.values()),V=Array.from(this.g.keys()),Q=[];for(let he=0;he<V.length;he++){const at=E[he];for(let Ct=0;Ct<at.length;Ct++)Q.push(V[he])}return Q},l.V=function(E){nu(this);let V=[];if("string"==typeof E)W_(this,E)&&(V=V.concat(this.g.get(qu(this,E))));else{E=Array.from(this.g.values());for(let Q=0;Q<E.length;Q++)V=V.concat(E[Q])}return V},l.set=function(E,V){return nu(this),this.i=null,W_(this,E=qu(this,E))&&(this.h-=this.g.get(E).length),this.g.set(E,[V]),this.h+=1,this},l.get=function(E,V){return E&&0<(E=this.V(E)).length?String(E[0]):V},l.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],V=Array.from(this.g.keys());for(var Q=0;Q<V.length;Q++){var he=V[Q];const Ct=encodeURIComponent(String(he)),hn=this.V(he);for(he=0;he<hn.length;he++){var at=Ct;""!==hn[he]&&(at+="="+encodeURIComponent(String(hn[he]))),E.push(at)}}return this.i=E.join("&")},Rt(Zu,Af),Zu.prototype.g=function(){return new ym(this.l,this.j)},Zu.prototype.i=(E={},function(){return E}),Rt(ym,Yi),(l=ym.prototype).open=function(E,V){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=V,this.readyState=1,Nf(this)},l.send=function(E){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const V={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(V.body=E),(this.D||R).fetch(new Request(this.A,V)).then(this.Sa.bind(this),this.ga.bind(this))},l.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Of(this)),this.readyState=0},l.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,Nf(this)),this.g&&(this.readyState=3,Nf(this),this.g)))if("arraybuffer"===this.responseType)E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof R.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;K_(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))},l.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var V=E.value?E.value:new Uint8Array(0);(V=this.v.decode(V,{stream:!E.done}))&&(this.response=this.responseText+=V)}E.done?Of(this):Nf(this),3==this.readyState&&K_(this)}},l.Ra=function(E){this.g&&(this.response=this.responseText=E,Of(this))},l.Qa=function(E){this.g&&(this.response=E,Of(this))},l.ga=function(){this.g&&Of(this)},l.setRequestHeader=function(E,V){this.u.append(E,V)},l.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],V=this.h.entries();for(var Q=V.next();!Q.done;)E.push((Q=Q.value)[0]+": "+Q[1]),Q=V.next();return E.join("\r\n")},Object.defineProperty(ym.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(E){this.m=E?"include":"same-origin"}}),Rt(Gi,Yi);var vm=/^https?$/i,gv=["POST","PUT"];function kf(E,V){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=V,E.m=5,Y_(E),Yu(E)}function Y_(E){E.A||(E.A=!0,Ss(E,"complete"),Ss(E,"error"))}function mv(E){if(E.h&&typeof I<"u"&&(!E.v[1]||4!=ru(E)||2!=E.Z()))if(E.u&&4==ru(E))k_(E.Ea,0,E);else if(Ss(E,"readystatechange"),4==ru(E)){E.h=!1;try{const hn=E.Z();e:switch(hn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var V=!0;break e;default:V=!1}var Q;if(!(Q=V)){var he;if(he=0===hn){var at=String(E.D).match(Wu)[1]||null;!at&&R.self&&R.self.location&&(at=R.self.location.protocol.slice(0,-1)),he=!vm.test(at?at.toLowerCase():"")}Q=he}if(Q)Ss(E,"complete"),Ss(E,"success");else{E.m=6;try{var Ct=2<ru(E)?E.g.statusText:""}catch{Ct=""}E.l=Ct+" ["+E.Z()+"]",Y_(E)}}finally{Yu(E)}}}function Yu(E,V){if(E.g){_v(E);const Q=E.g,he=E.v[0]?()=>{}:null;E.g=null,E.v=null,V||Ss(E,"ready");try{Q.onreadystatechange=he}catch{}}}function _v(E){E.I&&(R.clearTimeout(E.I),E.I=null)}function ru(E){return E.g?E.g.readyState:0}function yv(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function vh(E,V,Q){return Q&&Q.internalChannelParams&&Q.internalChannelParams[E]||V}function ig(E){this.Aa=0,this.i=[],this.j=new Jl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vh("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vh("baseRetryDelayMs",5e3,E),this.cb=vh("retryDelaySeedMs",1e4,E),this.Wa=vh("forwardChannelMaxRetries",2,E),this.wa=vh("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new $_(E&&E.concurrentRequestLimit),this.Da=new pv,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Ff(E){if(vv(E),3==E.G){var V=E.U++,Q=xc(E.I);if(Ei(Q,"SID",E.K),Ei(Q,"RID",V),Ei(Q,"TYPE","terminate"),Lf(E,Q),(V=new gl(E,E.j,V)).L=2,V.v=tu(xc(Q)),Q=!1,R.navigator&&R.navigator.sendBeacon)try{Q=R.navigator.sendBeacon(V.v.toString(),"")}catch{}!Q&&R.Image&&((new Image).src=V.v,Q=!0),Q||(V.g=wv(V.j,null),V.g.ea(V.v)),V.F=Date.now(),pm(V)}Cm(E)}function Q_(E){E.g&&(bm(E),E.g.cancel(),E.g=null)}function vv(E){Q_(E),E.u&&(R.clearTimeout(E.u),E.u=null),Tm(E),E.h.cancel(),E.s&&("number"==typeof E.s&&R.clearTimeout(E.s),E.s=null)}function Em(E){if(!nE(E.h)&&!E.s){E.s=!0;var V=E.Ga;Yl||lh(),Ef||(Yl(),Ef=!0),P_.add(V,E),E.B=0}}function Ev(E,V){var Q;Q=V?V.l:E.U++;const he=xc(E.I);Ei(he,"SID",E.K),Ei(he,"RID",Q),Ei(he,"AID",E.T),Lf(E,he),E.m&&E.o&&Ku(he,E.m,E.o),Q=new gl(E,E.j,Q,E.B+1),null===E.m&&(Q.H=E.o),V&&(E.i=V.D.concat(E.i)),V=Iv(E,Q,1e3),Q.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),z_(E.h,Q),j_(Q,he,V)}function Lf(E,V){E.H&&xr(E.H,function(Q,he){Ei(V,he,Q)}),E.l&&fo({},function(Q,he){Ei(V,he,Q)})}function Iv(E,V,Q){Q=Math.min(E.i.length,Q);var he=E.l?Oe(E.l.Na,E.l,E):null;e:{var at=E.i;let Ct=-1;for(;;){const hn=["count="+Q];-1==Ct?0<Q?(Ct=at[0].g,hn.push("ofs="+Ct)):Ct=0:hn.push("ofs="+Ct);let wi=!0;for(let Us=0;Us<Q;Us++){let ni=at[Us].g;const Ks=at[Us].map;if(ni-=Ct,0>ni)Ct=Math.max(0,at[Us].g-100),wi=!1;else try{NE(Ks,hn,"req"+ni+"_")}catch{he&&he(Ks)}}if(wi){he=hn.join("&");break e}}}return E=E.i.splice(0,Q),V.D=E,he}function bv(E){if(!E.g&&!E.u){E.Y=1;var V=E.Fa;Yl||lh(),Ef||(Yl(),Ef=!0),P_.add(V,E),E.v=0}}function Im(E){return!(E.g||E.u||3<=E.v||(E.Y++,E.u=Jp(Oe(E.Fa,E),Cv(E,E.v)),E.v++,0))}function bm(E){null!=E.A&&(R.clearTimeout(E.A),E.A=null)}function X_(E){E.g=new gl(E,E.j,"rpc",E.Y),null===E.m&&(E.g.H=E.o),E.g.O=0;var V=xc(E.qa);Ei(V,"RID","rpc"),Ei(V,"SID",E.K),Ei(V,"AID",E.T),Ei(V,"CI",E.F?"0":"1"),!E.F&&E.ja&&Ei(V,"TO",E.ja),Ei(V,"TYPE","xmlhttp"),Lf(E,V),E.m&&E.o&&Ku(V,E.m,E.o),E.L&&(E.g.I=E.L);var Q=E.g;E=E.ia,Q.L=1,Q.v=tu(xc(V)),Q.m=null,Q.P=!0,iv(Q,E)}function Tm(E){null!=E.C&&(R.clearTimeout(E.C),E.C=null)}function Tv(E,V){var Q=null;if(E.g==V){Tm(E),bm(E),E.g=null;var he=2}else{if(!H_(E.h,V))return;Q=V.D,mm(E.h,V),he=1}if(0!=E.G)if(V.o)if(1==he){Q=V.m?V.m.length:0,V=Date.now()-V.F;var at=E.B;Ss(he=Gu(),new V_(he,Q)),Em(E)}else bv(E);else if(3==(at=V.s)||0==at&&0<V.X||!(1==he&&function J_(E,V){return!(tg(E.h)>=E.h.j-(E.s?1:0)||(E.s?(E.i=V.D.concat(E.i),0):1==E.G||2==E.G||E.B>=(E.Va?0:E.Wa)||(E.s=Jp(Oe(E.Ga,E,V),Cv(E,E.B)),E.B++,0)))}(E,V)||2==he&&Im(E)))switch(Q&&0<Q.length&&(V=E.h,V.i=V.i.concat(Q)),at){case 1:Qu(E,5);break;case 4:Qu(E,10);break;case 3:Qu(E,6);break;default:Qu(E,2)}}function Cv(E,V){let Q=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(Q*=2),Q*V}function Qu(E,V){if(E.j.info("Error code "+V),2==V){var Q=Oe(E.fb,E),he=E.Xa;const at=!he;he=new Zs(he||"//www.google.com/images/cleardot.gif"),R.location&&"http"==R.location.protocol||Xl(he,"https"),tu(he),at?function iE(E,V){const Q=new Jl;if(R.Image){const he=new Image;he.onload=ot(vl,Q,"TestLoadImage: loaded",!0,V,he),he.onerror=ot(vl,Q,"TestLoadImage: error",!1,V,he),he.onabort=ot(vl,Q,"TestLoadImage: abort",!1,V,he),he.ontimeout=ot(vl,Q,"TestLoadImage: timeout",!1,V,he),R.setTimeout(function(){he.ontimeout&&he.ontimeout()},1e4),he.src=E}else V(!1)}(he.toString(),Q):function Z_(E,V){new Jl;const he=new AbortController,at=setTimeout(()=>{he.abort(),vl(0,0,!1,V)},1e4);fetch(E,{signal:he.signal}).then(Ct=>{clearTimeout(at),vl(0,0,!!Ct.ok,V)}).catch(()=>{clearTimeout(at),vl(0,0,!1,V)})}(he.toString(),Q)}else ho(2);E.G=0,E.l&&E.l.sa(V),Cm(E),vv(E)}function Cm(E){if(E.G=0,E.ka=[],E.l){const V=lv(E.h);(0!=V.length||0!=E.i.length)&&(Bt(E.ka,V),Bt(E.ka,E.i),E.h.i.length=0,Zt(E.i),E.i.length=0),E.l.ra()}}function wm(E,V,Q){var he=Q instanceof Zs?xc(Q):new Zs(Q);if(""!=he.g)V&&(he.g=V+"."+he.g),eu(he,he.s);else{var at=R.location;he=at.protocol,V=V?V+"."+at.hostname:at.hostname,at=+at.port;var Ct=new Zs(null);he&&Xl(Ct,he),V&&(Ct.g=V),at&&eu(Ct,at),Q&&(Ct.l=Q),he=Ct}return V=E.ya,(Q=E.D)&&V&&Ei(he,Q,V),Ei(he,"VER",E.la),Lf(E,he),he}function wv(E,V,Q){if(V&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return(V=new Gi(E.Ca&&!E.pa?new Zu({eb:Q}):E.pa)).Ha(E.J),V}function sg(){}function Eh(){}function Bo(E,V){Yi.call(this),this.g=new ig(V),this.l=E,this.h=V&&V.messageUrlParams||null,E=V&&V.messageHeaders||null,V&&V.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=V&&V.initMessageHeaders||null,V&&V.messageContentType&&(E?E["X-WebChannel-Content-Type"]=V.messageContentType:E={"X-WebChannel-Content-Type":V.messageContentType}),V&&V.va&&(E?E["X-WebChannel-Client-Profile"]=V.va:E={"X-WebChannel-Client-Profile":V.va}),this.g.S=E,(E=V&&V.Sb)&&!zn(E)&&(this.g.m=E),this.v=V&&V.supportsCrossDomainXhr||!1,this.u=V&&V.sendRawJson||!1,(V=V&&V.httpSessionIdParam)&&!zn(V)&&(this.g.D=V,null!==(E=this.h)&&V in E&&V in(E=this.h)&&delete E[V]),this.j=new Vf(this)}function ey(E){hm.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var V=E.__sm__;if(V){e:{for(const Q in V){E=Q;break e}E=void 0}(this.i=E)&&(E=this.i,V=null!==V&&E in V?V[E]:void 0),this.data=V}else this.data=E}function Av(){L_.call(this),this.status=1}function Vf(E){this.g=E}(l=Gi.prototype).Ha=function(E){this.J=E},l.ea=function(E,V,Q,he){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);V=V?V.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():U_.g(),this.v=function Xy(E){return E.h||(E.h=E.i())}(this.o?this.o:U_),this.g.onreadystatechange=Oe(this.Ea,this);try{this.B=!0,this.g.open(V,String(E),!0),this.B=!1}catch(Ct){return void kf(this,Ct)}if(E=Q||"",Q=new Map(this.headers),he)if(Object.getPrototypeOf(he)===Object.prototype)for(var at in he)Q.set(at,he[at]);else{if("function"!=typeof he.keys||"function"!=typeof he.get)throw Error("Unknown input type for opt_headers: "+String(he));for(const Ct of he.keys())Q.set(Ct,he.get(Ct))}he=Array.from(Q.keys()).find(Ct=>"content-type"==Ct.toLowerCase()),at=R.FormData&&E instanceof R.FormData,!(0<=Array.prototype.indexOf.call(gv,V,void 0))||he||at||Q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ct,hn]of Q)this.g.setRequestHeader(Ct,hn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_v(this),this.u=!0,this.g.send(E),this.u=!1}catch(Ct){kf(this,Ct)}},l.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,Ss(this,"complete"),Ss(this,"abort"),Yu(this))},l.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yu(this,!0)),Gi.aa.N.call(this)},l.Ea=function(){this.s||(this.B||this.u||this.j?mv(this):this.bb())},l.bb=function(){mv(this)},l.isActive=function(){return!!this.g},l.Z=function(){try{return 2<ru(this)?this.g.status:-1}catch{return-1}},l.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},l.Oa=function(E){if(this.g){var V=this.g.responseText;return E&&0==V.indexOf(E)&&(V=V.substring(E.length)),Kp(V)}},l.Ba=function(){return this.m},l.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(l=ig.prototype).la=8,l.G=1,l.connect=function(E,V,Q,he){ho(0),this.W=E,this.H=V||{},Q&&void 0!==he&&(this.H.OSID=Q,this.H.OAID=he),this.F=this.X,this.I=wm(this,null,this.W),Em(this)},l.Ga=function(E){if(this.s)if(this.s=null,1==this.G){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const at=new gl(this,this.j,E);let Ct=this.o;if(this.S&&(Ct?(Ct=Me(Ct),Ge(Ct,this.S)):Ct=this.S),null!==this.m||this.O||(at.H=Ct,Ct=null),this.P)e:{for(var V=0,Q=0;Q<this.i.length;Q++){var he=this.i[Q];if(void 0===(he="__data__"in he.map&&"string"==typeof(he=he.map.__data__)?he.length:void 0))break;if(4096<(V+=he)){V=Q;break e}if(4096===V||Q===this.i.length-1){V=Q+1;break e}}V=1e3}else V=1e3;V=Iv(this,at,V),Ei(Q=xc(this.I),"RID",E),Ei(Q,"CVER",22),this.D&&Ei(Q,"X-HTTP-Session-Id",this.D),Lf(this,Q),Ct&&(this.O?V="headers="+encodeURIComponent(String(rg(Ct)))+"&"+V:this.m&&Ku(Q,this.m,Ct)),z_(this.h,at),this.Ua&&Ei(Q,"TYPE","init"),this.P?(Ei(Q,"$req",V),Ei(Q,"SID","null"),at.T=!0,j_(at,Q,null)):j_(at,Q,V),this.G=2}}else 3==this.G&&(E?Ev(this,E):0==this.i.length||nE(this.h)||Ev(this))},l.Fa=function(){if(this.u=null,X_(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=Jp(Oe(this.ab,this),E)}},l.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ho(10),Q_(this),X_(this))},l.Za=function(){null!=this.C&&(this.C=null,Q_(this),Im(this),ho(19))},l.fb=function(E){E?(this.j.info("Successfully pinged google.com"),ho(2)):(this.j.info("Failed to ping google.com"),ho(1))},l.isActive=function(){return!!this.l&&this.l.isActive(this)},(l=sg.prototype).ua=function(){},l.ta=function(){},l.sa=function(){},l.ra=function(){},l.isActive=function(){return!0},l.Na=function(){},Eh.prototype.g=function(E,V){return new Bo(E,V)},Rt(Bo,Yi),Bo.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bo.prototype.close=function(){Ff(this.g)},Bo.prototype.o=function(E){var V=this.g;if("string"==typeof E){var Q={};Q.__data__=E,E=Q}else this.u&&((Q={}).__data__=ph(E),E=Q);V.i.push(new class{constructor(E,V){this.g=E,this.map=V}}(V.Ya++,E)),3==V.G&&Em(V)},Bo.prototype.N=function(){this.g.l=null,delete this.j,Ff(this.g),delete this.g,Bo.aa.N.call(this)},Rt(ey,hm),Rt(Av,L_),Rt(Vf,sg),Vf.prototype.ua=function(){Ss(this.g,"a")},Vf.prototype.ta=function(E){Ss(this.g,new ey(E))},Vf.prototype.sa=function(E){Ss(this.g,new Av)},Vf.prototype.ra=function(){Ss(this.g,"b")},Eh.prototype.createWebChannel=Eh.prototype.g,Bo.prototype.send=Bo.prototype.o,Bo.prototype.open=Bo.prototype.m,Bo.prototype.close=Bo.prototype.close,qe=oe.createWebChannelTransport=function(){return new Eh},nn=oe.getStatEventTarget=function(){return Gu()},Et=oe.Event=gh,wt=oe.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fm.NO_ERROR=0,fm.TIMEOUT=8,fm.HTTP_ERROR=6,ft=oe.ErrorCode=fm,nv.COMPLETE="complete",mt=oe.EventType=nv,ev.EventType=Df,Df.OPEN="a",Df.CLOSE="b",Df.ERROR="c",Df.MESSAGE="d",Yi.prototype.listen=Yi.prototype.K,rt=oe.WebChannel=ev,st=oe.FetchXmlHttpFactory=Zu,Gi.prototype.listenOnce=Gi.prototype.L,Gi.prototype.getLastError=Gi.prototype.Ka,Gi.prototype.getLastErrorCode=Gi.prototype.Ba,Gi.prototype.getStatus=Gi.prototype.Z,Gi.prototype.getResponseJson=Gi.prototype.Oa,Gi.prototype.getResponseText=Gi.prototype.oa,Gi.prototype.send=Gi.prototype.ea,Gi.prototype.setWithCredentials=Gi.prototype.Ha,ye=oe.XhrIo=Gi}).apply(typeof te<"u"?te:typeof self<"u"?self:typeof window<"u"?window:{});const Fe="@firebase/firestore";class it{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}it.UNAUTHENTICATED=new it(null),it.GOOGLE_CREDENTIALS=new it("google-credentials-uid"),it.FIRST_PARTY=new it("first-party-uid"),it.MOCK_USER=new it("mock-user");let He="10.12.1";const ct=new be.Yd("@firebase/firestore");function At(){return ct.logLevel}function kt(l){ct.setLogLevel(l)}function ve(l,...e){if(ct.logLevel<=be.in.DEBUG){const r=e.map(hr);ct.debug(`Firestore (${He}): ${l}`,...r)}}function jt(l,...e){if(ct.logLevel<=be.in.ERROR){const r=e.map(hr);ct.error(`Firestore (${He}): ${l}`,...r)}}function an(l,...e){if(ct.logLevel<=be.in.WARN){const r=e.map(hr);ct.warn(`Firestore (${He}): ${l}`,...r)}}function hr(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch{return l}}function xt(l="Unexpected state"){const e=`FIRESTORE (${He}) INTERNAL ASSERTION FAILED: `+l;throw jt(e),new Error(e)}function Wt(l,e){l||xt()}function cn(l,e){l||xt()}function lt(l,e){return l}const Re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends me.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ke{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Je{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Xe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(it.UNAUTHENTICATED))}shutdown(){}}class ut{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class It{constructor(e){this.t=e,this.currentUser=it.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;let d=this.i;const y=K=>this.i!==d?(d=this.i,r(K)):Promise.resolve();let I=new ke;this.o=()=>{this.i++,this.currentUser=this.u(),I.resolve(),I=new ke,e.enqueueRetryable(()=>y(this.currentUser))};const R=()=>{const K=I;e.enqueueRetryable((0,g.Z)(function*(){yield K.promise,yield y(s.currentUser)}))},L=K=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=K,this.auth.addAuthTokenListener(this.o),R()};this.t.onInit(K=>L(K)),setTimeout(()=>{if(!this.auth){const K=this.t.getImmediate({optional:!0});K?L(K):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),I.resolve(),I=new ke)}},0),R()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Wt("string"==typeof s.accessToken),new Je(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Wt(null===e||"string"==typeof e),new it(e)}}class Gt{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=it.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ht{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new Gt(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(it.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const s=y=>{null!=y.error&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${y.error.message}`);const I=y.token!==this.R;return this.R=y.token,ve("FirebaseAppCheckTokenProvider",`Received ${I?"new":"existing"} token.`),I?r(y.token):Promise.resolve()};this.o=y=>{e.enqueueRetryable(()=>s(y))};const d=y=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=y,this.appCheck.addTokenListener(this.o)};this.A.onInit(y=>d(y)),setTimeout(()=>{if(!this.appCheck){const y=this.A.getImmediate({optional:!0});y?d(y):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Wt("string"==typeof r.token),this.R=r.token,new qt(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Cn(l){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(l);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<l;s++)r[s]=Math.floor(256*Math.random());return r}class Mn{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const d=Cn(40);for(let y=0;y<d.length;++y)s.length<20&&d[y]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(d[y]%62))}return s}}function Kt(l,e){return l<e?-1:l>e?1:0}function Dn(l,e,r){return l.length===e.length&&l.every((s,d)=>r(s,e[d]))}function or(l){return l+"\0"}class Gn{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new fe(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new fe(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new fe(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gn.fromMillis(Date.now())}static fromDate(e){return Gn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new Gn(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Lt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Lt(e)}static min(){return new Lt(new Gn(0,0))}static max(){return new Lt(new Gn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Lr{constructor(e,r,s){void 0===r?r=0:r>e.length&&xt(),void 0===s?s=e.length-r:s>e.length-r&&xt(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===Lr.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Lr?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let d=0;d<s;d++){const y=e.get(d),I=r.get(d);if(y<I)return-1;if(y>I)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class In extends Lr{construct(e,r,s){return new In(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(Re.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(d=>d.length>0))}return new In(r)}static emptyPath(){return new In([])}}const Ar=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yn extends Lr{construct(e,r,s){return new Yn(e,r,s)}static isValidIdentifier(e){return Ar.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Yn(["__name__"])}static fromServerFormat(e){const r=[];let s="",d=0;const y=()=>{if(0===s.length)throw new fe(Re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let I=!1;for(;d<e.length;){const R=e[d];if("\\"===R){if(d+1===e.length)throw new fe(Re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const L=e[d+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new fe(Re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=L,d+=2}else"`"===R?(I=!I,d++):"."!==R||I?(s+=R,d++):(y(),d++)}if(y(),I)throw new fe(Re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yn(r)}static emptyPath(){return new Yn([])}}class Vt{constructor(e){this.path=e}static fromPath(e){return new Vt(In.fromString(e))}static fromName(e){return new Vt(In.fromString(e).popFirst(5))}static empty(){return new Vt(In.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===In.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return In.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Vt(new In(e.slice()))}}class bn{constructor(e,r,s,d){this.indexId=e,this.collectionGroup=r,this.fields=s,this.indexState=d}}function Rn(l){return l.fields.find(e=>2===e.kind)}function On(l){return l.fields.filter(e=>2!==e.kind)}bn.UNKNOWN_ID=-1;class vr{constructor(e,r){this.fieldPath=e,this.kind=r}}class Hn{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Hn(0,rn.min())}}function $r(l,e){const r=l.toTimestamp().seconds,s=l.toTimestamp().nanoseconds+1,d=Lt.fromTimestamp(1e9===s?new Gn(r+1,0):new Gn(r,s));return new rn(d,Vt.empty(),e)}function pi(l){return new rn(l.readTime,l.key,-1)}class rn{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new rn(Lt.min(),Vt.empty(),-1)}static max(){return new rn(Lt.max(),Vt.empty(),-1)}}function gi(l,e){let r=l.readTime.compareTo(e.readTime);return 0!==r?r:(r=Vt.comparator(l.documentKey,e.documentKey),0!==r?r:Kt(l.largestBatchId,e.largestBatchId))}const tr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Dr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function br(l){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,g.Z)(function*(l){if(l.code!==Re.FAILED_PRECONDITION||l.message!==tr)throw l;ve("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class $e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&xt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new $e((s,d)=>{this.nextCallback=y=>{this.wrapSuccess(e,y).next(s,d)},this.catchCallback=y=>{this.wrapFailure(r,y).next(s,d)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof $e?r:$e.resolve(r)}catch(r){return $e.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):$e.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):$e.reject(r)}static resolve(e){return new $e((r,s)=>{r(e)})}static reject(e){return new $e((r,s)=>{s(e)})}static waitFor(e){return new $e((r,s)=>{let d=0,y=0,I=!1;e.forEach(R=>{++d,R.next(()=>{++y,I&&y===d&&r()},L=>s(L))}),I=!0,y===d&&r()})}static or(e){let r=$e.resolve(!1);for(const s of e)r=r.next(d=>d?$e.resolve(d):s());return r}static forEach(e,r){const s=[];return e.forEach((d,y)=>{s.push(r.call(this,d,y))}),this.waitFor(s)}static mapArray(e,r){return new $e((s,d)=>{const y=e.length,I=new Array(y);let R=0;for(let L=0;L<y;L++){const K=L;r(e[K]).next(se=>{I[K]=se,++R,R===y&&s(I)},se=>d(se))}})}static doWhile(e,r){return new $e((s,d)=>{const y=()=>{!0===e()?r().next(()=>{y()},d):s()};y()})}}class vt{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new ke,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new zt(e,r.error)):this.V.resolve()},this.transaction.onerror=s=>{const d=re(s.target.error);this.V.reject(new zt(e,d))}}static open(e,r,s,d){try{return new vt(r,e.transaction(d,s))}catch(y){throw new zt(r,y)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ve("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new ui(r)}}class ae{constructor(e,r,s){this.name=e,this.version=r,this.p=s,12.2===ae.S((0,me.z$)())&&jt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ve("SimpleDb","Removing database:",e),Er(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,me.hl)())return!1;if(ae.C())return!0;const e=(0,me.z$)(),r=ae.S(e),s=0<r&&r<10,d=Te(e),y=0<d&&d<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||y)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(e){var r=this;return(0,g.Z)(function*(){return r.db||(ve("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,d)=>{const y=indexedDB.open(r.name,r.version);y.onsuccess=I=>{s(I.target.result)},y.onblocked=()=>{d(new zt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},y.onerror=I=>{const R=I.target.error;d("VersionError"===R.name?new fe(Re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===R.name?new fe(Re.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+R):new zt(e,R))},y.onupgradeneeded=I=>{ve("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',I.oldVersion),r.p.O(I.target.result,y.transaction,I.oldVersion,r.version).next(()=>{ve("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=s=>r.N(s)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,s,d){var y=this;return(0,g.Z)(function*(){const I="readonly"===r;let R=0;for(;;){++R;try{y.db=yield y.M(e);const L=vt.open(y.db,e,I?"readonly":"readwrite",s),K=d(L).next(se=>(L.g(),se)).catch(se=>(L.abort(se),$e.reject(se))).toPromise();return K.catch(()=>{}),yield L.m,K}catch(L){const K=L,se="FirebaseError"!==K.name&&R<3;if(ve("SimpleDb","Transaction failed with error:",K.message,"Retrying:",se),y.close(),!se)return Promise.reject(K)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Te(l){const e=l.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class yt{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Er(this.B.delete())}}class zt extends fe{constructor(e,r){super(Re.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Nn(l){return"IndexedDbTransactionError"===l.name}class ui{constructor(e){this.store=e}put(e,r){let s;return void 0!==r?(ve("SimpleDb","PUT",this.store.name,e,r),s=this.store.put(r,e)):(ve("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Er(s)}add(e){return ve("SimpleDb","ADD",this.store.name,e,e),Er(this.store.add(e))}get(e){return Er(this.store.get(e)).next(r=>(void 0===r&&(r=null),ve("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return ve("SimpleDb","DELETE",this.store.name,e),Er(this.store.delete(e))}count(){return ve("SimpleDb","COUNT",this.store.name),Er(this.store.count())}U(e,r){const s=this.options(e,r),d=s.index?this.store.index(s.index):this.store;if("function"==typeof d.getAll){const y=d.getAll(s.range);return new $e((I,R)=>{y.onerror=L=>{R(L.target.error)},y.onsuccess=L=>{I(L.target.result)}})}{const y=this.cursor(s),I=[];return this.W(y,(R,L)=>{I.push(L)}).next(()=>I)}}G(e,r){const s=this.store.getAll(e,null===r?void 0:r);return new $e((d,y)=>{s.onerror=I=>{y(I.target.error)},s.onsuccess=I=>{d(I.target.result)}})}j(e,r){ve("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,r);s.H=!1;const d=this.cursor(s);return this.W(d,(y,I,R)=>R.delete())}J(e,r){let s;r?s=e:(s={},r=e);const d=this.cursor(s);return this.W(d,r)}Y(e){const r=this.cursor({});return new $e((s,d)=>{r.onerror=y=>{const I=re(y.target.error);d(I)},r.onsuccess=y=>{const I=y.target.result;I?e(I.primaryKey,I.value).next(R=>{R?I.continue():s()}):s()}})}W(e,r){const s=[];return new $e((d,y)=>{e.onerror=I=>{y(I.target.error)},e.onsuccess=I=>{const R=I.target.result;if(!R)return void d();const L=new yt(R),K=r(R.primaryKey,R.value,L);if(K instanceof $e){const se=K.catch(ge=>(L.done(),$e.reject(ge)));s.push(se)}L.isDone?d():null===L.K?R.continue():R.continue(L.K)}}).next(()=>$e.waitFor(s))}options(e,r){let s;return void 0!==e&&("string"==typeof e?s=e:r=e),{index:s,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const s=this.store.index(e.index);return e.H?s.openKeyCursor(e.range,r):s.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Er(l){return new $e((e,r)=>{l.onsuccess=s=>{e(s.target.result)},l.onerror=s=>{const d=re(s.target.error);r(d)}})}let xe=!1;function re(l){const e=ae.S((0,me.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(l.message.indexOf(r)>=0){const s=new fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return xe||(xe=!0,setTimeout(()=>{throw s},0)),s}}return l}class W{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;ve("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,g.Z)(function*(){r.task=null;try{ve("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(s){Nn(s)?ve("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield br(s)}yield r.X(6e4)}))}}class ${constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,g.Z)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>r.te(s,e))})()}te(e,r){const s=new Set;let d=r,y=!0;return $e.doWhile(()=>!0===y&&d>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(I=>{if(null!==I&&!s.has(I))return ve("IndexBackfiller",`Processing collection: ${I}`),this.ne(e,I,d).next(R=>{d-=R,s.add(I)});y=!1})).next(()=>r-d)}ne(e,r,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(d=>this.localStore.localDocuments.getNextDocuments(e,r,d,s).next(y=>{const I=y.changes;return this.localStore.indexManager.updateIndexEntries(e,I).next(()=>this.re(d,y)).next(R=>(ve("IndexBackfiller",`Updating offset: ${R}`),this.localStore.indexManager.updateCollectionGroup(e,r,R))).next(()=>I.size)}))}re(e,r){let s=e;return r.changes.forEach((d,y)=>{const I=pi(y);gi(I,s)>0&&(s=I)}),new rn(s.readTime,s.documentKey,Math.max(r.batchId,e.largestBatchId))}}let U=(()=>{class l{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=d=>this.ie(d),this.se=d=>s.writeSequenceNumber(d))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return l.oe=-1,l})();function pe(l){return null==l}function Be(l){return 0===l&&1/l==-1/0}function Tt(l){return"number"==typeof l&&Number.isInteger(l)&&!Be(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}function Ot(l){let e="";for(let r=0;r<l.length;r++)e.length>0&&(e=Xt(e)),e=sn(l.get(r),e);return Xt(e)}function sn(l,e){let r=e;const s=l.length;for(let d=0;d<s;d++){const y=l.charAt(d);switch(y){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=y}}return r}function Xt(l){return l+"\x01\x01"}function ln(l){const e=l.length;if(Wt(e>=2),2===e)return Wt("\x01"===l.charAt(0)&&"\x01"===l.charAt(1)),In.emptyPath();const r=e-2,s=[];let d="";for(let y=0;y<e;){const I=l.indexOf("\x01",y);switch((I<0||I>r)&&xt(),l.charAt(I+1)){case"\x01":const R=l.substring(y,I);let L;0===d.length?L=R:(d+=R,L=d,d=""),s.push(L);break;case"\x10":d+=l.substring(y,I),d+="\0";break;case"\x11":d+=l.substring(y,I+1);break;default:xt()}y=I+2}return new In(s)}const qn=["userId","batchId"];function Ne(l,e){return[l,Ot(e)]}function we(l,e,r){return[l,Ot(e),r]}const Le={},Dt=["prefixPath","collectionGroup","readTime","documentId"],Ut=["prefixPath","collectionGroup","documentId"],un=["collectionGroup","readTime","prefixPath","documentId"],Qt=["canonicalId","targetId"],ar=["targetId","path"],dn=["path","targetId"],nt=["collectionId","parent"],Ke=["indexId","uid"],bt=["uid","sequenceNumber"],en=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],wn=["indexId","uid","orderedDocumentKey"],Sn=["userId","collectionPath","documentId"],yn=["userId","collectionPath","largestBatchId"],Ln=["userId","collectionGroup","largestBatchId"],Tr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ai=[...Tr,"documentOverlays"],Kr=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nr=Kr,bi=[...nr,"indexConfiguration","indexState","indexEntries"],ls=bi;class Qi extends Dr{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function Vr(l,e){const r=lt(l);return ae.F(r._e,e)}function Ao(l){let e=0;for(const r in l)Object.prototype.hasOwnProperty.call(l,r)&&e++;return e}function us(l,e){for(const r in l)Object.prototype.hasOwnProperty.call(l,r)&&e(r,l[r])}function Fc(l){for(const e in l)if(Object.prototype.hasOwnProperty.call(l,e))return!1;return!0}class Yr{constructor(e,r){this.comparator=e,this.root=r||Mi.EMPTY}insert(e,r){return new Yr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Mi.BLACK,null,null))}remove(e){return new Yr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mi.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const d=this.comparator(e,s.key);if(0===d)return r+s.left.size;d<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lc(this.root,e,this.comparator,!0)}}class Lc{constructor(e,r,s,d){this.isReverse=d,this.nodeStack=[];let y=1;for(;!e.isEmpty();)if(y=r?s(e.key,r):1,r&&d&&(y*=-1),y<0)e=this.isReverse?e.left:e.right;else{if(0===y){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mi{constructor(e,r,s,d,y){this.key=e,this.value=r,this.color=s??Mi.RED,this.left=d??Mi.EMPTY,this.right=y??Mi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,d,y){return new Mi(e??this.key,r??this.value,s??this.color,d??this.left,y??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let d=this;const y=s(e,d.key);return d=y<0?d.copy(null,null,null,d.left.insert(e,r,s),null):0===y?d.copy(null,r,null,null,null):d.copy(null,null,null,null,d.right.insert(e,r,s)),d.fixUp()}removeMin(){if(this.left.isEmpty())return Mi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,d=this;if(r(e,d.key)<0)d.left.isEmpty()||d.left.isRed()||d.left.left.isRed()||(d=d.moveRedLeft()),d=d.copy(null,null,null,d.left.remove(e,r),null);else{if(d.left.isRed()&&(d=d.rotateRight()),d.right.isEmpty()||d.right.isRed()||d.right.left.isRed()||(d=d.moveRedRight()),0===r(e,d.key)){if(d.right.isEmpty())return Mi.EMPTY;s=d.right.min(),d=d.copy(s.key,s.value,null,null,d.right.removeMin())}d=d.copy(null,null,null,null,d.right.remove(e,r))}return d.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xt();const e=this.left.check();if(e!==this.right.check())throw xt();return e+(this.isRed()?0:1)}}Mi.EMPTY=null,Mi.RED=!0,Mi.BLACK=!1,Mi.EMPTY=new class{constructor(){this.size=0}get key(){throw xt()}get value(){throw xt()}get color(){throw xt()}get left(){throw xt()}get right(){throw xt()}copy(e,r,s,d,y){return this}insert(e,r,s){return new Mi(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Hr{constructor(e){this.comparator=e,this.data=new Yr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const d=s.getNext();if(this.comparator(d.key,e[1])>=0)return;r(d.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new wa(this.data.getIterator())}getIteratorFrom(e){return new wa(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof Hr)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const d=r.getNext().key,y=s.getNext().key;if(0!==this.comparator(d,y))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Hr(this.comparator);return r.data=e,r}}class wa{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function js(l){return l.hasNext()?l.getNext():void 0}class Bi{constructor(e){this.fields=e,e.sort(Yn.comparator)}static empty(){return new Bi([])}unionWith(e){let r=new Hr(Yn.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new Bi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Dn(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class Ji extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Aa(){return typeof atob<"u"}class Ii{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(d){try{return atob(d)}catch(y){throw typeof DOMException<"u"&&y instanceof DOMException?new Ji("Invalid base64 string: "+y):y}}(e);return new Ii(r)}static fromUint8Array(e){const r=function(d){let y="";for(let I=0;I<d.length;++I)y+=String.fromCharCode(d[I]);return y}(e);return new Ii(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let d=0;d<r.length;d++)s[d]=r.charCodeAt(d);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ii.EMPTY_BYTE_STRING=new Ii("");const Da=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bs(l){if(Wt(!!l),"string"==typeof l){let e=0;const r=Da.exec(l);if(Wt(!!r),r[1]){let d=r[1];d=(d+"000000000").substr(0,9),e=Number(d)}const s=new Date(l);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:mi(l.seconds),nanos:mi(l.nanos)}}function mi(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function Ts(l){return"string"==typeof l?Ii.fromBase64String(l):Ii.fromUint8Array(l)}function Ys(l){var e,r;return"server_timestamp"===(null===(r=((null===(e=l?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Do(l){const e=l.mapValue.fields.__previous_value__;return Ys(e)?Do(e):e}function Xi(l){const e=bs(l.mapValue.fields.__local_write_time__.timestampValue);return new Gn(e.seconds,e.nanos)}class Ho{constructor(e,r,s,d,y,I,R,L,K){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=d,this.ssl=y,this.forceLongPolling=I,this.autoDetectLongPolling=R,this.longPollingOptions=L,this.useFetchStreams=K}}class Un{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Un("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Un&&e.projectId===this.projectId&&e.database===this.database}}const Ur={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ri={nullValue:"NULL_VALUE"};function ji(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?Ys(l)?4:Cr(l)?9007199254740991:10:xt()}function Gr(l,e){if(l===e)return!0;const r=ji(l);if(r!==ji(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===e.booleanValue;case 4:return Xi(l).isEqual(Xi(e));case 3:return function(d,y){if("string"==typeof d.timestampValue&&"string"==typeof y.timestampValue&&d.timestampValue.length===y.timestampValue.length)return d.timestampValue===y.timestampValue;const I=bs(d.timestampValue),R=bs(y.timestampValue);return I.seconds===R.seconds&&I.nanos===R.nanos}(l,e);case 5:return l.stringValue===e.stringValue;case 6:return y=e,Ts(l.bytesValue).isEqual(Ts(y.bytesValue));case 7:return l.referenceValue===e.referenceValue;case 8:return function(d,y){return mi(d.geoPointValue.latitude)===mi(y.geoPointValue.latitude)&&mi(d.geoPointValue.longitude)===mi(y.geoPointValue.longitude)}(l,e);case 2:return function(d,y){if("integerValue"in d&&"integerValue"in y)return mi(d.integerValue)===mi(y.integerValue);if("doubleValue"in d&&"doubleValue"in y){const I=mi(d.doubleValue),R=mi(y.doubleValue);return I===R?Be(I)===Be(R):isNaN(I)&&isNaN(R)}return!1}(l,e);case 9:return Dn(l.arrayValue.values||[],e.arrayValue.values||[],Gr);case 10:return function(d,y){const I=d.mapValue.fields||{},R=y.mapValue.fields||{};if(Ao(I)!==Ao(R))return!1;for(const L in I)if(I.hasOwnProperty(L)&&(void 0===R[L]||!Gr(I[L],R[L])))return!1;return!0}(l,e);default:return xt()}var y}function es(l,e){return void 0!==(l.values||[]).find(r=>Gr(r,e))}function Wi(l,e){if(l===e)return 0;const r=ji(l),s=ji(e);if(r!==s)return Kt(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Kt(l.booleanValue,e.booleanValue);case 2:return function(y,I){const R=mi(y.integerValue||y.doubleValue),L=mi(I.integerValue||I.doubleValue);return R<L?-1:R>L?1:R===L?0:isNaN(R)?isNaN(L)?0:-1:1}(l,e);case 3:return zo(l.timestampValue,e.timestampValue);case 4:return zo(Xi(l),Xi(e));case 5:return Kt(l.stringValue,e.stringValue);case 6:return function(y,I){const R=Ts(y),L=Ts(I);return R.compareTo(L)}(l.bytesValue,e.bytesValue);case 7:return function(y,I){const R=y.split("/"),L=I.split("/");for(let K=0;K<R.length&&K<L.length;K++){const se=Kt(R[K],L[K]);if(0!==se)return se}return Kt(R.length,L.length)}(l.referenceValue,e.referenceValue);case 8:return function(y,I){const R=Kt(mi(y.latitude),mi(I.latitude));return 0!==R?R:Kt(mi(y.longitude),mi(I.longitude))}(l.geoPointValue,e.geoPointValue);case 9:return function(y,I){const R=y.values||[],L=I.values||[];for(let K=0;K<R.length&&K<L.length;++K){const se=Wi(R[K],L[K]);if(se)return se}return Kt(R.length,L.length)}(l.arrayValue,e.arrayValue);case 10:return function(y,I){if(y===Ur.mapValue&&I===Ur.mapValue)return 0;if(y===Ur.mapValue)return 1;if(I===Ur.mapValue)return-1;const R=y.fields||{},L=Object.keys(R),K=I.fields||{},se=Object.keys(K);L.sort(),se.sort();for(let ge=0;ge<L.length&&ge<se.length;++ge){const Oe=Kt(L[ge],se[ge]);if(0!==Oe)return Oe;const ot=Wi(R[L[ge]],K[se[ge]]);if(0!==ot)return ot}return Kt(L.length,se.length)}(l.mapValue,e.mapValue);default:throw xt()}}function zo(l,e){if("string"==typeof l&&"string"==typeof e&&l.length===e.length)return Kt(l,e);const r=bs(l),s=bs(e),d=Kt(r.seconds,s.seconds);return 0!==d?d:Kt(r.nanos,s.nanos)}function ts(l){return $s(l)}function $s(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(r){const s=bs(r);return`time(${s.seconds},${s.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?Ts(l.bytesValue).toBase64():"referenceValue"in l?Vt.fromName(l.referenceValue).toString():"geoPointValue"in l?function(r){return`geo(${r.latitude},${r.longitude})`}(l.geoPointValue):"arrayValue"in l?function(r){let s="[",d=!0;for(const y of r.values||[])d?d=!1:s+=",",s+=$s(y);return s+"]"}(l.arrayValue):"mapValue"in l?function(r){const s=Object.keys(r.fields||{}).sort();let d="{",y=!0;for(const I of s)y?y=!1:d+=",",d+=`${I}:${$s(r.fields[I])}`;return d+"}"}(l.mapValue):xt()}function on(l,e){return{referenceValue:`projects/${l.projectId}/databases/${l.database}/documents/${e.path.canonicalString()}`}}function Wn(l){return!!l&&"integerValue"in l}function Sr(l){return!!l&&"arrayValue"in l}function Di(l){return!!l&&"nullValue"in l}function Qs(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function ei(l){return!!l&&"mapValue"in l}function ds(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const e={mapValue:{fields:{}}};return us(l.mapValue.fields,(r,s)=>e.mapValue.fields[r]=ds(s)),e}if(l.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(l.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=ds(l.arrayValue.values[r]);return e}return Object.assign({},l)}function Cr(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}function hs(l){return"nullValue"in l?ri:"booleanValue"in l?{booleanValue:!1}:"integerValue"in l||"doubleValue"in l?{doubleValue:NaN}:"timestampValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in l?{stringValue:""}:"bytesValue"in l?{bytesValue:""}:"referenceValue"in l?on(Un.empty(),Vt.empty()):"geoPointValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in l?{arrayValue:{}}:"mapValue"in l?{mapValue:{}}:xt()}function yo(l){return"nullValue"in l?{booleanValue:!1}:"booleanValue"in l?{doubleValue:NaN}:"integerValue"in l||"doubleValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in l?{stringValue:""}:"stringValue"in l?{bytesValue:""}:"bytesValue"in l?on(Un.empty(),Vt.empty()):"referenceValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in l?{arrayValue:{}}:"arrayValue"in l?{mapValue:{}}:"mapValue"in l?Ur:xt()}function Zn(l,e){const r=Wi(l.value,e.value);return 0!==r?r:l.inclusive&&!e.inclusive?-1:!l.inclusive&&e.inclusive?1:0}function fs(l,e){const r=Wi(l.value,e.value);return 0!==r?r:l.inclusive&&!e.inclusive?1:!l.inclusive&&e.inclusive?-1:0}class kr{constructor(e){this.value=e}static empty(){return new kr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!ei(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=ds(r)}setAll(e){let r=Yn.emptyPath(),s={},d=[];e.forEach((I,R)=>{if(!r.isImmediateParentOf(R)){const L=this.getFieldsMap(r);this.applyChanges(L,s,d),s={},d=[],r=R.popLast()}I?s[R.lastSegment()]=ds(I):d.push(R.lastSegment())});const y=this.getFieldsMap(r);this.applyChanges(y,s,d)}delete(e){const r=this.field(e.popLast());ei(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Gr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let d=r.mapValue.fields[e.get(s)];ei(d)&&d.mapValue.fields||(d={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=d),r=d}return r.mapValue.fields}applyChanges(e,r,s){us(r,(d,y)=>e[d]=y);for(const d of s)delete e[d]}clone(){return new kr(ds(this.value))}}function Oi(l){const e=[];return us(l.fields,(r,s)=>{const d=new Yn([r]);if(ei(s)){const y=Oi(s.mapValue).fields;if(0===y.length)e.push(d);else for(const I of y)e.push(d.child(I))}else e.push(d)}),new Bi(e)}class Bn{constructor(e,r,s,d,y,I,R){this.key=e,this.documentType=r,this.version=s,this.readTime=d,this.createTime=y,this.data=I,this.documentState=R}static newInvalidDocument(e){return new Bn(e,0,Lt.min(),Lt.min(),Lt.min(),kr.empty(),0)}static newFoundDocument(e,r,s,d){return new Bn(e,1,r,Lt.min(),s,d,0)}static newNoDocument(e,r){return new Bn(e,2,r,Lt.min(),Lt.min(),kr.empty(),0)}static newUnknownDocument(e,r){return new Bn(e,3,r,Lt.min(),Lt.min(),kr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Lt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ps{constructor(e,r){this.position=e,this.inclusive=r}}function Si(l,e,r){let s=0;for(let d=0;d<l.position.length;d++){const y=e[d],I=l.position[d];if(s=y.field.isKeyField()?Vt.comparator(Vt.fromName(I.referenceValue),r.key):Wi(I,r.data.field(y.field)),"desc"===y.dir&&(s*=-1),0!==s)break}return s}function gs(l,e){if(null===l)return null===e;if(null===e||l.inclusive!==e.inclusive||l.position.length!==e.position.length)return!1;for(let r=0;r<l.position.length;r++)if(!Gr(l.position[r],e.position[r]))return!1;return!0}class Ms{constructor(e,r="asc"){this.field=e,this.dir=r}}function Vc(l,e){return l.dir===e.dir&&l.field.isEqual(e.field)}class Hs{}class Jn extends Hs{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new Wo(e,r,s):"array-contains"===r?new $i(e,s):"in"===r?new Ya(e,s):"not-in"===r?new Ps(e,s):"array-contains-any"===r?new Js(e,s):new Jn(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new di(e,s):new Ma(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(Wi(r,this.value)):null!==r&&ji(this.value)===ji(r)&&this.matchesComparison(Wi(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return xt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends Hs{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new fr(e,r)}matches(e){return vo(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function vo(l){return"and"===l.op}function cr(l){return"or"===l.op}function Sa(l){return ns(l)&&vo(l)}function ns(l){for(const e of l.filters)if(e instanceof fr)return!1;return!0}function Ni(l){if(l instanceof Jn)return l.field.canonicalString()+l.op.toString()+ts(l.value);if(Sa(l))return l.filters.map(e=>Ni(e)).join(",");{const e=l.filters.map(r=>Ni(r)).join(",");return`${l.op}(${e})`}}function Cs(l,e){return l instanceof Jn?(s=l,(d=e)instanceof Jn&&s.op===d.op&&s.field.isEqual(d.field)&&Gr(s.value,d.value)):l instanceof fr?function(s,d){return d instanceof fr&&s.op===d.op&&s.filters.length===d.filters.length&&s.filters.reduce((y,I,R)=>y&&Cs(I,d.filters[R]),!0)}(l,e):void xt();var s,d}function ws(l,e){const r=l.filters.concat(e);return fr.create(r,l.op)}function Go(l){return l instanceof Jn?`${(r=l).field.canonicalString()} ${r.op} ${ts(r.value)}`:l instanceof fr?function(r){return r.op.toString()+" {"+r.getFilters().map(Go).join(" ,")+"}"}(l):"Filter";var r}class Wo extends Jn{constructor(e,r,s){super(e,r,s),this.key=Vt.fromName(s.referenceValue)}matches(e){const r=Vt.comparator(e.key,this.key);return this.matchesComparison(r)}}class di extends Jn{constructor(e,r){super(e,"in",r),this.keys=hi(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Ma extends Jn{constructor(e,r){super(e,"not-in",r),this.keys=hi(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function hi(l,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>Vt.fromName(s.referenceValue))}class $i extends Jn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Sr(r)&&es(r.arrayValue,this.value)}}class Ya extends Jn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&es(this.value.arrayValue,r)}}class Ps extends Jn{constructor(e,r){super(e,"not-in",r)}matches(e){if(es(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!es(this.value.arrayValue,r)}}class Js extends Jn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Sr(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>es(this.value.arrayValue,s))}}class ki{constructor(e,r=null,s=[],d=[],y=null,I=null,R=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=d,this.limit=y,this.startAt=I,this.endAt=R,this.ue=null}}function ia(l,e=null,r=[],s=[],d=null,y=null,I=null){return new ki(l,e,r,s,d,y,I)}function rs(l){const e=lt(l);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>Ni(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(y=s).field.canonicalString()+y.dir;var y}).join(","),pe(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>ts(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>ts(s)).join(",")),e.ue=r}return e.ue}function Xs(l,e){if(l.limit!==e.limit||l.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<l.orderBy.length;r++)if(!Vc(l.orderBy[r],e.orderBy[r]))return!1;if(l.filters.length!==e.filters.length)return!1;for(let r=0;r<l.filters.length;r++)if(!Cs(l.filters[r],e.filters[r]))return!1;return l.collectionGroup===e.collectionGroup&&!!l.path.isEqual(e.path)&&!!gs(l.startAt,e.startAt)&&gs(l.endAt,e.endAt)}function Qa(l){return Vt.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}function qo(l,e){return l.filters.filter(r=>r instanceof Jn&&r.field.isEqual(e))}function q(l,e,r){let s=ri,d=!0;for(const y of qo(l,e)){let I=ri,R=!0;switch(y.op){case"<":case"<=":I=hs(y.value);break;case"==":case"in":case">=":I=y.value;break;case">":I=y.value,R=!1;break;case"!=":case"not-in":I=ri}Zn({value:s,inclusive:d},{value:I,inclusive:R})<0&&(s=I,d=R)}if(null!==r)for(let y=0;y<l.orderBy.length;++y)if(l.orderBy[y].field.isEqual(e)){const I=r.position[y];Zn({value:s,inclusive:d},{value:I,inclusive:r.inclusive})<0&&(s=I,d=r.inclusive);break}return{value:s,inclusive:d}}function X(l,e,r){let s=Ur,d=!0;for(const y of qo(l,e)){let I=Ur,R=!0;switch(y.op){case">=":case">":I=yo(y.value),R=!1;break;case"==":case"in":case"<=":I=y.value;break;case"<":I=y.value,R=!1;break;case"!=":case"not-in":I=Ur}fs({value:s,inclusive:d},{value:I,inclusive:R})>0&&(s=I,d=R)}if(null!==r)for(let y=0;y<l.orderBy.length;++y)if(l.orderBy[y].field.isEqual(e)){const I=r.position[y];fs({value:s,inclusive:d},{value:I,inclusive:r.inclusive})>0&&(s=I,d=r.inclusive);break}return{value:s,inclusive:d}}class F{constructor(e,r=null,s=[],d=[],y=null,I="F",R=null,L=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=d,this.limit=y,this.limitType=I,this.startAt=R,this.endAt=L,this.ce=null,this.le=null,this.he=null}}function le(l,e,r,s,d,y,I,R){return new F(l,e,r,s,d,y,I,R)}function Ce(l){return new F(l)}function Tn(l){return 0===l.filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())}function lr(l){return null!==l.collectionGroup}function qi(l){const e=lt(l);if(null===e.ce){e.ce=[];const r=new Set;for(const y of e.explicitOrderBy)e.ce.push(y),r.add(y.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(I){let R=new Hr(Yn.comparator);return I.filters.forEach(L=>{L.getFlattenedFilters().forEach(K=>{K.isInequality()&&(R=R.add(K.field))})}),R})(e).forEach(y=>{r.has(y.canonicalString())||y.isKeyField()||e.ce.push(new Ms(y,s))}),r.has(Yn.keyField().canonicalString())||e.ce.push(new Ms(Yn.keyField(),s))}return e.ce}function ii(l){const e=lt(l);return e.le||(e.le=function El(l,e){if("F"===l.limitType)return ia(l.path,l.collectionGroup,e,l.filters,l.limit,l.startAt,l.endAt);{e=e.map(d=>new Ms(d.field,"desc"===d.dir?"asc":"desc"));const r=l.endAt?new ps(l.endAt.position,l.endAt.inclusive):null,s=l.startAt?new ps(l.startAt.position,l.startAt.inclusive):null;return ia(l.path,l.collectionGroup,e,l.filters,l.limit,r,s)}}(e,qi(l))),e.le}function Ja(l,e){const r=l.filters.concat([e]);return new F(l.path,l.collectionGroup,l.explicitOrderBy.slice(),r,l.limit,l.limitType,l.startAt,l.endAt)}function Xa(l,e,r){return new F(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),e,r,l.startAt,l.endAt)}function Ra(l,e){return Xs(ii(l),ii(e))&&l.limitType===e.limitType}function Uc(l){return`${rs(ii(l))}|lt:${l.limitType}`}function ec(l){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(d=>Go(d)).join(", ")}]`),pe(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(d=>{return`${(I=d).field.canonicalString()} (${I.dir})`;var I}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(d=>ts(d)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(d=>ts(d)).join(",")),`Target(${s})`}(ii(l))}; limitType=${l.limitType})`}function sa(l,e){return e.isFoundDocument()&&function(s,d){const y=d.key.path;return null!==s.collectionGroup?d.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(y):Vt.isDocumentKey(s.path)?s.path.isEqual(y):s.path.isImmediateParentOf(y)}(l,e)&&function(s,d){for(const y of qi(s))if(!y.field.isKeyField()&&null===d.data.field(y.field))return!1;return!0}(l,e)&&function(s,d){for(const y of s.filters)if(!y.matches(d))return!1;return!0}(l,e)&&(d=e,!((s=l).startAt&&!function(I,R,L){const K=Si(I,R,L);return I.inclusive?K<=0:K<0}(s.startAt,qi(s),d)||s.endAt&&!function(I,R,L){const K=Si(I,R,L);return I.inclusive?K>=0:K>0}(s.endAt,qi(s),d)));var s,d}function Bc(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function zs(l){return(e,r)=>{let s=!1;for(const d of qi(l)){const y=eo(d,e,r);if(0!==y)return y;s=s||d.field.isKeyField()}return 0}}function eo(l,e,r){const s=l.field.isKeyField()?Vt.comparator(e.key,r.key):function(y,I,R){const L=I.data.field(y),K=R.data.field(y);return null!==L&&null!==K?Wi(L,K):xt()}(l.field,e,r);switch(l.dir){case"asc":return s;case"desc":return-1*s;default:return xt()}}class Zi{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[d,y]of s)if(this.equalsFn(d,e))return y}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),d=this.inner[s];if(void 0===d)return this.inner[s]=[[e,r]],void this.innerSize++;for(let y=0;y<d.length;y++)if(this.equalsFn(d[y][0],e))return void(d[y]=[e,r]);d.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let d=0;d<s.length;d++)if(this.equalsFn(s[d][0],e))return 1===s.length?delete this.inner[r]:s.splice(d,1),this.innerSize--,!0;return!1}forEach(e){us(this.inner,(r,s)=>{for(const[d,y]of s)e(d,y)})}isEmpty(){return Fc(this.inner)}size(){return this.innerSize}}const td=new Yr(Vt.comparator);function Mr(){return td}const oa=new Yr(Vt.comparator);function Fi(...l){let e=oa;for(const r of l)e=e.insert(r.key,r);return e}function au(l){let e=oa;return l.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function Gs(){return no()}function to(){return no()}function no(){return new Zi(l=>l.toString(),(l,e)=>l.isEqual(e))}const So=new Yr(Vt.comparator),xa=new Hr(Vt.comparator);function ir(...l){let e=xa;for(const r of l)e=e.add(r);return e}const jc=new Hr(Kt);function $c(){return jc}function tc(l,e){if(l.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Be(e)?"-0":e}}function nc(l){return{integerValue:""+l}}function Oa(l,e){return Tt(e)?nc(e):tc(l,e)}class Zo{constructor(){this._=void 0}}function Mo(l,e,r){return l instanceof Hc?function(d,y){const I={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:d.seconds,nanos:d.nanoseconds}}}};return y&&Ys(y)&&(y=Do(y)),y&&(I.fields.__previous_value__=y),{mapValue:I}}(r,e):l instanceof Ko?Th(l,e):l instanceof Po?nd(l,e):function(d,y){const I=Il(d,y),R=ic(I)+ic(d.Pe);return Wn(I)&&Wn(d.Pe)?nc(R):tc(d.serializer,R)}(l,e)}function rc(l,e,r){return l instanceof Ko?Th(l,e):l instanceof Po?nd(l,e):r}function Il(l,e){return l instanceof Na?Wn(s=e)||(y=s)&&"doubleValue"in y?e:{integerValue:0}:null;var s,y}class Hc extends Zo{}class Ko extends Zo{constructor(e){super(),this.elements=e}}function Th(l,e){const r=bl(e);for(const s of l.elements)r.some(d=>Gr(d,s))||r.push(s);return{arrayValue:{values:r}}}class Po extends Zo{constructor(e){super(),this.elements=e}}function nd(l,e){let r=bl(e);for(const s of l.elements)r=r.filter(d=>!Gr(d,s));return{arrayValue:{values:r}}}class Na extends Zo{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function ic(l){return mi(l.integerValue||l.doubleValue)}function bl(l){return Sr(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class ka{constructor(e,r){this.field=e,this.transform=r}}class zc{constructor(e,r){this.version=e,this.transformResults=r}}class ti{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new ti}static exists(e){return new ti(void 0,e)}static updateTime(e){return new ti(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function P(l,e){return void 0!==l.updateTime?e.isFoundDocument()&&e.version.isEqual(l.updateTime):void 0===l.exists||l.exists===e.isFoundDocument()}class ne{}function j(l,e){if(!l.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return l.isNoDocument()?new Qr(l.key,ti.none()):new _n(l.key,l.data,ti.none());{const r=l.data,s=kr.empty();let d=new Hr(Yn.comparator);for(let y of e.fields)if(!d.has(y)){let I=r.field(y);null===I&&y.length>1&&(y=y.popLast(),I=r.field(y)),null===I?s.delete(y):s.set(y,I),d=d.add(y)}return new Pr(l.key,s,new Bi(d.toArray()),ti.none())}}function J(l,e,r){l instanceof _n?function(d,y,I){const R=d.value.clone(),L=Br(d.fieldTransforms,y,I.transformResults);R.setAll(L),y.convertToFoundDocument(I.version,R).setHasCommittedMutations()}(l,e,r):l instanceof Pr?function(d,y,I){if(!P(d.precondition,y))return void y.convertToUnknownDocument(I.version);const R=Br(d.fieldTransforms,y,I.transformResults),L=y.data;L.setAll(Wr(d)),L.setAll(R),y.convertToFoundDocument(I.version,L).setHasCommittedMutations()}(l,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Ie(l,e,r,s){return l instanceof _n?function(y,I,R,L){if(!P(y.precondition,I))return R;const K=y.value.clone(),se=pr(y.fieldTransforms,L,I);return K.setAll(se),I.convertToFoundDocument(I.version,K).setHasLocalMutations(),null}(l,e,r,s):l instanceof Pr?function(y,I,R,L){if(!P(y.precondition,I))return R;const K=pr(y.fieldTransforms,L,I),se=I.data;return se.setAll(Wr(y)),se.setAll(K),I.convertToFoundDocument(I.version,se).setHasLocalMutations(),null===R?null:R.unionWith(y.fieldMask.fields).unionWith(y.fieldTransforms.map(ge=>ge.field))}(l,e,r,s):(R=r,P(l.precondition,I=e)?(I.convertToNoDocument(I.version).setHasLocalMutations(),null):R);var I,R}function _t(l,e){let r=null;for(const s of l.fieldTransforms){const d=e.data.field(s.field),y=Il(s.transform,d||null);null!=y&&(null===r&&(r=kr.empty()),r.set(s.field,y))}return r||null}function Mt(l,e){return l.type===e.type&&!!l.key.isEqual(e.key)&&!!l.precondition.isEqual(e.precondition)&&(d=e.fieldTransforms,!!(void 0===(s=l.fieldTransforms)&&void 0===d||s&&d&&Dn(s,d,(y,I)=>function rd(l,e){return l.field.isEqual(e.field)&&(d=e.transform,(s=l.transform)instanceof Ko&&d instanceof Ko||s instanceof Po&&d instanceof Po?Dn(s.elements,d.elements,Gr):s instanceof Na&&d instanceof Na?Gr(s.Pe,d.Pe):s instanceof Hc&&d instanceof Hc);var s,d}(y,I))))&&(0===l.type?l.value.isEqual(e.value):1!==l.type||l.data.isEqual(e.data)&&l.fieldMask.isEqual(e.fieldMask));var s,d}class _n extends ne{constructor(e,r,s,d=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=d,this.type=0}getFieldMask(){return null}}class Pr extends ne{constructor(e,r,s,d,y=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=d,this.fieldTransforms=y,this.type=1}getFieldMask(){return this.fieldMask}}function Wr(l){const e=new Map;return l.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=l.data.field(r);e.set(r,s)}}),e}function Br(l,e,r){const s=new Map;Wt(l.length===r.length);for(let d=0;d<r.length;d++){const y=l[d],I=y.transform,R=e.data.field(y.field);s.set(y.field,rc(I,R,r[d]))}return s}function pr(l,e,r){const s=new Map;for(const d of l){const y=d.transform,I=r.data.field(d.field);s.set(d.field,Mo(y,I,e))}return s}class Qr extends ne{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Fr extends ne{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Pi{constructor(e,r,s,d){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=d}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let d=0;d<this.mutations.length;d++){const y=this.mutations[d];y.key.isEqual(e.key)&&J(y,e,s[d])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=Ie(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=Ie(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=to();return this.mutations.forEach(d=>{const y=e.get(d.key),I=y.overlayedDocument;let R=this.applyToLocalView(I,y.mutatedFields);R=r.has(d.key)?null:R;const L=j(I,R);null!==L&&s.set(d.key,L),I.isValidDocument()||I.convertToNoDocument(Lt.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),ir())}isEqual(e){return this.batchId===e.batchId&&Dn(this.mutations,e.mutations,(r,s)=>Mt(r,s))&&Dn(this.baseMutations,e.baseMutations,(r,s)=>Mt(r,s))}}class is{constructor(e,r,s,d){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=d}static from(e,r,s){Wt(e.mutations.length===s.length);let d=So;const y=e.mutations;for(let I=0;I<y.length;I++)d=d.insert(y[I].key,s[I].version);return new is(e,r,s,d)}}class Ki{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Rs{constructor(e,r){this.count=e,this.unchangedNames=r}}var si,Qn;function Qo(l){switch(l){default:return xt();case Re.CANCELLED:case Re.UNKNOWN:case Re.DEADLINE_EXCEEDED:case Re.RESOURCE_EXHAUSTED:case Re.INTERNAL:case Re.UNAVAILABLE:case Re.UNAUTHENTICATED:return!1;case Re.INVALID_ARGUMENT:case Re.NOT_FOUND:case Re.ALREADY_EXISTS:case Re.PERMISSION_DENIED:case Re.FAILED_PRECONDITION:case Re.ABORTED:case Re.OUT_OF_RANGE:case Re.UNIMPLEMENTED:case Re.DATA_LOSS:return!0}}function Ws(l){if(void 0===l)return jt("GRPC error has no .code"),Re.UNKNOWN;switch(l){case si.OK:return Re.OK;case si.CANCELLED:return Re.CANCELLED;case si.UNKNOWN:return Re.UNKNOWN;case si.DEADLINE_EXCEEDED:return Re.DEADLINE_EXCEEDED;case si.RESOURCE_EXHAUSTED:return Re.RESOURCE_EXHAUSTED;case si.INTERNAL:return Re.INTERNAL;case si.UNAVAILABLE:return Re.UNAVAILABLE;case si.UNAUTHENTICATED:return Re.UNAUTHENTICATED;case si.INVALID_ARGUMENT:return Re.INVALID_ARGUMENT;case si.NOT_FOUND:return Re.NOT_FOUND;case si.ALREADY_EXISTS:return Re.ALREADY_EXISTS;case si.PERMISSION_DENIED:return Re.PERMISSION_DENIED;case si.FAILED_PRECONDITION:return Re.FAILED_PRECONDITION;case si.ABORTED:return Re.ABORTED;case si.OUT_OF_RANGE:return Re.OUT_OF_RANGE;case si.UNIMPLEMENTED:return Re.UNIMPLEMENTED;case si.DATA_LOSS:return Re.DATA_LOSS;default:return xt()}}(Qn=si||(si={}))[Qn.OK=0]="OK",Qn[Qn.CANCELLED=1]="CANCELLED",Qn[Qn.UNKNOWN=2]="UNKNOWN",Qn[Qn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qn[Qn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qn[Qn.NOT_FOUND=5]="NOT_FOUND",Qn[Qn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qn[Qn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qn[Qn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qn[Qn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qn[Qn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qn[Qn.ABORTED=10]="ABORTED",Qn[Qn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qn[Qn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qn[Qn.INTERNAL=13]="INTERNAL",Qn[Qn.UNAVAILABLE=14]="UNAVAILABLE",Qn[Qn.DATA_LOSS=15]="DATA_LOSS";function aa(){return new TextEncoder}const Ro=new De([4294967295,4294967295],0);function As(l){const e=aa().encode(l),r=new We;return r.update(e),new Uint8Array(r.digest())}function cu(l){const e=new DataView(l.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),d=e.getUint32(8,!0),y=e.getUint32(12,!0);return[new De([r,s],0),new De([d,y],0)]}class Tl{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new Jo(`Invalid padding: ${r}`);if(s<0)throw new Jo(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Jo(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new Jo(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=De.fromNumber(this.Ie)}Ee(e,r,s){let d=e.add(r.multiply(De.fromNumber(s)));return 1===d.compare(Ro)&&(d=new De([d.getBits(0),d.getBits(1)],0)),d.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=As(e),[s,d]=cu(r);for(let y=0;y<this.hashCount;y++){const I=this.Ee(s,d,y);if(!this.de(I))return!1}return!0}static create(e,r,s){const d=e%8==0?0:8-e%8,y=new Uint8Array(Math.ceil(e/8)),I=new Tl(y,d,r);return s.forEach(R=>I.insert(R)),I}insert(e){if(0===this.Ie)return;const r=As(e),[s,d]=cu(r);for(let y=0;y<this.hashCount;y++){const I=this.Ee(s,d,y);this.Ae(I)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class Jo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ds{constructor(e,r,s,d,y){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=d,this.resolvedLimboDocuments=y}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const d=new Map;return d.set(e,Gc.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new Ds(Lt.min(),d,new Yr(Kt),Mr(),ir())}}class Gc{constructor(e,r,s,d,y){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=d,this.removedDocuments=y}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new Gc(s,r,ir(),ir(),ir())}}class sc{constructor(e,r,s,d){this.Re=e,this.removedTargetIds=r,this.key=s,this.Ve=d}}class lu{constructor(e,r){this.targetId=e,this.me=r}}class ro{constructor(e,r,s=Ii.EMPTY_BYTE_STRING,d=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=d}}class xo{constructor(){this.fe=0,this.ge=Ch(),this.pe=Ii.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=ir(),r=ir(),s=ir();return this.ge.forEach((d,y)=>{switch(y){case 0:e=e.add(d);break;case 2:r=r.add(d);break;case 1:s=s.add(d);break;default:xt()}}),new Gc(this.pe,this.ye,e,r,s)}ve(){this.we=!1,this.ge=Ch()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Wt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Oo{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mr(),this.qe=id(),this.Qe=new Yr(Kt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const s=this.Ge(r);switch(e.state){case 0:this.ze(r)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.ve(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),s.De(e.resumeToken));break;default:xt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((s,d)=>{this.ze(d)&&r(d)})}He(e){const r=e.targetId,s=e.me.count,d=this.Je(r);if(d){const y=d.target;if(Qa(y))if(0===s){const I=new Vt(y.path);this.Ue(r,I,Bn.newNoDocument(I,Lt.min()))}else Wt(1===s);else{const I=this.Ye(r);if(I!==s){const R=this.Ze(e),L=R?this.Xe(R,e,I):1;0!==L&&(this.je(r),this.Qe=this.Qe.insert(r,2===L?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:d=0},hashCount:y=0}=r;let I,R;try{I=Ts(s).toUint8Array()}catch(L){if(L instanceof Ji)return an("Decoding the base64 bloom filter in existence filter failed ("+L.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw L}try{R=new Tl(I,d,y)}catch(L){return an(L instanceof Jo?"BloomFilter error: ":"Applying bloom filter failed: ",L),null}return 0===R.Ie?null:R}Xe(e,r,s){return r.me.count===s-this.nt(e,r.targetId)?0:2}nt(e,r){const s=this.Le.getRemoteKeysForTarget(r);let d=0;return s.forEach(y=>{const I=this.Le.tt(),R=`projects/${I.projectId}/databases/${I.database}/documents/${y.path.canonicalString()}`;e.mightContain(R)||(this.Ue(r,y,null),d++)}),d}rt(e){const r=new Map;this.Be.forEach((y,I)=>{const R=this.Je(I);if(R){if(y.current&&Qa(R.target)){const L=new Vt(R.target.path);null!==this.ke.get(L)||this.it(I,L)||this.Ue(I,L,Bn.newNoDocument(L,e))}y.be&&(r.set(I,y.Ce()),y.ve())}});let s=ir();this.qe.forEach((y,I)=>{let R=!0;I.forEachWhile(L=>{const K=this.Je(L);return!K||"TargetPurposeLimboResolution"===K.purpose||(R=!1,!1)}),R&&(s=s.add(y))}),this.ke.forEach((y,I)=>I.setReadTime(e));const d=new Ds(e,r,this.Qe,this.ke,s);return this.ke=Mr(),this.qe=id(),this.Qe=new Yr(Kt),d}$e(e,r){if(!this.ze(e))return;const s=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,s),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,s){if(!this.ze(e))return;const d=this.Ge(e);this.it(e,r)?d.Fe(r,1):d.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),s&&(this.ke=this.ke.insert(r,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new xo,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Hr(Kt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||ve("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new xo),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function id(){return new Yr(Vt.comparator)}function Ch(){return new Yr(Vt.comparator)}const Hf={asc:"ASCENDING",desc:"DESCENDING"},Om={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xn={and:"AND",or:"OR"};class sd{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Wc(l,e){return l.useProto3Json||pe(e)?e:{value:e}}function Fa(l,e){return l.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wh(l,e){return l.useProto3Json?e.toBase64():e.toUint8Array()}function od(l,e){return Fa(l,e.toTimestamp())}function Ti(l){return Wt(!!l),Lt.fromTimestamp(function(r){const s=bs(r);return new Gn(s.seconds,s.nanos)}(l))}function La(l,e){return Ah(l,e).canonicalString()}function Ah(l,e){const r=(d=l,new In(["projects",d.projectId,"databases",d.database])).child("documents");var d;return void 0===e?r:r.child(e)}function zf(l){const e=In.fromString(l);return Wt(Ee(e)),e}function ad(l,e){return La(l.databaseId,e.path)}function No(l,e){const r=zf(e);if(r.get(1)!==l.databaseId.projectId)throw new fe(Re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+l.databaseId.projectId);if(r.get(3)!==l.databaseId.database)throw new fe(Re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+l.databaseId.database);return new Vt(cd(r))}function lg(l,e){return La(l.databaseId,e)}function Nt(l){const e=zf(l);return 4===e.length?In.emptyPath():cd(e)}function Nr(l){return new In(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function cd(l){return Wt(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function oc(l,e,r){return{name:ad(l,e),fields:r.value.mapValue.fields}}function ss(l,e,r){const s=No(l,e.name),d=Ti(e.updateTime),y=e.createTime?Ti(e.createTime):Lt.min(),I=new kr({mapValue:{fields:e.fields}}),R=Bn.newFoundDocument(s,d,y,I);return r&&R.setHasCommittedMutations(),r?R.setHasCommittedMutations():R}function ms(l,e){let r;if(e instanceof _n)r={update:oc(l,e.key,e.value)};else if(e instanceof Qr)r={delete:ad(l,e.key)};else if(e instanceof Pr)r={update:oc(l,e.key,e.data),updateMask:ce(e.fieldMask)};else{if(!(e instanceof Fr))return xt();r={verify:ad(l,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(y,I){const R=I.transform;if(R instanceof Hc)return{fieldPath:I.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(R instanceof Ko)return{fieldPath:I.field.canonicalString(),appendMissingElements:{values:R.elements}};if(R instanceof Po)return{fieldPath:I.field.canonicalString(),removeAllFromArray:{values:R.elements}};if(R instanceof Na)return{fieldPath:I.field.canonicalString(),increment:R.Pe};throw xt()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(y=e.precondition).updateTime?{updateTime:od(l,y.updateTime)}:void 0!==y.exists?{exists:y.exists}:xt()),r;var y}function qc(l,e){const r=e.currentDocument?void 0!==(y=e.currentDocument).updateTime?ti.updateTime(Ti(y.updateTime)):void 0!==y.exists?ti.exists(y.exists):ti.none():ti.none(),s=e.updateTransforms?e.updateTransforms.map(d=>function(I,R){let L=null;"setToServerValue"in R?(Wt("REQUEST_TIME"===R.setToServerValue),L=new Hc):"appendMissingElements"in R?L=new Ko(R.appendMissingElements.values||[]):"removeAllFromArray"in R?L=new Po(R.removeAllFromArray.values||[]):"increment"in R?L=new Na(I,R.increment):xt();const K=Yn.fromServerFormat(R.fieldPath);return new ka(K,L)}(l,d)):[];var y;if(e.update){const d=No(l,e.update.name),y=new kr({mapValue:{fields:e.update.fields}});if(e.updateMask){const I=new Bi((e.updateMask.fieldPaths||[]).map(se=>Yn.fromServerFormat(se)));return new Pr(d,y,I,r,s)}return new _n(d,y,r,s)}if(e.delete){const d=No(l,e.delete);return new Qr(d,r)}if(e.verify){const d=No(l,e.verify);return new Fr(d,r)}return xt()}function ld(l,e){return{documents:[lg(l,e.path)]}}function ud(l,e){const r={structuredQuery:{}},s=e.path;let d;null!==e.collectionGroup?(d=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(d=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=lg(l,d);const y=function(K){if(0!==K.length)return z(fr.create(K,"and"))}(e.filters);y&&(r.structuredQuery.where=y);const I=function(K){if(0!==K.length)return K.map(se=>{return{field:w((Oe=se).field),direction:ca(Oe.dir)};var Oe})}(e.orderBy);I&&(r.structuredQuery.orderBy=I);const R=Wc(l,e.limit);return null!==R&&(r.structuredQuery.limit=R),e.startAt&&(r.structuredQuery.startAt={before:(K=e.startAt).inclusive,values:K.position}),e.endAt&&(r.structuredQuery.endAt=function(K){return{before:!K.inclusive,values:K.position}}(e.endAt)),{_t:r,parent:d};var K}function xs(l){let e=Nt(l.parent);const r=l.structuredQuery,s=r.from?r.from.length:0;let d=null;if(s>0){Wt(1===s);const se=r.from[0];se.allDescendants?d=se.collectionId:e=e.child(se.collectionId)}let y=[];r.where&&(y=function(ge){const Oe=dd(ge);return Oe instanceof fr&&Sa(Oe)?Oe.getFilters():[Oe]}(r.where));let I=[];r.orderBy&&(I=r.orderBy.map(Oe=>{return new Ms(N((Rt=Oe).field),function(Bt){switch(Bt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Rt.direction));var Rt}));let R=null;r.limit&&(R=function(ge){let Oe;return Oe="object"==typeof ge?ge.value:ge,pe(Oe)?null:Oe}(r.limit));let L=null;var ge;r.startAt&&(L=new ps((ge=r.startAt).values||[],!!ge.before));let K=null;return r.endAt&&(K=function(ge){return new ps(ge.values||[],!ge.before)}(r.endAt)),le(e,d,I,y,R,"F",L,K)}function dd(l){return void 0!==l.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=N(r.unaryFilter.field);return Jn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const d=N(r.unaryFilter.field);return Jn.create(d,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const y=N(r.unaryFilter.field);return Jn.create(y,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const I=N(r.unaryFilter.field);return Jn.create(I,"!=",{nullValue:"NULL_VALUE"});default:return xt()}}(l):void 0!==l.fieldFilter?Jn.create(N((r=l).fieldFilter.field),function(d){switch(d){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xt()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==l.compositeFilter?function(r){return fr.create(r.compositeFilter.filters.map(s=>dd(s)),function(d){switch(d){case"AND":return"and";case"OR":return"or";default:return xt()}}(r.compositeFilter.op))}(l):xt();var r}function ca(l){return Hf[l]}function S(l){return Om[l]}function O(l){return Xn[l]}function w(l){return{fieldPath:l.canonicalString()}}function N(l){return Yn.fromServerFormat(l.fieldPath)}function z(l){return l instanceof Jn?function(r){if("=="===r.op){if(Qs(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NAN"}};if(Di(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Qs(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NOT_NAN"}};if(Di(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:w(r.field),op:S(r.op),value:r.value}}}(l):l instanceof fr?function(r){const s=r.getFilters().map(d=>z(d));return 1===s.length?s[0]:{compositeFilter:{op:O(r.op),filters:s}}}(l):xt()}function ce(l){const e=[];return l.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Ee(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}class ht{constructor(e,r,s,d,y=Lt.min(),I=Lt.min(),R=Ii.EMPTY_BYTE_STRING,L=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=d,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=I,this.resumeToken=R,this.expectedCount=L}withSequenceNumber(e){return new ht(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ht(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ht(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ht(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class pt{constructor(e){this.ct=e}}function _r(l,e){const r=e.key,s={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:qr(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:ad(y=l.ct,(I=e).key),fields:I.data.value.mapValue.fields,updateTime:Fa(y,I.version.toTimestamp()),createTime:Fa(y,I.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:r.path.toArray(),readTime:sr(e.version)};else{if(!e.isUnknownDocument())return xt();s.unknownDocument={path:r.path.toArray(),version:sr(e.version)}}var y,I;return s}function qr(l){const e=l.toTimestamp();return[e.seconds,e.nanoseconds]}function sr(l){const e=l.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function _s(l){const e=new Gn(l.seconds,l.nanoseconds);return Lt.fromTimestamp(e)}function qs(l,e){const r=(e.baseMutations||[]).map(y=>qc(l.ct,y));for(let y=0;y<e.mutations.length-1;++y)y+1<e.mutations.length&&void 0!==e.mutations[y+1].transform&&(e.mutations[y].updateTransforms=e.mutations[y+1].transform.fieldTransforms,e.mutations.splice(y+1,1),++y);const s=e.mutations.map(y=>qc(l.ct,y)),d=Gn.fromMillis(e.localWriteTimeMs);return new Pi(e.batchId,d,r,s)}function io(l){const e=_s(l.readTime),r=void 0!==l.lastLimboFreeSnapshotVersion?_s(l.lastLimboFreeSnapshotVersion):Lt.min();let s;return s=void 0!==l.query.documents?(Wt(1===(y=l.query).documents.length),ii(Ce(Nt(y.documents[0])))):function(y){return ii(xs(y))}(l.query),new ht(s,l.targetId,"TargetPurposeListen",l.lastListenSequenceNumber,e,r,Ii.fromBase64String(l.resumeToken));var y}function cc(l,e){const r=sr(e.snapshotVersion),s=sr(e.lastLimboFreeSnapshotVersion);let d;d=Qa(e.target)?ld(l.ct,e.target):ud(l.ct,e.target)._t;const y=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:rs(e.target),readTime:r,resumeToken:y,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:d}}function so(l){const e=xs({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?Xa(e,e.limit,"L"):e}function du(l,e){return new Ki(e.largestBatchId,qc(l.ct,e.overlayMutation))}function ys(l,e){const r=e.path.lastSegment();return[l,Ot(e.path.popLast()),r]}function Zc(l,e,r,s){return{indexId:l,uid:e,sequenceNumber:r,readTime:sr(s.readTime),documentKey:Ot(s.documentKey.path),largestBatchId:s.largestBatchId}}class fi{getBundleMetadata(e,r){return Gf(e).get(r).next(s=>{if(s)return{id:(y=s).bundleId,createTime:_s(y.createTime),version:y.version};var y})}saveBundleMetadata(e,r){return Gf(e).put({bundleId:(d=r).id,createTime:sr(Ti(d.createTime)),version:d.version});var d}getNamedQuery(e,r){return wl(e).get(r).next(s=>{if(s)return{name:(y=s).name,query:so(y.bundledQuery),readTime:_s(y.readTime)};var y})}saveNamedQuery(e,r){return wl(e).put({name:(d=r).name,readTime:sr(Ti(d.readTime)),bundledQuery:d.bundledQuery});var d}}function Gf(l){return Vr(l,"bundles")}function wl(l){return Vr(l,"namedQueries")}class hu{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new hu(e,r.uid||"")}getOverlay(e,r){return fu(e).get(ys(this.userId,r)).next(s=>s?du(this.serializer,s):null)}getOverlays(e,r){const s=Gs();return $e.forEach(r,d=>this.getOverlay(e,d).next(y=>{null!==y&&s.set(d,y)})).next(()=>s)}saveOverlays(e,r,s){const d=[];return s.forEach((y,I)=>{const R=new Ki(r,I);d.push(this.ht(e,R))}),$e.waitFor(d)}removeOverlaysForBatchId(e,r,s){const d=new Set;r.forEach(I=>d.add(Ot(I.getCollectionPath())));const y=[];return d.forEach(I=>{const R=IDBKeyRange.bound([this.userId,I,s],[this.userId,I,s+1],!1,!0);y.push(fu(e).j("collectionPathOverlayIndex",R))}),$e.waitFor(y)}getOverlaysForCollection(e,r,s){const d=Gs(),y=Ot(r),I=IDBKeyRange.bound([this.userId,y,s],[this.userId,y,Number.POSITIVE_INFINITY],!0);return fu(e).U("collectionPathOverlayIndex",I).next(R=>{for(const L of R){const K=du(this.serializer,L);d.set(K.getKey(),K)}return d})}getOverlaysForCollectionGroup(e,r,s,d){const y=Gs();let I;const R=IDBKeyRange.bound([this.userId,r,s],[this.userId,r,Number.POSITIVE_INFINITY],!0);return fu(e).J({index:"collectionGroupOverlayIndex",range:R},(L,K,se)=>{const ge=du(this.serializer,K);y.size()<d||ge.largestBatchId===I?(y.set(ge.getKey(),ge),I=ge.largestBatchId):se.done()}).next(()=>y)}ht(e,r){return fu(e).put(function(d,y,I){const[R,L,K]=ys(y,I.mutation.key);return{userId:y,collectionPath:L,documentId:K,collectionGroup:I.mutation.key.getCollectionGroup(),largestBatchId:I.largestBatchId,overlayMutation:ms(d.ct,I.mutation)}}(this.serializer,this.userId,r))}}function fu(l){return Vr(l,"documentOverlays")}class la{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(mi(e.integerValue));else if("doubleValue"in e){const s=mi(e.doubleValue);isNaN(s)?this.Et(r,13):(this.Et(r,15),Be(s)?r.dt(0):r.dt(s))}else if("timestampValue"in e){let s=e.timestampValue;this.Et(r,20),"string"==typeof s&&(s=bs(s)),r.At(`${s.seconds||""}`),r.dt(s.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(Ts(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.Et(r,45),r.dt(s.latitude||0),r.dt(s.longitude||0)}else"mapValue"in e?Cr(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):xt()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const s=e.fields||{};this.Et(r,55);for(const d of Object.keys(s))this.Rt(d,r),this.It(s[d],r)}wt(e,r){const s=e.values||[];this.Et(r,50);for(const d of s)this.It(d,r)}gt(e,r){this.Et(r,37),Vt.fromName(e).path.forEach(s=>{this.Et(r,60),this.St(s,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}function Dh(l){if(0===l)return 8;let e=0;return!(l>>4)&&(e+=4,l<<=4),!(l>>6)&&(e+=2,l<<=2),!(l>>7)&&(e+=1),e}function Xo(l){const e=64-function(s){let d=0;for(let y=0;y<8;++y){const I=Dh(255&s[y]);if(d+=I,8!==I)break}return d}(l);return Math.ceil(e/8)}la.bt=new la;class ua{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ct(s.value),s=r.next();this.vt()}Ft(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Mt(s.value),s=r.next();this.xt()}Ot(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Ct(s);else if(s<2048)this.Ct(960|s>>>6),this.Ct(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s);else{const d=r.codePointAt(0);this.Ct(240|d>>>18),this.Ct(128|63&d>>>12),this.Ct(128|63&d>>>6),this.Ct(128|63&d)}}this.vt()}Nt(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Mt(s);else if(s<2048)this.Mt(960|s>>>6),this.Mt(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s);else{const d=r.codePointAt(0);this.Mt(240|d>>>18),this.Mt(128|63&d>>>12),this.Mt(128|63&d>>>6),this.Mt(128|63&d)}}this.xt()}Lt(e){const r=this.Bt(e),s=Xo(r);this.kt(1+s),this.buffer[this.position++]=255&s;for(let d=r.length-s;d<r.length;++d)this.buffer[this.position++]=255&r[d]}qt(e){const r=this.Bt(e),s=Xo(r);this.kt(1+s),this.buffer[this.position++]=~(255&s);for(let d=r.length-s;d<r.length;++d)this.buffer[this.position++]=~(255&r[d])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const r=function(y){const I=new DataView(new ArrayBuffer(8));return I.setFloat64(0,y,!1),new Uint8Array(I.buffer)}(e),s=0!=(128&r[0]);r[0]^=s?255:128;for(let d=1;d<r.length;++d)r[d]^=s?255:0;return r}Ct(e){const r=255&e;0===r?(this.Kt(0),this.Kt(255)):255===r?(this.Kt(255),this.Kt(0)):this.Kt(r)}Mt(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const r=e+this.position;if(r<=this.buffer.length)return;let s=2*this.buffer.length;s<r&&(s=r);const d=new Uint8Array(s);d.set(this.buffer),this.buffer=d}}class Sh{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class Mh{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Eo{constructor(){this.Gt=new ua,this.zt=new Sh(this.Gt),this.jt=new Mh(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class ea{constructor(e,r,s,d){this.indexId=e,this.documentKey=r,this.arrayValue=s,this.directionalValue=d}Jt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(r);return s.set(this.directionalValue,0),r!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new ea(this.indexId,this.documentKey,this.arrayValue,s)}}function Fo(l,e){let r=l.indexId-e.indexId;return 0!==r?r:(r=Wf(l.arrayValue,e.arrayValue),0!==r?r:(r=Wf(l.directionalValue,e.directionalValue),0!==r?r:Vt.comparator(l.documentKey,e.documentKey)))}function Wf(l,e){for(let r=0;r<l.length&&r<e.length;++r){const s=l[r]-e[r];if(0!==s)return s}return l.length-e.length}class hd{constructor(e){this.Yt=new Hr((r,s)=>Yn.comparator(r.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const r of e.filters){const s=r;s.isInequality()?this.Yt=this.Yt.add(s):this.Xt.push(s)}}get en(){return this.Yt.size>1}tn(e){if(Wt(e.collectionGroup===this.collectionId),this.en)return!1;const r=Rn(e);if(void 0!==r&&!this.nn(r))return!1;const s=On(e);let d=new Set,y=0,I=0;for(;y<s.length&&this.nn(s[y]);++y)d=d.add(s[y].fieldPath.canonicalString());if(y===s.length)return!0;if(this.Yt.size>0){const R=this.Yt.getIterator().getNext();if(!d.has(R.field.canonicalString())){const L=s[y];if(!this.rn(R,L)||!this.sn(this.Zt[I++],L))return!1}++y}for(;y<s.length;++y)if(I>=this.Zt.length||!this.sn(this.Zt[I++],s[y]))return!1;return!0}on(){if(this.en)return null;let e=new Hr(Yn.comparator);const r=[];for(const s of this.Xt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)r.push(new vr(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),r.push(new vr(s.field,0))}for(const s of this.Zt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),r.push(new vr(s.field,"asc"===s.dir?0:1)));return new bn(bn.UNKNOWN_ID,this.collectionId,r,Hn.empty())}nn(e){for(const r of this.Xt)if(this.rn(r,e))return!0;return!1}rn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function fd(l){var e,r;if(Wt(l instanceof Jn||l instanceof fr),l instanceof Jn){if(l instanceof Ya){const d=(null===(r=null===(e=l.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(y=>Jn.create(l.field,"==",y)))||[];return fr.create(d,"or")}return l}const s=l.filters.map(d=>fd(d));return fr.create(s,l.op)}function lc(l){if(0===l.getFilters().length)return[];const e=da(fd(l));return Wt(Nm(e)),Al(e)||pd(e)?[e]:e.getFilters()}function Al(l){return l instanceof Jn}function pd(l){return l instanceof fr&&Sa(l)}function Nm(l){return Al(l)||pd(l)||function(r){if(r instanceof fr&&cr(r)){for(const s of r.getFilters())if(!Al(s)&&!pd(s))return!1;return!0}return!1}(l)}function da(l){if(Wt(l instanceof Jn||l instanceof fr),l instanceof Jn)return l;if(1===l.filters.length)return da(l.filters[0]);const e=l.filters.map(s=>da(s));let r=fr.create(e,l.op);return r=Ph(r),Nm(r)?r:(Wt(r instanceof fr),Wt(vo(r)),Wt(r.filters.length>1),r.filters.reduce((s,d)=>gd(s,d)))}function gd(l,e){let r;return Wt(l instanceof Jn||l instanceof fr),Wt(e instanceof Jn||e instanceof fr),r=l instanceof Jn?e instanceof Jn?fr.create([l,e],"and"):ug(l,e):e instanceof Jn?ug(e,l):function(d,y){if(Wt(d.filters.length>0&&y.filters.length>0),vo(d)&&vo(y))return ws(d,y.getFilters());const I=cr(d)?d:y,R=cr(d)?y:d,L=I.filters.map(K=>gd(K,R));return fr.create(L,"or")}(l,e),Ph(r)}function ug(l,e){if(vo(e))return ws(e,l.getFilters());{const r=e.filters.map(s=>gd(l,s));return fr.create(r,"or")}}function Ph(l){if(Wt(l instanceof Jn||l instanceof fr),l instanceof Jn)return l;const e=l.getFilters();if(1===e.length)return Ph(e[0]);if(ns(l))return l;const r=e.map(d=>Ph(d)),s=[];return r.forEach(d=>{d instanceof Jn?s.push(d):d instanceof fr&&(d.op===l.op?s.push(...d.filters):s.push(d))}),1===s.length?s[0]:fr.create(s,l.op)}class uy{constructor(){this._n=new Rh}addToCollectionParentIndex(e,r){return this._n.add(r),$e.resolve()}getCollectionParents(e,r){return $e.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return $e.resolve()}deleteFieldIndex(e,r){return $e.resolve()}deleteAllFieldIndexes(e){return $e.resolve()}createTargetIndexes(e,r){return $e.resolve()}getDocumentsMatchingTarget(e,r){return $e.resolve(null)}getIndexType(e,r){return $e.resolve(0)}getFieldIndexes(e,r){return $e.resolve([])}getNextCollectionGroupToUpdate(e){return $e.resolve(null)}getMinOffset(e,r){return $e.resolve(rn.min())}getMinOffsetFromCollectionGroup(e,r){return $e.resolve(rn.min())}updateCollectionGroup(e,r,s){return $e.resolve()}updateIndexEntries(e,r){return $e.resolve()}}class Rh{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),d=this.index[r]||new Hr(In.comparator),y=!d.has(s);return this.index[r]=d.add(s),y}has(e){const r=e.lastSegment(),s=e.popLast(),d=this.index[r];return d&&d.has(s)}getEntries(e){return(this.index[e]||new Hr(In.comparator)).toArray()}}const Dl=new Uint8Array(0);class pu{constructor(e,r){this.databaseId=r,this.an=new Rh,this.un=new Zi(s=>rs(s),(s,d)=>Xs(s,d)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.an.has(r)){const s=r.lastSegment(),d=r.popLast();e.addOnCommittedListener(()=>{this.an.add(r)});const y={collectionId:s,parent:Ot(d)};return dg(e).put(y)}return $e.resolve()}getCollectionParents(e,r){const s=[],d=IDBKeyRange.bound([r,""],[or(r),""],!1,!0);return dg(e).U(d).next(y=>{for(const I of y){if(I.collectionId!==r)break;s.push(ln(I.parent))}return s})}addFieldIndex(e,r){const s=Sl(e),d={indexId:(R=r).indexId,collectionGroup:R.collectionGroup,fields:R.fields.map(L=>[L.fieldPath.canonicalString(),L.kind])};var R;delete d.indexId;const y=s.add(d);if(r.indexState){const I=ha(e);return y.next(R=>{I.put(Zc(R,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return y.next()}deleteFieldIndex(e,r){const s=Sl(e),d=ha(e),y=ta(e);return s.delete(r.indexId).next(()=>d.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>y.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Sl(e),s=ta(e),d=ha(e);return r.j().next(()=>s.j()).next(()=>d.j())}createTargetIndexes(e,r){return $e.forEach(this.cn(r),s=>this.getIndexType(e,s).next(d=>{if(0===d||1===d){const y=new hd(s).on();if(null!=y)return this.addFieldIndex(e,y)}}))}getDocumentsMatchingTarget(e,r){const s=ta(e);let d=!0;const y=new Map;return $e.forEach(this.cn(r),I=>this.ln(e,I).next(R=>{d&&(d=!!R),y.set(I,R)})).next(()=>{if(d){let I=ir();const R=[];return $e.forEach(y,(L,K)=>{var kn;ve("IndexedDbIndexManager",`Using index ${kn=L,`id=${kn.indexId}|cg=${kn.collectionGroup}|f=${kn.fields.map(mr=>`${mr.fieldPath}:${mr.kind}`).join(",")}`} to execute ${rs(r)}`);const se=function(kn,mr){const zr=Rn(mr);if(void 0===zr)return null;for(const xr of qo(kn,zr.fieldPath))switch(xr.op){case"array-contains-any":return xr.value.arrayValue.values||[];case"array-contains":return[xr.value]}return null}(K,L),ge=function(kn,mr){const zr=new Map;for(const xr of On(mr))for(const Qe of qo(kn,xr.fieldPath))switch(Qe.op){case"==":case"in":zr.set(xr.fieldPath.canonicalString(),Qe.value);break;case"not-in":case"!=":return zr.set(xr.fieldPath.canonicalString(),Qe.value),Array.from(zr.values())}return null}(K,L),Oe=function(kn,mr){const zr=[];let xr=!0;for(const Qe of On(mr)){const Me=0===Qe.kind?q(kn,Qe.fieldPath,kn.startAt):X(kn,Qe.fieldPath,kn.startAt);zr.push(Me.value),xr&&(xr=Me.inclusive)}return new ps(zr,xr)}(K,L),ot=function(kn,mr){const zr=[];let xr=!0;for(const Qe of On(mr)){const Me=0===Qe.kind?X(kn,Qe.fieldPath,kn.endAt):q(kn,Qe.fieldPath,kn.endAt);zr.push(Me.value),xr&&(xr=Me.inclusive)}return new ps(zr,xr)}(K,L),Rt=this.hn(L,K,Oe),Zt=this.hn(L,K,ot),Bt=this.Pn(L,K,ge),Pn=this.In(L.indexId,se,Rt,Oe.inclusive,Zt,ot.inclusive,Bt);return $e.forEach(Pn,zn=>s.G(zn,r.limit).next(kn=>{kn.forEach(mr=>{const zr=Vt.fromSegments(mr.documentKey);I.has(zr)||(I=I.add(zr),R.push(zr))})}))}).next(()=>R)}return $e.resolve(null)})}cn(e){let r=this.un.get(e);return r||(r=0===e.filters.length?[e]:lc(fr.create(e.filters,"and")).map(s=>ia(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,r),r)}In(e,r,s,d,y,I,R){const L=(null!=r?r.length:1)*Math.max(s.length,y.length),K=L/(null!=r?r.length:1),se=[];for(let ge=0;ge<L;++ge){const Oe=r?this.Tn(r[ge/K]):Dl,ot=this.En(e,Oe,s[ge%K],d),Rt=this.dn(e,Oe,y[ge%K],I),Zt=R.map(Bt=>this.En(e,Oe,Bt,!0));se.push(...this.createRange(ot,Rt,Zt))}return se}En(e,r,s,d){const y=new ea(e,Vt.empty(),r,s);return d?y:y.Jt()}dn(e,r,s,d){const y=new ea(e,Vt.empty(),r,s);return d?y.Jt():y}ln(e,r){const s=new hd(r),d=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,d).next(y=>{let I=null;for(const R of y)s.tn(R)&&(!I||R.fields.length>I.fields.length)&&(I=R);return I})}getIndexType(e,r){let s=2;const d=this.cn(r);return $e.forEach(d,y=>this.ln(e,y).next(I=>{I?0!==s&&I.fields.length<function(L){let K=new Hr(Yn.comparator),se=!1;for(const ge of L.filters)for(const Oe of ge.getFlattenedFilters())Oe.field.isKeyField()||("array-contains"===Oe.op||"array-contains-any"===Oe.op?se=!0:K=K.add(Oe.field));for(const ge of L.orderBy)ge.field.isKeyField()||(K=K.add(ge.field));return K.size+(se?1:0)}(y)&&(s=1):s=0})).next(()=>null!==r.limit&&d.length>1&&2===s?1:s)}An(e,r){const s=new Eo;for(const d of On(e)){const y=r.data.field(d.fieldPath);if(null==y)return null;const I=s.Ht(d.kind);la.bt.Pt(y,I)}return s.Wt()}Tn(e){const r=new Eo;return la.bt.Pt(e,r.Ht(0)),r.Wt()}Rn(e,r){const s=new Eo;return la.bt.Pt(on(this.databaseId,r),s.Ht(function(y){const I=On(y);return 0===I.length?0:I[I.length-1].kind}(e))),s.Wt()}Pn(e,r,s){if(null===s)return[];let d=[];d.push(new Eo);let y=0;for(const I of On(e)){const R=s[y++];for(const L of d)if(this.Vn(r,I.fieldPath)&&Sr(R))d=this.mn(d,I,R);else{const K=L.Ht(I.kind);la.bt.Pt(R,K)}}return this.fn(d)}hn(e,r,s){return this.Pn(e,r,s.position)}fn(e){const r=[];for(let s=0;s<e.length;++s)r[s]=e[s].Wt();return r}mn(e,r,s){const d=[...e],y=[];for(const I of s.arrayValue.values||[])for(const R of d){const L=new Eo;L.seed(R.Wt()),la.bt.Pt(I,L.Ht(r.kind)),y.push(L)}return y}Vn(e,r){return!!e.filters.find(s=>s instanceof Jn&&s.field.isEqual(r)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,r){const s=Sl(e),d=ha(e);return(r?s.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):s.U()).next(y=>{const I=[];return $e.forEach(y,R=>d.get([R.indexId,this.uid]).next(L=>{I.push(function(se,ge){const Oe=ge?new Hn(ge.sequenceNumber,new rn(_s(ge.readTime),new Vt(ln(ge.documentKey)),ge.largestBatchId)):Hn.empty(),ot=se.fields.map(([Rt,Zt])=>new vr(Yn.fromServerFormat(Rt),Zt));return new bn(se.indexId,se.collectionGroup,ot,Oe)}(R,L))})).next(()=>I)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((s,d)=>{const y=s.indexState.sequenceNumber-d.indexState.sequenceNumber;return 0!==y?y:Kt(s.collectionGroup,d.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,s){const d=Sl(e),y=ha(e);return this.gn(e).next(I=>d.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(R=>$e.forEach(R,L=>y.put(Zc(L.indexId,this.uid,I,s)))))}updateIndexEntries(e,r){const s=new Map;return $e.forEach(r,(d,y)=>{const I=s.get(d.collectionGroup);return(I?$e.resolve(I):this.getFieldIndexes(e,d.collectionGroup)).next(R=>(s.set(d.collectionGroup,R),$e.forEach(R,L=>this.pn(e,d,L).next(K=>{const se=this.yn(y,L);return K.isEqual(se)?$e.resolve():this.wn(e,y,L,K,se)}))))})}Sn(e,r,s,d){return ta(e).put({indexId:d.indexId,uid:this.uid,arrayValue:d.arrayValue,directionalValue:d.directionalValue,orderedDocumentKey:this.Rn(s,r.key),documentKey:r.key.path.toArray()})}bn(e,r,s,d){return ta(e).delete([d.indexId,this.uid,d.arrayValue,d.directionalValue,this.Rn(s,r.key),r.key.path.toArray()])}pn(e,r,s){const d=ta(e);let y=new Hr(Fo);return d.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.Rn(s,r)])},(I,R)=>{y=y.add(new ea(s.indexId,r,R.arrayValue,R.directionalValue))}).next(()=>y)}yn(e,r){let s=new Hr(Fo);const d=this.An(r,e);if(null==d)return s;const y=Rn(r);if(null!=y){const I=e.data.field(y.fieldPath);if(Sr(I))for(const R of I.arrayValue.values||[])s=s.add(new ea(r.indexId,e.key,this.Tn(R),d))}else s=s.add(new ea(r.indexId,e.key,Dl,d));return s}wn(e,r,s,d,y){ve("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const I=[];return function(L,K,se,ge,Oe){const ot=L.getIterator(),Rt=K.getIterator();let Zt=js(ot),Bt=js(Rt);for(;Zt||Bt;){let Pn=!1,zn=!1;if(Zt&&Bt){const kn=se(Zt,Bt);kn<0?zn=!0:kn>0&&(Pn=!0)}else null!=Zt?zn=!0:Pn=!0;Pn?(ge(Bt),Bt=js(Rt)):zn?(Oe(Zt),Zt=js(ot)):(Zt=js(ot),Bt=js(Rt))}}(d,y,Fo,R=>{I.push(this.Sn(e,r,s,R))},R=>{I.push(this.bn(e,r,s,R))}),$e.waitFor(I)}gn(e){let r=1;return ha(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,d,y)=>{y.done(),r=d.sequenceNumber+1}).next(()=>r)}createRange(e,r,s){s=s.sort((I,R)=>Fo(I,R)).filter((I,R,L)=>!R||0!==Fo(I,L[R-1]));const d=[];d.push(e);for(const I of s){const R=Fo(I,e),L=Fo(I,r);if(0===R)d[0]=e.Jt();else if(R>0&&L<0)d.push(I),d.push(I.Jt());else if(L>0)break}d.push(r);const y=[];for(let I=0;I<d.length;I+=2){if(this.Dn(d[I],d[I+1]))return[];y.push(IDBKeyRange.bound([d[I].indexId,this.uid,d[I].arrayValue,d[I].directionalValue,Dl,[]],[d[I+1].indexId,this.uid,d[I+1].arrayValue,d[I+1].directionalValue,Dl,[]]))}return y}Dn(e,r){return Fo(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(km)}getMinOffset(e,r){return $e.mapArray(this.cn(r),s=>this.ln(e,s).next(d=>d||xt())).next(km)}}function dg(l){return Vr(l,"collectionParents")}function ta(l){return Vr(l,"indexEntries")}function Sl(l){return Vr(l,"indexConfiguration")}function ha(l){return Vr(l,"indexState")}function km(l){Wt(0!==l.length);let e=l[0].indexState.offset,r=e.largestBatchId;for(let s=1;s<l.length;s++){const d=l[s].indexState.offset;gi(d,e)<0&&(e=d),r<d.largestBatchId&&(r=d.largestBatchId)}return new rn(e.readTime,e.documentKey,r)}const md={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class os{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new os(e,os.DEFAULT_COLLECTION_PERCENTILE,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function hg(l,e,r){const s=l.store("mutations"),d=l.store("documentMutations"),y=[],I=IDBKeyRange.only(r.batchId);let R=0;const L=s.J({range:I},(se,ge,Oe)=>(R++,Oe.delete()));y.push(L.next(()=>{Wt(1===R)}));const K=[];for(const se of r.mutations){const ge=we(e,se.key.path,r.batchId);y.push(d.delete(ge)),K.push(se.key)}return $e.waitFor(y).next(()=>K)}function Os(l){if(!l)return 0;let e;if(l.document)e=l.document;else if(l.unknownDocument)e=l.unknownDocument;else{if(!l.noDocument)throw xt();e=l.noDocument}return JSON.stringify(e).length}os.DEFAULT_COLLECTION_PERCENTILE=10,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,os.DEFAULT=new os(41943040,os.DEFAULT_COLLECTION_PERCENTILE,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),os.DISABLED=new os(-1,0,0);class xh{constructor(e,r,s,d){this.userId=e,this.serializer=r,this.indexManager=s,this.referenceDelegate=d,this.Cn={}}static lt(e,r,s,d){Wt(""!==e.uid);const y=e.isAuthenticated()?e.uid:"";return new xh(y,r,s,d)}checkEmpty(e){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vs(e).J({index:"userMutationsIndex",range:s},(d,y,I)=>{r=!1,I.done()}).next(()=>r)}addMutationBatch(e,r,s,d){const y=fa(e),I=vs(e);return I.add({}).next(R=>{Wt("number"==typeof R);const L=new Pi(R,r,s,d),K=function(ot,Rt,Zt){const Bt=Zt.baseMutations.map(zn=>ms(ot.ct,zn)),Pn=Zt.mutations.map(zn=>ms(ot.ct,zn));return{userId:Rt,batchId:Zt.batchId,localWriteTimeMs:Zt.localWriteTime.toMillis(),baseMutations:Bt,mutations:Pn}}(this.serializer,this.userId,L),se=[];let ge=new Hr((Oe,ot)=>Kt(Oe.canonicalString(),ot.canonicalString()));for(const Oe of d){const ot=we(this.userId,Oe.key.path,R);ge=ge.add(Oe.key.path.popLast()),se.push(I.put(K)),se.push(y.put(ot,Le))}return ge.forEach(Oe=>{se.push(this.indexManager.addToCollectionParentIndex(e,Oe))}),e.addOnCommittedListener(()=>{this.Cn[R]=L.keys()}),$e.waitFor(se).next(()=>L)})}lookupMutationBatch(e,r){return vs(e).get(r).next(s=>s?(Wt(s.userId===this.userId),qs(this.serializer,s)):null)}vn(e,r){return this.Cn[r]?$e.resolve(this.Cn[r]):this.lookupMutationBatch(e,r).next(s=>{if(s){const d=s.keys();return this.Cn[r]=d,d}return null})}getNextMutationBatchAfterBatchId(e,r){const s=r+1,d=IDBKeyRange.lowerBound([this.userId,s]);let y=null;return vs(e).J({index:"userMutationsIndex",range:d},(I,R,L)=>{R.userId===this.userId&&(Wt(R.batchId>=s),y=qs(this.serializer,R)),L.done()}).next(()=>y)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return vs(e).J({index:"userMutationsIndex",range:r,reverse:!0},(d,y,I)=>{s=y.batchId,I.done()}).next(()=>s)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return vs(e).U("userMutationsIndex",r).next(s=>s.map(d=>qs(this.serializer,d)))}getAllMutationBatchesAffectingDocumentKey(e,r){const s=Ne(this.userId,r.path),d=IDBKeyRange.lowerBound(s),y=[];return fa(e).J({range:d},(I,R,L)=>{const[K,se,ge]=I,Oe=ln(se);if(K===this.userId&&r.path.isEqual(Oe))return vs(e).get(ge).next(ot=>{if(!ot)throw xt();Wt(ot.userId===this.userId),y.push(qs(this.serializer,ot))});L.done()}).next(()=>y)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Hr(Kt);const d=[];return r.forEach(y=>{const I=Ne(this.userId,y.path),R=IDBKeyRange.lowerBound(I),L=fa(e).J({range:R},(K,se,ge)=>{const[Oe,ot,Rt]=K,Zt=ln(ot);Oe===this.userId&&y.path.isEqual(Zt)?s=s.add(Rt):ge.done()});d.push(L)}),$e.waitFor(d).next(()=>this.Fn(e,s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,d=s.length+1,y=Ne(this.userId,s),I=IDBKeyRange.lowerBound(y);let R=new Hr(Kt);return fa(e).J({range:I},(L,K,se)=>{const[ge,Oe,ot]=L,Rt=ln(Oe);ge===this.userId&&s.isPrefixOf(Rt)?Rt.length===d&&(R=R.add(ot)):se.done()}).next(()=>this.Fn(e,R))}Fn(e,r){const s=[],d=[];return r.forEach(y=>{d.push(vs(e).get(y).next(I=>{if(null===I)throw xt();Wt(I.userId===this.userId),s.push(qs(this.serializer,I))}))}),$e.waitFor(d).next(()=>s)}removeMutationBatch(e,r){return hg(e._e,this.userId,r).next(s=>(e.addOnCommittedListener(()=>{this.Mn(r.batchId)}),$e.forEach(s,d=>this.referenceDelegate.markPotentiallyOrphaned(e,d))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return $e.resolve();const s=IDBKeyRange.lowerBound([this.userId]),d=[];return fa(e).J({range:s},(y,I,R)=>{if(y[0]===this.userId){const L=ln(y[1]);d.push(L)}else R.done()}).next(()=>{Wt(0===d.length)})})}containsKey(e,r){return _d(e,this.userId,r)}xn(e){return Ml(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function _d(l,e,r){const s=Ne(e,r.path),d=s[1],y=IDBKeyRange.lowerBound(s);let I=!1;return fa(l).J({range:y,H:!0},(R,L,K)=>{const[se,ge,Oe]=R;se===e&&ge===d&&(I=!0),K.done()}).next(()=>I)}function vs(l){return Vr(l,"mutations")}function fa(l){return Vr(l,"documentMutations")}function Ml(l){return Vr(l,"mutationQueues")}class uc{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new uc(0)}static Ln(){return new uc(-1)}}class qf{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Bn(e).next(r=>{const s=new uc(r.highestTargetId);return r.highestTargetId=s.next(),this.kn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(r=>Lt.fromTimestamp(new Gn(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,s){return this.Bn(e).next(d=>(d.highestListenSequenceNumber=r,s&&(d.lastRemoteSnapshotVersion=s.toTimestamp()),r>d.highestListenSequenceNumber&&(d.highestListenSequenceNumber=r),this.kn(e,d)))}addTargetData(e,r){return this.qn(e,r).next(()=>this.Bn(e).next(s=>(s.targetCount+=1,this.Qn(r,s),this.kn(e,s))))}updateTargetData(e,r){return this.qn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Kc(e).delete(r.targetId)).next(()=>this.Bn(e)).next(s=>(Wt(s.targetCount>0),s.targetCount-=1,this.kn(e,s)))}removeTargets(e,r,s){let d=0;const y=[];return Kc(e).J((I,R)=>{const L=io(R);L.sequenceNumber<=r&&null===s.get(L.targetId)&&(d++,y.push(this.removeTargetData(e,L)))}).next(()=>$e.waitFor(y)).next(()=>d)}forEachTarget(e,r){return Kc(e).J((s,d)=>{const y=io(d);r(y)})}Bn(e){return Ci(e).get("targetGlobalKey").next(r=>(Wt(null!==r),r))}kn(e,r){return Ci(e).put("targetGlobalKey",r)}qn(e,r){return Kc(e).put(cc(this.serializer,r))}Qn(e,r){let s=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,s=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Bn(e).next(r=>r.targetCount)}getTargetData(e,r){const s=rs(r),d=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let y=null;return Kc(e).J({range:d,index:"queryTargetsIndex"},(I,R,L)=>{const K=io(R);Xs(r,K.target)&&(y=K,L.done())}).next(()=>y)}addMatchingKeys(e,r,s){const d=[],y=na(e);return r.forEach(I=>{const R=Ot(I.path);d.push(y.put({targetId:s,path:R})),d.push(this.referenceDelegate.addReference(e,s,I))}),$e.waitFor(d)}removeMatchingKeys(e,r,s){const d=na(e);return $e.forEach(r,y=>{const I=Ot(y.path);return $e.waitFor([d.delete([s,I]),this.referenceDelegate.removeReference(e,s,y)])})}removeMatchingKeysForTargetId(e,r){const s=na(e),d=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(d)}getMatchingKeysForTargetId(e,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),d=na(e);let y=ir();return d.J({range:s,H:!0},(I,R,L)=>{const K=ln(I[1]),se=new Vt(K);y=y.add(se)}).next(()=>y)}containsKey(e,r){const s=Ot(r.path),d=IDBKeyRange.bound([s],[or(s)],!1,!0);let y=0;return na(e).J({index:"documentTargetsIndex",H:!0,range:d},([I,R],L,K)=>{0!==I&&(y++,K.done())}).next(()=>y>0)}ot(e,r){return Kc(e).get(r).next(s=>s?io(s):null)}}function Kc(l){return Vr(l,"targets")}function Ci(l){return Vr(l,"targetGlobal")}function na(l){return Vr(l,"targetDocuments")}function Pl([l,e],[r,s]){const d=Kt(l,r);return 0===d?Kt(e,s):d}class Oh{constructor(e){this.Kn=e,this.buffer=new Hr(Pl),this.$n=0}Un(){return++this.$n}Wn(e){const r=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();Pl(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class gu{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var r=this;ve("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,g.Z)(function*(){r.Gn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(s){Nn(s)?ve("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield br(s)}yield r.zn(3e5)}))}}class Yc{constructor(e,r){this.jn=e,this.params=r}calculateTargetCount(e,r){return this.jn.Hn(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(0===r)return $e.resolve(U.oe);const s=new Oh(r);return this.jn.forEachTarget(e,d=>s.Wn(d.sequenceNumber)).next(()=>this.jn.Jn(e,d=>s.Wn(d))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.jn.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),$e.resolve(md)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),md):this.Yn(e,r))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,r){let s,d,y,I,R,L,K;const se=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ge=>(ge>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ge}`),d=this.params.maximumSequenceNumbersToCollect):d=ge,I=Date.now(),this.nthSequenceNumber(e,d))).next(ge=>(s=ge,R=Date.now(),this.removeTargets(e,s,r))).next(ge=>(y=ge,L=Date.now(),this.removeOrphanedDocuments(e,s))).next(ge=>(K=Date.now(),At()<=be.in.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${I-se}ms\n\tDetermined least recently used ${d} in `+(R-I)+`ms\n\tRemoved ${y} targets in `+(L-R)+`ms\n\tRemoved ${ge} documents in `+(K-L)+`ms\nTotal Duration: ${K-se}ms`),$e.resolve({didRun:!0,sequenceNumbersCollected:d,targetsRemoved:y,documentsRemoved:ge})))}}class Zf{constructor(e,r){this.db=e,this.garbageCollector=function yd(l,e){return new Yc(l,e)}(this,r)}Hn(e){const r=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>r.next(d=>s+d))}Zn(e){let r=0;return this.Jn(e,s=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Jn(e,r){return this.Xn(e,(s,d)=>r(d))}addReference(e,r,s){return mu(e,s)}removeReference(e,r,s){return mu(e,s)}removeTargets(e,r,s){return this.db.getTargetCache().removeTargets(e,r,s)}markPotentiallyOrphaned(e,r){return mu(e,r)}er(e,r){return function(d,y){let I=!1;return Ml(d).Y(R=>_d(d,R,y).next(L=>(L&&(I=!0),$e.resolve(!L)))).next(()=>I)}(e,r)}removeOrphanedDocuments(e,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),d=[];let y=0;return this.Xn(e,(I,R)=>{if(R<=r){const L=this.er(e,I).next(K=>{if(!K)return y++,s.getEntry(e,I).next(()=>(s.removeEntry(I,Lt.min()),na(e).delete([0,Ot(I.path)])))});d.push(L)}}).next(()=>$e.waitFor(d)).next(()=>s.apply(e)).next(()=>y)}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,r){return mu(e,r)}Xn(e,r){const s=na(e);let d,y=U.oe;return s.J({index:"documentTargetsIndex"},([I,R],{path:L,sequenceNumber:K})=>{0===I?(y!==U.oe&&r(new Vt(ln(d)),y),y=K,d=L):y=U.oe}).next(()=>{y!==U.oe&&r(new Vt(ln(d)),y)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function mu(l,e){return na(l).put((d=l.currentSequenceNumber,{targetId:0,path:Ot(e.path),sequenceNumber:d}));var d}class dc{constructor(){this.changes=new Zi(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?$e.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Kf{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,s){return pa(e).put(s)}removeEntry(e,r,s){return pa(e).delete(function(y,I){const R=y.path.toArray();return[R.slice(0,R.length-2),R[R.length-2],qr(I),R[R.length-1]]}(r,s))}updateMetadata(e,r){return this.getMetadata(e).next(s=>(s.byteSize+=r,this.tr(e,s)))}getEntry(e,r){let s=Bn.newInvalidDocument(r);return pa(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(hc(r))},(d,y)=>{s=this.nr(r,y)}).next(()=>s)}rr(e,r){let s={size:0,document:Bn.newInvalidDocument(r)};return pa(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(hc(r))},(d,y)=>{s={document:this.nr(r,y),size:Os(y)}}).next(()=>s)}getEntries(e,r){let s=Mr();return this.ir(e,r,(d,y)=>{const I=this.nr(d,y);s=s.insert(d,I)}).next(()=>s)}sr(e,r){let s=Mr(),d=new Yr(Vt.comparator);return this.ir(e,r,(y,I)=>{const R=this.nr(y,I);s=s.insert(y,R),d=d.insert(y,Os(I))}).next(()=>({documents:s,_r:d}))}ir(e,r,s){if(r.isEmpty())return $e.resolve();let d=new Hr(yu);r.forEach(L=>d=d.add(L));const y=IDBKeyRange.bound(hc(d.first()),hc(d.last())),I=d.getIterator();let R=I.getNext();return pa(e).J({index:"documentKeyIndex",range:y},(L,K,se)=>{const ge=Vt.fromSegments([...K.prefixPath,K.collectionGroup,K.documentId]);for(;R&&yu(R,ge)<0;)s(R,null),R=I.getNext();R&&R.isEqual(ge)&&(s(R,K),R=I.hasNext()?I.getNext():null),R?se.$(hc(R)):se.done()}).next(()=>{for(;R;)s(R,null),R=I.hasNext()?I.getNext():null})}getDocumentsMatchingQuery(e,r,s,d,y){const I=r.path,R=[I.popLast().toArray(),I.lastSegment(),qr(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],L=[I.popLast().toArray(),I.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return pa(e).U(IDBKeyRange.bound(R,L,!0)).next(K=>{y?.incrementDocumentReadCount(K.length);let se=Mr();for(const ge of K){const Oe=this.nr(Vt.fromSegments(ge.prefixPath.concat(ge.collectionGroup,ge.documentId)),ge);Oe.isFoundDocument()&&(sa(r,Oe)||d.has(Oe.key))&&(se=se.insert(Oe.key,Oe))}return se})}getAllFromCollectionGroup(e,r,s,d){let y=Mr();const I=kh(r,s),R=kh(r,rn.max());return pa(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(I,R,!0)},(L,K,se)=>{const ge=this.nr(Vt.fromSegments(K.prefixPath.concat(K.collectionGroup,K.documentId)),K);y=y.insert(ge.key,ge),y.size===d&&se.done()}).next(()=>y)}newChangeBuffer(e){return new Nh(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return _u(e).get("remoteDocumentGlobalKey").next(r=>(Wt(!!r),r))}tr(e,r){return _u(e).put("remoteDocumentGlobalKey",r)}nr(e,r){if(r){const s=function mn(l,e){let r;if(e.document)r=ss(l.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Vt.fromSegments(e.noDocument.path),d=_s(e.noDocument.readTime);r=Bn.newNoDocument(s,d),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return xt();{const s=Vt.fromSegments(e.unknownDocument.path),d=_s(e.unknownDocument.version);r=Bn.newUnknownDocument(s,d)}}return e.readTime&&r.setReadTime(function(d){const y=new Gn(d[0],d[1]);return Lt.fromTimestamp(y)}(e.readTime)),r}(this.serializer,r);if(!s.isNoDocument()||!s.version.isEqual(Lt.min()))return s}return Bn.newInvalidDocument(e)}}function Es(l){return new Kf(l)}class Nh extends dc{constructor(e,r){super(),this.ar=e,this.trackRemovals=r,this.ur=new Zi(s=>s.toString(),(s,d)=>s.isEqual(d))}applyChanges(e){const r=[];let s=0,d=new Hr((y,I)=>Kt(y.canonicalString(),I.canonicalString()));return this.changes.forEach((y,I)=>{const R=this.ur.get(y);if(r.push(this.ar.removeEntry(e,y,R.readTime)),I.isValidDocument()){const L=_r(this.ar.serializer,I);d=d.add(y.path.popLast());const K=Os(L);s+=K-R.size,r.push(this.ar.addEntry(e,y,L))}else if(s-=R.size,this.trackRemovals){const L=_r(this.ar.serializer,I.convertToNoDocument(Lt.min()));r.push(this.ar.addEntry(e,y,L))}}),d.forEach(y=>{r.push(this.ar.indexManager.addToCollectionParentIndex(e,y))}),r.push(this.ar.updateMetadata(e,s)),$e.waitFor(r)}getFromCache(e,r){return this.ar.rr(e,r).next(s=>(this.ur.set(r,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,r){return this.ar.sr(e,r).next(({documents:s,_r:d})=>(d.forEach((y,I)=>{this.ur.set(y,{size:I,readTime:s.get(y).readTime})}),s))}}function _u(l){return Vr(l,"remoteDocumentGlobal")}function pa(l){return Vr(l,"remoteDocumentsV14")}function hc(l){const e=l.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function kh(l,e){const r=e.documentKey.path.toArray();return[l,qr(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function yu(l,e){const r=l.path.toArray(),s=e.path.toArray();let d=0;for(let y=0;y<r.length-2&&y<s.length-2;++y)if(d=Kt(r[y],s[y]),d)return d;return d=Kt(r.length,s.length),d||(d=Kt(r[r.length-2],s[s.length-2]),d||Kt(r[r.length-1],s[s.length-1]))}class Qc{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class fc{constructor(e,r,s,d){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=d}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(d=>(s=d,this.remoteDocumentCache.getEntry(e,r))).next(d=>(null!==s&&Ie(s.mutation,d,Bi.empty(),Gn.now()),d))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,ir()).next(()=>s))}getLocalViewOfDocuments(e,r,s=ir()){const d=Gs();return this.populateOverlays(e,d,r).next(()=>this.computeViews(e,r,d,s).next(y=>{let I=Fi();return y.forEach((R,L)=>{I=I.insert(R,L.overlayedDocument)}),I}))}getOverlayedDocuments(e,r){const s=Gs();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,ir()))}populateOverlays(e,r,s){const d=[];return s.forEach(y=>{r.has(y)||d.push(y)}),this.documentOverlayCache.getOverlays(e,d).next(y=>{y.forEach((I,R)=>{r.set(I,R)})})}computeViews(e,r,s,d){let y=Mr();const I=no(),R=no();return r.forEach((L,K)=>{const se=s.get(K.key);d.has(K.key)&&(void 0===se||se.mutation instanceof Pr)?y=y.insert(K.key,K):void 0!==se?(I.set(K.key,se.mutation.getFieldMask()),Ie(se.mutation,K,se.mutation.getFieldMask(),Gn.now())):I.set(K.key,Bi.empty())}),this.recalculateAndSaveOverlays(e,y).next(L=>(L.forEach((K,se)=>I.set(K,se)),r.forEach((K,se)=>{var ge;return R.set(K,new Qc(se,null!==(ge=I.get(K))&&void 0!==ge?ge:null))}),R))}recalculateAndSaveOverlays(e,r){const s=no();let d=new Yr((I,R)=>I-R),y=ir();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(I=>{for(const R of I)R.keys().forEach(L=>{const K=r.get(L);if(null===K)return;let se=s.get(L)||Bi.empty();se=R.applyToLocalView(K,se),s.set(L,se);const ge=(d.get(R.batchId)||ir()).add(L);d=d.insert(R.batchId,ge)})}).next(()=>{const I=[],R=d.getReverseIterator();for(;R.hasNext();){const L=R.getNext(),K=L.key,se=L.value,ge=to();se.forEach(Oe=>{if(!y.has(Oe)){const ot=j(r.get(Oe),s.get(Oe));null!==ot&&ge.set(Oe,ot),y=y.add(Oe)}}),I.push(this.documentOverlayCache.saveOverlays(e,K,ge))}return $e.waitFor(I)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,d){return Vt.isDocumentKey((I=r).path)&&null===I.collectionGroup&&0===I.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):lr(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,d):this.getDocumentsMatchingCollectionQuery(e,r,s,d);var I}getNextDocuments(e,r,s,d){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,d).next(y=>{const I=d-y.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,d-y.size):$e.resolve(Gs());let R=-1,L=y;return I.next(K=>$e.forEach(K,(se,ge)=>(R<ge.largestBatchId&&(R=ge.largestBatchId),y.get(se)?$e.resolve():this.remoteDocumentCache.getEntry(e,se).next(Oe=>{L=L.insert(se,Oe)}))).next(()=>this.populateOverlays(e,K,y)).next(()=>this.computeViews(e,L,K,ir())).next(se=>({batchId:R,changes:au(se)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Vt(r)).next(s=>{let d=Fi();return s.isFoundDocument()&&(d=d.insert(s.key,s)),d})}getDocumentsMatchingCollectionGroupQuery(e,r,s,d){const y=r.collectionGroup;let I=Fi();return this.indexManager.getCollectionParents(e,y).next(R=>$e.forEach(R,L=>{const K=(ge=r,Oe=L.child(y),new F(Oe,null,ge.explicitOrderBy.slice(),ge.filters.slice(),ge.limit,ge.limitType,ge.startAt,ge.endAt));var ge,Oe;return this.getDocumentsMatchingCollectionQuery(e,K,s,d).next(se=>{se.forEach((ge,Oe)=>{I=I.insert(ge,Oe)})})}).next(()=>I))}getDocumentsMatchingCollectionQuery(e,r,s,d){let y;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(I=>(y=I,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,y,d))).next(I=>{y.forEach((L,K)=>{const se=K.getKey();null===I.get(se)&&(I=I.insert(se,Bn.newInvalidDocument(se)))});let R=Fi();return I.forEach((L,K)=>{const se=y.get(L);void 0!==se&&Ie(se.mutation,K,Bi.empty(),Gn.now()),sa(r,K)&&(R=R.insert(L,K))}),R})}}class Va{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return $e.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(d=r).id,version:d.version,createTime:Ti(d.createTime)}),$e.resolve();var d}getNamedQuery(e,r){return $e.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(d=r).name,query:so(d.bundledQuery),readTime:Ti(d.readTime)}),$e.resolve();var d}}class fn{constructor(){this.overlays=new Yr(Vt.comparator),this.hr=new Map}getOverlay(e,r){return $e.resolve(this.overlays.get(r))}getOverlays(e,r){const s=Gs();return $e.forEach(r,d=>this.getOverlay(e,d).next(y=>{null!==y&&s.set(d,y)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((d,y)=>{this.ht(e,r,y)}),$e.resolve()}removeOverlaysForBatchId(e,r,s){const d=this.hr.get(s);return void 0!==d&&(d.forEach(y=>this.overlays=this.overlays.remove(y)),this.hr.delete(s)),$e.resolve()}getOverlaysForCollection(e,r,s){const d=Gs(),y=r.length+1,I=new Vt(r.child("")),R=this.overlays.getIteratorFrom(I);for(;R.hasNext();){const L=R.getNext().value,K=L.getKey();if(!r.isPrefixOf(K.path))break;K.path.length===y&&L.largestBatchId>s&&d.set(L.getKey(),L)}return $e.resolve(d)}getOverlaysForCollectionGroup(e,r,s,d){let y=new Yr((K,se)=>K-se);const I=this.overlays.getIterator();for(;I.hasNext();){const K=I.getNext().value;if(K.getKey().getCollectionGroup()===r&&K.largestBatchId>s){let se=y.get(K.largestBatchId);null===se&&(se=Gs(),y=y.insert(K.largestBatchId,se)),se.set(K.getKey(),K)}}const R=Gs(),L=y.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach((K,se)=>R.set(K,se)),!(R.size()>=d)););return $e.resolve(R)}ht(e,r,s){const d=this.overlays.get(s.key);if(null!==d){const I=this.hr.get(d.largestBatchId).delete(s.key);this.hr.set(d.largestBatchId,I)}this.overlays=this.overlays.insert(s.key,new Ki(r,s));let y=this.hr.get(r);void 0===y&&(y=ir(),this.hr.set(r,y)),this.hr.set(r,y.add(s.key))}}class pc{constructor(){this.Pr=new Hr(Ri.Ir),this.Tr=new Hr(Ri.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const s=new Ri(e,r);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Ar(new Ri(e,r))}Rr(e,r){e.forEach(s=>this.removeReference(s,r))}Vr(e){const r=new Vt(new In([])),s=new Ri(r,e),d=new Ri(r,e+1),y=[];return this.Tr.forEachInRange([s,d],I=>{this.Ar(I),y.push(I.key)}),y}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new Vt(new In([])),s=new Ri(r,e),d=new Ri(r,e+1);let y=ir();return this.Tr.forEachInRange([s,d],I=>{y=y.add(I.key)}),y}containsKey(e){const r=new Ri(e,0),s=this.Pr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class Ri{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return Vt.comparator(e.key,r.key)||Kt(e.pr,r.pr)}static Er(e,r){return Kt(e.pr,r.pr)||Vt.comparator(e.key,r.key)}}class Fm{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new Hr(Ri.Ir)}checkEmpty(e){return $e.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,d){const y=this.yr;this.yr++;const I=new Pi(y,r,s,d);this.mutationQueue.push(I);for(const R of d)this.wr=this.wr.add(new Ri(R.key,y)),this.indexManager.addToCollectionParentIndex(e,R.key.path.popLast());return $e.resolve(I)}lookupMutationBatch(e,r){return $e.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const d=this.br(r+1),y=d<0?0:d;return $e.resolve(this.mutationQueue.length>y?this.mutationQueue[y]:null)}getHighestUnacknowledgedBatchId(){return $e.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return $e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new Ri(r,0),d=new Ri(r,Number.POSITIVE_INFINITY),y=[];return this.wr.forEachInRange([s,d],I=>{const R=this.Sr(I.pr);y.push(R)}),$e.resolve(y)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Hr(Kt);return r.forEach(d=>{const y=new Ri(d,0),I=new Ri(d,Number.POSITIVE_INFINITY);this.wr.forEachInRange([y,I],R=>{s=s.add(R.pr)})}),$e.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,d=s.length+1;let y=s;Vt.isDocumentKey(y)||(y=y.child(""));const I=new Ri(new Vt(y),0);let R=new Hr(Kt);return this.wr.forEachWhile(L=>{const K=L.key.path;return!!s.isPrefixOf(K)&&(K.length===d&&(R=R.add(L.pr)),!0)},I),$e.resolve(this.Dr(R))}Dr(e){const r=[];return e.forEach(s=>{const d=this.Sr(s);null!==d&&r.push(d)}),r}removeMutationBatch(e,r){Wt(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return $e.forEach(r.mutations,d=>{const y=new Ri(d.key,r.batchId);return s=s.delete(y),this.referenceDelegate.markPotentiallyOrphaned(e,d.key)}).next(()=>{this.wr=s})}Mn(e){}containsKey(e,r){const s=new Ri(r,0),d=this.wr.firstAfterOrEqual(s);return $e.resolve(r.isEqual(d&&d.key))}performConsistencyCheck(e){return $e.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class fg{constructor(e){this.vr=e,this.docs=new Yr(Vt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,d=this.docs.get(s),y=d?d.size:0,I=this.vr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:I}),this.size+=I-y,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return $e.resolve(s?s.document.mutableCopy():Bn.newInvalidDocument(r))}getEntries(e,r){let s=Mr();return r.forEach(d=>{const y=this.docs.get(d);s=s.insert(d,y?y.document.mutableCopy():Bn.newInvalidDocument(d))}),$e.resolve(s)}getDocumentsMatchingQuery(e,r,s,d){let y=Mr();const I=r.path,R=new Vt(I.child("")),L=this.docs.getIteratorFrom(R);for(;L.hasNext();){const{key:K,value:{document:se}}=L.getNext();if(!I.isPrefixOf(K.path))break;K.path.length>I.length+1||gi(pi(se),s)<=0||(d.has(se.key)||sa(r,se))&&(y=y.insert(se.key,se.mutableCopy()))}return $e.resolve(y)}getAllFromCollectionGroup(e,r,s,d){xt()}Fr(e,r){return $e.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new Yf(this)}getSize(e){return $e.resolve(this.size)}}class Yf extends dc{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((s,d)=>{d.isValidDocument()?r.push(this.ar.addEntry(e,d)):this.ar.removeEntry(s)}),$e.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class Lm{constructor(e){this.persistence=e,this.Mr=new Zi(r=>rs(r),Xs),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new pc,this.targetCount=0,this.Lr=uc.Nn()}forEachTarget(e,r){return this.Mr.forEach((s,d)=>r(d)),$e.resolve()}getLastRemoteSnapshotVersion(e){return $e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $e.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),$e.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Or&&(this.Or=r),$e.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Lr=new uc(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,$e.resolve()}updateTargetData(e,r){return this.qn(r),$e.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,$e.resolve()}removeTargets(e,r,s){let d=0;const y=[];return this.Mr.forEach((I,R)=>{R.sequenceNumber<=r&&null===s.get(R.targetId)&&(this.Mr.delete(I),y.push(this.removeMatchingKeysForTargetId(e,R.targetId)),d++)}),$e.waitFor(y).next(()=>d)}getTargetCount(e){return $e.resolve(this.targetCount)}getTargetData(e,r){const s=this.Mr.get(r)||null;return $e.resolve(s)}addMatchingKeys(e,r,s){return this.Nr.dr(r,s),$e.resolve()}removeMatchingKeys(e,r,s){this.Nr.Rr(r,s);const d=this.persistence.referenceDelegate,y=[];return d&&r.forEach(I=>{y.push(d.markPotentiallyOrphaned(e,I))}),$e.waitFor(y)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),$e.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Nr.gr(r);return $e.resolve(s)}containsKey(e,r){return $e.resolve(this.Nr.containsKey(r))}}class Qf{constructor(e,r){this.Br={},this.overlays={},this.kr=new U(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Lm(this),this.indexManager=new uy,this.remoteDocumentCache=new fg(s=>this.referenceDelegate.Kr(s)),this.serializer=new pt(r),this.$r=new Va(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new fn,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.Br[e.toKey()];return s||(s=new Fm(r,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,s){ve("MemoryPersistence","Starting transaction:",e);const d=new pg(this.kr.next());return this.referenceDelegate.Ur(),s(d).next(y=>this.referenceDelegate.Wr(d).next(()=>y)).toPromise().then(y=>(d.raiseOnCommittedEvent(),y))}Gr(e,r){return $e.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,r)))}}class pg extends Dr{constructor(e){super(),this.currentSequenceNumber=e}}class Fh{constructor(e){this.persistence=e,this.zr=new pc,this.jr=null}static Hr(e){return new Fh(e)}get Jr(){if(this.jr)return this.jr;throw xt()}addReference(e,r,s){return this.zr.addReference(s,r),this.Jr.delete(s.toString()),$e.resolve()}removeReference(e,r,s){return this.zr.removeReference(s,r),this.Jr.add(s.toString()),$e.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),$e.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(d=>this.Jr.add(d.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(d=>{d.forEach(y=>this.Jr.add(y.toString()))}).next(()=>s.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $e.forEach(this.Jr,s=>{const d=Vt.fromPath(s);return this.Yr(e,d).next(y=>{y||r.removeEntry(d,Lt.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(s=>{s?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return $e.or([()=>$e.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class xl{constructor(e){this.serializer=e}O(e,r,s,d){const y=new vt("createOrUpgrade",r);var L;s<1&&d>=1&&(e.createObjectStore("owner"),(L=e).createObjectStore("mutationQueues",{keyPath:"userId"}),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qn,{unique:!0}),L.createObjectStore("documentMutations"),Jf(e),function(L){L.createObjectStore("remoteDocuments")}(e));let I=$e.resolve();return s<3&&d>=3&&(0!==s&&(function(L){L.deleteObjectStore("targetDocuments"),L.deleteObjectStore("targets"),L.deleteObjectStore("targetGlobal")}(e),Jf(e)),I=I.next(()=>function(L){const K=L.store("targetGlobal"),se={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Lt.min().toTimestamp(),targetCount:0};return K.put("targetGlobalKey",se)}(y))),s<4&&d>=4&&(0!==s&&(I=I.next(()=>function(L,K){return K.store("mutations").U().next(se=>{L.deleteObjectStore("mutations"),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qn,{unique:!0});const ge=K.store("mutations"),Oe=se.map(ot=>ge.put(ot));return $e.waitFor(Oe)})}(e,y))),I=I.next(()=>{!function(L){L.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&d>=5&&(I=I.next(()=>this.Xr(y))),s<6&&d>=6&&(I=I.next(()=>(function(L){L.createObjectStore("remoteDocumentGlobal")}(e),this.ei(y)))),s<7&&d>=7&&(I=I.next(()=>this.ti(y))),s<8&&d>=8&&(I=I.next(()=>this.ni(e,y))),s<9&&d>=9&&(I=I.next(()=>{!function(L){L.objectStoreNames.contains("remoteDocumentChanges")&&L.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&d>=10&&(I=I.next(()=>this.ri(y))),s<11&&d>=11&&(I=I.next(()=>{(function(L){L.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(L){L.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&d>=12&&(I=I.next(()=>{!function(L){const K=L.createObjectStore("documentOverlays",{keyPath:Sn});K.createIndex("collectionPathOverlayIndex",yn,{unique:!1}),K.createIndex("collectionGroupOverlayIndex",Ln,{unique:!1})}(e)})),s<13&&d>=13&&(I=I.next(()=>function(L){const K=L.createObjectStore("remoteDocumentsV14",{keyPath:Dt});K.createIndex("documentKeyIndex",Ut),K.createIndex("collectionGroupIndex",un)}(e)).next(()=>this.ii(e,y)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&d>=14&&(I=I.next(()=>this.si(e,y))),s<15&&d>=15&&(I=I.next(()=>function(L){L.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),L.createObjectStore("indexState",{keyPath:Ke}).createIndex("sequenceNumberIndex",bt,{unique:!1}),L.createObjectStore("indexEntries",{keyPath:en}).createIndex("documentKeyIndex",wn,{unique:!1})}(e))),s<16&&d>=16&&(I=I.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),I}ei(e){let r=0;return e.store("remoteDocuments").J((s,d)=>{r+=Os(d)}).next(()=>{const s={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Xr(e){const r=e.store("mutationQueues"),s=e.store("mutations");return r.U().next(d=>$e.forEach(d,y=>{const I=IDBKeyRange.bound([y.userId,-1],[y.userId,y.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",I).next(R=>$e.forEach(R,L=>{Wt(L.userId===y.userId);const K=qs(this.serializer,L);return hg(e,y.userId,K).next(()=>{})}))}))}ti(e){const r=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(d=>{const y=[];return s.J((I,R)=>{const L=new In(I),K=[0,Ot(L)];y.push(r.get(K).next(se=>se?$e.resolve():r.put({targetId:0,path:Ot(L),sequenceNumber:d.highestListenSequenceNumber})))}).next(()=>$e.waitFor(y))})}ni(e,r){e.createObjectStore("collectionParents",{keyPath:nt});const s=r.store("collectionParents"),d=new Rh,y=I=>{if(d.add(I)){const R=I.lastSegment(),L=I.popLast();return s.put({collectionId:R,parent:Ot(L)})}};return r.store("remoteDocuments").J({H:!0},(I,R)=>{const L=new In(I);return y(L.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([I,R,L],K)=>{const se=ln(R);return y(se.popLast())}))}ri(e){const r=e.store("targets");return r.J((s,d)=>{const y=io(d),I=cc(this.serializer,y);return r.put(I)})}ii(e,r){const s=r.store("remoteDocuments"),d=[];return s.J((y,I)=>{const R=r.store("remoteDocumentsV14"),L=(ge=I,ge.document?new Vt(In.fromString(ge.document.name).popFirst(5)):ge.noDocument?Vt.fromSegments(ge.noDocument.path):ge.unknownDocument?Vt.fromSegments(ge.unknownDocument.path):xt()).path.toArray(),K={prefixPath:L.slice(0,L.length-2),collectionGroup:L[L.length-2],documentId:L[L.length-1],readTime:I.readTime||[0,0],unknownDocument:I.unknownDocument,noDocument:I.noDocument,document:I.document,hasCommittedMutations:!!I.hasCommittedMutations};var ge;d.push(R.put(K))}).next(()=>$e.waitFor(d))}si(e,r){const s=r.store("mutations"),d=Es(this.serializer),y=new Qf(Fh.Hr,this.serializer.ct);return s.U().next(I=>{const R=new Map;return I.forEach(L=>{var K;let se=null!==(K=R.get(L.userId))&&void 0!==K?K:ir();qs(this.serializer,L).keys().forEach(ge=>se=se.add(ge)),R.set(L.userId,se)}),$e.forEach(R,(L,K)=>{const se=new it(K),ge=hu.lt(this.serializer,se),Oe=y.getIndexManager(se),ot=xh.lt(se,this.serializer,Oe,y.referenceDelegate);return new fc(d,ot,ge,Oe).recalculateAndSaveOverlaysForDocumentKeys(new Qi(r,U.oe),L).next()})})}}function Jf(l){l.createObjectStore("targetDocuments",{keyPath:ar}).createIndex("documentTargetsIndex",dn,{unique:!0}),l.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Qt,{unique:!0}),l.createObjectStore("targetGlobal")}const Lh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Hi{constructor(e,r,s,d,y,I,R,L,K,se,ge=16){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=s,this.oi=y,this.window=I,this.document=R,this._i=K,this.ai=se,this.ui=ge,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=Oe=>Promise.resolve(),!Hi.D())throw new fe(Re.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Zf(this,d),this.Ti=r+"main",this.serializer=new pt(L),this.Ei=new ae(this.Ti,this.ui,new xl(this.serializer)),this.Qr=new qf(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Es(this.serializer),this.$r=new fi,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===se&&jt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new fe(Re.FAILED_PRECONDITION,Lh);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new U(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var r=this;return this.Ii=function(){var s=(0,g.Z)(function*(d){if(r.started)return e(d)});return function(d){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var r=(0,g.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,g.Z)(function*(){r.started&&(yield r.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>gc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(r=>{r||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(r=>this.isPrimary&&!r?this.yi(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(Nn(e))return ve("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ve("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return vu(e).get("owner").next(r=>$e.resolve(this.Si(r)))}bi(e){return gc(e).delete(this.clientId)}Di(){var e=this;return(0,g.Z)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const d=Vr(s,"clientMetadata");return d.U().next(y=>{const I=e.vi(y,18e5),R=y.filter(L=>-1===I.indexOf(L));return $e.forEach(R,L=>d.delete(L.clientId)).next(()=>R)})}).catch(()=>[]);if(e.di)for(const s of r)e.di.removeItem(e.Fi(s.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?$e.resolve(!0):vu(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)){if(this.Si(r)&&this.networkEnabled)return!0;if(!this.Si(r)){if(!r.allowTabSynchronization)throw new fe(Re.FAILED_PRECONDITION,Lh);return!1}}return!(!this.networkEnabled||!this.inForeground)||gc(e).U().next(s=>void 0===this.vi(s,5e3).find(d=>!(this.clientId===d.clientId||!(!this.networkEnabled&&d.networkEnabled||!this.inForeground&&d.inForeground&&this.networkEnabled===d.networkEnabled))))}).next(r=>(this.isPrimary!==r&&ve("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,g.Z)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const s=new Qi(r,U.oe);return e.yi(s).next(()=>e.bi(s))}),e.Ei.close(),e.Li()})()}vi(e,r){return e.filter(s=>this.Ci(s.updateTimeMs,r)&&!this.Mi(s.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>gc(e).U().next(r=>this.vi(r,18e5).map(s=>s.clientId)))}get started(){return this.qr}getMutationQueue(e,r){return xh.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new pu(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return hu.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,r,s){ve("IndexedDbPersistence","Starting transaction:",e);const d="readonly"===r?"readonly":"readwrite",y=16===(L=this.ui)?ls:15===L?bi:14===L?nr:13===L?Kr:12===L?Ai:11===L?Tr:void xt();var L;let I;return this.Ei.runTransaction(e,d,y,R=>(I=new Qi(R,this.kr?this.kr.next():U.oe),"readwrite-primary"===r?this.gi(I).next(L=>!!L||this.pi(I)).next(L=>{if(!L)throw jt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new fe(Re.FAILED_PRECONDITION,tr);return s(I)}).next(L=>this.wi(I).next(()=>L)):this.ki(I).next(()=>s(I)))).then(R=>(I.raiseOnCommittedEvent(),R))}ki(e){return vu(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)&&!this.Si(r)&&!(this.ai||this.allowTabSynchronization&&r.allowTabSynchronization))throw new fe(Re.FAILED_PRECONDITION,Lh)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return vu(e).put("owner",r)}static D(){return ae.D()}yi(e){const r=vu(e);return r.get("owner").next(s=>this.Si(s)?(ve("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):$e.resolve())}Ci(e,r){const s=Date.now();return!(e<s-r||e>s&&(jt(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const r=/(?:Version|Mobile)\/1[456]/;(0,me.G6)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var r;try{const s=null!==(null===(r=this.di)||void 0===r?void 0:r.getItem(this.Fi(e)));return ve("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return jt("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){jt("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function vu(l){return Vr(l,"owner")}function gc(l){return Vr(l,"clientMetadata")}function Eu(l,e){let r=l.projectId;return l.isDefaultDatabase||(r+="."+l.database),"firestore/"+e+"/"+r+"/"}class Rr{constructor(e,r,s,d){this.targetId=e,this.fromCache=r,this.qi=s,this.Qi=d}static Ki(e,r){let s=ir(),d=ir();for(const y of r.docChanges)switch(y.type){case 0:s=s.add(y.doc.key);break;case 1:d=d.add(y.doc.key)}return new Rr(e,r.fromCache,s,d)}}class Lo{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Iu{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,me.G6)()?8:Te((0,me.z$)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,s,d){const y={result:null};return this.ji(e,r).next(I=>{y.result=I}).next(()=>{if(!y.result)return this.Hi(e,r,d,s).next(I=>{y.result=I})}).next(()=>{if(y.result)return;const I=new Lo;return this.Ji(e,r,I).next(R=>{if(y.result=R,this.Ui)return this.Yi(e,r,I,R.size)})}).next(()=>y.result)}Yi(e,r,s,d){return s.documentReadCount<this.Wi?(At()<=be.in.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",ec(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),$e.resolve()):(At()<=be.in.DEBUG&&ve("QueryEngine","Query:",ec(r),"scans",s.documentReadCount,"local documents and returns",d,"documents as results."),s.documentReadCount>this.Gi*d?(At()<=be.in.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",ec(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ii(r))):$e.resolve())}ji(e,r){if(Tn(r))return $e.resolve(null);let s=ii(r);return this.indexManager.getIndexType(e,s).next(d=>0===d?null:(null!==r.limit&&1===d&&(r=Xa(r,null,"F"),s=ii(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(y=>{const I=ir(...y);return this.zi.getDocuments(e,I).next(R=>this.indexManager.getMinOffset(e,s).next(L=>{const K=this.Zi(r,R);return this.Xi(r,K,I,L.readTime)?this.ji(e,Xa(r,null,"F")):this.es(e,K,r,L)}))})))}Hi(e,r,s,d){return Tn(r)||d.isEqual(Lt.min())?$e.resolve(null):this.zi.getDocuments(e,s).next(y=>{const I=this.Zi(r,y);return this.Xi(r,I,s,d)?$e.resolve(null):(At()<=be.in.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",d.toString(),ec(r)),this.es(e,I,r,$r(d,-1)).next(R=>R))})}Zi(e,r){let s=new Hr(zs(e));return r.forEach((d,y)=>{sa(e,y)&&(s=s.add(y))}),s}Xi(e,r,s,d){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const y="F"===e.limitType?r.last():r.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(d)>0)}Ji(e,r,s){return At()<=be.in.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",ec(r)),this.zi.getDocumentsMatchingQuery(e,r,rn.min(),s)}es(e,r,s,d){return this.zi.getDocumentsMatchingQuery(e,s,d).next(y=>(r.forEach(I=>{y=y.insert(I.key,I)}),y))}}class mc{constructor(e,r,s,d){this.persistence=e,this.ts=r,this.serializer=d,this.ns=new Yr(Kt),this.rs=new Zi(y=>rs(y),Xs),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(s)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fc(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function Ol(l,e,r,s){return new mc(l,e,r,s)}function Nl(l,e){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,g.Z)(function*(l,e){const r=lt(l);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let d;return r.mutationQueue.getAllMutationBatches(s).next(y=>(d=y,r._s(e),r.mutationQueue.getAllMutationBatches(s))).next(y=>{const I=[],R=[];let L=ir();for(const K of d){I.push(K.batchId);for(const se of K.mutations)L=L.add(se.key)}for(const K of y){R.push(K.batchId);for(const se of K.mutations)L=L.add(se.key)}return r.localDocuments.getDocuments(s,L).next(K=>({us:K,removedBatchIds:I,addedBatchIds:R}))})})})).apply(this,arguments)}function Xf(l){const e=lt(l);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function bu(l,e,r){let s=ir(),d=ir();return r.forEach(y=>s=s.add(y)),e.getEntries(l,s).next(y=>{let I=Mr();return r.forEach((R,L)=>{const K=y.get(R);L.isFoundDocument()!==K.isFoundDocument()&&(d=d.add(R)),L.isNoDocument()&&L.version.isEqual(Lt.min())?(e.removeEntry(R,L.readTime),I=I.insert(R,L)):!K.isValidDocument()||L.version.compareTo(K.version)>0||0===L.version.compareTo(K.version)&&K.hasPendingWrites?(e.addEntry(L),I=I.insert(R,L)):ve("LocalStore","Ignoring outdated watch update for ",R,". Current version:",K.version," Watch version:",L.version)}),{cs:I,ls:d}})}function kl(l,e){const r=lt(l);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Tu(l,e){const r=lt(l);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let d;return r.Qr.getTargetData(s,e).next(y=>y?(d=y,$e.resolve(d)):r.Qr.allocateTargetId(s).next(I=>(d=new ht(e,I,"TargetPurposeListen",s.currentSequenceNumber),r.Qr.addTargetData(s,d).next(()=>d))))}).then(s=>{const d=r.ns.get(s.targetId);return(null===d||s.snapshotVersion.compareTo(d.snapshotVersion)>0)&&(r.ns=r.ns.insert(s.targetId,s),r.rs.set(e,s.targetId)),s})}function Ua(l,e,r){return _i.apply(this,arguments)}function _i(){return(_i=(0,g.Z)(function*(l,e,r){const s=lt(l),d=s.ns.get(e),y=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",y,I=>s.persistence.referenceDelegate.removeTarget(I,d)))}catch(I){if(!Nn(I))throw I;ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${I}`)}s.ns=s.ns.remove(e),s.rs.delete(d.target)})).apply(this,arguments)}function yi(l,e,r){const s=lt(l);let d=Lt.min(),y=ir();return s.persistence.runTransaction("Execute query","readwrite",I=>function(L,K,se){const ge=lt(L),Oe=ge.rs.get(se);return void 0!==Oe?$e.resolve(ge.ns.get(Oe)):ge.Qr.getTargetData(K,se)}(s,I,ii(e)).next(R=>{if(R)return d=R.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(I,R.targetId).next(L=>{y=L})}).next(()=>s.ts.getDocumentsMatchingQuery(I,e,r?d:Lt.min(),r?y:ir())).next(R=>(Vh(s,Bc(e),R),{documents:R,hs:y})))}function Fl(l,e){const r=lt(l),s=lt(r.Qr),d=r.ns.get(e);return d?Promise.resolve(d.target):r.persistence.runTransaction("Get target data","readonly",y=>s.ot(y,e).next(I=>I?I.target:null))}function vd(l,e){const r=lt(l),s=r.ss.get(e)||Lt.min();return r.persistence.runTransaction("Get new document changes","readonly",d=>r.os.getAllFromCollectionGroup(d,e,$r(s,-1),Number.MAX_SAFE_INTEGER)).then(d=>(Vh(r,e,d),d))}function Vh(l,e,r){let s=l.ss.get(e)||Lt.min();r.forEach((d,y)=>{y.readTime.compareTo(s)>0&&(s=y.readTime)}),l.ss.set(e,s)}function Xc(){return(Xc=(0,g.Z)(function*(l,e,r,s){const d=lt(l);let y=ir(),I=Mr();for(const K of r){const se=e.Ps(K.metadata.name);K.document&&(y=y.add(se));const ge=e.Is(K);ge.setReadTime(e.Ts(K.metadata.readTime)),I=I.insert(se,ge)}const R=d.os.newChangeBuffer({trackRemovals:!0}),L=yield Tu(d,(se=s,ii(Ce(In.fromString(`__bundle__/docs/${se}`)))));var se;return d.persistence.runTransaction("Apply bundle documents","readwrite",K=>bu(K,R,I).next(se=>(R.apply(K),se)).next(se=>d.Qr.removeMatchingKeysForTargetId(K,L.targetId).next(()=>d.Qr.addMatchingKeys(K,y,L.targetId)).next(()=>d.localDocuments.getLocalViewOfDocuments(K,se.cs,se.ls)).next(()=>se.cs)))})).apply(this,arguments)}function Ed(l,e){return ep.apply(this,arguments)}function ep(){return(ep=(0,g.Z)(function*(l,e,r=ir()){const s=yield Tu(l,ii(so(e.bundledQuery))),d=lt(l);return d.persistence.runTransaction("Save named query","readwrite",y=>{const I=Ti(e.readTime);if(s.snapshotVersion.compareTo(I)>=0)return d.$r.saveNamedQuery(y,e);const R=s.withResumeToken(Ii.EMPTY_BYTE_STRING,I);return d.ns=d.ns.insert(R.targetId,R),d.Qr.updateTargetData(y,R).next(()=>d.Qr.removeMatchingKeysForTargetId(y,s.targetId)).next(()=>d.Qr.addMatchingKeys(y,r,s.targetId)).next(()=>d.$r.saveNamedQuery(y,e))})})).apply(this,arguments)}function _c(l,e){return`firestore_clients_${l}_${e}`}function Id(l,e,r){let s=`firestore_mutations_${l}_${r}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Ba(l,e){return`firestore_targets_${l}_${e}`}class Cu{constructor(e,r,s,d){this.user=e,this.batchId=r,this.state=s,this.error=d}static Es(e,r,s){const d=JSON.parse(s);let y,I="object"==typeof d&&-1!==["pending","acknowledged","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error);return I&&d.error&&(I="string"==typeof d.error.message&&"string"==typeof d.error.code,I&&(y=new fe(d.error.code,d.error.message))),I?new Cu(e,r,d.state,y):(jt("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class el{constructor(e,r,s){this.targetId=e,this.state=r,this.error=s}static Es(e,r){const s=JSON.parse(r);let d,y="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return y&&s.error&&(y="string"==typeof s.error.message&&"string"==typeof s.error.code,y&&(d=new fe(s.error.code,s.error.message))),y?new el(e,s.state,d):(jt("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class tl{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Es(e,r){const s=JSON.parse(r);let d="object"==typeof s&&s.activeTargetIds instanceof Array,y=$c();for(let I=0;d&&I<s.activeTargetIds.length;++I)d=Tt(s.activeTargetIds[I]),y=y.add(s.activeTargetIds[I]);return d?new tl(e,y):(jt("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class Ll{constructor(e,r){this.clientId=e,this.onlineState=r}static Es(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new Ll(r.clientId,r.onlineState):(jt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class bd{constructor(){this.activeTargetIds=$c()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Uh{constructor(e,r,s,d,y){this.window=e,this.oi=r,this.persistenceKey=s,this.Vs=d,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Yr(Kt),this.started=!1,this.ys=[];const I=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.ws=_c(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new bd),this.bs=new RegExp(`^firestore_clients_${I}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${I}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${I}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(L){return`firestore_bundle_loaded_v2_${L}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,g.Z)(function*(){const r=yield e.syncEngine.Bi();for(const d of r){if(d===e.Vs)continue;const y=e.getItem(_c(e.persistenceKey,d));if(y){const I=tl.Es(d,y);I&&(e.ps=e.ps.insert(I.clientId,I))}}e.Ms();const s=e.storage.getItem(e.vs);if(s){const d=e.xs(s);d&&e.Os(d)}for(const d of e.ys)e.gs(d);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let r=!1;return this.ps.forEach((s,d)=>{d.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,r,s){this.Ls(e,r,s),this.Bs(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Ba(this.persistenceKey,e));if(s){const d=el.Es(e,s);d&&(r=d.state)}}return this.ks.As(e),this.Ms(),r}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ba(this.persistenceKey,e))}updateQueryState(e,r,s){this.qs(e,r,s)}handleUserChange(e,r,s){r.forEach(d=>{this.Bs(d)}),this.currentUser=e,s.forEach(d=>{this.addPendingMutation(d)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return ve("SharedClientState","READ",e,r),r}setItem(e,r){ve("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){ve("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var r=this;const s=e;if(s.storageArea===this.storage){if(ve("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ws)return void jt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,g.Z)(function*(){if(r.started){if(null!==s.key)if(r.bs.test(s.key)){if(null==s.newValue){const d=r.$s(s.key);return r.Us(d,null)}{const d=r.Ws(s.key,s.newValue);if(d)return r.Us(d.clientId,d)}}else if(r.Ds.test(s.key)){if(null!==s.newValue){const d=r.Gs(s.key,s.newValue);if(d)return r.zs(d)}}else if(r.Cs.test(s.key)){if(null!==s.newValue){const d=r.js(s.key,s.newValue);if(d)return r.Hs(d)}}else if(s.key===r.vs){if(null!==s.newValue){const d=r.xs(s.newValue);if(d)return r.Os(d)}}else if(s.key===r.Ss){const d=function(I){let R=U.oe;if(null!=I)try{const L=JSON.parse(I);Wt("number"==typeof L),R=L}catch(L){jt("SharedClientState","Failed to read sequence number from WebStorage",L)}return R}(s.newValue);d!==U.oe&&r.sequenceNumberHandler(d)}else if(s.key===r.Fs){const d=r.Js(s.newValue);yield Promise.all(d.map(y=>r.syncEngine.Ys(y)))}}else r.ys.push(s)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,r,s){const d=new Cu(this.currentUser,e,r,s),y=Id(this.persistenceKey,this.currentUser,e);this.setItem(y,d.ds())}Bs(e){const r=Id(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,r,s){const d=Ba(this.persistenceKey,e),y=new el(e,r,s);this.setItem(d,y.ds())}Ks(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Fs,r)}$s(e){const r=this.bs.exec(e);return r?r[1]:null}Ws(e,r){const s=this.$s(e);return tl.Es(s,r)}Gs(e,r){const s=this.Ds.exec(e),d=Number(s[1]);return Cu.Es(new it(void 0!==s[2]?s[2]:null),d,r)}js(e,r){const s=this.Cs.exec(e),d=Number(s[1]);return el.Es(d,r)}xs(e){return Ll.Es(e)}Js(e){return JSON.parse(e)}zs(e){var r=this;return(0,g.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Zs(e.batchId,e.state,e.error);ve("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,r){const s=r?this.ps.insert(e,r):this.ps.remove(e),d=this.Ns(this.ps),y=this.Ns(s),I=[],R=[];return y.forEach(L=>{d.has(L)||I.push(L)}),d.forEach(L=>{y.has(L)||R.push(L)}),this.syncEngine.eo(I,R).then(()=>{this.ps=s})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let r=$c();return e.forEach((s,d)=>{r=r.unionWith(d.activeTargetIds)}),r}}class nl{constructor(){this.no=new bd,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,s){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new bd,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class yc{io(e){}shutdown(){}}class rl{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let il=null;function Vl(){return null===il?il=268435456+Math.round(2147483648*Math.random()):il++,"0x"+il.toString(16)}const C={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const v="WebChannelConnection";class M extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",d=encodeURIComponent(this.databaseId.projectId),y=encodeURIComponent(this.databaseId.database);this.wo=s+"://"+r.host,this.So=`projects/${d}/databases/${y}`,this.bo="(default)"===this.databaseId.database?`project_id=${d}`:`project_id=${d}&database_id=${y}`}get Do(){return!1}Co(r,s,d,y,I){const R=Vl(),L=this.vo(r,s.toUriEncodedString());ve("RestConnection",`Sending RPC '${r}' ${R}:`,L,d);const K={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(K,y,I),this.Mo(r,L,K,d).then(se=>(ve("RestConnection",`Received RPC '${r}' ${R}: `,se),se),se=>{throw an("RestConnection",`RPC '${r}' ${R} failed with error: `,se,"url: ",L,"request:",d),se})}xo(r,s,d,y,I,R){return this.Co(r,s,d,y,I)}Fo(r,s,d){r["X-Goog-Api-Client"]="gl-js/ fire/"+He,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((y,I)=>r[I]=y),d&&d.headers.forEach((y,I)=>r[I]=y)}vo(r,s){return`${this.wo}/v1/${s}:${C[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,r,s,d){const y=Vl();return new Promise((I,R)=>{const L=new ye;L.setWithCredentials(!0),L.listenOnce(mt.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case ft.NO_ERROR:const se=L.getResponseJson();ve(v,`XHR for RPC '${e}' ${y} received:`,JSON.stringify(se)),I(se);break;case ft.TIMEOUT:ve(v,`RPC '${e}' ${y} timed out`),R(new fe(Re.DEADLINE_EXCEEDED,"Request time out"));break;case ft.HTTP_ERROR:const ge=L.getStatus();if(ve(v,`RPC '${e}' ${y} failed with status:`,ge,"response text:",L.getResponseText()),ge>0){let Oe=L.getResponseJson();Array.isArray(Oe)&&(Oe=Oe[0]);const ot=Oe?.error;if(ot&&ot.status&&ot.message){const Rt=function(Bt){const Pn=Bt.toLowerCase().replace(/_/g,"-");return Object.values(Re).indexOf(Pn)>=0?Pn:Re.UNKNOWN}(ot.status);R(new fe(Rt,ot.message))}else R(new fe(Re.UNKNOWN,"Server responded with status "+L.getStatus()))}else R(new fe(Re.UNAVAILABLE,"Connection failed."));break;default:xt()}}finally{ve(v,`RPC '${e}' ${y} completed.`)}});const K=JSON.stringify(d);ve(v,`RPC '${e}' ${y} sending request:`,d),L.send(r,"POST",K,s,15)})}Oo(e,r,s){const d=Vl(),y=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],I=qe(),R=nn(),L={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},K=this.longPollingOptions.timeoutSeconds;void 0!==K&&(L.longPollingTimeout=Math.round(1e3*K)),this.useFetchStreams&&(L.xmlHttpFactory=new st({})),this.Fo(L.initMessageHeaders,r,s),L.encodeInitMessageHeaders=!0;const se=y.join("");ve(v,`Creating RPC '${e}' stream ${d}: ${se}`,L);const ge=I.createWebChannel(se,L);let Oe=!1,ot=!1;const Rt=new _({lo:Bt=>{ot?ve(v,`Not sending because RPC '${e}' stream ${d} is closed:`,Bt):(Oe||(ve(v,`Opening RPC '${e}' stream ${d} transport.`),ge.open(),Oe=!0),ve(v,`RPC '${e}' stream ${d} sending:`,Bt),ge.send(Bt))},ho:()=>ge.close()}),Zt=(Bt,Pn,zn)=>{Bt.listen(Pn,kn=>{try{zn(kn)}catch(mr){setTimeout(()=>{throw mr},0)}})};return Zt(ge,rt.EventType.OPEN,()=>{ot||(ve(v,`RPC '${e}' stream ${d} transport opened.`),Rt.mo())}),Zt(ge,rt.EventType.CLOSE,()=>{ot||(ot=!0,ve(v,`RPC '${e}' stream ${d} transport closed`),Rt.po())}),Zt(ge,rt.EventType.ERROR,Bt=>{ot||(ot=!0,an(v,`RPC '${e}' stream ${d} transport errored:`,Bt),Rt.po(new fe(Re.UNAVAILABLE,"The operation could not be completed")))}),Zt(ge,rt.EventType.MESSAGE,Bt=>{var Pn;if(!ot){const zn=Bt.data[0];Wt(!!zn);const mr=zn.error||(null===(Pn=zn[0])||void 0===Pn?void 0:Pn.error);if(mr){ve(v,`RPC '${e}' stream ${d} received error:`,mr);const zr=mr.status;let xr=function(je){const Ge=si[je];if(void 0!==Ge)return Ws(Ge)}(zr),Qe=mr.message;void 0===xr&&(xr=Re.INTERNAL,Qe="Unknown error status: "+zr+" with message "+mr.message),ot=!0,Rt.po(new fe(xr,Qe)),ge.close()}else ve(v,`RPC '${e}' stream ${d} received:`,zn),Rt.yo(zn)}}),Zt(R,Et.STAT_EVENT,Bt=>{Bt.stat===wt.PROXY?ve(v,`RPC '${e}' stream ${d} detected buffering proxy`):Bt.stat===wt.NOPROXY&&ve(v,`RPC '${e}' stream ${d} detected no buffering proxy`)}),setTimeout(()=>{Rt.fo()},0),Rt}}function Y(){return typeof window<"u"?window:null}function ue(){return typeof document<"u"?document:null}function Ue(l){return new sd(l,!0)}class dt{constructor(e,r,s=1e3,d=1.5,y=6e4){this.oi=e,this.timerId=r,this.No=s,this.Lo=d,this.Bo=y,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const r=Math.floor(this.ko+this.Uo()),s=Math.max(0,Date.now()-this.Qo),d=Math.max(0,r-s);d>0&&ve("ExponentialBackoff",`Backing off for ${d} ms (base delay: ${this.ko} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,d,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class Ft{constructor(e,r,s,d,y,I,R,L){this.oi=e,this.Go=s,this.zo=d,this.connection=y,this.authCredentialsProvider=I,this.appCheckCredentialsProvider=R,this.listener=L,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new dt(e,r)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,g.Z)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,g.Z)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,r){var s=this;return(0,g.Z)(function*(){s.s_(),s.o_(),s.Yo.cancel(),s.jo++,4!==e?s.Yo.reset():r&&r.code===Re.RESOURCE_EXHAUSTED?(jt(r.toString()),jt("Using maximum backoff delay to prevent overloading the backend."),s.Yo.Ko()):r&&r.code===Re.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.__(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Ao(r)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),r=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,d])=>{this.jo===r&&this.u_(s,d)},s=>{e(()=>{const d=new fe(Re.UNKNOWN,"Fetching auth token failed: "+s.message);return this.c_(d)})})}u_(e,r){const s=this.a_(this.jo);this.stream=this.l_(e,r),this.stream.Po(()=>{s(()=>this.listener.Po())}),this.stream.To(()=>{s(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(d=>{s(()=>this.c_(d))}),this.stream.onMessage(d=>{s(()=>this.onMessage(d))})}e_(){var e=this;this.state=5,this.Yo.$o((0,g.Z)(function*(){e.state=0,e.start()}))}c_(e){return ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return r=>{this.oi.enqueueAndForget(()=>this.jo===e?r():(ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vn extends Ft{constructor(e,r,s,d,y,I){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,d,I),this.serializer=y}l_(e,r){return this.connection.Oo("Listen",e,r)}onMessage(e){this.Yo.reset();const r=function Cl(l,e){let r;if("targetChange"in e){const s="NO_CHANGE"===(K=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===K?1:"REMOVE"===K?2:"CURRENT"===K?3:"RESET"===K?4:xt(),d=e.targetChange.targetIds||[],y=function(K,se){return K.useProto3Json?(Wt(void 0===se||"string"==typeof se),Ii.fromBase64String(se||"")):(Wt(void 0===se||se instanceof Buffer||se instanceof Uint8Array),Ii.fromUint8Array(se||new Uint8Array))}(l,e.targetChange.resumeToken),I=e.targetChange.cause,R=I&&function(K){const se=void 0===K.code?Re.UNKNOWN:Ws(K.code);return new fe(se,K.message||"")}(I);r=new ro(s,d,y,R||null)}else if("documentChange"in e){const s=e.documentChange,d=No(l,s.document.name),y=Ti(s.document.updateTime),I=s.document.createTime?Ti(s.document.createTime):Lt.min(),R=new kr({mapValue:{fields:s.document.fields}}),L=Bn.newFoundDocument(d,y,I,R);r=new sc(s.targetIds||[],s.removedTargetIds||[],L.key,L)}else if("documentDelete"in e){const s=e.documentDelete,d=No(l,s.document),y=s.readTime?Ti(s.readTime):Lt.min(),I=Bn.newNoDocument(d,y);r=new sc([],s.removedTargetIds||[],I.key,I)}else if("documentRemove"in e){const s=e.documentRemove,d=No(l,s.document);r=new sc([],s.removedTargetIds||[],d,null)}else{if(!("filter"in e))return xt();{const s=e.filter,{count:d=0,unchangedNames:y}=s,I=new Rs(d,y);r=new lu(s.targetId,I)}}var K;return r}(this.serializer,e),s=function(y){if(!("targetChange"in y))return Lt.min();const I=y.targetChange;return I.targetIds&&I.targetIds.length?Lt.min():I.readTime?Ti(I.readTime):Lt.min()}(e);return this.listener.h_(r,s)}P_(e){const r={};r.database=Nr(this.serializer),r.addTarget=function(y,I){let R;const L=I.target;if(R=Qa(L)?{documents:ld(y,L)}:{query:ud(y,L)._t},R.targetId=I.targetId,I.resumeToken.approximateByteSize()>0){R.resumeToken=wh(y,I.resumeToken);const K=Wc(y,I.expectedCount);null!==K&&(R.expectedCount=K)}else if(I.snapshotVersion.compareTo(Lt.min())>0){R.readTime=Fa(y,I.snapshotVersion.toTimestamp());const K=Wc(y,I.expectedCount);null!==K&&(R.expectedCount=K)}return R}(this.serializer,e);const s=function ko(l,e){const r=function(d){switch(d){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.i_(r)}I_(e){const r={};r.database=Nr(this.serializer),r.removeTarget=e,this.i_(r)}}class jn extends Ft{constructor(e,r,s,d,y,I){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,d,I),this.serializer=y,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,r){return this.connection.Oo("Write",e,r)}onMessage(e){if(Wt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const r=function ac(l,e){return l&&l.length>0?(Wt(void 0!==e),l.map(r=>function(d,y){let I=Ti(d.updateTime?d.updateTime:y);return I.isEqual(Lt.min())&&(I=Ti(y)),new zc(I,d.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=Ti(e.commitTime);return this.listener.A_(s,r)}return Wt(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Nr(this.serializer),this.i_(e)}d_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>ms(this.serializer,s))};this.i_(r)}}class ur extends class{}{constructor(e,r,s,d){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=d,this.m_=!1}f_(){if(this.m_)throw new fe(Re.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,r,s,d){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,I])=>this.connection.Co(e,Ah(r,s),d,y,I)).catch(y=>{throw"FirebaseError"===y.name?(y.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new fe(Re.UNKNOWN,y.toString())})}xo(e,r,s,d,y){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([I,R])=>this.connection.xo(e,Ah(r,s),d,I,R,y)).catch(I=>{throw"FirebaseError"===I.name?(I.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),I):new fe(Re.UNKNOWN,I.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class ao{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(jt(r),this.y_=!1):ve("OnlineStateTracker",r)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class bo{constructor(e,r,s,d,y){var I=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=y,this.O_.io(R=>{s.enqueueAndForget((0,g.Z)(function*(){var L;vc(I)&&(ve("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,g.Z)(function*(se){const ge=lt(se);ge.M_.add(4),yield ga(ge),ge.N_.set("Unknown"),ge.M_.delete(4),yield ja(ge)}),function K(se){return L.apply(this,arguments)})(I))}))}),this.N_=new ao(s,d)}}function ja(l){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,g.Z)(function*(l){if(vc(l))for(const e of l.x_)yield e(!0)})).apply(this,arguments)}function ga(l){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,g.Z)(function*(l){for(const e of l.x_)yield e(!1)})).apply(this,arguments)}function sl(l,e){const r=lt(l);r.F_.has(e.targetId)||(r.F_.set(e.targetId,e),$h(r)?Td(r):To(r).Xo()&&jh(r,e))}function ol(l,e){const r=lt(l),s=To(r);r.F_.delete(e),s.Xo()&&tp(r,e),0===r.F_.size&&(s.Xo()?s.n_():vc(r)&&r.N_.set("Unknown"))}function jh(l,e){if(l.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Lt.min())>0){const r=l.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}To(l).P_(e)}function tp(l,e){l.L_.xe(e),To(l).I_(e)}function Td(l){l.L_=new Oo({getRemoteKeysForTarget:e=>l.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>l.F_.get(e)||null,tt:()=>l.datastore.serializer.databaseId}),To(l).start(),l.N_.w_()}function $h(l){return vc(l)&&!To(l).Zo()&&l.F_.size>0}function vc(l){return 0===lt(l).M_.size}function al(l){l.L_=void 0}function Ns(l){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,g.Z)(function*(l){l.N_.set("Online")})).apply(this,arguments)}function np(l){return Hh.apply(this,arguments)}function Hh(){return(Hh=(0,g.Z)(function*(l){l.F_.forEach((e,r)=>{jh(l,e)})})).apply(this,arguments)}function wd(l,e){return zh.apply(this,arguments)}function zh(){return(zh=(0,g.Z)(function*(l,e){al(l),$h(l)?(l.N_.D_(e),Td(l)):l.N_.set("Unknown")})).apply(this,arguments)}function mg(l,e,r){return Ad.apply(this,arguments)}function Ad(){return Ad=(0,g.Z)(function*(l,e,r){if(l.N_.set("Online"),e instanceof ro&&2===e.state&&e.cause)try{yield(s=(0,g.Z)(function*(y,I){const R=I.cause;for(const L of I.targetIds)y.F_.has(L)&&(yield y.remoteSyncer.rejectListen(L,R),y.F_.delete(L),y.L_.removeTarget(L))}),function d(y,I){return s.apply(this,arguments)})(l,e)}catch(s){ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield wu(l,s)}else if(e instanceof sc?l.L_.Ke(e):e instanceof lu?l.L_.He(e):l.L_.We(e),!r.isEqual(Lt.min()))try{const s=yield Xf(l.localStore);r.compareTo(s)>=0&&(yield function(y,I){const R=y.L_.rt(I);return R.targetChanges.forEach((L,K)=>{if(L.resumeToken.approximateByteSize()>0){const se=y.F_.get(K);se&&y.F_.set(K,se.withResumeToken(L.resumeToken,I))}}),R.targetMismatches.forEach((L,K)=>{const se=y.F_.get(L);if(!se)return;y.F_.set(L,se.withResumeToken(Ii.EMPTY_BYTE_STRING,se.snapshotVersion)),tp(y,L);const ge=new ht(se.target,L,K,se.sequenceNumber);jh(y,ge)}),y.remoteSyncer.applyRemoteEvent(R)}(l,r))}catch(s){ve("RemoteStore","Failed to raise snapshot:",s),yield wu(l,s)}var s}),Ad.apply(this,arguments)}function wu(l,e,r){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,g.Z)(function*(l,e,r){if(!Nn(e))throw e;l.M_.add(1),yield ga(l),l.N_.set("Offline"),r||(r=()=>Xf(l.localStore)),l.asyncQueue.enqueueRetryable((0,g.Z)(function*(){ve("RemoteStore","Retrying IndexedDB access"),yield r(),l.M_.delete(1),yield ja(l)}))})).apply(this,arguments)}function $a(l,e){return e().catch(r=>wu(l,r,e))}function Bl(l){return _g.apply(this,arguments)}function _g(){return(_g=(0,g.Z)(function*(l){const e=lt(l),r=Fs(e);let s=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;Vm(e);)try{const d=yield kl(e.localStore,s);if(null===d){0===e.v_.length&&r.n_();break}s=d.batchId,rp(e,d)}catch(d){yield wu(e,d)}Um(e)&&co(e)})).apply(this,arguments)}function Vm(l){return vc(l)&&l.v_.length<10}function rp(l,e){l.v_.push(e);const r=Fs(l);r.Xo()&&r.E_&&r.d_(e.mutations)}function Um(l){return vc(l)&&!Fs(l).Zo()&&l.v_.length>0}function co(l){Fs(l).start()}function ip(l){return sp.apply(this,arguments)}function sp(){return(sp=(0,g.Z)(function*(l){Fs(l).V_()})).apply(this,arguments)}function Gh(l){return yg.apply(this,arguments)}function yg(){return(yg=(0,g.Z)(function*(l){const e=Fs(l);for(const r of l.v_)e.d_(r.mutations)})).apply(this,arguments)}function Vo(l,e,r){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,g.Z)(function*(l,e,r){const s=l.v_.shift(),d=is.from(s,e,r);yield $a(l,()=>l.remoteSyncer.applySuccessfulWrite(d)),yield Bl(l)})).apply(this,arguments)}function Bm(l,e){return Au.apply(this,arguments)}function Au(){return Au=(0,g.Z)(function*(l,e){var r;e&&Fs(l).E_&&(yield(r=(0,g.Z)(function*(d,y){if(Qo(R=y.code)&&R!==Re.ABORTED){const I=d.v_.shift();Fs(d).t_(),yield $a(d,()=>d.remoteSyncer.rejectFailedWrite(I.batchId,y)),yield Bl(d)}var R}),function s(d,y){return r.apply(this,arguments)})(l,e)),Um(l)&&co(l)}),Au.apply(this,arguments)}function ks(l,e){return jl.apply(this,arguments)}function jl(){return(jl=(0,g.Z)(function*(l,e){const r=lt(l);r.asyncQueue.verifyOperationInProgress(),ve("RemoteStore","RemoteStore received new credentials");const s=vc(r);r.M_.add(3),yield ga(r),s&&r.N_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.M_.delete(3),yield ja(r)})).apply(this,arguments)}function op(l,e){return ap.apply(this,arguments)}function ap(){return(ap=(0,g.Z)(function*(l,e){const r=lt(l);e?(r.M_.delete(2),yield ja(r)):e||(r.M_.add(2),yield ga(r),r.N_.set("Unknown"))})).apply(this,arguments)}function To(l){return l.B_||(l.B_=function(r,s,d){const y=lt(r);return y.f_(),new vn(s,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,d)}(l.datastore,l.asyncQueue,{Po:Ns.bind(null,l),To:np.bind(null,l),Ao:wd.bind(null,l),h_:mg.bind(null,l)}),l.x_.push(function(){var e=(0,g.Z)(function*(r){r?(l.B_.t_(),$h(l)?Td(l):l.N_.set("Unknown")):(yield l.B_.stop(),al(l))});return function(r){return e.apply(this,arguments)}}())),l.B_}function Fs(l){return l.k_||(l.k_=function(r,s,d){const y=lt(r);return y.f_(),new jn(s,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,d)}(l.datastore,l.asyncQueue,{Po:()=>Promise.resolve(),To:ip.bind(null,l),Ao:Bm.bind(null,l),R_:Gh.bind(null,l),A_:Vo.bind(null,l)}),l.x_.push(function(){var e=(0,g.Z)(function*(r){r?(l.k_.t_(),yield Bl(l)):(yield l.k_.stop(),l.v_.length>0&&(ve("RemoteStore",`Stopping write stream with ${l.v_.length} pending writes`),l.v_=[]))});return function(r){return e.apply(this,arguments)}}())),l.k_}class Md{constructor(e,r,s,d,y){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=d,this.removalCallback=y,this.deferred=new ke,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(I=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,d,y){const I=Date.now()+s,R=new Md(e,r,I,d,y);return R.start(s),R}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new fe(Re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Du(l,e){if(jt("AsyncQueue",`${e}: ${l}`),Nn(l))return new fe(Re.UNAVAILABLE,`${e}: ${l}`);throw l}class Pd{constructor(e){this.comparator=e?(r,s)=>e(r,s)||Vt.comparator(r.key,s.key):(r,s)=>Vt.comparator(r.key,s.key),this.keyedMap=Fi(),this.sortedSet=new Yr(this.comparator)}static emptySet(e){return new Pd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Pd)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const d=r.getNext().key,y=s.getNext().key;if(!d.isEqual(y))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new Pd;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class $l{constructor(){this.q_=new Yr(Vt.comparator)}track(e){const r=e.doc.key,s=this.q_.get(r);s?0!==e.type&&3===s.type?this.q_=this.q_.insert(r,e):3===e.type&&1!==s.type?this.q_=this.q_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.q_=this.q_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.q_=this.q_.remove(r):1===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):xt():this.q_=this.q_.insert(r,e)}Q_(){const e=[];return this.q_.inorderTraversal((r,s)=>{e.push(s)}),e}}class Ec{constructor(e,r,s,d,y,I,R,L,K){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=d,this.mutatedKeys=y,this.fromCache=I,this.syncStateChanged=R,this.excludesMetadataChanges=L,this.hasCachedResults=K}static fromInitialDocuments(e,r,s,d,y){const I=[];return r.forEach(R=>{I.push({type:0,doc:R})}),new Ec(e,r,Pd.emptySet(r),I,s,d,!0,!1,y)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ra(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let d=0;d<r.length;d++)if(r[d].type!==s[d].type||!r[d].doc.isEqual(s[d].doc))return!1;return!0}}class jm{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class vg{constructor(){this.queries=new Zi(e=>Uc(e),Ra),this.onlineState="Unknown",this.z_=new Set}}function Rd(l,e){return Eg.apply(this,arguments)}function Eg(){return(Eg=(0,g.Z)(function*(l,e){const r=lt(l);let s=3;const d=e.query;let y=r.queries.get(d);y?!y.W_()&&e.G_()&&(s=2):(y=new jm,s=e.G_()?0:1);try{switch(s){case 0:y.K_=yield r.onListen(d,!0);break;case 1:y.K_=yield r.onListen(d,!1);break;case 2:yield r.onFirstRemoteStoreListen(d)}}catch(I){const R=Du(I,`Initialization of query '${ec(e.query)}' failed`);return void e.onError(R)}r.queries.set(d,y),y.U_.push(e),e.j_(r.onlineState),y.K_&&e.H_(y.K_)&&Wh(r)})).apply(this,arguments)}function Su(l,e){return Ig.apply(this,arguments)}function Ig(){return(Ig=(0,g.Z)(function*(l,e){const r=lt(l),s=e.query;let d=3;const y=r.queries.get(s);if(y){const I=y.U_.indexOf(e);I>=0&&(y.U_.splice(I,1),0===y.U_.length?d=e.G_()?0:1:!y.W_()&&e.G_()&&(d=2))}switch(d){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function dy(l,e){const r=lt(l);let s=!1;for(const d of e){const I=r.queries.get(d.query);if(I){for(const R of I.U_)R.H_(d)&&(s=!0);I.K_=d}}s&&Wh(r)}function bg(l,e,r){const s=lt(l),d=s.queries.get(e);if(d)for(const y of d.U_)y.onError(r);s.queries.delete(e)}function Wh(l){l.z_.forEach(e=>{e.next()})}var Mu,cl;(cl=Mu||(Mu={})).J_="default",cl.Cache="cache";class xd{constructor(e,r,s){this.query=e,this.Y_=r,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=s||{}}H_(e){if(!this.options.includeMetadataChanges){const s=[];for(const d of e.docChanges)3!==d.type&&s.push(d);e=new Ec(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),r=!0):this.ta(e,this.onlineState)&&(this.na(e),r=!0),this.X_=e,r}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let r=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),r=!0),r}ta(e,r){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=Ec.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Mu.Cache}}class $m{constructor(e,r){this.ia=e,this.byteLength=r}sa(){return"metadata"in this.ia}}class qh{constructor(e){this.serializer=e}Ps(e){return No(this.serializer,e)}Is(e){return e.metadata.exists?ss(this.serializer,e.document,!1):Bn.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Ti(e)}}class cp{constructor(e,r,s){this.oa=e,this.localStore=r,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Hm(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++r;const s=In.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}aa(e){const r=new Map,s=new qh(this.serializer);for(const d of e)if(d.metadata.queries){const y=s.Ps(d.metadata.name);for(const I of d.metadata.queries){const R=(r.get(I)||ir()).add(y);r.set(I,R)}}return r}complete(){var e=this;return(0,g.Z)(function*(){const r=yield function gg(l,e,r,s){return Xc.apply(this,arguments)}(e.localStore,new qh(e.serializer),e.documents,e.oa.id),s=e.aa(e.documents);for(const d of e.queries)yield Ed(e.localStore,d,s.get(d.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:r}})()}}function Hm(l){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:l.totalDocuments,totalBytes:l.totalBytes}}class lo{constructor(e){this.key=e}}class lp{constructor(e){this.key=e}}class zm{constructor(e,r){this.query=e,this.la=r,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=ir(),this.mutatedKeys=ir(),this.Ia=zs(e),this.Ta=new Pd(this.Ia)}get Ea(){return this.la}da(e,r){const s=r?r.Aa:new $l,d=r?r.Ta:this.Ta;let y=r?r.mutatedKeys:this.mutatedKeys,I=d,R=!1;const L="F"===this.query.limitType&&d.size===this.query.limit?d.last():null,K="L"===this.query.limitType&&d.size===this.query.limit?d.first():null;if(e.inorderTraversal((se,ge)=>{const Oe=d.get(se),ot=sa(this.query,ge)?ge:null,Rt=!!Oe&&this.mutatedKeys.has(Oe.key),Zt=!!ot&&(ot.hasLocalMutations||this.mutatedKeys.has(ot.key)&&ot.hasCommittedMutations);let Bt=!1;Oe&&ot?Oe.data.isEqual(ot.data)?Rt!==Zt&&(s.track({type:3,doc:ot}),Bt=!0):this.Ra(Oe,ot)||(s.track({type:2,doc:ot}),Bt=!0,(L&&this.Ia(ot,L)>0||K&&this.Ia(ot,K)<0)&&(R=!0)):!Oe&&ot?(s.track({type:0,doc:ot}),Bt=!0):Oe&&!ot&&(s.track({type:1,doc:Oe}),Bt=!0,(L||K)&&(R=!0)),Bt&&(ot?(I=I.add(ot),y=Zt?y.add(se):y.delete(se)):(I=I.delete(se),y=y.delete(se)))}),null!==this.query.limit)for(;I.size>this.query.limit;){const se="F"===this.query.limitType?I.last():I.first();I=I.delete(se.key),y=y.delete(se.key),s.track({type:1,doc:se})}return{Ta:I,Aa:s,Xi:R,mutatedKeys:y}}Ra(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,d){const y=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const I=e.Aa.Q_();I.sort((se,ge)=>function(ot,Rt){const Zt=Bt=>{switch(Bt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt()}};return Zt(ot)-Zt(Rt)}(se.type,ge.type)||this.Ia(se.doc,ge.doc)),this.Va(s),d=null!=d&&d;const R=r&&!d?this.ma():[],L=0===this.Pa.size&&this.current&&!d?1:0,K=L!==this.ha;return this.ha=L,0!==I.length||K?{snapshot:new Ec(this.query,e.Ta,y,I,e.mutatedKeys,0===L,K,!1,!!s&&s.resumeToken.approximateByteSize()>0),fa:R}:{fa:R}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new $l,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(r=>this.la=this.la.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.la=this.la.delete(r)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=ir(),this.Ta.forEach(s=>{this.ga(s.key)&&(this.Pa=this.Pa.add(s.key))});const r=[];return e.forEach(s=>{this.Pa.has(s)||r.push(new lp(s))}),this.Pa.forEach(s=>{e.has(s)||r.push(new lo(s))}),r}pa(e){this.la=e.hs,this.Pa=ir();const r=this.da(e.documents);return this.applyChanges(r,!0)}ya(){return Ec.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class Od{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class Gm{constructor(e){this.key=e,this.wa=!1}}class Wm{constructor(e,r,s,d,y,I){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=d,this.currentUser=y,this.maxConcurrentLimboResolutions=I,this.Sa={},this.ba=new Zi(R=>Uc(R),Ra),this.Da=new Map,this.Ca=new Set,this.va=new Yr(Vt.comparator),this.Fa=new Map,this.Ma=new pc,this.xa={},this.Oa=new Map,this.Na=uc.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function up(l,e){return Co.apply(this,arguments)}function Co(){return(Co=(0,g.Z)(function*(l,e,r=!0){const s=ma(l);let d;const y=s.ba.get(e);return y?(s.sharedClientState.addLocalQueryTarget(y.targetId),d=y.view.ya()):d=yield qm(s,e,r,!0),d})).apply(this,arguments)}function Tg(l,e){return Cg.apply(this,arguments)}function Cg(){return(Cg=(0,g.Z)(function*(l,e){const r=ma(l);yield qm(r,e,!0,!1)})).apply(this,arguments)}function qm(l,e,r,s){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,g.Z)(function*(l,e,r,s){const d=yield Tu(l.localStore,ii(e)),y=d.targetId,I=r?l.sharedClientState.addLocalQueryTarget(y):"not-current";let R;return s&&(R=yield Kh(l,e,y,"current"===I,d.resumeToken)),l.isPrimaryClient&&r&&sl(l.remoteStore,d),R})).apply(this,arguments)}function Kh(l,e,r,s,d){return wo.apply(this,arguments)}function wo(){return wo=(0,g.Z)(function*(l,e,r,s,d){l.Ba=(ge,Oe,ot)=>{return(Rt=(0,g.Z)(function*(Bt,Pn,zn,kn){let mr=Pn.view.da(zn);mr.Xi&&(mr=yield yi(Bt.localStore,Pn.query,!1).then(({documents:Me})=>Pn.view.da(Me,mr)));const zr=kn&&kn.targetChanges.get(Pn.targetId),xr=kn&&null!=kn.targetMismatches.get(Pn.targetId),Qe=Pn.view.applyChanges(mr,Bt.isPrimaryClient,zr,xr);return yp(Bt,Pn.targetId,Qe.fa),Qe.snapshot}),function Zt(Bt,Pn,zn,kn){return Rt.apply(this,arguments)})(l,ge,Oe,ot);var Rt};const y=yield yi(l.localStore,e,!0),I=new zm(e,y.hs),R=I.da(y.documents),L=Gc.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==l.onlineState,d),K=I.applyChanges(R,l.isPrimaryClient,L);yp(l,r,K.fa);const se=new Od(e,r,I);return l.ba.set(e,se),l.Da.has(r)?l.Da.get(r).push(e):l.Da.set(r,[e]),K.snapshot}),wo.apply(this,arguments)}function Zm(l,e,r){return dp.apply(this,arguments)}function dp(){return(dp=(0,g.Z)(function*(l,e,r){const s=lt(l),d=s.ba.get(e),y=s.Da.get(d.targetId);if(y.length>1)return s.Da.set(d.targetId,y.filter(I=>!Ra(I,e))),void s.ba.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(d.targetId),s.sharedClientState.isActiveQueryTarget(d.targetId)||(yield Ua(s.localStore,d.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(d.targetId),r&&ol(s.remoteStore,d.targetId),kd(s,d.targetId)}).catch(br))):(kd(s,d.targetId),yield Ua(s.localStore,d.targetId,!0))})).apply(this,arguments)}function Km(l,e){return Ym.apply(this,arguments)}function Ym(){return(Ym=(0,g.Z)(function*(l,e){const r=lt(l),s=r.ba.get(e),d=r.Da.get(s.targetId);r.isPrimaryClient&&1===d.length&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),ol(r.remoteStore,s.targetId))})).apply(this,arguments)}function wg(){return(wg=(0,g.Z)(function*(l,e,r){const s=bp(l);try{const d=yield function(I,R){const L=lt(I),K=Gn.now(),se=R.reduce((ot,Rt)=>ot.add(Rt.key),ir());let ge,Oe;return L.persistence.runTransaction("Locally write mutations","readwrite",ot=>{let Rt=Mr(),Zt=ir();return L.os.getEntries(ot,se).next(Bt=>{Rt=Bt,Rt.forEach((Pn,zn)=>{zn.isValidDocument()||(Zt=Zt.add(Pn))})}).next(()=>L.localDocuments.getOverlayedDocuments(ot,Rt)).next(Bt=>{ge=Bt;const Pn=[];for(const zn of R){const kn=_t(zn,ge.get(zn.key).overlayedDocument);null!=kn&&Pn.push(new Pr(zn.key,kn,Oi(kn.value.mapValue),ti.exists(!0)))}return L.mutationQueue.addMutationBatch(ot,K,Pn,R)}).next(Bt=>{Oe=Bt;const Pn=Bt.applyToLocalDocumentSet(ge,Zt);return L.documentOverlayCache.saveOverlays(ot,Bt.batchId,Pn)})}).then(()=>({batchId:Oe.batchId,changes:au(ge)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(d.batchId),function(I,R,L){let K=I.xa[I.currentUser.toKey()];K||(K=new Yr(Kt)),K=K.insert(R,L),I.xa[I.currentUser.toKey()]=K}(s,d.batchId,r),yield ll(s,d.changes),yield Bl(s.remoteStore)}catch(d){const y=Du(d,"Failed to persist write");r.reject(y)}})).apply(this,arguments)}function fp(l,e){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,g.Z)(function*(l,e){const r=lt(l);try{const s=yield function oo(l,e){const r=lt(l),s=e.snapshotVersion;let d=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",y=>{const I=r.os.newChangeBuffer({trackRemovals:!0});d=r.ns;const R=[];e.targetChanges.forEach((se,ge)=>{const Oe=d.get(ge);if(!Oe)return;R.push(r.Qr.removeMatchingKeys(y,se.removedDocuments,ge).next(()=>r.Qr.addMatchingKeys(y,se.addedDocuments,ge)));let ot=Oe.withSequenceNumber(y.currentSequenceNumber);var Zt,Bt,Pn;null!==e.targetMismatches.get(ge)?ot=ot.withResumeToken(Ii.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):se.resumeToken.approximateByteSize()>0&&(ot=ot.withResumeToken(se.resumeToken,s)),d=d.insert(ge,ot),Bt=ot,Pn=se,(0===(Zt=Oe).resumeToken.approximateByteSize()||Bt.snapshotVersion.toMicroseconds()-Zt.snapshotVersion.toMicroseconds()>=3e8||Pn.addedDocuments.size+Pn.modifiedDocuments.size+Pn.removedDocuments.size>0)&&R.push(r.Qr.updateTargetData(y,ot))});let L=Mr(),K=ir();if(e.documentUpdates.forEach(se=>{e.resolvedLimboDocuments.has(se)&&R.push(r.persistence.referenceDelegate.updateLimboDocument(y,se))}),R.push(bu(y,I,e.documentUpdates).next(se=>{L=se.cs,K=se.ls})),!s.isEqual(Lt.min())){const se=r.Qr.getLastRemoteSnapshotVersion(y).next(ge=>r.Qr.setTargetsMetadata(y,y.currentSequenceNumber,s));R.push(se)}return $e.waitFor(R).next(()=>I.apply(y)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,L,K)).next(()=>L)}).then(y=>(r.ns=d,y))}(r.localStore,e);e.targetChanges.forEach((d,y)=>{const I=r.Fa.get(y);I&&(Wt(d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size<=1),d.addedDocuments.size>0?I.wa=!0:d.modifiedDocuments.size>0?Wt(I.wa):d.removedDocuments.size>0&&(Wt(I.wa),I.wa=!1))}),yield ll(r,s,e)}catch(s){yield br(s)}})).apply(this,arguments)}function pp(l,e,r){const s=lt(l);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const d=[];s.ba.forEach((y,I)=>{const R=I.view.j_(e);R.snapshot&&d.push(R.snapshot)}),function(I,R){const L=lt(I);L.onlineState=R;let K=!1;L.queries.forEach((se,ge)=>{for(const Oe of ge.U_)Oe.j_(R)&&(K=!0)}),K&&Wh(L)}(s.eventManager,e),d.length&&s.Sa.h_(d),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Ag(l,e,r){return gp.apply(this,arguments)}function gp(){return(gp=(0,g.Z)(function*(l,e,r){const s=lt(l);s.sharedClientState.updateQueryState(e,"rejected",r);const d=s.Fa.get(e),y=d&&d.key;if(y){let I=new Yr(Vt.comparator);I=I.insert(y,Bn.newNoDocument(y,Lt.min()));const R=ir().add(y),L=new Ds(Lt.min(),new Map,new Yr(Kt),I,R);yield fp(s,L),s.va=s.va.remove(y),s.Fa.delete(e),vp(s)}else yield Ua(s.localStore,e,!1).then(()=>kd(s,e,r)).catch(br)})).apply(this,arguments)}function mp(l,e){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,g.Z)(function*(l,e){const r=lt(l),s=e.batch.batchId;try{const d=yield function Io(l,e){const r=lt(l);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const d=e.batch.keys(),y=r.os.newChangeBuffer({trackRemovals:!0});return function(R,L,K,se){const ge=K.batch,Oe=ge.keys();let ot=$e.resolve();return Oe.forEach(Rt=>{ot=ot.next(()=>se.getEntry(L,Rt)).next(Zt=>{const Bt=K.docVersions.get(Rt);Wt(null!==Bt),Zt.version.compareTo(Bt)<0&&(ge.applyToRemoteDocument(Zt,K),Zt.isValidDocument()&&(Zt.setReadTime(K.commitVersion),se.addEntry(Zt)))})}),ot.next(()=>R.mutationQueue.removeMutationBatch(L,ge))}(r,s,e,y).next(()=>y.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,d,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(R){let L=ir();for(let K=0;K<R.mutationResults.length;++K)R.mutationResults[K].transformResults.length>0&&(L=L.add(R.batch.mutations[K].key));return L}(e))).next(()=>r.localDocuments.getDocuments(s,d))})}(r.localStore,e);Hl(r,s,null),Jh(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield ll(r,d)}catch(d){yield br(d)}})).apply(this,arguments)}function Dg(l,e,r){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,g.Z)(function*(l,e,r){const s=lt(l);try{const d=yield function(I,R){const L=lt(I);return L.persistence.runTransaction("Reject batch","readwrite-primary",K=>{let se;return L.mutationQueue.lookupMutationBatch(K,R).next(ge=>(Wt(null!==ge),se=ge.keys(),L.mutationQueue.removeMutationBatch(K,ge))).next(()=>L.mutationQueue.performConsistencyCheck(K)).next(()=>L.documentOverlayCache.removeOverlaysForBatchId(K,se,R)).next(()=>L.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(K,se)).next(()=>L.localDocuments.getDocuments(K,se))})}(s.localStore,e);Hl(s,e,r),Jh(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield ll(s,d)}catch(d){yield br(d)}})).apply(this,arguments)}function Qh(){return(Qh=(0,g.Z)(function*(l,e){const r=lt(l);vc(r.remoteStore)||ve("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(I){const R=lt(I);return R.persistence.runTransaction("Get highest unacknowledged batch id","readonly",L=>R.mutationQueue.getHighestUnacknowledgedBatchId(L))}(r.localStore);if(-1===s)return void e.resolve();const d=r.Oa.get(s)||[];d.push(e),r.Oa.set(s,d)}catch(s){const d=Du(s,"Initialization of waitForPendingWrites() operation failed");e.reject(d)}})).apply(this,arguments)}function Jh(l,e){(l.Oa.get(e)||[]).forEach(r=>{r.resolve()}),l.Oa.delete(e)}function Hl(l,e,r){const s=lt(l);let d=s.xa[s.currentUser.toKey()];if(d){const y=d.get(e);y&&(r?y.reject(r):y.resolve(),d=d.remove(e)),s.xa[s.currentUser.toKey()]=d}}function kd(l,e,r=null){l.sharedClientState.removeLocalQueryTarget(e);for(const s of l.Da.get(e))l.ba.delete(s),r&&l.Sa.ka(s,r);l.Da.delete(e),l.isPrimaryClient&&l.Ma.Vr(e).forEach(s=>{l.Ma.containsKey(s)||Xh(l,s)})}function Xh(l,e){l.Ca.delete(e.path.canonicalString());const r=l.va.get(e);null!==r&&(ol(l.remoteStore,r),l.va=l.va.remove(e),l.Fa.delete(r),vp(l))}function yp(l,e,r){for(const s of r)s instanceof lo?(l.Ma.addReference(s.key,e),Qm(l,s)):s instanceof lp?(ve("SyncEngine","Document no longer in limbo: "+s.key),l.Ma.removeReference(s.key,e),l.Ma.containsKey(s.key)||Xh(l,s.key)):xt()}function Qm(l,e){const r=e.key,s=r.path.canonicalString();l.va.get(r)||l.Ca.has(s)||(ve("SyncEngine","New document in limbo: "+r),l.Ca.add(s),vp(l))}function vp(l){for(;l.Ca.size>0&&l.va.size<l.maxConcurrentLimboResolutions;){const e=l.Ca.values().next().value;l.Ca.delete(e);const r=new Vt(In.fromString(e)),s=l.Na.next();l.Fa.set(s,new Gm(r)),l.va=l.va.insert(r,s),sl(l.remoteStore,new ht(ii(Ce(r.path)),s,"TargetPurposeLimboResolution",U.oe))}}function ll(l,e,r){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,g.Z)(function*(l,e,r){const s=lt(l),d=[],y=[],I=[];var R;s.ba.isEmpty()||(s.ba.forEach((R,L)=>{I.push(s.Ba(L,e,r).then(K=>{if((K||r)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(L.targetId,K&&!K.fromCache?"current":"not-current"),K){d.push(K);const se=Rr.Ki(L.targetId,K);y.push(se)}}))}),yield Promise.all(I),s.Sa.h_(d),yield(R=(0,g.Z)(function*(K,se){const ge=lt(K);try{yield ge.persistence.runTransaction("notifyLocalViewChanges","readwrite",Oe=>$e.forEach(se,ot=>$e.forEach(ot.qi,Rt=>ge.persistence.referenceDelegate.addReference(Oe,ot.targetId,Rt)).next(()=>$e.forEach(ot.Qi,Rt=>ge.persistence.referenceDelegate.removeReference(Oe,ot.targetId,Rt)))))}catch(Oe){if(!Nn(Oe))throw Oe;ve("LocalStore","Failed to update sequence numbers: "+Oe)}for(const Oe of se){const ot=Oe.targetId;if(!Oe.fromCache){const Rt=ge.ns.get(ot),Bt=Rt.withLastLimboFreeSnapshotVersion(Rt.snapshotVersion);ge.ns=ge.ns.insert(ot,Bt)}}}),function L(K,se){return R.apply(this,arguments)})(s.localStore,y))}),Sg.apply(this,arguments)}function Mg(l,e){return ef.apply(this,arguments)}function ef(){return(ef=(0,g.Z)(function*(l,e){const r=lt(l);if(!r.currentUser.isEqual(e)){ve("SyncEngine","User change. New user:",e.toKey());const s=yield Nl(r.localStore,e);r.currentUser=e,(y=r).Oa.forEach(R=>{R.forEach(L=>{L.reject(new fe(Re.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),y.Oa.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield ll(r,s.us)}var y})).apply(this,arguments)}function Fd(l,e){const r=lt(l),s=r.Fa.get(e);if(s&&s.wa)return ir().add(s.key);{let d=ir();const y=r.Da.get(e);if(!y)return d;for(const I of y){const R=r.ba.get(I);d=d.unionWith(R.view.Ea)}return d}}function hy(l,e){return Pg.apply(this,arguments)}function Pg(){return(Pg=(0,g.Z)(function*(l,e){const r=lt(l),s=yield yi(r.localStore,e.query,!0),d=e.view.pa(s);return r.isPrimaryClient&&yp(r,e.targetId,d.fa),d})).apply(this,arguments)}function $v(l,e){return Rg.apply(this,arguments)}function Rg(){return(Rg=(0,g.Z)(function*(l,e){const r=lt(l);return vd(r.localStore,e).then(s=>ll(r,s))})).apply(this,arguments)}function xg(l,e,r,s){return Ep.apply(this,arguments)}function Ep(){return(Ep=(0,g.Z)(function*(l,e,r,s){const d=lt(l),y=yield function(R,L){const K=lt(R),se=lt(K.mutationQueue);return K.persistence.runTransaction("Lookup mutation documents","readonly",ge=>se.vn(ge,L).next(Oe=>Oe?K.localDocuments.getDocuments(ge,Oe):$e.resolve(null)))}(d.localStore,e);var L;null!==y?("pending"===r?yield Bl(d.remoteStore):"acknowledged"===r||"rejected"===r?(Hl(d,e,s||null),Jh(d,e),L=e,lt(lt(d.localStore).mutationQueue).Mn(L)):xt(),yield ll(d,y)):ve("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Vd(){return(Vd=(0,g.Z)(function*(l,e){const r=lt(l);if(ma(r),bp(r),!0===e&&!0!==r.La){const s=r.sharedClientState.getAllActiveQueryTargets(),d=yield tf(r,s.toArray());r.La=!0,yield op(r.remoteStore,!0);for(const y of d)sl(r.remoteStore,y)}else if(!1===e&&!1!==r.La){const s=[];let d=Promise.resolve();r.Da.forEach((y,I)=>{r.sharedClientState.isLocalQueryTarget(I)?s.push(I):d=d.then(()=>(kd(r,I),Ua(r.localStore,I,!0))),ol(r.remoteStore,I)}),yield d,yield tf(r,s),function(I){const R=lt(I);R.Fa.forEach((L,K)=>{ol(R.remoteStore,K)}),R.Ma.mr(),R.Fa=new Map,R.va=new Yr(Vt.comparator)}(r),r.La=!1,yield op(r.remoteStore,!1)}})).apply(this,arguments)}function tf(l,e,r){return Og.apply(this,arguments)}function Og(){return(Og=(0,g.Z)(function*(l,e,r){const s=lt(l),d=[],y=[];for(const I of e){let R;const L=s.Da.get(I);if(L&&0!==L.length){R=yield Tu(s.localStore,ii(L[0]));for(const K of L){const se=s.ba.get(K),ge=yield hy(s,se);ge.snapshot&&y.push(ge.snapshot)}}else{const K=yield Fl(s.localStore,I);R=yield Tu(s.localStore,K),yield Kh(s,Jm(K),I,!1,R.resumeToken)}d.push(R)}return s.Sa.h_(y),d})).apply(this,arguments)}function Jm(l){return le(l.path,l.collectionGroup,l.orderBy,l.filters,l.limit,"F",l.startAt,l.endAt)}function Xm(l){return r=lt(l).localStore,lt(lt(r).persistence).Bi();var r}function Ru(l,e,r,s){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,g.Z)(function*(l,e,r,s){const d=lt(l);if(d.La)return void ve("SyncEngine","Ignoring unexpected query state notification.");const y=d.Da.get(e);if(y&&y.length>0)switch(r){case"current":case"not-current":{const I=yield vd(d.localStore,Bc(y[0])),R=Ds.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,Ii.EMPTY_BYTE_STRING);yield ll(d,I,R);break}case"rejected":yield Ua(d.localStore,e,!0),kd(d,e,s);break;default:xt()}})).apply(this,arguments)}function e_(l,e,r){return Ip.apply(this,arguments)}function Ip(){return(Ip=(0,g.Z)(function*(l,e,r){const s=ma(l);if(s.La){for(const d of e){if(s.Da.has(d)&&s.sharedClientState.isActiveQueryTarget(d)){ve("SyncEngine","Adding an already active target "+d);continue}const y=yield Fl(s.localStore,d),I=yield Tu(s.localStore,y);yield Kh(s,Jm(y),I.targetId,!1,I.resumeToken),sl(s.remoteStore,I)}for(const d of r)s.Da.has(d)&&(yield Ua(s.localStore,d,!1).then(()=>{ol(s.remoteStore,d),kd(s,d)}).catch(br))}})).apply(this,arguments)}function ma(l){const e=lt(l);return e.remoteStore.remoteSyncer.applyRemoteEvent=fp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Fd.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ag.bind(null,e),e.Sa.h_=dy.bind(null,e.eventManager),e.Sa.ka=bg.bind(null,e.eventManager),e}function bp(l){const e=lt(l);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Dg.bind(null,e),e}class bc{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,g.Z)(function*(){r.serializer=Ue(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return Ol(this.persistence,new Iu,e.initialUser,this.serializer)}createPersistence(e){return new Qf(Fh.Hr,this.serializer)}createSharedClientState(e){return new nl}terminate(){var e=this;return(0,g.Z)(function*(){var r,s;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(s=e.indexBackfillerScheduler)||void 0===s||s.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ng extends bc{constructor(e,r,s){super(),this.Qa=e,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,s=this;return(0,g.Z)(function*(){yield r().call(s,e),yield s.Qa.initialize(s,e),yield bp(s.Qa.syncEngine),yield Bl(s.Qa.remoteStore),yield s.persistence.fi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Ol(this.persistence,new Iu,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new gu(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const s=new $(r,this.persistence);return new W(e.asyncQueue,s)}createPersistence(e){const r=Eu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?os.withCacheSize(this.cacheSizeBytes):os.DEFAULT;return new Hi(this.synchronizeTabs,r,e.clientId,s,e.asyncQueue,Y(),ue(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new nl}}class t_ extends Ng{constructor(e,r){super(e,r,!1),this.Qa=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,s=this;return(0,g.Z)(function*(){yield r().call(s,e);const d=s.Qa.syncEngine;s.sharedClientState instanceof Uh&&(s.sharedClientState.syncEngine={Zs:xg.bind(null,d),Xs:Ru.bind(null,d),eo:e_.bind(null,d),Bi:Xm.bind(null,d),Ys:$v.bind(null,d)},yield s.sharedClientState.start()),yield s.persistence.fi(function(){var y=(0,g.Z)(function*(I){yield function Ld(l,e){return Vd.apply(this,arguments)}(s.Qa.syncEngine,I),s.gcScheduler&&(I&&!s.gcScheduler.started?s.gcScheduler.start():I||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(I&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():I||s.indexBackfillerScheduler.stop())});return function(I){return y.apply(this,arguments)}}())})()}createSharedClientState(e){const r=Y();if(!Uh.D(r))throw new fe(Re.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Eu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Uh(r,e.asyncQueue,s,e.clientId,e.initialUser)}}class Bd{initialize(e,r){var s=this;return(0,g.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=d=>pp(s.syncEngine,d,1),s.remoteStore.remoteSyncer.handleCredentialChange=Mg.bind(null,s.syncEngine),yield op(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new vg}createDatastore(e){const r=Ue(e.databaseInfo.databaseId),s=new M(e.databaseInfo);return new ur(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return s=this.localStore,d=this.datastore,y=e.asyncQueue,I=r=>pp(this.syncEngine,r,0),R=rl.D()?new rl:new yc,new bo(s,d,y,I,R);var s,d,y,I,R}createSyncEngine(e,r){return function(d,y,I,R,L,K,se){const ge=new Wm(d,y,I,R,L,K);return se&&(ge.La=!0),ge}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,g.Z)(function*(){var r,s;yield(s=(0,g.Z)(function*(y){const I=lt(y);ve("RemoteStore","RemoteStore shutting down."),I.M_.add(5),yield ga(I),I.O_.shutdown(),I.N_.set("Unknown")}),function d(y){return s.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}function n_(l,e=10240){let r=0;return{read:()=>(0,g.Z)(function*(){if(r<l.byteLength){const s={value:l.slice(r,r+e),done:!1};return r+=e,s}return{done:!0}})(),cancel:()=>(0,g.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Tp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):jt("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class kg{constructor(e,r){this.Ua=e,this.serializer=r,this.metadata=new ke,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(s=>{s&&s.sa()?this.metadata.resolve(s.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.ia)}`))},s=>this.metadata.reject(s))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,g.Z)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,g.Z)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,g.Z)(function*(){const r=yield e.za();if(null===r)return null;const s=e.Wa.decode(r),d=Number(s);isNaN(d)&&e.ja(`length string (${s}) is not valid number`);const y=yield e.Ha(d);return new $m(JSON.parse(y),r.length+d)})()}Ja(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}za(){var e=this;return(0,g.Z)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const r=e.Ja();r<0&&e.ja("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),s})()}Ha(e){var r=this;return(0,g.Z)(function*(){for(;r.buffer.length<e;)(yield r.Ya())&&r.ja("Reached the end of bundle when more is expected.");const s=r.Wa.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),s})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,g.Z)(function*(){const r=yield e.Ua.read();if(!r.done){const s=new Uint8Array(e.buffer.length+r.value.length);s.set(e.buffer),s.set(r.value,e.buffer.length),e.buffer=s}return r.done})()}}class Cp{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,g.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new fe(Re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const s=yield(d=(0,g.Z)(function*(I,R){const L=lt(I),K={documents:R.map(ot=>ad(L.serializer,ot))},se=yield L.xo("BatchGetDocuments",L.serializer.databaseId,In.emptyPath(),K,R.length),ge=new Map;se.forEach(ot=>{const Rt=function Li(l,e){return"found"in e?function(s,d){Wt(!!d.found);const y=No(s,d.found.name),I=Ti(d.found.updateTime),R=d.found.createTime?Ti(d.found.createTime):Lt.min(),L=new kr({mapValue:{fields:d.found.fields}});return Bn.newFoundDocument(y,I,R,L)}(l,e):"missing"in e?function(s,d){Wt(!!d.missing),Wt(!!d.readTime);const y=No(s,d.missing),I=Ti(d.readTime);return Bn.newNoDocument(y,I)}(l,e):xt()}(L.serializer,ot);ge.set(Rt.key.toString(),Rt)});const Oe=[];return R.forEach(ot=>{const Rt=ge.get(ot.toString());Wt(!!Rt),Oe.push(Rt)}),Oe}),function y(I,R){return d.apply(this,arguments)})(r.datastore,e);var d;return s.forEach(d=>r.recordVersion(d)),s})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Qr(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,g.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var s;e.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,d)=>{const y=Vt.fromPath(d);e.mutations.push(new Fr(y,e.precondition(y)))}),yield(s=(0,g.Z)(function*(y,I){const R=lt(y),L={writes:I.map(K=>ms(R.serializer,K))};yield R.Co("Commit",R.serializer.databaseId,In.emptyPath(),L)}),function d(y,I){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw xt();r=Lt.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!r.isEqual(s))throw new fe(Re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Lt.min())?ti.exists(!1):ti.updateTime(r):ti.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Lt.min()))throw new fe(Re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ti.updateTime(r)}return ti.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class py{constructor(e,r,s,d,y){this.asyncQueue=e,this.datastore=r,this.options=s,this.updateFunction=d,this.deferred=y,this.Za=s.maxAttempts,this.Yo=new dt(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Yo.$o((0,g.Z)(function*(){const r=new Cp(e.datastore),s=e.tu(r);s&&s.then(d=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(d)}).catch(y=>{e.nu(y)}))}).catch(d=>{e.nu(d)})}))}tu(e){try{const r=this.updateFunction(e);return!pe(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!Qo(r)}return!1}}class gy{constructor(e,r,s,d){var y=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=d,this.user=it.UNAUTHENTICATED,this.clientId=Mn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var I=(0,g.Z)(function*(R){ve("FirestoreClient","Received user=",R.uid),yield y.authCredentialListener(R),y.user=R});return function(R){return I.apply(this,arguments)}}()),this.appCheckCredentials.start(s,I=>(ve("FirestoreClient","Received new app check token=",I),this.appCheckCredentialListener(I,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new fe(Re.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new ke;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,g.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const d=Du(s,"Failed to shutdown persistence");r.reject(d)}})),r.promise}}function wp(l,e){return jd.apply(this,arguments)}function jd(){return jd=(0,g.Z)(function*(l,e){l.asyncQueue.verifyOperationInProgress(),ve("FirestoreClient","Initializing OfflineComponentProvider");const r=l.configuration;yield e.initialize(r);let s=r.initialUser;l.setCredentialChangeListener(function(){var d=(0,g.Z)(function*(y){s.isEqual(y)||(yield Nl(e.localStore,y),s=y)});return function(y){return d.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>l.terminate()),l._offlineComponents=e}),jd.apply(this,arguments)}function _a(l,e){return $d.apply(this,arguments)}function $d(){return($d=(0,g.Z)(function*(l,e){l.asyncQueue.verifyOperationInProgress();const r=yield Ap(l);ve("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,l.configuration),l.setCredentialChangeListener(s=>ks(e.remoteStore,s)),l.setAppCheckTokenChangeListener((s,d)=>ks(e.remoteStore,d)),l._onlineComponents=e})).apply(this,arguments)}function Fg(l){return"FirebaseError"===l.name?l.code===Re.FAILED_PRECONDITION||l.code===Re.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code}function Ap(l){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,g.Z)(function*(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){ve("FirestoreClient","Using user provided OfflineComponentProvider");try{yield wp(l,l._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!Fg(r))throw r;an("Error using user provided cache. Falling back to memory cache: "+r),yield wp(l,new bc)}}else ve("FirestoreClient","Using default OfflineComponentProvider"),yield wp(l,new bc);return l._offlineComponents})).apply(this,arguments)}function Lg(l){return Vg.apply(this,arguments)}function Vg(){return(Vg=(0,g.Z)(function*(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(ve("FirestoreClient","Using user provided OnlineComponentProvider"),yield _a(l,l._uninitializedComponentsProvider._online)):(ve("FirestoreClient","Using default OnlineComponentProvider"),yield _a(l,new Bd))),l._onlineComponents})).apply(this,arguments)}function my(l){return Ap(l).then(e=>e.persistence)}function ul(l){return Ap(l).then(e=>e.localStore)}function Dp(l){return Lg(l).then(e=>e.remoteStore)}function r_(l){return Lg(l).then(e=>e.syncEngine)}function xu(l){return Ug.apply(this,arguments)}function Ug(){return(Ug=(0,g.Z)(function*(l){const e=yield Lg(l),r=e.eventManager;return r.onListen=up.bind(null,e.syncEngine),r.onUnlisten=Zm.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Tg.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Km.bind(null,e.syncEngine),r})).apply(this,arguments)}function Bg(l,e,r={}){const s=new ke;return l.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function(y,I,R,L,K){const se=new Tp({next:Oe=>{I.enqueueAndForget(()=>Su(y,ge));const ot=Oe.docs.has(R);!ot&&Oe.fromCache?K.reject(new fe(Re.UNAVAILABLE,"Failed to get document because the client is offline.")):ot&&Oe.fromCache&&L&&"server"===L.source?K.reject(new fe(Re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):K.resolve(Oe)},error:Oe=>K.reject(Oe)}),ge=new xd(Ce(R.path),se,{includeMetadataChanges:!0,ra:!0});return Rd(y,ge)}(yield xu(l),l.asyncQueue,e,r,s)})),s.promise}function jg(l,e,r={}){const s=new ke;return l.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function(y,I,R,L,K){const se=new Tp({next:Oe=>{I.enqueueAndForget(()=>Su(y,ge)),Oe.fromCache&&"server"===L.source?K.reject(new fe(Re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):K.resolve(Oe)},error:Oe=>K.reject(Oe)}),ge=new xd(R,se,{includeMetadataChanges:!0,ra:!0});return Rd(y,ge)}(yield xu(l),l.asyncQueue,e,r,s)})),s.promise}function o_(l){const e={};return void 0!==l.timeoutSeconds&&(e.timeoutSeconds=l.timeoutSeconds),e}const a_=new Map;function zg(l,e,r){if(!r)throw new fe(Re.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${e}.`)}function c_(l,e,r,s){if(!0===e&&!0===s)throw new fe(Re.INVALID_ARGUMENT,`${l} and ${r} cannot be used together.`)}function Mp(l){if(!Vt.isDocumentKey(l))throw new fe(Re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function Ty(l){if(Vt.isDocumentKey(l))throw new fe(Re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function Ha(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const e=(s=l).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof l?"a function":xt()}function wr(l,e){if("_delegate"in l&&(l=l._delegate),!(l instanceof e)){if(e.name===l.constructor.name)throw new fe(Re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Ha(l);throw new fe(Re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return l}function nf(l,e){if(e<=0)throw new fe(Re.INVALID_ARGUMENT,`Function ${l}() requires a positive number, but it was: ${e}.`)}class l_{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new fe(Re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new fe(Re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}c_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=o_(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(y){if(void 0!==y.timeoutSeconds){if(isNaN(y.timeoutSeconds))throw new fe(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (must not be NaN)`);if(y.timeoutSeconds<5)throw new fe(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (minimum allowed value is 5)`);if(y.timeoutSeconds>30)throw new fe(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nu{constructor(e,r,s,d){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=d,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new fe(Re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new fe(Re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l_(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new Xe;switch(s.type){case"firstParty":return new Ht(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(Re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=a_.get(r);s&&(ve("ComponentProvider","Removing Datastore"),a_.delete(r),s.terminate())}(this),Promise.resolve()}}function rf(l,e,r,s={}){var d;const y=(l=wr(l,Nu))._getSettings(),I=`${e}:${r}`;if("firestore.googleapis.com"!==y.host&&y.host!==I&&an("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),l._setSettings(Object.assign(Object.assign({},y),{host:I,ssl:!1})),s.mockUserToken){let R,L;if("string"==typeof s.mockUserToken)R=s.mockUserToken,L=it.MOCK_USER;else{R=(0,me.Sg)(s.mockUserToken,null===(d=l._app)||void 0===d?void 0:d.options.projectId);const K=s.mockUserToken.sub||s.mockUserToken.user_id;if(!K)throw new fe(Re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");L=new it(K)}l._authCredentials=new ut(new Je(R,L))}}class Ls{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ls(this.firestore,e,this._query)}}class as{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new as(this.firestore,e,this._key)}}class Tc extends Ls{constructor(e,r,s){super(e,r,Ce(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new as(this.firestore,null,new Vt(e))}withConverter(e){return new Tc(this.firestore,e,this._path)}}function Cy(l,e,...r){if(l=(0,me.m9)(l),zg("collection","path",e),l instanceof Nu){const s=In.fromString(e,...r);return Ty(s),new Tc(l,null,s)}{if(!(l instanceof as||l instanceof Tc))throw new fe(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(In.fromString(e,...r));return Ty(s),new Tc(l.firestore,null,s)}}function Gg(l,e){if(l=wr(l,Nu),zg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new fe(Re.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ls(l,null,(s=e,new F(In.emptyPath(),s)));var s}function Hv(l,e,...r){if(l=(0,me.m9)(l),1===arguments.length&&(e=Mn.newId()),zg("doc","path",e),l instanceof Nu){const s=In.fromString(e,...r);return Mp(s),new as(l,null,new Vt(s))}{if(!(l instanceof as||l instanceof Tc))throw new fe(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(In.fromString(e,...r));return Mp(s),new as(l.firestore,l instanceof Tc?l.converter:null,new Vt(s))}}function u_(l,e){return l=(0,me.m9)(l),e=(0,me.m9)(e),(l instanceof as||l instanceof Tc)&&(e instanceof as||e instanceof Tc)&&l.firestore===e.firestore&&l.path===e.path&&l.converter===e.converter}function d_(l,e){return l=(0,me.m9)(l),e=(0,me.m9)(e),l instanceof Ls&&e instanceof Ls&&l.firestore===e.firestore&&Ra(l._query,e._query)&&l.converter===e.converter}class ku{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new dt(this,"async_queue_retry"),this.hu=()=>{const r=ue();r&&ve("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Yo.Wo()};const e=ue();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const r=ue();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const r=new ke;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,g.Z)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(r){if(!Nn(r))throw r;ve("AsyncQueue","Operation failed with retryable error: "+r)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const r=this.iu.then(()=>(this.uu=!0,e().catch(s=>{throw this.au=s,this.uu=!1,jt("INTERNAL UNHANDLED ERROR: ",function(I){let R=I.message||"";return I.stack&&(R=I.stack.includes(I.message)?I.stack:I.message+"\n"+I.stack),R}(s)),s}).then(s=>(this.uu=!1,s))));return this.iu=r,r}enqueueAfterDelay(e,r,s){this.Pu(),this.lu.indexOf(e)>-1&&(r=0);const d=Md.createAndSchedule(this,e,r,s,y=>this.Eu(y));return this._u.push(d),d}Pu(){this.au&&xt()}verifyOperationInProgress(){}du(){var e=this;return(0,g.Z)(function*(){let r;do{r=e.iu,yield r}while(r!==e.iu)})()}Au(e){for(const r of this._u)if(r.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this._u)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const r=this._u.indexOf(e);this._u.splice(r,1)}}function sf(l){return function(r,s){if("object"!=typeof r||null===r)return!1;const d=r;for(const y of["next","error","complete"])if(y in d&&"function"==typeof d[y])return!0;return!1}(l)}class Pp{constructor(){this._progressObserver={},this._taskCompletionResolver=new ke,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,s){this._progressObserver={next:e,error:r,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const zd=-1;class vi extends Nu{constructor(e,r,s,d){super(e,r,s,d),this.type="firestore",this._queue=new ku,this._persistenceKey=d?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||xp(this),this._firestoreClient.terminate()}}function Rp(l,e){const r="object"==typeof l?l:(0,u.getApp)(),s="string"==typeof l?l:e||"(default)",d=(0,u._getProvider)(r,"firestore").getImmediate({identifier:s});if(!d._initialized){const y=(0,me.P0)("firestore");y&&rf(d,...y)}return d}function Vi(l){return l._firestoreClient||xp(l),l._firestoreClient.verifyNotTerminated(),l._firestoreClient}function xp(l){var e,r,s;const d=l._freezeSettings(),y=(L=(null===(e=l._app)||void 0===e?void 0:e.options.appId)||"",new Ho(l._databaseId,L,l._persistenceKey,(se=d).host,se.ssl,se.experimentalForceLongPolling,se.experimentalAutoDetectLongPolling,o_(se.experimentalLongPollingOptions),se.useFetchStreams));var L,se;l._firestoreClient=new gy(l._authCredentials,l._appCheckCredentials,l._queue,y),null!==(r=d.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(s=d.localCache)&&void 0!==s&&s._onlineComponentProvider&&(l._firestoreClient._uninitializedComponentsProvider={_offlineKind:d.localCache.kind,_offline:d.localCache._offlineComponentProvider,_online:d.localCache._onlineComponentProvider})}function Op(l,e){f_(l=wr(l,vi));const r=Vi(l);if(r._uninitializedComponentsProvider)throw new fe(Re.FAILED_PRECONDITION,"SDK cache is already specified.");an("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=l._freezeSettings(),d=new Bd;return Fu(r,d,new Ng(d,s.cacheSizeBytes,e?.forceOwnership))}function Cc(l){f_(l=wr(l,vi));const e=Vi(l);if(e._uninitializedComponentsProvider)throw new fe(Re.FAILED_PRECONDITION,"SDK cache is already specified.");an("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=l._freezeSettings(),s=new Bd;return Fu(e,s,new t_(s,r.cacheSizeBytes))}function Fu(l,e,r){const s=new ke;return l.asyncQueue.enqueue((0,g.Z)(function*(){try{yield wp(l,r),yield _a(l,e),s.resolve()}catch(d){const y=d;if(!Fg(y))throw y;an("Error enabling indexeddb cache. Falling back to memory cache: "+y),s.reject(y)}})).then(()=>s.promise)}function Wg(l){if(l._initialized&&!l._terminated)throw new fe(Re.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ke;return l._queue.enqueueAndForgetEvenWhileRestricted((0,g.Z)(function*(){try{yield(r=(0,g.Z)(function*(d){if(!ae.D())return Promise.resolve();const y=d+"main";yield ae.delete(y)}),function s(d){return r.apply(this,arguments)})(Eu(l._databaseId,l._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function wy(l){return function(r){const s=new ke;return r.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function _p(l,e){return Qh.apply(this,arguments)}(yield r_(r),s)})),s.promise}(Vi(l=wr(l,vi)))}function Ay(l){return function yy(l){return l.asyncQueue.enqueue((0,g.Z)(function*(){const e=yield my(l),r=yield Dp(l);return e.setNetworkEnabled(!0),function(d){const y=lt(d);return y.M_.delete(0),ja(y)}(r)}))}(Vi(l=wr(l,vi)))}function Dy(l){return function vy(l){return l.asyncQueue.enqueue((0,g.Z)(function*(){const e=yield my(l),r=yield Dp(l);return e.setNetworkEnabled(!1),(s=(0,g.Z)(function*(y){const I=lt(y);I.M_.add(0),yield ga(I),I.N_.set("Offline")}),function d(y){return s.apply(this,arguments)})(r);var s}))}(Vi(l=wr(l,vi)))}function Sy(l,e){const r=Vi(l=wr(l,vi)),s=new Pp;return function Ou(l,e,r,s){const d=function(I,R){let L;return L="string"==typeof I?aa().encode(I):I,se=function(se,ge){if(se instanceof Uint8Array)return n_(se,void 0);if(se instanceof ArrayBuffer)return n_(new Uint8Array(se),void 0);if(se instanceof ReadableStream)return se.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(L),new kg(se,R);var se}(r,Ue(e));l.asyncQueue.enqueueAndForget((0,g.Z)(function*(){!function Ic(l,e,r){const s=lt(l);var d;(d=(0,g.Z)(function*(I,R,L){try{const K=yield R.getMetadata();if(yield function(Rt,Zt){const Bt=lt(Rt),Pn=Ti(Zt.createTime);return Bt.persistence.runTransaction("hasNewerBundle","readonly",zn=>Bt.$r.getBundleMetadata(zn,Zt.id)).then(zn=>!!zn&&zn.createTime.compareTo(Pn)>=0)}(I.localStore,K))return yield R.close(),L._completeWith({taskState:"Success",documentsLoaded:(Rt=K).totalDocuments,bytesLoaded:Rt.totalBytes,totalDocuments:Rt.totalDocuments,totalBytes:Rt.totalBytes}),Promise.resolve(new Set);L._updateProgress(Hm(K));const se=new cp(K,I.localStore,R.serializer);let ge=yield R.qa();for(;ge;){const ot=yield se._a(ge);ot&&L._updateProgress(ot),ge=yield R.qa()}const Oe=yield se.complete();return yield ll(I,Oe.ca,void 0),yield function(Rt,Zt){const Bt=lt(Rt);return Bt.persistence.runTransaction("Save bundle","readwrite",Pn=>Bt.$r.saveBundleMetadata(Pn,Zt))}(I.localStore,K),L._completeWith(Oe.progress),Promise.resolve(Oe.ua)}catch(K){return an("SyncEngine",`Loading bundle failed with ${K}`),L._failWith(K),Promise.resolve(new Set)}var Rt}),function y(I,R,L){return d.apply(this,arguments)})(s,e,r).then(d=>{s.sharedClientState.notifyBundleLoaded(d)})}(yield r_(l),d,s)}))}(r,l._databaseId,e,s),s}function My(l,e){return function Iy(l,e){return l.asyncQueue.enqueue((0,g.Z)(function*(){return function(s,d){const y=lt(s);return y.persistence.runTransaction("Get named query","readonly",I=>y.$r.getNamedQuery(I,d))}(yield ul(l),e)}))}(Vi(l=wr(l,vi)),e).then(r=>r?new Ls(l,null,r.query):null)}function f_(l){if(l._initialized||l._terminated)throw new fe(Re.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class zl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zl(Ii.fromBase64String(e))}catch(r){throw new fe(Re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new zl(Ii.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class dl{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new fe(Re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Gd{constructor(e){this._methodName=e}}class Np{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new fe(Re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new fe(Re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}}const Py=/^__.*__$/;class Ry{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new Pr(e,this.data,this.fieldMask,r,this.fieldTransforms):new _n(e,this.data,r,this.fieldTransforms)}}class xy{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new Pr(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Oy(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt()}}class Vu{constructor(e,r,s,d,y,I){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=d,void 0===y&&this.mu(),this.fieldTransforms=y||[],this.fieldMask=I||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Vu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),d=this.gu({path:s,yu:!1});return d.wu(e),d}Su(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),d=this.gu({path:s,yu:!1});return d.mu(),d}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return va(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(Oy(this.fu)&&Py.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class Ny{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||Ue(e)}Fu(e,r,s,d=!1){return new Vu({fu:e,methodName:r,vu:s,path:Yn.emptyPath(),yu:!1,Cu:d},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hl(l){const e=l._freezeSettings(),r=Ue(l._databaseId);return new Ny(l._databaseId,!!e.ignoreUndefinedProperties,r)}function Wd(l,e,r,s,d,y={}){const I=l.Fu(y.merge||y.mergeFields?2:0,e,r,d);Fp("Data must be an object, but it was:",I,s);const R=Yd(s,I);let L,K;if(y.merge)L=new Bi(I.fieldMask),K=I.fieldTransforms;else if(y.mergeFields){const se=[];for(const ge of y.mergeFields){const Oe=Qd(e,ge,r);if(!I.contains(Oe))throw new fe(Re.INVALID_ARGUMENT,`Field '${Oe}' is specified in your field mask but missing from your input data.`);Vp(se,Oe)||se.push(Oe)}L=new Bi(se),K=I.fieldTransforms.filter(ge=>L.covers(ge.field))}else L=null,K=I.fieldTransforms;return new Ry(new kr(R),L,K)}class wc extends Gd{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wc}}function kp(l,e,r){return new Vu({fu:3,vu:e.settings.vu,methodName:l._methodName,yu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class cf extends Gd{_toFieldTransform(e){return new ka(e.path,new Hc)}isEqual(e){return e instanceof cf}}class qd extends Gd{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=kp(this,e,!0),s=this.Mu.map(y=>Wl(y,r)),d=new Ko(s);return new ka(e.path,d)}isEqual(e){return e instanceof qd&&(0,me.vZ)(this.Mu,e.Mu)}}class Zd extends Gd{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=kp(this,e,!0),s=this.Mu.map(y=>Wl(y,r)),d=new Po(s);return new ka(e.path,d)}isEqual(e){return e instanceof Zd&&(0,me.vZ)(this.Mu,e.Mu)}}class Gl extends Gd{constructor(e,r){super(e),this.xu=r}_toFieldTransform(e){const r=new Na(e.serializer,Oa(e.serializer,this.xu));return new ka(e.path,r)}isEqual(e){return e instanceof Gl&&this.xu===e.xu}}function ya(l,e,r,s){const d=l.Fu(1,e,r);Fp("Data must be an object, but it was:",d,s);const y=[],I=kr.empty();us(s,(L,K)=>{const se=Lp(e,L,r);K=(0,me.m9)(K);const ge=d.Su(se);if(K instanceof wc)y.push(se);else{const Oe=Wl(K,ge);null!=Oe&&(y.push(se),I.set(se,Oe))}});const R=new Bi(y);return new xy(I,R,d.fieldTransforms)}function Kd(l,e,r,s,d,y){const I=l.Fu(1,e,r),R=[Qd(e,s,r)],L=[d];if(y.length%2!=0)throw new fe(Re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Oe=0;Oe<y.length;Oe+=2)R.push(Qd(e,y[Oe])),L.push(y[Oe+1]);const K=[],se=kr.empty();for(let Oe=R.length-1;Oe>=0;--Oe)if(!Vp(K,R[Oe])){const ot=R[Oe];let Rt=L[Oe];Rt=(0,me.m9)(Rt);const Zt=I.Su(ot);if(Rt instanceof wc)K.push(ot);else{const Bt=Wl(Rt,Zt);null!=Bt&&(K.push(ot),se.set(ot,Bt))}}const ge=new Bi(K);return new xy(se,ge,I.fieldTransforms)}function Uu(l,e,r,s=!1){return Wl(r,l.Fu(s?4:3,e))}function Wl(l,e){if(Vs(l=(0,me.m9)(l)))return Fp("Unsupported field value:",e,l),Yd(l,e);if(l instanceof Gd)return function(s,d){if(!Oy(d.fu))throw d.Du(`${s._methodName}() can only be used with update() and set()`);if(!d.path)throw d.Du(`${s._methodName}() is not currently supported inside arrays`);const y=s._toFieldTransform(d);y&&d.fieldTransforms.push(y)}(l,e),null;if(void 0===l&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),l instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(s,d){const y=[];let I=0;for(const R of s){let L=Wl(R,d.bu(I));null==L&&(L={nullValue:"NULL_VALUE"}),y.push(L),I++}return{arrayValue:{values:y}}}(l,e)}return function(s,d){if(null===(s=(0,me.m9)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return Oa(d.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const y=Gn.fromDate(s);return{timestampValue:Fa(d.serializer,y)}}if(s instanceof Gn){const y=new Gn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Fa(d.serializer,y)}}if(s instanceof Np)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zl)return{bytesValue:wh(d.serializer,s._byteString)};if(s instanceof as){const y=d.databaseId,I=s.firestore._databaseId;if(!I.isEqual(y))throw d.Du(`Document reference is for database ${I.projectId}/${I.database} but should be for database ${y.projectId}/${y.database}`);return{referenceValue:La(s.firestore._databaseId||d.databaseId,s._key.path)}}throw d.Du(`Unsupported field value: ${Ha(s)}`)}(l,e)}function Yd(l,e){const r={};return Fc(l)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):us(l,(s,d)=>{const y=Wl(d,e.pu(s));null!=y&&(r[s]=y)}),{mapValue:{fields:r}}}function Vs(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof Gn||l instanceof Np||l instanceof zl||l instanceof as||l instanceof Gd)}function Fp(l,e,r){if(!Vs(r)||"object"!=typeof(d=r)||null===d||Object.getPrototypeOf(d)!==Object.prototype&&null!==Object.getPrototypeOf(d)){const s=Ha(r);throw e.Du("an object"===s?l+" a custom object":l+" "+s)}var d}function Qd(l,e,r){if((e=(0,me.m9)(e))instanceof dl)return e._internalPath;if("string"==typeof e)return Lp(l,e);throw va("Field path arguments must be of type string or ",l,!1,void 0,r)}const qg=new RegExp("[~\\*/\\[\\]]");function Lp(l,e,r){if(e.search(qg)>=0)throw va(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,r);try{return new dl(...e.split("."))._internalPath}catch{throw va(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,r)}}function va(l,e,r,s,d){const y=s&&!s.isEmpty(),I=void 0!==d;let R=`Function ${e}() called with invalid data`;r&&(R+=" (via `toFirestore()`)"),R+=". ";let L="";return(y||I)&&(L+=" (found",y&&(L+=` in field ${s}`),I&&(L+=` in document ${d}`),L+=")"),new fe(Re.INVALID_ARGUMENT,R+l+L)}function Vp(l,e){return l.some(r=>r.isEqual(e))}class lf{constructor(e,r,s,d,y){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=d,this._converter=y}get id(){return this._key.path.lastSegment()}get ref(){return new as(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new zv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Zg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class zv extends lf{data(){return super.data()}}function Zg(l,e){return"string"==typeof e?Lp(l,e):e instanceof dl?e._internalPath:e._delegate._internalPath}function Kg(l){if("L"===l.limitType&&0===l.explicitOrderBy.length)throw new fe(Re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bu{}class Jd extends Bu{}function m_(l,e,...r){let s=[];e instanceof Bu&&s.push(e),s=s.concat(r),function(y){const I=y.filter(L=>L instanceof Ac).length,R=y.filter(L=>L instanceof ql).length;if(I>1||I>0&&R>0)throw new fe(Re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const d of s)l=d._apply(l);return l}class ql extends Jd{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new ql(e,r,s)}_apply(e){const r=this._parse(e);return Ia(e._query,r),new Ls(e.firestore,e.converter,Ja(e._query,r))}_parse(e){const r=hl(e.firestore);return function(y,I,R,L,K,se,ge){let Oe;if(K.isKeyField()){if("array-contains"===se||"array-contains-any"===se)throw new fe(Re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${se}' queries on documentId().`);if("in"===se||"not-in"===se){Dc(ge,se);const ot=[];for(const Rt of ge)ot.push(Jg(L,y,Rt));Oe={arrayValue:{values:ot}}}else Oe=Jg(L,y,ge)}else"in"!==se&&"not-in"!==se&&"array-contains-any"!==se||Dc(ge,se),Oe=Uu(R,"where",ge,"in"===se||"not-in"===se);return Jn.create(K,se,Oe)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function Yg(l,e,r){const s=e,d=Zg("where",l);return ql._create(d,s,r)}class Ac extends Bu{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Ac(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:fr.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(d,y){let I=d;const R=y.getFlattenedFilters();for(const L of R)Ia(I,L),I=Ja(I,L)}(e._query,r),new Ls(e.firestore,e.converter,Ja(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Xd extends Jd{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Xd(e,r)}_apply(e){const r=function(d,y,I){if(null!==d.startAt)throw new fe(Re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==d.endAt)throw new fe(Re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ms(y,I)}(e._query,this._field,this._direction);return new Ls(e.firestore,e.converter,function(d,y){const I=d.explicitOrderBy.concat([y]);return new F(d.path,d.collectionGroup,I,d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(e._query,r))}}function uf(l,e="asc"){const r=e,s=Zg("orderBy",l);return Xd._create(s,r)}class eh extends Jd{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new eh(e,r,s)}_apply(e){return new Ls(e.firestore,e.converter,Xa(e._query,this._limit,this._limitType))}}function __(l){return nf("limit",l),eh._create("limit",l,"F")}function th(l){return nf("limitToLast",l),eh._create("limitToLast",l,"L")}class Ea extends Jd{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new Ea(e,r,s)}_apply(e){const r=v_(e,this.type,this._docOrFields,this._inclusive);return new Ls(e.firestore,e.converter,(y=r,new F((d=e._query).path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,y,d.endAt)));var d,y}}function Zl(...l){return Ea._create("startAt",l,!0)}function Kl(...l){return Ea._create("startAfter",l,!1)}class Up extends Jd{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new Up(e,r,s)}_apply(e){const r=v_(e,this.type,this._docOrFields,this._inclusive);return new Ls(e.firestore,e.converter,(y=r,new F((d=e._query).path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,y)));var d,y}}function nh(...l){return Up._create("endBefore",l,!1)}function y_(...l){return Up._create("endAt",l,!0)}function v_(l,e,r,s){if(r[0]=(0,me.m9)(r[0]),r[0]instanceof lf)return function(y,I,R,L,K){if(!L)throw new fe(Re.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${R}().`);const se=[];for(const ge of qi(y))if(ge.field.isKeyField())se.push(on(I,L.key));else{const Oe=L.data.field(ge.field);if(Ys(Oe))throw new fe(Re.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ge.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Oe){const ot=ge.field.canonicalString();throw new fe(Re.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ot}' (used as the orderBy) does not exist.`)}se.push(Oe)}return new ps(se,K)}(l._query,l.firestore._databaseId,e,r[0]._document,s);{const d=hl(l.firestore);return function(I,R,L,K,se,ge){const Oe=I.explicitOrderBy;if(se.length>Oe.length)throw new fe(Re.INVALID_ARGUMENT,`Too many arguments provided to ${K}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ot=[];for(let Rt=0;Rt<se.length;Rt++){const Zt=se[Rt];if(Oe[Rt].field.isKeyField()){if("string"!=typeof Zt)throw new fe(Re.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${K}(), but got a ${typeof Zt}`);if(!lr(I)&&-1!==Zt.indexOf("/"))throw new fe(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${K}() must be a plain document ID, but '${Zt}' contains a slash.`);const Bt=I.path.child(In.fromString(Zt));if(!Vt.isDocumentKey(Bt))throw new fe(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${K}() must result in a valid document path, but '${Bt}' is not because it contains an odd number of segments.`);const Pn=new Vt(Bt);ot.push(on(R,Pn))}else{const Bt=Uu(L,K,Zt);ot.push(Bt)}}return new ps(ot,ge)}(l._query,l.firestore._databaseId,d,e,r,s)}}function Jg(l,e,r){if("string"==typeof(r=(0,me.m9)(r))){if(""===r)throw new fe(Re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lr(e)&&-1!==r.indexOf("/"))throw new fe(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(In.fromString(r));if(!Vt.isDocumentKey(s))throw new fe(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return on(l,new Vt(s))}if(r instanceof as)return on(l,r._key);throw new fe(Re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ha(r)}.`)}function Dc(l,e){if(!Array.isArray(l)||0===l.length)throw new fe(Re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ia(l,e){const r=function(d,y){for(const I of d)for(const R of I.getFlattenedFilters())if(y.indexOf(R.op)>=0)return R.op;return null}(l.filters,function(d){switch(d){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new fe(Re.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class rh{convertValue(e,r="none"){switch(ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw xt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return us(e,(d,y)=>{s[d]=this.convertValue(y,r)}),s}convertGeoPoint(e){return new Np(mi(e.latitude),mi(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=Do(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Xi(e));default:return null}}convertTimestamp(e){const r=bs(e);return new Gn(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=In.fromString(e);Wt(Ee(s));const d=new Un(s.get(1),s.get(3)),y=new Vt(s.popFirst(5));return d.isEqual(r)||jt(`Document ${y} contains a document reference within a different database (${d.projectId}/${d.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),y}}function ih(l,e,r){let s;return s=l?r&&(r.merge||r.mergeFields)?l.toFirestore(e,r):l.toFirestore(e):e,s}class Bp extends rh{constructor(e){super(),this.firestore=e}convertBytes(e){return new zl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new as(this.firestore,null,r)}}class sh{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ju extends lf{constructor(e,r,s,d,y,I){super(e,r,s,d,I),this._firestore=e,this._firestoreImpl=e,this.metadata=y}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new $p(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(Zg("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class $p extends ju{data(e={}){return super.data(e)}}class Is{constructor(e,r,s,d){this._firestore=e,this._userDataWriter=r,this._snapshot=d,this.metadata=new sh(d.hasPendingWrites,d.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new $p(this._firestore,this._userDataWriter,s.key,s,new sh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new fe(Re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(d,y){if(d._snapshot.oldDocs.isEmpty()){let I=0;return d._snapshot.docChanges.map(R=>({type:"added",doc:new $p(d._firestore,d._userDataWriter,R.doc.key,R.doc,new sh(d._snapshot.mutatedKeys.has(R.doc.key),d._snapshot.fromCache),d.query.converter),oldIndex:-1,newIndex:I++}))}{let I=d._snapshot.oldDocs;return d._snapshot.docChanges.filter(R=>y||3!==R.type).map(R=>{const L=new $p(d._firestore,d._userDataWriter,R.doc.key,R.doc,new sh(d._snapshot.mutatedKeys.has(R.doc.key),d._snapshot.fromCache),d.query.converter);let K=-1,se=-1;return 0!==R.type&&(K=I.indexOf(R.doc.key),I=I.delete(R.doc.key)),1!==R.type&&(I=I.add(R.doc),se=I.indexOf(R.doc.key)),{type:em(R.type),doc:L,oldIndex:K,newIndex:se}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function em(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt()}}function Mc(l,e){return l instanceof ju&&e instanceof ju?l._firestore===e._firestore&&l._key.isEqual(e._key)&&(null===l._document?null===e._document:l._document.isEqual(e._document))&&l._converter===e._converter:l instanceof Is&&e instanceof Is&&l._firestore===e._firestore&&d_(l.query,e.query)&&l.metadata.isEqual(e.metadata)&&l._snapshot.isEqual(e._snapshot)}function Fy(l){l=wr(l,as);const e=wr(l.firestore,vi);return Bg(Vi(e),l._key).then(r=>ff(e,l,r))}class oh extends rh{constructor(e){super(),this.firestore=e}convertBytes(e){return new zl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new as(this.firestore,null,r)}}function E_(l){l=wr(l,as);const e=wr(l.firestore,vi),r=Vi(e),s=new oh(e);return function i_(l,e){const r=new ke;return l.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return(s=(0,g.Z)(function*(y,I,R){try{const L=yield function(se,ge){const Oe=lt(se);return Oe.persistence.runTransaction("read document","readonly",ot=>Oe.localDocuments.getDocument(ot,ge))}(y,I);L.isFoundDocument()?R.resolve(L):L.isNoDocument()?R.resolve(null):R.reject(new fe(Re.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(L){const K=Du(L,`Failed to get document '${I} from cache`);R.reject(K)}}),function d(y,I,R){return s.apply(this,arguments)})(yield ul(l),e,r);var s})),r.promise}(r,l._key).then(d=>new ju(e,s,l._key,d,new sh(null!==d&&d.hasLocalMutations,!0),l.converter))}function $u(l){l=wr(l,as);const e=wr(l.firestore,vi);return Bg(Vi(e),l._key,{source:"server"}).then(r=>ff(e,l,r))}function I_(l){l=wr(l,Ls);const e=wr(l.firestore,vi),r=Vi(e),s=new oh(e);return Kg(l._query),jg(r,l._query).then(d=>new Is(e,s,l,d))}function Hp(l){l=wr(l,Ls);const e=wr(l.firestore,vi),r=Vi(e),s=new oh(e);return function Sp(l,e){const r=new ke;return l.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return(s=(0,g.Z)(function*(y,I,R){try{const L=yield yi(y,I,!0),K=new zm(I,L.hs),se=K.da(L.documents),ge=K.applyChanges(se,!1);R.resolve(ge.snapshot)}catch(L){const K=Du(L,`Failed to execute query '${I} against cache`);R.reject(K)}}),function d(y,I,R){return s.apply(this,arguments)})(yield ul(l),e,r);var s})),r.promise}(r,l._query).then(d=>new Is(e,s,l,d))}function qv(l){l=wr(l,Ls);const e=wr(l.firestore,vi),r=Vi(e),s=new oh(e);return jg(r,l._query,{source:"server"}).then(d=>new Is(e,s,l,d))}function Ly(l,e,r){l=wr(l,as);const s=wr(l.firestore,vi),d=ih(l.converter,e,r);return zi(s,[Wd(hl(s),"setDoc",l._key,d,null!==l.converter,r).toMutation(l._key,ti.none())])}function tm(l,e,r,...s){l=wr(l,as);const d=wr(l.firestore,vi),y=hl(d);let I;return I="string"==typeof(e=(0,me.m9)(e))||e instanceof dl?Kd(y,"updateDoc",l._key,e,r,s):ya(y,"updateDoc",l._key,e),zi(d,[I.toMutation(l._key,ti.exists(!0))])}function ra(l){return zi(wr(l.firestore,vi),[new Qr(l._key,ti.none())])}function hf(l,e){const r=wr(l.firestore,vi),s=Hv(l),d=ih(l.converter,e);return zi(r,[Wd(hl(l.firestore),"addDoc",s._key,d,null!==l.converter,{}).toMutation(s._key,ti.exists(!1))]).then(()=>s)}function b_(l,...e){var r,s,d;l=(0,me.m9)(l);let y={includeMetadataChanges:!1,source:"default"},I=0;"object"!=typeof e[I]||sf(e[I])||(y=e[I],I++);const R={includeMetadataChanges:y.includeMetadataChanges,source:y.source};if(sf(e[I])){const ge=e[I];e[I]=null===(r=ge.next)||void 0===r?void 0:r.bind(ge),e[I+1]=null===(s=ge.error)||void 0===s?void 0:s.bind(ge),e[I+2]=null===(d=ge.complete)||void 0===d?void 0:d.bind(ge)}let L,K,se;if(l instanceof as)K=wr(l.firestore,vi),se=Ce(l._key.path),L={next:ge=>{e[I]&&e[I](ff(K,l,ge))},error:e[I+1],complete:e[I+2]};else{const ge=wr(l,Ls);K=wr(ge.firestore,vi),se=ge._query;const Oe=new oh(K);L={next:ot=>{e[I]&&e[I](new Is(K,Oe,ge,ot))},error:e[I+1],complete:e[I+2]},Kg(l._query)}return function(Oe,ot,Rt,Zt){const Bt=new Tp(Zt),Pn=new xd(ot,Bt,Rt);return Oe.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return Rd(yield xu(Oe),Pn)})),()=>{Bt.$a(),Oe.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return Su(yield xu(Oe),Pn)}))}}(Vi(K),se,R,L)}function Vy(l,e){return function Ey(l,e){const r=new Tp(e);return l.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return d=yield xu(l),y=r,lt(d).z_.add(y),void y.next();var d,y})),()=>{r.$a(),l.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return d=yield xu(l),y=r,void lt(d).z_.delete(y);var d,y}))}}(Vi(l=wr(l,vi)),sf(e)?e:{next:e})}function zi(l,e){return function(s,d){const y=new ke;return s.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function hp(l,e,r){return wg.apply(this,arguments)}(yield r_(s),d,y)})),y.promise}(Vi(l),e)}function ff(l,e,r){const s=r.docs.get(e._key),d=new oh(l);return new ju(l,d,e._key,s,new sh(r.hasPendingWrites,r.fromCache),e.converter)}const fl={maxAttempts:5};class zu{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=hl(e)}set(e,r,s){this._verifyNotCommitted();const d=Pc(e,this._firestore),y=ih(d.converter,r,s),I=Wd(this._dataReader,"WriteBatch.set",d._key,y,null!==d.converter,s);return this._mutations.push(I.toMutation(d._key,ti.none())),this}update(e,r,s,...d){this._verifyNotCommitted();const y=Pc(e,this._firestore);let I;return I="string"==typeof(r=(0,me.m9)(r))||r instanceof dl?Kd(this._dataReader,"WriteBatch.update",y._key,r,s,d):ya(this._dataReader,"WriteBatch.update",y._key,r),this._mutations.push(I.toMutation(y._key,ti.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Pc(e,this._firestore);return this._mutations=this._mutations.concat(new Qr(r._key,ti.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new fe(Re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Pc(l,e){if((l=(0,me.m9)(l)).firestore!==e)throw new fe(Re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}class $y extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=hl(r)}get(r){const s=Pc(r,this._firestore),d=new Bp(this._firestore);return this._transaction.lookup([s._key]).then(y=>{if(!y||1!==y.length)return xt();const I=y[0];if(I.isFoundDocument())return new lf(this._firestore,d,I.key,I,s.converter);if(I.isNoDocument())return new lf(this._firestore,d,s._key,null,s.converter);throw xt()})}set(r,s,d){const y=Pc(r,this._firestore),I=ih(y.converter,s,d),R=Wd(this._dataReader,"Transaction.set",y._key,I,null!==y.converter,d);return this._transaction.set(y._key,R),this}update(r,s,d,...y){const I=Pc(r,this._firestore);let R;return R="string"==typeof(s=(0,me.m9)(s))||s instanceof dl?Kd(this._dataReader,"Transaction.update",I._key,s,d,y):ya(this._dataReader,"Transaction.update",I._key,s),this._transaction.update(I._key,R),this}delete(r){const s=Pc(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=Pc(e,this._firestore),s=new oh(this._firestore);return super.get(e).then(d=>new ju(this._firestore,s,r._key,d._document,new sh(!1,!1),r.converter))}}function gf(l,e,r){l=wr(l,vi);const s=Object.assign(Object.assign({},fl),r);return function(y){if(y.maxAttempts<1)throw new fe(Re.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(y,I,R){const L=new ke;return y.asyncQueue.enqueueAndForget((0,g.Z)(function*(){const K=yield function _y(l){return Lg(l).then(e=>e.datastore)}(y);new py(y.asyncQueue,K,R,I,L).Xa()})),L.promise}(Vi(l),d=>e(new $y(l,d)),s)}function Gp(){return new wc("deleteField")}function ah(){return new cf("serverTimestamp")}function mf(...l){return new qd("arrayUnion",l)}function _f(...l){return new Zd("arrayRemove",l)}function D_(l){return new Gl("increment",l)}!function(e,r=!0){He=u.SDK_VERSION,(0,u._registerComponent)(new G.wA("firestore",(s,{instanceIdentifier:d,options:y})=>{const I=s.getProvider("app").getImmediate(),R=new vi(new It(s.getProvider("auth-internal")),new gn(s.getProvider("app-check-internal")),function(K,se){if(!Object.prototype.hasOwnProperty.apply(K.options,["projectId"]))throw new fe(Re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Un(K.options.projectId,se)}(I,d),I);return y=Object.assign({useFetchStreams:r},y),R._setSettings(y),R},"PUBLIC").setMultipleInstances(!0)),(0,u.registerVersion)(Fe,"4.6.3",e),(0,u.registerVersion)(Fe,"4.6.3","esm2017")}()},9058:(Jt,Ye,B)=>{B.d(Ye,{BH:()=>He,G6:()=>Re,L:()=>We,LL:()=>It,P0:()=>qe,Pz:()=>it,Sg:()=>ct,UG:()=>ve,ZB:()=>ye,ZR:()=>ut,aH:()=>Fe,b$:()=>hr,eu:()=>ke,hl:()=>fe,jU:()=>jt,m9:()=>Er,ne:()=>yr,pd:()=>Rn,r3:()=>or,ru:()=>an,tV:()=>te,uI:()=>kt,vZ:()=>In,w1:()=>Wt,xO:()=>Vt,xb:()=>Lt,z$:()=>At,zd:()=>bn});const be=function(xe){const re=[];let W=0;for(let $=0;$<xe.length;$++){let U=xe.charCodeAt($);U<128?re[W++]=U:U<2048?(re[W++]=U>>6|192,re[W++]=63&U|128):55296==(64512&U)&&$+1<xe.length&&56320==(64512&xe.charCodeAt($+1))?(U=65536+((1023&U)<<10)+(1023&xe.charCodeAt(++$)),re[W++]=U>>18|240,re[W++]=U>>12&63|128,re[W++]=U>>6&63|128,re[W++]=63&U|128):(re[W++]=U>>12|224,re[W++]=U>>6&63|128,re[W++]=63&U|128)}return re},Ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(xe,re){if(!Array.isArray(xe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=re?this.byteToCharMapWebSafe_:this.byteToCharMap_,$=[];for(let U=0;U<xe.length;U+=3){const pe=xe[U],Be=U+1<xe.length,Tt=Be?xe[U+1]:0,Ot=U+2<xe.length,sn=Ot?xe[U+2]:0;let qn=(15&Tt)<<2|sn>>6,Ne=63&sn;Ot||(Ne=64,Be||(qn=64)),$.push(W[pe>>2],W[(3&pe)<<4|Tt>>4],W[qn],W[Ne])}return $.join("")},encodeString(xe,re){return this.HAS_NATIVE_SUPPORT&&!re?btoa(xe):this.encodeByteArray(be(xe),re)},decodeString(xe,re){return this.HAS_NATIVE_SUPPORT&&!re?atob(xe):function(xe){const re=[];let W=0,$=0;for(;W<xe.length;){const U=xe[W++];if(U<128)re[$++]=String.fromCharCode(U);else if(U>191&&U<224){const pe=xe[W++];re[$++]=String.fromCharCode((31&U)<<6|63&pe)}else if(U>239&&U<365){const Ot=((7&U)<<18|(63&xe[W++])<<12|(63&xe[W++])<<6|63&xe[W++])-65536;re[$++]=String.fromCharCode(55296+(Ot>>10)),re[$++]=String.fromCharCode(56320+(1023&Ot))}else{const pe=xe[W++],Be=xe[W++];re[$++]=String.fromCharCode((15&U)<<12|(63&pe)<<6|63&Be)}}return re.join("")}(this.decodeStringToByteArray(xe,re))},decodeStringToByteArray(xe,re){this.init_();const W=re?this.charToByteMapWebSafe_:this.charToByteMap_,$=[];for(let U=0;U<xe.length;){const pe=W[xe.charAt(U++)],Tt=U<xe.length?W[xe.charAt(U)]:0;++U;const sn=U<xe.length?W[xe.charAt(U)]:64;++U;const ln=U<xe.length?W[xe.charAt(U)]:64;if(++U,null==pe||null==Tt||null==sn||null==ln)throw new Se;$.push(pe<<2|Tt>>4),64!==sn&&($.push(Tt<<4&240|sn>>2),64!==ln&&$.push(sn<<6&192|ln))}return $},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let xe=0;xe<this.ENCODED_VALS.length;xe++)this.byteToCharMap_[xe]=this.ENCODED_VALS.charAt(xe),this.charToByteMap_[this.byteToCharMap_[xe]]=xe,this.byteToCharMapWebSafe_[xe]=this.ENCODED_VALS_WEBSAFE.charAt(xe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[xe]]=xe,xe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(xe)]=xe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(xe)]=xe)}}};class Se extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const We=function(xe){return function(xe){const re=be(xe);return Ae.encodeByteArray(re,!0)}(xe).replace(/\./g,"")},te=function(xe){try{return Ae.decodeString(xe,!0)}catch(re){console.error("base64Decode failed: ",re)}return null};function ye(xe,re){if(!(re instanceof Object))return re;switch(re.constructor){case Date:return new Date(re.getTime());case Object:void 0===xe&&(xe={});break;case Array:xe=[];break;default:return re}for(const W in re)!re.hasOwnProperty(W)||!st(W)||(xe[W]=ye(xe[W],re[W]));return xe}function st(xe){return"__proto__"!==xe}const Et=()=>{try{return function rt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const xe=process.env.__FIREBASE_DEFAULTS__;return xe?JSON.parse(xe):void 0})()||(()=>{if(typeof document>"u")return;let xe;try{xe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const re=xe&&te(xe[1]);return re&&JSON.parse(re)})()}catch(xe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${xe}`)}},qe=xe=>{const re=(xe=>{var re,W;return null===(W=null===(re=Et())||void 0===re?void 0:re.emulatorHosts)||void 0===W?void 0:W[xe]})(xe);if(!re)return;const W=re.lastIndexOf(":");if(W<=0||W+1===re.length)throw new Error(`Invalid host ${re} with no separate hostname and port!`);const $=parseInt(re.substring(W+1),10);return"["===re[0]?[re.substring(1,W-1),$]:[re.substring(0,W),$]},Fe=()=>{var xe;return null===(xe=Et())||void 0===xe?void 0:xe.config},it=xe=>{var re;return null===(re=Et())||void 0===re?void 0:re[`_${xe}`]};class He{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((re,W)=>{this.resolve=re,this.reject=W})}wrapCallback(re){return(W,$)=>{W?this.reject(W):this.resolve($),"function"==typeof re&&(this.promise.catch(()=>{}),1===re.length?re(W):re(W,$))}}}function ct(xe,re){if(xe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const $=re||"demo-project",U=xe.iat||0,pe=xe.sub||xe.user_id;if(!pe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Be=Object.assign({iss:`https://securetoken.google.com/${$}`,aud:$,iat:U,exp:U+3600,auth_time:U,sub:pe,user_id:pe,firebase:{sign_in_provider:"custom",identities:{}}},xe);return[We(JSON.stringify({alg:"none",type:"JWT"})),We(JSON.stringify(Be)),""].join(".")}function At(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function kt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}function ve(){var xe;const re=null===(xe=Et())||void 0===xe?void 0:xe.forceEnvironment;if("node"===re)return!0;if("browser"===re)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function jt(){return"object"==typeof self&&self.self===self}function an(){const xe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof xe&&void 0!==xe.id}function hr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Wt(){const xe=At();return xe.indexOf("MSIE ")>=0||xe.indexOf("Trident/")>=0}function Re(){return!ve()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fe(){try{return"object"==typeof indexedDB}catch{return!1}}function ke(){return new Promise((xe,re)=>{try{let W=!0;const $="validate-browser-context-for-indexeddb-analytics-module",U=self.indexedDB.open($);U.onsuccess=()=>{U.result.close(),W||self.indexedDB.deleteDatabase($),xe(!0)},U.onupgradeneeded=()=>{W=!1},U.onerror=()=>{var pe;re((null===(pe=U.error)||void 0===pe?void 0:pe.message)||"")}}catch(W){re(W)}})}class ut extends Error{constructor(re,W,$){super(W),this.code=re,this.customData=$,this.name="FirebaseError",Object.setPrototypeOf(this,ut.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,It.prototype.create)}}class It{constructor(re,W,$){this.service=re,this.serviceName=W,this.errors=$}create(re,...W){const $=W[0]||{},U=`${this.service}/${re}`,pe=this.errors[re],Be=pe?function Gt(xe,re){return xe.replace(Ht,(W,$)=>{const U=re[$];return null!=U?String(U):`<${$}?>`})}(pe,$):"Error";return new ut(U,`${this.serviceName}: ${Be} (${U}).`,$)}}const Ht=/\{\$([^}]+)}/g;function or(xe,re){return Object.prototype.hasOwnProperty.call(xe,re)}function Lt(xe){for(const re in xe)if(Object.prototype.hasOwnProperty.call(xe,re))return!1;return!0}function In(xe,re){if(xe===re)return!0;const W=Object.keys(xe),$=Object.keys(re);for(const U of W){if(!$.includes(U))return!1;const pe=xe[U],Be=re[U];if(Ar(pe)&&Ar(Be)){if(!In(pe,Be))return!1}else if(pe!==Be)return!1}for(const U of $)if(!W.includes(U))return!1;return!0}function Ar(xe){return null!==xe&&"object"==typeof xe}function Vt(xe){const re=[];for(const[W,$]of Object.entries(xe))Array.isArray($)?$.forEach(U=>{re.push(encodeURIComponent(W)+"="+encodeURIComponent(U))}):re.push(encodeURIComponent(W)+"="+encodeURIComponent($));return re.length?"&"+re.join("&"):""}function bn(xe){const re={};return xe.replace(/^\?/,"").split("&").forEach($=>{if($){const[U,pe]=$.split("=");re[decodeURIComponent(U)]=decodeURIComponent(pe)}}),re}function Rn(xe){const re=xe.indexOf("?");if(!re)return"";const W=xe.indexOf("#",re);return xe.substring(re,W>0?W:void 0)}function yr(xe,re){const W=new vr(xe,re);return W.subscribe.bind(W)}class vr{constructor(re,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{re(this)}).catch($=>{this.error($)})}next(re){this.forEachObserver(W=>{W.next(re)})}error(re){this.forEachObserver(W=>{W.error(re)}),this.close(re)}complete(){this.forEachObserver(re=>{re.complete()}),this.close()}subscribe(re,W,$){let U;if(void 0===re&&void 0===W&&void 0===$)throw new Error("Missing Observer.");U=function Hn(xe,re){if("object"!=typeof xe||null===xe)return!1;for(const W of re)if(W in xe&&"function"==typeof xe[W])return!0;return!1}(re,["next","error","complete"])?re:{next:re,error:W,complete:$},void 0===U.next&&(U.next=$r),void 0===U.error&&(U.error=$r),void 0===U.complete&&(U.complete=$r);const pe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?U.error(this.finalError):U.complete()}catch{}}),this.observers.push(U),pe}unsubscribeOne(re){void 0===this.observers||void 0===this.observers[re]||(delete this.observers[re],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(re){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,re)}sendOne(re,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[re])try{W(this.observers[re])}catch($){typeof console<"u"&&console.error&&console.error($)}})}close(re){this.finalized||(this.finalized=!0,void 0!==re&&(this.finalError=re),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $r(){}function Er(xe){return xe&&xe._delegate?xe._delegate:xe}},769:(Jt,Ye,B)=>{B.d(Ye,{y:()=>ye});var g=B(5861),u=B(2181),G=B(7398),be=B(1631),me=B(6306),Ae=B(2096),Se=B(3914),De=B(5879),We=B(7104),te=B(9862),oe=B(6814);let ye=(()=>{class st{constructor(mt,ft,wt,Et,nn,qe){this.firestore=mt,this.http=ft,this.route=wt,this.location=Et,this.router=nn,this.activatedRoute=qe,this.analyticsCollection=this.firestore.collection("analytics"),this.trackPageViews()}getAnalytics(){return this.firestore.collection("analytics",mt=>mt.orderBy("timestamp","desc")).valueChanges()}trackPageViews(){this.router.events.pipe((0,u.h)(mt=>mt instanceof Se.m2),(0,G.U)(()=>this.activatedRoute),(0,G.U)(mt=>{for(;mt.firstChild;)mt=mt.firstChild;return mt}),(0,be.z)(mt=>mt.queryParams),(0,be.z)(mt=>this.router.events.pipe((0,u.h)(ft=>ft instanceof Se.m2),(0,G.U)(ft=>({navigationEvent:ft,queryParams:mt}))))).subscribe(({navigationEvent:mt,queryParams:ft})=>{this.logAnalyticsData(mt.urlAfterRedirects,ft,mt.type)})}logAnalyticsData(mt,ft,wt){var Et=this;return(0,g.Z)(function*(){const nn=navigator.userAgent,qe=new Date,Fe=Et.getBrowserType(nn),it=/mobile/i.test(nn),He={pagePath:mt,queryParams:ft,timestamp:qe,browser:Fe,isMobile:it,event_type:wt};return Et.firestore.collection("analytics").add(He)})()}getBrowserType(mt){return mt.includes("Firefox")?"Firefox":mt.includes("Chrome")?"Chrome":mt.includes("Safari")?"Safari":mt.includes("Edge")?"Edge":"Unknown"}getIPAddress(){return this.http.get("https://api.ipify.org/?format=json").pipe((0,me.K)(mt=>(console.error("Error getting IP address: ",mt),(0,Ae.of)({ip:"Unknown"}))))}static#e=this.\u0275fac=function(ft){return new(ft||st)(De.LFG(We.ST),De.LFG(te.eN),De.LFG(Se.gz),De.LFG(oe.Ye),De.LFG(Se.F0),De.LFG(Se.gz))};static#t=this.\u0275prov=De.Yz7({token:st,factory:st.\u0275fac,providedIn:"root"})}return st})()},4626:(Jt,Ye,B)=>{B.d(Ye,{e:()=>De});var g=B(5861),u=B(2459),G=B(6306),be=B(7398),me=B(5879),Ae=B(7213),Se=B(3914);let De=(()=>{class We{constructor(oe,ye){this.afAuth=oe,this.router=ye,this.user$=this.afAuth.authState}login(oe,ye){return this.router.navigate(["/admin"]),(0,u.D)(this.afAuth.signInWithEmailAndPassword(oe,ye)).pipe((0,G.K)(st=>{throw console.error("Login error: ",st),st}))}logout(){var oe=this;return(0,g.Z)(function*(){yield oe.afAuth.signOut(),oe.router.navigate(["/login"])})()}isLoggedIn(){return this.user$.pipe((0,be.U)(oe=>!!oe))}static#e=this.\u0275fac=function(ye){return new(ye||We)(me.LFG(Ae.zQ),me.LFG(Se.F0))};static#t=this.\u0275prov=me.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"})}return We})()},5842:(Jt,Ye,B)=>{B.d(Ye,{I:()=>be});class g{constructor(){this.errorMessage="",this.errorContext="",this.errorDate=new Date,this.id=""}}var u=B(5879),G=B(7104);let be=(()=>{class me{constructor(Se){this.firestore=Se,this.err=new g,this.errorLogsCollection=this.firestore.collection("errorLogs")}logError(Se,De){const We={message:Se.message||Se.toString(),stack:Se.stack||"",timestamp:new Date,context:De||""};return this.firestore.collection("errorLogs").add(Object.assign({},We))}getErrorLogs(){return this.firestore.collection("errorLogs",Se=>Se.orderBy("timestamp","desc")).valueChanges()}static#e=this.\u0275fac=function(De){return new(De||me)(u.LFG(G.ST))};static#t=this.\u0275prov=u.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"})}return me})()},3375:(Jt,Ye,B)=>{B.d(Ye,{n:()=>Se});var g=B(7398),u=B(6306),G=B(8504),be=B(5879),me=B(7104),Ae=B(5842);let Se=(()=>{class De{constructor(te,oe){this.firestore=te,this.errorLoggingService=oe,this.eventsCollection=this.firestore.collection("Events")}getEvents(){return this.firestore.collection("Events",te=>te.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,g.U)(te=>te.map(oe=>{const ye=oe.payload.doc.data();return{id:oe.payload.doc.id,...ye}}))).pipe((0,g.U)(te=>te.filter(oe=>1==oe.Approved))).pipe((0,u.K)(te=>(this.errorLoggingService.logError(te,"getEvents"),(0,G._)(()=>new Error(te)))))}getAllEvents(){return this.firestore.collection("Events",te=>te.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,g.U)(te=>te.map(oe=>{const ye=oe.payload.doc.data();return{id:oe.payload.doc.id,...ye}}))).pipe((0,u.K)(te=>(this.errorLoggingService.logError(te,"getAllEvents"),(0,G._)(()=>new Error(te)))))}getEventById(te){return this.eventsCollection.doc(te).valueChanges().pipe((0,u.K)(oe=>(this.errorLoggingService.logError(oe,"getGetEventById: "+te),(0,G._)(()=>new Error(oe)))))}addEvent(te){const oe=this.firestore.createId();return te.Date_Created=new Date,te.Date_Updated=new Date,te.ApprovedDate=new Date,te.Approved=!0,this.firestore.collection("Events").doc(oe).set(te).catch(ye=>{throw this.errorLoggingService.logError(ye,"addEvent"),ye})}updateEvent(te,oe){return oe.Date_Updated=new Date,this.eventsCollection.doc(te).update(oe).catch(ye=>{throw this.errorLoggingService.logError(ye,"updateEvent"),ye}),this.firestore.doc(`Events/${te}`).valueChanges().pipe((0,g.U)(ye=>ye?{id:te,...ye}:void 0))}deleteService(te){return this.eventsCollection.doc(te).delete().catch(oe=>{throw this.errorLoggingService.logError(oe,"deleteEvent"),oe})}static#e=this.\u0275fac=function(oe){return new(oe||De)(be.LFG(me.ST),be.LFG(Ae.I))};static#t=this.\u0275prov=be.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})()},8924:(Jt,Ye,B)=>{B.d(Ye,{b:()=>Se});var g=B(7398),u=B(6306),G=B(8504),be=B(5879),me=B(7104),Ae=B(5842);let Se=(()=>{class De{constructor(te,oe){this.firestore=te,this.errorLoggingService=oe,this.offerCollection=this.firestore.collection("Offers")}getAllOffers(){return this.firestore.collection("Offers",te=>te.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,g.U)(te=>te.map(oe=>{const ye=oe.payload.doc.data();return{id:oe.payload.doc.id,...ye}}))).pipe((0,g.U)(te=>te.filter(oe=>1==oe.Approved))).pipe((0,u.K)(te=>(this.errorLoggingService.logError(te,"getAllOffers"),(0,G._)(()=>new Error(te)))))}getOffers(){return this.firestore.collection("Offers",te=>te.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,g.U)(te=>te.map(oe=>{const ye=oe.payload.doc.data();return{id:oe.payload.doc.id,...ye}}))).pipe((0,g.U)(te=>te.filter(oe=>1==oe.Approved))).pipe((0,g.U)(te=>te.filter(oe=>1==oe.Approved))).pipe((0,u.K)(te=>(this.errorLoggingService.logError(te,"getApprovedOffers"),(0,G._)(()=>new Error(te)))))}getOfferById(te){return this.firestore.collection("Offers").doc(te).valueChanges().pipe((0,u.K)(oe=>(this.errorLoggingService.logError(oe,"getGetOffersById: "+te),(0,G._)(()=>new Error(oe)))))}addOffer(te){const oe=this.firestore.createId();return te.id=oe,te.Date_Created=(new Date).toISOString(),te.Date_Updated=(new Date).toISOString(),this.offerCollection.doc(oe).set(te).catch(ye=>{throw this.errorLoggingService.logError(ye,"addOffer"),ye}),this.firestore.doc(`Offers/${oe}`).valueChanges().pipe((0,g.U)(ye=>ye?{id:oe,...ye}:void 0))}updateOffer(te,oe){return console.log("Update Offer: "+te),oe.Date_Updated=(new Date).toISOString(),this.offerCollection.doc(te).update(oe).catch(ye=>{throw this.errorLoggingService.logError(ye,"updateOffer"),ye}),this.firestore.doc(`Offers/${te}`).valueChanges().pipe((0,g.U)(ye=>ye?{id:te,...ye}:void 0))}getAllOfferTypes(){return this.firestore.collection("OfferTypes").valueChanges().pipe((0,g.U)(te=>{const oe=te.map(ye=>ye.OfferType);return Array.from(new Set(oe))})).pipe((0,u.K)(te=>(this.errorLoggingService.logError(te,"getOfferTypes"),(0,G._)(()=>new Error(te)))))}deleteOffer(te){return this.offerCollection.doc(te).delete().catch(oe=>{throw this.errorLoggingService.logError(oe,"deleteOffer"),oe})}static#e=this.\u0275fac=function(oe){return new(oe||De)(be.LFG(me.ST),be.LFG(Ae.I))};static#t=this.\u0275prov=be.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})()},614:(Jt,Ye,B)=>{B.d(Ye,{r:()=>Se});var g=B(7398),u=B(6306),G=B(8504),be=B(5879),me=B(7104),Ae=B(5842);let Se=(()=>{class De{constructor(te,oe){this.firestore=te,this.errorLoggingService=oe,this.servicesCollection=this.firestore.collection("Services")}getServices(){return this.firestore.collection("Services",te=>te.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,g.U)(te=>te.map(oe=>{const ye=oe.payload.doc.data();return{id:oe.payload.doc.id,...ye}}))).pipe((0,g.U)(te=>te.filter(oe=>1==oe.Approved))).pipe((0,u.K)(te=>(this.errorLoggingService.logError(te,"getApprovedServices"),(0,G._)(()=>new Error(te)))))}getAllServices(){return this.firestore.collection("Services",te=>te.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,g.U)(te=>te.map(oe=>{const ye=oe.payload.doc.data();return{id:oe.payload.doc.id,...ye}}))).pipe((0,u.K)(te=>(this.errorLoggingService.logError(te,"getAllServices"),(0,G._)(()=>new Error(te)))))}getServiceById(te){return this.servicesCollection.doc(te).valueChanges().pipe((0,u.K)(oe=>(this.errorLoggingService.logError(oe,"getGetServiceById: "+te),(0,G._)(()=>new Error(oe)))))}getServicesByType(te){return this.firestore.collection("Services",oe=>oe.where("Service_Type","==",te).orderBy("Community_Sponsor","desc")).valueChanges().pipe((0,u.K)(oe=>(this.errorLoggingService.logError(oe,"getServiceByServiceType: "+te),(0,G._)(()=>new Error(oe)))))}getAllServiceTypes(){return this.firestore.collection("ListOfServices").valueChanges().pipe((0,g.U)(te=>{const oe=te.map(ye=>ye.Name);return Array.from(new Set(oe))})).pipe((0,u.K)(te=>(this.errorLoggingService.logError(te,"getServiceTypes"),(0,G._)(()=>new Error(te)))))}addService(te){const oe=this.firestore.createId();return te.id=oe,te.Date_Created=(new Date).toISOString(),te.Date_Updated=(new Date).toISOString(),this.servicesCollection.doc(oe).set(te).catch(ye=>{throw this.errorLoggingService.logError(ye,"addService"),ye}),this.firestore.doc(`Services/${oe}`).valueChanges().pipe((0,g.U)(ye=>ye?{id:oe,...ye}:void 0))}updateService(te,oe){return oe.Date_Updated=(new Date).toISOString(),this.servicesCollection.doc(te).update(oe).catch(ye=>{throw this.errorLoggingService.logError(ye,"updateService"),ye}),this.firestore.doc(`Services/${te}`).valueChanges().pipe((0,g.U)(ye=>ye?{id:te,...ye}:void 0))}deleteService(te){return this.servicesCollection.doc(te).delete().catch(oe=>{throw this.errorLoggingService.logError(oe,"deleteService"),oe})}static#e=this.\u0275fac=function(oe){return new(oe||De)(be.LFG(me.ST),be.LFG(Ae.I))};static#t=this.\u0275prov=be.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})()},2380:(Jt,Ye,B)=>{B.d(Ye,{d:()=>me});var g=B(5879),u=B(769),G=B(6814);function be(Ae,Se){if(1&Ae&&(g.TgZ(0,"tr")(1,"td"),g._uU(2),g.ALo(3,"date"),g.qZA(),g.TgZ(4,"td"),g._uU(5),g.qZA(),g.TgZ(6,"td"),g._uU(7),g.qZA(),g.TgZ(8,"td"),g._uU(9),g.ALo(10,"json"),g.qZA(),g.TgZ(11,"td"),g._uU(12),g.qZA(),g.TgZ(13,"td"),g._uU(14),g.qZA(),g.TgZ(15,"td"),g._uU(16),g.qZA()()),2&Ae){const De=Se.$implicit;g.xp6(2),g.Oqu(g.xi3(3,7,null==De.timestamp?null:De.timestamp.toDate(),"short")),g.xp6(3),g.Oqu(De.eventType),g.xp6(2),g.Oqu(De.pagePath),g.xp6(2),g.Oqu(g.lcZ(10,10,De.queryParams)),g.xp6(3),g.Oqu(De.browser),g.xp6(2),g.Oqu(De.isMobile?"Mobile":"Desktop"),g.xp6(2),g.Oqu(De.ipAddress)}}let me=(()=>{class Ae{constructor(De){this.analyticsService=De}ngOnInit(){this.analyticsService.getAnalytics().subscribe(De=>{this.analyticsLogs=De},De=>{console.error("Error fetching analytics:",De)})}static#e=this.\u0275fac=function(We){return new(We||Ae)(g.Y36(u.y))};static#t=this.\u0275cmp=g.Xpm({type:Ae,selectors:[["app-analytics"]],decls:22,vars:1,consts:[[1,"analytics-container"],[4,"ngFor","ngForOf"]],template:function(We,te){1&We&&(g.TgZ(0,"div",0)(1,"h2"),g._uU(2,"Analytics Logs"),g.qZA(),g.TgZ(3,"table")(4,"thead")(5,"tr")(6,"th"),g._uU(7,"Timestamp"),g.qZA(),g.TgZ(8,"th"),g._uU(9,"Event Type"),g.qZA(),g.TgZ(10,"th"),g._uU(11,"Page Path"),g.qZA(),g.TgZ(12,"th"),g._uU(13,"Query Params"),g.qZA(),g.TgZ(14,"th"),g._uU(15,"Browser"),g.qZA(),g.TgZ(16,"th"),g._uU(17,"Device"),g.qZA(),g.TgZ(18,"th"),g._uU(19,"IP Address"),g.qZA()()(),g.TgZ(20,"tbody"),g.YNc(21,be,17,12,"tr",1),g.qZA()()()),2&We&&(g.xp6(21),g.Q6J("ngForOf",te.analyticsLogs))},dependencies:[G.sg,G.Ts,G.uU],styles:[".analytics-container[_ngcontent-%COMP%]{padding:20px;margin:auto}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;text-align:left}th[_ngcontent-%COMP%]{background-color:#f2f2f2}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}"]})}return Ae})()},3935:(Jt,Ye,B)=>{var g=B(6593),u=B(5879),G=B(6814);let be;try{be=typeof Intl<"u"&&Intl.v8BreakIterator}catch{be=!1}let te,me=(()=>{class f{constructor(a){this._platformId=a,this.isBrowser=this._platformId?(0,G.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!be)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(u.Lbi))};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();function ye(f){return function oe(){if(null==te&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>te=!0}))}finally{te=te||!1}return te}()?f:!!f.capture}function ji(f){return Array.isArray(f)?f:[f]}var zo=B(8645),ts=B(2572),$s=B(5211),Or=B(5592),on=B(8180),Wn=B(2181),Di=B(6321),Qs=B(9360),ei=B(8251);function ds(f,c=Di.z){return(0,Qs.e)((a,p)=>{let b=null,k=null,ee=null;const de=()=>{if(b){b.unsubscribe(),b=null;const Ze=k;k=null,p.next(Ze)}};function Pe(){const Ze=ee+f,St=c.now();if(St<Ze)return b=this.schedule(void 0,Ze-St),void p.add(b);de()}a.subscribe((0,ei.x)(p,Ze=>{k=Ze,ee=c.now(),b||(b=c.schedule(Pe,f),p.add(b))},()=>{de(),p.complete()},void 0,()=>{k=b=null}))})}var Cr=B(7398),hs=B(7921),yo=B(9773);const fs=new Set;let kr,Oi=(()=>{class f{constructor(a,p){this._platform=a,this._nonce=p,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ps}matchMedia(a){return(this._platform.WEBKIT||this._platform.BLINK)&&function Bn(f,c){if(!fs.has(f))try{kr||(kr=document.createElement("style"),c&&(kr.nonce=c),kr.setAttribute("type","text/css"),document.head.appendChild(kr)),kr.sheet&&(kr.sheet.insertRule(`@media ${f} {body{ }}`,0),fs.add(f))}catch(a){console.error(a)}}(a,this._nonce),this._matchMedia(a)}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(me),u.LFG(u.Ojb,8))};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();function ps(f){return{matches:"all"===f||""===f,media:f,addListener:()=>{},removeListener:()=>{}}}let Si=(()=>{class f{constructor(a,p){this._mediaMatcher=a,this._zone=p,this._queries=new Map,this._destroySubject=new zo.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(a){return gs(ji(a)).some(b=>this._registerQuery(b).mql.matches)}observe(a){const b=gs(ji(a)).map(ee=>this._registerQuery(ee).observable);let k=(0,ts.a)(b);return k=(0,$s.z)(k.pipe((0,on.q)(1)),k.pipe(function Sr(f){return(0,Wn.h)((c,a)=>f<=a)}(1),ds(0))),k.pipe((0,Cr.U)(ee=>{const de={matches:!1,breakpoints:{}};return ee.forEach(({matches:Pe,query:Ze})=>{de.matches=de.matches||Pe,de.breakpoints[Ze]=Pe}),de}))}_registerQuery(a){if(this._queries.has(a))return this._queries.get(a);const p=this._mediaMatcher.matchMedia(a),k={observable:new Or.y(ee=>{const de=Pe=>this._zone.run(()=>ee.next(Pe));return p.addListener(de),()=>{p.removeListener(de)}}).pipe((0,hs.O)(p),(0,Cr.U)(({matches:ee})=>({query:a,matches:ee})),(0,yo.R)(this._destroySubject)),mql:p};return this._queries.set(a,k),k}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(Oi),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();function gs(f){return f.map(c=>c.split(",")).reduce((c,a)=>c.concat(a)).map(c=>c.trim())}const to="cdk-high-contrast-black-on-white",no="cdk-high-contrast-white-on-black",So="cdk-high-contrast-active";let xa=(()=>{class f{constructor(a,p){this._platform=a,this._document=p,this._breakpointSubscription=(0,u.f3M)(Si).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const a=this._document.createElement("div");a.style.backgroundColor="rgb(1,2,3)",a.style.position="absolute",this._document.body.appendChild(a);const p=this._document.defaultView||window,b=p&&p.getComputedStyle?p.getComputedStyle(a):null,k=(b&&b.backgroundColor||"").replace(/ /g,"");switch(a.remove(),k){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const a=this._document.body.classList;a.remove(So,to,no),this._hasCheckedHighContrastMode=!0;const p=this.getHighContrastMode();1===p?a.add(So,to):2===p&&a.add(So,no)}}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(me),u.LFG(G.K0))};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})(),Mo=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=u.oAB({type:f});static#n=this.\u0275inj=u.cJS({})}return f})();const ti=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function zc(){return!0}});let P=(()=>{class f{constructor(a,p,b){this._sanityChecks=p,this._document=b,this._hasDoneGlobalChecks=!1,a._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(a){return!function it(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[a])}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(xa),u.LFG(ti,8),u.LFG(G.K0))};static#t=this.\u0275mod=u.oAB({type:f});static#n=this.\u0275inj=u.cJS({imports:[Mo,Mo]})}return f})(),Ro=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=u.oAB({type:f});static#n=this.\u0275inj=u.cJS({imports:[P,P]})}return f})();const cu=ye({passive:!0,capture:!0});class Tl{constructor(){this._events=new Map,this._delegateEventHandler=c=>{const a=function Fe(f){return f.composedPath?f.composedPath()[0]:f.target}(c);a&&this._events.get(c.type)?.forEach((p,b)=>{(b===a||b.contains(a))&&p.forEach(k=>k.handleEvent(c))})}}addHandler(c,a,p,b){const k=this._events.get(a);if(k){const ee=k.get(p);ee?ee.add(b):k.set(p,new Set([b]))}else this._events.set(a,new Map([[p,new Set([b])]])),c.runOutsideAngular(()=>{document.addEventListener(a,this._delegateEventHandler,cu)})}removeHandler(c,a,p){const b=this._events.get(c);if(!b)return;const k=b.get(a);k&&(k.delete(p),0===k.size&&b.delete(a),0===b.size&&(this._events.delete(c),document.removeEventListener(c,this._delegateEventHandler,cu)))}}class ro{static#e=this._eventManager=new Tl;constructor(c,a,p,b){this._target=c,this._ngZone=a,this._platform=b,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,b.isBrowser&&(this._containerElement=es(p))}fadeInRipple(c,a,p={}){const b=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),k={...Jo,...p.animation},ee=p.radius||function xo(f,c,a){const p=Math.max(Math.abs(f-a.left),Math.abs(f-a.right)),b=Math.max(Math.abs(c-a.top),Math.abs(c-a.bottom));return Math.sqrt(p*p+b*b)}(c,a,b),de=c-b.left,Pe=a-b.top,Ze=k.enterDuration,St=document.createElement("div");St.classList.add("mat-ripple-element"),St.style.left=de-ee+"px",St.style.top=Pe-ee+"px",St.style.height=2*ee+"px",St.style.width=2*ee+"px",null!=p.color&&(St.style.backgroundColor=p.color),St.style.transitionDuration=`${Ze}ms`,this._containerElement.appendChild(St);const tn=window.getComputedStyle(St),An=tn.transitionDuration,pn="none"===tn.transitionProperty||"0s"===An||"0s, 0s"===An||0===b.width&&0===b.height,xn=new As(this,St,p,pn);St.style.transform="scale3d(1, 1, 1)",xn.state=0,p.persistent||(this._mostRecentTransientRipple=xn);return!pn&&(Ze||k.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Jr=()=>this._finishRippleTransition(xn),ai=()=>this._destroyRipple(xn);St.addEventListener("transitionend",Jr),St.addEventListener("transitioncancel",ai)}),this._activeRipples.set(xn,null),(pn||!Ze)&&this._finishRippleTransition(xn),xn}fadeOutRipple(c){if(2===c.state||3===c.state)return;const a=c.element,p={...Jo,...c.config.animation};a.style.transitionDuration=`${p.exitDuration}ms`,a.style.opacity="0",c.state=2,(c._animationForciblyDisabledThroughCss||!p.exitDuration)&&this._finishRippleTransition(c)}fadeOutAll(){this._getActiveRipples().forEach(c=>c.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(c=>{c.config.persistent||c.fadeOut()})}setupTriggerEvents(c){const a=es(c);!this._platform.isBrowser||!a||a===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=a,sc.forEach(p=>{ro._eventManager.addHandler(this._ngZone,p,a,this)}))}handleEvent(c){"mousedown"===c.type?this._onMousedown(c):"touchstart"===c.type?this._onTouchStart(c):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{lu.forEach(a=>{this._triggerElement.addEventListener(a,this,Gc)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(c){0===c.state?this._startFadeOutTransition(c):2===c.state&&this._destroyRipple(c)}_startFadeOutTransition(c){const a=c===this._mostRecentTransientRipple,{persistent:p}=c.config;c.state=1,!p&&(!a||!this._isPointerDown)&&c.fadeOut()}_destroyRipple(c){const a=this._activeRipples.get(c)??null;this._activeRipples.delete(c),this._activeRipples.size||(this._containerRect=null),c===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),c.state=3,null!==a&&(c.element.removeEventListener("transitionend",a.onTransitionEnd),c.element.removeEventListener("transitioncancel",a.onTransitionCancel)),c.element.remove()}_onMousedown(c){const a=function El(f){return 0===f.buttons||0===f.detail}(c),p=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!a&&!p&&(this._isPointerDown=!0,this.fadeInRipple(c.clientX,c.clientY,this._target.rippleConfig))}_onTouchStart(c){if(!this._target.rippleDisabled&&!function Ja(f){const c=f.touches&&f.touches[0]||f.changedTouches&&f.changedTouches[0];return!(!c||-1!==c.identifier||null!=c.radiusX&&1!==c.radiusX||null!=c.radiusY&&1!==c.radiusY)}(c)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const a=c.changedTouches;if(a)for(let p=0;p<a.length;p++)this.fadeInRipple(a[p].clientX,a[p].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(c=>{!c.config.persistent&&(1===c.state||c.config.terminateOnPointerUp&&0===c.state)&&c.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const c=this._triggerElement;c&&(sc.forEach(a=>ro._eventManager.removeHandler(a,c,this)),this._pointerUpEventsRegistered&&lu.forEach(a=>c.removeEventListener(a,this,Gc)))}}let qr=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=u.oAB({type:f});static#n=this.\u0275inj=u.cJS({imports:[P,G.ez,P]})}return f})();var sr=B(2096),qs=(B(8504),B(9315)),so=(B(9397),B(6306),B(4716)),ys=(B(3020),B(9862));let gd=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=u.oAB({type:f});static#n=this.\u0275inj=u.cJS({imports:[P,P]})}return f})(),qf=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=u.oAB({type:f});static#n=this.\u0275inj=u.cJS({imports:[Ro,P,Ro,P]})}return f})();var Ci=B(3914),na=B(3375),Pl=B(8924);function Oh(f,c){1&f&&(u.TgZ(0,"span",12),u._uU(1,"\u2605"),u.qZA())}function gu(f,c){1&f&&(u.TgZ(0,"p"),u._uU(1,"Oferta a expirat"),u.qZA())}function Yc(f,c){1&f&&(u.TgZ(0,"p"),u._uU(1,"Oferta este valabil\u0101"),u.qZA())}function yd(f,c){if(1&f&&(u.TgZ(0,"div")(1,"a",13),u._UZ(2,"img",14),u.qZA(),u._UZ(3,"br"),u._uU(4," Facebook"),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.s9C("href",a.offer.Facebook,u.LSH)}}function Zf(f,c){if(1&f&&(u.TgZ(0,"div")(1,"a",13),u._UZ(2,"img",15),u.qZA(),u._UZ(3,"br"),u._uU(4," Instagram"),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.MGl("href","https://www.instagram.com/",a.offer.Instagram,"",u.LSH)}}function mu(f,c){if(1&f&&(u.TgZ(0,"div")(1,"a",16),u._UZ(2,"img",17),u.qZA(),u._UZ(3,"br"),u._uU(4," Email"),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.MGl("href","mailto:",a.offer.Email,"",u.LSH)}}function dc(f,c){if(1&f&&(u.TgZ(0,"div")(1,"a",13),u._UZ(2,"img",18),u.qZA(),u._UZ(3,"br"),u._uU(4," Website"),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.s9C("href",a.offer.Website,u.LSH)}}let Kf=(()=>{class f{constructor(a){this.router=a,this.currentImageIndex=1}ngOnInit(){this.offer.Image1||(this.offer.Image1="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/dafaultImage.jpg"),this.offer.Image2||(this.offer.Image2="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/dafaultImage.jpg"),this.offer.Image3||(this.offer.Image3="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/dafaultImage.jpg"),this.offer.Image4||(this.offer.Image4="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/dafaultImage.jpg"),this.offer.Image5||(this.offer.Image5="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/dafaultImage.jpg"),this.startImageCarousel()}startImageCarousel(){setInterval(()=>{this.currentImageIndex=this.currentImageIndex%5+1},3e3)}nextImage(){this.currentImageIndex=this.currentImageIndex%5+1}prevImage(){this.currentImageIndex=(this.currentImageIndex-2+5)%5+1}navigateToDetails(){console.log("Navigating to details:",this.offer.id),this.router.navigate(["/offers",this.offer.id])}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(Ci.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-offer-card"]],inputs:{offer:"offer"},decls:56,vars:21,consts:[[1,"offer-card"],[1,"carousel"],[1,"prev",3,"click"],[1,"next",3,"click"],[1,"image-container"],[3,"src","alt"],[1,"offer-details"],["class","sponsor-icon",4,"ngIf"],[4,"ngIf"],[3,"click"],[1,"offer-footer"],[1,"social-icons"],[1,"sponsor-icon"],["target","_blank",3,"href"],["src","../../../assets/images/SVG/facebook-icon.svg"],["src","../../../assets/images/SVG/instagram-icon.svg"],[3,"href"],["src","../../../assets/images/SVG/email-icon.svg"],["src","../../../assets/images/SVG/browser-icon.svg"]],template:function(p,b){1&p&&(u.TgZ(0,"div",0)(1,"div",1)(2,"button",2),u.NdJ("click",function(){return b.prevImage()}),u._uU(3,"\u276e"),u.qZA(),u.TgZ(4,"button",3),u.NdJ("click",function(){return b.nextImage()}),u._uU(5,"\u276f"),u.qZA(),u.TgZ(6,"div",4),u._UZ(7,"img",5),u.qZA()(),u.TgZ(8,"div",6)(9,"h3"),u._uU(10),u.qZA(),u.YNc(11,Oh,2,0,"span",7),u.TgZ(12,"p")(13,"strong"),u._uU(14,"Compania:"),u.qZA(),u._uU(15),u.qZA(),u.TgZ(16,"p")(17,"strong"),u._uU(18,"Persona de contact:"),u.qZA(),u._uU(19),u.qZA(),u._UZ(20,"hr"),u.TgZ(21,"p")(22,"strong"),u._uU(23,"Numar de Tel:"),u.qZA(),u._uU(24),u.qZA(),u.TgZ(25,"p")(26,"strong"),u._uU(27,"Locatie:"),u.qZA(),u._uU(28),u.qZA(),u.TgZ(29,"p")(30,"strong"),u._uU(31,"Descriiere:"),u.qZA(),u._uU(32),u.qZA(),u.TgZ(33,"p")(34,"strong"),u._uU(35,"Pret:"),u.qZA(),u._uU(36),u.qZA(),u.TgZ(37,"p")(38,"strong"),u._uU(39,"Tip de ofert\u0101:"),u.qZA(),u._uU(40),u.qZA(),u.TgZ(41,"p")(42,"strong"),u._uU(43,"Creata pe data de:"),u.qZA(),u._uU(44),u.ALo(45,"date"),u.qZA(),u.YNc(46,gu,2,0,"p",8),u.YNc(47,Yc,2,0,"p",8),u.TgZ(48,"button",9),u.NdJ("click",function(){return b.navigateToDetails()}),u._uU(49,"Detalii"),u.qZA()(),u.TgZ(50,"div",10)(51,"div",11),u.YNc(52,yd,5,1,"div",8),u.YNc(53,Zf,5,1,"div",8),u.YNc(54,mu,5,1,"div",8),u.YNc(55,dc,5,1,"div",8),u.qZA()()()),2&p&&(u.xp6(7),u.MGl("alt","Image ",b.currentImageIndex,""),u.Q6J("src",b.offer["Image"+b.currentImageIndex],u.LSH),u.xp6(3),u.Oqu(b.offer.Title),u.xp6(1),u.Q6J("ngIf",b.offer.Community_Sponsor),u.xp6(4),u.hij(" ",b.offer.Company_Name,""),u.xp6(4),u.hij(" ",b.offer.Contact_Name,""),u.xp6(5),u.hij(" ",b.offer.Phone_Number,""),u.xp6(4),u.hij(" ",b.offer.Location,""),u.xp6(4),u.Oqu(b.offer.Description),u.xp6(4),u.Oqu(b.offer.Price),u.xp6(4),u.Oqu(b.offer.OfferType),u.xp6(4),u.hij(" ",u.xi3(45,18,b.offer.Date_Created,"shortDate"),""),u.xp6(2),u.Q6J("ngIf",b.offer.Filled),u.xp6(1),u.Q6J("ngIf",!b.offer.Filled),u.xp6(5),u.Q6J("ngIf",b.offer.Facebook),u.xp6(1),u.Q6J("ngIf",b.offer.Instagram),u.xp6(1),u.Q6J("ngIf",b.offer.Email),u.xp6(1),u.Q6J("ngIf",b.offer.Website))},dependencies:[G.O5,G.uU],styles:[".offer-card[_ngcontent-%COMP%]{width:400px;min-height:550px;border-radius:8px;overflow:hidden;box-shadow:0 4px 8px #0000001a;transition:transform .3s;height:800px;position:relative;background-color:#fafafa}.offer-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.carousel[_ngcontent-%COMP%]{position:relative;width:100%;overflow:hidden}.carousel-inner[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;flex-shrink:0}.image-container[_ngcontent-%COMP%]{width:400px;height:250px;overflow:hidden;display:flex;justify-content:center;align-items:center}.prev[_ngcontent-%COMP%], .next[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background-color:#00000080;color:#fff;border:none;padding:10px;cursor:pointer;border-radius:50%}.prev[_ngcontent-%COMP%]{left:10px}.next[_ngcontent-%COMP%]{right:10px}.offer-details[_ngcontent-%COMP%]{padding:15px}.offer-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.offer-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.offer-footer[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:400px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px;color:gold}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}"]})}return f})();function Es(f,c){if(1&f&&(u.TgZ(0,"div",8),u._UZ(1,"img",9),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.s9C("alt",a.event.Name),u.Q6J("src",a.event.Poster_Image,u.LSH)}}function Nh(f,c){if(1&f&&(u.TgZ(0,"p")(1,"strong"),u._uU(2,"Facebook:"),u.qZA(),u.TgZ(3,"a",4),u._uU(4),u.qZA()()),2&f){const a=u.oxw();u.xp6(3),u.Q6J("href",a.event.Facebook,u.LSH),u.xp6(1),u.Oqu(a.event.Facebook)}}function _u(f,c){if(1&f&&(u.TgZ(0,"p")(1,"strong"),u._uU(2,"Instagram:"),u.qZA(),u.TgZ(3,"a",4),u._uU(4),u.qZA()()),2&f){const a=u.oxw();u.xp6(3),u.Q6J("href",a.event.Instagram,u.LSH),u.xp6(1),u.Oqu(a.event.Instagram)}}function pa(f,c){1&f&&(u.TgZ(0,"div",10)(1,"span",11),u._uU(2,"Evenimentul a Expirat"),u.qZA()())}let hc=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-event-card"]],inputs:{event:"event"},decls:40,vars:17,consts:[[1,"event-card"],["class","event-image",4,"ngIf"],[1,"event-details"],[1,"card-title"],["target","_blank",3,"href"],[4,"ngIf"],[1,"card-subtitle"],["class","card-expired",4,"ngIf"],[1,"event-image"],[3,"src","alt"],[1,"card-expired"],[1,"expired"]],template:function(p,b){1&p&&(u.TgZ(0,"div",0),u.YNc(1,Es,2,2,"div",1),u.TgZ(2,"div",2)(3,"div",3),u._uU(4),u.qZA(),u.TgZ(5,"p")(6,"strong"),u._uU(7,"Locatie:"),u.qZA(),u._UZ(8,"br"),u._uU(9),u.qZA(),u.TgZ(10,"p")(11,"strong"),u._uU(12,"Data Evenimentului:"),u.qZA(),u._uU(13),u.ALo(14,"date"),u.qZA(),u.TgZ(15,"p")(16,"strong"),u._uU(17,"Ora:"),u.qZA(),u._uU(18),u.qZA(),u.TgZ(19,"p")(20,"strong"),u._uU(21,"Pret:"),u.qZA(),u._uU(22),u.qZA(),u.TgZ(23,"p")(24,"strong"),u._uU(25,"Persoana de contact:"),u.qZA(),u._uU(26),u.qZA(),u.TgZ(27,"p")(28,"strong"),u._uU(29,"Pagina Web:"),u.qZA(),u.TgZ(30,"a",4),u._uU(31),u.qZA()(),u.YNc(32,Nh,5,2,"p",5),u.YNc(33,_u,5,2,"p",5),u.TgZ(34,"div")(35,"strong"),u._uU(36," Detalii"),u.qZA(),u.TgZ(37,"div",6),u._uU(38),u.qZA(),u.YNc(39,pa,3,0,"div",7),u.qZA()()()),2&p&&(u.xp6(1),u.Q6J("ngIf",b.event.Poster_Image),u.xp6(3),u.Oqu(b.event.Name),u.xp6(5),u.Oqu(b.event.Location),u.xp6(4),u.hij(" ",u.xi3(14,14,b.event.Event_Date,"short"),""),u.xp6(5),u.hij(" ",b.event.Time,""),u.xp6(4),u.hij(" ",b.event.Price,""),u.xp6(4),u.AsE(" ",b.event.Contact," - ",b.event.Phone_Number,""),u.xp6(4),u.Q6J("href",b.event.Website,u.LSH),u.xp6(1),u.Oqu(b.event.Website),u.xp6(1),u.Q6J("ngIf",b.event.Facebook),u.xp6(1),u.Q6J("ngIf",b.event.Instagram),u.xp6(5),u.Oqu(b.event.Description),u.xp6(1),u.Q6J("ngIf",b.event.Expired))},dependencies:[G.O5,G.uU],styles:[".event-card[_ngcontent-%COMP%]{width:400px;min-height:550px;border-radius:8px;overflow:hidden;display:flex;flex-direction:column;margin:16px;box-shadow:0 4px 8px #0000001a;background-color:#fafafa}.event-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.event-details[_ngcontent-%COMP%]{padding:16px;text-align:left}.event-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.event-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0}.event-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.event-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.service-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:10px;padding:40px;width:calc(25% - 32px);box-sizing:border-box;position:relative;min-width:400px}.card-header[_ngcontent-%COMP%]{text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333}.card-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-top:4px}.card-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:gold}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}.services-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:30px;padding:30px}.services-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.services-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px;font-size:1rem}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}.add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}.card-expired[_ngcontent-%COMP%]{padding:10px;text-align:center}.expired[_ngcontent-%COMP%]{color:red}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.services-control[_ngcontent-%COMP%]{flex-direction:column}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}"]})}return f})();function kh(f,c){1&f&&u._UZ(0,"app-event-card",25),2&f&&u.Q6J("event",c.$implicit)}function yu(f,c){1&f&&u._UZ(0,"app-offer-card",26),2&f&&u.Q6J("offer",c.$implicit)}function Qc(f,c){if(1&f&&(u.TgZ(0,"li",27)(1,"a",28),u._uU(2),u.qZA()()),2&f){const a=c.$implicit;u.xp6(1),u.s9C("href",a.url,u.LSH),u.xp6(1),u.Oqu(a.name)}}let fc=(()=>{class f{constructor(a,p,b){this.eventService=a,this.offersService=p,this.router=b,this.resourceLinks=[{name:"Ambasada Romaniei in SUA",url:"https://washington.mae.ro/"},{name:"Ambasada SUA in Romania",url:"https://ro.usembassy.gov/"},{name:"American Romanian Cultural Society",url:"www.arcsproject.org"},{name:"Biserica Sfintii Trei Ierarhi",url:"http://www.ortodox.org/"},{name:"Romanian United Foundation",url:"https://www.romanianunitedfund.org/"}],this.events=[],this.offers=[]}ngOnInit(){this.eventService.getEvents().subscribe(a=>{this.events=a}),this.offersService.getOffers().subscribe(a=>{this.offers=a})}navigateToAddEvent(){this.router.navigate(["/add-event"])}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(na.n),u.Y36(Pl.b),u.Y36(Ci.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-home"]],decls:97,vars:3,consts:[[1,"container"],[1,"hero"],[1,"container","hero-content"],[1,"hero-text"],["href","https://www.facebook.com/groups/RomaniinSeattle"],["href","https://www.facebook.com/groups/RomaniinSeattle",1,"btn"],[1,"hero-image"],["src","../../../assets/images/Seattle-Romania.png","alt","Seattle"],[1,"community-description"],[1,"community-descriptions"],[1,"description-card"],[1,"sharedContent-Section"],[1,"services-container"],[3,"event",4,"ngFor","ngForOf"],[1,"offer-list"],[3,"offer",4,"ngFor","ngForOf"],[1,"resource-consulate"],["target","_blank","href","http://newyork.mae.ro/"],["target","_blank","href","http://chicago.mae.ro/"],["target","_blank","href","http://losangeles.mae.ro/"],["target","_blank","href","http://miami.mae.ro/"],[1,"resources-section"],[1,"section-header"],[1,"resource-list"],["class","resource-item",4,"ngFor","ngForOf"],[3,"event"],[3,"offer"],[1,"resource-item"],["target","_blank",3,"href"]],template:function(p,b){1&p&&(u.TgZ(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"h1"),u._uU(5,"Bine ati venit in comunitatea "),u.TgZ(6,"a",4),u._uU(7,"Romani in Seattle"),u.qZA()(),u.TgZ(8,"p"),u._uU(9,"Servictii, oferte si evenimente pentru persoanele care locuiesc in zona Seattle."),u.qZA(),u.TgZ(10,"a",5),u._uU(11,"Join our Facebook Group"),u.qZA()(),u.TgZ(12,"div",6),u._UZ(13,"img",7),u.qZA()()(),u.TgZ(14,"section",8)(15,"div",0)(16,"h2"),u._uU(17,"Despre communitatea noastra"),u.qZA(),u.TgZ(18,"p"),u._uU(19,'Scopul al acestui website este de a beneficia Romani \xeen Seattle, prin schimbul de informa\u021bii utile si in acela\u0219i timp promov\xe2nd Companiile Romane\u0219ti din zona Seattle la \xa0Comunitatea Romaneasca de aici. Acesta a \xeenceput pe facebook prin grupul "Romani \xeen Seattle\u201d care acum con\u021bine peste 3700 de membri.'),u.qZA()()(),u.TgZ(20,"div",9)(21,"div",10)(22,"h2"),u._uU(23,"Evenimente"),u.qZA(),u.TgZ(24,"p"),u._uU(25,"Al\u0103tura\u021bi-v\u0103 nou\u0103 pentru o varietate de evenimente care reunesc comunitatea. De la festivaluri la ateliere, exist\u0103 ceva pentru toat\u0103 lumea."),u.qZA()(),u.TgZ(26,"div",10)(27,"h2"),u._uU(28,"Servicii"),u.qZA(),u.TgZ(29,"p"),u._uU(30,"Sprijini\u021bi-ne afacerile locale \u0219i descoperi\u021bi produse \u0219i servicii unice oferite de membrii comunit\u0103\u021bii."),u.qZA()(),u.TgZ(31,"div",10)(32,"h2"),u._uU(33,"Oportunit\u0103\u021bi si Oferte"),u.qZA(),u.TgZ(34,"p"),u._uU(35,"Implica\u021bi-v\u0103 \u0219i face\u021bi o diferen\u021b\u0103 prin voluntariat pentru diverse proiecte \u0219i ini\u021biative comunitare."),u.qZA()(),u.TgZ(36,"div",10)(37,"h2"),u._uU(38,"Resurse"),u.qZA(),u.TgZ(39,"p"),u._uU(40,"Accesa\u021bi resurse \u0219i servicii valoroase oferite de comunitate at\xe2t pentru reziden\u021bi, c\xe2t \u0219i pentru vizitatori."),u.qZA()()(),u.TgZ(41,"div",11)(42,"h1"),u._uU(43,"Evenimente"),u.qZA(),u.TgZ(44,"div",12),u.YNc(45,kh,1,1,"app-event-card",13),u.qZA()(),u.TgZ(46,"div",11)(47,"h1"),u._uU(48,"Oportunit\u0103\u021bi si Oferte"),u.qZA(),u.TgZ(49,"div",14),u.YNc(50,yu,1,1,"app-offer-card",15),u.qZA()(),u.TgZ(51,"div",11)(52,"h1"),u._uU(53,"Resurse"),u.qZA(),u.TgZ(54,"section",16)(55,"div",9)(56,"div",10)(57,"h2"),u._uU(58,"Consulatul Rom\xe2niei la New York"),u.qZA(),u.TgZ(59,"h3"),u._uU(60,"CONSUL GENERAL: doamna Mihaela-Simona FLOREA"),u.qZA(),u.TgZ(61,"p"),u._uU(62,"Adres\u0103: 200 East 38th Street, New York, NY 10016"),u.qZA(),u.TgZ(63,"a",17),u._uU(64,"http://newyork.mae.ro/"),u.qZA()(),u.TgZ(65,"div",10)(66,"h2"),u._uU(67,"Consulatul Rom\xe2niei la Chicago"),u.qZA(),u.TgZ(68,"h3"),u._uU(69,"CONSUL GENERAL: "),u.qZA(),u.TgZ(70,"p"),u._uU(71,"Adres\u0103: 737 North Michigan Avenue, Suite 2300, Chicago, IL 60611"),u.qZA(),u.TgZ(72,"a",18),u._uU(73,"http://chicago.mae.ro/"),u.qZA()(),u.TgZ(74,"div",10)(75,"h2"),u._uU(76,"Consulatul Rom\xe2niei la Los Angeles"),u.qZA(),u.TgZ(77,"h3"),u._uU(78,"CONSUL GENERAL: doamna Lucia SAVA"),u.qZA(),u.TgZ(79,"p"),u._uU(80,"Adres\u0103: 11766 Wilshire Blvd. Suite 200, Los Angeles CA 90025"),u.qZA(),u.TgZ(81,"a",19),u._uU(82,"http://losangeles.mae.ro/"),u.qZA()(),u.TgZ(83,"div",10)(84,"h2"),u._uU(85,"Consulatul Rom\xe2niei la Miami"),u.qZA(),u.TgZ(86,"h3"),u._uU(87,"CONSUL GENERAL: doamna Elena-GabrielA EREMIA"),u.qZA(),u.TgZ(88,"p"),u._uU(89,"Adres\u0103: 1101 Brickell Ave, suite N 600, Miami, FL 33131"),u.qZA(),u.TgZ(90,"a",20),u._uU(91,"http://miami.mae.ro/"),u.qZA()()()()(),u.TgZ(92,"section",21)(93,"h2",22),u._uU(94,"Resurse utile pentru comunitate"),u.qZA(),u.TgZ(95,"ul",23),u.YNc(96,Qc,3,2,"li",24),u.qZA()()()),2&p&&(u.xp6(45),u.Q6J("ngForOf",b.events),u.xp6(5),u.Q6J("ngForOf",b.offers),u.xp6(46),u.Q6J("ngForOf",b.resourceLinks))},dependencies:[G.sg,Kf,hc],styles:[".container[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px;margin-bottom:20px}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px;color:var(--button-color)}.hero[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;background-color:#f5f5f5;padding:6rem 0 0rem}.hero-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.hero-text[_ngcontent-%COMP%]{flex:1;padding:0 2rem}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1.5rem}.btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;padding:.75rem 1.5rem;text-decoration:none;border-radius:5px;font-size:1rem}.hero-image[_ngcontent-%COMP%]{flex:1}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.community-description[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;padding:2rem 0;text-align:center}.community-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.community-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin:0 auto;max-width:800px;color:#f5f5f5}@media (max-width: 768px){.hero[_ngcontent-%COMP%]{flex-direction:column}.hero-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.hero-text[_ngcontent-%COMP%]{margin-bottom:2rem}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}}.community-descriptions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;padding:40px 20px}.description-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:20px;padding:20px;width:300px;text-align:center}.description-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--button-color);margin-bottom:10px}.description-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:var(--button-color)}.description-card-group[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:20px;padding:20px;width:100%;text-align:center}.resource-list[_ngcontent-%COMP%]{list-style-type:none;padding:0}.resource-item[_ngcontent-%COMP%]{margin:10px 0}.resource-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--button-color);font-size:18px;transition:color .3s ease}.resource-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0056b3}a[_ngcontent-%COMP%]{color:inherit}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.service-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:10px;padding:40px;width:calc(25% - 32px);box-sizing:border-box;position:relative;min-width:400px}.card-header[_ngcontent-%COMP%]{text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333}.card-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-top:4px}.card-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:gold}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}.offers[_ngcontent-%COMP%], .offer-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.offer-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;overflow:hidden;box-shadow:0 4px 8px #0000001a;transition:transform .3s;max-width:400px;height:800px;position:relative;text-align:left}.offer-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.carousel[_ngcontent-%COMP%]{position:relative;width:100%;overflow:hidden}.carousel-inner[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;flex-shrink:0}.image-container[_ngcontent-%COMP%]{width:400px;height:250px;overflow:hidden;display:flex;justify-content:center;align-items:center}.prev[_ngcontent-%COMP%], .next[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background-color:#00000080;color:#fff;border:none;padding:10px;cursor:pointer;border-radius:50%}.prev[_ngcontent-%COMP%]{left:10px}.next[_ngcontent-%COMP%]{right:10px}.offer-details[_ngcontent-%COMP%]{padding:15px}.offer-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.offer-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.offer-footer[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}.featured[_ngcontent-%COMP%]{color:#007bff;font-weight:700}.sharedContent-Section[_ngcontent-%COMP%]{padding:50px 0}.button-container[_ngcontent-%COMP%]{text-align:center}.fb-button[_ngcontent-%COMP%]{background-color:var(--button-bg-color);color:var(--button-text-color);padding:10px 20px;border-radius:5px;text-decoration:none;font-size:18px;display:inline-flex;align-items:center;transition:background-color .3s}.fb-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;font-size:20px}.fb-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-bg-color)}"]})}return f})();var Va=B(614),fn=B(6223);function pc(f){return f?/^https?:\/\//i.test(f)?f:`http://${f}`:""}function Ri(f,c){1&f&&(u.TgZ(0,"span",15),u._uU(1,"\u2605"),u.qZA())}function Fm(f,c){if(1&f&&(u.TgZ(0,"div")(1,"a",16),u._UZ(2,"img",17),u.qZA(),u._UZ(3,"br"),u._uU(4," Facebook"),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.s9C("href",a.svc.Facebook,u.LSH)}}function fg(f,c){if(1&f&&(u.TgZ(0,"div")(1,"a",16),u._UZ(2,"img",18),u.qZA(),u._UZ(3,"br"),u._uU(4," Instagram"),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.MGl("href","https://www.instagram.com/",a.svc.Instagram,"",u.LSH)}}function Yf(f,c){if(1&f&&(u.TgZ(0,"div")(1,"a",19),u._UZ(2,"img",20),u.qZA(),u._UZ(3,"br"),u._uU(4," Email"),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.MGl("href","mailto:",a.svc.Email,"",u.LSH)}}function Lm(f,c){if(1&f&&(u.TgZ(0,"div")(1,"a",16),u._UZ(2,"img",21),u.qZA(),u._UZ(3,"br"),u._uU(4," Website"),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.s9C("href",a.svc.Website,u.LSH)}}let Qf=(()=>{class f{constructor(a){this.router=a}ngOnInit(){(void 0===this.svc.Image||""==this.svc.Image)&&(this.svc.Image="https://firebasestorage.googleapis.com/v0/b/romaniinseattle.appspot.com/o/serviceImages%2FdafaultImage.jpg?alt=media&token=3b0787df-12f0-444a-a426-013843534f1e"),this.svc.Website=pc(this.svc.Website)}viewDetails(){this.router.navigate(["/services",this.svc.id])}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(Ci.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-service-card"]],inputs:{svc:"svc"},decls:23,vars:11,consts:[[1,"service-card"],[1,"service-card-image-container"],[1,"service-card-image",3,"src","alt"],[1,"service-card-content"],[1,"card-header"],[1,"card-title"],["class","sponsor-icon",4,"ngIf"],[1,"card-subtitle","service_type"],[1,"card-subtitle","contact_info"],[1,"card-description"],[1,"card-button"],[3,"click"],[1,"card-footer"],[1,"social-icons"],[4,"ngIf"],[1,"sponsor-icon"],["target","_blank",3,"href"],["src","../../../assets/images/SVG/facebook-icon.svg"],["src","../../../assets/images/SVG/instagram-icon.svg"],[3,"href"],["src","../../../assets/images/SVG/email-icon.svg"],["src","../../../assets/images/SVG/browser-icon.svg"]],template:function(p,b){1&p&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"img",2),u.qZA(),u.TgZ(3,"div",3)(4,"div",4)(5,"div",5),u._uU(6),u.YNc(7,Ri,2,0,"span",6),u.qZA(),u.TgZ(8,"div",7),u._uU(9),u.qZA(),u.TgZ(10,"div",8),u._uU(11),u.qZA(),u.TgZ(12,"div",9),u._uU(13),u.qZA(),u.TgZ(14,"div",10)(15,"button",11),u.NdJ("click",function(){return b.viewDetails()}),u._uU(16,"Detalii"),u.qZA()()(),u.TgZ(17,"div",12)(18,"div",13),u.YNc(19,Fm,5,1,"div",14),u.YNc(20,fg,5,1,"div",14),u.YNc(21,Yf,5,1,"div",14),u.YNc(22,Lm,5,1,"div",14),u.qZA()()()()),2&p&&(u.xp6(2),u.s9C("alt",b.svc.Name),u.Q6J("src",b.svc.Image,u.LSH),u.xp6(4),u.Oqu(b.svc.Name),u.xp6(1),u.Q6J("ngIf",b.svc.Community_Sponsor),u.xp6(2),u.Oqu(b.svc.Service_Type),u.xp6(2),u.Oqu(b.svc.Phone_Number),u.xp6(2),u.Oqu(b.svc.Description),u.xp6(6),u.Q6J("ngIf",b.svc.Facebook),u.xp6(1),u.Q6J("ngIf",b.svc.Instagram),u.xp6(1),u.Q6J("ngIf",b.svc.Email),u.xp6(1),u.Q6J("ngIf",b.svc.Website))},dependencies:[G.O5],styles:[".service-card[_ngcontent-%COMP%]{background-color:#fafafa;width:400px;min-height:550px;display:flex;flex-direction:column;justify-content:space-between;border-radius:8px;box-shadow:0 4px 8px #00000080;margin:10px;padding:40px;box-sizing:border-box;position:relative}.service-card-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:5px}.service-card-image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover;border:2px solid #ddd}.card-header[_ngcontent-%COMP%]{text-align:center;margin:25px}.card-title[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:500;font-style:bold;font-size:1.7rem;font-weight:700;color:#333;line-height:1.2}.card-subtitle[_ngcontent-%COMP%]{font-family:Catamaran,sans-serif;font-optical-sizing:auto;font-weight:400;font-style:normal;font-size:1rem;color:#666;margin-top:4px}.card-description[_ngcontent-%COMP%]{text-align:left;font-family:Catamaran,sans-serif;font-optical-sizing:auto;font-weight:400;font-style:normal;color:#666;margin-top:4px;overflow:hidden;-webkit-box-orient:vertical;display:block;display:-webkit-box;overflow:hidden!important;text-overflow:ellipsis;-webkit-line-clamp:4}.service_type[_ngcontent-%COMP%]{text-transform:uppercase;padding:1rem 0}.contact_info[_ngcontent-%COMP%]{padding:0 0 1rem;font-size:1.2rem}.card-footer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 480px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 100px);min-width:175px;margin:2px;padding:2px;min-height:150px;min-height:330px}.card-title[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:100;font-style:bold;font-size:.9rem;font-weight:400;color:#333;line-height:1;padding:0;margin:0}.card-subtitle[_ngcontent-%COMP%]{font-family:Catamaran,sans-serif;font-optical-sizing:auto;font-weight:100;font-style:normal;color:#666;margin-top:1px}.card-description[_ngcontent-%COMP%]{display:none}.service_type[_ngcontent-%COMP%]{text-transform:uppercase;padding:0;font-size:.5rem}.card-footer[_ngcontent-%COMP%]{display:none}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:175px}.service-footer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}.services-control[_ngcontent-%COMP%]{flex-direction:column}@media screen and (max-width: 960px) and(min-width:480px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}.service-card-front[_ngcontent-%COMP%]{background-color:#fff;color:#000}.service-card-content[_ngcontent-%COMP%]{padding:0}.service-date[_ngcontent-%COMP%]{font-size:12px;color:#f1c40f}.service-footer[_ngcontent-%COMP%]{margin-top:10px}.featured[_ngcontent-%COMP%]{font-weight:700;color:#f39c12}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:400px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000}#browser-icon[_ngcontent-%COMP%]{fill:red;stroke:#000}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px;color:gold}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}"]})}return f})();function pg(f,c){if(1&f&&(u.TgZ(0,"option",14),u._uU(1),u.qZA()),2&f){const a=c.$implicit;u.Q6J("value",a),u.xp6(1),u.Oqu(a)}}function Fh(f,c){1&f&&u._UZ(0,"app-service-card",15),2&f&&u.Q6J("svc",c.$implicit)}let Rl=(()=>{class f{constructor(a,p,b){this.servicesService=a,this.route=p,this.router=b,this.services=[],this.filteredServices=[],this.serviceTypes=[],this.selectedServiceType=""}ngOnInit(){this.route.queryParams.subscribe(a=>{this.selectedServiceType=a.serviceType||""}),this.filterServices(this.selectedServiceType)}navigateToAddService(){this.router.navigate(["/add-service"])}handleChange(a){const{target:p}=a;return p&&console.log(p.value),p.value}fetchServiceTypes(){console.log("FetchServiceTypes Function"),this.servicesService.getAllServiceTypes().subscribe(a=>{this.serviceTypes=a,a.forEach(p=>{})}),console.log("Number of Service Types returned by the database : "+this.serviceTypes.length)}onFilterChange(a){console.log("Filter changed:",a),this.router.navigate([],{relativeTo:this.route,queryParams:{serviceType:a},queryParamsHandling:"merge"}),this.filterServices(a)}filterServices(a){console.log("Filter Serices: "+a),this.fetchServiceTypes(),a&&""!==a?this.servicesService.getServicesByType(a).subscribe(p=>{this.services=p.filter(b=>b.Approved),this.filteredServices=p.filter(b=>b.Approved),console.log("Number of Services returned by the Database :  "+this.services.length)}):this.servicesService.getServices().subscribe(p=>{this.services=p.filter(b=>b.Approved),this.filteredServices=p.filter(b=>b.Approved),console.log("Number of Services returned by the Database :  "+this.services.length)})}extractServiceTypes(){this.serviceTypes=[...new Set(this.services.map(a=>a.Service_Type))]}shareLink(){const p=this.router.url.split("?")[1]||"";navigator.clipboard.writeText("https://romaniinseattle.web.app/services"+(p?"?"+p:"")).then(()=>{alert("Link copied to clipboard!")},k=>{console.error("Could not copy text: ",k)})}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(Va.r),u.Y36(Ci.gz),u.Y36(Ci.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-services"]],decls:24,vars:3,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"services-control"],[1,"service-control-container"],["for","service-type"],["id","service-type",1,"filter-dropdown",3,"ngModel","change","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[2,"min-width","150px",3,"click"],[1,"share-button",3,"click"],[1,"fas","fa-share-alt"],[1,"services-container"],[3,"svc",4,"ngFor","ngForOf"],[3,"value"],[3,"svc"]],template:function(p,b){1&p&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._uU(3,"Lista de Servicii"),u.qZA()(),u.TgZ(4,"div",2)(5,"h2"),u._uU(6,"Descoperi\u021bi serviciile oferite de membrii comunit\u0103\u021bii"),u.qZA()()(),u.TgZ(7,"div",3)(8,"div",4)(9,"label",5),u._uU(10,"Filtra\u021bi lista dup\u0103 tipul serviciului: "),u.qZA()(),u.TgZ(11,"div",4)(12,"select",6),u.NdJ("change",function(ee){return b.onFilterChange(b.handleChange(ee))})("ngModelChange",function(ee){return b.selectedServiceType=ee}),u.TgZ(13,"option",7),u._uU(14,"Toate serviciile"),u.qZA(),u.YNc(15,pg,2,2,"option",8),u.qZA()(),u.TgZ(16,"div",4)(17,"button",9),u.NdJ("click",function(){return b.navigateToAddService()}),u._uU(18,"Adaugati un Serviciu"),u.qZA()(),u.TgZ(19,"button",10),u.NdJ("click",function(){return b.shareLink()}),u._UZ(20,"i",11),u._uU(21," Share "),u.qZA()(),u.TgZ(22,"div",12),u.YNc(23,Fh,1,1,"app-service-card",13),u.qZA()),2&p&&(u.xp6(12),u.Q6J("ngModel",b.selectedServiceType),u.xp6(3),u.Q6J("ngForOf",b.serviceTypes),u.xp6(8),u.Q6J("ngForOf",b.filteredServices))},dependencies:[G.sg,fn.YN,fn.Kr,fn.EJ,fn.JJ,fn.On,Qf],styles:[".hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.services-control[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px;padding:20px;flex-wrap:wrap}.service-control-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:5px;padding:5px}.services-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.services-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px;font-size:1rem}.add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}label[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:16px;text-transform:uppercase}.filter-dropdown[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:16px;text-transform:uppercase;cursor:pointer}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;padding:1rem}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:3rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1rem;text-align:center}}"]})}return f})(),xl=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-rules"]],decls:43,vars:0,consts:[[1,"hero-section"],[1,"overlay"],[1,"content"],["href","https://www.facebook.com/groups/RomaniinSeattle",1,"cta-button"],[1,"rules-section"],[1,"container"],[1,"rules-list"]],template:function(p,b){1&p&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"h1"),u._uU(4,"Regulile \u0219i Reglement\u0103rile"),u.qZA(),u.TgZ(5,"p"),u._uU(6,"Apreciem cooperarea \u0219i \xeen\u021belegerea dvs. \xeen respectarea regulilor grupului nostru."),u.qZA(),u.TgZ(7,"a",3),u._uU(8,"Join our Facebook Group"),u.qZA()()(),u.TgZ(9,"section",4)(10,"div",5)(11,"h2"),u._uU(12,"Regulile \u0219i Reglement\u0103rile"),u.qZA(),u.TgZ(13,"ol",6)(14,"li")(15,"span"),u._uU(16,"Respecta\u021bi to\u021bi membrii."),u.qZA(),u._uU(17," Trateaz\u0103 pe toat\u0103 lumea cu respect. Dezbaterile s\u0103n\u0103toase sunt naturale, dar amabilitatea este obligatorie."),u.qZA(),u.TgZ(18,"li")(19,"span"),u._uU(20,"F\u0103r\u0103 discursuri de ur\u0103 sau h\u0103r\u021buire."),u.qZA(),u._uU(21," Asigur\u0103-te c\u0103 toat\u0103 lumea se simte \xeen siguran\u021b\u0103. Bullying-ul de orice fel nu este permis, iar comentariile degradante despre lucruri precum rasa, religia, cultura, orientarea sexual\u0103, genul sau identitatea nu vor fi tolerate."),u.qZA(),u.TgZ(22,"li"),u._uU(23,"F\u0103r\u0103 limbaj ofensator."),u.qZA(),u.TgZ(24,"li")(25,"span"),u._uU(26,"F\u0103r\u0103 Promov\u0103ri sau Spam:"),u.qZA(),u._uU(27," Ofer\u0103 mai mult dec\xe2t prime\u0219ti \xeen acest grup. Auto-promovarea, spam-ul \u0219i link-urile irelevante nu sunt permise."),u.qZA(),u.TgZ(28,"li"),u._uU(29,"R\u0103m\xe2ne\u021bi la subiect."),u.qZA(),u.TgZ(30,"li")(31,"span"),u._uU(32,"Respect\u0103 Intimitatea Fiec\u0103ruia:"),u.qZA(),u._uU(33," Participarea \xeen acest grup necesit\u0103 \xeencredere reciproc\u0103. Discu\u021biile autentice \u0219i expresive fac grupurile grozave, dar pot fi \u0219i sensibile \u0219i private. Ce se \xeemp\u0103rt\u0103\u0219e\u0219te \xeen grup ar trebui s\u0103 r\u0103m\xe2n\u0103 \xeen grup."),u.qZA(),u.TgZ(34,"li")(35,"span"),u._uU(36,"Respecta\u021bi Standardele Comunit\u0103\u021bii Facebook."),u.qZA(),u._uU(37," Respect\u0103 toate liniile directoare ale comunit\u0103\u021bii pentru a asigura c\u0103 grupul r\u0103m\xe2ne un spa\u021biu sigur pentru to\u021bi."),u.qZA(),u.TgZ(38,"li"),u._uU(39,"Raporta\u021bi \xeenc\u0103lc\u0103rile regulilor c\u0103tre administratori."),u.qZA()()(),u.TgZ(40,"div")(41,"p"),u._uU(42,"Dac\u0103 dori\u021bi s\u0103 v\u0103 oferi\u021bi serviciile comunit\u0103\u021bii, v\u0103 rug\u0103m s\u0103 trimite\u021bi detaliile serviciilor dumneavoastr\u0103 prin intermediul site-ului nostru. Un administrator va revizui trimiterea dvs. \u0219i o va ad\u0103uga \xeen grup c\xe2t mai cur\xe2nd posibil. Apreciem cooperarea \u0219i \xeen\u021belegerea dvs. \xeen respectarea regulilor grupului nostru."),u.qZA()()())},styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Arial,sans-serif;height:100%}.hero-section[_ngcontent-%COMP%]{position:relative;height:100vh;background:url(Seattle-Romania.322e2da675d571d6.png) no-repeat center center/cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#fff}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:3em;margin:.5em 0}p[_ngcontent-%COMP%]{font-size:1.5em;margin:.5em 0}.cta-button[_ngcontent-%COMP%]{display:inline-block;padding:.75em 1.5em;margin-top:1em;font-size:1.2em;color:#fff;background-color:var(--button-color);border:none;border-radius:5px;text-decoration:none;cursor:pointer;transition:background-color .3s ease}.cta-button[_ngcontent-%COMP%]:hover{background-color:#e65c00}.rules-section[_ngcontent-%COMP%]{padding:40px 20px;background:#f4f4f4}.rules-section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.rules-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;font-size:32px}.rules-list[_ngcontent-%COMP%]{list-style:none}.rules-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background:#fff;padding:20px;margin-bottom:10px;border-left:5px solid #007BFF}.rules-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;color:#333}"]})}return f})();function Jf(f,c){1&f&&u._UZ(0,"app-event-card",7),2&f&&u.Q6J("event",c.$implicit)}let Lh=(()=>{class f{constructor(a,p){this.eventService=a,this.router=p,this.events=[]}ngOnInit(){this.eventService.getEvents().subscribe(a=>{this.events=a})}navigateToAddEvent(){this.router.navigate(["/add-event"])}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(na.n),u.Y36(Ci.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-events"]],decls:12,vars:1,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"add-service-container"],[3,"click"],[1,"services-container"],[3,"event",4,"ngFor","ngForOf"],[3,"event"]],template:function(p,b){1&p&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._uU(3,"Lista de Evenimente"),u.qZA()(),u.TgZ(4,"div",2)(5,"h2"),u._uU(6,"Descoperi\u021bi serviciile oferite de membrii comunit\u0103\u021bii"),u.qZA()()(),u.TgZ(7,"div",3)(8,"button",4),u.NdJ("click",function(){return b.navigateToAddEvent()}),u._uU(9,"Adaugati un Eveniment"),u.qZA()(),u.TgZ(10,"div",5),u.YNc(11,Jf,1,1,"app-event-card",6),u.qZA()),2&p&&(u.xp6(11),u.Q6J("ngForOf",b.events))},dependencies:[G.sg,hc],styles:[".hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.section-header[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;background-color:#f0f0f0}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:10px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.service-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:10px;padding:40px;width:calc(25% - 32px);box-sizing:border-box;position:relative;min-width:400px}.card-header[_ngcontent-%COMP%]{text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333}.card-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-top:4px}.card-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:gold}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}.services-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:30px;padding:30px}.services-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.services-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px;font-size:1rem}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}.add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.services-control[_ngcontent-%COMP%]{flex-direction:column}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}"]})}return f})();function Hi(f,c){1&f&&u._UZ(0,"app-offer-card",7),2&f&&u.Q6J("offer",c.$implicit)}let vu=(()=>{class f{constructor(a,p){this.offersService=a,this.router=p,this.offers=[]}ngOnInit(){this.offersService.getOffers().subscribe(a=>{console.log(a),this.offers=a})}navigateToAddOffer(){this.router.navigate(["/add-offers"])}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(Pl.b),u.Y36(Ci.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-offers"]],decls:12,vars:1,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"add-service-container"],[3,"click"],[1,"offer-list"],[3,"offer",4,"ngFor","ngForOf"],[3,"offer"]],template:function(p,b){1&p&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._uU(3,"De toate pentru to\u021bi"),u.qZA()(),u.TgZ(4,"div",2)(5,"h2"),u._uU(6,"Descoperi\u021bi oferte de membrii comunit\u0103\u021bii"),u.qZA()()(),u.TgZ(7,"div",3)(8,"button",4),u.NdJ("click",function(){return b.navigateToAddOffer()}),u._uU(9,"Adaugati oferte"),u.qZA()(),u.TgZ(10,"div",5),u.YNc(11,Hi,1,1,"app-offer-card",6),u.qZA()),2&p&&(u.xp6(11),u.Q6J("ngForOf",b.offers))},dependencies:[G.sg,Kf],styles:[".hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(http://source.unsplash.com/800x600/?Seattle);background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.section-header[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;background-color:#f0f0f0}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:10px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.add-offer-container[_ngcontent-%COMP%], .add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}.offer-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;justify-content:center}.offers[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.offers-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.offers-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a;margin:15px;width:calc(25% - 32px);overflow:hidden;transition:transform .3s,box-shadow .3s;min-width:400px}.offers-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 12px 24px #0003}.offer-card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:180px;object-fit:cover}.offers-card-content[_ngcontent-%COMP%]{padding:20px;text-align:left}.offers-card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;font-size:22px;font-weight:600}.offers-card-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 10px;font-size:18px;color:#666;font-weight:400}.offers-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 10px;font-size:16px;color:#777}.offers-footer[_ngcontent-%COMP%]{text-align:right;margin-top:10px}.featured[_ngcontent-%COMP%]{color:#007bff;font-weight:700}@media (max-width: 1024px){.offer-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.offer-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}"]})}return f})();class gc{constructor(){this.Name="",this.Phone_Number="",this.Email="",this.Description="",this.Website="",this.Facebook="",this.Instagram="",this.Date_Created="",this.Date_Updated="",this.Image="",this.Approved=!1,this.OpenHour="",this.CloseHour=""}}class Eu extends gc{constructor(){super(...arguments),this.id=""}}var Rr=B(1920),Lo=B(2459),Iu=B(4664),mc=B(7217),Ol=B(3106),Nl=B(5861),Jc=B(534),Io=B(9058),Xf=B(4537);const oo="firebasestorage.googleapis.com",bu="storageBucket";class _i extends Io.ZR{constructor(c,a,p=0){super(Fl(c),`Firebase Storage: ${a} (${Fl(c)})`),this.status_=p,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_i.prototype)}get status(){return this.status_}set status(c){this.status_=c}_codeEquals(c){return Fl(c)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(c){this.customData.serverResponse=c,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var yi=function(f){return f.UNKNOWN="unknown",f.OBJECT_NOT_FOUND="object-not-found",f.BUCKET_NOT_FOUND="bucket-not-found",f.PROJECT_NOT_FOUND="project-not-found",f.QUOTA_EXCEEDED="quota-exceeded",f.UNAUTHENTICATED="unauthenticated",f.UNAUTHORIZED="unauthorized",f.UNAUTHORIZED_APP="unauthorized-app",f.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",f.INVALID_CHECKSUM="invalid-checksum",f.CANCELED="canceled",f.INVALID_EVENT_NAME="invalid-event-name",f.INVALID_URL="invalid-url",f.INVALID_DEFAULT_BUCKET="invalid-default-bucket",f.NO_DEFAULT_BUCKET="no-default-bucket",f.CANNOT_SLICE_BLOB="cannot-slice-blob",f.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",f.NO_DOWNLOAD_URL="no-download-url",f.INVALID_ARGUMENT="invalid-argument",f.INVALID_ARGUMENT_COUNT="invalid-argument-count",f.APP_DELETED="app-deleted",f.INVALID_ROOT_OPERATION="invalid-root-operation",f.INVALID_FORMAT="invalid-format",f.INTERNAL_ERROR="internal-error",f.UNSUPPORTED_ENVIRONMENT="unsupported-environment",f}(yi||{});function Fl(f){return"storage/"+f}function vd(){return new _i(yi.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function _c(){return new _i(yi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Id(){return new _i(yi.CANCELED,"User canceled the upload/download.")}function tl(){return new _i(yi.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function nl(f){return new _i(yi.INVALID_ARGUMENT,f)}function yc(){return new _i(yi.APP_DELETED,"The Firebase app was deleted.")}function rl(f){return new _i(yi.INVALID_ROOT_OPERATION,"The operation '"+f+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function il(f,c){return new _i(yi.INVALID_FORMAT,"String does not match format '"+f+"': "+c)}function Vl(f){throw new _i(yi.INTERNAL_ERROR,"Internal error: "+f)}class C{constructor(c,a){this.bucket=c,this.path_=a}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const c=encodeURIComponent;return"/b/"+c(this.bucket)+"/o/"+c(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(c,a){let p;try{p=C.makeFromUrl(c,a)}catch{return new C(c,"")}if(""===p.path)return p;throw function Cu(f){return new _i(yi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+f+"'.")}(c)}static makeFromUrl(c,a){let p=null;const b="([A-Za-z0-9.\\-_]+)",de=new RegExp("^gs://"+b+"(/(.*))?$","i");function Ze(Zr){Zr.path_=decodeURIComponent(Zr.path)}const tn=a.replace(/[.]/g,"\\."),ci=[{regex:de,indices:{bucket:1,path:3},postModify:function k(Zr){"/"===Zr.path.charAt(Zr.path.length-1)&&(Zr.path_=Zr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${tn}/v[A-Za-z0-9_]+/b/${b}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Ze},{regex:new RegExp(`^https?://${a===oo?"(?:storage.googleapis.com|storage.cloud.google.com)":a}/${b}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Ze}];for(let Zr=0;Zr<ci.length;Zr++){const Ta=ci[Zr],mo=Ta.regex.exec(c);if(mo){let jo=mo[Ta.indices.path];jo||(jo=""),p=new C(mo[Ta.indices.bucket],jo),Ta.postModify(p);break}}if(null==p)throw function Ba(f){return new _i(yi.INVALID_URL,"Invalid URL '"+f+"'.")}(c);return p}}class _{constructor(c){this.promise_=Promise.reject(c)}getPromise(){return this.promise_}cancel(c=!1){}}function dt(f){return"string"==typeof f||f instanceof String}function Ft(f){return vn()&&f instanceof Blob}function vn(){return typeof Blob<"u"}function jn(f,c,a,p){if(p<c)throw nl(`Invalid value for '${f}'. Expected ${c} or greater.`);if(p>a)throw nl(`Invalid value for '${f}'. Expected ${a} or less.`)}function ur(f,c,a){let p=c;return null==a&&(p=`https://${c}`),`${a}://${p}/v0${f}`}function ao(f){const c=encodeURIComponent;let a="?";for(const p in f)f.hasOwnProperty(p)&&(a=a+(c(p)+"=")+c(f[p])+"&");return a=a.slice(0,-1),a}var bo=function(f){return f[f.NO_ERROR=0]="NO_ERROR",f[f.NETWORK_ERROR=1]="NETWORK_ERROR",f[f.ABORT=2]="ABORT",f}(bo||{});function ja(f,c){const a=f>=500&&f<600,b=-1!==[408,429].indexOf(f),k=-1!==c.indexOf(f);return a||b||k}class Ul{constructor(c,a,p,b,k,ee,de,Pe,Ze,St,tn,Vn=!0){this.url_=c,this.method_=a,this.headers_=p,this.body_=b,this.successCodes_=k,this.additionalRetryCodes_=ee,this.callback_=de,this.errorCallback_=Pe,this.timeout_=Ze,this.progressCallback_=St,this.connectionFactory_=tn,this.retry=Vn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((An,pn)=>{this.resolve_=An,this.reject_=pn,this.start_()})}start_(){const a=(p,b)=>{const k=this.resolve_,ee=this.reject_,de=b.connection;if(b.wasSuccessCode)try{const Pe=this.callback_(de,de.getResponse());!function Y(f){return void 0!==f}(Pe)?k():k(Pe)}catch(Pe){ee(Pe)}else if(null!==de){const Pe=vd();Pe.serverResponse=de.getErrorText(),ee(this.errorCallback_?this.errorCallback_(de,Pe):Pe)}else ee(b.canceled?this.appDelete_?yc():Id():_c())};this.canceled_?a(0,new ga(!1,null,!0)):this.backoffId_=function v(f,c,a){let p=1,b=null,k=null,ee=!1,de=0;function Pe(){return 2===de}let Ze=!1;function St(...dr){Ze||(Ze=!0,c.apply(null,dr))}function tn(dr){b=setTimeout(()=>{b=null,f(An,Pe())},dr)}function Vn(){k&&clearTimeout(k)}function An(dr,...Jr){if(Ze)return void Vn();if(dr)return Vn(),void St.call(null,dr,...Jr);if(Pe()||ee)return Vn(),void St.call(null,dr,...Jr);let ci;p<64&&(p*=2),1===de?(de=2,ci=0):ci=1e3*(p+Math.random()),tn(ci)}let pn=!1;function xn(dr){pn||(pn=!0,Vn(),!Ze&&(null!==b?(dr||(de=2),clearTimeout(b),tn(0)):dr||(de=1)))}return tn(0),k=setTimeout(()=>{ee=!0,xn(!0)},a),xn}((p,b)=>{if(b)return void p(!1,new ga(!1,null,!0));const k=this.connectionFactory_();this.pendingConnection_=k;const ee=de=>{null!==this.progressCallback_&&this.progressCallback_(de.loaded,de.lengthComputable?de.total:-1)};null!==this.progressCallback_&&k.addUploadProgressListener(ee),k.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&k.removeUploadProgressListener(ee),this.pendingConnection_=null;const de=k.getErrorCode()===bo.NO_ERROR,Pe=k.getStatus();if(!de||ja(Pe,this.additionalRetryCodes_)&&this.retry){const St=k.getErrorCode()===bo.ABORT;return void p(!1,new ga(!1,null,St))}const Ze=-1!==this.successCodes_.indexOf(Pe);p(!0,new ga(Ze,k))})},a,this.timeout_)}getPromise(){return this.promise_}cancel(c){this.canceled_=!0,this.appDelete_=c||!1,null!==this.backoffId_&&function M(f){f(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class ga{constructor(c,a,p){this.wasSuccessCode=c,this.connection=a,this.canceled=!!p}}function $h(...f){const c=function Td(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==c){const a=new c;for(let p=0;p<f.length;p++)a.append(f[p]);return a.getBlob()}if(vn())return new Blob(f);throw new _i(yi.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ns={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Cd{constructor(c,a){this.data=c,this.contentType=a||null}}function np(f,c){switch(f){case Ns.RAW:return new Cd(Hh(c));case Ns.BASE64:case Ns.BASE64URL:return new Cd(zh(f,c));case Ns.DATA_URL:return new Cd(function Ad(f){const c=new mg(f);return c.base64?zh(Ns.BASE64,c.rest):function wd(f){let c;try{c=decodeURIComponent(f)}catch{throw il(Ns.DATA_URL,"Malformed data URL.")}return Hh(c)}(c.rest)}(c),function wu(f){return new mg(f).contentType}(c))}throw vd()}function Hh(f){const c=[];for(let a=0;a<f.length;a++){let p=f.charCodeAt(a);p<=127?c.push(p):p<=2047?c.push(192|p>>6,128|63&p):55296==(64512&p)?a<f.length-1&&56320==(64512&f.charCodeAt(a+1))?(p=65536|(1023&p)<<10|1023&f.charCodeAt(++a),c.push(240|p>>18,128|p>>12&63,128|p>>6&63,128|63&p)):c.push(239,191,189):56320==(64512&p)?c.push(239,191,189):c.push(224|p>>12,128|p>>6&63,128|63&p)}return new Uint8Array(c)}function zh(f,c){switch(f){case Ns.BASE64:{const b=-1!==c.indexOf("-"),k=-1!==c.indexOf("_");if(b||k)throw il(f,"Invalid character '"+(b?"-":"_")+"' found: is it base64url encoded?");break}case Ns.BASE64URL:{const b=-1!==c.indexOf("+"),k=-1!==c.indexOf("/");if(b||k)throw il(f,"Invalid character '"+(b?"+":"/")+"' found: is it base64 encoded?");c=c.replace(/-/g,"+").replace(/_/g,"/");break}}let a;try{a=function al(f){if(typeof atob>"u")throw function Uh(f){return new _i(yi.UNSUPPORTED_ENVIRONMENT,`${f} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(f)}(c)}catch(b){throw b.message.includes("polyfill")?b:il(f,"Invalid character found")}const p=new Uint8Array(a.length);for(let b=0;b<a.length;b++)p[b]=a.charCodeAt(b);return p}class mg{constructor(c){this.base64=!1,this.contentType=null;const a=c.match(/^data:([^,]+)?,/);if(null===a)throw il(Ns.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const p=a[1]||null;null!=p&&(this.base64=function Dd(f,c){return f.length>=c.length&&f.substring(f.length-c.length)===c}(p,";base64"),this.contentType=this.base64?p.substring(0,p.length-7):p),this.rest=c.substring(c.indexOf(",")+1)}}class $a{constructor(c,a){let p=0,b="";Ft(c)?(this.data_=c,p=c.size,b=c.type):c instanceof ArrayBuffer?(a?this.data_=new Uint8Array(c):(this.data_=new Uint8Array(c.byteLength),this.data_.set(new Uint8Array(c))),p=this.data_.length):c instanceof Uint8Array&&(a?this.data_=c:(this.data_=new Uint8Array(c.length),this.data_.set(c)),p=c.length),this.size_=p,this.type_=b}size(){return this.size_}type(){return this.type_}slice(c,a){if(Ft(this.data_)){const b=function vc(f,c,a){return f.webkitSlice?f.webkitSlice(c,a):f.mozSlice?f.mozSlice(c,a):f.slice?f.slice(c,a):null}(this.data_,c,a);return null===b?null:new $a(b)}{const p=new Uint8Array(this.data_.buffer,c,a-c);return new $a(p,!0)}}static getBlob(...c){if(vn()){const a=c.map(p=>p instanceof $a?p.data_:p);return new $a($h.apply(null,a))}{const a=c.map(ee=>dt(ee)?np(Ns.RAW,ee).data:ee.data_);let p=0;a.forEach(ee=>{p+=ee.byteLength});const b=new Uint8Array(p);let k=0;return a.forEach(ee=>{for(let de=0;de<ee.length;de++)b[k++]=ee[de]}),new $a(b,!0)}}uploadData(){return this.data_}}function Bl(f){let c;try{c=JSON.parse(f)}catch{return null}return function Ue(f){return"object"==typeof f&&!Array.isArray(f)}(c)?c:null}function rp(f){const c=f.lastIndexOf("/",f.length-2);return-1===c?f:f.slice(c+1)}function Um(f,c){return c}class co{constructor(c,a,p,b){this.server=c,this.local=a||c,this.writable=!!p,this.xform=b||Um}}let ip=null;function Gh(){if(ip)return ip;const f=[];f.push(new co("bucket")),f.push(new co("generation")),f.push(new co("metageneration")),f.push(new co("name","fullPath",!0));const a=new co("name");a.xform=function c(k,ee){return function sp(f){return!dt(f)||f.length<2?f:rp(f)}(ee)},f.push(a);const b=new co("size");return b.xform=function p(k,ee){return void 0!==ee?Number(ee):ee},f.push(b),f.push(new co("timeCreated")),f.push(new co("updated")),f.push(new co("md5Hash",null,!0)),f.push(new co("cacheControl",null,!0)),f.push(new co("contentDisposition",null,!0)),f.push(new co("contentEncoding",null,!0)),f.push(new co("contentLanguage",null,!0)),f.push(new co("contentType",null,!0)),f.push(new co("metadata","customMetadata",!0)),ip=f,ip}function Sd(f,c,a){const p=Bl(c);return null===p?null:function Vo(f,c,a){const p={type:"file"},b=a.length;for(let k=0;k<b;k++){const ee=a[k];p[ee.local]=ee.xform(p,c[ee.server])}return function yg(f,c){Object.defineProperty(f,"ref",{get:function a(){const k=new C(f.bucket,f.fullPath);return c._makeStorageReference(k)}})}(p,f),p}(f,p,a)}function Au(f,c){const a={},p=c.length;for(let b=0;b<p;b++){const k=c[b];k.writable&&(a[k.server]=f[k.local])}return JSON.stringify(a)}const ks="prefixes",jl="items";class To{constructor(c,a,p,b){this.url=c,this.method=a,this.handler=p,this.timeout=b,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Fs(f){if(!f)throw vd()}function Md(f,c){return function a(p,b){const k=Sd(f,b,c);return Fs(null!==k),k}}function $l(f){return function c(a,p){let b;return b=401===a.getStatus()?a.getErrorText().includes("Firebase App Check token is invalid")?function Ed(){return new _i(yi.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Xc(){return new _i(yi.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===a.getStatus()?function gg(f){return new _i(yi.QUOTA_EXCEEDED,"Quota for bucket '"+f+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(f.bucket):403===a.getStatus()?function ep(f){return new _i(yi.UNAUTHORIZED,"User does not have permission to access '"+f+"'.")}(f.path):p,b.status=a.getStatus(),b.serverResponse=p.serverResponse,b}}function Ec(f){const c=$l(f);return function a(p,b){let k=c(p,b);return 404===p.getStatus()&&(k=function Vh(f){return new _i(yi.OBJECT_NOT_FOUND,"Object '"+f+"' does not exist.")}(f.path)),k.serverResponse=b.serverResponse,k}}function jm(f,c,a){const b=ur(c.fullServerUrl(),f.host,f._protocol),ee=f.maxOperationRetryTime,de=new To(b,"GET",Md(f,a),ee);return de.errorHandler=Ec(c),de}function vg(f,c,a,p,b){const k={};k.prefix=c.isRoot?"":c.path+"/",a&&a.length>0&&(k.delimiter=a),p&&(k.pageToken=p),b&&(k.maxResults=b);const de=ur(c.bucketOnlyServerUrl(),f.host,f._protocol),Ze=f.maxOperationRetryTime,St=new To(de,"GET",function Du(f,c){return function a(p,b){const k=function ap(f,c,a){const p=Bl(a);return null===p?null:function op(f,c,a){const p={prefixes:[],items:[],nextPageToken:a.nextPageToken};if(a[ks])for(const b of a[ks]){const k=b.replace(/\/$/,""),ee=f._makeStorageReference(new C(c,k));p.prefixes.push(ee)}if(a[jl])for(const b of a[jl]){const k=f._makeStorageReference(new C(c,b.name));p.items.push(k)}return p}(f,c,p)}(f,c,b);return Fs(null!==k),k}}(f,c.bucket),Ze);return St.urlParams=k,St.errorHandler=$l(c),St}function bg(f,c,a){const p=Object.assign({},a);return p.fullPath=f.path,p.size=c.size(),p.contentType||(p.contentType=function dy(f,c){return f&&f.contentType||c&&c.type()||"application/octet-stream"}(null,c)),p}class Mu{constructor(c,a,p,b){this.current=c,this.total=a,this.finalized=!!p,this.metadata=b||null}}function cl(f,c){let a=null;try{a=f.getResponseHeader("X-Goog-Upload-Status")}catch{Fs(!1)}return Fs(!!a&&-1!==(c||["active"]).indexOf(a)),a}const Hm={STATE_CHANGED:"state_changed"},lo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function lp(f){switch(f){case"running":case"pausing":case"canceling":return lo.RUNNING;case"paused":return lo.PAUSED;case"success":return lo.SUCCESS;case"canceled":return lo.CANCELED;default:return lo.ERROR}}class zm{constructor(c,a,p){if(function ue(f){return"function"==typeof f}(c)||null!=a||null!=p)this.next=c,this.error=a??void 0,this.complete=p??void 0;else{const k=c;this.next=k.next,this.error=k.error,this.complete=k.complete}}}function Od(f){return(...c)=>{Promise.resolve().then(()=>f(...c))}}let Gm=null;class Wm{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=bo.NO_ERROR,this.sendPromise_=new Promise(c=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=bo.ABORT,c()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=bo.NETWORK_ERROR,c()}),this.xhr_.addEventListener("load",()=>{c()})})}send(c,a,p,b){if(this.sent_)throw Vl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(a,c,!0),void 0!==b)for(const k in b)b.hasOwnProperty(k)&&this.xhr_.setRequestHeader(k,b[k].toString());return void 0!==p?this.xhr_.send(p):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Vl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(c){return this.xhr_.getResponseHeader(c)}addUploadProgressListener(c){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",c)}removeUploadProgressListener(c){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",c)}}class up extends Wm{initXhr(){this.xhr_.responseType="text"}}function Co(){return Gm?Gm():new up}class Kh{constructor(c,a,p=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=c,this._blob=a,this._metadata=p,this._mappings=Gh(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=b=>{if(this._request=void 0,this._chunkMultiplier=1,b._codeEquals(yi.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const k=this.isExponentialBackoffExpired();if(ja(b.status,[])){if(!k)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();b=_c()}this._error=b,this._transition("error")}},this._metadataErrorHandler=b=>{this._request=void 0,b._codeEquals(yi.CANCELED)?this.completeTransitions_():(this._error=b,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((b,k)=>{this._resolve=b,this._reject=k,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const c=this._transferred;return a=>this._updateProgress(c+a)}_shouldDoResumable(c){return c.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(c){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([a,p])=>{switch(this._state){case"running":c(a,p);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((c,a)=>{const p=function xd(f,c,a,p,b){const k=c.bucketOnlyServerUrl(),ee=bg(c,p,b),de={name:ee.fullPath},Pe=ur(k,f.host,f._protocol),St={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${p.size()}`,"X-Goog-Upload-Header-Content-Type":ee.contentType,"Content-Type":"application/json; charset=utf-8"},tn=Au(ee,a),pn=new To(Pe,"POST",function An(xn){let dr;cl(xn);try{dr=xn.getResponseHeader("X-Goog-Upload-URL")}catch{Fs(!1)}return Fs(dt(dr)),dr},f.maxUploadRetryTime);return pn.urlParams=de,pn.headers=St,pn.body=tn,pn.errorHandler=$l(c),pn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),b=this._ref.storage._makeRequest(p,Co,c,a);this._request=b,b.getPromise().then(k=>{this._request=void 0,this._uploadUrl=k,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const c=this._uploadUrl;this._resolveToken((a,p)=>{const b=function $m(f,c,a,p){const Pe=new To(a,"POST",function k(Ze){const St=cl(Ze,["active","final"]);let tn=null;try{tn=Ze.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Fs(!1)}tn||Fs(!1);const Vn=Number(tn);return Fs(!isNaN(Vn)),new Mu(Vn,p.size(),"final"===St)},f.maxUploadRetryTime);return Pe.headers={"X-Goog-Upload-Command":"query"},Pe.errorHandler=$l(c),Pe}(this._ref.storage,this._ref._location,c,this._blob),k=this._ref.storage._makeRequest(b,Co,a,p);this._request=k,k.getPromise().then(ee=>{this._request=void 0,this._updateProgress(ee.current),this._needToFetchStatus=!1,ee.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const c=262144*this._chunkMultiplier,a=new Mu(this._transferred,this._blob.size()),p=this._uploadUrl;this._resolveToken((b,k)=>{let ee;try{ee=function cp(f,c,a,p,b,k,ee,de){const Pe=new Mu(0,0);if(ee?(Pe.current=ee.current,Pe.total=ee.total):(Pe.current=0,Pe.total=p.size()),p.size()!==Pe.total)throw function Ll(){return new _i(yi.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Ze=Pe.total-Pe.current;let St=Ze;b>0&&(St=Math.min(St,b));const tn=Pe.current;let An="";An=0===St?"finalize":Ze===St?"upload, finalize":"upload";const pn={"X-Goog-Upload-Command":An,"X-Goog-Upload-Offset":`${Pe.current}`},xn=p.slice(tn,tn+St);if(null===xn)throw tl();const ci=new To(a,"POST",function dr(Zr,Ta){const mo=cl(Zr,["active","final"]),Bs=Pe.current+St,jo=p.size();let Ca;return Ca="final"===mo?Md(c,k)(Zr,Ta):null,new Mu(Bs,jo,"final"===mo,Ca)},c.maxUploadRetryTime);return ci.headers=pn,ci.body=xn.uploadData(),ci.progressCallback=de||null,ci.errorHandler=$l(f),ci}(this._ref._location,this._ref.storage,p,this._blob,c,this._mappings,a,this._makeProgressCallback())}catch(Pe){return this._error=Pe,void this._transition("error")}const de=this._ref.storage._makeRequest(ee,Co,b,k,!1);this._request=de,de.getPromise().then(Pe=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Pe.current),Pe.finalized?(this._metadata=Pe.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((c,a)=>{const p=jm(this._ref.storage,this._ref._location,this._mappings),b=this._ref.storage._makeRequest(p,Co,c,a);this._request=b,b.getPromise().then(k=>{this._request=void 0,this._metadata=k,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((c,a)=>{const p=function Wh(f,c,a,p,b){const k=c.bucketOnlyServerUrl(),ee={"X-Goog-Upload-Protocol":"multipart"},Pe=function de(){let ci="";for(let Zr=0;Zr<2;Zr++)ci+=Math.random().toString().slice(2);return ci}();ee["Content-Type"]="multipart/related; boundary="+Pe;const Ze=bg(c,p,b),St=Au(Ze,a),An=$a.getBlob("--"+Pe+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+St+"\r\n--"+Pe+"\r\nContent-Type: "+Ze.contentType+"\r\n\r\n",p,"\r\n--"+Pe+"--");if(null===An)throw tl();const pn={name:Ze.fullPath},xn=ur(k,f.host,f._protocol),Jr=f.maxUploadRetryTime,ai=new To(xn,"POST",Md(f,a),Jr);return ai.urlParams=pn,ai.headers=ee,ai.body=An.uploadData(),ai.errorHandler=$l(c),ai}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),b=this._ref.storage._makeRequest(p,Co,c,a);this._request=b,b.getPromise().then(k=>{this._request=void 0,this._metadata=k,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(c){const a=this._transferred;this._transferred=c,this._transferred!==a&&this._notifyObservers()}_transition(c){if(this._state!==c)switch(c){case"canceling":case"pausing":this._state=c,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const a="paused"===this._state;this._state=c,a&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=c,this._notifyObservers();break;case"canceled":this._error=Id(),this._state=c,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const c=lp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:c,metadata:this._metadata,task:this,ref:this._ref}}on(c,a,p,b){const k=new zm(a||void 0,p||void 0,b||void 0);return this._addObserver(k),()=>{this._removeObserver(k)}}then(c,a){return this._promise.then(c,a)}catch(c){return this.then(null,c)}_addObserver(c){this._observers.push(c),this._notifyObserver(c)}_removeObserver(c){const a=this._observers.indexOf(c);-1!==a&&this._observers.splice(a,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(a=>{this._notifyObserver(a)})}_finishPromise(){if(void 0!==this._resolve){let c=!0;switch(lp(this._state)){case lo.SUCCESS:Od(this._resolve.bind(null,this.snapshot))();break;case lo.CANCELED:case lo.ERROR:Od(this._reject.bind(null,this._error))();break;default:c=!1}c&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(c){switch(lp(this._state)){case lo.RUNNING:case lo.PAUSED:c.next&&Od(c.next.bind(c,this.snapshot))();break;case lo.SUCCESS:c.complete&&Od(c.complete.bind(c))();break;default:c.error&&Od(c.error.bind(c,this._error))()}}resume(){const c="paused"===this._state||"pausing"===this._state;return c&&this._transition("running"),c}pause(){const c="running"===this._state;return c&&this._transition("pausing"),c}cancel(){const c="running"===this._state||"pausing"===this._state;return c&&this._transition("canceling"),c}}class wo{constructor(c,a){this._service=c,this._location=a instanceof C?a:C.makeFromUrl(a,c.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(c,a){return new wo(c,a)}get root(){const c=new C(this._location.bucket,"");return this._newRef(this._service,c)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rp(this._location.path)}get storage(){return this._service}get parent(){const c=function _g(f){if(0===f.length)return null;const c=f.lastIndexOf("/");return-1===c?"":f.slice(0,c)}(this._location.path);if(null===c)return null;const a=new C(this._location.bucket,c);return new wo(this._service,a)}_throwIfRoot(c){if(""===this._location.path)throw rl(c)}}function fp(f,c,a){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,Nl.Z)(function*(f,c,a){const b=yield pp(f,{pageToken:a});c.prefixes.push(...b.prefixes),c.items.push(...b.items),null!=b.nextPageToken&&(yield fp(f,c,b.nextPageToken))})).apply(this,arguments)}function pp(f,c){null!=c&&"number"==typeof c.maxResults&&jn("options.maxResults",1,1e3,c.maxResults);const a=c||{},p=vg(f.storage,f._location,"/",a.pageToken,a.maxResults);return f.storage.makeRequestWithTokens(p,Co)}function mp(f){f._throwIfRoot("getDownloadURL");const c=function Eg(f,c,a){const b=ur(c.fullServerUrl(),f.host,f._protocol),ee=f.maxOperationRetryTime,de=new To(b,"GET",function Pd(f,c){return function a(p,b){const k=Sd(f,b,c);return Fs(null!==k),function Bm(f,c,a,p){const b=Bl(c);if(null===b||!dt(b.downloadTokens))return null;const k=b.downloadTokens;if(0===k.length)return null;const ee=encodeURIComponent;return k.split(",").map(Ze=>{const tn=f.fullPath;return ur("/b/"+ee(f.bucket)+"/o/"+ee(tn),a,p)+ao({alt:"media",token:Ze})})[0]}(k,b,f.host,f._protocol)}}(f,a),ee);return de.errorHandler=Ec(c),de}(f.storage,f._location,Gh());return f.storage.makeRequestWithTokens(c,Co).then(a=>{if(null===a)throw function bd(){return new _i(yi.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return a})}function Dg(f,c){const a=function Vm(f,c){const a=c.split("/").filter(p=>p.length>0).join("/");return 0===f.length?a:f+"/"+a}(f._location.path,c),p=new C(f._location.bucket,a);return new wo(f.storage,p)}function Qh(f,c){if(f instanceof Xh){const a=f;if(null==a._bucket)throw function el(){return new _i(yi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+bu+"' property when initializing the app?")}();const p=new wo(a,a._bucket);return null!=c?Qh(p,c):p}return void 0!==c?Dg(f,c):f}function Jh(f,c){if(c&&function Yh(f){return/^[A-Za-z]+:\/\//.test(f)}(c)){if(f instanceof Xh)return function _p(f,c){return new wo(f,c)}(f,c);throw nl("To use ref(service, url), the first argument must be a Storage instance.")}return Qh(f,c)}function Hl(f,c){const a=c?.[bu];return null==a?null:C.makeFromBucketSpec(a,f)}class Xh{constructor(c,a,p,b,k){this.app=c,this._authProvider=a,this._appCheckProvider=p,this._url=b,this._firebaseVersion=k,this._bucket=null,this._host=oo,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=b?C.makeFromBucketSpec(b,this._host):Hl(this._host,this.app.options)}get host(){return this._host}set host(c){this._host=c,this._bucket=null!=this._url?C.makeFromBucketSpec(this._url,c):Hl(c,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(c){jn("time",0,Number.POSITIVE_INFINITY,c),this._maxUploadRetryTime=c}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(c){jn("time",0,Number.POSITIVE_INFINITY,c),this._maxOperationRetryTime=c}_getAuthToken(){var c=this;return(0,Nl.Z)(function*(){if(c._overrideAuthToken)return c._overrideAuthToken;const a=c._authProvider.getImmediate({optional:!0});if(a){const p=yield a.getToken();if(null!==p)return p.accessToken}return null})()}_getAppCheckToken(){var c=this;return(0,Nl.Z)(function*(){const a=c._appCheckProvider.getImmediate({optional:!0});return a?(yield a.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(c=>c.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(c){return new wo(this,c)}_makeRequest(c,a,p,b,k=!0){if(this._deleted)return new _(yc());{const ee=function tp(f,c,a,p,b,k,ee=!0){const de=ao(f.urlParams),Pe=f.url+de,Ze=Object.assign({},f.headers);return function ol(f,c){c&&(f["X-Firebase-GMPID"]=c)}(Ze,c),function Bh(f,c){null!==c&&c.length>0&&(f.Authorization="Firebase "+c)}(Ze,a),function sl(f,c){f["X-Firebase-Storage-Version"]="webjs/"+(c??"AppManager")}(Ze,k),function jh(f,c){null!==c&&(f["X-Firebase-AppCheck"]=c)}(Ze,p),new Ul(Pe,f.method,Ze,f.body,f.successCodes,f.additionalRetryCodes,f.handler,f.errorHandler,f.timeout,f.progressCallback,b,ee)}(c,this._appId,p,b,a,this._firebaseVersion,k);return this._requests.add(ee),ee.getPromise().then(()=>this._requests.delete(ee),()=>this._requests.delete(ee)),ee}}makeRequestWithTokens(c,a){var p=this;return(0,Nl.Z)(function*(){const[b,k]=yield Promise.all([p._getAuthToken(),p._getAppCheckToken()]);return p._makeRequest(c,a,b,k).getPromise()})()}}const yp="@firebase/storage",vp="storage";function Ep(f,c){return Jh(f=(0,Io.m9)(f),c)}function Vd(f=(0,Jc.getApp)(),c){f=(0,Io.m9)(f);const p=(0,Jc._getProvider)(f,vp).getImmediate({identifier:c}),b=(0,Io.P0)("storage");return b&&tf(p,...b),p}function tf(f,c,a,p={}){!function kd(f,c,a,p={}){f.host=`${c}:${a}`,f._protocol="http";const{mockUserToken:b}=p;b&&(f._overrideAuthToken="string"==typeof b?b:(0,Io.Sg)(b,f.app.options.projectId))}(f,c,a,p)}function Xm(f,{instanceIdentifier:c}){const a=f.getProvider("app").getImmediate(),p=f.getProvider("auth-internal"),b=f.getProvider("app-check-internal");return new Xh(a,p,b,c,Jc.SDK_VERSION)}!function Ru(){(0,Jc._registerComponent)(new Xf.wA(vp,Xm,"PUBLIC").setMultipleInstances(!0)),(0,Jc.registerVersion)(yp,"0.12.5",""),(0,Jc.registerVersion)(yp,"0.12.5","esm2017")}();class Ud{constructor(c,a,p){this._delegate=c,this.task=a,this.ref=p}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class e_{constructor(c,a){this._delegate=c,this._ref=a,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ud(this._delegate.snapshot,this,this._ref)}then(c,a){return this._delegate.then(p=>{if(c)return c(new Ud(p,this,this._ref))},a)}on(c,a,p,b){let k;return a&&(k="function"==typeof a?ee=>a(new Ud(ee,this,this._ref)):{next:a.next?ee=>a.next(new Ud(ee,this,this._ref)):void 0,complete:a.complete||void 0,error:a.error||void 0}),this._delegate.on(c,k,p||void 0,b||void 0)}}class Ip{constructor(c,a){this._delegate=c,this._service=a}get prefixes(){return this._delegate.prefixes.map(c=>new ma(c,this._service))}get items(){return this._delegate.items.map(c=>new ma(c,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ma{constructor(c,a){this._delegate=c,this.storage=a}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(c){const a=function Ld(f,c){return Dg(f,c)}(this._delegate,c);return new ma(a,this.storage)}get root(){return new ma(this._delegate.root,this.storage)}get parent(){const c=this._delegate.parent;return null==c?null:new ma(c,this.storage)}put(c,a){return this._throwIfRoot("put"),new e_(function ef(f,c,a){return function Ym(f,c,a){return f._throwIfRoot("uploadBytesResumable"),new Kh(f,new $a(c),a)}(f=(0,Io.m9)(f),c,a)}(this._delegate,c,a),this)}putString(c,a=Ns.RAW,p){this._throwIfRoot("putString");const b=np(a,c),k=Object.assign({},p);return null==k.contentType&&null!=b.contentType&&(k.contentType=b.contentType),new e_(new Kh(this._delegate,new $a(b.data,!0),k),this)}listAll(){return function $v(f){return function wg(f){const c={prefixes:[],items:[]};return fp(f,c).then(()=>c)}(f=(0,Io.m9)(f))}(this._delegate).then(c=>new Ip(c,this.storage))}list(c){return function Pg(f,c){return pp(f=(0,Io.m9)(f),c)}(this._delegate,c||void 0).then(a=>new Ip(a,this.storage))}getMetadata(){return function Fd(f){return function Ag(f){f._throwIfRoot("getMetadata");const c=jm(f.storage,f._location,Gh());return f.storage.makeRequestWithTokens(c,Co)}(f=(0,Io.m9)(f))}(this._delegate)}updateMetadata(c){return function hy(f,c){return function gp(f,c){f._throwIfRoot("updateMetadata");const a=function Su(f,c,a,p){const k=ur(c.fullServerUrl(),f.host,f._protocol),de=Au(a,p),Ze=f.maxOperationRetryTime,St=new To(k,"PATCH",Md(f,p),Ze);return St.headers={"Content-Type":"application/json; charset=utf-8"},St.body=de,St.errorHandler=Ec(c),St}(f.storage,f._location,c,Gh());return f.storage.makeRequestWithTokens(a,Co)}(f=(0,Io.m9)(f),c)}(this._delegate,c)}getDownloadURL(){return function Rg(f){return mp(f=(0,Io.m9)(f))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function xg(f){return function Pu(f){f._throwIfRoot("deleteObject");const c=function Ig(f,c){const p=ur(c.fullServerUrl(),f.host,f._protocol),de=new To(p,"DELETE",function ee(Pe,Ze){},f.maxOperationRetryTime);return de.successCodes=[200,204],de.errorHandler=Ec(c),de}(f.storage,f._location);return f.storage.makeRequestWithTokens(c,Co)}(f=(0,Io.m9)(f))}(this._delegate)}_throwIfRoot(c){if(""===this._delegate._location.path)throw rl(c)}}class bp{constructor(c,a){this.app=c,this._delegate=a}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(c){if(Ic(c))throw nl("ref() expected a child path but got a URL, use refFromURL instead.");return new ma(Ep(this._delegate,c),this)}refFromURL(c){if(!Ic(c))throw nl("refFromURL() expected a full URL but got a child path, use ref() instead.");try{C.makeFromUrl(c,this._delegate.host)}catch{throw nl("refFromUrl() expected a valid full URL but got an invalid one.")}return new ma(Ep(this._delegate,c),this)}setMaxUploadRetryTime(c){this._delegate.maxUploadRetryTime=c}setMaxOperationRetryTime(c){this._delegate.maxOperationRetryTime=c}useEmulator(c,a,p={}){tf(this._delegate,c,a,p)}}function Ic(f){return/^[A-Za-z]+:\/\//.test(f)}function t_(f,{instanceIdentifier:c}){const a=f.getProvider("app-compat").getImmediate(),p=f.getProvider("storage").getImmediate({identifier:c});return new bp(a,p)}!function Bd(f){const c={TaskState:lo,TaskEvent:Hm,StringFormat:Ns,Storage:bp,Reference:ma};f.INTERNAL.registerComponent(new Xf.wA("storage-compat",t_,"PUBLIC").setServiceProps(c).setMultipleInstances(!0)),f.registerVersion("@firebase/storage-compat","0.3.8")}(Ol.Z);var n_=B(7142);function kg(f){const c=function Tp(f){return new Or.y(c=>{const a=ee=>c.next(ee);a(f.snapshot);const k=f.on("state_changed",a);return f.then(ee=>{a(ee),c.complete()},ee=>{a(f.snapshot),(ee=>{c.error(ee)})(ee)}),function(){k()}}).pipe(ds(0))}(f);return{task:f,then:f.then.bind(f),catch:f.catch.bind(f),pause:f.pause.bind(f),cancel:f.cancel.bind(f),resume:f.resume.bind(f),snapshotChanges:()=>c,percentageChanges:()=>c.pipe((0,Cr.U)(a=>a.bytesTransferred/a.totalBytes*100))}}function Cp(f){return{getDownloadURL:()=>(0,sr.of)(void 0).pipe(Rr.fc,(0,Iu.w)(()=>f.getDownloadURL()),Rr.iC),getMetadata:()=>(0,sr.of)(void 0).pipe(Rr.fc,(0,Iu.w)(()=>f.getMetadata()),Rr.iC),delete:()=>(0,Lo.D)(f.delete()),child:c=>Cp(f.child(c)),updateMetadata:c=>(0,Lo.D)(f.updateMetadata(c)),put:(c,a)=>kg(f.put(c,a)),putString:(c,a,p)=>kg(f.putString(c,a,p)),list:c=>(0,Lo.D)(f.list(c)),listAll:()=>(0,Lo.D)(f.listAll())}}const py=new u.OlP("angularfire2.storageBucket"),gy=new u.OlP("angularfire2.storage.maxUploadRetryTime"),wp=new u.OlP("angularfire2.storage.maxOperationRetryTime"),jd=new u.OlP("angularfire2.storage.use-emulator");let _a=(()=>{class f{storage;constructor(a,p,b,k,ee,de,Pe,Ze,St,tn){const Vn=(0,mc.on)(a,ee,p);this.storage=(0,mc.cc)(`${Vn.name}.storage.${b}`,"AngularFireStorage",Vn.name,()=>{const An=ee.runOutsideAngular(()=>Vn.storage(b||void 0)),pn=St;return pn&&An.useEmulator(...pn),Pe&&An.setMaxUploadRetryTime(Pe),Ze&&An.setMaxOperationRetryTime(Ze),An},[Pe,Ze])}ref(a){return Cp(this.storage.ref(a))}refFromURL(a){return Cp(this.storage.refFromURL(a))}upload(a,p,b){return Cp(this.storage.ref(a)).put(p,b)}static \u0275fac=function(p){return new(p||f)(u.LFG(mc.Dh),u.LFG(mc.xv,8),u.LFG(py,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Rr.HU),u.LFG(gy,8),u.LFG(wp,8),u.LFG(jd,8),u.LFG(Rr.Rf,8))};static \u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"any"})}return f})(),Fg=(()=>{class f{static \u0275fac=function(p){return new(p||f)};static \u0275mod=u.oAB({type:f});static \u0275inj=u.cJS({})}return f})(),Ap=(()=>{class f{constructor(){n_.Z.registerVersion("angularfire",Rr.q4.full,"gcs-compat")}static \u0275fac=function(p){return new(p||f)};static \u0275mod=u.oAB({type:f});static \u0275inj=u.cJS({providers:[_a],imports:[Fg]})}return f})(),Hd=(()=>{class f{constructor(a){this.storage=a}uploadImage(a,p){const b=`${p}/${a.name}`,k=this.storage.ref(b),ee=this.storage.upload(b,a);return new Or.y(de=>{ee.snapshotChanges().pipe((0,so.x)(()=>{k.getDownloadURL().subscribe(Pe=>{de.next(Pe),de.complete()})})).subscribe()})}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(_a))};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();function Lg(f,c){if(1&f&&(u.TgZ(0,"option",26),u._uU(1),u.qZA()),2&f){const a=c.$implicit;u.Q6J("value",a),u.xp6(1),u.Oqu(a)}}let Vg=(()=>{class f{constructor(a,p,b,k){this.fb=a,this.servicesService=p,this.imageUploadService=b,this.router=k,this.serviceTypes=[],this.selectedFile=null,this.serviceObj=new Eu,this.serviceForm=this.fb.group({Name:["",fn.kI.required],Email:["",[fn.kI.email]],Phone_Number:[""],Website:[""],Facebook:[""],Instagram:[""],Image:[""],Description:[""],Date_Created:[""],Community_Sponsor:[""],Service_Type:["",fn.kI.required]})}ngOnInit(){this.fetchServiceTypes()}onFileSelected(a){this.selectedFile=a.target.files[0]}fetchServiceTypes(){this.servicesService.getAllServiceTypes().subscribe(a=>{this.serviceTypes=a})}onSubmit(){this.serviceForm.valid&&(this.serviceObj.Name=this.serviceForm.value.Name,this.serviceObj.Phone_Number=this.serviceForm.value.Phone_Number,this.serviceObj.Service_Type=this.serviceForm.value.Service_Type,this.serviceObj.Community_Sponsor=!1,this.serviceObj.Email=this.serviceForm.value.Email,this.serviceObj.Website=this.serviceForm.value.Website,this.serviceObj.Facebook=this.serviceForm.value.Facebook,this.serviceObj.Instagram=this.serviceForm.value.Instagram,this.serviceObj.Description=this.serviceForm.value.Description,this.serviceObj.Date_Created=this.serviceForm.value.Date_Created,this.serviceObj.Image=this.serviceForm.value.Image,this.serviceObj.Approved=!0,this.selectedFile?this.imageUploadService.uploadImage(this.selectedFile,"serviceImages").subscribe(a=>{this.serviceObj.Image=a,console.log(a),this.saveService()}):this.saveService())}saveService(){const a={id:this.serviceObj.id,Name:this.serviceObj.Name,Phone_Number:this.serviceObj.Phone_Number,Service_Type:this.serviceObj.Service_Type,Community_Sponsor:!1,Email:this.serviceObj.Email,Website:this.serviceObj.Website,Facebook:this.serviceObj.Facebook,Instagram:this.serviceObj.Instagram,Description:this.serviceObj.Description,Date_Created:(new Date).getDate.toString(),Date_Updated:(new Date).getDate.toString(),Image:this.serviceObj.Image,Approved:!1,OpenHour:"",CloseHour:""};this.servicesService.addService(a).subscribe(p=>{console.log("Service added successfully with ID:",p?.id),this.serviceForm.reset(),this.router.navigate(["/services",p?.id])})}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(fn.qu),u.Y36(Va.r),u.Y36(Hd),u.Y36(Ci.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-add-service"]],decls:53,vars:3,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","Name",1,"required"],["id","Name","placeholder","Ion Dumitrescu","formControlName","Name","required",""],["for","Email"],["id","Email","type","Email","placeholder","info@website.com","formControlName","Email"],["for","Phone_Number"],["id","Phone_Number","type","text","placeholder","(425) 444-5555","formControlName","Phone_Number"],["for","Website"],["id","Website","type","text","placeholder","https://www.website.com","formControlName","Website"],["for","Facebook"],["id","Facebook","type","text","placeholder","https://www.facebook.com/yourname","formControlName","Facebook"],["for","Instagram"],["id","Instagram","type","text","placeholder","instaHandle..","formControlName","Instagram"],["for","Description",1,"required"],["id","Description","formControlName","Description"],["for","Service_Type",1,"required"],["id","Service_Type","formControlName","Service_Type","required",""],[3,"value",4,"ngFor","ngForOf"],["for","Image"],["type","file","formControlName","Image",3,"change"],["type","submit",3,"disabled"],[3,"value"]],template:function(p,b){1&p&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._uU(3,"Lista de Servicii"),u.qZA()(),u.TgZ(4,"div",2)(5,"h2"),u._uU(6,"Adaugati serviciile oferite pentru membrii comunit\u0103\u021bii"),u.qZA(),u._UZ(7,"p"),u.qZA()(),u.TgZ(8,"div",3)(9,"h2"),u._uU(10," Serviciile ad\u0103ugate prin aceast\u0103 pagin\u0103 sunt supuse aprob\u0103rii administratorului \xeenainte de a fi afi\u0219ate \xeen list\u0103."),u.qZA(),u.TgZ(11,"h3"),u._uU(12,"V\u0103 rug\u0103m s\u0103 introduce\u021bi cel pu\u021bin o metod\u0103 de contact."),u.qZA(),u.TgZ(13,"form",4),u.NdJ("ngSubmit",function(){return b.onSubmit()}),u.TgZ(14,"div",5)(15,"label",6),u._uU(16,"Nume:"),u.qZA(),u._UZ(17,"input",7),u.qZA(),u.TgZ(18,"div",5)(19,"label",8),u._uU(20,"Adresa Email:"),u.qZA(),u._UZ(21,"input",9),u.qZA(),u.TgZ(22,"div",5)(23,"label",10),u._uU(24,"Numar de telefon:"),u.qZA(),u._UZ(25,"input",11),u.qZA(),u.TgZ(26,"div",5)(27,"label",12),u._uU(28,"Pagina Web:"),u.qZA(),u._UZ(29,"input",13),u.qZA(),u.TgZ(30,"div",5)(31,"label",14),u._uU(32,"Pagina Facebook:"),u.qZA(),u._UZ(33,"input",15),u.qZA(),u.TgZ(34,"div",5)(35,"label",16),u._uU(36,"Instagram:(doar numele contului)"),u.qZA(),u._UZ(37,"input",17),u.qZA(),u.TgZ(38,"div",5)(39,"label",18),u._uU(40,"Descriere a serviciile oferite:"),u.qZA(),u._UZ(41,"textarea",19),u.qZA(),u.TgZ(42,"div",5)(43,"label",20),u._uU(44,"Categoria de serviciului:"),u.qZA(),u.TgZ(45,"select",21),u.YNc(46,Lg,2,2,"option",22),u.qZA()(),u.TgZ(47,"div",5)(48,"label",23),u._uU(49,"Imagine:"),u.qZA(),u.TgZ(50,"input",24),u.NdJ("change",function(ee){return b.onFileSelected(ee)}),u.qZA()(),u.TgZ(51,"button",25),u._uU(52,"Add Service"),u.qZA()()()),2&p&&(u.xp6(13),u.Q6J("formGroup",b.serviceForm),u.xp6(33),u.Q6J("ngForOf",b.serviceTypes),u.xp6(5),u.Q6J("disabled",b.serviceForm.invalid))},dependencies:[G.sg,fn._Y,fn.YN,fn.Kr,fn.Fj,fn.EJ,fn.JJ,fn.JL,fn.Q7,fn.sg,fn.u],styles:['.hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.section-header[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;background-color:#f0f0f0}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:10px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.form-container[_ngcontent-%COMP%]{max-width:600px;margin:50px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;color:#fff;background-color:#007bff;border:none;border-radius:4px;cursor:pointer}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}']})}return f})(),my=(()=>{class f{constructor(a,p){this.fb=a,this.eventsService=p,this.eventForm=this.fb.group({Approved:[""],Community_Sponsor:[""],Contact:[""],Description:["",fn.kI.required],Event_date:["",fn.kI.required],Location:["",fn.kI.required],Name:["",fn.kI.required],Phone_Number:[""],Poster_Image:["",fn.kI.required],Price:["",fn.kI.required],Website:[""]})}ngOnInit(){}onSubmit(){this.eventForm.valid&&this.eventsService.addEvent(this.eventForm.value).then(()=>{console.log("Event added successfully"),this.eventForm.reset()}).catch(p=>{console.error("Error adding event: ",p)})}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(fn.qu),u.Y36(na.n))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-add-event"]],decls:40,vars:2,consts:[[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","Name",1,"required"],["id","Name","formControlName","Name","required",""],["for","Contact"],["id","Contact","formControlName","Contact","required",""],["for","Poster_Image",1,"required"],["id","Poster_Image","formControlName","Poster_Image","required",""],["for","Phone_Number"],["id","Phone_Number","formControlName","Phone_Number"],["for","Event_date",1,"required"],["id","Event_date","type","date","formControlName","Event_date","required",""],["for","Location",1,"required"],["id","Location","formControlName","Location","required",""],["for","Description",1,"required"],["id","Description","formControlName","Description","required",""],["for","Price",1,"required"],["id","Price","formControlName","Price","required",""],["for","Website"],["id","Website","formControlName","Website"],["type","submit",3,"disabled"]],template:function(p,b){1&p&&(u.TgZ(0,"div",0)(1,"form",1),u.NdJ("ngSubmit",function(){return b.onSubmit()}),u.TgZ(2,"div",2)(3,"label",3),u._uU(4,"Titlu:"),u.qZA(),u._UZ(5,"input",4),u.qZA(),u.TgZ(6,"div",2)(7,"label",5),u._uU(8,"Persoana de contact:"),u.qZA(),u._UZ(9,"input",6),u.qZA(),u.TgZ(10,"div",2)(11,"label",7),u._uU(12,"Imagine poster:"),u.qZA(),u._UZ(13,"input",8),u.qZA(),u.TgZ(14,"div",2)(15,"label",9),u._uU(16,"Numar de Telefon:"),u.qZA(),u._UZ(17,"input",10),u.qZA(),u.TgZ(18,"div",2)(19,"label",11),u._uU(20,"Data Evenimentului:"),u.qZA(),u._UZ(21,"input",12),u.qZA(),u.TgZ(22,"div",2)(23,"label",13),u._uU(24,"Locatie:"),u.qZA(),u._UZ(25,"input",14),u.qZA(),u.TgZ(26,"div",2)(27,"label",15),u._uU(28,"Descriere:"),u.qZA(),u._UZ(29,"textarea",16),u.qZA(),u.TgZ(30,"div",2)(31,"label",17),u._uU(32,"Pret:"),u.qZA(),u._UZ(33,"input",18),u.qZA(),u.TgZ(34,"div",2)(35,"label",19),u._uU(36,"Website:"),u.qZA(),u._UZ(37,"input",20),u.qZA(),u.TgZ(38,"button",21),u._uU(39,"Adauga Eveniment"),u.qZA()()()),2&p&&(u.xp6(1),u.Q6J("formGroup",b.eventForm),u.xp6(37),u.Q6J("disabled",b.eventForm.invalid))},dependencies:[fn._Y,fn.Fj,fn.JJ,fn.JL,fn.Q7,fn.sg,fn.u],styles:['.form-container[_ngcontent-%COMP%]{max-width:600px;margin:100px auto 0;padding:50px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;color:#fff;border:none;border-radius:4px;cursor:pointer}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}']})}return f})();var ul=B(7104);function Dp(f,c){if(1&f&&(u.TgZ(0,"option",28),u._uU(1),u.qZA()),2&f){const a=c.$implicit;u.Q6J("value",a),u.xp6(1),u.Oqu(a)}}let r_=(()=>{class f{constructor(a,p,b,k,ee){this.fb=a,this.offersService=p,this.firestore=b,this.imageUploadService=k,this.router=ee,this.offerTypes=[],this.offer={Title:"",Company_Name:"",Contact_Name:"",Phone_Number:"",Email:"",Description:"",Location:"",Website:"",Filled:!1,Date_Created:(new Date).toISOString(),Date_Updated:"",Price:"",Image1:"",Image2:"",Image3:"",Image4:"",Image5:"",OfferType:"",Facebook:"",Instagram:"",id:"",Community_Sponsor:!1,Approved:!1,ApprovedDate:""},this.selectedFiles=null,this.offerForm=this.fb.group({Title:["",fn.kI.required],Company_Name:[""],Contact_Name:["",fn.kI.required],Phone_Number:["",fn.kI.required],Email:["",[fn.kI.email]],Location:["",fn.kI.required],Website:[""],Description:["",fn.kI.required],Price:[""],Image1:[""],Image2:[""],Image3:[""],Image4:[""],Image5:[""],Filled:!1,Date_Created:[""],ApprovedDate:[""],OfferType:[""],Community_Sponsor:!1})}onFileSelected(a){this.selectedFiles=a.target.files}ngOnInit(){this.offersService.getAllOfferTypes().subscribe(a=>{this.offerTypes=a})}onSubmit(a){var p=this;if(console.log(a),this.selectedFiles&&this.selectedFiles.length>0){const b=[];for(let k=0;k<this.selectedFiles.length;k++){const de=this.imageUploadService.uploadImage(this.selectedFiles[k],"offers");b.push(de)}(0,qs.D)(b).pipe((0,Cr.U)(k=>{this.offer.Image1=k[0]||"",this.offer.Image2=k[1]||"",this.offer.Image3=k[2]||"",this.offer.Image4=k[3]||"",this.offer.Image5=k[4]||""}),(0,Iu.w)((0,Nl.Z)(function*(){return p.saveOffer()}))).subscribe()}else this.saveOffer().subscribe()}saveOffer(){return(0,Lo.D)(this.firestore.collection("Offers").add(this.offer).then(a=>{console.log("Offer added with ID:",a.id),this.router.navigate(["/offers",a.id])}).catch(a=>{console.error("Error adding offer:",a)}))}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(fn.qu),u.Y36(Pl.b),u.Y36(ul.ST),u.Y36(Hd),u.Y36(Ci.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-add-offers"]],decls:50,vars:11,consts:[[1,"form-container"],[3,"ngSubmit"],["offerForm","ngForm"],[1,"form-group"],["for","Title",1,"required"],["type","text","name","Title","required","","placeholder","Title",3,"ngModel","ngModelChange"],["for","Company_Name"],["type","text","name","Company_Name","required","","placeholder","Company Name",3,"ngModel","ngModelChange"],["for","Contact_Name",1,"required"],["type","text","name","Contact_Name","required","","placeholder","Contact Name",3,"ngModel","ngModelChange"],["for","Phone_Number",1,"required"],["type","text","name","Phone_Number","required","","placeholder","Phone Number",3,"ngModel","ngModelChange"],["for","Email"],["type","email","name","Email","required","","placeholder","Email",3,"ngModel","ngModelChange"],["for","Description",1,"required"],["name","Description","required","","placeholder","Description",3,"ngModel","ngModelChange"],["for","Price"],["type","text","name","Price","required","","placeholder","Price",3,"ngModel","ngModelChange"],["for","Location",1,"required"],["type","text","name","Location","required","","placeholder","Location",3,"ngModel","ngModelChange"],["for","Website"],["type","url","name","Website","placeholder","Website",3,"ngModel","ngModelChange"],["for","OfferType"],["id","OfferType","name","OfferType","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","Images"],["type","file","id","Images","multiple","","accept","image/*",1,"form-control",3,"change"],["type","submit"],[3,"value"]],template:function(p,b){if(1&p){const k=u.EpF();u.TgZ(0,"div",0)(1,"form",1,2),u.NdJ("ngSubmit",function(){u.CHM(k);const de=u.MAs(2);return u.KtG(b.onSubmit(de))}),u.TgZ(3,"div",3)(4,"label",4),u._uU(5,"Titlu:"),u.qZA(),u.TgZ(6,"input",5),u.NdJ("ngModelChange",function(de){return b.offer.Title=de}),u.qZA()(),u.TgZ(7,"div",3)(8,"label",6),u._uU(9,"Numele Companiei:"),u.qZA(),u.TgZ(10,"input",7),u.NdJ("ngModelChange",function(de){return b.offer.Company_Name=de}),u.qZA()(),u.TgZ(11,"div",3)(12,"label",8),u._uU(13,"Numele persoanei de contact:"),u.qZA(),u.TgZ(14,"input",9),u.NdJ("ngModelChange",function(de){return b.offer.Contact_Name=de}),u.qZA()(),u.TgZ(15,"div",3)(16,"label",10),u._uU(17,"Numar de telefon:"),u.qZA(),u.TgZ(18,"input",11),u.NdJ("ngModelChange",function(de){return b.offer.Phone_Number=de}),u.qZA()(),u.TgZ(19,"div",3)(20,"label",12),u._uU(21,"Adresa de Email:"),u.qZA(),u.TgZ(22,"input",13),u.NdJ("ngModelChange",function(de){return b.offer.Email=de}),u.qZA()(),u.TgZ(23,"div",3)(24,"label",14),u._uU(25,"Descriere:"),u.qZA(),u.TgZ(26,"textarea",15),u.NdJ("ngModelChange",function(de){return b.offer.Description=de}),u.qZA()(),u.TgZ(27,"div",3)(28,"label",16),u._uU(29,"Pret:"),u.qZA(),u.TgZ(30,"input",17),u.NdJ("ngModelChange",function(de){return b.offer.Price=de}),u.qZA()(),u.TgZ(31,"div",3)(32,"label",18),u._uU(33,"Locatie:"),u.qZA(),u.TgZ(34,"input",19),u.NdJ("ngModelChange",function(de){return b.offer.Location=de}),u.qZA()(),u.TgZ(35,"div",3)(36,"label",20),u._uU(37,"Website:"),u.qZA(),u.TgZ(38,"input",21),u.NdJ("ngModelChange",function(de){return b.offer.Website=de}),u.qZA()(),u.TgZ(39,"div",3)(40,"label",22),u._uU(41,"Tip de oferta"),u.qZA(),u.TgZ(42,"select",23),u.NdJ("ngModelChange",function(de){return b.offer.OfferType=de}),u.YNc(43,Dp,2,2,"option",24),u.qZA()(),u.TgZ(44,"div",3)(45,"label",25),u._uU(46,"Images"),u.qZA(),u.TgZ(47,"input",26),u.NdJ("change",function(de){return b.onFileSelected(de)}),u.qZA()(),u.TgZ(48,"button",27),u._uU(49,"Adauga Oferta"),u.qZA()()()}2&p&&(u.xp6(6),u.Q6J("ngModel",b.offer.Title),u.xp6(4),u.Q6J("ngModel",b.offer.Company_Name),u.xp6(4),u.Q6J("ngModel",b.offer.Contact_Name),u.xp6(4),u.Q6J("ngModel",b.offer.Phone_Number),u.xp6(4),u.Q6J("ngModel",b.offer.Email),u.xp6(4),u.Q6J("ngModel",b.offer.Description),u.xp6(4),u.Q6J("ngModel",b.offer.Price),u.xp6(4),u.Q6J("ngModel",b.offer.Location),u.xp6(4),u.Q6J("ngModel",b.offer.Website),u.xp6(4),u.Q6J("ngModel",b.offer.OfferType),u.xp6(1),u.Q6J("ngForOf",b.offerTypes))},dependencies:[G.sg,fn._Y,fn.YN,fn.Kr,fn.Fj,fn.EJ,fn.JJ,fn.JL,fn.Q7,fn.On,fn.F],styles:['.form-container[_ngcontent-%COMP%]{max-width:600px;margin:100px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;color:#fff;border:none;border-radius:4px;cursor:pointer}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}']})}return f})();function _y(f,c){if(1&f&&(u.TgZ(0,"option",31),u._uU(1),u.qZA()),2&f){const a=c.$implicit;u.Q6J("value",a),u.xp6(1),u.Oqu(a)}}let xu=(()=>{class f{constructor(a,p,b,k,ee){this.fb=a,this.route=p,this.router=b,this.servicesService=k,this.imageUploadService=ee,this.serviceId=null,this.serviceTypes=[],this.selectedFile=null,this.serviceObj=new Eu,this.oldImage=null,this.serviceForm=this.fb.group({Name:["",fn.kI.required],Email:["",fn.kI.email],Phone_Number:["",fn.kI.required],Website:[""],Facebook:[""],Instagram:[""],Description:["",fn.kI.required],Service_Type:["",fn.kI.required],Image:[""],Date_Created:[""],Date_Updated:[""],Approved:[""]})}onFileSelected(a){this.selectedFile=a.target.files[0]}ngOnInit(){this.serviceId=this.route.snapshot.paramMap.get("id"),this.servicesService.getServiceById(this.serviceId).subscribe(a=>{this.serviceForm.patchValue({Id:this.serviceId,Name:a?.Name,Email:a?.Email?a.Email:"",Phone_Number:a?.Phone_Number?a.Phone_Number:"",Service_Type:a?.Service_Type,Website:a?.Website?a.Website:"",Facebook:a?.Facebook?a?.Facebook:"",Instagram:a?.Instagram?a?.Instagram:"",Description:a?.Description,Date_Created:a?.Date_Created,Date_Updated:a?.Date_Updated,Approved:!0}),a?.Image&&(this.oldImage=a?.Image)}),this.fetchServiceTypes()}fetchServiceTypes(){this.servicesService.getAllServiceTypes().subscribe(a=>{this.serviceTypes=a})}onSubmit(){this.serviceForm.valid&&(this.serviceObj.id=this.serviceId?this.serviceId:"0",this.serviceObj.Name=this.serviceForm.value.Name,this.serviceObj.Phone_Number=this.serviceForm.value.Phone_Number,this.serviceObj.Service_Type=this.serviceForm.value.Service_Type,this.serviceObj.Community_Sponsor=!1,this.serviceObj.Email=this.serviceForm.value.Email,this.serviceObj.Website=this.serviceForm.value.Website,this.serviceObj.Facebook=this.serviceForm.value.Facebook,this.serviceObj.Instagram=this.serviceForm.value.Instagram,this.serviceObj.Description=this.serviceForm.value.Description,this.serviceObj.Date_Created=this.serviceForm.value.Date_Created,this.serviceObj.Date_Updated=this.serviceForm.value.Date_Updated,this.serviceObj.Approved=this.serviceForm.value.Approved,this.serviceObj.Image=this.serviceForm.value.Image,this.selectedFile?(console.log(this.selectedFile),this.imageUploadService.uploadImage(this.selectedFile,"serviceImages").subscribe(a=>{this.serviceObj.Image=a,this.saveService()})):(this.oldImage&&(this.serviceObj.Image=this.oldImage),this.saveService()))}saveService(){const a={id:this.serviceObj.id,Name:this.serviceObj.Name,Phone_Number:this.serviceObj.Phone_Number,Service_Type:this.serviceObj.Service_Type,Community_Sponsor:!1,Email:this.serviceObj.Email,Website:this.serviceObj.Website,Facebook:this.serviceObj.Facebook,Instagram:this.serviceObj.Instagram,Description:this.serviceObj.Description,Date_Created:this.serviceObj.Date_Created,Date_Updated:(new Date).getDate.toString(),Image:this.serviceObj.Image,Approved:!1,OpenHour:"",CloseHour:""};console.log(a);let p=this.route.snapshot.paramMap.get("id");this.servicesService.updateService(p,a).subscribe(b=>{console.log("Service updated successfully  ID:",b?.id),this.serviceForm.reset(),this.router.navigate(["/services",b?.id])})}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(fn.qu),u.Y36(Ci.gz),u.Y36(Ci.F0),u.Y36(Va.r),u.Y36(Hd))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-edit-services"]],decls:55,vars:4,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","Name",1,"required"],["id","Name","placeholder","Ion Dumitrescu","formControlName","Name","required",""],["for","Email"],["id","Email","placeholder","info@website.com","type","Email","formControlName","Email"],["for","Phone_Number"],["id","Phone_Number","laceholder","(425) 444-5555","formControlName","Phone_Number"],["for","Website"],["id","Website","placeholder","https://www.website.com","formControlName","Website"],["for","Facebook"],["id","Facebook","placeholder","https://www.facebook.com/yourname","formControlName","Facebook"],["for","Instagram"],["id","Instagram","type","text","placeholder","instaHandle..","formControlName","Instagram"],["for","Description",1,"required"],["id","Description","formControlName","Description"],["for","Image"],[1,"service-card-image-container"],[1,"service-card-image",3,"src"],["type","file","formControlName","Image",3,"change"],["for","Service_Type",1,"required"],["id","Service_Type","formControlName","Service_Type","required",""],[3,"value",4,"ngFor","ngForOf"],["type","submit",3,"disabled"],[2,"display","none"],["for","Approved"],["id","Approved","formControlName","Approved"],[3,"value"]],template:function(p,b){1&p&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._uU(3,"Lista de Servicii"),u.qZA()(),u.TgZ(4,"div",2)(5,"h2"),u._uU(6,"Adaugati serviciile oferite pentru membrii comunit\u0103\u021bii"),u.qZA()()(),u.TgZ(7,"div",3)(8,"form",4),u.NdJ("ngSubmit",function(){return b.onSubmit()}),u.TgZ(9,"div",5)(10,"label",6),u._uU(11,"Nume:"),u.qZA(),u._UZ(12,"input",7),u.qZA(),u.TgZ(13,"div",5)(14,"label",8),u._uU(15,"Adresa Email:"),u.qZA(),u._UZ(16,"input",9),u.qZA(),u.TgZ(17,"div",5)(18,"label",10),u._uU(19,"Numar de telefon:"),u.qZA(),u._UZ(20,"input",11),u.qZA(),u.TgZ(21,"div",5)(22,"label",12),u._uU(23,"Pagina Web:"),u.qZA(),u._UZ(24,"input",13),u.qZA(),u.TgZ(25,"div",5)(26,"label",14),u._uU(27,"Pagina Facebook:"),u.qZA(),u._UZ(28,"input",15),u.qZA(),u.TgZ(29,"div",5)(30,"label",16),u._uU(31,"Instagram: (doar numele contului)"),u.qZA(),u._UZ(32,"input",17),u.qZA(),u.TgZ(33,"div",5)(34,"label",18),u._uU(35,"Descriere a serviciile oferite:"),u.qZA(),u._UZ(36,"textarea",19),u.qZA(),u.TgZ(37,"div",5)(38,"label",20),u._uU(39,"Imagine:"),u.qZA(),u.TgZ(40,"div",21),u._UZ(41,"img",22),u.qZA(),u.TgZ(42,"input",23),u.NdJ("change",function(ee){return b.onFileSelected(ee)}),u.qZA()(),u.TgZ(43,"div",5)(44,"label",24),u._uU(45,"Categoria de serviciului:"),u.qZA(),u.TgZ(46,"select",25),u.YNc(47,_y,2,2,"option",26),u.qZA()(),u.TgZ(48,"button",27),u._uU(49,"Salvati Serviciu"),u.qZA(),u.TgZ(50,"div",28)(51,"div")(52,"label",29),u._uU(53,"Approved:"),u.qZA(),u._UZ(54,"input",30),u.qZA()()()()),2&p&&(u.xp6(8),u.Q6J("formGroup",b.serviceForm),u.xp6(33),u.Q6J("src",b.oldImage,u.LSH),u.xp6(6),u.Q6J("ngForOf",b.serviceTypes),u.xp6(1),u.Q6J("disabled",b.serviceForm.invalid))},dependencies:[G.sg,fn._Y,fn.YN,fn.Kr,fn.Fj,fn.EJ,fn.JJ,fn.JL,fn.Q7,fn.sg,fn.u],styles:['.hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.form-container[_ngcontent-%COMP%]{max-width:600px;margin:50px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:10px 20px;font-size:16px;border-radius:5px;cursor:pointer;margin:10px 0;transition:background-color .3s ease}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}button[_ngcontent-%COMP%]:hover, select[_ngcontent-%COMP%]:hover{background-color:#0056b3}button[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #007bff40}.service-card-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.service-card-image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover;border:2px solid #ddd}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}']})}return f})();var Ug=B(2380);function yy(f,c){if(1&f&&(u.TgZ(0,"div",5),u._UZ(1,"img",6),u.qZA()),2&f){const a=c.$implicit;u.xp6(1),u.Q6J("src",a,u.LSH)}}let vy=(()=>{class f{constructor(a,p,b){this.route=a,this.router=p,this.offerService=b,this.images=[]}ngOnInit(){const a=this.route.snapshot.paramMap.get("id");a&&this.offerService.getOfferById(a).subscribe(p=>{this.offer=p,this.images=[p.Image1,p.Image2,p.Image3,p.Image4,p.Image5].filter(b=>!!b)})}goBack(){this.router.navigate(["/offers"])}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(Ci.gz),u.Y36(Ci.F0),u.Y36(Pl.b))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-offer-detail"]],decls:45,vars:15,consts:[[1,"offer-detail"],[1,"carousel"],["class","image-container",4,"ngFor","ngForOf"],["target","_blank",3,"href"],[3,"click"],[1,"image-container"],["alt","Offer Image",3,"src"]],template:function(p,b){1&p&&(u.TgZ(0,"div",0)(1,"h2"),u._uU(2),u.qZA(),u.TgZ(3,"div",1),u.YNc(4,yy,2,1,"div",2),u.qZA(),u.TgZ(5,"p")(6,"strong"),u._uU(7,"Company Name:"),u.qZA(),u._uU(8),u.qZA(),u.TgZ(9,"p")(10,"strong"),u._uU(11,"Contact Name:"),u.qZA(),u._uU(12),u.qZA(),u.TgZ(13,"p")(14,"strong"),u._uU(15,"Phone Number:"),u.qZA(),u._uU(16),u.qZA(),u.TgZ(17,"p")(18,"strong"),u._uU(19,"Email:"),u.qZA(),u._uU(20),u.qZA(),u.TgZ(21,"p")(22,"strong"),u._uU(23,"Description:"),u.qZA(),u._uU(24),u.qZA(),u.TgZ(25,"p")(26,"strong"),u._uU(27,"Location:"),u.qZA(),u._uU(28),u.qZA(),u.TgZ(29,"p")(30,"strong"),u._uU(31,"Website:"),u.qZA(),u.TgZ(32,"a",3),u._uU(33),u.qZA()(),u.TgZ(34,"p")(35,"strong"),u._uU(36,"Offer Type:"),u.qZA(),u._uU(37),u.qZA(),u.TgZ(38,"p")(39,"strong"),u._uU(40,"Date Created:"),u.qZA(),u._uU(41),u.ALo(42,"date"),u.qZA(),u.TgZ(43,"button",4),u.NdJ("click",function(){return b.goBack()}),u._uU(44,"Back to Offers"),u.qZA()()),2&p&&(u.xp6(2),u.Oqu(null==b.offer?null:b.offer.Title),u.xp6(2),u.Q6J("ngForOf",b.images),u.xp6(4),u.hij(" ",null==b.offer?null:b.offer.Company_Name,""),u.xp6(4),u.hij(" ",null==b.offer?null:b.offer.Contact_Name,""),u.xp6(4),u.hij(" ",null==b.offer?null:b.offer.Phone_Number,""),u.xp6(4),u.hij(" ",null==b.offer?null:b.offer.Email,""),u.xp6(4),u.hij(" ",null==b.offer?null:b.offer.Description,""),u.xp6(4),u.hij(" ",null==b.offer?null:b.offer.Location,""),u.xp6(4),u.Q6J("href",null==b.offer?null:b.offer.Website,u.LSH),u.xp6(1),u.Oqu(null==b.offer?null:b.offer.Website),u.xp6(4),u.hij(" ",null==b.offer?null:b.offer.OfferType,""),u.xp6(4),u.hij(" ",u.xi3(42,12,null==b.offer?null:b.offer.Date_Created,"shortDate"),""))},dependencies:[G.sg,G.uU],styles:[".offer-detail[_ngcontent-%COMP%]{max-width:600px;margin:100px auto auto;padding:16px;border:1px solid #ddd;border-radius:4px;box-shadow:0 2px 4px #0000001a}.carousel[_ngcontent-%COMP%]{display:flex;overflow:hidden;max-height:300px;margin-bottom:16px}.image-container[_ngcontent-%COMP%]{flex:0 0 400px;overflow:hidden;position:relative}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;max-height:300px;object-fit:cover}button[_ngcontent-%COMP%]{display:block;margin:16px auto;padding:8px 16px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return f})();var i_=B(4626);function Bg(f,c){if(1&f){const a=u.EpF();u.TgZ(0,"button",12),u.NdJ("click",function(){u.CHM(a);const b=u.oxw();return u.KtG(b.navigateToEditService(b.service.id))}),u._uU(1,"Edit"),u.qZA()}}let Sp=(()=>{class f{constructor(a,p,b,k){this.route=a,this.servicesService=p,this.router=b,this.authService=k,this.service=new Eu,this.serviceId=null,this.isLoggedIn$=this.authService.isLoggedIn()}ngOnInit(){this.serviceId=this.route.snapshot.paramMap.get("id"),this.servicesService.getServiceById(this.serviceId).subscribe(a=>{a&&(this.service.Community_Sponsor=a?.Community_Sponsor,this.service.Name=a.Name,this.service.Date_Created=a.Date_Created,this.service.Description=a.Description,this.service.Email=a.Email,this.service.Facebook=a.Facebook,this.service.Instagram=a.Instagram,this.service.Phone_Number=a.Phone_Number,this.service.Service_Type=a.Service_Type,this.service.Website=pc(a.Website),this.service.Image=a.Image,this.serviceId&&(this.service.id=this.serviceId),console.log("Image",a?.Image),(""==a.Image||void 0===a.Image)&&(this.service.Image="https://firebasestorage.googleapis.com/v0/b/romaniinseattle.appspot.com/o/serviceImages%2FdafaultImage.jpg?alt=media&token=3b0787df-12f0-444a-a426-013843534f1e"))})}goBack(){this.router.navigate(["/services"])}navigateToEditService(a){this.router.navigate(["/edit-service",a])}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(Ci.gz),u.Y36(Va.r),u.Y36(Ci.F0),u.Y36(i_.e))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-service-detail"]],decls:61,vars:22,consts:[[1,"service-details-container"],[1,"service-header"],[1,"forDebug"],[1,"service-content"],[1,"service-image"],[3,"src","alt"],[1,"service-details"],[1,"service-details-label"],["target","_blank",3,"href"],[1,"service-actions"],["class","editButton",3,"click",4,"ngIf"],[3,"click"],[1,"editButton",3,"click"]],template:function(p,b){1&p&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1")(3,"strong"),u._uU(4,"Name:"),u.qZA(),u._uU(5),u.qZA(),u.TgZ(6,"div",2)(7,"h3")(8,"strong"),u._uU(9,"Service Id:"),u.qZA(),u._uU(10),u.qZA()()(),u.TgZ(11,"div",3)(12,"div",4),u._UZ(13,"img",5),u.qZA(),u.TgZ(14,"div",6)(15,"div")(16,"label",7),u._uU(17,"Tip Serviciu:"),u.qZA(),u._uU(18),u.qZA(),u.TgZ(19,"div")(20,"label",7),u._uU(21,"Nr Telefon:"),u.qZA(),u._uU(22),u.qZA(),u.TgZ(23,"div")(24,"label",7),u._uU(25,"Email:"),u.qZA(),u._uU(26),u.qZA(),u.TgZ(27,"div")(28,"label",7),u._uU(29,"Website:"),u.qZA(),u.TgZ(30,"a",8),u._uU(31),u.qZA()(),u.TgZ(32,"div")(33,"label",7),u._uU(34,"Facebook:"),u.qZA(),u.TgZ(35,"a",8),u._uU(36),u.qZA()(),u.TgZ(37,"div")(38,"label",7),u._uU(39,"Instagram:"),u.qZA(),u.TgZ(40,"a",8),u._uU(41),u.qZA()(),u.TgZ(42,"div")(43,"label",7),u._uU(44,"Sponsor:"),u.qZA(),u._uU(45),u.qZA(),u.TgZ(46,"div")(47,"label",7),u._uU(48,"Date Created:"),u.qZA(),u._uU(49),u.ALo(50,"date"),u.qZA(),u.TgZ(51,"div")(52,"label",7),u._uU(53,"Description:"),u.qZA(),u._uU(54),u.qZA()()(),u.TgZ(55,"div",9),u.YNc(56,Bg,2,0,"button",10),u.ALo(57,"async"),u._uU(58," \xa0 "),u.TgZ(59,"button",11),u.NdJ("click",function(){return b.goBack()}),u._uU(60,"Inapoi la Servicii"),u.qZA()()()),2&p&&(u.xp6(5),u.Oqu(b.service.Name),u.xp6(5),u.Oqu(b.service.id),u.xp6(3),u.s9C("alt",b.service.Name),u.Q6J("src",b.service.Image,u.LSH),u.xp6(5),u.hij(" ",b.service.Service_Type,""),u.xp6(4),u.hij(" ",b.service.Phone_Number,""),u.xp6(4),u.hij(" ",b.service.Email,""),u.xp6(4),u.Q6J("href",b.service.Website,u.LSH),u.xp6(1),u.Oqu(b.service.Website),u.xp6(4),u.Q6J("href",b.service.Facebook,u.LSH),u.xp6(1),u.Oqu(b.service.Facebook),u.xp6(4),u.Q6J("href",b.service.Instagram,u.LSH),u.xp6(1),u.Oqu(b.service.Instagram),u.xp6(4),u.hij(" ",b.service.Community_Sponsor?"Yes":"No",""),u.xp6(4),u.hij(" ",u.xi3(50,17,b.service.Date_Created,"shortDate"),""),u.xp6(5),u.Oqu(b.service.Description),u.xp6(2),u.Q6J("ngIf",u.lcZ(57,20,b.isLoggedIn$)))},dependencies:[G.O5,G.Ov,G.uU],styles:[".forDebug[_ngcontent-%COMP%]{display:none}.editButton[_ngcontent-%COMP%]{visibility:hidden}.service-details-container[_ngcontent-%COMP%]{max-width:800px;margin:100px auto 0;padding:20px;background-color:#f8f9fa;border-radius:10px;box-shadow:0 0 10px #0000001a}.service-details-label[_ngcontent-%COMP%]{display:inline-block;font-size:1.1em;font-weight:700;padding:10px}.service-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;font-size:2.5em;margin-bottom:20px;color:#333}.service-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start}.service-image[_ngcontent-%COMP%]{flex:1;margin-right:20px}.service-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;border-radius:10px;box-shadow:0 0 10px #0000001a}.service-details[_ngcontent-%COMP%]{flex:2;font-size:1.2em;color:#555}.service-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2em;margin-bottom:10px;color:#444}.service-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px}.service-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.service-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.service-actions[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.service-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;font-size:1em;color:#fff;background-color:#007bff;border:none;border-radius:5px;cursor:pointer}.service-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return f})(),jg=(()=>{class f{constructor(a,p){this.authService=a,this.router=p,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).subscribe({next:()=>this.router.navigate(["/admin"]),error:a=>this.handleLoginError(a)})}handleLoginError(a){switch(a.code){case"auth/user-not-found":this.errorMessage="No user found with this email.";break;case"auth/wrong-password":this.errorMessage="Incorrect password.";break;case"auth/invalid-email":this.errorMessage="Invalid email format.";break;default:this.errorMessage="Login failed. Please try again."}console.log(this.errorMessage)}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(i_.e),u.Y36(Ci.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-login"]],decls:15,vars:2,consts:[[1,"login-container"],[1,"login-box"],[3,"submit"],[1,"input-group"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModel","ngModelChange"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModel","ngModelChange"],["type","submit"]],template:function(p,b){1&p&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h2"),u._uU(3,"Login"),u.qZA(),u.TgZ(4,"form",2),u.NdJ("submit",function(){return b.login()}),u.TgZ(5,"div",3)(6,"label",4),u._uU(7,"Email"),u.qZA(),u.TgZ(8,"input",5),u.NdJ("ngModelChange",function(ee){return b.email=ee}),u.qZA()(),u.TgZ(9,"div",3)(10,"label",6),u._uU(11,"Password"),u.qZA(),u.TgZ(12,"input",7),u.NdJ("ngModelChange",function(ee){return b.password=ee}),u.qZA()(),u.TgZ(13,"button",8),u._uU(14,"Login"),u.qZA()()()()),2&p&&(u.xp6(8),u.Q6J("ngModel",b.email),u.xp6(4),u.Q6J("ngModel",b.password))},dependencies:[fn._Y,fn.Fj,fn.JJ,fn.JL,fn.Q7,fn.On,fn.F],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:linear-gradient(to right,#007bff,#0056b3)}.login-box[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:8px;box-shadow:0 2px 4px #0000001a;width:300px;text-align:center}.login-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px;font-size:24px;color:#333}.input-group[_ngcontent-%COMP%]{margin-bottom:15px;text-align:left}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;color:#333}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;box-sizing:border-box}button[_ngcontent-%COMP%]{width:100%;padding:10px 20px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:16px;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return f})();const Ey=[{path:"",component:fc},{path:"rules",component:xl},{path:"analytics",component:Ug.d},{path:"events",component:Lh},{path:"add-event",component:my},{path:"offers",component:vu},{path:"add-offers",component:r_},{path:"offers/:id",component:vy},{path:"services",component:Rl},{path:"add-service",component:Vg},{path:"services/add",component:Vg},{path:"services/:id",component:Sp},{path:"edit-service/:id",component:xu},{path:"test",component:(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-test"]],decls:17,vars:0,consts:[[1,"hero"],[1,"container","hero-content"],[1,"hero-text"],["href","https://www.facebook.com/groups/seattlecommunity",1,"btn"],[1,"hero-image"],["src","https://via.placeholder.com/600x400","alt","Seattle"],[1,"community-description"],[1,"container"]],template:function(p,b){1&p&&(u.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1"),u._uU(4,"Welcome to Seattle Community"),u.qZA(),u.TgZ(5,"p"),u._uU(6,"Your go-to place for community services and events"),u.qZA(),u.TgZ(7,"a",3),u._uU(8,"Join our Facebook Group"),u.qZA()(),u.TgZ(9,"div",4),u._UZ(10,"img",5),u.qZA()()(),u.TgZ(11,"section",6)(12,"div",7)(13,"h2"),u._uU(14,"About Our Community"),u.qZA(),u.TgZ(15,"p"),u._uU(16,"Seattle Community is dedicated to bringing together local residents, businesses, and organizations to foster a sense of unity and support. We offer a variety of services, events, and opportunities to connect with others in the area. Join us and be a part of a vibrant and active community!"),u.qZA()()())},styles:[".hero[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#f5f5f5;padding:2rem 0}.hero-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.hero-text[_ngcontent-%COMP%]{flex:1}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1.5rem}.btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:.75rem 1.5rem;text-decoration:none;border-radius:5px;font-size:1rem}.hero-image[_ngcontent-%COMP%]{flex:1}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:5px}.community-description[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:2rem 0;text-align:center}.community-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.community-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin:0 auto;max-width:800px}"]})}return f})()},{path:"login",component:jg},{path:"",redirectTo:"/login",pathMatch:"full"},{path:"admin",loadChildren:()=>B.e(658).then(B.bind(B,7658)).then(f=>f.AdminModule)}];let Ou=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=u.oAB({type:f});static#n=this.\u0275inj=u.cJS({imports:[Ci.Bz.forRoot(Ey),Ci.Bz]})}return f})();var Iy=B(769);const by=function(f){return{"open-bar1":f}},Hg=function(f){return{"open-bar2":f}},s_=function(f){return{"open-bar3":f}},o_=function(f){return{active:f}};let a_=(()=>{class f{constructor(){this.menuOpen=!1}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-navigation"]],decls:25,vars:12,consts:[[1,"navbar"],[1,"navbar-container"],[1,"logo"],["routerLink","/"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item"],["routerLink","/",1,"nav-links",3,"click"],["routerLink","/services",1,"nav-links",3,"click"],["routerLink","/events",1,"nav-links",3,"click"],["routerLink","/offers",1,"nav-links",3,"click"],["routerLink","/rules",1,"nav-links",3,"click"]],template:function(p,b){1&p&&(u.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),u._uU(4,"Romani in Seattle"),u.qZA()(),u.TgZ(5,"div",4),u.NdJ("click",function(){return b.toggleMenu()}),u._UZ(6,"div",5)(7,"div",6)(8,"div",7),u.qZA(),u.TgZ(9,"ul",8)(10,"li",9)(11,"a",10),u.NdJ("click",function(){return b.closeMenu()}),u._uU(12,"Home"),u.qZA()(),u.TgZ(13,"li",9)(14,"a",11),u.NdJ("click",function(){return b.closeMenu()}),u._uU(15,"Servicii"),u.qZA()(),u.TgZ(16,"li",9)(17,"a",12),u.NdJ("click",function(){return b.closeMenu()}),u._uU(18,"Evenimente"),u.qZA()(),u.TgZ(19,"li",9)(20,"a",13),u.NdJ("click",function(){return b.closeMenu()}),u._uU(21,"Oferte"),u.qZA()(),u.TgZ(22,"li",9)(23,"a",14),u.NdJ("click",function(){return b.closeMenu()}),u._uU(24,"Regulament"),u.qZA()()()()()),2&p&&(u.xp6(6),u.Q6J("ngClass",u.VKq(4,by,b.menuOpen)),u.xp6(1),u.Q6J("ngClass",u.VKq(6,Hg,b.menuOpen)),u.xp6(1),u.Q6J("ngClass",u.VKq(8,s_,b.menuOpen)),u.xp6(1),u.Q6J("ngClass",u.VKq(10,o_,b.menuOpen)))},dependencies:[G.mk,Ci.rH],styles:[".navbar[_ngcontent-%COMP%]{background-color:var(--nav-background-color);position:fixed;width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:70px;max-width:1200px;margin:0 auto}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:34px;font-weight:700;color:var(--button-color);text-decoration:none}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);text-decoration:none;text-transform:uppercase;font-size:18px;font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:500;font-style:bold}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:#fff}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:#fff}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:flex-start}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;width:100%;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);text-decoration:none;text-transform:uppercase;font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:200;font-style:normal;color:var(--nav-active-text);font-size:24px}}"]})}return f})(),zg=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"footer"],[1,"footer-content"]],template:function(p,b){1&p&&(u.TgZ(0,"footer",0)(1,"div",1),u._uU(2," \xa9 2024 Romani in Seattle. All rights reserved. "),u.qZA()())},styles:[".footer[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%;height:50px;background-color:#333;color:#fff;display:flex;align-items:center;justify-content:center;text-align:center;box-shadow:0 -2px 5px #0000001a}.footer-content[_ngcontent-%COMP%]{font-size:.9rem}"]})}return f})(),c_=(()=>{class f{constructor(a){this.analyticsService=a,this.title="romani-in-seattle"}ngOnInit(){}trackButtonClick(){}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(Iy.y))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"main-layout"]],template:function(p,b){1&p&&(u.TgZ(0,"div",0),u._UZ(1,"app-navigation")(2,"router-outlet")(3,"app-footer"),u.qZA())},dependencies:[Ci.lC,a_,zg],styles:[".content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;min-width:calc(100vw - 70px);min-height:calc(100vh - 70px);padding:20px}"]})}return f})();class Mp{}class Ty{}const Ha="*";function Nu(f,c=null){return{type:2,steps:f,options:c}}function rf(f){return{type:6,styles:f,offset:null}}class ku{constructor(c=0,a=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=c+a}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(c=>c()),this._onDoneFns=[])}onStart(c){this._originalOnStartFns.push(c),this._onStartFns.push(c)}onDone(c){this._originalOnDoneFns.push(c),this._onDoneFns.push(c)}onDestroy(c){this._onDestroyFns.push(c)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(c=>c()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(c=>c()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(c){this._position=this.totalTime?c*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(c){const a="start"==c?this._onStartFns:this._onDoneFns;a.forEach(p=>p()),a.length=0}}class sf{constructor(c){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=c;let a=0,p=0,b=0;const k=this.players.length;0==k?queueMicrotask(()=>this._onFinish()):this.players.forEach(ee=>{ee.onDone(()=>{++a==k&&this._onFinish()}),ee.onDestroy(()=>{++p==k&&this._onDestroy()}),ee.onStart(()=>{++b==k&&this._onStart()})}),this.totalTime=this.players.reduce((ee,de)=>Math.max(ee,de.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(c=>c()),this._onDoneFns=[])}init(){this.players.forEach(c=>c.init())}onStart(c){this._onStartFns.push(c)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(c=>c()),this._onStartFns=[])}onDone(c){this._onDoneFns.push(c)}onDestroy(c){this._onDestroyFns.push(c)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(c=>c.play())}pause(){this.players.forEach(c=>c.pause())}restart(){this.players.forEach(c=>c.restart())}finish(){this._onFinish(),this.players.forEach(c=>c.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(c=>c.destroy()),this._onDestroyFns.forEach(c=>c()),this._onDestroyFns=[])}reset(){this.players.forEach(c=>c.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(c){const a=c*this.totalTime;this.players.forEach(p=>{const b=p.totalTime?Math.min(1,a/p.totalTime):1;p.setPosition(b)})}getPosition(){const c=this.players.reduce((a,p)=>null===a||p.totalTime>a.totalTime?p:a,null);return null!=c?c.getPosition():0}beforeDestroy(){this.players.forEach(c=>{c.beforeDestroy&&c.beforeDestroy()})}triggerCallback(c){const a="start"==c?this._onStartFns:this._onDoneFns;a.forEach(p=>p()),a.length=0}}function vi(f){return new u.vHH(3e3,!1)}function ya(f){switch(f.length){case 0:return new ku;case 1:return f[0];default:return new sf(f)}}function Kd(f,c,a=new Map,p=new Map){const b=[],k=[];let ee=-1,de=null;if(c.forEach(Pe=>{const Ze=Pe.get("offset"),St=Ze==ee,tn=St&&de||new Map;Pe.forEach((Vn,An)=>{let pn=An,xn=Vn;if("offset"!==An)switch(pn=f.normalizePropertyName(pn,b),xn){case"!":xn=a.get(An);break;case Ha:xn=p.get(An);break;default:xn=f.normalizeStyleValue(An,pn,xn,b)}tn.set(pn,xn)}),St||k.push(tn),de=tn,ee=Ze}),b.length)throw function Ry(f){return new u.vHH(3502,!1)}();return k}function Uu(f,c,a,p){switch(c){case"start":f.onStart(()=>p(a&&Wl(a,"start",f)));break;case"done":f.onDone(()=>p(a&&Wl(a,"done",f)));break;case"destroy":f.onDestroy(()=>p(a&&Wl(a,"destroy",f)))}}function Wl(f,c,a){const k=Yd(f.element,f.triggerName,f.fromState,f.toState,c||f.phaseName,a.totalTime??f.totalTime,!!a.disabled),ee=f._data;return null!=ee&&(k._data=ee),k}function Yd(f,c,a,p,b="",k=0,ee){return{element:f,triggerName:c,fromState:a,toState:p,phaseName:b,totalTime:k,disabled:!!ee}}function Vs(f,c,a){let p=f.get(c);return p||f.set(c,p=a),p}function Fp(f){const c=f.indexOf(":");return[f.substring(1,c),f.slice(c+1)]}const Qd=(()=>typeof document>"u"?null:document.documentElement)();function qg(f){const c=f.parentNode||f.host||null;return c===Qd?null:c}let va=null,Vp=!1;function Kg(f,c){for(;c;){if(c===f)return!0;c=qg(c)}return!1}function Bu(f,c,a){if(a)return Array.from(f.querySelectorAll(c));const p=f.querySelector(c);return p?[p]:[]}let m_=(()=>{class f{validateStyleProperty(a){return function lf(f){va||(va=function Zg(){return typeof document<"u"?document.body:null}()||{},Vp=!!va.style&&"WebkitAppearance"in va.style);let c=!0;return va.style&&!function Lp(f){return"ebkit"==f.substring(1,6)}(f)&&(c=f in va.style,!c&&Vp&&(c="Webkit"+f.charAt(0).toUpperCase()+f.slice(1)in va.style)),c}(a)}matchesElement(a,p){return!1}containsElement(a,p){return Kg(a,p)}getParentElement(a){return qg(a)}query(a,p,b){return Bu(a,p,b)}computeStyle(a,p,b){return b||""}animate(a,p,b,k,ee,de=[],Pe){return new ku(b,k)}static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac})}return f})(),ql=(()=>{class f{static#e=this.NOOP=new m_}return f})();const Yg=1e3,Qg="ng-enter",Xd="ng-leave",uf="ng-trigger",eh=".ng-trigger",__="ng-animating",th=".ng-animating";function Ea(f){if("number"==typeof f)return f;const c=f.match(/^(-?[\.\d]+)(m?s)/);return!c||c.length<2?0:Zl(parseFloat(c[1]),c[2])}function Zl(f,c){return"s"===c?f*Yg:f}function Kl(f,c,a){return f.hasOwnProperty("duration")?f:function Up(f,c,a){let b,k=0,ee="";if("string"==typeof f){const de=f.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===de)return c.push(vi()),{duration:0,delay:0,easing:""};b=Zl(parseFloat(de[1]),de[2]);const Pe=de[3];null!=Pe&&(k=Zl(parseFloat(Pe),de[4]));const Ze=de[5];Ze&&(ee=Ze)}else b=f;if(!a){let de=!1,Pe=c.length;b<0&&(c.push(function h_(){return new u.vHH(3100,!1)}()),de=!0),k<0&&(c.push(function Rp(){return new u.vHH(3101,!1)}()),de=!0),de&&c.splice(Pe,0,vi())}return{duration:b,delay:k,easing:ee}}(f,c,a)}function nh(f,c={}){return Object.keys(f).forEach(a=>{c[a]=f[a]}),c}function y_(f){const c=new Map;return Object.keys(f).forEach(a=>{c.set(a,f[a])}),c}function Dc(f,c=new Map,a){if(a)for(let[p,b]of a)c.set(p,b);for(let[p,b]of f)c.set(p,b);return c}function Ia(f,c,a){c.forEach((p,b)=>{const k=Xg(b);a&&!a.has(b)&&a.set(b,f.style[k]),f.style[k]=p})}function Sc(f,c){c.forEach((a,p)=>{const b=Xg(p);f.style[b]=""})}function rh(f){return Array.isArray(f)?1==f.length?f[0]:Nu(f):f}const Bp=new RegExp("{{\\s*(.+?)\\s*}}","g");function ky(f){let c=[];if("string"==typeof f){let a;for(;a=Bp.exec(f);)c.push(a[1]);Bp.lastIndex=0}return c}function jp(f,c,a){const p=f.toString(),b=p.replace(Bp,(k,ee)=>{let de=c[ee];return null==de&&(a.push(function xp(f){return new u.vHH(3003,!1)}()),de=""),de.toString()});return b==p?f:b}function df(f){const c=[];let a=f.next();for(;!a.done;)c.push(a.value),a=f.next();return c}const Wv=/-+([a-z0-9])/g;function Xg(f){return f.replace(Wv,(...c)=>c[1].toUpperCase())}function Is(f,c,a){switch(c.type){case 7:return f.visitTrigger(c,a);case 0:return f.visitState(c,a);case 1:return f.visitTransition(c,a);case 2:return f.visitSequence(c,a);case 3:return f.visitGroup(c,a);case 4:return f.visitAnimate(c,a);case 5:return f.visitKeyframes(c,a);case 6:return f.visitStyle(c,a);case 8:return f.visitReference(c,a);case 9:return f.visitAnimateChild(c,a);case 10:return f.visitAnimateRef(c,a);case 11:return f.visitQuery(c,a);case 12:return f.visitStagger(c,a);default:throw function Op(f){return new u.vHH(3004,!1)}()}}function em(f,c){return window.getComputedStyle(f)[c]}const Hp="*";function qv(f,c){const a=[];return"string"==typeof f?f.split(/\s*,\s*/).forEach(p=>function Ly(f,c,a){if(":"==f[0]){const Pe=function tm(f,c){switch(f){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(a,p)=>parseFloat(p)>parseFloat(a);case":decrement":return(a,p)=>parseFloat(p)<parseFloat(a);default:return c.push(function g_(f){return new u.vHH(3016,!1)}()),"* => *"}}(f,a);if("function"==typeof Pe)return void c.push(Pe);f=Pe}const p=f.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==p||p.length<4)return a.push(function dl(f){return new u.vHH(3015,!1)}()),c;const b=p[1],k=p[2],ee=p[3];c.push(b_(b,ee));"<"==k[0]&&!(b==Hp&&ee==Hp)&&c.push(b_(ee,b))}(p,a,c)):a.push(f),a}const ra=new Set(["true","1"]),hf=new Set(["false","0"]);function b_(f,c){const a=ra.has(f)||hf.has(f),p=ra.has(c)||hf.has(c);return(b,k)=>{let ee=f==Hp||f==b,de=c==Hp||c==k;return!ee&&a&&"boolean"==typeof b&&(ee=b?ra.has(f):hf.has(f)),!de&&p&&"boolean"==typeof k&&(de=k?ra.has(c):hf.has(c)),ee&&de}}const zi=new RegExp("s*:selfs*,?","g");function ff(f,c,a,p){return new Uy(f).build(c,a,p)}class Uy{constructor(c){this._driver=c}build(c,a,p){const b=new T_(a);return this._resetContextStyleTimingState(b),Is(this,rh(c),b)}_resetContextStyleTimingState(c){c.currentQuerySelector="",c.collectedStyles=new Map,c.collectedStyles.set("",new Map),c.currentTime=0}visitTrigger(c,a){let p=a.queryCount=0,b=a.depCount=0;const k=[],ee=[];return"@"==c.name.charAt(0)&&a.errors.push(function Fu(){return new u.vHH(3006,!1)}()),c.definitions.forEach(de=>{if(this._resetContextStyleTimingState(a),0==de.type){const Pe=de,Ze=Pe.name;Ze.toString().split(/\s*,\s*/).forEach(St=>{Pe.name=St,k.push(this.visitState(Pe,a))}),Pe.name=Ze}else if(1==de.type){const Pe=this.visitTransition(de,a);p+=Pe.queryCount,b+=Pe.depCount,ee.push(Pe)}else a.errors.push(function Wg(){return new u.vHH(3007,!1)}())}),{type:7,name:c.name,states:k,transitions:ee,queryCount:p,depCount:b,options:null}}visitState(c,a){const p=this.visitStyle(c.styles,a),b=c.options&&c.options.params||null;if(p.containsDynamicStyles){const k=new Set,ee=b||{};p.styles.forEach(de=>{de instanceof Map&&de.forEach(Pe=>{ky(Pe).forEach(Ze=>{ee.hasOwnProperty(Ze)||k.add(Ze)})})}),k.size&&(df(k.values()),a.errors.push(function wy(f,c){return new u.vHH(3008,!1)}()))}return{type:0,name:c.name,style:p,options:b?{params:b}:null}}visitTransition(c,a){a.queryCount=0,a.depCount=0;const p=Is(this,rh(c.animation),a);return{type:1,matchers:qv(c.expr,a.errors),animation:p,queryCount:a.queryCount,depCount:a.depCount,options:Hu(c.options)}}visitSequence(c,a){return{type:2,steps:c.steps.map(p=>Is(this,p,a)),options:Hu(c.options)}}visitGroup(c,a){const p=a.currentTime;let b=0;const k=c.steps.map(ee=>{a.currentTime=p;const de=Is(this,ee,a);return b=Math.max(b,a.currentTime),de});return a.currentTime=b,{type:3,steps:k,options:Hu(c.options)}}visitAnimate(c,a){const p=function Zv(f,c){if(f.hasOwnProperty("duration"))return f;if("number"==typeof f)return im(Kl(f,c).duration,0,"");const a=f;if(a.split(/\s+/).some(k=>"{"==k.charAt(0)&&"{"==k.charAt(1))){const k=im(0,0,"");return k.dynamic=!0,k.strValue=a,k}const b=Kl(a,c);return im(b.duration,b.delay,b.easing)}(c.timings,a.errors);a.currentAnimateTimings=p;let b,k=c.styles?c.styles:rf({});if(5==k.type)b=this.visitKeyframes(k,a);else{let ee=c.styles,de=!1;if(!ee){de=!0;const Ze={};p.easing&&(Ze.easing=p.easing),ee=rf(Ze)}a.currentTime+=p.duration+p.delay;const Pe=this.visitStyle(ee,a);Pe.isEmptyStep=de,b=Pe}return a.currentAnimateTimings=null,{type:4,timings:p,style:b,options:null}}visitStyle(c,a){const p=this._makeStyleAst(c,a);return this._validateStyleAst(p,a),p}_makeStyleAst(c,a){const p=[],b=Array.isArray(c.styles)?c.styles:[c.styles];for(let de of b)"string"==typeof de?de===Ha?p.push(de):a.errors.push(new u.vHH(3002,!1)):p.push(y_(de));let k=!1,ee=null;return p.forEach(de=>{if(de instanceof Map&&(de.has("easing")&&(ee=de.get("easing"),de.delete("easing")),!k))for(let Pe of de.values())if(Pe.toString().indexOf("{{")>=0){k=!0;break}}),{type:6,styles:p,easing:ee,offset:c.offset,containsDynamicStyles:k,options:null}}_validateStyleAst(c,a){const p=a.currentAnimateTimings;let b=a.currentTime,k=a.currentTime;p&&k>0&&(k-=p.duration+p.delay),c.styles.forEach(ee=>{"string"!=typeof ee&&ee.forEach((de,Pe)=>{const Ze=a.collectedStyles.get(a.currentQuerySelector),St=Ze.get(Pe);let tn=!0;St&&(k!=b&&k>=St.startTime&&b<=St.endTime&&(a.errors.push(function af(f,c,a,p,b){return new u.vHH(3010,!1)}()),tn=!1),k=St.startTime),tn&&Ze.set(Pe,{startTime:k,endTime:b}),a.options&&function ih(f,c,a){const p=c.params||{},b=ky(f);b.length&&b.forEach(k=>{p.hasOwnProperty(k)||a.push(function Vi(f){return new u.vHH(3001,!1)}())})}(de,a.options,a.errors)})})}visitKeyframes(c,a){const p={type:5,styles:[],options:null};if(!a.currentAnimateTimings)return a.errors.push(function Sy(){return new u.vHH(3011,!1)}()),p;let k=0;const ee=[];let de=!1,Pe=!1,Ze=0;const St=c.steps.map(Jr=>{const ai=this._makeStyleAst(Jr,a);let ci=null!=ai.offset?ai.offset:function C_(f){if("string"==typeof f)return null;let c=null;if(Array.isArray(f))f.forEach(a=>{if(a instanceof Map&&a.has("offset")){const p=a;c=parseFloat(p.get("offset")),p.delete("offset")}});else if(f instanceof Map&&f.has("offset")){const a=f;c=parseFloat(a.get("offset")),a.delete("offset")}return c}(ai.styles),Zr=0;return null!=ci&&(k++,Zr=ai.offset=ci),Pe=Pe||Zr<0||Zr>1,de=de||Zr<Ze,Ze=Zr,ee.push(Zr),ai});Pe&&a.errors.push(function My(){return new u.vHH(3012,!1)}()),de&&a.errors.push(function f_(){return new u.vHH(3200,!1)}());const tn=c.steps.length;let Vn=0;k>0&&k<tn?a.errors.push(function Lu(){return new u.vHH(3202,!1)}()):0==k&&(Vn=1/(tn-1));const An=tn-1,pn=a.currentTime,xn=a.currentAnimateTimings,dr=xn.duration;return St.forEach((Jr,ai)=>{const ci=Vn>0?ai==An?1:Vn*ai:ee[ai],Zr=ci*dr;a.currentTime=pn+xn.delay+Zr,xn.duration=Zr,this._validateStyleAst(Jr,a),Jr.offset=ci,p.styles.push(Jr)}),p}visitReference(c,a){return{type:8,animation:Is(this,rh(c.animation),a),options:Hu(c.options)}}visitAnimateChild(c,a){return a.depCount++,{type:9,options:Hu(c.options)}}visitAnimateRef(c,a){return{type:10,animation:this.visitReference(c.animation,a),options:Hu(c.options)}}visitQuery(c,a){const p=a.currentQuerySelector,b=c.options||{};a.queryCount++,a.currentQuery=c;const[k,ee]=function By(f){const c=!!f.split(/\s*,\s*/).find(a=>":self"==a);return c&&(f=f.replace(zi,"")),f=f.replace(/@\*/g,eh).replace(/@\w+/g,a=>eh+"-"+a.slice(1)).replace(/:animating/g,th),[f,c]}(c.selector);a.currentQuerySelector=p.length?p+" "+k:k,Vs(a.collectedStyles,a.currentQuerySelector,new Map);const de=Is(this,rh(c.animation),a);return a.currentQuery=null,a.currentQuerySelector=p,{type:11,selector:k,limit:b.limit||0,optional:!!b.optional,includeSelf:ee,animation:de,originalSelector:c.selector,options:Hu(c.options)}}visitStagger(c,a){a.currentQuery||a.errors.push(function p_(){return new u.vHH(3013,!1)}());const p="full"===c.timings?{duration:0,delay:0,easing:"full"}:Kl(c.timings,a.errors,!0);return{type:12,animation:Is(this,rh(c.animation),a),timings:p,options:null}}}class T_{constructor(c){this.errors=c,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Hu(f){return f?(f=nh(f)).params&&(f.params=function rm(f){return f?nh(f):null}(f.params)):f={},f}function im(f,c,a){return{duration:f,delay:c,easing:a}}function w_(f,c,a,p,b,k,ee=null,de=!1){return{type:1,element:f,keyframes:c,preStyleProps:a,postStyleProps:p,duration:b,delay:k,totalTime:b+k,easing:ee,subTimeline:de}}class zp{constructor(){this._map=new Map}get(c){return this._map.get(c)||[]}append(c,a){let p=this._map.get(c);p||this._map.set(c,p=[]),p.push(...a)}has(c){return this._map.has(c)}clear(){this._map.clear()}}const pf=new RegExp(":enter","g"),zu=new RegExp(":leave","g");function Pc(f,c,a,p,b,k=new Map,ee=new Map,de,Pe,Ze=[]){return(new $y).buildKeyframes(f,c,a,p,b,k,ee,de,Pe,Ze)}class $y{buildKeyframes(c,a,p,b,k,ee,de,Pe,Ze,St=[]){Ze=Ze||new zp;const tn=new Gp(c,a,Ze,b,k,St,[]);tn.options=Pe;const Vn=Pe.delay?Ea(Pe.delay):0;tn.currentTimeline.delayNextStep(Vn),tn.currentTimeline.setStyles([ee],null,tn.errors,Pe),Is(this,p,tn);const An=tn.timelines.filter(pn=>pn.containsAnimation());if(An.length&&de.size){let pn;for(let xn=An.length-1;xn>=0;xn--){const dr=An[xn];if(dr.element===a){pn=dr;break}}pn&&!pn.allowOnlyTimelineStyles()&&pn.setStyles([de],null,tn.errors,Pe)}return An.length?An.map(pn=>pn.buildKeyframes()):[w_(a,[],[],[],0,Vn,"",!1)]}visitTrigger(c,a){}visitState(c,a){}visitTransition(c,a){}visitAnimateChild(c,a){const p=a.subInstructions.get(a.element);if(p){const b=a.createSubContext(c.options),k=a.currentTimeline.currentTime,ee=this._visitSubInstructions(p,b,b.options);k!=ee&&a.transformIntoNewTimeline(ee)}a.previousNode=c}visitAnimateRef(c,a){const p=a.createSubContext(c.options);p.transformIntoNewTimeline(),this._applyAnimationRefDelays([c.options,c.animation.options],a,p),this.visitReference(c.animation,p),a.transformIntoNewTimeline(p.currentTimeline.currentTime),a.previousNode=c}_applyAnimationRefDelays(c,a,p){for(const b of c){const k=b?.delay;if(k){const ee="number"==typeof k?k:Ea(jp(k,b?.params??{},a.errors));p.delayNextStep(ee)}}}_visitSubInstructions(c,a,p){let k=a.currentTimeline.currentTime;const ee=null!=p.duration?Ea(p.duration):null,de=null!=p.delay?Ea(p.delay):null;return 0!==ee&&c.forEach(Pe=>{const Ze=a.appendInstructionToTimeline(Pe,ee,de);k=Math.max(k,Ze.duration+Ze.delay)}),k}visitReference(c,a){a.updateOptions(c.options,!0),Is(this,c.animation,a),a.previousNode=c}visitSequence(c,a){const p=a.subContextCount;let b=a;const k=c.options;if(k&&(k.params||k.delay)&&(b=a.createSubContext(k),b.transformIntoNewTimeline(),null!=k.delay)){6==b.previousNode.type&&(b.currentTimeline.snapshotCurrentStyles(),b.previousNode=gf);const ee=Ea(k.delay);b.delayNextStep(ee)}c.steps.length&&(c.steps.forEach(ee=>Is(this,ee,b)),b.currentTimeline.applyStylesToKeyframe(),b.subContextCount>p&&b.transformIntoNewTimeline()),a.previousNode=c}visitGroup(c,a){const p=[];let b=a.currentTimeline.currentTime;const k=c.options&&c.options.delay?Ea(c.options.delay):0;c.steps.forEach(ee=>{const de=a.createSubContext(c.options);k&&de.delayNextStep(k),Is(this,ee,de),b=Math.max(b,de.currentTimeline.currentTime),p.push(de.currentTimeline)}),p.forEach(ee=>a.currentTimeline.mergeTimelineCollectedStyles(ee)),a.transformIntoNewTimeline(b),a.previousNode=c}_visitTiming(c,a){if(c.dynamic){const p=c.strValue;return Kl(a.params?jp(p,a.params,a.errors):p,a.errors)}return{duration:c.duration,delay:c.delay,easing:c.easing}}visitAnimate(c,a){const p=a.currentAnimateTimings=this._visitTiming(c.timings,a),b=a.currentTimeline;p.delay&&(a.incrementTime(p.delay),b.snapshotCurrentStyles());const k=c.style;5==k.type?this.visitKeyframes(k,a):(a.incrementTime(p.duration),this.visitStyle(k,a),b.applyStylesToKeyframe()),a.currentAnimateTimings=null,a.previousNode=c}visitStyle(c,a){const p=a.currentTimeline,b=a.currentAnimateTimings;!b&&p.hasCurrentStyleProperties()&&p.forwardFrame();const k=b&&b.easing||c.easing;c.isEmptyStep?p.applyEmptyStep(k):p.setStyles(c.styles,k,a.errors,a.options),a.previousNode=c}visitKeyframes(c,a){const p=a.currentAnimateTimings,b=a.currentTimeline.duration,k=p.duration,de=a.createSubContext().currentTimeline;de.easing=p.easing,c.styles.forEach(Pe=>{de.forwardTime((Pe.offset||0)*k),de.setStyles(Pe.styles,Pe.easing,a.errors,a.options),de.applyStylesToKeyframe()}),a.currentTimeline.mergeTimelineCollectedStyles(de),a.transformIntoNewTimeline(b+k),a.previousNode=c}visitQuery(c,a){const p=a.currentTimeline.currentTime,b=c.options||{},k=b.delay?Ea(b.delay):0;k&&(6===a.previousNode.type||0==p&&a.currentTimeline.hasCurrentStyleProperties())&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=gf);let ee=p;const de=a.invokeQuery(c.selector,c.originalSelector,c.limit,c.includeSelf,!!b.optional,a.errors);a.currentQueryTotal=de.length;let Pe=null;de.forEach((Ze,St)=>{a.currentQueryIndex=St;const tn=a.createSubContext(c.options,Ze);k&&tn.delayNextStep(k),Ze===a.element&&(Pe=tn.currentTimeline),Is(this,c.animation,tn),tn.currentTimeline.applyStylesToKeyframe(),ee=Math.max(ee,tn.currentTimeline.currentTime)}),a.currentQueryIndex=0,a.currentQueryTotal=0,a.transformIntoNewTimeline(ee),Pe&&(a.currentTimeline.mergeTimelineCollectedStyles(Pe),a.currentTimeline.snapshotCurrentStyles()),a.previousNode=c}visitStagger(c,a){const p=a.parentContext,b=a.currentTimeline,k=c.timings,ee=Math.abs(k.duration),de=ee*(a.currentQueryTotal-1);let Pe=ee*a.currentQueryIndex;switch(k.duration<0?"reverse":k.easing){case"reverse":Pe=de-Pe;break;case"full":Pe=p.currentStaggerTime}const St=a.currentTimeline;Pe&&St.delayNextStep(Pe);const tn=St.currentTime;Is(this,c.animation,a),a.previousNode=c,p.currentStaggerTime=b.currentTime-tn+(b.startTime-p.currentTimeline.startTime)}}const gf={};class Gp{constructor(c,a,p,b,k,ee,de,Pe){this._driver=c,this.element=a,this.subInstructions=p,this._enterClassName=b,this._leaveClassName=k,this.errors=ee,this.timelines=de,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=gf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Pe||new ah(this._driver,a,0),de.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(c,a){if(!c)return;const p=c;let b=this.options;null!=p.duration&&(b.duration=Ea(p.duration)),null!=p.delay&&(b.delay=Ea(p.delay));const k=p.params;if(k){let ee=b.params;ee||(ee=this.options.params={}),Object.keys(k).forEach(de=>{(!a||!ee.hasOwnProperty(de))&&(ee[de]=jp(k[de],ee,this.errors))})}}_copyOptions(){const c={};if(this.options){const a=this.options.params;if(a){const p=c.params={};Object.keys(a).forEach(b=>{p[b]=a[b]})}}return c}createSubContext(c=null,a,p){const b=a||this.element,k=new Gp(this._driver,b,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(b,p||0));return k.previousNode=this.previousNode,k.currentAnimateTimings=this.currentAnimateTimings,k.options=this._copyOptions(),k.updateOptions(c),k.currentQueryIndex=this.currentQueryIndex,k.currentQueryTotal=this.currentQueryTotal,k.parentContext=this,this.subContextCount++,k}transformIntoNewTimeline(c){return this.previousNode=gf,this.currentTimeline=this.currentTimeline.fork(this.element,c),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(c,a,p){const b={duration:a??c.duration,delay:this.currentTimeline.currentTime+(p??0)+c.delay,easing:""},k=new mf(this._driver,c.element,c.keyframes,c.preStyleProps,c.postStyleProps,b,c.stretchStartingKeyframe);return this.timelines.push(k),b}incrementTime(c){this.currentTimeline.forwardTime(this.currentTimeline.duration+c)}delayNextStep(c){c>0&&this.currentTimeline.delayNextStep(c)}invokeQuery(c,a,p,b,k,ee){let de=[];if(b&&de.push(this.element),c.length>0){c=(c=c.replace(pf,"."+this._enterClassName)).replace(zu,"."+this._leaveClassName);let Ze=this._driver.query(this.element,c,1!=p);0!==p&&(Ze=p<0?Ze.slice(Ze.length+p,Ze.length):Ze.slice(0,p)),de.push(...Ze)}return!k&&0==de.length&&ee.push(function zl(f){return new u.vHH(3014,!1)}()),de}}class ah{constructor(c,a,p,b){this._driver=c,this.element=a,this.startTime=p,this._elementTimelineStylesLookup=b,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(a),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(a,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(c){const a=1===this._keyframes.size&&this._pendingStyles.size;this.duration||a?(this.forwardTime(this.currentTime+c),a&&this.snapshotCurrentStyles()):this.startTime+=c}fork(c,a){return this.applyStylesToKeyframe(),new ah(this._driver,c,a||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(c){this.applyStylesToKeyframe(),this.duration=c,this._loadKeyframe()}_updateStyle(c,a){this._localTimelineStyles.set(c,a),this._globalTimelineStyles.set(c,a),this._styleSummary.set(c,{time:this.currentTime,value:a})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(c){c&&this._previousKeyframe.set("easing",c);for(let[a,p]of this._globalTimelineStyles)this._backFill.set(a,p||Ha),this._currentKeyframe.set(a,Ha);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(c,a,p,b){a&&this._previousKeyframe.set("easing",a);const k=b&&b.params||{},ee=function D_(f,c){const a=new Map;let p;return f.forEach(b=>{if("*"===b){p=p||c.keys();for(let k of p)a.set(k,Ha)}else Dc(b,a)}),a}(c,this._globalTimelineStyles);for(let[de,Pe]of ee){const Ze=jp(Pe,k,p);this._pendingStyles.set(de,Ze),this._localTimelineStyles.has(de)||this._backFill.set(de,this._globalTimelineStyles.get(de)??Ha),this._updateStyle(de,Ze)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((c,a)=>{this._currentKeyframe.set(a,c)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((c,a)=>{this._currentKeyframe.has(a)||this._currentKeyframe.set(a,c)}))}snapshotCurrentStyles(){for(let[c,a]of this._localTimelineStyles)this._pendingStyles.set(c,a),this._updateStyle(c,a)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const c=[];for(let a in this._currentKeyframe)c.push(a);return c}mergeTimelineCollectedStyles(c){c._styleSummary.forEach((a,p)=>{const b=this._styleSummary.get(p);(!b||a.time>b.time)&&this._updateStyle(p,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const c=new Set,a=new Set,p=1===this._keyframes.size&&0===this.duration;let b=[];this._keyframes.forEach((de,Pe)=>{const Ze=Dc(de,new Map,this._backFill);Ze.forEach((St,tn)=>{"!"===St?c.add(tn):St===Ha&&a.add(tn)}),p||Ze.set("offset",Pe/this.duration),b.push(Ze)});const k=c.size?df(c.values()):[],ee=a.size?df(a.values()):[];if(p){const de=b[0],Pe=new Map(de);de.set("offset",0),Pe.set("offset",1),b=[de,Pe]}return w_(this.element,b,k,ee,this.duration,this.startTime,this.easing,!1)}}class mf extends ah{constructor(c,a,p,b,k,ee,de=!1){super(c,a,ee.delay),this.keyframes=p,this.preStyleProps=b,this.postStyleProps=k,this._stretchStartingKeyframe=de,this.timings={duration:ee.duration,delay:ee.delay,easing:ee.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let c=this.keyframes,{delay:a,duration:p,easing:b}=this.timings;if(this._stretchStartingKeyframe&&a){const k=[],ee=p+a,de=a/ee,Pe=Dc(c[0]);Pe.set("offset",0),k.push(Pe);const Ze=Dc(c[0]);Ze.set("offset",_f(de)),k.push(Ze);const St=c.length-1;for(let tn=1;tn<=St;tn++){let Vn=Dc(c[tn]);const An=Vn.get("offset");Vn.set("offset",_f((a+An*p)/ee)),k.push(Vn)}p=ee,a=0,b="",c=k}return w_(this.element,c,this.preStyleProps,this.postStyleProps,p,a,b,!0)}}function _f(f,c=3){const a=Math.pow(10,c-1);return Math.round(f*a)/a}class S_{}const zy=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Yv extends S_{normalizePropertyName(c,a){return Xg(c)}normalizeStyleValue(c,a,p,b){let k="";const ee=p.toString().trim();if(zy.has(a)&&0!==p&&"0"!==p)if("number"==typeof p)k="px";else{const de=p.match(/^[+-]?[\d\.]+([a-z]*)$/);de&&0==de[1].length&&b.push(function Cc(f,c){return new u.vHH(3005,!1)}())}return ee+k}}function M_(f,c,a,p,b,k,ee,de,Pe,Ze,St,tn,Vn){return{type:0,element:f,triggerName:c,isRemovalTransition:b,fromState:a,fromStyles:k,toState:p,toStyles:ee,timelines:de,queriedElements:Pe,preStyleProps:Ze,postStyleProps:St,totalTime:tn,errors:Vn}}const Gy={};class Wy{constructor(c,a,p){this._triggerName=c,this.ast=a,this._stateStyles=p}match(c,a,p,b){return function qy(f,c,a,p,b){return f.some(k=>k(c,a,p,b))}(this.ast.matchers,c,a,p,b)}buildStyles(c,a,p){let b=this._stateStyles.get("*");return void 0!==c&&(b=this._stateStyles.get(c?.toString())||b),b?b.buildStyles(a,p):new Map}build(c,a,p,b,k,ee,de,Pe,Ze,St){const tn=[],Vn=this.ast.options&&this.ast.options.params||Gy,pn=this.buildStyles(p,de&&de.params||Gy,tn),xn=Pe&&Pe.params||Gy,dr=this.buildStyles(b,xn,tn),Jr=new Set,ai=new Map,ci=new Map,Zr="void"===b,Ta={params:Zy(xn,Vn),delay:this.ast.options?.delay},mo=St?[]:Pc(c,a,this.ast.animation,k,ee,pn,dr,Ta,Ze,tn);let Bs=0;if(mo.forEach(Ca=>{Bs=Math.max(Ca.duration+Ca.delay,Bs)}),tn.length)return M_(a,this._triggerName,p,b,Zr,pn,dr,[],[],ai,ci,Bs,tn);mo.forEach(Ca=>{const ed=Ca.element,pE=Vs(ai,ed,new Set);Ca.preStyleProps.forEach(jf=>pE.add(jf));const Sm=Vs(ci,ed,new Set);Ca.postStyleProps.forEach(jf=>Sm.add(jf)),ed!==a&&Jr.add(ed)});const jo=df(Jr.values());return M_(a,this._triggerName,p,b,Zr,pn,dr,mo,jo,ai,ci,Bs)}}function Zy(f,c){const a=nh(c);for(const p in f)f.hasOwnProperty(p)&&null!=f[p]&&(a[p]=f[p]);return a}class Ky{constructor(c,a,p){this.styles=c,this.defaultParams=a,this.normalizer=p}buildStyles(c,a){const p=new Map,b=nh(this.defaultParams);return Object.keys(c).forEach(k=>{const ee=c[k];null!==ee&&(b[k]=ee)}),this.styles.styles.forEach(k=>{"string"!=typeof k&&k.forEach((ee,de)=>{ee&&(ee=jp(ee,b,a));const Pe=this.normalizer.normalizePropertyName(de,a);ee=this.normalizer.normalizeStyleValue(de,Pe,ee,a),p.set(de,ee)})}),p}}class ch{constructor(c,a,p){this.name=c,this.ast=a,this._normalizer=p,this.transitionFactories=[],this.states=new Map,a.states.forEach(b=>{this.states.set(b.name,new Ky(b.style,b.options&&b.options.params||{},p))}),l(this.states,"true","1"),l(this.states,"false","0"),a.transitions.forEach(b=>{this.transitionFactories.push(new Wy(c,b,this.states))}),this.fallbackTransition=function yf(f,c,a){return new Wy(f,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ee,de)=>!0],options:null,queryCount:0,depCount:0},c)}(c,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(c,a,p,b){return this.transitionFactories.find(ee=>ee.match(c,a,p,b))||null}matchStyles(c,a,p){return this.fallbackTransition.buildStyles(c,a,p)}}function l(f,c,a){f.has(c)?f.has(a)||f.set(a,f.get(c)):f.has(a)&&f.set(c,f.get(a))}const e=new zp;class r{constructor(c,a,p){this.bodyNode=c,this._driver=a,this._normalizer=p,this._animations=new Map,this._playersById=new Map,this.players=[]}register(c,a){const p=[],k=ff(this._driver,a,p,[]);if(p.length)throw function xy(f){return new u.vHH(3503,!1)}();this._animations.set(c,k)}_buildPlayer(c,a,p){const b=c.element,k=Kd(this._normalizer,c.keyframes,a,p);return this._driver.animate(b,k,c.duration,c.delay,c.easing,[],!0)}create(c,a,p={}){const b=[],k=this._animations.get(c);let ee;const de=new Map;if(k?(ee=Pc(this._driver,a,k,Qg,Xd,new Map,new Map,p,e,b),ee.forEach(St=>{const tn=Vs(de,St.element,new Map);St.postStyleProps.forEach(Vn=>tn.set(Vn,null))})):(b.push(function Oy(){return new u.vHH(3300,!1)}()),ee=[]),b.length)throw function Vu(f){return new u.vHH(3504,!1)}();de.forEach((St,tn)=>{St.forEach((Vn,An)=>{St.set(An,this._driver.computeStyle(tn,An,Ha))})});const Ze=ya(ee.map(St=>{const tn=de.get(St.element);return this._buildPlayer(St,new Map,tn)}));return this._playersById.set(c,Ze),Ze.onDestroy(()=>this.destroy(c)),this.players.push(Ze),Ze}destroy(c){const a=this._getPlayer(c);a.destroy(),this._playersById.delete(c);const p=this.players.indexOf(a);p>=0&&this.players.splice(p,1)}_getPlayer(c){const a=this._playersById.get(c);if(!a)throw function Ny(f){return new u.vHH(3301,!1)}();return a}listen(c,a,p,b){const k=Yd(a,"","","");return Uu(this._getPlayer(c),p,k,b),()=>{}}command(c,a,p,b){if("register"==p)return void this.register(c,b[0]);if("create"==p)return void this.create(c,a,b[0]||{});const k=this._getPlayer(c);switch(p){case"play":k.play();break;case"pause":k.pause();break;case"reset":k.reset();break;case"restart":k.restart();break;case"finish":k.finish();break;case"init":k.init();break;case"setPosition":k.setPosition(parseFloat(b[0]));break;case"destroy":this.destroy(c)}}}const s="ng-animate-queued",y="ng-animate-disabled",K=[],se={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ge={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Oe="__ng_removed";class ot{get params(){return this.options.params}constructor(c,a=""){this.namespaceId=a;const p=c&&c.hasOwnProperty("value");if(this.value=function mr(f){return f??null}(p?c.value:c),p){const k=nh(c);delete k.value,this.options=k}else this.options={};this.options.params||(this.options.params={})}absorbOptions(c){const a=c.params;if(a){const p=this.options.params;Object.keys(a).forEach(b=>{null==p[b]&&(p[b]=a[b])})}}}const Rt="void",Zt=new ot(Rt);class Bt{constructor(c,a,p){this.id=c,this.hostElement=a,this._engine=p,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+c,Ge(a,this._hostClassName)}listen(c,a,p,b){if(!this._triggers.has(a))throw function hl(f,c){return new u.vHH(3302,!1)}();if(null==p||0==p.length)throw function Wd(f){return new u.vHH(3303,!1)}();if(!function xr(f){return"start"==f||"done"==f}(p))throw function wc(f,c){return new u.vHH(3400,!1)}();const k=Vs(this._elementListeners,c,[]),ee={name:a,phase:p,callback:b};k.push(ee);const de=Vs(this._engine.statesByElement,c,new Map);return de.has(a)||(Ge(c,uf),Ge(c,uf+"-"+a),de.set(a,Zt)),()=>{this._engine.afterFlush(()=>{const Pe=k.indexOf(ee);Pe>=0&&k.splice(Pe,1),this._triggers.has(a)||de.delete(a)})}}register(c,a){return!this._triggers.has(c)&&(this._triggers.set(c,a),!0)}_getTrigger(c){const a=this._triggers.get(c);if(!a)throw function kp(f){return new u.vHH(3401,!1)}();return a}trigger(c,a,p,b=!0){const k=this._getTrigger(a),ee=new zn(this.id,a,c);let de=this._engine.statesByElement.get(c);de||(Ge(c,uf),Ge(c,uf+"-"+a),this._engine.statesByElement.set(c,de=new Map));let Pe=de.get(a);const Ze=new ot(p,this.id);if(!(p&&p.hasOwnProperty("value"))&&Pe&&Ze.absorbOptions(Pe.options),de.set(a,Ze),Pe||(Pe=Zt),Ze.value!==Rt&&Pe.value===Ze.value){if(!function vf(f,c){const a=Object.keys(f),p=Object.keys(c);if(a.length!=p.length)return!1;for(let b=0;b<a.length;b++){const k=a[b];if(!c.hasOwnProperty(k)||f[k]!==c[k])return!1}return!0}(Pe.params,Ze.params)){const xn=[],dr=k.matchStyles(Pe.value,Pe.params,xn),Jr=k.matchStyles(Ze.value,Ze.params,xn);xn.length?this._engine.reportError(xn):this._engine.afterFlush(()=>{Sc(c,dr),Ia(c,Jr)})}return}const Vn=Vs(this._engine.playersByElement,c,[]);Vn.forEach(xn=>{xn.namespaceId==this.id&&xn.triggerName==a&&xn.queued&&xn.destroy()});let An=k.matchTransition(Pe.value,Ze.value,c,Ze.params),pn=!1;if(!An){if(!b)return;An=k.fallbackTransition,pn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:a,transition:An,fromState:Pe,toState:Ze,player:ee,isFallbackTransition:pn}),pn||(Ge(c,s),ee.onStart(()=>{et(c,s)})),ee.onDone(()=>{let xn=this.players.indexOf(ee);xn>=0&&this.players.splice(xn,1);const dr=this._engine.playersByElement.get(c);if(dr){let Jr=dr.indexOf(ee);Jr>=0&&dr.splice(Jr,1)}}),this.players.push(ee),Vn.push(ee),ee}deregister(c){this._triggers.delete(c),this._engine.statesByElement.forEach(a=>a.delete(c)),this._elementListeners.forEach((a,p)=>{this._elementListeners.set(p,a.filter(b=>b.name!=c))})}clearElementCache(c){this._engine.statesByElement.delete(c),this._elementListeners.delete(c);const a=this._engine.playersByElement.get(c);a&&(a.forEach(p=>p.destroy()),this._engine.playersByElement.delete(c))}_signalRemovalForInnerTriggers(c,a){const p=this._engine.driver.query(c,eh,!0);p.forEach(b=>{if(b[Oe])return;const k=this._engine.fetchNamespacesByElement(b);k.size?k.forEach(ee=>ee.triggerLeaveAnimation(b,a,!1,!0)):this.clearElementCache(b)}),this._engine.afterFlushAnimationsDone(()=>p.forEach(b=>this.clearElementCache(b)))}triggerLeaveAnimation(c,a,p,b){const k=this._engine.statesByElement.get(c),ee=new Map;if(k){const de=[];if(k.forEach((Pe,Ze)=>{if(ee.set(Ze,Pe.value),this._triggers.has(Ze)){const St=this.trigger(c,Ze,Rt,b);St&&de.push(St)}}),de.length)return this._engine.markElementAsRemoved(this.id,c,!0,a,ee),p&&ya(de).onDone(()=>this._engine.processLeaveNode(c)),!0}return!1}prepareLeaveAnimationListeners(c){const a=this._elementListeners.get(c),p=this._engine.statesByElement.get(c);if(a&&p){const b=new Set;a.forEach(k=>{const ee=k.name;if(b.has(ee))return;b.add(ee);const Pe=this._triggers.get(ee).fallbackTransition,Ze=p.get(ee)||Zt,St=new ot(Rt),tn=new zn(this.id,ee,c);this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:ee,transition:Pe,fromState:Ze,toState:St,player:tn,isFallbackTransition:!0})})}}removeNode(c,a){const p=this._engine;if(c.childElementCount&&this._signalRemovalForInnerTriggers(c,a),this.triggerLeaveAnimation(c,a,!0))return;let b=!1;if(p.totalAnimations){const k=p.players.length?p.playersByQueriedElement.get(c):[];if(k&&k.length)b=!0;else{let ee=c;for(;ee=ee.parentNode;)if(p.statesByElement.get(ee)){b=!0;break}}}if(this.prepareLeaveAnimationListeners(c),b)p.markElementAsRemoved(this.id,c,!1,a);else{const k=c[Oe];(!k||k===se)&&(p.afterFlush(()=>this.clearElementCache(c)),p.destroyInnerAnimations(c),p._onRemovalComplete(c,a))}}insertNode(c,a){Ge(c,this._hostClassName)}drainQueuedTransitions(c){const a=[];return this._queue.forEach(p=>{const b=p.player;if(b.destroyed)return;const k=p.element,ee=this._elementListeners.get(k);ee&&ee.forEach(de=>{if(de.name==p.triggerName){const Pe=Yd(k,p.triggerName,p.fromState.value,p.toState.value);Pe._data=c,Uu(p.player,de.phase,Pe,de.callback)}}),b.markedForDestroy?this._engine.afterFlush(()=>{b.destroy()}):a.push(p)}),this._queue=[],a.sort((p,b)=>{const k=p.transition.ast.depCount,ee=b.transition.ast.depCount;return 0==k||0==ee?k-ee:this._engine.driver.containsElement(p.element,b.element)?1:-1})}destroy(c){this.players.forEach(a=>a.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,c)}}class Pn{_onRemovalComplete(c,a){this.onRemovalComplete(c,a)}constructor(c,a,p){this.bodyNode=c,this.driver=a,this._normalizer=p,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(b,k)=>{}}get queuedPlayers(){const c=[];return this._namespaceList.forEach(a=>{a.players.forEach(p=>{p.queued&&c.push(p)})}),c}createNamespace(c,a){const p=new Bt(c,a,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,a)?this._balanceNamespaceList(p,a):(this.newHostElements.set(a,p),this.collectEnterElement(a)),this._namespaceLookup[c]=p}_balanceNamespaceList(c,a){const p=this._namespaceList,b=this.namespacesByHostElement;if(p.length-1>=0){let ee=!1,de=this.driver.getParentElement(a);for(;de;){const Pe=b.get(de);if(Pe){const Ze=p.indexOf(Pe);p.splice(Ze+1,0,c),ee=!0;break}de=this.driver.getParentElement(de)}ee||p.unshift(c)}else p.push(c);return b.set(a,c),c}register(c,a){let p=this._namespaceLookup[c];return p||(p=this.createNamespace(c,a)),p}registerTrigger(c,a,p){let b=this._namespaceLookup[c];b&&b.register(a,p)&&this.totalAnimations++}destroy(c,a){c&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const p=this._fetchNamespace(c);this.namespacesByHostElement.delete(p.hostElement);const b=this._namespaceList.indexOf(p);b>=0&&this._namespaceList.splice(b,1),p.destroy(a),delete this._namespaceLookup[c]}))}_fetchNamespace(c){return this._namespaceLookup[c]}fetchNamespacesByElement(c){const a=new Set,p=this.statesByElement.get(c);if(p)for(let b of p.values())if(b.namespaceId){const k=this._fetchNamespace(b.namespaceId);k&&a.add(k)}return a}trigger(c,a,p,b){if(zr(a)){const k=this._fetchNamespace(c);if(k)return k.trigger(a,p,b),!0}return!1}insertNode(c,a,p,b){if(!zr(a))return;const k=a[Oe];if(k&&k.setForRemoval){k.setForRemoval=!1,k.setForMove=!0;const ee=this.collectedLeaveElements.indexOf(a);ee>=0&&this.collectedLeaveElements.splice(ee,1)}if(c){const ee=this._fetchNamespace(c);ee&&ee.insertNode(a,p)}b&&this.collectEnterElement(a)}collectEnterElement(c){this.collectedEnterElements.push(c)}markElementAsDisabled(c,a){a?this.disabledNodes.has(c)||(this.disabledNodes.add(c),Ge(c,y)):this.disabledNodes.has(c)&&(this.disabledNodes.delete(c),et(c,y))}removeNode(c,a,p){if(zr(a)){const b=c?this._fetchNamespace(c):null;b?b.removeNode(a,p):this.markElementAsRemoved(c,a,!1,p);const k=this.namespacesByHostElement.get(a);k&&k.id!==c&&k.removeNode(a,p)}else this._onRemovalComplete(a,p)}markElementAsRemoved(c,a,p,b,k){this.collectedLeaveElements.push(a),a[Oe]={namespaceId:c,setForRemoval:b,hasAnimation:p,removedBeforeQueried:!1,previousTriggersValues:k}}listen(c,a,p,b,k){return zr(a)?this._fetchNamespace(c).listen(a,p,b,k):()=>{}}_buildInstruction(c,a,p,b,k){return c.transition.build(this.driver,c.element,c.fromState.value,c.toState.value,p,b,c.fromState.options,c.toState.options,a,k)}destroyInnerAnimations(c){let a=this.driver.query(c,eh,!0);a.forEach(p=>this.destroyActiveAnimationsForElement(p)),0!=this.playersByQueriedElement.size&&(a=this.driver.query(c,th,!0),a.forEach(p=>this.finishActiveQueriedAnimationOnElement(p)))}destroyActiveAnimationsForElement(c){const a=this.playersByElement.get(c);a&&a.forEach(p=>{p.queued?p.markedForDestroy=!0:p.destroy()})}finishActiveQueriedAnimationOnElement(c){const a=this.playersByQueriedElement.get(c);a&&a.forEach(p=>p.finish())}whenRenderingDone(){return new Promise(c=>{if(this.players.length)return ya(this.players).onDone(()=>c());c()})}processLeaveNode(c){const a=c[Oe];if(a&&a.setForRemoval){if(c[Oe]=se,a.namespaceId){this.destroyInnerAnimations(c);const p=this._fetchNamespace(a.namespaceId);p&&p.clearElementCache(c)}this._onRemovalComplete(c,a.setForRemoval)}c.classList?.contains(y)&&this.markElementAsDisabled(c,!1),this.driver.query(c,".ng-animate-disabled",!0).forEach(p=>{this.markElementAsDisabled(p,!1)})}flush(c=-1){let a=[];if(this.newHostElements.size&&(this.newHostElements.forEach((p,b)=>this._balanceNamespaceList(p,b)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let p=0;p<this.collectedEnterElements.length;p++)Ge(this.collectedEnterElements[p],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const p=[];try{a=this._flushAnimations(p,c)}finally{for(let b=0;b<p.length;b++)p[b]()}}else for(let p=0;p<this.collectedLeaveElements.length;p++)this.processLeaveNode(this.collectedLeaveElements[p]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(p=>p()),this._flushFns=[],this._whenQuietFns.length){const p=this._whenQuietFns;this._whenQuietFns=[],a.length?ya(a).onDone(()=>{p.forEach(b=>b())}):p.forEach(b=>b())}}reportError(c){throw function cf(f){return new u.vHH(3402,!1)}()}_flushAnimations(c,a){const p=new zp,b=[],k=new Map,ee=[],de=new Map,Pe=new Map,Ze=new Map,St=new Set;this.disabledNodes.forEach($n=>{St.add($n);const rr=this.driver.query($n,".ng-animate-queued",!0);for(let gr=0;gr<rr.length;gr++)St.add(rr[gr])});const tn=this.bodyNode,Vn=Array.from(this.statesByElement.keys()),An=je(Vn,this.collectedEnterElements),pn=new Map;let xn=0;An.forEach(($n,rr)=>{const gr=Qg+xn++;pn.set(rr,gr),$n.forEach(li=>Ge(li,gr))});const dr=[],Jr=new Set,ai=new Set;for(let $n=0;$n<this.collectedLeaveElements.length;$n++){const rr=this.collectedLeaveElements[$n],gr=rr[Oe];gr&&gr.setForRemoval&&(dr.push(rr),Jr.add(rr),gr.hasAnimation?this.driver.query(rr,".ng-star-inserted",!0).forEach(li=>Jr.add(li)):ai.add(rr))}const ci=new Map,Zr=je(Vn,Array.from(Jr));Zr.forEach(($n,rr)=>{const gr=Xd+xn++;ci.set(rr,gr),$n.forEach(li=>Ge(li,gr))}),c.push(()=>{An.forEach(($n,rr)=>{const gr=pn.get(rr);$n.forEach(li=>et(li,gr))}),Zr.forEach(($n,rr)=>{const gr=ci.get(rr);$n.forEach(li=>et(li,gr))}),dr.forEach($n=>{this.processLeaveNode($n)})});const Ta=[],mo=[];for(let $n=this._namespaceList.length-1;$n>=0;$n--)this._namespaceList[$n].drainQueuedTransitions(a).forEach(gr=>{const li=gr.player,_o=gr.element;if(Ta.push(li),this.collectedEnterElements.length){const $o=_o[Oe];if($o&&$o.setForMove){if($o.previousTriggersValues&&$o.previousTriggersValues.has(gr.triggerName)){const bh=$o.previousTriggersValues.get(gr.triggerName),Za=this.statesByElement.get(gr.element);if(Za&&Za.has(gr.triggerName)){const Mm=Za.get(gr.triggerName);Mm.value=bh,Za.set(gr.triggerName,Mm)}}return void li.destroy()}}const ou=!tn||!this.driver.containsElement(tn,_o),qa=ci.get(_o),Ih=pn.get(_o),cs=this._buildInstruction(gr,p,Ih,qa,ou);if(cs.errors&&cs.errors.length)return void mo.push(cs);if(ou)return li.onStart(()=>Sc(_o,cs.fromStyles)),li.onDestroy(()=>Ia(_o,cs.toStyles)),void b.push(li);if(gr.isFallbackTransition)return li.onStart(()=>Sc(_o,cs.fromStyles)),li.onDestroy(()=>Ia(_o,cs.toStyles)),void b.push(li);const _E=[];cs.timelines.forEach($o=>{$o.stretchStartingKeyframe=!0,this.disabledNodes.has($o.element)||_E.push($o)}),cs.timelines=_E,p.append(_o,cs.timelines),ee.push({instruction:cs,player:li,element:_o}),cs.queriedElements.forEach($o=>Vs(de,$o,[]).push(li)),cs.preStyleProps.forEach(($o,bh)=>{if($o.size){let Za=Pe.get(bh);Za||Pe.set(bh,Za=new Set),$o.forEach((Mm,ny)=>Za.add(ny))}}),cs.postStyleProps.forEach(($o,bh)=>{let Za=Ze.get(bh);Za||Ze.set(bh,Za=new Set),$o.forEach((Mm,ny)=>Za.add(ny))})});if(mo.length){const $n=[];mo.forEach(rr=>{$n.push(function Zd(f,c){return new u.vHH(3505,!1)}())}),Ta.forEach(rr=>rr.destroy()),this.reportError($n)}const Bs=new Map,jo=new Map;ee.forEach($n=>{const rr=$n.element;p.has(rr)&&(jo.set(rr,rr),this._beforeAnimationBuild($n.player.namespaceId,$n.instruction,Bs))}),b.forEach($n=>{const rr=$n.element;this._getPreviousPlayers(rr,!1,$n.namespaceId,$n.triggerName,null).forEach(li=>{Vs(Bs,rr,[]).push(li),li.destroy()})});const Ca=dr.filter($n=>Uo($n,Pe,Ze)),ed=new Map;Me(ed,this.driver,ai,Ze,Ha).forEach($n=>{Uo($n,Pe,Ze)&&Ca.push($n)});const Sm=new Map;An.forEach(($n,rr)=>{Me(Sm,this.driver,new Set($n),Pe,"!")}),Ca.forEach($n=>{const rr=ed.get($n),gr=Sm.get($n);ed.set($n,new Map([...rr?.entries()??[],...gr?.entries()??[]]))});const jf=[],gE=[],mE={};ee.forEach($n=>{const{element:rr,player:gr,instruction:li}=$n;if(p.has(rr)){if(St.has(rr))return gr.onDestroy(()=>Ia(rr,li.toStyles)),gr.disabled=!0,gr.overrideTotalTime(li.totalTime),void b.push(gr);let _o=mE;if(jo.size>1){let qa=rr;const Ih=[];for(;qa=qa.parentNode;){const cs=jo.get(qa);if(cs){_o=cs;break}Ih.push(qa)}Ih.forEach(cs=>jo.set(cs,_o))}const ou=this._buildAnimation(gr.namespaceId,li,Bs,k,Sm,ed);if(gr.setRealPlayer(ou),_o===mE)jf.push(gr);else{const qa=this.playersByElement.get(_o);qa&&qa.length&&(gr.parentPlayer=ya(qa)),b.push(gr)}}else Sc(rr,li.fromStyles),gr.onDestroy(()=>Ia(rr,li.toStyles)),gE.push(gr),St.has(rr)&&b.push(gr)}),gE.forEach($n=>{const rr=k.get($n.element);if(rr&&rr.length){const gr=ya(rr);$n.setRealPlayer(gr)}}),b.forEach($n=>{$n.parentPlayer?$n.syncPlayerEvents($n.parentPlayer):$n.destroy()});for(let $n=0;$n<dr.length;$n++){const rr=dr[$n],gr=rr[Oe];if(et(rr,Xd),gr&&gr.hasAnimation)continue;let li=[];if(de.size){let ou=de.get(rr);ou&&ou.length&&li.push(...ou);let qa=this.driver.query(rr,th,!0);for(let Ih=0;Ih<qa.length;Ih++){let cs=de.get(qa[Ih]);cs&&cs.length&&li.push(...cs)}}const _o=li.filter(ou=>!ou.destroyed);_o.length?gt(this,rr,_o):this.processLeaveNode(rr)}return dr.length=0,jf.forEach($n=>{this.players.push($n),$n.onDone(()=>{$n.destroy();const rr=this.players.indexOf($n);this.players.splice(rr,1)}),$n.play()}),jf}afterFlush(c){this._flushFns.push(c)}afterFlushAnimationsDone(c){this._whenQuietFns.push(c)}_getPreviousPlayers(c,a,p,b,k){let ee=[];if(a){const de=this.playersByQueriedElement.get(c);de&&(ee=de)}else{const de=this.playersByElement.get(c);if(de){const Pe=!k||k==Rt;de.forEach(Ze=>{Ze.queued||!Pe&&Ze.triggerName!=b||ee.push(Ze)})}}return(p||b)&&(ee=ee.filter(de=>!(p&&p!=de.namespaceId||b&&b!=de.triggerName))),ee}_beforeAnimationBuild(c,a,p){const k=a.element,ee=a.isRemovalTransition?void 0:c,de=a.isRemovalTransition?void 0:a.triggerName;for(const Pe of a.timelines){const Ze=Pe.element,St=Ze!==k,tn=Vs(p,Ze,[]);this._getPreviousPlayers(Ze,St,ee,de,a.toState).forEach(An=>{const pn=An.getRealPlayer();pn.beforeDestroy&&pn.beforeDestroy(),An.destroy(),tn.push(An)})}Sc(k,a.fromStyles)}_buildAnimation(c,a,p,b,k,ee){const de=a.triggerName,Pe=a.element,Ze=[],St=new Set,tn=new Set,Vn=a.timelines.map(pn=>{const xn=pn.element;St.add(xn);const dr=xn[Oe];if(dr&&dr.removedBeforeQueried)return new ku(pn.duration,pn.delay);const Jr=xn!==Pe,ai=function Ve(f){const c=[];return Rc(f,c),c}((p.get(xn)||K).map(Bs=>Bs.getRealPlayer())).filter(Bs=>!!Bs.element&&Bs.element===xn),ci=k.get(xn),Zr=ee.get(xn),Ta=Kd(this._normalizer,pn.keyframes,ci,Zr),mo=this._buildPlayer(pn,Ta,ai);if(pn.subTimeline&&b&&tn.add(xn),Jr){const Bs=new zn(c,de,xn);Bs.setRealPlayer(mo),Ze.push(Bs)}return mo});Ze.forEach(pn=>{Vs(this.playersByQueriedElement,pn.element,[]).push(pn),pn.onDone(()=>function kn(f,c,a){let p=f.get(c);if(p){if(p.length){const b=p.indexOf(a);p.splice(b,1)}0==p.length&&f.delete(c)}return p}(this.playersByQueriedElement,pn.element,pn))}),St.forEach(pn=>Ge(pn,__));const An=ya(Vn);return An.onDestroy(()=>{St.forEach(pn=>et(pn,__)),Ia(Pe,a.toStyles)}),tn.forEach(pn=>{Vs(b,pn,[]).push(An)}),An}_buildPlayer(c,a,p){return a.length>0?this.driver.animate(c.element,a,c.duration,c.delay,c.easing,p):new ku(c.duration,c.delay)}}class zn{constructor(c,a,p){this.namespaceId=c,this.triggerName=a,this.element=p,this._player=new ku,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(c){this._containsRealPlayer||(this._player=c,this._queuedCallbacks.forEach((a,p)=>{a.forEach(b=>Uu(c,p,void 0,b))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(c.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(c){this.totalTime=c}syncPlayerEvents(c){const a=this._player;a.triggerCallback&&c.onStart(()=>a.triggerCallback("start")),c.onDone(()=>this.finish()),c.onDestroy(()=>this.destroy())}_queueEvent(c,a){Vs(this._queuedCallbacks,c,[]).push(a)}onDone(c){this.queued&&this._queueEvent("done",c),this._player.onDone(c)}onStart(c){this.queued&&this._queueEvent("start",c),this._player.onStart(c)}onDestroy(c){this.queued&&this._queueEvent("destroy",c),this._player.onDestroy(c)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(c){this.queued||this._player.setPosition(c)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(c){const a=this._player;a.triggerCallback&&a.triggerCallback(c)}}function zr(f){return f&&1===f.nodeType}function Qe(f,c){const a=f.style.display;return f.style.display=c??"none",a}function Me(f,c,a,p,b){const k=[];a.forEach(Pe=>k.push(Qe(Pe)));const ee=[];p.forEach((Pe,Ze)=>{const St=new Map;Pe.forEach(tn=>{const Vn=c.computeStyle(Ze,tn,b);St.set(tn,Vn),(!Vn||0==Vn.length)&&(Ze[Oe]=ge,ee.push(Ze))}),f.set(Ze,St)});let de=0;return a.forEach(Pe=>Qe(Pe,k[de++])),ee}function je(f,c){const a=new Map;if(f.forEach(de=>a.set(de,[])),0==c.length)return a;const b=new Set(c),k=new Map;function ee(de){if(!de)return 1;let Pe=k.get(de);if(Pe)return Pe;const Ze=de.parentNode;return Pe=a.has(Ze)?Ze:b.has(Ze)?1:ee(Ze),k.set(de,Pe),Pe}return c.forEach(de=>{const Pe=ee(de);1!==Pe&&a.get(Pe).push(de)}),a}function Ge(f,c){f.classList?.add(c)}function et(f,c){f.classList?.remove(c)}function gt(f,c,a){ya(a).onDone(()=>f.processLeaveNode(c))}function Rc(f,c){for(let a=0;a<f.length;a++){const p=f[a];p instanceof sf?Rc(p.players,c):c.push(p)}}function Uo(f,c,a){const p=a.get(f);if(!p)return!1;let b=c.get(f);return b?p.forEach(k=>b.add(k)):c.set(f,p),a.delete(f),!0}class Yl{constructor(c,a,p){this.bodyNode=c,this._driver=a,this._normalizer=p,this._triggerCache={},this.onRemovalComplete=(b,k)=>{},this._transitionEngine=new Pn(c,a,p),this._timelineEngine=new r(c,a,p),this._transitionEngine.onRemovalComplete=(b,k)=>this.onRemovalComplete(b,k)}registerTrigger(c,a,p,b,k){const ee=c+"-"+b;let de=this._triggerCache[ee];if(!de){const Pe=[],St=ff(this._driver,k,Pe,[]);if(Pe.length)throw function Py(f,c){return new u.vHH(3404,!1)}();de=function xE(f,c,a){return new ch(f,c,a)}(b,St,this._normalizer),this._triggerCache[ee]=de}this._transitionEngine.registerTrigger(a,b,de)}register(c,a){this._transitionEngine.register(c,a)}destroy(c,a){this._transitionEngine.destroy(c,a)}onInsert(c,a,p,b){this._transitionEngine.insertNode(c,a,p,b)}onRemove(c,a,p){this._transitionEngine.removeNode(c,a,p)}disableAnimations(c,a){this._transitionEngine.markElementAsDisabled(c,a)}process(c,a,p,b){if("@"==p.charAt(0)){const[k,ee]=Fp(p);this._timelineEngine.command(k,a,ee,b)}else this._transitionEngine.trigger(c,a,p,b)}listen(c,a,p,b,k){if("@"==p.charAt(0)){const[ee,de]=Fp(p);return this._timelineEngine.listen(ee,a,de,k)}return this._transitionEngine.listen(c,a,p,b,k)}flush(c=-1){this._transitionEngine.flush(c)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(c){this._transitionEngine.afterFlushAnimationsDone(c)}}let P_=(()=>{class f{static#e=this.initialStylesByElement=new WeakMap;constructor(a,p,b){this._element=a,this._startStyles=p,this._endStyles=b,this._state=0;let k=f.initialStylesByElement.get(a);k||f.initialStylesByElement.set(a,k=new Map),this._initialStyles=k}start(){this._state<1&&(this._startStyles&&Ia(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ia(this._element,this._initialStyles),this._endStyles&&(Ia(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(f.initialStylesByElement.delete(this._element),this._startStyles&&(Sc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Sc(this._element,this._endStyles),this._endStyles=null),Ia(this._element,this._initialStyles),this._state=3)}}return f})();function lh(f){let c=null;return f.forEach((a,p)=>{(function R_(f){return"display"===f||"position"===f})(p)&&(c=c||new Map,c.set(p,a))}),c}class pl{constructor(c,a,p,b){this.element=c,this.keyframes=a,this.options=p,this._specialStyles=b,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=p.duration,this._delay=p.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(c=>c()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const c=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,c,this.options),this._finalKeyframe=c.length?c[c.length-1]:new Map;const a=()=>this._onFinish();this.domPlayer.addEventListener("finish",a),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",a)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(c){const a=[];return c.forEach(p=>{a.push(Object.fromEntries(p))}),a}_triggerWebAnimation(c,a,p){return c.animate(this._convertKeyframesToObject(a),p)}onStart(c){this._originalOnStartFns.push(c),this._onStartFns.push(c)}onDone(c){this._originalOnDoneFns.push(c),this._onDoneFns.push(c)}onDestroy(c){this._onDestroyFns.push(c)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(c=>c()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(c=>c()),this._onDestroyFns=[])}setPosition(c){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=c*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const c=new Map;this.hasStarted()&&this._finalKeyframe.forEach((p,b)=>{"offset"!==b&&c.set(b,this._finished?p:em(this.element,b))}),this.currentSnapshot=c}triggerCallback(c){const a="start"===c?this._onStartFns:this._onDoneFns;a.forEach(p=>p()),a.length=0}}class uo{validateStyleProperty(c){return!0}validateAnimatableStyleProperty(c){return!0}matchesElement(c,a){return!1}containsElement(c,a){return Kg(c,a)}getParentElement(c){return qg(c)}query(c,a,p){return Bu(c,a,p)}computeStyle(c,a,p){return window.getComputedStyle(c)[a]}animate(c,a,p,b,k,ee=[]){const Pe={duration:p,delay:b,fill:0==b?"both":"forwards"};k&&(Pe.easing=k);const Ze=new Map,St=ee.filter(An=>An instanceof pl);(function ju(f,c){return 0===f||0===c})(p,b)&&St.forEach(An=>{An.currentSnapshot.forEach((pn,xn)=>Ze.set(xn,pn))});let tn=function v_(f){return f.length?f[0]instanceof Map?f:f.map(c=>y_(c)):[]}(a).map(An=>Dc(An));tn=function $p(f,c,a){if(a.size&&c.length){let p=c[0],b=[];if(a.forEach((k,ee)=>{p.has(ee)||b.push(ee),p.set(ee,k)}),b.length)for(let k=1;k<c.length;k++){let ee=c[k];b.forEach(de=>ee.set(de,em(f,de)))}}return c}(c,tn,Ze);const Vn=function Ef(f,c){let a=null,p=null;return Array.isArray(c)&&c.length?(a=lh(c[0]),c.length>1&&(p=lh(c[c.length-1]))):c instanceof Map&&(a=lh(c)),a||p?new P_(f,a,p):null}(c,tn);return new pl(c,tn,Pe,Vn)}}let Yy=(()=>{class f extends Mp{constructor(a,p){super(),this._nextAnimationId=0,this._renderer=a.createRenderer(p.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(a){const p=this._nextAnimationId.toString();this._nextAnimationId++;const b=Array.isArray(a)?Nu(a):a;return dh(this._renderer,null,p,"register",[b]),new uh(p,this._renderer)}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(u.FYo),u.LFG(G.K0))};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac})}return f})();class uh extends Ty{constructor(c,a){super(),this._id=c,this._renderer=a}create(c,a){return new Qy(this._id,c,a||{},this._renderer)}}class Qy{constructor(c,a,p,b){this.id=c,this.element=a,this._renderer=b,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",p)}_listen(c,a){return this._renderer.listen(this.element,`@@${this.id}:${c}`,a)}_command(c,...a){return dh(this._renderer,this.element,this.id,c,a)}onDone(c){this._listen("done",c)}onStart(c){this._listen("start",c)}onDestroy(c){this._listen("destroy",c)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(c){this._command("setPosition",c)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function dh(f,c,a,p,b){return f.setProperty(c,`@@${a}:${p}`,b)}const x_="@.disabled";let Wp=(()=>{class f{constructor(a,p,b){this.delegate=a,this.engine=p,this._zone=b,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,p.onRemovalComplete=(k,ee)=>{const de=ee?.parentNode(k);de&&ee.removeChild(de,k)}}createRenderer(a,p){const k=this.delegate.createRenderer(a,p);if(!(a&&p&&p.data&&p.data.animation)){let St=this._rendererCache.get(k);return St||(St=new If("",k,this.engine,()=>this._rendererCache.delete(k)),this._rendererCache.set(k,St)),St}const ee=p.id,de=p.id+"-"+this._currentId;this._currentId++,this.engine.register(de,a);const Pe=St=>{Array.isArray(St)?St.forEach(Pe):this.engine.registerTrigger(ee,de,a,St.name,St)};return p.data.animation.forEach(Pe),new sm(this,de,k,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(a,p,b){a>=0&&a<this._microtaskId?this._zone.run(()=>p(b)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(k=>{const[ee,de]=k;ee(de)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([p,b]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(u.FYo),u.LFG(Yl),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac})}return f})();class If{constructor(c,a,p,b){this.namespaceId=c,this.delegate=a,this.engine=p,this._onDestroy=b}get data(){return this.delegate.data}destroyNode(c){this.delegate.destroyNode?.(c)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(c,a){return this.delegate.createElement(c,a)}createComment(c){return this.delegate.createComment(c)}createText(c){return this.delegate.createText(c)}appendChild(c,a){this.delegate.appendChild(c,a),this.engine.onInsert(this.namespaceId,a,c,!1)}insertBefore(c,a,p,b=!0){this.delegate.insertBefore(c,a,p),this.engine.onInsert(this.namespaceId,a,c,b)}removeChild(c,a,p){this.engine.onRemove(this.namespaceId,a,this.delegate)}selectRootElement(c,a){return this.delegate.selectRootElement(c,a)}parentNode(c){return this.delegate.parentNode(c)}nextSibling(c){return this.delegate.nextSibling(c)}setAttribute(c,a,p,b){this.delegate.setAttribute(c,a,p,b)}removeAttribute(c,a,p){this.delegate.removeAttribute(c,a,p)}addClass(c,a){this.delegate.addClass(c,a)}removeClass(c,a){this.delegate.removeClass(c,a)}setStyle(c,a,p,b){this.delegate.setStyle(c,a,p,b)}removeStyle(c,a,p){this.delegate.removeStyle(c,a,p)}setProperty(c,a,p){"@"==a.charAt(0)&&a==x_?this.disableAnimations(c,!!p):this.delegate.setProperty(c,a,p)}setValue(c,a){this.delegate.setValue(c,a)}listen(c,a,p){return this.delegate.listen(c,a,p)}disableAnimations(c,a){this.engine.disableAnimations(c,a)}}class sm extends If{constructor(c,a,p,b,k){super(a,p,b,k),this.factory=c,this.namespaceId=a}setProperty(c,a,p){"@"==a.charAt(0)?"."==a.charAt(1)&&a==x_?this.disableAnimations(c,p=void 0===p||!!p):this.engine.process(this.namespaceId,c,a.slice(1),p):this.delegate.setProperty(c,a,p)}listen(c,a,p){if("@"==a.charAt(0)){const b=function om(f){switch(f){case"body":return document.body;case"document":return document;case"window":return window;default:return f}}(c);let k=a.slice(1),ee="";return"@"!=k.charAt(0)&&([k,ee]=function ba(f){const c=f.indexOf(".");return[f.substring(0,c),f.slice(c+1)]}(k)),this.engine.listen(this.namespaceId,b,k,ee,de=>{this.factory.scheduleListenerCallback(de._data||-1,p,de)})}return this.delegate.listen(c,a,p)}}const N_=[{provide:Mp,useClass:Yy},{provide:S_,useFactory:function O_(){return new Yv}},{provide:Yl,useClass:(()=>{class f extends Yl{constructor(a,p,b,k){super(a.body,p,b)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(G.K0),u.LFG(ql),u.LFG(S_),u.LFG(u.z2F))};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac})}return f})()},{provide:u.FYo,useFactory:function am(f,c,a){return new Wp(f,c,a)},deps:[g.se,Yl,u.R0b]}],Tf=[{provide:ql,useFactory:()=>new uo},{provide:u.QbO,useValue:"BrowserAnimations"},...N_],qp=[{provide:ql,useClass:m_},{provide:u.QbO,useValue:"NoopAnimations"},...N_];let fh=(()=>{class f{static withConfig(a){return{ngModule:f,providers:a.disableAnimations?qp:Tf}}static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=u.oAB({type:f});static#n=this.\u0275inj=u.cJS({providers:Tf,imports:[g.b2]})}return f})();const Cf_firebase={apiKey:"AIzaSyBfMHRYkwC16Pt-IuqcVJOYjkrRgOlEVH8",authDomain:"romaniinseattle.firebaseapp.com",projectId:"romaniinseattle",storageBucket:"romaniinseattle.appspot.com",messagingSenderId:"548714995927",appId:"1:548714995927:web:70a2631d9f5d8d2f8fd092"};var za=B(3182);class Yi{constructor(c){return c}}class Ss{constructor(){return(0,za.C6)()}}const Zp=new u.OlP("angularfire2._apps"),um={provide:Yi,useFactory:function k_(f){return f&&1===f.length?f[0]:new Yi((0,za.Mq)())},deps:[[new u.FiY,Zp]]},wf={provide:Ss,deps:[[new u.FiY,Zp]]};function dm(f){return(c,a)=>{const p=c.runOutsideAngular(()=>f(a));return new Yi(p)}}let F_=(()=>{class f{constructor(a){(0,za.KN)("angularfire",Rr.q4.full,"core"),(0,za.KN)("angularfire",Rr.q4.full,"app"),(0,za.KN)("angular",u.q4F.full,a.toString())}static \u0275fac=function(p){return new(p||f)(u.LFG(u.Lbi))};static \u0275mod=u.oAB({type:f});static \u0275inj=u.cJS({providers:[um,wf]})}return f})();function ph(f,...c){return{ngModule:F_,providers:[{provide:Zp,useFactory:dm(f),multi:!0,deps:[u.R0b,u.zs3,Rr.HU,...c]}]}}const Xy=(0,Rr.u3)(za.ZF,!0);B(35),B(7879);class Ql{constructor(){return(0,Rr.vb)("auth")}}var iE=B(5588);class Z_{constructor(c){return c}}const vl="firestore",Zu=new u.OlP("angularfire2.firestore-instances");function K_(f){return(c,a)=>{const p=c.runOutsideAngular(()=>f(a));return new Z_(p)}}const Of={provide:class pv{constructor(){return(0,Rr.vb)(vl)}},deps:[[new u.FiY,Zu]]},Nf={provide:Z_,useFactory:function ym(f,c){const a=(0,Rr.JM)(vl,f,c);return a&&new Z_(a)},deps:[[new u.FiY,Zu],Yi]};let rg=(()=>{class f{constructor(){(0,za.KN)("angularfire",Rr.q4.full,"fst")}static \u0275fac=function(p){return new(p||f)};static \u0275mod=u.oAB({type:f});static \u0275inj=u.cJS({providers:[Nf,Of]})}return f})();function Ku(f,...c){return{ngModule:rg,providers:[{provide:Zu,useFactory:K_(f),multi:!0,deps:[u.R0b,u.zs3,Rr.HU,Ss,[new u.FiY,Ql],[new u.FiY,Rr.Rf],...c]}]}}const hn=(0,Rr.u3)(iE.ad,!0);var WE=B(7213);class Mv{constructor(c){return c}}const Pv="storage",ty=new u.OlP("angularfire2.storage-instances");function KE(f){return(c,a)=>{const p=c.runOutsideAngular(()=>f(a));return new Mv(p)}}const uE={provide:class qE{constructor(){return(0,Rr.vb)(Pv)}},deps:[[new u.FiY,ty]]},YE={provide:Mv,useFactory:function ZE(f,c){const a=(0,Rr.JM)(Pv,f,c);return a&&new Mv(a)},deps:[[new u.FiY,ty],Yi]};let dE=(()=>{class f{constructor(){(0,za.KN)("angularfire",Rr.q4.full,"gcs")}static \u0275fac=function(p){return new(p||f)};static \u0275mod=u.oAB({type:f});static \u0275inj=u.cJS({providers:[YE,uE]})}return f})();function hE(f,...c){return{ngModule:dE,providers:[{provide:ty,useFactory:KE(f),multi:!0,deps:[u.R0b,u.zs3,Rr.HU,Ss,[new u.FiY,Ql],[new u.FiY,Rr.Rf],...c]}]}}const Rv=(0,Rr.u3)(Vd,!0);var fE=B(5842);let n0=(()=>{class f{constructor(a){this.injector=a}handleError(a){this.injector.get(fE.I).logError(a)}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(u.zs3))};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac})}return f})(),r0=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=u.oAB({type:f,bootstrap:[c_]});static#n=this.\u0275inj=u.cJS({providers:[{provide:u.qLn,useClass:n0},fE.I],imports:[g.b2,ys.JF,Ci.Bz,Ou,fh,qr,gd,qf,ul.yb,Ap,WE.ww,mc.hO.initializeApp(Cf_firebase),ph(()=>Xy(Cf_firebase)),Ku(()=>hn()),hE(()=>Rv()),fn.UX,fn.u5,Ci.Bz]})}return f})();g.q6().bootstrapModule(r0).catch(f=>console.error(f))},5619:(Jt,Ye,B)=>{B.d(Ye,{X:()=>u});var g=B(8645);class u extends g.x{constructor(be){super(),this._value=be}get value(){return this.getValue()}_subscribe(be){const me=super._subscribe(be);return!me.closed&&be.next(this._value),me}getValue(){const{hasError:be,thrownError:me,_value:Ae}=this;if(be)throw me;return this._throwIfClosed(),Ae}next(be){super.next(this._value=be)}}},5592:(Jt,Ye,B)=>{B.d(Ye,{y:()=>De});var g=B(305),u=B(7394),G=B(4850),be=B(8407),me=B(2653),Ae=B(4674),Se=B(1441);let De=(()=>{class ye{constructor(rt){rt&&(this._subscribe=rt)}lift(rt){const mt=new ye;return mt.source=this,mt.operator=rt,mt}subscribe(rt,mt,ft){const wt=function oe(ye){return ye&&ye instanceof g.Lv||function te(ye){return ye&&(0,Ae.m)(ye.next)&&(0,Ae.m)(ye.error)&&(0,Ae.m)(ye.complete)}(ye)&&(0,u.Nn)(ye)}(rt)?rt:new g.Hp(rt,mt,ft);return(0,Se.x)(()=>{const{operator:Et,source:nn}=this;wt.add(Et?Et.call(wt,nn):nn?this._subscribe(wt):this._trySubscribe(wt))}),wt}_trySubscribe(rt){try{return this._subscribe(rt)}catch(mt){rt.error(mt)}}forEach(rt,mt){return new(mt=We(mt))((ft,wt)=>{const Et=new g.Hp({next:nn=>{try{rt(nn)}catch(qe){wt(qe),Et.unsubscribe()}},error:wt,complete:ft});this.subscribe(Et)})}_subscribe(rt){var mt;return null===(mt=this.source)||void 0===mt?void 0:mt.subscribe(rt)}[G.L](){return this}pipe(...rt){return(0,be.U)(rt)(this)}toPromise(rt){return new(rt=We(rt))((mt,ft)=>{let wt;this.subscribe(Et=>wt=Et,Et=>ft(Et),()=>mt(wt))})}}return ye.create=st=>new ye(st),ye})();function We(ye){var st;return null!==(st=ye??me.config.Promise)&&void 0!==st?st:Promise}},8645:(Jt,Ye,B)=>{B.d(Ye,{x:()=>Se});var g=B(5592),u=B(7394);const be=(0,B(2306).d)(We=>function(){We(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=B(9039),Ae=B(1441);let Se=(()=>{class We extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(oe){const ye=new De(this,this);return ye.operator=oe,ye}_throwIfClosed(){if(this.closed)throw new be}next(oe){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ye of this.currentObservers)ye.next(oe)}})}error(oe){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=oe;const{observers:ye}=this;for(;ye.length;)ye.shift().error(oe)}})}complete(){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:oe}=this;for(;oe.length;)oe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var oe;return(null===(oe=this.observers)||void 0===oe?void 0:oe.length)>0}_trySubscribe(oe){return this._throwIfClosed(),super._trySubscribe(oe)}_subscribe(oe){return this._throwIfClosed(),this._checkFinalizedStatuses(oe),this._innerSubscribe(oe)}_innerSubscribe(oe){const{hasError:ye,isStopped:st,observers:rt}=this;return ye||st?u.Lc:(this.currentObservers=null,rt.push(oe),new u.w0(()=>{this.currentObservers=null,(0,me.P)(rt,oe)}))}_checkFinalizedStatuses(oe){const{hasError:ye,thrownError:st,isStopped:rt}=this;ye?oe.error(st):rt&&oe.complete()}asObservable(){const oe=new g.y;return oe.source=this,oe}}return We.create=(te,oe)=>new De(te,oe),We})();class De extends Se{constructor(te,oe){super(),this.destination=te,this.source=oe}next(te){var oe,ye;null===(ye=null===(oe=this.destination)||void 0===oe?void 0:oe.next)||void 0===ye||ye.call(oe,te)}error(te){var oe,ye;null===(ye=null===(oe=this.destination)||void 0===oe?void 0:oe.error)||void 0===ye||ye.call(oe,te)}complete(){var te,oe;null===(oe=null===(te=this.destination)||void 0===te?void 0:te.complete)||void 0===oe||oe.call(te)}_subscribe(te){var oe,ye;return null!==(ye=null===(oe=this.source)||void 0===oe?void 0:oe.subscribe(te))&&void 0!==ye?ye:u.Lc}}},305:(Jt,Ye,B)=>{B.d(Ye,{Hp:()=>ft,Lv:()=>ye});var g=B(4674),u=B(7394),G=B(2653),be=B(3894),me=B(2420);const Ae=We("C",void 0,void 0);function We(Fe,it,He){return{kind:Fe,value:it,error:He}}var te=B(7599),oe=B(1441);class ye extends u.w0{constructor(it){super(),this.isStopped=!1,it?(this.destination=it,(0,u.Nn)(it)&&it.add(this)):this.destination=qe}static create(it,He,ct){return new ft(it,He,ct)}next(it){this.isStopped?nn(function De(Fe){return We("N",Fe,void 0)}(it),this):this._next(it)}error(it){this.isStopped?nn(function Se(Fe){return We("E",void 0,Fe)}(it),this):(this.isStopped=!0,this._error(it))}complete(){this.isStopped?nn(Ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(it){this.destination.next(it)}_error(it){try{this.destination.error(it)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const st=Function.prototype.bind;function rt(Fe,it){return st.call(Fe,it)}class mt{constructor(it){this.partialObserver=it}next(it){const{partialObserver:He}=this;if(He.next)try{He.next(it)}catch(ct){wt(ct)}}error(it){const{partialObserver:He}=this;if(He.error)try{He.error(it)}catch(ct){wt(ct)}else wt(it)}complete(){const{partialObserver:it}=this;if(it.complete)try{it.complete()}catch(He){wt(He)}}}class ft extends ye{constructor(it,He,ct){let At;if(super(),(0,g.m)(it)||!it)At={next:it??void 0,error:He??void 0,complete:ct??void 0};else{let kt;this&&G.config.useDeprecatedNextContext?(kt=Object.create(it),kt.unsubscribe=()=>this.unsubscribe(),At={next:it.next&&rt(it.next,kt),error:it.error&&rt(it.error,kt),complete:it.complete&&rt(it.complete,kt)}):At=it}this.destination=new mt(At)}}function wt(Fe){G.config.useDeprecatedSynchronousErrorHandling?(0,oe.O)(Fe):(0,be.h)(Fe)}function nn(Fe,it){const{onStoppedNotification:He}=G.config;He&&te.z.setTimeout(()=>He(Fe,it))}const qe={closed:!0,next:me.Z,error:function Et(Fe){throw Fe},complete:me.Z}},7394:(Jt,Ye,B)=>{B.d(Ye,{Lc:()=>Ae,w0:()=>me,Nn:()=>Se});var g=B(4674);const G=(0,B(2306).d)(We=>function(oe){We(this),this.message=oe?`${oe.length} errors occurred during unsubscription:\n${oe.map((ye,st)=>`${st+1}) ${ye.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=oe});var be=B(9039);class me{constructor(te){this.initialTeardown=te,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let te;if(!this.closed){this.closed=!0;const{_parentage:oe}=this;if(oe)if(this._parentage=null,Array.isArray(oe))for(const rt of oe)rt.remove(this);else oe.remove(this);const{initialTeardown:ye}=this;if((0,g.m)(ye))try{ye()}catch(rt){te=rt instanceof G?rt.errors:[rt]}const{_finalizers:st}=this;if(st){this._finalizers=null;for(const rt of st)try{De(rt)}catch(mt){te=te??[],mt instanceof G?te=[...te,...mt.errors]:te.push(mt)}}if(te)throw new G(te)}}add(te){var oe;if(te&&te!==this)if(this.closed)De(te);else{if(te instanceof me){if(te.closed||te._hasParent(this))return;te._addParent(this)}(this._finalizers=null!==(oe=this._finalizers)&&void 0!==oe?oe:[]).push(te)}}_hasParent(te){const{_parentage:oe}=this;return oe===te||Array.isArray(oe)&&oe.includes(te)}_addParent(te){const{_parentage:oe}=this;this._parentage=Array.isArray(oe)?(oe.push(te),oe):oe?[oe,te]:te}_removeParent(te){const{_parentage:oe}=this;oe===te?this._parentage=null:Array.isArray(oe)&&(0,be.P)(oe,te)}remove(te){const{_finalizers:oe}=this;oe&&(0,be.P)(oe,te),te instanceof me&&te._removeParent(this)}}me.EMPTY=(()=>{const We=new me;return We.closed=!0,We})();const Ae=me.EMPTY;function Se(We){return We instanceof me||We&&"closed"in We&&(0,g.m)(We.remove)&&(0,g.m)(We.add)&&(0,g.m)(We.unsubscribe)}function De(We){(0,g.m)(We)?We():We.unsubscribe()}},2653:(Jt,Ye,B)=>{B.d(Ye,{config:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(Jt,Ye,B)=>{B.d(Ye,{a:()=>te});var g=B(5592),u=B(7453),G=B(2459),be=B(2737),me=B(7400),Ae=B(4564),Se=B(2714),De=B(8251),We=B(7103);function te(...st){const rt=(0,Ae.yG)(st),mt=(0,Ae.jO)(st),{args:ft,keys:wt}=(0,u.D)(st);if(0===ft.length)return(0,G.D)([],rt);const Et=new g.y(function oe(st,rt,mt=be.y){return ft=>{ye(rt,()=>{const{length:wt}=st,Et=new Array(wt);let nn=wt,qe=wt;for(let Fe=0;Fe<wt;Fe++)ye(rt,()=>{const it=(0,G.D)(st[Fe],rt);let He=!1;it.subscribe((0,De.x)(ft,ct=>{Et[Fe]=ct,He||(He=!0,qe--),qe||ft.next(mt(Et.slice()))},()=>{--nn||ft.complete()}))},ft)},ft)}}(ft,rt,wt?nn=>(0,Se.n)(wt,nn):be.y));return mt?Et.pipe((0,me.Z)(mt)):Et}function ye(st,rt,mt){st?(0,We.f)(mt,st,rt):rt()}},5211:(Jt,Ye,B)=>{B.d(Ye,{z:()=>me});var g=B(7537),G=B(4564),be=B(2459);function me(...Ae){return function u(){return(0,g.J)(1)}()((0,be.D)(Ae,(0,G.yG)(Ae)))}},6232:(Jt,Ye,B)=>{B.d(Ye,{E:()=>u});const u=new(B(5592).y)(me=>me.complete())},9315:(Jt,Ye,B)=>{B.d(Ye,{D:()=>De});var g=B(5592),u=B(7453),G=B(4829),be=B(4564),me=B(8251),Ae=B(7400),Se=B(2714);function De(...We){const te=(0,be.jO)(We),{args:oe,keys:ye}=(0,u.D)(We),st=new g.y(rt=>{const{length:mt}=oe;if(!mt)return void rt.complete();const ft=new Array(mt);let wt=mt,Et=mt;for(let nn=0;nn<mt;nn++){let qe=!1;(0,G.Xf)(oe[nn]).subscribe((0,me.x)(rt,Fe=>{qe||(qe=!0,Et--),ft[nn]=Fe},()=>wt--,void 0,()=>{(!wt||!qe)&&(Et||rt.next(ye?(0,Se.n)(ye,ft):ft),rt.complete())}))}});return te?st.pipe((0,Ae.Z)(te)):st}},2459:(Jt,Ye,B)=>{B.d(Ye,{D:()=>it});var g=B(4829),u=B(3093),G=B(5137),Ae=B(5592),De=B(4971),We=B(4674),te=B(7103);function ye(He,ct){if(!He)throw new Error("Iterable cannot be null");return new Ae.y(At=>{(0,te.f)(At,ct,()=>{const kt=He[Symbol.asyncIterator]();(0,te.f)(At,ct,()=>{kt.next().then(ve=>{ve.done?At.complete():At.next(ve.value)})},0,!0)})})}var st=B(8382),rt=B(4026),mt=B(4266),ft=B(3664),wt=B(5726),Et=B(9853),nn=B(541);function it(He,ct){return ct?function Fe(He,ct){if(null!=He){if((0,st.c)(He))return function be(He,ct){return(0,g.Xf)(He).pipe((0,G.R)(ct),(0,u.Q)(ct))}(He,ct);if((0,mt.z)(He))return function Se(He,ct){return new Ae.y(At=>{let kt=0;return ct.schedule(function(){kt===He.length?At.complete():(At.next(He[kt++]),At.closed||this.schedule())})})}(He,ct);if((0,rt.t)(He))return function me(He,ct){return(0,g.Xf)(He).pipe((0,G.R)(ct),(0,u.Q)(ct))}(He,ct);if((0,wt.D)(He))return ye(He,ct);if((0,ft.T)(He))return function oe(He,ct){return new Ae.y(At=>{let kt;return(0,te.f)(At,ct,()=>{kt=He[De.h](),(0,te.f)(At,ct,()=>{let ve,jt;try{({value:ve,done:jt}=kt.next())}catch(an){return void At.error(an)}jt?At.complete():At.next(ve)},0,!0)}),()=>(0,We.m)(kt?.return)&&kt.return()})}(He,ct);if((0,nn.L)(He))return function qe(He,ct){return ye((0,nn.Q)(He),ct)}(He,ct)}throw(0,Et.z)(He)}(He,ct):(0,g.Xf)(He)}},4829:(Jt,Ye,B)=>{B.d(Ye,{Xf:()=>st});var g=B(7582),u=B(4266),G=B(4026),be=B(5592),me=B(8382),Ae=B(5726),Se=B(9853),De=B(3664),We=B(541),te=B(4674),oe=B(3894),ye=B(4850);function st(Fe){if(Fe instanceof be.y)return Fe;if(null!=Fe){if((0,me.c)(Fe))return function rt(Fe){return new be.y(it=>{const He=Fe[ye.L]();if((0,te.m)(He.subscribe))return He.subscribe(it);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Fe);if((0,u.z)(Fe))return function mt(Fe){return new be.y(it=>{for(let He=0;He<Fe.length&&!it.closed;He++)it.next(Fe[He]);it.complete()})}(Fe);if((0,G.t)(Fe))return function ft(Fe){return new be.y(it=>{Fe.then(He=>{it.closed||(it.next(He),it.complete())},He=>it.error(He)).then(null,oe.h)})}(Fe);if((0,Ae.D)(Fe))return Et(Fe);if((0,De.T)(Fe))return function wt(Fe){return new be.y(it=>{for(const He of Fe)if(it.next(He),it.closed)return;it.complete()})}(Fe);if((0,We.L)(Fe))return function nn(Fe){return Et((0,We.Q)(Fe))}(Fe)}throw(0,Se.z)(Fe)}function Et(Fe){return new be.y(it=>{(function qe(Fe,it){var He,ct,At,kt;return(0,g.mG)(this,void 0,void 0,function*(){try{for(He=(0,g.KL)(Fe);!(ct=yield He.next()).done;)if(it.next(ct.value),it.closed)return}catch(ve){At={error:ve}}finally{try{ct&&!ct.done&&(kt=He.return)&&(yield kt.call(He))}finally{if(At)throw At.error}}it.complete()})})(Fe,it).catch(He=>it.error(He))})}},3019:(Jt,Ye,B)=>{B.d(Ye,{T:()=>Ae});var g=B(7537),u=B(4829),G=B(6232),be=B(4564),me=B(2459);function Ae(...Se){const De=(0,be.yG)(Se),We=(0,be._6)(Se,1/0),te=Se;return te.length?1===te.length?(0,u.Xf)(te[0]):(0,g.J)(We)((0,me.D)(te,De)):G.E}},2096:(Jt,Ye,B)=>{B.d(Ye,{of:()=>G});var g=B(4564),u=B(2459);function G(...be){const me=(0,g.yG)(be);return(0,u.D)(be,me)}},8504:(Jt,Ye,B)=>{B.d(Ye,{_:()=>G});var g=B(5592),u=B(4674);function G(be,me){const Ae=(0,u.m)(be)?be:()=>be,Se=De=>De.error(Ae());return new g.y(me?De=>me.schedule(Se,0,De):Se)}},8251:(Jt,Ye,B)=>{B.d(Ye,{x:()=>u});var g=B(305);function u(be,me,Ae,Se,De){return new G(be,me,Ae,Se,De)}class G extends g.Lv{constructor(me,Ae,Se,De,We,te){super(me),this.onFinalize=We,this.shouldUnsubscribe=te,this._next=Ae?function(oe){try{Ae(oe)}catch(ye){me.error(ye)}}:super._next,this._error=De?function(oe){try{De(oe)}catch(ye){me.error(ye)}finally{this.unsubscribe()}}:super._error,this._complete=Se?function(){try{Se()}catch(oe){me.error(oe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ae}=this;super.unsubscribe(),!Ae&&(null===(me=this.onFinalize)||void 0===me||me.call(this))}}}},6306:(Jt,Ye,B)=>{B.d(Ye,{K:()=>be});var g=B(4829),u=B(8251),G=B(9360);function be(me){return(0,G.e)((Ae,Se)=>{let te,De=null,We=!1;De=Ae.subscribe((0,u.x)(Se,void 0,void 0,oe=>{te=(0,g.Xf)(me(oe,be(me)(Ae))),De?(De.unsubscribe(),De=null,te.subscribe(Se)):We=!0})),We&&(De.unsubscribe(),De=null,te.subscribe(Se))})}},6328:(Jt,Ye,B)=>{B.d(Ye,{b:()=>G});var g=B(1631),u=B(4674);function G(be,me){return(0,u.m)(me)?(0,g.z)(be,me,1):(0,g.z)(be,1)}},3572:(Jt,Ye,B)=>{B.d(Ye,{d:()=>G});var g=B(9360),u=B(8251);function G(be){return(0,g.e)((me,Ae)=>{let Se=!1;me.subscribe((0,u.x)(Ae,De=>{Se=!0,Ae.next(De)},()=>{Se||Ae.next(be),Ae.complete()}))})}},3997:(Jt,Ye,B)=>{B.d(Ye,{x:()=>be});var g=B(2737),u=B(9360),G=B(8251);function be(Ae,Se=g.y){return Ae=Ae??me,(0,u.e)((De,We)=>{let te,oe=!0;De.subscribe((0,G.x)(We,ye=>{const st=Se(ye);(oe||!Ae(te,st))&&(oe=!1,te=st,We.next(ye))}))})}function me(Ae,Se){return Ae===Se}},2181:(Jt,Ye,B)=>{B.d(Ye,{h:()=>G});var g=B(9360),u=B(8251);function G(be,me){return(0,g.e)((Ae,Se)=>{let De=0;Ae.subscribe((0,u.x)(Se,We=>be.call(me,We,De++)&&Se.next(We)))})}},4716:(Jt,Ye,B)=>{B.d(Ye,{x:()=>u});var g=B(9360);function u(G){return(0,g.e)((be,me)=>{try{be.subscribe(me)}finally{me.add(G)}})}},1374:(Jt,Ye,B)=>{B.d(Ye,{P:()=>Se});var g=B(6973),u=B(2181),G=B(8180),be=B(3572),me=B(3026),Ae=B(2737);function Se(De,We){const te=arguments.length>=2;return oe=>oe.pipe(De?(0,u.h)((ye,st)=>De(ye,st,oe)):Ae.y,(0,G.q)(1),te?(0,be.d)(We):(0,me.T)(()=>new g.K))}},7398:(Jt,Ye,B)=>{B.d(Ye,{U:()=>G});var g=B(9360),u=B(8251);function G(be,me){return(0,g.e)((Ae,Se)=>{let De=0;Ae.subscribe((0,u.x)(Se,We=>{Se.next(be.call(me,We,De++))}))})}},7537:(Jt,Ye,B)=>{B.d(Ye,{J:()=>G});var g=B(1631),u=B(2737);function G(be=1/0){return(0,g.z)(u.y,be)}},1631:(Jt,Ye,B)=>{B.d(Ye,{z:()=>De});var g=B(7398),u=B(4829),G=B(9360),be=B(7103),me=B(8251),Se=B(4674);function De(We,te,oe=1/0){return(0,Se.m)(te)?De((ye,st)=>(0,g.U)((rt,mt)=>te(ye,rt,st,mt))((0,u.Xf)(We(ye,st))),oe):("number"==typeof te&&(oe=te),(0,G.e)((ye,st)=>function Ae(We,te,oe,ye,st,rt,mt,ft){const wt=[];let Et=0,nn=0,qe=!1;const Fe=()=>{qe&&!wt.length&&!Et&&te.complete()},it=ct=>Et<ye?He(ct):wt.push(ct),He=ct=>{rt&&te.next(ct),Et++;let At=!1;(0,u.Xf)(oe(ct,nn++)).subscribe((0,me.x)(te,kt=>{st?.(kt),rt?it(kt):te.next(kt)},()=>{At=!0},void 0,()=>{if(At)try{for(Et--;wt.length&&Et<ye;){const kt=wt.shift();mt?(0,be.f)(te,mt,()=>He(kt)):He(kt)}Fe()}catch(kt){te.error(kt)}}))};return We.subscribe((0,me.x)(te,it,()=>{qe=!0,Fe()})),()=>{ft?.()}}(ye,st,We,oe)))}},3093:(Jt,Ye,B)=>{B.d(Ye,{Q:()=>be});var g=B(7103),u=B(9360),G=B(8251);function be(me,Ae=0){return(0,u.e)((Se,De)=>{Se.subscribe((0,G.x)(De,We=>(0,g.f)(De,me,()=>De.next(We),Ae),()=>(0,g.f)(De,me,()=>De.complete(),Ae),We=>(0,g.f)(De,me,()=>De.error(We),Ae)))})}},6699:(Jt,Ye,B)=>{B.d(Ye,{R:()=>be});var g=B(9360),u=B(8251);function be(me,Ae){return(0,g.e)(function G(me,Ae,Se,De,We){return(te,oe)=>{let ye=Se,st=Ae,rt=0;te.subscribe((0,u.x)(oe,mt=>{const ft=rt++;st=ye?me(st,mt,ft):(ye=!0,mt),De&&oe.next(st)},We&&(()=>{ye&&oe.next(st),oe.complete()})))}}(me,Ae,arguments.length>=2,!0))}},3020:(Jt,Ye,B)=>{B.d(Ye,{B:()=>me});var g=B(4829),u=B(8645),G=B(305),be=B(9360);function me(Se={}){const{connector:De=(()=>new u.x),resetOnError:We=!0,resetOnComplete:te=!0,resetOnRefCountZero:oe=!0}=Se;return ye=>{let st,rt,mt,ft=0,wt=!1,Et=!1;const nn=()=>{rt?.unsubscribe(),rt=void 0},qe=()=>{nn(),st=mt=void 0,wt=Et=!1},Fe=()=>{const it=st;qe(),it?.unsubscribe()};return(0,be.e)((it,He)=>{ft++,!Et&&!wt&&nn();const ct=mt=mt??De();He.add(()=>{ft--,0===ft&&!Et&&!wt&&(rt=Ae(Fe,oe))}),ct.subscribe(He),!st&&ft>0&&(st=new G.Hp({next:At=>ct.next(At),error:At=>{Et=!0,nn(),rt=Ae(qe,We,At),ct.error(At)},complete:()=>{wt=!0,nn(),rt=Ae(qe,te),ct.complete()}}),(0,g.Xf)(it).subscribe(st))})(ye)}}function Ae(Se,De,...We){if(!0===De)return void Se();if(!1===De)return;const te=new G.Hp({next:()=>{te.unsubscribe(),Se()}});return(0,g.Xf)(De(...We)).subscribe(te)}},7921:(Jt,Ye,B)=>{B.d(Ye,{O:()=>be});var g=B(5211),u=B(4564),G=B(9360);function be(...me){const Ae=(0,u.yG)(me);return(0,G.e)((Se,De)=>{(Ae?(0,g.z)(me,Se,Ae):(0,g.z)(me,Se)).subscribe(De)})}},5137:(Jt,Ye,B)=>{B.d(Ye,{R:()=>u});var g=B(9360);function u(G,be=0){return(0,g.e)((me,Ae)=>{Ae.add(G.schedule(()=>me.subscribe(Ae),be))})}},4664:(Jt,Ye,B)=>{B.d(Ye,{w:()=>be});var g=B(4829),u=B(9360),G=B(8251);function be(me,Ae){return(0,u.e)((Se,De)=>{let We=null,te=0,oe=!1;const ye=()=>oe&&!We&&De.complete();Se.subscribe((0,G.x)(De,st=>{We?.unsubscribe();let rt=0;const mt=te++;(0,g.Xf)(me(st,mt)).subscribe(We=(0,G.x)(De,ft=>De.next(Ae?Ae(st,ft,mt,rt++):ft),()=>{We=null,ye()}))},()=>{oe=!0,ye()}))})}},8180:(Jt,Ye,B)=>{B.d(Ye,{q:()=>be});var g=B(6232),u=B(9360),G=B(8251);function be(me){return me<=0?()=>g.E:(0,u.e)((Ae,Se)=>{let De=0;Ae.subscribe((0,G.x)(Se,We=>{++De<=me&&(Se.next(We),me<=De&&Se.complete())}))})}},9773:(Jt,Ye,B)=>{B.d(Ye,{R:()=>me});var g=B(9360),u=B(8251),G=B(4829),be=B(2420);function me(Ae){return(0,g.e)((Se,De)=>{(0,G.Xf)(Ae).subscribe((0,u.x)(De,()=>De.complete(),be.Z)),!De.closed&&Se.subscribe(De)})}},9397:(Jt,Ye,B)=>{B.d(Ye,{b:()=>me});var g=B(4674),u=B(9360),G=B(8251),be=B(2737);function me(Ae,Se,De){const We=(0,g.m)(Ae)||Se||De?{next:Ae,error:Se,complete:De}:Ae;return We?(0,u.e)((te,oe)=>{var ye;null===(ye=We.subscribe)||void 0===ye||ye.call(We);let st=!0;te.subscribe((0,G.x)(oe,rt=>{var mt;null===(mt=We.next)||void 0===mt||mt.call(We,rt),oe.next(rt)},()=>{var rt;st=!1,null===(rt=We.complete)||void 0===rt||rt.call(We),oe.complete()},rt=>{var mt;st=!1,null===(mt=We.error)||void 0===mt||mt.call(We,rt),oe.error(rt)},()=>{var rt,mt;st&&(null===(rt=We.unsubscribe)||void 0===rt||rt.call(We)),null===(mt=We.finalize)||void 0===mt||mt.call(We)}))}):be.y}},3026:(Jt,Ye,B)=>{B.d(Ye,{T:()=>be});var g=B(6973),u=B(9360),G=B(8251);function be(Ae=me){return(0,u.e)((Se,De)=>{let We=!1;Se.subscribe((0,G.x)(De,te=>{We=!0,De.next(te)},()=>We?De.complete():De.error(Ae())))})}function me(){return new g.K}},1954:(Jt,Ye,B)=>{B.d(Ye,{o:()=>me});var g=B(7394);class u extends g.w0{constructor(Se,De){super()}schedule(Se,De=0){return this}}const G={setInterval(Ae,Se,...De){const{delegate:We}=G;return We?.setInterval?We.setInterval(Ae,Se,...De):setInterval(Ae,Se,...De)},clearInterval(Ae){const{delegate:Se}=G;return(Se?.clearInterval||clearInterval)(Ae)},delegate:void 0};var be=B(9039);class me extends u{constructor(Se,De){super(Se,De),this.scheduler=Se,this.work=De,this.pending=!1}schedule(Se,De=0){var We;if(this.closed)return this;this.state=Se;const te=this.id,oe=this.scheduler;return null!=te&&(this.id=this.recycleAsyncId(oe,te,De)),this.pending=!0,this.delay=De,this.id=null!==(We=this.id)&&void 0!==We?We:this.requestAsyncId(oe,this.id,De),this}requestAsyncId(Se,De,We=0){return G.setInterval(Se.flush.bind(Se,this),We)}recycleAsyncId(Se,De,We=0){if(null!=We&&this.delay===We&&!1===this.pending)return De;null!=De&&G.clearInterval(De)}execute(Se,De){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const We=this._execute(Se,De);if(We)return We;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Se,De){let te,We=!1;try{this.work(Se)}catch(oe){We=!0,te=oe||new Error("Scheduled action threw falsy error")}if(We)return this.unsubscribe(),te}unsubscribe(){if(!this.closed){const{id:Se,scheduler:De}=this,{actions:We}=De;this.work=this.state=this.scheduler=null,this.pending=!1,(0,be.P)(We,this),null!=Se&&(this.id=this.recycleAsyncId(De,Se,null)),this.delay=null,super.unsubscribe()}}}},2631:(Jt,Ye,B)=>{B.d(Ye,{v:()=>G});var g=B(4552);class u{constructor(me,Ae=u.now){this.schedulerActionCtor=me,this.now=Ae}schedule(me,Ae=0,Se){return new this.schedulerActionCtor(this,me).schedule(Se,Ae)}}u.now=g.l.now;class G extends u{constructor(me,Ae=u.now){super(me,Ae),this.actions=[],this._active=!1}flush(me){const{actions:Ae}=this;if(this._active)return void Ae.push(me);let Se;this._active=!0;do{if(Se=me.execute(me.state,me.delay))break}while(me=Ae.shift());if(this._active=!1,Se){for(;me=Ae.shift();)me.unsubscribe();throw Se}}}},6321:(Jt,Ye,B)=>{B.d(Ye,{z:()=>G});var g=B(1954);const G=new(B(2631).v)(g.o)},4552:(Jt,Ye,B)=>{B.d(Ye,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},7599:(Jt,Ye,B)=>{B.d(Ye,{z:()=>g});const g={setTimeout(u,G,...be){const{delegate:me}=g;return me?.setTimeout?me.setTimeout(u,G,...be):setTimeout(u,G,...be)},clearTimeout(u){const{delegate:G}=g;return(G?.clearTimeout||clearTimeout)(u)},delegate:void 0}},4971:(Jt,Ye,B)=>{B.d(Ye,{h:()=>u});const u=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Jt,Ye,B)=>{B.d(Ye,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Jt,Ye,B)=>{B.d(Ye,{K:()=>u});const u=(0,B(2306).d)(G=>function(){G(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(Jt,Ye,B)=>{B.d(Ye,{_6:()=>Ae,jO:()=>be,yG:()=>me});var g=B(4674);function G(Se){return Se[Se.length-1]}function be(Se){return(0,g.m)(G(Se))?Se.pop():void 0}function me(Se){return function u(Se){return Se&&(0,g.m)(Se.schedule)}(G(Se))?Se.pop():void 0}function Ae(Se,De){return"number"==typeof G(Se)?Se.pop():De}},7453:(Jt,Ye,B)=>{B.d(Ye,{D:()=>me});const{isArray:g}=Array,{getPrototypeOf:u,prototype:G,keys:be}=Object;function me(Se){if(1===Se.length){const De=Se[0];if(g(De))return{args:De,keys:null};if(function Ae(Se){return Se&&"object"==typeof Se&&u(Se)===G}(De)){const We=be(De);return{args:We.map(te=>De[te]),keys:We}}}return{args:Se,keys:null}}},9039:(Jt,Ye,B)=>{function g(u,G){if(u){const be=u.indexOf(G);0<=be&&u.splice(be,1)}}B.d(Ye,{P:()=>g})},2306:(Jt,Ye,B)=>{function g(u){const be=u(me=>{Error.call(me),me.stack=(new Error).stack});return be.prototype=Object.create(Error.prototype),be.prototype.constructor=be,be}B.d(Ye,{d:()=>g})},2714:(Jt,Ye,B)=>{function g(u,G){return u.reduce((be,me,Ae)=>(be[me]=G[Ae],be),{})}B.d(Ye,{n:()=>g})},1441:(Jt,Ye,B)=>{B.d(Ye,{O:()=>be,x:()=>G});var g=B(2653);let u=null;function G(me){if(g.config.useDeprecatedSynchronousErrorHandling){const Ae=!u;if(Ae&&(u={errorThrown:!1,error:null}),me(),Ae){const{errorThrown:Se,error:De}=u;if(u=null,Se)throw De}}else me()}function be(me){g.config.useDeprecatedSynchronousErrorHandling&&u&&(u.errorThrown=!0,u.error=me)}},7103:(Jt,Ye,B)=>{function g(u,G,be,me=0,Ae=!1){const Se=G.schedule(function(){be(),Ae?u.add(this.schedule(null,me)):this.unsubscribe()},me);if(u.add(Se),!Ae)return Se}B.d(Ye,{f:()=>g})},2737:(Jt,Ye,B)=>{function g(u){return u}B.d(Ye,{y:()=>g})},4266:(Jt,Ye,B)=>{B.d(Ye,{z:()=>g});const g=u=>u&&"number"==typeof u.length&&"function"!=typeof u},5726:(Jt,Ye,B)=>{B.d(Ye,{D:()=>u});var g=B(4674);function u(G){return Symbol.asyncIterator&&(0,g.m)(G?.[Symbol.asyncIterator])}},4674:(Jt,Ye,B)=>{function g(u){return"function"==typeof u}B.d(Ye,{m:()=>g})},8382:(Jt,Ye,B)=>{B.d(Ye,{c:()=>G});var g=B(4850),u=B(4674);function G(be){return(0,u.m)(be[g.L])}},3664:(Jt,Ye,B)=>{B.d(Ye,{T:()=>G});var g=B(4971),u=B(4674);function G(be){return(0,u.m)(be?.[g.h])}},4026:(Jt,Ye,B)=>{B.d(Ye,{t:()=>u});var g=B(4674);function u(G){return(0,g.m)(G?.then)}},541:(Jt,Ye,B)=>{B.d(Ye,{L:()=>be,Q:()=>G});var g=B(7582),u=B(4674);function G(me){return(0,g.FC)(this,arguments,function*(){const Se=me.getReader();try{for(;;){const{value:De,done:We}=yield(0,g.qq)(Se.read());if(We)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(De)}}finally{Se.releaseLock()}})}function be(me){return(0,u.m)(me?.getReader)}},9360:(Jt,Ye,B)=>{B.d(Ye,{A:()=>u,e:()=>G});var g=B(4674);function u(be){return(0,g.m)(be?.lift)}function G(be){return me=>{if(u(me))return me.lift(function(Ae){try{return be(Ae,this)}catch(Se){this.error(Se)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Jt,Ye,B)=>{B.d(Ye,{Z:()=>be});var g=B(7398);const{isArray:u}=Array;function be(me){return(0,g.U)(Ae=>function G(me,Ae){return u(Ae)?me(...Ae):me(Ae)}(me,Ae))}},2420:(Jt,Ye,B)=>{function g(){}B.d(Ye,{Z:()=>g})},8407:(Jt,Ye,B)=>{B.d(Ye,{U:()=>G,z:()=>u});var g=B(2737);function u(...be){return G(be)}function G(be){return 0===be.length?g.y:1===be.length?be[0]:function(Ae){return be.reduce((Se,De)=>De(Se),Ae)}}},3894:(Jt,Ye,B)=>{B.d(Ye,{h:()=>G});var g=B(2653),u=B(7599);function G(be){u.z.setTimeout(()=>{const{onUnhandledError:me}=g.config;if(!me)throw be;me(be)})}},9853:(Jt,Ye,B)=>{function g(u){return new TypeError(`You provided ${null!==u&&"object"==typeof u?"an invalid object":`'${u}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}B.d(Ye,{z:()=>g})},6814:(Jt,Ye,B)=>{B.d(Ye,{Do:()=>ft,EM:()=>Si,HT:()=>be,JF:()=>Hs,K0:()=>Ae,Mx:()=>wn,NF:()=>fs,O5:()=>Qi,Ov:()=>mi,PM:()=>kr,S$:()=>st,Ts:()=>Wi,V_:()=>De,Ye:()=>wt,b0:()=>mt,bD:()=>Cr,ez:()=>ds,mk:()=>Ln,q:()=>G,sg:()=>nr,uU:()=>ri,w_:()=>me});var g=B(5879);let u=null;function G(){return u}function be(P){u||(u=P)}class me{}const Ae=new g.OlP("DocumentToken");let Se=(()=>{class P{historyGo(j){throw new Error("Not implemented")}static#e=this.\u0275fac=function(J){return new(J||P)};static#t=this.\u0275prov=g.Yz7({token:P,factory:function(){return(0,g.f3M)(We)},providedIn:"platform"})}return P})();const De=new g.OlP("Location Initialized");let We=(()=>{class P extends Se{constructor(){super(),this._doc=(0,g.f3M)(Ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return G().getBaseHref(this._doc)}onPopState(j){const J=G().getGlobalEventTarget(this._doc,"window");return J.addEventListener("popstate",j,!1),()=>J.removeEventListener("popstate",j)}onHashChange(j){const J=G().getGlobalEventTarget(this._doc,"window");return J.addEventListener("hashchange",j,!1),()=>J.removeEventListener("hashchange",j)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(j){this._location.pathname=j}pushState(j,J,Ie){this._history.pushState(j,J,Ie)}replaceState(j,J,Ie){this._history.replaceState(j,J,Ie)}forward(){this._history.forward()}back(){this._history.back()}historyGo(j=0){this._history.go(j)}getState(){return this._history.state}static#e=this.\u0275fac=function(J){return new(J||P)};static#t=this.\u0275prov=g.Yz7({token:P,factory:function(){return new P},providedIn:"platform"})}return P})();function te(P,ne){if(0==P.length)return ne;if(0==ne.length)return P;let j=0;return P.endsWith("/")&&j++,ne.startsWith("/")&&j++,2==j?P+ne.substring(1):1==j?P+ne:P+"/"+ne}function oe(P){const ne=P.match(/#|\?|$/),j=ne&&ne.index||P.length;return P.slice(0,j-("/"===P[j-1]?1:0))+P.slice(j)}function ye(P){return P&&"?"!==P[0]?"?"+P:P}let st=(()=>{class P{historyGo(j){throw new Error("Not implemented")}static#e=this.\u0275fac=function(J){return new(J||P)};static#t=this.\u0275prov=g.Yz7({token:P,factory:function(){return(0,g.f3M)(mt)},providedIn:"root"})}return P})();const rt=new g.OlP("appBaseHref");let mt=(()=>{class P extends st{constructor(j,J){super(),this._platformLocation=j,this._removeListenerFns=[],this._baseHref=J??this._platformLocation.getBaseHrefFromDOM()??(0,g.f3M)(Ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}prepareExternalUrl(j){return te(this._baseHref,j)}path(j=!1){const J=this._platformLocation.pathname+ye(this._platformLocation.search),Ie=this._platformLocation.hash;return Ie&&j?`${J}${Ie}`:J}pushState(j,J,Ie,_t){const Mt=this.prepareExternalUrl(Ie+ye(_t));this._platformLocation.pushState(j,J,Mt)}replaceState(j,J,Ie,_t){const Mt=this.prepareExternalUrl(Ie+ye(_t));this._platformLocation.replaceState(j,J,Mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static#e=this.\u0275fac=function(J){return new(J||P)(g.LFG(Se),g.LFG(rt,8))};static#t=this.\u0275prov=g.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})(),ft=(()=>{class P extends st{constructor(j,J){super(),this._platformLocation=j,this._baseHref="",this._removeListenerFns=[],null!=J&&(this._baseHref=J)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){let J=this._platformLocation.hash;return null==J&&(J="#"),J.length>0?J.substring(1):J}prepareExternalUrl(j){const J=te(this._baseHref,j);return J.length>0?"#"+J:J}pushState(j,J,Ie,_t){let Mt=this.prepareExternalUrl(Ie+ye(_t));0==Mt.length&&(Mt=this._platformLocation.pathname),this._platformLocation.pushState(j,J,Mt)}replaceState(j,J,Ie,_t){let Mt=this.prepareExternalUrl(Ie+ye(_t));0==Mt.length&&(Mt=this._platformLocation.pathname),this._platformLocation.replaceState(j,J,Mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static#e=this.\u0275fac=function(J){return new(J||P)(g.LFG(Se),g.LFG(rt,8))};static#t=this.\u0275prov=g.Yz7({token:P,factory:P.\u0275fac})}return P})(),wt=(()=>{class P{constructor(j){this._subject=new g.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=j;const J=this._locationStrategy.getBaseHref();this._basePath=function Fe(P){if(new RegExp("^(https?:)?//").test(P)){const[,j]=P.split(/\/\/[^\/]+/);return j}return P}(oe(qe(J))),this._locationStrategy.onPopState(Ie=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ie.state,type:Ie.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(j=!1){return this.normalize(this._locationStrategy.path(j))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(j,J=""){return this.path()==this.normalize(j+ye(J))}normalize(j){return P.stripTrailingSlash(function nn(P,ne){if(!P||!ne.startsWith(P))return ne;const j=ne.substring(P.length);return""===j||["/",";","?","#"].includes(j[0])?j:ne}(this._basePath,qe(j)))}prepareExternalUrl(j){return j&&"/"!==j[0]&&(j="/"+j),this._locationStrategy.prepareExternalUrl(j)}go(j,J="",Ie=null){this._locationStrategy.pushState(Ie,"",j,J),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+ye(J)),Ie)}replaceState(j,J="",Ie=null){this._locationStrategy.replaceState(Ie,"",j,J),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+ye(J)),Ie)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(j=0){this._locationStrategy.historyGo?.(j)}onUrlChange(j){return this._urlChangeListeners.push(j),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(J=>{this._notifyUrlChangeListeners(J.url,J.state)})),()=>{const J=this._urlChangeListeners.indexOf(j);this._urlChangeListeners.splice(J,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(j="",J){this._urlChangeListeners.forEach(Ie=>Ie(j,J))}subscribe(j,J,Ie){return this._subject.subscribe({next:j,error:J,complete:Ie})}static#e=this.normalizeQueryParams=ye;static#t=this.joinWithSlash=te;static#n=this.stripTrailingSlash=oe;static#r=this.\u0275fac=function(J){return new(J||P)(g.LFG(st))};static#i=this.\u0275prov=g.Yz7({token:P,factory:function(){return function Et(){return new wt((0,g.LFG)(st))}()},providedIn:"root"})}return P})();function qe(P){return P.replace(/\/index.html$/,"")}var At=function(P){return P[P.Format=0]="Format",P[P.Standalone=1]="Standalone",P}(At||{}),kt=function(P){return P[P.Narrow=0]="Narrow",P[P.Abbreviated=1]="Abbreviated",P[P.Wide=2]="Wide",P[P.Short=3]="Short",P}(kt||{}),ve=function(P){return P[P.Short=0]="Short",P[P.Medium=1]="Medium",P[P.Long=2]="Long",P[P.Full=3]="Full",P}(ve||{}),jt=function(P){return P[P.Decimal=0]="Decimal",P[P.Group=1]="Group",P[P.List=2]="List",P[P.PercentSign=3]="PercentSign",P[P.PlusSign=4]="PlusSign",P[P.MinusSign=5]="MinusSign",P[P.Exponential=6]="Exponential",P[P.SuperscriptingExponent=7]="SuperscriptingExponent",P[P.PerMille=8]="PerMille",P[P.Infinity=9]="Infinity",P[P.NaN=10]="NaN",P[P.TimeSeparator=11]="TimeSeparator",P[P.CurrencyDecimal=12]="CurrencyDecimal",P[P.CurrencyGroup=13]="CurrencyGroup",P}(jt||{});function ke(P,ne){return or((0,g.cg1)(P)[g.wAp.DateFormat],ne)}function Je(P,ne){return or((0,g.cg1)(P)[g.wAp.TimeFormat],ne)}function Xe(P,ne){return or((0,g.cg1)(P)[g.wAp.DateTimeFormat],ne)}function ut(P,ne){const j=(0,g.cg1)(P),J=j[g.wAp.NumberSymbols][ne];if(typeof J>"u"){if(ne===jt.CurrencyDecimal)return j[g.wAp.NumberSymbols][jt.Decimal];if(ne===jt.CurrencyGroup)return j[g.wAp.NumberSymbols][jt.Group]}return J}function Cn(P){if(!P[g.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${P[g.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function or(P,ne){for(let j=ne;j>-1;j--)if(typeof P[j]<"u")return P[j];throw new Error("Locale data API: locale data undefined")}function Gn(P){const[ne,j]=P.split(":");return{hours:+ne,minutes:+j}}const Ar=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Yn={},Vt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var bn=function(P){return P[P.Short=0]="Short",P[P.ShortGMT=1]="ShortGMT",P[P.Long=2]="Long",P[P.Extended=3]="Extended",P}(bn||{}),Rn=function(P){return P[P.FullYear=0]="FullYear",P[P.Month=1]="Month",P[P.Date=2]="Date",P[P.Hours=3]="Hours",P[P.Minutes=4]="Minutes",P[P.Seconds=5]="Seconds",P[P.FractionalSeconds=6]="FractionalSeconds",P[P.Day=7]="Day",P}(Rn||{}),On=function(P){return P[P.DayPeriods=0]="DayPeriods",P[P.Days=1]="Days",P[P.Months=2]="Months",P[P.Eras=3]="Eras",P}(On||{});function yr(P,ne,j,J){let Ie=function re(P){if($(P))return P;if("number"==typeof P&&!isNaN(P))return new Date(P);if("string"==typeof P){if(P=P.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(P)){const[Ie,_t=1,Mt=1]=P.split("-").map(_n=>+_n);return vr(Ie,_t-1,Mt)}const j=parseFloat(P);if(!isNaN(P-j))return new Date(j);let J;if(J=P.match(Ar))return function W(P){const ne=new Date(0);let j=0,J=0;const Ie=P[8]?ne.setUTCFullYear:ne.setFullYear,_t=P[8]?ne.setUTCHours:ne.setHours;P[9]&&(j=Number(P[9]+P[10]),J=Number(P[9]+P[11])),Ie.call(ne,Number(P[1]),Number(P[2])-1,Number(P[3]));const Mt=Number(P[4]||0)-j,_n=Number(P[5]||0)-J,Pr=Number(P[6]||0),Wr=Math.floor(1e3*parseFloat("0."+(P[7]||0)));return _t.call(ne,Mt,_n,Pr,Wr),ne}(J)}const ne=new Date(P);if(!$(ne))throw new Error(`Unable to convert "${P}" into a date`);return ne}(P);ne=Fn(j,ne)||ne;let _n,Mt=[];for(;ne;){if(_n=Vt.exec(ne),!_n){Mt.push(ne);break}{Mt=Mt.concat(_n.slice(1));const Br=Mt.pop();if(!Br)break;ne=Br}}let Pr=Ie.getTimezoneOffset();J&&(Pr=ui(J,Pr),Ie=function xe(P,ne,j){const J=j?-1:1,Ie=P.getTimezoneOffset();return function Er(P,ne){return(P=new Date(P.getTime())).setMinutes(P.getMinutes()+ne),P}(P,J*(ui(ne,Ie)-Ie))}(Ie,J,!0));let Wr="";return Mt.forEach(Br=>{const pr=function Nn(P){if(zt[P])return zt[P];let ne;switch(P){case"G":case"GG":case"GGG":ne=tr(On.Eras,kt.Abbreviated);break;case"GGGG":ne=tr(On.Eras,kt.Wide);break;case"GGGGG":ne=tr(On.Eras,kt.Narrow);break;case"y":ne=rn(Rn.FullYear,1,0,!1,!0);break;case"yy":ne=rn(Rn.FullYear,2,0,!0,!0);break;case"yyy":ne=rn(Rn.FullYear,3,0,!1,!0);break;case"yyyy":ne=rn(Rn.FullYear,4,0,!1,!0);break;case"Y":ne=yt(1);break;case"YY":ne=yt(2,!0);break;case"YYY":ne=yt(3);break;case"YYYY":ne=yt(4);break;case"M":case"L":ne=rn(Rn.Month,1,1);break;case"MM":case"LL":ne=rn(Rn.Month,2,1);break;case"MMM":ne=tr(On.Months,kt.Abbreviated);break;case"MMMM":ne=tr(On.Months,kt.Wide);break;case"MMMMM":ne=tr(On.Months,kt.Narrow);break;case"LLL":ne=tr(On.Months,kt.Abbreviated,At.Standalone);break;case"LLLL":ne=tr(On.Months,kt.Wide,At.Standalone);break;case"LLLLL":ne=tr(On.Months,kt.Narrow,At.Standalone);break;case"w":ne=Te(1);break;case"ww":ne=Te(2);break;case"W":ne=Te(1,!0);break;case"d":ne=rn(Rn.Date,1);break;case"dd":ne=rn(Rn.Date,2);break;case"c":case"cc":ne=rn(Rn.Day,1);break;case"ccc":ne=tr(On.Days,kt.Abbreviated,At.Standalone);break;case"cccc":ne=tr(On.Days,kt.Wide,At.Standalone);break;case"ccccc":ne=tr(On.Days,kt.Narrow,At.Standalone);break;case"cccccc":ne=tr(On.Days,kt.Short,At.Standalone);break;case"E":case"EE":case"EEE":ne=tr(On.Days,kt.Abbreviated);break;case"EEEE":ne=tr(On.Days,kt.Wide);break;case"EEEEE":ne=tr(On.Days,kt.Narrow);break;case"EEEEEE":ne=tr(On.Days,kt.Short);break;case"a":case"aa":case"aaa":ne=tr(On.DayPeriods,kt.Abbreviated);break;case"aaaa":ne=tr(On.DayPeriods,kt.Wide);break;case"aaaaa":ne=tr(On.DayPeriods,kt.Narrow);break;case"b":case"bb":case"bbb":ne=tr(On.DayPeriods,kt.Abbreviated,At.Standalone,!0);break;case"bbbb":ne=tr(On.DayPeriods,kt.Wide,At.Standalone,!0);break;case"bbbbb":ne=tr(On.DayPeriods,kt.Narrow,At.Standalone,!0);break;case"B":case"BB":case"BBB":ne=tr(On.DayPeriods,kt.Abbreviated,At.Format,!0);break;case"BBBB":ne=tr(On.DayPeriods,kt.Wide,At.Format,!0);break;case"BBBBB":ne=tr(On.DayPeriods,kt.Narrow,At.Format,!0);break;case"h":ne=rn(Rn.Hours,1,-12);break;case"hh":ne=rn(Rn.Hours,2,-12);break;case"H":ne=rn(Rn.Hours,1);break;case"HH":ne=rn(Rn.Hours,2);break;case"m":ne=rn(Rn.Minutes,1);break;case"mm":ne=rn(Rn.Minutes,2);break;case"s":ne=rn(Rn.Seconds,1);break;case"ss":ne=rn(Rn.Seconds,2);break;case"S":ne=rn(Rn.FractionalSeconds,1);break;case"SS":ne=rn(Rn.FractionalSeconds,2);break;case"SSS":ne=rn(Rn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ne=br(bn.Short);break;case"ZZZZZ":ne=br(bn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ne=br(bn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ne=br(bn.Long);break;default:return null}return zt[P]=ne,ne}(Br);Wr+=pr?pr(Ie,j,Pr):"''"===Br?"'":Br.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Wr}function vr(P,ne,j){const J=new Date(0);return J.setFullYear(P,ne,j),J.setHours(0,0,0),J}function Fn(P,ne){const j=function hr(P){return(0,g.cg1)(P)[g.wAp.LocaleId]}(P);if(Yn[j]=Yn[j]||{},Yn[j][ne])return Yn[j][ne];let J="";switch(ne){case"shortDate":J=ke(P,ve.Short);break;case"mediumDate":J=ke(P,ve.Medium);break;case"longDate":J=ke(P,ve.Long);break;case"fullDate":J=ke(P,ve.Full);break;case"shortTime":J=Je(P,ve.Short);break;case"mediumTime":J=Je(P,ve.Medium);break;case"longTime":J=Je(P,ve.Long);break;case"fullTime":J=Je(P,ve.Full);break;case"short":const Ie=Fn(P,"shortTime"),_t=Fn(P,"shortDate");J=Hn(Xe(P,ve.Short),[Ie,_t]);break;case"medium":const Mt=Fn(P,"mediumTime"),_n=Fn(P,"mediumDate");J=Hn(Xe(P,ve.Medium),[Mt,_n]);break;case"long":const Pr=Fn(P,"longTime"),Wr=Fn(P,"longDate");J=Hn(Xe(P,ve.Long),[Pr,Wr]);break;case"full":const Br=Fn(P,"fullTime"),pr=Fn(P,"fullDate");J=Hn(Xe(P,ve.Full),[Br,pr])}return J&&(Yn[j][ne]=J),J}function Hn(P,ne){return ne&&(P=P.replace(/\{([^}]+)}/g,function(j,J){return null!=ne&&J in ne?ne[J]:j})),P}function $r(P,ne,j="-",J,Ie){let _t="";(P<0||Ie&&P<=0)&&(Ie?P=1-P:(P=-P,_t=j));let Mt=String(P);for(;Mt.length<ne;)Mt="0"+Mt;return J&&(Mt=Mt.slice(Mt.length-ne)),_t+Mt}function rn(P,ne,j=0,J=!1,Ie=!1){return function(_t,Mt){let _n=function gi(P,ne){switch(P){case Rn.FullYear:return ne.getFullYear();case Rn.Month:return ne.getMonth();case Rn.Date:return ne.getDate();case Rn.Hours:return ne.getHours();case Rn.Minutes:return ne.getMinutes();case Rn.Seconds:return ne.getSeconds();case Rn.FractionalSeconds:return ne.getMilliseconds();case Rn.Day:return ne.getDay();default:throw new Error(`Unknown DateType value "${P}".`)}}(P,_t);if((j>0||_n>-j)&&(_n+=j),P===Rn.Hours)0===_n&&-12===j&&(_n=12);else if(P===Rn.FractionalSeconds)return function pi(P,ne){return $r(P,3).substring(0,ne)}(_n,ne);const Pr=ut(Mt,jt.MinusSign);return $r(_n,ne,Pr,J,Ie)}}function tr(P,ne,j=At.Format,J=!1){return function(Ie,_t){return function Dr(P,ne,j,J,Ie,_t){switch(j){case On.Months:return function cn(P,ne,j){const J=(0,g.cg1)(P),_t=or([J[g.wAp.MonthsFormat],J[g.wAp.MonthsStandalone]],ne);return or(_t,j)}(ne,Ie,J)[P.getMonth()];case On.Days:return function Wt(P,ne,j){const J=(0,g.cg1)(P),_t=or([J[g.wAp.DaysFormat],J[g.wAp.DaysStandalone]],ne);return or(_t,j)}(ne,Ie,J)[P.getDay()];case On.DayPeriods:const Mt=P.getHours(),_n=P.getMinutes();if(_t){const Wr=function Mn(P){const ne=(0,g.cg1)(P);return Cn(ne),(ne[g.wAp.ExtraData][2]||[]).map(J=>"string"==typeof J?Gn(J):[Gn(J[0]),Gn(J[1])])}(ne),Br=function Kt(P,ne,j){const J=(0,g.cg1)(P);Cn(J);const _t=or([J[g.wAp.ExtraData][0],J[g.wAp.ExtraData][1]],ne)||[];return or(_t,j)||[]}(ne,Ie,J),pr=Wr.findIndex(Qr=>{if(Array.isArray(Qr)){const[Fr,Pi]=Qr,is=Mt>=Fr.hours&&_n>=Fr.minutes,Ki=Mt<Pi.hours||Mt===Pi.hours&&_n<Pi.minutes;if(Fr.hours<Pi.hours){if(is&&Ki)return!0}else if(is||Ki)return!0}else if(Qr.hours===Mt&&Qr.minutes===_n)return!0;return!1});if(-1!==pr)return Br[pr]}return function xt(P,ne,j){const J=(0,g.cg1)(P),_t=or([J[g.wAp.DayPeriodsFormat],J[g.wAp.DayPeriodsStandalone]],ne);return or(_t,j)}(ne,Ie,J)[Mt<12?0:1];case On.Eras:return function lt(P,ne){return or((0,g.cg1)(P)[g.wAp.Eras],ne)}(ne,J)[P.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${j}`)}}(Ie,_t,P,ne,j,J)}}function br(P){return function(ne,j,J){const Ie=-1*J,_t=ut(j,jt.MinusSign),Mt=Ie>0?Math.floor(Ie/60):Math.ceil(Ie/60);switch(P){case bn.Short:return(Ie>=0?"+":"")+$r(Mt,2,_t)+$r(Math.abs(Ie%60),2,_t);case bn.ShortGMT:return"GMT"+(Ie>=0?"+":"")+$r(Mt,1,_t);case bn.Long:return"GMT"+(Ie>=0?"+":"")+$r(Mt,2,_t)+":"+$r(Math.abs(Ie%60),2,_t);case bn.Extended:return 0===J?"Z":(Ie>=0?"+":"")+$r(Mt,2,_t)+":"+$r(Math.abs(Ie%60),2,_t);default:throw new Error(`Unknown zone width "${P}"`)}}}const Xr=0,$e=4;function ae(P){return vr(P.getFullYear(),P.getMonth(),P.getDate()+($e-P.getDay()))}function Te(P,ne=!1){return function(j,J){let Ie;if(ne){const _t=new Date(j.getFullYear(),j.getMonth(),1).getDay()-1,Mt=j.getDate();Ie=1+Math.floor((Mt+_t)/7)}else{const _t=ae(j),Mt=function vt(P){const ne=vr(P,Xr,1).getDay();return vr(P,0,1+(ne<=$e?$e:$e+7)-ne)}(_t.getFullYear()),_n=_t.getTime()-Mt.getTime();Ie=1+Math.round(_n/6048e5)}return $r(Ie,P,ut(J,jt.MinusSign))}}function yt(P,ne=!1){return function(j,J){return $r(ae(j).getFullYear(),P,ut(J,jt.MinusSign),ne)}}const zt={};function ui(P,ne){P=P.replace(/:/g,"");const j=Date.parse("Jan 01, 1970 00:00:00 "+P)/6e4;return isNaN(j)?ne:j}function $(P){return P instanceof Date&&!isNaN(P.valueOf())}function wn(P,ne){ne=encodeURIComponent(ne);for(const j of P.split(";")){const J=j.indexOf("="),[Ie,_t]=-1==J?[j,""]:[j.slice(0,J),j.slice(J+1)];if(Ie.trim()===ne)return decodeURIComponent(_t)}return null}const Sn=/\s+/,yn=[];let Ln=(()=>{class P{constructor(j,J,Ie,_t){this._iterableDiffers=j,this._keyValueDiffers=J,this._ngEl=Ie,this._renderer=_t,this.initialClasses=yn,this.stateMap=new Map}set klass(j){this.initialClasses=null!=j?j.trim().split(Sn):yn}set ngClass(j){this.rawClass="string"==typeof j?j.trim().split(Sn):j}ngDoCheck(){for(const J of this.initialClasses)this._updateState(J,!0);const j=this.rawClass;if(Array.isArray(j)||j instanceof Set)for(const J of j)this._updateState(J,!0);else if(null!=j)for(const J of Object.keys(j))this._updateState(J,!!j[J]);this._applyStateDiff()}_updateState(j,J){const Ie=this.stateMap.get(j);void 0!==Ie?(Ie.enabled!==J&&(Ie.changed=!0,Ie.enabled=J),Ie.touched=!0):this.stateMap.set(j,{enabled:J,changed:!0,touched:!0})}_applyStateDiff(){for(const j of this.stateMap){const J=j[0],Ie=j[1];Ie.changed?(this._toggleClass(J,Ie.enabled),Ie.changed=!1):Ie.touched||(Ie.enabled&&this._toggleClass(J,!1),this.stateMap.delete(J)),Ie.touched=!1}}_toggleClass(j,J){(j=j.trim()).length>0&&j.split(Sn).forEach(Ie=>{J?this._renderer.addClass(this._ngEl.nativeElement,Ie):this._renderer.removeClass(this._ngEl.nativeElement,Ie)})}static#e=this.\u0275fac=function(J){return new(J||P)(g.Y36(g.ZZ4),g.Y36(g.aQg),g.Y36(g.SBq),g.Y36(g.Qsj))};static#t=this.\u0275dir=g.lG2({type:P,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return P})();class Kr{constructor(ne,j,J,Ie){this.$implicit=ne,this.ngForOf=j,this.index=J,this.count=Ie}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let nr=(()=>{class P{set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}constructor(j,J,Ie){this._viewContainer=j,this._template=J,this._differs=Ie,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const J=this._viewContainer;j.forEachOperation((Ie,_t,Mt)=>{if(null==Ie.previousIndex)J.createEmbeddedView(this._template,new Kr(Ie.item,this._ngForOf,-1,-1),null===Mt?void 0:Mt);else if(null==Mt)J.remove(null===_t?void 0:_t);else if(null!==_t){const _n=J.get(_t);J.move(_n,Mt),bi(_n,Ie)}});for(let Ie=0,_t=J.length;Ie<_t;Ie++){const _n=J.get(Ie).context;_n.index=Ie,_n.count=_t,_n.ngForOf=this._ngForOf}j.forEachIdentityChange(Ie=>{bi(J.get(Ie.currentIndex),Ie)})}static ngTemplateContextGuard(j,J){return!0}static#e=this.\u0275fac=function(J){return new(J||P)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))};static#t=this.\u0275dir=g.lG2({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return P})();function bi(P,ne){P.context.$implicit=ne.item}let Qi=(()=>{class P{constructor(j,J){this._viewContainer=j,this._context=new Vr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=J}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){Ao("ngIfThen",j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){Ao("ngIfElse",j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(j,J){return!0}static#e=this.\u0275fac=function(J){return new(J||P)(g.Y36(g.s_b),g.Y36(g.Rgc))};static#t=this.\u0275dir=g.lG2({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return P})();class Vr{constructor(){this.$implicit=null,this.ngIf=null}}function Ao(P,ne){if(ne&&!ne.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,g.AaK)(ne)}'.`)}function Ji(P,ne){return new g.vHH(2100,!1)}class Aa{createSubscription(ne,j){return(0,g.rg0)(()=>ne.subscribe({next:j,error:J=>{throw J}}))}dispose(ne){(0,g.rg0)(()=>ne.unsubscribe())}}class Ii{createSubscription(ne,j){return ne.then(j,J=>{throw J})}dispose(ne){}}const Da=new Ii,bs=new Aa;let mi=(()=>{class P{constructor(j){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=j}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(j){return this._obj?j!==this._obj?(this._dispose(),this.transform(j)):this._latestValue:(j&&this._subscribe(j),this._latestValue)}_subscribe(j){this._obj=j,this._strategy=this._selectStrategy(j),this._subscription=this._strategy.createSubscription(j,J=>this._updateLatestValue(j,J))}_selectStrategy(j){if((0,g.QGY)(j))return Da;if((0,g.F4k)(j))return bs;throw Ji()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(j,J){j===this._obj&&(this._latestValue=J,this._ref.markForCheck())}static#e=this.\u0275fac=function(J){return new(J||P)(g.Y36(g.sBO,16))};static#t=this.\u0275pipe=g.Yjl({name:"async",type:P,pure:!1,standalone:!0})}return P})();const Un=new g.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Ur=new g.OlP("DATE_PIPE_DEFAULT_OPTIONS");let ri=(()=>{class P{constructor(j,J,Ie){this.locale=j,this.defaultTimezone=J,this.defaultOptions=Ie}transform(j,J,Ie,_t){if(null==j||""===j||j!=j)return null;try{return yr(j,J??this.defaultOptions?.dateFormat??"mediumDate",_t||this.locale,Ie??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Mt){throw Ji()}}static#e=this.\u0275fac=function(J){return new(J||P)(g.Y36(g.soG,16),g.Y36(Un,24),g.Y36(Ur,24))};static#t=this.\u0275pipe=g.Yjl({name:"date",type:P,pure:!0,standalone:!0})}return P})(),Wi=(()=>{class P{transform(j){return JSON.stringify(j,null,2)}static#e=this.\u0275fac=function(J){return new(J||P)};static#t=this.\u0275pipe=g.Yjl({name:"json",type:P,pure:!1,standalone:!0})}return P})(),ds=(()=>{class P{static#e=this.\u0275fac=function(J){return new(J||P)};static#t=this.\u0275mod=g.oAB({type:P});static#n=this.\u0275inj=g.cJS({})}return P})();const Cr="browser",hs="server";function fs(P){return P===Cr}function kr(P){return P===hs}let Si=(()=>{class P{static#e=this.\u0275prov=(0,g.Yz7)({token:P,providedIn:"root",factory:()=>new gs((0,g.LFG)(Ae),window)})}return P})();class gs{constructor(ne,j){this.document=ne,this.window=j,this.offset=()=>[0,0]}setOffset(ne){this.offset=Array.isArray(ne)?()=>ne:ne}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ne){this.supportsScrolling()&&this.window.scrollTo(ne[0],ne[1])}scrollToAnchor(ne){if(!this.supportsScrolling())return;const j=function Ms(P,ne){const j=P.getElementById(ne)||P.getElementsByName(ne)[0];if(j)return j;if("function"==typeof P.createTreeWalker&&P.body&&"function"==typeof P.body.attachShadow){const J=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let Ie=J.currentNode;for(;Ie;){const _t=Ie.shadowRoot;if(_t){const Mt=_t.getElementById(ne)||_t.querySelector(`[name="${ne}"]`);if(Mt)return Mt}Ie=J.nextNode()}}return null}(this.document,ne);j&&(this.scrollToElement(j),j.focus())}setHistoryScrollRestoration(ne){this.supportsScrolling()&&(this.window.history.scrollRestoration=ne)}scrollToElement(ne){const j=ne.getBoundingClientRect(),J=j.left+this.window.pageXOffset,Ie=j.top+this.window.pageYOffset,_t=this.offset();this.window.scrollTo(J-_t[0],Ie-_t[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Hs{}},9862:(Jt,Ye,B)=>{B.d(Ye,{JF:()=>U,eN:()=>fe});var g=B(5879),u=B(2096),G=B(2459),be=B(5592),me=B(6328),Ae=B(2181),Se=B(7398),De=B(4716),We=B(4664),te=B(6814);class oe{}class ye{}class st{constructor(we){this.normalizedNames=new Map,this.lazyUpdate=null,we?"string"==typeof we?this.lazyInit=()=>{this.headers=new Map,we.split("\n").forEach(Le=>{const Dt=Le.indexOf(":");if(Dt>0){const Ut=Le.slice(0,Dt),un=Ut.toLowerCase(),Qt=Le.slice(Dt+1).trim();this.maybeSetNormalizedName(Ut,un),this.headers.has(un)?this.headers.get(un).push(Qt):this.headers.set(un,[Qt])}})}:typeof Headers<"u"&&we instanceof Headers?(this.headers=new Map,we.forEach((Le,Dt)=>{this.setHeaderEntries(Dt,Le)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(we).forEach(([Le,Dt])=>{this.setHeaderEntries(Le,Dt)})}:this.headers=new Map}has(we){return this.init(),this.headers.has(we.toLowerCase())}get(we){this.init();const Le=this.headers.get(we.toLowerCase());return Le&&Le.length>0?Le[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(we){return this.init(),this.headers.get(we.toLowerCase())||null}append(we,Le){return this.clone({name:we,value:Le,op:"a"})}set(we,Le){return this.clone({name:we,value:Le,op:"s"})}delete(we,Le){return this.clone({name:we,value:Le,op:"d"})}maybeSetNormalizedName(we,Le){this.normalizedNames.has(Le)||this.normalizedNames.set(Le,we)}init(){this.lazyInit&&(this.lazyInit instanceof st?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(we=>this.applyUpdate(we)),this.lazyUpdate=null))}copyFrom(we){we.init(),Array.from(we.headers.keys()).forEach(Le=>{this.headers.set(Le,we.headers.get(Le)),this.normalizedNames.set(Le,we.normalizedNames.get(Le))})}clone(we){const Le=new st;return Le.lazyInit=this.lazyInit&&this.lazyInit instanceof st?this.lazyInit:this,Le.lazyUpdate=(this.lazyUpdate||[]).concat([we]),Le}applyUpdate(we){const Le=we.name.toLowerCase();switch(we.op){case"a":case"s":let Dt=we.value;if("string"==typeof Dt&&(Dt=[Dt]),0===Dt.length)return;this.maybeSetNormalizedName(we.name,Le);const Ut=("a"===we.op?this.headers.get(Le):void 0)||[];Ut.push(...Dt),this.headers.set(Le,Ut);break;case"d":const un=we.value;if(un){let Qt=this.headers.get(Le);if(!Qt)return;Qt=Qt.filter(ar=>-1===un.indexOf(ar)),0===Qt.length?(this.headers.delete(Le),this.normalizedNames.delete(Le)):this.headers.set(Le,Qt)}else this.headers.delete(Le),this.normalizedNames.delete(Le)}}setHeaderEntries(we,Le){const Dt=(Array.isArray(Le)?Le:[Le]).map(un=>un.toString()),Ut=we.toLowerCase();this.headers.set(Ut,Dt),this.maybeSetNormalizedName(we,Ut)}forEach(we){this.init(),Array.from(this.normalizedNames.keys()).forEach(Le=>we(this.normalizedNames.get(Le),this.headers.get(Le)))}}class mt{encodeKey(we){return nn(we)}encodeValue(we){return nn(we)}decodeKey(we){return decodeURIComponent(we)}decodeValue(we){return decodeURIComponent(we)}}const wt=/%(\d[a-f0-9])/gi,Et={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function nn(Ne){return encodeURIComponent(Ne).replace(wt,(we,Le)=>Et[Le]??we)}function qe(Ne){return`${Ne}`}class Fe{constructor(we={}){if(this.updates=null,this.cloneFrom=null,this.encoder=we.encoder||new mt,we.fromString){if(we.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ft(Ne,we){const Le=new Map;return Ne.length>0&&Ne.replace(/^\?/,"").split("&").forEach(Ut=>{const un=Ut.indexOf("="),[Qt,ar]=-1==un?[we.decodeKey(Ut),""]:[we.decodeKey(Ut.slice(0,un)),we.decodeValue(Ut.slice(un+1))],dn=Le.get(Qt)||[];dn.push(ar),Le.set(Qt,dn)}),Le}(we.fromString,this.encoder)}else we.fromObject?(this.map=new Map,Object.keys(we.fromObject).forEach(Le=>{const Dt=we.fromObject[Le],Ut=Array.isArray(Dt)?Dt.map(qe):[qe(Dt)];this.map.set(Le,Ut)})):this.map=null}has(we){return this.init(),this.map.has(we)}get(we){this.init();const Le=this.map.get(we);return Le?Le[0]:null}getAll(we){return this.init(),this.map.get(we)||null}keys(){return this.init(),Array.from(this.map.keys())}append(we,Le){return this.clone({param:we,value:Le,op:"a"})}appendAll(we){const Le=[];return Object.keys(we).forEach(Dt=>{const Ut=we[Dt];Array.isArray(Ut)?Ut.forEach(un=>{Le.push({param:Dt,value:un,op:"a"})}):Le.push({param:Dt,value:Ut,op:"a"})}),this.clone(Le)}set(we,Le){return this.clone({param:we,value:Le,op:"s"})}delete(we,Le){return this.clone({param:we,value:Le,op:"d"})}toString(){return this.init(),this.keys().map(we=>{const Le=this.encoder.encodeKey(we);return this.map.get(we).map(Dt=>Le+"="+this.encoder.encodeValue(Dt)).join("&")}).filter(we=>""!==we).join("&")}clone(we){const Le=new Fe({encoder:this.encoder});return Le.cloneFrom=this.cloneFrom||this,Le.updates=(this.updates||[]).concat(we),Le}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(we=>this.map.set(we,this.cloneFrom.map.get(we))),this.updates.forEach(we=>{switch(we.op){case"a":case"s":const Le=("a"===we.op?this.map.get(we.param):void 0)||[];Le.push(qe(we.value)),this.map.set(we.param,Le);break;case"d":if(void 0===we.value){this.map.delete(we.param);break}{let Dt=this.map.get(we.param)||[];const Ut=Dt.indexOf(qe(we.value));-1!==Ut&&Dt.splice(Ut,1),Dt.length>0?this.map.set(we.param,Dt):this.map.delete(we.param)}}}),this.cloneFrom=this.updates=null)}}class He{constructor(){this.map=new Map}set(we,Le){return this.map.set(we,Le),this}get(we){return this.map.has(we)||this.map.set(we,we.defaultValue()),this.map.get(we)}delete(we){return this.map.delete(we),this}has(we){return this.map.has(we)}keys(){return this.map.keys()}}function At(Ne){return typeof ArrayBuffer<"u"&&Ne instanceof ArrayBuffer}function kt(Ne){return typeof Blob<"u"&&Ne instanceof Blob}function ve(Ne){return typeof FormData<"u"&&Ne instanceof FormData}class an{constructor(we,Le,Dt,Ut){let un;if(this.url=Le,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=we.toUpperCase(),function ct(Ne){switch(Ne){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ut?(this.body=void 0!==Dt?Dt:null,un=Ut):un=Dt,un&&(this.reportProgress=!!un.reportProgress,this.withCredentials=!!un.withCredentials,un.responseType&&(this.responseType=un.responseType),un.headers&&(this.headers=un.headers),un.context&&(this.context=un.context),un.params&&(this.params=un.params)),this.headers||(this.headers=new st),this.context||(this.context=new He),this.params){const Qt=this.params.toString();if(0===Qt.length)this.urlWithParams=Le;else{const ar=Le.indexOf("?");this.urlWithParams=Le+(-1===ar?"?":ar<Le.length-1?"&":"")+Qt}}else this.params=new Fe,this.urlWithParams=Le}serializeBody(){return null===this.body?null:At(this.body)||kt(this.body)||ve(this.body)||function jt(Ne){return typeof URLSearchParams<"u"&&Ne instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Fe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ve(this.body)?null:kt(this.body)?this.body.type||null:At(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Fe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(we={}){const Le=we.method||this.method,Dt=we.url||this.url,Ut=we.responseType||this.responseType,un=void 0!==we.body?we.body:this.body,Qt=void 0!==we.withCredentials?we.withCredentials:this.withCredentials,ar=void 0!==we.reportProgress?we.reportProgress:this.reportProgress;let dn=we.headers||this.headers,nt=we.params||this.params;const Ke=we.context??this.context;return void 0!==we.setHeaders&&(dn=Object.keys(we.setHeaders).reduce((bt,en)=>bt.set(en,we.setHeaders[en]),dn)),we.setParams&&(nt=Object.keys(we.setParams).reduce((bt,en)=>bt.set(en,we.setParams[en]),nt)),new an(Le,Dt,un,{params:nt,headers:dn,context:Ke,reportProgress:ar,responseType:Ut,withCredentials:Qt})}}var hr=function(Ne){return Ne[Ne.Sent=0]="Sent",Ne[Ne.UploadProgress=1]="UploadProgress",Ne[Ne.ResponseHeader=2]="ResponseHeader",Ne[Ne.DownloadProgress=3]="DownloadProgress",Ne[Ne.Response=4]="Response",Ne[Ne.User=5]="User",Ne}(hr||{});class xt{constructor(we,Le=200,Dt="OK"){this.headers=we.headers||new st,this.status=void 0!==we.status?we.status:Le,this.statusText=we.statusText||Dt,this.url=we.url||null,this.ok=this.status>=200&&this.status<300}}class Wt extends xt{constructor(we={}){super(we),this.type=hr.ResponseHeader}clone(we={}){return new Wt({headers:we.headers||this.headers,status:void 0!==we.status?we.status:this.status,statusText:we.statusText||this.statusText,url:we.url||this.url||void 0})}}class cn extends xt{constructor(we={}){super(we),this.type=hr.Response,this.body=void 0!==we.body?we.body:null}clone(we={}){return new cn({body:void 0!==we.body?we.body:this.body,headers:we.headers||this.headers,status:void 0!==we.status?we.status:this.status,statusText:we.statusText||this.statusText,url:we.url||this.url||void 0})}}class lt extends xt{constructor(we){super(we,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${we.url||"(unknown url)"}`:`Http failure response for ${we.url||"(unknown url)"}: ${we.status} ${we.statusText}`,this.error=we.error||null}}function Re(Ne,we){return{body:we,headers:Ne.headers,context:Ne.context,observe:Ne.observe,params:Ne.params,reportProgress:Ne.reportProgress,responseType:Ne.responseType,withCredentials:Ne.withCredentials}}let fe=(()=>{class Ne{constructor(Le){this.handler=Le}request(Le,Dt,Ut={}){let un;if(Le instanceof an)un=Le;else{let dn,nt;dn=Ut.headers instanceof st?Ut.headers:new st(Ut.headers),Ut.params&&(nt=Ut.params instanceof Fe?Ut.params:new Fe({fromObject:Ut.params})),un=new an(Le,Dt,void 0!==Ut.body?Ut.body:null,{headers:dn,context:Ut.context,params:nt,reportProgress:Ut.reportProgress,responseType:Ut.responseType||"json",withCredentials:Ut.withCredentials})}const Qt=(0,u.of)(un).pipe((0,me.b)(dn=>this.handler.handle(dn)));if(Le instanceof an||"events"===Ut.observe)return Qt;const ar=Qt.pipe((0,Ae.h)(dn=>dn instanceof cn));switch(Ut.observe||"body"){case"body":switch(un.responseType){case"arraybuffer":return ar.pipe((0,Se.U)(dn=>{if(null!==dn.body&&!(dn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return dn.body}));case"blob":return ar.pipe((0,Se.U)(dn=>{if(null!==dn.body&&!(dn.body instanceof Blob))throw new Error("Response is not a Blob.");return dn.body}));case"text":return ar.pipe((0,Se.U)(dn=>{if(null!==dn.body&&"string"!=typeof dn.body)throw new Error("Response is not a string.");return dn.body}));default:return ar.pipe((0,Se.U)(dn=>dn.body))}case"response":return ar;default:throw new Error(`Unreachable: unhandled observe type ${Ut.observe}}`)}}delete(Le,Dt={}){return this.request("DELETE",Le,Dt)}get(Le,Dt={}){return this.request("GET",Le,Dt)}head(Le,Dt={}){return this.request("HEAD",Le,Dt)}jsonp(Le,Dt){return this.request("JSONP",Le,{params:(new Fe).append(Dt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Le,Dt={}){return this.request("OPTIONS",Le,Dt)}patch(Le,Dt,Ut={}){return this.request("PATCH",Le,Re(Ut,Dt))}post(Le,Dt,Ut={}){return this.request("POST",Le,Re(Ut,Dt))}put(Le,Dt,Ut={}){return this.request("PUT",Le,Re(Ut,Dt))}static#e=this.\u0275fac=function(Dt){return new(Dt||Ne)(g.LFG(oe))};static#t=this.\u0275prov=g.Yz7({token:Ne,factory:Ne.\u0275fac})}return Ne})();function qt(Ne,we){return we(Ne)}function gn(Ne,we){return(Le,Dt)=>we.intercept(Le,{handle:Ut=>Ne(Ut,Dt)})}const Cn=new g.OlP(""),Mn=new g.OlP(""),Kt=new g.OlP("");function Dn(){let Ne=null;return(we,Le)=>{null===Ne&&(Ne=((0,g.f3M)(Cn,{optional:!0})??[]).reduceRight(gn,qt));const Dt=(0,g.f3M)(g.HDt),Ut=Dt.add();return Ne(we,Le).pipe((0,De.x)(()=>Dt.remove(Ut)))}}let or=(()=>{class Ne extends oe{constructor(Le,Dt){super(),this.backend=Le,this.injector=Dt,this.chain=null,this.pendingTasks=(0,g.f3M)(g.HDt)}handle(Le){if(null===this.chain){const Ut=Array.from(new Set([...this.injector.get(Mn),...this.injector.get(Kt,[])]));this.chain=Ut.reduceRight((un,Qt)=>function er(Ne,we,Le){return(Dt,Ut)=>Le.runInContext(()=>we(Dt,un=>Ne(un,Ut)))}(un,Qt,this.injector),qt)}const Dt=this.pendingTasks.add();return this.chain(Le,Ut=>this.backend.handle(Ut)).pipe((0,De.x)(()=>this.pendingTasks.remove(Dt)))}static#e=this.\u0275fac=function(Dt){return new(Dt||Ne)(g.LFG(ye),g.LFG(g.lqb))};static#t=this.\u0275prov=g.Yz7({token:Ne,factory:Ne.\u0275fac})}return Ne})();const vr=/^\)\]\}',?\n/;let Hn=(()=>{class Ne{constructor(Le){this.xhrFactory=Le}handle(Le){if("JSONP"===Le.method)throw new g.vHH(-2800,!1);const Dt=this.xhrFactory;return(Dt.\u0275loadImpl?(0,G.D)(Dt.\u0275loadImpl()):(0,u.of)(null)).pipe((0,We.w)(()=>new be.y(un=>{const Qt=Dt.build();if(Qt.open(Le.method,Le.urlWithParams),Le.withCredentials&&(Qt.withCredentials=!0),Le.headers.forEach((yn,Ln)=>Qt.setRequestHeader(yn,Ln.join(","))),Le.headers.has("Accept")||Qt.setRequestHeader("Accept","application/json, text/plain, */*"),!Le.headers.has("Content-Type")){const yn=Le.detectContentTypeHeader();null!==yn&&Qt.setRequestHeader("Content-Type",yn)}if(Le.responseType){const yn=Le.responseType.toLowerCase();Qt.responseType="json"!==yn?yn:"text"}const ar=Le.serializeBody();let dn=null;const nt=()=>{if(null!==dn)return dn;const yn=Qt.statusText||"OK",Ln=new st(Qt.getAllResponseHeaders()),Tr=function Fn(Ne){return"responseURL"in Ne&&Ne.responseURL?Ne.responseURL:/^X-Request-URL:/m.test(Ne.getAllResponseHeaders())?Ne.getResponseHeader("X-Request-URL"):null}(Qt)||Le.url;return dn=new Wt({headers:Ln,status:Qt.status,statusText:yn,url:Tr}),dn},Ke=()=>{let{headers:yn,status:Ln,statusText:Tr,url:Ai}=nt(),Kr=null;204!==Ln&&(Kr=typeof Qt.response>"u"?Qt.responseText:Qt.response),0===Ln&&(Ln=Kr?200:0);let nr=Ln>=200&&Ln<300;if("json"===Le.responseType&&"string"==typeof Kr){const bi=Kr;Kr=Kr.replace(vr,"");try{Kr=""!==Kr?JSON.parse(Kr):null}catch(ls){Kr=bi,nr&&(nr=!1,Kr={error:ls,text:Kr})}}nr?(un.next(new cn({body:Kr,headers:yn,status:Ln,statusText:Tr,url:Ai||void 0})),un.complete()):un.error(new lt({error:Kr,headers:yn,status:Ln,statusText:Tr,url:Ai||void 0}))},bt=yn=>{const{url:Ln}=nt(),Tr=new lt({error:yn,status:Qt.status||0,statusText:Qt.statusText||"Unknown Error",url:Ln||void 0});un.error(Tr)};let en=!1;const wn=yn=>{en||(un.next(nt()),en=!0);let Ln={type:hr.DownloadProgress,loaded:yn.loaded};yn.lengthComputable&&(Ln.total=yn.total),"text"===Le.responseType&&Qt.responseText&&(Ln.partialText=Qt.responseText),un.next(Ln)},Sn=yn=>{let Ln={type:hr.UploadProgress,loaded:yn.loaded};yn.lengthComputable&&(Ln.total=yn.total),un.next(Ln)};return Qt.addEventListener("load",Ke),Qt.addEventListener("error",bt),Qt.addEventListener("timeout",bt),Qt.addEventListener("abort",bt),Le.reportProgress&&(Qt.addEventListener("progress",wn),null!==ar&&Qt.upload&&Qt.upload.addEventListener("progress",Sn)),Qt.send(ar),un.next({type:hr.Sent}),()=>{Qt.removeEventListener("error",bt),Qt.removeEventListener("abort",bt),Qt.removeEventListener("load",Ke),Qt.removeEventListener("timeout",bt),Le.reportProgress&&(Qt.removeEventListener("progress",wn),null!==ar&&Qt.upload&&Qt.upload.removeEventListener("progress",Sn)),Qt.readyState!==Qt.DONE&&Qt.abort()}})))}static#e=this.\u0275fac=function(Dt){return new(Dt||Ne)(g.LFG(te.JF))};static#t=this.\u0275prov=g.Yz7({token:Ne,factory:Ne.\u0275fac})}return Ne})();const $r=new g.OlP("XSRF_ENABLED"),rn=new g.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),tr=new g.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Dr{}let br=(()=>{class Ne{constructor(Le,Dt,Ut){this.doc=Le,this.platform=Dt,this.cookieName=Ut,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Le=this.doc.cookie||"";return Le!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,te.Mx)(Le,this.cookieName),this.lastCookieString=Le),this.lastToken}static#e=this.\u0275fac=function(Dt){return new(Dt||Ne)(g.LFG(te.K0),g.LFG(g.Lbi),g.LFG(rn))};static#t=this.\u0275prov=g.Yz7({token:Ne,factory:Ne.\u0275fac})}return Ne})();function Xr(Ne,we){const Le=Ne.url.toLowerCase();if(!(0,g.f3M)($r)||"GET"===Ne.method||"HEAD"===Ne.method||Le.startsWith("http://")||Le.startsWith("https://"))return we(Ne);const Dt=(0,g.f3M)(Dr).getToken(),Ut=(0,g.f3M)(tr);return null!=Dt&&!Ne.headers.has(Ut)&&(Ne=Ne.clone({headers:Ne.headers.set(Ut,Dt)})),we(Ne)}var vt=function(Ne){return Ne[Ne.Interceptors=0]="Interceptors",Ne[Ne.LegacyInterceptors=1]="LegacyInterceptors",Ne[Ne.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ne[Ne.NoXsrfProtection=3]="NoXsrfProtection",Ne[Ne.JsonpSupport=4]="JsonpSupport",Ne[Ne.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ne[Ne.Fetch=6]="Fetch",Ne}(vt||{});function Te(...Ne){const we=[fe,Hn,or,{provide:oe,useExisting:or},{provide:ye,useExisting:Hn},{provide:Mn,useValue:Xr,multi:!0},{provide:$r,useValue:!0},{provide:Dr,useClass:br}];for(const Le of Ne)we.push(...Le.\u0275providers);return(0,g.MR2)(we)}const zt=new g.OlP("LEGACY_INTERCEPTOR_FN");function Nn(){return function ae(Ne,we){return{\u0275kind:Ne,\u0275providers:we}}(vt.LegacyInterceptors,[{provide:zt,useFactory:Dn},{provide:Mn,useExisting:zt,multi:!0}])}let U=(()=>{class Ne{static#e=this.\u0275fac=function(Dt){return new(Dt||Ne)};static#t=this.\u0275mod=g.oAB({type:Ne});static#n=this.\u0275inj=g.cJS({providers:[Te(Nn())]})}return Ne})()},5879:(Jt,Ye,B)=>{B.d(Ye,{$8M:()=>yu,$WT:()=>ji,$Z:()=>L,AFp:()=>p_,ALo:()=>YI,AaK:()=>ye,AsE:()=>ai,CHM:()=>cd,CRH:()=>hb,EJc:()=>kw,EiD:()=>jg,EpF:()=>wi,F$t:()=>FE,F4k:()=>ni,FYo:()=>nh,FiY:()=>_c,GfV:()=>Dc,Gpc:()=>mt,HDt:()=>Nb,Hsn:()=>LE,JOm:()=>Dd,JVY:()=>Ng,JZr:()=>qe,KtG:()=>oc,L6k:()=>t_,LAX:()=>n_,LFG:()=>Ot,LSH:()=>Hg,Lbi:()=>g_,Lck:()=>EC,MAs:()=>Qu,MGl:()=>Dv,MMx:()=>FI,MR2:()=>Ls,NdJ:()=>Ks,Ojb:()=>Py,OlP:()=>rn,Oqu:()=>dr,P3R:()=>Mp,PXZ:()=>uA,Q6J:()=>Cm,QGY:()=>Us,QbO:()=>Np,Qsj:()=>y_,R0b:()=>zi,RDi:()=>Ep,Rgc:()=>Uv,SBq:()=>Kl,Sil:()=>Vw,Suo:()=>db,TTD:()=>pr,TgZ:()=>sg,VKq:()=>zI,VuI:()=>WA,X6Q:()=>yA,XFs:()=>bn,Xpm:()=>Ii,Xq5:()=>$_,Xts:()=>nf,Y36:()=>R,YKP:()=>NI,YNc:()=>Im,Yjl:()=>Ho,Yz7:()=>Cn,Z0I:()=>or,ZZ4:()=>U0,_Bn:()=>OI,_UZ:()=>Bo,_c5:()=>NA,_uU:()=>Vn,aQg:()=>B0,c2e:()=>Ob,cJS:()=>Kt,cg1:()=>o0,dDg:()=>oA,dqk:()=>Hn,eBb:()=>Bd,eFA:()=>zb,eJc:()=>T0,ekj:()=>Rv,eoX:()=>Bb,f3M:()=>Xt,g9A:()=>dl,h0i:()=>Rm,hGG:()=>kA,hij:()=>Jr,iGM:()=>ub,ifc:()=>Qt,ip1:()=>xb,jDz:()=>LI,kL8:()=>sI,lG2:()=>Xi,lcZ:()=>QI,lqb:()=>Cc,lri:()=>Vb,mCW:()=>jd,n5z:()=>_u,oAB:()=>Ts,oxw:()=>kE,pB0:()=>Tp,q3G:()=>Ou,q4F:()=>Ia,qFp:()=>ZA,qLn:()=>$u,qOj:()=>gl,qZA:()=>Eh,qzn:()=>bc,rWj:()=>Ub,rg0:()=>_t,s9C:()=>oE,sBO:()=>vA,s_b:()=>CE,soG:()=>AE,tb:()=>O0,tp0:()=>Ba,uIk:()=>xc,vHH:()=>Fe,vpe:()=>ra,wAp:()=>iy,xi3:()=>JI,xp6:()=>y,z2F:()=>cy,z3N:()=>Ic,zSh:()=>h_,zs3:()=>Mc});var g=B(8645),u=B(7394),G=B(5592),be=B(3019),me=B(5619),Ae=B(2096),Se=B(3020),De=B(4664),We=B(3997);function te(t){for(let n in t)if(t[n]===te)return n;throw Error("Could not find renamed property on target object.")}function oe(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function ye(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ye).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function st(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const rt=te({__forward_ref__:te});function mt(t){return t.__forward_ref__=mt,t.toString=function(){return ye(this())},t}function ft(t){return wt(t)?t():t}function wt(t){return"function"==typeof t&&t.hasOwnProperty(rt)&&t.__forward_ref__===mt}function Et(t){return t&&!!t.\u0275providers}const qe="https://g.co/ng/security#xss";class Fe extends Error{constructor(n,i){super(function it(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function He(t){return"string"==typeof t?t:null==t?"":String(t)}function jt(t,n){throw new Fe(-201,!1)}function Gt(t,n){null==t&&function Ht(t,n,i,o){throw new Error(`ASSERTION ERROR: ${t}`+(null==o?"":` [Expected=> ${i} ${o} ${n} <=Actual]`))}(n,t,null,"!=")}function Cn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Kt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Dn(t){return Gn(t,In)||Gn(t,Yn)}function or(t){return null!==Dn(t)}function Gn(t,n){return t.hasOwnProperty(n)?t[n]:null}function Lr(t){return t&&(t.hasOwnProperty(Ar)||t.hasOwnProperty(Vt))?t[Ar]:null}const In=te({\u0275prov:te}),Ar=te({\u0275inj:te}),Yn=te({ngInjectableDef:te}),Vt=te({ngInjectorDef:te});var bn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(bn||{});let Rn;function yr(t){const n=Rn;return Rn=t,n}function vr(t,n,i){const o=Dn(t);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:i&bn.Optional?null:void 0!==n?n:void jt(ye(t))}const Hn=globalThis;class rn{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Cn({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Nn={},ui="__NG_DI_FLAG__",Er="ngTempTokenPath",re=/\n/gm,$="__source";let U;function Be(t){const n=U;return U=t,n}function Tt(t,n=bn.Default){if(void 0===U)throw new Fe(-203,!1);return null===U?vr(t,void 0,n):U.get(t,n&bn.Optional?null:void 0,n)}function Ot(t,n=bn.Default){return(function On(){return Rn}()||Tt)(ft(t),n)}function Xt(t,n=bn.Default){return Ot(t,ln(n))}function ln(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function qn(t){const n=[];for(let i=0;i<t.length;i++){const o=ft(t[i]);if(Array.isArray(o)){if(0===o.length)throw new Fe(900,!1);let h,m=bn.Default;for(let T=0;T<o.length;T++){const D=o[T],x=we(D);"number"==typeof x?-1===x?h=D.token:m|=x:h=D}n.push(Ot(h,m))}else n.push(Ot(o))}return n}function Ne(t,n){return t[ui]=n,t.prototype[ui]=n,t}function we(t){return t[ui]}function Ut(t){return{toString:t}.toString()}var un=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(un||{}),Qt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Qt||{});const ar={},dn=[],nt=te({\u0275cmp:te}),Ke=te({\u0275dir:te}),bt=te({\u0275pipe:te}),en=te({\u0275mod:te}),wn=te({\u0275fac:te}),Sn=te({__NG_ELEMENT_ID__:te}),yn=te({__NG_ENV_ID__:te});function Ln(t,n,i){let o=t.length;for(;;){const h=t.indexOf(n,i);if(-1===h)return h;if(0===h||t.charCodeAt(h-1)<=32){const m=n.length;if(h+m===o||t.charCodeAt(h+m)<=32)return h}i=h+1}}function Tr(t,n,i){let o=0;for(;o<i.length;){const h=i[o];if("number"==typeof h){if(0!==h)break;o++;const m=i[o++],T=i[o++],D=i[o++];t.setAttribute(n,T,D,m)}else{const m=h,T=i[++o];Kr(m)?t.setProperty(n,m,T):t.setAttribute(n,m,T),o++}}return o}function Ai(t){return 3===t||4===t||6===t}function Kr(t){return 64===t.charCodeAt(0)}function nr(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let o=0;o<n.length;o++){const h=n[o];"number"==typeof h?i=h:0===i||bi(t,i,h,null,-1===i||2===i?n[++o]:null)}}return t}function bi(t,n,i,o,h){let m=0,T=t.length;if(-1===n)T=-1;else for(;m<t.length;){const D=t[m++];if("number"==typeof D){if(D===n){T=-1;break}if(D>n){T=m-1;break}}}for(;m<t.length;){const D=t[m];if("number"==typeof D)break;if(D===i){if(null===o)return void(null!==h&&(t[m+1]=h));if(o===t[m+1])return void(t[m+2]=h)}m++,null!==o&&m++,null!==h&&m++}-1!==T&&(t.splice(T,0,n),m=T+1),t.splice(m++,0,i),null!==o&&t.splice(m++,0,o),null!==h&&t.splice(m++,0,h)}const ls="ng-template";function Qi(t,n,i){let o=0,h=!0;for(;o<t.length;){let m=t[o++];if("string"==typeof m&&h){const T=t[o++];if(i&&"class"===m&&-1!==Ln(T.toLowerCase(),n,0))return!0}else{if(1===m){for(;o<t.length&&"string"==typeof(m=t[o++]);)if(m.toLowerCase()===n)return!0;return!1}"number"==typeof m&&(h=!1)}}return!1}function Vr(t){return 4===t.type&&t.value!==ls}function Ao(t,n,i){return n===(4!==t.type||i?t.value:ls)}function us(t,n,i){let o=4;const h=t.attrs||[],m=function Mi(t){for(let n=0;n<t.length;n++)if(Ai(t[n]))return n;return t.length}(h);let T=!1;for(let D=0;D<n.length;D++){const x=n[D];if("number"!=typeof x){if(!T)if(4&o){if(o=2|1&o,""!==x&&!Ao(t,x,i)||""===x&&1===n.length){if(Ui(o))return!1;T=!0}}else{const H=8&o?x:n[++D];if(8&o&&null!==t.attrs){if(!Qi(t.attrs,H,i)){if(Ui(o))return!1;T=!0}continue}const _e=Fc(8&o?"class":x,h,Vr(t),i);if(-1===_e){if(Ui(o))return!1;T=!0;continue}if(""!==H){let ze;ze=_e>m?"":h[_e+1].toLowerCase();const tt=8&o?ze:null;if(tt&&-1!==Ln(tt,H,0)||2&o&&H!==ze){if(Ui(o))return!1;T=!0}}}}else{if(!T&&!Ui(o)&&!Ui(x))return!1;if(T&&Ui(x))continue;T=!1,o=x|1&o}}return Ui(o)||T}function Ui(t){return 0==(1&t)}function Fc(t,n,i,o){if(null===n)return-1;let h=0;if(o||!i){let m=!1;for(;h<n.length;){const T=n[h];if(T===t)return h;if(3===T||6===T)m=!0;else{if(1===T||2===T){let D=n[++h];for(;"string"==typeof D;)D=n[++h];continue}if(4===T)break;if(0===T){h+=4;continue}}h+=m?1:2}return-1}return function Hr(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const o=t[i];if("number"==typeof o)return-1;if(o===n)return i;i++}return-1}(n,t)}function Yr(t,n,i=!1){for(let o=0;o<n.length;o++)if(us(t,n[o],i))return!0;return!1}function wa(t,n){e:for(let i=0;i<n.length;i++){const o=n[i];if(t.length===o.length){for(let h=0;h<t.length;h++)if(t[h]!==o[h])continue e;return!0}}return!1}function js(t,n){return t?":not("+n.trim()+")":n}function Bi(t){let n=t[0],i=1,o=2,h="",m=!1;for(;i<t.length;){let T=t[i];if("string"==typeof T)if(2&o){const D=t[++i];h+="["+T+(D.length>0?'="'+D+'"':"")+"]"}else 8&o?h+="."+T:4&o&&(h+=" "+T);else""!==h&&!Ui(T)&&(n+=js(m,h),h=""),o=T,m=m||!Ui(o);i++}return""!==h&&(n+=js(m,h)),n}function Ii(t){return Ut(()=>{const n=es(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===un.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Qt.Emulated,styles:t.styles||dn,_:null,schemas:t.schemas||null,tView:null,id:""};Wi(i);const o=t.dependencies;return i.directiveDefs=zo(o,!1),i.pipeDefs=zo(o,!0),i.id=function $s(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const h of i)n=Math.imul(31,n)+h.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function bs(t){return Un(t)||Ur(t)}function mi(t){return null!==t}function Ts(t){return Ut(()=>({type:t.type,bootstrap:t.bootstrap||dn,declarations:t.declarations||dn,imports:t.imports||dn,exports:t.exports||dn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Do(t,n){if(null==t)return ar;const i={};for(const o in t)if(t.hasOwnProperty(o)){let h=t[o],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),i[h]=o,n&&(n[h]=m)}return i}function Xi(t){return Ut(()=>{const n=es(t);return Wi(n),n})}function Ho(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Un(t){return t[nt]||null}function Ur(t){return t[Ke]||null}function ri(t){return t[bt]||null}function ji(t){const n=Un(t)||Ur(t)||ri(t);return null!==n&&n.standalone}function Gr(t,n){const i=t[en]||null;if(!i&&!0===n)throw new Error(`Type ${ye(t)} does not have '\u0275mod' property.`);return i}function es(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||ar,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||dn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Do(t.inputs,n),outputs:Do(t.outputs)}}function Wi(t){t.features?.forEach(n=>n(t))}function zo(t,n){if(!t)return null;const i=n?ri:bs;return()=>("function"==typeof t?t():t).map(o=>i(o)).filter(mi)}const Or=0,on=1,Wn=2,Sr=3,Di=4,Qs=5,ei=6,ds=7,Cr=8,hs=9,yo=10,Zn=11,fs=12,kr=13,Oi=14,Bn=15,ps=16,Si=17,gs=18,Ms=19,Vc=20,Hs=21,Jn=22,fr=23,vo=24,cr=25,ns=1,Ni=2,Cs=7,Go=9,di=11;function hi(t){return Array.isArray(t)&&"object"==typeof t[ns]}function $i(t){return Array.isArray(t)&&!0===t[ns]}function Ya(t){return 0!=(4&t.flags)}function Ps(t){return t.componentOffset>-1}function Js(t){return 1==(1&t.flags)}function ki(t){return!!t.template}function ia(t){return 0!=(512&t[Wn])}function zs(t,n){return t.hasOwnProperty(wn)?t[wn]:null}let Mr=null,oa=!1;function Fi(t){const n=Mr;return Mr=t,n}const au={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function to(t){if(!Zo(t)||t.dirty){if(!t.producerMustRecompute(t)&&!$c(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function xa(t){t.dirty=!0,function no(t){if(void 0===t.liveConsumerNode)return;const n=oa;oa=!0;try{for(const i of t.liveConsumerNode)i.dirty||xa(i)}finally{oa=n}}(t),t.consumerMarkedDirty?.(t)}function ir(t){return t&&(t.nextProducerIndex=0),Fi(t)}function jc(t,n){if(Fi(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Zo(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)Oa(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function $c(t){Mo(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],o=t.producerLastReadVersion[n];if(o!==i.version||(to(i),o!==i.version))return!0}return!1}function tc(t){if(Mo(t),Zo(t))for(let n=0;n<t.producerNode.length;n++)Oa(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Oa(t,n){if(function rc(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Mo(t),1===t.liveConsumerNode.length)for(let o=0;o<t.producerNode.length;o++)Oa(t.producerNode[o],t.producerIndexOfThis[o]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const o=t.liveConsumerIndexOfThis[n],h=t.liveConsumerNode[n];Mo(h),h.producerIndexOfThis[o]=n}}function Zo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Mo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Na=null;function _t(t){const n=Fi(null);try{return t()}finally{Fi(n)}}const _n=()=>{},Pr=(()=>({...au,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:_n}))();class Br{constructor(n,i,o){this.previousValue=n,this.currentValue=i,this.firstChange=o}isFirstChange(){return this.firstChange}}function pr(){return Qr}function Qr(t){return t.type.prototype.ngOnChanges&&(t.setInput=Pi),Fr}function Fr(){const t=Ki(this),n=t?.current;if(n){const i=t.previous;if(i===ar)t.previous=n;else for(let o in n)i[o]=n[o];t.current=null,this.ngOnChanges(n)}}function Pi(t,n,i,o){const h=this.declaredInputs[i],m=Ki(t)||function Yo(t,n){return t[is]=n}(t,{previous:ar,current:null}),T=m.current||(m.current={}),D=m.previous,x=D[h];T[h]=new Br(x&&x.currentValue,n,D===ar),t[o]=n}pr.ngInherit=!0;const is="__ngSimpleChanges__";function Ki(t){return t[is]||null}const Qn=function(t,n,i){};function oi(t){for(;Array.isArray(t);)t=t[Or];return t}function Ro(t,n){return oi(n[t])}function As(t,n){return oi(n[t.index])}function Tl(t,n){return t.data[n]}function Jo(t,n){return t[n]}function Ds(t,n){const i=n[t];return hi(i)?i:i[Or]}function ro(t,n){return null==n?null:t[n]}function xo(t){t[Si]=0}function Oo(t){1024&t[Wn]||(t[Wn]|=1024,Ch(t,1))}function id(t){1024&t[Wn]&&(t[Wn]&=-1025,Ch(t,-1))}function Ch(t,n){let i=t[Sr];if(null===i)return;i[Qs]+=n;let o=i;for(i=i[Sr];null!==i&&(1===n&&1===o[Qs]||-1===n&&0===o[Qs]);)i[Qs]+=n,o=i,i=i[Sr]}const Xn={lFrame:_s(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ti(){return Xn.bindingsEnabled}function La(){return null!==Xn.skipHydrationRootTNode}function Nt(){return Xn.lFrame.lView}function Nr(){return Xn.lFrame.tView}function cd(t){return Xn.lFrame.contextLView=t,t[Cr]}function oc(t){return Xn.lFrame.contextLView=null,t}function ss(){let t=Li();for(;null!==t&&64===t.type;)t=t.parent;return t}function Li(){return Xn.lFrame.currentTNode}function ms(t,n){const i=Xn.lFrame;i.currentTNode=t,i.isParent=n}function qc(){return Xn.lFrame.isParent}function ac(){Xn.lFrame.isParent=!1}function xs(){const t=Xn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function ca(){return Xn.lFrame.bindingIndex++}function S(t){const n=Xn.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function N(t,n){const i=Xn.lFrame;i.bindingIndex=i.bindingRootIndex=t,ce(n)}function ce(t){Xn.lFrame.currentDirectiveIndex=t}function ht(){return Xn.lFrame.currentQueryIndex}function pt(t){Xn.lFrame.currentQueryIndex=t}function mn(t){const n=t[on];return 2===n.type?n.declTNode:1===n.type?t[ei]:null}function _r(t,n,i){if(i&bn.SkipSelf){let h=n,m=t;for(;!(h=h.parent,null!==h||i&bn.Host||(h=mn(m),null===h||(m=m[Oi],10&h.type))););if(null===h)return!1;n=h,t=m}const o=Xn.lFrame=sr();return o.currentTNode=n,o.lView=t,!0}function qr(t){const n=sr(),i=t[on];Xn.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function sr(){const t=Xn.lFrame,n=null===t?null:t.child;return null===n?_s(t):n}function _s(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function qs(){const t=Xn.lFrame;return Xn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const io=qs;function cc(){const t=qs();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ys(){return Xn.lFrame.selectedIndex}function Zc(t){Xn.lFrame.selectedIndex=t}function fi(){const t=Xn.lFrame;return Tl(t.tView,t.selectedIndex)}let Dh=!0;function Xo(){return Dh}function ua(t){Dh=t}function Mh(t,n){for(let i=n.directiveStart,o=n.directiveEnd;i<o;i++){const m=t.data[i].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:D,ngAfterViewInit:x,ngAfterViewChecked:H,ngOnDestroy:ie}=m;T&&(t.contentHooks??=[]).push(-i,T),D&&((t.contentHooks??=[]).push(i,D),(t.contentCheckHooks??=[]).push(i,D)),x&&(t.viewHooks??=[]).push(-i,x),H&&((t.viewHooks??=[]).push(i,H),(t.viewCheckHooks??=[]).push(i,H)),null!=ie&&(t.destroyHooks??=[]).push(i,ie)}}function Eo(t,n,i){Wf(t,n,3,i)}function ea(t,n,i,o){(3&t[Wn])===i&&Wf(t,n,i,o)}function Fo(t,n){let i=t[Wn];(3&i)===n&&(i&=8191,i+=1,t[Wn]=i)}function Wf(t,n,i,o){const m=o??-1,T=n.length-1;let D=0;for(let x=void 0!==o?65535&t[Si]:0;x<T;x++)if("number"==typeof n[x+1]){if(D=n[x],null!=o&&D>=o)break}else n[x]<0&&(t[Si]+=65536),(D<m||-1==m)&&(fd(t,i,n,x),t[Si]=(4294901760&t[Si])+x+2),x++}function hd(t,n){Qn(4,t,n);const i=Fi(null);try{n.call(t)}finally{Fi(i),Qn(5,t,n)}}function fd(t,n,i,o){const h=i[o]<0,m=i[o+1],D=t[h?-i[o]:i[o]];h?t[Wn]>>13<t[Si]>>16&&(3&t[Wn])===n&&(t[Wn]+=8192,hd(D,m)):hd(D,m)}const lc=-1;class Al{constructor(n,i,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=o}}function Dl(t){return t!==lc}function pu(t){return 32767&t}function ta(t,n){let i=function dg(t){return t>>16}(t),o=n;for(;i>0;)o=o[Oi],i--;return o}let Sl=!0;function ha(t){const n=Sl;return Sl=t,n}const md=255,os=5;let hg=0;const Os={};function _d(t,n){const i=fa(t,n);if(-1!==i)return i;const o=n[on];o.firstCreatePass&&(t.injectorIndex=n.length,vs(o.data,t),vs(n,null),vs(o.blueprint,null));const h=Ml(t,n),m=t.injectorIndex;if(Dl(h)){const T=pu(h),D=ta(h,n),x=D[on].data;for(let H=0;H<8;H++)n[m+H]=D[T+H]|x[T+H]}return n[m+8]=h,m}function vs(t,n){t.push(0,0,0,0,0,0,0,0,n)}function fa(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Ml(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,o=null,h=n;for(;null!==h;){if(o=kh(h),null===o)return lc;if(i++,h=h[Oi],-1!==o.injectorIndex)return o.injectorIndex|i<<16}return lc}function uc(t,n,i){!function xh(t,n,i){let o;"string"==typeof i?o=i.charCodeAt(0)||0:i.hasOwnProperty(Sn)&&(o=i[Sn]),null==o&&(o=i[Sn]=hg++);const h=o&md;n.data[t+(h>>os)]|=1<<h}(t,n,i)}function Kc(t,n,i){if(i&bn.Optional||void 0!==t)return t;jt()}function Ci(t,n,i,o){if(i&bn.Optional&&void 0===o&&(o=null),!(i&(bn.Self|bn.Host))){const h=t[hs],m=yr(void 0);try{return h?h.get(n,o,i&bn.Optional):vr(n,o,i&bn.Optional)}finally{yr(m)}}return Kc(o,0,i)}function na(t,n,i,o=bn.Default,h){if(null!==t){if(2048&n[Wn]&&!(o&bn.Self)){const T=function hc(t,n,i,o,h){let m=t,T=n;for(;null!==m&&null!==T&&2048&T[Wn]&&!(512&T[Wn]);){const D=Pl(m,T,i,o|bn.Self,Os);if(D!==Os)return D;let x=m.parent;if(!x){const H=T[Vc];if(H){const ie=H.get(i,Os,o);if(ie!==Os)return ie}x=kh(T),T=T[Oi]}m=x}return h}(t,n,i,o,Os);if(T!==Os)return T}const m=Pl(t,n,i,o,Os);if(m!==Os)return m}return Ci(n,i,o,h)}function Pl(t,n,i,o,h){const m=function yd(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Sn)?t[Sn]:void 0;return"number"==typeof n?n>=0?n&md:Nh:n}(i);if("function"==typeof m){if(!_r(n,t,o))return o&bn.Host?Kc(h,0,o):Ci(n,i,o,h);try{let T;if(T=m(o),null!=T||o&bn.Optional)return T;jt()}finally{io()}}else if("number"==typeof m){let T=null,D=fa(t,n),x=lc,H=o&bn.Host?n[Bn][ei]:null;for((-1===D||o&bn.SkipSelf)&&(x=-1===D?Ml(t,n):n[D+8],x!==lc&&mu(o,!1)?(T=n[on],D=pu(x),n=ta(x,n)):D=-1);-1!==D;){const ie=n[on];if(Zf(m,D,ie.data)){const _e=Oh(D,n,i,T,o,H);if(_e!==Os)return _e}x=n[D+8],x!==lc&&mu(o,n[on].data[D+8]===H)&&Zf(m,D,n)?(T=ie,D=pu(x),n=ta(x,n)):D=-1}}return h}function Oh(t,n,i,o,h,m){const T=n[on],D=T.data[t+8],ie=gu(D,T,i,null==o?Ps(D)&&Sl:o!=T&&0!=(3&D.type),h&bn.Host&&m===D);return null!==ie?Yc(n,T,ie,D):Os}function gu(t,n,i,o,h){const m=t.providerIndexes,T=n.data,D=1048575&m,x=t.directiveStart,ie=m>>20,ze=h?D+ie:t.directiveEnd;for(let tt=o?D:D+ie;tt<ze;tt++){const Pt=T[tt];if(tt<x&&i===Pt||tt>=x&&Pt.type===i)return tt}if(h){const tt=T[x];if(tt&&ki(tt)&&tt.type===i)return x}return null}function Yc(t,n,i,o){let h=t[i];const m=n.data;if(function pd(t){return t instanceof Al}(h)){const T=h;T.resolving&&function At(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Fe(-200,`Circular dependency in DI detected for ${t}${i}`)}(function ct(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():He(t)}(m[i]));const D=ha(T.canSeeViewProviders);T.resolving=!0;const H=T.injectImpl?yr(T.injectImpl):null;_r(t,o,bn.Default);try{h=t[i]=T.factory(void 0,m,t,o),n.firstCreatePass&&i>=o.directiveStart&&function Sh(t,n,i){const{ngOnChanges:o,ngOnInit:h,ngDoCheck:m}=n.type.prototype;if(o){const T=Qr(n);(i.preOrderHooks??=[]).push(t,T),(i.preOrderCheckHooks??=[]).push(t,T)}h&&(i.preOrderHooks??=[]).push(0-t,h),m&&((i.preOrderHooks??=[]).push(t,m),(i.preOrderCheckHooks??=[]).push(t,m))}(i,m[i],n)}finally{null!==H&&yr(H),ha(D),T.resolving=!1,io()}}return h}function Zf(t,n,i){return!!(i[n+(t>>os)]&1<<t)}function mu(t,n){return!(t&bn.Self||t&bn.Host&&n)}class Es{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,o){return na(this._tNode,this._lView,n,ln(o),i)}}function Nh(){return new Es(ss(),Nt())}function _u(t){return Ut(()=>{const n=t.prototype.constructor,i=n[wn]||pa(n),o=Object.prototype;let h=Object.getPrototypeOf(t.prototype).constructor;for(;h&&h!==o;){const m=h[wn]||pa(h);if(m&&m!==i)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function pa(t){return wt(t)?()=>{const n=pa(ft(t));return n&&n()}:zs(t)}function kh(t){const n=t[on],i=n.type;return 2===i?n.declTNode:1===i?t[ei]:null}function yu(t){return function qf(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const o=i.length;let h=0;for(;h<o;){const m=i[h];if(Ai(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<o&&"string"==typeof i[h];)h++;else{if(m===n)return i[h+1];h+=2}}}return null}(ss(),t)}const fc="__parameters__";function Ri(t,n,i){return Ut(()=>{const o=function pc(t){return function(...i){if(t){const o=t(...i);for(const h in o)this[h]=o[h]}}}(n);function h(...m){if(this instanceof h)return o.apply(this,m),this;const T=new h(...m);return D.annotation=T,D;function D(x,H,ie){const _e=x.hasOwnProperty(fc)?x[fc]:Object.defineProperty(x,fc,{value:[]})[fc];for(;_e.length<=ie;)_e.push(null);return(_e[ie]=_e[ie]||[]).push(T),x}}return i&&(h.prototype=Object.create(i.prototype)),h.prototype.ngMetadataName=t,h.annotationCls=h,h})}function Lo(t,n){t.forEach(i=>Array.isArray(i)?Lo(i,n):n(i))}function Iu(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function mc(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Ol(t,n){const i=[];for(let o=0;o<t;o++)i.push(n);return i}function oo(t,n,i){let o=kl(t,n);return o>=0?t[1|o]=i:(o=~o,function Io(t,n,i,o){let h=t.length;if(h==n)t.push(i,o);else if(1===h)t.push(o,t[0]),t[0]=i;else{for(h--,t.push(t[h-1],t[h]);h>n;)t[h]=t[h-2],h--;t[n]=i,t[n+1]=o}}(t,o,n,i)),o}function bu(t,n){const i=kl(t,n);if(i>=0)return t[1|i]}function kl(t,n){return function Ua(t,n,i){let o=0,h=t.length>>i;for(;h!==o;){const m=o+(h-o>>1),T=t[m<<i];if(n===T)return m<<i;T>n?h=m:o=m+1}return~(h<<i)}(t,n,1)}const _c=Ne(Ri("Optional"),8),Ba=Ne(Ri("SkipSelf"),4);function Ad(t){return 128==(128&t.flags)}var Dd=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Dd||{});const rp=new Map;let Um=0;const Au="__ngContext__";function ks(t,n){hi(n)?(t[Au]=n[Ms],function ip(t){rp.set(t[Ms],t)}(n)):t[Au]=n}let vg;function Rd(t,n){return vg(t,n)}function Su(t){const n=t[Sr];return $i(n)?n[Sr]:n}function bg(t){return Mu(t[fs])}function Wh(t){return Mu(t[Di])}function Mu(t){for(;null!==t&&!$i(t);)t=t[Di];return t}function cl(t,n,i,o,h){if(null!=o){let m,T=!1;$i(o)?m=o:hi(o)&&(T=!0,o=o[Or]);const D=oi(o);0===t&&null!==i?null==h?Zm(n,i,D):wo(n,i,D,h||null,!0):1===t&&null!==i?wo(n,i,D,h||null,!0):2===t?function _p(t,n,i){const o=hp(t,n);o&&function Km(t,n,i,o){t.removeChild(n,i,o)}(t,o,n,i)}(n,D,T):3===t&&n.destroyNode(D),null!=m&&function yp(t,n,i,o,h){const m=i[Cs];m!==oi(i)&&cl(n,t,o,m,h);for(let D=di;D<i.length;D++){const x=i[D];Hl(x[on],x,t,n,o,m)}}(n,t,m,i,h)}}function cp(t,n,i){return t.createElement(n,i)}function Wm(t,n){const i=t[Go],o=i.indexOf(n);id(n),i.splice(o,1)}function up(t,n){if(t.length<=di)return;const i=di+n,o=t[i];if(o){const h=o[ps];null!==h&&h!==t&&Wm(h,o),n>0&&(t[i-1][Di]=o[Di]);const m=mc(t,di+n);!function Hm(t,n){Hl(t,n,n[Zn],2,null,null),n[Or]=null,n[ei]=null}(o[on],o);const T=m[gs];null!==T&&T.detachView(m[on]),o[Sr]=null,o[Di]=null,o[Wn]&=-129}return o}function Co(t,n){if(!(256&n[Wn])){const i=n[Zn];n[fr]&&tc(n[fr]),n[vo]&&tc(n[vo]),i.destroyNode&&Hl(t,n,i,3,null,null),function zm(t){let n=t[fs];if(!n)return Tg(t[on],t);for(;n;){let i=null;if(hi(n))i=n[fs];else{const o=n[di];o&&(i=o)}if(!i){for(;n&&!n[Di]&&n!==t;)hi(n)&&Tg(n[on],n),n=n[Sr];null===n&&(n=t),hi(n)&&Tg(n[on],n),i=n&&n[Di]}n=i}}(n)}}function Tg(t,n){if(!(256&n[Wn])){n[Wn]&=-129,n[Wn]|=256,function qm(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let o=0;o<i.length;o+=2){const h=n[i[o]];if(!(h instanceof Al)){const m=i[o+1];if(Array.isArray(m))for(let T=0;T<m.length;T+=2){const D=h[m[T]],x=m[T+1];Qn(4,D,x);try{x.call(D)}finally{Qn(5,D,x)}}else{Qn(4,h,m);try{m.call(h)}finally{Qn(5,h,m)}}}}}(t,n),function Cg(t,n){const i=t.cleanup,o=n[ds];if(null!==i)for(let m=0;m<i.length-1;m+=2)if("string"==typeof i[m]){const T=i[m+3];T>=0?o[T]():o[-T].unsubscribe(),m+=2}else i[m].call(o[i[m+1]]);null!==o&&(n[ds]=null);const h=n[Hs];if(null!==h){n[Hs]=null;for(let m=0;m<h.length;m++)(0,h[m])()}}(t,n),1===n[on].type&&n[Zn].destroy();const i=n[ps];if(null!==i&&$i(n[Sr])){i!==n[Sr]&&Wm(i,n);const o=n[gs];null!==o&&o.detachView(t)}!function Gh(t){rp.delete(t[Ms])}(n)}}function Zh(t,n,i){return function Kh(t,n,i){let o=n;for(;null!==o&&40&o.type;)o=(n=o).parent;if(null===o)return i[Or];{const{componentOffset:h}=o;if(h>-1){const{encapsulation:m}=t.data[o.directiveStart+h];if(m===Qt.None||m===Qt.Emulated)return null}return As(o,i)}}(t,n.parent,i)}function wo(t,n,i,o,h){t.insertBefore(n,i,o,h)}function Zm(t,n,i){t.appendChild(n,i)}function dp(t,n,i,o,h){null!==o?wo(t,n,i,o,h):Zm(t,n,i)}function hp(t,n){return t.parentNode(n)}function fp(t,n,i){return pp(t,n,i)}let Ag,Mg,xg,Vd,pp=function Nd(t,n,i){return 40&t.type?As(t,i):null};function mp(t,n,i,o){const h=Zh(t,o,n),m=n[Zn],D=fp(o.parent||n[ei],o,n);if(null!=h)if(Array.isArray(i))for(let x=0;x<i.length;x++)dp(m,h,i[x],D,!1);else dp(m,h,i,D,!1);void 0!==Ag&&Ag(m,o,n,i,h)}function Pu(t,n){if(null!==n){const i=n.type;if(3&i)return As(n,t);if(4&i)return Yh(-1,t[n.index]);if(8&i){const o=n.child;if(null!==o)return Pu(t,o);{const h=t[n.index];return $i(h)?Yh(-1,h):oi(h)}}if(32&i)return Rd(n,t)()||oi(t[n.index]);{const o=Dg(t,n);return null!==o?Array.isArray(o)?o[0]:Pu(Su(t[Bn]),o):Pu(t,n.next)}}return null}function Dg(t,n){return null!==n?t[Bn][ei].projection[n.projection]:null}function Yh(t,n){const i=di+t+1;if(i<n.length){const o=n[i],h=o[on].firstChild;if(null!==h)return Pu(o,h)}return n[Cs]}function Jh(t,n,i,o,h,m,T){for(;null!=i;){const D=o[i.index],x=i.type;if(T&&0===n&&(D&&ks(oi(D),o),i.flags|=2),32!=(32&i.flags))if(8&x)Jh(t,n,i.child,o,h,m,!1),cl(n,t,h,D,m);else if(32&x){const H=Rd(i,o);let ie;for(;ie=H();)cl(n,t,h,ie,m);cl(n,t,h,D,m)}else 16&x?Xh(t,n,o,i,h,m):cl(n,t,h,D,m);i=T?i.projectionNext:i.next}}function Hl(t,n,i,o,h,m){Jh(i,o,t.firstChild,n,h,m,!1)}function Xh(t,n,i,o,h,m){const T=i[Bn],x=T[ei].projection[o.projection];if(Array.isArray(x))for(let H=0;H<x.length;H++)cl(n,t,h,x[H],m);else{let H=x;const ie=T[Sr];Ad(o)&&(H.flags|=128),Jh(t,n,H,ie,h,m,!0)}}function ll(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function Sg(t,n,i){const{mergedAttrs:o,classes:h,styles:m}=i;null!==o&&Tr(t,n,o),null!==h&&ll(t,n,h),null!==m&&function vp(t,n,i){t.setAttribute(n,"style",i)}(t,n,m)}function Fd(t){return function ef(){if(void 0===Mg&&(Mg=null,Hn.trustedTypes))try{Mg=Hn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Mg}()?.createHTML(t)||t}function Ep(t){xg=t}function Xm(t){return function tf(){if(void 0===Vd&&(Vd=null,Hn.trustedTypes))try{Vd=Hn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Vd}()?.createScriptURL(t)||t}class Ru{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${qe})`}}class Ud extends Ru{getTypeName(){return"HTML"}}class e_ extends Ru{getTypeName(){return"Style"}}class Ip extends Ru{getTypeName(){return"Script"}}class ma extends Ru{getTypeName(){return"URL"}}class bp extends Ru{getTypeName(){return"ResourceURL"}}function Ic(t){return t instanceof Ru?t.changingThisBreaksApplicationSecurity:t}function bc(t,n){const i=function fy(t){return t instanceof Ru&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${qe})`)}return i===n}function Ng(t){return new Ud(t)}function t_(t){return new e_(t)}function Bd(t){return new Ip(t)}function n_(t){return new ma(t)}function Tp(t){return new bp(t)}class Cp{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(Fd(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class py{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=Fd(n),i}}const wp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function jd(t){return(t=String(t)).match(wp)?t:"unsafe:"+t}function _a(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function $d(...t){const n={};for(const i of t)for(const o in i)i.hasOwnProperty(o)&&(n[o]=!0);return n}const Fg=_a("area,br,col,hr,img,wbr"),Ap=_a("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Hd=_a("rp,rt"),ul=$d(Fg,$d(Ap,_a("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$d(Hd,_a("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$d(Hd,Ap)),Dp=_a("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xu=$d(Dp,_a("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_a("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ug=_a("script,style,template");class yy{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,o=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?o=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,o&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let h=this.checkClobberedElement(i,i.nextSibling);if(h){i=h;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!ul.hasOwnProperty(i))return this.sanitizedSomething=!0,!Ug.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const o=n.attributes;for(let h=0;h<o.length;h++){const m=o.item(h),T=m.name,D=T.toLowerCase();if(!xu.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let x=m.value;Dp[D]&&(x=jd(x)),this.buf.push(" ",T,'="',Bg(x),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();ul.hasOwnProperty(i)&&!Fg.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(Bg(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const vy=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,i_=/([^\#-~ |!])/g;function Bg(t){return t.replace(/&/g,"&amp;").replace(vy,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(i_,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Sp;function jg(t,n){let i=null;try{Sp=Sp||function kg(t){const n=new py(t);return function gy(){try{return!!(new window.DOMParser).parseFromString(Fd(""),"text/html")}catch{return!1}}()?new Cp(n):n}(t);let o=n?String(n):"";i=Sp.getInertBodyElement(o);let h=5,m=o;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,o=m,m=i.innerHTML,i=Sp.getInertBodyElement(o)}while(o!==m);return Fd((new yy).sanitizeChildren($g(i)||i))}finally{if(i){const o=$g(i)||i;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function $g(t){return"content"in t&&function Ey(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ou=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ou||{});function Hg(t){const n=wr();return n?n.sanitize(Ou.URL,t)||"":bc(t,"URL")?Ic(t):jd(He(t))}function s_(t){const n=wr();if(n)return Xm(n.sanitize(Ou.RESOURCE_URL,t)||"");if(bc(t,"ResourceURL"))return Xm(Ic(t));throw new Fe(904,!1)}function Mp(t,n,i){return function c_(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?s_:Hg}(n,i)(t)}function wr(){const t=Nt();return t&&t[yo].sanitizer}const nf=new rn("ENVIRONMENT_INITIALIZER"),l_=new rn("INJECTOR",-1),Nu=new rn("INJECTOR_DEF_TYPES");class rf{get(n,i=Nn){if(i===Nn){const o=new Error(`NullInjectorError: No provider for ${ye(n)}!`);throw o.name="NullInjectorError",o}return i}}function Ls(t){return{\u0275providers:t}}function as(...t){return{\u0275providers:Tc(0,t),\u0275fromNgModule:!0}}function Tc(t,...n){const i=[],o=new Set;let h;const m=T=>{i.push(T)};return Lo(n,T=>{const D=T;Gg(D,m,[],o)&&(h||=[],h.push(D))}),void 0!==h&&Cy(h,m),i}function Cy(t,n){for(let i=0;i<t.length;i++){const{ngModule:o,providers:h}=t[i];u_(h,m=>{n(m,o)})}}function Gg(t,n,i,o){if(!(t=ft(t)))return!1;let h=null,m=Lr(t);const T=!m&&Un(t);if(m||T){if(T&&!T.standalone)return!1;h=t}else{const x=t.ngModule;if(m=Lr(x),!m)return!1;h=x}const D=o.has(h);if(T){if(D)return!1;if(o.add(h),T.dependencies){const x="function"==typeof T.dependencies?T.dependencies():T.dependencies;for(const H of x)Gg(H,n,i,o)}}else{if(!m)return!1;{if(null!=m.imports&&!D){let H;o.add(h);try{Lo(m.imports,ie=>{Gg(ie,n,i,o)&&(H||=[],H.push(ie))})}finally{}void 0!==H&&Cy(H,n)}if(!D){const H=zs(h)||(()=>new h);n({provide:h,useFactory:H,deps:dn},h),n({provide:Nu,useValue:h,multi:!0},h),n({provide:nf,useValue:()=>Ot(h),multi:!0},h)}const x=m.providers;if(null!=x&&!D){const H=t;u_(x,ie=>{n(ie,H)})}}}return h!==t&&void 0!==t.providers}function u_(t,n){for(let i of t)Et(i)&&(i=i.\u0275providers),Array.isArray(i)?u_(i,n):n(i)}const d_=te({provide:String,useValue:te});function ku(t){return null!==t&&"object"==typeof t&&d_ in t}function zd(t){return"function"==typeof t}const h_=new rn("Set Injector scope."),Rp={},Vi={};let xp;function Op(){return void 0===xp&&(xp=new rf),xp}class Cc{}class Fu extends Cc{get destroyed(){return this._destroyed}constructor(n,i,o,h){super(),this.parent=i,this.source=o,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Lu(n,T=>this.processProvider(T)),this.records.set(l_,af(void 0,this)),h.has("environment")&&this.records.set(Cc,af(void 0,this));const m=this.records.get(h_);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Nu.multi,dn,bn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=Be(this),o=yr(void 0);try{return n()}finally{Be(i),yr(o)}}get(n,i=Nn,o=bn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(yn))return n[yn](this);o=ln(o);const m=Be(this),T=yr(void 0);try{if(!(o&bn.SkipSelf)){let x=this.records.get(n);if(void 0===x){const H=function f_(t){return"function"==typeof t||"object"==typeof t&&t instanceof rn}(n)&&Dn(n);x=H&&this.injectableDefInScope(H)?af(Wg(n),Rp):null,this.records.set(n,x)}if(null!=x)return this.hydrate(n,x)}return(o&bn.Self?Op():this.parent).get(n,i=o&bn.Optional&&i===Nn?null:i)}catch(D){if("NullInjectorError"===D.name){if((D[Er]=D[Er]||[]).unshift(ye(n)),m)throw D;return function Le(t,n,i,o){const h=t[Er];throw n[$]&&h.unshift(n[$]),t.message=function Dt(t,n,i,o=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let h=ye(n);if(Array.isArray(n))h=n.map(ye).join(" -> ");else if("object"==typeof n){let m=[];for(let T in n)if(n.hasOwnProperty(T)){let D=n[T];m.push(T+":"+("string"==typeof D?JSON.stringify(D):ye(D)))}h=`{${m.join(", ")}}`}return`${i}${o?"("+o+")":""}[${h}]: ${t.replace(re,"\n  ")}`}("\n"+t.message,h,i,o),t.ngTokenPath=h,t[Er]=null,t}(D,n,"R3InjectorError",this.source)}throw D}finally{yr(T),Be(m)}}resolveInjectorInitializers(){const n=Be(this),i=yr(void 0);try{const h=this.get(nf.multi,dn,bn.Self);for(const m of h)m()}finally{Be(n),yr(i)}}toString(){const n=[],i=this.records;for(const o of i.keys())n.push(ye(o));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Fe(205,!1)}processProvider(n){let i=zd(n=ft(n))?n:ft(n&&n.provide);const o=function Ay(t){return ku(t)?af(void 0,t.useValue):af(Dy(t),Rp)}(n);if(zd(n)||!0!==n.multi)this.records.get(i);else{let h=this.records.get(i);h||(h=af(void 0,Rp,!0),h.factory=()=>qn(h.multi),this.records.set(i,h)),i=n,h.multi.push(n)}this.records.set(i,o)}hydrate(n,i){return i.value===Rp&&(i.value=Vi,i.value=i.factory()),"object"==typeof i.value&&i.value&&function My(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=ft(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function Wg(t){const n=Dn(t),i=null!==n?n.factory:zs(t);if(null!==i)return i;if(t instanceof rn)throw new Fe(204,!1);if(t instanceof Function)return function wy(t){const n=t.length;if(n>0)throw Ol(n,"?"),new Fe(204,!1);const i=function Lt(t){return t&&(t[In]||t[Yn])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new Fe(204,!1)}function Dy(t,n,i){let o;if(zd(t)){const h=ft(t);return zs(h)||Wg(h)}if(ku(t))o=()=>ft(t.useValue);else if(function Pp(t){return!(!t||!t.useFactory)}(t))o=()=>t.useFactory(...qn(t.deps||[]));else if(function sf(t){return!(!t||!t.useExisting)}(t))o=()=>Ot(ft(t.useExisting));else{const h=ft(t&&(t.useClass||t.provide));if(!function Sy(t){return!!t.deps}(t))return zs(h)||Wg(h);o=()=>new h(...qn(t.deps))}return o}function af(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function Lu(t,n){for(const i of t)Array.isArray(i)?Lu(i,n):i&&Et(i)?Lu(i.\u0275providers,n):n(i)}const p_=new rn("AppId",{providedIn:"root",factory:()=>zl}),zl="ng",dl=new rn("Platform Initializer"),g_=new rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Np=new rn("AnimationModuleType"),Py=new rn("CSP nonce",{providedIn:"root",factory:()=>function Ld(){if(void 0!==xg)return xg;if(typeof document<"u")return document;throw new Fe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Qd=(t,n,i)=>null;function va(t,n,i=!1){return Qd(t,n,i)}class Gv{}class Qg{}class __{resolveComponentFactory(n){throw function Xd(t){const n=Error(`No component factory found for ${ye(t)}.`);return n.ngComponent=t,n}(n)}}let th=(()=>{class t{static#e=this.NULL=new __}return t})();function Ea(){return Zl(ss(),Nt())}function Zl(t,n){return new Kl(As(t,n))}let Kl=(()=>{class t{constructor(i){this.nativeElement=i}static#e=this.__NG_ELEMENT_ID__=Ea}return t})();function Up(t){return t instanceof Kl?t.nativeElement:t}class nh{}let y_=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function v_(){const t=Nt(),i=Ds(ss().index,t);return(hi(i)?i:t)[Zn]}()}return t})(),Jg=(()=>{class t{static#e=this.\u0275prov=Cn({token:t,providedIn:"root",factory:()=>null})}return t})();class Dc{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Ia=new Dc("16.2.12"),Sc={};function Is(t,n=null,i=null,o){const h=em(t,n,i,o);return h.resolveInjectorInitializers(),h}function em(t,n=null,i=null,o,h=new Set){const m=[i||dn,as(t)];return o=o||("object"==typeof t?void 0:ye(t)),new Fu(m,n||Op(),o||null,h)}let Mc=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Nn;static#t=this.NULL=new rf;static create(i,o){if(Array.isArray(i))return Is({name:""},o,i,"");{const h=i.name??"";return Is({name:h},i.parent,i.providers,h)}}static#n=this.\u0275prov=Cn({token:t,providedIn:"any",factory:()=>Ot(l_)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function E_(t){return t.ngOriginalError}class $u{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&E_(n);for(;i&&E_(i);)i=E_(i);return i||null}}function tm(t){return n=>{setTimeout(t,void 0,n)}}const ra=class Ly extends g.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,o){let h=n,m=i||(()=>null),T=o;if(n&&"object"==typeof n){const x=n;h=x.next?.bind(x),m=x.error?.bind(x),T=x.complete?.bind(x)}this.__isAsync&&(m=tm(m),h&&(h=tm(h)),T&&(T=tm(T)));const D=super.subscribe({next:h,error:m,complete:T});return n instanceof u.w0&&n.add(D),D}};function hf(...t){}class zi{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ra(!1),this.onMicrotaskEmpty=new ra(!1),this.onStable=new ra(!1),this.onError=new ra(!1),typeof Zone>"u")throw new Fe(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!o&&i,h.shouldCoalesceRunChangeDetection=o,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function b_(){const t="function"==typeof Hn.requestAnimationFrame;let n=Hn[t?"requestAnimationFrame":"setTimeout"],i=Hn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const h=i[Zone.__symbol__("OriginalDelegate")];h&&(i=h)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function By(t){const n=()=>{!function Uy(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Hn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,rm(t),t.isCheckStableRunning=!0,nm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),rm(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,o,h,m,T,D)=>{if(function w_(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(D))return i.invokeTask(h,m,T,D);try{return T_(t),i.invokeTask(h,m,T,D)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||t.shouldCoalesceRunChangeDetection)&&n(),C_(t)}},onInvoke:(i,o,h,m,T,D,x)=>{try{return T_(t),i.invoke(h,m,T,D,x)}finally{t.shouldCoalesceRunChangeDetection&&n(),C_(t)}},onHasTask:(i,o,h,m)=>{i.hasTask(h,m),o===h&&("microTask"==m.change?(t._hasPendingMicrotasks=m.microTask,rm(t),nm(t)):"macroTask"==m.change&&(t.hasPendingMacrotasks=m.macroTask))},onHandleError:(i,o,h,m)=>(i.handleError(h,m),t.runOutsideAngular(()=>t.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!zi.isInAngularZone())throw new Fe(909,!1)}static assertNotInAngularZone(){if(zi.isInAngularZone())throw new Fe(909,!1)}run(n,i,o){return this._inner.run(n,i,o)}runTask(n,i,o,h){const m=this._inner,T=m.scheduleEventTask("NgZoneEvent: "+h,n,ff,hf,hf);try{return m.runTask(T,i,o)}finally{m.cancelTask(T)}}runGuarded(n,i,o){return this._inner.runGuarded(n,i,o)}runOutsideAngular(n){return this._outer.run(n)}}const ff={};function nm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function rm(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function T_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function C_(t){t._nesting--,nm(t)}class Zv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ra,this.onMicrotaskEmpty=new ra,this.onStable=new ra,this.onError=new ra}run(n,i,o){return n.apply(i,o)}runGuarded(n,i,o){return n.apply(i,o)}runOutsideAngular(n){return n()}runTask(n,i,o,h){return n.apply(i,o)}}const Hu=new rn("",{providedIn:"root",factory:im});function im(){const t=Xt(zi);let n=!0;const i=new G.y(h=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{h.next(n),h.complete()})}),o=new G.y(h=>{let m;t.runOutsideAngular(()=>{m=t.onStable.subscribe(()=>{zi.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,h.next(!0))})})});const T=t.onUnstable.subscribe(()=>{zi.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{h.next(!1)}))});return()=>{m.unsubscribe(),T.unsubscribe()}});return(0,be.T)(i,o.pipe((0,Se.B)()))}function fl(t){return t instanceof Function?t():t}let ah=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Cn({token:t,providedIn:"root",factory:()=>new t})}return t})();function mf(t){for(;t;){t[Wn]|=64;const n=Su(t);if(ia(t)&&!n)return t;t=n}return null}const Kv=new rn("",{providedIn:"root",factory:()=>!1});let ch=null;function yf(t,n){return t[n]??s()}function l(t,n){const i=s();i.producerNode?.length&&(t[n]=ch,i.lView=t,ch=r())}const e={...au,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{mf(t.lView)},lView:null};function r(){return Object.create(e)}function s(){return ch??=r(),ch}const d={};function y(t){I(Nr(),Nt(),ys()+t,!1)}function I(t,n,i,o){if(!o)if(3==(3&n[Wn])){const m=t.preOrderCheckHooks;null!==m&&Eo(n,m,i)}else{const m=t.preOrderHooks;null!==m&&ea(n,m,0,i)}Zc(i)}function R(t,n=bn.Default){const i=Nt();return null===i?Ot(t,n):na(ss(),i,ft(t),n)}function L(){throw new Error("invalid")}function se(t,n,i,o,h,m,T,D,x,H,ie){const _e=n.blueprint.slice();return _e[Or]=h,_e[Wn]=140|o,(null!==H||t&&2048&t[Wn])&&(_e[Wn]|=2048),xo(_e),_e[Sr]=_e[Oi]=t,_e[Cr]=i,_e[yo]=T||t&&t[yo],_e[Zn]=D||t&&t[Zn],_e[hs]=x||t&&t[hs]||null,_e[ei]=m,_e[Ms]=function co(){return Um++}(),_e[Jn]=ie,_e[Vc]=H,_e[Bn]=2==n.type?t[Bn]:_e,_e}function ge(t,n,i,o,h){let m=t.data[n];if(null===m)m=function Oe(t,n,i,o,h){const m=Li(),T=qc(),x=t.data[n]=function et(t,n,i,o,h,m){let T=n?n.injectorIndex:-1,D=0;return La()&&(D|=128),{type:i,index:o,insertBeforeIndex:null,injectorIndex:T,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:D,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?m:m&&m.parent,i,n,o,h);return null===t.firstChild&&(t.firstChild=x),null!==m&&(T?null==m.child&&null!==x.parent&&(m.child=x):null===m.next&&(m.next=x,x.prev=m)),x}(t,n,i,o,h),function O(){return Xn.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=i,m.value=o,m.attrs=h;const T=function Cl(){const t=Xn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();m.injectorIndex=null===T?-1:T.injectorIndex}return ms(m,!0),m}function ot(t,n,i,o){if(0===i)return-1;const h=n.length;for(let m=0;m<i;m++)n.push(o),t.blueprint.push(o),t.data.push(null);return h}function Rt(t,n,i,o,h){const m=yf(n,fr),T=ys(),D=2&o;try{Zc(-1),D&&n.length>cr&&I(t,n,cr,!1),Qn(D?2:0,h);const H=D?m:null,ie=ir(H);try{null!==H&&(H.dirty=!1),i(o,h)}finally{jc(H,ie)}}finally{D&&null===n[fr]&&l(n,fr),Zc(T),Qn(D?3:1,h)}}function Zt(t,n,i){if(Ya(n)){const o=Fi(null);try{const m=n.directiveEnd;for(let T=n.directiveStart;T<m;T++){const D=t.data[T];D.contentQueries&&D.contentQueries(1,i[T],T)}}finally{Fi(o)}}}function Bt(t,n,i){Ti()&&(function Yy(t,n,i,o){const h=i.directiveStart,m=i.directiveEnd;Ps(i)&&function om(t,n,i){const o=As(n,t),h=zn(i);let T=16;i.signals?T=4096:i.onPush&&(T=64);const D=fh(t,se(t,h,null,T,o,n,null,t[yo].rendererFactory.createRenderer(o,i),null,null,null));t[n.index]=D}(n,i,t.data[h+i.componentOffset]),t.firstCreatePass||_d(i,n),ks(o,n);const T=i.initialInputs;for(let D=h;D<m;D++){const x=t.data[D],H=Yc(n,t,D,i);ks(H,n),null!==T&&O_(0,D-h,H,x,0,T),ki(x)&&(Ds(i.index,n)[Cr]=Yc(n,t,D,i))}}(t,n,i,As(i,n)),64==(64&i.flags)&&uh(t,n,i))}function Pn(t,n,i=As){const o=n.localNames;if(null!==o){let h=n.index+1;for(let m=0;m<o.length;m+=2){const T=o[m+1],D=-1===T?i(n,t):t[T];t[h++]=D}}}function zn(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=kn(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function kn(t,n,i,o,h,m,T,D,x,H,ie){const _e=cr+o,ze=_e+h,tt=function mr(t,n){const i=[];for(let o=0;o<n;o++)i.push(o<t?null:d);return i}(_e,ze),Pt="function"==typeof H?H():H;return tt[on]={type:t,blueprint:tt,template:i,queries:null,viewQuery:D,declTNode:n,data:tt.slice().fill(null,_e),bindingStartIndex:_e,expandoStartIndex:ze,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:x,consts:Pt,incompleteFirstPass:!1,ssrId:ie}}let Qe=t=>null;function gt(t,n,i,o){for(let h in t)if(t.hasOwnProperty(h)){i=null===i?{}:i;const m=t[h];null===o?Ve(i,n,h,m):o.hasOwnProperty(h)&&Ve(i,n,o[h],m)}return i}function Ve(t,n,i,o){t.hasOwnProperty(i)?t[i].push(n,o):t[i]=[n,o]}function Uo(t,n,i,o,h,m,T,D){const x=As(n,i);let ie,H=n.inputs;!D&&null!=H&&(ie=H[o])?(Ss(t,i,ie,o,h),Ps(n)&&function Yl(t,n){const i=Ds(n,t);16&i[Wn]||(i[Wn]|=64)}(i,n.index)):3&n.type&&(o=function vf(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(o),h=null!=T?T(h,n.value||"",o):h,m.setProperty(x,o,h))}function lh(t,n,i,o){if(Ti()){const h=null===o?null:{"":-1},m=function dh(t,n){const i=t.directiveRegistry;let o=null,h=null;if(i)for(let m=0;m<i.length;m++){const T=i[m];if(Yr(n,T.selectors,!1))if(o||(o=[]),ki(T))if(null!==T.findHostDirectiveDefs){const D=[];h=h||new Map,T.findHostDirectiveDefs(T,D,h),o.unshift(...D,T),hh(t,n,D.length)}else o.unshift(T),hh(t,n,0);else h=h||new Map,T.findHostDirectiveDefs?.(T,o,h),o.push(T)}return null===o?null:[o,h]}(t,i);let T,D;null===m?T=D=null:[T,D]=m,null!==T&&R_(t,n,i,T,h,D),h&&function x_(t,n,i){if(n){const o=t.localNames=[];for(let h=0;h<n.length;h+=2){const m=i[n[h+1]];if(null==m)throw new Fe(-301,!1);o.push(n[h],m)}}}(i,o,h)}i.mergedAttrs=nr(i.mergedAttrs,i.attrs)}function R_(t,n,i,o,h,m){for(let H=0;H<o.length;H++)uc(_d(i,n),t,o[H].type);!function If(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,o.length);for(let H=0;H<o.length;H++){const ie=o[H];ie.providersResolver&&ie.providersResolver(ie)}let T=!1,D=!1,x=ot(t,n,o.length,null);for(let H=0;H<o.length;H++){const ie=o[H];i.mergedAttrs=nr(i.mergedAttrs,ie.hostAttrs),sm(t,i,n,x,ie),Wp(x,ie,h),null!==ie.contentQueries&&(i.flags|=4),(null!==ie.hostBindings||null!==ie.hostAttrs||0!==ie.hostVars)&&(i.flags|=64);const _e=ie.type.prototype;!T&&(_e.ngOnChanges||_e.ngOnInit||_e.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),T=!0),!D&&(_e.ngOnChanges||_e.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),D=!0),x++}!function Rc(t,n,i){const h=n.directiveEnd,m=t.data,T=n.attrs,D=[];let x=null,H=null;for(let ie=n.directiveStart;ie<h;ie++){const _e=m[ie],ze=i?i.get(_e):null,Pt=ze?ze.outputs:null;x=gt(_e.inputs,ie,x,ze?ze.inputs:null),H=gt(_e.outputs,ie,H,Pt);const Yt=null===x||null===T||Vr(n)?null:N_(x,ie,T);D.push(Yt)}null!==x&&(x.hasOwnProperty("class")&&(n.flags|=8),x.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=D,n.inputs=x,n.outputs=H}(t,i,m)}function uh(t,n,i){const o=i.directiveStart,h=i.directiveEnd,m=i.index,T=function z(){return Xn.lFrame.currentDirectiveIndex}();try{Zc(m);for(let D=o;D<h;D++){const x=t.data[D],H=n[D];ce(D),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&Qy(x,H)}}finally{Zc(-1),ce(T)}}function Qy(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function hh(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function Wp(t,n,i){if(i){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)i[n.exportAs[o]]=t;ki(n)&&(i[""]=t)}}function sm(t,n,i,o,h){t.data[o]=h;const m=h.factory||(h.factory=zs(h.type)),T=new Al(m,ki(h),R);t.blueprint[o]=T,i[o]=T,function pl(t,n,i,o,h){const m=h.hostBindings;if(m){let T=t.hostBindingOpCodes;null===T&&(T=t.hostBindingOpCodes=[]);const D=~n.index;(function uo(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(T)!=D&&T.push(D),T.push(i,o,m)}}(t,n,o,ot(t,i,h.hostVars,d),h)}function ba(t,n,i,o,h,m){const T=As(t,n);!function bf(t,n,i,o,h,m,T){if(null==m)t.removeAttribute(n,h,i);else{const D=null==T?He(m):T(m,o||"",h);t.setAttribute(n,h,D,i)}}(n[Zn],T,m,t.value,i,o,h)}function O_(t,n,i,o,h,m){const T=m[n];if(null!==T)for(let D=0;D<T.length;)am(o,i,T[D++],T[D++],T[D++])}function am(t,n,i,o,h){const m=Fi(null);try{const T=t.inputTransforms;null!==T&&T.hasOwnProperty(o)&&(h=T[o].call(n,h)),null!==t.setInput?t.setInput(n,h,i,o):n[o]=h}finally{Fi(m)}}function N_(t,n,i){let o=null,h=0;for(;h<i.length;){const m=i[h];if(0!==m)if(5!==m){if("number"==typeof m)break;if(t.hasOwnProperty(m)){null===o&&(o=[]);const T=t[m];for(let D=0;D<T.length;D+=2)if(T[D]===n){o.push(m,T[D+1],i[h+1]);break}}h+=2}else h+=2;else h+=4}return o}function Tf(t,n,i,o){return[t,!0,!1,n,null,0,o,i,null,null,null]}function qp(t,n){const i=t.contentQueries;if(null!==i)for(let o=0;o<i.length;o+=2){const m=i[o+1];if(-1!==m){const T=t.data[m];pt(i[o]),T.contentQueries(2,n[m],m)}}}function fh(t,n){return t[fs]?t[kr][Di]=n:t[fs]=n,t[kr]=n,n}function cm(t,n,i){pt(0);const o=Fi(null);try{n(t,i)}finally{Fi(o)}}function lm(t){return t[ds]||(t[ds]=[])}function Cf(t){return t.cleanup||(t.cleanup=[])}function Yi(t,n){const i=t[hs],o=i?i.get($u,null):null;o&&o.handleError(n)}function Ss(t,n,i,o,h){for(let m=0;m<i.length;){const T=i[m++],D=i[m++];am(t.data[T],n[T],o,D,h)}}function Ga(t,n,i){const o=Ro(n,t);!function $m(t,n,i){t.setValue(n,i)}(t[Zn],o,i)}function k_(t,n){const i=Ds(n,t),o=i[on];!function Zp(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(o,i);const h=i[Or];null!==h&&null===i[Jn]&&(i[Jn]=va(h,i[hs])),um(o,i,i[Cr])}function um(t,n,i){qr(n);try{const o=t.viewQuery;null!==o&&cm(1,o,i);const h=t.template;null!==h&&Rt(t,n,h,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&qp(t,n),t.staticViewQueries&&cm(2,t.viewQuery,i);const m=t.components;null!==m&&function wf(t,n){for(let i=0;i<n.length;i++)k_(t,n[i])}(n,m)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{n[Wn]&=-5,cc()}}let dm=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,o,h){const m=typeof Zone>"u"?null:Zone.current,T=function Mt(t,n,i){const o=Object.create(Pr);i&&(o.consumerAllowSignalWrites=!0),o.fn=t,o.schedule=n;const h=T=>{o.cleanupFn=T};return o.ref={notify:()=>xa(o),run:()=>{if(o.dirty=!1,o.hasRun&&!$c(o))return;o.hasRun=!0;const T=ir(o);try{o.cleanupFn(),o.cleanupFn=_n,o.fn(h)}finally{jc(o,T)}},cleanup:()=>o.cleanupFn()},o.ref}(i,H=>{this.all.has(H)&&this.queue.set(H,m)},h);let D;this.all.add(T),T.notify();const x=()=>{T.cleanup(),D?.(),this.all.delete(T),this.queue.delete(T)};return D=o?.onDestroy(x),{destroy:x}}flush(){if(0!==this.queue.size)for(const[i,o]of this.queue)this.queue.delete(i),o?o.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Cn({token:t,providedIn:"root",factory:()=>new t})}return t})();function ph(t,n,i){let o=i?t.styles:null,h=i?t.classes:null,m=0;if(null!==n)for(let T=0;T<n.length;T++){const D=n[T];"number"==typeof D?m=D:1==m?h=st(h,D):2==m&&(o=st(o,D+": "+n[++T]+";"))}i?t.styles=o:t.stylesWithoutHost=o,i?t.classes=h:t.classesWithoutHost=h}function Kp(t,n,i,o,h=!1){for(;null!==i;){const m=n[i.index];null!==m&&o.push(oi(m)),$i(m)&&Jy(m,o);const T=i.type;if(8&T)Kp(t,n,i.child,o);else if(32&T){const D=Rd(i,n);let x;for(;x=D();)o.push(x)}else if(16&T){const D=Dg(n,i);if(Array.isArray(D))o.push(...D);else{const x=Su(n[Bn]);Kp(x[on],x,D,o,!0)}}i=h?i.projectionNext:i.next}return o}function Jy(t,n){for(let i=di;i<t.length;i++){const o=t[i],h=o[on].firstChild;null!==h&&Kp(o[on],o,h,n)}t[Cs]!==t[Or]&&n.push(t[Cs])}function Af(t,n,i,o=!0){const h=n[yo],m=h.rendererFactory,T=h.afterRenderEventManager;m.begin?.(),T?.begin();try{Df(t,n,t.template,i)}catch(x){throw o&&Yi(n,x),x}finally{m.end?.(),h.effectManager?.flush(),T?.end()}}function Df(t,n,i,o){const h=n[Wn];if(256!=(256&h)){n[yo].effectManager?.flush(),qr(n);try{xo(n),function dd(t){return Xn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&Rt(t,n,i,2,o);const T=3==(3&h);if(T){const H=t.preOrderCheckHooks;null!==H&&Eo(n,H,null)}else{const H=t.preOrderHooks;null!==H&&ea(n,H,0,null),Fo(n,0)}if(function L_(t){for(let n=bg(t);null!==n;n=Wh(n)){if(!n[Ni])continue;const i=n[Go];for(let o=0;o<i.length;o++){Oo(i[o])}}}(n),hm(n,2),null!==t.contentQueries&&qp(t,n),T){const H=t.contentCheckHooks;null!==H&&Eo(n,H)}else{const H=t.contentHooks;null!==H&&ea(n,H,1),Fo(n,1)}!function K(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const o=yf(n,vo);try{for(let h=0;h<i.length;h++){const m=i[h];if(m<0)Zc(~m);else{const T=m,D=i[++h],x=i[++h];N(D,T),o.dirty=!1;const H=ir(o);try{x(2,n[T])}finally{jc(o,H)}}}}finally{null===n[vo]&&l(n,vo),Zc(-1)}}(t,n);const D=t.components;null!==D&&Gu(n,D,0);const x=t.viewQuery;if(null!==x&&cm(2,x,o),T){const H=t.viewCheckHooks;null!==H&&Eo(n,H)}else{const H=t.viewHooks;null!==H&&ea(n,H,2),Fo(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Wn]&=-73,id(n)}finally{cc()}}}function hm(t,n){for(let i=bg(t);null!==i;i=Wh(i))for(let o=di;o<i.length;o++)Yp(i[o],n)}function gh(t,n,i){Yp(Ds(n,t),i)}function Yp(t,n){if(!function sc(t){return 128==(128&t[Wn])}(t))return;const i=t[on],o=t[Wn];if(80&o&&0===n||1024&o||2===n)Df(i,t,i.template,t[Cr]);else if(t[Qs]>0){hm(t,1);const h=i.components;null!==h&&Gu(t,h,1)}}function Gu(t,n,i){for(let o=0;o<n.length;o++)gh(t,n[o],i)}class Ql{get rootNodes(){const n=this._lView,i=n[on];return Kp(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Cr]}set context(n){this._lView[Cr]=n}get destroyed(){return 256==(256&this._lView[Wn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Sr];if($i(n)){const i=n[8],o=i?i.indexOf(this):-1;o>-1&&(up(n,o),mc(i,o))}this._attachedToViewContainer=!1}Co(this._lView[on],this._lView)}onDestroy(n){!function Hf(t,n){if(256==(256&t[Wn]))throw new Fe(911,!1);null===t[Hs]&&(t[Hs]=[]),t[Hs].push(n)}(this._lView,n)}markForCheck(){mf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Wn]&=-129}reattach(){this._lView[Wn]|=128}detectChanges(){Af(this._lView[on],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function lp(t,n){Hl(t,n,n[Zn],2,null,null)}(this._lView[on],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Fe(902,!1);this._appRef=n}}class Qp extends Ql{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Af(n[on],n,n[Cr],!1)}checkNoChanges(){}get context(){return null}}class Sf extends th{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Un(n);return new Jl(i,this.ngModule)}}function ho(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class Jp{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,o){o=ln(o);const h=this.injector.get(n,Sc,o);return h!==Sc||i===Sc?h:this.parentInjector.get(n,i,o)}}class Jl extends Qg{get inputs(){const n=this.componentDef,i=n.inputTransforms,o=ho(n.inputs);if(null!==i)for(const h of o)i.hasOwnProperty(h.propName)&&(h.transform=i[h.propName]);return o}get outputs(){return ho(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Ji(t){return t.map(Bi).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,o,h){let m=(h=h||this.ngModule)instanceof Cc?h:h?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const T=m?new Jp(n,m):n,D=T.get(nh,null);if(null===D)throw new Fe(407,!1);const _e={rendererFactory:D,sanitizer:T.get(Jg,null),effectManager:T.get(dm,null),afterRenderEventManager:T.get(ah,null)},ze=D.createRenderer(null,this.componentDef),tt=this.componentDef.selectors[0][0]||"div",Pt=o?function zr(t,n,i,o){const m=o.get(Kv,!1)||i===Qt.ShadowDom,T=t.selectRootElement(n,m);return function xr(t){Qe(t)}(T),T}(ze,o,this.componentDef.encapsulation,T):cp(ze,tt,function V_(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(tt)),Kn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let $t=null;null!==Pt&&($t=va(Pt,T,!0));const Ir=kn(0,null,null,1,0,null,null,null,null,null,null),jr=se(null,Ir,null,Kn,null,null,_e,ze,T,null,$t);let xi,kc;qr(jr);try{const $f=this.componentDef;let ly,$0=null;$f.findHostDirectiveDefs?(ly=[],$0=new Map,$f.findHostDirectiveDefs($f,ly,$0),ly.push($f)):ly=[$f];const KA=function Jv(t,n){const i=t[on],o=cr;return t[o]=n,ge(i,o,2,"#host",null)}(jr,Pt),YA=function Mf(t,n,i,o,h,m,T){const D=h[on];!function Xv(t,n,i,o){for(const h of t)n.mergedAttrs=nr(n.mergedAttrs,h.hostAttrs);null!==n.mergedAttrs&&(ph(n,n.mergedAttrs,!0),null!==i&&Sg(o,i,n))}(o,t,n,T);let x=null;null!==n&&(x=va(n,h[hs]));const H=m.rendererFactory.createRenderer(n,i);let ie=16;i.signals?ie=4096:i.onPush&&(ie=64);const _e=se(h,zn(i),null,ie,h[t.index],t,m,H,null,null,x);return D.firstCreatePass&&hh(D,t,o.length-1),fh(h,_e),h[t.index]=_e}(KA,Pt,$f,ly,jr,_e,ze);kc=Tl(Ir,cr),Pt&&function fm(t,n,i,o){if(o)Tr(t,i,["ng-version",Ia.full]);else{const{attrs:h,classes:m}=function Aa(t){const n=[],i=[];let o=1,h=2;for(;o<t.length;){let m=t[o];if("string"==typeof m)2===h?""!==m&&n.push(m,t[++o]):8===h&&i.push(m);else{if(!Ui(h))break;h=m}o++}return{attrs:n,classes:i}}(n.selectors[0]);h&&Tr(t,i,h),m&&m.length>0&&ll(t,i,m.join(" "))}}(ze,$f,Pt,o),void 0!==i&&function nv(t,n,i){const o=t.projection=[];for(let h=0;h<n.length;h++){const m=i[h];o.push(null!=m?Array.from(m):null)}}(kc,this.ngContentSelectors,i),xi=function eE(t,n,i,o,h,m){const T=ss(),D=h[on],x=As(T,h);R_(D,h,T,i,null,o);for(let ie=0;ie<i.length;ie++)ks(Yc(h,D,T.directiveStart+ie,T),h);uh(D,h,T),x&&ks(x,h);const H=Yc(h,D,T.directiveStart+T.componentOffset,T);if(t[Cr]=h[Cr]=H,null!==m)for(const ie of m)ie(H,n);return Zt(D,T,t),H}(YA,$f,ly,$0,jr,[U_]),um(Ir,jr,null)}finally{cc()}return new tv(this.componentType,xi,Zl(kc,jr),jr,kc)}}class tv extends Gv{constructor(n,i,o,h,m){super(),this.location=o,this._rootLView=h,this._tNode=m,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new Qp(h),this.componentType=n}setInput(n,i){const o=this._tNode.inputs;let h;if(null!==o&&(h=o[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const m=this._rootLView;Ss(m[on],m,h,n,i),this.previousInputValues.set(n,i),mf(Ds(this._tNode.index,m))}}get injector(){return new Es(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function U_(){const t=ss();Mh(Nt()[on],t)}function gl(t){let n=function Xp(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const o=[t];for(;n;){let h;if(ki(t))h=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Fe(903,!1);h=n.\u0275dir}if(h){if(i){o.push(h);const T=t;T.inputs=eg(t.inputs),T.inputTransforms=eg(t.inputTransforms),T.declaredInputs=eg(t.declaredInputs),T.outputs=eg(t.outputs);const D=h.hostBindings;D&&iv(t,D);const x=h.viewQuery,H=h.contentQueries;if(x&&B_(t,x),H&&j_(t,H),oe(t.inputs,h.inputs),oe(t.declaredInputs,h.declaredInputs),oe(t.outputs,h.outputs),null!==h.inputTransforms&&(null===T.inputTransforms&&(T.inputTransforms={}),oe(T.inputTransforms,h.inputTransforms)),ki(h)&&h.data.animation){const ie=t.data;ie.animation=(ie.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let T=0;T<m.length;T++){const D=m[T];D&&D.ngInherit&&D(t),D===gl&&(i=!1)}}n=Object.getPrototypeOf(n)}!function rv(t){let n=0,i=null;for(let o=t.length-1;o>=0;o--){const h=t[o];h.hostVars=n+=h.hostVars,h.hostAttrs=nr(h.hostAttrs,i=nr(i,h.hostAttrs))}}(o)}function eg(t){return t===ar?{}:t===dn?[]:t}function B_(t,n){const i=t.viewQuery;t.viewQuery=i?(o,h)=>{n(o,h),i(o,h)}:n}function j_(t,n){const i=t.contentQueries;t.contentQueries=i?(o,h,m)=>{n(o,h,m),i(o,h,m)}:n}function iv(t,n){const i=t.hostBindings;t.hostBindings=i?(o,h)=>{n(o,h),i(o,h)}:n}function $_(t){const n=t.inputConfig,i={};for(const o in n)if(n.hasOwnProperty(o)){const h=n[o];Array.isArray(h)&&h[2]&&(i[o]=h[2])}t.inputTransforms=i}function tg(t){return!!mm(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function mm(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ml(t,n,i){return t[n]=i}function fo(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function Wu(t,n,i,o){const h=fo(t,n,i);return fo(t,n+1,o)||h}function xc(t,n,i,o){const h=Nt();return fo(h,ca(),n)&&(Nr(),ba(fi(),h,t,n,i,o)),xc}function eu(t,n,i,o){return fo(t,ca(),i)?n+He(i)+o:d}function _h(t,n,i,o,h,m){const D=Wu(t,function ko(){return Xn.lFrame.bindingIndex}(),i,h);return S(2),D?n+He(i)+o+He(h)+m:d}function Im(t,n,i,o,h,m,T,D){const x=Nt(),H=Nr(),ie=t+cr,_e=H.firstCreatePass?function bv(t,n,i,o,h,m,T,D,x){const H=n.consts,ie=ge(n,t,4,T||null,ro(H,D));lh(n,i,ie,ro(H,x)),Mh(n,ie);const _e=ie.tView=kn(2,ie,o,h,m,n.directiveRegistry,n.pipeRegistry,null,n.schemas,H,null);return null!==n.queries&&(n.queries.template(n,ie),_e.queries=n.queries.embeddedTView(ie)),ie}(ie,H,x,n,i,o,h,m,T):H.data[ie];ms(_e,!1);const ze=bm(H,x,_e,t);Xo()&&mp(H,x,ze,_e),ks(ze,x),fh(x,x[ie]=Tf(ze,x,ze,_e)),Js(_e)&&Bt(H,x,_e),null!=T&&Pn(x,_e,D)}let bm=function X_(t,n,i,o){return ua(!0),n[Zn].createComment("")};function Qu(t){return Jo(function ld(){return Xn.lFrame.contextLView}(),cr+t)}function Cm(t,n,i){const o=Nt();return fo(o,ca(),n)&&Uo(Nr(),fi(),o,t,n,o[Zn],i,!1),Cm}function wm(t,n,i,o,h){const T=h?"class":"style";Ss(t,i,n.inputs[T],T,o)}function sg(t,n,i,o){const h=Nt(),m=Nr(),T=cr+t,D=h[Zn],x=m.firstCreatePass?function wv(t,n,i,o,h,m){const T=n.consts,x=ge(n,t,2,o,ro(T,h));return lh(n,i,x,ro(T,m)),null!==x.attrs&&ph(x,x.attrs,!1),null!==x.mergedAttrs&&ph(x,x.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,x),x}(T,m,h,n,i,o):m.data[T],H=ey(m,h,x,D,n,t);h[T]=H;const ie=Js(x);return ms(x,!0),Sg(D,H,x),32!=(32&x.flags)&&Xo()&&mp(m,h,H,x),0===function Fa(){return Xn.lFrame.elementDepthCount}()&&ks(H,h),function wh(){Xn.lFrame.elementDepthCount++}(),ie&&(Bt(m,h,x),Zt(m,x,h)),null!==o&&Pn(h,x),sg}function Eh(){let t=ss();qc()?ac():(t=t.parent,ms(t,!1));const n=t;(function Ah(t){return Xn.skipHydrationRootTNode===t})(n)&&function lg(){Xn.skipHydrationRootTNode=null}(),function od(){Xn.lFrame.elementDepthCount--}();const i=Nr();return i.firstCreatePass&&(Mh(i,t),Ya(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function ug(t){return 0!=(8&t.flags)}(n)&&wm(i,n,Nt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Ph(t){return 0!=(16&t.flags)}(n)&&wm(i,n,Nt(),n.stylesWithoutHost,!1),Eh}function Bo(t,n,i,o){return sg(t,n,i,o),Eh(),Bo}let ey=(t,n,i,o,h,m)=>(ua(!0),cp(o,h,function la(){return Xn.lFrame.currentNamespace}()));function wi(){return Nt()}function Us(t){return!!t&&"function"==typeof t.then}function ni(t){return!!t&&"function"==typeof t.subscribe}function Ks(t,n,i,o){const h=Nt(),m=Nr(),T=ss();return function Wa(t,n,i,o,h,m,T){const D=Js(o),H=t.firstCreatePass&&Cf(t),ie=n[Cr],_e=lm(n);let ze=!0;if(3&o.type||T){const Yt=As(o,n),En=T?T(Yt):Yt,Kn=_e.length,$t=T?jr=>T(oi(jr[o.index])):o.index;let Ir=null;if(!T&&D&&(Ir=function Uf(t,n,i,o){const h=t.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const T=h[m];if(T===i&&h[m+1]===o){const D=n[ds],x=h[m+2];return D.length>x?D[x]:null}"string"==typeof T&&(m+=2)}return null}(t,n,h,o.index)),null!==Ir)(Ir.__ngLastListenerFn__||Ir).__ngNextListenerFn__=m,Ir.__ngLastListenerFn__=m,ze=!1;else{m=Am(o,n,ie,m,!1);const jr=i.listen(En,h,m);_e.push(m,jr),H&&H.push(h,$t,Kn,Kn+1)}}else m=Am(o,n,ie,m,!1);const tt=o.outputs;let Pt;if(ze&&null!==tt&&(Pt=tt[h])){const Yt=Pt.length;if(Yt)for(let En=0;En<Yt;En+=2){const xi=n[Pt[En]][Pt[En+1]].subscribe(m),kc=_e.length;_e.push(m,xi),H&&H.push(h,o.index,kc,-(kc+1))}}}(m,h,h[Zn],T,t,n,o),Ks}function og(t,n,i,o){try{return Qn(6,n,i),!1!==i(o)}catch(h){return Yi(t,h),!1}finally{Qn(7,n,i)}}function Am(t,n,i,o,h){return function m(T){if(T===Function)return o;mf(t.componentOffset>-1?Ds(t.index,n):n);let x=og(n,i,o,T),H=m.__ngNextListenerFn__;for(;H;)x=og(n,i,H,T)&&x,H=H.__ngNextListenerFn__;return h&&!1===x&&T.preventDefault(),x}}function kE(t=1){return function so(t){return(Xn.lFrame.contextLView=function du(t,n){for(;t>0;)n=n[Oi],t--;return n}(t,Xn.lFrame.contextLView))[Cr]}(t)}function H0(t,n){let i=null;const o=function Lc(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(t);for(let h=0;h<n.length;h++){const m=n[h];if("*"!==m){if(null===o?Yr(t,m,!0):wa(o,m))return h}else i=h}return i}function FE(t){const n=Nt()[Bn][ei];if(!n.projection){const o=n.projection=Ol(t?t.length:1,null),h=o.slice();let m=n.child;for(;null!==m;){const T=t?H0(m,t):0;null!==T&&(h[T]?h[T].projectionNext=m:o[T]=m,h[T]=m),m=m.next}}}function LE(t,n=0,i){const o=Nt(),h=Nr(),m=ge(h,cr+t,16,null,i||null);null===m.projection&&(m.projection=n),ac(),(!o[Jn]||La())&&32!=(32&m.flags)&&function kd(t,n,i){Xh(n[Zn],0,n,i,Zh(t,i,n),fp(i.parent||n[ei],i,n))}(h,o,m)}function oE(t,n,i){return Dv(t,"",n,"",i),oE}function Dv(t,n,i,o,h){const m=Nt(),T=eu(m,n,i,o);return T!==d&&Uo(Nr(),fi(),m,t,T,m[Zn],h,!1),Dv}function Sv(t,n){return t<<17|n<<2}function Bf(t){return t>>17&32767}function aE(t){return 2|t}function ag(t){return(131068&t)>>2}function cE(t,n){return-131069&t|n<<2}function lE(t){return 1|t}function Pv(t,n,i,o,h){const m=t[i+1],T=null===n;let D=o?Bf(m):ag(m),x=!1;for(;0!==D&&(!1===x||T);){const ie=t[D+1];qE(t[D],n)&&(x=!0,t[D+1]=o?lE(ie):aE(ie)),D=o?Bf(ie):ag(ie)}x&&(t[i+1]=o?aE(m):lE(m))}function qE(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&kl(t,n)>=0}function Rv(t,n){return function iu(t,n,i,o){const h=Nt(),m=Nr(),T=S(2);m.firstUpdatePass&&function t0(t,n,i,o){const h=t.data;if(null===h[i+1]){const m=h[ys()],T=function e0(t,n){return n>=t.expandoStartIndex}(t,i);(function tn(t,n){return 0!=(t.flags&(n?8:16))})(m,o)&&null===n&&!T&&(n=!1),n=function fE(t,n,i,o){const h=function Ee(t){const n=Xn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let m=o?n.residualClasses:n.residualStyles;if(null===h)0===(o?n.classBindings:n.styleBindings)&&(i=a(i=c(null,t,n,i,o),n.attrs,o),m=null);else{const T=n.directiveStylingLast;if(-1===T||t[T]!==h)if(i=c(h,t,n,i,o),null===m){let x=function n0(t,n,i){const o=i?n.classBindings:n.styleBindings;if(0!==ag(o))return t[Bf(o)]}(t,n,o);void 0!==x&&Array.isArray(x)&&(x=c(null,t,n,x[1],o),x=a(x,n.attrs,o),function r0(t,n,i,o){t[Bf(i?n.classBindings:n.styleBindings)]=o}(t,n,o,x))}else m=function f(t,n,i){let o;const h=n.directiveEnd;for(let m=1+n.directiveStylingLast;m<h;m++)o=a(o,t[m].hostAttrs,i);return a(o,n.attrs,i)}(t,n,o)}return void 0!==m&&(o?n.residualClasses=m:n.residualStyles=m),i}(h,m,n,o),function WE(t,n,i,o,h,m){let T=m?n.classBindings:n.styleBindings,D=Bf(T),x=ag(T);t[o]=i;let ie,H=!1;if(Array.isArray(i)?(ie=i[1],(null===ie||kl(i,ie)>0)&&(H=!0)):ie=i,h)if(0!==x){const ze=Bf(t[D+1]);t[o+1]=Sv(ze,D),0!==ze&&(t[ze+1]=cE(t[ze+1],o)),t[D+1]=function G0(t,n){return 131071&t|n<<17}(t[D+1],o)}else t[o+1]=Sv(D,0),0!==D&&(t[D+1]=cE(t[D+1],o)),D=o;else t[o+1]=Sv(x,0),0===D?D=o:t[x+1]=cE(t[x+1],o),x=o;H&&(t[o+1]=aE(t[o+1])),Pv(t,ie,o,!0),Pv(t,ie,o,!1),function Mv(t,n,i,o,h){const m=h?t.residualClasses:t.residualStyles;null!=m&&"string"==typeof n&&kl(m,n)>=0&&(i[o+1]=lE(i[o+1]))}(n,ie,t,o,m),T=Sv(D,x),m?n.classBindings=T:n.styleBindings=T}(h,m,n,i,T,o)}}(m,t,T,o),n!==d&&fo(h,T,n)&&function de(t,n,i,o,h,m,T,D){if(!(3&n.type))return;const x=t.data,H=x[D+1],ie=function W0(t){return 1==(1&t)}(H)?Pe(x,n,i,h,ag(H),T):void 0;Ze(ie)||(Ze(m)||function z0(t){return 2==(2&t)}(H)&&(m=Pe(x,null,i,h,D,T)),function Qm(t,n,i,o,h){if(n)h?t.addClass(i,o):t.removeClass(i,o);else{let m=-1===o.indexOf("-")?void 0:Dd.DashCase;null==h?t.removeStyle(i,o,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=Dd.Important),t.setStyle(i,o,h,m))}}(o,T,Ro(ys(),i),h,m))}(m,m.data[ys()],h,h[Zn],t,h[T+1]=function St(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=ye(Ic(t)))),t}(n,i),o,T)}(t,n,null,!0),Rv}function c(t,n,i,o,h){let m=null;const T=i.directiveEnd;let D=i.directiveStylingLast;for(-1===D?D=i.directiveStart:D++;D<T&&(m=n[D],o=a(o,m.hostAttrs,h),m!==t);)D++;return null!==t&&(i.directiveStylingLast=D),o}function a(t,n,i){const o=i?1:2;let h=-1;if(null!==n)for(let m=0;m<n.length;m++){const T=n[m];"number"==typeof T?h=T:h===o&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),oo(t,T,!!i||n[++m]))}return void 0===t?null:t}function Pe(t,n,i,o,h,m){const T=null===n;let D;for(;h>0;){const x=t[h],H=Array.isArray(x),ie=H?x[1]:x,_e=null===ie;let ze=i[h+1];ze===d&&(ze=_e?dn:void 0);let tt=_e?bu(ze,o):ie===o?ze:void 0;if(H&&!Ze(tt)&&(tt=bu(x,o)),Ze(tt)&&(D=tt,T))return D;const Pt=t[h+1];h=T?Bf(Pt):ag(Pt)}if(null!==n){let x=m?n.residualClasses:n.residualStyles;null!=x&&(D=bu(x,o))}return D}function Ze(t){return void 0!==t}function Vn(t,n=""){const i=Nt(),o=Nr(),h=t+cr,m=o.firstCreatePass?ge(o,h,1,n,null):o.data[h],T=An(o,i,m,n,t);i[h]=T,Xo()&&mp(o,i,T,m),ms(m,!1)}let An=(t,n,i,o,h)=>(ua(!0),function xd(t,n){return t.createText(n)}(n[Zn],o));function dr(t){return Jr("",t,""),dr}function Jr(t,n,i){const o=Nt(),h=eu(o,t,n,i);return h!==d&&Ga(o,ys(),h),Jr}function ai(t,n,i,o,h){const m=Nt(),T=_h(m,t,n,i,o,h);return T!==d&&Ga(m,ys(),T),ai}const Pm=void 0;var ET=["en",[["a","p"],["AM","PM"],Pm],[["AM","PM"],Pm,Pm],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pm,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pm,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pm,"{1} 'at' {0}",Pm],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function vT(t){const i=Math.floor(Math.abs(t)),o=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===o?1:5}];let ry={};function o0(t){const n=function IT(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=oI(n);if(i)return i;const o=n.split("-")[0];if(i=oI(o),i)return i;if("en"===o)return ET;throw new Fe(701,!1)}function sI(t){return o0(t)[iy.PluralCase]}function oI(t){return t in ry||(ry[t]=Hn.ng&&Hn.ng.common&&Hn.ng.common.locales&&Hn.ng.common.locales[t]),ry[t]}var iy=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(iy||{});const sy="en-US";let aI=sy;function l0(t,n,i,o,h){if(t=ft(t),Array.isArray(t))for(let m=0;m<t.length;m++)l0(t[m],n,i,o,h);else{const m=Nr(),T=Nt(),D=ss();let x=zd(t)?t:ft(t.provide);const H=Dy(t),ie=1048575&D.providerIndexes,_e=D.directiveStart,ze=D.providerIndexes>>20;if(zd(t)||!t.multi){const tt=new Al(H,h,R),Pt=d0(x,n,h?ie:ie+ze,_e);-1===Pt?(uc(_d(D,T),m,x),u0(m,t,n.length),n.push(x),D.directiveStart++,D.directiveEnd++,h&&(D.providerIndexes+=1048576),i.push(tt),T.push(tt)):(i[Pt]=tt,T[Pt]=tt)}else{const tt=d0(x,n,ie+ze,_e),Pt=d0(x,n,ie,ie+ze),En=Pt>=0&&i[Pt];if(h&&!En||!h&&!(tt>=0&&i[tt])){uc(_d(D,T),m,x);const Kn=function vC(t,n,i,o,h){const m=new Al(t,i,R);return m.multi=[],m.index=n,m.componentProviders=0,xI(m,h,o&&!i),m}(h?yC:_C,i.length,h,o,H);!h&&En&&(i[Pt].providerFactory=Kn),u0(m,t,n.length,0),n.push(x),D.directiveStart++,D.directiveEnd++,h&&(D.providerIndexes+=1048576),i.push(Kn),T.push(Kn)}else u0(m,t,tt>-1?tt:Pt,xI(i[h?Pt:tt],H,!h&&o));!h&&o&&En&&i[Pt].componentProviders++}}}function u0(t,n,i,o){const h=zd(n),m=function vi(t){return!!t.useClass}(n);if(h||m){const x=(m?ft(n.useClass):n).prototype.ngOnDestroy;if(x){const H=t.destroyHooks||(t.destroyHooks=[]);if(!h&&n.multi){const ie=H.indexOf(i);-1===ie?H.push(i,[o,x]):H[ie+1].push(o,x)}else H.push(i,x)}}}function xI(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function d0(t,n,i,o){for(let h=i;h<o;h++)if(n[h]===t)return h;return-1}function _C(t,n,i,o){return h0(this.multi,[])}function yC(t,n,i,o){const h=this.multi;let m;if(this.providerFactory){const T=this.providerFactory.componentProviders,D=Yc(i,i[on],this.providerFactory.index,o);m=D.slice(0,T),h0(h,m);for(let x=T;x<D.length;x++)m.push(D[x])}else m=[],h0(h,m);return m}function h0(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function OI(t,n=[]){return i=>{i.providersResolver=(o,h)=>function mC(t,n,i){const o=Nr();if(o.firstCreatePass){const h=ki(t);l0(i,o.data,o.blueprint,h,!0),l0(n,o.data,o.blueprint,h,!1)}}(o,h?h(t):t,n)}}class Rm{}class NI{}function EC(t,n){return new f0(t,n??null,[])}class f0 extends Rm{constructor(n,i,o){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Sf(this);const h=Gr(n);this._bootstrapComponents=fl(h.bootstrap),this._r3Injector=em(n,i,[{provide:Rm,useValue:this},{provide:th,useValue:this.componentFactoryResolver},...o],ye(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class p0 extends NI{constructor(n){super(),this.moduleType=n}create(n){return new f0(this.moduleType,n,[])}}class kI extends Rm{constructor(n){super(),this.componentFactoryResolver=new Sf(this),this.instance=null;const i=new Fu([...n.providers,{provide:Rm,useValue:this},{provide:th,useValue:this.componentFactoryResolver}],n.parent||Op(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function FI(t,n,i=null){return new kI({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let bC=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const o=Tc(0,i.type),h=o.length>0?FI([o],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,h)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Cn({token:t,providedIn:"environment",factory:()=>new t(Ot(Cc))})}return t})();function LI(t){t.getStandaloneInjector=n=>n.get(bC).getOrCreateStandaloneInjector(t)}function zI(t,n,i,o){return GI(Nt(),xs(),t,n,i,o)}function Lv(t,n){const i=t[n];return i===d?void 0:i}function GI(t,n,i,o,h,m){const T=n+i;return fo(t,T,h)?ml(t,T+1,m?o.call(m,h):o(h)):Lv(t,T+1)}function YI(t,n){const i=Nr();let o;const h=t+cr;i.firstCreatePass?(o=function BC(t,n){if(n)for(let i=n.length-1;i>=0;i--){const o=n[i];if(t===o.name)return o}}(n,i.pipeRegistry),i.data[h]=o,o.onDestroy&&(i.destroyHooks??=[]).push(h,o.onDestroy)):o=i.data[h];const m=o.factory||(o.factory=zs(o.type)),D=yr(R);try{const x=ha(!1),H=m();return ha(x),function Cv(t,n,i,o){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=o}(i,Nt(),h,H),H}finally{yr(D)}}function QI(t,n,i){const o=t+cr,h=Nt(),m=Jo(h,o);return Vv(h,o)?GI(h,xs(),n,m.transform,i,m):m.transform(i)}function JI(t,n,i,o){const h=t+cr,m=Nt(),T=Jo(m,h);return Vv(m,h)?function WI(t,n,i,o,h,m,T){const D=n+i;return Wu(t,D,h,m)?ml(t,D+2,T?o.call(T,h,m):o(h,m)):Lv(t,D+2)}(m,xs(),n,T.transform,i,o,T):T.transform(i,o)}function Vv(t,n){return t[on].data[n].pure}function zC(){return this._results[Symbol.iterator]()}class m0{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new ra)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=m0.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=zC)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const o=this;o.dirty=!1;const h=function Rr(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Eu(t,n,i){if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++){let h=t[o],m=n[o];if(i&&(h=i(h),m=i(m)),m!==h)return!1}return!0}(o._results,h,i))&&(o._results=h,o.length=h.length,o.last=h[this.length-1],o.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function WC(t,n,i,o=!0){const h=n[on];if(function Od(t,n,i,o){const h=di+o,m=i.length;o>0&&(i[h-1][Di]=n),o<m-di?(n[Di]=i[h],Iu(i,di+o,n)):(i.push(n),n[Di]=null),n[Sr]=i;const T=n[ps];null!==T&&i!==T&&function Gm(t,n){const i=t[Go];n[Bn]!==n[Sr][Sr][Bn]&&(t[Ni]=!0),null===i?t[Go]=[n]:i.push(n)}(T,n);const D=n[gs];null!==D&&D.insertView(t),n[Wn]|=128}(h,n,t,i),o){const m=Yh(i,t),T=n[Zn],D=hp(T,t[Cs]);null!==D&&function lo(t,n,i,o,h,m){o[Or]=h,o[ei]=n,Hl(t,o,i,1,h,m)}(h,t[ei],T,n,D,m)}}let Uv=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=KC}return t})();const qC=Uv,ZC=class extends qC{constructor(n,i,o){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,o){const h=function GC(t,n,i,o){const h=n.tView,D=se(t,h,i,4096&t[Wn]?4096:16,null,n,null,null,null,o?.injector??null,o?.hydrationInfo??null);D[ps]=t[n.index];const H=t[gs];return null!==H&&(D[gs]=H.createEmbeddedView(h)),um(h,D,i),D}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:o});return new Ql(h)}};function KC(){return bE(ss(),Nt())}function bE(t,n){return 4&t.type?new ZC(n,t,Zl(t,n)):null}let CE=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=tw}return t})();function tw(){return sb(ss(),Nt())}const nw=CE,rb=class extends nw{constructor(n,i,o){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=o}get element(){return Zl(this._hostTNode,this._hostLView)}get injector(){return new Es(this._hostTNode,this._hostLView)}get parentInjector(){const n=Ml(this._hostTNode,this._hostLView);if(Dl(n)){const i=ta(n,this._hostLView),o=pu(n);return new Es(i[on].data[o+8],i)}return new Es(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=ib(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-di}createEmbeddedView(n,i,o){let h,m;"number"==typeof o?h=o:null!=o&&(h=o.index,m=o.injector);const D=n.createEmbeddedViewImpl(i||{},m,null);return this.insertImpl(D,h,false),D}createComponent(n,i,o,h,m){const T=n&&!function gc(t){return"function"==typeof t}(n);let D;if(T)D=i;else{const Yt=i||{};D=Yt.index,o=Yt.injector,h=Yt.projectableNodes,m=Yt.environmentInjector||Yt.ngModuleRef}const x=T?n:new Jl(Un(n)),H=o||this.parentInjector;if(!m&&null==x.ngModule){const En=(T?H:this.parentInjector).get(Cc,null);En&&(m=En)}Un(x.componentType??{});const tt=x.create(H,h,null,m);return this.insertImpl(tt.hostView,D,false),tt}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,o){const h=n._lView;if(function lu(t){return $i(t[Sr])}(h)){const x=this.indexOf(n);if(-1!==x)this.detach(x);else{const H=h[Sr],ie=new rb(H,H[ei],H[Sr]);ie.detach(ie.indexOf(n))}}const T=this._adjustIndex(i),D=this._lContainer;return WC(D,h,T,!o),n.attachToViewContainerRef(),Iu(_0(D),T,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=ib(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),o=up(this._lContainer,i);o&&(mc(_0(this._lContainer),i),Co(o[on],o))}detach(n){const i=this._adjustIndex(n,-1),o=up(this._lContainer,i);return o&&null!=mc(_0(this._lContainer),i)?new Ql(o):null}_adjustIndex(n,i=0){return n??this.length+i}};function ib(t){return t[8]}function _0(t){return t[8]||(t[8]=[])}function sb(t,n){let i;const o=n[t.index];return $i(o)?i=o:(i=Tf(o,n,null,t),n[t.index]=i,fh(n,i)),ob(i,n,t,o),new rb(i,t,n)}let ob=function ab(t,n,i,o){if(t[Cs])return;let h;h=8&i.type?oi(o):function rw(t,n){const i=t[Zn],o=i.createComment(""),h=As(n,t);return wo(i,hp(i,h),o,function wg(t,n){return t.nextSibling(n)}(i,h),!1),o}(n,i),t[Cs]=h};class y0{constructor(n){this.queryList=n,this.matches=null}clone(){return new y0(this.queryList)}setDirty(){this.queryList.setDirty()}}class v0{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const o=null!==n.contentQueries?n.contentQueries[0]:i.length,h=[];for(let m=0;m<o;m++){const T=i.getByIndex(m);h.push(this.queries[T.indexInDeclarationView].clone())}return new v0(h)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==gb(n,i).matches&&this.queries[i].setDirty()}}class cb{constructor(n,i,o=null){this.predicate=n,this.flags=i,this.read=o}}class E0{constructor(n=[]){this.queries=n}elementStart(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let o=0;o<this.length;o++){const h=null!==i?i.length:0,m=this.getByIndex(o).embeddedTView(n,h);m&&(m.indexInDeclarationView=o,null!==i?i.push(m):i=[m])}return null!==i?new E0(i):null}template(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class I0{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new I0(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==i;)o=o.parent;return i===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const o=this.metadata.predicate;if(Array.isArray(o))for(let h=0;h<o.length;h++){const m=o[h];this.matchTNodeWithReadOption(n,i,ow(i,m)),this.matchTNodeWithReadOption(n,i,gu(i,n,m,!1,!1))}else o===Uv?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,gu(i,n,o,!1,!1))}matchTNodeWithReadOption(n,i,o){if(null!==o){const h=this.metadata.read;if(null!==h)if(h===Kl||h===CE||h===Uv&&4&i.type)this.addMatch(i.index,-2);else{const m=gu(i,n,h,!1,!1);null!==m&&this.addMatch(i.index,m)}else this.addMatch(i.index,o)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function ow(t,n){const i=t.localNames;if(null!==i)for(let o=0;o<i.length;o+=2)if(i[o]===n)return i[o+1];return null}function cw(t,n,i,o){return-1===i?function aw(t,n){return 11&t.type?Zl(t,n):4&t.type?bE(t,n):null}(n,t):-2===i?function lw(t,n,i){return i===Kl?Zl(n,t):i===Uv?bE(n,t):i===CE?sb(n,t):void 0}(t,n,o):Yc(t,t[on],i,n)}function lb(t,n,i,o){const h=n[gs].queries[o];if(null===h.matches){const m=t.data,T=i.matches,D=[];for(let x=0;x<T.length;x+=2){const H=T[x];D.push(H<0?null:cw(n,m[H],T[x+1],i.metadata.read))}h.matches=D}return h.matches}function b0(t,n,i,o){const h=t.queries.getByIndex(i),m=h.matches;if(null!==m){const T=lb(t,n,h,i);for(let D=0;D<m.length;D+=2){const x=m[D];if(x>0)o.push(T[D/2]);else{const H=m[D+1],ie=n[-x];for(let _e=di;_e<ie.length;_e++){const ze=ie[_e];ze[ps]===ze[Sr]&&b0(ze[on],ze,H,o)}if(null!==ie[Go]){const _e=ie[Go];for(let ze=0;ze<_e.length;ze++){const tt=_e[ze];b0(tt[on],tt,H,o)}}}}}return o}function ub(t){const n=Nt(),i=Nr(),o=ht();pt(o+1);const h=gb(i,o);if(t.dirty&&function Gc(t){return 4==(4&t[Wn])}(n)===(2==(2&h.metadata.flags))){if(null===h.matches)t.reset([]);else{const m=h.crossesNgTemplate?b0(i,n,o,[]):lb(i,n,h,o);t.reset(m,Up),t.notifyOnChanges()}return!0}return!1}function db(t,n,i,o){const h=Nr();if(h.firstCreatePass){const m=ss();(function pb(t,n,i){null===t.queries&&(t.queries=new E0),t.queries.track(new I0(n,i))})(h,new cb(n,i,o),m.index),function hw(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(h,t),2==(2&i)&&(h.staticContentQueries=!0)}!function fb(t,n,i){const o=new m0(4==(4&i));(function Ge(t,n,i,o){const h=lm(n);h.push(i),t.firstCreatePass&&Cf(t).push(o,h.length-1)})(t,n,o,o.destroy),null===n[gs]&&(n[gs]=new v0),n[gs].queries.push(new y0(o))}(h,Nt(),i)}function hb(){return function dw(t,n){return t[gs].queries[n].queryList}(Nt(),ht())}function gb(t,n){return t.queries.getByIndex(n)}function T0(t){return!!Gr(t)}const xb=new rn("Application Initializer");let S0=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,o)=>{this.resolve=i,this.reject=o}),this.appInits=Xt(xb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const h of this.appInits){const m=h();if(Us(m))i.push(m);else if(ni(m)){const T=new Promise((D,x)=>{m.subscribe({complete:D,error:x})});i.push(T)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{o()}).catch(h=>{this.reject(h)}),0===i.length&&o(),this.initialized=!0}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ob=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const AE=new rn("LocaleId",{providedIn:"root",factory:()=>Xt(AE,bn.Optional|bn.SkipSelf)||function Nw(){return typeof $localize<"u"&&$localize.locale||sy}()}),kw=new rn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Nb=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new me.X(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Lw{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let Vw=(()=>{class t{compileModuleSync(i){return new p0(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const o=this.compileModuleSync(i),m=fl(Gr(i).declarations).reduce((T,D)=>{const x=Un(D);return x&&T.push(new Jl(x)),T},[]);return new Lw(o,m)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Vb=new rn(""),Ub=new rn("");let R0,oA=(()=>{class t{constructor(i,o,h){this._ngZone=i,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,R0||(function aA(t){R0=t}(h),h.addToWindow(o)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{zi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(i)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,o,h){let m=-1;o&&o>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==m),i(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:i,timeoutId:m,updateCb:h})}whenStable(i,o,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,o,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,o,h){return[]}static#e=this.\u0275fac=function(o){return new(o||t)(Ot(zi),Ot(Bb),Ot(Ub))};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac})}return t})(),Bb=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,o){this._applications.set(i,o)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,o=!0){return R0?.findTestabilityInTree(this,i,o)??null}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),cg=null;const jb=new rn("AllowMultipleToken"),x0=new rn("PlatformDestroyListeners"),O0=new rn("appBootstrapListener");class uA{constructor(n,i){this.name=n,this.token=i}}function zb(t,n,i=[]){const o=`Platform: ${n}`,h=new rn(o);return(m=[])=>{let T=N0();if(!T||T.injector.get(jb,!1)){const D=[...i,...m,{provide:h,useValue:!0}];t?t(D):function dA(t){if(cg&&!cg.get(jb,!1))throw new Fe(400,!1);(function $b(){!function bl(t){Na=t}(()=>{throw new Fe(600,!1)})})(),cg=t;const n=t.get(Wb);(function Hb(t){t.get(dl,null)?.forEach(i=>i())})(t)}(function Gb(t=[],n){return Mc.create({name:n,providers:[{provide:h_,useValue:"platform"},{provide:x0,useValue:new Set([()=>cg=null])},...t]})}(D,o))}return function fA(t){const n=N0();if(!n)throw new Fe(401,!1);return n}()}}function N0(){return cg?.get(Wb)??null}let Wb=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,o){const h=function pA(t="zone.js",n){return"noop"===t?new Zv:"zone.js"===t?new zi(n):t}(o?.ngZone,function qb(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return h.run(()=>{const m=function IC(t,n,i){return new f0(t,n,i)}(i.moduleType,this.injector,function Jb(t){return[{provide:zi,useFactory:t},{provide:nf,multi:!0,useFactory:()=>{const n=Xt(mA,{optional:!0});return()=>n.initialize()}},{provide:Qb,useFactory:gA},{provide:Hu,useFactory:im}]}(()=>h)),T=m.injector.get($u,null);return h.runOutsideAngular(()=>{const D=h.onError.subscribe({next:x=>{T.handleError(x)}});m.onDestroy(()=>{SE(this._modules,m),D.unsubscribe()})}),function Zb(t,n,i){try{const o=i();return Us(o)?o.catch(h=>{throw n.runOutsideAngular(()=>t.handleError(h)),h}):o}catch(o){throw n.runOutsideAngular(()=>t.handleError(o)),o}}(T,h,()=>{const D=m.injector.get(S0);return D.runInitializers(),D.donePromise.then(()=>(function cI(t){Gt(t,"Expected localeId to be defined"),"string"==typeof t&&(aI=t.toLowerCase().replace(/_/g,"-"))}(m.injector.get(AE,sy)||sy),this._moduleDoBootstrap(m),m))})})}bootstrapModule(i,o=[]){const h=Kb({},o);return function cA(t,n,i){const o=new p0(i);return Promise.resolve(o)}(0,0,i).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(i){const o=i.injector.get(cy);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(h=>o.bootstrap(h));else{if(!i.instance.ngDoBootstrap)throw new Fe(-403,!1);i.instance.ngDoBootstrap(o)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Fe(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const i=this._injector.get(x0,null);i&&(i.forEach(o=>o()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(o){return new(o||t)(Ot(Mc))};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function Kb(t,n){return Array.isArray(n)?n.reduce(Kb,t):{...t,...n}}let cy=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Xt(Qb),this.zoneIsStable=Xt(Hu),this.componentTypes=[],this.components=[],this.isStable=Xt(Nb).hasPendingTasks.pipe((0,De.w)(i=>i?(0,Ae.of)(!1):this.zoneIsStable),(0,We.x)(),(0,Se.B)()),this._injector=Xt(Cc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,o){const h=i instanceof Qg;if(!this._injector.get(S0).done)throw!h&&ji(i),new Fe(405,!1);let T;T=h?i:this._injector.get(th).resolveComponentFactory(i),this.componentTypes.push(T.componentType);const D=function lA(t){return t.isBoundToModule}(T)?void 0:this._injector.get(Rm),H=T.create(Mc.NULL,[],o||T.selector,D),ie=H.location.nativeElement,_e=H.injector.get(Vb,null);return _e?.registerApplication(ie),H.onDestroy(()=>{this.detachView(H.hostView),SE(this.components,H),_e?.unregisterApplication(ie)}),this._loadComponent(H),H}tick(){if(this._runningTick)throw new Fe(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const o=i;this._views.push(o),o.attachToAppRef(this)}detachView(i){const o=i;SE(this._views,o),o.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const o=this._injector.get(O0,[]);o.push(...this._bootstrapListeners),o.forEach(h=>h(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>SE(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Fe(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function SE(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const Qb=new rn("",{providedIn:"root",factory:()=>Xt($u).handleError.bind(void 0)});function gA(){const t=Xt(zi),n=Xt($u);return i=>t.runOutsideAngular(()=>n.handleError(i))}let mA=(()=>{class t{constructor(){this.zone=Xt(zi),this.applicationRef=Xt(cy)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yA(){return!1}let vA=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=EA}return t})();function EA(t){return function IA(t,n,i){if(Ps(t)&&!i){const o=Ds(t.index,n);return new Ql(o,o)}return 47&t.type?new Ql(n[Bn],n):null}(ss(),Nt(),16==(16&t))}class nT{constructor(){}supports(n){return tg(n)}create(n){return new DA(n)}}const AA=(t,n)=>n;class DA{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||AA}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,o=this._removalsHead,h=0,m=null;for(;i||o;){const T=!o||i&&i.currentIndex<iT(o,h,m)?i:o,D=iT(T,h,m),x=T.currentIndex;if(T===o)h--,o=o._nextRemoved;else if(i=i._next,null==T.previousIndex)h++;else{m||(m=[]);const H=D-h,ie=x-h;if(H!=ie){for(let ze=0;ze<H;ze++){const tt=ze<m.length?m[ze]:m[ze]=0,Pt=tt+ze;ie<=Pt&&Pt<H&&(m[ze]=tt+1)}m[T.previousIndex]=ie-H}}D!==x&&n(T,D,x)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!tg(n))throw new Fe(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let h,m,T,i=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let D=0;D<this.length;D++)m=n[D],T=this._trackByFn(D,m),null!==i&&Object.is(i.trackById,T)?(o&&(i=this._verifyReinsertion(i,m,T,D)),Object.is(i.item,m)||this._addIdentityChange(i,m)):(i=this._mismatch(i,m,T,D),o=!0),i=i._next}else h=0,function z_(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let o;for(;!(o=i.next()).done;)n(o.value)}}(n,D=>{T=this._trackByFn(h,D),null!==i&&Object.is(i.trackById,T)?(o&&(i=this._verifyReinsertion(i,D,T,h)),Object.is(i.item,D)||this._addIdentityChange(i,D)):(i=this._mismatch(i,D,T,h),o=!0),i=i._next,h++}),this.length=h;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,o,h){let m;return null===n?m=this._itTail:(m=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,m,h)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,h))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,m,h)):n=this._addAfter(new SA(i,o),m,h),n}_verifyReinsertion(n,i,o,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==m?n=this._reinsertAfter(m,n._prev,h):n.currentIndex!=h&&(n.currentIndex=h,this._addToMoves(n,h)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const h=n._prevRemoved,m=n._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(n,i,o),this._addToMoves(n,o),n}_moveAfter(n,i,o){return this._unlink(n),this._insertAfter(n,i,o),this._addToMoves(n,o),n}_addAfter(n,i,o){return this._insertAfter(n,i,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,o){const h=null===i?this._itHead:i._next;return n._next=h,n._prev=i,null===h?this._itTail=n:h._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new rT),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,o=n._next;return null===i?this._itHead=o:i._next=o,null===o?this._itTail=i:o._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rT),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class SA{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class MA{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===i||i<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const i=n._prevDup,o=n._nextDup;return null===i?this._head=o:i._nextDup=o,null===o?this._tail=i:o._prevDup=i,null===this._head}}class rT{constructor(){this.map=new Map}put(n){const i=n.trackById;let o=this.map.get(i);o||(o=new MA,this.map.set(i,o)),o.add(n)}get(n,i){const h=this.map.get(n);return h?h.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function iT(t,n,i){const o=t.previousIndex;if(null===o)return o;let h=0;return i&&o<i.length&&(h=i[o]),o+n+h}class sT{constructor(){}supports(n){return n instanceof Map||mm(n)}create(){return new PA}}class PA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||mm(n)))throw new Fe(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,h)=>{if(i&&i.key===h)this._maybeAddToChanges(i,o),this._appendAfter=i,i=i._next;else{const m=this._getOrCreateRecordForKey(h,o);i=this._insertBeforeOrAppend(i,m)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let o=i;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const o=n._prev;return i._next=n,i._prev=o,n._prev=i,o&&(o._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const h=this._records.get(n);this._maybeAddToChanges(h,i);const m=h._prev,T=h._next;return m&&(m._next=T),T&&(T._prev=m),h._next=null,h._prev=null,h}const o=new RA(n);return this._records.set(n,o),o.currentValue=i,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(o=>i(n[o],o))}}class RA{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function oT(){return new U0([new nT])}let U0=(()=>{class t{static#e=this.\u0275prov=Cn({token:t,providedIn:"root",factory:oT});constructor(i){this.factories=i}static create(i,o){if(null!=o){const h=o.factories.slice();i=i.concat(h)}return new t(i)}static extend(i){return{provide:t,useFactory:o=>t.create(i,o||oT()),deps:[[t,new Ba,new _c]]}}find(i){const o=this.factories.find(h=>h.supports(i));if(null!=o)return o;throw new Fe(901,!1)}}return t})();function aT(){return new B0([new sT])}let B0=(()=>{class t{static#e=this.\u0275prov=Cn({token:t,providedIn:"root",factory:aT});constructor(i){this.factories=i}static create(i,o){if(o){const h=o.factories.slice();i=i.concat(h)}return new t(i)}static extend(i){return{provide:t,useFactory:o=>t.create(i,o||aT()),deps:[[t,new Ba,new _c]]}}find(i){const o=this.factories.find(h=>h.supports(i));if(o)return o;throw new Fe(901,!1)}}return t})();const NA=zb(null,"core",[]);let kA=(()=>{class t{constructor(i){}static#e=this.\u0275fac=function(o){return new(o||t)(Ot(cy))};static#t=this.\u0275mod=Ts({type:t});static#n=this.\u0275inj=Kt({})}return t})();function WA(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function ZA(t){const n=Un(t);if(!n)return null;const i=new Jl(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},7213:(Jt,Ye,B)=>{B.d(Ye,{zQ:()=>Wt,ww:()=>cn,rT:()=>jt,f7:()=>hr,L6:()=>kt,_Q:()=>ve,lh:()=>an,Qv:()=>At,nw:()=>xt}),B(6365);var u=B(6814),G=B(5879),be=B(1920),me=B(7217),Ae=B(8645),Se=B(2096),De=B(5592),We=B(2459),te=B(3019),oe=B(3093),ye=B(4664),st=B(7398),rt=B(4552);class mt extends Ae.x{constructor(Re=1/0,fe=1/0,ke=rt.l){super(),this._bufferSize=Re,this._windowTime=fe,this._timestampProvider=ke,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=fe===1/0,this._bufferSize=Math.max(1,Re),this._windowTime=Math.max(1,fe)}next(Re){const{isStopped:fe,_buffer:ke,_infiniteTimeWindow:Je,_timestampProvider:Xe,_windowTime:ut}=this;fe||(ke.push(Re),!Je&&ke.push(Xe.now()+ut)),this._trimBuffer(),super.next(Re)}_subscribe(Re){this._throwIfClosed(),this._trimBuffer();const fe=this._innerSubscribe(Re),{_infiniteTimeWindow:ke,_buffer:Je}=this,Xe=Je.slice();for(let ut=0;ut<Xe.length&&!Re.closed;ut+=ke?1:2)Re.next(Xe[ut]);return this._checkFinalizedStatuses(Re),fe}_trimBuffer(){const{_bufferSize:Re,_timestampProvider:fe,_buffer:ke,_infiniteTimeWindow:Je}=this,Xe=(Je?1:2)*Re;if(Re<1/0&&Xe<ke.length&&ke.splice(0,ke.length-Xe),!Je){const ut=fe.now();let It=0;for(let Gt=1;Gt<ke.length&&ke[Gt]<=ut;Gt+=2)It=Gt;It&&ke.splice(0,It+1)}}}var ft=B(3020);function wt(lt,Re,fe){let ke,Je=!1;return lt&&"object"==typeof lt?({bufferSize:ke=1/0,windowTime:Re=1/0,refCount:Je=!1,scheduler:fe}=lt):ke=lt??1/0,(0,ft.B)({connector:()=>new mt(ke,Re,fe),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Je})}var Et=B(1374),nn=B(4674);function qe(lt,Re){return(0,nn.m)(Re)?(0,ye.w)(()=>lt,Re):(0,ye.w)(()=>lt)}var Fe=B(5137),it=B(2181),He=B(7142);const At=new G.OlP("angularfire2.auth.use-emulator"),kt=new G.OlP("angularfire2.auth.settings"),ve=new G.OlP("angularfire2.auth.tenant-id"),jt=new G.OlP("angularfire2.auth.langugage-code"),an=new G.OlP("angularfire2.auth.use-device-language"),hr=new G.OlP("angularfire.auth.persistence"),xt=(lt,Re,fe,ke,Je,Xe,ut,It)=>(0,me.cc)(`${lt.name}.auth`,"AngularFireAuth",lt.name,()=>{const Gt=Re.runOutsideAngular(()=>lt.auth());if(fe&&Gt.useEmulator(...fe),ke&&(Gt.tenantId=ke),Gt.languageCode=Je,Xe&&Gt.useDeviceLanguage(),ut)for(const[Ht,qt]of Object.entries(ut))Gt.settings[Ht]=qt;return It&&Gt.setPersistence(It),Gt},[fe,ke,Je,Xe,ut,It]);let Wt=(()=>{class lt{authState;idToken;user;idTokenResult;credential;constructor(fe,ke,Je,Xe,ut,It,Gt,Ht,qt,gn,er,Cn){const Mn=new Ae.x,Kt=(0,Se.of)(void 0).pipe((0,oe.Q)(ut.outsideAngular),(0,ye.w)(()=>Xe.runOutsideAngular(()=>Promise.resolve().then(B.bind(B,6365)))),(0,st.U)(()=>(0,me.on)(fe,Xe,ke)),(0,st.U)(Dn=>xt(Dn,Xe,It,Ht,qt,gn,Gt,er)),wt({bufferSize:1,refCount:!1}));if((0,u.PM)(Je))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Se.of)(null);else{Kt.pipe((0,Et.P)()).subscribe();const Dn=Kt.pipe((0,ye.w)(Lt=>Lt.getRedirectResult().then(Lr=>Lr,()=>null)),be.iC,wt({bufferSize:1,refCount:!1})),or=Kt.pipe((0,ye.w)(Lt=>new De.y(Lr=>({unsubscribe:Xe.runOutsideAngular(()=>Lt.onAuthStateChanged(In=>Lr.next(In),In=>Lr.error(In),()=>Lr.complete()))})))),Gn=Kt.pipe((0,ye.w)(Lt=>new De.y(Lr=>({unsubscribe:Xe.runOutsideAngular(()=>Lt.onIdTokenChanged(In=>Lr.next(In),In=>Lr.error(In),()=>Lr.complete()))}))));this.authState=Dn.pipe(qe(or),(0,Fe.R)(ut.outsideAngular),(0,oe.Q)(ut.insideAngular)),this.user=Dn.pipe(qe(Gn),(0,Fe.R)(ut.outsideAngular),(0,oe.Q)(ut.insideAngular)),this.idToken=this.user.pipe((0,ye.w)(Lt=>Lt?(0,We.D)(Lt.getIdToken()):(0,Se.of)(null))),this.idTokenResult=this.user.pipe((0,ye.w)(Lt=>Lt?(0,We.D)(Lt.getIdTokenResult()):(0,Se.of)(null))),this.credential=(0,te.T)(Dn,Mn,this.authState.pipe((0,it.h)(Lt=>!Lt))).pipe((0,st.U)(Lt=>Lt?.user?Lt:null),(0,Fe.R)(ut.outsideAngular),(0,oe.Q)(ut.insideAngular))}return(0,me.pX)(this,Kt,Xe,{spy:{apply:(Dn,or,Gn)=>{(Dn.startsWith("signIn")||Dn.startsWith("createUser"))&&Gn.then(Lt=>Mn.next(Lt))}}})}static \u0275fac=function(ke){return new(ke||lt)(G.LFG(me.Dh),G.LFG(me.xv,8),G.LFG(G.Lbi),G.LFG(G.R0b),G.LFG(be.HU),G.LFG(At,8),G.LFG(kt,8),G.LFG(ve,8),G.LFG(jt,8),G.LFG(an,8),G.LFG(hr,8),G.LFG(be.Rf,8))};static \u0275prov=G.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"any"})}return lt})(),cn=(()=>{class lt{constructor(){He.Z.registerVersion("angularfire",be.q4.full,"auth-compat")}static \u0275fac=function(ke){return new(ke||lt)};static \u0275mod=G.oAB({type:lt});static \u0275inj=G.cJS({providers:[Wt]})}return lt})()},7104:(Jt,Ye,B)=>{B.d(Ye,{ST:()=>Xr,yb:()=>$e});var g=B(6814),u=B(5879),G=B(1920),be=B(7217),me=B(7213),Ae=B(6321),Se=B(5592),De=B(2459),We=B(2096),te=B(7921),oe=B(9360),ye=B(8251);function st(){return(0,oe.e)((vt,ae)=>{let Te,yt=!1;vt.subscribe((0,ye.x)(ae,zt=>{const Nn=Te;Te=zt,yt&&ae.next([Nn,zt]),yt=!0}))})}var rt=B(7398),mt=B(6699),ft=B(3997),wt=B(2181),nn=(B(6365),B(3106)),qe=B(5588),Fe=B(9058),it=B(4537);function At(vt,ae){if(void 0===ae)return{merge:!1};if(void 0!==ae.mergeFields&&void 0!==ae.merge)throw new qe.WA("invalid-argument",`Invalid options passed to function ${vt}(): You cannot specify both "merge" and "mergeFields".`);return ae}function kt(){if(typeof Uint8Array>"u")throw new qe.WA("unimplemented","Uint8Arrays are not available in this environment.")}function ve(){if(!(0,qe.Me)())throw new qe.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class jt{constructor(ae){this._delegate=ae}static fromBase64String(ae){return ve(),new jt(qe.Jj.fromBase64String(ae))}static fromUint8Array(ae){return kt(),new jt(qe.Jj.fromUint8Array(ae))}toBase64(){return ve(),this._delegate.toBase64()}toUint8Array(){return kt(),this._delegate.toUint8Array()}isEqual(ae){return this._delegate.isEqual(ae._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function an(vt){return function hr(vt,ae){if("object"!=typeof vt||null===vt)return!1;const Te=vt;for(const yt of ae)if(yt in Te&&"function"==typeof Te[yt])return!0;return!1}(vt,["next","error","complete"])}class xt{enableIndexedDbPersistence(ae,Te){return(0,qe.ST)(ae._delegate,{forceOwnership:Te})}enableMultiTabIndexedDbPersistence(ae){return(0,qe.fH)(ae._delegate)}clearIndexedDbPersistence(ae){return(0,qe.Fc)(ae._delegate)}}class Wt{constructor(ae,Te,yt){this._delegate=Te,this._persistenceProvider=yt,this.INTERNAL={delete:()=>this.terminate()},ae instanceof qe.l7||(this._appCompat=ae)}get _databaseId(){return this._delegate._databaseId}settings(ae){const Te=this._delegate._getSettings();!ae.merge&&Te.host!==ae.host&&(0,qe.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),ae.merge&&delete(ae=Object.assign(Object.assign({},Te),ae)).merge,this._delegate._setSettings(ae)}useEmulator(ae,Te,yt={}){(0,qe.at)(this._delegate,ae,Te,yt)}enableNetwork(){return(0,qe.Ix)(this._delegate)}disableNetwork(){return(0,qe.TF)(this._delegate)}enablePersistence(ae){let Te=!1,yt=!1;return ae&&(Te=!!ae.synchronizeTabs,yt=!!ae.experimentalForceOwningTab,(0,qe.Wi)("synchronizeTabs",Te,"experimentalForceOwningTab",yt)),Te?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,yt)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,qe.Mx)(this._delegate)}onSnapshotsInSync(ae){return(0,qe.sc)(this._delegate,ae)}get app(){if(!this._appCompat)throw new qe.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(ae){try{return new Cn(this,(0,qe.hJ)(this._delegate,ae))}catch(Te){throw Xe(Te,"collection()","Firestore.collection()")}}doc(ae){try{return new Je(this,(0,qe.JU)(this._delegate,ae))}catch(Te){throw Xe(Te,"doc()","Firestore.doc()")}}collectionGroup(ae){try{return new qt(this,(0,qe.B$)(this._delegate,ae))}catch(Te){throw Xe(Te,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(ae){return(0,qe.i3)(this._delegate,Te=>ae(new Re(this,Te)))}batch(){return(0,qe.qY)(this._delegate),new fe(new qe.PU(this._delegate,ae=>(0,qe.GL)(this._delegate,ae)))}loadBundle(ae){return(0,qe.Pb)(this._delegate,ae)}namedQuery(ae){return(0,qe.L$)(this._delegate,ae).then(Te=>Te?new qt(this,Te):null)}}class cn extends qe.u7{constructor(ae){super(),this.firestore=ae}convertBytes(ae){return new jt(new qe.Jj(ae))}convertReference(ae){const Te=this.convertDocumentKey(ae,this.firestore._databaseId);return Je.forKey(Te,this.firestore,null)}}class Re{constructor(ae,Te){this._firestore=ae,this._delegate=Te,this._userDataWriter=new cn(ae)}get(ae){const Te=Mn(ae);return this._delegate.get(Te).then(yt=>new Gt(this._firestore,new qe.xU(this._firestore._delegate,this._userDataWriter,yt._key,yt._document,yt.metadata,Te.converter)))}set(ae,Te,yt){const zt=Mn(ae);return yt?(At("Transaction.set",yt),this._delegate.set(zt,Te,yt)):this._delegate.set(zt,Te),this}update(ae,Te,yt,...zt){const Nn=Mn(ae);return 2===arguments.length?this._delegate.update(Nn,Te):this._delegate.update(Nn,Te,yt,...zt),this}delete(ae){const Te=Mn(ae);return this._delegate.delete(Te),this}}class fe{constructor(ae){this._delegate=ae}set(ae,Te,yt){const zt=Mn(ae);return yt?(At("WriteBatch.set",yt),this._delegate.set(zt,Te,yt)):this._delegate.set(zt,Te),this}update(ae,Te,yt,...zt){const Nn=Mn(ae);return 2===arguments.length?this._delegate.update(Nn,Te):this._delegate.update(Nn,Te,yt,...zt),this}delete(ae){const Te=Mn(ae);return this._delegate.delete(Te),this}commit(){return this._delegate.commit()}}class ke{constructor(ae,Te,yt){this._firestore=ae,this._userDataWriter=Te,this._delegate=yt}fromFirestore(ae,Te){const yt=new qe.$q(this._firestore._delegate,this._userDataWriter,ae._key,ae._document,ae.metadata,null);return this._delegate.fromFirestore(new Ht(this._firestore,yt),Te??{})}toFirestore(ae,Te){return Te?this._delegate.toFirestore(ae,Te):this._delegate.toFirestore(ae)}static getInstance(ae,Te){const yt=ke.INSTANCES;let zt=yt.get(ae);zt||(zt=new WeakMap,yt.set(ae,zt));let Nn=zt.get(Te);return Nn||(Nn=new ke(ae,new cn(ae),Te),zt.set(Te,Nn)),Nn}}ke.INSTANCES=new WeakMap;class Je{constructor(ae,Te){this.firestore=ae,this._delegate=Te,this._userDataWriter=new cn(ae)}static forPath(ae,Te,yt){if(ae.length%2!=0)throw new qe.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${ae.canonicalString()} has ${ae.length}`);return new Je(Te,new qe.my(Te._delegate,yt,new qe.Ky(ae)))}static forKey(ae,Te,yt){return new Je(Te,new qe.my(Te._delegate,yt,ae))}get id(){return this._delegate.id}get parent(){return new Cn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(ae){try{return new Cn(this.firestore,(0,qe.hJ)(this._delegate,ae))}catch(Te){throw Xe(Te,"collection()","DocumentReference.collection()")}}isEqual(ae){return(ae=(0,Fe.m9)(ae))instanceof qe.my&&(0,qe.Eo)(this._delegate,ae)}set(ae,Te){Te=At("DocumentReference.set",Te);try{return Te?(0,qe.pl)(this._delegate,ae,Te):(0,qe.pl)(this._delegate,ae)}catch(yt){throw Xe(yt,"setDoc()","DocumentReference.set()")}}update(ae,Te,...yt){try{return 1===arguments.length?(0,qe.r7)(this._delegate,ae):(0,qe.r7)(this._delegate,ae,Te,...yt)}catch(zt){throw Xe(zt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,qe.oe)(this._delegate)}onSnapshot(...ae){const Te=ut(ae),yt=It(ae,zt=>new Gt(this.firestore,new qe.xU(this.firestore._delegate,this._userDataWriter,zt._key,zt._document,zt.metadata,this._delegate.converter)));return(0,qe.cf)(this._delegate,Te,yt)}get(ae){let Te;return Te="cache"===ae?.source?(0,qe.kl)(this._delegate):"server"===ae?.source?(0,qe.Xk)(this._delegate):(0,qe.QT)(this._delegate),Te.then(yt=>new Gt(this.firestore,new qe.xU(this.firestore._delegate,this._userDataWriter,yt._key,yt._document,yt.metadata,this._delegate.converter)))}withConverter(ae){return new Je(this.firestore,this._delegate.withConverter(ae?ke.getInstance(this.firestore,ae):null))}}function Xe(vt,ae,Te){return vt.message=vt.message.replace(ae,Te),vt}function ut(vt){for(const ae of vt)if("object"==typeof ae&&!an(ae))return ae;return{}}function It(vt,ae){var Te,yt;let zt;return zt=an(vt[0])?vt[0]:an(vt[1])?vt[1]:"function"==typeof vt[0]?{next:vt[0],error:vt[1],complete:vt[2]}:{next:vt[1],error:vt[2],complete:vt[3]},{next:Nn=>{zt.next&&zt.next(ae(Nn))},error:null===(Te=zt.error)||void 0===Te?void 0:Te.bind(zt),complete:null===(yt=zt.complete)||void 0===yt?void 0:yt.bind(zt)}}class Gt{constructor(ae,Te){this._firestore=ae,this._delegate=Te}get ref(){return new Je(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(ae){return this._delegate.data(ae)}get(ae,Te){return this._delegate.get(ae,Te)}isEqual(ae){return(0,qe.qK)(this._delegate,ae._delegate)}}class Ht extends Gt{data(ae){const Te=this._delegate.data(ae);return this._delegate._converter||(0,qe.K9)(void 0!==Te,"Document in a QueryDocumentSnapshot should exist"),Te}}class qt{constructor(ae,Te){this.firestore=ae,this._delegate=Te,this._userDataWriter=new cn(ae)}where(ae,Te,yt){try{return new qt(this.firestore,(0,qe.IO)(this._delegate,(0,qe.ar)(ae,Te,yt)))}catch(zt){throw Xe(zt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(ae,Te){try{return new qt(this.firestore,(0,qe.IO)(this._delegate,(0,qe.Xo)(ae,Te)))}catch(yt){throw Xe(yt,/(orderBy|where)\(\)/,"Query.$1()")}}limit(ae){try{return new qt(this.firestore,(0,qe.IO)(this._delegate,(0,qe.b9)(ae)))}catch(Te){throw Xe(Te,"limit()","Query.limit()")}}limitToLast(ae){try{return new qt(this.firestore,(0,qe.IO)(this._delegate,(0,qe.vh)(ae)))}catch(Te){throw Xe(Te,"limitToLast()","Query.limitToLast()")}}startAt(...ae){try{return new qt(this.firestore,(0,qe.IO)(this._delegate,(0,qe.e0)(...ae)))}catch(Te){throw Xe(Te,"startAt()","Query.startAt()")}}startAfter(...ae){try{return new qt(this.firestore,(0,qe.IO)(this._delegate,(0,qe.TQ)(...ae)))}catch(Te){throw Xe(Te,"startAfter()","Query.startAfter()")}}endBefore(...ae){try{return new qt(this.firestore,(0,qe.IO)(this._delegate,(0,qe.Lx)(...ae)))}catch(Te){throw Xe(Te,"endBefore()","Query.endBefore()")}}endAt(...ae){try{return new qt(this.firestore,(0,qe.IO)(this._delegate,(0,qe.Wu)(...ae)))}catch(Te){throw Xe(Te,"endAt()","Query.endAt()")}}isEqual(ae){return(0,qe.iE)(this._delegate,ae._delegate)}get(ae){let Te;return Te="cache"===ae?.source?(0,qe.UQ)(this._delegate):"server"===ae?.source?(0,qe.zN)(this._delegate):(0,qe.PL)(this._delegate),Te.then(yt=>new er(this.firestore,new qe.W(this.firestore._delegate,this._userDataWriter,this._delegate,yt._snapshot)))}onSnapshot(...ae){const Te=ut(ae),yt=It(ae,zt=>new er(this.firestore,new qe.W(this.firestore._delegate,this._userDataWriter,this._delegate,zt._snapshot)));return(0,qe.cf)(this._delegate,Te,yt)}withConverter(ae){return new qt(this.firestore,this._delegate.withConverter(ae?ke.getInstance(this.firestore,ae):null))}}class gn{constructor(ae,Te){this._firestore=ae,this._delegate=Te}get type(){return this._delegate.type}get doc(){return new Ht(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class er{constructor(ae,Te){this._firestore=ae,this._delegate=Te}get query(){return new qt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(ae=>new Ht(this._firestore,ae))}docChanges(ae){return this._delegate.docChanges(ae).map(Te=>new gn(this._firestore,Te))}forEach(ae,Te){this._delegate.forEach(yt=>{ae.call(Te,new Ht(this._firestore,yt))})}isEqual(ae){return(0,qe.qK)(this._delegate,ae._delegate)}}class Cn extends qt{constructor(ae,Te){super(ae,Te),this.firestore=ae,this._delegate=Te}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const ae=this._delegate.parent;return ae?new Je(this.firestore,ae):null}doc(ae){try{return new Je(this.firestore,void 0===ae?(0,qe.JU)(this._delegate):(0,qe.JU)(this._delegate,ae))}catch(Te){throw Xe(Te,"doc()","CollectionReference.doc()")}}add(ae){return(0,qe.ET)(this._delegate,ae).then(Te=>new Je(this.firestore,Te))}isEqual(ae){return(0,qe.Eo)(this._delegate,ae._delegate)}withConverter(ae){return new Cn(this.firestore,this._delegate.withConverter(ae?ke.getInstance(this.firestore,ae):null))}}function Mn(vt){return(0,qe.Cf)(vt,qe.my)}class Kt{constructor(...ae){this._delegate=new qe.Lz(...ae)}static documentId(){return new Kt(qe.Xb.keyField().canonicalString())}isEqual(ae){return(ae=(0,Fe.m9)(ae))instanceof qe.Lz&&this._delegate._internalPath.isEqual(ae._internalPath)}}class Dn{constructor(ae){this._delegate=ae}static serverTimestamp(){const ae=(0,qe.Bt)();return ae._methodName="FieldValue.serverTimestamp",new Dn(ae)}static delete(){const ae=(0,qe.AK)();return ae._methodName="FieldValue.delete",new Dn(ae)}static arrayUnion(...ae){const Te=(0,qe.vr)(...ae);return Te._methodName="FieldValue.arrayUnion",new Dn(Te)}static arrayRemove(...ae){const Te=(0,qe.Ab)(...ae);return Te._methodName="FieldValue.arrayRemove",new Dn(Te)}static increment(ae){const Te=(0,qe.nP)(ae);return Te._methodName="FieldValue.increment",new Dn(Te)}isEqual(ae){return this._delegate.isEqual(ae._delegate)}}const or={Firestore:Wt,GeoPoint:qe.F8,Timestamp:qe.EK,Blob:jt,Transaction:Re,WriteBatch:fe,DocumentReference:Je,DocumentSnapshot:Gt,Query:qt,QueryDocumentSnapshot:Ht,QuerySnapshot:er,CollectionReference:Cn,FieldPath:Kt,FieldValue:Dn,setLogLevel:function lt(vt){(0,qe.Ub)(vt)},CACHE_SIZE_UNLIMITED:qe.IX};!function Lt(vt){(function Gn(vt,ae){vt.INTERNAL.registerComponent(new it.wA("firestore-compat",Te=>{const yt=Te.getProvider("app-compat").getImmediate(),zt=Te.getProvider("firestore").getImmediate();return ae(yt,zt)},"PUBLIC").setServiceProps(Object.assign({},or)))})(vt,(ae,Te)=>new Wt(ae,Te,new xt)),vt.registerVersion("@firebase/firestore-compat","0.3.32")}(nn.Z);var Lr=B(7142);function Ar(vt,ae){return function In(vt,ae=Ae.z){return new Se.y(Te=>{let yt;return null!=ae?ae.schedule(()=>{yt=vt.onSnapshot({includeMetadataChanges:!0},Te)}):yt=vt.onSnapshot({includeMetadataChanges:!0},Te),()=>{yt?.()}})}(vt,ae)}function Vt(vt,ae){return Ar(vt,ae).pipe((0,rt.U)(Te=>({payload:Te,type:"query"})))}class bn{ref;afs;constructor(ae,Te){this.ref=ae,this.afs=Te}set(ae,Te){return this.ref.set(ae,Te)}update(ae){return this.ref.update(ae)}delete(){return this.ref.delete()}collection(ae,Te){const yt=this.ref.collection(ae),{ref:zt,query:Nn}=br(yt,Te);return new $r(zt,Nn,this.afs)}snapshotChanges(){return function Yn(vt,ae){return Ar(vt,ae).pipe((0,te.O)(void 0),st(),(0,rt.U)(Te=>{const[yt,zt]=Te;return zt.exists?yt?.exists?{payload:zt,type:"modified"}:{payload:zt,type:"added"}:{payload:zt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(G.iC)}valueChanges(ae={}){return this.snapshotChanges().pipe((0,rt.U)(({payload:Te})=>ae.idField?{...Te.data(),[ae.idField]:Te.id}:Te.data()))}get(ae){return(0,De.D)(this.ref.get(ae)).pipe(G.iC)}}function Rn(vt,ae){return Vt(vt,ae).pipe((0,te.O)(void 0),st(),(0,rt.U)(Te=>{const[yt,zt]=Te,Nn=zt.payload.docChanges(),ui=Nn.map(Er=>({type:Er.type,payload:Er}));return yt&&JSON.stringify(yt.payload.metadata)!==JSON.stringify(zt.payload.metadata)&&zt.payload.docs.forEach((Er,xe)=>{const re=Nn.find($=>$.doc.ref.isEqual(Er.ref)),W=yt?.payload.docs.find($=>$.ref.isEqual(Er.ref));re&&JSON.stringify(re.doc.metadata)===JSON.stringify(Er.metadata)||!re&&W&&JSON.stringify(W.metadata)===JSON.stringify(Er.metadata)||ui.push({type:"modified",payload:{oldIndex:xe,newIndex:xe,type:"modified",doc:Er}})}),ui}))}function On(vt,ae,Te){return Rn(vt,Te).pipe((0,mt.R)((yt,zt)=>function yr(vt,ae,Te){return ae.forEach(yt=>{Te.indexOf(yt.type)>-1&&(vt=function Fn(vt,ae){switch(ae.type){case"added":if(!vt[ae.newIndex]||!vt[ae.newIndex].doc.ref.isEqual(ae.doc.ref))return vr(vt,ae.newIndex,0,ae);break;case"modified":if(null==vt[ae.oldIndex]||vt[ae.oldIndex].doc.ref.isEqual(ae.doc.ref)){if(ae.oldIndex!==ae.newIndex){const Te=vt.slice();return Te.splice(ae.oldIndex,1),Te.splice(ae.newIndex,0,ae),Te}return vr(vt,ae.newIndex,1,ae)}break;case"removed":if(vt[ae.oldIndex]&&vt[ae.oldIndex].doc.ref.isEqual(ae.doc.ref))return vr(vt,ae.oldIndex,1)}return vt}(vt,yt))}),vt}(yt,zt.map(Nn=>Nn.payload),ae),[]),(0,ft.x)(),(0,rt.U)(yt=>yt.map(zt=>({type:zt.type,payload:zt}))))}function vr(vt,ae,Te,...yt){const zt=vt.slice();return zt.splice(ae,Te,...yt),zt}function Hn(vt){return(!vt||0===vt.length)&&(vt=["added","removed","modified"]),vt}class $r{ref;query;afs;constructor(ae,Te,yt){this.ref=ae,this.query=Te,this.afs=yt}stateChanges(ae){let Te=Rn(this.query,this.afs.schedulers.outsideAngular);return ae&&ae.length>0&&(Te=Te.pipe((0,rt.U)(yt=>yt.filter(zt=>ae.indexOf(zt.type)>-1)))),Te.pipe((0,te.O)(void 0),st(),(0,wt.h)(([yt,zt])=>zt.length>0||!yt),(0,rt.U)(([,yt])=>yt),G.iC)}auditTrail(ae){return this.stateChanges(ae).pipe((0,mt.R)((Te,yt)=>[...Te,...yt],[]))}snapshotChanges(ae){const Te=Hn(ae);return On(this.query,Te,this.afs.schedulers.outsideAngular).pipe(G.iC)}valueChanges(ae={}){return Vt(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(Te=>Te.payload.docs.map(yt=>ae.idField?{...yt.data(),[ae.idField]:yt.id}:yt.data())),G.iC)}get(ae){return(0,De.D)(this.query.get(ae)).pipe(G.iC)}add(ae){return this.ref.add(ae)}doc(ae){return new bn(this.ref.doc(ae),this.afs)}}class pi{query;afs;constructor(ae,Te){this.query=ae,this.afs=Te}stateChanges(ae){return ae&&0!==ae.length?Rn(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(Te=>Te.filter(yt=>ae.indexOf(yt.type)>-1)),(0,wt.h)(Te=>Te.length>0),G.iC):Rn(this.query,this.afs.schedulers.outsideAngular).pipe(G.iC)}auditTrail(ae){return this.stateChanges(ae).pipe((0,mt.R)((Te,yt)=>[...Te,...yt],[]))}snapshotChanges(ae){const Te=Hn(ae);return On(this.query,Te,this.afs.schedulers.outsideAngular).pipe(G.iC)}valueChanges(ae={}){return Vt(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(yt=>yt.payload.docs.map(zt=>ae.idField?{[ae.idField]:zt.id,...zt.data()}:zt.data())),G.iC)}get(ae){return(0,De.D)(this.query.get(ae)).pipe(G.iC)}}const rn=new u.OlP("angularfire2.enableFirestorePersistence"),gi=new u.OlP("angularfire2.firestore.persistenceSettings"),tr=new u.OlP("angularfire2.firestore.settings"),Dr=new u.OlP("angularfire2.firestore.use-emulator");function br(vt,ae=(Te=>Te)){return{query:ae(vt),ref:vt}}let Xr=(()=>{class vt{schedulers;firestore;persistenceEnabled$;constructor(Te,yt,zt,Nn,ui,Er,xe,re,W,$,U,pe,Be,Tt,Ot,sn,Xt){this.schedulers=xe;const ln=(0,be.on)(Te,Er,yt),qn=W;$&&(0,me.nw)(ln,Er,U,Be,Tt,Ot,pe,sn),[this.firestore,this.persistenceEnabled$]=(0,be.cc)(`${ln.name}.firestore`,"AngularFirestore",ln.name,()=>{const Ne=Er.runOutsideAngular(()=>ln.firestore());if(Nn&&Ne.settings(Nn),qn&&Ne.useEmulator(...qn),zt&&!(0,g.PM)(ui)){const we=()=>{try{return(0,De.D)(Ne.enablePersistence(re||void 0).then(()=>!0,()=>!1))}catch(Le){return typeof console<"u"&&console.warn(Le),(0,We.of)(!1)}};return[Ne,Er.runOutsideAngular(we)]}return[Ne,(0,We.of)(!1)]},[Nn,qn,zt])}collection(Te,yt){let zt;zt="string"==typeof Te?this.firestore.collection(Te):Te;const{ref:Nn,query:ui}=br(zt,yt),Er=this.schedulers.ngZone.run(()=>Nn);return new $r(Er,ui,this)}collectionGroup(Te,yt){const zt=yt||(ui=>ui),Nn=this.firestore.collectionGroup(Te);return new pi(zt(Nn),this)}doc(Te){let yt;yt="string"==typeof Te?this.firestore.doc(Te):Te;const zt=this.schedulers.ngZone.run(()=>yt);return new bn(zt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(yt){return new(yt||vt)(u.LFG(be.Dh),u.LFG(be.xv,8),u.LFG(rn,8),u.LFG(tr,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(G.HU),u.LFG(gi,8),u.LFG(Dr,8),u.LFG(me.zQ,8),u.LFG(me.Qv,8),u.LFG(me.L6,8),u.LFG(me._Q,8),u.LFG(me.rT,8),u.LFG(me.lh,8),u.LFG(me.f7,8),u.LFG(G.Rf,8))};static \u0275prov=u.Yz7({token:vt,factory:vt.\u0275fac,providedIn:"any"})}return vt})(),$e=(()=>{class vt{constructor(){Lr.Z.registerVersion("angularfire",G.q4.full,"fst-compat")}static enablePersistence(Te){return{ngModule:vt,providers:[{provide:rn,useValue:!0},{provide:gi,useValue:Te}]}}static \u0275fac=function(yt){return new(yt||vt)};static \u0275mod=u.oAB({type:vt});static \u0275inj=u.cJS({providers:[Xr]})}return vt})()},7217:(Jt,Ye,B)=>{B.d(Ye,{Dh:()=>De,GT:()=>Ae,cc:()=>rt,hO:()=>st,on:()=>te,pX:()=>me,xv:()=>We});var g=B(5879),u=B(1920),G=B(7142);const be=["ngOnDestroy"],me=(Et,nn,qe,Fe={})=>new Proxy(Et,{get:(it,He)=>qe.runOutsideAngular(()=>{if(Et[He])return Fe?.spy?.get&&Fe.spy.get(He,Et[He]),Et[He];if(be.indexOf(He)>-1)return()=>{};const ct=nn.toPromise().then(At=>{const kt=At?.[He];return"function"==typeof kt?kt.bind(At):kt?.then?kt.then(ve=>qe.run(()=>ve)):qe.run(()=>kt)});return new Proxy(()=>{},{get:(At,kt)=>ct[kt],apply:(At,kt,ve)=>ct.then(jt=>{const an=jt?.(...ve);return Fe?.spy?.apply&&Fe.spy.apply(He,ve,an),an})})})}),Ae=(Et,nn)=>{nn.forEach(qe=>{Object.getOwnPropertyNames(qe.prototype||qe).forEach(Fe=>{Object.defineProperty(Et.prototype,Fe,Object.getOwnPropertyDescriptor(qe.prototype||qe,Fe))})})};class Se{constructor(nn){return nn}}const De=new g.OlP("angularfire2.app.options"),We=new g.OlP("angularfire2.app.name");function te(Et,nn,qe){const it="object"==typeof qe&&qe||{};it.name=it.name||"string"==typeof qe&&qe||"[DEFAULT]";const ct=G.Z.apps.filter(At=>At&&At.name===it.name)[0]||nn.runOutsideAngular(()=>G.Z.initializeApp(Et,it));try{if(JSON.stringify(Et)!==JSON.stringify(ct.options)){const At=!!module.hot;oe("error",`${ct.name} Firebase App already initialized with different options${At?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Se(ct)}const oe=(Et,...nn)=>{(0,g.X6Q)()&&typeof console<"u"&&console[Et](...nn)},ye={provide:Se,useFactory:te,deps:[De,g.R0b,[new g.FiY,We]]};let st=(()=>{class Et{static initializeApp(qe,Fe){return{ngModule:Et,providers:[{provide:De,useValue:qe},{provide:We,useValue:Fe}]}}constructor(qe){G.Z.registerVersion("angularfire",u.q4.full,"core"),G.Z.registerVersion("angularfire",u.q4.full,"app-compat"),G.Z.registerVersion("angular",g.q4F.full,qe.toString())}static \u0275fac=function(Fe){return new(Fe||Et)(g.LFG(g.Lbi))};static \u0275mod=g.oAB({type:Et});static \u0275inj=g.cJS({providers:[ye]})}return Et})();function rt(Et,nn,qe,Fe,it){const[,He,ct]=globalThis.\u0275AngularfireInstanceCache.find(At=>At[0]===Et)||[];if(He)return function mt(Et,nn){try{return Et.toString()===nn.toString()}catch{return Et===nn}}(it,ct)||(wt("error",`${nn} was already initialized on the ${qe} Firebase App with different settings.${ft?" You may need to reload as Firebase is not HMR aware.":""}`),wt("warn",{is:it,was:ct})),He;{const At=Fe();return globalThis.\u0275AngularfireInstanceCache.push([Et,At,it]),At}}const ft=typeof module<"u"&&!!module.hot,wt=(Et,...nn)=>{(0,g.X6Q)()&&typeof console<"u"&&console[Et](...nn)};globalThis.\u0275AngularfireInstanceCache||=[]},1920:(Jt,Ye,B)=>{B.d(Ye,{q4:()=>rt,iC:()=>an,fc:()=>ve,HU:()=>He,Rf:()=>Et,vb:()=>wt,JM:()=>ft,u3:()=>Wt});var g=B(5879),u=B(3182),G=B(1954),me=B(2631);const Se=new class Ae extends me.v{}(class be extends G.o{constructor(lt,Re){super(lt,Re),this.scheduler=lt,this.work=Re}schedule(lt,Re=0){return Re>0?super.schedule(lt,Re):(this.delay=Re,this.state=lt,this.scheduler.flush(this),this)}execute(lt,Re){return Re>0||this.closed?super.execute(lt,Re):this._execute(lt,Re)}requestAsyncId(lt,Re,fe=0){return null!=fe&&fe>0||null==fe&&this.delay>0?super.requestAsyncId(lt,Re,fe):(lt.flush(this),0)}});var We=B(6321),te=B(5592),oe=B(9397),ye=B(3093),st=B(5137);const rt=new g.GfV("ANGULARFIRE2_VERSION");function ft(cn,lt,Re){if(lt){if(1===lt.length)return lt[0];const Je=lt.filter(Xe=>Xe.app===Re);if(1===Je.length)return Je[0]}return Re.container.getProvider(cn).getImmediate({optional:!0})}const wt=(cn,lt)=>{const Re=lt?[lt]:(0,u.C6)(),fe=[];return Re.forEach(ke=>{ke.container.getProvider(cn).instances.forEach(Xe=>{fe.includes(Xe)||fe.push(Xe)})}),fe};class Et{constructor(){return wt(nn)}}const nn="app-check";function qe(){}class Fe{zone;delegate;constructor(lt,Re=Se){this.zone=lt,this.delegate=Re}now(){return this.delegate.now()}schedule(lt,Re,fe){const ke=this.zone;return this.delegate.schedule(function(Xe){ke.runGuarded(()=>{lt.apply(this,[Xe])})},Re,fe)}}class it{zone;task=null;constructor(lt){this.zone=lt}call(lt,Re){const fe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qe,{},qe,qe)),Re.pipe((0,oe.b)({next:fe,complete:fe,error:fe})).subscribe(lt).add(fe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let He=(()=>{class cn{ngZone;outsideAngular;insideAngular;constructor(Re){this.ngZone=Re,this.outsideAngular=Re.runOutsideAngular(()=>new Fe(Zone.current)),this.insideAngular=Re.run(()=>new Fe(Zone.current,We.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(fe){return new(fe||cn)(g.LFG(g.R0b))};static \u0275prov=g.Yz7({token:cn,factory:cn.\u0275fac,providedIn:"root"})}return cn})();function ct(){const cn=globalThis.\u0275AngularFireScheduler;if(!cn)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return cn}function kt(cn){return ct().ngZone.run(()=>cn())}function ve(cn){return cn.pipe((0,ye.Q)(ct().outsideAngular))}function an(cn){return function hr(cn){return function(Re){return(Re=Re.lift(new it(cn.ngZone))).pipe((0,st.R)(cn.outsideAngular),(0,ye.Q)(cn.insideAngular))}}(ct())(cn)}const xt=(cn,lt)=>function(){const fe=arguments;return lt&&setTimeout(()=>{"scheduled"===lt.state&&lt.invoke()},10),kt(()=>cn.apply(void 0,fe))},Wt=(cn,lt)=>function(){let Re;const fe=arguments;for(let Je=0;Je<arguments.length;Je++)"function"==typeof fe[Je]&&(lt&&(Re||=kt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qe,{},qe,qe))),fe[Je]=xt(fe[Je],Re));const ke=function At(cn){return ct().ngZone.runOutsideAngular(()=>cn())}(()=>cn.apply(this,fe));if(!lt){if(ke instanceof te.y){const Je=ct();return ke.pipe((0,st.R)(Je.outsideAngular),(0,ye.Q)(Je.insideAngular))}return kt(()=>ke)}return ke instanceof te.y?ke.pipe(an):ke instanceof Promise?kt(()=>new Promise((Je,Xe)=>ke.then(ut=>kt(()=>Je(ut)),ut=>kt(()=>Xe(ut))))):"function"==typeof ke&&Re?function(){return setTimeout(()=>{Re&&"scheduled"===Re.state&&Re.invoke()},10),ke.apply(this,arguments)}:kt(()=>ke)}},6223:(Jt,Ye,B)=>{B.d(Ye,{EJ:()=>Qs,F:()=>bi,Fj:()=>rt,JJ:()=>Lt,JL:()=>Lr,Kr:()=>fs,On:()=>Ji,Q7:()=>Jn,UX:()=>qo,YN:()=>ei,_Y:()=>Aa,kI:()=>qe,qu:()=>ki,sg:()=>Gr,u:()=>on,u5:()=>Qa});var g=B(5879),u=B(6814),G=B(2459),be=B(9315),me=B(7398);let Ae=(()=>{class q{constructor(F,le){this._renderer=F,this._elementRef=le,this.onChange=Ce=>{},this.onTouched=()=>{}}setProperty(F,le){this._renderer.setProperty(this._elementRef.nativeElement,F,le)}registerOnTouched(F){this.onTouched=F}registerOnChange(F){this.onChange=F}setDisabledState(F){this.setProperty("disabled",F)}static#e=this.\u0275fac=function(le){return new(le||q)(g.Y36(g.Qsj),g.Y36(g.SBq))};static#t=this.\u0275dir=g.lG2({type:q})}return q})(),Se=(()=>{class q extends Ae{static#e=this.\u0275fac=function(){let F;return function(Ce){return(F||(F=g.n5z(q)))(Ce||q)}}();static#t=this.\u0275dir=g.lG2({type:q,features:[g.qOj]})}return q})();const De=new g.OlP("NgValueAccessor"),oe={provide:De,useExisting:(0,g.Gpc)(()=>rt),multi:!0},st=new g.OlP("CompositionEventMode");let rt=(()=>{class q extends Ae{constructor(F,le,Ce){super(F,le),this._compositionMode=Ce,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ye(){const q=(0,u.q)()?(0,u.q)().getUserAgent():"";return/android (\d+)/.test(q.toLowerCase())}())}writeValue(F){this.setProperty("value",F??"")}_handleInput(F){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(F)}_compositionStart(){this._composing=!0}_compositionEnd(F){this._composing=!1,this._compositionMode&&this.onChange(F)}static#e=this.\u0275fac=function(le){return new(le||q)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(st,8))};static#t=this.\u0275dir=g.lG2({type:q,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(le,Ce){1&le&&g.NdJ("input",function(lr){return Ce._handleInput(lr.target.value)})("blur",function(){return Ce.onTouched()})("compositionstart",function(){return Ce._compositionStart()})("compositionend",function(lr){return Ce._compositionEnd(lr.target.value)})},features:[g._Bn([oe]),g.qOj]})}return q})();function mt(q){return null==q||("string"==typeof q||Array.isArray(q))&&0===q.length}function ft(q){return null!=q&&"number"==typeof q.length}const wt=new g.OlP("NgValidators"),Et=new g.OlP("NgAsyncValidators"),nn=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class qe{static min(X){return function Fe(q){return X=>{if(mt(X.value)||mt(q))return null;const F=parseFloat(X.value);return!isNaN(F)&&F<q?{min:{min:q,actual:X.value}}:null}}(X)}static max(X){return function it(q){return X=>{if(mt(X.value)||mt(q))return null;const F=parseFloat(X.value);return!isNaN(F)&&F>q?{max:{max:q,actual:X.value}}:null}}(X)}static required(X){return He(X)}static requiredTrue(X){return function ct(q){return!0===q.value?null:{required:!0}}(X)}static email(X){return function At(q){return mt(q.value)||nn.test(q.value)?null:{email:!0}}(X)}static minLength(X){return function kt(q){return X=>mt(X.value)||!ft(X.value)?null:X.value.length<q?{minlength:{requiredLength:q,actualLength:X.value.length}}:null}(X)}static maxLength(X){return function ve(q){return X=>ft(X.value)&&X.value.length>q?{maxlength:{requiredLength:q,actualLength:X.value.length}}:null}(X)}static pattern(X){return function jt(q){if(!q)return an;let X,F;return"string"==typeof q?(F="","^"!==q.charAt(0)&&(F+="^"),F+=q,"$"!==q.charAt(q.length-1)&&(F+="$"),X=new RegExp(F)):(F=q.toString(),X=q),le=>{if(mt(le.value))return null;const Ce=le.value;return X.test(Ce)?null:{pattern:{requiredPattern:F,actualValue:Ce}}}}(X)}static nullValidator(X){return null}static compose(X){return fe(X)}static composeAsync(X){return Je(X)}}function He(q){return mt(q.value)?{required:!0}:null}function an(q){return null}function hr(q){return null!=q}function xt(q){return(0,g.QGY)(q)?(0,G.D)(q):q}function Wt(q){let X={};return q.forEach(F=>{X=null!=F?{...X,...F}:X}),0===Object.keys(X).length?null:X}function cn(q,X){return X.map(F=>F(q))}function Re(q){return q.map(X=>function lt(q){return!q.validate}(X)?X:F=>X.validate(F))}function fe(q){if(!q)return null;const X=q.filter(hr);return 0==X.length?null:function(F){return Wt(cn(F,X))}}function ke(q){return null!=q?fe(Re(q)):null}function Je(q){if(!q)return null;const X=q.filter(hr);return 0==X.length?null:function(F){const le=cn(F,X).map(xt);return(0,be.D)(le).pipe((0,me.U)(Wt))}}function Xe(q){return null!=q?Je(Re(q)):null}function ut(q,X){return null===q?[X]:Array.isArray(q)?[...q,X]:[q,X]}function It(q){return q._rawValidators}function Gt(q){return q._rawAsyncValidators}function Ht(q){return q?Array.isArray(q)?q:[q]:[]}function qt(q,X){return Array.isArray(q)?q.includes(X):q===X}function gn(q,X){const F=Ht(X);return Ht(q).forEach(Ce=>{qt(F,Ce)||F.push(Ce)}),F}function er(q,X){return Ht(X).filter(F=>!qt(q,F))}class Cn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(X){this._rawValidators=X||[],this._composedValidatorFn=ke(this._rawValidators)}_setAsyncValidators(X){this._rawAsyncValidators=X||[],this._composedAsyncValidatorFn=Xe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(X){this._onDestroyCallbacks.push(X)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(X=>X()),this._onDestroyCallbacks=[]}reset(X=void 0){this.control&&this.control.reset(X)}hasError(X,F){return!!this.control&&this.control.hasError(X,F)}getError(X,F){return this.control?this.control.getError(X,F):null}}class Mn extends Cn{get formDirective(){return null}get path(){return null}}class Kt extends Cn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Dn{constructor(X){this._cd=X}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Lt=(()=>{class q extends Dn{constructor(F){super(F)}static#e=this.\u0275fac=function(le){return new(le||q)(g.Y36(Kt,2))};static#t=this.\u0275dir=g.lG2({type:q,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(le,Ce){2&le&&g.ekj("ng-untouched",Ce.isUntouched)("ng-touched",Ce.isTouched)("ng-pristine",Ce.isPristine)("ng-dirty",Ce.isDirty)("ng-valid",Ce.isValid)("ng-invalid",Ce.isInvalid)("ng-pending",Ce.isPending)},features:[g.qOj]})}return q})(),Lr=(()=>{class q extends Dn{constructor(F){super(F)}static#e=this.\u0275fac=function(le){return new(le||q)(g.Y36(Mn,10))};static#t=this.\u0275dir=g.lG2({type:q,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(le,Ce){2&le&&g.ekj("ng-untouched",Ce.isUntouched)("ng-touched",Ce.isTouched)("ng-pristine",Ce.isPristine)("ng-dirty",Ce.isDirty)("ng-valid",Ce.isValid)("ng-invalid",Ce.isInvalid)("ng-pending",Ce.isPending)("ng-submitted",Ce.isSubmitted)},features:[g.qOj]})}return q})();const br="VALID",Xr="INVALID",$e="PENDING",vt="DISABLED";function ae(q){return(Nn(q)?q.validators:q)||null}function yt(q,X){return(Nn(X)?X.asyncValidators:q)||null}function Nn(q){return null!=q&&!Array.isArray(q)&&"object"==typeof q}function ui(q,X,F){const le=q.controls;if(!(X?Object.keys(le):le).length)throw new g.vHH(1e3,"");if(!le[F])throw new g.vHH(1001,"")}function Er(q,X,F){q._forEachChild((le,Ce)=>{if(void 0===F[Ce])throw new g.vHH(1002,"")})}class xe{constructor(X,F){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(X),this._assignAsyncValidators(F)}get validator(){return this._composedValidatorFn}set validator(X){this._rawValidators=this._composedValidatorFn=X}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(X){this._rawAsyncValidators=this._composedAsyncValidatorFn=X}get parent(){return this._parent}get valid(){return this.status===br}get invalid(){return this.status===Xr}get pending(){return this.status==$e}get disabled(){return this.status===vt}get enabled(){return this.status!==vt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(X){this._assignValidators(X)}setAsyncValidators(X){this._assignAsyncValidators(X)}addValidators(X){this.setValidators(gn(X,this._rawValidators))}addAsyncValidators(X){this.setAsyncValidators(gn(X,this._rawAsyncValidators))}removeValidators(X){this.setValidators(er(X,this._rawValidators))}removeAsyncValidators(X){this.setAsyncValidators(er(X,this._rawAsyncValidators))}hasValidator(X){return qt(this._rawValidators,X)}hasAsyncValidator(X){return qt(this._rawAsyncValidators,X)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(X={}){this.touched=!0,this._parent&&!X.onlySelf&&this._parent.markAsTouched(X)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(X=>X.markAllAsTouched())}markAsUntouched(X={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(F=>{F.markAsUntouched({onlySelf:!0})}),this._parent&&!X.onlySelf&&this._parent._updateTouched(X)}markAsDirty(X={}){this.pristine=!1,this._parent&&!X.onlySelf&&this._parent.markAsDirty(X)}markAsPristine(X={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(F=>{F.markAsPristine({onlySelf:!0})}),this._parent&&!X.onlySelf&&this._parent._updatePristine(X)}markAsPending(X={}){this.status=$e,!1!==X.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!X.onlySelf&&this._parent.markAsPending(X)}disable(X={}){const F=this._parentMarkedDirty(X.onlySelf);this.status=vt,this.errors=null,this._forEachChild(le=>{le.disable({...X,onlySelf:!0})}),this._updateValue(),!1!==X.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...X,skipPristineCheck:F}),this._onDisabledChange.forEach(le=>le(!0))}enable(X={}){const F=this._parentMarkedDirty(X.onlySelf);this.status=br,this._forEachChild(le=>{le.enable({...X,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:X.emitEvent}),this._updateAncestors({...X,skipPristineCheck:F}),this._onDisabledChange.forEach(le=>le(!1))}_updateAncestors(X){this._parent&&!X.onlySelf&&(this._parent.updateValueAndValidity(X),X.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(X){this._parent=X}getRawValue(){return this.value}updateValueAndValidity(X={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===br||this.status===$e)&&this._runAsyncValidator(X.emitEvent)),!1!==X.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!X.onlySelf&&this._parent.updateValueAndValidity(X)}_updateTreeValidity(X={emitEvent:!0}){this._forEachChild(F=>F._updateTreeValidity(X)),this.updateValueAndValidity({onlySelf:!0,emitEvent:X.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vt:br}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(X){if(this.asyncValidator){this.status=$e,this._hasOwnPendingAsyncValidator=!0;const F=xt(this.asyncValidator(this));this._asyncValidationSubscription=F.subscribe(le=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(le,{emitEvent:X})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(X,F={}){this.errors=X,this._updateControlsErrors(!1!==F.emitEvent)}get(X){let F=X;return null==F||(Array.isArray(F)||(F=F.split(".")),0===F.length)?null:F.reduce((le,Ce)=>le&&le._find(Ce),this)}getError(X,F){const le=F?this.get(F):this;return le&&le.errors?le.errors[X]:null}hasError(X,F){return!!this.getError(X,F)}get root(){let X=this;for(;X._parent;)X=X._parent;return X}_updateControlsErrors(X){this.status=this._calculateStatus(),X&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(X)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?vt:this.errors?Xr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($e)?$e:this._anyControlsHaveStatus(Xr)?Xr:br}_anyControlsHaveStatus(X){return this._anyControls(F=>F.status===X)}_anyControlsDirty(){return this._anyControls(X=>X.dirty)}_anyControlsTouched(){return this._anyControls(X=>X.touched)}_updatePristine(X={}){this.pristine=!this._anyControlsDirty(),this._parent&&!X.onlySelf&&this._parent._updatePristine(X)}_updateTouched(X={}){this.touched=this._anyControlsTouched(),this._parent&&!X.onlySelf&&this._parent._updateTouched(X)}_registerOnCollectionChange(X){this._onCollectionChange=X}_setUpdateStrategy(X){Nn(X)&&null!=X.updateOn&&(this._updateOn=X.updateOn)}_parentMarkedDirty(X){return!X&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(X){return null}_assignValidators(X){this._rawValidators=Array.isArray(X)?X.slice():X,this._composedValidatorFn=function Te(q){return Array.isArray(q)?ke(q):q||null}(this._rawValidators)}_assignAsyncValidators(X){this._rawAsyncValidators=Array.isArray(X)?X.slice():X,this._composedAsyncValidatorFn=function zt(q){return Array.isArray(q)?Xe(q):q||null}(this._rawAsyncValidators)}}class re extends xe{constructor(X,F,le){super(ae(F),yt(le,F)),this.controls=X,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(X,F){return this.controls[X]?this.controls[X]:(this.controls[X]=F,F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange),F)}addControl(X,F,le={}){this.registerControl(X,F),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}removeControl(X,F={}){this.controls[X]&&this.controls[X]._registerOnCollectionChange(()=>{}),delete this.controls[X],this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}setControl(X,F,le={}){this.controls[X]&&this.controls[X]._registerOnCollectionChange(()=>{}),delete this.controls[X],F&&this.registerControl(X,F),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}contains(X){return this.controls.hasOwnProperty(X)&&this.controls[X].enabled}setValue(X,F={}){Er(this,0,X),Object.keys(X).forEach(le=>{ui(this,!0,le),this.controls[le].setValue(X[le],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(X,F={}){null!=X&&(Object.keys(X).forEach(le=>{const Ce=this.controls[le];Ce&&Ce.patchValue(X[le],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(X={},F={}){this._forEachChild((le,Ce)=>{le.reset(X?X[Ce]:null,{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this._reduceChildren({},(X,F,le)=>(X[le]=F.getRawValue(),X))}_syncPendingControls(){let X=this._reduceChildren(!1,(F,le)=>!!le._syncPendingControls()||F);return X&&this.updateValueAndValidity({onlySelf:!0}),X}_forEachChild(X){Object.keys(this.controls).forEach(F=>{const le=this.controls[F];le&&X(le,F)})}_setUpControls(){this._forEachChild(X=>{X.setParent(this),X._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(X){for(const[F,le]of Object.entries(this.controls))if(this.contains(F)&&X(le))return!0;return!1}_reduceValue(){return this._reduceChildren({},(F,le,Ce)=>((le.enabled||this.disabled)&&(F[Ce]=le.value),F))}_reduceChildren(X,F){let le=X;return this._forEachChild((Ce,Tn)=>{le=F(le,Ce,Tn)}),le}_allControlsDisabled(){for(const X of Object.keys(this.controls))if(this.controls[X].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(X){return this.controls.hasOwnProperty(X)?this.controls[X]:null}}class U extends re{}const Be=new g.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Tt}),Tt="always";function Ot(q,X){return[...X.path,q]}function sn(q,X,F=Tt){Ne(q,X),X.valueAccessor.writeValue(q.value),(q.disabled||"always"===F)&&X.valueAccessor.setDisabledState?.(q.disabled),function Le(q,X){X.valueAccessor.registerOnChange(F=>{q._pendingValue=F,q._pendingChange=!0,q._pendingDirty=!0,"change"===q.updateOn&&Ut(q,X)})}(q,X),function un(q,X){const F=(le,Ce)=>{X.valueAccessor.writeValue(le),Ce&&X.viewToModelUpdate(le)};q.registerOnChange(F),X._registerOnDestroy(()=>{q._unregisterOnChange(F)})}(q,X),function Dt(q,X){X.valueAccessor.registerOnTouched(()=>{q._pendingTouched=!0,"blur"===q.updateOn&&q._pendingChange&&Ut(q,X),"submit"!==q.updateOn&&q.markAsTouched()})}(q,X),function qn(q,X){if(X.valueAccessor.setDisabledState){const F=le=>{X.valueAccessor.setDisabledState(le)};q.registerOnDisabledChange(F),X._registerOnDestroy(()=>{q._unregisterOnDisabledChange(F)})}}(q,X)}function Xt(q,X,F=!0){const le=()=>{};X.valueAccessor&&(X.valueAccessor.registerOnChange(le),X.valueAccessor.registerOnTouched(le)),we(q,X),q&&(X._invokeOnDestroyCallbacks(),q._registerOnCollectionChange(()=>{}))}function ln(q,X){q.forEach(F=>{F.registerOnValidatorChange&&F.registerOnValidatorChange(X)})}function Ne(q,X){const F=It(q);null!==X.validator?q.setValidators(ut(F,X.validator)):"function"==typeof F&&q.setValidators([F]);const le=Gt(q);null!==X.asyncValidator?q.setAsyncValidators(ut(le,X.asyncValidator)):"function"==typeof le&&q.setAsyncValidators([le]);const Ce=()=>q.updateValueAndValidity();ln(X._rawValidators,Ce),ln(X._rawAsyncValidators,Ce)}function we(q,X){let F=!1;if(null!==q){if(null!==X.validator){const Ce=It(q);if(Array.isArray(Ce)&&Ce.length>0){const Tn=Ce.filter(lr=>lr!==X.validator);Tn.length!==Ce.length&&(F=!0,q.setValidators(Tn))}}if(null!==X.asyncValidator){const Ce=Gt(q);if(Array.isArray(Ce)&&Ce.length>0){const Tn=Ce.filter(lr=>lr!==X.asyncValidator);Tn.length!==Ce.length&&(F=!0,q.setAsyncValidators(Tn))}}}const le=()=>{};return ln(X._rawValidators,le),ln(X._rawAsyncValidators,le),F}function Ut(q,X){q._pendingDirty&&q.markAsDirty(),q.setValue(q._pendingValue,{emitModelToViewChange:!1}),X.viewToModelUpdate(q._pendingValue),q._pendingChange=!1}function Qt(q,X){Ne(q,X)}function wn(q,X){if(!q.hasOwnProperty("model"))return!1;const F=q.model;return!!F.isFirstChange()||!Object.is(X,F.currentValue)}function yn(q,X){q._syncPendingControls(),X.forEach(F=>{const le=F.control;"submit"===le.updateOn&&le._pendingChange&&(F.viewToModelUpdate(le._pendingValue),le._pendingChange=!1)})}function Ln(q,X){if(!X)return null;let F,le,Ce;return Array.isArray(X),X.forEach(Tn=>{Tn.constructor===rt?F=Tn:function Sn(q){return Object.getPrototypeOf(q.constructor)===Se}(Tn)?le=Tn:Ce=Tn}),Ce||le||F||null}const Kr={provide:Mn,useExisting:(0,g.Gpc)(()=>bi)},nr=(()=>Promise.resolve())();let bi=(()=>{class q extends Mn{constructor(F,le,Ce){super(),this.callSetDisabledState=Ce,this.submitted=!1,this._directives=new Set,this.ngSubmit=new g.vpe,this.form=new re({},ke(F),Xe(le))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(F){nr.then(()=>{const le=this._findContainer(F.path);F.control=le.registerControl(F.name,F.control),sn(F.control,F,this.callSetDisabledState),F.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(F)})}getControl(F){return this.form.get(F.path)}removeControl(F){nr.then(()=>{const le=this._findContainer(F.path);le&&le.removeControl(F.name),this._directives.delete(F)})}addFormGroup(F){nr.then(()=>{const le=this._findContainer(F.path),Ce=new re({});Qt(Ce,F),le.registerControl(F.name,Ce),Ce.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(F){nr.then(()=>{const le=this._findContainer(F.path);le&&le.removeControl(F.name)})}getFormGroup(F){return this.form.get(F.path)}updateModel(F,le){nr.then(()=>{this.form.get(F.path).setValue(le)})}setValue(F){this.control.setValue(F)}onSubmit(F){return this.submitted=!0,yn(this.form,this._directives),this.ngSubmit.emit(F),"dialog"===F?.target?.method}onReset(){this.resetForm()}resetForm(F=void 0){this.form.reset(F),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(F){return F.pop(),F.length?this.form.get(F):this.form}static#e=this.\u0275fac=function(le){return new(le||q)(g.Y36(wt,10),g.Y36(Et,10),g.Y36(Be,8))};static#t=this.\u0275dir=g.lG2({type:q,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(le,Ce){1&le&&g.NdJ("submit",function(lr){return Ce.onSubmit(lr)})("reset",function(){return Ce.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([Kr]),g.qOj]})}return q})();function ls(q,X){const F=q.indexOf(X);F>-1&&q.splice(F,1)}function Qi(q){return"object"==typeof q&&null!==q&&2===Object.keys(q).length&&"value"in q&&"disabled"in q}const Vr=class extends xe{constructor(X=null,F,le){super(ae(F),yt(le,F)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(X),this._setUpdateStrategy(F),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Nn(F)&&(F.nonNullable||F.initialValueIsDefault)&&(this.defaultValue=Qi(X)?X.value:X)}setValue(X,F={}){this.value=this._pendingValue=X,this._onChange.length&&!1!==F.emitModelToViewChange&&this._onChange.forEach(le=>le(this.value,!1!==F.emitViewToModelChange)),this.updateValueAndValidity(F)}patchValue(X,F={}){this.setValue(X,F)}reset(X=this.defaultValue,F={}){this._applyFormState(X),this.markAsPristine(F),this.markAsUntouched(F),this.setValue(this.value,F),this._pendingChange=!1}_updateValue(){}_anyControls(X){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(X){this._onChange.push(X)}_unregisterOnChange(X){ls(this._onChange,X)}registerOnDisabledChange(X){this._onDisabledChange.push(X)}_unregisterOnDisabledChange(X){ls(this._onDisabledChange,X)}_forEachChild(X){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(X){Qi(X)?(this.value=this._pendingValue=X.value,X.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=X}},js={provide:Kt,useExisting:(0,g.Gpc)(()=>Ji)},Bi=(()=>Promise.resolve())();let Ji=(()=>{class q extends Kt{constructor(F,le,Ce,Tn,lr,qi){super(),this._changeDetectorRef=lr,this.callSetDisabledState=qi,this.control=new Vr,this._registered=!1,this.name="",this.update=new g.vpe,this._parent=F,this._setValidators(le),this._setAsyncValidators(Ce),this.valueAccessor=Ln(0,Tn)}ngOnChanges(F){if(this._checkForErrors(),!this._registered||"name"in F){if(this._registered&&(this._checkName(),this.formDirective)){const le=F.name.previousValue;this.formDirective.removeControl({name:le,path:this._getPath(le)})}this._setUpControl()}"isDisabled"in F&&this._updateDisabled(F),wn(F,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){sn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(F){Bi.then(()=>{this.control.setValue(F,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(F){const le=F.isDisabled.currentValue,Ce=0!==le&&(0,g.VuI)(le);Bi.then(()=>{Ce&&!this.control.disabled?this.control.disable():!Ce&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(F){return this._parent?Ot(F,this._parent):[F]}static#e=this.\u0275fac=function(le){return new(le||q)(g.Y36(Mn,9),g.Y36(wt,10),g.Y36(Et,10),g.Y36(De,10),g.Y36(g.sBO,8),g.Y36(Be,8))};static#t=this.\u0275dir=g.lG2({type:q,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[g._Bn([js]),g.qOj,g.TTD]})}return q})(),Aa=(()=>{class q{static#e=this.\u0275fac=function(le){return new(le||q)};static#t=this.\u0275dir=g.lG2({type:q,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return q})(),Ts=(()=>{class q{static#e=this.\u0275fac=function(le){return new(le||q)};static#t=this.\u0275mod=g.oAB({type:q});static#n=this.\u0275inj=g.cJS({})}return q})();const Un=new g.OlP("NgModelWithFormControlWarning"),ji={provide:Mn,useExisting:(0,g.Gpc)(()=>Gr)};let Gr=(()=>{class q extends Mn{constructor(F,le,Ce){super(),this.callSetDisabledState=Ce,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new g.vpe,this._setValidators(F),this._setAsyncValidators(le)}ngOnChanges(F){this._checkFormPresent(),F.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(we(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(F){const le=this.form.get(F.path);return sn(le,F,this.callSetDisabledState),le.updateValueAndValidity({emitEvent:!1}),this.directives.push(F),le}getControl(F){return this.form.get(F.path)}removeControl(F){Xt(F.control||null,F,!1),function Tr(q,X){const F=q.indexOf(X);F>-1&&q.splice(F,1)}(this.directives,F)}addFormGroup(F){this._setUpFormContainer(F)}removeFormGroup(F){this._cleanUpFormContainer(F)}getFormGroup(F){return this.form.get(F.path)}addFormArray(F){this._setUpFormContainer(F)}removeFormArray(F){this._cleanUpFormContainer(F)}getFormArray(F){return this.form.get(F.path)}updateModel(F,le){this.form.get(F.path).setValue(le)}onSubmit(F){return this.submitted=!0,yn(this.form,this.directives),this.ngSubmit.emit(F),"dialog"===F?.target?.method}onReset(){this.resetForm()}resetForm(F=void 0){this.form.reset(F),this.submitted=!1}_updateDomValue(){this.directives.forEach(F=>{const le=F.control,Ce=this.form.get(F.path);le!==Ce&&(Xt(le||null,F),(q=>q instanceof Vr)(Ce)&&(sn(Ce,F,this.callSetDisabledState),F.control=Ce))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(F){const le=this.form.get(F.path);Qt(le,F),le.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(F){if(this.form){const le=this.form.get(F.path);le&&function ar(q,X){return we(q,X)}(le,F)&&le.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ne(this.form,this),this._oldForm&&we(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(le){return new(le||q)(g.Y36(wt,10),g.Y36(Et,10),g.Y36(Be,8))};static#t=this.\u0275dir=g.lG2({type:q,selectors:[["","formGroup",""]],hostBindings:function(le,Ce){1&le&&g.NdJ("submit",function(lr){return Ce.onSubmit(lr)})("reset",function(){return Ce.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([ji]),g.qOj,g.TTD]})}return q})();const Or={provide:Kt,useExisting:(0,g.Gpc)(()=>on)};let on=(()=>{class q extends Kt{set isDisabled(F){}static#e=this._ngModelWarningSentOnce=!1;constructor(F,le,Ce,Tn,lr){super(),this._ngModelWarningConfig=lr,this._added=!1,this.name=null,this.update=new g.vpe,this._ngModelWarningSent=!1,this._parent=F,this._setValidators(le),this._setAsyncValidators(Ce),this.valueAccessor=Ln(0,Tn)}ngOnChanges(F){this._added||this._setUpControl(),wn(F,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}get path(){return Ot(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(le){return new(le||q)(g.Y36(Mn,13),g.Y36(wt,10),g.Y36(Et,10),g.Y36(De,10),g.Y36(Un,8))};static#n=this.\u0275dir=g.lG2({type:q,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[g._Bn([Or]),g.qOj,g.TTD]})}return q})();const Wn={provide:De,useExisting:(0,g.Gpc)(()=>Qs),multi:!0};function Sr(q,X){return null==q?`${X}`:(X&&"object"==typeof X&&(X="Object"),`${q}: ${X}`.slice(0,50))}let Qs=(()=>{class q extends Se{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(F){this._compareWith=F}writeValue(F){this.value=F;const Ce=Sr(this._getOptionId(F),F);this.setProperty("value",Ce)}registerOnChange(F){this.onChange=le=>{this.value=this._getOptionValue(le),F(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(F){for(const le of this._optionMap.keys())if(this._compareWith(this._optionMap.get(le),F))return le;return null}_getOptionValue(F){const le=function Di(q){return q.split(":")[0]}(F);return this._optionMap.has(le)?this._optionMap.get(le):F}static#e=this.\u0275fac=function(){let F;return function(Ce){return(F||(F=g.n5z(q)))(Ce||q)}}();static#t=this.\u0275dir=g.lG2({type:q,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(le,Ce){1&le&&g.NdJ("change",function(lr){return Ce.onChange(lr.target.value)})("blur",function(){return Ce.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([Wn]),g.qOj]})}return q})(),ei=(()=>{class q{constructor(F,le,Ce){this._element=F,this._renderer=le,this._select=Ce,this._select&&(this.id=this._select._registerOption())}set ngValue(F){null!=this._select&&(this._select._optionMap.set(this.id,F),this._setElementValue(Sr(this.id,F)),this._select.writeValue(this._select.value))}set value(F){this._setElementValue(F),this._select&&this._select.writeValue(this._select.value)}_setElementValue(F){this._renderer.setProperty(this._element.nativeElement,"value",F)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(le){return new(le||q)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(Qs,9))};static#t=this.\u0275dir=g.lG2({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return q})();const ds={provide:De,useExisting:(0,g.Gpc)(()=>Zn),multi:!0};function Cr(q,X){return null==q?`${X}`:("string"==typeof X&&(X=`'${X}'`),X&&"object"==typeof X&&(X="Object"),`${q}: ${X}`.slice(0,50))}let Zn=(()=>{class q extends Se{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(F){this._compareWith=F}writeValue(F){let le;if(this.value=F,Array.isArray(F)){const Ce=F.map(Tn=>this._getOptionId(Tn));le=(Tn,lr)=>{Tn._setSelected(Ce.indexOf(lr.toString())>-1)}}else le=(Ce,Tn)=>{Ce._setSelected(!1)};this._optionMap.forEach(le)}registerOnChange(F){this.onChange=le=>{const Ce=[],Tn=le.selectedOptions;if(void 0!==Tn){const lr=Tn;for(let qi=0;qi<lr.length;qi++){const Pa=this._getOptionValue(lr[qi].value);Ce.push(Pa)}}else{const lr=le.options;for(let qi=0;qi<lr.length;qi++){const ii=lr[qi];if(ii.selected){const Pa=this._getOptionValue(ii.value);Ce.push(Pa)}}}this.value=Ce,F(Ce)}}_registerOption(F){const le=(this._idCounter++).toString();return this._optionMap.set(le,F),le}_getOptionId(F){for(const le of this._optionMap.keys())if(this._compareWith(this._optionMap.get(le)._value,F))return le;return null}_getOptionValue(F){const le=function hs(q){return q.split(":")[0]}(F);return this._optionMap.has(le)?this._optionMap.get(le)._value:F}static#e=this.\u0275fac=function(){let F;return function(Ce){return(F||(F=g.n5z(q)))(Ce||q)}}();static#t=this.\u0275dir=g.lG2({type:q,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(le,Ce){1&le&&g.NdJ("change",function(lr){return Ce.onChange(lr.target)})("blur",function(){return Ce.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([ds]),g.qOj]})}return q})(),fs=(()=>{class q{constructor(F,le,Ce){this._element=F,this._renderer=le,this._select=Ce,this._select&&(this.id=this._select._registerOption(this))}set ngValue(F){null!=this._select&&(this._value=F,this._setElementValue(Cr(this.id,F)),this._select.writeValue(this._select.value))}set value(F){this._select?(this._value=F,this._setElementValue(Cr(this.id,F)),this._select.writeValue(this._select.value)):this._setElementValue(F)}_setElementValue(F){this._renderer.setProperty(this._element.nativeElement,"value",F)}_setSelected(F){this._renderer.setProperty(this._element.nativeElement,"selected",F)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(le){return new(le||q)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(Zn,9))};static#t=this.\u0275dir=g.lG2({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return q})(),Bn=(()=>{class q{constructor(){this._validator=an}ngOnChanges(F){if(this.inputName in F){const le=this.normalizeInput(F[this.inputName].currentValue);this._enabled=this.enabled(le),this._validator=this._enabled?this.createValidator(le):an,this._onChange&&this._onChange()}}validate(F){return this._validator(F)}registerOnValidatorChange(F){this._onChange=F}enabled(F){return null!=F}static#e=this.\u0275fac=function(le){return new(le||q)};static#t=this.\u0275dir=g.lG2({type:q,features:[g.TTD]})}return q})();const Vc={provide:wt,useExisting:(0,g.Gpc)(()=>Jn),multi:!0};let Jn=(()=>{class q extends Bn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=g.VuI,this.createValidator=F=>He}enabled(F){return F}static#e=this.\u0275fac=function(){let F;return function(Ce){return(F||(F=g.n5z(q)))(Ce||q)}}();static#t=this.\u0275dir=g.lG2({type:q,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(le,Ce){2&le&&g.uIk("required",Ce._enabled?"":null)},inputs:{required:"required"},features:[g._Bn([Vc]),g.qOj]})}return q})(),hi=(()=>{class q{static#e=this.\u0275fac=function(le){return new(le||q)};static#t=this.\u0275mod=g.oAB({type:q});static#n=this.\u0275inj=g.cJS({imports:[Ts]})}return q})();class $i extends xe{constructor(X,F,le){super(ae(F),yt(le,F)),this.controls=X,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(X){return this.controls[this._adjustIndex(X)]}push(X,F={}){this.controls.push(X),this._registerControl(X),this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}insert(X,F,le={}){this.controls.splice(X,0,F),this._registerControl(F),this.updateValueAndValidity({emitEvent:le.emitEvent})}removeAt(X,F={}){let le=this._adjustIndex(X);le<0&&(le=0),this.controls[le]&&this.controls[le]._registerOnCollectionChange(()=>{}),this.controls.splice(le,1),this.updateValueAndValidity({emitEvent:F.emitEvent})}setControl(X,F,le={}){let Ce=this._adjustIndex(X);Ce<0&&(Ce=0),this.controls[Ce]&&this.controls[Ce]._registerOnCollectionChange(()=>{}),this.controls.splice(Ce,1),F&&(this.controls.splice(Ce,0,F),this._registerControl(F)),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(X,F={}){Er(this,0,X),X.forEach((le,Ce)=>{ui(this,!1,Ce),this.at(Ce).setValue(le,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(X,F={}){null!=X&&(X.forEach((le,Ce)=>{this.at(Ce)&&this.at(Ce).patchValue(le,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(X=[],F={}){this._forEachChild((le,Ce)=>{le.reset(X[Ce],{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this.controls.map(X=>X.getRawValue())}clear(X={}){this.controls.length<1||(this._forEachChild(F=>F._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:X.emitEvent}))}_adjustIndex(X){return X<0?X+this.length:X}_syncPendingControls(){let X=this.controls.reduce((F,le)=>!!le._syncPendingControls()||F,!1);return X&&this.updateValueAndValidity({onlySelf:!0}),X}_forEachChild(X){this.controls.forEach((F,le)=>{X(F,le)})}_updateValue(){this.value=this.controls.filter(X=>X.enabled||this.disabled).map(X=>X.value)}_anyControls(X){return this.controls.some(F=>F.enabled&&X(F))}_setUpControls(){this._forEachChild(X=>this._registerControl(X))}_allControlsDisabled(){for(const X of this.controls)if(X.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(X){X.setParent(this),X._registerOnCollectionChange(this._onCollectionChange)}_find(X){return this.at(X)??null}}function Js(q){return!!q&&(void 0!==q.asyncValidators||void 0!==q.validators||void 0!==q.updateOn)}let ki=(()=>{class q{constructor(){this.useNonNullable=!1}get nonNullable(){const F=new q;return F.useNonNullable=!0,F}group(F,le=null){const Ce=this._reduceControls(F);let Tn={};return Js(le)?Tn=le:null!==le&&(Tn.validators=le.validator,Tn.asyncValidators=le.asyncValidator),new re(Ce,Tn)}record(F,le=null){const Ce=this._reduceControls(F);return new U(Ce,le)}control(F,le,Ce){let Tn={};return this.useNonNullable?(Js(le)?Tn=le:(Tn.validators=le,Tn.asyncValidators=Ce),new Vr(F,{...Tn,nonNullable:!0})):new Vr(F,le,Ce)}array(F,le,Ce){const Tn=F.map(lr=>this._createControl(lr));return new $i(Tn,le,Ce)}_reduceControls(F){const le={};return Object.keys(F).forEach(Ce=>{le[Ce]=this._createControl(F[Ce])}),le}_createControl(F){return F instanceof Vr||F instanceof xe?F:Array.isArray(F)?this.control(F[0],F.length>1?F[1]:null,F.length>2?F[2]:null):this.control(F)}static#e=this.\u0275fac=function(le){return new(le||q)};static#t=this.\u0275prov=g.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"})}return q})(),Qa=(()=>{class q{static withConfig(F){return{ngModule:q,providers:[{provide:Be,useValue:F.callSetDisabledState??Tt}]}}static#e=this.\u0275fac=function(le){return new(le||q)};static#t=this.\u0275mod=g.oAB({type:q});static#n=this.\u0275inj=g.cJS({imports:[hi]})}return q})(),qo=(()=>{class q{static withConfig(F){return{ngModule:q,providers:[{provide:Un,useValue:F.warnOnNgModelWithFormControl??"always"},{provide:Be,useValue:F.callSetDisabledState??Tt}]}}static#e=this.\u0275fac=function(le){return new(le||q)};static#t=this.\u0275mod=g.oAB({type:q});static#n=this.\u0275inj=g.cJS({imports:[hi]})}return q})()},6593:(Jt,Ye,B)=>{B.d(Ye,{Dx:()=>Ar,H7:()=>Xr,b2:()=>or,q6:()=>Cn,se:()=>kt});var g=B(5879),u=B(6814);class G extends u.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class be extends G{static makeCurrent(){(0,u.HT)(new be)}onAndCancel(W,$,U){return W.addEventListener($,U),()=>{W.removeEventListener($,U)}}dispatchEvent(W,$){W.dispatchEvent($)}remove(W){W.parentNode&&W.parentNode.removeChild(W)}createElement(W,$){return($=$||this.getDefaultDocument()).createElement(W)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(W){return W.nodeType===Node.ELEMENT_NODE}isShadowRoot(W){return W instanceof DocumentFragment}getGlobalEventTarget(W,$){return"window"===$?window:"document"===$?W:"body"===$?W.body:null}getBaseHref(W){const $=function Ae(){return me=me||document.querySelector("base"),me?me.getAttribute("href"):null}();return null==$?null:function De(re){Se=Se||document.createElement("a"),Se.setAttribute("href",re);const W=Se.pathname;return"/"===W.charAt(0)?W:`/${W}`}($)}resetBaseElement(){me=null}getUserAgent(){return window.navigator.userAgent}getCookie(W){return(0,u.Mx)(document.cookie,W)}}let Se,me=null,te=(()=>{class re{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(U){return new(U||re)};static#t=this.\u0275prov=g.Yz7({token:re,factory:re.\u0275fac})}return re})();const oe=new g.OlP("EventManagerPlugins");let ye=(()=>{class re{constructor($,U){this._zone=U,this._eventNameToPlugin=new Map,$.forEach(pe=>{pe.manager=this}),this._plugins=$.slice().reverse()}addEventListener($,U,pe){return this._findPluginFor(U).addEventListener($,U,pe)}getZone(){return this._zone}_findPluginFor($){let U=this._eventNameToPlugin.get($);if(U)return U;if(U=this._plugins.find(Be=>Be.supports($)),!U)throw new g.vHH(5101,!1);return this._eventNameToPlugin.set($,U),U}static#e=this.\u0275fac=function(U){return new(U||re)(g.LFG(oe),g.LFG(g.R0b))};static#t=this.\u0275prov=g.Yz7({token:re,factory:re.\u0275fac})}return re})();class st{constructor(W){this._doc=W}}const rt="ng-app-id";let mt=(()=>{class re{constructor($,U,pe,Be={}){this.doc=$,this.appId=U,this.nonce=pe,this.platformId=Be,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,u.PM)(Be),this.resetHostNodes()}addStyles($){for(const U of $)1===this.changeUsageCount(U,1)&&this.onStyleAdded(U)}removeStyles($){for(const U of $)this.changeUsageCount(U,-1)<=0&&this.onStyleRemoved(U)}ngOnDestroy(){const $=this.styleNodesInDOM;$&&($.forEach(U=>U.remove()),$.clear());for(const U of this.getAllStyles())this.onStyleRemoved(U);this.resetHostNodes()}addHost($){this.hostNodes.add($);for(const U of this.getAllStyles())this.addStyleToHost($,U)}removeHost($){this.hostNodes.delete($)}getAllStyles(){return this.styleRef.keys()}onStyleAdded($){for(const U of this.hostNodes)this.addStyleToHost(U,$)}onStyleRemoved($){const U=this.styleRef;U.get($)?.elements?.forEach(pe=>pe.remove()),U.delete($)}collectServerRenderedStyles(){const $=this.doc.head?.querySelectorAll(`style[${rt}="${this.appId}"]`);if($?.length){const U=new Map;return $.forEach(pe=>{null!=pe.textContent&&U.set(pe.textContent,pe)}),U}return null}changeUsageCount($,U){const pe=this.styleRef;if(pe.has($)){const Be=pe.get($);return Be.usage+=U,Be.usage}return pe.set($,{usage:U,elements:[]}),U}getStyleElement($,U){const pe=this.styleNodesInDOM,Be=pe?.get(U);if(Be?.parentNode===$)return pe.delete(U),Be.removeAttribute(rt),Be;{const Tt=this.doc.createElement("style");return this.nonce&&Tt.setAttribute("nonce",this.nonce),Tt.textContent=U,this.platformIsServer&&Tt.setAttribute(rt,this.appId),Tt}}addStyleToHost($,U){const pe=this.getStyleElement($,U);$.appendChild(pe);const Be=this.styleRef,Tt=Be.get(U)?.elements;Tt?Tt.push(pe):Be.set(U,{elements:[pe],usage:1})}resetHostNodes(){const $=this.hostNodes;$.clear(),$.add(this.doc.head)}static#e=this.\u0275fac=function(U){return new(U||re)(g.LFG(u.K0),g.LFG(g.AFp),g.LFG(g.Ojb,8),g.LFG(g.Lbi))};static#t=this.\u0275prov=g.Yz7({token:re,factory:re.\u0275fac})}return re})();const ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},wt=/%COMP%/g,it=new g.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function At(re,W){return W.map($=>$.replace(wt,re))}let kt=(()=>{class re{constructor($,U,pe,Be,Tt,Ot,sn,Xt=null){this.eventManager=$,this.sharedStylesHost=U,this.appId=pe,this.removeStylesOnCompDestroy=Be,this.doc=Tt,this.platformId=Ot,this.ngZone=sn,this.nonce=Xt,this.rendererByCompId=new Map,this.platformIsServer=(0,u.PM)(Ot),this.defaultRenderer=new ve($,Tt,sn,this.platformIsServer)}createRenderer($,U){if(!$||!U)return this.defaultRenderer;this.platformIsServer&&U.encapsulation===g.ifc.ShadowDom&&(U={...U,encapsulation:g.ifc.Emulated});const pe=this.getOrCreateRenderer($,U);return pe instanceof cn?pe.applyToHost($):pe instanceof Wt&&pe.applyStyles(),pe}getOrCreateRenderer($,U){const pe=this.rendererByCompId;let Be=pe.get(U.id);if(!Be){const Tt=this.doc,Ot=this.ngZone,sn=this.eventManager,Xt=this.sharedStylesHost,ln=this.removeStylesOnCompDestroy,qn=this.platformIsServer;switch(U.encapsulation){case g.ifc.Emulated:Be=new cn(sn,Xt,U,this.appId,ln,Tt,Ot,qn);break;case g.ifc.ShadowDom:return new xt(sn,Xt,$,U,Tt,Ot,this.nonce,qn);default:Be=new Wt(sn,Xt,U,ln,Tt,Ot,qn)}pe.set(U.id,Be)}return Be}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(U){return new(U||re)(g.LFG(ye),g.LFG(mt),g.LFG(g.AFp),g.LFG(it),g.LFG(u.K0),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(g.Ojb))};static#t=this.\u0275prov=g.Yz7({token:re,factory:re.\u0275fac})}return re})();class ve{constructor(W,$,U,pe){this.eventManager=W,this.doc=$,this.ngZone=U,this.platformIsServer=pe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(W,$){return $?this.doc.createElementNS(ft[$]||$,W):this.doc.createElement(W)}createComment(W){return this.doc.createComment(W)}createText(W){return this.doc.createTextNode(W)}appendChild(W,$){(hr(W)?W.content:W).appendChild($)}insertBefore(W,$,U){W&&(hr(W)?W.content:W).insertBefore($,U)}removeChild(W,$){W&&W.removeChild($)}selectRootElement(W,$){let U="string"==typeof W?this.doc.querySelector(W):W;if(!U)throw new g.vHH(-5104,!1);return $||(U.textContent=""),U}parentNode(W){return W.parentNode}nextSibling(W){return W.nextSibling}setAttribute(W,$,U,pe){if(pe){$=pe+":"+$;const Be=ft[pe];Be?W.setAttributeNS(Be,$,U):W.setAttribute($,U)}else W.setAttribute($,U)}removeAttribute(W,$,U){if(U){const pe=ft[U];pe?W.removeAttributeNS(pe,$):W.removeAttribute(`${U}:${$}`)}else W.removeAttribute($)}addClass(W,$){W.classList.add($)}removeClass(W,$){W.classList.remove($)}setStyle(W,$,U,pe){pe&(g.JOm.DashCase|g.JOm.Important)?W.style.setProperty($,U,pe&g.JOm.Important?"important":""):W.style[$]=U}removeStyle(W,$,U){U&g.JOm.DashCase?W.style.removeProperty($):W.style[$]=""}setProperty(W,$,U){W[$]=U}setValue(W,$){W.nodeValue=$}listen(W,$,U){if("string"==typeof W&&!(W=(0,u.q)().getGlobalEventTarget(this.doc,W)))throw new Error(`Unsupported event target ${W} for event ${$}`);return this.eventManager.addEventListener(W,$,this.decoratePreventDefault(U))}decoratePreventDefault(W){return $=>{if("__ngUnwrap__"===$)return W;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>W($)):W($))&&$.preventDefault()}}}function hr(re){return"TEMPLATE"===re.tagName&&void 0!==re.content}class xt extends ve{constructor(W,$,U,pe,Be,Tt,Ot,sn){super(W,Be,Tt,sn),this.sharedStylesHost=$,this.hostEl=U,this.shadowRoot=U.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Xt=At(pe.id,pe.styles);for(const ln of Xt){const qn=document.createElement("style");Ot&&qn.setAttribute("nonce",Ot),qn.textContent=ln,this.shadowRoot.appendChild(qn)}}nodeOrShadowRoot(W){return W===this.hostEl?this.shadowRoot:W}appendChild(W,$){return super.appendChild(this.nodeOrShadowRoot(W),$)}insertBefore(W,$,U){return super.insertBefore(this.nodeOrShadowRoot(W),$,U)}removeChild(W,$){return super.removeChild(this.nodeOrShadowRoot(W),$)}parentNode(W){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(W)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Wt extends ve{constructor(W,$,U,pe,Be,Tt,Ot,sn){super(W,Be,Tt,Ot),this.sharedStylesHost=$,this.removeStylesOnCompDestroy=pe,this.styles=sn?At(sn,U.styles):U.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class cn extends Wt{constructor(W,$,U,pe,Be,Tt,Ot,sn){const Xt=pe+"-"+U.id;super(W,$,U,Be,Tt,Ot,sn,Xt),this.contentAttr=function He(re){return"_ngcontent-%COMP%".replace(wt,re)}(Xt),this.hostAttr=function ct(re){return"_nghost-%COMP%".replace(wt,re)}(Xt)}applyToHost(W){this.applyStyles(),this.setAttribute(W,this.hostAttr,"")}createElement(W,$){const U=super.createElement(W,$);return super.setAttribute(U,this.contentAttr,""),U}}let lt=(()=>{class re extends st{constructor($){super($)}supports($){return!0}addEventListener($,U,pe){return $.addEventListener(U,pe,!1),()=>this.removeEventListener($,U,pe)}removeEventListener($,U,pe){return $.removeEventListener(U,pe)}static#e=this.\u0275fac=function(U){return new(U||re)(g.LFG(u.K0))};static#t=this.\u0275prov=g.Yz7({token:re,factory:re.\u0275fac})}return re})();const Re=["alt","control","meta","shift"],fe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ke={alt:re=>re.altKey,control:re=>re.ctrlKey,meta:re=>re.metaKey,shift:re=>re.shiftKey};let Je=(()=>{class re extends st{constructor($){super($)}supports($){return null!=re.parseEventName($)}addEventListener($,U,pe){const Be=re.parseEventName(U),Tt=re.eventCallback(Be.fullKey,pe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,u.q)().onAndCancel($,Be.domEventName,Tt))}static parseEventName($){const U=$.toLowerCase().split("."),pe=U.shift();if(0===U.length||"keydown"!==pe&&"keyup"!==pe)return null;const Be=re._normalizeKey(U.pop());let Tt="",Ot=U.indexOf("code");if(Ot>-1&&(U.splice(Ot,1),Tt="code."),Re.forEach(Xt=>{const ln=U.indexOf(Xt);ln>-1&&(U.splice(ln,1),Tt+=Xt+".")}),Tt+=Be,0!=U.length||0===Be.length)return null;const sn={};return sn.domEventName=pe,sn.fullKey=Tt,sn}static matchEventFullKeyCode($,U){let pe=fe[$.key]||$.key,Be="";return U.indexOf("code.")>-1&&(pe=$.code,Be="code."),!(null==pe||!pe)&&(pe=pe.toLowerCase()," "===pe?pe="space":"."===pe&&(pe="dot"),Re.forEach(Tt=>{Tt!==pe&&(0,ke[Tt])($)&&(Be+=Tt+".")}),Be+=pe,Be===U)}static eventCallback($,U,pe){return Be=>{re.matchEventFullKeyCode(Be,$)&&pe.runGuarded(()=>U(Be))}}static _normalizeKey($){return"esc"===$?"escape":$}static#e=this.\u0275fac=function(U){return new(U||re)(g.LFG(u.K0))};static#t=this.\u0275prov=g.Yz7({token:re,factory:re.\u0275fac})}return re})();const Cn=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:u.bD},{provide:g.g9A,useValue:function Ht(){be.makeCurrent()},multi:!0},{provide:u.K0,useFactory:function gn(){return(0,g.RDi)(document),document},deps:[]}]),Mn=new g.OlP(""),Kt=[{provide:g.rWj,useClass:class We{addToWindow(W){g.dqk.getAngularTestability=(U,pe=!0)=>{const Be=W.findTestabilityInTree(U,pe);if(null==Be)throw new g.vHH(5103,!1);return Be},g.dqk.getAllAngularTestabilities=()=>W.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>W.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(U=>{const pe=g.dqk.getAllAngularTestabilities();let Be=pe.length,Tt=!1;const Ot=function(sn){Tt=Tt||sn,Be--,0==Be&&U(Tt)};pe.forEach(sn=>{sn.whenStable(Ot)})})}findTestabilityInTree(W,$,U){return null==$?null:W.getTestability($)??(U?(0,u.q)().isShadowRoot($)?this.findTestabilityInTree(W,$.host,!0):this.findTestabilityInTree(W,$.parentElement,!0):null)}},deps:[]},{provide:g.lri,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]}],Dn=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function qt(){return new g.qLn},deps:[]},{provide:oe,useClass:lt,multi:!0,deps:[u.K0,g.R0b,g.Lbi]},{provide:oe,useClass:Je,multi:!0,deps:[u.K0]},kt,mt,ye,{provide:g.FYo,useExisting:kt},{provide:u.JF,useClass:te,deps:[]},[]];let or=(()=>{class re{constructor($){}static withServerTransition($){return{ngModule:re,providers:[{provide:g.AFp,useValue:$.appId}]}}static#e=this.\u0275fac=function(U){return new(U||re)(g.LFG(Mn,12))};static#t=this.\u0275mod=g.oAB({type:re});static#n=this.\u0275inj=g.cJS({providers:[...Dn,...Kt],imports:[u.ez,g.hGG]})}return re})(),Ar=(()=>{class re{constructor($){this._doc=$}getTitle(){return this._doc.title}setTitle($){this._doc.title=$||""}static#e=this.\u0275fac=function(U){return new(U||re)(g.LFG(u.K0))};static#t=this.\u0275prov=g.Yz7({token:re,factory:function(U){let pe=null;return pe=U?new U:function In(){return new Ar((0,g.LFG)(u.K0))}(),pe},providedIn:"root"})}return re})();typeof window<"u"&&window;let Xr=(()=>{class re{static#e=this.\u0275fac=function(U){return new(U||re)};static#t=this.\u0275prov=g.Yz7({token:re,factory:function(U){let pe=null;return pe=U?new(U||re):g.LFG(vt),pe},providedIn:"root"})}return re})(),vt=(()=>{class re extends Xr{constructor($){super(),this._doc=$}sanitize($,U){if(null==U)return null;switch($){case g.q3G.NONE:return U;case g.q3G.HTML:return(0,g.qzn)(U,"HTML")?(0,g.z3N)(U):(0,g.EiD)(this._doc,String(U)).toString();case g.q3G.STYLE:return(0,g.qzn)(U,"Style")?(0,g.z3N)(U):U;case g.q3G.SCRIPT:if((0,g.qzn)(U,"Script"))return(0,g.z3N)(U);throw new g.vHH(5200,!1);case g.q3G.URL:return(0,g.qzn)(U,"URL")?(0,g.z3N)(U):(0,g.mCW)(String(U));case g.q3G.RESOURCE_URL:if((0,g.qzn)(U,"ResourceURL"))return(0,g.z3N)(U);throw new g.vHH(5201,!1);default:throw new g.vHH(5202,!1)}}bypassSecurityTrustHtml($){return(0,g.JVY)($)}bypassSecurityTrustStyle($){return(0,g.L6k)($)}bypassSecurityTrustScript($){return(0,g.eBb)($)}bypassSecurityTrustUrl($){return(0,g.LAX)($)}bypassSecurityTrustResourceUrl($){return(0,g.pB0)($)}static#e=this.\u0275fac=function(U){return new(U||re)(g.LFG(u.K0))};static#t=this.\u0275prov=g.Yz7({token:re,factory:function(U){let pe=null;return pe=U?new U:function $e(re){return new vt(re.get(u.K0))}(g.LFG(g.zs3)),pe},providedIn:"root"})}return re})()},3914:(Jt,Ye,B)=>{B.d(Ye,{gz:()=>es,m2:()=>Qi,F0:()=>Ws,rH:()=>Ro,Bz:()=>oc,lC:()=>Di});var g=B(5879),u=B(5592),G=B(4674),me=B(2459),Ae=B(2096),Se=B(5619),De=B(2572),We=B(6973),te=B(5211),oe=B(4829);function ye(S){return new u.y(O=>{(0,oe.Xf)(S()).subscribe(O)})}var st=B(8407),rt=B(8504),mt=B(6232),ft=B(7394),wt=B(9360),Et=B(8251);function nn(){return(0,wt.e)((S,O)=>{let w=null;S._refCount++;const N=(0,Et.x)(O,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(w=null);const z=S._connection,ce=w;w=null,z&&(!ce||z===ce)&&z.unsubscribe(),O.unsubscribe()});S.subscribe(N),N.closed||(w=S.connect())})}class qe extends u.y{constructor(O,w){super(),this.source=O,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,wt.A)(O)&&(this.lift=O.lift)}_subscribe(O){return this.getSubject().subscribe(O)}getSubject(){const O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:O}=this;this._subject=this._connection=null,O?.unsubscribe()}connect(){let O=this._connection;if(!O){O=this._connection=new ft.w0;const w=this.getSubject();O.add(this.source.subscribe((0,Et.x)(w,void 0,()=>{this._teardown(),w.complete()},N=>{this._teardown(),w.error(N)},()=>this._teardown()))),O.closed&&(this._connection=null,O=ft.w0.EMPTY)}return O}refCount(){return nn()(this)}}var Fe=B(8645),it=B(6814),He=B(7398),ct=B(4664),At=B(8180),kt=B(7921),ve=B(2181),jt=B(1631),an=B(1374),hr=B(6328),xt=B(9397),Wt=B(6306),cn=B(6699),lt=B(3572);function Re(S){return S<=0?()=>mt.E:(0,wt.e)((O,w)=>{let N=[];O.subscribe((0,Et.x)(w,z=>{N.push(z),S<N.length&&N.shift()},()=>{for(const z of N)w.next(z);w.complete()},void 0,()=>{N=null}))})}var fe=B(3026),ke=B(2737),ut=B(4716),It=B(9773),Gt=B(7537),Ht=B(6593);const qt="primary",gn=Symbol("RouteTitle");class er{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w[0]:w}return null}getAll(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function Cn(S){return new er(S)}function Mn(S,O,w){const N=w.path.split("/");if(N.length>S.length||"full"===w.pathMatch&&(O.hasChildren()||N.length<S.length))return null;const z={};for(let ce=0;ce<N.length;ce++){const Ee=N[ce],ht=S[ce];if(Ee.startsWith(":"))z[Ee.substring(1)]=ht;else if(Ee!==ht.path)return null}return{consumed:S.slice(0,N.length),posParams:z}}function Dn(S,O){const w=S?Object.keys(S):void 0,N=O?Object.keys(O):void 0;if(!w||!N||w.length!=N.length)return!1;let z;for(let ce=0;ce<w.length;ce++)if(z=w[ce],!or(S[z],O[z]))return!1;return!0}function or(S,O){if(Array.isArray(S)&&Array.isArray(O)){if(S.length!==O.length)return!1;const w=[...S].sort(),N=[...O].sort();return w.every((z,ce)=>N[ce]===z)}return S===O}function Gn(S){return S.length>0?S[S.length-1]:null}function Lt(S){return function be(S){return!!S&&(S instanceof u.y||(0,G.m)(S.lift)&&(0,G.m)(S.subscribe))}(S)?S:(0,g.QGY)(S)?(0,me.D)(Promise.resolve(S)):(0,Ae.of)(S)}const Lr={exact:function Vt(S,O,w){if(!pi(S.segments,O.segments)||!yr(S.segments,O.segments,w)||S.numberOfChildren!==O.numberOfChildren)return!1;for(const N in O.children)if(!S.children[N]||!Vt(S.children[N],O.children[N],w))return!1;return!0},subset:Rn},In={exact:function Yn(S,O){return Dn(S,O)},subset:function bn(S,O){return Object.keys(O).length<=Object.keys(S).length&&Object.keys(O).every(w=>or(S[w],O[w]))},ignored:()=>!0};function Ar(S,O,w){return Lr[w.paths](S.root,O.root,w.matrixParams)&&In[w.queryParams](S.queryParams,O.queryParams)&&!("exact"===w.fragment&&S.fragment!==O.fragment)}function Rn(S,O,w){return On(S,O,O.segments,w)}function On(S,O,w,N){if(S.segments.length>w.length){const z=S.segments.slice(0,w.length);return!(!pi(z,w)||O.hasChildren()||!yr(z,w,N))}if(S.segments.length===w.length){if(!pi(S.segments,w)||!yr(S.segments,w,N))return!1;for(const z in O.children)if(!S.children[z]||!Rn(S.children[z],O.children[z],N))return!1;return!0}{const z=w.slice(0,S.segments.length),ce=w.slice(S.segments.length);return!!(pi(S.segments,z)&&yr(S.segments,z,N)&&S.children[qt])&&On(S.children[qt],O,ce,N)}}function yr(S,O,w){return O.every((N,z)=>In[w](S[z].parameters,N.parameters))}class vr{constructor(O=new Fn([],{}),w={},N=null){this.root=O,this.queryParams=w,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cn(this.queryParams)),this._queryParamMap}toString(){return Dr.serialize(this)}}class Fn{constructor(O,w){this.segments=O,this.children=w,this.parent=null,Object.values(w).forEach(N=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return br(this)}}class Hn{constructor(O,w){this.path=O,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=Cn(this.parameters)),this._parameterMap}toString(){return Nn(this)}}function pi(S,O){return S.length===O.length&&S.every((w,N)=>w.path===O[N].path)}let gi=(()=>{class S{static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:function(){return new tr},providedIn:"root"})}return S})();class tr{parse(O){const w=new Ot(O);return new vr(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(O){const w=`/${Xr(O.root,!0)}`,N=function Er(S){const O=Object.keys(S).map(w=>{const N=S[w];return Array.isArray(N)?N.map(z=>`${vt(w)}=${vt(z)}`).join("&"):`${vt(w)}=${vt(N)}`}).filter(w=>!!w);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${w}${N}${"string"==typeof O.fragment?`#${function ae(S){return encodeURI(S)}(O.fragment)}`:""}`}}const Dr=new tr;function br(S){return S.segments.map(O=>Nn(O)).join("/")}function Xr(S,O){if(!S.hasChildren())return br(S);if(O){const w=S.children[qt]?Xr(S.children[qt],!1):"",N=[];return Object.entries(S.children).forEach(([z,ce])=>{z!==qt&&N.push(`${z}:${Xr(ce,!1)}`)}),N.length>0?`${w}(${N.join("//")})`:w}{const w=function rn(S,O){let w=[];return Object.entries(S.children).forEach(([N,z])=>{N===qt&&(w=w.concat(O(z,N)))}),Object.entries(S.children).forEach(([N,z])=>{N!==qt&&(w=w.concat(O(z,N)))}),w}(S,(N,z)=>z===qt?[Xr(S.children[qt],!1)]:[`${z}:${Xr(N,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[qt]?`${br(S)}/${w[0]}`:`${br(S)}/(${w.join("//")})`}}function $e(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vt(S){return $e(S).replace(/%3B/gi,";")}function Te(S){return $e(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yt(S){return decodeURIComponent(S)}function zt(S){return yt(S.replace(/\+/g,"%20"))}function Nn(S){return`${Te(S.path)}${function ui(S){return Object.keys(S).map(O=>`;${Te(O)}=${Te(S[O])}`).join("")}(S.parameters)}`}const xe=/^[^\/()?;#]+/;function re(S){const O=S.match(xe);return O?O[0]:""}const W=/^[^\/()?;=#]+/,U=/^[^=?&#]+/,Be=/^[^&#]+/;class Ot{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fn([],{}):new Fn([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(O.length>0||Object.keys(w).length>0)&&(N[qt]=new Fn(O,w)),N}parseSegment(){const O=re(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new g.vHH(4009,!1);return this.capture(O),new Hn(yt(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const w=function $(S){const O=S.match(W);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const z=re(this.remaining);z&&(N=z,this.capture(N))}O[yt(w)]=yt(N)}parseQueryParam(O){const w=function pe(S){const O=S.match(U);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const Ee=function Tt(S){const O=S.match(Be);return O?O[0]:""}(this.remaining);Ee&&(N=Ee,this.capture(N))}const z=zt(w),ce=zt(N);if(O.hasOwnProperty(z)){let Ee=O[z];Array.isArray(Ee)||(Ee=[Ee],O[z]=Ee),Ee.push(ce)}else O[z]=ce}parseParens(O){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=re(this.remaining),z=this.remaining[N.length];if("/"!==z&&")"!==z&&";"!==z)throw new g.vHH(4010,!1);let ce;N.indexOf(":")>-1?(ce=N.slice(0,N.indexOf(":")),this.capture(ce),this.capture(":")):O&&(ce=qt);const Ee=this.parseChildren();w[ce]=1===Object.keys(Ee).length?Ee[qt]:new Fn([],Ee),this.consumeOptional("//")}return w}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new g.vHH(4011,!1)}}function sn(S){return S.segments.length>0?new Fn([],{[qt]:S}):S}function Xt(S){const O={};for(const N of Object.keys(S.children)){const ce=Xt(S.children[N]);if(N===qt&&0===ce.segments.length&&ce.hasChildren())for(const[Ee,ht]of Object.entries(ce.children))O[Ee]=ht;else(ce.segments.length>0||ce.hasChildren())&&(O[N]=ce)}return function ln(S){if(1===S.numberOfChildren&&S.children[qt]){const O=S.children[qt];return new Fn(S.segments.concat(O.segments),O.children)}return S}(new Fn(S.segments,O))}function qn(S){return S instanceof vr}function we(S){let O;const z=sn(function w(ce){const Ee={};for(const pt of ce.children){const mn=w(pt);Ee[pt.outlet]=mn}const ht=new Fn(ce.url,Ee);return ce===S&&(O=ht),ht}(S.root));return O??z}function Le(S,O,w,N){let z=S;for(;z.parent;)z=z.parent;if(0===O.length)return un(z,z,z,w,N);const ce=function dn(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new ar(!0,0,S);let O=0,w=!1;const N=S.reduce((z,ce,Ee)=>{if("object"==typeof ce&&null!=ce){if(ce.outlets){const ht={};return Object.entries(ce.outlets).forEach(([pt,mn])=>{ht[pt]="string"==typeof mn?mn.split("/"):mn}),[...z,{outlets:ht}]}if(ce.segmentPath)return[...z,ce.segmentPath]}return"string"!=typeof ce?[...z,ce]:0===Ee?(ce.split("/").forEach((ht,pt)=>{0==pt&&"."===ht||(0==pt&&""===ht?w=!0:".."===ht?O++:""!=ht&&z.push(ht))}),z):[...z,ce]},[]);return new ar(w,O,N)}(O);if(ce.toRoot())return un(z,z,new Fn([],{}),w,N);const Ee=function Ke(S,O,w){if(S.isAbsolute)return new nt(O,!0,0);if(!w)return new nt(O,!1,NaN);if(null===w.parent)return new nt(w,!0,0);const N=Dt(S.commands[0])?0:1;return function bt(S,O,w){let N=S,z=O,ce=w;for(;ce>z;){if(ce-=z,N=N.parent,!N)throw new g.vHH(4005,!1);z=N.segments.length}return new nt(N,!1,z-ce)}(w,w.segments.length-1+N,S.numberOfDoubleDots)}(ce,z,S),ht=Ee.processChildren?Sn(Ee.segmentGroup,Ee.index,ce.commands):wn(Ee.segmentGroup,Ee.index,ce.commands);return un(z,Ee.segmentGroup,ht,w,N)}function Dt(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function Ut(S){return"object"==typeof S&&null!=S&&S.outlets}function un(S,O,w,N,z){let Ee,ce={};N&&Object.entries(N).forEach(([pt,mn])=>{ce[pt]=Array.isArray(mn)?mn.map(_r=>`${_r}`):`${mn}`}),Ee=S===O?w:Qt(S,O,w);const ht=sn(Xt(Ee));return new vr(ht,ce,z)}function Qt(S,O,w){const N={};return Object.entries(S.children).forEach(([z,ce])=>{N[z]=ce===O?w:Qt(ce,O,w)}),new Fn(S.segments,N)}class ar{constructor(O,w,N){if(this.isAbsolute=O,this.numberOfDoubleDots=w,this.commands=N,O&&N.length>0&&Dt(N[0]))throw new g.vHH(4003,!1);const z=N.find(Ut);if(z&&z!==Gn(N))throw new g.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class nt{constructor(O,w,N){this.segmentGroup=O,this.processChildren=w,this.index=N}}function wn(S,O,w){if(S||(S=new Fn([],{})),0===S.segments.length&&S.hasChildren())return Sn(S,O,w);const N=function yn(S,O,w){let N=0,z=O;const ce={match:!1,pathIndex:0,commandIndex:0};for(;z<S.segments.length;){if(N>=w.length)return ce;const Ee=S.segments[z],ht=w[N];if(Ut(ht))break;const pt=`${ht}`,mn=N<w.length-1?w[N+1]:null;if(z>0&&void 0===pt)break;if(pt&&mn&&"object"==typeof mn&&void 0===mn.outlets){if(!Kr(pt,mn,Ee))return ce;N+=2}else{if(!Kr(pt,{},Ee))return ce;N++}z++}return{match:!0,pathIndex:z,commandIndex:N}}(S,O,w),z=w.slice(N.commandIndex);if(N.match&&N.pathIndex<S.segments.length){const ce=new Fn(S.segments.slice(0,N.pathIndex),{});return ce.children[qt]=new Fn(S.segments.slice(N.pathIndex),S.children),Sn(ce,0,z)}return N.match&&0===z.length?new Fn(S.segments,{}):N.match&&!S.hasChildren()?Ln(S,O,w):N.match?Sn(S,0,z):Ln(S,O,w)}function Sn(S,O,w){if(0===w.length)return new Fn(S.segments,{});{const N=function en(S){return Ut(S[0])?S[0].outlets:{[qt]:S}}(w),z={};if(Object.keys(N).some(ce=>ce!==qt)&&S.children[qt]&&1===S.numberOfChildren&&0===S.children[qt].segments.length){const ce=Sn(S.children[qt],O,w);return new Fn(S.segments,ce.children)}return Object.entries(N).forEach(([ce,Ee])=>{"string"==typeof Ee&&(Ee=[Ee]),null!==Ee&&(z[ce]=wn(S.children[ce],O,Ee))}),Object.entries(S.children).forEach(([ce,Ee])=>{void 0===N[ce]&&(z[ce]=Ee)}),new Fn(S.segments,z)}}function Ln(S,O,w){const N=S.segments.slice(0,O);let z=0;for(;z<w.length;){const ce=w[z];if(Ut(ce)){const pt=Tr(ce.outlets);return new Fn(N,pt)}if(0===z&&Dt(w[0])){N.push(new Hn(S.segments[O].path,Ai(w[0]))),z++;continue}const Ee=Ut(ce)?ce.outlets[qt]:`${ce}`,ht=z<w.length-1?w[z+1]:null;Ee&&ht&&Dt(ht)?(N.push(new Hn(Ee,Ai(ht))),z+=2):(N.push(new Hn(Ee,{})),z++)}return new Fn(N,{})}function Tr(S){const O={};return Object.entries(S).forEach(([w,N])=>{"string"==typeof N&&(N=[N]),null!==N&&(O[w]=Ln(new Fn([],{}),0,N))}),O}function Ai(S){const O={};return Object.entries(S).forEach(([w,N])=>O[w]=`${N}`),O}function Kr(S,O,w){return S==w.path&&Dn(O,w.parameters)}const nr="imperative";class bi{constructor(O,w){this.id=O,this.url=w}}class ls extends bi{constructor(O,w,N="imperative",z=null){super(O,w),this.type=0,this.navigationTrigger=N,this.restoredState=z}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qi extends bi{constructor(O,w,N){super(O,w),this.urlAfterRedirects=N,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vr extends bi{constructor(O,w,N,z){super(O,w),this.reason=N,this.code=z,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ao extends bi{constructor(O,w,N,z){super(O,w),this.reason=N,this.code=z,this.type=16}}class us extends bi{constructor(O,w,N,z){super(O,w),this.error=N,this.target=z,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ui extends bi{constructor(O,w,N,z){super(O,w),this.urlAfterRedirects=N,this.state=z,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fc extends bi{constructor(O,w,N,z){super(O,w),this.urlAfterRedirects=N,this.state=z,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yr extends bi{constructor(O,w,N,z,ce){super(O,w),this.urlAfterRedirects=N,this.state=z,this.shouldActivate=ce,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Lc extends bi{constructor(O,w,N,z){super(O,w),this.urlAfterRedirects=N,this.state=z,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mi extends bi{constructor(O,w,N,z){super(O,w),this.urlAfterRedirects=N,this.state=z,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hr{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class wa{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class js{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bi{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ji{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Aa{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ii{constructor(O,w,N){this.routerEvent=O,this.position=w,this.anchor=N,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Da{}class bs{constructor(O){this.url=O}}class Ts{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ys,this.attachRef=null}}let Ys=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(w,N){const z=this.getOrCreateContext(w);z.outlet=N,this.contexts.set(w,z)}onChildOutletDestroyed(w){const N=this.getContext(w);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let N=this.getContext(w);return N||(N=new Ts,this.contexts.set(w,N)),N}getContext(w){return this.contexts.get(w)||null}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();class Do{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const w=this.pathFromRoot(O);return w.length>1?w[w.length-2]:null}children(O){const w=Xi(O,this._root);return w?w.children.map(N=>N.value):[]}firstChild(O){const w=Xi(O,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(O){const w=Ho(O,this._root);return w.length<2?[]:w[w.length-2].children.map(z=>z.value).filter(z=>z!==O)}pathFromRoot(O){return Ho(O,this._root).map(w=>w.value)}}function Xi(S,O){if(S===O.value)return O;for(const w of O.children){const N=Xi(S,w);if(N)return N}return null}function Ho(S,O){if(S===O.value)return[O];for(const w of O.children){const N=Ho(S,w);if(N.length)return N.unshift(O),N}return[]}class Un{constructor(O,w){this.value=O,this.children=w}toString(){return`TreeNode(${this.value})`}}function Ur(S){const O={};return S&&S.children.forEach(w=>O[w.value.outlet]=w),O}class ri extends Do{constructor(O,w){super(O),this.snapshot=w,Or(this,O)}toString(){return this.snapshot.toString()}}function ji(S,O){const w=function Gr(S,O){const Ee=new ts([],{},{},"",{},qt,O,null,{});return new $s("",new Un(Ee,[]))}(0,O),N=new Se.X([new Hn("",{})]),z=new Se.X({}),ce=new Se.X({}),Ee=new Se.X({}),ht=new Se.X(""),pt=new es(N,z,Ee,ht,ce,qt,O,w.root);return pt.snapshot=w.root,new ri(new Un(pt,[]),w)}class es{constructor(O,w,N,z,ce,Ee,ht,pt){this.urlSubject=O,this.paramsSubject=w,this.queryParamsSubject=N,this.fragmentSubject=z,this.dataSubject=ce,this.outlet=Ee,this.component=ht,this._futureSnapshot=pt,this.title=this.dataSubject?.pipe((0,He.U)(mn=>mn[gn]))??(0,Ae.of)(void 0),this.url=O,this.params=w,this.queryParams=N,this.fragment=z,this.data=ce}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,He.U)(O=>Cn(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,He.U)(O=>Cn(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Wi(S,O="emptyOnly"){const w=S.pathFromRoot;let N=0;if("always"!==O)for(N=w.length-1;N>=1;){const z=w[N],ce=w[N-1];if(z.routeConfig&&""===z.routeConfig.path)N--;else{if(ce.component)break;N--}}return function zo(S){return S.reduce((O,w)=>({params:{...O.params,...w.params},data:{...O.data,...w.data},resolve:{...w.data,...O.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(N))}class ts{get title(){return this.data?.[gn]}constructor(O,w,N,z,ce,Ee,ht,pt,mn){this.url=O,this.params=w,this.queryParams=N,this.fragment=z,this.data=ce,this.outlet=Ee,this.component=ht,this.routeConfig=pt,this._resolve=mn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Cn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $s extends Do{constructor(O,w){super(w),this.url=O,Or(this,w)}toString(){return on(this._root)}}function Or(S,O){O.value._routerState=S,O.children.forEach(w=>Or(S,w))}function on(S){const O=S.children.length>0?` { ${S.children.map(on).join(", ")} } `:"";return`${S.value}${O}`}function Wn(S){if(S.snapshot){const O=S.snapshot,w=S._futureSnapshot;S.snapshot=w,Dn(O.queryParams,w.queryParams)||S.queryParamsSubject.next(w.queryParams),O.fragment!==w.fragment&&S.fragmentSubject.next(w.fragment),Dn(O.params,w.params)||S.paramsSubject.next(w.params),function Kt(S,O){if(S.length!==O.length)return!1;for(let w=0;w<S.length;++w)if(!Dn(S[w],O[w]))return!1;return!0}(O.url,w.url)||S.urlSubject.next(w.url),Dn(O.data,w.data)||S.dataSubject.next(w.data)}else S.snapshot=S._futureSnapshot,S.dataSubject.next(S._futureSnapshot.data)}function Sr(S,O){const w=Dn(S.params,O.params)&&function $r(S,O){return pi(S,O)&&S.every((w,N)=>Dn(w.parameters,O[N].parameters))}(S.url,O.url);return w&&!(!S.parent!=!O.parent)&&(!S.parent||Sr(S.parent,O.parent))}let Di=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=qt,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.parentContexts=(0,g.f3M)(Ys),this.location=(0,g.f3M)(g.s_b),this.changeDetector=(0,g.f3M)(g.sBO),this.environmentInjector=(0,g.f3M)(g.lqb),this.inputBinder=(0,g.f3M)(ei,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:N,previousValue:z}=w.name;if(N)return;this.isTrackedInParentContexts(z)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(z)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new g.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new g.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new g.vHH(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,N){this.activated=w,this._activatedRoute=N,this.location.insert(w.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,N){if(this.isActivated)throw new g.vHH(4013,!1);this._activatedRoute=w;const z=this.location,Ee=w.snapshot.component,ht=this.parentContexts.getOrCreateContext(this.name).children,pt=new Qs(w,ht,z.injector);this.activated=z.createComponent(Ee,{index:z.length,injector:pt,environmentInjector:N??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275dir=g.lG2({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[g.TTD]})}return S})();class Qs{constructor(O,w,N){this.route=O,this.childContexts=w,this.parent=N}get(O,w){return O===es?this.route:O===Ys?this.childContexts:this.parent.get(O,w)}}const ei=new g.OlP("");let ds=(()=>{class S{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){this.outletDataSubscriptions.get(w)?.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:N}=w,z=(0,De.a)([N.queryParams,N.params,N.data]).pipe((0,ct.w)(([ce,Ee,ht],pt)=>(ht={...ce,...Ee,...ht},0===pt?(0,Ae.of)(ht):Promise.resolve(ht)))).subscribe(ce=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(w);const Ee=(0,g.qFp)(N.component);if(Ee)for(const{templateName:ht}of Ee.inputs)w.activatedComponentRef.setInput(ht,ce[ht]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,z)}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac})}return S})();function hs(S,O,w){if(w&&S.shouldReuseRoute(O.value,w.value.snapshot)){const N=w.value;N._futureSnapshot=O.value;const z=function yo(S,O,w){return O.children.map(N=>{for(const z of w.children)if(S.shouldReuseRoute(N.value,z.value.snapshot))return hs(S,N,z);return hs(S,N)})}(S,O,w);return new Un(N,z)}{if(S.shouldAttach(O.value)){const ce=S.retrieve(O.value);if(null!==ce){const Ee=ce.route;return Ee.value._futureSnapshot=O.value,Ee.children=O.children.map(ht=>hs(S,ht)),Ee}}const N=function Zn(S){return new es(new Se.X(S.url),new Se.X(S.params),new Se.X(S.queryParams),new Se.X(S.fragment),new Se.X(S.data),S.outlet,S.component,S)}(O.value),z=O.children.map(ce=>hs(S,ce));return new Un(N,z)}}const fs="ngNavigationCancelingError";function kr(S,O){const{redirectTo:w,navigationBehaviorOptions:N}=qn(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,z=Oi(!1,0,O);return z.url=w,z.navigationBehaviorOptions=N,z}function Oi(S,O,w){const N=new Error("NavigationCancelingError: "+(S||""));return N[fs]=!0,N.cancellationCode=O,w&&(N.url=w),N}function ps(S){return S&&S[fs]}let Si=(()=>{class S{static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275cmp=g.Xpm({type:S,selectors:[["ng-component"]],standalone:!0,features:[g.jDz],decls:1,vars:0,template:function(N,z){1&N&&g._UZ(0,"router-outlet")},dependencies:[Di],encapsulation:2})}return S})();function ns(S){const O=S.children&&S.children.map(ns),w=O?{...S,children:O}:{...S};return!w.component&&!w.loadComponent&&(O||w.loadChildren)&&w.outlet&&w.outlet!==qt&&(w.component=Si),w}function Ni(S){return S.outlet||qt}function ws(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let O=S.parent;O;O=O.parent){const w=O.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class di{constructor(O,w,N,z,ce){this.routeReuseStrategy=O,this.futureState=w,this.currState=N,this.forwardEvent=z,this.inputBindingEnabled=ce}activate(O){const w=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,N,O),Wn(this.futureState.root),this.activateChildRoutes(w,N,O)}deactivateChildRoutes(O,w,N){const z=Ur(w);O.children.forEach(ce=>{const Ee=ce.value.outlet;this.deactivateRoutes(ce,z[Ee],N),delete z[Ee]}),Object.values(z).forEach(ce=>{this.deactivateRouteAndItsChildren(ce,N)})}deactivateRoutes(O,w,N){const z=O.value,ce=w?w.value:null;if(z===ce)if(z.component){const Ee=N.getContext(z.outlet);Ee&&this.deactivateChildRoutes(O,w,Ee.children)}else this.deactivateChildRoutes(O,w,N);else ce&&this.deactivateRouteAndItsChildren(w,N)}deactivateRouteAndItsChildren(O,w){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,w):this.deactivateRouteAndOutlet(O,w)}detachAndStoreRouteSubtree(O,w){const N=w.getContext(O.value.outlet),z=N&&O.value.component?N.children:w,ce=Ur(O);for(const Ee of Object.keys(ce))this.deactivateRouteAndItsChildren(ce[Ee],z);if(N&&N.outlet){const Ee=N.outlet.detach(),ht=N.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:Ee,route:O,contexts:ht})}}deactivateRouteAndOutlet(O,w){const N=w.getContext(O.value.outlet),z=N&&O.value.component?N.children:w,ce=Ur(O);for(const Ee of Object.keys(ce))this.deactivateRouteAndItsChildren(ce[Ee],z);N&&(N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated()),N.attachRef=null,N.route=null)}activateChildRoutes(O,w,N){const z=Ur(w);O.children.forEach(ce=>{this.activateRoutes(ce,z[ce.value.outlet],N),this.forwardEvent(new Aa(ce.value.snapshot))}),O.children.length&&this.forwardEvent(new Bi(O.value.snapshot))}activateRoutes(O,w,N){const z=O.value,ce=w?w.value:null;if(Wn(z),z===ce)if(z.component){const Ee=N.getOrCreateContext(z.outlet);this.activateChildRoutes(O,w,Ee.children)}else this.activateChildRoutes(O,w,N);else if(z.component){const Ee=N.getOrCreateContext(z.outlet);if(this.routeReuseStrategy.shouldAttach(z.snapshot)){const ht=this.routeReuseStrategy.retrieve(z.snapshot);this.routeReuseStrategy.store(z.snapshot,null),Ee.children.onOutletReAttached(ht.contexts),Ee.attachRef=ht.componentRef,Ee.route=ht.route.value,Ee.outlet&&Ee.outlet.attach(ht.componentRef,ht.route.value),Wn(ht.route.value),this.activateChildRoutes(O,null,Ee.children)}else{const ht=ws(z.snapshot);Ee.attachRef=null,Ee.route=z,Ee.injector=ht,Ee.outlet&&Ee.outlet.activateWith(z,Ee.injector),this.activateChildRoutes(O,null,Ee.children)}}else this.activateChildRoutes(O,null,N)}}class Ma{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class hi{constructor(O,w){this.component=O,this.route=w}}function $i(S,O,w){const N=S._root;return Js(N,O?O._root:null,w,[N.value])}function Ps(S,O){const w=Symbol(),N=O.get(S,w);return N===w?"function"!=typeof S||(0,g.Z0I)(S)?O.get(S):S:N}function Js(S,O,w,N,z={canDeactivateChecks:[],canActivateChecks:[]}){const ce=Ur(O);return S.children.forEach(Ee=>{(function ki(S,O,w,N,z={canDeactivateChecks:[],canActivateChecks:[]}){const ce=S.value,Ee=O?O.value:null,ht=w?w.getContext(S.value.outlet):null;if(Ee&&ce.routeConfig===Ee.routeConfig){const pt=function ia(S,O,w){if("function"==typeof w)return w(S,O);switch(w){case"pathParamsChange":return!pi(S.url,O.url);case"pathParamsOrQueryParamsChange":return!pi(S.url,O.url)||!Dn(S.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Sr(S,O)||!Dn(S.queryParams,O.queryParams);default:return!Sr(S,O)}}(Ee,ce,ce.routeConfig.runGuardsAndResolvers);pt?z.canActivateChecks.push(new Ma(N)):(ce.data=Ee.data,ce._resolvedData=Ee._resolvedData),Js(S,O,ce.component?ht?ht.children:null:w,N,z),pt&&ht&&ht.outlet&&ht.outlet.isActivated&&z.canDeactivateChecks.push(new hi(ht.outlet.component,Ee))}else Ee&&rs(O,ht,z),z.canActivateChecks.push(new Ma(N)),Js(S,null,ce.component?ht?ht.children:null:w,N,z)})(Ee,ce[Ee.value.outlet],w,N.concat([Ee.value]),z),delete ce[Ee.value.outlet]}),Object.entries(ce).forEach(([Ee,ht])=>rs(ht,w.getContext(Ee),z)),z}function rs(S,O,w){const N=Ur(S),z=S.value;Object.entries(N).forEach(([ce,Ee])=>{rs(Ee,z.component?O?O.children.getContext(ce):null:O,w)}),w.canDeactivateChecks.push(new hi(z.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,z))}function Xs(S){return"function"==typeof S}function lr(S){return S instanceof We.K||"EmptyError"===S?.name}const qi=Symbol("INITIAL_VALUE");function ii(){return(0,ct.w)(S=>(0,De.a)(S.map(O=>O.pipe((0,At.q)(1),(0,kt.O)(qi)))).pipe((0,He.U)(O=>{for(const w of O)if(!0!==w){if(w===qi)return qi;if(!1===w||w instanceof vr)return w}return!0}),(0,ve.h)(O=>O!==qi),(0,At.q)(1)))}function zs(S){return(0,st.z)((0,xt.b)(O=>{if(qn(O))throw kr(0,O)}),(0,He.U)(O=>!0===O))}class Zi{constructor(O){this.segmentGroup=O||null}}class td{constructor(O){this.urlTree=O}}function Mr(S){return(0,rt._)(new Zi(S))}function oa(S){return(0,rt._)(new td(S))}class Gs{constructor(O,w){this.urlSerializer=O,this.urlTree=w}noMatchError(O){return new g.vHH(4002,!1)}lineralizeSegments(O,w){let N=[],z=w.root;for(;;){if(N=N.concat(z.segments),0===z.numberOfChildren)return(0,Ae.of)(N);if(z.numberOfChildren>1||!z.children[qt])return(0,rt._)(new g.vHH(4e3,!1));z=z.children[qt]}}applyRedirectCommands(O,w,N){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),O,N)}applyRedirectCreateUrlTree(O,w,N,z){const ce=this.createSegmentGroup(O,w.root,N,z);return new vr(ce,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(O,w){const N={};return Object.entries(O).forEach(([z,ce])=>{if("string"==typeof ce&&ce.startsWith(":")){const ht=ce.substring(1);N[z]=w[ht]}else N[z]=ce}),N}createSegmentGroup(O,w,N,z){const ce=this.createSegments(O,w.segments,N,z);let Ee={};return Object.entries(w.children).forEach(([ht,pt])=>{Ee[ht]=this.createSegmentGroup(O,pt,N,z)}),new Fn(ce,Ee)}createSegments(O,w,N,z){return w.map(ce=>ce.path.startsWith(":")?this.findPosParam(O,ce,z):this.findOrReturn(ce,N))}findPosParam(O,w,N){const z=N[w.path.substring(1)];if(!z)throw new g.vHH(4001,!1);return z}findOrReturn(O,w){let N=0;for(const z of w){if(z.path===O.path)return w.splice(N),z;N++}return O}}const to={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function no(S,O,w,N,z){const ce=So(S,O,w);return ce.matched?(N=function gs(S,O){return S.providers&&!S._injector&&(S._injector=(0,g.MMx)(S.providers,O,`Route: ${S.path}`)),S._injector??O}(O,N),function eo(S,O,w,N){const z=O.canMatch;if(!z||0===z.length)return(0,Ae.of)(!0);const ce=z.map(Ee=>{const ht=Ps(Ee,S);return Lt(function le(S){return S&&Xs(S.canMatch)}(ht)?ht.canMatch(O,w):S.runInContext(()=>ht(O,w)))});return(0,Ae.of)(ce).pipe(ii(),zs())}(N,O,w).pipe((0,He.U)(Ee=>!0===Ee?ce:{...to}))):(0,Ae.of)(ce)}function So(S,O,w){if(""===O.path)return"full"===O.pathMatch&&(S.hasChildren()||w.length>0)?{...to}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const z=(O.matcher||Mn)(w,S,O);if(!z)return{...to};const ce={};Object.entries(z.posParams??{}).forEach(([ht,pt])=>{ce[ht]=pt.path});const Ee=z.consumed.length>0?{...ce,...z.consumed[z.consumed.length-1].parameters}:ce;return{matched:!0,consumedSegments:z.consumed,remainingSegments:w.slice(z.consumed.length),parameters:Ee,positionalParamSegments:z.posParams??{}}}function xa(S,O,w,N){return w.length>0&&function $c(S,O,w){return w.some(N=>nc(S,O,N)&&Ni(N)!==qt)}(S,w,N)?{segmentGroup:new Fn(O,jc(N,new Fn(w,S.children))),slicedSegments:[]}:0===w.length&&function tc(S,O,w){return w.some(N=>nc(S,O,N))}(S,w,N)?{segmentGroup:new Fn(S.segments,ir(S,0,w,N,S.children)),slicedSegments:w}:{segmentGroup:new Fn(S.segments,S.children),slicedSegments:w}}function ir(S,O,w,N,z){const ce={};for(const Ee of N)if(nc(S,w,Ee)&&!z[Ni(Ee)]){const ht=new Fn([],{});ce[Ni(Ee)]=ht}return{...z,...ce}}function jc(S,O){const w={};w[qt]=O;for(const N of S)if(""===N.path&&Ni(N)!==qt){const z=new Fn([],{});w[Ni(N)]=z}return w}function nc(S,O,w){return(!(S.hasChildren()||O.length>0)||"full"!==w.pathMatch)&&""===w.path}class rc{constructor(O,w,N,z,ce,Ee,ht){this.injector=O,this.configLoader=w,this.rootComponentType=N,this.config=z,this.urlTree=ce,this.paramsInheritanceStrategy=Ee,this.urlSerializer=ht,this.allowRedirects=!0,this.applyRedirects=new Gs(this.urlSerializer,this.urlTree)}noMatchError(O){return new g.vHH(4002,!1)}recognize(){const O=xa(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,qt).pipe((0,Wt.K)(w=>{if(w instanceof td)return this.allowRedirects=!1,this.urlTree=w.urlTree,this.match(w.urlTree);throw w instanceof Zi?this.noMatchError(w):w}),(0,He.U)(w=>{const N=new ts([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},qt,this.rootComponentType,null,{}),z=new Un(N,w),ce=new $s("",z),Ee=function Ne(S,O,w=null,N=null){return Le(we(S),O,w,N)}(N,[],this.urlTree.queryParams,this.urlTree.fragment);return Ee.queryParams=this.urlTree.queryParams,ce.url=this.urlSerializer.serialize(Ee),this.inheritParamsAndData(ce._root),{state:ce,tree:Ee}}))}match(O){return this.processSegmentGroup(this.injector,this.config,O.root,qt).pipe((0,Wt.K)(N=>{throw N instanceof Zi?this.noMatchError(N):N}))}inheritParamsAndData(O){const w=O.value,N=Wi(w,this.paramsInheritanceStrategy);w.params=Object.freeze(N.params),w.data=Object.freeze(N.data),O.children.forEach(z=>this.inheritParamsAndData(z))}processSegmentGroup(O,w,N,z){return 0===N.segments.length&&N.hasChildren()?this.processChildren(O,w,N):this.processSegment(O,w,N,N.segments,z,!0)}processChildren(O,w,N){const z=[];for(const ce of Object.keys(N.children))"primary"===ce?z.unshift(ce):z.push(ce);return(0,me.D)(z).pipe((0,hr.b)(ce=>{const Ee=N.children[ce],ht=function Cs(S,O){const w=S.filter(N=>Ni(N)===O);return w.push(...S.filter(N=>Ni(N)!==O)),w}(w,ce);return this.processSegmentGroup(O,ht,Ee,ce)}),(0,cn.R)((ce,Ee)=>(ce.push(...Ee),ce)),(0,lt.d)(null),function Je(S,O){const w=arguments.length>=2;return N=>N.pipe(S?(0,ve.h)((z,ce)=>S(z,ce,N)):ke.y,Re(1),w?(0,lt.d)(O):(0,fe.T)(()=>new We.K))}(),(0,jt.z)(ce=>{if(null===ce)return Mr(N);const Ee=Ko(ce);return function Il(S){S.sort((O,w)=>O.value.outlet===qt?-1:w.value.outlet===qt?1:O.value.outlet.localeCompare(w.value.outlet))}(Ee),(0,Ae.of)(Ee)}))}processSegment(O,w,N,z,ce,Ee){return(0,me.D)(w).pipe((0,hr.b)(ht=>this.processSegmentAgainstRoute(ht._injector??O,w,ht,N,z,ce,Ee).pipe((0,Wt.K)(pt=>{if(pt instanceof Zi)return(0,Ae.of)(null);throw pt}))),(0,an.P)(ht=>!!ht),(0,Wt.K)(ht=>{if(lr(ht))return function Zo(S,O,w){return 0===O.length&&!S.children[w]}(N,z,ce)?(0,Ae.of)([]):Mr(N);throw ht}))}processSegmentAgainstRoute(O,w,N,z,ce,Ee,ht){return function Oa(S,O,w,N){return!!(Ni(S)===N||N!==qt&&nc(O,w,S))&&("**"===S.path||So(O,S,w).matched)}(N,z,ce,Ee)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(O,z,N,ce,Ee,ht):ht&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,z,w,N,ce,Ee):Mr(z):Mr(z)}expandSegmentAgainstRouteUsingRedirect(O,w,N,z,ce,Ee){return"**"===z.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,N,z,Ee):this.expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,z,ce,Ee)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,w,N,z){const ce=this.applyRedirects.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?oa(ce):this.applyRedirects.lineralizeSegments(N,ce).pipe((0,jt.z)(Ee=>{const ht=new Fn(Ee,{});return this.processSegment(O,w,ht,Ee,z,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,z,ce,Ee){const{matched:ht,consumedSegments:pt,remainingSegments:mn,positionalParamSegments:_r}=So(w,z,ce);if(!ht)return Mr(w);const qr=this.applyRedirects.applyRedirectCommands(pt,z.redirectTo,_r);return z.redirectTo.startsWith("/")?oa(qr):this.applyRedirects.lineralizeSegments(z,qr).pipe((0,jt.z)(sr=>this.processSegment(O,N,w,sr.concat(mn),Ee,!1)))}matchSegmentAgainstRoute(O,w,N,z,ce,Ee){let ht;if("**"===N.path){const pt=z.length>0?Gn(z).parameters:{},mn=new ts(z,pt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Po(N),Ni(N),N.component??N._loadedComponent??null,N,nd(N));ht=(0,Ae.of)({snapshot:mn,consumedSegments:[],remainingSegments:[]}),w.children={}}else ht=no(w,N,z,O).pipe((0,He.U)(({matched:pt,consumedSegments:mn,remainingSegments:_r,parameters:qr})=>pt?{snapshot:new ts(mn,qr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Po(N),Ni(N),N.component??N._loadedComponent??null,N,nd(N)),consumedSegments:mn,remainingSegments:_r}:null));return ht.pipe((0,ct.w)(pt=>null===pt?Mr(w):this.getChildConfig(O=N._injector??O,N,z).pipe((0,ct.w)(({routes:mn})=>{const _r=N._loadedInjector??O,{snapshot:qr,consumedSegments:sr,remainingSegments:_s}=pt,{segmentGroup:qs,slicedSegments:io}=xa(w,sr,_s,mn);if(0===io.length&&qs.hasChildren())return this.processChildren(_r,mn,qs).pipe((0,He.U)(so=>null===so?null:[new Un(qr,so)]));if(0===mn.length&&0===io.length)return(0,Ae.of)([new Un(qr,[])]);const cc=Ni(N)===ce;return this.processSegment(_r,mn,qs,io,cc?qt:ce,!0).pipe((0,He.U)(so=>[new Un(qr,so)]))}))))}getChildConfig(O,w,N){return w.children?(0,Ae.of)({routes:w.children,injector:O}):w.loadChildren?void 0!==w._loadedRoutes?(0,Ae.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function Bc(S,O,w,N){const z=O.canLoad;if(void 0===z||0===z.length)return(0,Ae.of)(!0);const ce=z.map(Ee=>{const ht=Ps(Ee,S);return Lt(function qo(S){return S&&Xs(S.canLoad)}(ht)?ht.canLoad(O,w):S.runInContext(()=>ht(O,w)))});return(0,Ae.of)(ce).pipe(ii(),zs())}(O,w,N).pipe((0,jt.z)(z=>z?this.configLoader.loadChildren(O,w).pipe((0,xt.b)(ce=>{w._loadedRoutes=ce.routes,w._loadedInjector=ce.injector})):function au(S){return(0,rt._)(Oi(!1,3))}())):(0,Ae.of)({routes:[],injector:O})}}function Hc(S){const O=S.value.routeConfig;return O&&""===O.path}function Ko(S){const O=[],w=new Set;for(const N of S){if(!Hc(N)){O.push(N);continue}const z=O.find(ce=>N.value.routeConfig===ce.value.routeConfig);void 0!==z?(z.children.push(...N.children),w.add(z)):O.push(N)}for(const N of w){const z=Ko(N.children);O.push(new Un(N.value,z))}return O.filter(N=>!w.has(N))}function Po(S){return S.data||{}}function nd(S){return S.resolve||{}}function ti(S){return"string"==typeof S.title||null===S.title}function P(S){return(0,ct.w)(O=>{const w=S(O);return w?(0,me.D)(w).pipe((0,He.U)(()=>O)):(0,Ae.of)(O)})}const ne=new g.OlP("ROUTES");let j=(()=>{class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,g.f3M)(g.Sil)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,Ae.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const N=Lt(w.loadComponent()).pipe((0,He.U)(_t),(0,xt.b)(ce=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=ce}),(0,ut.x)(()=>{this.componentLoaders.delete(w)})),z=new qe(N,()=>new Fe.x).pipe(nn());return this.componentLoaders.set(w,z),z}loadChildren(w,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,Ae.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const ce=function J(S,O,w,N){return Lt(S.loadChildren()).pipe((0,He.U)(_t),(0,jt.z)(z=>z instanceof g.YKP||Array.isArray(z)?(0,Ae.of)(z):(0,me.D)(O.compileModuleAsync(z))),(0,He.U)(z=>{N&&N(S);let ce,Ee,ht=!1;return Array.isArray(z)?(Ee=z,!0):(ce=z.create(w).injector,Ee=ce.get(ne,[],{optional:!0,self:!0}).flat()),{routes:Ee.map(ns),injector:ce}}))}(N,this.compiler,w,this.onLoadEndListener).pipe((0,ut.x)(()=>{this.childrenLoaders.delete(N)})),Ee=new qe(ce,()=>new Fe.x).pipe(nn());return this.childrenLoaders.set(N,Ee),Ee}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function _t(S){return function Ie(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let Mt=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Fe.x,this.transitionAbortSubject=new Fe.x,this.configLoader=(0,g.f3M)(j),this.environmentInjector=(0,g.f3M)(g.lqb),this.urlSerializer=(0,g.f3M)(gi),this.rootContexts=(0,g.f3M)(Ys),this.inputBindingEnabled=null!==(0,g.f3M)(ei,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ae.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=z=>this.events.next(new wa(z)),this.configLoader.onLoadStartListener=z=>this.events.next(new Hr(z))}complete(){this.transitions?.complete()}handleNavigationRequest(w){const N=++this.navigationId;this.transitions?.next({...this.transitions.value,...w,id:N})}setupNavigations(w,N,z){return this.transitions=new Se.X({id:0,currentUrlTree:N,currentRawUrl:N,currentBrowserUrl:N,extractedUrl:w.urlHandlingStrategy.extract(N),urlAfterRedirects:w.urlHandlingStrategy.extract(N),rawUrl:N,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:nr,restoredState:null,currentSnapshot:z.snapshot,targetSnapshot:null,currentRouterState:z,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ve.h)(ce=>0!==ce.id),(0,He.U)(ce=>({...ce,extractedUrl:w.urlHandlingStrategy.extract(ce.rawUrl)})),(0,ct.w)(ce=>{this.currentTransition=ce;let Ee=!1,ht=!1;return(0,Ae.of)(ce).pipe((0,xt.b)(pt=>{this.currentNavigation={id:pt.id,initialUrl:pt.rawUrl,extractedUrl:pt.extractedUrl,trigger:pt.source,extras:pt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ct.w)(pt=>{const mn=pt.currentBrowserUrl.toString(),_r=!w.navigated||pt.extractedUrl.toString()!==mn||mn!==pt.currentUrlTree.toString();if(!_r&&"reload"!==(pt.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const sr="";return this.events.next(new Ao(pt.id,this.urlSerializer.serialize(pt.rawUrl),sr,0)),pt.resolve(null),mt.E}if(w.urlHandlingStrategy.shouldProcessUrl(pt.rawUrl))return(0,Ae.of)(pt).pipe((0,ct.w)(sr=>{const _s=this.transitions?.getValue();return this.events.next(new ls(sr.id,this.urlSerializer.serialize(sr.extractedUrl),sr.source,sr.restoredState)),_s!==this.transitions?.getValue()?mt.E:Promise.resolve(sr)}),function Na(S,O,w,N,z,ce){return(0,jt.z)(Ee=>function Mo(S,O,w,N,z,ce,Ee="emptyOnly"){return new rc(S,O,w,N,z,Ee,ce).recognize()}(S,O,w,N,Ee.extractedUrl,z,ce).pipe((0,He.U)(({state:ht,tree:pt})=>({...Ee,targetSnapshot:ht,urlAfterRedirects:pt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,xt.b)(sr=>{ce.targetSnapshot=sr.targetSnapshot,ce.urlAfterRedirects=sr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:sr.urlAfterRedirects};const _s=new Ui(sr.id,this.urlSerializer.serialize(sr.extractedUrl),this.urlSerializer.serialize(sr.urlAfterRedirects),sr.targetSnapshot);this.events.next(_s)}));if(_r&&w.urlHandlingStrategy.shouldProcessUrl(pt.currentRawUrl)){const{id:sr,extractedUrl:_s,source:qs,restoredState:io,extras:cc}=pt,so=new ls(sr,this.urlSerializer.serialize(_s),qs,io);this.events.next(so);const du=ji(0,this.rootComponentType).snapshot;return this.currentTransition=ce={...pt,targetSnapshot:du,urlAfterRedirects:_s,extras:{...cc,skipLocationChange:!1,replaceUrl:!1}},(0,Ae.of)(ce)}{const sr="";return this.events.next(new Ao(pt.id,this.urlSerializer.serialize(pt.extractedUrl),sr,1)),pt.resolve(null),mt.E}}),(0,xt.b)(pt=>{const mn=new Fc(pt.id,this.urlSerializer.serialize(pt.extractedUrl),this.urlSerializer.serialize(pt.urlAfterRedirects),pt.targetSnapshot);this.events.next(mn)}),(0,He.U)(pt=>(this.currentTransition=ce={...pt,guards:$i(pt.targetSnapshot,pt.currentSnapshot,this.rootContexts)},ce)),function Pa(S,O){return(0,jt.z)(w=>{const{targetSnapshot:N,currentSnapshot:z,guards:{canActivateChecks:ce,canDeactivateChecks:Ee}}=w;return 0===Ee.length&&0===ce.length?(0,Ae.of)({...w,guardsResult:!0}):function El(S,O,w,N){return(0,me.D)(S).pipe((0,jt.z)(z=>function sa(S,O,w,N,z){const ce=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!ce||0===ce.length)return(0,Ae.of)(!0);const Ee=ce.map(ht=>{const pt=ws(O)??z,mn=Ps(ht,pt);return Lt(function F(S){return S&&Xs(S.canDeactivate)}(mn)?mn.canDeactivate(S,O,w,N):pt.runInContext(()=>mn(S,O,w,N))).pipe((0,an.P)())});return(0,Ae.of)(Ee).pipe(ii())}(z.component,z.route,w,O,N)),(0,an.P)(z=>!0!==z,!0))}(Ee,N,z,S).pipe((0,jt.z)(ht=>ht&&function Qa(S){return"boolean"==typeof S}(ht)?function Ja(S,O,w,N){return(0,me.D)(O).pipe((0,hr.b)(z=>(0,te.z)(function Ra(S,O){return null!==S&&O&&O(new js(S)),(0,Ae.of)(!0)}(z.route.parent,N),function Xa(S,O){return null!==S&&O&&O(new Ji(S)),(0,Ae.of)(!0)}(z.route,N),function ec(S,O,w){const N=O[O.length-1],ce=O.slice(0,O.length-1).reverse().map(Ee=>function Ya(S){const O=S.routeConfig?S.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:S,guards:O}:null}(Ee)).filter(Ee=>null!==Ee).map(Ee=>ye(()=>{const ht=Ee.guards.map(pt=>{const mn=ws(Ee.node)??w,_r=Ps(pt,mn);return Lt(function X(S){return S&&Xs(S.canActivateChild)}(_r)?_r.canActivateChild(N,S):mn.runInContext(()=>_r(N,S))).pipe((0,an.P)())});return(0,Ae.of)(ht).pipe(ii())}));return(0,Ae.of)(ce).pipe(ii())}(S,z.path,w),function Uc(S,O,w){const N=O.routeConfig?O.routeConfig.canActivate:null;if(!N||0===N.length)return(0,Ae.of)(!0);const z=N.map(ce=>ye(()=>{const Ee=ws(O)??w,ht=Ps(ce,Ee);return Lt(function q(S){return S&&Xs(S.canActivate)}(ht)?ht.canActivate(O,S):Ee.runInContext(()=>ht(O,S))).pipe((0,an.P)())}));return(0,Ae.of)(z).pipe(ii())}(S,z.route,w))),(0,an.P)(z=>!0!==z,!0))}(N,ce,S,O):(0,Ae.of)(ht)),(0,He.U)(ht=>({...w,guardsResult:ht})))})}(this.environmentInjector,pt=>this.events.next(pt)),(0,xt.b)(pt=>{if(ce.guardsResult=pt.guardsResult,qn(pt.guardsResult))throw kr(0,pt.guardsResult);const mn=new Yr(pt.id,this.urlSerializer.serialize(pt.extractedUrl),this.urlSerializer.serialize(pt.urlAfterRedirects),pt.targetSnapshot,!!pt.guardsResult);this.events.next(mn)}),(0,ve.h)(pt=>!!pt.guardsResult||(this.cancelNavigationTransition(pt,"",3),!1)),P(pt=>{if(pt.guards.canActivateChecks.length)return(0,Ae.of)(pt).pipe((0,xt.b)(mn=>{const _r=new Lc(mn.id,this.urlSerializer.serialize(mn.extractedUrl),this.urlSerializer.serialize(mn.urlAfterRedirects),mn.targetSnapshot);this.events.next(_r)}),(0,ct.w)(mn=>{let _r=!1;return(0,Ae.of)(mn).pipe(function ic(S,O){return(0,jt.z)(w=>{const{targetSnapshot:N,guards:{canActivateChecks:z}}=w;if(!z.length)return(0,Ae.of)(w);let ce=0;return(0,me.D)(z).pipe((0,hr.b)(Ee=>function bl(S,O,w,N){const z=S.routeConfig,ce=S._resolve;return void 0!==z?.title&&!ti(z)&&(ce[gn]=z.title),function ka(S,O,w,N){const z=function rd(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===z.length)return(0,Ae.of)({});const ce={};return(0,me.D)(z).pipe((0,jt.z)(Ee=>function zc(S,O,w,N){const z=ws(O)??N,ce=Ps(S,z);return Lt(ce.resolve?ce.resolve(O,w):z.runInContext(()=>ce(O,w)))}(S[Ee],O,w,N).pipe((0,an.P)(),(0,xt.b)(ht=>{ce[Ee]=ht}))),Re(1),function Xe(S){return(0,He.U)(()=>S)}(ce),(0,Wt.K)(Ee=>lr(Ee)?mt.E:(0,rt._)(Ee)))}(ce,S,O,N).pipe((0,He.U)(Ee=>(S._resolvedData=Ee,S.data=Wi(S,w).resolve,z&&ti(z)&&(S.data[gn]=z.title),null)))}(Ee.route,N,S,O)),(0,xt.b)(()=>ce++),Re(1),(0,jt.z)(Ee=>ce===z.length?(0,Ae.of)(w):mt.E))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,xt.b)({next:()=>_r=!0,complete:()=>{_r||this.cancelNavigationTransition(mn,"",2)}}))}),(0,xt.b)(mn=>{const _r=new Mi(mn.id,this.urlSerializer.serialize(mn.extractedUrl),this.urlSerializer.serialize(mn.urlAfterRedirects),mn.targetSnapshot);this.events.next(_r)}))}),P(pt=>{const mn=_r=>{const qr=[];_r.routeConfig?.loadComponent&&!_r.routeConfig._loadedComponent&&qr.push(this.configLoader.loadComponent(_r.routeConfig).pipe((0,xt.b)(sr=>{_r.component=sr}),(0,He.U)(()=>{})));for(const sr of _r.children)qr.push(...mn(sr));return qr};return(0,De.a)(mn(pt.targetSnapshot.root)).pipe((0,lt.d)(),(0,At.q)(1))}),P(()=>this.afterPreactivation()),(0,He.U)(pt=>{const mn=function Cr(S,O,w){const N=hs(S,O._root,w?w._root:void 0);return new ri(N,O)}(w.routeReuseStrategy,pt.targetSnapshot,pt.currentRouterState);return this.currentTransition=ce={...pt,targetRouterState:mn},ce}),(0,xt.b)(()=>{this.events.next(new Da)}),((S,O,w,N)=>(0,He.U)(z=>(new di(O,z.targetRouterState,z.currentRouterState,w,N).activate(S),z)))(this.rootContexts,w.routeReuseStrategy,pt=>this.events.next(pt),this.inputBindingEnabled),(0,At.q)(1),(0,xt.b)({next:pt=>{Ee=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Qi(pt.id,this.urlSerializer.serialize(pt.extractedUrl),this.urlSerializer.serialize(pt.urlAfterRedirects))),w.titleStrategy?.updateTitle(pt.targetRouterState.snapshot),pt.resolve(!0)},complete:()=>{Ee=!0}}),(0,It.R)(this.transitionAbortSubject.pipe((0,xt.b)(pt=>{throw pt}))),(0,ut.x)(()=>{Ee||ht||this.cancelNavigationTransition(ce,"",1),this.currentNavigation?.id===ce.id&&(this.currentNavigation=null)}),(0,Wt.K)(pt=>{if(ht=!0,ps(pt))this.events.next(new Vr(ce.id,this.urlSerializer.serialize(ce.extractedUrl),pt.message,pt.cancellationCode)),function Bn(S){return ps(S)&&qn(S.url)}(pt)?this.events.next(new bs(pt.url)):ce.resolve(!1);else{this.events.next(new us(ce.id,this.urlSerializer.serialize(ce.extractedUrl),pt,ce.targetSnapshot??void 0));try{ce.resolve(w.errorHandler(pt))}catch(mn){ce.reject(mn)}}return mt.E}))}))}cancelNavigationTransition(w,N,z){const ce=new Vr(w.id,this.urlSerializer.serialize(w.extractedUrl),N,z);this.events.next(ce),w.resolve(!1)}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function _n(S){return S!==nr}let Pr=(()=>{class S{buildTitle(w){let N,z=w.root;for(;void 0!==z;)N=this.getResolvedTitleForRoute(z)??N,z=z.children.find(ce=>ce.outlet===qt);return N}getResolvedTitleForRoute(w){return w.data[gn]}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:function(){return(0,g.f3M)(Wr)},providedIn:"root"})}return S})(),Wr=(()=>{class S extends Pr{constructor(w){super(),this.title=w}updateTitle(w){const N=this.buildTitle(w);void 0!==N&&this.title.setTitle(N)}static#e=this.\u0275fac=function(N){return new(N||S)(g.LFG(Ht.Dx))};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})(),Br=(()=>{class S{static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:function(){return(0,g.f3M)(Qr)},providedIn:"root"})}return S})();class pr{shouldDetach(O){return!1}store(O,w){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,w){return O.routeConfig===w.routeConfig}}let Qr=(()=>{class S extends pr{static#e=this.\u0275fac=function(){let w;return function(z){return(w||(w=g.n5z(S)))(z||S)}}();static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const Fr=new g.OlP("",{providedIn:"root",factory:()=>({})});let Pi=(()=>{class S{static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:function(){return(0,g.f3M)(is)},providedIn:"root"})}return S})(),is=(()=>{class S{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,N){return w}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();var Ki=function(S){return S[S.COMPLETE=0]="COMPLETE",S[S.FAILED=1]="FAILED",S[S.REDIRECTING=2]="REDIRECTING",S}(Ki||{});function Yo(S,O){S.events.pipe((0,ve.h)(w=>w instanceof Qi||w instanceof Vr||w instanceof us||w instanceof Ao),(0,He.U)(w=>w instanceof Qi||w instanceof Ao?Ki.COMPLETE:w instanceof Vr&&(0===w.code||1===w.code)?Ki.REDIRECTING:Ki.FAILED),(0,ve.h)(w=>w!==Ki.REDIRECTING),(0,At.q)(1)).subscribe(()=>{O()})}function Rs(S){throw S}function si(S,O,w){return O.parse("/")}const Qn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ws=(()=>{class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,g.f3M)(g.c2e),this.isNgZoneEnabled=!1,this._events=new Fe.x,this.options=(0,g.f3M)(Fr,{optional:!0})||{},this.pendingTasks=(0,g.f3M)(g.HDt),this.errorHandler=this.options.errorHandler||Rs,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||si,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,g.f3M)(Pi),this.routeReuseStrategy=(0,g.f3M)(Br),this.titleStrategy=(0,g.f3M)(Pr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,g.f3M)(ne,{optional:!0})?.flat()??[],this.navigationTransitions=(0,g.f3M)(Mt),this.urlSerializer=(0,g.f3M)(gi),this.location=(0,g.f3M)(it.Ye),this.componentInputBindingEnabled=!!(0,g.f3M)(ei,{optional:!0}),this.eventsSubscription=new ft.w0,this.isNgZoneEnabled=(0,g.f3M)(g.R0b)instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new vr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ji(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(w=>{this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(N=>{try{const{currentTransition:z}=this.navigationTransitions;if(null===z)return void(aa(N)&&this._events.next(N));if(N instanceof ls)_n(z.source)&&(this.browserUrlTree=z.extractedUrl);else if(N instanceof Ao)this.rawUrlTree=z.rawUrl;else if(N instanceof Ui){if("eager"===this.urlUpdateStrategy){if(!z.extras.skipLocationChange){const ce=this.urlHandlingStrategy.merge(z.urlAfterRedirects,z.rawUrl);this.setBrowserUrl(ce,z)}this.browserUrlTree=z.urlAfterRedirects}}else if(N instanceof Da)this.currentUrlTree=z.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(z.urlAfterRedirects,z.rawUrl),this.routerState=z.targetRouterState,"deferred"===this.urlUpdateStrategy&&(z.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,z),this.browserUrlTree=z.urlAfterRedirects);else if(N instanceof Vr)0!==N.code&&1!==N.code&&(this.navigated=!0),(3===N.code||2===N.code)&&this.restoreHistory(z);else if(N instanceof bs){const ce=this.urlHandlingStrategy.merge(N.url,z.currentRawUrl),Ee={skipLocationChange:z.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||_n(z.source)};this.scheduleNavigation(ce,nr,null,Ee,{resolve:z.resolve,reject:z.reject,promise:z.promise})}N instanceof us&&this.restoreHistory(z,!0),N instanceof Qi&&(this.navigated=!0),aa(N)&&this._events.next(N)}catch(z){this.navigationTransitions.transitionAbortSubject.next(z)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),nr,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const N="popstate"===w.type?"popstate":"hashchange";"popstate"===N&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,N,w.state)},0)}))}navigateToSyncWithBrowser(w,N,z){const ce={replaceUrl:!0},Ee=z?.navigationId?z:null;if(z){const pt={...z};delete pt.navigationId,delete pt.\u0275routerPageId,0!==Object.keys(pt).length&&(ce.state=pt)}const ht=this.parseUrl(w);this.scheduleNavigation(ht,N,Ee,ce)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(ns),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,N={}){const{relativeTo:z,queryParams:ce,fragment:Ee,queryParamsHandling:ht,preserveFragment:pt}=N,mn=pt?this.currentUrlTree.fragment:Ee;let qr,_r=null;switch(ht){case"merge":_r={...this.currentUrlTree.queryParams,...ce};break;case"preserve":_r=this.currentUrlTree.queryParams;break;default:_r=ce||null}null!==_r&&(_r=this.removeEmptyProps(_r));try{qr=we(z?z.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||!w[0].startsWith("/"))&&(w=[]),qr=this.currentUrlTree.root}return Le(qr,w,_r,mn??null)}navigateByUrl(w,N={skipLocationChange:!1}){const z=qn(w)?w:this.parseUrl(w),ce=this.urlHandlingStrategy.merge(z,this.rawUrlTree);return this.scheduleNavigation(ce,nr,null,N)}navigate(w,N={skipLocationChange:!1}){return function oi(S){for(let O=0;O<S.length;O++)if(null==S[O])throw new g.vHH(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,N),N)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let N;try{N=this.urlSerializer.parse(w)}catch(z){N=this.malformedUriErrorHandler(z,this.urlSerializer,w)}return N}isActive(w,N){let z;if(z=!0===N?{...Qn}:!1===N?{...Qo}:N,qn(w))return Ar(this.currentUrlTree,w,z);const ce=this.parseUrl(w);return Ar(this.currentUrlTree,ce,z)}removeEmptyProps(w){return Object.keys(w).reduce((N,z)=>{const ce=w[z];return null!=ce&&(N[z]=ce),N},{})}scheduleNavigation(w,N,z,ce,Ee){if(this.disposed)return Promise.resolve(!1);let ht,pt,mn;Ee?(ht=Ee.resolve,pt=Ee.reject,mn=Ee.promise):mn=new Promise((qr,sr)=>{ht=qr,pt=sr});const _r=this.pendingTasks.add();return Yo(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(_r))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:z,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:w,extras:ce,resolve:ht,reject:pt,promise:mn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),mn.catch(qr=>Promise.reject(qr))}setBrowserUrl(w,N){const z=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(z)||N.extras.replaceUrl){const Ee={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId)};this.location.replaceState(z,"",Ee)}else{const ce={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId+1)};this.location.go(z,"",ce)}}restoreHistory(w,N=!1){if("computed"===this.canceledNavigationResolution){const ce=this.currentPageId-this.browserPageId;0!==ce?this.location.historyGo(ce):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ce&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,N){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:N}:{navigationId:w}}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function aa(S){return!(S instanceof Da||S instanceof bs)}let Ro=(()=>{class S{constructor(w,N,z,ce,Ee,ht){this.router=w,this.route=N,this.tabIndexAttribute=z,this.renderer=ce,this.el=Ee,this.locationStrategy=ht,this.href=null,this.commands=null,this.onChanges=new Fe.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const pt=Ee.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===pt||"area"===pt,this.isAnchorElement?this.subscription=w.events.subscribe(mn=>{mn instanceof Qi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,N,z,ce,Ee){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||N||z||ce||Ee||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const w=null===this.href?null:(0,g.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",w)}applyAttributeValue(w,N){const z=this.renderer,ce=this.el.nativeElement;null!==N?z.setAttribute(ce,w,N):z.removeAttribute(ce,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(N){return new(N||S)(g.Y36(Ws),g.Y36(es),g.$8M("tabindex"),g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(it.S$))};static#t=this.\u0275dir=g.lG2({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(N,z){1&N&&g.NdJ("click",function(Ee){return z.onClick(Ee.button,Ee.ctrlKey,Ee.shiftKey,Ee.altKey,Ee.metaKey)}),2&N&&g.uIk("target",z.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",g.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",g.VuI],replaceUrl:["replaceUrl","replaceUrl",g.VuI],routerLink:"routerLink"},standalone:!0,features:[g.Xq5,g.TTD]})}return S})();class Tl{}let Gc=(()=>{class S{constructor(w,N,z,ce,Ee){this.router=w,this.injector=z,this.preloadingStrategy=ce,this.loader=Ee}setUpPreloading(){this.subscription=this.router.events.pipe((0,ve.h)(w=>w instanceof Qi),(0,hr.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,N){const z=[];for(const ce of N){ce.providers&&!ce._injector&&(ce._injector=(0,g.MMx)(ce.providers,w,`Route: ${ce.path}`));const Ee=ce._injector??w,ht=ce._loadedInjector??Ee;(ce.loadChildren&&!ce._loadedRoutes&&void 0===ce.canLoad||ce.loadComponent&&!ce._loadedComponent)&&z.push(this.preloadConfig(Ee,ce)),(ce.children||ce._loadedRoutes)&&z.push(this.processRoutes(ht,ce.children??ce._loadedRoutes))}return(0,me.D)(z).pipe((0,Gt.J)())}preloadConfig(w,N){return this.preloadingStrategy.preload(N,()=>{let z;z=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(w,N):(0,Ae.of)(null);const ce=z.pipe((0,jt.z)(Ee=>null===Ee?(0,Ae.of)(void 0):(N._loadedRoutes=Ee.routes,N._loadedInjector=Ee.injector,this.processRoutes(Ee.injector??w,Ee.routes))));if(N.loadComponent&&!N._loadedComponent){const Ee=this.loader.loadComponent(N);return(0,me.D)([ce,Ee]).pipe((0,Gt.J)())}return ce})}static#e=this.\u0275fac=function(N){return new(N||S)(g.LFG(Ws),g.LFG(g.Sil),g.LFG(g.lqb),g.LFG(Tl),g.LFG(j))};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const sc=new g.OlP("");let lu=(()=>{class S{constructor(w,N,z,ce,Ee={}){this.urlSerializer=w,this.transitions=N,this.viewportScroller=z,this.zone=ce,this.options=Ee,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ee.scrollPositionRestoration=Ee.scrollPositionRestoration||"disabled",Ee.anchorScrolling=Ee.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof ls?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof Qi?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof Ao&&0===w.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Ii&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,N){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ii(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(N){g.$Z()};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac})}return S})();function Oo(S,O){return{\u0275kind:S,\u0275providers:O}}function Xn(){const S=(0,g.f3M)(g.zs3);return O=>{const w=S.get(g.z2F);if(O!==w.components[0])return;const N=S.get(Ws),z=S.get(sd);1===S.get(Wc)&&N.initialNavigation(),S.get(Ti,null,g.XFs.Optional)?.setUpPreloading(),S.get(sc,null,g.XFs.Optional)?.init(),N.resetRootComponentType(w.componentTypes[0]),z.closed||(z.next(),z.complete(),z.unsubscribe())}}const sd=new g.OlP("",{factory:()=>new Fe.x}),Wc=new g.OlP("",{providedIn:"root",factory:()=>1}),Ti=new g.OlP("");function La(S){return Oo(0,[{provide:Ti,useExisting:Gc},{provide:Tl,useExisting:S}])}const Nt=new g.OlP("ROUTER_FORROOT_GUARD"),Nr=[it.Ye,{provide:gi,useClass:tr},Ws,Ys,{provide:es,useFactory:function xo(S){return S.routerState.root},deps:[Ws]},j,[]];function cd(){return new g.PXZ("Router",Ws)}let oc=(()=>{class S{constructor(w){}static forRoot(w,N){return{ngModule:S,providers:[Nr,[],{provide:ne,multi:!0,useValue:w},{provide:Nt,useFactory:ms,deps:[[Ws,new g.FiY,new g.tp0]]},{provide:Fr,useValue:N||{}},N?.useHash?{provide:it.S$,useClass:it.Do}:{provide:it.S$,useClass:it.b0},{provide:sc,useFactory:()=>{const S=(0,g.f3M)(it.EM),O=(0,g.f3M)(g.R0b),w=(0,g.f3M)(Fr),N=(0,g.f3M)(Mt),z=(0,g.f3M)(gi);return w.scrollOffset&&S.setOffset(w.scrollOffset),new lu(z,N,S,O,w)}},N?.preloadingStrategy?La(N.preloadingStrategy).\u0275providers:[],{provide:g.PXZ,multi:!0,useFactory:cd},N?.initialNavigation?qc(N):[],N?.bindToComponentInputs?Oo(8,[ds,{provide:ei,useExisting:ds}]).\u0275providers:[],[{provide:ac,useFactory:Xn},{provide:g.tb,multi:!0,useExisting:ac}]]}}static forChild(w){return{ngModule:S,providers:[{provide:ne,multi:!0,useValue:w}]}}static#e=this.\u0275fac=function(N){return new(N||S)(g.LFG(Nt,8))};static#t=this.\u0275mod=g.oAB({type:S});static#n=this.\u0275inj=g.cJS({})}return S})();function ms(S){return"guarded"}function qc(S){return["disabled"===S.initialNavigation?Oo(3,[{provide:g.ip1,multi:!0,useFactory:()=>{const O=(0,g.f3M)(Ws);return()=>{O.setUpLocationChangeListener()}}},{provide:Wc,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?Oo(2,[{provide:Wc,useValue:0},{provide:g.ip1,multi:!0,deps:[g.zs3],useFactory:O=>{const w=O.get(it.V_,Promise.resolve());return()=>w.then(()=>new Promise(N=>{const z=O.get(Ws),ce=O.get(sd);Yo(z,()=>{N(!0)}),O.get(Mt).afterPreactivation=()=>(N(!0),ce.closed?(0,Ae.of)(void 0):ce),z.initialNavigation()}))}}]).\u0275providers:[]]}const ac=new g.OlP("")},3106:(Jt,Ye,B)=>{B.d(Ye,{Z:()=>mt});var g=B(9058),u=B(4537),G=B(534),be=B(7879);class me{constructor(wt,Et){this._delegate=wt,this.firebase=Et,(0,G._addComponent)(wt,new u.wA("app-compat",()=>this,"PUBLIC")),this.container=wt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(wt){this._delegate.automaticDataCollectionEnabled=wt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(wt=>{this._delegate.checkDestroyed(),wt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,G.deleteApp)(this._delegate)))}_getService(wt,Et=G._DEFAULT_ENTRY_NAME){var nn;this._delegate.checkDestroyed();const qe=this._delegate.container.getProvider(wt);return!qe.isInitialized()&&"EXPLICIT"===(null===(nn=qe.getComponent())||void 0===nn?void 0:nn.instantiationMode)&&qe.initialize(),qe.getImmediate({identifier:Et})}_removeServiceInstance(wt,Et=G._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(wt).clearInstance(Et)}_addComponent(wt){(0,G._addComponent)(this._delegate,wt)}_addOrOverwriteComponent(wt){(0,G._addOrOverwriteComponent)(this._delegate,wt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Se=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),te=function We(){const ft=function De(ft){const wt={},Et={__esModule:!0,initializeApp:function Fe(At,kt={}){const ve=G.initializeApp(At,kt);if((0,g.r3)(wt,ve.name))return wt[ve.name];const jt=new ft(ve,Et);return wt[ve.name]=jt,jt},app:qe,registerVersion:G.registerVersion,setLogLevel:G.setLogLevel,onLog:G.onLog,apps:null,SDK_VERSION:G.SDK_VERSION,INTERNAL:{registerComponent:function He(At){const kt=At.name,ve=kt.replace("-compat","");if(G._registerComponent(At)&&"PUBLIC"===At.type){const jt=(an=qe())=>{if("function"!=typeof an[ve])throw Se.create("invalid-app-argument",{appName:kt});return an[ve]()};void 0!==At.serviceProps&&(0,g.ZB)(jt,At.serviceProps),Et[ve]=jt,ft.prototype[ve]=function(...an){return this._getService.bind(this,kt).apply(this,At.multipleInstances?an:[])}}return"PUBLIC"===At.type?Et[ve]:null},removeApp:function nn(At){delete wt[At]},useAsService:function ct(At,kt){return"serverAuth"===kt?null:kt},modularAPIs:G}};function qe(At){if(!(0,g.r3)(wt,At=At||G._DEFAULT_ENTRY_NAME))throw Se.create("no-app",{appName:At});return wt[At]}return Et.default=Et,Object.defineProperty(Et,"apps",{get:function it(){return Object.keys(wt).map(At=>wt[At])}}),qe.App=ft,Et}(me);return ft.INTERNAL=Object.assign(Object.assign({},ft.INTERNAL),{createFirebaseNamespace:We,extendNamespace:function wt(Et){(0,g.ZB)(ft,Et)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),ft}(),oe=new be.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){oe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ft=self.firebase.SDK_VERSION;ft&&ft.indexOf("LITE")>=0&&oe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const mt=te;!function rt(ft){(0,G.registerVersion)("@firebase/app-compat","0.2.35",ft)}()},534:(Jt,Ye,B)=>{B.r(Ye),B.d(Ye,{FirebaseError:()=>be.ZR,SDK_VERSION:()=>Te,_DEFAULT_ENTRY_NAME:()=>Rn,_addComponent:()=>Hn,_addOrOverwriteComponent:()=>$r,_apps:()=>yr,_clearComponents:()=>br,_components:()=>Fn,_getProvider:()=>rn,_isFirebaseApp:()=>tr,_isFirebaseServerApp:()=>Dr,_registerComponent:()=>pi,_removeServiceInstance:()=>gi,_serverApps:()=>vr,deleteApp:()=>Er,getApp:()=>Nn,getApps:()=>ui,initializeApp:()=>yt,initializeServerApp:()=>zt,onLog:()=>W,registerVersion:()=>re,setLogLevel:()=>$});var g=B(5861),u=B(4537),G=B(7879),be=B(9058);const me=(nt,Ke)=>Ke.some(bt=>nt instanceof bt);let Ae,Se;const te=new WeakMap,oe=new WeakMap,ye=new WeakMap,st=new WeakMap,rt=new WeakMap;let wt={get(nt,Ke,bt){if(nt instanceof IDBTransaction){if("done"===Ke)return oe.get(nt);if("objectStoreNames"===Ke)return nt.objectStoreNames||ye.get(nt);if("store"===Ke)return bt.objectStoreNames[1]?void 0:bt.objectStore(bt.objectStoreNames[0])}return Fe(nt[Ke])},set:(nt,Ke,bt)=>(nt[Ke]=bt,!0),has:(nt,Ke)=>nt instanceof IDBTransaction&&("done"===Ke||"store"===Ke)||Ke in nt};function qe(nt){return"function"==typeof nt?function nn(nt){return nt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function We(){return Se||(Se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(nt)?function(...Ke){return nt.apply(it(this),Ke),Fe(te.get(this))}:function(...Ke){return Fe(nt.apply(it(this),Ke))}:function(Ke,...bt){const en=nt.call(it(this),Ke,...bt);return ye.set(en,Ke.sort?Ke.sort():[Ke]),Fe(en)}}(nt):(nt instanceof IDBTransaction&&function ft(nt){if(oe.has(nt))return;const Ke=new Promise((bt,en)=>{const wn=()=>{nt.removeEventListener("complete",Sn),nt.removeEventListener("error",yn),nt.removeEventListener("abort",yn)},Sn=()=>{bt(),wn()},yn=()=>{en(nt.error||new DOMException("AbortError","AbortError")),wn()};nt.addEventListener("complete",Sn),nt.addEventListener("error",yn),nt.addEventListener("abort",yn)});oe.set(nt,Ke)}(nt),me(nt,function De(){return Ae||(Ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(nt,wt):nt)}function Fe(nt){if(nt instanceof IDBRequest)return function mt(nt){const Ke=new Promise((bt,en)=>{const wn=()=>{nt.removeEventListener("success",Sn),nt.removeEventListener("error",yn)},Sn=()=>{bt(Fe(nt.result)),wn()},yn=()=>{en(nt.error),wn()};nt.addEventListener("success",Sn),nt.addEventListener("error",yn)});return Ke.then(bt=>{bt instanceof IDBCursor&&te.set(bt,nt)}).catch(()=>{}),rt.set(Ke,nt),Ke}(nt);if(st.has(nt))return st.get(nt);const Ke=qe(nt);return Ke!==nt&&(st.set(nt,Ke),rt.set(Ke,nt)),Ke}const it=nt=>rt.get(nt),At=["get","getKey","getAll","getAllKeys","count"],kt=["put","add","delete","clear"],ve=new Map;function jt(nt,Ke){if(!(nt instanceof IDBDatabase)||Ke in nt||"string"!=typeof Ke)return;if(ve.get(Ke))return ve.get(Ke);const bt=Ke.replace(/FromIndex$/,""),en=Ke!==bt,wn=kt.includes(bt);if(!(bt in(en?IDBIndex:IDBObjectStore).prototype)||!wn&&!At.includes(bt))return;const Sn=function(){var yn=(0,g.Z)(function*(Ln,...Tr){const Ai=this.transaction(Ln,wn?"readwrite":"readonly");let Kr=Ai.store;return en&&(Kr=Kr.index(Tr.shift())),(yield Promise.all([Kr[bt](...Tr),wn&&Ai.done]))[0]});return function(Tr){return yn.apply(this,arguments)}}();return ve.set(Ke,Sn),Sn}!function Et(nt){wt=nt(wt)}(nt=>({...nt,get:(Ke,bt,en)=>jt(Ke,bt)||nt.get(Ke,bt,en),has:(Ke,bt)=>!!jt(Ke,bt)||nt.has(Ke,bt)}));class an{constructor(Ke){this.container=Ke}getPlatformInfoString(){return this.container.getProviders().map(bt=>{if(function hr(nt){const Ke=nt.getComponent();return"VERSION"===Ke?.type}(bt)){const en=bt.getImmediate();return`${en.library}/${en.version}`}return null}).filter(bt=>bt).join(" ")}}const xt="@firebase/app",Wt="0.10.5",cn=new G.Yd("@firebase/app"),Rn="[DEFAULT]",On={[xt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},yr=new Map,vr=new Map,Fn=new Map;function Hn(nt,Ke){try{nt.container.addComponent(Ke)}catch(bt){cn.debug(`Component ${Ke.name} failed to register with FirebaseApp ${nt.name}`,bt)}}function $r(nt,Ke){nt.container.addOrOverwriteComponent(Ke)}function pi(nt){const Ke=nt.name;if(Fn.has(Ke))return cn.debug(`There were multiple attempts to register component ${Ke}.`),!1;Fn.set(Ke,nt);for(const bt of yr.values())Hn(bt,nt);for(const bt of vr.values())Hn(bt,nt);return!0}function rn(nt,Ke){const bt=nt.container.getProvider("heartbeat").getImmediate({optional:!0});return bt&&bt.triggerHeartbeat(),nt.container.getProvider(Ke)}function gi(nt,Ke,bt=Rn){rn(nt,Ke).clearInstance(bt)}function tr(nt){return void 0!==nt.options}function Dr(nt){return void 0!==nt.settings}function br(){Fn.clear()}const $e=new be.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class vt{constructor(Ke,bt,en){this._isDeleted=!1,this._options=Object.assign({},Ke),this._config=Object.assign({},bt),this._name=bt.name,this._automaticDataCollectionEnabled=bt.automaticDataCollectionEnabled,this._container=en,this.container.addComponent(new u.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ke){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ke}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ke){this._isDeleted=Ke}checkDestroyed(){if(this.isDeleted)throw $e.create("app-deleted",{appName:this._name})}}class ae extends vt{constructor(Ke,bt,en,wn){const Sn=void 0!==bt.automaticDataCollectionEnabled&&bt.automaticDataCollectionEnabled,yn={name:en,automaticDataCollectionEnabled:Sn};super(void 0!==Ke.apiKey?Ke:Ke.options,yn,wn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Sn},bt),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,bt.releaseOnDeref=void 0,re(xt,Wt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(Ke){this.isDeleted||(this._refCount++,void 0!==Ke&&this._finalizationRegistry.register(Ke,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Er(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw $e.create("server-app-deleted")}}const Te="10.12.2";function yt(nt,Ke={}){let bt=nt;"object"!=typeof Ke&&(Ke={name:Ke});const en=Object.assign({name:Rn,automaticDataCollectionEnabled:!1},Ke),wn=en.name;if("string"!=typeof wn||!wn)throw $e.create("bad-app-name",{appName:String(wn)});if(bt||(bt=(0,be.aH)()),!bt)throw $e.create("no-options");const Sn=yr.get(wn);if(Sn){if((0,be.vZ)(bt,Sn.options)&&(0,be.vZ)(en,Sn.config))return Sn;throw $e.create("duplicate-app",{appName:wn})}const yn=new u.H0(wn);for(const Tr of Fn.values())yn.addComponent(Tr);const Ln=new vt(bt,en,yn);return yr.set(wn,Ln),Ln}function zt(nt,Ke){if((0,be.jU)())throw $e.create("invalid-server-app-environment");let bt;void 0===Ke.automaticDataCollectionEnabled&&(Ke.automaticDataCollectionEnabled=!1),bt=tr(nt)?nt.options:nt;const en=Object.assign(Object.assign({},Ke),bt);if(void 0!==en.releaseOnDeref&&delete en.releaseOnDeref,void 0!==Ke.releaseOnDeref&&typeof FinalizationRegistry>"u")throw $e.create("finalization-registry-not-supported",{});const Sn=""+(Ai=JSON.stringify(en),[...Ai].reduce((Kr,nr)=>Math.imul(31,Kr)+nr.charCodeAt(0)|0,0)),yn=vr.get(Sn);var Ai;if(yn)return yn.incRefCount(Ke.releaseOnDeref),yn;const Ln=new u.H0(Sn);for(const Ai of Fn.values())Ln.addComponent(Ai);const Tr=new ae(bt,Ke,Sn,Ln);return vr.set(Sn,Tr),Tr}function Nn(nt=Rn){const Ke=yr.get(nt);if(!Ke&&nt===Rn&&(0,be.aH)())return yt();if(!Ke)throw $e.create("no-app",{appName:nt});return Ke}function ui(){return Array.from(yr.values())}function Er(nt){return xe.apply(this,arguments)}function xe(){return(xe=(0,g.Z)(function*(nt){let Ke=!1;const bt=nt.name;yr.has(bt)?(Ke=!0,yr.delete(bt)):vr.has(bt)&&nt.decRefCount()<=0&&(vr.delete(bt),Ke=!0),Ke&&(yield Promise.all(nt.container.getProviders().map(en=>en.delete())),nt.isDeleted=!0)})).apply(this,arguments)}function re(nt,Ke,bt){var en;let wn=null!==(en=On[nt])&&void 0!==en?en:nt;bt&&(wn+=`-${bt}`);const Sn=wn.match(/\s|\//),yn=Ke.match(/\s|\//);if(Sn||yn){const Ln=[`Unable to register library "${wn}" with version "${Ke}":`];return Sn&&Ln.push(`library name "${wn}" contains illegal characters (whitespace or "/")`),Sn&&yn&&Ln.push("and"),yn&&Ln.push(`version name "${Ke}" contains illegal characters (whitespace or "/")`),void cn.warn(Ln.join(" "))}pi(new u.wA(`${wn}-version`,()=>({library:wn,version:Ke}),"VERSION"))}function W(nt,Ke){if(null!==nt&&"function"!=typeof nt)throw $e.create("invalid-log-argument");(0,G.Am)(nt,Ke)}function $(nt){(0,G.Ub)(nt)}const U="firebase-heartbeat-database",pe=1,Be="firebase-heartbeat-store";let Tt=null;function Ot(){return Tt||(Tt=function He(nt,Ke,{blocked:bt,upgrade:en,blocking:wn,terminated:Sn}={}){const yn=indexedDB.open(nt,Ke),Ln=Fe(yn);return en&&yn.addEventListener("upgradeneeded",Tr=>{en(Fe(yn.result),Tr.oldVersion,Tr.newVersion,Fe(yn.transaction),Tr)}),bt&&yn.addEventListener("blocked",Tr=>bt(Tr.oldVersion,Tr.newVersion,Tr)),Ln.then(Tr=>{Sn&&Tr.addEventListener("close",()=>Sn()),wn&&Tr.addEventListener("versionchange",Ai=>wn(Ai.oldVersion,Ai.newVersion,Ai))}).catch(()=>{}),Ln}(U,pe,{upgrade:(nt,Ke)=>{if(0===Ke)try{nt.createObjectStore(Be)}catch(bt){console.warn(bt)}}}).catch(nt=>{throw $e.create("idb-open",{originalErrorMessage:nt.message})})),Tt}function Xt(){return(Xt=(0,g.Z)(function*(nt){try{const bt=(yield Ot()).transaction(Be),en=yield bt.objectStore(Be).get(Ne(nt));return yield bt.done,en}catch(Ke){if(Ke instanceof be.ZR)cn.warn(Ke.message);else{const bt=$e.create("idb-get",{originalErrorMessage:Ke?.message});cn.warn(bt.message)}}})).apply(this,arguments)}function ln(nt,Ke){return qn.apply(this,arguments)}function qn(){return(qn=(0,g.Z)(function*(nt,Ke){try{const en=(yield Ot()).transaction(Be,"readwrite");yield en.objectStore(Be).put(Ke,Ne(nt)),yield en.done}catch(bt){if(bt instanceof be.ZR)cn.warn(bt.message);else{const en=$e.create("idb-set",{originalErrorMessage:bt?.message});cn.warn(en.message)}}})).apply(this,arguments)}function Ne(nt){return`${nt.name}!${nt.options.appId}`}class Dt{constructor(Ke){this.container=Ke,this._heartbeatsCache=null;const bt=this.container.getProvider("app").getImmediate();this._storage=new Qt(bt),this._heartbeatsCachePromise=this._storage.read().then(en=>(this._heartbeatsCache=en,en))}triggerHeartbeat(){var Ke=this;return(0,g.Z)(function*(){var bt,en;const Sn=Ke.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),yn=Ut();if((null!=(null===(bt=Ke._heartbeatsCache)||void 0===bt?void 0:bt.heartbeats)||(Ke._heartbeatsCache=yield Ke._heartbeatsCachePromise,null!=(null===(en=Ke._heartbeatsCache)||void 0===en?void 0:en.heartbeats)))&&Ke._heartbeatsCache.lastSentHeartbeatDate!==yn&&!Ke._heartbeatsCache.heartbeats.some(Ln=>Ln.date===yn))return Ke._heartbeatsCache.heartbeats.push({date:yn,agent:Sn}),Ke._heartbeatsCache.heartbeats=Ke._heartbeatsCache.heartbeats.filter(Ln=>{const Tr=new Date(Ln.date).valueOf();return Date.now()-Tr<=2592e6}),Ke._storage.overwrite(Ke._heartbeatsCache)})()}getHeartbeatsHeader(){var Ke=this;return(0,g.Z)(function*(){var bt;if(null===Ke._heartbeatsCache&&(yield Ke._heartbeatsCachePromise),null==(null===(bt=Ke._heartbeatsCache)||void 0===bt?void 0:bt.heartbeats)||0===Ke._heartbeatsCache.heartbeats.length)return"";const en=Ut(),{heartbeatsToSend:wn,unsentEntries:Sn}=function un(nt,Ke=1024){const bt=[];let en=nt.slice();for(const wn of nt){const Sn=bt.find(yn=>yn.agent===wn.agent);if(Sn){if(Sn.dates.push(wn.date),ar(bt)>Ke){Sn.dates.pop();break}}else if(bt.push({agent:wn.agent,dates:[wn.date]}),ar(bt)>Ke){bt.pop();break}en=en.slice(1)}return{heartbeatsToSend:bt,unsentEntries:en}}(Ke._heartbeatsCache.heartbeats),yn=(0,be.L)(JSON.stringify({version:2,heartbeats:wn}));return Ke._heartbeatsCache.lastSentHeartbeatDate=en,Sn.length>0?(Ke._heartbeatsCache.heartbeats=Sn,yield Ke._storage.overwrite(Ke._heartbeatsCache)):(Ke._heartbeatsCache.heartbeats=[],Ke._storage.overwrite(Ke._heartbeatsCache)),yn})()}}function Ut(){return(new Date).toISOString().substring(0,10)}class Qt{constructor(Ke){this.app=Ke,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,be.hl)()&&(0,be.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ke=this;return(0,g.Z)(function*(){if(yield Ke._canUseIndexedDBPromise){const en=yield function sn(nt){return Xt.apply(this,arguments)}(Ke.app);return en?.heartbeats?en:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Ke){var bt=this;return(0,g.Z)(function*(){var en;if(yield bt._canUseIndexedDBPromise){const Sn=yield bt.read();return ln(bt.app,{lastSentHeartbeatDate:null!==(en=Ke.lastSentHeartbeatDate)&&void 0!==en?en:Sn.lastSentHeartbeatDate,heartbeats:Ke.heartbeats})}})()}add(Ke){var bt=this;return(0,g.Z)(function*(){var en;if(yield bt._canUseIndexedDBPromise){const Sn=yield bt.read();return ln(bt.app,{lastSentHeartbeatDate:null!==(en=Ke.lastSentHeartbeatDate)&&void 0!==en?en:Sn.lastSentHeartbeatDate,heartbeats:[...Sn.heartbeats,...Ke.heartbeats]})}})()}}function ar(nt){return(0,be.L)(JSON.stringify({version:2,heartbeats:nt})).length}!function dn(nt){pi(new u.wA("platform-logger",Ke=>new an(Ke),"PRIVATE")),pi(new u.wA("heartbeat",Ke=>new Dt(Ke),"PRIVATE")),re(xt,Wt,nt),re(xt,Wt,"esm2017"),re("fire-js","")}("")},4537:(Jt,Ye,B)=>{B.d(Ye,{H0:()=>De,wA:()=>G});var g=B(5861),u=B(9058);class G{constructor(te,oe,ye){this.name=te,this.instanceFactory=oe,this.type=ye,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const be="[DEFAULT]";class me{constructor(te,oe){this.name=te,this.container=oe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const oe=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(oe)){const ye=new u.BH;if(this.instancesDeferred.set(oe,ye),this.isInitialized(oe)||this.shouldAutoInitialize())try{const st=this.getOrInitializeService({instanceIdentifier:oe});st&&ye.resolve(st)}catch{}}return this.instancesDeferred.get(oe).promise}getImmediate(te){var oe;const ye=this.normalizeInstanceIdentifier(te?.identifier),st=null!==(oe=te?.optional)&&void 0!==oe&&oe;if(!this.isInitialized(ye)&&!this.shouldAutoInitialize()){if(st)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ye})}catch(rt){if(st)return null;throw rt}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function Se(We){return"EAGER"===We.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:be})}catch{}for(const[oe,ye]of this.instancesDeferred.entries()){const st=this.normalizeInstanceIdentifier(oe);try{const rt=this.getOrInitializeService({instanceIdentifier:st});ye.resolve(rt)}catch{}}}}clearInstance(te=be){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,g.Z)(function*(){const oe=Array.from(te.instances.values());yield Promise.all([...oe.filter(ye=>"INTERNAL"in ye).map(ye=>ye.INTERNAL.delete()),...oe.filter(ye=>"_delete"in ye).map(ye=>ye._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=be){return this.instances.has(te)}getOptions(te=be){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:oe={}}=te,ye=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(ye))throw Error(`${this.name}(${ye}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const st=this.getOrInitializeService({instanceIdentifier:ye,options:oe});for(const[rt,mt]of this.instancesDeferred.entries())ye===this.normalizeInstanceIdentifier(rt)&&mt.resolve(st);return st}onInit(te,oe){var ye;const st=this.normalizeInstanceIdentifier(oe),rt=null!==(ye=this.onInitCallbacks.get(st))&&void 0!==ye?ye:new Set;rt.add(te),this.onInitCallbacks.set(st,rt);const mt=this.instances.get(st);return mt&&te(mt,st),()=>{rt.delete(te)}}invokeOnInitCallbacks(te,oe){const ye=this.onInitCallbacks.get(oe);if(ye)for(const st of ye)try{st(te,oe)}catch{}}getOrInitializeService({instanceIdentifier:te,options:oe={}}){let ye=this.instances.get(te);if(!ye&&this.component&&(ye=this.component.instanceFactory(this.container,{instanceIdentifier:(We=te,We===be?void 0:We),options:oe}),this.instances.set(te,ye),this.instancesOptions.set(te,oe),this.invokeOnInitCallbacks(ye,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,ye)}catch{}var We;return ye||null}normalizeInstanceIdentifier(te=be){return this.component?this.component.multipleInstances?te:be:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class De{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const oe=this.getProvider(te.name);if(oe.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);oe.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const oe=new me(te,this);return this.providers.set(te,oe),oe}getProviders(){return Array.from(this.providers.values())}}},7879:(Jt,Ye,B)=>{B.d(Ye,{Am:()=>We,Ub:()=>De,Yd:()=>Se,in:()=>u});const g=[];var u=function(te){return te[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",te}(u||{});const G={debug:u.DEBUG,verbose:u.VERBOSE,info:u.INFO,warn:u.WARN,error:u.ERROR,silent:u.SILENT},be=u.INFO,me={[u.DEBUG]:"log",[u.VERBOSE]:"log",[u.INFO]:"info",[u.WARN]:"warn",[u.ERROR]:"error"},Ae=(te,oe,...ye)=>{if(oe<te.logLevel)return;const st=(new Date).toISOString(),rt=me[oe];if(!rt)throw new Error(`Attempted to log a message with an invalid logType (value: ${oe})`);console[rt](`[${st}]  ${te.name}:`,...ye)};class Se{constructor(oe){this.name=oe,this._logLevel=be,this._logHandler=Ae,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(oe){if(!(oe in u))throw new TypeError(`Invalid value "${oe}" assigned to \`logLevel\``);this._logLevel=oe}setLogLevel(oe){this._logLevel="string"==typeof oe?G[oe]:oe}get logHandler(){return this._logHandler}set logHandler(oe){if("function"!=typeof oe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=oe}get userLogHandler(){return this._userLogHandler}set userLogHandler(oe){this._userLogHandler=oe}debug(...oe){this._userLogHandler&&this._userLogHandler(this,u.DEBUG,...oe),this._logHandler(this,u.DEBUG,...oe)}log(...oe){this._userLogHandler&&this._userLogHandler(this,u.VERBOSE,...oe),this._logHandler(this,u.VERBOSE,...oe)}info(...oe){this._userLogHandler&&this._userLogHandler(this,u.INFO,...oe),this._logHandler(this,u.INFO,...oe)}warn(...oe){this._userLogHandler&&this._userLogHandler(this,u.WARN,...oe),this._logHandler(this,u.WARN,...oe)}error(...oe){this._userLogHandler&&this._userLogHandler(this,u.ERROR,...oe),this._logHandler(this,u.ERROR,...oe)}}function De(te){g.forEach(oe=>{oe.setLogLevel(te)})}function We(te,oe){for(const ye of g){let st=null;oe&&oe.level&&(st=G[oe.level]),ye.userLogHandler=null===te?null:(rt,mt,...ft)=>{const wt=ft.map(Et=>{if(null==Et)return null;if("string"==typeof Et)return Et;if("number"==typeof Et||"boolean"==typeof Et)return Et.toString();if(Et instanceof Error)return Et.message;try{return JSON.stringify(Et)}catch{return null}}).filter(Et=>Et).join(" ");mt>=(st??rt.logLevel)&&te({level:u[mt].toLowerCase(),message:wt,args:ft,type:rt.name})}}}},3182:(Jt,Ye,B)=>{B.d(Ye,{C6:()=>g.getApps,KN:()=>g.registerVersion,Mq:()=>g.getApp,ZF:()=>g.initializeApp});var g=B(534);(0,g.registerVersion)("firebase","10.12.2","app")},7142:(Jt,Ye,B)=>{B.d(Ye,{Z:()=>g.Z});var g=B(3106);g.Z.registerVersion("firebase","10.12.2","app-compat")},6365:(Jt,Ye,B)=>{B.r(Ye);var g=B(5861),u=B(3106),G=B(35),be=B(9058),Se=(B(534),B(7879),B(4537));function De(){return window}function oe(){return oe=(0,g.Z)(function*(W,$,U){var pe;const{BuildInfo:Be}=De();(0,G.au)($.sessionId,"AuthEvent did not contain a session ID");const Tt=yield function Et(W){return nn.apply(this,arguments)}($.sessionId),Ot={};return(0,G.av)()?Ot.ibi=Be.packageName:(0,G.aw)()?Ot.apn=Be.packageName:(0,G.ax)(W,"operation-not-supported-in-this-environment"),Be.displayName&&(Ot.appDisplayName=Be.displayName),Ot.sessionId=Tt,(0,G.ay)(W,U,$.type,void 0,null!==(pe=$.eventId)&&void 0!==pe?pe:void 0,Ot)}),oe.apply(this,arguments)}function st(){return(st=(0,g.Z)(function*(W){const{BuildInfo:$}=De(),U={};(0,G.av)()?U.iosBundleId=$.packageName:(0,G.aw)()?U.androidPackageName=$.packageName:(0,G.ax)(W,"operation-not-supported-in-this-environment"),yield(0,G.az)(W,U)})).apply(this,arguments)}function ft(){return(ft=(0,g.Z)(function*(W,$,U){const{cordova:pe}=De();let Be=()=>{};try{yield new Promise((Tt,Ot)=>{let sn=null;function Xt(){var Ne;Tt();const we=null===(Ne=pe.plugins.browsertab)||void 0===Ne?void 0:Ne.close;"function"==typeof we&&we(),"function"==typeof U?.close&&U.close()}function ln(){sn||(sn=window.setTimeout(()=>{Ot((0,G.aB)(W,"redirect-cancelled-by-user"))},2e3))}function qn(){"visible"===document?.visibilityState&&ln()}$.addPassiveListener(Xt),document.addEventListener("resume",ln,!1),(0,G.aw)()&&document.addEventListener("visibilitychange",qn,!1),Be=()=>{$.removePassiveListener(Xt),document.removeEventListener("resume",ln,!1),document.removeEventListener("visibilitychange",qn,!1),sn&&window.clearTimeout(sn)}})}finally{Be()}})).apply(this,arguments)}function nn(){return(nn=(0,g.Z)(function*(W){const $=function qe(W){if((0,G.au)(/[0-9a-zA-Z]+/.test(W),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(W);const $=new ArrayBuffer(W.length),U=new Uint8Array($);for(let pe=0;pe<W.length;pe++)U[pe]=W.charCodeAt(pe);return U}(W),U=yield crypto.subtle.digest("SHA-256",$);return Array.from(new Uint8Array(U)).map(Be=>Be.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class it extends G.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise($=>{this.resolveInialized=$})}addPassiveListener($){this.passiveListeners.add($)}removePassiveListener($){this.passiveListeners.delete($)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent($){return this.resolveInialized(),this.passiveListeners.forEach(U=>U($)),super.onEvent($)}initialized(){var $=this;return(0,g.Z)(function*(){yield $.initPromise})()}}function At(W){return kt.apply(this,arguments)}function kt(){return(kt=(0,g.Z)(function*(W){const $=yield an()._get(hr(W));return $&&(yield an()._remove(hr(W))),$})).apply(this,arguments)}function jt(){const W=[];for(let U=0;U<20;U++){const pe=Math.floor(62*Math.random());W.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(pe))}return W.join("")}function an(){return(0,G.aE)(G.b)}function hr(W){return(0,G.aF)("authEvent",W.config.apiKey,W.name)}function cn(W){if(!W?.includes("?"))return{};const[$,...U]=W.split("?");return(0,be.zd)(U.join("?"))}const fe=class Re{constructor(){this._redirectPersistence=G.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=G.aG,this._overrideRedirectResult=G.aH}_initialize($){var U=this;return(0,g.Z)(function*(){const pe=$._key();let Be=U.eventManagers.get(pe);return Be||(Be=new it($),U.eventManagers.set(pe,Be),U.attachCallbackListeners($,Be)),Be})()}_openPopup($){(0,G.ax)($,"operation-not-supported-in-this-environment")}_openRedirect($,U,pe,Be){var Tt=this;return(0,g.Z)(function*(){!function wt(W){var $,U,pe,Be,Tt,Ot,sn,Xt,ln,qn;const Ne=De();(0,G.aC)("function"==typeof(null===($=Ne?.universalLinks)||void 0===$?void 0:$.subscribe),W,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,G.aC)(typeof(null===(U=Ne?.BuildInfo)||void 0===U?void 0:U.packageName)<"u",W,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,G.aC)("function"==typeof(null===(Tt=null===(Be=null===(pe=Ne?.cordova)||void 0===pe?void 0:pe.plugins)||void 0===Be?void 0:Be.browsertab)||void 0===Tt?void 0:Tt.openUrl),W,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,G.aC)("function"==typeof(null===(Xt=null===(sn=null===(Ot=Ne?.cordova)||void 0===Ot?void 0:Ot.plugins)||void 0===sn?void 0:sn.browsertab)||void 0===Xt?void 0:Xt.isAvailable),W,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,G.aC)("function"==typeof(null===(qn=null===(ln=Ne?.cordova)||void 0===ln?void 0:ln.InAppBrowser)||void 0===qn?void 0:qn.open),W,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}($);const Ot=yield Tt._initialize($);yield Ot.initialized(),Ot.resetRedirect(),(0,G.aI)(),yield Tt._originValidation($);const sn=function He(W,$,U=null){return{type:$,eventId:U,urlResponse:null,sessionId:jt(),postBody:null,tenantId:W.tenantId,error:(0,G.aB)(W,"no-auth-event")}}($,pe,Be);yield function ct(W,$){return an()._set(hr(W),$)}($,sn);const Xt=yield function te(W,$,U){return oe.apply(this,arguments)}($,sn,U),ln=yield function rt(W){const{cordova:$}=De();return new Promise(U=>{$.plugins.browsertab.isAvailable(pe=>{let Be=null;pe?$.plugins.browsertab.openUrl(W):Be=$.InAppBrowser.open(W,(0,G.aA)()?"_blank":"_system","location=yes"),U(Be)})})}(Xt);return function mt(W,$,U){return ft.apply(this,arguments)}($,Ot,ln)})()}_isIframeWebStorageSupported($,U){throw new Error("Method not implemented.")}_originValidation($){const U=$._key();return this.originValidationPromises[U]||(this.originValidationPromises[U]=function ye(W){return st.apply(this,arguments)}($)),this.originValidationPromises[U]}attachCallbackListeners($,U){const{universalLinks:pe,handleOpenURL:Be,BuildInfo:Tt}=De(),Ot=setTimeout((0,g.Z)(function*(){yield At($),U.onEvent(ke())}),500),sn=function(){var qn=(0,g.Z)(function*(Ne){clearTimeout(Ot);const we=yield At($);let Le=null;we&&Ne?.url&&(Le=function ve(W,$){var U,pe;const Be=function Wt(W){const $=cn(W),U=$.link?decodeURIComponent($.link):void 0,pe=cn(U).link,Be=$.deep_link_id?decodeURIComponent($.deep_link_id):void 0;return cn(Be).link||Be||pe||U||W}($);if(Be.includes("/__/auth/callback")){const Tt=cn(Be),Ot=Tt.firebaseError?function xt(W){try{return JSON.parse(W)}catch{return null}}(decodeURIComponent(Tt.firebaseError)):null,sn=null===(pe=null===(U=Ot?.code)||void 0===U?void 0:U.split("auth/"))||void 0===pe?void 0:pe[1],Xt=sn?(0,G.aB)(sn):null;return Xt?{type:W.type,eventId:W.eventId,tenantId:W.tenantId,error:Xt,urlResponse:null,sessionId:null,postBody:null}:{type:W.type,eventId:W.eventId,tenantId:W.tenantId,sessionId:W.sessionId,urlResponse:Be,postBody:null}}return null}(we,Ne.url)),U.onEvent(Le||ke())});return function(we){return qn.apply(this,arguments)}}();typeof pe<"u"&&"function"==typeof pe.subscribe&&pe.subscribe(null,sn);const Xt=Be,ln=`${Tt.packageName.toLowerCase()}://`;De().handleOpenURL=function(){var qn=(0,g.Z)(function*(Ne){if(Ne.toLowerCase().startsWith(ln)&&sn({url:Ne}),"function"==typeof Xt)try{Xt(Ne)}catch(we){console.error(we)}});return function(Ne){return qn.apply(this,arguments)}}()}};function ke(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,G.aB)("no-auth-event")}}function Gt(){var W;return(null===(W=self?.location)||void 0===W?void 0:W.protocol)||null}function qt(W=(0,be.z$)()){return!("file:"!==Gt()&&"ionic:"!==Gt()&&"capacitor:"!==Gt()||!W.toLowerCase().match(/iphone|ipad|ipod|android/))}function Kt(){try{const W=self.localStorage,$=G.aN();if(W)return W.setItem($,"1"),W.removeItem($),!function Mn(W=(0,be.z$)()){return function er(){return(0,be.w1)()&&11===document?.documentMode}()||function Cn(W=(0,be.z$)()){return/Edge\/\d+/.test(W)}(W)}()||(0,be.hl)()}catch{return Dn()&&(0,be.hl)()}return!1}function Dn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function or(){return(function Ht(){return"http:"===Gt()||"https:"===Gt()}()||(0,be.ru)()||qt())&&!function gn(){return(0,be.b$)()||(0,be.UG)()}()&&Kt()&&!Dn()}function Gn(){return qt()&&typeof document<"u"}function Lr(){return(Lr=(0,g.Z)(function*(){return!!Gn()&&new Promise(W=>{const $=setTimeout(()=>{W(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout($),W(!0)})})})).apply(this,arguments)}const Ar={LOCAL:"local",NONE:"none",SESSION:"session"},Yn=G.aC,Vt="persistence";function Rn(W){return On.apply(this,arguments)}function On(){return(On=(0,g.Z)(function*(W){yield W._initializationPromise;const $=vr(),U=G.aF(Vt,W.config.apiKey,W.name);$&&$.setItem(U,W._getPersistence())})).apply(this,arguments)}function vr(){var W;try{return(null===(W=function In(){return typeof window<"u"?window:null}())||void 0===W?void 0:W.sessionStorage)||null}catch{return null}}const Fn=G.aC;class Hn{constructor(){this.browserResolver=G.aE(G.k),this.cordovaResolver=G.aE(fe),this.underlyingResolver=null,this._redirectPersistence=G.a,this._completeRedirectFn=G.aG,this._overrideRedirectResult=G.aH}_initialize($){var U=this;return(0,g.Z)(function*(){return yield U.selectUnderlyingResolver(),U.assertedUnderlyingResolver._initialize($)})()}_openPopup($,U,pe,Be){var Tt=this;return(0,g.Z)(function*(){return yield Tt.selectUnderlyingResolver(),Tt.assertedUnderlyingResolver._openPopup($,U,pe,Be)})()}_openRedirect($,U,pe,Be){var Tt=this;return(0,g.Z)(function*(){return yield Tt.selectUnderlyingResolver(),Tt.assertedUnderlyingResolver._openRedirect($,U,pe,Be)})()}_isIframeWebStorageSupported($,U){this.assertedUnderlyingResolver._isIframeWebStorageSupported($,U)}_originValidation($){return this.assertedUnderlyingResolver._originValidation($)}get _shouldInitProactively(){return Gn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Fn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var $=this;return(0,g.Z)(function*(){if($.underlyingResolver)return;const U=yield function Lt(){return Lr.apply(this,arguments)}();$.underlyingResolver=U?$.cordovaResolver:$.browserResolver})()}}function $r(W){return W.unwrap()}function rn(W){return tr(W)}function tr(W){const{_tokenResponse:$}=W instanceof be.ZR?W.customData:W;if(!$)return null;if(!(W instanceof be.ZR)&&"temporaryProof"in $&&"phoneNumber"in $)return G.P.credentialFromResult(W);const U=$.providerId;if(!U||U===G.p.PASSWORD)return null;let pe;switch(U){case G.p.GOOGLE:pe=G.X;break;case G.p.FACEBOOK:pe=G.W;break;case G.p.GITHUB:pe=G.Y;break;case G.p.TWITTER:pe=G.$;break;default:const{oauthIdToken:Be,oauthAccessToken:Tt,oauthTokenSecret:Ot,pendingToken:sn,nonce:Xt}=$;return Tt||Ot||Be||sn?sn?U.startsWith("saml.")?G.aQ._create(U,sn):G.N._fromParams({providerId:U,signInMethod:U,pendingToken:sn,idToken:Be,accessToken:Tt}):new G.Z(U).credential({idToken:Be,accessToken:Tt,rawNonce:Xt}):null}return W instanceof be.ZR?pe.credentialFromError(W):pe.credentialFromResult(W)}function Dr(W,$){return $.catch(U=>{throw U instanceof be.ZR&&function gi(W,$){var U;const pe=null===(U=$.customData)||void 0===U?void 0:U._tokenResponse;if("auth/multi-factor-auth-required"===$?.code)$.resolver=new $e(W,G.as(W,$));else if(pe){const Be=tr($),Tt=$;Be&&(Tt.credential=Be,Tt.tenantId=pe.tenantId||void 0,Tt.email=pe.email||void 0,Tt.phoneNumber=pe.phoneNumber||void 0)}}(W,U),U}).then(U=>{const Be=U.user;return{operationType:U.operationType,credential:rn(U),additionalUserInfo:G.aq(U),user:vt.getOrCreate(Be)}})}function br(W,$){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,g.Z)(function*(W,$){const U=yield $;return{verificationId:U.verificationId,confirm:pe=>Dr(W,U.confirm(pe))}})).apply(this,arguments)}class $e{constructor($,U){this.resolver=U,this.auth=function pi(W){return W.wrapped()}($)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn($){return Dr($r(this.auth),this.resolver.resolveSignIn($))}}class vt{constructor($){this._delegate=$,this.multiFactor=G.at($)}static getOrCreate($){return vt.USER_MAP.has($)||vt.USER_MAP.set($,new vt($)),vt.USER_MAP.get($)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult($){return this._delegate.getIdTokenResult($)}getIdToken($){return this._delegate.getIdToken($)}linkAndRetrieveDataWithCredential($){return this.linkWithCredential($)}linkWithCredential($){var U=this;return(0,g.Z)(function*(){return Dr(U.auth,G.a2(U._delegate,$))})()}linkWithPhoneNumber($,U){var pe=this;return(0,g.Z)(function*(){return br(pe.auth,G.l(pe._delegate,$,U))})()}linkWithPopup($){var U=this;return(0,g.Z)(function*(){return Dr(U.auth,G.d(U._delegate,$,Hn))})()}linkWithRedirect($){var U=this;return(0,g.Z)(function*(){return yield Rn(G.aJ(U.auth)),G.g(U._delegate,$,Hn)})()}reauthenticateAndRetrieveDataWithCredential($){return this.reauthenticateWithCredential($)}reauthenticateWithCredential($){var U=this;return(0,g.Z)(function*(){return Dr(U.auth,G.a3(U._delegate,$))})()}reauthenticateWithPhoneNumber($,U){return br(this.auth,G.r(this._delegate,$,U))}reauthenticateWithPopup($){return Dr(this.auth,G.e(this._delegate,$,Hn))}reauthenticateWithRedirect($){var U=this;return(0,g.Z)(function*(){return yield Rn(G.aJ(U.auth)),G.h(U._delegate,$,Hn)})()}sendEmailVerification($){return G.ag(this._delegate,$)}unlink($){var U=this;return(0,g.Z)(function*(){return yield G.ap(U._delegate,$),U})()}updateEmail($){return G.al(this._delegate,$)}updatePassword($){return G.am(this._delegate,$)}updatePhoneNumber($){return G.u(this._delegate,$)}updateProfile($){return G.ak(this._delegate,$)}verifyBeforeUpdateEmail($,U){return G.ah(this._delegate,$,U)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}vt.USER_MAP=new WeakMap;const ae=G.aC;let Te=(()=>{class W{constructor(U,pe){if(this.app=U,pe.isInitialized())return this._delegate=pe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Be}=U.options;ae(Be,"invalid-api-key",{appName:U.name}),ae(Be,"invalid-api-key",{appName:U.name});const Tt=typeof window<"u"?Hn:void 0;this._delegate=pe.initialize({options:{persistence:zt(Be,U.name),popupRedirectResolver:Tt}}),this._delegate._updateErrorMap(G.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?vt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(U){this._delegate.languageCode=U}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(U){this._delegate.tenantId=U}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(U,pe){G.K(this._delegate,U,pe)}applyActionCode(U){return G.a7(this._delegate,U)}checkActionCode(U){return G.a8(this._delegate,U)}confirmPasswordReset(U,pe){return G.a6(this._delegate,U,pe)}createUserWithEmailAndPassword(U,pe){var Be=this;return(0,g.Z)(function*(){return Dr(Be._delegate,G.aa(Be._delegate,U,pe))})()}fetchProvidersForEmail(U){return this.fetchSignInMethodsForEmail(U)}fetchSignInMethodsForEmail(U){return G.af(this._delegate,U)}isSignInWithEmailLink(U){return G.ad(this._delegate,U)}getRedirectResult(){var U=this;return(0,g.Z)(function*(){ae(or(),U._delegate,"operation-not-supported-in-this-environment");const pe=yield G.j(U._delegate,Hn);return pe?Dr(U._delegate,Promise.resolve(pe)):{credential:null,user:null}})()}addFrameworkForLogging(U){!function Je(W,$){(0,G.aJ)(W)._logFramework($)}(this._delegate,U)}onAuthStateChanged(U,pe,Be){const{next:Tt,error:Ot,complete:sn}=yt(U,pe,Be);return this._delegate.onAuthStateChanged(Tt,Ot,sn)}onIdTokenChanged(U,pe,Be){const{next:Tt,error:Ot,complete:sn}=yt(U,pe,Be);return this._delegate.onIdTokenChanged(Tt,Ot,sn)}sendSignInLinkToEmail(U,pe){return G.ac(this._delegate,U,pe)}sendPasswordResetEmail(U,pe){return G.a5(this._delegate,U,pe||void 0)}setPersistence(U){var pe=this;return(0,g.Z)(function*(){let Be;switch(function bn(W,$){Yn(Object.values(Ar).includes($),W,"invalid-persistence-type"),(0,be.b$)()?Yn($!==Ar.SESSION,W,"unsupported-persistence-type"):(0,be.UG)()?Yn($===Ar.NONE,W,"unsupported-persistence-type"):Dn()?Yn($===Ar.NONE||$===Ar.LOCAL&&(0,be.hl)(),W,"unsupported-persistence-type"):Yn($===Ar.NONE||Kt(),W,"unsupported-persistence-type")}(pe._delegate,U),U){case Ar.SESSION:Be=G.a;break;case Ar.LOCAL:Be=(yield G.aE(G.i)._isAvailable())?G.i:G.b;break;case Ar.NONE:Be=G.U;break;default:return G.ax("argument-error",{appName:pe._delegate.name})}return pe._delegate.setPersistence(Be)})()}signInAndRetrieveDataWithCredential(U){return this.signInWithCredential(U)}signInAnonymously(){return Dr(this._delegate,G.a0(this._delegate))}signInWithCredential(U){return Dr(this._delegate,G.a1(this._delegate,U))}signInWithCustomToken(U){return Dr(this._delegate,G.a4(this._delegate,U))}signInWithEmailAndPassword(U,pe){return Dr(this._delegate,G.ab(this._delegate,U,pe))}signInWithEmailLink(U,pe){return Dr(this._delegate,G.ae(this._delegate,U,pe))}signInWithPhoneNumber(U,pe){return br(this._delegate,G.s(this._delegate,U,pe))}signInWithPopup(U){var pe=this;return(0,g.Z)(function*(){return ae(or(),pe._delegate,"operation-not-supported-in-this-environment"),Dr(pe._delegate,G.c(pe._delegate,U,Hn))})()}signInWithRedirect(U){var pe=this;return(0,g.Z)(function*(){return ae(or(),pe._delegate,"operation-not-supported-in-this-environment"),yield Rn(pe._delegate),G.f(pe._delegate,U,Hn)})()}updateCurrentUser(U){return this._delegate.updateCurrentUser(U)}verifyPasswordResetCode(U){return G.a9(this._delegate,U)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return W.Persistence=Ar,W})();function yt(W,$,U){let pe=W;"function"!=typeof W&&({next:pe,error:$,complete:U}=W);const Be=pe;return{next:Ot=>Be(Ot&&vt.getOrCreate(Ot)),error:$,complete:U}}function zt(W,$){const U=function yr(W,$){const U=vr();if(!U)return[];const pe=G.aF(Vt,W,$);switch(U.getItem(pe)){case Ar.NONE:return[G.U];case Ar.LOCAL:return[G.i,G.a];case Ar.SESSION:return[G.a];default:return[]}}(W,$);if(typeof self<"u"&&!U.includes(G.i)&&U.push(G.i),typeof window<"u")for(const pe of[G.b,G.a])U.includes(pe)||U.push(pe);return U.includes(G.U)||U.push(G.U),U}class Nn{constructor(){this.providerId="phone",this._delegate=new G.P($r(u.Z.auth()))}static credential($,U){return G.P.credential($,U)}verifyPhoneNumber($,U){return this._delegate.verifyPhoneNumber($,U)}unwrap(){return this._delegate}}Nn.PHONE_SIGN_IN_METHOD=G.P.PHONE_SIGN_IN_METHOD,Nn.PROVIDER_ID=G.P.PROVIDER_ID;const ui=G.aC;class Er{constructor($,U,pe=u.Z.app()){var Be;ui(null===(Be=pe.options)||void 0===Be?void 0:Be.apiKey,"invalid-api-key",{appName:pe.name}),this._delegate=new G.R(pe.auth(),$,U),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function re(W){W.INTERNAL.registerComponent(new Se.wA("auth-compat",$=>{const U=$.getProvider("app-compat").getImmediate(),pe=$.getProvider("auth");return new Te(U,pe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:G.A.EMAIL_SIGNIN,PASSWORD_RESET:G.A.PASSWORD_RESET,RECOVER_EMAIL:G.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:G.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:G.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:G.A.VERIFY_EMAIL}},EmailAuthProvider:G.V,FacebookAuthProvider:G.W,GithubAuthProvider:G.Y,GoogleAuthProvider:G.X,OAuthProvider:G.Z,SAMLAuthProvider:G._,PhoneAuthProvider:Nn,PhoneMultiFactorGenerator:G.m,RecaptchaVerifier:Er,TwitterAuthProvider:G.$,Auth:Te,AuthCredential:G.L,Error:be.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),W.registerVersion("@firebase/auth-compat","0.5.9")}(u.Z)},5861:(Jt,Ye,B)=>{function g(G,be,me,Ae,Se,De,We){try{var te=G[De](We),oe=te.value}catch(ye){return void me(ye)}te.done?be(oe):Promise.resolve(oe).then(Ae,Se)}function u(G){return function(){var be=this,me=arguments;return new Promise(function(Ae,Se){var De=G.apply(be,me);function We(oe){g(De,Ae,Se,We,te,"next",oe)}function te(oe){g(De,Ae,Se,We,te,"throw",oe)}We(void 0)})}}B.d(Ye,{Z:()=>u})},7582:(Jt,Ye,B)=>{function be(fe,ke){var Je={};for(var Xe in fe)Object.prototype.hasOwnProperty.call(fe,Xe)&&ke.indexOf(Xe)<0&&(Je[Xe]=fe[Xe]);if(null!=fe&&"function"==typeof Object.getOwnPropertySymbols){var ut=0;for(Xe=Object.getOwnPropertySymbols(fe);ut<Xe.length;ut++)ke.indexOf(Xe[ut])<0&&Object.prototype.propertyIsEnumerable.call(fe,Xe[ut])&&(Je[Xe[ut]]=fe[Xe[ut]])}return Je}function ye(fe,ke,Je,Xe){return new(Je||(Je=Promise))(function(It,Gt){function Ht(er){try{gn(Xe.next(er))}catch(Cn){Gt(Cn)}}function qt(er){try{gn(Xe.throw(er))}catch(Cn){Gt(Cn)}}function gn(er){er.done?It(er.value):function ut(It){return It instanceof Je?It:new Je(function(Gt){Gt(It)})}(er.value).then(Ht,qt)}gn((Xe=Xe.apply(fe,ke||[])).next())})}function Fe(fe){return this instanceof Fe?(this.v=fe,this):new Fe(fe)}function it(fe,ke,Je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ut,Xe=Je.apply(fe,ke||[]),It=[];return ut={},Gt("next"),Gt("throw"),Gt("return"),ut[Symbol.asyncIterator]=function(){return this},ut;function Gt(Mn){Xe[Mn]&&(ut[Mn]=function(Kt){return new Promise(function(Dn,or){It.push([Mn,Kt,Dn,or])>1||Ht(Mn,Kt)})})}function Ht(Mn,Kt){try{!function qt(Mn){Mn.value instanceof Fe?Promise.resolve(Mn.value.v).then(gn,er):Cn(It[0][2],Mn)}(Xe[Mn](Kt))}catch(Dn){Cn(It[0][3],Dn)}}function gn(Mn){Ht("next",Mn)}function er(Mn){Ht("throw",Mn)}function Cn(Mn,Kt){Mn(Kt),It.shift(),It.length&&Ht(It[0][0],It[0][1])}}function ct(fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Je,ke=fe[Symbol.asyncIterator];return ke?ke.call(fe):(fe=function ft(fe){var ke="function"==typeof Symbol&&Symbol.iterator,Je=ke&&fe[ke],Xe=0;if(Je)return Je.call(fe);if(fe&&"number"==typeof fe.length)return{next:function(){return fe&&Xe>=fe.length&&(fe=void 0),{value:fe&&fe[Xe++],done:!fe}}};throw new TypeError(ke?"Object is not iterable.":"Symbol.iterator is not defined.")}(fe),Je={},Xe("next"),Xe("throw"),Xe("return"),Je[Symbol.asyncIterator]=function(){return this},Je);function Xe(It){Je[It]=fe[It]&&function(Gt){return new Promise(function(Ht,qt){!function ut(It,Gt,Ht,qt){Promise.resolve(qt).then(function(gn){It({value:gn,done:Ht})},Gt)}(Ht,qt,(Gt=fe[It](Gt)).done,Gt.value)})}}}B.d(Ye,{FC:()=>it,KL:()=>ct,_T:()=>be,mG:()=>ye,qq:()=>Fe}),"function"==typeof SuppressedError&&SuppressedError}},Jt=>{Jt(Jt.s=3935)}]);