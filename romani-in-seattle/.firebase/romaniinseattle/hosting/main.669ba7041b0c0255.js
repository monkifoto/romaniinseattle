"use strict";(self.webpackChunkromani_in_seattle=self.webpackChunkromani_in_seattle||[]).push([[179],{35:(Qt,We,H)=>{H.d(We,{$:()=>nr,A:()=>ve,G:()=>Je,K:()=>cs,L:()=>Si,N:()=>_i,P:()=>Zf,R:()=>Bl,U:()=>tn,V:()=>lo,W:()=>He,X:()=>St,Y:()=>Vt,Z:()=>De,_:()=>Rn,a:()=>Ot,a0:()=>L,a1:()=>el,a2:()=>uo,a3:()=>Id,a4:()=>wu,a5:()=>nl,a6:()=>gc,a7:()=>sa,a8:()=>mc,a9:()=>rl,aA:()=>gr,aB:()=>rt,aC:()=>ge,aD:()=>Go,aE:()=>yt,aF:()=>nn,aG:()=>jd,aH:()=>bg,aI:()=>Tc,aJ:()=>pr,aN:()=>vc,aQ:()=>gn,aa:()=>Mh,ab:()=>bd,ac:()=>qa,ad:()=>Ll,ae:()=>Wa,af:()=>P,ag:()=>j,ah:()=>we,ak:()=>wr,al:()=>Fr,am:()=>dr,ap:()=>ts,aq:()=>ca,as:()=>Cd,at:()=>Rh,au:()=>Ht,av:()=>ki,aw:()=>Ei,ax:()=>ze,ay:()=>tc,az:()=>Hd,b:()=>Ho,c:()=>Eg,d:()=>Ig,e:()=>Gl,f:()=>Ja,g:()=>Lh,h:()=>Bd,i:()=>qr,j:()=>Tg,k:()=>ep,l:()=>Da,m:()=>Gh,p:()=>Ae,r:()=>Od,s:()=>Oh,u:()=>Qa});var g=H(5861),u=H(4303),W=H(9058),Ie=H(7879),Ee=H(7582),Pe=H(4537);const Ae={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ve={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Je=function Oe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Dt=function pt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},mt=new W.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_t=new Ie.Yd("@firebase/auth");function Ze(C,..._){_t.logLevel<=Ie.in.ERROR&&_t.error(`Auth (${u.SDK_VERSION}): ${C}`,..._)}function ze(C,..._){throw Ye(C,..._)}function rt(C,..._){return Ye(C,..._)}function $e(C,_,v){const M=Object.assign(Object.assign({},Dt()),{[_]:v});return new W.LL("auth","Firebase",M).create(_,{appName:C.name})}function it(C){return $e(C,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ct(C,_,v){if(!(_ instanceof v))throw v.name!==_.constructor.name&&ze(C,"argument-error"),$e(C,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ye(C,..._){if("string"!=typeof C){const v=_[0],M=[..._.slice(1)];return M[0]&&(M[0].appName=C.name),C._errorFactory.create(v,...M)}return mt.create(C,..._)}function ge(C,_,...v){if(!C)throw Ye(_,...v)}function Et(C){const _="INTERNAL ASSERTION FAILED: "+C;throw Ze(_),new Error(_)}function Ht(C,_){C||Et(_)}function zn(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function bt(){return"http:"===Nt()||"https:"===Nt()}function Nt(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Ne{constructor(_,v){this.shortDelay=_,this.longDelay=v,Ht(v>_,"Short delay should be less than long delay!"),this.isMobile=(0,W.uI)()||(0,W.b$)()}get(){return function rn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(bt()||(0,W.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _e(C,_){Ht(C.emulator,"Emulator should always be set here");const{url:v}=C.emulator;return _?`${v}${_.startsWith("/")?_.slice(1):_}`:v}class Ve{static initialize(_,v,M){this.fetchImpl=_,v&&(this.headersImpl=v),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Et("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Et("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Et("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const et={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Xe=new Ne(3e4,6e4);function gt(C,_){return C.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:C.tenantId}):_}function vt(C,_,v,M){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,g.Z)(function*(C,_,v,M,Q={}){return $t(C,Q,(0,g.Z)(function*(){let le={},Be={};M&&("GET"===_?Be=M:le={body:JSON.stringify(M)});const lt=(0,W.xO)(Object.assign({key:C.config.apiKey},Be)).slice(1),Lt=yield C._getAdditionalHeaders();return Lt["Content-Type"]="application/json",C.languageCode&&(Lt["X-Firebase-Locale"]=C.languageCode),Ve.fetch()(pn(C,C.config.apiHost,v,lt),Object.assign({method:_,headers:Lt,referrerPolicy:"no-referrer"},le))}))})).apply(this,arguments)}function $t(C,_,v){return zt.apply(this,arguments)}function zt(){return(zt=(0,g.Z)(function*(C,_,v){C._canInitEmulator=!1;const M=Object.assign(Object.assign({},et),_);try{const Q=new qt(C),le=yield Promise.race([v(),Q.promise]);Q.clearNetworkTimeout();const Be=yield le.json();if("needConfirmation"in Be)throw fn(C,"account-exists-with-different-credential",Be);if(le.ok&&!("errorMessage"in Be))return Be;{const lt=le.ok?Be.errorMessage:Be.error.message,[Lt,Yt]=lt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Lt)throw fn(C,"credential-already-in-use",Be);if("EMAIL_EXISTS"===Lt)throw fn(C,"email-already-in-use",Be);if("USER_DISABLED"===Lt)throw fn(C,"user-disabled",Be);const Vn=M[Lt]||Lt.toLowerCase().replace(/[_\s]+/g,"-");if(Yt)throw $e(C,Vn,Yt);ze(C,Vn)}}catch(Q){if(Q instanceof W.ZR)throw Q;ze(C,"network-request-failed",{message:String(Q)})}})).apply(this,arguments)}function hn(C,_,v,M){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,g.Z)(function*(C,_,v,M,Q={}){const le=yield vt(C,_,v,M,Q);return"mfaPendingCredential"in le&&ze(C,"multi-factor-auth-required",{_serverResponse:le}),le})).apply(this,arguments)}function pn(C,_,v,M){const Q=`${_}${v}?${M}`;return C.config.emulator?_e(C.config,Q):`${C.config.apiScheme}://${Q}`}function Nn(C){switch(C){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qt{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((v,M)=>{this.timer=setTimeout(()=>M(rt(this.auth,"network-request-failed")),Xe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fn(C,_,v){const M={appName:C.name};v.email&&(M.email=v.email),v.phoneNumber&&(M.phoneNumber=v.phoneNumber);const Q=rt(C,_,M);return Q.customData._tokenResponse=v,Q}function Tn(C){return void 0!==C&&void 0!==C.getResponse}function Dn(C){return void 0!==C&&void 0!==C.enterprise}class Kt{constructor(_){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=_.recaptchaEnforcementState}getProviderEnforcementState(_){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===_)return Nn(v.enforcementState);return null}isProviderEnabled(_){return"ENFORCE"===this.getProviderEnforcementState(_)||"AUDIT"===this.getProviderEnforcementState(_)}}function Cn(){return(Cn=(0,g.Z)(function*(C){return(yield vt(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function hr(C,_){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,g.Z)(function*(C,_){return vt(C,"GET","/v2/recaptchaConfig",gt(C,_))})).apply(this,arguments)}function En(){return(En=(0,g.Z)(function*(C,_){return vt(C,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function wn(){return(wn=(0,g.Z)(function*(C,_){return vt(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Nr(C,_){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,g.Z)(function*(C,_){return vt(C,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function qn(C){if(C)try{const _=new Date(Number(C));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function di(){return(di=(0,g.Z)(function*(C,_=!1){const v=(0,W.m9)(C),M=yield v.getIdToken(_),Q=hi(M);ge(Q&&Q.exp&&Q.auth_time&&Q.iat,v.auth,"internal-error");const le="object"==typeof Q.firebase?Q.firebase:void 0,Be=le?.sign_in_provider;return{claims:Q,token:M,authTime:qn(sn(Q.auth_time)),issuedAtTime:qn(sn(Q.iat)),expirationTime:qn(sn(Q.exp)),signInProvider:Be||null,signInSecondFactor:le?.sign_in_second_factor||null}})).apply(this,arguments)}function sn(C){return 1e3*Number(C)}function hi(C){const[_,v,M]=C.split(".");if(void 0===_||void 0===v||void 0===M)return Ze("JWT malformed, contained fewer than 3 sections"),null;try{const Q=(0,W.tV)(v);return Q?JSON.parse(Q):(Ze("Failed to decode base64 JWT payload"),null)}catch(Q){return Ze("Caught error parsing JWT payload as JSON",Q?.toString()),null}}function Qn(C){const _=hi(C);return ge(_,"internal-error"),ge(typeof _.exp<"u","internal-error"),ge(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}function Tr(C,_){return fr.apply(this,arguments)}function fr(){return(fr=(0,g.Z)(function*(C,_,v=!1){if(v)return _;try{return yield _}catch(M){throw M instanceof W.ZR&&function Ur({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}(M)&&C.auth.currentUser===C&&(yield C.auth.signOut()),M}})).apply(this,arguments)}class qe{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var v;if(_){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const Q=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,Q)}}schedule(_=!1){var v=this;if(!this.isRunning)return;const M=this.getInterval(_);this.timerId=setTimeout((0,g.Z)(function*(){yield v.iteration()}),M)}iteration(){var _=this;return(0,g.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&_.schedule(!0))}_.schedule()})()}}class Tt{constructor(_,v){this.createdAt=_,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=qn(this.lastLoginAt),this.creationTime=qn(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function oe(C){return Se.apply(this,arguments)}function Se(){return(Se=(0,g.Z)(function*(C){var _;const v=C.auth,M=yield C.getIdToken(),Q=yield Tr(C,Nr(v,{idToken:M}));ge(Q?.users.length,v,"internal-error");const le=Q.users[0];C._notifyReloadListener(le);const Be=null!==(_=le.providerUserInfo)&&void 0!==_&&_.length?Xr(le.providerUserInfo):[],lt=function Mn(C,_){return[...C.filter(M=>!_.some(Q=>Q.providerId===M.providerId)),..._]}(C.providerData,Be),Vn=!!C.isAnonymous&&!(C.email&&le.passwordHash||lt?.length),yr={uid:le.localId,displayName:le.displayName||null,photoURL:le.photoUrl||null,email:le.email||null,emailVerified:le.emailVerified||!1,phoneNumber:le.phoneNumber||null,tenantId:le.tenantId||null,providerData:lt,metadata:new Tt(le.createdAt,le.lastLoginAt),isAnonymous:Vn};Object.assign(C,yr)})).apply(this,arguments)}function jt(){return(jt=(0,g.Z)(function*(C){const _=(0,W.m9)(C);yield oe(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function Xr(C){return C.map(_=>{var{providerId:v}=_,M=(0,Ee._T)(_,["providerId"]);return{providerId:v,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}function ue(){return(ue=(0,g.Z)(function*(C,_){const v=yield $t(C,{},(0,g.Z)(function*(){const M=(0,W.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:Q,apiKey:le}=C.config,Be=pn(C,Q,"/v1/token",`key=${le}`),lt=yield C._getAdditionalHeaders();return lt["Content-Type"]="application/x-www-form-urlencoded",Ve.fetch()(Be,{method:"POST",headers:lt,body:M})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function $(){return($=(0,g.Z)(function*(C,_){return vt(C,"POST","/v2/accounts:revokeToken",gt(C,_))})).apply(this,arguments)}class B{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){ge(_.idToken,"internal-error"),ge(typeof _.idToken<"u","internal-error"),ge(typeof _.refreshToken<"u","internal-error");const v="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):Qn(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,v)}updateFromIdToken(_){ge(0!==_.length,"internal-error");const v=Qn(_);this.updateTokensAndExpiration(_,null,v)}getToken(_,v=!1){var M=this;return(0,g.Z)(function*(){return v||!M.accessToken||M.isExpired?(ge(M.refreshToken,_,"user-token-expired"),M.refreshToken?(yield M.refresh(_,M.refreshToken),M.accessToken):null):M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,v){var M=this;return(0,g.Z)(function*(){const{accessToken:Q,refreshToken:le,expiresIn:Be}=yield function Ft(C,_){return ue.apply(this,arguments)}(_,v);M.updateTokensAndExpiration(Q,le,Number(Be))})()}updateTokensAndExpiration(_,v,M){this.refreshToken=v||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(_,v){const{refreshToken:M,accessToken:Q,expirationTime:le}=v,Be=new B;return M&&(ge("string"==typeof M,"internal-error",{appName:_}),Be.refreshToken=M),Q&&(ge("string"==typeof Q,"internal-error",{appName:_}),Be.accessToken=Q),le&&(ge("number"==typeof le,"internal-error",{appName:_}),Be.expirationTime=le),Be}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new B,this.toJSON())}_performRefresh(){return Et("not implemented")}}function F(C,_){ge("string"==typeof C||typeof C>"u","internal-error",{appName:_})}class he{constructor(_){var{uid:v,auth:M,stsTokenManager:Q}=_,le=(0,Ee._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=M,this.stsTokenManager=Q,this.accessToken=Q.accessToken,this.displayName=le.displayName||null,this.email=le.email||null,this.emailVerified=le.emailVerified||!1,this.phoneNumber=le.phoneNumber||null,this.photoURL=le.photoURL||null,this.isAnonymous=le.isAnonymous||!1,this.tenantId=le.tenantId||null,this.providerData=le.providerData?[...le.providerData]:[],this.metadata=new Tt(le.createdAt||void 0,le.lastLoginAt||void 0)}getIdToken(_){var v=this;return(0,g.Z)(function*(){const M=yield Tr(v,v.stsTokenManager.getToken(v.auth,_));return ge(M,v.auth,"internal-error"),v.accessToken!==M&&(v.accessToken=M,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),M})()}getIdTokenResult(_){return function Sr(C){return di.apply(this,arguments)}(this,_)}reload(){return function ft(C){return jt.apply(this,arguments)}(this)}_assign(_){this!==_&&(ge(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(v=>Object.assign({},v)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const v=new he(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(_){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,v=!1){var M=this;return(0,g.Z)(function*(){let Q=!1;_.idToken&&_.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(_),Q=!0),v&&(yield oe(M)),yield M.auth._persistUserIfCurrent(M),Q&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var _=this;return(0,g.Z)(function*(){if((0,u._isFirebaseServerApp)(_.auth.app))return Promise.reject(it(_.auth));const v=yield _.getIdToken();return yield Tr(_,function kt(C,_){return En.apply(this,arguments)}(_.auth,{idToken:v})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,v){var M,Q,le,Be,lt,Lt,Yt,Vn;const yr=null!==(M=v.displayName)&&void 0!==M?M:void 0,Ro=null!==(Q=v.email)&&void 0!==Q?Q:void 0,Sc=null!==(le=v.phoneNumber)&&void 0!==le?le:void 0,Mc=null!==(Be=v.photoURL)&&void 0!==Be?Be:void 0,su=null!==(lt=v.tenantId)&&void 0!==lt?lt:void 0,pl=null!==(Lt=v._redirectEventId)&&void 0!==Lt?Lt:void 0,Zh=null!==(Yt=v.createdAt)&&void 0!==Yt?Yt:void 0,gl=null!==(Vn=v.lastLoginAt)&&void 0!==Vn?Vn:void 0,{uid:Pc,emailVerified:Kh,isAnonymous:ip,providerData:Uu,stsTokenManager:Yh}=v;ge(Pc&&Yh,_,"internal-error");const Rc=B.fromJSON(this.name,Yh);ge("string"==typeof Pc,_,"internal-error"),F(yr,_.name),F(Ro,_.name),ge("boolean"==typeof Kh,_,"internal-error"),ge("boolean"==typeof ip,_,"internal-error"),F(Sc,_.name),F(Mc,_.name),F(su,_.name),F(pl,_.name),F(Zh,_.name),F(gl,_.name);const ml=new he({uid:Pc,auth:_,email:Ro,emailVerified:Kh,displayName:yr,isAnonymous:ip,photoURL:Mc,phoneNumber:Sc,tenantId:su,stsTokenManager:Rc,createdAt:Zh,lastLoginAt:gl});return Uu&&Array.isArray(Uu)&&(ml.providerData=Uu.map(Gd=>Object.assign({},Gd))),pl&&(ml._redirectEventId=pl),ml}static _fromIdTokenResponse(_,v,M=!1){return(0,g.Z)(function*(){const Q=new B;Q.updateFromServerResponse(v);const le=new he({uid:v.localId,auth:_,stsTokenManager:Q,isAnonymous:M});return yield oe(le),le})()}static _fromGetAccountInfoResponse(_,v,M){return(0,g.Z)(function*(){const Q=v.users[0];ge(void 0!==Q.localId,"internal-error");const le=void 0!==Q.providerUserInfo?Xr(Q.providerUserInfo):[],Be=!(Q.email&&Q.passwordHash||le?.length),lt=new B;lt.updateFromIdToken(M);const Lt=new he({uid:Q.localId,auth:_,stsTokenManager:lt,isAnonymous:Be}),Yt={uid:Q.localId,displayName:Q.displayName||null,photoURL:Q.photoUrl||null,email:Q.email||null,emailVerified:Q.emailVerified||!1,phoneNumber:Q.phoneNumber||null,tenantId:Q.tenantId||null,providerData:le,metadata:new Tt(Q.createdAt,Q.lastLoginAt),isAnonymous:!(Q.email&&Q.passwordHash||le?.length)};return Object.assign(Lt,Yt),Lt})()}}const Fe=new Map;function yt(C){Ht(C instanceof Function,"Expected a class definition");let _=Fe.get(C);return _?(Ht(_ instanceof C,"Instance stored in cache mismatched with class"),_):(_=new C,Fe.set(C,_),_)}const tn=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(v,M){var Q=this;return(0,g.Z)(function*(){Q.storage[v]=M})()}_get(v){var M=this;return(0,g.Z)(function*(){const Q=M.storage[v];return void 0===Q?null:Q})()}_remove(v){var M=this;return(0,g.Z)(function*(){delete M.storage[v]})()}_addListener(v,M){}_removeListener(v,M){}}return C.type="NONE",C})();function nn(C,_,v){return`firebase:${C}:${_}:${v}`}class an{constructor(_,v,M){this.persistence=_,this.auth=v,this.userKey=M;const{config:Q,name:le}=this.auth;this.fullUserKey=nn(this.userKey,Q.apiKey,le),this.fullPersistenceKey=nn("persistence",Q.apiKey,le),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,g.Z)(function*(){const v=yield _.persistence._get(_.fullUserKey);return v?he._fromJSON(_.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var v=this;return(0,g.Z)(function*(){if(v.persistence===_)return;const M=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=_,M?v.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,v,M="authUser"){return(0,g.Z)(function*(){if(!v.length)return new an(yt(tn),_,M);const Q=(yield Promise.all(v.map(function(){var Yt=(0,g.Z)(function*(Vn){if(yield Vn._isAvailable())return Vn});return function(Vn){return Yt.apply(this,arguments)}}()))).filter(Yt=>Yt);let le=Q[0]||yt(tn);const Be=nn(M,_.config.apiKey,_.name);let lt=null;for(const Yt of v)try{const Vn=yield Yt._get(Be);if(Vn){const yr=he._fromJSON(_,Vn);Yt!==le&&(lt=yr),le=Yt;break}}catch{}const Lt=Q.filter(Yt=>Yt._shouldAllowMigration);return le._shouldAllowMigration&&Lt.length?(le=Lt[0],lt&&(yield le._set(Be,lt.toJSON())),yield Promise.all(v.map(function(){var Yt=(0,g.Z)(function*(Vn){if(Vn!==le)try{yield Vn._remove(Be)}catch{}});return function(Vn){return Yt.apply(this,arguments)}}())),new an(le,_,M)):new an(le,_,M)})()}}function Jn(C){const _=C.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(Io(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(xn(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(oo(_))return"Blackberry";if(_s(_))return"Webos";if(ci(_))return"Safari";if((_.includes("chrome/")||Ds(_))&&!_.includes("edge/"))return"Chrome";if(Ei(_))return"Android";{const M=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===M?.length)return M[1]}return"Other"}function xn(C=(0,W.z$)()){return/firefox\//i.test(C)}function ci(C=(0,W.z$)()){const _=C.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function Ds(C=(0,W.z$)()){return/crios\//i.test(C)}function Io(C=(0,W.z$)()){return/iemobile/i.test(C)}function Ei(C=(0,W.z$)()){return/android/i.test(C)}function oo(C=(0,W.z$)()){return/blackberry/i.test(C)}function _s(C=(0,W.z$)()){return/webos/i.test(C)}function ki(C=(0,W.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function gr(C=(0,W.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function ya(C=(0,W.z$)()){return ki(C)||Ei(C)||_s(C)||oo(C)||/windows phone/i.test(C)||Io(C)}function Fi(C,_=[]){let v;switch(C){case"Browser":v=Jn((0,W.z$)());break;case"Worker":v=`${Jn((0,W.z$)())}-${C}`;break;default:v=C}const M=_.length?_.join(","):"FirebaseCore-web";return`${v}/JsCore/${u.SDK_VERSION}/${M}`}class kr{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,v){const M=le=>new Promise((Be,lt)=>{try{Be(_(le))}catch(Lt){lt(Lt)}});M.onAbort=v,this.queue.push(M);const Q=this.queue.length-1;return()=>{this.queue[Q]=()=>Promise.resolve()}}runMiddleware(_){var v=this;return(0,g.Z)(function*(){if(v.auth.currentUser===_)return;const M=[];try{for(const Q of v.queue)yield Q(_),Q.onAbort&&M.push(Q.onAbort)}catch(Q){M.reverse();for(const le of M)try{le()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:Q?.message})}})()}}function Zr(){return(Zr=(0,g.Z)(function*(C,_={}){return vt(C,"GET","/v2/passwordPolicy",gt(C,_))})).apply(this,arguments)}class ta{constructor(_){var v,M,Q,le;const Be=_.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=Be.minPasswordLength)&&void 0!==v?v:6,Be.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Be.maxPasswordLength),void 0!==Be.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Be.containsLowercaseCharacter),void 0!==Be.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Be.containsUppercaseCharacter),void 0!==Be.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Be.containsNumericCharacter),void 0!==Be.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Be.containsNonAlphanumericCharacter),this.enforcementState=_.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Q=null===(M=_.allowedNonAlphanumericCharacters)||void 0===M?void 0:M.join(""))&&void 0!==Q?Q:"",this.forceUpgradeOnSignin=null!==(le=_.forceUpgradeOnSignin)&&void 0!==le&&le,this.schemaVersion=_.schemaVersion}validatePassword(_){var v,M,Q,le,Be,lt;const Lt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(_,Lt),this.validatePasswordCharacterOptions(_,Lt),Lt.isValid&&(Lt.isValid=null===(v=Lt.meetsMinPasswordLength)||void 0===v||v),Lt.isValid&&(Lt.isValid=null===(M=Lt.meetsMaxPasswordLength)||void 0===M||M),Lt.isValid&&(Lt.isValid=null===(Q=Lt.containsLowercaseLetter)||void 0===Q||Q),Lt.isValid&&(Lt.isValid=null===(le=Lt.containsUppercaseLetter)||void 0===le||le),Lt.isValid&&(Lt.isValid=null===(Be=Lt.containsNumericCharacter)||void 0===Be||Be),Lt.isValid&&(Lt.isValid=null===(lt=Lt.containsNonAlphanumericCharacter)||void 0===lt||lt),Lt}validatePasswordLengthOptions(_,v){const M=this.customStrengthOptions.minPasswordLength,Q=this.customStrengthOptions.maxPasswordLength;M&&(v.meetsMinPasswordLength=_.length>=M),Q&&(v.meetsMaxPasswordLength=_.length<=Q)}validatePasswordCharacterOptions(_,v){let M;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let Q=0;Q<_.length;Q++)M=_.charAt(Q),this.updatePasswordCharacterOptionsStatuses(v,M>="a"&&M<="z",M>="A"&&M<="Z",M>="0"&&M<="9",this.allowedNonAlphanumericCharacters.includes(M))}updatePasswordCharacterOptionsStatuses(_,v,M,Q,le){this.customStrengthOptions.containsLowercaseLetter&&(_.containsLowercaseLetter||(_.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(_.containsUppercaseLetter||(_.containsUppercaseLetter=M)),this.customStrengthOptions.containsNumericCharacter&&(_.containsNumericCharacter||(_.containsNumericCharacter=Q)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(_.containsNonAlphanumericCharacter||(_.containsNonAlphanumericCharacter=le))}}class na{constructor(_,v,M,Q){this.app=_,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=M,this.config=Q,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wi(this),this.idTokenSubscription=new wi(this),this.beforeStateQueue=new kr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=Q.sdkClientVersion}_initializeWithPersistence(_,v){var M=this;return v&&(this._popupRedirectResolver=yt(v)),this._initializationPromise=this.queue((0,g.Z)(function*(){var Q,le;if(!M._deleted&&(M.persistenceManager=yield an.create(M,_),!M._deleted)){if(null!==(Q=M._popupRedirectResolver)&&void 0!==Q&&Q._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(v),M.lastNotifiedUid=(null===(le=M.currentUser)||void 0===le?void 0:le.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,g.Z)(function*(){if(_._deleted)return;const v=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||v){if(_.currentUser&&v&&_.currentUser.uid===v.uid)return _._currentUser._assign(v),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(_){var v=this;return(0,g.Z)(function*(){try{const M=yield Nr(v,{idToken:_}),Q=yield he._fromGetAccountInfoResponse(v,M,_);yield v.directlySetCurrentUser(Q)}catch(M){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",M),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(_){var v=this;return(0,g.Z)(function*(){var M;if((0,u._isFirebaseServerApp)(v.app)){const lt=v.app.settings.authIdToken;return lt?new Promise(Lt=>{setTimeout(()=>v.initializeCurrentUserFromIdToken(lt).then(Lt,Lt))}):v.directlySetCurrentUser(null)}const Q=yield v.assertedPersistence.getCurrentUser();let le=Q,Be=!1;if(_&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const lt=null===(M=v.redirectUser)||void 0===M?void 0:M._redirectEventId,Lt=le?._redirectEventId,Yt=yield v.tryRedirectSignIn(_);(!lt||lt===Lt)&&Yt?.user&&(le=Yt.user,Be=!0)}if(!le)return v.directlySetCurrentUser(null);if(!le._redirectEventId){if(Be)try{yield v.beforeStateQueue.runMiddleware(le)}catch(lt){le=Q,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(lt))}return le?v.reloadAndSetCurrentUserOrClear(le):v.directlySetCurrentUser(null)}return ge(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===le._redirectEventId?v.directlySetCurrentUser(le):v.reloadAndSetCurrentUserOrClear(le)})()}tryRedirectSignIn(_){var v=this;return(0,g.Z)(function*(){let M=null;try{M=yield v._popupRedirectResolver._completeRedirectFn(v,_,!0)}catch{yield v._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(_){var v=this;return(0,g.Z)(function*(){try{yield oe(_)}catch(M){if("auth/network-request-failed"!==M?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function at(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var _=this;return(0,g.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var v=this;return(0,g.Z)(function*(){if((0,u._isFirebaseServerApp)(v.app))return Promise.reject(it(v));const M=_?(0,W.m9)(_):null;return M&&ge(M.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(M&&M._clone(v))})()}_updateCurrentUser(_,v=!1){var M=this;return(0,g.Z)(function*(){if(!M._deleted)return _&&ge(M.tenantId===_.tenantId,M,"tenant-id-mismatch"),v||(yield M.beforeStateQueue.runMiddleware(_)),M.queue((0,g.Z)(function*(){yield M.directlySetCurrentUser(_),M.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,g.Z)(function*(){return(0,u._isFirebaseServerApp)(_.app)?Promise.reject(it(_)):(yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0))})()}setPersistence(_){var v=this;return(0,u._isFirebaseServerApp)(this.app)?Promise.reject(it(this)):this.queue((0,g.Z)(function*(){yield v.assertedPersistence.setPersistence(yt(_))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(_){var v=this;return(0,g.Z)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const M=v._getPasswordPolicyInternal();return M.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):M.validatePassword(_)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var _=this;return(0,g.Z)(function*(){const v=yield function Xo(C){return Zr.apply(this,arguments)}(_),M=new ta(v);null===_.tenantId?_._projectPasswordPolicy=M:_._tenantPasswordPolicies[_.tenantId]=M})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new W.LL("auth","Firebase",_())}onAuthStateChanged(_,v,M){return this.registerStateListener(this.authStateSubscription,_,v,M)}beforeAuthStateChanged(_,v){return this.beforeStateQueue.pushCallback(_,v)}onIdTokenChanged(_,v,M){return this.registerStateListener(this.idTokenSubscription,_,v,M)}authStateReady(){return new Promise((_,v)=>{if(this.currentUser)_();else{const M=this.onAuthStateChanged(()=>{M(),_()},v)}})}revokeAccessToken(_){var v=this;return(0,g.Z)(function*(){if(v.currentUser){const M=yield v.currentUser.getIdToken(),Q={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:_,idToken:M};null!=v.tenantId&&(Q.tenantId=v.tenantId),yield function X(C,_){return $.apply(this,arguments)}(v,Q)}})()}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,v){var M=this;return(0,g.Z)(function*(){const Q=yield M.getOrInitRedirectPersistenceManager(v);return null===_?Q.removeCurrentUser():Q.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var v=this;return(0,g.Z)(function*(){if(!v.redirectPersistenceManager){const M=_&&yt(_)||v._popupRedirectResolver;ge(M,v,"argument-error"),v.redirectPersistenceManager=yield an.create(v,[yt(M._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(_){var v=this;return(0,g.Z)(function*(){var M,Q;return v._isInitialized&&(yield v.queue((0,g.Z)(function*(){}))),(null===(M=v._currentUser)||void 0===M?void 0:M._redirectEventId)===_?v._currentUser:(null===(Q=v.redirectUser)||void 0===Q?void 0:Q._redirectEventId)===_?v.redirectUser:null})()}_persistUserIfCurrent(_){var v=this;return(0,g.Z)(function*(){if(_===v.currentUser)return v.queue((0,g.Z)(function*(){return v.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(v=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,v,M,Q){if(this._deleted)return()=>{};const le="function"==typeof v?v:v.next.bind(v);let Be=!1;const lt=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(lt,this,"internal-error"),lt.then(()=>{Be||le(this.currentUser)}),"function"==typeof v){const Lt=_.addObserver(v,M,Q);return()=>{Be=!0,Lt()}}{const Lt=_.addObserver(v);return()=>{Be=!0,Lt()}}}directlySetCurrentUser(_){var v=this;return(0,g.Z)(function*(){v.currentUser&&v.currentUser!==_&&v._currentUser._stopProactiveRefresh(),_&&v.isProactiveRefreshEnabled&&_._startProactiveRefresh(),v.currentUser=_,_?yield v.assertedPersistence.setCurrentUser(_):yield v.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=Fi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,g.Z)(function*(){var v;const M={"X-Client-Version":_.clientVersion};_.app.options.appId&&(M["X-Firebase-gmpid"]=_.app.options.appId);const Q=yield null===(v=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();Q&&(M["X-Firebase-Client"]=Q);const le=yield _._getAppCheckToken();return le&&(M["X-Firebase-AppCheck"]=le),M})()}_getAppCheckToken(){var _=this;return(0,g.Z)(function*(){var v;const M=yield null===(v=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return M?.error&&function en(C,..._){_t.logLevel<=Ie.in.WARN&&_t.warn(`Auth (${u.SDK_VERSION}): ${C}`,..._)}(`Error while retrieving App Check token: ${M.error}`),M?.token})()}}function pr(C){return(0,W.m9)(C)}class wi{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,W.ne)(v=>this.observer=v)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ls={loadJS:()=>(0,g.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Mr(C){return Ls.loadJS(C)}function Ua(C){return`__${C}${Math.floor(1e6*Math.random())}`}class Ii{constructor(_){this.type="recaptcha-enterprise",this.auth=pr(_)}verify(_="verify",v=!1){var M=this;return(0,g.Z)(function*(){function le(){return le=(0,g.Z)(function*(lt){if(!v){if(null==lt.tenantId&&null!=lt._agentRecaptchaConfig)return lt._agentRecaptchaConfig.siteKey;if(null!=lt.tenantId&&void 0!==lt._tenantRecaptchaConfigs[lt.tenantId])return lt._tenantRecaptchaConfigs[lt.tenantId].siteKey}return new Promise(function(){var Lt=(0,g.Z)(function*(Yt,Vn){hr(lt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(yr=>{if(void 0!==yr.recaptchaKey){const Ro=new Kt(yr);return null==lt.tenantId?lt._agentRecaptchaConfig=Ro:lt._tenantRecaptchaConfigs[lt.tenantId]=Ro,Yt(Ro.siteKey)}Vn(new Error("recaptcha Enterprise site key undefined"))}).catch(yr=>{Vn(yr)})});return function(Yt,Vn){return Lt.apply(this,arguments)}}())}),le.apply(this,arguments)}function Be(lt,Lt,Yt){const Vn=window.grecaptcha;Dn(Vn)?Vn.enterprise.ready(()=>{Vn.enterprise.execute(lt,{action:_}).then(yr=>{Lt(yr)}).catch(()=>{Lt("NO_RECAPTCHA")})}):Yt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((lt,Lt)=>{(function Q(lt){return le.apply(this,arguments)})(M.auth).then(Yt=>{if(!v&&Dn(window.grecaptcha))Be(Yt,lt,Lt);else{if(typeof window>"u")return void Lt(new Error("RecaptchaVerifier is only supported in browser"));let Vn=function Ji(){return Ls.recaptchaEnterpriseScript}();0!==Vn.length&&(Vn+=Yt),Mr(Vn).then(()=>{Be(Yt,lt,Lt)}).catch(yr=>{Lt(yr)})}}).catch(Yt=>{Lt(Yt)})})})()}}function Pr(C,_,v){return ra.apply(this,arguments)}function ra(){return(ra=(0,g.Z)(function*(C,_,v,M=!1){const Q=new Ii(C);let le;try{le=yield Q.verify(v)}catch{le=yield Q.verify(v,!0)}const Be=Object.assign({},_);return Object.assign(Be,M?{captchaResp:le}:{captchaResponse:le}),Object.assign(Be,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Be,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Be})).apply(this,arguments)}function Ss(C,_,v,M){return bi.apply(this,arguments)}function bi(){return bi=(0,g.Z)(function*(C,_,v,M){var Q;if(null!==(Q=C._getRecaptchaConfig())&&void 0!==Q&&Q.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const le=yield Pr(C,_,v,"getOobCode"===v);return M(C,le)}return M(C,_).catch(function(){var le=(0,g.Z)(function*(Be){if("auth/missing-recaptcha-token"===Be.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const lt=yield Pr(C,_,v,"getOobCode"===v);return M(C,lt)}return Promise.reject(Be)});return function(Be){return le.apply(this,arguments)}}())}),bi.apply(this,arguments)}function cs(C,_,v){const M=pr(C);ge(M._canInitEmulator,M,"emulator-config-failed"),ge(/^https?:\/\//.test(_),M,"invalid-emulator-scheme");const Q=!!v?.disableWarnings,le=ti(_),{host:Be,port:lt}=function ls(C){const _=ti(C),v=/(\/\/)?([^?#/]+)/.exec(C.substr(_.length));if(!v)return{host:"",port:null};const M=v[2].split("@").pop()||"",Q=/^(\[[^\]]+\])(:|$)/.exec(M);if(Q){const le=Q[1];return{host:le,port:ys(M.substr(le.length+1))}}{const[le,Be]=M.split(":");return{host:le,port:ys(Be)}}}(_);M.config.emulator={url:`${le}//${Be}${null===lt?"":`:${lt}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:Be,port:lt,protocol:le.replace(":",""),options:Object.freeze({disableWarnings:Q})}),Q||function ao(){function C(){const _=document.createElement("p"),v=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function ti(C){const _=C.indexOf(":");return _<0?"":C.substr(0,_+1)}function ys(C){if(!C)return null;const _=Number(C);return isNaN(_)?null:_}class Si{constructor(_,v){this.providerId=_,this.signInMethod=v}toJSON(){return Et("not implemented")}_getIdTokenResponse(_){return Et("not implemented")}_linkToIdToken(_,v){return Et("not implemented")}_getReauthenticationResolver(_){return Et("not implemented")}}function wo(C,_){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,g.Z)(function*(C,_){return vt(C,"POST","/v1/accounts:resetPassword",gt(C,_))})).apply(this,arguments)}function jr(){return(jr=(0,g.Z)(function*(C,_){return vt(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Mi(C,_){return xr.apply(this,arguments)}function xr(){return(xr=(0,g.Z)(function*(C,_){return vt(C,"POST","/v1/accounts:signUp",_)})).apply(this,arguments)}function Ai(){return(Ai=(0,g.Z)(function*(C,_){return vt(C,"POST","/v1/accounts:update",gt(C,_))})).apply(this,arguments)}function Ao(C,_){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,g.Z)(function*(C,_){return hn(C,"POST","/v1/accounts:signInWithPassword",gt(C,_))})).apply(this,arguments)}function us(C,_){return br.apply(this,arguments)}function br(){return(br=(0,g.Z)(function*(C,_){return vt(C,"POST","/v1/accounts:sendOobCode",gt(C,_))})).apply(this,arguments)}function Ln(){return(Ln=(0,g.Z)(function*(C,_){return us(C,_)})).apply(this,arguments)}function mr(C,_){return gi.apply(this,arguments)}function gi(){return(gi=(0,g.Z)(function*(C,_){return us(C,_)})).apply(this,arguments)}function vs(C,_){return zr.apply(this,arguments)}function zr(){return(zr=(0,g.Z)(function*(C,_){return us(C,_)})).apply(this,arguments)}function rr(){return(rr=(0,g.Z)(function*(C,_){return us(C,_)})).apply(this,arguments)}function Es(){return(Es=(0,g.Z)(function*(C,_){return hn(C,"POST","/v1/accounts:signInWithEmailLink",gt(C,_))})).apply(this,arguments)}function Zi(){return(Zi=(0,g.Z)(function*(C,_){return hn(C,"POST","/v1/accounts:signInWithEmailLink",gt(C,_))})).apply(this,arguments)}class or extends Si{constructor(_,v,M,Q=null){super("password",M),this._email=_,this._password=v,this._tenantId=Q}static _fromEmailAndPassword(_,v){return new or(_,v,"password")}static _fromEmailAndCode(_,v,M=null){return new or(_,v,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(_){var v=this;return(0,g.Z)(function*(){switch(v.signInMethod){case"password":return Ss(_,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ao);case"emailLink":return function Wi(C,_){return Es.apply(this,arguments)}(_,{email:v._email,oobCode:v._password});default:ze(_,"internal-error")}})()}_linkToIdToken(_,v){var M=this;return(0,g.Z)(function*(){switch(M.signInMethod){case"password":return Ss(_,{idToken:v,returnSecureToken:!0,email:M._email,password:M._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Mi);case"emailLink":return function jn(C,_){return Zi.apply(this,arguments)}(_,{idToken:v,email:M._email,oobCode:M._password});default:ze(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function mi(C,_){return kn.apply(this,arguments)}function kn(){return(kn=(0,g.Z)(function*(C,_){return hn(C,"POST","/v1/accounts:signInWithIdp",gt(C,_))})).apply(this,arguments)}class _i extends Si{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const v=new _i(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(v.idToken=_.idToken),_.accessToken&&(v.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(v.nonce=_.nonce),_.pendingToken&&(v.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(v.accessToken=_.oauthToken,v.secret=_.oauthTokenSecret):ze("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:M,signInMethod:Q}=v,le=(0,Ee._T)(v,["providerId","signInMethod"]);if(!M||!Q)return null;const Be=new _i(M,Q);return Be.idToken=le.idToken||void 0,Be.accessToken=le.accessToken||void 0,Be.secret=le.secret,Be.nonce=le.nonce,Be.pendingToken=le.pendingToken||null,Be}_getIdTokenResponse(_){return mi(_,this.buildRequest())}_linkToIdToken(_,v){const M=this.buildRequest();return M.idToken=v,mi(_,M)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,mi(_,v)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),_.postBody=(0,W.xO)(v)}return _}}function Is(){return(Is=(0,g.Z)(function*(C,_){return vt(C,"POST","/v1/accounts:sendVerificationCode",gt(C,_))})).apply(this,arguments)}function hs(){return(hs=(0,g.Z)(function*(C,_){return hn(C,"POST","/v1/accounts:signInWithPhoneNumber",gt(C,_))})).apply(this,arguments)}function ar(){return(ar=(0,g.Z)(function*(C,_){const v=yield hn(C,"POST","/v1/accounts:signInWithPhoneNumber",gt(C,_));if(v.temporaryProof)throw fn(C,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Ms={USER_NOT_FOUND:"user-not-found"};function ia(){return(ia=(0,g.Z)(function*(C,_){return hn(C,"POST","/v1/accounts:signInWithPhoneNumber",gt(C,Object.assign(Object.assign({},_),{operation:"REAUTH"})),Ms)})).apply(this,arguments)}class Ki extends Si{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,v){return new Ki({verificationId:_,verificationCode:v})}static _fromTokenResponse(_,v){return new Ki({phoneNumber:_,temporaryProof:v})}_getIdTokenResponse(_){return function ja(C,_){return hs.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,v){return function Kn(C,_){return ar.apply(this,arguments)}(_,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function ir(C,_){return ia.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:v,verificationId:M,verificationCode:Q}=this.params;return _&&v?{temporaryProof:_,phoneNumber:v}:{sessionInfo:M,code:Q}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:v,verificationCode:M,phoneNumber:Q,temporaryProof:le}=_;return M||v||Q||le?new Ki({verificationId:v,verificationCode:M,phoneNumber:Q,temporaryProof:le}):null}}class bs{constructor(_){var v,M,Q,le,Be,lt;const Lt=(0,W.zd)((0,W.pd)(_)),Yt=null!==(v=Lt.apiKey)&&void 0!==v?v:null,Vn=null!==(M=Lt.oobCode)&&void 0!==M?M:null,yr=function Ri(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Q=Lt.mode)&&void 0!==Q?Q:null);ge(Yt&&Vn&&yr,"argument-error"),this.apiKey=Yt,this.operation=yr,this.code=Vn,this.continueUrl=null!==(le=Lt.continueUrl)&&void 0!==le?le:null,this.languageCode=null!==(Be=Lt.languageCode)&&void 0!==Be?Be:null,this.tenantId=null!==(lt=Lt.tenantId)&&void 0!==lt?lt:null}static parseLink(_){const v=function es(C){const _=(0,W.zd)((0,W.pd)(C)).link,v=_?(0,W.zd)((0,W.pd)(_)).deep_link_id:null,M=(0,W.zd)((0,W.pd)(C)).deep_link_id;return(M?(0,W.zd)((0,W.pd)(M)).link:null)||M||v||_||C}(_);try{return new bs(v)}catch{return null}}}let lo=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(v,M){return or._fromEmailAndPassword(v,M)}static credentialWithLink(v,M){const Q=bs.parseLink(M);return ge(Q,"argument-error"),or._fromEmailAndCode(v,Q.code,Q.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class Kr{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class de extends Kr{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class De extends de{static credentialFromJSON(_){const v="string"==typeof _?JSON.parse(_):_;return ge("providerId"in v&&"signInMethod"in v,"argument-error"),_i._fromParams(v)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return ge(_.idToken||_.accessToken,"argument-error"),_i._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return De.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return De.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:v,oauthAccessToken:M,oauthTokenSecret:Q,pendingToken:le,nonce:Be,providerId:lt}=_;if(!M&&!Q&&!v&&!le||!lt)return null;try{return new De(lt)._credential({idToken:v,accessToken:M,nonce:Be,pendingToken:le})}catch{return null}}}let He=(()=>{class C extends de{constructor(){super("facebook.com")}static credential(v){return _i._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),St=(()=>{class C extends de{constructor(){super("google.com"),this.addScope("profile")}static credential(v,M){return _i._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:M})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:M,oauthAccessToken:Q}=v;if(!M&&!Q)return null;try{return C.credential(M,Q)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Vt=(()=>{class C extends de{constructor(){super("github.com")}static credential(v){return _i._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class gn extends Si{constructor(_,v){super(_,_),this.pendingToken=v}_getIdTokenResponse(_){return mi(_,this.buildRequest())}_linkToIdToken(_,v){const M=this.buildRequest();return M.idToken=v,mi(_,M)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,mi(_,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:M,signInMethod:Q,pendingToken:le}=v;return M&&Q&&le&&M===Q?new gn(M,le):null}static _create(_,v){return new gn(_,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Rn extends Kr{constructor(_){ge(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return Rn.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return Rn.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const v=gn.fromJSON(_);return ge(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:v,providerId:M}=_;if(!v||!M)return null;try{return gn._create(M,v)}catch{return null}}}let nr=(()=>{class C extends de{constructor(){super("twitter.com")}static credential(v,M){return _i._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:M})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:M,oauthTokenSecret:Q}=v;if(!M||!Q)return null;try{return C.credential(M,Q)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Vi(C,_){return fs.apply(this,arguments)}function fs(){return(fs=(0,g.Z)(function*(C,_){return hn(C,"POST","/v1/accounts:signUp",gt(C,_))})).apply(this,arguments)}class q{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,v,M,Q=!1){return(0,g.Z)(function*(){const le=yield he._fromIdTokenResponse(_,M,Q),Be=ee(M);return new q({user:le,providerId:Be,_tokenResponse:M,operationType:v})})()}static _forOperation(_,v,M){return(0,g.Z)(function*(){yield _._updateTokensIfNecessary(M,!0);const Q=ee(M);return new q({user:_,providerId:Q,_tokenResponse:M,operationType:v})})()}}function ee(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function L(C){return ce.apply(this,arguments)}function ce(){return(ce=(0,g.Z)(function*(C){var _;if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(it(C));const v=pr(C);if(yield v._initializationPromise,null!==(_=v.currentUser)&&void 0!==_&&_.isAnonymous)return new q({user:v.currentUser,providerId:null,operationType:"signIn"});const M=yield Vi(v,{returnSecureToken:!0}),Q=yield q._fromIdTokenResponse(v,"signIn",M,!0);return yield v._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class Me extends W.ZR{constructor(_,v,M,Q){var le;super(v.code,v.message),this.operationType=M,this.user=Q,Object.setPrototypeOf(this,Me.prototype),this.customData={appName:_.name,tenantId:null!==(le=_.tenantId)&&void 0!==le?le:void 0,_serverResponse:v.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(_,v,M,Q){return new Me(_,v,M,Q)}}function bn(C,_,v,M){return("reauthenticate"===_?v._getReauthenticationResolver(C):v._getIdTokenResponse(C)).catch(le=>{throw"auth/multi-factor-auth-required"===le.code?Me._fromErrorAndOperation(C,le,_,M):le})}function cr(C){return new Set(C.map(({providerId:_})=>_).filter(_=>!!_))}function ts(C,_){return ri.apply(this,arguments)}function ri(){return ri=(0,g.Z)(function*(C,_){const v=(0,W.m9)(C);yield dc(!0,v,_);const{providerUserInfo:M}=yield function Fn(C,_){return wn.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[_]}),Q=cr(M||[]);return v.providerData=v.providerData.filter(le=>Q.has(le.providerId)),Q.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),ri.apply(this,arguments)}function Ha(C,_){return kl.apply(this,arguments)}function kl(){return(kl=(0,g.Z)(function*(C,_,v=!1){const M=yield Tr(C,_._linkToIdToken(C.auth,yield C.getIdToken()),v);return q._forOperation(C,"link",M)})).apply(this,arguments)}function dc(C,_,v){return hc.apply(this,arguments)}function hc(){return(hc=(0,g.Z)(function*(C,_,v){yield oe(_);const Q=!1===C?"provider-already-linked":"no-such-provider";ge(cr(_.providerData).has(v)===C,_.auth,Q)})).apply(this,arguments)}function $a(C,_){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,g.Z)(function*(C,_,v=!1){const{auth:M}=C;if((0,u._isFirebaseServerApp)(M.app))return Promise.reject(it(M));const Q="reauthenticate";try{const le=yield Tr(C,bn(M,Q,_,C),v);ge(le.idToken,M,"internal-error");const Be=hi(le.idToken);ge(Be,M,"internal-error");const{sub:lt}=Be;return ge(C.uid===lt,M,"user-mismatch"),q._forOperation(C,Q,le)}catch(le){throw"auth/user-not-found"===le?.code&&ze(M,"user-mismatch"),le}})).apply(this,arguments)}function fc(C,_){return va.apply(this,arguments)}function va(){return(va=(0,g.Z)(function*(C,_,v=!1){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(it(C));const M="signIn",Q=yield bn(C,M,_),le=yield q._fromIdTokenResponse(C,M,Q);return v||(yield C._updateCurrentUser(le.user)),le})).apply(this,arguments)}function el(C,_){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,g.Z)(function*(C,_){return fc(pr(C),_)})).apply(this,arguments)}function uo(C,_){return ns.apply(this,arguments)}function ns(){return(ns=(0,g.Z)(function*(C,_){const v=(0,W.m9)(C);return yield dc(!1,v,_.providerId),Ha(v,_)})).apply(this,arguments)}function Id(C,_){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,g.Z)(function*(C,_){return $a((0,W.m9)(C),_)})).apply(this,arguments)}function Ui(){return(Ui=(0,g.Z)(function*(C,_){return hn(C,"POST","/v1/accounts:signInWithCustomToken",gt(C,_))})).apply(this,arguments)}function wu(C,_){return Zs.apply(this,arguments)}function Zs(){return Zs=(0,g.Z)(function*(C,_){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(it(C));const v=pr(C),M=yield function Ea(C,_){return Ui.apply(this,arguments)}(v,{token:_,returnSecureToken:!0}),Q=yield q._fromIdTokenResponse(v,"signIn",M);return yield v._updateCurrentUser(Q.user),Q}),Zs.apply(this,arguments)}class ho{constructor(_,v){this.factorId=_,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(_,v){return"phoneInfo"in v?fo._fromServerResponse(_,v):"totpInfo"in v?Fo._fromServerResponse(_,v):ze(_,"internal-error")}}class fo extends ho{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,v){return new fo(v)}}class Fo extends ho{constructor(_){super("totp",_)}static _fromServerResponse(_,v){return new Fo(v)}}function za(C,_,v){var M;ge((null===(M=v.url)||void 0===M?void 0:M.length)>0,C,"invalid-continue-uri"),ge(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),_.continueUrl=v.url,_.dynamicLinkDomain=v.dynamicLinkDomain,_.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(ge(v.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),_.iOSBundleId=v.iOS.bundleId),v.android&&(ge(v.android.packageName.length>0,C,"missing-android-pkg-name"),_.androidInstallApp=v.android.installApp,_.androidMinimumVersionCode=v.android.minimumVersion,_.androidPackageName=v.android.packageName)}function sr(C){return tl.apply(this,arguments)}function tl(){return(tl=(0,g.Z)(function*(C){const _=pr(C);_._getPasswordPolicyInternal()&&(yield _._updatePasswordPolicy())})).apply(this,arguments)}function nl(C,_,v){return pc.apply(this,arguments)}function pc(){return(pc=(0,g.Z)(function*(C,_,v){const M=pr(C),Q={requestType:"PASSWORD_RESET",email:_,clientType:"CLIENT_TYPE_WEB"};v&&za(M,Q,v),yield Ss(M,Q,"getOobCode",mr)})).apply(this,arguments)}function gc(C,_,v){return Ga.apply(this,arguments)}function Ga(){return Ga=(0,g.Z)(function*(C,_,v){yield wo((0,W.m9)(C),{oobCode:_,newPassword:v}).catch(function(){var M=(0,g.Z)(function*(Q){throw"auth/password-does-not-meet-requirements"===Q.code&&sr(C),Q});return function(Q){return M.apply(this,arguments)}}())}),Ga.apply(this,arguments)}function sa(C,_){return Lo.apply(this,arguments)}function Lo(){return Lo=(0,g.Z)(function*(C,_){yield function qi(C,_){return Ai.apply(this,arguments)}((0,W.m9)(C),{oobCode:_})}),Lo.apply(this,arguments)}function mc(C,_){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,g.Z)(function*(C,_){const v=(0,W.m9)(C),M=yield wo(v,{oobCode:_}),Q=M.requestType;switch(ge(Q,v,"internal-error"),Q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ge(M.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ge(M.mfaInfo,v,"internal-error");default:ge(M.email,v,"internal-error")}let le=null;return M.mfaInfo&&(le=ho._fromServerResponse(pr(v),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:le},operation:Q}})).apply(this,arguments)}function rl(C,_){return oa.apply(this,arguments)}function oa(){return(oa=(0,g.Z)(function*(C,_){const{data:v}=yield mc((0,W.m9)(C),_);return v.email})).apply(this,arguments)}function Mh(C,_,v){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,g.Z)(function*(C,_,v){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(it(C));const M=pr(C),Be=yield Ss(M,{returnSecureToken:!0,email:_,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Vi).catch(Lt=>{throw"auth/password-does-not-meet-requirements"===Lt.code&&sr(C),Lt}),lt=yield q._fromIdTokenResponse(M,"signIn",Be);return yield M._updateCurrentUser(lt.user),lt})).apply(this,arguments)}function bd(C,_,v){return(0,u._isFirebaseServerApp)(C.app)?Promise.reject(it(C)):el((0,W.m9)(C),lo.credential(_,v)).catch(function(){var M=(0,g.Z)(function*(Q){throw"auth/password-does-not-meet-requirements"===Q.code&&sr(C),Q});return function(Q){return M.apply(this,arguments)}}())}function qa(C,_,v){return _c.apply(this,arguments)}function _c(){return(_c=(0,g.Z)(function*(C,_,v){const M=pr(C),Q={requestType:"EMAIL_SIGNIN",email:_,clientType:"CLIENT_TYPE_WEB"};(function le(Be,lt){ge(lt.handleCodeInApp,M,"argument-error"),lt&&za(M,Be,lt)})(Q,v),yield Ss(M,Q,"getOobCode",vs)})).apply(this,arguments)}function Ll(C,_){const v=bs.parseLink(_);return"EMAIL_SIGNIN"===v?.operation}function Wa(C,_,v){return Td.apply(this,arguments)}function Td(){return(Td=(0,g.Z)(function*(C,_,v){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(it(C));const M=(0,W.m9)(C),Q=lo.credentialWithLink(_,v||zn());return ge(Q._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),el(M,Q)})).apply(this,arguments)}function Yr(){return(Yr=(0,g.Z)(function*(C,_){return vt(C,"POST","/v1/accounts:createAuthUri",gt(C,_))})).apply(this,arguments)}function P(C,_){return ne.apply(this,arguments)}function ne(){return ne=(0,g.Z)(function*(C,_){const M={identifier:_,continueUri:bt()?zn():"http://localhost"},{signinMethods:Q}=yield function il(C,_){return Yr.apply(this,arguments)}((0,W.m9)(C),M);return Q||[]}),ne.apply(this,arguments)}function j(C,_){return te.apply(this,arguments)}function te(){return te=(0,g.Z)(function*(C,_){const v=(0,W.m9)(C),Q={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};_&&za(v.auth,Q,_);const{email:le}=yield function Xt(C,_){return Ln.apply(this,arguments)}(v.auth,Q);le!==C.email&&(yield C.reload())}),te.apply(this,arguments)}function we(C,_,v){return ht.apply(this,arguments)}function ht(){return ht=(0,g.Z)(function*(C,_,v){const M=(0,W.m9)(C),le={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:_};v&&za(M.auth,le,v);const{email:Be}=yield function ni(C,_){return rr.apply(this,arguments)}(M.auth,le);Be!==C.email&&(yield C.reload())}),ht.apply(this,arguments)}function vn(){return(vn=(0,g.Z)(function*(C,_){return vt(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function wr(C,_){return Gr.apply(this,arguments)}function Gr(){return Gr=(0,g.Z)(function*(C,{displayName:_,photoURL:v}){if(void 0===_&&void 0===v)return;const M=(0,W.m9)(C),le={idToken:yield M.getIdToken(),displayName:_,photoUrl:v,returnSecureToken:!0},Be=yield Tr(M,function Mt(C,_){return vn.apply(this,arguments)}(M.auth,le));M.displayName=Be.displayName||null,M.photoURL=Be.photoUrl||null;const lt=M.providerData.find(({providerId:Lt})=>"password"===Lt);lt&&(lt.displayName=M.displayName,lt.photoURL=M.photoURL),yield M._updateTokensIfNecessary(Be)}),Gr.apply(this,arguments)}function Fr(C,_){const v=(0,W.m9)(C);return(0,u._isFirebaseServerApp)(v.auth.app)?Promise.reject(it(v.auth)):Wr(v,_,null)}function dr(C,_){return Wr((0,W.m9)(C),null,_)}function Wr(C,_,v){return Or.apply(this,arguments)}function Or(){return Or=(0,g.Z)(function*(C,_,v){const{auth:M}=C,le={idToken:yield C.getIdToken(),returnSecureToken:!0};_&&(le.email=_),v&&(le.password=v);const Be=yield Tr(C,function Rr(C,_){return jr.apply(this,arguments)}(M,le));yield C._updateTokensIfNecessary(Be,!0)}),Or.apply(this,arguments)}class ps{constructor(_,v,M={}){this.isNewUser=_,this.providerId=v,this.profile=M}}class rs extends ps{constructor(_,v,M,Q){super(_,v,M),this.username=Q}}class aa extends ps{constructor(_,v){super(_,"facebook.com",v)}}class Us extends rs{constructor(_,v){super(_,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class ii extends ps{constructor(_,v){super(_,"google.com",v)}}class Yn extends rs{constructor(_,v,M){super(_,"twitter.com",v,M)}}function ca(C){const{user:_,_tokenResponse:v}=C;return _.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function xi(C){var _,v;if(!C)return null;const{providerId:M}=C,Q=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},le=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!M&&C?.idToken){const Be=null===(v=null===(_=hi(C.idToken))||void 0===_?void 0:_.firebase)||void 0===v?void 0:v.sign_in_provider;if(Be)return new ps(le,"anonymous"!==Be&&"custom"!==Be?Be:null)}if(!M)return null;switch(M){case"facebook.com":return new aa(le,Q);case"github.com":return new Us(le,Q);case"google.com":return new ii(le,Q);case"twitter.com":return new Yn(le,Q,C.screenName||null);case"custom":case"anonymous":return new ps(le,null);default:return new ps(le,M,Q)}}(v)}class Bo{constructor(_,v,M){this.type=_,this.credential=v,this.user=M}static _fromIdtoken(_,v){return new Bo("enroll",_,v)}static _fromMfaPendingCredential(_){return new Bo("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var v,M;if(_?.multiFactorSession){if(null!==(v=_.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Bo._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(M=_.multiFactorSession)&&void 0!==M&&M.idToken)return Bo._fromIdtoken(_.multiFactorSession.idToken)}return null}}class jo{constructor(_,v,M){this.session=_,this.hints=v,this.signInResolver=M}static _fromError(_,v){const M=pr(_),Q=v.customData._serverResponse,le=(Q.mfaInfo||[]).map(lt=>ho._fromServerResponse(M,lt));ge(Q.mfaPendingCredential,M,"internal-error");const Be=Bo._fromMfaPendingCredential(Q.mfaPendingCredential);return new jo(Be,le,function(){var lt=(0,g.Z)(function*(Lt){const Yt=yield Lt._process(M,Be);delete Q.mfaInfo,delete Q.mfaPendingCredential;const Vn=Object.assign(Object.assign({},Q),{idToken:Yt.idToken,refreshToken:Yt.refreshToken});switch(v.operationType){case"signIn":const yr=yield q._fromIdTokenResponse(M,v.operationType,Vn);return yield M._updateCurrentUser(yr.user),yr;case"reauthenticate":return ge(v.user,M,"internal-error"),q._forOperation(v.user,v.operationType,Vn);default:ze(M,"internal-error")}});return function(Lt){return lt.apply(this,arguments)}}())}resolveSignIn(_){var v=this;return(0,g.Z)(function*(){return v.signInResolver(_)})()}}function Cd(C,_){var v;const M=(0,W.m9)(C),Q=_;return ge(_.customData.operationType,M,"argument-error"),ge(null===(v=Q.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,M,"argument-error"),jo._fromError(M,Q)}class ol{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(M=>ho._fromServerResponse(_.auth,M)))})}static _fromUser(_){return new ol(_)}getSession(){var _=this;return(0,g.Z)(function*(){return Bo._fromIdtoken(yield _.user.getIdToken(),_.user)})()}enroll(_,v){var M=this;return(0,g.Z)(function*(){const Q=_,le=yield M.getSession(),Be=yield Tr(M.user,Q._process(M.user.auth,le,v));return yield M.user._updateTokensIfNecessary(Be),M.user.reload()})()}unenroll(_){var v=this;return(0,g.Z)(function*(){const M="string"==typeof _?_:_.uid,Q=yield v.user.getIdToken();try{const le=yield Tr(v.user,function wd(C,_){return vt(C,"POST","/v2/accounts/mfaEnrollment:withdraw",gt(C,_))}(v.user.auth,{idToken:Q,mfaEnrollmentId:M}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Be})=>Be!==M),yield v.user._updateTokensIfNecessary(le),yield v.user.reload()}catch(le){throw le}})()}}const Za=new WeakMap;function Rh(C){const _=(0,W.m9)(C);return Za.has(_)||Za.set(_,ol._fromUser(_)),Za.get(_)}const Ad="__sak";class Ti{constructor(_,v){this.storageRetriever=_,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Ad,"1"),this.storage.removeItem(Ad),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,v){return this.storage.setItem(_,JSON.stringify(v)),Promise.resolve()}_get(_){const v=this.storage.getItem(_);return Promise.resolve(v?JSON.parse(v):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ho=(()=>{class C extends Ti{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,M)=>this.onStorageEvent(v,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ka(){const C=(0,W.z$)();return ci(C)||ki(C)}()&&function Jc(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ya(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const M of Object.keys(this.listeners)){const Q=this.storage.getItem(M),le=this.localCache[M];Q!==le&&v(M,le,Q)}}onStorageEvent(v,M=!1){if(!v.key)return void this.forAllChangedKeys((lt,Lt,Yt)=>{this.notifyListeners(lt,Yt)});const Q=v.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const lt=this.storage.getItem(Q);if(v.newValue!==lt)null!==v.newValue?this.storage.setItem(Q,v.newValue):this.storage.removeItem(Q);else if(this.localCache[Q]===v.newValue&&!M)return}const le=()=>{const lt=this.storage.getItem(Q);!M&&this.localCache[Q]===lt||this.notifyListeners(Q,lt)},Be=this.storage.getItem(Q);!function bo(){return(0,W.w1)()&&10===document.documentMode}()||Be===v.newValue||v.newValue===v.oldValue?le():setTimeout(le,10)}notifyListeners(v,M){this.localCache[v]=M;const Q=this.listeners[v];if(Q)for(const le of Array.from(Q))le(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,M,Q)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:M,newValue:Q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(M)}_removeListener(v,M){this.listeners[v]&&(this.listeners[v].delete(M),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,M){var Q=()=>super._set,le=this;return(0,g.Z)(function*(){yield Q().call(le,v,M),le.localCache[v]=JSON.stringify(M)})()}_get(v){var M=()=>super._get,Q=this;return(0,g.Z)(function*(){const le=yield M().call(Q,v);return Q.localCache[v]=JSON.stringify(le),le})()}_remove(v){var M=()=>super._remove,Q=this;return(0,g.Z)(function*(){yield M().call(Q,v),delete Q.localCache[v]})()}}return C.type="LOCAL",C})(),Ot=(()=>{class C extends Ti{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,M){}_removeListener(v,M){}}return C.type="SESSION",C})();let Sd=(()=>{class C{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const M=this.receivers.find(le=>le.isListeningto(v));if(M)return M;const Q=new C(v);return this.receivers.push(Q),Q}isListeningto(v){return this.eventTarget===v}handleEvent(v){var M=this;return(0,g.Z)(function*(){const Q=v,{eventId:le,eventType:Be,data:lt}=Q.data,Lt=M.handlersMap[Be];if(!Lt?.size)return;Q.ports[0].postMessage({status:"ack",eventId:le,eventType:Be});const Yt=Array.from(Lt).map(function(){var yr=(0,g.Z)(function*(Ro){return Ro(Q.origin,lt)});return function(Ro){return yr.apply(this,arguments)}}()),Vn=yield function Dr(C){return Promise.all(C.map(function(){var _=(0,g.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(M){return{fulfilled:!1,reason:M}}});return function(v){return _.apply(this,arguments)}}()))}(Yt);Q.ports[0].postMessage({status:"done",eventId:le,eventType:Be,response:Vn})})()}_subscribe(v,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(M)}_unsubscribe(v,M){this.handlersMap[v]&&M&&this.handlersMap[v].delete(M),(!M||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function vc(C="",_=10){let v="";for(let M=0;M<_;M++)v+=Math.floor(10*Math.random());return C+v}class gs{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,v,M=50){var Q=this;return(0,g.Z)(function*(){const le=typeof MessageChannel<"u"?new MessageChannel:null;if(!le)throw new Error("connection_unavailable");let Be,lt;return new Promise((Lt,Yt)=>{const Vn=vc("",20);le.port1.start();const yr=setTimeout(()=>{Yt(new Error("unsupported_event"))},M);lt={messageChannel:le,onMessage(Ro){const Sc=Ro;if(Sc.data.eventId===Vn)switch(Sc.data.status){case"ack":clearTimeout(yr),Be=setTimeout(()=>{Yt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Be),Lt(Sc.data.response);break;default:clearTimeout(yr),clearTimeout(Be),Yt(new Error("invalid_response"))}}},Q.handlers.add(lt),le.port1.addEventListener("message",lt.onMessage),Q.target.postMessage({eventType:_,eventId:Vn,data:v},[le.port2])}).finally(()=>{lt&&Q.removeMessageHandler(lt)})})()}}function Bi(){return window}function Ts(){return typeof Bi().WorkerGlobalScope<"u"&&"function"==typeof Bi().importScripts}function Ec(){return(Ec=(0,g.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Su="firebaseLocalStorageDb",$o="firebaseLocalStorage",Rd="fbase_key";class ba{constructor(_){this.request=_}toPromise(){return new Promise((_,v)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function S(C,_){return C.transaction([$o],_?"readwrite":"readonly").objectStore($o)}function w(){const C=indexedDB.open(Su,1);return new Promise((_,v)=>{C.addEventListener("error",()=>{v(C.error)}),C.addEventListener("upgradeneeded",()=>{const M=C.result;try{M.createObjectStore($o,{keyPath:Rd})}catch(Q){v(Q)}}),C.addEventListener("success",(0,g.Z)(function*(){const M=C.result;M.objectStoreNames.contains($o)?_(M):(M.close(),yield function N(){const C=indexedDB.deleteDatabase(Su);return new ba(C).toPromise()}(),_(yield w()))}))})}function k(C,_,v){return G.apply(this,arguments)}function G(){return(G=(0,g.Z)(function*(C,_,v){const M=S(C,!0).put({[Rd]:_,value:v});return new ba(M).toPromise()})).apply(this,arguments)}function Ce(){return(Ce=(0,g.Z)(function*(C,_){const v=S(C,!1).get(_),M=yield new ba(v).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function ct(C,_){const v=S(C,!0).delete(_);return new ba(v).toPromise()}const qr=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,g.Z)(function*(){return v.db||(v.db=yield w()),v.db})()}_withRetries(v){var M=this;return(0,g.Z)(function*(){let Q=0;for(;;)try{const le=yield M._openDb();return yield v(le)}catch(le){if(Q++>3)throw le;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,g.Z)(function*(){return Ts()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,g.Z)(function*(){v.receiver=Sd._getInstance(function Pd(){return Ts()?self:null}()),v.receiver._subscribe("keyChanged",function(){var M=(0,g.Z)(function*(Q,le){return{keyProcessed:(yield v._poll()).includes(le.key)}});return function(Q,le){return M.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var M=(0,g.Z)(function*(Q,le){return["keyChanged"]});return function(Q,le){return M.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,g.Z)(function*(){var M,Q;if(v.activeServiceWorker=yield function al(){return Ec.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new gs(v.activeServiceWorker);const le=yield v.sender._send("ping",{},800);le&&null!==(M=le[0])&&void 0!==M&&M.fulfilled&&null!==(Q=le[0])&&void 0!==Q&&Q.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var M=this;return(0,g.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function Md(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:v},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const v=yield w();return yield k(v,Ad,"1"),yield ct(v,Ad),!0}catch{}return!1})()}_withPendingWrite(v){var M=this;return(0,g.Z)(function*(){M.pendingWrites++;try{yield v()}finally{M.pendingWrites--}})()}_set(v,M){var Q=this;return(0,g.Z)(function*(){return Q._withPendingWrite((0,g.Z)(function*(){return yield Q._withRetries(le=>k(le,v,M)),Q.localCache[v]=M,Q.notifyServiceWorker(v)}))})()}_get(v){var M=this;return(0,g.Z)(function*(){const Q=yield M._withRetries(le=>function ae(C,_){return Ce.apply(this,arguments)}(le,v));return M.localCache[v]=Q,Q})()}_remove(v){var M=this;return(0,g.Z)(function*(){return M._withPendingWrite((0,g.Z)(function*(){return yield M._withRetries(Q=>ct(Q,v)),delete M.localCache[v],M.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,g.Z)(function*(){const M=yield v._withRetries(Be=>{const lt=S(Be,!1).getAll();return new ba(lt).toPromise()});if(!M)return[];if(0!==v.pendingWrites)return[];const Q=[],le=new Set;if(0!==M.length)for(const{fbase_key:Be,value:lt}of M)le.add(Be),JSON.stringify(v.localCache[Be])!==JSON.stringify(lt)&&(v.notifyListeners(Be,lt),Q.push(Be));for(const Be of Object.keys(v.localCache))v.localCache[Be]&&!le.has(Be)&&(v.notifyListeners(Be,null),Q.push(Be));return Q})()}notifyListeners(v,M){this.localCache[v]=M;const Q=this.listeners[v];if(Q)for(const le of Array.from(Q))le(M)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(M)}_removeListener(v,M){this.listeners[v]&&(this.listeners[v].delete(M),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})(),mo=1e12;class Mu{constructor(_){this.auth=_,this.counter=mo,this._widgets=new Map}render(_,v){const M=this.counter;return this._widgets.set(M,new js(_,this.auth.name,v||{})),this.counter++,M}reset(_){var v;const M=_||mo;null===(v=this._widgets.get(M))||void 0===v||v.delete(),this._widgets.delete(M)}getResponse(_){var v;return(null===(v=this._widgets.get(_||mo))||void 0===v?void 0:v.getResponse())||""}execute(_){var v=this;return(0,g.Z)(function*(){var M;return null===(M=v._widgets.get(_||mo))||void 0===M||M.execute(),""})()}}class js{constructor(_,v,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Q="string"==typeof _?document.getElementById(_):_;ge(Q,"argument-error",{appName:v}),this.container=Q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ta(C){const _=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<C;M++)_.push(v.charAt(Math.floor(62*Math.random())));return _.join("")}(50);const{callback:_,"expired-callback":v}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const fi=Ua("rcb"),Ca=new Ne(3e4,6e4);class vg{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=Bi().grecaptcha)||void 0===_||!_.render)}load(_,v=""){return ge(function xd(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(v),_,"argument-error"),this.shouldResolveImmediately(v)&&Tn(Bi().grecaptcha)?Promise.resolve(Bi().grecaptcha):new Promise((M,Q)=>{const le=Bi().setTimeout(()=>{Q(rt(_,"network-request-failed"))},Ca.get());Bi()[fi]=()=>{Bi().clearTimeout(le),delete Bi()[fi];const lt=Bi().grecaptcha;if(!lt||!Tn(lt))return void Q(rt(_,"internal-error"));const Lt=lt.render;lt.render=(Yt,Vn)=>{const yr=Lt(Yt,Vn);return this.counter++,yr},this.hostLanguage=v,M(lt)},Mr(`${function Vs(){return Ls.recaptchaV2Script}()}?${(0,W.xO)({onload:fi,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(le),Q(rt(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var v;return!(null===(v=Bi().grecaptcha)||void 0===v||!v.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Pu{load(_){return(0,g.Z)(function*(){return new Mu(_)})()}clearedOneInstance(){}}const Ya="recaptcha",Wf={theme:"light",type:"image"};class Bl{constructor(_,v,M=Object.assign({},Wf)){this.parameters=M,this.type=Ya,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pr(_),this.isInvisible="invisible"===this.parameters.size,ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Q="string"==typeof v?document.getElementById(v):v;ge(Q,this.auth,"argument-error"),this.container=Q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Pu:new vg,this.validateStartingState()}verify(){var _=this;return(0,g.Z)(function*(){_.assertNotDestroyed();const v=yield _.render(),M=_.getAssertedRecaptcha();return M.getResponse(v)||new Promise(le=>{const Be=lt=>{lt&&(_.tokenChangeListeners.delete(Be),le(lt))};_.tokenChangeListeners.add(Be),_.isInvisible&&M.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){ge(!this.parameters.sitekey,this.auth,"argument-error"),ge(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return v=>{if(this.tokenChangeListeners.forEach(M=>M(v)),"function"==typeof _)_(v);else if("string"==typeof _){const M=Bi()[_];"function"==typeof M&&M(v)}}}assertNotDestroyed(){ge(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,g.Z)(function*(){if(yield _.init(),!_.widgetId){let v=_.container;if(!_.isInvisible){const M=document.createElement("div");v.appendChild(M),v=M}_.widgetId=_.getAssertedRecaptcha().render(v,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,g.Z)(function*(){ge(bt()&&!Ts(),_.auth,"internal-error"),yield function ua(){let C=null;return new Promise(_=>{"complete"!==document.readyState?(C=()=>_(),window.addEventListener("load",C)):_()}).catch(_=>{throw C&&window.removeEventListener("load",C),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const v=yield function ai(C){return Cn.apply(this,arguments)}(_.auth);ge(v,_.auth,"internal-error"),_.parameters.sitekey=v})()}getAssertedRecaptcha(){return ge(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class wa{constructor(_,v){this.verificationId=_,this.onConfirmation=v}confirm(_){const v=Ki._fromVerification(this.verificationId,_);return this.onConfirmation(v)}}function Oh(C,_,v){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,g.Z)(function*(C,_,v){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(it(C));const M=pr(C),Q=yield Ru(M,_,(0,W.m9)(v));return new wa(Q,le=>el(M,le))})).apply(this,arguments)}function Da(C,_,v){return Do.apply(this,arguments)}function Do(){return(Do=(0,g.Z)(function*(C,_,v){const M=(0,W.m9)(C);yield dc(!1,M,"phone");const Q=yield Ru(M.auth,_,(0,W.m9)(v));return new wa(Q,le=>uo(M,le))})).apply(this,arguments)}function Od(C,_,v){return jl.apply(this,arguments)}function jl(){return(jl=(0,g.Z)(function*(C,_,v){const M=(0,W.m9)(C);if((0,u._isFirebaseServerApp)(M.auth.app))return Promise.reject(it(M.auth));const Q=yield Ru(M.auth,_,(0,W.m9)(v));return new wa(Q,le=>Id(M,le))})).apply(this,arguments)}function Ru(C,_,v){return zo.apply(this,arguments)}function zo(){return zo=(0,g.Z)(function*(C,_,v){var M;const Q=yield v.verify();try{let le;if(ge("string"==typeof Q,C,"argument-error"),ge(v.type===Ya,C,"argument-error"),le="string"==typeof _?{phoneNumber:_}:_,"session"in le){const Be=le.session;if("phoneNumber"in le)return ge("enroll"===Be.type,C,"internal-error"),(yield function Ph(C,_){return vt(C,"POST","/v2/accounts/mfaEnrollment:start",gt(C,_))}(C,{idToken:Be.credential,phoneEnrollmentInfo:{phoneNumber:le.phoneNumber,recaptchaToken:Q}})).phoneSessionInfo.sessionInfo;{ge("signin"===Be.type,C,"internal-error");const lt=(null===(M=le.multiFactorHint)||void 0===M?void 0:M.uid)||le.multiFactorUid;return ge(lt,C,"missing-multi-factor-info"),(yield function er(C,_){return vt(C,"POST","/v2/accounts/mfaSignIn:start",gt(C,_))}(C,{mfaPendingCredential:Be.credential,mfaEnrollmentId:lt,phoneSignInInfo:{recaptchaToken:Q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Be}=yield function ds(C,_){return Is.apply(this,arguments)}(C,{phoneNumber:le.phoneNumber,recaptchaToken:Q});return Be}}finally{v._reset()}}),zo.apply(this,arguments)}function Qa(C,_){return xu.apply(this,arguments)}function xu(){return(xu=(0,g.Z)(function*(C,_){const v=(0,W.m9)(C);if((0,u._isFirebaseServerApp)(v.auth.app))return Promise.reject(it(v.auth));yield Ha(v,_)})).apply(this,arguments)}let Zf=(()=>{class C{constructor(v){this.providerId=C.PROVIDER_ID,this.auth=pr(v)}verifyPhoneNumber(v,M){return Ru(this.auth,v,(0,W.m9)(M))}static credential(v,M){return Ki._fromVerification(v,M)}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:M,temporaryProof:Q}=v;return M&&Q?Ki._fromTokenResponse(M,Q):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function Qs(C,_){return _?yt(_):(ge(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class Nh extends Si{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return mi(_,this._buildIdpRequest())}_linkToIdToken(_,v){return mi(_,this._buildIdpRequest(v))}_getReauthenticationResolver(_){return mi(_,this._buildIdpRequest())}_buildIdpRequest(_){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(v.idToken=_),v}}function Nd(C){return fc(C.auth,new Nh(C),C.bypassAuthState)}function Hl(C){const{auth:_,user:v}=C;return ge(v,_,"internal-error"),$a(v,new Nh(C),C.bypassAuthState)}function Ry(C){return kd.apply(this,arguments)}function kd(){return(kd=(0,g.Z)(function*(C){const{auth:_,user:v}=C;return ge(v,_,"internal-error"),Ha(v,new Nh(C),C.bypassAuthState)})).apply(this,arguments)}class $l{constructor(_,v,M,Q,le=!1){this.auth=_,this.resolver=M,this.user=Q,this.bypassAuthState=le,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var _=this;return new Promise(function(){var v=(0,g.Z)(function*(M,Q){_.pendingPromise={resolve:M,reject:Q};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(le){_.reject(le)}});return function(M,Q){return v.apply(this,arguments)}}())}onAuthEvent(_){var v=this;return(0,g.Z)(function*(){const{urlResponse:M,sessionId:Q,postBody:le,tenantId:Be,error:lt,type:Lt}=_;if(lt)return void v.reject(lt);const Yt={auth:v.auth,requestUri:M,sessionId:Q,tenantId:Be||void 0,postBody:le||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Lt)(Yt))}catch(Vn){v.reject(Vn)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return Nd;case"linkViaPopup":case"linkViaRedirect":return Ry;case"reauthViaPopup":case"reauthViaRedirect":return Hl;default:ze(this.auth,"internal-error")}}resolve(_){Ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){Ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zl=new Ne(2e3,1e4);function Eg(C,_,v){return So.apply(this,arguments)}function So(){return(So=(0,g.Z)(function*(C,_,v){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(rt(C,"operation-not-supported-in-this-environment"));const M=pr(C);Ct(C,_,Kr);const Q=Qs(M,v);return new ms(M,"signInViaPopup",_,Q).executeNotNull()})).apply(this,arguments)}function Gl(C,_,v){return da.apply(this,arguments)}function da(){return(da=(0,g.Z)(function*(C,_,v){const M=(0,W.m9)(C);if((0,u._isFirebaseServerApp)(M.auth.app))return Promise.reject(rt(M.auth,"operation-not-supported-in-this-environment"));Ct(M.auth,_,Kr);const Q=Qs(M.auth,v);return new ms(M.auth,"reauthViaPopup",_,Q,M).executeNotNull()})).apply(this,arguments)}function Ig(C,_,v){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,g.Z)(function*(C,_,v){const M=(0,W.m9)(C);Ct(M.auth,_,Kr);const Q=Qs(M.auth,v);return new ms(M.auth,"linkViaPopup",_,Q,M).executeNotNull()})).apply(this,arguments)}let ms=(()=>{class C extends $l{constructor(v,M,Q,le,Be){super(v,M,le,Be),this.provider=Q,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var v=this;return(0,g.Z)(function*(){const M=yield v.execute();return ge(M,v.auth,"internal-error"),M})()}onExecution(){var v=this;return(0,g.Z)(function*(){Ht(1===v.filter.length,"Popup operations only handle one event");const M=vc();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],M),v.authWindow.associatedEvent=M,v.resolver._originValidation(v.auth).catch(Q=>{v.reject(Q)}),v.resolver._isIframeWebStorageSupported(v.auth,Q=>{Q||v.reject(rt(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(rt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const v=()=>{var M,Q;this.pollId=null!==(Q=null===(M=this.authWindow)||void 0===M?void 0:M.window)&&void 0!==Q&&Q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(rt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,zl.get())};v()}}return C.currentPopupAction=null,C})();const Ou="pendingRedirect",xs=new Map;class Ld extends $l{constructor(_,v,M=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,M),this.eventId=null}execute(){var _=()=>super.execute,v=this;return(0,g.Z)(function*(){let M=xs.get(v.auth._key());if(!M){try{const le=(yield function ql(C,_){return ha.apply(this,arguments)}(v.resolver,v.auth))?yield _().call(v):null;M=()=>Promise.resolve(le)}catch(Q){M=()=>Promise.reject(Q)}xs.set(v.auth._key(),M)}return v.bypassAuthState||xs.set(v.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(_){var v=()=>super.onAuthEvent,M=this;return(0,g.Z)(function*(){if("signInViaRedirect"===_.type)return v().call(M,_);if("unknown"!==_.type){if(_.eventId){const Q=yield M.auth._redirectUserForId(_.eventId);if(Q)return M.user=Q,v().call(M,_);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function ha(){return(ha=(0,g.Z)(function*(C,_){const v=Vd(_),M=cl(C);if(!(yield M._isAvailable()))return!1;const Q="true"===(yield M._get(v));return yield M._remove(v),Q})).apply(this,arguments)}function bc(C,_){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,g.Z)(function*(C,_){return cl(C)._set(Vd(_),"true")})).apply(this,arguments)}function Tc(){xs.clear()}function bg(C,_){xs.set(C._key(),_)}function cl(C){return yt(C._redirectPersistence)}function Vd(C){return nn(Ou,C.config.apiKey,C.name)}function Ja(C,_,v){return function Ud(C,_,v){return kh.apply(this,arguments)}(C,_,v)}function kh(){return(kh=(0,g.Z)(function*(C,_,v){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(it(C));const M=pr(C);Ct(C,_,Kr),yield M._initializationPromise;const Q=Qs(M,v);return yield bc(Q,M),Q._openRedirect(M,_,"signInViaRedirect")})).apply(this,arguments)}function Bd(C,_,v){return function Zl(C,_,v){return Fh.apply(this,arguments)}(C,_,v)}function Fh(){return(Fh=(0,g.Z)(function*(C,_,v){const M=(0,W.m9)(C);if(Ct(M.auth,_,Kr),(0,u._isFirebaseServerApp)(M.auth.app))return Promise.reject(it(M.auth));yield M.auth._initializationPromise;const Q=Qs(M.auth,v);yield bc(Q,M.auth);const le=yield Sa(M);return Q._openRedirect(M.auth,_,"reauthViaRedirect",le)})).apply(this,arguments)}function Lh(C,_,v){return function ll(C,_,v){return Cc.apply(this,arguments)}(C,_,v)}function Cc(){return(Cc=(0,g.Z)(function*(C,_,v){const M=(0,W.m9)(C);Ct(M.auth,_,Kr),yield M.auth._initializationPromise;const Q=Qs(M.auth,v);yield dc(!1,M,_.providerId),yield bc(Q,M.auth);const le=yield Sa(M);return Q._openRedirect(M.auth,_,"linkViaRedirect",le)})).apply(this,arguments)}function Tg(C,_){return ws.apply(this,arguments)}function ws(){return(ws=(0,g.Z)(function*(C,_){return yield pr(C)._initializationPromise,jd(C,_,!1)})).apply(this,arguments)}function jd(C,_){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,g.Z)(function*(C,_,v=!1){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(it(C));const M=pr(C),Q=Qs(M,_),Be=yield new Ld(M,Q,v).execute();return Be&&!v&&(delete Be.user._redirectEventId,yield M._persistUserIfCurrent(Be.user),yield M._setRedirectUser(null,_)),Be})).apply(this,arguments)}function Sa(C){return ul.apply(this,arguments)}function ul(){return(ul=(0,g.Z)(function*(C){const _=vc(`${C.uid}:::`);return C._redirectEventId=_,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),_})).apply(this,arguments)}class Go{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let v=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(_,M)&&(v=!0,this.sendToConsumer(_,M),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function Nu(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dl(C);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=_,v=!0)),v}sendToConsumer(_,v){var M;if(_.error&&!dl(_)){const Q=(null===(M=_.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";v.onError(rt(this.auth,Q))}else v.onAuthEvent(_)}isEventForConsumer(_,v){const M=null===v.eventId||!!_.eventId&&_.eventId===v.eventId;return v.filter.includes(_.type)&&M}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mo(_))}saveEventToCache(_){this.cachedEventUids.add(Mo(_)),this.lastProcessedEventTime=Date.now()}}function Mo(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(_=>_).join("-")}function dl({type:C,error:_}){return"unknown"===C&&"auth/no-auth-event"===_?.code}function Hd(C){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,g.Z)(function*(C,_={}){return vt(C,"GET","/v1/projects",_)})).apply(this,arguments)}const ji=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xy=/^https?/;function Cg(){return(Cg=(0,g.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:_}=yield Hd(C);for(const v of _)try{if(Oy(v))return}catch{}ze(C,"unauthorized-domain")})).apply(this,arguments)}function Oy(C){const _=zn(),{protocol:v,hostname:M}=new URL(_);if(C.startsWith("chrome-extension://")){const Be=new URL(C);return""===Be.hostname&&""===M?"chrome-extension:"===v&&C.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===v&&Be.hostname===M}if(!xy.test(v))return!1;if(ji.test(C))return M===C;const Q=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Q+"|"+Q+")$","i").test(M)}const wg=new Ne(3e4,6e4);function n_(){const C=Bi().___jsl;if(C?.H)for(const _ of Object.keys(C.H))if(C.H[_].r=C.H[_].r||[],C.H[_].L=C.H[_].L||[],C.H[_].r=[...C.H[_].L],C.CP)for(let v=0;v<C.CP.length;v++)C.CP[v]=null}let Xa=null;const Qf=new Ne(5e3,15e3),Vh="__/auth/iframe",Yi="emulator/auth/iframe",ku={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jf(C){const _=C.config;ge(_.authDomain,C,"auth-domain-config-required");const v=_.emulator?_e(_,Yi):`https://${C.config.authDomain}/${Vh}`,M={apiKey:_.apiKey,appName:C.name,v:u.SDK_VERSION},Q=hl.get(C.config.apiHost);Q&&(M.eid=Q);const le=C._getFrameworks();return le.length&&(M.fw=le.join(",")),`${v}?${(0,W.xO)(M).slice(1)}`}function wc(){return wc=(0,g.Z)(function*(C){const _=yield function Ql(C){return Xa=Xa||function Yf(C){return new Promise((_,v)=>{var M,Q,le;function Be(){n_(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{n_(),v(rt(C,"network-request-failed"))},timeout:wg.get()})}if(null!==(Q=null===(M=Bi().gapi)||void 0===M?void 0:M.iframes)&&void 0!==Q&&Q.Iframe)_(gapi.iframes.getContext());else{if(null===(le=Bi().gapi)||void 0===le||!le.load){const lt=Ua("iframefcb");return Bi()[lt]=()=>{gapi.load?Be():v(rt(C,"network-request-failed"))},Mr(`${function Di(){return Ls.gapiScript}()}?onload=${lt}`).catch(Lt=>v(Lt))}Be()}}).catch(_=>{throw Xa=null,_})}(C),Xa}(C),v=Bi().gapi;return ge(v,C,"internal-error"),_.open({where:document.body,url:Jf(C),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ku,dontclear:!0},M=>new Promise(function(){var Q=(0,g.Z)(function*(le,Be){yield M.restyle({setHideOnLeave:!1});const lt=rt(C,"network-request-failed"),Lt=Bi().setTimeout(()=>{Be(lt)},Qf.get());function Yt(){Bi().clearTimeout(Lt),le(M)}M.ping(Yt).then(Yt,()=>{Be(lt)})});return function(le,Be){return Q.apply(this,arguments)}}()))}),wc.apply(this,arguments)}const fl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ac{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Hh="__/auth/handler",ec="emulator/auth/handler",Xl=encodeURIComponent("fac");function tc(C,_,v,M,Q,le){return $d.apply(this,arguments)}function $d(){return($d=(0,g.Z)(function*(C,_,v,M,Q,le){ge(C.config.authDomain,C,"auth-domain-config-required"),ge(C.config.apiKey,C,"invalid-api-key");const Be={apiKey:C.config.apiKey,appName:C.name,authType:v,redirectUrl:M,v:u.SDK_VERSION,eventId:Q};if(_ instanceof Kr){_.setDefaultLanguage(C.languageCode),Be.providerId=_.providerId||"",(0,W.xb)(_.getCustomParameters())||(Be.customParameters=JSON.stringify(_.getCustomParameters()));for(const[Vn,yr]of Object.entries(le||{}))Be[Vn]=yr}if(_ instanceof de){const Vn=_.getScopes().filter(yr=>""!==yr);Vn.length>0&&(Be.scopes=Vn.join(","))}C.tenantId&&(Be.tid=C.tenantId);const lt=Be;for(const Vn of Object.keys(lt))void 0===lt[Vn]&&delete lt[Vn];const Lt=yield C._getAppCheckToken(),Yt=Lt?`#${Xl}=${encodeURIComponent(Lt)}`:"";return`${function $h({config:C}){return C.emulator?_e(C,ec):`https://${C.authDomain}/${Hh}`}(C)}?${(0,W.xO)(lt).slice(1)}${Yt}`})).apply(this,arguments)}const zh="webStorageSupport",ep=class Xf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ot,this._completeRedirectFn=jd,this._overrideRedirectResult=bg}_openPopup(_,v,M,Q){var le=this;return(0,g.Z)(function*(){var Be;Ht(null===(Be=le.eventManagers[_._key()])||void 0===Be?void 0:Be.manager,"_initialize() not called before _openPopup()");const lt=yield tc(_,v,M,zn(),Q);return function jh(C,_,v,M=500,Q=600){const le=Math.max((window.screen.availHeight-Q)/2,0).toString(),Be=Math.max((window.screen.availWidth-M)/2,0).toString();let lt="";const Lt=Object.assign(Object.assign({},fl),{width:M.toString(),height:Q.toString(),top:le,left:Be}),Yt=(0,W.z$)().toLowerCase();v&&(lt=Ds(Yt)?"_blank":v),xn(Yt)&&(_=_||"http://localhost",Lt.scrollbars="yes");const Vn=Object.entries(Lt).reduce((Ro,[Sc,Mc])=>`${Ro}${Sc}=${Mc},`,"");if(function Fs(C=(0,W.z$)()){var _;return ki(C)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(Yt)&&"_self"!==lt)return function Po(C,_){const v=document.createElement("a");v.href=C,v.target=_;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(M)}(_||"",lt),new Ac(null);const yr=window.open(_||"",lt,Vn);ge(yr,C,"popup-blocked");try{yr.focus()}catch{}return new Ac(yr)}(_,lt,vc())})()}_openRedirect(_,v,M,Q){var le=this;return(0,g.Z)(function*(){return yield le._originValidation(_),function Ul(C){Bi().location.href=C}(yield tc(_,v,M,zn(),Q)),new Promise(()=>{})})()}_initialize(_){const v=_._key();if(this.eventManagers[v]){const{manager:Q,promise:le}=this.eventManagers[v];return Q?Promise.resolve(Q):(Ht(le,"If manager is not set, promise should be"),le)}const M=this.initAndGetManager(_);return this.eventManagers[v]={promise:M},M.catch(()=>{delete this.eventManagers[v]}),M}initAndGetManager(_){var v=this;return(0,g.Z)(function*(){const M=yield function Os(C){return wc.apply(this,arguments)}(_),Q=new Go(_);return M.register("authEvent",le=>(ge(le?.authEvent,_,"invalid-auth-event"),{status:Q.onEvent(le.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[_._key()]={manager:Q},v.iframes[_._key()]=M,Q})()}_isIframeWebStorageSupported(_,v){this.iframes[_._key()].send(zh,{type:zh},Q=>{var le;const Be=null===(le=Q?.[0])||void 0===le?void 0:le[zh];void 0!==Be&&v(!!Be),ze(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const v=_._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function t_(C){return Cg.apply(this,arguments)}(_)),this.originValidationPromises[v]}get _shouldInitProactively(){return ya()||ci()||ki()}};class r_{constructor(_){this.factorId=_}_process(_,v,M){switch(v.type){case"enroll":return this._finalizeEnroll(_,v.credential,M);case"signin":return this._finalizeSignIn(_,v.credential);default:return Et("unexpected MultiFactorSessionType")}}}class eu extends r_{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new eu(_)}_finalizeEnroll(_,v,M){return function Gf(C,_){return vt(C,"POST","/v2/accounts/mfaEnrollment:finalize",gt(C,_))}(_,{idToken:v,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,v){return function Cs(C,_){return vt(C,"POST","/v2/accounts/mfaSignIn:finalize",gt(C,_))}(_,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Gh=(()=>{class C{constructor(){}static assertion(v){return eu._fromCredential(v)}}return C.FACTOR_ID="phone",C})();var zd="@firebase/auth";class ru{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var v=this;return(0,g.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const v=this.auth.onIdTokenChanged(M=>{_(M?.stsTokenManager.accessToken||null)});this.internalListeners.set(_,v),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const v=this.internalListeners.get(_);v&&(this.internalListeners.delete(_),v(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,W.Pz)("authIdTokenMaxAge"),function Li(C){Ls=C}({loadJS:C=>new Promise((_,v)=>{const M=document.createElement("script");M.setAttribute("src",C),M.onload=_,M.onerror=Q=>{const le=rt("internal-error");le.customData=Q,v(le)},M.type="text/javascript",M.charset="UTF-8",function Dg(){var C,_;return null!==(_=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==_?_:document}().appendChild(M)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function qh(C){(0,u._registerComponent)(new Pe.wA("auth",(_,{options:v})=>{const M=_.getProvider("app").getImmediate(),Q=_.getProvider("heartbeat"),le=_.getProvider("app-check-internal"),{apiKey:Be,authDomain:lt}=M.options;ge(Be&&!Be.includes(":"),"invalid-api-key",{appName:M.name});const Lt={apiKey:Be,authDomain:lt,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fi(C)},Yt=new na(M,Q,le,Lt);return function Co(C,_){const v=_?.persistence||[],M=(Array.isArray(v)?v:[v]).map(yt);_?.errorMap&&C._updateErrorMap(_.errorMap),C._initializeWithPersistence(M,_?.popupRedirectResolver)}(Yt,v),Yt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,v,M)=>{_.getProvider("auth-internal").initialize()})),(0,u._registerComponent)(new Pe.wA("auth-internal",_=>{const v=pr(_.getProvider("auth").getImmediate());return new ru(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,u.registerVersion)(zd,"1.7.4",function Lu(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(C)),(0,u.registerVersion)(zd,"1.7.4","esm2017")}("Browser")},5588:(Qt,We,H)=>{H.d(We,{u7:()=>O_,Jj:()=>bl,IX:()=>td,my:()=>Qi,xU:()=>No,Lz:()=>Tl,WA:()=>_e,F8:()=>Up,$q:()=>_m,W:()=>od,EK:()=>Dn,PU:()=>cd,l7:()=>Pn,Ky:()=>kt,Xb:()=>Hn,Cf:()=>vr,K9:()=>rn,Me:()=>To,yq:()=>Ht,Wi:()=>rm,ET:()=>vm,Ab:()=>qp,vr:()=>Cf,Fc:()=>Lp,hJ:()=>Op,B$:()=>ff,at:()=>hf,oe:()=>Wo,AK:()=>G_,TF:()=>w_,JU:()=>E_,ST:()=>pf,fH:()=>Uc,Ix:()=>Zv,Wu:()=>nv,Lx:()=>bf,qY:()=>Hi,GL:()=>$i,QT:()=>ym,kl:()=>L_,Xk:()=>ad,PL:()=>V_,UQ:()=>Xv,zN:()=>BE,ad:()=>kp,nP:()=>q_,b9:()=>tv,vh:()=>zp,Pb:()=>Vp,L$:()=>A_,cf:()=>Em,sc:()=>jE,Xo:()=>P_,IO:()=>Xy,iE:()=>I_,Eo:()=>Np,i3:()=>z_,Bt:()=>Tm,pl:()=>eE,Ub:()=>Ye,qK:()=>xa,TQ:()=>Ef,e0:()=>fh,r7:()=>U_,Mx:()=>Wv,ar:()=>hm});var Ae,xe,g=H(5861),u=H(4303),W=H(4537),Ie=H(7879),Ee=H(9058),Pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},me={};(function(){var l;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function d(Ke,Re,Ue){Ue||(Ue=0);var Qe=Array(16);if("string"==typeof Re)for(var tt=0;16>tt;++tt)Qe[tt]=Re.charCodeAt(Ue++)|Re.charCodeAt(Ue++)<<8|Re.charCodeAt(Ue++)<<16|Re.charCodeAt(Ue++)<<24;else for(tt=0;16>tt;++tt)Qe[tt]=Re[Ue++]|Re[Ue++]<<8|Re[Ue++]<<16|Re[Ue++]<<24;var dt=Ke.g[3],Le=(Re=Ke.g[0])+(dt^(Ue=Ke.g[1])&((tt=Ke.g[2])^dt))+Qe[0]+3614090360&4294967295;Le=(Ue=(tt=(dt=(Re=(Ue=(tt=(dt=(Re=(Ue=(tt=(dt=(Re=(Ue=(tt=(dt=(Re=(Ue=(tt=(dt=(Re=(Ue=(tt=(dt=(Re=(Ue=(tt=(dt=(Re=(Ue=(tt=(dt=(Re=(Ue=(tt=(dt=(Re=(Ue=(tt=(dt=(Re=(Ue=(tt=(dt=(Re=(Ue=(tt=(dt=(Re=(Ue=(tt=(dt=(Re=(Ue=(tt=(dt=(Re=(Ue=(tt=(dt=(Re=Ue+(Le<<7&4294967295|Le>>>25))+((Le=dt+(tt^Re&(Ue^tt))+Qe[1]+3905402710&4294967295)<<12&4294967295|Le>>>20))+((Le=tt+(Ue^dt&(Re^Ue))+Qe[2]+606105819&4294967295)<<17&4294967295|Le>>>15))+((Le=Ue+(Re^tt&(dt^Re))+Qe[3]+3250441966&4294967295)<<22&4294967295|Le>>>10))+((Le=Re+(dt^Ue&(tt^dt))+Qe[4]+4118548399&4294967295)<<7&4294967295|Le>>>25))+((Le=dt+(tt^Re&(Ue^tt))+Qe[5]+1200080426&4294967295)<<12&4294967295|Le>>>20))+((Le=tt+(Ue^dt&(Re^Ue))+Qe[6]+2821735955&4294967295)<<17&4294967295|Le>>>15))+((Le=Ue+(Re^tt&(dt^Re))+Qe[7]+4249261313&4294967295)<<22&4294967295|Le>>>10))+((Le=Re+(dt^Ue&(tt^dt))+Qe[8]+1770035416&4294967295)<<7&4294967295|Le>>>25))+((Le=dt+(tt^Re&(Ue^tt))+Qe[9]+2336552879&4294967295)<<12&4294967295|Le>>>20))+((Le=tt+(Ue^dt&(Re^Ue))+Qe[10]+4294925233&4294967295)<<17&4294967295|Le>>>15))+((Le=Ue+(Re^tt&(dt^Re))+Qe[11]+2304563134&4294967295)<<22&4294967295|Le>>>10))+((Le=Re+(dt^Ue&(tt^dt))+Qe[12]+1804603682&4294967295)<<7&4294967295|Le>>>25))+((Le=dt+(tt^Re&(Ue^tt))+Qe[13]+4254626195&4294967295)<<12&4294967295|Le>>>20))+((Le=tt+(Ue^dt&(Re^Ue))+Qe[14]+2792965006&4294967295)<<17&4294967295|Le>>>15))+((Le=Ue+(Re^tt&(dt^Re))+Qe[15]+1236535329&4294967295)<<22&4294967295|Le>>>10))+((Le=Re+(tt^dt&(Ue^tt))+Qe[1]+4129170786&4294967295)<<5&4294967295|Le>>>27))+((Le=dt+(Ue^tt&(Re^Ue))+Qe[6]+3225465664&4294967295)<<9&4294967295|Le>>>23))+((Le=tt+(Re^Ue&(dt^Re))+Qe[11]+643717713&4294967295)<<14&4294967295|Le>>>18))+((Le=Ue+(dt^Re&(tt^dt))+Qe[0]+3921069994&4294967295)<<20&4294967295|Le>>>12))+((Le=Re+(tt^dt&(Ue^tt))+Qe[5]+3593408605&4294967295)<<5&4294967295|Le>>>27))+((Le=dt+(Ue^tt&(Re^Ue))+Qe[10]+38016083&4294967295)<<9&4294967295|Le>>>23))+((Le=tt+(Re^Ue&(dt^Re))+Qe[15]+3634488961&4294967295)<<14&4294967295|Le>>>18))+((Le=Ue+(dt^Re&(tt^dt))+Qe[4]+3889429448&4294967295)<<20&4294967295|Le>>>12))+((Le=Re+(tt^dt&(Ue^tt))+Qe[9]+568446438&4294967295)<<5&4294967295|Le>>>27))+((Le=dt+(Ue^tt&(Re^Ue))+Qe[14]+3275163606&4294967295)<<9&4294967295|Le>>>23))+((Le=tt+(Re^Ue&(dt^Re))+Qe[3]+4107603335&4294967295)<<14&4294967295|Le>>>18))+((Le=Ue+(dt^Re&(tt^dt))+Qe[8]+1163531501&4294967295)<<20&4294967295|Le>>>12))+((Le=Re+(tt^dt&(Ue^tt))+Qe[13]+2850285829&4294967295)<<5&4294967295|Le>>>27))+((Le=dt+(Ue^tt&(Re^Ue))+Qe[2]+4243563512&4294967295)<<9&4294967295|Le>>>23))+((Le=tt+(Re^Ue&(dt^Re))+Qe[7]+1735328473&4294967295)<<14&4294967295|Le>>>18))+((Le=Ue+(dt^Re&(tt^dt))+Qe[12]+2368359562&4294967295)<<20&4294967295|Le>>>12))+((Le=Re+(Ue^tt^dt)+Qe[5]+4294588738&4294967295)<<4&4294967295|Le>>>28))+((Le=dt+(Re^Ue^tt)+Qe[8]+2272392833&4294967295)<<11&4294967295|Le>>>21))+((Le=tt+(dt^Re^Ue)+Qe[11]+1839030562&4294967295)<<16&4294967295|Le>>>16))+((Le=Ue+(tt^dt^Re)+Qe[14]+4259657740&4294967295)<<23&4294967295|Le>>>9))+((Le=Re+(Ue^tt^dt)+Qe[1]+2763975236&4294967295)<<4&4294967295|Le>>>28))+((Le=dt+(Re^Ue^tt)+Qe[4]+1272893353&4294967295)<<11&4294967295|Le>>>21))+((Le=tt+(dt^Re^Ue)+Qe[7]+4139469664&4294967295)<<16&4294967295|Le>>>16))+((Le=Ue+(tt^dt^Re)+Qe[10]+3200236656&4294967295)<<23&4294967295|Le>>>9))+((Le=Re+(Ue^tt^dt)+Qe[13]+681279174&4294967295)<<4&4294967295|Le>>>28))+((Le=dt+(Re^Ue^tt)+Qe[0]+3936430074&4294967295)<<11&4294967295|Le>>>21))+((Le=tt+(dt^Re^Ue)+Qe[3]+3572445317&4294967295)<<16&4294967295|Le>>>16))+((Le=Ue+(tt^dt^Re)+Qe[6]+76029189&4294967295)<<23&4294967295|Le>>>9))+((Le=Re+(Ue^tt^dt)+Qe[9]+3654602809&4294967295)<<4&4294967295|Le>>>28))+((Le=dt+(Re^Ue^tt)+Qe[12]+3873151461&4294967295)<<11&4294967295|Le>>>21))+((Le=tt+(dt^Re^Ue)+Qe[15]+530742520&4294967295)<<16&4294967295|Le>>>16))+((Le=Ue+(tt^dt^Re)+Qe[2]+3299628645&4294967295)<<23&4294967295|Le>>>9))+((Le=Re+(tt^(Ue|~dt))+Qe[0]+4096336452&4294967295)<<6&4294967295|Le>>>26))+((Le=dt+(Ue^(Re|~tt))+Qe[7]+1126891415&4294967295)<<10&4294967295|Le>>>22))+((Le=tt+(Re^(dt|~Ue))+Qe[14]+2878612391&4294967295)<<15&4294967295|Le>>>17))+((Le=Ue+(dt^(tt|~Re))+Qe[5]+4237533241&4294967295)<<21&4294967295|Le>>>11))+((Le=Re+(tt^(Ue|~dt))+Qe[12]+1700485571&4294967295)<<6&4294967295|Le>>>26))+((Le=dt+(Ue^(Re|~tt))+Qe[3]+2399980690&4294967295)<<10&4294967295|Le>>>22))+((Le=tt+(Re^(dt|~Ue))+Qe[10]+4293915773&4294967295)<<15&4294967295|Le>>>17))+((Le=Ue+(dt^(tt|~Re))+Qe[1]+2240044497&4294967295)<<21&4294967295|Le>>>11))+((Le=Re+(tt^(Ue|~dt))+Qe[8]+1873313359&4294967295)<<6&4294967295|Le>>>26))+((Le=dt+(Ue^(Re|~tt))+Qe[15]+4264355552&4294967295)<<10&4294967295|Le>>>22))+((Le=tt+(Re^(dt|~Ue))+Qe[6]+2734768916&4294967295)<<15&4294967295|Le>>>17))+((Le=Ue+(dt^(tt|~Re))+Qe[13]+1309151649&4294967295)<<21&4294967295|Le>>>11))+((dt=(Re=Ue+((Le=Re+(tt^(Ue|~dt))+Qe[4]+4149444226&4294967295)<<6&4294967295|Le>>>26))+((Le=dt+(Ue^(Re|~tt))+Qe[11]+3174756917&4294967295)<<10&4294967295|Le>>>22))^((tt=dt+((Le=tt+(Re^(dt|~Ue))+Qe[2]+718787259&4294967295)<<15&4294967295|Le>>>17))|~Re))+Qe[9]+3951481745&4294967295,Ke.g[0]=Ke.g[0]+Re&4294967295,Ke.g[1]=Ke.g[1]+(tt+(Le<<21&4294967295|Le>>>11))&4294967295,Ke.g[2]=Ke.g[2]+tt&4294967295,Ke.g[3]=Ke.g[3]+dt&4294967295}function b(Ke,Re){this.h=Re;for(var Ue=[],Qe=!0,tt=Ke.length-1;0<=tt;tt--){var dt=0|Ke[tt];Qe&&dt==Re||(Ue[tt]=dt,Qe=!1)}this.g=Ue}(function e(Ke,Re){function Ue(){}Ue.prototype=Re.prototype,Ke.D=Re.prototype,Ke.prototype=new Ue,Ke.prototype.constructor=Ke,Ke.C=function(Qe,tt,dt){for(var Le=Array(arguments.length-2),$c=2;$c<arguments.length;$c++)Le[$c-2]=arguments[$c];return Re.prototype[tt].apply(Qe,Le)}})(s,function r(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(Ke,Re){void 0===Re&&(Re=Ke.length);for(var Ue=Re-this.blockSize,Qe=this.B,tt=this.h,dt=0;dt<Re;){if(0==tt)for(;dt<=Ue;)d(this,Ke,dt),dt+=this.blockSize;if("string"==typeof Ke){for(;dt<Re;)if(Qe[tt++]=Ke.charCodeAt(dt++),tt==this.blockSize){d(this,Qe),tt=0;break}}else for(;dt<Re;)if(Qe[tt++]=Ke[dt++],tt==this.blockSize){d(this,Qe),tt=0;break}}this.h=tt,this.o+=Re},s.prototype.v=function(){var Ke=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Ke[0]=128;for(var Re=1;Re<Ke.length-8;++Re)Ke[Re]=0;var Ue=8*this.o;for(Re=Ke.length-8;Re<Ke.length;++Re)Ke[Re]=255&Ue,Ue/=256;for(this.u(Ke),Ke=Array(16),Re=Ue=0;4>Re;++Re)for(var Qe=0;32>Qe;Qe+=8)Ke[Ue++]=this.g[Re]>>>Qe&255;return Ke};var R={};function V(Ke){return-128<=Ke&&128>Ke?function y(Ke,Re){var Ue=R;return Object.prototype.hasOwnProperty.call(Ue,Ke)?Ue[Ke]:Ue[Ke]=Re(Ke)}(Ke,function(Re){return new b([0|Re],0>Re?-1:0)}):new b([0|Ke],0>Ke?-1:0)}function Y(Ke){if(isNaN(Ke)||!isFinite(Ke))return ye;if(0>Ke)return Ut(Y(-Ke));for(var Re=[],Ue=1,Qe=0;Ke>=Ue;Qe++)Re[Qe]=Ke/Ue|0,Ue*=4294967296;return new b(Re,0)}var ye=V(0),ke=V(1),ot=V(16777216);function xt(Ke){if(0!=Ke.h)return!1;for(var Re=0;Re<Ke.g.length;Re++)if(0!=Ke.g[Re])return!1;return!0}function Wt(Ke){return-1==Ke.h}function Ut(Ke){for(var Re=Ke.g.length,Ue=[],Qe=0;Qe<Re;Qe++)Ue[Qe]=~Ke.g[Qe];return new b(Ue,~Ke.h).add(ke)}function An(Ke,Re){return Ke.add(Ut(Re))}function $n(Ke,Re){for(;(65535&Ke[Re])!=Ke[Re];)Ke[Re+1]+=Ke[Re]>>>16,Ke[Re]&=65535,Re++}function Sn(Ke,Re){this.g=Ke,this.h=Re}function lr(Ke,Re){if(xt(Re))throw Error("division by zero");if(xt(Ke))return new Sn(ye,ye);if(Wt(Ke))return Re=lr(Ut(Ke),Re),new Sn(Ut(Re.g),Ut(Re.h));if(Wt(Re))return Re=lr(Ke,Ut(Re)),new Sn(Ut(Re.g),Re.h);if(30<Ke.g.length){if(Wt(Ke)||Wt(Re))throw Error("slowDivide_ only works with positive integers.");for(var Ue=ke,Qe=Re;0>=Qe.l(Ke);)Ue=Hr(Ue),Qe=Hr(Qe);var tt=Er(Ue,1),dt=Er(Qe,1);for(Qe=Er(Qe,2),Ue=Er(Ue,2);!xt(Qe);){var Le=dt.add(Qe);0>=Le.l(Ke)&&(tt=tt.add(Ue),dt=Le),Qe=Er(Qe,1),Ue=Er(Ue,1)}return Re=An(Ke,tt.j(Re)),new Sn(tt,Re)}for(tt=ye;0<=Ke.l(Re);){for(Ue=Math.max(1,Math.floor(Ke.m()/Re.m())),Qe=48>=(Qe=Math.ceil(Math.log(Ue)/Math.LN2))?1:Math.pow(2,Qe-48),Le=(dt=Y(Ue)).j(Re);Wt(Le)||0<Le.l(Ke);)Le=(dt=Y(Ue-=Qe)).j(Re);xt(dt)&&(dt=ke),tt=tt.add(dt),Ke=An(Ke,Le)}return new Sn(tt,Ke)}function Hr(Ke){for(var Re=Ke.g.length+1,Ue=[],Qe=0;Qe<Re;Qe++)Ue[Qe]=Ke.i(Qe)<<1|Ke.i(Qe-1)>>>31;return new b(Ue,Ke.h)}function Er(Ke,Re){var Ue=Re>>5;Re%=32;for(var Qe=Ke.g.length-Ue,tt=[],dt=0;dt<Qe;dt++)tt[dt]=0<Re?Ke.i(dt+Ue)>>>Re|Ke.i(dt+Ue+1)<<32-Re:Ke.i(dt+Ue);return new b(tt,Ke.h)}(l=b.prototype).m=function(){if(Wt(this))return-Ut(this).m();for(var Ke=0,Re=1,Ue=0;Ue<this.g.length;Ue++){var Qe=this.i(Ue);Ke+=(0<=Qe?Qe:4294967296+Qe)*Re,Re*=4294967296}return Ke},l.toString=function(Ke){if(2>(Ke=Ke||10)||36<Ke)throw Error("radix out of range: "+Ke);if(xt(this))return"0";if(Wt(this))return"-"+Ut(this).toString(Ke);for(var Re=Y(Math.pow(Ke,6)),Ue=this,Qe="";;){var tt=lr(Ue,Re).g,dt=((0<(Ue=An(Ue,tt.j(Re))).g.length?Ue.g[0]:Ue.h)>>>0).toString(Ke);if(xt(Ue=tt))return dt+Qe;for(;6>dt.length;)dt="0"+dt;Qe=dt+Qe}},l.i=function(Ke){return 0>Ke?0:Ke<this.g.length?this.g[Ke]:this.h},l.l=function(Ke){return Wt(Ke=An(this,Ke))?-1:xt(Ke)?0:1},l.abs=function(){return Wt(this)?Ut(this):this},l.add=function(Ke){for(var Re=Math.max(this.g.length,Ke.g.length),Ue=[],Qe=0,tt=0;tt<=Re;tt++){var dt=Qe+(65535&this.i(tt))+(65535&Ke.i(tt)),Le=(dt>>>16)+(this.i(tt)>>>16)+(Ke.i(tt)>>>16);Qe=Le>>>16,Ue[tt]=(Le&=65535)<<16|(dt&=65535)}return new b(Ue,-2147483648&Ue[Ue.length-1]?-1:0)},l.j=function(Ke){if(xt(this)||xt(Ke))return ye;if(Wt(this))return Wt(Ke)?Ut(this).j(Ut(Ke)):Ut(Ut(this).j(Ke));if(Wt(Ke))return Ut(this.j(Ut(Ke)));if(0>this.l(ot)&&0>Ke.l(ot))return Y(this.m()*Ke.m());for(var Re=this.g.length+Ke.g.length,Ue=[],Qe=0;Qe<2*Re;Qe++)Ue[Qe]=0;for(Qe=0;Qe<this.g.length;Qe++)for(var tt=0;tt<Ke.g.length;tt++){var dt=this.i(Qe)>>>16,Le=65535&this.i(Qe),$c=Ke.i(tt)>>>16,wf=65535&Ke.i(tt);Ue[2*Qe+2*tt]+=Le*wf,$n(Ue,2*Qe+2*tt),Ue[2*Qe+2*tt+1]+=dt*wf,$n(Ue,2*Qe+2*tt+1),Ue[2*Qe+2*tt+1]+=Le*$c,$n(Ue,2*Qe+2*tt+1),Ue[2*Qe+2*tt+2]+=dt*$c,$n(Ue,2*Qe+2*tt+2)}for(Qe=0;Qe<Re;Qe++)Ue[Qe]=Ue[2*Qe+1]<<16|Ue[2*Qe];for(Qe=Re;Qe<2*Re;Qe++)Ue[Qe]=0;return new b(Ue,0)},l.A=function(Ke){return lr(this,Ke).h},l.and=function(Ke){for(var Re=Math.max(this.g.length,Ke.g.length),Ue=[],Qe=0;Qe<Re;Qe++)Ue[Qe]=this.i(Qe)&Ke.i(Qe);return new b(Ue,this.h&Ke.h)},l.or=function(Ke){for(var Re=Math.max(this.g.length,Ke.g.length),Ue=[],Qe=0;Qe<Re;Qe++)Ue[Qe]=this.i(Qe)|Ke.i(Qe);return new b(Ue,this.h|Ke.h)},l.xor=function(Ke){for(var Re=Math.max(this.g.length,Ke.g.length),Ue=[],Qe=0;Qe<Re;Qe++)Ue[Qe]=this.i(Qe)^Ke.i(Qe);return new b(Ue,this.h^Ke.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,xe=me.Md5=s,b.prototype.add=b.prototype.add,b.prototype.multiply=b.prototype.j,b.prototype.modulo=b.prototype.A,b.prototype.compare=b.prototype.l,b.prototype.toNumber=b.prototype.m,b.prototype.toString=b.prototype.toString,b.prototype.getBits=b.prototype.i,b.fromNumber=Y,b.fromString=function ie(Ke,Re){if(0==Ke.length)throw Error("number format error: empty string");if(2>(Re=Re||10)||36<Re)throw Error("radix out of range: "+Re);if("-"==Ke.charAt(0))return Ut(ie(Ke.substring(1),Re));if(0<=Ke.indexOf("-"))throw Error('number format error: interior "-" character');for(var Ue=Y(Math.pow(Re,8)),Qe=ye,tt=0;tt<Ke.length;tt+=8){var dt=Math.min(8,Ke.length-tt),Le=parseInt(Ke.substring(tt,tt+dt),Re);8>dt?(dt=Y(Math.pow(Re,dt)),Qe=Qe.j(dt).add(Y(Le))):Qe=(Qe=Qe.j(Ue)).add(Y(Le))}return Qe},Ae=me.Integer=b}).apply(typeof Pe<"u"?Pe:typeof self<"u"?self:typeof window<"u"?window:{});var Oe,pt,Je,Dt,mt,It,_t,en,Ze,fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ve={};(function(){var l,e="function"==typeof Object.defineProperties?Object.defineProperty:function(I,U,J){return I==Array.prototype||I==Object.prototype||(I[U]=J.value),I},s=function r(I){I=["object"==typeof globalThis&&globalThis,I,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof fe&&fe];for(var U=0;U<I.length;++U){var J=I[U];if(J&&J.Math==Math)return J}throw Error("Cannot find global object")}(this);!function d(I,U){if(U)e:{var J=s;I=I.split(".");for(var pe=0;pe<I.length-1;pe++){var st=I[pe];if(!(st in J))break e;J=J[st]}(U=U(pe=J[I=I[I.length-1]]))!=pe&&null!=U&&e(J,I,{configurable:!0,writable:!0,value:U})}}("Array.prototype.values",function(I){return I||function(){return function y(I,U){I instanceof String&&(I+="");var J=0,pe=!1,st={next:function(){if(!pe&&J<I.length){var wt=J++;return{value:U(wt,I[wt]),done:!1}}return pe=!0,{done:!0,value:void 0}}};return st[Symbol.iterator]=function(){return st},st}(this,function(U,J){return J})}});var b=b||{},R=this||self;function V(I){var U=typeof I;return"array"==(U="object"!=U?U:I?Array.isArray(I)?"array":U:"null")||"object"==U&&"number"==typeof I.length}function Y(I){var U=typeof I;return"object"==U&&null!=I||"function"==U}function ie(I,U,J){return I.call.apply(I.bind,arguments)}function ye(I,U,J){if(!I)throw Error();if(2<arguments.length){var pe=Array.prototype.slice.call(arguments,2);return function(){var st=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(st,pe),I.apply(U,st)}}return function(){return I.apply(U,arguments)}}function ke(I,U,J){return(ke=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ie:ye).apply(null,arguments)}function ot(I,U){var J=Array.prototype.slice.call(arguments,1);return function(){var pe=J.slice();return pe.push.apply(pe,arguments),I.apply(this,pe)}}function xt(I,U){function J(){}J.prototype=U.prototype,I.aa=U.prototype,I.prototype=new J,I.prototype.constructor=I,I.Qb=function(pe,st,wt){for(var un=Array(arguments.length-2),Ci=2;Ci<arguments.length;Ci++)un[Ci-2]=arguments[Ci];return U.prototype[st].apply(pe,un)}}function Wt(I){const U=I.length;if(0<U){const J=Array(U);for(let pe=0;pe<U;pe++)J[pe]=I[pe];return J}return[]}function Ut(I,U){for(let J=1;J<arguments.length;J++){const pe=arguments[J];if(V(pe)){const st=I.length||0,wt=pe.length||0;I.length=st+wt;for(let un=0;un<wt;un++)I[st+un]=pe[un]}else I.push(pe)}}function $n(I){return/^[\s\xa0]*$/.test(I)}function Sn(){var I=R.navigator;return I&&(I=I.userAgent)?I:""}function lr(I){return lr[" "](I),I}lr[" "]=function(){};var Hr=!(-1==Sn().indexOf("Gecko")||-1!=Sn().toLowerCase().indexOf("webkit")&&-1==Sn().indexOf("Edge")||-1!=Sn().indexOf("Trident")||-1!=Sn().indexOf("MSIE")||-1!=Sn().indexOf("Edge"));function Er(I,U,J){for(const pe in I)U.call(J,I[pe],pe,I)}function Re(I){const U={};for(const J in I)U[J]=I[J];return U}const Ue="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qe(I,U){let J,pe;for(let st=1;st<arguments.length;st++){for(J in pe=arguments[st],pe)I[J]=pe[J];for(let wt=0;wt<Ue.length;wt++)J=Ue[wt],Object.prototype.hasOwnProperty.call(pe,J)&&(I[J]=pe[J])}}function tt(I){var U=1;I=I.split(":");const J=[];for(;0<U&&I.length;)J.push(I.shift()),U--;return I.length&&J.push(I.join(":")),J}function dt(I){R.setTimeout(()=>{throw I},0)}function Le(){var I=fu;let U=null;return I.g&&(U=I.g,I.g=I.g.next,I.g||(I.h=null),U.next=null),U}var wf=new class An{constructor(U,J){this.i=U,this.j=J,this.h=0,this.g=null}get(){let U;return 0<this.h?(this.h--,U=this.g,this.g=U.next,U.next=null):U=this.i(),U}}(()=>new Zo,I=>I.reset());class Zo{constructor(){this.next=this.g=this.h=null}set(U,J){this.h=U,this.g=J,this.next=null}reset(){this.next=this.g=this.h=null}}let Oa,Ko=!1,fu=new class $c{constructor(){this.h=this.g=null}add(U,J){const pe=wf.get();pe.set(U,J),this.h?this.h.next=pe:this.g=pe,this.h=pe}},pu=()=>{const I=R.Promise.resolve(void 0);Oa=()=>{I.then(Z_)}};var Z_=()=>{for(var I;I=Le();){try{I.h.call(I.g)}catch(J){dt(J)}var U=wf;U.j(I),100>U.h&&(U.h++,I.next=U.g,U.g=I)}Ko=!1};function zc(){this.s=this.s,this.C=this.C}function to(I,U){this.type=I,this.g=this.target=U,this.defaultPrevented=!1}zc.prototype.s=!1,zc.prototype.ma=function(){this.s||(this.s=!0,this.N())},zc.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},to.prototype.h=function(){this.defaultPrevented=!0};var Af=function(){if(!R.addEventListener||!Object.defineProperty)return!1;var I=!1,U=Object.defineProperty({},"passive",{get:function(){I=!0}});try{const J=()=>{};R.addEventListener("test",J,U),R.removeEventListener("test",J,U)}catch{}return I}();function Dl(I,U){if(to.call(this,I?I.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,I){var J=this.type=I.type,pe=I.changedTouches&&I.changedTouches.length?I.changedTouches[0]:null;if(this.target=I.target||I.srcElement,this.g=U,U=I.relatedTarget){if(Hr){e:{try{lr(U.nodeName);var st=!0;break e}catch{}st=!1}st||(U=null)}}else"mouseover"==J?U=I.fromElement:"mouseout"==J&&(U=I.toElement);this.relatedTarget=U,pe?(this.clientX=void 0!==pe.clientX?pe.clientX:pe.pageX,this.clientY=void 0!==pe.clientY?pe.clientY:pe.pageY,this.screenX=pe.screenX||0,this.screenY=pe.screenY||0):(this.clientX=void 0!==I.clientX?I.clientX:I.pageX,this.clientY=void 0!==I.clientY?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0),this.button=I.button,this.key=I.key||"",this.ctrlKey=I.ctrlKey,this.altKey=I.altKey,this.shiftKey=I.shiftKey,this.metaKey=I.metaKey,this.pointerId=I.pointerId||0,this.pointerType="string"==typeof I.pointerType?I.pointerType:_v[I.pointerType]||"",this.state=I.state,this.i=I,I.defaultPrevented&&Dl.aa.h.call(this)}}xt(Dl,to);var _v={2:"touch",3:"pen",4:"mouse"};Dl.prototype.h=function(){Dl.aa.h.call(this);var I=this.i;I.preventDefault?I.preventDefault():I.returnValue=!1};var ud="closure_listenable_"+(1e6*Math.random()|0),K_=0;function yv(I,U,J,pe,st){this.listener=I,this.proxy=null,this.src=U,this.type=J,this.capture=!!pe,this.ha=st,this.key=++K_,this.da=this.fa=!1}function Wp(I){I.da=!0,I.listener=null,I.proxy=null,I.src=null,I.ha=null}function _o(I){this.src=I,this.g={},this.h=0}function Zp(I,U){var J=U.type;if(J in I.g){var wt,pe=I.g[J],st=Array.prototype.indexOf.call(pe,U,void 0);(wt=0<=st)&&Array.prototype.splice.call(pe,st,1),wt&&(Wp(U),0==I.g[J].length&&(delete I.g[J],I.h--))}}function Y_(I,U,J,pe){for(var st=0;st<I.length;++st){var wt=I[st];if(!wt.da&&wt.listener==U&&wt.capture==!!J&&wt.ha==pe)return st}return-1}_o.prototype.add=function(I,U,J,pe,st){var wt=I.toString();(I=this.g[wt])||(I=this.g[wt]=[],this.h++);var un=Y_(I,U,pe,st);return-1<un?(U=I[un],J||(U.fa=!1)):((U=new yv(U,this.src,wt,!!pe,st)).fa=J,I.push(U)),U};var ic="closure_lm_"+(1e6*Math.random()|0),Kp={};function vv(I,U,J,pe,st){if(pe&&pe.once)return mh(I,U,J,pe,st);if(Array.isArray(U)){for(var wt=0;wt<U.length;wt++)vv(I,U[wt],J,pe,st);return null}return J=Sf(J),I&&I[ud]?I.K(U,J,Y(pe)?!!pe.capture:!!pe,st):Q_(I,U,J,!1,pe,st)}function Q_(I,U,J,pe,st,wt){if(!U)throw Error("Invalid event type");var un=Y(st)?!!st.capture:!!st,Ci=dd(I);if(Ci||(I[ic]=Ci=new _o(I)),(J=Ci.add(U,J,pe,un,wt)).proxy)return J;if(pe=function aE(){const U=wm;return function I(J){return U.call(I.src,I.listener,J)}}(),J.proxy=pe,pe.src=I,pe.listener=J,I.addEventListener)Af||(st=un),void 0===st&&(st=!1),I.addEventListener(U.toString(),pe,st);else if(I.attachEvent)I.attachEvent(Yp(U.toString()),pe);else{if(!I.addListener||!I.removeListener)throw Error("addEventListener and attachEvent are unavailable.");I.addListener(pe)}return J}function mh(I,U,J,pe,st){if(Array.isArray(U)){for(var wt=0;wt<U.length;wt++)mh(I,U[wt],J,pe,st);return null}return J=Sf(J),I&&I[ud]?I.L(U,J,Y(pe)?!!pe.capture:!!pe,st):Q_(I,U,J,!0,pe,st)}function Cm(I,U,J,pe,st){if(Array.isArray(U))for(var wt=0;wt<U.length;wt++)Cm(I,U[wt],J,pe,st);else pe=Y(pe)?!!pe.capture:!!pe,J=Sf(J),I&&I[ud]?(I=I.i,(U=String(U).toString())in I.g&&-1<(J=Y_(wt=I.g[U],J,pe,st))&&(Wp(wt[J]),Array.prototype.splice.call(wt,J,1),0==wt.length&&(delete I.g[U],I.h--))):I&&(I=dd(I))&&(U=I.g[U.toString()],I=-1,U&&(I=Y_(U,J,pe,st)),(J=-1<I?U[I]:null)&&_h(J))}function _h(I){if("number"!=typeof I&&I&&!I.da){var U=I.src;if(U&&U[ud])Zp(U.i,I);else{var J=I.type,pe=I.proxy;U.removeEventListener?U.removeEventListener(J,pe,I.capture):U.detachEvent?U.detachEvent(Yp(J),pe):U.addListener&&U.removeListener&&U.removeListener(pe),(J=dd(U))?(Zp(J,I),0==J.h&&(J.src=null,U[ic]=null)):Wp(I)}}}function Yp(I){return I in Kp?Kp[I]:Kp[I]="on"+I}function wm(I,U){if(I.da)I=!0;else{U=new Dl(U,this);var J=I.listener,pe=I.ha||I.src;I.fa&&_h(I),I=J.call(pe,U)}return I}function dd(I){return(I=I[ic])instanceof _o?I:null}var Df="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sf(I){return"function"==typeof I?I:(I[Df]||(I[Df]=function(U){return I.handleEvent(U)}),I[Df])}function no(){zc.call(this),this.i=new _o(this),this.M=this,this.F=null}function Ns(I,U){var J,pe=I.F;if(pe)for(J=[];pe;pe=pe.F)J.push(pe);if(I=I.M,pe=U.type||U,"string"==typeof U)U=new to(U,I);else if(U instanceof to)U.target=U.target||I;else{var st=U;Qe(U=new to(pe,I),st)}if(st=!0,J)for(var wt=J.length-1;0<=wt;wt--){var un=U.g=J[wt];st=pa(un,pe,!0,U)&&st}if(st=pa(un=U.g=I,pe,!0,U)&&st,st=pa(un,pe,!1,U)&&st,J)for(wt=0;wt<J.length;wt++)st=pa(un=U.g=J[wt],pe,!1,U)&&st}function pa(I,U,J,pe){if(!(U=I.i.g[String(U)]))return!0;U=U.concat();for(var st=!0,wt=0;wt<U.length;++wt){var un=U[wt];if(un&&!un.da&&un.capture==J){var Ci=un.listener,Gs=un.ha||un.src;un.fa&&Zp(I.i,un),st=!1!==Ci.call(Gs,pe)&&st}}return st&&!pe.defaultPrevented}function J_(I,U,J){if("function"==typeof I)J&&(I=ke(I,J));else{if(!I||"function"!=typeof I.handleEvent)throw Error("Invalid listener argument");I=ke(I.handleEvent,I)}return 2147483647<Number(U)?-1:R.setTimeout(I,U||0)}function X_(I){I.g=J_(()=>{I.g=null,I.i&&(I.i=!1,X_(I))},I.l);const U=I.h;I.h=null,I.m.apply(null,U)}xt(no,zc),no.prototype[ud]=!0,no.prototype.removeEventListener=function(I,U,J,pe){Cm(this,I,U,J,pe)},no.prototype.N=function(){if(no.aa.N.call(this),this.i){var U,I=this.i;for(U in I.g){for(var J=I.g[U],pe=0;pe<J.length;pe++)Wp(J[pe]);delete I.g[U],I.h--}}this.F=null},no.prototype.K=function(I,U,J,pe){return this.i.add(String(I),U,!1,J,pe)},no.prototype.L=function(I,U,J,pe){return this.i.add(String(I),U,!0,J,pe)};class Am extends zc{constructor(U,J){super(),this.m=U,this.l=J,this.h=null,this.i=!1,this.g=null}j(U){this.h=arguments,this.g?this.i=!0:X_(this)}N(){super.N(),this.g&&(R.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mf(I){zc.call(this),this.h=I,this.g={}}xt(Mf,zc);var Dm=[];function ey(I){Er(I.g,function(U,J){this.g.hasOwnProperty(J)&&_h(U)},I),I.g={}}Mf.prototype.N=function(){Mf.aa.N.call(this),ey(this)},Mf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Na=R.JSON.stringify,hd=R.JSON.parse,Qp=class{stringify(I){return R.JSON.stringify(I,void 0)}parse(I){return R.JSON.parse(I,void 0)}};function Sl(){}function ty(){}Sl.prototype.h=null;var yh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Jp(){to.call(this,"d")}function Sm(){to.call(this,"c")}xt(Jp,to),xt(Sm,to);var Ml={},Mm=null;function gu(){return Mm=Mm||new no}function mu(I){to.call(this,Ml.La,I)}function _u(I){const U=gu();Ns(U,new mu(U))}function Pm(I,U){to.call(this,Ml.STAT_EVENT,I),this.stat=U}function ro(I){const U=gu();Ns(U,new Pm(U,I))}function ny(I,U){to.call(this,Ml.Ma,I),this.size=U}function Xp(I,U){if("function"!=typeof I)throw Error("Fn must not be null and must be a function");return R.setTimeout(function(){I()},U)}function sc(){this.g=!0}function vh(I,U,J,pe){I.info(function(){return"XMLHTTP TEXT ("+U+"): "+function Rm(I,U){if(!I.g)return U;if(!U)return null;try{var J=JSON.parse(U);if(J)for(I=0;I<J.length;I++)if(Array.isArray(J[I])){var pe=J[I];if(!(2>pe.length)){var st=pe[1];if(Array.isArray(st)&&!(1>st.length)){var wt=st[0];if("noop"!=wt&&"stop"!=wt&&"close"!=wt)for(var un=1;un<st.length;un++)st[un]=""}}}return Na(J)}catch{return U}}(I,J)+(pe?" "+pe:"")})}Ml.La="serverreachability",xt(mu,to),Ml.STAT_EVENT="statevent",xt(Pm,to),Ml.Ma="timingevent",xt(ny,to),sc.prototype.xa=function(){this.g=!1},sc.prototype.info=function(){};var xm,Pf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Rf(){}function Gc(I,U,J,pe){this.j=I,this.i=U,this.l=J,this.R=pe||1,this.U=new Mf(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new iy}function iy(){this.i=null,this.g="",this.h=!1}xt(Rf,Sl),Rf.prototype.g=function(){return new XMLHttpRequest},Rf.prototype.i=function(){return{}},xm=new Rf;var xf={},Om={};function eg(I,U,J){I.L=1,I.v=Pl(Fa(U)),I.m=J,I.P=!0,sy(I,null)}function sy(I,U){I.F=Date.now(),tg(I),I.A=Fa(I.v);var J=I.A,pe=I.R;Array.isArray(pe)||(pe=[String(pe)]),Vm(J.i,"t",pe),I.C=0,J=I.j.J,I.h=new iy,I.g=yy(I.j,J?U:null,!I.m),0<I.O&&(I.M=new Am(ke(I.Y,I,I.g),I.O)),U=I.U,J=I.g,pe=I.ca;var st="readystatechange";Array.isArray(st)||(st&&(Dm[0]=st.toString()),st=Dm);for(var wt=0;wt<st.length;wt++){var un=vv(J,st[wt],pe||U.handleEvent,!1,U.h||U);if(!un)break;U.g[un.key]=un}U=I.H?Re(I.H):{},I.m?(I.u||(I.u="POST"),U["Content-Type"]="application/x-www-form-urlencoded",I.g.ea(I.A,I.u,I.m,U)):(I.u="GET",I.g.ea(I.A,I.u,null,U)),_u(),function cE(I,U,J,pe,st,wt){I.info(function(){if(I.g)if(wt)for(var un="",Ci=wt.split("&"),Gs=0;Gs<Ci.length;Gs++){var Qr=Ci[Gs].split("=");if(1<Qr.length){var so=Qr[0];Qr=Qr[1];var yo=so.split("_");un=2<=yo.length&&"type"==yo[1]?un+(so+"=")+Qr+"&":un+(so+"=redacted&")}}else un=null;else un=wt;return"XMLHTTP REQ ("+pe+") [attempt "+st+"]: "+U+"\n"+J+"\n"+un})}(I.i,I.u,I.A,I.l,I.R,I.m)}function oy(I){return!!I.g&&"GET"==I.u&&2!=I.L&&I.j.Ca}function ay(I,U){var J=I.C,pe=U.indexOf("\n",J);return-1==pe?Om:(J=Number(U.substring(J,pe)),isNaN(J)?xf:(pe+=1)+J>U.length?Om:(U=U.slice(pe,pe+J),I.C=pe+J,U))}function tg(I){I.S=Date.now()+I.I,ng(I,I.I)}function ng(I,U){if(null!=I.B)throw Error("WatchDog timer not null");I.B=Xp(ke(I.ba,I),U)}function rg(I){I.B&&(R.clearTimeout(I.B),I.B=null)}function Eh(I){0==I.j.G||I.J||ug(I.j,I)}function fd(I){rg(I);var U=I.M;U&&"function"==typeof U.ma&&U.ma(),I.M=null,ey(I.U),I.g&&(U=I.g,I.g=null,U.abort(),U.ma())}function cy(I,U){try{var J=I.j;if(0!=J.G&&(J.g==I||gd(J.h,I)))if(!I.K&&gd(J.h,I)&&3==J.G){try{var pe=J.Da.g.parse(U)}catch{pe=null}if(Array.isArray(pe)&&3==pe.length){var st=pe;if(0==st[0]){e:if(!J.u){if(J.g){if(!(J.g.F+3e3<I.F))break e;Uf(J),Hm(J)}zm(J),ro(18)}}else J.za=st[1],0<J.za-J.T&&37500>st[2]&&J.F&&0==J.v&&!J.C&&(J.C=Xp(ke(J.Za,J),6e3));if(1>=pd(J.h)&&J.ca){try{J.ca()}catch{}J.ca=void 0}}else vd(J,11)}else if((I.K||J.g==I)&&Uf(J),!$n(U))for(st=J.Da.g.parse(U),U=0;U<st.length;U++){let Qr=st[U];if(J.T=Qr[0],Qr=Qr[1],2==J.G)if("c"==Qr[0]){J.K=Qr[1],J.ia=Qr[2];const so=Qr[3];null!=so&&(J.la=so,J.j.info("VER="+J.la));const yo=Qr[4];null!=yo&&(J.Aa=yo,J.j.info("SVER="+J.Aa));const jf=Qr[5];null!=jf&&"number"==typeof jf&&0<jf&&(J.L=pe=1.5*jf,J.j.info("backChannelRequestTimeoutMs_="+pe)),pe=J;const lc=I.g;if(lc){const pg=lc.g?lc.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pg){var wt=pe.h;wt.g||-1==pg.indexOf("spdy")&&-1==pg.indexOf("quic")&&-1==pg.indexOf("h2")||(wt.j=wt.l,wt.g=new Set,wt.h&&(Of(wt,wt.h),wt.h=null))}if(pe.D){const qm=lc.g?lc.g.getResponseHeader("X-HTTP-Session-Id"):null;qm&&(pe.ya=qm,li(pe.I,pe.D,qm))}}J.G=3,J.l&&J.l.ua(),J.ba&&(J.R=Date.now()-I.F,J.j.info("Handshake RTT: "+J.R+"ms"));var un=I;if((pe=J).qa=hg(pe,pe.J?pe.ia:null,pe.W),un.K){ig(pe.h,un);var Ci=un,Gs=pe.L;Gs&&(Ci.I=Gs),Ci.B&&(rg(Ci),tg(Ci)),pe.g=un}else Sv(pe);0<J.i.length&&$m(J)}else"stop"!=Qr[0]&&"close"!=Qr[0]||vd(J,7);else 3==J.G&&("stop"==Qr[0]||"close"==Qr[0]?"stop"==Qr[0]?vd(J,7):Th(J):"noop"!=Qr[0]&&J.l&&J.l.ta(Qr),J.v=0)}_u()}catch{}}function km(I){this.l=I||10,I=R.PerformanceNavigationTiming?0<(I=R.performance.getEntriesByType("navigation")).length&&("hq"==I[0].nextHopProtocol||"h2"==I[0].nextHopProtocol):!!(R.chrome&&R.chrome.loadTimes&&R.chrome.loadTimes()&&R.chrome.loadTimes().wasFetchedViaSpdy),this.j=I?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function oc(I){return!!I.h||!!I.g&&I.g.size>=I.j}function pd(I){return I.h?1:I.g?I.g.size:0}function gd(I,U){return I.h?I.h==U:!!I.g&&I.g.has(U)}function Of(I,U){I.g?I.g.add(U):I.h=U}function ig(I,U){I.h&&I.h==U?I.h=null:I.g&&I.g.has(U)&&I.g.delete(U)}function ly(I){if(null!=I.h)return I.i.concat(I.h.D);if(null!=I.g&&0!==I.g.size){let U=I.i;for(const J of I.g.values())U=U.concat(J.D);return U}return Wt(I.i)}function io(I,U){if(I.forEach&&"function"==typeof I.forEach)I.forEach(U,void 0);else if(V(I)||"string"==typeof I)Array.prototype.forEach.call(I,U,void 0);else for(var J=function Nf(I){if(I.na&&"function"==typeof I.na)return I.na();if(!I.V||"function"!=typeof I.V){if(typeof Map<"u"&&I instanceof Map)return Array.from(I.keys());if(!(typeof Set<"u"&&I instanceof Set)){if(V(I)||"string"==typeof I){var U=[];I=I.length;for(var J=0;J<I;J++)U.push(J);return U}U=[],J=0;for(const pe in I)U[J++]=pe;return U}}}(I),pe=function ka(I){if(I.V&&"function"==typeof I.V)return I.V();if(typeof Map<"u"&&I instanceof Map||typeof Set<"u"&&I instanceof Set)return Array.from(I.values());if("string"==typeof I)return I.split("");if(V(I)){for(var U=[],J=I.length,pe=0;pe<J;pe++)U.push(I[pe]);return U}for(pe in U=[],J=0,I)U[J++]=I[pe];return U}(I),st=pe.length,wt=0;wt<st;wt++)U.call(void 0,pe[wt],J&&J[wt],I)}Gc.prototype.ca=function(I){I=I.target;const U=this.M;U&&3==vu(I)?U.j():this.Y(I)},Gc.prototype.Y=function(I){try{if(I==this.g)e:{const yo=vu(this.g);var U=this.g.Ba();if(this.g.Z(),!(3>yo)&&(3!=yo||this.g&&(this.h.h||this.g.oa()||py(this.g)))){this.J||4!=yo||7==U||_u(),rg(this);var J=this.g.Z();this.X=J;t:if(oy(this)){var pe=py(this.g);I="";var st=pe.length,wt=4==vu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){fd(this),Eh(this);var un="";break t}this.h.i=new R.TextDecoder}for(U=0;U<st;U++)this.h.h=!0,I+=this.h.i.decode(pe[U],{stream:!(wt&&U==st-1)});pe.length=0,this.h.g+=I,this.C=0,un=this.h.g}else un=this.g.oa();if(this.o=200==J,function Iv(I,U,J,pe,st,wt,un){I.info(function(){return"XMLHTTP RESP ("+pe+") [ attempt "+st+"]: "+U+"\n"+J+"\n"+wt+" "+un})}(this.i,this.u,this.A,this.l,this.R,yo,J),this.o){if(this.T&&!this.K){t:{if(this.g){var Ci,Gs=this.g;if((Ci=Gs.g?Gs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$n(Ci)){var Qr=Ci;break t}}Qr=null}if(!(J=Qr)){this.o=!1,this.s=3,ro(12),fd(this),Eh(this);break e}vh(this.i,this.l,J,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cy(this,J)}if(this.P){let lc;for(J=!0;!this.J&&this.C<un.length;){if(lc=ay(this,un),lc==Om){4==yo&&(this.s=4,ro(14),J=!1),vh(this.i,this.l,null,"[Incomplete Response]");break}if(lc==xf){this.s=4,ro(15),vh(this.i,this.l,un,"[Invalid Chunk]"),J=!1;break}vh(this.i,this.l,lc,null),cy(this,lc)}if(oy(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=yo||0!=un.length||this.h.h||(this.s=1,ro(16),J=!1),this.o=this.o&&J,J){if(0<un.length&&!this.W){this.W=!0;var so=this.j;so.g==this&&so.ba&&!so.M&&(so.j.info("Great, no buffering proxy detected. Bytes received: "+un.length),Gm(so),so.M=!0,ro(11))}}else vh(this.i,this.l,un,"[Invalid Chunked Response]"),fd(this),Eh(this)}else vh(this.i,this.l,un,null),cy(this,un);4==yo&&fd(this),this.o&&!this.J&&(4==yo?ug(this.j,this):(this.o=!1,tg(this)))}else(function jm(I){const U={};I=(I.g&&2<=vu(I)&&I.g.getAllResponseHeaders()||"").split("\r\n");for(let pe=0;pe<I.length;pe++){if($n(I[pe]))continue;var J=tt(I[pe]);const st=J[0];if("string"!=typeof(J=J[1]))continue;J=J.trim();const wt=U[st]||[];U[st]=wt,wt.push(J)}!function Ke(I,U){for(const J in I)U.call(void 0,I[J],J,I)}(U,function(pe){return pe.join(", ")})})(this.g),400==J&&0<un.indexOf("Unknown SID")?(this.s=3,ro(12)):(this.s=0,ro(13)),fd(this),Eh(this)}}}catch{}},Gc.prototype.cancel=function(){this.J=!0,fd(this)},Gc.prototype.ba=function(){this.B=null;const I=Date.now();0<=I-this.S?(function ry(I,U){I.info(function(){return"TIMEOUT: "+U})}(this.i,this.A),2!=this.L&&(_u(),ro(17)),fd(this),this.s=2,Eh(this)):ng(this,this.S-I)},km.prototype.cancel=function(){if(this.i=ly(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const I of this.g.values())I.cancel();this.g.clear()}};var ac=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ks(I){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,I instanceof ks){this.h=I.h,qc(this,I.j),this.o=I.o,this.g=I.g,As(this,I.s),this.l=I.l;var U=I.i,J=new _d;J.i=U.i,U.g&&(J.g=new Map(U.g),J.h=U.h),La(this,J),this.m=I.m}else I&&(U=String(I).match(ac))?(this.h=!1,qc(this,U[1]||"",!0),this.o=cc(U[2]||""),this.g=cc(U[3]||"",!0),As(this,U[4]),this.l=cc(U[5]||"",!0),La(this,U[6]||"",!0),this.m=cc(U[7]||"")):(this.h=!1,this.i=new _d(null,this.h))}function Fa(I){return new ks(I)}function qc(I,U,J){I.j=J?cc(U,!0):U,I.j&&(I.j=I.j.replace(/:$/,""))}function As(I,U){if(U){if(U=Number(U),isNaN(U)||0>U)throw Error("Bad port number "+U);I.s=U}else I.s=null}function La(I,U,J){U instanceof _d?(I.i=U,function ag(I,U){U&&!I.j&&(Rl(I),I.i=null,I.g.forEach(function(J,pe){var st=pe.toLowerCase();pe!=st&&(Fm(this,pe),Vm(this,st,J))},I)),I.j=U}(I.i,I.h)):(J||(U=Wc(U,og)),I.i=new _d(U,I.h))}function li(I,U,J){I.i.set(U,J)}function Pl(I){return li(I,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),I}function cc(I,U){return I?U?decodeURI(I.replace(/%25/g,"%2525")):decodeURIComponent(I):""}function Wc(I,U,J){return"string"==typeof I?(I=encodeURI(I).replace(U,md),J&&(I=I.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I):null}function md(I){return"%"+((I=I.charCodeAt(0))>>4&15).toString(16)+(15&I).toString(16)}ks.prototype.toString=function(){var I=[],U=this.j;U&&I.push(Wc(U,Zc,!0),":");var J=this.g;return(J||"file"==U)&&(I.push("//"),(U=this.o)&&I.push(Wc(U,Zc,!0),"@"),I.push(encodeURIComponent(String(J)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(J=this.s)&&I.push(":",String(J))),(J=this.l)&&(this.g&&"/"!=J.charAt(0)&&I.push("/"),I.push(Wc(J,"/"==J.charAt(0)?dy:uy,!0))),(J=this.i.toString())&&I.push("?",J),(J=this.m)&&I.push("#",Wc(J,hy)),I.join("")};var I,Zc=/[#\/\?@]/g,uy=/[#\?:]/g,dy=/[#\?]/g,og=/[#\?@]/g,hy=/#/g;function _d(I,U){this.h=this.g=null,this.i=I||null,this.j=!!U}function Rl(I){I.g||(I.g=new Map,I.h=0,I.i&&function sg(I,U){if(I){I=I.split("&");for(var J=0;J<I.length;J++){var pe=I[J].indexOf("="),st=null;if(0<=pe){var wt=I[J].substring(0,pe);st=I[J].substring(pe+1)}else wt=I[J];U(wt,st?decodeURIComponent(st.replace(/\+/g," ")):"")}}}(I.i,function(U,J){I.add(decodeURIComponent(U.replace(/\+/g," ")),J)}))}function Fm(I,U){Rl(I),U=xl(I,U),I.g.has(U)&&(I.i=null,I.h-=I.g.get(U).length,I.g.delete(U))}function Lm(I,U){return Rl(I),U=xl(I,U),I.g.has(U)}function Vm(I,U,J){Fm(I,U),0<J.length&&(I.i=null,I.g.set(xl(I,U),Wt(J)),I.h+=J.length)}function xl(I,U){return U=String(U),I.j&&(U=U.toLowerCase()),U}function Ol(I,U,J,pe,st){try{st&&(st.onload=null,st.onerror=null,st.onabort=null,st.ontimeout=null),pe(J)}catch{}}function Cv(){this.g=new Qp}function uE(I,U,J){const pe=J||"";try{io(I,function(st,wt){let un=st;Y(st)&&(un=Na(st)),U.push(pe+wt+"="+encodeURIComponent(un))})}catch(st){throw U.push(pe+"type="+encodeURIComponent("_badmap")),st}}function kf(I){this.l=I.Ub||null,this.j=I.eb||!1}function Um(I,U){no.call(this),this.D=I,this.o=U,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function fy(I){I.j.read().then(I.Pa.bind(I)).catch(I.ga.bind(I))}function Ff(I){I.readyState=4,I.l=null,I.j=null,I.v=null,Ih(I)}function Ih(I){I.onreadystatechange&&I.onreadystatechange.call(I)}function bh(I){let U="";return Er(I,function(J,pe){U+=pe,U+=":",U+=J,U+="\r\n"}),U}function yu(I,U,J){e:{for(pe in J){var pe=!1;break e}pe=!0}pe||(J=bh(J),"string"==typeof I?null!=J&&encodeURIComponent(String(J)):li(I,U,J))}function zi(I){no.call(this),this.headers=new Map,this.o=I||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(l=_d.prototype).add=function(I,U){Rl(this),this.i=null,I=xl(this,I);var J=this.g.get(I);return J||this.g.set(I,J=[]),J.push(U),this.h+=1,this},l.forEach=function(I,U){Rl(this),this.g.forEach(function(J,pe){J.forEach(function(st){I.call(U,st,pe,this)},this)},this)},l.na=function(){Rl(this);const I=Array.from(this.g.values()),U=Array.from(this.g.keys()),J=[];for(let pe=0;pe<U.length;pe++){const st=I[pe];for(let wt=0;wt<st.length;wt++)J.push(U[pe])}return J},l.V=function(I){Rl(this);let U=[];if("string"==typeof I)Lm(this,I)&&(U=U.concat(this.g.get(xl(this,I))));else{I=Array.from(this.g.values());for(let J=0;J<I.length;J++)U=U.concat(I[J])}return U},l.set=function(I,U){return Rl(this),this.i=null,Lm(this,I=xl(this,I))&&(this.h-=this.g.get(I).length),this.g.set(I,[U]),this.h+=1,this},l.get=function(I,U){return I&&0<(I=this.V(I)).length?String(I[0]):U},l.toString=function(){if(this.i)return this.i;if(!this.g)return"";const I=[],U=Array.from(this.g.keys());for(var J=0;J<U.length;J++){var pe=U[J];const wt=encodeURIComponent(String(pe)),un=this.V(pe);for(pe=0;pe<un.length;pe++){var st=wt;""!==un[pe]&&(st+="="+encodeURIComponent(String(un[pe]))),I.push(st)}}return this.i=I.join("&")},xt(kf,Sl),kf.prototype.g=function(){return new Um(this.l,this.j)},kf.prototype.i=(I={},function(){return I}),xt(Um,no),(l=Um.prototype).open=function(I,U){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=I,this.A=U,this.readyState=1,Ih(this)},l.send=function(I){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const U={headers:this.u,method:this.B,credentials:this.m,cache:void 0};I&&(U.body=I),(this.D||R).fetch(new Request(this.A,U)).then(this.Sa.bind(this),this.ga.bind(this))},l.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ff(this)),this.readyState=0},l.Sa=function(I){if(this.g&&(this.l=I,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=I.headers,this.readyState=2,Ih(this)),this.g&&(this.readyState=3,Ih(this),this.g)))if("arraybuffer"===this.responseType)I.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof R.ReadableStream<"u"&&"body"in I){if(this.j=I.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fy(this)}else I.text().then(this.Ra.bind(this),this.ga.bind(this))},l.Pa=function(I){if(this.g){if(this.o&&I.value)this.response.push(I.value);else if(!this.o){var U=I.value?I.value:new Uint8Array(0);(U=this.v.decode(U,{stream:!I.done}))&&(this.response=this.responseText+=U)}I.done?Ff(this):Ih(this),3==this.readyState&&fy(this)}},l.Ra=function(I){this.g&&(this.response=this.responseText=I,Ff(this))},l.Qa=function(I){this.g&&(this.response=I,Ff(this))},l.ga=function(){this.g&&Ff(this)},l.setRequestHeader=function(I,U){this.u.append(I,U)},l.getResponseHeader=function(I){return this.h&&this.h.get(I.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";const I=[],U=this.h.entries();for(var J=U.next();!J.done;)I.push((J=J.value)[0]+": "+J[1]),J=U.next();return I.join("\r\n")},Object.defineProperty(Um.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(I){this.m=I?"include":"same-origin"}}),xt(zi,no);var Bm=/^https?$/i,wv=["POST","PUT"];function Lf(I,U){I.h=!1,I.g&&(I.j=!0,I.g.abort(),I.j=!1),I.l=U,I.m=5,cg(I),ga(I)}function cg(I){I.A||(I.A=!0,Ns(I,"complete"),Ns(I,"error"))}function Nl(I){if(I.h&&typeof b<"u"&&(!I.v[1]||4!=vu(I)||2!=I.Z()))if(I.u&&4==vu(I))J_(I.Ea,0,I);else if(Ns(I,"readystatechange"),4==vu(I)){I.h=!1;try{const un=I.Z();e:switch(un){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var U=!0;break e;default:U=!1}var J;if(!(J=U)){var pe;if(pe=0===un){var st=String(I.D).match(ac)[1]||null;!st&&R.self&&R.self.location&&(st=R.self.location.protocol.slice(0,-1)),pe=!Bm.test(st?st.toLowerCase():"")}J=pe}if(J)Ns(I,"complete"),Ns(I,"success");else{I.m=6;try{var wt=2<vu(I)?I.g.statusText:""}catch{wt=""}I.l=wt+" ["+I.Z()+"]",cg(I)}}finally{ga(I)}}}function ga(I,U){if(I.g){lg(I);const J=I.g,pe=I.v[0]?()=>{}:null;I.g=null,I.v=null,U||Ns(I,"ready");try{J.onreadystatechange=pe}catch{}}}function lg(I){I.I&&(R.clearTimeout(I.I),I.I=null)}function vu(I){return I.g?I.g.readyState:0}function py(I){try{if(!I.g)return null;if("response"in I.g)return I.g.response;switch(I.H){case"":case"text":return I.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in I.g)return I.g.mozResponseArrayBuffer}return null}catch{return null}}function yd(I,U,J){return J&&J.internalChannelParams&&J.internalChannelParams[I]||U}function Vf(I){this.Aa=0,this.i=[],this.j=new sc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=yd("failFast",!1,I),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=yd("baseRetryDelayMs",5e3,I),this.cb=yd("retryDelaySeedMs",1e4,I),this.Wa=yd("forwardChannelMaxRetries",2,I),this.wa=yd("forwardChannelRequestTimeoutMs",2e4,I),this.pa=I&&I.xmlHttpFactory||void 0,this.Xa=I&&I.Tb||void 0,this.Ca=I&&I.useFetchStreams||!1,this.L=void 0,this.J=I&&I.supportsCrossDomainXhr||!1,this.K="",this.h=new km(I&&I.concurrentRequestLimit),this.Da=new Cv,this.P=I&&I.fastHandshake||!1,this.O=I&&I.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=I&&I.Rb||!1,I&&I.xa&&this.j.xa(),I&&I.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&I&&I.detectBufferingProxy||!1,this.ja=void 0,I&&I.longPollingTimeout&&0<I.longPollingTimeout&&(this.ja=I.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Th(I){if(gy(I),3==I.G){var U=I.U++,J=Fa(I.I);if(li(J,"SID",I.K),li(J,"RID",U),li(J,"TYPE","terminate"),Ch(I,J),(U=new Gc(I,I.j,U)).L=2,U.v=Pl(Fa(J)),J=!1,R.navigator&&R.navigator.sendBeacon)try{J=R.navigator.sendBeacon(U.v.toString(),"")}catch{}!J&&R.Image&&((new Image).src=U.v,J=!0),J||(U.g=yy(U.j,null),U.g.ea(U.v)),U.F=Date.now(),tg(U)}wh(I)}function Hm(I){I.g&&(Gm(I),I.g.cancel(),I.g=null)}function gy(I){Hm(I),I.u&&(R.clearTimeout(I.u),I.u=null),Uf(I),I.h.cancel(),I.s&&("number"==typeof I.s&&R.clearTimeout(I.s),I.s=null)}function $m(I){if(!oc(I.h)&&!I.s){I.s=!0;var U=I.Ga;Oa||pu(),Ko||(Oa(),Ko=!0),fu.add(U,I),I.B=0}}function Av(I,U){var J;J=U?U.l:I.U++;const pe=Fa(I.I);li(pe,"SID",I.K),li(pe,"RID",J),li(pe,"AID",I.T),Ch(I,pe),I.m&&I.o&&yu(pe,I.m,I.o),J=new Gc(I,I.j,J,I.B+1),null===I.m&&(J.H=I.o),U&&(I.i=U.D.concat(I.i)),U=Dv(I,J,1e3),J.I=Math.round(.5*I.wa)+Math.round(.5*I.wa*Math.random()),Of(I.h,J),eg(J,pe,U)}function Ch(I,U){I.H&&Er(I.H,function(J,pe){li(U,pe,J)}),I.l&&io({},function(J,pe){li(U,pe,J)})}function Dv(I,U,J){J=Math.min(I.i.length,J);var pe=I.l?ke(I.l.Na,I.l,I):null;e:{var st=I.i;let wt=-1;for(;;){const un=["count="+J];-1==wt?0<J?(wt=st[0].g,un.push("ofs="+wt)):wt=0:un.push("ofs="+wt);let Ci=!0;for(let Gs=0;Gs<J;Gs++){let Qr=st[Gs].g;const so=st[Gs].map;if(Qr-=wt,0>Qr)wt=Math.max(0,st[Gs].g-100),Ci=!1;else try{uE(so,un,"req"+Qr+"_")}catch{pe&&pe(so)}}if(Ci){pe=un.join("&");break e}}}return I=I.i.splice(0,J),U.D=I,pe}function Sv(I){if(!I.g&&!I.u){I.Y=1;var U=I.Fa;Oa||pu(),Ko||(Oa(),Ko=!0),fu.add(U,I),I.v=0}}function zm(I){return!(I.g||I.u||3<=I.v||(I.Y++,I.u=Xp(ke(I.Fa,I),dg(I,I.v)),I.v++,0))}function Gm(I){null!=I.A&&(R.clearTimeout(I.A),I.A=null)}function _y(I){I.g=new Gc(I,I.j,"rpc",I.Y),null===I.m&&(I.g.H=I.o),I.g.O=0;var U=Fa(I.qa);li(U,"RID","rpc"),li(U,"SID",I.K),li(U,"AID",I.T),li(U,"CI",I.F?"0":"1"),!I.F&&I.ja&&li(U,"TO",I.ja),li(U,"TYPE","xmlhttp"),Ch(I,U),I.m&&I.o&&yu(U,I.m,I.o),I.L&&(I.g.I=I.L);var J=I.g;I=I.ia,J.L=1,J.v=Pl(Fa(U)),J.m=null,J.P=!0,sy(J,I)}function Uf(I){null!=I.C&&(R.clearTimeout(I.C),I.C=null)}function ug(I,U){var J=null;if(I.g==U){Uf(I),Gm(I),I.g=null;var pe=2}else{if(!gd(I.h,U))return;J=U.D,ig(I.h,U),pe=1}if(0!=I.G)if(U.o)if(1==pe){J=U.m?U.m.length:0,U=Date.now()-U.F;var st=I.B;Ns(pe=gu(),new ny(pe,J)),$m(I)}else Sv(I);else if(3==(st=U.s)||0==st&&0<U.X||!(1==pe&&function my(I,U){return!(pd(I.h)>=I.h.j-(I.s?1:0)||(I.s?(I.i=U.D.concat(I.i),0):1==I.G||2==I.G||I.B>=(I.Va?0:I.Wa)||(I.s=Xp(ke(I.Ga,I,U),dg(I,I.B)),I.B++,0)))}(I,U)||2==pe&&zm(I)))switch(J&&0<J.length&&(U=I.h,U.i=U.i.concat(J)),st){case 1:vd(I,5);break;case 4:vd(I,10);break;case 3:vd(I,6);break;default:vd(I,2)}}function dg(I,U){let J=I.Ta+Math.floor(Math.random()*I.cb);return I.isActive()||(J*=2),J*U}function vd(I,U){if(I.j.info("Error code "+U),2==U){var J=ke(I.fb,I),pe=I.Xa;const st=!pe;pe=new ks(pe||"//www.google.com/images/cleardot.gif"),R.location&&"http"==R.location.protocol||qc(pe,"https"),Pl(pe),st?function Tv(I,U){const J=new sc;if(R.Image){const pe=new Image;pe.onload=ot(Ol,J,"TestLoadImage: loaded",!0,U,pe),pe.onerror=ot(Ol,J,"TestLoadImage: error",!1,U,pe),pe.onabort=ot(Ol,J,"TestLoadImage: abort",!1,U,pe),pe.ontimeout=ot(Ol,J,"TestLoadImage: timeout",!1,U,pe),R.setTimeout(function(){pe.ontimeout&&pe.ontimeout()},1e4),pe.src=I}else U(!1)}(pe.toString(),J):function lE(I,U){new sc;const pe=new AbortController,st=setTimeout(()=>{pe.abort(),Ol(0,0,!1,U)},1e4);fetch(I,{signal:pe.signal}).then(wt=>{clearTimeout(st),Ol(0,0,!!wt.ok,U)}).catch(()=>{clearTimeout(st),Ol(0,0,!1,U)})}(pe.toString(),J)}else ro(2);I.G=0,I.l&&I.l.sa(U),wh(I),gy(I)}function wh(I){if(I.G=0,I.ka=[],I.l){const U=ly(I.h);(0!=U.length||0!=I.i.length)&&(Ut(I.ka,U),Ut(I.ka,I.i),I.h.i.length=0,Wt(I.i),I.i.length=0),I.l.ra()}}function hg(I,U,J){var pe=J instanceof ks?Fa(J):new ks(J);if(""!=pe.g)U&&(pe.g=U+"."+pe.g),As(pe,pe.s);else{var st=R.location;pe=st.protocol,U=U?U+"."+st.hostname:st.hostname,st=+st.port;var wt=new ks(null);pe&&qc(wt,pe),U&&(wt.g=U),st&&As(wt,st),J&&(wt.l=J),pe=wt}return U=I.ya,(J=I.D)&&U&&li(pe,J,U),li(pe,"VER",I.la),Ch(I,pe),pe}function yy(I,U,J){if(U&&!I.J)throw Error("Can't create secondary domain capable XhrIo object.");return(U=new zi(I.Ca&&!I.pa?new kf({eb:J}):I.pa)).Ha(I.J),U}function fg(){}function Ah(){}function ko(I,U){no.call(this),this.g=new Vf(U),this.l=I,this.h=U&&U.messageUrlParams||null,I=U&&U.messageHeaders||null,U&&U.clientProtocolHeaderRequired&&(I?I["X-Client-Protocol"]="webchannel":I={"X-Client-Protocol":"webchannel"}),this.g.o=I,I=U&&U.initMessageHeaders||null,U&&U.messageContentType&&(I?I["X-WebChannel-Content-Type"]=U.messageContentType:I={"X-WebChannel-Content-Type":U.messageContentType}),U&&U.va&&(I?I["X-WebChannel-Client-Profile"]=U.va:I={"X-WebChannel-Client-Profile":U.va}),this.g.S=I,(I=U&&U.Sb)&&!$n(I)&&(this.g.m=I),this.v=U&&U.supportsCrossDomainXhr||!1,this.u=U&&U.sendRawJson||!1,(U=U&&U.httpSessionIdParam)&&!$n(U)&&(this.g.D=U,null!==(I=this.h)&&U in I&&U in(I=this.h)&&delete I[U]),this.j=new Bf(this)}function vy(I){Jp.call(this),I.__headers__&&(this.headers=I.__headers__,this.statusCode=I.__status__,delete I.__headers__,delete I.__status__);var U=I.__sm__;if(U){e:{for(const J in U){I=J;break e}I=void 0}(this.i=I)&&(I=this.i,U=null!==U&&I in U?U[I]:void 0),this.data=U}else this.data=I}function Mv(){Sm.call(this),this.status=1}function Bf(I){this.g=I}(l=zi.prototype).Ha=function(I){this.J=I},l.ea=function(I,U,J,pe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+I);U=U?U.toUpperCase():"GET",this.D=I,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xm.g(),this.v=function Ev(I){return I.h||(I.h=I.i())}(this.o?this.o:xm),this.g.onreadystatechange=ke(this.Ea,this);try{this.B=!0,this.g.open(U,String(I),!0),this.B=!1}catch(wt){return void Lf(this,wt)}if(I=J||"",J=new Map(this.headers),pe)if(Object.getPrototypeOf(pe)===Object.prototype)for(var st in pe)J.set(st,pe[st]);else{if("function"!=typeof pe.keys||"function"!=typeof pe.get)throw Error("Unknown input type for opt_headers: "+String(pe));for(const wt of pe.keys())J.set(wt,pe.get(wt))}pe=Array.from(J.keys()).find(wt=>"content-type"==wt.toLowerCase()),st=R.FormData&&I instanceof R.FormData,!(0<=Array.prototype.indexOf.call(wv,U,void 0))||pe||st||J.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[wt,un]of J)this.g.setRequestHeader(wt,un);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{lg(this),this.u=!0,this.g.send(I),this.u=!1}catch(wt){Lf(this,wt)}},l.abort=function(I){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=I||7,Ns(this,"complete"),Ns(this,"abort"),ga(this))},l.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ga(this,!0)),zi.aa.N.call(this)},l.Ea=function(){this.s||(this.B||this.u||this.j?Nl(this):this.bb())},l.bb=function(){Nl(this)},l.isActive=function(){return!!this.g},l.Z=function(){try{return 2<vu(this)?this.g.status:-1}catch{return-1}},l.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},l.Oa=function(I){if(this.g){var U=this.g.responseText;return I&&0==U.indexOf(I)&&(U=U.substring(I.length)),hd(U)}},l.Ba=function(){return this.m},l.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(l=Vf.prototype).la=8,l.G=1,l.connect=function(I,U,J,pe){ro(0),this.W=I,this.H=U||{},J&&void 0!==pe&&(this.H.OSID=J,this.H.OAID=pe),this.F=this.X,this.I=hg(this,null,this.W),$m(this)},l.Ga=function(I){if(this.s)if(this.s=null,1==this.G){if(!I){this.U=Math.floor(1e5*Math.random()),I=this.U++;const st=new Gc(this,this.j,I);let wt=this.o;if(this.S&&(wt?(wt=Re(wt),Qe(wt,this.S)):wt=this.S),null!==this.m||this.O||(st.H=wt,wt=null),this.P)e:{for(var U=0,J=0;J<this.i.length;J++){var pe=this.i[J];if(void 0===(pe="__data__"in pe.map&&"string"==typeof(pe=pe.map.__data__)?pe.length:void 0))break;if(4096<(U+=pe)){U=J;break e}if(4096===U||J===this.i.length-1){U=J+1;break e}}U=1e3}else U=1e3;U=Dv(this,st,U),li(J=Fa(this.I),"RID",I),li(J,"CVER",22),this.D&&li(J,"X-HTTP-Session-Id",this.D),Ch(this,J),wt&&(this.O?U="headers="+encodeURIComponent(String(bh(wt)))+"&"+U:this.m&&yu(J,this.m,wt)),Of(this.h,st),this.Ua&&li(J,"TYPE","init"),this.P?(li(J,"$req",U),li(J,"SID","null"),st.T=!0,eg(st,J,null)):eg(st,J,U),this.G=2}}else 3==this.G&&(I?Av(this,I):0==this.i.length||oc(this.h)||Av(this))},l.Fa=function(){if(this.u=null,_y(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var I=2*this.R;this.j.info("BP detection timer enabled: "+I),this.A=Xp(ke(this.ab,this),I)}},l.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ro(10),Hm(this),_y(this))},l.Za=function(){null!=this.C&&(this.C=null,Hm(this),zm(this),ro(19))},l.fb=function(I){I?(this.j.info("Successfully pinged google.com"),ro(2)):(this.j.info("Failed to ping google.com"),ro(1))},l.isActive=function(){return!!this.l&&this.l.isActive(this)},(l=fg.prototype).ua=function(){},l.ta=function(){},l.sa=function(){},l.ra=function(){},l.isActive=function(){return!0},l.Na=function(){},Ah.prototype.g=function(I,U){return new ko(I,U)},xt(ko,no),ko.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ko.prototype.close=function(){Th(this.g)},ko.prototype.o=function(I){var U=this.g;if("string"==typeof I){var J={};J.__data__=I,I=J}else this.u&&((J={}).__data__=Na(I),I=J);U.i.push(new class{constructor(I,U){this.g=I,this.map=U}}(U.Ya++,I)),3==U.G&&$m(U)},ko.prototype.N=function(){this.g.l=null,delete this.j,Th(this.g),delete this.g,ko.aa.N.call(this)},xt(vy,Jp),xt(Mv,Sm),xt(Bf,fg),Bf.prototype.ua=function(){Ns(this.g,"a")},Bf.prototype.ta=function(I){Ns(this.g,new vy(I))},Bf.prototype.sa=function(I){Ns(this.g,new Mv)},Bf.prototype.ra=function(){Ns(this.g,"b")},Ah.prototype.createWebChannel=Ah.prototype.g,ko.prototype.send=ko.prototype.o,ko.prototype.open=ko.prototype.m,ko.prototype.close=ko.prototype.close,Ze=ve.createWebChannelTransport=function(){return new Ah},en=ve.getStatEventTarget=function(){return gu()},_t=ve.Event=Ml,It=ve.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pf.NO_ERROR=0,Pf.TIMEOUT=8,Pf.HTTP_ERROR=6,mt=ve.ErrorCode=Pf,bv.COMPLETE="complete",Dt=ve.EventType=bv,ty.EventType=yh,yh.OPEN="a",yh.CLOSE="b",yh.ERROR="c",yh.MESSAGE="d",no.prototype.listen=no.prototype.K,Je=ve.WebChannel=ty,pt=ve.FetchXmlHttpFactory=kf,zi.prototype.listenOnce=zi.prototype.L,zi.prototype.getLastError=zi.prototype.Ka,zi.prototype.getLastErrorCode=zi.prototype.Ba,zi.prototype.getStatus=zi.prototype.Z,zi.prototype.getResponseJson=zi.prototype.Oa,zi.prototype.getResponseText=zi.prototype.oa,zi.prototype.send=zi.prototype.ea,zi.prototype.setWithCredentials=zi.prototype.Ha,Oe=ve.XhrIo=zi}).apply(typeof fe<"u"?fe:typeof self<"u"?self:typeof window<"u"?window:{});const ze="@firebase/firestore";class rt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rt.UNAUTHENTICATED=new rt(null),rt.GOOGLE_CREDENTIALS=new rt("google-credentials-uid"),rt.FIRST_PARTY=new rt("first-party-uid"),rt.MOCK_USER=new rt("mock-user");let $e="10.12.1";const it=new Ie.Yd("@firebase/firestore");function Ct(){return it.logLevel}function Ye(l){it.setLogLevel(l)}function ge(l,...e){if(it.logLevel<=Ie.in.DEBUG){const r=e.map(zn);it.debug(`Firestore (${$e}): ${l}`,...r)}}function Et(l,...e){if(it.logLevel<=Ie.in.ERROR){const r=e.map(zn);it.error(`Firestore (${$e}): ${l}`,...r)}}function Ht(l,...e){if(it.logLevel<=Ie.in.WARN){const r=e.map(zn);it.warn(`Firestore (${$e}): ${l}`,...r)}}function zn(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch{return l}}function bt(l="Unexpected state"){const e=`FIRESTORE (${$e}) INTERNAL ASSERTION FAILED: `+l;throw Et(e),new Error(e)}function Nt(l,e){l||bt()}function rn(l,e){l||bt()}function at(l,e){return l}const Ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Ee.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ve{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class et{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Xe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(rt.UNAUTHENTICATED))}shutdown(){}}class gt{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class vt{constructor(e){this.t=e,this.currentUser=rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;let d=this.i;const y=Y=>this.i!==d?(d=this.i,r(Y)):Promise.resolve();let b=new Ve;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new Ve,e.enqueueRetryable(()=>y(this.currentUser))};const R=()=>{const Y=b;e.enqueueRetryable((0,g.Z)(function*(){yield Y.promise,yield y(s.currentUser)}))},V=Y=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Y,this.auth.addAuthTokenListener(this.o),R()};this.t.onInit(Y=>V(Y)),setTimeout(()=>{if(!this.auth){const Y=this.t.getImmediate({optional:!0});Y?V(Y):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new Ve)}},0),R()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Nt("string"==typeof s.accessToken),new et(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Nt(null===e||"string"==typeof e),new rt(e)}}class Jt{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=rt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $t{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new Jt(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const s=y=>{null!=y.error&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${y.error.message}`);const b=y.token!==this.R;return this.R=y.token,ge("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?r(y.token):Promise.resolve()};this.o=y=>{e.enqueueRetryable(()=>s(y))};const d=y=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=y,this.appCheck.addTokenListener(this.o)};this.A.onInit(y=>d(y)),setTimeout(()=>{if(!this.appCheck){const y=this.A.getImmediate({optional:!0});y?d(y):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Nt("string"==typeof r.token),this.R=r.token,new zt(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function pn(l){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(l);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<l;s++)r[s]=Math.floor(256*Math.random());return r}class Nn{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const d=pn(40);for(let y=0;y<d.length;++y)s.length<20&&d[y]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(d[y]%62))}return s}}function qt(l,e){return l<e?-1:l>e?1:0}function fn(l,e,r){return l.length===e.length&&l.every((s,d)=>r(s,e[d]))}function Tn(l){return l+"\0"}class Dn{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new _e(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new _e(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new _e(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Dn.fromMillis(Date.now())}static fromDate(e){return Dn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new Dn(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qt(this.nanoseconds,e.nanoseconds):qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Kt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Kt(e)}static min(){return new Kt(new Dn(0,0))}static max(){return new Kt(new Dn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ai{constructor(e,r,s){void 0===r?r=0:r>e.length&&bt(),void 0===s?s=e.length-r:s>e.length-r&&bt(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===ai.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof ai?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let d=0;d<s;d++){const y=e.get(d),b=r.get(d);if(y<b)return-1;if(y>b)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Cn extends ai{construct(e,r,s){return new Cn(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new _e(Ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(d=>d.length>0))}return new Cn(r)}static emptyPath(){return new Cn([])}}const hr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hn extends ai{construct(e,r,s){return new Hn(e,r,s)}static isValidIdentifier(e){return hr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Hn(["__name__"])}static fromServerFormat(e){const r=[];let s="",d=0;const y=()=>{if(0===s.length)throw new _e(Ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let b=!1;for(;d<e.length;){const R=e[d];if("\\"===R){if(d+1===e.length)throw new _e(Ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const V=e[d+1];if("\\"!==V&&"."!==V&&"`"!==V)throw new _e(Ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=V,d+=2}else"`"===R?(b=!b,d++):"."!==R||b?(s+=R,d++):(y(),d++)}if(y(),b)throw new _e(Ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hn(r)}static emptyPath(){return new Hn([])}}class kt{constructor(e){this.path=e}static fromPath(e){return new kt(Cn.fromString(e))}static fromName(e){return new kt(Cn.fromString(e).popFirst(5))}static empty(){return new kt(Cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Cn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return Cn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new kt(new Cn(e.slice()))}}class En{constructor(e,r,s,d){this.indexId=e,this.collectionGroup=r,this.fields=s,this.indexState=d}}function Fn(l){return l.fields.find(e=>2===e.kind)}function wn(l){return l.fields.filter(e=>2!==e.kind)}En.UNKNOWN_ID=-1;class Ar{constructor(e,r){this.fieldPath=e,this.kind=r}}class Bn{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Bn(0,sn.min())}}function Sr(l,e){const r=l.toTimestamp().seconds,s=l.toTimestamp().nanoseconds+1,d=Kt.fromTimestamp(1e9===s?new Dn(r+1,0):new Dn(r,s));return new sn(d,kt.empty(),e)}function di(l){return new sn(l.readTime,l.key,-1)}class sn{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new sn(Kt.min(),kt.empty(),-1)}static max(){return new sn(Kt.max(),kt.empty(),-1)}}function hi(l,e){let r=l.readTime.compareTo(e.readTime);return 0!==r?r:(r=kt.comparator(l.documentKey,e.documentKey),0!==r?r:qt(l.largestBatchId,e.largestBatchId))}const Qn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Tr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function fr(l){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,g.Z)(function*(l){if(l.code!==Ne.FAILED_PRECONDITION||l.message!==Qn)throw l;ge("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class qe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new qe((s,d)=>{this.nextCallback=y=>{this.wrapSuccess(e,y).next(s,d)},this.catchCallback=y=>{this.wrapFailure(r,y).next(s,d)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof qe?r:qe.resolve(r)}catch(r){return qe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):qe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):qe.reject(r)}static resolve(e){return new qe((r,s)=>{r(e)})}static reject(e){return new qe((r,s)=>{s(e)})}static waitFor(e){return new qe((r,s)=>{let d=0,y=0,b=!1;e.forEach(R=>{++d,R.next(()=>{++y,b&&y===d&&r()},V=>s(V))}),b=!0,y===d&&r()})}static or(e){let r=qe.resolve(!1);for(const s of e)r=r.next(d=>d?qe.resolve(d):s());return r}static forEach(e,r){const s=[];return e.forEach((d,y)=>{s.push(r.call(this,d,y))}),this.waitFor(s)}static mapArray(e,r){return new qe((s,d)=>{const y=e.length,b=new Array(y);let R=0;for(let V=0;V<y;V++){const Y=V;r(e[Y]).next(ie=>{b[Y]=ie,++R,R===y&&s(b)},ie=>d(ie))}})}static doWhile(e,r){return new qe((s,d)=>{const y=()=>{!0===e()?r().next(()=>{y()},d):s()};y()})}}class Tt{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Ve,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new jt(e,r.error)):this.V.resolve()},this.transaction.onerror=s=>{const d=X(s.target.error);this.V.reject(new jt(e,d))}}static open(e,r,s,d){try{return new Tt(r,e.transaction(d,s))}catch(y){throw new jt(r,y)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ge("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new Xr(r)}}class oe{constructor(e,r,s){this.name=e,this.version=r,this.p=s,12.2===oe.S((0,Ee.z$)())&&Et("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ge("SimpleDb","Removing database:",e),Ft(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Ee.hl)())return!1;if(oe.C())return!0;const e=(0,Ee.z$)(),r=oe.S(e),s=0<r&&r<10,d=Se(e),y=0<d&&d<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||y)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(e){var r=this;return(0,g.Z)(function*(){return r.db||(ge("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,d)=>{const y=indexedDB.open(r.name,r.version);y.onsuccess=b=>{s(b.target.result)},y.onblocked=()=>{d(new jt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},y.onerror=b=>{const R=b.target.error;d("VersionError"===R.name?new _e(Ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===R.name?new _e(Ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+R):new jt(e,R))},y.onupgradeneeded=b=>{ge("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',b.oldVersion),r.p.O(b.target.result,y.transaction,b.oldVersion,r.version).next(()=>{ge("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=s=>r.N(s)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,s,d){var y=this;return(0,g.Z)(function*(){const b="readonly"===r;let R=0;for(;;){++R;try{y.db=yield y.M(e);const V=Tt.open(y.db,e,b?"readonly":"readwrite",s),Y=d(V).next(ie=>(V.g(),ie)).catch(ie=>(V.abort(ie),qe.reject(ie))).toPromise();return Y.catch(()=>{}),yield V.m,Y}catch(V){const Y=V,ie="FirebaseError"!==Y.name&&R<3;if(ge("SimpleDb","Transaction failed with error:",Y.message,"Retrying:",ie),y.close(),!ie)return Promise.reject(Y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Se(l){const e=l.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class ft{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Ft(this.B.delete())}}class jt extends _e{constructor(e,r){super(Ne.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Mn(l){return"IndexedDbTransactionError"===l.name}class Xr{constructor(e){this.store=e}put(e,r){let s;return void 0!==r?(ge("SimpleDb","PUT",this.store.name,e,r),s=this.store.put(r,e)):(ge("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Ft(s)}add(e){return ge("SimpleDb","ADD",this.store.name,e,e),Ft(this.store.add(e))}get(e){return Ft(this.store.get(e)).next(r=>(void 0===r&&(r=null),ge("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return ge("SimpleDb","DELETE",this.store.name,e),Ft(this.store.delete(e))}count(){return ge("SimpleDb","COUNT",this.store.name),Ft(this.store.count())}U(e,r){const s=this.options(e,r),d=s.index?this.store.index(s.index):this.store;if("function"==typeof d.getAll){const y=d.getAll(s.range);return new qe((b,R)=>{y.onerror=V=>{R(V.target.error)},y.onsuccess=V=>{b(V.target.result)}})}{const y=this.cursor(s),b=[];return this.W(y,(R,V)=>{b.push(V)}).next(()=>b)}}G(e,r){const s=this.store.getAll(e,null===r?void 0:r);return new qe((d,y)=>{s.onerror=b=>{y(b.target.error)},s.onsuccess=b=>{d(b.target.result)}})}j(e,r){ge("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,r);s.H=!1;const d=this.cursor(s);return this.W(d,(y,b,R)=>R.delete())}J(e,r){let s;r?s=e:(s={},r=e);const d=this.cursor(s);return this.W(d,r)}Y(e){const r=this.cursor({});return new qe((s,d)=>{r.onerror=y=>{const b=X(y.target.error);d(b)},r.onsuccess=y=>{const b=y.target.result;b?e(b.primaryKey,b.value).next(R=>{R?b.continue():s()}):s()}})}W(e,r){const s=[];return new qe((d,y)=>{e.onerror=b=>{y(b.target.error)},e.onsuccess=b=>{const R=b.target.result;if(!R)return void d();const V=new ft(R),Y=r(R.primaryKey,R.value,V);if(Y instanceof qe){const ie=Y.catch(ye=>(V.done(),qe.reject(ye)));s.push(ie)}V.isDone?d():null===V.K?R.continue():R.continue(V.K)}}).next(()=>qe.waitFor(s))}options(e,r){let s;return void 0!==e&&("string"==typeof e?s=e:r=e),{index:s,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const s=this.store.index(e.index);return e.H?s.openKeyCursor(e.range,r):s.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Ft(l){return new qe((e,r)=>{l.onsuccess=s=>{e(s.target.result)},l.onerror=s=>{const d=X(s.target.error);r(d)}})}let ue=!1;function X(l){const e=oe.S((0,Ee.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(l.message.indexOf(r)>=0){const s=new _e("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ue||(ue=!0,setTimeout(()=>{throw s},0)),s}}return l}class ${constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;ge("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,g.Z)(function*(){r.task=null;try{ge("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(s){Mn(s)?ge("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield fr(s)}yield r.X(6e4)}))}}class B{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,g.Z)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>r.te(s,e))})()}te(e,r){const s=new Set;let d=r,y=!0;return qe.doWhile(()=>!0===y&&d>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(b=>{if(null!==b&&!s.has(b))return ge("IndexBackfiller",`Processing collection: ${b}`),this.ne(e,b,d).next(R=>{d-=R,s.add(b)});y=!1})).next(()=>r-d)}ne(e,r,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(d=>this.localStore.localDocuments.getNextDocuments(e,r,d,s).next(y=>{const b=y.changes;return this.localStore.indexManager.updateIndexEntries(e,b).next(()=>this.re(d,y)).next(R=>(ge("IndexBackfiller",`Updating offset: ${R}`),this.localStore.indexManager.updateCollectionGroup(e,r,R))).next(()=>b.size)}))}re(e,r){let s=e;return r.changes.forEach((d,y)=>{const b=di(y);hi(b,s)>0&&(s=b)}),new sn(s.readTime,s.documentKey,Math.max(r.batchId,e.largestBatchId))}}let F=(()=>{class l{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=d=>this.ie(d),this.se=d=>s.writeSequenceNumber(d))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return l.oe=-1,l})();function he(l){return null==l}function Fe(l){return 0===l&&1/l==-1/0}function yt(l){return"number"==typeof l&&Number.isInteger(l)&&!Fe(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}function Rt(l){let e="";for(let r=0;r<l.length;r++)e.length>0&&(e=nn(e)),e=tn(l.get(r),e);return nn(e)}function tn(l,e){let r=e;const s=l.length;for(let d=0;d<s;d++){const y=l.charAt(d);switch(y){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=y}}return r}function nn(l){return l+"\x01\x01"}function an(l){const e=l.length;if(Nt(e>=2),2===e)return Nt("\x01"===l.charAt(0)&&"\x01"===l.charAt(1)),Cn.emptyPath();const r=e-2,s=[];let d="";for(let y=0;y<e;){const b=l.indexOf("\x01",y);switch((b<0||b>r)&&bt(),l.charAt(b+1)){case"\x01":const R=l.substring(y,b);let V;0===d.length?V=R:(d+=R,V=d,d=""),s.push(V);break;case"\x10":d+=l.substring(y,b),d+="\0";break;case"\x11":d+=l.substring(y,b+1);break;default:bt()}y=b+2}return new Cn(s)}const Jn=["userId","batchId"];function xn(l,e){return[l,Rt(e)]}function ci(l,e,r){return[l,Rt(e),r]}const Ds={},Io=["prefixPath","collectionGroup","readTime","documentId"],Ei=["prefixPath","collectionGroup","documentId"],oo=["collectionGroup","readTime","prefixPath","documentId"],_s=["canonicalId","targetId"],ki=["targetId","path"],gr=["path","targetId"],Fs=["collectionId","parent"],bo=["indexId","uid"],ya=["uid","sequenceNumber"],Jc=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Fi=["indexId","uid","orderedDocumentKey"],kr=["userId","collectionPath","documentId"],Xo=["userId","collectionPath","largestBatchId"],Zr=["userId","collectionGroup","largestBatchId"],ea=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ta=[...ea,"documentOverlays"],na=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],pr=na,wi=[...pr,"indexConfiguration","indexState","indexEntries"],Ls=wi;class Li extends Tr{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function Mr(l,e){const r=at(l);return oe.F(r._e,e)}function Vs(l){let e=0;for(const r in l)Object.prototype.hasOwnProperty.call(l,r)&&e++;return e}function Ji(l,e){for(const r in l)Object.prototype.hasOwnProperty.call(l,r)&&e(r,l[r])}function Ua(l){for(const e in l)if(Object.prototype.hasOwnProperty.call(l,e))return!1;return!0}class Br{constructor(e,r){this.comparator=e,this.root=r||Ii.EMPTY}insert(e,r){return new Br(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Ii.BLACK,null,null))}remove(e){return new Br(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ii.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const d=this.comparator(e,s.key);if(0===d)return r+s.left.size;d<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ba(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ba(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ba(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ba(this.root,e,this.comparator,!0)}}class Ba{constructor(e,r,s,d){this.isReverse=d,this.nodeStack=[];let y=1;for(;!e.isEmpty();)if(y=r?s(e.key,r):1,r&&d&&(y*=-1),y<0)e=this.isReverse?e.left:e.right;else{if(0===y){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ii{constructor(e,r,s,d,y){this.key=e,this.value=r,this.color=s??Ii.RED,this.left=d??Ii.EMPTY,this.right=y??Ii.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,d,y){return new Ii(e??this.key,r??this.value,s??this.color,d??this.left,y??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let d=this;const y=s(e,d.key);return d=y<0?d.copy(null,null,null,d.left.insert(e,r,s),null):0===y?d.copy(null,r,null,null,null):d.copy(null,null,null,null,d.right.insert(e,r,s)),d.fixUp()}removeMin(){if(this.left.isEmpty())return Ii.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,d=this;if(r(e,d.key)<0)d.left.isEmpty()||d.left.isRed()||d.left.left.isRed()||(d=d.moveRedLeft()),d=d.copy(null,null,null,d.left.remove(e,r),null);else{if(d.left.isRed()&&(d=d.rotateRight()),d.right.isEmpty()||d.right.isRed()||d.right.left.isRed()||(d=d.moveRedRight()),0===r(e,d.key)){if(d.right.isEmpty())return Ii.EMPTY;s=d.right.min(),d=d.copy(s.key,s.value,null,null,d.right.removeMin())}d=d.copy(null,null,null,null,d.right.remove(e,r))}return d.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ii.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ii.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw bt();const e=this.left.check();if(e!==this.right.check())throw bt();return e+(this.isRed()?0:1)}}Ii.EMPTY=null,Ii.RED=!0,Ii.BLACK=!1,Ii.EMPTY=new class{constructor(){this.size=0}get key(){throw bt()}get value(){throw bt()}get color(){throw bt()}get left(){throw bt()}get right(){throw bt()}copy(e,r,s,d,y){return this}insert(e,r,s){return new Ii(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pr{constructor(e){this.comparator=e,this.data=new Br(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const d=s.getNext();if(this.comparator(d.key,e[1])>=0)return;r(d.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new ra(this.data.getIterator())}getIteratorFrom(e){return new ra(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof Pr)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const d=r.getNext().key,y=s.getNext().key;if(0!==this.comparator(d,y))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Pr(this.comparator);return r.data=e,r}}class ra{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ss(l){return l.hasNext()?l.getNext():void 0}class bi{constructor(e){this.fields=e,e.sort(Hn.comparator)}static empty(){return new bi([])}unionWith(e){let r=new Pr(Hn.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new bi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return fn(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class Gi extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function To(){return typeof atob<"u"}class ei{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(d){try{return atob(d)}catch(y){throw typeof DOMException<"u"&&y instanceof DOMException?new Gi("Invalid base64 string: "+y):y}}(e);return new ei(r)}static fromUint8Array(e){const r=function(d){let y="";for(let b=0;b<d.length;++b)y+=String.fromCharCode(d[b]);return y}(e);return new ei(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let d=0;d<r.length;d++)s[d]=r.charCodeAt(d);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ei.EMPTY_BYTE_STRING=new ei("");const Co=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(l){if(Nt(!!l),"string"==typeof l){let e=0;const r=Co.exec(l);if(Nt(!!r),r[1]){let d=r[1];d=(d+"000000000").substr(0,9),e=Number(d)}const s=new Date(l);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ti(l.seconds),nanos:ti(l.nanos)}}function ti(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function ls(l){return"string"==typeof l?ei.fromBase64String(l):ei.fromUint8Array(l)}function ys(l){var e,r;return"server_timestamp"===(null===(r=((null===(e=l?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function ao(l){const e=l.mapValue.fields.__previous_value__;return ys(e)?ao(e):e}function Si(l){const e=cs(l.mapValue.fields.__local_write_time__.timestampValue);return new Dn(e.seconds,e.nanos)}class wo{constructor(e,r,s,d,y,b,R,V,Y){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=d,this.ssl=y,this.forceLongPolling=b,this.autoDetectLongPolling=R,this.longPollingOptions=V,this.useFetchStreams=Y}}class Pn{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Pn("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Pn&&e.projectId===this.projectId&&e.database===this.database}}const Rr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},jr={nullValue:"NULL_VALUE"};function Mi(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?ys(l)?4:rr(l)?9007199254740991:10:bt()}function xr(l,e){if(l===e)return!0;const r=Mi(l);if(r!==Mi(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===e.booleanValue;case 4:return Si(l).isEqual(Si(e));case 3:return function(d,y){if("string"==typeof d.timestampValue&&"string"==typeof y.timestampValue&&d.timestampValue.length===y.timestampValue.length)return d.timestampValue===y.timestampValue;const b=cs(d.timestampValue),R=cs(y.timestampValue);return b.seconds===R.seconds&&b.nanos===R.nanos}(l,e);case 5:return l.stringValue===e.stringValue;case 6:return y=e,ls(l.bytesValue).isEqual(ls(y.bytesValue));case 7:return l.referenceValue===e.referenceValue;case 8:return function(d,y){return ti(d.geoPointValue.latitude)===ti(y.geoPointValue.latitude)&&ti(d.geoPointValue.longitude)===ti(y.geoPointValue.longitude)}(l,e);case 2:return function(d,y){if("integerValue"in d&&"integerValue"in y)return ti(d.integerValue)===ti(y.integerValue);if("doubleValue"in d&&"doubleValue"in y){const b=ti(d.doubleValue),R=ti(y.doubleValue);return b===R?Fe(b)===Fe(R):isNaN(b)&&isNaN(R)}return!1}(l,e);case 9:return fn(l.arrayValue.values||[],e.arrayValue.values||[],xr);case 10:return function(d,y){const b=d.mapValue.fields||{},R=y.mapValue.fields||{};if(Vs(b)!==Vs(R))return!1;for(const V in b)if(b.hasOwnProperty(V)&&(void 0===R[V]||!xr(b[V],R[V])))return!1;return!0}(l,e);default:return bt()}var y}function qi(l,e){return void 0!==(l.values||[]).find(r=>xr(r,e))}function Ai(l,e){if(l===e)return 0;const r=Mi(l),s=Mi(e);if(r!==s)return qt(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return qt(l.booleanValue,e.booleanValue);case 2:return function(y,b){const R=ti(y.integerValue||y.doubleValue),V=ti(b.integerValue||b.doubleValue);return R<V?-1:R>V?1:R===V?0:isNaN(R)?isNaN(V)?0:-1:1}(l,e);case 3:return Ao(l.timestampValue,e.timestampValue);case 4:return Ao(Si(l),Si(e));case 5:return qt(l.stringValue,e.stringValue);case 6:return function(y,b){const R=ls(y),V=ls(b);return R.compareTo(V)}(l.bytesValue,e.bytesValue);case 7:return function(y,b){const R=y.split("/"),V=b.split("/");for(let Y=0;Y<R.length&&Y<V.length;Y++){const ie=qt(R[Y],V[Y]);if(0!==ie)return ie}return qt(R.length,V.length)}(l.referenceValue,e.referenceValue);case 8:return function(y,b){const R=qt(ti(y.latitude),ti(b.latitude));return 0!==R?R:qt(ti(y.longitude),ti(b.longitude))}(l.geoPointValue,e.geoPointValue);case 9:return function(y,b){const R=y.values||[],V=b.values||[];for(let Y=0;Y<R.length&&Y<V.length;++Y){const ie=Ai(R[Y],V[Y]);if(ie)return ie}return qt(R.length,V.length)}(l.arrayValue,e.arrayValue);case 10:return function(y,b){if(y===Rr.mapValue&&b===Rr.mapValue)return 0;if(y===Rr.mapValue)return 1;if(b===Rr.mapValue)return-1;const R=y.fields||{},V=Object.keys(R),Y=b.fields||{},ie=Object.keys(Y);V.sort(),ie.sort();for(let ye=0;ye<V.length&&ye<ie.length;++ye){const ke=qt(V[ye],ie[ye]);if(0!==ke)return ke;const ot=Ai(R[V[ye]],Y[ie[ye]]);if(0!==ot)return ot}return qt(V.length,ie.length)}(l.mapValue,e.mapValue);default:throw bt()}}function Ao(l,e){if("string"==typeof l&&"string"==typeof e&&l.length===e.length)return qt(l,e);const r=cs(l),s=cs(e),d=qt(r.seconds,s.seconds);return 0!==d?d:qt(r.nanos,s.nanos)}function Pi(l){return us(l)}function us(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(r){const s=cs(r);return`time(${s.seconds},${s.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?ls(l.bytesValue).toBase64():"referenceValue"in l?kt.fromName(l.referenceValue).toString():"geoPointValue"in l?function(r){return`geo(${r.latitude},${r.longitude})`}(l.geoPointValue):"arrayValue"in l?function(r){let s="[",d=!0;for(const y of r.values||[])d?d=!1:s+=",",s+=us(y);return s+"]"}(l.arrayValue):"mapValue"in l?function(r){const s=Object.keys(r.fields||{}).sort();let d="{",y=!0;for(const b of s)y?y=!1:d+=",",d+=`${b}:${us(r.fields[b])}`;return d+"}"}(l.mapValue):bt()}function Xt(l,e){return{referenceValue:`projects/${l.projectId}/databases/${l.database}/documents/${e.path.canonicalString()}`}}function Ln(l){return!!l&&"integerValue"in l}function mr(l){return!!l&&"arrayValue"in l}function gi(l){return!!l&&"nullValue"in l}function vs(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function zr(l){return!!l&&"mapValue"in l}function ni(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const e={mapValue:{fields:{}}};return Ji(l.mapValue.fields,(r,s)=>e.mapValue.fields[r]=ni(s)),e}if(l.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(l.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=ni(l.arrayValue.values[r]);return e}return Object.assign({},l)}function rr(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}function Wi(l){return"nullValue"in l?jr:"booleanValue"in l?{booleanValue:!1}:"integerValue"in l||"doubleValue"in l?{doubleValue:NaN}:"timestampValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in l?{stringValue:""}:"bytesValue"in l?{bytesValue:""}:"referenceValue"in l?Xt(Pn.empty(),kt.empty()):"geoPointValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in l?{arrayValue:{}}:"mapValue"in l?{mapValue:{}}:bt()}function Es(l){return"nullValue"in l?{booleanValue:!1}:"booleanValue"in l?{doubleValue:NaN}:"integerValue"in l||"doubleValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in l?{stringValue:""}:"stringValue"in l?{bytesValue:""}:"bytesValue"in l?Xt(Pn.empty(),kt.empty()):"referenceValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in l?{arrayValue:{}}:"arrayValue"in l?{mapValue:{}}:"mapValue"in l?Rr:bt()}function jn(l,e){const r=Ai(l.value,e.value);return 0!==r?r:l.inclusive&&!e.inclusive?-1:!l.inclusive&&e.inclusive?1:0}function Zi(l,e){const r=Ai(l.value,e.value);return 0!==r?r:l.inclusive&&!e.inclusive?1:!l.inclusive&&e.inclusive?-1:0}class or{constructor(e){this.value=e}static empty(){return new or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!zr(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=ni(r)}setAll(e){let r=Hn.emptyPath(),s={},d=[];e.forEach((b,R)=>{if(!r.isImmediateParentOf(R)){const V=this.getFieldsMap(r);this.applyChanges(V,s,d),s={},d=[],r=R.popLast()}b?s[R.lastSegment()]=ni(b):d.push(R.lastSegment())});const y=this.getFieldsMap(r);this.applyChanges(y,s,d)}delete(e){const r=this.field(e.popLast());zr(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return xr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let d=r.mapValue.fields[e.get(s)];zr(d)&&d.mapValue.fields||(d={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=d),r=d}return r.mapValue.fields}applyChanges(e,r,s){Ji(r,(d,y)=>e[d]=y);for(const d of s)delete e[d]}clone(){return new or(ni(this.value))}}function mi(l){const e=[];return Ji(l.fields,(r,s)=>{const d=new Hn([r]);if(zr(s)){const y=mi(s.mapValue).fields;if(0===y.length)e.push(d);else for(const b of y)e.push(d.child(b))}else e.push(d)}),new bi(e)}class kn{constructor(e,r,s,d,y,b,R){this.key=e,this.documentType=r,this.version=s,this.readTime=d,this.createTime=y,this.data=b,this.documentState=R}static newInvalidDocument(e){return new kn(e,0,Kt.min(),Kt.min(),Kt.min(),or.empty(),0)}static newFoundDocument(e,r,s,d){return new kn(e,1,r,Kt.min(),s,d,0)}static newNoDocument(e,r){return new kn(e,2,r,Kt.min(),Kt.min(),or.empty(),0)}static newUnknownDocument(e,r){return new kn(e,3,r,Kt.min(),Kt.min(),or.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Kt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Kt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xi{constructor(e,r){this.position=e,this.inclusive=r}}function _i(l,e,r){let s=0;for(let d=0;d<l.position.length;d++){const y=e[d],b=l.position[d];if(s=y.field.isKeyField()?kt.comparator(kt.fromName(b.referenceValue),r.key):Ai(b,r.data.field(y.field)),"desc"===y.dir&&(s*=-1),0!==s)break}return s}function ds(l,e){if(null===l)return null===e;if(null===e||l.inclusive!==e.inclusive||l.position.length!==e.position.length)return!1;for(let r=0;r<l.position.length;r++)if(!xr(l.position[r],e.position[r]))return!1;return!0}class Is{constructor(e,r="asc"){this.field=e,this.dir=r}}function ja(l,e){return l.dir===e.dir&&l.field.isEqual(e.field)}class hs{}class Kn extends hs{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new lo(e,r,s):"array-contains"===r?new He(e,s):"in"===r?new St(e,s):"not-in"===r?new Vt(e,s):"array-contains-any"===r?new on(e,s):new Kn(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new Kr(e,s):new de(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(Ai(r,this.value)):null!==r&&Mi(this.value)===Mi(r)&&this.matchesComparison(Ai(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return bt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ar extends hs{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new ar(e,r)}matches(e){return Ms(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ms(l){return"and"===l.op}function ir(l){return"or"===l.op}function ia(l){return Ki(l)&&Ms(l)}function Ki(l){for(const e of l.filters)if(e instanceof ar)return!1;return!0}function Ri(l){if(l instanceof Kn)return l.field.canonicalString()+l.op.toString()+Pi(l.value);if(ia(l))return l.filters.map(e=>Ri(e)).join(",");{const e=l.filters.map(r=>Ri(r)).join(",");return`${l.op}(${e})`}}function es(l,e){return l instanceof Kn?(s=l,(d=e)instanceof Kn&&s.op===d.op&&s.field.isEqual(d.field)&&xr(s.value,d.value)):l instanceof ar?function(s,d){return d instanceof ar&&s.op===d.op&&s.filters.length===d.filters.length&&s.filters.reduce((y,b,R)=>y&&es(b,d.filters[R]),!0)}(l,e):void bt();var s,d}function bs(l,e){const r=l.filters.concat(e);return ar.create(r,l.op)}function co(l){return l instanceof Kn?`${(r=l).field.canonicalString()} ${r.op} ${Pi(r.value)}`:l instanceof ar?function(r){return r.op.toString()+" {"+r.getFilters().map(co).join(" ,")+"}"}(l):"Filter";var r}class lo extends Kn{constructor(e,r,s){super(e,r,s),this.key=kt.fromName(s.referenceValue)}matches(e){const r=kt.comparator(e.key,this.key);return this.matchesComparison(r)}}class Kr extends Kn{constructor(e,r){super(e,"in",r),this.keys=De(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class de extends Kn{constructor(e,r){super(e,"not-in",r),this.keys=De(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function De(l,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>kt.fromName(s.referenceValue))}class He extends Kn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return mr(r)&&qi(r.arrayValue,this.value)}}class St extends Kn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&qi(this.value.arrayValue,r)}}class Vt extends Kn{constructor(e,r){super(e,"not-in",r)}matches(e){if(qi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!qi(this.value.arrayValue,r)}}class on extends Kn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!mr(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>qi(this.value.arrayValue,s))}}class gn{constructor(e,r=null,s=[],d=[],y=null,b=null,R=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=d,this.limit=y,this.startAt=b,this.endAt=R,this.ue=null}}function Wn(l,e=null,r=[],s=[],d=null,y=null,b=null){return new gn(l,e,r,s,d,y,b)}function Rn(l){const e=at(l);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>Ri(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(y=s).field.canonicalString()+y.dir;var y}).join(","),he(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>Pi(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>Pi(s)).join(",")),e.ue=r}return e.ue}function nr(l,e){if(l.limit!==e.limit||l.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<l.orderBy.length;r++)if(!ja(l.orderBy[r],e.orderBy[r]))return!1;if(l.filters.length!==e.filters.length)return!1;for(let r=0;r<l.filters.length;r++)if(!es(l.filters[r],e.filters[r]))return!1;return l.collectionGroup===e.collectionGroup&&!!l.path.isEqual(e.path)&&!!ds(l.startAt,e.startAt)&&ds(l.endAt,e.endAt)}function Vi(l){return kt.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}function fs(l,e){return l.filters.filter(r=>r instanceof Kn&&r.field.isEqual(e))}function q(l,e,r){let s=jr,d=!0;for(const y of fs(l,e)){let b=jr,R=!0;switch(y.op){case"<":case"<=":b=Wi(y.value);break;case"==":case"in":case">=":b=y.value;break;case">":b=y.value,R=!1;break;case"!=":case"not-in":b=jr}jn({value:s,inclusive:d},{value:b,inclusive:R})<0&&(s=b,d=R)}if(null!==r)for(let y=0;y<l.orderBy.length;++y)if(l.orderBy[y].field.isEqual(e)){const b=r.position[y];jn({value:s,inclusive:d},{value:b,inclusive:r.inclusive})<0&&(s=b,d=r.inclusive);break}return{value:s,inclusive:d}}function ee(l,e,r){let s=Rr,d=!0;for(const y of fs(l,e)){let b=Rr,R=!0;switch(y.op){case">=":case">":b=Es(y.value),R=!1;break;case"==":case"in":case"<=":b=y.value;break;case"<":b=y.value,R=!1;break;case"!=":case"not-in":b=Rr}Zi({value:s,inclusive:d},{value:b,inclusive:R})>0&&(s=b,d=R)}if(null!==r)for(let y=0;y<l.orderBy.length;++y)if(l.orderBy[y].field.isEqual(e)){const b=r.position[y];Zi({value:s,inclusive:d},{value:b,inclusive:r.inclusive})>0&&(s=b,d=r.inclusive);break}return{value:s,inclusive:d}}class L{constructor(e,r=null,s=[],d=[],y=null,b="F",R=null,V=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=d,this.limit=y,this.limitType=b,this.startAt=R,this.endAt=V,this.ce=null,this.le=null,this.he=null}}function ce(l,e,r,s,d,y,b,R){return new L(l,e,r,s,d,y,b,R)}function Me(l){return new L(l)}function bn(l){return 0===l.filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())}function cr(l){return null!==l.collectionGroup}function ts(l){const e=at(l);if(null===e.ce){e.ce=[];const r=new Set;for(const y of e.explicitOrderBy)e.ce.push(y),r.add(y.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(b){let R=new Pr(Hn.comparator);return b.filters.forEach(V=>{V.getFlattenedFilters().forEach(Y=>{Y.isInequality()&&(R=R.add(Y.field))})}),R})(e).forEach(y=>{r.has(y.canonicalString())||y.isKeyField()||e.ce.push(new Is(y,s))}),r.has(Hn.keyField().canonicalString())||e.ce.push(new Is(Hn.keyField(),s))}return e.ce}function ri(l){const e=at(l);return e.le||(e.le=function kl(l,e){if("F"===l.limitType)return Wn(l.path,l.collectionGroup,e,l.filters,l.limit,l.startAt,l.endAt);{e=e.map(d=>new Is(d.field,"desc"===d.dir?"asc":"desc"));const r=l.endAt?new Xi(l.endAt.position,l.endAt.inclusive):null,s=l.startAt?new Xi(l.startAt.position,l.startAt.inclusive):null;return Wn(l.path,l.collectionGroup,e,l.filters,l.limit,r,s)}}(e,ts(l))),e.le}function dc(l,e){const r=l.filters.concat([e]);return new L(l.path,l.collectionGroup,l.explicitOrderBy.slice(),r,l.limit,l.limitType,l.startAt,l.endAt)}function hc(l,e,r){return new L(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),e,r,l.startAt,l.endAt)}function $a(l,e){return nr(ri(l),ri(e))&&l.limitType===e.limitType}function Xc(l){return`${Rn(ri(l))}|lt:${l.limitType}`}function fc(l){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(d=>co(d)).join(", ")}]`),he(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(d=>{return`${(b=d).field.canonicalString()} (${b.dir})`;var b}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(d=>Pi(d)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(d=>Pi(d)).join(",")),`Target(${s})`}(ri(l))}; limitType=${l.limitType})`}function va(l,e){return e.isFoundDocument()&&function(s,d){const y=d.key.path;return null!==s.collectionGroup?d.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(y):kt.isDocumentKey(s.path)?s.path.isEqual(y):s.path.isImmediateParentOf(y)}(l,e)&&function(s,d){for(const y of ts(s))if(!y.field.isKeyField()&&null===d.data.field(y.field))return!1;return!0}(l,e)&&function(s,d){for(const y of s.filters)if(!y.matches(d))return!1;return!0}(l,e)&&(d=e,!((s=l).startAt&&!function(b,R,V){const Y=_i(b,R,V);return b.inclusive?Y<=0:Y<0}(s.startAt,ts(s),d)||s.endAt&&!function(b,R,V){const Y=_i(b,R,V);return b.inclusive?Y>=0:Y>0}(s.endAt,ts(s),d)));var s,d}function el(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function Ws(l){return(e,r)=>{let s=!1;for(const d of ts(l)){const y=uo(d,e,r);if(0!==y)return y;s=s||d.field.isKeyField()}return 0}}function uo(l,e,r){const s=l.field.isKeyField()?kt.comparator(e.key,r.key):function(y,b,R){const V=b.data.field(y),Y=R.data.field(y);return null!==V&&null!==Y?Ai(V,Y):bt()}(l.field,e,r);switch(l.dir){case"asc":return s;case"desc":return-1*s;default:return bt()}}class ns{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[d,y]of s)if(this.equalsFn(d,e))return y}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),d=this.inner[s];if(void 0===d)return this.inner[s]=[[e,r]],void this.innerSize++;for(let y=0;y<d.length;y++)if(this.equalsFn(d[y][0],e))return void(d[y]=[e,r]);d.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let d=0;d<s.length;d++)if(this.equalsFn(s[d][0],e))return 1===s.length?delete this.inner[r]:s.splice(d,1),this.innerSize--,!0;return!1}forEach(e){Ji(this.inner,(r,s)=>{for(const[d,y]of s)e(d,y)})}isEmpty(){return Ua(this.inner)}size(){return this.innerSize}}const Id=new Br(kt.comparator);function Cr(){return Id}const Ea=new Br(kt.comparator);function Ui(...l){let e=Ea;for(const r of l)e=e.insert(r.key,r);return e}function wu(l){let e=Ea;return l.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function Zs(){return fo()}function ho(){return fo()}function fo(){return new ns(l=>l.toString(),(l,e)=>l.isEqual(e))}const Fo=new Br(kt.comparator),za=new Pr(kt.comparator);function sr(...l){let e=za;for(const r of l)e=e.add(r);return e}const tl=new Pr(qt);function nl(){return tl}function pc(l,e){if(l.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fe(e)?"-0":e}}function gc(l){return{integerValue:""+l}}function Ga(l,e){return yt(e)?gc(e):pc(l,e)}class sa{constructor(){this._=void 0}}function Lo(l,e,r){return l instanceof rl?function(d,y){const b={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:d.seconds,nanos:d.nanoseconds}}}};return y&&ys(y)&&(y=ao(y)),y&&(b.fields.__previous_value__=y),{mapValue:b}}(r,e):l instanceof oa?Mh(l,e):l instanceof Vo?bd(l,e):function(d,y){const b=Fl(d,y),R=_c(b)+_c(d.Pe);return Ln(b)&&Ln(d.Pe)?gc(R):pc(d.serializer,R)}(l,e)}function mc(l,e,r){return l instanceof oa?Mh(l,e):l instanceof Vo?bd(l,e):r}function Fl(l,e){return l instanceof qa?Ln(s=e)||(y=s)&&"doubleValue"in y?e:{integerValue:0}:null;var s,y}class rl extends sa{}class oa extends sa{constructor(e){super(),this.elements=e}}function Mh(l,e){const r=Ll(e);for(const s of l.elements)r.some(d=>xr(d,s))||r.push(s);return{arrayValue:{values:r}}}class Vo extends sa{constructor(e){super(),this.elements=e}}function bd(l,e){let r=Ll(e);for(const s of l.elements)r=r.filter(d=>!xr(d,s));return{arrayValue:{values:r}}}class qa extends sa{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function _c(l){return ti(l.integerValue||l.doubleValue)}function Ll(l){return mr(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class Wa{constructor(e,r){this.field=e,this.transform=r}}class il{constructor(e,r){this.version=e,this.transformResults=r}}class Yr{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Yr}static exists(e){return new Yr(void 0,e)}static updateTime(e){return new Yr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function P(l,e){return void 0!==l.updateTime?e.isFoundDocument()&&e.version.isEqual(l.updateTime):void 0===l.exists||l.exists===e.isFoundDocument()}class ne{}function j(l,e){if(!l.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return l.isNoDocument()?new Wr(l.key,Yr.none()):new vn(l.key,l.data,Yr.none());{const r=l.data,s=or.empty();let d=new Pr(Hn.comparator);for(let y of e.fields)if(!d.has(y)){let b=r.field(y);null===b&&y.length>1&&(y=y.popLast(),b=r.field(y)),null===b?s.delete(y):s.set(y,b),d=d.add(y)}return new wr(l.key,s,new bi(d.toArray()),Yr.none())}}function te(l,e,r){l instanceof vn?function(d,y,b){const R=d.value.clone(),V=Fr(d.fieldTransforms,y,b.transformResults);R.setAll(V),y.convertToFoundDocument(b.version,R).setHasCommittedMutations()}(l,e,r):l instanceof wr?function(d,y,b){if(!P(d.precondition,y))return void y.convertToUnknownDocument(b.version);const R=Fr(d.fieldTransforms,y,b.transformResults),V=y.data;V.setAll(Gr(d)),V.setAll(R),y.convertToFoundDocument(b.version,V).setHasCommittedMutations()}(l,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function we(l,e,r,s){return l instanceof vn?function(y,b,R,V){if(!P(y.precondition,b))return R;const Y=y.value.clone(),ie=dr(y.fieldTransforms,V,b);return Y.setAll(ie),b.convertToFoundDocument(b.version,Y).setHasLocalMutations(),null}(l,e,r,s):l instanceof wr?function(y,b,R,V){if(!P(y.precondition,b))return R;const Y=dr(y.fieldTransforms,V,b),ie=b.data;return ie.setAll(Gr(y)),ie.setAll(Y),b.convertToFoundDocument(b.version,ie).setHasLocalMutations(),null===R?null:R.unionWith(y.fieldMask.fields).unionWith(y.fieldTransforms.map(ye=>ye.field))}(l,e,r,s):(R=r,P(l.precondition,b=e)?(b.convertToNoDocument(b.version).setHasLocalMutations(),null):R);var b,R}function ht(l,e){let r=null;for(const s of l.fieldTransforms){const d=e.data.field(s.field),y=Fl(s.transform,d||null);null!=y&&(null===r&&(r=or.empty()),r.set(s.field,y))}return r||null}function Mt(l,e){return l.type===e.type&&!!l.key.isEqual(e.key)&&!!l.precondition.isEqual(e.precondition)&&(d=e.fieldTransforms,!!(void 0===(s=l.fieldTransforms)&&void 0===d||s&&d&&fn(s,d,(y,b)=>function Td(l,e){return l.field.isEqual(e.field)&&(d=e.transform,(s=l.transform)instanceof oa&&d instanceof oa||s instanceof Vo&&d instanceof Vo?fn(s.elements,d.elements,xr):s instanceof qa&&d instanceof qa?xr(s.Pe,d.Pe):s instanceof rl&&d instanceof rl);var s,d}(y,b))))&&(0===l.type?l.value.isEqual(e.value):1!==l.type||l.data.isEqual(e.data)&&l.fieldMask.isEqual(e.fieldMask));var s,d}class vn extends ne{constructor(e,r,s,d=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=d,this.type=0}getFieldMask(){return null}}class wr extends ne{constructor(e,r,s,d,y=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=d,this.fieldTransforms=y,this.type=1}getFieldMask(){return this.fieldMask}}function Gr(l){const e=new Map;return l.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=l.data.field(r);e.set(r,s)}}),e}function Fr(l,e,r){const s=new Map;Nt(l.length===r.length);for(let d=0;d<r.length;d++){const y=l[d],b=y.transform,R=e.data.field(y.field);s.set(y.field,mc(b,R,r[d]))}return s}function dr(l,e,r){const s=new Map;for(const d of l){const y=d.transform,b=r.data.field(d.field);s.set(d.field,Lo(y,b,e))}return s}class Wr extends ne{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Or extends ne{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xi{constructor(e,r,s,d){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=d}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let d=0;d<this.mutations.length;d++){const y=this.mutations[d];y.key.isEqual(e.key)&&te(y,e,s[d])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=we(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=we(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=ho();return this.mutations.forEach(d=>{const y=e.get(d.key),b=y.overlayedDocument;let R=this.applyToLocalView(b,y.mutatedFields);R=r.has(d.key)?null:R;const V=j(b,R);null!==V&&s.set(d.key,V),b.isValidDocument()||b.convertToNoDocument(Kt.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),sr())}isEqual(e){return this.batchId===e.batchId&&fn(this.mutations,e.mutations,(r,s)=>Mt(r,s))&&fn(this.baseMutations,e.baseMutations,(r,s)=>Mt(r,s))}}class ps{constructor(e,r,s,d){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=d}static from(e,r,s){Nt(e.mutations.length===s.length);let d=Fo;const y=e.mutations;for(let b=0;b<y.length;b++)d=d.insert(y[b].key,s[b].version);return new ps(e,r,s,d)}}class rs{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Us{constructor(e,r){this.count=e,this.unchangedNames=r}}var ii,Yn;function ca(l){switch(l){default:return bt();case Ne.CANCELLED:case Ne.UNKNOWN:case Ne.DEADLINE_EXCEEDED:case Ne.RESOURCE_EXHAUSTED:case Ne.INTERNAL:case Ne.UNAVAILABLE:case Ne.UNAUTHENTICATED:return!1;case Ne.INVALID_ARGUMENT:case Ne.NOT_FOUND:case Ne.ALREADY_EXISTS:case Ne.PERMISSION_DENIED:case Ne.FAILED_PRECONDITION:case Ne.ABORTED:case Ne.OUT_OF_RANGE:case Ne.UNIMPLEMENTED:case Ne.DATA_LOSS:return!0}}function Ks(l){if(void 0===l)return Et("GRPC error has no .code"),Ne.UNKNOWN;switch(l){case ii.OK:return Ne.OK;case ii.CANCELLED:return Ne.CANCELLED;case ii.UNKNOWN:return Ne.UNKNOWN;case ii.DEADLINE_EXCEEDED:return Ne.DEADLINE_EXCEEDED;case ii.RESOURCE_EXHAUSTED:return Ne.RESOURCE_EXHAUSTED;case ii.INTERNAL:return Ne.INTERNAL;case ii.UNAVAILABLE:return Ne.UNAVAILABLE;case ii.UNAUTHENTICATED:return Ne.UNAUTHENTICATED;case ii.INVALID_ARGUMENT:return Ne.INVALID_ARGUMENT;case ii.NOT_FOUND:return Ne.NOT_FOUND;case ii.ALREADY_EXISTS:return Ne.ALREADY_EXISTS;case ii.PERMISSION_DENIED:return Ne.PERMISSION_DENIED;case ii.FAILED_PRECONDITION:return Ne.FAILED_PRECONDITION;case ii.ABORTED:return Ne.ABORTED;case ii.OUT_OF_RANGE:return Ne.OUT_OF_RANGE;case ii.UNIMPLEMENTED:return Ne.UNIMPLEMENTED;case ii.DATA_LOSS:return Ne.DATA_LOSS;default:return bt()}}(Yn=ii||(ii={}))[Yn.OK=0]="OK",Yn[Yn.CANCELLED=1]="CANCELLED",Yn[Yn.UNKNOWN=2]="UNKNOWN",Yn[Yn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yn[Yn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yn[Yn.NOT_FOUND=5]="NOT_FOUND",Yn[Yn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yn[Yn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yn[Yn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yn[Yn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yn[Yn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yn[Yn.ABORTED=10]="ABORTED",Yn[Yn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yn[Yn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yn[Yn.INTERNAL=13]="INTERNAL",Yn[Yn.UNAVAILABLE=14]="UNAVAILABLE",Yn[Yn.DATA_LOSS=15]="DATA_LOSS";function Ia(){return new TextEncoder}const Uo=new Ae([4294967295,4294967295],0);function Ps(l){const e=Ia().encode(l),r=new xe;return r.update(e),new Uint8Array(r.digest())}function Au(l){const e=new DataView(l.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),d=e.getUint32(8,!0),y=e.getUint32(12,!0);return[new Ae([r,s],0),new Ae([d,y],0)]}class Vl{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new la(`Invalid padding: ${r}`);if(s<0)throw new la(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new la(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new la(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Ae.fromNumber(this.Ie)}Ee(e,r,s){let d=e.add(r.multiply(Ae.fromNumber(s)));return 1===d.compare(Uo)&&(d=new Ae([d.getBits(0),d.getBits(1)],0)),d.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=Ps(e),[s,d]=Au(r);for(let y=0;y<this.hashCount;y++){const b=this.Ee(s,d,y);if(!this.de(b))return!1}return!0}static create(e,r,s){const d=e%8==0?0:8-e%8,y=new Uint8Array(Math.ceil(e/8)),b=new Vl(y,d,r);return s.forEach(R=>b.insert(R)),b}insert(e){if(0===this.Ie)return;const r=Ps(e),[s,d]=Au(r);for(let y=0;y<this.hashCount;y++){const b=this.Ee(s,d,y);this.Ae(b)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class la extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rs{constructor(e,r,s,d,y){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=d,this.resolvedLimboDocuments=y}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const d=new Map;return d.set(e,sl.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new Rs(Kt.min(),d,new Br(qt),Cr(),sr())}}class sl{constructor(e,r,s,d,y){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=d,this.removedDocuments=y}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new sl(s,r,sr(),sr(),sr())}}class yc{constructor(e,r,s,d){this.Re=e,this.removedTargetIds=r,this.key=s,this.Ve=d}}class Du{constructor(e,r){this.targetId=e,this.me=r}}class po{constructor(e,r,s=ei.EMPTY_BYTE_STRING,d=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=d}}class Bo{constructor(){this.fe=0,this.ge=Ph(),this.pe=ei.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=sr(),r=sr(),s=sr();return this.ge.forEach((d,y)=>{switch(y){case 0:e=e.add(d);break;case 2:r=r.add(d);break;case 1:s=s.add(d);break;default:bt()}}),new sl(this.pe,this.ye,e,r,s)}ve(){this.we=!1,this.ge=Ph()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Nt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class jo{constructor(e){this.Le=e,this.Be=new Map,this.ke=Cr(),this.qe=Cd(),this.Qe=new Br(qt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const s=this.Ge(r);switch(e.state){case 0:this.ze(r)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.ve(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),s.De(e.resumeToken));break;default:bt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((s,d)=>{this.ze(d)&&r(d)})}He(e){const r=e.targetId,s=e.me.count,d=this.Je(r);if(d){const y=d.target;if(Vi(y))if(0===s){const b=new kt(y.path);this.Ue(r,b,kn.newNoDocument(b,Kt.min()))}else Nt(1===s);else{const b=this.Ye(r);if(b!==s){const R=this.Ze(e),V=R?this.Xe(R,e,b):1;0!==V&&(this.je(r),this.Qe=this.Qe.insert(r,2===V?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:d=0},hashCount:y=0}=r;let b,R;try{b=ls(s).toUint8Array()}catch(V){if(V instanceof Gi)return Ht("Decoding the base64 bloom filter in existence filter failed ("+V.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw V}try{R=new Vl(b,d,y)}catch(V){return Ht(V instanceof la?"BloomFilter error: ":"Applying bloom filter failed: ",V),null}return 0===R.Ie?null:R}Xe(e,r,s){return r.me.count===s-this.nt(e,r.targetId)?0:2}nt(e,r){const s=this.Le.getRemoteKeysForTarget(r);let d=0;return s.forEach(y=>{const b=this.Le.tt(),R=`projects/${b.projectId}/databases/${b.database}/documents/${y.path.canonicalString()}`;e.mightContain(R)||(this.Ue(r,y,null),d++)}),d}rt(e){const r=new Map;this.Be.forEach((y,b)=>{const R=this.Je(b);if(R){if(y.current&&Vi(R.target)){const V=new kt(R.target.path);null!==this.ke.get(V)||this.it(b,V)||this.Ue(b,V,kn.newNoDocument(V,e))}y.be&&(r.set(b,y.Ce()),y.ve())}});let s=sr();this.qe.forEach((y,b)=>{let R=!0;b.forEachWhile(V=>{const Y=this.Je(V);return!Y||"TargetPurposeLimboResolution"===Y.purpose||(R=!1,!1)}),R&&(s=s.add(y))}),this.ke.forEach((y,b)=>b.setReadTime(e));const d=new Rs(e,r,this.Qe,this.ke,s);return this.ke=Cr(),this.qe=Cd(),this.Qe=new Br(qt),d}$e(e,r){if(!this.ze(e))return;const s=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,s),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,s){if(!this.ze(e))return;const d=this.Ge(e);this.it(e,r)?d.Fe(r,1):d.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),s&&(this.ke=this.ke.insert(r,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Bo,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Pr(qt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||ge("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Bo),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Cd(){return new Br(kt.comparator)}function Ph(){return new Br(kt.comparator)}const Gf={asc:"ASCENDING",desc:"DESCENDING"},e_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xn={and:"AND",or:"OR"};class wd{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function ol(l,e){return l.useProto3Json||he(e)?e:{value:e}}function Za(l,e){return l.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rh(l,e){return l.useProto3Json?e.toBase64():e.toUint8Array()}function Ad(l,e){return Za(l,e.toTimestamp())}function Ti(l){return Nt(!!l),Kt.fromTimestamp(function(r){const s=cs(r);return new Dn(s.seconds,s.nanos)}(l))}function Ka(l,e){return xh(l,e).canonicalString()}function xh(l,e){const r=(d=l,new Cn(["projects",d.projectId,"databases",d.database])).child("documents");var d;return void 0===e?r:r.child(e)}function qf(l){const e=Cn.fromString(l);return Nt(Ce(e)),e}function Dd(l,e){return Ka(l.databaseId,e.path)}function Ho(l,e){const r=qf(e);if(r.get(1)!==l.databaseId.projectId)throw new _e(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+l.databaseId.projectId);if(r.get(3)!==l.databaseId.database)throw new _e(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+l.databaseId.database);return new kt(Sd(r))}function yg(l,e){return Ka(l.databaseId,e)}function Ot(l){const e=qf(l);return 4===e.length?Cn.emptyPath():Sd(e)}function Dr(l){return new Cn(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function Sd(l){return Nt(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function vc(l,e,r){return{name:Dd(l,e),fields:r.value.mapValue.fields}}function gs(l,e,r){const s=Ho(l,e.name),d=Ti(e.updateTime),y=e.createTime?Ti(e.createTime):Kt.min(),b=new or({mapValue:{fields:e.fields}}),R=kn.newFoundDocument(s,d,y,b);return r&&R.setHasCommittedMutations(),r?R.setHasCommittedMutations():R}function Ts(l,e){let r;if(e instanceof vn)r={update:vc(l,e.key,e.value)};else if(e instanceof Wr)r={delete:Dd(l,e.key)};else if(e instanceof wr)r={update:vc(l,e.key,e.data),updateMask:ae(e.fieldMask)};else{if(!(e instanceof Or))return bt();r={verify:Dd(l,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(y,b){const R=b.transform;if(R instanceof rl)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(R instanceof oa)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:R.elements}};if(R instanceof Vo)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:R.elements}};if(R instanceof qa)return{fieldPath:b.field.canonicalString(),increment:R.Pe};throw bt()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(y=e.precondition).updateTime?{updateTime:Ad(l,y.updateTime)}:void 0!==y.exists?{exists:y.exists}:bt()),r;var y}function al(l,e){const r=e.currentDocument?void 0!==(y=e.currentDocument).updateTime?Yr.updateTime(Ti(y.updateTime)):void 0!==y.exists?Yr.exists(y.exists):Yr.none():Yr.none(),s=e.updateTransforms?e.updateTransforms.map(d=>function(b,R){let V=null;"setToServerValue"in R?(Nt("REQUEST_TIME"===R.setToServerValue),V=new rl):"appendMissingElements"in R?V=new oa(R.appendMissingElements.values||[]):"removeAllFromArray"in R?V=new Vo(R.removeAllFromArray.values||[]):"increment"in R?V=new qa(b,R.increment):bt();const Y=Hn.fromServerFormat(R.fieldPath);return new Wa(Y,V)}(l,d)):[];var y;if(e.update){const d=Ho(l,e.update.name),y=new or({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new bi((e.updateMask.fieldPaths||[]).map(ie=>Hn.fromServerFormat(ie)));return new wr(d,y,b,r,s)}return new vn(d,y,r,s)}if(e.delete){const d=Ho(l,e.delete);return new Wr(d,r)}if(e.verify){const d=Ho(l,e.verify);return new Or(d,r)}return bt()}function Md(l,e){return{documents:[yg(l,e.path)]}}function Pd(l,e){const r={structuredQuery:{}},s=e.path;let d;null!==e.collectionGroup?(d=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(d=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=yg(l,d);const y=function(Y){if(0!==Y.length)return G(ar.create(Y,"and"))}(e.filters);y&&(r.structuredQuery.where=y);const b=function(Y){if(0!==Y.length)return Y.map(ie=>{return{field:w((ke=ie).field),direction:ba(ke.dir)};var ke})}(e.orderBy);b&&(r.structuredQuery.orderBy=b);const R=ol(l,e.limit);return null!==R&&(r.structuredQuery.limit=R),e.startAt&&(r.structuredQuery.startAt={before:(Y=e.startAt).inclusive,values:Y.position}),e.endAt&&(r.structuredQuery.endAt=function(Y){return{before:!Y.inclusive,values:Y.position}}(e.endAt)),{_t:r,parent:d};var Y}function Bs(l){let e=Ot(l.parent);const r=l.structuredQuery,s=r.from?r.from.length:0;let d=null;if(s>0){Nt(1===s);const ie=r.from[0];ie.allDescendants?d=ie.collectionId:e=e.child(ie.collectionId)}let y=[];r.where&&(y=function(ye){const ke=Rd(ye);return ke instanceof ar&&ia(ke)?ke.getFilters():[ke]}(r.where));let b=[];r.orderBy&&(b=r.orderBy.map(ke=>{return new Is(k((xt=ke).field),function(Ut){switch(Ut){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(xt.direction));var xt}));let R=null;r.limit&&(R=function(ye){let ke;return ke="object"==typeof ye?ye.value:ye,he(ke)?null:ke}(r.limit));let V=null;var ye;r.startAt&&(V=new Xi((ye=r.startAt).values||[],!!ye.before));let Y=null;return r.endAt&&(Y=function(ye){return new Xi(ye.values||[],!ye.before)}(r.endAt)),ce(e,d,b,y,R,"F",V,Y)}function Rd(l){return void 0!==l.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=k(r.unaryFilter.field);return Kn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const d=k(r.unaryFilter.field);return Kn.create(d,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const y=k(r.unaryFilter.field);return Kn.create(y,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const b=k(r.unaryFilter.field);return Kn.create(b,"!=",{nullValue:"NULL_VALUE"});default:return bt()}}(l):void 0!==l.fieldFilter?Kn.create(k((r=l).fieldFilter.field),function(d){switch(d){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bt()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==l.compositeFilter?function(r){return ar.create(r.compositeFilter.filters.map(s=>Rd(s)),function(d){switch(d){case"AND":return"and";case"OR":return"or";default:return bt()}}(r.compositeFilter.op))}(l):bt();var r}function ba(l){return Gf[l]}function S(l){return e_[l]}function N(l){return Xn[l]}function w(l){return{fieldPath:l.canonicalString()}}function k(l){return Hn.fromServerFormat(l.fieldPath)}function G(l){return l instanceof Kn?function(r){if("=="===r.op){if(vs(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NAN"}};if(gi(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(vs(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NOT_NAN"}};if(gi(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:w(r.field),op:S(r.op),value:r.value}}}(l):l instanceof ar?function(r){const s=r.getFilters().map(d=>G(d));return 1===s.length?s[0]:{compositeFilter:{op:N(r.op),filters:s}}}(l):bt()}function ae(l){const e=[];return l.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Ce(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}class ct{constructor(e,r,s,d,y=Kt.min(),b=Kt.min(),R=ei.EMPTY_BYTE_STRING,V=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=d,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=R,this.expectedCount=V}withSequenceNumber(e){return new ct(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ct(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ct(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ct(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ut{constructor(e){this.ct=e}}function _r(l,e){const r=e.key,s={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:qr(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Dd(y=l.ct,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:Za(y,b.version.toTimestamp()),createTime:Za(y,b.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:r.path.toArray(),readTime:er(e.version)};else{if(!e.isUnknownDocument())return bt();s.unknownDocument={path:r.path.toArray(),version:er(e.version)}}var y,b;return s}function qr(l){const e=l.toTimestamp();return[e.seconds,e.nanoseconds]}function er(l){const e=l.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Cs(l){const e=new Dn(l.seconds,l.nanoseconds);return Kt.fromTimestamp(e)}function Ys(l,e){const r=(e.baseMutations||[]).map(y=>al(l.ct,y));for(let y=0;y<e.mutations.length-1;++y)y+1<e.mutations.length&&void 0!==e.mutations[y+1].transform&&(e.mutations[y].updateTransforms=e.mutations[y+1].transform.fieldTransforms,e.mutations.splice(y+1,1),++y);const s=e.mutations.map(y=>al(l.ct,y)),d=Dn.fromMillis(e.localWriteTimeMs);return new xi(e.batchId,d,r,s)}function go(l){const e=Cs(l.readTime),r=void 0!==l.lastLimboFreeSnapshotVersion?Cs(l.lastLimboFreeSnapshotVersion):Kt.min();let s;return s=void 0!==l.query.documents?(Nt(1===(y=l.query).documents.length),ri(Me(Ot(y.documents[0])))):function(y){return ri(Bs(y))}(l.query),new ct(s,l.targetId,"TargetPurposeListen",l.lastListenSequenceNumber,e,r,ei.fromBase64String(l.resumeToken));var y}function Ic(l,e){const r=er(e.snapshotVersion),s=er(e.lastLimboFreeSnapshotVersion);let d;d=Vi(e.target)?Md(l.ct,e.target):Pd(l.ct,e.target)._t;const y=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Rn(e.target),readTime:r,resumeToken:y,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:d}}function mo(l){const e=Bs({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?hc(e,e.limit,"L"):e}function Mu(l,e){return new rs(e.largestBatchId,al(l.ct,e.overlayMutation))}function js(l,e){const r=e.path.lastSegment();return[l,Rt(e.path.popLast()),r]}function Ta(l,e,r,s){return{indexId:l,uid:e,sequenceNumber:r,readTime:er(s.readTime),documentKey:Rt(s.documentKey.path),largestBatchId:s.largestBatchId}}class fi{getBundleMetadata(e,r){return Ca(e).get(r).next(s=>{if(s)return{id:(y=s).bundleId,createTime:Cs(y.createTime),version:y.version};var y})}saveBundleMetadata(e,r){return Ca(e).put({bundleId:(d=r).id,createTime:er(Ti(d.createTime)),version:d.version});var d}getNamedQuery(e,r){return vg(e).get(r).next(s=>{if(s)return{name:(y=s).name,query:mo(y.bundledQuery),readTime:Cs(y.readTime)};var y})}saveNamedQuery(e,r){return vg(e).put({name:(d=r).name,readTime:er(Ti(d.readTime)),bundledQuery:d.bundledQuery});var d}}function Ca(l){return Mr(l,"bundles")}function vg(l){return Mr(l,"namedQueries")}class xd{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new xd(e,r.uid||"")}getOverlay(e,r){return Pu(e).get(js(this.userId,r)).next(s=>s?Mu(this.serializer,s):null)}getOverlays(e,r){const s=Zs();return qe.forEach(r,d=>this.getOverlay(e,d).next(y=>{null!==y&&s.set(d,y)})).next(()=>s)}saveOverlays(e,r,s){const d=[];return s.forEach((y,b)=>{const R=new rs(r,b);d.push(this.ht(e,R))}),qe.waitFor(d)}removeOverlaysForBatchId(e,r,s){const d=new Set;r.forEach(b=>d.add(Rt(b.getCollectionPath())));const y=[];return d.forEach(b=>{const R=IDBKeyRange.bound([this.userId,b,s],[this.userId,b,s+1],!1,!0);y.push(Pu(e).j("collectionPathOverlayIndex",R))}),qe.waitFor(y)}getOverlaysForCollection(e,r,s){const d=Zs(),y=Rt(r),b=IDBKeyRange.bound([this.userId,y,s],[this.userId,y,Number.POSITIVE_INFINITY],!0);return Pu(e).U("collectionPathOverlayIndex",b).next(R=>{for(const V of R){const Y=Mu(this.serializer,V);d.set(Y.getKey(),Y)}return d})}getOverlaysForCollectionGroup(e,r,s,d){const y=Zs();let b;const R=IDBKeyRange.bound([this.userId,r,s],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Pu(e).J({index:"collectionGroupOverlayIndex",range:R},(V,Y,ie)=>{const ye=Mu(this.serializer,Y);y.size()<d||ye.largestBatchId===b?(y.set(ye.getKey(),ye),b=ye.largestBatchId):ie.done()}).next(()=>y)}ht(e,r){return Pu(e).put(function(d,y,b){const[R,V,Y]=js(y,b.mutation.key);return{userId:y,collectionPath:V,documentId:Y,collectionGroup:b.mutation.key.getCollectionGroup(),largestBatchId:b.largestBatchId,overlayMutation:Ts(d.ct,b.mutation)}}(this.serializer,this.userId,r))}}function Pu(l){return Mr(l,"documentOverlays")}class Ya{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(ti(e.integerValue));else if("doubleValue"in e){const s=ti(e.doubleValue);isNaN(s)?this.Et(r,13):(this.Et(r,15),Fe(s)?r.dt(0):r.dt(s))}else if("timestampValue"in e){let s=e.timestampValue;this.Et(r,20),"string"==typeof s&&(s=cs(s)),r.At(`${s.seconds||""}`),r.dt(s.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(ls(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.Et(r,45),r.dt(s.latitude||0),r.dt(s.longitude||0)}else"mapValue"in e?rr(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):bt()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const s=e.fields||{};this.Et(r,55);for(const d of Object.keys(s))this.Rt(d,r),this.It(s[d],r)}wt(e,r){const s=e.values||[];this.Et(r,50);for(const d of s)this.It(d,r)}gt(e,r){this.Et(r,37),kt.fromName(e).path.forEach(s=>{this.Et(r,60),this.St(s,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}function Wf(l){if(0===l)return 8;let e=0;return!(l>>4)&&(e+=4,l<<=4),!(l>>6)&&(e+=2,l<<=2),!(l>>7)&&(e+=1),e}function Bl(l){const e=64-function(s){let d=0;for(let y=0;y<8;++y){const b=Wf(255&s[y]);if(d+=b,8!==b)break}return d}(l);return Math.ceil(e/8)}Ya.bt=new Ya;class ua{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ct(s.value),s=r.next();this.vt()}Ft(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Mt(s.value),s=r.next();this.xt()}Ot(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Ct(s);else if(s<2048)this.Ct(960|s>>>6),this.Ct(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s);else{const d=r.codePointAt(0);this.Ct(240|d>>>18),this.Ct(128|63&d>>>12),this.Ct(128|63&d>>>6),this.Ct(128|63&d)}}this.vt()}Nt(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Mt(s);else if(s<2048)this.Mt(960|s>>>6),this.Mt(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s);else{const d=r.codePointAt(0);this.Mt(240|d>>>18),this.Mt(128|63&d>>>12),this.Mt(128|63&d>>>6),this.Mt(128|63&d)}}this.xt()}Lt(e){const r=this.Bt(e),s=Bl(r);this.kt(1+s),this.buffer[this.position++]=255&s;for(let d=r.length-s;d<r.length;++d)this.buffer[this.position++]=255&r[d]}qt(e){const r=this.Bt(e),s=Bl(r);this.kt(1+s),this.buffer[this.position++]=~(255&s);for(let d=r.length-s;d<r.length;++d)this.buffer[this.position++]=~(255&r[d])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const r=function(y){const b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,y,!1),new Uint8Array(b.buffer)}(e),s=0!=(128&r[0]);r[0]^=s?255:128;for(let d=1;d<r.length;++d)r[d]^=s?255:0;return r}Ct(e){const r=255&e;0===r?(this.Kt(0),this.Kt(255)):255===r?(this.Kt(255),this.Kt(0)):this.Kt(r)}Mt(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const r=e+this.position;if(r<=this.buffer.length)return;let s=2*this.buffer.length;s<r&&(s=r);const d=new Uint8Array(s);d.set(this.buffer),this.buffer=d}}class wa{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class Oh{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Aa{constructor(){this.Gt=new ua,this.zt=new wa(this.Gt),this.jt=new Oh(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Da{constructor(e,r,s,d){this.indexId=e,this.documentKey=r,this.arrayValue=s,this.directionalValue=d}Jt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(r);return s.set(this.directionalValue,0),r!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Da(this.indexId,this.documentKey,this.arrayValue,s)}}function Do(l,e){let r=l.indexId-e.indexId;return 0!==r?r:(r=Od(l.arrayValue,e.arrayValue),0!==r?r:(r=Od(l.directionalValue,e.directionalValue),0!==r?r:kt.comparator(l.documentKey,e.documentKey)))}function Od(l,e){for(let r=0;r<l.length&&r<e.length;++r){const s=l[r]-e[r];if(0!==s)return s}return l.length-e.length}class jl{constructor(e){this.Yt=new Pr((r,s)=>Hn.comparator(r.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const r of e.filters){const s=r;s.isInequality()?this.Yt=this.Yt.add(s):this.Xt.push(s)}}get en(){return this.Yt.size>1}tn(e){if(Nt(e.collectionGroup===this.collectionId),this.en)return!1;const r=Fn(e);if(void 0!==r&&!this.nn(r))return!1;const s=wn(e);let d=new Set,y=0,b=0;for(;y<s.length&&this.nn(s[y]);++y)d=d.add(s[y].fieldPath.canonicalString());if(y===s.length)return!0;if(this.Yt.size>0){const R=this.Yt.getIterator().getNext();if(!d.has(R.field.canonicalString())){const V=s[y];if(!this.rn(R,V)||!this.sn(this.Zt[b++],V))return!1}++y}for(;y<s.length;++y)if(b>=this.Zt.length||!this.sn(this.Zt[b++],s[y]))return!1;return!0}on(){if(this.en)return null;let e=new Pr(Hn.comparator);const r=[];for(const s of this.Xt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)r.push(new Ar(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),r.push(new Ar(s.field,0))}for(const s of this.Zt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),r.push(new Ar(s.field,"asc"===s.dir?0:1)));return new En(En.UNKNOWN_ID,this.collectionId,r,Bn.empty())}nn(e){for(const r of this.Xt)if(this.rn(r,e))return!0;return!1}rn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function Ru(l){var e,r;if(Nt(l instanceof Kn||l instanceof ar),l instanceof Kn){if(l instanceof St){const d=(null===(r=null===(e=l.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(y=>Kn.create(l.field,"==",y)))||[];return ar.create(d,"or")}return l}const s=l.filters.map(d=>Ru(d));return ar.create(s,l.op)}function zo(l){if(0===l.getFilters().length)return[];const e=Qs(Ru(l));return Nt(Zf(e)),Qa(e)||xu(e)?[e]:e.getFilters()}function Qa(l){return l instanceof Kn}function xu(l){return l instanceof ar&&ia(l)}function Zf(l){return Qa(l)||xu(l)||function(r){if(r instanceof ar&&ir(r)){for(const s of r.getFilters())if(!Qa(s)&&!xu(s))return!1;return!0}return!1}(l)}function Qs(l){if(Nt(l instanceof Kn||l instanceof ar),l instanceof Kn)return l;if(1===l.filters.length)return Qs(l.filters[0]);const e=l.filters.map(s=>Qs(s));let r=ar.create(e,l.op);return r=Hl(r),Zf(r)?r:(Nt(r instanceof ar),Nt(Ms(r)),Nt(r.filters.length>1),r.filters.reduce((s,d)=>Nh(s,d)))}function Nh(l,e){let r;return Nt(l instanceof Kn||l instanceof ar),Nt(e instanceof Kn||e instanceof ar),r=l instanceof Kn?e instanceof Kn?ar.create([l,e],"and"):Nd(l,e):e instanceof Kn?Nd(e,l):function(d,y){if(Nt(d.filters.length>0&&y.filters.length>0),Ms(d)&&Ms(y))return bs(d,y.getFilters());const b=ir(d)?d:y,R=ir(d)?y:d,V=b.filters.map(Y=>Nh(Y,R));return ar.create(V,"or")}(l,e),Hl(r)}function Nd(l,e){if(Ms(e))return bs(e,l.getFilters());{const r=e.filters.map(s=>Nh(l,s));return ar.create(r,"or")}}function Hl(l){if(Nt(l instanceof Kn||l instanceof ar),l instanceof Kn)return l;const e=l.getFilters();if(1===e.length)return Hl(e[0]);if(Ki(l))return l;const r=e.map(d=>Hl(d)),s=[];return r.forEach(d=>{d instanceof Kn?s.push(d):d instanceof ar&&(d.op===l.op?s.push(...d.filters):s.push(d))}),1===s.length?s[0]:ar.create(s,l.op)}class Ry{constructor(){this._n=new kd}addToCollectionParentIndex(e,r){return this._n.add(r),qe.resolve()}getCollectionParents(e,r){return qe.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return qe.resolve()}deleteFieldIndex(e,r){return qe.resolve()}deleteAllFieldIndexes(e){return qe.resolve()}createTargetIndexes(e,r){return qe.resolve()}getDocumentsMatchingTarget(e,r){return qe.resolve(null)}getIndexType(e,r){return qe.resolve(0)}getFieldIndexes(e,r){return qe.resolve([])}getNextCollectionGroupToUpdate(e){return qe.resolve(null)}getMinOffset(e,r){return qe.resolve(sn.min())}getMinOffsetFromCollectionGroup(e,r){return qe.resolve(sn.min())}updateCollectionGroup(e,r,s){return qe.resolve()}updateIndexEntries(e,r){return qe.resolve()}}class kd{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),d=this.index[r]||new Pr(Cn.comparator),y=!d.has(s);return this.index[r]=d.add(s),y}has(e){const r=e.lastSegment(),s=e.popLast(),d=this.index[r];return d&&d.has(s)}getEntries(e){return(this.index[e]||new Pr(Cn.comparator)).toArray()}}const $l=new Uint8Array(0);class zl{constructor(e,r){this.databaseId=r,this.an=new kd,this.un=new ns(s=>Rn(s),(s,d)=>nr(s,d)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.an.has(r)){const s=r.lastSegment(),d=r.popLast();e.addOnCommittedListener(()=>{this.an.add(r)});const y={collectionId:s,parent:Rt(d)};return Eg(e).put(y)}return qe.resolve()}getCollectionParents(e,r){const s=[],d=IDBKeyRange.bound([r,""],[Tn(r),""],!1,!0);return Eg(e).U(d).next(y=>{for(const b of y){if(b.collectionId!==r)break;s.push(an(b.parent))}return s})}addFieldIndex(e,r){const s=Gl(e),d={indexId:(R=r).indexId,collectionGroup:R.collectionGroup,fields:R.fields.map(V=>[V.fieldPath.canonicalString(),V.kind])};var R;delete d.indexId;const y=s.add(d);if(r.indexState){const b=da(e);return y.next(R=>{b.put(Ta(R,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return y.next()}deleteFieldIndex(e,r){const s=Gl(e),d=da(e),y=So(e);return s.delete(r.indexId).next(()=>d.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>y.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Gl(e),s=So(e),d=da(e);return r.j().next(()=>s.j()).next(()=>d.j())}createTargetIndexes(e,r){return qe.forEach(this.cn(r),s=>this.getIndexType(e,s).next(d=>{if(0===d||1===d){const y=new jl(s).on();if(null!=y)return this.addFieldIndex(e,y)}}))}getDocumentsMatchingTarget(e,r){const s=So(e);let d=!0;const y=new Map;return qe.forEach(this.cn(r),b=>this.ln(e,b).next(R=>{d&&(d=!!R),y.set(b,R)})).next(()=>{if(d){let b=sr();const R=[];return qe.forEach(y,(V,Y)=>{var Sn;ge("IndexedDbIndexManager",`Using index ${Sn=V,`id=${Sn.indexId}|cg=${Sn.collectionGroup}|f=${Sn.fields.map(lr=>`${lr.fieldPath}:${lr.kind}`).join(",")}`} to execute ${Rn(r)}`);const ie=function(Sn,lr){const Hr=Fn(lr);if(void 0===Hr)return null;for(const Er of fs(Sn,Hr.fieldPath))switch(Er.op){case"array-contains-any":return Er.value.arrayValue.values||[];case"array-contains":return[Er.value]}return null}(Y,V),ye=function(Sn,lr){const Hr=new Map;for(const Er of wn(lr))for(const Ke of fs(Sn,Er.fieldPath))switch(Ke.op){case"==":case"in":Hr.set(Er.fieldPath.canonicalString(),Ke.value);break;case"not-in":case"!=":return Hr.set(Er.fieldPath.canonicalString(),Ke.value),Array.from(Hr.values())}return null}(Y,V),ke=function(Sn,lr){const Hr=[];let Er=!0;for(const Ke of wn(lr)){const Re=0===Ke.kind?q(Sn,Ke.fieldPath,Sn.startAt):ee(Sn,Ke.fieldPath,Sn.startAt);Hr.push(Re.value),Er&&(Er=Re.inclusive)}return new Xi(Hr,Er)}(Y,V),ot=function(Sn,lr){const Hr=[];let Er=!0;for(const Ke of wn(lr)){const Re=0===Ke.kind?ee(Sn,Ke.fieldPath,Sn.endAt):q(Sn,Ke.fieldPath,Sn.endAt);Hr.push(Re.value),Er&&(Er=Re.inclusive)}return new Xi(Hr,Er)}(Y,V),xt=this.hn(V,Y,ke),Wt=this.hn(V,Y,ot),Ut=this.Pn(V,Y,ye),An=this.In(V.indexId,ie,xt,ke.inclusive,Wt,ot.inclusive,Ut);return qe.forEach(An,$n=>s.G($n,r.limit).next(Sn=>{Sn.forEach(lr=>{const Hr=kt.fromSegments(lr.documentKey);b.has(Hr)||(b=b.add(Hr),R.push(Hr))})}))}).next(()=>R)}return qe.resolve(null)})}cn(e){let r=this.un.get(e);return r||(r=0===e.filters.length?[e]:zo(ar.create(e.filters,"and")).map(s=>Wn(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,r),r)}In(e,r,s,d,y,b,R){const V=(null!=r?r.length:1)*Math.max(s.length,y.length),Y=V/(null!=r?r.length:1),ie=[];for(let ye=0;ye<V;++ye){const ke=r?this.Tn(r[ye/Y]):$l,ot=this.En(e,ke,s[ye%Y],d),xt=this.dn(e,ke,y[ye%Y],b),Wt=R.map(Ut=>this.En(e,ke,Ut,!0));ie.push(...this.createRange(ot,xt,Wt))}return ie}En(e,r,s,d){const y=new Da(e,kt.empty(),r,s);return d?y:y.Jt()}dn(e,r,s,d){const y=new Da(e,kt.empty(),r,s);return d?y.Jt():y}ln(e,r){const s=new jl(r),d=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,d).next(y=>{let b=null;for(const R of y)s.tn(R)&&(!b||R.fields.length>b.fields.length)&&(b=R);return b})}getIndexType(e,r){let s=2;const d=this.cn(r);return qe.forEach(d,y=>this.ln(e,y).next(b=>{b?0!==s&&b.fields.length<function(V){let Y=new Pr(Hn.comparator),ie=!1;for(const ye of V.filters)for(const ke of ye.getFlattenedFilters())ke.field.isKeyField()||("array-contains"===ke.op||"array-contains-any"===ke.op?ie=!0:Y=Y.add(ke.field));for(const ye of V.orderBy)ye.field.isKeyField()||(Y=Y.add(ye.field));return Y.size+(ie?1:0)}(y)&&(s=1):s=0})).next(()=>null!==r.limit&&d.length>1&&2===s?1:s)}An(e,r){const s=new Aa;for(const d of wn(e)){const y=r.data.field(d.fieldPath);if(null==y)return null;const b=s.Ht(d.kind);Ya.bt.Pt(y,b)}return s.Wt()}Tn(e){const r=new Aa;return Ya.bt.Pt(e,r.Ht(0)),r.Wt()}Rn(e,r){const s=new Aa;return Ya.bt.Pt(Xt(this.databaseId,r),s.Ht(function(y){const b=wn(y);return 0===b.length?0:b[b.length-1].kind}(e))),s.Wt()}Pn(e,r,s){if(null===s)return[];let d=[];d.push(new Aa);let y=0;for(const b of wn(e)){const R=s[y++];for(const V of d)if(this.Vn(r,b.fieldPath)&&mr(R))d=this.mn(d,b,R);else{const Y=V.Ht(b.kind);Ya.bt.Pt(R,Y)}}return this.fn(d)}hn(e,r,s){return this.Pn(e,r,s.position)}fn(e){const r=[];for(let s=0;s<e.length;++s)r[s]=e[s].Wt();return r}mn(e,r,s){const d=[...e],y=[];for(const b of s.arrayValue.values||[])for(const R of d){const V=new Aa;V.seed(R.Wt()),Ya.bt.Pt(b,V.Ht(r.kind)),y.push(V)}return y}Vn(e,r){return!!e.filters.find(s=>s instanceof Kn&&s.field.isEqual(r)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,r){const s=Gl(e),d=da(e);return(r?s.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):s.U()).next(y=>{const b=[];return qe.forEach(y,R=>d.get([R.indexId,this.uid]).next(V=>{b.push(function(ie,ye){const ke=ye?new Bn(ye.sequenceNumber,new sn(Cs(ye.readTime),new kt(an(ye.documentKey)),ye.largestBatchId)):Bn.empty(),ot=ie.fields.map(([xt,Wt])=>new Ar(Hn.fromServerFormat(xt),Wt));return new En(ie.indexId,ie.collectionGroup,ot,ke)}(R,V))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((s,d)=>{const y=s.indexState.sequenceNumber-d.indexState.sequenceNumber;return 0!==y?y:qt(s.collectionGroup,d.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,s){const d=Gl(e),y=da(e);return this.gn(e).next(b=>d.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(R=>qe.forEach(R,V=>y.put(Ta(V.indexId,this.uid,b,s)))))}updateIndexEntries(e,r){const s=new Map;return qe.forEach(r,(d,y)=>{const b=s.get(d.collectionGroup);return(b?qe.resolve(b):this.getFieldIndexes(e,d.collectionGroup)).next(R=>(s.set(d.collectionGroup,R),qe.forEach(R,V=>this.pn(e,d,V).next(Y=>{const ie=this.yn(y,V);return Y.isEqual(ie)?qe.resolve():this.wn(e,y,V,Y,ie)}))))})}Sn(e,r,s,d){return So(e).put({indexId:d.indexId,uid:this.uid,arrayValue:d.arrayValue,directionalValue:d.directionalValue,orderedDocumentKey:this.Rn(s,r.key),documentKey:r.key.path.toArray()})}bn(e,r,s,d){return So(e).delete([d.indexId,this.uid,d.arrayValue,d.directionalValue,this.Rn(s,r.key),r.key.path.toArray()])}pn(e,r,s){const d=So(e);let y=new Pr(Do);return d.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.Rn(s,r)])},(b,R)=>{y=y.add(new Da(s.indexId,r,R.arrayValue,R.directionalValue))}).next(()=>y)}yn(e,r){let s=new Pr(Do);const d=this.An(r,e);if(null==d)return s;const y=Fn(r);if(null!=y){const b=e.data.field(y.fieldPath);if(mr(b))for(const R of b.arrayValue.values||[])s=s.add(new Da(r.indexId,e.key,this.Tn(R),d))}else s=s.add(new Da(r.indexId,e.key,$l,d));return s}wn(e,r,s,d,y){ge("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const b=[];return function(V,Y,ie,ye,ke){const ot=V.getIterator(),xt=Y.getIterator();let Wt=Ss(ot),Ut=Ss(xt);for(;Wt||Ut;){let An=!1,$n=!1;if(Wt&&Ut){const Sn=ie(Wt,Ut);Sn<0?$n=!0:Sn>0&&(An=!0)}else null!=Wt?$n=!0:An=!0;An?(ye(Ut),Ut=Ss(xt)):$n?(ke(Wt),Wt=Ss(ot)):(Wt=Ss(ot),Ut=Ss(xt))}}(d,y,Do,R=>{b.push(this.Sn(e,r,s,R))},R=>{b.push(this.bn(e,r,s,R))}),qe.waitFor(b)}gn(e){let r=1;return da(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,d,y)=>{y.done(),r=d.sequenceNumber+1}).next(()=>r)}createRange(e,r,s){s=s.sort((b,R)=>Do(b,R)).filter((b,R,V)=>!R||0!==Do(b,V[R-1]));const d=[];d.push(e);for(const b of s){const R=Do(b,e),V=Do(b,r);if(0===R)d[0]=e.Jt();else if(R>0&&V<0)d.push(b),d.push(b.Jt());else if(V>0)break}d.push(r);const y=[];for(let b=0;b<d.length;b+=2){if(this.Dn(d[b],d[b+1]))return[];y.push(IDBKeyRange.bound([d[b].indexId,this.uid,d[b].arrayValue,d[b].directionalValue,$l,[]],[d[b+1].indexId,this.uid,d[b+1].arrayValue,d[b+1].directionalValue,$l,[]]))}return y}Dn(e,r){return Do(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(Ig)}getMinOffset(e,r){return qe.mapArray(this.cn(r),s=>this.ln(e,s).next(d=>d||bt())).next(Ig)}}function Eg(l){return Mr(l,"collectionParents")}function So(l){return Mr(l,"indexEntries")}function Gl(l){return Mr(l,"indexConfiguration")}function da(l){return Mr(l,"indexState")}function Ig(l){Nt(0!==l.length);let e=l[0].indexState.offset,r=e.largestBatchId;for(let s=1;s<l.length;s++){const d=l[s].indexState.offset;hi(d,e)<0&&(e=d),r<d.largestBatchId&&(r=d.largestBatchId)}return new sn(e.readTime,e.documentKey,r)}const Fd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ms{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new ms(e,ms.DEFAULT_COLLECTION_PERCENTILE,ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ou(l,e,r){const s=l.store("mutations"),d=l.store("documentMutations"),y=[],b=IDBKeyRange.only(r.batchId);let R=0;const V=s.J({range:b},(ie,ye,ke)=>(R++,ke.delete()));y.push(V.next(()=>{Nt(1===R)}));const Y=[];for(const ie of r.mutations){const ye=ci(e,ie.key.path,r.batchId);y.push(d.delete(ye)),Y.push(ie.key)}return qe.waitFor(y).next(()=>Y)}function xs(l){if(!l)return 0;let e;if(l.document)e=l.document;else if(l.unknownDocument)e=l.unknownDocument;else{if(!l.noDocument)throw bt();e=l.noDocument}return JSON.stringify(e).length}ms.DEFAULT_COLLECTION_PERCENTILE=10,ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ms.DEFAULT=new ms(41943040,ms.DEFAULT_COLLECTION_PERCENTILE,ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ms.DISABLED=new ms(-1,0,0);class Ld{constructor(e,r,s,d){this.userId=e,this.serializer=r,this.indexManager=s,this.referenceDelegate=d,this.Cn={}}static lt(e,r,s,d){Nt(""!==e.uid);const y=e.isAuthenticated()?e.uid:"";return new Ld(y,r,s,d)}checkEmpty(e){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ha(e).J({index:"userMutationsIndex",range:s},(d,y,b)=>{r=!1,b.done()}).next(()=>r)}addMutationBatch(e,r,s,d){const y=bc(e),b=ha(e);return b.add({}).next(R=>{Nt("number"==typeof R);const V=new xi(R,r,s,d),Y=function(ot,xt,Wt){const Ut=Wt.baseMutations.map($n=>Ts(ot.ct,$n)),An=Wt.mutations.map($n=>Ts(ot.ct,$n));return{userId:xt,batchId:Wt.batchId,localWriteTimeMs:Wt.localWriteTime.toMillis(),baseMutations:Ut,mutations:An}}(this.serializer,this.userId,V),ie=[];let ye=new Pr((ke,ot)=>qt(ke.canonicalString(),ot.canonicalString()));for(const ke of d){const ot=ci(this.userId,ke.key.path,R);ye=ye.add(ke.key.path.popLast()),ie.push(b.put(Y)),ie.push(y.put(ot,Ds))}return ye.forEach(ke=>{ie.push(this.indexManager.addToCollectionParentIndex(e,ke))}),e.addOnCommittedListener(()=>{this.Cn[R]=V.keys()}),qe.waitFor(ie).next(()=>V)})}lookupMutationBatch(e,r){return ha(e).get(r).next(s=>s?(Nt(s.userId===this.userId),Ys(this.serializer,s)):null)}vn(e,r){return this.Cn[r]?qe.resolve(this.Cn[r]):this.lookupMutationBatch(e,r).next(s=>{if(s){const d=s.keys();return this.Cn[r]=d,d}return null})}getNextMutationBatchAfterBatchId(e,r){const s=r+1,d=IDBKeyRange.lowerBound([this.userId,s]);let y=null;return ha(e).J({index:"userMutationsIndex",range:d},(b,R,V)=>{R.userId===this.userId&&(Nt(R.batchId>=s),y=Ys(this.serializer,R)),V.done()}).next(()=>y)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return ha(e).J({index:"userMutationsIndex",range:r,reverse:!0},(d,y,b)=>{s=y.batchId,b.done()}).next(()=>s)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ha(e).U("userMutationsIndex",r).next(s=>s.map(d=>Ys(this.serializer,d)))}getAllMutationBatchesAffectingDocumentKey(e,r){const s=xn(this.userId,r.path),d=IDBKeyRange.lowerBound(s),y=[];return bc(e).J({range:d},(b,R,V)=>{const[Y,ie,ye]=b,ke=an(ie);if(Y===this.userId&&r.path.isEqual(ke))return ha(e).get(ye).next(ot=>{if(!ot)throw bt();Nt(ot.userId===this.userId),y.push(Ys(this.serializer,ot))});V.done()}).next(()=>y)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Pr(qt);const d=[];return r.forEach(y=>{const b=xn(this.userId,y.path),R=IDBKeyRange.lowerBound(b),V=bc(e).J({range:R},(Y,ie,ye)=>{const[ke,ot,xt]=Y,Wt=an(ot);ke===this.userId&&y.path.isEqual(Wt)?s=s.add(xt):ye.done()});d.push(V)}),qe.waitFor(d).next(()=>this.Fn(e,s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,d=s.length+1,y=xn(this.userId,s),b=IDBKeyRange.lowerBound(y);let R=new Pr(qt);return bc(e).J({range:b},(V,Y,ie)=>{const[ye,ke,ot]=V,xt=an(ke);ye===this.userId&&s.isPrefixOf(xt)?xt.length===d&&(R=R.add(ot)):ie.done()}).next(()=>this.Fn(e,R))}Fn(e,r){const s=[],d=[];return r.forEach(y=>{d.push(ha(e).get(y).next(b=>{if(null===b)throw bt();Nt(b.userId===this.userId),s.push(Ys(this.serializer,b))}))}),qe.waitFor(d).next(()=>s)}removeMutationBatch(e,r){return Ou(e._e,this.userId,r).next(s=>(e.addOnCommittedListener(()=>{this.Mn(r.batchId)}),qe.forEach(s,d=>this.referenceDelegate.markPotentiallyOrphaned(e,d))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return qe.resolve();const s=IDBKeyRange.lowerBound([this.userId]),d=[];return bc(e).J({range:s},(y,b,R)=>{if(y[0]===this.userId){const V=an(y[1]);d.push(V)}else R.done()}).next(()=>{Nt(0===d.length)})})}containsKey(e,r){return ql(e,this.userId,r)}xn(e){return Wl(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ql(l,e,r){const s=xn(e,r.path),d=s[1],y=IDBKeyRange.lowerBound(s);let b=!1;return bc(l).J({range:y,H:!0},(R,V,Y)=>{const[ie,ye,ke]=R;ie===e&&ye===d&&(b=!0),Y.done()}).next(()=>b)}function ha(l){return Mr(l,"mutations")}function bc(l){return Mr(l,"documentMutations")}function Wl(l){return Mr(l,"mutationQueues")}class Tc{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Tc(0)}static Ln(){return new Tc(-1)}}class bg{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Bn(e).next(r=>{const s=new Tc(r.highestTargetId);return r.highestTargetId=s.next(),this.kn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(r=>Kt.fromTimestamp(new Dn(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,s){return this.Bn(e).next(d=>(d.highestListenSequenceNumber=r,s&&(d.lastRemoteSnapshotVersion=s.toTimestamp()),r>d.highestListenSequenceNumber&&(d.highestListenSequenceNumber=r),this.kn(e,d)))}addTargetData(e,r){return this.qn(e,r).next(()=>this.Bn(e).next(s=>(s.targetCount+=1,this.Qn(r,s),this.kn(e,s))))}updateTargetData(e,r){return this.qn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>cl(e).delete(r.targetId)).next(()=>this.Bn(e)).next(s=>(Nt(s.targetCount>0),s.targetCount-=1,this.kn(e,s)))}removeTargets(e,r,s){let d=0;const y=[];return cl(e).J((b,R)=>{const V=go(R);V.sequenceNumber<=r&&null===s.get(V.targetId)&&(d++,y.push(this.removeTargetData(e,V)))}).next(()=>qe.waitFor(y)).next(()=>d)}forEachTarget(e,r){return cl(e).J((s,d)=>{const y=go(d);r(y)})}Bn(e){return Vd(e).get("targetGlobalKey").next(r=>(Nt(null!==r),r))}kn(e,r){return Vd(e).put("targetGlobalKey",r)}qn(e,r){return cl(e).put(Ic(this.serializer,r))}Qn(e,r){let s=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,s=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Bn(e).next(r=>r.targetCount)}getTargetData(e,r){const s=Rn(r),d=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let y=null;return cl(e).J({range:d,index:"queryTargetsIndex"},(b,R,V)=>{const Y=go(R);nr(r,Y.target)&&(y=Y,V.done())}).next(()=>y)}addMatchingKeys(e,r,s){const d=[],y=Ja(e);return r.forEach(b=>{const R=Rt(b.path);d.push(y.put({targetId:s,path:R})),d.push(this.referenceDelegate.addReference(e,s,b))}),qe.waitFor(d)}removeMatchingKeys(e,r,s){const d=Ja(e);return qe.forEach(r,y=>{const b=Rt(y.path);return qe.waitFor([d.delete([s,b]),this.referenceDelegate.removeReference(e,s,y)])})}removeMatchingKeysForTargetId(e,r){const s=Ja(e),d=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(d)}getMatchingKeysForTargetId(e,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),d=Ja(e);let y=sr();return d.J({range:s,H:!0},(b,R,V)=>{const Y=an(b[1]),ie=new kt(Y);y=y.add(ie)}).next(()=>y)}containsKey(e,r){const s=Rt(r.path),d=IDBKeyRange.bound([s],[Tn(s)],!1,!0);let y=0;return Ja(e).J({index:"documentTargetsIndex",H:!0,range:d},([b,R],V,Y)=>{0!==b&&(y++,Y.done())}).next(()=>y>0)}ot(e,r){return cl(e).get(r).next(s=>s?go(s):null)}}function cl(l){return Mr(l,"targets")}function Vd(l){return Mr(l,"targetGlobal")}function Ja(l){return Mr(l,"targetDocuments")}function Ud([l,e],[r,s]){const d=qt(l,r);return 0===d?qt(e,s):d}class kh{constructor(e){this.Kn=e,this.buffer=new Pr(Ud),this.$n=0}Un(){return++this.$n}Wn(e){const r=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();Ud(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Bd{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var r=this;ge("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,g.Z)(function*(){r.Gn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(s){Mn(s)?ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield fr(s)}yield r.zn(3e5)}))}}class Zl{constructor(e,r){this.jn=e,this.params=r}calculateTargetCount(e,r){return this.jn.Hn(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(0===r)return qe.resolve(F.oe);const s=new kh(r);return this.jn.forEachTarget(e,d=>s.Wn(d.sequenceNumber)).next(()=>this.jn.Jn(e,d=>s.Wn(d))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.jn.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),qe.resolve(Fd)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fd):this.Yn(e,r))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,r){let s,d,y,b,R,V,Y;const ie=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ye=>(ye>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ye}`),d=this.params.maximumSequenceNumbersToCollect):d=ye,b=Date.now(),this.nthSequenceNumber(e,d))).next(ye=>(s=ye,R=Date.now(),this.removeTargets(e,s,r))).next(ye=>(y=ye,V=Date.now(),this.removeOrphanedDocuments(e,s))).next(ye=>(Y=Date.now(),Ct()<=Ie.in.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-ie}ms\n\tDetermined least recently used ${d} in `+(R-b)+`ms\n\tRemoved ${y} targets in `+(V-R)+`ms\n\tRemoved ${ye} documents in `+(Y-V)+`ms\nTotal Duration: ${Y-ie}ms`),qe.resolve({didRun:!0,sequenceNumbersCollected:d,targetsRemoved:y,documentsRemoved:ye})))}}class Lh{constructor(e,r){this.db=e,this.garbageCollector=function Fh(l,e){return new Zl(l,e)}(this,r)}Hn(e){const r=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>r.next(d=>s+d))}Zn(e){let r=0;return this.Jn(e,s=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Jn(e,r){return this.Xn(e,(s,d)=>r(d))}addReference(e,r,s){return ll(e,s)}removeReference(e,r,s){return ll(e,s)}removeTargets(e,r,s){return this.db.getTargetCache().removeTargets(e,r,s)}markPotentiallyOrphaned(e,r){return ll(e,r)}er(e,r){return function(d,y){let b=!1;return Wl(d).Y(R=>ql(d,R,y).next(V=>(V&&(b=!0),qe.resolve(!V)))).next(()=>b)}(e,r)}removeOrphanedDocuments(e,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),d=[];let y=0;return this.Xn(e,(b,R)=>{if(R<=r){const V=this.er(e,b).next(Y=>{if(!Y)return y++,s.getEntry(e,b).next(()=>(s.removeEntry(b,Kt.min()),Ja(e).delete([0,Rt(b.path)])))});d.push(V)}}).next(()=>qe.waitFor(d)).next(()=>s.apply(e)).next(()=>y)}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,r){return ll(e,r)}Xn(e,r){const s=Ja(e);let d,y=F.oe;return s.J({index:"documentTargetsIndex"},([b,R],{path:V,sequenceNumber:Y})=>{0===b?(y!==F.oe&&r(new kt(an(d)),y),y=Y,d=V):y=F.oe}).next(()=>{y!==F.oe&&r(new kt(an(d)),y)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ll(l,e){return Ja(l).put((d=l.currentSequenceNumber,{targetId:0,path:Rt(e.path),sequenceNumber:d}));var d}class Cc{constructor(){this.changes=new ns(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,kn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?qe.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Tg{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,s){return Sa(e).put(s)}removeEntry(e,r,s){return Sa(e).delete(function(y,b){const R=y.path.toArray();return[R.slice(0,R.length-2),R[R.length-2],qr(b),R[R.length-1]]}(r,s))}updateMetadata(e,r){return this.getMetadata(e).next(s=>(s.byteSize+=r,this.tr(e,s)))}getEntry(e,r){let s=kn.newInvalidDocument(r);return Sa(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ul(r))},(d,y)=>{s=this.nr(r,y)}).next(()=>s)}rr(e,r){let s={size:0,document:kn.newInvalidDocument(r)};return Sa(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ul(r))},(d,y)=>{s={document:this.nr(r,y),size:xs(y)}}).next(()=>s)}getEntries(e,r){let s=Cr();return this.ir(e,r,(d,y)=>{const b=this.nr(d,y);s=s.insert(d,b)}).next(()=>s)}sr(e,r){let s=Cr(),d=new Br(kt.comparator);return this.ir(e,r,(y,b)=>{const R=this.nr(y,b);s=s.insert(y,R),d=d.insert(y,xs(b))}).next(()=>({documents:s,_r:d}))}ir(e,r,s){if(r.isEmpty())return qe.resolve();let d=new Pr(Go);r.forEach(V=>d=d.add(V));const y=IDBKeyRange.bound(ul(d.first()),ul(d.last())),b=d.getIterator();let R=b.getNext();return Sa(e).J({index:"documentKeyIndex",range:y},(V,Y,ie)=>{const ye=kt.fromSegments([...Y.prefixPath,Y.collectionGroup,Y.documentId]);for(;R&&Go(R,ye)<0;)s(R,null),R=b.getNext();R&&R.isEqual(ye)&&(s(R,Y),R=b.hasNext()?b.getNext():null),R?ie.$(ul(R)):ie.done()}).next(()=>{for(;R;)s(R,null),R=b.hasNext()?b.getNext():null})}getDocumentsMatchingQuery(e,r,s,d,y){const b=r.path,R=[b.popLast().toArray(),b.lastSegment(),qr(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],V=[b.popLast().toArray(),b.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Sa(e).U(IDBKeyRange.bound(R,V,!0)).next(Y=>{y?.incrementDocumentReadCount(Y.length);let ie=Cr();for(const ye of Y){const ke=this.nr(kt.fromSegments(ye.prefixPath.concat(ye.collectionGroup,ye.documentId)),ye);ke.isFoundDocument()&&(va(r,ke)||d.has(ke.key))&&(ie=ie.insert(ke.key,ke))}return ie})}getAllFromCollectionGroup(e,r,s,d){let y=Cr();const b=Kf(r,s),R=Kf(r,sn.max());return Sa(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,R,!0)},(V,Y,ie)=>{const ye=this.nr(kt.fromSegments(Y.prefixPath.concat(Y.collectionGroup,Y.documentId)),Y);y=y.insert(ye.key,ye),y.size===d&&ie.done()}).next(()=>y)}newChangeBuffer(e){return new jd(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Kl(e).get("remoteDocumentGlobalKey").next(r=>(Nt(!!r),r))}tr(e,r){return Kl(e).put("remoteDocumentGlobalKey",r)}nr(e,r){if(r){const s=function _n(l,e){let r;if(e.document)r=gs(l.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=kt.fromSegments(e.noDocument.path),d=Cs(e.noDocument.readTime);r=kn.newNoDocument(s,d),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return bt();{const s=kt.fromSegments(e.unknownDocument.path),d=Cs(e.unknownDocument.version);r=kn.newUnknownDocument(s,d)}}return e.readTime&&r.setReadTime(function(d){const y=new Dn(d[0],d[1]);return Kt.fromTimestamp(y)}(e.readTime)),r}(this.serializer,r);if(!s.isNoDocument()||!s.version.isEqual(Kt.min()))return s}return kn.newInvalidDocument(e)}}function ws(l){return new Tg(l)}class jd extends Cc{constructor(e,r){super(),this.ar=e,this.trackRemovals=r,this.ur=new ns(s=>s.toString(),(s,d)=>s.isEqual(d))}applyChanges(e){const r=[];let s=0,d=new Pr((y,b)=>qt(y.canonicalString(),b.canonicalString()));return this.changes.forEach((y,b)=>{const R=this.ur.get(y);if(r.push(this.ar.removeEntry(e,y,R.readTime)),b.isValidDocument()){const V=_r(this.ar.serializer,b);d=d.add(y.path.popLast());const Y=xs(V);s+=Y-R.size,r.push(this.ar.addEntry(e,y,V))}else if(s-=R.size,this.trackRemovals){const V=_r(this.ar.serializer,b.convertToNoDocument(Kt.min()));r.push(this.ar.addEntry(e,y,V))}}),d.forEach(y=>{r.push(this.ar.indexManager.addToCollectionParentIndex(e,y))}),r.push(this.ar.updateMetadata(e,s)),qe.waitFor(r)}getFromCache(e,r){return this.ar.rr(e,r).next(s=>(this.ur.set(r,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,r){return this.ar.sr(e,r).next(({documents:s,_r:d})=>(d.forEach((y,b)=>{this.ur.set(y,{size:b,readTime:s.get(y).readTime})}),s))}}function Kl(l){return Mr(l,"remoteDocumentGlobal")}function Sa(l){return Mr(l,"remoteDocumentsV14")}function ul(l){const e=l.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Kf(l,e){const r=e.documentKey.path.toArray();return[l,qr(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Go(l,e){const r=l.path.toArray(),s=e.path.toArray();let d=0;for(let y=0;y<r.length-2&&y<s.length-2;++y)if(d=qt(r[y],s[y]),d)return d;return d=qt(r.length,s.length),d||(d=qt(r[r.length-2],s[s.length-2]),d||qt(r[r.length-1],s[s.length-1]))}class Mo{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class dl{constructor(e,r,s,d){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=d}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(d=>(s=d,this.remoteDocumentCache.getEntry(e,r))).next(d=>(null!==s&&we(s.mutation,d,bi.empty(),Dn.now()),d))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,sr()).next(()=>s))}getLocalViewOfDocuments(e,r,s=sr()){const d=Zs();return this.populateOverlays(e,d,r).next(()=>this.computeViews(e,r,d,s).next(y=>{let b=Ui();return y.forEach((R,V)=>{b=b.insert(R,V.overlayedDocument)}),b}))}getOverlayedDocuments(e,r){const s=Zs();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,sr()))}populateOverlays(e,r,s){const d=[];return s.forEach(y=>{r.has(y)||d.push(y)}),this.documentOverlayCache.getOverlays(e,d).next(y=>{y.forEach((b,R)=>{r.set(b,R)})})}computeViews(e,r,s,d){let y=Cr();const b=fo(),R=fo();return r.forEach((V,Y)=>{const ie=s.get(Y.key);d.has(Y.key)&&(void 0===ie||ie.mutation instanceof wr)?y=y.insert(Y.key,Y):void 0!==ie?(b.set(Y.key,ie.mutation.getFieldMask()),we(ie.mutation,Y,ie.mutation.getFieldMask(),Dn.now())):b.set(Y.key,bi.empty())}),this.recalculateAndSaveOverlays(e,y).next(V=>(V.forEach((Y,ie)=>b.set(Y,ie)),r.forEach((Y,ie)=>{var ye;return R.set(Y,new Mo(ie,null!==(ye=b.get(Y))&&void 0!==ye?ye:null))}),R))}recalculateAndSaveOverlays(e,r){const s=fo();let d=new Br((b,R)=>b-R),y=sr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(b=>{for(const R of b)R.keys().forEach(V=>{const Y=r.get(V);if(null===Y)return;let ie=s.get(V)||bi.empty();ie=R.applyToLocalView(Y,ie),s.set(V,ie);const ye=(d.get(R.batchId)||sr()).add(V);d=d.insert(R.batchId,ye)})}).next(()=>{const b=[],R=d.getReverseIterator();for(;R.hasNext();){const V=R.getNext(),Y=V.key,ie=V.value,ye=ho();ie.forEach(ke=>{if(!y.has(ke)){const ot=j(r.get(ke),s.get(ke));null!==ot&&ye.set(ke,ot),y=y.add(ke)}}),b.push(this.documentOverlayCache.saveOverlays(e,Y,ye))}return qe.waitFor(b)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,d){return kt.isDocumentKey((b=r).path)&&null===b.collectionGroup&&0===b.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):cr(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,d):this.getDocumentsMatchingCollectionQuery(e,r,s,d);var b}getNextDocuments(e,r,s,d){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,d).next(y=>{const b=d-y.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,d-y.size):qe.resolve(Zs());let R=-1,V=y;return b.next(Y=>qe.forEach(Y,(ie,ye)=>(R<ye.largestBatchId&&(R=ye.largestBatchId),y.get(ie)?qe.resolve():this.remoteDocumentCache.getEntry(e,ie).next(ke=>{V=V.insert(ie,ke)}))).next(()=>this.populateOverlays(e,Y,y)).next(()=>this.computeViews(e,V,Y,sr())).next(ie=>({batchId:R,changes:wu(ie)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new kt(r)).next(s=>{let d=Ui();return s.isFoundDocument()&&(d=d.insert(s.key,s)),d})}getDocumentsMatchingCollectionGroupQuery(e,r,s,d){const y=r.collectionGroup;let b=Ui();return this.indexManager.getCollectionParents(e,y).next(R=>qe.forEach(R,V=>{const Y=(ye=r,ke=V.child(y),new L(ke,null,ye.explicitOrderBy.slice(),ye.filters.slice(),ye.limit,ye.limitType,ye.startAt,ye.endAt));var ye,ke;return this.getDocumentsMatchingCollectionQuery(e,Y,s,d).next(ie=>{ie.forEach((ye,ke)=>{b=b.insert(ye,ke)})})}).next(()=>b))}getDocumentsMatchingCollectionQuery(e,r,s,d){let y;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(b=>(y=b,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,y,d))).next(b=>{y.forEach((V,Y)=>{const ie=Y.getKey();null===b.get(ie)&&(b=b.insert(ie,kn.newInvalidDocument(ie)))});let R=Ui();return b.forEach((V,Y)=>{const ie=y.get(V);void 0!==ie&&we(ie.mutation,Y,bi.empty(),Dn.now()),va(r,Y)&&(R=R.insert(V,Y))}),R})}}class Nu{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return qe.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(d=r).id,version:d.version,createTime:Ti(d.createTime)}),qe.resolve();var d}getNamedQuery(e,r){return qe.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(d=r).name,query:mo(d.bundledQuery),readTime:Ti(d.readTime)}),qe.resolve();var d}}class Hd{constructor(){this.overlays=new Br(kt.comparator),this.hr=new Map}getOverlay(e,r){return qe.resolve(this.overlays.get(r))}getOverlays(e,r){const s=Zs();return qe.forEach(r,d=>this.getOverlay(e,d).next(y=>{null!==y&&s.set(d,y)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((d,y)=>{this.ht(e,r,y)}),qe.resolve()}removeOverlaysForBatchId(e,r,s){const d=this.hr.get(s);return void 0!==d&&(d.forEach(y=>this.overlays=this.overlays.remove(y)),this.hr.delete(s)),qe.resolve()}getOverlaysForCollection(e,r,s){const d=Zs(),y=r.length+1,b=new kt(r.child("")),R=this.overlays.getIteratorFrom(b);for(;R.hasNext();){const V=R.getNext().value,Y=V.getKey();if(!r.isPrefixOf(Y.path))break;Y.path.length===y&&V.largestBatchId>s&&d.set(V.getKey(),V)}return qe.resolve(d)}getOverlaysForCollectionGroup(e,r,s,d){let y=new Br((Y,ie)=>Y-ie);const b=this.overlays.getIterator();for(;b.hasNext();){const Y=b.getNext().value;if(Y.getKey().getCollectionGroup()===r&&Y.largestBatchId>s){let ie=y.get(Y.largestBatchId);null===ie&&(ie=Zs(),y=y.insert(Y.largestBatchId,ie)),ie.set(Y.getKey(),Y)}}const R=Zs(),V=y.getIterator();for(;V.hasNext()&&(V.getNext().value.forEach((Y,ie)=>R.set(Y,ie)),!(R.size()>=d)););return qe.resolve(R)}ht(e,r,s){const d=this.overlays.get(s.key);if(null!==d){const b=this.hr.get(d.largestBatchId).delete(s.key);this.hr.set(d.largestBatchId,b)}this.overlays=this.overlays.insert(s.key,new rs(r,s));let y=this.hr.get(r);void 0===y&&(y=sr(),this.hr.set(r,y)),this.hr.set(r,y.add(s.key))}}class Yl{constructor(){this.Pr=new Pr(ji.Ir),this.Tr=new Pr(ji.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const s=new ji(e,r);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Ar(new ji(e,r))}Rr(e,r){e.forEach(s=>this.removeReference(s,r))}Vr(e){const r=new kt(new Cn([])),s=new ji(r,e),d=new ji(r,e+1),y=[];return this.Tr.forEachInRange([s,d],b=>{this.Ar(b),y.push(b.key)}),y}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new kt(new Cn([])),s=new ji(r,e),d=new ji(r,e+1);let y=sr();return this.Tr.forEachInRange([s,d],b=>{y=y.add(b.key)}),y}containsKey(e){const r=new ji(e,0),s=this.Pr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class ji{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return kt.comparator(e.key,r.key)||qt(e.pr,r.pr)}static Er(e,r){return qt(e.pr,r.pr)||kt.comparator(e.key,r.key)}}class xy{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new Pr(ji.Ir)}checkEmpty(e){return qe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,d){const y=this.yr;this.yr++;const b=new xi(y,r,s,d);this.mutationQueue.push(b);for(const R of d)this.wr=this.wr.add(new ji(R.key,y)),this.indexManager.addToCollectionParentIndex(e,R.key.path.popLast());return qe.resolve(b)}lookupMutationBatch(e,r){return qe.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const d=this.br(r+1),y=d<0?0:d;return qe.resolve(this.mutationQueue.length>y?this.mutationQueue[y]:null)}getHighestUnacknowledgedBatchId(){return qe.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new ji(r,0),d=new ji(r,Number.POSITIVE_INFINITY),y=[];return this.wr.forEachInRange([s,d],b=>{const R=this.Sr(b.pr);y.push(R)}),qe.resolve(y)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Pr(qt);return r.forEach(d=>{const y=new ji(d,0),b=new ji(d,Number.POSITIVE_INFINITY);this.wr.forEachInRange([y,b],R=>{s=s.add(R.pr)})}),qe.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,d=s.length+1;let y=s;kt.isDocumentKey(y)||(y=y.child(""));const b=new ji(new kt(y),0);let R=new Pr(qt);return this.wr.forEachWhile(V=>{const Y=V.key.path;return!!s.isPrefixOf(Y)&&(Y.length===d&&(R=R.add(V.pr)),!0)},b),qe.resolve(this.Dr(R))}Dr(e){const r=[];return e.forEach(s=>{const d=this.Sr(s);null!==d&&r.push(d)}),r}removeMutationBatch(e,r){Nt(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return qe.forEach(r.mutations,d=>{const y=new ji(d.key,r.batchId);return s=s.delete(y),this.referenceDelegate.markPotentiallyOrphaned(e,d.key)}).next(()=>{this.wr=s})}Mn(e){}containsKey(e,r){const s=new ji(r,0),d=this.wr.firstAfterOrEqual(s);return qe.resolve(r.isEqual(d&&d.key))}performConsistencyCheck(e){return qe.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class t_{constructor(e){this.vr=e,this.docs=new Br(kt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,d=this.docs.get(s),y=d?d.size:0,b=this.vr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:b}),this.size+=b-y,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return qe.resolve(s?s.document.mutableCopy():kn.newInvalidDocument(r))}getEntries(e,r){let s=Cr();return r.forEach(d=>{const y=this.docs.get(d);s=s.insert(d,y?y.document.mutableCopy():kn.newInvalidDocument(d))}),qe.resolve(s)}getDocumentsMatchingQuery(e,r,s,d){let y=Cr();const b=r.path,R=new kt(b.child("")),V=this.docs.getIteratorFrom(R);for(;V.hasNext();){const{key:Y,value:{document:ie}}=V.getNext();if(!b.isPrefixOf(Y.path))break;Y.path.length>b.length+1||hi(di(ie),s)<=0||(d.has(ie.key)||va(r,ie))&&(y=y.insert(ie.key,ie.mutableCopy()))}return qe.resolve(y)}getAllFromCollectionGroup(e,r,s,d){bt()}Fr(e,r){return qe.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new Cg(this)}getSize(e){return qe.resolve(this.size)}}class Cg extends Cc{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((s,d)=>{d.isValidDocument()?r.push(this.ar.addEntry(e,d)):this.ar.removeEntry(s)}),qe.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class Oy{constructor(e){this.persistence=e,this.Mr=new ns(r=>Rn(r),nr),this.lastRemoteSnapshotVersion=Kt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Yl,this.targetCount=0,this.Lr=Tc.Nn()}forEachTarget(e,r){return this.Mr.forEach((s,d)=>r(d)),qe.resolve()}getLastRemoteSnapshotVersion(e){return qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return qe.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),qe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Or&&(this.Or=r),qe.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Lr=new Tc(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,qe.resolve()}updateTargetData(e,r){return this.qn(r),qe.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,qe.resolve()}removeTargets(e,r,s){let d=0;const y=[];return this.Mr.forEach((b,R)=>{R.sequenceNumber<=r&&null===s.get(R.targetId)&&(this.Mr.delete(b),y.push(this.removeMatchingKeysForTargetId(e,R.targetId)),d++)}),qe.waitFor(y).next(()=>d)}getTargetCount(e){return qe.resolve(this.targetCount)}getTargetData(e,r){const s=this.Mr.get(r)||null;return qe.resolve(s)}addMatchingKeys(e,r,s){return this.Nr.dr(r,s),qe.resolve()}removeMatchingKeys(e,r,s){this.Nr.Rr(r,s);const d=this.persistence.referenceDelegate,y=[];return d&&r.forEach(b=>{y.push(d.markPotentiallyOrphaned(e,b))}),qe.waitFor(y)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),qe.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Nr.gr(r);return qe.resolve(s)}containsKey(e,r){return qe.resolve(this.Nr.containsKey(r))}}class wg{constructor(e,r){this.Br={},this.overlays={},this.kr=new F(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Oy(this),this.indexManager=new Ry,this.remoteDocumentCache=new t_(s=>this.referenceDelegate.Kr(s)),this.serializer=new ut(r),this.$r=new Nu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Hd,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.Br[e.toKey()];return s||(s=new xy(r,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,s){ge("MemoryPersistence","Starting transaction:",e);const d=new n_(this.kr.next());return this.referenceDelegate.Ur(),s(d).next(y=>this.referenceDelegate.Wr(d).next(()=>y)).toPromise().then(y=>(d.raiseOnCommittedEvent(),y))}Gr(e,r){return qe.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,r)))}}class n_ extends Tr{constructor(e){super(),this.currentSequenceNumber=e}}class Yf{constructor(e){this.persistence=e,this.zr=new Yl,this.jr=null}static Hr(e){return new Yf(e)}get Jr(){if(this.jr)return this.jr;throw bt()}addReference(e,r,s){return this.zr.addReference(s,r),this.Jr.delete(s.toString()),qe.resolve()}removeReference(e,r,s){return this.zr.removeReference(s,r),this.Jr.add(s.toString()),qe.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),qe.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(d=>this.Jr.add(d.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(d=>{d.forEach(y=>this.Jr.add(y.toString()))}).next(()=>s.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qe.forEach(this.Jr,s=>{const d=kt.fromPath(s);return this.Yr(e,d).next(y=>{y||r.removeEntry(d,Kt.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(s=>{s?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return qe.or([()=>qe.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class Ql{constructor(e){this.serializer=e}O(e,r,s,d){const y=new Tt("createOrUpgrade",r);var V;s<1&&d>=1&&(e.createObjectStore("owner"),(V=e).createObjectStore("mutationQueues",{keyPath:"userId"}),V.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Jn,{unique:!0}),V.createObjectStore("documentMutations"),Qf(e),function(V){V.createObjectStore("remoteDocuments")}(e));let b=qe.resolve();return s<3&&d>=3&&(0!==s&&(function(V){V.deleteObjectStore("targetDocuments"),V.deleteObjectStore("targets"),V.deleteObjectStore("targetGlobal")}(e),Qf(e)),b=b.next(()=>function(V){const Y=V.store("targetGlobal"),ie={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Kt.min().toTimestamp(),targetCount:0};return Y.put("targetGlobalKey",ie)}(y))),s<4&&d>=4&&(0!==s&&(b=b.next(()=>function(V,Y){return Y.store("mutations").U().next(ie=>{V.deleteObjectStore("mutations"),V.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Jn,{unique:!0});const ye=Y.store("mutations"),ke=ie.map(ot=>ye.put(ot));return qe.waitFor(ke)})}(e,y))),b=b.next(()=>{!function(V){V.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&d>=5&&(b=b.next(()=>this.Xr(y))),s<6&&d>=6&&(b=b.next(()=>(function(V){V.createObjectStore("remoteDocumentGlobal")}(e),this.ei(y)))),s<7&&d>=7&&(b=b.next(()=>this.ti(y))),s<8&&d>=8&&(b=b.next(()=>this.ni(e,y))),s<9&&d>=9&&(b=b.next(()=>{!function(V){V.objectStoreNames.contains("remoteDocumentChanges")&&V.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&d>=10&&(b=b.next(()=>this.ri(y))),s<11&&d>=11&&(b=b.next(()=>{(function(V){V.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(V){V.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&d>=12&&(b=b.next(()=>{!function(V){const Y=V.createObjectStore("documentOverlays",{keyPath:kr});Y.createIndex("collectionPathOverlayIndex",Xo,{unique:!1}),Y.createIndex("collectionGroupOverlayIndex",Zr,{unique:!1})}(e)})),s<13&&d>=13&&(b=b.next(()=>function(V){const Y=V.createObjectStore("remoteDocumentsV14",{keyPath:Io});Y.createIndex("documentKeyIndex",Ei),Y.createIndex("collectionGroupIndex",oo)}(e)).next(()=>this.ii(e,y)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&d>=14&&(b=b.next(()=>this.si(e,y))),s<15&&d>=15&&(b=b.next(()=>function(V){V.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),V.createObjectStore("indexState",{keyPath:bo}).createIndex("sequenceNumberIndex",ya,{unique:!1}),V.createObjectStore("indexEntries",{keyPath:Jc}).createIndex("documentKeyIndex",Fi,{unique:!1})}(e))),s<16&&d>=16&&(b=b.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),b}ei(e){let r=0;return e.store("remoteDocuments").J((s,d)=>{r+=xs(d)}).next(()=>{const s={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Xr(e){const r=e.store("mutationQueues"),s=e.store("mutations");return r.U().next(d=>qe.forEach(d,y=>{const b=IDBKeyRange.bound([y.userId,-1],[y.userId,y.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",b).next(R=>qe.forEach(R,V=>{Nt(V.userId===y.userId);const Y=Ys(this.serializer,V);return Ou(e,y.userId,Y).next(()=>{})}))}))}ti(e){const r=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(d=>{const y=[];return s.J((b,R)=>{const V=new Cn(b),Y=[0,Rt(V)];y.push(r.get(Y).next(ie=>ie?qe.resolve():r.put({targetId:0,path:Rt(V),sequenceNumber:d.highestListenSequenceNumber})))}).next(()=>qe.waitFor(y))})}ni(e,r){e.createObjectStore("collectionParents",{keyPath:Fs});const s=r.store("collectionParents"),d=new kd,y=b=>{if(d.add(b)){const R=b.lastSegment(),V=b.popLast();return s.put({collectionId:R,parent:Rt(V)})}};return r.store("remoteDocuments").J({H:!0},(b,R)=>{const V=new Cn(b);return y(V.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([b,R,V],Y)=>{const ie=an(R);return y(ie.popLast())}))}ri(e){const r=e.store("targets");return r.J((s,d)=>{const y=go(d),b=Ic(this.serializer,y);return r.put(b)})}ii(e,r){const s=r.store("remoteDocuments"),d=[];return s.J((y,b)=>{const R=r.store("remoteDocumentsV14"),V=(ye=b,ye.document?new kt(Cn.fromString(ye.document.name).popFirst(5)):ye.noDocument?kt.fromSegments(ye.noDocument.path):ye.unknownDocument?kt.fromSegments(ye.unknownDocument.path):bt()).path.toArray(),Y={prefixPath:V.slice(0,V.length-2),collectionGroup:V[V.length-2],documentId:V[V.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};var ye;d.push(R.put(Y))}).next(()=>qe.waitFor(d))}si(e,r){const s=r.store("mutations"),d=ws(this.serializer),y=new wg(Yf.Hr,this.serializer.ct);return s.U().next(b=>{const R=new Map;return b.forEach(V=>{var Y;let ie=null!==(Y=R.get(V.userId))&&void 0!==Y?Y:sr();Ys(this.serializer,V).keys().forEach(ye=>ie=ie.add(ye)),R.set(V.userId,ie)}),qe.forEach(R,(V,Y)=>{const ie=new rt(Y),ye=xd.lt(this.serializer,ie),ke=y.getIndexManager(ie),ot=Ld.lt(ie,this.serializer,ke,y.referenceDelegate);return new dl(d,ot,ye,ke).recalculateAndSaveOverlaysForDocumentKeys(new Li(r,F.oe),V).next()})})}}function Qf(l){l.createObjectStore("targetDocuments",{keyPath:ki}).createIndex("documentTargetsIndex",gr,{unique:!0}),l.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",_s,{unique:!0}),l.createObjectStore("targetGlobal")}const Vh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Yi{constructor(e,r,s,d,y,b,R,V,Y,ie,ye=16){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=s,this.oi=y,this.window=b,this.document=R,this._i=Y,this.ai=ie,this.ui=ye,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=ke=>Promise.resolve(),!Yi.D())throw new _e(Ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Lh(this,d),this.Ti=r+"main",this.serializer=new ut(V),this.Ei=new oe(this.Ti,this.ui,new Ql(this.serializer)),this.Qr=new bg(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ws(this.serializer),this.$r=new fi,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===ie&&Et("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _e(Ne.FAILED_PRECONDITION,Vh);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new F(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var r=this;return this.Ii=function(){var s=(0,g.Z)(function*(d){if(r.started)return e(d)});return function(d){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var r=(0,g.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,g.Z)(function*(){r.started&&(yield r.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>hl(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(r=>{r||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(r=>this.isPrimary&&!r?this.yi(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(Mn(e))return ge("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ge("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return ku(e).get("owner").next(r=>qe.resolve(this.Si(r)))}bi(e){return hl(e).delete(this.clientId)}Di(){var e=this;return(0,g.Z)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const d=Mr(s,"clientMetadata");return d.U().next(y=>{const b=e.vi(y,18e5),R=y.filter(V=>-1===b.indexOf(V));return qe.forEach(R,V=>d.delete(V.clientId)).next(()=>R)})}).catch(()=>[]);if(e.di)for(const s of r)e.di.removeItem(e.Fi(s.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?qe.resolve(!0):ku(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)){if(this.Si(r)&&this.networkEnabled)return!0;if(!this.Si(r)){if(!r.allowTabSynchronization)throw new _e(Ne.FAILED_PRECONDITION,Vh);return!1}}return!(!this.networkEnabled||!this.inForeground)||hl(e).U().next(s=>void 0===this.vi(s,5e3).find(d=>!(this.clientId===d.clientId||!(!this.networkEnabled&&d.networkEnabled||!this.inForeground&&d.inForeground&&this.networkEnabled===d.networkEnabled))))}).next(r=>(this.isPrimary!==r&&ge("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,g.Z)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const s=new Li(r,F.oe);return e.yi(s).next(()=>e.bi(s))}),e.Ei.close(),e.Li()})()}vi(e,r){return e.filter(s=>this.Ci(s.updateTimeMs,r)&&!this.Mi(s.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>hl(e).U().next(r=>this.vi(r,18e5).map(s=>s.clientId)))}get started(){return this.qr}getMutationQueue(e,r){return Ld.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new zl(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return xd.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,r,s){ge("IndexedDbPersistence","Starting transaction:",e);const d="readonly"===r?"readonly":"readwrite",y=16===(V=this.ui)?Ls:15===V?wi:14===V?pr:13===V?na:12===V?ta:11===V?ea:void bt();var V;let b;return this.Ei.runTransaction(e,d,y,R=>(b=new Li(R,this.kr?this.kr.next():F.oe),"readwrite-primary"===r?this.gi(b).next(V=>!!V||this.pi(b)).next(V=>{if(!V)throw Et(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new _e(Ne.FAILED_PRECONDITION,Qn);return s(b)}).next(V=>this.wi(b).next(()=>V)):this.ki(b).next(()=>s(b)))).then(R=>(b.raiseOnCommittedEvent(),R))}ki(e){return ku(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)&&!this.Si(r)&&!(this.ai||this.allowTabSynchronization&&r.allowTabSynchronization))throw new _e(Ne.FAILED_PRECONDITION,Vh)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ku(e).put("owner",r)}static D(){return oe.D()}yi(e){const r=ku(e);return r.get("owner").next(s=>this.Si(s)?(ge("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):qe.resolve())}Ci(e,r){const s=Date.now();return!(e<s-r||e>s&&(Et(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const r=/(?:Version|Mobile)\/1[456]/;(0,Ee.G6)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var r;try{const s=null!==(null===(r=this.di)||void 0===r?void 0:r.getItem(this.Fi(e)));return ge("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Et("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Et("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ku(l){return Mr(l,"owner")}function hl(l){return Mr(l,"clientMetadata")}function Jf(l,e){let r=l.projectId;return l.isDefaultDatabase||(r+="."+l.database),"firestore/"+e+"/"+r+"/"}class Os{constructor(e,r,s,d){this.targetId=e,this.fromCache=r,this.qi=s,this.Qi=d}static Ki(e,r){let s=sr(),d=sr();for(const y of r.docChanges)switch(y.type){case 0:s=s.add(y.doc.key);break;case 1:d=d.add(y.doc.key)}return new Os(e,r.fromCache,s,d)}}class wc{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class fl{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,Ee.G6)()?8:Se((0,Ee.z$)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,s,d){const y={result:null};return this.ji(e,r).next(b=>{y.result=b}).next(()=>{if(!y.result)return this.Hi(e,r,d,s).next(b=>{y.result=b})}).next(()=>{if(y.result)return;const b=new wc;return this.Ji(e,r,b).next(R=>{if(y.result=R,this.Ui)return this.Yi(e,r,b,R.size)})}).next(()=>y.result)}Yi(e,r,s,d){return s.documentReadCount<this.Wi?(Ct()<=Ie.in.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",fc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),qe.resolve()):(Ct()<=Ie.in.DEBUG&&ge("QueryEngine","Query:",fc(r),"scans",s.documentReadCount,"local documents and returns",d,"documents as results."),s.documentReadCount>this.Gi*d?(Ct()<=Ie.in.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",fc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ri(r))):qe.resolve())}ji(e,r){if(bn(r))return qe.resolve(null);let s=ri(r);return this.indexManager.getIndexType(e,s).next(d=>0===d?null:(null!==r.limit&&1===d&&(r=hc(r,null,"F"),s=ri(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(y=>{const b=sr(...y);return this.zi.getDocuments(e,b).next(R=>this.indexManager.getMinOffset(e,s).next(V=>{const Y=this.Zi(r,R);return this.Xi(r,Y,b,V.readTime)?this.ji(e,hc(r,null,"F")):this.es(e,Y,r,V)}))})))}Hi(e,r,s,d){return bn(r)||d.isEqual(Kt.min())?qe.resolve(null):this.zi.getDocuments(e,s).next(y=>{const b=this.Zi(r,y);return this.Xi(r,b,s,d)?qe.resolve(null):(Ct()<=Ie.in.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",d.toString(),fc(r)),this.es(e,b,r,Sr(d,-1)).next(R=>R))})}Zi(e,r){let s=new Pr(Ws(e));return r.forEach((d,y)=>{va(e,y)&&(s=s.add(y))}),s}Xi(e,r,s,d){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const y="F"===e.limitType?r.last():r.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(d)>0)}Ji(e,r,s){return Ct()<=Ie.in.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",fc(r)),this.zi.getDocumentsMatchingQuery(e,r,sn.min(),s)}es(e,r,s,d){return this.zi.getDocumentsMatchingQuery(e,s,d).next(y=>(r.forEach(b=>{y=y.insert(b.key,b)}),y))}}class Fu{constructor(e,r,s,d){this.persistence=e,this.ts=r,this.serializer=d,this.ns=new Br(qt),this.rs=new ns(y=>Rn(y),nr),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(s)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dl(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function Jl(l,e,r,s){return new Fu(l,e,r,s)}function Uh(l,e){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,g.Z)(function*(l,e){const r=at(l);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let d;return r.mutationQueue.getAllMutationBatches(s).next(y=>(d=y,r._s(e),r.mutationQueue.getAllMutationBatches(s))).next(y=>{const b=[],R=[];let V=sr();for(const Y of d){b.push(Y.batchId);for(const ie of Y.mutations)V=V.add(ie.key)}for(const Y of y){R.push(Y.batchId);for(const ie of Y.mutations)V=V.add(ie.key)}return r.localDocuments.getDocuments(s,V).next(Y=>({us:Y,removedBatchIds:b,addedBatchIds:R}))})})})).apply(this,arguments)}function jh(l){const e=at(l);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function Hh(l,e,r){let s=sr(),d=sr();return r.forEach(y=>s=s.add(y)),e.getEntries(l,s).next(y=>{let b=Cr();return r.forEach((R,V)=>{const Y=y.get(R);V.isFoundDocument()!==Y.isFoundDocument()&&(d=d.add(R)),V.isNoDocument()&&V.version.isEqual(Kt.min())?(e.removeEntry(R,V.readTime),b=b.insert(R,V)):!Y.isValidDocument()||V.version.compareTo(Y.version)>0||0===V.version.compareTo(Y.version)&&Y.hasPendingWrites?(e.addEntry(V),b=b.insert(R,V)):ge("LocalStore","Ignoring outdated watch update for ",R,". Current version:",Y.version," Watch version:",V.version)}),{cs:b,ls:d}})}function ec(l,e){const r=at(l);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Xl(l,e){const r=at(l);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let d;return r.Qr.getTargetData(s,e).next(y=>y?(d=y,qe.resolve(d)):r.Qr.allocateTargetId(s).next(b=>(d=new ct(e,b,"TargetPurposeListen",s.currentSequenceNumber),r.Qr.addTargetData(s,d).next(()=>d))))}).then(s=>{const d=r.ns.get(s.targetId);return(null===d||s.snapshotVersion.compareTo(d.snapshotVersion)>0)&&(r.ns=r.ns.insert(s.targetId,s),r.rs.set(e,s.targetId)),s})}function tc(l,e,r){return $d.apply(this,arguments)}function $d(){return($d=(0,g.Z)(function*(l,e,r){const s=at(l),d=s.ns.get(e),y=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",y,b=>s.persistence.referenceDelegate.removeTarget(b,d)))}catch(b){if(!Mn(b))throw b;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}s.ns=s.ns.remove(e),s.rs.delete(d.target)})).apply(this,arguments)}function $h(l,e,r){const s=at(l);let d=Kt.min(),y=sr();return s.persistence.runTransaction("Execute query","readwrite",b=>function(V,Y,ie){const ye=at(V),ke=ye.rs.get(ie);return void 0!==ke?qe.resolve(ye.ns.get(ke)):ye.Qr.getTargetData(Y,ie)}(s,b,ri(e)).next(R=>{if(R)return d=R.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(b,R.targetId).next(V=>{y=V})}).next(()=>s.ts.getDocumentsMatchingQuery(b,e,r?d:Kt.min(),r?y:sr())).next(R=>(ep(s,el(e),R),{documents:R,hs:y})))}function zh(l,e){const r=at(l),s=at(r.Qr),d=r.ns.get(e);return d?Promise.resolve(d.target):r.persistence.runTransaction("Get target data","readonly",y=>s.ot(y,e).next(b=>b?b.target:null))}function Xf(l,e){const r=at(l),s=r.ss.get(e)||Kt.min();return r.persistence.runTransaction("Get new document changes","readonly",d=>r.os.getAllFromCollectionGroup(d,e,Sr(s,-1),Number.MAX_SAFE_INTEGER)).then(d=>(ep(r,e,d),d))}function ep(l,e,r){let s=l.ss.get(e)||Kt.min();r.forEach((d,y)=>{y.readTime.compareTo(s)>0&&(s=y.readTime)}),l.ss.set(e,s)}function eu(){return(eu=(0,g.Z)(function*(l,e,r,s){const d=at(l);let y=sr(),b=Cr();for(const Y of r){const ie=e.Ps(Y.metadata.name);Y.document&&(y=y.add(ie));const ye=e.Is(Y);ye.setReadTime(e.Ts(Y.metadata.readTime)),b=b.insert(ie,ye)}const R=d.os.newChangeBuffer({trackRemovals:!0}),V=yield Xl(d,(ie=s,ri(Me(Cn.fromString(`__bundle__/docs/${ie}`)))));var ie;return d.persistence.runTransaction("Apply bundle documents","readwrite",Y=>Hh(Y,R,b).next(ie=>(R.apply(Y),ie)).next(ie=>d.Qr.removeMatchingKeysForTargetId(Y,V.targetId).next(()=>d.Qr.addMatchingKeys(Y,y,V.targetId)).next(()=>d.localDocuments.getLocalViewOfDocuments(Y,ie.cs,ie.ls)).next(()=>ie.cs)))})).apply(this,arguments)}function Gh(l,e){return tp.apply(this,arguments)}function tp(){return(tp=(0,g.Z)(function*(l,e,r=sr()){const s=yield Xl(l,ri(mo(e.bundledQuery))),d=at(l);return d.persistence.runTransaction("Save named query","readwrite",y=>{const b=Ti(e.readTime);if(s.snapshotVersion.compareTo(b)>=0)return d.$r.saveNamedQuery(y,e);const R=s.withResumeToken(ei.EMPTY_BYTE_STRING,b);return d.ns=d.ns.insert(R.targetId,R),d.Qr.updateTargetData(y,R).next(()=>d.Qr.removeMatchingKeysForTargetId(y,s.targetId)).next(()=>d.Qr.addMatchingKeys(y,r,s.targetId)).next(()=>d.$r.saveNamedQuery(y,e))})})).apply(this,arguments)}function tu(l,e){return`firestore_clients_${l}_${e}`}function np(l,e,r){let s=`firestore_mutations_${l}_${r}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Dc(l,e){return`firestore_targets_${l}_${e}`}class zd{constructor(e,r,s,d){this.user=e,this.batchId=r,this.state=s,this.error=d}static Es(e,r,s){const d=JSON.parse(s);let y,b="object"==typeof d&&-1!==["pending","acknowledged","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error);return b&&d.error&&(b="string"==typeof d.error.message&&"string"==typeof d.error.code,b&&(y=new _e(d.error.code,d.error.message))),b?new zd(e,r,d.state,y):(Et("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class nu{constructor(e,r,s){this.targetId=e,this.state=r,this.error=s}static Es(e,r){const s=JSON.parse(r);let d,y="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return y&&s.error&&(y="string"==typeof s.error.message&&"string"==typeof s.error.code,y&&(d=new _e(s.error.code,s.error.message))),y?new nu(e,s.state,d):(Et("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ru{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Es(e,r){const s=JSON.parse(r);let d="object"==typeof s&&s.activeTargetIds instanceof Array,y=nl();for(let b=0;d&&b<s.activeTargetIds.length;++b)d=yt(s.activeTargetIds[b]),y=y.add(s.activeTargetIds[b]);return d?new ru(e,y):(Et("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class Lu{constructor(e,r){this.clientId=e,this.onlineState=r}static Es(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new Lu(r.clientId,r.onlineState):(Et("SharedClientState",`Failed to parse online state: ${e}`),null)}}class qh{constructor(){this.activeTargetIds=nl()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rp{constructor(e,r,s,d,y){this.window=e,this.oi=r,this.persistenceKey=s,this.Vs=d,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Br(qt),this.started=!1,this.ys=[];const b=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.ws=tu(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new qh),this.bs=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(V){return`firestore_bundle_loaded_v2_${V}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,g.Z)(function*(){const r=yield e.syncEngine.Bi();for(const d of r){if(d===e.Vs)continue;const y=e.getItem(tu(e.persistenceKey,d));if(y){const b=ru.Es(d,y);b&&(e.ps=e.ps.insert(b.clientId,b))}}e.Ms();const s=e.storage.getItem(e.vs);if(s){const d=e.xs(s);d&&e.Os(d)}for(const d of e.ys)e.gs(d);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let r=!1;return this.ps.forEach((s,d)=>{d.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,r,s){this.Ls(e,r,s),this.Bs(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Dc(this.persistenceKey,e));if(s){const d=nu.Es(e,s);d&&(r=d.state)}}return this.ks.As(e),this.Ms(),r}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Dc(this.persistenceKey,e))}updateQueryState(e,r,s){this.qs(e,r,s)}handleUserChange(e,r,s){r.forEach(d=>{this.Bs(d)}),this.currentUser=e,s.forEach(d=>{this.addPendingMutation(d)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return ge("SharedClientState","READ",e,r),r}setItem(e,r){ge("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){ge("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var r=this;const s=e;if(s.storageArea===this.storage){if(ge("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ws)return void Et("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,g.Z)(function*(){if(r.started){if(null!==s.key)if(r.bs.test(s.key)){if(null==s.newValue){const d=r.$s(s.key);return r.Us(d,null)}{const d=r.Ws(s.key,s.newValue);if(d)return r.Us(d.clientId,d)}}else if(r.Ds.test(s.key)){if(null!==s.newValue){const d=r.Gs(s.key,s.newValue);if(d)return r.zs(d)}}else if(r.Cs.test(s.key)){if(null!==s.newValue){const d=r.js(s.key,s.newValue);if(d)return r.Hs(d)}}else if(s.key===r.vs){if(null!==s.newValue){const d=r.xs(s.newValue);if(d)return r.Os(d)}}else if(s.key===r.Ss){const d=function(b){let R=F.oe;if(null!=b)try{const V=JSON.parse(b);Nt("number"==typeof V),R=V}catch(V){Et("SharedClientState","Failed to read sequence number from WebStorage",V)}return R}(s.newValue);d!==F.oe&&r.sequenceNumberHandler(d)}else if(s.key===r.Fs){const d=r.Js(s.newValue);yield Promise.all(d.map(y=>r.syncEngine.Ys(y)))}}else r.ys.push(s)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,r,s){const d=new zd(this.currentUser,e,r,s),y=np(this.persistenceKey,this.currentUser,e);this.setItem(y,d.ds())}Bs(e){const r=np(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,r,s){const d=Dc(this.persistenceKey,e),y=new nu(e,r,s);this.setItem(d,y.ds())}Ks(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Fs,r)}$s(e){const r=this.bs.exec(e);return r?r[1]:null}Ws(e,r){const s=this.$s(e);return ru.Es(s,r)}Gs(e,r){const s=this.Ds.exec(e),d=Number(s[1]);return zd.Es(new rt(void 0!==s[2]?s[2]:null),d,r)}js(e,r){const s=this.Cs.exec(e),d=Number(s[1]);return nu.Es(d,r)}xs(e){return Lu.Es(e)}Js(e){return JSON.parse(e)}zs(e){var r=this;return(0,g.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Zs(e.batchId,e.state,e.error);ge("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,r){const s=r?this.ps.insert(e,r):this.ps.remove(e),d=this.Ns(this.ps),y=this.Ns(s),b=[],R=[];return y.forEach(V=>{d.has(V)||b.push(V)}),d.forEach(V=>{y.has(V)||R.push(V)}),this.syncEngine.eo(b,R).then(()=>{this.ps=s})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let r=nl();return e.forEach((s,d)=>{r=r.unionWith(d.activeTargetIds)}),r}}class Ag{constructor(){this.no=new qh,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,s){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new qh,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class iu{io(e){}shutdown(){}}class Vu{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Wh=null;function Dg(){return null===Wh?Wh=268435456+Math.round(2147483648*Math.random()):Wh++,"0x"+Wh.toString(16)}const C={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const v="WebChannelConnection";class M extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",d=encodeURIComponent(this.databaseId.projectId),y=encodeURIComponent(this.databaseId.database);this.wo=s+"://"+r.host,this.So=`projects/${d}/databases/${y}`,this.bo="(default)"===this.databaseId.database?`project_id=${d}`:`project_id=${d}&database_id=${y}`}get Do(){return!1}Co(r,s,d,y,b){const R=Dg(),V=this.vo(r,s.toUriEncodedString());ge("RestConnection",`Sending RPC '${r}' ${R}:`,V,d);const Y={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(Y,y,b),this.Mo(r,V,Y,d).then(ie=>(ge("RestConnection",`Received RPC '${r}' ${R}: `,ie),ie),ie=>{throw Ht("RestConnection",`RPC '${r}' ${R} failed with error: `,ie,"url: ",V,"request:",d),ie})}xo(r,s,d,y,b,R){return this.Co(r,s,d,y,b)}Fo(r,s,d){r["X-Goog-Api-Client"]="gl-js/ fire/"+$e,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((y,b)=>r[b]=y),d&&d.headers.forEach((y,b)=>r[b]=y)}vo(r,s){return`${this.wo}/v1/${s}:${C[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,r,s,d){const y=Dg();return new Promise((b,R)=>{const V=new Oe;V.setWithCredentials(!0),V.listenOnce(Dt.COMPLETE,()=>{try{switch(V.getLastErrorCode()){case mt.NO_ERROR:const ie=V.getResponseJson();ge(v,`XHR for RPC '${e}' ${y} received:`,JSON.stringify(ie)),b(ie);break;case mt.TIMEOUT:ge(v,`RPC '${e}' ${y} timed out`),R(new _e(Ne.DEADLINE_EXCEEDED,"Request time out"));break;case mt.HTTP_ERROR:const ye=V.getStatus();if(ge(v,`RPC '${e}' ${y} failed with status:`,ye,"response text:",V.getResponseText()),ye>0){let ke=V.getResponseJson();Array.isArray(ke)&&(ke=ke[0]);const ot=ke?.error;if(ot&&ot.status&&ot.message){const xt=function(Ut){const An=Ut.toLowerCase().replace(/_/g,"-");return Object.values(Ne).indexOf(An)>=0?An:Ne.UNKNOWN}(ot.status);R(new _e(xt,ot.message))}else R(new _e(Ne.UNKNOWN,"Server responded with status "+V.getStatus()))}else R(new _e(Ne.UNAVAILABLE,"Connection failed."));break;default:bt()}}finally{ge(v,`RPC '${e}' ${y} completed.`)}});const Y=JSON.stringify(d);ge(v,`RPC '${e}' ${y} sending request:`,d),V.send(r,"POST",Y,s,15)})}Oo(e,r,s){const d=Dg(),y=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],b=Ze(),R=en(),V={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},Y=this.longPollingOptions.timeoutSeconds;void 0!==Y&&(V.longPollingTimeout=Math.round(1e3*Y)),this.useFetchStreams&&(V.xmlHttpFactory=new pt({})),this.Fo(V.initMessageHeaders,r,s),V.encodeInitMessageHeaders=!0;const ie=y.join("");ge(v,`Creating RPC '${e}' stream ${d}: ${ie}`,V);const ye=b.createWebChannel(ie,V);let ke=!1,ot=!1;const xt=new _({lo:Ut=>{ot?ge(v,`Not sending because RPC '${e}' stream ${d} is closed:`,Ut):(ke||(ge(v,`Opening RPC '${e}' stream ${d} transport.`),ye.open(),ke=!0),ge(v,`RPC '${e}' stream ${d} sending:`,Ut),ye.send(Ut))},ho:()=>ye.close()}),Wt=(Ut,An,$n)=>{Ut.listen(An,Sn=>{try{$n(Sn)}catch(lr){setTimeout(()=>{throw lr},0)}})};return Wt(ye,Je.EventType.OPEN,()=>{ot||(ge(v,`RPC '${e}' stream ${d} transport opened.`),xt.mo())}),Wt(ye,Je.EventType.CLOSE,()=>{ot||(ot=!0,ge(v,`RPC '${e}' stream ${d} transport closed`),xt.po())}),Wt(ye,Je.EventType.ERROR,Ut=>{ot||(ot=!0,Ht(v,`RPC '${e}' stream ${d} transport errored:`,Ut),xt.po(new _e(Ne.UNAVAILABLE,"The operation could not be completed")))}),Wt(ye,Je.EventType.MESSAGE,Ut=>{var An;if(!ot){const $n=Ut.data[0];Nt(!!$n);const lr=$n.error||(null===(An=$n[0])||void 0===An?void 0:An.error);if(lr){ge(v,`RPC '${e}' stream ${d} received error:`,lr);const Hr=lr.status;let Er=function(Ue){const Qe=ii[Ue];if(void 0!==Qe)return Ks(Qe)}(Hr),Ke=lr.message;void 0===Er&&(Er=Ne.INTERNAL,Ke="Unknown error status: "+Hr+" with message "+lr.message),ot=!0,xt.po(new _e(Er,Ke)),ye.close()}else ge(v,`RPC '${e}' stream ${d} received:`,$n),xt.yo($n)}}),Wt(R,_t.STAT_EVENT,Ut=>{Ut.stat===It.PROXY?ge(v,`RPC '${e}' stream ${d} detected buffering proxy`):Ut.stat===It.NOPROXY&&ge(v,`RPC '${e}' stream ${d} detected no buffering proxy`)}),setTimeout(()=>{xt.fo()},0),xt}}function Q(){return typeof window<"u"?window:null}function le(){return typeof document<"u"?document:null}function Be(l){return new wd(l,!0)}class lt{constructor(e,r,s=1e3,d=1.5,y=6e4){this.oi=e,this.timerId=r,this.No=s,this.Lo=d,this.Bo=y,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const r=Math.floor(this.ko+this.Uo()),s=Math.max(0,Date.now()-this.Qo),d=Math.max(0,r-s);d>0&&ge("ExponentialBackoff",`Backing off for ${d} ms (base delay: ${this.ko} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,d,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class Lt{constructor(e,r,s,d,y,b,R,V){this.oi=e,this.Go=s,this.zo=d,this.connection=y,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=R,this.listener=V,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new lt(e,r)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,g.Z)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,g.Z)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,r){var s=this;return(0,g.Z)(function*(){s.s_(),s.o_(),s.Yo.cancel(),s.jo++,4!==e?s.Yo.reset():r&&r.code===Ne.RESOURCE_EXHAUSTED?(Et(r.toString()),Et("Using maximum backoff delay to prevent overloading the backend."),s.Yo.Ko()):r&&r.code===Ne.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.__(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Ao(r)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),r=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,d])=>{this.jo===r&&this.u_(s,d)},s=>{e(()=>{const d=new _e(Ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.c_(d)})})}u_(e,r){const s=this.a_(this.jo);this.stream=this.l_(e,r),this.stream.Po(()=>{s(()=>this.listener.Po())}),this.stream.To(()=>{s(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(d=>{s(()=>this.c_(d))}),this.stream.onMessage(d=>{s(()=>this.onMessage(d))})}e_(){var e=this;this.state=5,this.Yo.$o((0,g.Z)(function*(){e.state=0,e.start()}))}c_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return r=>{this.oi.enqueueAndForget(()=>this.jo===e?r():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Yt extends Lt{constructor(e,r,s,d,y,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,d,b),this.serializer=y}l_(e,r){return this.connection.Oo("Listen",e,r)}onMessage(e){this.Yo.reset();const r=function Ul(l,e){let r;if("targetChange"in e){const s="NO_CHANGE"===(Y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Y?1:"REMOVE"===Y?2:"CURRENT"===Y?3:"RESET"===Y?4:bt(),d=e.targetChange.targetIds||[],y=function(Y,ie){return Y.useProto3Json?(Nt(void 0===ie||"string"==typeof ie),ei.fromBase64String(ie||"")):(Nt(void 0===ie||ie instanceof Buffer||ie instanceof Uint8Array),ei.fromUint8Array(ie||new Uint8Array))}(l,e.targetChange.resumeToken),b=e.targetChange.cause,R=b&&function(Y){const ie=void 0===Y.code?Ne.UNKNOWN:Ks(Y.code);return new _e(ie,Y.message||"")}(b);r=new po(s,d,y,R||null)}else if("documentChange"in e){const s=e.documentChange,d=Ho(l,s.document.name),y=Ti(s.document.updateTime),b=s.document.createTime?Ti(s.document.createTime):Kt.min(),R=new or({mapValue:{fields:s.document.fields}}),V=kn.newFoundDocument(d,y,b,R);r=new yc(s.targetIds||[],s.removedTargetIds||[],V.key,V)}else if("documentDelete"in e){const s=e.documentDelete,d=Ho(l,s.document),y=s.readTime?Ti(s.readTime):Kt.min(),b=kn.newNoDocument(d,y);r=new yc([],s.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const s=e.documentRemove,d=Ho(l,s.document);r=new yc([],s.removedTargetIds||[],d,null)}else{if(!("filter"in e))return bt();{const s=e.filter,{count:d=0,unchangedNames:y}=s,b=new Us(d,y);r=new Du(s.targetId,b)}}var Y;return r}(this.serializer,e),s=function(y){if(!("targetChange"in y))return Kt.min();const b=y.targetChange;return b.targetIds&&b.targetIds.length?Kt.min():b.readTime?Ti(b.readTime):Kt.min()}(e);return this.listener.h_(r,s)}P_(e){const r={};r.database=Dr(this.serializer),r.addTarget=function(y,b){let R;const V=b.target;if(R=Vi(V)?{documents:Md(y,V)}:{query:Pd(y,V)._t},R.targetId=b.targetId,b.resumeToken.approximateByteSize()>0){R.resumeToken=Rh(y,b.resumeToken);const Y=ol(y,b.expectedCount);null!==Y&&(R.expectedCount=Y)}else if(b.snapshotVersion.compareTo(Kt.min())>0){R.readTime=Za(y,b.snapshotVersion.toTimestamp());const Y=ol(y,b.expectedCount);null!==Y&&(R.expectedCount=Y)}return R}(this.serializer,e);const s=function $o(l,e){const r=function(d){switch(d){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.i_(r)}I_(e){const r={};r.database=Dr(this.serializer),r.removeTarget=e,this.i_(r)}}class Vn extends Lt{constructor(e,r,s,d,y,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,d,b),this.serializer=y,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,r){return this.connection.Oo("Write",e,r)}onMessage(e){if(Nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const r=function Ec(l,e){return l&&l.length>0?(Nt(void 0!==e),l.map(r=>function(d,y){let b=Ti(d.updateTime?d.updateTime:y);return b.isEqual(Kt.min())&&(b=Ti(y)),new il(b,d.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=Ti(e.commitTime);return this.listener.A_(s,r)}return Nt(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Dr(this.serializer),this.i_(e)}d_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>Ts(this.serializer,s))};this.i_(r)}}class yr extends class{}{constructor(e,r,s,d){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=d,this.m_=!1}f_(){if(this.m_)throw new _e(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,r,s,d){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,b])=>this.connection.Co(e,xh(r,s),d,y,b)).catch(y=>{throw"FirebaseError"===y.name?(y.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new _e(Ne.UNKNOWN,y.toString())})}xo(e,r,s,d,y){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([b,R])=>this.connection.xo(e,xh(r,s),d,b,R,y)).catch(b=>{throw"FirebaseError"===b.name?(b.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),b):new _e(Ne.UNKNOWN,b.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class Ro{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Et(r),this.y_=!1):ge("OnlineStateTracker",r)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class Sc{constructor(e,r,s,d,y){var b=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=y,this.O_.io(R=>{s.enqueueAndForget((0,g.Z)(function*(){var V;Rc(b)&&(ge("RemoteStore","Restarting streams for network reachability change."),yield(V=(0,g.Z)(function*(ie){const ye=at(ie);ye.M_.add(4),yield pl(ye),ye.N_.set("Unknown"),ye.M_.delete(4),yield Mc(ye)}),function Y(ie){return V.apply(this,arguments)})(b))}))}),this.N_=new Ro(s,d)}}function Mc(l){return su.apply(this,arguments)}function su(){return(su=(0,g.Z)(function*(l){if(Rc(l))for(const e of l.x_)yield e(!0)})).apply(this,arguments)}function pl(l){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,g.Z)(function*(l){for(const e of l.x_)yield e(!1)})).apply(this,arguments)}function gl(l,e){const r=at(l);r.F_.has(e.targetId)||(r.F_.set(e.targetId,e),Yh(r)?Uu(r):Hu(r).Xo()&&Kh(r,e))}function Pc(l,e){const r=at(l),s=Hu(r);r.F_.delete(e),s.Xo()&&ip(r,e),0===r.F_.size&&(s.Xo()?s.n_():Rc(r)&&r.N_.set("Unknown"))}function Kh(l,e){if(l.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Kt.min())>0){const r=l.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Hu(l).P_(e)}function ip(l,e){l.L_.xe(e),Hu(l).I_(e)}function Uu(l){l.L_=new jo({getRemoteKeysForTarget:e=>l.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>l.F_.get(e)||null,tt:()=>l.datastore.serializer.databaseId}),Hu(l).start(),l.N_.w_()}function Yh(l){return Rc(l)&&!Hu(l).Zo()&&l.F_.size>0}function Rc(l){return 0===at(l).M_.size}function ml(l){l.L_=void 0}function Gd(l){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,g.Z)(function*(l){l.N_.set("Online")})).apply(this,arguments)}function mn(l){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,g.Z)(function*(l){l.F_.forEach((e,r)=>{Kh(l,e)})})).apply(this,arguments)}function qd(l,e){return sp.apply(this,arguments)}function sp(){return(sp=(0,g.Z)(function*(l,e){ml(l),Yh(l)?(l.N_.D_(e),Uu(l)):l.N_.set("Unknown")})).apply(this,arguments)}function i_(l,e,r){return Wd.apply(this,arguments)}function Wd(){return Wd=(0,g.Z)(function*(l,e,r){if(l.N_.set("Online"),e instanceof po&&2===e.state&&e.cause)try{yield(s=(0,g.Z)(function*(y,b){const R=b.cause;for(const V of b.targetIds)y.F_.has(V)&&(yield y.remoteSyncer.rejectListen(V,R),y.F_.delete(V),y.L_.removeTarget(V))}),function d(y,b){return s.apply(this,arguments)})(l,e)}catch(s){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield ju(l,s)}else if(e instanceof yc?l.L_.Ke(e):e instanceof Du?l.L_.He(e):l.L_.We(e),!r.isEqual(Kt.min()))try{const s=yield jh(l.localStore);r.compareTo(s)>=0&&(yield function(y,b){const R=y.L_.rt(b);return R.targetChanges.forEach((V,Y)=>{if(V.resumeToken.approximateByteSize()>0){const ie=y.F_.get(Y);ie&&y.F_.set(Y,ie.withResumeToken(V.resumeToken,b))}}),R.targetMismatches.forEach((V,Y)=>{const ie=y.F_.get(V);if(!ie)return;y.F_.set(V,ie.withResumeToken(ei.EMPTY_BYTE_STRING,ie.snapshotVersion)),ip(y,V);const ye=new ct(ie.target,V,Y,ie.sequenceNumber);Kh(y,ye)}),y.remoteSyncer.applyRemoteEvent(R)}(l,r))}catch(s){ge("RemoteStore","Failed to raise snapshot:",s),yield ju(l,s)}var s}),Wd.apply(this,arguments)}function ju(l,e,r){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,g.Z)(function*(l,e,r){if(!Mn(e))throw e;l.M_.add(1),yield pl(l),l.N_.set("Offline"),r||(r=()=>jh(l.localStore)),l.asyncQueue.enqueueRetryable((0,g.Z)(function*(){ge("RemoteStore","Retrying IndexedDB access"),yield r(),l.M_.delete(1),yield Mc(l)}))})).apply(this,arguments)}function s_(l,e){return e().catch(r=>ju(l,r,e))}function Kd(l){return Sg.apply(this,arguments)}function Sg(){return(Sg=(0,g.Z)(function*(l){const e=at(l),r=Oc(e);let s=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;o_(e);)try{const d=yield ec(e.localStore,s);if(null===d){0===e.v_.length&&r.n_();break}s=d.batchId,Mg(e,d)}catch(d){yield ju(e,d)}a_(e)&&c_(e)})).apply(this,arguments)}function o_(l){return Rc(l)&&l.v_.length<10}function Mg(l,e){l.v_.push(e);const r=Oc(l);r.Xo()&&r.E_&&r.d_(e.mutations)}function a_(l){return Rc(l)&&!Oc(l).Zo()&&l.v_.length>0}function c_(l){Oc(l).start()}function Ny(l){return op.apply(this,arguments)}function op(){return(op=(0,g.Z)(function*(l){Oc(l).V_()})).apply(this,arguments)}function Pg(l){return yi.apply(this,arguments)}function yi(){return(yi=(0,g.Z)(function*(l){const e=Oc(l);for(const r of l.v_)e.d_(r.mutations)})).apply(this,arguments)}function Hs(l,e,r){return _l.apply(this,arguments)}function _l(){return(_l=(0,g.Z)(function*(l,e,r){const s=l.v_.shift(),d=ps.from(s,e,r);yield s_(l,()=>l.remoteSyncer.applySuccessfulWrite(d)),yield Kd(l)})).apply(this,arguments)}function xc(l,e){return Jh.apply(this,arguments)}function Jh(){return Jh=(0,g.Z)(function*(l,e){var r;e&&Oc(l).E_&&(yield(r=(0,g.Z)(function*(d,y){if(ca(R=y.code)&&R!==Ne.ABORTED){const b=d.v_.shift();Oc(d).t_(),yield s_(d,()=>d.remoteSyncer.rejectFailedWrite(b.batchId,y)),yield Kd(d)}var R}),function s(d,y){return r.apply(this,arguments)})(l,e)),a_(l)&&c_(l)}),Jh.apply(this,arguments)}function is(l,e){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,g.Z)(function*(l,e){const r=at(l);r.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const s=Rc(r);r.M_.add(3),yield pl(r),s&&r.N_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.M_.delete(3),yield Mc(r)})).apply(this,arguments)}function xo(l,e){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,g.Z)(function*(l,e){const r=at(l);e?(r.M_.delete(2),yield Mc(r)):e||(r.M_.add(2),yield pl(r),r.N_.set("Unknown"))})).apply(this,arguments)}function Hu(l){return l.B_||(l.B_=function(r,s,d){const y=at(r);return y.f_(),new Yt(s,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,d)}(l.datastore,l.asyncQueue,{Po:Gd.bind(null,l),To:mn.bind(null,l),Ao:qd.bind(null,l),h_:i_.bind(null,l)}),l.x_.push(function(){var e=(0,g.Z)(function*(r){r?(l.B_.t_(),Yh(l)?Uu(l):l.N_.set("Unknown")):(yield l.B_.stop(),ml(l))});return function(r){return e.apply(this,arguments)}}())),l.B_}function Oc(l){return l.k_||(l.k_=function(r,s,d){const y=at(r);return y.f_(),new Vn(s,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,d)}(l.datastore,l.asyncQueue,{Po:()=>Promise.resolve(),To:Ny.bind(null,l),Ao:xc.bind(null,l),R_:Pg.bind(null,l),A_:Hs.bind(null,l)}),l.x_.push(function(){var e=(0,g.Z)(function*(r){r?(l.k_.t_(),yield Kd(l)):(yield l.k_.stop(),l.v_.length>0&&(ge("RemoteStore",`Stopping write stream with ${l.v_.length} pending writes`),l.v_=[]))});return function(r){return e.apply(this,arguments)}}())),l.k_}class Rg{constructor(e,r,s,d,y){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=d,this.removalCallback=y,this.deferred=new Ve,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,d,y){const b=Date.now()+s,R=new Rg(e,r,b,d,y);return R.start(s),R}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _e(Ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $u(l,e){if(Et("AsyncQueue",`${e}: ${l}`),Mn(l))return new _e(Ne.UNAVAILABLE,`${e}: ${l}`);throw l}class Yd{constructor(e){this.comparator=e?(r,s)=>e(r,s)||kt.comparator(r.key,s.key):(r,s)=>kt.comparator(r.key,s.key),this.keyedMap=Ui(),this.sortedSet=new Br(this.comparator)}static emptySet(e){return new Yd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Yd)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const d=r.getNext().key,y=s.getNext().key;if(!d.isEqual(y))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new Yd;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class Oi{constructor(){this.q_=new Br(kt.comparator)}track(e){const r=e.doc.key,s=this.q_.get(r);s?0!==e.type&&3===s.type?this.q_=this.q_.insert(r,e):3===e.type&&1!==s.type?this.q_=this.q_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.q_=this.q_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.q_=this.q_.remove(r):1===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):bt():this.q_=this.q_.insert(r,e)}Q_(){const e=[];return this.q_.inorderTraversal((r,s)=>{e.push(s)}),e}}class pi{constructor(e,r,s,d,y,b,R,V,Y){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=d,this.mutatedKeys=y,this.fromCache=b,this.syncStateChanged=R,this.excludesMetadataChanges=V,this.hasCachedResults=Y}static fromInitialDocuments(e,r,s,d,y){const b=[];return r.forEach(R=>{b.push({type:0,doc:R})}),new pi(e,r,Yd.emptySet(r),b,s,d,!0,!1,y)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$a(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let d=0;d<r.length;d++)if(r[d].type!==s[d].type||!r[d].doc.isEqual(s[d].doc))return!1;return!0}}class xg{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class ef{constructor(){this.queries=new ns(e=>Xc(e),$a),this.onlineState="Unknown",this.z_=new Set}}function tf(l,e){return Og.apply(this,arguments)}function Og(){return(Og=(0,g.Z)(function*(l,e){const r=at(l);let s=3;const d=e.query;let y=r.queries.get(d);y?!y.W_()&&e.G_()&&(s=2):(y=new xg,s=e.G_()?0:1);try{switch(s){case 0:y.K_=yield r.onListen(d,!0);break;case 1:y.K_=yield r.onListen(d,!1);break;case 2:yield r.onFirstRemoteStoreListen(d)}}catch(b){const R=$u(b,`Initialization of query '${fc(e.query)}' failed`);return void e.onError(R)}r.queries.set(d,y),y.U_.push(e),e.j_(r.onlineState),y.K_&&e.H_(y.K_)&&nf(r)})).apply(this,arguments)}function zu(l,e){return Ng.apply(this,arguments)}function Ng(){return(Ng=(0,g.Z)(function*(l,e){const r=at(l),s=e.query;let d=3;const y=r.queries.get(s);if(y){const b=y.U_.indexOf(e);b>=0&&(y.U_.splice(b,1),0===y.U_.length?d=e.G_()?0:1:!y.W_()&&e.G_()&&(d=2))}switch(d){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function ky(l,e){const r=at(l);let s=!1;for(const d of e){const b=r.queries.get(d.query);if(b){for(const R of b.U_)R.H_(d)&&(s=!0);b.K_=d}}s&&nf(r)}function kg(l,e,r){const s=at(l),d=s.queries.get(e);if(d)for(const y of d.U_)y.onError(r);s.queries.delete(e)}function nf(l){l.z_.forEach(e=>{e.next()})}var ap,Gu;(Gu=ap||(ap={})).J_="default",Gu.Cache="cache";class Qd{constructor(e,r,s){this.query=e,this.Y_=r,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=s||{}}H_(e){if(!this.options.includeMetadataChanges){const s=[];for(const d of e.docChanges)3!==d.type&&s.push(d);e=new pi(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),r=!0):this.ta(e,this.onlineState)&&(this.na(e),r=!0),this.X_=e,r}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let r=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),r=!0),r}ta(e,r){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=pi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==ap.Cache}}class Fg{constructor(e,r){this.ia=e,this.byteLength=r}sa(){return"metadata"in this.ia}}class cp{constructor(e){this.serializer=e}Ps(e){return Ho(this.serializer,e)}Is(e){return e.metadata.exists?gs(this.serializer,e.document,!1):kn.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Ti(e)}}class lp{constructor(e,r,s){this.oa=e,this.localStore=r,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=l_(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++r;const s=Cn.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}aa(e){const r=new Map,s=new cp(this.serializer);for(const d of e)if(d.metadata.queries){const y=s.Ps(d.metadata.name);for(const b of d.metadata.queries){const R=(r.get(b)||sr()).add(y);r.set(b,R)}}return r}complete(){var e=this;return(0,g.Z)(function*(){const r=yield function r_(l,e,r,s){return eu.apply(this,arguments)}(e.localStore,new cp(e.serializer),e.documents,e.oa.id),s=e.aa(e.documents);for(const d of e.queries)yield Gh(e.localStore,d,s.get(d.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:r}})()}}function l_(l){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:l.totalDocuments,totalBytes:l.totalBytes}}class qu{constructor(e){this.key=e}}class Lg{constructor(e){this.key=e}}class Vg{constructor(e,r){this.query=e,this.la=r,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=sr(),this.mutatedKeys=sr(),this.Ia=Ws(e),this.Ta=new Yd(this.Ia)}get Ea(){return this.la}da(e,r){const s=r?r.Aa:new Oi,d=r?r.Ta:this.Ta;let y=r?r.mutatedKeys:this.mutatedKeys,b=d,R=!1;const V="F"===this.query.limitType&&d.size===this.query.limit?d.last():null,Y="L"===this.query.limitType&&d.size===this.query.limit?d.first():null;if(e.inorderTraversal((ie,ye)=>{const ke=d.get(ie),ot=va(this.query,ye)?ye:null,xt=!!ke&&this.mutatedKeys.has(ke.key),Wt=!!ot&&(ot.hasLocalMutations||this.mutatedKeys.has(ot.key)&&ot.hasCommittedMutations);let Ut=!1;ke&&ot?ke.data.isEqual(ot.data)?xt!==Wt&&(s.track({type:3,doc:ot}),Ut=!0):this.Ra(ke,ot)||(s.track({type:2,doc:ot}),Ut=!0,(V&&this.Ia(ot,V)>0||Y&&this.Ia(ot,Y)<0)&&(R=!0)):!ke&&ot?(s.track({type:0,doc:ot}),Ut=!0):ke&&!ot&&(s.track({type:1,doc:ke}),Ut=!0,(V||Y)&&(R=!0)),Ut&&(ot?(b=b.add(ot),y=Wt?y.add(ie):y.delete(ie)):(b=b.delete(ie),y=y.delete(ie)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const ie="F"===this.query.limitType?b.last():b.first();b=b.delete(ie.key),y=y.delete(ie.key),s.track({type:1,doc:ie})}return{Ta:b,Aa:s,Xi:R,mutatedKeys:y}}Ra(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,d){const y=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const b=e.Aa.Q_();b.sort((ie,ye)=>function(ot,xt){const Wt=Ut=>{switch(Ut){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt()}};return Wt(ot)-Wt(xt)}(ie.type,ye.type)||this.Ia(ie.doc,ye.doc)),this.Va(s),d=null!=d&&d;const R=r&&!d?this.ma():[],V=0===this.Pa.size&&this.current&&!d?1:0,Y=V!==this.ha;return this.ha=V,0!==b.length||Y?{snapshot:new pi(this.query,e.Ta,y,b,e.mutatedKeys,0===V,Y,!1,!!s&&s.resumeToken.approximateByteSize()>0),fa:R}:{fa:R}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Oi,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(r=>this.la=this.la.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.la=this.la.delete(r)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=sr(),this.Ta.forEach(s=>{this.ga(s.key)&&(this.Pa=this.Pa.add(s.key))});const r=[];return e.forEach(s=>{this.Pa.has(s)||r.push(new Lg(s))}),this.Pa.forEach(s=>{e.has(s)||r.push(new qu(s))}),r}pa(e){this.la=e.hs,this.Pa=sr();const r=this.da(e.documents);return this.applyChanges(r,!0)}ya(){return pi.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class rf{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class sf{constructor(e){this.key=e,this.wa=!1}}class Js{constructor(e,r,s,d,y,b){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=d,this.currentUser=y,this.maxConcurrentLimboResolutions=b,this.Sa={},this.ba=new ns(R=>Xc(R),$a),this.Da=new Map,this.Ca=new Set,this.va=new Br(kt.comparator),this.Fa=new Map,this.Ma=new Yl,this.xa={},this.Oa=new Map,this.Na=Tc.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function up(l,e){return af.apply(this,arguments)}function af(){return(af=(0,g.Z)(function*(l,e,r=!0){const s=wp(l);let d;const y=s.ba.get(e);return y?(s.sharedClientState.addLocalQueryTarget(y.targetId),d=y.view.ya()):d=yield u_(s,e,r,!0),d})).apply(this,arguments)}function Ug(l,e){return Bg.apply(this,arguments)}function Bg(){return(Bg=(0,g.Z)(function*(l,e){const r=wp(l);yield u_(r,e,!0,!1)})).apply(this,arguments)}function u_(l,e,r,s){return cf.apply(this,arguments)}function cf(){return(cf=(0,g.Z)(function*(l,e,r,s){const d=yield Xl(l.localStore,ri(e)),y=d.targetId,b=r?l.sharedClientState.addLocalQueryTarget(y):"not-current";let R;return s&&(R=yield Wu(l,e,y,"current"===b,d.resumeToken)),l.isPrimaryClient&&r&&gl(l.remoteStore,d),R})).apply(this,arguments)}function Wu(l,e,r,s,d){return Nc.apply(this,arguments)}function Nc(){return Nc=(0,g.Z)(function*(l,e,r,s,d){l.Ba=(ye,ke,ot)=>{return(xt=(0,g.Z)(function*(Ut,An,$n,Sn){let lr=An.view.da($n);lr.Xi&&(lr=yield $h(Ut.localStore,An.query,!1).then(({documents:Re})=>An.view.da(Re,lr)));const Hr=Sn&&Sn.targetChanges.get(An.targetId),Er=Sn&&null!=Sn.targetMismatches.get(An.targetId),Ke=An.view.applyChanges(lr,Ut.isPrimaryClient,Hr,Er);return Gg(Ut,An.targetId,Ke.fa),Ke.snapshot}),function Wt(Ut,An,$n,Sn){return xt.apply(this,arguments)})(l,ye,ke,ot);var xt};const y=yield $h(l.localStore,e,!0),b=new Vg(e,y.hs),R=b.da(y.documents),V=sl.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==l.onlineState,d),Y=b.applyChanges(R,l.isPrimaryClient,V);Gg(l,r,Y.fa);const ie=new rf(e,r,b);return l.ba.set(e,ie),l.Da.has(r)?l.Da.get(r).push(e):l.Da.set(r,[e]),Y.snapshot}),Nc.apply(this,arguments)}function dp(l,e,r){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,g.Z)(function*(l,e,r){const s=at(l),d=s.ba.get(e),y=s.Da.get(d.targetId);if(y.length>1)return s.Da.set(d.targetId,y.filter(b=>!$a(b,e))),void s.ba.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(d.targetId),s.sharedClientState.isActiveQueryTarget(d.targetId)||(yield tc(s.localStore,d.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(d.targetId),r&&Pc(s.remoteStore,d.targetId),ou(s,d.targetId)}).catch(fr))):(ou(s,d.targetId),yield tc(s.localStore,d.targetId,!0))})).apply(this,arguments)}function yl(l,e){return jg.apply(this,arguments)}function jg(){return(jg=(0,g.Z)(function*(l,e){const r=at(l),s=r.ba.get(e),d=r.Da.get(s.targetId);r.isPrimaryClient&&1===d.length&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),Pc(r.remoteStore,s.targetId))})).apply(this,arguments)}function hp(){return(hp=(0,g.Z)(function*(l,e,r){const s=Pa(l);try{const d=yield function(b,R){const V=at(b),Y=Dn.now(),ie=R.reduce((ot,xt)=>ot.add(xt.key),sr());let ye,ke;return V.persistence.runTransaction("Locally write mutations","readwrite",ot=>{let xt=Cr(),Wt=sr();return V.os.getEntries(ot,ie).next(Ut=>{xt=Ut,xt.forEach((An,$n)=>{$n.isValidDocument()||(Wt=Wt.add(An))})}).next(()=>V.localDocuments.getOverlayedDocuments(ot,xt)).next(Ut=>{ye=Ut;const An=[];for(const $n of R){const Sn=ht($n,ye.get($n.key).overlayedDocument);null!=Sn&&An.push(new wr($n.key,Sn,mi(Sn.value.mapValue),Yr.exists(!0)))}return V.mutationQueue.addMutationBatch(ot,Y,An,R)}).next(Ut=>{ke=Ut;const An=Ut.applyToLocalDocumentSet(ye,Wt);return V.documentOverlayCache.saveOverlays(ot,Ut.batchId,An)})}).then(()=>({batchId:ke.batchId,changes:wu(ye)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(d.batchId),function(b,R,V){let Y=b.xa[b.currentUser.toKey()];Y||(Y=new Br(qt)),Y=Y.insert(R,V),b.xa[b.currentUser.toKey()]=Y}(s,d.batchId,r),yield kc(s,d.changes),yield Kd(s.remoteStore)}catch(d){const y=$u(d,"Failed to persist write");r.reject(y)}})).apply(this,arguments)}function Hg(l,e){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,g.Z)(function*(l,e){const r=at(l);try{const s=yield function Po(l,e){const r=at(l),s=e.snapshotVersion;let d=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",y=>{const b=r.os.newChangeBuffer({trackRemovals:!0});d=r.ns;const R=[];e.targetChanges.forEach((ie,ye)=>{const ke=d.get(ye);if(!ke)return;R.push(r.Qr.removeMatchingKeys(y,ie.removedDocuments,ye).next(()=>r.Qr.addMatchingKeys(y,ie.addedDocuments,ye)));let ot=ke.withSequenceNumber(y.currentSequenceNumber);var Wt,Ut,An;null!==e.targetMismatches.get(ye)?ot=ot.withResumeToken(ei.EMPTY_BYTE_STRING,Kt.min()).withLastLimboFreeSnapshotVersion(Kt.min()):ie.resumeToken.approximateByteSize()>0&&(ot=ot.withResumeToken(ie.resumeToken,s)),d=d.insert(ye,ot),Ut=ot,An=ie,(0===(Wt=ke).resumeToken.approximateByteSize()||Ut.snapshotVersion.toMicroseconds()-Wt.snapshotVersion.toMicroseconds()>=3e8||An.addedDocuments.size+An.modifiedDocuments.size+An.removedDocuments.size>0)&&R.push(r.Qr.updateTargetData(y,ot))});let V=Cr(),Y=sr();if(e.documentUpdates.forEach(ie=>{e.resolvedLimboDocuments.has(ie)&&R.push(r.persistence.referenceDelegate.updateLimboDocument(y,ie))}),R.push(Hh(y,b,e.documentUpdates).next(ie=>{V=ie.cs,Y=ie.ls})),!s.isEqual(Kt.min())){const ie=r.Qr.getLastRemoteSnapshotVersion(y).next(ye=>r.Qr.setTargetsMetadata(y,y.currentSequenceNumber,s));R.push(ie)}return qe.waitFor(R).next(()=>b.apply(y)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,V,Y)).next(()=>V)}).then(y=>(r.ns=d,y))}(r.localStore,e);e.targetChanges.forEach((d,y)=>{const b=r.Fa.get(y);b&&(Nt(d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size<=1),d.addedDocuments.size>0?b.wa=!0:d.modifiedDocuments.size>0?Nt(b.wa):d.removedDocuments.size>0&&(Nt(b.wa),b.wa=!1))}),yield kc(r,s,e)}catch(s){yield fr(s)}})).apply(this,arguments)}function $g(l,e,r){const s=at(l);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const d=[];s.ba.forEach((y,b)=>{const R=b.view.j_(e);R.snapshot&&d.push(R.snapshot)}),function(b,R){const V=at(b);V.onlineState=R;let Y=!1;V.queries.forEach((ie,ye)=>{for(const ke of ye.U_)ke.j_(R)&&(Y=!0)}),Y&&nf(V)}(s.eventManager,e),d.length&&s.Sa.h_(d),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function zg(l,e,r){return fp.apply(this,arguments)}function fp(){return(fp=(0,g.Z)(function*(l,e,r){const s=at(l);s.sharedClientState.updateQueryState(e,"rejected",r);const d=s.Fa.get(e),y=d&&d.key;if(y){let b=new Br(kt.comparator);b=b.insert(y,kn.newNoDocument(y,Kt.min()));const R=sr().add(y),V=new Rs(Kt.min(),new Map,new Br(qt),b,R);yield Hg(s,V),s.va=s.va.remove(y),s.Fa.delete(e),yp(s)}else yield tc(s.localStore,e,!1).then(()=>ou(s,e,r)).catch(fr)})).apply(this,arguments)}function pp(l,e){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,g.Z)(function*(l,e){const r=at(l),s=e.batch.batchId;try{const d=yield function Ac(l,e){const r=at(l);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const d=e.batch.keys(),y=r.os.newChangeBuffer({trackRemovals:!0});return function(R,V,Y,ie){const ye=Y.batch,ke=ye.keys();let ot=qe.resolve();return ke.forEach(xt=>{ot=ot.next(()=>ie.getEntry(V,xt)).next(Wt=>{const Ut=Y.docVersions.get(xt);Nt(null!==Ut),Wt.version.compareTo(Ut)<0&&(ye.applyToRemoteDocument(Wt,Y),Wt.isValidDocument()&&(Wt.setReadTime(Y.commitVersion),ie.addEntry(Wt)))})}),ot.next(()=>R.mutationQueue.removeMutationBatch(V,ye))}(r,s,e,y).next(()=>y.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,d,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(R){let V=sr();for(let Y=0;Y<R.mutationResults.length;++Y)R.mutationResults[Y].transformResults.length>0&&(V=V.add(R.batch.mutations[Y].key));return V}(e))).next(()=>r.localDocuments.getDocuments(s,d))})}(r.localStore,e);El(r,s,null),Xs(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield kc(r,d)}catch(d){yield fr(d)}})).apply(this,arguments)}function d_(l,e,r){return lf.apply(this,arguments)}function lf(){return(lf=(0,g.Z)(function*(l,e,r){const s=at(l);try{const d=yield function(b,R){const V=at(b);return V.persistence.runTransaction("Reject batch","readwrite-primary",Y=>{let ie;return V.mutationQueue.lookupMutationBatch(Y,R).next(ye=>(Nt(null!==ye),ie=ye.keys(),V.mutationQueue.removeMutationBatch(Y,ye))).next(()=>V.mutationQueue.performConsistencyCheck(Y)).next(()=>V.documentOverlayCache.removeOverlaysForBatchId(Y,ie,R)).next(()=>V.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Y,ie)).next(()=>V.localDocuments.getDocuments(Y,ie))})}(s.localStore,e);El(s,e,r),Xs(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield kc(s,d)}catch(d){yield fr(d)}})).apply(this,arguments)}function mp(){return(mp=(0,g.Z)(function*(l,e){const r=at(l);Rc(r.remoteStore)||ge("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(b){const R=at(b);return R.persistence.runTransaction("Get highest unacknowledged batch id","readonly",V=>R.mutationQueue.getHighestUnacknowledgedBatchId(V))}(r.localStore);if(-1===s)return void e.resolve();const d=r.Oa.get(s)||[];d.push(e),r.Oa.set(s,d)}catch(s){const d=$u(s,"Initialization of waitForPendingWrites() operation failed");e.reject(d)}})).apply(this,arguments)}function Xs(l,e){(l.Oa.get(e)||[]).forEach(r=>{r.resolve()}),l.Oa.delete(e)}function El(l,e,r){const s=at(l);let d=s.xa[s.currentUser.toKey()];if(d){const y=d.get(e);y&&(r?y.reject(r):y.resolve(),d=d.remove(e)),s.xa[s.currentUser.toKey()]=d}}function ou(l,e,r=null){l.sharedClientState.removeLocalQueryTarget(e);for(const s of l.Da.get(e))l.ba.delete(s),r&&l.Sa.ka(s,r);l.Da.delete(e),l.isPrimaryClient&&l.Ma.Vr(e).forEach(s=>{l.Ma.containsKey(s)||_p(l,s)})}function _p(l,e){l.Ca.delete(e.path.canonicalString());const r=l.va.get(e);null!==r&&(Pc(l.remoteStore,r),l.va=l.va.remove(e),l.Fa.delete(r),yp(l))}function Gg(l,e,r){for(const s of r)s instanceof qu?(l.Ma.addReference(s.key,e),h_(l,s)):s instanceof Lg?(ge("SyncEngine","Document no longer in limbo: "+s.key),l.Ma.removeReference(s.key,e),l.Ma.containsKey(s.key)||_p(l,s.key)):bt()}function h_(l,e){const r=e.key,s=r.path.canonicalString();l.va.get(r)||l.Ca.has(s)||(ge("SyncEngine","New document in limbo: "+r),l.Ca.add(s),yp(l))}function yp(l){for(;l.Ca.size>0&&l.va.size<l.maxConcurrentLimboResolutions;){const e=l.Ca.values().next().value;l.Ca.delete(e);const r=new kt(Cn.fromString(e)),s=l.Na.next();l.Fa.set(s,new sf(r)),l.va=l.va.insert(r,s),gl(l.remoteStore,new ct(ri(Me(r.path)),s,"TargetPurposeLimboResolution",F.oe))}}function kc(l,e,r){return vp.apply(this,arguments)}function vp(){return vp=(0,g.Z)(function*(l,e,r){const s=at(l),d=[],y=[],b=[];var R;s.ba.isEmpty()||(s.ba.forEach((R,V)=>{b.push(s.Ba(V,e,r).then(Y=>{if((Y||r)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(V.targetId,Y&&!Y.fromCache?"current":"not-current"),Y){d.push(Y);const ie=Os.Ki(V.targetId,Y);y.push(ie)}}))}),yield Promise.all(b),s.Sa.h_(d),yield(R=(0,g.Z)(function*(Y,ie){const ye=at(Y);try{yield ye.persistence.runTransaction("notifyLocalViewChanges","readwrite",ke=>qe.forEach(ie,ot=>qe.forEach(ot.qi,xt=>ye.persistence.referenceDelegate.addReference(ke,ot.targetId,xt)).next(()=>qe.forEach(ot.Qi,xt=>ye.persistence.referenceDelegate.removeReference(ke,ot.targetId,xt)))))}catch(ke){if(!Mn(ke))throw ke;ge("LocalStore","Failed to update sequence numbers: "+ke)}for(const ke of ie){const ot=ke.targetId;if(!ke.fromCache){const xt=ye.ns.get(ot),Ut=xt.withLastLimboFreeSnapshotVersion(xt.snapshotVersion);ye.ns=ye.ns.insert(ot,Ut)}}}),function V(Y,ie){return R.apply(this,arguments)})(s.localStore,y))}),vp.apply(this,arguments)}function Ep(l,e){return qo.apply(this,arguments)}function qo(){return(qo=(0,g.Z)(function*(l,e){const r=at(l);if(!r.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const s=yield Uh(r.localStore,e);r.currentUser=e,(y=r).Oa.forEach(R=>{R.forEach(V=>{V.reject(new _e(Ne.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),y.Oa.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield kc(r,s.us)}var y})).apply(this,arguments)}function au(l,e){const r=at(l),s=r.Fa.get(e);if(s&&s.wa)return sr().add(s.key);{let d=sr();const y=r.Da.get(e);if(!y)return d;for(const b of y){const R=r.ba.get(b);d=d.unionWith(R.view.Ea)}return d}}function Fy(l,e){return qg.apply(this,arguments)}function qg(){return(qg=(0,g.Z)(function*(l,e){const r=at(l),s=yield $h(r.localStore,e.query,!0),d=e.view.pa(s);return r.isPrimaryClient&&Gg(r,e.targetId,d.fa),d})).apply(this,arguments)}function Ly(l,e){return Wg.apply(this,arguments)}function Wg(){return(Wg=(0,g.Z)(function*(l,e){const r=at(l);return Xf(r.localStore,e).then(s=>kc(r,s))})).apply(this,arguments)}function eo(l,e,r,s){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,g.Z)(function*(l,e,r,s){const d=at(l),y=yield function(R,V){const Y=at(R),ie=at(Y.mutationQueue);return Y.persistence.runTransaction("Lookup mutation documents","readonly",ye=>ie.vn(ye,V).next(ke=>ke?Y.localDocuments.getDocuments(ye,ke):qe.resolve(null)))}(d.localStore,e);var V;null!==y?("pending"===r?yield Kd(d.remoteStore):"acknowledged"===r||"rejected"===r?(El(d,e,s||null),Xs(d,e),V=e,at(at(d.localStore).mutationQueue).Mn(V)):bt(),yield kc(d,y)):ge("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Fc(){return(Fc=(0,g.Z)(function*(l,e){const r=at(l);if(wp(r),Pa(r),!0===e&&!0!==r.La){const s=r.sharedClientState.getAllActiveQueryTargets(),d=yield Ip(r,s.toArray());r.La=!0,yield xo(r.remoteStore,!0);for(const y of d)gl(r.remoteStore,y)}else if(!1===e&&!1!==r.La){const s=[];let d=Promise.resolve();r.Da.forEach((y,b)=>{r.sharedClientState.isLocalQueryTarget(b)?s.push(b):d=d.then(()=>(ou(r,b),tc(r.localStore,b,!0))),Pc(r.remoteStore,b)}),yield d,yield Ip(r,s),function(b){const R=at(b);R.Fa.forEach((V,Y)=>{Pc(R.remoteStore,Y)}),R.Ma.mr(),R.Fa=new Map,R.va=new Br(kt.comparator)}(r),r.La=!1,yield xo(r.remoteStore,!1)}})).apply(this,arguments)}function Ip(l,e,r){return bp.apply(this,arguments)}function bp(){return(bp=(0,g.Z)(function*(l,e,r){const s=at(l),d=[],y=[];for(const b of e){let R;const V=s.Da.get(b);if(V&&0!==V.length){R=yield Xl(s.localStore,ri(V[0]));for(const Y of V){const ie=s.ba.get(Y),ye=yield Fy(s,ie);ye.snapshot&&y.push(ye.snapshot)}}else{const Y=yield zh(s.localStore,b);R=yield Xl(s.localStore,Y),yield Wu(s,Tp(Y),b,!1,R.resumeToken)}d.push(R)}return s.Sa.h_(y),d})).apply(this,arguments)}function Tp(l){return ce(l.path,l.collectionGroup,l.orderBy,l.filters,l.limit,"F",l.startAt,l.endAt)}function f_(l){return r=at(l).localStore,at(at(r).persistence).Bi();var r}function Il(l,e,r,s){return Cp.apply(this,arguments)}function Cp(){return(Cp=(0,g.Z)(function*(l,e,r,s){const d=at(l);if(d.La)return void ge("SyncEngine","Ignoring unexpected query state notification.");const y=d.Da.get(e);if(y&&y.length>0)switch(r){case"current":case"not-current":{const b=yield Xf(d.localStore,el(y[0])),R=Rs.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,ei.EMPTY_BYTE_STRING);yield kc(d,b,R);break}case"rejected":yield tc(d.localStore,e,!0),ou(d,e,s);break;default:bt()}})).apply(this,arguments)}function p_(l,e,r){return Zg.apply(this,arguments)}function Zg(){return(Zg=(0,g.Z)(function*(l,e,r){const s=wp(l);if(s.La){for(const d of e){if(s.Da.has(d)&&s.sharedClientState.isActiveQueryTarget(d)){ge("SyncEngine","Adding an already active target "+d);continue}const y=yield zh(s.localStore,d),b=yield Xl(s.localStore,y);yield Wu(s,Tp(y),b.targetId,!1,b.resumeToken),gl(s.remoteStore,b)}for(const d of r)s.Da.has(d)&&(yield tc(s.localStore,d,!1).then(()=>{Pc(s.remoteStore,d),ou(s,d)}).catch(fr))}})).apply(this,arguments)}function wp(l){const e=at(l);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=au.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zg.bind(null,e),e.Sa.h_=ky.bind(null,e.eventManager),e.Sa.ka=kg.bind(null,e.eventManager),e}function Pa(l){const e=at(l);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=d_.bind(null,e),e}class fa{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,g.Z)(function*(){r.serializer=Be(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return Jl(this.persistence,new fl,e.initialUser,this.serializer)}createPersistence(e){return new wg(Yf.Hr,this.serializer)}createSharedClientState(e){return new Ag}terminate(){var e=this;return(0,g.Z)(function*(){var r,s;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(s=e.indexBackfillerScheduler)||void 0===s||s.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Kg extends fa{constructor(e,r,s){super(),this.Qa=e,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,s=this;return(0,g.Z)(function*(){yield r().call(s,e),yield s.Qa.initialize(s,e),yield Pa(s.Qa.syncEngine),yield Kd(s.Qa.remoteStore),yield s.persistence.fi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Jl(this.persistence,new fl,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new Bd(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const s=new B(r,this.persistence);return new $(e.asyncQueue,s)}createPersistence(e){const r=Jf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?ms.withCacheSize(this.cacheSizeBytes):ms.DEFAULT;return new Yi(this.synchronizeTabs,r,e.clientId,s,e.asyncQueue,Q(),le(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Ag}}class Yu extends Kg{constructor(e,r){super(e,r,!1),this.Qa=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,s=this;return(0,g.Z)(function*(){yield r().call(s,e);const d=s.Qa.syncEngine;s.sharedClientState instanceof rp&&(s.sharedClientState.syncEngine={Zs:eo.bind(null,d),Xs:Il.bind(null,d),eo:p_.bind(null,d),Bi:f_.bind(null,d),Ys:Ly.bind(null,d)},yield s.sharedClientState.start()),yield s.persistence.fi(function(){var y=(0,g.Z)(function*(b){yield function eh(l,e){return Fc.apply(this,arguments)}(s.Qa.syncEngine,b),s.gcScheduler&&(b&&!s.gcScheduler.started?s.gcScheduler.start():b||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(b&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():b||s.indexBackfillerScheduler.stop())});return function(b){return y.apply(this,arguments)}}())})()}createSharedClientState(e){const r=Q();if(!rp.D(r))throw new _e(Ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Jf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new rp(r,e.asyncQueue,s,e.clientId,e.initialUser)}}class Lc{initialize(e,r){var s=this;return(0,g.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=d=>$g(s.syncEngine,d,1),s.remoteStore.remoteSyncer.handleCredentialChange=Ep.bind(null,s.syncEngine),yield xo(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ef}createDatastore(e){const r=Be(e.databaseInfo.databaseId),s=new M(e.databaseInfo);return new yr(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return s=this.localStore,d=this.datastore,y=e.asyncQueue,b=r=>$g(this.syncEngine,r,0),R=Vu.D()?new Vu:new iu,new Sc(s,d,y,b,R);var s,d,y,b,R}createSyncEngine(e,r){return function(d,y,b,R,V,Y,ie){const ye=new Js(d,y,b,R,V,Y);return ie&&(ye.La=!0),ye}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,g.Z)(function*(){var r,s;yield(s=(0,g.Z)(function*(y){const b=at(y);ge("RemoteStore","RemoteStore shutting down."),b.M_.add(5),yield pl(b),b.O_.shutdown(),b.N_.set("Unknown")}),function d(y){return s.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}function Yg(l,e=10240){let r=0;return{read:()=>(0,g.Z)(function*(){if(r<l.byteLength){const s={value:l.slice(r,r+e),done:!1};return r+=e,s}return{done:!0}})(),cancel:()=>(0,g.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Ap{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Et("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class Qg{constructor(e,r){this.Ua=e,this.serializer=r,this.metadata=new Ve,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(s=>{s&&s.sa()?this.metadata.resolve(s.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.ia)}`))},s=>this.metadata.reject(s))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,g.Z)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,g.Z)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,g.Z)(function*(){const r=yield e.za();if(null===r)return null;const s=e.Wa.decode(r),d=Number(s);isNaN(d)&&e.ja(`length string (${s}) is not valid number`);const y=yield e.Ha(d);return new Fg(JSON.parse(y),r.length+d)})()}Ja(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}za(){var e=this;return(0,g.Z)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const r=e.Ja();r<0&&e.ja("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),s})()}Ha(e){var r=this;return(0,g.Z)(function*(){for(;r.buffer.length<e;)(yield r.Ya())&&r.ja("Reached the end of bundle when more is expected.");const s=r.Wa.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),s})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,g.Z)(function*(){const r=yield e.Ua.read();if(!r.done){const s=new Uint8Array(e.buffer.length+r.value.length);s.set(e.buffer),s.set(r.value,e.buffer.length),e.buffer=s}return r.done})()}}class Uy{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,g.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new _e(Ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const s=yield(d=(0,g.Z)(function*(b,R){const V=at(b),Y={documents:R.map(ot=>Dd(V.serializer,ot))},ie=yield V.xo("BatchGetDocuments",V.serializer.databaseId,Cn.emptyPath(),Y,R.length),ye=new Map;ie.forEach(ot=>{const xt=function Bi(l,e){return"found"in e?function(s,d){Nt(!!d.found);const y=Ho(s,d.found.name),b=Ti(d.found.updateTime),R=d.found.createTime?Ti(d.found.createTime):Kt.min(),V=new or({mapValue:{fields:d.found.fields}});return kn.newFoundDocument(y,b,R,V)}(l,e):"missing"in e?function(s,d){Nt(!!d.missing),Nt(!!d.readTime);const y=Ho(s,d.missing),b=Ti(d.readTime);return kn.newNoDocument(y,b)}(l,e):bt()}(V.serializer,ot);ye.set(xt.key.toString(),xt)});const ke=[];return R.forEach(ot=>{const xt=ye.get(ot.toString());Nt(!!xt),ke.push(xt)}),ke}),function y(b,R){return d.apply(this,arguments)})(r.datastore,e);var d;return s.forEach(d=>r.recordVersion(d)),s})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Wr(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,g.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var s;e.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,d)=>{const y=kt.fromPath(d);e.mutations.push(new Or(y,e.precondition(y)))}),yield(s=(0,g.Z)(function*(y,b){const R=at(y),V={writes:b.map(Y=>Ts(R.serializer,Y))};yield R.Co("Commit",R.serializer.databaseId,Cn.emptyPath(),V)}),function d(y,b){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw bt();r=Kt.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!r.isEqual(s))throw new _e(Ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Kt.min())?Yr.exists(!1):Yr.updateTime(r):Yr.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Kt.min()))throw new _e(Ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yr.updateTime(r)}return Yr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class By{constructor(e,r,s,d,y){this.asyncQueue=e,this.datastore=r,this.options=s,this.updateFunction=d,this.deferred=y,this.Za=s.maxAttempts,this.Yo=new lt(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Yo.$o((0,g.Z)(function*(){const r=new Uy(e.datastore),s=e.tu(r);s&&s.then(d=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(d)}).catch(y=>{e.nu(y)}))}).catch(d=>{e.nu(d)})}))}tu(e){try{const r=this.updateFunction(e);return!he(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!ca(r)}return!1}}class jy{constructor(e,r,s,d){var y=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=d,this.user=rt.UNAUTHENTICATED,this.clientId=Nn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var b=(0,g.Z)(function*(R){ge("FirestoreClient","Received user=",R.uid),yield y.authCredentialListener(R),y.user=R});return function(R){return b.apply(this,arguments)}}()),this.appCheckCredentials.start(s,b=>(ge("FirestoreClient","Received new app check token=",b),this.appCheckCredentialListener(b,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new _e(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Ve;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,g.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const d=$u(s,"Failed to shutdown persistence");r.reject(d)}})),r.promise}}function Dp(l,e){return Qu.apply(this,arguments)}function Qu(){return Qu=(0,g.Z)(function*(l,e){l.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const r=l.configuration;yield e.initialize(r);let s=r.initialUser;l.setCredentialChangeListener(function(){var d=(0,g.Z)(function*(y){s.isEqual(y)||(yield Uh(e.localStore,y),s=y)});return function(y){return d.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>l.terminate()),l._offlineComponents=e}),Qu.apply(this,arguments)}function Ra(l,e){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,g.Z)(function*(l,e){l.asyncQueue.verifyOperationInProgress();const r=yield Sp(l);ge("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,l.configuration),l.setCredentialChangeListener(s=>is(e.remoteStore,s)),l.setAppCheckTokenChangeListener((s,d)=>is(e.remoteStore,d)),l._onlineComponents=e})).apply(this,arguments)}function uf(l){return"FirebaseError"===l.name?l.code===Ne.FAILED_PRECONDITION||l.code===Ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code}function Sp(l){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,g.Z)(function*(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Dp(l,l._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!uf(r))throw r;Ht("Error using user provided cache. Falling back to memory cache: "+r),yield Dp(l,new fa)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),yield Dp(l,new fa);return l._offlineComponents})).apply(this,arguments)}function Pp(l){return g_.apply(this,arguments)}function g_(){return(g_=(0,g.Z)(function*(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ra(l,l._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),yield Ra(l,new Lc))),l._onlineComponents})).apply(this,arguments)}function Hy(l){return Sp(l).then(e=>e.persistence)}function ss(l){return Sp(l).then(e=>e.localStore)}function th(l){return Pp(l).then(e=>e.remoteStore)}function m_(l){return Pp(l).then(e=>e.syncEngine)}function cu(l){return Jg.apply(this,arguments)}function Jg(){return(Jg=(0,g.Z)(function*(l){const e=yield Pp(l),r=e.eventManager;return r.onListen=up.bind(null,e.syncEngine),r.onUnlisten=dp.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Ug.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=yl.bind(null,e.syncEngine),r})).apply(this,arguments)}function Xg(l,e,r={}){const s=new Ve;return l.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function(y,b,R,V,Y){const ie=new Ap({next:ke=>{b.enqueueAndForget(()=>zu(y,ye));const ot=ke.docs.has(R);!ot&&ke.fromCache?Y.reject(new _e(Ne.UNAVAILABLE,"Failed to get document because the client is offline.")):ot&&ke.fromCache&&V&&"server"===V.source?Y.reject(new _e(Ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Y.resolve(ke)},error:ke=>Y.reject(ke)}),ye=new Qd(Me(R.path),ie,{includeMetadataChanges:!0,ra:!0});return tf(y,ye)}(yield cu(l),l.asyncQueue,e,r,s)})),s.promise}function em(l,e,r={}){const s=new Ve;return l.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function(y,b,R,V,Y){const ie=new Ap({next:ke=>{b.enqueueAndForget(()=>zu(y,ye)),ke.fromCache&&"server"===V.source?Y.reject(new _e(Ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Y.resolve(ke)},error:ke=>Y.reject(ke)}),ye=new Qd(R,ie,{includeMetadataChanges:!0,ra:!0});return tf(y,ye)}(yield cu(l),l.asyncQueue,e,r,s)})),s.promise}function v_(l){const e={};return void 0!==l.timeoutSeconds&&(e.timeoutSeconds=l.timeoutSeconds),e}const nm=new Map;function df(l,e,r){if(!r)throw new _e(Ne.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${e}.`)}function rm(l,e,r,s){if(!0===e&&!0===s)throw new _e(Ne.INVALID_ARGUMENT,`${l} and ${r} cannot be used together.`)}function im(l){if(!kt.isDocumentKey(l))throw new _e(Ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function qy(l){if(kt.isDocumentKey(l))throw new _e(Ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function sm(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const e=(s=l).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof l?"a function":bt()}function vr(l,e){if("_delegate"in l&&(l=l._delegate),!(l instanceof e)){if(e.name===l.constructor.name)throw new _e(Ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=sm(l);throw new _e(Ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return l}function ed(l,e){if(e<=0)throw new _e(Ne.INVALID_ARGUMENT,`Function ${l}() requires a positive number, but it was: ${e}.`)}class om{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new _e(Ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new _e(Ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=v_(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(y){if(void 0!==y.timeoutSeconds){if(isNaN(y.timeoutSeconds))throw new _e(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (must not be NaN)`);if(y.timeoutSeconds<5)throw new _e(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (minimum allowed value is 5)`);if(y.timeoutSeconds>30)throw new _e(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rh{constructor(e,r,s,d){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=d,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new om({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new _e(Ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new _e(Ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new om(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new Xe;switch(s.type){case"firstParty":return new $t(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _e(Ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=nm.get(r);s&&(ge("ComponentProvider","Removing Datastore"),nm.delete(r),s.terminate())}(this),Promise.resolve()}}function hf(l,e,r,s={}){var d;const y=(l=vr(l,rh))._getSettings(),b=`${e}:${r}`;if("firestore.googleapis.com"!==y.host&&y.host!==b&&Ht("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),l._setSettings(Object.assign(Object.assign({},y),{host:b,ssl:!1})),s.mockUserToken){let R,V;if("string"==typeof s.mockUserToken)R=s.mockUserToken,V=rt.MOCK_USER;else{R=(0,Ee.Sg)(s.mockUserToken,null===(d=l._app)||void 0===d?void 0:d.options.projectId);const Y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!Y)throw new _e(Ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");V=new rt(Y)}l._authCredentials=new gt(new et(R,V))}}class zs{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new zs(this.firestore,e,this._query)}}class Qi{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qi(this.firestore,e,this._key)}}class rc extends zs{constructor(e,r,s){super(e,r,Me(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qi(this.firestore,null,new kt(e))}withConverter(e){return new rc(this.firestore,e,this._path)}}function Op(l,e,...r){if(l=(0,Ee.m9)(l),df("collection","path",e),l instanceof rh){const s=Cn.fromString(e,...r);return qy(s),new rc(l,null,s)}{if(!(l instanceof Qi||l instanceof rc))throw new _e(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(Cn.fromString(e,...r));return qy(s),new rc(l.firestore,null,s)}}function ff(l,e){if(l=vr(l,rh),df("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new _e(Ne.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new zs(l,null,(s=e,new L(Cn.emptyPath(),s)));var s}function E_(l,e,...r){if(l=(0,Ee.m9)(l),1===arguments.length&&(e=Nn.newId()),df("doc","path",e),l instanceof rh){const s=Cn.fromString(e,...r);return im(s),new Qi(l,null,new kt(s))}{if(!(l instanceof Qi||l instanceof rc))throw new _e(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(Cn.fromString(e,...r));return im(s),new Qi(l.firestore,l instanceof rc?l.converter:null,new kt(s))}}function Np(l,e){return l=(0,Ee.m9)(l),e=(0,Ee.m9)(e),(l instanceof Qi||l instanceof rc)&&(e instanceof Qi||e instanceof rc)&&l.firestore===e.firestore&&l.path===e.path&&l.converter===e.converter}function I_(l,e){return l=(0,Ee.m9)(l),e=(0,Ee.m9)(e),l instanceof zs&&e instanceof zs&&l.firestore===e.firestore&&$a(l._query,e._query)&&l.converter===e.converter}class b_{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new lt(this,"async_queue_retry"),this.hu=()=>{const r=le();r&&ge("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Yo.Wo()};const e=le();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const r=le();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const r=new Ve;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,g.Z)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(r){if(!Mn(r))throw r;ge("AsyncQueue","Operation failed with retryable error: "+r)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const r=this.iu.then(()=>(this.uu=!0,e().catch(s=>{throw this.au=s,this.uu=!1,Et("INTERNAL UNHANDLED ERROR: ",function(b){let R=b.message||"";return b.stack&&(R=b.stack.includes(b.message)?b.stack:b.message+"\n"+b.stack),R}(s)),s}).then(s=>(this.uu=!1,s))));return this.iu=r,r}enqueueAfterDelay(e,r,s){this.Pu(),this.lu.indexOf(e)>-1&&(r=0);const d=Rg.createAndSchedule(this,e,r,s,y=>this.Eu(y));return this._u.push(d),d}Pu(){this.au&&bt()}verifyOperationInProgress(){}du(){var e=this;return(0,g.Z)(function*(){let r;do{r=e.iu,yield r}while(r!==e.iu)})()}Au(e){for(const r of this._u)if(r.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this._u)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const r=this._u.indexOf(e);this._u.splice(r,1)}}function am(l){return function(r,s){if("object"!=typeof r||null===r)return!1;const d=r;for(const y of["next","error","complete"])if(y in d&&"function"==typeof d[y])return!0;return!1}(l)}class T_{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ve,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,s){this._progressObserver={next:e,error:r,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const td=-1;class vi extends rh{constructor(e,r,s,d){super(e,r,s,d),this.type="firestore",this._queue=new b_,this._persistenceKey=d?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Fp(this),this._firestoreClient.terminate()}}function kp(l,e){const r="object"==typeof l?l:(0,u.getApp)(),s="string"==typeof l?l:e||"(default)",d=(0,u._getProvider)(r,"firestore").getImmediate({identifier:s});if(!d._initialized){const y=(0,Ee.P0)("firestore");y&&hf(d,...y)}return d}function Hi(l){return l._firestoreClient||Fp(l),l._firestoreClient.verifyNotTerminated(),l._firestoreClient}function Fp(l){var e,r,s;const d=l._freezeSettings(),y=(V=(null===(e=l._app)||void 0===e?void 0:e.options.appId)||"",new wo(l._databaseId,V,l._persistenceKey,(ie=d).host,ie.ssl,ie.experimentalForceLongPolling,ie.experimentalAutoDetectLongPolling,v_(ie.experimentalLongPollingOptions),ie.useFetchStreams));var V,ie;l._firestoreClient=new jy(l._authCredentials,l._appCheckCredentials,l._queue,y),null!==(r=d.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(s=d.localCache)&&void 0!==s&&s._onlineComponentProvider&&(l._firestoreClient._uninitializedComponentsProvider={_offlineKind:d.localCache.kind,_offline:d.localCache._offlineComponentProvider,_online:d.localCache._onlineComponentProvider})}function pf(l,e){cm(l=vr(l,vi));const r=Hi(l);if(r._uninitializedComponentsProvider)throw new _e(Ne.FAILED_PRECONDITION,"SDK cache is already specified.");Ht("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=l._freezeSettings(),d=new Lc;return nd(r,d,new Kg(d,s.cacheSizeBytes,e?.forceOwnership))}function Uc(l){cm(l=vr(l,vi));const e=Hi(l);if(e._uninitializedComponentsProvider)throw new _e(Ne.FAILED_PRECONDITION,"SDK cache is already specified.");Ht("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=l._freezeSettings(),s=new Lc;return nd(e,s,new Yu(s,r.cacheSizeBytes))}function nd(l,e,r){const s=new Ve;return l.asyncQueue.enqueue((0,g.Z)(function*(){try{yield Dp(l,r),yield Ra(l,e),s.resolve()}catch(d){const y=d;if(!uf(y))throw y;Ht("Error enabling indexeddb cache. Falling back to memory cache: "+y),s.reject(y)}})).then(()=>s.promise)}function Lp(l){if(l._initialized&&!l._terminated)throw new _e(Ne.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ve;return l._queue.enqueueAndForgetEvenWhileRestricted((0,g.Z)(function*(){try{yield(r=(0,g.Z)(function*(d){if(!oe.D())return Promise.resolve();const y=d+"main";yield oe.delete(y)}),function s(d){return r.apply(this,arguments)})(Jf(l._databaseId,l._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function Wv(l){return function(r){const s=new Ve;return r.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function gp(l,e){return mp.apply(this,arguments)}(yield m_(r),s)})),s.promise}(Hi(l=vr(l,vi)))}function Zv(l){return function $y(l){return l.asyncQueue.enqueue((0,g.Z)(function*(){const e=yield Hy(l),r=yield th(l);return e.setNetworkEnabled(!0),function(d){const y=at(d);return y.M_.delete(0),Mc(y)}(r)}))}(Hi(l=vr(l,vi)))}function w_(l){return function nc(l){return l.asyncQueue.enqueue((0,g.Z)(function*(){const e=yield Hy(l),r=yield th(l);return e.setNetworkEnabled(!1),(s=(0,g.Z)(function*(y){const b=at(y);b.M_.add(0),yield pl(b),b.N_.set("Offline")}),function d(y){return s.apply(this,arguments)})(r);var s}))}(Hi(l=vr(l,vi)))}function Vp(l,e){const r=Hi(l=vr(l,vi)),s=new T_;return function Xu(l,e,r,s){const d=function(b,R){let V;return V="string"==typeof b?Ia().encode(b):b,ie=function(ie,ye){if(ie instanceof Uint8Array)return Yg(ie,void 0);if(ie instanceof ArrayBuffer)return Yg(new Uint8Array(ie),void 0);if(ie instanceof ReadableStream)return ie.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(V),new Qg(ie,R);var ie}(r,Be(e));l.asyncQueue.enqueueAndForget((0,g.Z)(function*(){!function $s(l,e,r){const s=at(l);var d;(d=(0,g.Z)(function*(b,R,V){try{const Y=yield R.getMetadata();if(yield function(xt,Wt){const Ut=at(xt),An=Ti(Wt.createTime);return Ut.persistence.runTransaction("hasNewerBundle","readonly",$n=>Ut.$r.getBundleMetadata($n,Wt.id)).then($n=>!!$n&&$n.createTime.compareTo(An)>=0)}(b.localStore,Y))return yield R.close(),V._completeWith({taskState:"Success",documentsLoaded:(xt=Y).totalDocuments,bytesLoaded:xt.totalBytes,totalDocuments:xt.totalDocuments,totalBytes:xt.totalBytes}),Promise.resolve(new Set);V._updateProgress(l_(Y));const ie=new lp(Y,b.localStore,R.serializer);let ye=yield R.qa();for(;ye;){const ot=yield ie._a(ye);ot&&V._updateProgress(ot),ye=yield R.qa()}const ke=yield ie.complete();return yield kc(b,ke.ca,void 0),yield function(xt,Wt){const Ut=at(xt);return Ut.persistence.runTransaction("Save bundle","readwrite",An=>Ut.$r.saveBundleMetadata(An,Wt))}(b.localStore,Y),V._completeWith(ke.progress),Promise.resolve(ke.ua)}catch(Y){return Ht("SyncEngine",`Loading bundle failed with ${Y}`),V._failWith(Y),Promise.resolve(new Set)}var xt}),function y(b,R,V){return d.apply(this,arguments)})(s,e,r).then(d=>{s.sharedClientState.notifyBundleLoaded(d)})}(yield m_(l),d,s)}))}(r,l._databaseId,e,s),s}function A_(l,e){return function Gy(l,e){return l.asyncQueue.enqueue((0,g.Z)(function*(){return function(s,d){const y=at(s);return y.persistence.runTransaction("Get named query","readonly",b=>y.$r.getNamedQuery(b,d))}(yield ss(l),e)}))}(Hi(l=vr(l,vi)),e).then(r=>r?new zs(l,null,r.query):null)}function cm(l){if(l._initialized||l._terminated)throw new _e(Ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class bl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bl(ei.fromBase64String(e))}catch(r){throw new _e(Ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new bl(ei.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Tl{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new _e(Ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ih{constructor(e){this._methodName=e}}class Up{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new _e(Ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new _e(Ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qt(this._lat,e._lat)||qt(this._long,e._long)}}const Wy=/^__.*__$/;class Zy{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new wr(e,this.data,this.fieldMask,r,this.fieldTransforms):new vn(e,this.data,r,this.fieldTransforms)}}class Ky{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new wr(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function S_(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt()}}class Bc{constructor(e,r,s,d,y,b){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=d,void 0===y&&this.mu(),this.fieldTransforms=y||[],this.fieldMask=b||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Bc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),d=this.gu({path:s,yu:!1});return d.wu(e),d}Su(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),d=this.gu({path:s,yu:!1});return d.mu(),d}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return uh(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(S_(this.fu)&&Wy.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class Yy{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||Be(e)}Fu(e,r,s,d=!1){return new Bc({fu:e,methodName:r,vu:s,path:Hn.emptyPath(),yu:!1,Cu:d},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cl(l){const e=l._freezeSettings(),r=Be(l._databaseId);return new Yy(l._databaseId,!!e.ignoreUndefinedProperties,r)}function sh(l,e,r,s,d,y={}){const b=l.Fu(y.merge||y.mergeFields?2:0,e,r,d);um("Data must be an object, but it was:",b,s);const R=jp(s,b);let V,Y;if(y.merge)V=new bi(b.fieldMask),Y=b.fieldTransforms;else if(y.mergeFields){const ie=[];for(const ye of y.mergeFields){const ke=lh(e,ye,r);if(!b.contains(ke))throw new _e(Ne.INVALID_ARGUMENT,`Field '${ke}' is specified in your field mask but missing from your input data.`);$p(ie,ke)||ie.push(ke)}V=new bi(ie),Y=b.fieldTransforms.filter(ye=>V.covers(ye.field))}else V=null,Y=b.fieldTransforms;return new Zy(new or(R),V,Y)}class jc extends ih{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jc}}function mf(l,e,r){return new Bc({fu:3,vu:e.settings.vu,methodName:l._methodName,yu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Bp extends ih{_toFieldTransform(e){return new Wa(e.path,new rl)}isEqual(e){return e instanceof Bp}}class rd extends ih{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=mf(this,e,!0),s=this.Mu.map(y=>lu(y,r)),d=new oa(s);return new Wa(e.path,d)}isEqual(e){return e instanceof rd&&(0,Ee.vZ)(this.Mu,e.Mu)}}class oh extends ih{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=mf(this,e,!0),s=this.Mu.map(y=>lu(y,r)),d=new Vo(s);return new Wa(e.path,d)}isEqual(e){return e instanceof oh&&(0,Ee.vZ)(this.Mu,e.Mu)}}class Hc extends ih{constructor(e,r){super(e),this.xu=r}_toFieldTransform(e){const r=new qa(e.serializer,Ga(e.serializer,this.xu));return new Wa(e.path,r)}isEqual(e){return e instanceof Hc&&this.xu===e.xu}}function _f(l,e,r,s){const d=l.Fu(1,e,r);um("Data must be an object, but it was:",d,s);const y=[],b=or.empty();Ji(s,(V,Y)=>{const ie=Hp(e,V,r);Y=(0,Ee.m9)(Y);const ye=d.Su(ie);if(Y instanceof jc)y.push(ie);else{const ke=lu(Y,ye);null!=ke&&(y.push(ie),b.set(ie,ke))}});const R=new bi(y);return new Ky(b,R,d.fieldTransforms)}function ah(l,e,r,s,d,y){const b=l.Fu(1,e,r),R=[lh(e,s,r)],V=[d];if(y.length%2!=0)throw new _e(Ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ke=0;ke<y.length;ke+=2)R.push(lh(e,y[ke])),V.push(y[ke+1]);const Y=[],ie=or.empty();for(let ke=R.length-1;ke>=0;--ke)if(!$p(Y,R[ke])){const ot=R[ke];let xt=V[ke];xt=(0,Ee.m9)(xt);const Wt=b.Su(ot);if(xt instanceof jc)Y.push(ot);else{const Ut=lu(xt,Wt);null!=Ut&&(Y.push(ot),ie.set(ot,Ut))}}const ye=new bi(Y);return new Ky(ie,ye,b.fieldTransforms)}function yf(l,e,r,s=!1){return lu(r,l.Fu(s?4:3,e))}function lu(l,e){if(ch(l=(0,Ee.m9)(l)))return um("Unsupported field value:",e,l),jp(l,e);if(l instanceof ih)return function(s,d){if(!S_(d.fu))throw d.Du(`${s._methodName}() can only be used with update() and set()`);if(!d.path)throw d.Du(`${s._methodName}() is not currently supported inside arrays`);const y=s._toFieldTransform(d);y&&d.fieldTransforms.push(y)}(l,e),null;if(void 0===l&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),l instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(s,d){const y=[];let b=0;for(const R of s){let V=lu(R,d.bu(b));null==V&&(V={nullValue:"NULL_VALUE"}),y.push(V),b++}return{arrayValue:{values:y}}}(l,e)}return function(s,d){if(null===(s=(0,Ee.m9)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return Ga(d.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const y=Dn.fromDate(s);return{timestampValue:Za(d.serializer,y)}}if(s instanceof Dn){const y=new Dn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Za(d.serializer,y)}}if(s instanceof Up)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof bl)return{bytesValue:Rh(d.serializer,s._byteString)};if(s instanceof Qi){const y=d.databaseId,b=s.firestore._databaseId;if(!b.isEqual(y))throw d.Du(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${y.projectId}/${y.database}`);return{referenceValue:Ka(s.firestore._databaseId||d.databaseId,s._key.path)}}throw d.Du(`Unsupported field value: ${sm(s)}`)}(l,e)}function jp(l,e){const r={};return Ua(l)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ji(l,(s,d)=>{const y=lu(d,e.pu(s));null!=y&&(r[s]=y)}),{mapValue:{fields:r}}}function ch(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof Dn||l instanceof Up||l instanceof bl||l instanceof Qi||l instanceof ih)}function um(l,e,r){if(!ch(r)||"object"!=typeof(d=r)||null===d||Object.getPrototypeOf(d)!==Object.prototype&&null!==Object.getPrototypeOf(d)){const s=sm(r);throw e.Du("an object"===s?l+" a custom object":l+" "+s)}var d}function lh(l,e,r){if((e=(0,Ee.m9)(e))instanceof Tl)return e._internalPath;if("string"==typeof e)return Hp(l,e);throw uh("Field path arguments must be of type string or ",l,!1,void 0,r)}const Qy=new RegExp("[~\\*/\\[\\]]");function Hp(l,e,r){if(e.search(Qy)>=0)throw uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,r);try{return new Tl(...e.split("."))._internalPath}catch{throw uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,r)}}function uh(l,e,r,s,d){const y=s&&!s.isEmpty(),b=void 0!==d;let R=`Function ${e}() called with invalid data`;r&&(R+=" (via `toFirestore()`)"),R+=". ";let V="";return(y||b)&&(V+=" (found",y&&(V+=` in field ${s}`),b&&(V+=` in document ${d}`),V+=")"),new _e(Ne.INVALID_ARGUMENT,R+l+V)}function $p(l,e){return l.some(r=>r.isEqual(e))}class vf{constructor(e,r,s,d,y){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=d,this._converter=y}get id(){return this._key.path.lastSegment()}get ref(){return new Qi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Jy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(dm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class Jy extends vf{data(){return super.data()}}function dm(l,e){return"string"==typeof e?Hp(l,e):e instanceof Tl?e._internalPath:e._delegate._internalPath}function M_(l){if("L"===l.limitType&&0===l.explicitOrderBy.length)throw new _e(Ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dh{}class id extends dh{}function Xy(l,e,...r){let s=[];e instanceof dh&&s.push(e),s=s.concat(r),function(y){const b=y.filter(V=>V instanceof wl).length,R=y.filter(V=>V instanceof hh).length;if(b>1||b>0&&R>0)throw new _e(Ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const d of s)l=d._apply(l);return l}class hh extends id{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new hh(e,r,s)}_apply(e){const r=this._parse(e);return x_(e._query,r),new zs(e.firestore,e.converter,dc(e._query,r))}_parse(e){const r=Cl(e.firestore);return function(y,b,R,V,Y,ie,ye){let ke;if(Y.isKeyField()){if("array-contains"===ie||"array-contains-any"===ie)throw new _e(Ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ie}' queries on documentId().`);if("in"===ie||"not-in"===ie){R_(ye,ie);const ot=[];for(const xt of ye)ot.push(rv(V,y,xt));ke={arrayValue:{values:ot}}}else ke=rv(V,y,ye)}else"in"!==ie&&"not-in"!==ie&&"array-contains-any"!==ie||R_(ye,ie),ke=yf(R,"where",ye,"in"===ie||"not-in"===ie);return Kn.create(Y,ie,ke)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function hm(l,e,r){const s=e,d=dm("where",l);return hh._create(d,s,r)}class wl extends dh{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new wl(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:ar.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(d,y){let b=d;const R=y.getFlattenedFilters();for(const V of R)x_(b,V),b=dc(b,V)}(e._query,r),new zs(e.firestore,e.converter,dc(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class fm extends id{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new fm(e,r)}_apply(e){const r=function(d,y,b){if(null!==d.startAt)throw new _e(Ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==d.endAt)throw new _e(Ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Is(y,b)}(e._query,this._field,this._direction);return new zs(e.firestore,e.converter,function(d,y){const b=d.explicitOrderBy.concat([y]);return new L(d.path,d.collectionGroup,b,d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(e._query,r))}}function P_(l,e="asc"){const r=e,s=dm("orderBy",l);return fm._create(s,r)}class pm extends id{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new pm(e,r,s)}_apply(e){return new zs(e.firestore,e.converter,hc(e._query,this._limit,this._limitType))}}function tv(l){return ed("limit",l),pm._create("limit",l,"F")}function zp(l){return ed("limitToLast",l),pm._create("limitToLast",l,"L")}class Gp extends id{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new Gp(e,r,s)}_apply(e){const r=gm(e,this.type,this._docOrFields,this._inclusive);return new zs(e.firestore,e.converter,(y=r,new L((d=e._query).path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,y,d.endAt)));var d,y}}function fh(...l){return Gp._create("startAt",l,!0)}function Ef(...l){return Gp._create("startAfter",l,!1)}class If extends id{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new If(e,r,s)}_apply(e){const r=gm(e,this.type,this._docOrFields,this._inclusive);return new zs(e.firestore,e.converter,(y=r,new L((d=e._query).path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,y)));var d,y}}function bf(...l){return If._create("endBefore",l,!1)}function nv(...l){return If._create("endAt",l,!0)}function gm(l,e,r,s){if(r[0]=(0,Ee.m9)(r[0]),r[0]instanceof vf)return function(y,b,R,V,Y){if(!V)throw new _e(Ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${R}().`);const ie=[];for(const ye of ts(y))if(ye.field.isKeyField())ie.push(Xt(b,V.key));else{const ke=V.data.field(ye.field);if(ys(ke))throw new _e(Ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ye.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ke){const ot=ye.field.canonicalString();throw new _e(Ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ot}' (used as the orderBy) does not exist.`)}ie.push(ke)}return new Xi(ie,Y)}(l._query,l.firestore._databaseId,e,r[0]._document,s);{const d=Cl(l.firestore);return function(b,R,V,Y,ie,ye){const ke=b.explicitOrderBy;if(ie.length>ke.length)throw new _e(Ne.INVALID_ARGUMENT,`Too many arguments provided to ${Y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ot=[];for(let xt=0;xt<ie.length;xt++){const Wt=ie[xt];if(ke[xt].field.isKeyField()){if("string"!=typeof Wt)throw new _e(Ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Y}(), but got a ${typeof Wt}`);if(!cr(b)&&-1!==Wt.indexOf("/"))throw new _e(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Y}() must be a plain document ID, but '${Wt}' contains a slash.`);const Ut=b.path.child(Cn.fromString(Wt));if(!kt.isDocumentKey(Ut))throw new _e(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Y}() must result in a valid document path, but '${Ut}' is not because it contains an odd number of segments.`);const An=new kt(Ut);ot.push(Xt(R,An))}else{const Ut=yf(V,Y,Wt);ot.push(Ut)}}return new Xi(ot,ye)}(l._query,l.firestore._databaseId,d,e,r,s)}}function rv(l,e,r){if("string"==typeof(r=(0,Ee.m9)(r))){if(""===r)throw new _e(Ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cr(e)&&-1!==r.indexOf("/"))throw new _e(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(Cn.fromString(r));if(!kt.isDocumentKey(s))throw new _e(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Xt(l,new kt(s))}if(r instanceof Qi)return Xt(l,r._key);throw new _e(Ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sm(r)}.`)}function R_(l,e){if(!Array.isArray(l)||0===l.length)throw new _e(Ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function x_(l,e){const r=function(d,y){for(const b of d)for(const R of b.getFlattenedFilters())if(y.indexOf(R.op)>=0)return R.op;return null}(l.filters,function(d){switch(d){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new _e(Ne.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class O_{convertValue(e,r="none"){switch(Mi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ti(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw bt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return Ji(e,(d,y)=>{s[d]=this.convertValue(y,r)}),s}convertGeoPoint(e){return new Up(ti(e.latitude),ti(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=ao(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Si(e));default:return null}}convertTimestamp(e){const r=cs(e);return new Dn(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=Cn.fromString(e);Nt(Ce(s));const d=new Pn(s.get(1),s.get(3)),y=new kt(s.popFirst(5));return d.isEqual(r)||Et(`Document ${y} contains a document reference within a different database (${d.projectId}/${d.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),y}}function ph(l,e,r){let s;return s=l?r&&(r.merge||r.mergeFields)?l.toFirestore(e,r):l.toFirestore(e):e,s}class N_ extends O_{constructor(e){super(),this.firestore=e}convertBytes(e){return new bl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Qi(this.firestore,null,r)}}class sd{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class No extends vf{constructor(e,r,s,d,y,b){super(e,r,s,d,b),this._firestore=e,this._firestoreImpl=e,this.metadata=y}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new _m(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(dm("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class _m extends No{data(e={}){return super.data(e)}}class od{constructor(e,r,s,d){this._firestore=e,this._userDataWriter=r,this._snapshot=d,this.metadata=new sd(d.hasPendingWrites,d.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new _m(this._firestore,this._userDataWriter,s.key,s,new sd(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new _e(Ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(d,y){if(d._snapshot.oldDocs.isEmpty()){let b=0;return d._snapshot.docChanges.map(R=>({type:"added",doc:new _m(d._firestore,d._userDataWriter,R.doc.key,R.doc,new sd(d._snapshot.mutatedKeys.has(R.doc.key),d._snapshot.fromCache),d.query.converter),oldIndex:-1,newIndex:b++}))}{let b=d._snapshot.oldDocs;return d._snapshot.docChanges.filter(R=>y||3!==R.type).map(R=>{const V=new _m(d._firestore,d._userDataWriter,R.doc.key,R.doc,new sd(d._snapshot.mutatedKeys.has(R.doc.key),d._snapshot.fromCache),d.query.converter);let Y=-1,ie=-1;return 0!==R.type&&(Y=b.indexOf(R.doc.key),b=b.delete(R.doc.key)),1!==R.type&&(b=b.add(R.doc),ie=b.indexOf(R.doc.key)),{type:iv(R.type),doc:V,oldIndex:Y,newIndex:ie}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function iv(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt()}}function xa(l,e){return l instanceof No&&e instanceof No?l._firestore===e._firestore&&l._key.isEqual(e._key)&&(null===l._document?null===e._document:l._document.isEqual(e._document))&&l._converter===e._converter:l instanceof od&&e instanceof od&&l._firestore===e._firestore&&I_(l.query,e.query)&&l.metadata.isEqual(e.metadata)&&l._snapshot.isEqual(e._snapshot)}function ym(l){l=vr(l,Qi);const e=vr(l.firestore,vi);return Xg(Hi(e),l._key).then(r=>Im(e,l,r))}class gh extends O_{constructor(e){super(),this.firestore=e}convertBytes(e){return new bl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Qi(this.firestore,null,r)}}function L_(l){l=vr(l,Qi);const e=vr(l.firestore,vi),r=Hi(e),s=new gh(e);return function zy(l,e){const r=new Ve;return l.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return(s=(0,g.Z)(function*(y,b,R){try{const V=yield function(ie,ye){const ke=at(ie);return ke.persistence.runTransaction("read document","readonly",ot=>ke.localDocuments.getDocument(ot,ye))}(y,b);V.isFoundDocument()?R.resolve(V):V.isNoDocument()?R.resolve(null):R.reject(new _e(Ne.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(V){const Y=$u(V,`Failed to get document '${b} from cache`);R.reject(Y)}}),function d(y,b,R){return s.apply(this,arguments)})(yield ss(l),e,r);var s})),r.promise}(r,l._key).then(d=>new No(e,s,l._key,d,new sd(null!==d&&d.hasLocalMutations,!0),l.converter))}function ad(l){l=vr(l,Qi);const e=vr(l.firestore,vi);return Xg(Hi(e),l._key,{source:"server"}).then(r=>Im(e,l,r))}function V_(l){l=vr(l,zs);const e=vr(l.firestore,vi),r=Hi(e),s=new gh(e);return M_(l._query),em(r,l._query).then(d=>new od(e,s,l,d))}function Xv(l){l=vr(l,zs);const e=vr(l.firestore,vi),r=Hi(e),s=new gh(e);return function Rp(l,e){const r=new Ve;return l.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return(s=(0,g.Z)(function*(y,b,R){try{const V=yield $h(y,b,!0),Y=new Vg(b,V.hs),ie=Y.da(V.documents),ye=Y.applyChanges(ie,!1);R.resolve(ye.snapshot)}catch(V){const Y=$u(V,`Failed to execute query '${b} against cache`);R.reject(Y)}}),function d(y,b,R){return s.apply(this,arguments)})(yield ss(l),e,r);var s})),r.promise}(r,l._query).then(d=>new od(e,s,l,d))}function BE(l){l=vr(l,zs);const e=vr(l.firestore,vi),r=Hi(e),s=new gh(e);return em(r,l._query,{source:"server"}).then(d=>new od(e,s,l,d))}function eE(l,e,r){l=vr(l,Qi);const s=vr(l.firestore,vi),d=ph(l.converter,e,r);return $i(s,[sh(Cl(s),"setDoc",l._key,d,null!==l.converter,r).toMutation(l._key,Yr.none())])}function U_(l,e,r,...s){l=vr(l,Qi);const d=vr(l.firestore,vi),y=Cl(d);let b;return b="string"==typeof(e=(0,Ee.m9)(e))||e instanceof Tl?ah(y,"updateDoc",l._key,e,r,s):_f(y,"updateDoc",l._key,e),$i(d,[b.toMutation(l._key,Yr.exists(!0))])}function Wo(l){return $i(vr(l.firestore,vi),[new Wr(l._key,Yr.none())])}function vm(l,e){const r=vr(l.firestore,vi),s=E_(l),d=ph(l.converter,e);return $i(r,[sh(Cl(l.firestore),"addDoc",s._key,d,null!==l.converter,{}).toMutation(s._key,Yr.exists(!1))]).then(()=>s)}function Em(l,...e){var r,s,d;l=(0,Ee.m9)(l);let y={includeMetadataChanges:!1,source:"default"},b=0;"object"!=typeof e[b]||am(e[b])||(y=e[b],b++);const R={includeMetadataChanges:y.includeMetadataChanges,source:y.source};if(am(e[b])){const ye=e[b];e[b]=null===(r=ye.next)||void 0===r?void 0:r.bind(ye),e[b+1]=null===(s=ye.error)||void 0===s?void 0:s.bind(ye),e[b+2]=null===(d=ye.complete)||void 0===d?void 0:d.bind(ye)}let V,Y,ie;if(l instanceof Qi)Y=vr(l.firestore,vi),ie=Me(l._key.path),V={next:ye=>{e[b]&&e[b](Im(Y,l,ye))},error:e[b+1],complete:e[b+2]};else{const ye=vr(l,zs);Y=vr(ye.firestore,vi),ie=ye._query;const ke=new gh(Y);V={next:ot=>{e[b]&&e[b](new od(Y,ke,ye,ot))},error:e[b+1],complete:e[b+2]},M_(l._query)}return function(ke,ot,xt,Wt){const Ut=new Ap(Wt),An=new Qd(ot,Ut,xt);return ke.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return tf(yield cu(ke),An)})),()=>{Ut.$a(),ke.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return zu(yield cu(ke),An)}))}}(Hi(Y),ie,R,V)}function jE(l,e){return function Ju(l,e){const r=new Ap(e);return l.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return d=yield cu(l),y=r,at(d).z_.add(y),void y.next();var d,y})),()=>{r.$a(),l.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return d=yield cu(l),y=r,void at(d).z_.delete(y);var d,y}))}}(Hi(l=vr(l,vi)),am(e)?e:{next:e})}function $i(l,e){return function(s,d){const y=new Ve;return s.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function vl(l,e,r){return hp.apply(this,arguments)}(yield m_(s),d,y)})),y.promise}(Hi(l),e)}function Im(l,e,r){const s=r.docs.get(e._key),d=new gh(l);return new No(l,d,e._key,s,new sd(r.hasPendingWrites,r.fromCache),e.converter)}const Al={maxAttempts:5};class cd{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Cl(e)}set(e,r,s){this._verifyNotCommitted();const d=uu(e,this._firestore),y=ph(d.converter,r,s),b=sh(this._dataReader,"WriteBatch.set",d._key,y,null!==d.converter,s);return this._mutations.push(b.toMutation(d._key,Yr.none())),this}update(e,r,s,...d){this._verifyNotCommitted();const y=uu(e,this._firestore);let b;return b="string"==typeof(r=(0,Ee.m9)(r))||r instanceof Tl?ah(this._dataReader,"WriteBatch.update",y._key,r,s,d):_f(this._dataReader,"WriteBatch.update",y._key,r),this._mutations.push(b.toMutation(y._key,Yr.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=uu(e,this._firestore);return this._mutations=this._mutations.concat(new Wr(r._key,Yr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _e(Ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function uu(l,e){if((l=(0,Ee.m9)(l)).firestore!==e)throw new _e(Ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}class dv extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=Cl(r)}get(r){const s=uu(r,this._firestore),d=new N_(this._firestore);return this._transaction.lookup([s._key]).then(y=>{if(!y||1!==y.length)return bt();const b=y[0];if(b.isFoundDocument())return new vf(this._firestore,d,b.key,b,s.converter);if(b.isNoDocument())return new vf(this._firestore,d,s._key,null,s.converter);throw bt()})}set(r,s,d){const y=uu(r,this._firestore),b=ph(y.converter,s,d),R=sh(this._dataReader,"Transaction.set",y._key,b,null!==y.converter,d);return this._transaction.set(y._key,R),this}update(r,s,d,...y){const b=uu(r,this._firestore);let R;return R="string"==typeof(s=(0,Ee.m9)(s))||s instanceof Tl?ah(this._dataReader,"Transaction.update",b._key,s,d,y):_f(this._dataReader,"Transaction.update",b._key,s),this._transaction.update(b._key,R),this}delete(r){const s=uu(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=uu(e,this._firestore),s=new gh(this._firestore);return super.get(e).then(d=>new No(this._firestore,s,r._key,d._document,new sd(!1,!1),r.converter))}}function z_(l,e,r){l=vr(l,vi);const s=Object.assign(Object.assign({},Al),r);return function(y){if(y.maxAttempts<1)throw new _e(Ne.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(y,b,R){const V=new Ve;return y.asyncQueue.enqueueAndForget((0,g.Z)(function*(){const Y=yield function nh(l){return Pp(l).then(e=>e.datastore)}(y);new By(y.asyncQueue,Y,R,b,V).Xa()})),V.promise}(Hi(l),d=>e(new dv(l,d)),s)}function G_(){return new jc("deleteField")}function Tm(){return new Bp("serverTimestamp")}function Cf(...l){return new rd("arrayUnion",l)}function qp(...l){return new oh("arrayRemove",l)}function q_(l){return new Hc("increment",l)}!function(e,r=!0){$e=u.SDK_VERSION,(0,u._registerComponent)(new W.wA("firestore",(s,{instanceIdentifier:d,options:y})=>{const b=s.getProvider("app").getImmediate(),R=new vi(new vt(s.getProvider("auth-internal")),new hn(s.getProvider("app-check-internal")),function(Y,ie){if(!Object.prototype.hasOwnProperty.apply(Y.options,["projectId"]))throw new _e(Ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pn(Y.options.projectId,ie)}(b,d),b);return y=Object.assign({useFetchStreams:r},y),R._setSettings(y),R},"PUBLIC").setMultipleInstances(!0)),(0,u.registerVersion)(ze,"4.6.3",e),(0,u.registerVersion)(ze,"4.6.3","esm2017")}()},9058:(Qt,We,H)=>{H.d(We,{$s:()=>jt,BH:()=>$e,G6:()=>Ne,L:()=>xe,LL:()=>vt,P0:()=>Ze,Pz:()=>rt,Sg:()=>it,UG:()=>ge,ZB:()=>Oe,ZR:()=>gt,aH:()=>ze,b$:()=>zn,eu:()=>Ve,hl:()=>_e,jU:()=>Et,m9:()=>Ft,ne:()=>Nr,pd:()=>Fn,r3:()=>Tn,ru:()=>Ht,tV:()=>fe,uI:()=>Ye,vZ:()=>Cn,w1:()=>Nt,xO:()=>kt,xb:()=>Kt,z$:()=>Ct,zI:()=>et,zd:()=>En});const Ie=function(ue){const X=[];let $=0;for(let B=0;B<ue.length;B++){let F=ue.charCodeAt(B);F<128?X[$++]=F:F<2048?(X[$++]=F>>6|192,X[$++]=63&F|128):55296==(64512&F)&&B+1<ue.length&&56320==(64512&ue.charCodeAt(B+1))?(F=65536+((1023&F)<<10)+(1023&ue.charCodeAt(++B)),X[$++]=F>>18|240,X[$++]=F>>12&63|128,X[$++]=F>>6&63|128,X[$++]=63&F|128):(X[$++]=F>>12|224,X[$++]=F>>6&63|128,X[$++]=63&F|128)}return X},Pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ue,X){if(!Array.isArray(ue))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=X?this.byteToCharMapWebSafe_:this.byteToCharMap_,B=[];for(let F=0;F<ue.length;F+=3){const he=ue[F],Fe=F+1<ue.length,yt=Fe?ue[F+1]:0,Rt=F+2<ue.length,tn=Rt?ue[F+2]:0;let Jn=(15&yt)<<2|tn>>6,xn=63&tn;Rt||(xn=64,Fe||(Jn=64)),B.push($[he>>2],$[(3&he)<<4|yt>>4],$[Jn],$[xn])}return B.join("")},encodeString(ue,X){return this.HAS_NATIVE_SUPPORT&&!X?btoa(ue):this.encodeByteArray(Ie(ue),X)},decodeString(ue,X){return this.HAS_NATIVE_SUPPORT&&!X?atob(ue):function(ue){const X=[];let $=0,B=0;for(;$<ue.length;){const F=ue[$++];if(F<128)X[B++]=String.fromCharCode(F);else if(F>191&&F<224){const he=ue[$++];X[B++]=String.fromCharCode((31&F)<<6|63&he)}else if(F>239&&F<365){const Rt=((7&F)<<18|(63&ue[$++])<<12|(63&ue[$++])<<6|63&ue[$++])-65536;X[B++]=String.fromCharCode(55296+(Rt>>10)),X[B++]=String.fromCharCode(56320+(1023&Rt))}else{const he=ue[$++],Fe=ue[$++];X[B++]=String.fromCharCode((15&F)<<12|(63&he)<<6|63&Fe)}}return X.join("")}(this.decodeStringToByteArray(ue,X))},decodeStringToByteArray(ue,X){this.init_();const $=X?this.charToByteMapWebSafe_:this.charToByteMap_,B=[];for(let F=0;F<ue.length;){const he=$[ue.charAt(F++)],yt=F<ue.length?$[ue.charAt(F)]:0;++F;const tn=F<ue.length?$[ue.charAt(F)]:64;++F;const an=F<ue.length?$[ue.charAt(F)]:64;if(++F,null==he||null==yt||null==tn||null==an)throw new me;B.push(he<<2|yt>>4),64!==tn&&(B.push(yt<<4&240|tn>>2),64!==an&&B.push(tn<<6&192|an))}return B},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ue=0;ue<this.ENCODED_VALS.length;ue++)this.byteToCharMap_[ue]=this.ENCODED_VALS.charAt(ue),this.charToByteMap_[this.byteToCharMap_[ue]]=ue,this.byteToCharMapWebSafe_[ue]=this.ENCODED_VALS_WEBSAFE.charAt(ue),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ue]]=ue,ue>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ue)]=ue,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ue)]=ue)}}};class me extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xe=function(ue){return function(ue){const X=Ie(ue);return Pe.encodeByteArray(X,!0)}(ue).replace(/\./g,"")},fe=function(ue){try{return Pe.decodeString(ue,!0)}catch(X){console.error("base64Decode failed: ",X)}return null};function Oe(ue,X){if(!(X instanceof Object))return X;switch(X.constructor){case Date:return new Date(X.getTime());case Object:void 0===ue&&(ue={});break;case Array:ue=[];break;default:return X}for(const $ in X)!X.hasOwnProperty($)||!pt($)||(ue[$]=Oe(ue[$],X[$]));return ue}function pt(ue){return"__proto__"!==ue}const _t=()=>{try{return function Je(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ue=process.env.__FIREBASE_DEFAULTS__;return ue?JSON.parse(ue):void 0})()||(()=>{if(typeof document>"u")return;let ue;try{ue=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const X=ue&&fe(ue[1]);return X&&JSON.parse(X)})()}catch(ue){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ue}`)}},Ze=ue=>{const X=(ue=>{var X,$;return null===($=null===(X=_t())||void 0===X?void 0:X.emulatorHosts)||void 0===$?void 0:$[ue]})(ue);if(!X)return;const $=X.lastIndexOf(":");if($<=0||$+1===X.length)throw new Error(`Invalid host ${X} with no separate hostname and port!`);const B=parseInt(X.substring($+1),10);return"["===X[0]?[X.substring(1,$-1),B]:[X.substring(0,$),B]},ze=()=>{var ue;return null===(ue=_t())||void 0===ue?void 0:ue.config},rt=ue=>{var X;return null===(X=_t())||void 0===X?void 0:X[`_${ue}`]};class $e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((X,$)=>{this.resolve=X,this.reject=$})}wrapCallback(X){return($,B)=>{$?this.reject($):this.resolve(B),"function"==typeof X&&(this.promise.catch(()=>{}),1===X.length?X($):X($,B))}}}function it(ue,X){if(ue.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const B=X||"demo-project",F=ue.iat||0,he=ue.sub||ue.user_id;if(!he)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Fe=Object.assign({iss:`https://securetoken.google.com/${B}`,aud:B,iat:F,exp:F+3600,auth_time:F,sub:he,user_id:he,firebase:{sign_in_provider:"custom",identities:{}}},ue);return[xe(JSON.stringify({alg:"none",type:"JWT"})),xe(JSON.stringify(Fe)),""].join(".")}function Ct(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ye(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function ge(){var ue;const X=null===(ue=_t())||void 0===ue?void 0:ue.forceEnvironment;if("node"===X)return!0;if("browser"===X)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Et(){return"object"==typeof self&&self.self===self}function Ht(){const ue="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ue&&void 0!==ue.id}function zn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Nt(){const ue=Ct();return ue.indexOf("MSIE ")>=0||ue.indexOf("Trident/")>=0}function Ne(){return!ge()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _e(){try{return"object"==typeof indexedDB}catch{return!1}}function Ve(){return new Promise((ue,X)=>{try{let $=!0;const B="validate-browser-context-for-indexeddb-analytics-module",F=self.indexedDB.open(B);F.onsuccess=()=>{F.result.close(),$||self.indexedDB.deleteDatabase(B),ue(!0)},F.onupgradeneeded=()=>{$=!1},F.onerror=()=>{var he;X((null===(he=F.error)||void 0===he?void 0:he.message)||"")}}catch($){X($)}})}function et(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class gt extends Error{constructor(X,$,B){super($),this.code=X,this.customData=B,this.name="FirebaseError",Object.setPrototypeOf(this,gt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vt.prototype.create)}}class vt{constructor(X,$,B){this.service=X,this.serviceName=$,this.errors=B}create(X,...$){const B=$[0]||{},F=`${this.service}/${X}`,he=this.errors[X],Fe=he?function Jt(ue,X){return ue.replace($t,($,B)=>{const F=X[B];return null!=F?String(F):`<${B}?>`})}(he,B):"Error";return new gt(F,`${this.serviceName}: ${Fe} (${F}).`,B)}}const $t=/\{\$([^}]+)}/g;function Tn(ue,X){return Object.prototype.hasOwnProperty.call(ue,X)}function Kt(ue){for(const X in ue)if(Object.prototype.hasOwnProperty.call(ue,X))return!1;return!0}function Cn(ue,X){if(ue===X)return!0;const $=Object.keys(ue),B=Object.keys(X);for(const F of $){if(!B.includes(F))return!1;const he=ue[F],Fe=X[F];if(hr(he)&&hr(Fe)){if(!Cn(he,Fe))return!1}else if(he!==Fe)return!1}for(const F of B)if(!$.includes(F))return!1;return!0}function hr(ue){return null!==ue&&"object"==typeof ue}function kt(ue){const X=[];for(const[$,B]of Object.entries(ue))Array.isArray(B)?B.forEach(F=>{X.push(encodeURIComponent($)+"="+encodeURIComponent(F))}):X.push(encodeURIComponent($)+"="+encodeURIComponent(B));return X.length?"&"+X.join("&"):""}function En(ue){const X={};return ue.replace(/^\?/,"").split("&").forEach(B=>{if(B){const[F,he]=B.split("=");X[decodeURIComponent(F)]=decodeURIComponent(he)}}),X}function Fn(ue){const X=ue.indexOf("?");if(!X)return"";const $=ue.indexOf("#",X);return ue.substring(X,$>0?$:void 0)}function Nr(ue,X){const $=new Ar(ue,X);return $.subscribe.bind($)}class Ar{constructor(X,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{X(this)}).catch(B=>{this.error(B)})}next(X){this.forEachObserver($=>{$.next(X)})}error(X){this.forEachObserver($=>{$.error(X)}),this.close(X)}complete(){this.forEachObserver(X=>{X.complete()}),this.close()}subscribe(X,$,B){let F;if(void 0===X&&void 0===$&&void 0===B)throw new Error("Missing Observer.");F=function Bn(ue,X){if("object"!=typeof ue||null===ue)return!1;for(const $ of X)if($ in ue&&"function"==typeof ue[$])return!0;return!1}(X,["next","error","complete"])?X:{next:X,error:$,complete:B},void 0===F.next&&(F.next=Sr),void 0===F.error&&(F.error=Sr),void 0===F.complete&&(F.complete=Sr);const he=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?F.error(this.finalError):F.complete()}catch{}}),this.observers.push(F),he}unsubscribeOne(X){void 0===this.observers||void 0===this.observers[X]||(delete this.observers[X],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(X){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,X)}sendOne(X,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[X])try{$(this.observers[X])}catch(B){typeof console<"u"&&console.error&&console.error(B)}})}close(X){this.finalized||(this.finalized=!0,void 0!==X&&(this.finalError=X),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Sr(){}const Tt=1e3,oe=2,Se=144e5,ft=.5;function jt(ue,X=Tt,$=oe){const B=X*Math.pow($,ue),F=Math.round(ft*B*(Math.random()-.5)*2);return Math.min(Se,B+F)}function Ft(ue){return ue&&ue._delegate?ue._delegate:ue}},4626:(Qt,We,H)=>{H.d(We,{e:()=>Ae});var g=H(5861),u=H(2459),W=H(6306),Ie=H(7398),Ee=H(5879),Pe=H(981),me=H(3914);let Ae=(()=>{class xe{constructor(ve,Oe){this.afAuth=ve,this.router=Oe,this.user$=this.afAuth.authState}login(ve,Oe){return this.router.navigate(["/admin"]),(0,u.D)(this.afAuth.signInWithEmailAndPassword(ve,Oe)).pipe((0,W.K)(pt=>{throw console.error("Login error: ",pt),pt}))}logout(){var ve=this;return(0,g.Z)(function*(){yield ve.afAuth.signOut(),ve.router.navigate(["/login"])})()}isLoggedIn(){return this.user$.pipe((0,Ie.U)(ve=>!!ve))}static#e=this.\u0275fac=function(Oe){return new(Oe||xe)(Ee.LFG(Pe.zQ),Ee.LFG(me.F0))};static#t=this.\u0275prov=Ee.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"})}return xe})()},3375:(Qt,We,H)=>{H.d(We,{n:()=>W});var g=H(5879),u=H(7104);let W=(()=>{class Ie{constructor(Pe){this.firestore=Pe}getEvents(){return this.firestore.collection("Events",Pe=>Pe.orderBy("Community_Sponsor","desc")).valueChanges()}addEvent(Pe){const me=this.firestore.createId();return this.firestore.collection("Events").doc(me).set(Pe)}updateEvent(Pe,me){return this.eventsCollection.doc(Pe).update(me)}static#e=this.\u0275fac=function(me){return new(me||Ie)(g.LFG(u.ST))};static#t=this.\u0275prov=g.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}return Ie})()},8924:(Qt,We,H)=>{H.d(We,{b:()=>Ie});var g=H(7398),u=H(5879),W=H(7104);let Ie=(()=>{class Ee{constructor(me){this.firestore=me}getAllOffers(){return this.firestore.collection("Offers",me=>me.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,g.U)(me=>me.map(Ae=>{const xe=Ae.payload.doc.data();return{id:Ae.payload.doc.id,...xe}})))}getOffers(){return this.firestore.collection("Offers",me=>me.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,g.U)(me=>me.map(Ae=>{const xe=Ae.payload.doc.data();return{id:Ae.payload.doc.id,...xe}}))).pipe((0,g.U)(me=>me.filter(Ae=>1==Ae.Approved)))}addOffer(me){me.id=this.firestore.createId();const Ae=(new Date).toISOString().split("T")[0];return me.Date_Created=Ae,this.firestore.collection("Offers").doc(me.id).set(me)}getOffer(me){return this.firestore.collection("Offers").doc(me).valueChanges()}updateOffer(me,Ae){return console.log("Update Offer: "+me),this.firestore.collection("Offers").doc(me).update(Ae)}getAllOfferTypes(){return this.firestore.collection("OfferTypes").valueChanges().pipe((0,g.U)(me=>{const Ae=me.map(xe=>xe.OfferType);return Array.from(new Set(Ae))}))}getOfferById(me){return this.firestore.collection("Offers").doc(me).valueChanges()}static#e=this.\u0275fac=function(Ae){return new(Ae||Ee)(u.LFG(W.ST))};static#t=this.\u0275prov=u.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})()},614:(Qt,We,H)=>{H.d(We,{r:()=>Ie});var g=H(7398),u=H(5879),W=H(7104);let Ie=(()=>{class Ee{constructor(me){this.firestore=me,this.servicesCollection=this.firestore.collection("Services")}getServices(){return this.firestore.collection("Services",me=>me.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,g.U)(me=>me.map(Ae=>{const xe=Ae.payload.doc.data();return{id:Ae.payload.doc.id,...xe}}))).pipe((0,g.U)(me=>me.filter(Ae=>1==Ae.Approved)))}getAllServices(){return this.firestore.collection("Services",me=>me.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,g.U)(me=>me.map(Ae=>{const xe=Ae.payload.doc.data();return{id:Ae.payload.doc.id,...xe}})))}getServiceById(me){return this.firestore.collection("Services").doc(me).valueChanges()}getServicesByType(me){return this.firestore.collection("Services",Ae=>Ae.where("Service_Type","==",me)).valueChanges()}getAllServiceTypes(){return this.firestore.collection("ListOfServices").valueChanges().pipe((0,g.U)(me=>{const Ae=me.map(xe=>xe.Name);return Array.from(new Set(Ae))}))}addService(me){const Ae=this.firestore.createId();return me.id=Ae,me.Date_Created=(new Date).toISOString(),this.firestore.collection("Services").doc(Ae).set(me),this.firestore.doc(`Services/${Ae}`).valueChanges().pipe((0,g.U)(xe=>xe?{id:Ae,...xe}:void 0))}updateService(me,Ae){return console.log("update",me),Ae.Date_Updated=(new Date).toISOString(),this.firestore.collection("Services").doc(me).update(Ae),this.firestore.doc(`Services/${me}`).valueChanges().pipe((0,g.U)(xe=>xe?{id:me,...xe}:void 0))}static#e=this.\u0275fac=function(Ae){return new(Ae||Ee)(u.LFG(W.ST))};static#t=this.\u0275prov=u.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})()},8266:(Qt,We,H)=>{H.d(We,{d:()=>Pe});var g=H(5879),u=H(7104);let W=(()=>{class me{constructor(xe){this.firestore=xe}getAnalytics(){return this.firestore.collection("analytics").valueChanges()}static#e=this.\u0275fac=function(fe){return new(fe||me)(g.LFG(u.ST))};static#t=this.\u0275prov=g.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"})}return me})();var Ie=H(6814);function Ee(me,Ae){if(1&me&&(g.TgZ(0,"tr")(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td"),g._uU(4),g.ALo(5,"json"),g.qZA(),g.TgZ(6,"td"),g._uU(7),g.ALo(8,"date"),g.qZA()()),2&me){const xe=Ae.$implicit;g.xp6(2),g.Oqu(xe.page_path),g.xp6(2),g.Oqu(g.lcZ(5,3,xe.query_params)),g.xp6(3),g.Oqu(g.xi3(8,5,xe.timestamp,"medium"))}}let Pe=(()=>{class me{constructor(xe){this.analyticsService=xe,this.analyticsData=[]}ngOnInit(){this.analyticsService.getAnalytics().subscribe(xe=>{this.analyticsData=xe})}static#e=this.\u0275fac=function(fe){return new(fe||me)(g.Y36(W))};static#t=this.\u0275cmp=g.Xpm({type:me,selectors:[["app-analytics"]],decls:14,vars:1,consts:[[1,"container"],[1,"table"],[4,"ngFor","ngForOf"]],template:function(fe,ve){1&fe&&(g.TgZ(0,"div",0)(1,"h2"),g._uU(2,"Analytics Data"),g.qZA(),g.TgZ(3,"table",1)(4,"thead")(5,"tr")(6,"th"),g._uU(7,"Page Path"),g.qZA(),g.TgZ(8,"th"),g._uU(9,"Query Params"),g.qZA(),g.TgZ(10,"th"),g._uU(11,"Timestamp"),g.qZA()()(),g.TgZ(12,"tbody"),g.YNc(13,Ee,9,8,"tr",2),g.qZA()()()),2&fe&&(g.xp6(13),g.Q6J("ngForOf",ve.analyticsData))},dependencies:[Ie.sg,Ie.Ts,Ie.uU],styles:[".container[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2}"]})}return me})()},6713:(Qt,We,H)=>{var g=H(6593),u=H(5879),W=H(6814);let Ie;try{Ie=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Ie=!1}let fe,Ee=(()=>{class f{constructor(a){this._platformId=a,this.isBrowser=this._platformId?(0,W.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ie)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(u.Lbi))};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();function Oe(f){return function ve(){if(null==fe&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>fe=!0}))}finally{fe=fe||!1}return fe}()?f:!!f.capture}function Mi(f){return Array.isArray(f)?f:[f]}var Ao=H(8645),Pi=H(2572),us=H(5211),br=H(5592),Xt=H(8180),Ln=H(2181),gi=H(6321),vs=H(9360),zr=H(8251);function ni(f,o=gi.z){return(0,vs.e)((a,p)=>{let E=null,x=null,K=null;const se=()=>{if(E){E.unsubscribe(),E=null;const je=x;x=null,p.next(je)}};function be(){const je=K+f,At=o.now();if(At<je)return E=this.schedule(void 0,je-At),void p.add(E);se()}a.subscribe((0,zr.x)(p,je=>{x=je,K=o.now(),E||(E=o.schedule(be,f),p.add(E))},()=>{se(),p.complete()},void 0,()=>{x=E=null}))})}var rr=H(7398),Wi=H(7921),Es=H(9773);const Zi=new Set;let or,mi=(()=>{class f{constructor(a,p){this._platform=a,this._nonce=p,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Xi}matchMedia(a){return(this._platform.WEBKIT||this._platform.BLINK)&&function kn(f,o){if(!Zi.has(f))try{or||(or=document.createElement("style"),o&&(or.nonce=o),or.setAttribute("type","text/css"),document.head.appendChild(or)),or.sheet&&(or.sheet.insertRule(`@media ${f} {body{ }}`,0),Zi.add(f))}catch(a){console.error(a)}}(a,this._nonce),this._matchMedia(a)}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(Ee),u.LFG(u.Ojb,8))};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();function Xi(f){return{matches:"all"===f||""===f,media:f,addListener:()=>{},removeListener:()=>{}}}let _i=(()=>{class f{constructor(a,p){this._mediaMatcher=a,this._zone=p,this._queries=new Map,this._destroySubject=new Ao.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(a){return ds(Mi(a)).some(E=>this._registerQuery(E).mql.matches)}observe(a){const E=ds(Mi(a)).map(K=>this._registerQuery(K).observable);let x=(0,Pi.a)(E);return x=(0,us.z)(x.pipe((0,Xt.q)(1)),x.pipe(function mr(f){return(0,Ln.h)((o,a)=>f<=a)}(1),ni(0))),x.pipe((0,rr.U)(K=>{const se={matches:!1,breakpoints:{}};return K.forEach(({matches:be,query:je})=>{se.matches=se.matches||be,se.breakpoints[je]=be}),se}))}_registerQuery(a){if(this._queries.has(a))return this._queries.get(a);const p=this._mediaMatcher.matchMedia(a),x={observable:new br.y(K=>{const se=be=>this._zone.run(()=>K.next(be));return p.addListener(se),()=>{p.removeListener(se)}}).pipe((0,Wi.O)(p),(0,rr.U)(({matches:K})=>({query:a,matches:K})),(0,Es.R)(this._destroySubject)),mql:p};return this._queries.set(a,x),x}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(mi),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();function ds(f){return f.map(o=>o.split(",")).reduce((o,a)=>o.concat(a)).map(o=>o.trim())}const ho="cdk-high-contrast-black-on-white",fo="cdk-high-contrast-white-on-black",Fo="cdk-high-contrast-active";let za=(()=>{class f{constructor(a,p){this._platform=a,this._document=p,this._breakpointSubscription=(0,u.f3M)(_i).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const a=this._document.createElement("div");a.style.backgroundColor="rgb(1,2,3)",a.style.position="absolute",this._document.body.appendChild(a);const p=this._document.defaultView||window,E=p&&p.getComputedStyle?p.getComputedStyle(a):null,x=(E&&E.backgroundColor||"").replace(/ /g,"");switch(a.remove(),x){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const a=this._document.body.classList;a.remove(Fo,ho,fo),this._hasCheckedHighContrastMode=!0;const p=this.getHighContrastMode();1===p?a.add(Fo,ho):2===p&&a.add(Fo,fo)}}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(Ee),u.LFG(W.K0))};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})(),Lo=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=u.oAB({type:f});static#n=this.\u0275inj=u.cJS({})}return f})();const Yr=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function il(){return!0}});let P=(()=>{class f{constructor(a,p,E){this._sanityChecks=p,this._document=E,this._hasDoneGlobalChecks=!1,a._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(a){return!function rt(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[a])}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(za),u.LFG(Yr,8),u.LFG(W.K0))};static#t=this.\u0275mod=u.oAB({type:f});static#n=this.\u0275inj=u.cJS({imports:[Lo,Lo]})}return f})(),Uo=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=u.oAB({type:f});static#n=this.\u0275inj=u.cJS({imports:[P,P]})}return f})();const Au=Oe({passive:!0,capture:!0});class Vl{constructor(){this._events=new Map,this._delegateEventHandler=o=>{const a=function ze(f){return f.composedPath?f.composedPath()[0]:f.target}(o);a&&this._events.get(o.type)?.forEach((p,E)=>{(E===a||E.contains(a))&&p.forEach(x=>x.handleEvent(o))})}}addHandler(o,a,p,E){const x=this._events.get(a);if(x){const K=x.get(p);K?K.add(E):x.set(p,new Set([E]))}else this._events.set(a,new Map([[p,new Set([E])]])),o.runOutsideAngular(()=>{document.addEventListener(a,this._delegateEventHandler,Au)})}removeHandler(o,a,p){const E=this._events.get(o);if(!E)return;const x=E.get(a);x&&(x.delete(p),0===x.size&&E.delete(a),0===E.size&&(this._events.delete(o),document.removeEventListener(o,this._delegateEventHandler,Au)))}}class po{static#e=this._eventManager=new Vl;constructor(o,a,p,E){this._target=o,this._ngZone=a,this._platform=E,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,E.isBrowser&&(this._containerElement=qi(p))}fadeInRipple(o,a,p={}){const E=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),x={...la,...p.animation},K=p.radius||function Bo(f,o,a){const p=Math.max(Math.abs(f-a.left),Math.abs(f-a.right)),E=Math.max(Math.abs(o-a.top),Math.abs(o-a.bottom));return Math.sqrt(p*p+E*E)}(o,a,E),se=o-E.left,be=a-E.top,je=x.enterDuration,At=document.createElement("div");At.classList.add("mat-ripple-element"),At.style.left=se-K+"px",At.style.top=be-K+"px",At.style.height=2*K+"px",At.style.width=2*K+"px",null!=p.color&&(At.style.backgroundColor=p.color),At.style.transitionDuration=`${je}ms`,this._containerElement.appendChild(At);const Gt=window.getComputedStyle(At),yn=Gt.transitionDuration,cn="none"===Gt.transitionProperty||"0s"===yn||"0s, 0s"===yn||0===E.width&&0===E.height,ln=new Ps(this,At,p,cn);At.style.transform="scale3d(1, 1, 1)",ln.state=0,p.persistent||(this._mostRecentTransientRipple=ln);return!cn&&(je||x.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const $r=()=>this._finishRippleTransition(ln),ui=()=>this._destroyRipple(ln);At.addEventListener("transitionend",$r),At.addEventListener("transitioncancel",ui)}),this._activeRipples.set(ln,null),(cn||!je)&&this._finishRippleTransition(ln),ln}fadeOutRipple(o){if(2===o.state||3===o.state)return;const a=o.element,p={...la,...o.config.animation};a.style.transitionDuration=`${p.exitDuration}ms`,a.style.opacity="0",o.state=2,(o._animationForciblyDisabledThroughCss||!p.exitDuration)&&this._finishRippleTransition(o)}fadeOutAll(){this._getActiveRipples().forEach(o=>o.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(o=>{o.config.persistent||o.fadeOut()})}setupTriggerEvents(o){const a=qi(o);!this._platform.isBrowser||!a||a===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=a,yc.forEach(p=>{po._eventManager.addHandler(this._ngZone,p,a,this)}))}handleEvent(o){"mousedown"===o.type?this._onMousedown(o):"touchstart"===o.type?this._onTouchStart(o):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Du.forEach(a=>{this._triggerElement.addEventListener(a,this,sl)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(o){0===o.state?this._startFadeOutTransition(o):2===o.state&&this._destroyRipple(o)}_startFadeOutTransition(o){const a=o===this._mostRecentTransientRipple,{persistent:p}=o.config;o.state=1,!p&&(!a||!this._isPointerDown)&&o.fadeOut()}_destroyRipple(o){const a=this._activeRipples.get(o)??null;this._activeRipples.delete(o),this._activeRipples.size||(this._containerRect=null),o===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),o.state=3,null!==a&&(o.element.removeEventListener("transitionend",a.onTransitionEnd),o.element.removeEventListener("transitioncancel",a.onTransitionCancel)),o.element.remove()}_onMousedown(o){const a=function kl(f){return 0===f.buttons||0===f.detail}(o),p=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!a&&!p&&(this._isPointerDown=!0,this.fadeInRipple(o.clientX,o.clientY,this._target.rippleConfig))}_onTouchStart(o){if(!this._target.rippleDisabled&&!function dc(f){const o=f.touches&&f.touches[0]||f.changedTouches&&f.changedTouches[0];return!(!o||-1!==o.identifier||null!=o.radiusX&&1!==o.radiusX||null!=o.radiusY&&1!==o.radiusY)}(o)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const a=o.changedTouches;if(a)for(let p=0;p<a.length;p++)this.fadeInRipple(a[p].clientX,a[p].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(o=>{!o.config.persistent&&(1===o.state||o.config.terminateOnPointerUp&&0===o.state)&&o.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const o=this._triggerElement;o&&(yc.forEach(a=>po._eventManager.removeHandler(a,o,this)),this._pointerUpEventsRegistered&&Du.forEach(a=>o.removeEventListener(a,this,sl)))}}let qr=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=u.oAB({type:f});static#n=this.\u0275inj=u.cJS({imports:[P,W.ez,P]})}return f})();var er=H(2096),Ys=(H(8504),H(9315)),mo=(H(9397),H(6306),H(4716));H(3020),H(6328);let tp=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=u.oAB({type:f});static#n=this.\u0275inj=u.cJS({imports:[P,P]})}return f})(),lt=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=u.oAB({type:f});static#n=this.\u0275inj=u.cJS({imports:[Uo,P,Uo,P]})}return f})();var Yt=H(3914),Vn=H(3375),yr=H(8924);function Ro(f,o){1&f&&(u.TgZ(0,"span",12),u._uU(1,"\u2605"),u.qZA())}function Sc(f,o){1&f&&(u.TgZ(0,"p"),u._uU(1,"Oferta a expirat"),u.qZA())}function Mc(f,o){1&f&&(u.TgZ(0,"p"),u._uU(1,"Oferta este valabil\u0101"),u.qZA())}function su(f,o){if(1&f&&(u.TgZ(0,"div")(1,"a",13),u._UZ(2,"img",14),u.qZA(),u._UZ(3,"br"),u._uU(4," Facebook"),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.s9C("href",a.offer.Facebook,u.LSH)}}function pl(f,o){if(1&f&&(u.TgZ(0,"div")(1,"a",13),u._UZ(2,"img",15),u.qZA(),u._UZ(3,"br"),u._uU(4," Instagram"),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.MGl("href","https://www.instagram.com/",a.offer.Instagram,"",u.LSH)}}function Zh(f,o){if(1&f&&(u.TgZ(0,"div")(1,"a",16),u._UZ(2,"img",17),u.qZA(),u._UZ(3,"br"),u._uU(4," Email"),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.MGl("href","mailto:",a.offer.Email,"",u.LSH)}}function gl(f,o){if(1&f&&(u.TgZ(0,"div")(1,"a",13),u._UZ(2,"img",18),u.qZA(),u._UZ(3,"br"),u._uU(4," Website"),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.s9C("href",a.offer.Website,u.LSH)}}let Pc=(()=>{class f{constructor(a){this.router=a,this.currentImageIndex=1}ngOnInit(){this.offer.Image1||(this.offer.Image1="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/dafaultImage.jpg"),this.offer.Image2||(this.offer.Image2="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/dafaultImage.jpg"),this.offer.Image3||(this.offer.Image3="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/dafaultImage.jpg"),this.offer.Image4||(this.offer.Image4="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/dafaultImage.jpg"),this.offer.Image5||(this.offer.Image5="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/dafaultImage.jpg"),this.startImageCarousel()}startImageCarousel(){setInterval(()=>{this.currentImageIndex=this.currentImageIndex%5+1},3e3)}nextImage(){this.currentImageIndex=this.currentImageIndex%5+1}prevImage(){this.currentImageIndex=(this.currentImageIndex-2+5)%5+1}navigateToDetails(){console.log("Navigating to details:",this.offer.id),this.router.navigate(["/offers",this.offer.id])}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(Yt.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-offer-card"]],inputs:{offer:"offer"},decls:56,vars:21,consts:[[1,"offer-card"],[1,"carousel"],[1,"prev",3,"click"],[1,"next",3,"click"],[1,"image-container"],[3,"src","alt"],[1,"offer-details"],["class","sponsor-icon",4,"ngIf"],[4,"ngIf"],[3,"click"],[1,"offer-footer"],[1,"social-icons"],[1,"sponsor-icon"],["target","_blank",3,"href"],["src","../../../assets/images/SVG/facebook-icon.svg"],["src","../../../assets/images/SVG/instagram-icon.svg"],[3,"href"],["src","../../../assets/images/SVG/email-icon.svg"],["src","../../../assets/images/SVG/browser-icon.svg"]],template:function(p,E){1&p&&(u.TgZ(0,"div",0)(1,"div",1)(2,"button",2),u.NdJ("click",function(){return E.prevImage()}),u._uU(3,"\u276e"),u.qZA(),u.TgZ(4,"button",3),u.NdJ("click",function(){return E.nextImage()}),u._uU(5,"\u276f"),u.qZA(),u.TgZ(6,"div",4),u._UZ(7,"img",5),u.qZA()(),u.TgZ(8,"div",6)(9,"h3"),u._uU(10),u.qZA(),u.YNc(11,Ro,2,0,"span",7),u.TgZ(12,"p")(13,"strong"),u._uU(14,"Compania:"),u.qZA(),u._uU(15),u.qZA(),u.TgZ(16,"p")(17,"strong"),u._uU(18,"Persona de contact:"),u.qZA(),u._uU(19),u.qZA(),u._UZ(20,"hr"),u.TgZ(21,"p")(22,"strong"),u._uU(23,"Numar de Tel:"),u.qZA(),u._uU(24),u.qZA(),u.TgZ(25,"p")(26,"strong"),u._uU(27,"Locatie:"),u.qZA(),u._uU(28),u.qZA(),u.TgZ(29,"p")(30,"strong"),u._uU(31,"Descriiere:"),u.qZA(),u._uU(32),u.qZA(),u.TgZ(33,"p")(34,"strong"),u._uU(35,"Pret:"),u.qZA(),u._uU(36),u.qZA(),u.TgZ(37,"p")(38,"strong"),u._uU(39,"Tip de ofert\u0101:"),u.qZA(),u._uU(40),u.qZA(),u.TgZ(41,"p")(42,"strong"),u._uU(43,"Creata pe data de:"),u.qZA(),u._uU(44),u.ALo(45,"date"),u.qZA(),u.YNc(46,Sc,2,0,"p",8),u.YNc(47,Mc,2,0,"p",8),u.TgZ(48,"button",9),u.NdJ("click",function(){return E.navigateToDetails()}),u._uU(49,"Detalii"),u.qZA()(),u.TgZ(50,"div",10)(51,"div",11),u.YNc(52,su,5,1,"div",8),u.YNc(53,pl,5,1,"div",8),u.YNc(54,Zh,5,1,"div",8),u.YNc(55,gl,5,1,"div",8),u.qZA()()()),2&p&&(u.xp6(7),u.MGl("alt","Image ",E.currentImageIndex,""),u.Q6J("src",E.offer["Image"+E.currentImageIndex],u.LSH),u.xp6(3),u.Oqu(E.offer.Title),u.xp6(1),u.Q6J("ngIf",E.offer.Community_Sponsor),u.xp6(4),u.hij(" ",E.offer.Company_Name,""),u.xp6(4),u.hij(" ",E.offer.Contact_Name,""),u.xp6(5),u.hij(" ",E.offer.Phone_Number,""),u.xp6(4),u.hij(" ",E.offer.Location,""),u.xp6(4),u.Oqu(E.offer.Description),u.xp6(4),u.Oqu(E.offer.Price),u.xp6(4),u.Oqu(E.offer.OfferType),u.xp6(4),u.hij(" ",u.xi3(45,18,E.offer.Date_Created,"shortDate"),""),u.xp6(2),u.Q6J("ngIf",E.offer.Filled),u.xp6(1),u.Q6J("ngIf",!E.offer.Filled),u.xp6(5),u.Q6J("ngIf",E.offer.Facebook),u.xp6(1),u.Q6J("ngIf",E.offer.Instagram),u.xp6(1),u.Q6J("ngIf",E.offer.Email),u.xp6(1),u.Q6J("ngIf",E.offer.Website))},dependencies:[W.O5,W.uU],styles:[".offer-card[_ngcontent-%COMP%]{width:400px;min-height:550px;border-radius:8px;overflow:hidden;box-shadow:0 4px 8px #0000001a;transition:transform .3s;height:800px;position:relative;background-color:#fafafa}.offer-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.carousel[_ngcontent-%COMP%]{position:relative;width:100%;overflow:hidden}.carousel-inner[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;flex-shrink:0}.image-container[_ngcontent-%COMP%]{width:400px;height:250px;overflow:hidden;display:flex;justify-content:center;align-items:center}.prev[_ngcontent-%COMP%], .next[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background-color:#00000080;color:#fff;border:none;padding:10px;cursor:pointer;border-radius:50%}.prev[_ngcontent-%COMP%]{left:10px}.next[_ngcontent-%COMP%]{right:10px}.offer-details[_ngcontent-%COMP%]{padding:15px}.offer-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.offer-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.offer-footer[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:400px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px;color:gold}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}"]})}return f})();function Kh(f,o){if(1&f&&(u.TgZ(0,"div",7),u._UZ(1,"img",8),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.s9C("alt",a.event.Name),u.Q6J("src",a.event.Poster_Image,u.LSH)}}function ip(f,o){1&f&&(u.TgZ(0,"div",9)(1,"span",10),u._uU(2,"Event Expired"),u.qZA()())}let Uu=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-event-card"]],inputs:{event:"event"},decls:44,vars:19,consts:[[1,"event-card"],["class","event-image",4,"ngIf"],[1,"event-details"],[1,"card-title"],["target","_blank",3,"href"],[1,"card-subtitle"],["class","card-expired",4,"ngIf"],[1,"event-image"],[3,"src","alt"],[1,"card-expired"],[1,""]],template:function(p,E){1&p&&(u.TgZ(0,"div",0),u.YNc(1,Kh,2,2,"div",1),u.TgZ(2,"div",2)(3,"div",3),u._uU(4),u.qZA(),u.TgZ(5,"p")(6,"strong"),u._uU(7,"Location:"),u.qZA(),u._uU(8),u.qZA(),u.TgZ(9,"p")(10,"strong"),u._uU(11,"Date:"),u.qZA(),u._uU(12),u.ALo(13,"date"),u.qZA(),u.TgZ(14,"p")(15,"strong"),u._uU(16,"Time:"),u.qZA(),u._uU(17),u.qZA(),u.TgZ(18,"p")(19,"strong"),u._uU(20,"Price:"),u.qZA(),u._uU(21),u.qZA(),u.TgZ(22,"p")(23,"strong"),u._uU(24,"Contact:"),u.qZA(),u._uU(25),u.qZA(),u.TgZ(26,"p")(27,"strong"),u._uU(28,"Website:"),u.qZA(),u.TgZ(29,"a",4),u._uU(30),u.qZA()(),u.TgZ(31,"p")(32,"strong"),u._uU(33,"Facebook:"),u.qZA(),u.TgZ(34,"a",4),u._uU(35),u.qZA()(),u.TgZ(36,"p")(37,"strong"),u._uU(38,"Instagram:"),u.qZA(),u.TgZ(39,"a",4),u._uU(40),u.qZA()(),u.TgZ(41,"div",5),u._uU(42),u.qZA(),u.YNc(43,ip,3,0,"div",6),u.qZA()()),2&p&&(u.xp6(1),u.Q6J("ngIf",E.event.Poster_Image),u.xp6(3),u.Oqu(E.event.Name),u.xp6(4),u.hij(" ",E.event.Location,""),u.xp6(4),u.hij(" ",u.xi3(13,16,E.event.Event_Date,"longDate"),""),u.xp6(5),u.hij(" ",E.event.Time,""),u.xp6(4),u.hij(" ",E.event.Price,""),u.xp6(4),u.AsE(" ",E.event.Contact," - ",E.event.Phone_Number,""),u.xp6(4),u.Q6J("href",E.event.Website,u.LSH),u.xp6(1),u.Oqu(E.event.Website),u.xp6(4),u.Q6J("href",E.event.Facebook,u.LSH),u.xp6(1),u.Oqu(E.event.Facebook),u.xp6(4),u.Q6J("href",E.event.Instagram,u.LSH),u.xp6(1),u.Oqu(E.event.Instagram),u.xp6(2),u.Oqu(E.event.Description),u.xp6(1),u.Q6J("ngIf",E.event.Expired))},dependencies:[W.O5,W.uU],styles:[".event-card[_ngcontent-%COMP%]{width:400px;min-height:550px;border-radius:8px;overflow:hidden;display:flex;flex-direction:column;margin:16px;box-shadow:0 4px 8px #0000001a;background-color:#fafafa}.event-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.event-details[_ngcontent-%COMP%]{padding:16px}.event-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.event-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0}.event-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.event-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.service-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:10px;padding:40px;width:calc(25% - 32px);box-sizing:border-box;position:relative;min-width:400px}.card-header[_ngcontent-%COMP%]{text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333}.card-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-top:4px}.card-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:gold}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}.services-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:30px;padding:30px}.services-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.services-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px;font-size:1rem}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}.add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.services-control[_ngcontent-%COMP%]{flex-direction:column}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}"]})}return f})();function Yh(f,o){1&f&&u._UZ(0,"app-event-card",25),2&f&&u.Q6J("event",o.$implicit)}function Rc(f,o){1&f&&u._UZ(0,"app-offer-card",26),2&f&&u.Q6J("offer",o.$implicit)}function ml(f,o){if(1&f&&(u.TgZ(0,"li",27)(1,"a",28),u._uU(2),u.qZA()()),2&f){const a=o.$implicit;u.xp6(1),u.s9C("href",a.url,u.LSH),u.xp6(1),u.Oqu(a.name)}}let Gd=(()=>{class f{constructor(a,p,E){this.eventService=a,this.offersService=p,this.router=E,this.resourceLinks=[{name:"Ambasada Romaniei in SUA",url:"https://washington.mae.ro/"},{name:"Ambasada SUA in Romania",url:"https://ro.usembassy.gov/"},{name:"American Romanian Cultural Society",url:"www.arcsproject.org"},{name:"Biserica Sfintii Trei Ierarhi",url:"http://www.ortodox.org/"},{name:"Romanian United Foundation",url:"https://www.romanianunitedfund.org/"}],this.events=[],this.offers=[]}ngOnInit(){this.eventService.getEvents().subscribe(a=>{this.events=a}),this.offersService.getOffers().subscribe(a=>{this.offers=a})}navigateToAddEvent(){this.router.navigate(["/add-event"])}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(Vn.n),u.Y36(yr.b),u.Y36(Yt.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-home"]],decls:97,vars:3,consts:[[1,"container"],[1,"hero"],[1,"container","hero-content"],[1,"hero-text"],["href","https://www.facebook.com/groups/RomaniinSeattle"],["href","https://www.facebook.com/groups/RomaniinSeattle",1,"btn"],[1,"hero-image"],["src","../../../assets/images/Seattle-Romania.png","alt","Seattle"],[1,"community-description"],[1,"community-descriptions"],[1,"description-card"],[1,"sharedContent-Section"],[1,"services-container"],[3,"event",4,"ngFor","ngForOf"],[1,"offer-list"],[3,"offer",4,"ngFor","ngForOf"],[1,"resource-consulate"],["target","_blank","href","http://newyork.mae.ro/"],["target","_blank","href","http://chicago.mae.ro/"],["target","_blank","href","http://losangeles.mae.ro/"],["target","_blank","href","http://miami.mae.ro/"],[1,"resources-section"],[1,"section-header"],[1,"resource-list"],["class","resource-item",4,"ngFor","ngForOf"],[3,"event"],[3,"offer"],[1,"resource-item"],["target","_blank",3,"href"]],template:function(p,E){1&p&&(u.TgZ(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"h1"),u._uU(5,"Bine ati venit in comunitatea "),u.TgZ(6,"a",4),u._uU(7,"Romani in Seattle"),u.qZA()(),u.TgZ(8,"p"),u._uU(9,"Servictii, oferte si evenimente pentru persoanele care locuiesc in zona Seattle."),u.qZA(),u.TgZ(10,"a",5),u._uU(11,"Join our Facebook Group"),u.qZA()(),u.TgZ(12,"div",6),u._UZ(13,"img",7),u.qZA()()(),u.TgZ(14,"section",8)(15,"div",0)(16,"h2"),u._uU(17,"Despre communitatea noastra"),u.qZA(),u.TgZ(18,"p"),u._uU(19,'Scopul al acestui website este de a beneficia Romani \xeen Seattle, prin schimbul de informa\u021bii utile si in acela\u0219i timp promov\xe2nd Companiile Romane\u0219ti din zona Seattle la \xa0Comunitatea Romaneasca de aici. Acesta a \xeenceput pe facebook prin grupul "Romani \xeen Seattle\u201d care acum con\u021bine peste 3700 de membri.'),u.qZA()()(),u.TgZ(20,"div",9)(21,"div",10)(22,"h2"),u._uU(23,"Evenimente"),u.qZA(),u.TgZ(24,"p"),u._uU(25,"Al\u0103tura\u021bi-v\u0103 nou\u0103 pentru o varietate de evenimente care reunesc comunitatea. De la festivaluri la ateliere, exist\u0103 ceva pentru toat\u0103 lumea."),u.qZA()(),u.TgZ(26,"div",10)(27,"h2"),u._uU(28,"Servicii"),u.qZA(),u.TgZ(29,"p"),u._uU(30,"Sprijini\u021bi-ne afacerile locale \u0219i descoperi\u021bi produse \u0219i servicii unice oferite de membrii comunit\u0103\u021bii."),u.qZA()(),u.TgZ(31,"div",10)(32,"h2"),u._uU(33,"Oportunit\u0103\u021bi si Oferte"),u.qZA(),u.TgZ(34,"p"),u._uU(35,"Implica\u021bi-v\u0103 \u0219i face\u021bi o diferen\u021b\u0103 prin voluntariat pentru diverse proiecte \u0219i ini\u021biative comunitare."),u.qZA()(),u.TgZ(36,"div",10)(37,"h2"),u._uU(38,"Resurse"),u.qZA(),u.TgZ(39,"p"),u._uU(40,"Accesa\u021bi resurse \u0219i servicii valoroase oferite de comunitate at\xe2t pentru reziden\u021bi, c\xe2t \u0219i pentru vizitatori."),u.qZA()()(),u.TgZ(41,"div",11)(42,"h1"),u._uU(43,"Evenimente"),u.qZA(),u.TgZ(44,"div",12),u.YNc(45,Yh,1,1,"app-event-card",13),u.qZA()(),u.TgZ(46,"div",11)(47,"h1"),u._uU(48,"Oportunit\u0103\u021bi si Oferte"),u.qZA(),u.TgZ(49,"div",14),u.YNc(50,Rc,1,1,"app-offer-card",15),u.qZA()(),u.TgZ(51,"div",11)(52,"h1"),u._uU(53,"Resurse"),u.qZA(),u.TgZ(54,"section",16)(55,"div",9)(56,"div",10)(57,"h2"),u._uU(58,"Consulatul Rom\xe2niei la New York"),u.qZA(),u.TgZ(59,"h3"),u._uU(60,"CONSUL GENERAL: doamna Mihaela-Simona FLOREA"),u.qZA(),u.TgZ(61,"p"),u._uU(62,"Adres\u0103: 200 East 38th Street, New York, NY 10016"),u.qZA(),u.TgZ(63,"a",17),u._uU(64,"http://newyork.mae.ro/"),u.qZA()(),u.TgZ(65,"div",10)(66,"h2"),u._uU(67,"Consulatul Rom\xe2niei la Chicago"),u.qZA(),u.TgZ(68,"h3"),u._uU(69,"CONSUL GENERAL: "),u.qZA(),u.TgZ(70,"p"),u._uU(71,"Adres\u0103: 737 North Michigan Avenue, Suite 2300, Chicago, IL 60611"),u.qZA(),u.TgZ(72,"a",18),u._uU(73,"http://chicago.mae.ro/"),u.qZA()(),u.TgZ(74,"div",10)(75,"h2"),u._uU(76,"Consulatul Rom\xe2niei la Los Angeles"),u.qZA(),u.TgZ(77,"h3"),u._uU(78,"CONSUL GENERAL: doamna Lucia SAVA"),u.qZA(),u.TgZ(79,"p"),u._uU(80,"Adres\u0103: 11766 Wilshire Blvd. Suite 200, Los Angeles CA 90025"),u.qZA(),u.TgZ(81,"a",19),u._uU(82,"http://losangeles.mae.ro/"),u.qZA()(),u.TgZ(83,"div",10)(84,"h2"),u._uU(85,"Consulatul Rom\xe2niei la Miami"),u.qZA(),u.TgZ(86,"h3"),u._uU(87,"CONSUL GENERAL: doamna Elena-GabrielA EREMIA"),u.qZA(),u.TgZ(88,"p"),u._uU(89,"Adres\u0103: 1101 Brickell Ave, suite N 600, Miami, FL 33131"),u.qZA(),u.TgZ(90,"a",20),u._uU(91,"http://miami.mae.ro/"),u.qZA()()()()(),u.TgZ(92,"section",21)(93,"h2",22),u._uU(94,"Resurse utile pentru comunitate"),u.qZA(),u.TgZ(95,"ul",23),u.YNc(96,ml,3,2,"li",24),u.qZA()()()),2&p&&(u.xp6(45),u.Q6J("ngForOf",E.events),u.xp6(5),u.Q6J("ngForOf",E.offers),u.xp6(46),u.Q6J("ngForOf",E.resourceLinks))},dependencies:[W.sg,Pc,Uu],styles:[".container[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px;margin-bottom:20px}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px;color:var(--button-color)}.hero[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;background-color:#f5f5f5;padding:6rem 0 0rem}.hero-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.hero-text[_ngcontent-%COMP%]{flex:1;padding:0 2rem}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1.5rem}.btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;padding:.75rem 1.5rem;text-decoration:none;border-radius:5px;font-size:1rem}.hero-image[_ngcontent-%COMP%]{flex:1}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.community-description[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;padding:2rem 0;text-align:center}.community-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.community-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin:0 auto;max-width:800px;color:#f5f5f5}@media (max-width: 768px){.hero[_ngcontent-%COMP%]{flex-direction:column}.hero-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.hero-text[_ngcontent-%COMP%]{margin-bottom:2rem}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}}.community-descriptions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;padding:40px 20px}.description-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:20px;padding:20px;width:300px;text-align:center}.description-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--button-color);margin-bottom:10px}.description-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:var(--button-color)}.description-card-group[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:20px;padding:20px;width:100%;text-align:center}.resource-list[_ngcontent-%COMP%]{list-style-type:none;padding:0}.resource-item[_ngcontent-%COMP%]{margin:10px 0}.resource-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--button-color);font-size:18px;transition:color .3s ease}.resource-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0056b3}a[_ngcontent-%COMP%]{color:inherit}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.service-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:10px;padding:40px;width:calc(25% - 32px);box-sizing:border-box;position:relative;min-width:400px}.card-header[_ngcontent-%COMP%]{text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333}.card-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-top:4px}.card-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:gold}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}.offers[_ngcontent-%COMP%], .offer-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.offer-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;overflow:hidden;box-shadow:0 4px 8px #0000001a;transition:transform .3s;max-width:400px;height:800px;position:relative;text-align:left}.offer-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.carousel[_ngcontent-%COMP%]{position:relative;width:100%;overflow:hidden}.carousel-inner[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;flex-shrink:0}.image-container[_ngcontent-%COMP%]{width:400px;height:250px;overflow:hidden;display:flex;justify-content:center;align-items:center}.prev[_ngcontent-%COMP%], .next[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background-color:#00000080;color:#fff;border:none;padding:10px;cursor:pointer;border-radius:50%}.prev[_ngcontent-%COMP%]{left:10px}.next[_ngcontent-%COMP%]{right:10px}.offer-details[_ngcontent-%COMP%]{padding:15px}.offer-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.offer-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.offer-footer[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}.featured[_ngcontent-%COMP%]{color:#007bff;font-weight:700}.sharedContent-Section[_ngcontent-%COMP%]{padding:50px 0}.button-container[_ngcontent-%COMP%]{text-align:center}.fb-button[_ngcontent-%COMP%]{background-color:var(--button-bg-color);color:var(--button-text-color);padding:10px 20px;border-radius:5px;text-decoration:none;font-size:18px;display:inline-flex;align-items:center;transition:background-color .3s}.fb-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;font-size:20px}.fb-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-bg-color)}"]})}return f})();var Bu=H(614),mn=H(6223);function Qh(f){return f?/^https?:\/\//i.test(f)?f:`http://${f}`:""}function qd(f,o){1&f&&(u.TgZ(0,"span",15),u._uU(1,"\u2605"),u.qZA())}function sp(f,o){if(1&f&&(u.TgZ(0,"div")(1,"a",16),u._UZ(2,"img",17),u.qZA(),u._UZ(3,"br"),u._uU(4," Facebook"),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.s9C("href",a.svc.Facebook,u.LSH)}}function i_(f,o){if(1&f&&(u.TgZ(0,"div")(1,"a",16),u._UZ(2,"img",18),u.qZA(),u._UZ(3,"br"),u._uU(4," Instagram"),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.MGl("href","https://www.instagram.com/",a.svc.Instagram,"",u.LSH)}}function Wd(f,o){if(1&f&&(u.TgZ(0,"div")(1,"a",19),u._UZ(2,"img",20),u.qZA(),u._UZ(3,"br"),u._uU(4," Email"),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.MGl("href","mailto:",a.svc.Email,"",u.LSH)}}function ju(f,o){if(1&f&&(u.TgZ(0,"div")(1,"a",16),u._UZ(2,"img",21),u.qZA(),u._UZ(3,"br"),u._uU(4," Website"),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.s9C("href",a.svc.Website,u.LSH)}}let Zd=(()=>{class f{constructor(a){this.router=a}ngOnInit(){(void 0===this.svc.Image||""==this.svc.Image)&&(this.svc.Image="https://firebasestorage.googleapis.com/v0/b/romaniinseattle.appspot.com/o/serviceImages%2FdafaultImage.jpg?alt=media&token=3b0787df-12f0-444a-a426-013843534f1e"),this.svc.Website=Qh(this.svc.Website)}viewDetails(){this.router.navigate(["/services",this.svc.id])}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(Yt.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-service-card"]],inputs:{svc:"svc"},decls:23,vars:11,consts:[[1,"service-card"],[1,"service-card-image-container"],[1,"service-card-image",3,"src","alt"],[1,"service-card-content"],[1,"card-header"],[1,"card-title"],["class","sponsor-icon",4,"ngIf"],[1,"card-subtitle","service_type"],[1,"card-subtitle","contact_info"],[1,"card-description"],[1,"card-button"],[3,"click"],[1,"card-footer"],[1,"social-icons"],[4,"ngIf"],[1,"sponsor-icon"],["target","_blank",3,"href"],["src","../../../assets/images/SVG/facebook-icon.svg"],["src","../../../assets/images/SVG/instagram-icon.svg"],[3,"href"],["src","../../../assets/images/SVG/email-icon.svg"],["src","../../../assets/images/SVG/browser-icon.svg"]],template:function(p,E){1&p&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"img",2),u.qZA(),u.TgZ(3,"div",3)(4,"div",4)(5,"div",5),u._uU(6),u.YNc(7,qd,2,0,"span",6),u.qZA(),u.TgZ(8,"div",7),u._uU(9),u.qZA(),u.TgZ(10,"div",8),u._uU(11),u.qZA(),u.TgZ(12,"div",9),u._uU(13),u.qZA(),u.TgZ(14,"div",10)(15,"button",11),u.NdJ("click",function(){return E.viewDetails()}),u._uU(16,"Detalii"),u.qZA()()(),u.TgZ(17,"div",12)(18,"div",13),u.YNc(19,sp,5,1,"div",14),u.YNc(20,i_,5,1,"div",14),u.YNc(21,Wd,5,1,"div",14),u.YNc(22,ju,5,1,"div",14),u.qZA()()()()),2&p&&(u.xp6(2),u.s9C("alt",E.svc.Name),u.Q6J("src",E.svc.Image,u.LSH),u.xp6(4),u.Oqu(E.svc.Name),u.xp6(1),u.Q6J("ngIf",E.svc.Community_Sponsor),u.xp6(2),u.Oqu(E.svc.Service_Type),u.xp6(2),u.Oqu(E.svc.Phone_Number),u.xp6(2),u.Oqu(E.svc.Description),u.xp6(6),u.Q6J("ngIf",E.svc.Facebook),u.xp6(1),u.Q6J("ngIf",E.svc.Instagram),u.xp6(1),u.Q6J("ngIf",E.svc.Email),u.xp6(1),u.Q6J("ngIf",E.svc.Website))},dependencies:[W.O5],styles:[".service-card[_ngcontent-%COMP%]{background-color:#fafafa;width:400px;min-height:550px;display:flex;flex-direction:column;justify-content:space-between;border-radius:8px;box-shadow:0 4px 8px #00000080;margin:10px;padding:40px;box-sizing:border-box;position:relative}.service-card-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:5px}.service-card-image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover;border:2px solid #ddd}.card-header[_ngcontent-%COMP%]{text-align:center;margin:25px}.card-title[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:500;font-style:bold;font-size:1.7rem;font-weight:700;color:#333;line-height:1.2}.card-subtitle[_ngcontent-%COMP%]{font-family:Catamaran,sans-serif;font-optical-sizing:auto;font-weight:400;font-style:normal;font-size:1rem;color:#666;margin-top:4px}.card-description[_ngcontent-%COMP%]{text-align:left;font-family:Catamaran,sans-serif;font-optical-sizing:auto;font-weight:400;font-style:normal;color:#666;margin-top:4px;overflow:hidden;-webkit-box-orient:vertical;display:block;display:-webkit-box;overflow:hidden!important;text-overflow:ellipsis;-webkit-line-clamp:4}.service_type[_ngcontent-%COMP%]{text-transform:uppercase;padding:1rem 0}.contact_info[_ngcontent-%COMP%]{padding:0 0 1rem;font-size:1.2rem}.card-footer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 480px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 100px);min-width:175px;margin:2px;padding:2px;min-height:150px;min-height:330px}.card-title[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:100;font-style:bold;font-size:.9rem;font-weight:400;color:#333;line-height:1;padding:0;margin:0}.card-subtitle[_ngcontent-%COMP%]{font-family:Catamaran,sans-serif;font-optical-sizing:auto;font-weight:100;font-style:normal;color:#666;margin-top:1px}.card-description[_ngcontent-%COMP%]{display:none}.service_type[_ngcontent-%COMP%]{text-transform:uppercase;padding:0;font-size:.5rem}.card-footer[_ngcontent-%COMP%]{display:none}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:175px}.service-footer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}.services-control[_ngcontent-%COMP%]{flex-direction:column}@media screen and (max-width: 960px) and(min-width:480px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}.service-card-front[_ngcontent-%COMP%]{background-color:#fff;color:#000}.service-card-content[_ngcontent-%COMP%]{padding:0}.service-date[_ngcontent-%COMP%]{font-size:12px;color:#f1c40f}.service-footer[_ngcontent-%COMP%]{margin-top:10px}.featured[_ngcontent-%COMP%]{font-weight:700;color:#f39c12}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:400px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000}#browser-icon[_ngcontent-%COMP%]{fill:red;stroke:#000}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px;color:gold}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}"]})}return f})();function s_(f,o){if(1&f&&(u.TgZ(0,"option",14),u._uU(1),u.qZA()),2&f){const a=o.$implicit;u.Q6J("value",a),u.xp6(1),u.Oqu(a)}}function Kd(f,o){1&f&&u._UZ(0,"app-service-card",15),2&f&&u.Q6J("svc",o.$implicit)}let Sg=(()=>{class f{constructor(a,p,E){this.servicesService=a,this.route=p,this.router=E,this.services=[],this.filteredServices=[],this.serviceTypes=[],this.selectedServiceType=""}ngOnInit(){this.route.queryParams.subscribe(a=>{this.selectedServiceType=a.serviceType||""}),this.filterServices(this.selectedServiceType)}navigateToAddService(){this.router.navigate(["/add-service"])}handleChange(a){const{target:p}=a;return p&&console.log(p.value),p.value}fetchServiceTypes(){console.log("FetchServiceTypes Function"),this.servicesService.getAllServiceTypes().subscribe(a=>{this.serviceTypes=a,a.forEach(p=>{})}),console.log("Number of Service Types returned by the database : "+this.serviceTypes.length)}onFilterChange(a){console.log("Filter changed:",a),this.router.navigate([],{relativeTo:this.route,queryParams:{serviceType:a},queryParamsHandling:"merge"}),this.filterServices(a)}filterServices(a){console.log("Filter Serices: "+a),this.fetchServiceTypes(),a&&""!==a?this.servicesService.getServicesByType(a).subscribe(p=>{this.services=p.filter(E=>E.Approved),this.filteredServices=p.filter(E=>E.Approved),console.log("Number of Services returned by the Database :  "+this.services.length)}):this.servicesService.getServices().subscribe(p=>{this.services=p.filter(E=>E.Approved),this.filteredServices=p.filter(E=>E.Approved),console.log("Number of Services returned by the Database :  "+this.services.length)})}extractServiceTypes(){this.serviceTypes=[...new Set(this.services.map(a=>a.Service_Type))]}shareLink(){const p=this.router.url.split("?")[1]||"";navigator.clipboard.writeText("https://romaniinseattle.web.app/services"+(p?"?"+p:"")).then(()=>{alert("Link copied to clipboard!")},x=>{console.error("Could not copy text: ",x)})}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(Bu.r),u.Y36(Yt.gz),u.Y36(Yt.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-services"]],decls:24,vars:3,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"services-control"],[1,"service-control-container"],["for","service-type"],["id","service-type",1,"filter-dropdown",3,"ngModel","change","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[2,"min-width","150px",3,"click"],[1,"share-button",3,"click"],[1,"fas","fa-share-alt"],[1,"services-container"],[3,"svc",4,"ngFor","ngForOf"],[3,"value"],[3,"svc"]],template:function(p,E){1&p&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._uU(3,"Lista de Servicii"),u.qZA()(),u.TgZ(4,"div",2)(5,"h2"),u._uU(6,"Descoperi\u021bi serviciile oferite de membrii comunit\u0103\u021bii"),u.qZA()()(),u.TgZ(7,"div",3)(8,"div",4)(9,"label",5),u._uU(10,"Filtra\u021bi lista dup\u0103 tipul serviciului: "),u.qZA()(),u.TgZ(11,"div",4)(12,"select",6),u.NdJ("change",function(K){return E.onFilterChange(E.handleChange(K))})("ngModelChange",function(K){return E.selectedServiceType=K}),u.TgZ(13,"option",7),u._uU(14,"Toate serviciile"),u.qZA(),u.YNc(15,s_,2,2,"option",8),u.qZA()(),u.TgZ(16,"div",4)(17,"button",9),u.NdJ("click",function(){return E.navigateToAddService()}),u._uU(18,"Adaugati un Serviciu"),u.qZA()(),u.TgZ(19,"button",10),u.NdJ("click",function(){return E.shareLink()}),u._UZ(20,"i",11),u._uU(21," Share "),u.qZA()(),u.TgZ(22,"div",12),u.YNc(23,Kd,1,1,"app-service-card",13),u.qZA()),2&p&&(u.xp6(12),u.Q6J("ngModel",E.selectedServiceType),u.xp6(3),u.Q6J("ngForOf",E.serviceTypes),u.xp6(8),u.Q6J("ngForOf",E.filteredServices))},dependencies:[W.sg,mn.YN,mn.Kr,mn.EJ,mn.JJ,mn.On,Zd],styles:[".hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.services-control[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px;padding:20px;flex-wrap:wrap}.service-control-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:5px;padding:5px}.services-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.services-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px;font-size:1rem}.add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}label[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:16px;text-transform:uppercase}.filter-dropdown[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:16px;text-transform:uppercase;cursor:pointer}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;padding:1rem}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:3rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1rem;text-align:center}}"]})}return f})(),o_=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-rules"]],decls:32,vars:0,consts:[[1,"hero-section"],[1,"overlay"],[1,"content"],["href","#",1,"cta-button"]],template:function(p,E){1&p&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"h1"),u._uU(4,"Regulile \u0219i Reglement\u0103rile"),u.qZA(),u.TgZ(5,"p"),u._uU(6,"Apreciem cooperarea \u0219i \xeen\u021belegerea dvs. \xeen respectarea regulilor grupului nostru."),u.qZA(),u.TgZ(7,"a",3),u._uU(8,"Get Started"),u.qZA()()(),u.TgZ(9,"h2"),u._uU(10,"Regulile \u0219i Reglement\u0103rile"),u.qZA(),u.TgZ(11,"ul")(12,"li"),u._uU(13,"Nu este permis\u0103 nicio form\u0103 de publicitate."),u.qZA(),u.TgZ(14,"li"),u._uU(15,"Respecta\u021bi to\u021bi membrii."),u.qZA(),u.TgZ(16,"li"),u._uU(17,"F\u0103r\u0103 spam."),u.qZA(),u.TgZ(18,"li"),u._uU(19,"F\u0103r\u0103 limbaj ofensator."),u.qZA(),u.TgZ(20,"li"),u._uU(21,"R\u0103m\xe2ne\u021bi la subiect."),u.qZA(),u.TgZ(22,"li"),u._uU(23,"Raporta\u021bi \xeenc\u0103lc\u0103rile regulilor c\u0103tre administratori."),u.qZA(),u.TgZ(24,"li"),u._uU(25,"Folosi\u021bi un limbaj adecvat."),u.qZA(),u.TgZ(26,"li"),u._uU(27,"F\u0103r\u0103 discursuri de ur\u0103 sau h\u0103r\u021buire."),u.qZA(),u.TgZ(28,"li"),u._uU(29,"Respecta\u021bi Standardele Comunit\u0103\u021bii Facebook."),u.qZA()(),u.TgZ(30,"p"),u._uU(31,"Dac\u0103 dori\u021bi s\u0103 v\u0103 oferi\u021bi serviciile comunit\u0103\u021bii, v\u0103 rug\u0103m s\u0103 trimite\u021bi detaliile serviciilor dumneavoastr\u0103 prin intermediul site-ului nostru. Un administrator va revizui trimiterea dvs. \u0219i o va ad\u0103uga \xeen grup c\xe2t mai cur\xe2nd posibil. Apreciem cooperarea \u0219i \xeen\u021belegerea dvs. \xeen respectarea regulilor grupului nostru."),u.qZA())},styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Arial,sans-serif;height:100%}.hero-section[_ngcontent-%COMP%]{position:relative;height:100vh;background:url(http://source.unsplash.com/800x600/?Seattle) no-repeat center center/cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#fff}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:3em;margin:.5em 0}p[_ngcontent-%COMP%]{font-size:1.5em;margin:.5em 0}.cta-button[_ngcontent-%COMP%]{display:inline-block;padding:.75em 1.5em;margin-top:1em;font-size:1.2em;color:#fff;background-color:#f60;border:none;border-radius:5px;text-decoration:none;cursor:pointer;transition:background-color .3s ease}.cta-button[_ngcontent-%COMP%]:hover{background-color:#e65c00}"]})}return f})();function Mg(f,o){1&f&&u._UZ(0,"app-event-card",7),2&f&&u.Q6J("event",o.$implicit)}let a_=(()=>{class f{constructor(a,p){this.eventService=a,this.router=p,this.events=[]}ngOnInit(){this.eventService.getEvents().subscribe(a=>{this.events=a})}navigateToAddEvent(){this.router.navigate(["/add-event"])}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(Vn.n),u.Y36(Yt.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-events"]],decls:12,vars:1,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"add-service-container"],[3,"click"],[1,"services-container"],[3,"event",4,"ngFor","ngForOf"],[3,"event"]],template:function(p,E){1&p&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._uU(3,"Lista de Evenimente"),u.qZA()(),u.TgZ(4,"div",2)(5,"h2"),u._uU(6,"Descoperi\u021bi serviciile oferite de membrii comunit\u0103\u021bii"),u.qZA()()(),u.TgZ(7,"div",3)(8,"button",4),u.NdJ("click",function(){return E.navigateToAddEvent()}),u._uU(9,"Adaugati un Eveniment"),u.qZA()(),u.TgZ(10,"div",5),u.YNc(11,Mg,1,1,"app-event-card",6),u.qZA()),2&p&&(u.xp6(11),u.Q6J("ngForOf",E.events))},dependencies:[W.sg,Uu],styles:[".hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.section-header[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;background-color:#f0f0f0}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:10px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.service-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:10px;padding:40px;width:calc(25% - 32px);box-sizing:border-box;position:relative;min-width:400px}.card-header[_ngcontent-%COMP%]{text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333}.card-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-top:4px}.card-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:gold}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}.services-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:30px;padding:30px}.services-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.services-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px;font-size:1rem}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}.add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.services-control[_ngcontent-%COMP%]{flex-direction:column}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}"]})}return f})();function c_(f,o){1&f&&u._UZ(0,"app-offer-card",7),2&f&&u.Q6J("offer",o.$implicit)}let Ny=(()=>{class f{constructor(a,p){this.offersService=a,this.router=p,this.offers=[]}ngOnInit(){this.offersService.getOffers().subscribe(a=>{console.log(a),this.offers=a})}navigateToAddOffer(){this.router.navigate(["/add-offers"])}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(yr.b),u.Y36(Yt.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-offers"]],decls:12,vars:1,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"add-service-container"],[3,"click"],[1,"offer-list"],[3,"offer",4,"ngFor","ngForOf"],[3,"offer"]],template:function(p,E){1&p&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._uU(3,"De toate pentru to\u021bi"),u.qZA()(),u.TgZ(4,"div",2)(5,"h2"),u._uU(6,"Descoperi\u021bi oferte de membrii comunit\u0103\u021bii"),u.qZA()()(),u.TgZ(7,"div",3)(8,"button",4),u.NdJ("click",function(){return E.navigateToAddOffer()}),u._uU(9,"Adaugati oferte"),u.qZA()(),u.TgZ(10,"div",5),u.YNc(11,c_,1,1,"app-offer-card",6),u.qZA()),2&p&&(u.xp6(11),u.Q6J("ngForOf",E.offers))},dependencies:[W.sg,Pc],styles:[".hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(http://source.unsplash.com/800x600/?Seattle);background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.section-header[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;background-color:#f0f0f0}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:10px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.add-offer-container[_ngcontent-%COMP%], .add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}.offer-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;justify-content:center}.offers[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.offers-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.offers-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a;margin:15px;width:calc(25% - 32px);overflow:hidden;transition:transform .3s,box-shadow .3s;min-width:400px}.offers-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 12px 24px #0003}.offer-card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:180px;object-fit:cover}.offers-card-content[_ngcontent-%COMP%]{padding:20px;text-align:left}.offers-card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;font-size:22px;font-weight:600}.offers-card-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 10px;font-size:18px;color:#666;font-weight:400}.offers-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 10px;font-size:16px;color:#777}.offers-footer[_ngcontent-%COMP%]{text-align:right;margin-top:10px}.featured[_ngcontent-%COMP%]{color:#007bff;font-weight:700}@media (max-width: 1024px){.offer-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.offer-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}"]})}return f})();class op{constructor(){this.Name="",this.Phone_Number="",this.Email="",this.Description="",this.Website="",this.Facebook="",this.Instagram="",this.Date_Created="",this.Date_Updated="",this.Image="",this.Approved=!1,this.OpenHour="",this.CloseHour=""}}class Pg extends op{constructor(){super(...arguments),this.id=""}}var yi=H(1920),Hs=H(2459),_l=H(4664),xc=H(7217),Jh=H(3106),is=H(5861),Ma=H(4303),xo=H(9058),Xh=H(4537);const Hu="firebasestorage.googleapis.com",Oc="storageBucket";class Oi extends xo.ZR{constructor(o,a,p=0){super(xg(o),`Firebase Storage: ${a} (${xg(o)})`),this.status_=p,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Oi.prototype)}get status(){return this.status_}set status(o){this.status_=o}_codeEquals(o){return xg(o)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(o){this.customData.serverResponse=o,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var pi=function(f){return f.UNKNOWN="unknown",f.OBJECT_NOT_FOUND="object-not-found",f.BUCKET_NOT_FOUND="bucket-not-found",f.PROJECT_NOT_FOUND="project-not-found",f.QUOTA_EXCEEDED="quota-exceeded",f.UNAUTHENTICATED="unauthenticated",f.UNAUTHORIZED="unauthorized",f.UNAUTHORIZED_APP="unauthorized-app",f.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",f.INVALID_CHECKSUM="invalid-checksum",f.CANCELED="canceled",f.INVALID_EVENT_NAME="invalid-event-name",f.INVALID_URL="invalid-url",f.INVALID_DEFAULT_BUCKET="invalid-default-bucket",f.NO_DEFAULT_BUCKET="no-default-bucket",f.CANNOT_SLICE_BLOB="cannot-slice-blob",f.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",f.NO_DOWNLOAD_URL="no-download-url",f.INVALID_ARGUMENT="invalid-argument",f.INVALID_ARGUMENT_COUNT="invalid-argument-count",f.APP_DELETED="app-deleted",f.INVALID_ROOT_OPERATION="invalid-root-operation",f.INVALID_FORMAT="invalid-format",f.INTERNAL_ERROR="internal-error",f.UNSUPPORTED_ENVIRONMENT="unsupported-environment",f}(pi||{});function xg(f){return"storage/"+f}function ef(){return new Oi(pi.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function kg(){return new Oi(pi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function nf(){return new Oi(pi.CANCELED,"User canceled the upload/download.")}function Fg(){return new Oi(pi.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function qu(f){return new Oi(pi.INVALID_ARGUMENT,f)}function Lg(){return new Oi(pi.APP_DELETED,"The Firebase app was deleted.")}function Vg(f){return new Oi(pi.INVALID_ROOT_OPERATION,"The operation '"+f+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function rf(f,o){return new Oi(pi.INVALID_FORMAT,"String does not match format '"+f+"': "+o)}function sf(f){throw new Oi(pi.INTERNAL_ERROR,"Internal error: "+f)}class Js{constructor(o,a){this.bucket=o,this.path_=a}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const o=encodeURIComponent;return"/b/"+o(this.bucket)+"/o/"+o(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(o,a){let p;try{p=Js.makeFromUrl(o,a)}catch{return new Js(o,"")}if(""===p.path)return p;throw function Gu(f){return new Oi(pi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+f+"'.")}(o)}static makeFromUrl(o,a){let p=null;const E="([A-Za-z0-9.\\-_]+)",se=new RegExp("^gs://"+E+"(/(.*))?$","i");function je(Lr){Lr.path_=decodeURIComponent(Lr.path)}const Gt=a.replace(/[.]/g,"\\."),Jr=[{regex:se,indices:{bucket:1,path:3},postModify:function x(Lr){"/"===Lr.path.charAt(Lr.path.length-1)&&(Lr.path_=Lr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Gt}/v[A-Za-z0-9_]+/b/${E}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:je},{regex:new RegExp(`^https?://${a===Hu?"(?:storage.googleapis.com|storage.cloud.google.com)":a}/${E}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:je}];for(let Lr=0;Lr<Jr.length;Lr++){const ma=Jr[Lr],qs=ma.regex.exec(o);if(qs){let Qo=qs[ma.indices.path];Qo||(Qo=""),p=new Js(qs[ma.indices.bucket],Qo),ma.postModify(p);break}}if(null==p)throw function ap(f){return new Oi(pi.INVALID_URL,"Invalid URL '"+f+"'.")}(o);return p}}class up{constructor(o){this.promise_=Promise.reject(o)}getPromise(){return this.promise_}cancel(o=!1){}}function Wu(f){return"string"==typeof f||f instanceof String}function Nc(f){return dp()&&f instanceof Blob}function dp(){return typeof Blob<"u"}function Jd(f,o,a,p){if(p<o)throw qu(`Invalid value for '${f}'. Expected ${o} or greater.`);if(p>a)throw qu(`Invalid value for '${f}'. Expected ${a} or less.`)}function yl(f,o,a){let p=o;return null==a&&(p=`https://${o}`),`${a}://${p}/v0${f}`}function jg(f){const o=encodeURIComponent;let a="?";for(const p in f)f.hasOwnProperty(p)&&(a=a+(o(p)+"=")+o(f[p])+"&");return a=a.slice(0,-1),a}var vl=function(f){return f[f.NO_ERROR=0]="NO_ERROR",f[f.NETWORK_ERROR=1]="NETWORK_ERROR",f[f.ABORT=2]="ABORT",f}(vl||{});function hp(f,o){const a=f>=500&&f<600,E=-1!==[408,429].indexOf(f),x=-1!==o.indexOf(f);return a||E||x}class Hg{constructor(o,a,p,E,x,K,se,be,je,At,Gt,dn=!0){this.url_=o,this.method_=a,this.headers_=p,this.body_=E,this.successCodes_=x,this.additionalRetryCodes_=K,this.callback_=se,this.errorCallback_=be,this.timeout_=je,this.progressCallback_=At,this.connectionFactory_=Gt,this.retry=dn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((yn,cn)=>{this.resolve_=yn,this.reject_=cn,this.start_()})}start_(){const a=(p,E)=>{const x=this.resolve_,K=this.reject_,se=E.connection;if(E.wasSuccessCode)try{const be=this.callback_(se,se.getResponse());!function Bg(f){return void 0!==f}(be)?x():x(be)}catch(be){K(be)}else if(null!==se){const be=ef();be.serverResponse=se.getErrorText(),K(this.errorCallback_?this.errorCallback_(se,be):be)}else K(E.canceled?this.appDelete_?Lg():nf():kg())};this.canceled_?a(0,new Zu(!1,null,!0)):this.backoffId_=function af(f,o,a){let p=1,E=null,x=null,K=!1,se=0;function be(){return 2===se}let je=!1;function At(...On){je||(je=!0,o.apply(null,On))}function Gt(On){E=setTimeout(()=>{E=null,f(yn,be())},On)}function dn(){x&&clearTimeout(x)}function yn(On,...$r){if(je)return void dn();if(On)return dn(),void At.call(null,On,...$r);if(be()||K)return dn(),void At.call(null,On,...$r);let Jr;p<64&&(p*=2),1===se?(se=2,Jr=0):Jr=1e3*(p+Math.random()),Gt(Jr)}let cn=!1;function ln(On){cn||(cn=!0,dn(),!je&&(null!==E?(On||(se=2),clearTimeout(E),Gt(0)):On||(se=1)))}return Gt(0),x=setTimeout(()=>{K=!0,ln(!0)},a),ln}((p,E)=>{if(E)return void p(!1,new Zu(!1,null,!0));const x=this.connectionFactory_();this.pendingConnection_=x;const K=se=>{null!==this.progressCallback_&&this.progressCallback_(se.loaded,se.lengthComputable?se.total:-1)};null!==this.progressCallback_&&x.addUploadProgressListener(K),x.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&x.removeUploadProgressListener(K),this.pendingConnection_=null;const se=x.getErrorCode()===vl.NO_ERROR,be=x.getStatus();if(!se||hp(be,this.additionalRetryCodes_)&&this.retry){const At=x.getErrorCode()===vl.ABORT;return void p(!1,new Zu(!1,null,At))}const je=-1!==this.successCodes_.indexOf(be);p(!0,new Zu(je,x))})},a,this.timeout_)}getPromise(){return this.promise_}cancel(o){this.canceled_=!0,this.appDelete_=o||!1,null!==this.backoffId_&&function Ug(f){f(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Zu{constructor(o,a,p){this.wasSuccessCode=o,this.connection=a,this.canceled=!!p}}function lf(...f){const o=function d_(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==o){const a=new o;for(let p=0;p<f.length;p++)a.append(f[p]);return a.getBlob()}if(dp())return new Blob(f);throw new Oi(pi.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Xs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class El{constructor(o,a){this.data=o,this.contentType=a||null}}function ou(f,o){switch(f){case Xs.RAW:return new El(_p(o));case Xs.BASE64:case Xs.BASE64URL:return new El(h_(f,o));case Xs.DATA_URL:return new El(function kc(f){const o=new yp(f);return o.base64?h_(Xs.BASE64,o.rest):function Gg(f){let o;try{o=decodeURIComponent(f)}catch{throw rf(Xs.DATA_URL,"Malformed data URL.")}return _p(o)}(o.rest)}(o),function vp(f){return new yp(f).contentType}(o))}throw ef()}function _p(f){const o=[];for(let a=0;a<f.length;a++){let p=f.charCodeAt(a);p<=127?o.push(p):p<=2047?o.push(192|p>>6,128|63&p):55296==(64512&p)?a<f.length-1&&56320==(64512&f.charCodeAt(a+1))?(p=65536|(1023&p)<<10|1023&f.charCodeAt(++a),o.push(240|p>>18,128|p>>12&63,128|p>>6&63,128|63&p)):o.push(239,191,189):56320==(64512&p)?o.push(239,191,189):o.push(224|p>>12,128|p>>6&63,128|63&p)}return new Uint8Array(o)}function h_(f,o){switch(f){case Xs.BASE64:{const E=-1!==o.indexOf("-"),x=-1!==o.indexOf("_");if(E||x)throw rf(f,"Invalid character '"+(E?"-":"_")+"' found: is it base64url encoded?");break}case Xs.BASE64URL:{const E=-1!==o.indexOf("+"),x=-1!==o.indexOf("/");if(E||x)throw rf(f,"Invalid character '"+(E?"+":"/")+"' found: is it base64 encoded?");o=o.replace(/-/g,"+").replace(/_/g,"/");break}}let a;try{a=function mp(f){if(typeof atob>"u")throw function l_(f){return new Oi(pi.UNSUPPORTED_ENVIRONMENT,`${f} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(f)}(o)}catch(E){throw E.message.includes("polyfill")?E:rf(f,"Invalid character found")}const p=new Uint8Array(a.length);for(let E=0;E<a.length;E++)p[E]=a.charCodeAt(E);return p}class yp{constructor(o){this.base64=!1,this.contentType=null;const a=o.match(/^data:([^,]+)?,/);if(null===a)throw rf(Xs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const p=a[1]||null;null!=p&&(this.base64=function Ep(f,o){return f.length>=o.length&&f.substring(f.length-o.length)===o}(p,";base64"),this.contentType=this.base64?p.substring(0,p.length-7):p),this.rest=o.substring(o.indexOf(",")+1)}}class qo{constructor(o,a){let p=0,E="";Nc(o)?(this.data_=o,p=o.size,E=o.type):o instanceof ArrayBuffer?(a?this.data_=new Uint8Array(o):(this.data_=new Uint8Array(o.byteLength),this.data_.set(new Uint8Array(o))),p=this.data_.length):o instanceof Uint8Array&&(a?this.data_=o:(this.data_=new Uint8Array(o.length),this.data_.set(o)),p=o.length),this.size_=p,this.type_=E}size(){return this.size_}type(){return this.type_}slice(o,a){if(Nc(this.data_)){const E=function gp(f,o,a){return f.webkitSlice?f.webkitSlice(o,a):f.mozSlice?f.mozSlice(o,a):f.slice?f.slice(o,a):null}(this.data_,o,a);return null===E?null:new qo(E)}{const p=new Uint8Array(this.data_.buffer,o,a-o);return new qo(p,!0)}}static getBlob(...o){if(dp()){const a=o.map(p=>p instanceof qo?p.data_:p);return new qo(lf.apply(null,a))}{const a=o.map(K=>Wu(K)?ou(Xs.RAW,K).data:K.data_);let p=0;a.forEach(K=>{p+=K.byteLength});const E=new Uint8Array(p);let x=0;return a.forEach(K=>{for(let se=0;se<K.length;se++)E[x++]=K[se]}),new qo(E,!0)}}uploadData(){return this.data_}}function au(f){let o;try{o=JSON.parse(f)}catch{return null}return function cf(f){return"object"==typeof f&&!Array.isArray(f)}(o)?o:null}function Ly(f){const o=f.lastIndexOf("/",f.length-2);return-1===o?f:f.slice(o+1)}function Wg(f,o){return o}class eo{constructor(o,a,p,E){this.server=o,this.local=a||o,this.writable=!!p,this.xform=E||Wg}}let Xd=null;function Fc(){if(Xd)return Xd;const f=[];f.push(new eo("bucket")),f.push(new eo("generation")),f.push(new eo("metageneration")),f.push(new eo("name","fullPath",!0));const a=new eo("name");a.xform=function o(x,K){return function eh(f){return!Wu(f)||f.length<2?f:Ly(f)}(K)},f.push(a);const E=new eo("size");return E.xform=function p(x,K){return void 0!==K?Number(K):K},f.push(E),f.push(new eo("timeCreated")),f.push(new eo("updated")),f.push(new eo("md5Hash",null,!0)),f.push(new eo("cacheControl",null,!0)),f.push(new eo("contentDisposition",null,!0)),f.push(new eo("contentEncoding",null,!0)),f.push(new eo("contentLanguage",null,!0)),f.push(new eo("contentType",null,!0)),f.push(new eo("metadata","customMetadata",!0)),Xd=f,Xd}function Tp(f,o,a){const p=au(o);return null===p?null:function bp(f,o,a){const p={type:"file"},E=a.length;for(let x=0;x<E;x++){const K=a[x];p[K.local]=K.xform(p,o[K.server])}return function Ip(f,o){Object.defineProperty(f,"ref",{get:function a(){const x=new Js(f.bucket,f.fullPath);return o._makeStorageReference(x)}})}(p,f),p}(f,p,a)}function Il(f,o){const a={},p=o.length;for(let E=0;E<p;E++){const x=o[E];x.writable&&(a[x.server]=f[x.local])}return JSON.stringify(a)}const Cp="prefixes",p_="items";class Pa{constructor(o,a,p,E){this.url=o,this.method=a,this.handler=p,this.timeout=E,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function $s(f){if(!f)throw ef()}function fa(f,o){return function a(p,E){const x=Tp(f,E,o);return $s(null!==x),x}}function Yu(f){return function o(a,p){let E;return E=401===a.getStatus()?a.getErrorText().includes("Firebase App Check token is invalid")?function Ng(){return new Oi(pi.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function zu(){return new Oi(pi.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===a.getStatus()?function Og(f){return new Oi(pi.QUOTA_EXCEEDED,"Quota for bucket '"+f+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(f.bucket):403===a.getStatus()?function ky(f){return new Oi(pi.UNAUTHORIZED,"User does not have permission to access '"+f+"'.")}(f.path):p,E.status=a.getStatus(),E.serverResponse=p.serverResponse,E}}function Lc(f){const o=Yu(f);return function a(p,E){let x=o(p,E);return 404===p.getStatus()&&(x=function tf(f){return new Oi(pi.OBJECT_NOT_FOUND,"Object '"+f+"' does not exist.")}(f.path)),x.serverResponse=E.serverResponse,x}}function Yg(f,o,a){const E=yl(o.fullServerUrl(),f.host,f._protocol),K=f.maxOperationRetryTime,se=new Pa(E,"GET",fa(f,a),K);return se.errorHandler=Lc(o),se}function Ap(f,o,a,p,E){const x={};x.prefix=o.isRoot?"":o.path+"/",a&&a.length>0&&(x.delimiter=a),p&&(x.pageToken=p),E&&(x.maxResults=E);const se=yl(o.bucketOnlyServerUrl(),f.host,f._protocol),je=f.maxOperationRetryTime,At=new Pa(se,"GET",function Vy(f,o){return function a(p,E){const x=function wp(f,o,a){const p=au(a);return null===p?null:function Zg(f,o,a){const p={prefixes:[],items:[],nextPageToken:a.nextPageToken};if(a[Cp])for(const E of a[Cp]){const x=E.replace(/\/$/,""),K=f._makeStorageReference(new Js(o,x));p.prefixes.push(K)}if(a[p_])for(const E of a[p_]){const x=f._makeStorageReference(new Js(o,E.name));p.items.push(x)}return p}(f,o,p)}(f,o,E);return $s(null!==x),x}}(f,o.bucket),je);return At.urlParams=x,At.errorHandler=Yu(o),At}function Qu(f,o,a){const p=Object.assign({},a);return p.fullPath=f.path,p.size=o.size(),p.contentType||(p.contentType=function Dp(f,o){return f&&f.contentType||o&&o.type()||"application/octet-stream"}(null,o)),p}class Vc{constructor(o,a,p,E){this.current=o,this.total=a,this.finalized=!!p,this.metadata=E||null}}function uf(f,o){let a=null;try{a=f.getResponseHeader("X-Goog-Upload-Status")}catch{$s(!1)}return $s(!!a&&-1!==(o||["active"]).indexOf(a)),a}const Hy={STATE_CHANGED:"state_changed"},ss={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function th(f){switch(f){case"running":case"pausing":case"canceling":return ss.RUNNING;case"paused":return ss.PAUSED;case"success":return ss.SUCCESS;case"canceled":return ss.CANCELED;default:return ss.ERROR}}class m_{constructor(o,a,p){if(function u_(f){return"function"==typeof f}(o)||null!=a||null!=p)this.next=o,this.error=a??void 0,this.complete=p??void 0;else{const x=o;this.next=x.next,this.error=x.error,this.complete=x.complete}}}function nh(f){return(...o)=>{Promise.resolve().then(()=>f(...o))}}let cu=null;class Jg{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=vl.NO_ERROR,this.sendPromise_=new Promise(o=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=vl.ABORT,o()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=vl.NETWORK_ERROR,o()}),this.xhr_.addEventListener("load",()=>{o()})})}send(o,a,p,E){if(this.sent_)throw sf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(a,o,!0),void 0!==E)for(const x in E)E.hasOwnProperty(x)&&this.xhr_.setRequestHeader(x,E[x].toString());return void 0!==p?this.xhr_.send(p):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw sf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw sf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw sf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw sf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(o){return this.xhr_.getResponseHeader(o)}addUploadProgressListener(o){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",o)}removeUploadProgressListener(o){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",o)}}class $y extends Jg{initXhr(){this.xhr_.responseType="text"}}function nc(){return cu?cu():new $y}class xp{constructor(o,a,p=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=o,this._blob=a,this._metadata=p,this._mappings=Fc(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=E=>{if(this._request=void 0,this._chunkMultiplier=1,E._codeEquals(pi.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const x=this.isExponentialBackoffExpired();if(hp(E.status,[])){if(!x)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();E=kg()}this._error=E,this._transition("error")}},this._metadataErrorHandler=E=>{this._request=void 0,E._codeEquals(pi.CANCELED)?this.completeTransitions_():(this._error=E,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((E,x)=>{this._resolve=E,this._reject=x,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const o=this._transferred;return a=>this._updateProgress(o+a)}_shouldDoResumable(o){return o.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(o){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([a,p])=>{switch(this._state){case"running":o(a,p);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((o,a)=>{const p=function Sp(f,o,a,p,E){const x=o.bucketOnlyServerUrl(),K=Qu(o,p,E),se={name:K.fullPath},be=yl(x,f.host,f._protocol),At={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${p.size()}`,"X-Goog-Upload-Header-Content-Type":K.contentType,"Content-Type":"application/json; charset=utf-8"},Gt=Il(K,a),cn=new Pa(be,"POST",function yn(ln){let On;uf(ln);try{On=ln.getResponseHeader("X-Goog-Upload-URL")}catch{$s(!1)}return $s(Wu(On)),On},f.maxUploadRetryTime);return cn.urlParams=se,cn.headers=At,cn.body=Gt,cn.errorHandler=Yu(o),cn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),E=this._ref.storage._makeRequest(p,nc,o,a);this._request=E,E.getPromise().then(x=>{this._request=void 0,this._uploadUrl=x,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const o=this._uploadUrl;this._resolveToken((a,p)=>{const E=function Mp(f,o,a,p){const be=new Pa(a,"POST",function x(je){const At=uf(je,["active","final"]);let Gt=null;try{Gt=je.getResponseHeader("X-Goog-Upload-Size-Received")}catch{$s(!1)}Gt||$s(!1);const dn=Number(Gt);return $s(!isNaN(dn)),new Vc(dn,p.size(),"final"===At)},f.maxUploadRetryTime);return be.headers={"X-Goog-Upload-Command":"query"},be.errorHandler=Yu(o),be}(this._ref.storage,this._ref._location,o,this._blob),x=this._ref.storage._makeRequest(E,nc,a,p);this._request=x,x.getPromise().then(K=>{this._request=void 0,this._updateProgress(K.current),this._needToFetchStatus=!1,K.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const o=262144*this._chunkMultiplier,a=new Vc(this._transferred,this._blob.size()),p=this._uploadUrl;this._resolveToken((E,x)=>{let K;try{K=function g_(f,o,a,p,E,x,K,se){const be=new Vc(0,0);if(K?(be.current=K.current,be.total=K.total):(be.current=0,be.total=p.size()),p.size()!==be.total)throw function cp(){return new Oi(pi.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const je=be.total-be.current;let At=je;E>0&&(At=Math.min(At,E));const Gt=be.current;let yn="";yn=0===At?"finalize":je===At?"upload, finalize":"upload";const cn={"X-Goog-Upload-Command":yn,"X-Goog-Upload-Offset":`${be.current}`},ln=p.slice(Gt,Gt+At);if(null===ln)throw Fg();const Jr=new Pa(a,"POST",function On(Lr,ma){const qs=uf(Lr,["active","final"]),os=be.current+At,Qo=p.size();let Va;return Va="final"===qs?fa(o,x)(Lr,ma):null,new Vc(os,Qo,"final"===qs,Va)},o.maxUploadRetryTime);return Jr.headers=cn,Jr.body=ln.uploadData(),Jr.progressCallback=se||null,Jr.errorHandler=Yu(f),Jr}(this._ref._location,this._ref.storage,p,this._blob,o,this._mappings,a,this._makeProgressCallback())}catch(be){return this._error=be,void this._transition("error")}const se=this._ref.storage._makeRequest(K,nc,E,x,!1);this._request=se,se.getPromise().then(be=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(be.current),be.finalized?(this._metadata=be.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((o,a)=>{const p=Yg(this._ref.storage,this._ref._location,this._mappings),E=this._ref.storage._makeRequest(p,nc,o,a);this._request=E,E.getPromise().then(x=>{this._request=void 0,this._metadata=x,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((o,a)=>{const p=function Ra(f,o,a,p,E){const x=o.bucketOnlyServerUrl(),K={"X-Goog-Upload-Protocol":"multipart"},be=function se(){let Jr="";for(let Lr=0;Lr<2;Lr++)Jr+=Math.random().toString().slice(2);return Jr}();K["Content-Type"]="multipart/related; boundary="+be;const je=Qu(o,p,E),At=Il(je,a),yn=qo.getBlob("--"+be+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+At+"\r\n--"+be+"\r\nContent-Type: "+je.contentType+"\r\n\r\n",p,"\r\n--"+be+"--");if(null===yn)throw Fg();const cn={name:je.fullPath},ln=yl(x,f.host,f._protocol),$r=f.maxUploadRetryTime,ui=new Pa(ln,"POST",fa(f,a),$r);return ui.urlParams=cn,ui.headers=K,ui.body=yn.uploadData(),ui.errorHandler=Yu(o),ui}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),E=this._ref.storage._makeRequest(p,nc,o,a);this._request=E,E.getPromise().then(x=>{this._request=void 0,this._metadata=x,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(o){const a=this._transferred;this._transferred=o,this._transferred!==a&&this._notifyObservers()}_transition(o){if(this._state!==o)switch(o){case"canceling":case"pausing":this._state=o,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const a="paused"===this._state;this._state=o,a&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=o,this._notifyObservers();break;case"canceled":this._error=nf(),this._state=o,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const o=th(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:o,metadata:this._metadata,task:this,ref:this._ref}}on(o,a,p,E){const x=new m_(a||void 0,p||void 0,E||void 0);return this._addObserver(x),()=>{this._removeObserver(x)}}then(o,a){return this._promise.then(o,a)}catch(o){return this.then(null,o)}_addObserver(o){this._observers.push(o),this._notifyObserver(o)}_removeObserver(o){const a=this._observers.indexOf(o);-1!==a&&this._observers.splice(a,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(a=>{this._notifyObserver(a)})}_finishPromise(){if(void 0!==this._resolve){let o=!0;switch(th(this._state)){case ss.SUCCESS:nh(this._resolve.bind(null,this.snapshot))();break;case ss.CANCELED:case ss.ERROR:nh(this._reject.bind(null,this._error))();break;default:o=!1}o&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(o){switch(th(this._state)){case ss.RUNNING:case ss.PAUSED:o.next&&nh(o.next.bind(o,this.snapshot))();break;case ss.SUCCESS:o.complete&&nh(o.complete.bind(o))();break;default:o.error&&nh(o.error.bind(o,this._error))()}}resume(){const o="paused"===this._state||"pausing"===this._state;return o&&this._transition("running"),o}pause(){const o="running"===this._state;return o&&this._transition("pausing"),o}cancel(){const o="running"===this._state||"pausing"===this._state;return o&&this._transition("canceling"),o}}class Ju{constructor(o,a){this._service=o,this._location=a instanceof Js?a:Js.makeFromUrl(a,o.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(o,a){return new Ju(o,a)}get root(){const o=new Js(this._location.bucket,"");return this._newRef(this._service,o)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ly(this._location.path)}get storage(){return this._service}get parent(){const o=function Fy(f){if(0===f.length)return null;const o=f.lastIndexOf("/");return-1===o?"":f.slice(0,o)}(this._location.path);if(null===o)return null;const a=new Js(this._location.bucket,o);return new Ju(this._service,a)}_throwIfRoot(o){if(""===this._location.path)throw Vg(o)}}function nm(f,o,a){return df.apply(this,arguments)}function df(){return(df=(0,is.Z)(function*(f,o,a){const E=yield rm(f,{pageToken:a});o.prefixes.push(...E.prefixes),o.items.push(...E.items),null!=E.nextPageToken&&(yield nm(f,o,E.nextPageToken))})).apply(this,arguments)}function rm(f,o){null!=o&&"number"==typeof o.maxResults&&Jd("options.maxResults",1,1e3,o.maxResults);const a=o||{},p=Ap(f.storage,f._location,"/",a.pageToken,a.maxResults);return f.storage.makeRequestWithTokens(p,nc)}function sm(f){f._throwIfRoot("getDownloadURL");const o=function Uy(f,o,a){const E=yl(o.fullServerUrl(),f.host,f._protocol),K=f.maxOperationRetryTime,se=new Pa(E,"GET",function Kg(f,o){return function a(p,E){const x=Tp(f,E,o);return $s(null!==x),function f_(f,o,a,p){const E=au(o);if(null===E||!Wu(E.downloadTokens))return null;const x=E.downloadTokens;if(0===x.length)return null;const K=encodeURIComponent;return x.split(",").map(je=>{const Gt=f.fullPath;return yl("/b/"+K(f.bucket)+"/o/"+K(Gt),a,p)+jg({alt:"media",token:je})})[0]}(x,E,f.host,f._protocol)}}(f,a),K);return se.errorHandler=Lc(o),se}(f.storage,f._location,Fc());return f.storage.makeRequestWithTokens(o,nc).then(a=>{if(null===a)throw function lp(){return new Oi(pi.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return a})}function ed(f,o){const a=function qg(f,o){const a=o.split("/").filter(p=>p.length>0).join("/");return 0===f.length?a:f+"/"+a}(f._location.path,o),p=new Js(f._location.bucket,a);return new Ju(f.storage,p)}function hf(f,o){if(f instanceof Op){const a=f;if(null==a._bucket)throw function Qd(){return new Oi(pi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Oc+"' property when initializing the app?")}();const p=new Ju(a,a._bucket);return null!=o?hf(p,o):p}return void 0!==o?ed(f,o):f}function zs(f,o){if(o&&function om(f){return/^[A-Za-z]+:\/\//.test(f)}(o)){if(f instanceof Op)return function rh(f,o){return new Ju(f,o)}(f,o);throw qu("To use ref(service, url), the first argument must be a Storage instance.")}return hf(f,o)}function Qi(f,o){const a=o?.[Oc];return null==a?null:Js.makeFromBucketSpec(a,f)}class Op{constructor(o,a,p,E,x){this.app=o,this._authProvider=a,this._appCheckProvider=p,this._url=E,this._firebaseVersion=x,this._bucket=null,this._host=Hu,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=E?Js.makeFromBucketSpec(E,this._host):Qi(this._host,this.app.options)}get host(){return this._host}set host(o){this._host=o,this._bucket=null!=this._url?Js.makeFromBucketSpec(this._url,o):Qi(o,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(o){Jd("time",0,Number.POSITIVE_INFINITY,o),this._maxUploadRetryTime=o}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(o){Jd("time",0,Number.POSITIVE_INFINITY,o),this._maxOperationRetryTime=o}_getAuthToken(){var o=this;return(0,is.Z)(function*(){if(o._overrideAuthToken)return o._overrideAuthToken;const a=o._authProvider.getImmediate({optional:!0});if(a){const p=yield a.getToken();if(null!==p)return p.accessToken}return null})()}_getAppCheckToken(){var o=this;return(0,is.Z)(function*(){const a=o._appCheckProvider.getImmediate({optional:!0});return a?(yield a.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(o=>o.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(o){return new Ju(this,o)}_makeRequest(o,a,p,E,x=!0){if(this._deleted)return new up(Lg());{const K=function Ku(f,o,a,p,E,x,K=!0){const se=jg(f.urlParams),be=f.url+se,je=Object.assign({},f.headers);return function fp(f,o){o&&(f["X-Firebase-GMPID"]=o)}(je,o),function $g(f,o){null!==o&&o.length>0&&(f.Authorization="Firebase "+o)}(je,a),function zg(f,o){f["X-Firebase-Storage-Version"]="webjs/"+(o??"AppManager")}(je,x),function pp(f,o){null!==o&&(f["X-Firebase-AppCheck"]=o)}(je,p),new Hg(be,f.method,je,f.body,f.successCodes,f.additionalRetryCodes,f.handler,f.errorHandler,f.timeout,f.progressCallback,E,K)}(o,this._appId,p,E,a,this._firebaseVersion,x);return this._requests.add(K),K.getPromise().then(()=>this._requests.delete(K),()=>this._requests.delete(K)),K}}makeRequestWithTokens(o,a){var p=this;return(0,is.Z)(function*(){const[E,x]=yield Promise.all([p._getAuthToken(),p._getAppCheckToken()]);return p._makeRequest(o,a,E,x).getPromise()})()}}const ff="@firebase/storage",Np="storage";function pf(f,o){return zs(f=(0,xo.m9)(f),o)}function nd(f=(0,Ma.getApp)(),o){f=(0,xo.m9)(f);const p=(0,Ma._getProvider)(f,Np).getImmediate({identifier:o}),E=(0,xo.P0)("storage");return E&&Lp(p,...E),p}function Lp(f,o,a,p={}){!function rc(f,o,a,p={}){f.host=`${o}:${a}`,f._protocol="http";const{mockUserToken:E}=p;E&&(f._overrideAuthToken="string"==typeof E?E:(0,xo.Sg)(E,f.app.options.projectId))}(f,o,a,p)}function w_(f,{instanceIdentifier:o}){const a=f.getProvider("app").getImmediate(),p=f.getProvider("auth-internal"),E=f.getProvider("app-check-internal");return new Op(a,p,E,o,Ma.SDK_VERSION)}!function gf(){(0,Ma._registerComponent)(new Xh.wA(Np,w_,"PUBLIC").setMultipleInstances(!0)),(0,Ma.registerVersion)(ff,"0.12.5",""),(0,Ma.registerVersion)(ff,"0.12.5","esm2017")}();class Vp{constructor(o,a,p){this._delegate=o,this.task=a,this.ref=p}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class A_{constructor(o,a){this._delegate=o,this._ref=a,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Vp(this._delegate.snapshot,this,this._ref)}then(o,a){return this._delegate.then(p=>{if(o)return o(new Vp(p,this,this._ref))},a)}on(o,a,p,E){let x;return a&&(x="function"==typeof a?K=>a(new Vp(K,this,this._ref)):{next:a.next?K=>a.next(new Vp(K,this,this._ref)):void 0,complete:a.complete||void 0,error:a.error||void 0}),this._delegate.on(o,x,p||void 0,E||void 0)}}class cm{constructor(o,a){this._delegate=o,this._service=a}get prefixes(){return this._delegate.prefixes.map(o=>new Oo(o,this._service))}get items(){return this._delegate.items.map(o=>new Oo(o,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Oo{constructor(o,a){this._delegate=o,this.storage=a}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(o){const a=function Uc(f,o){return ed(f,o)}(this._delegate,o);return new Oo(a,this.storage)}get root(){return new Oo(this._delegate.root,this.storage)}get parent(){const o=this._delegate.parent;return null==o?null:new Oo(o,this.storage)}put(o,a){return this._throwIfRoot("put"),new A_(function T_(f,o,a){return function tm(f,o,a){return f._throwIfRoot("uploadBytesResumable"),new xp(f,new qo(o),a)}(f=(0,xo.m9)(f),o,a)}(this._delegate,o,a),this)}putString(o,a=Xs.RAW,p){this._throwIfRoot("putString");const E=ou(a,o),x=Object.assign({},p);return null==x.contentType&&null!=E.contentType&&(x.contentType=E.contentType),new A_(new xp(this._delegate,new qo(E.data,!0),x),this)}listAll(){return function kp(f){return function v_(f){const o={prefixes:[],items:[]};return nm(f,o).then(()=>o)}(f=(0,xo.m9)(f))}(this._delegate).then(o=>new cm(o,this.storage))}list(o){return function C_(f,o){return rm(f=(0,xo.m9)(f),o)}(this._delegate,o||void 0).then(a=>new cm(a,this.storage))}getMetadata(){return function td(f){return function im(f){f._throwIfRoot("getMetadata");const o=Yg(f.storage,f._location,Fc());return f.storage.makeRequestWithTokens(o,nc)}(f=(0,xo.m9)(f))}(this._delegate)}updateMetadata(o){return function vi(f,o){return function qy(f,o){f._throwIfRoot("updateMetadata");const a=function By(f,o,a,p){const x=yl(o.fullServerUrl(),f.host,f._protocol),se=Il(a,p),je=f.maxOperationRetryTime,At=new Pa(x,"PATCH",fa(f,p),je);return At.headers={"Content-Type":"application/json; charset=utf-8"},At.body=se,At.errorHandler=Lc(o),At}(f.storage,f._location,o,Fc());return f.storage.makeRequestWithTokens(a,nc)}(f=(0,xo.m9)(f),o)}(this._delegate,o)}getDownloadURL(){return function Hi(f){return sm(f=(0,xo.m9)(f))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Fp(f){return function vr(f){f._throwIfRoot("deleteObject");const o=function jy(f,o){const p=yl(o.fullServerUrl(),f.host,f._protocol),se=new Pa(p,"DELETE",function K(be,je){},f.maxOperationRetryTime);return se.successCodes=[200,204],se.errorHandler=Lc(o),se}(f.storage,f._location);return f.storage.makeRequestWithTokens(o,nc)}(f=(0,xo.m9)(f))}(this._delegate)}_throwIfRoot(o){if(""===this._delegate._location.path)throw Vg(o)}}class lm{constructor(o,a){this.app=o,this._delegate=a}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(o){if(bl(o))throw qu("ref() expected a child path but got a URL, use refFromURL instead.");return new Oo(pf(this._delegate,o),this)}refFromURL(o){if(!bl(o))throw qu("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Js.makeFromUrl(o,this._delegate.host)}catch{throw qu("refFromUrl() expected a valid full URL but got an invalid one.")}return new Oo(pf(this._delegate,o),this)}setMaxUploadRetryTime(o){this._delegate.maxUploadRetryTime=o}setMaxOperationRetryTime(o){this._delegate.maxOperationRetryTime=o}useEmulator(o,a,p={}){Lp(this._delegate,o,a,p)}}function bl(f){return/^[A-Za-z]+:\/\//.test(f)}function Up(f,{instanceIdentifier:o}){const a=f.getProvider("app-compat").getImmediate(),p=f.getProvider("storage").getImmediate({identifier:o});return new lm(a,p)}!function Wy(f){const o={TaskState:ss,TaskEvent:Hy,StringFormat:Xs,Storage:lm,Reference:Oo};f.INTERNAL.registerComponent(new Xh.wA("storage-compat",Up,"PUBLIC").setServiceProps(o).setMultipleInstances(!0)),f.registerVersion("@firebase/storage-compat","0.3.8")}(Jh.Z);var Zy=H(7142);function S_(f){const o=function Ky(f){return new br.y(o=>{const a=K=>o.next(K);a(f.snapshot);const x=f.on("state_changed",a);return f.then(K=>{a(K),o.complete()},K=>{a(f.snapshot),(K=>{o.error(K)})(K)}),function(){x()}}).pipe(ni(0))}(f);return{task:f,then:f.then.bind(f),catch:f.catch.bind(f),pause:f.pause.bind(f),cancel:f.cancel.bind(f),resume:f.resume.bind(f),snapshotChanges:()=>o,percentageChanges:()=>o.pipe((0,rr.U)(a=>a.bytesTransferred/a.totalBytes*100))}}function Bc(f){return{getDownloadURL:()=>(0,er.of)(void 0).pipe(yi.fc,(0,_l.w)(()=>f.getDownloadURL()),yi.iC),getMetadata:()=>(0,er.of)(void 0).pipe(yi.fc,(0,_l.w)(()=>f.getMetadata()),yi.iC),delete:()=>(0,Hs.D)(f.delete()),child:o=>Bc(f.child(o)),updateMetadata:o=>(0,Hs.D)(f.updateMetadata(o)),put:(o,a)=>S_(f.put(o,a)),putString:(o,a,p)=>S_(f.putString(o,a,p)),list:o=>(0,Hs.D)(f.list(o)),listAll:()=>(0,Hs.D)(f.listAll())}}const Yy=new u.OlP("angularfire2.storageBucket"),Cl=new u.OlP("angularfire2.storage.maxUploadRetryTime"),sh=new u.OlP("angularfire2.storage.maxOperationRetryTime"),jc=new u.OlP("angularfire2.storage.use-emulator");let mf=(()=>{class f{storage;constructor(a,p,E,x,K,se,be,je,At,Gt){const dn=(0,xc.on)(a,K,p);this.storage=(0,xc.cc)(`${dn.name}.storage.${E}`,"AngularFireStorage",dn.name,()=>{const yn=K.runOutsideAngular(()=>dn.storage(E||void 0)),cn=At;return cn&&yn.useEmulator(...cn),be&&yn.setMaxUploadRetryTime(be),je&&yn.setMaxOperationRetryTime(je),yn},[be,je])}ref(a){return Bc(this.storage.ref(a))}refFromURL(a){return Bc(this.storage.refFromURL(a))}upload(a,p,E){return Bc(this.storage.ref(a)).put(p,E)}static \u0275fac=function(p){return new(p||f)(u.LFG(xc.Dh),u.LFG(xc.xv,8),u.LFG(Yy,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(yi.HU),u.LFG(Cl,8),u.LFG(sh,8),u.LFG(jc,8),u.LFG(yi.Rf,8))};static \u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"any"})}return f})(),rd=(()=>{class f{static \u0275fac=function(p){return new(p||f)};static \u0275mod=u.oAB({type:f});static \u0275inj=u.cJS({})}return f})(),oh=(()=>{class f{constructor(){Zy.Z.registerVersion("angularfire",yi.q4.full,"gcs-compat")}static \u0275fac=function(p){return new(p||f)};static \u0275mod=u.oAB({type:f});static \u0275inj=u.cJS({providers:[mf],imports:[rd]})}return f})(),Hc=(()=>{class f{constructor(a){this.storage=a}uploadImage(a,p){const E=`${p}/${a.name}`,x=this.storage.ref(E),K=this.storage.upload(E,a);return new br.y(se=>{K.snapshotChanges().pipe((0,mo.x)(()=>{x.getDownloadURL().subscribe(be=>{se.next(be),se.complete()})})).subscribe()})}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(mf))};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();function _f(f,o){if(1&f&&(u.TgZ(0,"option",26),u._uU(1),u.qZA()),2&f){const a=o.$implicit;u.Q6J("value",a),u.xp6(1),u.Oqu(a)}}let ah=(()=>{class f{constructor(a,p,E,x){this.fb=a,this.servicesService=p,this.imageUploadService=E,this.router=x,this.serviceTypes=[],this.selectedFile=null,this.serviceObj=new Pg,this.serviceForm=this.fb.group({Name:["",mn.kI.required],Email:["",[mn.kI.required,mn.kI.email]],Phone_Number:[""],Website:[""],Facebook:[""],Instagram:[""],Image:[""],Description:[""],Date_Created:[""],Community_Sponsor:[""],Service_Type:["",mn.kI.required]})}ngOnInit(){this.fetchServiceTypes()}onFileSelected(a){this.selectedFile=a.target.files[0]}fetchServiceTypes(){this.servicesService.getAllServiceTypes().subscribe(a=>{this.serviceTypes=a})}onSubmit(){this.serviceForm.valid&&(this.serviceObj.Name=this.serviceForm.value.Name,this.serviceObj.Phone_Number=this.serviceForm.value.Phone_Number,this.serviceObj.Service_Type=this.serviceForm.value.Service_Type,this.serviceObj.Community_Sponsor=!1,this.serviceObj.Email=this.serviceForm.value.Email,this.serviceObj.Website=this.serviceForm.value.Website,this.serviceObj.Facebook=this.serviceForm.value.Facebook,this.serviceObj.Instagram=this.serviceForm.value.Instagram,this.serviceObj.Description=this.serviceForm.value.Description,this.serviceObj.Date_Created=this.serviceForm.value.Date_Created,this.serviceObj.Image=this.serviceForm.value.Image,this.selectedFile?this.imageUploadService.uploadImage(this.selectedFile,"serviceImages").subscribe(a=>{this.serviceObj.Image=a,console.log(a),this.saveService()}):this.saveService())}saveService(){const a={id:this.serviceObj.id,Name:this.serviceObj.Name,Phone_Number:this.serviceObj.Phone_Number,Service_Type:this.serviceObj.Service_Type,Community_Sponsor:!1,Email:this.serviceObj.Email,Website:this.serviceObj.Website,Facebook:this.serviceObj.Facebook,Instagram:this.serviceObj.Instagram,Description:this.serviceObj.Description,Date_Created:(new Date).getDate.toString(),Date_Updated:(new Date).getDate.toString(),Image:this.serviceObj.Image,Approved:!1,OpenHour:"",CloseHour:""};this.servicesService.addService(a).subscribe(p=>{console.log("Service added successfully with ID:",p?.id),this.serviceForm.reset(),this.router.navigate(["/services",p?.id])})}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(mn.qu),u.Y36(Bu.r),u.Y36(Hc),u.Y36(Yt.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-add-service"]],decls:51,vars:3,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","Name",1,"required"],["id","Name","formControlName","Name","required",""],["for","Email",1,"required"],["id","Email","type","Email","formControlName","Email"],["for","Phone_Number"],["id","Phone_Number","formControlName","Phone_Number"],["for","Website"],["id","Website","formControlName","Website"],["for","Facebook"],["id","Facebook","formControlName","Facebook"],["for","Instagram"],["id","Instagram","formControlName","Instagram"],["for","Description",1,"required"],["id","Description","formControlName","Description"],["for","Service_Type",1,"required"],["id","Service_Type","formControlName","Service_Type","required",""],[3,"value",4,"ngFor","ngForOf"],["for","Image"],["type","file","formControlName","Image",3,"change"],["type","submit",3,"disabled"],[3,"value"]],template:function(p,E){1&p&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._uU(3,"Lista de Servicii"),u.qZA()(),u.TgZ(4,"div",2)(5,"h2"),u._uU(6,"Adaugati serviciile oferite pentru membrii comunit\u0103\u021bii"),u.qZA(),u._UZ(7,"p"),u.qZA()(),u.TgZ(8,"div",3)(9,"h2"),u._uU(10," Serviciile ad\u0103ugate prin aceast\u0103 pagin\u0103 sunt supuse aprob\u0103rii administratorului \xeenainte de a fi afi\u0219ate \xeen list\u0103."),u.qZA(),u.TgZ(11,"form",4),u.NdJ("ngSubmit",function(){return E.onSubmit()}),u.TgZ(12,"div",5)(13,"label",6),u._uU(14,"Nume:"),u.qZA(),u._UZ(15,"input",7),u.qZA(),u.TgZ(16,"div",5)(17,"label",8),u._uU(18,"Adresa Email:"),u.qZA(),u._UZ(19,"input",9),u.qZA(),u.TgZ(20,"div",5)(21,"label",10),u._uU(22,"Numar de telefon:"),u.qZA(),u._UZ(23,"input",11),u.qZA(),u.TgZ(24,"div",5)(25,"label",12),u._uU(26,"Pagina Web:"),u.qZA(),u._UZ(27,"input",13),u.qZA(),u.TgZ(28,"div",5)(29,"label",14),u._uU(30,"Pagina Facebook:"),u.qZA(),u._UZ(31,"input",15),u.qZA(),u.TgZ(32,"div",5)(33,"label",16),u._uU(34,"Instagram:(@username)"),u.qZA(),u._UZ(35,"input",17),u.qZA(),u.TgZ(36,"div",5)(37,"label",18),u._uU(38,"Descriere a serviciile oferite:"),u.qZA(),u._UZ(39,"textarea",19),u.qZA(),u.TgZ(40,"div",5)(41,"label",20),u._uU(42,"Categoria de serviciului:"),u.qZA(),u.TgZ(43,"select",21),u.YNc(44,_f,2,2,"option",22),u.qZA()(),u.TgZ(45,"div",5)(46,"label",23),u._uU(47,"Imagine:"),u.qZA(),u.TgZ(48,"input",24),u.NdJ("change",function(K){return E.onFileSelected(K)}),u.qZA()(),u.TgZ(49,"button",25),u._uU(50,"Add Service"),u.qZA()()()),2&p&&(u.xp6(11),u.Q6J("formGroup",E.serviceForm),u.xp6(33),u.Q6J("ngForOf",E.serviceTypes),u.xp6(5),u.Q6J("disabled",E.serviceForm.invalid))},dependencies:[W.sg,mn._Y,mn.YN,mn.Kr,mn.Fj,mn.EJ,mn.JJ,mn.JL,mn.Q7,mn.sg,mn.u],styles:['.hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.section-header[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;background-color:#f0f0f0}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:10px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.form-container[_ngcontent-%COMP%]{max-width:600px;margin:50px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;color:#fff;background-color:#007bff;border:none;border-radius:4px;cursor:pointer}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}']})}return f})(),yf=(()=>{class f{constructor(a,p){this.fb=a,this.eventsService=p,this.eventForm=this.fb.group({Approved:[""],Community_Sponsor:[""],Contact:[""],Description:["",mn.kI.required],Event_date:["",mn.kI.required],Location:["",mn.kI.required],Name:["",mn.kI.required],Phone_Number:[""],Poster_Image:["",mn.kI.required],Price:["",mn.kI.required],Website:[""]})}ngOnInit(){}onSubmit(){this.eventForm.valid&&this.eventsService.addEvent(this.eventForm.value).then(()=>{console.log("Event added successfully"),this.eventForm.reset()}).catch(p=>{console.error("Error adding event: ",p)})}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(mn.qu),u.Y36(Vn.n))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-add-event"]],decls:40,vars:2,consts:[[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","Name",1,"required"],["id","Name","formControlName","Name","required",""],["for","Contact"],["id","Contact","formControlName","Contact","required",""],["for","Poster_Image",1,"required"],["id","Poster_Image","formControlName","Poster_Image","required",""],["for","Phone_Number"],["id","Phone_Number","formControlName","Phone_Number"],["for","Event_date",1,"required"],["id","Event_date","type","date","formControlName","Event_date","required",""],["for","Location",1,"required"],["id","Location","formControlName","Location","required",""],["for","Description",1,"required"],["id","Description","formControlName","Description","required",""],["for","Price",1,"required"],["id","Price","formControlName","Price","required",""],["for","Website"],["id","Website","formControlName","Website"],["type","submit",3,"disabled"]],template:function(p,E){1&p&&(u.TgZ(0,"div",0)(1,"form",1),u.NdJ("ngSubmit",function(){return E.onSubmit()}),u.TgZ(2,"div",2)(3,"label",3),u._uU(4,"Titlu:"),u.qZA(),u._UZ(5,"input",4),u.qZA(),u.TgZ(6,"div",2)(7,"label",5),u._uU(8,"Persoana de contact:"),u.qZA(),u._UZ(9,"input",6),u.qZA(),u.TgZ(10,"div",2)(11,"label",7),u._uU(12,"Imagine poster:"),u.qZA(),u._UZ(13,"input",8),u.qZA(),u.TgZ(14,"div",2)(15,"label",9),u._uU(16,"Numar de Telefon:"),u.qZA(),u._UZ(17,"input",10),u.qZA(),u.TgZ(18,"div",2)(19,"label",11),u._uU(20,"Data Evenimentului:"),u.qZA(),u._UZ(21,"input",12),u.qZA(),u.TgZ(22,"div",2)(23,"label",13),u._uU(24,"Locatie:"),u.qZA(),u._UZ(25,"input",14),u.qZA(),u.TgZ(26,"div",2)(27,"label",15),u._uU(28,"Descriere:"),u.qZA(),u._UZ(29,"textarea",16),u.qZA(),u.TgZ(30,"div",2)(31,"label",17),u._uU(32,"Pret:"),u.qZA(),u._UZ(33,"input",18),u.qZA(),u.TgZ(34,"div",2)(35,"label",19),u._uU(36,"Website:"),u.qZA(),u._UZ(37,"input",20),u.qZA(),u.TgZ(38,"button",21),u._uU(39,"Adauga Eveniment"),u.qZA()()()),2&p&&(u.xp6(1),u.Q6J("formGroup",E.eventForm),u.xp6(37),u.Q6J("disabled",E.eventForm.invalid))},dependencies:[mn._Y,mn.Fj,mn.JJ,mn.JL,mn.Q7,mn.sg,mn.u],styles:['.form-container[_ngcontent-%COMP%]{max-width:600px;margin:100px auto 0;padding:50px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;color:#fff;border:none;border-radius:4px;cursor:pointer}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}']})}return f})();var lu=H(7104);function jp(f,o){if(1&f&&(u.TgZ(0,"option",28),u._uU(1),u.qZA()),2&f){const a=o.$implicit;u.Q6J("value",a),u.xp6(1),u.Oqu(a)}}let ch=(()=>{class f{constructor(a,p,E,x,K){this.fb=a,this.offersService=p,this.firestore=E,this.imageUploadService=x,this.router=K,this.offerTypes=[],this.offer={Title:"",Company_Name:"",Contact_Name:"",Phone_Number:"",Email:"",Description:"",Location:"",Website:"",Filled:!1,Date_Created:(new Date).toISOString(),Price:"",Image1:"",Image2:"",Image3:"",Image4:"",Image5:"",OfferType:"",Facebook:"",Instagram:"",id:"",Community_Sponsor:!1,Approved:!1,ApprovedDate:""},this.selectedFiles=null,this.offerForm=this.fb.group({Title:["",mn.kI.required],Company_Name:[""],Contact_Name:["",mn.kI.required],Phone_Number:["",mn.kI.required],Email:["",[mn.kI.email]],Location:["",mn.kI.required],Website:[""],Description:["",mn.kI.required],Price:[""],Image1:[""],Image2:[""],Image3:[""],Image4:[""],Image5:[""],Filled:!1,Date_Created:[""],ApprovedDate:[""],OfferType:[""],Community_Sponsor:!1})}onFileSelected(a){this.selectedFiles=a.target.files}ngOnInit(){this.offersService.getAllOfferTypes().subscribe(a=>{this.offerTypes=a})}onSubmit(a){var p=this;if(console.log(a),this.selectedFiles&&this.selectedFiles.length>0){const E=[];for(let x=0;x<this.selectedFiles.length;x++){const se=this.imageUploadService.uploadImage(this.selectedFiles[x],"offers");E.push(se)}(0,Ys.D)(E).pipe((0,rr.U)(x=>{this.offer.Image1=x[0]||"",this.offer.Image2=x[1]||"",this.offer.Image3=x[2]||"",this.offer.Image4=x[3]||"",this.offer.Image5=x[4]||""}),(0,_l.w)((0,is.Z)(function*(){return p.saveOffer()}))).subscribe()}else this.saveOffer().subscribe()}saveOffer(){return(0,Hs.D)(this.firestore.collection("Offers").add(this.offer).then(a=>{console.log("Offer added with ID:",a.id),this.router.navigate(["/offers",a.id])}).catch(a=>{console.error("Error adding offer:",a)}))}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(mn.qu),u.Y36(yr.b),u.Y36(lu.ST),u.Y36(Hc),u.Y36(Yt.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-add-offers"]],decls:50,vars:11,consts:[[1,"form-container"],[3,"ngSubmit"],["offerForm","ngForm"],[1,"form-group"],["for","Title",1,"required"],["type","text","name","Title","required","","placeholder","Title",3,"ngModel","ngModelChange"],["for","Company_Name"],["type","text","name","Company_Name","required","","placeholder","Company Name",3,"ngModel","ngModelChange"],["for","Contact_Name",1,"required"],["type","text","name","Contact_Name","required","","placeholder","Contact Name",3,"ngModel","ngModelChange"],["for","Phone_Number",1,"required"],["type","text","name","Phone_Number","required","","placeholder","Phone Number",3,"ngModel","ngModelChange"],["for","Email"],["type","email","name","Email","required","","placeholder","Email",3,"ngModel","ngModelChange"],["for","Description",1,"required"],["name","Description","required","","placeholder","Description",3,"ngModel","ngModelChange"],["for","Price"],["type","text","name","Price","required","","placeholder","Price",3,"ngModel","ngModelChange"],["for","Location",1,"required"],["type","text","name","Location","required","","placeholder","Location",3,"ngModel","ngModelChange"],["for","Website"],["type","url","name","Website","placeholder","Website",3,"ngModel","ngModelChange"],["for","OfferType"],["id","OfferType","name","OfferType","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","Images"],["type","file","id","Images","multiple","","accept","image/*",1,"form-control",3,"change"],["type","submit"],[3,"value"]],template:function(p,E){if(1&p){const x=u.EpF();u.TgZ(0,"div",0)(1,"form",1,2),u.NdJ("ngSubmit",function(){u.CHM(x);const se=u.MAs(2);return u.KtG(E.onSubmit(se))}),u.TgZ(3,"div",3)(4,"label",4),u._uU(5,"Titlu:"),u.qZA(),u.TgZ(6,"input",5),u.NdJ("ngModelChange",function(se){return E.offer.Title=se}),u.qZA()(),u.TgZ(7,"div",3)(8,"label",6),u._uU(9,"Numele Companiei:"),u.qZA(),u.TgZ(10,"input",7),u.NdJ("ngModelChange",function(se){return E.offer.Company_Name=se}),u.qZA()(),u.TgZ(11,"div",3)(12,"label",8),u._uU(13,"Numele persoanei de contact:"),u.qZA(),u.TgZ(14,"input",9),u.NdJ("ngModelChange",function(se){return E.offer.Contact_Name=se}),u.qZA()(),u.TgZ(15,"div",3)(16,"label",10),u._uU(17,"Numar de telefon:"),u.qZA(),u.TgZ(18,"input",11),u.NdJ("ngModelChange",function(se){return E.offer.Phone_Number=se}),u.qZA()(),u.TgZ(19,"div",3)(20,"label",12),u._uU(21,"Adresa de Email:"),u.qZA(),u.TgZ(22,"input",13),u.NdJ("ngModelChange",function(se){return E.offer.Email=se}),u.qZA()(),u.TgZ(23,"div",3)(24,"label",14),u._uU(25,"Descriere:"),u.qZA(),u.TgZ(26,"textarea",15),u.NdJ("ngModelChange",function(se){return E.offer.Description=se}),u.qZA()(),u.TgZ(27,"div",3)(28,"label",16),u._uU(29,"Pret:"),u.qZA(),u.TgZ(30,"input",17),u.NdJ("ngModelChange",function(se){return E.offer.Price=se}),u.qZA()(),u.TgZ(31,"div",3)(32,"label",18),u._uU(33,"Locatie:"),u.qZA(),u.TgZ(34,"input",19),u.NdJ("ngModelChange",function(se){return E.offer.Location=se}),u.qZA()(),u.TgZ(35,"div",3)(36,"label",20),u._uU(37,"Website:"),u.qZA(),u.TgZ(38,"input",21),u.NdJ("ngModelChange",function(se){return E.offer.Website=se}),u.qZA()(),u.TgZ(39,"div",3)(40,"label",22),u._uU(41,"Tip de oferta"),u.qZA(),u.TgZ(42,"select",23),u.NdJ("ngModelChange",function(se){return E.offer.OfferType=se}),u.YNc(43,jp,2,2,"option",24),u.qZA()(),u.TgZ(44,"div",3)(45,"label",25),u._uU(46,"Images"),u.qZA(),u.TgZ(47,"input",26),u.NdJ("change",function(se){return E.onFileSelected(se)}),u.qZA()(),u.TgZ(48,"button",27),u._uU(49,"Adauga Oferta"),u.qZA()()()}2&p&&(u.xp6(6),u.Q6J("ngModel",E.offer.Title),u.xp6(4),u.Q6J("ngModel",E.offer.Company_Name),u.xp6(4),u.Q6J("ngModel",E.offer.Contact_Name),u.xp6(4),u.Q6J("ngModel",E.offer.Phone_Number),u.xp6(4),u.Q6J("ngModel",E.offer.Email),u.xp6(4),u.Q6J("ngModel",E.offer.Description),u.xp6(4),u.Q6J("ngModel",E.offer.Price),u.xp6(4),u.Q6J("ngModel",E.offer.Location),u.xp6(4),u.Q6J("ngModel",E.offer.Website),u.xp6(4),u.Q6J("ngModel",E.offer.OfferType),u.xp6(1),u.Q6J("ngForOf",E.offerTypes))},dependencies:[W.sg,mn._Y,mn.YN,mn.Kr,mn.Fj,mn.EJ,mn.JJ,mn.JL,mn.Q7,mn.On,mn.F],styles:['.form-container[_ngcontent-%COMP%]{max-width:600px;margin:100px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;color:#fff;border:none;border-radius:4px;cursor:pointer}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}']})}return f})();function um(f,o){if(1&f&&(u.TgZ(0,"option",31),u._uU(1),u.qZA()),2&f){const a=o.$implicit;u.Q6J("value",a),u.xp6(1),u.Oqu(a)}}let lh=(()=>{class f{constructor(a,p,E,x,K){this.fb=a,this.route=p,this.router=E,this.servicesService=x,this.imageUploadService=K,this.serviceId=null,this.serviceTypes=[],this.selectedFile=null,this.serviceObj=new Pg,this.oldImage=null,this.serviceForm=this.fb.group({Name:["",mn.kI.required],Email:["",mn.kI.email],Phone_Number:["",mn.kI.required],Website:[""],Facebook:[""],Instagram:[""],Description:["",mn.kI.required],Service_Type:["",mn.kI.required],Image:[""],Date_Created:[""],Date_Updated:[""],Approved:[""]})}onFileSelected(a){this.selectedFile=a.target.files[0]}ngOnInit(){this.serviceId=this.route.snapshot.paramMap.get("id"),this.servicesService.getServiceById(this.serviceId).subscribe(a=>{this.serviceForm.patchValue({Id:this.serviceId,Name:a?.Name,Email:a?.Email,Phone_Number:a?.Phone_Number,Service_Type:a?.Service_Type,Website:a?.Website,Facebook:a?.Facebook,Instagram:a?.Instagram,Description:a?.Description,Date_Created:a?.Date_Created,Date_Updated:a?.Date_Updated,Approved:a?.Approved}),a?.Image&&(this.oldImage=a?.Image)}),this.fetchServiceTypes()}fetchServiceTypes(){this.servicesService.getAllServiceTypes().subscribe(a=>{this.serviceTypes=a})}onSubmit(){this.serviceForm.valid&&(this.serviceObj.id=this.serviceId?this.serviceId:"0",this.serviceObj.Name=this.serviceForm.value.Name,this.serviceObj.Phone_Number=this.serviceForm.value.Phone_Number,this.serviceObj.Service_Type=this.serviceForm.value.Service_Type,this.serviceObj.Community_Sponsor=!1,this.serviceObj.Email=this.serviceForm.value.Email,this.serviceObj.Website=this.serviceForm.value.Website,this.serviceObj.Facebook=this.serviceForm.value.Facebook,this.serviceObj.Instagram=this.serviceForm.value.Instagram,this.serviceObj.Description=this.serviceForm.value.Description,this.serviceObj.Date_Created=this.serviceForm.value.Date_Created,this.serviceObj.Date_Updated=this.serviceForm.value.Date_Updated,this.serviceObj.Approved=this.serviceForm.value.Approved,this.serviceObj.Image=this.serviceForm.value.Image,this.selectedFile?(console.log(this.selectedFile),this.imageUploadService.uploadImage(this.selectedFile,"serviceImages").subscribe(a=>{this.serviceObj.Image=a,this.saveService()})):(this.oldImage&&(this.serviceObj.Image=this.oldImage),this.saveService()))}saveService(){const a={id:this.serviceObj.id,Name:this.serviceObj.Name,Phone_Number:this.serviceObj.Phone_Number,Service_Type:this.serviceObj.Service_Type,Community_Sponsor:!1,Email:this.serviceObj.Email,Website:this.serviceObj.Website,Facebook:this.serviceObj.Facebook,Instagram:this.serviceObj.Instagram,Description:this.serviceObj.Description,Date_Created:this.serviceObj.Date_Created,Date_Updated:(new Date).getDate.toString(),Image:this.serviceObj.Image,Approved:!1,OpenHour:"",CloseHour:""};console.log(a);let p=this.route.snapshot.paramMap.get("id");this.servicesService.updateService(p,a).subscribe(E=>{console.log("Service updated successfully  ID:",E?.id),this.serviceForm.reset(),this.router.navigate(["/services",E?.id])})}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(mn.qu),u.Y36(Yt.gz),u.Y36(Yt.F0),u.Y36(Bu.r),u.Y36(Hc))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-edit-services"]],decls:55,vars:4,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","Name",1,"required"],["id","Name","formControlName","Name","required",""],["for","Email",1,"required"],["id","Email","type","Email","formControlName","Email"],["for","Phone_Number",1,"required"],["id","Phone_Number","formControlName","Phone_Number"],["for","Website"],["id","Website","formControlName","Website"],["for","Facebook"],["id","Facebook","formControlName","Facebook"],["for","Instagram"],["id","Instagram","formControlName","Instagram"],["for","Description",1,"required"],["id","Description","formControlName","Description"],["for","Image"],[1,"service-card-image-container"],[1,"service-card-image",3,"src"],["type","file","formControlName","Image",3,"change"],["for","Service_Type",1,"required"],["id","Service_Type","formControlName","Service_Type","required",""],[3,"value",4,"ngFor","ngForOf"],["type","submit",3,"disabled"],[2,"display","none"],["for","Approved"],["id","Approved","formControlName","Approved"],[3,"value"]],template:function(p,E){1&p&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._uU(3,"Lista de Servicii"),u.qZA()(),u.TgZ(4,"div",2)(5,"h2"),u._uU(6,"Adaugati serviciile oferite pentru membrii comunit\u0103\u021bii"),u.qZA()()(),u.TgZ(7,"div",3)(8,"form",4),u.NdJ("ngSubmit",function(){return E.onSubmit()}),u.TgZ(9,"div",5)(10,"label",6),u._uU(11,"Nume:"),u.qZA(),u._UZ(12,"input",7),u.qZA(),u.TgZ(13,"div",5)(14,"label",8),u._uU(15,"Adresa Email:"),u.qZA(),u._UZ(16,"input",9),u.qZA(),u.TgZ(17,"div",5)(18,"label",10),u._uU(19,"Numar de telefon:"),u.qZA(),u._UZ(20,"input",11),u.qZA(),u.TgZ(21,"div",5)(22,"label",12),u._uU(23,"Pagina Web:"),u.qZA(),u._UZ(24,"input",13),u.qZA(),u.TgZ(25,"div",5)(26,"label",14),u._uU(27,"Pagina Facebook:"),u.qZA(),u._UZ(28,"input",15),u.qZA(),u.TgZ(29,"div",5)(30,"label",16),u._uU(31,"Instagram:"),u.qZA(),u._UZ(32,"input",17),u.qZA(),u.TgZ(33,"div",5)(34,"label",18),u._uU(35,"Descriere a serviciile oferite:"),u.qZA(),u._UZ(36,"textarea",19),u.qZA(),u.TgZ(37,"div",5)(38,"label",20),u._uU(39,"Imagine:"),u.qZA(),u.TgZ(40,"div",21),u._UZ(41,"img",22),u.qZA(),u.TgZ(42,"input",23),u.NdJ("change",function(K){return E.onFileSelected(K)}),u.qZA()(),u.TgZ(43,"div",5)(44,"label",24),u._uU(45,"Categoria de serviciului:"),u.qZA(),u.TgZ(46,"select",25),u.YNc(47,um,2,2,"option",26),u.qZA()(),u.TgZ(48,"button",27),u._uU(49,"Salvati Serviciu"),u.qZA(),u.TgZ(50,"div",28)(51,"div")(52,"label",29),u._uU(53,"Approved:"),u.qZA(),u._UZ(54,"input",30),u.qZA()()()()),2&p&&(u.xp6(8),u.Q6J("formGroup",E.serviceForm),u.xp6(33),u.Q6J("src",E.oldImage,u.LSH),u.xp6(6),u.Q6J("ngForOf",E.serviceTypes),u.xp6(1),u.Q6J("disabled",E.serviceForm.invalid))},dependencies:[W.sg,mn._Y,mn.YN,mn.Kr,mn.Fj,mn.EJ,mn.JJ,mn.JL,mn.Q7,mn.sg,mn.u],styles:['.hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.form-container[_ngcontent-%COMP%]{max-width:600px;margin:50px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:10px 20px;font-size:16px;border-radius:5px;cursor:pointer;margin:10px 0;transition:background-color .3s ease}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}button[_ngcontent-%COMP%]:hover, select[_ngcontent-%COMP%]:hover{background-color:#0056b3}button[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #007bff40}.service-card-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.service-card-image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover;border:2px solid #ddd}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}']})}return f})();var Qy=H(8266);function Hp(f,o){if(1&f&&(u.TgZ(0,"div",5),u._UZ(1,"img",6),u.qZA()),2&f){const a=o.$implicit;u.xp6(1),u.Q6J("src",a,u.LSH)}}let uh=(()=>{class f{constructor(a,p,E){this.route=a,this.router=p,this.offerService=E,this.images=[]}ngOnInit(){const a=this.route.snapshot.paramMap.get("id");a&&this.offerService.getOfferById(a).subscribe(p=>{this.offer=p,this.images=[p.Image1,p.Image2,p.Image3,p.Image4,p.Image5].filter(E=>!!E)})}goBack(){this.router.navigate(["/offers"])}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(Yt.gz),u.Y36(Yt.F0),u.Y36(yr.b))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-offer-detail"]],decls:45,vars:15,consts:[[1,"offer-detail"],[1,"carousel"],["class","image-container",4,"ngFor","ngForOf"],["target","_blank",3,"href"],[3,"click"],[1,"image-container"],["alt","Offer Image",3,"src"]],template:function(p,E){1&p&&(u.TgZ(0,"div",0)(1,"h2"),u._uU(2),u.qZA(),u.TgZ(3,"div",1),u.YNc(4,Hp,2,1,"div",2),u.qZA(),u.TgZ(5,"p")(6,"strong"),u._uU(7,"Company Name:"),u.qZA(),u._uU(8),u.qZA(),u.TgZ(9,"p")(10,"strong"),u._uU(11,"Contact Name:"),u.qZA(),u._uU(12),u.qZA(),u.TgZ(13,"p")(14,"strong"),u._uU(15,"Phone Number:"),u.qZA(),u._uU(16),u.qZA(),u.TgZ(17,"p")(18,"strong"),u._uU(19,"Email:"),u.qZA(),u._uU(20),u.qZA(),u.TgZ(21,"p")(22,"strong"),u._uU(23,"Description:"),u.qZA(),u._uU(24),u.qZA(),u.TgZ(25,"p")(26,"strong"),u._uU(27,"Location:"),u.qZA(),u._uU(28),u.qZA(),u.TgZ(29,"p")(30,"strong"),u._uU(31,"Website:"),u.qZA(),u.TgZ(32,"a",3),u._uU(33),u.qZA()(),u.TgZ(34,"p")(35,"strong"),u._uU(36,"Offer Type:"),u.qZA(),u._uU(37),u.qZA(),u.TgZ(38,"p")(39,"strong"),u._uU(40,"Date Created:"),u.qZA(),u._uU(41),u.ALo(42,"date"),u.qZA(),u.TgZ(43,"button",4),u.NdJ("click",function(){return E.goBack()}),u._uU(44,"Back to Offers"),u.qZA()()),2&p&&(u.xp6(2),u.Oqu(null==E.offer?null:E.offer.Title),u.xp6(2),u.Q6J("ngForOf",E.images),u.xp6(4),u.hij(" ",null==E.offer?null:E.offer.Company_Name,""),u.xp6(4),u.hij(" ",null==E.offer?null:E.offer.Contact_Name,""),u.xp6(4),u.hij(" ",null==E.offer?null:E.offer.Phone_Number,""),u.xp6(4),u.hij(" ",null==E.offer?null:E.offer.Email,""),u.xp6(4),u.hij(" ",null==E.offer?null:E.offer.Description,""),u.xp6(4),u.hij(" ",null==E.offer?null:E.offer.Location,""),u.xp6(4),u.Q6J("href",null==E.offer?null:E.offer.Website,u.LSH),u.xp6(1),u.Oqu(null==E.offer?null:E.offer.Website),u.xp6(4),u.hij(" ",null==E.offer?null:E.offer.OfferType,""),u.xp6(4),u.hij(" ",u.xi3(42,12,null==E.offer?null:E.offer.Date_Created,"shortDate"),""))},dependencies:[W.sg,W.uU],styles:[".offer-detail[_ngcontent-%COMP%]{max-width:600px;margin:100px auto auto;padding:16px;border:1px solid #ddd;border-radius:4px;box-shadow:0 2px 4px #0000001a}.carousel[_ngcontent-%COMP%]{display:flex;overflow:hidden;max-height:300px;margin-bottom:16px}.image-container[_ngcontent-%COMP%]{flex:0 0 400px;overflow:hidden;position:relative}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;max-height:300px;object-fit:cover}button[_ngcontent-%COMP%]{display:block;margin:16px auto;padding:8px 16px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return f})();var $p=H(4626);function vf(f,o){if(1&f){const a=u.EpF();u.TgZ(0,"button",12),u.NdJ("click",function(){u.CHM(a);const E=u.oxw();return u.KtG(E.navigateToEditService(E.service.id))}),u._uU(1,"Edit"),u.qZA()}}let Jy=(()=>{class f{constructor(a,p,E,x){this.route=a,this.servicesService=p,this.router=E,this.authService=x,this.service=new Pg,this.serviceId=null,this.isLoggedIn$=this.authService.isLoggedIn()}ngOnInit(){this.serviceId=this.route.snapshot.paramMap.get("id"),this.servicesService.getServiceById(this.serviceId).subscribe(a=>{a&&(this.service.Community_Sponsor=a?.Community_Sponsor,this.service.Name=a.Name,this.service.Date_Created=a.Date_Created,this.service.Description=a.Description,this.service.Email=a.Email,this.service.Facebook=a.Facebook,this.service.Instagram=a.Instagram,this.service.Phone_Number=a.Phone_Number,this.service.Service_Type=a.Service_Type,this.service.Website=Qh(a.Website),this.service.Image=a.Image,this.serviceId&&(this.service.id=this.serviceId),console.log("Image",a?.Image),(""==a.Image||void 0===a.Image)&&(this.service.Image="https://firebasestorage.googleapis.com/v0/b/romaniinseattle.appspot.com/o/serviceImages%2FdafaultImage.jpg?alt=media&token=3b0787df-12f0-444a-a426-013843534f1e"))})}goBack(){this.router.navigate(["/services"])}navigateToEditService(a){this.router.navigate(["/edit-service",a])}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(Yt.gz),u.Y36(Bu.r),u.Y36(Yt.F0),u.Y36($p.e))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-service-detail"]],decls:61,vars:22,consts:[[1,"service-details-container"],[1,"service-header"],[1,"forDebug"],[1,"service-content"],[1,"service-image"],[3,"src","alt"],[1,"service-details"],[1,"service-details-label"],["target","_blank",3,"href"],[1,"service-actions"],["class","editButton",3,"click",4,"ngIf"],[3,"click"],[1,"editButton",3,"click"]],template:function(p,E){1&p&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1")(3,"strong"),u._uU(4,"Name:"),u.qZA(),u._uU(5),u.qZA(),u.TgZ(6,"div",2)(7,"h3")(8,"strong"),u._uU(9,"Service Id:"),u.qZA(),u._uU(10),u.qZA()()(),u.TgZ(11,"div",3)(12,"div",4),u._UZ(13,"img",5),u.qZA(),u.TgZ(14,"div",6)(15,"div")(16,"label",7),u._uU(17,"Tip Serviciu:"),u.qZA(),u._uU(18),u.qZA(),u.TgZ(19,"div")(20,"label",7),u._uU(21,"Nr Telefon:"),u.qZA(),u._uU(22),u.qZA(),u.TgZ(23,"div")(24,"label",7),u._uU(25,"Email:"),u.qZA(),u._uU(26),u.qZA(),u.TgZ(27,"div")(28,"label",7),u._uU(29,"Website:"),u.qZA(),u.TgZ(30,"a",8),u._uU(31),u.qZA()(),u.TgZ(32,"div")(33,"label",7),u._uU(34,"Facebook:"),u.qZA(),u.TgZ(35,"a",8),u._uU(36),u.qZA()(),u.TgZ(37,"div")(38,"label",7),u._uU(39,"Instagram:"),u.qZA(),u.TgZ(40,"a",8),u._uU(41),u.qZA()(),u.TgZ(42,"div")(43,"label",7),u._uU(44,"Sponsor:"),u.qZA(),u._uU(45),u.qZA(),u.TgZ(46,"div")(47,"label",7),u._uU(48,"Date Created:"),u.qZA(),u._uU(49),u.ALo(50,"date"),u.qZA(),u.TgZ(51,"div")(52,"label",7),u._uU(53,"Description:"),u.qZA(),u._uU(54),u.qZA()()(),u.TgZ(55,"div",9),u.YNc(56,vf,2,0,"button",10),u.ALo(57,"async"),u._uU(58," \xa0 "),u.TgZ(59,"button",11),u.NdJ("click",function(){return E.goBack()}),u._uU(60,"Inapoi la Servicii"),u.qZA()()()),2&p&&(u.xp6(5),u.Oqu(E.service.Name),u.xp6(5),u.Oqu(E.service.id),u.xp6(3),u.s9C("alt",E.service.Name),u.Q6J("src",E.service.Image,u.LSH),u.xp6(5),u.hij(" ",E.service.Service_Type,""),u.xp6(4),u.hij(" ",E.service.Phone_Number,""),u.xp6(4),u.hij(" ",E.service.Email,""),u.xp6(4),u.Q6J("href",E.service.Website,u.LSH),u.xp6(1),u.Oqu(E.service.Website),u.xp6(4),u.Q6J("href",E.service.Facebook,u.LSH),u.xp6(1),u.Oqu(E.service.Facebook),u.xp6(4),u.Q6J("href",E.service.Instagram,u.LSH),u.xp6(1),u.Oqu(E.service.Instagram),u.xp6(4),u.hij(" ",E.service.Community_Sponsor?"Yes":"No",""),u.xp6(4),u.hij(" ",u.xi3(50,17,E.service.Date_Created,"shortDate"),""),u.xp6(5),u.Oqu(E.service.Description),u.xp6(2),u.Q6J("ngIf",u.lcZ(57,20,E.isLoggedIn$)))},dependencies:[W.O5,W.Ov,W.uU],styles:[".forDebug[_ngcontent-%COMP%]{display:none}.editButton[_ngcontent-%COMP%]{visibility:hidden}.service-details-container[_ngcontent-%COMP%]{max-width:800px;margin:100px auto 0;padding:20px;background-color:#f8f9fa;border-radius:10px;box-shadow:0 0 10px #0000001a}.service-details-label[_ngcontent-%COMP%]{display:inline-block;font-size:1.1em;font-weight:700;padding:10px}.service-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;font-size:2.5em;margin-bottom:20px;color:#333}.service-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start}.service-image[_ngcontent-%COMP%]{flex:1;margin-right:20px}.service-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;border-radius:10px;box-shadow:0 0 10px #0000001a}.service-details[_ngcontent-%COMP%]{flex:2;font-size:1.2em;color:#555}.service-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2em;margin-bottom:10px;color:#444}.service-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px}.service-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.service-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.service-actions[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.service-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;font-size:1em;color:#fff;background-color:#007bff;border:none;border-radius:5px;cursor:pointer}.service-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return f})(),dm=(()=>{class f{constructor(a,p){this.authService=a,this.router=p,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).subscribe({next:()=>this.router.navigate(["/admin"]),error:a=>this.handleLoginError(a)})}handleLoginError(a){switch(a.code){case"auth/user-not-found":this.errorMessage="No user found with this email.";break;case"auth/wrong-password":this.errorMessage="Incorrect password.";break;case"auth/invalid-email":this.errorMessage="Invalid email format.";break;default:this.errorMessage="Login failed. Please try again."}console.log(this.errorMessage)}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36($p.e),u.Y36(Yt.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-login"]],decls:15,vars:2,consts:[[1,"login-container"],[1,"login-box"],[3,"submit"],[1,"input-group"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModel","ngModelChange"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModel","ngModelChange"],["type","submit"]],template:function(p,E){1&p&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h2"),u._uU(3,"Login"),u.qZA(),u.TgZ(4,"form",2),u.NdJ("submit",function(){return E.login()}),u.TgZ(5,"div",3)(6,"label",4),u._uU(7,"Email"),u.qZA(),u.TgZ(8,"input",5),u.NdJ("ngModelChange",function(K){return E.email=K}),u.qZA()(),u.TgZ(9,"div",3)(10,"label",6),u._uU(11,"Password"),u.qZA(),u.TgZ(12,"input",7),u.NdJ("ngModelChange",function(K){return E.password=K}),u.qZA()(),u.TgZ(13,"button",8),u._uU(14,"Login"),u.qZA()()()()),2&p&&(u.xp6(8),u.Q6J("ngModel",E.email),u.xp6(4),u.Q6J("ngModel",E.password))},dependencies:[mn._Y,mn.Fj,mn.JJ,mn.JL,mn.Q7,mn.On,mn.F],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:linear-gradient(to right,#007bff,#0056b3)}.login-box[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:8px;box-shadow:0 2px 4px #0000001a;width:300px;text-align:center}.login-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px;font-size:24px;color:#333}.input-group[_ngcontent-%COMP%]{margin-bottom:15px;text-align:left}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;color:#333}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;box-sizing:border-box}button[_ngcontent-%COMP%]{width:100%;padding:10px 20px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:16px;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return f})();const dh=[{path:"",component:Gd},{path:"rules",component:o_},{path:"analytics",component:Qy.d},{path:"events",component:a_},{path:"add-event",component:yf},{path:"offers",component:Ny},{path:"add-offers",component:ch},{path:"offers/:id",component:uh},{path:"services",component:Sg},{path:"add-service",component:ah},{path:"services/add",component:ah},{path:"services/:id",component:Jy},{path:"edit-service/:id",component:lh},{path:"test",component:(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-test"]],decls:17,vars:0,consts:[[1,"hero"],[1,"container","hero-content"],[1,"hero-text"],["href","https://www.facebook.com/groups/seattlecommunity",1,"btn"],[1,"hero-image"],["src","https://via.placeholder.com/600x400","alt","Seattle"],[1,"community-description"],[1,"container"]],template:function(p,E){1&p&&(u.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1"),u._uU(4,"Welcome to Seattle Community"),u.qZA(),u.TgZ(5,"p"),u._uU(6,"Your go-to place for community services and events"),u.qZA(),u.TgZ(7,"a",3),u._uU(8,"Join our Facebook Group"),u.qZA()(),u.TgZ(9,"div",4),u._UZ(10,"img",5),u.qZA()()(),u.TgZ(11,"section",6)(12,"div",7)(13,"h2"),u._uU(14,"About Our Community"),u.qZA(),u.TgZ(15,"p"),u._uU(16,"Seattle Community is dedicated to bringing together local residents, businesses, and organizations to foster a sense of unity and support. We offer a variety of services, events, and opportunities to connect with others in the area. Join us and be a part of a vibrant and active community!"),u.qZA()()())},styles:[".hero[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#f5f5f5;padding:2rem 0}.hero-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.hero-text[_ngcontent-%COMP%]{flex:1}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1.5rem}.btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:.75rem 1.5rem;text-decoration:none;border-radius:5px;font-size:1rem}.hero-image[_ngcontent-%COMP%]{flex:1}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:5px}.community-description[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:2rem 0;text-align:center}.community-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.community-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin:0 auto;max-width:800px}"]})}return f})()},{path:"login",component:dm},{path:"",redirectTo:"/login",pathMatch:"full"},{path:"admin",loadChildren:()=>H.e(525).then(H.bind(H,1525)).then(f=>f.AdminModule)}];let id=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=u.oAB({type:f});static#n=this.\u0275inj=u.cJS({imports:[Yt.Bz.forRoot(dh),Yt.Bz]})}return f})();var Xy=H(5513),hh=H(6232),hm=H(3093),wl=H(940);const ev=new u.OlP("angularfire2.analytics.analyticsCollectionEnabled"),fm=new u.OlP("angularfire2.analytics.appVersion"),P_=new u.OlP("angularfire2.analytics.appName"),pm=new u.OlP("angularfire2.analytics.debugMode"),tv=new u.OlP("angularfire2.analytics.config"),bf="dataLayer";let gm=(()=>{class f{measurementId;analyticsInitialized=new Promise(()=>{});updateConfig(a){var p=this;return(0,is.Z)(function*(){yield p.analyticsInitialized,window.gtag("config",p.measurementId,{...a,update:!0})})()}constructor(a,p,E,x,K,se,be,je,At){if((0,W.NF)(be)){window[bf]=window[bf]||[];const dn=(...ln)=>"config"===ln[0]&&"firebase"===ln[2].origin&&(this.measurementId=ln[1],!0),yn=ln=>{window.gtag=(...On)=>{ln&&ln(...On),"event"===On[0]&&On[2].send_to===this.measurementId&&(x&&(On[2].app_name=x),E&&(On[2].app_version=E)),K&&typeof console<"u"&&console.info(...On),function(...$r){window[bf].push(arguments)}(...On)}};window[bf].some(dn)?(this.analyticsInitialized=Promise.resolve(),yn()):this.analyticsInitialized=new Promise(ln=>{yn((...On)=>{dn(...On)&&ln()})}),se&&this.updateConfig(se),K&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const Gt=(0,er.of)(void 0).pipe((0,hm.Q)(At.outsideAngular),(0,_l.w)(Xy.Gb),(0,_l.w)(dn=>dn?je.runOutsideAngular(()=>H.e(861).then(H.bind(H,861))):hh.E),(0,rr.U)(()=>(0,xc.cc)("analytics","AngularFireAnalytics",a.name,()=>{const dn=a.analytics();return!1===p&&dn.setAnalyticsCollectionEnabled(!1),dn},[a,p,se,K])),(0,wl.d)({bufferSize:1,refCount:!1}));return(0,xc.pX)(this,Gt,je)}static \u0275fac=function(p){return new(p||f)(u.LFG(xc.Ot),u.LFG(ev,8),u.LFG(fm,8),u.LFG(P_,8),u.LFG(pm,8),u.LFG(tv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(yi.HU))};static \u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"any"})}return f})();const O_=function(f){return{"open-bar1":f}},ph=function(f){return{"open-bar2":f}},N_=function(f){return{"open-bar3":f}},Yv=function(f){return{active:f}};let Qv=(()=>{class f{constructor(){this.menuOpen=!1}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-navigation"]],decls:25,vars:12,consts:[[1,"navbar"],[1,"navbar-container"],[1,"logo"],["routerLink","/"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item"],["routerLink","/",1,"nav-links",3,"click"],["routerLink","/services",1,"nav-links",3,"click"],["routerLink","/events",1,"nav-links",3,"click"],["routerLink","/offers",1,"nav-links",3,"click"],["routerLink","/rules",1,"nav-links",3,"click"]],template:function(p,E){1&p&&(u.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),u._uU(4,"Romani in Seattle"),u.qZA()(),u.TgZ(5,"div",4),u.NdJ("click",function(){return E.toggleMenu()}),u._UZ(6,"div",5)(7,"div",6)(8,"div",7),u.qZA(),u.TgZ(9,"ul",8)(10,"li",9)(11,"a",10),u.NdJ("click",function(){return E.closeMenu()}),u._uU(12,"Home"),u.qZA()(),u.TgZ(13,"li",9)(14,"a",11),u.NdJ("click",function(){return E.closeMenu()}),u._uU(15,"Servicii"),u.qZA()(),u.TgZ(16,"li",9)(17,"a",12),u.NdJ("click",function(){return E.closeMenu()}),u._uU(18,"Evenimente"),u.qZA()(),u.TgZ(19,"li",9)(20,"a",13),u.NdJ("click",function(){return E.closeMenu()}),u._uU(21,"Oferte"),u.qZA()(),u.TgZ(22,"li",9)(23,"a",14),u.NdJ("click",function(){return E.closeMenu()}),u._uU(24,"Regulament"),u.qZA()()()()()),2&p&&(u.xp6(6),u.Q6J("ngClass",u.VKq(4,O_,E.menuOpen)),u.xp6(1),u.Q6J("ngClass",u.VKq(6,ph,E.menuOpen)),u.xp6(1),u.Q6J("ngClass",u.VKq(8,N_,E.menuOpen)),u.xp6(1),u.Q6J("ngClass",u.VKq(10,Yv,E.menuOpen)))},dependencies:[W.mk,Yt.rH],styles:[".navbar[_ngcontent-%COMP%]{background-color:var(--nav-background-color);position:fixed;width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:70px;max-width:1200px;margin:0 auto}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:34px;font-weight:700;color:var(--button-color);text-decoration:none}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);text-decoration:none;text-transform:uppercase;font-size:18px;font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:500;font-style:bold}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:#fff}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:#fff}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:flex-start}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;width:100%;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);text-decoration:none;text-transform:uppercase;font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:200;font-style:normal;color:var(--nav-active-text);font-size:24px}}"]})}return f})(),k_=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"footer"],[1,"footer-content"]],template:function(p,E){1&p&&(u.TgZ(0,"footer",0)(1,"div",1),u._uU(2," \xa9 2024 Romani in Seattle. All rights reserved. "),u.qZA()())},styles:[".footer[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%;height:50px;background-color:#333;color:#fff;display:flex;align-items:center;justify-content:center;text-align:center;box-shadow:0 -2px 5px #0000001a}.footer-content[_ngcontent-%COMP%]{font-size:.9rem}"]})}return f})(),Jv=(()=>{class f{constructor(a,p,E,x){this.router=a,this.analytics=p,this.activatedRoute=E,this.firestore=x,this.title="romani-in-seattle"}ngOnInit(){this.router.events.pipe((0,Ln.h)(a=>a instanceof Yt.m2)).subscribe(a=>{const p=a.urlAfterRedirects,E=this.activatedRoute.snapshot.queryParams,x=new Date;this.firestore.collection("analytics").add({page_path:p,query_params:E,timestamp:x}).then(()=>{console.log("Analytics data saved")}).catch(K=>{console.error("Error saving analytics data",K)})})}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(Yt.F0),u.Y36(gm),u.Y36(Yt.gz),u.Y36(lu.ST))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"main-layout"]],template:function(p,E){1&p&&(u.TgZ(0,"div",0),u._UZ(1,"app-navigation")(2,"router-outlet")(3,"app-footer"),u.qZA())},dependencies:[Yt.lC,Qv,k_],styles:[".content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;min-width:calc(100vw - 70px);min-height:calc(100vh - 70px);padding:20px}"]})}return f})();class F_{}class sd{}const No="*";function xa(f,o=null){return{type:2,steps:f,options:o}}function ym(f){return{type:6,styles:f,offset:null}}class Wo{constructor(o=0,a=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=o+a}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(o=>o()),this._onDoneFns=[])}onStart(o){this._originalOnStartFns.push(o),this._onStartFns.push(o)}onDone(o){this._originalOnDoneFns.push(o),this._onDoneFns.push(o)}onDestroy(o){this._onDestroyFns.push(o)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(o=>o()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(o=>o()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(o){this._position=this.totalTime?o*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(o){const a="start"==o?this._onStartFns:this._onDoneFns;a.forEach(p=>p()),a.length=0}}class vm{constructor(o){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=o;let a=0,p=0,E=0;const x=this.players.length;0==x?queueMicrotask(()=>this._onFinish()):this.players.forEach(K=>{K.onDone(()=>{++a==x&&this._onFinish()}),K.onDestroy(()=>{++p==x&&this._onDestroy()}),K.onStart(()=>{++E==x&&this._onStart()})}),this.totalTime=this.players.reduce((K,se)=>Math.max(K,se.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(o=>o()),this._onDoneFns=[])}init(){this.players.forEach(o=>o.init())}onStart(o){this._onStartFns.push(o)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(o=>o()),this._onStartFns=[])}onDone(o){this._onDoneFns.push(o)}onDestroy(o){this._onDestroyFns.push(o)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(o=>o.play())}pause(){this.players.forEach(o=>o.pause())}restart(){this.players.forEach(o=>o.restart())}finish(){this._onFinish(),this.players.forEach(o=>o.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(o=>o.destroy()),this._onDestroyFns.forEach(o=>o()),this._onDestroyFns=[])}reset(){this.players.forEach(o=>o.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(o){const a=o*this.totalTime;this.players.forEach(p=>{const E=p.totalTime?Math.min(1,a/p.totalTime):1;p.setPosition(E)})}getPosition(){const o=this.players.reduce((a,p)=>null===a||p.totalTime>a.totalTime?p:a,null);return null!=o?o.getPosition():0}beforeDestroy(){this.players.forEach(o=>{o.beforeDestroy&&o.beforeDestroy()})}triggerCallback(o){const a="start"==o?this._onStartFns:this._onDoneFns;a.forEach(p=>p()),a.length=0}}function $i(f){return new u.vHH(3e3,!1)}function du(f){switch(f.length){case 0:return new Wo;case 1:return f[0];default:return new vm(f)}}function oE(f,o,a=new Map,p=new Map){const E=[],x=[];let K=-1,se=null;if(o.forEach(be=>{const je=be.get("offset"),At=je==K,Gt=At&&se||new Map;be.forEach((dn,yn)=>{let cn=yn,ln=dn;if("offset"!==yn)switch(cn=f.normalizePropertyName(cn,E),ln){case"!":ln=a.get(yn);break;case No:ln=p.get(yn);break;default:ln=f.normalizeStyleValue(yn,cn,ln,E)}Gt.set(cn,ln)}),At||x.push(Gt),se=Gt,K=je}),E.length)throw function qp(f){return new u.vHH(3502,!1)}();return x}function hu(f,o,a,p){switch(o){case"start":f.onStart(()=>p(a&&ld(a,"start",f)));break;case"done":f.onDone(()=>p(a&&ld(a,"done",f)));break;case"destroy":f.onDestroy(()=>p(a&&ld(a,"destroy",f)))}}function ld(f,o,a){const x=l(f.element,f.triggerName,f.fromState,f.toState,o||f.phaseName,a.totalTime??f.totalTime,!!a.disabled),K=f._data;return null!=K&&(x._data=K),x}function l(f,o,a,p,E="",x=0,K){return{element:f,triggerName:o,fromState:a,toState:p,phaseName:E,totalTime:x,disabled:!!K}}function e(f,o,a){let p=f.get(o);return p||f.set(o,p=a),p}function r(f){const o=f.indexOf(":");return[f.substring(1,o),f.slice(o+1)]}const s=(()=>typeof document>"u"?null:document.documentElement)();function d(f){const o=f.parentNode||f.host||null;return o===s?null:o}let b=null,R=!1;function ye(f,o){for(;o;){if(o===f)return!0;o=d(o)}return!1}function ke(f,o,a){if(a)return Array.from(f.querySelectorAll(o));const p=f.querySelector(o);return p?[p]:[]}let xt=(()=>{class f{validateStyleProperty(a){return function V(f){b||(b=function ie(){return typeof document<"u"?document.body:null}()||{},R=!!b.style&&"WebkitAppearance"in b.style);let o=!0;return b.style&&!function y(f){return"ebkit"==f.substring(1,6)}(f)&&(o=f in b.style,!o&&R&&(o="Webkit"+f.charAt(0).toUpperCase()+f.slice(1)in b.style)),o}(a)}matchesElement(a,p){return!1}containsElement(a,p){return ye(a,p)}getParentElement(a){return d(a)}query(a,p,E){return ke(a,p,E)}computeStyle(a,p,E){return E||""}animate(a,p,E,x,K,se=[],be){return new Wo(E,x)}static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac})}return f})(),Wt=(()=>{class f{static#e=this.NOOP=new xt}return f})();const Ut=1e3,Sn="ng-enter",lr="ng-leave",Hr="ng-trigger",Er=".ng-trigger",Ke="ng-animating",Re=".ng-animating";function Ue(f){if("number"==typeof f)return f;const o=f.match(/^(-?[\.\d]+)(m?s)/);return!o||o.length<2?0:Qe(parseFloat(o[1]),o[2])}function Qe(f,o){return"s"===o?f*Ut:f}function tt(f,o,a){return f.hasOwnProperty("duration")?f:function dt(f,o,a){let E,x=0,K="";if("string"==typeof f){const se=f.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===se)return o.push($i()),{duration:0,delay:0,easing:""};E=Qe(parseFloat(se[1]),se[2]);const be=se[3];null!=be&&(x=Qe(parseFloat(be),se[4]));const je=se[5];je&&(K=je)}else E=f;if(!a){let se=!1,be=o.length;E<0&&(o.push(function Im(){return new u.vHH(3100,!1)}()),se=!0),x<0&&(o.push(function B_(){return new u.vHH(3101,!1)}()),se=!0),se&&o.splice(be,0,$i())}return{duration:E,delay:x,easing:K}}(f,o,a)}function Le(f,o={}){return Object.keys(f).forEach(a=>{o[a]=f[a]}),o}function $c(f){const o=new Map;return Object.keys(f).forEach(a=>{o.set(a,f[a])}),o}function Oa(f,o=new Map,a){if(a)for(let[p,E]of a)o.set(p,E);for(let[p,E]of f)o.set(p,E);return o}function Ko(f,o,a){o.forEach((p,E)=>{const x=ud(E);a&&!a.has(E)&&a.set(E,f.style[x]),f.style[x]=p})}function fu(f,o){o.forEach((a,p)=>{const E=ud(p);f.style[E]=""})}function pu(f){return Array.isArray(f)?1==f.length?f[0]:xa(f):f}const zc=new RegExp("{{\\s*(.+?)\\s*}}","g");function to(f){let o=[];if("string"==typeof f){let a;for(;a=zc.exec(f);)o.push(a[1]);zc.lastIndex=0}return o}function Af(f,o,a){const p=f.toString(),E=p.replace(zc,(x,K)=>{let se=o[K];return null==se&&(a.push(function ov(f){return new u.vHH(3003,!1)}()),se=""),se.toString()});return E==p?f:E}function Dl(f){const o=[];let a=f.next();for(;!a.done;)o.push(a.value),a=f.next();return o}const _v=/-+([a-z0-9])/g;function ud(f){return f.replace(_v,(...o)=>o[1].toUpperCase())}function _o(f,o,a){switch(o.type){case 7:return f.visitTrigger(o,a);case 0:return f.visitState(o,a);case 1:return f.visitTransition(o,a);case 2:return f.visitSequence(o,a);case 3:return f.visitGroup(o,a);case 4:return f.visitAnimate(o,a);case 5:return f.visitKeyframes(o,a);case 6:return f.visitStyle(o,a);case 8:return f.visitReference(o,a);case 9:return f.visitAnimateChild(o,a);case 10:return f.visitAnimateRef(o,a);case 11:return f.visitQuery(o,a);case 12:return f.visitStagger(o,a);default:throw function bm(f){return new u.vHH(3004,!1)}()}}function Zp(f,o){return window.getComputedStyle(f)[o]}const mh="*";function Cm(f,o){const a=[];return"string"==typeof f?f.split(/\s*,\s*/).forEach(p=>function _h(f,o,a){if(":"==f[0]){const be=function Yp(f,o){switch(f){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(a,p)=>parseFloat(p)>parseFloat(a);case":decrement":return(a,p)=>parseFloat(p)<parseFloat(a);default:return o.push(function z_(f){return new u.vHH(3016,!1)}()),"* => *"}}(f,a);if("function"==typeof be)return void o.push(be);f=be}const p=f.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==p||p.length<4)return a.push(function dv(f){return new u.vHH(3015,!1)}()),o;const E=p[1],x=p[2],K=p[3];o.push(Df(E,K));"<"==x[0]&&!(E==mh&&K==mh)&&o.push(Df(K,E))}(p,a,o)):a.push(f),a}const wm=new Set(["true","1"]),dd=new Set(["false","0"]);function Df(f,o){const a=wm.has(f)||dd.has(f),p=wm.has(o)||dd.has(o);return(E,x)=>{let K=f==mh||f==E,se=o==mh||o==x;return!K&&a&&"boolean"==typeof E&&(K=E?wm.has(f):dd.has(f)),!se&&p&&"boolean"==typeof x&&(se=x?wm.has(o):dd.has(o)),K&&se}}const no=new RegExp("s*:selfs*,?","g");function Ns(f,o,a,p){return new J_(f).build(o,a,p)}class J_{constructor(o){this._driver=o}build(o,a,p){const E=new Mf(a);return this._resetContextStyleTimingState(E),_o(this,pu(o),E)}_resetContextStyleTimingState(o){o.currentQuerySelector="",o.collectedStyles=new Map,o.collectedStyles.set("",new Map),o.currentTime=0}visitTrigger(o,a){let p=a.queryCount=0,E=a.depCount=0;const x=[],K=[];return"@"==o.name.charAt(0)&&a.errors.push(function H_(){return new u.vHH(3006,!1)}()),o.definitions.forEach(se=>{if(this._resetContextStyleTimingState(a),0==se.type){const be=se,je=be.name;je.toString().split(/\s*,\s*/).forEach(At=>{be.name=At,x.push(this.visitState(be,a))}),be.name=je}else if(1==se.type){const be=this.visitTransition(se,a);p+=be.queryCount,E+=be.depCount,K.push(be)}else a.errors.push(function tE(){return new u.vHH(3007,!1)}())}),{type:7,name:o.name,states:x,transitions:K,queryCount:p,depCount:E,options:null}}visitState(o,a){const p=this.visitStyle(o.styles,a),E=o.options&&o.options.params||null;if(p.containsDynamicStyles){const x=new Set,K=E||{};p.styles.forEach(se=>{se instanceof Map&&se.forEach(be=>{to(be).forEach(je=>{K.hasOwnProperty(je)||x.add(je)})})}),x.size&&(Dl(x.values()),a.errors.push(function av(f,o){return new u.vHH(3008,!1)}()))}return{type:0,name:o.name,style:p,options:E?{params:E}:null}}visitTransition(o,a){a.queryCount=0,a.depCount=0;const p=_o(this,pu(o.animation),a);return{type:1,matchers:Cm(o.expr,a.errors),animation:p,queryCount:a.queryCount,depCount:a.depCount,options:Na(o.options)}}visitSequence(o,a){return{type:2,steps:o.steps.map(p=>_o(this,p,a)),options:Na(o.options)}}visitGroup(o,a){const p=a.currentTime;let E=0;const x=o.steps.map(K=>{a.currentTime=p;const se=_o(this,K,a);return E=Math.max(E,a.currentTime),se});return a.currentTime=E,{type:3,steps:x,options:Na(o.options)}}visitAnimate(o,a){const p=function ey(f,o){if(f.hasOwnProperty("duration"))return f;if("number"==typeof f)return hd(tt(f,o).duration,0,"");const a=f;if(a.split(/\s+/).some(x=>"{"==x.charAt(0)&&"{"==x.charAt(1))){const x=hd(0,0,"");return x.dynamic=!0,x.strValue=a,x}const E=tt(a,o);return hd(E.duration,E.delay,E.easing)}(o.timings,a.errors);a.currentAnimateTimings=p;let E,x=o.styles?o.styles:ym({});if(5==x.type)E=this.visitKeyframes(x,a);else{let K=o.styles,se=!1;if(!K){se=!0;const je={};p.easing&&(je.easing=p.easing),K=ym(je)}a.currentTime+=p.duration+p.delay;const be=this.visitStyle(K,a);be.isEmptyStep=se,E=be}return a.currentAnimateTimings=null,{type:4,timings:p,style:E,options:null}}visitStyle(o,a){const p=this._makeStyleAst(o,a);return this._validateStyleAst(p,a),p}_makeStyleAst(o,a){const p=[],E=Array.isArray(o.styles)?o.styles:[o.styles];for(let se of E)"string"==typeof se?se===No?p.push(se):a.errors.push(new u.vHH(3002,!1)):p.push($c(se));let x=!1,K=null;return p.forEach(se=>{if(se instanceof Map&&(se.has("easing")&&(K=se.get("easing"),se.delete("easing")),!x))for(let be of se.values())if(be.toString().indexOf("{{")>=0){x=!0;break}}),{type:6,styles:p,easing:K,offset:o.offset,containsDynamicStyles:x,options:null}}_validateStyleAst(o,a){const p=a.currentAnimateTimings;let E=a.currentTime,x=a.currentTime;p&&x>0&&(x-=p.duration+p.delay),o.styles.forEach(K=>{"string"!=typeof K&&K.forEach((se,be)=>{const je=a.collectedStyles.get(a.currentQuerySelector),At=je.get(be);let Gt=!0;At&&(x!=E&&x>=At.startTime&&E<=At.endTime&&(a.errors.push(function lv(f,o,a,p,E){return new u.vHH(3010,!1)}()),Gt=!1),x=At.startTime),Gt&&je.set(be,{startTime:x,endTime:E}),a.options&&function Z_(f,o,a){const p=o.params||{},E=to(f);E.length&&E.forEach(x=>{p.hasOwnProperty(x)||a.push(function sv(f){return new u.vHH(3001,!1)}())})}(se,a.options,a.errors)})})}visitKeyframes(o,a){const p={type:5,styles:[],options:null};if(!a.currentAnimateTimings)return a.errors.push(function uv(){return new u.vHH(3011,!1)}()),p;let x=0;const K=[];let se=!1,be=!1,je=0;const At=o.steps.map($r=>{const ui=this._makeStyleAst($r,a);let Jr=null!=ui.offset?ui.offset:function Dm(f){if("string"==typeof f)return null;let o=null;if(Array.isArray(f))f.forEach(a=>{if(a instanceof Map&&a.has("offset")){const p=a;o=parseFloat(p.get("offset")),p.delete("offset")}});else if(f instanceof Map&&f.has("offset")){const a=f;o=parseFloat(a.get("offset")),a.delete("offset")}return o}(ui.styles),Lr=0;return null!=Jr&&(x++,Lr=ui.offset=Jr),be=be||Lr<0||Lr>1,se=se||Lr<je,je=Lr,K.push(Lr),ui});be&&a.errors.push(function $_(){return new u.vHH(3012,!1)}()),se&&a.errors.push(function Tf(){return new u.vHH(3200,!1)}());const Gt=o.steps.length;let dn=0;x>0&&x<Gt?a.errors.push(function Al(){return new u.vHH(3202,!1)}()):0==x&&(dn=1/(Gt-1));const yn=Gt-1,cn=a.currentTime,ln=a.currentAnimateTimings,On=ln.duration;return At.forEach(($r,ui)=>{const Jr=dn>0?ui==yn?1:dn*ui:K[ui],Lr=Jr*On;a.currentTime=cn+ln.delay+Lr,ln.duration=Lr,this._validateStyleAst($r,a),$r.offset=Jr,p.styles.push($r)}),p}visitReference(o,a){return{type:8,animation:_o(this,pu(o.animation),a),options:Na(o.options)}}visitAnimateChild(o,a){return a.depCount++,{type:9,options:Na(o.options)}}visitAnimateRef(o,a){return{type:10,animation:this.visitReference(o.animation,a),options:Na(o.options)}}visitQuery(o,a){const p=a.currentQuerySelector,E=o.options||{};a.queryCount++,a.currentQuery=o;const[x,K]=function X_(f){const o=!!f.split(/\s*,\s*/).find(a=>":self"==a);return o&&(f=f.replace(no,"")),f=f.replace(/@\*/g,Er).replace(/@\w+/g,a=>Er+"-"+a.slice(1)).replace(/:animating/g,Re),[f,o]}(o.selector);a.currentQuerySelector=p.length?p+" "+x:x,e(a.collectedStyles,a.currentQuerySelector,new Map);const se=_o(this,pu(o.animation),a);return a.currentQuery=null,a.currentQuerySelector=p,{type:11,selector:x,limit:E.limit||0,optional:!!E.optional,includeSelf:K,animation:se,originalSelector:o.selector,options:Na(o.options)}}visitStagger(o,a){a.currentQuery||a.errors.push(function cd(){return new u.vHH(3013,!1)}());const p="full"===o.timings?{duration:0,delay:0,easing:"full"}:tt(o.timings,a.errors,!0);return{type:12,animation:_o(this,pu(o.animation),a),timings:p,options:null}}}class Mf{constructor(o){this.errors=o,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Na(f){return f?(f=Le(f)).params&&(f.params=function Am(f){return f?Le(f):null}(f.params)):f={},f}function hd(f,o,a){return{duration:f,delay:o,easing:a}}function Qp(f,o,a,p,E,x,K=null,se=!1){return{type:1,element:f,keyframes:o,preStyleProps:a,postStyleProps:p,duration:E,delay:x,totalTime:E+x,easing:K,subTimeline:se}}class Sl{constructor(){this._map=new Map}get(o){return this._map.get(o)||[]}append(o,a){let p=this._map.get(o);p||this._map.set(o,p=[]),p.push(...a)}has(o){return this._map.has(o)}clear(){this._map.clear()}}const yh=new RegExp(":enter","g"),Sm=new RegExp(":leave","g");function Ml(f,o,a,p,E,x=new Map,K=new Map,se,be,je=[]){return(new Mm).buildKeyframes(f,o,a,p,E,x,K,se,be,je)}class Mm{buildKeyframes(o,a,p,E,x,K,se,be,je,At=[]){je=je||new Sl;const Gt=new mu(o,a,je,E,x,At,[]);Gt.options=be;const dn=be.delay?Ue(be.delay):0;Gt.currentTimeline.delayNextStep(dn),Gt.currentTimeline.setStyles([K],null,Gt.errors,be),_o(this,p,Gt);const yn=Gt.timelines.filter(cn=>cn.containsAnimation());if(yn.length&&se.size){let cn;for(let ln=yn.length-1;ln>=0;ln--){const On=yn[ln];if(On.element===a){cn=On;break}}cn&&!cn.allowOnlyTimelineStyles()&&cn.setStyles([se],null,Gt.errors,be)}return yn.length?yn.map(cn=>cn.buildKeyframes()):[Qp(a,[],[],[],0,dn,"",!1)]}visitTrigger(o,a){}visitState(o,a){}visitTransition(o,a){}visitAnimateChild(o,a){const p=a.subInstructions.get(a.element);if(p){const E=a.createSubContext(o.options),x=a.currentTimeline.currentTime,K=this._visitSubInstructions(p,E,E.options);x!=K&&a.transformIntoNewTimeline(K)}a.previousNode=o}visitAnimateRef(o,a){const p=a.createSubContext(o.options);p.transformIntoNewTimeline(),this._applyAnimationRefDelays([o.options,o.animation.options],a,p),this.visitReference(o.animation,p),a.transformIntoNewTimeline(p.currentTimeline.currentTime),a.previousNode=o}_applyAnimationRefDelays(o,a,p){for(const E of o){const x=E?.delay;if(x){const K="number"==typeof x?x:Ue(Af(x,E?.params??{},a.errors));p.delayNextStep(K)}}}_visitSubInstructions(o,a,p){let x=a.currentTimeline.currentTime;const K=null!=p.duration?Ue(p.duration):null,se=null!=p.delay?Ue(p.delay):null;return 0!==K&&o.forEach(be=>{const je=a.appendInstructionToTimeline(be,K,se);x=Math.max(x,je.duration+je.delay)}),x}visitReference(o,a){a.updateOptions(o.options,!0),_o(this,o.animation,a),a.previousNode=o}visitSequence(o,a){const p=a.subContextCount;let E=a;const x=o.options;if(x&&(x.params||x.delay)&&(E=a.createSubContext(x),E.transformIntoNewTimeline(),null!=x.delay)){6==E.previousNode.type&&(E.currentTimeline.snapshotCurrentStyles(),E.previousNode=gu);const K=Ue(x.delay);E.delayNextStep(K)}o.steps.length&&(o.steps.forEach(K=>_o(this,K,E)),E.currentTimeline.applyStylesToKeyframe(),E.subContextCount>p&&E.transformIntoNewTimeline()),a.previousNode=o}visitGroup(o,a){const p=[];let E=a.currentTimeline.currentTime;const x=o.options&&o.options.delay?Ue(o.options.delay):0;o.steps.forEach(K=>{const se=a.createSubContext(o.options);x&&se.delayNextStep(x),_o(this,K,se),E=Math.max(E,se.currentTimeline.currentTime),p.push(se.currentTimeline)}),p.forEach(K=>a.currentTimeline.mergeTimelineCollectedStyles(K)),a.transformIntoNewTimeline(E),a.previousNode=o}_visitTiming(o,a){if(o.dynamic){const p=o.strValue;return tt(a.params?Af(p,a.params,a.errors):p,a.errors)}return{duration:o.duration,delay:o.delay,easing:o.easing}}visitAnimate(o,a){const p=a.currentAnimateTimings=this._visitTiming(o.timings,a),E=a.currentTimeline;p.delay&&(a.incrementTime(p.delay),E.snapshotCurrentStyles());const x=o.style;5==x.type?this.visitKeyframes(x,a):(a.incrementTime(p.duration),this.visitStyle(x,a),E.applyStylesToKeyframe()),a.currentAnimateTimings=null,a.previousNode=o}visitStyle(o,a){const p=a.currentTimeline,E=a.currentAnimateTimings;!E&&p.hasCurrentStyleProperties()&&p.forwardFrame();const x=E&&E.easing||o.easing;o.isEmptyStep?p.applyEmptyStep(x):p.setStyles(o.styles,x,a.errors,a.options),a.previousNode=o}visitKeyframes(o,a){const p=a.currentAnimateTimings,E=a.currentTimeline.duration,x=p.duration,se=a.createSubContext().currentTimeline;se.easing=p.easing,o.styles.forEach(be=>{se.forwardTime((be.offset||0)*x),se.setStyles(be.styles,be.easing,a.errors,a.options),se.applyStylesToKeyframe()}),a.currentTimeline.mergeTimelineCollectedStyles(se),a.transformIntoNewTimeline(E+x),a.previousNode=o}visitQuery(o,a){const p=a.currentTimeline.currentTime,E=o.options||{},x=E.delay?Ue(E.delay):0;x&&(6===a.previousNode.type||0==p&&a.currentTimeline.hasCurrentStyleProperties())&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=gu);let K=p;const se=a.invokeQuery(o.selector,o.originalSelector,o.limit,o.includeSelf,!!E.optional,a.errors);a.currentQueryTotal=se.length;let be=null;se.forEach((je,At)=>{a.currentQueryIndex=At;const Gt=a.createSubContext(o.options,je);x&&Gt.delayNextStep(x),je===a.element&&(be=Gt.currentTimeline),_o(this,o.animation,Gt),Gt.currentTimeline.applyStylesToKeyframe(),K=Math.max(K,Gt.currentTimeline.currentTime)}),a.currentQueryIndex=0,a.currentQueryTotal=0,a.transformIntoNewTimeline(K),be&&(a.currentTimeline.mergeTimelineCollectedStyles(be),a.currentTimeline.snapshotCurrentStyles()),a.previousNode=o}visitStagger(o,a){const p=a.parentContext,E=a.currentTimeline,x=o.timings,K=Math.abs(x.duration),se=K*(a.currentQueryTotal-1);let be=K*a.currentQueryIndex;switch(x.duration<0?"reverse":x.easing){case"reverse":be=se-be;break;case"full":be=p.currentStaggerTime}const At=a.currentTimeline;be&&At.delayNextStep(be);const Gt=At.currentTime;_o(this,o.animation,a),a.previousNode=o,p.currentStaggerTime=E.currentTime-Gt+(E.startTime-p.currentTimeline.startTime)}}const gu={};class mu{constructor(o,a,p,E,x,K,se,be){this._driver=o,this.element=a,this.subInstructions=p,this._enterClassName=E,this._leaveClassName=x,this.errors=K,this.timelines=se,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=gu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=be||new _u(this._driver,a,0),se.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(o,a){if(!o)return;const p=o;let E=this.options;null!=p.duration&&(E.duration=Ue(p.duration)),null!=p.delay&&(E.delay=Ue(p.delay));const x=p.params;if(x){let K=E.params;K||(K=this.options.params={}),Object.keys(x).forEach(se=>{(!a||!K.hasOwnProperty(se))&&(K[se]=Af(x[se],K,this.errors))})}}_copyOptions(){const o={};if(this.options){const a=this.options.params;if(a){const p=o.params={};Object.keys(a).forEach(E=>{p[E]=a[E]})}}return o}createSubContext(o=null,a,p){const E=a||this.element,x=new mu(this._driver,E,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(E,p||0));return x.previousNode=this.previousNode,x.currentAnimateTimings=this.currentAnimateTimings,x.options=this._copyOptions(),x.updateOptions(o),x.currentQueryIndex=this.currentQueryIndex,x.currentQueryTotal=this.currentQueryTotal,x.parentContext=this,this.subContextCount++,x}transformIntoNewTimeline(o){return this.previousNode=gu,this.currentTimeline=this.currentTimeline.fork(this.element,o),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(o,a,p){const E={duration:a??o.duration,delay:this.currentTimeline.currentTime+(p??0)+o.delay,easing:""},x=new Pm(this._driver,o.element,o.keyframes,o.preStyleProps,o.postStyleProps,E,o.stretchStartingKeyframe);return this.timelines.push(x),E}incrementTime(o){this.currentTimeline.forwardTime(this.currentTimeline.duration+o)}delayNextStep(o){o>0&&this.currentTimeline.delayNextStep(o)}invokeQuery(o,a,p,E,x,K){let se=[];if(E&&se.push(this.element),o.length>0){o=(o=o.replace(yh,"."+this._enterClassName)).replace(Sm,"."+this._leaveClassName);let je=this._driver.query(this.element,o,1!=p);0!==p&&(je=p<0?je.slice(je.length+p,je.length):je.slice(0,p)),se.push(...je)}return!x&&0==se.length&&K.push(function uu(f){return new u.vHH(3014,!1)}()),se}}class _u{constructor(o,a,p,E){this._driver=o,this.element=a,this.startTime=p,this._elementTimelineStylesLookup=E,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(a),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(a,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(o){const a=1===this._keyframes.size&&this._pendingStyles.size;this.duration||a?(this.forwardTime(this.currentTime+o),a&&this.snapshotCurrentStyles()):this.startTime+=o}fork(o,a){return this.applyStylesToKeyframe(),new _u(this._driver,o,a||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(o){this.applyStylesToKeyframe(),this.duration=o,this._loadKeyframe()}_updateStyle(o,a){this._localTimelineStyles.set(o,a),this._globalTimelineStyles.set(o,a),this._styleSummary.set(o,{time:this.currentTime,value:a})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(o){o&&this._previousKeyframe.set("easing",o);for(let[a,p]of this._globalTimelineStyles)this._backFill.set(a,p||No),this._currentKeyframe.set(a,No);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(o,a,p,E){a&&this._previousKeyframe.set("easing",a);const x=E&&E.params||{},K=function ny(f,o){const a=new Map;let p;return f.forEach(E=>{if("*"===E){p=p||o.keys();for(let x of p)a.set(x,No)}else Oa(E,a)}),a}(o,this._globalTimelineStyles);for(let[se,be]of K){const je=Af(be,x,p);this._pendingStyles.set(se,je),this._localTimelineStyles.has(se)||this._backFill.set(se,this._globalTimelineStyles.get(se)??No),this._updateStyle(se,je)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((o,a)=>{this._currentKeyframe.set(a,o)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((o,a)=>{this._currentKeyframe.has(a)||this._currentKeyframe.set(a,o)}))}snapshotCurrentStyles(){for(let[o,a]of this._localTimelineStyles)this._pendingStyles.set(o,a),this._updateStyle(o,a)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const o=[];for(let a in this._currentKeyframe)o.push(a);return o}mergeTimelineCollectedStyles(o){o._styleSummary.forEach((a,p)=>{const E=this._styleSummary.get(p);(!E||a.time>E.time)&&this._updateStyle(p,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const o=new Set,a=new Set,p=1===this._keyframes.size&&0===this.duration;let E=[];this._keyframes.forEach((se,be)=>{const je=Oa(se,new Map,this._backFill);je.forEach((At,Gt)=>{"!"===At?o.add(Gt):At===No&&a.add(Gt)}),p||je.set("offset",be/this.duration),E.push(je)});const x=o.size?Dl(o.values()):[],K=a.size?Dl(a.values()):[];if(p){const se=E[0],be=new Map(se);se.set("offset",0),be.set("offset",1),E=[se,be]}return Qp(this.element,E,x,K,this.duration,this.startTime,this.easing,!1)}}class Pm extends _u{constructor(o,a,p,E,x,K,se=!1){super(o,a,K.delay),this.keyframes=p,this.preStyleProps=E,this.postStyleProps=x,this._stretchStartingKeyframe=se,this.timings={duration:K.duration,delay:K.delay,easing:K.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let o=this.keyframes,{delay:a,duration:p,easing:E}=this.timings;if(this._stretchStartingKeyframe&&a){const x=[],K=p+a,se=a/K,be=Oa(o[0]);be.set("offset",0),x.push(be);const je=Oa(o[0]);je.set("offset",ro(se)),x.push(je);const At=o.length-1;for(let Gt=1;Gt<=At;Gt++){let dn=Oa(o[Gt]);const yn=dn.get("offset");dn.set("offset",ro((a+yn*p)/K)),x.push(dn)}p=K,a=0,E="",o=x}return Qp(this.element,o,this.preStyleProps,this.postStyleProps,p,a,E,!0)}}function ro(f,o=3){const a=Math.pow(10,o-1);return Math.round(f*a)/a}class sc{}const Iv=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class vh extends sc{normalizePropertyName(o,a){return ud(o)}normalizeStyleValue(o,a,p,E){let x="";const K=p.toString().trim();if(Iv.has(a)&&0!==p&&"0"!==p)if("number"==typeof p)x="px";else{const se=p.match(/^[+-]?[\d\.]+([a-z]*)$/);se&&0==se[1].length&&E.push(function j_(f,o){return new u.vHH(3005,!1)}())}return K+x}}function ry(f,o,a,p,E,x,K,se,be,je,At,Gt,dn){return{type:0,element:f,triggerName:o,isRemovalTransition:E,fromState:a,fromStyles:x,toState:p,toStyles:K,timelines:se,queriedElements:be,preStyleProps:je,postStyleProps:At,totalTime:Gt,errors:dn}}const Rm={};class Pf{constructor(o,a,p){this._triggerName=o,this.ast=a,this._stateStyles=p}match(o,a,p,E){return function xm(f,o,a,p,E){return f.some(x=>x(o,a,p,E))}(this.ast.matchers,o,a,p,E)}buildStyles(o,a,p){let E=this._stateStyles.get("*");return void 0!==o&&(E=this._stateStyles.get(o?.toString())||E),E?E.buildStyles(a,p):new Map}build(o,a,p,E,x,K,se,be,je,At){const Gt=[],dn=this.ast.options&&this.ast.options.params||Rm,cn=this.buildStyles(p,se&&se.params||Rm,Gt),ln=be&&be.params||Rm,On=this.buildStyles(E,ln,Gt),$r=new Set,ui=new Map,Jr=new Map,Lr="void"===E,ma={params:Rf(ln,dn),delay:this.ast.options?.delay},qs=At?[]:Ml(o,a,this.ast.animation,x,K,cn,On,ma,je,Gt);let os=0;if(qs.forEach(Va=>{os=Math.max(Va.duration+Va.delay,os)}),Gt.length)return ry(a,this._triggerName,p,E,Lr,cn,On,[],[],ui,Jr,os,Gt);qs.forEach(Va=>{const Ed=Va.element,Bv=e(ui,Ed,new Set);Va.preStyleProps.forEach(Dh=>Bv.add(Dh));const Qm=e(Jr,Ed,new Set);Va.postStyleProps.forEach(Dh=>Qm.add(Dh)),Ed!==a&&$r.add(Ed)});const Qo=Dl($r.values());return ry(a,this._triggerName,p,E,Lr,cn,On,qs,Qo,ui,Jr,os)}}function Rf(f,o){const a=Le(o);for(const p in f)f.hasOwnProperty(p)&&null!=f[p]&&(a[p]=f[p]);return a}class Gc{constructor(o,a,p){this.styles=o,this.defaultParams=a,this.normalizer=p}buildStyles(o,a){const p=new Map,E=Le(this.defaultParams);return Object.keys(o).forEach(x=>{const K=o[x];null!==K&&(E[x]=K)}),this.styles.styles.forEach(x=>{"string"!=typeof x&&x.forEach((K,se)=>{K&&(K=Af(K,E,a));const be=this.normalizer.normalizePropertyName(se,a);K=this.normalizer.normalizeStyleValue(se,be,K,a),p.set(se,K)})}),p}}class xf{constructor(o,a,p){this.name=o,this.ast=a,this._normalizer=p,this.transitionFactories=[],this.states=new Map,a.states.forEach(E=>{this.states.set(E.name,new Gc(E.style,E.options&&E.options.params||{},p))}),eg(this.states,"true","1"),eg(this.states,"false","0"),a.transitions.forEach(E=>{this.transitionFactories.push(new Pf(o,E,this.states))}),this.fallbackTransition=function Om(f,o,a){return new Pf(f,{type:1,animation:{type:2,steps:[],options:null},matchers:[(K,se)=>!0],options:null,queryCount:0,depCount:0},o)}(o,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(o,a,p,E){return this.transitionFactories.find(K=>K.match(o,a,p,E))||null}matchStyles(o,a,p){return this.fallbackTransition.buildStyles(o,a,p)}}function eg(f,o,a){f.has(o)?f.has(a)||f.set(a,f.get(o)):f.has(a)&&f.set(o,f.get(a))}const sy=new Sl;class oy{constructor(o,a,p){this.bodyNode=o,this._driver=a,this._normalizer=p,this._animations=new Map,this._playersById=new Map,this.players=[]}register(o,a){const p=[],x=Ns(this._driver,a,p,[]);if(p.length)throw function q_(f){return new u.vHH(3503,!1)}();this._animations.set(o,x)}_buildPlayer(o,a,p){const E=o.element,x=oE(this._normalizer,o.keyframes,a,p);return this._driver.animate(E,x,o.duration,o.delay,o.easing,[],!0)}create(o,a,p={}){const E=[],x=this._animations.get(o);let K;const se=new Map;if(x?(K=Ml(this._driver,a,x,Sn,lr,new Map,new Map,p,sy,E),K.forEach(At=>{const Gt=e(se,At.element,new Map);At.postStyleProps.forEach(dn=>Gt.set(dn,null))})):(E.push(function hv(){return new u.vHH(3300,!1)}()),K=[]),E.length)throw function nE(f){return new u.vHH(3504,!1)}();se.forEach((At,Gt)=>{At.forEach((dn,yn)=>{At.set(yn,this._driver.computeStyle(Gt,yn,No))})});const je=du(K.map(At=>{const Gt=se.get(At.element);return this._buildPlayer(At,new Map,Gt)}));return this._playersById.set(o,je),je.onDestroy(()=>this.destroy(o)),this.players.push(je),je}destroy(o){const a=this._getPlayer(o);a.destroy(),this._playersById.delete(o);const p=this.players.indexOf(a);p>=0&&this.players.splice(p,1)}_getPlayer(o){const a=this._playersById.get(o);if(!a)throw function W_(f){return new u.vHH(3301,!1)}();return a}listen(o,a,p,E){const x=l(a,"","","");return hu(this._getPlayer(o),p,x,E),()=>{}}command(o,a,p,E){if("register"==p)return void this.register(o,E[0]);if("create"==p)return void this.create(o,a,E[0]||{});const x=this._getPlayer(o);switch(p){case"play":x.play();break;case"pause":x.pause();break;case"reset":x.reset();break;case"restart":x.restart();break;case"finish":x.finish();break;case"init":x.init();break;case"setPosition":x.setPosition(parseFloat(E[0]));break;case"destroy":this.destroy(o)}}}const ay="ng-animate-queued",ng="ng-animate-disabled",cy=[],Nm={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},km={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},oc="__ng_removed";class pd{get params(){return this.options.params}constructor(o,a=""){this.namespaceId=a;const p=o&&o.hasOwnProperty("value");if(this.value=function io(f){return f??null}(p?o.value:o),p){const x=Le(o);delete x.value,this.options=x}else this.options={};this.options.params||(this.options.params={})}absorbOptions(o){const a=o.params;if(a){const p=this.options.params;Object.keys(a).forEach(E=>{null==p[E]&&(p[E]=a[E])})}}}const gd="void",Of=new pd(gd);class ig{constructor(o,a,p){this.id=o,this.hostElement=a,this._engine=p,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+o,As(a,this._hostClassName)}listen(o,a,p,E){if(!this._triggers.has(a))throw function fv(f,o){return new u.vHH(3302,!1)}();if(null==p||0==p.length)throw function rE(f){return new u.vHH(3303,!1)}();if(!function sg(f){return"start"==f||"done"==f}(p))throw function pv(f,o){return new u.vHH(3400,!1)}();const x=e(this._elementListeners,o,[]),K={name:a,phase:p,callback:E};x.push(K);const se=e(this._engine.statesByElement,o,new Map);return se.has(a)||(As(o,Hr),As(o,Hr+"-"+a),se.set(a,Of)),()=>{this._engine.afterFlush(()=>{const be=x.indexOf(K);be>=0&&x.splice(be,1),this._triggers.has(a)||se.delete(a)})}}register(o,a){return!this._triggers.has(o)&&(this._triggers.set(o,a),!0)}_getTrigger(o){const a=this._triggers.get(o);if(!a)throw function $E(f){return new u.vHH(3401,!1)}();return a}trigger(o,a,p,E=!0){const x=this._getTrigger(a),K=new ka(this.id,a,o);let se=this._engine.statesByElement.get(o);se||(As(o,Hr),As(o,Hr+"-"+a),this._engine.statesByElement.set(o,se=new Map));let be=se.get(a);const je=new pd(p,this.id);if(!(p&&p.hasOwnProperty("value"))&&be&&je.absorbOptions(be.options),se.set(a,je),be||(be=Of),je.value!==gd&&be.value===je.value){if(!function Wc(f,o){const a=Object.keys(f),p=Object.keys(o);if(a.length!=p.length)return!1;for(let E=0;E<a.length;E++){const x=a[E];if(!o.hasOwnProperty(x)||f[x]!==o[x])return!1}return!0}(be.params,je.params)){const ln=[],On=x.matchStyles(be.value,be.params,ln),$r=x.matchStyles(je.value,je.params,ln);ln.length?this._engine.reportError(ln):this._engine.afterFlush(()=>{fu(o,On),Ko(o,$r)})}return}const dn=e(this._engine.playersByElement,o,[]);dn.forEach(ln=>{ln.namespaceId==this.id&&ln.triggerName==a&&ln.queued&&ln.destroy()});let yn=x.matchTransition(be.value,je.value,o,je.params),cn=!1;if(!yn){if(!E)return;yn=x.fallbackTransition,cn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:o,triggerName:a,transition:yn,fromState:be,toState:je,player:K,isFallbackTransition:cn}),cn||(As(o,ay),K.onStart(()=>{La(o,ay)})),K.onDone(()=>{let ln=this.players.indexOf(K);ln>=0&&this.players.splice(ln,1);const On=this._engine.playersByElement.get(o);if(On){let $r=On.indexOf(K);$r>=0&&On.splice($r,1)}}),this.players.push(K),dn.push(K),K}deregister(o){this._triggers.delete(o),this._engine.statesByElement.forEach(a=>a.delete(o)),this._elementListeners.forEach((a,p)=>{this._elementListeners.set(p,a.filter(E=>E.name!=o))})}clearElementCache(o){this._engine.statesByElement.delete(o),this._elementListeners.delete(o);const a=this._engine.playersByElement.get(o);a&&(a.forEach(p=>p.destroy()),this._engine.playersByElement.delete(o))}_signalRemovalForInnerTriggers(o,a){const p=this._engine.driver.query(o,Er,!0);p.forEach(E=>{if(E[oc])return;const x=this._engine.fetchNamespacesByElement(E);x.size?x.forEach(K=>K.triggerLeaveAnimation(E,a,!1,!0)):this.clearElementCache(E)}),this._engine.afterFlushAnimationsDone(()=>p.forEach(E=>this.clearElementCache(E)))}triggerLeaveAnimation(o,a,p,E){const x=this._engine.statesByElement.get(o),K=new Map;if(x){const se=[];if(x.forEach((be,je)=>{if(K.set(je,be.value),this._triggers.has(je)){const At=this.trigger(o,je,gd,E);At&&se.push(At)}}),se.length)return this._engine.markElementAsRemoved(this.id,o,!0,a,K),p&&du(se).onDone(()=>this._engine.processLeaveNode(o)),!0}return!1}prepareLeaveAnimationListeners(o){const a=this._elementListeners.get(o),p=this._engine.statesByElement.get(o);if(a&&p){const E=new Set;a.forEach(x=>{const K=x.name;if(E.has(K))return;E.add(K);const be=this._triggers.get(K).fallbackTransition,je=p.get(K)||Of,At=new pd(gd),Gt=new ka(this.id,K,o);this._engine.totalQueuedPlayers++,this._queue.push({element:o,triggerName:K,transition:be,fromState:je,toState:At,player:Gt,isFallbackTransition:!0})})}}removeNode(o,a){const p=this._engine;if(o.childElementCount&&this._signalRemovalForInnerTriggers(o,a),this.triggerLeaveAnimation(o,a,!0))return;let E=!1;if(p.totalAnimations){const x=p.players.length?p.playersByQueriedElement.get(o):[];if(x&&x.length)E=!0;else{let K=o;for(;K=K.parentNode;)if(p.statesByElement.get(K)){E=!0;break}}}if(this.prepareLeaveAnimationListeners(o),E)p.markElementAsRemoved(this.id,o,!1,a);else{const x=o[oc];(!x||x===Nm)&&(p.afterFlush(()=>this.clearElementCache(o)),p.destroyInnerAnimations(o),p._onRemovalComplete(o,a))}}insertNode(o,a){As(o,this._hostClassName)}drainQueuedTransitions(o){const a=[];return this._queue.forEach(p=>{const E=p.player;if(E.destroyed)return;const x=p.element,K=this._elementListeners.get(x);K&&K.forEach(se=>{if(se.name==p.triggerName){const be=l(x,p.triggerName,p.fromState.value,p.toState.value);be._data=o,hu(p.player,se.phase,be,se.callback)}}),E.markedForDestroy?this._engine.afterFlush(()=>{E.destroy()}):a.push(p)}),this._queue=[],a.sort((p,E)=>{const x=p.transition.ast.depCount,K=E.transition.ast.depCount;return 0==x||0==K?x-K:this._engine.driver.containsElement(p.element,E.element)?1:-1})}destroy(o){this.players.forEach(a=>a.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,o)}}class ly{_onRemovalComplete(o,a){this.onRemovalComplete(o,a)}constructor(o,a,p){this.bodyNode=o,this.driver=a,this._normalizer=p,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(E,x)=>{}}get queuedPlayers(){const o=[];return this._namespaceList.forEach(a=>{a.players.forEach(p=>{p.queued&&o.push(p)})}),o}createNamespace(o,a){const p=new ig(o,a,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,a)?this._balanceNamespaceList(p,a):(this.newHostElements.set(a,p),this.collectEnterElement(a)),this._namespaceLookup[o]=p}_balanceNamespaceList(o,a){const p=this._namespaceList,E=this.namespacesByHostElement;if(p.length-1>=0){let K=!1,se=this.driver.getParentElement(a);for(;se;){const be=E.get(se);if(be){const je=p.indexOf(be);p.splice(je+1,0,o),K=!0;break}se=this.driver.getParentElement(se)}K||p.unshift(o)}else p.push(o);return E.set(a,o),o}register(o,a){let p=this._namespaceLookup[o];return p||(p=this.createNamespace(o,a)),p}registerTrigger(o,a,p){let E=this._namespaceLookup[o];E&&E.register(a,p)&&this.totalAnimations++}destroy(o,a){o&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const p=this._fetchNamespace(o);this.namespacesByHostElement.delete(p.hostElement);const E=this._namespaceList.indexOf(p);E>=0&&this._namespaceList.splice(E,1),p.destroy(a),delete this._namespaceLookup[o]}))}_fetchNamespace(o){return this._namespaceLookup[o]}fetchNamespacesByElement(o){const a=new Set,p=this.statesByElement.get(o);if(p)for(let E of p.values())if(E.namespaceId){const x=this._fetchNamespace(E.namespaceId);x&&a.add(x)}return a}trigger(o,a,p,E){if(ac(a)){const x=this._fetchNamespace(o);if(x)return x.trigger(a,p,E),!0}return!1}insertNode(o,a,p,E){if(!ac(a))return;const x=a[oc];if(x&&x.setForRemoval){x.setForRemoval=!1,x.setForMove=!0;const K=this.collectedLeaveElements.indexOf(a);K>=0&&this.collectedLeaveElements.splice(K,1)}if(o){const K=this._fetchNamespace(o);K&&K.insertNode(a,p)}E&&this.collectEnterElement(a)}collectEnterElement(o){this.collectedEnterElements.push(o)}markElementAsDisabled(o,a){a?this.disabledNodes.has(o)||(this.disabledNodes.add(o),As(o,ng)):this.disabledNodes.has(o)&&(this.disabledNodes.delete(o),La(o,ng))}removeNode(o,a,p){if(ac(a)){const E=o?this._fetchNamespace(o):null;E?E.removeNode(a,p):this.markElementAsRemoved(o,a,!1,p);const x=this.namespacesByHostElement.get(a);x&&x.id!==o&&x.removeNode(a,p)}else this._onRemovalComplete(a,p)}markElementAsRemoved(o,a,p,E,x){this.collectedLeaveElements.push(a),a[oc]={namespaceId:o,setForRemoval:E,hasAnimation:p,removedBeforeQueried:!1,previousTriggersValues:x}}listen(o,a,p,E,x){return ac(a)?this._fetchNamespace(o).listen(a,p,E,x):()=>{}}_buildInstruction(o,a,p,E,x){return o.transition.build(this.driver,o.element,o.fromState.value,o.toState.value,p,E,o.fromState.options,o.toState.options,a,x)}destroyInnerAnimations(o){let a=this.driver.query(o,Er,!0);a.forEach(p=>this.destroyActiveAnimationsForElement(p)),0!=this.playersByQueriedElement.size&&(a=this.driver.query(o,Re,!0),a.forEach(p=>this.finishActiveQueriedAnimationOnElement(p)))}destroyActiveAnimationsForElement(o){const a=this.playersByElement.get(o);a&&a.forEach(p=>{p.queued?p.markedForDestroy=!0:p.destroy()})}finishActiveQueriedAnimationOnElement(o){const a=this.playersByQueriedElement.get(o);a&&a.forEach(p=>p.finish())}whenRenderingDone(){return new Promise(o=>{if(this.players.length)return du(this.players).onDone(()=>o());o()})}processLeaveNode(o){const a=o[oc];if(a&&a.setForRemoval){if(o[oc]=Nm,a.namespaceId){this.destroyInnerAnimations(o);const p=this._fetchNamespace(a.namespaceId);p&&p.clearElementCache(o)}this._onRemovalComplete(o,a.setForRemoval)}o.classList?.contains(ng)&&this.markElementAsDisabled(o,!1),this.driver.query(o,".ng-animate-disabled",!0).forEach(p=>{this.markElementAsDisabled(p,!1)})}flush(o=-1){let a=[];if(this.newHostElements.size&&(this.newHostElements.forEach((p,E)=>this._balanceNamespaceList(p,E)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let p=0;p<this.collectedEnterElements.length;p++)As(this.collectedEnterElements[p],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const p=[];try{a=this._flushAnimations(p,o)}finally{for(let E=0;E<p.length;E++)p[E]()}}else for(let p=0;p<this.collectedLeaveElements.length;p++)this.processLeaveNode(this.collectedLeaveElements[p]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(p=>p()),this._flushFns=[],this._whenQuietFns.length){const p=this._whenQuietFns;this._whenQuietFns=[],a.length?du(a).onDone(()=>{p.forEach(E=>E())}):p.forEach(E=>E())}}reportError(o){throw function iE(f){return new u.vHH(3402,!1)}()}_flushAnimations(o,a){const p=new Sl,E=[],x=new Map,K=[],se=new Map,be=new Map,je=new Map,At=new Set;this.disabledNodes.forEach(Un=>{At.add(Un);const tr=this.driver.query(Un,".ng-animate-queued",!0);for(let ur=0;ur<tr.length;ur++)At.add(tr[ur])});const Gt=this.bodyNode,dn=Array.from(this.statesByElement.keys()),yn=qc(dn,this.collectedEnterElements),cn=new Map;let ln=0;yn.forEach((Un,tr)=>{const ur=Sn+ln++;cn.set(tr,ur),Un.forEach(oi=>As(oi,ur))});const On=[],$r=new Set,ui=new Set;for(let Un=0;Un<this.collectedLeaveElements.length;Un++){const tr=this.collectedLeaveElements[Un],ur=tr[oc];ur&&ur.setForRemoval&&(On.push(tr),$r.add(tr),ur.hasAnimation?this.driver.query(tr,".ng-star-inserted",!0).forEach(oi=>$r.add(oi)):ui.add(tr))}const Jr=new Map,Lr=qc(dn,Array.from($r));Lr.forEach((Un,tr)=>{const ur=lr+ln++;Jr.set(tr,ur),Un.forEach(oi=>As(oi,ur))}),o.push(()=>{yn.forEach((Un,tr)=>{const ur=cn.get(tr);Un.forEach(oi=>La(oi,ur))}),Lr.forEach((Un,tr)=>{const ur=Jr.get(tr);Un.forEach(oi=>La(oi,ur))}),On.forEach(Un=>{this.processLeaveNode(Un)})});const ma=[],qs=[];for(let Un=this._namespaceList.length-1;Un>=0;Un--)this._namespaceList[Un].drainQueuedTransitions(a).forEach(ur=>{const oi=ur.player,Eo=ur.element;if(ma.push(oi),this.collectedEnterElements.length){const Jo=Eo[oc];if(Jo&&Jo.setForMove){if(Jo.previousTriggersValues&&Jo.previousTriggersValues.has(ur.triggerName)){const $f=Jo.previousTriggersValues.get(ur.triggerName),Kc=this.statesByElement.get(ur.element);if(Kc&&Kc.has(ur.triggerName)){const Ay=Kc.get(ur.triggerName);Ay.value=$f,Kc.set(ur.triggerName,Ay)}}return void oi.destroy()}}const Cu=!Gt||!this.driver.containsElement(Gt,Eo),_a=Jr.get(Eo),Sh=cn.get(Eo),as=this._buildInstruction(ur,p,Sh,_a,Cu);if(as.errors&&as.errors.length)return void qs.push(as);if(Cu)return oi.onStart(()=>fu(Eo,as.fromStyles)),oi.onDestroy(()=>Ko(Eo,as.toStyles)),void E.push(oi);if(ur.isFallbackTransition)return oi.onStart(()=>fu(Eo,as.fromStyles)),oi.onDestroy(()=>Ko(Eo,as.toStyles)),void E.push(oi);const ME=[];as.timelines.forEach(Jo=>{Jo.stretchStartingKeyframe=!0,this.disabledNodes.has(Jo.element)||ME.push(Jo)}),as.timelines=ME,p.append(Eo,as.timelines),K.push({instruction:as,player:oi,element:Eo}),as.queriedElements.forEach(Jo=>e(se,Jo,[]).push(oi)),as.preStyleProps.forEach((Jo,$f)=>{if(Jo.size){let Kc=be.get($f);Kc||be.set($f,Kc=new Set),Jo.forEach((Ay,jv)=>Kc.add(jv))}}),as.postStyleProps.forEach((Jo,$f)=>{let Kc=je.get($f);Kc||je.set($f,Kc=new Set),Jo.forEach((Ay,jv)=>Kc.add(jv))})});if(qs.length){const Un=[];qs.forEach(tr=>{Un.push(function gv(f,o){return new u.vHH(3505,!1)}())}),ma.forEach(tr=>tr.destroy()),this.reportError(Un)}const os=new Map,Qo=new Map;K.forEach(Un=>{const tr=Un.element;p.has(tr)&&(Qo.set(tr,tr),this._beforeAnimationBuild(Un.player.namespaceId,Un.instruction,os))}),E.forEach(Un=>{const tr=Un.element;this._getPreviousPlayers(tr,!1,Un.namespaceId,Un.triggerName,null).forEach(oi=>{e(os,tr,[]).push(oi),oi.destroy()})});const Va=On.filter(Un=>md(Un,be,je)),Ed=new Map;Fa(Ed,this.driver,ui,je,No).forEach(Un=>{md(Un,be,je)&&Va.push(Un)});const Qm=new Map;yn.forEach((Un,tr)=>{Fa(Qm,this.driver,new Set(Un),be,"!")}),Va.forEach(Un=>{const tr=Ed.get(Un),ur=Qm.get(Un);Ed.set(Un,new Map([...tr?.entries()??[],...ur?.entries()??[]]))});const Dh=[],SE=[],wy={};K.forEach(Un=>{const{element:tr,player:ur,instruction:oi}=Un;if(p.has(tr)){if(At.has(tr))return ur.onDestroy(()=>Ko(tr,oi.toStyles)),ur.disabled=!0,ur.overrideTotalTime(oi.totalTime),void E.push(ur);let Eo=wy;if(Qo.size>1){let _a=tr;const Sh=[];for(;_a=_a.parentNode;){const as=Qo.get(_a);if(as){Eo=as;break}Sh.push(_a)}Sh.forEach(as=>Qo.set(as,Eo))}const Cu=this._buildAnimation(ur.namespaceId,oi,os,x,Qm,Ed);if(ur.setRealPlayer(Cu),Eo===wy)Dh.push(ur);else{const _a=this.playersByElement.get(Eo);_a&&_a.length&&(ur.parentPlayer=du(_a)),E.push(ur)}}else fu(tr,oi.fromStyles),ur.onDestroy(()=>Ko(tr,oi.toStyles)),SE.push(ur),At.has(tr)&&E.push(ur)}),SE.forEach(Un=>{const tr=x.get(Un.element);if(tr&&tr.length){const ur=du(tr);Un.setRealPlayer(ur)}}),E.forEach(Un=>{Un.parentPlayer?Un.syncPlayerEvents(Un.parentPlayer):Un.destroy()});for(let Un=0;Un<On.length;Un++){const tr=On[Un],ur=tr[oc];if(La(tr,lr),ur&&ur.hasAnimation)continue;let oi=[];if(se.size){let Cu=se.get(tr);Cu&&Cu.length&&oi.push(...Cu);let _a=this.driver.query(tr,Re,!0);for(let Sh=0;Sh<_a.length;Sh++){let as=se.get(_a[Sh]);as&&as.length&&oi.push(...as)}}const Eo=oi.filter(Cu=>!Cu.destroyed);Eo.length?li(this,tr,Eo):this.processLeaveNode(tr)}return On.length=0,Dh.forEach(Un=>{this.players.push(Un),Un.onDone(()=>{Un.destroy();const tr=this.players.indexOf(Un);this.players.splice(tr,1)}),Un.play()}),Dh}afterFlush(o){this._flushFns.push(o)}afterFlushAnimationsDone(o){this._whenQuietFns.push(o)}_getPreviousPlayers(o,a,p,E,x){let K=[];if(a){const se=this.playersByQueriedElement.get(o);se&&(K=se)}else{const se=this.playersByElement.get(o);if(se){const be=!x||x==gd;se.forEach(je=>{je.queued||!be&&je.triggerName!=E||K.push(je)})}}return(p||E)&&(K=K.filter(se=>!(p&&p!=se.namespaceId||E&&E!=se.triggerName))),K}_beforeAnimationBuild(o,a,p){const x=a.element,K=a.isRemovalTransition?void 0:o,se=a.isRemovalTransition?void 0:a.triggerName;for(const be of a.timelines){const je=be.element,At=je!==x,Gt=e(p,je,[]);this._getPreviousPlayers(je,At,K,se,a.toState).forEach(yn=>{const cn=yn.getRealPlayer();cn.beforeDestroy&&cn.beforeDestroy(),yn.destroy(),Gt.push(yn)})}fu(x,a.fromStyles)}_buildAnimation(o,a,p,E,x,K){const se=a.triggerName,be=a.element,je=[],At=new Set,Gt=new Set,dn=a.timelines.map(cn=>{const ln=cn.element;At.add(ln);const On=ln[oc];if(On&&On.removedBeforeQueried)return new Wo(cn.duration,cn.delay);const $r=ln!==be,ui=function Pl(f){const o=[];return cc(f,o),o}((p.get(ln)||cy).map(os=>os.getRealPlayer())).filter(os=>!!os.element&&os.element===ln),Jr=x.get(ln),Lr=K.get(ln),ma=oE(this._normalizer,cn.keyframes,Jr,Lr),qs=this._buildPlayer(cn,ma,ui);if(cn.subTimeline&&E&&Gt.add(ln),$r){const os=new ka(o,se,ln);os.setRealPlayer(qs),je.push(os)}return qs});je.forEach(cn=>{e(this.playersByQueriedElement,cn.element,[]).push(cn),cn.onDone(()=>function Nf(f,o,a){let p=f.get(o);if(p){if(p.length){const E=p.indexOf(a);p.splice(E,1)}0==p.length&&f.delete(o)}return p}(this.playersByQueriedElement,cn.element,cn))}),At.forEach(cn=>As(cn,Ke));const yn=du(dn);return yn.onDestroy(()=>{At.forEach(cn=>La(cn,Ke)),Ko(be,a.toStyles)}),Gt.forEach(cn=>{e(E,cn,[]).push(yn)}),yn}_buildPlayer(o,a,p){return a.length>0?this.driver.animate(o.element,a,o.duration,o.delay,o.easing,p):new Wo(o.duration,o.delay)}}class ka{constructor(o,a,p){this.namespaceId=o,this.triggerName=a,this.element=p,this._player=new Wo,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(o){this._containsRealPlayer||(this._player=o,this._queuedCallbacks.forEach((a,p)=>{a.forEach(E=>hu(o,p,void 0,E))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(o.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(o){this.totalTime=o}syncPlayerEvents(o){const a=this._player;a.triggerCallback&&o.onStart(()=>a.triggerCallback("start")),o.onDone(()=>this.finish()),o.onDestroy(()=>this.destroy())}_queueEvent(o,a){e(this._queuedCallbacks,o,[]).push(a)}onDone(o){this.queued&&this._queueEvent("done",o),this._player.onDone(o)}onStart(o){this.queued&&this._queueEvent("start",o),this._player.onStart(o)}onDestroy(o){this.queued&&this._queueEvent("destroy",o),this._player.onDestroy(o)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(o){this.queued||this._player.setPosition(o)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(o){const a=this._player;a.triggerCallback&&a.triggerCallback(o)}}function ac(f){return f&&1===f.nodeType}function ks(f,o){const a=f.style.display;return f.style.display=o??"none",a}function Fa(f,o,a,p,E){const x=[];a.forEach(be=>x.push(ks(be)));const K=[];p.forEach((be,je)=>{const At=new Map;be.forEach(Gt=>{const dn=o.computeStyle(je,Gt,E);At.set(Gt,dn),(!dn||0==dn.length)&&(je[oc]=km,K.push(je))}),f.set(je,At)});let se=0;return a.forEach(be=>ks(be,x[se++])),K}function qc(f,o){const a=new Map;if(f.forEach(se=>a.set(se,[])),0==o.length)return a;const E=new Set(o),x=new Map;function K(se){if(!se)return 1;let be=x.get(se);if(be)return be;const je=se.parentNode;return be=a.has(je)?je:E.has(je)?1:K(je),x.set(se,be),be}return o.forEach(se=>{const be=K(se);1!==be&&a.get(be).push(se)}),a}function As(f,o){f.classList?.add(o)}function La(f,o){f.classList?.remove(o)}function li(f,o,a){du(a).onDone(()=>f.processLeaveNode(o))}function cc(f,o){for(let a=0;a<f.length;a++){const p=f[a];p instanceof vm?cc(p.players,o):o.push(p)}}function md(f,o,a){const p=a.get(f);if(!p)return!1;let E=o.get(f);return E?p.forEach(x=>E.add(x)):o.set(f,p),a.delete(f),!0}class Zc{constructor(o,a,p){this.bodyNode=o,this._driver=a,this._normalizer=p,this._triggerCache={},this.onRemovalComplete=(E,x)=>{},this._transitionEngine=new ly(o,a,p),this._timelineEngine=new oy(o,a,p),this._transitionEngine.onRemovalComplete=(E,x)=>this.onRemovalComplete(E,x)}registerTrigger(o,a,p,E,x){const K=o+"-"+E;let se=this._triggerCache[K];if(!se){const be=[],At=Ns(this._driver,x,be,[]);if(be.length)throw function Cf(f,o){return new u.vHH(3404,!1)}();se=function iy(f,o,a){return new xf(f,o,a)}(E,At,this._normalizer),this._triggerCache[K]=se}this._transitionEngine.registerTrigger(a,E,se)}register(o,a){this._transitionEngine.register(o,a)}destroy(o,a){this._transitionEngine.destroy(o,a)}onInsert(o,a,p,E){this._transitionEngine.insertNode(o,a,p,E)}onRemove(o,a,p){this._transitionEngine.removeNode(o,a,p)}disableAnimations(o,a){this._transitionEngine.markElementAsDisabled(o,a)}process(o,a,p,E){if("@"==p.charAt(0)){const[x,K]=r(p);this._timelineEngine.command(x,a,K,E)}else this._transitionEngine.trigger(o,a,p,E)}listen(o,a,p,E,x){if("@"==p.charAt(0)){const[K,se]=r(p);return this._timelineEngine.listen(K,a,se,x)}return this._transitionEngine.listen(o,a,p,E,x)}flush(o=-1){this._transitionEngine.flush(o)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(o){this._transitionEngine.afterFlushAnimationsDone(o)}}let dy=(()=>{class f{static#e=this.initialStylesByElement=new WeakMap;constructor(a,p,E){this._element=a,this._startStyles=p,this._endStyles=E,this._state=0;let x=f.initialStylesByElement.get(a);x||f.initialStylesByElement.set(a,x=new Map),this._initialStyles=x}start(){this._state<1&&(this._startStyles&&Ko(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ko(this._element,this._initialStyles),this._endStyles&&(Ko(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(f.initialStylesByElement.delete(this._element),this._startStyles&&(fu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(fu(this._element,this._endStyles),this._endStyles=null),Ko(this._element,this._initialStyles),this._state=3)}}return f})();function og(f){let o=null;return f.forEach((a,p)=>{(function hy(f){return"display"===f||"position"===f})(p)&&(o=o||new Map,o.set(p,a))}),o}class _d{constructor(o,a,p,E){this.element=o,this.keyframes=a,this.options=p,this._specialStyles=E,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=p.duration,this._delay=p.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(o=>o()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const o=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,o,this.options),this._finalKeyframe=o.length?o[o.length-1]:new Map;const a=()=>this._onFinish();this.domPlayer.addEventListener("finish",a),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",a)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(o){const a=[];return o.forEach(p=>{a.push(Object.fromEntries(p))}),a}_triggerWebAnimation(o,a,p){return o.animate(this._convertKeyframesToObject(a),p)}onStart(o){this._originalOnStartFns.push(o),this._onStartFns.push(o)}onDone(o){this._originalOnDoneFns.push(o),this._onDoneFns.push(o)}onDestroy(o){this._onDestroyFns.push(o)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(o=>o()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(o=>o()),this._onDestroyFns=[])}setPosition(o){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=o*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const o=new Map;this.hasStarted()&&this._finalKeyframe.forEach((p,E)=>{"offset"!==E&&o.set(E,this._finished?p:Zp(this.element,E))}),this.currentSnapshot=o}triggerCallback(o){const a="start"===o?this._onStartFns:this._onDoneFns;a.forEach(p=>p()),a.length=0}}class Rl{validateStyleProperty(o){return!0}validateAnimatableStyleProperty(o){return!0}matchesElement(o,a){return!1}containsElement(o,a){return ye(o,a)}getParentElement(o){return d(o)}query(o,a,p){return ke(o,a,p)}computeStyle(o,a,p){return window.getComputedStyle(o)[a]}animate(o,a,p,E,x,K=[]){const be={duration:p,delay:E,fill:0==E?"both":"forwards"};x&&(be.easing=x);const je=new Map,At=K.filter(yn=>yn instanceof _d);(function yv(f,o){return 0===f||0===o})(p,E)&&At.forEach(yn=>{yn.currentSnapshot.forEach((cn,ln)=>je.set(ln,cn))});let Gt=function wf(f){return f.length?f[0]instanceof Map?f:f.map(o=>$c(o)):[]}(a).map(yn=>Oa(yn));Gt=function Wp(f,o,a){if(a.size&&o.length){let p=o[0],E=[];if(a.forEach((x,K)=>{p.has(K)||E.push(K),p.set(K,x)}),E.length)for(let x=1;x<o.length;x++){let K=o[x];E.forEach(se=>K.set(se,Zp(f,se)))}}return o}(o,Gt,je);const dn=function uy(f,o){let a=null,p=null;return Array.isArray(o)&&o.length?(a=og(o[0]),o.length>1&&(p=og(o[o.length-1]))):o instanceof Map&&(a=og(o)),a||p?new dy(f,a,p):null}(o,Gt);return new _d(o,Gt,be,dn)}}let Fm=(()=>{class f extends F_{constructor(a,p){super(),this._nextAnimationId=0,this._renderer=a.createRenderer(p.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(a){const p=this._nextAnimationId.toString();this._nextAnimationId++;const E=Array.isArray(a)?xa(a):a;return xl(this._renderer,null,p,"register",[E]),new Lm(p,this._renderer)}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(u.FYo),u.LFG(W.K0))};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac})}return f})();class Lm extends sd{constructor(o,a){super(),this._id=o,this._renderer=a}create(o,a){return new Vm(this._id,o,a||{},this._renderer)}}class Vm{constructor(o,a,p,E){this.id=o,this.element=a,this._renderer=E,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",p)}_listen(o,a){return this._renderer.listen(this.element,`@@${this.id}:${o}`,a)}_command(o,...a){return xl(this._renderer,this.element,this.id,o,a)}onDone(o){this._listen("done",o)}onStart(o){this._listen("start",o)}onDestroy(o){this._listen("destroy",o)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(o){this._command("setPosition",o)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function xl(f,o,a,p,E){return f.setProperty(o,`@@${a}:${p}`,E)}const Tv="@.disabled";let lE=(()=>{class f{constructor(a,p,E){this.delegate=a,this.engine=p,this._zone=E,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,p.onRemovalComplete=(x,K)=>{const se=K?.parentNode(x);se&&K.removeChild(se,x)}}createRenderer(a,p){const x=this.delegate.createRenderer(a,p);if(!(a&&p&&p.data&&p.data.animation)){let At=this._rendererCache.get(x);return At||(At=new Ol("",x,this.engine,()=>this._rendererCache.delete(x)),this._rendererCache.set(x,At)),At}const K=p.id,se=p.id+"-"+this._currentId;this._currentId++,this.engine.register(se,a);const be=At=>{Array.isArray(At)?At.forEach(be):this.engine.registerTrigger(K,se,a,At.name,At)};return p.data.animation.forEach(be),new Cv(this,se,x,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(a,p,E){a>=0&&a<this._microtaskId?this._zone.run(()=>p(E)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(x=>{const[K,se]=x;K(se)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([p,E]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(u.FYo),u.LFG(Zc),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac})}return f})();class Ol{constructor(o,a,p,E){this.namespaceId=o,this.delegate=a,this.engine=p,this._onDestroy=E}get data(){return this.delegate.data}destroyNode(o){this.delegate.destroyNode?.(o)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(o,a){return this.delegate.createElement(o,a)}createComment(o){return this.delegate.createComment(o)}createText(o){return this.delegate.createText(o)}appendChild(o,a){this.delegate.appendChild(o,a),this.engine.onInsert(this.namespaceId,a,o,!1)}insertBefore(o,a,p,E=!0){this.delegate.insertBefore(o,a,p),this.engine.onInsert(this.namespaceId,a,o,E)}removeChild(o,a,p){this.engine.onRemove(this.namespaceId,a,this.delegate)}selectRootElement(o,a){return this.delegate.selectRootElement(o,a)}parentNode(o){return this.delegate.parentNode(o)}nextSibling(o){return this.delegate.nextSibling(o)}setAttribute(o,a,p,E){this.delegate.setAttribute(o,a,p,E)}removeAttribute(o,a,p){this.delegate.removeAttribute(o,a,p)}addClass(o,a){this.delegate.addClass(o,a)}removeClass(o,a){this.delegate.removeClass(o,a)}setStyle(o,a,p,E){this.delegate.setStyle(o,a,p,E)}removeStyle(o,a,p){this.delegate.removeStyle(o,a,p)}setProperty(o,a,p){"@"==a.charAt(0)&&a==Tv?this.disableAnimations(o,!!p):this.delegate.setProperty(o,a,p)}setValue(o,a){this.delegate.setValue(o,a)}listen(o,a,p){return this.delegate.listen(o,a,p)}disableAnimations(o,a){this.engine.disableAnimations(o,a)}}class Cv extends Ol{constructor(o,a,p,E,x){super(a,p,E,x),this.factory=o,this.namespaceId=a}setProperty(o,a,p){"@"==a.charAt(0)?"."==a.charAt(1)&&a==Tv?this.disableAnimations(o,p=void 0===p||!!p):this.engine.process(this.namespaceId,o,a.slice(1),p):this.delegate.setProperty(o,a,p)}listen(o,a,p){if("@"==a.charAt(0)){const E=function uE(f){switch(f){case"body":return document.body;case"document":return document;case"window":return window;default:return f}}(o);let x=a.slice(1),K="";return"@"!=x.charAt(0)&&([x,K]=function kf(f){const o=f.indexOf(".");return[f.substring(0,o),f.slice(o+1)]}(x)),this.engine.listen(this.namespaceId,E,x,K,se=>{this.factory.scheduleListenerCallback(se._data||-1,p,se)})}return this.delegate.listen(o,a,p)}}const Ih=[{provide:F_,useClass:Fm},{provide:sc,useFactory:function fy(){return new vh}},{provide:Zc,useClass:(()=>{class f extends Zc{constructor(a,p,E,x){super(a.body,p,E)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(W.K0),u.LFG(Wt),u.LFG(sc),u.LFG(u.z2F))};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac})}return f})()},{provide:u.FYo,useFactory:function Ff(f,o,a){return new lE(f,o,a)},deps:[g.se,Zc,u.R0b]}],bh=[{provide:Wt,useFactory:()=>new Rl},{provide:u.QbO,useValue:"BrowserAnimations"},...Ih],yu=[{provide:Wt,useClass:xt},{provide:u.QbO,useValue:"NoopAnimations"},...Ih];let zi=(()=>{class f{static withConfig(a){return{ngModule:f,providers:a.disableAnimations?yu:bh}}static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=u.oAB({type:f});static#n=this.\u0275inj=u.cJS({providers:bh,imports:[g.b2]})}return f})();const cg_firebase={apiKey:"AIzaSyBfMHRYkwC16Pt-IuqcVJOYjkrRgOlEVH8",authDomain:"romaniinseattle.firebaseapp.com",projectId:"romaniinseattle",storageBucket:"romaniinseattle.appspot.com",messagingSenderId:"548714995927",appId:"1:548714995927:web:70a2631d9f5d8d2f8fd092"};var Nl=H(3182);class ga{constructor(o){return o}}class lg{constructor(){return(0,Nl.C6)()}}const jm=new u.OlP("angularfire2._apps"),yd={provide:ga,useFactory:function py(f){return f&&1===f.length?f[0]:new ga((0,Nl.Mq)())},deps:[[new u.FiY,jm]]},Vf={provide:lg,deps:[[new u.FiY,jm]]};function Th(f){return(o,a)=>{const p=o.runOutsideAngular(()=>f(a));return new ga(p)}}let Hm=(()=>{class f{constructor(a){(0,Nl.KN)("angularfire",yi.q4.full,"core"),(0,Nl.KN)("angularfire",yi.q4.full,"app"),(0,Nl.KN)("angular",u.q4F.full,a.toString())}static \u0275fac=function(p){return new(p||f)(u.LFG(u.Lbi))};static \u0275mod=u.oAB({type:f});static \u0275inj=u.cJS({providers:[yd,Vf]})}return f})();function gy(f,...o){return{ngModule:Hm,providers:[{provide:jm,useFactory:Th(f),multi:!0,deps:[u.R0b,u.zs3,yi.HU,...o]}]}}const Ch=(0,yi.u3)(Nl.ZF,!0);H(35),H(7879);class dg{constructor(){return(0,yi.vb)("auth")}}var a0=H(5588);class xv{constructor(o){return o}}const Ov="firestore",gE=new u.OlP("angularfire2.firestore-instances");function Nv(f){return(o,a)=>{const p=o.runOutsideAngular(()=>f(a));return new xv(p)}}const Eu={provide:class c0{constructor(){return(0,yi.vb)(Ov)}},deps:[[new u.FiY,gE]]},u0={provide:xv,useFactory:function mE(f,o){const a=(0,yi.JM)(Ov,f,o);return a&&new xv(a)},deps:[[new u.FiY,gE],ga]};let d0=(()=>{class f{constructor(){(0,Nl.KN)("angularfire",yi.q4.full,"fst")}static \u0275fac=function(p){return new(p||f)};static \u0275mod=u.oAB({type:f});static \u0275inj=u.cJS({providers:[u0,Eu]})}return f})();function Iu(f,...o){return{ngModule:d0,providers:[{provide:gE,useFactory:Nv(f),multi:!0,deps:[u.R0b,u.zs3,yi.HU,lg,[new u.FiY,dg],[new u.FiY,yi.Rf],...o]}]}}const D0=(0,yi.u3)(a0.ad,!0);var Iy=H(981);class Yo{constructor(o){return o}}const j0="storage",Vv=new u.OlP("angularfire2.storage-instances");function TE(f){return(o,a)=>{const p=o.runOutsideAngular(()=>f(a));return new Yo(p)}}const CE={provide:class IE{constructor(){return(0,yi.vb)(j0)}},deps:[[new u.FiY,Vv]]},wE={provide:Yo,useFactory:function bE(f,o){const a=(0,yi.JM)(j0,f,o);return a&&new Yo(a)},deps:[[new u.FiY,Vv],ga]};let $0=(()=>{class f{constructor(){(0,Nl.KN)("angularfire",yi.q4.full,"gcs")}static \u0275fac=function(p){return new(p||f)};static \u0275mod=u.oAB({type:f});static \u0275inj=u.cJS({providers:[wE,CE]})}return f})();function z0(f,...o){return{ngModule:$0,providers:[{provide:Vv,useFactory:TE(f),multi:!0,deps:[u.R0b,u.zs3,yi.HU,lg,[new u.FiY,dg],[new u.FiY,yi.Rf],...o]}]}}const AE=(0,yi.u3)(nd,!0);let DE=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=u.oAB({type:f,bootstrap:[Jv]});static#n=this.\u0275inj=u.cJS({imports:[g.b2,id,zi,qr,tp,lt,lu.yb,oh,Iy.ww,xc.hO.initializeApp(cg_firebase),gy(()=>Ch(cg_firebase)),Iu(()=>D0()),z0(()=>AE()),mn.UX,mn.u5,Yt.Bz,Yt.Bz]})}return f})();g.q6().bootstrapModule(DE).catch(f=>console.error(f))},5619:(Qt,We,H)=>{H.d(We,{X:()=>u});var g=H(8645);class u extends g.x{constructor(Ie){super(),this._value=Ie}get value(){return this.getValue()}_subscribe(Ie){const Ee=super._subscribe(Ie);return!Ee.closed&&Ie.next(this._value),Ee}getValue(){const{hasError:Ie,thrownError:Ee,_value:Pe}=this;if(Ie)throw Ee;return this._throwIfClosed(),Pe}next(Ie){super.next(this._value=Ie)}}},5592:(Qt,We,H)=>{H.d(We,{y:()=>Ae});var g=H(305),u=H(7394),W=H(4850),Ie=H(8407),Ee=H(2653),Pe=H(4674),me=H(1441);let Ae=(()=>{class Oe{constructor(Je){Je&&(this._subscribe=Je)}lift(Je){const Dt=new Oe;return Dt.source=this,Dt.operator=Je,Dt}subscribe(Je,Dt,mt){const It=function ve(Oe){return Oe&&Oe instanceof g.Lv||function fe(Oe){return Oe&&(0,Pe.m)(Oe.next)&&(0,Pe.m)(Oe.error)&&(0,Pe.m)(Oe.complete)}(Oe)&&(0,u.Nn)(Oe)}(Je)?Je:new g.Hp(Je,Dt,mt);return(0,me.x)(()=>{const{operator:_t,source:en}=this;It.add(_t?_t.call(It,en):en?this._subscribe(It):this._trySubscribe(It))}),It}_trySubscribe(Je){try{return this._subscribe(Je)}catch(Dt){Je.error(Dt)}}forEach(Je,Dt){return new(Dt=xe(Dt))((mt,It)=>{const _t=new g.Hp({next:en=>{try{Je(en)}catch(Ze){It(Ze),_t.unsubscribe()}},error:It,complete:mt});this.subscribe(_t)})}_subscribe(Je){var Dt;return null===(Dt=this.source)||void 0===Dt?void 0:Dt.subscribe(Je)}[W.L](){return this}pipe(...Je){return(0,Ie.U)(Je)(this)}toPromise(Je){return new(Je=xe(Je))((Dt,mt)=>{let It;this.subscribe(_t=>It=_t,_t=>mt(_t),()=>Dt(It))})}}return Oe.create=pt=>new Oe(pt),Oe})();function xe(Oe){var pt;return null!==(pt=Oe??Ee.config.Promise)&&void 0!==pt?pt:Promise}},8645:(Qt,We,H)=>{H.d(We,{x:()=>me});var g=H(5592),u=H(7394);const Ie=(0,H(2306).d)(xe=>function(){xe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ee=H(9039),Pe=H(1441);let me=(()=>{class xe extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ve){const Oe=new Ae(this,this);return Oe.operator=ve,Oe}_throwIfClosed(){if(this.closed)throw new Ie}next(ve){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Oe of this.currentObservers)Oe.next(ve)}})}error(ve){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ve;const{observers:Oe}=this;for(;Oe.length;)Oe.shift().error(ve)}})}complete(){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ve}=this;for(;ve.length;)ve.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ve;return(null===(ve=this.observers)||void 0===ve?void 0:ve.length)>0}_trySubscribe(ve){return this._throwIfClosed(),super._trySubscribe(ve)}_subscribe(ve){return this._throwIfClosed(),this._checkFinalizedStatuses(ve),this._innerSubscribe(ve)}_innerSubscribe(ve){const{hasError:Oe,isStopped:pt,observers:Je}=this;return Oe||pt?u.Lc:(this.currentObservers=null,Je.push(ve),new u.w0(()=>{this.currentObservers=null,(0,Ee.P)(Je,ve)}))}_checkFinalizedStatuses(ve){const{hasError:Oe,thrownError:pt,isStopped:Je}=this;Oe?ve.error(pt):Je&&ve.complete()}asObservable(){const ve=new g.y;return ve.source=this,ve}}return xe.create=(fe,ve)=>new Ae(fe,ve),xe})();class Ae extends me{constructor(fe,ve){super(),this.destination=fe,this.source=ve}next(fe){var ve,Oe;null===(Oe=null===(ve=this.destination)||void 0===ve?void 0:ve.next)||void 0===Oe||Oe.call(ve,fe)}error(fe){var ve,Oe;null===(Oe=null===(ve=this.destination)||void 0===ve?void 0:ve.error)||void 0===Oe||Oe.call(ve,fe)}complete(){var fe,ve;null===(ve=null===(fe=this.destination)||void 0===fe?void 0:fe.complete)||void 0===ve||ve.call(fe)}_subscribe(fe){var ve,Oe;return null!==(Oe=null===(ve=this.source)||void 0===ve?void 0:ve.subscribe(fe))&&void 0!==Oe?Oe:u.Lc}}},305:(Qt,We,H)=>{H.d(We,{Hp:()=>mt,Lv:()=>Oe});var g=H(4674),u=H(7394),W=H(2653),Ie=H(3894),Ee=H(2420);const Pe=xe("C",void 0,void 0);function xe(ze,rt,$e){return{kind:ze,value:rt,error:$e}}var fe=H(7599),ve=H(1441);class Oe extends u.w0{constructor(rt){super(),this.isStopped=!1,rt?(this.destination=rt,(0,u.Nn)(rt)&&rt.add(this)):this.destination=Ze}static create(rt,$e,it){return new mt(rt,$e,it)}next(rt){this.isStopped?en(function Ae(ze){return xe("N",ze,void 0)}(rt),this):this._next(rt)}error(rt){this.isStopped?en(function me(ze){return xe("E",void 0,ze)}(rt),this):(this.isStopped=!0,this._error(rt))}complete(){this.isStopped?en(Pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(rt){this.destination.next(rt)}_error(rt){try{this.destination.error(rt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const pt=Function.prototype.bind;function Je(ze,rt){return pt.call(ze,rt)}class Dt{constructor(rt){this.partialObserver=rt}next(rt){const{partialObserver:$e}=this;if($e.next)try{$e.next(rt)}catch(it){It(it)}}error(rt){const{partialObserver:$e}=this;if($e.error)try{$e.error(rt)}catch(it){It(it)}else It(rt)}complete(){const{partialObserver:rt}=this;if(rt.complete)try{rt.complete()}catch($e){It($e)}}}class mt extends Oe{constructor(rt,$e,it){let Ct;if(super(),(0,g.m)(rt)||!rt)Ct={next:rt??void 0,error:$e??void 0,complete:it??void 0};else{let Ye;this&&W.config.useDeprecatedNextContext?(Ye=Object.create(rt),Ye.unsubscribe=()=>this.unsubscribe(),Ct={next:rt.next&&Je(rt.next,Ye),error:rt.error&&Je(rt.error,Ye),complete:rt.complete&&Je(rt.complete,Ye)}):Ct=rt}this.destination=new Dt(Ct)}}function It(ze){W.config.useDeprecatedSynchronousErrorHandling?(0,ve.O)(ze):(0,Ie.h)(ze)}function en(ze,rt){const{onStoppedNotification:$e}=W.config;$e&&fe.z.setTimeout(()=>$e(ze,rt))}const Ze={closed:!0,next:Ee.Z,error:function _t(ze){throw ze},complete:Ee.Z}},7394:(Qt,We,H)=>{H.d(We,{Lc:()=>Pe,w0:()=>Ee,Nn:()=>me});var g=H(4674);const W=(0,H(2306).d)(xe=>function(ve){xe(this),this.message=ve?`${ve.length} errors occurred during unsubscription:\n${ve.map((Oe,pt)=>`${pt+1}) ${Oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ve});var Ie=H(9039);class Ee{constructor(fe){this.initialTeardown=fe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let fe;if(!this.closed){this.closed=!0;const{_parentage:ve}=this;if(ve)if(this._parentage=null,Array.isArray(ve))for(const Je of ve)Je.remove(this);else ve.remove(this);const{initialTeardown:Oe}=this;if((0,g.m)(Oe))try{Oe()}catch(Je){fe=Je instanceof W?Je.errors:[Je]}const{_finalizers:pt}=this;if(pt){this._finalizers=null;for(const Je of pt)try{Ae(Je)}catch(Dt){fe=fe??[],Dt instanceof W?fe=[...fe,...Dt.errors]:fe.push(Dt)}}if(fe)throw new W(fe)}}add(fe){var ve;if(fe&&fe!==this)if(this.closed)Ae(fe);else{if(fe instanceof Ee){if(fe.closed||fe._hasParent(this))return;fe._addParent(this)}(this._finalizers=null!==(ve=this._finalizers)&&void 0!==ve?ve:[]).push(fe)}}_hasParent(fe){const{_parentage:ve}=this;return ve===fe||Array.isArray(ve)&&ve.includes(fe)}_addParent(fe){const{_parentage:ve}=this;this._parentage=Array.isArray(ve)?(ve.push(fe),ve):ve?[ve,fe]:fe}_removeParent(fe){const{_parentage:ve}=this;ve===fe?this._parentage=null:Array.isArray(ve)&&(0,Ie.P)(ve,fe)}remove(fe){const{_finalizers:ve}=this;ve&&(0,Ie.P)(ve,fe),fe instanceof Ee&&fe._removeParent(this)}}Ee.EMPTY=(()=>{const xe=new Ee;return xe.closed=!0,xe})();const Pe=Ee.EMPTY;function me(xe){return xe instanceof Ee||xe&&"closed"in xe&&(0,g.m)(xe.remove)&&(0,g.m)(xe.add)&&(0,g.m)(xe.unsubscribe)}function Ae(xe){(0,g.m)(xe)?xe():xe.unsubscribe()}},2653:(Qt,We,H)=>{H.d(We,{config:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(Qt,We,H)=>{H.d(We,{a:()=>fe});var g=H(5592),u=H(7453),W=H(2459),Ie=H(2737),Ee=H(7400),Pe=H(4564),me=H(2714),Ae=H(8251),xe=H(7103);function fe(...pt){const Je=(0,Pe.yG)(pt),Dt=(0,Pe.jO)(pt),{args:mt,keys:It}=(0,u.D)(pt);if(0===mt.length)return(0,W.D)([],Je);const _t=new g.y(function ve(pt,Je,Dt=Ie.y){return mt=>{Oe(Je,()=>{const{length:It}=pt,_t=new Array(It);let en=It,Ze=It;for(let ze=0;ze<It;ze++)Oe(Je,()=>{const rt=(0,W.D)(pt[ze],Je);let $e=!1;rt.subscribe((0,Ae.x)(mt,it=>{_t[ze]=it,$e||($e=!0,Ze--),Ze||mt.next(Dt(_t.slice()))},()=>{--en||mt.complete()}))},mt)},mt)}}(mt,Je,It?en=>(0,me.n)(It,en):Ie.y));return Dt?_t.pipe((0,Ee.Z)(Dt)):_t}function Oe(pt,Je,Dt){pt?(0,xe.f)(Dt,pt,Je):Je()}},5211:(Qt,We,H)=>{H.d(We,{z:()=>Ee});var g=H(7537),W=H(4564),Ie=H(2459);function Ee(...Pe){return function u(){return(0,g.J)(1)}()((0,Ie.D)(Pe,(0,W.yG)(Pe)))}},6232:(Qt,We,H)=>{H.d(We,{E:()=>u});const u=new(H(5592).y)(Ee=>Ee.complete())},9315:(Qt,We,H)=>{H.d(We,{D:()=>Ae});var g=H(5592),u=H(7453),W=H(4829),Ie=H(4564),Ee=H(8251),Pe=H(7400),me=H(2714);function Ae(...xe){const fe=(0,Ie.jO)(xe),{args:ve,keys:Oe}=(0,u.D)(xe),pt=new g.y(Je=>{const{length:Dt}=ve;if(!Dt)return void Je.complete();const mt=new Array(Dt);let It=Dt,_t=Dt;for(let en=0;en<Dt;en++){let Ze=!1;(0,W.Xf)(ve[en]).subscribe((0,Ee.x)(Je,ze=>{Ze||(Ze=!0,_t--),mt[en]=ze},()=>It--,void 0,()=>{(!It||!Ze)&&(_t||Je.next(Oe?(0,me.n)(Oe,mt):mt),Je.complete())}))}});return fe?pt.pipe((0,Pe.Z)(fe)):pt}},2459:(Qt,We,H)=>{H.d(We,{D:()=>rt});var g=H(4829),u=H(3093),W=H(5137),Pe=H(5592),Ae=H(4971),xe=H(4674),fe=H(7103);function Oe($e,it){if(!$e)throw new Error("Iterable cannot be null");return new Pe.y(Ct=>{(0,fe.f)(Ct,it,()=>{const Ye=$e[Symbol.asyncIterator]();(0,fe.f)(Ct,it,()=>{Ye.next().then(ge=>{ge.done?Ct.complete():Ct.next(ge.value)})},0,!0)})})}var pt=H(8382),Je=H(4026),Dt=H(4266),mt=H(3664),It=H(5726),_t=H(9853),en=H(541);function rt($e,it){return it?function ze($e,it){if(null!=$e){if((0,pt.c)($e))return function Ie($e,it){return(0,g.Xf)($e).pipe((0,W.R)(it),(0,u.Q)(it))}($e,it);if((0,Dt.z)($e))return function me($e,it){return new Pe.y(Ct=>{let Ye=0;return it.schedule(function(){Ye===$e.length?Ct.complete():(Ct.next($e[Ye++]),Ct.closed||this.schedule())})})}($e,it);if((0,Je.t)($e))return function Ee($e,it){return(0,g.Xf)($e).pipe((0,W.R)(it),(0,u.Q)(it))}($e,it);if((0,It.D)($e))return Oe($e,it);if((0,mt.T)($e))return function ve($e,it){return new Pe.y(Ct=>{let Ye;return(0,fe.f)(Ct,it,()=>{Ye=$e[Ae.h](),(0,fe.f)(Ct,it,()=>{let ge,Et;try{({value:ge,done:Et}=Ye.next())}catch(Ht){return void Ct.error(Ht)}Et?Ct.complete():Ct.next(ge)},0,!0)}),()=>(0,xe.m)(Ye?.return)&&Ye.return()})}($e,it);if((0,en.L)($e))return function Ze($e,it){return Oe((0,en.Q)($e),it)}($e,it)}throw(0,_t.z)($e)}($e,it):(0,g.Xf)($e)}},4829:(Qt,We,H)=>{H.d(We,{Xf:()=>pt});var g=H(7582),u=H(4266),W=H(4026),Ie=H(5592),Ee=H(8382),Pe=H(5726),me=H(9853),Ae=H(3664),xe=H(541),fe=H(4674),ve=H(3894),Oe=H(4850);function pt(ze){if(ze instanceof Ie.y)return ze;if(null!=ze){if((0,Ee.c)(ze))return function Je(ze){return new Ie.y(rt=>{const $e=ze[Oe.L]();if((0,fe.m)($e.subscribe))return $e.subscribe(rt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ze);if((0,u.z)(ze))return function Dt(ze){return new Ie.y(rt=>{for(let $e=0;$e<ze.length&&!rt.closed;$e++)rt.next(ze[$e]);rt.complete()})}(ze);if((0,W.t)(ze))return function mt(ze){return new Ie.y(rt=>{ze.then($e=>{rt.closed||(rt.next($e),rt.complete())},$e=>rt.error($e)).then(null,ve.h)})}(ze);if((0,Pe.D)(ze))return _t(ze);if((0,Ae.T)(ze))return function It(ze){return new Ie.y(rt=>{for(const $e of ze)if(rt.next($e),rt.closed)return;rt.complete()})}(ze);if((0,xe.L)(ze))return function en(ze){return _t((0,xe.Q)(ze))}(ze)}throw(0,me.z)(ze)}function _t(ze){return new Ie.y(rt=>{(function Ze(ze,rt){var $e,it,Ct,Ye;return(0,g.mG)(this,void 0,void 0,function*(){try{for($e=(0,g.KL)(ze);!(it=yield $e.next()).done;)if(rt.next(it.value),rt.closed)return}catch(ge){Ct={error:ge}}finally{try{it&&!it.done&&(Ye=$e.return)&&(yield Ye.call($e))}finally{if(Ct)throw Ct.error}}rt.complete()})})(ze,rt).catch($e=>rt.error($e))})}},3019:(Qt,We,H)=>{H.d(We,{T:()=>Pe});var g=H(7537),u=H(4829),W=H(6232),Ie=H(4564),Ee=H(2459);function Pe(...me){const Ae=(0,Ie.yG)(me),xe=(0,Ie._6)(me,1/0),fe=me;return fe.length?1===fe.length?(0,u.Xf)(fe[0]):(0,g.J)(xe)((0,Ee.D)(fe,Ae)):W.E}},2096:(Qt,We,H)=>{H.d(We,{of:()=>W});var g=H(4564),u=H(2459);function W(...Ie){const Ee=(0,g.yG)(Ie);return(0,u.D)(Ie,Ee)}},8504:(Qt,We,H)=>{H.d(We,{_:()=>W});var g=H(5592),u=H(4674);function W(Ie,Ee){const Pe=(0,u.m)(Ie)?Ie:()=>Ie,me=Ae=>Ae.error(Pe());return new g.y(Ee?Ae=>Ee.schedule(me,0,Ae):me)}},8251:(Qt,We,H)=>{H.d(We,{x:()=>u});var g=H(305);function u(Ie,Ee,Pe,me,Ae){return new W(Ie,Ee,Pe,me,Ae)}class W extends g.Lv{constructor(Ee,Pe,me,Ae,xe,fe){super(Ee),this.onFinalize=xe,this.shouldUnsubscribe=fe,this._next=Pe?function(ve){try{Pe(ve)}catch(Oe){Ee.error(Oe)}}:super._next,this._error=Ae?function(ve){try{Ae(ve)}catch(Oe){Ee.error(Oe)}finally{this.unsubscribe()}}:super._error,this._complete=me?function(){try{me()}catch(ve){Ee.error(ve)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Pe}=this;super.unsubscribe(),!Pe&&(null===(Ee=this.onFinalize)||void 0===Ee||Ee.call(this))}}}},6306:(Qt,We,H)=>{H.d(We,{K:()=>Ie});var g=H(4829),u=H(8251),W=H(9360);function Ie(Ee){return(0,W.e)((Pe,me)=>{let fe,Ae=null,xe=!1;Ae=Pe.subscribe((0,u.x)(me,void 0,void 0,ve=>{fe=(0,g.Xf)(Ee(ve,Ie(Ee)(Pe))),Ae?(Ae.unsubscribe(),Ae=null,fe.subscribe(me)):xe=!0})),xe&&(Ae.unsubscribe(),Ae=null,fe.subscribe(me))})}},6328:(Qt,We,H)=>{H.d(We,{b:()=>W});var g=H(1631),u=H(4674);function W(Ie,Ee){return(0,u.m)(Ee)?(0,g.z)(Ie,Ee,1):(0,g.z)(Ie,1)}},3572:(Qt,We,H)=>{H.d(We,{d:()=>W});var g=H(9360),u=H(8251);function W(Ie){return(0,g.e)((Ee,Pe)=>{let me=!1;Ee.subscribe((0,u.x)(Pe,Ae=>{me=!0,Pe.next(Ae)},()=>{me||Pe.next(Ie),Pe.complete()}))})}},3997:(Qt,We,H)=>{H.d(We,{x:()=>Ie});var g=H(2737),u=H(9360),W=H(8251);function Ie(Pe,me=g.y){return Pe=Pe??Ee,(0,u.e)((Ae,xe)=>{let fe,ve=!0;Ae.subscribe((0,W.x)(xe,Oe=>{const pt=me(Oe);(ve||!Pe(fe,pt))&&(ve=!1,fe=pt,xe.next(Oe))}))})}function Ee(Pe,me){return Pe===me}},2181:(Qt,We,H)=>{H.d(We,{h:()=>W});var g=H(9360),u=H(8251);function W(Ie,Ee){return(0,g.e)((Pe,me)=>{let Ae=0;Pe.subscribe((0,u.x)(me,xe=>Ie.call(Ee,xe,Ae++)&&me.next(xe)))})}},4716:(Qt,We,H)=>{H.d(We,{x:()=>u});var g=H(9360);function u(W){return(0,g.e)((Ie,Ee)=>{try{Ie.subscribe(Ee)}finally{Ee.add(W)}})}},1374:(Qt,We,H)=>{H.d(We,{P:()=>me});var g=H(6973),u=H(2181),W=H(8180),Ie=H(3572),Ee=H(3026),Pe=H(2737);function me(Ae,xe){const fe=arguments.length>=2;return ve=>ve.pipe(Ae?(0,u.h)((Oe,pt)=>Ae(Oe,pt,ve)):Pe.y,(0,W.q)(1),fe?(0,Ie.d)(xe):(0,Ee.T)(()=>new g.K))}},7398:(Qt,We,H)=>{H.d(We,{U:()=>W});var g=H(9360),u=H(8251);function W(Ie,Ee){return(0,g.e)((Pe,me)=>{let Ae=0;Pe.subscribe((0,u.x)(me,xe=>{me.next(Ie.call(Ee,xe,Ae++))}))})}},7537:(Qt,We,H)=>{H.d(We,{J:()=>W});var g=H(1631),u=H(2737);function W(Ie=1/0){return(0,g.z)(u.y,Ie)}},1631:(Qt,We,H)=>{H.d(We,{z:()=>Ae});var g=H(7398),u=H(4829),W=H(9360),Ie=H(7103),Ee=H(8251),me=H(4674);function Ae(xe,fe,ve=1/0){return(0,me.m)(fe)?Ae((Oe,pt)=>(0,g.U)((Je,Dt)=>fe(Oe,Je,pt,Dt))((0,u.Xf)(xe(Oe,pt))),ve):("number"==typeof fe&&(ve=fe),(0,W.e)((Oe,pt)=>function Pe(xe,fe,ve,Oe,pt,Je,Dt,mt){const It=[];let _t=0,en=0,Ze=!1;const ze=()=>{Ze&&!It.length&&!_t&&fe.complete()},rt=it=>_t<Oe?$e(it):It.push(it),$e=it=>{Je&&fe.next(it),_t++;let Ct=!1;(0,u.Xf)(ve(it,en++)).subscribe((0,Ee.x)(fe,Ye=>{pt?.(Ye),Je?rt(Ye):fe.next(Ye)},()=>{Ct=!0},void 0,()=>{if(Ct)try{for(_t--;It.length&&_t<Oe;){const Ye=It.shift();Dt?(0,Ie.f)(fe,Dt,()=>$e(Ye)):$e(Ye)}ze()}catch(Ye){fe.error(Ye)}}))};return xe.subscribe((0,Ee.x)(fe,rt,()=>{Ze=!0,ze()})),()=>{mt?.()}}(Oe,pt,xe,ve)))}},3093:(Qt,We,H)=>{H.d(We,{Q:()=>Ie});var g=H(7103),u=H(9360),W=H(8251);function Ie(Ee,Pe=0){return(0,u.e)((me,Ae)=>{me.subscribe((0,W.x)(Ae,xe=>(0,g.f)(Ae,Ee,()=>Ae.next(xe),Pe),()=>(0,g.f)(Ae,Ee,()=>Ae.complete(),Pe),xe=>(0,g.f)(Ae,Ee,()=>Ae.error(xe),Pe)))})}},6699:(Qt,We,H)=>{H.d(We,{R:()=>Ie});var g=H(9360),u=H(8251);function Ie(Ee,Pe){return(0,g.e)(function W(Ee,Pe,me,Ae,xe){return(fe,ve)=>{let Oe=me,pt=Pe,Je=0;fe.subscribe((0,u.x)(ve,Dt=>{const mt=Je++;pt=Oe?Ee(pt,Dt,mt):(Oe=!0,Dt),Ae&&ve.next(pt)},xe&&(()=>{Oe&&ve.next(pt),ve.complete()})))}}(Ee,Pe,arguments.length>=2,!0))}},3020:(Qt,We,H)=>{H.d(We,{B:()=>Ee});var g=H(4829),u=H(8645),W=H(305),Ie=H(9360);function Ee(me={}){const{connector:Ae=(()=>new u.x),resetOnError:xe=!0,resetOnComplete:fe=!0,resetOnRefCountZero:ve=!0}=me;return Oe=>{let pt,Je,Dt,mt=0,It=!1,_t=!1;const en=()=>{Je?.unsubscribe(),Je=void 0},Ze=()=>{en(),pt=Dt=void 0,It=_t=!1},ze=()=>{const rt=pt;Ze(),rt?.unsubscribe()};return(0,Ie.e)((rt,$e)=>{mt++,!_t&&!It&&en();const it=Dt=Dt??Ae();$e.add(()=>{mt--,0===mt&&!_t&&!It&&(Je=Pe(ze,ve))}),it.subscribe($e),!pt&&mt>0&&(pt=new W.Hp({next:Ct=>it.next(Ct),error:Ct=>{_t=!0,en(),Je=Pe(Ze,xe,Ct),it.error(Ct)},complete:()=>{It=!0,en(),Je=Pe(Ze,fe),it.complete()}}),(0,g.Xf)(rt).subscribe(pt))})(Oe)}}function Pe(me,Ae,...xe){if(!0===Ae)return void me();if(!1===Ae)return;const fe=new W.Hp({next:()=>{fe.unsubscribe(),me()}});return(0,g.Xf)(Ae(...xe)).subscribe(fe)}},940:(Qt,We,H)=>{H.d(We,{d:()=>Ee});var g=H(8645),u=H(4552);class W extends g.x{constructor(me=1/0,Ae=1/0,xe=u.l){super(),this._bufferSize=me,this._windowTime=Ae,this._timestampProvider=xe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ae===1/0,this._bufferSize=Math.max(1,me),this._windowTime=Math.max(1,Ae)}next(me){const{isStopped:Ae,_buffer:xe,_infiniteTimeWindow:fe,_timestampProvider:ve,_windowTime:Oe}=this;Ae||(xe.push(me),!fe&&xe.push(ve.now()+Oe)),this._trimBuffer(),super.next(me)}_subscribe(me){this._throwIfClosed(),this._trimBuffer();const Ae=this._innerSubscribe(me),{_infiniteTimeWindow:xe,_buffer:fe}=this,ve=fe.slice();for(let Oe=0;Oe<ve.length&&!me.closed;Oe+=xe?1:2)me.next(ve[Oe]);return this._checkFinalizedStatuses(me),Ae}_trimBuffer(){const{_bufferSize:me,_timestampProvider:Ae,_buffer:xe,_infiniteTimeWindow:fe}=this,ve=(fe?1:2)*me;if(me<1/0&&ve<xe.length&&xe.splice(0,xe.length-ve),!fe){const Oe=Ae.now();let pt=0;for(let Je=1;Je<xe.length&&xe[Je]<=Oe;Je+=2)pt=Je;pt&&xe.splice(0,pt+1)}}}var Ie=H(3020);function Ee(Pe,me,Ae){let xe,fe=!1;return Pe&&"object"==typeof Pe?({bufferSize:xe=1/0,windowTime:me=1/0,refCount:fe=!1,scheduler:Ae}=Pe):xe=Pe??1/0,(0,Ie.B)({connector:()=>new W(xe,me,Ae),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:fe})}},7921:(Qt,We,H)=>{H.d(We,{O:()=>Ie});var g=H(5211),u=H(4564),W=H(9360);function Ie(...Ee){const Pe=(0,u.yG)(Ee);return(0,W.e)((me,Ae)=>{(Pe?(0,g.z)(Ee,me,Pe):(0,g.z)(Ee,me)).subscribe(Ae)})}},5137:(Qt,We,H)=>{H.d(We,{R:()=>u});var g=H(9360);function u(W,Ie=0){return(0,g.e)((Ee,Pe)=>{Pe.add(W.schedule(()=>Ee.subscribe(Pe),Ie))})}},4664:(Qt,We,H)=>{H.d(We,{w:()=>Ie});var g=H(4829),u=H(9360),W=H(8251);function Ie(Ee,Pe){return(0,u.e)((me,Ae)=>{let xe=null,fe=0,ve=!1;const Oe=()=>ve&&!xe&&Ae.complete();me.subscribe((0,W.x)(Ae,pt=>{xe?.unsubscribe();let Je=0;const Dt=fe++;(0,g.Xf)(Ee(pt,Dt)).subscribe(xe=(0,W.x)(Ae,mt=>Ae.next(Pe?Pe(pt,mt,Dt,Je++):mt),()=>{xe=null,Oe()}))},()=>{ve=!0,Oe()}))})}},8180:(Qt,We,H)=>{H.d(We,{q:()=>Ie});var g=H(6232),u=H(9360),W=H(8251);function Ie(Ee){return Ee<=0?()=>g.E:(0,u.e)((Pe,me)=>{let Ae=0;Pe.subscribe((0,W.x)(me,xe=>{++Ae<=Ee&&(me.next(xe),Ee<=Ae&&me.complete())}))})}},9773:(Qt,We,H)=>{H.d(We,{R:()=>Ee});var g=H(9360),u=H(8251),W=H(4829),Ie=H(2420);function Ee(Pe){return(0,g.e)((me,Ae)=>{(0,W.Xf)(Pe).subscribe((0,u.x)(Ae,()=>Ae.complete(),Ie.Z)),!Ae.closed&&me.subscribe(Ae)})}},9397:(Qt,We,H)=>{H.d(We,{b:()=>Ee});var g=H(4674),u=H(9360),W=H(8251),Ie=H(2737);function Ee(Pe,me,Ae){const xe=(0,g.m)(Pe)||me||Ae?{next:Pe,error:me,complete:Ae}:Pe;return xe?(0,u.e)((fe,ve)=>{var Oe;null===(Oe=xe.subscribe)||void 0===Oe||Oe.call(xe);let pt=!0;fe.subscribe((0,W.x)(ve,Je=>{var Dt;null===(Dt=xe.next)||void 0===Dt||Dt.call(xe,Je),ve.next(Je)},()=>{var Je;pt=!1,null===(Je=xe.complete)||void 0===Je||Je.call(xe),ve.complete()},Je=>{var Dt;pt=!1,null===(Dt=xe.error)||void 0===Dt||Dt.call(xe,Je),ve.error(Je)},()=>{var Je,Dt;pt&&(null===(Je=xe.unsubscribe)||void 0===Je||Je.call(xe)),null===(Dt=xe.finalize)||void 0===Dt||Dt.call(xe)}))}):Ie.y}},3026:(Qt,We,H)=>{H.d(We,{T:()=>Ie});var g=H(6973),u=H(9360),W=H(8251);function Ie(Pe=Ee){return(0,u.e)((me,Ae)=>{let xe=!1;me.subscribe((0,W.x)(Ae,fe=>{xe=!0,Ae.next(fe)},()=>xe?Ae.complete():Ae.error(Pe())))})}function Ee(){return new g.K}},1954:(Qt,We,H)=>{H.d(We,{o:()=>Ee});var g=H(7394);class u extends g.w0{constructor(me,Ae){super()}schedule(me,Ae=0){return this}}const W={setInterval(Pe,me,...Ae){const{delegate:xe}=W;return xe?.setInterval?xe.setInterval(Pe,me,...Ae):setInterval(Pe,me,...Ae)},clearInterval(Pe){const{delegate:me}=W;return(me?.clearInterval||clearInterval)(Pe)},delegate:void 0};var Ie=H(9039);class Ee extends u{constructor(me,Ae){super(me,Ae),this.scheduler=me,this.work=Ae,this.pending=!1}schedule(me,Ae=0){var xe;if(this.closed)return this;this.state=me;const fe=this.id,ve=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(ve,fe,Ae)),this.pending=!0,this.delay=Ae,this.id=null!==(xe=this.id)&&void 0!==xe?xe:this.requestAsyncId(ve,this.id,Ae),this}requestAsyncId(me,Ae,xe=0){return W.setInterval(me.flush.bind(me,this),xe)}recycleAsyncId(me,Ae,xe=0){if(null!=xe&&this.delay===xe&&!1===this.pending)return Ae;null!=Ae&&W.clearInterval(Ae)}execute(me,Ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const xe=this._execute(me,Ae);if(xe)return xe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(me,Ae){let fe,xe=!1;try{this.work(me)}catch(ve){xe=!0,fe=ve||new Error("Scheduled action threw falsy error")}if(xe)return this.unsubscribe(),fe}unsubscribe(){if(!this.closed){const{id:me,scheduler:Ae}=this,{actions:xe}=Ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ie.P)(xe,this),null!=me&&(this.id=this.recycleAsyncId(Ae,me,null)),this.delay=null,super.unsubscribe()}}}},2631:(Qt,We,H)=>{H.d(We,{v:()=>W});var g=H(4552);class u{constructor(Ee,Pe=u.now){this.schedulerActionCtor=Ee,this.now=Pe}schedule(Ee,Pe=0,me){return new this.schedulerActionCtor(this,Ee).schedule(me,Pe)}}u.now=g.l.now;class W extends u{constructor(Ee,Pe=u.now){super(Ee,Pe),this.actions=[],this._active=!1}flush(Ee){const{actions:Pe}=this;if(this._active)return void Pe.push(Ee);let me;this._active=!0;do{if(me=Ee.execute(Ee.state,Ee.delay))break}while(Ee=Pe.shift());if(this._active=!1,me){for(;Ee=Pe.shift();)Ee.unsubscribe();throw me}}}},6321:(Qt,We,H)=>{H.d(We,{z:()=>W});var g=H(1954);const W=new(H(2631).v)(g.o)},4552:(Qt,We,H)=>{H.d(We,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},7599:(Qt,We,H)=>{H.d(We,{z:()=>g});const g={setTimeout(u,W,...Ie){const{delegate:Ee}=g;return Ee?.setTimeout?Ee.setTimeout(u,W,...Ie):setTimeout(u,W,...Ie)},clearTimeout(u){const{delegate:W}=g;return(W?.clearTimeout||clearTimeout)(u)},delegate:void 0}},4971:(Qt,We,H)=>{H.d(We,{h:()=>u});const u=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Qt,We,H)=>{H.d(We,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Qt,We,H)=>{H.d(We,{K:()=>u});const u=(0,H(2306).d)(W=>function(){W(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(Qt,We,H)=>{H.d(We,{_6:()=>Pe,jO:()=>Ie,yG:()=>Ee});var g=H(4674);function W(me){return me[me.length-1]}function Ie(me){return(0,g.m)(W(me))?me.pop():void 0}function Ee(me){return function u(me){return me&&(0,g.m)(me.schedule)}(W(me))?me.pop():void 0}function Pe(me,Ae){return"number"==typeof W(me)?me.pop():Ae}},7453:(Qt,We,H)=>{H.d(We,{D:()=>Ee});const{isArray:g}=Array,{getPrototypeOf:u,prototype:W,keys:Ie}=Object;function Ee(me){if(1===me.length){const Ae=me[0];if(g(Ae))return{args:Ae,keys:null};if(function Pe(me){return me&&"object"==typeof me&&u(me)===W}(Ae)){const xe=Ie(Ae);return{args:xe.map(fe=>Ae[fe]),keys:xe}}}return{args:me,keys:null}}},9039:(Qt,We,H)=>{function g(u,W){if(u){const Ie=u.indexOf(W);0<=Ie&&u.splice(Ie,1)}}H.d(We,{P:()=>g})},2306:(Qt,We,H)=>{function g(u){const Ie=u(Ee=>{Error.call(Ee),Ee.stack=(new Error).stack});return Ie.prototype=Object.create(Error.prototype),Ie.prototype.constructor=Ie,Ie}H.d(We,{d:()=>g})},2714:(Qt,We,H)=>{function g(u,W){return u.reduce((Ie,Ee,Pe)=>(Ie[Ee]=W[Pe],Ie),{})}H.d(We,{n:()=>g})},1441:(Qt,We,H)=>{H.d(We,{O:()=>Ie,x:()=>W});var g=H(2653);let u=null;function W(Ee){if(g.config.useDeprecatedSynchronousErrorHandling){const Pe=!u;if(Pe&&(u={errorThrown:!1,error:null}),Ee(),Pe){const{errorThrown:me,error:Ae}=u;if(u=null,me)throw Ae}}else Ee()}function Ie(Ee){g.config.useDeprecatedSynchronousErrorHandling&&u&&(u.errorThrown=!0,u.error=Ee)}},7103:(Qt,We,H)=>{function g(u,W,Ie,Ee=0,Pe=!1){const me=W.schedule(function(){Ie(),Pe?u.add(this.schedule(null,Ee)):this.unsubscribe()},Ee);if(u.add(me),!Pe)return me}H.d(We,{f:()=>g})},2737:(Qt,We,H)=>{function g(u){return u}H.d(We,{y:()=>g})},4266:(Qt,We,H)=>{H.d(We,{z:()=>g});const g=u=>u&&"number"==typeof u.length&&"function"!=typeof u},5726:(Qt,We,H)=>{H.d(We,{D:()=>u});var g=H(4674);function u(W){return Symbol.asyncIterator&&(0,g.m)(W?.[Symbol.asyncIterator])}},4674:(Qt,We,H)=>{function g(u){return"function"==typeof u}H.d(We,{m:()=>g})},8382:(Qt,We,H)=>{H.d(We,{c:()=>W});var g=H(4850),u=H(4674);function W(Ie){return(0,u.m)(Ie[g.L])}},3664:(Qt,We,H)=>{H.d(We,{T:()=>W});var g=H(4971),u=H(4674);function W(Ie){return(0,u.m)(Ie?.[g.h])}},4026:(Qt,We,H)=>{H.d(We,{t:()=>u});var g=H(4674);function u(W){return(0,g.m)(W?.then)}},541:(Qt,We,H)=>{H.d(We,{L:()=>Ie,Q:()=>W});var g=H(7582),u=H(4674);function W(Ee){return(0,g.FC)(this,arguments,function*(){const me=Ee.getReader();try{for(;;){const{value:Ae,done:xe}=yield(0,g.qq)(me.read());if(xe)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(Ae)}}finally{me.releaseLock()}})}function Ie(Ee){return(0,u.m)(Ee?.getReader)}},9360:(Qt,We,H)=>{H.d(We,{A:()=>u,e:()=>W});var g=H(4674);function u(Ie){return(0,g.m)(Ie?.lift)}function W(Ie){return Ee=>{if(u(Ee))return Ee.lift(function(Pe){try{return Ie(Pe,this)}catch(me){this.error(me)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Qt,We,H)=>{H.d(We,{Z:()=>Ie});var g=H(7398);const{isArray:u}=Array;function Ie(Ee){return(0,g.U)(Pe=>function W(Ee,Pe){return u(Pe)?Ee(...Pe):Ee(Pe)}(Ee,Pe))}},2420:(Qt,We,H)=>{function g(){}H.d(We,{Z:()=>g})},8407:(Qt,We,H)=>{H.d(We,{U:()=>W,z:()=>u});var g=H(2737);function u(...Ie){return W(Ie)}function W(Ie){return 0===Ie.length?g.y:1===Ie.length?Ie[0]:function(Pe){return Ie.reduce((me,Ae)=>Ae(me),Pe)}}},3894:(Qt,We,H)=>{H.d(We,{h:()=>W});var g=H(2653),u=H(7599);function W(Ie){u.z.setTimeout(()=>{const{onUnhandledError:Ee}=g.config;if(!Ee)throw Ie;Ee(Ie)})}},9853:(Qt,We,H)=>{function g(u){return new TypeError(`You provided ${null!==u&&"object"==typeof u?"an invalid object":`'${u}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}H.d(We,{z:()=>g})},6814:(Qt,We,H)=>{H.d(We,{Do:()=>mt,EM:()=>_i,HT:()=>Ie,JF:()=>hs,K0:()=>Pe,Mx:()=>Fi,NF:()=>Zi,O5:()=>Li,Ov:()=>ti,PM:()=>or,S$:()=>pt,Ts:()=>Ai,V_:()=>Ae,Ye:()=>It,b0:()=>Dt,bD:()=>rr,ez:()=>ni,mk:()=>Zr,q:()=>W,sg:()=>pr,uU:()=>jr,w_:()=>Ee});var g=H(5879);let u=null;function W(){return u}function Ie(P){u||(u=P)}class Ee{}const Pe=new g.OlP("DocumentToken");let me=(()=>{class P{historyGo(j){throw new Error("Not implemented")}static#e=this.\u0275fac=function(te){return new(te||P)};static#t=this.\u0275prov=g.Yz7({token:P,factory:function(){return(0,g.f3M)(xe)},providedIn:"platform"})}return P})();const Ae=new g.OlP("Location Initialized");let xe=(()=>{class P extends me{constructor(){super(),this._doc=(0,g.f3M)(Pe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return W().getBaseHref(this._doc)}onPopState(j){const te=W().getGlobalEventTarget(this._doc,"window");return te.addEventListener("popstate",j,!1),()=>te.removeEventListener("popstate",j)}onHashChange(j){const te=W().getGlobalEventTarget(this._doc,"window");return te.addEventListener("hashchange",j,!1),()=>te.removeEventListener("hashchange",j)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(j){this._location.pathname=j}pushState(j,te,we){this._history.pushState(j,te,we)}replaceState(j,te,we){this._history.replaceState(j,te,we)}forward(){this._history.forward()}back(){this._history.back()}historyGo(j=0){this._history.go(j)}getState(){return this._history.state}static#e=this.\u0275fac=function(te){return new(te||P)};static#t=this.\u0275prov=g.Yz7({token:P,factory:function(){return new P},providedIn:"platform"})}return P})();function fe(P,ne){if(0==P.length)return ne;if(0==ne.length)return P;let j=0;return P.endsWith("/")&&j++,ne.startsWith("/")&&j++,2==j?P+ne.substring(1):1==j?P+ne:P+"/"+ne}function ve(P){const ne=P.match(/#|\?|$/),j=ne&&ne.index||P.length;return P.slice(0,j-("/"===P[j-1]?1:0))+P.slice(j)}function Oe(P){return P&&"?"!==P[0]?"?"+P:P}let pt=(()=>{class P{historyGo(j){throw new Error("Not implemented")}static#e=this.\u0275fac=function(te){return new(te||P)};static#t=this.\u0275prov=g.Yz7({token:P,factory:function(){return(0,g.f3M)(Dt)},providedIn:"root"})}return P})();const Je=new g.OlP("appBaseHref");let Dt=(()=>{class P extends pt{constructor(j,te){super(),this._platformLocation=j,this._removeListenerFns=[],this._baseHref=te??this._platformLocation.getBaseHrefFromDOM()??(0,g.f3M)(Pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}prepareExternalUrl(j){return fe(this._baseHref,j)}path(j=!1){const te=this._platformLocation.pathname+Oe(this._platformLocation.search),we=this._platformLocation.hash;return we&&j?`${te}${we}`:te}pushState(j,te,we,ht){const Mt=this.prepareExternalUrl(we+Oe(ht));this._platformLocation.pushState(j,te,Mt)}replaceState(j,te,we,ht){const Mt=this.prepareExternalUrl(we+Oe(ht));this._platformLocation.replaceState(j,te,Mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static#e=this.\u0275fac=function(te){return new(te||P)(g.LFG(me),g.LFG(Je,8))};static#t=this.\u0275prov=g.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})(),mt=(()=>{class P extends pt{constructor(j,te){super(),this._platformLocation=j,this._baseHref="",this._removeListenerFns=[],null!=te&&(this._baseHref=te)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){let te=this._platformLocation.hash;return null==te&&(te="#"),te.length>0?te.substring(1):te}prepareExternalUrl(j){const te=fe(this._baseHref,j);return te.length>0?"#"+te:te}pushState(j,te,we,ht){let Mt=this.prepareExternalUrl(we+Oe(ht));0==Mt.length&&(Mt=this._platformLocation.pathname),this._platformLocation.pushState(j,te,Mt)}replaceState(j,te,we,ht){let Mt=this.prepareExternalUrl(we+Oe(ht));0==Mt.length&&(Mt=this._platformLocation.pathname),this._platformLocation.replaceState(j,te,Mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static#e=this.\u0275fac=function(te){return new(te||P)(g.LFG(me),g.LFG(Je,8))};static#t=this.\u0275prov=g.Yz7({token:P,factory:P.\u0275fac})}return P})(),It=(()=>{class P{constructor(j){this._subject=new g.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=j;const te=this._locationStrategy.getBaseHref();this._basePath=function ze(P){if(new RegExp("^(https?:)?//").test(P)){const[,j]=P.split(/\/\/[^\/]+/);return j}return P}(ve(Ze(te))),this._locationStrategy.onPopState(we=>{this._subject.emit({url:this.path(!0),pop:!0,state:we.state,type:we.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(j=!1){return this.normalize(this._locationStrategy.path(j))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(j,te=""){return this.path()==this.normalize(j+Oe(te))}normalize(j){return P.stripTrailingSlash(function en(P,ne){if(!P||!ne.startsWith(P))return ne;const j=ne.substring(P.length);return""===j||["/",";","?","#"].includes(j[0])?j:ne}(this._basePath,Ze(j)))}prepareExternalUrl(j){return j&&"/"!==j[0]&&(j="/"+j),this._locationStrategy.prepareExternalUrl(j)}go(j,te="",we=null){this._locationStrategy.pushState(we,"",j,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+Oe(te)),we)}replaceState(j,te="",we=null){this._locationStrategy.replaceState(we,"",j,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+Oe(te)),we)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(j=0){this._locationStrategy.historyGo?.(j)}onUrlChange(j){return this._urlChangeListeners.push(j),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(te=>{this._notifyUrlChangeListeners(te.url,te.state)})),()=>{const te=this._urlChangeListeners.indexOf(j);this._urlChangeListeners.splice(te,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(j="",te){this._urlChangeListeners.forEach(we=>we(j,te))}subscribe(j,te,we){return this._subject.subscribe({next:j,error:te,complete:we})}static#e=this.normalizeQueryParams=Oe;static#t=this.joinWithSlash=fe;static#n=this.stripTrailingSlash=ve;static#r=this.\u0275fac=function(te){return new(te||P)(g.LFG(pt))};static#i=this.\u0275prov=g.Yz7({token:P,factory:function(){return function _t(){return new It((0,g.LFG)(pt))}()},providedIn:"root"})}return P})();function Ze(P){return P.replace(/\/index.html$/,"")}var Ct=function(P){return P[P.Format=0]="Format",P[P.Standalone=1]="Standalone",P}(Ct||{}),Ye=function(P){return P[P.Narrow=0]="Narrow",P[P.Abbreviated=1]="Abbreviated",P[P.Wide=2]="Wide",P[P.Short=3]="Short",P}(Ye||{}),ge=function(P){return P[P.Short=0]="Short",P[P.Medium=1]="Medium",P[P.Long=2]="Long",P[P.Full=3]="Full",P}(ge||{}),Et=function(P){return P[P.Decimal=0]="Decimal",P[P.Group=1]="Group",P[P.List=2]="List",P[P.PercentSign=3]="PercentSign",P[P.PlusSign=4]="PlusSign",P[P.MinusSign=5]="MinusSign",P[P.Exponential=6]="Exponential",P[P.SuperscriptingExponent=7]="SuperscriptingExponent",P[P.PerMille=8]="PerMille",P[P.Infinity=9]="Infinity",P[P.NaN=10]="NaN",P[P.TimeSeparator=11]="TimeSeparator",P[P.CurrencyDecimal=12]="CurrencyDecimal",P[P.CurrencyGroup=13]="CurrencyGroup",P}(Et||{});function Ve(P,ne){return Tn((0,g.cg1)(P)[g.wAp.DateFormat],ne)}function et(P,ne){return Tn((0,g.cg1)(P)[g.wAp.TimeFormat],ne)}function Xe(P,ne){return Tn((0,g.cg1)(P)[g.wAp.DateTimeFormat],ne)}function gt(P,ne){const j=(0,g.cg1)(P),te=j[g.wAp.NumberSymbols][ne];if(typeof te>"u"){if(ne===Et.CurrencyDecimal)return j[g.wAp.NumberSymbols][Et.Decimal];if(ne===Et.CurrencyGroup)return j[g.wAp.NumberSymbols][Et.Group]}return te}function pn(P){if(!P[g.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${P[g.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Tn(P,ne){for(let j=ne;j>-1;j--)if(typeof P[j]<"u")return P[j];throw new Error("Locale data API: locale data undefined")}function Dn(P){const[ne,j]=P.split(":");return{hours:+ne,minutes:+j}}const hr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Hn={},kt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var En=function(P){return P[P.Short=0]="Short",P[P.ShortGMT=1]="ShortGMT",P[P.Long=2]="Long",P[P.Extended=3]="Extended",P}(En||{}),Fn=function(P){return P[P.FullYear=0]="FullYear",P[P.Month=1]="Month",P[P.Date=2]="Date",P[P.Hours=3]="Hours",P[P.Minutes=4]="Minutes",P[P.Seconds=5]="Seconds",P[P.FractionalSeconds=6]="FractionalSeconds",P[P.Day=7]="Day",P}(Fn||{}),wn=function(P){return P[P.DayPeriods=0]="DayPeriods",P[P.Days=1]="Days",P[P.Months=2]="Months",P[P.Eras=3]="Eras",P}(wn||{});function Nr(P,ne,j,te){let we=function X(P){if(B(P))return P;if("number"==typeof P&&!isNaN(P))return new Date(P);if("string"==typeof P){if(P=P.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(P)){const[we,ht=1,Mt=1]=P.split("-").map(vn=>+vn);return Ar(we,ht-1,Mt)}const j=parseFloat(P);if(!isNaN(P-j))return new Date(j);let te;if(te=P.match(hr))return function $(P){const ne=new Date(0);let j=0,te=0;const we=P[8]?ne.setUTCFullYear:ne.setFullYear,ht=P[8]?ne.setUTCHours:ne.setHours;P[9]&&(j=Number(P[9]+P[10]),te=Number(P[9]+P[11])),we.call(ne,Number(P[1]),Number(P[2])-1,Number(P[3]));const Mt=Number(P[4]||0)-j,vn=Number(P[5]||0)-te,wr=Number(P[6]||0),Gr=Math.floor(1e3*parseFloat("0."+(P[7]||0)));return ht.call(ne,Mt,vn,wr,Gr),ne}(te)}const ne=new Date(P);if(!B(ne))throw new Error(`Unable to convert "${P}" into a date`);return ne}(P);ne=qn(j,ne)||ne;let vn,Mt=[];for(;ne;){if(vn=kt.exec(ne),!vn){Mt.push(ne);break}{Mt=Mt.concat(vn.slice(1));const Fr=Mt.pop();if(!Fr)break;ne=Fr}}let wr=we.getTimezoneOffset();te&&(wr=Xr(te,wr),we=function ue(P,ne,j){const te=j?-1:1,we=P.getTimezoneOffset();return function Ft(P,ne){return(P=new Date(P.getTime())).setMinutes(P.getMinutes()+ne),P}(P,te*(Xr(ne,we)-we))}(we,te,!0));let Gr="";return Mt.forEach(Fr=>{const dr=function Mn(P){if(jt[P])return jt[P];let ne;switch(P){case"G":case"GG":case"GGG":ne=Qn(wn.Eras,Ye.Abbreviated);break;case"GGGG":ne=Qn(wn.Eras,Ye.Wide);break;case"GGGGG":ne=Qn(wn.Eras,Ye.Narrow);break;case"y":ne=sn(Fn.FullYear,1,0,!1,!0);break;case"yy":ne=sn(Fn.FullYear,2,0,!0,!0);break;case"yyy":ne=sn(Fn.FullYear,3,0,!1,!0);break;case"yyyy":ne=sn(Fn.FullYear,4,0,!1,!0);break;case"Y":ne=ft(1);break;case"YY":ne=ft(2,!0);break;case"YYY":ne=ft(3);break;case"YYYY":ne=ft(4);break;case"M":case"L":ne=sn(Fn.Month,1,1);break;case"MM":case"LL":ne=sn(Fn.Month,2,1);break;case"MMM":ne=Qn(wn.Months,Ye.Abbreviated);break;case"MMMM":ne=Qn(wn.Months,Ye.Wide);break;case"MMMMM":ne=Qn(wn.Months,Ye.Narrow);break;case"LLL":ne=Qn(wn.Months,Ye.Abbreviated,Ct.Standalone);break;case"LLLL":ne=Qn(wn.Months,Ye.Wide,Ct.Standalone);break;case"LLLLL":ne=Qn(wn.Months,Ye.Narrow,Ct.Standalone);break;case"w":ne=Se(1);break;case"ww":ne=Se(2);break;case"W":ne=Se(1,!0);break;case"d":ne=sn(Fn.Date,1);break;case"dd":ne=sn(Fn.Date,2);break;case"c":case"cc":ne=sn(Fn.Day,1);break;case"ccc":ne=Qn(wn.Days,Ye.Abbreviated,Ct.Standalone);break;case"cccc":ne=Qn(wn.Days,Ye.Wide,Ct.Standalone);break;case"ccccc":ne=Qn(wn.Days,Ye.Narrow,Ct.Standalone);break;case"cccccc":ne=Qn(wn.Days,Ye.Short,Ct.Standalone);break;case"E":case"EE":case"EEE":ne=Qn(wn.Days,Ye.Abbreviated);break;case"EEEE":ne=Qn(wn.Days,Ye.Wide);break;case"EEEEE":ne=Qn(wn.Days,Ye.Narrow);break;case"EEEEEE":ne=Qn(wn.Days,Ye.Short);break;case"a":case"aa":case"aaa":ne=Qn(wn.DayPeriods,Ye.Abbreviated);break;case"aaaa":ne=Qn(wn.DayPeriods,Ye.Wide);break;case"aaaaa":ne=Qn(wn.DayPeriods,Ye.Narrow);break;case"b":case"bb":case"bbb":ne=Qn(wn.DayPeriods,Ye.Abbreviated,Ct.Standalone,!0);break;case"bbbb":ne=Qn(wn.DayPeriods,Ye.Wide,Ct.Standalone,!0);break;case"bbbbb":ne=Qn(wn.DayPeriods,Ye.Narrow,Ct.Standalone,!0);break;case"B":case"BB":case"BBB":ne=Qn(wn.DayPeriods,Ye.Abbreviated,Ct.Format,!0);break;case"BBBB":ne=Qn(wn.DayPeriods,Ye.Wide,Ct.Format,!0);break;case"BBBBB":ne=Qn(wn.DayPeriods,Ye.Narrow,Ct.Format,!0);break;case"h":ne=sn(Fn.Hours,1,-12);break;case"hh":ne=sn(Fn.Hours,2,-12);break;case"H":ne=sn(Fn.Hours,1);break;case"HH":ne=sn(Fn.Hours,2);break;case"m":ne=sn(Fn.Minutes,1);break;case"mm":ne=sn(Fn.Minutes,2);break;case"s":ne=sn(Fn.Seconds,1);break;case"ss":ne=sn(Fn.Seconds,2);break;case"S":ne=sn(Fn.FractionalSeconds,1);break;case"SS":ne=sn(Fn.FractionalSeconds,2);break;case"SSS":ne=sn(Fn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ne=fr(En.Short);break;case"ZZZZZ":ne=fr(En.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ne=fr(En.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ne=fr(En.Long);break;default:return null}return jt[P]=ne,ne}(Fr);Gr+=dr?dr(we,j,wr):"''"===Fr?"'":Fr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Gr}function Ar(P,ne,j){const te=new Date(0);return te.setFullYear(P,ne,j),te.setHours(0,0,0),te}function qn(P,ne){const j=function zn(P){return(0,g.cg1)(P)[g.wAp.LocaleId]}(P);if(Hn[j]=Hn[j]||{},Hn[j][ne])return Hn[j][ne];let te="";switch(ne){case"shortDate":te=Ve(P,ge.Short);break;case"mediumDate":te=Ve(P,ge.Medium);break;case"longDate":te=Ve(P,ge.Long);break;case"fullDate":te=Ve(P,ge.Full);break;case"shortTime":te=et(P,ge.Short);break;case"mediumTime":te=et(P,ge.Medium);break;case"longTime":te=et(P,ge.Long);break;case"fullTime":te=et(P,ge.Full);break;case"short":const we=qn(P,"shortTime"),ht=qn(P,"shortDate");te=Bn(Xe(P,ge.Short),[we,ht]);break;case"medium":const Mt=qn(P,"mediumTime"),vn=qn(P,"mediumDate");te=Bn(Xe(P,ge.Medium),[Mt,vn]);break;case"long":const wr=qn(P,"longTime"),Gr=qn(P,"longDate");te=Bn(Xe(P,ge.Long),[wr,Gr]);break;case"full":const Fr=qn(P,"fullTime"),dr=qn(P,"fullDate");te=Bn(Xe(P,ge.Full),[Fr,dr])}return te&&(Hn[j][ne]=te),te}function Bn(P,ne){return ne&&(P=P.replace(/\{([^}]+)}/g,function(j,te){return null!=ne&&te in ne?ne[te]:j})),P}function Sr(P,ne,j="-",te,we){let ht="";(P<0||we&&P<=0)&&(we?P=1-P:(P=-P,ht=j));let Mt=String(P);for(;Mt.length<ne;)Mt="0"+Mt;return te&&(Mt=Mt.slice(Mt.length-ne)),ht+Mt}function sn(P,ne,j=0,te=!1,we=!1){return function(ht,Mt){let vn=function hi(P,ne){switch(P){case Fn.FullYear:return ne.getFullYear();case Fn.Month:return ne.getMonth();case Fn.Date:return ne.getDate();case Fn.Hours:return ne.getHours();case Fn.Minutes:return ne.getMinutes();case Fn.Seconds:return ne.getSeconds();case Fn.FractionalSeconds:return ne.getMilliseconds();case Fn.Day:return ne.getDay();default:throw new Error(`Unknown DateType value "${P}".`)}}(P,ht);if((j>0||vn>-j)&&(vn+=j),P===Fn.Hours)0===vn&&-12===j&&(vn=12);else if(P===Fn.FractionalSeconds)return function di(P,ne){return Sr(P,3).substring(0,ne)}(vn,ne);const wr=gt(Mt,Et.MinusSign);return Sr(vn,ne,wr,te,we)}}function Qn(P,ne,j=Ct.Format,te=!1){return function(we,ht){return function Tr(P,ne,j,te,we,ht){switch(j){case wn.Months:return function rn(P,ne,j){const te=(0,g.cg1)(P),ht=Tn([te[g.wAp.MonthsFormat],te[g.wAp.MonthsStandalone]],ne);return Tn(ht,j)}(ne,we,te)[P.getMonth()];case wn.Days:return function Nt(P,ne,j){const te=(0,g.cg1)(P),ht=Tn([te[g.wAp.DaysFormat],te[g.wAp.DaysStandalone]],ne);return Tn(ht,j)}(ne,we,te)[P.getDay()];case wn.DayPeriods:const Mt=P.getHours(),vn=P.getMinutes();if(ht){const Gr=function Nn(P){const ne=(0,g.cg1)(P);return pn(ne),(ne[g.wAp.ExtraData][2]||[]).map(te=>"string"==typeof te?Dn(te):[Dn(te[0]),Dn(te[1])])}(ne),Fr=function qt(P,ne,j){const te=(0,g.cg1)(P);pn(te);const ht=Tn([te[g.wAp.ExtraData][0],te[g.wAp.ExtraData][1]],ne)||[];return Tn(ht,j)||[]}(ne,we,te),dr=Gr.findIndex(Wr=>{if(Array.isArray(Wr)){const[Or,xi]=Wr,ps=Mt>=Or.hours&&vn>=Or.minutes,rs=Mt<xi.hours||Mt===xi.hours&&vn<xi.minutes;if(Or.hours<xi.hours){if(ps&&rs)return!0}else if(ps||rs)return!0}else if(Wr.hours===Mt&&Wr.minutes===vn)return!0;return!1});if(-1!==dr)return Fr[dr]}return function bt(P,ne,j){const te=(0,g.cg1)(P),ht=Tn([te[g.wAp.DayPeriodsFormat],te[g.wAp.DayPeriodsStandalone]],ne);return Tn(ht,j)}(ne,we,te)[Mt<12?0:1];case wn.Eras:return function at(P,ne){return Tn((0,g.cg1)(P)[g.wAp.Eras],ne)}(ne,te)[P.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${j}`)}}(we,ht,P,ne,j,te)}}function fr(P){return function(ne,j,te){const we=-1*te,ht=gt(j,Et.MinusSign),Mt=we>0?Math.floor(we/60):Math.ceil(we/60);switch(P){case En.Short:return(we>=0?"+":"")+Sr(Mt,2,ht)+Sr(Math.abs(we%60),2,ht);case En.ShortGMT:return"GMT"+(we>=0?"+":"")+Sr(Mt,1,ht);case En.Long:return"GMT"+(we>=0?"+":"")+Sr(Mt,2,ht)+":"+Sr(Math.abs(we%60),2,ht);case En.Extended:return 0===te?"Z":(we>=0?"+":"")+Sr(Mt,2,ht)+":"+Sr(Math.abs(we%60),2,ht);default:throw new Error(`Unknown zone width "${P}"`)}}}const Ur=0,qe=4;function oe(P){return Ar(P.getFullYear(),P.getMonth(),P.getDate()+(qe-P.getDay()))}function Se(P,ne=!1){return function(j,te){let we;if(ne){const ht=new Date(j.getFullYear(),j.getMonth(),1).getDay()-1,Mt=j.getDate();we=1+Math.floor((Mt+ht)/7)}else{const ht=oe(j),Mt=function Tt(P){const ne=Ar(P,Ur,1).getDay();return Ar(P,0,1+(ne<=qe?qe:qe+7)-ne)}(ht.getFullYear()),vn=ht.getTime()-Mt.getTime();we=1+Math.round(vn/6048e5)}return Sr(we,P,gt(te,Et.MinusSign))}}function ft(P,ne=!1){return function(j,te){return Sr(oe(j).getFullYear(),P,gt(te,Et.MinusSign),ne)}}const jt={};function Xr(P,ne){P=P.replace(/:/g,"");const j=Date.parse("Jan 01, 1970 00:00:00 "+P)/6e4;return isNaN(j)?ne:j}function B(P){return P instanceof Date&&!isNaN(P.valueOf())}function Fi(P,ne){ne=encodeURIComponent(ne);for(const j of P.split(";")){const te=j.indexOf("="),[we,ht]=-1==te?[j,""]:[j.slice(0,te),j.slice(te+1)];if(we.trim()===ne)return decodeURIComponent(ht)}return null}const kr=/\s+/,Xo=[];let Zr=(()=>{class P{constructor(j,te,we,ht){this._iterableDiffers=j,this._keyValueDiffers=te,this._ngEl=we,this._renderer=ht,this.initialClasses=Xo,this.stateMap=new Map}set klass(j){this.initialClasses=null!=j?j.trim().split(kr):Xo}set ngClass(j){this.rawClass="string"==typeof j?j.trim().split(kr):j}ngDoCheck(){for(const te of this.initialClasses)this._updateState(te,!0);const j=this.rawClass;if(Array.isArray(j)||j instanceof Set)for(const te of j)this._updateState(te,!0);else if(null!=j)for(const te of Object.keys(j))this._updateState(te,!!j[te]);this._applyStateDiff()}_updateState(j,te){const we=this.stateMap.get(j);void 0!==we?(we.enabled!==te&&(we.changed=!0,we.enabled=te),we.touched=!0):this.stateMap.set(j,{enabled:te,changed:!0,touched:!0})}_applyStateDiff(){for(const j of this.stateMap){const te=j[0],we=j[1];we.changed?(this._toggleClass(te,we.enabled),we.changed=!1):we.touched||(we.enabled&&this._toggleClass(te,!1),this.stateMap.delete(te)),we.touched=!1}}_toggleClass(j,te){(j=j.trim()).length>0&&j.split(kr).forEach(we=>{te?this._renderer.addClass(this._ngEl.nativeElement,we):this._renderer.removeClass(this._ngEl.nativeElement,we)})}static#e=this.\u0275fac=function(te){return new(te||P)(g.Y36(g.ZZ4),g.Y36(g.aQg),g.Y36(g.SBq),g.Y36(g.Qsj))};static#t=this.\u0275dir=g.lG2({type:P,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return P})();class na{constructor(ne,j,te,we){this.$implicit=ne,this.ngForOf=j,this.index=te,this.count=we}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pr=(()=>{class P{set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}constructor(j,te,we){this._viewContainer=j,this._template=te,this._differs=we,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const te=this._viewContainer;j.forEachOperation((we,ht,Mt)=>{if(null==we.previousIndex)te.createEmbeddedView(this._template,new na(we.item,this._ngForOf,-1,-1),null===Mt?void 0:Mt);else if(null==Mt)te.remove(null===ht?void 0:ht);else if(null!==ht){const vn=te.get(ht);te.move(vn,Mt),wi(vn,we)}});for(let we=0,ht=te.length;we<ht;we++){const vn=te.get(we).context;vn.index=we,vn.count=ht,vn.ngForOf=this._ngForOf}j.forEachIdentityChange(we=>{wi(te.get(we.currentIndex),we)})}static ngTemplateContextGuard(j,te){return!0}static#e=this.\u0275fac=function(te){return new(te||P)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))};static#t=this.\u0275dir=g.lG2({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return P})();function wi(P,ne){P.context.$implicit=ne.item}let Li=(()=>{class P{constructor(j,te){this._viewContainer=j,this._context=new Mr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=te}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){Vs("ngIfThen",j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){Vs("ngIfElse",j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(j,te){return!0}static#e=this.\u0275fac=function(te){return new(te||P)(g.Y36(g.s_b),g.Y36(g.Rgc))};static#t=this.\u0275dir=g.lG2({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return P})();class Mr{constructor(){this.$implicit=null,this.ngIf=null}}function Vs(P,ne){if(ne&&!ne.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,g.AaK)(ne)}'.`)}function Gi(P,ne){return new g.vHH(2100,!1)}class To{createSubscription(ne,j){return(0,g.rg0)(()=>ne.subscribe({next:j,error:te=>{throw te}}))}dispose(ne){(0,g.rg0)(()=>ne.unsubscribe())}}class ei{createSubscription(ne,j){return ne.then(j,te=>{throw te})}dispose(ne){}}const Co=new ei,cs=new To;let ti=(()=>{class P{constructor(j){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=j}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(j){return this._obj?j!==this._obj?(this._dispose(),this.transform(j)):this._latestValue:(j&&this._subscribe(j),this._latestValue)}_subscribe(j){this._obj=j,this._strategy=this._selectStrategy(j),this._subscription=this._strategy.createSubscription(j,te=>this._updateLatestValue(j,te))}_selectStrategy(j){if((0,g.QGY)(j))return Co;if((0,g.F4k)(j))return cs;throw Gi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(j,te){j===this._obj&&(this._latestValue=te,this._ref.markForCheck())}static#e=this.\u0275fac=function(te){return new(te||P)(g.Y36(g.sBO,16))};static#t=this.\u0275pipe=g.Yjl({name:"async",type:P,pure:!1,standalone:!0})}return P})();const Pn=new g.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Rr=new g.OlP("DATE_PIPE_DEFAULT_OPTIONS");let jr=(()=>{class P{constructor(j,te,we){this.locale=j,this.defaultTimezone=te,this.defaultOptions=we}transform(j,te,we,ht){if(null==j||""===j||j!=j)return null;try{return Nr(j,te??this.defaultOptions?.dateFormat??"mediumDate",ht||this.locale,we??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Mt){throw Gi()}}static#e=this.\u0275fac=function(te){return new(te||P)(g.Y36(g.soG,16),g.Y36(Pn,24),g.Y36(Rr,24))};static#t=this.\u0275pipe=g.Yjl({name:"date",type:P,pure:!0,standalone:!0})}return P})(),Ai=(()=>{class P{transform(j){return JSON.stringify(j,null,2)}static#e=this.\u0275fac=function(te){return new(te||P)};static#t=this.\u0275pipe=g.Yjl({name:"json",type:P,pure:!1,standalone:!0})}return P})(),ni=(()=>{class P{static#e=this.\u0275fac=function(te){return new(te||P)};static#t=this.\u0275mod=g.oAB({type:P});static#n=this.\u0275inj=g.cJS({})}return P})();const rr="browser",Wi="server";function Zi(P){return P===rr}function or(P){return P===Wi}let _i=(()=>{class P{static#e=this.\u0275prov=(0,g.Yz7)({token:P,providedIn:"root",factory:()=>new ds((0,g.LFG)(Pe),window)})}return P})();class ds{constructor(ne,j){this.document=ne,this.window=j,this.offset=()=>[0,0]}setOffset(ne){this.offset=Array.isArray(ne)?()=>ne:ne}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ne){this.supportsScrolling()&&this.window.scrollTo(ne[0],ne[1])}scrollToAnchor(ne){if(!this.supportsScrolling())return;const j=function Is(P,ne){const j=P.getElementById(ne)||P.getElementsByName(ne)[0];if(j)return j;if("function"==typeof P.createTreeWalker&&P.body&&"function"==typeof P.body.attachShadow){const te=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let we=te.currentNode;for(;we;){const ht=we.shadowRoot;if(ht){const Mt=ht.getElementById(ne)||ht.querySelector(`[name="${ne}"]`);if(Mt)return Mt}we=te.nextNode()}}return null}(this.document,ne);j&&(this.scrollToElement(j),j.focus())}setHistoryScrollRestoration(ne){this.supportsScrolling()&&(this.window.history.scrollRestoration=ne)}scrollToElement(ne){const j=ne.getBoundingClientRect(),te=j.left+this.window.pageXOffset,we=j.top+this.window.pageYOffset,ht=this.offset();this.window.scrollTo(te-ht[0],we-ht[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class hs{}},5879:(Qt,We,H)=>{H.d(We,{$8M:()=>Go,$WT:()=>Mi,$Z:()=>V,AFp:()=>lm,ALo:()=>Zb,AaK:()=>Oe,AsE:()=>vE,CHM:()=>Sd,CRH:()=>uT,EJc:()=>zw,EiD:()=>em,EpF:()=>Ci,F$t:()=>GE,F4k:()=>Qr,FYo:()=>bf,FiY:()=>tu,GfV:()=>R_,Gpc:()=>Dt,HDt:()=>xT,Hsn:()=>qE,JOm:()=>Zd,JVY:()=>Kg,JZr:()=>Ze,KtG:()=>vc,L6k:()=>Yu,LAX:()=>Yg,LFG:()=>Rt,LSH:()=>tm,Lbi:()=>D_,Lck:()=>MC,MAs:()=>vd,MGl:()=>Pv,MMx:()=>Nb,NdJ:()=>so,Ojb:()=>Wy,OlP:()=>sn,Oqu:()=>yE,P3R:()=>im,PXZ:()=>vA,Q6J:()=>wh,QGY:()=>Gs,QbO:()=>Up,Qsj:()=>nv,R0b:()=>$i,RDi:()=>Xd,Rgc:()=>zv,SBq:()=>Ef,Sil:()=>Ww,Suo:()=>lT,TTD:()=>dr,TgZ:()=>fg,VKq:()=>Hb,VuI:()=>tD,X6Q:()=>DA,XFs:()=>En,Xpm:()=>ei,Xq5:()=>km,Xts:()=>ed,Y36:()=>R,YKP:()=>xb,YNc:()=>zm,Yjl:()=>wo,Yz7:()=>pn,Z0I:()=>Tn,ZZ4:()=>AI,_Bn:()=>Rb,_UZ:()=>ko,_c5:()=>$A,_uU:()=>y0,aQg:()=>DI,c2e:()=>RT,cJS:()=>qt,cg1:()=>EE,dDg:()=>gA,dqk:()=>Bn,eBb:()=>Lc,eFA:()=>HT,eJc:()=>uI,ekj:()=>Nv,eoX:()=>VT,f3M:()=>nn,g9A:()=>Tl,h0i:()=>Jm,hGG:()=>zA,hij:()=>Fv,iGM:()=>cT,ifc:()=>_s,ip1:()=>PT,jDz:()=>kb,kL8:()=>U0,lG2:()=>Si,lcZ:()=>Kb,lqb:()=>Uc,lri:()=>FT,mCW:()=>Qu,n5z:()=>Kl,oAB:()=>ls,oxw:()=>zE,pB0:()=>Ap,q3G:()=>Xu,q4F:()=>x_,qFp:()=>rD,qLn:()=>ad,qOj:()=>Gc,qZA:()=>Ah,qzn:()=>fa,rWj:()=>LT,rg0:()=>ht,s9C:()=>dE,sBO:()=>SA,s_b:()=>xE,soG:()=>NE,tb:()=>EI,tp0:()=>Dc,uIk:()=>Fa,vHH:()=>ze,vpe:()=>Wo,wAp:()=>Km,xi3:()=>Yb,xp6:()=>y,z2F:()=>My,z3N:()=>$s,zSh:()=>C_,zs3:()=>xa});var g=H(8645),u=H(7394),W=H(5592),Ie=H(3019),Ee=H(5619),Pe=H(2096),me=H(3020),Ae=H(4664),xe=H(3997);function fe(t){for(let n in t)if(t[n]===fe)return n;throw Error("Could not find renamed property on target object.")}function ve(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function Oe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Oe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function pt(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Je=fe({__forward_ref__:fe});function Dt(t){return t.__forward_ref__=Dt,t.toString=function(){return Oe(this())},t}function mt(t){return It(t)?t():t}function It(t){return"function"==typeof t&&t.hasOwnProperty(Je)&&t.__forward_ref__===Dt}function _t(t){return t&&!!t.\u0275providers}const Ze="https://g.co/ng/security#xss";class ze extends Error{constructor(n,i){super(function rt(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function $e(t){return"string"==typeof t?t:null==t?"":String(t)}function Et(t,n){throw new ze(-201,!1)}function Jt(t,n){null==t&&function $t(t,n,i,c){throw new Error(`ASSERTION ERROR: ${t}`+(null==c?"":` [Expected=> ${i} ${c} ${n} <=Actual]`))}(n,t,null,"!=")}function pn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function qt(t){return{providers:t.providers||[],imports:t.imports||[]}}function fn(t){return Dn(t,Cn)||Dn(t,Hn)}function Tn(t){return null!==fn(t)}function Dn(t,n){return t.hasOwnProperty(n)?t[n]:null}function ai(t){return t&&(t.hasOwnProperty(hr)||t.hasOwnProperty(kt))?t[hr]:null}const Cn=fe({\u0275prov:fe}),hr=fe({\u0275inj:fe}),Hn=fe({ngInjectableDef:fe}),kt=fe({ngInjectorDef:fe});var En=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(En||{});let Fn;function Nr(t){const n=Fn;return Fn=t,n}function Ar(t,n,i){const c=fn(t);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:i&En.Optional?null:void 0!==n?n:void Et(Oe(t))}const Bn=globalThis;class sn{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=pn({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Mn={},Xr="__NG_DI_FLAG__",Ft="ngTempTokenPath",X=/\n/gm,B="__source";let F;function Fe(t){const n=F;return F=t,n}function yt(t,n=En.Default){if(void 0===F)throw new ze(-203,!1);return null===F?Ar(t,void 0,n):F.get(t,n&En.Optional?null:void 0,n)}function Rt(t,n=En.Default){return(function wn(){return Fn}()||yt)(mt(t),n)}function nn(t,n=En.Default){return Rt(t,an(n))}function an(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Jn(t){const n=[];for(let i=0;i<t.length;i++){const c=mt(t[i]);if(Array.isArray(c)){if(0===c.length)throw new ze(900,!1);let h,m=En.Default;for(let T=0;T<c.length;T++){const D=c[T],O=ci(D);"number"==typeof O?-1===O?h=D.token:m|=O:h=D}n.push(Rt(h,m))}else n.push(Rt(c))}return n}function xn(t,n){return t[Xr]=n,t.prototype[Xr]=n,t}function ci(t){return t[Xr]}function Ei(t){return{toString:t}.toString()}var oo=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(oo||{}),_s=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(_s||{});const ki={},gr=[],Fs=fe({\u0275cmp:fe}),bo=fe({\u0275dir:fe}),ya=fe({\u0275pipe:fe}),Jc=fe({\u0275mod:fe}),Fi=fe({\u0275fac:fe}),kr=fe({__NG_ELEMENT_ID__:fe}),Xo=fe({__NG_ENV_ID__:fe});function Zr(t,n,i){let c=t.length;for(;;){const h=t.indexOf(n,i);if(-1===h)return h;if(0===h||t.charCodeAt(h-1)<=32){const m=n.length;if(h+m===c||t.charCodeAt(h+m)<=32)return h}i=h+1}}function ea(t,n,i){let c=0;for(;c<i.length;){const h=i[c];if("number"==typeof h){if(0!==h)break;c++;const m=i[c++],T=i[c++],D=i[c++];t.setAttribute(n,T,D,m)}else{const m=h,T=i[++c];na(m)?t.setProperty(n,m,T):t.setAttribute(n,m,T),c++}}return c}function ta(t){return 3===t||4===t||6===t}function na(t){return 64===t.charCodeAt(0)}function pr(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let c=0;c<n.length;c++){const h=n[c];"number"==typeof h?i=h:0===i||wi(t,i,h,null,-1===i||2===i?n[++c]:null)}}return t}function wi(t,n,i,c,h){let m=0,T=t.length;if(-1===n)T=-1;else for(;m<t.length;){const D=t[m++];if("number"==typeof D){if(D===n){T=-1;break}if(D>n){T=m-1;break}}}for(;m<t.length;){const D=t[m];if("number"==typeof D)break;if(D===i){if(null===c)return void(null!==h&&(t[m+1]=h));if(c===t[m+1])return void(t[m+2]=h)}m++,null!==c&&m++,null!==h&&m++}-1!==T&&(t.splice(T,0,n),m=T+1),t.splice(m++,0,i),null!==c&&t.splice(m++,0,c),null!==h&&t.splice(m++,0,h)}const Ls="ng-template";function Li(t,n,i){let c=0,h=!0;for(;c<t.length;){let m=t[c++];if("string"==typeof m&&h){const T=t[c++];if(i&&"class"===m&&-1!==Zr(T.toLowerCase(),n,0))return!0}else{if(1===m){for(;c<t.length&&"string"==typeof(m=t[c++]);)if(m.toLowerCase()===n)return!0;return!1}"number"==typeof m&&(h=!1)}}return!1}function Mr(t){return 4===t.type&&t.value!==Ls}function Vs(t,n,i){return n===(4!==t.type||i?t.value:Ls)}function Ji(t,n,i){let c=4;const h=t.attrs||[],m=function Ii(t){for(let n=0;n<t.length;n++)if(ta(t[n]))return n;return t.length}(h);let T=!1;for(let D=0;D<n.length;D++){const O=n[D];if("number"!=typeof O){if(!T)if(4&c){if(c=2|1&c,""!==O&&!Vs(t,O,i)||""===O&&1===n.length){if(Di(c))return!1;T=!0}}else{const z=8&c?O:n[++D];if(8&c&&null!==t.attrs){if(!Li(t.attrs,z,i)){if(Di(c))return!1;T=!0}continue}const Te=Ua(8&c?"class":O,h,Mr(t),i);if(-1===Te){if(Di(c))return!1;T=!0;continue}if(""!==z){let Ge;Ge=Te>m?"":h[Te+1].toLowerCase();const nt=8&c?Ge:null;if(nt&&-1!==Zr(nt,z,0)||2&c&&z!==Ge){if(Di(c))return!1;T=!0}}}}else{if(!T&&!Di(c)&&!Di(O))return!1;if(T&&Di(O))continue;T=!1,c=O|1&c}}return Di(c)||T}function Di(t){return 0==(1&t)}function Ua(t,n,i,c){if(null===n)return-1;let h=0;if(c||!i){let m=!1;for(;h<n.length;){const T=n[h];if(T===t)return h;if(3===T||6===T)m=!0;else{if(1===T||2===T){let D=n[++h];for(;"string"==typeof D;)D=n[++h];continue}if(4===T)break;if(0===T){h+=4;continue}}h+=m?1:2}return-1}return function Pr(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const c=t[i];if("number"==typeof c)return-1;if(c===n)return i;i++}return-1}(n,t)}function Br(t,n,i=!1){for(let c=0;c<n.length;c++)if(Ji(t,n[c],i))return!0;return!1}function ra(t,n){e:for(let i=0;i<n.length;i++){const c=n[i];if(t.length===c.length){for(let h=0;h<t.length;h++)if(t[h]!==c[h])continue e;return!0}}return!1}function Ss(t,n){return t?":not("+n.trim()+")":n}function bi(t){let n=t[0],i=1,c=2,h="",m=!1;for(;i<t.length;){let T=t[i];if("string"==typeof T)if(2&c){const D=t[++i];h+="["+T+(D.length>0?'="'+D+'"':"")+"]"}else 8&c?h+="."+T:4&c&&(h+=" "+T);else""!==h&&!Di(T)&&(n+=Ss(m,h),h=""),c=T,m=m||!Di(c);i++}return""!==h&&(n+=Ss(m,h)),n}function ei(t){return Ei(()=>{const n=qi(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===oo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||_s.Emulated,styles:t.styles||gr,_:null,schemas:t.schemas||null,tView:null,id:""};Ai(i);const c=t.dependencies;return i.directiveDefs=Ao(c,!1),i.pipeDefs=Ao(c,!0),i.id=function us(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const h of i)n=Math.imul(31,n)+h.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function cs(t){return Pn(t)||Rr(t)}function ti(t){return null!==t}function ls(t){return Ei(()=>({type:t.type,bootstrap:t.bootstrap||gr,declarations:t.declarations||gr,imports:t.imports||gr,exports:t.exports||gr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ao(t,n){if(null==t)return ki;const i={};for(const c in t)if(t.hasOwnProperty(c)){let h=t[c],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),i[h]=c,n&&(n[h]=m)}return i}function Si(t){return Ei(()=>{const n=qi(t);return Ai(n),n})}function wo(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Pn(t){return t[Fs]||null}function Rr(t){return t[bo]||null}function jr(t){return t[ya]||null}function Mi(t){const n=Pn(t)||Rr(t)||jr(t);return null!==n&&n.standalone}function xr(t,n){const i=t[Jc]||null;if(!i&&!0===n)throw new Error(`Type ${Oe(t)} does not have '\u0275mod' property.`);return i}function qi(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||ki,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||gr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ao(t.inputs,n),outputs:ao(t.outputs)}}function Ai(t){t.features?.forEach(n=>n(t))}function Ao(t,n){if(!t)return null;const i=n?jr:cs;return()=>("function"==typeof t?t():t).map(c=>i(c)).filter(ti)}const br=0,Xt=1,Ln=2,mr=3,gi=4,vs=5,zr=6,ni=7,rr=8,Wi=9,Es=10,jn=11,Zi=12,or=13,mi=14,kn=15,Xi=16,_i=17,ds=18,Is=19,ja=20,hs=21,Kn=22,ar=23,Ms=24,ir=25,Ki=1,Ri=2,es=7,co=9,Kr=11;function De(t){return Array.isArray(t)&&"object"==typeof t[Ki]}function He(t){return Array.isArray(t)&&!0===t[Ki]}function St(t){return 0!=(4&t.flags)}function Vt(t){return t.componentOffset>-1}function on(t){return 1==(1&t.flags)}function gn(t){return!!t.template}function Wn(t){return 0!=(512&t[Ln])}function Ws(t,n){return t.hasOwnProperty(Fi)?t[Fi]:null}let Cr=null,Ea=!1;function Ui(t){const n=Cr;return Cr=t,n}const wu={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ho(t){if(!sa(t)||t.dirty){if(!t.producerMustRecompute(t)&&!nl(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function za(t){t.dirty=!0,function fo(t){if(void 0===t.liveConsumerNode)return;const n=Ea;Ea=!0;try{for(const i of t.liveConsumerNode)i.dirty||za(i)}finally{Ea=n}}(t),t.consumerMarkedDirty?.(t)}function sr(t){return t&&(t.nextProducerIndex=0),Ui(t)}function tl(t,n){if(Ui(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(sa(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)Ga(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function nl(t){Lo(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],c=t.producerLastReadVersion[n];if(c!==i.version||(ho(i),c!==i.version))return!0}return!1}function pc(t){if(Lo(t),sa(t))for(let n=0;n<t.producerNode.length;n++)Ga(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ga(t,n){if(function mc(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Lo(t),1===t.liveConsumerNode.length)for(let c=0;c<t.producerNode.length;c++)Ga(t.producerNode[c],t.producerIndexOfThis[c]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const c=t.liveConsumerIndexOfThis[n],h=t.liveConsumerNode[n];Lo(h),h.producerIndexOfThis[c]=n}}function sa(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Lo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let qa=null;function ht(t){const n=Ui(null);try{return t()}finally{Ui(n)}}const vn=()=>{},wr=(()=>({...wu,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:vn}))();class Fr{constructor(n,i,c){this.previousValue=n,this.currentValue=i,this.firstChange=c}isFirstChange(){return this.firstChange}}function dr(){return Wr}function Wr(t){return t.type.prototype.ngOnChanges&&(t.setInput=xi),Or}function Or(){const t=rs(this),n=t?.current;if(n){const i=t.previous;if(i===ki)t.previous=n;else for(let c in n)i[c]=n[c];t.current=null,this.ngOnChanges(n)}}function xi(t,n,i,c){const h=this.declaredInputs[i],m=rs(t)||function aa(t,n){return t[ps]=n}(t,{previous:ki,current:null}),T=m.current||(m.current={}),D=m.previous,O=D[h];T[h]=new Fr(O&&O.currentValue,n,D===ki),t[c]=n}dr.ngInherit=!0;const ps="__ngSimpleChanges__";function rs(t){return t[ps]||null}const Yn=function(t,n,i){};function si(t){for(;Array.isArray(t);)t=t[br];return t}function Uo(t,n){return si(n[t])}function Ps(t,n){return si(n[t.index])}function Vl(t,n){return t.data[n]}function la(t,n){return t[n]}function Rs(t,n){const i=n[t];return De(i)?i:i[br]}function po(t,n){return null==n?null:t[n]}function Bo(t){t[_i]=0}function jo(t){1024&t[Ln]||(t[Ln]|=1024,Ph(t,1))}function Cd(t){1024&t[Ln]&&(t[Ln]&=-1025,Ph(t,-1))}function Ph(t,n){let i=t[mr];if(null===i)return;i[vs]+=n;let c=i;for(i=i[mr];null!==i&&(1===n&&1===c[vs]||-1===n&&0===c[vs]);)i[vs]+=n,c=i,i=i[mr]}const Xn={lFrame:Cs(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ti(){return Xn.bindingsEnabled}function Ka(){return null!==Xn.skipHydrationRootTNode}function Ot(){return Xn.lFrame.lView}function Dr(){return Xn.lFrame.tView}function Sd(t){return Xn.lFrame.contextLView=t,t[rr]}function vc(t){return Xn.lFrame.contextLView=null,t}function gs(){let t=Bi();for(;null!==t&&64===t.type;)t=t.parent;return t}function Bi(){return Xn.lFrame.currentTNode}function Ts(t,n){const i=Xn.lFrame;i.currentTNode=t,i.isParent=n}function al(){return Xn.lFrame.isParent}function Ec(){Xn.lFrame.isParent=!1}function Bs(){const t=Xn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function ba(){return Xn.lFrame.bindingIndex++}function S(t){const n=Xn.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function k(t,n){const i=Xn.lFrame;i.bindingIndex=i.bindingRootIndex=t,ae(n)}function ae(t){Xn.lFrame.currentDirectiveIndex=t}function ct(){return Xn.lFrame.currentQueryIndex}function ut(t){Xn.lFrame.currentQueryIndex=t}function _n(t){const n=t[Xt];return 2===n.type?n.declTNode:1===n.type?t[zr]:null}function _r(t,n,i){if(i&En.SkipSelf){let h=n,m=t;for(;!(h=h.parent,null!==h||i&En.Host||(h=_n(m),null===h||(m=m[mi],10&h.type))););if(null===h)return!1;n=h,t=m}const c=Xn.lFrame=er();return c.currentTNode=n,c.lView=t,!0}function qr(t){const n=er(),i=t[Xt];Xn.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function er(){const t=Xn.lFrame,n=null===t?null:t.child;return null===n?Cs(t):n}function Cs(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Ys(){const t=Xn.lFrame;return Xn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const go=Ys;function Ic(){const t=Ys();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function js(){return Xn.lFrame.selectedIndex}function Ta(t){Xn.lFrame.selectedIndex=t}function fi(){const t=Xn.lFrame;return Vl(t.tView,t.selectedIndex)}let Wf=!0;function Bl(){return Wf}function ua(t){Wf=t}function Oh(t,n){for(let i=n.directiveStart,c=n.directiveEnd;i<c;i++){const m=t.data[i].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:D,ngAfterViewInit:O,ngAfterViewChecked:z,ngOnDestroy:re}=m;T&&(t.contentHooks??=[]).push(-i,T),D&&((t.contentHooks??=[]).push(i,D),(t.contentCheckHooks??=[]).push(i,D)),O&&(t.viewHooks??=[]).push(-i,O),z&&((t.viewHooks??=[]).push(i,z),(t.viewCheckHooks??=[]).push(i,z)),null!=re&&(t.destroyHooks??=[]).push(i,re)}}function Aa(t,n,i){Od(t,n,3,i)}function Da(t,n,i,c){(3&t[Ln])===i&&Od(t,n,i,c)}function Do(t,n){let i=t[Ln];(3&i)===n&&(i&=8191,i+=1,t[Ln]=i)}function Od(t,n,i,c){const m=c??-1,T=n.length-1;let D=0;for(let O=void 0!==c?65535&t[_i]:0;O<T;O++)if("number"==typeof n[O+1]){if(D=n[O],null!=c&&D>=c)break}else n[O]<0&&(t[_i]+=65536),(D<m||-1==m)&&(Ru(t,i,n,O),t[_i]=(4294901760&t[_i])+O+2),O++}function jl(t,n){Yn(4,t,n);const i=Ui(null);try{n.call(t)}finally{Ui(i),Yn(5,t,n)}}function Ru(t,n,i,c){const h=i[c]<0,m=i[c+1],D=t[h?-i[c]:i[c]];h?t[Ln]>>13<t[_i]>>16&&(3&t[Ln])===n&&(t[Ln]+=8192,jl(D,m)):jl(D,m)}const zo=-1;class Qa{constructor(n,i,c){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=c}}function $l(t){return t!==zo}function zl(t){return 32767&t}function So(t,n){let i=function Eg(t){return t>>16}(t),c=n;for(;i>0;)c=c[mi],i--;return c}let Gl=!0;function da(t){const n=Gl;return Gl=t,n}const Fd=255,ms=5;let Ou=0;const xs={};function ql(t,n){const i=bc(t,n);if(-1!==i)return i;const c=n[Xt];c.firstCreatePass&&(t.injectorIndex=n.length,ha(c.data,t),ha(n,null),ha(c.blueprint,null));const h=Wl(t,n),m=t.injectorIndex;if($l(h)){const T=zl(h),D=So(h,n),O=D[Xt].data;for(let z=0;z<8;z++)n[m+z]=D[T+z]|O[T+z]}return n[m+8]=h,m}function ha(t,n){t.push(0,0,0,0,0,0,0,0,n)}function bc(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Wl(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,c=null,h=n;for(;null!==h;){if(c=Kf(h),null===c)return zo;if(i++,h=h[mi],-1!==c.injectorIndex)return c.injectorIndex|i<<16}return zo}function Tc(t,n,i){!function Ld(t,n,i){let c;"string"==typeof i?c=i.charCodeAt(0)||0:i.hasOwnProperty(kr)&&(c=i[kr]),null==c&&(c=i[kr]=Ou++);const h=c&Fd;n.data[t+(h>>ms)]|=1<<h}(t,n,i)}function cl(t,n,i){if(i&En.Optional||void 0!==t)return t;Et()}function Vd(t,n,i,c){if(i&En.Optional&&void 0===c&&(c=null),!(i&(En.Self|En.Host))){const h=t[Wi],m=Nr(void 0);try{return h?h.get(n,c,i&En.Optional):Ar(n,c,i&En.Optional)}finally{Nr(m)}}return cl(c,0,i)}function Ja(t,n,i,c=En.Default,h){if(null!==t){if(2048&n[Ln]&&!(c&En.Self)){const T=function ul(t,n,i,c,h){let m=t,T=n;for(;null!==m&&null!==T&&2048&T[Ln]&&!(512&T[Ln]);){const D=Ud(m,T,i,c|En.Self,xs);if(D!==xs)return D;let O=m.parent;if(!O){const z=T[ja];if(z){const re=z.get(i,xs,c);if(re!==xs)return re}O=Kf(T),T=T[mi]}m=O}return h}(t,n,i,c,xs);if(T!==xs)return T}const m=Ud(t,n,i,c,xs);if(m!==xs)return m}return Vd(n,i,c,h)}function Ud(t,n,i,c,h){const m=function Fh(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(kr)?t[kr]:void 0;return"number"==typeof n?n>=0?n&Fd:jd:n}(i);if("function"==typeof m){if(!_r(n,t,c))return c&En.Host?cl(h,0,c):Vd(n,i,c,h);try{let T;if(T=m(c),null!=T||c&En.Optional)return T;Et()}finally{go()}}else if("number"==typeof m){let T=null,D=bc(t,n),O=zo,z=c&En.Host?n[kn][zr]:null;for((-1===D||c&En.SkipSelf)&&(O=-1===D?Wl(t,n):n[D+8],O!==zo&&ll(c,!1)?(T=n[Xt],D=zl(O),n=So(O,n)):D=-1);-1!==D;){const re=n[Xt];if(Lh(m,D,re.data)){const Te=kh(D,n,i,T,c,z);if(Te!==xs)return Te}O=n[D+8],O!==zo&&ll(c,n[Xt].data[D+8]===z)&&Lh(m,D,n)?(T=re,D=zl(O),n=So(O,n)):D=-1}}return h}function kh(t,n,i,c,h,m){const T=n[Xt],D=T.data[t+8],re=Bd(D,T,i,null==c?Vt(D)&&Gl:c!=T&&0!=(3&D.type),h&En.Host&&m===D);return null!==re?Zl(n,T,re,D):xs}function Bd(t,n,i,c,h){const m=t.providerIndexes,T=n.data,D=1048575&m,O=t.directiveStart,re=m>>20,Ge=h?D+re:t.directiveEnd;for(let nt=c?D:D+re;nt<Ge;nt++){const Pt=T[nt];if(nt<O&&i===Pt||nt>=O&&Pt.type===i)return nt}if(h){const nt=T[O];if(nt&&gn(nt)&&nt.type===i)return O}return null}function Zl(t,n,i,c){let h=t[i];const m=n.data;if(function xu(t){return t instanceof Qa}(h)){const T=h;T.resolving&&function Ct(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new ze(-200,`Circular dependency in DI detected for ${t}${i}`)}(function it(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():$e(t)}(m[i]));const D=da(T.canSeeViewProviders);T.resolving=!0;const z=T.injectImpl?Nr(T.injectImpl):null;_r(t,c,En.Default);try{h=t[i]=T.factory(void 0,m,t,c),n.firstCreatePass&&i>=c.directiveStart&&function wa(t,n,i){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:m}=n.type.prototype;if(c){const T=Wr(n);(i.preOrderHooks??=[]).push(t,T),(i.preOrderCheckHooks??=[]).push(t,T)}h&&(i.preOrderHooks??=[]).push(0-t,h),m&&((i.preOrderHooks??=[]).push(t,m),(i.preOrderCheckHooks??=[]).push(t,m))}(i,m[i],n)}finally{null!==z&&Nr(z),da(D),T.resolving=!1,go()}}return h}function Lh(t,n,i){return!!(i[n+(t>>ms)]&1<<t)}function ll(t,n){return!(t&En.Self||t&En.Host&&n)}class ws{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,c){return Ja(this._tNode,this._lView,n,an(c),i)}}function jd(){return new ws(gs(),Ot())}function Kl(t){return Ei(()=>{const n=t.prototype.constructor,i=n[Fi]||Sa(n),c=Object.prototype;let h=Object.getPrototypeOf(t.prototype).constructor;for(;h&&h!==c;){const m=h[Fi]||Sa(h);if(m&&m!==i)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function Sa(t){return It(t)?()=>{const n=Sa(mt(t));return n&&n()}:Ws(t)}function Kf(t){const n=t[Xt],i=n.type;return 2===i?n.declTNode:1===i?t[zr]:null}function Go(t){return function bg(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const c=i.length;let h=0;for(;h<c;){const m=i[h];if(ta(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<c&&"string"==typeof i[h];)h++;else{if(m===n)return i[h+1];h+=2}}}return null}(gs(),t)}const dl="__parameters__";function ji(t,n,i){return Ei(()=>{const c=function Yl(t){return function(...i){if(t){const c=t(...i);for(const h in c)this[h]=c[h]}}}(n);function h(...m){if(this instanceof h)return c.apply(this,m),this;const T=new h(...m);return D.annotation=T,D;function D(O,z,re){const Te=O.hasOwnProperty(dl)?O[dl]:Object.defineProperty(O,dl,{value:[]})[dl];for(;Te.length<=re;)Te.push(null);return(Te[re]=Te[re]||[]).push(T),O}}return i&&(h.prototype=Object.create(i.prototype)),h.prototype.ngMetadataName=t,h.annotationCls=h,h})}function wc(t,n){t.forEach(i=>Array.isArray(i)?wc(i,n):n(i))}function fl(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function Fu(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Jl(t,n){const i=[];for(let c=0;c<t;c++)i.push(n);return i}function Po(t,n,i){let c=ec(t,n);return c>=0?t[1|c]=i:(c=~c,function Ac(t,n,i,c){let h=t.length;if(h==n)t.push(i,c);else if(1===h)t.push(c,t[0]),t[0]=i;else{for(h--,t.push(t[h-1],t[h]);h>n;)t[h]=t[h-2],h--;t[n]=i,t[n+1]=c}}(t,c,n,i)),c}function Hh(t,n){const i=ec(t,n);if(i>=0)return t[1|i]}function ec(t,n){return function tc(t,n,i){let c=0,h=t.length>>i;for(;h!==c;){const m=c+(h-c>>1),T=t[m<<i];if(n===T)return m<<i;T>n?h=m:c=m+1}return~(h<<i)}(t,n,1)}const tu=xn(ji("Optional"),8),Dc=xn(ji("SkipSelf"),4);function Wd(t){return 128==(128&t.flags)}var Zd=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Zd||{});const Mg=new Map;let a_=0;const Jh="__ngContext__";function is(t,n){De(n)?(t[Jh]=n[Is],function Ny(t){Mg.set(t[Is],t)}(n)):t[Jh]=n}let ef;function tf(t,n){return ef(t,n)}function zu(t){const n=t[mr];return He(n)?n[mr]:n}function kg(t){return ap(t[Zi])}function nf(t){return ap(t[gi])}function ap(t){for(;null!==t&&!He(t);)t=t[gi];return t}function Gu(t,n,i,c,h){if(null!=c){let m,T=!1;He(c)?m=c:De(c)&&(T=!0,c=c[br]);const D=si(c);0===t&&null!==i?null==h?dp(n,i,D):Nc(n,i,D,h||null,!0):1===t&&null!==i?Nc(n,i,D,h||null,!0):2===t?function gp(t,n,i){const c=vl(t,n);c&&function yl(t,n,i,c){t.removeChild(n,i,c)}(t,c,n,i)}(n,D,T):3===t&&n.destroyNode(D),null!=m&&function Gg(t,n,i,c,h){const m=i[es];m!==si(i)&&Gu(n,t,c,m,h);for(let D=Kr;D<i.length;D++){const O=i[D];El(O[Xt],O,t,n,c,m)}}(n,t,m,i,h)}}function lp(t,n,i){return t.createElement(n,i)}function Js(t,n){const i=t[co],c=i.indexOf(n);Cd(n),i.splice(c,1)}function up(t,n){if(t.length<=Kr)return;const i=Kr+n,c=t[i];if(c){const h=c[Xi];null!==h&&h!==t&&Js(h,c),n>0&&(t[i-1][gi]=c[gi]);const m=Fu(t,Kr+n);!function l_(t,n){El(t,n,n[jn],2,null,null),n[br]=null,n[zr]=null}(c[Xt],c);const T=m[ds];null!==T&&T.detachView(m[Xt]),c[mr]=null,c[gi]=null,c[Ln]&=-129}return c}function af(t,n){if(!(256&n[Ln])){const i=n[jn];n[ar]&&pc(n[ar]),n[Ms]&&pc(n[Ms]),i.destroyNode&&El(t,n,i,3,null,null),function Vg(t){let n=t[Zi];if(!n)return Ug(t[Xt],t);for(;n;){let i=null;if(De(n))i=n[Zi];else{const c=n[Kr];c&&(i=c)}if(!i){for(;n&&!n[gi]&&n!==t;)De(n)&&Ug(n[Xt],n),n=n[mr];null===n&&(n=t),De(n)&&Ug(n[Xt],n),i=n&&n[gi]}n=i}}(n)}}function Ug(t,n){if(!(256&n[Ln])){n[Ln]&=-129,n[Ln]|=256,function u_(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let c=0;c<i.length;c+=2){const h=n[i[c]];if(!(h instanceof Qa)){const m=i[c+1];if(Array.isArray(m))for(let T=0;T<m.length;T+=2){const D=h[m[T]],O=m[T+1];Yn(4,D,O);try{O.call(D)}finally{Yn(5,D,O)}}else{Yn(4,h,m);try{m.call(h)}finally{Yn(5,h,m)}}}}}(t,n),function Bg(t,n){const i=t.cleanup,c=n[ni];if(null!==i)for(let m=0;m<i.length-1;m+=2)if("string"==typeof i[m]){const T=i[m+3];T>=0?c[T]():c[-T].unsubscribe(),m+=2}else i[m].call(c[i[m+1]]);null!==c&&(n[ni]=null);const h=n[hs];if(null!==h){n[hs]=null;for(let m=0;m<h.length;m++)(0,h[m])()}}(t,n),1===n[Xt].type&&n[jn].destroy();const i=n[Xi];if(null!==i&&He(n[mr])){i!==n[mr]&&Js(i,n);const c=n[ds];null!==c&&c.detachView(t)}!function Pg(t){Mg.delete(t[Is])}(n)}}function cf(t,n,i){return function Wu(t,n,i){let c=n;for(;null!==c&&40&c.type;)c=(n=c).parent;if(null===c)return i[br];{const{componentOffset:h}=c;if(h>-1){const{encapsulation:m}=t.data[c.directiveStart+h];if(m===_s.None||m===_s.Emulated)return null}return Ps(c,i)}}(t,n.parent,i)}function Nc(t,n,i,c,h){t.insertBefore(n,i,c,h)}function dp(t,n,i){t.appendChild(n,i)}function Jd(t,n,i,c,h){null!==c?Nc(t,n,i,c,h):dp(t,n,i)}function vl(t,n){return t.parentNode(n)}function Hg(t,n,i){return $g(t,n,i)}let zg,Ep,eo,Fc,$g=function Zu(t,n,i){return 40&t.type?Ps(t,i):null};function pp(t,n,i,c){const h=cf(t,c,n),m=n[jn],D=Hg(c.parent||n[zr],c,n);if(null!=h)if(Array.isArray(i))for(let O=0;O<i.length;O++)Jd(m,h,i[O],D,!1);else Jd(m,h,i,D,!1);void 0!==zg&&zg(m,c,n,i,h)}function Ku(t,n){if(null!==n){const i=n.type;if(3&i)return Ps(n,t);if(4&i)return lf(-1,t[n.index]);if(8&i){const c=n.child;if(null!==c)return Ku(t,c);{const h=t[n.index];return He(h)?lf(-1,h):si(h)}}if(32&i)return tf(n,t)()||si(t[n.index]);{const c=d_(t,n);return null!==c?Array.isArray(c)?c[0]:Ku(zu(t[kn]),c):Ku(t,n.next)}}return null}function d_(t,n){return null!==n?t[kn][zr].projection[n.projection]:null}function lf(t,n){const i=Kr+t+1;if(i<n.length){const c=n[i],h=c[Xt].firstChild;if(null!==h)return Ku(c,h)}return n[es]}function Xs(t,n,i,c,h,m,T){for(;null!=i;){const D=c[i.index],O=i.type;if(T&&0===n&&(D&&is(si(D),c),i.flags|=2),32!=(32&i.flags))if(8&O)Xs(t,n,i.child,c,h,m,!1),Gu(n,t,h,D,m);else if(32&O){const z=tf(i,c);let re;for(;re=z();)Gu(n,t,h,re,m);Gu(n,t,h,D,m)}else 16&O?_p(t,n,c,i,h,m):Gu(n,t,h,D,m);i=T?i.projectionNext:i.next}}function El(t,n,i,c,h,m){Xs(i,c,t.firstChild,n,h,m,!1)}function _p(t,n,i,c,h,m){const T=i[kn],O=T[zr].projection[c.projection];if(Array.isArray(O))for(let z=0;z<O.length;z++)Gu(n,t,h,O[z],m);else{let z=O;const re=T[mr];Wd(c)&&(z.flags|=128),Xs(t,n,z,re,h,m,!0)}}function kc(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function vp(t,n,i){const{mergedAttrs:c,classes:h,styles:m}=i;null!==c&&ea(t,n,c),null!==h&&kc(t,n,h),null!==m&&function yp(t,n,i){t.setAttribute(n,"style",i)}(t,n,m)}function au(t){return function qo(){if(void 0===Ep&&(Ep=null,Bn.trustedTypes))try{Ep=Bn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ep}()?.createHTML(t)||t}function Xd(t){eo=t}function f_(t){return function Ip(){if(void 0===Fc&&(Fc=null,Bn.trustedTypes))try{Fc=Bn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Fc}()?.createScriptURL(t)||t}class Il{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ze})`}}class Cp extends Il{getTypeName(){return"HTML"}}class p_ extends Il{getTypeName(){return"Style"}}class Zg extends Il{getTypeName(){return"Script"}}class wp extends Il{getTypeName(){return"URL"}}class Pa extends Il{getTypeName(){return"ResourceURL"}}function $s(t){return t instanceof Il?t.changingThisBreaksApplicationSecurity:t}function fa(t,n){const i=function Vy(t){return t instanceof Il&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${Ze})`)}return i===n}function Kg(t){return new Cp(t)}function Yu(t){return new p_(t)}function Lc(t){return new Zg(t)}function Yg(t){return new wp(t)}function Ap(t){return new Pa(t)}class Uy{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(au(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class By{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=au(n),i}}const Dp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Qu(t){return(t=String(t)).match(Dp)?t:"unsafe:"+t}function Ra(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function Vc(...t){const n={};for(const i of t)for(const c in i)i.hasOwnProperty(c)&&(n[c]=!0);return n}const uf=Ra("area,br,col,hr,img,wbr"),Sp=Ra("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Mp=Ra("rp,rt"),ss=Vc(uf,Vc(Sp,Ra("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Vc(Mp,Ra("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Vc(Mp,Sp)),th=Ra("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cu=Vc(th,Ra("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ra("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Jg=Ra("script,style,template");class $y{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,c=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?c=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,c&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let h=this.checkClobberedElement(i,i.nextSibling);if(h){i=h;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!ss.hasOwnProperty(i))return this.sanitizedSomething=!0,!Jg.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const c=n.attributes;for(let h=0;h<c.length;h++){const m=c.item(h),T=m.name,D=T.toLowerCase();if(!cu.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let O=m.value;th[D]&&(O=Qu(O)),this.buf.push(" ",T,'="',Xg(O),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();ss.hasOwnProperty(i)&&!uf.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(Xg(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const nc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zy=/([^\#-~ |!])/g;function Xg(t){return t.replace(/&/g,"&amp;").replace(nc,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(zy,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Rp;function em(t,n){let i=null;try{Rp=Rp||function Qg(t){const n=new By(t);return function jy(){try{return!!(new window.DOMParser).parseFromString(au(""),"text/html")}catch{return!1}}()?new Uy(n):n}(t);let c=n?String(n):"";i=Rp.getInertBodyElement(c);let h=5,m=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=m,m=i.innerHTML,i=Rp.getInertBodyElement(c)}while(c!==m);return au((new $y).sanitizeChildren(xp(i)||i))}finally{if(i){const c=xp(i)||i;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function xp(t){return"content"in t&&function Ju(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Xu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Xu||{});function tm(t){const n=vr();return n?n.sanitize(Xu.URL,t)||"":fa(t,"URL")?$s(t):Qu($e(t))}function y_(t){const n=vr();if(n)return f_(n.sanitize(Xu.RESOURCE_URL,t)||"");if(fa(t,"ResourceURL"))return f_($s(t));throw new ze(904,!1)}function im(t,n,i){return function rm(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?y_:tm}(n,i)(t)}function vr(){const t=Ot();return t&&t[Es].sanitizer}const ed=new sn("ENVIRONMENT_INITIALIZER"),om=new sn("INJECTOR",-1),rh=new sn("INJECTOR_DEF_TYPES");class hf{get(n,i=Mn){if(i===Mn){const c=new Error(`NullInjectorError: No provider for ${Oe(n)}!`);throw c.name="NullInjectorError",c}return i}}function Qi(...t){return{\u0275providers:rc(0,t),\u0275fromNgModule:!0}}function rc(t,...n){const i=[],c=new Set;let h;const m=T=>{i.push(T)};return wc(n,T=>{const D=T;ff(D,m,[],c)&&(h||=[],h.push(D))}),void 0!==h&&Op(h,m),i}function Op(t,n){for(let i=0;i<t.length;i++){const{ngModule:c,providers:h}=t[i];Np(h,m=>{n(m,c)})}}function ff(t,n,i,c){if(!(t=mt(t)))return!1;let h=null,m=ai(t);const T=!m&&Pn(t);if(m||T){if(T&&!T.standalone)return!1;h=t}else{const O=t.ngModule;if(m=ai(O),!m)return!1;h=O}const D=c.has(h);if(T){if(D)return!1;if(c.add(h),T.dependencies){const O="function"==typeof T.dependencies?T.dependencies():T.dependencies;for(const z of O)ff(z,n,i,c)}}else{if(!m)return!1;{if(null!=m.imports&&!D){let z;c.add(h);try{wc(m.imports,re=>{ff(re,n,i,c)&&(z||=[],z.push(re))})}finally{}void 0!==z&&Op(z,n)}if(!D){const z=Ws(h)||(()=>new h);n({provide:h,useFactory:z,deps:gr},h),n({provide:rh,useValue:h,multi:!0},h),n({provide:ed,useValue:()=>Rt(h),multi:!0},h)}const O=m.providers;if(null!=O&&!D){const z=t;Np(O,re=>{n(re,z)})}}}return h!==t&&void 0!==t.providers}function Np(t,n){for(let i of t)_t(i)&&(i=i.\u0275providers),Array.isArray(i)?Np(i,n):n(i)}const I_=fe({provide:String,useValue:fe});function b_(t){return null!==t&&"object"==typeof t&&I_ in t}function td(t){return"function"==typeof t}const C_=new sn("Set Injector scope."),kp={},Hi={};let Fp;function pf(){return void 0===Fp&&(Fp=new hf),Fp}class Uc{}class nd extends Uc{get destroyed(){return this._destroyed}constructor(n,i,c,h){super(),this.parent=i,this.source=c,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Oo(n,T=>this.processProvider(T)),this.records.set(om,gf(void 0,this)),h.has("environment")&&this.records.set(Uc,gf(void 0,this));const m=this.records.get(C_);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(rh.multi,gr,En.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=Fe(this),c=Nr(void 0);try{return n()}finally{Fe(i),Nr(c)}}get(n,i=Mn,c=En.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Xo))return n[Xo](this);c=an(c);const m=Fe(this),T=Nr(void 0);try{if(!(c&En.SkipSelf)){let O=this.records.get(n);if(void 0===O){const z=function cm(t){return"function"==typeof t||"object"==typeof t&&t instanceof sn}(n)&&fn(n);O=z&&this.injectableDefInScope(z)?gf(Lp(n),kp):null,this.records.set(n,O)}if(null!=O)return this.hydrate(n,O)}return(c&En.Self?pf():this.parent).get(n,i=c&En.Optional&&i===Mn?null:i)}catch(D){if("NullInjectorError"===D.name){if((D[Ft]=D[Ft]||[]).unshift(Oe(n)),m)throw D;return function Ds(t,n,i,c){const h=t[Ft];throw n[B]&&h.unshift(n[B]),t.message=function Io(t,n,i,c=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let h=Oe(n);if(Array.isArray(n))h=n.map(Oe).join(" -> ");else if("object"==typeof n){let m=[];for(let T in n)if(n.hasOwnProperty(T)){let D=n[T];m.push(T+":"+("string"==typeof D?JSON.stringify(D):Oe(D)))}h=`{${m.join(", ")}}`}return`${i}${c?"("+c+")":""}[${h}]: ${t.replace(X,"\n  ")}`}("\n"+t.message,h,i,c),t.ngTokenPath=h,t[Ft]=null,t}(D,n,"R3InjectorError",this.source)}throw D}finally{Nr(T),Fe(m)}}resolveInjectorInitializers(){const n=Fe(this),i=Nr(void 0);try{const h=this.get(ed.multi,gr,En.Self);for(const m of h)m()}finally{Fe(n),Nr(i)}}toString(){const n=[],i=this.records;for(const c of i.keys())n.push(Oe(c));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ze(205,!1)}processProvider(n){let i=td(n=mt(n))?n:mt(n&&n.provide);const c=function Zv(t){return b_(t)?gf(void 0,t.useValue):gf(w_(t),kp)}(n);if(td(n)||!0!==n.multi)this.records.get(i);else{let h=this.records.get(i);h||(h=gf(void 0,kp,!0),h.factory=()=>Jn(h.multi),this.records.set(i,h)),i=n,h.multi.push(n)}this.records.set(i,c)}hydrate(n,i){return i.value===kp&&(i.value=Hi,i.value=i.factory()),"object"==typeof i.value&&i.value&&function A_(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=mt(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function Lp(t){const n=fn(t),i=null!==n?n.factory:Ws(t);if(null!==i)return i;if(t instanceof sn)throw new ze(204,!1);if(t instanceof Function)return function Wv(t){const n=t.length;if(n>0)throw Jl(n,"?"),new ze(204,!1);const i=function Kt(t){return t&&(t[Cn]||t[Hn])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new ze(204,!1)}function w_(t,n,i){let c;if(td(t)){const h=mt(t);return Ws(h)||Lp(h)}if(b_(t))c=()=>mt(t.useValue);else if(function T_(t){return!(!t||!t.useFactory)}(t))c=()=>t.useFactory(...Jn(t.deps||[]));else if(function am(t){return!(!t||!t.useExisting)}(t))c=()=>Rt(mt(t.useExisting));else{const h=mt(t&&(t.useClass||t.provide));if(!function Vp(t){return!!t.deps}(t))return Ws(h)||Lp(h);c=()=>new h(...Jn(t.deps))}return c}function gf(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function Oo(t,n){for(const i of t)Array.isArray(i)?Oo(i,n):i&&_t(i)?Oo(i.\u0275providers,n):n(i)}const lm=new sn("AppId",{providedIn:"root",factory:()=>bl}),bl="ng",Tl=new sn("Platform Initializer"),D_=new sn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Up=new sn("AnimationModuleType"),Wy=new sn("CSP nonce",{providedIn:"root",factory:()=>function eh(){if(void 0!==eo)return eo;if(typeof document<"u")return document;throw new ze(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let lh=(t,n,i)=>null;function uh(t,n,i=!1){return lh(t,n,i)}class Kv{}class ev{}class tv{resolveComponentFactory(n){throw function fm(t){const n=Error(`No component factory found for ${Oe(t)}.`);return n.ngComponent=t,n}(n)}}let zp=(()=>{class t{static#e=this.NULL=new tv}return t})();function Gp(){return fh(gs(),Ot())}function fh(t,n){return new Ef(Ps(t,n))}let Ef=(()=>{class t{constructor(i){this.nativeElement=i}static#e=this.__NG_ELEMENT_ID__=Gp}return t})();function If(t){return t instanceof Ef?t.nativeElement:t}class bf{}let nv=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function gm(){const t=Ot(),i=Rs(gs().index,t);return(De(i)?i:t)[jn]}()}return t})(),rv=(()=>{class t{static#e=this.\u0275prov=pn({token:t,providedIn:"root",factory:()=>null})}return t})();class R_{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const x_=new R_("16.2.12"),mm={};function od(t,n=null,i=null,c){const h=iv(t,n,i,c);return h.resolveInjectorInitializers(),h}function iv(t,n=null,i=null,c,h=new Set){const m=[i||gr,Qi(t)];return c=c||("object"==typeof t?void 0:Oe(t)),new nd(m,n||pf(),c||null,h)}let xa=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Mn;static#t=this.NULL=new hf;static create(i,c){if(Array.isArray(i))return od({name:""},c,i,"");{const h=i.name??"";return od({name:h},i.parent,i.providers,h)}}static#n=this.\u0275prov=pn({token:t,providedIn:"any",factory:()=>Rt(om)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function L_(t){return t.ngOriginalError}class ad{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&L_(n);for(;i&&L_(i);)i=L_(i);return i||null}}function U_(t){return n=>{setTimeout(t,void 0,n)}}const Wo=class eE extends g.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,c){let h=n,m=i||(()=>null),T=c;if(n&&"object"==typeof n){const O=n;h=O.next?.bind(O),m=O.error?.bind(O),T=O.complete?.bind(O)}this.__isAsync&&(m=U_(m),h&&(h=U_(h)),T&&(T=U_(T)));const D=super.subscribe({next:h,error:m,complete:T});return n instanceof u.w0&&n.add(D),D}};function vm(...t){}class $i{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wo(!1),this.onMicrotaskEmpty=new Wo(!1),this.onStable=new Wo(!1),this.onError=new Wo(!1),typeof Zone>"u")throw new ze(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&i,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Em(){const t="function"==typeof Bn.requestAnimationFrame;let n=Bn[t?"requestAnimationFrame":"setTimeout"],i=Bn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const c=n[Zone.__symbol__("OriginalDelegate")];c&&(n=c);const h=i[Zone.__symbol__("OriginalDelegate")];h&&(i=h)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function ov(t){const n=()=>{!function sv(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Bn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,bm(t),t.isCheckStableRunning=!0,B_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),bm(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,c,h,m,T,D)=>{if(function HE(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(D))return i.invokeTask(h,m,T,D);try{return j_(t),i.invokeTask(h,m,T,D)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||t.shouldCoalesceRunChangeDetection)&&n(),H_(t)}},onInvoke:(i,c,h,m,T,D,O)=>{try{return j_(t),i.invoke(h,m,T,D,O)}finally{t.shouldCoalesceRunChangeDetection&&n(),H_(t)}},onHasTask:(i,c,h,m)=>{i.hasTask(h,m),c===h&&("microTask"==m.change?(t._hasPendingMicrotasks=m.microTask,bm(t),B_(t)):"macroTask"==m.change&&(t.hasPendingMacrotasks=m.macroTask))},onHandleError:(i,c,h,m)=>(i.handleError(h,m),t.runOutsideAngular(()=>t.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$i.isInAngularZone())throw new ze(909,!1)}static assertNotInAngularZone(){if($i.isInAngularZone())throw new ze(909,!1)}run(n,i,c){return this._inner.run(n,i,c)}runTask(n,i,c,h){const m=this._inner,T=m.scheduleEventTask("NgZoneEvent: "+h,n,Im,vm,vm);try{return m.runTask(T,i,c)}finally{m.cancelTask(T)}}runGuarded(n,i,c){return this._inner.runGuarded(n,i,c)}runOutsideAngular(n){return this._outer.run(n)}}const Im={};function B_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function bm(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function j_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function H_(t){t._nesting--,B_(t)}class tE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wo,this.onMicrotaskEmpty=new Wo,this.onStable=new Wo,this.onError=new Wo}run(n,i,c){return n.apply(i,c)}runGuarded(n,i,c){return n.apply(i,c)}runOutsideAngular(n){return n()}runTask(n,i,c,h){return n.apply(i,c)}}const av=new sn("",{providedIn:"root",factory:cv});function cv(){const t=nn($i);let n=!0;const i=new W.y(h=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{h.next(n),h.complete()})}),c=new W.y(h=>{let m;t.runOutsideAngular(()=>{m=t.onStable.subscribe(()=>{$i.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,h.next(!0))})})});const T=t.onUnstable.subscribe(()=>{$i.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{h.next(!1)}))});return()=>{m.unsubscribe(),T.unsubscribe()}});return(0,Ie.T)(i,c.pipe((0,me.B)()))}function Al(t){return t instanceof Function?t():t}let Tm=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=pn({token:t,providedIn:"root",factory:()=>new t})}return t})();function Cf(t){for(;t;){t[Ln]|=64;const n=zu(t);if(Wn(t)&&!n)return t;t=n}return null}const hv=new sn("",{providedIn:"root",factory:()=>!1});let hu=null;function ld(t,n){return t[n]??s()}function l(t,n){const i=s();i.producerNode?.length&&(t[n]=hu,i.lView=t,hu=r())}const e={...wu,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Cf(t.lView)},lView:null};function r(){return Object.create(e)}function s(){return hu??=r(),hu}const d={};function y(t){b(Dr(),Ot(),js()+t,!1)}function b(t,n,i,c){if(!c)if(3==(3&n[Ln])){const m=t.preOrderCheckHooks;null!==m&&Aa(n,m,i)}else{const m=t.preOrderHooks;null!==m&&Da(n,m,0,i)}Ta(i)}function R(t,n=En.Default){const i=Ot();return null===i?Rt(t,n):Ja(gs(),i,mt(t),n)}function V(){throw new Error("invalid")}function ie(t,n,i,c,h,m,T,D,O,z,re){const Te=n.blueprint.slice();return Te[br]=h,Te[Ln]=140|c,(null!==z||t&&2048&t[Ln])&&(Te[Ln]|=2048),Bo(Te),Te[mr]=Te[mi]=t,Te[rr]=i,Te[Es]=T||t&&t[Es],Te[jn]=D||t&&t[jn],Te[Wi]=O||t&&t[Wi]||null,Te[zr]=m,Te[Is]=function c_(){return a_++}(),Te[Kn]=re,Te[ja]=z,Te[kn]=2==n.type?t[kn]:Te,Te}function ye(t,n,i,c,h){let m=t.data[n];if(null===m)m=function ke(t,n,i,c,h){const m=Bi(),T=al(),O=t.data[n]=function tt(t,n,i,c,h,m){let T=n?n.injectorIndex:-1,D=0;return Ka()&&(D|=128),{type:i,index:c,insertBeforeIndex:null,injectorIndex:T,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:D,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?m:m&&m.parent,i,n,c,h);return null===t.firstChild&&(t.firstChild=O),null!==m&&(T?null==m.child&&null!==O.parent&&(m.child=O):null===m.next&&(m.next=O,O.prev=m)),O}(t,n,i,c,h),function N(){return Xn.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=i,m.value=c,m.attrs=h;const T=function Ul(){const t=Xn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();m.injectorIndex=null===T?-1:T.injectorIndex}return Ts(m,!0),m}function ot(t,n,i,c){if(0===i)return-1;const h=n.length;for(let m=0;m<i;m++)n.push(c),t.blueprint.push(c),t.data.push(null);return h}function xt(t,n,i,c,h){const m=ld(n,ar),T=js(),D=2&c;try{Ta(-1),D&&n.length>ir&&b(t,n,ir,!1),Yn(D?2:0,h);const z=D?m:null,re=sr(z);try{null!==z&&(z.dirty=!1),i(c,h)}finally{tl(z,re)}}finally{D&&null===n[ar]&&l(n,ar),Ta(T),Yn(D?3:1,h)}}function Wt(t,n,i){if(St(n)){const c=Ui(null);try{const m=n.directiveEnd;for(let T=n.directiveStart;T<m;T++){const D=t.data[T];D.contentQueries&&D.contentQueries(1,i[T],T)}}finally{Ui(c)}}}function Ut(t,n,i){Ti()&&(function Af(t,n,i,c){const h=i.directiveStart,m=i.directiveEnd;Vt(i)&&function Y_(t,n,i){const c=Ps(n,t),h=$n(i);let T=16;i.signals?T=4096:i.onPush&&(T=64);const D=_h(t,ie(t,h,null,T,c,n,null,t[Es].rendererFactory.createRenderer(c,i),null,null,null));t[n.index]=D}(n,i,t.data[h+i.componentOffset]),t.firstCreatePass||ql(i,n),is(c,n);const T=i.initialInputs;for(let D=h;D<m;D++){const O=t.data[D],z=Zl(n,t,D,i);is(z,n),null!==T&&vv(0,D-h,z,O,0,T),gn(O)&&(Rs(i.index,n)[rr]=Zl(n,t,D,i))}}(t,n,i,Ps(i,n)),64==(64&i.flags)&&Dl(t,n,i))}function An(t,n,i=Ps){const c=n.localNames;if(null!==c){let h=n.index+1;for(let m=0;m<c.length;m+=2){const T=c[m+1],D=-1===T?i(n,t):t[T];t[h++]=D}}}function $n(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Sn(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Sn(t,n,i,c,h,m,T,D,O,z,re){const Te=ir+c,Ge=Te+h,nt=function lr(t,n){const i=[];for(let c=0;c<n;c++)i.push(c<t?null:d);return i}(Te,Ge),Pt="function"==typeof z?z():z;return nt[Xt]={type:t,blueprint:nt,template:i,queries:null,viewQuery:D,declTNode:n,data:nt.slice().fill(null,Te),bindingStartIndex:Te,expandoStartIndex:Ge,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:O,consts:Pt,incompleteFirstPass:!1,ssrId:re}}let Ke=t=>null;function dt(t,n,i,c){for(let h in t)if(t.hasOwnProperty(h)){i=null===i?{}:i;const m=t[h];null===c?Le(i,n,h,m):c.hasOwnProperty(h)&&Le(i,n,c[h],m)}return i}function Le(t,n,i,c){t.hasOwnProperty(i)?t[i].push(n,c):t[i]=[n,c]}function Zo(t,n,i,c,h,m,T,D){const O=Ps(n,i);let re,z=n.inputs;!D&&null!=z&&(re=z[c])?(Ns(t,i,re,c,h),Vt(n)&&function Oa(t,n){const i=Rs(n,t);16&i[Ln]||(i[Ln]|=64)}(i,n.index)):3&n.type&&(c=function wf(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(c),h=null!=T?T(h,n.value||"",c):h,m.setProperty(O,c,h))}function pu(t,n,i,c){if(Ti()){const h=null===c?null:{"":-1},m=function ud(t,n){const i=t.directiveRegistry;let c=null,h=null;if(i)for(let m=0;m<i.length;m++){const T=i[m];if(Br(n,T.selectors,!1))if(c||(c=[]),gn(T))if(null!==T.findHostDirectiveDefs){const D=[];h=h||new Map,T.findHostDirectiveDefs(T,D,h),c.unshift(...D,T),K_(t,n,D.length)}else c.unshift(T),K_(t,n,0);else h=h||new Map,T.findHostDirectiveDefs?.(T,c,h),c.push(T)}return null===c?null:[c,h]}(t,i);let T,D;null===m?T=D=null:[T,D]=m,null!==T&&Z_(t,n,i,T,h,D),h&&function yv(t,n,i){if(n){const c=t.localNames=[];for(let h=0;h<n.length;h+=2){const m=i[n[h+1]];if(null==m)throw new ze(-301,!1);c.push(n[h],m)}}}(i,c,h)}i.mergedAttrs=pr(i.mergedAttrs,i.attrs)}function Z_(t,n,i,c,h,m){for(let z=0;z<c.length;z++)Tc(ql(i,n),t,c[z].type);!function _o(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,c.length);for(let z=0;z<c.length;z++){const re=c[z];re.providersResolver&&re.providersResolver(re)}let T=!1,D=!1,O=ot(t,n,c.length,null);for(let z=0;z<c.length;z++){const re=c[z];i.mergedAttrs=pr(i.mergedAttrs,re.hostAttrs),Zp(t,i,n,O,re),Wp(O,re,h),null!==re.contentQueries&&(i.flags|=4),(null!==re.hostBindings||null!==re.hostAttrs||0!==re.hostVars)&&(i.flags|=64);const Te=re.type.prototype;!T&&(Te.ngOnChanges||Te.ngOnInit||Te.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),T=!0),!D&&(Te.ngOnChanges||Te.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),D=!0),O++}!function $c(t,n,i){const h=n.directiveEnd,m=t.data,T=n.attrs,D=[];let O=null,z=null;for(let re=n.directiveStart;re<h;re++){const Te=m[re],Ge=i?i.get(Te):null,Pt=Ge?Ge.outputs:null;O=dt(Te.inputs,re,O,Ge?Ge.inputs:null),z=dt(Te.outputs,re,z,Pt);const Zt=null===O||null===T||Mr(n)?null:aE(O,re,T);D.push(Zt)}null!==O&&(O.hasOwnProperty("class")&&(n.flags|=8),O.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=D,n.inputs=O,n.outputs=z}(t,i,m)}function Dl(t,n,i){const c=i.directiveStart,h=i.directiveEnd,m=i.index,T=function G(){return Xn.lFrame.currentDirectiveIndex}();try{Ta(m);for(let D=c;D<h;D++){const O=t.data[D],z=n[D];ae(D),(null!==O.hostBindings||0!==O.hostVars||null!==O.hostAttrs)&&_v(O,z)}}finally{Ta(-1),ae(T)}}function _v(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function K_(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function Wp(t,n,i){if(i){if(n.exportAs)for(let c=0;c<n.exportAs.length;c++)i[n.exportAs[c]]=t;gn(n)&&(i[""]=t)}}function Zp(t,n,i,c,h){t.data[c]=h;const m=h.factory||(h.factory=Ws(h.type)),T=new Qa(m,gn(h),R);t.blueprint[c]=T,i[c]=T,function zc(t,n,i,c,h){const m=h.hostBindings;if(m){let T=t.hostBindingOpCodes;null===T&&(T=t.hostBindingOpCodes=[]);const D=~n.index;(function to(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(T)!=D&&T.push(D),T.push(i,c,m)}}(t,n,c,ot(t,i,h.hostVars,d),h)}function ic(t,n,i,c,h,m){const T=Ps(t,n);!function Kp(t,n,i,c,h,m,T){if(null==m)t.removeAttribute(n,h,i);else{const D=null==T?$e(m):T(m,c||"",h);t.setAttribute(n,h,D,i)}}(n[jn],T,m,t.value,i,c,h)}function vv(t,n,i,c,h,m){const T=m[n];if(null!==T)for(let D=0;D<T.length;)Q_(c,i,T[D++],T[D++],T[D++])}function Q_(t,n,i,c,h){const m=Ui(null);try{const T=t.inputTransforms;null!==T&&T.hasOwnProperty(c)&&(h=T[c].call(n,h)),null!==t.setInput?t.setInput(n,h,i,c):n[c]=h}finally{Ui(m)}}function aE(t,n,i){let c=null,h=0;for(;h<i.length;){const m=i[h];if(0!==m)if(5!==m){if("number"==typeof m)break;if(t.hasOwnProperty(m)){null===c&&(c=[]);const T=t[m];for(let D=0;D<T.length;D+=2)if(T[D]===n){c.push(m,T[D+1],i[h+1]);break}}h+=2}else h+=2;else h+=4}return c}function mh(t,n,i,c){return[t,!0,!1,n,null,0,c,i,null,null,null]}function Cm(t,n){const i=t.contentQueries;if(null!==i)for(let c=0;c<i.length;c+=2){const m=i[c+1];if(-1!==m){const T=t.data[m];ut(i[c]),T.contentQueries(2,n[m],m)}}}function _h(t,n){return t[Zi]?t[or][gi]=n:t[Zi]=n,t[or]=n,n}function Yp(t,n,i){ut(0);const c=Ui(null);try{n(t,i)}finally{Ui(c)}}function dd(t){return t[ni]||(t[ni]=[])}function Df(t){return t.cleanup||(t.cleanup=[])}function no(t,n){const i=t[Wi],c=i?i.get(ad,null):null;c&&c.handleError(n)}function Ns(t,n,i,c,h){for(let m=0;m<i.length;){const T=i[m++],D=i[m++];Q_(t.data[T],n[T],c,D,h)}}function pa(t,n,i){const c=Uo(n,t);!function Fg(t,n,i){t.setValue(n,i)}(t[jn],c,i)}function J_(t,n){const i=Rs(n,t),c=i[Xt];!function X_(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(c,i);const h=i[br];null!==h&&null===i[Kn]&&(i[Kn]=uh(h,i[Wi])),Am(c,i,i[rr])}function Am(t,n,i){qr(n);try{const c=t.viewQuery;null!==c&&Yp(1,c,i);const h=t.template;null!==h&&xt(t,n,h,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Cm(t,n),t.staticViewQueries&&Yp(2,t.viewQuery,i);const m=t.components;null!==m&&function Mf(t,n){for(let i=0;i<n.length;i++)J_(t,n[i])}(n,m)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{n[Ln]&=-5,Ic()}}let Dm=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,c,h){const m=typeof Zone>"u"?null:Zone.current,T=function Mt(t,n,i){const c=Object.create(wr);i&&(c.consumerAllowSignalWrites=!0),c.fn=t,c.schedule=n;const h=T=>{c.cleanupFn=T};return c.ref={notify:()=>za(c),run:()=>{if(c.dirty=!1,c.hasRun&&!nl(c))return;c.hasRun=!0;const T=sr(c);try{c.cleanupFn(),c.cleanupFn=vn,c.fn(h)}finally{tl(c,T)}},cleanup:()=>c.cleanupFn()},c.ref}(i,z=>{this.all.has(z)&&this.queue.set(z,m)},h);let D;this.all.add(T),T.notify();const O=()=>{T.cleanup(),D?.(),this.all.delete(T),this.queue.delete(T)};return D=c?.onDestroy(O),{destroy:O}}flush(){if(0!==this.queue.size)for(const[i,c]of this.queue)this.queue.delete(i),c?c.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=pn({token:t,providedIn:"root",factory:()=>new t})}return t})();function Na(t,n,i){let c=i?t.styles:null,h=i?t.classes:null,m=0;if(null!==n)for(let T=0;T<n.length;T++){const D=n[T];"number"==typeof D?m=D:1==m?h=pt(h,D):2==m&&(c=pt(c,D+": "+n[++T]+";"))}i?t.styles=c:t.stylesWithoutHost=c,i?t.classes=h:t.classesWithoutHost=h}function hd(t,n,i,c,h=!1){for(;null!==i;){const m=n[i.index];null!==m&&c.push(si(m)),He(m)&&Qp(m,c);const T=i.type;if(8&T)hd(t,n,i.child,c);else if(32&T){const D=tf(i,n);let O;for(;O=D();)c.push(O)}else if(16&T){const D=d_(n,i);if(Array.isArray(D))c.push(...D);else{const O=zu(n[kn]);hd(O[Xt],O,D,c,!0)}}i=h?i.projectionNext:i.next}return c}function Qp(t,n){for(let i=Kr;i<t.length;i++){const c=t[i],h=c[Xt].firstChild;null!==h&&hd(c[Xt],c,h,n)}t[es]!==t[br]&&n.push(t[es])}function Sl(t,n,i,c=!0){const h=n[Es],m=h.rendererFactory,T=h.afterRenderEventManager;m.begin?.(),T?.begin();try{yh(t,n,t.template,i)}catch(O){throw c&&no(n,O),O}finally{m.end?.(),h.effectManager?.flush(),T?.end()}}function yh(t,n,i,c){const h=n[Ln];if(256!=(256&h)){n[Es].effectManager?.flush(),qr(n);try{Bo(n),function Rd(t){return Xn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&xt(t,n,i,2,c);const T=3==(3&h);if(T){const z=t.preOrderCheckHooks;null!==z&&Aa(n,z,null)}else{const z=t.preOrderHooks;null!==z&&Da(n,z,0,null),Do(n,0)}if(function Sm(t){for(let n=kg(t);null!==n;n=nf(n)){if(!n[Ri])continue;const i=n[co];for(let c=0;c<i.length;c++){jo(i[c])}}}(n),Jp(n,2),null!==t.contentQueries&&Cm(t,n),T){const z=t.contentCheckHooks;null!==z&&Aa(n,z)}else{const z=t.contentHooks;null!==z&&Da(n,z,1),Do(n,1)}!function Y(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const c=ld(n,Ms);try{for(let h=0;h<i.length;h++){const m=i[h];if(m<0)Ta(~m);else{const T=m,D=i[++h],O=i[++h];k(D,T),c.dirty=!1;const z=sr(c);try{O(2,n[T])}finally{tl(c,z)}}}}finally{null===n[Ms]&&l(n,Ms),Ta(-1)}}(t,n);const D=t.components;null!==D&&gu(n,D,0);const O=t.viewQuery;if(null!==O&&Yp(2,O,c),T){const z=t.viewCheckHooks;null!==z&&Aa(n,z)}else{const z=t.viewHooks;null!==z&&Da(n,z,2),Do(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Ln]&=-73,Cd(n)}finally{Ic()}}}function Jp(t,n){for(let i=kg(t);null!==i;i=nf(i))for(let c=Kr;c<i.length;c++)Mm(i[c],n)}function Ml(t,n,i){Mm(Rs(n,t),i)}function Mm(t,n){if(!function yc(t){return 128==(128&t[Ln])}(t))return;const i=t[Xt],c=t[Ln];if(80&c&&0===n||1024&c||2===n)yh(i,t,i.template,t[rr]);else if(t[vs]>0){Jp(t,1);const h=i.components;null!==h&&gu(t,h,1)}}function gu(t,n,i){for(let c=0;c<n.length;c++)Ml(t,n[c],i)}class mu{get rootNodes(){const n=this._lView,i=n[Xt];return hd(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[rr]}set context(n){this._lView[rr]=n}get destroyed(){return 256==(256&this._lView[Ln])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[mr];if(He(n)){const i=n[8],c=i?i.indexOf(this):-1;c>-1&&(up(n,c),Fu(i,c))}this._attachedToViewContainer=!1}af(this._lView[Xt],this._lView)}onDestroy(n){!function Gf(t,n){if(256==(256&t[Ln]))throw new ze(911,!1);null===t[hs]&&(t[hs]=[]),t[hs].push(n)}(this._lView,n)}markForCheck(){Cf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ln]&=-129}reattach(){this._lView[Ln]|=128}detectChanges(){Sl(this._lView[Xt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Lg(t,n){El(t,n,n[jn],2,null,null)}(this._lView[Xt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new ze(902,!1);this._appRef=n}}class _u extends mu{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Sl(n[Xt],n,n[rr],!1)}checkNoChanges(){}get context(){return null}}class Pm extends zp{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Pn(n);return new sc(i,this.ngModule)}}function ro(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class Xp{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,c){c=an(c);const h=this.injector.get(n,mm,c);return h!==mm||i===mm?h:this.parentInjector.get(n,i,c)}}class sc extends ev{get inputs(){const n=this.componentDef,i=n.inputTransforms,c=ro(n.inputs);if(null!==i)for(const h of c)i.hasOwnProperty(h.propName)&&(h.transform=i[h.propName]);return c}get outputs(){return ro(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Gi(t){return t.map(bi).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,c,h){let m=(h=h||this.ngModule)instanceof Uc?h:h?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const T=m?new Xp(n,m):n,D=T.get(bf,null);if(null===D)throw new ze(407,!1);const Te={rendererFactory:D,sanitizer:T.get(rv,null),effectManager:T.get(Dm,null),afterRenderEventManager:T.get(Tm,null)},Ge=D.createRenderer(null,this.componentDef),nt=this.componentDef.selectors[0][0]||"div",Pt=c?function Hr(t,n,i,c){const m=c.get(hv,!1)||i===_s.ShadowDom,T=t.selectRootElement(n,m);return function Er(t){Ke(t)}(T),T}(Ge,c,this.componentDef.encapsulation,T):lp(Ge,nt,function ny(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(nt)),Zn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Bt=null;null!==Pt&&(Bt=uh(Pt,T,!0));const Ir=Sn(0,null,null,1,0,null,null,null,null,null,null),Vr=ie(null,Ir,null,Zn,null,null,Te,Ge,T,null,Bt);let Ni,Qc;qr(Vr);try{const zf=this.componentDef;let Py,MI=null;zf.findHostDirectiveDefs?(Py=[],MI=new Map,zf.findHostDirectiveDefs(zf,Py,MI),Py.push(zf)):Py=[zf];const iD=function Iv(t,n){const i=t[Xt],c=ir;return t[c]=n,ye(i,c,2,"#host",null)}(Vr,Pt),sD=function vh(t,n,i,c,h,m,T){const D=h[Xt];!function ry(t,n,i,c){for(const h of t)n.mergedAttrs=pr(n.mergedAttrs,h.hostAttrs);null!==n.mergedAttrs&&(Na(n,n.mergedAttrs,!0),null!==i&&vp(c,i,n))}(c,t,n,T);let O=null;null!==n&&(O=uh(n,h[Wi]));const z=m.rendererFactory.createRenderer(n,i);let re=16;i.signals?re=4096:i.onPush&&(re=64);const Te=ie(h,$n(i),null,re,h[t.index],t,m,z,null,null,O);return D.firstCreatePass&&K_(D,t,c.length-1),_h(h,Te),h[t.index]=Te}(iD,Pt,zf,Py,Vr,Te,Ge);Qc=Vl(Ir,ir),Pt&&function Pf(t,n,i,c){if(c)ea(t,i,["ng-version",x_.full]);else{const{attrs:h,classes:m}=function To(t){const n=[],i=[];let c=1,h=2;for(;c<t.length;){let m=t[c];if("string"==typeof m)2===h?""!==m&&n.push(m,t[++c]):8===h&&i.push(m);else{if(!Di(h))break;h=m}c++}return{attrs:n,classes:i}}(n.selectors[0]);h&&ea(t,i,h),m&&m.length>0&&kc(t,i,m.join(" "))}}(Ge,zf,Pt,c),void 0!==i&&function bv(t,n,i){const c=t.projection=[];for(let h=0;h<n.length;h++){const m=i[h];c.push(null!=m?Array.from(m):null)}}(Qc,this.ngContentSelectors,i),Ni=function Rm(t,n,i,c,h,m){const T=gs(),D=h[Xt],O=Ps(T,h);Z_(D,h,T,i,null,c);for(let re=0;re<i.length;re++)is(Zl(h,D,T.directiveStart+re,T),h);Dl(D,h,T),O&&is(O,h);const z=Zl(h,D,T.directiveStart+T.componentOffset,T);if(t[rr]=h[rr]=z,null!==m)for(const re of m)re(z,n);return Wt(D,T,t),z}(sD,zf,Py,MI,Vr,[xm]),Am(Ir,Vr,null)}finally{Ic()}return new cE(this.componentType,Ni,fh(Qc,Vr),Vr,Qc)}}class cE extends Kv{constructor(n,i,c,h,m){super(),this.location=c,this._rootLView=h,this._tNode=m,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new _u(h),this.componentType=n}setInput(n,i){const c=this._tNode.inputs;let h;if(null!==c&&(h=c[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const m=this._rootLView;Ns(m[Xt],m,h,n,i),this.previousInputValues.set(n,i),Cf(Rs(this._tNode.index,m))}}get injector(){return new ws(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function xm(){const t=gs();Oh(Ot()[Xt],t)}function Gc(t){let n=function Rf(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const c=[t];for(;n;){let h;if(gn(t))h=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new ze(903,!1);h=n.\u0275dir}if(h){if(i){c.push(h);const T=t;T.inputs=xf(t.inputs),T.inputTransforms=xf(t.inputTransforms),T.declaredInputs=xf(t.declaredInputs),T.outputs=xf(t.outputs);const D=h.hostBindings;D&&sy(t,D);const O=h.viewQuery,z=h.contentQueries;if(O&&Om(t,O),z&&eg(t,z),ve(t.inputs,h.inputs),ve(t.declaredInputs,h.declaredInputs),ve(t.outputs,h.outputs),null!==h.inputTransforms&&(null===T.inputTransforms&&(T.inputTransforms={}),ve(T.inputTransforms,h.inputTransforms)),gn(h)&&h.data.animation){const re=t.data;re.animation=(re.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let T=0;T<m.length;T++){const D=m[T];D&&D.ngInherit&&D(t),D===Gc&&(i=!1)}}n=Object.getPrototypeOf(n)}!function iy(t){let n=0,i=null;for(let c=t.length-1;c>=0;c--){const h=t[c];h.hostVars=n+=h.hostVars,h.hostAttrs=pr(h.hostAttrs,i=pr(i,h.hostAttrs))}}(c)}function xf(t){return t===ki?{}:t===gr?[]:t}function Om(t,n){const i=t.viewQuery;t.viewQuery=i?(c,h)=>{n(c,h),i(c,h)}:n}function eg(t,n){const i=t.contentQueries;t.contentQueries=i?(c,h,m)=>{n(c,h,m),i(c,h,m)}:n}function sy(t,n){const i=t.hostBindings;t.hostBindings=i?(c,h)=>{n(c,h),i(c,h)}:n}function km(t){const n=t.inputConfig,i={};for(const c in n)if(n.hasOwnProperty(c)){const h=n[c];Array.isArray(h)&&h[2]&&(i[c]=h[2])}t.inputTransforms=i}function pd(t){return!!ig(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function ig(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ka(t,n,i){return t[n]=i}function io(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function ac(t,n,i,c){const h=io(t,n,i);return io(t,n+1,c)||h}function Fa(t,n,i,c){const h=Ot();return io(h,ba(),n)&&(Dr(),ic(fi(),h,t,n,i,c)),Fa}function As(t,n,i,c){return io(t,ba(),i)?n+$e(i)+c:d}function La(t,n,i,c,h,m){const D=ac(t,function $o(){return Xn.lFrame.bindingIndex}(),i,h);return S(2),D?n+$e(i)+c+$e(h)+m:d}function zm(t,n,i,c,h,m,T,D){const O=Ot(),z=Dr(),re=t+ir,Te=z.firstCreatePass?function Sv(t,n,i,c,h,m,T,D,O){const z=n.consts,re=ye(n,t,4,T||null,po(z,D));pu(n,i,re,po(z,O)),Oh(n,re);const Te=re.tView=Sn(2,re,c,h,m,n.directiveRegistry,n.pipeRegistry,null,n.schemas,z,null);return null!==n.queries&&(n.queries.template(n,re),Te.queries=n.queries.embeddedTView(re)),re}(re,z,O,n,i,c,h,m,T):z.data[re];Ts(Te,!1);const Ge=Gm(z,O,Te,t);Bl()&&pp(z,O,Ge,Te),is(Ge,O),_h(O,O[re]=mh(Ge,O,Ge,Te)),on(Te)&&Ut(z,O,Te),null!=T&&An(O,Te,D)}let Gm=function _y(t,n,i,c){return ua(!0),n[jn].createComment("")};function vd(t){return la(function Md(){return Xn.lFrame.contextLView}(),ir+t)}function wh(t,n,i){const c=Ot();return io(c,ba(),n)&&Zo(Dr(),fi(),c,t,n,c[jn],i,!1),wh}function hg(t,n,i,c,h){const T=h?"class":"style";Ns(t,i,n.inputs[T],T,c)}function fg(t,n,i,c){const h=Ot(),m=Dr(),T=ir+t,D=h[jn],O=m.firstCreatePass?function yy(t,n,i,c,h,m){const T=n.consts,O=ye(n,t,2,c,po(T,h));return pu(n,i,O,po(T,m)),null!==O.attrs&&Na(O,O.attrs,!1),null!==O.mergedAttrs&&Na(O,O.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,O),O}(T,m,h,n,i,c):m.data[T],z=vy(m,h,O,D,n,t);h[T]=z;const re=on(O);return Ts(O,!0),vp(D,z,O),32!=(32&O.flags)&&Bl()&&pp(m,h,z,O),0===function Za(){return Xn.lFrame.elementDepthCount}()&&is(z,h),function Rh(){Xn.lFrame.elementDepthCount++}(),re&&(Ut(m,h,O),Wt(m,O,h)),null!==c&&An(h,O),fg}function Ah(){let t=gs();al()?Ec():(t=t.parent,Ts(t,!1));const n=t;(function xh(t){return Xn.skipHydrationRootTNode===t})(n)&&function yg(){Xn.skipHydrationRootTNode=null}(),function Ad(){Xn.lFrame.elementDepthCount--}();const i=Dr();return i.firstCreatePass&&(Oh(i,t),St(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Nd(t){return 0!=(8&t.flags)}(n)&&hg(i,n,Ot(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Hl(t){return 0!=(16&t.flags)}(n)&&hg(i,n,Ot(),n.stylesWithoutHost,!1),Ah}function ko(t,n,i,c){return fg(t,n,i,c),Ah(),ko}let vy=(t,n,i,c,h,m)=>(ua(!0),lp(c,h,function Ya(){return Xn.lFrame.currentNamespace}()));function Ci(){return Ot()}function Gs(t){return!!t&&"function"==typeof t.then}function Qr(t){return!!t&&"function"==typeof t.subscribe}function so(t,n,i,c){const h=Ot(),m=Dr(),T=gs();return function lc(t,n,i,c,h,m,T){const D=on(c),z=t.firstCreatePass&&Df(t),re=n[rr],Te=dd(n);let Ge=!0;if(3&c.type||T){const Zt=Ps(c,n),In=T?T(Zt):Zt,Zn=Te.length,Bt=T?Vr=>T(si(Vr[c.index])):c.index;let Ir=null;if(!T&&D&&(Ir=function jf(t,n,i,c){const h=t.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const T=h[m];if(T===i&&h[m+1]===c){const D=n[ni],O=h[m+2];return D.length>O?D[O]:null}"string"==typeof T&&(m+=2)}return null}(t,n,h,c.index)),null!==Ir)(Ir.__ngLastListenerFn__||Ir).__ngNextListenerFn__=m,Ir.__ngLastListenerFn__=m,Ge=!1;else{m=qm(c,n,re,m,!1);const Vr=i.listen(In,h,m);Te.push(m,Vr),z&&z.push(h,Bt,Zn,Zn+1)}}else m=qm(c,n,re,m,!1);const nt=c.outputs;let Pt;if(Ge&&null!==nt&&(Pt=nt[h])){const Zt=Pt.length;if(Zt)for(let In=0;In<Zt;In+=2){const Ni=n[Pt[In]][Pt[In+1]].subscribe(m),Qc=Te.length;Te.push(m,Ni),z&&z.push(h,c.index,Qc,-(Qc+1))}}}(m,h,h[jn],T,t,n,c),so}function pg(t,n,i,c){try{return Yn(6,n,i),!1!==i(c)}catch(h){return no(t,h),!1}finally{Yn(7,n,i)}}function qm(t,n,i,c,h){return function m(T){if(T===Function)return c;Cf(t.componentOffset>-1?Rs(t.index,n):n);let O=pg(n,i,c,T),z=m.__ngNextListenerFn__;for(;z;)O=pg(n,i,z,T)&&O,z=z.__ngNextListenerFn__;return h&&!1===O&&T.preventDefault(),O}}function zE(t=1){return function mo(t){return(Xn.lFrame.contextLView=function Mu(t,n){for(;t>0;)n=n[mi],t--;return n}(t,Xn.lFrame.contextLView))[rr]}(t)}function PI(t,n){let i=null;const c=function Ba(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(t);for(let h=0;h<n.length;h++){const m=n[h];if("*"!==m){if(null===c?Br(t,m,!0):ra(c,m))return h}else i=h}return i}function GE(t){const n=Ot()[kn][zr];if(!n.projection){const c=n.projection=Jl(t?t.length:1,null),h=c.slice();let m=n.child;for(;null!==m;){const T=t?PI(m,t):0;null!==T&&(h[T]?h[T].projectionNext=m:c[T]=m,h[T]=m),m=m.next}}}function qE(t,n=0,i){const c=Ot(),h=Dr(),m=ye(h,ir+t,16,null,i||null);null===m.projection&&(m.projection=n),Ec(),(!c[Kn]||Ka())&&32!=(32&m.flags)&&function ou(t,n,i){_p(n[jn],0,n,i,cf(t,i,n),Hg(i.parent||n[zr],i,n))}(h,c,m)}function dE(t,n,i){return Pv(t,"",n,"",i),dE}function Pv(t,n,i,c,h){const m=Ot(),T=As(m,n,i,c);return T!==d&&Zo(Dr(),fi(),m,t,T,m[jn],h,!1),Pv}function Rv(t,n){return t<<17|n<<2}function Hf(t){return t>>17&32767}function hE(t){return 2|t}function gg(t){return(131068&t)>>2}function fE(t,n){return-131069&t|n<<2}function pE(t){return 1|t}function t0(t,n,i,c,h){const m=t[i+1],T=null===n;let D=c?Hf(m):gg(m),O=!1;for(;0!==D&&(!1===O||T);){const re=t[D+1];FI(t[D],n)&&(O=!0,t[D+1]=c?pE(re):hE(re)),D=c?Hf(re):gg(re)}O&&(t[i+1]=c?hE(m):pE(m))}function FI(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&ec(t,n)>=0}function Nv(t,n){return function bu(t,n,i,c){const h=Ot(),m=Dr(),T=S(2);m.firstUpdatePass&&function f0(t,n,i,c){const h=t.data;if(null===h[i+1]){const m=h[js()],T=function h0(t,n){return n>=t.expandoStartIndex}(t,i);(function _0(t,n){return 0!=(t.flags&(n?8:16))})(m,c)&&null===n&&!T&&(n=!1),n=function BI(t,n,i,c){const h=function Ce(t){const n=Xn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let m=c?n.residualClasses:n.residualStyles;if(null===h)0===(c?n.classBindings:n.styleBindings)&&(i=Ey(i=_E(null,t,n,i,c),n.attrs,c),m=null);else{const T=n.directiveStylingLast;if(-1===T||t[T]!==h)if(i=_E(h,t,n,i,c),null===m){let O=function jI(t,n,i){const c=i?n.classBindings:n.styleBindings;if(0!==gg(c))return t[Hf(c)]}(t,n,c);void 0!==O&&Array.isArray(O)&&(O=_E(null,t,n,O[1],c),O=Ey(O,n.attrs,c),function HI(t,n,i,c){t[Hf(i?n.classBindings:n.styleBindings)]=c}(t,n,c,O))}else m=function $I(t,n,i){let c;const h=n.directiveEnd;for(let m=1+n.directiveStylingLast;m<h;m++)c=Ey(c,t[m].hostAttrs,i);return Ey(c,n.attrs,i)}(t,n,c)}return void 0!==m&&(c?n.residualClasses=m:n.residualStyles=m),i}(h,m,n,c),function NI(t,n,i,c,h,m){let T=m?n.classBindings:n.styleBindings,D=Hf(T),O=gg(T);t[c]=i;let re,z=!1;if(Array.isArray(i)?(re=i[1],(null===re||ec(i,re)>0)&&(z=!0)):re=i,h)if(0!==O){const Ge=Hf(t[D+1]);t[c+1]=Rv(Ge,D),0!==Ge&&(t[Ge+1]=fE(t[Ge+1],c)),t[D+1]=function xI(t,n){return 131071&t|n<<17}(t[D+1],c)}else t[c+1]=Rv(D,0),0!==D&&(t[D+1]=fE(t[D+1],c)),D=c;else t[c+1]=Rv(O,0),0===D?D=c:t[O+1]=fE(t[O+1],c),O=c;z&&(t[c+1]=hE(t[c+1])),t0(t,re,c,!0),t0(t,re,c,!1),function kI(t,n,i,c,h){const m=h?t.residualClasses:t.residualStyles;null!=m&&"string"==typeof n&&ec(m,n)>=0&&(i[c+1]=pE(i[c+1]))}(n,re,t,c,m),T=Rv(D,O),m?n.classBindings=T:n.styleBindings=T}(h,m,n,i,T,c)}}(m,t,T,c),n!==d&&io(h,T,n)&&function g0(t,n,i,c,h,m,T,D){if(!(3&n.type))return;const O=t.data,z=O[D+1],re=function OI(t){return 1==(1&t)}(z)?m0(O,n,i,h,gg(z),T):void 0;kv(re)||(kv(m)||function RI(t){return 2==(2&t)}(z)&&(m=m0(O,null,i,h,D,T)),function h_(t,n,i,c,h){if(n)h?t.addClass(i,c):t.removeClass(i,c);else{let m=-1===c.indexOf("-")?void 0:Zd.DashCase;null==h?t.removeStyle(i,c,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=Zd.Important),t.setStyle(i,c,h,m))}}(c,T,Uo(js(),i),h,m))}(m,m.data[js()],h,h[jn],t,h[T+1]=function WI(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Oe($s(t)))),t}(n,i),c,T)}(t,n,null,!0),Nv}function _E(t,n,i,c,h){let m=null;const T=i.directiveEnd;let D=i.directiveStylingLast;for(-1===D?D=i.directiveStart:D++;D<T&&(m=n[D],c=Ey(c,m.hostAttrs,h),m!==t);)D++;return null!==t&&(i.directiveStylingLast=D),c}function Ey(t,n,i){const c=i?1:2;let h=-1;if(null!==n)for(let m=0;m<n.length;m++){const T=n[m];"number"==typeof T?h=T:h===c&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Po(t,T,!!i||n[++m]))}return void 0===t?null:t}function m0(t,n,i,c,h,m){const T=null===n;let D;for(;h>0;){const O=t[h],z=Array.isArray(O),re=z?O[1]:O,Te=null===re;let Ge=i[h+1];Ge===d&&(Ge=Te?gr:void 0);let nt=Te?Hh(Ge,c):re===c?Ge:void 0;if(z&&!kv(nt)&&(nt=Hh(O,c)),kv(nt)&&(D=nt,T))return D;const Pt=t[h+1];h=T?Hf(Pt):gg(Pt)}if(null!==n){let O=m?n.residualClasses:n.residualStyles;null!=O&&(D=Hh(O,c))}return D}function kv(t){return void 0!==t}function y0(t,n=""){const i=Ot(),c=Dr(),h=t+ir,m=c.firstCreatePass?ye(c,h,1,n,null):c.data[h],T=v0(c,i,m,n,t);i[h]=T,Bl()&&pp(c,i,T,m),Ts(m,!1)}let v0=(t,n,i,c,h)=>(ua(!0),function Qd(t,n){return t.createText(n)}(n[jn],c));function yE(t){return Fv("",t,""),yE}function Fv(t,n,i){const c=Ot(),h=As(c,t,n,i);return h!==d&&pa(c,js(),h),Fv}function vE(t,n,i,c,h){const m=Ot(),T=La(m,t,n,i,c,h);return T!==d&&pa(m,js(),T),vE}const mg=void 0;var pb=["en",[["a","p"],["AM","PM"],mg],[["AM","PM"],mg,mg],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],mg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],mg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",mg,"{1} 'at' {0}",mg],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function fb(t){const i=Math.floor(Math.abs(t)),c=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===c?1:5}];let Zm={};function EE(t){const n=function gb(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=B0(n);if(i)return i;const c=n.split("-")[0];if(i=B0(c),i)return i;if("en"===c)return pb;throw new ze(701,!1)}function U0(t){return EE(t)[Km.PluralCase]}function B0(t){return t in Zm||(Zm[t]=Bn.ng&&Bn.ng.common&&Bn.ng.common.locales&&Bn.ng.common.locales[t]),Zm[t]}var Km=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Km||{});const Ym="en-US";let IE=Ym;function Y0(t,n,i,c,h){if(t=mt(t),Array.isArray(t))for(let m=0;m<t.length;m++)Y0(t[m],n,i,c,h);else{const m=Dr(),T=Ot(),D=gs();let O=td(t)?t:mt(t.provide);const z=w_(t),re=1048575&D.providerIndexes,Te=D.directiveStart,Ge=D.providerIndexes>>20;if(td(t)||!t.multi){const nt=new Qa(z,h,R),Pt=J0(O,n,h?re:re+Ge,Te);-1===Pt?(Tc(ql(D,T),m,O),Q0(m,t,n.length),n.push(O),D.directiveStart++,D.directiveEnd++,h&&(D.providerIndexes+=1048576),i.push(nt),T.push(nt)):(i[Pt]=nt,T[Pt]=nt)}else{const nt=J0(O,n,re+Ge,Te),Pt=J0(O,n,re,re+Ge),In=Pt>=0&&i[Pt];if(h&&!In||!h&&!(nt>=0&&i[nt])){Tc(ql(D,T),m,O);const Zn=function SC(t,n,i,c,h){const m=new Qa(t,i,R);return m.multi=[],m.index=n,m.componentProviders=0,Pb(m,h,c&&!i),m}(h?DC:AC,i.length,h,c,z);!h&&In&&(i[Pt].providerFactory=Zn),Q0(m,t,n.length,0),n.push(O),D.directiveStart++,D.directiveEnd++,h&&(D.providerIndexes+=1048576),i.push(Zn),T.push(Zn)}else Q0(m,t,nt>-1?nt:Pt,Pb(i[h?Pt:nt],z,!h&&c));!h&&c&&In&&i[Pt].componentProviders++}}}function Q0(t,n,i,c){const h=td(n),m=function vi(t){return!!t.useClass}(n);if(h||m){const O=(m?mt(n.useClass):n).prototype.ngOnDestroy;if(O){const z=t.destroyHooks||(t.destroyHooks=[]);if(!h&&n.multi){const re=z.indexOf(i);-1===re?z.push(i,[c,O]):z[re+1].push(c,O)}else z.push(i,O)}}}function Pb(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function J0(t,n,i,c){for(let h=i;h<c;h++)if(n[h]===t)return h;return-1}function AC(t,n,i,c){return X0(this.multi,[])}function DC(t,n,i,c){const h=this.multi;let m;if(this.providerFactory){const T=this.providerFactory.componentProviders,D=Zl(i,i[Xt],this.providerFactory.index,c);m=D.slice(0,T),X0(h,m);for(let O=T;O<D.length;O++)m.push(D[O])}else m=[],X0(h,m);return m}function X0(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function Rb(t,n=[]){return i=>{i.providersResolver=(c,h)=>function wC(t,n,i){const c=Dr();if(c.firstCreatePass){const h=gn(t);Y0(i,c.data,c.blueprint,h,!0),Y0(n,c.data,c.blueprint,h,!1)}}(c,h?h(t):t,n)}}class Jm{}class xb{}function MC(t,n){return new eI(t,n??null,[])}class eI extends Jm{constructor(n,i,c){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Pm(this);const h=xr(n);this._bootstrapComponents=Al(h.bootstrap),this._r3Injector=iv(n,i,[{provide:Jm,useValue:this},{provide:zp,useValue:this.componentFactoryResolver},...c],Oe(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class tI extends xb{constructor(n){super(),this.moduleType=n}create(n){return new eI(this.moduleType,n,[])}}class Ob extends Jm{constructor(n){super(),this.componentFactoryResolver=new Pm(this),this.instance=null;const i=new nd([...n.providers,{provide:Jm,useValue:this},{provide:zp,useValue:this.componentFactoryResolver}],n.parent||pf(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Nb(t,n,i=null){return new Ob({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let RC=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const c=rc(0,i.type),h=c.length>0?Nb([c],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,h)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=pn({token:t,providedIn:"environment",factory:()=>new t(Rt(Uc))})}return t})();function kb(t){t.getStandaloneInjector=n=>n.get(RC).getOrCreateStandaloneInjector(t)}function Hb(t,n,i,c){return $b(Ot(),Bs(),t,n,i,c)}function Hv(t,n){const i=t[n];return i===d?void 0:i}function $b(t,n,i,c,h,m){const T=n+i;return io(t,T,h)?ka(t,T+1,m?c.call(m,h):c(h)):Hv(t,T+1)}function Zb(t,n){const i=Dr();let c;const h=t+ir;i.firstCreatePass?(c=function KC(t,n){if(n)for(let i=n.length-1;i>=0;i--){const c=n[i];if(t===c.name)return c}}(n,i.pipeRegistry),i.data[h]=c,c.onDestroy&&(i.destroyHooks??=[]).push(h,c.onDestroy)):c=i.data[h];const m=c.factory||(c.factory=Ws(c.type)),D=Nr(R);try{const O=da(!1),z=m();return da(O),function dg(t,n,i,c){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=c}(i,Ot(),h,z),z}finally{Nr(D)}}function Kb(t,n,i){const c=t+ir,h=Ot(),m=la(h,c);return $v(h,c)?$b(h,Bs(),n,m.transform,i,m):m.transform(i)}function Yb(t,n,i,c){const h=t+ir,m=Ot(),T=la(m,h);return $v(m,h)?function zb(t,n,i,c,h,m,T){const D=n+i;return ac(t,D,h,m)?ka(t,D+2,T?c.call(T,h,m):c(h,m)):Hv(t,D+2)}(m,Bs(),n,T.transform,i,c,T):T.transform(i,c)}function $v(t,n){return t[Xt].data[n].pure}function XC(){return this._results[Symbol.iterator]()}class rI{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Wo)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=rI.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=XC)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const c=this;c.dirty=!1;const h=function Os(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Jf(t,n,i){if(t.length!==n.length)return!1;for(let c=0;c<t.length;c++){let h=t[c],m=n[c];if(i&&(h=i(h),m=i(m)),m!==h)return!1}return!0}(c._results,h,i))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function tw(t,n,i,c=!0){const h=n[Xt];if(function rf(t,n,i,c){const h=Kr+c,m=i.length;c>0&&(i[h-1][gi]=n),c<m-Kr?(n[gi]=i[h],fl(i,Kr+c,n)):(i.push(n),n[gi]=null),n[mr]=i;const T=n[Xi];null!==T&&i!==T&&function sf(t,n){const i=t[co];n[kn]!==n[mr][mr][kn]&&(t[Ri]=!0),null===i?t[co]=[n]:i.push(n)}(T,n);const D=n[ds];null!==D&&D.insertView(t),n[Ln]|=128}(h,n,t,i),c){const m=lf(i,t),T=n[jn],D=vl(T,t[es]);null!==D&&function qu(t,n,i,c,h,m){c[br]=h,c[zr]=n,El(t,c,i,1,h,m)}(h,t[zr],T,n,D,m)}}let zv=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=iw}return t})();const nw=zv,rw=class extends nw{constructor(n,i,c){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,c){const h=function ew(t,n,i,c){const h=n.tView,D=ie(t,h,i,4096&t[Ln]?4096:16,null,n,null,null,null,c?.injector??null,c?.hydrationInfo??null);D[Xi]=t[n.index];const z=t[ds];return null!==z&&(D[ds]=z.createEmbeddedView(h)),Am(h,D,i),D}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:c});return new mu(h)}};function iw(){return PE(gs(),Ot())}function PE(t,n){return 4&t.type?new rw(n,t,fh(t,n)):null}let xE=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=uw}return t})();function uw(){return rT(gs(),Ot())}const dw=xE,tT=class extends dw{constructor(n,i,c){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=c}get element(){return fh(this._hostTNode,this._hostLView)}get injector(){return new ws(this._hostTNode,this._hostLView)}get parentInjector(){const n=Wl(this._hostTNode,this._hostLView);if($l(n)){const i=So(n,this._hostLView),c=zl(n);return new ws(i[Xt].data[c+8],i)}return new ws(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=nT(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-Kr}createEmbeddedView(n,i,c){let h,m;"number"==typeof c?h=c:null!=c&&(h=c.index,m=c.injector);const D=n.createEmbeddedViewImpl(i||{},m,null);return this.insertImpl(D,h,false),D}createComponent(n,i,c,h,m){const T=n&&!function hl(t){return"function"==typeof t}(n);let D;if(T)D=i;else{const Zt=i||{};D=Zt.index,c=Zt.injector,h=Zt.projectableNodes,m=Zt.environmentInjector||Zt.ngModuleRef}const O=T?n:new sc(Pn(n)),z=c||this.parentInjector;if(!m&&null==O.ngModule){const In=(T?z:this.parentInjector).get(Uc,null);In&&(m=In)}Pn(O.componentType??{});const nt=O.create(z,h,null,m);return this.insertImpl(nt.hostView,D,false),nt}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,c){const h=n._lView;if(function Du(t){return He(t[mr])}(h)){const O=this.indexOf(n);if(-1!==O)this.detach(O);else{const z=h[mr],re=new tT(z,z[zr],z[mr]);re.detach(re.indexOf(n))}}const T=this._adjustIndex(i),D=this._lContainer;return tw(D,h,T,!c),n.attachToViewContainerRef(),fl(iI(D),T,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=nT(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),c=up(this._lContainer,i);c&&(Fu(iI(this._lContainer),i),af(c[Xt],c))}detach(n){const i=this._adjustIndex(n,-1),c=up(this._lContainer,i);return c&&null!=Fu(iI(this._lContainer),i)?new mu(c):null}_adjustIndex(n,i=0){return n??this.length+i}};function nT(t){return t[8]}function iI(t){return t[8]||(t[8]=[])}function rT(t,n){let i;const c=n[t.index];return He(c)?i=c:(i=mh(c,n,null,t),n[t.index]=i,_h(n,i)),iT(i,n,t,c),new tT(i,t,n)}let iT=function sT(t,n,i,c){if(t[es])return;let h;h=8&i.type?si(c):function hw(t,n){const i=t[jn],c=i.createComment(""),h=Ps(n,t);return Nc(i,vl(i,h),c,function hp(t,n){return t.nextSibling(n)}(i,h),!1),c}(n,i),t[es]=h};class sI{constructor(n){this.queryList=n,this.matches=null}clone(){return new sI(this.queryList)}setDirty(){this.queryList.setDirty()}}class oI{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const c=null!==n.contentQueries?n.contentQueries[0]:i.length,h=[];for(let m=0;m<c;m++){const T=i.getByIndex(m);h.push(this.queries[T.indexInDeclarationView].clone())}return new oI(h)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==fT(n,i).matches&&this.queries[i].setDirty()}}class oT{constructor(n,i,c=null){this.predicate=n,this.flags=i,this.read=c}}class aI{constructor(n=[]){this.queries=n}elementStart(n,i){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let c=0;c<this.length;c++){const h=null!==i?i.length:0,m=this.getByIndex(c).embeddedTView(n,h);m&&(m.indexInDeclarationView=c,null!==i?i.push(m):i=[m])}return null!==i?new aI(i):null}template(n,i){for(let c=0;c<this.queries.length;c++)this.queries[c].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class cI{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new cI(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let c=n.parent;for(;null!==c&&8&c.type&&c.index!==i;)c=c.parent;return i===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const m=c[h];this.matchTNodeWithReadOption(n,i,gw(i,m)),this.matchTNodeWithReadOption(n,i,Bd(i,n,m,!1,!1))}else c===zv?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Bd(i,n,c,!1,!1))}matchTNodeWithReadOption(n,i,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===Ef||h===xE||h===zv&&4&i.type)this.addMatch(i.index,-2);else{const m=Bd(i,n,h,!1,!1);null!==m&&this.addMatch(i.index,m)}else this.addMatch(i.index,c)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function gw(t,n){const i=t.localNames;if(null!==i)for(let c=0;c<i.length;c+=2)if(i[c]===n)return i[c+1];return null}function _w(t,n,i,c){return-1===i?function mw(t,n){return 11&t.type?fh(t,n):4&t.type?PE(t,n):null}(n,t):-2===i?function yw(t,n,i){return i===Ef?fh(n,t):i===zv?PE(n,t):i===xE?rT(n,t):void 0}(t,n,c):Zl(t,t[Xt],i,n)}function aT(t,n,i,c){const h=n[ds].queries[c];if(null===h.matches){const m=t.data,T=i.matches,D=[];for(let O=0;O<T.length;O+=2){const z=T[O];D.push(z<0?null:_w(n,m[z],T[O+1],i.metadata.read))}h.matches=D}return h.matches}function lI(t,n,i,c){const h=t.queries.getByIndex(i),m=h.matches;if(null!==m){const T=aT(t,n,h,i);for(let D=0;D<m.length;D+=2){const O=m[D];if(O>0)c.push(T[D/2]);else{const z=m[D+1],re=n[-O];for(let Te=Kr;Te<re.length;Te++){const Ge=re[Te];Ge[Xi]===Ge[mr]&&lI(Ge[Xt],Ge,z,c)}if(null!==re[co]){const Te=re[co];for(let Ge=0;Ge<Te.length;Ge++){const nt=Te[Ge];lI(nt[Xt],nt,z,c)}}}}}return c}function cT(t){const n=Ot(),i=Dr(),c=ct();ut(c+1);const h=fT(i,c);if(t.dirty&&function sl(t){return 4==(4&t[Ln])}(n)===(2==(2&h.metadata.flags))){if(null===h.matches)t.reset([]);else{const m=h.crossesNgTemplate?lI(i,n,c,[]):aT(i,n,h,c);t.reset(m,If),t.notifyOnChanges()}return!0}return!1}function lT(t,n,i,c){const h=Dr();if(h.firstCreatePass){const m=gs();(function hT(t,n,i){null===t.queries&&(t.queries=new aI),t.queries.track(new cI(n,i))})(h,new oT(n,i,c),m.index),function Iw(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(h,t),2==(2&i)&&(h.staticContentQueries=!0)}!function dT(t,n,i){const c=new rI(4==(4&i));(function Qe(t,n,i,c){const h=dd(n);h.push(i),t.firstCreatePass&&Df(t).push(c,h.length-1)})(t,n,c,c.destroy),null===n[ds]&&(n[ds]=new oI),n[ds].queries.push(new sI(c))}(h,Ot(),i)}function uT(){return function Ew(t,n){return t[ds].queries[n].queryList}(Ot(),ct())}function fT(t,n){return t.queries.getByIndex(n)}function uI(t){return!!xr(t)}const PT=new sn("Application Initializer");let gI=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,c)=>{this.resolve=i,this.reject=c}),this.appInits=nn(PT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const h of this.appInits){const m=h();if(Gs(m))i.push(m);else if(Qr(m)){const T=new Promise((D,O)=>{m.subscribe({complete:D,error:O})});i.push(T)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{c()}).catch(h=>{this.reject(h)}),0===i.length&&c(),this.initialized=!0}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=pn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),RT=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=pn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const NE=new sn("LocaleId",{providedIn:"root",factory:()=>nn(NE,En.Optional|En.SkipSelf)||function $w(){return typeof $localize<"u"&&$localize.locale||Ym}()}),zw=new sn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let xT=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ee.X(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=pn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class qw{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let Ww=(()=>{class t{compileModuleSync(i){return new tI(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const c=this.compileModuleSync(i),m=Al(xr(i).declarations).reduce((T,D)=>{const O=Pn(D);return O&&T.push(new sc(O)),T},[]);return new qw(c,m)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=pn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const FT=new sn(""),LT=new sn("");let yI,gA=(()=>{class t{constructor(i,c,h){this._ngZone=i,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,yI||(function mA(t){yI=t}(h),h.addToWindow(c)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$i.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(i)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,c,h){let m=-1;c&&c>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==m),i(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:i,timeoutId:m,updateCb:h})}whenStable(i,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,c,h){return[]}static#e=this.\u0275fac=function(c){return new(c||t)(Rt($i),Rt(VT),Rt(LT))};static#t=this.\u0275prov=pn({token:t,factory:t.\u0275fac})}return t})(),VT=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,c){this._applications.set(i,c)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,c=!0){return yI?.findTestabilityInTree(this,i,c)??null}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=pn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),_g=null;const UT=new sn("AllowMultipleToken"),vI=new sn("PlatformDestroyListeners"),EI=new sn("appBootstrapListener");class vA{constructor(n,i){this.name=n,this.token=i}}function HT(t,n,i=[]){const c=`Platform: ${n}`,h=new sn(c);return(m=[])=>{let T=II();if(!T||T.injector.get(UT,!1)){const D=[...i,...m,{provide:h,useValue:!0}];t?t(D):function EA(t){if(_g&&!_g.get(UT,!1))throw new ze(400,!1);(function BT(){!function Ll(t){qa=t}(()=>{throw new ze(600,!1)})})(),_g=t;const n=t.get(zT);(function jT(t){t.get(Tl,null)?.forEach(i=>i())})(t)}(function $T(t=[],n){return xa.create({name:n,providers:[{provide:C_,useValue:"platform"},{provide:vI,useValue:new Set([()=>_g=null])},...t]})}(D,c))}return function bA(t){const n=II();if(!n)throw new ze(401,!1);return n}()}}function II(){return _g?.get(zT)??null}let zT=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,c){const h=function TA(t="zone.js",n){return"noop"===t?new tE:"zone.js"===t?new $i(n):t}(c?.ngZone,function GT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return h.run(()=>{const m=function PC(t,n,i){return new eI(t,n,i)}(i.moduleType,this.injector,function YT(t){return[{provide:$i,useFactory:t},{provide:ed,multi:!0,useFactory:()=>{const n=nn(wA,{optional:!0});return()=>n.initialize()}},{provide:KT,useFactory:CA},{provide:av,useFactory:cv}]}(()=>h)),T=m.injector.get(ad,null);return h.runOutsideAngular(()=>{const D=h.onError.subscribe({next:O=>{T.handleError(O)}});m.onDestroy(()=>{FE(this._modules,m),D.unsubscribe()})}),function qT(t,n,i){try{const c=i();return Gs(c)?c.catch(h=>{throw n.runOutsideAngular(()=>t.handleError(h)),h}):c}catch(c){throw n.runOutsideAngular(()=>t.handleError(c)),c}}(T,h,()=>{const D=m.injector.get(gI);return D.runInitializers(),D.donePromise.then(()=>(function H0(t){Jt(t,"Expected localeId to be defined"),"string"==typeof t&&(IE=t.toLowerCase().replace(/_/g,"-"))}(m.injector.get(NE,Ym)||Ym),this._moduleDoBootstrap(m),m))})})}bootstrapModule(i,c=[]){const h=WT({},c);return function _A(t,n,i){const c=new tI(i);return Promise.resolve(c)}(0,0,i).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(i){const c=i.injector.get(My);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!i.instance.ngDoBootstrap)throw new ze(-403,!1);i.instance.ngDoBootstrap(c)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ze(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const i=this._injector.get(vI,null);i&&(i.forEach(c=>c()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(c){return new(c||t)(Rt(xa))};static#t=this.\u0275prov=pn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function WT(t,n){return Array.isArray(n)?n.reduce(WT,t):{...t,...n}}let My=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=nn(KT),this.zoneIsStable=nn(av),this.componentTypes=[],this.components=[],this.isStable=nn(xT).hasPendingTasks.pipe((0,Ae.w)(i=>i?(0,Pe.of)(!1):this.zoneIsStable),(0,xe.x)(),(0,me.B)()),this._injector=nn(Uc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,c){const h=i instanceof ev;if(!this._injector.get(gI).done)throw!h&&Mi(i),new ze(405,!1);let T;T=h?i:this._injector.get(zp).resolveComponentFactory(i),this.componentTypes.push(T.componentType);const D=function yA(t){return t.isBoundToModule}(T)?void 0:this._injector.get(Jm),z=T.create(xa.NULL,[],c||T.selector,D),re=z.location.nativeElement,Te=z.injector.get(FT,null);return Te?.registerApplication(re),z.onDestroy(()=>{this.detachView(z.hostView),FE(this.components,z),Te?.unregisterApplication(re)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new ze(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const c=i;this._views.push(c),c.attachToAppRef(this)}detachView(i){const c=i;FE(this._views,c),c.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const c=this._injector.get(EI,[]);c.push(...this._bootstrapListeners),c.forEach(h=>h(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>FE(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new ze(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=pn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function FE(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const KT=new sn("",{providedIn:"root",factory:()=>nn(ad).handleError.bind(void 0)});function CA(){const t=nn($i),n=nn(ad);return i=>t.runOutsideAngular(()=>n.handleError(i))}let wA=(()=>{class t{constructor(){this.zone=nn($i),this.applicationRef=nn(My)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=pn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function DA(){return!1}let SA=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=MA}return t})();function MA(t){return function PA(t,n,i){if(Vt(t)&&!i){const c=Rs(t.index,n);return new mu(c,c)}return 47&t.type?new mu(n[kn],n):null}(gs(),Ot(),16==(16&t))}class eC{constructor(){}supports(n){return pd(n)}create(n){return new FA(n)}}const kA=(t,n)=>n;class FA{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||kA}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,c=this._removalsHead,h=0,m=null;for(;i||c;){const T=!c||i&&i.currentIndex<nC(c,h,m)?i:c,D=nC(T,h,m),O=T.currentIndex;if(T===c)h--,c=c._nextRemoved;else if(i=i._next,null==T.previousIndex)h++;else{m||(m=[]);const z=D-h,re=O-h;if(z!=re){for(let Ge=0;Ge<z;Ge++){const nt=Ge<m.length?m[Ge]:m[Ge]=0,Pt=nt+Ge;re<=Pt&&Pt<z&&(m[Ge]=nt+1)}m[T.previousIndex]=re-z}}D!==O&&n(T,D,O)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!pd(n))throw new ze(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let h,m,T,i=this._itHead,c=!1;if(Array.isArray(n)){this.length=n.length;for(let D=0;D<this.length;D++)m=n[D],T=this._trackByFn(D,m),null!==i&&Object.is(i.trackById,T)?(c&&(i=this._verifyReinsertion(i,m,T,D)),Object.is(i.item,m)||this._addIdentityChange(i,m)):(i=this._mismatch(i,m,T,D),c=!0),i=i._next}else h=0,function Of(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let c;for(;!(c=i.next()).done;)n(c.value)}}(n,D=>{T=this._trackByFn(h,D),null!==i&&Object.is(i.trackById,T)?(c&&(i=this._verifyReinsertion(i,D,T,h)),Object.is(i.item,D)||this._addIdentityChange(i,D)):(i=this._mismatch(i,D,T,h),c=!0),i=i._next,h++}),this.length=h;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,c,h){let m;return null===n?m=this._itTail:(m=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,m,h)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,m,h)):n=this._addAfter(new LA(i,c),m,h),n}_verifyReinsertion(n,i,c,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==m?n=this._reinsertAfter(m,n._prev,h):n.currentIndex!=h&&(n.currentIndex=h,this._addToMoves(n,h)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const h=n._prevRemoved,m=n._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(n,i,c),this._addToMoves(n,c),n}_moveAfter(n,i,c){return this._unlink(n),this._insertAfter(n,i,c),this._addToMoves(n,c),n}_addAfter(n,i,c){return this._insertAfter(n,i,c),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,c){const h=null===i?this._itHead:i._next;return n._next=h,n._prev=i,null===h?this._itTail=n:h._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new tC),this._linkedRecords.put(n),n.currentIndex=c,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,c=n._next;return null===i?this._itHead=c:i._next=c,null===c?this._itTail=i:c._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new tC),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class LA{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class VA{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===i||i<=c.currentIndex)&&Object.is(c.trackById,n))return c;return null}remove(n){const i=n._prevDup,c=n._nextDup;return null===i?this._head=c:i._nextDup=c,null===c?this._tail=i:c._prevDup=i,null===this._head}}class tC{constructor(){this.map=new Map}put(n){const i=n.trackById;let c=this.map.get(i);c||(c=new VA,this.map.set(i,c)),c.add(n)}get(n,i){const h=this.map.get(n);return h?h.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function nC(t,n,i){const c=t.previousIndex;if(null===c)return c;let h=0;return i&&c<i.length&&(h=i[c]),c+n+h}class rC{constructor(){}supports(n){return n instanceof Map||ig(n)}create(){return new UA}}class UA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||ig(n)))throw new ze(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(c,h)=>{if(i&&i.key===h)this._maybeAddToChanges(i,c),this._appendAfter=i,i=i._next;else{const m=this._getOrCreateRecordForKey(h,c);i=this._insertBeforeOrAppend(i,m)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let c=i;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const c=n._prev;return i._next=n,i._prev=c,n._prev=i,c&&(c._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const h=this._records.get(n);this._maybeAddToChanges(h,i);const m=h._prev,T=h._next;return m&&(m._next=T),T&&(T._prev=m),h._next=null,h._prev=null,h}const c=new BA(n);return this._records.set(n,c),c.currentValue=i,this._addToAdditions(c),c}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(c=>i(n[c],c))}}class BA{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function iC(){return new AI([new eC])}let AI=(()=>{class t{static#e=this.\u0275prov=pn({token:t,providedIn:"root",factory:iC});constructor(i){this.factories=i}static create(i,c){if(null!=c){const h=c.factories.slice();i=i.concat(h)}return new t(i)}static extend(i){return{provide:t,useFactory:c=>t.create(i,c||iC()),deps:[[t,new Dc,new tu]]}}find(i){const c=this.factories.find(h=>h.supports(i));if(null!=c)return c;throw new ze(901,!1)}}return t})();function sC(){return new DI([new rC])}let DI=(()=>{class t{static#e=this.\u0275prov=pn({token:t,providedIn:"root",factory:sC});constructor(i){this.factories=i}static create(i,c){if(c){const h=c.factories.slice();i=i.concat(h)}return new t(i)}static extend(i){return{provide:t,useFactory:c=>t.create(i,c||sC()),deps:[[t,new Dc,new tu]]}}find(i){const c=this.factories.find(h=>h.supports(i));if(c)return c;throw new ze(901,!1)}}return t})();const $A=HT(null,"core",[]);let zA=(()=>{class t{constructor(i){}static#e=this.\u0275fac=function(c){return new(c||t)(Rt(My))};static#t=this.\u0275mod=ls({type:t});static#n=this.\u0275inj=qt({})}return t})();function tD(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function rD(t){const n=Pn(t);if(!n)return null;const i=new sc(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},981:(Qt,We,H)=>{H.d(We,{zQ:()=>Ht,ww:()=>zn,rT:()=>Ct,f7:()=>ge,L6:()=>$e,_Q:()=>it,lh:()=>Ye,Qv:()=>rt,nw:()=>Et}),H(6365);var u=H(6814),W=H(5879),Ie=H(1920),Ee=H(7217),Pe=H(8645),me=H(2096),Ae=H(5592),xe=H(2459),fe=H(3019),ve=H(3093),Oe=H(4664),pt=H(7398),Je=H(940),Dt=H(1374),mt=H(4674);function It(bt,Nt){return(0,mt.m)(Nt)?(0,Oe.w)(()=>bt,Nt):(0,Oe.w)(()=>bt)}var _t=H(5137),en=H(2181),Ze=H(7142);const rt=new W.OlP("angularfire2.auth.use-emulator"),$e=new W.OlP("angularfire2.auth.settings"),it=new W.OlP("angularfire2.auth.tenant-id"),Ct=new W.OlP("angularfire2.auth.langugage-code"),Ye=new W.OlP("angularfire2.auth.use-device-language"),ge=new W.OlP("angularfire.auth.persistence"),Et=(bt,Nt,rn,at,Ne,_e,Ve,et)=>(0,Ee.cc)(`${bt.name}.auth`,"AngularFireAuth",bt.name,()=>{const Xe=Nt.runOutsideAngular(()=>bt.auth());if(rn&&Xe.useEmulator(...rn),at&&(Xe.tenantId=at),Xe.languageCode=Ne,_e&&Xe.useDeviceLanguage(),Ve)for(const[gt,vt]of Object.entries(Ve))Xe.settings[gt]=vt;return et&&Xe.setPersistence(et),Xe},[rn,at,Ne,_e,Ve,et]);let Ht=(()=>{class bt{authState;idToken;user;idTokenResult;credential;constructor(rn,at,Ne,_e,Ve,et,Xe,gt,vt,Jt,$t,zt){const hn=new Pe.x,Gn=(0,me.of)(void 0).pipe((0,ve.Q)(Ve.outsideAngular),(0,Oe.w)(()=>_e.runOutsideAngular(()=>Promise.resolve().then(H.bind(H,6365)))),(0,pt.U)(()=>(0,Ee.on)(rn,_e,at)),(0,pt.U)(pn=>Et(pn,_e,et,gt,vt,Jt,Xe,$t)),(0,Je.d)({bufferSize:1,refCount:!1}));if((0,u.PM)(Ne))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,me.of)(null);else{Gn.pipe((0,Dt.P)()).subscribe();const pn=Gn.pipe((0,Oe.w)(fn=>fn.getRedirectResult().then(Tn=>Tn,()=>null)),Ie.iC,(0,Je.d)({bufferSize:1,refCount:!1})),Nn=Gn.pipe((0,Oe.w)(fn=>new Ae.y(Tn=>({unsubscribe:_e.runOutsideAngular(()=>fn.onAuthStateChanged(Dn=>Tn.next(Dn),Dn=>Tn.error(Dn),()=>Tn.complete()))})))),qt=Gn.pipe((0,Oe.w)(fn=>new Ae.y(Tn=>({unsubscribe:_e.runOutsideAngular(()=>fn.onIdTokenChanged(Dn=>Tn.next(Dn),Dn=>Tn.error(Dn),()=>Tn.complete()))}))));this.authState=pn.pipe(It(Nn),(0,_t.R)(Ve.outsideAngular),(0,ve.Q)(Ve.insideAngular)),this.user=pn.pipe(It(qt),(0,_t.R)(Ve.outsideAngular),(0,ve.Q)(Ve.insideAngular)),this.idToken=this.user.pipe((0,Oe.w)(fn=>fn?(0,xe.D)(fn.getIdToken()):(0,me.of)(null))),this.idTokenResult=this.user.pipe((0,Oe.w)(fn=>fn?(0,xe.D)(fn.getIdTokenResult()):(0,me.of)(null))),this.credential=(0,fe.T)(pn,hn,this.authState.pipe((0,en.h)(fn=>!fn))).pipe((0,pt.U)(fn=>fn?.user?fn:null),(0,_t.R)(Ve.outsideAngular),(0,ve.Q)(Ve.insideAngular))}return(0,Ee.pX)(this,Gn,_e,{spy:{apply:(pn,Nn,qt)=>{(pn.startsWith("signIn")||pn.startsWith("createUser"))&&qt.then(fn=>hn.next(fn))}}})}static \u0275fac=function(at){return new(at||bt)(W.LFG(Ee.Dh),W.LFG(Ee.xv,8),W.LFG(W.Lbi),W.LFG(W.R0b),W.LFG(Ie.HU),W.LFG(rt,8),W.LFG($e,8),W.LFG(it,8),W.LFG(Ct,8),W.LFG(Ye,8),W.LFG(ge,8),W.LFG(Ie.Rf,8))};static \u0275prov=W.Yz7({token:bt,factory:bt.\u0275fac,providedIn:"any"})}return bt})(),zn=(()=>{class bt{constructor(){Ze.Z.registerVersion("angularfire",Ie.q4.full,"auth-compat")}static \u0275fac=function(at){return new(at||bt)};static \u0275mod=W.oAB({type:bt});static \u0275inj=W.cJS({providers:[Ht]})}return bt})()},7104:(Qt,We,H)=>{H.d(We,{ST:()=>Ur,yb:()=>qe});var g=H(6814),u=H(5879),W=H(1920),Ie=H(7217),Ee=H(981),Pe=H(6321),me=H(5592),Ae=H(2459),xe=H(2096),fe=H(7921),ve=H(9360),Oe=H(8251);function pt(){return(0,ve.e)((Tt,oe)=>{let Se,ft=!1;Tt.subscribe((0,Oe.x)(oe,jt=>{const Mn=Se;Se=jt,ft&&oe.next([Mn,jt]),ft=!0}))})}var Je=H(7398),Dt=H(6699),mt=H(3997),It=H(2181),en=(H(6365),H(3106)),Ze=H(5588),ze=H(9058),rt=H(4537);function Ct(Tt,oe){if(void 0===oe)return{merge:!1};if(void 0!==oe.mergeFields&&void 0!==oe.merge)throw new Ze.WA("invalid-argument",`Invalid options passed to function ${Tt}(): You cannot specify both "merge" and "mergeFields".`);return oe}function Ye(){if(typeof Uint8Array>"u")throw new Ze.WA("unimplemented","Uint8Arrays are not available in this environment.")}function ge(){if(!(0,Ze.Me)())throw new Ze.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Et{constructor(oe){this._delegate=oe}static fromBase64String(oe){return ge(),new Et(Ze.Jj.fromBase64String(oe))}static fromUint8Array(oe){return Ye(),new Et(Ze.Jj.fromUint8Array(oe))}toBase64(){return ge(),this._delegate.toBase64()}toUint8Array(){return Ye(),this._delegate.toUint8Array()}isEqual(oe){return this._delegate.isEqual(oe._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ht(Tt){return function zn(Tt,oe){if("object"!=typeof Tt||null===Tt)return!1;const Se=Tt;for(const ft of oe)if(ft in Se&&"function"==typeof Se[ft])return!0;return!1}(Tt,["next","error","complete"])}class bt{enableIndexedDbPersistence(oe,Se){return(0,Ze.ST)(oe._delegate,{forceOwnership:Se})}enableMultiTabIndexedDbPersistence(oe){return(0,Ze.fH)(oe._delegate)}clearIndexedDbPersistence(oe){return(0,Ze.Fc)(oe._delegate)}}class Nt{constructor(oe,Se,ft){this._delegate=Se,this._persistenceProvider=ft,this.INTERNAL={delete:()=>this.terminate()},oe instanceof Ze.l7||(this._appCompat=oe)}get _databaseId(){return this._delegate._databaseId}settings(oe){const Se=this._delegate._getSettings();!oe.merge&&Se.host!==oe.host&&(0,Ze.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),oe.merge&&delete(oe=Object.assign(Object.assign({},Se),oe)).merge,this._delegate._setSettings(oe)}useEmulator(oe,Se,ft={}){(0,Ze.at)(this._delegate,oe,Se,ft)}enableNetwork(){return(0,Ze.Ix)(this._delegate)}disableNetwork(){return(0,Ze.TF)(this._delegate)}enablePersistence(oe){let Se=!1,ft=!1;return oe&&(Se=!!oe.synchronizeTabs,ft=!!oe.experimentalForceOwningTab,(0,Ze.Wi)("synchronizeTabs",Se,"experimentalForceOwningTab",ft)),Se?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,ft)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Ze.Mx)(this._delegate)}onSnapshotsInSync(oe){return(0,Ze.sc)(this._delegate,oe)}get app(){if(!this._appCompat)throw new Ze.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(oe){try{return new pn(this,(0,Ze.hJ)(this._delegate,oe))}catch(Se){throw Xe(Se,"collection()","Firestore.collection()")}}doc(oe){try{return new et(this,(0,Ze.JU)(this._delegate,oe))}catch(Se){throw Xe(Se,"doc()","Firestore.doc()")}}collectionGroup(oe){try{return new zt(this,(0,Ze.B$)(this._delegate,oe))}catch(Se){throw Xe(Se,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(oe){return(0,Ze.i3)(this._delegate,Se=>oe(new Ne(this,Se)))}batch(){return(0,Ze.qY)(this._delegate),new _e(new Ze.PU(this._delegate,oe=>(0,Ze.GL)(this._delegate,oe)))}loadBundle(oe){return(0,Ze.Pb)(this._delegate,oe)}namedQuery(oe){return(0,Ze.L$)(this._delegate,oe).then(Se=>Se?new zt(this,Se):null)}}class rn extends Ze.u7{constructor(oe){super(),this.firestore=oe}convertBytes(oe){return new Et(new Ze.Jj(oe))}convertReference(oe){const Se=this.convertDocumentKey(oe,this.firestore._databaseId);return et.forKey(Se,this.firestore,null)}}class Ne{constructor(oe,Se){this._firestore=oe,this._delegate=Se,this._userDataWriter=new rn(oe)}get(oe){const Se=Nn(oe);return this._delegate.get(Se).then(ft=>new Jt(this._firestore,new Ze.xU(this._firestore._delegate,this._userDataWriter,ft._key,ft._document,ft.metadata,Se.converter)))}set(oe,Se,ft){const jt=Nn(oe);return ft?(Ct("Transaction.set",ft),this._delegate.set(jt,Se,ft)):this._delegate.set(jt,Se),this}update(oe,Se,ft,...jt){const Mn=Nn(oe);return 2===arguments.length?this._delegate.update(Mn,Se):this._delegate.update(Mn,Se,ft,...jt),this}delete(oe){const Se=Nn(oe);return this._delegate.delete(Se),this}}class _e{constructor(oe){this._delegate=oe}set(oe,Se,ft){const jt=Nn(oe);return ft?(Ct("WriteBatch.set",ft),this._delegate.set(jt,Se,ft)):this._delegate.set(jt,Se),this}update(oe,Se,ft,...jt){const Mn=Nn(oe);return 2===arguments.length?this._delegate.update(Mn,Se):this._delegate.update(Mn,Se,ft,...jt),this}delete(oe){const Se=Nn(oe);return this._delegate.delete(Se),this}commit(){return this._delegate.commit()}}class Ve{constructor(oe,Se,ft){this._firestore=oe,this._userDataWriter=Se,this._delegate=ft}fromFirestore(oe,Se){const ft=new Ze.$q(this._firestore._delegate,this._userDataWriter,oe._key,oe._document,oe.metadata,null);return this._delegate.fromFirestore(new $t(this._firestore,ft),Se??{})}toFirestore(oe,Se){return Se?this._delegate.toFirestore(oe,Se):this._delegate.toFirestore(oe)}static getInstance(oe,Se){const ft=Ve.INSTANCES;let jt=ft.get(oe);jt||(jt=new WeakMap,ft.set(oe,jt));let Mn=jt.get(Se);return Mn||(Mn=new Ve(oe,new rn(oe),Se),jt.set(Se,Mn)),Mn}}Ve.INSTANCES=new WeakMap;class et{constructor(oe,Se){this.firestore=oe,this._delegate=Se,this._userDataWriter=new rn(oe)}static forPath(oe,Se,ft){if(oe.length%2!=0)throw new Ze.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${oe.canonicalString()} has ${oe.length}`);return new et(Se,new Ze.my(Se._delegate,ft,new Ze.Ky(oe)))}static forKey(oe,Se,ft){return new et(Se,new Ze.my(Se._delegate,ft,oe))}get id(){return this._delegate.id}get parent(){return new pn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(oe){try{return new pn(this.firestore,(0,Ze.hJ)(this._delegate,oe))}catch(Se){throw Xe(Se,"collection()","DocumentReference.collection()")}}isEqual(oe){return(oe=(0,ze.m9)(oe))instanceof Ze.my&&(0,Ze.Eo)(this._delegate,oe)}set(oe,Se){Se=Ct("DocumentReference.set",Se);try{return Se?(0,Ze.pl)(this._delegate,oe,Se):(0,Ze.pl)(this._delegate,oe)}catch(ft){throw Xe(ft,"setDoc()","DocumentReference.set()")}}update(oe,Se,...ft){try{return 1===arguments.length?(0,Ze.r7)(this._delegate,oe):(0,Ze.r7)(this._delegate,oe,Se,...ft)}catch(jt){throw Xe(jt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Ze.oe)(this._delegate)}onSnapshot(...oe){const Se=gt(oe),ft=vt(oe,jt=>new Jt(this.firestore,new Ze.xU(this.firestore._delegate,this._userDataWriter,jt._key,jt._document,jt.metadata,this._delegate.converter)));return(0,Ze.cf)(this._delegate,Se,ft)}get(oe){let Se;return Se="cache"===oe?.source?(0,Ze.kl)(this._delegate):"server"===oe?.source?(0,Ze.Xk)(this._delegate):(0,Ze.QT)(this._delegate),Se.then(ft=>new Jt(this.firestore,new Ze.xU(this.firestore._delegate,this._userDataWriter,ft._key,ft._document,ft.metadata,this._delegate.converter)))}withConverter(oe){return new et(this.firestore,this._delegate.withConverter(oe?Ve.getInstance(this.firestore,oe):null))}}function Xe(Tt,oe,Se){return Tt.message=Tt.message.replace(oe,Se),Tt}function gt(Tt){for(const oe of Tt)if("object"==typeof oe&&!Ht(oe))return oe;return{}}function vt(Tt,oe){var Se,ft;let jt;return jt=Ht(Tt[0])?Tt[0]:Ht(Tt[1])?Tt[1]:"function"==typeof Tt[0]?{next:Tt[0],error:Tt[1],complete:Tt[2]}:{next:Tt[1],error:Tt[2],complete:Tt[3]},{next:Mn=>{jt.next&&jt.next(oe(Mn))},error:null===(Se=jt.error)||void 0===Se?void 0:Se.bind(jt),complete:null===(ft=jt.complete)||void 0===ft?void 0:ft.bind(jt)}}class Jt{constructor(oe,Se){this._firestore=oe,this._delegate=Se}get ref(){return new et(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(oe){return this._delegate.data(oe)}get(oe,Se){return this._delegate.get(oe,Se)}isEqual(oe){return(0,Ze.qK)(this._delegate,oe._delegate)}}class $t extends Jt{data(oe){const Se=this._delegate.data(oe);return this._delegate._converter||(0,Ze.K9)(void 0!==Se,"Document in a QueryDocumentSnapshot should exist"),Se}}class zt{constructor(oe,Se){this.firestore=oe,this._delegate=Se,this._userDataWriter=new rn(oe)}where(oe,Se,ft){try{return new zt(this.firestore,(0,Ze.IO)(this._delegate,(0,Ze.ar)(oe,Se,ft)))}catch(jt){throw Xe(jt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(oe,Se){try{return new zt(this.firestore,(0,Ze.IO)(this._delegate,(0,Ze.Xo)(oe,Se)))}catch(ft){throw Xe(ft,/(orderBy|where)\(\)/,"Query.$1()")}}limit(oe){try{return new zt(this.firestore,(0,Ze.IO)(this._delegate,(0,Ze.b9)(oe)))}catch(Se){throw Xe(Se,"limit()","Query.limit()")}}limitToLast(oe){try{return new zt(this.firestore,(0,Ze.IO)(this._delegate,(0,Ze.vh)(oe)))}catch(Se){throw Xe(Se,"limitToLast()","Query.limitToLast()")}}startAt(...oe){try{return new zt(this.firestore,(0,Ze.IO)(this._delegate,(0,Ze.e0)(...oe)))}catch(Se){throw Xe(Se,"startAt()","Query.startAt()")}}startAfter(...oe){try{return new zt(this.firestore,(0,Ze.IO)(this._delegate,(0,Ze.TQ)(...oe)))}catch(Se){throw Xe(Se,"startAfter()","Query.startAfter()")}}endBefore(...oe){try{return new zt(this.firestore,(0,Ze.IO)(this._delegate,(0,Ze.Lx)(...oe)))}catch(Se){throw Xe(Se,"endBefore()","Query.endBefore()")}}endAt(...oe){try{return new zt(this.firestore,(0,Ze.IO)(this._delegate,(0,Ze.Wu)(...oe)))}catch(Se){throw Xe(Se,"endAt()","Query.endAt()")}}isEqual(oe){return(0,Ze.iE)(this._delegate,oe._delegate)}get(oe){let Se;return Se="cache"===oe?.source?(0,Ze.UQ)(this._delegate):"server"===oe?.source?(0,Ze.zN)(this._delegate):(0,Ze.PL)(this._delegate),Se.then(ft=>new Gn(this.firestore,new Ze.W(this.firestore._delegate,this._userDataWriter,this._delegate,ft._snapshot)))}onSnapshot(...oe){const Se=gt(oe),ft=vt(oe,jt=>new Gn(this.firestore,new Ze.W(this.firestore._delegate,this._userDataWriter,this._delegate,jt._snapshot)));return(0,Ze.cf)(this._delegate,Se,ft)}withConverter(oe){return new zt(this.firestore,this._delegate.withConverter(oe?Ve.getInstance(this.firestore,oe):null))}}class hn{constructor(oe,Se){this._firestore=oe,this._delegate=Se}get type(){return this._delegate.type}get doc(){return new $t(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Gn{constructor(oe,Se){this._firestore=oe,this._delegate=Se}get query(){return new zt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(oe=>new $t(this._firestore,oe))}docChanges(oe){return this._delegate.docChanges(oe).map(Se=>new hn(this._firestore,Se))}forEach(oe,Se){this._delegate.forEach(ft=>{oe.call(Se,new $t(this._firestore,ft))})}isEqual(oe){return(0,Ze.qK)(this._delegate,oe._delegate)}}class pn extends zt{constructor(oe,Se){super(oe,Se),this.firestore=oe,this._delegate=Se}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const oe=this._delegate.parent;return oe?new et(this.firestore,oe):null}doc(oe){try{return new et(this.firestore,void 0===oe?(0,Ze.JU)(this._delegate):(0,Ze.JU)(this._delegate,oe))}catch(Se){throw Xe(Se,"doc()","CollectionReference.doc()")}}add(oe){return(0,Ze.ET)(this._delegate,oe).then(Se=>new et(this.firestore,Se))}isEqual(oe){return(0,Ze.Eo)(this._delegate,oe._delegate)}withConverter(oe){return new pn(this.firestore,this._delegate.withConverter(oe?Ve.getInstance(this.firestore,oe):null))}}function Nn(Tt){return(0,Ze.Cf)(Tt,Ze.my)}class qt{constructor(...oe){this._delegate=new Ze.Lz(...oe)}static documentId(){return new qt(Ze.Xb.keyField().canonicalString())}isEqual(oe){return(oe=(0,ze.m9)(oe))instanceof Ze.Lz&&this._delegate._internalPath.isEqual(oe._internalPath)}}class fn{constructor(oe){this._delegate=oe}static serverTimestamp(){const oe=(0,Ze.Bt)();return oe._methodName="FieldValue.serverTimestamp",new fn(oe)}static delete(){const oe=(0,Ze.AK)();return oe._methodName="FieldValue.delete",new fn(oe)}static arrayUnion(...oe){const Se=(0,Ze.vr)(...oe);return Se._methodName="FieldValue.arrayUnion",new fn(Se)}static arrayRemove(...oe){const Se=(0,Ze.Ab)(...oe);return Se._methodName="FieldValue.arrayRemove",new fn(Se)}static increment(oe){const Se=(0,Ze.nP)(oe);return Se._methodName="FieldValue.increment",new fn(Se)}isEqual(oe){return this._delegate.isEqual(oe._delegate)}}const Tn={Firestore:Nt,GeoPoint:Ze.F8,Timestamp:Ze.EK,Blob:Et,Transaction:Ne,WriteBatch:_e,DocumentReference:et,DocumentSnapshot:Jt,Query:zt,QueryDocumentSnapshot:$t,QuerySnapshot:Gn,CollectionReference:pn,FieldPath:qt,FieldValue:fn,setLogLevel:function at(Tt){(0,Ze.Ub)(Tt)},CACHE_SIZE_UNLIMITED:Ze.IX};!function Kt(Tt){(function Dn(Tt,oe){Tt.INTERNAL.registerComponent(new rt.wA("firestore-compat",Se=>{const ft=Se.getProvider("app-compat").getImmediate(),jt=Se.getProvider("firestore").getImmediate();return oe(ft,jt)},"PUBLIC").setServiceProps(Object.assign({},Tn)))})(Tt,(oe,Se)=>new Nt(oe,Se,new bt)),Tt.registerVersion("@firebase/firestore-compat","0.3.32")}(en.Z);var ai=H(7142);function hr(Tt,oe){return function Cn(Tt,oe=Pe.z){return new me.y(Se=>{let ft;return null!=oe?oe.schedule(()=>{ft=Tt.onSnapshot({includeMetadataChanges:!0},Se)}):ft=Tt.onSnapshot({includeMetadataChanges:!0},Se),()=>{ft?.()}})}(Tt,oe)}function kt(Tt,oe){return hr(Tt,oe).pipe((0,Je.U)(Se=>({payload:Se,type:"query"})))}class En{ref;afs;constructor(oe,Se){this.ref=oe,this.afs=Se}set(oe,Se){return this.ref.set(oe,Se)}update(oe){return this.ref.update(oe)}delete(){return this.ref.delete()}collection(oe,Se){const ft=this.ref.collection(oe),{ref:jt,query:Mn}=fr(ft,Se);return new Sr(jt,Mn,this.afs)}snapshotChanges(){return function Hn(Tt,oe){return hr(Tt,oe).pipe((0,fe.O)(void 0),pt(),(0,Je.U)(Se=>{const[ft,jt]=Se;return jt.exists?ft?.exists?{payload:jt,type:"modified"}:{payload:jt,type:"added"}:{payload:jt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(W.iC)}valueChanges(oe={}){return this.snapshotChanges().pipe((0,Je.U)(({payload:Se})=>oe.idField?{...Se.data(),[oe.idField]:Se.id}:Se.data()))}get(oe){return(0,Ae.D)(this.ref.get(oe)).pipe(W.iC)}}function Fn(Tt,oe){return kt(Tt,oe).pipe((0,fe.O)(void 0),pt(),(0,Je.U)(Se=>{const[ft,jt]=Se,Mn=jt.payload.docChanges(),Xr=Mn.map(Ft=>({type:Ft.type,payload:Ft}));return ft&&JSON.stringify(ft.payload.metadata)!==JSON.stringify(jt.payload.metadata)&&jt.payload.docs.forEach((Ft,ue)=>{const X=Mn.find(B=>B.doc.ref.isEqual(Ft.ref)),$=ft?.payload.docs.find(B=>B.ref.isEqual(Ft.ref));X&&JSON.stringify(X.doc.metadata)===JSON.stringify(Ft.metadata)||!X&&$&&JSON.stringify($.metadata)===JSON.stringify(Ft.metadata)||Xr.push({type:"modified",payload:{oldIndex:ue,newIndex:ue,type:"modified",doc:Ft}})}),Xr}))}function wn(Tt,oe,Se){return Fn(Tt,Se).pipe((0,Dt.R)((ft,jt)=>function Nr(Tt,oe,Se){return oe.forEach(ft=>{Se.indexOf(ft.type)>-1&&(Tt=function qn(Tt,oe){switch(oe.type){case"added":if(!Tt[oe.newIndex]||!Tt[oe.newIndex].doc.ref.isEqual(oe.doc.ref))return Ar(Tt,oe.newIndex,0,oe);break;case"modified":if(null==Tt[oe.oldIndex]||Tt[oe.oldIndex].doc.ref.isEqual(oe.doc.ref)){if(oe.oldIndex!==oe.newIndex){const Se=Tt.slice();return Se.splice(oe.oldIndex,1),Se.splice(oe.newIndex,0,oe),Se}return Ar(Tt,oe.newIndex,1,oe)}break;case"removed":if(Tt[oe.oldIndex]&&Tt[oe.oldIndex].doc.ref.isEqual(oe.doc.ref))return Ar(Tt,oe.oldIndex,1)}return Tt}(Tt,ft))}),Tt}(ft,jt.map(Mn=>Mn.payload),oe),[]),(0,mt.x)(),(0,Je.U)(ft=>ft.map(jt=>({type:jt.type,payload:jt}))))}function Ar(Tt,oe,Se,...ft){const jt=Tt.slice();return jt.splice(oe,Se,...ft),jt}function Bn(Tt){return(!Tt||0===Tt.length)&&(Tt=["added","removed","modified"]),Tt}class Sr{ref;query;afs;constructor(oe,Se,ft){this.ref=oe,this.query=Se,this.afs=ft}stateChanges(oe){let Se=Fn(this.query,this.afs.schedulers.outsideAngular);return oe&&oe.length>0&&(Se=Se.pipe((0,Je.U)(ft=>ft.filter(jt=>oe.indexOf(jt.type)>-1)))),Se.pipe((0,fe.O)(void 0),pt(),(0,It.h)(([ft,jt])=>jt.length>0||!ft),(0,Je.U)(([,ft])=>ft),W.iC)}auditTrail(oe){return this.stateChanges(oe).pipe((0,Dt.R)((Se,ft)=>[...Se,...ft],[]))}snapshotChanges(oe){const Se=Bn(oe);return wn(this.query,Se,this.afs.schedulers.outsideAngular).pipe(W.iC)}valueChanges(oe={}){return kt(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(Se=>Se.payload.docs.map(ft=>oe.idField?{...ft.data(),[oe.idField]:ft.id}:ft.data())),W.iC)}get(oe){return(0,Ae.D)(this.query.get(oe)).pipe(W.iC)}add(oe){return this.ref.add(oe)}doc(oe){return new En(this.ref.doc(oe),this.afs)}}class di{query;afs;constructor(oe,Se){this.query=oe,this.afs=Se}stateChanges(oe){return oe&&0!==oe.length?Fn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(Se=>Se.filter(ft=>oe.indexOf(ft.type)>-1)),(0,It.h)(Se=>Se.length>0),W.iC):Fn(this.query,this.afs.schedulers.outsideAngular).pipe(W.iC)}auditTrail(oe){return this.stateChanges(oe).pipe((0,Dt.R)((Se,ft)=>[...Se,...ft],[]))}snapshotChanges(oe){const Se=Bn(oe);return wn(this.query,Se,this.afs.schedulers.outsideAngular).pipe(W.iC)}valueChanges(oe={}){return kt(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(ft=>ft.payload.docs.map(jt=>oe.idField?{[oe.idField]:jt.id,...jt.data()}:jt.data())),W.iC)}get(oe){return(0,Ae.D)(this.query.get(oe)).pipe(W.iC)}}const sn=new u.OlP("angularfire2.enableFirestorePersistence"),hi=new u.OlP("angularfire2.firestore.persistenceSettings"),Qn=new u.OlP("angularfire2.firestore.settings"),Tr=new u.OlP("angularfire2.firestore.use-emulator");function fr(Tt,oe=(Se=>Se)){return{query:oe(Tt),ref:Tt}}let Ur=(()=>{class Tt{schedulers;firestore;persistenceEnabled$;constructor(Se,ft,jt,Mn,Xr,Ft,ue,X,$,B,F,he,Fe,yt,Rt,tn,nn){this.schedulers=ue;const an=(0,Ie.on)(Se,Ft,ft),Jn=$;B&&(0,Ee.nw)(an,Ft,F,Fe,yt,Rt,he,tn),[this.firestore,this.persistenceEnabled$]=(0,Ie.cc)(`${an.name}.firestore`,"AngularFirestore",an.name,()=>{const xn=Ft.runOutsideAngular(()=>an.firestore());if(Mn&&xn.settings(Mn),Jn&&xn.useEmulator(...Jn),jt&&!(0,g.PM)(Xr)){const ci=()=>{try{return(0,Ae.D)(xn.enablePersistence(X||void 0).then(()=>!0,()=>!1))}catch(Ds){return typeof console<"u"&&console.warn(Ds),(0,xe.of)(!1)}};return[xn,Ft.runOutsideAngular(ci)]}return[xn,(0,xe.of)(!1)]},[Mn,Jn,jt])}collection(Se,ft){let jt;jt="string"==typeof Se?this.firestore.collection(Se):Se;const{ref:Mn,query:Xr}=fr(jt,ft),Ft=this.schedulers.ngZone.run(()=>Mn);return new Sr(Ft,Xr,this)}collectionGroup(Se,ft){const jt=ft||(Xr=>Xr),Mn=this.firestore.collectionGroup(Se);return new di(jt(Mn),this)}doc(Se){let ft;ft="string"==typeof Se?this.firestore.doc(Se):Se;const jt=this.schedulers.ngZone.run(()=>ft);return new En(jt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(ft){return new(ft||Tt)(u.LFG(Ie.Dh),u.LFG(Ie.xv,8),u.LFG(sn,8),u.LFG(Qn,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(W.HU),u.LFG(hi,8),u.LFG(Tr,8),u.LFG(Ee.zQ,8),u.LFG(Ee.Qv,8),u.LFG(Ee.L6,8),u.LFG(Ee._Q,8),u.LFG(Ee.rT,8),u.LFG(Ee.lh,8),u.LFG(Ee.f7,8),u.LFG(W.Rf,8))};static \u0275prov=u.Yz7({token:Tt,factory:Tt.\u0275fac,providedIn:"any"})}return Tt})(),qe=(()=>{class Tt{constructor(){ai.Z.registerVersion("angularfire",W.q4.full,"fst-compat")}static enablePersistence(Se){return{ngModule:Tt,providers:[{provide:sn,useValue:!0},{provide:hi,useValue:Se}]}}static \u0275fac=function(ft){return new(ft||Tt)};static \u0275mod=u.oAB({type:Tt});static \u0275inj=u.cJS({providers:[Ur]})}return Tt})()},7217:(Qt,We,H)=>{H.d(We,{Dh:()=>Ae,GT:()=>Pe,Ot:()=>me,cc:()=>Je,hO:()=>pt,on:()=>fe,pX:()=>Ee,xv:()=>xe});var g=H(5879),u=H(1920),W=H(7142);const Ie=["ngOnDestroy"],Ee=(_t,en,Ze,ze={})=>new Proxy(_t,{get:(rt,$e)=>Ze.runOutsideAngular(()=>{if(_t[$e])return ze?.spy?.get&&ze.spy.get($e,_t[$e]),_t[$e];if(Ie.indexOf($e)>-1)return()=>{};const it=en.toPromise().then(Ct=>{const Ye=Ct?.[$e];return"function"==typeof Ye?Ye.bind(Ct):Ye?.then?Ye.then(ge=>Ze.run(()=>ge)):Ze.run(()=>Ye)});return new Proxy(()=>{},{get:(Ct,Ye)=>it[Ye],apply:(Ct,Ye,ge)=>it.then(Et=>{const Ht=Et?.(...ge);return ze?.spy?.apply&&ze.spy.apply($e,ge,Ht),Ht})})})}),Pe=(_t,en)=>{en.forEach(Ze=>{Object.getOwnPropertyNames(Ze.prototype||Ze).forEach(ze=>{Object.defineProperty(_t.prototype,ze,Object.getOwnPropertyDescriptor(Ze.prototype||Ze,ze))})})};class me{constructor(en){return en}}const Ae=new g.OlP("angularfire2.app.options"),xe=new g.OlP("angularfire2.app.name");function fe(_t,en,Ze){const rt="object"==typeof Ze&&Ze||{};rt.name=rt.name||"string"==typeof Ze&&Ze||"[DEFAULT]";const it=W.Z.apps.filter(Ct=>Ct&&Ct.name===rt.name)[0]||en.runOutsideAngular(()=>W.Z.initializeApp(_t,rt));try{if(JSON.stringify(_t)!==JSON.stringify(it.options)){const Ct=!!module.hot;ve("error",`${it.name} Firebase App already initialized with different options${Ct?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new me(it)}const ve=(_t,...en)=>{(0,g.X6Q)()&&typeof console<"u"&&console[_t](...en)},Oe={provide:me,useFactory:fe,deps:[Ae,g.R0b,[new g.FiY,xe]]};let pt=(()=>{class _t{static initializeApp(Ze,ze){return{ngModule:_t,providers:[{provide:Ae,useValue:Ze},{provide:xe,useValue:ze}]}}constructor(Ze){W.Z.registerVersion("angularfire",u.q4.full,"core"),W.Z.registerVersion("angularfire",u.q4.full,"app-compat"),W.Z.registerVersion("angular",g.q4F.full,Ze.toString())}static \u0275fac=function(ze){return new(ze||_t)(g.LFG(g.Lbi))};static \u0275mod=g.oAB({type:_t});static \u0275inj=g.cJS({providers:[Oe]})}return _t})();function Je(_t,en,Ze,ze,rt){const[,$e,it]=globalThis.\u0275AngularfireInstanceCache.find(Ct=>Ct[0]===_t)||[];if($e)return function Dt(_t,en){try{return _t.toString()===en.toString()}catch{return _t===en}}(rt,it)||(It("error",`${en} was already initialized on the ${Ze} Firebase App with different settings.${mt?" You may need to reload as Firebase is not HMR aware.":""}`),It("warn",{is:rt,was:it})),$e;{const Ct=ze();return globalThis.\u0275AngularfireInstanceCache.push([_t,Ct,rt]),Ct}}const mt=typeof module<"u"&&!!module.hot,It=(_t,...en)=>{(0,g.X6Q)()&&typeof console<"u"&&console[_t](...en)};globalThis.\u0275AngularfireInstanceCache||=[]},1920:(Qt,We,H)=>{H.d(We,{q4:()=>Je,iC:()=>Ht,fc:()=>ge,HU:()=>$e,Rf:()=>_t,vb:()=>It,JM:()=>mt,u3:()=>Nt});var g=H(5879),u=H(3182),W=H(1954),Ee=H(2631);const me=new class Pe extends Ee.v{}(class Ie extends W.o{constructor(at,Ne){super(at,Ne),this.scheduler=at,this.work=Ne}schedule(at,Ne=0){return Ne>0?super.schedule(at,Ne):(this.delay=Ne,this.state=at,this.scheduler.flush(this),this)}execute(at,Ne){return Ne>0||this.closed?super.execute(at,Ne):this._execute(at,Ne)}requestAsyncId(at,Ne,_e=0){return null!=_e&&_e>0||null==_e&&this.delay>0?super.requestAsyncId(at,Ne,_e):(at.flush(this),0)}});var xe=H(6321),fe=H(5592),ve=H(9397),Oe=H(3093),pt=H(5137);const Je=new g.GfV("ANGULARFIRE2_VERSION");function mt(rn,at,Ne){if(at){if(1===at.length)return at[0];const et=at.filter(Xe=>Xe.app===Ne);if(1===et.length)return et[0]}return Ne.container.getProvider(rn).getImmediate({optional:!0})}const It=(rn,at)=>{const Ne=at?[at]:(0,u.C6)(),_e=[];return Ne.forEach(Ve=>{Ve.container.getProvider(rn).instances.forEach(Xe=>{_e.includes(Xe)||_e.push(Xe)})}),_e};class _t{constructor(){return It(en)}}const en="app-check";function Ze(){}class ze{zone;delegate;constructor(at,Ne=me){this.zone=at,this.delegate=Ne}now(){return this.delegate.now()}schedule(at,Ne,_e){const Ve=this.zone;return this.delegate.schedule(function(Xe){Ve.runGuarded(()=>{at.apply(this,[Xe])})},Ne,_e)}}class rt{zone;task=null;constructor(at){this.zone=at}call(at,Ne){const _e=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ze,{},Ze,Ze)),Ne.pipe((0,ve.b)({next:_e,complete:_e,error:_e})).subscribe(at).add(_e)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let $e=(()=>{class rn{ngZone;outsideAngular;insideAngular;constructor(Ne){this.ngZone=Ne,this.outsideAngular=Ne.runOutsideAngular(()=>new ze(Zone.current)),this.insideAngular=Ne.run(()=>new ze(Zone.current,xe.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(_e){return new(_e||rn)(g.LFG(g.R0b))};static \u0275prov=g.Yz7({token:rn,factory:rn.\u0275fac,providedIn:"root"})}return rn})();function it(){const rn=globalThis.\u0275AngularFireScheduler;if(!rn)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return rn}function Ye(rn){return it().ngZone.run(()=>rn())}function ge(rn){return rn.pipe((0,Oe.Q)(it().outsideAngular))}function Ht(rn){return function zn(rn){return function(Ne){return(Ne=Ne.lift(new rt(rn.ngZone))).pipe((0,pt.R)(rn.outsideAngular),(0,Oe.Q)(rn.insideAngular))}}(it())(rn)}const bt=(rn,at)=>function(){const _e=arguments;return at&&setTimeout(()=>{"scheduled"===at.state&&at.invoke()},10),Ye(()=>rn.apply(void 0,_e))},Nt=(rn,at)=>function(){let Ne;const _e=arguments;for(let et=0;et<arguments.length;et++)"function"==typeof _e[et]&&(at&&(Ne||=Ye(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ze,{},Ze,Ze))),_e[et]=bt(_e[et],Ne));const Ve=function Ct(rn){return it().ngZone.runOutsideAngular(()=>rn())}(()=>rn.apply(this,_e));if(!at){if(Ve instanceof fe.y){const et=it();return Ve.pipe((0,pt.R)(et.outsideAngular),(0,Oe.Q)(et.insideAngular))}return Ye(()=>Ve)}return Ve instanceof fe.y?Ve.pipe(Ht):Ve instanceof Promise?Ye(()=>new Promise((et,Xe)=>Ve.then(gt=>Ye(()=>et(gt)),gt=>Ye(()=>Xe(gt))))):"function"==typeof Ve&&Ne?function(){return setTimeout(()=>{Ne&&"scheduled"===Ne.state&&Ne.invoke()},10),Ve.apply(this,arguments)}:Ye(()=>Ve)}},6223:(Qt,We,H)=>{H.d(We,{EJ:()=>vs,F:()=>wi,Fj:()=>Je,JJ:()=>Kt,JL:()=>ai,Kr:()=>Zi,On:()=>Gi,Q7:()=>Kn,UX:()=>fs,YN:()=>zr,_Y:()=>To,kI:()=>Ze,qu:()=>gn,sg:()=>xr,u:()=>Xt,u5:()=>Vi});var g=H(5879),u=H(6814),W=H(2459),Ie=H(9315),Ee=H(7398);let Pe=(()=>{class q{constructor(L,ce){this._renderer=L,this._elementRef=ce,this.onChange=Me=>{},this.onTouched=()=>{}}setProperty(L,ce){this._renderer.setProperty(this._elementRef.nativeElement,L,ce)}registerOnTouched(L){this.onTouched=L}registerOnChange(L){this.onChange=L}setDisabledState(L){this.setProperty("disabled",L)}static#e=this.\u0275fac=function(ce){return new(ce||q)(g.Y36(g.Qsj),g.Y36(g.SBq))};static#t=this.\u0275dir=g.lG2({type:q})}return q})(),me=(()=>{class q extends Pe{static#e=this.\u0275fac=function(){let L;return function(Me){return(L||(L=g.n5z(q)))(Me||q)}}();static#t=this.\u0275dir=g.lG2({type:q,features:[g.qOj]})}return q})();const Ae=new g.OlP("NgValueAccessor"),ve={provide:Ae,useExisting:(0,g.Gpc)(()=>Je),multi:!0},pt=new g.OlP("CompositionEventMode");let Je=(()=>{class q extends Pe{constructor(L,ce,Me){super(L,ce),this._compositionMode=Me,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Oe(){const q=(0,u.q)()?(0,u.q)().getUserAgent():"";return/android (\d+)/.test(q.toLowerCase())}())}writeValue(L){this.setProperty("value",L??"")}_handleInput(L){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(L)}_compositionStart(){this._composing=!0}_compositionEnd(L){this._composing=!1,this._compositionMode&&this.onChange(L)}static#e=this.\u0275fac=function(ce){return new(ce||q)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(pt,8))};static#t=this.\u0275dir=g.lG2({type:q,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ce,Me){1&ce&&g.NdJ("input",function(cr){return Me._handleInput(cr.target.value)})("blur",function(){return Me.onTouched()})("compositionstart",function(){return Me._compositionStart()})("compositionend",function(cr){return Me._compositionEnd(cr.target.value)})},features:[g._Bn([ve]),g.qOj]})}return q})();function Dt(q){return null==q||("string"==typeof q||Array.isArray(q))&&0===q.length}function mt(q){return null!=q&&"number"==typeof q.length}const It=new g.OlP("NgValidators"),_t=new g.OlP("NgAsyncValidators"),en=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ze{static min(ee){return function ze(q){return ee=>{if(Dt(ee.value)||Dt(q))return null;const L=parseFloat(ee.value);return!isNaN(L)&&L<q?{min:{min:q,actual:ee.value}}:null}}(ee)}static max(ee){return function rt(q){return ee=>{if(Dt(ee.value)||Dt(q))return null;const L=parseFloat(ee.value);return!isNaN(L)&&L>q?{max:{max:q,actual:ee.value}}:null}}(ee)}static required(ee){return $e(ee)}static requiredTrue(ee){return function it(q){return!0===q.value?null:{required:!0}}(ee)}static email(ee){return function Ct(q){return Dt(q.value)||en.test(q.value)?null:{email:!0}}(ee)}static minLength(ee){return function Ye(q){return ee=>Dt(ee.value)||!mt(ee.value)?null:ee.value.length<q?{minlength:{requiredLength:q,actualLength:ee.value.length}}:null}(ee)}static maxLength(ee){return function ge(q){return ee=>mt(ee.value)&&ee.value.length>q?{maxlength:{requiredLength:q,actualLength:ee.value.length}}:null}(ee)}static pattern(ee){return function Et(q){if(!q)return Ht;let ee,L;return"string"==typeof q?(L="","^"!==q.charAt(0)&&(L+="^"),L+=q,"$"!==q.charAt(q.length-1)&&(L+="$"),ee=new RegExp(L)):(L=q.toString(),ee=q),ce=>{if(Dt(ce.value))return null;const Me=ce.value;return ee.test(Me)?null:{pattern:{requiredPattern:L,actualValue:Me}}}}(ee)}static nullValidator(ee){return null}static compose(ee){return _e(ee)}static composeAsync(ee){return et(ee)}}function $e(q){return Dt(q.value)?{required:!0}:null}function Ht(q){return null}function zn(q){return null!=q}function bt(q){return(0,g.QGY)(q)?(0,W.D)(q):q}function Nt(q){let ee={};return q.forEach(L=>{ee=null!=L?{...ee,...L}:ee}),0===Object.keys(ee).length?null:ee}function rn(q,ee){return ee.map(L=>L(q))}function Ne(q){return q.map(ee=>function at(q){return!q.validate}(ee)?ee:L=>ee.validate(L))}function _e(q){if(!q)return null;const ee=q.filter(zn);return 0==ee.length?null:function(L){return Nt(rn(L,ee))}}function Ve(q){return null!=q?_e(Ne(q)):null}function et(q){if(!q)return null;const ee=q.filter(zn);return 0==ee.length?null:function(L){const ce=rn(L,ee).map(bt);return(0,Ie.D)(ce).pipe((0,Ee.U)(Nt))}}function Xe(q){return null!=q?et(Ne(q)):null}function gt(q,ee){return null===q?[ee]:Array.isArray(q)?[...q,ee]:[q,ee]}function vt(q){return q._rawValidators}function Jt(q){return q._rawAsyncValidators}function $t(q){return q?Array.isArray(q)?q:[q]:[]}function zt(q,ee){return Array.isArray(q)?q.includes(ee):q===ee}function hn(q,ee){const L=$t(ee);return $t(q).forEach(Me=>{zt(L,Me)||L.push(Me)}),L}function Gn(q,ee){return $t(ee).filter(L=>!zt(q,L))}class pn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ee){this._rawValidators=ee||[],this._composedValidatorFn=Ve(this._rawValidators)}_setAsyncValidators(ee){this._rawAsyncValidators=ee||[],this._composedAsyncValidatorFn=Xe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ee){this._onDestroyCallbacks.push(ee)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ee=>ee()),this._onDestroyCallbacks=[]}reset(ee=void 0){this.control&&this.control.reset(ee)}hasError(ee,L){return!!this.control&&this.control.hasError(ee,L)}getError(ee,L){return this.control?this.control.getError(ee,L):null}}class Nn extends pn{get formDirective(){return null}get path(){return null}}class qt extends pn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class fn{constructor(ee){this._cd=ee}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Kt=(()=>{class q extends fn{constructor(L){super(L)}static#e=this.\u0275fac=function(ce){return new(ce||q)(g.Y36(qt,2))};static#t=this.\u0275dir=g.lG2({type:q,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ce,Me){2&ce&&g.ekj("ng-untouched",Me.isUntouched)("ng-touched",Me.isTouched)("ng-pristine",Me.isPristine)("ng-dirty",Me.isDirty)("ng-valid",Me.isValid)("ng-invalid",Me.isInvalid)("ng-pending",Me.isPending)},features:[g.qOj]})}return q})(),ai=(()=>{class q extends fn{constructor(L){super(L)}static#e=this.\u0275fac=function(ce){return new(ce||q)(g.Y36(Nn,10))};static#t=this.\u0275dir=g.lG2({type:q,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ce,Me){2&ce&&g.ekj("ng-untouched",Me.isUntouched)("ng-touched",Me.isTouched)("ng-pristine",Me.isPristine)("ng-dirty",Me.isDirty)("ng-valid",Me.isValid)("ng-invalid",Me.isInvalid)("ng-pending",Me.isPending)("ng-submitted",Me.isSubmitted)},features:[g.qOj]})}return q})();const fr="VALID",Ur="INVALID",qe="PENDING",Tt="DISABLED";function oe(q){return(Mn(q)?q.validators:q)||null}function ft(q,ee){return(Mn(ee)?ee.asyncValidators:q)||null}function Mn(q){return null!=q&&!Array.isArray(q)&&"object"==typeof q}function Xr(q,ee,L){const ce=q.controls;if(!(ee?Object.keys(ce):ce).length)throw new g.vHH(1e3,"");if(!ce[L])throw new g.vHH(1001,"")}function Ft(q,ee,L){q._forEachChild((ce,Me)=>{if(void 0===L[Me])throw new g.vHH(1002,"")})}class ue{constructor(ee,L){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(ee),this._assignAsyncValidators(L)}get validator(){return this._composedValidatorFn}set validator(ee){this._rawValidators=this._composedValidatorFn=ee}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ee){this._rawAsyncValidators=this._composedAsyncValidatorFn=ee}get parent(){return this._parent}get valid(){return this.status===fr}get invalid(){return this.status===Ur}get pending(){return this.status==qe}get disabled(){return this.status===Tt}get enabled(){return this.status!==Tt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ee){this._assignValidators(ee)}setAsyncValidators(ee){this._assignAsyncValidators(ee)}addValidators(ee){this.setValidators(hn(ee,this._rawValidators))}addAsyncValidators(ee){this.setAsyncValidators(hn(ee,this._rawAsyncValidators))}removeValidators(ee){this.setValidators(Gn(ee,this._rawValidators))}removeAsyncValidators(ee){this.setAsyncValidators(Gn(ee,this._rawAsyncValidators))}hasValidator(ee){return zt(this._rawValidators,ee)}hasAsyncValidator(ee){return zt(this._rawAsyncValidators,ee)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ee={}){this.touched=!0,this._parent&&!ee.onlySelf&&this._parent.markAsTouched(ee)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(ee=>ee.markAllAsTouched())}markAsUntouched(ee={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(L=>{L.markAsUntouched({onlySelf:!0})}),this._parent&&!ee.onlySelf&&this._parent._updateTouched(ee)}markAsDirty(ee={}){this.pristine=!1,this._parent&&!ee.onlySelf&&this._parent.markAsDirty(ee)}markAsPristine(ee={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(L=>{L.markAsPristine({onlySelf:!0})}),this._parent&&!ee.onlySelf&&this._parent._updatePristine(ee)}markAsPending(ee={}){this.status=qe,!1!==ee.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!ee.onlySelf&&this._parent.markAsPending(ee)}disable(ee={}){const L=this._parentMarkedDirty(ee.onlySelf);this.status=Tt,this.errors=null,this._forEachChild(ce=>{ce.disable({...ee,onlySelf:!0})}),this._updateValue(),!1!==ee.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ee,skipPristineCheck:L}),this._onDisabledChange.forEach(ce=>ce(!0))}enable(ee={}){const L=this._parentMarkedDirty(ee.onlySelf);this.status=fr,this._forEachChild(ce=>{ce.enable({...ee,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ee.emitEvent}),this._updateAncestors({...ee,skipPristineCheck:L}),this._onDisabledChange.forEach(ce=>ce(!1))}_updateAncestors(ee){this._parent&&!ee.onlySelf&&(this._parent.updateValueAndValidity(ee),ee.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(ee){this._parent=ee}getRawValue(){return this.value}updateValueAndValidity(ee={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fr||this.status===qe)&&this._runAsyncValidator(ee.emitEvent)),!1!==ee.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ee.onlySelf&&this._parent.updateValueAndValidity(ee)}_updateTreeValidity(ee={emitEvent:!0}){this._forEachChild(L=>L._updateTreeValidity(ee)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ee.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tt:fr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ee){if(this.asyncValidator){this.status=qe,this._hasOwnPendingAsyncValidator=!0;const L=bt(this.asyncValidator(this));this._asyncValidationSubscription=L.subscribe(ce=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ce,{emitEvent:ee})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(ee,L={}){this.errors=ee,this._updateControlsErrors(!1!==L.emitEvent)}get(ee){let L=ee;return null==L||(Array.isArray(L)||(L=L.split(".")),0===L.length)?null:L.reduce((ce,Me)=>ce&&ce._find(Me),this)}getError(ee,L){const ce=L?this.get(L):this;return ce&&ce.errors?ce.errors[ee]:null}hasError(ee,L){return!!this.getError(ee,L)}get root(){let ee=this;for(;ee._parent;)ee=ee._parent;return ee}_updateControlsErrors(ee){this.status=this._calculateStatus(),ee&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(ee)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?Tt:this.errors?Ur:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qe)?qe:this._anyControlsHaveStatus(Ur)?Ur:fr}_anyControlsHaveStatus(ee){return this._anyControls(L=>L.status===ee)}_anyControlsDirty(){return this._anyControls(ee=>ee.dirty)}_anyControlsTouched(){return this._anyControls(ee=>ee.touched)}_updatePristine(ee={}){this.pristine=!this._anyControlsDirty(),this._parent&&!ee.onlySelf&&this._parent._updatePristine(ee)}_updateTouched(ee={}){this.touched=this._anyControlsTouched(),this._parent&&!ee.onlySelf&&this._parent._updateTouched(ee)}_registerOnCollectionChange(ee){this._onCollectionChange=ee}_setUpdateStrategy(ee){Mn(ee)&&null!=ee.updateOn&&(this._updateOn=ee.updateOn)}_parentMarkedDirty(ee){return!ee&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ee){return null}_assignValidators(ee){this._rawValidators=Array.isArray(ee)?ee.slice():ee,this._composedValidatorFn=function Se(q){return Array.isArray(q)?Ve(q):q||null}(this._rawValidators)}_assignAsyncValidators(ee){this._rawAsyncValidators=Array.isArray(ee)?ee.slice():ee,this._composedAsyncValidatorFn=function jt(q){return Array.isArray(q)?Xe(q):q||null}(this._rawAsyncValidators)}}class X extends ue{constructor(ee,L,ce){super(oe(L),ft(ce,L)),this.controls=ee,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(ee,L){return this.controls[ee]?this.controls[ee]:(this.controls[ee]=L,L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange),L)}addControl(ee,L,ce={}){this.registerControl(ee,L),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}removeControl(ee,L={}){this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),delete this.controls[ee],this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}setControl(ee,L,ce={}){this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),delete this.controls[ee],L&&this.registerControl(ee,L),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}contains(ee){return this.controls.hasOwnProperty(ee)&&this.controls[ee].enabled}setValue(ee,L={}){Ft(this,0,ee),Object.keys(ee).forEach(ce=>{Xr(this,!0,ce),this.controls[ce].setValue(ee[ce],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(ee,L={}){null!=ee&&(Object.keys(ee).forEach(ce=>{const Me=this.controls[ce];Me&&Me.patchValue(ee[ce],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(ee={},L={}){this._forEachChild((ce,Me)=>{ce.reset(ee?ee[Me]:null,{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this._reduceChildren({},(ee,L,ce)=>(ee[ce]=L.getRawValue(),ee))}_syncPendingControls(){let ee=this._reduceChildren(!1,(L,ce)=>!!ce._syncPendingControls()||L);return ee&&this.updateValueAndValidity({onlySelf:!0}),ee}_forEachChild(ee){Object.keys(this.controls).forEach(L=>{const ce=this.controls[L];ce&&ee(ce,L)})}_setUpControls(){this._forEachChild(ee=>{ee.setParent(this),ee._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(ee){for(const[L,ce]of Object.entries(this.controls))if(this.contains(L)&&ee(ce))return!0;return!1}_reduceValue(){return this._reduceChildren({},(L,ce,Me)=>((ce.enabled||this.disabled)&&(L[Me]=ce.value),L))}_reduceChildren(ee,L){let ce=ee;return this._forEachChild((Me,bn)=>{ce=L(ce,Me,bn)}),ce}_allControlsDisabled(){for(const ee of Object.keys(this.controls))if(this.controls[ee].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(ee){return this.controls.hasOwnProperty(ee)?this.controls[ee]:null}}class F extends X{}const Fe=new g.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>yt}),yt="always";function Rt(q,ee){return[...ee.path,q]}function tn(q,ee,L=yt){xn(q,ee),ee.valueAccessor.writeValue(q.value),(q.disabled||"always"===L)&&ee.valueAccessor.setDisabledState?.(q.disabled),function Ds(q,ee){ee.valueAccessor.registerOnChange(L=>{q._pendingValue=L,q._pendingChange=!0,q._pendingDirty=!0,"change"===q.updateOn&&Ei(q,ee)})}(q,ee),function oo(q,ee){const L=(ce,Me)=>{ee.valueAccessor.writeValue(ce),Me&&ee.viewToModelUpdate(ce)};q.registerOnChange(L),ee._registerOnDestroy(()=>{q._unregisterOnChange(L)})}(q,ee),function Io(q,ee){ee.valueAccessor.registerOnTouched(()=>{q._pendingTouched=!0,"blur"===q.updateOn&&q._pendingChange&&Ei(q,ee),"submit"!==q.updateOn&&q.markAsTouched()})}(q,ee),function Jn(q,ee){if(ee.valueAccessor.setDisabledState){const L=ce=>{ee.valueAccessor.setDisabledState(ce)};q.registerOnDisabledChange(L),ee._registerOnDestroy(()=>{q._unregisterOnDisabledChange(L)})}}(q,ee)}function nn(q,ee,L=!0){const ce=()=>{};ee.valueAccessor&&(ee.valueAccessor.registerOnChange(ce),ee.valueAccessor.registerOnTouched(ce)),ci(q,ee),q&&(ee._invokeOnDestroyCallbacks(),q._registerOnCollectionChange(()=>{}))}function an(q,ee){q.forEach(L=>{L.registerOnValidatorChange&&L.registerOnValidatorChange(ee)})}function xn(q,ee){const L=vt(q);null!==ee.validator?q.setValidators(gt(L,ee.validator)):"function"==typeof L&&q.setValidators([L]);const ce=Jt(q);null!==ee.asyncValidator?q.setAsyncValidators(gt(ce,ee.asyncValidator)):"function"==typeof ce&&q.setAsyncValidators([ce]);const Me=()=>q.updateValueAndValidity();an(ee._rawValidators,Me),an(ee._rawAsyncValidators,Me)}function ci(q,ee){let L=!1;if(null!==q){if(null!==ee.validator){const Me=vt(q);if(Array.isArray(Me)&&Me.length>0){const bn=Me.filter(cr=>cr!==ee.validator);bn.length!==Me.length&&(L=!0,q.setValidators(bn))}}if(null!==ee.asyncValidator){const Me=Jt(q);if(Array.isArray(Me)&&Me.length>0){const bn=Me.filter(cr=>cr!==ee.asyncValidator);bn.length!==Me.length&&(L=!0,q.setAsyncValidators(bn))}}}const ce=()=>{};return an(ee._rawValidators,ce),an(ee._rawAsyncValidators,ce),L}function Ei(q,ee){q._pendingDirty&&q.markAsDirty(),q.setValue(q._pendingValue,{emitModelToViewChange:!1}),ee.viewToModelUpdate(q._pendingValue),q._pendingChange=!1}function _s(q,ee){xn(q,ee)}function Fi(q,ee){if(!q.hasOwnProperty("model"))return!1;const L=q.model;return!!L.isFirstChange()||!Object.is(ee,L.currentValue)}function Xo(q,ee){q._syncPendingControls(),ee.forEach(L=>{const ce=L.control;"submit"===ce.updateOn&&ce._pendingChange&&(L.viewToModelUpdate(ce._pendingValue),ce._pendingChange=!1)})}function Zr(q,ee){if(!ee)return null;let L,ce,Me;return Array.isArray(ee),ee.forEach(bn=>{bn.constructor===Je?L=bn:function kr(q){return Object.getPrototypeOf(q.constructor)===me}(bn)?ce=bn:Me=bn}),Me||ce||L||null}const na={provide:Nn,useExisting:(0,g.Gpc)(()=>wi)},pr=(()=>Promise.resolve())();let wi=(()=>{class q extends Nn{constructor(L,ce,Me){super(),this.callSetDisabledState=Me,this.submitted=!1,this._directives=new Set,this.ngSubmit=new g.vpe,this.form=new X({},Ve(L),Xe(ce))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(L){pr.then(()=>{const ce=this._findContainer(L.path);L.control=ce.registerControl(L.name,L.control),tn(L.control,L,this.callSetDisabledState),L.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(L)})}getControl(L){return this.form.get(L.path)}removeControl(L){pr.then(()=>{const ce=this._findContainer(L.path);ce&&ce.removeControl(L.name),this._directives.delete(L)})}addFormGroup(L){pr.then(()=>{const ce=this._findContainer(L.path),Me=new X({});_s(Me,L),ce.registerControl(L.name,Me),Me.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(L){pr.then(()=>{const ce=this._findContainer(L.path);ce&&ce.removeControl(L.name)})}getFormGroup(L){return this.form.get(L.path)}updateModel(L,ce){pr.then(()=>{this.form.get(L.path).setValue(ce)})}setValue(L){this.control.setValue(L)}onSubmit(L){return this.submitted=!0,Xo(this.form,this._directives),this.ngSubmit.emit(L),"dialog"===L?.target?.method}onReset(){this.resetForm()}resetForm(L=void 0){this.form.reset(L),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(L){return L.pop(),L.length?this.form.get(L):this.form}static#e=this.\u0275fac=function(ce){return new(ce||q)(g.Y36(It,10),g.Y36(_t,10),g.Y36(Fe,8))};static#t=this.\u0275dir=g.lG2({type:q,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ce,Me){1&ce&&g.NdJ("submit",function(cr){return Me.onSubmit(cr)})("reset",function(){return Me.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([na]),g.qOj]})}return q})();function Ls(q,ee){const L=q.indexOf(ee);L>-1&&q.splice(L,1)}function Li(q){return"object"==typeof q&&null!==q&&2===Object.keys(q).length&&"value"in q&&"disabled"in q}const Mr=class extends ue{constructor(ee=null,L,ce){super(oe(L),ft(ce,L)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ee),this._setUpdateStrategy(L),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Mn(L)&&(L.nonNullable||L.initialValueIsDefault)&&(this.defaultValue=Li(ee)?ee.value:ee)}setValue(ee,L={}){this.value=this._pendingValue=ee,this._onChange.length&&!1!==L.emitModelToViewChange&&this._onChange.forEach(ce=>ce(this.value,!1!==L.emitViewToModelChange)),this.updateValueAndValidity(L)}patchValue(ee,L={}){this.setValue(ee,L)}reset(ee=this.defaultValue,L={}){this._applyFormState(ee),this.markAsPristine(L),this.markAsUntouched(L),this.setValue(this.value,L),this._pendingChange=!1}_updateValue(){}_anyControls(ee){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ee){this._onChange.push(ee)}_unregisterOnChange(ee){Ls(this._onChange,ee)}registerOnDisabledChange(ee){this._onDisabledChange.push(ee)}_unregisterOnDisabledChange(ee){Ls(this._onDisabledChange,ee)}_forEachChild(ee){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ee){Li(ee)?(this.value=this._pendingValue=ee.value,ee.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ee}},Ss={provide:qt,useExisting:(0,g.Gpc)(()=>Gi)},bi=(()=>Promise.resolve())();let Gi=(()=>{class q extends qt{constructor(L,ce,Me,bn,cr,ts){super(),this._changeDetectorRef=cr,this.callSetDisabledState=ts,this.control=new Mr,this._registered=!1,this.name="",this.update=new g.vpe,this._parent=L,this._setValidators(ce),this._setAsyncValidators(Me),this.valueAccessor=Zr(0,bn)}ngOnChanges(L){if(this._checkForErrors(),!this._registered||"name"in L){if(this._registered&&(this._checkName(),this.formDirective)){const ce=L.name.previousValue;this.formDirective.removeControl({name:ce,path:this._getPath(ce)})}this._setUpControl()}"isDisabled"in L&&this._updateDisabled(L),Fi(L,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){tn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(L){bi.then(()=>{this.control.setValue(L,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(L){const ce=L.isDisabled.currentValue,Me=0!==ce&&(0,g.VuI)(ce);bi.then(()=>{Me&&!this.control.disabled?this.control.disable():!Me&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(L){return this._parent?Rt(L,this._parent):[L]}static#e=this.\u0275fac=function(ce){return new(ce||q)(g.Y36(Nn,9),g.Y36(It,10),g.Y36(_t,10),g.Y36(Ae,10),g.Y36(g.sBO,8),g.Y36(Fe,8))};static#t=this.\u0275dir=g.lG2({type:q,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[g._Bn([Ss]),g.qOj,g.TTD]})}return q})(),To=(()=>{class q{static#e=this.\u0275fac=function(ce){return new(ce||q)};static#t=this.\u0275dir=g.lG2({type:q,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return q})(),ls=(()=>{class q{static#e=this.\u0275fac=function(ce){return new(ce||q)};static#t=this.\u0275mod=g.oAB({type:q});static#n=this.\u0275inj=g.cJS({})}return q})();const Pn=new g.OlP("NgModelWithFormControlWarning"),Mi={provide:Nn,useExisting:(0,g.Gpc)(()=>xr)};let xr=(()=>{class q extends Nn{constructor(L,ce,Me){super(),this.callSetDisabledState=Me,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new g.vpe,this._setValidators(L),this._setAsyncValidators(ce)}ngOnChanges(L){this._checkFormPresent(),L.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ci(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(L){const ce=this.form.get(L.path);return tn(ce,L,this.callSetDisabledState),ce.updateValueAndValidity({emitEvent:!1}),this.directives.push(L),ce}getControl(L){return this.form.get(L.path)}removeControl(L){nn(L.control||null,L,!1),function ea(q,ee){const L=q.indexOf(ee);L>-1&&q.splice(L,1)}(this.directives,L)}addFormGroup(L){this._setUpFormContainer(L)}removeFormGroup(L){this._cleanUpFormContainer(L)}getFormGroup(L){return this.form.get(L.path)}addFormArray(L){this._setUpFormContainer(L)}removeFormArray(L){this._cleanUpFormContainer(L)}getFormArray(L){return this.form.get(L.path)}updateModel(L,ce){this.form.get(L.path).setValue(ce)}onSubmit(L){return this.submitted=!0,Xo(this.form,this.directives),this.ngSubmit.emit(L),"dialog"===L?.target?.method}onReset(){this.resetForm()}resetForm(L=void 0){this.form.reset(L),this.submitted=!1}_updateDomValue(){this.directives.forEach(L=>{const ce=L.control,Me=this.form.get(L.path);ce!==Me&&(nn(ce||null,L),(q=>q instanceof Mr)(Me)&&(tn(Me,L,this.callSetDisabledState),L.control=Me))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(L){const ce=this.form.get(L.path);_s(ce,L),ce.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(L){if(this.form){const ce=this.form.get(L.path);ce&&function ki(q,ee){return ci(q,ee)}(ce,L)&&ce.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){xn(this.form,this),this._oldForm&&ci(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(ce){return new(ce||q)(g.Y36(It,10),g.Y36(_t,10),g.Y36(Fe,8))};static#t=this.\u0275dir=g.lG2({type:q,selectors:[["","formGroup",""]],hostBindings:function(ce,Me){1&ce&&g.NdJ("submit",function(cr){return Me.onSubmit(cr)})("reset",function(){return Me.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([Mi]),g.qOj,g.TTD]})}return q})();const br={provide:qt,useExisting:(0,g.Gpc)(()=>Xt)};let Xt=(()=>{class q extends qt{set isDisabled(L){}static#e=this._ngModelWarningSentOnce=!1;constructor(L,ce,Me,bn,cr){super(),this._ngModelWarningConfig=cr,this._added=!1,this.name=null,this.update=new g.vpe,this._ngModelWarningSent=!1,this._parent=L,this._setValidators(ce),this._setAsyncValidators(Me),this.valueAccessor=Zr(0,bn)}ngOnChanges(L){this._added||this._setUpControl(),Fi(L,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}get path(){return Rt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(ce){return new(ce||q)(g.Y36(Nn,13),g.Y36(It,10),g.Y36(_t,10),g.Y36(Ae,10),g.Y36(Pn,8))};static#n=this.\u0275dir=g.lG2({type:q,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[g._Bn([br]),g.qOj,g.TTD]})}return q})();const Ln={provide:Ae,useExisting:(0,g.Gpc)(()=>vs),multi:!0};function mr(q,ee){return null==q?`${ee}`:(ee&&"object"==typeof ee&&(ee="Object"),`${q}: ${ee}`.slice(0,50))}let vs=(()=>{class q extends me{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(L){this._compareWith=L}writeValue(L){this.value=L;const Me=mr(this._getOptionId(L),L);this.setProperty("value",Me)}registerOnChange(L){this.onChange=ce=>{this.value=this._getOptionValue(ce),L(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(L){for(const ce of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ce),L))return ce;return null}_getOptionValue(L){const ce=function gi(q){return q.split(":")[0]}(L);return this._optionMap.has(ce)?this._optionMap.get(ce):L}static#e=this.\u0275fac=function(){let L;return function(Me){return(L||(L=g.n5z(q)))(Me||q)}}();static#t=this.\u0275dir=g.lG2({type:q,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ce,Me){1&ce&&g.NdJ("change",function(cr){return Me.onChange(cr.target.value)})("blur",function(){return Me.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([Ln]),g.qOj]})}return q})(),zr=(()=>{class q{constructor(L,ce,Me){this._element=L,this._renderer=ce,this._select=Me,this._select&&(this.id=this._select._registerOption())}set ngValue(L){null!=this._select&&(this._select._optionMap.set(this.id,L),this._setElementValue(mr(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._setElementValue(L),this._select&&this._select.writeValue(this._select.value)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ce){return new(ce||q)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(vs,9))};static#t=this.\u0275dir=g.lG2({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return q})();const ni={provide:Ae,useExisting:(0,g.Gpc)(()=>jn),multi:!0};function rr(q,ee){return null==q?`${ee}`:("string"==typeof ee&&(ee=`'${ee}'`),ee&&"object"==typeof ee&&(ee="Object"),`${q}: ${ee}`.slice(0,50))}let jn=(()=>{class q extends me{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(L){this._compareWith=L}writeValue(L){let ce;if(this.value=L,Array.isArray(L)){const Me=L.map(bn=>this._getOptionId(bn));ce=(bn,cr)=>{bn._setSelected(Me.indexOf(cr.toString())>-1)}}else ce=(Me,bn)=>{Me._setSelected(!1)};this._optionMap.forEach(ce)}registerOnChange(L){this.onChange=ce=>{const Me=[],bn=ce.selectedOptions;if(void 0!==bn){const cr=bn;for(let ts=0;ts<cr.length;ts++){const Ha=this._getOptionValue(cr[ts].value);Me.push(Ha)}}else{const cr=ce.options;for(let ts=0;ts<cr.length;ts++){const ri=cr[ts];if(ri.selected){const Ha=this._getOptionValue(ri.value);Me.push(Ha)}}}this.value=Me,L(Me)}}_registerOption(L){const ce=(this._idCounter++).toString();return this._optionMap.set(ce,L),ce}_getOptionId(L){for(const ce of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ce)._value,L))return ce;return null}_getOptionValue(L){const ce=function Wi(q){return q.split(":")[0]}(L);return this._optionMap.has(ce)?this._optionMap.get(ce)._value:L}static#e=this.\u0275fac=function(){let L;return function(Me){return(L||(L=g.n5z(q)))(Me||q)}}();static#t=this.\u0275dir=g.lG2({type:q,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ce,Me){1&ce&&g.NdJ("change",function(cr){return Me.onChange(cr.target)})("blur",function(){return Me.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([ni]),g.qOj]})}return q})(),Zi=(()=>{class q{constructor(L,ce,Me){this._element=L,this._renderer=ce,this._select=Me,this._select&&(this.id=this._select._registerOption(this))}set ngValue(L){null!=this._select&&(this._value=L,this._setElementValue(rr(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._select?(this._value=L,this._setElementValue(rr(this.id,L)),this._select.writeValue(this._select.value)):this._setElementValue(L)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}_setSelected(L){this._renderer.setProperty(this._element.nativeElement,"selected",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ce){return new(ce||q)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(jn,9))};static#t=this.\u0275dir=g.lG2({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return q})(),kn=(()=>{class q{constructor(){this._validator=Ht}ngOnChanges(L){if(this.inputName in L){const ce=this.normalizeInput(L[this.inputName].currentValue);this._enabled=this.enabled(ce),this._validator=this._enabled?this.createValidator(ce):Ht,this._onChange&&this._onChange()}}validate(L){return this._validator(L)}registerOnValidatorChange(L){this._onChange=L}enabled(L){return null!=L}static#e=this.\u0275fac=function(ce){return new(ce||q)};static#t=this.\u0275dir=g.lG2({type:q,features:[g.TTD]})}return q})();const ja={provide:It,useExisting:(0,g.Gpc)(()=>Kn),multi:!0};let Kn=(()=>{class q extends kn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=g.VuI,this.createValidator=L=>$e}enabled(L){return L}static#e=this.\u0275fac=function(){let L;return function(Me){return(L||(L=g.n5z(q)))(Me||q)}}();static#t=this.\u0275dir=g.lG2({type:q,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ce,Me){2&ce&&g.uIk("required",Me._enabled?"":null)},inputs:{required:"required"},features:[g._Bn([ja]),g.qOj]})}return q})(),De=(()=>{class q{static#e=this.\u0275fac=function(ce){return new(ce||q)};static#t=this.\u0275mod=g.oAB({type:q});static#n=this.\u0275inj=g.cJS({imports:[ls]})}return q})();class He extends ue{constructor(ee,L,ce){super(oe(L),ft(ce,L)),this.controls=ee,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(ee){return this.controls[this._adjustIndex(ee)]}push(ee,L={}){this.controls.push(ee),this._registerControl(ee),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}insert(ee,L,ce={}){this.controls.splice(ee,0,L),this._registerControl(L),this.updateValueAndValidity({emitEvent:ce.emitEvent})}removeAt(ee,L={}){let ce=this._adjustIndex(ee);ce<0&&(ce=0),this.controls[ce]&&this.controls[ce]._registerOnCollectionChange(()=>{}),this.controls.splice(ce,1),this.updateValueAndValidity({emitEvent:L.emitEvent})}setControl(ee,L,ce={}){let Me=this._adjustIndex(ee);Me<0&&(Me=0),this.controls[Me]&&this.controls[Me]._registerOnCollectionChange(()=>{}),this.controls.splice(Me,1),L&&(this.controls.splice(Me,0,L),this._registerControl(L)),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(ee,L={}){Ft(this,0,ee),ee.forEach((ce,Me)=>{Xr(this,!1,Me),this.at(Me).setValue(ce,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(ee,L={}){null!=ee&&(ee.forEach((ce,Me)=>{this.at(Me)&&this.at(Me).patchValue(ce,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(ee=[],L={}){this._forEachChild((ce,Me)=>{ce.reset(ee[Me],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this.controls.map(ee=>ee.getRawValue())}clear(ee={}){this.controls.length<1||(this._forEachChild(L=>L._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:ee.emitEvent}))}_adjustIndex(ee){return ee<0?ee+this.length:ee}_syncPendingControls(){let ee=this.controls.reduce((L,ce)=>!!ce._syncPendingControls()||L,!1);return ee&&this.updateValueAndValidity({onlySelf:!0}),ee}_forEachChild(ee){this.controls.forEach((L,ce)=>{ee(L,ce)})}_updateValue(){this.value=this.controls.filter(ee=>ee.enabled||this.disabled).map(ee=>ee.value)}_anyControls(ee){return this.controls.some(L=>L.enabled&&ee(L))}_setUpControls(){this._forEachChild(ee=>this._registerControl(ee))}_allControlsDisabled(){for(const ee of this.controls)if(ee.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(ee){ee.setParent(this),ee._registerOnCollectionChange(this._onCollectionChange)}_find(ee){return this.at(ee)??null}}function on(q){return!!q&&(void 0!==q.asyncValidators||void 0!==q.validators||void 0!==q.updateOn)}let gn=(()=>{class q{constructor(){this.useNonNullable=!1}get nonNullable(){const L=new q;return L.useNonNullable=!0,L}group(L,ce=null){const Me=this._reduceControls(L);let bn={};return on(ce)?bn=ce:null!==ce&&(bn.validators=ce.validator,bn.asyncValidators=ce.asyncValidator),new X(Me,bn)}record(L,ce=null){const Me=this._reduceControls(L);return new F(Me,ce)}control(L,ce,Me){let bn={};return this.useNonNullable?(on(ce)?bn=ce:(bn.validators=ce,bn.asyncValidators=Me),new Mr(L,{...bn,nonNullable:!0})):new Mr(L,ce,Me)}array(L,ce,Me){const bn=L.map(cr=>this._createControl(cr));return new He(bn,ce,Me)}_reduceControls(L){const ce={};return Object.keys(L).forEach(Me=>{ce[Me]=this._createControl(L[Me])}),ce}_createControl(L){return L instanceof Mr||L instanceof ue?L:Array.isArray(L)?this.control(L[0],L.length>1?L[1]:null,L.length>2?L[2]:null):this.control(L)}static#e=this.\u0275fac=function(ce){return new(ce||q)};static#t=this.\u0275prov=g.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"})}return q})(),Vi=(()=>{class q{static withConfig(L){return{ngModule:q,providers:[{provide:Fe,useValue:L.callSetDisabledState??yt}]}}static#e=this.\u0275fac=function(ce){return new(ce||q)};static#t=this.\u0275mod=g.oAB({type:q});static#n=this.\u0275inj=g.cJS({imports:[De]})}return q})(),fs=(()=>{class q{static withConfig(L){return{ngModule:q,providers:[{provide:Pn,useValue:L.warnOnNgModelWithFormControl??"always"},{provide:Fe,useValue:L.callSetDisabledState??yt}]}}static#e=this.\u0275fac=function(ce){return new(ce||q)};static#t=this.\u0275mod=g.oAB({type:q});static#n=this.\u0275inj=g.cJS({imports:[De]})}return q})()},6593:(Qt,We,H)=>{H.d(We,{Dx:()=>hr,H7:()=>Ur,b2:()=>Tn,q6:()=>pn,se:()=>Ye});var g=H(5879),u=H(6814);class W extends u.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ie extends W{static makeCurrent(){(0,u.HT)(new Ie)}onAndCancel($,B,F){return $.addEventListener(B,F),()=>{$.removeEventListener(B,F)}}dispatchEvent($,B){$.dispatchEvent(B)}remove($){$.parentNode&&$.parentNode.removeChild($)}createElement($,B){return(B=B||this.getDefaultDocument()).createElement($)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode($){return $.nodeType===Node.ELEMENT_NODE}isShadowRoot($){return $ instanceof DocumentFragment}getGlobalEventTarget($,B){return"window"===B?window:"document"===B?$:"body"===B?$.body:null}getBaseHref($){const B=function Pe(){return Ee=Ee||document.querySelector("base"),Ee?Ee.getAttribute("href"):null}();return null==B?null:function Ae(X){me=me||document.createElement("a"),me.setAttribute("href",X);const $=me.pathname;return"/"===$.charAt(0)?$:`/${$}`}(B)}resetBaseElement(){Ee=null}getUserAgent(){return window.navigator.userAgent}getCookie($){return(0,u.Mx)(document.cookie,$)}}let me,Ee=null,fe=(()=>{class X{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(F){return new(F||X)};static#t=this.\u0275prov=g.Yz7({token:X,factory:X.\u0275fac})}return X})();const ve=new g.OlP("EventManagerPlugins");let Oe=(()=>{class X{constructor(B,F){this._zone=F,this._eventNameToPlugin=new Map,B.forEach(he=>{he.manager=this}),this._plugins=B.slice().reverse()}addEventListener(B,F,he){return this._findPluginFor(F).addEventListener(B,F,he)}getZone(){return this._zone}_findPluginFor(B){let F=this._eventNameToPlugin.get(B);if(F)return F;if(F=this._plugins.find(Fe=>Fe.supports(B)),!F)throw new g.vHH(5101,!1);return this._eventNameToPlugin.set(B,F),F}static#e=this.\u0275fac=function(F){return new(F||X)(g.LFG(ve),g.LFG(g.R0b))};static#t=this.\u0275prov=g.Yz7({token:X,factory:X.\u0275fac})}return X})();class pt{constructor($){this._doc=$}}const Je="ng-app-id";let Dt=(()=>{class X{constructor(B,F,he,Fe={}){this.doc=B,this.appId=F,this.nonce=he,this.platformId=Fe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,u.PM)(Fe),this.resetHostNodes()}addStyles(B){for(const F of B)1===this.changeUsageCount(F,1)&&this.onStyleAdded(F)}removeStyles(B){for(const F of B)this.changeUsageCount(F,-1)<=0&&this.onStyleRemoved(F)}ngOnDestroy(){const B=this.styleNodesInDOM;B&&(B.forEach(F=>F.remove()),B.clear());for(const F of this.getAllStyles())this.onStyleRemoved(F);this.resetHostNodes()}addHost(B){this.hostNodes.add(B);for(const F of this.getAllStyles())this.addStyleToHost(B,F)}removeHost(B){this.hostNodes.delete(B)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(B){for(const F of this.hostNodes)this.addStyleToHost(F,B)}onStyleRemoved(B){const F=this.styleRef;F.get(B)?.elements?.forEach(he=>he.remove()),F.delete(B)}collectServerRenderedStyles(){const B=this.doc.head?.querySelectorAll(`style[${Je}="${this.appId}"]`);if(B?.length){const F=new Map;return B.forEach(he=>{null!=he.textContent&&F.set(he.textContent,he)}),F}return null}changeUsageCount(B,F){const he=this.styleRef;if(he.has(B)){const Fe=he.get(B);return Fe.usage+=F,Fe.usage}return he.set(B,{usage:F,elements:[]}),F}getStyleElement(B,F){const he=this.styleNodesInDOM,Fe=he?.get(F);if(Fe?.parentNode===B)return he.delete(F),Fe.removeAttribute(Je),Fe;{const yt=this.doc.createElement("style");return this.nonce&&yt.setAttribute("nonce",this.nonce),yt.textContent=F,this.platformIsServer&&yt.setAttribute(Je,this.appId),yt}}addStyleToHost(B,F){const he=this.getStyleElement(B,F);B.appendChild(he);const Fe=this.styleRef,yt=Fe.get(F)?.elements;yt?yt.push(he):Fe.set(F,{elements:[he],usage:1})}resetHostNodes(){const B=this.hostNodes;B.clear(),B.add(this.doc.head)}static#e=this.\u0275fac=function(F){return new(F||X)(g.LFG(u.K0),g.LFG(g.AFp),g.LFG(g.Ojb,8),g.LFG(g.Lbi))};static#t=this.\u0275prov=g.Yz7({token:X,factory:X.\u0275fac})}return X})();const mt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},It=/%COMP%/g,rt=new g.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ct(X,$){return $.map(B=>B.replace(It,X))}let Ye=(()=>{class X{constructor(B,F,he,Fe,yt,Rt,tn,nn=null){this.eventManager=B,this.sharedStylesHost=F,this.appId=he,this.removeStylesOnCompDestroy=Fe,this.doc=yt,this.platformId=Rt,this.ngZone=tn,this.nonce=nn,this.rendererByCompId=new Map,this.platformIsServer=(0,u.PM)(Rt),this.defaultRenderer=new ge(B,yt,tn,this.platformIsServer)}createRenderer(B,F){if(!B||!F)return this.defaultRenderer;this.platformIsServer&&F.encapsulation===g.ifc.ShadowDom&&(F={...F,encapsulation:g.ifc.Emulated});const he=this.getOrCreateRenderer(B,F);return he instanceof rn?he.applyToHost(B):he instanceof Nt&&he.applyStyles(),he}getOrCreateRenderer(B,F){const he=this.rendererByCompId;let Fe=he.get(F.id);if(!Fe){const yt=this.doc,Rt=this.ngZone,tn=this.eventManager,nn=this.sharedStylesHost,an=this.removeStylesOnCompDestroy,Jn=this.platformIsServer;switch(F.encapsulation){case g.ifc.Emulated:Fe=new rn(tn,nn,F,this.appId,an,yt,Rt,Jn);break;case g.ifc.ShadowDom:return new bt(tn,nn,B,F,yt,Rt,this.nonce,Jn);default:Fe=new Nt(tn,nn,F,an,yt,Rt,Jn)}he.set(F.id,Fe)}return Fe}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(F){return new(F||X)(g.LFG(Oe),g.LFG(Dt),g.LFG(g.AFp),g.LFG(rt),g.LFG(u.K0),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(g.Ojb))};static#t=this.\u0275prov=g.Yz7({token:X,factory:X.\u0275fac})}return X})();class ge{constructor($,B,F,he){this.eventManager=$,this.doc=B,this.ngZone=F,this.platformIsServer=he,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement($,B){return B?this.doc.createElementNS(mt[B]||B,$):this.doc.createElement($)}createComment($){return this.doc.createComment($)}createText($){return this.doc.createTextNode($)}appendChild($,B){(zn($)?$.content:$).appendChild(B)}insertBefore($,B,F){$&&(zn($)?$.content:$).insertBefore(B,F)}removeChild($,B){$&&$.removeChild(B)}selectRootElement($,B){let F="string"==typeof $?this.doc.querySelector($):$;if(!F)throw new g.vHH(-5104,!1);return B||(F.textContent=""),F}parentNode($){return $.parentNode}nextSibling($){return $.nextSibling}setAttribute($,B,F,he){if(he){B=he+":"+B;const Fe=mt[he];Fe?$.setAttributeNS(Fe,B,F):$.setAttribute(B,F)}else $.setAttribute(B,F)}removeAttribute($,B,F){if(F){const he=mt[F];he?$.removeAttributeNS(he,B):$.removeAttribute(`${F}:${B}`)}else $.removeAttribute(B)}addClass($,B){$.classList.add(B)}removeClass($,B){$.classList.remove(B)}setStyle($,B,F,he){he&(g.JOm.DashCase|g.JOm.Important)?$.style.setProperty(B,F,he&g.JOm.Important?"important":""):$.style[B]=F}removeStyle($,B,F){F&g.JOm.DashCase?$.style.removeProperty(B):$.style[B]=""}setProperty($,B,F){$[B]=F}setValue($,B){$.nodeValue=B}listen($,B,F){if("string"==typeof $&&!($=(0,u.q)().getGlobalEventTarget(this.doc,$)))throw new Error(`Unsupported event target ${$} for event ${B}`);return this.eventManager.addEventListener($,B,this.decoratePreventDefault(F))}decoratePreventDefault($){return B=>{if("__ngUnwrap__"===B)return $;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>$(B)):$(B))&&B.preventDefault()}}}function zn(X){return"TEMPLATE"===X.tagName&&void 0!==X.content}class bt extends ge{constructor($,B,F,he,Fe,yt,Rt,tn){super($,Fe,yt,tn),this.sharedStylesHost=B,this.hostEl=F,this.shadowRoot=F.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const nn=Ct(he.id,he.styles);for(const an of nn){const Jn=document.createElement("style");Rt&&Jn.setAttribute("nonce",Rt),Jn.textContent=an,this.shadowRoot.appendChild(Jn)}}nodeOrShadowRoot($){return $===this.hostEl?this.shadowRoot:$}appendChild($,B){return super.appendChild(this.nodeOrShadowRoot($),B)}insertBefore($,B,F){return super.insertBefore(this.nodeOrShadowRoot($),B,F)}removeChild($,B){return super.removeChild(this.nodeOrShadowRoot($),B)}parentNode($){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot($)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Nt extends ge{constructor($,B,F,he,Fe,yt,Rt,tn){super($,Fe,yt,Rt),this.sharedStylesHost=B,this.removeStylesOnCompDestroy=he,this.styles=tn?Ct(tn,F.styles):F.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class rn extends Nt{constructor($,B,F,he,Fe,yt,Rt,tn){const nn=he+"-"+F.id;super($,B,F,Fe,yt,Rt,tn,nn),this.contentAttr=function $e(X){return"_ngcontent-%COMP%".replace(It,X)}(nn),this.hostAttr=function it(X){return"_nghost-%COMP%".replace(It,X)}(nn)}applyToHost($){this.applyStyles(),this.setAttribute($,this.hostAttr,"")}createElement($,B){const F=super.createElement($,B);return super.setAttribute(F,this.contentAttr,""),F}}let at=(()=>{class X extends pt{constructor(B){super(B)}supports(B){return!0}addEventListener(B,F,he){return B.addEventListener(F,he,!1),()=>this.removeEventListener(B,F,he)}removeEventListener(B,F,he){return B.removeEventListener(F,he)}static#e=this.\u0275fac=function(F){return new(F||X)(g.LFG(u.K0))};static#t=this.\u0275prov=g.Yz7({token:X,factory:X.\u0275fac})}return X})();const Ne=["alt","control","meta","shift"],_e={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ve={alt:X=>X.altKey,control:X=>X.ctrlKey,meta:X=>X.metaKey,shift:X=>X.shiftKey};let et=(()=>{class X extends pt{constructor(B){super(B)}supports(B){return null!=X.parseEventName(B)}addEventListener(B,F,he){const Fe=X.parseEventName(F),yt=X.eventCallback(Fe.fullKey,he,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,u.q)().onAndCancel(B,Fe.domEventName,yt))}static parseEventName(B){const F=B.toLowerCase().split("."),he=F.shift();if(0===F.length||"keydown"!==he&&"keyup"!==he)return null;const Fe=X._normalizeKey(F.pop());let yt="",Rt=F.indexOf("code");if(Rt>-1&&(F.splice(Rt,1),yt="code."),Ne.forEach(nn=>{const an=F.indexOf(nn);an>-1&&(F.splice(an,1),yt+=nn+".")}),yt+=Fe,0!=F.length||0===Fe.length)return null;const tn={};return tn.domEventName=he,tn.fullKey=yt,tn}static matchEventFullKeyCode(B,F){let he=_e[B.key]||B.key,Fe="";return F.indexOf("code.")>-1&&(he=B.code,Fe="code."),!(null==he||!he)&&(he=he.toLowerCase()," "===he?he="space":"."===he&&(he="dot"),Ne.forEach(yt=>{yt!==he&&(0,Ve[yt])(B)&&(Fe+=yt+".")}),Fe+=he,Fe===F)}static eventCallback(B,F,he){return Fe=>{X.matchEventFullKeyCode(Fe,B)&&he.runGuarded(()=>F(Fe))}}static _normalizeKey(B){return"esc"===B?"escape":B}static#e=this.\u0275fac=function(F){return new(F||X)(g.LFG(u.K0))};static#t=this.\u0275prov=g.Yz7({token:X,factory:X.\u0275fac})}return X})();const pn=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:u.bD},{provide:g.g9A,useValue:function $t(){Ie.makeCurrent()},multi:!0},{provide:u.K0,useFactory:function hn(){return(0,g.RDi)(document),document},deps:[]}]),Nn=new g.OlP(""),qt=[{provide:g.rWj,useClass:class xe{addToWindow($){g.dqk.getAngularTestability=(F,he=!0)=>{const Fe=$.findTestabilityInTree(F,he);if(null==Fe)throw new g.vHH(5103,!1);return Fe},g.dqk.getAllAngularTestabilities=()=>$.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>$.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(F=>{const he=g.dqk.getAllAngularTestabilities();let Fe=he.length,yt=!1;const Rt=function(tn){yt=yt||tn,Fe--,0==Fe&&F(yt)};he.forEach(tn=>{tn.whenStable(Rt)})})}findTestabilityInTree($,B,F){return null==B?null:$.getTestability(B)??(F?(0,u.q)().isShadowRoot(B)?this.findTestabilityInTree($,B.host,!0):this.findTestabilityInTree($,B.parentElement,!0):null)}},deps:[]},{provide:g.lri,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]}],fn=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function zt(){return new g.qLn},deps:[]},{provide:ve,useClass:at,multi:!0,deps:[u.K0,g.R0b,g.Lbi]},{provide:ve,useClass:et,multi:!0,deps:[u.K0]},Ye,Dt,Oe,{provide:g.FYo,useExisting:Ye},{provide:u.JF,useClass:fe,deps:[]},[]];let Tn=(()=>{class X{constructor(B){}static withServerTransition(B){return{ngModule:X,providers:[{provide:g.AFp,useValue:B.appId}]}}static#e=this.\u0275fac=function(F){return new(F||X)(g.LFG(Nn,12))};static#t=this.\u0275mod=g.oAB({type:X});static#n=this.\u0275inj=g.cJS({providers:[...fn,...qt],imports:[u.ez,g.hGG]})}return X})(),hr=(()=>{class X{constructor(B){this._doc=B}getTitle(){return this._doc.title}setTitle(B){this._doc.title=B||""}static#e=this.\u0275fac=function(F){return new(F||X)(g.LFG(u.K0))};static#t=this.\u0275prov=g.Yz7({token:X,factory:function(F){let he=null;return he=F?new F:function Cn(){return new hr((0,g.LFG)(u.K0))}(),he},providedIn:"root"})}return X})();typeof window<"u"&&window;let Ur=(()=>{class X{static#e=this.\u0275fac=function(F){return new(F||X)};static#t=this.\u0275prov=g.Yz7({token:X,factory:function(F){let he=null;return he=F?new(F||X):g.LFG(Tt),he},providedIn:"root"})}return X})(),Tt=(()=>{class X extends Ur{constructor(B){super(),this._doc=B}sanitize(B,F){if(null==F)return null;switch(B){case g.q3G.NONE:return F;case g.q3G.HTML:return(0,g.qzn)(F,"HTML")?(0,g.z3N)(F):(0,g.EiD)(this._doc,String(F)).toString();case g.q3G.STYLE:return(0,g.qzn)(F,"Style")?(0,g.z3N)(F):F;case g.q3G.SCRIPT:if((0,g.qzn)(F,"Script"))return(0,g.z3N)(F);throw new g.vHH(5200,!1);case g.q3G.URL:return(0,g.qzn)(F,"URL")?(0,g.z3N)(F):(0,g.mCW)(String(F));case g.q3G.RESOURCE_URL:if((0,g.qzn)(F,"ResourceURL"))return(0,g.z3N)(F);throw new g.vHH(5201,!1);default:throw new g.vHH(5202,!1)}}bypassSecurityTrustHtml(B){return(0,g.JVY)(B)}bypassSecurityTrustStyle(B){return(0,g.L6k)(B)}bypassSecurityTrustScript(B){return(0,g.eBb)(B)}bypassSecurityTrustUrl(B){return(0,g.LAX)(B)}bypassSecurityTrustResourceUrl(B){return(0,g.pB0)(B)}static#e=this.\u0275fac=function(F){return new(F||X)(g.LFG(u.K0))};static#t=this.\u0275prov=g.Yz7({token:X,factory:function(F){let he=null;return he=F?new F:function qe(X){return new Tt(X.get(u.K0))}(g.LFG(g.zs3)),he},providedIn:"root"})}return X})()},3914:(Qt,We,H)=>{H.d(We,{gz:()=>qi,m2:()=>Li,F0:()=>Ks,rH:()=>Uo,Bz:()=>vc,lC:()=>gi});var g=H(5879),u=H(5592),W=H(4674),Ee=H(2459),Pe=H(2096),me=H(5619),Ae=H(2572),xe=H(6973),fe=H(5211),ve=H(4829);function Oe(S){return new u.y(N=>{(0,ve.Xf)(S()).subscribe(N)})}var pt=H(8407),Je=H(8504),Dt=H(6232),mt=H(7394),It=H(9360),_t=H(8251);function en(){return(0,It.e)((S,N)=>{let w=null;S._refCount++;const k=(0,_t.x)(N,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(w=null);const G=S._connection,ae=w;w=null,G&&(!ae||G===ae)&&G.unsubscribe(),N.unsubscribe()});S.subscribe(k),k.closed||(w=S.connect())})}class Ze extends u.y{constructor(N,w){super(),this.source=N,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,It.A)(N)&&(this.lift=N.lift)}_subscribe(N){return this.getSubject().subscribe(N)}getSubject(){const N=this._subject;return(!N||N.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:N}=this;this._subject=this._connection=null,N?.unsubscribe()}connect(){let N=this._connection;if(!N){N=this._connection=new mt.w0;const w=this.getSubject();N.add(this.source.subscribe((0,_t.x)(w,void 0,()=>{this._teardown(),w.complete()},k=>{this._teardown(),w.error(k)},()=>this._teardown()))),N.closed&&(this._connection=null,N=mt.w0.EMPTY)}return N}refCount(){return en()(this)}}var ze=H(8645),rt=H(6814),$e=H(7398),it=H(4664),Ct=H(8180),Ye=H(7921),ge=H(2181),Et=H(1631),Ht=H(1374),zn=H(6328),bt=H(9397),Nt=H(6306),rn=H(6699),at=H(3572);function Ne(S){return S<=0?()=>Dt.E:(0,It.e)((N,w)=>{let k=[];N.subscribe((0,_t.x)(w,G=>{k.push(G),S<k.length&&k.shift()},()=>{for(const G of k)w.next(G);w.complete()},void 0,()=>{k=null}))})}var _e=H(3026),Ve=H(2737),gt=H(4716),vt=H(9773),Jt=H(7537),$t=H(6593);const zt="primary",hn=Symbol("RouteTitle");class Gn{constructor(N){this.params=N||{}}has(N){return Object.prototype.hasOwnProperty.call(this.params,N)}get(N){if(this.has(N)){const w=this.params[N];return Array.isArray(w)?w[0]:w}return null}getAll(N){if(this.has(N)){const w=this.params[N];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function pn(S){return new Gn(S)}function Nn(S,N,w){const k=w.path.split("/");if(k.length>S.length||"full"===w.pathMatch&&(N.hasChildren()||k.length<S.length))return null;const G={};for(let ae=0;ae<k.length;ae++){const Ce=k[ae],ct=S[ae];if(Ce.startsWith(":"))G[Ce.substring(1)]=ct;else if(Ce!==ct.path)return null}return{consumed:S.slice(0,k.length),posParams:G}}function fn(S,N){const w=S?Object.keys(S):void 0,k=N?Object.keys(N):void 0;if(!w||!k||w.length!=k.length)return!1;let G;for(let ae=0;ae<w.length;ae++)if(G=w[ae],!Tn(S[G],N[G]))return!1;return!0}function Tn(S,N){if(Array.isArray(S)&&Array.isArray(N)){if(S.length!==N.length)return!1;const w=[...S].sort(),k=[...N].sort();return w.every((G,ae)=>k[ae]===G)}return S===N}function Dn(S){return S.length>0?S[S.length-1]:null}function Kt(S){return function Ie(S){return!!S&&(S instanceof u.y||(0,W.m)(S.lift)&&(0,W.m)(S.subscribe))}(S)?S:(0,g.QGY)(S)?(0,Ee.D)(Promise.resolve(S)):(0,Pe.of)(S)}const ai={exact:function kt(S,N,w){if(!di(S.segments,N.segments)||!Nr(S.segments,N.segments,w)||S.numberOfChildren!==N.numberOfChildren)return!1;for(const k in N.children)if(!S.children[k]||!kt(S.children[k],N.children[k],w))return!1;return!0},subset:Fn},Cn={exact:function Hn(S,N){return fn(S,N)},subset:function En(S,N){return Object.keys(N).length<=Object.keys(S).length&&Object.keys(N).every(w=>Tn(S[w],N[w]))},ignored:()=>!0};function hr(S,N,w){return ai[w.paths](S.root,N.root,w.matrixParams)&&Cn[w.queryParams](S.queryParams,N.queryParams)&&!("exact"===w.fragment&&S.fragment!==N.fragment)}function Fn(S,N,w){return wn(S,N,N.segments,w)}function wn(S,N,w,k){if(S.segments.length>w.length){const G=S.segments.slice(0,w.length);return!(!di(G,w)||N.hasChildren()||!Nr(G,w,k))}if(S.segments.length===w.length){if(!di(S.segments,w)||!Nr(S.segments,w,k))return!1;for(const G in N.children)if(!S.children[G]||!Fn(S.children[G],N.children[G],k))return!1;return!0}{const G=w.slice(0,S.segments.length),ae=w.slice(S.segments.length);return!!(di(S.segments,G)&&Nr(S.segments,G,k)&&S.children[zt])&&wn(S.children[zt],N,ae,k)}}function Nr(S,N,w){return N.every((k,G)=>Cn[w](S[G].parameters,k.parameters))}class Ar{constructor(N=new qn([],{}),w={},k=null){this.root=N,this.queryParams=w,this.fragment=k}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pn(this.queryParams)),this._queryParamMap}toString(){return Tr.serialize(this)}}class qn{constructor(N,w){this.segments=N,this.children=w,this.parent=null,Object.values(w).forEach(k=>k.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fr(this)}}class Bn{constructor(N,w){this.path=N,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=pn(this.parameters)),this._parameterMap}toString(){return Mn(this)}}function di(S,N){return S.length===N.length&&S.every((w,k)=>w.path===N[k].path)}let hi=(()=>{class S{static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:function(){return new Qn},providedIn:"root"})}return S})();class Qn{parse(N){const w=new Rt(N);return new Ar(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(N){const w=`/${Ur(N.root,!0)}`,k=function Ft(S){const N=Object.keys(S).map(w=>{const k=S[w];return Array.isArray(k)?k.map(G=>`${Tt(w)}=${Tt(G)}`).join("&"):`${Tt(w)}=${Tt(k)}`}).filter(w=>!!w);return N.length?`?${N.join("&")}`:""}(N.queryParams);return`${w}${k}${"string"==typeof N.fragment?`#${function oe(S){return encodeURI(S)}(N.fragment)}`:""}`}}const Tr=new Qn;function fr(S){return S.segments.map(N=>Mn(N)).join("/")}function Ur(S,N){if(!S.hasChildren())return fr(S);if(N){const w=S.children[zt]?Ur(S.children[zt],!1):"",k=[];return Object.entries(S.children).forEach(([G,ae])=>{G!==zt&&k.push(`${G}:${Ur(ae,!1)}`)}),k.length>0?`${w}(${k.join("//")})`:w}{const w=function sn(S,N){let w=[];return Object.entries(S.children).forEach(([k,G])=>{k===zt&&(w=w.concat(N(G,k)))}),Object.entries(S.children).forEach(([k,G])=>{k!==zt&&(w=w.concat(N(G,k)))}),w}(S,(k,G)=>G===zt?[Ur(S.children[zt],!1)]:[`${G}:${Ur(k,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[zt]?`${fr(S)}/${w[0]}`:`${fr(S)}/(${w.join("//")})`}}function qe(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tt(S){return qe(S).replace(/%3B/gi,";")}function Se(S){return qe(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ft(S){return decodeURIComponent(S)}function jt(S){return ft(S.replace(/\+/g,"%20"))}function Mn(S){return`${Se(S.path)}${function Xr(S){return Object.keys(S).map(N=>`;${Se(N)}=${Se(S[N])}`).join("")}(S.parameters)}`}const ue=/^[^\/()?;#]+/;function X(S){const N=S.match(ue);return N?N[0]:""}const $=/^[^\/()?;=#]+/,F=/^[^=?&#]+/,Fe=/^[^&#]+/;class Rt{constructor(N){this.url=N,this.remaining=N}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qn([],{}):new qn([],this.parseChildren())}parseQueryParams(){const N={};if(this.consumeOptional("?"))do{this.parseQueryParam(N)}while(this.consumeOptional("&"));return N}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const N=[];for(this.peekStartsWith("(")||N.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),N.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let k={};return this.peekStartsWith("(")&&(k=this.parseParens(!1)),(N.length>0||Object.keys(w).length>0)&&(k[zt]=new qn(N,w)),k}parseSegment(){const N=X(this.remaining);if(""===N&&this.peekStartsWith(";"))throw new g.vHH(4009,!1);return this.capture(N),new Bn(ft(N),this.parseMatrixParams())}parseMatrixParams(){const N={};for(;this.consumeOptional(";");)this.parseParam(N);return N}parseParam(N){const w=function B(S){const N=S.match($);return N?N[0]:""}(this.remaining);if(!w)return;this.capture(w);let k="";if(this.consumeOptional("=")){const G=X(this.remaining);G&&(k=G,this.capture(k))}N[ft(w)]=ft(k)}parseQueryParam(N){const w=function he(S){const N=S.match(F);return N?N[0]:""}(this.remaining);if(!w)return;this.capture(w);let k="";if(this.consumeOptional("=")){const Ce=function yt(S){const N=S.match(Fe);return N?N[0]:""}(this.remaining);Ce&&(k=Ce,this.capture(k))}const G=jt(w),ae=jt(k);if(N.hasOwnProperty(G)){let Ce=N[G];Array.isArray(Ce)||(Ce=[Ce],N[G]=Ce),Ce.push(ae)}else N[G]=ae}parseParens(N){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const k=X(this.remaining),G=this.remaining[k.length];if("/"!==G&&")"!==G&&";"!==G)throw new g.vHH(4010,!1);let ae;k.indexOf(":")>-1?(ae=k.slice(0,k.indexOf(":")),this.capture(ae),this.capture(":")):N&&(ae=zt);const Ce=this.parseChildren();w[ae]=1===Object.keys(Ce).length?Ce[zt]:new qn([],Ce),this.consumeOptional("//")}return w}peekStartsWith(N){return this.remaining.startsWith(N)}consumeOptional(N){return!!this.peekStartsWith(N)&&(this.remaining=this.remaining.substring(N.length),!0)}capture(N){if(!this.consumeOptional(N))throw new g.vHH(4011,!1)}}function tn(S){return S.segments.length>0?new qn([],{[zt]:S}):S}function nn(S){const N={};for(const k of Object.keys(S.children)){const ae=nn(S.children[k]);if(k===zt&&0===ae.segments.length&&ae.hasChildren())for(const[Ce,ct]of Object.entries(ae.children))N[Ce]=ct;else(ae.segments.length>0||ae.hasChildren())&&(N[k]=ae)}return function an(S){if(1===S.numberOfChildren&&S.children[zt]){const N=S.children[zt];return new qn(S.segments.concat(N.segments),N.children)}return S}(new qn(S.segments,N))}function Jn(S){return S instanceof Ar}function ci(S){let N;const G=tn(function w(ae){const Ce={};for(const ut of ae.children){const _n=w(ut);Ce[ut.outlet]=_n}const ct=new qn(ae.url,Ce);return ae===S&&(N=ct),ct}(S.root));return N??G}function Ds(S,N,w,k){let G=S;for(;G.parent;)G=G.parent;if(0===N.length)return oo(G,G,G,w,k);const ae=function gr(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new ki(!0,0,S);let N=0,w=!1;const k=S.reduce((G,ae,Ce)=>{if("object"==typeof ae&&null!=ae){if(ae.outlets){const ct={};return Object.entries(ae.outlets).forEach(([ut,_n])=>{ct[ut]="string"==typeof _n?_n.split("/"):_n}),[...G,{outlets:ct}]}if(ae.segmentPath)return[...G,ae.segmentPath]}return"string"!=typeof ae?[...G,ae]:0===Ce?(ae.split("/").forEach((ct,ut)=>{0==ut&&"."===ct||(0==ut&&""===ct?w=!0:".."===ct?N++:""!=ct&&G.push(ct))}),G):[...G,ae]},[]);return new ki(w,N,k)}(N);if(ae.toRoot())return oo(G,G,new qn([],{}),w,k);const Ce=function bo(S,N,w){if(S.isAbsolute)return new Fs(N,!0,0);if(!w)return new Fs(N,!1,NaN);if(null===w.parent)return new Fs(w,!0,0);const k=Io(S.commands[0])?0:1;return function ya(S,N,w){let k=S,G=N,ae=w;for(;ae>G;){if(ae-=G,k=k.parent,!k)throw new g.vHH(4005,!1);G=k.segments.length}return new Fs(k,!1,G-ae)}(w,w.segments.length-1+k,S.numberOfDoubleDots)}(ae,G,S),ct=Ce.processChildren?kr(Ce.segmentGroup,Ce.index,ae.commands):Fi(Ce.segmentGroup,Ce.index,ae.commands);return oo(G,Ce.segmentGroup,ct,w,k)}function Io(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function Ei(S){return"object"==typeof S&&null!=S&&S.outlets}function oo(S,N,w,k,G){let Ce,ae={};k&&Object.entries(k).forEach(([ut,_n])=>{ae[ut]=Array.isArray(_n)?_n.map(_r=>`${_r}`):`${_n}`}),Ce=S===N?w:_s(S,N,w);const ct=tn(nn(Ce));return new Ar(ct,ae,G)}function _s(S,N,w){const k={};return Object.entries(S.children).forEach(([G,ae])=>{k[G]=ae===N?w:_s(ae,N,w)}),new qn(S.segments,k)}class ki{constructor(N,w,k){if(this.isAbsolute=N,this.numberOfDoubleDots=w,this.commands=k,N&&k.length>0&&Io(k[0]))throw new g.vHH(4003,!1);const G=k.find(Ei);if(G&&G!==Dn(k))throw new g.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fs{constructor(N,w,k){this.segmentGroup=N,this.processChildren=w,this.index=k}}function Fi(S,N,w){if(S||(S=new qn([],{})),0===S.segments.length&&S.hasChildren())return kr(S,N,w);const k=function Xo(S,N,w){let k=0,G=N;const ae={match:!1,pathIndex:0,commandIndex:0};for(;G<S.segments.length;){if(k>=w.length)return ae;const Ce=S.segments[G],ct=w[k];if(Ei(ct))break;const ut=`${ct}`,_n=k<w.length-1?w[k+1]:null;if(G>0&&void 0===ut)break;if(ut&&_n&&"object"==typeof _n&&void 0===_n.outlets){if(!na(ut,_n,Ce))return ae;k+=2}else{if(!na(ut,{},Ce))return ae;k++}G++}return{match:!0,pathIndex:G,commandIndex:k}}(S,N,w),G=w.slice(k.commandIndex);if(k.match&&k.pathIndex<S.segments.length){const ae=new qn(S.segments.slice(0,k.pathIndex),{});return ae.children[zt]=new qn(S.segments.slice(k.pathIndex),S.children),kr(ae,0,G)}return k.match&&0===G.length?new qn(S.segments,{}):k.match&&!S.hasChildren()?Zr(S,N,w):k.match?kr(S,0,G):Zr(S,N,w)}function kr(S,N,w){if(0===w.length)return new qn(S.segments,{});{const k=function Jc(S){return Ei(S[0])?S[0].outlets:{[zt]:S}}(w),G={};if(Object.keys(k).some(ae=>ae!==zt)&&S.children[zt]&&1===S.numberOfChildren&&0===S.children[zt].segments.length){const ae=kr(S.children[zt],N,w);return new qn(S.segments,ae.children)}return Object.entries(k).forEach(([ae,Ce])=>{"string"==typeof Ce&&(Ce=[Ce]),null!==Ce&&(G[ae]=Fi(S.children[ae],N,Ce))}),Object.entries(S.children).forEach(([ae,Ce])=>{void 0===k[ae]&&(G[ae]=Ce)}),new qn(S.segments,G)}}function Zr(S,N,w){const k=S.segments.slice(0,N);let G=0;for(;G<w.length;){const ae=w[G];if(Ei(ae)){const ut=ea(ae.outlets);return new qn(k,ut)}if(0===G&&Io(w[0])){k.push(new Bn(S.segments[N].path,ta(w[0]))),G++;continue}const Ce=Ei(ae)?ae.outlets[zt]:`${ae}`,ct=G<w.length-1?w[G+1]:null;Ce&&ct&&Io(ct)?(k.push(new Bn(Ce,ta(ct))),G+=2):(k.push(new Bn(Ce,{})),G++)}return new qn(k,{})}function ea(S){const N={};return Object.entries(S).forEach(([w,k])=>{"string"==typeof k&&(k=[k]),null!==k&&(N[w]=Zr(new qn([],{}),0,k))}),N}function ta(S){const N={};return Object.entries(S).forEach(([w,k])=>N[w]=`${k}`),N}function na(S,N,w){return S==w.path&&fn(N,w.parameters)}const pr="imperative";class wi{constructor(N,w){this.id=N,this.url=w}}class Ls extends wi{constructor(N,w,k="imperative",G=null){super(N,w),this.type=0,this.navigationTrigger=k,this.restoredState=G}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Li extends wi{constructor(N,w,k){super(N,w),this.urlAfterRedirects=k,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Mr extends wi{constructor(N,w,k,G){super(N,w),this.reason=k,this.code=G,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Vs extends wi{constructor(N,w,k,G){super(N,w),this.reason=k,this.code=G,this.type=16}}class Ji extends wi{constructor(N,w,k,G){super(N,w),this.error=k,this.target=G,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Di extends wi{constructor(N,w,k,G){super(N,w),this.urlAfterRedirects=k,this.state=G,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ua extends wi{constructor(N,w,k,G){super(N,w),this.urlAfterRedirects=k,this.state=G,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Br extends wi{constructor(N,w,k,G,ae){super(N,w),this.urlAfterRedirects=k,this.state=G,this.shouldActivate=ae,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ba extends wi{constructor(N,w,k,G){super(N,w),this.urlAfterRedirects=k,this.state=G,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ii extends wi{constructor(N,w,k,G){super(N,w),this.urlAfterRedirects=k,this.state=G,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pr{constructor(N){this.route=N,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ra{constructor(N){this.route=N,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ss{constructor(N){this.snapshot=N,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bi{constructor(N){this.snapshot=N,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gi{constructor(N){this.snapshot=N,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class To{constructor(N){this.snapshot=N,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ei{constructor(N,w,k){this.routerEvent=N,this.position=w,this.anchor=k,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Co{}class cs{constructor(N){this.url=N}}class ls{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ys,this.attachRef=null}}let ys=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(w,k){const G=this.getOrCreateContext(w);G.outlet=k,this.contexts.set(w,G)}onChildOutletDestroyed(w){const k=this.getContext(w);k&&(k.outlet=null,k.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let k=this.getContext(w);return k||(k=new ls,this.contexts.set(w,k)),k}getContext(w){return this.contexts.get(w)||null}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();class ao{constructor(N){this._root=N}get root(){return this._root.value}parent(N){const w=this.pathFromRoot(N);return w.length>1?w[w.length-2]:null}children(N){const w=Si(N,this._root);return w?w.children.map(k=>k.value):[]}firstChild(N){const w=Si(N,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(N){const w=wo(N,this._root);return w.length<2?[]:w[w.length-2].children.map(G=>G.value).filter(G=>G!==N)}pathFromRoot(N){return wo(N,this._root).map(w=>w.value)}}function Si(S,N){if(S===N.value)return N;for(const w of N.children){const k=Si(S,w);if(k)return k}return null}function wo(S,N){if(S===N.value)return[N];for(const w of N.children){const k=wo(S,w);if(k.length)return k.unshift(N),k}return[]}class Pn{constructor(N,w){this.value=N,this.children=w}toString(){return`TreeNode(${this.value})`}}function Rr(S){const N={};return S&&S.children.forEach(w=>N[w.value.outlet]=w),N}class jr extends ao{constructor(N,w){super(N),this.snapshot=w,br(this,N)}toString(){return this.snapshot.toString()}}function Mi(S,N){const w=function xr(S,N){const Ce=new Pi([],{},{},"",{},zt,N,null,{});return new us("",new Pn(Ce,[]))}(0,N),k=new me.X([new Bn("",{})]),G=new me.X({}),ae=new me.X({}),Ce=new me.X({}),ct=new me.X(""),ut=new qi(k,G,Ce,ct,ae,zt,N,w.root);return ut.snapshot=w.root,new jr(new Pn(ut,[]),w)}class qi{constructor(N,w,k,G,ae,Ce,ct,ut){this.urlSubject=N,this.paramsSubject=w,this.queryParamsSubject=k,this.fragmentSubject=G,this.dataSubject=ae,this.outlet=Ce,this.component=ct,this._futureSnapshot=ut,this.title=this.dataSubject?.pipe((0,$e.U)(_n=>_n[hn]))??(0,Pe.of)(void 0),this.url=N,this.params=w,this.queryParams=k,this.fragment=G,this.data=ae}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,$e.U)(N=>pn(N)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,$e.U)(N=>pn(N)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ai(S,N="emptyOnly"){const w=S.pathFromRoot;let k=0;if("always"!==N)for(k=w.length-1;k>=1;){const G=w[k],ae=w[k-1];if(G.routeConfig&&""===G.routeConfig.path)k--;else{if(ae.component)break;k--}}return function Ao(S){return S.reduce((N,w)=>({params:{...N.params,...w.params},data:{...N.data,...w.data},resolve:{...w.data,...N.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(k))}class Pi{get title(){return this.data?.[hn]}constructor(N,w,k,G,ae,Ce,ct,ut,_n){this.url=N,this.params=w,this.queryParams=k,this.fragment=G,this.data=ae,this.outlet=Ce,this.component=ct,this.routeConfig=ut,this._resolve=_n}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=pn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(k=>k.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class us extends ao{constructor(N,w){super(w),this.url=N,br(this,w)}toString(){return Xt(this._root)}}function br(S,N){N.value._routerState=S,N.children.forEach(w=>br(S,w))}function Xt(S){const N=S.children.length>0?` { ${S.children.map(Xt).join(", ")} } `:"";return`${S.value}${N}`}function Ln(S){if(S.snapshot){const N=S.snapshot,w=S._futureSnapshot;S.snapshot=w,fn(N.queryParams,w.queryParams)||S.queryParamsSubject.next(w.queryParams),N.fragment!==w.fragment&&S.fragmentSubject.next(w.fragment),fn(N.params,w.params)||S.paramsSubject.next(w.params),function qt(S,N){if(S.length!==N.length)return!1;for(let w=0;w<S.length;++w)if(!fn(S[w],N[w]))return!1;return!0}(N.url,w.url)||S.urlSubject.next(w.url),fn(N.data,w.data)||S.dataSubject.next(w.data)}else S.snapshot=S._futureSnapshot,S.dataSubject.next(S._futureSnapshot.data)}function mr(S,N){const w=fn(S.params,N.params)&&function Sr(S,N){return di(S,N)&&S.every((w,k)=>fn(w.parameters,N[k].parameters))}(S.url,N.url);return w&&!(!S.parent!=!N.parent)&&(!S.parent||mr(S.parent,N.parent))}let gi=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=zt,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.parentContexts=(0,g.f3M)(ys),this.location=(0,g.f3M)(g.s_b),this.changeDetector=(0,g.f3M)(g.sBO),this.environmentInjector=(0,g.f3M)(g.lqb),this.inputBinder=(0,g.f3M)(zr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:k,previousValue:G}=w.name;if(k)return;this.isTrackedInParentContexts(G)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(G)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new g.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new g.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new g.vHH(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,k){this.activated=w,this._activatedRoute=k,this.location.insert(w.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,k){if(this.isActivated)throw new g.vHH(4013,!1);this._activatedRoute=w;const G=this.location,Ce=w.snapshot.component,ct=this.parentContexts.getOrCreateContext(this.name).children,ut=new vs(w,ct,G.injector);this.activated=G.createComponent(Ce,{index:G.length,injector:ut,environmentInjector:k??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275dir=g.lG2({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[g.TTD]})}return S})();class vs{constructor(N,w,k){this.route=N,this.childContexts=w,this.parent=k}get(N,w){return N===qi?this.route:N===ys?this.childContexts:this.parent.get(N,w)}}const zr=new g.OlP("");let ni=(()=>{class S{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){this.outletDataSubscriptions.get(w)?.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:k}=w,G=(0,Ae.a)([k.queryParams,k.params,k.data]).pipe((0,it.w)(([ae,Ce,ct],ut)=>(ct={...ae,...Ce,...ct},0===ut?(0,Pe.of)(ct):Promise.resolve(ct)))).subscribe(ae=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==k||null===k.component)return void this.unsubscribeFromRouteData(w);const Ce=(0,g.qFp)(k.component);if(Ce)for(const{templateName:ct}of Ce.inputs)w.activatedComponentRef.setInput(ct,ae[ct]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,G)}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac})}return S})();function Wi(S,N,w){if(w&&S.shouldReuseRoute(N.value,w.value.snapshot)){const k=w.value;k._futureSnapshot=N.value;const G=function Es(S,N,w){return N.children.map(k=>{for(const G of w.children)if(S.shouldReuseRoute(k.value,G.value.snapshot))return Wi(S,k,G);return Wi(S,k)})}(S,N,w);return new Pn(k,G)}{if(S.shouldAttach(N.value)){const ae=S.retrieve(N.value);if(null!==ae){const Ce=ae.route;return Ce.value._futureSnapshot=N.value,Ce.children=N.children.map(ct=>Wi(S,ct)),Ce}}const k=function jn(S){return new qi(new me.X(S.url),new me.X(S.params),new me.X(S.queryParams),new me.X(S.fragment),new me.X(S.data),S.outlet,S.component,S)}(N.value),G=N.children.map(ae=>Wi(S,ae));return new Pn(k,G)}}const Zi="ngNavigationCancelingError";function or(S,N){const{redirectTo:w,navigationBehaviorOptions:k}=Jn(N)?{redirectTo:N,navigationBehaviorOptions:void 0}:N,G=mi(!1,0,N);return G.url=w,G.navigationBehaviorOptions=k,G}function mi(S,N,w){const k=new Error("NavigationCancelingError: "+(S||""));return k[Zi]=!0,k.cancellationCode=N,w&&(k.url=w),k}function Xi(S){return S&&S[Zi]}let _i=(()=>{class S{static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275cmp=g.Xpm({type:S,selectors:[["ng-component"]],standalone:!0,features:[g.jDz],decls:1,vars:0,template:function(k,G){1&k&&g._UZ(0,"router-outlet")},dependencies:[gi],encapsulation:2})}return S})();function Ki(S){const N=S.children&&S.children.map(Ki),w=N?{...S,children:N}:{...S};return!w.component&&!w.loadComponent&&(N||w.loadChildren)&&w.outlet&&w.outlet!==zt&&(w.component=_i),w}function Ri(S){return S.outlet||zt}function bs(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let N=S.parent;N;N=N.parent){const w=N.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class Kr{constructor(N,w,k,G,ae){this.routeReuseStrategy=N,this.futureState=w,this.currState=k,this.forwardEvent=G,this.inputBindingEnabled=ae}activate(N){const w=this.futureState._root,k=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,k,N),Ln(this.futureState.root),this.activateChildRoutes(w,k,N)}deactivateChildRoutes(N,w,k){const G=Rr(w);N.children.forEach(ae=>{const Ce=ae.value.outlet;this.deactivateRoutes(ae,G[Ce],k),delete G[Ce]}),Object.values(G).forEach(ae=>{this.deactivateRouteAndItsChildren(ae,k)})}deactivateRoutes(N,w,k){const G=N.value,ae=w?w.value:null;if(G===ae)if(G.component){const Ce=k.getContext(G.outlet);Ce&&this.deactivateChildRoutes(N,w,Ce.children)}else this.deactivateChildRoutes(N,w,k);else ae&&this.deactivateRouteAndItsChildren(w,k)}deactivateRouteAndItsChildren(N,w){N.value.component&&this.routeReuseStrategy.shouldDetach(N.value.snapshot)?this.detachAndStoreRouteSubtree(N,w):this.deactivateRouteAndOutlet(N,w)}detachAndStoreRouteSubtree(N,w){const k=w.getContext(N.value.outlet),G=k&&N.value.component?k.children:w,ae=Rr(N);for(const Ce of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[Ce],G);if(k&&k.outlet){const Ce=k.outlet.detach(),ct=k.children.onOutletDeactivated();this.routeReuseStrategy.store(N.value.snapshot,{componentRef:Ce,route:N,contexts:ct})}}deactivateRouteAndOutlet(N,w){const k=w.getContext(N.value.outlet),G=k&&N.value.component?k.children:w,ae=Rr(N);for(const Ce of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[Ce],G);k&&(k.outlet&&(k.outlet.deactivate(),k.children.onOutletDeactivated()),k.attachRef=null,k.route=null)}activateChildRoutes(N,w,k){const G=Rr(w);N.children.forEach(ae=>{this.activateRoutes(ae,G[ae.value.outlet],k),this.forwardEvent(new To(ae.value.snapshot))}),N.children.length&&this.forwardEvent(new bi(N.value.snapshot))}activateRoutes(N,w,k){const G=N.value,ae=w?w.value:null;if(Ln(G),G===ae)if(G.component){const Ce=k.getOrCreateContext(G.outlet);this.activateChildRoutes(N,w,Ce.children)}else this.activateChildRoutes(N,w,k);else if(G.component){const Ce=k.getOrCreateContext(G.outlet);if(this.routeReuseStrategy.shouldAttach(G.snapshot)){const ct=this.routeReuseStrategy.retrieve(G.snapshot);this.routeReuseStrategy.store(G.snapshot,null),Ce.children.onOutletReAttached(ct.contexts),Ce.attachRef=ct.componentRef,Ce.route=ct.route.value,Ce.outlet&&Ce.outlet.attach(ct.componentRef,ct.route.value),Ln(ct.route.value),this.activateChildRoutes(N,null,Ce.children)}else{const ct=bs(G.snapshot);Ce.attachRef=null,Ce.route=G,Ce.injector=ct,Ce.outlet&&Ce.outlet.activateWith(G,Ce.injector),this.activateChildRoutes(N,null,Ce.children)}}else this.activateChildRoutes(N,null,k)}}class de{constructor(N){this.path=N,this.route=this.path[this.path.length-1]}}class De{constructor(N,w){this.component=N,this.route=w}}function He(S,N,w){const k=S._root;return on(k,N?N._root:null,w,[k.value])}function Vt(S,N){const w=Symbol(),k=N.get(S,w);return k===w?"function"!=typeof S||(0,g.Z0I)(S)?N.get(S):S:k}function on(S,N,w,k,G={canDeactivateChecks:[],canActivateChecks:[]}){const ae=Rr(N);return S.children.forEach(Ce=>{(function gn(S,N,w,k,G={canDeactivateChecks:[],canActivateChecks:[]}){const ae=S.value,Ce=N?N.value:null,ct=w?w.getContext(S.value.outlet):null;if(Ce&&ae.routeConfig===Ce.routeConfig){const ut=function Wn(S,N,w){if("function"==typeof w)return w(S,N);switch(w){case"pathParamsChange":return!di(S.url,N.url);case"pathParamsOrQueryParamsChange":return!di(S.url,N.url)||!fn(S.queryParams,N.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mr(S,N)||!fn(S.queryParams,N.queryParams);default:return!mr(S,N)}}(Ce,ae,ae.routeConfig.runGuardsAndResolvers);ut?G.canActivateChecks.push(new de(k)):(ae.data=Ce.data,ae._resolvedData=Ce._resolvedData),on(S,N,ae.component?ct?ct.children:null:w,k,G),ut&&ct&&ct.outlet&&ct.outlet.isActivated&&G.canDeactivateChecks.push(new De(ct.outlet.component,Ce))}else Ce&&Rn(N,ct,G),G.canActivateChecks.push(new de(k)),on(S,null,ae.component?ct?ct.children:null:w,k,G)})(Ce,ae[Ce.value.outlet],w,k.concat([Ce.value]),G),delete ae[Ce.value.outlet]}),Object.entries(ae).forEach(([Ce,ct])=>Rn(ct,w.getContext(Ce),G)),G}function Rn(S,N,w){const k=Rr(S),G=S.value;Object.entries(k).forEach(([ae,Ce])=>{Rn(Ce,G.component?N?N.children.getContext(ae):null:N,w)}),w.canDeactivateChecks.push(new De(G.component&&N&&N.outlet&&N.outlet.isActivated?N.outlet.component:null,G))}function nr(S){return"function"==typeof S}function cr(S){return S instanceof xe.K||"EmptyError"===S?.name}const ts=Symbol("INITIAL_VALUE");function ri(){return(0,it.w)(S=>(0,Ae.a)(S.map(N=>N.pipe((0,Ct.q)(1),(0,Ye.O)(ts)))).pipe((0,$e.U)(N=>{for(const w of N)if(!0!==w){if(w===ts)return ts;if(!1===w||w instanceof Ar)return w}return!0}),(0,ge.h)(N=>N!==ts),(0,Ct.q)(1)))}function Ws(S){return(0,pt.z)((0,bt.b)(N=>{if(Jn(N))throw or(0,N)}),(0,$e.U)(N=>!0===N))}class ns{constructor(N){this.segmentGroup=N||null}}class Id{constructor(N){this.urlTree=N}}function Cr(S){return(0,Je._)(new ns(S))}function Ea(S){return(0,Je._)(new Id(S))}class Zs{constructor(N,w){this.urlSerializer=N,this.urlTree=w}noMatchError(N){return new g.vHH(4002,!1)}lineralizeSegments(N,w){let k=[],G=w.root;for(;;){if(k=k.concat(G.segments),0===G.numberOfChildren)return(0,Pe.of)(k);if(G.numberOfChildren>1||!G.children[zt])return(0,Je._)(new g.vHH(4e3,!1));G=G.children[zt]}}applyRedirectCommands(N,w,k){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),N,k)}applyRedirectCreateUrlTree(N,w,k,G){const ae=this.createSegmentGroup(N,w.root,k,G);return new Ar(ae,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(N,w){const k={};return Object.entries(N).forEach(([G,ae])=>{if("string"==typeof ae&&ae.startsWith(":")){const ct=ae.substring(1);k[G]=w[ct]}else k[G]=ae}),k}createSegmentGroup(N,w,k,G){const ae=this.createSegments(N,w.segments,k,G);let Ce={};return Object.entries(w.children).forEach(([ct,ut])=>{Ce[ct]=this.createSegmentGroup(N,ut,k,G)}),new qn(ae,Ce)}createSegments(N,w,k,G){return w.map(ae=>ae.path.startsWith(":")?this.findPosParam(N,ae,G):this.findOrReturn(ae,k))}findPosParam(N,w,k){const G=k[w.path.substring(1)];if(!G)throw new g.vHH(4001,!1);return G}findOrReturn(N,w){let k=0;for(const G of w){if(G.path===N.path)return w.splice(k),G;k++}return N}}const ho={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fo(S,N,w,k,G){const ae=Fo(S,N,w);return ae.matched?(k=function ds(S,N){return S.providers&&!S._injector&&(S._injector=(0,g.MMx)(S.providers,N,`Route: ${S.path}`)),S._injector??N}(N,k),function uo(S,N,w,k){const G=N.canMatch;if(!G||0===G.length)return(0,Pe.of)(!0);const ae=G.map(Ce=>{const ct=Vt(Ce,S);return Kt(function ce(S){return S&&nr(S.canMatch)}(ct)?ct.canMatch(N,w):S.runInContext(()=>ct(N,w)))});return(0,Pe.of)(ae).pipe(ri(),Ws())}(k,N,w).pipe((0,$e.U)(Ce=>!0===Ce?ae:{...ho}))):(0,Pe.of)(ae)}function Fo(S,N,w){if(""===N.path)return"full"===N.pathMatch&&(S.hasChildren()||w.length>0)?{...ho}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const G=(N.matcher||Nn)(w,S,N);if(!G)return{...ho};const ae={};Object.entries(G.posParams??{}).forEach(([ct,ut])=>{ae[ct]=ut.path});const Ce=G.consumed.length>0?{...ae,...G.consumed[G.consumed.length-1].parameters}:ae;return{matched:!0,consumedSegments:G.consumed,remainingSegments:w.slice(G.consumed.length),parameters:Ce,positionalParamSegments:G.posParams??{}}}function za(S,N,w,k){return w.length>0&&function nl(S,N,w){return w.some(k=>gc(S,N,k)&&Ri(k)!==zt)}(S,w,k)?{segmentGroup:new qn(N,tl(k,new qn(w,S.children))),slicedSegments:[]}:0===w.length&&function pc(S,N,w){return w.some(k=>gc(S,N,k))}(S,w,k)?{segmentGroup:new qn(S.segments,sr(S,0,w,k,S.children)),slicedSegments:w}:{segmentGroup:new qn(S.segments,S.children),slicedSegments:w}}function sr(S,N,w,k,G){const ae={};for(const Ce of k)if(gc(S,w,Ce)&&!G[Ri(Ce)]){const ct=new qn([],{});ae[Ri(Ce)]=ct}return{...G,...ae}}function tl(S,N){const w={};w[zt]=N;for(const k of S)if(""===k.path&&Ri(k)!==zt){const G=new qn([],{});w[Ri(k)]=G}return w}function gc(S,N,w){return(!(S.hasChildren()||N.length>0)||"full"!==w.pathMatch)&&""===w.path}class mc{constructor(N,w,k,G,ae,Ce,ct){this.injector=N,this.configLoader=w,this.rootComponentType=k,this.config=G,this.urlTree=ae,this.paramsInheritanceStrategy=Ce,this.urlSerializer=ct,this.allowRedirects=!0,this.applyRedirects=new Zs(this.urlSerializer,this.urlTree)}noMatchError(N){return new g.vHH(4002,!1)}recognize(){const N=za(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,N,zt).pipe((0,Nt.K)(w=>{if(w instanceof Id)return this.allowRedirects=!1,this.urlTree=w.urlTree,this.match(w.urlTree);throw w instanceof ns?this.noMatchError(w):w}),(0,$e.U)(w=>{const k=new Pi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},zt,this.rootComponentType,null,{}),G=new Pn(k,w),ae=new us("",G),Ce=function xn(S,N,w=null,k=null){return Ds(ci(S),N,w,k)}(k,[],this.urlTree.queryParams,this.urlTree.fragment);return Ce.queryParams=this.urlTree.queryParams,ae.url=this.urlSerializer.serialize(Ce),this.inheritParamsAndData(ae._root),{state:ae,tree:Ce}}))}match(N){return this.processSegmentGroup(this.injector,this.config,N.root,zt).pipe((0,Nt.K)(k=>{throw k instanceof ns?this.noMatchError(k):k}))}inheritParamsAndData(N){const w=N.value,k=Ai(w,this.paramsInheritanceStrategy);w.params=Object.freeze(k.params),w.data=Object.freeze(k.data),N.children.forEach(G=>this.inheritParamsAndData(G))}processSegmentGroup(N,w,k,G){return 0===k.segments.length&&k.hasChildren()?this.processChildren(N,w,k):this.processSegment(N,w,k,k.segments,G,!0)}processChildren(N,w,k){const G=[];for(const ae of Object.keys(k.children))"primary"===ae?G.unshift(ae):G.push(ae);return(0,Ee.D)(G).pipe((0,zn.b)(ae=>{const Ce=k.children[ae],ct=function es(S,N){const w=S.filter(k=>Ri(k)===N);return w.push(...S.filter(k=>Ri(k)!==N)),w}(w,ae);return this.processSegmentGroup(N,ct,Ce,ae)}),(0,rn.R)((ae,Ce)=>(ae.push(...Ce),ae)),(0,at.d)(null),function et(S,N){const w=arguments.length>=2;return k=>k.pipe(S?(0,ge.h)((G,ae)=>S(G,ae,k)):Ve.y,Ne(1),w?(0,at.d)(N):(0,_e.T)(()=>new xe.K))}(),(0,Et.z)(ae=>{if(null===ae)return Cr(k);const Ce=oa(ae);return function Fl(S){S.sort((N,w)=>N.value.outlet===zt?-1:w.value.outlet===zt?1:N.value.outlet.localeCompare(w.value.outlet))}(Ce),(0,Pe.of)(Ce)}))}processSegment(N,w,k,G,ae,Ce){return(0,Ee.D)(w).pipe((0,zn.b)(ct=>this.processSegmentAgainstRoute(ct._injector??N,w,ct,k,G,ae,Ce).pipe((0,Nt.K)(ut=>{if(ut instanceof ns)return(0,Pe.of)(null);throw ut}))),(0,Ht.P)(ct=>!!ct),(0,Nt.K)(ct=>{if(cr(ct))return function sa(S,N,w){return 0===N.length&&!S.children[w]}(k,G,ae)?(0,Pe.of)([]):Cr(k);throw ct}))}processSegmentAgainstRoute(N,w,k,G,ae,Ce,ct){return function Ga(S,N,w,k){return!!(Ri(S)===k||k!==zt&&gc(N,w,S))&&("**"===S.path||Fo(N,S,w).matched)}(k,G,ae,Ce)?void 0===k.redirectTo?this.matchSegmentAgainstRoute(N,G,k,ae,Ce,ct):ct&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(N,G,w,k,ae,Ce):Cr(G):Cr(G)}expandSegmentAgainstRouteUsingRedirect(N,w,k,G,ae,Ce){return"**"===G.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(N,k,G,Ce):this.expandRegularSegmentAgainstRouteUsingRedirect(N,w,k,G,ae,Ce)}expandWildCardWithParamsAgainstRouteUsingRedirect(N,w,k,G){const ae=this.applyRedirects.applyRedirectCommands([],k.redirectTo,{});return k.redirectTo.startsWith("/")?Ea(ae):this.applyRedirects.lineralizeSegments(k,ae).pipe((0,Et.z)(Ce=>{const ct=new qn(Ce,{});return this.processSegment(N,w,ct,Ce,G,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(N,w,k,G,ae,Ce){const{matched:ct,consumedSegments:ut,remainingSegments:_n,positionalParamSegments:_r}=Fo(w,G,ae);if(!ct)return Cr(w);const qr=this.applyRedirects.applyRedirectCommands(ut,G.redirectTo,_r);return G.redirectTo.startsWith("/")?Ea(qr):this.applyRedirects.lineralizeSegments(G,qr).pipe((0,Et.z)(er=>this.processSegment(N,k,w,er.concat(_n),Ce,!1)))}matchSegmentAgainstRoute(N,w,k,G,ae,Ce){let ct;if("**"===k.path){const ut=G.length>0?Dn(G).parameters:{},_n=new Pi(G,ut,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Vo(k),Ri(k),k.component??k._loadedComponent??null,k,bd(k));ct=(0,Pe.of)({snapshot:_n,consumedSegments:[],remainingSegments:[]}),w.children={}}else ct=fo(w,k,G,N).pipe((0,$e.U)(({matched:ut,consumedSegments:_n,remainingSegments:_r,parameters:qr})=>ut?{snapshot:new Pi(_n,qr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Vo(k),Ri(k),k.component??k._loadedComponent??null,k,bd(k)),consumedSegments:_n,remainingSegments:_r}:null));return ct.pipe((0,it.w)(ut=>null===ut?Cr(w):this.getChildConfig(N=k._injector??N,k,G).pipe((0,it.w)(({routes:_n})=>{const _r=k._loadedInjector??N,{snapshot:qr,consumedSegments:er,remainingSegments:Cs}=ut,{segmentGroup:Ys,slicedSegments:go}=za(w,er,Cs,_n);if(0===go.length&&Ys.hasChildren())return this.processChildren(_r,_n,Ys).pipe((0,$e.U)(mo=>null===mo?null:[new Pn(qr,mo)]));if(0===_n.length&&0===go.length)return(0,Pe.of)([new Pn(qr,[])]);const Ic=Ri(k)===ae;return this.processSegment(_r,_n,Ys,go,Ic?zt:ae,!0).pipe((0,$e.U)(mo=>[new Pn(qr,mo)]))}))))}getChildConfig(N,w,k){return w.children?(0,Pe.of)({routes:w.children,injector:N}):w.loadChildren?void 0!==w._loadedRoutes?(0,Pe.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function el(S,N,w,k){const G=N.canLoad;if(void 0===G||0===G.length)return(0,Pe.of)(!0);const ae=G.map(Ce=>{const ct=Vt(Ce,S);return Kt(function fs(S){return S&&nr(S.canLoad)}(ct)?ct.canLoad(N,w):S.runInContext(()=>ct(N,w)))});return(0,Pe.of)(ae).pipe(ri(),Ws())}(N,w,k).pipe((0,Et.z)(G=>G?this.configLoader.loadChildren(N,w).pipe((0,bt.b)(ae=>{w._loadedRoutes=ae.routes,w._loadedInjector=ae.injector})):function wu(S){return(0,Je._)(mi(!1,3))}())):(0,Pe.of)({routes:[],injector:N})}}function rl(S){const N=S.value.routeConfig;return N&&""===N.path}function oa(S){const N=[],w=new Set;for(const k of S){if(!rl(k)){N.push(k);continue}const G=N.find(ae=>k.value.routeConfig===ae.value.routeConfig);void 0!==G?(G.children.push(...k.children),w.add(G)):N.push(k)}for(const k of w){const G=oa(k.children);N.push(new Pn(k.value,G))}return N.filter(k=>!w.has(k))}function Vo(S){return S.data||{}}function bd(S){return S.resolve||{}}function Yr(S){return"string"==typeof S.title||null===S.title}function P(S){return(0,it.w)(N=>{const w=S(N);return w?(0,Ee.D)(w).pipe((0,$e.U)(()=>N)):(0,Pe.of)(N)})}const ne=new g.OlP("ROUTES");let j=(()=>{class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,g.f3M)(g.Sil)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,Pe.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const k=Kt(w.loadComponent()).pipe((0,$e.U)(ht),(0,bt.b)(ae=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=ae}),(0,gt.x)(()=>{this.componentLoaders.delete(w)})),G=new Ze(k,()=>new ze.x).pipe(en());return this.componentLoaders.set(w,G),G}loadChildren(w,k){if(this.childrenLoaders.get(k))return this.childrenLoaders.get(k);if(k._loadedRoutes)return(0,Pe.of)({routes:k._loadedRoutes,injector:k._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(k);const ae=function te(S,N,w,k){return Kt(S.loadChildren()).pipe((0,$e.U)(ht),(0,Et.z)(G=>G instanceof g.YKP||Array.isArray(G)?(0,Pe.of)(G):(0,Ee.D)(N.compileModuleAsync(G))),(0,$e.U)(G=>{k&&k(S);let ae,Ce,ct=!1;return Array.isArray(G)?(Ce=G,!0):(ae=G.create(w).injector,Ce=ae.get(ne,[],{optional:!0,self:!0}).flat()),{routes:Ce.map(Ki),injector:ae}}))}(k,this.compiler,w,this.onLoadEndListener).pipe((0,gt.x)(()=>{this.childrenLoaders.delete(k)})),Ce=new Ze(ae,()=>new ze.x).pipe(en());return this.childrenLoaders.set(k,Ce),Ce}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function ht(S){return function we(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let Mt=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ze.x,this.transitionAbortSubject=new ze.x,this.configLoader=(0,g.f3M)(j),this.environmentInjector=(0,g.f3M)(g.lqb),this.urlSerializer=(0,g.f3M)(hi),this.rootContexts=(0,g.f3M)(ys),this.inputBindingEnabled=null!==(0,g.f3M)(zr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Pe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=G=>this.events.next(new ra(G)),this.configLoader.onLoadStartListener=G=>this.events.next(new Pr(G))}complete(){this.transitions?.complete()}handleNavigationRequest(w){const k=++this.navigationId;this.transitions?.next({...this.transitions.value,...w,id:k})}setupNavigations(w,k,G){return this.transitions=new me.X({id:0,currentUrlTree:k,currentRawUrl:k,currentBrowserUrl:k,extractedUrl:w.urlHandlingStrategy.extract(k),urlAfterRedirects:w.urlHandlingStrategy.extract(k),rawUrl:k,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:pr,restoredState:null,currentSnapshot:G.snapshot,targetSnapshot:null,currentRouterState:G,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ge.h)(ae=>0!==ae.id),(0,$e.U)(ae=>({...ae,extractedUrl:w.urlHandlingStrategy.extract(ae.rawUrl)})),(0,it.w)(ae=>{this.currentTransition=ae;let Ce=!1,ct=!1;return(0,Pe.of)(ae).pipe((0,bt.b)(ut=>{this.currentNavigation={id:ut.id,initialUrl:ut.rawUrl,extractedUrl:ut.extractedUrl,trigger:ut.source,extras:ut.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,it.w)(ut=>{const _n=ut.currentBrowserUrl.toString(),_r=!w.navigated||ut.extractedUrl.toString()!==_n||_n!==ut.currentUrlTree.toString();if(!_r&&"reload"!==(ut.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const er="";return this.events.next(new Vs(ut.id,this.urlSerializer.serialize(ut.rawUrl),er,0)),ut.resolve(null),Dt.E}if(w.urlHandlingStrategy.shouldProcessUrl(ut.rawUrl))return(0,Pe.of)(ut).pipe((0,it.w)(er=>{const Cs=this.transitions?.getValue();return this.events.next(new Ls(er.id,this.urlSerializer.serialize(er.extractedUrl),er.source,er.restoredState)),Cs!==this.transitions?.getValue()?Dt.E:Promise.resolve(er)}),function qa(S,N,w,k,G,ae){return(0,Et.z)(Ce=>function Lo(S,N,w,k,G,ae,Ce="emptyOnly"){return new mc(S,N,w,k,G,Ce,ae).recognize()}(S,N,w,k,Ce.extractedUrl,G,ae).pipe((0,$e.U)(({state:ct,tree:ut})=>({...Ce,targetSnapshot:ct,urlAfterRedirects:ut}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,bt.b)(er=>{ae.targetSnapshot=er.targetSnapshot,ae.urlAfterRedirects=er.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:er.urlAfterRedirects};const Cs=new Di(er.id,this.urlSerializer.serialize(er.extractedUrl),this.urlSerializer.serialize(er.urlAfterRedirects),er.targetSnapshot);this.events.next(Cs)}));if(_r&&w.urlHandlingStrategy.shouldProcessUrl(ut.currentRawUrl)){const{id:er,extractedUrl:Cs,source:Ys,restoredState:go,extras:Ic}=ut,mo=new Ls(er,this.urlSerializer.serialize(Cs),Ys,go);this.events.next(mo);const Mu=Mi(0,this.rootComponentType).snapshot;return this.currentTransition=ae={...ut,targetSnapshot:Mu,urlAfterRedirects:Cs,extras:{...Ic,skipLocationChange:!1,replaceUrl:!1}},(0,Pe.of)(ae)}{const er="";return this.events.next(new Vs(ut.id,this.urlSerializer.serialize(ut.extractedUrl),er,1)),ut.resolve(null),Dt.E}}),(0,bt.b)(ut=>{const _n=new Ua(ut.id,this.urlSerializer.serialize(ut.extractedUrl),this.urlSerializer.serialize(ut.urlAfterRedirects),ut.targetSnapshot);this.events.next(_n)}),(0,$e.U)(ut=>(this.currentTransition=ae={...ut,guards:He(ut.targetSnapshot,ut.currentSnapshot,this.rootContexts)},ae)),function Ha(S,N){return(0,Et.z)(w=>{const{targetSnapshot:k,currentSnapshot:G,guards:{canActivateChecks:ae,canDeactivateChecks:Ce}}=w;return 0===Ce.length&&0===ae.length?(0,Pe.of)({...w,guardsResult:!0}):function kl(S,N,w,k){return(0,Ee.D)(S).pipe((0,Et.z)(G=>function va(S,N,w,k,G){const ae=N&&N.routeConfig?N.routeConfig.canDeactivate:null;if(!ae||0===ae.length)return(0,Pe.of)(!0);const Ce=ae.map(ct=>{const ut=bs(N)??G,_n=Vt(ct,ut);return Kt(function L(S){return S&&nr(S.canDeactivate)}(_n)?_n.canDeactivate(S,N,w,k):ut.runInContext(()=>_n(S,N,w,k))).pipe((0,Ht.P)())});return(0,Pe.of)(Ce).pipe(ri())}(G.component,G.route,w,N,k)),(0,Ht.P)(G=>!0!==G,!0))}(Ce,k,G,S).pipe((0,Et.z)(ct=>ct&&function Vi(S){return"boolean"==typeof S}(ct)?function dc(S,N,w,k){return(0,Ee.D)(N).pipe((0,zn.b)(G=>(0,fe.z)(function $a(S,N){return null!==S&&N&&N(new Ss(S)),(0,Pe.of)(!0)}(G.route.parent,k),function hc(S,N){return null!==S&&N&&N(new Gi(S)),(0,Pe.of)(!0)}(G.route,k),function fc(S,N,w){const k=N[N.length-1],ae=N.slice(0,N.length-1).reverse().map(Ce=>function St(S){const N=S.routeConfig?S.routeConfig.canActivateChild:null;return N&&0!==N.length?{node:S,guards:N}:null}(Ce)).filter(Ce=>null!==Ce).map(Ce=>Oe(()=>{const ct=Ce.guards.map(ut=>{const _n=bs(Ce.node)??w,_r=Vt(ut,_n);return Kt(function ee(S){return S&&nr(S.canActivateChild)}(_r)?_r.canActivateChild(k,S):_n.runInContext(()=>_r(k,S))).pipe((0,Ht.P)())});return(0,Pe.of)(ct).pipe(ri())}));return(0,Pe.of)(ae).pipe(ri())}(S,G.path,w),function Xc(S,N,w){const k=N.routeConfig?N.routeConfig.canActivate:null;if(!k||0===k.length)return(0,Pe.of)(!0);const G=k.map(ae=>Oe(()=>{const Ce=bs(N)??w,ct=Vt(ae,Ce);return Kt(function q(S){return S&&nr(S.canActivate)}(ct)?ct.canActivate(N,S):Ce.runInContext(()=>ct(N,S))).pipe((0,Ht.P)())}));return(0,Pe.of)(G).pipe(ri())}(S,G.route,w))),(0,Ht.P)(G=>!0!==G,!0))}(k,ae,S,N):(0,Pe.of)(ct)),(0,$e.U)(ct=>({...w,guardsResult:ct})))})}(this.environmentInjector,ut=>this.events.next(ut)),(0,bt.b)(ut=>{if(ae.guardsResult=ut.guardsResult,Jn(ut.guardsResult))throw or(0,ut.guardsResult);const _n=new Br(ut.id,this.urlSerializer.serialize(ut.extractedUrl),this.urlSerializer.serialize(ut.urlAfterRedirects),ut.targetSnapshot,!!ut.guardsResult);this.events.next(_n)}),(0,ge.h)(ut=>!!ut.guardsResult||(this.cancelNavigationTransition(ut,"",3),!1)),P(ut=>{if(ut.guards.canActivateChecks.length)return(0,Pe.of)(ut).pipe((0,bt.b)(_n=>{const _r=new Ba(_n.id,this.urlSerializer.serialize(_n.extractedUrl),this.urlSerializer.serialize(_n.urlAfterRedirects),_n.targetSnapshot);this.events.next(_r)}),(0,it.w)(_n=>{let _r=!1;return(0,Pe.of)(_n).pipe(function _c(S,N){return(0,Et.z)(w=>{const{targetSnapshot:k,guards:{canActivateChecks:G}}=w;if(!G.length)return(0,Pe.of)(w);let ae=0;return(0,Ee.D)(G).pipe((0,zn.b)(Ce=>function Ll(S,N,w,k){const G=S.routeConfig,ae=S._resolve;return void 0!==G?.title&&!Yr(G)&&(ae[hn]=G.title),function Wa(S,N,w,k){const G=function Td(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===G.length)return(0,Pe.of)({});const ae={};return(0,Ee.D)(G).pipe((0,Et.z)(Ce=>function il(S,N,w,k){const G=bs(N)??k,ae=Vt(S,G);return Kt(ae.resolve?ae.resolve(N,w):G.runInContext(()=>ae(N,w)))}(S[Ce],N,w,k).pipe((0,Ht.P)(),(0,bt.b)(ct=>{ae[Ce]=ct}))),Ne(1),function Xe(S){return(0,$e.U)(()=>S)}(ae),(0,Nt.K)(Ce=>cr(Ce)?Dt.E:(0,Je._)(Ce)))}(ae,S,N,k).pipe((0,$e.U)(Ce=>(S._resolvedData=Ce,S.data=Ai(S,w).resolve,G&&Yr(G)&&(S.data[hn]=G.title),null)))}(Ce.route,k,S,N)),(0,bt.b)(()=>ae++),Ne(1),(0,Et.z)(Ce=>ae===G.length?(0,Pe.of)(w):Dt.E))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,bt.b)({next:()=>_r=!0,complete:()=>{_r||this.cancelNavigationTransition(_n,"",2)}}))}),(0,bt.b)(_n=>{const _r=new Ii(_n.id,this.urlSerializer.serialize(_n.extractedUrl),this.urlSerializer.serialize(_n.urlAfterRedirects),_n.targetSnapshot);this.events.next(_r)}))}),P(ut=>{const _n=_r=>{const qr=[];_r.routeConfig?.loadComponent&&!_r.routeConfig._loadedComponent&&qr.push(this.configLoader.loadComponent(_r.routeConfig).pipe((0,bt.b)(er=>{_r.component=er}),(0,$e.U)(()=>{})));for(const er of _r.children)qr.push(..._n(er));return qr};return(0,Ae.a)(_n(ut.targetSnapshot.root)).pipe((0,at.d)(),(0,Ct.q)(1))}),P(()=>this.afterPreactivation()),(0,$e.U)(ut=>{const _n=function rr(S,N,w){const k=Wi(S,N._root,w?w._root:void 0);return new jr(k,N)}(w.routeReuseStrategy,ut.targetSnapshot,ut.currentRouterState);return this.currentTransition=ae={...ut,targetRouterState:_n},ae}),(0,bt.b)(()=>{this.events.next(new Co)}),((S,N,w,k)=>(0,$e.U)(G=>(new Kr(N,G.targetRouterState,G.currentRouterState,w,k).activate(S),G)))(this.rootContexts,w.routeReuseStrategy,ut=>this.events.next(ut),this.inputBindingEnabled),(0,Ct.q)(1),(0,bt.b)({next:ut=>{Ce=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Li(ut.id,this.urlSerializer.serialize(ut.extractedUrl),this.urlSerializer.serialize(ut.urlAfterRedirects))),w.titleStrategy?.updateTitle(ut.targetRouterState.snapshot),ut.resolve(!0)},complete:()=>{Ce=!0}}),(0,vt.R)(this.transitionAbortSubject.pipe((0,bt.b)(ut=>{throw ut}))),(0,gt.x)(()=>{Ce||ct||this.cancelNavigationTransition(ae,"",1),this.currentNavigation?.id===ae.id&&(this.currentNavigation=null)}),(0,Nt.K)(ut=>{if(ct=!0,Xi(ut))this.events.next(new Mr(ae.id,this.urlSerializer.serialize(ae.extractedUrl),ut.message,ut.cancellationCode)),function kn(S){return Xi(S)&&Jn(S.url)}(ut)?this.events.next(new cs(ut.url)):ae.resolve(!1);else{this.events.next(new Ji(ae.id,this.urlSerializer.serialize(ae.extractedUrl),ut,ae.targetSnapshot??void 0));try{ae.resolve(w.errorHandler(ut))}catch(_n){ae.reject(_n)}}return Dt.E}))}))}cancelNavigationTransition(w,k,G){const ae=new Mr(w.id,this.urlSerializer.serialize(w.extractedUrl),k,G);this.events.next(ae),w.resolve(!1)}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function vn(S){return S!==pr}let wr=(()=>{class S{buildTitle(w){let k,G=w.root;for(;void 0!==G;)k=this.getResolvedTitleForRoute(G)??k,G=G.children.find(ae=>ae.outlet===zt);return k}getResolvedTitleForRoute(w){return w.data[hn]}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:function(){return(0,g.f3M)(Gr)},providedIn:"root"})}return S})(),Gr=(()=>{class S extends wr{constructor(w){super(),this.title=w}updateTitle(w){const k=this.buildTitle(w);void 0!==k&&this.title.setTitle(k)}static#e=this.\u0275fac=function(k){return new(k||S)(g.LFG($t.Dx))};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})(),Fr=(()=>{class S{static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:function(){return(0,g.f3M)(Wr)},providedIn:"root"})}return S})();class dr{shouldDetach(N){return!1}store(N,w){}shouldAttach(N){return!1}retrieve(N){return null}shouldReuseRoute(N,w){return N.routeConfig===w.routeConfig}}let Wr=(()=>{class S extends dr{static#e=this.\u0275fac=function(){let w;return function(G){return(w||(w=g.n5z(S)))(G||S)}}();static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const Or=new g.OlP("",{providedIn:"root",factory:()=>({})});let xi=(()=>{class S{static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:function(){return(0,g.f3M)(ps)},providedIn:"root"})}return S})(),ps=(()=>{class S{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,k){return w}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();var rs=function(S){return S[S.COMPLETE=0]="COMPLETE",S[S.FAILED=1]="FAILED",S[S.REDIRECTING=2]="REDIRECTING",S}(rs||{});function aa(S,N){S.events.pipe((0,ge.h)(w=>w instanceof Li||w instanceof Mr||w instanceof Ji||w instanceof Vs),(0,$e.U)(w=>w instanceof Li||w instanceof Vs?rs.COMPLETE:w instanceof Mr&&(0===w.code||1===w.code)?rs.REDIRECTING:rs.FAILED),(0,ge.h)(w=>w!==rs.REDIRECTING),(0,Ct.q)(1)).subscribe(()=>{N()})}function Us(S){throw S}function ii(S,N,w){return N.parse("/")}const Yn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ca={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ks=(()=>{class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,g.f3M)(g.c2e),this.isNgZoneEnabled=!1,this._events=new ze.x,this.options=(0,g.f3M)(Or,{optional:!0})||{},this.pendingTasks=(0,g.f3M)(g.HDt),this.errorHandler=this.options.errorHandler||Us,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ii,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,g.f3M)(xi),this.routeReuseStrategy=(0,g.f3M)(Fr),this.titleStrategy=(0,g.f3M)(wr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,g.f3M)(ne,{optional:!0})?.flat()??[],this.navigationTransitions=(0,g.f3M)(Mt),this.urlSerializer=(0,g.f3M)(hi),this.location=(0,g.f3M)(rt.Ye),this.componentInputBindingEnabled=!!(0,g.f3M)(zr,{optional:!0}),this.eventsSubscription=new mt.w0,this.isNgZoneEnabled=(0,g.f3M)(g.R0b)instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ar,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Mi(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(w=>{this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(k=>{try{const{currentTransition:G}=this.navigationTransitions;if(null===G)return void(Ia(k)&&this._events.next(k));if(k instanceof Ls)vn(G.source)&&(this.browserUrlTree=G.extractedUrl);else if(k instanceof Vs)this.rawUrlTree=G.rawUrl;else if(k instanceof Di){if("eager"===this.urlUpdateStrategy){if(!G.extras.skipLocationChange){const ae=this.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl);this.setBrowserUrl(ae,G)}this.browserUrlTree=G.urlAfterRedirects}}else if(k instanceof Co)this.currentUrlTree=G.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl),this.routerState=G.targetRouterState,"deferred"===this.urlUpdateStrategy&&(G.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,G),this.browserUrlTree=G.urlAfterRedirects);else if(k instanceof Mr)0!==k.code&&1!==k.code&&(this.navigated=!0),(3===k.code||2===k.code)&&this.restoreHistory(G);else if(k instanceof cs){const ae=this.urlHandlingStrategy.merge(k.url,G.currentRawUrl),Ce={skipLocationChange:G.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||vn(G.source)};this.scheduleNavigation(ae,pr,null,Ce,{resolve:G.resolve,reject:G.reject,promise:G.promise})}k instanceof Ji&&this.restoreHistory(G,!0),k instanceof Li&&(this.navigated=!0),Ia(k)&&this._events.next(k)}catch(G){this.navigationTransitions.transitionAbortSubject.next(G)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),pr,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const k="popstate"===w.type?"popstate":"hashchange";"popstate"===k&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,k,w.state)},0)}))}navigateToSyncWithBrowser(w,k,G){const ae={replaceUrl:!0},Ce=G?.navigationId?G:null;if(G){const ut={...G};delete ut.navigationId,delete ut.\u0275routerPageId,0!==Object.keys(ut).length&&(ae.state=ut)}const ct=this.parseUrl(w);this.scheduleNavigation(ct,k,Ce,ae)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(Ki),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,k={}){const{relativeTo:G,queryParams:ae,fragment:Ce,queryParamsHandling:ct,preserveFragment:ut}=k,_n=ut?this.currentUrlTree.fragment:Ce;let qr,_r=null;switch(ct){case"merge":_r={...this.currentUrlTree.queryParams,...ae};break;case"preserve":_r=this.currentUrlTree.queryParams;break;default:_r=ae||null}null!==_r&&(_r=this.removeEmptyProps(_r));try{qr=ci(G?G.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||!w[0].startsWith("/"))&&(w=[]),qr=this.currentUrlTree.root}return Ds(qr,w,_r,_n??null)}navigateByUrl(w,k={skipLocationChange:!1}){const G=Jn(w)?w:this.parseUrl(w),ae=this.urlHandlingStrategy.merge(G,this.rawUrlTree);return this.scheduleNavigation(ae,pr,null,k)}navigate(w,k={skipLocationChange:!1}){return function si(S){for(let N=0;N<S.length;N++)if(null==S[N])throw new g.vHH(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,k),k)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let k;try{k=this.urlSerializer.parse(w)}catch(G){k=this.malformedUriErrorHandler(G,this.urlSerializer,w)}return k}isActive(w,k){let G;if(G=!0===k?{...Yn}:!1===k?{...ca}:k,Jn(w))return hr(this.currentUrlTree,w,G);const ae=this.parseUrl(w);return hr(this.currentUrlTree,ae,G)}removeEmptyProps(w){return Object.keys(w).reduce((k,G)=>{const ae=w[G];return null!=ae&&(k[G]=ae),k},{})}scheduleNavigation(w,k,G,ae,Ce){if(this.disposed)return Promise.resolve(!1);let ct,ut,_n;Ce?(ct=Ce.resolve,ut=Ce.reject,_n=Ce.promise):_n=new Promise((qr,er)=>{ct=qr,ut=er});const _r=this.pendingTasks.add();return aa(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(_r))}),this.navigationTransitions.handleNavigationRequest({source:k,restoredState:G,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:w,extras:ae,resolve:ct,reject:ut,promise:_n,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_n.catch(qr=>Promise.reject(qr))}setBrowserUrl(w,k){const G=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(G)||k.extras.replaceUrl){const Ce={...k.extras.state,...this.generateNgRouterState(k.id,this.browserPageId)};this.location.replaceState(G,"",Ce)}else{const ae={...k.extras.state,...this.generateNgRouterState(k.id,this.browserPageId+1)};this.location.go(G,"",ae)}}restoreHistory(w,k=!1){if("computed"===this.canceledNavigationResolution){const ae=this.currentPageId-this.browserPageId;0!==ae?this.location.historyGo(ae):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ae&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(k&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,k){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:k}:{navigationId:w}}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function Ia(S){return!(S instanceof Co||S instanceof cs)}let Uo=(()=>{class S{constructor(w,k,G,ae,Ce,ct){this.router=w,this.route=k,this.tabIndexAttribute=G,this.renderer=ae,this.el=Ce,this.locationStrategy=ct,this.href=null,this.commands=null,this.onChanges=new ze.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const ut=Ce.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ut||"area"===ut,this.isAnchorElement?this.subscription=w.events.subscribe(_n=>{_n instanceof Li&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,k,G,ae,Ce){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||k||G||ae||Ce||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const w=null===this.href?null:(0,g.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",w)}applyAttributeValue(w,k){const G=this.renderer,ae=this.el.nativeElement;null!==k?G.setAttribute(ae,w,k):G.removeAttribute(ae,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(k){return new(k||S)(g.Y36(Ks),g.Y36(qi),g.$8M("tabindex"),g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(rt.S$))};static#t=this.\u0275dir=g.lG2({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(k,G){1&k&&g.NdJ("click",function(Ce){return G.onClick(Ce.button,Ce.ctrlKey,Ce.shiftKey,Ce.altKey,Ce.metaKey)}),2&k&&g.uIk("target",G.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",g.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",g.VuI],replaceUrl:["replaceUrl","replaceUrl",g.VuI],routerLink:"routerLink"},standalone:!0,features:[g.Xq5,g.TTD]})}return S})();class Vl{}let sl=(()=>{class S{constructor(w,k,G,ae,Ce){this.router=w,this.injector=G,this.preloadingStrategy=ae,this.loader=Ce}setUpPreloading(){this.subscription=this.router.events.pipe((0,ge.h)(w=>w instanceof Li),(0,zn.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,k){const G=[];for(const ae of k){ae.providers&&!ae._injector&&(ae._injector=(0,g.MMx)(ae.providers,w,`Route: ${ae.path}`));const Ce=ae._injector??w,ct=ae._loadedInjector??Ce;(ae.loadChildren&&!ae._loadedRoutes&&void 0===ae.canLoad||ae.loadComponent&&!ae._loadedComponent)&&G.push(this.preloadConfig(Ce,ae)),(ae.children||ae._loadedRoutes)&&G.push(this.processRoutes(ct,ae.children??ae._loadedRoutes))}return(0,Ee.D)(G).pipe((0,Jt.J)())}preloadConfig(w,k){return this.preloadingStrategy.preload(k,()=>{let G;G=k.loadChildren&&void 0===k.canLoad?this.loader.loadChildren(w,k):(0,Pe.of)(null);const ae=G.pipe((0,Et.z)(Ce=>null===Ce?(0,Pe.of)(void 0):(k._loadedRoutes=Ce.routes,k._loadedInjector=Ce.injector,this.processRoutes(Ce.injector??w,Ce.routes))));if(k.loadComponent&&!k._loadedComponent){const Ce=this.loader.loadComponent(k);return(0,Ee.D)([ae,Ce]).pipe((0,Jt.J)())}return ae})}static#e=this.\u0275fac=function(k){return new(k||S)(g.LFG(Ks),g.LFG(g.Sil),g.LFG(g.lqb),g.LFG(Vl),g.LFG(j))};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const yc=new g.OlP("");let Du=(()=>{class S{constructor(w,k,G,ae,Ce={}){this.urlSerializer=w,this.transitions=k,this.viewportScroller=G,this.zone=ae,this.options=Ce,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ce.scrollPositionRestoration=Ce.scrollPositionRestoration||"disabled",Ce.anchorScrolling=Ce.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Ls?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof Li?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof Vs&&0===w.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof ei&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,k){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ei(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,k))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(k){g.$Z()};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac})}return S})();function jo(S,N){return{\u0275kind:S,\u0275providers:N}}function Xn(){const S=(0,g.f3M)(g.zs3);return N=>{const w=S.get(g.z2F);if(N!==w.components[0])return;const k=S.get(Ks),G=S.get(wd);1===S.get(ol)&&k.initialNavigation(),S.get(Ti,null,g.XFs.Optional)?.setUpPreloading(),S.get(yc,null,g.XFs.Optional)?.init(),k.resetRootComponentType(w.componentTypes[0]),G.closed||(G.next(),G.complete(),G.unsubscribe())}}const wd=new g.OlP("",{factory:()=>new ze.x}),ol=new g.OlP("",{providedIn:"root",factory:()=>1}),Ti=new g.OlP("");function Ka(S){return jo(0,[{provide:Ti,useExisting:sl},{provide:Vl,useExisting:S}])}const Ot=new g.OlP("ROUTER_FORROOT_GUARD"),Dr=[rt.Ye,{provide:hi,useClass:Qn},Ks,ys,{provide:qi,useFactory:function Bo(S){return S.routerState.root},deps:[Ks]},j,[]];function Sd(){return new g.PXZ("Router",Ks)}let vc=(()=>{class S{constructor(w){}static forRoot(w,k){return{ngModule:S,providers:[Dr,[],{provide:ne,multi:!0,useValue:w},{provide:Ot,useFactory:Ts,deps:[[Ks,new g.FiY,new g.tp0]]},{provide:Or,useValue:k||{}},k?.useHash?{provide:rt.S$,useClass:rt.Do}:{provide:rt.S$,useClass:rt.b0},{provide:yc,useFactory:()=>{const S=(0,g.f3M)(rt.EM),N=(0,g.f3M)(g.R0b),w=(0,g.f3M)(Or),k=(0,g.f3M)(Mt),G=(0,g.f3M)(hi);return w.scrollOffset&&S.setOffset(w.scrollOffset),new Du(G,k,S,N,w)}},k?.preloadingStrategy?Ka(k.preloadingStrategy).\u0275providers:[],{provide:g.PXZ,multi:!0,useFactory:Sd},k?.initialNavigation?al(k):[],k?.bindToComponentInputs?jo(8,[ni,{provide:zr,useExisting:ni}]).\u0275providers:[],[{provide:Ec,useFactory:Xn},{provide:g.tb,multi:!0,useExisting:Ec}]]}}static forChild(w){return{ngModule:S,providers:[{provide:ne,multi:!0,useValue:w}]}}static#e=this.\u0275fac=function(k){return new(k||S)(g.LFG(Ot,8))};static#t=this.\u0275mod=g.oAB({type:S});static#n=this.\u0275inj=g.cJS({})}return S})();function Ts(S){return"guarded"}function al(S){return["disabled"===S.initialNavigation?jo(3,[{provide:g.ip1,multi:!0,useFactory:()=>{const N=(0,g.f3M)(Ks);return()=>{N.setUpLocationChangeListener()}}},{provide:ol,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?jo(2,[{provide:ol,useValue:0},{provide:g.ip1,multi:!0,deps:[g.zs3],useFactory:N=>{const w=N.get(rt.V_,Promise.resolve());return()=>w.then(()=>new Promise(k=>{const G=N.get(Ks),ae=N.get(wd);aa(G,()=>{k(!0)}),N.get(Mt).afterPreactivation=()=>(k(!0),ae.closed?(0,Pe.of)(void 0):ae),G.initialNavigation()}))}}]).\u0275providers:[]]}const Ec=new g.OlP("")},5513:(Qt,We,H)=>{H.d(We,{Gb:()=>ja,Kz:()=>es,EI:()=>Ki,lT:()=>Kn,Iv:()=>ir,xP:()=>ia,Xd:()=>kn});var g=H(5861),u=H(4303),W=H(7879),Ie=H(9058),Ee=H(4537),Pe=H(1878);const me="@firebase/installations",Ae="0.6.7",xe=1e4,fe=`w:${Ae}`,ve="FIS_v2",Oe="https://firebaseinstallations.googleapis.com/v1",pt=36e5,It=new Ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function _t(de){return de instanceof Ie.ZR&&de.code.includes("request-failed")}function en({projectId:de}){return`${Oe}/projects/${de}/installations`}function Ze(de){return{token:de.token,requestStatus:2,expiresIn:ge(de.expiresIn),creationTime:Date.now()}}function ze(de,De){return rt.apply(this,arguments)}function rt(){return(rt=(0,g.Z)(function*(de,De){const St=(yield De.json()).error;return It.create("request-failed",{requestName:de,serverCode:St.code,serverMessage:St.message,serverStatus:St.status})})).apply(this,arguments)}function $e({apiKey:de}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":de})}function Ct(de){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,g.Z)(function*(de){const De=yield de();return De.status>=500&&De.status<600?de():De})).apply(this,arguments)}function ge(de){return Number(de.replace("s","000"))}function zn(){return(zn=(0,g.Z)(function*({appConfig:de,heartbeatServiceProvider:De},{fid:He}){const St=en(de),Vt=$e(de),on=De.getImmediate({optional:!0});if(on){const nr=yield on.getHeartbeatsHeader();nr&&Vt.append("x-firebase-client",nr)}const Wn={method:"POST",headers:Vt,body:JSON.stringify({fid:He,authVersion:ve,appId:de.appId,sdkVersion:fe})},Rn=yield Ct(()=>fetch(St,Wn));if(Rn.ok){const nr=yield Rn.json();return{fid:nr.fid||He,registrationStatus:2,refreshToken:nr.refreshToken,authToken:Ze(nr.authToken)}}throw yield ze("Create Installation",Rn)})).apply(this,arguments)}function bt(de){return new Promise(De=>{setTimeout(De,de)})}const rn=/^[cdef][\w-]{21}$/,at="";function Ne(){try{const de=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(de),de[0]=112+de[0]%16;const He=function _e(de){return function Nt(de){return btoa(String.fromCharCode(...de)).replace(/\+/g,"-").replace(/\//g,"_")}(de).substr(0,22)}(de);return rn.test(He)?He:at}catch{return at}}function Ve(de){return`${de.appName}!${de.appId}`}const et=new Map;function Xe(de,De){const He=Ve(de);Jt(He,De),function $t(de,De){const He=function hn(){return!zt&&"BroadcastChannel"in self&&(zt=new BroadcastChannel("[Firebase] FID Change"),zt.onmessage=de=>{Jt(de.data.key,de.data.fid)}),zt}();He&&He.postMessage({key:de,fid:De}),function Gn(){0===et.size&&zt&&(zt.close(),zt=null)}()}(He,De)}function Jt(de,De){const He=et.get(de);if(He)for(const St of He)St(De)}let zt=null;const pn="firebase-installations-database",Nn=1,qt="firebase-installations-store";let fn=null;function Tn(){return fn||(fn=(0,Pe.X3)(pn,Nn,{upgrade:(de,De)=>{0===De&&de.createObjectStore(qt)}})),fn}function Dn(de,De){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,g.Z)(function*(de,De){const He=Ve(de),Vt=(yield Tn()).transaction(qt,"readwrite"),on=Vt.objectStore(qt),gn=yield on.get(He);return yield on.put(De,He),yield Vt.done,(!gn||gn.fid!==De.fid)&&Xe(de,De.fid),De})).apply(this,arguments)}function ai(de){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,g.Z)(function*(de){const De=Ve(de),St=(yield Tn()).transaction(qt,"readwrite");yield St.objectStore(qt).delete(De),yield St.done})).apply(this,arguments)}function hr(de,De){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,g.Z)(function*(de,De){const He=Ve(de),Vt=(yield Tn()).transaction(qt,"readwrite"),on=Vt.objectStore(qt),gn=yield on.get(He),Wn=De(gn);return void 0===Wn?yield on.delete(He):yield on.put(Wn,He),yield Vt.done,Wn&&(!gn||gn.fid!==Wn.fid)&&Xe(de,Wn.fid),Wn})).apply(this,arguments)}function kt(de){return En.apply(this,arguments)}function En(){return En=(0,g.Z)(function*(de){let De;const He=yield hr(de.appConfig,St=>{const Vt=function Fn(de){return di(de||{fid:Ne(),registrationStatus:0})}(St),on=function wn(de,De){if(0===De.registrationStatus){if(!navigator.onLine)return{installationEntry:De,registrationPromise:Promise.reject(It.create("app-offline"))};const He={fid:De.fid,registrationStatus:1,registrationTime:Date.now()},St=function Nr(de,De){return Ar.apply(this,arguments)}(de,He);return{installationEntry:He,registrationPromise:St}}return 1===De.registrationStatus?{installationEntry:De,registrationPromise:qn(de)}:{installationEntry:De}}(de,Vt);return De=on.registrationPromise,on.installationEntry});return He.fid===at?{installationEntry:yield De}:{installationEntry:He,registrationPromise:De}}),En.apply(this,arguments)}function Ar(){return Ar=(0,g.Z)(function*(de,De){try{const He=yield function Ht(de,De){return zn.apply(this,arguments)}(de,De);return Dn(de.appConfig,He)}catch(He){throw _t(He)&&409===He.customData.serverCode?yield ai(de.appConfig):yield Dn(de.appConfig,{fid:De.fid,registrationStatus:0}),He}}),Ar.apply(this,arguments)}function qn(de){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,g.Z)(function*(de){let De=yield Sr(de.appConfig);for(;1===De.registrationStatus;)yield bt(100),De=yield Sr(de.appConfig);if(0===De.registrationStatus){const{installationEntry:He,registrationPromise:St}=yield kt(de);return St||He}return De})).apply(this,arguments)}function Sr(de){return hr(de,De=>{if(!De)throw It.create("installation-not-found");return di(De)})}function di(de){return function sn(de){return 1===de.registrationStatus&&de.registrationTime+xe<Date.now()}(de)?{fid:de.fid,registrationStatus:0}:de}function Qn(){return(Qn=(0,g.Z)(function*({appConfig:de,heartbeatServiceProvider:De},He){const St=function Tr(de,{fid:De}){return`${en(de)}/${De}/authTokens:generate`}(de,He),Vt=function it(de,{refreshToken:De}){const He=$e(de);return He.append("Authorization",function Et(de){return`${ve} ${de}`}(De)),He}(de,He),on=De.getImmediate({optional:!0});if(on){const nr=yield on.getHeartbeatsHeader();nr&&Vt.append("x-firebase-client",nr)}const Wn={method:"POST",headers:Vt,body:JSON.stringify({installation:{sdkVersion:fe,appId:de.appId}})},Rn=yield Ct(()=>fetch(St,Wn));if(Rn.ok)return Ze(yield Rn.json());throw yield ze("Generate Auth Token",Rn)})).apply(this,arguments)}function fr(de){return Ur.apply(this,arguments)}function Ur(){return Ur=(0,g.Z)(function*(de,De=!1){let He;const St=yield hr(de.appConfig,on=>{if(!jt(on))throw It.create("not-registered");const gn=on.authToken;if(!De&&function Mn(de){return 2===de.requestStatus&&!function Xr(de){const De=Date.now();return De<de.creationTime||de.creationTime+de.expiresIn<De+pt}(de)}(gn))return on;if(1===gn.requestStatus)return He=function qe(de,De){return Tt.apply(this,arguments)}(de,De),on;{if(!navigator.onLine)throw It.create("app-offline");const Wn=function Ft(de){const De={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},de),{authToken:De})}(on);return He=function Se(de,De){return ft.apply(this,arguments)}(de,Wn),Wn}});return He?yield He:St.authToken}),Ur.apply(this,arguments)}function Tt(){return(Tt=(0,g.Z)(function*(de,De){let He=yield oe(de.appConfig);for(;1===He.authToken.requestStatus;)yield bt(100),He=yield oe(de.appConfig);const St=He.authToken;return 0===St.requestStatus?fr(de,De):St})).apply(this,arguments)}function oe(de){return hr(de,De=>{if(!jt(De))throw It.create("not-registered");return function ue(de){return 1===de.requestStatus&&de.requestTime+xe<Date.now()}(De.authToken)?Object.assign(Object.assign({},De),{authToken:{requestStatus:0}}):De})}function ft(){return ft=(0,g.Z)(function*(de,De){try{const He=yield function hi(de,De){return Qn.apply(this,arguments)}(de,De),St=Object.assign(Object.assign({},De),{authToken:He});return yield Dn(de.appConfig,St),He}catch(He){if(!_t(He)||401!==He.customData.serverCode&&404!==He.customData.serverCode){const St=Object.assign(Object.assign({},De),{authToken:{requestStatus:0}});yield Dn(de.appConfig,St)}else yield ai(de.appConfig);throw He}}),ft.apply(this,arguments)}function jt(de){return void 0!==de&&2===de.registrationStatus}function $(){return($=(0,g.Z)(function*(de){const De=de,{installationEntry:He,registrationPromise:St}=yield kt(De);return St?St.catch(console.error):fr(De).catch(console.error),He.fid})).apply(this,arguments)}function F(){return F=(0,g.Z)(function*(de,De=!1){const He=de;return yield function he(de){return Fe.apply(this,arguments)}(He),(yield fr(He,De)).token}),F.apply(this,arguments)}function Fe(){return(Fe=(0,g.Z)(function*(de){const{registrationPromise:De}=yield kt(de);De&&(yield De)})).apply(this,arguments)}function Ds(de){return It.create("missing-app-config-values",{valueName:de})}const Io="installations",oo=de=>{const De=de.getProvider("app").getImmediate(),He=function ci(de){if(!de||!de.options)throw Ds("App Configuration");if(!de.name)throw Ds("App Name");const De=["projectId","apiKey","appId"];for(const He of De)if(!de.options[He])throw Ds(He);return{appName:de.name,projectId:de.options.projectId,apiKey:de.options.apiKey,appId:de.options.appId}}(De);return{app:De,appConfig:He,heartbeatServiceProvider:(0,u._getProvider)(De,"heartbeat"),_delete:()=>Promise.resolve()}},_s=de=>{const De=de.getProvider("app").getImmediate(),He=(0,u._getProvider)(De,Io).getImmediate();return{getId:()=>function X(de){return $.apply(this,arguments)}(He),getToken:Vt=>function B(de){return F.apply(this,arguments)}(He,Vt)}};(function ki(){(0,u._registerComponent)(new Ee.wA(Io,oo,"PUBLIC")),(0,u._registerComponent)(new Ee.wA("installations-internal",_s,"PRIVATE"))})(),(0,u.registerVersion)(me,Ae),(0,u.registerVersion)(me,Ae,"esm2017");const gr="analytics",Fs="firebase_id",bo="origin",ya=6e4,Jc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Fi="https://www.googletagmanager.com/gtag/js",kr=new W.Yd("@firebase/analytics"),Zr=new Ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ea(de){if(!de.startsWith(Fi)){const De=Zr.create("invalid-gtag-resource",{gtagURL:de});return kr.warn(De.message),""}return de}function ta(de){return Promise.all(de.map(De=>De.catch(He=>He)))}function Li(){return(Li=(0,g.Z)(function*(de,De,He,St,Vt,on){const gn=St[Vt];try{if(gn)yield De[gn];else{const Rn=(yield ta(He)).find(nr=>nr.measurementId===Vt);Rn&&(yield De[Rn.appId])}}catch(Wn){kr.error(Wn)}de("config",Vt,on)})).apply(this,arguments)}function Vs(){return(Vs=(0,g.Z)(function*(de,De,He,St,Vt){try{let on=[];if(Vt&&Vt.send_to){let gn=Vt.send_to;Array.isArray(gn)||(gn=[gn]);const Wn=yield ta(He);for(const Rn of gn){const nr=Wn.find(fs=>fs.measurementId===Rn),Vi=nr&&De[nr.appId];if(!Vi){on=[];break}on.push(Vi)}}0===on.length&&(on=Object.values(De)),yield Promise.all(on),de("event",St,Vt||{})}catch(on){kr.error(on)}})).apply(this,arguments)}const Br=30,Pr=new class Ii{constructor(De={},He=1e3){this.throttleMetadata=De,this.intervalMillis=He}getThrottleMetadata(De){return this.throttleMetadata[De]}setThrottleMetadata(De,He){this.throttleMetadata[De]=He}deleteThrottleMetadata(De){delete this.throttleMetadata[De]}};function ra(de){return new Headers({Accept:"application/json","x-goog-api-key":de})}function bi(){return(bi=(0,g.Z)(function*(de){var De;const{appId:He,apiKey:St}=de,Vt={method:"GET",headers:ra(St)},on=Jc.replace("{app-id}",He),gn=yield fetch(on,Vt);if(200!==gn.status&&304!==gn.status){let Wn="";try{const Rn=yield gn.json();null!==(De=Rn.error)&&void 0!==De&&De.message&&(Wn=Rn.error.message)}catch{}throw Zr.create("config-fetch-failed",{httpStatus:gn.status,responseMessage:Wn})}return gn.json()})).apply(this,arguments)}function To(){return(To=(0,g.Z)(function*(de,De=Pr,He){const{appId:St,apiKey:Vt,measurementId:on}=de.options;if(!St)throw Zr.create("no-app-id");if(!Vt){if(on)return{measurementId:on,appId:St};throw Zr.create("no-api-key")}const gn=De.getThrottleMetadata(St)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Wn=new ls;return setTimeout((0,g.Z)(function*(){Wn.abort()}),void 0!==He?He:ya),ei({appId:St,apiKey:Vt,measurementId:on},gn,Wn,De)})).apply(this,arguments)}function ei(de,De,He){return Co.apply(this,arguments)}function Co(){return Co=(0,g.Z)(function*(de,{throttleEndTimeMillis:De,backoffCount:He},St,Vt=Pr){var on;const{appId:gn,measurementId:Wn}=de;try{yield function cs(de,De){return new Promise((He,St)=>{const Vt=Math.max(De-Date.now(),0),on=setTimeout(He,Vt);de.addEventListener(()=>{clearTimeout(on),St(Zr.create("fetch-throttle",{throttleEndTimeMillis:De}))})})}(St,De)}catch(Rn){if(Wn)return kr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Wn} provided in the "measurementId" field in the local Firebase config. [${Rn?.message}]`),{appId:gn,measurementId:Wn};throw Rn}try{const Rn=yield function Ss(de){return bi.apply(this,arguments)}(de);return Vt.deleteThrottleMetadata(gn),Rn}catch(Rn){const nr=Rn;if(!function ti(de){if(!(de instanceof Ie.ZR&&de.customData))return!1;const De=Number(de.customData.httpStatus);return 429===De||500===De||503===De||504===De}(nr)){if(Vt.deleteThrottleMetadata(gn),Wn)return kr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Wn} provided in the "measurementId" field in the local Firebase config. [${nr?.message}]`),{appId:gn,measurementId:Wn};throw Rn}const Vi=503===Number(null===(on=nr?.customData)||void 0===on?void 0:on.httpStatus)?(0,Ie.$s)(He,Vt.intervalMillis,Br):(0,Ie.$s)(He,Vt.intervalMillis),fs={throttleEndTimeMillis:Date.now()+Vi,backoffCount:He+1};return Vt.setThrottleMetadata(gn,fs),kr.debug(`Calling attemptFetch again in ${Vi} millis`),ei(de,fs,St,Vt)}}),Co.apply(this,arguments)}class ls{constructor(){this.listeners=[]}addEventListener(De){this.listeners.push(De)}abort(){this.listeners.forEach(De=>De())}}let ys,us;function Si(){return(Si=(0,g.Z)(function*(de,De,He,St,Vt){if(Vt&&Vt.global)de("event",He,St);else{const on=yield De;de("event",He,Object.assign(Object.assign({},St),{send_to:on}))}})).apply(this,arguments)}function Pn(){return(Pn=(0,g.Z)(function*(de,De,He,St){if(St&&St.global)return de("set",{screen_name:He}),Promise.resolve();de("config",yield De,{update:!0,screen_name:He})})).apply(this,arguments)}function jr(){return(jr=(0,g.Z)(function*(de,De,He,St){if(St&&St.global)return de("set",{user_id:He}),Promise.resolve();de("config",yield De,{update:!0,user_id:He})})).apply(this,arguments)}function xr(){return(xr=(0,g.Z)(function*(de,De,He,St){if(St&&St.global){const Vt={};for(const on of Object.keys(He))Vt[`user_properties.${on}`]=He[on];return de("set",Vt),Promise.resolve()}de("config",yield De,{update:!0,user_properties:He})})).apply(this,arguments)}function Pi(){return(Pi=(0,g.Z)(function*(de,De){const He=yield de;window[`ga-disable-${He}`]=!De})).apply(this,arguments)}function mr(){return(mr=(0,g.Z)(function*(){if(!(0,Ie.hl)())return kr.warn(Zr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ie.eu)()}catch(de){return kr.warn(Zr.create("indexeddb-unavailable",{errorInfo:de?.toString()}).message),!1}return!0})).apply(this,arguments)}function vs(){return vs=(0,g.Z)(function*(de,De,He,St,Vt,on,gn){var Wn;const Rn=function Gi(de){return To.apply(this,arguments)}(de);Rn.then(ee=>{He[ee.measurementId]=ee.appId,de.options.measurementId&&ee.measurementId!==de.options.measurementId&&kr.warn(`The measurement ID in the local Firebase config (${de.options.measurementId}) does not match the measurement ID fetched from the server (${ee.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ee=>kr.error(ee)),De.push(Rn);const nr=function Ln(){return mr.apply(this,arguments)}().then(ee=>{if(ee)return St.getId()}),[Vi,fs]=yield Promise.all([Rn,nr]);(function Ua(de){const De=window.document.getElementsByTagName("script");for(const He of Object.values(De))if(He.src&&He.src.includes(Fi)&&He.src.includes(de))return He;return null})(on)||function pr(de,De){const He=function na(de,De){let He;return window.trustedTypes&&(He=window.trustedTypes.createPolicy(de,De)),He}("firebase-js-sdk-policy",{createScriptURL:ea}),St=document.createElement("script"),Vt=`${Fi}?l=${de}&id=${De}`;St.src=He?He?.createScriptURL(Vt):Vt,St.async=!0,document.head.appendChild(St)}(on,Vi.measurementId),us&&(Vt("consent","default",us),function br(de){us=de}(void 0)),Vt("js",new Date);const q=null!==(Wn=gn?.config)&&void 0!==Wn?Wn:{};return q[bo]="firebase",q.update=!0,null!=fs&&(q[Fs]=fs),Vt("config",Vi.measurementId,q),ys&&(Vt("set",ys),function Xt(de){ys=de}(void 0)),Vi.measurementId}),vs.apply(this,arguments)}class zr{constructor(De){this.app=De}_delete(){return delete ni[this.app.options.appId],Promise.resolve()}}let ni={},rr=[];const Wi={};let Zi,or,Es="dataLayer",jn="gtag",mi=!1;function kn(de){if(mi)throw Zr.create("already-initialized");de.dataLayerName&&(Es=de.dataLayerName),de.gtagName&&(jn=de.gtagName)}function _i(de,De,He){!function Xi(){const de=[];if((0,Ie.ru)()&&de.push("This is a browser extension environment."),(0,Ie.zI)()||de.push("Cookies are not available."),de.length>0){const De=de.map((St,Vt)=>`(${Vt+1}) ${St}`).join(" "),He=Zr.create("invalid-analytics-context",{errorInfo:De});kr.warn(He.message)}}();const St=de.options.appId;if(!St)throw Zr.create("no-app-id");if(!de.options.apiKey){if(!de.options.measurementId)throw Zr.create("no-api-key");kr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${de.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ni[St])throw Zr.create("already-exists",{id:St});if(!mi){!function wi(de){let De=[];Array.isArray(window[de])?De=window[de]:window[de]=De}(Es);const{wrappedGtag:on,gtagCore:gn}=function Di(de,De,He,St,Vt){let on=function(...gn){window[St].push(arguments)};return window[Vt]&&"function"==typeof window[Vt]&&(on=window[Vt]),window[Vt]=function Ji(de,De,He,St){function on(){return on=(0,g.Z)(function*(gn,...Wn){try{if("event"===gn){const[Rn,nr]=Wn;yield function Mr(de,De,He,St,Vt){return Vs.apply(this,arguments)}(de,De,He,Rn,nr)}else if("config"===gn){const[Rn,nr]=Wn;yield function Ls(de,De,He,St,Vt,on){return Li.apply(this,arguments)}(de,De,He,St,Rn,nr)}else if("consent"===gn){const[Rn,nr]=Wn;de("consent",Rn,nr)}else if("get"===gn){const[Rn,nr,Vi]=Wn;de("get",Rn,nr,Vi)}else if("set"===gn){const[Rn]=Wn;de("set",Rn)}else de(gn,...Wn)}catch(Rn){kr.error(Rn)}}),on.apply(this,arguments)}return function Vt(gn){return on.apply(this,arguments)}}(on,de,De,He),{gtagCore:on,wrappedGtag:window[Vt]}}(ni,rr,Wi,Es,jn);or=on,Zi=gn,mi=!0}return ni[St]=function gi(de,De,He,St,Vt,on,gn){return vs.apply(this,arguments)}(de,rr,Wi,De,Zi,Es,He),new zr(de)}function ja(){return hs.apply(this,arguments)}function hs(){return(hs=(0,g.Z)(function*(){if((0,Ie.ru)()||!(0,Ie.zI)()||!(0,Ie.hl)())return!1;try{return yield(0,Ie.eu)()}catch{return!1}})).apply(this,arguments)}function Kn(de,De,He){de=(0,Ie.m9)(de),function wo(de,De,He,St){return Pn.apply(this,arguments)}(or,ni[de.app.options.appId],De,He).catch(St=>kr.error(St))}function ir(de,De,He){de=(0,Ie.m9)(de),function Rr(de,De,He,St){return jr.apply(this,arguments)}(or,ni[de.app.options.appId],De,He).catch(St=>kr.error(St))}function ia(de,De,He){de=(0,Ie.m9)(de),function Mi(de,De,He,St){return xr.apply(this,arguments)}(or,ni[de.app.options.appId],De,He).catch(St=>kr.error(St))}function Ki(de,De){de=(0,Ie.m9)(de),function Ao(de,De){return Pi.apply(this,arguments)}(ni[de.app.options.appId],De).catch(He=>kr.error(He))}function es(de,De,He,St){de=(0,Ie.m9)(de),function ao(de,De,He,St,Vt){return Si.apply(this,arguments)}(or,ni[de.app.options.appId],De,He,St).catch(Vt=>kr.error(Vt))}const co="@firebase/analytics";!function Kr(){(0,u._registerComponent)(new Ee.wA(gr,(De,{options:He})=>_i(De.getProvider("app").getImmediate(),De.getProvider("installations-internal").getImmediate(),He),"PUBLIC")),(0,u._registerComponent)(new Ee.wA("analytics-internal",function de(De){try{const He=De.getProvider(gr).getImmediate();return{logEvent:(St,Vt,on)=>es(He,St,Vt,on)}}catch(He){throw Zr.create("interop-component-reg-failed",{reason:He})}},"PRIVATE")),(0,u.registerVersion)(co,"0.10.4"),(0,u.registerVersion)(co,"0.10.4","esm2017")}()},3106:(Qt,We,H)=>{H.d(We,{Z:()=>Dt});var g=H(9058),u=H(4537),W=H(4303),Ie=H(7879);class Ee{constructor(It,_t){this._delegate=It,this.firebase=_t,(0,W._addComponent)(It,new u.wA("app-compat",()=>this,"PUBLIC")),this.container=It.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(It){this._delegate.automaticDataCollectionEnabled=It}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(It=>{this._delegate.checkDestroyed(),It()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,W.deleteApp)(this._delegate)))}_getService(It,_t=W._DEFAULT_ENTRY_NAME){var en;this._delegate.checkDestroyed();const Ze=this._delegate.container.getProvider(It);return!Ze.isInitialized()&&"EXPLICIT"===(null===(en=Ze.getComponent())||void 0===en?void 0:en.instantiationMode)&&Ze.initialize(),Ze.getImmediate({identifier:_t})}_removeServiceInstance(It,_t=W._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(It).clearInstance(_t)}_addComponent(It){(0,W._addComponent)(this._delegate,It)}_addOrOverwriteComponent(It){(0,W._addOrOverwriteComponent)(this._delegate,It)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const me=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),fe=function xe(){const mt=function Ae(mt){const It={},_t={__esModule:!0,initializeApp:function ze(Ct,Ye={}){const ge=W.initializeApp(Ct,Ye);if((0,g.r3)(It,ge.name))return It[ge.name];const Et=new mt(ge,_t);return It[ge.name]=Et,Et},app:Ze,registerVersion:W.registerVersion,setLogLevel:W.setLogLevel,onLog:W.onLog,apps:null,SDK_VERSION:W.SDK_VERSION,INTERNAL:{registerComponent:function $e(Ct){const Ye=Ct.name,ge=Ye.replace("-compat","");if(W._registerComponent(Ct)&&"PUBLIC"===Ct.type){const Et=(Ht=Ze())=>{if("function"!=typeof Ht[ge])throw me.create("invalid-app-argument",{appName:Ye});return Ht[ge]()};void 0!==Ct.serviceProps&&(0,g.ZB)(Et,Ct.serviceProps),_t[ge]=Et,mt.prototype[ge]=function(...Ht){return this._getService.bind(this,Ye).apply(this,Ct.multipleInstances?Ht:[])}}return"PUBLIC"===Ct.type?_t[ge]:null},removeApp:function en(Ct){delete It[Ct]},useAsService:function it(Ct,Ye){return"serverAuth"===Ye?null:Ye},modularAPIs:W}};function Ze(Ct){if(!(0,g.r3)(It,Ct=Ct||W._DEFAULT_ENTRY_NAME))throw me.create("no-app",{appName:Ct});return It[Ct]}return _t.default=_t,Object.defineProperty(_t,"apps",{get:function rt(){return Object.keys(It).map(Ct=>It[Ct])}}),Ze.App=mt,_t}(Ee);return mt.INTERNAL=Object.assign(Object.assign({},mt.INTERNAL),{createFirebaseNamespace:xe,extendNamespace:function It(_t){(0,g.ZB)(mt,_t)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),mt}(),ve=new Ie.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){ve.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const mt=self.firebase.SDK_VERSION;mt&&mt.indexOf("LITE")>=0&&ve.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Dt=fe;!function Je(mt){(0,W.registerVersion)("@firebase/app-compat","0.2.35",mt)}()},4303:(Qt,We,H)=>{H.r(We),H.d(We,{FirebaseError:()=>Ie.ZR,SDK_VERSION:()=>ai,_DEFAULT_ENTRY_NAME:()=>Ve,_addComponent:()=>Jt,_addOrOverwriteComponent:()=>$t,_apps:()=>Xe,_clearComponents:()=>qt,_components:()=>vt,_getProvider:()=>hn,_isFirebaseApp:()=>pn,_isFirebaseServerApp:()=>Nn,_registerComponent:()=>zt,_removeServiceInstance:()=>Gn,_serverApps:()=>gt,deleteApp:()=>En,getApp:()=>Hn,getApps:()=>kt,initializeApp:()=>Cn,initializeServerApp:()=>hr,onLog:()=>Nr,registerVersion:()=>wn,setLogLevel:()=>Ar});var g=H(5861),u=H(4537),W=H(7879),Ie=H(9058),Ee=H(1878);class Pe{constructor(ue){this.container=ue}getPlatformInfoString(){return this.container.getProviders().map(X=>{if(function me(Ft){const ue=Ft.getComponent();return"VERSION"===ue?.type}(X)){const $=X.getImmediate();return`${$.library}/${$.version}`}return null}).filter(X=>X).join(" ")}}const Ae="@firebase/app",xe="0.10.5",fe=new W.Yd("@firebase/app"),Ve="[DEFAULT]",et={[Ae]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Xe=new Map,gt=new Map,vt=new Map;function Jt(Ft,ue){try{Ft.container.addComponent(ue)}catch(X){fe.debug(`Component ${ue.name} failed to register with FirebaseApp ${Ft.name}`,X)}}function $t(Ft,ue){Ft.container.addOrOverwriteComponent(ue)}function zt(Ft){const ue=Ft.name;if(vt.has(ue))return fe.debug(`There were multiple attempts to register component ${ue}.`),!1;vt.set(ue,Ft);for(const X of Xe.values())Jt(X,Ft);for(const X of gt.values())Jt(X,Ft);return!0}function hn(Ft,ue){const X=Ft.container.getProvider("heartbeat").getImmediate({optional:!0});return X&&X.triggerHeartbeat(),Ft.container.getProvider(ue)}function Gn(Ft,ue,X=Ve){hn(Ft,ue).clearInstance(X)}function pn(Ft){return void 0!==Ft.options}function Nn(Ft){return void 0!==Ft.settings}function qt(){vt.clear()}const Tn=new Ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Dn{constructor(ue,X,$){this._isDeleted=!1,this._options=Object.assign({},ue),this._config=Object.assign({},X),this._name=X.name,this._automaticDataCollectionEnabled=X.automaticDataCollectionEnabled,this._container=$,this.container.addComponent(new u.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ue){this.checkDestroyed(),this._automaticDataCollectionEnabled=ue}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ue){this._isDeleted=ue}checkDestroyed(){if(this.isDeleted)throw Tn.create("app-deleted",{appName:this._name})}}class Kt extends Dn{constructor(ue,X,$,B){const F=void 0!==X.automaticDataCollectionEnabled&&X.automaticDataCollectionEnabled,he={name:$,automaticDataCollectionEnabled:F};super(void 0!==ue.apiKey?ue:ue.options,he,B),this._serverConfig=Object.assign({automaticDataCollectionEnabled:F},X),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,X.releaseOnDeref=void 0,wn(Ae,xe,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(ue){this.isDeleted||(this._refCount++,void 0!==ue&&this._finalizationRegistry.register(ue,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){En(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Tn.create("server-app-deleted")}}const ai="10.12.2";function Cn(Ft,ue={}){let X=Ft;"object"!=typeof ue&&(ue={name:ue});const $=Object.assign({name:Ve,automaticDataCollectionEnabled:!1},ue),B=$.name;if("string"!=typeof B||!B)throw Tn.create("bad-app-name",{appName:String(B)});if(X||(X=(0,Ie.aH)()),!X)throw Tn.create("no-options");const F=Xe.get(B);if(F){if((0,Ie.vZ)(X,F.options)&&(0,Ie.vZ)($,F.config))return F;throw Tn.create("duplicate-app",{appName:B})}const he=new u.H0(B);for(const yt of vt.values())he.addComponent(yt);const Fe=new Dn(X,$,he);return Xe.set(B,Fe),Fe}function hr(Ft,ue){if((0,Ie.jU)())throw Tn.create("invalid-server-app-environment");let X;void 0===ue.automaticDataCollectionEnabled&&(ue.automaticDataCollectionEnabled=!1),X=pn(Ft)?Ft.options:Ft;const $=Object.assign(Object.assign({},ue),X);if(void 0!==$.releaseOnDeref&&delete $.releaseOnDeref,void 0!==ue.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Tn.create("finalization-registry-not-supported",{});const F=""+(Rt=JSON.stringify($),[...Rt].reduce((tn,nn)=>Math.imul(31,tn)+nn.charCodeAt(0)|0,0)),he=gt.get(F);var Rt;if(he)return he.incRefCount(ue.releaseOnDeref),he;const Fe=new u.H0(F);for(const Rt of vt.values())Fe.addComponent(Rt);const yt=new Kt(X,ue,F,Fe);return gt.set(F,yt),yt}function Hn(Ft=Ve){const ue=Xe.get(Ft);if(!ue&&Ft===Ve&&(0,Ie.aH)())return Cn();if(!ue)throw Tn.create("no-app",{appName:Ft});return ue}function kt(){return Array.from(Xe.values())}function En(Ft){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,g.Z)(function*(Ft){let ue=!1;const X=Ft.name;Xe.has(X)?(ue=!0,Xe.delete(X)):gt.has(X)&&Ft.decRefCount()<=0&&(gt.delete(X),ue=!0),ue&&(yield Promise.all(Ft.container.getProviders().map($=>$.delete())),Ft.isDeleted=!0)})).apply(this,arguments)}function wn(Ft,ue,X){var $;let B=null!==($=et[Ft])&&void 0!==$?$:Ft;X&&(B+=`-${X}`);const F=B.match(/\s|\//),he=ue.match(/\s|\//);if(F||he){const Fe=[`Unable to register library "${B}" with version "${ue}":`];return F&&Fe.push(`library name "${B}" contains illegal characters (whitespace or "/")`),F&&he&&Fe.push("and"),he&&Fe.push(`version name "${ue}" contains illegal characters (whitespace or "/")`),void fe.warn(Fe.join(" "))}zt(new u.wA(`${B}-version`,()=>({library:B,version:ue}),"VERSION"))}function Nr(Ft,ue){if(null!==Ft&&"function"!=typeof Ft)throw Tn.create("invalid-log-argument");(0,W.Am)(Ft,ue)}function Ar(Ft){(0,W.Ub)(Ft)}const qn="firebase-heartbeat-database",Bn=1,Sr="firebase-heartbeat-store";let di=null;function sn(){return di||(di=(0,Ee.X3)(qn,Bn,{upgrade:(Ft,ue)=>{if(0===ue)try{Ft.createObjectStore(Sr)}catch(X){console.warn(X)}}}).catch(Ft=>{throw Tn.create("idb-open",{originalErrorMessage:Ft.message})})),di}function Qn(){return(Qn=(0,g.Z)(function*(Ft){try{const X=(yield sn()).transaction(Sr),$=yield X.objectStore(Sr).get(Ur(Ft));return yield X.done,$}catch(ue){if(ue instanceof Ie.ZR)fe.warn(ue.message);else{const X=Tn.create("idb-get",{originalErrorMessage:ue?.message});fe.warn(X.message)}}})).apply(this,arguments)}function Tr(Ft,ue){return fr.apply(this,arguments)}function fr(){return(fr=(0,g.Z)(function*(Ft,ue){try{const $=(yield sn()).transaction(Sr,"readwrite");yield $.objectStore(Sr).put(ue,Ur(Ft)),yield $.done}catch(X){if(X instanceof Ie.ZR)fe.warn(X.message);else{const $=Tn.create("idb-set",{originalErrorMessage:X?.message});fe.warn($.message)}}})).apply(this,arguments)}function Ur(Ft){return`${Ft.name}!${Ft.options.appId}`}class oe{constructor(ue){this.container=ue,this._heartbeatsCache=null;const X=this.container.getProvider("app").getImmediate();this._storage=new jt(X),this._heartbeatsCachePromise=this._storage.read().then($=>(this._heartbeatsCache=$,$))}triggerHeartbeat(){var ue=this;return(0,g.Z)(function*(){var X,$;const F=ue.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),he=Se();if((null!=(null===(X=ue._heartbeatsCache)||void 0===X?void 0:X.heartbeats)||(ue._heartbeatsCache=yield ue._heartbeatsCachePromise,null!=(null===($=ue._heartbeatsCache)||void 0===$?void 0:$.heartbeats)))&&ue._heartbeatsCache.lastSentHeartbeatDate!==he&&!ue._heartbeatsCache.heartbeats.some(Fe=>Fe.date===he))return ue._heartbeatsCache.heartbeats.push({date:he,agent:F}),ue._heartbeatsCache.heartbeats=ue._heartbeatsCache.heartbeats.filter(Fe=>{const yt=new Date(Fe.date).valueOf();return Date.now()-yt<=2592e6}),ue._storage.overwrite(ue._heartbeatsCache)})()}getHeartbeatsHeader(){var ue=this;return(0,g.Z)(function*(){var X;if(null===ue._heartbeatsCache&&(yield ue._heartbeatsCachePromise),null==(null===(X=ue._heartbeatsCache)||void 0===X?void 0:X.heartbeats)||0===ue._heartbeatsCache.heartbeats.length)return"";const $=Se(),{heartbeatsToSend:B,unsentEntries:F}=function ft(Ft,ue=1024){const X=[];let $=Ft.slice();for(const B of Ft){const F=X.find(he=>he.agent===B.agent);if(F){if(F.dates.push(B.date),Mn(X)>ue){F.dates.pop();break}}else if(X.push({agent:B.agent,dates:[B.date]}),Mn(X)>ue){X.pop();break}$=$.slice(1)}return{heartbeatsToSend:X,unsentEntries:$}}(ue._heartbeatsCache.heartbeats),he=(0,Ie.L)(JSON.stringify({version:2,heartbeats:B}));return ue._heartbeatsCache.lastSentHeartbeatDate=$,F.length>0?(ue._heartbeatsCache.heartbeats=F,yield ue._storage.overwrite(ue._heartbeatsCache)):(ue._heartbeatsCache.heartbeats=[],ue._storage.overwrite(ue._heartbeatsCache)),he})()}}function Se(){return(new Date).toISOString().substring(0,10)}class jt{constructor(ue){this.app=ue,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,Ie.hl)()&&(0,Ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ue=this;return(0,g.Z)(function*(){if(yield ue._canUseIndexedDBPromise){const $=yield function hi(Ft){return Qn.apply(this,arguments)}(ue.app);return $?.heartbeats?$:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(ue){var X=this;return(0,g.Z)(function*(){var $;if(yield X._canUseIndexedDBPromise){const F=yield X.read();return Tr(X.app,{lastSentHeartbeatDate:null!==($=ue.lastSentHeartbeatDate)&&void 0!==$?$:F.lastSentHeartbeatDate,heartbeats:ue.heartbeats})}})()}add(ue){var X=this;return(0,g.Z)(function*(){var $;if(yield X._canUseIndexedDBPromise){const F=yield X.read();return Tr(X.app,{lastSentHeartbeatDate:null!==($=ue.lastSentHeartbeatDate)&&void 0!==$?$:F.lastSentHeartbeatDate,heartbeats:[...F.heartbeats,...ue.heartbeats]})}})()}}function Mn(Ft){return(0,Ie.L)(JSON.stringify({version:2,heartbeats:Ft})).length}!function Xr(Ft){zt(new u.wA("platform-logger",ue=>new Pe(ue),"PRIVATE")),zt(new u.wA("heartbeat",ue=>new oe(ue),"PRIVATE")),wn(Ae,xe,Ft),wn(Ae,xe,"esm2017"),wn("fire-js","")}("")},4537:(Qt,We,H)=>{H.d(We,{H0:()=>Ae,wA:()=>W});var g=H(5861),u=H(9058);class W{constructor(fe,ve,Oe){this.name=fe,this.instanceFactory=ve,this.type=Oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(fe){return this.instantiationMode=fe,this}setMultipleInstances(fe){return this.multipleInstances=fe,this}setServiceProps(fe){return this.serviceProps=fe,this}setInstanceCreatedCallback(fe){return this.onInstanceCreated=fe,this}}const Ie="[DEFAULT]";class Ee{constructor(fe,ve){this.name=fe,this.container=ve,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(fe){const ve=this.normalizeInstanceIdentifier(fe);if(!this.instancesDeferred.has(ve)){const Oe=new u.BH;if(this.instancesDeferred.set(ve,Oe),this.isInitialized(ve)||this.shouldAutoInitialize())try{const pt=this.getOrInitializeService({instanceIdentifier:ve});pt&&Oe.resolve(pt)}catch{}}return this.instancesDeferred.get(ve).promise}getImmediate(fe){var ve;const Oe=this.normalizeInstanceIdentifier(fe?.identifier),pt=null!==(ve=fe?.optional)&&void 0!==ve&&ve;if(!this.isInitialized(Oe)&&!this.shouldAutoInitialize()){if(pt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Oe})}catch(Je){if(pt)return null;throw Je}}getComponent(){return this.component}setComponent(fe){if(fe.name!==this.name)throw Error(`Mismatching Component ${fe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=fe,this.shouldAutoInitialize()){if(function me(xe){return"EAGER"===xe.instantiationMode}(fe))try{this.getOrInitializeService({instanceIdentifier:Ie})}catch{}for(const[ve,Oe]of this.instancesDeferred.entries()){const pt=this.normalizeInstanceIdentifier(ve);try{const Je=this.getOrInitializeService({instanceIdentifier:pt});Oe.resolve(Je)}catch{}}}}clearInstance(fe=Ie){this.instancesDeferred.delete(fe),this.instancesOptions.delete(fe),this.instances.delete(fe)}delete(){var fe=this;return(0,g.Z)(function*(){const ve=Array.from(fe.instances.values());yield Promise.all([...ve.filter(Oe=>"INTERNAL"in Oe).map(Oe=>Oe.INTERNAL.delete()),...ve.filter(Oe=>"_delete"in Oe).map(Oe=>Oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(fe=Ie){return this.instances.has(fe)}getOptions(fe=Ie){return this.instancesOptions.get(fe)||{}}initialize(fe={}){const{options:ve={}}=fe,Oe=this.normalizeInstanceIdentifier(fe.instanceIdentifier);if(this.isInitialized(Oe))throw Error(`${this.name}(${Oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const pt=this.getOrInitializeService({instanceIdentifier:Oe,options:ve});for(const[Je,Dt]of this.instancesDeferred.entries())Oe===this.normalizeInstanceIdentifier(Je)&&Dt.resolve(pt);return pt}onInit(fe,ve){var Oe;const pt=this.normalizeInstanceIdentifier(ve),Je=null!==(Oe=this.onInitCallbacks.get(pt))&&void 0!==Oe?Oe:new Set;Je.add(fe),this.onInitCallbacks.set(pt,Je);const Dt=this.instances.get(pt);return Dt&&fe(Dt,pt),()=>{Je.delete(fe)}}invokeOnInitCallbacks(fe,ve){const Oe=this.onInitCallbacks.get(ve);if(Oe)for(const pt of Oe)try{pt(fe,ve)}catch{}}getOrInitializeService({instanceIdentifier:fe,options:ve={}}){let Oe=this.instances.get(fe);if(!Oe&&this.component&&(Oe=this.component.instanceFactory(this.container,{instanceIdentifier:(xe=fe,xe===Ie?void 0:xe),options:ve}),this.instances.set(fe,Oe),this.instancesOptions.set(fe,ve),this.invokeOnInitCallbacks(Oe,fe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,fe,Oe)}catch{}var xe;return Oe||null}normalizeInstanceIdentifier(fe=Ie){return this.component?this.component.multipleInstances?fe:Ie:fe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ae{constructor(fe){this.name=fe,this.providers=new Map}addComponent(fe){const ve=this.getProvider(fe.name);if(ve.isComponentSet())throw new Error(`Component ${fe.name} has already been registered with ${this.name}`);ve.setComponent(fe)}addOrOverwriteComponent(fe){this.getProvider(fe.name).isComponentSet()&&this.providers.delete(fe.name),this.addComponent(fe)}getProvider(fe){if(this.providers.has(fe))return this.providers.get(fe);const ve=new Ee(fe,this);return this.providers.set(fe,ve),ve}getProviders(){return Array.from(this.providers.values())}}},7879:(Qt,We,H)=>{H.d(We,{Am:()=>xe,Ub:()=>Ae,Yd:()=>me,in:()=>u});const g=[];var u=function(fe){return fe[fe.DEBUG=0]="DEBUG",fe[fe.VERBOSE=1]="VERBOSE",fe[fe.INFO=2]="INFO",fe[fe.WARN=3]="WARN",fe[fe.ERROR=4]="ERROR",fe[fe.SILENT=5]="SILENT",fe}(u||{});const W={debug:u.DEBUG,verbose:u.VERBOSE,info:u.INFO,warn:u.WARN,error:u.ERROR,silent:u.SILENT},Ie=u.INFO,Ee={[u.DEBUG]:"log",[u.VERBOSE]:"log",[u.INFO]:"info",[u.WARN]:"warn",[u.ERROR]:"error"},Pe=(fe,ve,...Oe)=>{if(ve<fe.logLevel)return;const pt=(new Date).toISOString(),Je=Ee[ve];if(!Je)throw new Error(`Attempted to log a message with an invalid logType (value: ${ve})`);console[Je](`[${pt}]  ${fe.name}:`,...Oe)};class me{constructor(ve){this.name=ve,this._logLevel=Ie,this._logHandler=Pe,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(ve){if(!(ve in u))throw new TypeError(`Invalid value "${ve}" assigned to \`logLevel\``);this._logLevel=ve}setLogLevel(ve){this._logLevel="string"==typeof ve?W[ve]:ve}get logHandler(){return this._logHandler}set logHandler(ve){if("function"!=typeof ve)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ve}get userLogHandler(){return this._userLogHandler}set userLogHandler(ve){this._userLogHandler=ve}debug(...ve){this._userLogHandler&&this._userLogHandler(this,u.DEBUG,...ve),this._logHandler(this,u.DEBUG,...ve)}log(...ve){this._userLogHandler&&this._userLogHandler(this,u.VERBOSE,...ve),this._logHandler(this,u.VERBOSE,...ve)}info(...ve){this._userLogHandler&&this._userLogHandler(this,u.INFO,...ve),this._logHandler(this,u.INFO,...ve)}warn(...ve){this._userLogHandler&&this._userLogHandler(this,u.WARN,...ve),this._logHandler(this,u.WARN,...ve)}error(...ve){this._userLogHandler&&this._userLogHandler(this,u.ERROR,...ve),this._logHandler(this,u.ERROR,...ve)}}function Ae(fe){g.forEach(ve=>{ve.setLogLevel(fe)})}function xe(fe,ve){for(const Oe of g){let pt=null;ve&&ve.level&&(pt=W[ve.level]),Oe.userLogHandler=null===fe?null:(Je,Dt,...mt)=>{const It=mt.map(_t=>{if(null==_t)return null;if("string"==typeof _t)return _t;if("number"==typeof _t||"boolean"==typeof _t)return _t.toString();if(_t instanceof Error)return _t.message;try{return JSON.stringify(_t)}catch{return null}}).filter(_t=>_t).join(" ");Dt>=(pt??Je.logLevel)&&fe({level:u[Dt].toLowerCase(),message:It,args:mt,type:Je.name})}}}},3182:(Qt,We,H)=>{H.d(We,{C6:()=>g.getApps,KN:()=>g.registerVersion,Mq:()=>g.getApp,ZF:()=>g.initializeApp});var g=H(4303);(0,g.registerVersion)("firebase","10.12.2","app")},7142:(Qt,We,H)=>{H.d(We,{Z:()=>g.Z});var g=H(3106);g.Z.registerVersion("firebase","10.12.2","app-compat")},6365:(Qt,We,H)=>{H.r(We);var g=H(5861),u=H(3106),W=H(35),Ie=H(9058),me=(H(4303),H(7879),H(4537));function Ae(){return window}function ve(){return ve=(0,g.Z)(function*($,B,F){var he;const{BuildInfo:Fe}=Ae();(0,W.au)(B.sessionId,"AuthEvent did not contain a session ID");const yt=yield function _t($){return en.apply(this,arguments)}(B.sessionId),Rt={};return(0,W.av)()?Rt.ibi=Fe.packageName:(0,W.aw)()?Rt.apn=Fe.packageName:(0,W.ax)($,"operation-not-supported-in-this-environment"),Fe.displayName&&(Rt.appDisplayName=Fe.displayName),Rt.sessionId=yt,(0,W.ay)($,F,B.type,void 0,null!==(he=B.eventId)&&void 0!==he?he:void 0,Rt)}),ve.apply(this,arguments)}function pt(){return(pt=(0,g.Z)(function*($){const{BuildInfo:B}=Ae(),F={};(0,W.av)()?F.iosBundleId=B.packageName:(0,W.aw)()?F.androidPackageName=B.packageName:(0,W.ax)($,"operation-not-supported-in-this-environment"),yield(0,W.az)($,F)})).apply(this,arguments)}function mt(){return(mt=(0,g.Z)(function*($,B,F){const{cordova:he}=Ae();let Fe=()=>{};try{yield new Promise((yt,Rt)=>{let tn=null;function nn(){var xn;yt();const ci=null===(xn=he.plugins.browsertab)||void 0===xn?void 0:xn.close;"function"==typeof ci&&ci(),"function"==typeof F?.close&&F.close()}function an(){tn||(tn=window.setTimeout(()=>{Rt((0,W.aB)($,"redirect-cancelled-by-user"))},2e3))}function Jn(){"visible"===document?.visibilityState&&an()}B.addPassiveListener(nn),document.addEventListener("resume",an,!1),(0,W.aw)()&&document.addEventListener("visibilitychange",Jn,!1),Fe=()=>{B.removePassiveListener(nn),document.removeEventListener("resume",an,!1),document.removeEventListener("visibilitychange",Jn,!1),tn&&window.clearTimeout(tn)}})}finally{Fe()}})).apply(this,arguments)}function en(){return(en=(0,g.Z)(function*($){const B=function Ze($){if((0,W.au)(/[0-9a-zA-Z]+/.test($),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode($);const B=new ArrayBuffer($.length),F=new Uint8Array(B);for(let he=0;he<$.length;he++)F[he]=$.charCodeAt(he);return F}($),F=yield crypto.subtle.digest("SHA-256",B);return Array.from(new Uint8Array(F)).map(Fe=>Fe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class rt extends W.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(B=>{this.resolveInialized=B})}addPassiveListener(B){this.passiveListeners.add(B)}removePassiveListener(B){this.passiveListeners.delete(B)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(B){return this.resolveInialized(),this.passiveListeners.forEach(F=>F(B)),super.onEvent(B)}initialized(){var B=this;return(0,g.Z)(function*(){yield B.initPromise})()}}function Ct($){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,g.Z)(function*($){const B=yield Ht()._get(zn($));return B&&(yield Ht()._remove(zn($))),B})).apply(this,arguments)}function Et(){const $=[];for(let F=0;F<20;F++){const he=Math.floor(62*Math.random());$.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(he))}return $.join("")}function Ht(){return(0,W.aE)(W.b)}function zn($){return(0,W.aF)("authEvent",$.config.apiKey,$.name)}function rn($){if(!$?.includes("?"))return{};const[B,...F]=$.split("?");return(0,Ie.zd)(F.join("?"))}const _e=class Ne{constructor(){this._redirectPersistence=W.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=W.aG,this._overrideRedirectResult=W.aH}_initialize(B){var F=this;return(0,g.Z)(function*(){const he=B._key();let Fe=F.eventManagers.get(he);return Fe||(Fe=new rt(B),F.eventManagers.set(he,Fe),F.attachCallbackListeners(B,Fe)),Fe})()}_openPopup(B){(0,W.ax)(B,"operation-not-supported-in-this-environment")}_openRedirect(B,F,he,Fe){var yt=this;return(0,g.Z)(function*(){!function It($){var B,F,he,Fe,yt,Rt,tn,nn,an,Jn;const xn=Ae();(0,W.aC)("function"==typeof(null===(B=xn?.universalLinks)||void 0===B?void 0:B.subscribe),$,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,W.aC)(typeof(null===(F=xn?.BuildInfo)||void 0===F?void 0:F.packageName)<"u",$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,W.aC)("function"==typeof(null===(yt=null===(Fe=null===(he=xn?.cordova)||void 0===he?void 0:he.plugins)||void 0===Fe?void 0:Fe.browsertab)||void 0===yt?void 0:yt.openUrl),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,W.aC)("function"==typeof(null===(nn=null===(tn=null===(Rt=xn?.cordova)||void 0===Rt?void 0:Rt.plugins)||void 0===tn?void 0:tn.browsertab)||void 0===nn?void 0:nn.isAvailable),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,W.aC)("function"==typeof(null===(Jn=null===(an=xn?.cordova)||void 0===an?void 0:an.InAppBrowser)||void 0===Jn?void 0:Jn.open),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(B);const Rt=yield yt._initialize(B);yield Rt.initialized(),Rt.resetRedirect(),(0,W.aI)(),yield yt._originValidation(B);const tn=function $e($,B,F=null){return{type:B,eventId:F,urlResponse:null,sessionId:Et(),postBody:null,tenantId:$.tenantId,error:(0,W.aB)($,"no-auth-event")}}(B,he,Fe);yield function it($,B){return Ht()._set(zn($),B)}(B,tn);const nn=yield function fe($,B,F){return ve.apply(this,arguments)}(B,tn,F),an=yield function Je($){const{cordova:B}=Ae();return new Promise(F=>{B.plugins.browsertab.isAvailable(he=>{let Fe=null;he?B.plugins.browsertab.openUrl($):Fe=B.InAppBrowser.open($,(0,W.aA)()?"_blank":"_system","location=yes"),F(Fe)})})}(nn);return function Dt($,B,F){return mt.apply(this,arguments)}(B,Rt,an)})()}_isIframeWebStorageSupported(B,F){throw new Error("Method not implemented.")}_originValidation(B){const F=B._key();return this.originValidationPromises[F]||(this.originValidationPromises[F]=function Oe($){return pt.apply(this,arguments)}(B)),this.originValidationPromises[F]}attachCallbackListeners(B,F){const{universalLinks:he,handleOpenURL:Fe,BuildInfo:yt}=Ae(),Rt=setTimeout((0,g.Z)(function*(){yield Ct(B),F.onEvent(Ve())}),500),tn=function(){var Jn=(0,g.Z)(function*(xn){clearTimeout(Rt);const ci=yield Ct(B);let Ds=null;ci&&xn?.url&&(Ds=function ge($,B){var F,he;const Fe=function Nt($){const B=rn($),F=B.link?decodeURIComponent(B.link):void 0,he=rn(F).link,Fe=B.deep_link_id?decodeURIComponent(B.deep_link_id):void 0;return rn(Fe).link||Fe||he||F||$}(B);if(Fe.includes("/__/auth/callback")){const yt=rn(Fe),Rt=yt.firebaseError?function bt($){try{return JSON.parse($)}catch{return null}}(decodeURIComponent(yt.firebaseError)):null,tn=null===(he=null===(F=Rt?.code)||void 0===F?void 0:F.split("auth/"))||void 0===he?void 0:he[1],nn=tn?(0,W.aB)(tn):null;return nn?{type:$.type,eventId:$.eventId,tenantId:$.tenantId,error:nn,urlResponse:null,sessionId:null,postBody:null}:{type:$.type,eventId:$.eventId,tenantId:$.tenantId,sessionId:$.sessionId,urlResponse:Fe,postBody:null}}return null}(ci,xn.url)),F.onEvent(Ds||Ve())});return function(ci){return Jn.apply(this,arguments)}}();typeof he<"u"&&"function"==typeof he.subscribe&&he.subscribe(null,tn);const nn=Fe,an=`${yt.packageName.toLowerCase()}://`;Ae().handleOpenURL=function(){var Jn=(0,g.Z)(function*(xn){if(xn.toLowerCase().startsWith(an)&&tn({url:xn}),"function"==typeof nn)try{nn(xn)}catch(ci){console.error(ci)}});return function(xn){return Jn.apply(this,arguments)}}()}};function Ve(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,W.aB)("no-auth-event")}}function Jt(){var $;return(null===($=self?.location)||void 0===$?void 0:$.protocol)||null}function zt($=(0,Ie.z$)()){return!("file:"!==Jt()&&"ionic:"!==Jt()&&"capacitor:"!==Jt()||!$.toLowerCase().match(/iphone|ipad|ipod|android/))}function qt(){try{const $=self.localStorage,B=W.aN();if($)return $.setItem(B,"1"),$.removeItem(B),!function Nn($=(0,Ie.z$)()){return function Gn(){return(0,Ie.w1)()&&11===document?.documentMode}()||function pn($=(0,Ie.z$)()){return/Edge\/\d+/.test($)}($)}()||(0,Ie.hl)()}catch{return fn()&&(0,Ie.hl)()}return!1}function fn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Tn(){return(function $t(){return"http:"===Jt()||"https:"===Jt()}()||(0,Ie.ru)()||zt())&&!function hn(){return(0,Ie.b$)()||(0,Ie.UG)()}()&&qt()&&!fn()}function Dn(){return zt()&&typeof document<"u"}function ai(){return(ai=(0,g.Z)(function*(){return!!Dn()&&new Promise($=>{const B=setTimeout(()=>{$(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(B),$(!0)})})})).apply(this,arguments)}const hr={LOCAL:"local",NONE:"none",SESSION:"session"},Hn=W.aC,kt="persistence";function Fn($){return wn.apply(this,arguments)}function wn(){return(wn=(0,g.Z)(function*($){yield $._initializationPromise;const B=Ar(),F=W.aF(kt,$.config.apiKey,$.name);B&&B.setItem(F,$._getPersistence())})).apply(this,arguments)}function Ar(){var $;try{return(null===($=function Cn(){return typeof window<"u"?window:null}())||void 0===$?void 0:$.sessionStorage)||null}catch{return null}}const qn=W.aC;class Bn{constructor(){this.browserResolver=W.aE(W.k),this.cordovaResolver=W.aE(_e),this.underlyingResolver=null,this._redirectPersistence=W.a,this._completeRedirectFn=W.aG,this._overrideRedirectResult=W.aH}_initialize(B){var F=this;return(0,g.Z)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._initialize(B)})()}_openPopup(B,F,he,Fe){var yt=this;return(0,g.Z)(function*(){return yield yt.selectUnderlyingResolver(),yt.assertedUnderlyingResolver._openPopup(B,F,he,Fe)})()}_openRedirect(B,F,he,Fe){var yt=this;return(0,g.Z)(function*(){return yield yt.selectUnderlyingResolver(),yt.assertedUnderlyingResolver._openRedirect(B,F,he,Fe)})()}_isIframeWebStorageSupported(B,F){this.assertedUnderlyingResolver._isIframeWebStorageSupported(B,F)}_originValidation(B){return this.assertedUnderlyingResolver._originValidation(B)}get _shouldInitProactively(){return Dn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return qn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var B=this;return(0,g.Z)(function*(){if(B.underlyingResolver)return;const F=yield function Kt(){return ai.apply(this,arguments)}();B.underlyingResolver=F?B.cordovaResolver:B.browserResolver})()}}function Sr($){return $.unwrap()}function sn($){return Qn($)}function Qn($){const{_tokenResponse:B}=$ instanceof Ie.ZR?$.customData:$;if(!B)return null;if(!($ instanceof Ie.ZR)&&"temporaryProof"in B&&"phoneNumber"in B)return W.P.credentialFromResult($);const F=B.providerId;if(!F||F===W.p.PASSWORD)return null;let he;switch(F){case W.p.GOOGLE:he=W.X;break;case W.p.FACEBOOK:he=W.W;break;case W.p.GITHUB:he=W.Y;break;case W.p.TWITTER:he=W.$;break;default:const{oauthIdToken:Fe,oauthAccessToken:yt,oauthTokenSecret:Rt,pendingToken:tn,nonce:nn}=B;return yt||Rt||Fe||tn?tn?F.startsWith("saml.")?W.aQ._create(F,tn):W.N._fromParams({providerId:F,signInMethod:F,pendingToken:tn,idToken:Fe,accessToken:yt}):new W.Z(F).credential({idToken:Fe,accessToken:yt,rawNonce:nn}):null}return $ instanceof Ie.ZR?he.credentialFromError($):he.credentialFromResult($)}function Tr($,B){return B.catch(F=>{throw F instanceof Ie.ZR&&function hi($,B){var F;const he=null===(F=B.customData)||void 0===F?void 0:F._tokenResponse;if("auth/multi-factor-auth-required"===B?.code)B.resolver=new qe($,W.as($,B));else if(he){const Fe=Qn(B),yt=B;Fe&&(yt.credential=Fe,yt.tenantId=he.tenantId||void 0,yt.email=he.email||void 0,yt.phoneNumber=he.phoneNumber||void 0)}}($,F),F}).then(F=>{const Fe=F.user;return{operationType:F.operationType,credential:sn(F),additionalUserInfo:W.aq(F),user:Tt.getOrCreate(Fe)}})}function fr($,B){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,g.Z)(function*($,B){const F=yield B;return{verificationId:F.verificationId,confirm:he=>Tr($,F.confirm(he))}})).apply(this,arguments)}class qe{constructor(B,F){this.resolver=F,this.auth=function di($){return $.wrapped()}(B)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(B){return Tr(Sr(this.auth),this.resolver.resolveSignIn(B))}}class Tt{constructor(B){this._delegate=B,this.multiFactor=W.at(B)}static getOrCreate(B){return Tt.USER_MAP.has(B)||Tt.USER_MAP.set(B,new Tt(B)),Tt.USER_MAP.get(B)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(B){return this._delegate.getIdTokenResult(B)}getIdToken(B){return this._delegate.getIdToken(B)}linkAndRetrieveDataWithCredential(B){return this.linkWithCredential(B)}linkWithCredential(B){var F=this;return(0,g.Z)(function*(){return Tr(F.auth,W.a2(F._delegate,B))})()}linkWithPhoneNumber(B,F){var he=this;return(0,g.Z)(function*(){return fr(he.auth,W.l(he._delegate,B,F))})()}linkWithPopup(B){var F=this;return(0,g.Z)(function*(){return Tr(F.auth,W.d(F._delegate,B,Bn))})()}linkWithRedirect(B){var F=this;return(0,g.Z)(function*(){return yield Fn(W.aJ(F.auth)),W.g(F._delegate,B,Bn)})()}reauthenticateAndRetrieveDataWithCredential(B){return this.reauthenticateWithCredential(B)}reauthenticateWithCredential(B){var F=this;return(0,g.Z)(function*(){return Tr(F.auth,W.a3(F._delegate,B))})()}reauthenticateWithPhoneNumber(B,F){return fr(this.auth,W.r(this._delegate,B,F))}reauthenticateWithPopup(B){return Tr(this.auth,W.e(this._delegate,B,Bn))}reauthenticateWithRedirect(B){var F=this;return(0,g.Z)(function*(){return yield Fn(W.aJ(F.auth)),W.h(F._delegate,B,Bn)})()}sendEmailVerification(B){return W.ag(this._delegate,B)}unlink(B){var F=this;return(0,g.Z)(function*(){return yield W.ap(F._delegate,B),F})()}updateEmail(B){return W.al(this._delegate,B)}updatePassword(B){return W.am(this._delegate,B)}updatePhoneNumber(B){return W.u(this._delegate,B)}updateProfile(B){return W.ak(this._delegate,B)}verifyBeforeUpdateEmail(B,F){return W.ah(this._delegate,B,F)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Tt.USER_MAP=new WeakMap;const oe=W.aC;let Se=(()=>{class ${constructor(F,he){if(this.app=F,he.isInitialized())return this._delegate=he.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Fe}=F.options;oe(Fe,"invalid-api-key",{appName:F.name}),oe(Fe,"invalid-api-key",{appName:F.name});const yt=typeof window<"u"?Bn:void 0;this._delegate=he.initialize({options:{persistence:jt(Fe,F.name),popupRedirectResolver:yt}}),this._delegate._updateErrorMap(W.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Tt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(F){this._delegate.languageCode=F}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(F){this._delegate.tenantId=F}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(F,he){W.K(this._delegate,F,he)}applyActionCode(F){return W.a7(this._delegate,F)}checkActionCode(F){return W.a8(this._delegate,F)}confirmPasswordReset(F,he){return W.a6(this._delegate,F,he)}createUserWithEmailAndPassword(F,he){var Fe=this;return(0,g.Z)(function*(){return Tr(Fe._delegate,W.aa(Fe._delegate,F,he))})()}fetchProvidersForEmail(F){return this.fetchSignInMethodsForEmail(F)}fetchSignInMethodsForEmail(F){return W.af(this._delegate,F)}isSignInWithEmailLink(F){return W.ad(this._delegate,F)}getRedirectResult(){var F=this;return(0,g.Z)(function*(){oe(Tn(),F._delegate,"operation-not-supported-in-this-environment");const he=yield W.j(F._delegate,Bn);return he?Tr(F._delegate,Promise.resolve(he)):{credential:null,user:null}})()}addFrameworkForLogging(F){!function et($,B){(0,W.aJ)($)._logFramework(B)}(this._delegate,F)}onAuthStateChanged(F,he,Fe){const{next:yt,error:Rt,complete:tn}=ft(F,he,Fe);return this._delegate.onAuthStateChanged(yt,Rt,tn)}onIdTokenChanged(F,he,Fe){const{next:yt,error:Rt,complete:tn}=ft(F,he,Fe);return this._delegate.onIdTokenChanged(yt,Rt,tn)}sendSignInLinkToEmail(F,he){return W.ac(this._delegate,F,he)}sendPasswordResetEmail(F,he){return W.a5(this._delegate,F,he||void 0)}setPersistence(F){var he=this;return(0,g.Z)(function*(){let Fe;switch(function En($,B){Hn(Object.values(hr).includes(B),$,"invalid-persistence-type"),(0,Ie.b$)()?Hn(B!==hr.SESSION,$,"unsupported-persistence-type"):(0,Ie.UG)()?Hn(B===hr.NONE,$,"unsupported-persistence-type"):fn()?Hn(B===hr.NONE||B===hr.LOCAL&&(0,Ie.hl)(),$,"unsupported-persistence-type"):Hn(B===hr.NONE||qt(),$,"unsupported-persistence-type")}(he._delegate,F),F){case hr.SESSION:Fe=W.a;break;case hr.LOCAL:Fe=(yield W.aE(W.i)._isAvailable())?W.i:W.b;break;case hr.NONE:Fe=W.U;break;default:return W.ax("argument-error",{appName:he._delegate.name})}return he._delegate.setPersistence(Fe)})()}signInAndRetrieveDataWithCredential(F){return this.signInWithCredential(F)}signInAnonymously(){return Tr(this._delegate,W.a0(this._delegate))}signInWithCredential(F){return Tr(this._delegate,W.a1(this._delegate,F))}signInWithCustomToken(F){return Tr(this._delegate,W.a4(this._delegate,F))}signInWithEmailAndPassword(F,he){return Tr(this._delegate,W.ab(this._delegate,F,he))}signInWithEmailLink(F,he){return Tr(this._delegate,W.ae(this._delegate,F,he))}signInWithPhoneNumber(F,he){return fr(this._delegate,W.s(this._delegate,F,he))}signInWithPopup(F){var he=this;return(0,g.Z)(function*(){return oe(Tn(),he._delegate,"operation-not-supported-in-this-environment"),Tr(he._delegate,W.c(he._delegate,F,Bn))})()}signInWithRedirect(F){var he=this;return(0,g.Z)(function*(){return oe(Tn(),he._delegate,"operation-not-supported-in-this-environment"),yield Fn(he._delegate),W.f(he._delegate,F,Bn)})()}updateCurrentUser(F){return this._delegate.updateCurrentUser(F)}verifyPasswordResetCode(F){return W.a9(this._delegate,F)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return $.Persistence=hr,$})();function ft($,B,F){let he=$;"function"!=typeof $&&({next:he,error:B,complete:F}=$);const Fe=he;return{next:Rt=>Fe(Rt&&Tt.getOrCreate(Rt)),error:B,complete:F}}function jt($,B){const F=function Nr($,B){const F=Ar();if(!F)return[];const he=W.aF(kt,$,B);switch(F.getItem(he)){case hr.NONE:return[W.U];case hr.LOCAL:return[W.i,W.a];case hr.SESSION:return[W.a];default:return[]}}($,B);if(typeof self<"u"&&!F.includes(W.i)&&F.push(W.i),typeof window<"u")for(const he of[W.b,W.a])F.includes(he)||F.push(he);return F.includes(W.U)||F.push(W.U),F}class Mn{constructor(){this.providerId="phone",this._delegate=new W.P(Sr(u.Z.auth()))}static credential(B,F){return W.P.credential(B,F)}verifyPhoneNumber(B,F){return this._delegate.verifyPhoneNumber(B,F)}unwrap(){return this._delegate}}Mn.PHONE_SIGN_IN_METHOD=W.P.PHONE_SIGN_IN_METHOD,Mn.PROVIDER_ID=W.P.PROVIDER_ID;const Xr=W.aC;class Ft{constructor(B,F,he=u.Z.app()){var Fe;Xr(null===(Fe=he.options)||void 0===Fe?void 0:Fe.apiKey,"invalid-api-key",{appName:he.name}),this._delegate=new W.R(he.auth(),B,F),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function X($){$.INTERNAL.registerComponent(new me.wA("auth-compat",B=>{const F=B.getProvider("app-compat").getImmediate(),he=B.getProvider("auth");return new Se(F,he)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:W.A.EMAIL_SIGNIN,PASSWORD_RESET:W.A.PASSWORD_RESET,RECOVER_EMAIL:W.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:W.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:W.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:W.A.VERIFY_EMAIL}},EmailAuthProvider:W.V,FacebookAuthProvider:W.W,GithubAuthProvider:W.Y,GoogleAuthProvider:W.X,OAuthProvider:W.Z,SAMLAuthProvider:W._,PhoneAuthProvider:Mn,PhoneMultiFactorGenerator:W.m,RecaptchaVerifier:Ft,TwitterAuthProvider:W.$,Auth:Se,AuthCredential:W.L,Error:Ie.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$.registerVersion("@firebase/auth-compat","0.5.9")}(u.Z)},1878:(Qt,We,H)=>{H.d(We,{X3:()=>Ze});var g=H(5861);const u=(Ye,ge)=>ge.some(Et=>Ye instanceof Et);let W,Ie;const me=new WeakMap,Ae=new WeakMap,xe=new WeakMap,fe=new WeakMap,ve=new WeakMap;let Je={get(Ye,ge,Et){if(Ye instanceof IDBTransaction){if("done"===ge)return Ae.get(Ye);if("objectStoreNames"===ge)return Ye.objectStoreNames||xe.get(Ye);if("store"===ge)return Et.objectStoreNames[1]?void 0:Et.objectStore(Et.objectStoreNames[0])}return _t(Ye[ge])},set:(Ye,ge,Et)=>(Ye[ge]=Et,!0),has:(Ye,ge)=>Ye instanceof IDBTransaction&&("done"===ge||"store"===ge)||ge in Ye};function It(Ye){return"function"==typeof Ye?function mt(Ye){return Ye!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Pe(){return Ie||(Ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ye)?function(...ge){return Ye.apply(en(this),ge),_t(me.get(this))}:function(...ge){return _t(Ye.apply(en(this),ge))}:function(ge,...Et){const Ht=Ye.call(en(this),ge,...Et);return xe.set(Ht,ge.sort?ge.sort():[ge]),_t(Ht)}}(Ye):(Ye instanceof IDBTransaction&&function pt(Ye){if(Ae.has(Ye))return;const ge=new Promise((Et,Ht)=>{const zn=()=>{Ye.removeEventListener("complete",bt),Ye.removeEventListener("error",Nt),Ye.removeEventListener("abort",Nt)},bt=()=>{Et(),zn()},Nt=()=>{Ht(Ye.error||new DOMException("AbortError","AbortError")),zn()};Ye.addEventListener("complete",bt),Ye.addEventListener("error",Nt),Ye.addEventListener("abort",Nt)});Ae.set(Ye,ge)}(Ye),u(Ye,function Ee(){return W||(W=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ye,Je):Ye)}function _t(Ye){if(Ye instanceof IDBRequest)return function Oe(Ye){const ge=new Promise((Et,Ht)=>{const zn=()=>{Ye.removeEventListener("success",bt),Ye.removeEventListener("error",Nt)},bt=()=>{Et(_t(Ye.result)),zn()},Nt=()=>{Ht(Ye.error),zn()};Ye.addEventListener("success",bt),Ye.addEventListener("error",Nt)});return ge.then(Et=>{Et instanceof IDBCursor&&me.set(Et,Ye)}).catch(()=>{}),ve.set(ge,Ye),ge}(Ye);if(fe.has(Ye))return fe.get(Ye);const ge=It(Ye);return ge!==Ye&&(fe.set(Ye,ge),ve.set(ge,Ye)),ge}const en=Ye=>ve.get(Ye);function Ze(Ye,ge,{blocked:Et,upgrade:Ht,blocking:zn,terminated:bt}={}){const Nt=indexedDB.open(Ye,ge),rn=_t(Nt);return Ht&&Nt.addEventListener("upgradeneeded",at=>{Ht(_t(Nt.result),at.oldVersion,at.newVersion,_t(Nt.transaction),at)}),Et&&Nt.addEventListener("blocked",at=>Et(at.oldVersion,at.newVersion,at)),rn.then(at=>{bt&&at.addEventListener("close",()=>bt()),zn&&at.addEventListener("versionchange",Ne=>zn(Ne.oldVersion,Ne.newVersion,Ne))}).catch(()=>{}),rn}const rt=["get","getKey","getAll","getAllKeys","count"],$e=["put","add","delete","clear"],it=new Map;function Ct(Ye,ge){if(!(Ye instanceof IDBDatabase)||ge in Ye||"string"!=typeof ge)return;if(it.get(ge))return it.get(ge);const Et=ge.replace(/FromIndex$/,""),Ht=ge!==Et,zn=$e.includes(Et);if(!(Et in(Ht?IDBIndex:IDBObjectStore).prototype)||!zn&&!rt.includes(Et))return;const bt=function(){var Nt=(0,g.Z)(function*(rn,...at){const Ne=this.transaction(rn,zn?"readwrite":"readonly");let _e=Ne.store;return Ht&&(_e=_e.index(at.shift())),(yield Promise.all([_e[Et](...at),zn&&Ne.done]))[0]});return function(at){return Nt.apply(this,arguments)}}();return it.set(ge,bt),bt}!function Dt(Ye){Je=Ye(Je)}(Ye=>({...Ye,get:(ge,Et,Ht)=>Ct(ge,Et)||Ye.get(ge,Et,Ht),has:(ge,Et)=>!!Ct(ge,Et)||Ye.has(ge,Et)}))},5861:(Qt,We,H)=>{function g(W,Ie,Ee,Pe,me,Ae,xe){try{var fe=W[Ae](xe),ve=fe.value}catch(Oe){return void Ee(Oe)}fe.done?Ie(ve):Promise.resolve(ve).then(Pe,me)}function u(W){return function(){var Ie=this,Ee=arguments;return new Promise(function(Pe,me){var Ae=W.apply(Ie,Ee);function xe(ve){g(Ae,Pe,me,xe,fe,"next",ve)}function fe(ve){g(Ae,Pe,me,xe,fe,"throw",ve)}xe(void 0)})}}H.d(We,{Z:()=>u})},7582:(Qt,We,H)=>{function Ie(_e,Ve){var et={};for(var Xe in _e)Object.prototype.hasOwnProperty.call(_e,Xe)&&Ve.indexOf(Xe)<0&&(et[Xe]=_e[Xe]);if(null!=_e&&"function"==typeof Object.getOwnPropertySymbols){var gt=0;for(Xe=Object.getOwnPropertySymbols(_e);gt<Xe.length;gt++)Ve.indexOf(Xe[gt])<0&&Object.prototype.propertyIsEnumerable.call(_e,Xe[gt])&&(et[Xe[gt]]=_e[Xe[gt]])}return et}function Oe(_e,Ve,et,Xe){return new(et||(et=Promise))(function(vt,Jt){function $t(Gn){try{hn(Xe.next(Gn))}catch(pn){Jt(pn)}}function zt(Gn){try{hn(Xe.throw(Gn))}catch(pn){Jt(pn)}}function hn(Gn){Gn.done?vt(Gn.value):function gt(vt){return vt instanceof et?vt:new et(function(Jt){Jt(vt)})}(Gn.value).then($t,zt)}hn((Xe=Xe.apply(_e,Ve||[])).next())})}function ze(_e){return this instanceof ze?(this.v=_e,this):new ze(_e)}function rt(_e,Ve,et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var gt,Xe=et.apply(_e,Ve||[]),vt=[];return gt={},Jt("next"),Jt("throw"),Jt("return"),gt[Symbol.asyncIterator]=function(){return this},gt;function Jt(Nn){Xe[Nn]&&(gt[Nn]=function(qt){return new Promise(function(fn,Tn){vt.push([Nn,qt,fn,Tn])>1||$t(Nn,qt)})})}function $t(Nn,qt){try{!function zt(Nn){Nn.value instanceof ze?Promise.resolve(Nn.value.v).then(hn,Gn):pn(vt[0][2],Nn)}(Xe[Nn](qt))}catch(fn){pn(vt[0][3],fn)}}function hn(Nn){$t("next",Nn)}function Gn(Nn){$t("throw",Nn)}function pn(Nn,qt){Nn(qt),vt.shift(),vt.length&&$t(vt[0][0],vt[0][1])}}function it(_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var et,Ve=_e[Symbol.asyncIterator];return Ve?Ve.call(_e):(_e=function mt(_e){var Ve="function"==typeof Symbol&&Symbol.iterator,et=Ve&&_e[Ve],Xe=0;if(et)return et.call(_e);if(_e&&"number"==typeof _e.length)return{next:function(){return _e&&Xe>=_e.length&&(_e=void 0),{value:_e&&_e[Xe++],done:!_e}}};throw new TypeError(Ve?"Object is not iterable.":"Symbol.iterator is not defined.")}(_e),et={},Xe("next"),Xe("throw"),Xe("return"),et[Symbol.asyncIterator]=function(){return this},et);function Xe(vt){et[vt]=_e[vt]&&function(Jt){return new Promise(function($t,zt){!function gt(vt,Jt,$t,zt){Promise.resolve(zt).then(function(hn){vt({value:hn,done:$t})},Jt)}($t,zt,(Jt=_e[vt](Jt)).done,Jt.value)})}}}H.d(We,{FC:()=>rt,KL:()=>it,_T:()=>Ie,mG:()=>Oe,qq:()=>ze}),"function"==typeof SuppressedError&&SuppressedError}},Qt=>{Qt(Qt.s=6713)}]);