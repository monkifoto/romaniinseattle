"use strict";(self.webpackChunkromani_in_seattle=self.webpackChunkromani_in_seattle||[]).push([[179],{35:(Qt,Ze,H)=>{H.d(Ze,{$:()=>tr,A:()=>ve,G:()=>Xe,K:()=>ss,L:()=>Mi,N:()=>_i,P:()=>tp,R:()=>Rl,U:()=>tn,V:()=>co,W:()=>je,X:()=>St,Y:()=>Ut,Z:()=>De,_:()=>Pn,a:()=>Ot,a0:()=>V,a1:()=>$c,a2:()=>lo,a3:()=>Cd,a4:()=>Ru,a5:()=>Gc,a6:()=>cc,a7:()=>ra,a8:()=>lc,a9:()=>qc,aA:()=>pr,aB:()=>rt,aC:()=>ge,aD:()=>zo,aE:()=>yt,aF:()=>nn,aG:()=>zd,aH:()=>Cg,aI:()=>mc,aJ:()=>fr,aN:()=>hc,aQ:()=>mn,aa:()=>Sh,ab:()=>wd,ac:()=>Ba,ad:()=>Sl,ae:()=>ja,af:()=>P,ag:()=>j,ah:()=>we,ak:()=>wr,al:()=>Lr,am:()=>lr,ap:()=>ns,aq:()=>oa,as:()=>Dd,at:()=>Ph,au:()=>$t,av:()=>Li,aw:()=>vi,ax:()=>ze,ay:()=>Ka,az:()=>Gd,b:()=>jo,c:()=>bg,d:()=>Tg,e:()=>Fl,f:()=>qa,g:()=>Fh,h:()=>$d,i:()=>qr,j:()=>wg,k:()=>ap,l:()=>wa,m:()=>zh,p:()=>Ae,r:()=>Fd,s:()=>xh,u:()=>Ga});var g=H(5861),u=H(4303),K=H(9058),Ie=H(7879),Ee=H(7582),Pe=H(4537);const Ae={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ve={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Xe=function Oe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Dt=function pt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},mt=new K.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_t=new Ie.Yd("@firebase/auth");function Ke(C,..._){_t.logLevel<=Ie.in.ERROR&&_t.error(`Auth (${u.SDK_VERSION}): ${C}`,..._)}function ze(C,..._){throw Ye(C,..._)}function rt(C,..._){return Ye(C,..._)}function He(C,_,v){const M=Object.assign(Object.assign({},Dt()),{[_]:v});return new K.LL("auth","Firebase",M).create(_,{appName:C.name})}function it(C){return He(C,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ct(C,_,v){if(!(_ instanceof v))throw v.name!==_.constructor.name&&ze(C,"argument-error"),He(C,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ye(C,..._){if("string"!=typeof C){const v=_[0],M=[..._.slice(1)];return M[0]&&(M[0].appName=C.name),C._errorFactory.create(v,...M)}return mt.create(C,..._)}function ge(C,_,...v){if(!C)throw Ye(_,...v)}function Et(C){const _="INTERNAL ASSERTION FAILED: "+C;throw Ke(_),new Error(_)}function $t(C,_){C||Et(_)}function zn(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function bt(){return"http:"===Nt()||"https:"===Nt()}function Nt(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Ne{constructor(_,v){this.shortDelay=_,this.longDelay=v,$t(v>_,"Short delay should be less than long delay!"),this.isMobile=(0,K.uI)()||(0,K.b$)()}get(){return function rn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(bt()||(0,K.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _e(C,_){$t(C.emulator,"Emulator should always be set here");const{url:v}=C.emulator;return _?`${v}${_.startsWith("/")?_.slice(1):_}`:v}class Ve{static initialize(_,v,M){this.fetchImpl=_,v&&(this.headersImpl=v),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Et("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Et("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Et("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},et=new Ne(3e4,6e4);function gt(C,_){return C.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:C.tenantId}):_}function vt(C,_,v,M){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,g.Z)(function*(C,_,v,M,Q={}){return zt(C,Q,(0,g.Z)(function*(){let le={},Ue={};M&&("GET"===_?Ue=M:le={body:JSON.stringify(M)});const ut=(0,K.xO)(Object.assign({key:C.config.apiKey},Ue)).slice(1),Lt=yield C._getAdditionalHeaders();return Lt["Content-Type"]="application/json",C.languageCode&&(Lt["X-Firebase-Locale"]=C.languageCode),Ve.fetch()(gn(C,C.config.apiHost,v,ut),Object.assign({method:_,headers:Lt,referrerPolicy:"no-referrer"},le))}))})).apply(this,arguments)}function zt(C,_,v){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,g.Z)(function*(C,_,v){C._canInitEmulator=!1;const M=Object.assign(Object.assign({},tt),_);try{const Q=new qt(C),le=yield Promise.race([v(),Q.promise]);Q.clearNetworkTimeout();const Ue=yield le.json();if("needConfirmation"in Ue)throw fn(C,"account-exists-with-different-credential",Ue);if(le.ok&&!("errorMessage"in Ue))return Ue;{const ut=le.ok?Ue.errorMessage:Ue.error.message,[Lt,Kt]=ut.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Lt)throw fn(C,"credential-already-in-use",Ue);if("EMAIL_EXISTS"===Lt)throw fn(C,"email-already-in-use",Ue);if("USER_DISABLED"===Lt)throw fn(C,"user-disabled",Ue);const Un=M[Lt]||Lt.toLowerCase().replace(/[_\s]+/g,"-");if(Kt)throw He(C,Un,Kt);ze(C,Un)}}catch(Q){if(Q instanceof K.ZR)throw Q;ze(C,"network-request-failed",{message:String(Q)})}})).apply(this,arguments)}function hn(C,_,v,M){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,g.Z)(function*(C,_,v,M,Q={}){const le=yield vt(C,_,v,M,Q);return"mfaPendingCredential"in le&&ze(C,"multi-factor-auth-required",{_serverResponse:le}),le})).apply(this,arguments)}function gn(C,_,v,M){const Q=`${_}${v}?${M}`;return C.config.emulator?_e(C.config,Q):`${C.config.apiScheme}://${Q}`}function On(C){switch(C){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qt{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((v,M)=>{this.timer=setTimeout(()=>M(rt(this.auth,"network-request-failed")),et.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fn(C,_,v){const M={appName:C.name};v.email&&(M.email=v.email),v.phoneNumber&&(M.phoneNumber=v.phoneNumber);const Q=rt(C,_,M);return Q.customData._tokenResponse=v,Q}function Cn(C){return void 0!==C&&void 0!==C.getResponse}function Dn(C){return void 0!==C&&void 0!==C.enterprise}class Zt{constructor(_){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=_.recaptchaEnforcementState}getProviderEnforcementState(_){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===_)return On(v.enforcementState);return null}isProviderEnabled(_){return"ENFORCE"===this.getProviderEnforcementState(_)||"AUDIT"===this.getProviderEnforcementState(_)}}function wn(){return(wn=(0,g.Z)(function*(C){return(yield vt(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function dr(C,_){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,g.Z)(function*(C,_){return vt(C,"GET","/v2/recaptchaConfig",gt(C,_))})).apply(this,arguments)}function vn(){return(vn=(0,g.Z)(function*(C,_){return vt(C,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function An(){return(An=(0,g.Z)(function*(C,_){return vt(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function kr(C,_){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,g.Z)(function*(C,_){return vt(C,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function qn(C){if(C)try{const _=new Date(Number(C));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function hi(){return(hi=(0,g.Z)(function*(C,_=!1){const v=(0,K.m9)(C),M=yield v.getIdToken(_),Q=fi(M);ge(Q&&Q.exp&&Q.auth_time&&Q.iat,v.auth,"internal-error");const le="object"==typeof Q.firebase?Q.firebase:void 0,Ue=le?.sign_in_provider;return{claims:Q,token:M,authTime:qn(sn(Q.auth_time)),issuedAtTime:qn(sn(Q.iat)),expirationTime:qn(sn(Q.exp)),signInProvider:Ue||null,signInSecondFactor:le?.sign_in_second_factor||null}})).apply(this,arguments)}function sn(C){return 1e3*Number(C)}function fi(C){const[_,v,M]=C.split(".");if(void 0===_||void 0===v||void 0===M)return Ke("JWT malformed, contained fewer than 3 sections"),null;try{const Q=(0,K.tV)(v);return Q?JSON.parse(Q):(Ke("Failed to decode base64 JWT payload"),null)}catch(Q){return Ke("Caught error parsing JWT payload as JSON",Q?.toString()),null}}function Qn(C){const _=fi(C);return ge(_,"internal-error"),ge(typeof _.exp<"u","internal-error"),ge(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}function Tr(C,_){return hr.apply(this,arguments)}function hr(){return(hr=(0,g.Z)(function*(C,_,v=!1){if(v)return _;try{return yield _}catch(M){throw M instanceof K.ZR&&function Ur({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}(M)&&C.auth.currentUser===C&&(yield C.auth.signOut()),M}})).apply(this,arguments)}class qe{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var v;if(_){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const Q=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,Q)}}schedule(_=!1){var v=this;if(!this.isRunning)return;const M=this.getInterval(_);this.timerId=setTimeout((0,g.Z)(function*(){yield v.iteration()}),M)}iteration(){var _=this;return(0,g.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&_.schedule(!0))}_.schedule()})()}}class Tt{constructor(_,v){this.createdAt=_,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=qn(this.lastLoginAt),this.creationTime=qn(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function oe(C){return Se.apply(this,arguments)}function Se(){return(Se=(0,g.Z)(function*(C){var _;const v=C.auth,M=yield C.getIdToken(),Q=yield Tr(C,kr(v,{idToken:M}));ge(Q?.users.length,v,"internal-error");const le=Q.users[0];C._notifyReloadListener(le);const Ue=null!==(_=le.providerUserInfo)&&void 0!==_&&_.length?ti(le.providerUserInfo):[],ut=function Sn(C,_){return[...C.filter(M=>!_.some(Q=>Q.providerId===M.providerId)),..._]}(C.providerData,Ue),Un=!!C.isAnonymous&&!(C.email&&le.passwordHash||ut?.length),yr={uid:le.localId,displayName:le.displayName||null,photoURL:le.photoUrl||null,email:le.email||null,emailVerified:le.emailVerified||!1,phoneNumber:le.phoneNumber||null,tenantId:le.tenantId||null,providerData:ut,metadata:new Tt(le.createdAt,le.lastLoginAt),isAnonymous:Un};Object.assign(C,yr)})).apply(this,arguments)}function jt(){return(jt=(0,g.Z)(function*(C){const _=(0,K.m9)(C);yield oe(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function ti(C){return C.map(_=>{var{providerId:v}=_,M=(0,Ee._T)(_,["providerId"]);return{providerId:v,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}function ue(){return(ue=(0,g.Z)(function*(C,_){const v=yield zt(C,{},(0,g.Z)(function*(){const M=(0,K.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:Q,apiKey:le}=C.config,Ue=gn(C,Q,"/v1/token",`key=${le}`),ut=yield C._getAdditionalHeaders();return ut["Content-Type"]="application/x-www-form-urlencoded",Ve.fetch()(Ue,{method:"POST",headers:ut,body:M})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function $(){return($=(0,g.Z)(function*(C,_){return vt(C,"POST","/v2/accounts:revokeToken",gt(C,_))})).apply(this,arguments)}class B{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){ge(_.idToken,"internal-error"),ge(typeof _.idToken<"u","internal-error"),ge(typeof _.refreshToken<"u","internal-error");const v="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):Qn(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,v)}updateFromIdToken(_){ge(0!==_.length,"internal-error");const v=Qn(_);this.updateTokensAndExpiration(_,null,v)}getToken(_,v=!1){var M=this;return(0,g.Z)(function*(){return v||!M.accessToken||M.isExpired?(ge(M.refreshToken,_,"user-token-expired"),M.refreshToken?(yield M.refresh(_,M.refreshToken),M.accessToken):null):M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,v){var M=this;return(0,g.Z)(function*(){const{accessToken:Q,refreshToken:le,expiresIn:Ue}=yield function Ft(C,_){return ue.apply(this,arguments)}(_,v);M.updateTokensAndExpiration(Q,le,Number(Ue))})()}updateTokensAndExpiration(_,v,M){this.refreshToken=v||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(_,v){const{refreshToken:M,accessToken:Q,expirationTime:le}=v,Ue=new B;return M&&(ge("string"==typeof M,"internal-error",{appName:_}),Ue.refreshToken=M),Q&&(ge("string"==typeof Q,"internal-error",{appName:_}),Ue.accessToken=Q),le&&(ge("number"==typeof le,"internal-error",{appName:_}),Ue.expirationTime=le),Ue}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new B,this.toJSON())}_performRefresh(){return Et("not implemented")}}function L(C,_){ge("string"==typeof C||typeof C>"u","internal-error",{appName:_})}class he{constructor(_){var{uid:v,auth:M,stsTokenManager:Q}=_,le=(0,Ee._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=M,this.stsTokenManager=Q,this.accessToken=Q.accessToken,this.displayName=le.displayName||null,this.email=le.email||null,this.emailVerified=le.emailVerified||!1,this.phoneNumber=le.phoneNumber||null,this.photoURL=le.photoURL||null,this.isAnonymous=le.isAnonymous||!1,this.tenantId=le.tenantId||null,this.providerData=le.providerData?[...le.providerData]:[],this.metadata=new Tt(le.createdAt||void 0,le.lastLoginAt||void 0)}getIdToken(_){var v=this;return(0,g.Z)(function*(){const M=yield Tr(v,v.stsTokenManager.getToken(v.auth,_));return ge(M,v.auth,"internal-error"),v.accessToken!==M&&(v.accessToken=M,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),M})()}getIdTokenResult(_){return function Mr(C){return hi.apply(this,arguments)}(this,_)}reload(){return function ft(C){return jt.apply(this,arguments)}(this)}_assign(_){this!==_&&(ge(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(v=>Object.assign({},v)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const v=new he(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(_){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,v=!1){var M=this;return(0,g.Z)(function*(){let Q=!1;_.idToken&&_.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(_),Q=!0),v&&(yield oe(M)),yield M.auth._persistUserIfCurrent(M),Q&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var _=this;return(0,g.Z)(function*(){if((0,u._isFirebaseServerApp)(_.auth.app))return Promise.reject(it(_.auth));const v=yield _.getIdToken();return yield Tr(_,function kt(C,_){return vn.apply(this,arguments)}(_.auth,{idToken:v})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,v){var M,Q,le,Ue,ut,Lt,Kt,Un;const yr=null!==(M=v.displayName)&&void 0!==M?M:void 0,Oo=null!==(Q=v.email)&&void 0!==Q?Q:void 0,Ic=null!==(le=v.phoneNumber)&&void 0!==le?le:void 0,bc=null!==(Ue=v.photoURL)&&void 0!==Ue?Ue:void 0,Yl=null!==(ut=v.tenantId)&&void 0!==ut?ut:void 0,rl=null!==(Lt=v._redirectEventId)&&void 0!==Lt?Lt:void 0,Wh=null!==(Kt=v.createdAt)&&void 0!==Kt?Kt:void 0,il=null!==(Un=v.lastLoginAt)&&void 0!==Un?Un:void 0,{uid:Tc,emailVerified:Zh,isAnonymous:dp,providerData:Zd,stsTokenManager:Kh}=v;ge(Tc&&Kh,_,"internal-error");const Ya=B.fromJSON(this.name,Kh);ge("string"==typeof Tc,_,"internal-error"),L(yr,_.name),L(Oo,_.name),ge("boolean"==typeof Zh,_,"internal-error"),ge("boolean"==typeof dp,_,"internal-error"),L(Ic,_.name),L(bc,_.name),L(Yl,_.name),L(rl,_.name),L(Wh,_.name),L(il,_.name);const sl=new he({uid:Tc,auth:_,email:Oo,emailVerified:Zh,displayName:yr,isAnonymous:dp,photoURL:bc,phoneNumber:Ic,tenantId:Yl,stsTokenManager:Ya,createdAt:Wh,lastLoginAt:il});return Zd&&Array.isArray(Zd)&&(sl.providerData=Zd.map(Kd=>Object.assign({},Kd))),rl&&(sl._redirectEventId=rl),sl}static _fromIdTokenResponse(_,v,M=!1){return(0,g.Z)(function*(){const Q=new B;Q.updateFromServerResponse(v);const le=new he({uid:v.localId,auth:_,stsTokenManager:Q,isAnonymous:M});return yield oe(le),le})()}static _fromGetAccountInfoResponse(_,v,M){return(0,g.Z)(function*(){const Q=v.users[0];ge(void 0!==Q.localId,"internal-error");const le=void 0!==Q.providerUserInfo?ti(Q.providerUserInfo):[],Ue=!(Q.email&&Q.passwordHash||le?.length),ut=new B;ut.updateFromIdToken(M);const Lt=new he({uid:Q.localId,auth:_,stsTokenManager:ut,isAnonymous:Ue}),Kt={uid:Q.localId,displayName:Q.displayName||null,photoURL:Q.photoUrl||null,email:Q.email||null,emailVerified:Q.emailVerified||!1,phoneNumber:Q.phoneNumber||null,tenantId:Q.tenantId||null,providerData:le,metadata:new Tt(Q.createdAt,Q.lastLoginAt),isAnonymous:!(Q.email&&Q.passwordHash||le?.length)};return Object.assign(Lt,Kt),Lt})()}}const Fe=new Map;function yt(C){$t(C instanceof Function,"Expected a class definition");let _=Fe.get(C);return _?($t(_ instanceof C,"Instance stored in cache mismatched with class"),_):(_=new C,Fe.set(C,_),_)}const tn=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(v,M){var Q=this;return(0,g.Z)(function*(){Q.storage[v]=M})()}_get(v){var M=this;return(0,g.Z)(function*(){const Q=M.storage[v];return void 0===Q?null:Q})()}_remove(v){var M=this;return(0,g.Z)(function*(){delete M.storage[v]})()}_addListener(v,M){}_removeListener(v,M){}}return C.type="NONE",C})();function nn(C,_,v){return`firebase:${C}:${_}:${v}`}class an{constructor(_,v,M){this.persistence=_,this.auth=v,this.userKey=M;const{config:Q,name:le}=this.auth;this.fullUserKey=nn(this.userKey,Q.apiKey,le),this.fullPersistenceKey=nn("persistence",Q.apiKey,le),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,g.Z)(function*(){const v=yield _.persistence._get(_.fullUserKey);return v?he._fromJSON(_.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var v=this;return(0,g.Z)(function*(){if(v.persistence===_)return;const M=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=_,M?v.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,v,M="authUser"){return(0,g.Z)(function*(){if(!v.length)return new an(yt(tn),_,M);const Q=(yield Promise.all(v.map(function(){var Kt=(0,g.Z)(function*(Un){if(yield Un._isAvailable())return Un});return function(Un){return Kt.apply(this,arguments)}}()))).filter(Kt=>Kt);let le=Q[0]||yt(tn);const Ue=nn(M,_.config.apiKey,_.name);let ut=null;for(const Kt of v)try{const Un=yield Kt._get(Ue);if(Un){const yr=he._fromJSON(_,Un);Kt!==le&&(ut=yr),le=Kt;break}}catch{}const Lt=Q.filter(Kt=>Kt._shouldAllowMigration);return le._shouldAllowMigration&&Lt.length?(le=Lt[0],ut&&(yield le._set(Ue,ut.toJSON())),yield Promise.all(v.map(function(){var Kt=(0,g.Z)(function*(Un){if(Un!==le)try{yield Un._remove(Ue)}catch{}});return function(Un){return Kt.apply(this,arguments)}}())),new an(le,_,M)):new an(le,_,M)})()}}function Jn(C){const _=C.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(To(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(xn(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(so(_))return"Blackberry";if(ms(_))return"Webos";if(ui(_))return"Safari";if((_.includes("chrome/")||Ds(_))&&!_.includes("edge/"))return"Chrome";if(vi(_))return"Android";{const M=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===M?.length)return M[1]}return"Other"}function xn(C=(0,K.z$)()){return/firefox\//i.test(C)}function ui(C=(0,K.z$)()){const _=C.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function Ds(C=(0,K.z$)()){return/crios\//i.test(C)}function To(C=(0,K.z$)()){return/iemobile/i.test(C)}function vi(C=(0,K.z$)()){return/android/i.test(C)}function so(C=(0,K.z$)()){return/blackberry/i.test(C)}function ms(C=(0,K.z$)()){return/webos/i.test(C)}function Li(C=(0,K.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function pr(C=(0,K.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function ma(C=(0,K.z$)()){return Li(C)||vi(C)||ms(C)||so(C)||/windows phone/i.test(C)||To(C)}function Vi(C,_=[]){let v;switch(C){case"Browser":v=Jn((0,K.z$)());break;case"Worker":v=`${Jn((0,K.z$)())}-${C}`;break;default:v=C}const M=_.length?_.join(","):"FirebaseCore-web";return`${v}/JsCore/${u.SDK_VERSION}/${M}`}class Fr{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,v){const M=le=>new Promise((Ue,ut)=>{try{Ue(_(le))}catch(Lt){ut(Lt)}});M.onAbort=v,this.queue.push(M);const Q=this.queue.length-1;return()=>{this.queue[Q]=()=>Promise.resolve()}}runMiddleware(_){var v=this;return(0,g.Z)(function*(){if(v.auth.currentUser===_)return;const M=[];try{for(const Q of v.queue)yield Q(_),Q.onAbort&&M.push(Q.onAbort)}catch(Q){M.reverse();for(const le of M)try{le()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:Q?.message})}})()}}function Kr(){return(Kr=(0,g.Z)(function*(C,_={}){return vt(C,"GET","/v2/passwordPolicy",gt(C,_))})).apply(this,arguments)}class Xo{constructor(_){var v,M,Q,le;const Ue=_.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=Ue.minPasswordLength)&&void 0!==v?v:6,Ue.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ue.maxPasswordLength),void 0!==Ue.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ue.containsLowercaseCharacter),void 0!==Ue.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ue.containsUppercaseCharacter),void 0!==Ue.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ue.containsNumericCharacter),void 0!==Ue.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ue.containsNonAlphanumericCharacter),this.enforcementState=_.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Q=null===(M=_.allowedNonAlphanumericCharacters)||void 0===M?void 0:M.join(""))&&void 0!==Q?Q:"",this.forceUpgradeOnSignin=null!==(le=_.forceUpgradeOnSignin)&&void 0!==le&&le,this.schemaVersion=_.schemaVersion}validatePassword(_){var v,M,Q,le,Ue,ut;const Lt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(_,Lt),this.validatePasswordCharacterOptions(_,Lt),Lt.isValid&&(Lt.isValid=null===(v=Lt.meetsMinPasswordLength)||void 0===v||v),Lt.isValid&&(Lt.isValid=null===(M=Lt.meetsMaxPasswordLength)||void 0===M||M),Lt.isValid&&(Lt.isValid=null===(Q=Lt.containsLowercaseLetter)||void 0===Q||Q),Lt.isValid&&(Lt.isValid=null===(le=Lt.containsUppercaseLetter)||void 0===le||le),Lt.isValid&&(Lt.isValid=null===(Ue=Lt.containsNumericCharacter)||void 0===Ue||Ue),Lt.isValid&&(Lt.isValid=null===(ut=Lt.containsNonAlphanumericCharacter)||void 0===ut||ut),Lt}validatePasswordLengthOptions(_,v){const M=this.customStrengthOptions.minPasswordLength,Q=this.customStrengthOptions.maxPasswordLength;M&&(v.meetsMinPasswordLength=_.length>=M),Q&&(v.meetsMaxPasswordLength=_.length<=Q)}validatePasswordCharacterOptions(_,v){let M;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let Q=0;Q<_.length;Q++)M=_.charAt(Q),this.updatePasswordCharacterOptionsStatuses(v,M>="a"&&M<="z",M>="A"&&M<="Z",M>="0"&&M<="9",this.allowedNonAlphanumericCharacters.includes(M))}updatePasswordCharacterOptionsStatuses(_,v,M,Q,le){this.customStrengthOptions.containsLowercaseLetter&&(_.containsLowercaseLetter||(_.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(_.containsUppercaseLetter||(_.containsUppercaseLetter=M)),this.customStrengthOptions.containsNumericCharacter&&(_.containsNumericCharacter||(_.containsNumericCharacter=Q)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(_.containsNonAlphanumericCharacter||(_.containsNonAlphanumericCharacter=le))}}class ea{constructor(_,v,M,Q){this.app=_,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=M,this.config=Q,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ci(this),this.idTokenSubscription=new Ci(this),this.beforeStateQueue=new Fr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=Q.sdkClientVersion}_initializeWithPersistence(_,v){var M=this;return v&&(this._popupRedirectResolver=yt(v)),this._initializationPromise=this.queue((0,g.Z)(function*(){var Q,le;if(!M._deleted&&(M.persistenceManager=yield an.create(M,_),!M._deleted)){if(null!==(Q=M._popupRedirectResolver)&&void 0!==Q&&Q._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(v),M.lastNotifiedUid=(null===(le=M.currentUser)||void 0===le?void 0:le.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,g.Z)(function*(){if(_._deleted)return;const v=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||v){if(_.currentUser&&v&&_.currentUser.uid===v.uid)return _._currentUser._assign(v),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(_){var v=this;return(0,g.Z)(function*(){try{const M=yield kr(v,{idToken:_}),Q=yield he._fromGetAccountInfoResponse(v,M,_);yield v.directlySetCurrentUser(Q)}catch(M){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",M),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(_){var v=this;return(0,g.Z)(function*(){var M;if((0,u._isFirebaseServerApp)(v.app)){const ut=v.app.settings.authIdToken;return ut?new Promise(Lt=>{setTimeout(()=>v.initializeCurrentUserFromIdToken(ut).then(Lt,Lt))}):v.directlySetCurrentUser(null)}const Q=yield v.assertedPersistence.getCurrentUser();let le=Q,Ue=!1;if(_&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const ut=null===(M=v.redirectUser)||void 0===M?void 0:M._redirectEventId,Lt=le?._redirectEventId,Kt=yield v.tryRedirectSignIn(_);(!ut||ut===Lt)&&Kt?.user&&(le=Kt.user,Ue=!0)}if(!le)return v.directlySetCurrentUser(null);if(!le._redirectEventId){if(Ue)try{yield v.beforeStateQueue.runMiddleware(le)}catch(ut){le=Q,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(ut))}return le?v.reloadAndSetCurrentUserOrClear(le):v.directlySetCurrentUser(null)}return ge(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===le._redirectEventId?v.directlySetCurrentUser(le):v.reloadAndSetCurrentUserOrClear(le)})()}tryRedirectSignIn(_){var v=this;return(0,g.Z)(function*(){let M=null;try{M=yield v._popupRedirectResolver._completeRedirectFn(v,_,!0)}catch{yield v._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(_){var v=this;return(0,g.Z)(function*(){try{yield oe(_)}catch(M){if("auth/network-request-failed"!==M?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function at(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var _=this;return(0,g.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var v=this;return(0,g.Z)(function*(){if((0,u._isFirebaseServerApp)(v.app))return Promise.reject(it(v));const M=_?(0,K.m9)(_):null;return M&&ge(M.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(M&&M._clone(v))})()}_updateCurrentUser(_,v=!1){var M=this;return(0,g.Z)(function*(){if(!M._deleted)return _&&ge(M.tenantId===_.tenantId,M,"tenant-id-mismatch"),v||(yield M.beforeStateQueue.runMiddleware(_)),M.queue((0,g.Z)(function*(){yield M.directlySetCurrentUser(_),M.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,g.Z)(function*(){return(0,u._isFirebaseServerApp)(_.app)?Promise.reject(it(_)):(yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0))})()}setPersistence(_){var v=this;return(0,u._isFirebaseServerApp)(this.app)?Promise.reject(it(this)):this.queue((0,g.Z)(function*(){yield v.assertedPersistence.setPersistence(yt(_))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(_){var v=this;return(0,g.Z)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const M=v._getPasswordPolicyInternal();return M.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):M.validatePassword(_)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var _=this;return(0,g.Z)(function*(){const v=yield function Qo(C){return Kr.apply(this,arguments)}(_),M=new Xo(v);null===_.tenantId?_._projectPasswordPolicy=M:_._tenantPasswordPolicies[_.tenantId]=M})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new K.LL("auth","Firebase",_())}onAuthStateChanged(_,v,M){return this.registerStateListener(this.authStateSubscription,_,v,M)}beforeAuthStateChanged(_,v){return this.beforeStateQueue.pushCallback(_,v)}onIdTokenChanged(_,v,M){return this.registerStateListener(this.idTokenSubscription,_,v,M)}authStateReady(){return new Promise((_,v)=>{if(this.currentUser)_();else{const M=this.onAuthStateChanged(()=>{M(),_()},v)}})}revokeAccessToken(_){var v=this;return(0,g.Z)(function*(){if(v.currentUser){const M=yield v.currentUser.getIdToken(),Q={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:_,idToken:M};null!=v.tenantId&&(Q.tenantId=v.tenantId),yield function X(C,_){return $.apply(this,arguments)}(v,Q)}})()}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,v){var M=this;return(0,g.Z)(function*(){const Q=yield M.getOrInitRedirectPersistenceManager(v);return null===_?Q.removeCurrentUser():Q.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var v=this;return(0,g.Z)(function*(){if(!v.redirectPersistenceManager){const M=_&&yt(_)||v._popupRedirectResolver;ge(M,v,"argument-error"),v.redirectPersistenceManager=yield an.create(v,[yt(M._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(_){var v=this;return(0,g.Z)(function*(){var M,Q;return v._isInitialized&&(yield v.queue((0,g.Z)(function*(){}))),(null===(M=v._currentUser)||void 0===M?void 0:M._redirectEventId)===_?v._currentUser:(null===(Q=v.redirectUser)||void 0===Q?void 0:Q._redirectEventId)===_?v.redirectUser:null})()}_persistUserIfCurrent(_){var v=this;return(0,g.Z)(function*(){if(_===v.currentUser)return v.queue((0,g.Z)(function*(){return v.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(v=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,v,M,Q){if(this._deleted)return()=>{};const le="function"==typeof v?v:v.next.bind(v);let Ue=!1;const ut=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(ut,this,"internal-error"),ut.then(()=>{Ue||le(this.currentUser)}),"function"==typeof v){const Lt=_.addObserver(v,M,Q);return()=>{Ue=!0,Lt()}}{const Lt=_.addObserver(v);return()=>{Ue=!0,Lt()}}}directlySetCurrentUser(_){var v=this;return(0,g.Z)(function*(){v.currentUser&&v.currentUser!==_&&v._currentUser._stopProactiveRefresh(),_&&v.isProactiveRefreshEnabled&&_._startProactiveRefresh(),v.currentUser=_,_?yield v.assertedPersistence.setCurrentUser(_):yield v.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=Vi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,g.Z)(function*(){var v;const M={"X-Client-Version":_.clientVersion};_.app.options.appId&&(M["X-Firebase-gmpid"]=_.app.options.appId);const Q=yield null===(v=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();Q&&(M["X-Firebase-Client"]=Q);const le=yield _._getAppCheckToken();return le&&(M["X-Firebase-AppCheck"]=le),M})()}_getAppCheckToken(){var _=this;return(0,g.Z)(function*(){var v;const M=yield null===(v=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return M?.error&&function en(C,..._){_t.logLevel<=Ie.in.WARN&&_t.warn(`Auth (${u.SDK_VERSION}): ${C}`,..._)}(`Error while retrieving App Check token: ${M.error}`),M?.token})()}}function fr(C){return(0,K.m9)(C)}class Ci{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,K.ne)(v=>this.observer=v)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Us={loadJS:()=>(0,g.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Pr(C){return Us.loadJS(C)}function Oa(C){return`__${C}${Math.floor(1e6*Math.random())}`}class Ei{constructor(_){this.type="recaptcha-enterprise",this.auth=fr(_)}verify(_="verify",v=!1){var M=this;return(0,g.Z)(function*(){function le(){return le=(0,g.Z)(function*(ut){if(!v){if(null==ut.tenantId&&null!=ut._agentRecaptchaConfig)return ut._agentRecaptchaConfig.siteKey;if(null!=ut.tenantId&&void 0!==ut._tenantRecaptchaConfigs[ut.tenantId])return ut._tenantRecaptchaConfigs[ut.tenantId].siteKey}return new Promise(function(){var Lt=(0,g.Z)(function*(Kt,Un){dr(ut,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(yr=>{if(void 0!==yr.recaptchaKey){const Oo=new Zt(yr);return null==ut.tenantId?ut._agentRecaptchaConfig=Oo:ut._tenantRecaptchaConfigs[ut.tenantId]=Oo,Kt(Oo.siteKey)}Un(new Error("recaptcha Enterprise site key undefined"))}).catch(yr=>{Un(yr)})});return function(Kt,Un){return Lt.apply(this,arguments)}}())}),le.apply(this,arguments)}function Ue(ut,Lt,Kt){const Un=window.grecaptcha;Dn(Un)?Un.enterprise.ready(()=>{Un.enterprise.execute(ut,{action:_}).then(yr=>{Lt(yr)}).catch(()=>{Lt("NO_RECAPTCHA")})}):Kt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ut,Lt)=>{(function Q(ut){return le.apply(this,arguments)})(M.auth).then(Kt=>{if(!v&&Dn(window.grecaptcha))Ue(Kt,ut,Lt);else{if(typeof window>"u")return void Lt(new Error("RecaptchaVerifier is only supported in browser"));let Un=function Xi(){return Us.recaptchaEnterpriseScript}();0!==Un.length&&(Un+=Kt),Pr(Un).then(()=>{Ue(Kt,ut,Lt)}).catch(yr=>{Lt(yr)})}}).catch(Kt=>{Lt(Kt)})})})()}}function Rr(C,_,v){return ta.apply(this,arguments)}function ta(){return(ta=(0,g.Z)(function*(C,_,v,M=!1){const Q=new Ei(C);let le;try{le=yield Q.verify(v)}catch{le=yield Q.verify(v,!0)}const Ue=Object.assign({},_);return Object.assign(Ue,M?{captchaResp:le}:{captchaResponse:le}),Object.assign(Ue,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ue,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ue})).apply(this,arguments)}function Ss(C,_,v,M){return Ii.apply(this,arguments)}function Ii(){return Ii=(0,g.Z)(function*(C,_,v,M){var Q;if(null!==(Q=C._getRecaptchaConfig())&&void 0!==Q&&Q.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const le=yield Rr(C,_,v,"getOobCode"===v);return M(C,le)}return M(C,_).catch(function(){var le=(0,g.Z)(function*(Ue){if("auth/missing-recaptcha-token"===Ue.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const ut=yield Rr(C,_,v,"getOobCode"===v);return M(C,ut)}return Promise.reject(Ue)});return function(Ue){return le.apply(this,arguments)}}())}),Ii.apply(this,arguments)}function ss(C,_,v){const M=fr(C);ge(M._canInitEmulator,M,"emulator-config-failed"),ge(/^https?:\/\//.test(_),M,"invalid-emulator-scheme");const Q=!!v?.disableWarnings,le=ri(_),{host:Ue,port:ut}=function os(C){const _=ri(C),v=/(\/\/)?([^?#/]+)/.exec(C.substr(_.length));if(!v)return{host:"",port:null};const M=v[2].split("@").pop()||"",Q=/^(\[[^\]]+\])(:|$)/.exec(M);if(Q){const le=Q[1];return{host:le,port:_s(M.substr(le.length+1))}}{const[le,Ue]=M.split(":");return{host:le,port:_s(Ue)}}}(_);M.config.emulator={url:`${le}//${Ue}${null===ut?"":`:${ut}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:Ue,port:ut,protocol:le.replace(":",""),options:Object.freeze({disableWarnings:Q})}),Q||function oo(){function C(){const _=document.createElement("p"),v=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function ri(C){const _=C.indexOf(":");return _<0?"":C.substr(0,_+1)}function _s(C){if(!C)return null;const _=Number(C);return isNaN(_)?null:_}class Mi{constructor(_,v){this.providerId=_,this.signInMethod=v}toJSON(){return Et("not implemented")}_getIdTokenResponse(_){return Et("not implemented")}_linkToIdToken(_,v){return Et("not implemented")}_getReauthenticationResolver(_){return Et("not implemented")}}function Do(C,_){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,g.Z)(function*(C,_){return vt(C,"POST","/v1/accounts:resetPassword",gt(C,_))})).apply(this,arguments)}function jr(){return(jr=(0,g.Z)(function*(C,_){return vt(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Pi(C,_){return Or.apply(this,arguments)}function Or(){return(Or=(0,g.Z)(function*(C,_){return vt(C,"POST","/v1/accounts:signUp",_)})).apply(this,arguments)}function wi(){return(wi=(0,g.Z)(function*(C,_){return vt(C,"POST","/v1/accounts:update",gt(C,_))})).apply(this,arguments)}function So(C,_){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,g.Z)(function*(C,_){return hn(C,"POST","/v1/accounts:signInWithPassword",gt(C,_))})).apply(this,arguments)}function as(C,_){return br.apply(this,arguments)}function br(){return(br=(0,g.Z)(function*(C,_){return vt(C,"POST","/v1/accounts:sendOobCode",gt(C,_))})).apply(this,arguments)}function Ln(){return(Ln=(0,g.Z)(function*(C,_){return as(C,_)})).apply(this,arguments)}function gr(C,_){return gi.apply(this,arguments)}function gi(){return(gi=(0,g.Z)(function*(C,_){return as(C,_)})).apply(this,arguments)}function ys(C,_){return zr.apply(this,arguments)}function zr(){return(zr=(0,g.Z)(function*(C,_){return as(C,_)})).apply(this,arguments)}function rr(){return(rr=(0,g.Z)(function*(C,_){return as(C,_)})).apply(this,arguments)}function vs(){return(vs=(0,g.Z)(function*(C,_){return hn(C,"POST","/v1/accounts:signInWithEmailLink",gt(C,_))})).apply(this,arguments)}function Zi(){return(Zi=(0,g.Z)(function*(C,_){return hn(C,"POST","/v1/accounts:signInWithEmailLink",gt(C,_))})).apply(this,arguments)}class or extends Mi{constructor(_,v,M,Q=null){super("password",M),this._email=_,this._password=v,this._tenantId=Q}static _fromEmailAndPassword(_,v){return new or(_,v,"password")}static _fromEmailAndCode(_,v,M=null){return new or(_,v,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(_){var v=this;return(0,g.Z)(function*(){switch(v.signInMethod){case"password":return Ss(_,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",So);case"emailLink":return function Wi(C,_){return vs.apply(this,arguments)}(_,{email:v._email,oobCode:v._password});default:ze(_,"internal-error")}})()}_linkToIdToken(_,v){var M=this;return(0,g.Z)(function*(){switch(M.signInMethod){case"password":return Ss(_,{idToken:v,returnSecureToken:!0,email:M._email,password:M._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Pi);case"emailLink":return function jn(C,_){return Zi.apply(this,arguments)}(_,{idToken:v,email:M._email,oobCode:M._password});default:ze(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function mi(C,_){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,g.Z)(function*(C,_){return hn(C,"POST","/v1/accounts:signInWithIdp",gt(C,_))})).apply(this,arguments)}class _i extends Mi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const v=new _i(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(v.idToken=_.idToken),_.accessToken&&(v.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(v.nonce=_.nonce),_.pendingToken&&(v.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(v.accessToken=_.oauthToken,v.secret=_.oauthTokenSecret):ze("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:M,signInMethod:Q}=v,le=(0,Ee._T)(v,["providerId","signInMethod"]);if(!M||!Q)return null;const Ue=new _i(M,Q);return Ue.idToken=le.idToken||void 0,Ue.accessToken=le.accessToken||void 0,Ue.secret=le.secret,Ue.nonce=le.nonce,Ue.pendingToken=le.pendingToken||null,Ue}_getIdTokenResponse(_){return mi(_,this.buildRequest())}_linkToIdToken(_,v){const M=this.buildRequest();return M.idToken=v,mi(_,M)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,mi(_,v)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),_.postBody=(0,K.xO)(v)}return _}}function Es(){return(Es=(0,g.Z)(function*(C,_){return vt(C,"POST","/v1/accounts:sendVerificationCode",gt(C,_))})).apply(this,arguments)}function ls(){return(ls=(0,g.Z)(function*(C,_){return hn(C,"POST","/v1/accounts:signInWithPhoneNumber",gt(C,_))})).apply(this,arguments)}function ar(){return(ar=(0,g.Z)(function*(C,_){const v=yield hn(C,"POST","/v1/accounts:signInWithPhoneNumber",gt(C,_));if(v.temporaryProof)throw fn(C,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Ms={USER_NOT_FOUND:"user-not-found"};function na(){return(na=(0,g.Z)(function*(C,_){return hn(C,"POST","/v1/accounts:signInWithPhoneNumber",gt(C,Object.assign(Object.assign({},_),{operation:"REAUTH"})),Ms)})).apply(this,arguments)}class Ki extends Mi{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,v){return new Ki({verificationId:_,verificationCode:v})}static _fromTokenResponse(_,v){return new Ki({phoneNumber:_,temporaryProof:v})}_getIdTokenResponse(_){return function ka(C,_){return ls.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,v){return function Kn(C,_){return ar.apply(this,arguments)}(_,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function ir(C,_){return na.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:v,verificationId:M,verificationCode:Q}=this.params;return _&&v?{temporaryProof:_,phoneNumber:v}:{sessionInfo:M,code:Q}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:v,verificationCode:M,phoneNumber:Q,temporaryProof:le}=_;return M||v||Q||le?new Ki({verificationId:v,verificationCode:M,phoneNumber:Q,temporaryProof:le}):null}}class Is{constructor(_){var v,M,Q,le,Ue,ut;const Lt=(0,K.zd)((0,K.pd)(_)),Kt=null!==(v=Lt.apiKey)&&void 0!==v?v:null,Un=null!==(M=Lt.oobCode)&&void 0!==M?M:null,yr=function xi(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Q=Lt.mode)&&void 0!==Q?Q:null);ge(Kt&&Un&&yr,"argument-error"),this.apiKey=Kt,this.operation=yr,this.code=Un,this.continueUrl=null!==(le=Lt.continueUrl)&&void 0!==le?le:null,this.languageCode=null!==(Ue=Lt.languageCode)&&void 0!==Ue?Ue:null,this.tenantId=null!==(ut=Lt.tenantId)&&void 0!==ut?ut:null}static parseLink(_){const v=function ts(C){const _=(0,K.zd)((0,K.pd)(C)).link,v=_?(0,K.zd)((0,K.pd)(_)).deep_link_id:null,M=(0,K.zd)((0,K.pd)(C)).deep_link_id;return(M?(0,K.zd)((0,K.pd)(M)).link:null)||M||v||_||C}(_);try{return new Is(v)}catch{return null}}}let co=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(v,M){return or._fromEmailAndPassword(v,M)}static credentialWithLink(v,M){const Q=Is.parseLink(M);return ge(Q,"argument-error"),or._fromEmailAndCode(v,Q.code,Q.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class Yr{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class de extends Yr{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class De extends de{static credentialFromJSON(_){const v="string"==typeof _?JSON.parse(_):_;return ge("providerId"in v&&"signInMethod"in v,"argument-error"),_i._fromParams(v)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return ge(_.idToken||_.accessToken,"argument-error"),_i._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return De.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return De.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:v,oauthAccessToken:M,oauthTokenSecret:Q,pendingToken:le,nonce:Ue,providerId:ut}=_;if(!M&&!Q&&!v&&!le||!ut)return null;try{return new De(ut)._credential({idToken:v,accessToken:M,nonce:Ue,pendingToken:le})}catch{return null}}}let je=(()=>{class C extends de{constructor(){super("facebook.com")}static credential(v){return _i._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),St=(()=>{class C extends de{constructor(){super("google.com"),this.addScope("profile")}static credential(v,M){return _i._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:M})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:M,oauthAccessToken:Q}=v;if(!M&&!Q)return null;try{return C.credential(M,Q)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Ut=(()=>{class C extends de{constructor(){super("github.com")}static credential(v){return _i._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class mn extends Mi{constructor(_,v){super(_,_),this.pendingToken=v}_getIdTokenResponse(_){return mi(_,this.buildRequest())}_linkToIdToken(_,v){const M=this.buildRequest();return M.idToken=v,mi(_,M)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,mi(_,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:M,signInMethod:Q,pendingToken:le}=v;return M&&Q&&le&&M===Q?new mn(M,le):null}static _create(_,v){return new mn(_,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Pn extends Yr{constructor(_){ge(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return Pn.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return Pn.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const v=mn.fromJSON(_);return ge(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:v,providerId:M}=_;if(!v||!M)return null;try{return mn._create(M,v)}catch{return null}}}let tr=(()=>{class C extends de{constructor(){super("twitter.com")}static credential(v,M){return _i._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:M})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:M,oauthTokenSecret:Q}=v;if(!M||!Q)return null;try{return C.credential(M,Q)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Bi(C,_){return us.apply(this,arguments)}function us(){return(us=(0,g.Z)(function*(C,_){return hn(C,"POST","/v1/accounts:signUp",gt(C,_))})).apply(this,arguments)}class q{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,v,M,Q=!1){return(0,g.Z)(function*(){const le=yield he._fromIdTokenResponse(_,M,Q),Ue=ee(M);return new q({user:le,providerId:Ue,_tokenResponse:M,operationType:v})})()}static _forOperation(_,v,M){return(0,g.Z)(function*(){yield _._updateTokensIfNecessary(M,!0);const Q=ee(M);return new q({user:_,providerId:Q,_tokenResponse:M,operationType:v})})()}}function ee(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function V(C){return ce.apply(this,arguments)}function ce(){return(ce=(0,g.Z)(function*(C){var _;if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(it(C));const v=fr(C);if(yield v._initializationPromise,null!==(_=v.currentUser)&&void 0!==_&&_.isAnonymous)return new q({user:v.currentUser,providerId:null,operationType:"signIn"});const M=yield Bi(v,{returnSecureToken:!0}),Q=yield q._fromIdTokenResponse(v,"signIn",M,!0);return yield v._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class Me extends K.ZR{constructor(_,v,M,Q){var le;super(v.code,v.message),this.operationType=M,this.user=Q,Object.setPrototypeOf(this,Me.prototype),this.customData={appName:_.name,tenantId:null!==(le=_.tenantId)&&void 0!==le?le:void 0,_serverResponse:v.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(_,v,M,Q){return new Me(_,v,M,Q)}}function bn(C,_,v,M){return("reauthenticate"===_?v._getReauthenticationResolver(C):v._getIdTokenResponse(C)).catch(le=>{throw"auth/multi-factor-auth-required"===le.code?Me._fromErrorAndOperation(C,le,_,M):le})}function cr(C){return new Set(C.map(({providerId:_})=>_).filter(_=>!!_))}function ns(C,_){return si.apply(this,arguments)}function si(){return si=(0,g.Z)(function*(C,_){const v=(0,K.m9)(C);yield ic(!0,v,_);const{providerUserInfo:M}=yield function Fn(C,_){return An.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[_]}),Q=cr(M||[]);return v.providerData=v.providerData.filter(le=>Q.has(le.providerId)),Q.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),si.apply(this,arguments)}function Fa(C,_){return Al.apply(this,arguments)}function Al(){return(Al=(0,g.Z)(function*(C,_,v=!1){const M=yield Tr(C,_._linkToIdToken(C.auth,yield C.getIdToken()),v);return q._forOperation(C,"link",M)})).apply(this,arguments)}function ic(C,_,v){return sc.apply(this,arguments)}function sc(){return(sc=(0,g.Z)(function*(C,_,v){yield oe(_);const Q=!1===C?"provider-already-linked":"no-such-provider";ge(cr(_.providerData).has(v)===C,_.auth,Q)})).apply(this,arguments)}function La(C,_){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,g.Z)(function*(C,_,v=!1){const{auth:M}=C;if((0,u._isFirebaseServerApp)(M.app))return Promise.reject(it(M));const Q="reauthenticate";try{const le=yield Tr(C,bn(M,Q,_,C),v);ge(le.idToken,M,"internal-error");const Ue=fi(le.idToken);ge(Ue,M,"internal-error");const{sub:ut}=Ue;return ge(C.uid===ut,M,"user-mismatch"),q._forOperation(C,Q,le)}catch(le){throw"auth/user-not-found"===le?.code&&ze(M,"user-mismatch"),le}})).apply(this,arguments)}function oc(C,_){return _a.apply(this,arguments)}function _a(){return(_a=(0,g.Z)(function*(C,_,v=!1){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(it(C));const M="signIn",Q=yield bn(C,M,_),le=yield q._fromIdTokenResponse(C,M,Q);return v||(yield C._updateCurrentUser(le.user)),le})).apply(this,arguments)}function $c(C,_){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,g.Z)(function*(C,_){return oc(fr(C),_)})).apply(this,arguments)}function lo(C,_){return rs.apply(this,arguments)}function rs(){return(rs=(0,g.Z)(function*(C,_){const v=(0,K.m9)(C);return yield ic(!1,v,_.providerId),Fa(v,_)})).apply(this,arguments)}function Cd(C,_){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,g.Z)(function*(C,_){return La((0,K.m9)(C),_)})).apply(this,arguments)}function ji(){return(ji=(0,g.Z)(function*(C,_){return hn(C,"POST","/v1/accounts:signInWithCustomToken",gt(C,_))})).apply(this,arguments)}function Ru(C,_){return Js.apply(this,arguments)}function Js(){return Js=(0,g.Z)(function*(C,_){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(it(C));const v=fr(C),M=yield function ya(C,_){return ji.apply(this,arguments)}(v,{token:_,returnSecureToken:!0}),Q=yield q._fromIdTokenResponse(v,"signIn",M);return yield v._updateCurrentUser(Q.user),Q}),Js.apply(this,arguments)}class uo{constructor(_,v){this.factorId=_,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(_,v){return"phoneInfo"in v?ho._fromServerResponse(_,v):"totpInfo"in v?ko._fromServerResponse(_,v):ze(_,"internal-error")}}class ho extends uo{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,v){return new ho(v)}}class ko extends uo{constructor(_){super("totp",_)}static _fromServerResponse(_,v){return new ko(v)}}function Va(C,_,v){var M;ge((null===(M=v.url)||void 0===M?void 0:M.length)>0,C,"invalid-continue-uri"),ge(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),_.continueUrl=v.url,_.dynamicLinkDomain=v.dynamicLinkDomain,_.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(ge(v.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),_.iOSBundleId=v.iOS.bundleId),v.android&&(ge(v.android.packageName.length>0,C,"missing-android-pkg-name"),_.androidInstallApp=v.android.installApp,_.androidMinimumVersionCode=v.android.minimumVersion,_.androidPackageName=v.android.packageName)}function sr(C){return zc.apply(this,arguments)}function zc(){return(zc=(0,g.Z)(function*(C){const _=fr(C);_._getPasswordPolicyInternal()&&(yield _._updatePasswordPolicy())})).apply(this,arguments)}function Gc(C,_,v){return ac.apply(this,arguments)}function ac(){return(ac=(0,g.Z)(function*(C,_,v){const M=fr(C),Q={requestType:"PASSWORD_RESET",email:_,clientType:"CLIENT_TYPE_WEB"};v&&Va(M,Q,v),yield Ss(M,Q,"getOobCode",gr)})).apply(this,arguments)}function cc(C,_,v){return Ua.apply(this,arguments)}function Ua(){return Ua=(0,g.Z)(function*(C,_,v){yield Do((0,K.m9)(C),{oobCode:_,newPassword:v}).catch(function(){var M=(0,g.Z)(function*(Q){throw"auth/password-does-not-meet-requirements"===Q.code&&sr(C),Q});return function(Q){return M.apply(this,arguments)}}())}),Ua.apply(this,arguments)}function ra(C,_){return Fo.apply(this,arguments)}function Fo(){return Fo=(0,g.Z)(function*(C,_){yield function qi(C,_){return wi.apply(this,arguments)}((0,K.m9)(C),{oobCode:_})}),Fo.apply(this,arguments)}function lc(C,_){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,g.Z)(function*(C,_){const v=(0,K.m9)(C),M=yield Do(v,{oobCode:_}),Q=M.requestType;switch(ge(Q,v,"internal-error"),Q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ge(M.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ge(M.mfaInfo,v,"internal-error");default:ge(M.email,v,"internal-error")}let le=null;return M.mfaInfo&&(le=uo._fromServerResponse(fr(v),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:le},operation:Q}})).apply(this,arguments)}function qc(C,_){return ia.apply(this,arguments)}function ia(){return(ia=(0,g.Z)(function*(C,_){const{data:v}=yield lc((0,K.m9)(C),_);return v.email})).apply(this,arguments)}function Sh(C,_,v){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,g.Z)(function*(C,_,v){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(it(C));const M=fr(C),Ue=yield Ss(M,{returnSecureToken:!0,email:_,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Bi).catch(Lt=>{throw"auth/password-does-not-meet-requirements"===Lt.code&&sr(C),Lt}),ut=yield q._fromIdTokenResponse(M,"signIn",Ue);return yield M._updateCurrentUser(ut.user),ut})).apply(this,arguments)}function wd(C,_,v){return(0,u._isFirebaseServerApp)(C.app)?Promise.reject(it(C)):$c((0,K.m9)(C),co.credential(_,v)).catch(function(){var M=(0,g.Z)(function*(Q){throw"auth/password-does-not-meet-requirements"===Q.code&&sr(C),Q});return function(Q){return M.apply(this,arguments)}}())}function Ba(C,_,v){return uc.apply(this,arguments)}function uc(){return(uc=(0,g.Z)(function*(C,_,v){const M=fr(C),Q={requestType:"EMAIL_SIGNIN",email:_,clientType:"CLIENT_TYPE_WEB"};(function le(Ue,ut){ge(ut.handleCodeInApp,M,"argument-error"),ut&&Va(M,Ue,ut)})(Q,v),yield Ss(M,Q,"getOobCode",ys)})).apply(this,arguments)}function Sl(C,_){const v=Is.parseLink(_);return"EMAIL_SIGNIN"===v?.operation}function ja(C,_,v){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,g.Z)(function*(C,_,v){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(it(C));const M=(0,K.m9)(C),Q=co.credentialWithLink(_,v||zn());return ge(Q._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),$c(M,Q)})).apply(this,arguments)}function Qr(){return(Qr=(0,g.Z)(function*(C,_){return vt(C,"POST","/v1/accounts:createAuthUri",gt(C,_))})).apply(this,arguments)}function P(C,_){return ne.apply(this,arguments)}function ne(){return ne=(0,g.Z)(function*(C,_){const M={identifier:_,continueUri:bt()?zn():"http://localhost"},{signinMethods:Q}=yield function Wc(C,_){return Qr.apply(this,arguments)}((0,K.m9)(C),M);return Q||[]}),ne.apply(this,arguments)}function j(C,_){return te.apply(this,arguments)}function te(){return te=(0,g.Z)(function*(C,_){const v=(0,K.m9)(C),Q={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};_&&Va(v.auth,Q,_);const{email:le}=yield function Xt(C,_){return Ln.apply(this,arguments)}(v.auth,Q);le!==C.email&&(yield C.reload())}),te.apply(this,arguments)}function we(C,_,v){return ht.apply(this,arguments)}function ht(){return ht=(0,g.Z)(function*(C,_,v){const M=(0,K.m9)(C),le={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:_};v&&Va(M.auth,le,v);const{email:Ue}=yield function ii(C,_){return rr.apply(this,arguments)}(M.auth,le);Ue!==C.email&&(yield C.reload())}),ht.apply(this,arguments)}function yn(){return(yn=(0,g.Z)(function*(C,_){return vt(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function wr(C,_){return Gr.apply(this,arguments)}function Gr(){return Gr=(0,g.Z)(function*(C,{displayName:_,photoURL:v}){if(void 0===_&&void 0===v)return;const M=(0,K.m9)(C),le={idToken:yield M.getIdToken(),displayName:_,photoUrl:v,returnSecureToken:!0},Ue=yield Tr(M,function Mt(C,_){return yn.apply(this,arguments)}(M.auth,le));M.displayName=Ue.displayName||null,M.photoURL=Ue.photoUrl||null;const ut=M.providerData.find(({providerId:Lt})=>"password"===Lt);ut&&(ut.displayName=M.displayName,ut.photoURL=M.photoURL),yield M._updateTokensIfNecessary(Ue)}),Gr.apply(this,arguments)}function Lr(C,_){const v=(0,K.m9)(C);return(0,u._isFirebaseServerApp)(v.auth.app)?Promise.reject(it(v.auth)):Zr(v,_,null)}function lr(C,_){return Zr((0,K.m9)(C),null,_)}function Zr(C,_,v){return Nr.apply(this,arguments)}function Nr(){return Nr=(0,g.Z)(function*(C,_,v){const{auth:M}=C,le={idToken:yield C.getIdToken(),returnSecureToken:!0};_&&(le.email=_),v&&(le.password=v);const Ue=yield Tr(C,function xr(C,_){return jr.apply(this,arguments)}(M,le));yield C._updateTokensIfNecessary(Ue,!0)}),Nr.apply(this,arguments)}class ds{constructor(_,v,M={}){this.isNewUser=_,this.providerId=v,this.profile=M}}class is extends ds{constructor(_,v,M,Q){super(_,v,M),this.username=Q}}class sa extends ds{constructor(_,v){super(_,"facebook.com",v)}}class js extends is{constructor(_,v){super(_,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class oi extends ds{constructor(_,v){super(_,"google.com",v)}}class Yn extends is{constructor(_,v,M){super(_,"twitter.com",v,M)}}function oa(C){const{user:_,_tokenResponse:v}=C;return _.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Oi(C){var _,v;if(!C)return null;const{providerId:M}=C,Q=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},le=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!M&&C?.idToken){const Ue=null===(v=null===(_=fi(C.idToken))||void 0===_?void 0:_.firebase)||void 0===v?void 0:v.sign_in_provider;if(Ue)return new ds(le,"anonymous"!==Ue&&"custom"!==Ue?Ue:null)}if(!M)return null;switch(M){case"facebook.com":return new sa(le,Q);case"github.com":return new js(le,Q);case"google.com":return new oi(le,Q);case"twitter.com":return new Yn(le,Q,C.screenName||null);case"custom":case"anonymous":return new ds(le,null);default:return new ds(le,M,Q)}}(v)}class Uo{constructor(_,v,M){this.type=_,this.credential=v,this.user=M}static _fromIdtoken(_,v){return new Uo("enroll",_,v)}static _fromMfaPendingCredential(_){return new Uo("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var v,M;if(_?.multiFactorSession){if(null!==(v=_.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Uo._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(M=_.multiFactorSession)&&void 0!==M&&M.idToken)return Uo._fromIdtoken(_.multiFactorSession.idToken)}return null}}class Bo{constructor(_,v,M){this.session=_,this.hints=v,this.signInResolver=M}static _fromError(_,v){const M=fr(_),Q=v.customData._serverResponse,le=(Q.mfaInfo||[]).map(ut=>uo._fromServerResponse(M,ut));ge(Q.mfaPendingCredential,M,"internal-error");const Ue=Uo._fromMfaPendingCredential(Q.mfaPendingCredential);return new Bo(Ue,le,function(){var ut=(0,g.Z)(function*(Lt){const Kt=yield Lt._process(M,Ue);delete Q.mfaInfo,delete Q.mfaPendingCredential;const Un=Object.assign(Object.assign({},Q),{idToken:Kt.idToken,refreshToken:Kt.refreshToken});switch(v.operationType){case"signIn":const yr=yield q._fromIdTokenResponse(M,v.operationType,Un);return yield M._updateCurrentUser(yr.user),yr;case"reauthenticate":return ge(v.user,M,"internal-error"),q._forOperation(v.user,v.operationType,Un);default:ze(M,"internal-error")}});return function(Lt){return ut.apply(this,arguments)}}())}resolveSignIn(_){var v=this;return(0,g.Z)(function*(){return v.signInResolver(_)})()}}function Dd(C,_){var v;const M=(0,K.m9)(C),Q=_;return ge(_.customData.operationType,M,"argument-error"),ge(null===(v=Q.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,M,"argument-error"),Bo._fromError(M,Q)}class Kc{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(M=>uo._fromServerResponse(_.auth,M)))})}static _fromUser(_){return new Kc(_)}getSession(){var _=this;return(0,g.Z)(function*(){return Uo._fromIdtoken(yield _.user.getIdToken(),_.user)})()}enroll(_,v){var M=this;return(0,g.Z)(function*(){const Q=_,le=yield M.getSession(),Ue=yield Tr(M.user,Q._process(M.user.auth,le,v));return yield M.user._updateTokensIfNecessary(Ue),M.user.reload()})()}unenroll(_){var v=this;return(0,g.Z)(function*(){const M="string"==typeof _?_:_.uid,Q=yield v.user.getIdToken();try{const le=yield Tr(v.user,function Sd(C,_){return vt(C,"POST","/v2/accounts/mfaEnrollment:withdraw",gt(C,_))}(v.user.auth,{idToken:Q,mfaEnrollmentId:M}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Ue})=>Ue!==M),yield v.user._updateTokensIfNecessary(le),yield v.user.reload()}catch(le){throw le}})()}}const Ha=new WeakMap;function Ph(C){const _=(0,K.m9)(C);return Ha.has(_)||Ha.set(_,Kc._fromUser(_)),Ha.get(_)}const Md="__sak";class bi{constructor(_,v){this.storageRetriever=_,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Md,"1"),this.storage.removeItem(Md),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,v){return this.storage.setItem(_,JSON.stringify(v)),Promise.resolve()}_get(_){const v=this.storage.getItem(_);return Promise.resolve(v?JSON.parse(v):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const jo=(()=>{class C extends bi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,M)=>this.onStorageEvent(v,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function $a(){const C=(0,K.z$)();return ui(C)||Li(C)}()&&function jc(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ma(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const M of Object.keys(this.listeners)){const Q=this.storage.getItem(M),le=this.localCache[M];Q!==le&&v(M,le,Q)}}onStorageEvent(v,M=!1){if(!v.key)return void this.forAllChangedKeys((ut,Lt,Kt)=>{this.notifyListeners(ut,Kt)});const Q=v.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ut=this.storage.getItem(Q);if(v.newValue!==ut)null!==v.newValue?this.storage.setItem(Q,v.newValue):this.storage.removeItem(Q);else if(this.localCache[Q]===v.newValue&&!M)return}const le=()=>{const ut=this.storage.getItem(Q);!M&&this.localCache[Q]===ut||this.notifyListeners(Q,ut)},Ue=this.storage.getItem(Q);!function Co(){return(0,K.w1)()&&10===document.documentMode}()||Ue===v.newValue||v.newValue===v.oldValue?le():setTimeout(le,10)}notifyListeners(v,M){this.localCache[v]=M;const Q=this.listeners[v];if(Q)for(const le of Array.from(Q))le(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,M,Q)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:M,newValue:Q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(M)}_removeListener(v,M){this.listeners[v]&&(this.listeners[v].delete(M),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,M){var Q=()=>super._set,le=this;return(0,g.Z)(function*(){yield Q().call(le,v,M),le.localCache[v]=JSON.stringify(M)})()}_get(v){var M=()=>super._get,Q=this;return(0,g.Z)(function*(){const le=yield M().call(Q,v);return Q.localCache[v]=JSON.stringify(le),le})()}_remove(v){var M=()=>super._remove,Q=this;return(0,g.Z)(function*(){yield M().call(Q,v),delete Q.localCache[v]})()}}return C.type="LOCAL",C})(),Ot=(()=>{class C extends bi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,M){}_removeListener(v,M){}}return C.type="SESSION",C})();let Rd=(()=>{class C{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const M=this.receivers.find(le=>le.isListeningto(v));if(M)return M;const Q=new C(v);return this.receivers.push(Q),Q}isListeningto(v){return this.eventTarget===v}handleEvent(v){var M=this;return(0,g.Z)(function*(){const Q=v,{eventId:le,eventType:Ue,data:ut}=Q.data,Lt=M.handlersMap[Ue];if(!Lt?.size)return;Q.ports[0].postMessage({status:"ack",eventId:le,eventType:Ue});const Kt=Array.from(Lt).map(function(){var yr=(0,g.Z)(function*(Oo){return Oo(Q.origin,ut)});return function(Oo){return yr.apply(this,arguments)}}()),Un=yield function Sr(C){return Promise.all(C.map(function(){var _=(0,g.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(M){return{fulfilled:!1,reason:M}}});return function(v){return _.apply(this,arguments)}}()))}(Kt);Q.ports[0].postMessage({status:"done",eventId:le,eventType:Ue,response:Un})})()}_subscribe(v,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(M)}_unsubscribe(v,M){this.handlersMap[v]&&M&&this.handlersMap[v].delete(M),(!M||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function hc(C="",_=10){let v="";for(let M=0;M<_;M++)v+=Math.floor(10*Math.random());return C+v}class hs{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,v,M=50){var Q=this;return(0,g.Z)(function*(){const le=typeof MessageChannel<"u"?new MessageChannel:null;if(!le)throw new Error("connection_unavailable");let Ue,ut;return new Promise((Lt,Kt)=>{const Un=hc("",20);le.port1.start();const yr=setTimeout(()=>{Kt(new Error("unsupported_event"))},M);ut={messageChannel:le,onMessage(Oo){const Ic=Oo;if(Ic.data.eventId===Un)switch(Ic.data.status){case"ack":clearTimeout(yr),Ue=setTimeout(()=>{Kt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ue),Lt(Ic.data.response);break;default:clearTimeout(yr),clearTimeout(Ue),Kt(new Error("invalid_response"))}}},Q.handlers.add(ut),le.port1.addEventListener("message",ut.onMessage),Q.target.postMessage({eventType:_,eventId:Un,data:v},[le.port2])}).finally(()=>{ut&&Q.removeMessageHandler(ut)})})()}}function Hi(){return window}function bs(){return typeof Hi().WorkerGlobalScope<"u"&&"function"==typeof Hi().importScripts}function fc(){return(fc=(0,g.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Nu="firebaseLocalStorageDb",Ho="firebaseLocalStorage",Nd="fbase_key";class Ea{constructor(_){this.request=_}toPromise(){return new Promise((_,v)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function S(C,_){return C.transaction([Ho],_?"readwrite":"readonly").objectStore(Ho)}function w(){const C=indexedDB.open(Nu,1);return new Promise((_,v)=>{C.addEventListener("error",()=>{v(C.error)}),C.addEventListener("upgradeneeded",()=>{const M=C.result;try{M.createObjectStore(Ho,{keyPath:Nd})}catch(Q){v(Q)}}),C.addEventListener("success",(0,g.Z)(function*(){const M=C.result;M.objectStoreNames.contains(Ho)?_(M):(M.close(),yield function N(){const C=indexedDB.deleteDatabase(Nu);return new Ea(C).toPromise()}(),_(yield w()))}))})}function k(C,_,v){return G.apply(this,arguments)}function G(){return(G=(0,g.Z)(function*(C,_,v){const M=S(C,!0).put({[Nd]:_,value:v});return new Ea(M).toPromise()})).apply(this,arguments)}function Ce(){return(Ce=(0,g.Z)(function*(C,_){const v=S(C,!1).get(_),M=yield new Ea(v).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function ct(C,_){const v=S(C,!0).delete(_);return new Ea(v).toPromise()}const qr=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,g.Z)(function*(){return v.db||(v.db=yield w()),v.db})()}_withRetries(v){var M=this;return(0,g.Z)(function*(){let Q=0;for(;;)try{const le=yield M._openDb();return yield v(le)}catch(le){if(Q++>3)throw le;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,g.Z)(function*(){return bs()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,g.Z)(function*(){v.receiver=Rd._getInstance(function Od(){return bs()?self:null}()),v.receiver._subscribe("keyChanged",function(){var M=(0,g.Z)(function*(Q,le){return{keyProcessed:(yield v._poll()).includes(le.key)}});return function(Q,le){return M.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var M=(0,g.Z)(function*(Q,le){return["keyChanged"]});return function(Q,le){return M.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,g.Z)(function*(){var M,Q;if(v.activeServiceWorker=yield function Yc(){return fc.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new hs(v.activeServiceWorker);const le=yield v.sender._send("ping",{},800);le&&null!==(M=le[0])&&void 0!==M&&M.fulfilled&&null!==(Q=le[0])&&void 0!==Q&&Q.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var M=this;return(0,g.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function xd(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:v},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const v=yield w();return yield k(v,Md,"1"),yield ct(v,Md),!0}catch{}return!1})()}_withPendingWrite(v){var M=this;return(0,g.Z)(function*(){M.pendingWrites++;try{yield v()}finally{M.pendingWrites--}})()}_set(v,M){var Q=this;return(0,g.Z)(function*(){return Q._withPendingWrite((0,g.Z)(function*(){return yield Q._withRetries(le=>k(le,v,M)),Q.localCache[v]=M,Q.notifyServiceWorker(v)}))})()}_get(v){var M=this;return(0,g.Z)(function*(){const Q=yield M._withRetries(le=>function ae(C,_){return Ce.apply(this,arguments)}(le,v));return M.localCache[v]=Q,Q})()}_remove(v){var M=this;return(0,g.Z)(function*(){return M._withPendingWrite((0,g.Z)(function*(){return yield M._withRetries(Q=>ct(Q,v)),delete M.localCache[v],M.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,g.Z)(function*(){const M=yield v._withRetries(Ue=>{const ut=S(Ue,!1).getAll();return new Ea(ut).toPromise()});if(!M)return[];if(0!==v.pendingWrites)return[];const Q=[],le=new Set;if(0!==M.length)for(const{fbase_key:Ue,value:ut}of M)le.add(Ue),JSON.stringify(v.localCache[Ue])!==JSON.stringify(ut)&&(v.notifyListeners(Ue,ut),Q.push(Ue));for(const Ue of Object.keys(v.localCache))v.localCache[Ue]&&!le.has(Ue)&&(v.notifyListeners(Ue,null),Q.push(Ue));return Q})()}notifyListeners(v,M){this.localCache[v]=M;const Q=this.listeners[v];if(Q)for(const le of Array.from(Q))le(M)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(M)}_removeListener(v,M){this.listeners[v]&&(this.listeners[v].delete(M),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})(),go=1e12;class ku{constructor(_){this.auth=_,this.counter=go,this._widgets=new Map}render(_,v){const M=this.counter;return this._widgets.set(M,new $s(_,this.auth.name,v||{})),this.counter++,M}reset(_){var v;const M=_||go;null===(v=this._widgets.get(M))||void 0===v||v.delete(),this._widgets.delete(M)}getResponse(_){var v;return(null===(v=this._widgets.get(_||go))||void 0===v?void 0:v.getResponse())||""}execute(_){var v=this;return(0,g.Z)(function*(){var M;return null===(M=v._widgets.get(_||go))||void 0===M||M.execute(),""})()}}class $s{constructor(_,v,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Q="string"==typeof _?document.getElementById(_):_;ge(Q,"argument-error",{appName:v}),this.container=Q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ia(C){const _=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<C;M++)_.push(v.charAt(Math.floor(62*Math.random())));return _.join("")}(50);const{callback:_,"expired-callback":v}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const pi=Oa("rcb"),ba=new Ne(3e4,6e4);class Ig{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=Hi().grecaptcha)||void 0===_||!_.render)}load(_,v=""){return ge(function kd(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(v),_,"argument-error"),this.shouldResolveImmediately(v)&&Cn(Hi().grecaptcha)?Promise.resolve(Hi().grecaptcha):new Promise((M,Q)=>{const le=Hi().setTimeout(()=>{Q(rt(_,"network-request-failed"))},ba.get());Hi()[pi]=()=>{Hi().clearTimeout(le),delete Hi()[pi];const ut=Hi().grecaptcha;if(!ut||!Cn(ut))return void Q(rt(_,"internal-error"));const Lt=ut.render;ut.render=(Kt,Un)=>{const yr=Lt(Kt,Un);return this.counter++,yr},this.hostLanguage=v,M(ut)},Pr(`${function Bs(){return Us.recaptchaV2Script}()}?${(0,K.xO)({onload:pi,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(le),Q(rt(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var v;return!(null===(v=Hi().grecaptcha)||void 0===v||!v.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Fu{load(_){return(0,g.Z)(function*(){return new ku(_)})()}clearedOneInstance(){}}const za="recaptcha",ep={theme:"light",type:"image"};class Rl{constructor(_,v,M=Object.assign({},ep)){this.parameters=M,this.type=za,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fr(_),this.isInvisible="invisible"===this.parameters.size,ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Q="string"==typeof v?document.getElementById(v):v;ge(Q,this.auth,"argument-error"),this.container=Q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Fu:new Ig,this.validateStartingState()}verify(){var _=this;return(0,g.Z)(function*(){_.assertNotDestroyed();const v=yield _.render(),M=_.getAssertedRecaptcha();return M.getResponse(v)||new Promise(le=>{const Ue=ut=>{ut&&(_.tokenChangeListeners.delete(Ue),le(ut))};_.tokenChangeListeners.add(Ue),_.isInvisible&&M.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){ge(!this.parameters.sitekey,this.auth,"argument-error"),ge(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return v=>{if(this.tokenChangeListeners.forEach(M=>M(v)),"function"==typeof _)_(v);else if("string"==typeof _){const M=Hi()[_];"function"==typeof M&&M(v)}}}assertNotDestroyed(){ge(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,g.Z)(function*(){if(yield _.init(),!_.widgetId){let v=_.container;if(!_.isInvisible){const M=document.createElement("div");v.appendChild(M),v=M}_.widgetId=_.getAssertedRecaptcha().render(v,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,g.Z)(function*(){ge(bt()&&!bs(),_.auth,"internal-error"),yield function ca(){let C=null;return new Promise(_=>{"complete"!==document.readyState?(C=()=>_(),window.addEventListener("load",C)):_()}).catch(_=>{throw C&&window.removeEventListener("load",C),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const v=yield function li(C){return wn.apply(this,arguments)}(_.auth);ge(v,_.auth,"internal-error"),_.parameters.sitekey=v})()}getAssertedRecaptcha(){return ge(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ta{constructor(_,v){this.verificationId=_,this.onConfirmation=v}confirm(_){const v=Ki._fromVerification(this.verificationId,_);return this.onConfirmation(v)}}function xh(C,_,v){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,g.Z)(function*(C,_,v){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(it(C));const M=fr(C),Q=yield Lu(M,_,(0,K.m9)(v));return new Ta(Q,le=>$c(M,le))})).apply(this,arguments)}function wa(C,_,v){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,g.Z)(function*(C,_,v){const M=(0,K.m9)(C);yield ic(!1,M,"phone");const Q=yield Lu(M.auth,_,(0,K.m9)(v));return new Ta(Q,le=>lo(M,le))})).apply(this,arguments)}function Fd(C,_,v){return xl.apply(this,arguments)}function xl(){return(xl=(0,g.Z)(function*(C,_,v){const M=(0,K.m9)(C);if((0,u._isFirebaseServerApp)(M.auth.app))return Promise.reject(it(M.auth));const Q=yield Lu(M.auth,_,(0,K.m9)(v));return new Ta(Q,le=>Cd(M,le))})).apply(this,arguments)}function Lu(C,_,v){return $o.apply(this,arguments)}function $o(){return $o=(0,g.Z)(function*(C,_,v){var M;const Q=yield v.verify();try{let le;if(ge("string"==typeof Q,C,"argument-error"),ge(v.type===za,C,"argument-error"),le="string"==typeof _?{phoneNumber:_}:_,"session"in le){const Ue=le.session;if("phoneNumber"in le)return ge("enroll"===Ue.type,C,"internal-error"),(yield function Mh(C,_){return vt(C,"POST","/v2/accounts/mfaEnrollment:start",gt(C,_))}(C,{idToken:Ue.credential,phoneEnrollmentInfo:{phoneNumber:le.phoneNumber,recaptchaToken:Q}})).phoneSessionInfo.sessionInfo;{ge("signin"===Ue.type,C,"internal-error");const ut=(null===(M=le.multiFactorHint)||void 0===M?void 0:M.uid)||le.multiFactorUid;return ge(ut,C,"missing-multi-factor-info"),(yield function er(C,_){return vt(C,"POST","/v2/accounts/mfaSignIn:start",gt(C,_))}(C,{mfaPendingCredential:Ue.credential,mfaEnrollmentId:ut,phoneSignInInfo:{recaptchaToken:Q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ue}=yield function cs(C,_){return Es.apply(this,arguments)}(C,{phoneNumber:le.phoneNumber,recaptchaToken:Q});return Ue}}finally{v._reset()}}),$o.apply(this,arguments)}function Ga(C,_){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,g.Z)(function*(C,_){const v=(0,K.m9)(C);if((0,u._isFirebaseServerApp)(v.auth.app))return Promise.reject(it(v.auth));yield Fa(v,_)})).apply(this,arguments)}let tp=(()=>{class C{constructor(v){this.providerId=C.PROVIDER_ID,this.auth=fr(v)}verifyPhoneNumber(v,M){return Lu(this.auth,v,(0,K.m9)(M))}static credential(v,M){return Ki._fromVerification(v,M)}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:M,temporaryProof:Q}=v;return M&&Q?Ki._fromTokenResponse(M,Q):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function to(C,_){return _?yt(_):(ge(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class Oh extends Mi{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return mi(_,this._buildIdpRequest())}_linkToIdToken(_,v){return mi(_,this._buildIdpRequest(v))}_getReauthenticationResolver(_){return mi(_,this._buildIdpRequest())}_buildIdpRequest(_){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(v.idToken=_),v}}function Ld(C){return oc(C.auth,new Oh(C),C.bypassAuthState)}function Ol(C){const{auth:_,user:v}=C;return ge(v,_,"internal-error"),La(v,new Oh(C),C.bypassAuthState)}function xy(C){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,g.Z)(function*(C){const{auth:_,user:v}=C;return ge(v,_,"internal-error"),Fa(v,new Oh(C),C.bypassAuthState)})).apply(this,arguments)}class Nl{constructor(_,v,M,Q,le=!1){this.auth=_,this.resolver=M,this.user=Q,this.bypassAuthState=le,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var _=this;return new Promise(function(){var v=(0,g.Z)(function*(M,Q){_.pendingPromise={resolve:M,reject:Q};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(le){_.reject(le)}});return function(M,Q){return v.apply(this,arguments)}}())}onAuthEvent(_){var v=this;return(0,g.Z)(function*(){const{urlResponse:M,sessionId:Q,postBody:le,tenantId:Ue,error:ut,type:Lt}=_;if(ut)return void v.reject(ut);const Kt={auth:v.auth,requestUri:M,sessionId:Q,tenantId:Ue||void 0,postBody:le||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Lt)(Kt))}catch(Un){v.reject(Un)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return Ld;case"linkViaPopup":case"linkViaRedirect":return xy;case"reauthViaPopup":case"reauthViaRedirect":return Ol;default:ze(this.auth,"internal-error")}}resolve(_){$t(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){$t(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const kl=new Ne(2e3,1e4);function bg(C,_,v){return Po.apply(this,arguments)}function Po(){return(Po=(0,g.Z)(function*(C,_,v){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(rt(C,"operation-not-supported-in-this-environment"));const M=fr(C);Ct(C,_,Yr);const Q=to(M,v);return new fs(M,"signInViaPopup",_,Q).executeNotNull()})).apply(this,arguments)}function Fl(C,_,v){return la.apply(this,arguments)}function la(){return(la=(0,g.Z)(function*(C,_,v){const M=(0,K.m9)(C);if((0,u._isFirebaseServerApp)(M.auth.app))return Promise.reject(rt(M.auth,"operation-not-supported-in-this-environment"));Ct(M.auth,_,Yr);const Q=to(M.auth,v);return new fs(M.auth,"reauthViaPopup",_,Q,M).executeNotNull()})).apply(this,arguments)}function Tg(C,_,v){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,g.Z)(function*(C,_,v){const M=(0,K.m9)(C);Ct(M.auth,_,Yr);const Q=to(M.auth,v);return new fs(M.auth,"linkViaPopup",_,Q,M).executeNotNull()})).apply(this,arguments)}let fs=(()=>{class C extends Nl{constructor(v,M,Q,le,Ue){super(v,M,le,Ue),this.provider=Q,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var v=this;return(0,g.Z)(function*(){const M=yield v.execute();return ge(M,v.auth,"internal-error"),M})()}onExecution(){var v=this;return(0,g.Z)(function*(){$t(1===v.filter.length,"Popup operations only handle one event");const M=hc();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],M),v.authWindow.associatedEvent=M,v.resolver._originValidation(v.auth).catch(Q=>{v.reject(Q)}),v.resolver._isIframeWebStorageSupported(v.auth,Q=>{Q||v.reject(rt(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(rt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const v=()=>{var M,Q;this.pollId=null!==(Q=null===(M=this.authWindow)||void 0===M?void 0:M.window)&&void 0!==Q&&Q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(rt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,kl.get())};v()}}return C.currentPopupAction=null,C})();const Uu="pendingRedirect",xs=new Map;class Bd extends Nl{constructor(_,v,M=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,M),this.eventId=null}execute(){var _=()=>super.execute,v=this;return(0,g.Z)(function*(){let M=xs.get(v.auth._key());if(!M){try{const le=(yield function Ll(C,_){return ua.apply(this,arguments)}(v.resolver,v.auth))?yield _().call(v):null;M=()=>Promise.resolve(le)}catch(Q){M=()=>Promise.reject(Q)}xs.set(v.auth._key(),M)}return v.bypassAuthState||xs.set(v.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(_){var v=()=>super.onAuthEvent,M=this;return(0,g.Z)(function*(){if("signInViaRedirect"===_.type)return v().call(M,_);if("unknown"!==_.type){if(_.eventId){const Q=yield M.auth._redirectUserForId(_.eventId);if(Q)return M.user=Q,v().call(M,_);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function ua(){return(ua=(0,g.Z)(function*(C,_){const v=jd(_),M=Qc(C);if(!(yield M._isAvailable()))return!1;const Q="true"===(yield M._get(v));return yield M._remove(v),Q})).apply(this,arguments)}function gc(C,_){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,g.Z)(function*(C,_){return Qc(C)._set(jd(_),"true")})).apply(this,arguments)}function mc(){xs.clear()}function Cg(C,_){xs.set(C._key(),_)}function Qc(C){return yt(C._redirectPersistence)}function jd(C){return nn(Uu,C.config.apiKey,C.name)}function qa(C,_,v){return function Hd(C,_,v){return Nh.apply(this,arguments)}(C,_,v)}function Nh(){return(Nh=(0,g.Z)(function*(C,_,v){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(it(C));const M=fr(C);Ct(C,_,Yr),yield M._initializationPromise;const Q=to(M,v);return yield gc(Q,M),Q._openRedirect(M,_,"signInViaRedirect")})).apply(this,arguments)}function $d(C,_,v){return function Ul(C,_,v){return kh.apply(this,arguments)}(C,_,v)}function kh(){return(kh=(0,g.Z)(function*(C,_,v){const M=(0,K.m9)(C);if(Ct(M.auth,_,Yr),(0,u._isFirebaseServerApp)(M.auth.app))return Promise.reject(it(M.auth));yield M.auth._initializationPromise;const Q=to(M.auth,v);yield gc(Q,M.auth);const le=yield Aa(M);return Q._openRedirect(M.auth,_,"reauthViaRedirect",le)})).apply(this,arguments)}function Fh(C,_,v){return function Jc(C,_,v){return _c.apply(this,arguments)}(C,_,v)}function _c(){return(_c=(0,g.Z)(function*(C,_,v){const M=(0,K.m9)(C);Ct(M.auth,_,Yr),yield M.auth._initializationPromise;const Q=to(M.auth,v);yield ic(!1,M,_.providerId),yield gc(Q,M.auth);const le=yield Aa(M);return Q._openRedirect(M.auth,_,"linkViaRedirect",le)})).apply(this,arguments)}function wg(C,_){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,g.Z)(function*(C,_){return yield fr(C)._initializationPromise,zd(C,_,!1)})).apply(this,arguments)}function zd(C,_){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,g.Z)(function*(C,_,v=!1){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(it(C));const M=fr(C),Q=to(M,_),Ue=yield new Bd(M,Q,v).execute();return Ue&&!v&&(delete Ue.user._redirectEventId,yield M._persistUserIfCurrent(Ue.user),yield M._setRedirectUser(null,_)),Ue})).apply(this,arguments)}function Aa(C){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,g.Z)(function*(C){const _=hc(`${C.uid}:::`);return C._redirectEventId=_,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),_})).apply(this,arguments)}class zo{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let v=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(_,M)&&(v=!0,this.sendToConsumer(_,M),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function Bu(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return el(C);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=_,v=!0)),v}sendToConsumer(_,v){var M;if(_.error&&!el(_)){const Q=(null===(M=_.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";v.onError(rt(this.auth,Q))}else v.onAuthEvent(_)}isEventForConsumer(_,v){const M=null===v.eventId||!!_.eventId&&_.eventId===v.eventId;return v.filter.includes(_.type)&&M}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ro(_))}saveEventToCache(_){this.cachedEventUids.add(Ro(_)),this.lastProcessedEventTime=Date.now()}}function Ro(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(_=>_).join("-")}function el({type:C,error:_}){return"unknown"===C&&"auth/no-auth-event"===_?.code}function Gd(C){return jl.apply(this,arguments)}function jl(){return(jl=(0,g.Z)(function*(C,_={}){return vt(C,"GET","/v1/projects",_)})).apply(this,arguments)}const $i=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Oy=/^https?/;function Ag(){return(Ag=(0,g.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:_}=yield Gd(C);for(const v of _)try{if(Ny(v))return}catch{}ze(C,"unauthorized-domain")})).apply(this,arguments)}function Ny(C){const _=zn(),{protocol:v,hostname:M}=new URL(_);if(C.startsWith("chrome-extension://")){const Ue=new URL(C);return""===Ue.hostname&&""===M?"chrome-extension:"===v&&C.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===v&&Ue.hostname===M}if(!Oy.test(v))return!1;if($i.test(C))return M===C;const Q=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Q+"|"+Q+")$","i").test(M)}const Dg=new Ne(3e4,6e4);function a_(){const C=Hi().___jsl;if(C?.H)for(const _ of Object.keys(C.H))if(C.H[_].r=C.H[_].r||[],C.H[_].L=C.H[_].L||[],C.H[_].r=[...C.H[_].L],C.CP)for(let v=0;v<C.CP.length;v++)C.CP[v]=null}let Wa=null;const ip=new Ne(5e3,15e3),Lh="__/auth/iframe",Yi="emulator/auth/iframe",ju={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sp(C){const _=C.config;ge(_.authDomain,C,"auth-domain-config-required");const v=_.emulator?_e(_,Yi):`https://${C.config.authDomain}/${Lh}`,M={apiKey:_.apiKey,appName:C.name,v:u.SDK_VERSION},Q=tl.get(C.config.apiHost);Q&&(M.eid=Q);const le=C._getFrameworks();return le.length&&(M.fw=le.join(",")),`${v}?${(0,K.xO)(M).slice(1)}`}function yc(){return yc=(0,g.Z)(function*(C){const _=yield function Hl(C){return Wa=Wa||function rp(C){return new Promise((_,v)=>{var M,Q,le;function Ue(){a_(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{a_(),v(rt(C,"network-request-failed"))},timeout:Dg.get()})}if(null!==(Q=null===(M=Hi().gapi)||void 0===M?void 0:M.iframes)&&void 0!==Q&&Q.Iframe)_(gapi.iframes.getContext());else{if(null===(le=Hi().gapi)||void 0===le||!le.load){const ut=Oa("iframefcb");return Hi()[ut]=()=>{gapi.load?Ue():v(rt(C,"network-request-failed"))},Pr(`${function Si(){return Us.gapiScript}()}?onload=${ut}`).catch(Lt=>v(Lt))}Ue()}}).catch(_=>{throw Wa=null,_})}(C),Wa}(C),v=Hi().gapi;return ge(v,C,"internal-error"),_.open({where:document.body,url:sp(C),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ju,dontclear:!0},M=>new Promise(function(){var Q=(0,g.Z)(function*(le,Ue){yield M.restyle({setHideOnLeave:!1});const ut=rt(C,"network-request-failed"),Lt=Hi().setTimeout(()=>{Ue(ut)},ip.get());function Kt(){Hi().clearTimeout(Lt),le(M)}M.ping(Kt).then(Kt,()=>{Ue(ut)})});return function(le,Ue){return Q.apply(this,arguments)}}()))}),yc.apply(this,arguments)}const nl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class vc{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const jh="__/auth/handler",Za="emulator/auth/handler",zl=encodeURIComponent("fac");function Ka(C,_,v,M,Q,le){return qd.apply(this,arguments)}function qd(){return(qd=(0,g.Z)(function*(C,_,v,M,Q,le){ge(C.config.authDomain,C,"auth-domain-config-required"),ge(C.config.apiKey,C,"invalid-api-key");const Ue={apiKey:C.config.apiKey,appName:C.name,authType:v,redirectUrl:M,v:u.SDK_VERSION,eventId:Q};if(_ instanceof Yr){_.setDefaultLanguage(C.languageCode),Ue.providerId=_.providerId||"",(0,K.xb)(_.getCustomParameters())||(Ue.customParameters=JSON.stringify(_.getCustomParameters()));for(const[Un,yr]of Object.entries(le||{}))Ue[Un]=yr}if(_ instanceof de){const Un=_.getScopes().filter(yr=>""!==yr);Un.length>0&&(Ue.scopes=Un.join(","))}C.tenantId&&(Ue.tid=C.tenantId);const ut=Ue;for(const Un of Object.keys(ut))void 0===ut[Un]&&delete ut[Un];const Lt=yield C._getAppCheckToken(),Kt=Lt?`#${zl}=${encodeURIComponent(Lt)}`:"";return`${function Hh({config:C}){return C.emulator?_e(C,Za):`https://${C.authDomain}/${jh}`}(C)}?${(0,K.xO)(ut).slice(1)}${Kt}`})).apply(this,arguments)}const $h="webStorageSupport",ap=class op{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ot,this._completeRedirectFn=zd,this._overrideRedirectResult=Cg}_openPopup(_,v,M,Q){var le=this;return(0,g.Z)(function*(){var Ue;$t(null===(Ue=le.eventManagers[_._key()])||void 0===Ue?void 0:Ue.manager,"_initialize() not called before _openPopup()");const ut=yield Ka(_,v,M,zn(),Q);return function Bh(C,_,v,M=500,Q=600){const le=Math.max((window.screen.availHeight-Q)/2,0).toString(),Ue=Math.max((window.screen.availWidth-M)/2,0).toString();let ut="";const Lt=Object.assign(Object.assign({},nl),{width:M.toString(),height:Q.toString(),top:le,left:Ue}),Kt=(0,K.z$)().toLowerCase();v&&(ut=Ds(Kt)?"_blank":v),xn(Kt)&&(_=_||"http://localhost",Lt.scrollbars="yes");const Un=Object.entries(Lt).reduce((Oo,[Ic,bc])=>`${Oo}${Ic}=${bc},`,"");if(function Vs(C=(0,K.z$)()){var _;return Li(C)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(Kt)&&"_self"!==ut)return function xo(C,_){const v=document.createElement("a");v.href=C,v.target=_;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(M)}(_||"",ut),new vc(null);const yr=window.open(_||"",ut,Un);ge(yr,C,"popup-blocked");try{yr.focus()}catch{}return new vc(yr)}(_,ut,hc())})()}_openRedirect(_,v,M,Q){var le=this;return(0,g.Z)(function*(){return yield le._originValidation(_),function Pl(C){Hi().location.href=C}(yield Ka(_,v,M,zn(),Q)),new Promise(()=>{})})()}_initialize(_){const v=_._key();if(this.eventManagers[v]){const{manager:Q,promise:le}=this.eventManagers[v];return Q?Promise.resolve(Q):($t(le,"If manager is not set, promise should be"),le)}const M=this.initAndGetManager(_);return this.eventManagers[v]={promise:M},M.catch(()=>{delete this.eventManagers[v]}),M}initAndGetManager(_){var v=this;return(0,g.Z)(function*(){const M=yield function Os(C){return yc.apply(this,arguments)}(_),Q=new zo(_);return M.register("authEvent",le=>(ge(le?.authEvent,_,"invalid-auth-event"),{status:Q.onEvent(le.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[_._key()]={manager:Q},v.iframes[_._key()]=M,Q})()}_isIframeWebStorageSupported(_,v){this.iframes[_._key()].send($h,{type:$h},Q=>{var le;const Ue=null===(le=Q?.[0])||void 0===le?void 0:le[$h];void 0!==Ue&&v(!!Ue),ze(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const v=_._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function o_(C){return Ag.apply(this,arguments)}(_)),this.originValidationPromises[v]}get _shouldInitProactively(){return ma()||ui()||Li()}};class c_{constructor(_){this.factorId=_}_process(_,v,M){switch(v.type){case"enroll":return this._finalizeEnroll(_,v.credential,M);case"signin":return this._finalizeSignIn(_,v.credential);default:return Et("unexpected MultiFactorSessionType")}}}class Gl extends c_{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new Gl(_)}_finalizeEnroll(_,v,M){return function Jf(C,_){return vt(C,"POST","/v2/accounts/mfaEnrollment:finalize",gt(C,_))}(_,{idToken:v,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,v){return function Ts(C,_){return vt(C,"POST","/v2/accounts/mfaSignIn:finalize",gt(C,_))}(_,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let zh=(()=>{class C{constructor(){}static assertion(v){return Gl._fromCredential(v)}}return C.FACTOR_ID="phone",C})();var Wd="@firebase/auth";class Zl{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var v=this;return(0,g.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const v=this.auth.onIdTokenChanged(M=>{_(M?.stsTokenManager.accessToken||null)});this.internalListeners.set(_,v),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const v=this.internalListeners.get(_);v&&(this.internalListeners.delete(_),v(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,K.Pz)("authIdTokenMaxAge"),function Ui(C){Us=C}({loadJS:C=>new Promise((_,v)=>{const M=document.createElement("script");M.setAttribute("src",C),M.onload=_,M.onerror=Q=>{const le=rt("internal-error");le.customData=Q,v(le)},M.type="text/javascript",M.charset="UTF-8",function Mg(){var C,_;return null!==(_=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==_?_:document}().appendChild(M)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Gh(C){(0,u._registerComponent)(new Pe.wA("auth",(_,{options:v})=>{const M=_.getProvider("app").getImmediate(),Q=_.getProvider("heartbeat"),le=_.getProvider("app-check-internal"),{apiKey:Ue,authDomain:ut}=M.options;ge(Ue&&!Ue.includes(":"),"invalid-api-key",{appName:M.name});const Lt={apiKey:Ue,authDomain:ut,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vi(C)},Kt=new ea(M,Q,le,Lt);return function Ao(C,_){const v=_?.persistence||[],M=(Array.isArray(v)?v:[v]).map(yt);_?.errorMap&&C._updateErrorMap(_.errorMap),C._initializeWithPersistence(M,_?.popupRedirectResolver)}(Kt,v),Kt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,v,M)=>{_.getProvider("auth-internal").initialize()})),(0,u._registerComponent)(new Pe.wA("auth-internal",_=>{const v=fr(_.getProvider("auth").getImmediate());return new Zl(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,u.registerVersion)(Wd,"1.7.4",function $u(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(C)),(0,u.registerVersion)(Wd,"1.7.4","esm2017")}("Browser")},5588:(Qt,Ze,H)=>{H.d(Ze,{u7:()=>rv,Jj:()=>yo,IX:()=>dh,my:()=>Ji,xU:()=>fu,Lz:()=>Sc,WA:()=>_e,F8:()=>jp,$q:()=>Kp,W:()=>vo,EK:()=>Dn,PU:()=>ud,l7:()=>Mn,Ky:()=>kt,Xb:()=>Hn,Cf:()=>vr,K9:()=>rn,Me:()=>wo,yq:()=>$t,Wi:()=>em,ET:()=>av,Ab:()=>Qp,vr:()=>Af,Fc:()=>om,hJ:()=>rm,B$:()=>Op,at:()=>xp,oe:()=>fl,AK:()=>X_,TF:()=>qy,JU:()=>im,ST:()=>Up,fH:()=>Dc,Ix:()=>k_,Wu:()=>j_,Lx:()=>B_,qY:()=>zi,GL:()=>ki,QT:()=>ov,kl:()=>Yp,Xk:()=>ld,PL:()=>q_,UQ:()=>tE,zN:()=>VE,ad:()=>Lp,nP:()=>ey,b9:()=>nv,vh:()=>Gp,Pb:()=>Wy,L$:()=>Zy,cf:()=>Cf,sc:()=>cv,Xo:()=>U_,IO:()=>ev,iE:()=>kp,Eo:()=>Np,i3:()=>J_,Bt:()=>ym,pl:()=>nE,Ub:()=>Ye,qK:()=>Pc,TQ:()=>If,e0:()=>yh,r7:()=>W_,Mx:()=>Gy,ar:()=>hm});var Ae,xe,g=H(5861),u=H(4303),K=H(4537),Ie=H(7879),Ee=H(9058),Pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},me={};(function(){var l;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function d(We,Re,Be){Be||(Be=0);var Qe=Array(16);if("string"==typeof Re)for(var Je=0;16>Je;++Je)Qe[Je]=Re.charCodeAt(Be++)|Re.charCodeAt(Be++)<<8|Re.charCodeAt(Be++)<<16|Re.charCodeAt(Be++)<<24;else for(Je=0;16>Je;++Je)Qe[Je]=Re[Be++]|Re[Be++]<<8|Re[Be++]<<16|Re[Be++]<<24;var lt=We.g[3],Le=(Re=We.g[0])+(lt^(Be=We.g[1])&((Je=We.g[2])^lt))+Qe[0]+3614090360&4294967295;Le=(Be=(Je=(lt=(Re=(Be=(Je=(lt=(Re=(Be=(Je=(lt=(Re=(Be=(Je=(lt=(Re=(Be=(Je=(lt=(Re=(Be=(Je=(lt=(Re=(Be=(Je=(lt=(Re=(Be=(Je=(lt=(Re=(Be=(Je=(lt=(Re=(Be=(Je=(lt=(Re=(Be=(Je=(lt=(Re=(Be=(Je=(lt=(Re=(Be=(Je=(lt=(Re=(Be=(Je=(lt=(Re=(Be=(Je=(lt=(Re=Be+(Le<<7&4294967295|Le>>>25))+((Le=lt+(Je^Re&(Be^Je))+Qe[1]+3905402710&4294967295)<<12&4294967295|Le>>>20))+((Le=Je+(Be^lt&(Re^Be))+Qe[2]+606105819&4294967295)<<17&4294967295|Le>>>15))+((Le=Be+(Re^Je&(lt^Re))+Qe[3]+3250441966&4294967295)<<22&4294967295|Le>>>10))+((Le=Re+(lt^Be&(Je^lt))+Qe[4]+4118548399&4294967295)<<7&4294967295|Le>>>25))+((Le=lt+(Je^Re&(Be^Je))+Qe[5]+1200080426&4294967295)<<12&4294967295|Le>>>20))+((Le=Je+(Be^lt&(Re^Be))+Qe[6]+2821735955&4294967295)<<17&4294967295|Le>>>15))+((Le=Be+(Re^Je&(lt^Re))+Qe[7]+4249261313&4294967295)<<22&4294967295|Le>>>10))+((Le=Re+(lt^Be&(Je^lt))+Qe[8]+1770035416&4294967295)<<7&4294967295|Le>>>25))+((Le=lt+(Je^Re&(Be^Je))+Qe[9]+2336552879&4294967295)<<12&4294967295|Le>>>20))+((Le=Je+(Be^lt&(Re^Be))+Qe[10]+4294925233&4294967295)<<17&4294967295|Le>>>15))+((Le=Be+(Re^Je&(lt^Re))+Qe[11]+2304563134&4294967295)<<22&4294967295|Le>>>10))+((Le=Re+(lt^Be&(Je^lt))+Qe[12]+1804603682&4294967295)<<7&4294967295|Le>>>25))+((Le=lt+(Je^Re&(Be^Je))+Qe[13]+4254626195&4294967295)<<12&4294967295|Le>>>20))+((Le=Je+(Be^lt&(Re^Be))+Qe[14]+2792965006&4294967295)<<17&4294967295|Le>>>15))+((Le=Be+(Re^Je&(lt^Re))+Qe[15]+1236535329&4294967295)<<22&4294967295|Le>>>10))+((Le=Re+(Je^lt&(Be^Je))+Qe[1]+4129170786&4294967295)<<5&4294967295|Le>>>27))+((Le=lt+(Be^Je&(Re^Be))+Qe[6]+3225465664&4294967295)<<9&4294967295|Le>>>23))+((Le=Je+(Re^Be&(lt^Re))+Qe[11]+643717713&4294967295)<<14&4294967295|Le>>>18))+((Le=Be+(lt^Re&(Je^lt))+Qe[0]+3921069994&4294967295)<<20&4294967295|Le>>>12))+((Le=Re+(Je^lt&(Be^Je))+Qe[5]+3593408605&4294967295)<<5&4294967295|Le>>>27))+((Le=lt+(Be^Je&(Re^Be))+Qe[10]+38016083&4294967295)<<9&4294967295|Le>>>23))+((Le=Je+(Re^Be&(lt^Re))+Qe[15]+3634488961&4294967295)<<14&4294967295|Le>>>18))+((Le=Be+(lt^Re&(Je^lt))+Qe[4]+3889429448&4294967295)<<20&4294967295|Le>>>12))+((Le=Re+(Je^lt&(Be^Je))+Qe[9]+568446438&4294967295)<<5&4294967295|Le>>>27))+((Le=lt+(Be^Je&(Re^Be))+Qe[14]+3275163606&4294967295)<<9&4294967295|Le>>>23))+((Le=Je+(Re^Be&(lt^Re))+Qe[3]+4107603335&4294967295)<<14&4294967295|Le>>>18))+((Le=Be+(lt^Re&(Je^lt))+Qe[8]+1163531501&4294967295)<<20&4294967295|Le>>>12))+((Le=Re+(Je^lt&(Be^Je))+Qe[13]+2850285829&4294967295)<<5&4294967295|Le>>>27))+((Le=lt+(Be^Je&(Re^Be))+Qe[2]+4243563512&4294967295)<<9&4294967295|Le>>>23))+((Le=Je+(Re^Be&(lt^Re))+Qe[7]+1735328473&4294967295)<<14&4294967295|Le>>>18))+((Le=Be+(lt^Re&(Je^lt))+Qe[12]+2368359562&4294967295)<<20&4294967295|Le>>>12))+((Le=Re+(Be^Je^lt)+Qe[5]+4294588738&4294967295)<<4&4294967295|Le>>>28))+((Le=lt+(Re^Be^Je)+Qe[8]+2272392833&4294967295)<<11&4294967295|Le>>>21))+((Le=Je+(lt^Re^Be)+Qe[11]+1839030562&4294967295)<<16&4294967295|Le>>>16))+((Le=Be+(Je^lt^Re)+Qe[14]+4259657740&4294967295)<<23&4294967295|Le>>>9))+((Le=Re+(Be^Je^lt)+Qe[1]+2763975236&4294967295)<<4&4294967295|Le>>>28))+((Le=lt+(Re^Be^Je)+Qe[4]+1272893353&4294967295)<<11&4294967295|Le>>>21))+((Le=Je+(lt^Re^Be)+Qe[7]+4139469664&4294967295)<<16&4294967295|Le>>>16))+((Le=Be+(Je^lt^Re)+Qe[10]+3200236656&4294967295)<<23&4294967295|Le>>>9))+((Le=Re+(Be^Je^lt)+Qe[13]+681279174&4294967295)<<4&4294967295|Le>>>28))+((Le=lt+(Re^Be^Je)+Qe[0]+3936430074&4294967295)<<11&4294967295|Le>>>21))+((Le=Je+(lt^Re^Be)+Qe[3]+3572445317&4294967295)<<16&4294967295|Le>>>16))+((Le=Be+(Je^lt^Re)+Qe[6]+76029189&4294967295)<<23&4294967295|Le>>>9))+((Le=Re+(Be^Je^lt)+Qe[9]+3654602809&4294967295)<<4&4294967295|Le>>>28))+((Le=lt+(Re^Be^Je)+Qe[12]+3873151461&4294967295)<<11&4294967295|Le>>>21))+((Le=Je+(lt^Re^Be)+Qe[15]+530742520&4294967295)<<16&4294967295|Le>>>16))+((Le=Be+(Je^lt^Re)+Qe[2]+3299628645&4294967295)<<23&4294967295|Le>>>9))+((Le=Re+(Je^(Be|~lt))+Qe[0]+4096336452&4294967295)<<6&4294967295|Le>>>26))+((Le=lt+(Be^(Re|~Je))+Qe[7]+1126891415&4294967295)<<10&4294967295|Le>>>22))+((Le=Je+(Re^(lt|~Be))+Qe[14]+2878612391&4294967295)<<15&4294967295|Le>>>17))+((Le=Be+(lt^(Je|~Re))+Qe[5]+4237533241&4294967295)<<21&4294967295|Le>>>11))+((Le=Re+(Je^(Be|~lt))+Qe[12]+1700485571&4294967295)<<6&4294967295|Le>>>26))+((Le=lt+(Be^(Re|~Je))+Qe[3]+2399980690&4294967295)<<10&4294967295|Le>>>22))+((Le=Je+(Re^(lt|~Be))+Qe[10]+4293915773&4294967295)<<15&4294967295|Le>>>17))+((Le=Be+(lt^(Je|~Re))+Qe[1]+2240044497&4294967295)<<21&4294967295|Le>>>11))+((Le=Re+(Je^(Be|~lt))+Qe[8]+1873313359&4294967295)<<6&4294967295|Le>>>26))+((Le=lt+(Be^(Re|~Je))+Qe[15]+4264355552&4294967295)<<10&4294967295|Le>>>22))+((Le=Je+(Re^(lt|~Be))+Qe[6]+2734768916&4294967295)<<15&4294967295|Le>>>17))+((Le=Be+(lt^(Je|~Re))+Qe[13]+1309151649&4294967295)<<21&4294967295|Le>>>11))+((lt=(Re=Be+((Le=Re+(Je^(Be|~lt))+Qe[4]+4149444226&4294967295)<<6&4294967295|Le>>>26))+((Le=lt+(Be^(Re|~Je))+Qe[11]+3174756917&4294967295)<<10&4294967295|Le>>>22))^((Je=lt+((Le=Je+(Re^(lt|~Be))+Qe[2]+718787259&4294967295)<<15&4294967295|Le>>>17))|~Re))+Qe[9]+3951481745&4294967295,We.g[0]=We.g[0]+Re&4294967295,We.g[1]=We.g[1]+(Je+(Le<<21&4294967295|Le>>>11))&4294967295,We.g[2]=We.g[2]+Je&4294967295,We.g[3]=We.g[3]+lt&4294967295}function b(We,Re){this.h=Re;for(var Be=[],Qe=!0,Je=We.length-1;0<=Je;Je--){var lt=0|We[Je];Qe&&lt==Re||(Be[Je]=lt,Qe=!1)}this.g=Be}(function e(We,Re){function Be(){}Be.prototype=Re.prototype,We.D=Re.prototype,We.prototype=new Be,We.prototype.constructor=We,We.C=function(Qe,Je,lt){for(var Le=Array(arguments.length-2),gl=2;gl<arguments.length;gl++)Le[gl-2]=arguments[gl];return Re.prototype[Je].apply(Qe,Le)}})(s,function r(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(We,Re){void 0===Re&&(Re=We.length);for(var Be=Re-this.blockSize,Qe=this.B,Je=this.h,lt=0;lt<Re;){if(0==Je)for(;lt<=Be;)d(this,We,lt),lt+=this.blockSize;if("string"==typeof We){for(;lt<Re;)if(Qe[Je++]=We.charCodeAt(lt++),Je==this.blockSize){d(this,Qe),Je=0;break}}else for(;lt<Re;)if(Qe[Je++]=We[lt++],Je==this.blockSize){d(this,Qe),Je=0;break}}this.h=Je,this.o+=Re},s.prototype.v=function(){var We=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);We[0]=128;for(var Re=1;Re<We.length-8;++Re)We[Re]=0;var Be=8*this.o;for(Re=We.length-8;Re<We.length;++Re)We[Re]=255&Be,Be/=256;for(this.u(We),We=Array(16),Re=Be=0;4>Re;++Re)for(var Qe=0;32>Qe;Qe+=8)We[Be++]=this.g[Re]>>>Qe&255;return We};var R={};function F(We){return-128<=We&&128>We?function y(We,Re){var Be=R;return Object.prototype.hasOwnProperty.call(Be,We)?Be[We]:Be[We]=Re(We)}(We,function(Re){return new b([0|Re],0>Re?-1:0)}):new b([0|We],0>We?-1:0)}function Y(We){if(isNaN(We)||!isFinite(We))return ye;if(0>We)return Vt(Y(-We));for(var Re=[],Be=1,Qe=0;We>=Be;Qe++)Re[Qe]=We/Be|0,Be*=4294967296;return new b(Re,0)}var ye=F(0),ke=F(1),ot=F(16777216);function xt(We){if(0!=We.h)return!1;for(var Re=0;Re<We.g.length;Re++)if(0!=We.g[Re])return!1;return!0}function Yt(We){return-1==We.h}function Vt(We){for(var Re=We.g.length,Be=[],Qe=0;Qe<Re;Qe++)Be[Qe]=~We.g[Qe];return new b(Be,~We.h).add(ke)}function Tn(We,Re){return We.add(Vt(Re))}function $n(We,Re){for(;(65535&We[Re])!=We[Re];)We[Re+1]+=We[Re]>>>16,We[Re]&=65535,Re++}function Rn(We,Re){this.g=We,this.h=Re}function mr(We,Re){if(xt(Re))throw Error("division by zero");if(xt(We))return new Rn(ye,ye);if(Yt(We))return Re=mr(Vt(We),Re),new Rn(Vt(Re.g),Vt(Re.h));if(Yt(Re))return Re=mr(We,Vt(Re)),new Rn(Vt(Re.g),Re.h);if(30<We.g.length){if(Yt(We)||Yt(Re))throw Error("slowDivide_ only works with positive integers.");for(var Be=ke,Qe=Re;0>=Qe.l(We);)Be=Wr(Be),Qe=Wr(Qe);var Je=Er(Be,1),lt=Er(Qe,1);for(Qe=Er(Qe,2),Be=Er(Be,2);!xt(Qe);){var Le=lt.add(Qe);0>=Le.l(We)&&(Je=Je.add(Be),lt=Le),Qe=Er(Qe,1),Be=Er(Be,1)}return Re=Tn(We,Je.j(Re)),new Rn(Je,Re)}for(Je=ye;0<=We.l(Re);){for(Be=Math.max(1,Math.floor(We.m()/Re.m())),Qe=48>=(Qe=Math.ceil(Math.log(Be)/Math.LN2))?1:Math.pow(2,Qe-48),Le=(lt=Y(Be)).j(Re);Yt(Le)||0<Le.l(We);)Le=(lt=Y(Be-=Qe)).j(Re);xt(lt)&&(lt=ke),Je=Je.add(lt),We=Tn(We,Le)}return new Rn(Je,We)}function Wr(We){for(var Re=We.g.length+1,Be=[],Qe=0;Qe<Re;Qe++)Be[Qe]=We.i(Qe)<<1|We.i(Qe-1)>>>31;return new b(Be,We.h)}function Er(We,Re){var Be=Re>>5;Re%=32;for(var Qe=We.g.length-Be,Je=[],lt=0;lt<Qe;lt++)Je[lt]=0<Re?We.i(lt+Be)>>>Re|We.i(lt+Be+1)<<32-Re:We.i(lt+Be);return new b(Je,We.h)}(l=b.prototype).m=function(){if(Yt(this))return-Vt(this).m();for(var We=0,Re=1,Be=0;Be<this.g.length;Be++){var Qe=this.i(Be);We+=(0<=Qe?Qe:4294967296+Qe)*Re,Re*=4294967296}return We},l.toString=function(We){if(2>(We=We||10)||36<We)throw Error("radix out of range: "+We);if(xt(this))return"0";if(Yt(this))return"-"+Vt(this).toString(We);for(var Re=Y(Math.pow(We,6)),Be=this,Qe="";;){var Je=mr(Be,Re).g,lt=((0<(Be=Tn(Be,Je.j(Re))).g.length?Be.g[0]:Be.h)>>>0).toString(We);if(xt(Be=Je))return lt+Qe;for(;6>lt.length;)lt="0"+lt;Qe=lt+Qe}},l.i=function(We){return 0>We?0:We<this.g.length?this.g[We]:this.h},l.l=function(We){return Yt(We=Tn(this,We))?-1:xt(We)?0:1},l.abs=function(){return Yt(this)?Vt(this):this},l.add=function(We){for(var Re=Math.max(this.g.length,We.g.length),Be=[],Qe=0,Je=0;Je<=Re;Je++){var lt=Qe+(65535&this.i(Je))+(65535&We.i(Je)),Le=(lt>>>16)+(this.i(Je)>>>16)+(We.i(Je)>>>16);Qe=Le>>>16,Be[Je]=(Le&=65535)<<16|(lt&=65535)}return new b(Be,-2147483648&Be[Be.length-1]?-1:0)},l.j=function(We){if(xt(this)||xt(We))return ye;if(Yt(this))return Yt(We)?Vt(this).j(Vt(We)):Vt(Vt(this).j(We));if(Yt(We))return Vt(this.j(Vt(We)));if(0>this.l(ot)&&0>We.l(ot))return Y(this.m()*We.m());for(var Re=this.g.length+We.g.length,Be=[],Qe=0;Qe<2*Re;Qe++)Be[Qe]=0;for(Qe=0;Qe<this.g.length;Qe++)for(var Je=0;Je<We.g.length;Je++){var lt=this.i(Qe)>>>16,Le=65535&this.i(Qe),gl=We.i(Je)>>>16,ml=65535&We.i(Je);Be[2*Qe+2*Je]+=Le*ml,$n(Be,2*Qe+2*Je),Be[2*Qe+2*Je+1]+=lt*ml,$n(Be,2*Qe+2*Je+1),Be[2*Qe+2*Je+1]+=Le*gl,$n(Be,2*Qe+2*Je+1),Be[2*Qe+2*Je+2]+=lt*gl,$n(Be,2*Qe+2*Je+2)}for(Qe=0;Qe<Re;Qe++)Be[Qe]=Be[2*Qe+1]<<16|Be[2*Qe];for(Qe=Re;Qe<2*Re;Qe++)Be[Qe]=0;return new b(Be,0)},l.A=function(We){return mr(this,We).h},l.and=function(We){for(var Re=Math.max(this.g.length,We.g.length),Be=[],Qe=0;Qe<Re;Qe++)Be[Qe]=this.i(Qe)&We.i(Qe);return new b(Be,this.h&We.h)},l.or=function(We){for(var Re=Math.max(this.g.length,We.g.length),Be=[],Qe=0;Qe<Re;Qe++)Be[Qe]=this.i(Qe)|We.i(Qe);return new b(Be,this.h|We.h)},l.xor=function(We){for(var Re=Math.max(this.g.length,We.g.length),Be=[],Qe=0;Qe<Re;Qe++)Be[Qe]=this.i(Qe)^We.i(Qe);return new b(Be,this.h^We.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,xe=me.Md5=s,b.prototype.add=b.prototype.add,b.prototype.multiply=b.prototype.j,b.prototype.modulo=b.prototype.A,b.prototype.compare=b.prototype.l,b.prototype.toNumber=b.prototype.m,b.prototype.toString=b.prototype.toString,b.prototype.getBits=b.prototype.i,b.fromNumber=Y,b.fromString=function ie(We,Re){if(0==We.length)throw Error("number format error: empty string");if(2>(Re=Re||10)||36<Re)throw Error("radix out of range: "+Re);if("-"==We.charAt(0))return Vt(ie(We.substring(1),Re));if(0<=We.indexOf("-"))throw Error('number format error: interior "-" character');for(var Be=Y(Math.pow(Re,8)),Qe=ye,Je=0;Je<We.length;Je+=8){var lt=Math.min(8,We.length-Je),Le=parseInt(We.substring(Je,Je+lt),Re);8>lt?(lt=Y(Math.pow(Re,lt)),Qe=Qe.j(lt).add(Y(Le))):Qe=(Qe=Qe.j(Be)).add(Y(Le))}return Qe},Ae=me.Integer=b}).apply(typeof Pe<"u"?Pe:typeof self<"u"?self:typeof window<"u"?window:{});var Oe,pt,Xe,Dt,mt,It,_t,en,Ke,fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ve={};(function(){var l,e="function"==typeof Object.defineProperties?Object.defineProperty:function(I,U,J){return I==Array.prototype||I==Object.prototype||(I[U]=J.value),I},s=function r(I){I=["object"==typeof globalThis&&globalThis,I,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof fe&&fe];for(var U=0;U<I.length;++U){var J=I[U];if(J&&J.Math==Math)return J}throw Error("Cannot find global object")}(this);!function d(I,U){if(U)e:{var J=s;I=I.split(".");for(var pe=0;pe<I.length-1;pe++){var st=I[pe];if(!(st in J))break e;J=J[st]}(U=U(pe=J[I=I[I.length-1]]))!=pe&&null!=U&&e(J,I,{configurable:!0,writable:!0,value:U})}}("Array.prototype.values",function(I){return I||function(){return function y(I,U){I instanceof String&&(I+="");var J=0,pe=!1,st={next:function(){if(!pe&&J<I.length){var wt=J++;return{value:U(wt,I[wt]),done:!1}}return pe=!0,{done:!0,value:void 0}}};return st[Symbol.iterator]=function(){return st},st}(this,function(U,J){return J})}});var b=b||{},R=this||self;function F(I){var U=typeof I;return"array"==(U="object"!=U?U:I?Array.isArray(I)?"array":U:"null")||"object"==U&&"number"==typeof I.length}function Y(I){var U=typeof I;return"object"==U&&null!=I||"function"==U}function ie(I,U,J){return I.call.apply(I.bind,arguments)}function ye(I,U,J){if(!I)throw Error();if(2<arguments.length){var pe=Array.prototype.slice.call(arguments,2);return function(){var st=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(st,pe),I.apply(U,st)}}return function(){return I.apply(U,arguments)}}function ke(I,U,J){return(ke=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ie:ye).apply(null,arguments)}function ot(I,U){var J=Array.prototype.slice.call(arguments,1);return function(){var pe=J.slice();return pe.push.apply(pe,arguments),I.apply(this,pe)}}function xt(I,U){function J(){}J.prototype=U.prototype,I.aa=U.prototype,I.prototype=new J,I.prototype.constructor=I,I.Qb=function(pe,st,wt){for(var dn=Array(arguments.length-2),Ti=2;Ti<arguments.length;Ti++)dn[Ti-2]=arguments[Ti];return U.prototype[st].apply(pe,dn)}}function Yt(I){const U=I.length;if(0<U){const J=Array(U);for(let pe=0;pe<U;pe++)J[pe]=I[pe];return J}return[]}function Vt(I,U){for(let J=1;J<arguments.length;J++){const pe=arguments[J];if(F(pe)){const st=I.length||0,wt=pe.length||0;I.length=st+wt;for(let dn=0;dn<wt;dn++)I[st+dn]=pe[dn]}else I.push(pe)}}function $n(I){return/^[\s\xa0]*$/.test(I)}function Rn(){var I=R.navigator;return I&&(I=I.userAgent)?I:""}function mr(I){return mr[" "](I),I}mr[" "]=function(){};var Wr=!(-1==Rn().indexOf("Gecko")||-1!=Rn().toLowerCase().indexOf("webkit")&&-1==Rn().indexOf("Edge")||-1!=Rn().indexOf("Trident")||-1!=Rn().indexOf("MSIE")||-1!=Rn().indexOf("Edge"));function Er(I,U,J){for(const pe in I)U.call(J,I[pe],pe,I)}function Re(I){const U={};for(const J in I)U[J]=I[J];return U}const Be="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qe(I,U){let J,pe;for(let st=1;st<arguments.length;st++){for(J in pe=arguments[st],pe)I[J]=pe[J];for(let wt=0;wt<Be.length;wt++)J=Be[wt],Object.prototype.hasOwnProperty.call(pe,J)&&(I[J]=pe[J])}}function Je(I){var U=1;I=I.split(":");const J=[];for(;0<U&&I.length;)J.push(I.shift()),U--;return I.length&&J.push(I.join(":")),J}function lt(I){R.setTimeout(()=>{throw I},0)}function Le(){var I=_l;let U=null;return I.g&&(U=I.g,I.g=I.g.next,I.g||(I.h=null),U.next=null),U}var ml=new class Tn{constructor(U,J){this.i=U,this.j=J,this.h=0,this.g=null}get(){let U;return 0<this.h?(this.h--,U=this.g,this.g=U.next,U.next=null):U=this.i(),U}}(()=>new Go,I=>I.reset());class Go{constructor(){this.next=this.g=this.h=null}set(U,J){this.h=U,this.g=J,this.next=null}reset(){this.next=this.g=this.h=null}}let Df,Eh=!1,_l=new class gl{constructor(){this.h=this.g=null}add(U,J){const pe=ml.get();pe.set(U,J),this.h?this.h.next=pe:this.g=pe,this.h=pe}},fa=()=>{const I=R.Promise.resolve(void 0);Df=()=>{I.then(mu)}};var mu=()=>{for(var I;I=Le();){try{I.h.call(I.g)}catch(J){lt(J)}var U=ml;U.j(I),100>U.h&&(U.h++,I.next=U.g,U.g=I)}Eh=!1};function Ma(){this.s=this.s,this.C=this.C}function Eo(I,U){this.type=I,this.g=this.target=U,this.defaultPrevented=!1}Ma.prototype.s=!1,Ma.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ma.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Eo.prototype.h=function(){this.defaultPrevented=!0};var vm=function(){if(!R.addEventListener||!Object.defineProperty)return!1;var I=!1,U=Object.defineProperty({},"passive",{get:function(){I=!0}});try{const J=()=>{};R.addEventListener("test",J,U),R.removeEventListener("test",J,U)}catch{}return I}();function dd(I,U){if(Eo.call(this,I?I.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,I){var J=this.type=I.type,pe=I.changedTouches&&I.changedTouches.length?I.changedTouches[0]:null;if(this.target=I.target||I.srcElement,this.g=U,U=I.relatedTarget){if(Wr){e:{try{mr(U.nodeName);var st=!0;break e}catch{}st=!1}st||(U=null)}}else"mouseover"==J?U=I.fromElement:"mouseout"==J&&(U=I.toElement);this.relatedTarget=U,pe?(this.clientX=void 0!==pe.clientX?pe.clientX:pe.pageX,this.clientY=void 0!==pe.clientY?pe.clientY:pe.pageY,this.screenX=pe.screenX||0,this.screenY=pe.screenY||0):(this.clientX=void 0!==I.clientX?I.clientX:I.pageX,this.clientY=void 0!==I.clientY?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0),this.button=I.button,this.key=I.key||"",this.ctrlKey=I.ctrlKey,this.altKey=I.altKey,this.shiftKey=I.shiftKey,this.metaKey=I.metaKey,this.pointerId=I.pointerId||0,this.pointerType="string"==typeof I.pointerType?I.pointerType:Sf[I.pointerType]||"",this.state=I.state,this.i=I,I.defaultPrevented&&dd.aa.h.call(this)}}xt(dd,Eo);var Sf={2:"touch",3:"pen",4:"mouse"};dd.prototype.h=function(){dd.aa.h.call(this);var I=this.i;I.preventDefault?I.preventDefault():I.returnValue=!1};var _u="closure_listenable_"+(1e6*Math.random()|0),Em=0;function Im(I,U,J,pe,st){this.listener=I,this.proxy=null,this.src=U,this.type=J,this.capture=!!pe,this.ha=st,this.key=++Em,this.da=this.fa=!1}function bm(I){I.da=!0,I.listener=null,I.proxy=null,I.src=null,I.ha=null}function Jp(I){this.src=I,this.g={},this.h=0}function Tm(I,U){var J=U.type;if(J in I.g){var wt,pe=I.g[J],st=Array.prototype.indexOf.call(pe,U,void 0);(wt=0<=st)&&Array.prototype.splice.call(pe,st,1),wt&&(bm(U),0==I.g[J].length&&(delete I.g[J],I.h--))}}function No(I,U,J,pe){for(var st=0;st<I.length;++st){var wt=I[st];if(!wt.da&&wt.listener==U&&wt.capture==!!J&&wt.ha==pe)return st}return-1}Jp.prototype.add=function(I,U,J,pe,st){var wt=I.toString();(I=this.g[wt])||(I=this.g[wt]=[],this.h++);var dn=No(I,U,pe,st);return-1<dn?(U=I[dn],J||(U.fa=!1)):((U=new Im(U,this.src,wt,!!pe,st)).fa=J,I.push(U)),U};var pa="closure_lm_"+(1e6*Math.random()|0),Xp={};function Iv(I,U,J,pe,st){if(pe&&pe.once)return ry(I,U,J,pe,st);if(Array.isArray(U)){for(var wt=0;wt<U.length;wt++)Iv(I,U[wt],J,pe,st);return null}return J=fd(J),I&&I[_u]?I.K(U,J,Y(pe)?!!pe.capture:!!pe,st):ny(I,U,J,!1,pe,st)}function ny(I,U,J,pe,st,wt){if(!U)throw Error("Invalid event type");var dn=Y(st)?!!st.capture:!!st,Ti=tg(I);if(Ti||(I[pa]=Ti=new Jp(I)),(J=Ti.add(U,J,pe,dn,wt)).proxy)return J;if(pe=function uE(){const U=dE;return function I(J){return U.call(I.src,I.listener,J)}}(),J.proxy=pe,pe.src=I,pe.listener=J,I.addEventListener)vm||(st=dn),void 0===st&&(st=!1),I.addEventListener(U.toString(),pe,st);else if(I.attachEvent)I.attachEvent(eg(U.toString()),pe);else{if(!I.addListener||!I.removeListener)throw Error("addEventListener and attachEvent are unavailable.");I.addListener(pe)}return J}function ry(I,U,J,pe,st){if(Array.isArray(U)){for(var wt=0;wt<U.length;wt++)ry(I,U[wt],J,pe,st);return null}return J=fd(J),I&&I[_u]?I.L(U,J,Y(pe)?!!pe.capture:!!pe,st):ny(I,U,J,!0,pe,st)}function iy(I,U,J,pe,st){if(Array.isArray(U))for(var wt=0;wt<U.length;wt++)iy(I,U[wt],J,pe,st);else pe=Y(pe)?!!pe.capture:!!pe,J=fd(J),I&&I[_u]?(I=I.i,(U=String(U).toString())in I.g&&-1<(J=No(wt=I.g[U],J,pe,st))&&(bm(wt[J]),Array.prototype.splice.call(wt,J,1),0==wt.length&&(delete I.g[U],I.h--))):I&&(I=tg(I))&&(U=I.g[U.toString()],I=-1,U&&(I=No(U,J,pe,st)),(J=-1<I?U[I]:null)&&yl(J))}function yl(I){if("number"!=typeof I&&I&&!I.da){var U=I.src;if(U&&U[_u])Tm(U.i,I);else{var J=I.type,pe=I.proxy;U.removeEventListener?U.removeEventListener(J,pe,I.capture):U.detachEvent?U.detachEvent(eg(J),pe):U.addListener&&U.removeListener&&U.removeListener(pe),(J=tg(U))?(Tm(J,I),0==J.h&&(J.src=null,U[pa]=null)):bm(I)}}}function eg(I){return I in Xp?Xp[I]:Xp[I]="on"+I}function dE(I,U){if(I.da)I=!0;else{U=new dd(U,this);var J=I.listener,pe=I.ha||I.src;I.fa&&yl(I),I=J.call(pe,U)}return I}function tg(I){return(I=I[pa])instanceof Jp?I:null}var hd="__closure_events_fn_"+(1e9*Math.random()>>>0);function fd(I){return"function"==typeof I?I:(I[hd]||(I[hd]=function(U){return I.handleEvent(U)}),I[hd])}function qs(){Ma.call(this),this.i=new Jp(this),this.M=this,this.F=null}function Ws(I,U){var J,pe=I.F;if(pe)for(J=[];pe;pe=pe.F)J.push(pe);if(I=I.M,pe=U.type||U,"string"==typeof U)U=new Eo(U,I);else if(U instanceof Eo)U.target=U.target||I;else{var st=U;Qe(U=new Eo(pe,I),st)}if(st=!0,J)for(var wt=J.length-1;0<=wt;wt--){var dn=U.g=J[wt];st=Pa(dn,pe,!0,U)&&st}if(st=Pa(dn=U.g=I,pe,!0,U)&&st,st=Pa(dn,pe,!1,U)&&st,J)for(wt=0;wt<J.length;wt++)st=Pa(dn=U.g=J[wt],pe,!1,U)&&st}function Pa(I,U,J,pe){if(!(U=I.i.g[String(U)]))return!0;U=U.concat();for(var st=!0,wt=0;wt<U.length;++wt){var dn=U[wt];if(dn&&!dn.da&&dn.capture==J){var Ti=dn.listener,Zs=dn.ha||dn.src;dn.fa&&Tm(I.i,dn),st=!1!==Ti.call(Zs,pe)&&st}}return st&&!pe.defaultPrevented}function ng(I,U,J){if("function"==typeof I)J&&(I=ke(I,J));else{if(!I||"function"!=typeof I.handleEvent)throw Error("Invalid listener argument");I=ke(I.handleEvent,I)}return 2147483647<Number(U)?-1:R.setTimeout(I,U||0)}function Cm(I){I.g=ng(()=>{I.g=null,I.i&&(I.i=!1,Cm(I))},I.l);const U=I.h;I.h=null,I.m.apply(null,U)}xt(qs,Ma),qs.prototype[_u]=!0,qs.prototype.removeEventListener=function(I,U,J,pe){iy(this,I,U,J,pe)},qs.prototype.N=function(){if(qs.aa.N.call(this),this.i){var U,I=this.i;for(U in I.g){for(var J=I.g[U],pe=0;pe<J.length;pe++)bm(J[pe]);delete I.g[U],I.h--}}this.F=null},qs.prototype.K=function(I,U,J,pe){return this.i.add(String(I),U,!1,J,pe)},qs.prototype.L=function(I,U,J,pe){return this.i.add(String(I),U,!0,J,pe)};class wm extends Ma{constructor(U,J){super(),this.m=U,this.l=J,this.h=null,this.i=!1,this.g=null}j(U){this.h=arguments,this.g?this.i=!0:Cm(this)}N(){super.N(),this.g&&(R.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mf(I){Ma.call(this),this.h=I,this.g={}}xt(Mf,Ma);var Am=[];function sy(I){Er(I.g,function(U,J){this.g.hasOwnProperty(J)&&yl(U)},I),I.g={}}Mf.prototype.N=function(){Mf.aa.N.call(this),sy(this)},Mf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ih=R.JSON.stringify,Pf=R.JSON.parse,yu=class{stringify(I){return R.JSON.stringify(I,void 0)}parse(I){return R.JSON.parse(I,void 0)}};function vu(){}function Rf(){}vu.prototype.h=null;var bh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rg(){Eo.call(this,"d")}function Sm(){Eo.call(this,"c")}xt(rg,Eo),xt(Sm,Eo);var pd={},Mm=null;function gd(){return Mm=Mm||new qs}function Th(I){Eo.call(this,pd.La,I)}function Eu(I){const U=gd();Ws(U,new Th(U))}function xf(I,U){Eo.call(this,pd.STAT_EVENT,I),this.stat=U}function ks(I){const U=gd();Ws(U,new xf(U,I))}function oy(I,U){Eo.call(this,pd.Ma,I),this.size=U}function Ch(I,U){if("function"!=typeof I)throw Error("Fn must not be null and must be a function");return R.setTimeout(function(){I()},U)}function vl(){this.g=!0}function Of(I,U,J,pe){I.info(function(){return"XMLHTTP TEXT ("+U+"): "+function Tv(I,U){if(!I.g)return U;if(!U)return null;try{var J=JSON.parse(U);if(J)for(I=0;I<J.length;I++)if(Array.isArray(J[I])){var pe=J[I];if(!(2>pe.length)){var st=pe[1];if(Array.isArray(st)&&!(1>st.length)){var wt=st[0];if("noop"!=wt&&"stop"!=wt&&"close"!=wt)for(var dn=1;dn<st.length;dn++)st[dn]=""}}}return Ih(J)}catch{return U}}(I,J)+(pe?" "+pe:"")})}pd.La="serverreachability",xt(Th,Eo),pd.STAT_EVENT="statevent",xt(xf,Eo),pd.Ma="timingevent",xt(oy,Eo),vl.prototype.xa=function(){this.g=!1},vl.prototype.info=function(){};var sg,Nf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ig={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function og(){}function Rc(I,U,J,pe){this.j=I,this.i=U,this.l=J,this.R=pe||1,this.U=new Mf(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ay}function ay(){this.i=null,this.g="",this.h=!1}xt(og,vu),og.prototype.g=function(){return new XMLHttpRequest},og.prototype.i=function(){return{}},sg=new og;var kf={},Rm={};function xm(I,U,J){I.L=1,I.v=qo(ec(U)),I.m=J,I.P=!0,cy(I,null)}function cy(I,U){I.F=Date.now(),ag(I),I.A=ec(I.v);var J=I.A,pe=I.R;Array.isArray(pe)||(pe=[String(pe)]),Vm(J.i,"t",pe),I.C=0,J=I.j.J,I.h=new ay,I.g=gg(I.j,J?U:null,!I.m),0<I.O&&(I.M=new wm(ke(I.Y,I,I.g),I.O)),U=I.U,J=I.g,pe=I.ca;var st="readystatechange";Array.isArray(st)||(st&&(Am[0]=st.toString()),st=Am);for(var wt=0;wt<st.length;wt++){var dn=Iv(J,st[wt],pe||U.handleEvent,!1,U.h||U);if(!dn)break;U.g[dn.key]=dn}U=I.H?Re(I.H):{},I.m?(I.u||(I.u="POST"),U["Content-Type"]="application/x-www-form-urlencoded",I.g.ea(I.A,I.u,I.m,U)):(I.u="GET",I.g.ea(I.A,I.u,null,U)),Eu(),function hE(I,U,J,pe,st,wt){I.info(function(){if(I.g)if(wt)for(var dn="",Ti=wt.split("&"),Zs=0;Zs<Ti.length;Zs++){var Jr=Ti[Zs].split("=");if(1<Jr.length){var ro=Jr[0];Jr=Jr[1];var Io=ro.split("_");dn=2<=Io.length&&"type"==Io[1]?dn+(ro+"=")+Jr+"&":dn+(ro+"=redacted&")}}else dn=null;else dn=wt;return"XMLHTTP REQ ("+pe+") [attempt "+st+"]: "+U+"\n"+J+"\n"+dn})}(I.i,I.u,I.A,I.l,I.R,I.m)}function Om(I){return!!I.g&&"GET"==I.u&&2!=I.L&&I.j.Ca}function Cv(I,U){var J=I.C,pe=U.indexOf("\n",J);return-1==pe?Rm:(J=Number(U.substring(J,pe)),isNaN(J)?kf:(pe+=1)+J>U.length?Rm:(U=U.slice(pe,pe+J),I.C=pe+J,U))}function ag(I){I.S=Date.now()+I.I,Nm(I,I.I)}function Nm(I,U){if(null!=I.B)throw Error("WatchDog timer not null");I.B=Ch(ke(I.ba,I),U)}function cg(I){I.B&&(R.clearTimeout(I.B),I.B=null)}function Iu(I){0==I.j.G||I.J||xv(I.j,I)}function md(I){cg(I);var U=I.M;U&&"function"==typeof U.ma&&U.ma(),I.M=null,sy(I.U),I.g&&(U=I.g,I.g=null,U.abort(),U.ma())}function ly(I,U){try{var J=I.j;if(0!=J.G&&(J.g==I||ga(J.h,I)))if(!I.K&&ga(J.h,I)&&3==J.G){try{var pe=J.Da.g.parse(U)}catch{pe=null}if(Array.isArray(pe)&&3==pe.length){var st=pe;if(0==st[0]){e:if(!J.u){if(J.g){if(!(J.g.F+3e3<I.F))break e;Gm(J),jm(J)}$m(J),ks(18)}}else J.za=st[1],0<J.za-J.T&&37500>st[2]&&J.F&&0==J.v&&!J.C&&(J.C=Ch(ke(J.Za,J),6e3));if(1>=Ff(J.h)&&J.ca){try{J.ca()}catch{}J.ca=void 0}}else Lc(J,11)}else if((I.K||J.g==I)&&Gm(J),!$n(U))for(st=J.Da.g.parse(U),U=0;U<st.length;U++){let Jr=st[U];if(J.T=Jr[0],Jr=Jr[1],2==J.G)if("c"==Jr[0]){J.K=Jr[1],J.ia=Jr[2];const ro=Jr[3];null!=ro&&(J.la=ro,J.j.info("VER="+J.la));const Io=Jr[4];null!=Io&&(J.Aa=Io,J.j.info("SVER="+J.Aa));const Zf=Jr[5];null!=Zf&&"number"==typeof Zf&&0<Zf&&(J.L=pe=1.5*Zf,J.j.info("backChannelRequestTimeoutMs_="+pe)),pe=J;const tc=I.g;if(tc){const mg=tc.g?tc.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mg){var wt=pe.h;wt.g||-1==mg.indexOf("spdy")&&-1==mg.indexOf("quic")&&-1==mg.indexOf("h2")||(wt.j=wt.l,wt.g=new Set,wt.h&&(Lf(wt,wt.h),wt.h=null))}if(pe.D){const Zm=tc.g?tc.g.getResponseHeader("X-HTTP-Session-Id"):null;Zm&&(pe.ya=Zm,Ar(pe.I,pe.D,Zm))}}J.G=3,J.l&&J.l.ua(),J.ba&&(J.R=Date.now()-I.F,J.j.info("Handshake RTT: "+J.R+"ms"));var dn=I;if((pe=J).qa=Wm(pe,pe.J?pe.ia:null,pe.W),dn.K){bu(pe.h,dn);var Ti=dn,Zs=pe.L;Zs&&(Ti.I=Zs),Ti.B&&(cg(Ti),ag(Ti)),pe.g=dn}else yy(pe);0<J.i.length&&pg(J)}else"stop"!=Jr[0]&&"close"!=Jr[0]||Lc(J,7);else 3==J.G&&("stop"==Jr[0]||"close"==Jr[0]?"stop"==Jr[0]?Lc(J,7):wh(J):"noop"!=Jr[0]&&J.l&&J.l.ta(Jr),J.v=0)}Eu()}catch{}}function km(I){this.l=I||10,I=R.PerformanceNavigationTiming?0<(I=R.performance.getEntriesByType("navigation")).length&&("hq"==I[0].nextHopProtocol||"h2"==I[0].nextHopProtocol):!!(R.chrome&&R.chrome.loadTimes&&R.chrome.loadTimes()&&R.chrome.loadTimes().wasFetchedViaSpdy),this.j=I?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function dy(I){return!!I.h||!!I.g&&I.g.size>=I.j}function Ff(I){return I.h?1:I.g?I.g.size:0}function ga(I,U){return I.h?I.h==U:!!I.g&&I.g.has(U)}function Lf(I,U){I.g?I.g.add(U):I.h=U}function bu(I,U){I.h&&I.h==U?I.h=null:I.g&&I.g.has(U)&&I.g.delete(U)}function lg(I){if(null!=I.h)return I.i.concat(I.h.D);if(null!=I.g&&0!==I.g.size){let U=I.i;for(const J of I.g.values())U=U.concat(J.D);return U}return Yt(I.i)}function Fs(I,U){if(I.forEach&&"function"==typeof I.forEach)I.forEach(U,void 0);else if(F(I)||"string"==typeof I)Array.prototype.forEach.call(I,U,void 0);else for(var J=function Vf(I){if(I.na&&"function"==typeof I.na)return I.na();if(!I.V||"function"!=typeof I.V){if(typeof Map<"u"&&I instanceof Map)return Array.from(I.keys());if(!(typeof Set<"u"&&I instanceof Set)){if(F(I)||"string"==typeof I){var U=[];I=I.length;for(var J=0;J<I;J++)U.push(J);return U}U=[],J=0;for(const pe in I)U[J++]=pe;return U}}}(I),pe=function xc(I){if(I.V&&"function"==typeof I.V)return I.V();if(typeof Map<"u"&&I instanceof Map||typeof Set<"u"&&I instanceof Set)return Array.from(I.values());if("string"==typeof I)return I.split("");if(F(I)){for(var U=[],J=I.length,pe=0;pe<J;pe++)U.push(I[pe]);return U}for(pe in U=[],J=0,I)U[J++]=I[pe];return U}(I),st=pe.length,wt=0;wt<st;wt++)U.call(void 0,pe[wt],J&&J[wt],I)}Rc.prototype.ca=function(I){I=I.target;const U=this.M;U&&3==Wo(I)?U.j():this.Y(I)},Rc.prototype.Y=function(I){try{if(I==this.g)e:{const Io=Wo(this.g);var U=this.g.Ba();if(this.g.Z(),!(3>Io)&&(3!=Io||this.g&&(this.h.h||this.g.oa()||fg(this.g)))){this.J||4!=Io||7==U||Eu(),cg(this);var J=this.g.Z();this.X=J;t:if(Om(this)){var pe=fg(this.g);I="";var st=pe.length,wt=4==Wo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){md(this),Iu(this);var dn="";break t}this.h.i=new R.TextDecoder}for(U=0;U<st;U++)this.h.h=!0,I+=this.h.i.decode(pe[U],{stream:!(wt&&U==st-1)});pe.length=0,this.h.g+=I,this.C=0,dn=this.h.g}else dn=this.g.oa();if(this.o=200==J,function Pm(I,U,J,pe,st,wt,dn){I.info(function(){return"XMLHTTP RESP ("+pe+") [ attempt "+st+"]: "+U+"\n"+J+"\n"+wt+" "+dn})}(this.i,this.u,this.A,this.l,this.R,Io,J),this.o){if(this.T&&!this.K){t:{if(this.g){var Ti,Zs=this.g;if((Ti=Zs.g?Zs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$n(Ti)){var Jr=Ti;break t}}Jr=null}if(!(J=Jr)){this.o=!1,this.s=3,ks(12),md(this),Iu(this);break e}Of(this.i,this.l,J,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ly(this,J)}if(this.P){let tc;for(J=!0;!this.J&&this.C<dn.length;){if(tc=Cv(this,dn),tc==Rm){4==Io&&(this.s=4,ks(14),J=!1),Of(this.i,this.l,null,"[Incomplete Response]");break}if(tc==kf){this.s=4,ks(15),Of(this.i,this.l,dn,"[Invalid Chunk]"),J=!1;break}Of(this.i,this.l,tc,null),ly(this,tc)}if(Om(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Io||0!=dn.length||this.h.h||(this.s=1,ks(16),J=!1),this.o=this.o&&J,J){if(0<dn.length&&!this.W){this.W=!0;var ro=this.j;ro.g==this&&ro.ba&&!ro.M&&(ro.j.info("Great, no buffering proxy detected. Bytes received: "+dn.length),zm(ro),ro.M=!0,ks(11))}}else Of(this.i,this.l,dn,"[Invalid Chunked Response]"),md(this),Iu(this)}else Of(this.i,this.l,dn,null),ly(this,dn);4==Io&&md(this),this.o&&!this.J&&(4==Io?xv(this.j,this):(this.o=!1,ag(this)))}else(function fE(I){const U={};I=(I.g&&2<=Wo(I)&&I.g.getAllResponseHeaders()||"").split("\r\n");for(let pe=0;pe<I.length;pe++){if($n(I[pe]))continue;var J=Je(I[pe]);const st=J[0];if("string"!=typeof(J=J[1]))continue;J=J.trim();const wt=U[st]||[];U[st]=wt,wt.push(J)}!function We(I,U){for(const J in I)U.call(void 0,I[J],J,I)}(U,function(pe){return pe.join(", ")})})(this.g),400==J&&0<dn.indexOf("Unknown SID")?(this.s=3,ks(12)):(this.s=0,ks(13)),md(this),Iu(this)}}}catch{}},Rc.prototype.cancel=function(){this.J=!0,md(this)},Rc.prototype.ba=function(){this.B=null;const I=Date.now();0<=I-this.S?(function bv(I,U){I.info(function(){return"TIMEOUT: "+U})}(this.i,this.A),2!=this.L&&(Eu(),ks(17)),md(this),this.s=2,Iu(this)):Nm(this,this.S-I)},km.prototype.cancel=function(){if(this.i=lg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const I of this.g.values())I.cancel();this.g.clear()}};var Tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ps(I){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,I instanceof ps){this.h=I.h,Oc(this,I.j),this.o=I.o,this.g=I.g,Nc(this,I.s),this.l=I.l;var U=I.i,J=new wu;J.i=U.i,U.g&&(J.g=new Map(U.g),J.h=U.h),Cu(this,J),this.m=I.m}else I&&(U=String(I).match(Tu))?(this.h=!1,Oc(this,U[1]||"",!0),this.o=kc(U[2]||""),this.g=kc(U[3]||"",!0),Nc(this,U[4]),this.l=kc(U[5]||"",!0),Cu(this,U[6]||"",!0),this.m=kc(U[7]||"")):(this.h=!1,this.i=new wu(null,this.h))}function ec(I){return new ps(I)}function Oc(I,U,J){I.j=J?kc(U,!0):U,I.j&&(I.j=I.j.replace(/:$/,""))}function Nc(I,U){if(U){if(U=Number(U),isNaN(U)||0>U)throw Error("Bad port number "+U);I.s=U}else I.s=null}function Cu(I,U,J){U instanceof wu?(I.i=U,function wv(I,U){U&&!I.j&&(El(I),I.i=null,I.g.forEach(function(J,pe){var st=pe.toLowerCase();pe!=st&&(dg(this,pe),Vm(this,st,J))},I)),I.j=U}(I.i,I.h)):(J||(U=Fc(U,hy)),I.i=new wu(U,I.h))}function Ar(I,U,J){I.i.set(U,J)}function qo(I){return Ar(I,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),I}function kc(I,U){return I?U?decodeURI(I.replace(/%25/g,"%2525")):decodeURIComponent(I):""}function Fc(I,U,J){return"string"==typeof I?(I=encodeURI(I).replace(U,_d),J&&(I=I.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I):null}function _d(I){return"%"+((I=I.charCodeAt(0))>>4&15).toString(16)+(15&I).toString(16)}ps.prototype.toString=function(){var I=[],U=this.j;U&&I.push(Fc(U,yd,!0),":");var J=this.g;return(J||"file"==U)&&(I.push("//"),(U=this.o)&&I.push(Fc(U,yd,!0),"@"),I.push(encodeURIComponent(String(J)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(J=this.s)&&I.push(":",String(J))),(J=this.l)&&(this.g&&"/"!=J.charAt(0)&&I.push("/"),I.push(Fc(J,"/"==J.charAt(0)?Uf:Fm,!0))),(J=this.i.toString())&&I.push("?",J),(J=this.m)&&I.push("#",Fc(J,fy)),I.join("")};var I,yd=/[#\/\?@]/g,Fm=/[#\?:]/g,Uf=/[#\?]/g,hy=/[#\?@]/g,fy=/#/g;function wu(I,U){this.h=this.g=null,this.i=I||null,this.j=!!U}function El(I){I.g||(I.g=new Map,I.h=0,I.i&&function ug(I,U){if(I){I=I.split("&");for(var J=0;J<I.length;J++){var pe=I[J].indexOf("="),st=null;if(0<=pe){var wt=I[J].substring(0,pe);st=I[J].substring(pe+1)}else wt=I[J];U(wt,st?decodeURIComponent(st.replace(/\+/g," ")):"")}}}(I.i,function(U,J){I.add(decodeURIComponent(U.replace(/\+/g," ")),J)}))}function dg(I,U){El(I),U=Au(I,U),I.g.has(U)&&(I.i=null,I.h-=I.g.get(U).length,I.g.delete(U))}function Lm(I,U){return El(I),U=Au(I,U),I.g.has(U)}function Vm(I,U,J){dg(I,U),0<J.length&&(I.i=null,I.g.set(Au(I,U),Yt(J)),I.h+=J.length)}function Au(I,U){return U=String(U),I.j&&(U=U.toLowerCase()),U}function Il(I,U,J,pe,st){try{st&&(st.onload=null,st.onerror=null,st.onabort=null,st.ontimeout=null),pe(J)}catch{}}function Dv(){this.g=new yu}function Sv(I,U,J){const pe=J||"";try{Fs(I,function(st,wt){let dn=st;Y(st)&&(dn=Ih(st)),U.push(pe+wt+"="+encodeURIComponent(dn))})}catch(st){throw U.push(pe+"type="+encodeURIComponent("_badmap")),st}}function Bf(I){this.l=I.Ub||null,this.j=I.eb||!1}function Bm(I,U){qs.call(this),this.D=I,this.o=U,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function py(I){I.j.read().then(I.Pa.bind(I)).catch(I.ga.bind(I))}function jf(I){I.readyState=4,I.l=null,I.j=null,I.v=null,Hf(I)}function Hf(I){I.onreadystatechange&&I.onreadystatechange.call(I)}function hg(I){let U="";return Er(I,function(J,pe){U+=pe,U+=":",U+=J,U+="\r\n"}),U}function Du(I,U,J){e:{for(pe in J){var pe=!1;break e}pe=!0}pe||(J=hg(J),"string"==typeof I?null!=J&&encodeURIComponent(String(J)):Ar(I,U,J))}function Di(I){qs.call(this),this.headers=new Map,this.o=I||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(l=wu.prototype).add=function(I,U){El(this),this.i=null,I=Au(this,I);var J=this.g.get(I);return J||this.g.set(I,J=[]),J.push(U),this.h+=1,this},l.forEach=function(I,U){El(this),this.g.forEach(function(J,pe){J.forEach(function(st){I.call(U,st,pe,this)},this)},this)},l.na=function(){El(this);const I=Array.from(this.g.values()),U=Array.from(this.g.keys()),J=[];for(let pe=0;pe<U.length;pe++){const st=I[pe];for(let wt=0;wt<st.length;wt++)J.push(U[pe])}return J},l.V=function(I){El(this);let U=[];if("string"==typeof I)Lm(this,I)&&(U=U.concat(this.g.get(Au(this,I))));else{I=Array.from(this.g.values());for(let J=0;J<I.length;J++)U=U.concat(I[J])}return U},l.set=function(I,U){return El(this),this.i=null,Lm(this,I=Au(this,I))&&(this.h-=this.g.get(I).length),this.g.set(I,[U]),this.h+=1,this},l.get=function(I,U){return I&&0<(I=this.V(I)).length?String(I[0]):U},l.toString=function(){if(this.i)return this.i;if(!this.g)return"";const I=[],U=Array.from(this.g.keys());for(var J=0;J<U.length;J++){var pe=U[J];const wt=encodeURIComponent(String(pe)),dn=this.V(pe);for(pe=0;pe<dn.length;pe++){var st=wt;""!==dn[pe]&&(st+="="+encodeURIComponent(String(dn[pe]))),I.push(st)}}return this.i=I.join("&")},xt(Bf,vu),Bf.prototype.g=function(){return new Bm(this.l,this.j)},Bf.prototype.i=(I={},function(){return I}),xt(Bm,qs),(l=Bm.prototype).open=function(I,U){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=I,this.A=U,this.readyState=1,Hf(this)},l.send=function(I){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const U={headers:this.u,method:this.B,credentials:this.m,cache:void 0};I&&(U.body=I),(this.D||R).fetch(new Request(this.A,U)).then(this.Sa.bind(this),this.ga.bind(this))},l.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jf(this)),this.readyState=0},l.Sa=function(I){if(this.g&&(this.l=I,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=I.headers,this.readyState=2,Hf(this)),this.g&&(this.readyState=3,Hf(this),this.g)))if("arraybuffer"===this.responseType)I.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof R.ReadableStream<"u"&&"body"in I){if(this.j=I.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;py(this)}else I.text().then(this.Ra.bind(this),this.ga.bind(this))},l.Pa=function(I){if(this.g){if(this.o&&I.value)this.response.push(I.value);else if(!this.o){var U=I.value?I.value:new Uint8Array(0);(U=this.v.decode(U,{stream:!I.done}))&&(this.response=this.responseText+=U)}I.done?jf(this):Hf(this),3==this.readyState&&py(this)}},l.Ra=function(I){this.g&&(this.response=this.responseText=I,jf(this))},l.Qa=function(I){this.g&&(this.response=I,jf(this))},l.ga=function(){this.g&&jf(this)},l.setRequestHeader=function(I,U){this.u.append(I,U)},l.getResponseHeader=function(I){return this.h&&this.h.get(I.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";const I=[],U=this.h.entries();for(var J=U.next();!J.done;)I.push((J=J.value)[0]+": "+J[1]),J=U.next();return I.join("\r\n")},Object.defineProperty(Bm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(I){this.m=I?"include":"same-origin"}}),xt(Di,qs);var $f=/^https?$/i,gy=["POST","PUT"];function zf(I,U){I.h=!1,I.g&&(I.j=!0,I.g.abort(),I.j=!1),I.l=U,I.m=5,my(I),bl(I)}function my(I){I.A||(I.A=!0,Ws(I,"complete"),Ws(I,"error"))}function Mv(I){if(I.h&&typeof b<"u"&&(!I.v[1]||4!=Wo(I)||2!=I.Z()))if(I.u&&4==Wo(I))ng(I.Ea,0,I);else if(Ws(I,"readystatechange"),4==Wo(I)){I.h=!1;try{const dn=I.Z();e:switch(dn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var U=!0;break e;default:U=!1}var J;if(!(J=U)){var pe;if(pe=0===dn){var st=String(I.D).match(Tu)[1]||null;!st&&R.self&&R.self.location&&(st=R.self.location.protocol.slice(0,-1)),pe=!$f.test(st?st.toLowerCase():"")}J=pe}if(J)Ws(I,"complete"),Ws(I,"success");else{I.m=6;try{var wt=2<Wo(I)?I.g.statusText:""}catch{wt=""}I.l=wt+" ["+I.Z()+"]",my(I)}}finally{bl(I)}}}function bl(I,U){if(I.g){Tl(I);const J=I.g,pe=I.v[0]?()=>{}:null;I.g=null,I.v=null,U||Ws(I,"ready");try{J.onreadystatechange=pe}catch{}}}function Tl(I){I.I&&(R.clearTimeout(I.I),I.I=null)}function Wo(I){return I.g?I.g.readyState:0}function fg(I){try{if(!I.g)return null;if("response"in I.g)return I.g.response;switch(I.H){case"":case"text":return I.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in I.g)return I.g.mozResponseArrayBuffer}return null}catch{return null}}function vd(I,U,J){return J&&J.internalChannelParams&&J.internalChannelParams[I]||U}function Ed(I){this.Aa=0,this.i=[],this.j=new vl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vd("failFast",!1,I),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vd("baseRetryDelayMs",5e3,I),this.cb=vd("retryDelaySeedMs",1e4,I),this.Wa=vd("forwardChannelMaxRetries",2,I),this.wa=vd("forwardChannelRequestTimeoutMs",2e4,I),this.pa=I&&I.xmlHttpFactory||void 0,this.Xa=I&&I.Tb||void 0,this.Ca=I&&I.useFetchStreams||!1,this.L=void 0,this.J=I&&I.supportsCrossDomainXhr||!1,this.K="",this.h=new km(I&&I.concurrentRequestLimit),this.Da=new Dv,this.P=I&&I.fastHandshake||!1,this.O=I&&I.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=I&&I.Rb||!1,I&&I.xa&&this.j.xa(),I&&I.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&I&&I.detectBufferingProxy||!1,this.ja=void 0,I&&I.longPollingTimeout&&0<I.longPollingTimeout&&(this.ja=I.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function wh(I){if(_y(I),3==I.G){var U=I.U++,J=ec(I.I);if(Ar(J,"SID",I.K),Ar(J,"RID",U),Ar(J,"TYPE","terminate"),Gf(I,J),(U=new Rc(I,I.j,U)).L=2,U.v=qo(ec(J)),J=!1,R.navigator&&R.navigator.sendBeacon)try{J=R.navigator.sendBeacon(U.v.toString(),"")}catch{}!J&&R.Image&&((new Image).src=U.v,J=!0),J||(U.g=gg(U.j,null),U.g.ea(U.v)),U.F=Date.now(),ag(U)}Ah(I)}function jm(I){I.g&&(zm(I),I.g.cancel(),I.g=null)}function _y(I){jm(I),I.u&&(R.clearTimeout(I.u),I.u=null),Gm(I),I.h.cancel(),I.s&&("number"==typeof I.s&&R.clearTimeout(I.s),I.s=null)}function pg(I){if(!dy(I.h)&&!I.s){I.s=!0;var U=I.Ga;Df||fa(),Eh||(Df(),Eh=!0),_l.add(U,I),I.B=0}}function Pv(I,U){var J;J=U?U.l:I.U++;const pe=ec(I.I);Ar(pe,"SID",I.K),Ar(pe,"RID",J),Ar(pe,"AID",I.T),Gf(I,pe),I.m&&I.o&&Du(pe,I.m,I.o),J=new Rc(I,I.j,J,I.B+1),null===I.m&&(J.H=I.o),U&&(I.i=U.D.concat(I.i)),U=Rv(I,J,1e3),J.I=Math.round(.5*I.wa)+Math.round(.5*I.wa*Math.random()),Lf(I.h,J),xm(J,pe,U)}function Gf(I,U){I.H&&Er(I.H,function(J,pe){Ar(U,pe,J)}),I.l&&Fs({},function(J,pe){Ar(U,pe,J)})}function Rv(I,U,J){J=Math.min(I.i.length,J);var pe=I.l?ke(I.l.Na,I.l,I):null;e:{var st=I.i;let wt=-1;for(;;){const dn=["count="+J];-1==wt?0<J?(wt=st[0].g,dn.push("ofs="+wt)):wt=0:dn.push("ofs="+wt);let Ti=!0;for(let Zs=0;Zs<J;Zs++){let Jr=st[Zs].g;const ro=st[Zs].map;if(Jr-=wt,0>Jr)wt=Math.max(0,st[Zs].g-100),Ti=!1;else try{Sv(ro,dn,"req"+Jr+"_")}catch{pe&&pe(ro)}}if(Ti){pe=dn.join("&");break e}}}return I=I.i.splice(0,J),U.D=I,pe}function yy(I){if(!I.g&&!I.u){I.Y=1;var U=I.Fa;Df||fa(),Eh||(Df(),Eh=!0),_l.add(U,I),I.v=0}}function $m(I){return!(I.g||I.u||3<=I.v||(I.Y++,I.u=Ch(ke(I.Fa,I),qm(I,I.v)),I.v++,0))}function zm(I){null!=I.A&&(R.clearTimeout(I.A),I.A=null)}function vy(I){I.g=new Rc(I,I.j,"rpc",I.Y),null===I.m&&(I.g.H=I.o),I.g.O=0;var U=ec(I.qa);Ar(U,"RID","rpc"),Ar(U,"SID",I.K),Ar(U,"AID",I.T),Ar(U,"CI",I.F?"0":"1"),!I.F&&I.ja&&Ar(U,"TO",I.ja),Ar(U,"TYPE","xmlhttp"),Gf(I,U),I.m&&I.o&&Du(U,I.m,I.o),I.L&&(I.g.I=I.L);var J=I.g;I=I.ia,J.L=1,J.v=qo(ec(U)),J.m=null,J.P=!0,cy(J,I)}function Gm(I){null!=I.C&&(R.clearTimeout(I.C),I.C=null)}function xv(I,U){var J=null;if(I.g==U){Gm(I),zm(I),I.g=null;var pe=2}else{if(!ga(I.h,U))return;J=U.D,bu(I.h,U),pe=1}if(0!=I.G)if(U.o)if(1==pe){J=U.m?U.m.length:0,U=Date.now()-U.F;var st=I.B;Ws(pe=gd(),new oy(pe,J)),pg(I)}else yy(I);else if(3==(st=U.s)||0==st&&0<U.X||!(1==pe&&function Hm(I,U){return!(Ff(I.h)>=I.h.j-(I.s?1:0)||(I.s?(I.i=U.D.concat(I.i),0):1==I.G||2==I.G||I.B>=(I.Va?0:I.Wa)||(I.s=Ch(ke(I.Ga,I,U),qm(I,I.B)),I.B++,0)))}(I,U)||2==pe&&$m(I)))switch(J&&0<J.length&&(U=I.h,U.i=U.i.concat(J)),st){case 1:Lc(I,5);break;case 4:Lc(I,10);break;case 3:Lc(I,6);break;default:Lc(I,2)}}function qm(I,U){let J=I.Ta+Math.floor(Math.random()*I.cb);return I.isActive()||(J*=2),J*U}function Lc(I,U){if(I.j.info("Error code "+U),2==U){var J=ke(I.fb,I),pe=I.Xa;const st=!pe;pe=new ps(pe||"//www.google.com/images/cleardot.gif"),R.location&&"http"==R.location.protocol||Oc(pe,"https"),qo(pe),st?function Av(I,U){const J=new vl;if(R.Image){const pe=new Image;pe.onload=ot(Il,J,"TestLoadImage: loaded",!0,U,pe),pe.onerror=ot(Il,J,"TestLoadImage: error",!1,U,pe),pe.onabort=ot(Il,J,"TestLoadImage: abort",!1,U,pe),pe.ontimeout=ot(Il,J,"TestLoadImage: timeout",!1,U,pe),R.setTimeout(function(){pe.ontimeout&&pe.ontimeout()},1e4),pe.src=I}else U(!1)}(pe.toString(),J):function Um(I,U){new vl;const pe=new AbortController,st=setTimeout(()=>{pe.abort(),Il(0,0,!1,U)},1e4);fetch(I,{signal:pe.signal}).then(wt=>{clearTimeout(st),Il(0,0,!!wt.ok,U)}).catch(()=>{clearTimeout(st),Il(0,0,!1,U)})}(pe.toString(),J)}else ks(2);I.G=0,I.l&&I.l.sa(U),Ah(I),_y(I)}function Ah(I){if(I.G=0,I.ka=[],I.l){const U=lg(I.h);(0!=U.length||0!=I.i.length)&&(Vt(I.ka,U),Vt(I.ka,I.i),I.h.i.length=0,Yt(I.i),I.i.length=0),I.l.ra()}}function Wm(I,U,J){var pe=J instanceof ps?ec(J):new ps(J);if(""!=pe.g)U&&(pe.g=U+"."+pe.g),Nc(pe,pe.s);else{var st=R.location;pe=st.protocol,U=U?U+"."+st.hostname:st.hostname,st=+st.port;var wt=new ps(null);pe&&Oc(wt,pe),U&&(wt.g=U),st&&Nc(wt,st),J&&(wt.l=J),pe=wt}return U=I.ya,(J=I.D)&&U&&Ar(pe,J,U),Ar(pe,"VER",I.la),Gf(I,pe),pe}function gg(I,U,J){if(U&&!I.J)throw Error("Can't create secondary domain capable XhrIo object.");return(U=new Di(I.Ca&&!I.pa?new Bf({eb:J}):I.pa)).Ha(I.J),U}function qf(){}function Id(){}function Zo(I,U){qs.call(this),this.g=new Ed(U),this.l=I,this.h=U&&U.messageUrlParams||null,I=U&&U.messageHeaders||null,U&&U.clientProtocolHeaderRequired&&(I?I["X-Client-Protocol"]="webchannel":I={"X-Client-Protocol":"webchannel"}),this.g.o=I,I=U&&U.initMessageHeaders||null,U&&U.messageContentType&&(I?I["X-WebChannel-Content-Type"]=U.messageContentType:I={"X-WebChannel-Content-Type":U.messageContentType}),U&&U.va&&(I?I["X-WebChannel-Client-Profile"]=U.va:I={"X-WebChannel-Client-Profile":U.va}),this.g.S=I,(I=U&&U.Sb)&&!$n(I)&&(this.g.m=I),this.v=U&&U.supportsCrossDomainXhr||!1,this.u=U&&U.sendRawJson||!1,(U=U&&U.httpSessionIdParam)&&!$n(U)&&(this.g.D=U,null!==(I=this.h)&&U in I&&U in(I=this.h)&&delete I[U]),this.j=new Wf(this)}function Ey(I){rg.call(this),I.__headers__&&(this.headers=I.__headers__,this.statusCode=I.__status__,delete I.__headers__,delete I.__status__);var U=I.__sm__;if(U){e:{for(const J in U){I=J;break e}I=void 0}(this.i=I)&&(I=this.i,U=null!==U&&I in U?U[I]:void 0),this.data=U}else this.data=I}function Iy(){Sm.call(this),this.status=1}function Wf(I){this.g=I}(l=Di.prototype).Ha=function(I){this.J=I},l.ea=function(I,U,J,pe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+I);U=U?U.toUpperCase():"GET",this.D=I,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():sg.g(),this.v=function Dm(I){return I.h||(I.h=I.i())}(this.o?this.o:sg),this.g.onreadystatechange=ke(this.Ea,this);try{this.B=!0,this.g.open(U,String(I),!0),this.B=!1}catch(wt){return void zf(this,wt)}if(I=J||"",J=new Map(this.headers),pe)if(Object.getPrototypeOf(pe)===Object.prototype)for(var st in pe)J.set(st,pe[st]);else{if("function"!=typeof pe.keys||"function"!=typeof pe.get)throw Error("Unknown input type for opt_headers: "+String(pe));for(const wt of pe.keys())J.set(wt,pe.get(wt))}pe=Array.from(J.keys()).find(wt=>"content-type"==wt.toLowerCase()),st=R.FormData&&I instanceof R.FormData,!(0<=Array.prototype.indexOf.call(gy,U,void 0))||pe||st||J.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[wt,dn]of J)this.g.setRequestHeader(wt,dn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Tl(this),this.u=!0,this.g.send(I),this.u=!1}catch(wt){zf(this,wt)}},l.abort=function(I){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=I||7,Ws(this,"complete"),Ws(this,"abort"),bl(this))},l.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bl(this,!0)),Di.aa.N.call(this)},l.Ea=function(){this.s||(this.B||this.u||this.j?Mv(this):this.bb())},l.bb=function(){Mv(this)},l.isActive=function(){return!!this.g},l.Z=function(){try{return 2<Wo(this)?this.g.status:-1}catch{return-1}},l.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},l.Oa=function(I){if(this.g){var U=this.g.responseText;return I&&0==U.indexOf(I)&&(U=U.substring(I.length)),Pf(U)}},l.Ba=function(){return this.m},l.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(l=Ed.prototype).la=8,l.G=1,l.connect=function(I,U,J,pe){ks(0),this.W=I,this.H=U||{},J&&void 0!==pe&&(this.H.OSID=J,this.H.OAID=pe),this.F=this.X,this.I=Wm(this,null,this.W),pg(this)},l.Ga=function(I){if(this.s)if(this.s=null,1==this.G){if(!I){this.U=Math.floor(1e5*Math.random()),I=this.U++;const st=new Rc(this,this.j,I);let wt=this.o;if(this.S&&(wt?(wt=Re(wt),Qe(wt,this.S)):wt=this.S),null!==this.m||this.O||(st.H=wt,wt=null),this.P)e:{for(var U=0,J=0;J<this.i.length;J++){var pe=this.i[J];if(void 0===(pe="__data__"in pe.map&&"string"==typeof(pe=pe.map.__data__)?pe.length:void 0))break;if(4096<(U+=pe)){U=J;break e}if(4096===U||J===this.i.length-1){U=J+1;break e}}U=1e3}else U=1e3;U=Rv(this,st,U),Ar(J=ec(this.I),"RID",I),Ar(J,"CVER",22),this.D&&Ar(J,"X-HTTP-Session-Id",this.D),Gf(this,J),wt&&(this.O?U="headers="+encodeURIComponent(String(hg(wt)))+"&"+U:this.m&&Du(J,this.m,wt)),Lf(this.h,st),this.Ua&&Ar(J,"TYPE","init"),this.P?(Ar(J,"$req",U),Ar(J,"SID","null"),st.T=!0,xm(st,J,null)):xm(st,J,U),this.G=2}}else 3==this.G&&(I?Pv(this,I):0==this.i.length||dy(this.h)||Pv(this))},l.Fa=function(){if(this.u=null,vy(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var I=2*this.R;this.j.info("BP detection timer enabled: "+I),this.A=Ch(ke(this.ab,this),I)}},l.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ks(10),jm(this),vy(this))},l.Za=function(){null!=this.C&&(this.C=null,jm(this),$m(this),ks(19))},l.fb=function(I){I?(this.j.info("Successfully pinged google.com"),ks(2)):(this.j.info("Failed to ping google.com"),ks(1))},l.isActive=function(){return!!this.l&&this.l.isActive(this)},(l=qf.prototype).ua=function(){},l.ta=function(){},l.sa=function(){},l.ra=function(){},l.isActive=function(){return!0},l.Na=function(){},Id.prototype.g=function(I,U){return new Zo(I,U)},xt(Zo,qs),Zo.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zo.prototype.close=function(){wh(this.g)},Zo.prototype.o=function(I){var U=this.g;if("string"==typeof I){var J={};J.__data__=I,I=J}else this.u&&((J={}).__data__=Ih(I),I=J);U.i.push(new class{constructor(I,U){this.g=I,this.map=U}}(U.Ya++,I)),3==U.G&&pg(U)},Zo.prototype.N=function(){this.g.l=null,delete this.j,wh(this.g),delete this.g,Zo.aa.N.call(this)},xt(Ey,rg),xt(Iy,Sm),xt(Wf,qf),Wf.prototype.ua=function(){Ws(this.g,"a")},Wf.prototype.ta=function(I){Ws(this.g,new Ey(I))},Wf.prototype.sa=function(I){Ws(this.g,new Iy)},Wf.prototype.ra=function(){Ws(this.g,"b")},Id.prototype.createWebChannel=Id.prototype.g,Zo.prototype.send=Zo.prototype.o,Zo.prototype.open=Zo.prototype.m,Zo.prototype.close=Zo.prototype.close,Ke=ve.createWebChannelTransport=function(){return new Id},en=ve.getStatEventTarget=function(){return gd()},_t=ve.Event=pd,It=ve.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nf.NO_ERROR=0,Nf.TIMEOUT=8,Nf.HTTP_ERROR=6,mt=ve.ErrorCode=Nf,ig.COMPLETE="complete",Dt=ve.EventType=ig,Rf.EventType=bh,bh.OPEN="a",bh.CLOSE="b",bh.ERROR="c",bh.MESSAGE="d",qs.prototype.listen=qs.prototype.K,Xe=ve.WebChannel=Rf,pt=ve.FetchXmlHttpFactory=Bf,Di.prototype.listenOnce=Di.prototype.L,Di.prototype.getLastError=Di.prototype.Ka,Di.prototype.getLastErrorCode=Di.prototype.Ba,Di.prototype.getStatus=Di.prototype.Z,Di.prototype.getResponseJson=Di.prototype.Oa,Di.prototype.getResponseText=Di.prototype.oa,Di.prototype.send=Di.prototype.ea,Di.prototype.setWithCredentials=Di.prototype.Ha,Oe=ve.XhrIo=Di}).apply(typeof fe<"u"?fe:typeof self<"u"?self:typeof window<"u"?window:{});const ze="@firebase/firestore";class rt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rt.UNAUTHENTICATED=new rt(null),rt.GOOGLE_CREDENTIALS=new rt("google-credentials-uid"),rt.FIRST_PARTY=new rt("first-party-uid"),rt.MOCK_USER=new rt("mock-user");let He="10.12.1";const it=new Ie.Yd("@firebase/firestore");function Ct(){return it.logLevel}function Ye(l){it.setLogLevel(l)}function ge(l,...e){if(it.logLevel<=Ie.in.DEBUG){const r=e.map(zn);it.debug(`Firestore (${He}): ${l}`,...r)}}function Et(l,...e){if(it.logLevel<=Ie.in.ERROR){const r=e.map(zn);it.error(`Firestore (${He}): ${l}`,...r)}}function $t(l,...e){if(it.logLevel<=Ie.in.WARN){const r=e.map(zn);it.warn(`Firestore (${He}): ${l}`,...r)}}function zn(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch{return l}}function bt(l="Unexpected state"){const e=`FIRESTORE (${He}) INTERNAL ASSERTION FAILED: `+l;throw Et(e),new Error(e)}function Nt(l,e){l||bt()}function rn(l,e){l||bt()}function at(l,e){return l}const Ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Ee.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ve{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class tt{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class et{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(rt.UNAUTHENTICATED))}shutdown(){}}class gt{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class vt{constructor(e){this.t=e,this.currentUser=rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;let d=this.i;const y=Y=>this.i!==d?(d=this.i,r(Y)):Promise.resolve();let b=new Ve;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new Ve,e.enqueueRetryable(()=>y(this.currentUser))};const R=()=>{const Y=b;e.enqueueRetryable((0,g.Z)(function*(){yield Y.promise,yield y(s.currentUser)}))},F=Y=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Y,this.auth.addAuthTokenListener(this.o),R()};this.t.onInit(Y=>F(Y)),setTimeout(()=>{if(!this.auth){const Y=this.t.getImmediate({optional:!0});Y?F(Y):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new Ve)}},0),R()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Nt("string"==typeof s.accessToken),new tt(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Nt(null===e||"string"==typeof e),new rt(e)}}class Jt{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=rt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class zt{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new Jt(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Gt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const s=y=>{null!=y.error&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${y.error.message}`);const b=y.token!==this.R;return this.R=y.token,ge("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?r(y.token):Promise.resolve()};this.o=y=>{e.enqueueRetryable(()=>s(y))};const d=y=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=y,this.appCheck.addTokenListener(this.o)};this.A.onInit(y=>d(y)),setTimeout(()=>{if(!this.appCheck){const y=this.A.getImmediate({optional:!0});y?d(y):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Nt("string"==typeof r.token),this.R=r.token,new Gt(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function gn(l){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(l);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<l;s++)r[s]=Math.floor(256*Math.random());return r}class On{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const d=gn(40);for(let y=0;y<d.length;++y)s.length<20&&d[y]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(d[y]%62))}return s}}function qt(l,e){return l<e?-1:l>e?1:0}function fn(l,e,r){return l.length===e.length&&l.every((s,d)=>r(s,e[d]))}function Cn(l){return l+"\0"}class Dn{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new _e(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new _e(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new _e(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Dn.fromMillis(Date.now())}static fromDate(e){return Dn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new Dn(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qt(this.nanoseconds,e.nanoseconds):qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Zt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Zt(e)}static min(){return new Zt(new Dn(0,0))}static max(){return new Zt(new Dn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class li{constructor(e,r,s){void 0===r?r=0:r>e.length&&bt(),void 0===s?s=e.length-r:s>e.length-r&&bt(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===li.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof li?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let d=0;d<s;d++){const y=e.get(d),b=r.get(d);if(y<b)return-1;if(y>b)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class wn extends li{construct(e,r,s){return new wn(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new _e(Ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(d=>d.length>0))}return new wn(r)}static emptyPath(){return new wn([])}}const dr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hn extends li{construct(e,r,s){return new Hn(e,r,s)}static isValidIdentifier(e){return dr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Hn(["__name__"])}static fromServerFormat(e){const r=[];let s="",d=0;const y=()=>{if(0===s.length)throw new _e(Ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let b=!1;for(;d<e.length;){const R=e[d];if("\\"===R){if(d+1===e.length)throw new _e(Ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const F=e[d+1];if("\\"!==F&&"."!==F&&"`"!==F)throw new _e(Ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=F,d+=2}else"`"===R?(b=!b,d++):"."!==R||b?(s+=R,d++):(y(),d++)}if(y(),b)throw new _e(Ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hn(r)}static emptyPath(){return new Hn([])}}class kt{constructor(e){this.path=e}static fromPath(e){return new kt(wn.fromString(e))}static fromName(e){return new kt(wn.fromString(e).popFirst(5))}static empty(){return new kt(wn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===wn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return wn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new kt(new wn(e.slice()))}}class vn{constructor(e,r,s,d){this.indexId=e,this.collectionGroup=r,this.fields=s,this.indexState=d}}function Fn(l){return l.fields.find(e=>2===e.kind)}function An(l){return l.fields.filter(e=>2!==e.kind)}vn.UNKNOWN_ID=-1;class Dr{constructor(e,r){this.fieldPath=e,this.kind=r}}class Bn{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Bn(0,sn.min())}}function Mr(l,e){const r=l.toTimestamp().seconds,s=l.toTimestamp().nanoseconds+1,d=Zt.fromTimestamp(1e9===s?new Dn(r+1,0):new Dn(r,s));return new sn(d,kt.empty(),e)}function hi(l){return new sn(l.readTime,l.key,-1)}class sn{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new sn(Zt.min(),kt.empty(),-1)}static max(){return new sn(Zt.max(),kt.empty(),-1)}}function fi(l,e){let r=l.readTime.compareTo(e.readTime);return 0!==r?r:(r=kt.comparator(l.documentKey,e.documentKey),0!==r?r:qt(l.largestBatchId,e.largestBatchId))}const Qn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Tr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function hr(l){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,g.Z)(function*(l){if(l.code!==Ne.FAILED_PRECONDITION||l.message!==Qn)throw l;ge("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class qe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new qe((s,d)=>{this.nextCallback=y=>{this.wrapSuccess(e,y).next(s,d)},this.catchCallback=y=>{this.wrapFailure(r,y).next(s,d)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof qe?r:qe.resolve(r)}catch(r){return qe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):qe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):qe.reject(r)}static resolve(e){return new qe((r,s)=>{r(e)})}static reject(e){return new qe((r,s)=>{s(e)})}static waitFor(e){return new qe((r,s)=>{let d=0,y=0,b=!1;e.forEach(R=>{++d,R.next(()=>{++y,b&&y===d&&r()},F=>s(F))}),b=!0,y===d&&r()})}static or(e){let r=qe.resolve(!1);for(const s of e)r=r.next(d=>d?qe.resolve(d):s());return r}static forEach(e,r){const s=[];return e.forEach((d,y)=>{s.push(r.call(this,d,y))}),this.waitFor(s)}static mapArray(e,r){return new qe((s,d)=>{const y=e.length,b=new Array(y);let R=0;for(let F=0;F<y;F++){const Y=F;r(e[Y]).next(ie=>{b[Y]=ie,++R,R===y&&s(b)},ie=>d(ie))}})}static doWhile(e,r){return new qe((s,d)=>{const y=()=>{!0===e()?r().next(()=>{y()},d):s()};y()})}}class Tt{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Ve,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new jt(e,r.error)):this.V.resolve()},this.transaction.onerror=s=>{const d=X(s.target.error);this.V.reject(new jt(e,d))}}static open(e,r,s,d){try{return new Tt(r,e.transaction(d,s))}catch(y){throw new jt(r,y)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ge("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new ti(r)}}class oe{constructor(e,r,s){this.name=e,this.version=r,this.p=s,12.2===oe.S((0,Ee.z$)())&&Et("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ge("SimpleDb","Removing database:",e),Ft(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Ee.hl)())return!1;if(oe.C())return!0;const e=(0,Ee.z$)(),r=oe.S(e),s=0<r&&r<10,d=Se(e),y=0<d&&d<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||y)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(e){var r=this;return(0,g.Z)(function*(){return r.db||(ge("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,d)=>{const y=indexedDB.open(r.name,r.version);y.onsuccess=b=>{s(b.target.result)},y.onblocked=()=>{d(new jt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},y.onerror=b=>{const R=b.target.error;d("VersionError"===R.name?new _e(Ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===R.name?new _e(Ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+R):new jt(e,R))},y.onupgradeneeded=b=>{ge("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',b.oldVersion),r.p.O(b.target.result,y.transaction,b.oldVersion,r.version).next(()=>{ge("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=s=>r.N(s)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,s,d){var y=this;return(0,g.Z)(function*(){const b="readonly"===r;let R=0;for(;;){++R;try{y.db=yield y.M(e);const F=Tt.open(y.db,e,b?"readonly":"readwrite",s),Y=d(F).next(ie=>(F.g(),ie)).catch(ie=>(F.abort(ie),qe.reject(ie))).toPromise();return Y.catch(()=>{}),yield F.m,Y}catch(F){const Y=F,ie="FirebaseError"!==Y.name&&R<3;if(ge("SimpleDb","Transaction failed with error:",Y.message,"Retrying:",ie),y.close(),!ie)return Promise.reject(Y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Se(l){const e=l.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class ft{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Ft(this.B.delete())}}class jt extends _e{constructor(e,r){super(Ne.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Sn(l){return"IndexedDbTransactionError"===l.name}class ti{constructor(e){this.store=e}put(e,r){let s;return void 0!==r?(ge("SimpleDb","PUT",this.store.name,e,r),s=this.store.put(r,e)):(ge("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Ft(s)}add(e){return ge("SimpleDb","ADD",this.store.name,e,e),Ft(this.store.add(e))}get(e){return Ft(this.store.get(e)).next(r=>(void 0===r&&(r=null),ge("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return ge("SimpleDb","DELETE",this.store.name,e),Ft(this.store.delete(e))}count(){return ge("SimpleDb","COUNT",this.store.name),Ft(this.store.count())}U(e,r){const s=this.options(e,r),d=s.index?this.store.index(s.index):this.store;if("function"==typeof d.getAll){const y=d.getAll(s.range);return new qe((b,R)=>{y.onerror=F=>{R(F.target.error)},y.onsuccess=F=>{b(F.target.result)}})}{const y=this.cursor(s),b=[];return this.W(y,(R,F)=>{b.push(F)}).next(()=>b)}}G(e,r){const s=this.store.getAll(e,null===r?void 0:r);return new qe((d,y)=>{s.onerror=b=>{y(b.target.error)},s.onsuccess=b=>{d(b.target.result)}})}j(e,r){ge("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,r);s.H=!1;const d=this.cursor(s);return this.W(d,(y,b,R)=>R.delete())}J(e,r){let s;r?s=e:(s={},r=e);const d=this.cursor(s);return this.W(d,r)}Y(e){const r=this.cursor({});return new qe((s,d)=>{r.onerror=y=>{const b=X(y.target.error);d(b)},r.onsuccess=y=>{const b=y.target.result;b?e(b.primaryKey,b.value).next(R=>{R?b.continue():s()}):s()}})}W(e,r){const s=[];return new qe((d,y)=>{e.onerror=b=>{y(b.target.error)},e.onsuccess=b=>{const R=b.target.result;if(!R)return void d();const F=new ft(R),Y=r(R.primaryKey,R.value,F);if(Y instanceof qe){const ie=Y.catch(ye=>(F.done(),qe.reject(ye)));s.push(ie)}F.isDone?d():null===F.K?R.continue():R.continue(F.K)}}).next(()=>qe.waitFor(s))}options(e,r){let s;return void 0!==e&&("string"==typeof e?s=e:r=e),{index:s,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const s=this.store.index(e.index);return e.H?s.openKeyCursor(e.range,r):s.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Ft(l){return new qe((e,r)=>{l.onsuccess=s=>{e(s.target.result)},l.onerror=s=>{const d=X(s.target.error);r(d)}})}let ue=!1;function X(l){const e=oe.S((0,Ee.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(l.message.indexOf(r)>=0){const s=new _e("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ue||(ue=!0,setTimeout(()=>{throw s},0)),s}}return l}class ${constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;ge("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,g.Z)(function*(){r.task=null;try{ge("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(s){Sn(s)?ge("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield hr(s)}yield r.X(6e4)}))}}class B{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,g.Z)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>r.te(s,e))})()}te(e,r){const s=new Set;let d=r,y=!0;return qe.doWhile(()=>!0===y&&d>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(b=>{if(null!==b&&!s.has(b))return ge("IndexBackfiller",`Processing collection: ${b}`),this.ne(e,b,d).next(R=>{d-=R,s.add(b)});y=!1})).next(()=>r-d)}ne(e,r,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(d=>this.localStore.localDocuments.getNextDocuments(e,r,d,s).next(y=>{const b=y.changes;return this.localStore.indexManager.updateIndexEntries(e,b).next(()=>this.re(d,y)).next(R=>(ge("IndexBackfiller",`Updating offset: ${R}`),this.localStore.indexManager.updateCollectionGroup(e,r,R))).next(()=>b.size)}))}re(e,r){let s=e;return r.changes.forEach((d,y)=>{const b=hi(y);fi(b,s)>0&&(s=b)}),new sn(s.readTime,s.documentKey,Math.max(r.batchId,e.largestBatchId))}}let L=(()=>{class l{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=d=>this.ie(d),this.se=d=>s.writeSequenceNumber(d))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return l.oe=-1,l})();function he(l){return null==l}function Fe(l){return 0===l&&1/l==-1/0}function yt(l){return"number"==typeof l&&Number.isInteger(l)&&!Fe(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}function Rt(l){let e="";for(let r=0;r<l.length;r++)e.length>0&&(e=nn(e)),e=tn(l.get(r),e);return nn(e)}function tn(l,e){let r=e;const s=l.length;for(let d=0;d<s;d++){const y=l.charAt(d);switch(y){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=y}}return r}function nn(l){return l+"\x01\x01"}function an(l){const e=l.length;if(Nt(e>=2),2===e)return Nt("\x01"===l.charAt(0)&&"\x01"===l.charAt(1)),wn.emptyPath();const r=e-2,s=[];let d="";for(let y=0;y<e;){const b=l.indexOf("\x01",y);switch((b<0||b>r)&&bt(),l.charAt(b+1)){case"\x01":const R=l.substring(y,b);let F;0===d.length?F=R:(d+=R,F=d,d=""),s.push(F);break;case"\x10":d+=l.substring(y,b),d+="\0";break;case"\x11":d+=l.substring(y,b+1);break;default:bt()}y=b+2}return new wn(s)}const Jn=["userId","batchId"];function xn(l,e){return[l,Rt(e)]}function ui(l,e,r){return[l,Rt(e),r]}const Ds={},To=["prefixPath","collectionGroup","readTime","documentId"],vi=["prefixPath","collectionGroup","documentId"],so=["collectionGroup","readTime","prefixPath","documentId"],ms=["canonicalId","targetId"],Li=["targetId","path"],pr=["path","targetId"],Vs=["collectionId","parent"],Co=["indexId","uid"],ma=["uid","sequenceNumber"],jc=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Vi=["indexId","uid","orderedDocumentKey"],Fr=["userId","collectionPath","documentId"],Qo=["userId","collectionPath","largestBatchId"],Kr=["userId","collectionGroup","largestBatchId"],Jo=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Xo=[...Jo,"documentOverlays"],ea=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],fr=ea,Ci=[...fr,"indexConfiguration","indexState","indexEntries"],Us=Ci;class Ui extends Tr{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function Pr(l,e){const r=at(l);return oe.F(r._e,e)}function Bs(l){let e=0;for(const r in l)Object.prototype.hasOwnProperty.call(l,r)&&e++;return e}function Xi(l,e){for(const r in l)Object.prototype.hasOwnProperty.call(l,r)&&e(r,l[r])}function Oa(l){for(const e in l)if(Object.prototype.hasOwnProperty.call(l,e))return!1;return!0}class Br{constructor(e,r){this.comparator=e,this.root=r||Ei.EMPTY}insert(e,r){return new Br(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Ei.BLACK,null,null))}remove(e){return new Br(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ei.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const d=this.comparator(e,s.key);if(0===d)return r+s.left.size;d<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Na(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Na(this.root,e,this.comparator,!1)}getReverseIterator(){return new Na(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Na(this.root,e,this.comparator,!0)}}class Na{constructor(e,r,s,d){this.isReverse=d,this.nodeStack=[];let y=1;for(;!e.isEmpty();)if(y=r?s(e.key,r):1,r&&d&&(y*=-1),y<0)e=this.isReverse?e.left:e.right;else{if(0===y){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ei{constructor(e,r,s,d,y){this.key=e,this.value=r,this.color=s??Ei.RED,this.left=d??Ei.EMPTY,this.right=y??Ei.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,d,y){return new Ei(e??this.key,r??this.value,s??this.color,d??this.left,y??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let d=this;const y=s(e,d.key);return d=y<0?d.copy(null,null,null,d.left.insert(e,r,s),null):0===y?d.copy(null,r,null,null,null):d.copy(null,null,null,null,d.right.insert(e,r,s)),d.fixUp()}removeMin(){if(this.left.isEmpty())return Ei.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,d=this;if(r(e,d.key)<0)d.left.isEmpty()||d.left.isRed()||d.left.left.isRed()||(d=d.moveRedLeft()),d=d.copy(null,null,null,d.left.remove(e,r),null);else{if(d.left.isRed()&&(d=d.rotateRight()),d.right.isEmpty()||d.right.isRed()||d.right.left.isRed()||(d=d.moveRedRight()),0===r(e,d.key)){if(d.right.isEmpty())return Ei.EMPTY;s=d.right.min(),d=d.copy(s.key,s.value,null,null,d.right.removeMin())}d=d.copy(null,null,null,null,d.right.remove(e,r))}return d.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ei.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ei.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw bt();const e=this.left.check();if(e!==this.right.check())throw bt();return e+(this.isRed()?0:1)}}Ei.EMPTY=null,Ei.RED=!0,Ei.BLACK=!1,Ei.EMPTY=new class{constructor(){this.size=0}get key(){throw bt()}get value(){throw bt()}get color(){throw bt()}get left(){throw bt()}get right(){throw bt()}copy(e,r,s,d,y){return this}insert(e,r,s){return new Ei(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Rr{constructor(e){this.comparator=e,this.data=new Br(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const d=s.getNext();if(this.comparator(d.key,e[1])>=0)return;r(d.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new ta(this.data.getIterator())}getIteratorFrom(e){return new ta(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof Rr)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const d=r.getNext().key,y=s.getNext().key;if(0!==this.comparator(d,y))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Rr(this.comparator);return r.data=e,r}}class ta{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ss(l){return l.hasNext()?l.getNext():void 0}class Ii{constructor(e){this.fields=e,e.sort(Hn.comparator)}static empty(){return new Ii([])}unionWith(e){let r=new Rr(Hn.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new Ii(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return fn(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class Gi extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function wo(){return typeof atob<"u"}class ni{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(d){try{return atob(d)}catch(y){throw typeof DOMException<"u"&&y instanceof DOMException?new Gi("Invalid base64 string: "+y):y}}(e);return new ni(r)}static fromUint8Array(e){const r=function(d){let y="";for(let b=0;b<d.length;++b)y+=String.fromCharCode(d[b]);return y}(e);return new ni(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let d=0;d<r.length;d++)s[d]=r.charCodeAt(d);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ni.EMPTY_BYTE_STRING=new ni("");const Ao=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(l){if(Nt(!!l),"string"==typeof l){let e=0;const r=Ao.exec(l);if(Nt(!!r),r[1]){let d=r[1];d=(d+"000000000").substr(0,9),e=Number(d)}const s=new Date(l);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ri(l.seconds),nanos:ri(l.nanos)}}function ri(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function os(l){return"string"==typeof l?ni.fromBase64String(l):ni.fromUint8Array(l)}function _s(l){var e,r;return"server_timestamp"===(null===(r=((null===(e=l?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function oo(l){const e=l.mapValue.fields.__previous_value__;return _s(e)?oo(e):e}function Mi(l){const e=ss(l.mapValue.fields.__local_write_time__.timestampValue);return new Dn(e.seconds,e.nanos)}class Do{constructor(e,r,s,d,y,b,R,F,Y){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=d,this.ssl=y,this.forceLongPolling=b,this.autoDetectLongPolling=R,this.longPollingOptions=F,this.useFetchStreams=Y}}class Mn{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Mn("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Mn&&e.projectId===this.projectId&&e.database===this.database}}const xr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},jr={nullValue:"NULL_VALUE"};function Pi(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?_s(l)?4:rr(l)?9007199254740991:10:bt()}function Or(l,e){if(l===e)return!0;const r=Pi(l);if(r!==Pi(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===e.booleanValue;case 4:return Mi(l).isEqual(Mi(e));case 3:return function(d,y){if("string"==typeof d.timestampValue&&"string"==typeof y.timestampValue&&d.timestampValue.length===y.timestampValue.length)return d.timestampValue===y.timestampValue;const b=ss(d.timestampValue),R=ss(y.timestampValue);return b.seconds===R.seconds&&b.nanos===R.nanos}(l,e);case 5:return l.stringValue===e.stringValue;case 6:return y=e,os(l.bytesValue).isEqual(os(y.bytesValue));case 7:return l.referenceValue===e.referenceValue;case 8:return function(d,y){return ri(d.geoPointValue.latitude)===ri(y.geoPointValue.latitude)&&ri(d.geoPointValue.longitude)===ri(y.geoPointValue.longitude)}(l,e);case 2:return function(d,y){if("integerValue"in d&&"integerValue"in y)return ri(d.integerValue)===ri(y.integerValue);if("doubleValue"in d&&"doubleValue"in y){const b=ri(d.doubleValue),R=ri(y.doubleValue);return b===R?Fe(b)===Fe(R):isNaN(b)&&isNaN(R)}return!1}(l,e);case 9:return fn(l.arrayValue.values||[],e.arrayValue.values||[],Or);case 10:return function(d,y){const b=d.mapValue.fields||{},R=y.mapValue.fields||{};if(Bs(b)!==Bs(R))return!1;for(const F in b)if(b.hasOwnProperty(F)&&(void 0===R[F]||!Or(b[F],R[F])))return!1;return!0}(l,e);default:return bt()}var y}function qi(l,e){return void 0!==(l.values||[]).find(r=>Or(r,e))}function wi(l,e){if(l===e)return 0;const r=Pi(l),s=Pi(e);if(r!==s)return qt(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return qt(l.booleanValue,e.booleanValue);case 2:return function(y,b){const R=ri(y.integerValue||y.doubleValue),F=ri(b.integerValue||b.doubleValue);return R<F?-1:R>F?1:R===F?0:isNaN(R)?isNaN(F)?0:-1:1}(l,e);case 3:return So(l.timestampValue,e.timestampValue);case 4:return So(Mi(l),Mi(e));case 5:return qt(l.stringValue,e.stringValue);case 6:return function(y,b){const R=os(y),F=os(b);return R.compareTo(F)}(l.bytesValue,e.bytesValue);case 7:return function(y,b){const R=y.split("/"),F=b.split("/");for(let Y=0;Y<R.length&&Y<F.length;Y++){const ie=qt(R[Y],F[Y]);if(0!==ie)return ie}return qt(R.length,F.length)}(l.referenceValue,e.referenceValue);case 8:return function(y,b){const R=qt(ri(y.latitude),ri(b.latitude));return 0!==R?R:qt(ri(y.longitude),ri(b.longitude))}(l.geoPointValue,e.geoPointValue);case 9:return function(y,b){const R=y.values||[],F=b.values||[];for(let Y=0;Y<R.length&&Y<F.length;++Y){const ie=wi(R[Y],F[Y]);if(ie)return ie}return qt(R.length,F.length)}(l.arrayValue,e.arrayValue);case 10:return function(y,b){if(y===xr.mapValue&&b===xr.mapValue)return 0;if(y===xr.mapValue)return 1;if(b===xr.mapValue)return-1;const R=y.fields||{},F=Object.keys(R),Y=b.fields||{},ie=Object.keys(Y);F.sort(),ie.sort();for(let ye=0;ye<F.length&&ye<ie.length;++ye){const ke=qt(F[ye],ie[ye]);if(0!==ke)return ke;const ot=wi(R[F[ye]],Y[ie[ye]]);if(0!==ot)return ot}return qt(F.length,ie.length)}(l.mapValue,e.mapValue);default:throw bt()}}function So(l,e){if("string"==typeof l&&"string"==typeof e&&l.length===e.length)return qt(l,e);const r=ss(l),s=ss(e),d=qt(r.seconds,s.seconds);return 0!==d?d:qt(r.nanos,s.nanos)}function Ri(l){return as(l)}function as(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(r){const s=ss(r);return`time(${s.seconds},${s.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?os(l.bytesValue).toBase64():"referenceValue"in l?kt.fromName(l.referenceValue).toString():"geoPointValue"in l?function(r){return`geo(${r.latitude},${r.longitude})`}(l.geoPointValue):"arrayValue"in l?function(r){let s="[",d=!0;for(const y of r.values||[])d?d=!1:s+=",",s+=as(y);return s+"]"}(l.arrayValue):"mapValue"in l?function(r){const s=Object.keys(r.fields||{}).sort();let d="{",y=!0;for(const b of s)y?y=!1:d+=",",d+=`${b}:${as(r.fields[b])}`;return d+"}"}(l.mapValue):bt()}function Xt(l,e){return{referenceValue:`projects/${l.projectId}/databases/${l.database}/documents/${e.path.canonicalString()}`}}function Ln(l){return!!l&&"integerValue"in l}function gr(l){return!!l&&"arrayValue"in l}function gi(l){return!!l&&"nullValue"in l}function ys(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function zr(l){return!!l&&"mapValue"in l}function ii(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const e={mapValue:{fields:{}}};return Xi(l.mapValue.fields,(r,s)=>e.mapValue.fields[r]=ii(s)),e}if(l.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(l.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=ii(l.arrayValue.values[r]);return e}return Object.assign({},l)}function rr(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}function Wi(l){return"nullValue"in l?jr:"booleanValue"in l?{booleanValue:!1}:"integerValue"in l||"doubleValue"in l?{doubleValue:NaN}:"timestampValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in l?{stringValue:""}:"bytesValue"in l?{bytesValue:""}:"referenceValue"in l?Xt(Mn.empty(),kt.empty()):"geoPointValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in l?{arrayValue:{}}:"mapValue"in l?{mapValue:{}}:bt()}function vs(l){return"nullValue"in l?{booleanValue:!1}:"booleanValue"in l?{doubleValue:NaN}:"integerValue"in l||"doubleValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in l?{stringValue:""}:"stringValue"in l?{bytesValue:""}:"bytesValue"in l?Xt(Mn.empty(),kt.empty()):"referenceValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in l?{arrayValue:{}}:"arrayValue"in l?{mapValue:{}}:"mapValue"in l?xr:bt()}function jn(l,e){const r=wi(l.value,e.value);return 0!==r?r:l.inclusive&&!e.inclusive?-1:!l.inclusive&&e.inclusive?1:0}function Zi(l,e){const r=wi(l.value,e.value);return 0!==r?r:l.inclusive&&!e.inclusive?1:!l.inclusive&&e.inclusive?-1:0}class or{constructor(e){this.value=e}static empty(){return new or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!zr(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=ii(r)}setAll(e){let r=Hn.emptyPath(),s={},d=[];e.forEach((b,R)=>{if(!r.isImmediateParentOf(R)){const F=this.getFieldsMap(r);this.applyChanges(F,s,d),s={},d=[],r=R.popLast()}b?s[R.lastSegment()]=ii(b):d.push(R.lastSegment())});const y=this.getFieldsMap(r);this.applyChanges(y,s,d)}delete(e){const r=this.field(e.popLast());zr(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Or(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let d=r.mapValue.fields[e.get(s)];zr(d)&&d.mapValue.fields||(d={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=d),r=d}return r.mapValue.fields}applyChanges(e,r,s){Xi(r,(d,y)=>e[d]=y);for(const d of s)delete e[d]}clone(){return new or(ii(this.value))}}function mi(l){const e=[];return Xi(l.fields,(r,s)=>{const d=new Hn([r]);if(zr(s)){const y=mi(s.mapValue).fields;if(0===y.length)e.push(d);else for(const b of y)e.push(d.child(b))}else e.push(d)}),new Ii(e)}class Nn{constructor(e,r,s,d,y,b,R){this.key=e,this.documentType=r,this.version=s,this.readTime=d,this.createTime=y,this.data=b,this.documentState=R}static newInvalidDocument(e){return new Nn(e,0,Zt.min(),Zt.min(),Zt.min(),or.empty(),0)}static newFoundDocument(e,r,s,d){return new Nn(e,1,r,Zt.min(),s,d,0)}static newNoDocument(e,r){return new Nn(e,2,r,Zt.min(),Zt.min(),or.empty(),0)}static newUnknownDocument(e,r){return new Nn(e,3,r,Zt.min(),Zt.min(),or.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Zt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Zt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class es{constructor(e,r){this.position=e,this.inclusive=r}}function _i(l,e,r){let s=0;for(let d=0;d<l.position.length;d++){const y=e[d],b=l.position[d];if(s=y.field.isKeyField()?kt.comparator(kt.fromName(b.referenceValue),r.key):wi(b,r.data.field(y.field)),"desc"===y.dir&&(s*=-1),0!==s)break}return s}function cs(l,e){if(null===l)return null===e;if(null===e||l.inclusive!==e.inclusive||l.position.length!==e.position.length)return!1;for(let r=0;r<l.position.length;r++)if(!Or(l.position[r],e.position[r]))return!1;return!0}class Es{constructor(e,r="asc"){this.field=e,this.dir=r}}function ka(l,e){return l.dir===e.dir&&l.field.isEqual(e.field)}class ls{}class Kn extends ls{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new co(e,r,s):"array-contains"===r?new je(e,s):"in"===r?new St(e,s):"not-in"===r?new Ut(e,s):"array-contains-any"===r?new on(e,s):new Kn(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new Yr(e,s):new de(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(wi(r,this.value)):null!==r&&Pi(this.value)===Pi(r)&&this.matchesComparison(wi(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return bt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ar extends ls{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new ar(e,r)}matches(e){return Ms(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ms(l){return"and"===l.op}function ir(l){return"or"===l.op}function na(l){return Ki(l)&&Ms(l)}function Ki(l){for(const e of l.filters)if(e instanceof ar)return!1;return!0}function xi(l){if(l instanceof Kn)return l.field.canonicalString()+l.op.toString()+Ri(l.value);if(na(l))return l.filters.map(e=>xi(e)).join(",");{const e=l.filters.map(r=>xi(r)).join(",");return`${l.op}(${e})`}}function ts(l,e){return l instanceof Kn?(s=l,(d=e)instanceof Kn&&s.op===d.op&&s.field.isEqual(d.field)&&Or(s.value,d.value)):l instanceof ar?function(s,d){return d instanceof ar&&s.op===d.op&&s.filters.length===d.filters.length&&s.filters.reduce((y,b,R)=>y&&ts(b,d.filters[R]),!0)}(l,e):void bt();var s,d}function Is(l,e){const r=l.filters.concat(e);return ar.create(r,l.op)}function ao(l){return l instanceof Kn?`${(r=l).field.canonicalString()} ${r.op} ${Ri(r.value)}`:l instanceof ar?function(r){return r.op.toString()+" {"+r.getFilters().map(ao).join(" ,")+"}"}(l):"Filter";var r}class co extends Kn{constructor(e,r,s){super(e,r,s),this.key=kt.fromName(s.referenceValue)}matches(e){const r=kt.comparator(e.key,this.key);return this.matchesComparison(r)}}class Yr extends Kn{constructor(e,r){super(e,"in",r),this.keys=De(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class de extends Kn{constructor(e,r){super(e,"not-in",r),this.keys=De(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function De(l,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>kt.fromName(s.referenceValue))}class je extends Kn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return gr(r)&&qi(r.arrayValue,this.value)}}class St extends Kn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&qi(this.value.arrayValue,r)}}class Ut extends Kn{constructor(e,r){super(e,"not-in",r)}matches(e){if(qi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!qi(this.value.arrayValue,r)}}class on extends Kn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!gr(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>qi(this.value.arrayValue,s))}}class mn{constructor(e,r=null,s=[],d=[],y=null,b=null,R=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=d,this.limit=y,this.startAt=b,this.endAt=R,this.ue=null}}function Wn(l,e=null,r=[],s=[],d=null,y=null,b=null){return new mn(l,e,r,s,d,y,b)}function Pn(l){const e=at(l);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>xi(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(y=s).field.canonicalString()+y.dir;var y}).join(","),he(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>Ri(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>Ri(s)).join(",")),e.ue=r}return e.ue}function tr(l,e){if(l.limit!==e.limit||l.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<l.orderBy.length;r++)if(!ka(l.orderBy[r],e.orderBy[r]))return!1;if(l.filters.length!==e.filters.length)return!1;for(let r=0;r<l.filters.length;r++)if(!ts(l.filters[r],e.filters[r]))return!1;return l.collectionGroup===e.collectionGroup&&!!l.path.isEqual(e.path)&&!!cs(l.startAt,e.startAt)&&cs(l.endAt,e.endAt)}function Bi(l){return kt.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}function us(l,e){return l.filters.filter(r=>r instanceof Kn&&r.field.isEqual(e))}function q(l,e,r){let s=jr,d=!0;for(const y of us(l,e)){let b=jr,R=!0;switch(y.op){case"<":case"<=":b=Wi(y.value);break;case"==":case"in":case">=":b=y.value;break;case">":b=y.value,R=!1;break;case"!=":case"not-in":b=jr}jn({value:s,inclusive:d},{value:b,inclusive:R})<0&&(s=b,d=R)}if(null!==r)for(let y=0;y<l.orderBy.length;++y)if(l.orderBy[y].field.isEqual(e)){const b=r.position[y];jn({value:s,inclusive:d},{value:b,inclusive:r.inclusive})<0&&(s=b,d=r.inclusive);break}return{value:s,inclusive:d}}function ee(l,e,r){let s=xr,d=!0;for(const y of us(l,e)){let b=xr,R=!0;switch(y.op){case">=":case">":b=vs(y.value),R=!1;break;case"==":case"in":case"<=":b=y.value;break;case"<":b=y.value,R=!1;break;case"!=":case"not-in":b=xr}Zi({value:s,inclusive:d},{value:b,inclusive:R})>0&&(s=b,d=R)}if(null!==r)for(let y=0;y<l.orderBy.length;++y)if(l.orderBy[y].field.isEqual(e)){const b=r.position[y];Zi({value:s,inclusive:d},{value:b,inclusive:r.inclusive})>0&&(s=b,d=r.inclusive);break}return{value:s,inclusive:d}}class V{constructor(e,r=null,s=[],d=[],y=null,b="F",R=null,F=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=d,this.limit=y,this.limitType=b,this.startAt=R,this.endAt=F,this.ce=null,this.le=null,this.he=null}}function ce(l,e,r,s,d,y,b,R){return new V(l,e,r,s,d,y,b,R)}function Me(l){return new V(l)}function bn(l){return 0===l.filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())}function cr(l){return null!==l.collectionGroup}function ns(l){const e=at(l);if(null===e.ce){e.ce=[];const r=new Set;for(const y of e.explicitOrderBy)e.ce.push(y),r.add(y.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(b){let R=new Rr(Hn.comparator);return b.filters.forEach(F=>{F.getFlattenedFilters().forEach(Y=>{Y.isInequality()&&(R=R.add(Y.field))})}),R})(e).forEach(y=>{r.has(y.canonicalString())||y.isKeyField()||e.ce.push(new Es(y,s))}),r.has(Hn.keyField().canonicalString())||e.ce.push(new Es(Hn.keyField(),s))}return e.ce}function si(l){const e=at(l);return e.le||(e.le=function Al(l,e){if("F"===l.limitType)return Wn(l.path,l.collectionGroup,e,l.filters,l.limit,l.startAt,l.endAt);{e=e.map(d=>new Es(d.field,"desc"===d.dir?"asc":"desc"));const r=l.endAt?new es(l.endAt.position,l.endAt.inclusive):null,s=l.startAt?new es(l.startAt.position,l.startAt.inclusive):null;return Wn(l.path,l.collectionGroup,e,l.filters,l.limit,r,s)}}(e,ns(l))),e.le}function ic(l,e){const r=l.filters.concat([e]);return new V(l.path,l.collectionGroup,l.explicitOrderBy.slice(),r,l.limit,l.limitType,l.startAt,l.endAt)}function sc(l,e,r){return new V(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),e,r,l.startAt,l.endAt)}function La(l,e){return tr(si(l),si(e))&&l.limitType===e.limitType}function Hc(l){return`${Pn(si(l))}|lt:${l.limitType}`}function oc(l){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(d=>ao(d)).join(", ")}]`),he(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(d=>{return`${(b=d).field.canonicalString()} (${b.dir})`;var b}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(d=>Ri(d)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(d=>Ri(d)).join(",")),`Target(${s})`}(si(l))}; limitType=${l.limitType})`}function _a(l,e){return e.isFoundDocument()&&function(s,d){const y=d.key.path;return null!==s.collectionGroup?d.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(y):kt.isDocumentKey(s.path)?s.path.isEqual(y):s.path.isImmediateParentOf(y)}(l,e)&&function(s,d){for(const y of ns(s))if(!y.field.isKeyField()&&null===d.data.field(y.field))return!1;return!0}(l,e)&&function(s,d){for(const y of s.filters)if(!y.matches(d))return!1;return!0}(l,e)&&(d=e,!((s=l).startAt&&!function(b,R,F){const Y=_i(b,R,F);return b.inclusive?Y<=0:Y<0}(s.startAt,ns(s),d)||s.endAt&&!function(b,R,F){const Y=_i(b,R,F);return b.inclusive?Y>=0:Y>0}(s.endAt,ns(s),d)));var s,d}function $c(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function Qs(l){return(e,r)=>{let s=!1;for(const d of ns(l)){const y=lo(d,e,r);if(0!==y)return y;s=s||d.field.isKeyField()}return 0}}function lo(l,e,r){const s=l.field.isKeyField()?kt.comparator(e.key,r.key):function(y,b,R){const F=b.data.field(y),Y=R.data.field(y);return null!==F&&null!==Y?wi(F,Y):bt()}(l.field,e,r);switch(l.dir){case"asc":return s;case"desc":return-1*s;default:return bt()}}class rs{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[d,y]of s)if(this.equalsFn(d,e))return y}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),d=this.inner[s];if(void 0===d)return this.inner[s]=[[e,r]],void this.innerSize++;for(let y=0;y<d.length;y++)if(this.equalsFn(d[y][0],e))return void(d[y]=[e,r]);d.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let d=0;d<s.length;d++)if(this.equalsFn(s[d][0],e))return 1===s.length?delete this.inner[r]:s.splice(d,1),this.innerSize--,!0;return!1}forEach(e){Xi(this.inner,(r,s)=>{for(const[d,y]of s)e(d,y)})}isEmpty(){return Oa(this.inner)}size(){return this.innerSize}}const Cd=new Br(kt.comparator);function Cr(){return Cd}const ya=new Br(kt.comparator);function ji(...l){let e=ya;for(const r of l)e=e.insert(r.key,r);return e}function Ru(l){let e=ya;return l.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function Js(){return ho()}function uo(){return ho()}function ho(){return new rs(l=>l.toString(),(l,e)=>l.isEqual(e))}const ko=new Br(kt.comparator),Va=new Rr(kt.comparator);function sr(...l){let e=Va;for(const r of l)e=e.add(r);return e}const zc=new Rr(qt);function Gc(){return zc}function ac(l,e){if(l.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fe(e)?"-0":e}}function cc(l){return{integerValue:""+l}}function Ua(l,e){return yt(e)?cc(e):ac(l,e)}class ra{constructor(){this._=void 0}}function Fo(l,e,r){return l instanceof qc?function(d,y){const b={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:d.seconds,nanos:d.nanoseconds}}}};return y&&_s(y)&&(y=oo(y)),y&&(b.fields.__previous_value__=y),{mapValue:b}}(r,e):l instanceof ia?Sh(l,e):l instanceof Lo?wd(l,e):function(d,y){const b=Dl(d,y),R=uc(b)+uc(d.Pe);return Ln(b)&&Ln(d.Pe)?cc(R):ac(d.serializer,R)}(l,e)}function lc(l,e,r){return l instanceof ia?Sh(l,e):l instanceof Lo?wd(l,e):r}function Dl(l,e){return l instanceof Ba?Ln(s=e)||(y=s)&&"doubleValue"in y?e:{integerValue:0}:null;var s,y}class qc extends ra{}class ia extends ra{constructor(e){super(),this.elements=e}}function Sh(l,e){const r=Sl(e);for(const s of l.elements)r.some(d=>Or(d,s))||r.push(s);return{arrayValue:{values:r}}}class Lo extends ra{constructor(e){super(),this.elements=e}}function wd(l,e){let r=Sl(e);for(const s of l.elements)r=r.filter(d=>!Or(d,s));return{arrayValue:{values:r}}}class Ba extends ra{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function uc(l){return ri(l.integerValue||l.doubleValue)}function Sl(l){return gr(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class ja{constructor(e,r){this.field=e,this.transform=r}}class Wc{constructor(e,r){this.version=e,this.transformResults=r}}class Qr{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Qr}static exists(e){return new Qr(void 0,e)}static updateTime(e){return new Qr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function P(l,e){return void 0!==l.updateTime?e.isFoundDocument()&&e.version.isEqual(l.updateTime):void 0===l.exists||l.exists===e.isFoundDocument()}class ne{}function j(l,e){if(!l.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return l.isNoDocument()?new Zr(l.key,Qr.none()):new yn(l.key,l.data,Qr.none());{const r=l.data,s=or.empty();let d=new Rr(Hn.comparator);for(let y of e.fields)if(!d.has(y)){let b=r.field(y);null===b&&y.length>1&&(y=y.popLast(),b=r.field(y)),null===b?s.delete(y):s.set(y,b),d=d.add(y)}return new wr(l.key,s,new Ii(d.toArray()),Qr.none())}}function te(l,e,r){l instanceof yn?function(d,y,b){const R=d.value.clone(),F=Lr(d.fieldTransforms,y,b.transformResults);R.setAll(F),y.convertToFoundDocument(b.version,R).setHasCommittedMutations()}(l,e,r):l instanceof wr?function(d,y,b){if(!P(d.precondition,y))return void y.convertToUnknownDocument(b.version);const R=Lr(d.fieldTransforms,y,b.transformResults),F=y.data;F.setAll(Gr(d)),F.setAll(R),y.convertToFoundDocument(b.version,F).setHasCommittedMutations()}(l,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function we(l,e,r,s){return l instanceof yn?function(y,b,R,F){if(!P(y.precondition,b))return R;const Y=y.value.clone(),ie=lr(y.fieldTransforms,F,b);return Y.setAll(ie),b.convertToFoundDocument(b.version,Y).setHasLocalMutations(),null}(l,e,r,s):l instanceof wr?function(y,b,R,F){if(!P(y.precondition,b))return R;const Y=lr(y.fieldTransforms,F,b),ie=b.data;return ie.setAll(Gr(y)),ie.setAll(Y),b.convertToFoundDocument(b.version,ie).setHasLocalMutations(),null===R?null:R.unionWith(y.fieldMask.fields).unionWith(y.fieldTransforms.map(ye=>ye.field))}(l,e,r,s):(R=r,P(l.precondition,b=e)?(b.convertToNoDocument(b.version).setHasLocalMutations(),null):R);var b,R}function ht(l,e){let r=null;for(const s of l.fieldTransforms){const d=e.data.field(s.field),y=Dl(s.transform,d||null);null!=y&&(null===r&&(r=or.empty()),r.set(s.field,y))}return r||null}function Mt(l,e){return l.type===e.type&&!!l.key.isEqual(e.key)&&!!l.precondition.isEqual(e.precondition)&&(d=e.fieldTransforms,!!(void 0===(s=l.fieldTransforms)&&void 0===d||s&&d&&fn(s,d,(y,b)=>function Ad(l,e){return l.field.isEqual(e.field)&&(d=e.transform,(s=l.transform)instanceof ia&&d instanceof ia||s instanceof Lo&&d instanceof Lo?fn(s.elements,d.elements,Or):s instanceof Ba&&d instanceof Ba?Or(s.Pe,d.Pe):s instanceof qc&&d instanceof qc);var s,d}(y,b))))&&(0===l.type?l.value.isEqual(e.value):1!==l.type||l.data.isEqual(e.data)&&l.fieldMask.isEqual(e.fieldMask));var s,d}class yn extends ne{constructor(e,r,s,d=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=d,this.type=0}getFieldMask(){return null}}class wr extends ne{constructor(e,r,s,d,y=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=d,this.fieldTransforms=y,this.type=1}getFieldMask(){return this.fieldMask}}function Gr(l){const e=new Map;return l.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=l.data.field(r);e.set(r,s)}}),e}function Lr(l,e,r){const s=new Map;Nt(l.length===r.length);for(let d=0;d<r.length;d++){const y=l[d],b=y.transform,R=e.data.field(y.field);s.set(y.field,lc(b,R,r[d]))}return s}function lr(l,e,r){const s=new Map;for(const d of l){const y=d.transform,b=r.data.field(d.field);s.set(d.field,Fo(y,b,e))}return s}class Zr extends ne{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nr extends ne{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Oi{constructor(e,r,s,d){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=d}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let d=0;d<this.mutations.length;d++){const y=this.mutations[d];y.key.isEqual(e.key)&&te(y,e,s[d])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=we(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=we(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=uo();return this.mutations.forEach(d=>{const y=e.get(d.key),b=y.overlayedDocument;let R=this.applyToLocalView(b,y.mutatedFields);R=r.has(d.key)?null:R;const F=j(b,R);null!==F&&s.set(d.key,F),b.isValidDocument()||b.convertToNoDocument(Zt.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),sr())}isEqual(e){return this.batchId===e.batchId&&fn(this.mutations,e.mutations,(r,s)=>Mt(r,s))&&fn(this.baseMutations,e.baseMutations,(r,s)=>Mt(r,s))}}class ds{constructor(e,r,s,d){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=d}static from(e,r,s){Nt(e.mutations.length===s.length);let d=ko;const y=e.mutations;for(let b=0;b<y.length;b++)d=d.insert(y[b].key,s[b].version);return new ds(e,r,s,d)}}class is{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class js{constructor(e,r){this.count=e,this.unchangedNames=r}}var oi,Yn;function oa(l){switch(l){default:return bt();case Ne.CANCELLED:case Ne.UNKNOWN:case Ne.DEADLINE_EXCEEDED:case Ne.RESOURCE_EXHAUSTED:case Ne.INTERNAL:case Ne.UNAVAILABLE:case Ne.UNAUTHENTICATED:return!1;case Ne.INVALID_ARGUMENT:case Ne.NOT_FOUND:case Ne.ALREADY_EXISTS:case Ne.PERMISSION_DENIED:case Ne.FAILED_PRECONDITION:case Ne.ABORTED:case Ne.OUT_OF_RANGE:case Ne.UNIMPLEMENTED:case Ne.DATA_LOSS:return!0}}function Xs(l){if(void 0===l)return Et("GRPC error has no .code"),Ne.UNKNOWN;switch(l){case oi.OK:return Ne.OK;case oi.CANCELLED:return Ne.CANCELLED;case oi.UNKNOWN:return Ne.UNKNOWN;case oi.DEADLINE_EXCEEDED:return Ne.DEADLINE_EXCEEDED;case oi.RESOURCE_EXHAUSTED:return Ne.RESOURCE_EXHAUSTED;case oi.INTERNAL:return Ne.INTERNAL;case oi.UNAVAILABLE:return Ne.UNAVAILABLE;case oi.UNAUTHENTICATED:return Ne.UNAUTHENTICATED;case oi.INVALID_ARGUMENT:return Ne.INVALID_ARGUMENT;case oi.NOT_FOUND:return Ne.NOT_FOUND;case oi.ALREADY_EXISTS:return Ne.ALREADY_EXISTS;case oi.PERMISSION_DENIED:return Ne.PERMISSION_DENIED;case oi.FAILED_PRECONDITION:return Ne.FAILED_PRECONDITION;case oi.ABORTED:return Ne.ABORTED;case oi.OUT_OF_RANGE:return Ne.OUT_OF_RANGE;case oi.UNIMPLEMENTED:return Ne.UNIMPLEMENTED;case oi.DATA_LOSS:return Ne.DATA_LOSS;default:return bt()}}(Yn=oi||(oi={}))[Yn.OK=0]="OK",Yn[Yn.CANCELLED=1]="CANCELLED",Yn[Yn.UNKNOWN=2]="UNKNOWN",Yn[Yn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yn[Yn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yn[Yn.NOT_FOUND=5]="NOT_FOUND",Yn[Yn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yn[Yn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yn[Yn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yn[Yn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yn[Yn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yn[Yn.ABORTED=10]="ABORTED",Yn[Yn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yn[Yn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yn[Yn.INTERNAL=13]="INTERNAL",Yn[Yn.UNAVAILABLE=14]="UNAVAILABLE",Yn[Yn.DATA_LOSS=15]="DATA_LOSS";function va(){return new TextEncoder}const Vo=new Ae([4294967295,4294967295],0);function Ps(l){const e=va().encode(l),r=new xe;return r.update(e),new Uint8Array(r.digest())}function xu(l){const e=new DataView(l.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),d=e.getUint32(8,!0),y=e.getUint32(12,!0);return[new Ae([r,s],0),new Ae([d,y],0)]}class Ml{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new aa(`Invalid padding: ${r}`);if(s<0)throw new aa(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new aa(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new aa(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Ae.fromNumber(this.Ie)}Ee(e,r,s){let d=e.add(r.multiply(Ae.fromNumber(s)));return 1===d.compare(Vo)&&(d=new Ae([d.getBits(0),d.getBits(1)],0)),d.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=Ps(e),[s,d]=xu(r);for(let y=0;y<this.hashCount;y++){const b=this.Ee(s,d,y);if(!this.de(b))return!1}return!0}static create(e,r,s){const d=e%8==0?0:8-e%8,y=new Uint8Array(Math.ceil(e/8)),b=new Ml(y,d,r);return s.forEach(R=>b.insert(R)),b}insert(e){if(0===this.Ie)return;const r=Ps(e),[s,d]=xu(r);for(let y=0;y<this.hashCount;y++){const b=this.Ee(s,d,y);this.Ae(b)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class aa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rs{constructor(e,r,s,d,y){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=d,this.resolvedLimboDocuments=y}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const d=new Map;return d.set(e,Zc.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new Rs(Zt.min(),d,new Br(qt),Cr(),sr())}}class Zc{constructor(e,r,s,d,y){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=d,this.removedDocuments=y}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new Zc(s,r,sr(),sr(),sr())}}class dc{constructor(e,r,s,d){this.Re=e,this.removedTargetIds=r,this.key=s,this.Ve=d}}class Ou{constructor(e,r){this.targetId=e,this.me=r}}class fo{constructor(e,r,s=ni.EMPTY_BYTE_STRING,d=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=d}}class Uo{constructor(){this.fe=0,this.ge=Mh(),this.pe=ni.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=sr(),r=sr(),s=sr();return this.ge.forEach((d,y)=>{switch(y){case 0:e=e.add(d);break;case 2:r=r.add(d);break;case 1:s=s.add(d);break;default:bt()}}),new Zc(this.pe,this.ye,e,r,s)}ve(){this.we=!1,this.ge=Mh()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Nt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Bo{constructor(e){this.Le=e,this.Be=new Map,this.ke=Cr(),this.qe=Dd(),this.Qe=new Br(qt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const s=this.Ge(r);switch(e.state){case 0:this.ze(r)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.ve(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),s.De(e.resumeToken));break;default:bt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((s,d)=>{this.ze(d)&&r(d)})}He(e){const r=e.targetId,s=e.me.count,d=this.Je(r);if(d){const y=d.target;if(Bi(y))if(0===s){const b=new kt(y.path);this.Ue(r,b,Nn.newNoDocument(b,Zt.min()))}else Nt(1===s);else{const b=this.Ye(r);if(b!==s){const R=this.Ze(e),F=R?this.Xe(R,e,b):1;0!==F&&(this.je(r),this.Qe=this.Qe.insert(r,2===F?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:d=0},hashCount:y=0}=r;let b,R;try{b=os(s).toUint8Array()}catch(F){if(F instanceof Gi)return $t("Decoding the base64 bloom filter in existence filter failed ("+F.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw F}try{R=new Ml(b,d,y)}catch(F){return $t(F instanceof aa?"BloomFilter error: ":"Applying bloom filter failed: ",F),null}return 0===R.Ie?null:R}Xe(e,r,s){return r.me.count===s-this.nt(e,r.targetId)?0:2}nt(e,r){const s=this.Le.getRemoteKeysForTarget(r);let d=0;return s.forEach(y=>{const b=this.Le.tt(),R=`projects/${b.projectId}/databases/${b.database}/documents/${y.path.canonicalString()}`;e.mightContain(R)||(this.Ue(r,y,null),d++)}),d}rt(e){const r=new Map;this.Be.forEach((y,b)=>{const R=this.Je(b);if(R){if(y.current&&Bi(R.target)){const F=new kt(R.target.path);null!==this.ke.get(F)||this.it(b,F)||this.Ue(b,F,Nn.newNoDocument(F,e))}y.be&&(r.set(b,y.Ce()),y.ve())}});let s=sr();this.qe.forEach((y,b)=>{let R=!0;b.forEachWhile(F=>{const Y=this.Je(F);return!Y||"TargetPurposeLimboResolution"===Y.purpose||(R=!1,!1)}),R&&(s=s.add(y))}),this.ke.forEach((y,b)=>b.setReadTime(e));const d=new Rs(e,r,this.Qe,this.ke,s);return this.ke=Cr(),this.qe=Dd(),this.Qe=new Br(qt),d}$e(e,r){if(!this.ze(e))return;const s=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,s),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,s){if(!this.ze(e))return;const d=this.Ge(e);this.it(e,r)?d.Fe(r,1):d.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),s&&(this.ke=this.ke.insert(r,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Uo,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Rr(qt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||ge("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Uo),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Dd(){return new Br(kt.comparator)}function Mh(){return new Br(kt.comparator)}const Jf={asc:"ASCENDING",desc:"DESCENDING"},s_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xn={and:"AND",or:"OR"};class Sd{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Kc(l,e){return l.useProto3Json||he(e)?e:{value:e}}function Ha(l,e){return l.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ph(l,e){return l.useProto3Json?e.toBase64():e.toUint8Array()}function Md(l,e){return Ha(l,e.toTimestamp())}function bi(l){return Nt(!!l),Zt.fromTimestamp(function(r){const s=ss(r);return new Dn(s.seconds,s.nanos)}(l))}function $a(l,e){return Rh(l,e).canonicalString()}function Rh(l,e){const r=(d=l,new wn(["projects",d.projectId,"databases",d.database])).child("documents");var d;return void 0===e?r:r.child(e)}function Xf(l){const e=wn.fromString(l);return Nt(Ce(e)),e}function Pd(l,e){return $a(l.databaseId,e.path)}function jo(l,e){const r=Xf(e);if(r.get(1)!==l.databaseId.projectId)throw new _e(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+l.databaseId.projectId);if(r.get(3)!==l.databaseId.database)throw new _e(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+l.databaseId.database);return new kt(Rd(r))}function Eg(l,e){return $a(l.databaseId,e)}function Ot(l){const e=Xf(l);return 4===e.length?wn.emptyPath():Rd(e)}function Sr(l){return new wn(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function Rd(l){return Nt(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function hc(l,e,r){return{name:Pd(l,e),fields:r.value.mapValue.fields}}function hs(l,e,r){const s=jo(l,e.name),d=bi(e.updateTime),y=e.createTime?bi(e.createTime):Zt.min(),b=new or({mapValue:{fields:e.fields}}),R=Nn.newFoundDocument(s,d,y,b);return r&&R.setHasCommittedMutations(),r?R.setHasCommittedMutations():R}function bs(l,e){let r;if(e instanceof yn)r={update:hc(l,e.key,e.value)};else if(e instanceof Zr)r={delete:Pd(l,e.key)};else if(e instanceof wr)r={update:hc(l,e.key,e.data),updateMask:ae(e.fieldMask)};else{if(!(e instanceof Nr))return bt();r={verify:Pd(l,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(y,b){const R=b.transform;if(R instanceof qc)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(R instanceof ia)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:R.elements}};if(R instanceof Lo)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:R.elements}};if(R instanceof Ba)return{fieldPath:b.field.canonicalString(),increment:R.Pe};throw bt()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(y=e.precondition).updateTime?{updateTime:Md(l,y.updateTime)}:void 0!==y.exists?{exists:y.exists}:bt()),r;var y}function Yc(l,e){const r=e.currentDocument?void 0!==(y=e.currentDocument).updateTime?Qr.updateTime(bi(y.updateTime)):void 0!==y.exists?Qr.exists(y.exists):Qr.none():Qr.none(),s=e.updateTransforms?e.updateTransforms.map(d=>function(b,R){let F=null;"setToServerValue"in R?(Nt("REQUEST_TIME"===R.setToServerValue),F=new qc):"appendMissingElements"in R?F=new ia(R.appendMissingElements.values||[]):"removeAllFromArray"in R?F=new Lo(R.removeAllFromArray.values||[]):"increment"in R?F=new Ba(b,R.increment):bt();const Y=Hn.fromServerFormat(R.fieldPath);return new ja(Y,F)}(l,d)):[];var y;if(e.update){const d=jo(l,e.update.name),y=new or({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new Ii((e.updateMask.fieldPaths||[]).map(ie=>Hn.fromServerFormat(ie)));return new wr(d,y,b,r,s)}return new yn(d,y,r,s)}if(e.delete){const d=jo(l,e.delete);return new Zr(d,r)}if(e.verify){const d=jo(l,e.verify);return new Nr(d,r)}return bt()}function xd(l,e){return{documents:[Eg(l,e.path)]}}function Od(l,e){const r={structuredQuery:{}},s=e.path;let d;null!==e.collectionGroup?(d=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(d=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=Eg(l,d);const y=function(Y){if(0!==Y.length)return G(ar.create(Y,"and"))}(e.filters);y&&(r.structuredQuery.where=y);const b=function(Y){if(0!==Y.length)return Y.map(ie=>{return{field:w((ke=ie).field),direction:Ea(ke.dir)};var ke})}(e.orderBy);b&&(r.structuredQuery.orderBy=b);const R=Kc(l,e.limit);return null!==R&&(r.structuredQuery.limit=R),e.startAt&&(r.structuredQuery.startAt={before:(Y=e.startAt).inclusive,values:Y.position}),e.endAt&&(r.structuredQuery.endAt=function(Y){return{before:!Y.inclusive,values:Y.position}}(e.endAt)),{_t:r,parent:d};var Y}function Hs(l){let e=Ot(l.parent);const r=l.structuredQuery,s=r.from?r.from.length:0;let d=null;if(s>0){Nt(1===s);const ie=r.from[0];ie.allDescendants?d=ie.collectionId:e=e.child(ie.collectionId)}let y=[];r.where&&(y=function(ye){const ke=Nd(ye);return ke instanceof ar&&na(ke)?ke.getFilters():[ke]}(r.where));let b=[];r.orderBy&&(b=r.orderBy.map(ke=>{return new Es(k((xt=ke).field),function(Vt){switch(Vt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(xt.direction));var xt}));let R=null;r.limit&&(R=function(ye){let ke;return ke="object"==typeof ye?ye.value:ye,he(ke)?null:ke}(r.limit));let F=null;var ye;r.startAt&&(F=new es((ye=r.startAt).values||[],!!ye.before));let Y=null;return r.endAt&&(Y=function(ye){return new es(ye.values||[],!ye.before)}(r.endAt)),ce(e,d,b,y,R,"F",F,Y)}function Nd(l){return void 0!==l.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=k(r.unaryFilter.field);return Kn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const d=k(r.unaryFilter.field);return Kn.create(d,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const y=k(r.unaryFilter.field);return Kn.create(y,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const b=k(r.unaryFilter.field);return Kn.create(b,"!=",{nullValue:"NULL_VALUE"});default:return bt()}}(l):void 0!==l.fieldFilter?Kn.create(k((r=l).fieldFilter.field),function(d){switch(d){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bt()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==l.compositeFilter?function(r){return ar.create(r.compositeFilter.filters.map(s=>Nd(s)),function(d){switch(d){case"AND":return"and";case"OR":return"or";default:return bt()}}(r.compositeFilter.op))}(l):bt();var r}function Ea(l){return Jf[l]}function S(l){return s_[l]}function N(l){return Xn[l]}function w(l){return{fieldPath:l.canonicalString()}}function k(l){return Hn.fromServerFormat(l.fieldPath)}function G(l){return l instanceof Kn?function(r){if("=="===r.op){if(ys(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NAN"}};if(gi(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(ys(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NOT_NAN"}};if(gi(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:w(r.field),op:S(r.op),value:r.value}}}(l):l instanceof ar?function(r){const s=r.getFilters().map(d=>G(d));return 1===s.length?s[0]:{compositeFilter:{op:N(r.op),filters:s}}}(l):bt()}function ae(l){const e=[];return l.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Ce(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}class ct{constructor(e,r,s,d,y=Zt.min(),b=Zt.min(),R=ni.EMPTY_BYTE_STRING,F=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=d,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=R,this.expectedCount=F}withSequenceNumber(e){return new ct(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ct(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ct(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ct(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class dt{constructor(e){this.ct=e}}function _r(l,e){const r=e.key,s={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:qr(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Pd(y=l.ct,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:Ha(y,b.version.toTimestamp()),createTime:Ha(y,b.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:r.path.toArray(),readTime:er(e.version)};else{if(!e.isUnknownDocument())return bt();s.unknownDocument={path:r.path.toArray(),version:er(e.version)}}var y,b;return s}function qr(l){const e=l.toTimestamp();return[e.seconds,e.nanoseconds]}function er(l){const e=l.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ts(l){const e=new Dn(l.seconds,l.nanoseconds);return Zt.fromTimestamp(e)}function eo(l,e){const r=(e.baseMutations||[]).map(y=>Yc(l.ct,y));for(let y=0;y<e.mutations.length-1;++y)y+1<e.mutations.length&&void 0!==e.mutations[y+1].transform&&(e.mutations[y].updateTransforms=e.mutations[y+1].transform.fieldTransforms,e.mutations.splice(y+1,1),++y);const s=e.mutations.map(y=>Yc(l.ct,y)),d=Dn.fromMillis(e.localWriteTimeMs);return new Oi(e.batchId,d,r,s)}function po(l){const e=Ts(l.readTime),r=void 0!==l.lastLimboFreeSnapshotVersion?Ts(l.lastLimboFreeSnapshotVersion):Zt.min();let s;return s=void 0!==l.query.documents?(Nt(1===(y=l.query).documents.length),si(Me(Ot(y.documents[0])))):function(y){return si(Hs(y))}(l.query),new ct(s,l.targetId,"TargetPurposeListen",l.lastListenSequenceNumber,e,r,ni.fromBase64String(l.resumeToken));var y}function pc(l,e){const r=er(e.snapshotVersion),s=er(e.lastLimboFreeSnapshotVersion);let d;d=Bi(e.target)?xd(l.ct,e.target):Od(l.ct,e.target)._t;const y=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Pn(e.target),readTime:r,resumeToken:y,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:d}}function go(l){const e=Hs({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?sc(e,e.limit,"L"):e}function ku(l,e){return new is(e.largestBatchId,Yc(l.ct,e.overlayMutation))}function $s(l,e){const r=e.path.lastSegment();return[l,Rt(e.path.popLast()),r]}function Ia(l,e,r,s){return{indexId:l,uid:e,sequenceNumber:r,readTime:er(s.readTime),documentKey:Rt(s.documentKey.path),largestBatchId:s.largestBatchId}}class pi{getBundleMetadata(e,r){return ba(e).get(r).next(s=>{if(s)return{id:(y=s).bundleId,createTime:Ts(y.createTime),version:y.version};var y})}saveBundleMetadata(e,r){return ba(e).put({bundleId:(d=r).id,createTime:er(bi(d.createTime)),version:d.version});var d}getNamedQuery(e,r){return Ig(e).get(r).next(s=>{if(s)return{name:(y=s).name,query:go(y.bundledQuery),readTime:Ts(y.readTime)};var y})}saveNamedQuery(e,r){return Ig(e).put({name:(d=r).name,readTime:er(bi(d.readTime)),bundledQuery:d.bundledQuery});var d}}function ba(l){return Pr(l,"bundles")}function Ig(l){return Pr(l,"namedQueries")}class kd{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new kd(e,r.uid||"")}getOverlay(e,r){return Fu(e).get($s(this.userId,r)).next(s=>s?ku(this.serializer,s):null)}getOverlays(e,r){const s=Js();return qe.forEach(r,d=>this.getOverlay(e,d).next(y=>{null!==y&&s.set(d,y)})).next(()=>s)}saveOverlays(e,r,s){const d=[];return s.forEach((y,b)=>{const R=new is(r,b);d.push(this.ht(e,R))}),qe.waitFor(d)}removeOverlaysForBatchId(e,r,s){const d=new Set;r.forEach(b=>d.add(Rt(b.getCollectionPath())));const y=[];return d.forEach(b=>{const R=IDBKeyRange.bound([this.userId,b,s],[this.userId,b,s+1],!1,!0);y.push(Fu(e).j("collectionPathOverlayIndex",R))}),qe.waitFor(y)}getOverlaysForCollection(e,r,s){const d=Js(),y=Rt(r),b=IDBKeyRange.bound([this.userId,y,s],[this.userId,y,Number.POSITIVE_INFINITY],!0);return Fu(e).U("collectionPathOverlayIndex",b).next(R=>{for(const F of R){const Y=ku(this.serializer,F);d.set(Y.getKey(),Y)}return d})}getOverlaysForCollectionGroup(e,r,s,d){const y=Js();let b;const R=IDBKeyRange.bound([this.userId,r,s],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Fu(e).J({index:"collectionGroupOverlayIndex",range:R},(F,Y,ie)=>{const ye=ku(this.serializer,Y);y.size()<d||ye.largestBatchId===b?(y.set(ye.getKey(),ye),b=ye.largestBatchId):ie.done()}).next(()=>y)}ht(e,r){return Fu(e).put(function(d,y,b){const[R,F,Y]=$s(y,b.mutation.key);return{userId:y,collectionPath:F,documentId:Y,collectionGroup:b.mutation.key.getCollectionGroup(),largestBatchId:b.largestBatchId,overlayMutation:bs(d.ct,b.mutation)}}(this.serializer,this.userId,r))}}function Fu(l){return Pr(l,"documentOverlays")}class za{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(ri(e.integerValue));else if("doubleValue"in e){const s=ri(e.doubleValue);isNaN(s)?this.Et(r,13):(this.Et(r,15),Fe(s)?r.dt(0):r.dt(s))}else if("timestampValue"in e){let s=e.timestampValue;this.Et(r,20),"string"==typeof s&&(s=ss(s)),r.At(`${s.seconds||""}`),r.dt(s.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(os(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.Et(r,45),r.dt(s.latitude||0),r.dt(s.longitude||0)}else"mapValue"in e?rr(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):bt()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const s=e.fields||{};this.Et(r,55);for(const d of Object.keys(s))this.Rt(d,r),this.It(s[d],r)}wt(e,r){const s=e.values||[];this.Et(r,50);for(const d of s)this.It(d,r)}gt(e,r){this.Et(r,37),kt.fromName(e).path.forEach(s=>{this.Et(r,60),this.St(s,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}function ep(l){if(0===l)return 8;let e=0;return!(l>>4)&&(e+=4,l<<=4),!(l>>6)&&(e+=2,l<<=2),!(l>>7)&&(e+=1),e}function Rl(l){const e=64-function(s){let d=0;for(let y=0;y<8;++y){const b=ep(255&s[y]);if(d+=b,8!==b)break}return d}(l);return Math.ceil(e/8)}za.bt=new za;class ca{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ct(s.value),s=r.next();this.vt()}Ft(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Mt(s.value),s=r.next();this.xt()}Ot(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Ct(s);else if(s<2048)this.Ct(960|s>>>6),this.Ct(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s);else{const d=r.codePointAt(0);this.Ct(240|d>>>18),this.Ct(128|63&d>>>12),this.Ct(128|63&d>>>6),this.Ct(128|63&d)}}this.vt()}Nt(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Mt(s);else if(s<2048)this.Mt(960|s>>>6),this.Mt(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s);else{const d=r.codePointAt(0);this.Mt(240|d>>>18),this.Mt(128|63&d>>>12),this.Mt(128|63&d>>>6),this.Mt(128|63&d)}}this.xt()}Lt(e){const r=this.Bt(e),s=Rl(r);this.kt(1+s),this.buffer[this.position++]=255&s;for(let d=r.length-s;d<r.length;++d)this.buffer[this.position++]=255&r[d]}qt(e){const r=this.Bt(e),s=Rl(r);this.kt(1+s),this.buffer[this.position++]=~(255&s);for(let d=r.length-s;d<r.length;++d)this.buffer[this.position++]=~(255&r[d])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const r=function(y){const b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,y,!1),new Uint8Array(b.buffer)}(e),s=0!=(128&r[0]);r[0]^=s?255:128;for(let d=1;d<r.length;++d)r[d]^=s?255:0;return r}Ct(e){const r=255&e;0===r?(this.Kt(0),this.Kt(255)):255===r?(this.Kt(255),this.Kt(0)):this.Kt(r)}Mt(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const r=e+this.position;if(r<=this.buffer.length)return;let s=2*this.buffer.length;s<r&&(s=r);const d=new Uint8Array(s);d.set(this.buffer),this.buffer=d}}class Ta{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class xh{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Ca{constructor(){this.Gt=new ca,this.zt=new Ta(this.Gt),this.jt=new xh(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class wa{constructor(e,r,s,d){this.indexId=e,this.documentKey=r,this.arrayValue=s,this.directionalValue=d}Jt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(r);return s.set(this.directionalValue,0),r!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new wa(this.indexId,this.documentKey,this.arrayValue,s)}}function Mo(l,e){let r=l.indexId-e.indexId;return 0!==r?r:(r=Fd(l.arrayValue,e.arrayValue),0!==r?r:(r=Fd(l.directionalValue,e.directionalValue),0!==r?r:kt.comparator(l.documentKey,e.documentKey)))}function Fd(l,e){for(let r=0;r<l.length&&r<e.length;++r){const s=l[r]-e[r];if(0!==s)return s}return l.length-e.length}class xl{constructor(e){this.Yt=new Rr((r,s)=>Hn.comparator(r.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const r of e.filters){const s=r;s.isInequality()?this.Yt=this.Yt.add(s):this.Xt.push(s)}}get en(){return this.Yt.size>1}tn(e){if(Nt(e.collectionGroup===this.collectionId),this.en)return!1;const r=Fn(e);if(void 0!==r&&!this.nn(r))return!1;const s=An(e);let d=new Set,y=0,b=0;for(;y<s.length&&this.nn(s[y]);++y)d=d.add(s[y].fieldPath.canonicalString());if(y===s.length)return!0;if(this.Yt.size>0){const R=this.Yt.getIterator().getNext();if(!d.has(R.field.canonicalString())){const F=s[y];if(!this.rn(R,F)||!this.sn(this.Zt[b++],F))return!1}++y}for(;y<s.length;++y)if(b>=this.Zt.length||!this.sn(this.Zt[b++],s[y]))return!1;return!0}on(){if(this.en)return null;let e=new Rr(Hn.comparator);const r=[];for(const s of this.Xt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)r.push(new Dr(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),r.push(new Dr(s.field,0))}for(const s of this.Zt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),r.push(new Dr(s.field,"asc"===s.dir?0:1)));return new vn(vn.UNKNOWN_ID,this.collectionId,r,Bn.empty())}nn(e){for(const r of this.Xt)if(this.rn(r,e))return!0;return!1}rn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function Lu(l){var e,r;if(Nt(l instanceof Kn||l instanceof ar),l instanceof Kn){if(l instanceof St){const d=(null===(r=null===(e=l.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(y=>Kn.create(l.field,"==",y)))||[];return ar.create(d,"or")}return l}const s=l.filters.map(d=>Lu(d));return ar.create(s,l.op)}function $o(l){if(0===l.getFilters().length)return[];const e=to(Lu(l));return Nt(tp(e)),Ga(e)||Vu(e)?[e]:e.getFilters()}function Ga(l){return l instanceof Kn}function Vu(l){return l instanceof ar&&na(l)}function tp(l){return Ga(l)||Vu(l)||function(r){if(r instanceof ar&&ir(r)){for(const s of r.getFilters())if(!Ga(s)&&!Vu(s))return!1;return!0}return!1}(l)}function to(l){if(Nt(l instanceof Kn||l instanceof ar),l instanceof Kn)return l;if(1===l.filters.length)return to(l.filters[0]);const e=l.filters.map(s=>to(s));let r=ar.create(e,l.op);return r=Ol(r),tp(r)?r:(Nt(r instanceof ar),Nt(Ms(r)),Nt(r.filters.length>1),r.filters.reduce((s,d)=>Oh(s,d)))}function Oh(l,e){let r;return Nt(l instanceof Kn||l instanceof ar),Nt(e instanceof Kn||e instanceof ar),r=l instanceof Kn?e instanceof Kn?ar.create([l,e],"and"):Ld(l,e):e instanceof Kn?Ld(e,l):function(d,y){if(Nt(d.filters.length>0&&y.filters.length>0),Ms(d)&&Ms(y))return Is(d,y.getFilters());const b=ir(d)?d:y,R=ir(d)?y:d,F=b.filters.map(Y=>Oh(Y,R));return ar.create(F,"or")}(l,e),Ol(r)}function Ld(l,e){if(Ms(e))return Is(e,l.getFilters());{const r=e.filters.map(s=>Oh(l,s));return ar.create(r,"or")}}function Ol(l){if(Nt(l instanceof Kn||l instanceof ar),l instanceof Kn)return l;const e=l.getFilters();if(1===e.length)return Ol(e[0]);if(Ki(l))return l;const r=e.map(d=>Ol(d)),s=[];return r.forEach(d=>{d instanceof Kn?s.push(d):d instanceof ar&&(d.op===l.op?s.push(...d.filters):s.push(d))}),1===s.length?s[0]:ar.create(s,l.op)}class xy{constructor(){this._n=new Vd}addToCollectionParentIndex(e,r){return this._n.add(r),qe.resolve()}getCollectionParents(e,r){return qe.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return qe.resolve()}deleteFieldIndex(e,r){return qe.resolve()}deleteAllFieldIndexes(e){return qe.resolve()}createTargetIndexes(e,r){return qe.resolve()}getDocumentsMatchingTarget(e,r){return qe.resolve(null)}getIndexType(e,r){return qe.resolve(0)}getFieldIndexes(e,r){return qe.resolve([])}getNextCollectionGroupToUpdate(e){return qe.resolve(null)}getMinOffset(e,r){return qe.resolve(sn.min())}getMinOffsetFromCollectionGroup(e,r){return qe.resolve(sn.min())}updateCollectionGroup(e,r,s){return qe.resolve()}updateIndexEntries(e,r){return qe.resolve()}}class Vd{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),d=this.index[r]||new Rr(wn.comparator),y=!d.has(s);return this.index[r]=d.add(s),y}has(e){const r=e.lastSegment(),s=e.popLast(),d=this.index[r];return d&&d.has(s)}getEntries(e){return(this.index[e]||new Rr(wn.comparator)).toArray()}}const Nl=new Uint8Array(0);class kl{constructor(e,r){this.databaseId=r,this.an=new Vd,this.un=new rs(s=>Pn(s),(s,d)=>tr(s,d)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.an.has(r)){const s=r.lastSegment(),d=r.popLast();e.addOnCommittedListener(()=>{this.an.add(r)});const y={collectionId:s,parent:Rt(d)};return bg(e).put(y)}return qe.resolve()}getCollectionParents(e,r){const s=[],d=IDBKeyRange.bound([r,""],[Cn(r),""],!1,!0);return bg(e).U(d).next(y=>{for(const b of y){if(b.collectionId!==r)break;s.push(an(b.parent))}return s})}addFieldIndex(e,r){const s=Fl(e),d={indexId:(R=r).indexId,collectionGroup:R.collectionGroup,fields:R.fields.map(F=>[F.fieldPath.canonicalString(),F.kind])};var R;delete d.indexId;const y=s.add(d);if(r.indexState){const b=la(e);return y.next(R=>{b.put(Ia(R,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return y.next()}deleteFieldIndex(e,r){const s=Fl(e),d=la(e),y=Po(e);return s.delete(r.indexId).next(()=>d.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>y.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Fl(e),s=Po(e),d=la(e);return r.j().next(()=>s.j()).next(()=>d.j())}createTargetIndexes(e,r){return qe.forEach(this.cn(r),s=>this.getIndexType(e,s).next(d=>{if(0===d||1===d){const y=new xl(s).on();if(null!=y)return this.addFieldIndex(e,y)}}))}getDocumentsMatchingTarget(e,r){const s=Po(e);let d=!0;const y=new Map;return qe.forEach(this.cn(r),b=>this.ln(e,b).next(R=>{d&&(d=!!R),y.set(b,R)})).next(()=>{if(d){let b=sr();const R=[];return qe.forEach(y,(F,Y)=>{var Rn;ge("IndexedDbIndexManager",`Using index ${Rn=F,`id=${Rn.indexId}|cg=${Rn.collectionGroup}|f=${Rn.fields.map(mr=>`${mr.fieldPath}:${mr.kind}`).join(",")}`} to execute ${Pn(r)}`);const ie=function(Rn,mr){const Wr=Fn(mr);if(void 0===Wr)return null;for(const Er of us(Rn,Wr.fieldPath))switch(Er.op){case"array-contains-any":return Er.value.arrayValue.values||[];case"array-contains":return[Er.value]}return null}(Y,F),ye=function(Rn,mr){const Wr=new Map;for(const Er of An(mr))for(const We of us(Rn,Er.fieldPath))switch(We.op){case"==":case"in":Wr.set(Er.fieldPath.canonicalString(),We.value);break;case"not-in":case"!=":return Wr.set(Er.fieldPath.canonicalString(),We.value),Array.from(Wr.values())}return null}(Y,F),ke=function(Rn,mr){const Wr=[];let Er=!0;for(const We of An(mr)){const Re=0===We.kind?q(Rn,We.fieldPath,Rn.startAt):ee(Rn,We.fieldPath,Rn.startAt);Wr.push(Re.value),Er&&(Er=Re.inclusive)}return new es(Wr,Er)}(Y,F),ot=function(Rn,mr){const Wr=[];let Er=!0;for(const We of An(mr)){const Re=0===We.kind?ee(Rn,We.fieldPath,Rn.endAt):q(Rn,We.fieldPath,Rn.endAt);Wr.push(Re.value),Er&&(Er=Re.inclusive)}return new es(Wr,Er)}(Y,F),xt=this.hn(F,Y,ke),Yt=this.hn(F,Y,ot),Vt=this.Pn(F,Y,ye),Tn=this.In(F.indexId,ie,xt,ke.inclusive,Yt,ot.inclusive,Vt);return qe.forEach(Tn,$n=>s.G($n,r.limit).next(Rn=>{Rn.forEach(mr=>{const Wr=kt.fromSegments(mr.documentKey);b.has(Wr)||(b=b.add(Wr),R.push(Wr))})}))}).next(()=>R)}return qe.resolve(null)})}cn(e){let r=this.un.get(e);return r||(r=0===e.filters.length?[e]:$o(ar.create(e.filters,"and")).map(s=>Wn(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,r),r)}In(e,r,s,d,y,b,R){const F=(null!=r?r.length:1)*Math.max(s.length,y.length),Y=F/(null!=r?r.length:1),ie=[];for(let ye=0;ye<F;++ye){const ke=r?this.Tn(r[ye/Y]):Nl,ot=this.En(e,ke,s[ye%Y],d),xt=this.dn(e,ke,y[ye%Y],b),Yt=R.map(Vt=>this.En(e,ke,Vt,!0));ie.push(...this.createRange(ot,xt,Yt))}return ie}En(e,r,s,d){const y=new wa(e,kt.empty(),r,s);return d?y:y.Jt()}dn(e,r,s,d){const y=new wa(e,kt.empty(),r,s);return d?y.Jt():y}ln(e,r){const s=new xl(r),d=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,d).next(y=>{let b=null;for(const R of y)s.tn(R)&&(!b||R.fields.length>b.fields.length)&&(b=R);return b})}getIndexType(e,r){let s=2;const d=this.cn(r);return qe.forEach(d,y=>this.ln(e,y).next(b=>{b?0!==s&&b.fields.length<function(F){let Y=new Rr(Hn.comparator),ie=!1;for(const ye of F.filters)for(const ke of ye.getFlattenedFilters())ke.field.isKeyField()||("array-contains"===ke.op||"array-contains-any"===ke.op?ie=!0:Y=Y.add(ke.field));for(const ye of F.orderBy)ye.field.isKeyField()||(Y=Y.add(ye.field));return Y.size+(ie?1:0)}(y)&&(s=1):s=0})).next(()=>null!==r.limit&&d.length>1&&2===s?1:s)}An(e,r){const s=new Ca;for(const d of An(e)){const y=r.data.field(d.fieldPath);if(null==y)return null;const b=s.Ht(d.kind);za.bt.Pt(y,b)}return s.Wt()}Tn(e){const r=new Ca;return za.bt.Pt(e,r.Ht(0)),r.Wt()}Rn(e,r){const s=new Ca;return za.bt.Pt(Xt(this.databaseId,r),s.Ht(function(y){const b=An(y);return 0===b.length?0:b[b.length-1].kind}(e))),s.Wt()}Pn(e,r,s){if(null===s)return[];let d=[];d.push(new Ca);let y=0;for(const b of An(e)){const R=s[y++];for(const F of d)if(this.Vn(r,b.fieldPath)&&gr(R))d=this.mn(d,b,R);else{const Y=F.Ht(b.kind);za.bt.Pt(R,Y)}}return this.fn(d)}hn(e,r,s){return this.Pn(e,r,s.position)}fn(e){const r=[];for(let s=0;s<e.length;++s)r[s]=e[s].Wt();return r}mn(e,r,s){const d=[...e],y=[];for(const b of s.arrayValue.values||[])for(const R of d){const F=new Ca;F.seed(R.Wt()),za.bt.Pt(b,F.Ht(r.kind)),y.push(F)}return y}Vn(e,r){return!!e.filters.find(s=>s instanceof Kn&&s.field.isEqual(r)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,r){const s=Fl(e),d=la(e);return(r?s.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):s.U()).next(y=>{const b=[];return qe.forEach(y,R=>d.get([R.indexId,this.uid]).next(F=>{b.push(function(ie,ye){const ke=ye?new Bn(ye.sequenceNumber,new sn(Ts(ye.readTime),new kt(an(ye.documentKey)),ye.largestBatchId)):Bn.empty(),ot=ie.fields.map(([xt,Yt])=>new Dr(Hn.fromServerFormat(xt),Yt));return new vn(ie.indexId,ie.collectionGroup,ot,ke)}(R,F))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((s,d)=>{const y=s.indexState.sequenceNumber-d.indexState.sequenceNumber;return 0!==y?y:qt(s.collectionGroup,d.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,s){const d=Fl(e),y=la(e);return this.gn(e).next(b=>d.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(R=>qe.forEach(R,F=>y.put(Ia(F.indexId,this.uid,b,s)))))}updateIndexEntries(e,r){const s=new Map;return qe.forEach(r,(d,y)=>{const b=s.get(d.collectionGroup);return(b?qe.resolve(b):this.getFieldIndexes(e,d.collectionGroup)).next(R=>(s.set(d.collectionGroup,R),qe.forEach(R,F=>this.pn(e,d,F).next(Y=>{const ie=this.yn(y,F);return Y.isEqual(ie)?qe.resolve():this.wn(e,y,F,Y,ie)}))))})}Sn(e,r,s,d){return Po(e).put({indexId:d.indexId,uid:this.uid,arrayValue:d.arrayValue,directionalValue:d.directionalValue,orderedDocumentKey:this.Rn(s,r.key),documentKey:r.key.path.toArray()})}bn(e,r,s,d){return Po(e).delete([d.indexId,this.uid,d.arrayValue,d.directionalValue,this.Rn(s,r.key),r.key.path.toArray()])}pn(e,r,s){const d=Po(e);let y=new Rr(Mo);return d.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.Rn(s,r)])},(b,R)=>{y=y.add(new wa(s.indexId,r,R.arrayValue,R.directionalValue))}).next(()=>y)}yn(e,r){let s=new Rr(Mo);const d=this.An(r,e);if(null==d)return s;const y=Fn(r);if(null!=y){const b=e.data.field(y.fieldPath);if(gr(b))for(const R of b.arrayValue.values||[])s=s.add(new wa(r.indexId,e.key,this.Tn(R),d))}else s=s.add(new wa(r.indexId,e.key,Nl,d));return s}wn(e,r,s,d,y){ge("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const b=[];return function(F,Y,ie,ye,ke){const ot=F.getIterator(),xt=Y.getIterator();let Yt=Ss(ot),Vt=Ss(xt);for(;Yt||Vt;){let Tn=!1,$n=!1;if(Yt&&Vt){const Rn=ie(Yt,Vt);Rn<0?$n=!0:Rn>0&&(Tn=!0)}else null!=Yt?$n=!0:Tn=!0;Tn?(ye(Vt),Vt=Ss(xt)):$n?(ke(Yt),Yt=Ss(ot)):(Yt=Ss(ot),Vt=Ss(xt))}}(d,y,Mo,R=>{b.push(this.Sn(e,r,s,R))},R=>{b.push(this.bn(e,r,s,R))}),qe.waitFor(b)}gn(e){let r=1;return la(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,d,y)=>{y.done(),r=d.sequenceNumber+1}).next(()=>r)}createRange(e,r,s){s=s.sort((b,R)=>Mo(b,R)).filter((b,R,F)=>!R||0!==Mo(b,F[R-1]));const d=[];d.push(e);for(const b of s){const R=Mo(b,e),F=Mo(b,r);if(0===R)d[0]=e.Jt();else if(R>0&&F<0)d.push(b),d.push(b.Jt());else if(F>0)break}d.push(r);const y=[];for(let b=0;b<d.length;b+=2){if(this.Dn(d[b],d[b+1]))return[];y.push(IDBKeyRange.bound([d[b].indexId,this.uid,d[b].arrayValue,d[b].directionalValue,Nl,[]],[d[b+1].indexId,this.uid,d[b+1].arrayValue,d[b+1].directionalValue,Nl,[]]))}return y}Dn(e,r){return Mo(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(Tg)}getMinOffset(e,r){return qe.mapArray(this.cn(r),s=>this.ln(e,s).next(d=>d||bt())).next(Tg)}}function bg(l){return Pr(l,"collectionParents")}function Po(l){return Pr(l,"indexEntries")}function Fl(l){return Pr(l,"indexConfiguration")}function la(l){return Pr(l,"indexState")}function Tg(l){Nt(0!==l.length);let e=l[0].indexState.offset,r=e.largestBatchId;for(let s=1;s<l.length;s++){const d=l[s].indexState.offset;fi(d,e)<0&&(e=d),r<d.largestBatchId&&(r=d.largestBatchId)}return new sn(e.readTime,e.documentKey,r)}const Ud={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fs{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new fs(e,fs.DEFAULT_COLLECTION_PERCENTILE,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Uu(l,e,r){const s=l.store("mutations"),d=l.store("documentMutations"),y=[],b=IDBKeyRange.only(r.batchId);let R=0;const F=s.J({range:b},(ie,ye,ke)=>(R++,ke.delete()));y.push(F.next(()=>{Nt(1===R)}));const Y=[];for(const ie of r.mutations){const ye=ui(e,ie.key.path,r.batchId);y.push(d.delete(ye)),Y.push(ie.key)}return qe.waitFor(y).next(()=>Y)}function xs(l){if(!l)return 0;let e;if(l.document)e=l.document;else if(l.unknownDocument)e=l.unknownDocument;else{if(!l.noDocument)throw bt();e=l.noDocument}return JSON.stringify(e).length}fs.DEFAULT_COLLECTION_PERCENTILE=10,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fs.DEFAULT=new fs(41943040,fs.DEFAULT_COLLECTION_PERCENTILE,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fs.DISABLED=new fs(-1,0,0);class Bd{constructor(e,r,s,d){this.userId=e,this.serializer=r,this.indexManager=s,this.referenceDelegate=d,this.Cn={}}static lt(e,r,s,d){Nt(""!==e.uid);const y=e.isAuthenticated()?e.uid:"";return new Bd(y,r,s,d)}checkEmpty(e){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ua(e).J({index:"userMutationsIndex",range:s},(d,y,b)=>{r=!1,b.done()}).next(()=>r)}addMutationBatch(e,r,s,d){const y=gc(e),b=ua(e);return b.add({}).next(R=>{Nt("number"==typeof R);const F=new Oi(R,r,s,d),Y=function(ot,xt,Yt){const Vt=Yt.baseMutations.map($n=>bs(ot.ct,$n)),Tn=Yt.mutations.map($n=>bs(ot.ct,$n));return{userId:xt,batchId:Yt.batchId,localWriteTimeMs:Yt.localWriteTime.toMillis(),baseMutations:Vt,mutations:Tn}}(this.serializer,this.userId,F),ie=[];let ye=new Rr((ke,ot)=>qt(ke.canonicalString(),ot.canonicalString()));for(const ke of d){const ot=ui(this.userId,ke.key.path,R);ye=ye.add(ke.key.path.popLast()),ie.push(b.put(Y)),ie.push(y.put(ot,Ds))}return ye.forEach(ke=>{ie.push(this.indexManager.addToCollectionParentIndex(e,ke))}),e.addOnCommittedListener(()=>{this.Cn[R]=F.keys()}),qe.waitFor(ie).next(()=>F)})}lookupMutationBatch(e,r){return ua(e).get(r).next(s=>s?(Nt(s.userId===this.userId),eo(this.serializer,s)):null)}vn(e,r){return this.Cn[r]?qe.resolve(this.Cn[r]):this.lookupMutationBatch(e,r).next(s=>{if(s){const d=s.keys();return this.Cn[r]=d,d}return null})}getNextMutationBatchAfterBatchId(e,r){const s=r+1,d=IDBKeyRange.lowerBound([this.userId,s]);let y=null;return ua(e).J({index:"userMutationsIndex",range:d},(b,R,F)=>{R.userId===this.userId&&(Nt(R.batchId>=s),y=eo(this.serializer,R)),F.done()}).next(()=>y)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return ua(e).J({index:"userMutationsIndex",range:r,reverse:!0},(d,y,b)=>{s=y.batchId,b.done()}).next(()=>s)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ua(e).U("userMutationsIndex",r).next(s=>s.map(d=>eo(this.serializer,d)))}getAllMutationBatchesAffectingDocumentKey(e,r){const s=xn(this.userId,r.path),d=IDBKeyRange.lowerBound(s),y=[];return gc(e).J({range:d},(b,R,F)=>{const[Y,ie,ye]=b,ke=an(ie);if(Y===this.userId&&r.path.isEqual(ke))return ua(e).get(ye).next(ot=>{if(!ot)throw bt();Nt(ot.userId===this.userId),y.push(eo(this.serializer,ot))});F.done()}).next(()=>y)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Rr(qt);const d=[];return r.forEach(y=>{const b=xn(this.userId,y.path),R=IDBKeyRange.lowerBound(b),F=gc(e).J({range:R},(Y,ie,ye)=>{const[ke,ot,xt]=Y,Yt=an(ot);ke===this.userId&&y.path.isEqual(Yt)?s=s.add(xt):ye.done()});d.push(F)}),qe.waitFor(d).next(()=>this.Fn(e,s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,d=s.length+1,y=xn(this.userId,s),b=IDBKeyRange.lowerBound(y);let R=new Rr(qt);return gc(e).J({range:b},(F,Y,ie)=>{const[ye,ke,ot]=F,xt=an(ke);ye===this.userId&&s.isPrefixOf(xt)?xt.length===d&&(R=R.add(ot)):ie.done()}).next(()=>this.Fn(e,R))}Fn(e,r){const s=[],d=[];return r.forEach(y=>{d.push(ua(e).get(y).next(b=>{if(null===b)throw bt();Nt(b.userId===this.userId),s.push(eo(this.serializer,b))}))}),qe.waitFor(d).next(()=>s)}removeMutationBatch(e,r){return Uu(e._e,this.userId,r).next(s=>(e.addOnCommittedListener(()=>{this.Mn(r.batchId)}),qe.forEach(s,d=>this.referenceDelegate.markPotentiallyOrphaned(e,d))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return qe.resolve();const s=IDBKeyRange.lowerBound([this.userId]),d=[];return gc(e).J({range:s},(y,b,R)=>{if(y[0]===this.userId){const F=an(y[1]);d.push(F)}else R.done()}).next(()=>{Nt(0===d.length)})})}containsKey(e,r){return Ll(e,this.userId,r)}xn(e){return Vl(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Ll(l,e,r){const s=xn(e,r.path),d=s[1],y=IDBKeyRange.lowerBound(s);let b=!1;return gc(l).J({range:y,H:!0},(R,F,Y)=>{const[ie,ye,ke]=R;ie===e&&ye===d&&(b=!0),Y.done()}).next(()=>b)}function ua(l){return Pr(l,"mutations")}function gc(l){return Pr(l,"documentMutations")}function Vl(l){return Pr(l,"mutationQueues")}class mc{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new mc(0)}static Ln(){return new mc(-1)}}class Cg{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Bn(e).next(r=>{const s=new mc(r.highestTargetId);return r.highestTargetId=s.next(),this.kn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(r=>Zt.fromTimestamp(new Dn(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,s){return this.Bn(e).next(d=>(d.highestListenSequenceNumber=r,s&&(d.lastRemoteSnapshotVersion=s.toTimestamp()),r>d.highestListenSequenceNumber&&(d.highestListenSequenceNumber=r),this.kn(e,d)))}addTargetData(e,r){return this.qn(e,r).next(()=>this.Bn(e).next(s=>(s.targetCount+=1,this.Qn(r,s),this.kn(e,s))))}updateTargetData(e,r){return this.qn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Qc(e).delete(r.targetId)).next(()=>this.Bn(e)).next(s=>(Nt(s.targetCount>0),s.targetCount-=1,this.kn(e,s)))}removeTargets(e,r,s){let d=0;const y=[];return Qc(e).J((b,R)=>{const F=po(R);F.sequenceNumber<=r&&null===s.get(F.targetId)&&(d++,y.push(this.removeTargetData(e,F)))}).next(()=>qe.waitFor(y)).next(()=>d)}forEachTarget(e,r){return Qc(e).J((s,d)=>{const y=po(d);r(y)})}Bn(e){return jd(e).get("targetGlobalKey").next(r=>(Nt(null!==r),r))}kn(e,r){return jd(e).put("targetGlobalKey",r)}qn(e,r){return Qc(e).put(pc(this.serializer,r))}Qn(e,r){let s=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,s=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Bn(e).next(r=>r.targetCount)}getTargetData(e,r){const s=Pn(r),d=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let y=null;return Qc(e).J({range:d,index:"queryTargetsIndex"},(b,R,F)=>{const Y=po(R);tr(r,Y.target)&&(y=Y,F.done())}).next(()=>y)}addMatchingKeys(e,r,s){const d=[],y=qa(e);return r.forEach(b=>{const R=Rt(b.path);d.push(y.put({targetId:s,path:R})),d.push(this.referenceDelegate.addReference(e,s,b))}),qe.waitFor(d)}removeMatchingKeys(e,r,s){const d=qa(e);return qe.forEach(r,y=>{const b=Rt(y.path);return qe.waitFor([d.delete([s,b]),this.referenceDelegate.removeReference(e,s,y)])})}removeMatchingKeysForTargetId(e,r){const s=qa(e),d=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(d)}getMatchingKeysForTargetId(e,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),d=qa(e);let y=sr();return d.J({range:s,H:!0},(b,R,F)=>{const Y=an(b[1]),ie=new kt(Y);y=y.add(ie)}).next(()=>y)}containsKey(e,r){const s=Rt(r.path),d=IDBKeyRange.bound([s],[Cn(s)],!1,!0);let y=0;return qa(e).J({index:"documentTargetsIndex",H:!0,range:d},([b,R],F,Y)=>{0!==b&&(y++,Y.done())}).next(()=>y>0)}ot(e,r){return Qc(e).get(r).next(s=>s?po(s):null)}}function Qc(l){return Pr(l,"targets")}function jd(l){return Pr(l,"targetGlobal")}function qa(l){return Pr(l,"targetDocuments")}function Hd([l,e],[r,s]){const d=qt(l,r);return 0===d?qt(e,s):d}class Nh{constructor(e){this.Kn=e,this.buffer=new Rr(Hd),this.$n=0}Un(){return++this.$n}Wn(e){const r=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();Hd(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class $d{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var r=this;ge("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,g.Z)(function*(){r.Gn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(s){Sn(s)?ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield hr(s)}yield r.zn(3e5)}))}}class Ul{constructor(e,r){this.jn=e,this.params=r}calculateTargetCount(e,r){return this.jn.Hn(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(0===r)return qe.resolve(L.oe);const s=new Nh(r);return this.jn.forEachTarget(e,d=>s.Wn(d.sequenceNumber)).next(()=>this.jn.Jn(e,d=>s.Wn(d))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.jn.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),qe.resolve(Ud)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ud):this.Yn(e,r))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,r){let s,d,y,b,R,F,Y;const ie=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ye=>(ye>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ye}`),d=this.params.maximumSequenceNumbersToCollect):d=ye,b=Date.now(),this.nthSequenceNumber(e,d))).next(ye=>(s=ye,R=Date.now(),this.removeTargets(e,s,r))).next(ye=>(y=ye,F=Date.now(),this.removeOrphanedDocuments(e,s))).next(ye=>(Y=Date.now(),Ct()<=Ie.in.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-ie}ms\n\tDetermined least recently used ${d} in `+(R-b)+`ms\n\tRemoved ${y} targets in `+(F-R)+`ms\n\tRemoved ${ye} documents in `+(Y-F)+`ms\nTotal Duration: ${Y-ie}ms`),qe.resolve({didRun:!0,sequenceNumbersCollected:d,targetsRemoved:y,documentsRemoved:ye})))}}class Fh{constructor(e,r){this.db=e,this.garbageCollector=function kh(l,e){return new Ul(l,e)}(this,r)}Hn(e){const r=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>r.next(d=>s+d))}Zn(e){let r=0;return this.Jn(e,s=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Jn(e,r){return this.Xn(e,(s,d)=>r(d))}addReference(e,r,s){return Jc(e,s)}removeReference(e,r,s){return Jc(e,s)}removeTargets(e,r,s){return this.db.getTargetCache().removeTargets(e,r,s)}markPotentiallyOrphaned(e,r){return Jc(e,r)}er(e,r){return function(d,y){let b=!1;return Vl(d).Y(R=>Ll(d,R,y).next(F=>(F&&(b=!0),qe.resolve(!F)))).next(()=>b)}(e,r)}removeOrphanedDocuments(e,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),d=[];let y=0;return this.Xn(e,(b,R)=>{if(R<=r){const F=this.er(e,b).next(Y=>{if(!Y)return y++,s.getEntry(e,b).next(()=>(s.removeEntry(b,Zt.min()),qa(e).delete([0,Rt(b.path)])))});d.push(F)}}).next(()=>qe.waitFor(d)).next(()=>s.apply(e)).next(()=>y)}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,r){return Jc(e,r)}Xn(e,r){const s=qa(e);let d,y=L.oe;return s.J({index:"documentTargetsIndex"},([b,R],{path:F,sequenceNumber:Y})=>{0===b?(y!==L.oe&&r(new kt(an(d)),y),y=Y,d=F):y=L.oe}).next(()=>{y!==L.oe&&r(new kt(an(d)),y)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Jc(l,e){return qa(l).put((d=l.currentSequenceNumber,{targetId:0,path:Rt(e.path),sequenceNumber:d}));var d}class _c{constructor(){this.changes=new rs(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?qe.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wg{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,s){return Aa(e).put(s)}removeEntry(e,r,s){return Aa(e).delete(function(y,b){const R=y.path.toArray();return[R.slice(0,R.length-2),R[R.length-2],qr(b),R[R.length-1]]}(r,s))}updateMetadata(e,r){return this.getMetadata(e).next(s=>(s.byteSize+=r,this.tr(e,s)))}getEntry(e,r){let s=Nn.newInvalidDocument(r);return Aa(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Xc(r))},(d,y)=>{s=this.nr(r,y)}).next(()=>s)}rr(e,r){let s={size:0,document:Nn.newInvalidDocument(r)};return Aa(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Xc(r))},(d,y)=>{s={document:this.nr(r,y),size:xs(y)}}).next(()=>s)}getEntries(e,r){let s=Cr();return this.ir(e,r,(d,y)=>{const b=this.nr(d,y);s=s.insert(d,b)}).next(()=>s)}sr(e,r){let s=Cr(),d=new Br(kt.comparator);return this.ir(e,r,(y,b)=>{const R=this.nr(y,b);s=s.insert(y,R),d=d.insert(y,xs(b))}).next(()=>({documents:s,_r:d}))}ir(e,r,s){if(r.isEmpty())return qe.resolve();let d=new Rr(zo);r.forEach(F=>d=d.add(F));const y=IDBKeyRange.bound(Xc(d.first()),Xc(d.last())),b=d.getIterator();let R=b.getNext();return Aa(e).J({index:"documentKeyIndex",range:y},(F,Y,ie)=>{const ye=kt.fromSegments([...Y.prefixPath,Y.collectionGroup,Y.documentId]);for(;R&&zo(R,ye)<0;)s(R,null),R=b.getNext();R&&R.isEqual(ye)&&(s(R,Y),R=b.hasNext()?b.getNext():null),R?ie.$(Xc(R)):ie.done()}).next(()=>{for(;R;)s(R,null),R=b.hasNext()?b.getNext():null})}getDocumentsMatchingQuery(e,r,s,d,y){const b=r.path,R=[b.popLast().toArray(),b.lastSegment(),qr(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],F=[b.popLast().toArray(),b.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Aa(e).U(IDBKeyRange.bound(R,F,!0)).next(Y=>{y?.incrementDocumentReadCount(Y.length);let ie=Cr();for(const ye of Y){const ke=this.nr(kt.fromSegments(ye.prefixPath.concat(ye.collectionGroup,ye.documentId)),ye);ke.isFoundDocument()&&(_a(r,ke)||d.has(ke.key))&&(ie=ie.insert(ke.key,ke))}return ie})}getAllFromCollectionGroup(e,r,s,d){let y=Cr();const b=np(r,s),R=np(r,sn.max());return Aa(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,R,!0)},(F,Y,ie)=>{const ye=this.nr(kt.fromSegments(Y.prefixPath.concat(Y.collectionGroup,Y.documentId)),Y);y=y.insert(ye.key,ye),y.size===d&&ie.done()}).next(()=>y)}newChangeBuffer(e){return new zd(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Bl(e).get("remoteDocumentGlobalKey").next(r=>(Nt(!!r),r))}tr(e,r){return Bl(e).put("remoteDocumentGlobalKey",r)}nr(e,r){if(r){const s=function _n(l,e){let r;if(e.document)r=hs(l.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=kt.fromSegments(e.noDocument.path),d=Ts(e.noDocument.readTime);r=Nn.newNoDocument(s,d),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return bt();{const s=kt.fromSegments(e.unknownDocument.path),d=Ts(e.unknownDocument.version);r=Nn.newUnknownDocument(s,d)}}return e.readTime&&r.setReadTime(function(d){const y=new Dn(d[0],d[1]);return Zt.fromTimestamp(y)}(e.readTime)),r}(this.serializer,r);if(!s.isNoDocument()||!s.version.isEqual(Zt.min()))return s}return Nn.newInvalidDocument(e)}}function Cs(l){return new wg(l)}class zd extends _c{constructor(e,r){super(),this.ar=e,this.trackRemovals=r,this.ur=new rs(s=>s.toString(),(s,d)=>s.isEqual(d))}applyChanges(e){const r=[];let s=0,d=new Rr((y,b)=>qt(y.canonicalString(),b.canonicalString()));return this.changes.forEach((y,b)=>{const R=this.ur.get(y);if(r.push(this.ar.removeEntry(e,y,R.readTime)),b.isValidDocument()){const F=_r(this.ar.serializer,b);d=d.add(y.path.popLast());const Y=xs(F);s+=Y-R.size,r.push(this.ar.addEntry(e,y,F))}else if(s-=R.size,this.trackRemovals){const F=_r(this.ar.serializer,b.convertToNoDocument(Zt.min()));r.push(this.ar.addEntry(e,y,F))}}),d.forEach(y=>{r.push(this.ar.indexManager.addToCollectionParentIndex(e,y))}),r.push(this.ar.updateMetadata(e,s)),qe.waitFor(r)}getFromCache(e,r){return this.ar.rr(e,r).next(s=>(this.ur.set(r,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,r){return this.ar.sr(e,r).next(({documents:s,_r:d})=>(d.forEach((y,b)=>{this.ur.set(y,{size:b,readTime:s.get(y).readTime})}),s))}}function Bl(l){return Pr(l,"remoteDocumentGlobal")}function Aa(l){return Pr(l,"remoteDocumentsV14")}function Xc(l){const e=l.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function np(l,e){const r=e.documentKey.path.toArray();return[l,qr(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function zo(l,e){const r=l.path.toArray(),s=e.path.toArray();let d=0;for(let y=0;y<r.length-2&&y<s.length-2;++y)if(d=qt(r[y],s[y]),d)return d;return d=qt(r.length,s.length),d||(d=qt(r[r.length-2],s[s.length-2]),d||qt(r[r.length-1],s[s.length-1]))}class Ro{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class el{constructor(e,r,s,d){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=d}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(d=>(s=d,this.remoteDocumentCache.getEntry(e,r))).next(d=>(null!==s&&we(s.mutation,d,Ii.empty(),Dn.now()),d))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,sr()).next(()=>s))}getLocalViewOfDocuments(e,r,s=sr()){const d=Js();return this.populateOverlays(e,d,r).next(()=>this.computeViews(e,r,d,s).next(y=>{let b=ji();return y.forEach((R,F)=>{b=b.insert(R,F.overlayedDocument)}),b}))}getOverlayedDocuments(e,r){const s=Js();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,sr()))}populateOverlays(e,r,s){const d=[];return s.forEach(y=>{r.has(y)||d.push(y)}),this.documentOverlayCache.getOverlays(e,d).next(y=>{y.forEach((b,R)=>{r.set(b,R)})})}computeViews(e,r,s,d){let y=Cr();const b=ho(),R=ho();return r.forEach((F,Y)=>{const ie=s.get(Y.key);d.has(Y.key)&&(void 0===ie||ie.mutation instanceof wr)?y=y.insert(Y.key,Y):void 0!==ie?(b.set(Y.key,ie.mutation.getFieldMask()),we(ie.mutation,Y,ie.mutation.getFieldMask(),Dn.now())):b.set(Y.key,Ii.empty())}),this.recalculateAndSaveOverlays(e,y).next(F=>(F.forEach((Y,ie)=>b.set(Y,ie)),r.forEach((Y,ie)=>{var ye;return R.set(Y,new Ro(ie,null!==(ye=b.get(Y))&&void 0!==ye?ye:null))}),R))}recalculateAndSaveOverlays(e,r){const s=ho();let d=new Br((b,R)=>b-R),y=sr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(b=>{for(const R of b)R.keys().forEach(F=>{const Y=r.get(F);if(null===Y)return;let ie=s.get(F)||Ii.empty();ie=R.applyToLocalView(Y,ie),s.set(F,ie);const ye=(d.get(R.batchId)||sr()).add(F);d=d.insert(R.batchId,ye)})}).next(()=>{const b=[],R=d.getReverseIterator();for(;R.hasNext();){const F=R.getNext(),Y=F.key,ie=F.value,ye=uo();ie.forEach(ke=>{if(!y.has(ke)){const ot=j(r.get(ke),s.get(ke));null!==ot&&ye.set(ke,ot),y=y.add(ke)}}),b.push(this.documentOverlayCache.saveOverlays(e,Y,ye))}return qe.waitFor(b)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,d){return kt.isDocumentKey((b=r).path)&&null===b.collectionGroup&&0===b.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):cr(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,d):this.getDocumentsMatchingCollectionQuery(e,r,s,d);var b}getNextDocuments(e,r,s,d){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,d).next(y=>{const b=d-y.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,d-y.size):qe.resolve(Js());let R=-1,F=y;return b.next(Y=>qe.forEach(Y,(ie,ye)=>(R<ye.largestBatchId&&(R=ye.largestBatchId),y.get(ie)?qe.resolve():this.remoteDocumentCache.getEntry(e,ie).next(ke=>{F=F.insert(ie,ke)}))).next(()=>this.populateOverlays(e,Y,y)).next(()=>this.computeViews(e,F,Y,sr())).next(ie=>({batchId:R,changes:Ru(ie)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new kt(r)).next(s=>{let d=ji();return s.isFoundDocument()&&(d=d.insert(s.key,s)),d})}getDocumentsMatchingCollectionGroupQuery(e,r,s,d){const y=r.collectionGroup;let b=ji();return this.indexManager.getCollectionParents(e,y).next(R=>qe.forEach(R,F=>{const Y=(ye=r,ke=F.child(y),new V(ke,null,ye.explicitOrderBy.slice(),ye.filters.slice(),ye.limit,ye.limitType,ye.startAt,ye.endAt));var ye,ke;return this.getDocumentsMatchingCollectionQuery(e,Y,s,d).next(ie=>{ie.forEach((ye,ke)=>{b=b.insert(ye,ke)})})}).next(()=>b))}getDocumentsMatchingCollectionQuery(e,r,s,d){let y;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(b=>(y=b,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,y,d))).next(b=>{y.forEach((F,Y)=>{const ie=Y.getKey();null===b.get(ie)&&(b=b.insert(ie,Nn.newInvalidDocument(ie)))});let R=ji();return b.forEach((F,Y)=>{const ie=y.get(F);void 0!==ie&&we(ie.mutation,Y,Ii.empty(),Dn.now()),_a(r,Y)&&(R=R.insert(F,Y))}),R})}}class Bu{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return qe.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(d=r).id,version:d.version,createTime:bi(d.createTime)}),qe.resolve();var d}getNamedQuery(e,r){return qe.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(d=r).name,query:go(d.bundledQuery),readTime:bi(d.readTime)}),qe.resolve();var d}}class Gd{constructor(){this.overlays=new Br(kt.comparator),this.hr=new Map}getOverlay(e,r){return qe.resolve(this.overlays.get(r))}getOverlays(e,r){const s=Js();return qe.forEach(r,d=>this.getOverlay(e,d).next(y=>{null!==y&&s.set(d,y)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((d,y)=>{this.ht(e,r,y)}),qe.resolve()}removeOverlaysForBatchId(e,r,s){const d=this.hr.get(s);return void 0!==d&&(d.forEach(y=>this.overlays=this.overlays.remove(y)),this.hr.delete(s)),qe.resolve()}getOverlaysForCollection(e,r,s){const d=Js(),y=r.length+1,b=new kt(r.child("")),R=this.overlays.getIteratorFrom(b);for(;R.hasNext();){const F=R.getNext().value,Y=F.getKey();if(!r.isPrefixOf(Y.path))break;Y.path.length===y&&F.largestBatchId>s&&d.set(F.getKey(),F)}return qe.resolve(d)}getOverlaysForCollectionGroup(e,r,s,d){let y=new Br((Y,ie)=>Y-ie);const b=this.overlays.getIterator();for(;b.hasNext();){const Y=b.getNext().value;if(Y.getKey().getCollectionGroup()===r&&Y.largestBatchId>s){let ie=y.get(Y.largestBatchId);null===ie&&(ie=Js(),y=y.insert(Y.largestBatchId,ie)),ie.set(Y.getKey(),Y)}}const R=Js(),F=y.getIterator();for(;F.hasNext()&&(F.getNext().value.forEach((Y,ie)=>R.set(Y,ie)),!(R.size()>=d)););return qe.resolve(R)}ht(e,r,s){const d=this.overlays.get(s.key);if(null!==d){const b=this.hr.get(d.largestBatchId).delete(s.key);this.hr.set(d.largestBatchId,b)}this.overlays=this.overlays.insert(s.key,new is(r,s));let y=this.hr.get(r);void 0===y&&(y=sr(),this.hr.set(r,y)),this.hr.set(r,y.add(s.key))}}class jl{constructor(){this.Pr=new Rr($i.Ir),this.Tr=new Rr($i.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const s=new $i(e,r);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Ar(new $i(e,r))}Rr(e,r){e.forEach(s=>this.removeReference(s,r))}Vr(e){const r=new kt(new wn([])),s=new $i(r,e),d=new $i(r,e+1),y=[];return this.Tr.forEachInRange([s,d],b=>{this.Ar(b),y.push(b.key)}),y}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new kt(new wn([])),s=new $i(r,e),d=new $i(r,e+1);let y=sr();return this.Tr.forEachInRange([s,d],b=>{y=y.add(b.key)}),y}containsKey(e){const r=new $i(e,0),s=this.Pr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class $i{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return kt.comparator(e.key,r.key)||qt(e.pr,r.pr)}static Er(e,r){return qt(e.pr,r.pr)||kt.comparator(e.key,r.key)}}class Oy{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new Rr($i.Ir)}checkEmpty(e){return qe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,d){const y=this.yr;this.yr++;const b=new Oi(y,r,s,d);this.mutationQueue.push(b);for(const R of d)this.wr=this.wr.add(new $i(R.key,y)),this.indexManager.addToCollectionParentIndex(e,R.key.path.popLast());return qe.resolve(b)}lookupMutationBatch(e,r){return qe.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const d=this.br(r+1),y=d<0?0:d;return qe.resolve(this.mutationQueue.length>y?this.mutationQueue[y]:null)}getHighestUnacknowledgedBatchId(){return qe.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new $i(r,0),d=new $i(r,Number.POSITIVE_INFINITY),y=[];return this.wr.forEachInRange([s,d],b=>{const R=this.Sr(b.pr);y.push(R)}),qe.resolve(y)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Rr(qt);return r.forEach(d=>{const y=new $i(d,0),b=new $i(d,Number.POSITIVE_INFINITY);this.wr.forEachInRange([y,b],R=>{s=s.add(R.pr)})}),qe.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,d=s.length+1;let y=s;kt.isDocumentKey(y)||(y=y.child(""));const b=new $i(new kt(y),0);let R=new Rr(qt);return this.wr.forEachWhile(F=>{const Y=F.key.path;return!!s.isPrefixOf(Y)&&(Y.length===d&&(R=R.add(F.pr)),!0)},b),qe.resolve(this.Dr(R))}Dr(e){const r=[];return e.forEach(s=>{const d=this.Sr(s);null!==d&&r.push(d)}),r}removeMutationBatch(e,r){Nt(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return qe.forEach(r.mutations,d=>{const y=new $i(d.key,r.batchId);return s=s.delete(y),this.referenceDelegate.markPotentiallyOrphaned(e,d.key)}).next(()=>{this.wr=s})}Mn(e){}containsKey(e,r){const s=new $i(r,0),d=this.wr.firstAfterOrEqual(s);return qe.resolve(r.isEqual(d&&d.key))}performConsistencyCheck(e){return qe.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class o_{constructor(e){this.vr=e,this.docs=new Br(kt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,d=this.docs.get(s),y=d?d.size:0,b=this.vr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:b}),this.size+=b-y,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return qe.resolve(s?s.document.mutableCopy():Nn.newInvalidDocument(r))}getEntries(e,r){let s=Cr();return r.forEach(d=>{const y=this.docs.get(d);s=s.insert(d,y?y.document.mutableCopy():Nn.newInvalidDocument(d))}),qe.resolve(s)}getDocumentsMatchingQuery(e,r,s,d){let y=Cr();const b=r.path,R=new kt(b.child("")),F=this.docs.getIteratorFrom(R);for(;F.hasNext();){const{key:Y,value:{document:ie}}=F.getNext();if(!b.isPrefixOf(Y.path))break;Y.path.length>b.length+1||fi(hi(ie),s)<=0||(d.has(ie.key)||_a(r,ie))&&(y=y.insert(ie.key,ie.mutableCopy()))}return qe.resolve(y)}getAllFromCollectionGroup(e,r,s,d){bt()}Fr(e,r){return qe.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new Ag(this)}getSize(e){return qe.resolve(this.size)}}class Ag extends _c{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((s,d)=>{d.isValidDocument()?r.push(this.ar.addEntry(e,d)):this.ar.removeEntry(s)}),qe.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class Ny{constructor(e){this.persistence=e,this.Mr=new rs(r=>Pn(r),tr),this.lastRemoteSnapshotVersion=Zt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new jl,this.targetCount=0,this.Lr=mc.Nn()}forEachTarget(e,r){return this.Mr.forEach((s,d)=>r(d)),qe.resolve()}getLastRemoteSnapshotVersion(e){return qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return qe.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),qe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Or&&(this.Or=r),qe.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Lr=new mc(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,qe.resolve()}updateTargetData(e,r){return this.qn(r),qe.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,qe.resolve()}removeTargets(e,r,s){let d=0;const y=[];return this.Mr.forEach((b,R)=>{R.sequenceNumber<=r&&null===s.get(R.targetId)&&(this.Mr.delete(b),y.push(this.removeMatchingKeysForTargetId(e,R.targetId)),d++)}),qe.waitFor(y).next(()=>d)}getTargetCount(e){return qe.resolve(this.targetCount)}getTargetData(e,r){const s=this.Mr.get(r)||null;return qe.resolve(s)}addMatchingKeys(e,r,s){return this.Nr.dr(r,s),qe.resolve()}removeMatchingKeys(e,r,s){this.Nr.Rr(r,s);const d=this.persistence.referenceDelegate,y=[];return d&&r.forEach(b=>{y.push(d.markPotentiallyOrphaned(e,b))}),qe.waitFor(y)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),qe.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Nr.gr(r);return qe.resolve(s)}containsKey(e,r){return qe.resolve(this.Nr.containsKey(r))}}class Dg{constructor(e,r){this.Br={},this.overlays={},this.kr=new L(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Ny(this),this.indexManager=new xy,this.remoteDocumentCache=new o_(s=>this.referenceDelegate.Kr(s)),this.serializer=new dt(r),this.$r=new Bu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Gd,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.Br[e.toKey()];return s||(s=new Oy(r,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,s){ge("MemoryPersistence","Starting transaction:",e);const d=new a_(this.kr.next());return this.referenceDelegate.Ur(),s(d).next(y=>this.referenceDelegate.Wr(d).next(()=>y)).toPromise().then(y=>(d.raiseOnCommittedEvent(),y))}Gr(e,r){return qe.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,r)))}}class a_ extends Tr{constructor(e){super(),this.currentSequenceNumber=e}}class rp{constructor(e){this.persistence=e,this.zr=new jl,this.jr=null}static Hr(e){return new rp(e)}get Jr(){if(this.jr)return this.jr;throw bt()}addReference(e,r,s){return this.zr.addReference(s,r),this.Jr.delete(s.toString()),qe.resolve()}removeReference(e,r,s){return this.zr.removeReference(s,r),this.Jr.add(s.toString()),qe.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),qe.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(d=>this.Jr.add(d.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(d=>{d.forEach(y=>this.Jr.add(y.toString()))}).next(()=>s.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qe.forEach(this.Jr,s=>{const d=kt.fromPath(s);return this.Yr(e,d).next(y=>{y||r.removeEntry(d,Zt.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(s=>{s?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return qe.or([()=>qe.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class Hl{constructor(e){this.serializer=e}O(e,r,s,d){const y=new Tt("createOrUpgrade",r);var F;s<1&&d>=1&&(e.createObjectStore("owner"),(F=e).createObjectStore("mutationQueues",{keyPath:"userId"}),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Jn,{unique:!0}),F.createObjectStore("documentMutations"),ip(e),function(F){F.createObjectStore("remoteDocuments")}(e));let b=qe.resolve();return s<3&&d>=3&&(0!==s&&(function(F){F.deleteObjectStore("targetDocuments"),F.deleteObjectStore("targets"),F.deleteObjectStore("targetGlobal")}(e),ip(e)),b=b.next(()=>function(F){const Y=F.store("targetGlobal"),ie={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Zt.min().toTimestamp(),targetCount:0};return Y.put("targetGlobalKey",ie)}(y))),s<4&&d>=4&&(0!==s&&(b=b.next(()=>function(F,Y){return Y.store("mutations").U().next(ie=>{F.deleteObjectStore("mutations"),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Jn,{unique:!0});const ye=Y.store("mutations"),ke=ie.map(ot=>ye.put(ot));return qe.waitFor(ke)})}(e,y))),b=b.next(()=>{!function(F){F.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&d>=5&&(b=b.next(()=>this.Xr(y))),s<6&&d>=6&&(b=b.next(()=>(function(F){F.createObjectStore("remoteDocumentGlobal")}(e),this.ei(y)))),s<7&&d>=7&&(b=b.next(()=>this.ti(y))),s<8&&d>=8&&(b=b.next(()=>this.ni(e,y))),s<9&&d>=9&&(b=b.next(()=>{!function(F){F.objectStoreNames.contains("remoteDocumentChanges")&&F.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&d>=10&&(b=b.next(()=>this.ri(y))),s<11&&d>=11&&(b=b.next(()=>{(function(F){F.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(F){F.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&d>=12&&(b=b.next(()=>{!function(F){const Y=F.createObjectStore("documentOverlays",{keyPath:Fr});Y.createIndex("collectionPathOverlayIndex",Qo,{unique:!1}),Y.createIndex("collectionGroupOverlayIndex",Kr,{unique:!1})}(e)})),s<13&&d>=13&&(b=b.next(()=>function(F){const Y=F.createObjectStore("remoteDocumentsV14",{keyPath:To});Y.createIndex("documentKeyIndex",vi),Y.createIndex("collectionGroupIndex",so)}(e)).next(()=>this.ii(e,y)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&d>=14&&(b=b.next(()=>this.si(e,y))),s<15&&d>=15&&(b=b.next(()=>function(F){F.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),F.createObjectStore("indexState",{keyPath:Co}).createIndex("sequenceNumberIndex",ma,{unique:!1}),F.createObjectStore("indexEntries",{keyPath:jc}).createIndex("documentKeyIndex",Vi,{unique:!1})}(e))),s<16&&d>=16&&(b=b.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),b}ei(e){let r=0;return e.store("remoteDocuments").J((s,d)=>{r+=xs(d)}).next(()=>{const s={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Xr(e){const r=e.store("mutationQueues"),s=e.store("mutations");return r.U().next(d=>qe.forEach(d,y=>{const b=IDBKeyRange.bound([y.userId,-1],[y.userId,y.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",b).next(R=>qe.forEach(R,F=>{Nt(F.userId===y.userId);const Y=eo(this.serializer,F);return Uu(e,y.userId,Y).next(()=>{})}))}))}ti(e){const r=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(d=>{const y=[];return s.J((b,R)=>{const F=new wn(b),Y=[0,Rt(F)];y.push(r.get(Y).next(ie=>ie?qe.resolve():r.put({targetId:0,path:Rt(F),sequenceNumber:d.highestListenSequenceNumber})))}).next(()=>qe.waitFor(y))})}ni(e,r){e.createObjectStore("collectionParents",{keyPath:Vs});const s=r.store("collectionParents"),d=new Vd,y=b=>{if(d.add(b)){const R=b.lastSegment(),F=b.popLast();return s.put({collectionId:R,parent:Rt(F)})}};return r.store("remoteDocuments").J({H:!0},(b,R)=>{const F=new wn(b);return y(F.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([b,R,F],Y)=>{const ie=an(R);return y(ie.popLast())}))}ri(e){const r=e.store("targets");return r.J((s,d)=>{const y=po(d),b=pc(this.serializer,y);return r.put(b)})}ii(e,r){const s=r.store("remoteDocuments"),d=[];return s.J((y,b)=>{const R=r.store("remoteDocumentsV14"),F=(ye=b,ye.document?new kt(wn.fromString(ye.document.name).popFirst(5)):ye.noDocument?kt.fromSegments(ye.noDocument.path):ye.unknownDocument?kt.fromSegments(ye.unknownDocument.path):bt()).path.toArray(),Y={prefixPath:F.slice(0,F.length-2),collectionGroup:F[F.length-2],documentId:F[F.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};var ye;d.push(R.put(Y))}).next(()=>qe.waitFor(d))}si(e,r){const s=r.store("mutations"),d=Cs(this.serializer),y=new Dg(rp.Hr,this.serializer.ct);return s.U().next(b=>{const R=new Map;return b.forEach(F=>{var Y;let ie=null!==(Y=R.get(F.userId))&&void 0!==Y?Y:sr();eo(this.serializer,F).keys().forEach(ye=>ie=ie.add(ye)),R.set(F.userId,ie)}),qe.forEach(R,(F,Y)=>{const ie=new rt(Y),ye=kd.lt(this.serializer,ie),ke=y.getIndexManager(ie),ot=Bd.lt(ie,this.serializer,ke,y.referenceDelegate);return new el(d,ot,ye,ke).recalculateAndSaveOverlaysForDocumentKeys(new Ui(r,L.oe),F).next()})})}}function ip(l){l.createObjectStore("targetDocuments",{keyPath:Li}).createIndex("documentTargetsIndex",pr,{unique:!0}),l.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ms,{unique:!0}),l.createObjectStore("targetGlobal")}const Lh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Yi{constructor(e,r,s,d,y,b,R,F,Y,ie,ye=16){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=s,this.oi=y,this.window=b,this.document=R,this._i=Y,this.ai=ie,this.ui=ye,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=ke=>Promise.resolve(),!Yi.D())throw new _e(Ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Fh(this,d),this.Ti=r+"main",this.serializer=new dt(F),this.Ei=new oe(this.Ti,this.ui,new Hl(this.serializer)),this.Qr=new Cg(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Cs(this.serializer),this.$r=new pi,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===ie&&Et("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _e(Ne.FAILED_PRECONDITION,Lh);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new L(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var r=this;return this.Ii=function(){var s=(0,g.Z)(function*(d){if(r.started)return e(d)});return function(d){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var r=(0,g.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,g.Z)(function*(){r.started&&(yield r.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>tl(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(r=>{r||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(r=>this.isPrimary&&!r?this.yi(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(Sn(e))return ge("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ge("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return ju(e).get("owner").next(r=>qe.resolve(this.Si(r)))}bi(e){return tl(e).delete(this.clientId)}Di(){var e=this;return(0,g.Z)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const d=Pr(s,"clientMetadata");return d.U().next(y=>{const b=e.vi(y,18e5),R=y.filter(F=>-1===b.indexOf(F));return qe.forEach(R,F=>d.delete(F.clientId)).next(()=>R)})}).catch(()=>[]);if(e.di)for(const s of r)e.di.removeItem(e.Fi(s.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?qe.resolve(!0):ju(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)){if(this.Si(r)&&this.networkEnabled)return!0;if(!this.Si(r)){if(!r.allowTabSynchronization)throw new _e(Ne.FAILED_PRECONDITION,Lh);return!1}}return!(!this.networkEnabled||!this.inForeground)||tl(e).U().next(s=>void 0===this.vi(s,5e3).find(d=>!(this.clientId===d.clientId||!(!this.networkEnabled&&d.networkEnabled||!this.inForeground&&d.inForeground&&this.networkEnabled===d.networkEnabled))))}).next(r=>(this.isPrimary!==r&&ge("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,g.Z)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const s=new Ui(r,L.oe);return e.yi(s).next(()=>e.bi(s))}),e.Ei.close(),e.Li()})()}vi(e,r){return e.filter(s=>this.Ci(s.updateTimeMs,r)&&!this.Mi(s.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>tl(e).U().next(r=>this.vi(r,18e5).map(s=>s.clientId)))}get started(){return this.qr}getMutationQueue(e,r){return Bd.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new kl(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return kd.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,r,s){ge("IndexedDbPersistence","Starting transaction:",e);const d="readonly"===r?"readonly":"readwrite",y=16===(F=this.ui)?Us:15===F?Ci:14===F?fr:13===F?ea:12===F?Xo:11===F?Jo:void bt();var F;let b;return this.Ei.runTransaction(e,d,y,R=>(b=new Ui(R,this.kr?this.kr.next():L.oe),"readwrite-primary"===r?this.gi(b).next(F=>!!F||this.pi(b)).next(F=>{if(!F)throw Et(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new _e(Ne.FAILED_PRECONDITION,Qn);return s(b)}).next(F=>this.wi(b).next(()=>F)):this.ki(b).next(()=>s(b)))).then(R=>(b.raiseOnCommittedEvent(),R))}ki(e){return ju(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)&&!this.Si(r)&&!(this.ai||this.allowTabSynchronization&&r.allowTabSynchronization))throw new _e(Ne.FAILED_PRECONDITION,Lh)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ju(e).put("owner",r)}static D(){return oe.D()}yi(e){const r=ju(e);return r.get("owner").next(s=>this.Si(s)?(ge("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):qe.resolve())}Ci(e,r){const s=Date.now();return!(e<s-r||e>s&&(Et(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const r=/(?:Version|Mobile)\/1[456]/;(0,Ee.G6)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var r;try{const s=null!==(null===(r=this.di)||void 0===r?void 0:r.getItem(this.Fi(e)));return ge("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Et("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Et("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ju(l){return Pr(l,"owner")}function tl(l){return Pr(l,"clientMetadata")}function sp(l,e){let r=l.projectId;return l.isDefaultDatabase||(r+="."+l.database),"firestore/"+e+"/"+r+"/"}class Os{constructor(e,r,s,d){this.targetId=e,this.fromCache=r,this.qi=s,this.Qi=d}static Ki(e,r){let s=sr(),d=sr();for(const y of r.docChanges)switch(y.type){case 0:s=s.add(y.doc.key);break;case 1:d=d.add(y.doc.key)}return new Os(e,r.fromCache,s,d)}}class yc{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class nl{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,Ee.G6)()?8:Se((0,Ee.z$)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,s,d){const y={result:null};return this.ji(e,r).next(b=>{y.result=b}).next(()=>{if(!y.result)return this.Hi(e,r,d,s).next(b=>{y.result=b})}).next(()=>{if(y.result)return;const b=new yc;return this.Ji(e,r,b).next(R=>{if(y.result=R,this.Ui)return this.Yi(e,r,b,R.size)})}).next(()=>y.result)}Yi(e,r,s,d){return s.documentReadCount<this.Wi?(Ct()<=Ie.in.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",oc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),qe.resolve()):(Ct()<=Ie.in.DEBUG&&ge("QueryEngine","Query:",oc(r),"scans",s.documentReadCount,"local documents and returns",d,"documents as results."),s.documentReadCount>this.Gi*d?(Ct()<=Ie.in.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",oc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,si(r))):qe.resolve())}ji(e,r){if(bn(r))return qe.resolve(null);let s=si(r);return this.indexManager.getIndexType(e,s).next(d=>0===d?null:(null!==r.limit&&1===d&&(r=sc(r,null,"F"),s=si(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(y=>{const b=sr(...y);return this.zi.getDocuments(e,b).next(R=>this.indexManager.getMinOffset(e,s).next(F=>{const Y=this.Zi(r,R);return this.Xi(r,Y,b,F.readTime)?this.ji(e,sc(r,null,"F")):this.es(e,Y,r,F)}))})))}Hi(e,r,s,d){return bn(r)||d.isEqual(Zt.min())?qe.resolve(null):this.zi.getDocuments(e,s).next(y=>{const b=this.Zi(r,y);return this.Xi(r,b,s,d)?qe.resolve(null):(Ct()<=Ie.in.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",d.toString(),oc(r)),this.es(e,b,r,Mr(d,-1)).next(R=>R))})}Zi(e,r){let s=new Rr(Qs(e));return r.forEach((d,y)=>{_a(e,y)&&(s=s.add(y))}),s}Xi(e,r,s,d){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const y="F"===e.limitType?r.last():r.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(d)>0)}Ji(e,r,s){return Ct()<=Ie.in.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",oc(r)),this.zi.getDocumentsMatchingQuery(e,r,sn.min(),s)}es(e,r,s,d){return this.zi.getDocumentsMatchingQuery(e,s,d).next(y=>(r.forEach(b=>{y=y.insert(b.key,b)}),y))}}class Hu{constructor(e,r,s,d){this.persistence=e,this.ts=r,this.serializer=d,this.ns=new Br(qt),this.rs=new rs(y=>Pn(y),tr),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(s)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new el(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function $l(l,e,r,s){return new Hu(l,e,r,s)}function Vh(l,e){return Uh.apply(this,arguments)}function Uh(){return(Uh=(0,g.Z)(function*(l,e){const r=at(l);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let d;return r.mutationQueue.getAllMutationBatches(s).next(y=>(d=y,r._s(e),r.mutationQueue.getAllMutationBatches(s))).next(y=>{const b=[],R=[];let F=sr();for(const Y of d){b.push(Y.batchId);for(const ie of Y.mutations)F=F.add(ie.key)}for(const Y of y){R.push(Y.batchId);for(const ie of Y.mutations)F=F.add(ie.key)}return r.localDocuments.getDocuments(s,F).next(Y=>({us:Y,removedBatchIds:b,addedBatchIds:R}))})})})).apply(this,arguments)}function Bh(l){const e=at(l);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function jh(l,e,r){let s=sr(),d=sr();return r.forEach(y=>s=s.add(y)),e.getEntries(l,s).next(y=>{let b=Cr();return r.forEach((R,F)=>{const Y=y.get(R);F.isFoundDocument()!==Y.isFoundDocument()&&(d=d.add(R)),F.isNoDocument()&&F.version.isEqual(Zt.min())?(e.removeEntry(R,F.readTime),b=b.insert(R,F)):!Y.isValidDocument()||F.version.compareTo(Y.version)>0||0===F.version.compareTo(Y.version)&&Y.hasPendingWrites?(e.addEntry(F),b=b.insert(R,F)):ge("LocalStore","Ignoring outdated watch update for ",R,". Current version:",Y.version," Watch version:",F.version)}),{cs:b,ls:d}})}function Za(l,e){const r=at(l);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function zl(l,e){const r=at(l);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let d;return r.Qr.getTargetData(s,e).next(y=>y?(d=y,qe.resolve(d)):r.Qr.allocateTargetId(s).next(b=>(d=new ct(e,b,"TargetPurposeListen",s.currentSequenceNumber),r.Qr.addTargetData(s,d).next(()=>d))))}).then(s=>{const d=r.ns.get(s.targetId);return(null===d||s.snapshotVersion.compareTo(d.snapshotVersion)>0)&&(r.ns=r.ns.insert(s.targetId,s),r.rs.set(e,s.targetId)),s})}function Ka(l,e,r){return qd.apply(this,arguments)}function qd(){return(qd=(0,g.Z)(function*(l,e,r){const s=at(l),d=s.ns.get(e),y=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",y,b=>s.persistence.referenceDelegate.removeTarget(b,d)))}catch(b){if(!Sn(b))throw b;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}s.ns=s.ns.remove(e),s.rs.delete(d.target)})).apply(this,arguments)}function Hh(l,e,r){const s=at(l);let d=Zt.min(),y=sr();return s.persistence.runTransaction("Execute query","readwrite",b=>function(F,Y,ie){const ye=at(F),ke=ye.rs.get(ie);return void 0!==ke?qe.resolve(ye.ns.get(ke)):ye.Qr.getTargetData(Y,ie)}(s,b,si(e)).next(R=>{if(R)return d=R.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(b,R.targetId).next(F=>{y=F})}).next(()=>s.ts.getDocumentsMatchingQuery(b,e,r?d:Zt.min(),r?y:sr())).next(R=>(ap(s,$c(e),R),{documents:R,hs:y})))}function $h(l,e){const r=at(l),s=at(r.Qr),d=r.ns.get(e);return d?Promise.resolve(d.target):r.persistence.runTransaction("Get target data","readonly",y=>s.ot(y,e).next(b=>b?b.target:null))}function op(l,e){const r=at(l),s=r.ss.get(e)||Zt.min();return r.persistence.runTransaction("Get new document changes","readonly",d=>r.os.getAllFromCollectionGroup(d,e,Mr(s,-1),Number.MAX_SAFE_INTEGER)).then(d=>(ap(r,e,d),d))}function ap(l,e,r){let s=l.ss.get(e)||Zt.min();r.forEach((d,y)=>{y.readTime.compareTo(s)>0&&(s=y.readTime)}),l.ss.set(e,s)}function Gl(){return(Gl=(0,g.Z)(function*(l,e,r,s){const d=at(l);let y=sr(),b=Cr();for(const Y of r){const ie=e.Ps(Y.metadata.name);Y.document&&(y=y.add(ie));const ye=e.Is(Y);ye.setReadTime(e.Ts(Y.metadata.readTime)),b=b.insert(ie,ye)}const R=d.os.newChangeBuffer({trackRemovals:!0}),F=yield zl(d,(ie=s,si(Me(wn.fromString(`__bundle__/docs/${ie}`)))));var ie;return d.persistence.runTransaction("Apply bundle documents","readwrite",Y=>jh(Y,R,b).next(ie=>(R.apply(Y),ie)).next(ie=>d.Qr.removeMatchingKeysForTargetId(Y,F.targetId).next(()=>d.Qr.addMatchingKeys(Y,y,F.targetId)).next(()=>d.localDocuments.getLocalViewOfDocuments(Y,ie.cs,ie.ls)).next(()=>ie.cs)))})).apply(this,arguments)}function zh(l,e){return cp.apply(this,arguments)}function cp(){return(cp=(0,g.Z)(function*(l,e,r=sr()){const s=yield zl(l,si(go(e.bundledQuery))),d=at(l);return d.persistence.runTransaction("Save named query","readwrite",y=>{const b=bi(e.readTime);if(s.snapshotVersion.compareTo(b)>=0)return d.$r.saveNamedQuery(y,e);const R=s.withResumeToken(ni.EMPTY_BYTE_STRING,b);return d.ns=d.ns.insert(R.targetId,R),d.Qr.updateTargetData(y,R).next(()=>d.Qr.removeMatchingKeysForTargetId(y,s.targetId)).next(()=>d.Qr.addMatchingKeys(y,r,s.targetId)).next(()=>d.$r.saveNamedQuery(y,e))})})).apply(this,arguments)}function ql(l,e){return`firestore_clients_${l}_${e}`}function lp(l,e,r){let s=`firestore_mutations_${l}_${r}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Ec(l,e){return`firestore_targets_${l}_${e}`}class Wd{constructor(e,r,s,d){this.user=e,this.batchId=r,this.state=s,this.error=d}static Es(e,r,s){const d=JSON.parse(s);let y,b="object"==typeof d&&-1!==["pending","acknowledged","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error);return b&&d.error&&(b="string"==typeof d.error.message&&"string"==typeof d.error.code,b&&(y=new _e(d.error.code,d.error.message))),b?new Wd(e,r,d.state,y):(Et("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Wl{constructor(e,r,s){this.targetId=e,this.state=r,this.error=s}static Es(e,r){const s=JSON.parse(r);let d,y="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return y&&s.error&&(y="string"==typeof s.error.message&&"string"==typeof s.error.code,y&&(d=new _e(s.error.code,s.error.message))),y?new Wl(e,s.state,d):(Et("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Zl{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Es(e,r){const s=JSON.parse(r);let d="object"==typeof s&&s.activeTargetIds instanceof Array,y=Gc();for(let b=0;d&&b<s.activeTargetIds.length;++b)d=yt(s.activeTargetIds[b]),y=y.add(s.activeTargetIds[b]);return d?new Zl(e,y):(Et("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class $u{constructor(e,r){this.clientId=e,this.onlineState=r}static Es(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new $u(r.clientId,r.onlineState):(Et("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Gh{constructor(){this.activeTargetIds=Gc()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class up{constructor(e,r,s,d,y){this.window=e,this.oi=r,this.persistenceKey=s,this.Vs=d,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Br(qt),this.started=!1,this.ys=[];const b=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.ws=ql(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new Gh),this.bs=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(F){return`firestore_bundle_loaded_v2_${F}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,g.Z)(function*(){const r=yield e.syncEngine.Bi();for(const d of r){if(d===e.Vs)continue;const y=e.getItem(ql(e.persistenceKey,d));if(y){const b=Zl.Es(d,y);b&&(e.ps=e.ps.insert(b.clientId,b))}}e.Ms();const s=e.storage.getItem(e.vs);if(s){const d=e.xs(s);d&&e.Os(d)}for(const d of e.ys)e.gs(d);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let r=!1;return this.ps.forEach((s,d)=>{d.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,r,s){this.Ls(e,r,s),this.Bs(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Ec(this.persistenceKey,e));if(s){const d=Wl.Es(e,s);d&&(r=d.state)}}return this.ks.As(e),this.Ms(),r}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ec(this.persistenceKey,e))}updateQueryState(e,r,s){this.qs(e,r,s)}handleUserChange(e,r,s){r.forEach(d=>{this.Bs(d)}),this.currentUser=e,s.forEach(d=>{this.addPendingMutation(d)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return ge("SharedClientState","READ",e,r),r}setItem(e,r){ge("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){ge("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var r=this;const s=e;if(s.storageArea===this.storage){if(ge("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ws)return void Et("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,g.Z)(function*(){if(r.started){if(null!==s.key)if(r.bs.test(s.key)){if(null==s.newValue){const d=r.$s(s.key);return r.Us(d,null)}{const d=r.Ws(s.key,s.newValue);if(d)return r.Us(d.clientId,d)}}else if(r.Ds.test(s.key)){if(null!==s.newValue){const d=r.Gs(s.key,s.newValue);if(d)return r.zs(d)}}else if(r.Cs.test(s.key)){if(null!==s.newValue){const d=r.js(s.key,s.newValue);if(d)return r.Hs(d)}}else if(s.key===r.vs){if(null!==s.newValue){const d=r.xs(s.newValue);if(d)return r.Os(d)}}else if(s.key===r.Ss){const d=function(b){let R=L.oe;if(null!=b)try{const F=JSON.parse(b);Nt("number"==typeof F),R=F}catch(F){Et("SharedClientState","Failed to read sequence number from WebStorage",F)}return R}(s.newValue);d!==L.oe&&r.sequenceNumberHandler(d)}else if(s.key===r.Fs){const d=r.Js(s.newValue);yield Promise.all(d.map(y=>r.syncEngine.Ys(y)))}}else r.ys.push(s)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,r,s){const d=new Wd(this.currentUser,e,r,s),y=lp(this.persistenceKey,this.currentUser,e);this.setItem(y,d.ds())}Bs(e){const r=lp(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,r,s){const d=Ec(this.persistenceKey,e),y=new Wl(e,r,s);this.setItem(d,y.ds())}Ks(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Fs,r)}$s(e){const r=this.bs.exec(e);return r?r[1]:null}Ws(e,r){const s=this.$s(e);return Zl.Es(s,r)}Gs(e,r){const s=this.Ds.exec(e),d=Number(s[1]);return Wd.Es(new rt(void 0!==s[2]?s[2]:null),d,r)}js(e,r){const s=this.Cs.exec(e),d=Number(s[1]);return Wl.Es(d,r)}xs(e){return $u.Es(e)}Js(e){return JSON.parse(e)}zs(e){var r=this;return(0,g.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Zs(e.batchId,e.state,e.error);ge("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,r){const s=r?this.ps.insert(e,r):this.ps.remove(e),d=this.Ns(this.ps),y=this.Ns(s),b=[],R=[];return y.forEach(F=>{d.has(F)||b.push(F)}),d.forEach(F=>{y.has(F)||R.push(F)}),this.syncEngine.eo(b,R).then(()=>{this.ps=s})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let r=Gc();return e.forEach((s,d)=>{r=r.unionWith(d.activeTargetIds)}),r}}class Sg{constructor(){this.no=new Gh,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,s){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Gh,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Kl{io(e){}shutdown(){}}class zu{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let qh=null;function Mg(){return null===qh?qh=268435456+Math.round(2147483648*Math.random()):qh++,"0x"+qh.toString(16)}const C={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const v="WebChannelConnection";class M extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",d=encodeURIComponent(this.databaseId.projectId),y=encodeURIComponent(this.databaseId.database);this.wo=s+"://"+r.host,this.So=`projects/${d}/databases/${y}`,this.bo="(default)"===this.databaseId.database?`project_id=${d}`:`project_id=${d}&database_id=${y}`}get Do(){return!1}Co(r,s,d,y,b){const R=Mg(),F=this.vo(r,s.toUriEncodedString());ge("RestConnection",`Sending RPC '${r}' ${R}:`,F,d);const Y={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(Y,y,b),this.Mo(r,F,Y,d).then(ie=>(ge("RestConnection",`Received RPC '${r}' ${R}: `,ie),ie),ie=>{throw $t("RestConnection",`RPC '${r}' ${R} failed with error: `,ie,"url: ",F,"request:",d),ie})}xo(r,s,d,y,b,R){return this.Co(r,s,d,y,b)}Fo(r,s,d){r["X-Goog-Api-Client"]="gl-js/ fire/"+He,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((y,b)=>r[b]=y),d&&d.headers.forEach((y,b)=>r[b]=y)}vo(r,s){return`${this.wo}/v1/${s}:${C[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,r,s,d){const y=Mg();return new Promise((b,R)=>{const F=new Oe;F.setWithCredentials(!0),F.listenOnce(Dt.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case mt.NO_ERROR:const ie=F.getResponseJson();ge(v,`XHR for RPC '${e}' ${y} received:`,JSON.stringify(ie)),b(ie);break;case mt.TIMEOUT:ge(v,`RPC '${e}' ${y} timed out`),R(new _e(Ne.DEADLINE_EXCEEDED,"Request time out"));break;case mt.HTTP_ERROR:const ye=F.getStatus();if(ge(v,`RPC '${e}' ${y} failed with status:`,ye,"response text:",F.getResponseText()),ye>0){let ke=F.getResponseJson();Array.isArray(ke)&&(ke=ke[0]);const ot=ke?.error;if(ot&&ot.status&&ot.message){const xt=function(Vt){const Tn=Vt.toLowerCase().replace(/_/g,"-");return Object.values(Ne).indexOf(Tn)>=0?Tn:Ne.UNKNOWN}(ot.status);R(new _e(xt,ot.message))}else R(new _e(Ne.UNKNOWN,"Server responded with status "+F.getStatus()))}else R(new _e(Ne.UNAVAILABLE,"Connection failed."));break;default:bt()}}finally{ge(v,`RPC '${e}' ${y} completed.`)}});const Y=JSON.stringify(d);ge(v,`RPC '${e}' ${y} sending request:`,d),F.send(r,"POST",Y,s,15)})}Oo(e,r,s){const d=Mg(),y=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],b=Ke(),R=en(),F={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},Y=this.longPollingOptions.timeoutSeconds;void 0!==Y&&(F.longPollingTimeout=Math.round(1e3*Y)),this.useFetchStreams&&(F.xmlHttpFactory=new pt({})),this.Fo(F.initMessageHeaders,r,s),F.encodeInitMessageHeaders=!0;const ie=y.join("");ge(v,`Creating RPC '${e}' stream ${d}: ${ie}`,F);const ye=b.createWebChannel(ie,F);let ke=!1,ot=!1;const xt=new _({lo:Vt=>{ot?ge(v,`Not sending because RPC '${e}' stream ${d} is closed:`,Vt):(ke||(ge(v,`Opening RPC '${e}' stream ${d} transport.`),ye.open(),ke=!0),ge(v,`RPC '${e}' stream ${d} sending:`,Vt),ye.send(Vt))},ho:()=>ye.close()}),Yt=(Vt,Tn,$n)=>{Vt.listen(Tn,Rn=>{try{$n(Rn)}catch(mr){setTimeout(()=>{throw mr},0)}})};return Yt(ye,Xe.EventType.OPEN,()=>{ot||(ge(v,`RPC '${e}' stream ${d} transport opened.`),xt.mo())}),Yt(ye,Xe.EventType.CLOSE,()=>{ot||(ot=!0,ge(v,`RPC '${e}' stream ${d} transport closed`),xt.po())}),Yt(ye,Xe.EventType.ERROR,Vt=>{ot||(ot=!0,$t(v,`RPC '${e}' stream ${d} transport errored:`,Vt),xt.po(new _e(Ne.UNAVAILABLE,"The operation could not be completed")))}),Yt(ye,Xe.EventType.MESSAGE,Vt=>{var Tn;if(!ot){const $n=Vt.data[0];Nt(!!$n);const mr=$n.error||(null===(Tn=$n[0])||void 0===Tn?void 0:Tn.error);if(mr){ge(v,`RPC '${e}' stream ${d} received error:`,mr);const Wr=mr.status;let Er=function(Be){const Qe=oi[Be];if(void 0!==Qe)return Xs(Qe)}(Wr),We=mr.message;void 0===Er&&(Er=Ne.INTERNAL,We="Unknown error status: "+Wr+" with message "+mr.message),ot=!0,xt.po(new _e(Er,We)),ye.close()}else ge(v,`RPC '${e}' stream ${d} received:`,$n),xt.yo($n)}}),Yt(R,_t.STAT_EVENT,Vt=>{Vt.stat===It.PROXY?ge(v,`RPC '${e}' stream ${d} detected buffering proxy`):Vt.stat===It.NOPROXY&&ge(v,`RPC '${e}' stream ${d} detected no buffering proxy`)}),setTimeout(()=>{xt.fo()},0),xt}}function Q(){return typeof window<"u"?window:null}function le(){return typeof document<"u"?document:null}function Ue(l){return new Sd(l,!0)}class ut{constructor(e,r,s=1e3,d=1.5,y=6e4){this.oi=e,this.timerId=r,this.No=s,this.Lo=d,this.Bo=y,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const r=Math.floor(this.ko+this.Uo()),s=Math.max(0,Date.now()-this.Qo),d=Math.max(0,r-s);d>0&&ge("ExponentialBackoff",`Backing off for ${d} ms (base delay: ${this.ko} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,d,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class Lt{constructor(e,r,s,d,y,b,R,F){this.oi=e,this.Go=s,this.zo=d,this.connection=y,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=R,this.listener=F,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new ut(e,r)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,g.Z)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,g.Z)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,r){var s=this;return(0,g.Z)(function*(){s.s_(),s.o_(),s.Yo.cancel(),s.jo++,4!==e?s.Yo.reset():r&&r.code===Ne.RESOURCE_EXHAUSTED?(Et(r.toString()),Et("Using maximum backoff delay to prevent overloading the backend."),s.Yo.Ko()):r&&r.code===Ne.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.__(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Ao(r)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),r=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,d])=>{this.jo===r&&this.u_(s,d)},s=>{e(()=>{const d=new _e(Ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.c_(d)})})}u_(e,r){const s=this.a_(this.jo);this.stream=this.l_(e,r),this.stream.Po(()=>{s(()=>this.listener.Po())}),this.stream.To(()=>{s(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(d=>{s(()=>this.c_(d))}),this.stream.onMessage(d=>{s(()=>this.onMessage(d))})}e_(){var e=this;this.state=5,this.Yo.$o((0,g.Z)(function*(){e.state=0,e.start()}))}c_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return r=>{this.oi.enqueueAndForget(()=>this.jo===e?r():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Kt extends Lt{constructor(e,r,s,d,y,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,d,b),this.serializer=y}l_(e,r){return this.connection.Oo("Listen",e,r)}onMessage(e){this.Yo.reset();const r=function Pl(l,e){let r;if("targetChange"in e){const s="NO_CHANGE"===(Y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Y?1:"REMOVE"===Y?2:"CURRENT"===Y?3:"RESET"===Y?4:bt(),d=e.targetChange.targetIds||[],y=function(Y,ie){return Y.useProto3Json?(Nt(void 0===ie||"string"==typeof ie),ni.fromBase64String(ie||"")):(Nt(void 0===ie||ie instanceof Buffer||ie instanceof Uint8Array),ni.fromUint8Array(ie||new Uint8Array))}(l,e.targetChange.resumeToken),b=e.targetChange.cause,R=b&&function(Y){const ie=void 0===Y.code?Ne.UNKNOWN:Xs(Y.code);return new _e(ie,Y.message||"")}(b);r=new fo(s,d,y,R||null)}else if("documentChange"in e){const s=e.documentChange,d=jo(l,s.document.name),y=bi(s.document.updateTime),b=s.document.createTime?bi(s.document.createTime):Zt.min(),R=new or({mapValue:{fields:s.document.fields}}),F=Nn.newFoundDocument(d,y,b,R);r=new dc(s.targetIds||[],s.removedTargetIds||[],F.key,F)}else if("documentDelete"in e){const s=e.documentDelete,d=jo(l,s.document),y=s.readTime?bi(s.readTime):Zt.min(),b=Nn.newNoDocument(d,y);r=new dc([],s.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const s=e.documentRemove,d=jo(l,s.document);r=new dc([],s.removedTargetIds||[],d,null)}else{if(!("filter"in e))return bt();{const s=e.filter,{count:d=0,unchangedNames:y}=s,b=new js(d,y);r=new Ou(s.targetId,b)}}var Y;return r}(this.serializer,e),s=function(y){if(!("targetChange"in y))return Zt.min();const b=y.targetChange;return b.targetIds&&b.targetIds.length?Zt.min():b.readTime?bi(b.readTime):Zt.min()}(e);return this.listener.h_(r,s)}P_(e){const r={};r.database=Sr(this.serializer),r.addTarget=function(y,b){let R;const F=b.target;if(R=Bi(F)?{documents:xd(y,F)}:{query:Od(y,F)._t},R.targetId=b.targetId,b.resumeToken.approximateByteSize()>0){R.resumeToken=Ph(y,b.resumeToken);const Y=Kc(y,b.expectedCount);null!==Y&&(R.expectedCount=Y)}else if(b.snapshotVersion.compareTo(Zt.min())>0){R.readTime=Ha(y,b.snapshotVersion.toTimestamp());const Y=Kc(y,b.expectedCount);null!==Y&&(R.expectedCount=Y)}return R}(this.serializer,e);const s=function Ho(l,e){const r=function(d){switch(d){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.i_(r)}I_(e){const r={};r.database=Sr(this.serializer),r.removeTarget=e,this.i_(r)}}class Un extends Lt{constructor(e,r,s,d,y,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,d,b),this.serializer=y,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,r){return this.connection.Oo("Write",e,r)}onMessage(e){if(Nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const r=function fc(l,e){return l&&l.length>0?(Nt(void 0!==e),l.map(r=>function(d,y){let b=bi(d.updateTime?d.updateTime:y);return b.isEqual(Zt.min())&&(b=bi(y)),new Wc(b,d.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=bi(e.commitTime);return this.listener.A_(s,r)}return Nt(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Sr(this.serializer),this.i_(e)}d_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>bs(this.serializer,s))};this.i_(r)}}class yr extends class{}{constructor(e,r,s,d){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=d,this.m_=!1}f_(){if(this.m_)throw new _e(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,r,s,d){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,b])=>this.connection.Co(e,Rh(r,s),d,y,b)).catch(y=>{throw"FirebaseError"===y.name?(y.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new _e(Ne.UNKNOWN,y.toString())})}xo(e,r,s,d,y){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([b,R])=>this.connection.xo(e,Rh(r,s),d,b,R,y)).catch(b=>{throw"FirebaseError"===b.name?(b.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),b):new _e(Ne.UNKNOWN,b.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class Oo{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Et(r),this.y_=!1):ge("OnlineStateTracker",r)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class Ic{constructor(e,r,s,d,y){var b=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=y,this.O_.io(R=>{s.enqueueAndForget((0,g.Z)(function*(){var F;Ya(b)&&(ge("RemoteStore","Restarting streams for network reachability change."),yield(F=(0,g.Z)(function*(ie){const ye=at(ie);ye.M_.add(4),yield rl(ye),ye.N_.set("Unknown"),ye.M_.delete(4),yield bc(ye)}),function Y(ie){return F.apply(this,arguments)})(b))}))}),this.N_=new Oo(s,d)}}function bc(l){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,g.Z)(function*(l){if(Ya(l))for(const e of l.x_)yield e(!0)})).apply(this,arguments)}function rl(l){return Wh.apply(this,arguments)}function Wh(){return(Wh=(0,g.Z)(function*(l){for(const e of l.x_)yield e(!1)})).apply(this,arguments)}function il(l,e){const r=at(l);r.F_.has(e.targetId)||(r.F_.set(e.targetId,e),Kh(r)?Zd(r):no(r).Xo()&&Zh(r,e))}function Tc(l,e){const r=at(l),s=no(r);r.F_.delete(e),s.Xo()&&dp(r,e),0===r.F_.size&&(s.Xo()?s.n_():Ya(r)&&r.N_.set("Unknown"))}function Zh(l,e){if(l.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Zt.min())>0){const r=l.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}no(l).P_(e)}function dp(l,e){l.L_.xe(e),no(l).I_(e)}function Zd(l){l.L_=new Bo({getRemoteKeysForTarget:e=>l.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>l.F_.get(e)||null,tt:()=>l.datastore.serializer.databaseId}),no(l).start(),l.N_.w_()}function Kh(l){return Ya(l)&&!no(l).Zo()&&l.F_.size>0}function Ya(l){return 0===at(l).M_.size}function sl(l){l.L_=void 0}function Kd(l){return hp.apply(this,arguments)}function hp(){return(hp=(0,g.Z)(function*(l){l.N_.set("Online")})).apply(this,arguments)}function l_(l){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,g.Z)(function*(l){l.F_.forEach((e,r)=>{Zh(l,e)})})).apply(this,arguments)}function un(l,e){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,g.Z)(function*(l,e){sl(l),Kh(l)?(l.N_.D_(e),Zd(l)):l.N_.set("Unknown")})).apply(this,arguments)}function u_(l,e,r){return Yd.apply(this,arguments)}function Yd(){return Yd=(0,g.Z)(function*(l,e,r){if(l.N_.set("Online"),e instanceof fo&&2===e.state&&e.cause)try{yield(s=(0,g.Z)(function*(y,b){const R=b.cause;for(const F of b.targetIds)y.F_.has(F)&&(yield y.remoteSyncer.rejectListen(F,R),y.F_.delete(F),y.L_.removeTarget(F))}),function d(y,b){return s.apply(this,arguments)})(l,e)}catch(s){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield qu(l,s)}else if(e instanceof dc?l.L_.Ke(e):e instanceof Ou?l.L_.He(e):l.L_.We(e),!r.isEqual(Zt.min()))try{const s=yield Bh(l.localStore);r.compareTo(s)>=0&&(yield function(y,b){const R=y.L_.rt(b);return R.targetChanges.forEach((F,Y)=>{if(F.resumeToken.approximateByteSize()>0){const ie=y.F_.get(Y);ie&&y.F_.set(Y,ie.withResumeToken(F.resumeToken,b))}}),R.targetMismatches.forEach((F,Y)=>{const ie=y.F_.get(F);if(!ie)return;y.F_.set(F,ie.withResumeToken(ni.EMPTY_BYTE_STRING,ie.snapshotVersion)),dp(y,F);const ye=new ct(ie.target,F,Y,ie.sequenceNumber);Zh(y,ye)}),y.remoteSyncer.applyRemoteEvent(R)}(l,r))}catch(s){ge("RemoteStore","Failed to raise snapshot:",s),yield qu(l,s)}var s}),Yd.apply(this,arguments)}function qu(l,e,r){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,g.Z)(function*(l,e,r){if(!Sn(e))throw e;l.M_.add(1),yield rl(l),l.N_.set("Offline"),r||(r=()=>Bh(l.localStore)),l.asyncQueue.enqueueRetryable((0,g.Z)(function*(){ge("RemoteStore","Retrying IndexedDB access"),yield r(),l.M_.delete(1),yield bc(l)}))})).apply(this,arguments)}function d_(l,e){return e().catch(r=>qu(l,r,e))}function Jd(l){return Pg.apply(this,arguments)}function Pg(){return(Pg=(0,g.Z)(function*(l){const e=at(l),r=Cc(e);let s=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;h_(e);)try{const d=yield Za(e.localStore,s);if(null===d){0===e.v_.length&&r.n_();break}s=d.batchId,Rg(e,d)}catch(d){yield qu(e,d)}f_(e)&&p_(e)})).apply(this,arguments)}function h_(l){return Ya(l)&&l.v_.length<10}function Rg(l,e){l.v_.push(e);const r=Cc(l);r.Xo()&&r.E_&&r.d_(e.mutations)}function f_(l){return Ya(l)&&!Cc(l).Zo()&&l.v_.length>0}function p_(l){Cc(l).start()}function ky(l){return fp.apply(this,arguments)}function fp(){return(fp=(0,g.Z)(function*(l){Cc(l).V_()})).apply(this,arguments)}function Fy(l){return xg.apply(this,arguments)}function xg(){return(xg=(0,g.Z)(function*(l){const e=Cc(l);for(const r of l.v_)e.d_(r.mutations)})).apply(this,arguments)}function mo(l,e,r){return di.apply(this,arguments)}function di(){return(di=(0,g.Z)(function*(l,e,r){const s=l.v_.shift(),d=ds.from(s,e,r);yield d_(l,()=>l.remoteSyncer.applySuccessfulWrite(d)),yield Jd(l)})).apply(this,arguments)}function Xd(l,e){return ol.apply(this,arguments)}function ol(){return ol=(0,g.Z)(function*(l,e){var r;e&&Cc(l).E_&&(yield(r=(0,g.Z)(function*(d,y){if(oa(R=y.code)&&R!==Ne.ABORTED){const b=d.v_.shift();Cc(d).t_(),yield d_(d,()=>d.remoteSyncer.rejectFailedWrite(b.batchId,y)),yield Jd(d)}var R}),function s(d,y){return r.apply(this,arguments)})(l,e)),f_(l)&&p_(l)}),ol.apply(this,arguments)}function Ni(l,e){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,g.Z)(function*(l,e){const r=at(l);r.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const s=Ya(r);r.M_.add(3),yield rl(r),s&&r.N_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.M_.delete(3),yield bc(r)})).apply(this,arguments)}function al(l,e){return cl.apply(this,arguments)}function cl(){return(cl=(0,g.Z)(function*(l,e){const r=at(l);e?(r.M_.delete(2),yield bc(r)):e||(r.M_.add(2),yield rl(r),r.N_.set("Unknown"))})).apply(this,arguments)}function no(l){return l.B_||(l.B_=function(r,s,d){const y=at(r);return y.f_(),new Kt(s,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,d)}(l.datastore,l.asyncQueue,{Po:Kd.bind(null,l),To:l_.bind(null,l),Ao:un.bind(null,l),h_:u_.bind(null,l)}),l.x_.push(function(){var e=(0,g.Z)(function*(r){r?(l.B_.t_(),Kh(l)?Zd(l):l.N_.set("Unknown")):(yield l.B_.stop(),sl(l))});return function(r){return e.apply(this,arguments)}}())),l.B_}function Cc(l){return l.k_||(l.k_=function(r,s,d){const y=at(r);return y.f_(),new Un(s,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,d)}(l.datastore,l.asyncQueue,{Po:()=>Promise.resolve(),To:ky.bind(null,l),Ao:Xd.bind(null,l),R_:Fy.bind(null,l),A_:mo.bind(null,l)}),l.x_.push(function(){var e=(0,g.Z)(function*(r){r?(l.k_.t_(),yield Jd(l)):(yield l.k_.stop(),l.v_.length>0&&(ge("RemoteStore",`Stopping write stream with ${l.v_.length} pending writes`),l.v_=[]))});return function(r){return e.apply(this,arguments)}}())),l.k_}class pp{constructor(e,r,s,d,y){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=d,this.removalCallback=y,this.deferred=new Ve,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,d,y){const b=Date.now()+s,R=new pp(e,r,b,d,y);return R.start(s),R}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _e(Ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ql(l,e){if(Et("AsyncQueue",`${e}: ${l}`),Sn(l))return new _e(Ne.UNAVAILABLE,`${e}: ${l}`);throw l}class eh{constructor(e){this.comparator=e?(r,s)=>e(r,s)||kt.comparator(r.key,s.key):(r,s)=>kt.comparator(r.key,s.key),this.keyedMap=ji(),this.sortedSet=new Br(this.comparator)}static emptySet(e){return new eh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof eh)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const d=r.getNext().key,y=s.getNext().key;if(!d.isEqual(y))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new eh;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class Og{constructor(){this.q_=new Br(kt.comparator)}track(e){const r=e.doc.key,s=this.q_.get(r);s?0!==e.type&&3===s.type?this.q_=this.q_.insert(r,e):3===e.type&&1!==s.type?this.q_=this.q_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.q_=this.q_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.q_=this.q_.remove(r):1===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):bt():this.q_=this.q_.insert(r,e)}Q_(){const e=[];return this.q_.inorderTraversal((r,s)=>{e.push(s)}),e}}class th{constructor(e,r,s,d,y,b,R,F,Y){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=d,this.mutatedKeys=y,this.fromCache=b,this.syncStateChanged=R,this.excludesMetadataChanges=F,this.hasCachedResults=Y}static fromInitialDocuments(e,r,s,d,y){const b=[];return r.forEach(R=>{b.push({type:0,doc:R})}),new th(e,r,eh.emptySet(r),b,s,d,!0,!1,y)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&La(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let d=0;d<r.length;d++)if(r[d].type!==s[d].type||!r[d].doc.isEqual(s[d].doc))return!1;return!0}}class Qi{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class Ai{constructor(){this.queries=new rs(e=>Hc(e),La),this.onlineState="Unknown",this.z_=new Set}}function Zu(l,e){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,g.Z)(function*(l,e){const r=at(l);let s=3;const d=e.query;let y=r.queries.get(d);y?!y.W_()&&e.G_()&&(s=2):(y=new Qi,s=e.G_()?0:1);try{switch(s){case 0:y.K_=yield r.onListen(d,!0);break;case 1:y.K_=yield r.onListen(d,!1);break;case 2:yield r.onFirstRemoteStoreListen(d)}}catch(b){const R=Ql(b,`Initialization of query '${oc(e.query)}' failed`);return void e.onError(R)}r.queries.set(d,y),y.U_.push(e),e.j_(r.onlineState),y.K_&&e.H_(y.K_)&&gp(r)})).apply(this,arguments)}function Ku(l,e){return Ng.apply(this,arguments)}function Ng(){return(Ng=(0,g.Z)(function*(l,e){const r=at(l),s=e.query;let d=3;const y=r.queries.get(s);if(y){const b=y.U_.indexOf(e);b>=0&&(y.U_.splice(b,1),0===y.U_.length?d=e.G_()?0:1:!y.W_()&&e.G_()&&(d=2))}switch(d){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function Ly(l,e){const r=at(l);let s=!1;for(const d of e){const b=r.queries.get(d.query);if(b){for(const R of b.U_)R.H_(d)&&(s=!0);b.K_=d}}s&&gp(r)}function g_(l,e,r){const s=at(l),d=s.queries.get(e);if(d)for(const y of d.U_)y.onError(r);s.queries.delete(e)}function gp(l){l.z_.forEach(e=>{e.next()})}var Jh,Jl;(Jl=Jh||(Jh={})).J_="default",Jl.Cache="cache";class nh{constructor(e,r,s){this.query=e,this.Y_=r,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=s||{}}H_(e){if(!this.options.includeMetadataChanges){const s=[];for(const d of e.docChanges)3!==d.type&&s.push(d);e=new th(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),r=!0):this.ta(e,this.onlineState)&&(this.na(e),r=!0),this.X_=e,r}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let r=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),r=!0),r}ta(e,r){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=th.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Jh.Cache}}class m_{constructor(e,r){this.ia=e,this.byteLength=r}sa(){return"metadata"in this.ia}}class mp{constructor(e){this.serializer=e}Ps(e){return jo(this.serializer,e)}Is(e){return e.metadata.exists?hs(this.serializer,e.document,!1):Nn.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return bi(e)}}class Xh{constructor(e,r,s){this.oa=e,this.localStore=r,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=__(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++r;const s=wn.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}aa(e){const r=new Map,s=new mp(this.serializer);for(const d of e)if(d.metadata.queries){const y=s.Ps(d.metadata.name);for(const b of d.metadata.queries){const R=(r.get(b)||sr()).add(y);r.set(b,R)}}return r}complete(){var e=this;return(0,g.Z)(function*(){const r=yield function c_(l,e,r,s){return Gl.apply(this,arguments)}(e.localStore,new mp(e.serializer),e.documents,e.oa.id),s=e.aa(e.documents);for(const d of e.queries)yield zh(e.localStore,d,s.get(d.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:r}})()}}function __(l){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:l.totalDocuments,totalBytes:l.totalBytes}}class y_{constructor(e){this.key=e}}class v_{constructor(e){this.key=e}}class Yu{constructor(e,r){this.query=e,this.la=r,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=sr(),this.mutatedKeys=sr(),this.Ia=Qs(e),this.Ta=new eh(this.Ia)}get Ea(){return this.la}da(e,r){const s=r?r.Aa:new Og,d=r?r.Ta:this.Ta;let y=r?r.mutatedKeys:this.mutatedKeys,b=d,R=!1;const F="F"===this.query.limitType&&d.size===this.query.limit?d.last():null,Y="L"===this.query.limitType&&d.size===this.query.limit?d.first():null;if(e.inorderTraversal((ie,ye)=>{const ke=d.get(ie),ot=_a(this.query,ye)?ye:null,xt=!!ke&&this.mutatedKeys.has(ke.key),Yt=!!ot&&(ot.hasLocalMutations||this.mutatedKeys.has(ot.key)&&ot.hasCommittedMutations);let Vt=!1;ke&&ot?ke.data.isEqual(ot.data)?xt!==Yt&&(s.track({type:3,doc:ot}),Vt=!0):this.Ra(ke,ot)||(s.track({type:2,doc:ot}),Vt=!0,(F&&this.Ia(ot,F)>0||Y&&this.Ia(ot,Y)<0)&&(R=!0)):!ke&&ot?(s.track({type:0,doc:ot}),Vt=!0):ke&&!ot&&(s.track({type:1,doc:ke}),Vt=!0,(F||Y)&&(R=!0)),Vt&&(ot?(b=b.add(ot),y=Yt?y.add(ie):y.delete(ie)):(b=b.delete(ie),y=y.delete(ie)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const ie="F"===this.query.limitType?b.last():b.first();b=b.delete(ie.key),y=y.delete(ie.key),s.track({type:1,doc:ie})}return{Ta:b,Aa:s,Xi:R,mutatedKeys:y}}Ra(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,d){const y=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const b=e.Aa.Q_();b.sort((ie,ye)=>function(ot,xt){const Yt=Vt=>{switch(Vt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt()}};return Yt(ot)-Yt(xt)}(ie.type,ye.type)||this.Ia(ie.doc,ye.doc)),this.Va(s),d=null!=d&&d;const R=r&&!d?this.ma():[],F=0===this.Pa.size&&this.current&&!d?1:0,Y=F!==this.ha;return this.ha=F,0!==b.length||Y?{snapshot:new th(this.query,e.Ta,y,b,e.mutatedKeys,0===F,Y,!1,!!s&&s.resumeToken.approximateByteSize()>0),fa:R}:{fa:R}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Og,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(r=>this.la=this.la.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.la=this.la.delete(r)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=sr(),this.Ta.forEach(s=>{this.ga(s.key)&&(this.Pa=this.Pa.add(s.key))});const r=[];return e.forEach(s=>{this.Pa.has(s)||r.push(new v_(s))}),this.Pa.forEach(s=>{e.has(s)||r.push(new y_(s))}),r}pa(e){this.la=e.hs,this.Pa=sr();const r=this.da(e.documents);return this.applyChanges(r,!0)}ya(){return th.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class E_{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class I_{constructor(e){this.key=e,this.wa=!1}}class rh{constructor(e,r,s,d,y,b){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=d,this.currentUser=y,this.maxConcurrentLimboResolutions=b,this.Sa={},this.ba=new rs(R=>Hc(R),La),this.Da=new Map,this.Ca=new Set,this.va=new Br(kt.comparator),this.Fa=new Map,this.Ma=new jl,this.xa={},this.Oa=new Map,this.Na=mc.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function Xl(l,e){return ws.apply(this,arguments)}function ws(){return(ws=(0,g.Z)(function*(l,e,r=!0){const s=ff(l);let d;const y=s.ba.get(e);return y?(s.sharedClientState.addLocalQueryTarget(y.targetId),d=y.view.ya()):d=yield b_(s,e,r,!0),d})).apply(this,arguments)}function kg(l,e){return Fg.apply(this,arguments)}function Fg(){return(Fg=(0,g.Z)(function*(l,e){const r=ff(l);yield b_(r,e,!0,!1)})).apply(this,arguments)}function b_(l,e,r,s){return ef.apply(this,arguments)}function ef(){return(ef=(0,g.Z)(function*(l,e,r,s){const d=yield zl(l.localStore,si(e)),y=d.targetId,b=r?l.sharedClientState.addLocalQueryTarget(y):"not-current";let R;return s&&(R=yield _p(l,e,y,"current"===b,d.resumeToken)),l.isPrimaryClient&&r&&il(l.remoteStore,d),R})).apply(this,arguments)}function _p(l,e,r,s,d){return ll.apply(this,arguments)}function ll(){return ll=(0,g.Z)(function*(l,e,r,s,d){l.Ba=(ye,ke,ot)=>{return(xt=(0,g.Z)(function*(Vt,Tn,$n,Rn){let mr=Tn.view.da($n);mr.Xi&&(mr=yield Hh(Vt.localStore,Tn.query,!1).then(({documents:Re})=>Tn.view.da(Re,mr)));const Wr=Rn&&Rn.targetChanges.get(Tn.targetId),Er=Rn&&null!=Rn.targetMismatches.get(Tn.targetId),We=Tn.view.applyChanges(mr,Vt.isPrimaryClient,Wr,Er);return lf(Vt,Tn.targetId,We.fa),We.snapshot}),function Yt(Vt,Tn,$n,Rn){return xt.apply(this,arguments)})(l,ye,ke,ot);var xt};const y=yield Hh(l.localStore,e,!0),b=new Yu(e,y.hs),R=b.da(y.documents),F=Zc.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==l.onlineState,d),Y=b.applyChanges(R,l.isPrimaryClient,F);lf(l,r,Y.fa);const ie=new E_(e,r,b);return l.ba.set(e,ie),l.Da.has(r)?l.Da.get(r).push(e):l.Da.set(r,[e]),Y.snapshot}),ll.apply(this,arguments)}function tf(l,e,r){return nf.apply(this,arguments)}function nf(){return(nf=(0,g.Z)(function*(l,e,r){const s=at(l),d=s.ba.get(e),y=s.Da.get(d.targetId);if(y.length>1)return s.Da.set(d.targetId,y.filter(b=>!La(b,e))),void s.ba.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(d.targetId),s.sharedClientState.isActiveQueryTarget(d.targetId)||(yield Ka(s.localStore,d.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(d.targetId),r&&Tc(s.remoteStore,d.targetId),zs(s,d.targetId)}).catch(hr))):(zs(s,d.targetId),yield Ka(s.localStore,d.targetId,!0))})).apply(this,arguments)}function Lg(l,e){return yp.apply(this,arguments)}function yp(){return(yp=(0,g.Z)(function*(l,e){const r=at(l),s=r.ba.get(e),d=r.Da.get(s.targetId);r.isPrimaryClient&&1===d.length&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),Tc(r.remoteStore,s.targetId))})).apply(this,arguments)}function vp(){return(vp=(0,g.Z)(function*(l,e,r){const s=Gg(l);try{const d=yield function(b,R){const F=at(b),Y=Dn.now(),ie=R.reduce((ot,xt)=>ot.add(xt.key),sr());let ye,ke;return F.persistence.runTransaction("Locally write mutations","readwrite",ot=>{let xt=Cr(),Yt=sr();return F.os.getEntries(ot,ie).next(Vt=>{xt=Vt,xt.forEach((Tn,$n)=>{$n.isValidDocument()||(Yt=Yt.add(Tn))})}).next(()=>F.localDocuments.getOverlayedDocuments(ot,xt)).next(Vt=>{ye=Vt;const Tn=[];for(const $n of R){const Rn=ht($n,ye.get($n.key).overlayedDocument);null!=Rn&&Tn.push(new wr($n.key,Rn,mi(Rn.value.mapValue),Qr.exists(!0)))}return F.mutationQueue.addMutationBatch(ot,Y,Tn,R)}).next(Vt=>{ke=Vt;const Tn=Vt.applyToLocalDocumentSet(ye,Yt);return F.documentOverlayCache.saveOverlays(ot,Vt.batchId,Tn)})}).then(()=>({batchId:ke.batchId,changes:Ru(ye)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(d.batchId),function(b,R,F){let Y=b.xa[b.currentUser.toKey()];Y||(Y=new Br(qt)),Y=Y.insert(R,F),b.xa[b.currentUser.toKey()]=Y}(s,d.batchId,r),yield Qa(s,d.changes),yield Jd(s.remoteStore)}catch(d){const y=Ql(d,"Failed to persist write");r.reject(y)}})).apply(this,arguments)}function eu(l,e){return rf.apply(this,arguments)}function rf(){return(rf=(0,g.Z)(function*(l,e){const r=at(l);try{const s=yield function xo(l,e){const r=at(l),s=e.snapshotVersion;let d=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",y=>{const b=r.os.newChangeBuffer({trackRemovals:!0});d=r.ns;const R=[];e.targetChanges.forEach((ie,ye)=>{const ke=d.get(ye);if(!ke)return;R.push(r.Qr.removeMatchingKeys(y,ie.removedDocuments,ye).next(()=>r.Qr.addMatchingKeys(y,ie.addedDocuments,ye)));let ot=ke.withSequenceNumber(y.currentSequenceNumber);var Yt,Vt,Tn;null!==e.targetMismatches.get(ye)?ot=ot.withResumeToken(ni.EMPTY_BYTE_STRING,Zt.min()).withLastLimboFreeSnapshotVersion(Zt.min()):ie.resumeToken.approximateByteSize()>0&&(ot=ot.withResumeToken(ie.resumeToken,s)),d=d.insert(ye,ot),Vt=ot,Tn=ie,(0===(Yt=ke).resumeToken.approximateByteSize()||Vt.snapshotVersion.toMicroseconds()-Yt.snapshotVersion.toMicroseconds()>=3e8||Tn.addedDocuments.size+Tn.modifiedDocuments.size+Tn.removedDocuments.size>0)&&R.push(r.Qr.updateTargetData(y,ot))});let F=Cr(),Y=sr();if(e.documentUpdates.forEach(ie=>{e.resolvedLimboDocuments.has(ie)&&R.push(r.persistence.referenceDelegate.updateLimboDocument(y,ie))}),R.push(jh(y,b,e.documentUpdates).next(ie=>{F=ie.cs,Y=ie.ls})),!s.isEqual(Zt.min())){const ie=r.Qr.getLastRemoteSnapshotVersion(y).next(ye=>r.Qr.setTargetsMetadata(y,y.currentSequenceNumber,s));R.push(ie)}return qe.waitFor(R).next(()=>b.apply(y)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,F,Y)).next(()=>F)}).then(y=>(r.ns=d,y))}(r.localStore,e);e.targetChanges.forEach((d,y)=>{const b=r.Fa.get(y);b&&(Nt(d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size<=1),d.addedDocuments.size>0?b.wa=!0:d.modifiedDocuments.size>0?Nt(b.wa):d.removedDocuments.size>0&&(Nt(b.wa),b.wa=!1))}),yield Qa(r,s,e)}catch(s){yield hr(s)}})).apply(this,arguments)}function Vg(l,e,r){const s=at(l);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const d=[];s.ba.forEach((y,b)=>{const R=b.view.j_(e);R.snapshot&&d.push(R.snapshot)}),function(b,R){const F=at(b);F.onlineState=R;let Y=!1;F.queries.forEach((ie,ye)=>{for(const ke of ye.U_)ke.j_(R)&&(Y=!0)}),Y&&gp(F)}(s.eventManager,e),d.length&&s.Sa.h_(d),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function ih(l,e,r){return Ep.apply(this,arguments)}function Ep(){return(Ep=(0,g.Z)(function*(l,e,r){const s=at(l);s.sharedClientState.updateQueryState(e,"rejected",r);const d=s.Fa.get(e),y=d&&d.key;if(y){let b=new Br(kt.comparator);b=b.insert(y,Nn.newNoDocument(y,Zt.min()));const R=sr().add(y),F=new Rs(Zt.min(),new Map,new Br(qt),b,R);yield eu(s,F),s.va=s.va.remove(y),s.Fa.delete(e),Ug(s)}else yield Ka(s.localStore,e,!1).then(()=>zs(s,e,r)).catch(hr)})).apply(this,arguments)}function Ip(l,e){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,g.Z)(function*(l,e){const r=at(l),s=e.batch.batchId;try{const d=yield function vc(l,e){const r=at(l);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const d=e.batch.keys(),y=r.os.newChangeBuffer({trackRemovals:!0});return function(R,F,Y,ie){const ye=Y.batch,ke=ye.keys();let ot=qe.resolve();return ke.forEach(xt=>{ot=ot.next(()=>ie.getEntry(F,xt)).next(Yt=>{const Vt=Y.docVersions.get(xt);Nt(null!==Vt),Yt.version.compareTo(Vt)<0&&(ye.applyToRemoteDocument(Yt,Y),Yt.isValidDocument()&&(Yt.setReadTime(Y.commitVersion),ie.addEntry(Yt)))})}),ot.next(()=>R.mutationQueue.removeMutationBatch(F,ye))}(r,s,e,y).next(()=>y.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,d,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(R){let F=sr();for(let Y=0;Y<R.mutationResults.length;++Y)R.mutationResults[Y].transformResults.length>0&&(F=F.add(R.batch.mutations[Y].key));return F}(e))).next(()=>r.localDocuments.getDocuments(s,d))})}(r.localStore,e);Ju(r,s,null),af(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield Qa(r,d)}catch(d){yield hr(d)}})).apply(this,arguments)}function T_(l,e,r){return sf.apply(this,arguments)}function sf(){return(sf=(0,g.Z)(function*(l,e,r){const s=at(l);try{const d=yield function(b,R){const F=at(b);return F.persistence.runTransaction("Reject batch","readwrite-primary",Y=>{let ie;return F.mutationQueue.lookupMutationBatch(Y,R).next(ye=>(Nt(null!==ye),ie=ye.keys(),F.mutationQueue.removeMutationBatch(Y,ye))).next(()=>F.mutationQueue.performConsistencyCheck(Y)).next(()=>F.documentOverlayCache.removeOverlaysForBatchId(Y,ie,R)).next(()=>F.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Y,ie)).next(()=>F.localDocuments.getDocuments(Y,ie))})}(s.localStore,e);Ju(s,e,r),af(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield Qa(s,d)}catch(d){yield hr(d)}})).apply(this,arguments)}function Tp(){return(Tp=(0,g.Z)(function*(l,e){const r=at(l);Ya(r.remoteStore)||ge("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(b){const R=at(b);return R.persistence.runTransaction("Get highest unacknowledged batch id","readonly",F=>R.mutationQueue.getHighestUnacknowledgedBatchId(F))}(r.localStore);if(-1===s)return void e.resolve();const d=r.Oa.get(s)||[];d.push(e),r.Oa.set(s,d)}catch(s){const d=Ql(s,"Initialization of waitForPendingWrites() operation failed");e.reject(d)}})).apply(this,arguments)}function af(l,e){(l.Oa.get(e)||[]).forEach(r=>{r.resolve()}),l.Oa.delete(e)}function Ju(l,e,r){const s=at(l);let d=s.xa[s.currentUser.toKey()];if(d){const y=d.get(e);y&&(r?y.reject(r):y.resolve(),d=d.remove(e)),s.xa[s.currentUser.toKey()]=d}}function zs(l,e,r=null){l.sharedClientState.removeLocalQueryTarget(e);for(const s of l.Da.get(e))l.ba.delete(s),r&&l.Sa.ka(s,r);l.Da.delete(e),l.isPrimaryClient&&l.Ma.Vr(e).forEach(s=>{l.Ma.containsKey(s)||cf(l,s)})}function cf(l,e){l.Ca.delete(e.path.canonicalString());const r=l.va.get(e);null!==r&&(Tc(l.remoteStore,r),l.va=l.va.remove(e),l.Fa.delete(r),Ug(l))}function lf(l,e,r){for(const s of r)s instanceof y_?(l.Ma.addReference(s.key,e),C_(l,s)):s instanceof v_?(ge("SyncEngine","Document no longer in limbo: "+s.key),l.Ma.removeReference(s.key,e),l.Ma.containsKey(s.key)||cf(l,s.key)):bt()}function C_(l,e){const r=e.key,s=r.path.canonicalString();l.va.get(r)||l.Ca.has(s)||(ge("SyncEngine","New document in limbo: "+r),l.Ca.add(s),Ug(l))}function Ug(l){for(;l.Ca.size>0&&l.va.size<l.maxConcurrentLimboResolutions;){const e=l.Ca.values().next().value;l.Ca.delete(e);const r=new kt(wn.fromString(e)),s=l.Na.next();l.Fa.set(s,new I_(r)),l.va=l.va.insert(r,s),il(l.remoteStore,new ct(si(Me(r.path)),s,"TargetPurposeLimboResolution",L.oe))}}function Qa(l,e,r){return uf.apply(this,arguments)}function uf(){return uf=(0,g.Z)(function*(l,e,r){const s=at(l),d=[],y=[],b=[];var R;s.ba.isEmpty()||(s.ba.forEach((R,F)=>{b.push(s.Ba(F,e,r).then(Y=>{if((Y||r)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(F.targetId,Y&&!Y.fromCache?"current":"not-current"),Y){d.push(Y);const ie=Os.Ki(F.targetId,Y);y.push(ie)}}))}),yield Promise.all(b),s.Sa.h_(d),yield(R=(0,g.Z)(function*(Y,ie){const ye=at(Y);try{yield ye.persistence.runTransaction("notifyLocalViewChanges","readwrite",ke=>qe.forEach(ie,ot=>qe.forEach(ot.qi,xt=>ye.persistence.referenceDelegate.addReference(ke,ot.targetId,xt)).next(()=>qe.forEach(ot.Qi,xt=>ye.persistence.referenceDelegate.removeReference(ke,ot.targetId,xt)))))}catch(ke){if(!Sn(ke))throw ke;ge("LocalStore","Failed to update sequence numbers: "+ke)}for(const ke of ie){const ot=ke.targetId;if(!ke.fromCache){const xt=ye.ns.get(ot),Vt=xt.withLastLimboFreeSnapshotVersion(xt.snapshotVersion);ye.ns=ye.ns.insert(ot,Vt)}}}),function F(Y,ie){return R.apply(this,arguments)})(s.localStore,y))}),uf.apply(this,arguments)}function Cp(l,e){return df.apply(this,arguments)}function df(){return(df=(0,g.Z)(function*(l,e){const r=at(l);if(!r.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const s=yield Vh(r.localStore,e);r.currentUser=e,(y=r).Oa.forEach(R=>{R.forEach(F=>{F.reject(new _e(Ne.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),y.Oa.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Qa(r,s.us)}var y})).apply(this,arguments)}function sh(l,e){const r=at(l),s=r.Fa.get(e);if(s&&s.wa)return sr().add(s.key);{let d=sr();const y=r.Da.get(e);if(!y)return d;for(const b of y){const R=r.ba.get(b);d=d.unionWith(R.view.Ea)}return d}}function wc(l,e){return hf.apply(this,arguments)}function hf(){return(hf=(0,g.Z)(function*(l,e){const r=at(l),s=yield Hh(r.localStore,e.query,!0),d=e.view.pa(s);return r.isPrimaryClient&&lf(r,e.targetId,d.fa),d})).apply(this,arguments)}function Yv(l,e){return Bg.apply(this,arguments)}function Bg(){return(Bg=(0,g.Z)(function*(l,e){const r=at(l);return op(r.localStore,e).then(s=>Qa(r,s))})).apply(this,arguments)}function wp(l,e,r,s){return jg.apply(this,arguments)}function jg(){return(jg=(0,g.Z)(function*(l,e,r,s){const d=at(l),y=yield function(R,F){const Y=at(R),ie=at(Y.mutationQueue);return Y.persistence.runTransaction("Lookup mutation documents","readonly",ye=>ie.vn(ye,F).next(ke=>ke?Y.localDocuments.getDocuments(ye,ke):qe.resolve(null)))}(d.localStore,e);var F;null!==y?("pending"===r?yield Jd(d.remoteStore):"acknowledged"===r||"rejected"===r?(Ju(d,e,s||null),af(d,e),F=e,at(at(d.localStore).mutationQueue).Mn(F)):bt(),yield Qa(d,y)):ge("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function ul(){return(ul=(0,g.Z)(function*(l,e){const r=at(l);if(ff(r),Gg(r),!0===e&&!0!==r.La){const s=r.sharedClientState.getAllActiveQueryTargets(),d=yield Ap(r,s.toArray());r.La=!0,yield al(r.remoteStore,!0);for(const y of d)il(r.remoteStore,y)}else if(!1===e&&!1!==r.La){const s=[];let d=Promise.resolve();r.Da.forEach((y,b)=>{r.sharedClientState.isLocalQueryTarget(b)?s.push(b):d=d.then(()=>(zs(r,b),Ka(r.localStore,b,!0))),Tc(r.remoteStore,b)}),yield d,yield Ap(r,s),function(b){const R=at(b);R.Fa.forEach((F,Y)=>{Tc(R.remoteStore,Y)}),R.Ma.mr(),R.Fa=new Map,R.va=new Br(kt.comparator)}(r),r.La=!1,yield al(r.remoteStore,!1)}})).apply(this,arguments)}function Ap(l,e,r){return tu.apply(this,arguments)}function tu(){return(tu=(0,g.Z)(function*(l,e,r){const s=at(l),d=[],y=[];for(const b of e){let R;const F=s.Da.get(b);if(F&&0!==F.length){R=yield zl(s.localStore,si(F[0]));for(const Y of F){const ie=s.ba.get(Y),ye=yield wc(s,ie);ye.snapshot&&y.push(ye.snapshot)}}else{const Y=yield $h(s.localStore,b);R=yield zl(s.localStore,Y),yield _p(s,Hg(Y),b,!1,R.resumeToken)}d.push(R)}return s.Sa.h_(y),d})).apply(this,arguments)}function Hg(l){return ce(l.path,l.collectionGroup,l.orderBy,l.filters,l.limit,"F",l.startAt,l.endAt)}function w_(l){return r=at(l).localStore,at(at(r).persistence).Bi();var r}function nu(l,e,r,s){return $g.apply(this,arguments)}function $g(){return($g=(0,g.Z)(function*(l,e,r,s){const d=at(l);if(d.La)return void ge("SyncEngine","Ignoring unexpected query state notification.");const y=d.Da.get(e);if(y&&y.length>0)switch(r){case"current":case"not-current":{const b=yield op(d.localStore,$c(y[0])),R=Rs.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,ni.EMPTY_BYTE_STRING);yield Qa(d,b,R);break}case"rejected":yield Ka(d.localStore,e,!0),zs(d,e,s);break;default:bt()}})).apply(this,arguments)}function zg(l,e,r){return Dp.apply(this,arguments)}function Dp(){return(Dp=(0,g.Z)(function*(l,e,r){const s=ff(l);if(s.La){for(const d of e){if(s.Da.has(d)&&s.sharedClientState.isActiveQueryTarget(d)){ge("SyncEngine","Adding an already active target "+d);continue}const y=yield $h(s.localStore,d),b=yield zl(s.localStore,y);yield _p(s,Hg(y),b.targetId,!1,b.resumeToken),il(s.remoteStore,b)}for(const d of r)s.Da.has(d)&&(yield Ka(s.localStore,d,!1).then(()=>{Tc(s.remoteStore,d),zs(s,d)}).catch(hr))}})).apply(this,arguments)}function ff(l){const e=at(l);return e.remoteStore.remoteSyncer.applyRemoteEvent=eu.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ih.bind(null,e),e.Sa.h_=Ly.bind(null,e.eventManager),e.Sa.ka=g_.bind(null,e.eventManager),e}function Gg(l){const e=at(l);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ip.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=T_.bind(null,e),e}class Ns{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,g.Z)(function*(){r.serializer=Ue(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return $l(this.persistence,new nl,e.initialUser,this.serializer)}createPersistence(e){return new Dg(rp.Hr,this.serializer)}createSharedClientState(e){return new Sg}terminate(){var e=this;return(0,g.Z)(function*(){var r,s;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(s=e.indexBackfillerScheduler)||void 0===s||s.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class oh extends Ns{constructor(e,r,s){super(),this.Qa=e,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,s=this;return(0,g.Z)(function*(){yield r().call(s,e),yield s.Qa.initialize(s,e),yield Gg(s.Qa.syncEngine),yield Jd(s.Qa.remoteStore),yield s.persistence.fi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return $l(this.persistence,new nl,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new $d(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const s=new B(r,this.persistence);return new $(e.asyncQueue,s)}createPersistence(e){const r=sp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?fs.withCacheSize(this.cacheSizeBytes):fs.DEFAULT;return new Yi(this.synchronizeTabs,r,e.clientId,s,e.asyncQueue,Q(),le(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Sg}}class A_ extends oh{constructor(e,r){super(e,r,!1),this.Qa=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,s=this;return(0,g.Z)(function*(){yield r().call(s,e);const d=s.Qa.syncEngine;s.sharedClientState instanceof up&&(s.sharedClientState.syncEngine={Zs:wp.bind(null,d),Xs:nu.bind(null,d),eo:zg.bind(null,d),Bi:w_.bind(null,d),Ys:Yv.bind(null,d)},yield s.sharedClientState.start()),yield s.persistence.fi(function(){var y=(0,g.Z)(function*(b){yield function As(l,e){return ul.apply(this,arguments)}(s.Qa.syncEngine,b),s.gcScheduler&&(b&&!s.gcScheduler.started?s.gcScheduler.start():b||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(b&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():b||s.indexBackfillerScheduler.stop())});return function(b){return y.apply(this,arguments)}}())})()}createSharedClientState(e){const r=Q();if(!up.D(r))throw new _e(Ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=sp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new up(r,e.asyncQueue,s,e.clientId,e.initialUser)}}class ah{initialize(e,r){var s=this;return(0,g.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=d=>Vg(s.syncEngine,d,1),s.remoteStore.remoteSyncer.handleCredentialChange=Cp.bind(null,s.syncEngine),yield al(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ai}createDatastore(e){const r=Ue(e.databaseInfo.databaseId),s=new M(e.databaseInfo);return new yr(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return s=this.localStore,d=this.datastore,y=e.asyncQueue,b=r=>Vg(this.syncEngine,r,0),R=zu.D()?new zu:new Kl,new Ic(s,d,y,b,R);var s,d,y,b,R}createSyncEngine(e,r){return function(d,y,b,R,F,Y,ie){const ye=new rh(d,y,b,R,F,Y);return ie&&(ye.La=!0),ye}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,g.Z)(function*(){var r,s;yield(s=(0,g.Z)(function*(y){const b=at(y);ge("RemoteStore","RemoteStore shutting down."),b.M_.add(5),yield rl(b),b.O_.shutdown(),b.N_.set("Unknown")}),function d(y){return s.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}function Xu(l,e=10240){let r=0;return{read:()=>(0,g.Z)(function*(){if(r<l.byteLength){const s={value:l.slice(r,r+e),done:!1};return r+=e,s}return{done:!0}})(),cancel:()=>(0,g.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class ru{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Et("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class qg{constructor(e,r){this.Ua=e,this.serializer=r,this.metadata=new Ve,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(s=>{s&&s.sa()?this.metadata.resolve(s.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.ia)}`))},s=>this.metadata.reject(s))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,g.Z)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,g.Z)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,g.Z)(function*(){const r=yield e.za();if(null===r)return null;const s=e.Wa.decode(r),d=Number(s);isNaN(d)&&e.ja(`length string (${s}) is not valid number`);const y=yield e.Ha(d);return new m_(JSON.parse(y),r.length+d)})()}Ja(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}za(){var e=this;return(0,g.Z)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const r=e.Ja();r<0&&e.ja("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),s})()}Ha(e){var r=this;return(0,g.Z)(function*(){for(;r.buffer.length<e;)(yield r.Ya())&&r.ja("Reached the end of bundle when more is expected.");const s=r.Wa.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),s})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,g.Z)(function*(){const r=yield e.Ua.read();if(!r.done){const s=new Uint8Array(e.buffer.length+r.value.length);s.set(e.buffer),s.set(r.value,e.buffer.length),e.buffer=s}return r.done})()}}class Vy{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,g.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new _e(Ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const s=yield(d=(0,g.Z)(function*(b,R){const F=at(b),Y={documents:R.map(ot=>Pd(F.serializer,ot))},ie=yield F.xo("BatchGetDocuments",F.serializer.databaseId,wn.emptyPath(),Y,R.length),ye=new Map;ie.forEach(ot=>{const xt=function Hi(l,e){return"found"in e?function(s,d){Nt(!!d.found);const y=jo(s,d.found.name),b=bi(d.found.updateTime),R=d.found.createTime?bi(d.found.createTime):Zt.min(),F=new or({mapValue:{fields:d.found.fields}});return Nn.newFoundDocument(y,b,R,F)}(l,e):"missing"in e?function(s,d){Nt(!!d.missing),Nt(!!d.readTime);const y=jo(s,d.missing),b=bi(d.readTime);return Nn.newNoDocument(y,b)}(l,e):bt()}(F.serializer,ot);ye.set(xt.key.toString(),xt)});const ke=[];return R.forEach(ot=>{const xt=ye.get(ot.toString());Nt(!!xt),ke.push(xt)}),ke}),function y(b,R){return d.apply(this,arguments)})(r.datastore,e);var d;return s.forEach(d=>r.recordVersion(d)),s})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Zr(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,g.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var s;e.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,d)=>{const y=kt.fromPath(d);e.mutations.push(new Nr(y,e.precondition(y)))}),yield(s=(0,g.Z)(function*(y,b){const R=at(y),F={writes:b.map(Y=>bs(R.serializer,Y))};yield R.Co("Commit",R.serializer.databaseId,wn.emptyPath(),F)}),function d(y,b){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw bt();r=Zt.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!r.isEqual(s))throw new _e(Ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Zt.min())?Qr.exists(!1):Qr.updateTime(r):Qr.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Zt.min()))throw new _e(Ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qr.updateTime(r)}return Qr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class D_{constructor(e,r,s,d,y){this.asyncQueue=e,this.datastore=r,this.options=s,this.updateFunction=d,this.deferred=y,this.Za=s.maxAttempts,this.Yo=new ut(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Yo.$o((0,g.Z)(function*(){const r=new Vy(e.datastore),s=e.tu(r);s&&s.then(d=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(d)}).catch(y=>{e.nu(y)}))}).catch(d=>{e.nu(d)})}))}tu(e){try{const r=this.updateFunction(e);return!he(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!oa(r)}return!1}}class Uy{constructor(e,r,s,d){var y=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=d,this.user=rt.UNAUTHENTICATED,this.clientId=On.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var b=(0,g.Z)(function*(R){ge("FirestoreClient","Received user=",R.uid),yield y.authCredentialListener(R),y.user=R});return function(R){return b.apply(this,arguments)}}()),this.appCheckCredentials.start(s,b=>(ge("FirestoreClient","Received new app check token=",b),this.appCheckCredentialListener(b,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new _e(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Ve;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,g.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const d=Ql(s,"Failed to shutdown persistence");r.reject(d)}})),r.promise}}function Sp(l,e){return ch.apply(this,arguments)}function ch(){return ch=(0,g.Z)(function*(l,e){l.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const r=l.configuration;yield e.initialize(r);let s=r.initialUser;l.setCredentialChangeListener(function(){var d=(0,g.Z)(function*(y){s.isEqual(y)||(yield Vh(e.localStore,y),s=y)});return function(y){return d.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>l.terminate()),l._offlineComponents=e}),ch.apply(this,arguments)}function Ja(l,e){return iu.apply(this,arguments)}function iu(){return(iu=(0,g.Z)(function*(l,e){l.asyncQueue.verifyOperationInProgress();const r=yield ed(l);ge("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,l.configuration),l.setCredentialChangeListener(s=>Ni(e.remoteStore,s)),l.setAppCheckTokenChangeListener((s,d)=>Ni(e.remoteStore,d)),l._onlineComponents=e})).apply(this,arguments)}function Mp(l){return"FirebaseError"===l.name?l.code===Ne.FAILED_PRECONDITION||l.code===Ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code}function ed(l){return lh.apply(this,arguments)}function lh(){return(lh=(0,g.Z)(function*(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Sp(l,l._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!Mp(r))throw r;$t("Error using user provided cache. Falling back to memory cache: "+r),yield Sp(l,new Ns)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),yield Sp(l,new Ns);return l._offlineComponents})).apply(this,arguments)}function Wg(l){return S_.apply(this,arguments)}function S_(){return(S_=(0,g.Z)(function*(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ja(l,l._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),yield Ja(l,new ah))),l._onlineComponents})).apply(this,arguments)}function M_(l){return ed(l).then(e=>e.persistence)}function su(l){return ed(l).then(e=>e.localStore)}function Pp(l){return Wg(l).then(e=>e.remoteStore)}function _o(l){return Wg(l).then(e=>e.syncEngine)}function td(l){return ou.apply(this,arguments)}function ou(){return(ou=(0,g.Z)(function*(l){const e=yield Wg(l),r=e.eventManager;return r.onListen=Xl.bind(null,e.syncEngine),r.onUnlisten=tf.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=kg.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Lg.bind(null,e.syncEngine),r})).apply(this,arguments)}function da(l,e,r={}){const s=new Ve;return l.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function(y,b,R,F,Y){const ie=new ru({next:ke=>{b.enqueueAndForget(()=>Ku(y,ye));const ot=ke.docs.has(R);!ot&&ke.fromCache?Y.reject(new _e(Ne.UNAVAILABLE,"Failed to get document because the client is offline.")):ot&&ke.fromCache&&F&&"server"===F.source?Y.reject(new _e(Ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Y.resolve(ke)},error:ke=>Y.reject(ke)}),ye=new nh(Me(R.path),ie,{includeMetadataChanges:!0,ra:!0});return Zu(y,ye)}(yield td(l),l.asyncQueue,e,r,s)})),s.promise}function Kg(l,e,r={}){const s=new Ve;return l.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function(y,b,R,F,Y){const ie=new ru({next:ke=>{b.enqueueAndForget(()=>Ku(y,ye)),ke.fromCache&&"server"===F.source?Y.reject(new _e(Ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Y.resolve(ke)},error:ke=>Y.reject(ke)}),ye=new nh(R,ie,{includeMetadataChanges:!0,ra:!0});return Zu(y,ye)}(yield td(l),l.asyncQueue,e,r,s)})),s.promise}function R_(l){const e={};return void 0!==l.timeoutSeconds&&(e.timeoutSeconds=l.timeoutSeconds),e}const x_=new Map;function Xg(l,e,r){if(!r)throw new _e(Ne.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${e}.`)}function em(l,e,r,s){if(!0===e&&!0===s)throw new _e(Ne.INVALID_ARGUMENT,`${l} and ${r} cannot be used together.`)}function pf(l){if(!kt.isDocumentKey(l))throw new _e(Ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function O_(l){if(kt.isDocumentKey(l))throw new _e(Ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function tm(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const e=(s=l).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof l?"a function":bt()}function vr(l,e){if("_delegate"in l&&(l=l._delegate),!(l instanceof e)){if(e.name===l.constructor.name)throw new _e(Ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=tm(l);throw new _e(Ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return l}function uh(l,e){if(e<=0)throw new _e(Ne.INVALID_ARGUMENT,`Function ${l}() requires a positive number, but it was: ${e}.`)}class nm{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new _e(Ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new _e(Ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}em("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=R_(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(y){if(void 0!==y.timeoutSeconds){if(isNaN(y.timeoutSeconds))throw new _e(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (must not be NaN)`);if(y.timeoutSeconds<5)throw new _e(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (minimum allowed value is 5)`);if(y.timeoutSeconds>30)throw new _e(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rd{constructor(e,r,s,d){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=d,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new _e(Ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new _e(Ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nm(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new et;switch(s.type){case"firstParty":return new zt(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _e(Ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=x_.get(r);s&&(ge("ComponentProvider","Removing Datastore"),x_.delete(r),s.terminate())}(this),Promise.resolve()}}function xp(l,e,r,s={}){var d;const y=(l=vr(l,rd))._getSettings(),b=`${e}:${r}`;if("firestore.googleapis.com"!==y.host&&y.host!==b&&$t("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),l._setSettings(Object.assign(Object.assign({},y),{host:b,ssl:!1})),s.mockUserToken){let R,F;if("string"==typeof s.mockUserToken)R=s.mockUserToken,F=rt.MOCK_USER;else{R=(0,Ee.Sg)(s.mockUserToken,null===(d=l._app)||void 0===d?void 0:d.options.projectId);const Y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!Y)throw new _e(Ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");F=new rt(Y)}l._authCredentials=new gt(new tt(R,F))}}class Gs{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Gs(this.firestore,e,this._query)}}class Ji{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ji(this.firestore,e,this._key)}}class Xa extends Gs{constructor(e,r,s){super(e,r,Me(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ji(this.firestore,null,new kt(e))}withConverter(e){return new Xa(this.firestore,e,this._path)}}function rm(l,e,...r){if(l=(0,Ee.m9)(l),Xg("collection","path",e),l instanceof rd){const s=wn.fromString(e,...r);return O_(s),new Xa(l,null,s)}{if(!(l instanceof Ji||l instanceof Xa))throw new _e(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(wn.fromString(e,...r));return O_(s),new Xa(l.firestore,null,s)}}function Op(l,e){if(l=vr(l,rd),Xg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new _e(Ne.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Gs(l,null,(s=e,new V(wn.emptyPath(),s)));var s}function im(l,e,...r){if(l=(0,Ee.m9)(l),1===arguments.length&&(e=On.newId()),Xg("doc","path",e),l instanceof rd){const s=wn.fromString(e,...r);return pf(s),new Ji(l,null,new kt(s))}{if(!(l instanceof Ji||l instanceof Xa))throw new _e(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(wn.fromString(e,...r));return pf(s),new Ji(l.firestore,l instanceof Xa?l.converter:null,new kt(s))}}function Np(l,e){return l=(0,Ee.m9)(l),e=(0,Ee.m9)(e),(l instanceof Ji||l instanceof Xa)&&(e instanceof Ji||e instanceof Xa)&&l.firestore===e.firestore&&l.path===e.path&&l.converter===e.converter}function kp(l,e){return l=(0,Ee.m9)(l),e=(0,Ee.m9)(e),l instanceof Gs&&e instanceof Gs&&l.firestore===e.firestore&&La(l._query,e._query)&&l.converter===e.converter}class Fp{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new ut(this,"async_queue_retry"),this.hu=()=>{const r=le();r&&ge("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Yo.Wo()};const e=le();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const r=le();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const r=new Ve;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,g.Z)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(r){if(!Sn(r))throw r;ge("AsyncQueue","Operation failed with retryable error: "+r)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const r=this.iu.then(()=>(this.uu=!0,e().catch(s=>{throw this.au=s,this.uu=!1,Et("INTERNAL UNHANDLED ERROR: ",function(b){let R=b.message||"";return b.stack&&(R=b.stack.includes(b.message)?b.stack:b.message+"\n"+b.stack),R}(s)),s}).then(s=>(this.uu=!1,s))));return this.iu=r,r}enqueueAfterDelay(e,r,s){this.Pu(),this.lu.indexOf(e)>-1&&(r=0);const d=pp.createAndSchedule(this,e,r,s,y=>this.Eu(y));return this._u.push(d),d}Pu(){this.au&&bt()}verifyOperationInProgress(){}du(){var e=this;return(0,g.Z)(function*(){let r;do{r=e.iu,yield r}while(r!==e.iu)})()}Au(e){for(const r of this._u)if(r.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this._u)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const r=this._u.indexOf(e);this._u.splice(r,1)}}function sm(l){return function(r,s){if("object"!=typeof r||null===r)return!1;const d=r;for(const y of["next","error","complete"])if(y in d&&"function"==typeof d[y])return!0;return!1}(l)}class zy{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ve,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,s){this._progressObserver={next:e,error:r,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const dh=-1;class yi extends rd{constructor(e,r,s,d){super(e,r,s,d),this.type="firestore",this._queue=new Fp,this._persistenceKey=d?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Vp(this),this._firestoreClient.terminate()}}function Lp(l,e){const r="object"==typeof l?l:(0,u.getApp)(),s="string"==typeof l?l:e||"(default)",d=(0,u._getProvider)(r,"firestore").getImmediate({identifier:s});if(!d._initialized){const y=(0,Ee.P0)("firestore");y&&xp(d,...y)}return d}function zi(l){return l._firestoreClient||Vp(l),l._firestoreClient.verifyNotTerminated(),l._firestoreClient}function Vp(l){var e,r,s;const d=l._freezeSettings(),y=(F=(null===(e=l._app)||void 0===e?void 0:e.options.appId)||"",new Do(l._databaseId,F,l._persistenceKey,(ie=d).host,ie.ssl,ie.experimentalForceLongPolling,ie.experimentalAutoDetectLongPolling,R_(ie.experimentalLongPollingOptions),ie.useFetchStreams));var F,ie;l._firestoreClient=new Uy(l._authCredentials,l._appCheckCredentials,l._queue,y),null!==(r=d.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(s=d.localCache)&&void 0!==s&&s._onlineComponentProvider&&(l._firestoreClient._uninitializedComponentsProvider={_offlineKind:d.localCache.kind,_offline:d.localCache._offlineComponentProvider,_online:d.localCache._onlineComponentProvider})}function Up(l,e){gf(l=vr(l,yi));const r=zi(l);if(r._uninitializedComponentsProvider)throw new _e(Ne.FAILED_PRECONDITION,"SDK cache is already specified.");$t("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=l._freezeSettings(),d=new ah;return cu(r,d,new oh(d,s.cacheSizeBytes,e?.forceOwnership))}function Dc(l){gf(l=vr(l,yi));const e=zi(l);if(e._uninitializedComponentsProvider)throw new _e(Ne.FAILED_PRECONDITION,"SDK cache is already specified.");$t("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=l._freezeSettings(),s=new ah;return cu(e,s,new A_(s,r.cacheSizeBytes))}function cu(l,e,r){const s=new Ve;return l.asyncQueue.enqueue((0,g.Z)(function*(){try{yield Sp(l,r),yield Ja(l,e),s.resolve()}catch(d){const y=d;if(!Mp(y))throw y;$t("Error enabling indexeddb cache. Falling back to memory cache: "+y),s.reject(y)}})).then(()=>s.promise)}function om(l){if(l._initialized&&!l._terminated)throw new _e(Ne.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ve;return l._queue.enqueueAndForgetEvenWhileRestricted((0,g.Z)(function*(){try{yield(r=(0,g.Z)(function*(d){if(!oe.D())return Promise.resolve();const y=d+"main";yield oe.delete(y)}),function s(d){return r.apply(this,arguments)})(sp(l._databaseId,l._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function Gy(l){return function(r){const s=new Ve;return r.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function bp(l,e){return Tp.apply(this,arguments)}(yield _o(r),s)})),s.promise}(zi(l=vr(l,yi)))}function k_(l){return function P_(l){return l.asyncQueue.enqueue((0,g.Z)(function*(){const e=yield M_(l),r=yield Pp(l);return e.setNetworkEnabled(!0),function(d){const y=at(d);return y.M_.delete(0),bc(y)}(r)}))}(zi(l=vr(l,yi)))}function qy(l){return function By(l){return l.asyncQueue.enqueue((0,g.Z)(function*(){const e=yield M_(l),r=yield Pp(l);return e.setNetworkEnabled(!1),(s=(0,g.Z)(function*(y){const b=at(y);b.M_.add(0),yield rl(b),b.N_.set("Offline")}),function d(y){return s.apply(this,arguments)})(r);var s}))}(zi(l=vr(l,yi)))}function Wy(l,e){const r=zi(l=vr(l,yi)),s=new zy;return function au(l,e,r,s){const d=function(b,R){let F;return F="string"==typeof b?va().encode(b):b,ie=function(ie,ye){if(ie instanceof Uint8Array)return Xu(ie,void 0);if(ie instanceof ArrayBuffer)return Xu(new Uint8Array(ie),void 0);if(ie instanceof ReadableStream)return ie.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(F),new qg(ie,R);var ie}(r,Ue(e));l.asyncQueue.enqueueAndForget((0,g.Z)(function*(){!function dl(l,e,r){const s=at(l);var d;(d=(0,g.Z)(function*(b,R,F){try{const Y=yield R.getMetadata();if(yield function(xt,Yt){const Vt=at(xt),Tn=bi(Yt.createTime);return Vt.persistence.runTransaction("hasNewerBundle","readonly",$n=>Vt.$r.getBundleMetadata($n,Yt.id)).then($n=>!!$n&&$n.createTime.compareTo(Tn)>=0)}(b.localStore,Y))return yield R.close(),F._completeWith({taskState:"Success",documentsLoaded:(xt=Y).totalDocuments,bytesLoaded:xt.totalBytes,totalDocuments:xt.totalDocuments,totalBytes:xt.totalBytes}),Promise.resolve(new Set);F._updateProgress(__(Y));const ie=new Xh(Y,b.localStore,R.serializer);let ye=yield R.qa();for(;ye;){const ot=yield ie._a(ye);ot&&F._updateProgress(ot),ye=yield R.qa()}const ke=yield ie.complete();return yield Qa(b,ke.ca,void 0),yield function(xt,Yt){const Vt=at(xt);return Vt.persistence.runTransaction("Save bundle","readwrite",Tn=>Vt.$r.saveBundleMetadata(Tn,Yt))}(b.localStore,Y),F._completeWith(ke.progress),Promise.resolve(ke.ua)}catch(Y){return $t("SyncEngine",`Loading bundle failed with ${Y}`),F._failWith(Y),Promise.resolve(new Set)}var xt}),function y(b,R,F){return d.apply(this,arguments)})(s,e,r).then(d=>{s.sharedClientState.notifyBundleLoaded(d)})}(yield _o(l),d,s)}))}(r,l._databaseId,e,s),s}function Zy(l,e){return function nd(l,e){return l.asyncQueue.enqueue((0,g.Z)(function*(){return function(s,d){const y=at(s);return y.persistence.runTransaction("Get named query","readonly",b=>y.$r.getNamedQuery(b,d))}(yield su(l),e)}))}(zi(l=vr(l,yi)),e).then(r=>r?new Gs(l,null,r.query):null)}function gf(l){if(l._initialized||l._terminated)throw new _e(Ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class yo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yo(ni.fromBase64String(e))}catch(r){throw new _e(Ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new yo(ni.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Sc{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new _e(Ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hh{constructor(e){this._methodName=e}}class jp{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new _e(Ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new _e(Ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qt(this._lat,e._lat)||qt(this._long,e._long)}}const Ky=/^__.*__$/;class Yy{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new wr(e,this.data,this.fieldMask,r,this.fieldTransforms):new yn(e,this.data,r,this.fieldTransforms)}}class Qy{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new wr(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Jy(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt()}}class id{constructor(e,r,s,d,y,b){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=d,void 0===y&&this.mu(),this.fieldTransforms=y||[],this.fieldMask=b||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new id(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),d=this.gu({path:s,yu:!1});return d.wu(e),d}Su(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),d=this.gu({path:s,yu:!1});return d.mu(),d}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return gh(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(Jy(this.fu)&&Ky.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class F_{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||Ue(e)}Fu(e,r,s,d=!1){return new id({fu:e,methodName:r,vu:s,path:Hn.emptyPath(),yu:!1,Cu:d},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sa(l){const e=l._freezeSettings(),r=Ue(l._databaseId);return new F_(l._databaseId,!!e.ignoreUndefinedProperties,r)}function fh(l,e,r,s,d,y={}){const b=l.Fu(y.merge||y.mergeFields?2:0,e,r,d);lm("Data must be an object, but it was:",b,s);const R=$p(s,b);let F,Y;if(y.merge)F=new Ii(b.fieldMask),Y=b.fieldTransforms;else if(y.mergeFields){const ie=[];for(const ye of y.mergeFields){const ke=ph(e,ye,r);if(!b.contains(ke))throw new _e(Ne.INVALID_ARGUMENT,`Field '${ke}' is specified in your field mask but missing from your input data.`);um(ie,ke)||ie.push(ke)}F=new Ii(ie),Y=b.fieldTransforms.filter(ye=>F.covers(ye.field))}else F=null,Y=b.fieldTransforms;return new Yy(new or(R),F,Y)}class Mc extends hh{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mc}}function Hp(l,e,r){return new id({fu:3,vu:e.settings.vu,methodName:l._methodName,yu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class mf extends hh{_toFieldTransform(e){return new ja(e.path,new qc)}isEqual(e){return e instanceof mf}}class uu extends hh{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=Hp(this,e,!0),s=this.Mu.map(y=>od(y,r)),d=new ia(s);return new ja(e.path,d)}isEqual(e){return e instanceof uu&&(0,Ee.vZ)(this.Mu,e.Mu)}}class _f extends hh{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=Hp(this,e,!0),s=this.Mu.map(y=>od(y,r)),d=new Lo(s);return new ja(e.path,d)}isEqual(e){return e instanceof _f&&(0,Ee.vZ)(this.Mu,e.Mu)}}class du extends hh{constructor(e,r){super(e),this.xu=r}_toFieldTransform(e){const r=new Ba(e.serializer,Ua(e.serializer,this.xu));return new ja(e.path,r)}isEqual(e){return e instanceof du&&this.xu===e.xu}}function yf(l,e,r,s){const d=l.Fu(1,e,r);lm("Data must be an object, but it was:",d,s);const y=[],b=or.empty();Xi(s,(F,Y)=>{const ie=zp(e,F,r);Y=(0,Ee.m9)(Y);const ye=d.Su(ie);if(Y instanceof Mc)y.push(ie);else{const ke=od(Y,ye);null!=ke&&(y.push(ie),b.set(ie,ke))}});const R=new Ii(y);return new Qy(b,R,d.fieldTransforms)}function sd(l,e,r,s,d,y){const b=l.Fu(1,e,r),R=[ph(e,s,r)],F=[d];if(y.length%2!=0)throw new _e(Ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ke=0;ke<y.length;ke+=2)R.push(ph(e,y[ke])),F.push(y[ke+1]);const Y=[],ie=or.empty();for(let ke=R.length-1;ke>=0;--ke)if(!um(Y,R[ke])){const ot=R[ke];let xt=F[ke];xt=(0,Ee.m9)(xt);const Yt=b.Su(ot);if(xt instanceof Mc)Y.push(ot);else{const Vt=od(xt,Yt);null!=Vt&&(Y.push(ot),ie.set(ot,Vt))}}const ye=new Ii(Y);return new Qy(ie,ye,b.fieldTransforms)}function vf(l,e,r,s=!1){return od(r,l.Fu(s?4:3,e))}function od(l,e){if(hu(l=(0,Ee.m9)(l)))return lm("Unsupported field value:",e,l),$p(l,e);if(l instanceof hh)return function(s,d){if(!Jy(d.fu))throw d.Du(`${s._methodName}() can only be used with update() and set()`);if(!d.path)throw d.Du(`${s._methodName}() is not currently supported inside arrays`);const y=s._toFieldTransform(d);y&&d.fieldTransforms.push(y)}(l,e),null;if(void 0===l&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),l instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(s,d){const y=[];let b=0;for(const R of s){let F=od(R,d.bu(b));null==F&&(F={nullValue:"NULL_VALUE"}),y.push(F),b++}return{arrayValue:{values:y}}}(l,e)}return function(s,d){if(null===(s=(0,Ee.m9)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return Ua(d.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const y=Dn.fromDate(s);return{timestampValue:Ha(d.serializer,y)}}if(s instanceof Dn){const y=new Dn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ha(d.serializer,y)}}if(s instanceof jp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof yo)return{bytesValue:Ph(d.serializer,s._byteString)};if(s instanceof Ji){const y=d.databaseId,b=s.firestore._databaseId;if(!b.isEqual(y))throw d.Du(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${y.projectId}/${y.database}`);return{referenceValue:$a(s.firestore._databaseId||d.databaseId,s._key.path)}}throw d.Du(`Unsupported field value: ${tm(s)}`)}(l,e)}function $p(l,e){const r={};return Oa(l)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xi(l,(s,d)=>{const y=od(d,e.pu(s));null!=y&&(r[s]=y)}),{mapValue:{fields:r}}}function hu(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof Dn||l instanceof jp||l instanceof yo||l instanceof Ji||l instanceof hh)}function lm(l,e,r){if(!hu(r)||"object"!=typeof(d=r)||null===d||Object.getPrototypeOf(d)!==Object.prototype&&null!==Object.getPrototypeOf(d)){const s=tm(r);throw e.Du("an object"===s?l+" a custom object":l+" "+s)}var d}function ph(l,e,r){if((e=(0,Ee.m9)(e))instanceof Sc)return e._internalPath;if("string"==typeof e)return zp(l,e);throw gh("Field path arguments must be of type string or ",l,!1,void 0,r)}const Xy=new RegExp("[~\\*/\\[\\]]");function zp(l,e,r){if(e.search(Xy)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,r);try{return new Sc(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,r)}}function gh(l,e,r,s,d){const y=s&&!s.isEmpty(),b=void 0!==d;let R=`Function ${e}() called with invalid data`;r&&(R+=" (via `toFirestore()`)"),R+=". ";let F="";return(y||b)&&(F+=" (found",y&&(F+=` in field ${s}`),b&&(F+=` in document ${d}`),F+=")"),new _e(Ne.INVALID_ARGUMENT,R+l+F)}function um(l,e){return l.some(r=>r.isEqual(e))}class Ef{constructor(e,r,s,d,y){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=d,this._converter=y}get id(){return this._key.path.lastSegment()}get ref(){return new Ji(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new L_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(dm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class L_ extends Ef{data(){return super.data()}}function dm(l,e){return"string"==typeof e?zp(l,e):e instanceof Sc?e._internalPath:e._delegate._internalPath}function V_(l){if("L"===l.limitType&&0===l.explicitOrderBy.length)throw new _e(Ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mh{}class ad extends mh{}function ev(l,e,...r){let s=[];e instanceof mh&&s.push(e),s=s.concat(r),function(y){const b=y.filter(F=>F instanceof hl).length,R=y.filter(F=>F instanceof _h).length;if(b>1||b>0&&R>0)throw new _e(Ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const d of s)l=d._apply(l);return l}class _h extends ad{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new _h(e,r,s)}_apply(e){const r=this._parse(e);return $_(e._query,r),new Gs(e.firestore,e.converter,ic(e._query,r))}_parse(e){const r=Sa(e.firestore);return function(y,b,R,F,Y,ie,ye){let ke;if(Y.isKeyField()){if("array-contains"===ie||"array-contains-any"===ie)throw new _e(Ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ie}' queries on documentId().`);if("in"===ie||"not-in"===ie){Zp(ye,ie);const ot=[];for(const xt of ye)ot.push(H_(F,y,xt));ke={arrayValue:{values:ot}}}else ke=H_(F,y,ye)}else"in"!==ie&&"not-in"!==ie&&"array-contains-any"!==ie||Zp(ye,ie),ke=vf(R,"where",ye,"in"===ie||"not-in"===ie);return Kn.create(Y,ie,ke)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function hm(l,e,r){const s=e,d=dm("where",l);return _h._create(d,s,r)}class hl extends mh{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new hl(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:ar.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(d,y){let b=d;const R=y.getFlattenedFilters();for(const F of R)$_(b,F),b=ic(b,F)}(e._query,r),new Gs(e.firestore,e.converter,ic(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class fm extends ad{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new fm(e,r)}_apply(e){const r=function(d,y,b){if(null!==d.startAt)throw new _e(Ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==d.endAt)throw new _e(Ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Es(y,b)}(e._query,this._field,this._direction);return new Gs(e.firestore,e.converter,function(d,y){const b=d.explicitOrderBy.concat([y]);return new V(d.path,d.collectionGroup,b,d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(e._query,r))}}function U_(l,e="asc"){const r=e,s=dm("orderBy",l);return fm._create(s,r)}class pm extends ad{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new pm(e,r,s)}_apply(e){return new Gs(e.firestore,e.converter,sc(e._query,this._limit,this._limitType))}}function nv(l){return uh("limit",l),pm._create("limit",l,"F")}function Gp(l){return uh("limitToLast",l),pm._create("limitToLast",l,"L")}class qp extends ad{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new qp(e,r,s)}_apply(e){const r=bf(e,this.type,this._docOrFields,this._inclusive);return new Gs(e.firestore,e.converter,(y=r,new V((d=e._query).path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,y,d.endAt)));var d,y}}function yh(...l){return qp._create("startAt",l,!0)}function If(...l){return qp._create("startAfter",l,!1)}class Wp extends ad{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new Wp(e,r,s)}_apply(e){const r=bf(e,this.type,this._docOrFields,this._inclusive);return new Gs(e.firestore,e.converter,(y=r,new V((d=e._query).path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,y)));var d,y}}function B_(...l){return Wp._create("endBefore",l,!1)}function j_(...l){return Wp._create("endAt",l,!0)}function bf(l,e,r,s){if(r[0]=(0,Ee.m9)(r[0]),r[0]instanceof Ef)return function(y,b,R,F,Y){if(!F)throw new _e(Ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${R}().`);const ie=[];for(const ye of ns(y))if(ye.field.isKeyField())ie.push(Xt(b,F.key));else{const ke=F.data.field(ye.field);if(_s(ke))throw new _e(Ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ye.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ke){const ot=ye.field.canonicalString();throw new _e(Ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ot}' (used as the orderBy) does not exist.`)}ie.push(ke)}return new es(ie,Y)}(l._query,l.firestore._databaseId,e,r[0]._document,s);{const d=Sa(l.firestore);return function(b,R,F,Y,ie,ye){const ke=b.explicitOrderBy;if(ie.length>ke.length)throw new _e(Ne.INVALID_ARGUMENT,`Too many arguments provided to ${Y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ot=[];for(let xt=0;xt<ie.length;xt++){const Yt=ie[xt];if(ke[xt].field.isKeyField()){if("string"!=typeof Yt)throw new _e(Ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Y}(), but got a ${typeof Yt}`);if(!cr(b)&&-1!==Yt.indexOf("/"))throw new _e(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Y}() must be a plain document ID, but '${Yt}' contains a slash.`);const Vt=b.path.child(wn.fromString(Yt));if(!kt.isDocumentKey(Vt))throw new _e(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Y}() must result in a valid document path, but '${Vt}' is not because it contains an odd number of segments.`);const Tn=new kt(Vt);ot.push(Xt(R,Tn))}else{const Vt=vf(F,Y,Yt);ot.push(Vt)}}return new es(ot,ye)}(l._query,l.firestore._databaseId,d,e,r,s)}}function H_(l,e,r){if("string"==typeof(r=(0,Ee.m9)(r))){if(""===r)throw new _e(Ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cr(e)&&-1!==r.indexOf("/"))throw new _e(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(wn.fromString(r));if(!kt.isDocumentKey(s))throw new _e(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Xt(l,new kt(s))}if(r instanceof Ji)return Xt(l,r._key);throw new _e(Ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tm(r)}.`)}function Zp(l,e){if(!Array.isArray(l)||0===l.length)throw new _e(Ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $_(l,e){const r=function(d,y){for(const b of d)for(const R of b.getFlattenedFilters())if(y.indexOf(R.op)>=0)return R.op;return null}(l.filters,function(d){switch(d){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new _e(Ne.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class rv{convertValue(e,r="none"){switch(Pi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ri(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw bt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return Xi(e,(d,y)=>{s[d]=this.convertValue(y,r)}),s}convertGeoPoint(e){return new jp(ri(e.latitude),ri(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=oo(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Mi(e));default:return null}}convertTimestamp(e){const r=ss(e);return new Dn(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=wn.fromString(e);Nt(Ce(s));const d=new Mn(s.get(1),s.get(3)),y=new kt(s.popFirst(5));return d.isEqual(r)||Et(`Document ${y} contains a document reference within a different database (${d.projectId}/${d.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),y}}function Tf(l,e,r){let s;return s=l?r&&(r.merge||r.mergeFields)?l.toFirestore(e,r):l.toFirestore(e):e,s}class z_ extends rv{constructor(e){super(),this.firestore=e}convertBytes(e){return new yo(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ji(this.firestore,null,r)}}class cd{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fu extends Ef{constructor(e,r,s,d,y,b){super(e,r,s,d,b),this._firestore=e,this._firestoreImpl=e,this.metadata=y}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Kp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(dm("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class Kp extends fu{data(e={}){return super.data(e)}}class vo{constructor(e,r,s,d){this._firestore=e,this._userDataWriter=r,this._snapshot=d,this.metadata=new cd(d.hasPendingWrites,d.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new Kp(this._firestore,this._userDataWriter,s.key,s,new cd(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new _e(Ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(d,y){if(d._snapshot.oldDocs.isEmpty()){let b=0;return d._snapshot.docChanges.map(R=>({type:"added",doc:new Kp(d._firestore,d._userDataWriter,R.doc.key,R.doc,new cd(d._snapshot.mutatedKeys.has(R.doc.key),d._snapshot.fromCache),d.query.converter),oldIndex:-1,newIndex:b++}))}{let b=d._snapshot.oldDocs;return d._snapshot.docChanges.filter(R=>y||3!==R.type).map(R=>{const F=new Kp(d._firestore,d._userDataWriter,R.doc.key,R.doc,new cd(d._snapshot.mutatedKeys.has(R.doc.key),d._snapshot.fromCache),d.query.converter);let Y=-1,ie=-1;return 0!==R.type&&(Y=b.indexOf(R.doc.key),b=b.delete(R.doc.key)),1!==R.type&&(b=b.add(R.doc),ie=b.indexOf(R.doc.key)),{type:sv(R.type),doc:F,oldIndex:Y,newIndex:ie}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function sv(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt()}}function Pc(l,e){return l instanceof fu&&e instanceof fu?l._firestore===e._firestore&&l._key.isEqual(e._key)&&(null===l._document?null===e._document:l._document.isEqual(e._document))&&l._converter===e._converter:l instanceof vo&&e instanceof vo&&l._firestore===e._firestore&&kp(l.query,e.query)&&l.metadata.isEqual(e.metadata)&&l._snapshot.isEqual(e._snapshot)}function ov(l){l=vr(l,Ji);const e=vr(l.firestore,yi);return da(zi(e),l._key).then(r=>Z_(e,l,r))}class pu extends rv{constructor(e){super(),this.firestore=e}convertBytes(e){return new yo(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ji(this.firestore,null,r)}}function Yp(l){l=vr(l,Ji);const e=vr(l.firestore,yi),r=zi(e),s=new pu(e);return function jy(l,e){const r=new Ve;return l.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return(s=(0,g.Z)(function*(y,b,R){try{const F=yield function(ie,ye){const ke=at(ie);return ke.persistence.runTransaction("read document","readonly",ot=>ke.localDocuments.getDocument(ot,ye))}(y,b);F.isFoundDocument()?R.resolve(F):F.isNoDocument()?R.resolve(null):R.reject(new _e(Ne.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(F){const Y=Ql(F,`Failed to get document '${b} from cache`);R.reject(Y)}}),function d(y,b,R){return s.apply(this,arguments)})(yield su(l),e,r);var s})),r.promise}(r,l._key).then(d=>new fu(e,s,l._key,d,new cd(null!==d&&d.hasLocalMutations,!0),l.converter))}function ld(l){l=vr(l,Ji);const e=vr(l.firestore,yi);return da(zi(e),l._key,{source:"server"}).then(r=>Z_(e,l,r))}function q_(l){l=vr(l,Gs);const e=vr(l.firestore,yi),r=zi(e),s=new pu(e);return V_(l._query),Kg(r,l._query).then(d=>new vo(e,s,l,d))}function tE(l){l=vr(l,Gs);const e=vr(l.firestore,yi),r=zi(e),s=new pu(e);return function Rp(l,e){const r=new Ve;return l.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return(s=(0,g.Z)(function*(y,b,R){try{const F=yield Hh(y,b,!0),Y=new Yu(b,F.hs),ie=Y.da(F.documents),ye=Y.applyChanges(ie,!1);R.resolve(ye.snapshot)}catch(F){const Y=Ql(F,`Failed to execute query '${b} against cache`);R.reject(Y)}}),function d(y,b,R){return s.apply(this,arguments)})(yield su(l),e,r);var s})),r.promise}(r,l._query).then(d=>new vo(e,s,l,d))}function VE(l){l=vr(l,Gs);const e=vr(l.firestore,yi),r=zi(e),s=new pu(e);return Kg(r,l._query,{source:"server"}).then(d=>new vo(e,s,l,d))}function nE(l,e,r){l=vr(l,Ji);const s=vr(l.firestore,yi),d=Tf(l.converter,e,r);return ki(s,[fh(Sa(s),"setDoc",l._key,d,null!==l.converter,r).toMutation(l._key,Qr.none())])}function W_(l,e,r,...s){l=vr(l,Ji);const d=vr(l.firestore,yi),y=Sa(d);let b;return b="string"==typeof(e=(0,Ee.m9)(e))||e instanceof Sc?sd(y,"updateDoc",l._key,e,r,s):yf(y,"updateDoc",l._key,e),ki(d,[b.toMutation(l._key,Qr.exists(!0))])}function fl(l){return ki(vr(l.firestore,yi),[new Zr(l._key,Qr.none())])}function av(l,e){const r=vr(l.firestore,yi),s=im(l),d=Tf(l.converter,e);return ki(r,[fh(Sa(l.firestore),"addDoc",s._key,d,null!==l.converter,{}).toMutation(s._key,Qr.exists(!1))]).then(()=>s)}function Cf(l,...e){var r,s,d;l=(0,Ee.m9)(l);let y={includeMetadataChanges:!1,source:"default"},b=0;"object"!=typeof e[b]||sm(e[b])||(y=e[b],b++);const R={includeMetadataChanges:y.includeMetadataChanges,source:y.source};if(sm(e[b])){const ye=e[b];e[b]=null===(r=ye.next)||void 0===r?void 0:r.bind(ye),e[b+1]=null===(s=ye.error)||void 0===s?void 0:s.bind(ye),e[b+2]=null===(d=ye.complete)||void 0===d?void 0:d.bind(ye)}let F,Y,ie;if(l instanceof Ji)Y=vr(l.firestore,yi),ie=Me(l._key.path),F={next:ye=>{e[b]&&e[b](Z_(Y,l,ye))},error:e[b+1],complete:e[b+2]};else{const ye=vr(l,Gs);Y=vr(ye.firestore,yi),ie=ye._query;const ke=new pu(Y);F={next:ot=>{e[b]&&e[b](new vo(Y,ke,ye,ot))},error:e[b+1],complete:e[b+2]},V_(l._query)}return function(ke,ot,xt,Yt){const Vt=new ru(Yt),Tn=new nh(ot,Vt,xt);return ke.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return Zu(yield td(ke),Tn)})),()=>{Vt.$a(),ke.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return Ku(yield td(ke),Tn)}))}}(zi(Y),ie,R,F)}function cv(l,e){return function Hy(l,e){const r=new ru(e);return l.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return d=yield td(l),y=r,at(d).z_.add(y),void y.next();var d,y})),()=>{r.$a(),l.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return d=yield td(l),y=r,void at(d).z_.delete(y);var d,y}))}}(zi(l=vr(l,yi)),sm(e)?e:{next:e})}function ki(l,e){return function(s,d){const y=new Ve;return s.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function Da(l,e,r){return vp.apply(this,arguments)}(yield _o(s),d,y)})),y.promise}(zi(l),e)}function Z_(l,e,r){const s=r.docs.get(e._key),d=new pu(l);return new fu(l,d,e._key,s,new cd(r.hasPendingWrites,r.fromCache),e.converter)}const pl={maxAttempts:5};class ud{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Sa(e)}set(e,r,s){this._verifyNotCommitted();const d=gu(e,this._firestore),y=Tf(d.converter,r,s),b=fh(this._dataReader,"WriteBatch.set",d._key,y,null!==d.converter,s);return this._mutations.push(b.toMutation(d._key,Qr.none())),this}update(e,r,s,...d){this._verifyNotCommitted();const y=gu(e,this._firestore);let b;return b="string"==typeof(r=(0,Ee.m9)(r))||r instanceof Sc?sd(this._dataReader,"WriteBatch.update",y._key,r,s,d):yf(this._dataReader,"WriteBatch.update",y._key,r),this._mutations.push(b.toMutation(y._key,Qr.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=gu(e,this._firestore);return this._mutations=this._mutations.concat(new Zr(r._key,Qr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _e(Ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function gu(l,e){if((l=(0,Ee.m9)(l)).firestore!==e)throw new _e(Ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}class pv extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=Sa(r)}get(r){const s=gu(r,this._firestore),d=new z_(this._firestore);return this._transaction.lookup([s._key]).then(y=>{if(!y||1!==y.length)return bt();const b=y[0];if(b.isFoundDocument())return new Ef(this._firestore,d,b.key,b,s.converter);if(b.isNoDocument())return new Ef(this._firestore,d,s._key,null,s.converter);throw bt()})}set(r,s,d){const y=gu(r,this._firestore),b=Tf(y.converter,s,d),R=fh(this._dataReader,"Transaction.set",y._key,b,null!==y.converter,d);return this._transaction.set(y._key,R),this}update(r,s,d,...y){const b=gu(r,this._firestore);let R;return R="string"==typeof(s=(0,Ee.m9)(s))||s instanceof Sc?sd(this._dataReader,"Transaction.update",b._key,s,d,y):yf(this._dataReader,"Transaction.update",b._key,s),this._transaction.update(b._key,R),this}delete(r){const s=gu(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=gu(e,this._firestore),s=new pu(this._firestore);return super.get(e).then(d=>new fu(this._firestore,s,r._key,d._document,new cd(!1,!1),r.converter))}}function J_(l,e,r){l=vr(l,yi);const s=Object.assign(Object.assign({},pl),r);return function(y){if(y.maxAttempts<1)throw new _e(Ne.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(y,b,R){const F=new Ve;return y.asyncQueue.enqueueAndForget((0,g.Z)(function*(){const Y=yield function Zg(l){return Wg(l).then(e=>e.datastore)}(y);new D_(y.asyncQueue,Y,R,b,F).Xa()})),F.promise}(zi(l),d=>e(new pv(l,d)),s)}function X_(){return new Mc("deleteField")}function ym(){return new mf("serverTimestamp")}function Af(...l){return new uu("arrayUnion",l)}function Qp(...l){return new _f("arrayRemove",l)}function ey(l){return new du("increment",l)}!function(e,r=!0){He=u.SDK_VERSION,(0,u._registerComponent)(new K.wA("firestore",(s,{instanceIdentifier:d,options:y})=>{const b=s.getProvider("app").getImmediate(),R=new yi(new vt(s.getProvider("auth-internal")),new hn(s.getProvider("app-check-internal")),function(Y,ie){if(!Object.prototype.hasOwnProperty.apply(Y.options,["projectId"]))throw new _e(Ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mn(Y.options.projectId,ie)}(b,d),b);return y=Object.assign({useFetchStreams:r},y),R._setSettings(y),R},"PUBLIC").setMultipleInstances(!0)),(0,u.registerVersion)(ze,"4.6.3",e),(0,u.registerVersion)(ze,"4.6.3","esm2017")}()},9058:(Qt,Ze,H)=>{H.d(Ze,{$s:()=>jt,BH:()=>He,G6:()=>Ne,L:()=>xe,LL:()=>vt,P0:()=>Ke,Pz:()=>rt,Sg:()=>it,UG:()=>ge,ZB:()=>Oe,ZR:()=>gt,aH:()=>ze,b$:()=>zn,eu:()=>Ve,hl:()=>_e,jU:()=>Et,m9:()=>Ft,ne:()=>kr,pd:()=>Fn,r3:()=>Cn,ru:()=>$t,tV:()=>fe,uI:()=>Ye,vZ:()=>wn,w1:()=>Nt,xO:()=>kt,xb:()=>Zt,z$:()=>Ct,zI:()=>tt,zd:()=>vn});const Ie=function(ue){const X=[];let $=0;for(let B=0;B<ue.length;B++){let L=ue.charCodeAt(B);L<128?X[$++]=L:L<2048?(X[$++]=L>>6|192,X[$++]=63&L|128):55296==(64512&L)&&B+1<ue.length&&56320==(64512&ue.charCodeAt(B+1))?(L=65536+((1023&L)<<10)+(1023&ue.charCodeAt(++B)),X[$++]=L>>18|240,X[$++]=L>>12&63|128,X[$++]=L>>6&63|128,X[$++]=63&L|128):(X[$++]=L>>12|224,X[$++]=L>>6&63|128,X[$++]=63&L|128)}return X},Pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ue,X){if(!Array.isArray(ue))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=X?this.byteToCharMapWebSafe_:this.byteToCharMap_,B=[];for(let L=0;L<ue.length;L+=3){const he=ue[L],Fe=L+1<ue.length,yt=Fe?ue[L+1]:0,Rt=L+2<ue.length,tn=Rt?ue[L+2]:0;let Jn=(15&yt)<<2|tn>>6,xn=63&tn;Rt||(xn=64,Fe||(Jn=64)),B.push($[he>>2],$[(3&he)<<4|yt>>4],$[Jn],$[xn])}return B.join("")},encodeString(ue,X){return this.HAS_NATIVE_SUPPORT&&!X?btoa(ue):this.encodeByteArray(Ie(ue),X)},decodeString(ue,X){return this.HAS_NATIVE_SUPPORT&&!X?atob(ue):function(ue){const X=[];let $=0,B=0;for(;$<ue.length;){const L=ue[$++];if(L<128)X[B++]=String.fromCharCode(L);else if(L>191&&L<224){const he=ue[$++];X[B++]=String.fromCharCode((31&L)<<6|63&he)}else if(L>239&&L<365){const Rt=((7&L)<<18|(63&ue[$++])<<12|(63&ue[$++])<<6|63&ue[$++])-65536;X[B++]=String.fromCharCode(55296+(Rt>>10)),X[B++]=String.fromCharCode(56320+(1023&Rt))}else{const he=ue[$++],Fe=ue[$++];X[B++]=String.fromCharCode((15&L)<<12|(63&he)<<6|63&Fe)}}return X.join("")}(this.decodeStringToByteArray(ue,X))},decodeStringToByteArray(ue,X){this.init_();const $=X?this.charToByteMapWebSafe_:this.charToByteMap_,B=[];for(let L=0;L<ue.length;){const he=$[ue.charAt(L++)],yt=L<ue.length?$[ue.charAt(L)]:0;++L;const tn=L<ue.length?$[ue.charAt(L)]:64;++L;const an=L<ue.length?$[ue.charAt(L)]:64;if(++L,null==he||null==yt||null==tn||null==an)throw new me;B.push(he<<2|yt>>4),64!==tn&&(B.push(yt<<4&240|tn>>2),64!==an&&B.push(tn<<6&192|an))}return B},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ue=0;ue<this.ENCODED_VALS.length;ue++)this.byteToCharMap_[ue]=this.ENCODED_VALS.charAt(ue),this.charToByteMap_[this.byteToCharMap_[ue]]=ue,this.byteToCharMapWebSafe_[ue]=this.ENCODED_VALS_WEBSAFE.charAt(ue),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ue]]=ue,ue>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ue)]=ue,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ue)]=ue)}}};class me extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xe=function(ue){return function(ue){const X=Ie(ue);return Pe.encodeByteArray(X,!0)}(ue).replace(/\./g,"")},fe=function(ue){try{return Pe.decodeString(ue,!0)}catch(X){console.error("base64Decode failed: ",X)}return null};function Oe(ue,X){if(!(X instanceof Object))return X;switch(X.constructor){case Date:return new Date(X.getTime());case Object:void 0===ue&&(ue={});break;case Array:ue=[];break;default:return X}for(const $ in X)!X.hasOwnProperty($)||!pt($)||(ue[$]=Oe(ue[$],X[$]));return ue}function pt(ue){return"__proto__"!==ue}const _t=()=>{try{return function Xe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ue=process.env.__FIREBASE_DEFAULTS__;return ue?JSON.parse(ue):void 0})()||(()=>{if(typeof document>"u")return;let ue;try{ue=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const X=ue&&fe(ue[1]);return X&&JSON.parse(X)})()}catch(ue){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ue}`)}},Ke=ue=>{const X=(ue=>{var X,$;return null===($=null===(X=_t())||void 0===X?void 0:X.emulatorHosts)||void 0===$?void 0:$[ue]})(ue);if(!X)return;const $=X.lastIndexOf(":");if($<=0||$+1===X.length)throw new Error(`Invalid host ${X} with no separate hostname and port!`);const B=parseInt(X.substring($+1),10);return"["===X[0]?[X.substring(1,$-1),B]:[X.substring(0,$),B]},ze=()=>{var ue;return null===(ue=_t())||void 0===ue?void 0:ue.config},rt=ue=>{var X;return null===(X=_t())||void 0===X?void 0:X[`_${ue}`]};class He{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((X,$)=>{this.resolve=X,this.reject=$})}wrapCallback(X){return($,B)=>{$?this.reject($):this.resolve(B),"function"==typeof X&&(this.promise.catch(()=>{}),1===X.length?X($):X($,B))}}}function it(ue,X){if(ue.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const B=X||"demo-project",L=ue.iat||0,he=ue.sub||ue.user_id;if(!he)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Fe=Object.assign({iss:`https://securetoken.google.com/${B}`,aud:B,iat:L,exp:L+3600,auth_time:L,sub:he,user_id:he,firebase:{sign_in_provider:"custom",identities:{}}},ue);return[xe(JSON.stringify({alg:"none",type:"JWT"})),xe(JSON.stringify(Fe)),""].join(".")}function Ct(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ye(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function ge(){var ue;const X=null===(ue=_t())||void 0===ue?void 0:ue.forceEnvironment;if("node"===X)return!0;if("browser"===X)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Et(){return"object"==typeof self&&self.self===self}function $t(){const ue="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ue&&void 0!==ue.id}function zn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Nt(){const ue=Ct();return ue.indexOf("MSIE ")>=0||ue.indexOf("Trident/")>=0}function Ne(){return!ge()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _e(){try{return"object"==typeof indexedDB}catch{return!1}}function Ve(){return new Promise((ue,X)=>{try{let $=!0;const B="validate-browser-context-for-indexeddb-analytics-module",L=self.indexedDB.open(B);L.onsuccess=()=>{L.result.close(),$||self.indexedDB.deleteDatabase(B),ue(!0)},L.onupgradeneeded=()=>{$=!1},L.onerror=()=>{var he;X((null===(he=L.error)||void 0===he?void 0:he.message)||"")}}catch($){X($)}})}function tt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class gt extends Error{constructor(X,$,B){super($),this.code=X,this.customData=B,this.name="FirebaseError",Object.setPrototypeOf(this,gt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vt.prototype.create)}}class vt{constructor(X,$,B){this.service=X,this.serviceName=$,this.errors=B}create(X,...$){const B=$[0]||{},L=`${this.service}/${X}`,he=this.errors[X],Fe=he?function Jt(ue,X){return ue.replace(zt,($,B)=>{const L=X[B];return null!=L?String(L):`<${B}?>`})}(he,B):"Error";return new gt(L,`${this.serviceName}: ${Fe} (${L}).`,B)}}const zt=/\{\$([^}]+)}/g;function Cn(ue,X){return Object.prototype.hasOwnProperty.call(ue,X)}function Zt(ue){for(const X in ue)if(Object.prototype.hasOwnProperty.call(ue,X))return!1;return!0}function wn(ue,X){if(ue===X)return!0;const $=Object.keys(ue),B=Object.keys(X);for(const L of $){if(!B.includes(L))return!1;const he=ue[L],Fe=X[L];if(dr(he)&&dr(Fe)){if(!wn(he,Fe))return!1}else if(he!==Fe)return!1}for(const L of B)if(!$.includes(L))return!1;return!0}function dr(ue){return null!==ue&&"object"==typeof ue}function kt(ue){const X=[];for(const[$,B]of Object.entries(ue))Array.isArray(B)?B.forEach(L=>{X.push(encodeURIComponent($)+"="+encodeURIComponent(L))}):X.push(encodeURIComponent($)+"="+encodeURIComponent(B));return X.length?"&"+X.join("&"):""}function vn(ue){const X={};return ue.replace(/^\?/,"").split("&").forEach(B=>{if(B){const[L,he]=B.split("=");X[decodeURIComponent(L)]=decodeURIComponent(he)}}),X}function Fn(ue){const X=ue.indexOf("?");if(!X)return"";const $=ue.indexOf("#",X);return ue.substring(X,$>0?$:void 0)}function kr(ue,X){const $=new Dr(ue,X);return $.subscribe.bind($)}class Dr{constructor(X,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{X(this)}).catch(B=>{this.error(B)})}next(X){this.forEachObserver($=>{$.next(X)})}error(X){this.forEachObserver($=>{$.error(X)}),this.close(X)}complete(){this.forEachObserver(X=>{X.complete()}),this.close()}subscribe(X,$,B){let L;if(void 0===X&&void 0===$&&void 0===B)throw new Error("Missing Observer.");L=function Bn(ue,X){if("object"!=typeof ue||null===ue)return!1;for(const $ of X)if($ in ue&&"function"==typeof ue[$])return!0;return!1}(X,["next","error","complete"])?X:{next:X,error:$,complete:B},void 0===L.next&&(L.next=Mr),void 0===L.error&&(L.error=Mr),void 0===L.complete&&(L.complete=Mr);const he=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?L.error(this.finalError):L.complete()}catch{}}),this.observers.push(L),he}unsubscribeOne(X){void 0===this.observers||void 0===this.observers[X]||(delete this.observers[X],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(X){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,X)}sendOne(X,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[X])try{$(this.observers[X])}catch(B){typeof console<"u"&&console.error&&console.error(B)}})}close(X){this.finalized||(this.finalized=!0,void 0!==X&&(this.finalError=X),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mr(){}const Tt=1e3,oe=2,Se=144e5,ft=.5;function jt(ue,X=Tt,$=oe){const B=X*Math.pow($,ue),L=Math.round(ft*B*(Math.random()-.5)*2);return Math.min(Se,B+L)}function Ft(ue){return ue&&ue._delegate?ue._delegate:ue}},4626:(Qt,Ze,H)=>{H.d(Ze,{e:()=>Ae});var g=H(5861),u=H(2459),K=H(6306),Ie=H(7398),Ee=H(5879),Pe=H(981),me=H(3914);let Ae=(()=>{class xe{constructor(ve,Oe){this.afAuth=ve,this.router=Oe,this.user$=this.afAuth.authState}login(ve,Oe){return this.router.navigate(["/admin"]),(0,u.D)(this.afAuth.signInWithEmailAndPassword(ve,Oe)).pipe((0,K.K)(pt=>{throw console.error("Login error: ",pt),pt}))}logout(){var ve=this;return(0,g.Z)(function*(){yield ve.afAuth.signOut(),ve.router.navigate(["/login"])})()}isLoggedIn(){return this.user$.pipe((0,Ie.U)(ve=>!!ve))}static#e=this.\u0275fac=function(Oe){return new(Oe||xe)(Ee.LFG(Pe.zQ),Ee.LFG(me.F0))};static#t=this.\u0275prov=Ee.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"})}return xe})()},3375:(Qt,Ze,H)=>{H.d(Ze,{n:()=>K});var g=H(5879),u=H(7104);let K=(()=>{class Ie{constructor(Pe){this.firestore=Pe}getEvents(){return this.firestore.collection("Events",Pe=>Pe.orderBy("Community_Sponsor","desc")).valueChanges()}addEvent(Pe){const me=this.firestore.createId();return this.firestore.collection("Events").doc(me).set(Pe)}updateEvent(Pe,me){return this.eventsCollection.doc(Pe).update(me)}static#e=this.\u0275fac=function(me){return new(me||Ie)(g.LFG(u.ST))};static#t=this.\u0275prov=g.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}return Ie})()},8924:(Qt,Ze,H)=>{H.d(Ze,{b:()=>Ie});var g=H(7398),u=H(5879),K=H(7104);let Ie=(()=>{class Ee{constructor(me){this.firestore=me}getAllOffers(){return this.firestore.collection("Offers",me=>me.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,g.U)(me=>me.map(Ae=>{const xe=Ae.payload.doc.data();return{id:Ae.payload.doc.id,...xe}})))}getOffers(){return this.firestore.collection("Offers",me=>me.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,g.U)(me=>me.map(Ae=>{const xe=Ae.payload.doc.data();return{id:Ae.payload.doc.id,...xe}}))).pipe((0,g.U)(me=>me.filter(Ae=>1==Ae.Approved)))}addOffer(me){me.id=this.firestore.createId();const Ae=(new Date).toISOString().split("T")[0];return me.Date_Created=Ae,this.firestore.collection("Offers").doc(me.id).set(me)}getOffer(me){return this.firestore.collection("Offers").doc(me).valueChanges()}updateOffer(me,Ae){return console.log("Update Offer: "+me),this.firestore.collection("Offers").doc(me).update(Ae)}getAllOfferTypes(){return this.firestore.collection("OfferTypes").valueChanges().pipe((0,g.U)(me=>{const Ae=me.map(xe=>xe.OfferType);return Array.from(new Set(Ae))}))}getOfferById(me){return this.firestore.collection("Offers").doc(me).valueChanges()}static#e=this.\u0275fac=function(Ae){return new(Ae||Ee)(u.LFG(K.ST))};static#t=this.\u0275prov=u.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})()},614:(Qt,Ze,H)=>{H.d(Ze,{r:()=>Ie});var g=H(7398),u=H(5879),K=H(7104);let Ie=(()=>{class Ee{constructor(me){this.firestore=me,this.servicesCollection=this.firestore.collection("Services")}getServices(){return this.firestore.collection("Services",me=>me.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,g.U)(me=>me.map(Ae=>{const xe=Ae.payload.doc.data();return{id:Ae.payload.doc.id,...xe}}))).pipe((0,g.U)(me=>me.filter(Ae=>1==Ae.Approved)))}getAllServices(){return this.firestore.collection("Services",me=>me.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,g.U)(me=>me.map(Ae=>{const xe=Ae.payload.doc.data();return{id:Ae.payload.doc.id,...xe}})))}getServiceById(me){return this.servicesCollection.doc(me).valueChanges()}getServicesByType(me){return this.firestore.collection("Services",Ae=>Ae.where("Service_Type","==",me)).valueChanges()}getAllServiceTypes(){return this.firestore.collection("ListOfServices").valueChanges().pipe((0,g.U)(me=>{const Ae=me.map(xe=>xe.Name);return Array.from(new Set(Ae))}))}addService(me){const Ae=this.firestore.createId();return me.id=Ae,me.Date_Created=(new Date).toISOString(),this.servicesCollection.doc(Ae).set(me),this.firestore.doc(`Services/${Ae}`).valueChanges().pipe((0,g.U)(xe=>xe?{id:Ae,...xe}:void 0))}updateService(me,Ae){return console.log("update",me),Ae.Date_Updated=(new Date).toISOString(),this.servicesCollection.doc(me).update(Ae),this.firestore.doc(`Services/${me}`).valueChanges().pipe((0,g.U)(xe=>xe?{id:me,...xe}:void 0))}deleteService(me){return this.servicesCollection.doc(me).delete()}static#e=this.\u0275fac=function(Ae){return new(Ae||Ee)(u.LFG(K.ST))};static#t=this.\u0275prov=u.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})()},8266:(Qt,Ze,H)=>{H.d(Ze,{d:()=>Pe});var g=H(5879),u=H(7104);let K=(()=>{class me{constructor(xe){this.firestore=xe}getAnalytics(){return this.firestore.collection("analytics").valueChanges()}static#e=this.\u0275fac=function(fe){return new(fe||me)(g.LFG(u.ST))};static#t=this.\u0275prov=g.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"})}return me})();var Ie=H(6814);function Ee(me,Ae){if(1&me&&(g.TgZ(0,"tr")(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td"),g._uU(4),g.ALo(5,"json"),g.qZA(),g.TgZ(6,"td"),g._uU(7),g.ALo(8,"date"),g.qZA()()),2&me){const xe=Ae.$implicit;g.xp6(2),g.Oqu(xe.page_path),g.xp6(2),g.Oqu(g.lcZ(5,3,xe.query_params)),g.xp6(3),g.Oqu(g.xi3(8,5,xe.timestamp,"medium"))}}let Pe=(()=>{class me{constructor(xe){this.analyticsService=xe,this.analyticsData=[]}ngOnInit(){this.analyticsService.getAnalytics().subscribe(xe=>{this.analyticsData=xe})}static#e=this.\u0275fac=function(fe){return new(fe||me)(g.Y36(K))};static#t=this.\u0275cmp=g.Xpm({type:me,selectors:[["app-analytics"]],decls:14,vars:1,consts:[[1,"container"],[1,"table"],[4,"ngFor","ngForOf"]],template:function(fe,ve){1&fe&&(g.TgZ(0,"div",0)(1,"h2"),g._uU(2,"Analytics Data"),g.qZA(),g.TgZ(3,"table",1)(4,"thead")(5,"tr")(6,"th"),g._uU(7,"Page Path"),g.qZA(),g.TgZ(8,"th"),g._uU(9,"Query Params"),g.qZA(),g.TgZ(10,"th"),g._uU(11,"Timestamp"),g.qZA()()(),g.TgZ(12,"tbody"),g.YNc(13,Ee,9,8,"tr",2),g.qZA()()()),2&fe&&(g.xp6(13),g.Q6J("ngForOf",ve.analyticsData))},dependencies:[Ie.sg,Ie.Ts,Ie.uU],styles:[".container[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2}"]})}return me})()},6713:(Qt,Ze,H)=>{var g=H(6593),u=H(5879),K=H(6814);let Ie;try{Ie=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Ie=!1}let fe,Ee=(()=>{class f{constructor(a){this._platformId=a,this.isBrowser=this._platformId?(0,K.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ie)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(u.Lbi))};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();function Oe(f){return function ve(){if(null==fe&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>fe=!0}))}finally{fe=fe||!1}return fe}()?f:!!f.capture}function Pi(f){return Array.isArray(f)?f:[f]}var So=H(8645),Ri=H(2572),as=H(5211),br=H(5592),Xt=H(8180),Ln=H(2181),gi=H(6321),ys=H(9360),zr=H(8251);function ii(f,o=gi.z){return(0,ys.e)((a,p)=>{let E=null,x=null,W=null;const se=()=>{if(E){E.unsubscribe(),E=null;const $e=x;x=null,p.next($e)}};function Te(){const $e=W+f,At=o.now();if(At<$e)return E=this.schedule(void 0,$e-At),void p.add(E);se()}a.subscribe((0,zr.x)(p,$e=>{x=$e,W=o.now(),E||(E=o.schedule(Te,f),p.add(E))},()=>{se(),p.complete()},void 0,()=>{x=E=null}))})}var rr=H(7398),Wi=H(7921),vs=H(9773);const Zi=new Set;let or,mi=(()=>{class f{constructor(a,p){this._platform=a,this._nonce=p,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):es}matchMedia(a){return(this._platform.WEBKIT||this._platform.BLINK)&&function Nn(f,o){if(!Zi.has(f))try{or||(or=document.createElement("style"),o&&(or.nonce=o),or.setAttribute("type","text/css"),document.head.appendChild(or)),or.sheet&&(or.sheet.insertRule(`@media ${f} {body{ }}`,0),Zi.add(f))}catch(a){console.error(a)}}(a,this._nonce),this._matchMedia(a)}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(Ee),u.LFG(u.Ojb,8))};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();function es(f){return{matches:"all"===f||""===f,media:f,addListener:()=>{},removeListener:()=>{}}}let _i=(()=>{class f{constructor(a,p){this._mediaMatcher=a,this._zone=p,this._queries=new Map,this._destroySubject=new So.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(a){return cs(Pi(a)).some(E=>this._registerQuery(E).mql.matches)}observe(a){const E=cs(Pi(a)).map(W=>this._registerQuery(W).observable);let x=(0,Ri.a)(E);return x=(0,as.z)(x.pipe((0,Xt.q)(1)),x.pipe(function gr(f){return(0,Ln.h)((o,a)=>f<=a)}(1),ii(0))),x.pipe((0,rr.U)(W=>{const se={matches:!1,breakpoints:{}};return W.forEach(({matches:Te,query:$e})=>{se.matches=se.matches||Te,se.breakpoints[$e]=Te}),se}))}_registerQuery(a){if(this._queries.has(a))return this._queries.get(a);const p=this._mediaMatcher.matchMedia(a),x={observable:new br.y(W=>{const se=Te=>this._zone.run(()=>W.next(Te));return p.addListener(se),()=>{p.removeListener(se)}}).pipe((0,Wi.O)(p),(0,rr.U)(({matches:W})=>({query:a,matches:W})),(0,vs.R)(this._destroySubject)),mql:p};return this._queries.set(a,x),x}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(mi),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();function cs(f){return f.map(o=>o.split(",")).reduce((o,a)=>o.concat(a)).map(o=>o.trim())}const uo="cdk-high-contrast-black-on-white",ho="cdk-high-contrast-white-on-black",ko="cdk-high-contrast-active";let Va=(()=>{class f{constructor(a,p){this._platform=a,this._document=p,this._breakpointSubscription=(0,u.f3M)(_i).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const a=this._document.createElement("div");a.style.backgroundColor="rgb(1,2,3)",a.style.position="absolute",this._document.body.appendChild(a);const p=this._document.defaultView||window,E=p&&p.getComputedStyle?p.getComputedStyle(a):null,x=(E&&E.backgroundColor||"").replace(/ /g,"");switch(a.remove(),x){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const a=this._document.body.classList;a.remove(ko,uo,ho),this._hasCheckedHighContrastMode=!0;const p=this.getHighContrastMode();1===p?a.add(ko,uo):2===p&&a.add(ko,ho)}}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(Ee),u.LFG(K.K0))};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})(),Fo=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=u.oAB({type:f});static#n=this.\u0275inj=u.cJS({})}return f})();const Qr=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function Wc(){return!0}});let P=(()=>{class f{constructor(a,p,E){this._sanityChecks=p,this._document=E,this._hasDoneGlobalChecks=!1,a._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(a){return!function rt(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[a])}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(Va),u.LFG(Qr,8),u.LFG(K.K0))};static#t=this.\u0275mod=u.oAB({type:f});static#n=this.\u0275inj=u.cJS({imports:[Fo,Fo]})}return f})(),Vo=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=u.oAB({type:f});static#n=this.\u0275inj=u.cJS({imports:[P,P]})}return f})();const xu=Oe({passive:!0,capture:!0});class Ml{constructor(){this._events=new Map,this._delegateEventHandler=o=>{const a=function ze(f){return f.composedPath?f.composedPath()[0]:f.target}(o);a&&this._events.get(o.type)?.forEach((p,E)=>{(E===a||E.contains(a))&&p.forEach(x=>x.handleEvent(o))})}}addHandler(o,a,p,E){const x=this._events.get(a);if(x){const W=x.get(p);W?W.add(E):x.set(p,new Set([E]))}else this._events.set(a,new Map([[p,new Set([E])]])),o.runOutsideAngular(()=>{document.addEventListener(a,this._delegateEventHandler,xu)})}removeHandler(o,a,p){const E=this._events.get(o);if(!E)return;const x=E.get(a);x&&(x.delete(p),0===x.size&&E.delete(a),0===E.size&&(this._events.delete(o),document.removeEventListener(o,this._delegateEventHandler,xu)))}}class fo{static#e=this._eventManager=new Ml;constructor(o,a,p,E){this._target=o,this._ngZone=a,this._platform=E,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,E.isBrowser&&(this._containerElement=qi(p))}fadeInRipple(o,a,p={}){const E=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),x={...aa,...p.animation},W=p.radius||function Uo(f,o,a){const p=Math.max(Math.abs(f-a.left),Math.abs(f-a.right)),E=Math.max(Math.abs(o-a.top),Math.abs(o-a.bottom));return Math.sqrt(p*p+E*E)}(o,a,E),se=o-E.left,Te=a-E.top,$e=x.enterDuration,At=document.createElement("div");At.classList.add("mat-ripple-element"),At.style.left=se-W+"px",At.style.top=Te-W+"px",At.style.height=2*W+"px",At.style.width=2*W+"px",null!=p.color&&(At.style.backgroundColor=p.color),At.style.transitionDuration=`${$e}ms`,this._containerElement.appendChild(At);const Ht=window.getComputedStyle(At),In=Ht.transitionDuration,cn="none"===Ht.transitionProperty||"0s"===In||"0s, 0s"===In||0===E.width&&0===E.height,ln=new Ps(this,At,p,cn);At.style.transform="scale3d(1, 1, 1)",ln.state=0,p.persistent||(this._mostRecentTransientRipple=ln);return!cn&&($e||x.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Hr=()=>this._finishRippleTransition(ln),Xr=()=>this._destroyRipple(ln);At.addEventListener("transitionend",Hr),At.addEventListener("transitioncancel",Xr)}),this._activeRipples.set(ln,null),(cn||!$e)&&this._finishRippleTransition(ln),ln}fadeOutRipple(o){if(2===o.state||3===o.state)return;const a=o.element,p={...aa,...o.config.animation};a.style.transitionDuration=`${p.exitDuration}ms`,a.style.opacity="0",o.state=2,(o._animationForciblyDisabledThroughCss||!p.exitDuration)&&this._finishRippleTransition(o)}fadeOutAll(){this._getActiveRipples().forEach(o=>o.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(o=>{o.config.persistent||o.fadeOut()})}setupTriggerEvents(o){const a=qi(o);!this._platform.isBrowser||!a||a===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=a,dc.forEach(p=>{fo._eventManager.addHandler(this._ngZone,p,a,this)}))}handleEvent(o){"mousedown"===o.type?this._onMousedown(o):"touchstart"===o.type?this._onTouchStart(o):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Ou.forEach(a=>{this._triggerElement.addEventListener(a,this,Zc)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(o){0===o.state?this._startFadeOutTransition(o):2===o.state&&this._destroyRipple(o)}_startFadeOutTransition(o){const a=o===this._mostRecentTransientRipple,{persistent:p}=o.config;o.state=1,!p&&(!a||!this._isPointerDown)&&o.fadeOut()}_destroyRipple(o){const a=this._activeRipples.get(o)??null;this._activeRipples.delete(o),this._activeRipples.size||(this._containerRect=null),o===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),o.state=3,null!==a&&(o.element.removeEventListener("transitionend",a.onTransitionEnd),o.element.removeEventListener("transitioncancel",a.onTransitionCancel)),o.element.remove()}_onMousedown(o){const a=function Al(f){return 0===f.buttons||0===f.detail}(o),p=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!a&&!p&&(this._isPointerDown=!0,this.fadeInRipple(o.clientX,o.clientY,this._target.rippleConfig))}_onTouchStart(o){if(!this._target.rippleDisabled&&!function ic(f){const o=f.touches&&f.touches[0]||f.changedTouches&&f.changedTouches[0];return!(!o||-1!==o.identifier||null!=o.radiusX&&1!==o.radiusX||null!=o.radiusY&&1!==o.radiusY)}(o)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const a=o.changedTouches;if(a)for(let p=0;p<a.length;p++)this.fadeInRipple(a[p].clientX,a[p].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(o=>{!o.config.persistent&&(1===o.state||o.config.terminateOnPointerUp&&0===o.state)&&o.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const o=this._triggerElement;o&&(dc.forEach(a=>fo._eventManager.removeHandler(a,o,this)),this._pointerUpEventsRegistered&&Ou.forEach(a=>o.removeEventListener(a,this,Zc)))}}let qr=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=u.oAB({type:f});static#n=this.\u0275inj=u.cJS({imports:[P,K.ez,P]})}return f})();var er=H(2096),eo=(H(8504),H(9315)),go=(H(9397),H(6306),H(4716));H(3020),H(6328);let cp=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=u.oAB({type:f});static#n=this.\u0275inj=u.cJS({imports:[P,P]})}return f})(),ut=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=u.oAB({type:f});static#n=this.\u0275inj=u.cJS({imports:[Vo,P,Vo,P]})}return f})();var Kt=H(3914),Un=H(3375),yr=H(8924);function Oo(f,o){1&f&&(u.TgZ(0,"span",12),u._uU(1,"\u2605"),u.qZA())}function Ic(f,o){1&f&&(u.TgZ(0,"p"),u._uU(1,"Oferta a expirat"),u.qZA())}function bc(f,o){1&f&&(u.TgZ(0,"p"),u._uU(1,"Oferta este valabil\u0101"),u.qZA())}function Yl(f,o){if(1&f&&(u.TgZ(0,"div")(1,"a",13),u._UZ(2,"img",14),u.qZA(),u._UZ(3,"br"),u._uU(4," Facebook"),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.s9C("href",a.offer.Facebook,u.LSH)}}function rl(f,o){if(1&f&&(u.TgZ(0,"div")(1,"a",13),u._UZ(2,"img",15),u.qZA(),u._UZ(3,"br"),u._uU(4," Instagram"),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.MGl("href","https://www.instagram.com/",a.offer.Instagram,"",u.LSH)}}function Wh(f,o){if(1&f&&(u.TgZ(0,"div")(1,"a",16),u._UZ(2,"img",17),u.qZA(),u._UZ(3,"br"),u._uU(4," Email"),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.MGl("href","mailto:",a.offer.Email,"",u.LSH)}}function il(f,o){if(1&f&&(u.TgZ(0,"div")(1,"a",13),u._UZ(2,"img",18),u.qZA(),u._UZ(3,"br"),u._uU(4," Website"),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.s9C("href",a.offer.Website,u.LSH)}}let Tc=(()=>{class f{constructor(a){this.router=a,this.currentImageIndex=1}ngOnInit(){this.offer.Image1||(this.offer.Image1="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/dafaultImage.jpg"),this.offer.Image2||(this.offer.Image2="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/dafaultImage.jpg"),this.offer.Image3||(this.offer.Image3="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/dafaultImage.jpg"),this.offer.Image4||(this.offer.Image4="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/dafaultImage.jpg"),this.offer.Image5||(this.offer.Image5="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/dafaultImage.jpg"),this.startImageCarousel()}startImageCarousel(){setInterval(()=>{this.currentImageIndex=this.currentImageIndex%5+1},3e3)}nextImage(){this.currentImageIndex=this.currentImageIndex%5+1}prevImage(){this.currentImageIndex=(this.currentImageIndex-2+5)%5+1}navigateToDetails(){console.log("Navigating to details:",this.offer.id),this.router.navigate(["/offers",this.offer.id])}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(Kt.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-offer-card"]],inputs:{offer:"offer"},decls:56,vars:21,consts:[[1,"offer-card"],[1,"carousel"],[1,"prev",3,"click"],[1,"next",3,"click"],[1,"image-container"],[3,"src","alt"],[1,"offer-details"],["class","sponsor-icon",4,"ngIf"],[4,"ngIf"],[3,"click"],[1,"offer-footer"],[1,"social-icons"],[1,"sponsor-icon"],["target","_blank",3,"href"],["src","../../../assets/images/SVG/facebook-icon.svg"],["src","../../../assets/images/SVG/instagram-icon.svg"],[3,"href"],["src","../../../assets/images/SVG/email-icon.svg"],["src","../../../assets/images/SVG/browser-icon.svg"]],template:function(p,E){1&p&&(u.TgZ(0,"div",0)(1,"div",1)(2,"button",2),u.NdJ("click",function(){return E.prevImage()}),u._uU(3,"\u276e"),u.qZA(),u.TgZ(4,"button",3),u.NdJ("click",function(){return E.nextImage()}),u._uU(5,"\u276f"),u.qZA(),u.TgZ(6,"div",4),u._UZ(7,"img",5),u.qZA()(),u.TgZ(8,"div",6)(9,"h3"),u._uU(10),u.qZA(),u.YNc(11,Oo,2,0,"span",7),u.TgZ(12,"p")(13,"strong"),u._uU(14,"Compania:"),u.qZA(),u._uU(15),u.qZA(),u.TgZ(16,"p")(17,"strong"),u._uU(18,"Persona de contact:"),u.qZA(),u._uU(19),u.qZA(),u._UZ(20,"hr"),u.TgZ(21,"p")(22,"strong"),u._uU(23,"Numar de Tel:"),u.qZA(),u._uU(24),u.qZA(),u.TgZ(25,"p")(26,"strong"),u._uU(27,"Locatie:"),u.qZA(),u._uU(28),u.qZA(),u.TgZ(29,"p")(30,"strong"),u._uU(31,"Descriiere:"),u.qZA(),u._uU(32),u.qZA(),u.TgZ(33,"p")(34,"strong"),u._uU(35,"Pret:"),u.qZA(),u._uU(36),u.qZA(),u.TgZ(37,"p")(38,"strong"),u._uU(39,"Tip de ofert\u0101:"),u.qZA(),u._uU(40),u.qZA(),u.TgZ(41,"p")(42,"strong"),u._uU(43,"Creata pe data de:"),u.qZA(),u._uU(44),u.ALo(45,"date"),u.qZA(),u.YNc(46,Ic,2,0,"p",8),u.YNc(47,bc,2,0,"p",8),u.TgZ(48,"button",9),u.NdJ("click",function(){return E.navigateToDetails()}),u._uU(49,"Detalii"),u.qZA()(),u.TgZ(50,"div",10)(51,"div",11),u.YNc(52,Yl,5,1,"div",8),u.YNc(53,rl,5,1,"div",8),u.YNc(54,Wh,5,1,"div",8),u.YNc(55,il,5,1,"div",8),u.qZA()()()),2&p&&(u.xp6(7),u.MGl("alt","Image ",E.currentImageIndex,""),u.Q6J("src",E.offer["Image"+E.currentImageIndex],u.LSH),u.xp6(3),u.Oqu(E.offer.Title),u.xp6(1),u.Q6J("ngIf",E.offer.Community_Sponsor),u.xp6(4),u.hij(" ",E.offer.Company_Name,""),u.xp6(4),u.hij(" ",E.offer.Contact_Name,""),u.xp6(5),u.hij(" ",E.offer.Phone_Number,""),u.xp6(4),u.hij(" ",E.offer.Location,""),u.xp6(4),u.Oqu(E.offer.Description),u.xp6(4),u.Oqu(E.offer.Price),u.xp6(4),u.Oqu(E.offer.OfferType),u.xp6(4),u.hij(" ",u.xi3(45,18,E.offer.Date_Created,"shortDate"),""),u.xp6(2),u.Q6J("ngIf",E.offer.Filled),u.xp6(1),u.Q6J("ngIf",!E.offer.Filled),u.xp6(5),u.Q6J("ngIf",E.offer.Facebook),u.xp6(1),u.Q6J("ngIf",E.offer.Instagram),u.xp6(1),u.Q6J("ngIf",E.offer.Email),u.xp6(1),u.Q6J("ngIf",E.offer.Website))},dependencies:[K.O5,K.uU],styles:[".offer-card[_ngcontent-%COMP%]{width:400px;min-height:550px;border-radius:8px;overflow:hidden;box-shadow:0 4px 8px #0000001a;transition:transform .3s;height:800px;position:relative;background-color:#fafafa}.offer-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.carousel[_ngcontent-%COMP%]{position:relative;width:100%;overflow:hidden}.carousel-inner[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;flex-shrink:0}.image-container[_ngcontent-%COMP%]{width:400px;height:250px;overflow:hidden;display:flex;justify-content:center;align-items:center}.prev[_ngcontent-%COMP%], .next[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background-color:#00000080;color:#fff;border:none;padding:10px;cursor:pointer;border-radius:50%}.prev[_ngcontent-%COMP%]{left:10px}.next[_ngcontent-%COMP%]{right:10px}.offer-details[_ngcontent-%COMP%]{padding:15px}.offer-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.offer-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.offer-footer[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:400px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px;color:gold}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}"]})}return f})();function Zh(f,o){if(1&f&&(u.TgZ(0,"div",8),u._UZ(1,"img",9),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.s9C("alt",a.event.Name),u.Q6J("src",a.event.Poster_Image,u.LSH)}}function dp(f,o){if(1&f&&(u.TgZ(0,"p")(1,"strong"),u._uU(2,"Facebook:"),u.qZA(),u.TgZ(3,"a",4),u._uU(4),u.qZA()()),2&f){const a=u.oxw();u.xp6(3),u.Q6J("href",a.event.Facebook,u.LSH),u.xp6(1),u.Oqu(a.event.Facebook)}}function Zd(f,o){if(1&f&&(u.TgZ(0,"p")(1,"strong"),u._uU(2,"Instagram:"),u.qZA(),u.TgZ(3,"a",4),u._uU(4),u.qZA()()),2&f){const a=u.oxw();u.xp6(3),u.Q6J("href",a.event.Instagram,u.LSH),u.xp6(1),u.Oqu(a.event.Instagram)}}function Kh(f,o){1&f&&(u.TgZ(0,"div",10)(1,"span",11),u._uU(2,"Evenimentul a Expirat"),u.qZA()())}let Ya=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-event-card"]],inputs:{event:"event"},decls:40,vars:17,consts:[[1,"event-card"],["class","event-image",4,"ngIf"],[1,"event-details"],[1,"card-title"],["target","_blank",3,"href"],[4,"ngIf"],[1,"card-subtitle"],["class","card-expired",4,"ngIf"],[1,"event-image"],[3,"src","alt"],[1,"card-expired"],[1,"expired"]],template:function(p,E){1&p&&(u.TgZ(0,"div",0),u.YNc(1,Zh,2,2,"div",1),u.TgZ(2,"div",2)(3,"div",3),u._uU(4),u.qZA(),u.TgZ(5,"p")(6,"strong"),u._uU(7,"Locatie:"),u.qZA(),u._UZ(8,"br"),u._uU(9),u.qZA(),u.TgZ(10,"p")(11,"strong"),u._uU(12,"Data Evenimentului:"),u.qZA(),u._uU(13),u.ALo(14,"date"),u.qZA(),u.TgZ(15,"p")(16,"strong"),u._uU(17,"Ora:"),u.qZA(),u._uU(18),u.qZA(),u.TgZ(19,"p")(20,"strong"),u._uU(21,"Pret:"),u.qZA(),u._uU(22),u.qZA(),u.TgZ(23,"p")(24,"strong"),u._uU(25,"Persoana de contact:"),u.qZA(),u._uU(26),u.qZA(),u.TgZ(27,"p")(28,"strong"),u._uU(29,"Pagina Web:"),u.qZA(),u.TgZ(30,"a",4),u._uU(31),u.qZA()(),u.YNc(32,dp,5,2,"p",5),u.YNc(33,Zd,5,2,"p",5),u.TgZ(34,"div")(35,"strong"),u._uU(36," Detalii"),u.qZA(),u.TgZ(37,"div",6),u._uU(38),u.qZA(),u.YNc(39,Kh,3,0,"div",7),u.qZA()()()),2&p&&(u.xp6(1),u.Q6J("ngIf",E.event.Poster_Image),u.xp6(3),u.Oqu(E.event.Name),u.xp6(5),u.Oqu(E.event.Location),u.xp6(4),u.hij(" ",u.xi3(14,14,E.event.Event_Date,"longDate"),""),u.xp6(5),u.hij(" ",E.event.Time,""),u.xp6(4),u.hij(" ",E.event.Price,""),u.xp6(4),u.AsE(" ",E.event.Contact," - ",E.event.Phone_Number,""),u.xp6(4),u.Q6J("href",E.event.Website,u.LSH),u.xp6(1),u.Oqu(E.event.Website),u.xp6(1),u.Q6J("ngIf",E.event.Facebook),u.xp6(1),u.Q6J("ngIf",E.event.Instagram),u.xp6(5),u.Oqu(E.event.Description),u.xp6(1),u.Q6J("ngIf",E.event.Expired))},dependencies:[K.O5,K.uU],styles:[".event-card[_ngcontent-%COMP%]{width:400px;min-height:550px;border-radius:8px;overflow:hidden;display:flex;flex-direction:column;margin:16px;box-shadow:0 4px 8px #0000001a;background-color:#fafafa}.event-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.event-details[_ngcontent-%COMP%]{padding:16px;text-align:left}.event-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.event-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0}.event-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.event-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.service-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:10px;padding:40px;width:calc(25% - 32px);box-sizing:border-box;position:relative;min-width:400px}.card-header[_ngcontent-%COMP%]{text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333}.card-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-top:4px}.card-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:gold}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}.services-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:30px;padding:30px}.services-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.services-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px;font-size:1rem}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}.add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}.card-expired[_ngcontent-%COMP%]{padding:10px;text-align:center}.expired[_ngcontent-%COMP%]{color:red}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.services-control[_ngcontent-%COMP%]{flex-direction:column}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}"]})}return f})();function sl(f,o){1&f&&u._UZ(0,"app-event-card",25),2&f&&u.Q6J("event",o.$implicit)}function Kd(f,o){1&f&&u._UZ(0,"app-offer-card",26),2&f&&u.Q6J("offer",o.$implicit)}function hp(f,o){if(1&f&&(u.TgZ(0,"li",27)(1,"a",28),u._uU(2),u.qZA()()),2&f){const a=o.$implicit;u.xp6(1),u.s9C("href",a.url,u.LSH),u.xp6(1),u.Oqu(a.name)}}let l_=(()=>{class f{constructor(a,p,E){this.eventService=a,this.offersService=p,this.router=E,this.resourceLinks=[{name:"Ambasada Romaniei in SUA",url:"https://washington.mae.ro/"},{name:"Ambasada SUA in Romania",url:"https://ro.usembassy.gov/"},{name:"American Romanian Cultural Society",url:"www.arcsproject.org"},{name:"Biserica Sfintii Trei Ierarhi",url:"http://www.ortodox.org/"},{name:"Romanian United Foundation",url:"https://www.romanianunitedfund.org/"}],this.events=[],this.offers=[]}ngOnInit(){this.eventService.getEvents().subscribe(a=>{this.events=a}),this.offersService.getOffers().subscribe(a=>{this.offers=a})}navigateToAddEvent(){this.router.navigate(["/add-event"])}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(Un.n),u.Y36(yr.b),u.Y36(Kt.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-home"]],decls:97,vars:3,consts:[[1,"container"],[1,"hero"],[1,"container","hero-content"],[1,"hero-text"],["href","https://www.facebook.com/groups/RomaniinSeattle"],["href","https://www.facebook.com/groups/RomaniinSeattle",1,"btn"],[1,"hero-image"],["src","../../../assets/images/Seattle-Romania.png","alt","Seattle"],[1,"community-description"],[1,"community-descriptions"],[1,"description-card"],[1,"sharedContent-Section"],[1,"services-container"],[3,"event",4,"ngFor","ngForOf"],[1,"offer-list"],[3,"offer",4,"ngFor","ngForOf"],[1,"resource-consulate"],["target","_blank","href","http://newyork.mae.ro/"],["target","_blank","href","http://chicago.mae.ro/"],["target","_blank","href","http://losangeles.mae.ro/"],["target","_blank","href","http://miami.mae.ro/"],[1,"resources-section"],[1,"section-header"],[1,"resource-list"],["class","resource-item",4,"ngFor","ngForOf"],[3,"event"],[3,"offer"],[1,"resource-item"],["target","_blank",3,"href"]],template:function(p,E){1&p&&(u.TgZ(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"h1"),u._uU(5,"Bine ati venit in comunitatea "),u.TgZ(6,"a",4),u._uU(7,"Romani in Seattle"),u.qZA()(),u.TgZ(8,"p"),u._uU(9,"Servictii, oferte si evenimente pentru persoanele care locuiesc in zona Seattle."),u.qZA(),u.TgZ(10,"a",5),u._uU(11,"Join our Facebook Group"),u.qZA()(),u.TgZ(12,"div",6),u._UZ(13,"img",7),u.qZA()()(),u.TgZ(14,"section",8)(15,"div",0)(16,"h2"),u._uU(17,"Despre communitatea noastra"),u.qZA(),u.TgZ(18,"p"),u._uU(19,'Scopul al acestui website este de a beneficia Romani \xeen Seattle, prin schimbul de informa\u021bii utile si in acela\u0219i timp promov\xe2nd Companiile Romane\u0219ti din zona Seattle la \xa0Comunitatea Romaneasca de aici. Acesta a \xeenceput pe facebook prin grupul "Romani \xeen Seattle\u201d care acum con\u021bine peste 3700 de membri.'),u.qZA()()(),u.TgZ(20,"div",9)(21,"div",10)(22,"h2"),u._uU(23,"Evenimente"),u.qZA(),u.TgZ(24,"p"),u._uU(25,"Al\u0103tura\u021bi-v\u0103 nou\u0103 pentru o varietate de evenimente care reunesc comunitatea. De la festivaluri la ateliere, exist\u0103 ceva pentru toat\u0103 lumea."),u.qZA()(),u.TgZ(26,"div",10)(27,"h2"),u._uU(28,"Servicii"),u.qZA(),u.TgZ(29,"p"),u._uU(30,"Sprijini\u021bi-ne afacerile locale \u0219i descoperi\u021bi produse \u0219i servicii unice oferite de membrii comunit\u0103\u021bii."),u.qZA()(),u.TgZ(31,"div",10)(32,"h2"),u._uU(33,"Oportunit\u0103\u021bi si Oferte"),u.qZA(),u.TgZ(34,"p"),u._uU(35,"Implica\u021bi-v\u0103 \u0219i face\u021bi o diferen\u021b\u0103 prin voluntariat pentru diverse proiecte \u0219i ini\u021biative comunitare."),u.qZA()(),u.TgZ(36,"div",10)(37,"h2"),u._uU(38,"Resurse"),u.qZA(),u.TgZ(39,"p"),u._uU(40,"Accesa\u021bi resurse \u0219i servicii valoroase oferite de comunitate at\xe2t pentru reziden\u021bi, c\xe2t \u0219i pentru vizitatori."),u.qZA()()(),u.TgZ(41,"div",11)(42,"h1"),u._uU(43,"Evenimente"),u.qZA(),u.TgZ(44,"div",12),u.YNc(45,sl,1,1,"app-event-card",13),u.qZA()(),u.TgZ(46,"div",11)(47,"h1"),u._uU(48,"Oportunit\u0103\u021bi si Oferte"),u.qZA(),u.TgZ(49,"div",14),u.YNc(50,Kd,1,1,"app-offer-card",15),u.qZA()(),u.TgZ(51,"div",11)(52,"h1"),u._uU(53,"Resurse"),u.qZA(),u.TgZ(54,"section",16)(55,"div",9)(56,"div",10)(57,"h2"),u._uU(58,"Consulatul Rom\xe2niei la New York"),u.qZA(),u.TgZ(59,"h3"),u._uU(60,"CONSUL GENERAL: doamna Mihaela-Simona FLOREA"),u.qZA(),u.TgZ(61,"p"),u._uU(62,"Adres\u0103: 200 East 38th Street, New York, NY 10016"),u.qZA(),u.TgZ(63,"a",17),u._uU(64,"http://newyork.mae.ro/"),u.qZA()(),u.TgZ(65,"div",10)(66,"h2"),u._uU(67,"Consulatul Rom\xe2niei la Chicago"),u.qZA(),u.TgZ(68,"h3"),u._uU(69,"CONSUL GENERAL: "),u.qZA(),u.TgZ(70,"p"),u._uU(71,"Adres\u0103: 737 North Michigan Avenue, Suite 2300, Chicago, IL 60611"),u.qZA(),u.TgZ(72,"a",18),u._uU(73,"http://chicago.mae.ro/"),u.qZA()(),u.TgZ(74,"div",10)(75,"h2"),u._uU(76,"Consulatul Rom\xe2niei la Los Angeles"),u.qZA(),u.TgZ(77,"h3"),u._uU(78,"CONSUL GENERAL: doamna Lucia SAVA"),u.qZA(),u.TgZ(79,"p"),u._uU(80,"Adres\u0103: 11766 Wilshire Blvd. Suite 200, Los Angeles CA 90025"),u.qZA(),u.TgZ(81,"a",19),u._uU(82,"http://losangeles.mae.ro/"),u.qZA()(),u.TgZ(83,"div",10)(84,"h2"),u._uU(85,"Consulatul Rom\xe2niei la Miami"),u.qZA(),u.TgZ(86,"h3"),u._uU(87,"CONSUL GENERAL: doamna Elena-GabrielA EREMIA"),u.qZA(),u.TgZ(88,"p"),u._uU(89,"Adres\u0103: 1101 Brickell Ave, suite N 600, Miami, FL 33131"),u.qZA(),u.TgZ(90,"a",20),u._uU(91,"http://miami.mae.ro/"),u.qZA()()()()(),u.TgZ(92,"section",21)(93,"h2",22),u._uU(94,"Resurse utile pentru comunitate"),u.qZA(),u.TgZ(95,"ul",23),u.YNc(96,hp,3,2,"li",24),u.qZA()()()),2&p&&(u.xp6(45),u.Q6J("ngForOf",E.events),u.xp6(5),u.Q6J("ngForOf",E.offers),u.xp6(46),u.Q6J("ngForOf",E.resourceLinks))},dependencies:[K.sg,Tc,Ya],styles:[".container[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px;margin-bottom:20px}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px;color:var(--button-color)}.hero[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;background-color:#f5f5f5;padding:6rem 0 0rem}.hero-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.hero-text[_ngcontent-%COMP%]{flex:1;padding:0 2rem}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1.5rem}.btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;padding:.75rem 1.5rem;text-decoration:none;border-radius:5px;font-size:1rem}.hero-image[_ngcontent-%COMP%]{flex:1}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.community-description[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;padding:2rem 0;text-align:center}.community-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.community-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin:0 auto;max-width:800px;color:#f5f5f5}@media (max-width: 768px){.hero[_ngcontent-%COMP%]{flex-direction:column}.hero-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.hero-text[_ngcontent-%COMP%]{margin-bottom:2rem}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}}.community-descriptions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;padding:40px 20px}.description-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:20px;padding:20px;width:300px;text-align:center}.description-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--button-color);margin-bottom:10px}.description-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:var(--button-color)}.description-card-group[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:20px;padding:20px;width:100%;text-align:center}.resource-list[_ngcontent-%COMP%]{list-style-type:none;padding:0}.resource-item[_ngcontent-%COMP%]{margin:10px 0}.resource-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--button-color);font-size:18px;transition:color .3s ease}.resource-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0056b3}a[_ngcontent-%COMP%]{color:inherit}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.service-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:10px;padding:40px;width:calc(25% - 32px);box-sizing:border-box;position:relative;min-width:400px}.card-header[_ngcontent-%COMP%]{text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333}.card-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-top:4px}.card-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:gold}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}.offers[_ngcontent-%COMP%], .offer-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.offer-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;overflow:hidden;box-shadow:0 4px 8px #0000001a;transition:transform .3s;max-width:400px;height:800px;position:relative;text-align:left}.offer-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.carousel[_ngcontent-%COMP%]{position:relative;width:100%;overflow:hidden}.carousel-inner[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;flex-shrink:0}.image-container[_ngcontent-%COMP%]{width:400px;height:250px;overflow:hidden;display:flex;justify-content:center;align-items:center}.prev[_ngcontent-%COMP%], .next[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background-color:#00000080;color:#fff;border:none;padding:10px;cursor:pointer;border-radius:50%}.prev[_ngcontent-%COMP%]{left:10px}.next[_ngcontent-%COMP%]{right:10px}.offer-details[_ngcontent-%COMP%]{padding:15px}.offer-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.offer-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.offer-footer[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}.featured[_ngcontent-%COMP%]{color:#007bff;font-weight:700}.sharedContent-Section[_ngcontent-%COMP%]{padding:50px 0}.button-container[_ngcontent-%COMP%]{text-align:center}.fb-button[_ngcontent-%COMP%]{background-color:var(--button-bg-color);color:var(--button-text-color);padding:10px 20px;border-radius:5px;text-decoration:none;font-size:18px;display:inline-flex;align-items:center;transition:background-color .3s}.fb-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;font-size:20px}.fb-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-bg-color)}"]})}return f})();var Gu=H(614),un=H(6223);function Yh(f){return f?/^https?:\/\//i.test(f)?f:`http://${f}`:""}function u_(f,o){1&f&&(u.TgZ(0,"span",15),u._uU(1,"\u2605"),u.qZA())}function Yd(f,o){if(1&f&&(u.TgZ(0,"div")(1,"a",16),u._UZ(2,"img",17),u.qZA(),u._UZ(3,"br"),u._uU(4," Facebook"),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.s9C("href",a.svc.Facebook,u.LSH)}}function qu(f,o){if(1&f&&(u.TgZ(0,"div")(1,"a",16),u._UZ(2,"img",18),u.qZA(),u._UZ(3,"br"),u._uU(4," Instagram"),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.MGl("href","https://www.instagram.com/",a.svc.Instagram,"",u.LSH)}}function Qd(f,o){if(1&f&&(u.TgZ(0,"div")(1,"a",19),u._UZ(2,"img",20),u.qZA(),u._UZ(3,"br"),u._uU(4," Email"),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.MGl("href","mailto:",a.svc.Email,"",u.LSH)}}function d_(f,o){if(1&f&&(u.TgZ(0,"div")(1,"a",16),u._UZ(2,"img",21),u.qZA(),u._UZ(3,"br"),u._uU(4," Website"),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.s9C("href",a.svc.Website,u.LSH)}}let Jd=(()=>{class f{constructor(a){this.router=a}ngOnInit(){(void 0===this.svc.Image||""==this.svc.Image)&&(this.svc.Image="https://firebasestorage.googleapis.com/v0/b/romaniinseattle.appspot.com/o/serviceImages%2FdafaultImage.jpg?alt=media&token=3b0787df-12f0-444a-a426-013843534f1e"),this.svc.Website=Yh(this.svc.Website)}viewDetails(){this.router.navigate(["/services",this.svc.id])}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(Kt.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-service-card"]],inputs:{svc:"svc"},decls:23,vars:11,consts:[[1,"service-card"],[1,"service-card-image-container"],[1,"service-card-image",3,"src","alt"],[1,"service-card-content"],[1,"card-header"],[1,"card-title"],["class","sponsor-icon",4,"ngIf"],[1,"card-subtitle","service_type"],[1,"card-subtitle","contact_info"],[1,"card-description"],[1,"card-button"],[3,"click"],[1,"card-footer"],[1,"social-icons"],[4,"ngIf"],[1,"sponsor-icon"],["target","_blank",3,"href"],["src","../../../assets/images/SVG/facebook-icon.svg"],["src","../../../assets/images/SVG/instagram-icon.svg"],[3,"href"],["src","../../../assets/images/SVG/email-icon.svg"],["src","../../../assets/images/SVG/browser-icon.svg"]],template:function(p,E){1&p&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"img",2),u.qZA(),u.TgZ(3,"div",3)(4,"div",4)(5,"div",5),u._uU(6),u.YNc(7,u_,2,0,"span",6),u.qZA(),u.TgZ(8,"div",7),u._uU(9),u.qZA(),u.TgZ(10,"div",8),u._uU(11),u.qZA(),u.TgZ(12,"div",9),u._uU(13),u.qZA(),u.TgZ(14,"div",10)(15,"button",11),u.NdJ("click",function(){return E.viewDetails()}),u._uU(16,"Detalii"),u.qZA()()(),u.TgZ(17,"div",12)(18,"div",13),u.YNc(19,Yd,5,1,"div",14),u.YNc(20,qu,5,1,"div",14),u.YNc(21,Qd,5,1,"div",14),u.YNc(22,d_,5,1,"div",14),u.qZA()()()()),2&p&&(u.xp6(2),u.s9C("alt",E.svc.Name),u.Q6J("src",E.svc.Image,u.LSH),u.xp6(4),u.Oqu(E.svc.Name),u.xp6(1),u.Q6J("ngIf",E.svc.Community_Sponsor),u.xp6(2),u.Oqu(E.svc.Service_Type),u.xp6(2),u.Oqu(E.svc.Phone_Number),u.xp6(2),u.Oqu(E.svc.Description),u.xp6(6),u.Q6J("ngIf",E.svc.Facebook),u.xp6(1),u.Q6J("ngIf",E.svc.Instagram),u.xp6(1),u.Q6J("ngIf",E.svc.Email),u.xp6(1),u.Q6J("ngIf",E.svc.Website))},dependencies:[K.O5],styles:[".service-card[_ngcontent-%COMP%]{background-color:#fafafa;width:400px;min-height:550px;display:flex;flex-direction:column;justify-content:space-between;border-radius:8px;box-shadow:0 4px 8px #00000080;margin:10px;padding:40px;box-sizing:border-box;position:relative}.service-card-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:5px}.service-card-image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover;border:2px solid #ddd}.card-header[_ngcontent-%COMP%]{text-align:center;margin:25px}.card-title[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:500;font-style:bold;font-size:1.7rem;font-weight:700;color:#333;line-height:1.2}.card-subtitle[_ngcontent-%COMP%]{font-family:Catamaran,sans-serif;font-optical-sizing:auto;font-weight:400;font-style:normal;font-size:1rem;color:#666;margin-top:4px}.card-description[_ngcontent-%COMP%]{text-align:left;font-family:Catamaran,sans-serif;font-optical-sizing:auto;font-weight:400;font-style:normal;color:#666;margin-top:4px;overflow:hidden;-webkit-box-orient:vertical;display:block;display:-webkit-box;overflow:hidden!important;text-overflow:ellipsis;-webkit-line-clamp:4}.service_type[_ngcontent-%COMP%]{text-transform:uppercase;padding:1rem 0}.contact_info[_ngcontent-%COMP%]{padding:0 0 1rem;font-size:1.2rem}.card-footer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 480px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 100px);min-width:175px;margin:2px;padding:2px;min-height:150px;min-height:330px}.card-title[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:100;font-style:bold;font-size:.9rem;font-weight:400;color:#333;line-height:1;padding:0;margin:0}.card-subtitle[_ngcontent-%COMP%]{font-family:Catamaran,sans-serif;font-optical-sizing:auto;font-weight:100;font-style:normal;color:#666;margin-top:1px}.card-description[_ngcontent-%COMP%]{display:none}.service_type[_ngcontent-%COMP%]{text-transform:uppercase;padding:0;font-size:.5rem}.card-footer[_ngcontent-%COMP%]{display:none}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:175px}.service-footer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}.services-control[_ngcontent-%COMP%]{flex-direction:column}@media screen and (max-width: 960px) and(min-width:480px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}.service-card-front[_ngcontent-%COMP%]{background-color:#fff;color:#000}.service-card-content[_ngcontent-%COMP%]{padding:0}.service-date[_ngcontent-%COMP%]{font-size:12px;color:#f1c40f}.service-footer[_ngcontent-%COMP%]{margin-top:10px}.featured[_ngcontent-%COMP%]{font-weight:700;color:#f39c12}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:400px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000}#browser-icon[_ngcontent-%COMP%]{fill:red;stroke:#000}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px;color:gold}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}"]})}return f})();function Pg(f,o){if(1&f&&(u.TgZ(0,"option",14),u._uU(1),u.qZA()),2&f){const a=o.$implicit;u.Q6J("value",a),u.xp6(1),u.Oqu(a)}}function h_(f,o){1&f&&u._UZ(0,"app-service-card",15),2&f&&u.Q6J("svc",o.$implicit)}let Rg=(()=>{class f{constructor(a,p,E){this.servicesService=a,this.route=p,this.router=E,this.services=[],this.filteredServices=[],this.serviceTypes=[],this.selectedServiceType=""}ngOnInit(){this.route.queryParams.subscribe(a=>{this.selectedServiceType=a.serviceType||""}),this.filterServices(this.selectedServiceType)}navigateToAddService(){this.router.navigate(["/add-service"])}handleChange(a){const{target:p}=a;return p&&console.log(p.value),p.value}fetchServiceTypes(){console.log("FetchServiceTypes Function"),this.servicesService.getAllServiceTypes().subscribe(a=>{this.serviceTypes=a,a.forEach(p=>{})}),console.log("Number of Service Types returned by the database : "+this.serviceTypes.length)}onFilterChange(a){console.log("Filter changed:",a),this.router.navigate([],{relativeTo:this.route,queryParams:{serviceType:a},queryParamsHandling:"merge"}),this.filterServices(a)}filterServices(a){console.log("Filter Serices: "+a),this.fetchServiceTypes(),a&&""!==a?this.servicesService.getServicesByType(a).subscribe(p=>{this.services=p.filter(E=>E.Approved),this.filteredServices=p.filter(E=>E.Approved),console.log("Number of Services returned by the Database :  "+this.services.length)}):this.servicesService.getServices().subscribe(p=>{this.services=p.filter(E=>E.Approved),this.filteredServices=p.filter(E=>E.Approved),console.log("Number of Services returned by the Database :  "+this.services.length)})}extractServiceTypes(){this.serviceTypes=[...new Set(this.services.map(a=>a.Service_Type))]}shareLink(){const p=this.router.url.split("?")[1]||"";navigator.clipboard.writeText("https://romaniinseattle.web.app/services"+(p?"?"+p:"")).then(()=>{alert("Link copied to clipboard!")},x=>{console.error("Could not copy text: ",x)})}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(Gu.r),u.Y36(Kt.gz),u.Y36(Kt.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-services"]],decls:24,vars:3,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"services-control"],[1,"service-control-container"],["for","service-type"],["id","service-type",1,"filter-dropdown",3,"ngModel","change","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[2,"min-width","150px",3,"click"],[1,"share-button",3,"click"],[1,"fas","fa-share-alt"],[1,"services-container"],[3,"svc",4,"ngFor","ngForOf"],[3,"value"],[3,"svc"]],template:function(p,E){1&p&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._uU(3,"Lista de Servicii"),u.qZA()(),u.TgZ(4,"div",2)(5,"h2"),u._uU(6,"Descoperi\u021bi serviciile oferite de membrii comunit\u0103\u021bii"),u.qZA()()(),u.TgZ(7,"div",3)(8,"div",4)(9,"label",5),u._uU(10,"Filtra\u021bi lista dup\u0103 tipul serviciului: "),u.qZA()(),u.TgZ(11,"div",4)(12,"select",6),u.NdJ("change",function(W){return E.onFilterChange(E.handleChange(W))})("ngModelChange",function(W){return E.selectedServiceType=W}),u.TgZ(13,"option",7),u._uU(14,"Toate serviciile"),u.qZA(),u.YNc(15,Pg,2,2,"option",8),u.qZA()(),u.TgZ(16,"div",4)(17,"button",9),u.NdJ("click",function(){return E.navigateToAddService()}),u._uU(18,"Adaugati un Serviciu"),u.qZA()(),u.TgZ(19,"button",10),u.NdJ("click",function(){return E.shareLink()}),u._UZ(20,"i",11),u._uU(21," Share "),u.qZA()(),u.TgZ(22,"div",12),u.YNc(23,h_,1,1,"app-service-card",13),u.qZA()),2&p&&(u.xp6(12),u.Q6J("ngModel",E.selectedServiceType),u.xp6(3),u.Q6J("ngForOf",E.serviceTypes),u.xp6(8),u.Q6J("ngForOf",E.filteredServices))},dependencies:[K.sg,un.YN,un.Kr,un.EJ,un.JJ,un.On,Jd],styles:[".hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.services-control[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px;padding:20px;flex-wrap:wrap}.service-control-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:5px;padding:5px}.services-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.services-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px;font-size:1rem}.add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}label[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:16px;text-transform:uppercase}.filter-dropdown[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:16px;text-transform:uppercase;cursor:pointer}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;padding:1rem}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:3rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1rem;text-align:center}}"]})}return f})(),f_=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-rules"]],decls:43,vars:0,consts:[[1,"hero-section"],[1,"overlay"],[1,"content"],["href","https://www.facebook.com/groups/RomaniinSeattle",1,"cta-button"],[1,"rules-section"],[1,"container"],[1,"rules-list"]],template:function(p,E){1&p&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"h1"),u._uU(4,"Regulile \u0219i Reglement\u0103rile"),u.qZA(),u.TgZ(5,"p"),u._uU(6,"Apreciem cooperarea \u0219i \xeen\u021belegerea dvs. \xeen respectarea regulilor grupului nostru."),u.qZA(),u.TgZ(7,"a",3),u._uU(8,"Join our Facebook Group"),u.qZA()()(),u.TgZ(9,"section",4)(10,"div",5)(11,"h2"),u._uU(12,"Regulile \u0219i Reglement\u0103rile"),u.qZA(),u.TgZ(13,"ol",6)(14,"li")(15,"span"),u._uU(16,"Respecta\u021bi to\u021bi membrii."),u.qZA(),u._uU(17," Trateaz\u0103 pe toat\u0103 lumea cu respect. Dezbaterile s\u0103n\u0103toase sunt naturale, dar amabilitatea este obligatorie."),u.qZA(),u.TgZ(18,"li")(19,"span"),u._uU(20,"F\u0103r\u0103 discursuri de ur\u0103 sau h\u0103r\u021buire."),u.qZA(),u._uU(21," Asigur\u0103-te c\u0103 toat\u0103 lumea se simte \xeen siguran\u021b\u0103. Bullying-ul de orice fel nu este permis, iar comentariile degradante despre lucruri precum rasa, religia, cultura, orientarea sexual\u0103, genul sau identitatea nu vor fi tolerate."),u.qZA(),u.TgZ(22,"li"),u._uU(23,"F\u0103r\u0103 limbaj ofensator."),u.qZA(),u.TgZ(24,"li")(25,"span"),u._uU(26,"F\u0103r\u0103 Promov\u0103ri sau Spam:"),u.qZA(),u._uU(27," Ofer\u0103 mai mult dec\xe2t prime\u0219ti \xeen acest grup. Auto-promovarea, spam-ul \u0219i link-urile irelevante nu sunt permise."),u.qZA(),u.TgZ(28,"li"),u._uU(29,"R\u0103m\xe2ne\u021bi la subiect."),u.qZA(),u.TgZ(30,"li")(31,"span"),u._uU(32,"Respect\u0103 Intimitatea Fiec\u0103ruia:"),u.qZA(),u._uU(33," Participarea \xeen acest grup necesit\u0103 \xeencredere reciproc\u0103. Discu\u021biile autentice \u0219i expresive fac grupurile grozave, dar pot fi \u0219i sensibile \u0219i private. Ce se \xeemp\u0103rt\u0103\u0219e\u0219te \xeen grup ar trebui s\u0103 r\u0103m\xe2n\u0103 \xeen grup."),u.qZA(),u.TgZ(34,"li")(35,"span"),u._uU(36,"Respecta\u021bi Standardele Comunit\u0103\u021bii Facebook."),u.qZA(),u._uU(37," Respect\u0103 toate liniile directoare ale comunit\u0103\u021bii pentru a asigura c\u0103 grupul r\u0103m\xe2ne un spa\u021biu sigur pentru to\u021bi."),u.qZA(),u.TgZ(38,"li"),u._uU(39,"Raporta\u021bi \xeenc\u0103lc\u0103rile regulilor c\u0103tre administratori."),u.qZA()()(),u.TgZ(40,"div")(41,"p"),u._uU(42,"Dac\u0103 dori\u021bi s\u0103 v\u0103 oferi\u021bi serviciile comunit\u0103\u021bii, v\u0103 rug\u0103m s\u0103 trimite\u021bi detaliile serviciilor dumneavoastr\u0103 prin intermediul site-ului nostru. Un administrator va revizui trimiterea dvs. \u0219i o va ad\u0103uga \xeen grup c\xe2t mai cur\xe2nd posibil. Apreciem cooperarea \u0219i \xeen\u021belegerea dvs. \xeen respectarea regulilor grupului nostru."),u.qZA()()())},styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Arial,sans-serif;height:100%}.hero-section[_ngcontent-%COMP%]{position:relative;height:100vh;background:url(Seattle-Romania.322e2da675d571d6.png) no-repeat center center/cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#fff}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:3em;margin:.5em 0}p[_ngcontent-%COMP%]{font-size:1.5em;margin:.5em 0}.cta-button[_ngcontent-%COMP%]{display:inline-block;padding:.75em 1.5em;margin-top:1em;font-size:1.2em;color:#fff;background-color:var(--button-color);border:none;border-radius:5px;text-decoration:none;cursor:pointer;transition:background-color .3s ease}.cta-button[_ngcontent-%COMP%]:hover{background-color:#e65c00}.rules-section[_ngcontent-%COMP%]{padding:40px 20px;background:#f4f4f4}.rules-section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.rules-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;font-size:32px}.rules-list[_ngcontent-%COMP%]{list-style:none}.rules-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background:#fff;padding:20px;margin-bottom:10px;border-left:5px solid #007BFF}.rules-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;color:#333}"]})}return f})();function p_(f,o){1&f&&u._UZ(0,"app-event-card",7),2&f&&u.Q6J("event",o.$implicit)}let ky=(()=>{class f{constructor(a,p){this.eventService=a,this.router=p,this.events=[]}ngOnInit(){this.eventService.getEvents().subscribe(a=>{this.events=a})}navigateToAddEvent(){this.router.navigate(["/add-event"])}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(Un.n),u.Y36(Kt.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-events"]],decls:12,vars:1,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"add-service-container"],[3,"click"],[1,"services-container"],[3,"event",4,"ngFor","ngForOf"],[3,"event"]],template:function(p,E){1&p&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._uU(3,"Lista de Evenimente"),u.qZA()(),u.TgZ(4,"div",2)(5,"h2"),u._uU(6,"Descoperi\u021bi serviciile oferite de membrii comunit\u0103\u021bii"),u.qZA()()(),u.TgZ(7,"div",3)(8,"button",4),u.NdJ("click",function(){return E.navigateToAddEvent()}),u._uU(9,"Adaugati un Eveniment"),u.qZA()(),u.TgZ(10,"div",5),u.YNc(11,p_,1,1,"app-event-card",6),u.qZA()),2&p&&(u.xp6(11),u.Q6J("ngForOf",E.events))},dependencies:[K.sg,Ya],styles:[".hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.section-header[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;background-color:#f0f0f0}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:10px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.service-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:10px;padding:40px;width:calc(25% - 32px);box-sizing:border-box;position:relative;min-width:400px}.card-header[_ngcontent-%COMP%]{text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333}.card-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-top:4px}.card-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:gold}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}.services-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:30px;padding:30px}.services-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.services-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px;font-size:1rem}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}.add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.services-control[_ngcontent-%COMP%]{flex-direction:column}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}"]})}return f})();function fp(f,o){1&f&&u._UZ(0,"app-offer-card",7),2&f&&u.Q6J("offer",o.$implicit)}let Fy=(()=>{class f{constructor(a,p){this.offersService=a,this.router=p,this.offers=[]}ngOnInit(){this.offersService.getOffers().subscribe(a=>{console.log(a),this.offers=a})}navigateToAddOffer(){this.router.navigate(["/add-offers"])}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(yr.b),u.Y36(Kt.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-offers"]],decls:12,vars:1,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"add-service-container"],[3,"click"],[1,"offer-list"],[3,"offer",4,"ngFor","ngForOf"],[3,"offer"]],template:function(p,E){1&p&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._uU(3,"De toate pentru to\u021bi"),u.qZA()(),u.TgZ(4,"div",2)(5,"h2"),u._uU(6,"Descoperi\u021bi oferte de membrii comunit\u0103\u021bii"),u.qZA()()(),u.TgZ(7,"div",3)(8,"button",4),u.NdJ("click",function(){return E.navigateToAddOffer()}),u._uU(9,"Adaugati oferte"),u.qZA()(),u.TgZ(10,"div",5),u.YNc(11,fp,1,1,"app-offer-card",6),u.qZA()),2&p&&(u.xp6(11),u.Q6J("ngForOf",E.offers))},dependencies:[K.sg,Tc],styles:[".hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(http://source.unsplash.com/800x600/?Seattle);background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.section-header[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;background-color:#f0f0f0}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:10px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.add-offer-container[_ngcontent-%COMP%], .add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}.offer-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;justify-content:center}.offers[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.offers-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.offers-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a;margin:15px;width:calc(25% - 32px);overflow:hidden;transition:transform .3s,box-shadow .3s;min-width:400px}.offers-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 12px 24px #0003}.offer-card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:180px;object-fit:cover}.offers-card-content[_ngcontent-%COMP%]{padding:20px;text-align:left}.offers-card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;font-size:22px;font-weight:600}.offers-card-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 10px;font-size:18px;color:#666;font-weight:400}.offers-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 10px;font-size:16px;color:#777}.offers-footer[_ngcontent-%COMP%]{text-align:right;margin-top:10px}.featured[_ngcontent-%COMP%]{color:#007bff;font-weight:700}@media (max-width: 1024px){.offer-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.offer-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}"]})}return f})();class xg{constructor(){this.Name="",this.Phone_Number="",this.Email="",this.Description="",this.Website="",this.Facebook="",this.Instagram="",this.Date_Created="",this.Date_Updated="",this.Image="",this.Approved=!1,this.OpenHour="",this.CloseHour=""}}class mo extends xg{constructor(){super(...arguments),this.id=""}}var di=H(1920),Xd=H(2459),ol=H(4664),Ni=H(7217),Wu=H(3106),al=H(5861),cl=H(4303),no=H(9058),Cc=H(4537);const pp="firebasestorage.googleapis.com",Ql="storageBucket";class Qi extends no.ZR{constructor(o,a,p=0){super(Zu(o),`Firebase Storage: ${a} (${Zu(o)})`),this.status_=p,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qi.prototype)}get status(){return this.status_}set status(o){this.status_=o}_codeEquals(o){return Zu(o)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(o){this.customData.serverResponse=o,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ai=function(f){return f.UNKNOWN="unknown",f.OBJECT_NOT_FOUND="object-not-found",f.BUCKET_NOT_FOUND="bucket-not-found",f.PROJECT_NOT_FOUND="project-not-found",f.QUOTA_EXCEEDED="quota-exceeded",f.UNAUTHENTICATED="unauthenticated",f.UNAUTHORIZED="unauthorized",f.UNAUTHORIZED_APP="unauthorized-app",f.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",f.INVALID_CHECKSUM="invalid-checksum",f.CANCELED="canceled",f.INVALID_EVENT_NAME="invalid-event-name",f.INVALID_URL="invalid-url",f.INVALID_DEFAULT_BUCKET="invalid-default-bucket",f.NO_DEFAULT_BUCKET="no-default-bucket",f.CANNOT_SLICE_BLOB="cannot-slice-blob",f.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",f.NO_DOWNLOAD_URL="no-download-url",f.INVALID_ARGUMENT="invalid-argument",f.INVALID_ARGUMENT_COUNT="invalid-argument-count",f.APP_DELETED="app-deleted",f.INVALID_ROOT_OPERATION="invalid-root-operation",f.INVALID_FORMAT="invalid-format",f.INTERNAL_ERROR="internal-error",f.UNSUPPORTED_ENVIRONMENT="unsupported-environment",f}(Ai||{});function Zu(f){return"storage/"+f}function Qh(){return new Qi(Ai.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Jh(){return new Qi(Ai.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Jl(){return new Qi(Ai.CANCELED,"User canceled the upload/download.")}function Xh(){return new Qi(Ai.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Yu(f){return new Qi(Ai.INVALID_ARGUMENT,f)}function E_(){return new Qi(Ai.APP_DELETED,"The Firebase app was deleted.")}function I_(f){return new Qi(Ai.INVALID_ROOT_OPERATION,"The operation '"+f+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function rh(f,o){return new Qi(Ai.INVALID_FORMAT,"String does not match format '"+f+"': "+o)}function Xl(f){throw new Qi(Ai.INTERNAL_ERROR,"Internal error: "+f)}class ws{constructor(o,a){this.bucket=o,this.path_=a}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const o=encodeURIComponent;return"/b/"+o(this.bucket)+"/o/"+o(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(o,a){let p;try{p=ws.makeFromUrl(o,a)}catch{return new ws(o,"")}if(""===p.path)return p;throw function m_(f){return new Qi(Ai.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+f+"'.")}(o)}static makeFromUrl(o,a){let p=null;const E="([A-Za-z0-9.\\-_]+)",se=new RegExp("^gs://"+E+"(/(.*))?$","i");function $e($r){$r.path_=decodeURIComponent($r.path)}const Ht=a.replace(/[.]/g,"\\."),ei=[{regex:se,indices:{bucket:1,path:3},postModify:function x($r){"/"===$r.path.charAt($r.path.length-1)&&($r.path_=$r.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Ht}/v[A-Za-z0-9_]+/b/${E}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:$e},{regex:new RegExp(`^https?://${a===pp?"(?:storage.googleapis.com|storage.cloud.google.com)":a}/${E}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:$e}];for(let $r=0;$r<ei.length;$r++){const io=ei[$r],Ks=io.regex.exec(o);if(Ks){let Ko=Ks[io.indices.path];Ko||(Ko=""),p=new ws(Ks[io.indices.bucket],Ko),io.postModify(p);break}}if(null==p)throw function nh(f){return new Qi(Ai.INVALID_URL,"Invalid URL '"+f+"'.")}(o);return p}}class kg{constructor(o){this.promise_=Promise.reject(o)}getPromise(){return this.promise_}cancel(o=!1){}}function tf(f){return"string"==typeof f||f instanceof String}function nf(f){return Lg()&&f instanceof Blob}function Lg(){return typeof Blob<"u"}function yp(f,o,a,p){if(p<o)throw Yu(`Invalid value for '${f}'. Expected ${o} or greater.`);if(p>a)throw Yu(`Invalid value for '${f}'. Expected ${a} or less.`)}function Da(f,o,a){let p=o;return null==a&&(p=`https://${o}`),`${a}://${p}/v0${f}`}function vp(f){const o=encodeURIComponent;let a="?";for(const p in f)f.hasOwnProperty(p)&&(a=a+(o(p)+"=")+o(f[p])+"&");return a=a.slice(0,-1),a}var eu=function(f){return f[f.NO_ERROR=0]="NO_ERROR",f[f.NETWORK_ERROR=1]="NETWORK_ERROR",f[f.ABORT=2]="ABORT",f}(eu||{});function rf(f,o){const a=f>=500&&f<600,E=-1!==[408,429].indexOf(f),x=-1!==o.indexOf(f);return a||E||x}class Vg{constructor(o,a,p,E,x,W,se,Te,$e,At,Ht,pn=!0){this.url_=o,this.method_=a,this.headers_=p,this.body_=E,this.successCodes_=x,this.additionalRetryCodes_=W,this.callback_=se,this.errorCallback_=Te,this.timeout_=$e,this.progressCallback_=At,this.connectionFactory_=Ht,this.retry=pn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((In,cn)=>{this.resolve_=In,this.reject_=cn,this.start_()})}start_(){const a=(p,E)=>{const x=this.resolve_,W=this.reject_,se=E.connection;if(E.wasSuccessCode)try{const Te=this.callback_(se,se.getResponse());!function ef(f){return void 0!==f}(Te)?x():x(Te)}catch(Te){W(Te)}else if(null!==se){const Te=Qh();Te.serverResponse=se.getErrorText(),W(this.errorCallback_?this.errorCallback_(se,Te):Te)}else W(E.canceled?this.appDelete_?E_():Jl():Jh())};this.canceled_?a(0,new ih(!1,null,!0)):this.backoffId_=function Fg(f,o,a){let p=1,E=null,x=null,W=!1,se=0;function Te(){return 2===se}let $e=!1;function At(...kn){$e||($e=!0,o.apply(null,kn))}function Ht(kn){E=setTimeout(()=>{E=null,f(In,Te())},kn)}function pn(){x&&clearTimeout(x)}function In(kn,...Hr){if($e)return void pn();if(kn)return pn(),void At.call(null,kn,...Hr);if(Te()||W)return pn(),void At.call(null,kn,...Hr);let ei;p<64&&(p*=2),1===se?(se=2,ei=0):ei=1e3*(p+Math.random()),Ht(ei)}let cn=!1;function ln(kn){cn||(cn=!0,pn(),!$e&&(null!==E?(kn||(se=2),clearTimeout(E),Ht(0)):kn||(se=1)))}return Ht(0),x=setTimeout(()=>{W=!0,ln(!0)},a),ln}((p,E)=>{if(E)return void p(!1,new ih(!1,null,!0));const x=this.connectionFactory_();this.pendingConnection_=x;const W=se=>{null!==this.progressCallback_&&this.progressCallback_(se.loaded,se.lengthComputable?se.total:-1)};null!==this.progressCallback_&&x.addUploadProgressListener(W),x.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&x.removeUploadProgressListener(W),this.pendingConnection_=null;const se=x.getErrorCode()===eu.NO_ERROR,Te=x.getStatus();if(!se||rf(Te,this.additionalRetryCodes_)&&this.retry){const At=x.getErrorCode()===eu.ABORT;return void p(!1,new ih(!1,null,At))}const $e=-1!==this.successCodes_.indexOf(Te);p(!0,new ih($e,x))})},a,this.timeout_)}getPromise(){return this.promise_}cancel(o){this.canceled_=!0,this.appDelete_=o||!1,null!==this.backoffId_&&function b_(f){f(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class ih{constructor(o,a,p){this.wasSuccessCode=o,this.connection=a,this.canceled=!!p}}function Tp(...f){const o=function bp(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==o){const a=new o;for(let p=0;p<f.length;p++)a.append(f[p]);return a.getBlob()}if(Lg())return new Blob(f);throw new Qi(Ai.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const zs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class cf{constructor(o,a){this.data=o,this.contentType=a||null}}function lf(f,o){switch(f){case zs.RAW:return new cf(C_(o));case zs.BASE64:case zs.BASE64URL:return new cf(Qa(f,o));case zs.DATA_URL:return new cf(function Cp(f){const o=new uf(f);return o.base64?Qa(zs.BASE64,o.rest):function Ug(f){let o;try{o=decodeURIComponent(f)}catch{throw rh(zs.DATA_URL,"Malformed data URL.")}return C_(o)}(o.rest)}(o),function df(f){return new uf(f).contentType}(o))}throw Qh()}function C_(f){const o=[];for(let a=0;a<f.length;a++){let p=f.charCodeAt(a);p<=127?o.push(p):p<=2047?o.push(192|p>>6,128|63&p):55296==(64512&p)?a<f.length-1&&56320==(64512&f.charCodeAt(a+1))?(p=65536|(1023&p)<<10|1023&f.charCodeAt(++a),o.push(240|p>>18,128|p>>12&63,128|p>>6&63,128|63&p)):o.push(239,191,189):56320==(64512&p)?o.push(239,191,189):o.push(224|p>>12,128|p>>6&63,128|63&p)}return new Uint8Array(o)}function Qa(f,o){switch(f){case zs.BASE64:{const E=-1!==o.indexOf("-"),x=-1!==o.indexOf("_");if(E||x)throw rh(f,"Invalid character '"+(E?"-":"_")+"' found: is it base64url encoded?");break}case zs.BASE64URL:{const E=-1!==o.indexOf("+"),x=-1!==o.indexOf("/");if(E||x)throw rh(f,"Invalid character '"+(E?"+":"/")+"' found: is it base64 encoded?");o=o.replace(/-/g,"+").replace(/_/g,"/");break}}let a;try{a=function Ju(f){if(typeof atob>"u")throw function v_(f){return new Qi(Ai.UNSUPPORTED_ENVIRONMENT,`${f} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(f)}(o)}catch(E){throw E.message.includes("polyfill")?E:rh(f,"Invalid character found")}const p=new Uint8Array(a.length);for(let E=0;E<a.length;E++)p[E]=a.charCodeAt(E);return p}class uf{constructor(o){this.base64=!1,this.contentType=null;const a=o.match(/^data:([^,]+)?,/);if(null===a)throw rh(zs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const p=a[1]||null;null!=p&&(this.base64=function sh(f,o){return f.length>=o.length&&f.substring(f.length-o.length)===o}(p,";base64"),this.contentType=this.base64?p.substring(0,p.length-7):p),this.rest=o.substring(o.indexOf(",")+1)}}class wc{constructor(o,a){let p=0,E="";nf(o)?(this.data_=o,p=o.size,E=o.type):o instanceof ArrayBuffer?(a?this.data_=new Uint8Array(o):(this.data_=new Uint8Array(o.byteLength),this.data_.set(new Uint8Array(o))),p=this.data_.length):o instanceof Uint8Array&&(a?this.data_=o:(this.data_=new Uint8Array(o.length),this.data_.set(o)),p=o.length),this.size_=p,this.type_=E}size(){return this.size_}type(){return this.type_}slice(o,a){if(nf(this.data_)){const E=function af(f,o,a){return f.webkitSlice?f.webkitSlice(o,a):f.mozSlice?f.mozSlice(o,a):f.slice?f.slice(o,a):null}(this.data_,o,a);return null===E?null:new wc(E)}{const p=new Uint8Array(this.data_.buffer,o,a-o);return new wc(p,!0)}}static getBlob(...o){if(Lg()){const a=o.map(p=>p instanceof wc?p.data_:p);return new wc(Tp.apply(null,a))}{const a=o.map(W=>tf(W)?lf(zs.RAW,W).data:W.data_);let p=0;a.forEach(W=>{p+=W.byteLength});const E=new Uint8Array(p);let x=0;return a.forEach(W=>{for(let se=0;se<W.length;se++)E[x++]=W[se]}),new wc(E,!0)}}uploadData(){return this.data_}}function hf(f){let o;try{o=JSON.parse(f)}catch{return null}return function ll(f){return"object"==typeof f&&!Array.isArray(f)}(o)?o:null}function wp(f){const o=f.lastIndexOf("/",f.length-2);return-1===o?f:f.slice(o+1)}function jg(f,o){return o}class As{constructor(o,a,p,E){this.server=o,this.local=a||o,this.writable=!!p,this.xform=E||jg}}let ul=null;function tu(){if(ul)return ul;const f=[];f.push(new As("bucket")),f.push(new As("generation")),f.push(new As("metageneration")),f.push(new As("name","fullPath",!0));const a=new As("name");a.xform=function o(x,W){return function Ap(f){return!tf(f)||f.length<2?f:wp(f)}(W)},f.push(a);const E=new As("size");return E.xform=function p(x,W){return void 0!==W?Number(W):W},f.push(E),f.push(new As("timeCreated")),f.push(new As("updated")),f.push(new As("md5Hash",null,!0)),f.push(new As("cacheControl",null,!0)),f.push(new As("contentDisposition",null,!0)),f.push(new As("contentEncoding",null,!0)),f.push(new As("contentLanguage",null,!0)),f.push(new As("contentType",null,!0)),f.push(new As("metadata","customMetadata",!0)),ul=f,ul}function nu(f,o,a){const p=hf(o);return null===p?null:function w_(f,o,a){const p={type:"file"},E=a.length;for(let x=0;x<E;x++){const W=a[x];p[W.local]=W.xform(p,o[W.server])}return function Hg(f,o){Object.defineProperty(f,"ref",{get:function a(){const x=new ws(f.bucket,f.fullPath);return o._makeStorageReference(x)}})}(p,f),p}(f,p,a)}function zg(f,o){const a={},p=o.length;for(let E=0;E<p;E++){const x=o[E];x.writable&&(a[x.server]=f[x.local])}return JSON.stringify(a)}const Dp="prefixes",ff="items";class Ns{constructor(o,a,p,E){this.url=o,this.method=a,this.handler=p,this.timeout=E,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ac(f){if(!f)throw Qh()}function oh(f,o){return function a(p,E){const x=nu(f,E,o);return Ac(null!==x),x}}function Xu(f){return function o(a,p){let E;return E=401===a.getStatus()?a.getErrorText().includes("Firebase App Check token is invalid")?function g_(){return new Qi(Ai.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Ly(){return new Qi(Ai.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===a.getStatus()?function Ng(f){return new Qi(Ai.QUOTA_EXCEEDED,"Quota for bucket '"+f+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(f.bucket):403===a.getStatus()?function gp(f){return new Qi(Ai.UNAUTHORIZED,"User does not have permission to access '"+f+"'.")}(f.path):p,E.status=a.getStatus(),E.serverResponse=p.serverResponse,E}}function ru(f){const o=Xu(f);return function a(p,E){let x=o(p,E);return 404===p.getStatus()&&(x=function Ku(f){return new Qi(Ai.OBJECT_NOT_FOUND,"Object '"+f+"' does not exist.")}(f.path)),x.serverResponse=E.serverResponse,x}}function qg(f,o,a){const E=Da(o.fullServerUrl(),f.host,f._protocol),W=f.maxOperationRetryTime,se=new Ns(E,"GET",oh(f,a),W);return se.errorHandler=ru(o),se}function Vy(f,o,a,p,E){const x={};x.prefix=o.isRoot?"":o.path+"/",a&&a.length>0&&(x.delimiter=a),p&&(x.pageToken=p),E&&(x.maxResults=E);const se=Da(o.bucketOnlyServerUrl(),f.host,f._protocol),$e=f.maxOperationRetryTime,At=new Ns(se,"GET",function A_(f,o){return function a(p,E){const x=function dl(f,o,a){const p=hf(a);return null===p?null:function Gg(f,o,a){const p={prefixes:[],items:[],nextPageToken:a.nextPageToken};if(a[Dp])for(const E of a[Dp]){const x=E.replace(/\/$/,""),W=f._makeStorageReference(new ws(o,x));p.prefixes.push(W)}if(a[ff])for(const E of a[ff]){const x=f._makeStorageReference(new ws(o,E.name));p.items.push(x)}return p}(f,o,p)}(f,o,E);return Ac(null!==x),x}}(f,o.bucket),$e);return At.urlParams=x,At.errorHandler=Xu(o),At}function iu(f,o,a){const p=Object.assign({},a);return p.fullPath=f.path,p.size=o.size(),p.contentType||(p.contentType=function Ja(f,o){return f&&f.contentType||o&&o.type()||"application/octet-stream"}(null,o)),p}class ed{constructor(o,a,p,E){this.current=o,this.total=a,this.finalized=!!p,this.metadata=E||null}}function lh(f,o){let a=null;try{a=f.getResponseHeader("X-Goog-Upload-Status")}catch{Ac(!1)}return Ac(!!a&&-1!==(o||["active"]).indexOf(a)),a}const Pp={STATE_CHANGED:"state_changed"},_o={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Zg(f){switch(f){case"running":case"pausing":case"canceling":return _o.RUNNING;case"paused":return _o.PAUSED;case"success":return _o.SUCCESS;case"canceled":return _o.CANCELED;default:return _o.ERROR}}class td{constructor(o,a,p){if(function _p(f){return"function"==typeof f}(o)||null!=a||null!=p)this.next=o,this.error=a??void 0,this.complete=p??void 0;else{const x=o;this.next=x.next,this.error=x.error,this.complete=x.complete}}}function ou(f){return(...o)=>{Promise.resolve().then(()=>f(...o))}}let P_=null;class By{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=eu.NO_ERROR,this.sendPromise_=new Promise(o=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=eu.ABORT,o()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=eu.NETWORK_ERROR,o()}),this.xhr_.addEventListener("load",()=>{o()})})}send(o,a,p,E){if(this.sent_)throw Xl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(a,o,!0),void 0!==E)for(const x in E)E.hasOwnProperty(x)&&this.xhr_.setRequestHeader(x,E[x].toString());return void 0!==p?this.xhr_.send(p):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Xl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Xl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Xl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Xl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(o){return this.xhr_.getResponseHeader(o)}addUploadProgressListener(o){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",o)}removeUploadProgressListener(o){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",o)}}class jy extends By{initXhr(){this.xhr_.responseType="text"}}function da(){return P_?P_():new jy}class au{constructor(o,a,p=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=o,this._blob=a,this._metadata=p,this._mappings=tu(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=E=>{if(this._request=void 0,this._chunkMultiplier=1,E._codeEquals(Ai.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const x=this.isExponentialBackoffExpired();if(rf(E.status,[])){if(!x)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();E=Jh()}this._error=E,this._transition("error")}},this._metadataErrorHandler=E=>{this._request=void 0,E._codeEquals(Ai.CANCELED)?this.completeTransitions_():(this._error=E,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((E,x)=>{this._resolve=E,this._reject=x,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const o=this._transferred;return a=>this._updateProgress(o+a)}_shouldDoResumable(o){return o.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(o){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([a,p])=>{switch(this._state){case"running":o(a,p);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((o,a)=>{const p=function Wg(f,o,a,p,E){const x=o.bucketOnlyServerUrl(),W=iu(o,p,E),se={name:W.fullPath},Te=Da(x,f.host,f._protocol),At={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${p.size()}`,"X-Goog-Upload-Header-Content-Type":W.contentType,"Content-Type":"application/json; charset=utf-8"},Ht=zg(W,a),cn=new Ns(Te,"POST",function In(ln){let kn;lh(ln);try{kn=ln.getResponseHeader("X-Goog-Upload-URL")}catch{Ac(!1)}return Ac(tf(kn)),kn},f.maxUploadRetryTime);return cn.urlParams=se,cn.headers=At,cn.body=Ht,cn.errorHandler=Xu(o),cn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),E=this._ref.storage._makeRequest(p,da,o,a);this._request=E,E.getPromise().then(x=>{this._request=void 0,this._uploadUrl=x,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const o=this._uploadUrl;this._resolveToken((a,p)=>{const E=function S_(f,o,a,p){const Te=new Ns(a,"POST",function x($e){const At=lh($e,["active","final"]);let Ht=null;try{Ht=$e.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ac(!1)}Ht||Ac(!1);const pn=Number(Ht);return Ac(!isNaN(pn)),new ed(pn,p.size(),"final"===At)},f.maxUploadRetryTime);return Te.headers={"X-Goog-Upload-Command":"query"},Te.errorHandler=Xu(o),Te}(this._ref.storage,this._ref._location,o,this._blob),x=this._ref.storage._makeRequest(E,da,a,p);this._request=x,x.getPromise().then(W=>{this._request=void 0,this._updateProgress(W.current),this._needToFetchStatus=!1,W.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const o=262144*this._chunkMultiplier,a=new ed(this._transferred,this._blob.size()),p=this._uploadUrl;this._resolveToken((E,x)=>{let W;try{W=function su(f,o,a,p,E,x,W,se){const Te=new ed(0,0);if(W?(Te.current=W.current,Te.total=W.total):(Te.current=0,Te.total=p.size()),p.size()!==Te.total)throw function __(){return new Qi(Ai.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const $e=Te.total-Te.current;let At=$e;E>0&&(At=Math.min(At,E));const Ht=Te.current;let In="";In=0===At?"finalize":$e===At?"upload, finalize":"upload";const cn={"X-Goog-Upload-Command":In,"X-Goog-Upload-Offset":`${Te.current}`},ln=p.slice(Ht,Ht+At);if(null===ln)throw Xh();const ei=new Ns(a,"POST",function kn($r,io){const Ks=lh($r,["active","final"]),Ls=Te.current+At,Ko=p.size();let Ra;return Ra="final"===Ks?oh(o,x)($r,io):null,new ed(Ls,Ko,"final"===Ks,Ra)},o.maxUploadRetryTime);return ei.headers=cn,ei.body=ln.uploadData(),ei.progressCallback=se||null,ei.errorHandler=Xu(f),ei}(this._ref._location,this._ref.storage,p,this._blob,o,this._mappings,a,this._makeProgressCallback())}catch(Te){return this._error=Te,void this._transition("error")}const se=this._ref.storage._makeRequest(W,da,E,x,!1);this._request=se,se.getPromise().then(Te=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Te.current),Te.finalized?(this._metadata=Te.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((o,a)=>{const p=qg(this._ref.storage,this._ref._location,this._mappings),E=this._ref.storage._makeRequest(p,da,o,a);this._request=E,E.getPromise().then(x=>{this._request=void 0,this._metadata=x,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((o,a)=>{const p=function Mp(f,o,a,p,E){const x=o.bucketOnlyServerUrl(),W={"X-Goog-Upload-Protocol":"multipart"},Te=function se(){let ei="";for(let $r=0;$r<2;$r++)ei+=Math.random().toString().slice(2);return ei}();W["Content-Type"]="multipart/related; boundary="+Te;const $e=iu(o,p,E),At=zg($e,a),In=wc.getBlob("--"+Te+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+At+"\r\n--"+Te+"\r\nContent-Type: "+$e.contentType+"\r\n\r\n",p,"\r\n--"+Te+"--");if(null===In)throw Xh();const cn={name:$e.fullPath},ln=Da(x,f.host,f._protocol),Hr=f.maxUploadRetryTime,Xr=new Ns(ln,"POST",oh(f,a),Hr);return Xr.urlParams=cn,Xr.headers=W,Xr.body=In.uploadData(),Xr.errorHandler=Xu(o),Xr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),E=this._ref.storage._makeRequest(p,da,o,a);this._request=E,E.getPromise().then(x=>{this._request=void 0,this._metadata=x,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(o){const a=this._transferred;this._transferred=o,this._transferred!==a&&this._notifyObservers()}_transition(o){if(this._state!==o)switch(o){case"canceling":case"pausing":this._state=o,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const a="paused"===this._state;this._state=o,a&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=o,this._notifyObservers();break;case"canceled":this._error=Jl(),this._state=o,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const o=Zg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:o,metadata:this._metadata,task:this,ref:this._ref}}on(o,a,p,E){const x=new td(a||void 0,p||void 0,E||void 0);return this._addObserver(x),()=>{this._removeObserver(x)}}then(o,a){return this._promise.then(o,a)}catch(o){return this.then(null,o)}_addObserver(o){this._observers.push(o),this._notifyObserver(o)}_removeObserver(o){const a=this._observers.indexOf(o);-1!==a&&this._observers.splice(a,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(a=>{this._notifyObserver(a)})}_finishPromise(){if(void 0!==this._resolve){let o=!0;switch(Zg(this._state)){case _o.SUCCESS:ou(this._resolve.bind(null,this.snapshot))();break;case _o.CANCELED:case _o.ERROR:ou(this._reject.bind(null,this._error))();break;default:o=!1}o&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(o){switch(Zg(this._state)){case _o.RUNNING:case _o.PAUSED:o.next&&ou(o.next.bind(o,this.snapshot))();break;case _o.SUCCESS:o.complete&&ou(o.complete.bind(o))();break;default:o.error&&ou(o.error.bind(o,this._error))()}}resume(){const o="paused"===this._state||"pausing"===this._state;return o&&this._transition("running"),o}pause(){const o="running"===this._state;return o&&this._transition("pausing"),o}cancel(){const o="running"===this._state||"pausing"===this._state;return o&&this._transition("canceling"),o}}class nd{constructor(o,a){this._service=o,this._location=a instanceof ws?a:ws.makeFromUrl(a,o.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(o,a){return new nd(o,a)}get root(){const o=new ws(this._location.bucket,"");return this._newRef(this._service,o)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wp(this._location.path)}get storage(){return this._service}get parent(){const o=function Yv(f){if(0===f.length)return null;const o=f.lastIndexOf("/");return-1===o?"":f.slice(0,o)}(this._location.path);if(null===o)return null;const a=new ws(this._location.bucket,o);return new nd(this._service,a)}_throwIfRoot(o){if(""===this._location.path)throw I_(o)}}function em(f,o,a){return pf.apply(this,arguments)}function pf(){return(pf=(0,al.Z)(function*(f,o,a){const E=yield O_(f,{pageToken:a});o.prefixes.push(...E.prefixes),o.items.push(...E.items),null!=E.nextPageToken&&(yield em(f,o,E.nextPageToken))})).apply(this,arguments)}function O_(f,o){null!=o&&"number"==typeof o.maxResults&&yp("options.maxResults",1,1e3,o.maxResults);const a=o||{},p=Vy(f.storage,f._location,"/",a.pageToken,a.maxResults);return f.storage.makeRequestWithTokens(p,da)}function uh(f){f._throwIfRoot("getDownloadURL");const o=function Uy(f,o,a){const E=Da(o.fullServerUrl(),f.host,f._protocol),W=f.maxOperationRetryTime,se=new Ns(E,"GET",function ah(f,o){return function a(p,E){const x=nu(f,E,o);return Ac(null!==x),function $g(f,o,a,p){const E=hf(o);if(null===E||!tf(E.downloadTokens))return null;const x=E.downloadTokens;if(0===x.length)return null;const W=encodeURIComponent;return x.split(",").map($e=>{const Ht=f.fullPath;return Da("/b/"+W(f.bucket)+"/o/"+W(Ht),a,p)+vp({alt:"media",token:$e})})[0]}(x,E,f.host,f._protocol)}}(f,a),W);return se.errorHandler=ru(o),se}(f.storage,f._location,tu());return f.storage.makeRequestWithTokens(o,da).then(a=>{if(null===a)throw function y_(){return new Qi(Ai.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return a})}function rd(f,o){const a=function Bg(f,o){const a=o.split("/").filter(p=>p.length>0).join("/");return 0===f.length?a:f+"/"+a}(f._location.path,o),p=new ws(f._location.bucket,a);return new nd(f.storage,p)}function Ji(f,o){if(f instanceof im){const a=f;if(null==a._bucket)throw function mp(){return new Qi(Ai.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ql+"' property when initializing the app?")}();const p=new nd(a,a._bucket);return null!=o?Ji(p,o):p}return void 0!==o?rd(f,o):f}function Xa(f,o){if(o&&function xp(f){return/^[A-Za-z]+:\/\//.test(f)}(o)){if(f instanceof im)return function Gs(f,o){return new nd(f,o)}(f,o);throw Yu("To use ref(service, url), the first argument must be a Storage instance.")}return Ji(f,o)}function rm(f,o){const a=o?.[Ql];return null==a?null:ws.makeFromBucketSpec(a,f)}class im{constructor(o,a,p,E,x){this.app=o,this._authProvider=a,this._appCheckProvider=p,this._url=E,this._firebaseVersion=x,this._bucket=null,this._host=pp,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=E?ws.makeFromBucketSpec(E,this._host):rm(this._host,this.app.options)}get host(){return this._host}set host(o){this._host=o,this._bucket=null!=this._url?ws.makeFromBucketSpec(this._url,o):rm(o,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(o){yp("time",0,Number.POSITIVE_INFINITY,o),this._maxUploadRetryTime=o}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(o){yp("time",0,Number.POSITIVE_INFINITY,o),this._maxOperationRetryTime=o}_getAuthToken(){var o=this;return(0,al.Z)(function*(){if(o._overrideAuthToken)return o._overrideAuthToken;const a=o._authProvider.getImmediate({optional:!0});if(a){const p=yield a.getToken();if(null!==p)return p.accessToken}return null})()}_getAppCheckToken(){var o=this;return(0,al.Z)(function*(){const a=o._appCheckProvider.getImmediate({optional:!0});return a?(yield a.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(o=>o.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(o){return new nd(this,o)}_makeRequest(o,a,p,E,x=!0){if(this._deleted)return new kg(E_());{const W=function sf(f,o,a,p,E,x,W=!0){const se=vp(f.urlParams),Te=f.url+se,$e=Object.assign({},f.headers);return function Qu(f,o){o&&(f["X-Firebase-GMPID"]=o)}($e,o),function Ep(f,o){null!==o&&o.length>0&&(f.Authorization="Firebase "+o)}($e,a),function Ip(f,o){f["X-Firebase-Storage-Version"]="webjs/"+(o??"AppManager")}($e,x),function T_(f,o){null!==o&&(f["X-Firebase-AppCheck"]=o)}($e,p),new Vg(Te,f.method,$e,f.body,f.successCodes,f.additionalRetryCodes,f.handler,f.errorHandler,f.timeout,f.progressCallback,E,W)}(o,this._appId,p,E,a,this._firebaseVersion,x);return this._requests.add(W),W.getPromise().then(()=>this._requests.delete(W),()=>this._requests.delete(W)),W}}makeRequestWithTokens(o,a){var p=this;return(0,al.Z)(function*(){const[E,x]=yield Promise.all([p._getAuthToken(),p._getAppCheckToken()]);return p._makeRequest(o,a,E,x).getPromise()})()}}const Np="@firebase/storage",Fp="storage";function cu(f,o){return Xa(f=(0,no.m9)(f),o)}function Gy(f=(0,cl.getApp)(),o){f=(0,no.m9)(f);const p=(0,cl._getProvider)(f,Fp).getImmediate({identifier:o}),E=(0,no.P0)("storage");return E&&k_(p,...E),p}function k_(f,o,a,p={}){!function Op(f,o,a,p={}){f.host=`${o}:${a}`,f._protocol="http";const{mockUserToken:E}=p;E&&(f._overrideAuthToken="string"==typeof E?E:(0,no.Sg)(E,f.app.options.projectId))}(f,o,a,p)}function Wy(f,{instanceIdentifier:o}){const a=f.getProvider("app").getImmediate(),p=f.getProvider("auth-internal"),E=f.getProvider("app-check-internal");return new im(a,p,E,o,cl.SDK_VERSION)}!function Zy(){(0,cl._registerComponent)(new Cc.wA(Fp,Wy,"PUBLIC").setMultipleInstances(!0)),(0,cl.registerVersion)(Np,"0.12.5",""),(0,cl.registerVersion)(Np,"0.12.5","esm2017")}();class gf{constructor(o,a,p){this._delegate=o,this.task=a,this.ref=p}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class lu{constructor(o,a){this._delegate=o,this._ref=a,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new gf(this._delegate.snapshot,this,this._ref)}then(o,a){return this._delegate.then(p=>{if(o)return o(new gf(p,this,this._ref))},a)}on(o,a,p,E){let x;return a&&(x="function"==typeof a?W=>a(new gf(W,this,this._ref)):{next:a.next?W=>a.next(new gf(W,this,this._ref)):void 0,complete:a.complete||void 0,error:a.error||void 0}),this._delegate.on(o,x,p||void 0,E||void 0)}}class am{constructor(o,a){this._delegate=o,this._service=a}get prefixes(){return this._delegate.prefixes.map(o=>new yo(o,this._service))}get items(){return this._delegate.items.map(o=>new yo(o,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class yo{constructor(o,a){this._delegate=o,this.storage=a}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(o){const a=function om(f,o){return rd(f,o)}(this._delegate,o);return new yo(a,this.storage)}get root(){return new yo(this._delegate.root,this.storage)}get parent(){const o=this._delegate.parent;return null==o?null:new yo(o,this.storage)}put(o,a){return this._throwIfRoot("put"),new lu(function yi(f,o,a){return function R_(f,o,a){return f._throwIfRoot("uploadBytesResumable"),new au(f,new wc(o),a)}(f=(0,no.m9)(f),o,a)}(this._delegate,o,a),this)}putString(o,a=zs.RAW,p){this._throwIfRoot("putString");const E=lf(a,o),x=Object.assign({},p);return null==x.contentType&&null!=E.contentType&&(x.contentType=E.contentType),new lu(new au(this._delegate,new wc(E.data,!0),x),this)}listAll(){return function Vp(f){return function Xg(f){const o={prefixes:[],items:[]};return em(f,o).then(()=>o)}(f=(0,no.m9)(f))}(this._delegate).then(o=>new am(o,this.storage))}list(o){return function zi(f,o){return O_(f=(0,no.m9)(f),o)}(this._delegate,o||void 0).then(a=>new am(a,this.storage))}getMetadata(){return function N_(f){return function tm(f){f._throwIfRoot("getMetadata");const o=qg(f.storage,f._location,tu());return f.storage.makeRequestWithTokens(o,da)}(f=(0,no.m9)(f))}(this._delegate)}updateMetadata(o){return function Lp(f,o){return function vr(f,o){f._throwIfRoot("updateMetadata");const a=function Sp(f,o,a,p){const x=Da(o.fullServerUrl(),f.host,f._protocol),se=zg(a,p),$e=f.maxOperationRetryTime,At=new Ns(x,"PATCH",oh(f,p),$e);return At.headers={"Content-Type":"application/json; charset=utf-8"},At.body=se,At.errorHandler=ru(o),At}(f.storage,f._location,o,tu());return f.storage.makeRequestWithTokens(a,da)}(f=(0,no.m9)(f),o)}(this._delegate,o)}getDownloadURL(){return function Up(f){return uh(f=(0,no.m9)(f))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Dc(f){return function nm(f){f._throwIfRoot("deleteObject");const o=function ch(f,o){const p=Da(o.fullServerUrl(),f.host,f._protocol),se=new Ns(p,"DELETE",function W(Te,$e){},f.maxOperationRetryTime);return se.successCodes=[200,204],se.errorHandler=ru(o),se}(f.storage,f._location);return f.storage.makeRequestWithTokens(o,da)}(f=(0,no.m9)(f))}(this._delegate)}_throwIfRoot(o){if(""===this._delegate._location.path)throw I_(o)}}class Sc{constructor(o,a){this.app=o,this._delegate=a}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(o){if(cm(o))throw Yu("ref() expected a child path but got a URL, use refFromURL instead.");return new yo(cu(this._delegate,o),this)}refFromURL(o){if(!cm(o))throw Yu("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ws.makeFromUrl(o,this._delegate.host)}catch{throw Yu("refFromUrl() expected a valid full URL but got an invalid one.")}return new yo(cu(this._delegate,o),this)}setMaxUploadRetryTime(o){this._delegate.maxUploadRetryTime=o}setMaxOperationRetryTime(o){this._delegate.maxOperationRetryTime=o}useEmulator(o,a,p={}){k_(this._delegate,o,a,p)}}function cm(f){return/^[A-Za-z]+:\/\//.test(f)}function Yy(f,{instanceIdentifier:o}){const a=f.getProvider("app-compat").getImmediate(),p=f.getProvider("storage").getImmediate({identifier:o});return new Sc(a,p)}!function Qy(f){const o={TaskState:_o,TaskEvent:Pp,StringFormat:zs,Storage:Sc,Reference:yo};f.INTERNAL.registerComponent(new Cc.wA("storage-compat",Yy,"PUBLIC").setServiceProps(o).setMultipleInstances(!0)),f.registerVersion("@firebase/storage-compat","0.3.8")}(Wu.Z);var Jy=H(7142);function F_(f){const o=function id(f){return new br.y(o=>{const a=W=>o.next(W);a(f.snapshot);const x=f.on("state_changed",a);return f.then(W=>{a(W),o.complete()},W=>{a(f.snapshot),(W=>{o.error(W)})(W)}),function(){x()}}).pipe(ii(0))}(f);return{task:f,then:f.then.bind(f),catch:f.catch.bind(f),pause:f.pause.bind(f),cancel:f.cancel.bind(f),resume:f.resume.bind(f),snapshotChanges:()=>o,percentageChanges:()=>o.pipe((0,rr.U)(a=>a.bytesTransferred/a.totalBytes*100))}}function Sa(f){return{getDownloadURL:()=>(0,er.of)(void 0).pipe(di.fc,(0,ol.w)(()=>f.getDownloadURL()),di.iC),getMetadata:()=>(0,er.of)(void 0).pipe(di.fc,(0,ol.w)(()=>f.getMetadata()),di.iC),delete:()=>(0,Xd.D)(f.delete()),child:o=>Sa(f.child(o)),updateMetadata:o=>(0,Xd.D)(f.updateMetadata(o)),put:(o,a)=>F_(f.put(o,a)),putString:(o,a,p)=>F_(f.putString(o,a,p)),list:o=>(0,Xd.D)(f.list(o)),listAll:()=>(0,Xd.D)(f.listAll())}}const fh=new u.OlP("angularfire2.storageBucket"),Mc=new u.OlP("angularfire2.storage.maxUploadRetryTime"),Hp=new u.OlP("angularfire2.storage.maxOperationRetryTime"),mf=new u.OlP("angularfire2.storage.use-emulator");let uu=(()=>{class f{storage;constructor(a,p,E,x,W,se,Te,$e,At,Ht){const pn=(0,Ni.on)(a,W,p);this.storage=(0,Ni.cc)(`${pn.name}.storage.${E}`,"AngularFireStorage",pn.name,()=>{const In=W.runOutsideAngular(()=>pn.storage(E||void 0)),cn=At;return cn&&In.useEmulator(...cn),Te&&In.setMaxUploadRetryTime(Te),$e&&In.setMaxOperationRetryTime($e),In},[Te,$e])}ref(a){return Sa(this.storage.ref(a))}refFromURL(a){return Sa(this.storage.refFromURL(a))}upload(a,p,E){return Sa(this.storage.ref(a)).put(p,E)}static \u0275fac=function(p){return new(p||f)(u.LFG(Ni.Dh),u.LFG(Ni.xv,8),u.LFG(fh,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(di.HU),u.LFG(Mc,8),u.LFG(Hp,8),u.LFG(mf,8),u.LFG(di.Rf,8))};static \u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"any"})}return f})(),du=(()=>{class f{static \u0275fac=function(p){return new(p||f)};static \u0275mod=u.oAB({type:f});static \u0275inj=u.cJS({})}return f})(),yf=(()=>{class f{constructor(){Jy.Z.registerVersion("angularfire",di.q4.full,"gcs-compat")}static \u0275fac=function(p){return new(p||f)};static \u0275mod=u.oAB({type:f});static \u0275inj=u.cJS({providers:[uu],imports:[du]})}return f})(),sd=(()=>{class f{constructor(a){this.storage=a}uploadImage(a,p){const E=`${p}/${a.name}`,x=this.storage.ref(E),W=this.storage.upload(E,a);return new br.y(se=>{W.snapshotChanges().pipe((0,go.x)(()=>{x.getDownloadURL().subscribe(Te=>{se.next(Te),se.complete()})})).subscribe()})}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(uu))};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();function vf(f,o){if(1&f&&(u.TgZ(0,"option",26),u._uU(1),u.qZA()),2&f){const a=o.$implicit;u.Q6J("value",a),u.xp6(1),u.Oqu(a)}}let od=(()=>{class f{constructor(a,p,E,x){this.fb=a,this.servicesService=p,this.imageUploadService=E,this.router=x,this.serviceTypes=[],this.selectedFile=null,this.serviceObj=new mo,this.serviceForm=this.fb.group({Name:["",un.kI.required],Email:["",[un.kI.email]],Phone_Number:[""],Website:[""],Facebook:[""],Instagram:[""],Image:[""],Description:[""],Date_Created:[""],Community_Sponsor:[""],Service_Type:["",un.kI.required]})}ngOnInit(){this.fetchServiceTypes()}onFileSelected(a){this.selectedFile=a.target.files[0]}fetchServiceTypes(){this.servicesService.getAllServiceTypes().subscribe(a=>{this.serviceTypes=a})}onSubmit(){this.serviceForm.valid&&(this.serviceObj.Name=this.serviceForm.value.Name,this.serviceObj.Phone_Number=this.serviceForm.value.Phone_Number,this.serviceObj.Service_Type=this.serviceForm.value.Service_Type,this.serviceObj.Community_Sponsor=!1,this.serviceObj.Email=this.serviceForm.value.Email,this.serviceObj.Website=this.serviceForm.value.Website,this.serviceObj.Facebook=this.serviceForm.value.Facebook,this.serviceObj.Instagram=this.serviceForm.value.Instagram,this.serviceObj.Description=this.serviceForm.value.Description,this.serviceObj.Date_Created=this.serviceForm.value.Date_Created,this.serviceObj.Image=this.serviceForm.value.Image,this.serviceObj.Approved=!0,this.selectedFile?this.imageUploadService.uploadImage(this.selectedFile,"serviceImages").subscribe(a=>{this.serviceObj.Image=a,console.log(a),this.saveService()}):this.saveService())}saveService(){const a={id:this.serviceObj.id,Name:this.serviceObj.Name,Phone_Number:this.serviceObj.Phone_Number,Service_Type:this.serviceObj.Service_Type,Community_Sponsor:!1,Email:this.serviceObj.Email,Website:this.serviceObj.Website,Facebook:this.serviceObj.Facebook,Instagram:this.serviceObj.Instagram,Description:this.serviceObj.Description,Date_Created:(new Date).getDate.toString(),Date_Updated:(new Date).getDate.toString(),Image:this.serviceObj.Image,Approved:!1,OpenHour:"",CloseHour:""};this.servicesService.addService(a).subscribe(p=>{console.log("Service added successfully with ID:",p?.id),this.serviceForm.reset(),this.router.navigate(["/services",p?.id])})}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(un.qu),u.Y36(Gu.r),u.Y36(sd),u.Y36(Kt.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-add-service"]],decls:53,vars:3,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","Name",1,"required"],["id","Name","placeholder","Ion Dumitrescu","formControlName","Name","required",""],["for","Email"],["id","Email","type","Email","placeholder","info@website.com","formControlName","Email"],["for","Phone_Number"],["id","Phone_Number","type","text","placeholder","(425) 444-5555","formControlName","Phone_Number"],["for","Website"],["id","Website","type","text","placeholder","https://www.website.com","formControlName","Website"],["for","Facebook"],["id","Facebook","type","text","placeholder","https://www.facebook.com/yourname","formControlName","Facebook"],["for","Instagram"],["id","Instagram","type","text","placeholder","instaHandle..","formControlName","Instagram"],["for","Description",1,"required"],["id","Description","formControlName","Description"],["for","Service_Type",1,"required"],["id","Service_Type","formControlName","Service_Type","required",""],[3,"value",4,"ngFor","ngForOf"],["for","Image"],["type","file","formControlName","Image",3,"change"],["type","submit",3,"disabled"],[3,"value"]],template:function(p,E){1&p&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._uU(3,"Lista de Servicii"),u.qZA()(),u.TgZ(4,"div",2)(5,"h2"),u._uU(6,"Adaugati serviciile oferite pentru membrii comunit\u0103\u021bii"),u.qZA(),u._UZ(7,"p"),u.qZA()(),u.TgZ(8,"div",3)(9,"h2"),u._uU(10," Serviciile ad\u0103ugate prin aceast\u0103 pagin\u0103 sunt supuse aprob\u0103rii administratorului \xeenainte de a fi afi\u0219ate \xeen list\u0103."),u.qZA(),u.TgZ(11,"h3"),u._uU(12,"V\u0103 rug\u0103m s\u0103 introduce\u021bi cel pu\u021bin o metod\u0103 de contact."),u.qZA(),u.TgZ(13,"form",4),u.NdJ("ngSubmit",function(){return E.onSubmit()}),u.TgZ(14,"div",5)(15,"label",6),u._uU(16,"Nume:"),u.qZA(),u._UZ(17,"input",7),u.qZA(),u.TgZ(18,"div",5)(19,"label",8),u._uU(20,"Adresa Email:"),u.qZA(),u._UZ(21,"input",9),u.qZA(),u.TgZ(22,"div",5)(23,"label",10),u._uU(24,"Numar de telefon:"),u.qZA(),u._UZ(25,"input",11),u.qZA(),u.TgZ(26,"div",5)(27,"label",12),u._uU(28,"Pagina Web:"),u.qZA(),u._UZ(29,"input",13),u.qZA(),u.TgZ(30,"div",5)(31,"label",14),u._uU(32,"Pagina Facebook:"),u.qZA(),u._UZ(33,"input",15),u.qZA(),u.TgZ(34,"div",5)(35,"label",16),u._uU(36,"Instagram:(doar numele contului)"),u.qZA(),u._UZ(37,"input",17),u.qZA(),u.TgZ(38,"div",5)(39,"label",18),u._uU(40,"Descriere a serviciile oferite:"),u.qZA(),u._UZ(41,"textarea",19),u.qZA(),u.TgZ(42,"div",5)(43,"label",20),u._uU(44,"Categoria de serviciului:"),u.qZA(),u.TgZ(45,"select",21),u.YNc(46,vf,2,2,"option",22),u.qZA()(),u.TgZ(47,"div",5)(48,"label",23),u._uU(49,"Imagine:"),u.qZA(),u.TgZ(50,"input",24),u.NdJ("change",function(W){return E.onFileSelected(W)}),u.qZA()(),u.TgZ(51,"button",25),u._uU(52,"Add Service"),u.qZA()()()),2&p&&(u.xp6(13),u.Q6J("formGroup",E.serviceForm),u.xp6(33),u.Q6J("ngForOf",E.serviceTypes),u.xp6(5),u.Q6J("disabled",E.serviceForm.invalid))},dependencies:[K.sg,un._Y,un.YN,un.Kr,un.Fj,un.EJ,un.JJ,un.JL,un.Q7,un.sg,un.u],styles:['.hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.section-header[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;background-color:#f0f0f0}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:10px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.form-container[_ngcontent-%COMP%]{max-width:600px;margin:50px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;color:#fff;background-color:#007bff;border:none;border-radius:4px;cursor:pointer}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}']})}return f})(),$p=(()=>{class f{constructor(a,p){this.fb=a,this.eventsService=p,this.eventForm=this.fb.group({Approved:[""],Community_Sponsor:[""],Contact:[""],Description:["",un.kI.required],Event_date:["",un.kI.required],Location:["",un.kI.required],Name:["",un.kI.required],Phone_Number:[""],Poster_Image:["",un.kI.required],Price:["",un.kI.required],Website:[""]})}ngOnInit(){}onSubmit(){this.eventForm.valid&&this.eventsService.addEvent(this.eventForm.value).then(()=>{console.log("Event added successfully"),this.eventForm.reset()}).catch(p=>{console.error("Error adding event: ",p)})}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(un.qu),u.Y36(Un.n))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-add-event"]],decls:40,vars:2,consts:[[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","Name",1,"required"],["id","Name","formControlName","Name","required",""],["for","Contact"],["id","Contact","formControlName","Contact","required",""],["for","Poster_Image",1,"required"],["id","Poster_Image","formControlName","Poster_Image","required",""],["for","Phone_Number"],["id","Phone_Number","formControlName","Phone_Number"],["for","Event_date",1,"required"],["id","Event_date","type","date","formControlName","Event_date","required",""],["for","Location",1,"required"],["id","Location","formControlName","Location","required",""],["for","Description",1,"required"],["id","Description","formControlName","Description","required",""],["for","Price",1,"required"],["id","Price","formControlName","Price","required",""],["for","Website"],["id","Website","formControlName","Website"],["type","submit",3,"disabled"]],template:function(p,E){1&p&&(u.TgZ(0,"div",0)(1,"form",1),u.NdJ("ngSubmit",function(){return E.onSubmit()}),u.TgZ(2,"div",2)(3,"label",3),u._uU(4,"Titlu:"),u.qZA(),u._UZ(5,"input",4),u.qZA(),u.TgZ(6,"div",2)(7,"label",5),u._uU(8,"Persoana de contact:"),u.qZA(),u._UZ(9,"input",6),u.qZA(),u.TgZ(10,"div",2)(11,"label",7),u._uU(12,"Imagine poster:"),u.qZA(),u._UZ(13,"input",8),u.qZA(),u.TgZ(14,"div",2)(15,"label",9),u._uU(16,"Numar de Telefon:"),u.qZA(),u._UZ(17,"input",10),u.qZA(),u.TgZ(18,"div",2)(19,"label",11),u._uU(20,"Data Evenimentului:"),u.qZA(),u._UZ(21,"input",12),u.qZA(),u.TgZ(22,"div",2)(23,"label",13),u._uU(24,"Locatie:"),u.qZA(),u._UZ(25,"input",14),u.qZA(),u.TgZ(26,"div",2)(27,"label",15),u._uU(28,"Descriere:"),u.qZA(),u._UZ(29,"textarea",16),u.qZA(),u.TgZ(30,"div",2)(31,"label",17),u._uU(32,"Pret:"),u.qZA(),u._UZ(33,"input",18),u.qZA(),u.TgZ(34,"div",2)(35,"label",19),u._uU(36,"Website:"),u.qZA(),u._UZ(37,"input",20),u.qZA(),u.TgZ(38,"button",21),u._uU(39,"Adauga Eveniment"),u.qZA()()()),2&p&&(u.xp6(1),u.Q6J("formGroup",E.eventForm),u.xp6(37),u.Q6J("disabled",E.eventForm.invalid))},dependencies:[un._Y,un.Fj,un.JJ,un.JL,un.Q7,un.sg,un.u],styles:['.form-container[_ngcontent-%COMP%]{max-width:600px;margin:100px auto 0;padding:50px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;color:#fff;border:none;border-radius:4px;cursor:pointer}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}']})}return f})();var hu=H(7104);function lm(f,o){if(1&f&&(u.TgZ(0,"option",28),u._uU(1),u.qZA()),2&f){const a=o.$implicit;u.Q6J("value",a),u.xp6(1),u.Oqu(a)}}let ph=(()=>{class f{constructor(a,p,E,x,W){this.fb=a,this.offersService=p,this.firestore=E,this.imageUploadService=x,this.router=W,this.offerTypes=[],this.offer={Title:"",Company_Name:"",Contact_Name:"",Phone_Number:"",Email:"",Description:"",Location:"",Website:"",Filled:!1,Date_Created:(new Date).toISOString(),Price:"",Image1:"",Image2:"",Image3:"",Image4:"",Image5:"",OfferType:"",Facebook:"",Instagram:"",id:"",Community_Sponsor:!1,Approved:!1,ApprovedDate:""},this.selectedFiles=null,this.offerForm=this.fb.group({Title:["",un.kI.required],Company_Name:[""],Contact_Name:["",un.kI.required],Phone_Number:["",un.kI.required],Email:["",[un.kI.email]],Location:["",un.kI.required],Website:[""],Description:["",un.kI.required],Price:[""],Image1:[""],Image2:[""],Image3:[""],Image4:[""],Image5:[""],Filled:!1,Date_Created:[""],ApprovedDate:[""],OfferType:[""],Community_Sponsor:!1})}onFileSelected(a){this.selectedFiles=a.target.files}ngOnInit(){this.offersService.getAllOfferTypes().subscribe(a=>{this.offerTypes=a})}onSubmit(a){var p=this;if(console.log(a),this.selectedFiles&&this.selectedFiles.length>0){const E=[];for(let x=0;x<this.selectedFiles.length;x++){const se=this.imageUploadService.uploadImage(this.selectedFiles[x],"offers");E.push(se)}(0,eo.D)(E).pipe((0,rr.U)(x=>{this.offer.Image1=x[0]||"",this.offer.Image2=x[1]||"",this.offer.Image3=x[2]||"",this.offer.Image4=x[3]||"",this.offer.Image5=x[4]||""}),(0,ol.w)((0,al.Z)(function*(){return p.saveOffer()}))).subscribe()}else this.saveOffer().subscribe()}saveOffer(){return(0,Xd.D)(this.firestore.collection("Offers").add(this.offer).then(a=>{console.log("Offer added with ID:",a.id),this.router.navigate(["/offers",a.id])}).catch(a=>{console.error("Error adding offer:",a)}))}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(un.qu),u.Y36(yr.b),u.Y36(hu.ST),u.Y36(sd),u.Y36(Kt.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-add-offers"]],decls:50,vars:11,consts:[[1,"form-container"],[3,"ngSubmit"],["offerForm","ngForm"],[1,"form-group"],["for","Title",1,"required"],["type","text","name","Title","required","","placeholder","Title",3,"ngModel","ngModelChange"],["for","Company_Name"],["type","text","name","Company_Name","required","","placeholder","Company Name",3,"ngModel","ngModelChange"],["for","Contact_Name",1,"required"],["type","text","name","Contact_Name","required","","placeholder","Contact Name",3,"ngModel","ngModelChange"],["for","Phone_Number",1,"required"],["type","text","name","Phone_Number","required","","placeholder","Phone Number",3,"ngModel","ngModelChange"],["for","Email"],["type","email","name","Email","required","","placeholder","Email",3,"ngModel","ngModelChange"],["for","Description",1,"required"],["name","Description","required","","placeholder","Description",3,"ngModel","ngModelChange"],["for","Price"],["type","text","name","Price","required","","placeholder","Price",3,"ngModel","ngModelChange"],["for","Location",1,"required"],["type","text","name","Location","required","","placeholder","Location",3,"ngModel","ngModelChange"],["for","Website"],["type","url","name","Website","placeholder","Website",3,"ngModel","ngModelChange"],["for","OfferType"],["id","OfferType","name","OfferType","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","Images"],["type","file","id","Images","multiple","","accept","image/*",1,"form-control",3,"change"],["type","submit"],[3,"value"]],template:function(p,E){if(1&p){const x=u.EpF();u.TgZ(0,"div",0)(1,"form",1,2),u.NdJ("ngSubmit",function(){u.CHM(x);const se=u.MAs(2);return u.KtG(E.onSubmit(se))}),u.TgZ(3,"div",3)(4,"label",4),u._uU(5,"Titlu:"),u.qZA(),u.TgZ(6,"input",5),u.NdJ("ngModelChange",function(se){return E.offer.Title=se}),u.qZA()(),u.TgZ(7,"div",3)(8,"label",6),u._uU(9,"Numele Companiei:"),u.qZA(),u.TgZ(10,"input",7),u.NdJ("ngModelChange",function(se){return E.offer.Company_Name=se}),u.qZA()(),u.TgZ(11,"div",3)(12,"label",8),u._uU(13,"Numele persoanei de contact:"),u.qZA(),u.TgZ(14,"input",9),u.NdJ("ngModelChange",function(se){return E.offer.Contact_Name=se}),u.qZA()(),u.TgZ(15,"div",3)(16,"label",10),u._uU(17,"Numar de telefon:"),u.qZA(),u.TgZ(18,"input",11),u.NdJ("ngModelChange",function(se){return E.offer.Phone_Number=se}),u.qZA()(),u.TgZ(19,"div",3)(20,"label",12),u._uU(21,"Adresa de Email:"),u.qZA(),u.TgZ(22,"input",13),u.NdJ("ngModelChange",function(se){return E.offer.Email=se}),u.qZA()(),u.TgZ(23,"div",3)(24,"label",14),u._uU(25,"Descriere:"),u.qZA(),u.TgZ(26,"textarea",15),u.NdJ("ngModelChange",function(se){return E.offer.Description=se}),u.qZA()(),u.TgZ(27,"div",3)(28,"label",16),u._uU(29,"Pret:"),u.qZA(),u.TgZ(30,"input",17),u.NdJ("ngModelChange",function(se){return E.offer.Price=se}),u.qZA()(),u.TgZ(31,"div",3)(32,"label",18),u._uU(33,"Locatie:"),u.qZA(),u.TgZ(34,"input",19),u.NdJ("ngModelChange",function(se){return E.offer.Location=se}),u.qZA()(),u.TgZ(35,"div",3)(36,"label",20),u._uU(37,"Website:"),u.qZA(),u.TgZ(38,"input",21),u.NdJ("ngModelChange",function(se){return E.offer.Website=se}),u.qZA()(),u.TgZ(39,"div",3)(40,"label",22),u._uU(41,"Tip de oferta"),u.qZA(),u.TgZ(42,"select",23),u.NdJ("ngModelChange",function(se){return E.offer.OfferType=se}),u.YNc(43,lm,2,2,"option",24),u.qZA()(),u.TgZ(44,"div",3)(45,"label",25),u._uU(46,"Images"),u.qZA(),u.TgZ(47,"input",26),u.NdJ("change",function(se){return E.onFileSelected(se)}),u.qZA()(),u.TgZ(48,"button",27),u._uU(49,"Adauga Oferta"),u.qZA()()()}2&p&&(u.xp6(6),u.Q6J("ngModel",E.offer.Title),u.xp6(4),u.Q6J("ngModel",E.offer.Company_Name),u.xp6(4),u.Q6J("ngModel",E.offer.Contact_Name),u.xp6(4),u.Q6J("ngModel",E.offer.Phone_Number),u.xp6(4),u.Q6J("ngModel",E.offer.Email),u.xp6(4),u.Q6J("ngModel",E.offer.Description),u.xp6(4),u.Q6J("ngModel",E.offer.Price),u.xp6(4),u.Q6J("ngModel",E.offer.Location),u.xp6(4),u.Q6J("ngModel",E.offer.Website),u.xp6(4),u.Q6J("ngModel",E.offer.OfferType),u.xp6(1),u.Q6J("ngForOf",E.offerTypes))},dependencies:[K.sg,un._Y,un.YN,un.Kr,un.Fj,un.EJ,un.JJ,un.JL,un.Q7,un.On,un.F],styles:['.form-container[_ngcontent-%COMP%]{max-width:600px;margin:100px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;color:#fff;border:none;border-radius:4px;cursor:pointer}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}']})}return f})();function Xy(f,o){if(1&f&&(u.TgZ(0,"option",31),u._uU(1),u.qZA()),2&f){const a=o.$implicit;u.Q6J("value",a),u.xp6(1),u.Oqu(a)}}let zp=(()=>{class f{constructor(a,p,E,x,W){this.fb=a,this.route=p,this.router=E,this.servicesService=x,this.imageUploadService=W,this.serviceId=null,this.serviceTypes=[],this.selectedFile=null,this.serviceObj=new mo,this.oldImage=null,this.serviceForm=this.fb.group({Name:["",un.kI.required],Email:["",un.kI.email],Phone_Number:["",un.kI.required],Website:[""],Facebook:[""],Instagram:[""],Description:["",un.kI.required],Service_Type:["",un.kI.required],Image:[""],Date_Created:[""],Date_Updated:[""],Approved:[""]})}onFileSelected(a){this.selectedFile=a.target.files[0]}ngOnInit(){this.serviceId=this.route.snapshot.paramMap.get("id"),this.servicesService.getServiceById(this.serviceId).subscribe(a=>{this.serviceForm.patchValue({Id:this.serviceId,Name:a?.Name,Email:a?.Email?a.Email:"",Phone_Number:a?.Phone_Number?a.Phone_Number:"",Service_Type:a?.Service_Type,Website:a?.Website?a.Website:"",Facebook:a?.Facebook?a?.Facebook:"",Instagram:a?.Instagram?a?.Instagram:"",Description:a?.Description,Date_Created:a?.Date_Created,Date_Updated:a?.Date_Updated,Approved:!0}),a?.Image&&(this.oldImage=a?.Image)}),this.fetchServiceTypes()}fetchServiceTypes(){this.servicesService.getAllServiceTypes().subscribe(a=>{this.serviceTypes=a})}onSubmit(){this.serviceForm.valid&&(this.serviceObj.id=this.serviceId?this.serviceId:"0",this.serviceObj.Name=this.serviceForm.value.Name,this.serviceObj.Phone_Number=this.serviceForm.value.Phone_Number,this.serviceObj.Service_Type=this.serviceForm.value.Service_Type,this.serviceObj.Community_Sponsor=!1,this.serviceObj.Email=this.serviceForm.value.Email,this.serviceObj.Website=this.serviceForm.value.Website,this.serviceObj.Facebook=this.serviceForm.value.Facebook,this.serviceObj.Instagram=this.serviceForm.value.Instagram,this.serviceObj.Description=this.serviceForm.value.Description,this.serviceObj.Date_Created=this.serviceForm.value.Date_Created,this.serviceObj.Date_Updated=this.serviceForm.value.Date_Updated,this.serviceObj.Approved=this.serviceForm.value.Approved,this.serviceObj.Image=this.serviceForm.value.Image,this.selectedFile?(console.log(this.selectedFile),this.imageUploadService.uploadImage(this.selectedFile,"serviceImages").subscribe(a=>{this.serviceObj.Image=a,this.saveService()})):(this.oldImage&&(this.serviceObj.Image=this.oldImage),this.saveService()))}saveService(){const a={id:this.serviceObj.id,Name:this.serviceObj.Name,Phone_Number:this.serviceObj.Phone_Number,Service_Type:this.serviceObj.Service_Type,Community_Sponsor:!1,Email:this.serviceObj.Email,Website:this.serviceObj.Website,Facebook:this.serviceObj.Facebook,Instagram:this.serviceObj.Instagram,Description:this.serviceObj.Description,Date_Created:this.serviceObj.Date_Created,Date_Updated:(new Date).getDate.toString(),Image:this.serviceObj.Image,Approved:!1,OpenHour:"",CloseHour:""};console.log(a);let p=this.route.snapshot.paramMap.get("id");this.servicesService.updateService(p,a).subscribe(E=>{console.log("Service updated successfully  ID:",E?.id),this.serviceForm.reset(),this.router.navigate(["/services",E?.id])})}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(un.qu),u.Y36(Kt.gz),u.Y36(Kt.F0),u.Y36(Gu.r),u.Y36(sd))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-edit-services"]],decls:55,vars:4,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","Name",1,"required"],["id","Name","placeholder","Ion Dumitrescu","formControlName","Name","required",""],["for","Email"],["id","Email","placeholder","info@website.com","type","Email","formControlName","Email"],["for","Phone_Number"],["id","Phone_Number","laceholder","(425) 444-5555","formControlName","Phone_Number"],["for","Website"],["id","Website","placeholder","https://www.website.com","formControlName","Website"],["for","Facebook"],["id","Facebook","placeholder","https://www.facebook.com/yourname","formControlName","Facebook"],["for","Instagram"],["id","Instagram","type","text","placeholder","instaHandle..","formControlName","Instagram"],["for","Description",1,"required"],["id","Description","formControlName","Description"],["for","Image"],[1,"service-card-image-container"],[1,"service-card-image",3,"src"],["type","file","formControlName","Image",3,"change"],["for","Service_Type",1,"required"],["id","Service_Type","formControlName","Service_Type","required",""],[3,"value",4,"ngFor","ngForOf"],["type","submit",3,"disabled"],[2,"display","none"],["for","Approved"],["id","Approved","formControlName","Approved"],[3,"value"]],template:function(p,E){1&p&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._uU(3,"Lista de Servicii"),u.qZA()(),u.TgZ(4,"div",2)(5,"h2"),u._uU(6,"Adaugati serviciile oferite pentru membrii comunit\u0103\u021bii"),u.qZA()()(),u.TgZ(7,"div",3)(8,"form",4),u.NdJ("ngSubmit",function(){return E.onSubmit()}),u.TgZ(9,"div",5)(10,"label",6),u._uU(11,"Nume:"),u.qZA(),u._UZ(12,"input",7),u.qZA(),u.TgZ(13,"div",5)(14,"label",8),u._uU(15,"Adresa Email:"),u.qZA(),u._UZ(16,"input",9),u.qZA(),u.TgZ(17,"div",5)(18,"label",10),u._uU(19,"Numar de telefon:"),u.qZA(),u._UZ(20,"input",11),u.qZA(),u.TgZ(21,"div",5)(22,"label",12),u._uU(23,"Pagina Web:"),u.qZA(),u._UZ(24,"input",13),u.qZA(),u.TgZ(25,"div",5)(26,"label",14),u._uU(27,"Pagina Facebook:"),u.qZA(),u._UZ(28,"input",15),u.qZA(),u.TgZ(29,"div",5)(30,"label",16),u._uU(31,"Instagram: (doar numele contului)"),u.qZA(),u._UZ(32,"input",17),u.qZA(),u.TgZ(33,"div",5)(34,"label",18),u._uU(35,"Descriere a serviciile oferite:"),u.qZA(),u._UZ(36,"textarea",19),u.qZA(),u.TgZ(37,"div",5)(38,"label",20),u._uU(39,"Imagine:"),u.qZA(),u.TgZ(40,"div",21),u._UZ(41,"img",22),u.qZA(),u.TgZ(42,"input",23),u.NdJ("change",function(W){return E.onFileSelected(W)}),u.qZA()(),u.TgZ(43,"div",5)(44,"label",24),u._uU(45,"Categoria de serviciului:"),u.qZA(),u.TgZ(46,"select",25),u.YNc(47,Xy,2,2,"option",26),u.qZA()(),u.TgZ(48,"button",27),u._uU(49,"Salvati Serviciu"),u.qZA(),u.TgZ(50,"div",28)(51,"div")(52,"label",29),u._uU(53,"Approved:"),u.qZA(),u._UZ(54,"input",30),u.qZA()()()()),2&p&&(u.xp6(8),u.Q6J("formGroup",E.serviceForm),u.xp6(33),u.Q6J("src",E.oldImage,u.LSH),u.xp6(6),u.Q6J("ngForOf",E.serviceTypes),u.xp6(1),u.Q6J("disabled",E.serviceForm.invalid))},dependencies:[K.sg,un._Y,un.YN,un.Kr,un.Fj,un.EJ,un.JJ,un.JL,un.Q7,un.sg,un.u],styles:['.hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.form-container[_ngcontent-%COMP%]{max-width:600px;margin:50px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:10px 20px;font-size:16px;border-radius:5px;cursor:pointer;margin:10px 0;transition:background-color .3s ease}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}button[_ngcontent-%COMP%]:hover, select[_ngcontent-%COMP%]:hover{background-color:#0056b3}button[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #007bff40}.service-card-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.service-card-image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover;border:2px solid #ddd}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}']})}return f})();var gh=H(8266);function um(f,o){if(1&f&&(u.TgZ(0,"div",5),u._UZ(1,"img",6),u.qZA()),2&f){const a=o.$implicit;u.xp6(1),u.Q6J("src",a,u.LSH)}}let Ef=(()=>{class f{constructor(a,p,E){this.route=a,this.router=p,this.offerService=E,this.images=[]}ngOnInit(){const a=this.route.snapshot.paramMap.get("id");a&&this.offerService.getOfferById(a).subscribe(p=>{this.offer=p,this.images=[p.Image1,p.Image2,p.Image3,p.Image4,p.Image5].filter(E=>!!E)})}goBack(){this.router.navigate(["/offers"])}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(Kt.gz),u.Y36(Kt.F0),u.Y36(yr.b))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-offer-detail"]],decls:45,vars:15,consts:[[1,"offer-detail"],[1,"carousel"],["class","image-container",4,"ngFor","ngForOf"],["target","_blank",3,"href"],[3,"click"],[1,"image-container"],["alt","Offer Image",3,"src"]],template:function(p,E){1&p&&(u.TgZ(0,"div",0)(1,"h2"),u._uU(2),u.qZA(),u.TgZ(3,"div",1),u.YNc(4,um,2,1,"div",2),u.qZA(),u.TgZ(5,"p")(6,"strong"),u._uU(7,"Company Name:"),u.qZA(),u._uU(8),u.qZA(),u.TgZ(9,"p")(10,"strong"),u._uU(11,"Contact Name:"),u.qZA(),u._uU(12),u.qZA(),u.TgZ(13,"p")(14,"strong"),u._uU(15,"Phone Number:"),u.qZA(),u._uU(16),u.qZA(),u.TgZ(17,"p")(18,"strong"),u._uU(19,"Email:"),u.qZA(),u._uU(20),u.qZA(),u.TgZ(21,"p")(22,"strong"),u._uU(23,"Description:"),u.qZA(),u._uU(24),u.qZA(),u.TgZ(25,"p")(26,"strong"),u._uU(27,"Location:"),u.qZA(),u._uU(28),u.qZA(),u.TgZ(29,"p")(30,"strong"),u._uU(31,"Website:"),u.qZA(),u.TgZ(32,"a",3),u._uU(33),u.qZA()(),u.TgZ(34,"p")(35,"strong"),u._uU(36,"Offer Type:"),u.qZA(),u._uU(37),u.qZA(),u.TgZ(38,"p")(39,"strong"),u._uU(40,"Date Created:"),u.qZA(),u._uU(41),u.ALo(42,"date"),u.qZA(),u.TgZ(43,"button",4),u.NdJ("click",function(){return E.goBack()}),u._uU(44,"Back to Offers"),u.qZA()()),2&p&&(u.xp6(2),u.Oqu(null==E.offer?null:E.offer.Title),u.xp6(2),u.Q6J("ngForOf",E.images),u.xp6(4),u.hij(" ",null==E.offer?null:E.offer.Company_Name,""),u.xp6(4),u.hij(" ",null==E.offer?null:E.offer.Contact_Name,""),u.xp6(4),u.hij(" ",null==E.offer?null:E.offer.Phone_Number,""),u.xp6(4),u.hij(" ",null==E.offer?null:E.offer.Email,""),u.xp6(4),u.hij(" ",null==E.offer?null:E.offer.Description,""),u.xp6(4),u.hij(" ",null==E.offer?null:E.offer.Location,""),u.xp6(4),u.Q6J("href",null==E.offer?null:E.offer.Website,u.LSH),u.xp6(1),u.Oqu(null==E.offer?null:E.offer.Website),u.xp6(4),u.hij(" ",null==E.offer?null:E.offer.OfferType,""),u.xp6(4),u.hij(" ",u.xi3(42,12,null==E.offer?null:E.offer.Date_Created,"shortDate"),""))},dependencies:[K.sg,K.uU],styles:[".offer-detail[_ngcontent-%COMP%]{max-width:600px;margin:100px auto auto;padding:16px;border:1px solid #ddd;border-radius:4px;box-shadow:0 2px 4px #0000001a}.carousel[_ngcontent-%COMP%]{display:flex;overflow:hidden;max-height:300px;margin-bottom:16px}.image-container[_ngcontent-%COMP%]{flex:0 0 400px;overflow:hidden;position:relative}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;max-height:300px;object-fit:cover}button[_ngcontent-%COMP%]{display:block;margin:16px auto;padding:8px 16px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return f})();var L_=H(4626);function dm(f,o){if(1&f){const a=u.EpF();u.TgZ(0,"button",12),u.NdJ("click",function(){u.CHM(a);const E=u.oxw();return u.KtG(E.navigateToEditService(E.service.id))}),u._uU(1,"Edit"),u.qZA()}}let V_=(()=>{class f{constructor(a,p,E,x){this.route=a,this.servicesService=p,this.router=E,this.authService=x,this.service=new mo,this.serviceId=null,this.isLoggedIn$=this.authService.isLoggedIn()}ngOnInit(){this.serviceId=this.route.snapshot.paramMap.get("id"),this.servicesService.getServiceById(this.serviceId).subscribe(a=>{a&&(this.service.Community_Sponsor=a?.Community_Sponsor,this.service.Name=a.Name,this.service.Date_Created=a.Date_Created,this.service.Description=a.Description,this.service.Email=a.Email,this.service.Facebook=a.Facebook,this.service.Instagram=a.Instagram,this.service.Phone_Number=a.Phone_Number,this.service.Service_Type=a.Service_Type,this.service.Website=Yh(a.Website),this.service.Image=a.Image,this.serviceId&&(this.service.id=this.serviceId),console.log("Image",a?.Image),(""==a.Image||void 0===a.Image)&&(this.service.Image="https://firebasestorage.googleapis.com/v0/b/romaniinseattle.appspot.com/o/serviceImages%2FdafaultImage.jpg?alt=media&token=3b0787df-12f0-444a-a426-013843534f1e"))})}goBack(){this.router.navigate(["/services"])}navigateToEditService(a){this.router.navigate(["/edit-service",a])}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(Kt.gz),u.Y36(Gu.r),u.Y36(Kt.F0),u.Y36(L_.e))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-service-detail"]],decls:61,vars:22,consts:[[1,"service-details-container"],[1,"service-header"],[1,"forDebug"],[1,"service-content"],[1,"service-image"],[3,"src","alt"],[1,"service-details"],[1,"service-details-label"],["target","_blank",3,"href"],[1,"service-actions"],["class","editButton",3,"click",4,"ngIf"],[3,"click"],[1,"editButton",3,"click"]],template:function(p,E){1&p&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1")(3,"strong"),u._uU(4,"Name:"),u.qZA(),u._uU(5),u.qZA(),u.TgZ(6,"div",2)(7,"h3")(8,"strong"),u._uU(9,"Service Id:"),u.qZA(),u._uU(10),u.qZA()()(),u.TgZ(11,"div",3)(12,"div",4),u._UZ(13,"img",5),u.qZA(),u.TgZ(14,"div",6)(15,"div")(16,"label",7),u._uU(17,"Tip Serviciu:"),u.qZA(),u._uU(18),u.qZA(),u.TgZ(19,"div")(20,"label",7),u._uU(21,"Nr Telefon:"),u.qZA(),u._uU(22),u.qZA(),u.TgZ(23,"div")(24,"label",7),u._uU(25,"Email:"),u.qZA(),u._uU(26),u.qZA(),u.TgZ(27,"div")(28,"label",7),u._uU(29,"Website:"),u.qZA(),u.TgZ(30,"a",8),u._uU(31),u.qZA()(),u.TgZ(32,"div")(33,"label",7),u._uU(34,"Facebook:"),u.qZA(),u.TgZ(35,"a",8),u._uU(36),u.qZA()(),u.TgZ(37,"div")(38,"label",7),u._uU(39,"Instagram:"),u.qZA(),u.TgZ(40,"a",8),u._uU(41),u.qZA()(),u.TgZ(42,"div")(43,"label",7),u._uU(44,"Sponsor:"),u.qZA(),u._uU(45),u.qZA(),u.TgZ(46,"div")(47,"label",7),u._uU(48,"Date Created:"),u.qZA(),u._uU(49),u.ALo(50,"date"),u.qZA(),u.TgZ(51,"div")(52,"label",7),u._uU(53,"Description:"),u.qZA(),u._uU(54),u.qZA()()(),u.TgZ(55,"div",9),u.YNc(56,dm,2,0,"button",10),u.ALo(57,"async"),u._uU(58," \xa0 "),u.TgZ(59,"button",11),u.NdJ("click",function(){return E.goBack()}),u._uU(60,"Inapoi la Servicii"),u.qZA()()()),2&p&&(u.xp6(5),u.Oqu(E.service.Name),u.xp6(5),u.Oqu(E.service.id),u.xp6(3),u.s9C("alt",E.service.Name),u.Q6J("src",E.service.Image,u.LSH),u.xp6(5),u.hij(" ",E.service.Service_Type,""),u.xp6(4),u.hij(" ",E.service.Phone_Number,""),u.xp6(4),u.hij(" ",E.service.Email,""),u.xp6(4),u.Q6J("href",E.service.Website,u.LSH),u.xp6(1),u.Oqu(E.service.Website),u.xp6(4),u.Q6J("href",E.service.Facebook,u.LSH),u.xp6(1),u.Oqu(E.service.Facebook),u.xp6(4),u.Q6J("href",E.service.Instagram,u.LSH),u.xp6(1),u.Oqu(E.service.Instagram),u.xp6(4),u.hij(" ",E.service.Community_Sponsor?"Yes":"No",""),u.xp6(4),u.hij(" ",u.xi3(50,17,E.service.Date_Created,"shortDate"),""),u.xp6(5),u.Oqu(E.service.Description),u.xp6(2),u.Q6J("ngIf",u.lcZ(57,20,E.isLoggedIn$)))},dependencies:[K.O5,K.Ov,K.uU],styles:[".forDebug[_ngcontent-%COMP%]{display:none}.editButton[_ngcontent-%COMP%]{visibility:hidden}.service-details-container[_ngcontent-%COMP%]{max-width:800px;margin:100px auto 0;padding:20px;background-color:#f8f9fa;border-radius:10px;box-shadow:0 0 10px #0000001a}.service-details-label[_ngcontent-%COMP%]{display:inline-block;font-size:1.1em;font-weight:700;padding:10px}.service-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;font-size:2.5em;margin-bottom:20px;color:#333}.service-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start}.service-image[_ngcontent-%COMP%]{flex:1;margin-right:20px}.service-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;border-radius:10px;box-shadow:0 0 10px #0000001a}.service-details[_ngcontent-%COMP%]{flex:2;font-size:1.2em;color:#555}.service-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2em;margin-bottom:10px;color:#444}.service-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px}.service-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.service-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.service-actions[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.service-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;font-size:1em;color:#fff;background-color:#007bff;border:none;border-radius:5px;cursor:pointer}.service-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return f})(),mh=(()=>{class f{constructor(a,p){this.authService=a,this.router=p,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).subscribe({next:()=>this.router.navigate(["/admin"]),error:a=>this.handleLoginError(a)})}handleLoginError(a){switch(a.code){case"auth/user-not-found":this.errorMessage="No user found with this email.";break;case"auth/wrong-password":this.errorMessage="Incorrect password.";break;case"auth/invalid-email":this.errorMessage="Invalid email format.";break;default:this.errorMessage="Login failed. Please try again."}console.log(this.errorMessage)}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(L_.e),u.Y36(Kt.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-login"]],decls:15,vars:2,consts:[[1,"login-container"],[1,"login-box"],[3,"submit"],[1,"input-group"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModel","ngModelChange"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModel","ngModelChange"],["type","submit"]],template:function(p,E){1&p&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h2"),u._uU(3,"Login"),u.qZA(),u.TgZ(4,"form",2),u.NdJ("submit",function(){return E.login()}),u.TgZ(5,"div",3)(6,"label",4),u._uU(7,"Email"),u.qZA(),u.TgZ(8,"input",5),u.NdJ("ngModelChange",function(W){return E.email=W}),u.qZA()(),u.TgZ(9,"div",3)(10,"label",6),u._uU(11,"Password"),u.qZA(),u.TgZ(12,"input",7),u.NdJ("ngModelChange",function(W){return E.password=W}),u.qZA()(),u.TgZ(13,"button",8),u._uU(14,"Login"),u.qZA()()()()),2&p&&(u.xp6(8),u.Q6J("ngModel",E.email),u.xp6(4),u.Q6J("ngModel",E.password))},dependencies:[un._Y,un.Fj,un.JJ,un.JL,un.Q7,un.On,un.F],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:linear-gradient(to right,#007bff,#0056b3)}.login-box[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:8px;box-shadow:0 2px 4px #0000001a;width:300px;text-align:center}.login-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px;font-size:24px;color:#333}.input-group[_ngcontent-%COMP%]{margin-bottom:15px;text-align:left}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;color:#333}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;box-sizing:border-box}button[_ngcontent-%COMP%]{width:100%;padding:10px 20px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:16px;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return f})();const ev=[{path:"",component:l_},{path:"rules",component:f_},{path:"analytics",component:gh.d},{path:"events",component:ky},{path:"add-event",component:$p},{path:"offers",component:Fy},{path:"add-offers",component:ph},{path:"offers/:id",component:Ef},{path:"services",component:Rg},{path:"add-service",component:od},{path:"services/add",component:od},{path:"services/:id",component:V_},{path:"edit-service/:id",component:zp},{path:"test",component:(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-test"]],decls:17,vars:0,consts:[[1,"hero"],[1,"container","hero-content"],[1,"hero-text"],["href","https://www.facebook.com/groups/seattlecommunity",1,"btn"],[1,"hero-image"],["src","https://via.placeholder.com/600x400","alt","Seattle"],[1,"community-description"],[1,"container"]],template:function(p,E){1&p&&(u.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1"),u._uU(4,"Welcome to Seattle Community"),u.qZA(),u.TgZ(5,"p"),u._uU(6,"Your go-to place for community services and events"),u.qZA(),u.TgZ(7,"a",3),u._uU(8,"Join our Facebook Group"),u.qZA()(),u.TgZ(9,"div",4),u._UZ(10,"img",5),u.qZA()()(),u.TgZ(11,"section",6)(12,"div",7)(13,"h2"),u._uU(14,"About Our Community"),u.qZA(),u.TgZ(15,"p"),u._uU(16,"Seattle Community is dedicated to bringing together local residents, businesses, and organizations to foster a sense of unity and support. We offer a variety of services, events, and opportunities to connect with others in the area. Join us and be a part of a vibrant and active community!"),u.qZA()()())},styles:[".hero[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#f5f5f5;padding:2rem 0}.hero-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.hero-text[_ngcontent-%COMP%]{flex:1}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1.5rem}.btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:.75rem 1.5rem;text-decoration:none;border-radius:5px;font-size:1rem}.hero-image[_ngcontent-%COMP%]{flex:1}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:5px}.community-description[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:2rem 0;text-align:center}.community-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.community-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin:0 auto;max-width:800px}"]})}return f})()},{path:"login",component:mh},{path:"",redirectTo:"/login",pathMatch:"full"},{path:"admin",loadChildren:()=>H.e(525).then(H.bind(H,1525)).then(f=>f.AdminModule)}];let _h=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=u.oAB({type:f});static#n=this.\u0275inj=u.cJS({imports:[Kt.Bz.forRoot(ev),Kt.Bz]})}return f})();var hm=H(5513),hl=H(6232),Qv=H(3093),tv=H(940);const U_=new u.OlP("angularfire2.analytics.analyticsCollectionEnabled"),pm=new u.OlP("angularfire2.analytics.appVersion"),nv=new u.OlP("angularfire2.analytics.appName"),Gp=new u.OlP("angularfire2.analytics.debugMode"),qp=new u.OlP("angularfire2.analytics.config"),bf="dataLayer";let Zp=(()=>{class f{measurementId;analyticsInitialized=new Promise(()=>{});updateConfig(a){var p=this;return(0,al.Z)(function*(){yield p.analyticsInitialized,window.gtag("config",p.measurementId,{...a,update:!0})})()}constructor(a,p,E,x,W,se,Te,$e,At){if((0,K.NF)(Te)){window[bf]=window[bf]||[];const pn=(...ln)=>"config"===ln[0]&&"firebase"===ln[2].origin&&(this.measurementId=ln[1],!0),In=ln=>{window.gtag=(...kn)=>{ln&&ln(...kn),"event"===kn[0]&&kn[2].send_to===this.measurementId&&(x&&(kn[2].app_name=x),E&&(kn[2].app_version=E)),W&&typeof console<"u"&&console.info(...kn),function(...Hr){window[bf].push(arguments)}(...kn)}};window[bf].some(pn)?(this.analyticsInitialized=Promise.resolve(),In()):this.analyticsInitialized=new Promise(ln=>{In((...kn)=>{pn(...kn)&&ln()})}),se&&this.updateConfig(se),W&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const Ht=(0,er.of)(void 0).pipe((0,Qv.Q)(At.outsideAngular),(0,ol.w)(hm.Gb),(0,ol.w)(pn=>pn?$e.runOutsideAngular(()=>H.e(861).then(H.bind(H,861))):hl.E),(0,rr.U)(()=>(0,Ni.cc)("analytics","AngularFireAnalytics",a.name,()=>{const pn=a.analytics();return!1===p&&pn.setAnalyticsCollectionEnabled(!1),pn},[a,p,se,W])),(0,tv.d)({bufferSize:1,refCount:!1}));return(0,Ni.pX)(this,Ht,$e)}static \u0275fac=function(p){return new(p||f)(u.LFG(Ni.Ot),u.LFG(U_,8),u.LFG(pm,8),u.LFG(nv,8),u.LFG(Gp,8),u.LFG(qp,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(di.HU))};static \u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"any"})}return f})();const z_=function(f){return{"open-bar1":f}},Jv=function(f){return{"open-bar2":f}},Xv=function(f){return{"open-bar3":f}},G_=function(f){return{active:f}};let eE=(()=>{class f{constructor(){this.menuOpen=!1}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-navigation"]],decls:25,vars:12,consts:[[1,"navbar"],[1,"navbar-container"],[1,"logo"],["routerLink","/"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item"],["routerLink","/",1,"nav-links",3,"click"],["routerLink","/services",1,"nav-links",3,"click"],["routerLink","/events",1,"nav-links",3,"click"],["routerLink","/offers",1,"nav-links",3,"click"],["routerLink","/rules",1,"nav-links",3,"click"]],template:function(p,E){1&p&&(u.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),u._uU(4,"Romani in Seattle"),u.qZA()(),u.TgZ(5,"div",4),u.NdJ("click",function(){return E.toggleMenu()}),u._UZ(6,"div",5)(7,"div",6)(8,"div",7),u.qZA(),u.TgZ(9,"ul",8)(10,"li",9)(11,"a",10),u.NdJ("click",function(){return E.closeMenu()}),u._uU(12,"Home"),u.qZA()(),u.TgZ(13,"li",9)(14,"a",11),u.NdJ("click",function(){return E.closeMenu()}),u._uU(15,"Servicii"),u.qZA()(),u.TgZ(16,"li",9)(17,"a",12),u.NdJ("click",function(){return E.closeMenu()}),u._uU(18,"Evenimente"),u.qZA()(),u.TgZ(19,"li",9)(20,"a",13),u.NdJ("click",function(){return E.closeMenu()}),u._uU(21,"Oferte"),u.qZA()(),u.TgZ(22,"li",9)(23,"a",14),u.NdJ("click",function(){return E.closeMenu()}),u._uU(24,"Regulament"),u.qZA()()()()()),2&p&&(u.xp6(6),u.Q6J("ngClass",u.VKq(4,z_,E.menuOpen)),u.xp6(1),u.Q6J("ngClass",u.VKq(6,Jv,E.menuOpen)),u.xp6(1),u.Q6J("ngClass",u.VKq(8,Xv,E.menuOpen)),u.xp6(1),u.Q6J("ngClass",u.VKq(10,G_,E.menuOpen)))},dependencies:[K.mk,Kt.rH],styles:[".navbar[_ngcontent-%COMP%]{background-color:var(--nav-background-color);position:fixed;width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:70px;max-width:1200px;margin:0 auto}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:34px;font-weight:700;color:var(--button-color);text-decoration:none}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);text-decoration:none;text-transform:uppercase;font-size:18px;font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:500;font-style:bold}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:#fff}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:#fff}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:flex-start}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;width:100%;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);text-decoration:none;text-transform:uppercase;font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:200;font-style:normal;color:var(--nav-active-text);font-size:24px}}"]})}return f})(),iv=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"footer"],[1,"footer-content"]],template:function(p,E){1&p&&(u.TgZ(0,"footer",0)(1,"div",1),u._uU(2," \xa9 2024 Romani in Seattle. All rights reserved. "),u.qZA()())},styles:[".footer[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%;height:50px;background-color:#333;color:#fff;display:flex;align-items:center;justify-content:center;text-align:center;box-shadow:0 -2px 5px #0000001a}.footer-content[_ngcontent-%COMP%]{font-size:.9rem}"]})}return f})(),cd=(()=>{class f{constructor(a,p,E,x){this.router=a,this.analytics=p,this.activatedRoute=E,this.firestore=x,this.title="romani-in-seattle"}ngOnInit(){this.router.events.pipe((0,Ln.h)(a=>a instanceof Kt.m2)).subscribe(a=>{const p=a.urlAfterRedirects,E=this.activatedRoute.snapshot.queryParams,x=new Date;this.firestore.collection("analytics").add({page_path:p,query_params:E,timestamp:x}).then(()=>{console.log("Analytics data saved")}).catch(W=>{console.error("Error saving analytics data",W)})})}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(Kt.F0),u.Y36(Zp),u.Y36(Kt.gz),u.Y36(hu.ST))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"main-layout"]],template:function(p,E){1&p&&(u.TgZ(0,"div",0),u._UZ(1,"app-navigation")(2,"router-outlet")(3,"app-footer"),u.qZA())},dependencies:[Kt.lC,eE,iv],styles:[".content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;min-width:calc(100vw - 70px);min-height:calc(100vh - 70px);padding:20px}"]})}return f})();class fu{}class Kp{}const vo="*";function pu(f,o=null){return{type:2,steps:f,options:o}}function Yp(f){return{type:6,styles:f,offset:null}}class Cf{constructor(o=0,a=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=o+a}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(o=>o()),this._onDoneFns=[])}onStart(o){this._originalOnStartFns.push(o),this._onStartFns.push(o)}onDone(o){this._originalOnDoneFns.push(o),this._onDoneFns.push(o)}onDestroy(o){this._onDestroyFns.push(o)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(o=>o()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(o=>o()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(o){this._position=this.totalTime?o*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(o){const a="start"==o?this._onStartFns:this._onDoneFns;a.forEach(p=>p()),a.length=0}}class cv{constructor(o){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=o;let a=0,p=0,E=0;const x=this.players.length;0==x?queueMicrotask(()=>this._onFinish()):this.players.forEach(W=>{W.onDone(()=>{++a==x&&this._onFinish()}),W.onDestroy(()=>{++p==x&&this._onDestroy()}),W.onStart(()=>{++E==x&&this._onStart()})}),this.totalTime=this.players.reduce((W,se)=>Math.max(W,se.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(o=>o()),this._onDoneFns=[])}init(){this.players.forEach(o=>o.init())}onStart(o){this._onStartFns.push(o)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(o=>o()),this._onStartFns=[])}onDone(o){this._onDoneFns.push(o)}onDestroy(o){this._onDestroyFns.push(o)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(o=>o.play())}pause(){this.players.forEach(o=>o.pause())}restart(){this.players.forEach(o=>o.restart())}finish(){this._onFinish(),this.players.forEach(o=>o.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(o=>o.destroy()),this._onDestroyFns.forEach(o=>o()),this._onDestroyFns=[])}reset(){this.players.forEach(o=>o.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(o){const a=o*this.totalTime;this.players.forEach(p=>{const E=p.totalTime?Math.min(1,a/p.totalTime):1;p.setPosition(E)})}getPosition(){const o=this.players.reduce((a,p)=>null===a||p.totalTime>a.totalTime?p:a,null);return null!=o?o.getPosition():0}beforeDestroy(){this.players.forEach(o=>{o.beforeDestroy&&o.beforeDestroy()})}triggerCallback(o){const a="start"==o?this._onStartFns:this._onDoneFns;a.forEach(p=>p()),a.length=0}}function mm(f){return new u.vHH(3e3,!1)}function ha(f){switch(f.length){case 0:return new Cf;case 1:return f[0];default:return new cv(f)}}function vh(f,o,a=new Map,p=new Map){const E=[],x=[];let W=-1,se=null;if(o.forEach(Te=>{const $e=Te.get("offset"),At=$e==W,Ht=At&&se||new Map;Te.forEach((pn,In)=>{let cn=In,ln=pn;if("offset"!==In)switch(cn=f.normalizePropertyName(cn,E),ln){case"!":ln=a.get(In);break;case vo:ln=p.get(In);break;default:ln=f.normalizeStyleValue(In,cn,ln,E)}Ht.set(cn,ln)}),At||x.push(Ht),se=Ht,W=$e}),E.length)throw function gv(f){return new u.vHH(3502,!1)}();return x}function l(f,o,a,p){switch(o){case"start":f.onStart(()=>p(a&&e(a,"start",f)));break;case"done":f.onDone(()=>p(a&&e(a,"done",f)));break;case"destroy":f.onDestroy(()=>p(a&&e(a,"destroy",f)))}}function e(f,o,a){const x=r(f.element,f.triggerName,f.fromState,f.toState,o||f.phaseName,a.totalTime??f.totalTime,!!a.disabled),W=f._data;return null!=W&&(x._data=W),x}function r(f,o,a,p,E="",x=0,W){return{element:f,triggerName:o,fromState:a,toState:p,phaseName:E,totalTime:x,disabled:!!W}}function s(f,o,a){let p=f.get(o);return p||f.set(o,p=a),p}function d(f){const o=f.indexOf(":");return[f.substring(1,o),f.slice(o+1)]}const y=(()=>typeof document>"u"?null:document.documentElement)();function b(f){const o=f.parentNode||f.host||null;return o===y?null:o}let F=null,Y=!1;function ot(f,o){for(;o;){if(o===f)return!0;o=b(o)}return!1}function xt(f,o,a){if(a)return Array.from(f.querySelectorAll(o));const p=f.querySelector(o);return p?[p]:[]}let Vt=(()=>{class f{validateStyleProperty(a){return function ie(f){F||(F=function ke(){return typeof document<"u"?document.body:null}()||{},Y=!!F.style&&"WebkitAppearance"in F.style);let o=!0;return F.style&&!function R(f){return"ebkit"==f.substring(1,6)}(f)&&(o=f in F.style,!o&&Y&&(o="Webkit"+f.charAt(0).toUpperCase()+f.slice(1)in F.style)),o}(a)}matchesElement(a,p){return!1}containsElement(a,p){return ot(a,p)}getParentElement(a){return b(a)}query(a,p,E){return xt(a,p,E)}computeStyle(a,p,E){return E||""}animate(a,p,E,x,W,se=[],Te){return new Cf(E,x)}static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac})}return f})(),Tn=(()=>{class f{static#e=this.NOOP=new Vt}return f})();const $n=1e3,Wr="ng-enter",Er="ng-leave",We="ng-trigger",Re=".ng-trigger",Be="ng-animating",Qe=".ng-animating";function Je(f){if("number"==typeof f)return f;const o=f.match(/^(-?[\.\d]+)(m?s)/);return!o||o.length<2?0:lt(parseFloat(o[1]),o[2])}function lt(f,o){return"s"===o?f*$n:f}function Le(f,o,a){return f.hasOwnProperty("duration")?f:function gl(f,o,a){let E,x=0,W="";if("string"==typeof f){const se=f.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===se)return o.push(mm()),{duration:0,delay:0,easing:""};E=lt(parseFloat(se[1]),se[2]);const Te=se[3];null!=Te&&(x=lt(parseFloat(Te),se[4]));const $e=se[5];$e&&(W=$e)}else E=f;if(!a){let se=!1,Te=o.length;E<0&&(o.push(function lv(){return new u.vHH(3100,!1)}()),se=!0),x<0&&(o.push(function uv(){return new u.vHH(3101,!1)}()),se=!0),se&&o.splice(Te,0,mm())}return{duration:E,delay:x,easing:W}}(f,o,a)}function ml(f,o={}){return Object.keys(f).forEach(a=>{o[a]=f[a]}),o}function Go(f){const o=new Map;return Object.keys(f).forEach(a=>{o.set(a,f[a])}),o}function _l(f,o=new Map,a){if(a)for(let[p,E]of a)o.set(p,E);for(let[p,E]of f)o.set(p,E);return o}function fa(f,o,a){o.forEach((p,E)=>{const x=Im(E);a&&!a.has(E)&&a.set(E,f.style[x]),f.style[x]=p})}function mu(f,o){o.forEach((a,p)=>{const E=Im(p);f.style[E]=""})}function Ma(f){return Array.isArray(f)?1==f.length?f[0]:pu(f):f}const vm=new RegExp("{{\\s*(.+?)\\s*}}","g");function dd(f){let o=[];if("string"==typeof f){let a;for(;a=vm.exec(f);)o.push(a[1]);vm.lastIndex=0}return o}function Sf(f,o,a){const p=f.toString(),E=p.replace(vm,(x,W)=>{let se=o[W];return null==se&&(a.push(function K_(f){return new u.vHH(3003,!1)}()),se=""),se.toString()});return E==p?f:E}function _u(f){const o=[];let a=f.next();for(;!a.done;)o.push(a.value),a=f.next();return o}const Em=/-+([a-z0-9])/g;function Im(f){return f.replace(Em,(...o)=>o[1].toUpperCase())}function No(f,o,a){switch(o.type){case 7:return f.visitTrigger(o,a);case 0:return f.visitState(o,a);case 1:return f.visitTransition(o,a);case 2:return f.visitSequence(o,a);case 3:return f.visitGroup(o,a);case 4:return f.visitAnimate(o,a);case 5:return f.visitKeyframes(o,a);case 6:return f.visitStyle(o,a);case 8:return f.visitReference(o,a);case 9:return f.visitAnimateChild(o,a);case 10:return f.visitAnimateRef(o,a);case 11:return f.visitQuery(o,a);case 12:return f.visitStagger(o,a);default:throw function Y_(f){return new u.vHH(3004,!1)}()}}function pa(f,o){return window.getComputedStyle(f)[o]}const yl="*";function eg(f,o){const a=[];return"string"==typeof f?f.split(/\s*,\s*/).forEach(p=>function dE(f,o,a){if(":"==f[0]){const Te=function tg(f,o){switch(f){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(a,p)=>parseFloat(p)>parseFloat(a);case":decrement":return(a,p)=>parseFloat(p)<parseFloat(a);default:return o.push(function ym(f){return new u.vHH(3016,!1)}()),"* => *"}}(f,a);if("function"==typeof Te)return void o.push(Te);f=Te}const p=f.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==p||p.length<4)return a.push(function X_(f){return new u.vHH(3015,!1)}()),o;const E=p[1],x=p[2],W=p[3];o.push(qs(E,W));"<"==x[0]&&!(E==yl&&W==yl)&&o.push(qs(W,E))}(p,a,o)):a.push(f),a}const hd=new Set(["true","1"]),fd=new Set(["false","0"]);function qs(f,o){const a=hd.has(f)||fd.has(f),p=hd.has(o)||fd.has(o);return(E,x)=>{let W=f==yl||f==E,se=o==yl||o==x;return!W&&a&&"boolean"==typeof E&&(W=E?hd.has(f):fd.has(f)),!se&&p&&"boolean"==typeof x&&(se=x?hd.has(o):fd.has(o)),W&&se}}const Pa=new RegExp("s*:selfs*,?","g");function ng(f,o,a,p){return new wm(f).build(o,a,p)}class wm{constructor(o){this._driver=o}build(o,a,p){const E=new sy(a);return this._resetContextStyleTimingState(E),No(this,Ma(o),E)}_resetContextStyleTimingState(o){o.currentQuerySelector="",o.collectedStyles=new Map,o.collectedStyles.set("",new Map),o.currentTime=0}visitTrigger(o,a){let p=a.queryCount=0,E=a.depCount=0;const x=[],W=[];return"@"==o.name.charAt(0)&&a.errors.push(function dv(){return new u.vHH(3006,!1)}()),o.definitions.forEach(se=>{if(this._resetContextStyleTimingState(a),0==se.type){const Te=se,$e=Te.name;$e.toString().split(/\s*,\s*/).forEach(At=>{Te.name=At,x.push(this.visitState(Te,a))}),Te.name=$e}else if(1==se.type){const Te=this.visitTransition(se,a);p+=Te.queryCount,E+=Te.depCount,W.push(Te)}else a.errors.push(function hv(){return new u.vHH(3007,!1)}())}),{type:7,name:o.name,states:x,transitions:W,queryCount:p,depCount:E,options:null}}visitState(o,a){const p=this.visitStyle(o.styles,a),E=o.options&&o.options.params||null;if(p.containsDynamicStyles){const x=new Set,W=E||{};p.styles.forEach(se=>{se instanceof Map&&se.forEach(Te=>{dd(Te).forEach($e=>{W.hasOwnProperty($e)||x.add($e)})})}),x.size&&(_u(x.values()),a.errors.push(function iE(f,o){return new u.vHH(3008,!1)}()))}return{type:0,name:o.name,style:p,options:E?{params:E}:null}}visitTransition(o,a){a.queryCount=0,a.depCount=0;const p=No(this,Ma(o.animation),a);return{type:1,matchers:eg(o.expr,a.errors),animation:p,queryCount:a.queryCount,depCount:a.depCount,options:yu(o.options)}}visitSequence(o,a){return{type:2,steps:o.steps.map(p=>No(this,p,a)),options:yu(o.options)}}visitGroup(o,a){const p=a.currentTime;let E=0;const x=o.steps.map(W=>{a.currentTime=p;const se=No(this,W,a);return E=Math.max(E,a.currentTime),se});return a.currentTime=E,{type:3,steps:x,options:yu(o.options)}}visitAnimate(o,a){const p=function Pf(f,o){if(f.hasOwnProperty("duration"))return f;if("number"==typeof f)return vu(Le(f,o).duration,0,"");const a=f;if(a.split(/\s+/).some(x=>"{"==x.charAt(0)&&"{"==x.charAt(1))){const x=vu(0,0,"");return x.dynamic=!0,x.strValue=a,x}const E=Le(a,o);return vu(E.duration,E.delay,E.easing)}(o.timings,a.errors);a.currentAnimateTimings=p;let E,x=o.styles?o.styles:Yp({});if(5==x.type)E=this.visitKeyframes(x,a);else{let W=o.styles,se=!1;if(!W){se=!0;const $e={};p.easing&&($e.easing=p.easing),W=Yp($e)}a.currentTime+=p.duration+p.delay;const Te=this.visitStyle(W,a);Te.isEmptyStep=se,E=Te}return a.currentAnimateTimings=null,{type:4,timings:p,style:E,options:null}}visitStyle(o,a){const p=this._makeStyleAst(o,a);return this._validateStyleAst(p,a),p}_makeStyleAst(o,a){const p=[],E=Array.isArray(o.styles)?o.styles:[o.styles];for(let se of E)"string"==typeof se?se===vo?p.push(se):a.errors.push(new u.vHH(3002,!1)):p.push(Go(se));let x=!1,W=null;return p.forEach(se=>{if(se instanceof Map&&(se.has("easing")&&(W=se.get("easing"),se.delete("easing")),!x))for(let Te of se.values())if(Te.toString().indexOf("{{")>=0){x=!0;break}}),{type:6,styles:p,easing:W,offset:o.offset,containsDynamicStyles:x,options:null}}_validateStyleAst(o,a){const p=a.currentAnimateTimings;let E=a.currentTime,x=a.currentTime;p&&x>0&&(x-=p.duration+p.delay),o.styles.forEach(W=>{"string"!=typeof W&&W.forEach((se,Te)=>{const $e=a.collectedStyles.get(a.currentQuerySelector),At=$e.get(Te);let Ht=!0;At&&(x!=E&&x>=At.startTime&&E<=At.endTime&&(a.errors.push(function Q_(f,o,a,p,E){return new u.vHH(3010,!1)}()),Ht=!1),x=At.startTime),Ht&&$e.set(Te,{startTime:x,endTime:E}),a.options&&function Eo(f,o,a){const p=o.params||{},E=dd(f);E.length&&E.forEach(x=>{p.hasOwnProperty(x)||a.push(function _m(f){return new u.vHH(3001,!1)}())})}(se,a.options,a.errors)})})}visitKeyframes(o,a){const p={type:5,styles:[],options:null};if(!a.currentAnimateTimings)return a.errors.push(function wf(){return new u.vHH(3011,!1)}()),p;let x=0;const W=[];let se=!1,Te=!1,$e=0;const At=o.steps.map(Hr=>{const Xr=this._makeStyleAst(Hr,a);let ei=null!=Xr.offset?Xr.offset:function Ih(f){if("string"==typeof f)return null;let o=null;if(Array.isArray(f))f.forEach(a=>{if(a instanceof Map&&a.has("offset")){const p=a;o=parseFloat(p.get("offset")),p.delete("offset")}});else if(f instanceof Map&&f.has("offset")){const a=f;o=parseFloat(a.get("offset")),a.delete("offset")}return o}(Xr.styles),$r=0;return null!=ei&&(x++,$r=Xr.offset=ei),Te=Te||$r<0||$r>1,se=se||$r<$e,$e=$r,W.push($r),Xr});Te&&a.errors.push(function pl(){return new u.vHH(3012,!1)}()),se&&a.errors.push(function ud(){return new u.vHH(3200,!1)}());const Ht=o.steps.length;let pn=0;x>0&&x<Ht?a.errors.push(function gu(){return new u.vHH(3202,!1)}()):0==x&&(pn=1/(Ht-1));const In=Ht-1,cn=a.currentTime,ln=a.currentAnimateTimings,kn=ln.duration;return At.forEach((Hr,Xr)=>{const ei=pn>0?Xr==In?1:pn*Xr:W[Xr],$r=ei*kn;a.currentTime=cn+ln.delay+$r,ln.duration=$r,this._validateStyleAst(Hr,a),Hr.offset=ei,p.styles.push(Hr)}),p}visitReference(o,a){return{type:8,animation:No(this,Ma(o.animation),a),options:yu(o.options)}}visitAnimateChild(o,a){return a.depCount++,{type:9,options:yu(o.options)}}visitAnimateRef(o,a){return{type:10,animation:this.visitReference(o.animation,a),options:yu(o.options)}}visitQuery(o,a){const p=a.currentQuerySelector,E=o.options||{};a.queryCount++,a.currentQuery=o;const[x,W]=function Mf(f){const o=!!f.split(/\s*,\s*/).find(a=>":self"==a);return o&&(f=f.replace(Pa,"")),f=f.replace(/@\*/g,Re).replace(/@\w+/g,a=>Re+"-"+a.slice(1)).replace(/:animating/g,Qe),[f,o]}(o.selector);a.currentQuerySelector=p.length?p+" "+x:x,s(a.collectedStyles,a.currentQuerySelector,new Map);const se=No(this,Ma(o.animation),a);return a.currentQuery=null,a.currentQuerySelector=p,{type:11,selector:x,limit:E.limit||0,optional:!!E.optional,includeSelf:W,animation:se,originalSelector:o.selector,options:yu(o.options)}}visitStagger(o,a){a.currentQuery||a.errors.push(function pv(){return new u.vHH(3013,!1)}());const p="full"===o.timings?{duration:0,delay:0,easing:"full"}:Le(o.timings,a.errors,!0);return{type:12,animation:No(this,Ma(o.animation),a),timings:p,options:null}}}class sy{constructor(o){this.errors=o,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function yu(f){return f?(f=ml(f)).params&&(f.params=function Am(f){return f?ml(f):null}(f.params)):f={},f}function vu(f,o,a){return{duration:f,delay:o,easing:a}}function Dm(f,o,a,p,E,x,W=null,se=!1){return{type:1,element:f,keyframes:o,preStyleProps:a,postStyleProps:p,duration:E,delay:x,totalTime:E+x,easing:W,subTimeline:se}}class Rf{constructor(){this._map=new Map}get(o){return this._map.get(o)||[]}append(o,a){let p=this._map.get(o);p||this._map.set(o,p=[]),p.push(...a)}has(o){return this._map.has(o)}clear(){this._map.clear()}}const Sm=new RegExp(":enter","g"),Mm=new RegExp(":leave","g");function gd(f,o,a,p,E,x=new Map,W=new Map,se,Te,$e=[]){return(new Th).buildKeyframes(f,o,a,p,E,x,W,se,Te,$e)}class Th{buildKeyframes(o,a,p,E,x,W,se,Te,$e,At=[]){$e=$e||new Rf;const Ht=new xf(o,a,$e,E,x,At,[]);Ht.options=Te;const pn=Te.delay?Je(Te.delay):0;Ht.currentTimeline.delayNextStep(pn),Ht.currentTimeline.setStyles([W],null,Ht.errors,Te),No(this,p,Ht);const In=Ht.timelines.filter(cn=>cn.containsAnimation());if(In.length&&se.size){let cn;for(let ln=In.length-1;ln>=0;ln--){const kn=In[ln];if(kn.element===a){cn=kn;break}}cn&&!cn.allowOnlyTimelineStyles()&&cn.setStyles([se],null,Ht.errors,Te)}return In.length?In.map(cn=>cn.buildKeyframes()):[Dm(a,[],[],[],0,pn,"",!1)]}visitTrigger(o,a){}visitState(o,a){}visitTransition(o,a){}visitAnimateChild(o,a){const p=a.subInstructions.get(a.element);if(p){const E=a.createSubContext(o.options),x=a.currentTimeline.currentTime,W=this._visitSubInstructions(p,E,E.options);x!=W&&a.transformIntoNewTimeline(W)}a.previousNode=o}visitAnimateRef(o,a){const p=a.createSubContext(o.options);p.transformIntoNewTimeline(),this._applyAnimationRefDelays([o.options,o.animation.options],a,p),this.visitReference(o.animation,p),a.transformIntoNewTimeline(p.currentTimeline.currentTime),a.previousNode=o}_applyAnimationRefDelays(o,a,p){for(const E of o){const x=E?.delay;if(x){const W="number"==typeof x?x:Je(Sf(x,E?.params??{},a.errors));p.delayNextStep(W)}}}_visitSubInstructions(o,a,p){let x=a.currentTimeline.currentTime;const W=null!=p.duration?Je(p.duration):null,se=null!=p.delay?Je(p.delay):null;return 0!==W&&o.forEach(Te=>{const $e=a.appendInstructionToTimeline(Te,W,se);x=Math.max(x,$e.duration+$e.delay)}),x}visitReference(o,a){a.updateOptions(o.options,!0),No(this,o.animation,a),a.previousNode=o}visitSequence(o,a){const p=a.subContextCount;let E=a;const x=o.options;if(x&&(x.params||x.delay)&&(E=a.createSubContext(x),E.transformIntoNewTimeline(),null!=x.delay)){6==E.previousNode.type&&(E.currentTimeline.snapshotCurrentStyles(),E.previousNode=Eu);const W=Je(x.delay);E.delayNextStep(W)}o.steps.length&&(o.steps.forEach(W=>No(this,W,E)),E.currentTimeline.applyStylesToKeyframe(),E.subContextCount>p&&E.transformIntoNewTimeline()),a.previousNode=o}visitGroup(o,a){const p=[];let E=a.currentTimeline.currentTime;const x=o.options&&o.options.delay?Je(o.options.delay):0;o.steps.forEach(W=>{const se=a.createSubContext(o.options);x&&se.delayNextStep(x),No(this,W,se),E=Math.max(E,se.currentTimeline.currentTime),p.push(se.currentTimeline)}),p.forEach(W=>a.currentTimeline.mergeTimelineCollectedStyles(W)),a.transformIntoNewTimeline(E),a.previousNode=o}_visitTiming(o,a){if(o.dynamic){const p=o.strValue;return Le(a.params?Sf(p,a.params,a.errors):p,a.errors)}return{duration:o.duration,delay:o.delay,easing:o.easing}}visitAnimate(o,a){const p=a.currentAnimateTimings=this._visitTiming(o.timings,a),E=a.currentTimeline;p.delay&&(a.incrementTime(p.delay),E.snapshotCurrentStyles());const x=o.style;5==x.type?this.visitKeyframes(x,a):(a.incrementTime(p.duration),this.visitStyle(x,a),E.applyStylesToKeyframe()),a.currentAnimateTimings=null,a.previousNode=o}visitStyle(o,a){const p=a.currentTimeline,E=a.currentAnimateTimings;!E&&p.hasCurrentStyleProperties()&&p.forwardFrame();const x=E&&E.easing||o.easing;o.isEmptyStep?p.applyEmptyStep(x):p.setStyles(o.styles,x,a.errors,a.options),a.previousNode=o}visitKeyframes(o,a){const p=a.currentAnimateTimings,E=a.currentTimeline.duration,x=p.duration,se=a.createSubContext().currentTimeline;se.easing=p.easing,o.styles.forEach(Te=>{se.forwardTime((Te.offset||0)*x),se.setStyles(Te.styles,Te.easing,a.errors,a.options),se.applyStylesToKeyframe()}),a.currentTimeline.mergeTimelineCollectedStyles(se),a.transformIntoNewTimeline(E+x),a.previousNode=o}visitQuery(o,a){const p=a.currentTimeline.currentTime,E=o.options||{},x=E.delay?Je(E.delay):0;x&&(6===a.previousNode.type||0==p&&a.currentTimeline.hasCurrentStyleProperties())&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=Eu);let W=p;const se=a.invokeQuery(o.selector,o.originalSelector,o.limit,o.includeSelf,!!E.optional,a.errors);a.currentQueryTotal=se.length;let Te=null;se.forEach(($e,At)=>{a.currentQueryIndex=At;const Ht=a.createSubContext(o.options,$e);x&&Ht.delayNextStep(x),$e===a.element&&(Te=Ht.currentTimeline),No(this,o.animation,Ht),Ht.currentTimeline.applyStylesToKeyframe(),W=Math.max(W,Ht.currentTimeline.currentTime)}),a.currentQueryIndex=0,a.currentQueryTotal=0,a.transformIntoNewTimeline(W),Te&&(a.currentTimeline.mergeTimelineCollectedStyles(Te),a.currentTimeline.snapshotCurrentStyles()),a.previousNode=o}visitStagger(o,a){const p=a.parentContext,E=a.currentTimeline,x=o.timings,W=Math.abs(x.duration),se=W*(a.currentQueryTotal-1);let Te=W*a.currentQueryIndex;switch(x.duration<0?"reverse":x.easing){case"reverse":Te=se-Te;break;case"full":Te=p.currentStaggerTime}const At=a.currentTimeline;Te&&At.delayNextStep(Te);const Ht=At.currentTime;No(this,o.animation,a),a.previousNode=o,p.currentStaggerTime=E.currentTime-Ht+(E.startTime-p.currentTimeline.startTime)}}const Eu={};class xf{constructor(o,a,p,E,x,W,se,Te){this._driver=o,this.element=a,this.subInstructions=p,this._enterClassName=E,this._leaveClassName=x,this.errors=W,this.timelines=se,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Eu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Te||new ks(this._driver,a,0),se.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(o,a){if(!o)return;const p=o;let E=this.options;null!=p.duration&&(E.duration=Je(p.duration)),null!=p.delay&&(E.delay=Je(p.delay));const x=p.params;if(x){let W=E.params;W||(W=this.options.params={}),Object.keys(x).forEach(se=>{(!a||!W.hasOwnProperty(se))&&(W[se]=Sf(x[se],W,this.errors))})}}_copyOptions(){const o={};if(this.options){const a=this.options.params;if(a){const p=o.params={};Object.keys(a).forEach(E=>{p[E]=a[E]})}}return o}createSubContext(o=null,a,p){const E=a||this.element,x=new xf(this._driver,E,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(E,p||0));return x.previousNode=this.previousNode,x.currentAnimateTimings=this.currentAnimateTimings,x.options=this._copyOptions(),x.updateOptions(o),x.currentQueryIndex=this.currentQueryIndex,x.currentQueryTotal=this.currentQueryTotal,x.parentContext=this,this.subContextCount++,x}transformIntoNewTimeline(o){return this.previousNode=Eu,this.currentTimeline=this.currentTimeline.fork(this.element,o),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(o,a,p){const E={duration:a??o.duration,delay:this.currentTimeline.currentTime+(p??0)+o.delay,easing:""},x=new oy(this._driver,o.element,o.keyframes,o.preStyleProps,o.postStyleProps,E,o.stretchStartingKeyframe);return this.timelines.push(x),E}incrementTime(o){this.currentTimeline.forwardTime(this.currentTimeline.duration+o)}delayNextStep(o){o>0&&this.currentTimeline.delayNextStep(o)}invokeQuery(o,a,p,E,x,W){let se=[];if(E&&se.push(this.element),o.length>0){o=(o=o.replace(Sm,"."+this._enterClassName)).replace(Mm,"."+this._leaveClassName);let $e=this._driver.query(this.element,o,1!=p);0!==p&&($e=p<0?$e.slice($e.length+p,$e.length):$e.slice(0,p)),se.push(...$e)}return!x&&0==se.length&&W.push(function J_(f){return new u.vHH(3014,!1)}()),se}}class ks{constructor(o,a,p,E){this._driver=o,this.element=a,this.startTime=p,this._elementTimelineStylesLookup=E,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(a),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(a,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(o){const a=1===this._keyframes.size&&this._pendingStyles.size;this.duration||a?(this.forwardTime(this.currentTime+o),a&&this.snapshotCurrentStyles()):this.startTime+=o}fork(o,a){return this.applyStylesToKeyframe(),new ks(this._driver,o,a||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(o){this.applyStylesToKeyframe(),this.duration=o,this._loadKeyframe()}_updateStyle(o,a){this._localTimelineStyles.set(o,a),this._globalTimelineStyles.set(o,a),this._styleSummary.set(o,{time:this.currentTime,value:a})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(o){o&&this._previousKeyframe.set("easing",o);for(let[a,p]of this._globalTimelineStyles)this._backFill.set(a,p||vo),this._currentKeyframe.set(a,vo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(o,a,p,E){a&&this._previousKeyframe.set("easing",a);const x=E&&E.params||{},W=function vl(f,o){const a=new Map;let p;return f.forEach(E=>{if("*"===E){p=p||o.keys();for(let x of p)a.set(x,vo)}else _l(E,a)}),a}(o,this._globalTimelineStyles);for(let[se,Te]of W){const $e=Sf(Te,x,p);this._pendingStyles.set(se,$e),this._localTimelineStyles.has(se)||this._backFill.set(se,this._globalTimelineStyles.get(se)??vo),this._updateStyle(se,$e)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((o,a)=>{this._currentKeyframe.set(a,o)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((o,a)=>{this._currentKeyframe.has(a)||this._currentKeyframe.set(a,o)}))}snapshotCurrentStyles(){for(let[o,a]of this._localTimelineStyles)this._pendingStyles.set(o,a),this._updateStyle(o,a)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const o=[];for(let a in this._currentKeyframe)o.push(a);return o}mergeTimelineCollectedStyles(o){o._styleSummary.forEach((a,p)=>{const E=this._styleSummary.get(p);(!E||a.time>E.time)&&this._updateStyle(p,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const o=new Set,a=new Set,p=1===this._keyframes.size&&0===this.duration;let E=[];this._keyframes.forEach((se,Te)=>{const $e=_l(se,new Map,this._backFill);$e.forEach((At,Ht)=>{"!"===At?o.add(Ht):At===vo&&a.add(Ht)}),p||$e.set("offset",Te/this.duration),E.push($e)});const x=o.size?_u(o.values()):[],W=a.size?_u(a.values()):[];if(p){const se=E[0],Te=new Map(se);se.set("offset",0),Te.set("offset",1),E=[se,Te]}return Dm(this.element,E,x,W,this.duration,this.startTime,this.easing,!1)}}class oy extends ks{constructor(o,a,p,E,x,W,se=!1){super(o,a,W.delay),this.keyframes=p,this.preStyleProps=E,this.postStyleProps=x,this._stretchStartingKeyframe=se,this.timings={duration:W.duration,delay:W.delay,easing:W.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let o=this.keyframes,{delay:a,duration:p,easing:E}=this.timings;if(this._stretchStartingKeyframe&&a){const x=[],W=p+a,se=a/W,Te=_l(o[0]);Te.set("offset",0),x.push(Te);const $e=_l(o[0]);$e.set("offset",Ch(se)),x.push($e);const At=o.length-1;for(let Ht=1;Ht<=At;Ht++){let pn=_l(o[Ht]);const In=pn.get("offset");pn.set("offset",Ch((a+In*p)/W)),x.push(pn)}p=W,a=0,E="",o=x}return Dm(this.element,o,this.preStyleProps,this.postStyleProps,p,a,E,!0)}}function Ch(f,o=3){const a=Math.pow(10,o-1);return Math.round(f*a)/a}class Pm{}const bv=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Tv extends Pm{normalizePropertyName(o,a){return Im(o)}normalizeStyleValue(o,a,p,E){let x="";const W=p.toString().trim();if(bv.has(a)&&0!==p&&"0"!==p)if("number"==typeof p)x="px";else{const se=p.match(/^[+-]?[\d\.]+([a-z]*)$/);se&&0==se[1].length&&E.push(function rE(f,o){return new u.vHH(3005,!1)}())}return W+x}}function Nf(f,o,a,p,E,x,W,se,Te,$e,At,Ht,pn){return{type:0,element:f,triggerName:o,isRemovalTransition:E,fromState:a,fromStyles:x,toState:p,toStyles:W,timelines:se,queriedElements:Te,preStyleProps:$e,postStyleProps:At,totalTime:Ht,errors:pn}}const ig={};class sg{constructor(o,a,p){this._triggerName=o,this.ast=a,this._stateStyles=p}match(o,a,p,E){return function Rc(f,o,a,p,E){return f.some(x=>x(o,a,p,E))}(this.ast.matchers,o,a,p,E)}buildStyles(o,a,p){let E=this._stateStyles.get("*");return void 0!==o&&(E=this._stateStyles.get(o?.toString())||E),E?E.buildStyles(a,p):new Map}build(o,a,p,E,x,W,se,Te,$e,At){const Ht=[],pn=this.ast.options&&this.ast.options.params||ig,cn=this.buildStyles(p,se&&se.params||ig,Ht),ln=Te&&Te.params||ig,kn=this.buildStyles(E,ln,Ht),Hr=new Set,Xr=new Map,ei=new Map,$r="void"===E,io={params:ay(ln,pn),delay:this.ast.options?.delay},Ks=At?[]:gd(o,a,this.ast.animation,x,W,cn,kn,io,$e,Ht);let Ls=0;if(Ks.forEach(Ra=>{Ls=Math.max(Ra.duration+Ra.delay,Ls)}),Ht.length)return Nf(a,this._triggerName,p,E,$r,cn,kn,[],[],Xr,ei,Ls,Ht);Ks.forEach(Ra=>{const bd=Ra.element,$v=s(Xr,bd,new Set);Ra.preStyleProps.forEach(Td=>$v.add(Td));const n_=s(ei,bd,new Set);Ra.postStyleProps.forEach(Td=>n_.add(Td)),bd!==a&&Hr.add(bd)});const Ko=_u(Hr.values());return Nf(a,this._triggerName,p,E,$r,cn,kn,Ks,Ko,Xr,ei,Ls)}}function ay(f,o){const a=ml(o);for(const p in f)f.hasOwnProperty(p)&&null!=f[p]&&(a[p]=f[p]);return a}class kf{constructor(o,a,p){this.styles=o,this.defaultParams=a,this.normalizer=p}buildStyles(o,a){const p=new Map,E=ml(this.defaultParams);return Object.keys(o).forEach(x=>{const W=o[x];null!==W&&(E[x]=W)}),this.styles.styles.forEach(x=>{"string"!=typeof x&&x.forEach((W,se)=>{W&&(W=Sf(W,E,a));const Te=this.normalizer.normalizePropertyName(se,a);W=this.normalizer.normalizeStyleValue(se,Te,W,a),p.set(se,W)})}),p}}class xm{constructor(o,a,p){this.name=o,this.ast=a,this._normalizer=p,this.transitionFactories=[],this.states=new Map,a.states.forEach(E=>{this.states.set(E.name,new kf(E.style,E.options&&E.options.params||{},p))}),Om(this.states,"true","1"),Om(this.states,"false","0"),a.transitions.forEach(E=>{this.transitionFactories.push(new sg(o,E,this.states))}),this.fallbackTransition=function cy(f,o,a){return new sg(f,{type:1,animation:{type:2,steps:[],options:null},matchers:[(W,se)=>!0],options:null,queryCount:0,depCount:0},o)}(o,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(o,a,p,E){return this.transitionFactories.find(W=>W.match(o,a,p,E))||null}matchStyles(o,a,p){return this.fallbackTransition.buildStyles(o,a,p)}}function Om(f,o,a){f.has(o)?f.has(a)||f.set(a,f.get(o)):f.has(a)&&f.set(o,f.get(a))}const Cv=new Rf;class ag{constructor(o,a,p){this.bodyNode=o,this._driver=a,this._normalizer=p,this._animations=new Map,this._playersById=new Map,this.players=[]}register(o,a){const p=[],x=ng(this._driver,a,p,[]);if(p.length)throw function oE(f){return new u.vHH(3503,!1)}();this._animations.set(o,x)}_buildPlayer(o,a,p){const E=o.element,x=vh(this._normalizer,o.keyframes,a,p);return this._driver.animate(E,x,o.duration,o.delay,o.easing,[],!0)}create(o,a,p={}){const E=[],x=this._animations.get(o);let W;const se=new Map;if(x?(W=gd(this._driver,a,x,Wr,Er,new Map,new Map,p,Cv,E),W.forEach(At=>{const Ht=s(se,At.element,new Map);At.postStyleProps.forEach(pn=>Ht.set(pn,null))})):(E.push(function ty(){return new u.vHH(3300,!1)}()),W=[]),E.length)throw function mv(f){return new u.vHH(3504,!1)}();se.forEach((At,Ht)=>{At.forEach((pn,In)=>{At.set(In,this._driver.computeStyle(Ht,In,vo))})});const $e=ha(W.map(At=>{const Ht=se.get(At.element);return this._buildPlayer(At,new Map,Ht)}));return this._playersById.set(o,$e),$e.onDestroy(()=>this.destroy(o)),this.players.push($e),$e}destroy(o){const a=this._getPlayer(o);a.destroy(),this._playersById.delete(o);const p=this.players.indexOf(a);p>=0&&this.players.splice(p,1)}_getPlayer(o){const a=this._playersById.get(o);if(!a)throw function aE(f){return new u.vHH(3301,!1)}();return a}listen(o,a,p,E){const x=r(a,"","","");return l(this._getPlayer(o),p,x,E),()=>{}}command(o,a,p,E){if("register"==p)return void this.register(o,E[0]);if("create"==p)return void this.create(o,a,E[0]||{});const x=this._getPlayer(o);switch(p){case"play":x.play();break;case"pause":x.pause();break;case"reset":x.reset();break;case"restart":x.restart();break;case"finish":x.finish();break;case"init":x.init();break;case"setPosition":x.setPosition(parseFloat(E[0]));break;case"destroy":this.destroy(o)}}}const Nm="ng-animate-queued",Iu="ng-animate-disabled",km=[],dy={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ff={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ga="__ng_removed";class Lf{get params(){return this.options.params}constructor(o,a=""){this.namespaceId=a;const p=o&&o.hasOwnProperty("value");if(this.value=function ug(f){return f??null}(p?o.value:o),p){const x=ml(o);delete x.value,this.options=x}else this.options={};this.options.params||(this.options.params={})}absorbOptions(o){const a=o.params;if(a){const p=this.options.params;Object.keys(a).forEach(E=>{null==p[E]&&(p[E]=a[E])})}}}const bu="void",lg=new Lf(bu);class xc{constructor(o,a,p){this.id=o,this.hostElement=a,this._engine=p,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+o,Ar(a,this._hostClassName)}listen(o,a,p,E){if(!this._triggers.has(a))throw function _v(f,o){return new u.vHH(3302,!1)}();if(null==p||0==p.length)throw function UE(f){return new u.vHH(3303,!1)}();if(!function ec(f){return"start"==f||"done"==f}(p))throw function cE(f,o){return new u.vHH(3400,!1)}();const x=s(this._elementListeners,o,[]),W={name:a,phase:p,callback:E};x.push(W);const se=s(this._engine.statesByElement,o,new Map);return se.has(a)||(Ar(o,We),Ar(o,We+"-"+a),se.set(a,lg)),()=>{this._engine.afterFlush(()=>{const Te=x.indexOf(W);Te>=0&&x.splice(Te,1),this._triggers.has(a)||se.delete(a)})}}register(o,a){return!this._triggers.has(o)&&(this._triggers.set(o,a),!0)}_getTrigger(o){const a=this._triggers.get(o);if(!a)throw function yv(f){return new u.vHH(3401,!1)}();return a}trigger(o,a,p,E=!0){const x=this._getTrigger(a),W=new Fs(this.id,a,o);let se=this._engine.statesByElement.get(o);se||(Ar(o,We),Ar(o,We+"-"+a),this._engine.statesByElement.set(o,se=new Map));let Te=se.get(a);const $e=new Lf(p,this.id);if(!(p&&p.hasOwnProperty("value"))&&Te&&$e.absorbOptions(Te.options),se.set(a,$e),Te||(Te=lg),$e.value!==bu&&Te.value===$e.value){if(!function yd(f,o){const a=Object.keys(f),p=Object.keys(o);if(a.length!=p.length)return!1;for(let E=0;E<a.length;E++){const x=a[E];if(!o.hasOwnProperty(x)||f[x]!==o[x])return!1}return!0}(Te.params,$e.params)){const ln=[],kn=x.matchStyles(Te.value,Te.params,ln),Hr=x.matchStyles($e.value,$e.params,ln);ln.length?this._engine.reportError(ln):this._engine.afterFlush(()=>{mu(o,kn),fa(o,Hr)})}return}const pn=s(this._engine.playersByElement,o,[]);pn.forEach(ln=>{ln.namespaceId==this.id&&ln.triggerName==a&&ln.queued&&ln.destroy()});let In=x.matchTransition(Te.value,$e.value,o,$e.params),cn=!1;if(!In){if(!E)return;In=x.fallbackTransition,cn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:o,triggerName:a,transition:In,fromState:Te,toState:$e,player:W,isFallbackTransition:cn}),cn||(Ar(o,Nm),W.onStart(()=>{qo(o,Nm)})),W.onDone(()=>{let ln=this.players.indexOf(W);ln>=0&&this.players.splice(ln,1);const kn=this._engine.playersByElement.get(o);if(kn){let Hr=kn.indexOf(W);Hr>=0&&kn.splice(Hr,1)}}),this.players.push(W),pn.push(W),W}deregister(o){this._triggers.delete(o),this._engine.statesByElement.forEach(a=>a.delete(o)),this._elementListeners.forEach((a,p)=>{this._elementListeners.set(p,a.filter(E=>E.name!=o))})}clearElementCache(o){this._engine.statesByElement.delete(o),this._elementListeners.delete(o);const a=this._engine.playersByElement.get(o);a&&(a.forEach(p=>p.destroy()),this._engine.playersByElement.delete(o))}_signalRemovalForInnerTriggers(o,a){const p=this._engine.driver.query(o,Re,!0);p.forEach(E=>{if(E[ga])return;const x=this._engine.fetchNamespacesByElement(E);x.size?x.forEach(W=>W.triggerLeaveAnimation(E,a,!1,!0)):this.clearElementCache(E)}),this._engine.afterFlushAnimationsDone(()=>p.forEach(E=>this.clearElementCache(E)))}triggerLeaveAnimation(o,a,p,E){const x=this._engine.statesByElement.get(o),W=new Map;if(x){const se=[];if(x.forEach((Te,$e)=>{if(W.set($e,Te.value),this._triggers.has($e)){const At=this.trigger(o,$e,bu,E);At&&se.push(At)}}),se.length)return this._engine.markElementAsRemoved(this.id,o,!0,a,W),p&&ha(se).onDone(()=>this._engine.processLeaveNode(o)),!0}return!1}prepareLeaveAnimationListeners(o){const a=this._elementListeners.get(o),p=this._engine.statesByElement.get(o);if(a&&p){const E=new Set;a.forEach(x=>{const W=x.name;if(E.has(W))return;E.add(W);const Te=this._triggers.get(W).fallbackTransition,$e=p.get(W)||lg,At=new Lf(bu),Ht=new Fs(this.id,W,o);this._engine.totalQueuedPlayers++,this._queue.push({element:o,triggerName:W,transition:Te,fromState:$e,toState:At,player:Ht,isFallbackTransition:!0})})}}removeNode(o,a){const p=this._engine;if(o.childElementCount&&this._signalRemovalForInnerTriggers(o,a),this.triggerLeaveAnimation(o,a,!0))return;let E=!1;if(p.totalAnimations){const x=p.players.length?p.playersByQueriedElement.get(o):[];if(x&&x.length)E=!0;else{let W=o;for(;W=W.parentNode;)if(p.statesByElement.get(W)){E=!0;break}}}if(this.prepareLeaveAnimationListeners(o),E)p.markElementAsRemoved(this.id,o,!1,a);else{const x=o[ga];(!x||x===dy)&&(p.afterFlush(()=>this.clearElementCache(o)),p.destroyInnerAnimations(o),p._onRemovalComplete(o,a))}}insertNode(o,a){Ar(o,this._hostClassName)}drainQueuedTransitions(o){const a=[];return this._queue.forEach(p=>{const E=p.player;if(E.destroyed)return;const x=p.element,W=this._elementListeners.get(x);W&&W.forEach(se=>{if(se.name==p.triggerName){const Te=r(x,p.triggerName,p.fromState.value,p.toState.value);Te._data=o,l(p.player,se.phase,Te,se.callback)}}),E.markedForDestroy?this._engine.afterFlush(()=>{E.destroy()}):a.push(p)}),this._queue=[],a.sort((p,E)=>{const x=p.transition.ast.depCount,W=E.transition.ast.depCount;return 0==x||0==W?x-W:this._engine.driver.containsElement(p.element,E.element)?1:-1})}destroy(o){this.players.forEach(a=>a.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,o)}}class Vf{_onRemovalComplete(o,a){this.onRemovalComplete(o,a)}constructor(o,a,p){this.bodyNode=o,this.driver=a,this._normalizer=p,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(E,x)=>{}}get queuedPlayers(){const o=[];return this._namespaceList.forEach(a=>{a.players.forEach(p=>{p.queued&&o.push(p)})}),o}createNamespace(o,a){const p=new xc(o,a,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,a)?this._balanceNamespaceList(p,a):(this.newHostElements.set(a,p),this.collectEnterElement(a)),this._namespaceLookup[o]=p}_balanceNamespaceList(o,a){const p=this._namespaceList,E=this.namespacesByHostElement;if(p.length-1>=0){let W=!1,se=this.driver.getParentElement(a);for(;se;){const Te=E.get(se);if(Te){const $e=p.indexOf(Te);p.splice($e+1,0,o),W=!0;break}se=this.driver.getParentElement(se)}W||p.unshift(o)}else p.push(o);return E.set(a,o),o}register(o,a){let p=this._namespaceLookup[o];return p||(p=this.createNamespace(o,a)),p}registerTrigger(o,a,p){let E=this._namespaceLookup[o];E&&E.register(a,p)&&this.totalAnimations++}destroy(o,a){o&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const p=this._fetchNamespace(o);this.namespacesByHostElement.delete(p.hostElement);const E=this._namespaceList.indexOf(p);E>=0&&this._namespaceList.splice(E,1),p.destroy(a),delete this._namespaceLookup[o]}))}_fetchNamespace(o){return this._namespaceLookup[o]}fetchNamespacesByElement(o){const a=new Set,p=this.statesByElement.get(o);if(p)for(let E of p.values())if(E.namespaceId){const x=this._fetchNamespace(E.namespaceId);x&&a.add(x)}return a}trigger(o,a,p,E){if(ps(a)){const x=this._fetchNamespace(o);if(x)return x.trigger(a,p,E),!0}return!1}insertNode(o,a,p,E){if(!ps(a))return;const x=a[ga];if(x&&x.setForRemoval){x.setForRemoval=!1,x.setForMove=!0;const W=this.collectedLeaveElements.indexOf(a);W>=0&&this.collectedLeaveElements.splice(W,1)}if(o){const W=this._fetchNamespace(o);W&&W.insertNode(a,p)}E&&this.collectEnterElement(a)}collectEnterElement(o){this.collectedEnterElements.push(o)}markElementAsDisabled(o,a){a?this.disabledNodes.has(o)||(this.disabledNodes.add(o),Ar(o,Iu)):this.disabledNodes.has(o)&&(this.disabledNodes.delete(o),qo(o,Iu))}removeNode(o,a,p){if(ps(a)){const E=o?this._fetchNamespace(o):null;E?E.removeNode(a,p):this.markElementAsRemoved(o,a,!1,p);const x=this.namespacesByHostElement.get(a);x&&x.id!==o&&x.removeNode(a,p)}else this._onRemovalComplete(a,p)}markElementAsRemoved(o,a,p,E,x){this.collectedLeaveElements.push(a),a[ga]={namespaceId:o,setForRemoval:E,hasAnimation:p,removedBeforeQueried:!1,previousTriggersValues:x}}listen(o,a,p,E,x){return ps(a)?this._fetchNamespace(o).listen(a,p,E,x):()=>{}}_buildInstruction(o,a,p,E,x){return o.transition.build(this.driver,o.element,o.fromState.value,o.toState.value,p,E,o.fromState.options,o.toState.options,a,x)}destroyInnerAnimations(o){let a=this.driver.query(o,Re,!0);a.forEach(p=>this.destroyActiveAnimationsForElement(p)),0!=this.playersByQueriedElement.size&&(a=this.driver.query(o,Qe,!0),a.forEach(p=>this.finishActiveQueriedAnimationOnElement(p)))}destroyActiveAnimationsForElement(o){const a=this.playersByElement.get(o);a&&a.forEach(p=>{p.queued?p.markedForDestroy=!0:p.destroy()})}finishActiveQueriedAnimationOnElement(o){const a=this.playersByQueriedElement.get(o);a&&a.forEach(p=>p.finish())}whenRenderingDone(){return new Promise(o=>{if(this.players.length)return ha(this.players).onDone(()=>o());o()})}processLeaveNode(o){const a=o[ga];if(a&&a.setForRemoval){if(o[ga]=dy,a.namespaceId){this.destroyInnerAnimations(o);const p=this._fetchNamespace(a.namespaceId);p&&p.clearElementCache(o)}this._onRemovalComplete(o,a.setForRemoval)}o.classList?.contains(Iu)&&this.markElementAsDisabled(o,!1),this.driver.query(o,".ng-animate-disabled",!0).forEach(p=>{this.markElementAsDisabled(p,!1)})}flush(o=-1){let a=[];if(this.newHostElements.size&&(this.newHostElements.forEach((p,E)=>this._balanceNamespaceList(p,E)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let p=0;p<this.collectedEnterElements.length;p++)Ar(this.collectedEnterElements[p],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const p=[];try{a=this._flushAnimations(p,o)}finally{for(let E=0;E<p.length;E++)p[E]()}}else for(let p=0;p<this.collectedLeaveElements.length;p++)this.processLeaveNode(this.collectedLeaveElements[p]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(p=>p()),this._flushFns=[],this._whenQuietFns.length){const p=this._whenQuietFns;this._whenQuietFns=[],a.length?ha(a).onDone(()=>{p.forEach(E=>E())}):p.forEach(E=>E())}}reportError(o){throw function vv(f){return new u.vHH(3402,!1)}()}_flushAnimations(o,a){const p=new Rf,E=[],x=new Map,W=[],se=new Map,Te=new Map,$e=new Map,At=new Set;this.disabledNodes.forEach(Vn=>{At.add(Vn);const nr=this.driver.query(Vn,".ng-animate-queued",!0);for(let ur=0;ur<nr.length;ur++)At.add(nr[ur])});const Ht=this.bodyNode,pn=Array.from(this.statesByElement.keys()),In=Cu(pn,this.collectedEnterElements),cn=new Map;let ln=0;In.forEach((Vn,nr)=>{const ur=Wr+ln++;cn.set(nr,ur),Vn.forEach(ci=>Ar(ci,ur))});const kn=[],Hr=new Set,Xr=new Set;for(let Vn=0;Vn<this.collectedLeaveElements.length;Vn++){const nr=this.collectedLeaveElements[Vn],ur=nr[ga];ur&&ur.setForRemoval&&(kn.push(nr),Hr.add(nr),ur.hasAnimation?this.driver.query(nr,".ng-star-inserted",!0).forEach(ci=>Hr.add(ci)):Xr.add(nr))}const ei=new Map,$r=Cu(pn,Array.from(Hr));$r.forEach((Vn,nr)=>{const ur=Er+ln++;ei.set(nr,ur),Vn.forEach(ci=>Ar(ci,ur))}),o.push(()=>{In.forEach((Vn,nr)=>{const ur=cn.get(nr);Vn.forEach(ci=>qo(ci,ur))}),$r.forEach((Vn,nr)=>{const ur=ei.get(nr);Vn.forEach(ci=>qo(ci,ur))}),kn.forEach(Vn=>{this.processLeaveNode(Vn)})});const io=[],Ks=[];for(let Vn=this._namespaceList.length-1;Vn>=0;Vn--)this._namespaceList[Vn].drainQueuedTransitions(a).forEach(ur=>{const ci=ur.player,Ys=ur.element;if(io.push(ci),this.collectedEnterElements.length){const Yo=Ys[ga];if(Yo&&Yo.setForMove){if(Yo.previousTriggersValues&&Yo.previousTriggersValues.has(ur.triggerName)){const Yf=Yo.previousTriggersValues.get(ur.triggerName),Vc=this.statesByElement.get(ur.element);if(Vc&&Vc.has(ur.triggerName)){const Ay=Vc.get(ur.triggerName);Ay.value=Yf,Vc.set(ur.triggerName,Ay)}}return void ci.destroy()}}const Pu=!Ht||!this.driver.containsElement(Ht,Ys),xa=ei.get(Ys),Dh=cn.get(Ys),gs=this._buildInstruction(ur,p,Dh,xa,Pu);if(gs.errors&&gs.errors.length)return void Ks.push(gs);if(Pu)return ci.onStart(()=>mu(Ys,gs.fromStyles)),ci.onDestroy(()=>fa(Ys,gs.toStyles)),void E.push(ci);if(ur.isFallbackTransition)return ci.onStart(()=>mu(Ys,gs.fromStyles)),ci.onDestroy(()=>fa(Ys,gs.toStyles)),void E.push(ci);const DE=[];gs.timelines.forEach(Yo=>{Yo.stretchStartingKeyframe=!0,this.disabledNodes.has(Yo.element)||DE.push(Yo)}),gs.timelines=DE,p.append(Ys,gs.timelines),W.push({instruction:gs,player:ci,element:Ys}),gs.queriedElements.forEach(Yo=>s(se,Yo,[]).push(ci)),gs.preStyleProps.forEach((Yo,Yf)=>{if(Yo.size){let Vc=Te.get(Yf);Vc||Te.set(Yf,Vc=new Set),Yo.forEach((Ay,Dy)=>Vc.add(Dy))}}),gs.postStyleProps.forEach((Yo,Yf)=>{let Vc=$e.get(Yf);Vc||$e.set(Yf,Vc=new Set),Yo.forEach((Ay,Dy)=>Vc.add(Dy))})});if(Ks.length){const Vn=[];Ks.forEach(nr=>{Vn.push(function Ev(f,o){return new u.vHH(3505,!1)}())}),io.forEach(nr=>nr.destroy()),this.reportError(Vn)}const Ls=new Map,Ko=new Map;W.forEach(Vn=>{const nr=Vn.element;p.has(nr)&&(Ko.set(nr,nr),this._beforeAnimationBuild(Vn.player.namespaceId,Vn.instruction,Ls))}),E.forEach(Vn=>{const nr=Vn.element;this._getPreviousPlayers(nr,!1,Vn.namespaceId,Vn.triggerName,null).forEach(ci=>{s(Ls,nr,[]).push(ci),ci.destroy()})});const Ra=kn.filter(Vn=>Fm(Vn,Te,$e)),bd=new Map;Nc(bd,this.driver,Xr,$e,vo).forEach(Vn=>{Fm(Vn,Te,$e)&&Ra.push(Vn)});const n_=new Map;In.forEach((Vn,nr)=>{Nc(n_,this.driver,new Set(Vn),Te,"!")}),Ra.forEach(Vn=>{const nr=bd.get(Vn),ur=n_.get(Vn);bd.set(Vn,new Map([...nr?.entries()??[],...ur?.entries()??[]]))});const Td=[],AE=[],zv={};W.forEach(Vn=>{const{element:nr,player:ur,instruction:ci}=Vn;if(p.has(nr)){if(At.has(nr))return ur.onDestroy(()=>fa(nr,ci.toStyles)),ur.disabled=!0,ur.overrideTotalTime(ci.totalTime),void E.push(ur);let Ys=zv;if(Ko.size>1){let xa=nr;const Dh=[];for(;xa=xa.parentNode;){const gs=Ko.get(xa);if(gs){Ys=gs;break}Dh.push(xa)}Dh.forEach(gs=>Ko.set(gs,Ys))}const Pu=this._buildAnimation(ur.namespaceId,ci,Ls,x,n_,bd);if(ur.setRealPlayer(Pu),Ys===zv)Td.push(ur);else{const xa=this.playersByElement.get(Ys);xa&&xa.length&&(ur.parentPlayer=ha(xa)),E.push(ur)}}else mu(nr,ci.fromStyles),ur.onDestroy(()=>fa(nr,ci.toStyles)),AE.push(ur),At.has(nr)&&E.push(ur)}),AE.forEach(Vn=>{const nr=x.get(Vn.element);if(nr&&nr.length){const ur=ha(nr);Vn.setRealPlayer(ur)}}),E.forEach(Vn=>{Vn.parentPlayer?Vn.syncPlayerEvents(Vn.parentPlayer):Vn.destroy()});for(let Vn=0;Vn<kn.length;Vn++){const nr=kn[Vn],ur=nr[ga];if(qo(nr,Er),ur&&ur.hasAnimation)continue;let ci=[];if(se.size){let Pu=se.get(nr);Pu&&Pu.length&&ci.push(...Pu);let xa=this.driver.query(nr,Qe,!0);for(let Dh=0;Dh<xa.length;Dh++){let gs=se.get(xa[Dh]);gs&&gs.length&&ci.push(...gs)}}const Ys=ci.filter(Pu=>!Pu.destroyed);Ys.length?kc(this,nr,Ys):this.processLeaveNode(nr)}return kn.length=0,Td.forEach(Vn=>{this.players.push(Vn),Vn.onDone(()=>{Vn.destroy();const nr=this.players.indexOf(Vn);this.players.splice(nr,1)}),Vn.play()}),Td}afterFlush(o){this._flushFns.push(o)}afterFlushAnimationsDone(o){this._whenQuietFns.push(o)}_getPreviousPlayers(o,a,p,E,x){let W=[];if(a){const se=this.playersByQueriedElement.get(o);se&&(W=se)}else{const se=this.playersByElement.get(o);if(se){const Te=!x||x==bu;se.forEach($e=>{$e.queued||!Te&&$e.triggerName!=E||W.push($e)})}}return(p||E)&&(W=W.filter(se=>!(p&&p!=se.namespaceId||E&&E!=se.triggerName))),W}_beforeAnimationBuild(o,a,p){const x=a.element,W=a.isRemovalTransition?void 0:o,se=a.isRemovalTransition?void 0:a.triggerName;for(const Te of a.timelines){const $e=Te.element,At=$e!==x,Ht=s(p,$e,[]);this._getPreviousPlayers($e,At,W,se,a.toState).forEach(In=>{const cn=In.getRealPlayer();cn.beforeDestroy&&cn.beforeDestroy(),In.destroy(),Ht.push(In)})}mu(x,a.fromStyles)}_buildAnimation(o,a,p,E,x,W){const se=a.triggerName,Te=a.element,$e=[],At=new Set,Ht=new Set,pn=a.timelines.map(cn=>{const ln=cn.element;At.add(ln);const kn=ln[ga];if(kn&&kn.removedBeforeQueried)return new Cf(cn.duration,cn.delay);const Hr=ln!==Te,Xr=function Fc(f){const o=[];return _d(f,o),o}((p.get(ln)||km).map(Ls=>Ls.getRealPlayer())).filter(Ls=>!!Ls.element&&Ls.element===ln),ei=x.get(ln),$r=W.get(ln),io=vh(this._normalizer,cn.keyframes,ei,$r),Ks=this._buildPlayer(cn,io,Xr);if(cn.subTimeline&&E&&Ht.add(ln),Hr){const Ls=new Fs(o,se,ln);Ls.setRealPlayer(Ks),$e.push(Ls)}return Ks});$e.forEach(cn=>{s(this.playersByQueriedElement,cn.element,[]).push(cn),cn.onDone(()=>function Tu(f,o,a){let p=f.get(o);if(p){if(p.length){const E=p.indexOf(a);p.splice(E,1)}0==p.length&&f.delete(o)}return p}(this.playersByQueriedElement,cn.element,cn))}),At.forEach(cn=>Ar(cn,Be));const In=ha(pn);return In.onDestroy(()=>{At.forEach(cn=>qo(cn,Be)),fa(Te,a.toStyles)}),Ht.forEach(cn=>{s(E,cn,[]).push(In)}),In}_buildPlayer(o,a,p){return a.length>0?this.driver.animate(o.element,a,o.duration,o.delay,o.easing,p):new Cf(o.duration,o.delay)}}class Fs{constructor(o,a,p){this.namespaceId=o,this.triggerName=a,this.element=p,this._player=new Cf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(o){this._containsRealPlayer||(this._player=o,this._queuedCallbacks.forEach((a,p)=>{a.forEach(E=>l(o,p,void 0,E))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(o.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(o){this.totalTime=o}syncPlayerEvents(o){const a=this._player;a.triggerCallback&&o.onStart(()=>a.triggerCallback("start")),o.onDone(()=>this.finish()),o.onDestroy(()=>this.destroy())}_queueEvent(o,a){s(this._queuedCallbacks,o,[]).push(a)}onDone(o){this.queued&&this._queueEvent("done",o),this._player.onDone(o)}onStart(o){this.queued&&this._queueEvent("start",o),this._player.onStart(o)}onDestroy(o){this.queued&&this._queueEvent("destroy",o),this._player.onDestroy(o)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(o){this.queued||this._player.setPosition(o)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(o){const a=this._player;a.triggerCallback&&a.triggerCallback(o)}}function ps(f){return f&&1===f.nodeType}function Oc(f,o){const a=f.style.display;return f.style.display=o??"none",a}function Nc(f,o,a,p,E){const x=[];a.forEach(Te=>x.push(Oc(Te)));const W=[];p.forEach((Te,$e)=>{const At=new Map;Te.forEach(Ht=>{const pn=o.computeStyle($e,Ht,E);At.set(Ht,pn),(!pn||0==pn.length)&&($e[ga]=Ff,W.push($e))}),f.set($e,At)});let se=0;return a.forEach(Te=>Oc(Te,x[se++])),W}function Cu(f,o){const a=new Map;if(f.forEach(se=>a.set(se,[])),0==o.length)return a;const E=new Set(o),x=new Map;function W(se){if(!se)return 1;let Te=x.get(se);if(Te)return Te;const $e=se.parentNode;return Te=a.has($e)?$e:E.has($e)?1:W($e),x.set(se,Te),Te}return o.forEach(se=>{const Te=W(se);1!==Te&&a.get(Te).push(se)}),a}function Ar(f,o){f.classList?.add(o)}function qo(f,o){f.classList?.remove(o)}function kc(f,o,a){ha(a).onDone(()=>f.processLeaveNode(o))}function _d(f,o){for(let a=0;a<f.length;a++){const p=f[a];p instanceof cv?_d(p.players,o):o.push(p)}}function Fm(f,o,a){const p=a.get(f);if(!p)return!1;let E=o.get(f);return E?p.forEach(x=>E.add(x)):o.set(f,p),a.delete(f),!0}class Uf{constructor(o,a,p){this.bodyNode=o,this._driver=a,this._normalizer=p,this._triggerCache={},this.onRemovalComplete=(E,x)=>{},this._transitionEngine=new Vf(o,a,p),this._timelineEngine=new ag(o,a,p),this._transitionEngine.onRemovalComplete=(E,x)=>this.onRemovalComplete(E,x)}registerTrigger(o,a,p,E,x){const W=o+"-"+E;let se=this._triggerCache[W];if(!se){const Te=[],At=ng(this._driver,x,Te,[]);if(Te.length)throw function ey(f,o){return new u.vHH(3404,!1)}();se=function Rm(f,o,a){return new xm(f,o,a)}(E,At,this._normalizer),this._triggerCache[W]=se}this._transitionEngine.registerTrigger(a,E,se)}register(o,a){this._transitionEngine.register(o,a)}destroy(o,a){this._transitionEngine.destroy(o,a)}onInsert(o,a,p,E){this._transitionEngine.insertNode(o,a,p,E)}onRemove(o,a,p){this._transitionEngine.removeNode(o,a,p)}disableAnimations(o,a){this._transitionEngine.markElementAsDisabled(o,a)}process(o,a,p,E){if("@"==p.charAt(0)){const[x,W]=d(p);this._timelineEngine.command(x,a,W,E)}else this._transitionEngine.trigger(o,a,p,E)}listen(o,a,p,E,x){if("@"==p.charAt(0)){const[W,se]=d(p);return this._timelineEngine.listen(W,a,se,x)}return this._transitionEngine.listen(o,a,p,E,x)}flush(o=-1){this._transitionEngine.flush(o)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(o){this._transitionEngine.afterFlushAnimationsDone(o)}}let fy=(()=>{class f{static#e=this.initialStylesByElement=new WeakMap;constructor(a,p,E){this._element=a,this._startStyles=p,this._endStyles=E,this._state=0;let x=f.initialStylesByElement.get(a);x||f.initialStylesByElement.set(a,x=new Map),this._initialStyles=x}start(){this._state<1&&(this._startStyles&&fa(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(fa(this._element,this._initialStyles),this._endStyles&&(fa(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(f.initialStylesByElement.delete(this._element),this._startStyles&&(mu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(mu(this._element,this._endStyles),this._endStyles=null),fa(this._element,this._initialStyles),this._state=3)}}return f})();function wu(f){let o=null;return f.forEach((a,p)=>{(function El(f){return"display"===f||"position"===f})(p)&&(o=o||new Map,o.set(p,a))}),o}class dg{constructor(o,a,p,E){this.element=o,this.keyframes=a,this.options=p,this._specialStyles=E,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=p.duration,this._delay=p.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(o=>o()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const o=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,o,this.options),this._finalKeyframe=o.length?o[o.length-1]:new Map;const a=()=>this._onFinish();this.domPlayer.addEventListener("finish",a),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",a)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(o){const a=[];return o.forEach(p=>{a.push(Object.fromEntries(p))}),a}_triggerWebAnimation(o,a,p){return o.animate(this._convertKeyframesToObject(a),p)}onStart(o){this._originalOnStartFns.push(o),this._onStartFns.push(o)}onDone(o){this._originalOnDoneFns.push(o),this._onDoneFns.push(o)}onDestroy(o){this._onDestroyFns.push(o)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(o=>o()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(o=>o()),this._onDestroyFns=[])}setPosition(o){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=o*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const o=new Map;this.hasStarted()&&this._finalKeyframe.forEach((p,E)=>{"offset"!==E&&o.set(E,this._finished?p:pa(this.element,E))}),this.currentSnapshot=o}triggerCallback(o){const a="start"===o?this._onStartFns:this._onDoneFns;a.forEach(p=>p()),a.length=0}}class Lm{validateStyleProperty(o){return!0}validateAnimatableStyleProperty(o){return!0}matchesElement(o,a){return!1}containsElement(o,a){return ot(o,a)}getParentElement(o){return b(o)}query(o,a,p){return xt(o,a,p)}computeStyle(o,a,p){return window.getComputedStyle(o)[a]}animate(o,a,p,E,x,W=[]){const Te={duration:p,delay:E,fill:0==E?"both":"forwards"};x&&(Te.easing=x);const $e=new Map,At=W.filter(In=>In instanceof dg);(function Jp(f,o){return 0===f||0===o})(p,E)&&At.forEach(In=>{In.currentSnapshot.forEach((cn,ln)=>$e.set(ln,cn))});let Ht=function Df(f){return f.length?f[0]instanceof Map?f:f.map(o=>Go(o)):[]}(a).map(In=>_l(In));Ht=function Tm(f,o,a){if(a.size&&o.length){let p=o[0],E=[];if(a.forEach((x,W)=>{p.has(W)||E.push(W),p.set(W,x)}),E.length)for(let x=1;x<o.length;x++){let W=o[x];E.forEach(se=>W.set(se,pa(f,se)))}}return o}(o,Ht,$e);const pn=function hy(f,o){let a=null,p=null;return Array.isArray(o)&&o.length?(a=wu(o[0]),o.length>1&&(p=wu(o[o.length-1]))):o instanceof Map&&(a=wu(o)),a||p?new fy(f,a,p):null}(o,Ht);return new dg(o,Ht,Te,pn)}}let Vm=(()=>{class f extends fu{constructor(a,p){super(),this._nextAnimationId=0,this._renderer=a.createRenderer(p.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(a){const p=this._nextAnimationId.toString();this._nextAnimationId++;const E=Array.isArray(a)?pu(a):a;return Av(this._renderer,null,p,"register",[E]),new Au(p,this._renderer)}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(u.FYo),u.LFG(K.K0))};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac})}return f})();class Au extends Kp{constructor(o,a){super(),this._id=o,this._renderer=a}create(o,a){return new wv(this._id,o,a||{},this._renderer)}}class wv{constructor(o,a,p,E){this.id=o,this.element=a,this._renderer=E,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",p)}_listen(o,a){return this._renderer.listen(this.element,`@@${this.id}:${o}`,a)}_command(o,...a){return Av(this._renderer,this.element,this.id,o,a)}onDone(o){this._listen("done",o)}onStart(o){this._listen("start",o)}onDestroy(o){this._listen("destroy",o)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(o){this._command("setPosition",o)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Av(f,o,a,p,E){return f.setProperty(o,`@@${a}:${p}`,E)}const Il="@.disabled";let Dv=(()=>{class f{constructor(a,p,E){this.delegate=a,this.engine=p,this._zone=E,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,p.onRemovalComplete=(x,W)=>{const se=W?.parentNode(x);se&&W.removeChild(se,x)}}createRenderer(a,p){const x=this.delegate.createRenderer(a,p);if(!(a&&p&&p.data&&p.data.animation)){let At=this._rendererCache.get(x);return At||(At=new Sv("",x,this.engine,()=>this._rendererCache.delete(x)),this._rendererCache.set(x,At)),At}const W=p.id,se=p.id+"-"+this._currentId;this._currentId++,this.engine.register(se,a);const Te=At=>{Array.isArray(At)?At.forEach(Te):this.engine.registerTrigger(W,se,a,At.name,At)};return p.data.animation.forEach(Te),new Bf(this,se,x,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(a,p,E){a>=0&&a<this._microtaskId?this._zone.run(()=>p(E)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(x=>{const[W,se]=x;W(se)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([p,E]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(u.FYo),u.LFG(Uf),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac})}return f})();class Sv{constructor(o,a,p,E){this.namespaceId=o,this.delegate=a,this.engine=p,this._onDestroy=E}get data(){return this.delegate.data}destroyNode(o){this.delegate.destroyNode?.(o)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(o,a){return this.delegate.createElement(o,a)}createComment(o){return this.delegate.createComment(o)}createText(o){return this.delegate.createText(o)}appendChild(o,a){this.delegate.appendChild(o,a),this.engine.onInsert(this.namespaceId,a,o,!1)}insertBefore(o,a,p,E=!0){this.delegate.insertBefore(o,a,p),this.engine.onInsert(this.namespaceId,a,o,E)}removeChild(o,a,p){this.engine.onRemove(this.namespaceId,a,this.delegate)}selectRootElement(o,a){return this.delegate.selectRootElement(o,a)}parentNode(o){return this.delegate.parentNode(o)}nextSibling(o){return this.delegate.nextSibling(o)}setAttribute(o,a,p,E){this.delegate.setAttribute(o,a,p,E)}removeAttribute(o,a,p){this.delegate.removeAttribute(o,a,p)}addClass(o,a){this.delegate.addClass(o,a)}removeClass(o,a){this.delegate.removeClass(o,a)}setStyle(o,a,p,E){this.delegate.setStyle(o,a,p,E)}removeStyle(o,a,p){this.delegate.removeStyle(o,a,p)}setProperty(o,a,p){"@"==a.charAt(0)&&a==Il?this.disableAnimations(o,!!p):this.delegate.setProperty(o,a,p)}setValue(o,a){this.delegate.setValue(o,a)}listen(o,a,p){return this.delegate.listen(o,a,p)}disableAnimations(o,a){this.engine.disableAnimations(o,a)}}class Bf extends Sv{constructor(o,a,p,E,x){super(a,p,E,x),this.factory=o,this.namespaceId=a}setProperty(o,a,p){"@"==a.charAt(0)?"."==a.charAt(1)&&a==Il?this.disableAnimations(o,p=void 0===p||!!p):this.engine.process(this.namespaceId,o,a.slice(1),p):this.delegate.setProperty(o,a,p)}listen(o,a,p){if("@"==a.charAt(0)){const E=function Bm(f){switch(f){case"body":return document.body;case"document":return document;case"window":return window;default:return f}}(o);let x=a.slice(1),W="";return"@"!=x.charAt(0)&&([x,W]=function py(f){const o=f.indexOf(".");return[f.substring(0,o),f.slice(o+1)]}(x)),this.engine.listen(this.namespaceId,E,x,W,se=>{this.factory.scheduleListenerCallback(se._data||-1,p,se)})}return this.delegate.listen(o,a,p)}}const Du=[{provide:fu,useClass:Vm},{provide:Pm,useFactory:function Hf(){return new Tv}},{provide:Uf,useClass:(()=>{class f extends Uf{constructor(a,p,E,x){super(a.body,p,E)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(K.K0),u.LFG(Tn),u.LFG(Pm),u.LFG(u.z2F))};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac})}return f})()},{provide:u.FYo,useFactory:function hg(f,o,a){return new Dv(f,o,a)},deps:[g.se,Uf,u.R0b]}],Di=[{provide:Tn,useFactory:()=>new Lm},{provide:u.QbO,useValue:"BrowserAnimations"},...Du],$f=[{provide:Tn,useClass:Vt},{provide:u.QbO,useValue:"NoopAnimations"},...Du];let gy=(()=>{class f{static withConfig(a){return{ngModule:f,providers:a.disableAnimations?$f:Di}}static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=u.oAB({type:f});static#n=this.\u0275inj=u.cJS({providers:Di,imports:[g.b2]})}return f})();const bl_firebase={apiKey:"AIzaSyBfMHRYkwC16Pt-IuqcVJOYjkrRgOlEVH8",authDomain:"romaniinseattle.firebaseapp.com",projectId:"romaniinseattle",storageBucket:"romaniinseattle.appspot.com",messagingSenderId:"548714995927",appId:"1:548714995927:web:70a2631d9f5d8d2f8fd092"};var Tl=H(3182);class Wo{constructor(o){return o}}class fg{constructor(){return(0,Tl.C6)()}}const Ed=new u.OlP("angularfire2._apps"),wh={provide:Wo,useFactory:function vd(f){return f&&1===f.length?f[0]:new Wo((0,Tl.Mq)())},deps:[[new u.FiY,Ed]]},jm={provide:fg,deps:[[new u.FiY,Ed]]};function _y(f){return(o,a)=>{const p=o.runOutsideAngular(()=>f(a));return new Wo(p)}}let pg=(()=>{class f{constructor(a){(0,Tl.KN)("angularfire",di.q4.full,"core"),(0,Tl.KN)("angularfire",di.q4.full,"app"),(0,Tl.KN)("angular",u.q4F.full,a.toString())}static \u0275fac=function(p){return new(p||f)(u.LFG(u.Lbi))};static \u0275mod=u.oAB({type:f});static \u0275inj=u.cJS({providers:[wh,jm]})}return f})();function Hm(f,...o){return{ngModule:pg,providers:[{provide:Ed,useFactory:_y(f),multi:!0,deps:[u.R0b,u.zs3,di.HU,...o]}]}}const yy=(0,di.u3)(Tl.ZF,!0);H(35),H(7879);class Ah{constructor(){return(0,di.vb)("auth")}}var yE=H(5588);class kv{constructor(o){return o}}const Fv="firestore",Ym=new u.OlP("angularfire2.firestore-instances");function s0(f){return(o,a)=>{const p=o.runOutsideAngular(()=>f(a));return new kv(p)}}const o0={provide:class BI{constructor(){return(0,di.vb)(Fv)}},deps:[[new u.FiY,Ym]]},Mu={provide:kv,useFactory:function Su(f,o){const a=(0,di.JM)(Fv,f,o);return a&&new kv(a)},deps:[[new u.FiY,Ym],Wo]};let Cl=(()=>{class f{constructor(){(0,Tl.KN)("angularfire",di.q4.full,"fst")}static \u0275fac=function(p){return new(p||f)};static \u0275mod=u.oAB({type:f});static \u0275inj=u.cJS({providers:[Mu,o0]})}return f})();function wl(f,...o){return{ngModule:Cl,providers:[{provide:Ym,useFactory:s0(f),multi:!0,deps:[u.R0b,u.zs3,di.HU,fg,[new u.FiY,Ah],[new u.FiY,di.Rf],...o]}]}}const b0=(0,di.u3)(yE.ad,!0);var Eb=H(981);class Ty{constructor(o){return o}}const jv="storage",Cy=new u.OlP("angularfire2.storage-instances");function CE(f){return(o,a)=>{const p=o.runOutsideAngular(()=>f(a));return new Ty(p)}}const V0={provide:class F0{constructor(){return(0,di.vb)(jv)}},deps:[[new u.FiY,Cy]]},U0={provide:Ty,useFactory:function TE(f,o){const a=(0,di.JM)(jv,f,o);return a&&new Ty(a)},deps:[[new u.FiY,Cy],Wo]};let B0=(()=>{class f{constructor(){(0,Tl.KN)("angularfire",di.q4.full,"gcs")}static \u0275fac=function(p){return new(p||f)};static \u0275mod=u.oAB({type:f});static \u0275inj=u.cJS({providers:[U0,V0]})}return f})();function e_(f,...o){return{ngModule:B0,providers:[{provide:Cy,useFactory:CE(f),multi:!0,deps:[u.R0b,u.zs3,di.HU,fg,[new u.FiY,Ah],[new u.FiY,di.Rf],...o]}]}}const t_=(0,di.u3)(Gy,!0);let wE=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=u.oAB({type:f,bootstrap:[cd]});static#n=this.\u0275inj=u.cJS({imports:[g.b2,_h,gy,qr,cp,ut,hu.yb,yf,Eb.ww,Ni.hO.initializeApp(bl_firebase),Hm(()=>yy(bl_firebase)),wl(()=>b0()),e_(()=>t_()),un.UX,un.u5,Kt.Bz,Kt.Bz]})}return f})();g.q6().bootstrapModule(wE).catch(f=>console.error(f))},5619:(Qt,Ze,H)=>{H.d(Ze,{X:()=>u});var g=H(8645);class u extends g.x{constructor(Ie){super(),this._value=Ie}get value(){return this.getValue()}_subscribe(Ie){const Ee=super._subscribe(Ie);return!Ee.closed&&Ie.next(this._value),Ee}getValue(){const{hasError:Ie,thrownError:Ee,_value:Pe}=this;if(Ie)throw Ee;return this._throwIfClosed(),Pe}next(Ie){super.next(this._value=Ie)}}},5592:(Qt,Ze,H)=>{H.d(Ze,{y:()=>Ae});var g=H(305),u=H(7394),K=H(4850),Ie=H(8407),Ee=H(2653),Pe=H(4674),me=H(1441);let Ae=(()=>{class Oe{constructor(Xe){Xe&&(this._subscribe=Xe)}lift(Xe){const Dt=new Oe;return Dt.source=this,Dt.operator=Xe,Dt}subscribe(Xe,Dt,mt){const It=function ve(Oe){return Oe&&Oe instanceof g.Lv||function fe(Oe){return Oe&&(0,Pe.m)(Oe.next)&&(0,Pe.m)(Oe.error)&&(0,Pe.m)(Oe.complete)}(Oe)&&(0,u.Nn)(Oe)}(Xe)?Xe:new g.Hp(Xe,Dt,mt);return(0,me.x)(()=>{const{operator:_t,source:en}=this;It.add(_t?_t.call(It,en):en?this._subscribe(It):this._trySubscribe(It))}),It}_trySubscribe(Xe){try{return this._subscribe(Xe)}catch(Dt){Xe.error(Dt)}}forEach(Xe,Dt){return new(Dt=xe(Dt))((mt,It)=>{const _t=new g.Hp({next:en=>{try{Xe(en)}catch(Ke){It(Ke),_t.unsubscribe()}},error:It,complete:mt});this.subscribe(_t)})}_subscribe(Xe){var Dt;return null===(Dt=this.source)||void 0===Dt?void 0:Dt.subscribe(Xe)}[K.L](){return this}pipe(...Xe){return(0,Ie.U)(Xe)(this)}toPromise(Xe){return new(Xe=xe(Xe))((Dt,mt)=>{let It;this.subscribe(_t=>It=_t,_t=>mt(_t),()=>Dt(It))})}}return Oe.create=pt=>new Oe(pt),Oe})();function xe(Oe){var pt;return null!==(pt=Oe??Ee.config.Promise)&&void 0!==pt?pt:Promise}},8645:(Qt,Ze,H)=>{H.d(Ze,{x:()=>me});var g=H(5592),u=H(7394);const Ie=(0,H(2306).d)(xe=>function(){xe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ee=H(9039),Pe=H(1441);let me=(()=>{class xe extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ve){const Oe=new Ae(this,this);return Oe.operator=ve,Oe}_throwIfClosed(){if(this.closed)throw new Ie}next(ve){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Oe of this.currentObservers)Oe.next(ve)}})}error(ve){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ve;const{observers:Oe}=this;for(;Oe.length;)Oe.shift().error(ve)}})}complete(){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ve}=this;for(;ve.length;)ve.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ve;return(null===(ve=this.observers)||void 0===ve?void 0:ve.length)>0}_trySubscribe(ve){return this._throwIfClosed(),super._trySubscribe(ve)}_subscribe(ve){return this._throwIfClosed(),this._checkFinalizedStatuses(ve),this._innerSubscribe(ve)}_innerSubscribe(ve){const{hasError:Oe,isStopped:pt,observers:Xe}=this;return Oe||pt?u.Lc:(this.currentObservers=null,Xe.push(ve),new u.w0(()=>{this.currentObservers=null,(0,Ee.P)(Xe,ve)}))}_checkFinalizedStatuses(ve){const{hasError:Oe,thrownError:pt,isStopped:Xe}=this;Oe?ve.error(pt):Xe&&ve.complete()}asObservable(){const ve=new g.y;return ve.source=this,ve}}return xe.create=(fe,ve)=>new Ae(fe,ve),xe})();class Ae extends me{constructor(fe,ve){super(),this.destination=fe,this.source=ve}next(fe){var ve,Oe;null===(Oe=null===(ve=this.destination)||void 0===ve?void 0:ve.next)||void 0===Oe||Oe.call(ve,fe)}error(fe){var ve,Oe;null===(Oe=null===(ve=this.destination)||void 0===ve?void 0:ve.error)||void 0===Oe||Oe.call(ve,fe)}complete(){var fe,ve;null===(ve=null===(fe=this.destination)||void 0===fe?void 0:fe.complete)||void 0===ve||ve.call(fe)}_subscribe(fe){var ve,Oe;return null!==(Oe=null===(ve=this.source)||void 0===ve?void 0:ve.subscribe(fe))&&void 0!==Oe?Oe:u.Lc}}},305:(Qt,Ze,H)=>{H.d(Ze,{Hp:()=>mt,Lv:()=>Oe});var g=H(4674),u=H(7394),K=H(2653),Ie=H(3894),Ee=H(2420);const Pe=xe("C",void 0,void 0);function xe(ze,rt,He){return{kind:ze,value:rt,error:He}}var fe=H(7599),ve=H(1441);class Oe extends u.w0{constructor(rt){super(),this.isStopped=!1,rt?(this.destination=rt,(0,u.Nn)(rt)&&rt.add(this)):this.destination=Ke}static create(rt,He,it){return new mt(rt,He,it)}next(rt){this.isStopped?en(function Ae(ze){return xe("N",ze,void 0)}(rt),this):this._next(rt)}error(rt){this.isStopped?en(function me(ze){return xe("E",void 0,ze)}(rt),this):(this.isStopped=!0,this._error(rt))}complete(){this.isStopped?en(Pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(rt){this.destination.next(rt)}_error(rt){try{this.destination.error(rt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const pt=Function.prototype.bind;function Xe(ze,rt){return pt.call(ze,rt)}class Dt{constructor(rt){this.partialObserver=rt}next(rt){const{partialObserver:He}=this;if(He.next)try{He.next(rt)}catch(it){It(it)}}error(rt){const{partialObserver:He}=this;if(He.error)try{He.error(rt)}catch(it){It(it)}else It(rt)}complete(){const{partialObserver:rt}=this;if(rt.complete)try{rt.complete()}catch(He){It(He)}}}class mt extends Oe{constructor(rt,He,it){let Ct;if(super(),(0,g.m)(rt)||!rt)Ct={next:rt??void 0,error:He??void 0,complete:it??void 0};else{let Ye;this&&K.config.useDeprecatedNextContext?(Ye=Object.create(rt),Ye.unsubscribe=()=>this.unsubscribe(),Ct={next:rt.next&&Xe(rt.next,Ye),error:rt.error&&Xe(rt.error,Ye),complete:rt.complete&&Xe(rt.complete,Ye)}):Ct=rt}this.destination=new Dt(Ct)}}function It(ze){K.config.useDeprecatedSynchronousErrorHandling?(0,ve.O)(ze):(0,Ie.h)(ze)}function en(ze,rt){const{onStoppedNotification:He}=K.config;He&&fe.z.setTimeout(()=>He(ze,rt))}const Ke={closed:!0,next:Ee.Z,error:function _t(ze){throw ze},complete:Ee.Z}},7394:(Qt,Ze,H)=>{H.d(Ze,{Lc:()=>Pe,w0:()=>Ee,Nn:()=>me});var g=H(4674);const K=(0,H(2306).d)(xe=>function(ve){xe(this),this.message=ve?`${ve.length} errors occurred during unsubscription:\n${ve.map((Oe,pt)=>`${pt+1}) ${Oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ve});var Ie=H(9039);class Ee{constructor(fe){this.initialTeardown=fe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let fe;if(!this.closed){this.closed=!0;const{_parentage:ve}=this;if(ve)if(this._parentage=null,Array.isArray(ve))for(const Xe of ve)Xe.remove(this);else ve.remove(this);const{initialTeardown:Oe}=this;if((0,g.m)(Oe))try{Oe()}catch(Xe){fe=Xe instanceof K?Xe.errors:[Xe]}const{_finalizers:pt}=this;if(pt){this._finalizers=null;for(const Xe of pt)try{Ae(Xe)}catch(Dt){fe=fe??[],Dt instanceof K?fe=[...fe,...Dt.errors]:fe.push(Dt)}}if(fe)throw new K(fe)}}add(fe){var ve;if(fe&&fe!==this)if(this.closed)Ae(fe);else{if(fe instanceof Ee){if(fe.closed||fe._hasParent(this))return;fe._addParent(this)}(this._finalizers=null!==(ve=this._finalizers)&&void 0!==ve?ve:[]).push(fe)}}_hasParent(fe){const{_parentage:ve}=this;return ve===fe||Array.isArray(ve)&&ve.includes(fe)}_addParent(fe){const{_parentage:ve}=this;this._parentage=Array.isArray(ve)?(ve.push(fe),ve):ve?[ve,fe]:fe}_removeParent(fe){const{_parentage:ve}=this;ve===fe?this._parentage=null:Array.isArray(ve)&&(0,Ie.P)(ve,fe)}remove(fe){const{_finalizers:ve}=this;ve&&(0,Ie.P)(ve,fe),fe instanceof Ee&&fe._removeParent(this)}}Ee.EMPTY=(()=>{const xe=new Ee;return xe.closed=!0,xe})();const Pe=Ee.EMPTY;function me(xe){return xe instanceof Ee||xe&&"closed"in xe&&(0,g.m)(xe.remove)&&(0,g.m)(xe.add)&&(0,g.m)(xe.unsubscribe)}function Ae(xe){(0,g.m)(xe)?xe():xe.unsubscribe()}},2653:(Qt,Ze,H)=>{H.d(Ze,{config:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(Qt,Ze,H)=>{H.d(Ze,{a:()=>fe});var g=H(5592),u=H(7453),K=H(2459),Ie=H(2737),Ee=H(7400),Pe=H(4564),me=H(2714),Ae=H(8251),xe=H(7103);function fe(...pt){const Xe=(0,Pe.yG)(pt),Dt=(0,Pe.jO)(pt),{args:mt,keys:It}=(0,u.D)(pt);if(0===mt.length)return(0,K.D)([],Xe);const _t=new g.y(function ve(pt,Xe,Dt=Ie.y){return mt=>{Oe(Xe,()=>{const{length:It}=pt,_t=new Array(It);let en=It,Ke=It;for(let ze=0;ze<It;ze++)Oe(Xe,()=>{const rt=(0,K.D)(pt[ze],Xe);let He=!1;rt.subscribe((0,Ae.x)(mt,it=>{_t[ze]=it,He||(He=!0,Ke--),Ke||mt.next(Dt(_t.slice()))},()=>{--en||mt.complete()}))},mt)},mt)}}(mt,Xe,It?en=>(0,me.n)(It,en):Ie.y));return Dt?_t.pipe((0,Ee.Z)(Dt)):_t}function Oe(pt,Xe,Dt){pt?(0,xe.f)(Dt,pt,Xe):Xe()}},5211:(Qt,Ze,H)=>{H.d(Ze,{z:()=>Ee});var g=H(7537),K=H(4564),Ie=H(2459);function Ee(...Pe){return function u(){return(0,g.J)(1)}()((0,Ie.D)(Pe,(0,K.yG)(Pe)))}},6232:(Qt,Ze,H)=>{H.d(Ze,{E:()=>u});const u=new(H(5592).y)(Ee=>Ee.complete())},9315:(Qt,Ze,H)=>{H.d(Ze,{D:()=>Ae});var g=H(5592),u=H(7453),K=H(4829),Ie=H(4564),Ee=H(8251),Pe=H(7400),me=H(2714);function Ae(...xe){const fe=(0,Ie.jO)(xe),{args:ve,keys:Oe}=(0,u.D)(xe),pt=new g.y(Xe=>{const{length:Dt}=ve;if(!Dt)return void Xe.complete();const mt=new Array(Dt);let It=Dt,_t=Dt;for(let en=0;en<Dt;en++){let Ke=!1;(0,K.Xf)(ve[en]).subscribe((0,Ee.x)(Xe,ze=>{Ke||(Ke=!0,_t--),mt[en]=ze},()=>It--,void 0,()=>{(!It||!Ke)&&(_t||Xe.next(Oe?(0,me.n)(Oe,mt):mt),Xe.complete())}))}});return fe?pt.pipe((0,Pe.Z)(fe)):pt}},2459:(Qt,Ze,H)=>{H.d(Ze,{D:()=>rt});var g=H(4829),u=H(3093),K=H(5137),Pe=H(5592),Ae=H(4971),xe=H(4674),fe=H(7103);function Oe(He,it){if(!He)throw new Error("Iterable cannot be null");return new Pe.y(Ct=>{(0,fe.f)(Ct,it,()=>{const Ye=He[Symbol.asyncIterator]();(0,fe.f)(Ct,it,()=>{Ye.next().then(ge=>{ge.done?Ct.complete():Ct.next(ge.value)})},0,!0)})})}var pt=H(8382),Xe=H(4026),Dt=H(4266),mt=H(3664),It=H(5726),_t=H(9853),en=H(541);function rt(He,it){return it?function ze(He,it){if(null!=He){if((0,pt.c)(He))return function Ie(He,it){return(0,g.Xf)(He).pipe((0,K.R)(it),(0,u.Q)(it))}(He,it);if((0,Dt.z)(He))return function me(He,it){return new Pe.y(Ct=>{let Ye=0;return it.schedule(function(){Ye===He.length?Ct.complete():(Ct.next(He[Ye++]),Ct.closed||this.schedule())})})}(He,it);if((0,Xe.t)(He))return function Ee(He,it){return(0,g.Xf)(He).pipe((0,K.R)(it),(0,u.Q)(it))}(He,it);if((0,It.D)(He))return Oe(He,it);if((0,mt.T)(He))return function ve(He,it){return new Pe.y(Ct=>{let Ye;return(0,fe.f)(Ct,it,()=>{Ye=He[Ae.h](),(0,fe.f)(Ct,it,()=>{let ge,Et;try{({value:ge,done:Et}=Ye.next())}catch($t){return void Ct.error($t)}Et?Ct.complete():Ct.next(ge)},0,!0)}),()=>(0,xe.m)(Ye?.return)&&Ye.return()})}(He,it);if((0,en.L)(He))return function Ke(He,it){return Oe((0,en.Q)(He),it)}(He,it)}throw(0,_t.z)(He)}(He,it):(0,g.Xf)(He)}},4829:(Qt,Ze,H)=>{H.d(Ze,{Xf:()=>pt});var g=H(7582),u=H(4266),K=H(4026),Ie=H(5592),Ee=H(8382),Pe=H(5726),me=H(9853),Ae=H(3664),xe=H(541),fe=H(4674),ve=H(3894),Oe=H(4850);function pt(ze){if(ze instanceof Ie.y)return ze;if(null!=ze){if((0,Ee.c)(ze))return function Xe(ze){return new Ie.y(rt=>{const He=ze[Oe.L]();if((0,fe.m)(He.subscribe))return He.subscribe(rt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ze);if((0,u.z)(ze))return function Dt(ze){return new Ie.y(rt=>{for(let He=0;He<ze.length&&!rt.closed;He++)rt.next(ze[He]);rt.complete()})}(ze);if((0,K.t)(ze))return function mt(ze){return new Ie.y(rt=>{ze.then(He=>{rt.closed||(rt.next(He),rt.complete())},He=>rt.error(He)).then(null,ve.h)})}(ze);if((0,Pe.D)(ze))return _t(ze);if((0,Ae.T)(ze))return function It(ze){return new Ie.y(rt=>{for(const He of ze)if(rt.next(He),rt.closed)return;rt.complete()})}(ze);if((0,xe.L)(ze))return function en(ze){return _t((0,xe.Q)(ze))}(ze)}throw(0,me.z)(ze)}function _t(ze){return new Ie.y(rt=>{(function Ke(ze,rt){var He,it,Ct,Ye;return(0,g.mG)(this,void 0,void 0,function*(){try{for(He=(0,g.KL)(ze);!(it=yield He.next()).done;)if(rt.next(it.value),rt.closed)return}catch(ge){Ct={error:ge}}finally{try{it&&!it.done&&(Ye=He.return)&&(yield Ye.call(He))}finally{if(Ct)throw Ct.error}}rt.complete()})})(ze,rt).catch(He=>rt.error(He))})}},3019:(Qt,Ze,H)=>{H.d(Ze,{T:()=>Pe});var g=H(7537),u=H(4829),K=H(6232),Ie=H(4564),Ee=H(2459);function Pe(...me){const Ae=(0,Ie.yG)(me),xe=(0,Ie._6)(me,1/0),fe=me;return fe.length?1===fe.length?(0,u.Xf)(fe[0]):(0,g.J)(xe)((0,Ee.D)(fe,Ae)):K.E}},2096:(Qt,Ze,H)=>{H.d(Ze,{of:()=>K});var g=H(4564),u=H(2459);function K(...Ie){const Ee=(0,g.yG)(Ie);return(0,u.D)(Ie,Ee)}},8504:(Qt,Ze,H)=>{H.d(Ze,{_:()=>K});var g=H(5592),u=H(4674);function K(Ie,Ee){const Pe=(0,u.m)(Ie)?Ie:()=>Ie,me=Ae=>Ae.error(Pe());return new g.y(Ee?Ae=>Ee.schedule(me,0,Ae):me)}},8251:(Qt,Ze,H)=>{H.d(Ze,{x:()=>u});var g=H(305);function u(Ie,Ee,Pe,me,Ae){return new K(Ie,Ee,Pe,me,Ae)}class K extends g.Lv{constructor(Ee,Pe,me,Ae,xe,fe){super(Ee),this.onFinalize=xe,this.shouldUnsubscribe=fe,this._next=Pe?function(ve){try{Pe(ve)}catch(Oe){Ee.error(Oe)}}:super._next,this._error=Ae?function(ve){try{Ae(ve)}catch(Oe){Ee.error(Oe)}finally{this.unsubscribe()}}:super._error,this._complete=me?function(){try{me()}catch(ve){Ee.error(ve)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Pe}=this;super.unsubscribe(),!Pe&&(null===(Ee=this.onFinalize)||void 0===Ee||Ee.call(this))}}}},6306:(Qt,Ze,H)=>{H.d(Ze,{K:()=>Ie});var g=H(4829),u=H(8251),K=H(9360);function Ie(Ee){return(0,K.e)((Pe,me)=>{let fe,Ae=null,xe=!1;Ae=Pe.subscribe((0,u.x)(me,void 0,void 0,ve=>{fe=(0,g.Xf)(Ee(ve,Ie(Ee)(Pe))),Ae?(Ae.unsubscribe(),Ae=null,fe.subscribe(me)):xe=!0})),xe&&(Ae.unsubscribe(),Ae=null,fe.subscribe(me))})}},6328:(Qt,Ze,H)=>{H.d(Ze,{b:()=>K});var g=H(1631),u=H(4674);function K(Ie,Ee){return(0,u.m)(Ee)?(0,g.z)(Ie,Ee,1):(0,g.z)(Ie,1)}},3572:(Qt,Ze,H)=>{H.d(Ze,{d:()=>K});var g=H(9360),u=H(8251);function K(Ie){return(0,g.e)((Ee,Pe)=>{let me=!1;Ee.subscribe((0,u.x)(Pe,Ae=>{me=!0,Pe.next(Ae)},()=>{me||Pe.next(Ie),Pe.complete()}))})}},3997:(Qt,Ze,H)=>{H.d(Ze,{x:()=>Ie});var g=H(2737),u=H(9360),K=H(8251);function Ie(Pe,me=g.y){return Pe=Pe??Ee,(0,u.e)((Ae,xe)=>{let fe,ve=!0;Ae.subscribe((0,K.x)(xe,Oe=>{const pt=me(Oe);(ve||!Pe(fe,pt))&&(ve=!1,fe=pt,xe.next(Oe))}))})}function Ee(Pe,me){return Pe===me}},2181:(Qt,Ze,H)=>{H.d(Ze,{h:()=>K});var g=H(9360),u=H(8251);function K(Ie,Ee){return(0,g.e)((Pe,me)=>{let Ae=0;Pe.subscribe((0,u.x)(me,xe=>Ie.call(Ee,xe,Ae++)&&me.next(xe)))})}},4716:(Qt,Ze,H)=>{H.d(Ze,{x:()=>u});var g=H(9360);function u(K){return(0,g.e)((Ie,Ee)=>{try{Ie.subscribe(Ee)}finally{Ee.add(K)}})}},1374:(Qt,Ze,H)=>{H.d(Ze,{P:()=>me});var g=H(6973),u=H(2181),K=H(8180),Ie=H(3572),Ee=H(3026),Pe=H(2737);function me(Ae,xe){const fe=arguments.length>=2;return ve=>ve.pipe(Ae?(0,u.h)((Oe,pt)=>Ae(Oe,pt,ve)):Pe.y,(0,K.q)(1),fe?(0,Ie.d)(xe):(0,Ee.T)(()=>new g.K))}},7398:(Qt,Ze,H)=>{H.d(Ze,{U:()=>K});var g=H(9360),u=H(8251);function K(Ie,Ee){return(0,g.e)((Pe,me)=>{let Ae=0;Pe.subscribe((0,u.x)(me,xe=>{me.next(Ie.call(Ee,xe,Ae++))}))})}},7537:(Qt,Ze,H)=>{H.d(Ze,{J:()=>K});var g=H(1631),u=H(2737);function K(Ie=1/0){return(0,g.z)(u.y,Ie)}},1631:(Qt,Ze,H)=>{H.d(Ze,{z:()=>Ae});var g=H(7398),u=H(4829),K=H(9360),Ie=H(7103),Ee=H(8251),me=H(4674);function Ae(xe,fe,ve=1/0){return(0,me.m)(fe)?Ae((Oe,pt)=>(0,g.U)((Xe,Dt)=>fe(Oe,Xe,pt,Dt))((0,u.Xf)(xe(Oe,pt))),ve):("number"==typeof fe&&(ve=fe),(0,K.e)((Oe,pt)=>function Pe(xe,fe,ve,Oe,pt,Xe,Dt,mt){const It=[];let _t=0,en=0,Ke=!1;const ze=()=>{Ke&&!It.length&&!_t&&fe.complete()},rt=it=>_t<Oe?He(it):It.push(it),He=it=>{Xe&&fe.next(it),_t++;let Ct=!1;(0,u.Xf)(ve(it,en++)).subscribe((0,Ee.x)(fe,Ye=>{pt?.(Ye),Xe?rt(Ye):fe.next(Ye)},()=>{Ct=!0},void 0,()=>{if(Ct)try{for(_t--;It.length&&_t<Oe;){const Ye=It.shift();Dt?(0,Ie.f)(fe,Dt,()=>He(Ye)):He(Ye)}ze()}catch(Ye){fe.error(Ye)}}))};return xe.subscribe((0,Ee.x)(fe,rt,()=>{Ke=!0,ze()})),()=>{mt?.()}}(Oe,pt,xe,ve)))}},3093:(Qt,Ze,H)=>{H.d(Ze,{Q:()=>Ie});var g=H(7103),u=H(9360),K=H(8251);function Ie(Ee,Pe=0){return(0,u.e)((me,Ae)=>{me.subscribe((0,K.x)(Ae,xe=>(0,g.f)(Ae,Ee,()=>Ae.next(xe),Pe),()=>(0,g.f)(Ae,Ee,()=>Ae.complete(),Pe),xe=>(0,g.f)(Ae,Ee,()=>Ae.error(xe),Pe)))})}},6699:(Qt,Ze,H)=>{H.d(Ze,{R:()=>Ie});var g=H(9360),u=H(8251);function Ie(Ee,Pe){return(0,g.e)(function K(Ee,Pe,me,Ae,xe){return(fe,ve)=>{let Oe=me,pt=Pe,Xe=0;fe.subscribe((0,u.x)(ve,Dt=>{const mt=Xe++;pt=Oe?Ee(pt,Dt,mt):(Oe=!0,Dt),Ae&&ve.next(pt)},xe&&(()=>{Oe&&ve.next(pt),ve.complete()})))}}(Ee,Pe,arguments.length>=2,!0))}},3020:(Qt,Ze,H)=>{H.d(Ze,{B:()=>Ee});var g=H(4829),u=H(8645),K=H(305),Ie=H(9360);function Ee(me={}){const{connector:Ae=(()=>new u.x),resetOnError:xe=!0,resetOnComplete:fe=!0,resetOnRefCountZero:ve=!0}=me;return Oe=>{let pt,Xe,Dt,mt=0,It=!1,_t=!1;const en=()=>{Xe?.unsubscribe(),Xe=void 0},Ke=()=>{en(),pt=Dt=void 0,It=_t=!1},ze=()=>{const rt=pt;Ke(),rt?.unsubscribe()};return(0,Ie.e)((rt,He)=>{mt++,!_t&&!It&&en();const it=Dt=Dt??Ae();He.add(()=>{mt--,0===mt&&!_t&&!It&&(Xe=Pe(ze,ve))}),it.subscribe(He),!pt&&mt>0&&(pt=new K.Hp({next:Ct=>it.next(Ct),error:Ct=>{_t=!0,en(),Xe=Pe(Ke,xe,Ct),it.error(Ct)},complete:()=>{It=!0,en(),Xe=Pe(Ke,fe),it.complete()}}),(0,g.Xf)(rt).subscribe(pt))})(Oe)}}function Pe(me,Ae,...xe){if(!0===Ae)return void me();if(!1===Ae)return;const fe=new K.Hp({next:()=>{fe.unsubscribe(),me()}});return(0,g.Xf)(Ae(...xe)).subscribe(fe)}},940:(Qt,Ze,H)=>{H.d(Ze,{d:()=>Ee});var g=H(8645),u=H(4552);class K extends g.x{constructor(me=1/0,Ae=1/0,xe=u.l){super(),this._bufferSize=me,this._windowTime=Ae,this._timestampProvider=xe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ae===1/0,this._bufferSize=Math.max(1,me),this._windowTime=Math.max(1,Ae)}next(me){const{isStopped:Ae,_buffer:xe,_infiniteTimeWindow:fe,_timestampProvider:ve,_windowTime:Oe}=this;Ae||(xe.push(me),!fe&&xe.push(ve.now()+Oe)),this._trimBuffer(),super.next(me)}_subscribe(me){this._throwIfClosed(),this._trimBuffer();const Ae=this._innerSubscribe(me),{_infiniteTimeWindow:xe,_buffer:fe}=this,ve=fe.slice();for(let Oe=0;Oe<ve.length&&!me.closed;Oe+=xe?1:2)me.next(ve[Oe]);return this._checkFinalizedStatuses(me),Ae}_trimBuffer(){const{_bufferSize:me,_timestampProvider:Ae,_buffer:xe,_infiniteTimeWindow:fe}=this,ve=(fe?1:2)*me;if(me<1/0&&ve<xe.length&&xe.splice(0,xe.length-ve),!fe){const Oe=Ae.now();let pt=0;for(let Xe=1;Xe<xe.length&&xe[Xe]<=Oe;Xe+=2)pt=Xe;pt&&xe.splice(0,pt+1)}}}var Ie=H(3020);function Ee(Pe,me,Ae){let xe,fe=!1;return Pe&&"object"==typeof Pe?({bufferSize:xe=1/0,windowTime:me=1/0,refCount:fe=!1,scheduler:Ae}=Pe):xe=Pe??1/0,(0,Ie.B)({connector:()=>new K(xe,me,Ae),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:fe})}},7921:(Qt,Ze,H)=>{H.d(Ze,{O:()=>Ie});var g=H(5211),u=H(4564),K=H(9360);function Ie(...Ee){const Pe=(0,u.yG)(Ee);return(0,K.e)((me,Ae)=>{(Pe?(0,g.z)(Ee,me,Pe):(0,g.z)(Ee,me)).subscribe(Ae)})}},5137:(Qt,Ze,H)=>{H.d(Ze,{R:()=>u});var g=H(9360);function u(K,Ie=0){return(0,g.e)((Ee,Pe)=>{Pe.add(K.schedule(()=>Ee.subscribe(Pe),Ie))})}},4664:(Qt,Ze,H)=>{H.d(Ze,{w:()=>Ie});var g=H(4829),u=H(9360),K=H(8251);function Ie(Ee,Pe){return(0,u.e)((me,Ae)=>{let xe=null,fe=0,ve=!1;const Oe=()=>ve&&!xe&&Ae.complete();me.subscribe((0,K.x)(Ae,pt=>{xe?.unsubscribe();let Xe=0;const Dt=fe++;(0,g.Xf)(Ee(pt,Dt)).subscribe(xe=(0,K.x)(Ae,mt=>Ae.next(Pe?Pe(pt,mt,Dt,Xe++):mt),()=>{xe=null,Oe()}))},()=>{ve=!0,Oe()}))})}},8180:(Qt,Ze,H)=>{H.d(Ze,{q:()=>Ie});var g=H(6232),u=H(9360),K=H(8251);function Ie(Ee){return Ee<=0?()=>g.E:(0,u.e)((Pe,me)=>{let Ae=0;Pe.subscribe((0,K.x)(me,xe=>{++Ae<=Ee&&(me.next(xe),Ee<=Ae&&me.complete())}))})}},9773:(Qt,Ze,H)=>{H.d(Ze,{R:()=>Ee});var g=H(9360),u=H(8251),K=H(4829),Ie=H(2420);function Ee(Pe){return(0,g.e)((me,Ae)=>{(0,K.Xf)(Pe).subscribe((0,u.x)(Ae,()=>Ae.complete(),Ie.Z)),!Ae.closed&&me.subscribe(Ae)})}},9397:(Qt,Ze,H)=>{H.d(Ze,{b:()=>Ee});var g=H(4674),u=H(9360),K=H(8251),Ie=H(2737);function Ee(Pe,me,Ae){const xe=(0,g.m)(Pe)||me||Ae?{next:Pe,error:me,complete:Ae}:Pe;return xe?(0,u.e)((fe,ve)=>{var Oe;null===(Oe=xe.subscribe)||void 0===Oe||Oe.call(xe);let pt=!0;fe.subscribe((0,K.x)(ve,Xe=>{var Dt;null===(Dt=xe.next)||void 0===Dt||Dt.call(xe,Xe),ve.next(Xe)},()=>{var Xe;pt=!1,null===(Xe=xe.complete)||void 0===Xe||Xe.call(xe),ve.complete()},Xe=>{var Dt;pt=!1,null===(Dt=xe.error)||void 0===Dt||Dt.call(xe,Xe),ve.error(Xe)},()=>{var Xe,Dt;pt&&(null===(Xe=xe.unsubscribe)||void 0===Xe||Xe.call(xe)),null===(Dt=xe.finalize)||void 0===Dt||Dt.call(xe)}))}):Ie.y}},3026:(Qt,Ze,H)=>{H.d(Ze,{T:()=>Ie});var g=H(6973),u=H(9360),K=H(8251);function Ie(Pe=Ee){return(0,u.e)((me,Ae)=>{let xe=!1;me.subscribe((0,K.x)(Ae,fe=>{xe=!0,Ae.next(fe)},()=>xe?Ae.complete():Ae.error(Pe())))})}function Ee(){return new g.K}},1954:(Qt,Ze,H)=>{H.d(Ze,{o:()=>Ee});var g=H(7394);class u extends g.w0{constructor(me,Ae){super()}schedule(me,Ae=0){return this}}const K={setInterval(Pe,me,...Ae){const{delegate:xe}=K;return xe?.setInterval?xe.setInterval(Pe,me,...Ae):setInterval(Pe,me,...Ae)},clearInterval(Pe){const{delegate:me}=K;return(me?.clearInterval||clearInterval)(Pe)},delegate:void 0};var Ie=H(9039);class Ee extends u{constructor(me,Ae){super(me,Ae),this.scheduler=me,this.work=Ae,this.pending=!1}schedule(me,Ae=0){var xe;if(this.closed)return this;this.state=me;const fe=this.id,ve=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(ve,fe,Ae)),this.pending=!0,this.delay=Ae,this.id=null!==(xe=this.id)&&void 0!==xe?xe:this.requestAsyncId(ve,this.id,Ae),this}requestAsyncId(me,Ae,xe=0){return K.setInterval(me.flush.bind(me,this),xe)}recycleAsyncId(me,Ae,xe=0){if(null!=xe&&this.delay===xe&&!1===this.pending)return Ae;null!=Ae&&K.clearInterval(Ae)}execute(me,Ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const xe=this._execute(me,Ae);if(xe)return xe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(me,Ae){let fe,xe=!1;try{this.work(me)}catch(ve){xe=!0,fe=ve||new Error("Scheduled action threw falsy error")}if(xe)return this.unsubscribe(),fe}unsubscribe(){if(!this.closed){const{id:me,scheduler:Ae}=this,{actions:xe}=Ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ie.P)(xe,this),null!=me&&(this.id=this.recycleAsyncId(Ae,me,null)),this.delay=null,super.unsubscribe()}}}},2631:(Qt,Ze,H)=>{H.d(Ze,{v:()=>K});var g=H(4552);class u{constructor(Ee,Pe=u.now){this.schedulerActionCtor=Ee,this.now=Pe}schedule(Ee,Pe=0,me){return new this.schedulerActionCtor(this,Ee).schedule(me,Pe)}}u.now=g.l.now;class K extends u{constructor(Ee,Pe=u.now){super(Ee,Pe),this.actions=[],this._active=!1}flush(Ee){const{actions:Pe}=this;if(this._active)return void Pe.push(Ee);let me;this._active=!0;do{if(me=Ee.execute(Ee.state,Ee.delay))break}while(Ee=Pe.shift());if(this._active=!1,me){for(;Ee=Pe.shift();)Ee.unsubscribe();throw me}}}},6321:(Qt,Ze,H)=>{H.d(Ze,{z:()=>K});var g=H(1954);const K=new(H(2631).v)(g.o)},4552:(Qt,Ze,H)=>{H.d(Ze,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},7599:(Qt,Ze,H)=>{H.d(Ze,{z:()=>g});const g={setTimeout(u,K,...Ie){const{delegate:Ee}=g;return Ee?.setTimeout?Ee.setTimeout(u,K,...Ie):setTimeout(u,K,...Ie)},clearTimeout(u){const{delegate:K}=g;return(K?.clearTimeout||clearTimeout)(u)},delegate:void 0}},4971:(Qt,Ze,H)=>{H.d(Ze,{h:()=>u});const u=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Qt,Ze,H)=>{H.d(Ze,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Qt,Ze,H)=>{H.d(Ze,{K:()=>u});const u=(0,H(2306).d)(K=>function(){K(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(Qt,Ze,H)=>{H.d(Ze,{_6:()=>Pe,jO:()=>Ie,yG:()=>Ee});var g=H(4674);function K(me){return me[me.length-1]}function Ie(me){return(0,g.m)(K(me))?me.pop():void 0}function Ee(me){return function u(me){return me&&(0,g.m)(me.schedule)}(K(me))?me.pop():void 0}function Pe(me,Ae){return"number"==typeof K(me)?me.pop():Ae}},7453:(Qt,Ze,H)=>{H.d(Ze,{D:()=>Ee});const{isArray:g}=Array,{getPrototypeOf:u,prototype:K,keys:Ie}=Object;function Ee(me){if(1===me.length){const Ae=me[0];if(g(Ae))return{args:Ae,keys:null};if(function Pe(me){return me&&"object"==typeof me&&u(me)===K}(Ae)){const xe=Ie(Ae);return{args:xe.map(fe=>Ae[fe]),keys:xe}}}return{args:me,keys:null}}},9039:(Qt,Ze,H)=>{function g(u,K){if(u){const Ie=u.indexOf(K);0<=Ie&&u.splice(Ie,1)}}H.d(Ze,{P:()=>g})},2306:(Qt,Ze,H)=>{function g(u){const Ie=u(Ee=>{Error.call(Ee),Ee.stack=(new Error).stack});return Ie.prototype=Object.create(Error.prototype),Ie.prototype.constructor=Ie,Ie}H.d(Ze,{d:()=>g})},2714:(Qt,Ze,H)=>{function g(u,K){return u.reduce((Ie,Ee,Pe)=>(Ie[Ee]=K[Pe],Ie),{})}H.d(Ze,{n:()=>g})},1441:(Qt,Ze,H)=>{H.d(Ze,{O:()=>Ie,x:()=>K});var g=H(2653);let u=null;function K(Ee){if(g.config.useDeprecatedSynchronousErrorHandling){const Pe=!u;if(Pe&&(u={errorThrown:!1,error:null}),Ee(),Pe){const{errorThrown:me,error:Ae}=u;if(u=null,me)throw Ae}}else Ee()}function Ie(Ee){g.config.useDeprecatedSynchronousErrorHandling&&u&&(u.errorThrown=!0,u.error=Ee)}},7103:(Qt,Ze,H)=>{function g(u,K,Ie,Ee=0,Pe=!1){const me=K.schedule(function(){Ie(),Pe?u.add(this.schedule(null,Ee)):this.unsubscribe()},Ee);if(u.add(me),!Pe)return me}H.d(Ze,{f:()=>g})},2737:(Qt,Ze,H)=>{function g(u){return u}H.d(Ze,{y:()=>g})},4266:(Qt,Ze,H)=>{H.d(Ze,{z:()=>g});const g=u=>u&&"number"==typeof u.length&&"function"!=typeof u},5726:(Qt,Ze,H)=>{H.d(Ze,{D:()=>u});var g=H(4674);function u(K){return Symbol.asyncIterator&&(0,g.m)(K?.[Symbol.asyncIterator])}},4674:(Qt,Ze,H)=>{function g(u){return"function"==typeof u}H.d(Ze,{m:()=>g})},8382:(Qt,Ze,H)=>{H.d(Ze,{c:()=>K});var g=H(4850),u=H(4674);function K(Ie){return(0,u.m)(Ie[g.L])}},3664:(Qt,Ze,H)=>{H.d(Ze,{T:()=>K});var g=H(4971),u=H(4674);function K(Ie){return(0,u.m)(Ie?.[g.h])}},4026:(Qt,Ze,H)=>{H.d(Ze,{t:()=>u});var g=H(4674);function u(K){return(0,g.m)(K?.then)}},541:(Qt,Ze,H)=>{H.d(Ze,{L:()=>Ie,Q:()=>K});var g=H(7582),u=H(4674);function K(Ee){return(0,g.FC)(this,arguments,function*(){const me=Ee.getReader();try{for(;;){const{value:Ae,done:xe}=yield(0,g.qq)(me.read());if(xe)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(Ae)}}finally{me.releaseLock()}})}function Ie(Ee){return(0,u.m)(Ee?.getReader)}},9360:(Qt,Ze,H)=>{H.d(Ze,{A:()=>u,e:()=>K});var g=H(4674);function u(Ie){return(0,g.m)(Ie?.lift)}function K(Ie){return Ee=>{if(u(Ee))return Ee.lift(function(Pe){try{return Ie(Pe,this)}catch(me){this.error(me)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Qt,Ze,H)=>{H.d(Ze,{Z:()=>Ie});var g=H(7398);const{isArray:u}=Array;function Ie(Ee){return(0,g.U)(Pe=>function K(Ee,Pe){return u(Pe)?Ee(...Pe):Ee(Pe)}(Ee,Pe))}},2420:(Qt,Ze,H)=>{function g(){}H.d(Ze,{Z:()=>g})},8407:(Qt,Ze,H)=>{H.d(Ze,{U:()=>K,z:()=>u});var g=H(2737);function u(...Ie){return K(Ie)}function K(Ie){return 0===Ie.length?g.y:1===Ie.length?Ie[0]:function(Pe){return Ie.reduce((me,Ae)=>Ae(me),Pe)}}},3894:(Qt,Ze,H)=>{H.d(Ze,{h:()=>K});var g=H(2653),u=H(7599);function K(Ie){u.z.setTimeout(()=>{const{onUnhandledError:Ee}=g.config;if(!Ee)throw Ie;Ee(Ie)})}},9853:(Qt,Ze,H)=>{function g(u){return new TypeError(`You provided ${null!==u&&"object"==typeof u?"an invalid object":`'${u}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}H.d(Ze,{z:()=>g})},6814:(Qt,Ze,H)=>{H.d(Ze,{Do:()=>mt,EM:()=>_i,HT:()=>Ie,JF:()=>ls,K0:()=>Pe,Mx:()=>Vi,NF:()=>Zi,O5:()=>Ui,Ov:()=>ri,PM:()=>or,S$:()=>pt,Ts:()=>wi,V_:()=>Ae,Ye:()=>It,b0:()=>Dt,bD:()=>rr,ez:()=>ii,mk:()=>Kr,q:()=>K,sg:()=>fr,uU:()=>jr,w_:()=>Ee});var g=H(5879);let u=null;function K(){return u}function Ie(P){u||(u=P)}class Ee{}const Pe=new g.OlP("DocumentToken");let me=(()=>{class P{historyGo(j){throw new Error("Not implemented")}static#e=this.\u0275fac=function(te){return new(te||P)};static#t=this.\u0275prov=g.Yz7({token:P,factory:function(){return(0,g.f3M)(xe)},providedIn:"platform"})}return P})();const Ae=new g.OlP("Location Initialized");let xe=(()=>{class P extends me{constructor(){super(),this._doc=(0,g.f3M)(Pe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return K().getBaseHref(this._doc)}onPopState(j){const te=K().getGlobalEventTarget(this._doc,"window");return te.addEventListener("popstate",j,!1),()=>te.removeEventListener("popstate",j)}onHashChange(j){const te=K().getGlobalEventTarget(this._doc,"window");return te.addEventListener("hashchange",j,!1),()=>te.removeEventListener("hashchange",j)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(j){this._location.pathname=j}pushState(j,te,we){this._history.pushState(j,te,we)}replaceState(j,te,we){this._history.replaceState(j,te,we)}forward(){this._history.forward()}back(){this._history.back()}historyGo(j=0){this._history.go(j)}getState(){return this._history.state}static#e=this.\u0275fac=function(te){return new(te||P)};static#t=this.\u0275prov=g.Yz7({token:P,factory:function(){return new P},providedIn:"platform"})}return P})();function fe(P,ne){if(0==P.length)return ne;if(0==ne.length)return P;let j=0;return P.endsWith("/")&&j++,ne.startsWith("/")&&j++,2==j?P+ne.substring(1):1==j?P+ne:P+"/"+ne}function ve(P){const ne=P.match(/#|\?|$/),j=ne&&ne.index||P.length;return P.slice(0,j-("/"===P[j-1]?1:0))+P.slice(j)}function Oe(P){return P&&"?"!==P[0]?"?"+P:P}let pt=(()=>{class P{historyGo(j){throw new Error("Not implemented")}static#e=this.\u0275fac=function(te){return new(te||P)};static#t=this.\u0275prov=g.Yz7({token:P,factory:function(){return(0,g.f3M)(Dt)},providedIn:"root"})}return P})();const Xe=new g.OlP("appBaseHref");let Dt=(()=>{class P extends pt{constructor(j,te){super(),this._platformLocation=j,this._removeListenerFns=[],this._baseHref=te??this._platformLocation.getBaseHrefFromDOM()??(0,g.f3M)(Pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}prepareExternalUrl(j){return fe(this._baseHref,j)}path(j=!1){const te=this._platformLocation.pathname+Oe(this._platformLocation.search),we=this._platformLocation.hash;return we&&j?`${te}${we}`:te}pushState(j,te,we,ht){const Mt=this.prepareExternalUrl(we+Oe(ht));this._platformLocation.pushState(j,te,Mt)}replaceState(j,te,we,ht){const Mt=this.prepareExternalUrl(we+Oe(ht));this._platformLocation.replaceState(j,te,Mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static#e=this.\u0275fac=function(te){return new(te||P)(g.LFG(me),g.LFG(Xe,8))};static#t=this.\u0275prov=g.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})(),mt=(()=>{class P extends pt{constructor(j,te){super(),this._platformLocation=j,this._baseHref="",this._removeListenerFns=[],null!=te&&(this._baseHref=te)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){let te=this._platformLocation.hash;return null==te&&(te="#"),te.length>0?te.substring(1):te}prepareExternalUrl(j){const te=fe(this._baseHref,j);return te.length>0?"#"+te:te}pushState(j,te,we,ht){let Mt=this.prepareExternalUrl(we+Oe(ht));0==Mt.length&&(Mt=this._platformLocation.pathname),this._platformLocation.pushState(j,te,Mt)}replaceState(j,te,we,ht){let Mt=this.prepareExternalUrl(we+Oe(ht));0==Mt.length&&(Mt=this._platformLocation.pathname),this._platformLocation.replaceState(j,te,Mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static#e=this.\u0275fac=function(te){return new(te||P)(g.LFG(me),g.LFG(Xe,8))};static#t=this.\u0275prov=g.Yz7({token:P,factory:P.\u0275fac})}return P})(),It=(()=>{class P{constructor(j){this._subject=new g.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=j;const te=this._locationStrategy.getBaseHref();this._basePath=function ze(P){if(new RegExp("^(https?:)?//").test(P)){const[,j]=P.split(/\/\/[^\/]+/);return j}return P}(ve(Ke(te))),this._locationStrategy.onPopState(we=>{this._subject.emit({url:this.path(!0),pop:!0,state:we.state,type:we.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(j=!1){return this.normalize(this._locationStrategy.path(j))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(j,te=""){return this.path()==this.normalize(j+Oe(te))}normalize(j){return P.stripTrailingSlash(function en(P,ne){if(!P||!ne.startsWith(P))return ne;const j=ne.substring(P.length);return""===j||["/",";","?","#"].includes(j[0])?j:ne}(this._basePath,Ke(j)))}prepareExternalUrl(j){return j&&"/"!==j[0]&&(j="/"+j),this._locationStrategy.prepareExternalUrl(j)}go(j,te="",we=null){this._locationStrategy.pushState(we,"",j,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+Oe(te)),we)}replaceState(j,te="",we=null){this._locationStrategy.replaceState(we,"",j,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+Oe(te)),we)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(j=0){this._locationStrategy.historyGo?.(j)}onUrlChange(j){return this._urlChangeListeners.push(j),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(te=>{this._notifyUrlChangeListeners(te.url,te.state)})),()=>{const te=this._urlChangeListeners.indexOf(j);this._urlChangeListeners.splice(te,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(j="",te){this._urlChangeListeners.forEach(we=>we(j,te))}subscribe(j,te,we){return this._subject.subscribe({next:j,error:te,complete:we})}static#e=this.normalizeQueryParams=Oe;static#t=this.joinWithSlash=fe;static#n=this.stripTrailingSlash=ve;static#r=this.\u0275fac=function(te){return new(te||P)(g.LFG(pt))};static#i=this.\u0275prov=g.Yz7({token:P,factory:function(){return function _t(){return new It((0,g.LFG)(pt))}()},providedIn:"root"})}return P})();function Ke(P){return P.replace(/\/index.html$/,"")}var Ct=function(P){return P[P.Format=0]="Format",P[P.Standalone=1]="Standalone",P}(Ct||{}),Ye=function(P){return P[P.Narrow=0]="Narrow",P[P.Abbreviated=1]="Abbreviated",P[P.Wide=2]="Wide",P[P.Short=3]="Short",P}(Ye||{}),ge=function(P){return P[P.Short=0]="Short",P[P.Medium=1]="Medium",P[P.Long=2]="Long",P[P.Full=3]="Full",P}(ge||{}),Et=function(P){return P[P.Decimal=0]="Decimal",P[P.Group=1]="Group",P[P.List=2]="List",P[P.PercentSign=3]="PercentSign",P[P.PlusSign=4]="PlusSign",P[P.MinusSign=5]="MinusSign",P[P.Exponential=6]="Exponential",P[P.SuperscriptingExponent=7]="SuperscriptingExponent",P[P.PerMille=8]="PerMille",P[P.Infinity=9]="Infinity",P[P.NaN=10]="NaN",P[P.TimeSeparator=11]="TimeSeparator",P[P.CurrencyDecimal=12]="CurrencyDecimal",P[P.CurrencyGroup=13]="CurrencyGroup",P}(Et||{});function Ve(P,ne){return Cn((0,g.cg1)(P)[g.wAp.DateFormat],ne)}function tt(P,ne){return Cn((0,g.cg1)(P)[g.wAp.TimeFormat],ne)}function et(P,ne){return Cn((0,g.cg1)(P)[g.wAp.DateTimeFormat],ne)}function gt(P,ne){const j=(0,g.cg1)(P),te=j[g.wAp.NumberSymbols][ne];if(typeof te>"u"){if(ne===Et.CurrencyDecimal)return j[g.wAp.NumberSymbols][Et.Decimal];if(ne===Et.CurrencyGroup)return j[g.wAp.NumberSymbols][Et.Group]}return te}function gn(P){if(!P[g.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${P[g.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Cn(P,ne){for(let j=ne;j>-1;j--)if(typeof P[j]<"u")return P[j];throw new Error("Locale data API: locale data undefined")}function Dn(P){const[ne,j]=P.split(":");return{hours:+ne,minutes:+j}}const dr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Hn={},kt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var vn=function(P){return P[P.Short=0]="Short",P[P.ShortGMT=1]="ShortGMT",P[P.Long=2]="Long",P[P.Extended=3]="Extended",P}(vn||{}),Fn=function(P){return P[P.FullYear=0]="FullYear",P[P.Month=1]="Month",P[P.Date=2]="Date",P[P.Hours=3]="Hours",P[P.Minutes=4]="Minutes",P[P.Seconds=5]="Seconds",P[P.FractionalSeconds=6]="FractionalSeconds",P[P.Day=7]="Day",P}(Fn||{}),An=function(P){return P[P.DayPeriods=0]="DayPeriods",P[P.Days=1]="Days",P[P.Months=2]="Months",P[P.Eras=3]="Eras",P}(An||{});function kr(P,ne,j,te){let we=function X(P){if(B(P))return P;if("number"==typeof P&&!isNaN(P))return new Date(P);if("string"==typeof P){if(P=P.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(P)){const[we,ht=1,Mt=1]=P.split("-").map(yn=>+yn);return Dr(we,ht-1,Mt)}const j=parseFloat(P);if(!isNaN(P-j))return new Date(j);let te;if(te=P.match(dr))return function $(P){const ne=new Date(0);let j=0,te=0;const we=P[8]?ne.setUTCFullYear:ne.setFullYear,ht=P[8]?ne.setUTCHours:ne.setHours;P[9]&&(j=Number(P[9]+P[10]),te=Number(P[9]+P[11])),we.call(ne,Number(P[1]),Number(P[2])-1,Number(P[3]));const Mt=Number(P[4]||0)-j,yn=Number(P[5]||0)-te,wr=Number(P[6]||0),Gr=Math.floor(1e3*parseFloat("0."+(P[7]||0)));return ht.call(ne,Mt,yn,wr,Gr),ne}(te)}const ne=new Date(P);if(!B(ne))throw new Error(`Unable to convert "${P}" into a date`);return ne}(P);ne=qn(j,ne)||ne;let yn,Mt=[];for(;ne;){if(yn=kt.exec(ne),!yn){Mt.push(ne);break}{Mt=Mt.concat(yn.slice(1));const Lr=Mt.pop();if(!Lr)break;ne=Lr}}let wr=we.getTimezoneOffset();te&&(wr=ti(te,wr),we=function ue(P,ne,j){const te=j?-1:1,we=P.getTimezoneOffset();return function Ft(P,ne){return(P=new Date(P.getTime())).setMinutes(P.getMinutes()+ne),P}(P,te*(ti(ne,we)-we))}(we,te,!0));let Gr="";return Mt.forEach(Lr=>{const lr=function Sn(P){if(jt[P])return jt[P];let ne;switch(P){case"G":case"GG":case"GGG":ne=Qn(An.Eras,Ye.Abbreviated);break;case"GGGG":ne=Qn(An.Eras,Ye.Wide);break;case"GGGGG":ne=Qn(An.Eras,Ye.Narrow);break;case"y":ne=sn(Fn.FullYear,1,0,!1,!0);break;case"yy":ne=sn(Fn.FullYear,2,0,!0,!0);break;case"yyy":ne=sn(Fn.FullYear,3,0,!1,!0);break;case"yyyy":ne=sn(Fn.FullYear,4,0,!1,!0);break;case"Y":ne=ft(1);break;case"YY":ne=ft(2,!0);break;case"YYY":ne=ft(3);break;case"YYYY":ne=ft(4);break;case"M":case"L":ne=sn(Fn.Month,1,1);break;case"MM":case"LL":ne=sn(Fn.Month,2,1);break;case"MMM":ne=Qn(An.Months,Ye.Abbreviated);break;case"MMMM":ne=Qn(An.Months,Ye.Wide);break;case"MMMMM":ne=Qn(An.Months,Ye.Narrow);break;case"LLL":ne=Qn(An.Months,Ye.Abbreviated,Ct.Standalone);break;case"LLLL":ne=Qn(An.Months,Ye.Wide,Ct.Standalone);break;case"LLLLL":ne=Qn(An.Months,Ye.Narrow,Ct.Standalone);break;case"w":ne=Se(1);break;case"ww":ne=Se(2);break;case"W":ne=Se(1,!0);break;case"d":ne=sn(Fn.Date,1);break;case"dd":ne=sn(Fn.Date,2);break;case"c":case"cc":ne=sn(Fn.Day,1);break;case"ccc":ne=Qn(An.Days,Ye.Abbreviated,Ct.Standalone);break;case"cccc":ne=Qn(An.Days,Ye.Wide,Ct.Standalone);break;case"ccccc":ne=Qn(An.Days,Ye.Narrow,Ct.Standalone);break;case"cccccc":ne=Qn(An.Days,Ye.Short,Ct.Standalone);break;case"E":case"EE":case"EEE":ne=Qn(An.Days,Ye.Abbreviated);break;case"EEEE":ne=Qn(An.Days,Ye.Wide);break;case"EEEEE":ne=Qn(An.Days,Ye.Narrow);break;case"EEEEEE":ne=Qn(An.Days,Ye.Short);break;case"a":case"aa":case"aaa":ne=Qn(An.DayPeriods,Ye.Abbreviated);break;case"aaaa":ne=Qn(An.DayPeriods,Ye.Wide);break;case"aaaaa":ne=Qn(An.DayPeriods,Ye.Narrow);break;case"b":case"bb":case"bbb":ne=Qn(An.DayPeriods,Ye.Abbreviated,Ct.Standalone,!0);break;case"bbbb":ne=Qn(An.DayPeriods,Ye.Wide,Ct.Standalone,!0);break;case"bbbbb":ne=Qn(An.DayPeriods,Ye.Narrow,Ct.Standalone,!0);break;case"B":case"BB":case"BBB":ne=Qn(An.DayPeriods,Ye.Abbreviated,Ct.Format,!0);break;case"BBBB":ne=Qn(An.DayPeriods,Ye.Wide,Ct.Format,!0);break;case"BBBBB":ne=Qn(An.DayPeriods,Ye.Narrow,Ct.Format,!0);break;case"h":ne=sn(Fn.Hours,1,-12);break;case"hh":ne=sn(Fn.Hours,2,-12);break;case"H":ne=sn(Fn.Hours,1);break;case"HH":ne=sn(Fn.Hours,2);break;case"m":ne=sn(Fn.Minutes,1);break;case"mm":ne=sn(Fn.Minutes,2);break;case"s":ne=sn(Fn.Seconds,1);break;case"ss":ne=sn(Fn.Seconds,2);break;case"S":ne=sn(Fn.FractionalSeconds,1);break;case"SS":ne=sn(Fn.FractionalSeconds,2);break;case"SSS":ne=sn(Fn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ne=hr(vn.Short);break;case"ZZZZZ":ne=hr(vn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ne=hr(vn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ne=hr(vn.Long);break;default:return null}return jt[P]=ne,ne}(Lr);Gr+=lr?lr(we,j,wr):"''"===Lr?"'":Lr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Gr}function Dr(P,ne,j){const te=new Date(0);return te.setFullYear(P,ne,j),te.setHours(0,0,0),te}function qn(P,ne){const j=function zn(P){return(0,g.cg1)(P)[g.wAp.LocaleId]}(P);if(Hn[j]=Hn[j]||{},Hn[j][ne])return Hn[j][ne];let te="";switch(ne){case"shortDate":te=Ve(P,ge.Short);break;case"mediumDate":te=Ve(P,ge.Medium);break;case"longDate":te=Ve(P,ge.Long);break;case"fullDate":te=Ve(P,ge.Full);break;case"shortTime":te=tt(P,ge.Short);break;case"mediumTime":te=tt(P,ge.Medium);break;case"longTime":te=tt(P,ge.Long);break;case"fullTime":te=tt(P,ge.Full);break;case"short":const we=qn(P,"shortTime"),ht=qn(P,"shortDate");te=Bn(et(P,ge.Short),[we,ht]);break;case"medium":const Mt=qn(P,"mediumTime"),yn=qn(P,"mediumDate");te=Bn(et(P,ge.Medium),[Mt,yn]);break;case"long":const wr=qn(P,"longTime"),Gr=qn(P,"longDate");te=Bn(et(P,ge.Long),[wr,Gr]);break;case"full":const Lr=qn(P,"fullTime"),lr=qn(P,"fullDate");te=Bn(et(P,ge.Full),[Lr,lr])}return te&&(Hn[j][ne]=te),te}function Bn(P,ne){return ne&&(P=P.replace(/\{([^}]+)}/g,function(j,te){return null!=ne&&te in ne?ne[te]:j})),P}function Mr(P,ne,j="-",te,we){let ht="";(P<0||we&&P<=0)&&(we?P=1-P:(P=-P,ht=j));let Mt=String(P);for(;Mt.length<ne;)Mt="0"+Mt;return te&&(Mt=Mt.slice(Mt.length-ne)),ht+Mt}function sn(P,ne,j=0,te=!1,we=!1){return function(ht,Mt){let yn=function fi(P,ne){switch(P){case Fn.FullYear:return ne.getFullYear();case Fn.Month:return ne.getMonth();case Fn.Date:return ne.getDate();case Fn.Hours:return ne.getHours();case Fn.Minutes:return ne.getMinutes();case Fn.Seconds:return ne.getSeconds();case Fn.FractionalSeconds:return ne.getMilliseconds();case Fn.Day:return ne.getDay();default:throw new Error(`Unknown DateType value "${P}".`)}}(P,ht);if((j>0||yn>-j)&&(yn+=j),P===Fn.Hours)0===yn&&-12===j&&(yn=12);else if(P===Fn.FractionalSeconds)return function hi(P,ne){return Mr(P,3).substring(0,ne)}(yn,ne);const wr=gt(Mt,Et.MinusSign);return Mr(yn,ne,wr,te,we)}}function Qn(P,ne,j=Ct.Format,te=!1){return function(we,ht){return function Tr(P,ne,j,te,we,ht){switch(j){case An.Months:return function rn(P,ne,j){const te=(0,g.cg1)(P),ht=Cn([te[g.wAp.MonthsFormat],te[g.wAp.MonthsStandalone]],ne);return Cn(ht,j)}(ne,we,te)[P.getMonth()];case An.Days:return function Nt(P,ne,j){const te=(0,g.cg1)(P),ht=Cn([te[g.wAp.DaysFormat],te[g.wAp.DaysStandalone]],ne);return Cn(ht,j)}(ne,we,te)[P.getDay()];case An.DayPeriods:const Mt=P.getHours(),yn=P.getMinutes();if(ht){const Gr=function On(P){const ne=(0,g.cg1)(P);return gn(ne),(ne[g.wAp.ExtraData][2]||[]).map(te=>"string"==typeof te?Dn(te):[Dn(te[0]),Dn(te[1])])}(ne),Lr=function qt(P,ne,j){const te=(0,g.cg1)(P);gn(te);const ht=Cn([te[g.wAp.ExtraData][0],te[g.wAp.ExtraData][1]],ne)||[];return Cn(ht,j)||[]}(ne,we,te),lr=Gr.findIndex(Zr=>{if(Array.isArray(Zr)){const[Nr,Oi]=Zr,ds=Mt>=Nr.hours&&yn>=Nr.minutes,is=Mt<Oi.hours||Mt===Oi.hours&&yn<Oi.minutes;if(Nr.hours<Oi.hours){if(ds&&is)return!0}else if(ds||is)return!0}else if(Zr.hours===Mt&&Zr.minutes===yn)return!0;return!1});if(-1!==lr)return Lr[lr]}return function bt(P,ne,j){const te=(0,g.cg1)(P),ht=Cn([te[g.wAp.DayPeriodsFormat],te[g.wAp.DayPeriodsStandalone]],ne);return Cn(ht,j)}(ne,we,te)[Mt<12?0:1];case An.Eras:return function at(P,ne){return Cn((0,g.cg1)(P)[g.wAp.Eras],ne)}(ne,te)[P.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${j}`)}}(we,ht,P,ne,j,te)}}function hr(P){return function(ne,j,te){const we=-1*te,ht=gt(j,Et.MinusSign),Mt=we>0?Math.floor(we/60):Math.ceil(we/60);switch(P){case vn.Short:return(we>=0?"+":"")+Mr(Mt,2,ht)+Mr(Math.abs(we%60),2,ht);case vn.ShortGMT:return"GMT"+(we>=0?"+":"")+Mr(Mt,1,ht);case vn.Long:return"GMT"+(we>=0?"+":"")+Mr(Mt,2,ht)+":"+Mr(Math.abs(we%60),2,ht);case vn.Extended:return 0===te?"Z":(we>=0?"+":"")+Mr(Mt,2,ht)+":"+Mr(Math.abs(we%60),2,ht);default:throw new Error(`Unknown zone width "${P}"`)}}}const Ur=0,qe=4;function oe(P){return Dr(P.getFullYear(),P.getMonth(),P.getDate()+(qe-P.getDay()))}function Se(P,ne=!1){return function(j,te){let we;if(ne){const ht=new Date(j.getFullYear(),j.getMonth(),1).getDay()-1,Mt=j.getDate();we=1+Math.floor((Mt+ht)/7)}else{const ht=oe(j),Mt=function Tt(P){const ne=Dr(P,Ur,1).getDay();return Dr(P,0,1+(ne<=qe?qe:qe+7)-ne)}(ht.getFullYear()),yn=ht.getTime()-Mt.getTime();we=1+Math.round(yn/6048e5)}return Mr(we,P,gt(te,Et.MinusSign))}}function ft(P,ne=!1){return function(j,te){return Mr(oe(j).getFullYear(),P,gt(te,Et.MinusSign),ne)}}const jt={};function ti(P,ne){P=P.replace(/:/g,"");const j=Date.parse("Jan 01, 1970 00:00:00 "+P)/6e4;return isNaN(j)?ne:j}function B(P){return P instanceof Date&&!isNaN(P.valueOf())}function Vi(P,ne){ne=encodeURIComponent(ne);for(const j of P.split(";")){const te=j.indexOf("="),[we,ht]=-1==te?[j,""]:[j.slice(0,te),j.slice(te+1)];if(we.trim()===ne)return decodeURIComponent(ht)}return null}const Fr=/\s+/,Qo=[];let Kr=(()=>{class P{constructor(j,te,we,ht){this._iterableDiffers=j,this._keyValueDiffers=te,this._ngEl=we,this._renderer=ht,this.initialClasses=Qo,this.stateMap=new Map}set klass(j){this.initialClasses=null!=j?j.trim().split(Fr):Qo}set ngClass(j){this.rawClass="string"==typeof j?j.trim().split(Fr):j}ngDoCheck(){for(const te of this.initialClasses)this._updateState(te,!0);const j=this.rawClass;if(Array.isArray(j)||j instanceof Set)for(const te of j)this._updateState(te,!0);else if(null!=j)for(const te of Object.keys(j))this._updateState(te,!!j[te]);this._applyStateDiff()}_updateState(j,te){const we=this.stateMap.get(j);void 0!==we?(we.enabled!==te&&(we.changed=!0,we.enabled=te),we.touched=!0):this.stateMap.set(j,{enabled:te,changed:!0,touched:!0})}_applyStateDiff(){for(const j of this.stateMap){const te=j[0],we=j[1];we.changed?(this._toggleClass(te,we.enabled),we.changed=!1):we.touched||(we.enabled&&this._toggleClass(te,!1),this.stateMap.delete(te)),we.touched=!1}}_toggleClass(j,te){(j=j.trim()).length>0&&j.split(Fr).forEach(we=>{te?this._renderer.addClass(this._ngEl.nativeElement,we):this._renderer.removeClass(this._ngEl.nativeElement,we)})}static#e=this.\u0275fac=function(te){return new(te||P)(g.Y36(g.ZZ4),g.Y36(g.aQg),g.Y36(g.SBq),g.Y36(g.Qsj))};static#t=this.\u0275dir=g.lG2({type:P,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return P})();class ea{constructor(ne,j,te,we){this.$implicit=ne,this.ngForOf=j,this.index=te,this.count=we}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let fr=(()=>{class P{set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}constructor(j,te,we){this._viewContainer=j,this._template=te,this._differs=we,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const te=this._viewContainer;j.forEachOperation((we,ht,Mt)=>{if(null==we.previousIndex)te.createEmbeddedView(this._template,new ea(we.item,this._ngForOf,-1,-1),null===Mt?void 0:Mt);else if(null==Mt)te.remove(null===ht?void 0:ht);else if(null!==ht){const yn=te.get(ht);te.move(yn,Mt),Ci(yn,we)}});for(let we=0,ht=te.length;we<ht;we++){const yn=te.get(we).context;yn.index=we,yn.count=ht,yn.ngForOf=this._ngForOf}j.forEachIdentityChange(we=>{Ci(te.get(we.currentIndex),we)})}static ngTemplateContextGuard(j,te){return!0}static#e=this.\u0275fac=function(te){return new(te||P)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))};static#t=this.\u0275dir=g.lG2({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return P})();function Ci(P,ne){P.context.$implicit=ne.item}let Ui=(()=>{class P{constructor(j,te){this._viewContainer=j,this._context=new Pr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=te}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){Bs("ngIfThen",j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){Bs("ngIfElse",j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(j,te){return!0}static#e=this.\u0275fac=function(te){return new(te||P)(g.Y36(g.s_b),g.Y36(g.Rgc))};static#t=this.\u0275dir=g.lG2({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return P})();class Pr{constructor(){this.$implicit=null,this.ngIf=null}}function Bs(P,ne){if(ne&&!ne.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,g.AaK)(ne)}'.`)}function Gi(P,ne){return new g.vHH(2100,!1)}class wo{createSubscription(ne,j){return(0,g.rg0)(()=>ne.subscribe({next:j,error:te=>{throw te}}))}dispose(ne){(0,g.rg0)(()=>ne.unsubscribe())}}class ni{createSubscription(ne,j){return ne.then(j,te=>{throw te})}dispose(ne){}}const Ao=new ni,ss=new wo;let ri=(()=>{class P{constructor(j){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=j}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(j){return this._obj?j!==this._obj?(this._dispose(),this.transform(j)):this._latestValue:(j&&this._subscribe(j),this._latestValue)}_subscribe(j){this._obj=j,this._strategy=this._selectStrategy(j),this._subscription=this._strategy.createSubscription(j,te=>this._updateLatestValue(j,te))}_selectStrategy(j){if((0,g.QGY)(j))return Ao;if((0,g.F4k)(j))return ss;throw Gi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(j,te){j===this._obj&&(this._latestValue=te,this._ref.markForCheck())}static#e=this.\u0275fac=function(te){return new(te||P)(g.Y36(g.sBO,16))};static#t=this.\u0275pipe=g.Yjl({name:"async",type:P,pure:!1,standalone:!0})}return P})();const Mn=new g.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),xr=new g.OlP("DATE_PIPE_DEFAULT_OPTIONS");let jr=(()=>{class P{constructor(j,te,we){this.locale=j,this.defaultTimezone=te,this.defaultOptions=we}transform(j,te,we,ht){if(null==j||""===j||j!=j)return null;try{return kr(j,te??this.defaultOptions?.dateFormat??"mediumDate",ht||this.locale,we??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Mt){throw Gi()}}static#e=this.\u0275fac=function(te){return new(te||P)(g.Y36(g.soG,16),g.Y36(Mn,24),g.Y36(xr,24))};static#t=this.\u0275pipe=g.Yjl({name:"date",type:P,pure:!0,standalone:!0})}return P})(),wi=(()=>{class P{transform(j){return JSON.stringify(j,null,2)}static#e=this.\u0275fac=function(te){return new(te||P)};static#t=this.\u0275pipe=g.Yjl({name:"json",type:P,pure:!1,standalone:!0})}return P})(),ii=(()=>{class P{static#e=this.\u0275fac=function(te){return new(te||P)};static#t=this.\u0275mod=g.oAB({type:P});static#n=this.\u0275inj=g.cJS({})}return P})();const rr="browser",Wi="server";function Zi(P){return P===rr}function or(P){return P===Wi}let _i=(()=>{class P{static#e=this.\u0275prov=(0,g.Yz7)({token:P,providedIn:"root",factory:()=>new cs((0,g.LFG)(Pe),window)})}return P})();class cs{constructor(ne,j){this.document=ne,this.window=j,this.offset=()=>[0,0]}setOffset(ne){this.offset=Array.isArray(ne)?()=>ne:ne}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ne){this.supportsScrolling()&&this.window.scrollTo(ne[0],ne[1])}scrollToAnchor(ne){if(!this.supportsScrolling())return;const j=function Es(P,ne){const j=P.getElementById(ne)||P.getElementsByName(ne)[0];if(j)return j;if("function"==typeof P.createTreeWalker&&P.body&&"function"==typeof P.body.attachShadow){const te=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let we=te.currentNode;for(;we;){const ht=we.shadowRoot;if(ht){const Mt=ht.getElementById(ne)||ht.querySelector(`[name="${ne}"]`);if(Mt)return Mt}we=te.nextNode()}}return null}(this.document,ne);j&&(this.scrollToElement(j),j.focus())}setHistoryScrollRestoration(ne){this.supportsScrolling()&&(this.window.history.scrollRestoration=ne)}scrollToElement(ne){const j=ne.getBoundingClientRect(),te=j.left+this.window.pageXOffset,we=j.top+this.window.pageYOffset,ht=this.offset();this.window.scrollTo(te-ht[0],we-ht[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class ls{}},5879:(Qt,Ze,H)=>{H.d(Ze,{$8M:()=>zo,$WT:()=>Pi,$Z:()=>F,AFp:()=>am,ALo:()=>Kb,AaK:()=>Oe,AsE:()=>IE,CHM:()=>Rd,CRH:()=>dT,EJc:()=>zw,EiD:()=>Kg,EpF:()=>Ti,F$t:()=>HE,F4k:()=>Jr,FYo:()=>B_,FiY:()=>ql,GfV:()=>Zp,Gpc:()=>Dt,HDt:()=>OT,Hsn:()=>$E,JOm:()=>Qd,JVY:()=>oh,JZr:()=>Ke,KtG:()=>hc,L6k:()=>A_,LAX:()=>Xu,LFG:()=>Rt,LSH:()=>Qg,Lbi:()=>cm,Lck:()=>MC,MAs:()=>Lc,MGl:()=>Ov,MMx:()=>kb,NdJ:()=>ro,Ojb:()=>Ky,OlP:()=>sn,Oqu:()=>EE,P3R:()=>pf,PXZ:()=>vA,Q6J:()=>Ah,QGY:()=>Zs,QbO:()=>jp,Qsj:()=>j_,R0b:()=>ki,RDi:()=>jg,Rgc:()=>Wv,SBq:()=>If,Sil:()=>Ww,Suo:()=>uT,TTD:()=>lr,TgZ:()=>qf,VKq:()=>$b,VuI:()=>tD,X6Q:()=>DA,XFs:()=>vn,Xpm:()=>ni,Xq5:()=>km,Xts:()=>uh,Y36:()=>R,YKP:()=>Ob,YNc:()=>$m,Yjl:()=>Do,Yz7:()=>gn,Z0I:()=>Cn,ZZ4:()=>CI,_Bn:()=>xb,_UZ:()=>Zo,_c5:()=>$A,_uU:()=>f0,aQg:()=>wI,c2e:()=>xT,cJS:()=>qt,cg1:()=>bE,dDg:()=>gA,dqk:()=>Bn,eBb:()=>ah,eFA:()=>$T,eJc:()=>cI,ekj:()=>Ym,eoX:()=>UT,f3M:()=>nn,g9A:()=>Sc,h0i:()=>r_,hGG:()=>zA,hij:()=>Vv,iGM:()=>lT,ifc:()=>ms,ip1:()=>RT,jDz:()=>Fb,kL8:()=>N0,lG2:()=>Mi,lcZ:()=>Yb,lqb:()=>Dc,lri:()=>LT,mCW:()=>ch,n5z:()=>Bl,oAB:()=>os,oxw:()=>jE,pB0:()=>ru,q3G:()=>au,q4F:()=>$_,qFp:()=>rD,qLn:()=>ld,qOj:()=>Rc,qZA:()=>Id,qzn:()=>Ns,rWj:()=>VT,rg0:()=>ht,s9C:()=>pE,sBO:()=>SA,s_b:()=>PE,soG:()=>xE,tb:()=>yI,tp0:()=>Ec,uIk:()=>ec,vHH:()=>ze,vpe:()=>fl,wAp:()=>Jm,xi3:()=>Qb,xp6:()=>y,z2F:()=>Py,z3N:()=>dl,zSh:()=>N_,zs3:()=>Pc});var g=H(8645),u=H(7394),K=H(5592),Ie=H(3019),Ee=H(5619),Pe=H(2096),me=H(3020),Ae=H(4664),xe=H(3997);function fe(t){for(let n in t)if(t[n]===fe)return n;throw Error("Could not find renamed property on target object.")}function ve(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function Oe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Oe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function pt(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Xe=fe({__forward_ref__:fe});function Dt(t){return t.__forward_ref__=Dt,t.toString=function(){return Oe(this())},t}function mt(t){return It(t)?t():t}function It(t){return"function"==typeof t&&t.hasOwnProperty(Xe)&&t.__forward_ref__===Dt}function _t(t){return t&&!!t.\u0275providers}const Ke="https://g.co/ng/security#xss";class ze extends Error{constructor(n,i){super(function rt(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function He(t){return"string"==typeof t?t:null==t?"":String(t)}function Et(t,n){throw new ze(-201,!1)}function Jt(t,n){null==t&&function zt(t,n,i,c){throw new Error(`ASSERTION ERROR: ${t}`+(null==c?"":` [Expected=> ${i} ${c} ${n} <=Actual]`))}(n,t,null,"!=")}function gn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function qt(t){return{providers:t.providers||[],imports:t.imports||[]}}function fn(t){return Dn(t,wn)||Dn(t,Hn)}function Cn(t){return null!==fn(t)}function Dn(t,n){return t.hasOwnProperty(n)?t[n]:null}function li(t){return t&&(t.hasOwnProperty(dr)||t.hasOwnProperty(kt))?t[dr]:null}const wn=fe({\u0275prov:fe}),dr=fe({\u0275inj:fe}),Hn=fe({ngInjectableDef:fe}),kt=fe({ngInjectorDef:fe});var vn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(vn||{});let Fn;function kr(t){const n=Fn;return Fn=t,n}function Dr(t,n,i){const c=fn(t);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:i&vn.Optional?null:void 0!==n?n:void Et(Oe(t))}const Bn=globalThis;class sn{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=gn({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Sn={},ti="__NG_DI_FLAG__",Ft="ngTempTokenPath",X=/\n/gm,B="__source";let L;function Fe(t){const n=L;return L=t,n}function yt(t,n=vn.Default){if(void 0===L)throw new ze(-203,!1);return null===L?Dr(t,void 0,n):L.get(t,n&vn.Optional?null:void 0,n)}function Rt(t,n=vn.Default){return(function An(){return Fn}()||yt)(mt(t),n)}function nn(t,n=vn.Default){return Rt(t,an(n))}function an(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Jn(t){const n=[];for(let i=0;i<t.length;i++){const c=mt(t[i]);if(Array.isArray(c)){if(0===c.length)throw new ze(900,!1);let h,m=vn.Default;for(let T=0;T<c.length;T++){const D=c[T],O=ui(D);"number"==typeof O?-1===O?h=D.token:m|=O:h=D}n.push(Rt(h,m))}else n.push(Rt(c))}return n}function xn(t,n){return t[ti]=n,t.prototype[ti]=n,t}function ui(t){return t[ti]}function vi(t){return{toString:t}.toString()}var so=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(so||{}),ms=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ms||{});const Li={},pr=[],Vs=fe({\u0275cmp:fe}),Co=fe({\u0275dir:fe}),ma=fe({\u0275pipe:fe}),jc=fe({\u0275mod:fe}),Vi=fe({\u0275fac:fe}),Fr=fe({__NG_ELEMENT_ID__:fe}),Qo=fe({__NG_ENV_ID__:fe});function Kr(t,n,i){let c=t.length;for(;;){const h=t.indexOf(n,i);if(-1===h)return h;if(0===h||t.charCodeAt(h-1)<=32){const m=n.length;if(h+m===c||t.charCodeAt(h+m)<=32)return h}i=h+1}}function Jo(t,n,i){let c=0;for(;c<i.length;){const h=i[c];if("number"==typeof h){if(0!==h)break;c++;const m=i[c++],T=i[c++],D=i[c++];t.setAttribute(n,T,D,m)}else{const m=h,T=i[++c];ea(m)?t.setProperty(n,m,T):t.setAttribute(n,m,T),c++}}return c}function Xo(t){return 3===t||4===t||6===t}function ea(t){return 64===t.charCodeAt(0)}function fr(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let c=0;c<n.length;c++){const h=n[c];"number"==typeof h?i=h:0===i||Ci(t,i,h,null,-1===i||2===i?n[++c]:null)}}return t}function Ci(t,n,i,c,h){let m=0,T=t.length;if(-1===n)T=-1;else for(;m<t.length;){const D=t[m++];if("number"==typeof D){if(D===n){T=-1;break}if(D>n){T=m-1;break}}}for(;m<t.length;){const D=t[m];if("number"==typeof D)break;if(D===i){if(null===c)return void(null!==h&&(t[m+1]=h));if(c===t[m+1])return void(t[m+2]=h)}m++,null!==c&&m++,null!==h&&m++}-1!==T&&(t.splice(T,0,n),m=T+1),t.splice(m++,0,i),null!==c&&t.splice(m++,0,c),null!==h&&t.splice(m++,0,h)}const Us="ng-template";function Ui(t,n,i){let c=0,h=!0;for(;c<t.length;){let m=t[c++];if("string"==typeof m&&h){const T=t[c++];if(i&&"class"===m&&-1!==Kr(T.toLowerCase(),n,0))return!0}else{if(1===m){for(;c<t.length&&"string"==typeof(m=t[c++]);)if(m.toLowerCase()===n)return!0;return!1}"number"==typeof m&&(h=!1)}}return!1}function Pr(t){return 4===t.type&&t.value!==Us}function Bs(t,n,i){return n===(4!==t.type||i?t.value:Us)}function Xi(t,n,i){let c=4;const h=t.attrs||[],m=function Ei(t){for(let n=0;n<t.length;n++)if(Xo(t[n]))return n;return t.length}(h);let T=!1;for(let D=0;D<n.length;D++){const O=n[D];if("number"!=typeof O){if(!T)if(4&c){if(c=2|1&c,""!==O&&!Bs(t,O,i)||""===O&&1===n.length){if(Si(c))return!1;T=!0}}else{const z=8&c?O:n[++D];if(8&c&&null!==t.attrs){if(!Ui(t.attrs,z,i)){if(Si(c))return!1;T=!0}continue}const be=Oa(8&c?"class":O,h,Pr(t),i);if(-1===be){if(Si(c))return!1;T=!0;continue}if(""!==z){let Ge;Ge=be>m?"":h[be+1].toLowerCase();const nt=8&c?Ge:null;if(nt&&-1!==Kr(nt,z,0)||2&c&&z!==Ge){if(Si(c))return!1;T=!0}}}}else{if(!T&&!Si(c)&&!Si(O))return!1;if(T&&Si(O))continue;T=!1,c=O|1&c}}return Si(c)||T}function Si(t){return 0==(1&t)}function Oa(t,n,i,c){if(null===n)return-1;let h=0;if(c||!i){let m=!1;for(;h<n.length;){const T=n[h];if(T===t)return h;if(3===T||6===T)m=!0;else{if(1===T||2===T){let D=n[++h];for(;"string"==typeof D;)D=n[++h];continue}if(4===T)break;if(0===T){h+=4;continue}}h+=m?1:2}return-1}return function Rr(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const c=t[i];if("number"==typeof c)return-1;if(c===n)return i;i++}return-1}(n,t)}function Br(t,n,i=!1){for(let c=0;c<n.length;c++)if(Xi(t,n[c],i))return!0;return!1}function ta(t,n){e:for(let i=0;i<n.length;i++){const c=n[i];if(t.length===c.length){for(let h=0;h<t.length;h++)if(t[h]!==c[h])continue e;return!0}}return!1}function Ss(t,n){return t?":not("+n.trim()+")":n}function Ii(t){let n=t[0],i=1,c=2,h="",m=!1;for(;i<t.length;){let T=t[i];if("string"==typeof T)if(2&c){const D=t[++i];h+="["+T+(D.length>0?'="'+D+'"':"")+"]"}else 8&c?h+="."+T:4&c&&(h+=" "+T);else""!==h&&!Si(T)&&(n+=Ss(m,h),h=""),c=T,m=m||!Si(c);i++}return""!==h&&(n+=Ss(m,h)),n}function ni(t){return vi(()=>{const n=qi(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===so.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ms.Emulated,styles:t.styles||pr,_:null,schemas:t.schemas||null,tView:null,id:""};wi(i);const c=t.dependencies;return i.directiveDefs=So(c,!1),i.pipeDefs=So(c,!0),i.id=function as(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const h of i)n=Math.imul(31,n)+h.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function ss(t){return Mn(t)||xr(t)}function ri(t){return null!==t}function os(t){return vi(()=>({type:t.type,bootstrap:t.bootstrap||pr,declarations:t.declarations||pr,imports:t.imports||pr,exports:t.exports||pr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function oo(t,n){if(null==t)return Li;const i={};for(const c in t)if(t.hasOwnProperty(c)){let h=t[c],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),i[h]=c,n&&(n[h]=m)}return i}function Mi(t){return vi(()=>{const n=qi(t);return wi(n),n})}function Do(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Mn(t){return t[Vs]||null}function xr(t){return t[Co]||null}function jr(t){return t[ma]||null}function Pi(t){const n=Mn(t)||xr(t)||jr(t);return null!==n&&n.standalone}function Or(t,n){const i=t[jc]||null;if(!i&&!0===n)throw new Error(`Type ${Oe(t)} does not have '\u0275mod' property.`);return i}function qi(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Li,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||pr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:oo(t.inputs,n),outputs:oo(t.outputs)}}function wi(t){t.features?.forEach(n=>n(t))}function So(t,n){if(!t)return null;const i=n?jr:ss;return()=>("function"==typeof t?t():t).map(c=>i(c)).filter(ri)}const br=0,Xt=1,Ln=2,gr=3,gi=4,ys=5,zr=6,ii=7,rr=8,Wi=9,vs=10,jn=11,Zi=12,or=13,mi=14,Nn=15,es=16,_i=17,cs=18,Es=19,ka=20,ls=21,Kn=22,ar=23,Ms=24,ir=25,Ki=1,xi=2,ts=7,ao=9,Yr=11;function De(t){return Array.isArray(t)&&"object"==typeof t[Ki]}function je(t){return Array.isArray(t)&&!0===t[Ki]}function St(t){return 0!=(4&t.flags)}function Ut(t){return t.componentOffset>-1}function on(t){return 1==(1&t.flags)}function mn(t){return!!t.template}function Wn(t){return 0!=(512&t[Ln])}function Qs(t,n){return t.hasOwnProperty(Vi)?t[Vi]:null}let Cr=null,ya=!1;function ji(t){const n=Cr;return Cr=t,n}const Ru={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function uo(t){if(!ra(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Gc(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Va(t){t.dirty=!0,function ho(t){if(void 0===t.liveConsumerNode)return;const n=ya;ya=!0;try{for(const i of t.liveConsumerNode)i.dirty||Va(i)}finally{ya=n}}(t),t.consumerMarkedDirty?.(t)}function sr(t){return t&&(t.nextProducerIndex=0),ji(t)}function zc(t,n){if(ji(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(ra(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)Ua(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Gc(t){Fo(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],c=t.producerLastReadVersion[n];if(c!==i.version||(uo(i),c!==i.version))return!0}return!1}function ac(t){if(Fo(t),ra(t))for(let n=0;n<t.producerNode.length;n++)Ua(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ua(t,n){if(function lc(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Fo(t),1===t.liveConsumerNode.length)for(let c=0;c<t.producerNode.length;c++)Ua(t.producerNode[c],t.producerIndexOfThis[c]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const c=t.liveConsumerIndexOfThis[n],h=t.liveConsumerNode[n];Fo(h),h.producerIndexOfThis[c]=n}}function ra(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Fo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Ba=null;function ht(t){const n=ji(null);try{return t()}finally{ji(n)}}const yn=()=>{},wr=(()=>({...Ru,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:yn}))();class Lr{constructor(n,i,c){this.previousValue=n,this.currentValue=i,this.firstChange=c}isFirstChange(){return this.firstChange}}function lr(){return Zr}function Zr(t){return t.type.prototype.ngOnChanges&&(t.setInput=Oi),Nr}function Nr(){const t=is(this),n=t?.current;if(n){const i=t.previous;if(i===Li)t.previous=n;else for(let c in n)i[c]=n[c];t.current=null,this.ngOnChanges(n)}}function Oi(t,n,i,c){const h=this.declaredInputs[i],m=is(t)||function sa(t,n){return t[ds]=n}(t,{previous:Li,current:null}),T=m.current||(m.current={}),D=m.previous,O=D[h];T[h]=new Lr(O&&O.currentValue,n,D===Li),t[c]=n}lr.ngInherit=!0;const ds="__ngSimpleChanges__";function is(t){return t[ds]||null}const Yn=function(t,n,i){};function ai(t){for(;Array.isArray(t);)t=t[br];return t}function Vo(t,n){return ai(n[t])}function Ps(t,n){return ai(n[t.index])}function Ml(t,n){return t.data[n]}function aa(t,n){return t[n]}function Rs(t,n){const i=n[t];return De(i)?i:i[br]}function fo(t,n){return null==n?null:t[n]}function Uo(t){t[_i]=0}function Bo(t){1024&t[Ln]||(t[Ln]|=1024,Mh(t,1))}function Dd(t){1024&t[Ln]&&(t[Ln]&=-1025,Mh(t,-1))}function Mh(t,n){let i=t[gr];if(null===i)return;i[ys]+=n;let c=i;for(i=i[gr];null!==i&&(1===n&&1===c[ys]||-1===n&&0===c[ys]);)i[ys]+=n,c=i,i=i[gr]}const Xn={lFrame:Ts(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function bi(){return Xn.bindingsEnabled}function $a(){return null!==Xn.skipHydrationRootTNode}function Ot(){return Xn.lFrame.lView}function Sr(){return Xn.lFrame.tView}function Rd(t){return Xn.lFrame.contextLView=t,t[rr]}function hc(t){return Xn.lFrame.contextLView=null,t}function hs(){let t=Hi();for(;null!==t&&64===t.type;)t=t.parent;return t}function Hi(){return Xn.lFrame.currentTNode}function bs(t,n){const i=Xn.lFrame;i.currentTNode=t,i.isParent=n}function Yc(){return Xn.lFrame.isParent}function fc(){Xn.lFrame.isParent=!1}function Hs(){const t=Xn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Ea(){return Xn.lFrame.bindingIndex++}function S(t){const n=Xn.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function k(t,n){const i=Xn.lFrame;i.bindingIndex=i.bindingRootIndex=t,ae(n)}function ae(t){Xn.lFrame.currentDirectiveIndex=t}function ct(){return Xn.lFrame.currentQueryIndex}function dt(t){Xn.lFrame.currentQueryIndex=t}function _n(t){const n=t[Xt];return 2===n.type?n.declTNode:1===n.type?t[zr]:null}function _r(t,n,i){if(i&vn.SkipSelf){let h=n,m=t;for(;!(h=h.parent,null!==h||i&vn.Host||(h=_n(m),null===h||(m=m[mi],10&h.type))););if(null===h)return!1;n=h,t=m}const c=Xn.lFrame=er();return c.currentTNode=n,c.lView=t,!0}function qr(t){const n=er(),i=t[Xt];Xn.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function er(){const t=Xn.lFrame,n=null===t?null:t.child;return null===n?Ts(t):n}function Ts(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function eo(){const t=Xn.lFrame;return Xn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const po=eo;function pc(){const t=eo();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function $s(){return Xn.lFrame.selectedIndex}function Ia(t){Xn.lFrame.selectedIndex=t}function pi(){const t=Xn.lFrame;return Ml(t.tView,t.selectedIndex)}let ep=!0;function Rl(){return ep}function ca(t){ep=t}function xh(t,n){for(let i=n.directiveStart,c=n.directiveEnd;i<c;i++){const m=t.data[i].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:D,ngAfterViewInit:O,ngAfterViewChecked:z,ngOnDestroy:re}=m;T&&(t.contentHooks??=[]).push(-i,T),D&&((t.contentHooks??=[]).push(i,D),(t.contentCheckHooks??=[]).push(i,D)),O&&(t.viewHooks??=[]).push(-i,O),z&&((t.viewHooks??=[]).push(i,z),(t.viewCheckHooks??=[]).push(i,z)),null!=re&&(t.destroyHooks??=[]).push(i,re)}}function Ca(t,n,i){Fd(t,n,3,i)}function wa(t,n,i,c){(3&t[Ln])===i&&Fd(t,n,i,c)}function Mo(t,n){let i=t[Ln];(3&i)===n&&(i&=8191,i+=1,t[Ln]=i)}function Fd(t,n,i,c){const m=c??-1,T=n.length-1;let D=0;for(let O=void 0!==c?65535&t[_i]:0;O<T;O++)if("number"==typeof n[O+1]){if(D=n[O],null!=c&&D>=c)break}else n[O]<0&&(t[_i]+=65536),(D<m||-1==m)&&(Lu(t,i,n,O),t[_i]=(4294901760&t[_i])+O+2),O++}function xl(t,n){Yn(4,t,n);const i=ji(null);try{n.call(t)}finally{ji(i),Yn(5,t,n)}}function Lu(t,n,i,c){const h=i[c]<0,m=i[c+1],D=t[h?-i[c]:i[c]];h?t[Ln]>>13<t[_i]>>16&&(3&t[Ln])===n&&(t[Ln]+=8192,xl(D,m)):xl(D,m)}const $o=-1;class Ga{constructor(n,i,c){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=c}}function Nl(t){return t!==$o}function kl(t){return 32767&t}function Po(t,n){let i=function bg(t){return t>>16}(t),c=n;for(;i>0;)c=c[mi],i--;return c}let Fl=!0;function la(t){const n=Fl;return Fl=t,n}const Ud=255,fs=5;let Uu=0;const xs={};function Ll(t,n){const i=gc(t,n);if(-1!==i)return i;const c=n[Xt];c.firstCreatePass&&(t.injectorIndex=n.length,ua(c.data,t),ua(n,null),ua(c.blueprint,null));const h=Vl(t,n),m=t.injectorIndex;if(Nl(h)){const T=kl(h),D=Po(h,n),O=D[Xt].data;for(let z=0;z<8;z++)n[m+z]=D[T+z]|O[T+z]}return n[m+8]=h,m}function ua(t,n){t.push(0,0,0,0,0,0,0,0,n)}function gc(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Vl(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,c=null,h=n;for(;null!==h;){if(c=np(h),null===c)return $o;if(i++,h=h[mi],-1!==c.injectorIndex)return c.injectorIndex|i<<16}return $o}function mc(t,n,i){!function Bd(t,n,i){let c;"string"==typeof i?c=i.charCodeAt(0)||0:i.hasOwnProperty(Fr)&&(c=i[Fr]),null==c&&(c=i[Fr]=Uu++);const h=c&Ud;n.data[t+(h>>fs)]|=1<<h}(t,n,i)}function Qc(t,n,i){if(i&vn.Optional||void 0!==t)return t;Et()}function jd(t,n,i,c){if(i&vn.Optional&&void 0===c&&(c=null),!(i&(vn.Self|vn.Host))){const h=t[Wi],m=kr(void 0);try{return h?h.get(n,c,i&vn.Optional):Dr(n,c,i&vn.Optional)}finally{kr(m)}}return Qc(c,0,i)}function qa(t,n,i,c=vn.Default,h){if(null!==t){if(2048&n[Ln]&&!(c&vn.Self)){const T=function Xc(t,n,i,c,h){let m=t,T=n;for(;null!==m&&null!==T&&2048&T[Ln]&&!(512&T[Ln]);){const D=Hd(m,T,i,c|vn.Self,xs);if(D!==xs)return D;let O=m.parent;if(!O){const z=T[ka];if(z){const re=z.get(i,xs,c);if(re!==xs)return re}O=np(T),T=T[mi]}m=O}return h}(t,n,i,c,xs);if(T!==xs)return T}const m=Hd(t,n,i,c,xs);if(m!==xs)return m}return jd(n,i,c,h)}function Hd(t,n,i,c,h){const m=function kh(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Fr)?t[Fr]:void 0;return"number"==typeof n?n>=0?n&Ud:zd:n}(i);if("function"==typeof m){if(!_r(n,t,c))return c&vn.Host?Qc(h,0,c):jd(n,i,c,h);try{let T;if(T=m(c),null!=T||c&vn.Optional)return T;Et()}finally{po()}}else if("number"==typeof m){let T=null,D=gc(t,n),O=$o,z=c&vn.Host?n[Nn][zr]:null;for((-1===D||c&vn.SkipSelf)&&(O=-1===D?Vl(t,n):n[D+8],O!==$o&&Jc(c,!1)?(T=n[Xt],D=kl(O),n=Po(O,n)):D=-1);-1!==D;){const re=n[Xt];if(Fh(m,D,re.data)){const be=Nh(D,n,i,T,c,z);if(be!==xs)return be}O=n[D+8],O!==$o&&Jc(c,n[Xt].data[D+8]===z)&&Fh(m,D,n)?(T=re,D=kl(O),n=Po(O,n)):D=-1}}return h}function Nh(t,n,i,c,h,m){const T=n[Xt],D=T.data[t+8],re=$d(D,T,i,null==c?Ut(D)&&Fl:c!=T&&0!=(3&D.type),h&vn.Host&&m===D);return null!==re?Ul(n,T,re,D):xs}function $d(t,n,i,c,h){const m=t.providerIndexes,T=n.data,D=1048575&m,O=t.directiveStart,re=m>>20,Ge=h?D+re:t.directiveEnd;for(let nt=c?D:D+re;nt<Ge;nt++){const Pt=T[nt];if(nt<O&&i===Pt||nt>=O&&Pt.type===i)return nt}if(h){const nt=T[O];if(nt&&mn(nt)&&nt.type===i)return O}return null}function Ul(t,n,i,c){let h=t[i];const m=n.data;if(function Vu(t){return t instanceof Ga}(h)){const T=h;T.resolving&&function Ct(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new ze(-200,`Circular dependency in DI detected for ${t}${i}`)}(function it(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():He(t)}(m[i]));const D=la(T.canSeeViewProviders);T.resolving=!0;const z=T.injectImpl?kr(T.injectImpl):null;_r(t,c,vn.Default);try{h=t[i]=T.factory(void 0,m,t,c),n.firstCreatePass&&i>=c.directiveStart&&function Ta(t,n,i){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:m}=n.type.prototype;if(c){const T=Zr(n);(i.preOrderHooks??=[]).push(t,T),(i.preOrderCheckHooks??=[]).push(t,T)}h&&(i.preOrderHooks??=[]).push(0-t,h),m&&((i.preOrderHooks??=[]).push(t,m),(i.preOrderCheckHooks??=[]).push(t,m))}(i,m[i],n)}finally{null!==z&&kr(z),la(D),T.resolving=!1,po()}}return h}function Fh(t,n,i){return!!(i[n+(t>>fs)]&1<<t)}function Jc(t,n){return!(t&vn.Self||t&vn.Host&&n)}class Cs{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,c){return qa(this._tNode,this._lView,n,an(c),i)}}function zd(){return new Cs(hs(),Ot())}function Bl(t){return vi(()=>{const n=t.prototype.constructor,i=n[Vi]||Aa(n),c=Object.prototype;let h=Object.getPrototypeOf(t.prototype).constructor;for(;h&&h!==c;){const m=h[Vi]||Aa(h);if(m&&m!==i)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function Aa(t){return It(t)?()=>{const n=Aa(mt(t));return n&&n()}:Qs(t)}function np(t){const n=t[Xt],i=n.type;return 2===i?n.declTNode:1===i?t[zr]:null}function zo(t){return function Cg(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const c=i.length;let h=0;for(;h<c;){const m=i[h];if(Xo(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<c&&"string"==typeof i[h];)h++;else{if(m===n)return i[h+1];h+=2}}}return null}(hs(),t)}const el="__parameters__";function $i(t,n,i){return vi(()=>{const c=function jl(t){return function(...i){if(t){const c=t(...i);for(const h in c)this[h]=c[h]}}}(n);function h(...m){if(this instanceof h)return c.apply(this,m),this;const T=new h(...m);return D.annotation=T,D;function D(O,z,re){const be=O.hasOwnProperty(el)?O[el]:Object.defineProperty(O,el,{value:[]})[el];for(;be.length<=re;)be.push(null);return(be[re]=be[re]||[]).push(T),O}}return i&&(h.prototype=Object.create(i.prototype)),h.prototype.ngMetadataName=t,h.annotationCls=h,h})}function yc(t,n){t.forEach(i=>Array.isArray(i)?yc(i,n):n(i))}function nl(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function Hu(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function $l(t,n){const i=[];for(let c=0;c<t;c++)i.push(n);return i}function xo(t,n,i){let c=Za(t,n);return c>=0?t[1|c]=i:(c=~c,function vc(t,n,i,c){let h=t.length;if(h==n)t.push(i,c);else if(1===h)t.push(c,t[0]),t[0]=i;else{for(h--,t.push(t[h-1],t[h]);h>n;)t[h]=t[h-2],h--;t[n]=i,t[n+1]=c}}(t,c,n,i)),c}function jh(t,n){const i=Za(t,n);if(i>=0)return t[1|i]}function Za(t,n){return function Ka(t,n,i){let c=0,h=t.length>>i;for(;h!==c;){const m=c+(h-c>>1),T=t[m<<i];if(n===T)return m<<i;T>n?h=m:c=m+1}return~(h<<i)}(t,n,1)}const ql=xn($i("Optional"),8),Ec=xn($i("SkipSelf"),4);function Yd(t){return 128==(128&t.flags)}var Qd=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Qd||{});const Rg=new Map;let f_=0;const ol="__ngContext__";function Ni(t,n){De(n)?(t[ol]=n[Es],function ky(t){Rg.set(t[Es],t)}(n)):t[ol]=n}let Ai;function Zu(t,n){return Ai(t,n)}function Ku(t){const n=t[gr];return je(n)?n[gr]:n}function g_(t){return Jh(t[Zi])}function gp(t){return Jh(t[gi])}function Jh(t){for(;null!==t&&!je(t);)t=t[gi];return t}function Jl(t,n,i,c,h){if(null!=c){let m,T=!1;je(c)?m=c:De(c)&&(T=!0,c=c[br]);const D=ai(c);0===t&&null!==i?null==h?tf(n,i,D):ll(n,i,D,h||null,!0):1===t&&null!==i?ll(n,i,D,h||null,!0):2===t?function bp(t,n,i){const c=Da(t,n);c&&function Lg(t,n,i,c){t.removeChild(n,i,c)}(t,c,n,i)}(n,D,T):3===t&&n.destroyNode(D),null!=m&&function lf(t,n,i,c,h){const m=i[ts];m!==ai(i)&&Jl(n,t,c,m,h);for(let D=Yr;D<i.length;D++){const O=i[D];Ju(O[Xt],O,t,n,c,m)}}(n,t,m,i,h)}}function Xh(t,n,i){return t.createElement(n,i)}function rh(t,n){const i=t[ao],c=i.indexOf(n);Dd(n),i.splice(c,1)}function Xl(t,n){if(t.length<=Yr)return;const i=Yr+n,c=t[i];if(c){const h=c[es];null!==h&&h!==t&&rh(h,c),n>0&&(t[i-1][gi]=c[gi]);const m=Hu(t,Yr+n);!function __(t,n){Ju(t,n,n[jn],2,null,null),n[br]=null,n[zr]=null}(c[Xt],c);const T=m[cs];null!==T&&T.detachView(m[Xt]),c[gr]=null,c[gi]=null,c[Ln]&=-129}return c}function ws(t,n){if(!(256&n[Ln])){const i=n[jn];n[ar]&&ac(n[ar]),n[Ms]&&ac(n[Ms]),i.destroyNode&&Ju(t,n,i,3,null,null),function Yu(t){let n=t[Zi];if(!n)return kg(t[Xt],t);for(;n;){let i=null;if(De(n))i=n[Zi];else{const c=n[Yr];c&&(i=c)}if(!i){for(;n&&!n[gi]&&n!==t;)De(n)&&kg(n[Xt],n),n=n[gr];null===n&&(n=t),De(n)&&kg(n[Xt],n),i=n&&n[gi]}n=i}}(n)}}function kg(t,n){if(!(256&n[Ln])){n[Ln]&=-129,n[Ln]|=256,function b_(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let c=0;c<i.length;c+=2){const h=n[i[c]];if(!(h instanceof Ga)){const m=i[c+1];if(Array.isArray(m))for(let T=0;T<m.length;T+=2){const D=h[m[T]],O=m[T+1];Yn(4,D,O);try{O.call(D)}finally{Yn(5,D,O)}}else{Yn(4,h,m);try{m.call(h)}finally{Yn(5,h,m)}}}}}(t,n),function Fg(t,n){const i=t.cleanup,c=n[ii];if(null!==i)for(let m=0;m<i.length-1;m+=2)if("string"==typeof i[m]){const T=i[m+3];T>=0?c[T]():c[-T].unsubscribe(),m+=2}else i[m].call(c[i[m+1]]);null!==c&&(n[ii]=null);const h=n[ls];if(null!==h){n[ls]=null;for(let m=0;m<h.length;m++)(0,h[m])()}}(t,n),1===n[Xt].type&&n[jn].destroy();const i=n[es];if(null!==i&&je(n[gr])){i!==n[gr]&&rh(i,n);const c=n[cs];null!==c&&c.detachView(t)}!function Fy(t){Rg.delete(t[Es])}(n)}}function ef(t,n,i){return function _p(t,n,i){let c=n;for(;null!==c&&40&c.type;)c=(n=c).parent;if(null===c)return i[br];{const{componentOffset:h}=c;if(h>-1){const{encapsulation:m}=t.data[c.directiveStart+h];if(m===ms.None||m===ms.Emulated)return null}return Ps(c,i)}}(t,n.parent,i)}function ll(t,n,i,c,h){t.insertBefore(n,i,c,h)}function tf(t,n,i){t.appendChild(n,i)}function nf(t,n,i,c,h){null!==c?ll(t,n,i,c,h):tf(t,n,i)}function Da(t,n){return t.parentNode(n)}function eu(t,n,i){return Vg(t,n,i)}let ih,Cp,wp,ul,Vg=function rf(t,n,i){return 40&t.type?Ps(t,i):null};function Ip(t,n,i,c){const h=ef(t,c,n),m=n[jn],D=eu(c.parent||n[zr],c,n);if(null!=h)if(Array.isArray(i))for(let O=0;O<i.length;O++)nf(m,h,i[O],D,!1);else nf(m,h,i,D,!1);void 0!==ih&&ih(m,c,n,i,h)}function Qu(t,n){if(null!==n){const i=n.type;if(3&i)return Ps(n,t);if(4&i)return sf(-1,t[n.index]);if(8&i){const c=n.child;if(null!==c)return Qu(t,c);{const h=t[n.index];return je(h)?sf(-1,h):ai(h)}}if(32&i)return Zu(n,t)()||ai(t[n.index]);{const c=T_(t,n);return null!==c?Array.isArray(c)?c[0]:Qu(Ku(t[Nn]),c):Qu(t,n.next)}}return null}function T_(t,n){return null!==n?t[Nn][zr].projection[n.projection]:null}function sf(t,n){const i=Yr+t+1;if(i<n.length){const c=n[i],h=c[Xt].firstChild;if(null!==h)return Qu(c,h)}return n[ts]}function af(t,n,i,c,h,m,T){for(;null!=i;){const D=c[i.index],O=i.type;if(T&&0===n&&(D&&Ni(ai(D),c),i.flags|=2),32!=(32&i.flags))if(8&O)af(t,n,i.child,c,h,m,!1),Jl(n,t,h,D,m);else if(32&O){const z=Zu(i,c);let re;for(;re=z();)Jl(n,t,h,re,m);Jl(n,t,h,D,m)}else 16&O?cf(t,n,c,i,h,m):Jl(n,t,h,D,m);i=T?i.projectionNext:i.next}}function Ju(t,n,i,c,h,m){af(i,c,t.firstChild,n,h,m,!1)}function cf(t,n,i,c,h,m){const T=i[Nn],O=T[zr].projection[c.projection];if(Array.isArray(O))for(let z=0;z<O.length;z++)Jl(n,t,h,O[z],m);else{let z=O;const re=T[gr];Yd(c)&&(z.flags|=128),af(t,n,z,re,h,m,!0)}}function Qa(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function uf(t,n,i){const{mergedAttrs:c,classes:h,styles:m}=i;null!==c&&Jo(t,n,c),null!==h&&Qa(t,n,h),null!==m&&function Ug(t,n,i){t.setAttribute(n,"style",i)}(t,n,m)}function sh(t){return function df(){if(void 0===Cp&&(Cp=null,Bn.trustedTypes))try{Cp=Bn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Cp}()?.createHTML(t)||t}function jg(t){wp=t}function w_(t){return function Ap(){if(void 0===ul&&(ul=null,Bn.trustedTypes))try{ul=Bn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ul}()?.createScriptURL(t)||t}class nu{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ke})`}}class $g extends nu{getTypeName(){return"HTML"}}class zg extends nu{getTypeName(){return"Style"}}class Dp extends nu{getTypeName(){return"Script"}}class ff extends nu{getTypeName(){return"URL"}}class Gg extends nu{getTypeName(){return"ResourceURL"}}function dl(t){return t instanceof nu?t.changingThisBreaksApplicationSecurity:t}function Ns(t,n){const i=function Ac(t){return t instanceof nu&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${Ke})`)}return i===n}function oh(t){return new $g(t)}function A_(t){return new zg(t)}function ah(t){return new Dp(t)}function Xu(t){return new ff(t)}function ru(t){return new Gg(t)}class Vy{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(sh(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class D_{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=sh(n),i}}const Sp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ch(t){return(t=String(t)).match(Sp)?t:"unsafe:"+t}function Ja(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function iu(...t){const n={};for(const i of t)for(const c in i)i.hasOwnProperty(c)&&(n[c]=!0);return n}const Mp=Ja("area,br,col,hr,img,wbr"),ed=Ja("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lh=Ja("rp,rt"),su=iu(Mp,iu(ed,Ja("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),iu(lh,Ja("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),iu(lh,ed)),Pp=Ja("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),td=iu(Pp,Ja("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ja("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ou=Ja("script,style,template");class P_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,c=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?c=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,c&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let h=this.checkClobberedElement(i,i.nextSibling);if(h){i=h;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!su.hasOwnProperty(i))return this.sanitizedSomething=!0,!ou.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const c=n.attributes;for(let h=0;h<c.length;h++){const m=c.item(h),T=m.name,D=T.toLowerCase();if(!td.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let O=m.value;Pp[D]&&(O=ch(O)),this.buf.push(" ",T,'="',da(O),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();su.hasOwnProperty(i)&&!Mp.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(da(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const By=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jy=/([^\#-~ |!])/g;function da(t){return t.replace(/&/g,"&amp;").replace(By,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(jy,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Rp;function Kg(t,n){let i=null;try{Rp=Rp||function qg(t){const n=new D_(t);return function Uy(){try{return!!(new window.DOMParser).parseFromString(sh(""),"text/html")}catch{return!1}}()?new Vy(n):n}(t);let c=n?String(n):"";i=Rp.getInertBodyElement(c);let h=5,m=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=m,m=i.innerHTML,i=Rp.getInertBodyElement(c)}while(c!==m);return sh((new P_).sanitizeChildren(Yg(i)||i))}finally{if(i){const c=Yg(i)||i;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Yg(t){return"content"in t&&function Hy(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var au=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(au||{});function Qg(t){const n=vr();return n?n.sanitize(au.URL,t)||"":Ns(t,"URL")?dl(t):ch(He(t))}function Jg(t){const n=vr();if(n)return w_(n.sanitize(au.RESOURCE_URL,t)||"");if(Ns(t,"ResourceURL"))return w_(dl(t));throw new ze(904,!1)}function pf(t,n,i){return function em(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Jg:Qg}(n,i)(t)}function vr(){const t=Ot();return t&&t[vs].sanitizer}const uh=new sn("ENVIRONMENT_INITIALIZER"),nm=new sn("INJECTOR",-1),rd=new sn("INJECTOR_DEF_TYPES");class xp{get(n,i=Sn){if(i===Sn){const c=new Error(`NullInjectorError: No provider for ${Oe(n)}!`);throw c.name="NullInjectorError",c}return i}}function Ji(...t){return{\u0275providers:Xa(0,t),\u0275fromNgModule:!0}}function Xa(t,...n){const i=[],c=new Set;let h;const m=T=>{i.push(T)};return yc(n,T=>{const D=T;Op(D,m,[],c)&&(h||=[],h.push(D))}),void 0!==h&&rm(h,m),i}function rm(t,n){for(let i=0;i<t.length;i++){const{ngModule:c,providers:h}=t[i];Np(h,m=>{n(m,c)})}}function Op(t,n,i,c){if(!(t=mt(t)))return!1;let h=null,m=li(t);const T=!m&&Mn(t);if(m||T){if(T&&!T.standalone)return!1;h=t}else{const O=t.ngModule;if(m=li(O),!m)return!1;h=O}const D=c.has(h);if(T){if(D)return!1;if(c.add(h),T.dependencies){const O="function"==typeof T.dependencies?T.dependencies():T.dependencies;for(const z of O)Op(z,n,i,c)}}else{if(!m)return!1;{if(null!=m.imports&&!D){let z;c.add(h);try{yc(m.imports,re=>{Op(re,n,i,c)&&(z||=[],z.push(re))})}finally{}void 0!==z&&rm(z,n)}if(!D){const z=Qs(h)||(()=>new h);n({provide:h,useFactory:z,deps:pr},h),n({provide:rd,useValue:h,multi:!0},h),n({provide:uh,useValue:()=>Rt(h),multi:!0},h)}const O=m.providers;if(null!=O&&!D){const z=t;Np(O,re=>{n(re,z)})}}}return h!==t&&void 0!==t.providers}function Np(t,n){for(let i of t)_t(i)&&(i=i.\u0275providers),Array.isArray(i)?Np(i,n):n(i)}const kp=fe({provide:String,useValue:fe});function Fp(t){return null!==t&&"object"==typeof t&&kp in t}function dh(t){return"function"==typeof t}const N_=new sn("Set Injector scope."),Lp={},zi={};let Vp;function Up(){return void 0===Vp&&(Vp=new xp),Vp}class Dc{}class cu extends Dc{get destroyed(){return this._destroyed}constructor(n,i,c,h){super(),this.parent=i,this.source=c,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,lu(n,T=>this.processProvider(T)),this.records.set(nm,Bp(void 0,this)),h.has("environment")&&this.records.set(Dc,Bp(void 0,this));const m=this.records.get(N_);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(rd.multi,pr,vn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=Fe(this),c=kr(void 0);try{return n()}finally{Fe(i),kr(c)}}get(n,i=Sn,c=vn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Qo))return n[Qo](this);c=an(c);const m=Fe(this),T=kr(void 0);try{if(!(c&vn.SkipSelf)){let O=this.records.get(n);if(void 0===O){const z=function gf(t){return"function"==typeof t||"object"==typeof t&&t instanceof sn}(n)&&fn(n);O=z&&this.injectableDefInScope(z)?Bp(om(n),Lp):null,this.records.set(n,O)}if(null!=O)return this.hydrate(n,O)}return(c&vn.Self?Up():this.parent).get(n,i=c&vn.Optional&&i===Sn?null:i)}catch(D){if("NullInjectorError"===D.name){if((D[Ft]=D[Ft]||[]).unshift(Oe(n)),m)throw D;return function Ds(t,n,i,c){const h=t[Ft];throw n[B]&&h.unshift(n[B]),t.message=function To(t,n,i,c=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let h=Oe(n);if(Array.isArray(n))h=n.map(Oe).join(" -> ");else if("object"==typeof n){let m=[];for(let T in n)if(n.hasOwnProperty(T)){let D=n[T];m.push(T+":"+("string"==typeof D?JSON.stringify(D):Oe(D)))}h=`{${m.join(", ")}}`}return`${i}${c?"("+c+")":""}[${h}]: ${t.replace(X,"\n  ")}`}("\n"+t.message,h,i,c),t.ngTokenPath=h,t[Ft]=null,t}(D,n,"R3InjectorError",this.source)}throw D}finally{kr(T),Fe(m)}}resolveInjectorInitializers(){const n=Fe(this),i=kr(void 0);try{const h=this.get(uh.multi,pr,vn.Self);for(const m of h)m()}finally{Fe(n),kr(i)}}toString(){const n=[],i=this.records;for(const c of i.keys())n.push(Oe(c));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ze(205,!1)}processProvider(n){let i=dh(n=mt(n))?n:mt(n&&n.provide);const c=function k_(t){return Fp(t)?Bp(void 0,t.useValue):Bp(qy(t),Lp)}(n);if(dh(n)||!0!==n.multi)this.records.get(i);else{let h=this.records.get(i);h||(h=Bp(void 0,Lp,!0),h.factory=()=>Jn(h.multi),this.records.set(i,h)),i=n,h.multi.push(n)}this.records.set(i,c)}hydrate(n,i){return i.value===Lp&&(i.value=zi,i.value=i.factory()),"object"==typeof i.value&&i.value&&function Zy(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=mt(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function om(t){const n=fn(t),i=null!==n?n.factory:Qs(t);if(null!==i)return i;if(t instanceof sn)throw new ze(204,!1);if(t instanceof Function)return function Gy(t){const n=t.length;if(n>0)throw $l(n,"?"),new ze(204,!1);const i=function Zt(t){return t&&(t[wn]||t[Hn])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new ze(204,!1)}function qy(t,n,i){let c;if(dh(t)){const h=mt(t);return Qs(h)||om(h)}if(Fp(t))c=()=>mt(t.useValue);else if(function zy(t){return!(!t||!t.useFactory)}(t))c=()=>t.useFactory(...Jn(t.deps||[]));else if(function sm(t){return!(!t||!t.useExisting)}(t))c=()=>Rt(mt(t.useExisting));else{const h=mt(t&&(t.useClass||t.provide));if(!function Wy(t){return!!t.deps}(t))return Qs(h)||om(h);c=()=>new h(...Jn(t.deps))}return c}function Bp(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function lu(t,n){for(const i of t)Array.isArray(i)?lu(i,n):i&&_t(i)?lu(i.\u0275providers,n):n(i)}const am=new sn("AppId",{providedIn:"root",factory:()=>yo}),yo="ng",Sc=new sn("Platform Initializer"),cm=new sn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),jp=new sn("AnimationModuleType"),Ky=new sn("CSP nonce",{providedIn:"root",factory:()=>function As(){if(void 0!==wp)return wp;if(typeof document<"u")return document;throw new ze(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ph=(t,n,i)=>null;function gh(t,n,i=!1){return ph(t,n,i)}class Qv{}class tv{}class nv{resolveComponentFactory(n){throw function fm(t){const n=Error(`No component factory found for ${Oe(t)}.`);return n.ngComponent=t,n}(n)}}let Gp=(()=>{class t{static#e=this.NULL=new nv}return t})();function qp(){return yh(hs(),Ot())}function yh(t,n){return new If(Ps(t,n))}let If=(()=>{class t{constructor(i){this.nativeElement=i}static#e=this.__NG_ELEMENT_ID__=qp}return t})();function Wp(t){return t instanceof If?t.nativeElement:t}class B_{}let j_=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function bf(){const t=Ot(),i=Rs(hs().index,t);return(De(i)?i:t)[jn]}()}return t})(),H_=(()=>{class t{static#e=this.\u0275prov=gn({token:t,providedIn:"root",factory:()=>null})}return t})();class Zp{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const $_=new Zp("16.2.12"),gm={};function vo(t,n=null,i=null,c){const h=sv(t,n,i,c);return h.resolveInjectorInitializers(),h}function sv(t,n=null,i=null,c,h=new Set){const m=[i||pr,Ji(t)];return c=c||("object"==typeof t?void 0:Oe(t)),new cu(m,n||Up(),c||null,h)}let Pc=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Sn;static#t=this.NULL=new xp;static create(i,c){if(Array.isArray(i))return vo({name:""},c,i,"");{const h=i.name??"";return vo({name:h},i.parent,i.providers,h)}}static#n=this.\u0275prov=gn({token:t,providedIn:"any",factory:()=>Rt(nm)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Yp(t){return t.ngOriginalError}class ld{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&Yp(n);for(;i&&Yp(i);)i=Yp(i);return i||null}}function W_(t){return n=>{setTimeout(t,void 0,n)}}const fl=class nE extends g.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,c){let h=n,m=i||(()=>null),T=c;if(n&&"object"==typeof n){const O=n;h=O.next?.bind(O),m=O.error?.bind(O),T=O.complete?.bind(O)}this.__isAsync&&(m=W_(m),h&&(h=W_(h)),T&&(T=W_(T)));const D=super.subscribe({next:h,error:m,complete:T});return n instanceof u.w0&&n.add(D),D}};function av(...t){}class ki{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fl(!1),this.onMicrotaskEmpty=new fl(!1),this.onStable=new fl(!1),this.onError=new fl(!1),typeof Zone>"u")throw new ze(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&i,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Cf(){const t="function"==typeof Bn.requestAnimationFrame;let n=Bn[t?"requestAnimationFrame":"setTimeout"],i=Bn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const c=n[Zone.__symbol__("OriginalDelegate")];c&&(n=c);const h=i[Zone.__symbol__("OriginalDelegate")];h&&(i=h)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function uv(t){const n=()=>{!function lv(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Bn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,_m(t),t.isCheckStableRunning=!0,mm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),_m(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,c,h,m,T,D)=>{if(function iE(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(D))return i.invokeTask(h,m,T,D);try{return K_(t),i.invokeTask(h,m,T,D)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||t.shouldCoalesceRunChangeDetection)&&n(),Y_(t)}},onInvoke:(i,c,h,m,T,D,O)=>{try{return K_(t),i.invoke(h,m,T,D,O)}finally{t.shouldCoalesceRunChangeDetection&&n(),Y_(t)}},onHasTask:(i,c,h,m)=>{i.hasTask(h,m),c===h&&("microTask"==m.change?(t._hasPendingMicrotasks=m.microTask,_m(t),mm(t)):"macroTask"==m.change&&(t.hasPendingMacrotasks=m.macroTask))},onHandleError:(i,c,h,m)=>(i.handleError(h,m),t.runOutsideAngular(()=>t.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ki.isInAngularZone())throw new ze(909,!1)}static assertNotInAngularZone(){if(ki.isInAngularZone())throw new ze(909,!1)}run(n,i,c){return this._inner.run(n,i,c)}runTask(n,i,c,h){const m=this._inner,T=m.scheduleEventTask("NgZoneEvent: "+h,n,Z_,av,av);try{return m.runTask(T,i,c)}finally{m.cancelTask(T)}}runGuarded(n,i,c){return this._inner.runGuarded(n,i,c)}runOutsideAngular(n){return this._outer.run(n)}}const Z_={};function mm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function _m(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function K_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Y_(t){t._nesting--,mm(t)}class rE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fl,this.onMicrotaskEmpty=new fl,this.onStable=new fl,this.onError=new fl}run(n,i,c){return n.apply(i,c)}runGuarded(n,i,c){return n.apply(i,c)}runOutsideAngular(n){return n()}runTask(n,i,c,h){return n.apply(i,c)}}const dv=new sn("",{providedIn:"root",factory:hv});function hv(){const t=nn(ki);let n=!0;const i=new K.y(h=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{h.next(n),h.complete()})}),c=new K.y(h=>{let m;t.runOutsideAngular(()=>{m=t.onStable.subscribe(()=>{ki.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,h.next(!0))})})});const T=t.onUnstable.subscribe(()=>{ki.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{h.next(!1)}))});return()=>{m.unsubscribe(),T.unsubscribe()}});return(0,Ie.T)(i,c.pipe((0,me.B)()))}function pl(t){return t instanceof Function?t():t}let ym=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=gn({token:t,providedIn:"root",factory:()=>new t})}return t})();function Af(t){for(;t;){t[Ln]|=64;const n=Ku(t);if(Wn(t)&&!n)return t;t=n}return null}const gv=new sn("",{providedIn:"root",factory:()=>!1});let ha=null;function vh(t,n){return t[n]??s()}function l(t,n){const i=s();i.producerNode?.length&&(t[n]=ha,i.lView=t,ha=r())}const e={...Ru,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Af(t.lView)},lView:null};function r(){return Object.create(e)}function s(){return ha??=r(),ha}const d={};function y(t){b(Sr(),Ot(),$s()+t,!1)}function b(t,n,i,c){if(!c)if(3==(3&n[Ln])){const m=t.preOrderCheckHooks;null!==m&&Ca(n,m,i)}else{const m=t.preOrderHooks;null!==m&&wa(n,m,0,i)}Ia(i)}function R(t,n=vn.Default){const i=Ot();return null===i?Rt(t,n):qa(hs(),i,mt(t),n)}function F(){throw new Error("invalid")}function ie(t,n,i,c,h,m,T,D,O,z,re){const be=n.blueprint.slice();return be[br]=h,be[Ln]=140|c,(null!==z||t&&2048&t[Ln])&&(be[Ln]|=2048),Uo(be),be[gr]=be[mi]=t,be[rr]=i,be[vs]=T||t&&t[vs],be[jn]=D||t&&t[jn],be[Wi]=O||t&&t[Wi]||null,be[zr]=m,be[Es]=function p_(){return f_++}(),be[Kn]=re,be[ka]=z,be[Nn]=2==n.type?t[Nn]:be,be}function ye(t,n,i,c,h){let m=t.data[n];if(null===m)m=function ke(t,n,i,c,h){const m=Hi(),T=Yc(),O=t.data[n]=function Je(t,n,i,c,h,m){let T=n?n.injectorIndex:-1,D=0;return $a()&&(D|=128),{type:i,index:c,insertBeforeIndex:null,injectorIndex:T,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:D,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?m:m&&m.parent,i,n,c,h);return null===t.firstChild&&(t.firstChild=O),null!==m&&(T?null==m.child&&null!==O.parent&&(m.child=O):null===m.next&&(m.next=O,O.prev=m)),O}(t,n,i,c,h),function N(){return Xn.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=i,m.value=c,m.attrs=h;const T=function Pl(){const t=Xn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();m.injectorIndex=null===T?-1:T.injectorIndex}return bs(m,!0),m}function ot(t,n,i,c){if(0===i)return-1;const h=n.length;for(let m=0;m<i;m++)n.push(c),t.blueprint.push(c),t.data.push(null);return h}function xt(t,n,i,c,h){const m=vh(n,ar),T=$s(),D=2&c;try{Ia(-1),D&&n.length>ir&&b(t,n,ir,!1),Yn(D?2:0,h);const z=D?m:null,re=sr(z);try{null!==z&&(z.dirty=!1),i(c,h)}finally{zc(z,re)}}finally{D&&null===n[ar]&&l(n,ar),Ia(T),Yn(D?3:1,h)}}function Yt(t,n,i){if(St(n)){const c=ji(null);try{const m=n.directiveEnd;for(let T=n.directiveStart;T<m;T++){const D=t.data[T];D.contentQueries&&D.contentQueries(1,i[T],T)}}finally{ji(c)}}}function Vt(t,n,i){bi()&&(function vm(t,n,i,c){const h=i.directiveStart,m=i.directiveEnd;Ut(i)&&function No(t,n,i){const c=Ps(n,t),h=$n(i);let T=16;i.signals?T=4096:i.onPush&&(T=64);const D=yl(t,ie(t,h,null,T,c,n,null,t[vs].rendererFactory.createRenderer(c,i),null,null,null));t[n.index]=D}(n,i,t.data[h+i.componentOffset]),t.firstCreatePass||Ll(i,n),Ni(c,n);const T=i.initialInputs;for(let D=h;D<m;D++){const O=t.data[D],z=Ul(n,t,D,i);Ni(z,n),null!==T&&Iv(0,D-h,z,O,0,T),mn(O)&&(Rs(i.index,n)[rr]=Ul(n,t,D,i))}}(t,n,i,Ps(i,n)),64==(64&i.flags)&&dd(t,n,i))}function Tn(t,n,i=Ps){const c=n.localNames;if(null!==c){let h=n.index+1;for(let m=0;m<c.length;m+=2){const T=c[m+1],D=-1===T?i(n,t):t[T];t[h++]=D}}}function $n(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Rn(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Rn(t,n,i,c,h,m,T,D,O,z,re){const be=ir+c,Ge=be+h,nt=function mr(t,n){const i=[];for(let c=0;c<n;c++)i.push(c<t?null:d);return i}(be,Ge),Pt="function"==typeof z?z():z;return nt[Xt]={type:t,blueprint:nt,template:i,queries:null,viewQuery:D,declTNode:n,data:nt.slice().fill(null,be),bindingStartIndex:be,expandoStartIndex:Ge,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:O,consts:Pt,incompleteFirstPass:!1,ssrId:re}}let We=t=>null;function lt(t,n,i,c){for(let h in t)if(t.hasOwnProperty(h)){i=null===i?{}:i;const m=t[h];null===c?Le(i,n,h,m):c.hasOwnProperty(h)&&Le(i,n,c[h],m)}return i}function Le(t,n,i,c){t.hasOwnProperty(i)?t[i].push(n,c):t[i]=[n,c]}function Go(t,n,i,c,h,m,T,D){const O=Ps(n,i);let re,z=n.inputs;!D&&null!=z&&(re=z[c])?(Ws(t,i,re,c,h),Ut(n)&&function Df(t,n){const i=Rs(n,t);16&i[Ln]||(i[Ln]|=64)}(i,n.index)):3&n.type&&(c=function ml(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(c),h=null!=T?T(h,n.value||"",c):h,m.setProperty(O,c,h))}function fa(t,n,i,c){if(bi()){const h=null===c?null:{"":-1},m=function _u(t,n){const i=t.directiveRegistry;let c=null,h=null;if(i)for(let m=0;m<i.length;m++){const T=i[m];if(Br(n,T.selectors,!1))if(c||(c=[]),mn(T))if(null!==T.findHostDirectiveDefs){const D=[];h=h||new Map,T.findHostDirectiveDefs(T,D,h),c.unshift(...D,T),Em(t,n,D.length)}else c.unshift(T),Em(t,n,0);else h=h||new Map,T.findHostDirectiveDefs?.(T,c,h),c.push(T)}return null===c?null:[c,h]}(t,i);let T,D;null===m?T=D=null:[T,D]=m,null!==T&&mu(t,n,i,T,h,D),h&&function Im(t,n,i){if(n){const c=t.localNames=[];for(let h=0;h<n.length;h+=2){const m=i[n[h+1]];if(null==m)throw new ze(-301,!1);c.push(n[h],m)}}}(i,c,h)}i.mergedAttrs=fr(i.mergedAttrs,i.attrs)}function mu(t,n,i,c,h,m){for(let z=0;z<c.length;z++)mc(Ll(i,n),t,c[z].type);!function Jp(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,c.length);for(let z=0;z<c.length;z++){const re=c[z];re.providersResolver&&re.providersResolver(re)}let T=!1,D=!1,O=ot(t,n,c.length,null);for(let z=0;z<c.length;z++){const re=c[z];i.mergedAttrs=fr(i.mergedAttrs,re.hostAttrs),Tm(t,i,n,O,re),bm(O,re,h),null!==re.contentQueries&&(i.flags|=4),(null!==re.hostBindings||null!==re.hostAttrs||0!==re.hostVars)&&(i.flags|=64);const be=re.type.prototype;!T&&(be.ngOnChanges||be.ngOnInit||be.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),T=!0),!D&&(be.ngOnChanges||be.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),D=!0),O++}!function gl(t,n,i){const h=n.directiveEnd,m=t.data,T=n.attrs,D=[];let O=null,z=null;for(let re=n.directiveStart;re<h;re++){const be=m[re],Ge=i?i.get(be):null,Pt=Ge?Ge.outputs:null;O=lt(be.inputs,re,O,Ge?Ge.inputs:null),z=lt(be.outputs,re,z,Pt);const Wt=null===O||null===T||Pr(n)?null:uE(O,re,T);D.push(Wt)}null!==O&&(O.hasOwnProperty("class")&&(n.flags|=8),O.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=D,n.inputs=O,n.outputs=z}(t,i,m)}function dd(t,n,i){const c=i.directiveStart,h=i.directiveEnd,m=i.index,T=function G(){return Xn.lFrame.currentDirectiveIndex}();try{Ia(m);for(let D=c;D<h;D++){const O=t.data[D],z=n[D];ae(D),(null!==O.hostBindings||0!==O.hostVars||null!==O.hostAttrs)&&Sf(O,z)}}finally{Ia(-1),ae(T)}}function Sf(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Em(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function bm(t,n,i){if(i){if(n.exportAs)for(let c=0;c<n.exportAs.length;c++)i[n.exportAs[c]]=t;mn(n)&&(i[""]=t)}}function Tm(t,n,i,c,h){t.data[c]=h;const m=h.factory||(h.factory=Qs(h.type)),T=new Ga(m,mn(h),R);t.blueprint[c]=T,i[c]=T,function Ma(t,n,i,c,h){const m=h.hostBindings;if(m){let T=t.hostBindingOpCodes;null===T&&(T=t.hostBindingOpCodes=[]);const D=~n.index;(function Eo(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(T)!=D&&T.push(D),T.push(i,c,m)}}(t,n,c,ot(t,i,h.hostVars,d),h)}function pa(t,n,i,c,h,m){const T=Ps(t,n);!function Xp(t,n,i,c,h,m,T){if(null==m)t.removeAttribute(n,h,i);else{const D=null==T?He(m):T(m,c||"",h);t.setAttribute(n,h,D,i)}}(n[jn],T,m,t.value,i,c,h)}function Iv(t,n,i,c,h,m){const T=m[n];if(null!==T)for(let D=0;D<T.length;)ny(c,i,T[D++],T[D++],T[D++])}function ny(t,n,i,c,h){const m=ji(null);try{const T=t.inputTransforms;null!==T&&T.hasOwnProperty(c)&&(h=T[c].call(n,h)),null!==t.setInput?t.setInput(n,h,i,c):n[c]=h}finally{ji(m)}}function uE(t,n,i){let c=null,h=0;for(;h<i.length;){const m=i[h];if(0!==m)if(5!==m){if("number"==typeof m)break;if(t.hasOwnProperty(m)){null===c&&(c=[]);const T=t[m];for(let D=0;D<T.length;D+=2)if(T[D]===n){c.push(m,T[D+1],i[h+1]);break}}h+=2}else h+=2;else h+=4}return c}function ry(t,n,i,c){return[t,!0,!1,n,null,0,c,i,null,null,null]}function iy(t,n){const i=t.contentQueries;if(null!==i)for(let c=0;c<i.length;c+=2){const m=i[c+1];if(-1!==m){const T=t.data[m];dt(i[c]),T.contentQueries(2,n[m],m)}}}function yl(t,n){return t[Zi]?t[or][gi]=n:t[Zi]=n,t[or]=n,n}function eg(t,n,i){dt(0);const c=ji(null);try{n(t,i)}finally{ji(c)}}function tg(t){return t[ii]||(t[ii]=[])}function hd(t){return t.cleanup||(t.cleanup=[])}function qs(t,n){const i=t[Wi],c=i?i.get(ld,null):null;c&&c.handleError(n)}function Ws(t,n,i,c,h){for(let m=0;m<i.length;){const T=i[m++],D=i[m++];ny(t.data[T],n[T],c,D,h)}}function Pa(t,n,i){const c=Vo(n,t);!function m_(t,n,i){t.setValue(n,i)}(t[jn],c,i)}function ng(t,n){const i=Rs(n,t),c=i[Xt];!function Cm(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(c,i);const h=i[br];null!==h&&null===i[Kn]&&(i[Kn]=gh(h,i[Wi])),wm(c,i,i[rr])}function wm(t,n,i){qr(n);try{const c=t.viewQuery;null!==c&&eg(1,c,i);const h=t.template;null!==h&&xt(t,n,h,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&iy(t,n),t.staticViewQueries&&eg(2,t.viewQuery,i);const m=t.components;null!==m&&function Mf(t,n){for(let i=0;i<n.length;i++)ng(t,n[i])}(n,m)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{n[Ln]&=-5,pc()}}let Am=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,c,h){const m=typeof Zone>"u"?null:Zone.current,T=function Mt(t,n,i){const c=Object.create(wr);i&&(c.consumerAllowSignalWrites=!0),c.fn=t,c.schedule=n;const h=T=>{c.cleanupFn=T};return c.ref={notify:()=>Va(c),run:()=>{if(c.dirty=!1,c.hasRun&&!Gc(c))return;c.hasRun=!0;const T=sr(c);try{c.cleanupFn(),c.cleanupFn=yn,c.fn(h)}finally{zc(c,T)}},cleanup:()=>c.cleanupFn()},c.ref}(i,z=>{this.all.has(z)&&this.queue.set(z,m)},h);let D;this.all.add(T),T.notify();const O=()=>{T.cleanup(),D?.(),this.all.delete(T),this.queue.delete(T)};return D=c?.onDestroy(O),{destroy:O}}flush(){if(0!==this.queue.size)for(const[i,c]of this.queue)this.queue.delete(i),c?c.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=gn({token:t,providedIn:"root",factory:()=>new t})}return t})();function Ih(t,n,i){let c=i?t.styles:null,h=i?t.classes:null,m=0;if(null!==n)for(let T=0;T<n.length;T++){const D=n[T];"number"==typeof D?m=D:1==m?h=pt(h,D):2==m&&(c=pt(c,D+": "+n[++T]+";"))}i?t.styles=c:t.stylesWithoutHost=c,i?t.classes=h:t.classesWithoutHost=h}function Pf(t,n,i,c,h=!1){for(;null!==i;){const m=n[i.index];null!==m&&c.push(ai(m)),je(m)&&yu(m,c);const T=i.type;if(8&T)Pf(t,n,i.child,c);else if(32&T){const D=Zu(i,n);let O;for(;O=D();)c.push(O)}else if(16&T){const D=T_(n,i);if(Array.isArray(D))c.push(...D);else{const O=Ku(n[Nn]);Pf(O[Xt],O,D,c,!0)}}i=h?i.projectionNext:i.next}return c}function yu(t,n){for(let i=Yr;i<t.length;i++){const c=t[i],h=c[Xt].firstChild;null!==h&&Pf(c[Xt],c,h,n)}t[ts]!==t[br]&&n.push(t[ts])}function vu(t,n,i,c=!0){const h=n[vs],m=h.rendererFactory,T=h.afterRenderEventManager;m.begin?.(),T?.begin();try{bh(t,n,t.template,i)}catch(O){throw c&&qs(n,O),O}finally{m.end?.(),h.effectManager?.flush(),T?.end()}}function bh(t,n,i,c){const h=n[Ln];if(256!=(256&h)){n[vs].effectManager?.flush(),qr(n);try{Uo(n),function Nd(t){return Xn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&xt(t,n,i,2,c);const T=3==(3&h);if(T){const z=t.preOrderCheckHooks;null!==z&&Ca(n,z,null)}else{const z=t.preOrderHooks;null!==z&&wa(n,z,0,null),Mo(n,0)}if(function Sm(t){for(let n=g_(t);null!==n;n=gp(n)){if(!n[xi])continue;const i=n[ao];for(let c=0;c<i.length;c++){Bo(i[c])}}}(n),rg(n,2),null!==t.contentQueries&&iy(t,n),T){const z=t.contentCheckHooks;null!==z&&Ca(n,z)}else{const z=t.contentHooks;null!==z&&wa(n,z,1),Mo(n,1)}!function Y(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const c=vh(n,Ms);try{for(let h=0;h<i.length;h++){const m=i[h];if(m<0)Ia(~m);else{const T=m,D=i[++h],O=i[++h];k(D,T),c.dirty=!1;const z=sr(c);try{O(2,n[T])}finally{zc(c,z)}}}}finally{null===n[Ms]&&l(n,Ms),Ia(-1)}}(t,n);const D=t.components;null!==D&&gd(n,D,0);const O=t.viewQuery;if(null!==O&&eg(2,O,c),T){const z=t.viewCheckHooks;null!==z&&Ca(n,z)}else{const z=t.viewHooks;null!==z&&wa(n,z,2),Mo(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Ln]&=-73,Dd(n)}finally{pc()}}}function rg(t,n){for(let i=g_(t);null!==i;i=gp(i))for(let c=Yr;c<i.length;c++)Mm(i[c],n)}function pd(t,n,i){Mm(Rs(n,t),i)}function Mm(t,n){if(!function dc(t){return 128==(128&t[Ln])}(t))return;const i=t[Xt],c=t[Ln];if(80&c&&0===n||1024&c||2===n)bh(i,t,i.template,t[rr]);else if(t[ys]>0){rg(t,1);const h=i.components;null!==h&&gd(t,h,1)}}function gd(t,n,i){for(let c=0;c<n.length;c++)pd(t,n[c],i)}class Th{get rootNodes(){const n=this._lView,i=n[Xt];return Pf(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[rr]}set context(n){this._lView[rr]=n}get destroyed(){return 256==(256&this._lView[Ln])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[gr];if(je(n)){const i=n[8],c=i?i.indexOf(this):-1;c>-1&&(Xl(n,c),Hu(i,c))}this._attachedToViewContainer=!1}ws(this._lView[Xt],this._lView)}onDestroy(n){!function Jf(t,n){if(256==(256&t[Ln]))throw new ze(911,!1);null===t[ls]&&(t[ls]=[]),t[ls].push(n)}(this._lView,n)}markForCheck(){Af(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ln]&=-129}reattach(){this._lView[Ln]|=128}detectChanges(){vu(this._lView[Xt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function v_(t,n){Ju(t,n,n[jn],2,null,null)}(this._lView[Xt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new ze(902,!1);this._appRef=n}}class Eu extends Th{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;vu(n[Xt],n,n[rr],!1)}checkNoChanges(){}get context(){return null}}class xf extends Gp{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Mn(n);return new vl(i,this.ngModule)}}function ks(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class Ch{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,c){c=an(c);const h=this.injector.get(n,gm,c);return h!==gm||i===gm?h:this.parentInjector.get(n,i,c)}}class vl extends tv{get inputs(){const n=this.componentDef,i=n.inputTransforms,c=ks(n.inputs);if(null!==i)for(const h of c)i.hasOwnProperty(h.propName)&&(h.transform=i[h.propName]);return c}get outputs(){return ks(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Gi(t){return t.map(Ii).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,c,h){let m=(h=h||this.ngModule)instanceof Dc?h:h?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const T=m?new Ch(n,m):n,D=T.get(B_,null);if(null===D)throw new ze(407,!1);const be={rendererFactory:D,sanitizer:T.get(H_,null),effectManager:T.get(Am,null),afterRenderEventManager:T.get(ym,null)},Ge=D.createRenderer(null,this.componentDef),nt=this.componentDef.selectors[0][0]||"div",Pt=c?function Wr(t,n,i,c){const m=c.get(gv,!1)||i===ms.ShadowDom,T=t.selectRootElement(n,m);return function Er(t){We(t)}(T),T}(Ge,c,this.componentDef.encapsulation,T):Xh(Ge,nt,function oy(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(nt)),Zn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Bt=null;null!==Pt&&(Bt=gh(Pt,T,!0));const Ir=Rn(0,null,null,1,0,null,null,null,null,null,null),Vr=ie(null,Ir,null,Zn,null,null,be,Ge,T,null,Bt);let Fi,Bc;qr(Vr);try{const Qf=this.componentDef;let Ry,DI=null;Qf.findHostDirectiveDefs?(Ry=[],DI=new Map,Qf.findHostDirectiveDefs(Qf,Ry,DI),Ry.push(Qf)):Ry=[Qf];const iD=function Pm(t,n){const i=t[Xt],c=ir;return t[c]=n,ye(i,c,2,"#host",null)}(Vr,Pt),sD=function Of(t,n,i,c,h,m,T){const D=h[Xt];!function bv(t,n,i,c){for(const h of t)n.mergedAttrs=fr(n.mergedAttrs,h.hostAttrs);null!==n.mergedAttrs&&(Ih(n,n.mergedAttrs,!0),null!==i&&uf(c,i,n))}(c,t,n,T);let O=null;null!==n&&(O=gh(n,h[Wi]));const z=m.rendererFactory.createRenderer(n,i);let re=16;i.signals?re=4096:i.onPush&&(re=64);const be=ie(h,$n(i),null,re,h[t.index],t,m,z,null,null,O);return D.firstCreatePass&&Em(D,t,c.length-1),yl(h,be),h[t.index]=be}(iD,Pt,Qf,Ry,Vr,be,Ge);Bc=Ml(Ir,ir),Pt&&function Nf(t,n,i,c){if(c)Jo(t,i,["ng-version",$_.full]);else{const{attrs:h,classes:m}=function wo(t){const n=[],i=[];let c=1,h=2;for(;c<t.length;){let m=t[c];if("string"==typeof m)2===h?""!==m&&n.push(m,t[++c]):8===h&&i.push(m);else{if(!Si(h))break;h=m}c++}return{attrs:n,classes:i}}(n.selectors[0]);h&&Jo(t,i,h),m&&m.length>0&&Qa(t,i,m.join(" "))}}(Ge,Qf,Pt,c),void 0!==i&&function ig(t,n,i){const c=t.projection=[];for(let h=0;h<n.length;h++){const m=i[h];c.push(null!=m?Array.from(m):null)}}(Bc,this.ngContentSelectors,i),Fi=function Tv(t,n,i,c,h,m){const T=hs(),D=h[Xt],O=Ps(T,h);mu(D,h,T,i,null,c);for(let re=0;re<i.length;re++)Ni(Ul(h,D,T.directiveStart+re,T),h);dd(D,h,T),O&&Ni(O,h);const z=Ul(h,D,T.directiveStart+T.componentOffset,T);if(t[rr]=h[rr]=z,null!==m)for(const re of m)re(z,n);return Yt(D,T,t),z}(sD,Qf,Ry,DI,Vr,[sg]),wm(Ir,Vr,null)}finally{pc()}return new hE(this.componentType,Fi,yh(Bc,Vr),Vr,Bc)}}class hE extends Qv{constructor(n,i,c,h,m){super(),this.location=c,this._rootLView=h,this._tNode=m,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new Eu(h),this.componentType=n}setInput(n,i){const c=this._tNode.inputs;let h;if(null!==c&&(h=c[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const m=this._rootLView;Ws(m[Xt],m,h,n,i),this.previousInputValues.set(n,i),Af(Rs(this._tNode.index,m))}}get injector(){return new Cs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function sg(){const t=hs();xh(Ot()[Xt],t)}function Rc(t){let n=function og(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const c=[t];for(;n;){let h;if(mn(t))h=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new ze(903,!1);h=n.\u0275dir}if(h){if(i){c.push(h);const T=t;T.inputs=kf(t.inputs),T.inputTransforms=kf(t.inputTransforms),T.declaredInputs=kf(t.declaredInputs),T.outputs=kf(t.outputs);const D=h.hostBindings;D&&cy(t,D);const O=h.viewQuery,z=h.contentQueries;if(O&&Rm(t,O),z&&xm(t,z),ve(t.inputs,h.inputs),ve(t.declaredInputs,h.declaredInputs),ve(t.outputs,h.outputs),null!==h.inputTransforms&&(null===T.inputTransforms&&(T.inputTransforms={}),ve(T.inputTransforms,h.inputTransforms)),mn(h)&&h.data.animation){const re=t.data;re.animation=(re.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let T=0;T<m.length;T++){const D=m[T];D&&D.ngInherit&&D(t),D===Rc&&(i=!1)}}n=Object.getPrototypeOf(n)}!function ay(t){let n=0,i=null;for(let c=t.length-1;c>=0;c--){const h=t[c];h.hostVars=n+=h.hostVars,h.hostAttrs=fr(h.hostAttrs,i=fr(i,h.hostAttrs))}}(c)}function kf(t){return t===Li?{}:t===pr?[]:t}function Rm(t,n){const i=t.viewQuery;t.viewQuery=i?(c,h)=>{n(c,h),i(c,h)}:n}function xm(t,n){const i=t.contentQueries;t.contentQueries=i?(c,h,m)=>{n(c,h,m),i(c,h,m)}:n}function cy(t,n){const i=t.hostBindings;t.hostBindings=i?(c,h)=>{n(c,h),i(c,h)}:n}function km(t){const n=t.inputConfig,i={};for(const c in n)if(n.hasOwnProperty(c)){const h=n[c];Array.isArray(h)&&h[2]&&(i[c]=h[2])}t.inputTransforms=i}function Ff(t){return!!bu(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function bu(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function xc(t,n,i){return t[n]=i}function Fs(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function Tu(t,n,i,c){const h=Fs(t,n,i);return Fs(t,n+1,c)||h}function ec(t,n,i,c){const h=Ot();return Fs(h,Ea(),n)&&(Sr(),pa(pi(),h,t,n,i,c)),ec}function Nc(t,n,i,c){return Fs(t,Ea(),i)?n+He(i)+c:d}function Cu(t,n,i,c,h,m){const D=Tu(t,function Ho(){return Xn.lFrame.bindingIndex}(),i,h);return S(2),D?n+He(i)+c+He(h)+m:d}function $m(t,n,i,c,h,m,T,D){const O=Ot(),z=Sr(),re=t+ir,be=z.firstCreatePass?function yy(t,n,i,c,h,m,T,D,O){const z=n.consts,re=ye(n,t,4,T||null,fo(z,D));fa(n,i,re,fo(z,O)),xh(n,re);const be=re.tView=Rn(2,re,c,h,m,n.directiveRegistry,n.pipeRegistry,null,n.schemas,z,null);return null!==n.queries&&(n.queries.template(n,re),be.queries=n.queries.embeddedTView(re)),re}(re,z,O,n,i,c,h,m,T):z.data[re];bs(be,!1);const Ge=zm(z,O,be,t);Rl()&&Ip(z,O,Ge,be),Ni(Ge,O),yl(O,O[re]=ry(Ge,O,Ge,be)),on(be)&&Vt(z,O,be),null!=T&&Tn(O,be,D)}let zm=function vy(t,n,i,c){return ca(!0),n[jn].createComment("")};function Lc(t){return aa(function xd(){return Xn.lFrame.contextLView}(),ir+t)}function Ah(t,n,i){const c=Ot();return Fs(c,Ea(),n)&&Go(Sr(),pi(),c,t,n,c[jn],i,!1),Ah}function Wm(t,n,i,c,h){const T=h?"class":"style";Ws(t,i,n.inputs[T],T,c)}function qf(t,n,i,c){const h=Ot(),m=Sr(),T=ir+t,D=h[jn],O=m.firstCreatePass?function gg(t,n,i,c,h,m){const T=n.consts,O=ye(n,t,2,c,fo(T,h));return fa(n,i,O,fo(T,m)),null!==O.attrs&&Ih(O,O.attrs,!1),null!==O.mergedAttrs&&Ih(O,O.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,O),O}(T,m,h,n,i,c):m.data[T],z=Ey(m,h,O,D,n,t);h[T]=z;const re=on(O);return bs(O,!0),uf(D,z,O),32!=(32&O.flags)&&Rl()&&Ip(m,h,z,O),0===function Ha(){return Xn.lFrame.elementDepthCount}()&&Ni(z,h),function Ph(){Xn.lFrame.elementDepthCount++}(),re&&(Vt(m,h,O),Yt(m,O,h)),null!==c&&Tn(h,O),qf}function Id(){let t=hs();Yc()?fc():(t=t.parent,bs(t,!1));const n=t;(function Rh(t){return Xn.skipHydrationRootTNode===t})(n)&&function Eg(){Xn.skipHydrationRootTNode=null}(),function Md(){Xn.lFrame.elementDepthCount--}();const i=Sr();return i.firstCreatePass&&(xh(i,t),St(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Ld(t){return 0!=(8&t.flags)}(n)&&Wm(i,n,Ot(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Ol(t){return 0!=(16&t.flags)}(n)&&Wm(i,n,Ot(),n.stylesWithoutHost,!1),Id}function Zo(t,n,i,c){return qf(t,n,i,c),Id(),Zo}let Ey=(t,n,i,c,h,m)=>(ca(!0),Xh(c,h,function za(){return Xn.lFrame.currentNamespace}()));function Ti(){return Ot()}function Zs(t){return!!t&&"function"==typeof t.then}function Jr(t){return!!t&&"function"==typeof t.subscribe}function ro(t,n,i,c){const h=Ot(),m=Sr(),T=hs();return function tc(t,n,i,c,h,m,T){const D=on(c),z=t.firstCreatePass&&hd(t),re=n[rr],be=tg(n);let Ge=!0;if(3&c.type||T){const Wt=Ps(c,n),En=T?T(Wt):Wt,Zn=be.length,Bt=T?Vr=>T(ai(Vr[c.index])):c.index;let Ir=null;if(!T&&D&&(Ir=function Zf(t,n,i,c){const h=t.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const T=h[m];if(T===i&&h[m+1]===c){const D=n[ii],O=h[m+2];return D.length>O?D[O]:null}"string"==typeof T&&(m+=2)}return null}(t,n,h,c.index)),null!==Ir)(Ir.__ngLastListenerFn__||Ir).__ngNextListenerFn__=m,Ir.__ngLastListenerFn__=m,Ge=!1;else{m=Zm(c,n,re,m,!1);const Vr=i.listen(En,h,m);be.push(m,Vr),z&&z.push(h,Bt,Zn,Zn+1)}}else m=Zm(c,n,re,m,!1);const nt=c.outputs;let Pt;if(Ge&&null!==nt&&(Pt=nt[h])){const Wt=Pt.length;if(Wt)for(let En=0;En<Wt;En+=2){const Fi=n[Pt[En]][Pt[En+1]].subscribe(m),Bc=be.length;be.push(m,Fi),z&&z.push(h,c.index,Bc,-(Bc+1))}}}(m,h,h[jn],T,t,n,c),ro}function mg(t,n,i,c){try{return Yn(6,n,i),!1!==i(c)}catch(h){return qs(t,h),!1}finally{Yn(7,n,i)}}function Zm(t,n,i,c,h){return function m(T){if(T===Function)return c;Af(t.componentOffset>-1?Rs(t.index,n):n);let O=mg(n,i,c,T),z=m.__ngNextListenerFn__;for(;z;)O=mg(n,i,z,T)&&O,z=z.__ngNextListenerFn__;return h&&!1===O&&T.preventDefault(),O}}function jE(t=1){return function go(t){return(Xn.lFrame.contextLView=function ku(t,n){for(;t>0;)n=n[mi],t--;return n}(t,Xn.lFrame.contextLView))[rr]}(t)}function SI(t,n){let i=null;const c=function Na(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(t);for(let h=0;h<n.length;h++){const m=n[h];if("*"!==m){if(null===c?Br(t,m,!0):ta(c,m))return h}else i=h}return i}function HE(t){const n=Ot()[Nn][zr];if(!n.projection){const c=n.projection=$l(t?t.length:1,null),h=c.slice();let m=n.child;for(;null!==m;){const T=t?SI(m,t):0;null!==T&&(h[T]?h[T].projectionNext=m:c[T]=m,h[T]=m),m=m.next}}}function $E(t,n=0,i){const c=Ot(),h=Sr(),m=ye(h,ir+t,16,null,i||null);null===m.projection&&(m.projection=n),fc(),(!c[Kn]||$a())&&32!=(32&m.flags)&&function zs(t,n,i){cf(n[jn],0,n,i,ef(t,i,n),eu(i.parent||n[zr],i,n))}(h,c,m)}function pE(t,n,i){return Ov(t,"",n,"",i),pE}function Ov(t,n,i,c,h){const m=Ot(),T=Nc(m,n,i,c);return T!==d&&Go(Sr(),pi(),m,t,T,m[jn],h,!1),Ov}function Nv(t,n){return t<<17|n<<2}function Kf(t){return t>>17&32767}function gE(t){return 2|t}function _g(t){return(131068&t)>>2}function mE(t,n){return-131069&t|n<<2}function _E(t){return 1|t}function JE(t,n,i,c,h){const m=t[i+1],T=null===n;let D=c?Kf(m):_g(m),O=!1;for(;0!==D&&(!1===O||T);){const re=t[D+1];NI(t[D],n)&&(O=!0,t[D+1]=c?_E(re):gE(re)),D=c?Kf(re):_g(re)}O&&(t[i+1]=c?gE(m):_E(m))}function NI(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Za(t,n)>=0}function Ym(t,n){return function Cl(t,n,i,c){const h=Ot(),m=Sr(),T=S(2);m.firstUpdatePass&&function c0(t,n,i,c){const h=t.data;if(null===h[i+1]){const m=h[$s()],T=function a0(t,n){return n>=t.expandoStartIndex}(t,i);(function h0(t,n){return 0!=(t.flags&(n?8:16))})(m,c)&&null===n&&!T&&(n=!1),n=function jI(t,n,i,c){const h=function Ce(t){const n=Xn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let m=c?n.residualClasses:n.residualStyles;if(null===h)0===(c?n.classBindings:n.styleBindings)&&(i=by(i=vE(null,t,n,i,c),n.attrs,c),m=null);else{const T=n.directiveStylingLast;if(-1===T||t[T]!==h)if(i=vE(h,t,n,i,c),null===m){let O=function HI(t,n,i){const c=i?n.classBindings:n.styleBindings;if(0!==_g(c))return t[Kf(c)]}(t,n,c);void 0!==O&&Array.isArray(O)&&(O=vE(null,t,n,O[1],c),O=by(O,n.attrs,c),function $I(t,n,i,c){t[Kf(i?n.classBindings:n.styleBindings)]=c}(t,n,c,O))}else m=function zI(t,n,i){let c;const h=n.directiveEnd;for(let m=1+n.directiveStylingLast;m<h;m++)c=by(c,t[m].hostAttrs,i);return by(c,n.attrs,i)}(t,n,c)}return void 0!==m&&(c?n.residualClasses=m:n.residualStyles=m),i}(h,m,n,c),function xI(t,n,i,c,h,m){let T=m?n.classBindings:n.styleBindings,D=Kf(T),O=_g(T);t[c]=i;let re,z=!1;if(Array.isArray(i)?(re=i[1],(null===re||Za(i,re)>0)&&(z=!0)):re=i,h)if(0!==O){const Ge=Kf(t[D+1]);t[c+1]=Nv(Ge,D),0!==Ge&&(t[Ge+1]=mE(t[Ge+1],c)),t[D+1]=function PI(t,n){return 131071&t|n<<17}(t[D+1],c)}else t[c+1]=Nv(D,0),0!==D&&(t[D+1]=mE(t[D+1],c)),D=c;else t[c+1]=Nv(O,0),0===D?D=c:t[O+1]=mE(t[O+1],c),O=c;z&&(t[c+1]=gE(t[c+1])),JE(t,re,c,!0),JE(t,re,c,!1),function OI(t,n,i,c,h){const m=h?t.residualClasses:t.residualStyles;null!=m&&"string"==typeof n&&Za(m,n)>=0&&(i[c+1]=_E(i[c+1]))}(n,re,t,c,m),T=Nv(D,O),m?n.classBindings=T:n.styleBindings=T}(h,m,n,i,T,c)}}(m,t,T,c),n!==d&&Fs(h,T,n)&&function u0(t,n,i,c,h,m,T,D){if(!(3&n.type))return;const O=t.data,z=O[D+1],re=function RI(t){return 1==(1&t)}(z)?d0(O,n,i,h,_g(z),T):void 0;Lv(re)||(Lv(m)||function MI(t){return 2==(2&t)}(z)&&(m=d0(O,null,i,h,D,T)),function C_(t,n,i,c,h){if(n)h?t.addClass(i,c):t.removeClass(i,c);else{let m=-1===c.indexOf("-")?void 0:Qd.DashCase;null==h?t.removeStyle(i,c,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=Qd.Important),t.setStyle(i,c,h,m))}}(c,T,Vo($s(),i),h,m))}(m,m.data[$s()],h,h[jn],t,h[T+1]=function ZI(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Oe(dl(t)))),t}(n,i),c,T)}(t,n,null,!0),Ym}function vE(t,n,i,c,h){let m=null;const T=i.directiveEnd;let D=i.directiveStylingLast;for(-1===D?D=i.directiveStart:D++;D<T&&(m=n[D],c=by(c,m.hostAttrs,h),m!==t);)D++;return null!==t&&(i.directiveStylingLast=D),c}function by(t,n,i){const c=i?1:2;let h=-1;if(null!==n)for(let m=0;m<n.length;m++){const T=n[m];"number"==typeof T?h=T:h===c&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),xo(t,T,!!i||n[++m]))}return void 0===t?null:t}function d0(t,n,i,c,h,m){const T=null===n;let D;for(;h>0;){const O=t[h],z=Array.isArray(O),re=z?O[1]:O,be=null===re;let Ge=i[h+1];Ge===d&&(Ge=be?pr:void 0);let nt=be?jh(Ge,c):re===c?Ge:void 0;if(z&&!Lv(nt)&&(nt=jh(O,c)),Lv(nt)&&(D=nt,T))return D;const Pt=t[h+1];h=T?Kf(Pt):_g(Pt)}if(null!==n){let O=m?n.residualClasses:n.residualStyles;null!=O&&(D=jh(O,c))}return D}function Lv(t){return void 0!==t}function f0(t,n=""){const i=Ot(),c=Sr(),h=t+ir,m=c.firstCreatePass?ye(c,h,1,n,null):c.data[h],T=p0(c,i,m,n,t);i[h]=T,Rl()&&Ip(c,i,T,m),bs(m,!1)}let p0=(t,n,i,c,h)=>(ca(!0),function nh(t,n){return t.createText(n)}(n[jn],c));function EE(t){return Vv("",t,""),EE}function Vv(t,n,i){const c=Ot(),h=Nc(c,t,n,i);return h!==d&&Pa(c,$s(),h),Vv}function IE(t,n,i,c,h){const m=Ot(),T=Cu(m,t,n,i,c,h);return T!==d&&Pa(m,$s(),T),IE}const yg=void 0;var gb=["en",[["a","p"],["AM","PM"],yg],[["AM","PM"],yg,yg],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yg,"{1} 'at' {0}",yg],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function pb(t){const i=Math.floor(Math.abs(t)),c=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===c?1:5}];let Qm={};function bE(t){const n=function mb(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=k0(n);if(i)return i;const c=n.split("-")[0];if(i=k0(c),i)return i;if("en"===c)return gb;throw new ze(701,!1)}function N0(t){return bE(t)[Jm.PluralCase]}function k0(t){return t in Qm||(Qm[t]=Bn.ng&&Bn.ng.common&&Bn.ng.common.locales&&Bn.ng.common.locales[t]),Qm[t]}var Jm=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Jm||{});const Xm="en-US";let Ty=Xm;function Z0(t,n,i,c,h){if(t=mt(t),Array.isArray(t))for(let m=0;m<t.length;m++)Z0(t[m],n,i,c,h);else{const m=Sr(),T=Ot(),D=hs();let O=dh(t)?t:mt(t.provide);const z=qy(t),re=1048575&D.providerIndexes,be=D.directiveStart,Ge=D.providerIndexes>>20;if(dh(t)||!t.multi){const nt=new Ga(z,h,R),Pt=Y0(O,n,h?re:re+Ge,be);-1===Pt?(mc(Ll(D,T),m,O),K0(m,t,n.length),n.push(O),D.directiveStart++,D.directiveEnd++,h&&(D.providerIndexes+=1048576),i.push(nt),T.push(nt)):(i[Pt]=nt,T[Pt]=nt)}else{const nt=Y0(O,n,re+Ge,be),Pt=Y0(O,n,re,re+Ge),En=Pt>=0&&i[Pt];if(h&&!En||!h&&!(nt>=0&&i[nt])){mc(Ll(D,T),m,O);const Zn=function SC(t,n,i,c,h){const m=new Ga(t,i,R);return m.multi=[],m.index=n,m.componentProviders=0,Rb(m,h,c&&!i),m}(h?DC:AC,i.length,h,c,z);!h&&En&&(i[Pt].providerFactory=Zn),K0(m,t,n.length,0),n.push(O),D.directiveStart++,D.directiveEnd++,h&&(D.providerIndexes+=1048576),i.push(Zn),T.push(Zn)}else K0(m,t,nt>-1?nt:Pt,Rb(i[h?Pt:nt],z,!h&&c));!h&&c&&En&&i[Pt].componentProviders++}}}function K0(t,n,i,c){const h=dh(n),m=function yi(t){return!!t.useClass}(n);if(h||m){const O=(m?mt(n.useClass):n).prototype.ngOnDestroy;if(O){const z=t.destroyHooks||(t.destroyHooks=[]);if(!h&&n.multi){const re=z.indexOf(i);-1===re?z.push(i,[c,O]):z[re+1].push(c,O)}else z.push(i,O)}}}function Rb(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function Y0(t,n,i,c){for(let h=i;h<c;h++)if(n[h]===t)return h;return-1}function AC(t,n,i,c){return Q0(this.multi,[])}function DC(t,n,i,c){const h=this.multi;let m;if(this.providerFactory){const T=this.providerFactory.componentProviders,D=Ul(i,i[Xt],this.providerFactory.index,c);m=D.slice(0,T),Q0(h,m);for(let O=T;O<D.length;O++)m.push(D[O])}else m=[],Q0(h,m);return m}function Q0(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function xb(t,n=[]){return i=>{i.providersResolver=(c,h)=>function wC(t,n,i){const c=Sr();if(c.firstCreatePass){const h=mn(t);Z0(i,c.data,c.blueprint,h,!0),Z0(n,c.data,c.blueprint,h,!1)}}(c,h?h(t):t,n)}}class r_{}class Ob{}function MC(t,n){return new J0(t,n??null,[])}class J0 extends r_{constructor(n,i,c){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new xf(this);const h=Or(n);this._bootstrapComponents=pl(h.bootstrap),this._r3Injector=sv(n,i,[{provide:r_,useValue:this},{provide:Gp,useValue:this.componentFactoryResolver},...c],Oe(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class X0 extends Ob{constructor(n){super(),this.moduleType=n}create(n){return new J0(this.moduleType,n,[])}}class Nb extends r_{constructor(n){super(),this.componentFactoryResolver=new xf(this),this.instance=null;const i=new cu([...n.providers,{provide:r_,useValue:this},{provide:Gp,useValue:this.componentFactoryResolver}],n.parent||Up(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function kb(t,n,i=null){return new Nb({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let RC=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const c=Xa(0,i.type),h=c.length>0?kb([c],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,h)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=gn({token:t,providedIn:"environment",factory:()=>new t(Rt(Dc))})}return t})();function Fb(t){t.getStandaloneInjector=n=>n.get(RC).getOrCreateStandaloneInjector(t)}function $b(t,n,i,c){return zb(Ot(),Hs(),t,n,i,c)}function Gv(t,n){const i=t[n];return i===d?void 0:i}function zb(t,n,i,c,h,m){const T=n+i;return Fs(t,T,h)?xc(t,T+1,m?c.call(m,h):c(h)):Gv(t,T+1)}function Kb(t,n){const i=Sr();let c;const h=t+ir;i.firstCreatePass?(c=function KC(t,n){if(n)for(let i=n.length-1;i>=0;i--){const c=n[i];if(t===c.name)return c}}(n,i.pipeRegistry),i.data[h]=c,c.onDestroy&&(i.destroyHooks??=[]).push(h,c.onDestroy)):c=i.data[h];const m=c.factory||(c.factory=Qs(c.type)),D=kr(R);try{const O=la(!1),z=m();return la(O),function qm(t,n,i,c){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=c}(i,Ot(),h,z),z}finally{kr(D)}}function Yb(t,n,i){const c=t+ir,h=Ot(),m=aa(h,c);return qv(h,c)?zb(h,Hs(),n,m.transform,i,m):m.transform(i)}function Qb(t,n,i,c){const h=t+ir,m=Ot(),T=aa(m,h);return qv(m,h)?function Gb(t,n,i,c,h,m,T){const D=n+i;return Tu(t,D,h,m)?xc(t,D+2,T?c.call(T,h,m):c(h,m)):Gv(t,D+2)}(m,Hs(),n,T.transform,i,c,T):T.transform(i,c)}function qv(t,n){return t[Xt].data[n].pure}function XC(){return this._results[Symbol.iterator]()}class tI{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new fl)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=tI.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=XC)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const c=this;c.dirty=!1;const h=function Os(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function sp(t,n,i){if(t.length!==n.length)return!1;for(let c=0;c<t.length;c++){let h=t[c],m=n[c];if(i&&(h=i(h),m=i(m)),m!==h)return!1}return!0}(c._results,h,i))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function tw(t,n,i,c=!0){const h=n[Xt];if(function E_(t,n,i,c){const h=Yr+c,m=i.length;c>0&&(i[h-1][gi]=n),c<m-Yr?(n[gi]=i[h],nl(i,Yr+c,n)):(i.push(n),n[gi]=null),n[gr]=i;const T=n[es];null!==T&&i!==T&&function I_(t,n){const i=t[ao];n[Nn]!==n[gr][gr][Nn]&&(t[xi]=!0),null===i?t[ao]=[n]:i.push(n)}(T,n);const D=n[cs];null!==D&&D.insertView(t),n[Ln]|=128}(h,n,t,i),c){const m=sf(i,t),T=n[jn],D=Da(T,t[ts]);null!==D&&function y_(t,n,i,c,h,m){c[br]=h,c[zr]=n,Ju(t,c,i,1,h,m)}(h,t[zr],T,n,D,m)}}let Wv=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=iw}return t})();const nw=Wv,rw=class extends nw{constructor(n,i,c){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,c){const h=function ew(t,n,i,c){const h=n.tView,D=ie(t,h,i,4096&t[Ln]?4096:16,null,n,null,null,null,c?.injector??null,c?.hydrationInfo??null);D[es]=t[n.index];const z=t[cs];return null!==z&&(D[cs]=z.createEmbeddedView(h)),wm(h,D,i),D}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:c});return new Th(h)}};function iw(){return SE(hs(),Ot())}function SE(t,n){return 4&t.type?new rw(n,t,yh(t,n)):null}let PE=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=uw}return t})();function uw(){return iT(hs(),Ot())}const dw=PE,nT=class extends dw{constructor(n,i,c){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=c}get element(){return yh(this._hostTNode,this._hostLView)}get injector(){return new Cs(this._hostTNode,this._hostLView)}get parentInjector(){const n=Vl(this._hostTNode,this._hostLView);if(Nl(n)){const i=Po(n,this._hostLView),c=kl(n);return new Cs(i[Xt].data[c+8],i)}return new Cs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=rT(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-Yr}createEmbeddedView(n,i,c){let h,m;"number"==typeof c?h=c:null!=c&&(h=c.index,m=c.injector);const D=n.createEmbeddedViewImpl(i||{},m,null);return this.insertImpl(D,h,false),D}createComponent(n,i,c,h,m){const T=n&&!function tl(t){return"function"==typeof t}(n);let D;if(T)D=i;else{const Wt=i||{};D=Wt.index,c=Wt.injector,h=Wt.projectableNodes,m=Wt.environmentInjector||Wt.ngModuleRef}const O=T?n:new vl(Mn(n)),z=c||this.parentInjector;if(!m&&null==O.ngModule){const En=(T?z:this.parentInjector).get(Dc,null);En&&(m=En)}Mn(O.componentType??{});const nt=O.create(z,h,null,m);return this.insertImpl(nt.hostView,D,false),nt}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,c){const h=n._lView;if(function Ou(t){return je(t[gr])}(h)){const O=this.indexOf(n);if(-1!==O)this.detach(O);else{const z=h[gr],re=new nT(z,z[zr],z[gr]);re.detach(re.indexOf(n))}}const T=this._adjustIndex(i),D=this._lContainer;return tw(D,h,T,!c),n.attachToViewContainerRef(),nl(nI(D),T,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=rT(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),c=Xl(this._lContainer,i);c&&(Hu(nI(this._lContainer),i),ws(c[Xt],c))}detach(n){const i=this._adjustIndex(n,-1),c=Xl(this._lContainer,i);return c&&null!=Hu(nI(this._lContainer),i)?new Th(c):null}_adjustIndex(n,i=0){return n??this.length+i}};function rT(t){return t[8]}function nI(t){return t[8]||(t[8]=[])}function iT(t,n){let i;const c=n[t.index];return je(c)?i=c:(i=ry(c,n,null,t),n[t.index]=i,yl(n,i)),sT(i,n,t,c),new nT(i,t,n)}let sT=function oT(t,n,i,c){if(t[ts])return;let h;h=8&i.type?ai(c):function hw(t,n){const i=t[jn],c=i.createComment(""),h=Ps(n,t);return ll(i,Da(i,h),c,function vp(t,n){return t.nextSibling(n)}(i,h),!1),c}(n,i),t[ts]=h};class rI{constructor(n){this.queryList=n,this.matches=null}clone(){return new rI(this.queryList)}setDirty(){this.queryList.setDirty()}}class iI{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const c=null!==n.contentQueries?n.contentQueries[0]:i.length,h=[];for(let m=0;m<c;m++){const T=i.getByIndex(m);h.push(this.queries[T.indexInDeclarationView].clone())}return new iI(h)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==pT(n,i).matches&&this.queries[i].setDirty()}}class aT{constructor(n,i,c=null){this.predicate=n,this.flags=i,this.read=c}}class sI{constructor(n=[]){this.queries=n}elementStart(n,i){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let c=0;c<this.length;c++){const h=null!==i?i.length:0,m=this.getByIndex(c).embeddedTView(n,h);m&&(m.indexInDeclarationView=c,null!==i?i.push(m):i=[m])}return null!==i?new sI(i):null}template(n,i){for(let c=0;c<this.queries.length;c++)this.queries[c].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class oI{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new oI(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let c=n.parent;for(;null!==c&&8&c.type&&c.index!==i;)c=c.parent;return i===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const m=c[h];this.matchTNodeWithReadOption(n,i,gw(i,m)),this.matchTNodeWithReadOption(n,i,$d(i,n,m,!1,!1))}else c===Wv?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,$d(i,n,c,!1,!1))}matchTNodeWithReadOption(n,i,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===If||h===PE||h===Wv&&4&i.type)this.addMatch(i.index,-2);else{const m=$d(i,n,h,!1,!1);null!==m&&this.addMatch(i.index,m)}else this.addMatch(i.index,c)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function gw(t,n){const i=t.localNames;if(null!==i)for(let c=0;c<i.length;c+=2)if(i[c]===n)return i[c+1];return null}function _w(t,n,i,c){return-1===i?function mw(t,n){return 11&t.type?yh(t,n):4&t.type?SE(t,n):null}(n,t):-2===i?function yw(t,n,i){return i===If?yh(n,t):i===Wv?SE(n,t):i===PE?iT(n,t):void 0}(t,n,c):Ul(t,t[Xt],i,n)}function cT(t,n,i,c){const h=n[cs].queries[c];if(null===h.matches){const m=t.data,T=i.matches,D=[];for(let O=0;O<T.length;O+=2){const z=T[O];D.push(z<0?null:_w(n,m[z],T[O+1],i.metadata.read))}h.matches=D}return h.matches}function aI(t,n,i,c){const h=t.queries.getByIndex(i),m=h.matches;if(null!==m){const T=cT(t,n,h,i);for(let D=0;D<m.length;D+=2){const O=m[D];if(O>0)c.push(T[D/2]);else{const z=m[D+1],re=n[-O];for(let be=Yr;be<re.length;be++){const Ge=re[be];Ge[es]===Ge[gr]&&aI(Ge[Xt],Ge,z,c)}if(null!==re[ao]){const be=re[ao];for(let Ge=0;Ge<be.length;Ge++){const nt=be[Ge];aI(nt[Xt],nt,z,c)}}}}}return c}function lT(t){const n=Ot(),i=Sr(),c=ct();dt(c+1);const h=pT(i,c);if(t.dirty&&function Zc(t){return 4==(4&t[Ln])}(n)===(2==(2&h.metadata.flags))){if(null===h.matches)t.reset([]);else{const m=h.crossesNgTemplate?aI(i,n,c,[]):cT(i,n,h,c);t.reset(m,Wp),t.notifyOnChanges()}return!0}return!1}function uT(t,n,i,c){const h=Sr();if(h.firstCreatePass){const m=hs();(function fT(t,n,i){null===t.queries&&(t.queries=new sI),t.queries.track(new oI(n,i))})(h,new aT(n,i,c),m.index),function Iw(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(h,t),2==(2&i)&&(h.staticContentQueries=!0)}!function hT(t,n,i){const c=new tI(4==(4&i));(function Qe(t,n,i,c){const h=tg(n);h.push(i),t.firstCreatePass&&hd(t).push(c,h.length-1)})(t,n,c,c.destroy),null===n[cs]&&(n[cs]=new iI),n[cs].queries.push(new rI(c))}(h,Ot(),i)}function dT(){return function Ew(t,n){return t[cs].queries[n].queryList}(Ot(),ct())}function pT(t,n){return t.queries.getByIndex(n)}function cI(t){return!!Or(t)}const RT=new sn("Application Initializer");let fI=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,c)=>{this.resolve=i,this.reject=c}),this.appInits=nn(RT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const h of this.appInits){const m=h();if(Zs(m))i.push(m);else if(Jr(m)){const T=new Promise((D,O)=>{m.subscribe({complete:D,error:O})});i.push(T)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{c()}).catch(h=>{this.reject(h)}),0===i.length&&c(),this.initialized=!0}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),xT=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const xE=new sn("LocaleId",{providedIn:"root",factory:()=>nn(xE,vn.Optional|vn.SkipSelf)||function $w(){return typeof $localize<"u"&&$localize.locale||Xm}()}),zw=new sn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let OT=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ee.X(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class qw{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let Ww=(()=>{class t{compileModuleSync(i){return new X0(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const c=this.compileModuleSync(i),m=pl(Or(i).declarations).reduce((T,D)=>{const O=Mn(D);return O&&T.push(new vl(O)),T},[]);return new qw(c,m)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const LT=new sn(""),VT=new sn("");let mI,gA=(()=>{class t{constructor(i,c,h){this._ngZone=i,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,mI||(function mA(t){mI=t}(h),h.addToWindow(c)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ki.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(i)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,c,h){let m=-1;c&&c>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==m),i(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:i,timeoutId:m,updateCb:h})}whenStable(i,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,c,h){return[]}static#e=this.\u0275fac=function(c){return new(c||t)(Rt(ki),Rt(UT),Rt(VT))};static#t=this.\u0275prov=gn({token:t,factory:t.\u0275fac})}return t})(),UT=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,c){this._applications.set(i,c)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,c=!0){return mI?.findTestabilityInTree(this,i,c)??null}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),vg=null;const BT=new sn("AllowMultipleToken"),_I=new sn("PlatformDestroyListeners"),yI=new sn("appBootstrapListener");class vA{constructor(n,i){this.name=n,this.token=i}}function $T(t,n,i=[]){const c=`Platform: ${n}`,h=new sn(c);return(m=[])=>{let T=vI();if(!T||T.injector.get(BT,!1)){const D=[...i,...m,{provide:h,useValue:!0}];t?t(D):function EA(t){if(vg&&!vg.get(BT,!1))throw new ze(400,!1);(function jT(){!function Sl(t){Ba=t}(()=>{throw new ze(600,!1)})})(),vg=t;const n=t.get(GT);(function HT(t){t.get(Sc,null)?.forEach(i=>i())})(t)}(function zT(t=[],n){return Pc.create({name:n,providers:[{provide:N_,useValue:"platform"},{provide:_I,useValue:new Set([()=>vg=null])},...t]})}(D,c))}return function bA(t){const n=vI();if(!n)throw new ze(401,!1);return n}()}}function vI(){return vg?.get(GT)??null}let GT=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,c){const h=function TA(t="zone.js",n){return"noop"===t?new rE:"zone.js"===t?new ki(n):t}(c?.ngZone,function qT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return h.run(()=>{const m=function PC(t,n,i){return new J0(t,n,i)}(i.moduleType,this.injector,function QT(t){return[{provide:ki,useFactory:t},{provide:uh,multi:!0,useFactory:()=>{const n=nn(wA,{optional:!0});return()=>n.initialize()}},{provide:YT,useFactory:CA},{provide:dv,useFactory:hv}]}(()=>h)),T=m.injector.get(ld,null);return h.runOutsideAngular(()=>{const D=h.onError.subscribe({next:O=>{T.handleError(O)}});m.onDestroy(()=>{NE(this._modules,m),D.unsubscribe()})}),function WT(t,n,i){try{const c=i();return Zs(c)?c.catch(h=>{throw n.runOutsideAngular(()=>t.handleError(h)),h}):c}catch(c){throw n.runOutsideAngular(()=>t.handleError(c)),c}}(T,h,()=>{const D=m.injector.get(fI);return D.runInitializers(),D.donePromise.then(()=>(function jv(t){Jt(t,"Expected localeId to be defined"),"string"==typeof t&&(Ty=t.toLowerCase().replace(/_/g,"-"))}(m.injector.get(xE,Xm)||Xm),this._moduleDoBootstrap(m),m))})})}bootstrapModule(i,c=[]){const h=ZT({},c);return function _A(t,n,i){const c=new X0(i);return Promise.resolve(c)}(0,0,i).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(i){const c=i.injector.get(Py);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!i.instance.ngDoBootstrap)throw new ze(-403,!1);i.instance.ngDoBootstrap(c)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ze(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const i=this._injector.get(_I,null);i&&(i.forEach(c=>c()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(c){return new(c||t)(Rt(Pc))};static#t=this.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function ZT(t,n){return Array.isArray(n)?n.reduce(ZT,t):{...t,...n}}let Py=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=nn(YT),this.zoneIsStable=nn(dv),this.componentTypes=[],this.components=[],this.isStable=nn(OT).hasPendingTasks.pipe((0,Ae.w)(i=>i?(0,Pe.of)(!1):this.zoneIsStable),(0,xe.x)(),(0,me.B)()),this._injector=nn(Dc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,c){const h=i instanceof tv;if(!this._injector.get(fI).done)throw!h&&Pi(i),new ze(405,!1);let T;T=h?i:this._injector.get(Gp).resolveComponentFactory(i),this.componentTypes.push(T.componentType);const D=function yA(t){return t.isBoundToModule}(T)?void 0:this._injector.get(r_),z=T.create(Pc.NULL,[],c||T.selector,D),re=z.location.nativeElement,be=z.injector.get(LT,null);return be?.registerApplication(re),z.onDestroy(()=>{this.detachView(z.hostView),NE(this.components,z),be?.unregisterApplication(re)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new ze(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const c=i;this._views.push(c),c.attachToAppRef(this)}detachView(i){const c=i;NE(this._views,c),c.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const c=this._injector.get(yI,[]);c.push(...this._bootstrapListeners),c.forEach(h=>h(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>NE(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new ze(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function NE(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const YT=new sn("",{providedIn:"root",factory:()=>nn(ld).handleError.bind(void 0)});function CA(){const t=nn(ki),n=nn(ld);return i=>t.runOutsideAngular(()=>n.handleError(i))}let wA=(()=>{class t{constructor(){this.zone=nn(ki),this.applicationRef=nn(Py)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function DA(){return!1}let SA=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=MA}return t})();function MA(t){return function PA(t,n,i){if(Ut(t)&&!i){const c=Rs(t.index,n);return new Th(c,c)}return 47&t.type?new Th(n[Nn],n):null}(hs(),Ot(),16==(16&t))}class tC{constructor(){}supports(n){return Ff(n)}create(n){return new FA(n)}}const kA=(t,n)=>n;class FA{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||kA}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,c=this._removalsHead,h=0,m=null;for(;i||c;){const T=!c||i&&i.currentIndex<rC(c,h,m)?i:c,D=rC(T,h,m),O=T.currentIndex;if(T===c)h--,c=c._nextRemoved;else if(i=i._next,null==T.previousIndex)h++;else{m||(m=[]);const z=D-h,re=O-h;if(z!=re){for(let Ge=0;Ge<z;Ge++){const nt=Ge<m.length?m[Ge]:m[Ge]=0,Pt=nt+Ge;re<=Pt&&Pt<z&&(m[Ge]=nt+1)}m[T.previousIndex]=re-z}}D!==O&&n(T,D,O)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!Ff(n))throw new ze(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let h,m,T,i=this._itHead,c=!1;if(Array.isArray(n)){this.length=n.length;for(let D=0;D<this.length;D++)m=n[D],T=this._trackByFn(D,m),null!==i&&Object.is(i.trackById,T)?(c&&(i=this._verifyReinsertion(i,m,T,D)),Object.is(i.item,m)||this._addIdentityChange(i,m)):(i=this._mismatch(i,m,T,D),c=!0),i=i._next}else h=0,function Lf(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let c;for(;!(c=i.next()).done;)n(c.value)}}(n,D=>{T=this._trackByFn(h,D),null!==i&&Object.is(i.trackById,T)?(c&&(i=this._verifyReinsertion(i,D,T,h)),Object.is(i.item,D)||this._addIdentityChange(i,D)):(i=this._mismatch(i,D,T,h),c=!0),i=i._next,h++}),this.length=h;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,c,h){let m;return null===n?m=this._itTail:(m=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,m,h)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,m,h)):n=this._addAfter(new LA(i,c),m,h),n}_verifyReinsertion(n,i,c,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==m?n=this._reinsertAfter(m,n._prev,h):n.currentIndex!=h&&(n.currentIndex=h,this._addToMoves(n,h)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const h=n._prevRemoved,m=n._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(n,i,c),this._addToMoves(n,c),n}_moveAfter(n,i,c){return this._unlink(n),this._insertAfter(n,i,c),this._addToMoves(n,c),n}_addAfter(n,i,c){return this._insertAfter(n,i,c),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,c){const h=null===i?this._itHead:i._next;return n._next=h,n._prev=i,null===h?this._itTail=n:h._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new nC),this._linkedRecords.put(n),n.currentIndex=c,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,c=n._next;return null===i?this._itHead=c:i._next=c,null===c?this._itTail=i:c._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nC),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class LA{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class VA{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===i||i<=c.currentIndex)&&Object.is(c.trackById,n))return c;return null}remove(n){const i=n._prevDup,c=n._nextDup;return null===i?this._head=c:i._nextDup=c,null===c?this._tail=i:c._prevDup=i,null===this._head}}class nC{constructor(){this.map=new Map}put(n){const i=n.trackById;let c=this.map.get(i);c||(c=new VA,this.map.set(i,c)),c.add(n)}get(n,i){const h=this.map.get(n);return h?h.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rC(t,n,i){const c=t.previousIndex;if(null===c)return c;let h=0;return i&&c<i.length&&(h=i[c]),c+n+h}class iC{constructor(){}supports(n){return n instanceof Map||bu(n)}create(){return new UA}}class UA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||bu(n)))throw new ze(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(c,h)=>{if(i&&i.key===h)this._maybeAddToChanges(i,c),this._appendAfter=i,i=i._next;else{const m=this._getOrCreateRecordForKey(h,c);i=this._insertBeforeOrAppend(i,m)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let c=i;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const c=n._prev;return i._next=n,i._prev=c,n._prev=i,c&&(c._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const h=this._records.get(n);this._maybeAddToChanges(h,i);const m=h._prev,T=h._next;return m&&(m._next=T),T&&(T._prev=m),h._next=null,h._prev=null,h}const c=new BA(n);return this._records.set(n,c),c.currentValue=i,this._addToAdditions(c),c}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(c=>i(n[c],c))}}class BA{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sC(){return new CI([new tC])}let CI=(()=>{class t{static#e=this.\u0275prov=gn({token:t,providedIn:"root",factory:sC});constructor(i){this.factories=i}static create(i,c){if(null!=c){const h=c.factories.slice();i=i.concat(h)}return new t(i)}static extend(i){return{provide:t,useFactory:c=>t.create(i,c||sC()),deps:[[t,new Ec,new ql]]}}find(i){const c=this.factories.find(h=>h.supports(i));if(null!=c)return c;throw new ze(901,!1)}}return t})();function oC(){return new wI([new iC])}let wI=(()=>{class t{static#e=this.\u0275prov=gn({token:t,providedIn:"root",factory:oC});constructor(i){this.factories=i}static create(i,c){if(c){const h=c.factories.slice();i=i.concat(h)}return new t(i)}static extend(i){return{provide:t,useFactory:c=>t.create(i,c||oC()),deps:[[t,new Ec,new ql]]}}find(i){const c=this.factories.find(h=>h.supports(i));if(c)return c;throw new ze(901,!1)}}return t})();const $A=$T(null,"core",[]);let zA=(()=>{class t{constructor(i){}static#e=this.\u0275fac=function(c){return new(c||t)(Rt(Py))};static#t=this.\u0275mod=os({type:t});static#n=this.\u0275inj=qt({})}return t})();function tD(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function rD(t){const n=Mn(t);if(!n)return null;const i=new vl(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},981:(Qt,Ze,H)=>{H.d(Ze,{zQ:()=>$t,ww:()=>zn,rT:()=>Ct,f7:()=>ge,L6:()=>He,_Q:()=>it,lh:()=>Ye,Qv:()=>rt,nw:()=>Et}),H(6365);var u=H(6814),K=H(5879),Ie=H(1920),Ee=H(7217),Pe=H(8645),me=H(2096),Ae=H(5592),xe=H(2459),fe=H(3019),ve=H(3093),Oe=H(4664),pt=H(7398),Xe=H(940),Dt=H(1374),mt=H(4674);function It(bt,Nt){return(0,mt.m)(Nt)?(0,Oe.w)(()=>bt,Nt):(0,Oe.w)(()=>bt)}var _t=H(5137),en=H(2181),Ke=H(7142);const rt=new K.OlP("angularfire2.auth.use-emulator"),He=new K.OlP("angularfire2.auth.settings"),it=new K.OlP("angularfire2.auth.tenant-id"),Ct=new K.OlP("angularfire2.auth.langugage-code"),Ye=new K.OlP("angularfire2.auth.use-device-language"),ge=new K.OlP("angularfire.auth.persistence"),Et=(bt,Nt,rn,at,Ne,_e,Ve,tt)=>(0,Ee.cc)(`${bt.name}.auth`,"AngularFireAuth",bt.name,()=>{const et=Nt.runOutsideAngular(()=>bt.auth());if(rn&&et.useEmulator(...rn),at&&(et.tenantId=at),et.languageCode=Ne,_e&&et.useDeviceLanguage(),Ve)for(const[gt,vt]of Object.entries(Ve))et.settings[gt]=vt;return tt&&et.setPersistence(tt),et},[rn,at,Ne,_e,Ve,tt]);let $t=(()=>{class bt{authState;idToken;user;idTokenResult;credential;constructor(rn,at,Ne,_e,Ve,tt,et,gt,vt,Jt,zt,Gt){const hn=new Pe.x,Gn=(0,me.of)(void 0).pipe((0,ve.Q)(Ve.outsideAngular),(0,Oe.w)(()=>_e.runOutsideAngular(()=>Promise.resolve().then(H.bind(H,6365)))),(0,pt.U)(()=>(0,Ee.on)(rn,_e,at)),(0,pt.U)(gn=>Et(gn,_e,tt,gt,vt,Jt,et,zt)),(0,Xe.d)({bufferSize:1,refCount:!1}));if((0,u.PM)(Ne))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,me.of)(null);else{Gn.pipe((0,Dt.P)()).subscribe();const gn=Gn.pipe((0,Oe.w)(fn=>fn.getRedirectResult().then(Cn=>Cn,()=>null)),Ie.iC,(0,Xe.d)({bufferSize:1,refCount:!1})),On=Gn.pipe((0,Oe.w)(fn=>new Ae.y(Cn=>({unsubscribe:_e.runOutsideAngular(()=>fn.onAuthStateChanged(Dn=>Cn.next(Dn),Dn=>Cn.error(Dn),()=>Cn.complete()))})))),qt=Gn.pipe((0,Oe.w)(fn=>new Ae.y(Cn=>({unsubscribe:_e.runOutsideAngular(()=>fn.onIdTokenChanged(Dn=>Cn.next(Dn),Dn=>Cn.error(Dn),()=>Cn.complete()))}))));this.authState=gn.pipe(It(On),(0,_t.R)(Ve.outsideAngular),(0,ve.Q)(Ve.insideAngular)),this.user=gn.pipe(It(qt),(0,_t.R)(Ve.outsideAngular),(0,ve.Q)(Ve.insideAngular)),this.idToken=this.user.pipe((0,Oe.w)(fn=>fn?(0,xe.D)(fn.getIdToken()):(0,me.of)(null))),this.idTokenResult=this.user.pipe((0,Oe.w)(fn=>fn?(0,xe.D)(fn.getIdTokenResult()):(0,me.of)(null))),this.credential=(0,fe.T)(gn,hn,this.authState.pipe((0,en.h)(fn=>!fn))).pipe((0,pt.U)(fn=>fn?.user?fn:null),(0,_t.R)(Ve.outsideAngular),(0,ve.Q)(Ve.insideAngular))}return(0,Ee.pX)(this,Gn,_e,{spy:{apply:(gn,On,qt)=>{(gn.startsWith("signIn")||gn.startsWith("createUser"))&&qt.then(fn=>hn.next(fn))}}})}static \u0275fac=function(at){return new(at||bt)(K.LFG(Ee.Dh),K.LFG(Ee.xv,8),K.LFG(K.Lbi),K.LFG(K.R0b),K.LFG(Ie.HU),K.LFG(rt,8),K.LFG(He,8),K.LFG(it,8),K.LFG(Ct,8),K.LFG(Ye,8),K.LFG(ge,8),K.LFG(Ie.Rf,8))};static \u0275prov=K.Yz7({token:bt,factory:bt.\u0275fac,providedIn:"any"})}return bt})(),zn=(()=>{class bt{constructor(){Ke.Z.registerVersion("angularfire",Ie.q4.full,"auth-compat")}static \u0275fac=function(at){return new(at||bt)};static \u0275mod=K.oAB({type:bt});static \u0275inj=K.cJS({providers:[$t]})}return bt})()},7104:(Qt,Ze,H)=>{H.d(Ze,{ST:()=>Ur,yb:()=>qe});var g=H(6814),u=H(5879),K=H(1920),Ie=H(7217),Ee=H(981),Pe=H(6321),me=H(5592),Ae=H(2459),xe=H(2096),fe=H(7921),ve=H(9360),Oe=H(8251);function pt(){return(0,ve.e)((Tt,oe)=>{let Se,ft=!1;Tt.subscribe((0,Oe.x)(oe,jt=>{const Sn=Se;Se=jt,ft&&oe.next([Sn,jt]),ft=!0}))})}var Xe=H(7398),Dt=H(6699),mt=H(3997),It=H(2181),en=(H(6365),H(3106)),Ke=H(5588),ze=H(9058),rt=H(4537);function Ct(Tt,oe){if(void 0===oe)return{merge:!1};if(void 0!==oe.mergeFields&&void 0!==oe.merge)throw new Ke.WA("invalid-argument",`Invalid options passed to function ${Tt}(): You cannot specify both "merge" and "mergeFields".`);return oe}function Ye(){if(typeof Uint8Array>"u")throw new Ke.WA("unimplemented","Uint8Arrays are not available in this environment.")}function ge(){if(!(0,Ke.Me)())throw new Ke.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Et{constructor(oe){this._delegate=oe}static fromBase64String(oe){return ge(),new Et(Ke.Jj.fromBase64String(oe))}static fromUint8Array(oe){return Ye(),new Et(Ke.Jj.fromUint8Array(oe))}toBase64(){return ge(),this._delegate.toBase64()}toUint8Array(){return Ye(),this._delegate.toUint8Array()}isEqual(oe){return this._delegate.isEqual(oe._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function $t(Tt){return function zn(Tt,oe){if("object"!=typeof Tt||null===Tt)return!1;const Se=Tt;for(const ft of oe)if(ft in Se&&"function"==typeof Se[ft])return!0;return!1}(Tt,["next","error","complete"])}class bt{enableIndexedDbPersistence(oe,Se){return(0,Ke.ST)(oe._delegate,{forceOwnership:Se})}enableMultiTabIndexedDbPersistence(oe){return(0,Ke.fH)(oe._delegate)}clearIndexedDbPersistence(oe){return(0,Ke.Fc)(oe._delegate)}}class Nt{constructor(oe,Se,ft){this._delegate=Se,this._persistenceProvider=ft,this.INTERNAL={delete:()=>this.terminate()},oe instanceof Ke.l7||(this._appCompat=oe)}get _databaseId(){return this._delegate._databaseId}settings(oe){const Se=this._delegate._getSettings();!oe.merge&&Se.host!==oe.host&&(0,Ke.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),oe.merge&&delete(oe=Object.assign(Object.assign({},Se),oe)).merge,this._delegate._setSettings(oe)}useEmulator(oe,Se,ft={}){(0,Ke.at)(this._delegate,oe,Se,ft)}enableNetwork(){return(0,Ke.Ix)(this._delegate)}disableNetwork(){return(0,Ke.TF)(this._delegate)}enablePersistence(oe){let Se=!1,ft=!1;return oe&&(Se=!!oe.synchronizeTabs,ft=!!oe.experimentalForceOwningTab,(0,Ke.Wi)("synchronizeTabs",Se,"experimentalForceOwningTab",ft)),Se?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,ft)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Ke.Mx)(this._delegate)}onSnapshotsInSync(oe){return(0,Ke.sc)(this._delegate,oe)}get app(){if(!this._appCompat)throw new Ke.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(oe){try{return new gn(this,(0,Ke.hJ)(this._delegate,oe))}catch(Se){throw et(Se,"collection()","Firestore.collection()")}}doc(oe){try{return new tt(this,(0,Ke.JU)(this._delegate,oe))}catch(Se){throw et(Se,"doc()","Firestore.doc()")}}collectionGroup(oe){try{return new Gt(this,(0,Ke.B$)(this._delegate,oe))}catch(Se){throw et(Se,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(oe){return(0,Ke.i3)(this._delegate,Se=>oe(new Ne(this,Se)))}batch(){return(0,Ke.qY)(this._delegate),new _e(new Ke.PU(this._delegate,oe=>(0,Ke.GL)(this._delegate,oe)))}loadBundle(oe){return(0,Ke.Pb)(this._delegate,oe)}namedQuery(oe){return(0,Ke.L$)(this._delegate,oe).then(Se=>Se?new Gt(this,Se):null)}}class rn extends Ke.u7{constructor(oe){super(),this.firestore=oe}convertBytes(oe){return new Et(new Ke.Jj(oe))}convertReference(oe){const Se=this.convertDocumentKey(oe,this.firestore._databaseId);return tt.forKey(Se,this.firestore,null)}}class Ne{constructor(oe,Se){this._firestore=oe,this._delegate=Se,this._userDataWriter=new rn(oe)}get(oe){const Se=On(oe);return this._delegate.get(Se).then(ft=>new Jt(this._firestore,new Ke.xU(this._firestore._delegate,this._userDataWriter,ft._key,ft._document,ft.metadata,Se.converter)))}set(oe,Se,ft){const jt=On(oe);return ft?(Ct("Transaction.set",ft),this._delegate.set(jt,Se,ft)):this._delegate.set(jt,Se),this}update(oe,Se,ft,...jt){const Sn=On(oe);return 2===arguments.length?this._delegate.update(Sn,Se):this._delegate.update(Sn,Se,ft,...jt),this}delete(oe){const Se=On(oe);return this._delegate.delete(Se),this}}class _e{constructor(oe){this._delegate=oe}set(oe,Se,ft){const jt=On(oe);return ft?(Ct("WriteBatch.set",ft),this._delegate.set(jt,Se,ft)):this._delegate.set(jt,Se),this}update(oe,Se,ft,...jt){const Sn=On(oe);return 2===arguments.length?this._delegate.update(Sn,Se):this._delegate.update(Sn,Se,ft,...jt),this}delete(oe){const Se=On(oe);return this._delegate.delete(Se),this}commit(){return this._delegate.commit()}}class Ve{constructor(oe,Se,ft){this._firestore=oe,this._userDataWriter=Se,this._delegate=ft}fromFirestore(oe,Se){const ft=new Ke.$q(this._firestore._delegate,this._userDataWriter,oe._key,oe._document,oe.metadata,null);return this._delegate.fromFirestore(new zt(this._firestore,ft),Se??{})}toFirestore(oe,Se){return Se?this._delegate.toFirestore(oe,Se):this._delegate.toFirestore(oe)}static getInstance(oe,Se){const ft=Ve.INSTANCES;let jt=ft.get(oe);jt||(jt=new WeakMap,ft.set(oe,jt));let Sn=jt.get(Se);return Sn||(Sn=new Ve(oe,new rn(oe),Se),jt.set(Se,Sn)),Sn}}Ve.INSTANCES=new WeakMap;class tt{constructor(oe,Se){this.firestore=oe,this._delegate=Se,this._userDataWriter=new rn(oe)}static forPath(oe,Se,ft){if(oe.length%2!=0)throw new Ke.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${oe.canonicalString()} has ${oe.length}`);return new tt(Se,new Ke.my(Se._delegate,ft,new Ke.Ky(oe)))}static forKey(oe,Se,ft){return new tt(Se,new Ke.my(Se._delegate,ft,oe))}get id(){return this._delegate.id}get parent(){return new gn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(oe){try{return new gn(this.firestore,(0,Ke.hJ)(this._delegate,oe))}catch(Se){throw et(Se,"collection()","DocumentReference.collection()")}}isEqual(oe){return(oe=(0,ze.m9)(oe))instanceof Ke.my&&(0,Ke.Eo)(this._delegate,oe)}set(oe,Se){Se=Ct("DocumentReference.set",Se);try{return Se?(0,Ke.pl)(this._delegate,oe,Se):(0,Ke.pl)(this._delegate,oe)}catch(ft){throw et(ft,"setDoc()","DocumentReference.set()")}}update(oe,Se,...ft){try{return 1===arguments.length?(0,Ke.r7)(this._delegate,oe):(0,Ke.r7)(this._delegate,oe,Se,...ft)}catch(jt){throw et(jt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Ke.oe)(this._delegate)}onSnapshot(...oe){const Se=gt(oe),ft=vt(oe,jt=>new Jt(this.firestore,new Ke.xU(this.firestore._delegate,this._userDataWriter,jt._key,jt._document,jt.metadata,this._delegate.converter)));return(0,Ke.cf)(this._delegate,Se,ft)}get(oe){let Se;return Se="cache"===oe?.source?(0,Ke.kl)(this._delegate):"server"===oe?.source?(0,Ke.Xk)(this._delegate):(0,Ke.QT)(this._delegate),Se.then(ft=>new Jt(this.firestore,new Ke.xU(this.firestore._delegate,this._userDataWriter,ft._key,ft._document,ft.metadata,this._delegate.converter)))}withConverter(oe){return new tt(this.firestore,this._delegate.withConverter(oe?Ve.getInstance(this.firestore,oe):null))}}function et(Tt,oe,Se){return Tt.message=Tt.message.replace(oe,Se),Tt}function gt(Tt){for(const oe of Tt)if("object"==typeof oe&&!$t(oe))return oe;return{}}function vt(Tt,oe){var Se,ft;let jt;return jt=$t(Tt[0])?Tt[0]:$t(Tt[1])?Tt[1]:"function"==typeof Tt[0]?{next:Tt[0],error:Tt[1],complete:Tt[2]}:{next:Tt[1],error:Tt[2],complete:Tt[3]},{next:Sn=>{jt.next&&jt.next(oe(Sn))},error:null===(Se=jt.error)||void 0===Se?void 0:Se.bind(jt),complete:null===(ft=jt.complete)||void 0===ft?void 0:ft.bind(jt)}}class Jt{constructor(oe,Se){this._firestore=oe,this._delegate=Se}get ref(){return new tt(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(oe){return this._delegate.data(oe)}get(oe,Se){return this._delegate.get(oe,Se)}isEqual(oe){return(0,Ke.qK)(this._delegate,oe._delegate)}}class zt extends Jt{data(oe){const Se=this._delegate.data(oe);return this._delegate._converter||(0,Ke.K9)(void 0!==Se,"Document in a QueryDocumentSnapshot should exist"),Se}}class Gt{constructor(oe,Se){this.firestore=oe,this._delegate=Se,this._userDataWriter=new rn(oe)}where(oe,Se,ft){try{return new Gt(this.firestore,(0,Ke.IO)(this._delegate,(0,Ke.ar)(oe,Se,ft)))}catch(jt){throw et(jt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(oe,Se){try{return new Gt(this.firestore,(0,Ke.IO)(this._delegate,(0,Ke.Xo)(oe,Se)))}catch(ft){throw et(ft,/(orderBy|where)\(\)/,"Query.$1()")}}limit(oe){try{return new Gt(this.firestore,(0,Ke.IO)(this._delegate,(0,Ke.b9)(oe)))}catch(Se){throw et(Se,"limit()","Query.limit()")}}limitToLast(oe){try{return new Gt(this.firestore,(0,Ke.IO)(this._delegate,(0,Ke.vh)(oe)))}catch(Se){throw et(Se,"limitToLast()","Query.limitToLast()")}}startAt(...oe){try{return new Gt(this.firestore,(0,Ke.IO)(this._delegate,(0,Ke.e0)(...oe)))}catch(Se){throw et(Se,"startAt()","Query.startAt()")}}startAfter(...oe){try{return new Gt(this.firestore,(0,Ke.IO)(this._delegate,(0,Ke.TQ)(...oe)))}catch(Se){throw et(Se,"startAfter()","Query.startAfter()")}}endBefore(...oe){try{return new Gt(this.firestore,(0,Ke.IO)(this._delegate,(0,Ke.Lx)(...oe)))}catch(Se){throw et(Se,"endBefore()","Query.endBefore()")}}endAt(...oe){try{return new Gt(this.firestore,(0,Ke.IO)(this._delegate,(0,Ke.Wu)(...oe)))}catch(Se){throw et(Se,"endAt()","Query.endAt()")}}isEqual(oe){return(0,Ke.iE)(this._delegate,oe._delegate)}get(oe){let Se;return Se="cache"===oe?.source?(0,Ke.UQ)(this._delegate):"server"===oe?.source?(0,Ke.zN)(this._delegate):(0,Ke.PL)(this._delegate),Se.then(ft=>new Gn(this.firestore,new Ke.W(this.firestore._delegate,this._userDataWriter,this._delegate,ft._snapshot)))}onSnapshot(...oe){const Se=gt(oe),ft=vt(oe,jt=>new Gn(this.firestore,new Ke.W(this.firestore._delegate,this._userDataWriter,this._delegate,jt._snapshot)));return(0,Ke.cf)(this._delegate,Se,ft)}withConverter(oe){return new Gt(this.firestore,this._delegate.withConverter(oe?Ve.getInstance(this.firestore,oe):null))}}class hn{constructor(oe,Se){this._firestore=oe,this._delegate=Se}get type(){return this._delegate.type}get doc(){return new zt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Gn{constructor(oe,Se){this._firestore=oe,this._delegate=Se}get query(){return new Gt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(oe=>new zt(this._firestore,oe))}docChanges(oe){return this._delegate.docChanges(oe).map(Se=>new hn(this._firestore,Se))}forEach(oe,Se){this._delegate.forEach(ft=>{oe.call(Se,new zt(this._firestore,ft))})}isEqual(oe){return(0,Ke.qK)(this._delegate,oe._delegate)}}class gn extends Gt{constructor(oe,Se){super(oe,Se),this.firestore=oe,this._delegate=Se}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const oe=this._delegate.parent;return oe?new tt(this.firestore,oe):null}doc(oe){try{return new tt(this.firestore,void 0===oe?(0,Ke.JU)(this._delegate):(0,Ke.JU)(this._delegate,oe))}catch(Se){throw et(Se,"doc()","CollectionReference.doc()")}}add(oe){return(0,Ke.ET)(this._delegate,oe).then(Se=>new tt(this.firestore,Se))}isEqual(oe){return(0,Ke.Eo)(this._delegate,oe._delegate)}withConverter(oe){return new gn(this.firestore,this._delegate.withConverter(oe?Ve.getInstance(this.firestore,oe):null))}}function On(Tt){return(0,Ke.Cf)(Tt,Ke.my)}class qt{constructor(...oe){this._delegate=new Ke.Lz(...oe)}static documentId(){return new qt(Ke.Xb.keyField().canonicalString())}isEqual(oe){return(oe=(0,ze.m9)(oe))instanceof Ke.Lz&&this._delegate._internalPath.isEqual(oe._internalPath)}}class fn{constructor(oe){this._delegate=oe}static serverTimestamp(){const oe=(0,Ke.Bt)();return oe._methodName="FieldValue.serverTimestamp",new fn(oe)}static delete(){const oe=(0,Ke.AK)();return oe._methodName="FieldValue.delete",new fn(oe)}static arrayUnion(...oe){const Se=(0,Ke.vr)(...oe);return Se._methodName="FieldValue.arrayUnion",new fn(Se)}static arrayRemove(...oe){const Se=(0,Ke.Ab)(...oe);return Se._methodName="FieldValue.arrayRemove",new fn(Se)}static increment(oe){const Se=(0,Ke.nP)(oe);return Se._methodName="FieldValue.increment",new fn(Se)}isEqual(oe){return this._delegate.isEqual(oe._delegate)}}const Cn={Firestore:Nt,GeoPoint:Ke.F8,Timestamp:Ke.EK,Blob:Et,Transaction:Ne,WriteBatch:_e,DocumentReference:tt,DocumentSnapshot:Jt,Query:Gt,QueryDocumentSnapshot:zt,QuerySnapshot:Gn,CollectionReference:gn,FieldPath:qt,FieldValue:fn,setLogLevel:function at(Tt){(0,Ke.Ub)(Tt)},CACHE_SIZE_UNLIMITED:Ke.IX};!function Zt(Tt){(function Dn(Tt,oe){Tt.INTERNAL.registerComponent(new rt.wA("firestore-compat",Se=>{const ft=Se.getProvider("app-compat").getImmediate(),jt=Se.getProvider("firestore").getImmediate();return oe(ft,jt)},"PUBLIC").setServiceProps(Object.assign({},Cn)))})(Tt,(oe,Se)=>new Nt(oe,Se,new bt)),Tt.registerVersion("@firebase/firestore-compat","0.3.32")}(en.Z);var li=H(7142);function dr(Tt,oe){return function wn(Tt,oe=Pe.z){return new me.y(Se=>{let ft;return null!=oe?oe.schedule(()=>{ft=Tt.onSnapshot({includeMetadataChanges:!0},Se)}):ft=Tt.onSnapshot({includeMetadataChanges:!0},Se),()=>{ft?.()}})}(Tt,oe)}function kt(Tt,oe){return dr(Tt,oe).pipe((0,Xe.U)(Se=>({payload:Se,type:"query"})))}class vn{ref;afs;constructor(oe,Se){this.ref=oe,this.afs=Se}set(oe,Se){return this.ref.set(oe,Se)}update(oe){return this.ref.update(oe)}delete(){return this.ref.delete()}collection(oe,Se){const ft=this.ref.collection(oe),{ref:jt,query:Sn}=hr(ft,Se);return new Mr(jt,Sn,this.afs)}snapshotChanges(){return function Hn(Tt,oe){return dr(Tt,oe).pipe((0,fe.O)(void 0),pt(),(0,Xe.U)(Se=>{const[ft,jt]=Se;return jt.exists?ft?.exists?{payload:jt,type:"modified"}:{payload:jt,type:"added"}:{payload:jt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(K.iC)}valueChanges(oe={}){return this.snapshotChanges().pipe((0,Xe.U)(({payload:Se})=>oe.idField?{...Se.data(),[oe.idField]:Se.id}:Se.data()))}get(oe){return(0,Ae.D)(this.ref.get(oe)).pipe(K.iC)}}function Fn(Tt,oe){return kt(Tt,oe).pipe((0,fe.O)(void 0),pt(),(0,Xe.U)(Se=>{const[ft,jt]=Se,Sn=jt.payload.docChanges(),ti=Sn.map(Ft=>({type:Ft.type,payload:Ft}));return ft&&JSON.stringify(ft.payload.metadata)!==JSON.stringify(jt.payload.metadata)&&jt.payload.docs.forEach((Ft,ue)=>{const X=Sn.find(B=>B.doc.ref.isEqual(Ft.ref)),$=ft?.payload.docs.find(B=>B.ref.isEqual(Ft.ref));X&&JSON.stringify(X.doc.metadata)===JSON.stringify(Ft.metadata)||!X&&$&&JSON.stringify($.metadata)===JSON.stringify(Ft.metadata)||ti.push({type:"modified",payload:{oldIndex:ue,newIndex:ue,type:"modified",doc:Ft}})}),ti}))}function An(Tt,oe,Se){return Fn(Tt,Se).pipe((0,Dt.R)((ft,jt)=>function kr(Tt,oe,Se){return oe.forEach(ft=>{Se.indexOf(ft.type)>-1&&(Tt=function qn(Tt,oe){switch(oe.type){case"added":if(!Tt[oe.newIndex]||!Tt[oe.newIndex].doc.ref.isEqual(oe.doc.ref))return Dr(Tt,oe.newIndex,0,oe);break;case"modified":if(null==Tt[oe.oldIndex]||Tt[oe.oldIndex].doc.ref.isEqual(oe.doc.ref)){if(oe.oldIndex!==oe.newIndex){const Se=Tt.slice();return Se.splice(oe.oldIndex,1),Se.splice(oe.newIndex,0,oe),Se}return Dr(Tt,oe.newIndex,1,oe)}break;case"removed":if(Tt[oe.oldIndex]&&Tt[oe.oldIndex].doc.ref.isEqual(oe.doc.ref))return Dr(Tt,oe.oldIndex,1)}return Tt}(Tt,ft))}),Tt}(ft,jt.map(Sn=>Sn.payload),oe),[]),(0,mt.x)(),(0,Xe.U)(ft=>ft.map(jt=>({type:jt.type,payload:jt}))))}function Dr(Tt,oe,Se,...ft){const jt=Tt.slice();return jt.splice(oe,Se,...ft),jt}function Bn(Tt){return(!Tt||0===Tt.length)&&(Tt=["added","removed","modified"]),Tt}class Mr{ref;query;afs;constructor(oe,Se,ft){this.ref=oe,this.query=Se,this.afs=ft}stateChanges(oe){let Se=Fn(this.query,this.afs.schedulers.outsideAngular);return oe&&oe.length>0&&(Se=Se.pipe((0,Xe.U)(ft=>ft.filter(jt=>oe.indexOf(jt.type)>-1)))),Se.pipe((0,fe.O)(void 0),pt(),(0,It.h)(([ft,jt])=>jt.length>0||!ft),(0,Xe.U)(([,ft])=>ft),K.iC)}auditTrail(oe){return this.stateChanges(oe).pipe((0,Dt.R)((Se,ft)=>[...Se,...ft],[]))}snapshotChanges(oe){const Se=Bn(oe);return An(this.query,Se,this.afs.schedulers.outsideAngular).pipe(K.iC)}valueChanges(oe={}){return kt(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xe.U)(Se=>Se.payload.docs.map(ft=>oe.idField?{...ft.data(),[oe.idField]:ft.id}:ft.data())),K.iC)}get(oe){return(0,Ae.D)(this.query.get(oe)).pipe(K.iC)}add(oe){return this.ref.add(oe)}doc(oe){return new vn(this.ref.doc(oe),this.afs)}}class hi{query;afs;constructor(oe,Se){this.query=oe,this.afs=Se}stateChanges(oe){return oe&&0!==oe.length?Fn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xe.U)(Se=>Se.filter(ft=>oe.indexOf(ft.type)>-1)),(0,It.h)(Se=>Se.length>0),K.iC):Fn(this.query,this.afs.schedulers.outsideAngular).pipe(K.iC)}auditTrail(oe){return this.stateChanges(oe).pipe((0,Dt.R)((Se,ft)=>[...Se,...ft],[]))}snapshotChanges(oe){const Se=Bn(oe);return An(this.query,Se,this.afs.schedulers.outsideAngular).pipe(K.iC)}valueChanges(oe={}){return kt(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xe.U)(ft=>ft.payload.docs.map(jt=>oe.idField?{[oe.idField]:jt.id,...jt.data()}:jt.data())),K.iC)}get(oe){return(0,Ae.D)(this.query.get(oe)).pipe(K.iC)}}const sn=new u.OlP("angularfire2.enableFirestorePersistence"),fi=new u.OlP("angularfire2.firestore.persistenceSettings"),Qn=new u.OlP("angularfire2.firestore.settings"),Tr=new u.OlP("angularfire2.firestore.use-emulator");function hr(Tt,oe=(Se=>Se)){return{query:oe(Tt),ref:Tt}}let Ur=(()=>{class Tt{schedulers;firestore;persistenceEnabled$;constructor(Se,ft,jt,Sn,ti,Ft,ue,X,$,B,L,he,Fe,yt,Rt,tn,nn){this.schedulers=ue;const an=(0,Ie.on)(Se,Ft,ft),Jn=$;B&&(0,Ee.nw)(an,Ft,L,Fe,yt,Rt,he,tn),[this.firestore,this.persistenceEnabled$]=(0,Ie.cc)(`${an.name}.firestore`,"AngularFirestore",an.name,()=>{const xn=Ft.runOutsideAngular(()=>an.firestore());if(Sn&&xn.settings(Sn),Jn&&xn.useEmulator(...Jn),jt&&!(0,g.PM)(ti)){const ui=()=>{try{return(0,Ae.D)(xn.enablePersistence(X||void 0).then(()=>!0,()=>!1))}catch(Ds){return typeof console<"u"&&console.warn(Ds),(0,xe.of)(!1)}};return[xn,Ft.runOutsideAngular(ui)]}return[xn,(0,xe.of)(!1)]},[Sn,Jn,jt])}collection(Se,ft){let jt;jt="string"==typeof Se?this.firestore.collection(Se):Se;const{ref:Sn,query:ti}=hr(jt,ft),Ft=this.schedulers.ngZone.run(()=>Sn);return new Mr(Ft,ti,this)}collectionGroup(Se,ft){const jt=ft||(ti=>ti),Sn=this.firestore.collectionGroup(Se);return new hi(jt(Sn),this)}doc(Se){let ft;ft="string"==typeof Se?this.firestore.doc(Se):Se;const jt=this.schedulers.ngZone.run(()=>ft);return new vn(jt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(ft){return new(ft||Tt)(u.LFG(Ie.Dh),u.LFG(Ie.xv,8),u.LFG(sn,8),u.LFG(Qn,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(K.HU),u.LFG(fi,8),u.LFG(Tr,8),u.LFG(Ee.zQ,8),u.LFG(Ee.Qv,8),u.LFG(Ee.L6,8),u.LFG(Ee._Q,8),u.LFG(Ee.rT,8),u.LFG(Ee.lh,8),u.LFG(Ee.f7,8),u.LFG(K.Rf,8))};static \u0275prov=u.Yz7({token:Tt,factory:Tt.\u0275fac,providedIn:"any"})}return Tt})(),qe=(()=>{class Tt{constructor(){li.Z.registerVersion("angularfire",K.q4.full,"fst-compat")}static enablePersistence(Se){return{ngModule:Tt,providers:[{provide:sn,useValue:!0},{provide:fi,useValue:Se}]}}static \u0275fac=function(ft){return new(ft||Tt)};static \u0275mod=u.oAB({type:Tt});static \u0275inj=u.cJS({providers:[Ur]})}return Tt})()},7217:(Qt,Ze,H)=>{H.d(Ze,{Dh:()=>Ae,GT:()=>Pe,Ot:()=>me,cc:()=>Xe,hO:()=>pt,on:()=>fe,pX:()=>Ee,xv:()=>xe});var g=H(5879),u=H(1920),K=H(7142);const Ie=["ngOnDestroy"],Ee=(_t,en,Ke,ze={})=>new Proxy(_t,{get:(rt,He)=>Ke.runOutsideAngular(()=>{if(_t[He])return ze?.spy?.get&&ze.spy.get(He,_t[He]),_t[He];if(Ie.indexOf(He)>-1)return()=>{};const it=en.toPromise().then(Ct=>{const Ye=Ct?.[He];return"function"==typeof Ye?Ye.bind(Ct):Ye?.then?Ye.then(ge=>Ke.run(()=>ge)):Ke.run(()=>Ye)});return new Proxy(()=>{},{get:(Ct,Ye)=>it[Ye],apply:(Ct,Ye,ge)=>it.then(Et=>{const $t=Et?.(...ge);return ze?.spy?.apply&&ze.spy.apply(He,ge,$t),$t})})})}),Pe=(_t,en)=>{en.forEach(Ke=>{Object.getOwnPropertyNames(Ke.prototype||Ke).forEach(ze=>{Object.defineProperty(_t.prototype,ze,Object.getOwnPropertyDescriptor(Ke.prototype||Ke,ze))})})};class me{constructor(en){return en}}const Ae=new g.OlP("angularfire2.app.options"),xe=new g.OlP("angularfire2.app.name");function fe(_t,en,Ke){const rt="object"==typeof Ke&&Ke||{};rt.name=rt.name||"string"==typeof Ke&&Ke||"[DEFAULT]";const it=K.Z.apps.filter(Ct=>Ct&&Ct.name===rt.name)[0]||en.runOutsideAngular(()=>K.Z.initializeApp(_t,rt));try{if(JSON.stringify(_t)!==JSON.stringify(it.options)){const Ct=!!module.hot;ve("error",`${it.name} Firebase App already initialized with different options${Ct?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new me(it)}const ve=(_t,...en)=>{(0,g.X6Q)()&&typeof console<"u"&&console[_t](...en)},Oe={provide:me,useFactory:fe,deps:[Ae,g.R0b,[new g.FiY,xe]]};let pt=(()=>{class _t{static initializeApp(Ke,ze){return{ngModule:_t,providers:[{provide:Ae,useValue:Ke},{provide:xe,useValue:ze}]}}constructor(Ke){K.Z.registerVersion("angularfire",u.q4.full,"core"),K.Z.registerVersion("angularfire",u.q4.full,"app-compat"),K.Z.registerVersion("angular",g.q4F.full,Ke.toString())}static \u0275fac=function(ze){return new(ze||_t)(g.LFG(g.Lbi))};static \u0275mod=g.oAB({type:_t});static \u0275inj=g.cJS({providers:[Oe]})}return _t})();function Xe(_t,en,Ke,ze,rt){const[,He,it]=globalThis.\u0275AngularfireInstanceCache.find(Ct=>Ct[0]===_t)||[];if(He)return function Dt(_t,en){try{return _t.toString()===en.toString()}catch{return _t===en}}(rt,it)||(It("error",`${en} was already initialized on the ${Ke} Firebase App with different settings.${mt?" You may need to reload as Firebase is not HMR aware.":""}`),It("warn",{is:rt,was:it})),He;{const Ct=ze();return globalThis.\u0275AngularfireInstanceCache.push([_t,Ct,rt]),Ct}}const mt=typeof module<"u"&&!!module.hot,It=(_t,...en)=>{(0,g.X6Q)()&&typeof console<"u"&&console[_t](...en)};globalThis.\u0275AngularfireInstanceCache||=[]},1920:(Qt,Ze,H)=>{H.d(Ze,{q4:()=>Xe,iC:()=>$t,fc:()=>ge,HU:()=>He,Rf:()=>_t,vb:()=>It,JM:()=>mt,u3:()=>Nt});var g=H(5879),u=H(3182),K=H(1954),Ee=H(2631);const me=new class Pe extends Ee.v{}(class Ie extends K.o{constructor(at,Ne){super(at,Ne),this.scheduler=at,this.work=Ne}schedule(at,Ne=0){return Ne>0?super.schedule(at,Ne):(this.delay=Ne,this.state=at,this.scheduler.flush(this),this)}execute(at,Ne){return Ne>0||this.closed?super.execute(at,Ne):this._execute(at,Ne)}requestAsyncId(at,Ne,_e=0){return null!=_e&&_e>0||null==_e&&this.delay>0?super.requestAsyncId(at,Ne,_e):(at.flush(this),0)}});var xe=H(6321),fe=H(5592),ve=H(9397),Oe=H(3093),pt=H(5137);const Xe=new g.GfV("ANGULARFIRE2_VERSION");function mt(rn,at,Ne){if(at){if(1===at.length)return at[0];const tt=at.filter(et=>et.app===Ne);if(1===tt.length)return tt[0]}return Ne.container.getProvider(rn).getImmediate({optional:!0})}const It=(rn,at)=>{const Ne=at?[at]:(0,u.C6)(),_e=[];return Ne.forEach(Ve=>{Ve.container.getProvider(rn).instances.forEach(et=>{_e.includes(et)||_e.push(et)})}),_e};class _t{constructor(){return It(en)}}const en="app-check";function Ke(){}class ze{zone;delegate;constructor(at,Ne=me){this.zone=at,this.delegate=Ne}now(){return this.delegate.now()}schedule(at,Ne,_e){const Ve=this.zone;return this.delegate.schedule(function(et){Ve.runGuarded(()=>{at.apply(this,[et])})},Ne,_e)}}class rt{zone;task=null;constructor(at){this.zone=at}call(at,Ne){const _e=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ke,{},Ke,Ke)),Ne.pipe((0,ve.b)({next:_e,complete:_e,error:_e})).subscribe(at).add(_e)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let He=(()=>{class rn{ngZone;outsideAngular;insideAngular;constructor(Ne){this.ngZone=Ne,this.outsideAngular=Ne.runOutsideAngular(()=>new ze(Zone.current)),this.insideAngular=Ne.run(()=>new ze(Zone.current,xe.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(_e){return new(_e||rn)(g.LFG(g.R0b))};static \u0275prov=g.Yz7({token:rn,factory:rn.\u0275fac,providedIn:"root"})}return rn})();function it(){const rn=globalThis.\u0275AngularFireScheduler;if(!rn)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return rn}function Ye(rn){return it().ngZone.run(()=>rn())}function ge(rn){return rn.pipe((0,Oe.Q)(it().outsideAngular))}function $t(rn){return function zn(rn){return function(Ne){return(Ne=Ne.lift(new rt(rn.ngZone))).pipe((0,pt.R)(rn.outsideAngular),(0,Oe.Q)(rn.insideAngular))}}(it())(rn)}const bt=(rn,at)=>function(){const _e=arguments;return at&&setTimeout(()=>{"scheduled"===at.state&&at.invoke()},10),Ye(()=>rn.apply(void 0,_e))},Nt=(rn,at)=>function(){let Ne;const _e=arguments;for(let tt=0;tt<arguments.length;tt++)"function"==typeof _e[tt]&&(at&&(Ne||=Ye(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ke,{},Ke,Ke))),_e[tt]=bt(_e[tt],Ne));const Ve=function Ct(rn){return it().ngZone.runOutsideAngular(()=>rn())}(()=>rn.apply(this,_e));if(!at){if(Ve instanceof fe.y){const tt=it();return Ve.pipe((0,pt.R)(tt.outsideAngular),(0,Oe.Q)(tt.insideAngular))}return Ye(()=>Ve)}return Ve instanceof fe.y?Ve.pipe($t):Ve instanceof Promise?Ye(()=>new Promise((tt,et)=>Ve.then(gt=>Ye(()=>tt(gt)),gt=>Ye(()=>et(gt))))):"function"==typeof Ve&&Ne?function(){return setTimeout(()=>{Ne&&"scheduled"===Ne.state&&Ne.invoke()},10),Ve.apply(this,arguments)}:Ye(()=>Ve)}},6223:(Qt,Ze,H)=>{H.d(Ze,{EJ:()=>ys,F:()=>Ci,Fj:()=>Xe,JJ:()=>Zt,JL:()=>li,Kr:()=>Zi,On:()=>Gi,Q7:()=>Kn,UX:()=>us,YN:()=>zr,_Y:()=>wo,kI:()=>Ke,qu:()=>mn,sg:()=>Or,u:()=>Xt,u5:()=>Bi});var g=H(5879),u=H(6814),K=H(2459),Ie=H(9315),Ee=H(7398);let Pe=(()=>{class q{constructor(V,ce){this._renderer=V,this._elementRef=ce,this.onChange=Me=>{},this.onTouched=()=>{}}setProperty(V,ce){this._renderer.setProperty(this._elementRef.nativeElement,V,ce)}registerOnTouched(V){this.onTouched=V}registerOnChange(V){this.onChange=V}setDisabledState(V){this.setProperty("disabled",V)}static#e=this.\u0275fac=function(ce){return new(ce||q)(g.Y36(g.Qsj),g.Y36(g.SBq))};static#t=this.\u0275dir=g.lG2({type:q})}return q})(),me=(()=>{class q extends Pe{static#e=this.\u0275fac=function(){let V;return function(Me){return(V||(V=g.n5z(q)))(Me||q)}}();static#t=this.\u0275dir=g.lG2({type:q,features:[g.qOj]})}return q})();const Ae=new g.OlP("NgValueAccessor"),ve={provide:Ae,useExisting:(0,g.Gpc)(()=>Xe),multi:!0},pt=new g.OlP("CompositionEventMode");let Xe=(()=>{class q extends Pe{constructor(V,ce,Me){super(V,ce),this._compositionMode=Me,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Oe(){const q=(0,u.q)()?(0,u.q)().getUserAgent():"";return/android (\d+)/.test(q.toLowerCase())}())}writeValue(V){this.setProperty("value",V??"")}_handleInput(V){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(V)}_compositionStart(){this._composing=!0}_compositionEnd(V){this._composing=!1,this._compositionMode&&this.onChange(V)}static#e=this.\u0275fac=function(ce){return new(ce||q)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(pt,8))};static#t=this.\u0275dir=g.lG2({type:q,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ce,Me){1&ce&&g.NdJ("input",function(cr){return Me._handleInput(cr.target.value)})("blur",function(){return Me.onTouched()})("compositionstart",function(){return Me._compositionStart()})("compositionend",function(cr){return Me._compositionEnd(cr.target.value)})},features:[g._Bn([ve]),g.qOj]})}return q})();function Dt(q){return null==q||("string"==typeof q||Array.isArray(q))&&0===q.length}function mt(q){return null!=q&&"number"==typeof q.length}const It=new g.OlP("NgValidators"),_t=new g.OlP("NgAsyncValidators"),en=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ke{static min(ee){return function ze(q){return ee=>{if(Dt(ee.value)||Dt(q))return null;const V=parseFloat(ee.value);return!isNaN(V)&&V<q?{min:{min:q,actual:ee.value}}:null}}(ee)}static max(ee){return function rt(q){return ee=>{if(Dt(ee.value)||Dt(q))return null;const V=parseFloat(ee.value);return!isNaN(V)&&V>q?{max:{max:q,actual:ee.value}}:null}}(ee)}static required(ee){return He(ee)}static requiredTrue(ee){return function it(q){return!0===q.value?null:{required:!0}}(ee)}static email(ee){return function Ct(q){return Dt(q.value)||en.test(q.value)?null:{email:!0}}(ee)}static minLength(ee){return function Ye(q){return ee=>Dt(ee.value)||!mt(ee.value)?null:ee.value.length<q?{minlength:{requiredLength:q,actualLength:ee.value.length}}:null}(ee)}static maxLength(ee){return function ge(q){return ee=>mt(ee.value)&&ee.value.length>q?{maxlength:{requiredLength:q,actualLength:ee.value.length}}:null}(ee)}static pattern(ee){return function Et(q){if(!q)return $t;let ee,V;return"string"==typeof q?(V="","^"!==q.charAt(0)&&(V+="^"),V+=q,"$"!==q.charAt(q.length-1)&&(V+="$"),ee=new RegExp(V)):(V=q.toString(),ee=q),ce=>{if(Dt(ce.value))return null;const Me=ce.value;return ee.test(Me)?null:{pattern:{requiredPattern:V,actualValue:Me}}}}(ee)}static nullValidator(ee){return null}static compose(ee){return _e(ee)}static composeAsync(ee){return tt(ee)}}function He(q){return Dt(q.value)?{required:!0}:null}function $t(q){return null}function zn(q){return null!=q}function bt(q){return(0,g.QGY)(q)?(0,K.D)(q):q}function Nt(q){let ee={};return q.forEach(V=>{ee=null!=V?{...ee,...V}:ee}),0===Object.keys(ee).length?null:ee}function rn(q,ee){return ee.map(V=>V(q))}function Ne(q){return q.map(ee=>function at(q){return!q.validate}(ee)?ee:V=>ee.validate(V))}function _e(q){if(!q)return null;const ee=q.filter(zn);return 0==ee.length?null:function(V){return Nt(rn(V,ee))}}function Ve(q){return null!=q?_e(Ne(q)):null}function tt(q){if(!q)return null;const ee=q.filter(zn);return 0==ee.length?null:function(V){const ce=rn(V,ee).map(bt);return(0,Ie.D)(ce).pipe((0,Ee.U)(Nt))}}function et(q){return null!=q?tt(Ne(q)):null}function gt(q,ee){return null===q?[ee]:Array.isArray(q)?[...q,ee]:[q,ee]}function vt(q){return q._rawValidators}function Jt(q){return q._rawAsyncValidators}function zt(q){return q?Array.isArray(q)?q:[q]:[]}function Gt(q,ee){return Array.isArray(q)?q.includes(ee):q===ee}function hn(q,ee){const V=zt(ee);return zt(q).forEach(Me=>{Gt(V,Me)||V.push(Me)}),V}function Gn(q,ee){return zt(ee).filter(V=>!Gt(q,V))}class gn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ee){this._rawValidators=ee||[],this._composedValidatorFn=Ve(this._rawValidators)}_setAsyncValidators(ee){this._rawAsyncValidators=ee||[],this._composedAsyncValidatorFn=et(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ee){this._onDestroyCallbacks.push(ee)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ee=>ee()),this._onDestroyCallbacks=[]}reset(ee=void 0){this.control&&this.control.reset(ee)}hasError(ee,V){return!!this.control&&this.control.hasError(ee,V)}getError(ee,V){return this.control?this.control.getError(ee,V):null}}class On extends gn{get formDirective(){return null}get path(){return null}}class qt extends gn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class fn{constructor(ee){this._cd=ee}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Zt=(()=>{class q extends fn{constructor(V){super(V)}static#e=this.\u0275fac=function(ce){return new(ce||q)(g.Y36(qt,2))};static#t=this.\u0275dir=g.lG2({type:q,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ce,Me){2&ce&&g.ekj("ng-untouched",Me.isUntouched)("ng-touched",Me.isTouched)("ng-pristine",Me.isPristine)("ng-dirty",Me.isDirty)("ng-valid",Me.isValid)("ng-invalid",Me.isInvalid)("ng-pending",Me.isPending)},features:[g.qOj]})}return q})(),li=(()=>{class q extends fn{constructor(V){super(V)}static#e=this.\u0275fac=function(ce){return new(ce||q)(g.Y36(On,10))};static#t=this.\u0275dir=g.lG2({type:q,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ce,Me){2&ce&&g.ekj("ng-untouched",Me.isUntouched)("ng-touched",Me.isTouched)("ng-pristine",Me.isPristine)("ng-dirty",Me.isDirty)("ng-valid",Me.isValid)("ng-invalid",Me.isInvalid)("ng-pending",Me.isPending)("ng-submitted",Me.isSubmitted)},features:[g.qOj]})}return q})();const hr="VALID",Ur="INVALID",qe="PENDING",Tt="DISABLED";function oe(q){return(Sn(q)?q.validators:q)||null}function ft(q,ee){return(Sn(ee)?ee.asyncValidators:q)||null}function Sn(q){return null!=q&&!Array.isArray(q)&&"object"==typeof q}function ti(q,ee,V){const ce=q.controls;if(!(ee?Object.keys(ce):ce).length)throw new g.vHH(1e3,"");if(!ce[V])throw new g.vHH(1001,"")}function Ft(q,ee,V){q._forEachChild((ce,Me)=>{if(void 0===V[Me])throw new g.vHH(1002,"")})}class ue{constructor(ee,V){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(ee),this._assignAsyncValidators(V)}get validator(){return this._composedValidatorFn}set validator(ee){this._rawValidators=this._composedValidatorFn=ee}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ee){this._rawAsyncValidators=this._composedAsyncValidatorFn=ee}get parent(){return this._parent}get valid(){return this.status===hr}get invalid(){return this.status===Ur}get pending(){return this.status==qe}get disabled(){return this.status===Tt}get enabled(){return this.status!==Tt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ee){this._assignValidators(ee)}setAsyncValidators(ee){this._assignAsyncValidators(ee)}addValidators(ee){this.setValidators(hn(ee,this._rawValidators))}addAsyncValidators(ee){this.setAsyncValidators(hn(ee,this._rawAsyncValidators))}removeValidators(ee){this.setValidators(Gn(ee,this._rawValidators))}removeAsyncValidators(ee){this.setAsyncValidators(Gn(ee,this._rawAsyncValidators))}hasValidator(ee){return Gt(this._rawValidators,ee)}hasAsyncValidator(ee){return Gt(this._rawAsyncValidators,ee)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ee={}){this.touched=!0,this._parent&&!ee.onlySelf&&this._parent.markAsTouched(ee)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(ee=>ee.markAllAsTouched())}markAsUntouched(ee={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(V=>{V.markAsUntouched({onlySelf:!0})}),this._parent&&!ee.onlySelf&&this._parent._updateTouched(ee)}markAsDirty(ee={}){this.pristine=!1,this._parent&&!ee.onlySelf&&this._parent.markAsDirty(ee)}markAsPristine(ee={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(V=>{V.markAsPristine({onlySelf:!0})}),this._parent&&!ee.onlySelf&&this._parent._updatePristine(ee)}markAsPending(ee={}){this.status=qe,!1!==ee.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!ee.onlySelf&&this._parent.markAsPending(ee)}disable(ee={}){const V=this._parentMarkedDirty(ee.onlySelf);this.status=Tt,this.errors=null,this._forEachChild(ce=>{ce.disable({...ee,onlySelf:!0})}),this._updateValue(),!1!==ee.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ee,skipPristineCheck:V}),this._onDisabledChange.forEach(ce=>ce(!0))}enable(ee={}){const V=this._parentMarkedDirty(ee.onlySelf);this.status=hr,this._forEachChild(ce=>{ce.enable({...ee,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ee.emitEvent}),this._updateAncestors({...ee,skipPristineCheck:V}),this._onDisabledChange.forEach(ce=>ce(!1))}_updateAncestors(ee){this._parent&&!ee.onlySelf&&(this._parent.updateValueAndValidity(ee),ee.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(ee){this._parent=ee}getRawValue(){return this.value}updateValueAndValidity(ee={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===hr||this.status===qe)&&this._runAsyncValidator(ee.emitEvent)),!1!==ee.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ee.onlySelf&&this._parent.updateValueAndValidity(ee)}_updateTreeValidity(ee={emitEvent:!0}){this._forEachChild(V=>V._updateTreeValidity(ee)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ee.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tt:hr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ee){if(this.asyncValidator){this.status=qe,this._hasOwnPendingAsyncValidator=!0;const V=bt(this.asyncValidator(this));this._asyncValidationSubscription=V.subscribe(ce=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ce,{emitEvent:ee})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(ee,V={}){this.errors=ee,this._updateControlsErrors(!1!==V.emitEvent)}get(ee){let V=ee;return null==V||(Array.isArray(V)||(V=V.split(".")),0===V.length)?null:V.reduce((ce,Me)=>ce&&ce._find(Me),this)}getError(ee,V){const ce=V?this.get(V):this;return ce&&ce.errors?ce.errors[ee]:null}hasError(ee,V){return!!this.getError(ee,V)}get root(){let ee=this;for(;ee._parent;)ee=ee._parent;return ee}_updateControlsErrors(ee){this.status=this._calculateStatus(),ee&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(ee)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?Tt:this.errors?Ur:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qe)?qe:this._anyControlsHaveStatus(Ur)?Ur:hr}_anyControlsHaveStatus(ee){return this._anyControls(V=>V.status===ee)}_anyControlsDirty(){return this._anyControls(ee=>ee.dirty)}_anyControlsTouched(){return this._anyControls(ee=>ee.touched)}_updatePristine(ee={}){this.pristine=!this._anyControlsDirty(),this._parent&&!ee.onlySelf&&this._parent._updatePristine(ee)}_updateTouched(ee={}){this.touched=this._anyControlsTouched(),this._parent&&!ee.onlySelf&&this._parent._updateTouched(ee)}_registerOnCollectionChange(ee){this._onCollectionChange=ee}_setUpdateStrategy(ee){Sn(ee)&&null!=ee.updateOn&&(this._updateOn=ee.updateOn)}_parentMarkedDirty(ee){return!ee&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ee){return null}_assignValidators(ee){this._rawValidators=Array.isArray(ee)?ee.slice():ee,this._composedValidatorFn=function Se(q){return Array.isArray(q)?Ve(q):q||null}(this._rawValidators)}_assignAsyncValidators(ee){this._rawAsyncValidators=Array.isArray(ee)?ee.slice():ee,this._composedAsyncValidatorFn=function jt(q){return Array.isArray(q)?et(q):q||null}(this._rawAsyncValidators)}}class X extends ue{constructor(ee,V,ce){super(oe(V),ft(ce,V)),this.controls=ee,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(ee,V){return this.controls[ee]?this.controls[ee]:(this.controls[ee]=V,V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange),V)}addControl(ee,V,ce={}){this.registerControl(ee,V),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}removeControl(ee,V={}){this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),delete this.controls[ee],this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}setControl(ee,V,ce={}){this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),delete this.controls[ee],V&&this.registerControl(ee,V),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}contains(ee){return this.controls.hasOwnProperty(ee)&&this.controls[ee].enabled}setValue(ee,V={}){Ft(this,0,ee),Object.keys(ee).forEach(ce=>{ti(this,!0,ce),this.controls[ce].setValue(ee[ce],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue(ee,V={}){null!=ee&&(Object.keys(ee).forEach(ce=>{const Me=this.controls[ce];Me&&Me.patchValue(ee[ce],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset(ee={},V={}){this._forEachChild((ce,Me)=>{ce.reset(ee?ee[Me]:null,{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this._reduceChildren({},(ee,V,ce)=>(ee[ce]=V.getRawValue(),ee))}_syncPendingControls(){let ee=this._reduceChildren(!1,(V,ce)=>!!ce._syncPendingControls()||V);return ee&&this.updateValueAndValidity({onlySelf:!0}),ee}_forEachChild(ee){Object.keys(this.controls).forEach(V=>{const ce=this.controls[V];ce&&ee(ce,V)})}_setUpControls(){this._forEachChild(ee=>{ee.setParent(this),ee._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(ee){for(const[V,ce]of Object.entries(this.controls))if(this.contains(V)&&ee(ce))return!0;return!1}_reduceValue(){return this._reduceChildren({},(V,ce,Me)=>((ce.enabled||this.disabled)&&(V[Me]=ce.value),V))}_reduceChildren(ee,V){let ce=ee;return this._forEachChild((Me,bn)=>{ce=V(ce,Me,bn)}),ce}_allControlsDisabled(){for(const ee of Object.keys(this.controls))if(this.controls[ee].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(ee){return this.controls.hasOwnProperty(ee)?this.controls[ee]:null}}class L extends X{}const Fe=new g.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>yt}),yt="always";function Rt(q,ee){return[...ee.path,q]}function tn(q,ee,V=yt){xn(q,ee),ee.valueAccessor.writeValue(q.value),(q.disabled||"always"===V)&&ee.valueAccessor.setDisabledState?.(q.disabled),function Ds(q,ee){ee.valueAccessor.registerOnChange(V=>{q._pendingValue=V,q._pendingChange=!0,q._pendingDirty=!0,"change"===q.updateOn&&vi(q,ee)})}(q,ee),function so(q,ee){const V=(ce,Me)=>{ee.valueAccessor.writeValue(ce),Me&&ee.viewToModelUpdate(ce)};q.registerOnChange(V),ee._registerOnDestroy(()=>{q._unregisterOnChange(V)})}(q,ee),function To(q,ee){ee.valueAccessor.registerOnTouched(()=>{q._pendingTouched=!0,"blur"===q.updateOn&&q._pendingChange&&vi(q,ee),"submit"!==q.updateOn&&q.markAsTouched()})}(q,ee),function Jn(q,ee){if(ee.valueAccessor.setDisabledState){const V=ce=>{ee.valueAccessor.setDisabledState(ce)};q.registerOnDisabledChange(V),ee._registerOnDestroy(()=>{q._unregisterOnDisabledChange(V)})}}(q,ee)}function nn(q,ee,V=!0){const ce=()=>{};ee.valueAccessor&&(ee.valueAccessor.registerOnChange(ce),ee.valueAccessor.registerOnTouched(ce)),ui(q,ee),q&&(ee._invokeOnDestroyCallbacks(),q._registerOnCollectionChange(()=>{}))}function an(q,ee){q.forEach(V=>{V.registerOnValidatorChange&&V.registerOnValidatorChange(ee)})}function xn(q,ee){const V=vt(q);null!==ee.validator?q.setValidators(gt(V,ee.validator)):"function"==typeof V&&q.setValidators([V]);const ce=Jt(q);null!==ee.asyncValidator?q.setAsyncValidators(gt(ce,ee.asyncValidator)):"function"==typeof ce&&q.setAsyncValidators([ce]);const Me=()=>q.updateValueAndValidity();an(ee._rawValidators,Me),an(ee._rawAsyncValidators,Me)}function ui(q,ee){let V=!1;if(null!==q){if(null!==ee.validator){const Me=vt(q);if(Array.isArray(Me)&&Me.length>0){const bn=Me.filter(cr=>cr!==ee.validator);bn.length!==Me.length&&(V=!0,q.setValidators(bn))}}if(null!==ee.asyncValidator){const Me=Jt(q);if(Array.isArray(Me)&&Me.length>0){const bn=Me.filter(cr=>cr!==ee.asyncValidator);bn.length!==Me.length&&(V=!0,q.setAsyncValidators(bn))}}}const ce=()=>{};return an(ee._rawValidators,ce),an(ee._rawAsyncValidators,ce),V}function vi(q,ee){q._pendingDirty&&q.markAsDirty(),q.setValue(q._pendingValue,{emitModelToViewChange:!1}),ee.viewToModelUpdate(q._pendingValue),q._pendingChange=!1}function ms(q,ee){xn(q,ee)}function Vi(q,ee){if(!q.hasOwnProperty("model"))return!1;const V=q.model;return!!V.isFirstChange()||!Object.is(ee,V.currentValue)}function Qo(q,ee){q._syncPendingControls(),ee.forEach(V=>{const ce=V.control;"submit"===ce.updateOn&&ce._pendingChange&&(V.viewToModelUpdate(ce._pendingValue),ce._pendingChange=!1)})}function Kr(q,ee){if(!ee)return null;let V,ce,Me;return Array.isArray(ee),ee.forEach(bn=>{bn.constructor===Xe?V=bn:function Fr(q){return Object.getPrototypeOf(q.constructor)===me}(bn)?ce=bn:Me=bn}),Me||ce||V||null}const ea={provide:On,useExisting:(0,g.Gpc)(()=>Ci)},fr=(()=>Promise.resolve())();let Ci=(()=>{class q extends On{constructor(V,ce,Me){super(),this.callSetDisabledState=Me,this.submitted=!1,this._directives=new Set,this.ngSubmit=new g.vpe,this.form=new X({},Ve(V),et(ce))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(V){fr.then(()=>{const ce=this._findContainer(V.path);V.control=ce.registerControl(V.name,V.control),tn(V.control,V,this.callSetDisabledState),V.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(V)})}getControl(V){return this.form.get(V.path)}removeControl(V){fr.then(()=>{const ce=this._findContainer(V.path);ce&&ce.removeControl(V.name),this._directives.delete(V)})}addFormGroup(V){fr.then(()=>{const ce=this._findContainer(V.path),Me=new X({});ms(Me,V),ce.registerControl(V.name,Me),Me.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(V){fr.then(()=>{const ce=this._findContainer(V.path);ce&&ce.removeControl(V.name)})}getFormGroup(V){return this.form.get(V.path)}updateModel(V,ce){fr.then(()=>{this.form.get(V.path).setValue(ce)})}setValue(V){this.control.setValue(V)}onSubmit(V){return this.submitted=!0,Qo(this.form,this._directives),this.ngSubmit.emit(V),"dialog"===V?.target?.method}onReset(){this.resetForm()}resetForm(V=void 0){this.form.reset(V),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(V){return V.pop(),V.length?this.form.get(V):this.form}static#e=this.\u0275fac=function(ce){return new(ce||q)(g.Y36(It,10),g.Y36(_t,10),g.Y36(Fe,8))};static#t=this.\u0275dir=g.lG2({type:q,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ce,Me){1&ce&&g.NdJ("submit",function(cr){return Me.onSubmit(cr)})("reset",function(){return Me.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([ea]),g.qOj]})}return q})();function Us(q,ee){const V=q.indexOf(ee);V>-1&&q.splice(V,1)}function Ui(q){return"object"==typeof q&&null!==q&&2===Object.keys(q).length&&"value"in q&&"disabled"in q}const Pr=class extends ue{constructor(ee=null,V,ce){super(oe(V),ft(ce,V)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ee),this._setUpdateStrategy(V),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Sn(V)&&(V.nonNullable||V.initialValueIsDefault)&&(this.defaultValue=Ui(ee)?ee.value:ee)}setValue(ee,V={}){this.value=this._pendingValue=ee,this._onChange.length&&!1!==V.emitModelToViewChange&&this._onChange.forEach(ce=>ce(this.value,!1!==V.emitViewToModelChange)),this.updateValueAndValidity(V)}patchValue(ee,V={}){this.setValue(ee,V)}reset(ee=this.defaultValue,V={}){this._applyFormState(ee),this.markAsPristine(V),this.markAsUntouched(V),this.setValue(this.value,V),this._pendingChange=!1}_updateValue(){}_anyControls(ee){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ee){this._onChange.push(ee)}_unregisterOnChange(ee){Us(this._onChange,ee)}registerOnDisabledChange(ee){this._onDisabledChange.push(ee)}_unregisterOnDisabledChange(ee){Us(this._onDisabledChange,ee)}_forEachChild(ee){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ee){Ui(ee)?(this.value=this._pendingValue=ee.value,ee.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ee}},Ss={provide:qt,useExisting:(0,g.Gpc)(()=>Gi)},Ii=(()=>Promise.resolve())();let Gi=(()=>{class q extends qt{constructor(V,ce,Me,bn,cr,ns){super(),this._changeDetectorRef=cr,this.callSetDisabledState=ns,this.control=new Pr,this._registered=!1,this.name="",this.update=new g.vpe,this._parent=V,this._setValidators(ce),this._setAsyncValidators(Me),this.valueAccessor=Kr(0,bn)}ngOnChanges(V){if(this._checkForErrors(),!this._registered||"name"in V){if(this._registered&&(this._checkName(),this.formDirective)){const ce=V.name.previousValue;this.formDirective.removeControl({name:ce,path:this._getPath(ce)})}this._setUpControl()}"isDisabled"in V&&this._updateDisabled(V),Vi(V,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){tn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(V){Ii.then(()=>{this.control.setValue(V,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(V){const ce=V.isDisabled.currentValue,Me=0!==ce&&(0,g.VuI)(ce);Ii.then(()=>{Me&&!this.control.disabled?this.control.disable():!Me&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(V){return this._parent?Rt(V,this._parent):[V]}static#e=this.\u0275fac=function(ce){return new(ce||q)(g.Y36(On,9),g.Y36(It,10),g.Y36(_t,10),g.Y36(Ae,10),g.Y36(g.sBO,8),g.Y36(Fe,8))};static#t=this.\u0275dir=g.lG2({type:q,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[g._Bn([Ss]),g.qOj,g.TTD]})}return q})(),wo=(()=>{class q{static#e=this.\u0275fac=function(ce){return new(ce||q)};static#t=this.\u0275dir=g.lG2({type:q,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return q})(),os=(()=>{class q{static#e=this.\u0275fac=function(ce){return new(ce||q)};static#t=this.\u0275mod=g.oAB({type:q});static#n=this.\u0275inj=g.cJS({})}return q})();const Mn=new g.OlP("NgModelWithFormControlWarning"),Pi={provide:On,useExisting:(0,g.Gpc)(()=>Or)};let Or=(()=>{class q extends On{constructor(V,ce,Me){super(),this.callSetDisabledState=Me,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new g.vpe,this._setValidators(V),this._setAsyncValidators(ce)}ngOnChanges(V){this._checkFormPresent(),V.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ui(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(V){const ce=this.form.get(V.path);return tn(ce,V,this.callSetDisabledState),ce.updateValueAndValidity({emitEvent:!1}),this.directives.push(V),ce}getControl(V){return this.form.get(V.path)}removeControl(V){nn(V.control||null,V,!1),function Jo(q,ee){const V=q.indexOf(ee);V>-1&&q.splice(V,1)}(this.directives,V)}addFormGroup(V){this._setUpFormContainer(V)}removeFormGroup(V){this._cleanUpFormContainer(V)}getFormGroup(V){return this.form.get(V.path)}addFormArray(V){this._setUpFormContainer(V)}removeFormArray(V){this._cleanUpFormContainer(V)}getFormArray(V){return this.form.get(V.path)}updateModel(V,ce){this.form.get(V.path).setValue(ce)}onSubmit(V){return this.submitted=!0,Qo(this.form,this.directives),this.ngSubmit.emit(V),"dialog"===V?.target?.method}onReset(){this.resetForm()}resetForm(V=void 0){this.form.reset(V),this.submitted=!1}_updateDomValue(){this.directives.forEach(V=>{const ce=V.control,Me=this.form.get(V.path);ce!==Me&&(nn(ce||null,V),(q=>q instanceof Pr)(Me)&&(tn(Me,V,this.callSetDisabledState),V.control=Me))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(V){const ce=this.form.get(V.path);ms(ce,V),ce.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(V){if(this.form){const ce=this.form.get(V.path);ce&&function Li(q,ee){return ui(q,ee)}(ce,V)&&ce.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){xn(this.form,this),this._oldForm&&ui(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(ce){return new(ce||q)(g.Y36(It,10),g.Y36(_t,10),g.Y36(Fe,8))};static#t=this.\u0275dir=g.lG2({type:q,selectors:[["","formGroup",""]],hostBindings:function(ce,Me){1&ce&&g.NdJ("submit",function(cr){return Me.onSubmit(cr)})("reset",function(){return Me.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([Pi]),g.qOj,g.TTD]})}return q})();const br={provide:qt,useExisting:(0,g.Gpc)(()=>Xt)};let Xt=(()=>{class q extends qt{set isDisabled(V){}static#e=this._ngModelWarningSentOnce=!1;constructor(V,ce,Me,bn,cr){super(),this._ngModelWarningConfig=cr,this._added=!1,this.name=null,this.update=new g.vpe,this._ngModelWarningSent=!1,this._parent=V,this._setValidators(ce),this._setAsyncValidators(Me),this.valueAccessor=Kr(0,bn)}ngOnChanges(V){this._added||this._setUpControl(),Vi(V,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}get path(){return Rt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(ce){return new(ce||q)(g.Y36(On,13),g.Y36(It,10),g.Y36(_t,10),g.Y36(Ae,10),g.Y36(Mn,8))};static#n=this.\u0275dir=g.lG2({type:q,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[g._Bn([br]),g.qOj,g.TTD]})}return q})();const Ln={provide:Ae,useExisting:(0,g.Gpc)(()=>ys),multi:!0};function gr(q,ee){return null==q?`${ee}`:(ee&&"object"==typeof ee&&(ee="Object"),`${q}: ${ee}`.slice(0,50))}let ys=(()=>{class q extends me{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(V){this._compareWith=V}writeValue(V){this.value=V;const Me=gr(this._getOptionId(V),V);this.setProperty("value",Me)}registerOnChange(V){this.onChange=ce=>{this.value=this._getOptionValue(ce),V(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(V){for(const ce of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ce),V))return ce;return null}_getOptionValue(V){const ce=function gi(q){return q.split(":")[0]}(V);return this._optionMap.has(ce)?this._optionMap.get(ce):V}static#e=this.\u0275fac=function(){let V;return function(Me){return(V||(V=g.n5z(q)))(Me||q)}}();static#t=this.\u0275dir=g.lG2({type:q,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ce,Me){1&ce&&g.NdJ("change",function(cr){return Me.onChange(cr.target.value)})("blur",function(){return Me.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([Ln]),g.qOj]})}return q})(),zr=(()=>{class q{constructor(V,ce,Me){this._element=V,this._renderer=ce,this._select=Me,this._select&&(this.id=this._select._registerOption())}set ngValue(V){null!=this._select&&(this._select._optionMap.set(this.id,V),this._setElementValue(gr(this.id,V)),this._select.writeValue(this._select.value))}set value(V){this._setElementValue(V),this._select&&this._select.writeValue(this._select.value)}_setElementValue(V){this._renderer.setProperty(this._element.nativeElement,"value",V)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ce){return new(ce||q)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(ys,9))};static#t=this.\u0275dir=g.lG2({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return q})();const ii={provide:Ae,useExisting:(0,g.Gpc)(()=>jn),multi:!0};function rr(q,ee){return null==q?`${ee}`:("string"==typeof ee&&(ee=`'${ee}'`),ee&&"object"==typeof ee&&(ee="Object"),`${q}: ${ee}`.slice(0,50))}let jn=(()=>{class q extends me{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(V){this._compareWith=V}writeValue(V){let ce;if(this.value=V,Array.isArray(V)){const Me=V.map(bn=>this._getOptionId(bn));ce=(bn,cr)=>{bn._setSelected(Me.indexOf(cr.toString())>-1)}}else ce=(Me,bn)=>{Me._setSelected(!1)};this._optionMap.forEach(ce)}registerOnChange(V){this.onChange=ce=>{const Me=[],bn=ce.selectedOptions;if(void 0!==bn){const cr=bn;for(let ns=0;ns<cr.length;ns++){const Fa=this._getOptionValue(cr[ns].value);Me.push(Fa)}}else{const cr=ce.options;for(let ns=0;ns<cr.length;ns++){const si=cr[ns];if(si.selected){const Fa=this._getOptionValue(si.value);Me.push(Fa)}}}this.value=Me,V(Me)}}_registerOption(V){const ce=(this._idCounter++).toString();return this._optionMap.set(ce,V),ce}_getOptionId(V){for(const ce of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ce)._value,V))return ce;return null}_getOptionValue(V){const ce=function Wi(q){return q.split(":")[0]}(V);return this._optionMap.has(ce)?this._optionMap.get(ce)._value:V}static#e=this.\u0275fac=function(){let V;return function(Me){return(V||(V=g.n5z(q)))(Me||q)}}();static#t=this.\u0275dir=g.lG2({type:q,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ce,Me){1&ce&&g.NdJ("change",function(cr){return Me.onChange(cr.target)})("blur",function(){return Me.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([ii]),g.qOj]})}return q})(),Zi=(()=>{class q{constructor(V,ce,Me){this._element=V,this._renderer=ce,this._select=Me,this._select&&(this.id=this._select._registerOption(this))}set ngValue(V){null!=this._select&&(this._value=V,this._setElementValue(rr(this.id,V)),this._select.writeValue(this._select.value))}set value(V){this._select?(this._value=V,this._setElementValue(rr(this.id,V)),this._select.writeValue(this._select.value)):this._setElementValue(V)}_setElementValue(V){this._renderer.setProperty(this._element.nativeElement,"value",V)}_setSelected(V){this._renderer.setProperty(this._element.nativeElement,"selected",V)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ce){return new(ce||q)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(jn,9))};static#t=this.\u0275dir=g.lG2({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return q})(),Nn=(()=>{class q{constructor(){this._validator=$t}ngOnChanges(V){if(this.inputName in V){const ce=this.normalizeInput(V[this.inputName].currentValue);this._enabled=this.enabled(ce),this._validator=this._enabled?this.createValidator(ce):$t,this._onChange&&this._onChange()}}validate(V){return this._validator(V)}registerOnValidatorChange(V){this._onChange=V}enabled(V){return null!=V}static#e=this.\u0275fac=function(ce){return new(ce||q)};static#t=this.\u0275dir=g.lG2({type:q,features:[g.TTD]})}return q})();const ka={provide:It,useExisting:(0,g.Gpc)(()=>Kn),multi:!0};let Kn=(()=>{class q extends Nn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=g.VuI,this.createValidator=V=>He}enabled(V){return V}static#e=this.\u0275fac=function(){let V;return function(Me){return(V||(V=g.n5z(q)))(Me||q)}}();static#t=this.\u0275dir=g.lG2({type:q,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ce,Me){2&ce&&g.uIk("required",Me._enabled?"":null)},inputs:{required:"required"},features:[g._Bn([ka]),g.qOj]})}return q})(),De=(()=>{class q{static#e=this.\u0275fac=function(ce){return new(ce||q)};static#t=this.\u0275mod=g.oAB({type:q});static#n=this.\u0275inj=g.cJS({imports:[os]})}return q})();class je extends ue{constructor(ee,V,ce){super(oe(V),ft(ce,V)),this.controls=ee,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(ee){return this.controls[this._adjustIndex(ee)]}push(ee,V={}){this.controls.push(ee),this._registerControl(ee),this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}insert(ee,V,ce={}){this.controls.splice(ee,0,V),this._registerControl(V),this.updateValueAndValidity({emitEvent:ce.emitEvent})}removeAt(ee,V={}){let ce=this._adjustIndex(ee);ce<0&&(ce=0),this.controls[ce]&&this.controls[ce]._registerOnCollectionChange(()=>{}),this.controls.splice(ce,1),this.updateValueAndValidity({emitEvent:V.emitEvent})}setControl(ee,V,ce={}){let Me=this._adjustIndex(ee);Me<0&&(Me=0),this.controls[Me]&&this.controls[Me]._registerOnCollectionChange(()=>{}),this.controls.splice(Me,1),V&&(this.controls.splice(Me,0,V),this._registerControl(V)),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(ee,V={}){Ft(this,0,ee),ee.forEach((ce,Me)=>{ti(this,!1,Me),this.at(Me).setValue(ce,{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue(ee,V={}){null!=ee&&(ee.forEach((ce,Me)=>{this.at(Me)&&this.at(Me).patchValue(ce,{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset(ee=[],V={}){this._forEachChild((ce,Me)=>{ce.reset(ee[Me],{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this.controls.map(ee=>ee.getRawValue())}clear(ee={}){this.controls.length<1||(this._forEachChild(V=>V._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:ee.emitEvent}))}_adjustIndex(ee){return ee<0?ee+this.length:ee}_syncPendingControls(){let ee=this.controls.reduce((V,ce)=>!!ce._syncPendingControls()||V,!1);return ee&&this.updateValueAndValidity({onlySelf:!0}),ee}_forEachChild(ee){this.controls.forEach((V,ce)=>{ee(V,ce)})}_updateValue(){this.value=this.controls.filter(ee=>ee.enabled||this.disabled).map(ee=>ee.value)}_anyControls(ee){return this.controls.some(V=>V.enabled&&ee(V))}_setUpControls(){this._forEachChild(ee=>this._registerControl(ee))}_allControlsDisabled(){for(const ee of this.controls)if(ee.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(ee){ee.setParent(this),ee._registerOnCollectionChange(this._onCollectionChange)}_find(ee){return this.at(ee)??null}}function on(q){return!!q&&(void 0!==q.asyncValidators||void 0!==q.validators||void 0!==q.updateOn)}let mn=(()=>{class q{constructor(){this.useNonNullable=!1}get nonNullable(){const V=new q;return V.useNonNullable=!0,V}group(V,ce=null){const Me=this._reduceControls(V);let bn={};return on(ce)?bn=ce:null!==ce&&(bn.validators=ce.validator,bn.asyncValidators=ce.asyncValidator),new X(Me,bn)}record(V,ce=null){const Me=this._reduceControls(V);return new L(Me,ce)}control(V,ce,Me){let bn={};return this.useNonNullable?(on(ce)?bn=ce:(bn.validators=ce,bn.asyncValidators=Me),new Pr(V,{...bn,nonNullable:!0})):new Pr(V,ce,Me)}array(V,ce,Me){const bn=V.map(cr=>this._createControl(cr));return new je(bn,ce,Me)}_reduceControls(V){const ce={};return Object.keys(V).forEach(Me=>{ce[Me]=this._createControl(V[Me])}),ce}_createControl(V){return V instanceof Pr||V instanceof ue?V:Array.isArray(V)?this.control(V[0],V.length>1?V[1]:null,V.length>2?V[2]:null):this.control(V)}static#e=this.\u0275fac=function(ce){return new(ce||q)};static#t=this.\u0275prov=g.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"})}return q})(),Bi=(()=>{class q{static withConfig(V){return{ngModule:q,providers:[{provide:Fe,useValue:V.callSetDisabledState??yt}]}}static#e=this.\u0275fac=function(ce){return new(ce||q)};static#t=this.\u0275mod=g.oAB({type:q});static#n=this.\u0275inj=g.cJS({imports:[De]})}return q})(),us=(()=>{class q{static withConfig(V){return{ngModule:q,providers:[{provide:Mn,useValue:V.warnOnNgModelWithFormControl??"always"},{provide:Fe,useValue:V.callSetDisabledState??yt}]}}static#e=this.\u0275fac=function(ce){return new(ce||q)};static#t=this.\u0275mod=g.oAB({type:q});static#n=this.\u0275inj=g.cJS({imports:[De]})}return q})()},6593:(Qt,Ze,H)=>{H.d(Ze,{Dx:()=>dr,H7:()=>Ur,b2:()=>Cn,q6:()=>gn,se:()=>Ye});var g=H(5879),u=H(6814);class K extends u.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ie extends K{static makeCurrent(){(0,u.HT)(new Ie)}onAndCancel($,B,L){return $.addEventListener(B,L),()=>{$.removeEventListener(B,L)}}dispatchEvent($,B){$.dispatchEvent(B)}remove($){$.parentNode&&$.parentNode.removeChild($)}createElement($,B){return(B=B||this.getDefaultDocument()).createElement($)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode($){return $.nodeType===Node.ELEMENT_NODE}isShadowRoot($){return $ instanceof DocumentFragment}getGlobalEventTarget($,B){return"window"===B?window:"document"===B?$:"body"===B?$.body:null}getBaseHref($){const B=function Pe(){return Ee=Ee||document.querySelector("base"),Ee?Ee.getAttribute("href"):null}();return null==B?null:function Ae(X){me=me||document.createElement("a"),me.setAttribute("href",X);const $=me.pathname;return"/"===$.charAt(0)?$:`/${$}`}(B)}resetBaseElement(){Ee=null}getUserAgent(){return window.navigator.userAgent}getCookie($){return(0,u.Mx)(document.cookie,$)}}let me,Ee=null,fe=(()=>{class X{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(L){return new(L||X)};static#t=this.\u0275prov=g.Yz7({token:X,factory:X.\u0275fac})}return X})();const ve=new g.OlP("EventManagerPlugins");let Oe=(()=>{class X{constructor(B,L){this._zone=L,this._eventNameToPlugin=new Map,B.forEach(he=>{he.manager=this}),this._plugins=B.slice().reverse()}addEventListener(B,L,he){return this._findPluginFor(L).addEventListener(B,L,he)}getZone(){return this._zone}_findPluginFor(B){let L=this._eventNameToPlugin.get(B);if(L)return L;if(L=this._plugins.find(Fe=>Fe.supports(B)),!L)throw new g.vHH(5101,!1);return this._eventNameToPlugin.set(B,L),L}static#e=this.\u0275fac=function(L){return new(L||X)(g.LFG(ve),g.LFG(g.R0b))};static#t=this.\u0275prov=g.Yz7({token:X,factory:X.\u0275fac})}return X})();class pt{constructor($){this._doc=$}}const Xe="ng-app-id";let Dt=(()=>{class X{constructor(B,L,he,Fe={}){this.doc=B,this.appId=L,this.nonce=he,this.platformId=Fe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,u.PM)(Fe),this.resetHostNodes()}addStyles(B){for(const L of B)1===this.changeUsageCount(L,1)&&this.onStyleAdded(L)}removeStyles(B){for(const L of B)this.changeUsageCount(L,-1)<=0&&this.onStyleRemoved(L)}ngOnDestroy(){const B=this.styleNodesInDOM;B&&(B.forEach(L=>L.remove()),B.clear());for(const L of this.getAllStyles())this.onStyleRemoved(L);this.resetHostNodes()}addHost(B){this.hostNodes.add(B);for(const L of this.getAllStyles())this.addStyleToHost(B,L)}removeHost(B){this.hostNodes.delete(B)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(B){for(const L of this.hostNodes)this.addStyleToHost(L,B)}onStyleRemoved(B){const L=this.styleRef;L.get(B)?.elements?.forEach(he=>he.remove()),L.delete(B)}collectServerRenderedStyles(){const B=this.doc.head?.querySelectorAll(`style[${Xe}="${this.appId}"]`);if(B?.length){const L=new Map;return B.forEach(he=>{null!=he.textContent&&L.set(he.textContent,he)}),L}return null}changeUsageCount(B,L){const he=this.styleRef;if(he.has(B)){const Fe=he.get(B);return Fe.usage+=L,Fe.usage}return he.set(B,{usage:L,elements:[]}),L}getStyleElement(B,L){const he=this.styleNodesInDOM,Fe=he?.get(L);if(Fe?.parentNode===B)return he.delete(L),Fe.removeAttribute(Xe),Fe;{const yt=this.doc.createElement("style");return this.nonce&&yt.setAttribute("nonce",this.nonce),yt.textContent=L,this.platformIsServer&&yt.setAttribute(Xe,this.appId),yt}}addStyleToHost(B,L){const he=this.getStyleElement(B,L);B.appendChild(he);const Fe=this.styleRef,yt=Fe.get(L)?.elements;yt?yt.push(he):Fe.set(L,{elements:[he],usage:1})}resetHostNodes(){const B=this.hostNodes;B.clear(),B.add(this.doc.head)}static#e=this.\u0275fac=function(L){return new(L||X)(g.LFG(u.K0),g.LFG(g.AFp),g.LFG(g.Ojb,8),g.LFG(g.Lbi))};static#t=this.\u0275prov=g.Yz7({token:X,factory:X.\u0275fac})}return X})();const mt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},It=/%COMP%/g,rt=new g.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ct(X,$){return $.map(B=>B.replace(It,X))}let Ye=(()=>{class X{constructor(B,L,he,Fe,yt,Rt,tn,nn=null){this.eventManager=B,this.sharedStylesHost=L,this.appId=he,this.removeStylesOnCompDestroy=Fe,this.doc=yt,this.platformId=Rt,this.ngZone=tn,this.nonce=nn,this.rendererByCompId=new Map,this.platformIsServer=(0,u.PM)(Rt),this.defaultRenderer=new ge(B,yt,tn,this.platformIsServer)}createRenderer(B,L){if(!B||!L)return this.defaultRenderer;this.platformIsServer&&L.encapsulation===g.ifc.ShadowDom&&(L={...L,encapsulation:g.ifc.Emulated});const he=this.getOrCreateRenderer(B,L);return he instanceof rn?he.applyToHost(B):he instanceof Nt&&he.applyStyles(),he}getOrCreateRenderer(B,L){const he=this.rendererByCompId;let Fe=he.get(L.id);if(!Fe){const yt=this.doc,Rt=this.ngZone,tn=this.eventManager,nn=this.sharedStylesHost,an=this.removeStylesOnCompDestroy,Jn=this.platformIsServer;switch(L.encapsulation){case g.ifc.Emulated:Fe=new rn(tn,nn,L,this.appId,an,yt,Rt,Jn);break;case g.ifc.ShadowDom:return new bt(tn,nn,B,L,yt,Rt,this.nonce,Jn);default:Fe=new Nt(tn,nn,L,an,yt,Rt,Jn)}he.set(L.id,Fe)}return Fe}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(L){return new(L||X)(g.LFG(Oe),g.LFG(Dt),g.LFG(g.AFp),g.LFG(rt),g.LFG(u.K0),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(g.Ojb))};static#t=this.\u0275prov=g.Yz7({token:X,factory:X.\u0275fac})}return X})();class ge{constructor($,B,L,he){this.eventManager=$,this.doc=B,this.ngZone=L,this.platformIsServer=he,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement($,B){return B?this.doc.createElementNS(mt[B]||B,$):this.doc.createElement($)}createComment($){return this.doc.createComment($)}createText($){return this.doc.createTextNode($)}appendChild($,B){(zn($)?$.content:$).appendChild(B)}insertBefore($,B,L){$&&(zn($)?$.content:$).insertBefore(B,L)}removeChild($,B){$&&$.removeChild(B)}selectRootElement($,B){let L="string"==typeof $?this.doc.querySelector($):$;if(!L)throw new g.vHH(-5104,!1);return B||(L.textContent=""),L}parentNode($){return $.parentNode}nextSibling($){return $.nextSibling}setAttribute($,B,L,he){if(he){B=he+":"+B;const Fe=mt[he];Fe?$.setAttributeNS(Fe,B,L):$.setAttribute(B,L)}else $.setAttribute(B,L)}removeAttribute($,B,L){if(L){const he=mt[L];he?$.removeAttributeNS(he,B):$.removeAttribute(`${L}:${B}`)}else $.removeAttribute(B)}addClass($,B){$.classList.add(B)}removeClass($,B){$.classList.remove(B)}setStyle($,B,L,he){he&(g.JOm.DashCase|g.JOm.Important)?$.style.setProperty(B,L,he&g.JOm.Important?"important":""):$.style[B]=L}removeStyle($,B,L){L&g.JOm.DashCase?$.style.removeProperty(B):$.style[B]=""}setProperty($,B,L){$[B]=L}setValue($,B){$.nodeValue=B}listen($,B,L){if("string"==typeof $&&!($=(0,u.q)().getGlobalEventTarget(this.doc,$)))throw new Error(`Unsupported event target ${$} for event ${B}`);return this.eventManager.addEventListener($,B,this.decoratePreventDefault(L))}decoratePreventDefault($){return B=>{if("__ngUnwrap__"===B)return $;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>$(B)):$(B))&&B.preventDefault()}}}function zn(X){return"TEMPLATE"===X.tagName&&void 0!==X.content}class bt extends ge{constructor($,B,L,he,Fe,yt,Rt,tn){super($,Fe,yt,tn),this.sharedStylesHost=B,this.hostEl=L,this.shadowRoot=L.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const nn=Ct(he.id,he.styles);for(const an of nn){const Jn=document.createElement("style");Rt&&Jn.setAttribute("nonce",Rt),Jn.textContent=an,this.shadowRoot.appendChild(Jn)}}nodeOrShadowRoot($){return $===this.hostEl?this.shadowRoot:$}appendChild($,B){return super.appendChild(this.nodeOrShadowRoot($),B)}insertBefore($,B,L){return super.insertBefore(this.nodeOrShadowRoot($),B,L)}removeChild($,B){return super.removeChild(this.nodeOrShadowRoot($),B)}parentNode($){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot($)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Nt extends ge{constructor($,B,L,he,Fe,yt,Rt,tn){super($,Fe,yt,Rt),this.sharedStylesHost=B,this.removeStylesOnCompDestroy=he,this.styles=tn?Ct(tn,L.styles):L.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class rn extends Nt{constructor($,B,L,he,Fe,yt,Rt,tn){const nn=he+"-"+L.id;super($,B,L,Fe,yt,Rt,tn,nn),this.contentAttr=function He(X){return"_ngcontent-%COMP%".replace(It,X)}(nn),this.hostAttr=function it(X){return"_nghost-%COMP%".replace(It,X)}(nn)}applyToHost($){this.applyStyles(),this.setAttribute($,this.hostAttr,"")}createElement($,B){const L=super.createElement($,B);return super.setAttribute(L,this.contentAttr,""),L}}let at=(()=>{class X extends pt{constructor(B){super(B)}supports(B){return!0}addEventListener(B,L,he){return B.addEventListener(L,he,!1),()=>this.removeEventListener(B,L,he)}removeEventListener(B,L,he){return B.removeEventListener(L,he)}static#e=this.\u0275fac=function(L){return new(L||X)(g.LFG(u.K0))};static#t=this.\u0275prov=g.Yz7({token:X,factory:X.\u0275fac})}return X})();const Ne=["alt","control","meta","shift"],_e={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ve={alt:X=>X.altKey,control:X=>X.ctrlKey,meta:X=>X.metaKey,shift:X=>X.shiftKey};let tt=(()=>{class X extends pt{constructor(B){super(B)}supports(B){return null!=X.parseEventName(B)}addEventListener(B,L,he){const Fe=X.parseEventName(L),yt=X.eventCallback(Fe.fullKey,he,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,u.q)().onAndCancel(B,Fe.domEventName,yt))}static parseEventName(B){const L=B.toLowerCase().split("."),he=L.shift();if(0===L.length||"keydown"!==he&&"keyup"!==he)return null;const Fe=X._normalizeKey(L.pop());let yt="",Rt=L.indexOf("code");if(Rt>-1&&(L.splice(Rt,1),yt="code."),Ne.forEach(nn=>{const an=L.indexOf(nn);an>-1&&(L.splice(an,1),yt+=nn+".")}),yt+=Fe,0!=L.length||0===Fe.length)return null;const tn={};return tn.domEventName=he,tn.fullKey=yt,tn}static matchEventFullKeyCode(B,L){let he=_e[B.key]||B.key,Fe="";return L.indexOf("code.")>-1&&(he=B.code,Fe="code."),!(null==he||!he)&&(he=he.toLowerCase()," "===he?he="space":"."===he&&(he="dot"),Ne.forEach(yt=>{yt!==he&&(0,Ve[yt])(B)&&(Fe+=yt+".")}),Fe+=he,Fe===L)}static eventCallback(B,L,he){return Fe=>{X.matchEventFullKeyCode(Fe,B)&&he.runGuarded(()=>L(Fe))}}static _normalizeKey(B){return"esc"===B?"escape":B}static#e=this.\u0275fac=function(L){return new(L||X)(g.LFG(u.K0))};static#t=this.\u0275prov=g.Yz7({token:X,factory:X.\u0275fac})}return X})();const gn=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:u.bD},{provide:g.g9A,useValue:function zt(){Ie.makeCurrent()},multi:!0},{provide:u.K0,useFactory:function hn(){return(0,g.RDi)(document),document},deps:[]}]),On=new g.OlP(""),qt=[{provide:g.rWj,useClass:class xe{addToWindow($){g.dqk.getAngularTestability=(L,he=!0)=>{const Fe=$.findTestabilityInTree(L,he);if(null==Fe)throw new g.vHH(5103,!1);return Fe},g.dqk.getAllAngularTestabilities=()=>$.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>$.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(L=>{const he=g.dqk.getAllAngularTestabilities();let Fe=he.length,yt=!1;const Rt=function(tn){yt=yt||tn,Fe--,0==Fe&&L(yt)};he.forEach(tn=>{tn.whenStable(Rt)})})}findTestabilityInTree($,B,L){return null==B?null:$.getTestability(B)??(L?(0,u.q)().isShadowRoot(B)?this.findTestabilityInTree($,B.host,!0):this.findTestabilityInTree($,B.parentElement,!0):null)}},deps:[]},{provide:g.lri,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]}],fn=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function Gt(){return new g.qLn},deps:[]},{provide:ve,useClass:at,multi:!0,deps:[u.K0,g.R0b,g.Lbi]},{provide:ve,useClass:tt,multi:!0,deps:[u.K0]},Ye,Dt,Oe,{provide:g.FYo,useExisting:Ye},{provide:u.JF,useClass:fe,deps:[]},[]];let Cn=(()=>{class X{constructor(B){}static withServerTransition(B){return{ngModule:X,providers:[{provide:g.AFp,useValue:B.appId}]}}static#e=this.\u0275fac=function(L){return new(L||X)(g.LFG(On,12))};static#t=this.\u0275mod=g.oAB({type:X});static#n=this.\u0275inj=g.cJS({providers:[...fn,...qt],imports:[u.ez,g.hGG]})}return X})(),dr=(()=>{class X{constructor(B){this._doc=B}getTitle(){return this._doc.title}setTitle(B){this._doc.title=B||""}static#e=this.\u0275fac=function(L){return new(L||X)(g.LFG(u.K0))};static#t=this.\u0275prov=g.Yz7({token:X,factory:function(L){let he=null;return he=L?new L:function wn(){return new dr((0,g.LFG)(u.K0))}(),he},providedIn:"root"})}return X})();typeof window<"u"&&window;let Ur=(()=>{class X{static#e=this.\u0275fac=function(L){return new(L||X)};static#t=this.\u0275prov=g.Yz7({token:X,factory:function(L){let he=null;return he=L?new(L||X):g.LFG(Tt),he},providedIn:"root"})}return X})(),Tt=(()=>{class X extends Ur{constructor(B){super(),this._doc=B}sanitize(B,L){if(null==L)return null;switch(B){case g.q3G.NONE:return L;case g.q3G.HTML:return(0,g.qzn)(L,"HTML")?(0,g.z3N)(L):(0,g.EiD)(this._doc,String(L)).toString();case g.q3G.STYLE:return(0,g.qzn)(L,"Style")?(0,g.z3N)(L):L;case g.q3G.SCRIPT:if((0,g.qzn)(L,"Script"))return(0,g.z3N)(L);throw new g.vHH(5200,!1);case g.q3G.URL:return(0,g.qzn)(L,"URL")?(0,g.z3N)(L):(0,g.mCW)(String(L));case g.q3G.RESOURCE_URL:if((0,g.qzn)(L,"ResourceURL"))return(0,g.z3N)(L);throw new g.vHH(5201,!1);default:throw new g.vHH(5202,!1)}}bypassSecurityTrustHtml(B){return(0,g.JVY)(B)}bypassSecurityTrustStyle(B){return(0,g.L6k)(B)}bypassSecurityTrustScript(B){return(0,g.eBb)(B)}bypassSecurityTrustUrl(B){return(0,g.LAX)(B)}bypassSecurityTrustResourceUrl(B){return(0,g.pB0)(B)}static#e=this.\u0275fac=function(L){return new(L||X)(g.LFG(u.K0))};static#t=this.\u0275prov=g.Yz7({token:X,factory:function(L){let he=null;return he=L?new L:function qe(X){return new Tt(X.get(u.K0))}(g.LFG(g.zs3)),he},providedIn:"root"})}return X})()},3914:(Qt,Ze,H)=>{H.d(Ze,{gz:()=>qi,m2:()=>Ui,F0:()=>Xs,rH:()=>Vo,Bz:()=>hc,lC:()=>gi});var g=H(5879),u=H(5592),K=H(4674),Ee=H(2459),Pe=H(2096),me=H(5619),Ae=H(2572),xe=H(6973),fe=H(5211),ve=H(4829);function Oe(S){return new u.y(N=>{(0,ve.Xf)(S()).subscribe(N)})}var pt=H(8407),Xe=H(8504),Dt=H(6232),mt=H(7394),It=H(9360),_t=H(8251);function en(){return(0,It.e)((S,N)=>{let w=null;S._refCount++;const k=(0,_t.x)(N,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(w=null);const G=S._connection,ae=w;w=null,G&&(!ae||G===ae)&&G.unsubscribe(),N.unsubscribe()});S.subscribe(k),k.closed||(w=S.connect())})}class Ke extends u.y{constructor(N,w){super(),this.source=N,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,It.A)(N)&&(this.lift=N.lift)}_subscribe(N){return this.getSubject().subscribe(N)}getSubject(){const N=this._subject;return(!N||N.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:N}=this;this._subject=this._connection=null,N?.unsubscribe()}connect(){let N=this._connection;if(!N){N=this._connection=new mt.w0;const w=this.getSubject();N.add(this.source.subscribe((0,_t.x)(w,void 0,()=>{this._teardown(),w.complete()},k=>{this._teardown(),w.error(k)},()=>this._teardown()))),N.closed&&(this._connection=null,N=mt.w0.EMPTY)}return N}refCount(){return en()(this)}}var ze=H(8645),rt=H(6814),He=H(7398),it=H(4664),Ct=H(8180),Ye=H(7921),ge=H(2181),Et=H(1631),$t=H(1374),zn=H(6328),bt=H(9397),Nt=H(6306),rn=H(6699),at=H(3572);function Ne(S){return S<=0?()=>Dt.E:(0,It.e)((N,w)=>{let k=[];N.subscribe((0,_t.x)(w,G=>{k.push(G),S<k.length&&k.shift()},()=>{for(const G of k)w.next(G);w.complete()},void 0,()=>{k=null}))})}var _e=H(3026),Ve=H(2737),gt=H(4716),vt=H(9773),Jt=H(7537),zt=H(6593);const Gt="primary",hn=Symbol("RouteTitle");class Gn{constructor(N){this.params=N||{}}has(N){return Object.prototype.hasOwnProperty.call(this.params,N)}get(N){if(this.has(N)){const w=this.params[N];return Array.isArray(w)?w[0]:w}return null}getAll(N){if(this.has(N)){const w=this.params[N];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function gn(S){return new Gn(S)}function On(S,N,w){const k=w.path.split("/");if(k.length>S.length||"full"===w.pathMatch&&(N.hasChildren()||k.length<S.length))return null;const G={};for(let ae=0;ae<k.length;ae++){const Ce=k[ae],ct=S[ae];if(Ce.startsWith(":"))G[Ce.substring(1)]=ct;else if(Ce!==ct.path)return null}return{consumed:S.slice(0,k.length),posParams:G}}function fn(S,N){const w=S?Object.keys(S):void 0,k=N?Object.keys(N):void 0;if(!w||!k||w.length!=k.length)return!1;let G;for(let ae=0;ae<w.length;ae++)if(G=w[ae],!Cn(S[G],N[G]))return!1;return!0}function Cn(S,N){if(Array.isArray(S)&&Array.isArray(N)){if(S.length!==N.length)return!1;const w=[...S].sort(),k=[...N].sort();return w.every((G,ae)=>k[ae]===G)}return S===N}function Dn(S){return S.length>0?S[S.length-1]:null}function Zt(S){return function Ie(S){return!!S&&(S instanceof u.y||(0,K.m)(S.lift)&&(0,K.m)(S.subscribe))}(S)?S:(0,g.QGY)(S)?(0,Ee.D)(Promise.resolve(S)):(0,Pe.of)(S)}const li={exact:function kt(S,N,w){if(!hi(S.segments,N.segments)||!kr(S.segments,N.segments,w)||S.numberOfChildren!==N.numberOfChildren)return!1;for(const k in N.children)if(!S.children[k]||!kt(S.children[k],N.children[k],w))return!1;return!0},subset:Fn},wn={exact:function Hn(S,N){return fn(S,N)},subset:function vn(S,N){return Object.keys(N).length<=Object.keys(S).length&&Object.keys(N).every(w=>Cn(S[w],N[w]))},ignored:()=>!0};function dr(S,N,w){return li[w.paths](S.root,N.root,w.matrixParams)&&wn[w.queryParams](S.queryParams,N.queryParams)&&!("exact"===w.fragment&&S.fragment!==N.fragment)}function Fn(S,N,w){return An(S,N,N.segments,w)}function An(S,N,w,k){if(S.segments.length>w.length){const G=S.segments.slice(0,w.length);return!(!hi(G,w)||N.hasChildren()||!kr(G,w,k))}if(S.segments.length===w.length){if(!hi(S.segments,w)||!kr(S.segments,w,k))return!1;for(const G in N.children)if(!S.children[G]||!Fn(S.children[G],N.children[G],k))return!1;return!0}{const G=w.slice(0,S.segments.length),ae=w.slice(S.segments.length);return!!(hi(S.segments,G)&&kr(S.segments,G,k)&&S.children[Gt])&&An(S.children[Gt],N,ae,k)}}function kr(S,N,w){return N.every((k,G)=>wn[w](S[G].parameters,k.parameters))}class Dr{constructor(N=new qn([],{}),w={},k=null){this.root=N,this.queryParams=w,this.fragment=k}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gn(this.queryParams)),this._queryParamMap}toString(){return Tr.serialize(this)}}class qn{constructor(N,w){this.segments=N,this.children=w,this.parent=null,Object.values(w).forEach(k=>k.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hr(this)}}class Bn{constructor(N,w){this.path=N,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=gn(this.parameters)),this._parameterMap}toString(){return Sn(this)}}function hi(S,N){return S.length===N.length&&S.every((w,k)=>w.path===N[k].path)}let fi=(()=>{class S{static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:function(){return new Qn},providedIn:"root"})}return S})();class Qn{parse(N){const w=new Rt(N);return new Dr(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(N){const w=`/${Ur(N.root,!0)}`,k=function Ft(S){const N=Object.keys(S).map(w=>{const k=S[w];return Array.isArray(k)?k.map(G=>`${Tt(w)}=${Tt(G)}`).join("&"):`${Tt(w)}=${Tt(k)}`}).filter(w=>!!w);return N.length?`?${N.join("&")}`:""}(N.queryParams);return`${w}${k}${"string"==typeof N.fragment?`#${function oe(S){return encodeURI(S)}(N.fragment)}`:""}`}}const Tr=new Qn;function hr(S){return S.segments.map(N=>Sn(N)).join("/")}function Ur(S,N){if(!S.hasChildren())return hr(S);if(N){const w=S.children[Gt]?Ur(S.children[Gt],!1):"",k=[];return Object.entries(S.children).forEach(([G,ae])=>{G!==Gt&&k.push(`${G}:${Ur(ae,!1)}`)}),k.length>0?`${w}(${k.join("//")})`:w}{const w=function sn(S,N){let w=[];return Object.entries(S.children).forEach(([k,G])=>{k===Gt&&(w=w.concat(N(G,k)))}),Object.entries(S.children).forEach(([k,G])=>{k!==Gt&&(w=w.concat(N(G,k)))}),w}(S,(k,G)=>G===Gt?[Ur(S.children[Gt],!1)]:[`${G}:${Ur(k,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[Gt]?`${hr(S)}/${w[0]}`:`${hr(S)}/(${w.join("//")})`}}function qe(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tt(S){return qe(S).replace(/%3B/gi,";")}function Se(S){return qe(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ft(S){return decodeURIComponent(S)}function jt(S){return ft(S.replace(/\+/g,"%20"))}function Sn(S){return`${Se(S.path)}${function ti(S){return Object.keys(S).map(N=>`;${Se(N)}=${Se(S[N])}`).join("")}(S.parameters)}`}const ue=/^[^\/()?;#]+/;function X(S){const N=S.match(ue);return N?N[0]:""}const $=/^[^\/()?;=#]+/,L=/^[^=?&#]+/,Fe=/^[^&#]+/;class Rt{constructor(N){this.url=N,this.remaining=N}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qn([],{}):new qn([],this.parseChildren())}parseQueryParams(){const N={};if(this.consumeOptional("?"))do{this.parseQueryParam(N)}while(this.consumeOptional("&"));return N}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const N=[];for(this.peekStartsWith("(")||N.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),N.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let k={};return this.peekStartsWith("(")&&(k=this.parseParens(!1)),(N.length>0||Object.keys(w).length>0)&&(k[Gt]=new qn(N,w)),k}parseSegment(){const N=X(this.remaining);if(""===N&&this.peekStartsWith(";"))throw new g.vHH(4009,!1);return this.capture(N),new Bn(ft(N),this.parseMatrixParams())}parseMatrixParams(){const N={};for(;this.consumeOptional(";");)this.parseParam(N);return N}parseParam(N){const w=function B(S){const N=S.match($);return N?N[0]:""}(this.remaining);if(!w)return;this.capture(w);let k="";if(this.consumeOptional("=")){const G=X(this.remaining);G&&(k=G,this.capture(k))}N[ft(w)]=ft(k)}parseQueryParam(N){const w=function he(S){const N=S.match(L);return N?N[0]:""}(this.remaining);if(!w)return;this.capture(w);let k="";if(this.consumeOptional("=")){const Ce=function yt(S){const N=S.match(Fe);return N?N[0]:""}(this.remaining);Ce&&(k=Ce,this.capture(k))}const G=jt(w),ae=jt(k);if(N.hasOwnProperty(G)){let Ce=N[G];Array.isArray(Ce)||(Ce=[Ce],N[G]=Ce),Ce.push(ae)}else N[G]=ae}parseParens(N){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const k=X(this.remaining),G=this.remaining[k.length];if("/"!==G&&")"!==G&&";"!==G)throw new g.vHH(4010,!1);let ae;k.indexOf(":")>-1?(ae=k.slice(0,k.indexOf(":")),this.capture(ae),this.capture(":")):N&&(ae=Gt);const Ce=this.parseChildren();w[ae]=1===Object.keys(Ce).length?Ce[Gt]:new qn([],Ce),this.consumeOptional("//")}return w}peekStartsWith(N){return this.remaining.startsWith(N)}consumeOptional(N){return!!this.peekStartsWith(N)&&(this.remaining=this.remaining.substring(N.length),!0)}capture(N){if(!this.consumeOptional(N))throw new g.vHH(4011,!1)}}function tn(S){return S.segments.length>0?new qn([],{[Gt]:S}):S}function nn(S){const N={};for(const k of Object.keys(S.children)){const ae=nn(S.children[k]);if(k===Gt&&0===ae.segments.length&&ae.hasChildren())for(const[Ce,ct]of Object.entries(ae.children))N[Ce]=ct;else(ae.segments.length>0||ae.hasChildren())&&(N[k]=ae)}return function an(S){if(1===S.numberOfChildren&&S.children[Gt]){const N=S.children[Gt];return new qn(S.segments.concat(N.segments),N.children)}return S}(new qn(S.segments,N))}function Jn(S){return S instanceof Dr}function ui(S){let N;const G=tn(function w(ae){const Ce={};for(const dt of ae.children){const _n=w(dt);Ce[dt.outlet]=_n}const ct=new qn(ae.url,Ce);return ae===S&&(N=ct),ct}(S.root));return N??G}function Ds(S,N,w,k){let G=S;for(;G.parent;)G=G.parent;if(0===N.length)return so(G,G,G,w,k);const ae=function pr(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new Li(!0,0,S);let N=0,w=!1;const k=S.reduce((G,ae,Ce)=>{if("object"==typeof ae&&null!=ae){if(ae.outlets){const ct={};return Object.entries(ae.outlets).forEach(([dt,_n])=>{ct[dt]="string"==typeof _n?_n.split("/"):_n}),[...G,{outlets:ct}]}if(ae.segmentPath)return[...G,ae.segmentPath]}return"string"!=typeof ae?[...G,ae]:0===Ce?(ae.split("/").forEach((ct,dt)=>{0==dt&&"."===ct||(0==dt&&""===ct?w=!0:".."===ct?N++:""!=ct&&G.push(ct))}),G):[...G,ae]},[]);return new Li(w,N,k)}(N);if(ae.toRoot())return so(G,G,new qn([],{}),w,k);const Ce=function Co(S,N,w){if(S.isAbsolute)return new Vs(N,!0,0);if(!w)return new Vs(N,!1,NaN);if(null===w.parent)return new Vs(w,!0,0);const k=To(S.commands[0])?0:1;return function ma(S,N,w){let k=S,G=N,ae=w;for(;ae>G;){if(ae-=G,k=k.parent,!k)throw new g.vHH(4005,!1);G=k.segments.length}return new Vs(k,!1,G-ae)}(w,w.segments.length-1+k,S.numberOfDoubleDots)}(ae,G,S),ct=Ce.processChildren?Fr(Ce.segmentGroup,Ce.index,ae.commands):Vi(Ce.segmentGroup,Ce.index,ae.commands);return so(G,Ce.segmentGroup,ct,w,k)}function To(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function vi(S){return"object"==typeof S&&null!=S&&S.outlets}function so(S,N,w,k,G){let Ce,ae={};k&&Object.entries(k).forEach(([dt,_n])=>{ae[dt]=Array.isArray(_n)?_n.map(_r=>`${_r}`):`${_n}`}),Ce=S===N?w:ms(S,N,w);const ct=tn(nn(Ce));return new Dr(ct,ae,G)}function ms(S,N,w){const k={};return Object.entries(S.children).forEach(([G,ae])=>{k[G]=ae===N?w:ms(ae,N,w)}),new qn(S.segments,k)}class Li{constructor(N,w,k){if(this.isAbsolute=N,this.numberOfDoubleDots=w,this.commands=k,N&&k.length>0&&To(k[0]))throw new g.vHH(4003,!1);const G=k.find(vi);if(G&&G!==Dn(k))throw new g.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vs{constructor(N,w,k){this.segmentGroup=N,this.processChildren=w,this.index=k}}function Vi(S,N,w){if(S||(S=new qn([],{})),0===S.segments.length&&S.hasChildren())return Fr(S,N,w);const k=function Qo(S,N,w){let k=0,G=N;const ae={match:!1,pathIndex:0,commandIndex:0};for(;G<S.segments.length;){if(k>=w.length)return ae;const Ce=S.segments[G],ct=w[k];if(vi(ct))break;const dt=`${ct}`,_n=k<w.length-1?w[k+1]:null;if(G>0&&void 0===dt)break;if(dt&&_n&&"object"==typeof _n&&void 0===_n.outlets){if(!ea(dt,_n,Ce))return ae;k+=2}else{if(!ea(dt,{},Ce))return ae;k++}G++}return{match:!0,pathIndex:G,commandIndex:k}}(S,N,w),G=w.slice(k.commandIndex);if(k.match&&k.pathIndex<S.segments.length){const ae=new qn(S.segments.slice(0,k.pathIndex),{});return ae.children[Gt]=new qn(S.segments.slice(k.pathIndex),S.children),Fr(ae,0,G)}return k.match&&0===G.length?new qn(S.segments,{}):k.match&&!S.hasChildren()?Kr(S,N,w):k.match?Fr(S,0,G):Kr(S,N,w)}function Fr(S,N,w){if(0===w.length)return new qn(S.segments,{});{const k=function jc(S){return vi(S[0])?S[0].outlets:{[Gt]:S}}(w),G={};if(Object.keys(k).some(ae=>ae!==Gt)&&S.children[Gt]&&1===S.numberOfChildren&&0===S.children[Gt].segments.length){const ae=Fr(S.children[Gt],N,w);return new qn(S.segments,ae.children)}return Object.entries(k).forEach(([ae,Ce])=>{"string"==typeof Ce&&(Ce=[Ce]),null!==Ce&&(G[ae]=Vi(S.children[ae],N,Ce))}),Object.entries(S.children).forEach(([ae,Ce])=>{void 0===k[ae]&&(G[ae]=Ce)}),new qn(S.segments,G)}}function Kr(S,N,w){const k=S.segments.slice(0,N);let G=0;for(;G<w.length;){const ae=w[G];if(vi(ae)){const dt=Jo(ae.outlets);return new qn(k,dt)}if(0===G&&To(w[0])){k.push(new Bn(S.segments[N].path,Xo(w[0]))),G++;continue}const Ce=vi(ae)?ae.outlets[Gt]:`${ae}`,ct=G<w.length-1?w[G+1]:null;Ce&&ct&&To(ct)?(k.push(new Bn(Ce,Xo(ct))),G+=2):(k.push(new Bn(Ce,{})),G++)}return new qn(k,{})}function Jo(S){const N={};return Object.entries(S).forEach(([w,k])=>{"string"==typeof k&&(k=[k]),null!==k&&(N[w]=Kr(new qn([],{}),0,k))}),N}function Xo(S){const N={};return Object.entries(S).forEach(([w,k])=>N[w]=`${k}`),N}function ea(S,N,w){return S==w.path&&fn(N,w.parameters)}const fr="imperative";class Ci{constructor(N,w){this.id=N,this.url=w}}class Us extends Ci{constructor(N,w,k="imperative",G=null){super(N,w),this.type=0,this.navigationTrigger=k,this.restoredState=G}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ui extends Ci{constructor(N,w,k){super(N,w),this.urlAfterRedirects=k,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Pr extends Ci{constructor(N,w,k,G){super(N,w),this.reason=k,this.code=G,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Bs extends Ci{constructor(N,w,k,G){super(N,w),this.reason=k,this.code=G,this.type=16}}class Xi extends Ci{constructor(N,w,k,G){super(N,w),this.error=k,this.target=G,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Si extends Ci{constructor(N,w,k,G){super(N,w),this.urlAfterRedirects=k,this.state=G,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oa extends Ci{constructor(N,w,k,G){super(N,w),this.urlAfterRedirects=k,this.state=G,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Br extends Ci{constructor(N,w,k,G,ae){super(N,w),this.urlAfterRedirects=k,this.state=G,this.shouldActivate=ae,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Na extends Ci{constructor(N,w,k,G){super(N,w),this.urlAfterRedirects=k,this.state=G,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ei extends Ci{constructor(N,w,k,G){super(N,w),this.urlAfterRedirects=k,this.state=G,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rr{constructor(N){this.route=N,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ta{constructor(N){this.route=N,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ss{constructor(N){this.snapshot=N,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ii{constructor(N){this.snapshot=N,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gi{constructor(N){this.snapshot=N,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wo{constructor(N){this.snapshot=N,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ni{constructor(N,w,k){this.routerEvent=N,this.position=w,this.anchor=k,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ao{}class ss{constructor(N){this.url=N}}class os{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new _s,this.attachRef=null}}let _s=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(w,k){const G=this.getOrCreateContext(w);G.outlet=k,this.contexts.set(w,G)}onChildOutletDestroyed(w){const k=this.getContext(w);k&&(k.outlet=null,k.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let k=this.getContext(w);return k||(k=new os,this.contexts.set(w,k)),k}getContext(w){return this.contexts.get(w)||null}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();class oo{constructor(N){this._root=N}get root(){return this._root.value}parent(N){const w=this.pathFromRoot(N);return w.length>1?w[w.length-2]:null}children(N){const w=Mi(N,this._root);return w?w.children.map(k=>k.value):[]}firstChild(N){const w=Mi(N,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(N){const w=Do(N,this._root);return w.length<2?[]:w[w.length-2].children.map(G=>G.value).filter(G=>G!==N)}pathFromRoot(N){return Do(N,this._root).map(w=>w.value)}}function Mi(S,N){if(S===N.value)return N;for(const w of N.children){const k=Mi(S,w);if(k)return k}return null}function Do(S,N){if(S===N.value)return[N];for(const w of N.children){const k=Do(S,w);if(k.length)return k.unshift(N),k}return[]}class Mn{constructor(N,w){this.value=N,this.children=w}toString(){return`TreeNode(${this.value})`}}function xr(S){const N={};return S&&S.children.forEach(w=>N[w.value.outlet]=w),N}class jr extends oo{constructor(N,w){super(N),this.snapshot=w,br(this,N)}toString(){return this.snapshot.toString()}}function Pi(S,N){const w=function Or(S,N){const Ce=new Ri([],{},{},"",{},Gt,N,null,{});return new as("",new Mn(Ce,[]))}(0,N),k=new me.X([new Bn("",{})]),G=new me.X({}),ae=new me.X({}),Ce=new me.X({}),ct=new me.X(""),dt=new qi(k,G,Ce,ct,ae,Gt,N,w.root);return dt.snapshot=w.root,new jr(new Mn(dt,[]),w)}class qi{constructor(N,w,k,G,ae,Ce,ct,dt){this.urlSubject=N,this.paramsSubject=w,this.queryParamsSubject=k,this.fragmentSubject=G,this.dataSubject=ae,this.outlet=Ce,this.component=ct,this._futureSnapshot=dt,this.title=this.dataSubject?.pipe((0,He.U)(_n=>_n[hn]))??(0,Pe.of)(void 0),this.url=N,this.params=w,this.queryParams=k,this.fragment=G,this.data=ae}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,He.U)(N=>gn(N)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,He.U)(N=>gn(N)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wi(S,N="emptyOnly"){const w=S.pathFromRoot;let k=0;if("always"!==N)for(k=w.length-1;k>=1;){const G=w[k],ae=w[k-1];if(G.routeConfig&&""===G.routeConfig.path)k--;else{if(ae.component)break;k--}}return function So(S){return S.reduce((N,w)=>({params:{...N.params,...w.params},data:{...N.data,...w.data},resolve:{...w.data,...N.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(k))}class Ri{get title(){return this.data?.[hn]}constructor(N,w,k,G,ae,Ce,ct,dt,_n){this.url=N,this.params=w,this.queryParams=k,this.fragment=G,this.data=ae,this.outlet=Ce,this.component=ct,this.routeConfig=dt,this._resolve=_n}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(k=>k.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class as extends oo{constructor(N,w){super(w),this.url=N,br(this,w)}toString(){return Xt(this._root)}}function br(S,N){N.value._routerState=S,N.children.forEach(w=>br(S,w))}function Xt(S){const N=S.children.length>0?` { ${S.children.map(Xt).join(", ")} } `:"";return`${S.value}${N}`}function Ln(S){if(S.snapshot){const N=S.snapshot,w=S._futureSnapshot;S.snapshot=w,fn(N.queryParams,w.queryParams)||S.queryParamsSubject.next(w.queryParams),N.fragment!==w.fragment&&S.fragmentSubject.next(w.fragment),fn(N.params,w.params)||S.paramsSubject.next(w.params),function qt(S,N){if(S.length!==N.length)return!1;for(let w=0;w<S.length;++w)if(!fn(S[w],N[w]))return!1;return!0}(N.url,w.url)||S.urlSubject.next(w.url),fn(N.data,w.data)||S.dataSubject.next(w.data)}else S.snapshot=S._futureSnapshot,S.dataSubject.next(S._futureSnapshot.data)}function gr(S,N){const w=fn(S.params,N.params)&&function Mr(S,N){return hi(S,N)&&S.every((w,k)=>fn(w.parameters,N[k].parameters))}(S.url,N.url);return w&&!(!S.parent!=!N.parent)&&(!S.parent||gr(S.parent,N.parent))}let gi=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=Gt,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.parentContexts=(0,g.f3M)(_s),this.location=(0,g.f3M)(g.s_b),this.changeDetector=(0,g.f3M)(g.sBO),this.environmentInjector=(0,g.f3M)(g.lqb),this.inputBinder=(0,g.f3M)(zr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:k,previousValue:G}=w.name;if(k)return;this.isTrackedInParentContexts(G)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(G)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new g.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new g.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new g.vHH(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,k){this.activated=w,this._activatedRoute=k,this.location.insert(w.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,k){if(this.isActivated)throw new g.vHH(4013,!1);this._activatedRoute=w;const G=this.location,Ce=w.snapshot.component,ct=this.parentContexts.getOrCreateContext(this.name).children,dt=new ys(w,ct,G.injector);this.activated=G.createComponent(Ce,{index:G.length,injector:dt,environmentInjector:k??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275dir=g.lG2({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[g.TTD]})}return S})();class ys{constructor(N,w,k){this.route=N,this.childContexts=w,this.parent=k}get(N,w){return N===qi?this.route:N===_s?this.childContexts:this.parent.get(N,w)}}const zr=new g.OlP("");let ii=(()=>{class S{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){this.outletDataSubscriptions.get(w)?.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:k}=w,G=(0,Ae.a)([k.queryParams,k.params,k.data]).pipe((0,it.w)(([ae,Ce,ct],dt)=>(ct={...ae,...Ce,...ct},0===dt?(0,Pe.of)(ct):Promise.resolve(ct)))).subscribe(ae=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==k||null===k.component)return void this.unsubscribeFromRouteData(w);const Ce=(0,g.qFp)(k.component);if(Ce)for(const{templateName:ct}of Ce.inputs)w.activatedComponentRef.setInput(ct,ae[ct]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,G)}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac})}return S})();function Wi(S,N,w){if(w&&S.shouldReuseRoute(N.value,w.value.snapshot)){const k=w.value;k._futureSnapshot=N.value;const G=function vs(S,N,w){return N.children.map(k=>{for(const G of w.children)if(S.shouldReuseRoute(k.value,G.value.snapshot))return Wi(S,k,G);return Wi(S,k)})}(S,N,w);return new Mn(k,G)}{if(S.shouldAttach(N.value)){const ae=S.retrieve(N.value);if(null!==ae){const Ce=ae.route;return Ce.value._futureSnapshot=N.value,Ce.children=N.children.map(ct=>Wi(S,ct)),Ce}}const k=function jn(S){return new qi(new me.X(S.url),new me.X(S.params),new me.X(S.queryParams),new me.X(S.fragment),new me.X(S.data),S.outlet,S.component,S)}(N.value),G=N.children.map(ae=>Wi(S,ae));return new Mn(k,G)}}const Zi="ngNavigationCancelingError";function or(S,N){const{redirectTo:w,navigationBehaviorOptions:k}=Jn(N)?{redirectTo:N,navigationBehaviorOptions:void 0}:N,G=mi(!1,0,N);return G.url=w,G.navigationBehaviorOptions=k,G}function mi(S,N,w){const k=new Error("NavigationCancelingError: "+(S||""));return k[Zi]=!0,k.cancellationCode=N,w&&(k.url=w),k}function es(S){return S&&S[Zi]}let _i=(()=>{class S{static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275cmp=g.Xpm({type:S,selectors:[["ng-component"]],standalone:!0,features:[g.jDz],decls:1,vars:0,template:function(k,G){1&k&&g._UZ(0,"router-outlet")},dependencies:[gi],encapsulation:2})}return S})();function Ki(S){const N=S.children&&S.children.map(Ki),w=N?{...S,children:N}:{...S};return!w.component&&!w.loadComponent&&(N||w.loadChildren)&&w.outlet&&w.outlet!==Gt&&(w.component=_i),w}function xi(S){return S.outlet||Gt}function Is(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let N=S.parent;N;N=N.parent){const w=N.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class Yr{constructor(N,w,k,G,ae){this.routeReuseStrategy=N,this.futureState=w,this.currState=k,this.forwardEvent=G,this.inputBindingEnabled=ae}activate(N){const w=this.futureState._root,k=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,k,N),Ln(this.futureState.root),this.activateChildRoutes(w,k,N)}deactivateChildRoutes(N,w,k){const G=xr(w);N.children.forEach(ae=>{const Ce=ae.value.outlet;this.deactivateRoutes(ae,G[Ce],k),delete G[Ce]}),Object.values(G).forEach(ae=>{this.deactivateRouteAndItsChildren(ae,k)})}deactivateRoutes(N,w,k){const G=N.value,ae=w?w.value:null;if(G===ae)if(G.component){const Ce=k.getContext(G.outlet);Ce&&this.deactivateChildRoutes(N,w,Ce.children)}else this.deactivateChildRoutes(N,w,k);else ae&&this.deactivateRouteAndItsChildren(w,k)}deactivateRouteAndItsChildren(N,w){N.value.component&&this.routeReuseStrategy.shouldDetach(N.value.snapshot)?this.detachAndStoreRouteSubtree(N,w):this.deactivateRouteAndOutlet(N,w)}detachAndStoreRouteSubtree(N,w){const k=w.getContext(N.value.outlet),G=k&&N.value.component?k.children:w,ae=xr(N);for(const Ce of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[Ce],G);if(k&&k.outlet){const Ce=k.outlet.detach(),ct=k.children.onOutletDeactivated();this.routeReuseStrategy.store(N.value.snapshot,{componentRef:Ce,route:N,contexts:ct})}}deactivateRouteAndOutlet(N,w){const k=w.getContext(N.value.outlet),G=k&&N.value.component?k.children:w,ae=xr(N);for(const Ce of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[Ce],G);k&&(k.outlet&&(k.outlet.deactivate(),k.children.onOutletDeactivated()),k.attachRef=null,k.route=null)}activateChildRoutes(N,w,k){const G=xr(w);N.children.forEach(ae=>{this.activateRoutes(ae,G[ae.value.outlet],k),this.forwardEvent(new wo(ae.value.snapshot))}),N.children.length&&this.forwardEvent(new Ii(N.value.snapshot))}activateRoutes(N,w,k){const G=N.value,ae=w?w.value:null;if(Ln(G),G===ae)if(G.component){const Ce=k.getOrCreateContext(G.outlet);this.activateChildRoutes(N,w,Ce.children)}else this.activateChildRoutes(N,w,k);else if(G.component){const Ce=k.getOrCreateContext(G.outlet);if(this.routeReuseStrategy.shouldAttach(G.snapshot)){const ct=this.routeReuseStrategy.retrieve(G.snapshot);this.routeReuseStrategy.store(G.snapshot,null),Ce.children.onOutletReAttached(ct.contexts),Ce.attachRef=ct.componentRef,Ce.route=ct.route.value,Ce.outlet&&Ce.outlet.attach(ct.componentRef,ct.route.value),Ln(ct.route.value),this.activateChildRoutes(N,null,Ce.children)}else{const ct=Is(G.snapshot);Ce.attachRef=null,Ce.route=G,Ce.injector=ct,Ce.outlet&&Ce.outlet.activateWith(G,Ce.injector),this.activateChildRoutes(N,null,Ce.children)}}else this.activateChildRoutes(N,null,k)}}class de{constructor(N){this.path=N,this.route=this.path[this.path.length-1]}}class De{constructor(N,w){this.component=N,this.route=w}}function je(S,N,w){const k=S._root;return on(k,N?N._root:null,w,[k.value])}function Ut(S,N){const w=Symbol(),k=N.get(S,w);return k===w?"function"!=typeof S||(0,g.Z0I)(S)?N.get(S):S:k}function on(S,N,w,k,G={canDeactivateChecks:[],canActivateChecks:[]}){const ae=xr(N);return S.children.forEach(Ce=>{(function mn(S,N,w,k,G={canDeactivateChecks:[],canActivateChecks:[]}){const ae=S.value,Ce=N?N.value:null,ct=w?w.getContext(S.value.outlet):null;if(Ce&&ae.routeConfig===Ce.routeConfig){const dt=function Wn(S,N,w){if("function"==typeof w)return w(S,N);switch(w){case"pathParamsChange":return!hi(S.url,N.url);case"pathParamsOrQueryParamsChange":return!hi(S.url,N.url)||!fn(S.queryParams,N.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gr(S,N)||!fn(S.queryParams,N.queryParams);default:return!gr(S,N)}}(Ce,ae,ae.routeConfig.runGuardsAndResolvers);dt?G.canActivateChecks.push(new de(k)):(ae.data=Ce.data,ae._resolvedData=Ce._resolvedData),on(S,N,ae.component?ct?ct.children:null:w,k,G),dt&&ct&&ct.outlet&&ct.outlet.isActivated&&G.canDeactivateChecks.push(new De(ct.outlet.component,Ce))}else Ce&&Pn(N,ct,G),G.canActivateChecks.push(new de(k)),on(S,null,ae.component?ct?ct.children:null:w,k,G)})(Ce,ae[Ce.value.outlet],w,k.concat([Ce.value]),G),delete ae[Ce.value.outlet]}),Object.entries(ae).forEach(([Ce,ct])=>Pn(ct,w.getContext(Ce),G)),G}function Pn(S,N,w){const k=xr(S),G=S.value;Object.entries(k).forEach(([ae,Ce])=>{Pn(Ce,G.component?N?N.children.getContext(ae):null:N,w)}),w.canDeactivateChecks.push(new De(G.component&&N&&N.outlet&&N.outlet.isActivated?N.outlet.component:null,G))}function tr(S){return"function"==typeof S}function cr(S){return S instanceof xe.K||"EmptyError"===S?.name}const ns=Symbol("INITIAL_VALUE");function si(){return(0,it.w)(S=>(0,Ae.a)(S.map(N=>N.pipe((0,Ct.q)(1),(0,Ye.O)(ns)))).pipe((0,He.U)(N=>{for(const w of N)if(!0!==w){if(w===ns)return ns;if(!1===w||w instanceof Dr)return w}return!0}),(0,ge.h)(N=>N!==ns),(0,Ct.q)(1)))}function Qs(S){return(0,pt.z)((0,bt.b)(N=>{if(Jn(N))throw or(0,N)}),(0,He.U)(N=>!0===N))}class rs{constructor(N){this.segmentGroup=N||null}}class Cd{constructor(N){this.urlTree=N}}function Cr(S){return(0,Xe._)(new rs(S))}function ya(S){return(0,Xe._)(new Cd(S))}class Js{constructor(N,w){this.urlSerializer=N,this.urlTree=w}noMatchError(N){return new g.vHH(4002,!1)}lineralizeSegments(N,w){let k=[],G=w.root;for(;;){if(k=k.concat(G.segments),0===G.numberOfChildren)return(0,Pe.of)(k);if(G.numberOfChildren>1||!G.children[Gt])return(0,Xe._)(new g.vHH(4e3,!1));G=G.children[Gt]}}applyRedirectCommands(N,w,k){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),N,k)}applyRedirectCreateUrlTree(N,w,k,G){const ae=this.createSegmentGroup(N,w.root,k,G);return new Dr(ae,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(N,w){const k={};return Object.entries(N).forEach(([G,ae])=>{if("string"==typeof ae&&ae.startsWith(":")){const ct=ae.substring(1);k[G]=w[ct]}else k[G]=ae}),k}createSegmentGroup(N,w,k,G){const ae=this.createSegments(N,w.segments,k,G);let Ce={};return Object.entries(w.children).forEach(([ct,dt])=>{Ce[ct]=this.createSegmentGroup(N,dt,k,G)}),new qn(ae,Ce)}createSegments(N,w,k,G){return w.map(ae=>ae.path.startsWith(":")?this.findPosParam(N,ae,G):this.findOrReturn(ae,k))}findPosParam(N,w,k){const G=k[w.path.substring(1)];if(!G)throw new g.vHH(4001,!1);return G}findOrReturn(N,w){let k=0;for(const G of w){if(G.path===N.path)return w.splice(k),G;k++}return N}}const uo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ho(S,N,w,k,G){const ae=ko(S,N,w);return ae.matched?(k=function cs(S,N){return S.providers&&!S._injector&&(S._injector=(0,g.MMx)(S.providers,N,`Route: ${S.path}`)),S._injector??N}(N,k),function lo(S,N,w,k){const G=N.canMatch;if(!G||0===G.length)return(0,Pe.of)(!0);const ae=G.map(Ce=>{const ct=Ut(Ce,S);return Zt(function ce(S){return S&&tr(S.canMatch)}(ct)?ct.canMatch(N,w):S.runInContext(()=>ct(N,w)))});return(0,Pe.of)(ae).pipe(si(),Qs())}(k,N,w).pipe((0,He.U)(Ce=>!0===Ce?ae:{...uo}))):(0,Pe.of)(ae)}function ko(S,N,w){if(""===N.path)return"full"===N.pathMatch&&(S.hasChildren()||w.length>0)?{...uo}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const G=(N.matcher||On)(w,S,N);if(!G)return{...uo};const ae={};Object.entries(G.posParams??{}).forEach(([ct,dt])=>{ae[ct]=dt.path});const Ce=G.consumed.length>0?{...ae,...G.consumed[G.consumed.length-1].parameters}:ae;return{matched:!0,consumedSegments:G.consumed,remainingSegments:w.slice(G.consumed.length),parameters:Ce,positionalParamSegments:G.posParams??{}}}function Va(S,N,w,k){return w.length>0&&function Gc(S,N,w){return w.some(k=>cc(S,N,k)&&xi(k)!==Gt)}(S,w,k)?{segmentGroup:new qn(N,zc(k,new qn(w,S.children))),slicedSegments:[]}:0===w.length&&function ac(S,N,w){return w.some(k=>cc(S,N,k))}(S,w,k)?{segmentGroup:new qn(S.segments,sr(S,0,w,k,S.children)),slicedSegments:w}:{segmentGroup:new qn(S.segments,S.children),slicedSegments:w}}function sr(S,N,w,k,G){const ae={};for(const Ce of k)if(cc(S,w,Ce)&&!G[xi(Ce)]){const ct=new qn([],{});ae[xi(Ce)]=ct}return{...G,...ae}}function zc(S,N){const w={};w[Gt]=N;for(const k of S)if(""===k.path&&xi(k)!==Gt){const G=new qn([],{});w[xi(k)]=G}return w}function cc(S,N,w){return(!(S.hasChildren()||N.length>0)||"full"!==w.pathMatch)&&""===w.path}class lc{constructor(N,w,k,G,ae,Ce,ct){this.injector=N,this.configLoader=w,this.rootComponentType=k,this.config=G,this.urlTree=ae,this.paramsInheritanceStrategy=Ce,this.urlSerializer=ct,this.allowRedirects=!0,this.applyRedirects=new Js(this.urlSerializer,this.urlTree)}noMatchError(N){return new g.vHH(4002,!1)}recognize(){const N=Va(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,N,Gt).pipe((0,Nt.K)(w=>{if(w instanceof Cd)return this.allowRedirects=!1,this.urlTree=w.urlTree,this.match(w.urlTree);throw w instanceof rs?this.noMatchError(w):w}),(0,He.U)(w=>{const k=new Ri([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Gt,this.rootComponentType,null,{}),G=new Mn(k,w),ae=new as("",G),Ce=function xn(S,N,w=null,k=null){return Ds(ui(S),N,w,k)}(k,[],this.urlTree.queryParams,this.urlTree.fragment);return Ce.queryParams=this.urlTree.queryParams,ae.url=this.urlSerializer.serialize(Ce),this.inheritParamsAndData(ae._root),{state:ae,tree:Ce}}))}match(N){return this.processSegmentGroup(this.injector,this.config,N.root,Gt).pipe((0,Nt.K)(k=>{throw k instanceof rs?this.noMatchError(k):k}))}inheritParamsAndData(N){const w=N.value,k=wi(w,this.paramsInheritanceStrategy);w.params=Object.freeze(k.params),w.data=Object.freeze(k.data),N.children.forEach(G=>this.inheritParamsAndData(G))}processSegmentGroup(N,w,k,G){return 0===k.segments.length&&k.hasChildren()?this.processChildren(N,w,k):this.processSegment(N,w,k,k.segments,G,!0)}processChildren(N,w,k){const G=[];for(const ae of Object.keys(k.children))"primary"===ae?G.unshift(ae):G.push(ae);return(0,Ee.D)(G).pipe((0,zn.b)(ae=>{const Ce=k.children[ae],ct=function ts(S,N){const w=S.filter(k=>xi(k)===N);return w.push(...S.filter(k=>xi(k)!==N)),w}(w,ae);return this.processSegmentGroup(N,ct,Ce,ae)}),(0,rn.R)((ae,Ce)=>(ae.push(...Ce),ae)),(0,at.d)(null),function tt(S,N){const w=arguments.length>=2;return k=>k.pipe(S?(0,ge.h)((G,ae)=>S(G,ae,k)):Ve.y,Ne(1),w?(0,at.d)(N):(0,_e.T)(()=>new xe.K))}(),(0,Et.z)(ae=>{if(null===ae)return Cr(k);const Ce=ia(ae);return function Dl(S){S.sort((N,w)=>N.value.outlet===Gt?-1:w.value.outlet===Gt?1:N.value.outlet.localeCompare(w.value.outlet))}(Ce),(0,Pe.of)(Ce)}))}processSegment(N,w,k,G,ae,Ce){return(0,Ee.D)(w).pipe((0,zn.b)(ct=>this.processSegmentAgainstRoute(ct._injector??N,w,ct,k,G,ae,Ce).pipe((0,Nt.K)(dt=>{if(dt instanceof rs)return(0,Pe.of)(null);throw dt}))),(0,$t.P)(ct=>!!ct),(0,Nt.K)(ct=>{if(cr(ct))return function ra(S,N,w){return 0===N.length&&!S.children[w]}(k,G,ae)?(0,Pe.of)([]):Cr(k);throw ct}))}processSegmentAgainstRoute(N,w,k,G,ae,Ce,ct){return function Ua(S,N,w,k){return!!(xi(S)===k||k!==Gt&&cc(N,w,S))&&("**"===S.path||ko(N,S,w).matched)}(k,G,ae,Ce)?void 0===k.redirectTo?this.matchSegmentAgainstRoute(N,G,k,ae,Ce,ct):ct&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(N,G,w,k,ae,Ce):Cr(G):Cr(G)}expandSegmentAgainstRouteUsingRedirect(N,w,k,G,ae,Ce){return"**"===G.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(N,k,G,Ce):this.expandRegularSegmentAgainstRouteUsingRedirect(N,w,k,G,ae,Ce)}expandWildCardWithParamsAgainstRouteUsingRedirect(N,w,k,G){const ae=this.applyRedirects.applyRedirectCommands([],k.redirectTo,{});return k.redirectTo.startsWith("/")?ya(ae):this.applyRedirects.lineralizeSegments(k,ae).pipe((0,Et.z)(Ce=>{const ct=new qn(Ce,{});return this.processSegment(N,w,ct,Ce,G,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(N,w,k,G,ae,Ce){const{matched:ct,consumedSegments:dt,remainingSegments:_n,positionalParamSegments:_r}=ko(w,G,ae);if(!ct)return Cr(w);const qr=this.applyRedirects.applyRedirectCommands(dt,G.redirectTo,_r);return G.redirectTo.startsWith("/")?ya(qr):this.applyRedirects.lineralizeSegments(G,qr).pipe((0,Et.z)(er=>this.processSegment(N,k,w,er.concat(_n),Ce,!1)))}matchSegmentAgainstRoute(N,w,k,G,ae,Ce){let ct;if("**"===k.path){const dt=G.length>0?Dn(G).parameters:{},_n=new Ri(G,dt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Lo(k),xi(k),k.component??k._loadedComponent??null,k,wd(k));ct=(0,Pe.of)({snapshot:_n,consumedSegments:[],remainingSegments:[]}),w.children={}}else ct=ho(w,k,G,N).pipe((0,He.U)(({matched:dt,consumedSegments:_n,remainingSegments:_r,parameters:qr})=>dt?{snapshot:new Ri(_n,qr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Lo(k),xi(k),k.component??k._loadedComponent??null,k,wd(k)),consumedSegments:_n,remainingSegments:_r}:null));return ct.pipe((0,it.w)(dt=>null===dt?Cr(w):this.getChildConfig(N=k._injector??N,k,G).pipe((0,it.w)(({routes:_n})=>{const _r=k._loadedInjector??N,{snapshot:qr,consumedSegments:er,remainingSegments:Ts}=dt,{segmentGroup:eo,slicedSegments:po}=Va(w,er,Ts,_n);if(0===po.length&&eo.hasChildren())return this.processChildren(_r,_n,eo).pipe((0,He.U)(go=>null===go?null:[new Mn(qr,go)]));if(0===_n.length&&0===po.length)return(0,Pe.of)([new Mn(qr,[])]);const pc=xi(k)===ae;return this.processSegment(_r,_n,eo,po,pc?Gt:ae,!0).pipe((0,He.U)(go=>[new Mn(qr,go)]))}))))}getChildConfig(N,w,k){return w.children?(0,Pe.of)({routes:w.children,injector:N}):w.loadChildren?void 0!==w._loadedRoutes?(0,Pe.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function $c(S,N,w,k){const G=N.canLoad;if(void 0===G||0===G.length)return(0,Pe.of)(!0);const ae=G.map(Ce=>{const ct=Ut(Ce,S);return Zt(function us(S){return S&&tr(S.canLoad)}(ct)?ct.canLoad(N,w):S.runInContext(()=>ct(N,w)))});return(0,Pe.of)(ae).pipe(si(),Qs())}(N,w,k).pipe((0,Et.z)(G=>G?this.configLoader.loadChildren(N,w).pipe((0,bt.b)(ae=>{w._loadedRoutes=ae.routes,w._loadedInjector=ae.injector})):function Ru(S){return(0,Xe._)(mi(!1,3))}())):(0,Pe.of)({routes:[],injector:N})}}function qc(S){const N=S.value.routeConfig;return N&&""===N.path}function ia(S){const N=[],w=new Set;for(const k of S){if(!qc(k)){N.push(k);continue}const G=N.find(ae=>k.value.routeConfig===ae.value.routeConfig);void 0!==G?(G.children.push(...k.children),w.add(G)):N.push(k)}for(const k of w){const G=ia(k.children);N.push(new Mn(k.value,G))}return N.filter(k=>!w.has(k))}function Lo(S){return S.data||{}}function wd(S){return S.resolve||{}}function Qr(S){return"string"==typeof S.title||null===S.title}function P(S){return(0,it.w)(N=>{const w=S(N);return w?(0,Ee.D)(w).pipe((0,He.U)(()=>N)):(0,Pe.of)(N)})}const ne=new g.OlP("ROUTES");let j=(()=>{class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,g.f3M)(g.Sil)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,Pe.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const k=Zt(w.loadComponent()).pipe((0,He.U)(ht),(0,bt.b)(ae=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=ae}),(0,gt.x)(()=>{this.componentLoaders.delete(w)})),G=new Ke(k,()=>new ze.x).pipe(en());return this.componentLoaders.set(w,G),G}loadChildren(w,k){if(this.childrenLoaders.get(k))return this.childrenLoaders.get(k);if(k._loadedRoutes)return(0,Pe.of)({routes:k._loadedRoutes,injector:k._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(k);const ae=function te(S,N,w,k){return Zt(S.loadChildren()).pipe((0,He.U)(ht),(0,Et.z)(G=>G instanceof g.YKP||Array.isArray(G)?(0,Pe.of)(G):(0,Ee.D)(N.compileModuleAsync(G))),(0,He.U)(G=>{k&&k(S);let ae,Ce,ct=!1;return Array.isArray(G)?(Ce=G,!0):(ae=G.create(w).injector,Ce=ae.get(ne,[],{optional:!0,self:!0}).flat()),{routes:Ce.map(Ki),injector:ae}}))}(k,this.compiler,w,this.onLoadEndListener).pipe((0,gt.x)(()=>{this.childrenLoaders.delete(k)})),Ce=new Ke(ae,()=>new ze.x).pipe(en());return this.childrenLoaders.set(k,Ce),Ce}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function ht(S){return function we(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let Mt=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ze.x,this.transitionAbortSubject=new ze.x,this.configLoader=(0,g.f3M)(j),this.environmentInjector=(0,g.f3M)(g.lqb),this.urlSerializer=(0,g.f3M)(fi),this.rootContexts=(0,g.f3M)(_s),this.inputBindingEnabled=null!==(0,g.f3M)(zr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Pe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=G=>this.events.next(new ta(G)),this.configLoader.onLoadStartListener=G=>this.events.next(new Rr(G))}complete(){this.transitions?.complete()}handleNavigationRequest(w){const k=++this.navigationId;this.transitions?.next({...this.transitions.value,...w,id:k})}setupNavigations(w,k,G){return this.transitions=new me.X({id:0,currentUrlTree:k,currentRawUrl:k,currentBrowserUrl:k,extractedUrl:w.urlHandlingStrategy.extract(k),urlAfterRedirects:w.urlHandlingStrategy.extract(k),rawUrl:k,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:fr,restoredState:null,currentSnapshot:G.snapshot,targetSnapshot:null,currentRouterState:G,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ge.h)(ae=>0!==ae.id),(0,He.U)(ae=>({...ae,extractedUrl:w.urlHandlingStrategy.extract(ae.rawUrl)})),(0,it.w)(ae=>{this.currentTransition=ae;let Ce=!1,ct=!1;return(0,Pe.of)(ae).pipe((0,bt.b)(dt=>{this.currentNavigation={id:dt.id,initialUrl:dt.rawUrl,extractedUrl:dt.extractedUrl,trigger:dt.source,extras:dt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,it.w)(dt=>{const _n=dt.currentBrowserUrl.toString(),_r=!w.navigated||dt.extractedUrl.toString()!==_n||_n!==dt.currentUrlTree.toString();if(!_r&&"reload"!==(dt.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const er="";return this.events.next(new Bs(dt.id,this.urlSerializer.serialize(dt.rawUrl),er,0)),dt.resolve(null),Dt.E}if(w.urlHandlingStrategy.shouldProcessUrl(dt.rawUrl))return(0,Pe.of)(dt).pipe((0,it.w)(er=>{const Ts=this.transitions?.getValue();return this.events.next(new Us(er.id,this.urlSerializer.serialize(er.extractedUrl),er.source,er.restoredState)),Ts!==this.transitions?.getValue()?Dt.E:Promise.resolve(er)}),function Ba(S,N,w,k,G,ae){return(0,Et.z)(Ce=>function Fo(S,N,w,k,G,ae,Ce="emptyOnly"){return new lc(S,N,w,k,G,Ce,ae).recognize()}(S,N,w,k,Ce.extractedUrl,G,ae).pipe((0,He.U)(({state:ct,tree:dt})=>({...Ce,targetSnapshot:ct,urlAfterRedirects:dt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,bt.b)(er=>{ae.targetSnapshot=er.targetSnapshot,ae.urlAfterRedirects=er.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:er.urlAfterRedirects};const Ts=new Si(er.id,this.urlSerializer.serialize(er.extractedUrl),this.urlSerializer.serialize(er.urlAfterRedirects),er.targetSnapshot);this.events.next(Ts)}));if(_r&&w.urlHandlingStrategy.shouldProcessUrl(dt.currentRawUrl)){const{id:er,extractedUrl:Ts,source:eo,restoredState:po,extras:pc}=dt,go=new Us(er,this.urlSerializer.serialize(Ts),eo,po);this.events.next(go);const ku=Pi(0,this.rootComponentType).snapshot;return this.currentTransition=ae={...dt,targetSnapshot:ku,urlAfterRedirects:Ts,extras:{...pc,skipLocationChange:!1,replaceUrl:!1}},(0,Pe.of)(ae)}{const er="";return this.events.next(new Bs(dt.id,this.urlSerializer.serialize(dt.extractedUrl),er,1)),dt.resolve(null),Dt.E}}),(0,bt.b)(dt=>{const _n=new Oa(dt.id,this.urlSerializer.serialize(dt.extractedUrl),this.urlSerializer.serialize(dt.urlAfterRedirects),dt.targetSnapshot);this.events.next(_n)}),(0,He.U)(dt=>(this.currentTransition=ae={...dt,guards:je(dt.targetSnapshot,dt.currentSnapshot,this.rootContexts)},ae)),function Fa(S,N){return(0,Et.z)(w=>{const{targetSnapshot:k,currentSnapshot:G,guards:{canActivateChecks:ae,canDeactivateChecks:Ce}}=w;return 0===Ce.length&&0===ae.length?(0,Pe.of)({...w,guardsResult:!0}):function Al(S,N,w,k){return(0,Ee.D)(S).pipe((0,Et.z)(G=>function _a(S,N,w,k,G){const ae=N&&N.routeConfig?N.routeConfig.canDeactivate:null;if(!ae||0===ae.length)return(0,Pe.of)(!0);const Ce=ae.map(ct=>{const dt=Is(N)??G,_n=Ut(ct,dt);return Zt(function V(S){return S&&tr(S.canDeactivate)}(_n)?_n.canDeactivate(S,N,w,k):dt.runInContext(()=>_n(S,N,w,k))).pipe((0,$t.P)())});return(0,Pe.of)(Ce).pipe(si())}(G.component,G.route,w,N,k)),(0,$t.P)(G=>!0!==G,!0))}(Ce,k,G,S).pipe((0,Et.z)(ct=>ct&&function Bi(S){return"boolean"==typeof S}(ct)?function ic(S,N,w,k){return(0,Ee.D)(N).pipe((0,zn.b)(G=>(0,fe.z)(function La(S,N){return null!==S&&N&&N(new Ss(S)),(0,Pe.of)(!0)}(G.route.parent,k),function sc(S,N){return null!==S&&N&&N(new Gi(S)),(0,Pe.of)(!0)}(G.route,k),function oc(S,N,w){const k=N[N.length-1],ae=N.slice(0,N.length-1).reverse().map(Ce=>function St(S){const N=S.routeConfig?S.routeConfig.canActivateChild:null;return N&&0!==N.length?{node:S,guards:N}:null}(Ce)).filter(Ce=>null!==Ce).map(Ce=>Oe(()=>{const ct=Ce.guards.map(dt=>{const _n=Is(Ce.node)??w,_r=Ut(dt,_n);return Zt(function ee(S){return S&&tr(S.canActivateChild)}(_r)?_r.canActivateChild(k,S):_n.runInContext(()=>_r(k,S))).pipe((0,$t.P)())});return(0,Pe.of)(ct).pipe(si())}));return(0,Pe.of)(ae).pipe(si())}(S,G.path,w),function Hc(S,N,w){const k=N.routeConfig?N.routeConfig.canActivate:null;if(!k||0===k.length)return(0,Pe.of)(!0);const G=k.map(ae=>Oe(()=>{const Ce=Is(N)??w,ct=Ut(ae,Ce);return Zt(function q(S){return S&&tr(S.canActivate)}(ct)?ct.canActivate(N,S):Ce.runInContext(()=>ct(N,S))).pipe((0,$t.P)())}));return(0,Pe.of)(G).pipe(si())}(S,G.route,w))),(0,$t.P)(G=>!0!==G,!0))}(k,ae,S,N):(0,Pe.of)(ct)),(0,He.U)(ct=>({...w,guardsResult:ct})))})}(this.environmentInjector,dt=>this.events.next(dt)),(0,bt.b)(dt=>{if(ae.guardsResult=dt.guardsResult,Jn(dt.guardsResult))throw or(0,dt.guardsResult);const _n=new Br(dt.id,this.urlSerializer.serialize(dt.extractedUrl),this.urlSerializer.serialize(dt.urlAfterRedirects),dt.targetSnapshot,!!dt.guardsResult);this.events.next(_n)}),(0,ge.h)(dt=>!!dt.guardsResult||(this.cancelNavigationTransition(dt,"",3),!1)),P(dt=>{if(dt.guards.canActivateChecks.length)return(0,Pe.of)(dt).pipe((0,bt.b)(_n=>{const _r=new Na(_n.id,this.urlSerializer.serialize(_n.extractedUrl),this.urlSerializer.serialize(_n.urlAfterRedirects),_n.targetSnapshot);this.events.next(_r)}),(0,it.w)(_n=>{let _r=!1;return(0,Pe.of)(_n).pipe(function uc(S,N){return(0,Et.z)(w=>{const{targetSnapshot:k,guards:{canActivateChecks:G}}=w;if(!G.length)return(0,Pe.of)(w);let ae=0;return(0,Ee.D)(G).pipe((0,zn.b)(Ce=>function Sl(S,N,w,k){const G=S.routeConfig,ae=S._resolve;return void 0!==G?.title&&!Qr(G)&&(ae[hn]=G.title),function ja(S,N,w,k){const G=function Ad(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===G.length)return(0,Pe.of)({});const ae={};return(0,Ee.D)(G).pipe((0,Et.z)(Ce=>function Wc(S,N,w,k){const G=Is(N)??k,ae=Ut(S,G);return Zt(ae.resolve?ae.resolve(N,w):G.runInContext(()=>ae(N,w)))}(S[Ce],N,w,k).pipe((0,$t.P)(),(0,bt.b)(ct=>{ae[Ce]=ct}))),Ne(1),function et(S){return(0,He.U)(()=>S)}(ae),(0,Nt.K)(Ce=>cr(Ce)?Dt.E:(0,Xe._)(Ce)))}(ae,S,N,k).pipe((0,He.U)(Ce=>(S._resolvedData=Ce,S.data=wi(S,w).resolve,G&&Qr(G)&&(S.data[hn]=G.title),null)))}(Ce.route,k,S,N)),(0,bt.b)(()=>ae++),Ne(1),(0,Et.z)(Ce=>ae===G.length?(0,Pe.of)(w):Dt.E))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,bt.b)({next:()=>_r=!0,complete:()=>{_r||this.cancelNavigationTransition(_n,"",2)}}))}),(0,bt.b)(_n=>{const _r=new Ei(_n.id,this.urlSerializer.serialize(_n.extractedUrl),this.urlSerializer.serialize(_n.urlAfterRedirects),_n.targetSnapshot);this.events.next(_r)}))}),P(dt=>{const _n=_r=>{const qr=[];_r.routeConfig?.loadComponent&&!_r.routeConfig._loadedComponent&&qr.push(this.configLoader.loadComponent(_r.routeConfig).pipe((0,bt.b)(er=>{_r.component=er}),(0,He.U)(()=>{})));for(const er of _r.children)qr.push(..._n(er));return qr};return(0,Ae.a)(_n(dt.targetSnapshot.root)).pipe((0,at.d)(),(0,Ct.q)(1))}),P(()=>this.afterPreactivation()),(0,He.U)(dt=>{const _n=function rr(S,N,w){const k=Wi(S,N._root,w?w._root:void 0);return new jr(k,N)}(w.routeReuseStrategy,dt.targetSnapshot,dt.currentRouterState);return this.currentTransition=ae={...dt,targetRouterState:_n},ae}),(0,bt.b)(()=>{this.events.next(new Ao)}),((S,N,w,k)=>(0,He.U)(G=>(new Yr(N,G.targetRouterState,G.currentRouterState,w,k).activate(S),G)))(this.rootContexts,w.routeReuseStrategy,dt=>this.events.next(dt),this.inputBindingEnabled),(0,Ct.q)(1),(0,bt.b)({next:dt=>{Ce=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ui(dt.id,this.urlSerializer.serialize(dt.extractedUrl),this.urlSerializer.serialize(dt.urlAfterRedirects))),w.titleStrategy?.updateTitle(dt.targetRouterState.snapshot),dt.resolve(!0)},complete:()=>{Ce=!0}}),(0,vt.R)(this.transitionAbortSubject.pipe((0,bt.b)(dt=>{throw dt}))),(0,gt.x)(()=>{Ce||ct||this.cancelNavigationTransition(ae,"",1),this.currentNavigation?.id===ae.id&&(this.currentNavigation=null)}),(0,Nt.K)(dt=>{if(ct=!0,es(dt))this.events.next(new Pr(ae.id,this.urlSerializer.serialize(ae.extractedUrl),dt.message,dt.cancellationCode)),function Nn(S){return es(S)&&Jn(S.url)}(dt)?this.events.next(new ss(dt.url)):ae.resolve(!1);else{this.events.next(new Xi(ae.id,this.urlSerializer.serialize(ae.extractedUrl),dt,ae.targetSnapshot??void 0));try{ae.resolve(w.errorHandler(dt))}catch(_n){ae.reject(_n)}}return Dt.E}))}))}cancelNavigationTransition(w,k,G){const ae=new Pr(w.id,this.urlSerializer.serialize(w.extractedUrl),k,G);this.events.next(ae),w.resolve(!1)}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function yn(S){return S!==fr}let wr=(()=>{class S{buildTitle(w){let k,G=w.root;for(;void 0!==G;)k=this.getResolvedTitleForRoute(G)??k,G=G.children.find(ae=>ae.outlet===Gt);return k}getResolvedTitleForRoute(w){return w.data[hn]}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:function(){return(0,g.f3M)(Gr)},providedIn:"root"})}return S})(),Gr=(()=>{class S extends wr{constructor(w){super(),this.title=w}updateTitle(w){const k=this.buildTitle(w);void 0!==k&&this.title.setTitle(k)}static#e=this.\u0275fac=function(k){return new(k||S)(g.LFG(zt.Dx))};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})(),Lr=(()=>{class S{static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:function(){return(0,g.f3M)(Zr)},providedIn:"root"})}return S})();class lr{shouldDetach(N){return!1}store(N,w){}shouldAttach(N){return!1}retrieve(N){return null}shouldReuseRoute(N,w){return N.routeConfig===w.routeConfig}}let Zr=(()=>{class S extends lr{static#e=this.\u0275fac=function(){let w;return function(G){return(w||(w=g.n5z(S)))(G||S)}}();static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const Nr=new g.OlP("",{providedIn:"root",factory:()=>({})});let Oi=(()=>{class S{static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:function(){return(0,g.f3M)(ds)},providedIn:"root"})}return S})(),ds=(()=>{class S{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,k){return w}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();var is=function(S){return S[S.COMPLETE=0]="COMPLETE",S[S.FAILED=1]="FAILED",S[S.REDIRECTING=2]="REDIRECTING",S}(is||{});function sa(S,N){S.events.pipe((0,ge.h)(w=>w instanceof Ui||w instanceof Pr||w instanceof Xi||w instanceof Bs),(0,He.U)(w=>w instanceof Ui||w instanceof Bs?is.COMPLETE:w instanceof Pr&&(0===w.code||1===w.code)?is.REDIRECTING:is.FAILED),(0,ge.h)(w=>w!==is.REDIRECTING),(0,Ct.q)(1)).subscribe(()=>{N()})}function js(S){throw S}function oi(S,N,w){return N.parse("/")}const Yn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},oa={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Xs=(()=>{class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,g.f3M)(g.c2e),this.isNgZoneEnabled=!1,this._events=new ze.x,this.options=(0,g.f3M)(Nr,{optional:!0})||{},this.pendingTasks=(0,g.f3M)(g.HDt),this.errorHandler=this.options.errorHandler||js,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||oi,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,g.f3M)(Oi),this.routeReuseStrategy=(0,g.f3M)(Lr),this.titleStrategy=(0,g.f3M)(wr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,g.f3M)(ne,{optional:!0})?.flat()??[],this.navigationTransitions=(0,g.f3M)(Mt),this.urlSerializer=(0,g.f3M)(fi),this.location=(0,g.f3M)(rt.Ye),this.componentInputBindingEnabled=!!(0,g.f3M)(zr,{optional:!0}),this.eventsSubscription=new mt.w0,this.isNgZoneEnabled=(0,g.f3M)(g.R0b)instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Dr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Pi(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(w=>{this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(k=>{try{const{currentTransition:G}=this.navigationTransitions;if(null===G)return void(va(k)&&this._events.next(k));if(k instanceof Us)yn(G.source)&&(this.browserUrlTree=G.extractedUrl);else if(k instanceof Bs)this.rawUrlTree=G.rawUrl;else if(k instanceof Si){if("eager"===this.urlUpdateStrategy){if(!G.extras.skipLocationChange){const ae=this.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl);this.setBrowserUrl(ae,G)}this.browserUrlTree=G.urlAfterRedirects}}else if(k instanceof Ao)this.currentUrlTree=G.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl),this.routerState=G.targetRouterState,"deferred"===this.urlUpdateStrategy&&(G.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,G),this.browserUrlTree=G.urlAfterRedirects);else if(k instanceof Pr)0!==k.code&&1!==k.code&&(this.navigated=!0),(3===k.code||2===k.code)&&this.restoreHistory(G);else if(k instanceof ss){const ae=this.urlHandlingStrategy.merge(k.url,G.currentRawUrl),Ce={skipLocationChange:G.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||yn(G.source)};this.scheduleNavigation(ae,fr,null,Ce,{resolve:G.resolve,reject:G.reject,promise:G.promise})}k instanceof Xi&&this.restoreHistory(G,!0),k instanceof Ui&&(this.navigated=!0),va(k)&&this._events.next(k)}catch(G){this.navigationTransitions.transitionAbortSubject.next(G)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),fr,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const k="popstate"===w.type?"popstate":"hashchange";"popstate"===k&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,k,w.state)},0)}))}navigateToSyncWithBrowser(w,k,G){const ae={replaceUrl:!0},Ce=G?.navigationId?G:null;if(G){const dt={...G};delete dt.navigationId,delete dt.\u0275routerPageId,0!==Object.keys(dt).length&&(ae.state=dt)}const ct=this.parseUrl(w);this.scheduleNavigation(ct,k,Ce,ae)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(Ki),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,k={}){const{relativeTo:G,queryParams:ae,fragment:Ce,queryParamsHandling:ct,preserveFragment:dt}=k,_n=dt?this.currentUrlTree.fragment:Ce;let qr,_r=null;switch(ct){case"merge":_r={...this.currentUrlTree.queryParams,...ae};break;case"preserve":_r=this.currentUrlTree.queryParams;break;default:_r=ae||null}null!==_r&&(_r=this.removeEmptyProps(_r));try{qr=ui(G?G.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||!w[0].startsWith("/"))&&(w=[]),qr=this.currentUrlTree.root}return Ds(qr,w,_r,_n??null)}navigateByUrl(w,k={skipLocationChange:!1}){const G=Jn(w)?w:this.parseUrl(w),ae=this.urlHandlingStrategy.merge(G,this.rawUrlTree);return this.scheduleNavigation(ae,fr,null,k)}navigate(w,k={skipLocationChange:!1}){return function ai(S){for(let N=0;N<S.length;N++)if(null==S[N])throw new g.vHH(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,k),k)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let k;try{k=this.urlSerializer.parse(w)}catch(G){k=this.malformedUriErrorHandler(G,this.urlSerializer,w)}return k}isActive(w,k){let G;if(G=!0===k?{...Yn}:!1===k?{...oa}:k,Jn(w))return dr(this.currentUrlTree,w,G);const ae=this.parseUrl(w);return dr(this.currentUrlTree,ae,G)}removeEmptyProps(w){return Object.keys(w).reduce((k,G)=>{const ae=w[G];return null!=ae&&(k[G]=ae),k},{})}scheduleNavigation(w,k,G,ae,Ce){if(this.disposed)return Promise.resolve(!1);let ct,dt,_n;Ce?(ct=Ce.resolve,dt=Ce.reject,_n=Ce.promise):_n=new Promise((qr,er)=>{ct=qr,dt=er});const _r=this.pendingTasks.add();return sa(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(_r))}),this.navigationTransitions.handleNavigationRequest({source:k,restoredState:G,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:w,extras:ae,resolve:ct,reject:dt,promise:_n,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_n.catch(qr=>Promise.reject(qr))}setBrowserUrl(w,k){const G=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(G)||k.extras.replaceUrl){const Ce={...k.extras.state,...this.generateNgRouterState(k.id,this.browserPageId)};this.location.replaceState(G,"",Ce)}else{const ae={...k.extras.state,...this.generateNgRouterState(k.id,this.browserPageId+1)};this.location.go(G,"",ae)}}restoreHistory(w,k=!1){if("computed"===this.canceledNavigationResolution){const ae=this.currentPageId-this.browserPageId;0!==ae?this.location.historyGo(ae):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ae&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(k&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,k){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:k}:{navigationId:w}}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function va(S){return!(S instanceof Ao||S instanceof ss)}let Vo=(()=>{class S{constructor(w,k,G,ae,Ce,ct){this.router=w,this.route=k,this.tabIndexAttribute=G,this.renderer=ae,this.el=Ce,this.locationStrategy=ct,this.href=null,this.commands=null,this.onChanges=new ze.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const dt=Ce.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===dt||"area"===dt,this.isAnchorElement?this.subscription=w.events.subscribe(_n=>{_n instanceof Ui&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,k,G,ae,Ce){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||k||G||ae||Ce||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const w=null===this.href?null:(0,g.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",w)}applyAttributeValue(w,k){const G=this.renderer,ae=this.el.nativeElement;null!==k?G.setAttribute(ae,w,k):G.removeAttribute(ae,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(k){return new(k||S)(g.Y36(Xs),g.Y36(qi),g.$8M("tabindex"),g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(rt.S$))};static#t=this.\u0275dir=g.lG2({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(k,G){1&k&&g.NdJ("click",function(Ce){return G.onClick(Ce.button,Ce.ctrlKey,Ce.shiftKey,Ce.altKey,Ce.metaKey)}),2&k&&g.uIk("target",G.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",g.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",g.VuI],replaceUrl:["replaceUrl","replaceUrl",g.VuI],routerLink:"routerLink"},standalone:!0,features:[g.Xq5,g.TTD]})}return S})();class Ml{}let Zc=(()=>{class S{constructor(w,k,G,ae,Ce){this.router=w,this.injector=G,this.preloadingStrategy=ae,this.loader=Ce}setUpPreloading(){this.subscription=this.router.events.pipe((0,ge.h)(w=>w instanceof Ui),(0,zn.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,k){const G=[];for(const ae of k){ae.providers&&!ae._injector&&(ae._injector=(0,g.MMx)(ae.providers,w,`Route: ${ae.path}`));const Ce=ae._injector??w,ct=ae._loadedInjector??Ce;(ae.loadChildren&&!ae._loadedRoutes&&void 0===ae.canLoad||ae.loadComponent&&!ae._loadedComponent)&&G.push(this.preloadConfig(Ce,ae)),(ae.children||ae._loadedRoutes)&&G.push(this.processRoutes(ct,ae.children??ae._loadedRoutes))}return(0,Ee.D)(G).pipe((0,Jt.J)())}preloadConfig(w,k){return this.preloadingStrategy.preload(k,()=>{let G;G=k.loadChildren&&void 0===k.canLoad?this.loader.loadChildren(w,k):(0,Pe.of)(null);const ae=G.pipe((0,Et.z)(Ce=>null===Ce?(0,Pe.of)(void 0):(k._loadedRoutes=Ce.routes,k._loadedInjector=Ce.injector,this.processRoutes(Ce.injector??w,Ce.routes))));if(k.loadComponent&&!k._loadedComponent){const Ce=this.loader.loadComponent(k);return(0,Ee.D)([ae,Ce]).pipe((0,Jt.J)())}return ae})}static#e=this.\u0275fac=function(k){return new(k||S)(g.LFG(Xs),g.LFG(g.Sil),g.LFG(g.lqb),g.LFG(Ml),g.LFG(j))};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const dc=new g.OlP("");let Ou=(()=>{class S{constructor(w,k,G,ae,Ce={}){this.urlSerializer=w,this.transitions=k,this.viewportScroller=G,this.zone=ae,this.options=Ce,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ce.scrollPositionRestoration=Ce.scrollPositionRestoration||"disabled",Ce.anchorScrolling=Ce.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Us?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof Ui?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof Bs&&0===w.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof ni&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,k){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ni(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,k))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(k){g.$Z()};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac})}return S})();function Bo(S,N){return{\u0275kind:S,\u0275providers:N}}function Xn(){const S=(0,g.f3M)(g.zs3);return N=>{const w=S.get(g.z2F);if(N!==w.components[0])return;const k=S.get(Xs),G=S.get(Sd);1===S.get(Kc)&&k.initialNavigation(),S.get(bi,null,g.XFs.Optional)?.setUpPreloading(),S.get(dc,null,g.XFs.Optional)?.init(),k.resetRootComponentType(w.componentTypes[0]),G.closed||(G.next(),G.complete(),G.unsubscribe())}}const Sd=new g.OlP("",{factory:()=>new ze.x}),Kc=new g.OlP("",{providedIn:"root",factory:()=>1}),bi=new g.OlP("");function $a(S){return Bo(0,[{provide:bi,useExisting:Zc},{provide:Ml,useExisting:S}])}const Ot=new g.OlP("ROUTER_FORROOT_GUARD"),Sr=[rt.Ye,{provide:fi,useClass:Qn},Xs,_s,{provide:qi,useFactory:function Uo(S){return S.routerState.root},deps:[Xs]},j,[]];function Rd(){return new g.PXZ("Router",Xs)}let hc=(()=>{class S{constructor(w){}static forRoot(w,k){return{ngModule:S,providers:[Sr,[],{provide:ne,multi:!0,useValue:w},{provide:Ot,useFactory:bs,deps:[[Xs,new g.FiY,new g.tp0]]},{provide:Nr,useValue:k||{}},k?.useHash?{provide:rt.S$,useClass:rt.Do}:{provide:rt.S$,useClass:rt.b0},{provide:dc,useFactory:()=>{const S=(0,g.f3M)(rt.EM),N=(0,g.f3M)(g.R0b),w=(0,g.f3M)(Nr),k=(0,g.f3M)(Mt),G=(0,g.f3M)(fi);return w.scrollOffset&&S.setOffset(w.scrollOffset),new Ou(G,k,S,N,w)}},k?.preloadingStrategy?$a(k.preloadingStrategy).\u0275providers:[],{provide:g.PXZ,multi:!0,useFactory:Rd},k?.initialNavigation?Yc(k):[],k?.bindToComponentInputs?Bo(8,[ii,{provide:zr,useExisting:ii}]).\u0275providers:[],[{provide:fc,useFactory:Xn},{provide:g.tb,multi:!0,useExisting:fc}]]}}static forChild(w){return{ngModule:S,providers:[{provide:ne,multi:!0,useValue:w}]}}static#e=this.\u0275fac=function(k){return new(k||S)(g.LFG(Ot,8))};static#t=this.\u0275mod=g.oAB({type:S});static#n=this.\u0275inj=g.cJS({})}return S})();function bs(S){return"guarded"}function Yc(S){return["disabled"===S.initialNavigation?Bo(3,[{provide:g.ip1,multi:!0,useFactory:()=>{const N=(0,g.f3M)(Xs);return()=>{N.setUpLocationChangeListener()}}},{provide:Kc,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?Bo(2,[{provide:Kc,useValue:0},{provide:g.ip1,multi:!0,deps:[g.zs3],useFactory:N=>{const w=N.get(rt.V_,Promise.resolve());return()=>w.then(()=>new Promise(k=>{const G=N.get(Xs),ae=N.get(Sd);sa(G,()=>{k(!0)}),N.get(Mt).afterPreactivation=()=>(k(!0),ae.closed?(0,Pe.of)(void 0):ae),G.initialNavigation()}))}}]).\u0275providers:[]]}const fc=new g.OlP("")},5513:(Qt,Ze,H)=>{H.d(Ze,{Gb:()=>ka,Kz:()=>ts,EI:()=>Ki,lT:()=>Kn,Iv:()=>ir,xP:()=>na,Xd:()=>Nn});var g=H(5861),u=H(4303),K=H(7879),Ie=H(9058),Ee=H(4537),Pe=H(1878);const me="@firebase/installations",Ae="0.6.7",xe=1e4,fe=`w:${Ae}`,ve="FIS_v2",Oe="https://firebaseinstallations.googleapis.com/v1",pt=36e5,It=new Ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function _t(de){return de instanceof Ie.ZR&&de.code.includes("request-failed")}function en({projectId:de}){return`${Oe}/projects/${de}/installations`}function Ke(de){return{token:de.token,requestStatus:2,expiresIn:ge(de.expiresIn),creationTime:Date.now()}}function ze(de,De){return rt.apply(this,arguments)}function rt(){return(rt=(0,g.Z)(function*(de,De){const St=(yield De.json()).error;return It.create("request-failed",{requestName:de,serverCode:St.code,serverMessage:St.message,serverStatus:St.status})})).apply(this,arguments)}function He({apiKey:de}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":de})}function Ct(de){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,g.Z)(function*(de){const De=yield de();return De.status>=500&&De.status<600?de():De})).apply(this,arguments)}function ge(de){return Number(de.replace("s","000"))}function zn(){return(zn=(0,g.Z)(function*({appConfig:de,heartbeatServiceProvider:De},{fid:je}){const St=en(de),Ut=He(de),on=De.getImmediate({optional:!0});if(on){const tr=yield on.getHeartbeatsHeader();tr&&Ut.append("x-firebase-client",tr)}const Wn={method:"POST",headers:Ut,body:JSON.stringify({fid:je,authVersion:ve,appId:de.appId,sdkVersion:fe})},Pn=yield Ct(()=>fetch(St,Wn));if(Pn.ok){const tr=yield Pn.json();return{fid:tr.fid||je,registrationStatus:2,refreshToken:tr.refreshToken,authToken:Ke(tr.authToken)}}throw yield ze("Create Installation",Pn)})).apply(this,arguments)}function bt(de){return new Promise(De=>{setTimeout(De,de)})}const rn=/^[cdef][\w-]{21}$/,at="";function Ne(){try{const de=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(de),de[0]=112+de[0]%16;const je=function _e(de){return function Nt(de){return btoa(String.fromCharCode(...de)).replace(/\+/g,"-").replace(/\//g,"_")}(de).substr(0,22)}(de);return rn.test(je)?je:at}catch{return at}}function Ve(de){return`${de.appName}!${de.appId}`}const tt=new Map;function et(de,De){const je=Ve(de);Jt(je,De),function zt(de,De){const je=function hn(){return!Gt&&"BroadcastChannel"in self&&(Gt=new BroadcastChannel("[Firebase] FID Change"),Gt.onmessage=de=>{Jt(de.data.key,de.data.fid)}),Gt}();je&&je.postMessage({key:de,fid:De}),function Gn(){0===tt.size&&Gt&&(Gt.close(),Gt=null)}()}(je,De)}function Jt(de,De){const je=tt.get(de);if(je)for(const St of je)St(De)}let Gt=null;const gn="firebase-installations-database",On=1,qt="firebase-installations-store";let fn=null;function Cn(){return fn||(fn=(0,Pe.X3)(gn,On,{upgrade:(de,De)=>{0===De&&de.createObjectStore(qt)}})),fn}function Dn(de,De){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,g.Z)(function*(de,De){const je=Ve(de),Ut=(yield Cn()).transaction(qt,"readwrite"),on=Ut.objectStore(qt),mn=yield on.get(je);return yield on.put(De,je),yield Ut.done,(!mn||mn.fid!==De.fid)&&et(de,De.fid),De})).apply(this,arguments)}function li(de){return wn.apply(this,arguments)}function wn(){return(wn=(0,g.Z)(function*(de){const De=Ve(de),St=(yield Cn()).transaction(qt,"readwrite");yield St.objectStore(qt).delete(De),yield St.done})).apply(this,arguments)}function dr(de,De){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,g.Z)(function*(de,De){const je=Ve(de),Ut=(yield Cn()).transaction(qt,"readwrite"),on=Ut.objectStore(qt),mn=yield on.get(je),Wn=De(mn);return void 0===Wn?yield on.delete(je):yield on.put(Wn,je),yield Ut.done,Wn&&(!mn||mn.fid!==Wn.fid)&&et(de,Wn.fid),Wn})).apply(this,arguments)}function kt(de){return vn.apply(this,arguments)}function vn(){return vn=(0,g.Z)(function*(de){let De;const je=yield dr(de.appConfig,St=>{const Ut=function Fn(de){return hi(de||{fid:Ne(),registrationStatus:0})}(St),on=function An(de,De){if(0===De.registrationStatus){if(!navigator.onLine)return{installationEntry:De,registrationPromise:Promise.reject(It.create("app-offline"))};const je={fid:De.fid,registrationStatus:1,registrationTime:Date.now()},St=function kr(de,De){return Dr.apply(this,arguments)}(de,je);return{installationEntry:je,registrationPromise:St}}return 1===De.registrationStatus?{installationEntry:De,registrationPromise:qn(de)}:{installationEntry:De}}(de,Ut);return De=on.registrationPromise,on.installationEntry});return je.fid===at?{installationEntry:yield De}:{installationEntry:je,registrationPromise:De}}),vn.apply(this,arguments)}function Dr(){return Dr=(0,g.Z)(function*(de,De){try{const je=yield function $t(de,De){return zn.apply(this,arguments)}(de,De);return Dn(de.appConfig,je)}catch(je){throw _t(je)&&409===je.customData.serverCode?yield li(de.appConfig):yield Dn(de.appConfig,{fid:De.fid,registrationStatus:0}),je}}),Dr.apply(this,arguments)}function qn(de){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,g.Z)(function*(de){let De=yield Mr(de.appConfig);for(;1===De.registrationStatus;)yield bt(100),De=yield Mr(de.appConfig);if(0===De.registrationStatus){const{installationEntry:je,registrationPromise:St}=yield kt(de);return St||je}return De})).apply(this,arguments)}function Mr(de){return dr(de,De=>{if(!De)throw It.create("installation-not-found");return hi(De)})}function hi(de){return function sn(de){return 1===de.registrationStatus&&de.registrationTime+xe<Date.now()}(de)?{fid:de.fid,registrationStatus:0}:de}function Qn(){return(Qn=(0,g.Z)(function*({appConfig:de,heartbeatServiceProvider:De},je){const St=function Tr(de,{fid:De}){return`${en(de)}/${De}/authTokens:generate`}(de,je),Ut=function it(de,{refreshToken:De}){const je=He(de);return je.append("Authorization",function Et(de){return`${ve} ${de}`}(De)),je}(de,je),on=De.getImmediate({optional:!0});if(on){const tr=yield on.getHeartbeatsHeader();tr&&Ut.append("x-firebase-client",tr)}const Wn={method:"POST",headers:Ut,body:JSON.stringify({installation:{sdkVersion:fe,appId:de.appId}})},Pn=yield Ct(()=>fetch(St,Wn));if(Pn.ok)return Ke(yield Pn.json());throw yield ze("Generate Auth Token",Pn)})).apply(this,arguments)}function hr(de){return Ur.apply(this,arguments)}function Ur(){return Ur=(0,g.Z)(function*(de,De=!1){let je;const St=yield dr(de.appConfig,on=>{if(!jt(on))throw It.create("not-registered");const mn=on.authToken;if(!De&&function Sn(de){return 2===de.requestStatus&&!function ti(de){const De=Date.now();return De<de.creationTime||de.creationTime+de.expiresIn<De+pt}(de)}(mn))return on;if(1===mn.requestStatus)return je=function qe(de,De){return Tt.apply(this,arguments)}(de,De),on;{if(!navigator.onLine)throw It.create("app-offline");const Wn=function Ft(de){const De={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},de),{authToken:De})}(on);return je=function Se(de,De){return ft.apply(this,arguments)}(de,Wn),Wn}});return je?yield je:St.authToken}),Ur.apply(this,arguments)}function Tt(){return(Tt=(0,g.Z)(function*(de,De){let je=yield oe(de.appConfig);for(;1===je.authToken.requestStatus;)yield bt(100),je=yield oe(de.appConfig);const St=je.authToken;return 0===St.requestStatus?hr(de,De):St})).apply(this,arguments)}function oe(de){return dr(de,De=>{if(!jt(De))throw It.create("not-registered");return function ue(de){return 1===de.requestStatus&&de.requestTime+xe<Date.now()}(De.authToken)?Object.assign(Object.assign({},De),{authToken:{requestStatus:0}}):De})}function ft(){return ft=(0,g.Z)(function*(de,De){try{const je=yield function fi(de,De){return Qn.apply(this,arguments)}(de,De),St=Object.assign(Object.assign({},De),{authToken:je});return yield Dn(de.appConfig,St),je}catch(je){if(!_t(je)||401!==je.customData.serverCode&&404!==je.customData.serverCode){const St=Object.assign(Object.assign({},De),{authToken:{requestStatus:0}});yield Dn(de.appConfig,St)}else yield li(de.appConfig);throw je}}),ft.apply(this,arguments)}function jt(de){return void 0!==de&&2===de.registrationStatus}function $(){return($=(0,g.Z)(function*(de){const De=de,{installationEntry:je,registrationPromise:St}=yield kt(De);return St?St.catch(console.error):hr(De).catch(console.error),je.fid})).apply(this,arguments)}function L(){return L=(0,g.Z)(function*(de,De=!1){const je=de;return yield function he(de){return Fe.apply(this,arguments)}(je),(yield hr(je,De)).token}),L.apply(this,arguments)}function Fe(){return(Fe=(0,g.Z)(function*(de){const{registrationPromise:De}=yield kt(de);De&&(yield De)})).apply(this,arguments)}function Ds(de){return It.create("missing-app-config-values",{valueName:de})}const To="installations",so=de=>{const De=de.getProvider("app").getImmediate(),je=function ui(de){if(!de||!de.options)throw Ds("App Configuration");if(!de.name)throw Ds("App Name");const De=["projectId","apiKey","appId"];for(const je of De)if(!de.options[je])throw Ds(je);return{appName:de.name,projectId:de.options.projectId,apiKey:de.options.apiKey,appId:de.options.appId}}(De);return{app:De,appConfig:je,heartbeatServiceProvider:(0,u._getProvider)(De,"heartbeat"),_delete:()=>Promise.resolve()}},ms=de=>{const De=de.getProvider("app").getImmediate(),je=(0,u._getProvider)(De,To).getImmediate();return{getId:()=>function X(de){return $.apply(this,arguments)}(je),getToken:Ut=>function B(de){return L.apply(this,arguments)}(je,Ut)}};(function Li(){(0,u._registerComponent)(new Ee.wA(To,so,"PUBLIC")),(0,u._registerComponent)(new Ee.wA("installations-internal",ms,"PRIVATE"))})(),(0,u.registerVersion)(me,Ae),(0,u.registerVersion)(me,Ae,"esm2017");const pr="analytics",Vs="firebase_id",Co="origin",ma=6e4,jc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Vi="https://www.googletagmanager.com/gtag/js",Fr=new K.Yd("@firebase/analytics"),Kr=new Ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Jo(de){if(!de.startsWith(Vi)){const De=Kr.create("invalid-gtag-resource",{gtagURL:de});return Fr.warn(De.message),""}return de}function Xo(de){return Promise.all(de.map(De=>De.catch(je=>je)))}function Ui(){return(Ui=(0,g.Z)(function*(de,De,je,St,Ut,on){const mn=St[Ut];try{if(mn)yield De[mn];else{const Pn=(yield Xo(je)).find(tr=>tr.measurementId===Ut);Pn&&(yield De[Pn.appId])}}catch(Wn){Fr.error(Wn)}de("config",Ut,on)})).apply(this,arguments)}function Bs(){return(Bs=(0,g.Z)(function*(de,De,je,St,Ut){try{let on=[];if(Ut&&Ut.send_to){let mn=Ut.send_to;Array.isArray(mn)||(mn=[mn]);const Wn=yield Xo(je);for(const Pn of mn){const tr=Wn.find(us=>us.measurementId===Pn),Bi=tr&&De[tr.appId];if(!Bi){on=[];break}on.push(Bi)}}0===on.length&&(on=Object.values(De)),yield Promise.all(on),de("event",St,Ut||{})}catch(on){Fr.error(on)}})).apply(this,arguments)}const Br=30,Rr=new class Ei{constructor(De={},je=1e3){this.throttleMetadata=De,this.intervalMillis=je}getThrottleMetadata(De){return this.throttleMetadata[De]}setThrottleMetadata(De,je){this.throttleMetadata[De]=je}deleteThrottleMetadata(De){delete this.throttleMetadata[De]}};function ta(de){return new Headers({Accept:"application/json","x-goog-api-key":de})}function Ii(){return(Ii=(0,g.Z)(function*(de){var De;const{appId:je,apiKey:St}=de,Ut={method:"GET",headers:ta(St)},on=jc.replace("{app-id}",je),mn=yield fetch(on,Ut);if(200!==mn.status&&304!==mn.status){let Wn="";try{const Pn=yield mn.json();null!==(De=Pn.error)&&void 0!==De&&De.message&&(Wn=Pn.error.message)}catch{}throw Kr.create("config-fetch-failed",{httpStatus:mn.status,responseMessage:Wn})}return mn.json()})).apply(this,arguments)}function wo(){return(wo=(0,g.Z)(function*(de,De=Rr,je){const{appId:St,apiKey:Ut,measurementId:on}=de.options;if(!St)throw Kr.create("no-app-id");if(!Ut){if(on)return{measurementId:on,appId:St};throw Kr.create("no-api-key")}const mn=De.getThrottleMetadata(St)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Wn=new os;return setTimeout((0,g.Z)(function*(){Wn.abort()}),void 0!==je?je:ma),ni({appId:St,apiKey:Ut,measurementId:on},mn,Wn,De)})).apply(this,arguments)}function ni(de,De,je){return Ao.apply(this,arguments)}function Ao(){return Ao=(0,g.Z)(function*(de,{throttleEndTimeMillis:De,backoffCount:je},St,Ut=Rr){var on;const{appId:mn,measurementId:Wn}=de;try{yield function ss(de,De){return new Promise((je,St)=>{const Ut=Math.max(De-Date.now(),0),on=setTimeout(je,Ut);de.addEventListener(()=>{clearTimeout(on),St(Kr.create("fetch-throttle",{throttleEndTimeMillis:De}))})})}(St,De)}catch(Pn){if(Wn)return Fr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Wn} provided in the "measurementId" field in the local Firebase config. [${Pn?.message}]`),{appId:mn,measurementId:Wn};throw Pn}try{const Pn=yield function Ss(de){return Ii.apply(this,arguments)}(de);return Ut.deleteThrottleMetadata(mn),Pn}catch(Pn){const tr=Pn;if(!function ri(de){if(!(de instanceof Ie.ZR&&de.customData))return!1;const De=Number(de.customData.httpStatus);return 429===De||500===De||503===De||504===De}(tr)){if(Ut.deleteThrottleMetadata(mn),Wn)return Fr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Wn} provided in the "measurementId" field in the local Firebase config. [${tr?.message}]`),{appId:mn,measurementId:Wn};throw Pn}const Bi=503===Number(null===(on=tr?.customData)||void 0===on?void 0:on.httpStatus)?(0,Ie.$s)(je,Ut.intervalMillis,Br):(0,Ie.$s)(je,Ut.intervalMillis),us={throttleEndTimeMillis:Date.now()+Bi,backoffCount:je+1};return Ut.setThrottleMetadata(mn,us),Fr.debug(`Calling attemptFetch again in ${Bi} millis`),ni(de,us,St,Ut)}}),Ao.apply(this,arguments)}class os{constructor(){this.listeners=[]}addEventListener(De){this.listeners.push(De)}abort(){this.listeners.forEach(De=>De())}}let _s,as;function Mi(){return(Mi=(0,g.Z)(function*(de,De,je,St,Ut){if(Ut&&Ut.global)de("event",je,St);else{const on=yield De;de("event",je,Object.assign(Object.assign({},St),{send_to:on}))}})).apply(this,arguments)}function Mn(){return(Mn=(0,g.Z)(function*(de,De,je,St){if(St&&St.global)return de("set",{screen_name:je}),Promise.resolve();de("config",yield De,{update:!0,screen_name:je})})).apply(this,arguments)}function jr(){return(jr=(0,g.Z)(function*(de,De,je,St){if(St&&St.global)return de("set",{user_id:je}),Promise.resolve();de("config",yield De,{update:!0,user_id:je})})).apply(this,arguments)}function Or(){return(Or=(0,g.Z)(function*(de,De,je,St){if(St&&St.global){const Ut={};for(const on of Object.keys(je))Ut[`user_properties.${on}`]=je[on];return de("set",Ut),Promise.resolve()}de("config",yield De,{update:!0,user_properties:je})})).apply(this,arguments)}function Ri(){return(Ri=(0,g.Z)(function*(de,De){const je=yield de;window[`ga-disable-${je}`]=!De})).apply(this,arguments)}function gr(){return(gr=(0,g.Z)(function*(){if(!(0,Ie.hl)())return Fr.warn(Kr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ie.eu)()}catch(de){return Fr.warn(Kr.create("indexeddb-unavailable",{errorInfo:de?.toString()}).message),!1}return!0})).apply(this,arguments)}function ys(){return ys=(0,g.Z)(function*(de,De,je,St,Ut,on,mn){var Wn;const Pn=function Gi(de){return wo.apply(this,arguments)}(de);Pn.then(ee=>{je[ee.measurementId]=ee.appId,de.options.measurementId&&ee.measurementId!==de.options.measurementId&&Fr.warn(`The measurement ID in the local Firebase config (${de.options.measurementId}) does not match the measurement ID fetched from the server (${ee.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ee=>Fr.error(ee)),De.push(Pn);const tr=function Ln(){return gr.apply(this,arguments)}().then(ee=>{if(ee)return St.getId()}),[Bi,us]=yield Promise.all([Pn,tr]);(function Oa(de){const De=window.document.getElementsByTagName("script");for(const je of Object.values(De))if(je.src&&je.src.includes(Vi)&&je.src.includes(de))return je;return null})(on)||function fr(de,De){const je=function ea(de,De){let je;return window.trustedTypes&&(je=window.trustedTypes.createPolicy(de,De)),je}("firebase-js-sdk-policy",{createScriptURL:Jo}),St=document.createElement("script"),Ut=`${Vi}?l=${de}&id=${De}`;St.src=je?je?.createScriptURL(Ut):Ut,St.async=!0,document.head.appendChild(St)}(on,Bi.measurementId),as&&(Ut("consent","default",as),function br(de){as=de}(void 0)),Ut("js",new Date);const q=null!==(Wn=mn?.config)&&void 0!==Wn?Wn:{};return q[Co]="firebase",q.update=!0,null!=us&&(q[Vs]=us),Ut("config",Bi.measurementId,q),_s&&(Ut("set",_s),function Xt(de){_s=de}(void 0)),Bi.measurementId}),ys.apply(this,arguments)}class zr{constructor(De){this.app=De}_delete(){return delete ii[this.app.options.appId],Promise.resolve()}}let ii={},rr=[];const Wi={};let Zi,or,vs="dataLayer",jn="gtag",mi=!1;function Nn(de){if(mi)throw Kr.create("already-initialized");de.dataLayerName&&(vs=de.dataLayerName),de.gtagName&&(jn=de.gtagName)}function _i(de,De,je){!function es(){const de=[];if((0,Ie.ru)()&&de.push("This is a browser extension environment."),(0,Ie.zI)()||de.push("Cookies are not available."),de.length>0){const De=de.map((St,Ut)=>`(${Ut+1}) ${St}`).join(" "),je=Kr.create("invalid-analytics-context",{errorInfo:De});Fr.warn(je.message)}}();const St=de.options.appId;if(!St)throw Kr.create("no-app-id");if(!de.options.apiKey){if(!de.options.measurementId)throw Kr.create("no-api-key");Fr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${de.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ii[St])throw Kr.create("already-exists",{id:St});if(!mi){!function Ci(de){let De=[];Array.isArray(window[de])?De=window[de]:window[de]=De}(vs);const{wrappedGtag:on,gtagCore:mn}=function Si(de,De,je,St,Ut){let on=function(...mn){window[St].push(arguments)};return window[Ut]&&"function"==typeof window[Ut]&&(on=window[Ut]),window[Ut]=function Xi(de,De,je,St){function on(){return on=(0,g.Z)(function*(mn,...Wn){try{if("event"===mn){const[Pn,tr]=Wn;yield function Pr(de,De,je,St,Ut){return Bs.apply(this,arguments)}(de,De,je,Pn,tr)}else if("config"===mn){const[Pn,tr]=Wn;yield function Us(de,De,je,St,Ut,on){return Ui.apply(this,arguments)}(de,De,je,St,Pn,tr)}else if("consent"===mn){const[Pn,tr]=Wn;de("consent",Pn,tr)}else if("get"===mn){const[Pn,tr,Bi]=Wn;de("get",Pn,tr,Bi)}else if("set"===mn){const[Pn]=Wn;de("set",Pn)}else de(mn,...Wn)}catch(Pn){Fr.error(Pn)}}),on.apply(this,arguments)}return function Ut(mn){return on.apply(this,arguments)}}(on,de,De,je),{gtagCore:on,wrappedGtag:window[Ut]}}(ii,rr,Wi,vs,jn);or=on,Zi=mn,mi=!0}return ii[St]=function gi(de,De,je,St,Ut,on,mn){return ys.apply(this,arguments)}(de,rr,Wi,De,Zi,vs,je),new zr(de)}function ka(){return ls.apply(this,arguments)}function ls(){return(ls=(0,g.Z)(function*(){if((0,Ie.ru)()||!(0,Ie.zI)()||!(0,Ie.hl)())return!1;try{return yield(0,Ie.eu)()}catch{return!1}})).apply(this,arguments)}function Kn(de,De,je){de=(0,Ie.m9)(de),function Do(de,De,je,St){return Mn.apply(this,arguments)}(or,ii[de.app.options.appId],De,je).catch(St=>Fr.error(St))}function ir(de,De,je){de=(0,Ie.m9)(de),function xr(de,De,je,St){return jr.apply(this,arguments)}(or,ii[de.app.options.appId],De,je).catch(St=>Fr.error(St))}function na(de,De,je){de=(0,Ie.m9)(de),function Pi(de,De,je,St){return Or.apply(this,arguments)}(or,ii[de.app.options.appId],De,je).catch(St=>Fr.error(St))}function Ki(de,De){de=(0,Ie.m9)(de),function So(de,De){return Ri.apply(this,arguments)}(ii[de.app.options.appId],De).catch(je=>Fr.error(je))}function ts(de,De,je,St){de=(0,Ie.m9)(de),function oo(de,De,je,St,Ut){return Mi.apply(this,arguments)}(or,ii[de.app.options.appId],De,je,St).catch(Ut=>Fr.error(Ut))}const ao="@firebase/analytics";!function Yr(){(0,u._registerComponent)(new Ee.wA(pr,(De,{options:je})=>_i(De.getProvider("app").getImmediate(),De.getProvider("installations-internal").getImmediate(),je),"PUBLIC")),(0,u._registerComponent)(new Ee.wA("analytics-internal",function de(De){try{const je=De.getProvider(pr).getImmediate();return{logEvent:(St,Ut,on)=>ts(je,St,Ut,on)}}catch(je){throw Kr.create("interop-component-reg-failed",{reason:je})}},"PRIVATE")),(0,u.registerVersion)(ao,"0.10.4"),(0,u.registerVersion)(ao,"0.10.4","esm2017")}()},3106:(Qt,Ze,H)=>{H.d(Ze,{Z:()=>Dt});var g=H(9058),u=H(4537),K=H(4303),Ie=H(7879);class Ee{constructor(It,_t){this._delegate=It,this.firebase=_t,(0,K._addComponent)(It,new u.wA("app-compat",()=>this,"PUBLIC")),this.container=It.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(It){this._delegate.automaticDataCollectionEnabled=It}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(It=>{this._delegate.checkDestroyed(),It()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,K.deleteApp)(this._delegate)))}_getService(It,_t=K._DEFAULT_ENTRY_NAME){var en;this._delegate.checkDestroyed();const Ke=this._delegate.container.getProvider(It);return!Ke.isInitialized()&&"EXPLICIT"===(null===(en=Ke.getComponent())||void 0===en?void 0:en.instantiationMode)&&Ke.initialize(),Ke.getImmediate({identifier:_t})}_removeServiceInstance(It,_t=K._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(It).clearInstance(_t)}_addComponent(It){(0,K._addComponent)(this._delegate,It)}_addOrOverwriteComponent(It){(0,K._addOrOverwriteComponent)(this._delegate,It)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const me=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),fe=function xe(){const mt=function Ae(mt){const It={},_t={__esModule:!0,initializeApp:function ze(Ct,Ye={}){const ge=K.initializeApp(Ct,Ye);if((0,g.r3)(It,ge.name))return It[ge.name];const Et=new mt(ge,_t);return It[ge.name]=Et,Et},app:Ke,registerVersion:K.registerVersion,setLogLevel:K.setLogLevel,onLog:K.onLog,apps:null,SDK_VERSION:K.SDK_VERSION,INTERNAL:{registerComponent:function He(Ct){const Ye=Ct.name,ge=Ye.replace("-compat","");if(K._registerComponent(Ct)&&"PUBLIC"===Ct.type){const Et=($t=Ke())=>{if("function"!=typeof $t[ge])throw me.create("invalid-app-argument",{appName:Ye});return $t[ge]()};void 0!==Ct.serviceProps&&(0,g.ZB)(Et,Ct.serviceProps),_t[ge]=Et,mt.prototype[ge]=function(...$t){return this._getService.bind(this,Ye).apply(this,Ct.multipleInstances?$t:[])}}return"PUBLIC"===Ct.type?_t[ge]:null},removeApp:function en(Ct){delete It[Ct]},useAsService:function it(Ct,Ye){return"serverAuth"===Ye?null:Ye},modularAPIs:K}};function Ke(Ct){if(!(0,g.r3)(It,Ct=Ct||K._DEFAULT_ENTRY_NAME))throw me.create("no-app",{appName:Ct});return It[Ct]}return _t.default=_t,Object.defineProperty(_t,"apps",{get:function rt(){return Object.keys(It).map(Ct=>It[Ct])}}),Ke.App=mt,_t}(Ee);return mt.INTERNAL=Object.assign(Object.assign({},mt.INTERNAL),{createFirebaseNamespace:xe,extendNamespace:function It(_t){(0,g.ZB)(mt,_t)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),mt}(),ve=new Ie.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){ve.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const mt=self.firebase.SDK_VERSION;mt&&mt.indexOf("LITE")>=0&&ve.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Dt=fe;!function Xe(mt){(0,K.registerVersion)("@firebase/app-compat","0.2.35",mt)}()},4303:(Qt,Ze,H)=>{H.r(Ze),H.d(Ze,{FirebaseError:()=>Ie.ZR,SDK_VERSION:()=>li,_DEFAULT_ENTRY_NAME:()=>Ve,_addComponent:()=>Jt,_addOrOverwriteComponent:()=>zt,_apps:()=>et,_clearComponents:()=>qt,_components:()=>vt,_getProvider:()=>hn,_isFirebaseApp:()=>gn,_isFirebaseServerApp:()=>On,_registerComponent:()=>Gt,_removeServiceInstance:()=>Gn,_serverApps:()=>gt,deleteApp:()=>vn,getApp:()=>Hn,getApps:()=>kt,initializeApp:()=>wn,initializeServerApp:()=>dr,onLog:()=>kr,registerVersion:()=>An,setLogLevel:()=>Dr});var g=H(5861),u=H(4537),K=H(7879),Ie=H(9058),Ee=H(1878);class Pe{constructor(ue){this.container=ue}getPlatformInfoString(){return this.container.getProviders().map(X=>{if(function me(Ft){const ue=Ft.getComponent();return"VERSION"===ue?.type}(X)){const $=X.getImmediate();return`${$.library}/${$.version}`}return null}).filter(X=>X).join(" ")}}const Ae="@firebase/app",xe="0.10.5",fe=new K.Yd("@firebase/app"),Ve="[DEFAULT]",tt={[Ae]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},et=new Map,gt=new Map,vt=new Map;function Jt(Ft,ue){try{Ft.container.addComponent(ue)}catch(X){fe.debug(`Component ${ue.name} failed to register with FirebaseApp ${Ft.name}`,X)}}function zt(Ft,ue){Ft.container.addOrOverwriteComponent(ue)}function Gt(Ft){const ue=Ft.name;if(vt.has(ue))return fe.debug(`There were multiple attempts to register component ${ue}.`),!1;vt.set(ue,Ft);for(const X of et.values())Jt(X,Ft);for(const X of gt.values())Jt(X,Ft);return!0}function hn(Ft,ue){const X=Ft.container.getProvider("heartbeat").getImmediate({optional:!0});return X&&X.triggerHeartbeat(),Ft.container.getProvider(ue)}function Gn(Ft,ue,X=Ve){hn(Ft,ue).clearInstance(X)}function gn(Ft){return void 0!==Ft.options}function On(Ft){return void 0!==Ft.settings}function qt(){vt.clear()}const Cn=new Ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Dn{constructor(ue,X,$){this._isDeleted=!1,this._options=Object.assign({},ue),this._config=Object.assign({},X),this._name=X.name,this._automaticDataCollectionEnabled=X.automaticDataCollectionEnabled,this._container=$,this.container.addComponent(new u.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ue){this.checkDestroyed(),this._automaticDataCollectionEnabled=ue}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ue){this._isDeleted=ue}checkDestroyed(){if(this.isDeleted)throw Cn.create("app-deleted",{appName:this._name})}}class Zt extends Dn{constructor(ue,X,$,B){const L=void 0!==X.automaticDataCollectionEnabled&&X.automaticDataCollectionEnabled,he={name:$,automaticDataCollectionEnabled:L};super(void 0!==ue.apiKey?ue:ue.options,he,B),this._serverConfig=Object.assign({automaticDataCollectionEnabled:L},X),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,X.releaseOnDeref=void 0,An(Ae,xe,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(ue){this.isDeleted||(this._refCount++,void 0!==ue&&this._finalizationRegistry.register(ue,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){vn(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Cn.create("server-app-deleted")}}const li="10.12.2";function wn(Ft,ue={}){let X=Ft;"object"!=typeof ue&&(ue={name:ue});const $=Object.assign({name:Ve,automaticDataCollectionEnabled:!1},ue),B=$.name;if("string"!=typeof B||!B)throw Cn.create("bad-app-name",{appName:String(B)});if(X||(X=(0,Ie.aH)()),!X)throw Cn.create("no-options");const L=et.get(B);if(L){if((0,Ie.vZ)(X,L.options)&&(0,Ie.vZ)($,L.config))return L;throw Cn.create("duplicate-app",{appName:B})}const he=new u.H0(B);for(const yt of vt.values())he.addComponent(yt);const Fe=new Dn(X,$,he);return et.set(B,Fe),Fe}function dr(Ft,ue){if((0,Ie.jU)())throw Cn.create("invalid-server-app-environment");let X;void 0===ue.automaticDataCollectionEnabled&&(ue.automaticDataCollectionEnabled=!1),X=gn(Ft)?Ft.options:Ft;const $=Object.assign(Object.assign({},ue),X);if(void 0!==$.releaseOnDeref&&delete $.releaseOnDeref,void 0!==ue.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Cn.create("finalization-registry-not-supported",{});const L=""+(Rt=JSON.stringify($),[...Rt].reduce((tn,nn)=>Math.imul(31,tn)+nn.charCodeAt(0)|0,0)),he=gt.get(L);var Rt;if(he)return he.incRefCount(ue.releaseOnDeref),he;const Fe=new u.H0(L);for(const Rt of vt.values())Fe.addComponent(Rt);const yt=new Zt(X,ue,L,Fe);return gt.set(L,yt),yt}function Hn(Ft=Ve){const ue=et.get(Ft);if(!ue&&Ft===Ve&&(0,Ie.aH)())return wn();if(!ue)throw Cn.create("no-app",{appName:Ft});return ue}function kt(){return Array.from(et.values())}function vn(Ft){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,g.Z)(function*(Ft){let ue=!1;const X=Ft.name;et.has(X)?(ue=!0,et.delete(X)):gt.has(X)&&Ft.decRefCount()<=0&&(gt.delete(X),ue=!0),ue&&(yield Promise.all(Ft.container.getProviders().map($=>$.delete())),Ft.isDeleted=!0)})).apply(this,arguments)}function An(Ft,ue,X){var $;let B=null!==($=tt[Ft])&&void 0!==$?$:Ft;X&&(B+=`-${X}`);const L=B.match(/\s|\//),he=ue.match(/\s|\//);if(L||he){const Fe=[`Unable to register library "${B}" with version "${ue}":`];return L&&Fe.push(`library name "${B}" contains illegal characters (whitespace or "/")`),L&&he&&Fe.push("and"),he&&Fe.push(`version name "${ue}" contains illegal characters (whitespace or "/")`),void fe.warn(Fe.join(" "))}Gt(new u.wA(`${B}-version`,()=>({library:B,version:ue}),"VERSION"))}function kr(Ft,ue){if(null!==Ft&&"function"!=typeof Ft)throw Cn.create("invalid-log-argument");(0,K.Am)(Ft,ue)}function Dr(Ft){(0,K.Ub)(Ft)}const qn="firebase-heartbeat-database",Bn=1,Mr="firebase-heartbeat-store";let hi=null;function sn(){return hi||(hi=(0,Ee.X3)(qn,Bn,{upgrade:(Ft,ue)=>{if(0===ue)try{Ft.createObjectStore(Mr)}catch(X){console.warn(X)}}}).catch(Ft=>{throw Cn.create("idb-open",{originalErrorMessage:Ft.message})})),hi}function Qn(){return(Qn=(0,g.Z)(function*(Ft){try{const X=(yield sn()).transaction(Mr),$=yield X.objectStore(Mr).get(Ur(Ft));return yield X.done,$}catch(ue){if(ue instanceof Ie.ZR)fe.warn(ue.message);else{const X=Cn.create("idb-get",{originalErrorMessage:ue?.message});fe.warn(X.message)}}})).apply(this,arguments)}function Tr(Ft,ue){return hr.apply(this,arguments)}function hr(){return(hr=(0,g.Z)(function*(Ft,ue){try{const $=(yield sn()).transaction(Mr,"readwrite");yield $.objectStore(Mr).put(ue,Ur(Ft)),yield $.done}catch(X){if(X instanceof Ie.ZR)fe.warn(X.message);else{const $=Cn.create("idb-set",{originalErrorMessage:X?.message});fe.warn($.message)}}})).apply(this,arguments)}function Ur(Ft){return`${Ft.name}!${Ft.options.appId}`}class oe{constructor(ue){this.container=ue,this._heartbeatsCache=null;const X=this.container.getProvider("app").getImmediate();this._storage=new jt(X),this._heartbeatsCachePromise=this._storage.read().then($=>(this._heartbeatsCache=$,$))}triggerHeartbeat(){var ue=this;return(0,g.Z)(function*(){var X,$;const L=ue.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),he=Se();if((null!=(null===(X=ue._heartbeatsCache)||void 0===X?void 0:X.heartbeats)||(ue._heartbeatsCache=yield ue._heartbeatsCachePromise,null!=(null===($=ue._heartbeatsCache)||void 0===$?void 0:$.heartbeats)))&&ue._heartbeatsCache.lastSentHeartbeatDate!==he&&!ue._heartbeatsCache.heartbeats.some(Fe=>Fe.date===he))return ue._heartbeatsCache.heartbeats.push({date:he,agent:L}),ue._heartbeatsCache.heartbeats=ue._heartbeatsCache.heartbeats.filter(Fe=>{const yt=new Date(Fe.date).valueOf();return Date.now()-yt<=2592e6}),ue._storage.overwrite(ue._heartbeatsCache)})()}getHeartbeatsHeader(){var ue=this;return(0,g.Z)(function*(){var X;if(null===ue._heartbeatsCache&&(yield ue._heartbeatsCachePromise),null==(null===(X=ue._heartbeatsCache)||void 0===X?void 0:X.heartbeats)||0===ue._heartbeatsCache.heartbeats.length)return"";const $=Se(),{heartbeatsToSend:B,unsentEntries:L}=function ft(Ft,ue=1024){const X=[];let $=Ft.slice();for(const B of Ft){const L=X.find(he=>he.agent===B.agent);if(L){if(L.dates.push(B.date),Sn(X)>ue){L.dates.pop();break}}else if(X.push({agent:B.agent,dates:[B.date]}),Sn(X)>ue){X.pop();break}$=$.slice(1)}return{heartbeatsToSend:X,unsentEntries:$}}(ue._heartbeatsCache.heartbeats),he=(0,Ie.L)(JSON.stringify({version:2,heartbeats:B}));return ue._heartbeatsCache.lastSentHeartbeatDate=$,L.length>0?(ue._heartbeatsCache.heartbeats=L,yield ue._storage.overwrite(ue._heartbeatsCache)):(ue._heartbeatsCache.heartbeats=[],ue._storage.overwrite(ue._heartbeatsCache)),he})()}}function Se(){return(new Date).toISOString().substring(0,10)}class jt{constructor(ue){this.app=ue,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,Ie.hl)()&&(0,Ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ue=this;return(0,g.Z)(function*(){if(yield ue._canUseIndexedDBPromise){const $=yield function fi(Ft){return Qn.apply(this,arguments)}(ue.app);return $?.heartbeats?$:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(ue){var X=this;return(0,g.Z)(function*(){var $;if(yield X._canUseIndexedDBPromise){const L=yield X.read();return Tr(X.app,{lastSentHeartbeatDate:null!==($=ue.lastSentHeartbeatDate)&&void 0!==$?$:L.lastSentHeartbeatDate,heartbeats:ue.heartbeats})}})()}add(ue){var X=this;return(0,g.Z)(function*(){var $;if(yield X._canUseIndexedDBPromise){const L=yield X.read();return Tr(X.app,{lastSentHeartbeatDate:null!==($=ue.lastSentHeartbeatDate)&&void 0!==$?$:L.lastSentHeartbeatDate,heartbeats:[...L.heartbeats,...ue.heartbeats]})}})()}}function Sn(Ft){return(0,Ie.L)(JSON.stringify({version:2,heartbeats:Ft})).length}!function ti(Ft){Gt(new u.wA("platform-logger",ue=>new Pe(ue),"PRIVATE")),Gt(new u.wA("heartbeat",ue=>new oe(ue),"PRIVATE")),An(Ae,xe,Ft),An(Ae,xe,"esm2017"),An("fire-js","")}("")},4537:(Qt,Ze,H)=>{H.d(Ze,{H0:()=>Ae,wA:()=>K});var g=H(5861),u=H(9058);class K{constructor(fe,ve,Oe){this.name=fe,this.instanceFactory=ve,this.type=Oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(fe){return this.instantiationMode=fe,this}setMultipleInstances(fe){return this.multipleInstances=fe,this}setServiceProps(fe){return this.serviceProps=fe,this}setInstanceCreatedCallback(fe){return this.onInstanceCreated=fe,this}}const Ie="[DEFAULT]";class Ee{constructor(fe,ve){this.name=fe,this.container=ve,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(fe){const ve=this.normalizeInstanceIdentifier(fe);if(!this.instancesDeferred.has(ve)){const Oe=new u.BH;if(this.instancesDeferred.set(ve,Oe),this.isInitialized(ve)||this.shouldAutoInitialize())try{const pt=this.getOrInitializeService({instanceIdentifier:ve});pt&&Oe.resolve(pt)}catch{}}return this.instancesDeferred.get(ve).promise}getImmediate(fe){var ve;const Oe=this.normalizeInstanceIdentifier(fe?.identifier),pt=null!==(ve=fe?.optional)&&void 0!==ve&&ve;if(!this.isInitialized(Oe)&&!this.shouldAutoInitialize()){if(pt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Oe})}catch(Xe){if(pt)return null;throw Xe}}getComponent(){return this.component}setComponent(fe){if(fe.name!==this.name)throw Error(`Mismatching Component ${fe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=fe,this.shouldAutoInitialize()){if(function me(xe){return"EAGER"===xe.instantiationMode}(fe))try{this.getOrInitializeService({instanceIdentifier:Ie})}catch{}for(const[ve,Oe]of this.instancesDeferred.entries()){const pt=this.normalizeInstanceIdentifier(ve);try{const Xe=this.getOrInitializeService({instanceIdentifier:pt});Oe.resolve(Xe)}catch{}}}}clearInstance(fe=Ie){this.instancesDeferred.delete(fe),this.instancesOptions.delete(fe),this.instances.delete(fe)}delete(){var fe=this;return(0,g.Z)(function*(){const ve=Array.from(fe.instances.values());yield Promise.all([...ve.filter(Oe=>"INTERNAL"in Oe).map(Oe=>Oe.INTERNAL.delete()),...ve.filter(Oe=>"_delete"in Oe).map(Oe=>Oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(fe=Ie){return this.instances.has(fe)}getOptions(fe=Ie){return this.instancesOptions.get(fe)||{}}initialize(fe={}){const{options:ve={}}=fe,Oe=this.normalizeInstanceIdentifier(fe.instanceIdentifier);if(this.isInitialized(Oe))throw Error(`${this.name}(${Oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const pt=this.getOrInitializeService({instanceIdentifier:Oe,options:ve});for(const[Xe,Dt]of this.instancesDeferred.entries())Oe===this.normalizeInstanceIdentifier(Xe)&&Dt.resolve(pt);return pt}onInit(fe,ve){var Oe;const pt=this.normalizeInstanceIdentifier(ve),Xe=null!==(Oe=this.onInitCallbacks.get(pt))&&void 0!==Oe?Oe:new Set;Xe.add(fe),this.onInitCallbacks.set(pt,Xe);const Dt=this.instances.get(pt);return Dt&&fe(Dt,pt),()=>{Xe.delete(fe)}}invokeOnInitCallbacks(fe,ve){const Oe=this.onInitCallbacks.get(ve);if(Oe)for(const pt of Oe)try{pt(fe,ve)}catch{}}getOrInitializeService({instanceIdentifier:fe,options:ve={}}){let Oe=this.instances.get(fe);if(!Oe&&this.component&&(Oe=this.component.instanceFactory(this.container,{instanceIdentifier:(xe=fe,xe===Ie?void 0:xe),options:ve}),this.instances.set(fe,Oe),this.instancesOptions.set(fe,ve),this.invokeOnInitCallbacks(Oe,fe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,fe,Oe)}catch{}var xe;return Oe||null}normalizeInstanceIdentifier(fe=Ie){return this.component?this.component.multipleInstances?fe:Ie:fe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ae{constructor(fe){this.name=fe,this.providers=new Map}addComponent(fe){const ve=this.getProvider(fe.name);if(ve.isComponentSet())throw new Error(`Component ${fe.name} has already been registered with ${this.name}`);ve.setComponent(fe)}addOrOverwriteComponent(fe){this.getProvider(fe.name).isComponentSet()&&this.providers.delete(fe.name),this.addComponent(fe)}getProvider(fe){if(this.providers.has(fe))return this.providers.get(fe);const ve=new Ee(fe,this);return this.providers.set(fe,ve),ve}getProviders(){return Array.from(this.providers.values())}}},7879:(Qt,Ze,H)=>{H.d(Ze,{Am:()=>xe,Ub:()=>Ae,Yd:()=>me,in:()=>u});const g=[];var u=function(fe){return fe[fe.DEBUG=0]="DEBUG",fe[fe.VERBOSE=1]="VERBOSE",fe[fe.INFO=2]="INFO",fe[fe.WARN=3]="WARN",fe[fe.ERROR=4]="ERROR",fe[fe.SILENT=5]="SILENT",fe}(u||{});const K={debug:u.DEBUG,verbose:u.VERBOSE,info:u.INFO,warn:u.WARN,error:u.ERROR,silent:u.SILENT},Ie=u.INFO,Ee={[u.DEBUG]:"log",[u.VERBOSE]:"log",[u.INFO]:"info",[u.WARN]:"warn",[u.ERROR]:"error"},Pe=(fe,ve,...Oe)=>{if(ve<fe.logLevel)return;const pt=(new Date).toISOString(),Xe=Ee[ve];if(!Xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${ve})`);console[Xe](`[${pt}]  ${fe.name}:`,...Oe)};class me{constructor(ve){this.name=ve,this._logLevel=Ie,this._logHandler=Pe,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(ve){if(!(ve in u))throw new TypeError(`Invalid value "${ve}" assigned to \`logLevel\``);this._logLevel=ve}setLogLevel(ve){this._logLevel="string"==typeof ve?K[ve]:ve}get logHandler(){return this._logHandler}set logHandler(ve){if("function"!=typeof ve)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ve}get userLogHandler(){return this._userLogHandler}set userLogHandler(ve){this._userLogHandler=ve}debug(...ve){this._userLogHandler&&this._userLogHandler(this,u.DEBUG,...ve),this._logHandler(this,u.DEBUG,...ve)}log(...ve){this._userLogHandler&&this._userLogHandler(this,u.VERBOSE,...ve),this._logHandler(this,u.VERBOSE,...ve)}info(...ve){this._userLogHandler&&this._userLogHandler(this,u.INFO,...ve),this._logHandler(this,u.INFO,...ve)}warn(...ve){this._userLogHandler&&this._userLogHandler(this,u.WARN,...ve),this._logHandler(this,u.WARN,...ve)}error(...ve){this._userLogHandler&&this._userLogHandler(this,u.ERROR,...ve),this._logHandler(this,u.ERROR,...ve)}}function Ae(fe){g.forEach(ve=>{ve.setLogLevel(fe)})}function xe(fe,ve){for(const Oe of g){let pt=null;ve&&ve.level&&(pt=K[ve.level]),Oe.userLogHandler=null===fe?null:(Xe,Dt,...mt)=>{const It=mt.map(_t=>{if(null==_t)return null;if("string"==typeof _t)return _t;if("number"==typeof _t||"boolean"==typeof _t)return _t.toString();if(_t instanceof Error)return _t.message;try{return JSON.stringify(_t)}catch{return null}}).filter(_t=>_t).join(" ");Dt>=(pt??Xe.logLevel)&&fe({level:u[Dt].toLowerCase(),message:It,args:mt,type:Xe.name})}}}},3182:(Qt,Ze,H)=>{H.d(Ze,{C6:()=>g.getApps,KN:()=>g.registerVersion,Mq:()=>g.getApp,ZF:()=>g.initializeApp});var g=H(4303);(0,g.registerVersion)("firebase","10.12.2","app")},7142:(Qt,Ze,H)=>{H.d(Ze,{Z:()=>g.Z});var g=H(3106);g.Z.registerVersion("firebase","10.12.2","app-compat")},6365:(Qt,Ze,H)=>{H.r(Ze);var g=H(5861),u=H(3106),K=H(35),Ie=H(9058),me=(H(4303),H(7879),H(4537));function Ae(){return window}function ve(){return ve=(0,g.Z)(function*($,B,L){var he;const{BuildInfo:Fe}=Ae();(0,K.au)(B.sessionId,"AuthEvent did not contain a session ID");const yt=yield function _t($){return en.apply(this,arguments)}(B.sessionId),Rt={};return(0,K.av)()?Rt.ibi=Fe.packageName:(0,K.aw)()?Rt.apn=Fe.packageName:(0,K.ax)($,"operation-not-supported-in-this-environment"),Fe.displayName&&(Rt.appDisplayName=Fe.displayName),Rt.sessionId=yt,(0,K.ay)($,L,B.type,void 0,null!==(he=B.eventId)&&void 0!==he?he:void 0,Rt)}),ve.apply(this,arguments)}function pt(){return(pt=(0,g.Z)(function*($){const{BuildInfo:B}=Ae(),L={};(0,K.av)()?L.iosBundleId=B.packageName:(0,K.aw)()?L.androidPackageName=B.packageName:(0,K.ax)($,"operation-not-supported-in-this-environment"),yield(0,K.az)($,L)})).apply(this,arguments)}function mt(){return(mt=(0,g.Z)(function*($,B,L){const{cordova:he}=Ae();let Fe=()=>{};try{yield new Promise((yt,Rt)=>{let tn=null;function nn(){var xn;yt();const ui=null===(xn=he.plugins.browsertab)||void 0===xn?void 0:xn.close;"function"==typeof ui&&ui(),"function"==typeof L?.close&&L.close()}function an(){tn||(tn=window.setTimeout(()=>{Rt((0,K.aB)($,"redirect-cancelled-by-user"))},2e3))}function Jn(){"visible"===document?.visibilityState&&an()}B.addPassiveListener(nn),document.addEventListener("resume",an,!1),(0,K.aw)()&&document.addEventListener("visibilitychange",Jn,!1),Fe=()=>{B.removePassiveListener(nn),document.removeEventListener("resume",an,!1),document.removeEventListener("visibilitychange",Jn,!1),tn&&window.clearTimeout(tn)}})}finally{Fe()}})).apply(this,arguments)}function en(){return(en=(0,g.Z)(function*($){const B=function Ke($){if((0,K.au)(/[0-9a-zA-Z]+/.test($),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode($);const B=new ArrayBuffer($.length),L=new Uint8Array(B);for(let he=0;he<$.length;he++)L[he]=$.charCodeAt(he);return L}($),L=yield crypto.subtle.digest("SHA-256",B);return Array.from(new Uint8Array(L)).map(Fe=>Fe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class rt extends K.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(B=>{this.resolveInialized=B})}addPassiveListener(B){this.passiveListeners.add(B)}removePassiveListener(B){this.passiveListeners.delete(B)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(B){return this.resolveInialized(),this.passiveListeners.forEach(L=>L(B)),super.onEvent(B)}initialized(){var B=this;return(0,g.Z)(function*(){yield B.initPromise})()}}function Ct($){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,g.Z)(function*($){const B=yield $t()._get(zn($));return B&&(yield $t()._remove(zn($))),B})).apply(this,arguments)}function Et(){const $=[];for(let L=0;L<20;L++){const he=Math.floor(62*Math.random());$.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(he))}return $.join("")}function $t(){return(0,K.aE)(K.b)}function zn($){return(0,K.aF)("authEvent",$.config.apiKey,$.name)}function rn($){if(!$?.includes("?"))return{};const[B,...L]=$.split("?");return(0,Ie.zd)(L.join("?"))}const _e=class Ne{constructor(){this._redirectPersistence=K.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=K.aG,this._overrideRedirectResult=K.aH}_initialize(B){var L=this;return(0,g.Z)(function*(){const he=B._key();let Fe=L.eventManagers.get(he);return Fe||(Fe=new rt(B),L.eventManagers.set(he,Fe),L.attachCallbackListeners(B,Fe)),Fe})()}_openPopup(B){(0,K.ax)(B,"operation-not-supported-in-this-environment")}_openRedirect(B,L,he,Fe){var yt=this;return(0,g.Z)(function*(){!function It($){var B,L,he,Fe,yt,Rt,tn,nn,an,Jn;const xn=Ae();(0,K.aC)("function"==typeof(null===(B=xn?.universalLinks)||void 0===B?void 0:B.subscribe),$,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,K.aC)(typeof(null===(L=xn?.BuildInfo)||void 0===L?void 0:L.packageName)<"u",$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,K.aC)("function"==typeof(null===(yt=null===(Fe=null===(he=xn?.cordova)||void 0===he?void 0:he.plugins)||void 0===Fe?void 0:Fe.browsertab)||void 0===yt?void 0:yt.openUrl),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,K.aC)("function"==typeof(null===(nn=null===(tn=null===(Rt=xn?.cordova)||void 0===Rt?void 0:Rt.plugins)||void 0===tn?void 0:tn.browsertab)||void 0===nn?void 0:nn.isAvailable),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,K.aC)("function"==typeof(null===(Jn=null===(an=xn?.cordova)||void 0===an?void 0:an.InAppBrowser)||void 0===Jn?void 0:Jn.open),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(B);const Rt=yield yt._initialize(B);yield Rt.initialized(),Rt.resetRedirect(),(0,K.aI)(),yield yt._originValidation(B);const tn=function He($,B,L=null){return{type:B,eventId:L,urlResponse:null,sessionId:Et(),postBody:null,tenantId:$.tenantId,error:(0,K.aB)($,"no-auth-event")}}(B,he,Fe);yield function it($,B){return $t()._set(zn($),B)}(B,tn);const nn=yield function fe($,B,L){return ve.apply(this,arguments)}(B,tn,L),an=yield function Xe($){const{cordova:B}=Ae();return new Promise(L=>{B.plugins.browsertab.isAvailable(he=>{let Fe=null;he?B.plugins.browsertab.openUrl($):Fe=B.InAppBrowser.open($,(0,K.aA)()?"_blank":"_system","location=yes"),L(Fe)})})}(nn);return function Dt($,B,L){return mt.apply(this,arguments)}(B,Rt,an)})()}_isIframeWebStorageSupported(B,L){throw new Error("Method not implemented.")}_originValidation(B){const L=B._key();return this.originValidationPromises[L]||(this.originValidationPromises[L]=function Oe($){return pt.apply(this,arguments)}(B)),this.originValidationPromises[L]}attachCallbackListeners(B,L){const{universalLinks:he,handleOpenURL:Fe,BuildInfo:yt}=Ae(),Rt=setTimeout((0,g.Z)(function*(){yield Ct(B),L.onEvent(Ve())}),500),tn=function(){var Jn=(0,g.Z)(function*(xn){clearTimeout(Rt);const ui=yield Ct(B);let Ds=null;ui&&xn?.url&&(Ds=function ge($,B){var L,he;const Fe=function Nt($){const B=rn($),L=B.link?decodeURIComponent(B.link):void 0,he=rn(L).link,Fe=B.deep_link_id?decodeURIComponent(B.deep_link_id):void 0;return rn(Fe).link||Fe||he||L||$}(B);if(Fe.includes("/__/auth/callback")){const yt=rn(Fe),Rt=yt.firebaseError?function bt($){try{return JSON.parse($)}catch{return null}}(decodeURIComponent(yt.firebaseError)):null,tn=null===(he=null===(L=Rt?.code)||void 0===L?void 0:L.split("auth/"))||void 0===he?void 0:he[1],nn=tn?(0,K.aB)(tn):null;return nn?{type:$.type,eventId:$.eventId,tenantId:$.tenantId,error:nn,urlResponse:null,sessionId:null,postBody:null}:{type:$.type,eventId:$.eventId,tenantId:$.tenantId,sessionId:$.sessionId,urlResponse:Fe,postBody:null}}return null}(ui,xn.url)),L.onEvent(Ds||Ve())});return function(ui){return Jn.apply(this,arguments)}}();typeof he<"u"&&"function"==typeof he.subscribe&&he.subscribe(null,tn);const nn=Fe,an=`${yt.packageName.toLowerCase()}://`;Ae().handleOpenURL=function(){var Jn=(0,g.Z)(function*(xn){if(xn.toLowerCase().startsWith(an)&&tn({url:xn}),"function"==typeof nn)try{nn(xn)}catch(ui){console.error(ui)}});return function(xn){return Jn.apply(this,arguments)}}()}};function Ve(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,K.aB)("no-auth-event")}}function Jt(){var $;return(null===($=self?.location)||void 0===$?void 0:$.protocol)||null}function Gt($=(0,Ie.z$)()){return!("file:"!==Jt()&&"ionic:"!==Jt()&&"capacitor:"!==Jt()||!$.toLowerCase().match(/iphone|ipad|ipod|android/))}function qt(){try{const $=self.localStorage,B=K.aN();if($)return $.setItem(B,"1"),$.removeItem(B),!function On($=(0,Ie.z$)()){return function Gn(){return(0,Ie.w1)()&&11===document?.documentMode}()||function gn($=(0,Ie.z$)()){return/Edge\/\d+/.test($)}($)}()||(0,Ie.hl)()}catch{return fn()&&(0,Ie.hl)()}return!1}function fn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Cn(){return(function zt(){return"http:"===Jt()||"https:"===Jt()}()||(0,Ie.ru)()||Gt())&&!function hn(){return(0,Ie.b$)()||(0,Ie.UG)()}()&&qt()&&!fn()}function Dn(){return Gt()&&typeof document<"u"}function li(){return(li=(0,g.Z)(function*(){return!!Dn()&&new Promise($=>{const B=setTimeout(()=>{$(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(B),$(!0)})})})).apply(this,arguments)}const dr={LOCAL:"local",NONE:"none",SESSION:"session"},Hn=K.aC,kt="persistence";function Fn($){return An.apply(this,arguments)}function An(){return(An=(0,g.Z)(function*($){yield $._initializationPromise;const B=Dr(),L=K.aF(kt,$.config.apiKey,$.name);B&&B.setItem(L,$._getPersistence())})).apply(this,arguments)}function Dr(){var $;try{return(null===($=function wn(){return typeof window<"u"?window:null}())||void 0===$?void 0:$.sessionStorage)||null}catch{return null}}const qn=K.aC;class Bn{constructor(){this.browserResolver=K.aE(K.k),this.cordovaResolver=K.aE(_e),this.underlyingResolver=null,this._redirectPersistence=K.a,this._completeRedirectFn=K.aG,this._overrideRedirectResult=K.aH}_initialize(B){var L=this;return(0,g.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._initialize(B)})()}_openPopup(B,L,he,Fe){var yt=this;return(0,g.Z)(function*(){return yield yt.selectUnderlyingResolver(),yt.assertedUnderlyingResolver._openPopup(B,L,he,Fe)})()}_openRedirect(B,L,he,Fe){var yt=this;return(0,g.Z)(function*(){return yield yt.selectUnderlyingResolver(),yt.assertedUnderlyingResolver._openRedirect(B,L,he,Fe)})()}_isIframeWebStorageSupported(B,L){this.assertedUnderlyingResolver._isIframeWebStorageSupported(B,L)}_originValidation(B){return this.assertedUnderlyingResolver._originValidation(B)}get _shouldInitProactively(){return Dn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return qn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var B=this;return(0,g.Z)(function*(){if(B.underlyingResolver)return;const L=yield function Zt(){return li.apply(this,arguments)}();B.underlyingResolver=L?B.cordovaResolver:B.browserResolver})()}}function Mr($){return $.unwrap()}function sn($){return Qn($)}function Qn($){const{_tokenResponse:B}=$ instanceof Ie.ZR?$.customData:$;if(!B)return null;if(!($ instanceof Ie.ZR)&&"temporaryProof"in B&&"phoneNumber"in B)return K.P.credentialFromResult($);const L=B.providerId;if(!L||L===K.p.PASSWORD)return null;let he;switch(L){case K.p.GOOGLE:he=K.X;break;case K.p.FACEBOOK:he=K.W;break;case K.p.GITHUB:he=K.Y;break;case K.p.TWITTER:he=K.$;break;default:const{oauthIdToken:Fe,oauthAccessToken:yt,oauthTokenSecret:Rt,pendingToken:tn,nonce:nn}=B;return yt||Rt||Fe||tn?tn?L.startsWith("saml.")?K.aQ._create(L,tn):K.N._fromParams({providerId:L,signInMethod:L,pendingToken:tn,idToken:Fe,accessToken:yt}):new K.Z(L).credential({idToken:Fe,accessToken:yt,rawNonce:nn}):null}return $ instanceof Ie.ZR?he.credentialFromError($):he.credentialFromResult($)}function Tr($,B){return B.catch(L=>{throw L instanceof Ie.ZR&&function fi($,B){var L;const he=null===(L=B.customData)||void 0===L?void 0:L._tokenResponse;if("auth/multi-factor-auth-required"===B?.code)B.resolver=new qe($,K.as($,B));else if(he){const Fe=Qn(B),yt=B;Fe&&(yt.credential=Fe,yt.tenantId=he.tenantId||void 0,yt.email=he.email||void 0,yt.phoneNumber=he.phoneNumber||void 0)}}($,L),L}).then(L=>{const Fe=L.user;return{operationType:L.operationType,credential:sn(L),additionalUserInfo:K.aq(L),user:Tt.getOrCreate(Fe)}})}function hr($,B){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,g.Z)(function*($,B){const L=yield B;return{verificationId:L.verificationId,confirm:he=>Tr($,L.confirm(he))}})).apply(this,arguments)}class qe{constructor(B,L){this.resolver=L,this.auth=function hi($){return $.wrapped()}(B)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(B){return Tr(Mr(this.auth),this.resolver.resolveSignIn(B))}}class Tt{constructor(B){this._delegate=B,this.multiFactor=K.at(B)}static getOrCreate(B){return Tt.USER_MAP.has(B)||Tt.USER_MAP.set(B,new Tt(B)),Tt.USER_MAP.get(B)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(B){return this._delegate.getIdTokenResult(B)}getIdToken(B){return this._delegate.getIdToken(B)}linkAndRetrieveDataWithCredential(B){return this.linkWithCredential(B)}linkWithCredential(B){var L=this;return(0,g.Z)(function*(){return Tr(L.auth,K.a2(L._delegate,B))})()}linkWithPhoneNumber(B,L){var he=this;return(0,g.Z)(function*(){return hr(he.auth,K.l(he._delegate,B,L))})()}linkWithPopup(B){var L=this;return(0,g.Z)(function*(){return Tr(L.auth,K.d(L._delegate,B,Bn))})()}linkWithRedirect(B){var L=this;return(0,g.Z)(function*(){return yield Fn(K.aJ(L.auth)),K.g(L._delegate,B,Bn)})()}reauthenticateAndRetrieveDataWithCredential(B){return this.reauthenticateWithCredential(B)}reauthenticateWithCredential(B){var L=this;return(0,g.Z)(function*(){return Tr(L.auth,K.a3(L._delegate,B))})()}reauthenticateWithPhoneNumber(B,L){return hr(this.auth,K.r(this._delegate,B,L))}reauthenticateWithPopup(B){return Tr(this.auth,K.e(this._delegate,B,Bn))}reauthenticateWithRedirect(B){var L=this;return(0,g.Z)(function*(){return yield Fn(K.aJ(L.auth)),K.h(L._delegate,B,Bn)})()}sendEmailVerification(B){return K.ag(this._delegate,B)}unlink(B){var L=this;return(0,g.Z)(function*(){return yield K.ap(L._delegate,B),L})()}updateEmail(B){return K.al(this._delegate,B)}updatePassword(B){return K.am(this._delegate,B)}updatePhoneNumber(B){return K.u(this._delegate,B)}updateProfile(B){return K.ak(this._delegate,B)}verifyBeforeUpdateEmail(B,L){return K.ah(this._delegate,B,L)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Tt.USER_MAP=new WeakMap;const oe=K.aC;let Se=(()=>{class ${constructor(L,he){if(this.app=L,he.isInitialized())return this._delegate=he.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Fe}=L.options;oe(Fe,"invalid-api-key",{appName:L.name}),oe(Fe,"invalid-api-key",{appName:L.name});const yt=typeof window<"u"?Bn:void 0;this._delegate=he.initialize({options:{persistence:jt(Fe,L.name),popupRedirectResolver:yt}}),this._delegate._updateErrorMap(K.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Tt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(L){this._delegate.languageCode=L}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(L){this._delegate.tenantId=L}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(L,he){K.K(this._delegate,L,he)}applyActionCode(L){return K.a7(this._delegate,L)}checkActionCode(L){return K.a8(this._delegate,L)}confirmPasswordReset(L,he){return K.a6(this._delegate,L,he)}createUserWithEmailAndPassword(L,he){var Fe=this;return(0,g.Z)(function*(){return Tr(Fe._delegate,K.aa(Fe._delegate,L,he))})()}fetchProvidersForEmail(L){return this.fetchSignInMethodsForEmail(L)}fetchSignInMethodsForEmail(L){return K.af(this._delegate,L)}isSignInWithEmailLink(L){return K.ad(this._delegate,L)}getRedirectResult(){var L=this;return(0,g.Z)(function*(){oe(Cn(),L._delegate,"operation-not-supported-in-this-environment");const he=yield K.j(L._delegate,Bn);return he?Tr(L._delegate,Promise.resolve(he)):{credential:null,user:null}})()}addFrameworkForLogging(L){!function tt($,B){(0,K.aJ)($)._logFramework(B)}(this._delegate,L)}onAuthStateChanged(L,he,Fe){const{next:yt,error:Rt,complete:tn}=ft(L,he,Fe);return this._delegate.onAuthStateChanged(yt,Rt,tn)}onIdTokenChanged(L,he,Fe){const{next:yt,error:Rt,complete:tn}=ft(L,he,Fe);return this._delegate.onIdTokenChanged(yt,Rt,tn)}sendSignInLinkToEmail(L,he){return K.ac(this._delegate,L,he)}sendPasswordResetEmail(L,he){return K.a5(this._delegate,L,he||void 0)}setPersistence(L){var he=this;return(0,g.Z)(function*(){let Fe;switch(function vn($,B){Hn(Object.values(dr).includes(B),$,"invalid-persistence-type"),(0,Ie.b$)()?Hn(B!==dr.SESSION,$,"unsupported-persistence-type"):(0,Ie.UG)()?Hn(B===dr.NONE,$,"unsupported-persistence-type"):fn()?Hn(B===dr.NONE||B===dr.LOCAL&&(0,Ie.hl)(),$,"unsupported-persistence-type"):Hn(B===dr.NONE||qt(),$,"unsupported-persistence-type")}(he._delegate,L),L){case dr.SESSION:Fe=K.a;break;case dr.LOCAL:Fe=(yield K.aE(K.i)._isAvailable())?K.i:K.b;break;case dr.NONE:Fe=K.U;break;default:return K.ax("argument-error",{appName:he._delegate.name})}return he._delegate.setPersistence(Fe)})()}signInAndRetrieveDataWithCredential(L){return this.signInWithCredential(L)}signInAnonymously(){return Tr(this._delegate,K.a0(this._delegate))}signInWithCredential(L){return Tr(this._delegate,K.a1(this._delegate,L))}signInWithCustomToken(L){return Tr(this._delegate,K.a4(this._delegate,L))}signInWithEmailAndPassword(L,he){return Tr(this._delegate,K.ab(this._delegate,L,he))}signInWithEmailLink(L,he){return Tr(this._delegate,K.ae(this._delegate,L,he))}signInWithPhoneNumber(L,he){return hr(this._delegate,K.s(this._delegate,L,he))}signInWithPopup(L){var he=this;return(0,g.Z)(function*(){return oe(Cn(),he._delegate,"operation-not-supported-in-this-environment"),Tr(he._delegate,K.c(he._delegate,L,Bn))})()}signInWithRedirect(L){var he=this;return(0,g.Z)(function*(){return oe(Cn(),he._delegate,"operation-not-supported-in-this-environment"),yield Fn(he._delegate),K.f(he._delegate,L,Bn)})()}updateCurrentUser(L){return this._delegate.updateCurrentUser(L)}verifyPasswordResetCode(L){return K.a9(this._delegate,L)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return $.Persistence=dr,$})();function ft($,B,L){let he=$;"function"!=typeof $&&({next:he,error:B,complete:L}=$);const Fe=he;return{next:Rt=>Fe(Rt&&Tt.getOrCreate(Rt)),error:B,complete:L}}function jt($,B){const L=function kr($,B){const L=Dr();if(!L)return[];const he=K.aF(kt,$,B);switch(L.getItem(he)){case dr.NONE:return[K.U];case dr.LOCAL:return[K.i,K.a];case dr.SESSION:return[K.a];default:return[]}}($,B);if(typeof self<"u"&&!L.includes(K.i)&&L.push(K.i),typeof window<"u")for(const he of[K.b,K.a])L.includes(he)||L.push(he);return L.includes(K.U)||L.push(K.U),L}class Sn{constructor(){this.providerId="phone",this._delegate=new K.P(Mr(u.Z.auth()))}static credential(B,L){return K.P.credential(B,L)}verifyPhoneNumber(B,L){return this._delegate.verifyPhoneNumber(B,L)}unwrap(){return this._delegate}}Sn.PHONE_SIGN_IN_METHOD=K.P.PHONE_SIGN_IN_METHOD,Sn.PROVIDER_ID=K.P.PROVIDER_ID;const ti=K.aC;class Ft{constructor(B,L,he=u.Z.app()){var Fe;ti(null===(Fe=he.options)||void 0===Fe?void 0:Fe.apiKey,"invalid-api-key",{appName:he.name}),this._delegate=new K.R(he.auth(),B,L),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function X($){$.INTERNAL.registerComponent(new me.wA("auth-compat",B=>{const L=B.getProvider("app-compat").getImmediate(),he=B.getProvider("auth");return new Se(L,he)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:K.A.EMAIL_SIGNIN,PASSWORD_RESET:K.A.PASSWORD_RESET,RECOVER_EMAIL:K.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:K.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:K.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:K.A.VERIFY_EMAIL}},EmailAuthProvider:K.V,FacebookAuthProvider:K.W,GithubAuthProvider:K.Y,GoogleAuthProvider:K.X,OAuthProvider:K.Z,SAMLAuthProvider:K._,PhoneAuthProvider:Sn,PhoneMultiFactorGenerator:K.m,RecaptchaVerifier:Ft,TwitterAuthProvider:K.$,Auth:Se,AuthCredential:K.L,Error:Ie.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$.registerVersion("@firebase/auth-compat","0.5.9")}(u.Z)},1878:(Qt,Ze,H)=>{H.d(Ze,{X3:()=>Ke});var g=H(5861);const u=(Ye,ge)=>ge.some(Et=>Ye instanceof Et);let K,Ie;const me=new WeakMap,Ae=new WeakMap,xe=new WeakMap,fe=new WeakMap,ve=new WeakMap;let Xe={get(Ye,ge,Et){if(Ye instanceof IDBTransaction){if("done"===ge)return Ae.get(Ye);if("objectStoreNames"===ge)return Ye.objectStoreNames||xe.get(Ye);if("store"===ge)return Et.objectStoreNames[1]?void 0:Et.objectStore(Et.objectStoreNames[0])}return _t(Ye[ge])},set:(Ye,ge,Et)=>(Ye[ge]=Et,!0),has:(Ye,ge)=>Ye instanceof IDBTransaction&&("done"===ge||"store"===ge)||ge in Ye};function It(Ye){return"function"==typeof Ye?function mt(Ye){return Ye!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Pe(){return Ie||(Ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ye)?function(...ge){return Ye.apply(en(this),ge),_t(me.get(this))}:function(...ge){return _t(Ye.apply(en(this),ge))}:function(ge,...Et){const $t=Ye.call(en(this),ge,...Et);return xe.set($t,ge.sort?ge.sort():[ge]),_t($t)}}(Ye):(Ye instanceof IDBTransaction&&function pt(Ye){if(Ae.has(Ye))return;const ge=new Promise((Et,$t)=>{const zn=()=>{Ye.removeEventListener("complete",bt),Ye.removeEventListener("error",Nt),Ye.removeEventListener("abort",Nt)},bt=()=>{Et(),zn()},Nt=()=>{$t(Ye.error||new DOMException("AbortError","AbortError")),zn()};Ye.addEventListener("complete",bt),Ye.addEventListener("error",Nt),Ye.addEventListener("abort",Nt)});Ae.set(Ye,ge)}(Ye),u(Ye,function Ee(){return K||(K=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ye,Xe):Ye)}function _t(Ye){if(Ye instanceof IDBRequest)return function Oe(Ye){const ge=new Promise((Et,$t)=>{const zn=()=>{Ye.removeEventListener("success",bt),Ye.removeEventListener("error",Nt)},bt=()=>{Et(_t(Ye.result)),zn()},Nt=()=>{$t(Ye.error),zn()};Ye.addEventListener("success",bt),Ye.addEventListener("error",Nt)});return ge.then(Et=>{Et instanceof IDBCursor&&me.set(Et,Ye)}).catch(()=>{}),ve.set(ge,Ye),ge}(Ye);if(fe.has(Ye))return fe.get(Ye);const ge=It(Ye);return ge!==Ye&&(fe.set(Ye,ge),ve.set(ge,Ye)),ge}const en=Ye=>ve.get(Ye);function Ke(Ye,ge,{blocked:Et,upgrade:$t,blocking:zn,terminated:bt}={}){const Nt=indexedDB.open(Ye,ge),rn=_t(Nt);return $t&&Nt.addEventListener("upgradeneeded",at=>{$t(_t(Nt.result),at.oldVersion,at.newVersion,_t(Nt.transaction),at)}),Et&&Nt.addEventListener("blocked",at=>Et(at.oldVersion,at.newVersion,at)),rn.then(at=>{bt&&at.addEventListener("close",()=>bt()),zn&&at.addEventListener("versionchange",Ne=>zn(Ne.oldVersion,Ne.newVersion,Ne))}).catch(()=>{}),rn}const rt=["get","getKey","getAll","getAllKeys","count"],He=["put","add","delete","clear"],it=new Map;function Ct(Ye,ge){if(!(Ye instanceof IDBDatabase)||ge in Ye||"string"!=typeof ge)return;if(it.get(ge))return it.get(ge);const Et=ge.replace(/FromIndex$/,""),$t=ge!==Et,zn=He.includes(Et);if(!(Et in($t?IDBIndex:IDBObjectStore).prototype)||!zn&&!rt.includes(Et))return;const bt=function(){var Nt=(0,g.Z)(function*(rn,...at){const Ne=this.transaction(rn,zn?"readwrite":"readonly");let _e=Ne.store;return $t&&(_e=_e.index(at.shift())),(yield Promise.all([_e[Et](...at),zn&&Ne.done]))[0]});return function(at){return Nt.apply(this,arguments)}}();return it.set(ge,bt),bt}!function Dt(Ye){Xe=Ye(Xe)}(Ye=>({...Ye,get:(ge,Et,$t)=>Ct(ge,Et)||Ye.get(ge,Et,$t),has:(ge,Et)=>!!Ct(ge,Et)||Ye.has(ge,Et)}))},5861:(Qt,Ze,H)=>{function g(K,Ie,Ee,Pe,me,Ae,xe){try{var fe=K[Ae](xe),ve=fe.value}catch(Oe){return void Ee(Oe)}fe.done?Ie(ve):Promise.resolve(ve).then(Pe,me)}function u(K){return function(){var Ie=this,Ee=arguments;return new Promise(function(Pe,me){var Ae=K.apply(Ie,Ee);function xe(ve){g(Ae,Pe,me,xe,fe,"next",ve)}function fe(ve){g(Ae,Pe,me,xe,fe,"throw",ve)}xe(void 0)})}}H.d(Ze,{Z:()=>u})},7582:(Qt,Ze,H)=>{function Ie(_e,Ve){var tt={};for(var et in _e)Object.prototype.hasOwnProperty.call(_e,et)&&Ve.indexOf(et)<0&&(tt[et]=_e[et]);if(null!=_e&&"function"==typeof Object.getOwnPropertySymbols){var gt=0;for(et=Object.getOwnPropertySymbols(_e);gt<et.length;gt++)Ve.indexOf(et[gt])<0&&Object.prototype.propertyIsEnumerable.call(_e,et[gt])&&(tt[et[gt]]=_e[et[gt]])}return tt}function Oe(_e,Ve,tt,et){return new(tt||(tt=Promise))(function(vt,Jt){function zt(Gn){try{hn(et.next(Gn))}catch(gn){Jt(gn)}}function Gt(Gn){try{hn(et.throw(Gn))}catch(gn){Jt(gn)}}function hn(Gn){Gn.done?vt(Gn.value):function gt(vt){return vt instanceof tt?vt:new tt(function(Jt){Jt(vt)})}(Gn.value).then(zt,Gt)}hn((et=et.apply(_e,Ve||[])).next())})}function ze(_e){return this instanceof ze?(this.v=_e,this):new ze(_e)}function rt(_e,Ve,tt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var gt,et=tt.apply(_e,Ve||[]),vt=[];return gt={},Jt("next"),Jt("throw"),Jt("return"),gt[Symbol.asyncIterator]=function(){return this},gt;function Jt(On){et[On]&&(gt[On]=function(qt){return new Promise(function(fn,Cn){vt.push([On,qt,fn,Cn])>1||zt(On,qt)})})}function zt(On,qt){try{!function Gt(On){On.value instanceof ze?Promise.resolve(On.value.v).then(hn,Gn):gn(vt[0][2],On)}(et[On](qt))}catch(fn){gn(vt[0][3],fn)}}function hn(On){zt("next",On)}function Gn(On){zt("throw",On)}function gn(On,qt){On(qt),vt.shift(),vt.length&&zt(vt[0][0],vt[0][1])}}function it(_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var tt,Ve=_e[Symbol.asyncIterator];return Ve?Ve.call(_e):(_e=function mt(_e){var Ve="function"==typeof Symbol&&Symbol.iterator,tt=Ve&&_e[Ve],et=0;if(tt)return tt.call(_e);if(_e&&"number"==typeof _e.length)return{next:function(){return _e&&et>=_e.length&&(_e=void 0),{value:_e&&_e[et++],done:!_e}}};throw new TypeError(Ve?"Object is not iterable.":"Symbol.iterator is not defined.")}(_e),tt={},et("next"),et("throw"),et("return"),tt[Symbol.asyncIterator]=function(){return this},tt);function et(vt){tt[vt]=_e[vt]&&function(Jt){return new Promise(function(zt,Gt){!function gt(vt,Jt,zt,Gt){Promise.resolve(Gt).then(function(hn){vt({value:hn,done:zt})},Jt)}(zt,Gt,(Jt=_e[vt](Jt)).done,Jt.value)})}}}H.d(Ze,{FC:()=>rt,KL:()=>it,_T:()=>Ie,mG:()=>Oe,qq:()=>ze}),"function"==typeof SuppressedError&&SuppressedError}},Qt=>{Qt(Qt.s=6713)}]);