"use strict";(self.webpackChunkromani_in_seattle=self.webpackChunkromani_in_seattle||[]).push([[179],{35:(Qt,Ke,B)=>{B.d(Ke,{$:()=>ur,A:()=>ie,G:()=>et,K:()=>ys,L:()=>ji,N:()=>Ri,P:()=>Qm,R:()=>da,U:()=>ln,V:()=>uo,W:()=>qe,X:()=>Pt,Y:()=>Ht,Z:()=>De,_:()=>Bn,a:()=>Vt,a0:()=>L,a1:()=>jc,a2:()=>ho,a3:()=>ad,a4:()=>fu,a5:()=>zc,a6:()=>ac,a7:()=>oa,a8:()=>cc,a9:()=>Hc,aA:()=>fn,aB:()=>ct,aC:()=>me,aD:()=>Cu,aE:()=>bt,aF:()=>un,aG:()=>Bh,aH:()=>Zf,aI:()=>gc,aJ:()=>lr,aN:()=>dc,aQ:()=>En,aa:()=>Mh,ab:()=>cd,ac:()=>za,ad:()=>Ml,ae:()=>Ha,af:()=>P,ag:()=>$,ah:()=>we,ak:()=>kr,al:()=>Wr,am:()=>Ir,ap:()=>fs,aq:()=>la,as:()=>ud,at:()=>Rh,au:()=>$t,av:()=>Er,aw:()=>Wt,ax:()=>ze,ay:()=>Za,az:()=>vn,b:()=>qo,c:()=>Cg,d:()=>Jm,e:()=>kl,f:()=>pa,g:()=>Kf,h:()=>Iu,i:()=>Xr,j:()=>Yf,k:()=>Hh,l:()=>ha,m:()=>Ad,p:()=>Ce,r:()=>Wf,s:()=>kh,u:()=>Ol});var g=B(5861),u=B(4303),H=B(9058),Ie=B(7879),Ee=B(7582),Se=B(4537);const Ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ie={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const et=function ve(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Mt=function it(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},vt=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Et=new Ie.Yd("@firebase/auth");function Qe(C,..._){Et.logLevel<=Ie.in.ERROR&&Et.error(`Auth (${u.SDK_VERSION}): ${C}`,..._)}function ze(C,..._){throw Je(C,..._)}function ct(C,..._){return Je(C,..._)}function Ge(C,_,v){const M=Object.assign(Object.assign({},Mt()),{[_]:v});return new H.LL("auth","Firebase",M).create(_,{appName:C.name})}function ot(C){return Ge(C,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dt(C,_,v){if(!(_ instanceof v))throw v.name!==_.constructor.name&&ze(C,"argument-error"),Ge(C,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Je(C,..._){if("string"!=typeof C){const v=_[0],M=[..._.slice(1)];return M[0]&&(M[0].appName=C.name),C._errorFactory.create(v,...M)}return vt.create(C,..._)}function me(C,_,...v){if(!C)throw Je(_,...v)}function Ct(C){const _="INTERNAL ASSERTION FAILED: "+C;throw Qe(_),new Error(_)}function $t(C,_){C||Ct(_)}function jn(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function Tt(){return"http:"===Ft()||"https:"===Ft()}function Ft(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Ne{constructor(_,v){this.shortDelay=_,this.longDelay=v,$t(v>_,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function Jt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Tt()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _e(C,_){$t(C.emulator,"Emulator should always be set here");const{url:v}=C.emulator;return _?`${v}${_.startsWith("/")?_.slice(1):_}`:v}class Ue{static initialize(_,v,M){this.fetchImpl=_,v&&(this.headersImpl=v),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ct("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ct("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ct("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},rt=new Ne(3e4,6e4);function _t(C,_){return C.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:C.tenantId}):_}function wt(C,_,v,M){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,g.Z)(function*(C,_,v,M,Y={}){return Kt(C,Y,(0,g.Z)(function*(){let ue={},$e={};M&&("GET"===_?$e=M:ue={body:JSON.stringify(M)});const ht=(0,H.xO)(Object.assign({key:C.config.apiKey},$e)).slice(1),jt=yield C._getAdditionalHeaders();return jt["Content-Type"]="application/json",C.languageCode&&(jt["X-Firebase-Locale"]=C.languageCode),Ue.fetch()(_n(C,C.config.apiHost,v,ht),Object.assign({method:_,headers:jt,referrerPolicy:"no-referrer"},ue))}))})).apply(this,arguments)}function Kt(C,_,v){return qt.apply(this,arguments)}function qt(){return(qt=(0,g.Z)(function*(C,_,v){C._canInitEmulator=!1;const M=Object.assign(Object.assign({},nt),_);try{const Y=new Yt(C),ue=yield Promise.race([v(),Y.promise]);Y.clearNetworkTimeout();const $e=yield ue.json();if("needConfirmation"in $e)throw mn(C,"account-exists-with-different-credential",$e);if(ue.ok&&!("errorMessage"in $e))return $e;{const ht=ue.ok?$e.errorMessage:$e.error.message,[jt,wn]=ht.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===jt)throw mn(C,"credential-already-in-use",$e);if("EMAIL_EXISTS"===jt)throw mn(C,"email-already-in-use",$e);if("USER_DISABLED"===jt)throw mn(C,"user-disabled",$e);const qn=M[jt]||jt.toLowerCase().replace(/[_\s]+/g,"-");if(wn)throw Ge(C,qn,wn);ze(C,qn)}}catch(Y){if(Y instanceof H.ZR)throw Y;ze(C,"network-request-failed",{message:String(Y)})}})).apply(this,arguments)}function gn(C,_,v,M){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,g.Z)(function*(C,_,v,M,Y={}){const ue=yield wt(C,_,v,M,Y);return"mfaPendingCredential"in ue&&ze(C,"multi-factor-auth-required",{_serverResponse:ue}),ue})).apply(this,arguments)}function _n(C,_,v,M){const Y=`${_}${v}?${M}`;return C.config.emulator?_e(C.config,Y):`${C.config.apiScheme}://${Y}`}function xn(C){switch(C){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Yt{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((v,M)=>{this.timer=setTimeout(()=>M(ct(this.auth,"network-request-failed")),rt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mn(C,_,v){const M={appName:C.name};v.email&&(M.email=v.email),v.phoneNumber&&(M.phoneNumber=v.phoneNumber);const Y=ct(C,_,M);return Y.customData._tokenResponse=v,Y}function Mn(C){return void 0!==C&&void 0!==C.getResponse}function kn(C){return void 0!==C&&void 0!==C.enterprise}class en{constructor(_){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=_.recaptchaEnforcementState}getProviderEnforcementState(_){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===_)return xn(v.enforcementState);return null}isProviderEnabled(_){return"ENFORCE"===this.getProviderEnforcementState(_)||"AUDIT"===this.getProviderEnforcementState(_)}}function On(){return(On=(0,g.Z)(function*(C){return(yield wt(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function vr(C,_){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,g.Z)(function*(C,_){return wt(C,"GET","/v2/recaptchaConfig",_t(C,_))})).apply(this,arguments)}function bn(){return(bn=(0,g.Z)(function*(C,_){return wt(C,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function Rn(){return(Rn=(0,g.Z)(function*(C,_){return wt(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Br(C,_){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,g.Z)(function*(C,_){return wt(C,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function Yn(C){if(C)try{const _=new Date(Number(C));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function li(){return(li=(0,g.Z)(function*(C,_=!1){const v=(0,H.m9)(C),M=yield v.getIdToken(_),Y=ui(M);me(Y&&Y.exp&&Y.auth_time&&Y.iat,v.auth,"internal-error");const ue="object"==typeof Y.firebase?Y.firebase:void 0,$e=ue?.sign_in_provider;return{claims:Y,token:M,authTime:Yn(cn(Y.auth_time)),issuedAtTime:Yn(cn(Y.iat)),expirationTime:Yn(cn(Y.exp)),signInProvider:$e||null,signInSecondFactor:ue?.sign_in_second_factor||null}})).apply(this,arguments)}function cn(C){return 1e3*Number(C)}function ui(C){const[_,v,M]=C.split(".");if(void 0===_||void 0===v||void 0===M)return Qe("JWT malformed, contained fewer than 3 sections"),null;try{const Y=(0,H.tV)(v);return Y?JSON.parse(Y):(Qe("Failed to decode base64 JWT payload"),null)}catch(Y){return Qe("Caught error parsing JWT payload as JSON",Y?.toString()),null}}function er(C){const _=ui(C);return me(_,"internal-error"),me(typeof _.exp<"u","internal-error"),me(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}function Ar(C,_){return gr.apply(this,arguments)}function gr(){return(gr=(0,g.Z)(function*(C,_,v=!1){if(v)return _;try{return yield _}catch(M){throw M instanceof H.ZR&&function Gr({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}(M)&&C.auth.currentUser===C&&(yield C.auth.signOut()),M}})).apply(this,arguments)}class Ze{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var v;if(_){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const Y=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,Y)}}schedule(_=!1){var v=this;if(!this.isRunning)return;const M=this.getInterval(_);this.timerId=setTimeout((0,g.Z)(function*(){yield v.iteration()}),M)}iteration(){var _=this;return(0,g.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&_.schedule(!0))}_.schedule()})()}}class It{constructor(_,v){this.createdAt=_,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yn(this.lastLoginAt),this.creationTime=Yn(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function oe(C){return Me.apply(this,arguments)}function Me(){return(Me=(0,g.Z)(function*(C){var _;const v=C.auth,M=yield C.getIdToken(),Y=yield Ar(C,Br(v,{idToken:M}));me(Y?.users.length,v,"internal-error");const ue=Y.users[0];C._notifyReloadListener(ue);const $e=null!==(_=ue.providerUserInfo)&&void 0!==_&&_.length?ni(ue.providerUserInfo):[],ht=function Fn(C,_){return[...C.filter(M=>!_.some(Y=>Y.providerId===M.providerId)),..._]}(C.providerData,$e),qn=!!C.isAnonymous&&!(C.email&&ue.passwordHash||ht?.length),yr={uid:ue.localId,displayName:ue.displayName||null,photoURL:ue.photoUrl||null,email:ue.email||null,emailVerified:ue.emailVerified||!1,phoneNumber:ue.phoneNumber||null,tenantId:ue.tenantId||null,providerData:ht,metadata:new It(ue.createdAt,ue.lastLoginAt),isAnonymous:qn};Object.assign(C,yr)})).apply(this,arguments)}function zt(){return(zt=(0,g.Z)(function*(C){const _=(0,H.m9)(C);yield oe(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function ni(C){return C.map(_=>{var{providerId:v}=_,M=(0,Ee._T)(_,["providerId"]);return{providerId:v,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}function de(){return(de=(0,g.Z)(function*(C,_){const v=yield Kt(C,{},(0,g.Z)(function*(){const M=(0,H.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:Y,apiKey:ue}=C.config,$e=_n(C,Y,"/v1/token",`key=${ue}`),ht=yield C._getAdditionalHeaders();return ht["Content-Type"]="application/x-www-form-urlencoded",Ue.fetch()($e,{method:"POST",headers:ht,body:M})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function z(){return(z=(0,g.Z)(function*(C,_){return wt(C,"POST","/v2/accounts:revokeToken",_t(C,_))})).apply(this,arguments)}class j{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){me(_.idToken,"internal-error"),me(typeof _.idToken<"u","internal-error"),me(typeof _.refreshToken<"u","internal-error");const v="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):er(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,v)}updateFromIdToken(_){me(0!==_.length,"internal-error");const v=er(_);this.updateTokensAndExpiration(_,null,v)}getToken(_,v=!1){var M=this;return(0,g.Z)(function*(){return v||!M.accessToken||M.isExpired?(me(M.refreshToken,_,"user-token-expired"),M.refreshToken?(yield M.refresh(_,M.refreshToken),M.accessToken):null):M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,v){var M=this;return(0,g.Z)(function*(){const{accessToken:Y,refreshToken:ue,expiresIn:$e}=yield function Bt(C,_){return de.apply(this,arguments)}(_,v);M.updateTokensAndExpiration(Y,ue,Number($e))})()}updateTokensAndExpiration(_,v,M){this.refreshToken=v||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(_,v){const{refreshToken:M,accessToken:Y,expirationTime:ue}=v,$e=new j;return M&&(me("string"==typeof M,"internal-error",{appName:_}),$e.refreshToken=M),Y&&(me("string"==typeof Y,"internal-error",{appName:_}),$e.accessToken=Y),ue&&(me("number"==typeof ue,"internal-error",{appName:_}),$e.expirationTime=ue),$e}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new j,this.toJSON())}_performRefresh(){return Ct("not implemented")}}function F(C,_){me("string"==typeof C||typeof C>"u","internal-error",{appName:_})}class pe{constructor(_){var{uid:v,auth:M,stsTokenManager:Y}=_,ue=(0,Ee._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ze(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=M,this.stsTokenManager=Y,this.accessToken=Y.accessToken,this.displayName=ue.displayName||null,this.email=ue.email||null,this.emailVerified=ue.emailVerified||!1,this.phoneNumber=ue.phoneNumber||null,this.photoURL=ue.photoURL||null,this.isAnonymous=ue.isAnonymous||!1,this.tenantId=ue.tenantId||null,this.providerData=ue.providerData?[...ue.providerData]:[],this.metadata=new It(ue.createdAt||void 0,ue.lastLoginAt||void 0)}getIdToken(_){var v=this;return(0,g.Z)(function*(){const M=yield Ar(v,v.stsTokenManager.getToken(v.auth,_));return me(M,v.auth,"internal-error"),v.accessToken!==M&&(v.accessToken=M,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),M})()}getIdTokenResult(_){return function xr(C){return li.apply(this,arguments)}(this,_)}reload(){return function yt(C){return zt.apply(this,arguments)}(this)}_assign(_){this!==_&&(me(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(v=>Object.assign({},v)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const v=new pe(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(_){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,v=!1){var M=this;return(0,g.Z)(function*(){let Y=!1;_.idToken&&_.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(_),Y=!0),v&&(yield oe(M)),yield M.auth._persistUserIfCurrent(M),Y&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var _=this;return(0,g.Z)(function*(){if((0,u._isFirebaseServerApp)(_.auth.app))return Promise.reject(ot(_.auth));const v=yield _.getIdToken();return yield Ar(_,function Ut(C,_){return bn.apply(this,arguments)}(_.auth,{idToken:v})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,v){var M,Y,ue,$e,ht,jt,wn,qn;const yr=null!==(M=v.displayName)&&void 0!==M?M:void 0,vo=null!==(Y=v.email)&&void 0!==Y?Y:void 0,No=null!==(ue=v.phoneNumber)&&void 0!==ue?ue:void 0,Ya=null!==($e=v.photoURL)&&void 0!==$e?$e:void 0,Gl=null!==(ht=v.tenantId)&&void 0!==ht?ht:void 0,Ma=null!==(jt=v._redirectEventId)&&void 0!==jt?jt:void 0,qh=null!==(wn=v.createdAt)&&void 0!==wn?wn:void 0,cl=null!==(qn=v.lastLoginAt)&&void 0!==qn?qn:void 0,{uid:ll,emailVerified:Wh,isAnonymous:np,providerData:Md,stsTokenManager:Zh}=v;me(ll&&Zh,_,"internal-error");const Tc=j.fromJSON(this.name,Zh);me("string"==typeof ll,_,"internal-error"),F(yr,_.name),F(vo,_.name),me("boolean"==typeof Wh,_,"internal-error"),me("boolean"==typeof np,_,"internal-error"),F(No,_.name),F(Ya,_.name),F(Gl,_.name),F(Ma,_.name),F(qh,_.name),F(cl,_.name);const ul=new pe({uid:ll,auth:_,email:vo,emailVerified:Wh,displayName:yr,isAnonymous:np,photoURL:Ya,phoneNumber:No,tenantId:Gl,stsTokenManager:Tc,createdAt:qh,lastLoginAt:cl});return Md&&Array.isArray(Md)&&(ul.providerData=Md.map(Zs=>Object.assign({},Zs))),Ma&&(ul._redirectEventId=Ma),ul}static _fromIdTokenResponse(_,v,M=!1){return(0,g.Z)(function*(){const Y=new j;Y.updateFromServerResponse(v);const ue=new pe({uid:v.localId,auth:_,stsTokenManager:Y,isAnonymous:M});return yield oe(ue),ue})()}static _fromGetAccountInfoResponse(_,v,M){return(0,g.Z)(function*(){const Y=v.users[0];me(void 0!==Y.localId,"internal-error");const ue=void 0!==Y.providerUserInfo?ni(Y.providerUserInfo):[],$e=!(Y.email&&Y.passwordHash||ue?.length),ht=new j;ht.updateFromIdToken(M);const jt=new pe({uid:Y.localId,auth:_,stsTokenManager:ht,isAnonymous:$e}),wn={uid:Y.localId,displayName:Y.displayName||null,photoURL:Y.photoUrl||null,email:Y.email||null,emailVerified:Y.emailVerified||!1,phoneNumber:Y.phoneNumber||null,tenantId:Y.tenantId||null,providerData:ue,metadata:new It(Y.createdAt,Y.lastLoginAt),isAnonymous:!(Y.email&&Y.passwordHash||ue?.length)};return Object.assign(jt,wn),jt})()}}const ke=new Map;function bt(C){$t(C instanceof Function,"Expected a class definition");let _=ke.get(C);return _?($t(_ instanceof C,"Instance stored in cache mismatched with class"),_):(_=new C,ke.set(C,_),_)}const ln=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(v,M){var Y=this;return(0,g.Z)(function*(){Y.storage[v]=M})()}_get(v){var M=this;return(0,g.Z)(function*(){const Y=M.storage[v];return void 0===Y?null:Y})()}_remove(v){var M=this;return(0,g.Z)(function*(){delete M.storage[v]})()}_addListener(v,M){}_removeListener(v,M){}}return C.type="NONE",C})();function un(C,_,v){return`firebase:${C}:${_}:${v}`}class dn{constructor(_,v,M){this.persistence=_,this.auth=v,this.userKey=M;const{config:Y,name:ue}=this.auth;this.fullUserKey=un(this.userKey,Y.apiKey,ue),this.fullPersistenceKey=un("persistence",Y.apiKey,ue),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,g.Z)(function*(){const v=yield _.persistence._get(_.fullUserKey);return v?pe._fromJSON(_.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var v=this;return(0,g.Z)(function*(){if(v.persistence===_)return;const M=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=_,M?v.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,v,M="authUser"){return(0,g.Z)(function*(){if(!v.length)return new dn(bt(ln),_,M);const Y=(yield Promise.all(v.map(function(){var wn=(0,g.Z)(function*(qn){if(yield qn._isAvailable())return qn});return function(qn){return wn.apply(this,arguments)}}()))).filter(wn=>wn);let ue=Y[0]||bt(ln);const $e=un(M,_.config.apiKey,_.name);let ht=null;for(const wn of v)try{const qn=yield wn._get($e);if(qn){const yr=pe._fromJSON(_,qn);wn!==ue&&(ht=yr),ue=wn;break}}catch{}const jt=Y.filter(wn=>wn._shouldAllowMigration);return ue._shouldAllowMigration&&jt.length?(ue=jt[0],ht&&(yield ue._set($e,ht.toJSON())),yield Promise.all(v.map(function(){var wn=(0,g.Z)(function*(qn){if(qn!==ue)try{yield qn._remove($e)}catch{}});return function(qn){return wn.apply(this,arguments)}}())),new dn(ue,_,M)):new dn(ue,_,M)})()}}function ar(C){const _=C.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(xt(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(Fe(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(pn(_))return"Blackberry";if(nn(_))return"Webos";if(Re(_))return"Safari";if((_.includes("chrome/")||Be(_))&&!_.includes("edge/"))return"Chrome";if(Wt(_))return"Android";{const M=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===M?.length)return M[1]}return"Other"}function Fe(C=(0,H.z$)()){return/firefox\//i.test(C)}function Re(C=(0,H.z$)()){const _=C.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function Be(C=(0,H.z$)()){return/crios\//i.test(C)}function xt(C=(0,H.z$)()){return/iemobile/i.test(C)}function Wt(C=(0,H.z$)()){return/android/i.test(C)}function pn(C=(0,H.z$)()){return/blackberry/i.test(C)}function nn(C=(0,H.z$)()){return/webos/i.test(C)}function Er(C=(0,H.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function fn(C=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function Ui(C=(0,H.z$)()){return Er(C)||Wt(C)||nn(C)||pn(C)||/windows phone/i.test(C)||xt(C)}function Si(C,_=[]){let v;switch(C){case"Browser":v=ar((0,H.z$)());break;case"Worker":v=`${ar((0,H.z$)())}-${C}`;break;default:v=C}const M=_.length?_.join(","):"FirebaseCore-web";return`${v}/JsCore/${u.SDK_VERSION}/${M}`}class Sr{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,v){const M=ue=>new Promise(($e,ht)=>{try{$e(_(ue))}catch(jt){ht(jt)}});M.onAbort=v,this.queue.push(M);const Y=this.queue.length-1;return()=>{this.queue[Y]=()=>Promise.resolve()}}runMiddleware(_){var v=this;return(0,g.Z)(function*(){if(v.auth.currentUser===_)return;const M=[];try{for(const Y of v.queue)yield Y(_),Y.onAbort&&M.push(Y.onAbort)}catch(Y){M.reverse();for(const ue of M)try{ue()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:Y?.message})}})()}}function ir(){return(ir=(0,g.Z)(function*(C,_={}){return wt(C,"GET","/v2/passwordPolicy",_t(C,_))})).apply(this,arguments)}class Xs{constructor(_){var v,M,Y,ue;const $e=_.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=$e.minPasswordLength)&&void 0!==v?v:6,$e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=$e.maxPasswordLength),void 0!==$e.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=$e.containsLowercaseCharacter),void 0!==$e.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=$e.containsUppercaseCharacter),void 0!==$e.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=$e.containsNumericCharacter),void 0!==$e.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=$e.containsNonAlphanumericCharacter),this.enforcementState=_.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Y=null===(M=_.allowedNonAlphanumericCharacters)||void 0===M?void 0:M.join(""))&&void 0!==Y?Y:"",this.forceUpgradeOnSignin=null!==(ue=_.forceUpgradeOnSignin)&&void 0!==ue&&ue,this.schemaVersion=_.schemaVersion}validatePassword(_){var v,M,Y,ue,$e,ht;const jt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(_,jt),this.validatePasswordCharacterOptions(_,jt),jt.isValid&&(jt.isValid=null===(v=jt.meetsMinPasswordLength)||void 0===v||v),jt.isValid&&(jt.isValid=null===(M=jt.meetsMaxPasswordLength)||void 0===M||M),jt.isValid&&(jt.isValid=null===(Y=jt.containsLowercaseLetter)||void 0===Y||Y),jt.isValid&&(jt.isValid=null===(ue=jt.containsUppercaseLetter)||void 0===ue||ue),jt.isValid&&(jt.isValid=null===($e=jt.containsNumericCharacter)||void 0===$e||$e),jt.isValid&&(jt.isValid=null===(ht=jt.containsNonAlphanumericCharacter)||void 0===ht||ht),jt}validatePasswordLengthOptions(_,v){const M=this.customStrengthOptions.minPasswordLength,Y=this.customStrengthOptions.maxPasswordLength;M&&(v.meetsMinPasswordLength=_.length>=M),Y&&(v.meetsMaxPasswordLength=_.length<=Y)}validatePasswordCharacterOptions(_,v){let M;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let Y=0;Y<_.length;Y++)M=_.charAt(Y),this.updatePasswordCharacterOptionsStatuses(v,M>="a"&&M<="z",M>="A"&&M<="Z",M>="0"&&M<="9",this.allowedNonAlphanumericCharacters.includes(M))}updatePasswordCharacterOptionsStatuses(_,v,M,Y,ue){this.customStrengthOptions.containsLowercaseLetter&&(_.containsLowercaseLetter||(_.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(_.containsUppercaseLetter||(_.containsUppercaseLetter=M)),this.customStrengthOptions.containsNumericCharacter&&(_.containsNumericCharacter||(_.containsNumericCharacter=Y)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(_.containsNonAlphanumericCharacter||(_.containsNonAlphanumericCharacter=ue))}}class Ii{constructor(_,v,M,Y){this.app=_,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=M,this.config=Y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bi(this),this.idTokenSubscription=new bi(this),this.beforeStateQueue=new Sr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=Y.sdkClientVersion}_initializeWithPersistence(_,v){var M=this;return v&&(this._popupRedirectResolver=bt(v)),this._initializationPromise=this.queue((0,g.Z)(function*(){var Y,ue;if(!M._deleted&&(M.persistenceManager=yield dn.create(M,_),!M._deleted)){if(null!==(Y=M._popupRedirectResolver)&&void 0!==Y&&Y._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(v),M.lastNotifiedUid=(null===(ue=M.currentUser)||void 0===ue?void 0:ue.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,g.Z)(function*(){if(_._deleted)return;const v=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||v){if(_.currentUser&&v&&_.currentUser.uid===v.uid)return _._currentUser._assign(v),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(_){var v=this;return(0,g.Z)(function*(){try{const M=yield Br(v,{idToken:_}),Y=yield pe._fromGetAccountInfoResponse(v,M,_);yield v.directlySetCurrentUser(Y)}catch(M){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",M),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(_){var v=this;return(0,g.Z)(function*(){var M;if((0,u._isFirebaseServerApp)(v.app)){const ht=v.app.settings.authIdToken;return ht?new Promise(jt=>{setTimeout(()=>v.initializeCurrentUserFromIdToken(ht).then(jt,jt))}):v.directlySetCurrentUser(null)}const Y=yield v.assertedPersistence.getCurrentUser();let ue=Y,$e=!1;if(_&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const ht=null===(M=v.redirectUser)||void 0===M?void 0:M._redirectEventId,jt=ue?._redirectEventId,wn=yield v.tryRedirectSignIn(_);(!ht||ht===jt)&&wn?.user&&(ue=wn.user,$e=!0)}if(!ue)return v.directlySetCurrentUser(null);if(!ue._redirectEventId){if($e)try{yield v.beforeStateQueue.runMiddleware(ue)}catch(ht){ue=Y,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(ht))}return ue?v.reloadAndSetCurrentUserOrClear(ue):v.directlySetCurrentUser(null)}return me(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===ue._redirectEventId?v.directlySetCurrentUser(ue):v.reloadAndSetCurrentUserOrClear(ue)})()}tryRedirectSignIn(_){var v=this;return(0,g.Z)(function*(){let M=null;try{M=yield v._popupRedirectResolver._completeRedirectFn(v,_,!0)}catch{yield v._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(_){var v=this;return(0,g.Z)(function*(){try{yield oe(_)}catch(M){if("auth/network-request-failed"!==M?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function dt(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var _=this;return(0,g.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var v=this;return(0,g.Z)(function*(){if((0,u._isFirebaseServerApp)(v.app))return Promise.reject(ot(v));const M=_?(0,H.m9)(_):null;return M&&me(M.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(M&&M._clone(v))})()}_updateCurrentUser(_,v=!1){var M=this;return(0,g.Z)(function*(){if(!M._deleted)return _&&me(M.tenantId===_.tenantId,M,"tenant-id-mismatch"),v||(yield M.beforeStateQueue.runMiddleware(_)),M.queue((0,g.Z)(function*(){yield M.directlySetCurrentUser(_),M.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,g.Z)(function*(){return(0,u._isFirebaseServerApp)(_.app)?Promise.reject(ot(_)):(yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0))})()}setPersistence(_){var v=this;return(0,u._isFirebaseServerApp)(this.app)?Promise.reject(ot(this)):this.queue((0,g.Z)(function*(){yield v.assertedPersistence.setPersistence(bt(_))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(_){var v=this;return(0,g.Z)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const M=v._getPasswordPolicyInternal();return M.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):M.validatePassword(_)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var _=this;return(0,g.Z)(function*(){const v=yield function qr(C){return ir.apply(this,arguments)}(_),M=new Xs(v);null===_.tenantId?_._projectPasswordPolicy=M:_._tenantPasswordPolicies[_.tenantId]=M})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new H.LL("auth","Firebase",_())}onAuthStateChanged(_,v,M){return this.registerStateListener(this.authStateSubscription,_,v,M)}beforeAuthStateChanged(_,v){return this.beforeStateQueue.pushCallback(_,v)}onIdTokenChanged(_,v,M){return this.registerStateListener(this.idTokenSubscription,_,v,M)}authStateReady(){return new Promise((_,v)=>{if(this.currentUser)_();else{const M=this.onAuthStateChanged(()=>{M(),_()},v)}})}revokeAccessToken(_){var v=this;return(0,g.Z)(function*(){if(v.currentUser){const M=yield v.currentUser.getIdToken(),Y={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:_,idToken:M};null!=v.tenantId&&(Y.tenantId=v.tenantId),yield function J(C,_){return z.apply(this,arguments)}(v,Y)}})()}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,v){var M=this;return(0,g.Z)(function*(){const Y=yield M.getOrInitRedirectPersistenceManager(v);return null===_?Y.removeCurrentUser():Y.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var v=this;return(0,g.Z)(function*(){if(!v.redirectPersistenceManager){const M=_&&bt(_)||v._popupRedirectResolver;me(M,v,"argument-error"),v.redirectPersistenceManager=yield dn.create(v,[bt(M._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(_){var v=this;return(0,g.Z)(function*(){var M,Y;return v._isInitialized&&(yield v.queue((0,g.Z)(function*(){}))),(null===(M=v._currentUser)||void 0===M?void 0:M._redirectEventId)===_?v._currentUser:(null===(Y=v.redirectUser)||void 0===Y?void 0:Y._redirectEventId)===_?v.redirectUser:null})()}_persistUserIfCurrent(_){var v=this;return(0,g.Z)(function*(){if(_===v.currentUser)return v.queue((0,g.Z)(function*(){return v.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(v=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,v,M,Y){if(this._deleted)return()=>{};const ue="function"==typeof v?v:v.next.bind(v);let $e=!1;const ht=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(ht,this,"internal-error"),ht.then(()=>{$e||ue(this.currentUser)}),"function"==typeof v){const jt=_.addObserver(v,M,Y);return()=>{$e=!0,jt()}}{const jt=_.addObserver(v);return()=>{$e=!0,jt()}}}directlySetCurrentUser(_){var v=this;return(0,g.Z)(function*(){v.currentUser&&v.currentUser!==_&&v._currentUser._stopProactiveRefresh(),_&&v.isProactiveRefreshEnabled&&_._startProactiveRefresh(),v.currentUser=_,_?yield v.assertedPersistence.setCurrentUser(_):yield v.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=Si(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,g.Z)(function*(){var v;const M={"X-Client-Version":_.clientVersion};_.app.options.appId&&(M["X-Firebase-gmpid"]=_.app.options.appId);const Y=yield null===(v=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();Y&&(M["X-Firebase-Client"]=Y);const ue=yield _._getAppCheckToken();return ue&&(M["X-Firebase-AppCheck"]=ue),M})()}_getAppCheckToken(){var _=this;return(0,g.Z)(function*(){var v;const M=yield null===(v=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return M?.error&&function on(C,..._){Et.logLevel<=Ie.in.WARN&&Et.warn(`Auth (${u.SDK_VERSION}): ${C}`,..._)}(`Error while retrieving App Check token: ${M.error}`),M?.token})()}}function lr(C){return(0,H.m9)(C)}class bi{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,H.ne)(v=>this.observer=v)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ls={loadJS:()=>(0,g.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vr(C){return ls.loadJS(C)}function Fa(C){return`__${C}${Math.floor(1e6*Math.random())}`}class Oi{constructor(_){this.type="recaptcha-enterprise",this.auth=lr(_)}verify(_="verify",v=!1){var M=this;return(0,g.Z)(function*(){function ue(){return ue=(0,g.Z)(function*(ht){if(!v){if(null==ht.tenantId&&null!=ht._agentRecaptchaConfig)return ht._agentRecaptchaConfig.siteKey;if(null!=ht.tenantId&&void 0!==ht._tenantRecaptchaConfigs[ht.tenantId])return ht._tenantRecaptchaConfigs[ht.tenantId].siteKey}return new Promise(function(){var jt=(0,g.Z)(function*(wn,qn){vr(ht,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(yr=>{if(void 0!==yr.recaptchaKey){const vo=new en(yr);return null==ht.tenantId?ht._agentRecaptchaConfig=vo:ht._tenantRecaptchaConfigs[ht.tenantId]=vo,wn(vo.siteKey)}qn(new Error("recaptcha Enterprise site key undefined"))}).catch(yr=>{qn(yr)})});return function(wn,qn){return jt.apply(this,arguments)}}())}),ue.apply(this,arguments)}function $e(ht,jt,wn){const qn=window.grecaptcha;kn(qn)?qn.enterprise.ready(()=>{qn.enterprise.execute(ht,{action:_}).then(yr=>{jt(yr)}).catch(()=>{jt("NO_RECAPTCHA")})}):wn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ht,jt)=>{(function Y(ht){return ue.apply(this,arguments)})(M.auth).then(wn=>{if(!v&&kn(window.grecaptcha))$e(wn,ht,jt);else{if(typeof window>"u")return void jt(new Error("RecaptchaVerifier is only supported in browser"));let qn=function us(){return ls.recaptchaEnterpriseScript}();0!==qn.length&&(qn+=wn),Vr(qn).then(()=>{$e(wn,ht,jt)}).catch(yr=>{jt(yr)})}}).catch(wn=>{jt(wn)})})})()}}function jr(C,_,v){return ia.apply(this,arguments)}function ia(){return(ia=(0,g.Z)(function*(C,_,v,M=!1){const Y=new Oi(C);let ue;try{ue=yield Y.verify(v)}catch{ue=yield Y.verify(v,!0)}const $e=Object.assign({},_);return Object.assign($e,M?{captchaResp:ue}:{captchaResponse:ue}),Object.assign($e,{clientType:"CLIENT_TYPE_WEB"}),Object.assign($e,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),$e})).apply(this,arguments)}function Vs(C,_,v,M){return Ni.apply(this,arguments)}function Ni(){return Ni=(0,g.Z)(function*(C,_,v,M){var Y;if(null!==(Y=C._getRecaptchaConfig())&&void 0!==Y&&Y.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ue=yield jr(C,_,v,"getOobCode"===v);return M(C,ue)}return M(C,_).catch(function(){var ue=(0,g.Z)(function*($e){if("auth/missing-recaptcha-token"===$e.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const ht=yield jr(C,_,v,"getOobCode"===v);return M(C,ht)}return Promise.reject($e)});return function($e){return ue.apply(this,arguments)}}())}),Ni.apply(this,arguments)}function ys(C,_,v){const M=lr(C);me(M._canInitEmulator,M,"emulator-config-failed"),me(/^https?:\/\//.test(_),M,"invalid-emulator-scheme");const Y=!!v?.disableWarnings,ue=hi(_),{host:$e,port:ht}=function vs(C){const _=hi(C),v=/(\/\/)?([^?#/]+)/.exec(C.substr(_.length));if(!v)return{host:"",port:null};const M=v[2].split("@").pop()||"",Y=/^(\[[^\]]+\])(:|$)/.exec(M);if(Y){const ue=Y[1];return{host:ue,port:Ss(M.substr(ue.length+1))}}{const[ue,$e]=M.split(":");return{host:ue,port:Ss($e)}}}(_);M.config.emulator={url:`${ue}//${$e}${null===ht?"":`:${ht}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:$e,port:ht,protocol:ue.replace(":",""),options:Object.freeze({disableWarnings:Y})}),Y||function co(){function C(){const _=document.createElement("p"),v=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function hi(C){const _=C.indexOf(":");return _<0?"":C.substr(0,_+1)}function Ss(C){if(!C)return null;const _=Number(C);return isNaN(_)?null:_}class ji{constructor(_,v){this.providerId=_,this.signInMethod=v}toJSON(){return Ct("not implemented")}_getIdTokenResponse(_){return Ct("not implemented")}_linkToIdToken(_,v){return Ct("not implemented")}_getReauthenticationResolver(_){return Ct("not implemented")}}function Po(C,_){return Un.apply(this,arguments)}function Un(){return(Un=(0,g.Z)(function*(C,_){return wt(C,"POST","/v1/accounts:resetPassword",_t(C,_))})).apply(this,arguments)}function Yr(){return(Yr=(0,g.Z)(function*(C,_){return wt(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function $i(C,_){return zr.apply(this,arguments)}function zr(){return(zr=(0,g.Z)(function*(C,_){return wt(C,"POST","/v1/accounts:signUp",_)})).apply(this,arguments)}function Li(){return(Li=(0,g.Z)(function*(C,_){return wt(C,"POST","/v1/accounts:update",_t(C,_))})).apply(this,arguments)}function Ro(C,_){return zi.apply(this,arguments)}function zi(){return(zi=(0,g.Z)(function*(C,_){return gn(C,"POST","/v1/accounts:signInWithPassword",_t(C,_))})).apply(this,arguments)}function Es(C,_){return Or.apply(this,arguments)}function Or(){return(Or=(0,g.Z)(function*(C,_){return wt(C,"POST","/v1/accounts:sendOobCode",_t(C,_))})).apply(this,arguments)}function Wn(){return(Wn=(0,g.Z)(function*(C,_){return Es(C,_)})).apply(this,arguments)}function Cr(C,_){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,g.Z)(function*(C,_){return Es(C,_)})).apply(this,arguments)}function Ms(C,_){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,g.Z)(function*(C,_){return Es(C,_)})).apply(this,arguments)}function Tr(){return(Tr=(0,g.Z)(function*(C,_){return Es(C,_)})).apply(this,arguments)}function Ps(){return(Ps=(0,g.Z)(function*(C,_){return gn(C,"POST","/v1/accounts:signInWithEmailLink",_t(C,_))})).apply(this,arguments)}function ns(){return(ns=(0,g.Z)(function*(C,_){return gn(C,"POST","/v1/accounts:signInWithEmailLink",_t(C,_))})).apply(this,arguments)}class pr extends ji{constructor(_,v,M,Y=null){super("password",M),this._email=_,this._password=v,this._tenantId=Y}static _fromEmailAndPassword(_,v){return new pr(_,v,"password")}static _fromEmailAndCode(_,v,M=null){return new pr(_,v,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(_){var v=this;return(0,g.Z)(function*(){switch(v.signInMethod){case"password":return Vs(_,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ro);case"emailLink":return function ts(C,_){return Ps.apply(this,arguments)}(_,{email:v._email,oobCode:v._password});default:ze(_,"internal-error")}})()}_linkToIdToken(_,v){var M=this;return(0,g.Z)(function*(){switch(M.signInMethod){case"password":return Vs(_,{idToken:v,returnSecureToken:!0,email:M._email,password:M._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$i);case"emailLink":return function Qn(C,_){return ns.apply(this,arguments)}(_,{idToken:v,email:M._email,oobCode:M._password});default:ze(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function Pi(C,_){return zn.apply(this,arguments)}function zn(){return(zn=(0,g.Z)(function*(C,_){return gn(C,"POST","/v1/accounts:signInWithIdp",_t(C,_))})).apply(this,arguments)}class Ri extends ji{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const v=new Ri(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(v.idToken=_.idToken),_.accessToken&&(v.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(v.nonce=_.nonce),_.pendingToken&&(v.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(v.accessToken=_.oauthToken,v.secret=_.oauthTokenSecret):ze("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:M,signInMethod:Y}=v,ue=(0,Ee._T)(v,["providerId","signInMethod"]);if(!M||!Y)return null;const $e=new Ri(M,Y);return $e.idToken=ue.idToken||void 0,$e.accessToken=ue.accessToken||void 0,$e.secret=ue.secret,$e.nonce=ue.nonce,$e.pendingToken=ue.pendingToken||null,$e}_getIdTokenResponse(_){return Pi(_,this.buildRequest())}_linkToIdToken(_,v){const M=this.buildRequest();return M.idToken=v,Pi(_,M)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,Pi(_,v)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),_.postBody=(0,H.xO)(v)}return _}}function Rs(){return(Rs=(0,g.Z)(function*(C,_){return wt(C,"POST","/v1/accounts:sendVerificationCode",_t(C,_))})).apply(this,arguments)}function bs(){return(bs=(0,g.Z)(function*(C,_){return gn(C,"POST","/v1/accounts:signInWithPhoneNumber",_t(C,_))})).apply(this,arguments)}function mr(){return(mr=(0,g.Z)(function*(C,_){const v=yield gn(C,"POST","/v1/accounts:signInWithPhoneNumber",_t(C,_));if(v.temporaryProof)throw mn(C,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Us={USER_NOT_FOUND:"user-not-found"};function sa(){return(sa=(0,g.Z)(function*(C,_){return gn(C,"POST","/v1/accounts:signInWithPhoneNumber",_t(C,Object.assign(Object.assign({},_),{operation:"REAUTH"})),Us)})).apply(this,arguments)}class rs extends ji{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,v){return new rs({verificationId:_,verificationCode:v})}static _fromTokenResponse(_,v){return new rs({phoneNumber:_,temporaryProof:v})}_getIdTokenResponse(_){return function Va(C,_){return bs.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,v){return function sr(C,_){return mr.apply(this,arguments)}(_,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function hr(C,_){return sa.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:v,verificationId:M,verificationCode:Y}=this.params;return _&&v?{temporaryProof:_,phoneNumber:v}:{sessionInfo:M,code:Y}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:v,verificationCode:M,phoneNumber:Y,temporaryProof:ue}=_;return M||v||Y||ue?new rs({verificationId:v,verificationCode:M,phoneNumber:Y,temporaryProof:ue}):null}}class xs{constructor(_){var v,M,Y,ue,$e,ht;const jt=(0,H.zd)((0,H.pd)(_)),wn=null!==(v=jt.apiKey)&&void 0!==v?v:null,qn=null!==(M=jt.oobCode)&&void 0!==M?M:null,yr=function Hi(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Y=jt.mode)&&void 0!==Y?Y:null);me(wn&&qn&&yr,"argument-error"),this.apiKey=wn,this.operation=yr,this.code=qn,this.continueUrl=null!==(ue=jt.continueUrl)&&void 0!==ue?ue:null,this.languageCode=null!==($e=jt.languageCode)&&void 0!==$e?$e:null,this.tenantId=null!==(ht=jt.tenantId)&&void 0!==ht?ht:null}static parseLink(_){const v=function hs(C){const _=(0,H.zd)((0,H.pd)(C)).link,v=_?(0,H.zd)((0,H.pd)(_)).deep_link_id:null,M=(0,H.zd)((0,H.pd)(C)).deep_link_id;return(M?(0,H.zd)((0,H.pd)(M)).link:null)||M||v||_||C}(_);try{return new xs(v)}catch{return null}}}let uo=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(v,M){return pr._fromEmailAndPassword(v,M)}static credentialWithLink(v,M){const Y=xs.parseLink(M);return me(Y,"argument-error"),pr._fromEmailAndCode(v,Y.code,Y.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class ii{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class fe extends ii{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class De extends fe{static credentialFromJSON(_){const v="string"==typeof _?JSON.parse(_):_;return me("providerId"in v&&"signInMethod"in v,"argument-error"),Ri._fromParams(v)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return me(_.idToken||_.accessToken,"argument-error"),Ri._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return De.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return De.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:v,oauthAccessToken:M,oauthTokenSecret:Y,pendingToken:ue,nonce:$e,providerId:ht}=_;if(!M&&!Y&&!v&&!ue||!ht)return null;try{return new De(ht)._credential({idToken:v,accessToken:M,nonce:$e,pendingToken:ue})}catch{return null}}}let qe=(()=>{class C extends fe{constructor(){super("facebook.com")}static credential(v){return Ri._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),Pt=(()=>{class C extends fe{constructor(){super("google.com"),this.addScope("profile")}static credential(v,M){return Ri._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:M})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:M,oauthAccessToken:Y}=v;if(!M&&!Y)return null;try{return C.credential(M,Y)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Ht=(()=>{class C extends fe{constructor(){super("github.com")}static credential(v){return Ri._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class En extends ji{constructor(_,v){super(_,_),this.pendingToken=v}_getIdTokenResponse(_){return Pi(_,this.buildRequest())}_linkToIdToken(_,v){const M=this.buildRequest();return M.idToken=v,Pi(_,M)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,Pi(_,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:M,signInMethod:Y,pendingToken:ue}=v;return M&&Y&&ue&&M===Y?new En(M,ue):null}static _create(_,v){return new En(_,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Bn extends ii{constructor(_){me(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return Bn.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return Bn.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const v=En.fromJSON(_);return me(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:v,providerId:M}=_;if(!v||!M)return null;try{return En._create(M,v)}catch{return null}}}let ur=(()=>{class C extends fe{constructor(){super("twitter.com")}static credential(v,M){return Ri._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:M})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:M,oauthTokenSecret:Y}=v;if(!M||!Y)return null;try{return C.credential(M,Y)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Ki(C,_){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,g.Z)(function*(C,_){return gn(C,"POST","/v1/accounts:signUp",_t(C,_))})).apply(this,arguments)}class W{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,v,M,Y=!1){return(0,g.Z)(function*(){const ue=yield pe._fromIdTokenResponse(_,M,Y),$e=X(M);return new W({user:ue,providerId:$e,_tokenResponse:M,operationType:v})})()}static _forOperation(_,v,M){return(0,g.Z)(function*(){yield _._updateTokensIfNecessary(M,!0);const Y=X(M);return new W({user:_,providerId:Y,_tokenResponse:M,operationType:v})})()}}function X(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function L(C){return le.apply(this,arguments)}function le(){return(le=(0,g.Z)(function*(C){var _;if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(ot(C));const v=lr(C);if(yield v._initializationPromise,null!==(_=v.currentUser)&&void 0!==_&&_.isAnonymous)return new W({user:v.currentUser,providerId:null,operationType:"signIn"});const M=yield Ki(v,{returnSecureToken:!0}),Y=yield W._fromIdTokenResponse(v,"signIn",M,!0);return yield v._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class Pe extends H.ZR{constructor(_,v,M,Y){var ue;super(v.code,v.message),this.operationType=M,this.user=Y,Object.setPrototypeOf(this,Pe.prototype),this.customData={appName:_.name,tenantId:null!==(ue=_.tenantId)&&void 0!==ue?ue:void 0,_serverResponse:v.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(_,v,M,Y){return new Pe(_,v,M,Y)}}function Sn(C,_,v,M){return("reauthenticate"===_?v._getReauthenticationResolver(C):v._getIdTokenResponse(C)).catch(ue=>{throw"auth/multi-factor-auth-required"===ue.code?Pe._fromErrorAndOperation(C,ue,_,M):ue})}function _r(C){return new Set(C.map(({providerId:_})=>_).filter(_=>!!_))}function fs(C,_){return pi.apply(this,arguments)}function pi(){return pi=(0,g.Z)(function*(C,_){const v=(0,H.m9)(C);yield rc(!0,v,_);const{providerUserInfo:M}=yield function Vn(C,_){return Rn.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[_]}),Y=_r(M||[]);return v.providerData=v.providerData.filter(ue=>Y.has(ue.providerId)),Y.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),pi.apply(this,arguments)}function Ua(C,_){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,g.Z)(function*(C,_,v=!1){const M=yield Ar(C,_._linkToIdToken(C.auth,yield C.getIdToken()),v);return W._forOperation(C,"link",M)})).apply(this,arguments)}function rc(C,_,v){return ic.apply(this,arguments)}function ic(){return(ic=(0,g.Z)(function*(C,_,v){yield oe(_);const Y=!1===C?"provider-already-linked":"no-such-provider";me(_r(_.providerData).has(v)===C,_.auth,Y)})).apply(this,arguments)}function Ba(C,_){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,g.Z)(function*(C,_,v=!1){const{auth:M}=C;if((0,u._isFirebaseServerApp)(M.app))return Promise.reject(ot(M));const Y="reauthenticate";try{const ue=yield Ar(C,Sn(M,Y,_,C),v);me(ue.idToken,M,"internal-error");const $e=ui(ue.idToken);me($e,M,"internal-error");const{sub:ht}=$e;return me(C.uid===ht,M,"user-mismatch"),W._forOperation(C,Y,ue)}catch(ue){throw"auth/user-not-found"===ue?.code&&ze(M,"user-mismatch"),ue}})).apply(this,arguments)}function sc(C,_){return va.apply(this,arguments)}function va(){return(va=(0,g.Z)(function*(C,_,v=!1){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(ot(C));const M="signIn",Y=yield Sn(C,M,_),ue=yield W._fromIdTokenResponse(C,M,Y);return v||(yield C._updateCurrentUser(ue.user)),ue})).apply(this,arguments)}function jc(C,_){return eo.apply(this,arguments)}function eo(){return(eo=(0,g.Z)(function*(C,_){return sc(lr(C),_)})).apply(this,arguments)}function ho(C,_){return ps.apply(this,arguments)}function ps(){return(ps=(0,g.Z)(function*(C,_){const v=(0,H.m9)(C);return yield rc(!1,v,_.providerId),Ua(v,_)})).apply(this,arguments)}function ad(C,_){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,g.Z)(function*(C,_){return Ba((0,H.m9)(C),_)})).apply(this,arguments)}function Yi(){return(Yi=(0,g.Z)(function*(C,_){return gn(C,"POST","/v1/accounts:signInWithCustomToken",_t(C,_))})).apply(this,arguments)}function fu(C,_){return to.apply(this,arguments)}function to(){return to=(0,g.Z)(function*(C,_){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(ot(C));const v=lr(C),M=yield function Ea(C,_){return Yi.apply(this,arguments)}(v,{token:_,returnSecureToken:!0}),Y=yield W._fromIdTokenResponse(v,"signIn",M);return yield v._updateCurrentUser(Y.user),Y}),to.apply(this,arguments)}class fo{constructor(_,v){this.factorId=_,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(_,v){return"phoneInfo"in v?po._fromServerResponse(_,v):"totpInfo"in v?Bo._fromServerResponse(_,v):ze(_,"internal-error")}}class po extends fo{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,v){return new po(v)}}class Bo extends fo{constructor(_){super("totp",_)}static _fromServerResponse(_,v){return new Bo(v)}}function ja(C,_,v){var M;me((null===(M=v.url)||void 0===M?void 0:M.length)>0,C,"invalid-continue-uri"),me(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),_.continueUrl=v.url,_.dynamicLinkDomain=v.dynamicLinkDomain,_.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(me(v.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),_.iOSBundleId=v.iOS.bundleId),v.android&&(me(v.android.packageName.length>0,C,"missing-android-pkg-name"),_.androidInstallApp=v.android.installApp,_.androidMinimumVersionCode=v.android.minimumVersion,_.androidPackageName=v.android.packageName)}function fr(C){return $c.apply(this,arguments)}function $c(){return($c=(0,g.Z)(function*(C){const _=lr(C);_._getPasswordPolicyInternal()&&(yield _._updatePasswordPolicy())})).apply(this,arguments)}function zc(C,_,v){return oc.apply(this,arguments)}function oc(){return(oc=(0,g.Z)(function*(C,_,v){const M=lr(C),Y={requestType:"PASSWORD_RESET",email:_,clientType:"CLIENT_TYPE_WEB"};v&&ja(M,Y,v),yield Vs(M,Y,"getOobCode",Cr)})).apply(this,arguments)}function ac(C,_,v){return $a.apply(this,arguments)}function $a(){return $a=(0,g.Z)(function*(C,_,v){yield Po((0,H.m9)(C),{oobCode:_,newPassword:v}).catch(function(){var M=(0,g.Z)(function*(Y){throw"auth/password-does-not-meet-requirements"===Y.code&&fr(C),Y});return function(Y){return M.apply(this,arguments)}}())}),$a.apply(this,arguments)}function oa(C,_){return jo.apply(this,arguments)}function jo(){return jo=(0,g.Z)(function*(C,_){yield function es(C,_){return Li.apply(this,arguments)}((0,H.m9)(C),{oobCode:_})}),jo.apply(this,arguments)}function cc(C,_){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,g.Z)(function*(C,_){const v=(0,H.m9)(C),M=yield Po(v,{oobCode:_}),Y=M.requestType;switch(me(Y,v,"internal-error"),Y){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":me(M.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":me(M.mfaInfo,v,"internal-error");default:me(M.email,v,"internal-error")}let ue=null;return M.mfaInfo&&(ue=fo._fromServerResponse(lr(v),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:ue},operation:Y}})).apply(this,arguments)}function Hc(C,_){return aa.apply(this,arguments)}function aa(){return(aa=(0,g.Z)(function*(C,_){const{data:v}=yield cc((0,H.m9)(C),_);return v.email})).apply(this,arguments)}function Mh(C,_,v){return $o.apply(this,arguments)}function $o(){return($o=(0,g.Z)(function*(C,_,v){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(ot(C));const M=lr(C),$e=yield Vs(M,{returnSecureToken:!0,email:_,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ki).catch(jt=>{throw"auth/password-does-not-meet-requirements"===jt.code&&fr(C),jt}),ht=yield W._fromIdTokenResponse(M,"signIn",$e);return yield M._updateCurrentUser(ht.user),ht})).apply(this,arguments)}function cd(C,_,v){return(0,u._isFirebaseServerApp)(C.app)?Promise.reject(ot(C)):jc((0,H.m9)(C),uo.credential(_,v)).catch(function(){var M=(0,g.Z)(function*(Y){throw"auth/password-does-not-meet-requirements"===Y.code&&fr(C),Y});return function(Y){return M.apply(this,arguments)}}())}function za(C,_,v){return lc.apply(this,arguments)}function lc(){return(lc=(0,g.Z)(function*(C,_,v){const M=lr(C),Y={requestType:"EMAIL_SIGNIN",email:_,clientType:"CLIENT_TYPE_WEB"};(function ue($e,ht){me(ht.handleCodeInApp,M,"argument-error"),ht&&ja(M,$e,ht)})(Y,v),yield Vs(M,Y,"getOobCode",Ms)})).apply(this,arguments)}function Ml(C,_){const v=xs.parseLink(_);return"EMAIL_SIGNIN"===v?.operation}function Ha(C,_,v){return ld.apply(this,arguments)}function ld(){return(ld=(0,g.Z)(function*(C,_,v){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(ot(C));const M=(0,H.m9)(C),Y=uo.credentialWithLink(_,v||jn());return me(Y._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),jc(M,Y)})).apply(this,arguments)}function si(){return(si=(0,g.Z)(function*(C,_){return wt(C,"POST","/v1/accounts:createAuthUri",_t(C,_))})).apply(this,arguments)}function P(C,_){return re.apply(this,arguments)}function re(){return re=(0,g.Z)(function*(C,_){const M={identifier:_,continueUri:Tt()?jn():"http://localhost"},{signinMethods:Y}=yield function Gc(C,_){return si.apply(this,arguments)}((0,H.m9)(C),M);return Y||[]}),re.apply(this,arguments)}function $(C,_){return te.apply(this,arguments)}function te(){return te=(0,g.Z)(function*(C,_){const v=(0,H.m9)(C),Y={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};_&&ja(v.auth,Y,_);const{email:ue}=yield function an(C,_){return Wn.apply(this,arguments)}(v.auth,Y);ue!==C.email&&(yield C.reload())}),te.apply(this,arguments)}function we(C,_,v){return mt.apply(this,arguments)}function mt(){return mt=(0,g.Z)(function*(C,_,v){const M=(0,H.m9)(C),ue={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:_};v&&ja(M.auth,ue,v);const{email:$e}=yield function fi(C,_){return Tr.apply(this,arguments)}(M.auth,ue);$e!==C.email&&(yield C.reload())}),mt.apply(this,arguments)}function Cn(){return(Cn=(0,g.Z)(function*(C,_){return wt(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function kr(C,_){return Jr.apply(this,arguments)}function Jr(){return Jr=(0,g.Z)(function*(C,{displayName:_,photoURL:v}){if(void 0===_&&void 0===v)return;const M=(0,H.m9)(C),ue={idToken:yield M.getIdToken(),displayName:_,photoUrl:v,returnSecureToken:!0},$e=yield Ar(M,function Ot(C,_){return Cn.apply(this,arguments)}(M.auth,ue));M.displayName=$e.displayName||null,M.photoURL=$e.photoUrl||null;const ht=M.providerData.find(({providerId:jt})=>"password"===jt);ht&&(ht.displayName=M.displayName,ht.photoURL=M.photoURL),yield M._updateTokensIfNecessary($e)}),Jr.apply(this,arguments)}function Wr(C,_){const v=(0,H.m9)(C);return(0,u._isFirebaseServerApp)(v.auth.app)?Promise.reject(ot(v.auth)):ei(v,_,null)}function Ir(C,_){return ei((0,H.m9)(C),null,_)}function ei(C,_,v){return Hr.apply(this,arguments)}function Hr(){return Hr=(0,g.Z)(function*(C,_,v){const{auth:M}=C,ue={idToken:yield C.getIdToken(),returnSecureToken:!0};_&&(ue.email=_),v&&(ue.password=v);const $e=yield Ar(C,function $r(C,_){return Yr.apply(this,arguments)}(M,ue));yield C._updateTokensIfNecessary($e,!0)}),Hr.apply(this,arguments)}class Cs{constructor(_,v,M={}){this.isNewUser=_,this.providerId=v,this.profile=M}}class gs extends Cs{constructor(_,v,M,Y){super(_,v,M),this.username=Y}}class ca extends Cs{constructor(_,v){super(_,"facebook.com",v)}}class Gs extends gs{constructor(_,v){super(_,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class gi extends Cs{constructor(_,v){super(_,"google.com",v)}}class or extends gs{constructor(_,v,M){super(_,"twitter.com",v,M)}}function la(C){const{user:_,_tokenResponse:v}=C;return _.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Gi(C){var _,v;if(!C)return null;const{providerId:M}=C,Y=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},ue=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!M&&C?.idToken){const $e=null===(v=null===(_=ui(C.idToken))||void 0===_?void 0:_.firebase)||void 0===v?void 0:v.sign_in_provider;if($e)return new Cs(ue,"anonymous"!==$e&&"custom"!==$e?$e:null)}if(!M)return null;switch(M){case"facebook.com":return new ca(ue,Y);case"github.com":return new Gs(ue,Y);case"google.com":return new gi(ue,Y);case"twitter.com":return new or(ue,Y,C.screenName||null);case"custom":case"anonymous":return new Cs(ue,null);default:return new Cs(ue,M,Y)}}(v)}class Ho{constructor(_,v,M){this.type=_,this.credential=v,this.user=M}static _fromIdtoken(_,v){return new Ho("enroll",_,v)}static _fromMfaPendingCredential(_){return new Ho("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var v,M;if(_?.multiFactorSession){if(null!==(v=_.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Ho._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(M=_.multiFactorSession)&&void 0!==M&&M.idToken)return Ho._fromIdtoken(_.multiFactorSession.idToken)}return null}}class Go{constructor(_,v,M){this.session=_,this.hints=v,this.signInResolver=M}static _fromError(_,v){const M=lr(_),Y=v.customData._serverResponse,ue=(Y.mfaInfo||[]).map(ht=>fo._fromServerResponse(M,ht));me(Y.mfaPendingCredential,M,"internal-error");const $e=Ho._fromMfaPendingCredential(Y.mfaPendingCredential);return new Go($e,ue,function(){var ht=(0,g.Z)(function*(jt){const wn=yield jt._process(M,$e);delete Y.mfaInfo,delete Y.mfaPendingCredential;const qn=Object.assign(Object.assign({},Y),{idToken:wn.idToken,refreshToken:wn.refreshToken});switch(v.operationType){case"signIn":const yr=yield W._fromIdTokenResponse(M,v.operationType,qn);return yield M._updateCurrentUser(yr.user),yr;case"reauthenticate":return me(v.user,M,"internal-error"),W._forOperation(v.user,v.operationType,qn);default:ze(M,"internal-error")}});return function(jt){return ht.apply(this,arguments)}}())}resolveSignIn(_){var v=this;return(0,g.Z)(function*(){return v.signInResolver(_)})()}}function ud(C,_){var v;const M=(0,H.m9)(C),Y=_;return me(_.customData.operationType,M,"argument-error"),me(null===(v=Y.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,M,"argument-error"),Go._fromError(M,Y)}class Wc{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(M=>fo._fromServerResponse(_.auth,M)))})}static _fromUser(_){return new Wc(_)}getSession(){var _=this;return(0,g.Z)(function*(){return Ho._fromIdtoken(yield _.user.getIdToken(),_.user)})()}enroll(_,v){var M=this;return(0,g.Z)(function*(){const Y=_,ue=yield M.getSession(),$e=yield Ar(M.user,Y._process(M.user.auth,ue,v));return yield M.user._updateTokensIfNecessary($e),M.user.reload()})()}unenroll(_){var v=this;return(0,g.Z)(function*(){const M="string"==typeof _?_:_.uid,Y=yield v.user.getIdToken();try{const ue=yield Ar(v.user,function dd(C,_){return wt(C,"POST","/v2/accounts/mfaEnrollment:withdraw",_t(C,_))}(v.user.auth,{idToken:Y,mfaEnrollmentId:M}));v.enrolledFactors=v.enrolledFactors.filter(({uid:$e})=>$e!==M),yield v.user._updateTokensIfNecessary(ue),yield v.user.reload()}catch(ue){throw ue}})()}}const Ga=new WeakMap;function Rh(C){const _=(0,H.m9)(C);return Ga.has(_)||Ga.set(_,Wc._fromUser(_)),Ga.get(_)}const hd="__sak";class ki{constructor(_,v){this.storageRetriever=_,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(hd,"1"),this.storage.removeItem(hd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,v){return this.storage.setItem(_,JSON.stringify(v)),Promise.resolve()}_get(_){const v=this.storage.getItem(_);return Promise.resolve(v?JSON.parse(v):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const qo=(()=>{class C extends ki{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,M)=>this.onStorageEvent(v,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function qa(){const C=(0,H.z$)();return Re(C)||Er(C)}()&&function cs(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ui(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const M of Object.keys(this.listeners)){const Y=this.storage.getItem(M),ue=this.localCache[M];Y!==ue&&v(M,ue,Y)}}onStorageEvent(v,M=!1){if(!v.key)return void this.forAllChangedKeys((ht,jt,wn)=>{this.notifyListeners(ht,wn)});const Y=v.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ht=this.storage.getItem(Y);if(v.newValue!==ht)null!==v.newValue?this.storage.setItem(Y,v.newValue):this.storage.removeItem(Y);else if(this.localCache[Y]===v.newValue&&!M)return}const ue=()=>{const ht=this.storage.getItem(Y);!M&&this.localCache[Y]===ht||this.notifyListeners(Y,ht)},$e=this.storage.getItem(Y);!function as(){return(0,H.w1)()&&10===document.documentMode}()||$e===v.newValue||v.newValue===v.oldValue?ue():setTimeout(ue,10)}notifyListeners(v,M){this.localCache[v]=M;const Y=this.listeners[v];if(Y)for(const ue of Array.from(Y))ue(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,M,Y)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:M,newValue:Y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(M)}_removeListener(v,M){this.listeners[v]&&(this.listeners[v].delete(M),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,M){var Y=()=>super._set,ue=this;return(0,g.Z)(function*(){yield Y().call(ue,v,M),ue.localCache[v]=JSON.stringify(M)})()}_get(v){var M=()=>super._get,Y=this;return(0,g.Z)(function*(){const ue=yield M().call(Y,v);return Y.localCache[v]=JSON.stringify(ue),ue})()}_remove(v){var M=()=>super._remove,Y=this;return(0,g.Z)(function*(){yield M().call(Y,v),delete Y.localCache[v]})()}}return C.type="LOCAL",C})(),Vt=(()=>{class C extends ki{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,M){}_removeListener(v,M){}}return C.type="SESSION",C})();let pd=(()=>{class C{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const M=this.receivers.find(ue=>ue.isListeningto(v));if(M)return M;const Y=new C(v);return this.receivers.push(Y),Y}isListeningto(v){return this.eventTarget===v}handleEvent(v){var M=this;return(0,g.Z)(function*(){const Y=v,{eventId:ue,eventType:$e,data:ht}=Y.data,jt=M.handlersMap[$e];if(!jt?.size)return;Y.ports[0].postMessage({status:"ack",eventId:ue,eventType:$e});const wn=Array.from(jt).map(function(){var yr=(0,g.Z)(function*(vo){return vo(Y.origin,ht)});return function(vo){return yr.apply(this,arguments)}}()),qn=yield function Ur(C){return Promise.all(C.map(function(){var _=(0,g.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(M){return{fulfilled:!1,reason:M}}});return function(v){return _.apply(this,arguments)}}()))}(wn);Y.ports[0].postMessage({status:"done",eventId:ue,eventType:$e,response:qn})})()}_subscribe(v,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(M)}_unsubscribe(v,M){this.handlersMap[v]&&M&&this.handlersMap[v].delete(M),(!M||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function dc(C="",_=10){let v="";for(let M=0;M<_;M++)v+=Math.floor(10*Math.random());return C+v}class ws{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,v,M=50){var Y=this;return(0,g.Z)(function*(){const ue=typeof MessageChannel<"u"?new MessageChannel:null;if(!ue)throw new Error("connection_unavailable");let $e,ht;return new Promise((jt,wn)=>{const qn=dc("",20);ue.port1.start();const yr=setTimeout(()=>{wn(new Error("unsupported_event"))},M);ht={messageChannel:ue,onMessage(vo){const No=vo;if(No.data.eventId===qn)switch(No.data.status){case"ack":clearTimeout(yr),$e=setTimeout(()=>{wn(new Error("timeout"))},3e3);break;case"done":clearTimeout($e),jt(No.data.response);break;default:clearTimeout(yr),clearTimeout($e),wn(new Error("invalid_response"))}}},Y.handlers.add(ht),ue.port1.addEventListener("message",ht.onMessage),Y.target.postMessage({eventType:_,eventId:qn,data:v},[ue.port2])}).finally(()=>{ht&&Y.removeMessageHandler(ht)})})()}}function Qi(){return window}function Os(){return typeof Qi().WorkerGlobalScope<"u"&&"function"==typeof Qi().importScripts}function hc(){return(hc=(0,g.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const mu="firebaseLocalStorageDb",Wo="firebaseLocalStorage",_d="fbase_key";class ba{constructor(_){this.request=_}toPromise(){return new Promise((_,v)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function S(C,_){return C.transaction([Wo],_?"readwrite":"readonly").objectStore(Wo)}function w(){const C=indexedDB.open(mu,1);return new Promise((_,v)=>{C.addEventListener("error",()=>{v(C.error)}),C.addEventListener("upgradeneeded",()=>{const M=C.result;try{M.createObjectStore(Wo,{keyPath:_d})}catch(Y){v(Y)}}),C.addEventListener("success",(0,g.Z)(function*(){const M=C.result;M.objectStoreNames.contains(Wo)?_(M):(M.close(),yield function O(){const C=indexedDB.deleteDatabase(mu);return new ba(C).toPromise()}(),_(yield w()))}))})}function N(C,_,v){return q.apply(this,arguments)}function q(){return(q=(0,g.Z)(function*(C,_,v){const M=S(C,!0).put({[_d]:_,value:v});return new ba(M).toPromise()})).apply(this,arguments)}function Te(){return(Te=(0,g.Z)(function*(C,_){const v=S(C,!1).get(_),M=yield new ba(v).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function ft(C,_){const v=S(C,!0).delete(_);return new ba(v).toPromise()}const Xr=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,g.Z)(function*(){return v.db||(v.db=yield w()),v.db})()}_withRetries(v){var M=this;return(0,g.Z)(function*(){let Y=0;for(;;)try{const ue=yield M._openDb();return yield v(ue)}catch(ue){if(Y++>3)throw ue;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,g.Z)(function*(){return Os()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,g.Z)(function*(){v.receiver=pd._getInstance(function md(){return Os()?self:null}()),v.receiver._subscribe("keyChanged",function(){var M=(0,g.Z)(function*(Y,ue){return{keyProcessed:(yield v._poll()).includes(ue.key)}});return function(Y,ue){return M.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var M=(0,g.Z)(function*(Y,ue){return["keyChanged"]});return function(Y,ue){return M.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,g.Z)(function*(){var M,Y;if(v.activeServiceWorker=yield function Zc(){return hc.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new ws(v.activeServiceWorker);const ue=yield v.sender._send("ping",{},800);ue&&null!==(M=ue[0])&&void 0!==M&&M.fulfilled&&null!==(Y=ue[0])&&void 0!==Y&&Y.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var M=this;return(0,g.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function gd(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:v},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const v=yield w();return yield N(v,hd,"1"),yield ft(v,hd),!0}catch{}return!1})()}_withPendingWrite(v){var M=this;return(0,g.Z)(function*(){M.pendingWrites++;try{yield v()}finally{M.pendingWrites--}})()}_set(v,M){var Y=this;return(0,g.Z)(function*(){return Y._withPendingWrite((0,g.Z)(function*(){return yield Y._withRetries(ue=>N(ue,v,M)),Y.localCache[v]=M,Y.notifyServiceWorker(v)}))})()}_get(v){var M=this;return(0,g.Z)(function*(){const Y=yield M._withRetries(ue=>function ce(C,_){return Te.apply(this,arguments)}(ue,v));return M.localCache[v]=Y,Y})()}_remove(v){var M=this;return(0,g.Z)(function*(){return M._withPendingWrite((0,g.Z)(function*(){return yield M._withRetries(Y=>ft(Y,v)),delete M.localCache[v],M.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,g.Z)(function*(){const M=yield v._withRetries($e=>{const ht=S($e,!1).getAll();return new ba(ht).toPromise()});if(!M)return[];if(0!==v.pendingWrites)return[];const Y=[],ue=new Set;if(0!==M.length)for(const{fbase_key:$e,value:ht}of M)ue.add($e),JSON.stringify(v.localCache[$e])!==JSON.stringify(ht)&&(v.notifyListeners($e,ht),Y.push($e));for(const $e of Object.keys(v.localCache))v.localCache[$e]&&!ue.has($e)&&(v.notifyListeners($e,null),Y.push($e));return Y})()}notifyListeners(v,M){this.localCache[v]=M;const Y=this.listeners[v];if(Y)for(const ue of Array.from(Y))ue(M)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(M)}_removeListener(v,M){this.listeners[v]&&(this.listeners[v].delete(M),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})(),_o=1e12;class _u{constructor(_){this.auth=_,this.counter=_o,this._widgets=new Map}render(_,v){const M=this.counter;return this._widgets.set(M,new ks(_,this.auth.name,v||{})),this.counter++,M}reset(_){var v;const M=_||_o;null===(v=this._widgets.get(M))||void 0===v||v.delete(),this._widgets.delete(M)}getResponse(_){var v;return(null===(v=this._widgets.get(_||_o))||void 0===v?void 0:v.getResponse())||""}execute(_){var v=this;return(0,g.Z)(function*(){var M;return null===(M=v._widgets.get(_||_o))||void 0===M||M.execute(),""})()}}class ks{constructor(_,v,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Y="string"==typeof _?document.getElementById(_):_;me(Y,"argument-error",{appName:v}),this.container=Y,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Kc(C){const _=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<C;M++)_.push(v.charAt(Math.floor(62*Math.random())));return _.join("")}(50);const{callback:_,"expired-callback":v}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const vi=Fa("rcb"),qf=new Ne(3e4,6e4);class xl{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=Qi().grecaptcha)||void 0===_||!_.render)}load(_,v=""){return me(function yu(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(v),_,"argument-error"),this.shouldResolveImmediately(v)&&Mn(Qi().grecaptcha)?Promise.resolve(Qi().grecaptcha):new Promise((M,Y)=>{const ue=Qi().setTimeout(()=>{Y(ct(_,"network-request-failed"))},qf.get());Qi()[vi]=()=>{Qi().clearTimeout(ue),delete Qi()[vi];const ht=Qi().grecaptcha;if(!ht||!Mn(ht))return void Y(ct(_,"internal-error"));const jt=ht.render;ht.render=(wn,qn)=>{const yr=jt(wn,qn);return this.counter++,yr},this.hostLanguage=v,M(ht)},Vr(`${function Hs(){return ls.recaptchaV2Script}()}?${(0,H.xO)({onload:vi,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(ue),Y(ct(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var v;return!(null===(v=Qi().grecaptcha)||void 0===v||!v.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class vu{load(_){return(0,g.Z)(function*(){return new _u(_)})()}clearedOneInstance(){}}const Ta="recaptcha",Oh={theme:"light",type:"image"};class da{constructor(_,v,M=Object.assign({},Oh)){this.parameters=M,this.type=Ta,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=lr(_),this.isInvisible="invisible"===this.parameters.size,me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Y="string"==typeof v?document.getElementById(v):v;me(Y,this.auth,"argument-error"),this.container=Y,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new vu:new xl,this.validateStartingState()}verify(){var _=this;return(0,g.Z)(function*(){_.assertNotDestroyed();const v=yield _.render(),M=_.getAssertedRecaptcha();return M.getResponse(v)||new Promise(ue=>{const $e=ht=>{ht&&(_.tokenChangeListeners.delete($e),ue(ht))};_.tokenChangeListeners.add($e),_.isInvisible&&M.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){me(!this.parameters.sitekey,this.auth,"argument-error"),me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return v=>{if(this.tokenChangeListeners.forEach(M=>M(v)),"function"==typeof _)_(v);else if("string"==typeof _){const M=Qi()[_];"function"==typeof M&&M(v)}}}assertNotDestroyed(){me(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,g.Z)(function*(){if(yield _.init(),!_.widgetId){let v=_.container;if(!_.isInvisible){const M=document.createElement("div");v.appendChild(M),v=M}_.widgetId=_.getAssertedRecaptcha().render(v,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,g.Z)(function*(){me(Tt()&&!Os(),_.auth,"internal-error"),yield function Ca(){let C=null;return new Promise(_=>{"complete"!==document.readyState?(C=()=>_(),window.addEventListener("load",C)):_()}).catch(_=>{throw C&&window.removeEventListener("load",C),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const v=yield function ci(C){return On.apply(this,arguments)}(_.auth);me(v,_.auth,"internal-error"),_.parameters.sitekey=v})()}getAssertedRecaptcha(){return me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Nh{constructor(_,v){this.verificationId=_,this.onConfirmation=v}confirm(_){const v=rs._fromVerification(this.verificationId,_);return this.onConfirmation(v)}}function kh(C,_,v){return xo.apply(this,arguments)}function xo(){return(xo=(0,g.Z)(function*(C,_,v){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(ot(C));const M=lr(C),Y=yield vd(M,_,(0,H.m9)(v));return new Nh(Y,ue=>jc(M,ue))})).apply(this,arguments)}function ha(C,_,v){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,g.Z)(function*(C,_,v){const M=(0,H.m9)(C);yield rc(!1,M,"phone");const Y=yield vd(M.auth,_,(0,H.m9)(v));return new Nh(Y,ue=>ho(M,ue))})).apply(this,arguments)}function Wf(C,_,v){return yd.apply(this,arguments)}function yd(){return(yd=(0,g.Z)(function*(C,_,v){const M=(0,H.m9)(C);if((0,u._isFirebaseServerApp)(M.auth.app))return Promise.reject(ot(M.auth));const Y=yield vd(M.auth,_,(0,H.m9)(v));return new Nh(Y,ue=>ad(M,ue))})).apply(this,arguments)}function vd(C,_,v){return pc.apply(this,arguments)}function pc(){return pc=(0,g.Z)(function*(C,_,v){var M;const Y=yield v.verify();try{let ue;if(me("string"==typeof Y,C,"argument-error"),me(v.type===Ta,C,"argument-error"),ue="string"==typeof _?{phoneNumber:_}:_,"session"in ue){const $e=ue.session;if("phoneNumber"in ue)return me("enroll"===$e.type,C,"internal-error"),(yield function Ph(C,_){return wt(C,"POST","/v2/accounts/mfaEnrollment:start",_t(C,_))}(C,{idToken:$e.credential,phoneEnrollmentInfo:{phoneNumber:ue.phoneNumber,recaptchaToken:Y}})).phoneSessionInfo.sessionInfo;{me("signin"===$e.type,C,"internal-error");const ht=(null===(M=ue.multiFactorHint)||void 0===M?void 0:M.uid)||ue.multiFactorUid;return me(ht,C,"missing-multi-factor-info"),(yield function dr(C,_){return wt(C,"POST","/v2/accounts/mfaSignIn:start",_t(C,_))}(C,{mfaPendingCredential:$e.credential,mfaEnrollmentId:ht,phoneSignInInfo:{recaptchaToken:Y}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$e}=yield function Is(C,_){return Rs.apply(this,arguments)}(C,{phoneNumber:ue.phoneNumber,recaptchaToken:Y});return $e}}finally{v._reset()}}),pc.apply(this,arguments)}function Ol(C,_){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,g.Z)(function*(C,_){const v=(0,H.m9)(C);if((0,u._isFirebaseServerApp)(v.auth.app))return Promise.reject(ot(v.auth));yield Ua(v,_)})).apply(this,arguments)}let Qm=(()=>{class C{constructor(v){this.providerId=C.PROVIDER_ID,this.auth=lr(v)}verifyPhoneNumber(v,M){return vd(this.auth,v,(0,H.m9)(M))}static credential(v,M){return rs._fromVerification(v,M)}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:M,temporaryProof:Y}=v;return M&&Y?rs._fromTokenResponse(M,Y):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function wa(C,_){return _?bt(_):(me(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class Id extends ji{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return Pi(_,this._buildIdpRequest())}_linkToIdToken(_,v){return Pi(_,this._buildIdpRequest(v))}_getReauthenticationResolver(_){return Pi(_,this._buildIdpRequest())}_buildIdpRequest(_){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(v.idToken=_),v}}function Tg(C){return sc(C.auth,new Id(C),C.bypassAuthState)}function Fh(C){const{auth:_,user:v}=C;return me(v,_,"internal-error"),Ba(v,new Id(C),C.bypassAuthState)}function my(C){return Lh.apply(this,arguments)}function Lh(){return(Lh=(0,g.Z)(function*(C){const{auth:_,user:v}=C;return me(v,_,"internal-error"),Ua(v,new Id(C),C.bypassAuthState)})).apply(this,arguments)}class Nl{constructor(_,v,M,Y,ue=!1){this.auth=_,this.resolver=M,this.user=Y,this.bypassAuthState=ue,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var _=this;return new Promise(function(){var v=(0,g.Z)(function*(M,Y){_.pendingPromise={resolve:M,reject:Y};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(ue){_.reject(ue)}});return function(M,Y){return v.apply(this,arguments)}}())}onAuthEvent(_){var v=this;return(0,g.Z)(function*(){const{urlResponse:M,sessionId:Y,postBody:ue,tenantId:$e,error:ht,type:jt}=_;if(ht)return void v.reject(ht);const wn={auth:v.auth,requestUri:M,sessionId:Y,tenantId:$e||void 0,postBody:ue||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(jt)(wn))}catch(qn){v.reject(qn)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return Tg;case"linkViaPopup":case"linkViaRedirect":return my;case"reauthViaPopup":case"reauthViaRedirect":return Fh;default:ze(this.auth,"internal-error")}}resolve(_){$t(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){$t(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Eu=new Ne(2e3,1e4);function Cg(C,_,v){return fa.apply(this,arguments)}function fa(){return(fa=(0,g.Z)(function*(C,_,v){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(ct(C,"operation-not-supported-in-this-environment"));const M=lr(C);Dt(C,_,ii);const Y=wa(M,v);return new As(M,"signInViaPopup",_,Y).executeNotNull()})).apply(this,arguments)}function kl(C,_,v){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,g.Z)(function*(C,_,v){const M=(0,H.m9)(C);if((0,u._isFirebaseServerApp)(M.auth.app))return Promise.reject(ct(M.auth,"operation-not-supported-in-this-environment"));Dt(M.auth,_,ii);const Y=wa(M.auth,v);return new As(M.auth,"reauthViaPopup",_,Y,M).executeNotNull()})).apply(this,arguments)}function Jm(C,_,v){return bd.apply(this,arguments)}function bd(){return(bd=(0,g.Z)(function*(C,_,v){const M=(0,H.m9)(C);Dt(M.auth,_,ii);const Y=wa(M.auth,v);return new As(M.auth,"linkViaPopup",_,Y,M).executeNotNull()})).apply(this,arguments)}let As=(()=>{class C extends Nl{constructor(v,M,Y,ue,$e){super(v,M,ue,$e),this.provider=Y,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var v=this;return(0,g.Z)(function*(){const M=yield v.execute();return me(M,v.auth,"internal-error"),M})()}onExecution(){var v=this;return(0,g.Z)(function*(){$t(1===v.filter.length,"Popup operations only handle one event");const M=dc();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],M),v.authWindow.associatedEvent=M,v.resolver._originValidation(v.auth).catch(Y=>{v.reject(Y)}),v.resolver._isIframeWebStorageSupported(v.auth,Y=>{Y||v.reject(ct(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(ct(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const v=()=>{var M,Y;this.pollId=null!==(Y=null===(M=this.authWindow)||void 0===M?void 0:M.window)&&void 0!==Y&&Y.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ct(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,Eu.get())};v()}}return C.currentPopupAction=null,C})();const wg="pendingRedirect",Ws=new Map;class Vh extends Nl{constructor(_,v,M=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,M),this.eventId=null}execute(){var _=()=>super.execute,v=this;return(0,g.Z)(function*(){let M=Ws.get(v.auth._key());if(!M){try{const ue=(yield function Td(C,_){return Fs.apply(this,arguments)}(v.resolver,v.auth))?yield _().call(v):null;M=()=>Promise.resolve(ue)}catch(Y){M=()=>Promise.reject(Y)}Ws.set(v.auth._key(),M)}return v.bypassAuthState||Ws.set(v.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(_){var v=()=>super.onAuthEvent,M=this;return(0,g.Z)(function*(){if("signInViaRedirect"===_.type)return v().call(M,_);if("unknown"!==_.type){if(_.eventId){const Y=yield M.auth._redirectUserForId(_.eventId);if(Y)return M.user=Y,v().call(M,_);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function Fs(){return(Fs=(0,g.Z)(function*(C,_){const v=Ti(_),M=Yc(C);if(!(yield M._isAvailable()))return!1;const Y="true"===(yield M._get(v));return yield M._remove(v),Y})).apply(this,arguments)}function Da(C,_){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,g.Z)(function*(C,_){return Yc(C)._set(Ti(_),"true")})).apply(this,arguments)}function gc(){Ws.clear()}function Zf(C,_){Ws.set(C._key(),_)}function Yc(C){return bt(C._redirectPersistence)}function Ti(C){return un(wg,C.config.apiKey,C.name)}function pa(C,_,v){return function Ll(C,_,v){return Uh.apply(this,arguments)}(C,_,v)}function Uh(){return(Uh=(0,g.Z)(function*(C,_,v){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(ot(C));const M=lr(C);Dt(C,_,ii),yield M._initializationPromise;const Y=wa(M,v);return yield Da(Y,M),Y._openRedirect(M,_,"signInViaRedirect")})).apply(this,arguments)}function Iu(C,_,v){return function Qc(C,_,v){return Cd.apply(this,arguments)}(C,_,v)}function Cd(){return(Cd=(0,g.Z)(function*(C,_,v){const M=(0,H.m9)(C);if(Dt(M.auth,_,ii),(0,u._isFirebaseServerApp)(M.auth.app))return Promise.reject(ot(M.auth));yield M.auth._initializationPromise;const Y=wa(M.auth,v);yield Da(Y,M.auth);const ue=yield Sa(M);return Y._openRedirect(M.auth,_,"reauthViaRedirect",ue)})).apply(this,arguments)}function Kf(C,_,v){return function bu(C,_,v){return mc.apply(this,arguments)}(C,_,v)}function mc(){return(mc=(0,g.Z)(function*(C,_,v){const M=(0,H.m9)(C);Dt(M.auth,_,ii),yield M.auth._initializationPromise;const Y=wa(M.auth,v);yield rc(!1,M,_.providerId),yield Da(Y,M.auth);const ue=yield Sa(M);return Y._openRedirect(M.auth,_,"linkViaRedirect",ue)})).apply(this,arguments)}function Yf(C,_){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,g.Z)(function*(C,_){return yield lr(C)._initializationPromise,Bh(C,_,!1)})).apply(this,arguments)}function Bh(C,_){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,g.Z)(function*(C,_,v=!1){if((0,u._isFirebaseServerApp)(C.app))return Promise.reject(ot(C));const M=lr(C),Y=wa(M,_),$e=yield new Vh(M,Y,v).execute();return $e&&!v&&(delete $e.user._redirectEventId,yield M._persistUserIfCurrent($e.user),yield M._setRedirectUser(null,_)),$e})).apply(this,arguments)}function Sa(C){return _c.apply(this,arguments)}function _c(){return(_c=(0,g.Z)(function*(C){const _=dc(`${C.uid}:::`);return C._redirectEventId=_,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),_})).apply(this,arguments)}class Cu{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let v=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(_,M)&&(v=!0,this.sendToConsumer(_,M),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function Wa(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yc(C);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=_,v=!0)),v}sendToConsumer(_,v){var M;if(_.error&&!yc(_)){const Y=(null===(M=_.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";v.onError(ct(this.auth,Y))}else v.onAuthEvent(_)}isEventForConsumer(_,v){const M=null===v.eventId||!!_.eventId&&_.eventId===v.eventId;return v.filter.includes(_.type)&&M}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jc(_))}saveEventToCache(_){this.cachedEventUids.add(Jc(_)),this.lastProcessedEventTime=Date.now()}}function Jc(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(_=>_).join("-")}function yc({type:C,error:_}){return"unknown"===C&&"auth/no-auth-event"===_?.code}function vn(C){return vc.apply(this,arguments)}function vc(){return(vc=(0,g.Z)(function*(C,_={}){return wt(C,"GET","/v1/projects",_)})).apply(this,arguments)}const qi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xm=/^https?/;function Qf(){return(Qf=(0,g.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:_}=yield vn(C);for(const v of _)try{if(e_(v))return}catch{}ze(C,"unauthorized-domain")})).apply(this,arguments)}function e_(C){const _=jn(),{protocol:v,hostname:M}=new URL(_);if(C.startsWith("chrome-extension://")){const $e=new URL(C);return""===$e.hostname&&""===M?"chrome-extension:"===v&&C.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===v&&$e.hostname===M}if(!Xm.test(v))return!1;if(qi.test(C))return M===C;const Y=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(M)}const Jf=new Ne(3e4,6e4);function Dg(){const C=Qi().___jsl;if(C?.H)for(const _ of Object.keys(C.H))if(C.H[_].r=C.H[_].r||[],C.H[_].L=C.H[_].L||[],C.H[_].r=[...C.H[_].L],C.CP)for(let v=0;v<C.CP.length;v++)C.CP[v]=null}let Vl=null;const Xf=new Ne(5e3,15e3),zh="__/auth/iframe",is="emulator/auth/iframe",wu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ec=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Au(C){const _=C.config;me(_.authDomain,C,"auth-domain-config-required");const v=_.emulator?_e(_,is):`https://${C.config.authDomain}/${zh}`,M={apiKey:_.apiKey,appName:C.name,v:u.SDK_VERSION},Y=Ec.get(C.config.apiHost);Y&&(M.eid=Y);const ue=C._getFrameworks();return ue.length&&(M.fw=ue.join(",")),`${v}?${(0,H.xO)(M).slice(1)}`}function Ko(){return Ko=(0,g.Z)(function*(C){const _=yield function Ul(C){return Vl=Vl||function $h(C){return new Promise((_,v)=>{var M,Y,ue;function $e(){Dg(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{Dg(),v(ct(C,"network-request-failed"))},timeout:Jf.get()})}if(null!==(Y=null===(M=Qi().gapi)||void 0===M?void 0:M.iframes)&&void 0!==Y&&Y.Iframe)_(gapi.iframes.getContext());else{if(null===(ue=Qi().gapi)||void 0===ue||!ue.load){const ht=Fa("iframefcb");return Qi()[ht]=()=>{gapi.load?$e():v(ct(C,"network-request-failed"))},Vr(`${function Bi(){return ls.gapiScript}()}?onload=${ht}`).catch(jt=>v(jt))}$e()}}).catch(_=>{throw Vl=null,_})}(C),Vl}(C),v=Qi().gapi;return me(v,C,"internal-error"),_.open({where:document.body,url:Au(C),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wu,dontclear:!0},M=>new Promise(function(){var Y=(0,g.Z)(function*(ue,$e){yield M.restyle({setHideOnLeave:!1});const ht=ct(C,"network-request-failed"),jt=Qi().setTimeout(()=>{$e(ht)},Xf.get());function wn(){Qi().clearTimeout(jt),ue(M)}M.ping(wn).then(wn,()=>{$e(ht)})});return function(ue,$e){return Y.apply(this,arguments)}}()))}),Ko.apply(this,arguments)}const Xc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Oo{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Du="__/auth/handler",jl="emulator/auth/handler",Su=encodeURIComponent("fac");function Za(C,_,v,M,Y,ue){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,g.Z)(function*(C,_,v,M,Y,ue){me(C.config.authDomain,C,"auth-domain-config-required"),me(C.config.apiKey,C,"invalid-api-key");const $e={apiKey:C.config.apiKey,appName:C.name,authType:v,redirectUrl:M,v:u.SDK_VERSION,eventId:Y};if(_ instanceof ii){_.setDefaultLanguage(C.languageCode),$e.providerId=_.providerId||"",(0,H.xb)(_.getCustomParameters())||($e.customParameters=JSON.stringify(_.getCustomParameters()));for(const[qn,yr]of Object.entries(ue||{}))$e[qn]=yr}if(_ instanceof fe){const qn=_.getScopes().filter(yr=>""!==yr);qn.length>0&&($e.scopes=qn.join(","))}C.tenantId&&($e.tid=C.tenantId);const ht=$e;for(const qn of Object.keys(ht))void 0===ht[qn]&&delete ht[qn];const jt=yield C._getAppCheckToken(),wn=jt?`#${Su}=${encodeURIComponent(jt)}`:"";return`${function wi({config:C}){return C.emulator?_e(C,jl):`https://${C.authDomain}/${Du}`}(C)}?${(0,H.xO)(ht).slice(1)}${wn}`})).apply(this,arguments)}const $l="webStorageSupport",Hh=class wd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vt,this._completeRedirectFn=Bh,this._overrideRedirectResult=Zf}_openPopup(_,v,M,Y){var ue=this;return(0,g.Z)(function*(){var $e;$t(null===($e=ue.eventManagers[_._key()])||void 0===$e?void 0:$e.manager,"_initialize() not called before _openPopup()");const ht=yield Za(_,v,M,jn(),Y);return function ep(C,_,v,M=500,Y=600){const ue=Math.max((window.screen.availHeight-Y)/2,0).toString(),$e=Math.max((window.screen.availWidth-M)/2,0).toString();let ht="";const jt=Object.assign(Object.assign({},Xc),{width:M.toString(),height:Y.toString(),top:ue,left:$e}),wn=(0,H.z$)().toLowerCase();v&&(ht=Be(wn)?"_blank":v),Fe(wn)&&(_=_||"http://localhost",jt.scrollbars="yes");const qn=Object.entries(jt).reduce((vo,[No,Ya])=>`${vo}${No}=${Ya},`,"");if(function ri(C=(0,H.z$)()){var _;return Er(C)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(wn)&&"_self"!==ht)return function yo(C,_){const v=document.createElement("a");v.href=C,v.target=_;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(M)}(_||"",ht),new Oo(null);const yr=window.open(_||"",ht,qn);me(yr,C,"popup-blocked");try{yr.focus()}catch{}return new Oo(yr)}(_,ht,dc())})()}_openRedirect(_,v,M,Y){var ue=this;return(0,g.Z)(function*(){return yield ue._originValidation(_),function Rl(C){Qi().location.href=C}(yield Za(_,v,M,jn(),Y)),new Promise(()=>{})})()}_initialize(_){const v=_._key();if(this.eventManagers[v]){const{manager:Y,promise:ue}=this.eventManagers[v];return Y?Promise.resolve(Y):($t(ue,"If manager is not set, promise should be"),ue)}const M=this.initAndGetManager(_);return this.eventManagers[v]={promise:M},M.catch(()=>{delete this.eventManagers[v]}),M}initAndGetManager(_){var v=this;return(0,g.Z)(function*(){const M=yield function Fr(C){return Ko.apply(this,arguments)}(_),Y=new Cu(_);return M.register("authEvent",ue=>(me(ue?.authEvent,_,"invalid-auth-event"),{status:Y.onEvent(ue.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[_._key()]={manager:Y},v.iframes[_._key()]=M,Y})()}_isIframeWebStorageSupported(_,v){this.iframes[_._key()].send($l,{type:$l},Y=>{var ue;const $e=null===(ue=Y?.[0])||void 0===ue?void 0:ue[$l];void 0!==$e&&v(!!$e),ze(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const v=_._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Ag(C){return Qf.apply(this,arguments)}(_)),this.originValidationPromises[v]}get _shouldInitProactively(){return Ui()||Re()||Er()}};class Sg{constructor(_){this.factorId=_}_process(_,v,M){switch(v.type){case"enroll":return this._finalizeEnroll(_,v.credential,M);case"signin":return this._finalizeSignIn(_,v.credential);default:return Ct("unexpected MultiFactorSessionType")}}}class nl extends Sg{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new nl(_)}_finalizeEnroll(_,v,M){return function Hf(C,_){return wt(C,"POST","/v2/accounts/mfaEnrollment:finalize",_t(C,_))}(_,{idToken:v,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,v){return function Ns(C,_){return wt(C,"POST","/v2/accounts/mfaSignIn:finalize",_t(C,_))}(_,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ad=(()=>{class C{constructor(){}static assertion(v){return nl._fromCredential(v)}}return C.FACTOR_ID="phone",C})();var Mu="@firebase/auth";class il{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var v=this;return(0,g.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const v=this.auth.onIdTokenChanged(M=>{_(M?.stsTokenManager.accessToken||null)});this.internalListeners.set(_,v),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const v=this.internalListeners.get(_);v&&(this.internalListeners.delete(_),v(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,H.Pz)("authIdTokenMaxAge"),function Zi(C){ls=C}({loadJS:C=>new Promise((_,v)=>{const M=document.createElement("script");M.setAttribute("src",C),M.onload=_,M.onerror=Y=>{const ue=ct("internal-error");ue.customData=Y,v(ue)},M.type="text/javascript",M.charset="UTF-8",function Hl(){var C,_;return null!==(_=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==_?_:document}().appendChild(M)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Sd(C){(0,u._registerComponent)(new Se.wA("auth",(_,{options:v})=>{const M=_.getProvider("app").getImmediate(),Y=_.getProvider("heartbeat"),ue=_.getProvider("app-check-internal"),{apiKey:$e,authDomain:ht}=M.options;me($e&&!$e.includes(":"),"invalid-api-key",{appName:M.name});const jt={apiKey:$e,authDomain:ht,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Si(C)},wn=new Ii(M,Y,ue,jt);return function Mo(C,_){const v=_?.persistence||[],M=(Array.isArray(v)?v:[v]).map(bt);_?.errorMap&&C._updateErrorMap(_.errorMap),C._initializeWithPersistence(M,_?.popupRedirectResolver)}(wn,v),wn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,v,M)=>{_.getProvider("auth-internal").initialize()})),(0,u._registerComponent)(new Se.wA("auth-internal",_=>{const v=lr(_.getProvider("auth").getImmediate());return new il(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,u.registerVersion)(Mu,"1.7.4",function zl(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(C)),(0,u.registerVersion)(Mu,"1.7.4","esm2017")}("Browser")},5588:(Qt,Ke,B)=>{B.d(Ke,{u7:()=>ym,Jj:()=>Oa,IX:()=>ju,my:()=>ss,xU:()=>Xl,Lz:()=>Mc,WA:()=>_e,F8:()=>hf,$q:()=>oh,W:()=>bo,EK:()=>kn,PU:()=>Zu,l7:()=>Un,Ky:()=>Ut,Xb:()=>Kn,Cf:()=>Mr,K9:()=>Jt,Me:()=>So,yq:()=>$t,Wi:()=>w_,ET:()=>Wp,Ab:()=>Cf,vr:()=>Ku,Fc:()=>Rp,hJ:()=>Py,B$:()=>am,at:()=>Bu,oe:()=>Oc,AK:()=>Cm,TF:()=>Ry,JU:()=>$v,ST:()=>dm,fH:()=>fl,Ix:()=>zv,Wu:()=>$y,Lx:()=>mm,qY:()=>Ji,GL:()=>Vi,QT:()=>O_,kl:()=>Gp,Xk:()=>eu,PL:()=>qp,UQ:()=>tu,zN:()=>ml,ad:()=>uf,nP:()=>k_,b9:()=>ga,vh:()=>Ef,Pb:()=>Hv,L$:()=>Gv,cf:()=>N_,sc:()=>Zp,Xo:()=>Vp,IO:()=>jy,iE:()=>lm,Eo:()=>cm,i3:()=>Tm,Bt:()=>wm,pl:()=>qu,Ub:()=>Je,qK:()=>Jo,TQ:()=>If,e0:()=>Ql,r7:()=>Wu,Mx:()=>S_,ar:()=>gm});var Ce,Ve,g=B(5861),u=B(4303),H=B(4537),Ie=B(7879),Ee=B(9058),Se=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ae={};(function(){var l;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function d(Xe,Oe,He){He||(He=0);var tt=Array(16);if("string"==typeof Oe)for(var st=0;16>st;++st)tt[st]=Oe.charCodeAt(He++)|Oe.charCodeAt(He++)<<8|Oe.charCodeAt(He++)<<16|Oe.charCodeAt(He++)<<24;else for(st=0;16>st;++st)tt[st]=Oe[He++]|Oe[He++]<<8|Oe[He++]<<16|Oe[He++]<<24;var gt=Xe.g[3],je=(Oe=Xe.g[0])+(gt^(He=Xe.g[1])&((st=Xe.g[2])^gt))+tt[0]+3614090360&4294967295;je=(He=(st=(gt=(Oe=(He=(st=(gt=(Oe=(He=(st=(gt=(Oe=(He=(st=(gt=(Oe=(He=(st=(gt=(Oe=(He=(st=(gt=(Oe=(He=(st=(gt=(Oe=(He=(st=(gt=(Oe=(He=(st=(gt=(Oe=(He=(st=(gt=(Oe=(He=(st=(gt=(Oe=(He=(st=(gt=(Oe=(He=(st=(gt=(Oe=(He=(st=(gt=(Oe=(He=(st=(gt=(Oe=He+(je<<7&4294967295|je>>>25))+((je=gt+(st^Oe&(He^st))+tt[1]+3905402710&4294967295)<<12&4294967295|je>>>20))+((je=st+(He^gt&(Oe^He))+tt[2]+606105819&4294967295)<<17&4294967295|je>>>15))+((je=He+(Oe^st&(gt^Oe))+tt[3]+3250441966&4294967295)<<22&4294967295|je>>>10))+((je=Oe+(gt^He&(st^gt))+tt[4]+4118548399&4294967295)<<7&4294967295|je>>>25))+((je=gt+(st^Oe&(He^st))+tt[5]+1200080426&4294967295)<<12&4294967295|je>>>20))+((je=st+(He^gt&(Oe^He))+tt[6]+2821735955&4294967295)<<17&4294967295|je>>>15))+((je=He+(Oe^st&(gt^Oe))+tt[7]+4249261313&4294967295)<<22&4294967295|je>>>10))+((je=Oe+(gt^He&(st^gt))+tt[8]+1770035416&4294967295)<<7&4294967295|je>>>25))+((je=gt+(st^Oe&(He^st))+tt[9]+2336552879&4294967295)<<12&4294967295|je>>>20))+((je=st+(He^gt&(Oe^He))+tt[10]+4294925233&4294967295)<<17&4294967295|je>>>15))+((je=He+(Oe^st&(gt^Oe))+tt[11]+2304563134&4294967295)<<22&4294967295|je>>>10))+((je=Oe+(gt^He&(st^gt))+tt[12]+1804603682&4294967295)<<7&4294967295|je>>>25))+((je=gt+(st^Oe&(He^st))+tt[13]+4254626195&4294967295)<<12&4294967295|je>>>20))+((je=st+(He^gt&(Oe^He))+tt[14]+2792965006&4294967295)<<17&4294967295|je>>>15))+((je=He+(Oe^st&(gt^Oe))+tt[15]+1236535329&4294967295)<<22&4294967295|je>>>10))+((je=Oe+(st^gt&(He^st))+tt[1]+4129170786&4294967295)<<5&4294967295|je>>>27))+((je=gt+(He^st&(Oe^He))+tt[6]+3225465664&4294967295)<<9&4294967295|je>>>23))+((je=st+(Oe^He&(gt^Oe))+tt[11]+643717713&4294967295)<<14&4294967295|je>>>18))+((je=He+(gt^Oe&(st^gt))+tt[0]+3921069994&4294967295)<<20&4294967295|je>>>12))+((je=Oe+(st^gt&(He^st))+tt[5]+3593408605&4294967295)<<5&4294967295|je>>>27))+((je=gt+(He^st&(Oe^He))+tt[10]+38016083&4294967295)<<9&4294967295|je>>>23))+((je=st+(Oe^He&(gt^Oe))+tt[15]+3634488961&4294967295)<<14&4294967295|je>>>18))+((je=He+(gt^Oe&(st^gt))+tt[4]+3889429448&4294967295)<<20&4294967295|je>>>12))+((je=Oe+(st^gt&(He^st))+tt[9]+568446438&4294967295)<<5&4294967295|je>>>27))+((je=gt+(He^st&(Oe^He))+tt[14]+3275163606&4294967295)<<9&4294967295|je>>>23))+((je=st+(Oe^He&(gt^Oe))+tt[3]+4107603335&4294967295)<<14&4294967295|je>>>18))+((je=He+(gt^Oe&(st^gt))+tt[8]+1163531501&4294967295)<<20&4294967295|je>>>12))+((je=Oe+(st^gt&(He^st))+tt[13]+2850285829&4294967295)<<5&4294967295|je>>>27))+((je=gt+(He^st&(Oe^He))+tt[2]+4243563512&4294967295)<<9&4294967295|je>>>23))+((je=st+(Oe^He&(gt^Oe))+tt[7]+1735328473&4294967295)<<14&4294967295|je>>>18))+((je=He+(gt^Oe&(st^gt))+tt[12]+2368359562&4294967295)<<20&4294967295|je>>>12))+((je=Oe+(He^st^gt)+tt[5]+4294588738&4294967295)<<4&4294967295|je>>>28))+((je=gt+(Oe^He^st)+tt[8]+2272392833&4294967295)<<11&4294967295|je>>>21))+((je=st+(gt^Oe^He)+tt[11]+1839030562&4294967295)<<16&4294967295|je>>>16))+((je=He+(st^gt^Oe)+tt[14]+4259657740&4294967295)<<23&4294967295|je>>>9))+((je=Oe+(He^st^gt)+tt[1]+2763975236&4294967295)<<4&4294967295|je>>>28))+((je=gt+(Oe^He^st)+tt[4]+1272893353&4294967295)<<11&4294967295|je>>>21))+((je=st+(gt^Oe^He)+tt[7]+4139469664&4294967295)<<16&4294967295|je>>>16))+((je=He+(st^gt^Oe)+tt[10]+3200236656&4294967295)<<23&4294967295|je>>>9))+((je=Oe+(He^st^gt)+tt[13]+681279174&4294967295)<<4&4294967295|je>>>28))+((je=gt+(Oe^He^st)+tt[0]+3936430074&4294967295)<<11&4294967295|je>>>21))+((je=st+(gt^Oe^He)+tt[3]+3572445317&4294967295)<<16&4294967295|je>>>16))+((je=He+(st^gt^Oe)+tt[6]+76029189&4294967295)<<23&4294967295|je>>>9))+((je=Oe+(He^st^gt)+tt[9]+3654602809&4294967295)<<4&4294967295|je>>>28))+((je=gt+(Oe^He^st)+tt[12]+3873151461&4294967295)<<11&4294967295|je>>>21))+((je=st+(gt^Oe^He)+tt[15]+530742520&4294967295)<<16&4294967295|je>>>16))+((je=He+(st^gt^Oe)+tt[2]+3299628645&4294967295)<<23&4294967295|je>>>9))+((je=Oe+(st^(He|~gt))+tt[0]+4096336452&4294967295)<<6&4294967295|je>>>26))+((je=gt+(He^(Oe|~st))+tt[7]+1126891415&4294967295)<<10&4294967295|je>>>22))+((je=st+(Oe^(gt|~He))+tt[14]+2878612391&4294967295)<<15&4294967295|je>>>17))+((je=He+(gt^(st|~Oe))+tt[5]+4237533241&4294967295)<<21&4294967295|je>>>11))+((je=Oe+(st^(He|~gt))+tt[12]+1700485571&4294967295)<<6&4294967295|je>>>26))+((je=gt+(He^(Oe|~st))+tt[3]+2399980690&4294967295)<<10&4294967295|je>>>22))+((je=st+(Oe^(gt|~He))+tt[10]+4293915773&4294967295)<<15&4294967295|je>>>17))+((je=He+(gt^(st|~Oe))+tt[1]+2240044497&4294967295)<<21&4294967295|je>>>11))+((je=Oe+(st^(He|~gt))+tt[8]+1873313359&4294967295)<<6&4294967295|je>>>26))+((je=gt+(He^(Oe|~st))+tt[15]+4264355552&4294967295)<<10&4294967295|je>>>22))+((je=st+(Oe^(gt|~He))+tt[6]+2734768916&4294967295)<<15&4294967295|je>>>17))+((je=He+(gt^(st|~Oe))+tt[13]+1309151649&4294967295)<<21&4294967295|je>>>11))+((gt=(Oe=He+((je=Oe+(st^(He|~gt))+tt[4]+4149444226&4294967295)<<6&4294967295|je>>>26))+((je=gt+(He^(Oe|~st))+tt[11]+3174756917&4294967295)<<10&4294967295|je>>>22))^((st=gt+((je=st+(Oe^(gt|~He))+tt[2]+718787259&4294967295)<<15&4294967295|je>>>17))|~Oe))+tt[9]+3951481745&4294967295,Xe.g[0]=Xe.g[0]+Oe&4294967295,Xe.g[1]=Xe.g[1]+(st+(je<<21&4294967295|je>>>11))&4294967295,Xe.g[2]=Xe.g[2]+st&4294967295,Xe.g[3]=Xe.g[3]+gt&4294967295}function b(Xe,Oe){this.h=Oe;for(var He=[],tt=!0,st=Xe.length-1;0<=st;st--){var gt=0|Xe[st];tt&&gt==Oe||(He[st]=gt,tt=!1)}this.g=He}(function e(Xe,Oe){function He(){}He.prototype=Oe.prototype,Xe.D=Oe.prototype,Xe.prototype=new He,Xe.prototype.constructor=Xe,Xe.C=function(tt,st,gt){for(var je=Array(arguments.length-2),yl=2;yl<arguments.length;yl++)je[yl-2]=arguments[yl];return Oe.prototype[st].apply(tt,je)}})(s,function r(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(Xe,Oe){void 0===Oe&&(Oe=Xe.length);for(var He=Oe-this.blockSize,tt=this.B,st=this.h,gt=0;gt<Oe;){if(0==st)for(;gt<=He;)d(this,Xe,gt),gt+=this.blockSize;if("string"==typeof Xe){for(;gt<Oe;)if(tt[st++]=Xe.charCodeAt(gt++),st==this.blockSize){d(this,tt),st=0;break}}else for(;gt<Oe;)if(tt[st++]=Xe[gt++],st==this.blockSize){d(this,tt),st=0;break}}this.h=st,this.o+=Oe},s.prototype.v=function(){var Xe=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Xe[0]=128;for(var Oe=1;Oe<Xe.length-8;++Oe)Xe[Oe]=0;var He=8*this.o;for(Oe=Xe.length-8;Oe<Xe.length;++Oe)Xe[Oe]=255&He,He/=256;for(this.u(Xe),Xe=Array(16),Oe=He=0;4>Oe;++Oe)for(var tt=0;32>tt;tt+=8)Xe[He++]=this.g[Oe]>>>tt&255;return Xe};var R={};function V(Xe){return-128<=Xe&&128>Xe?function y(Xe,Oe){var He=R;return Object.prototype.hasOwnProperty.call(He,Xe)?He[Xe]:He[Xe]=Oe(Xe)}(Xe,function(Oe){return new b([0|Oe],0>Oe?-1:0)}):new b([0|Xe],0>Xe?-1:0)}function K(Xe){if(isNaN(Xe)||!isFinite(Xe))return ye;if(0>Xe)return Gt(K(-Xe));for(var Oe=[],He=1,tt=0;Xe>=He;tt++)Oe[tt]=Xe/He|0,He*=4294967296;return new b(Oe,0)}var ye=V(0),Le=V(1),lt=V(16777216);function Lt(Xe){if(0!=Xe.h)return!1;for(var Oe=0;Oe<Xe.g.length;Oe++)if(0!=Xe.g[Oe])return!1;return!0}function rn(Xe){return-1==Xe.h}function Gt(Xe){for(var Oe=Xe.g.length,He=[],tt=0;tt<Oe;tt++)He[tt]=~Xe.g[tt];return new b(He,~Xe.h).add(Le)}function Ln(Xe,Oe){return Xe.add(Gt(Oe))}function Jn(Xe,Oe){for(;(65535&Xe[Oe])!=Xe[Oe];)Xe[Oe+1]+=Xe[Oe]>>>16,Xe[Oe]&=65535,Oe++}function $n(Xe,Oe){this.g=Xe,this.h=Oe}function wr(Xe,Oe){if(Lt(Oe))throw Error("division by zero");if(Lt(Xe))return new $n(ye,ye);if(rn(Xe))return Oe=wr(Gt(Xe),Oe),new $n(Gt(Oe.g),Gt(Oe.h));if(rn(Oe))return Oe=wr(Xe,Gt(Oe)),new $n(Gt(Oe.g),Oe.h);if(30<Xe.g.length){if(rn(Xe)||rn(Oe))throw Error("slowDivide_ only works with positive integers.");for(var He=Le,tt=Oe;0>=tt.l(Xe);)He=oi(He),tt=oi(tt);var st=Lr(He,1),gt=Lr(tt,1);for(tt=Lr(tt,2),He=Lr(He,2);!Lt(tt);){var je=gt.add(tt);0>=je.l(Xe)&&(st=st.add(He),gt=je),tt=Lr(tt,1),He=Lr(He,1)}return Oe=Ln(Xe,st.j(Oe)),new $n(st,Oe)}for(st=ye;0<=Xe.l(Oe);){for(He=Math.max(1,Math.floor(Xe.m()/Oe.m())),tt=48>=(tt=Math.ceil(Math.log(He)/Math.LN2))?1:Math.pow(2,tt-48),je=(gt=K(He)).j(Oe);rn(je)||0<je.l(Xe);)je=(gt=K(He-=tt)).j(Oe);Lt(gt)&&(gt=Le),st=st.add(gt),Xe=Ln(Xe,je)}return new $n(st,Xe)}function oi(Xe){for(var Oe=Xe.g.length+1,He=[],tt=0;tt<Oe;tt++)He[tt]=Xe.i(tt)<<1|Xe.i(tt-1)>>>31;return new b(He,Xe.h)}function Lr(Xe,Oe){var He=Oe>>5;Oe%=32;for(var tt=Xe.g.length-He,st=[],gt=0;gt<tt;gt++)st[gt]=0<Oe?Xe.i(gt+He)>>>Oe|Xe.i(gt+He+1)<<32-Oe:Xe.i(gt+He);return new b(st,Xe.h)}(l=b.prototype).m=function(){if(rn(this))return-Gt(this).m();for(var Xe=0,Oe=1,He=0;He<this.g.length;He++){var tt=this.i(He);Xe+=(0<=tt?tt:4294967296+tt)*Oe,Oe*=4294967296}return Xe},l.toString=function(Xe){if(2>(Xe=Xe||10)||36<Xe)throw Error("radix out of range: "+Xe);if(Lt(this))return"0";if(rn(this))return"-"+Gt(this).toString(Xe);for(var Oe=K(Math.pow(Xe,6)),He=this,tt="";;){var st=wr(He,Oe).g,gt=((0<(He=Ln(He,st.j(Oe))).g.length?He.g[0]:He.h)>>>0).toString(Xe);if(Lt(He=st))return gt+tt;for(;6>gt.length;)gt="0"+gt;tt=gt+tt}},l.i=function(Xe){return 0>Xe?0:Xe<this.g.length?this.g[Xe]:this.h},l.l=function(Xe){return rn(Xe=Ln(this,Xe))?-1:Lt(Xe)?0:1},l.abs=function(){return rn(this)?Gt(this):this},l.add=function(Xe){for(var Oe=Math.max(this.g.length,Xe.g.length),He=[],tt=0,st=0;st<=Oe;st++){var gt=tt+(65535&this.i(st))+(65535&Xe.i(st)),je=(gt>>>16)+(this.i(st)>>>16)+(Xe.i(st)>>>16);tt=je>>>16,He[st]=(je&=65535)<<16|(gt&=65535)}return new b(He,-2147483648&He[He.length-1]?-1:0)},l.j=function(Xe){if(Lt(this)||Lt(Xe))return ye;if(rn(this))return rn(Xe)?Gt(this).j(Gt(Xe)):Gt(Gt(this).j(Xe));if(rn(Xe))return Gt(this.j(Gt(Xe)));if(0>this.l(lt)&&0>Xe.l(lt))return K(this.m()*Xe.m());for(var Oe=this.g.length+Xe.g.length,He=[],tt=0;tt<2*Oe;tt++)He[tt]=0;for(tt=0;tt<this.g.length;tt++)for(var st=0;st<Xe.g.length;st++){var gt=this.i(tt)>>>16,je=65535&this.i(tt),yl=Xe.i(st)>>>16,wf=65535&Xe.i(st);He[2*tt+2*st]+=je*wf,Jn(He,2*tt+2*st),He[2*tt+2*st+1]+=gt*wf,Jn(He,2*tt+2*st+1),He[2*tt+2*st+1]+=je*yl,Jn(He,2*tt+2*st+1),He[2*tt+2*st+2]+=gt*yl,Jn(He,2*tt+2*st+2)}for(tt=0;tt<Oe;tt++)He[tt]=He[2*tt+1]<<16|He[2*tt];for(tt=Oe;tt<2*Oe;tt++)He[tt]=0;return new b(He,0)},l.A=function(Xe){return wr(this,Xe).h},l.and=function(Xe){for(var Oe=Math.max(this.g.length,Xe.g.length),He=[],tt=0;tt<Oe;tt++)He[tt]=this.i(tt)&Xe.i(tt);return new b(He,this.h&Xe.h)},l.or=function(Xe){for(var Oe=Math.max(this.g.length,Xe.g.length),He=[],tt=0;tt<Oe;tt++)He[tt]=this.i(tt)|Xe.i(tt);return new b(He,this.h|Xe.h)},l.xor=function(Xe){for(var Oe=Math.max(this.g.length,Xe.g.length),He=[],tt=0;tt<Oe;tt++)He[tt]=this.i(tt)^Xe.i(tt);return new b(He,this.h^Xe.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Ve=Ae.Md5=s,b.prototype.add=b.prototype.add,b.prototype.multiply=b.prototype.j,b.prototype.modulo=b.prototype.A,b.prototype.compare=b.prototype.l,b.prototype.toNumber=b.prototype.m,b.prototype.toString=b.prototype.toString,b.prototype.getBits=b.prototype.i,b.fromNumber=K,b.fromString=function ae(Xe,Oe){if(0==Xe.length)throw Error("number format error: empty string");if(2>(Oe=Oe||10)||36<Oe)throw Error("radix out of range: "+Oe);if("-"==Xe.charAt(0))return Gt(ae(Xe.substring(1),Oe));if(0<=Xe.indexOf("-"))throw Error('number format error: interior "-" character');for(var He=K(Math.pow(Oe,8)),tt=ye,st=0;st<Xe.length;st+=8){var gt=Math.min(8,Xe.length-st),je=parseInt(Xe.substring(st,st+gt),Oe);8>gt?(gt=K(Math.pow(Oe,gt)),tt=tt.j(gt).add(K(je))):tt=(tt=tt.j(He)).add(K(je))}return tt},Ce=Ae.Integer=b}).apply(typeof Se<"u"?Se:typeof self<"u"?self:typeof window<"u"?window:{});var ve,it,et,Mt,vt,At,Et,on,Qe,ne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ie={};(function(){var l,e="function"==typeof Object.defineProperties?Object.defineProperty:function(E,U,Q){return E==Array.prototype||E==Object.prototype||(E[U]=Q.value),E},s=function r(E){E=["object"==typeof globalThis&&globalThis,E,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ne&&ne];for(var U=0;U<E.length;++U){var Q=E[U];if(Q&&Q.Math==Math)return Q}throw Error("Cannot find global object")}(this);!function d(E,U){if(U)e:{var Q=s;E=E.split(".");for(var ge=0;ge<E.length-1;ge++){var ut=E[ge];if(!(ut in Q))break e;Q=Q[ut]}(U=U(ge=Q[E=E[E.length-1]]))!=ge&&null!=U&&e(Q,E,{configurable:!0,writable:!0,value:U})}}("Array.prototype.values",function(E){return E||function(){return function y(E,U){E instanceof String&&(E+="");var Q=0,ge=!1,ut={next:function(){if(!ge&&Q<E.length){var St=Q++;return{value:U(St,E[St]),done:!1}}return ge=!0,{done:!0,value:void 0}}};return ut[Symbol.iterator]=function(){return ut},ut}(this,function(U,Q){return Q})}});var b=b||{},R=this||self;function V(E){var U=typeof E;return"array"==(U="object"!=U?U:E?Array.isArray(E)?"array":U:"null")||"object"==U&&"number"==typeof E.length}function K(E){var U=typeof E;return"object"==U&&null!=E||"function"==U}function ae(E,U,Q){return E.call.apply(E.bind,arguments)}function ye(E,U,Q){if(!E)throw Error();if(2<arguments.length){var ge=Array.prototype.slice.call(arguments,2);return function(){var ut=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ut,ge),E.apply(U,ut)}}return function(){return E.apply(U,arguments)}}function Le(E,U,Q){return(Le=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ae:ye).apply(null,arguments)}function lt(E,U){var Q=Array.prototype.slice.call(arguments,1);return function(){var ge=Q.slice();return ge.push.apply(ge,arguments),E.apply(this,ge)}}function Lt(E,U){function Q(){}Q.prototype=U.prototype,E.aa=U.prototype,E.prototype=new Q,E.prototype.constructor=E,E.Qb=function(ge,ut,St){for(var yn=Array(arguments.length-2),Fi=2;Fi<arguments.length;Fi++)yn[Fi-2]=arguments[Fi];return U.prototype[ut].apply(ge,yn)}}function rn(E){const U=E.length;if(0<U){const Q=Array(U);for(let ge=0;ge<U;ge++)Q[ge]=E[ge];return Q}return[]}function Gt(E,U){for(let Q=1;Q<arguments.length;Q++){const ge=arguments[Q];if(V(ge)){const ut=E.length||0,St=ge.length||0;E.length=ut+St;for(let yn=0;yn<St;yn++)E[ut+yn]=ge[yn]}else E.push(ge)}}function Jn(E){return/^[\s\xa0]*$/.test(E)}function $n(){var E=R.navigator;return E&&(E=E.userAgent)?E:""}function wr(E){return wr[" "](E),E}wr[" "]=function(){};var oi=!(-1==$n().indexOf("Gecko")||-1!=$n().toLowerCase().indexOf("webkit")&&-1==$n().indexOf("Edge")||-1!=$n().indexOf("Trident")||-1!=$n().indexOf("MSIE")||-1!=$n().indexOf("Edge"));function Lr(E,U,Q){for(const ge in E)U.call(Q,E[ge],ge,E)}function Oe(E){const U={};for(const Q in E)U[Q]=E[Q];return U}const He="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(E,U){let Q,ge;for(let ut=1;ut<arguments.length;ut++){for(Q in ge=arguments[ut],ge)E[Q]=ge[Q];for(let St=0;St<He.length;St++)Q=He[St],Object.prototype.hasOwnProperty.call(ge,Q)&&(E[Q]=ge[Q])}}function st(E){var U=1;E=E.split(":");const Q=[];for(;0<U&&E.length;)Q.push(E.shift()),U--;return E.length&&Q.push(E.join(":")),Q}function gt(E){R.setTimeout(()=>{throw E},0)}function je(){var E=Jp;let U=null;return E.g&&(U=E.g,E.g=E.g.next,E.g||(E.h=null),U.next=null),U}var wf=new class Ln{constructor(U,Q){this.i=U,this.j=Q,this.h=0,this.g=null}get(){let U;return 0<this.h?(this.h--,U=this.g,this.g=U.next,U.next=null):U=this.i(),U}}(()=>new ea,E=>E.reset());class ea{constructor(){this.next=this.g=this.h=null}set(U,Q){this.h=U,this.g=Q,this.next=null}reset(){this.next=this.g=this.h=null}}let Af,Vo=!1,Jp=new class yl{constructor(){this.h=this.g=null}add(U,Q){const ge=wf.get();ge.set(U,Q),this.h?this.h.next=ge:this.g=ge,this.h=ge}},nu=()=>{const E=R.Promise.resolve(void 0);Af=()=>{E.then(Xp)}};var Xp=()=>{for(var E;E=je();){try{E.h.call(E.g)}catch(Q){gt(Q)}var U=wf;U.j(E),100>U.h&&(U.h++,E.next=U.g,U.g=E)}Vo=!1};function ru(){this.s=this.s,this.C=this.C}function To(E,U){this.type=E,this.g=this.target=U,this.defaultPrevented=!1}ru.prototype.s=!1,ru.prototype.ma=function(){this.s||(this.s=!0,this.N())},ru.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},To.prototype.h=function(){this.defaultPrevented=!0};var Am=function(){if(!R.addEventListener||!Object.defineProperty)return!1;var E=!1,U=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const Q=()=>{};R.addEventListener("test",Q,U),R.removeEventListener("test",Q,U)}catch{}return E}();function ch(E,U){if(To.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var Q=this.type=E.type,ge=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=U,U=E.relatedTarget){if(oi){e:{try{wr(U.nodeName);var ut=!0;break e}catch{}ut=!1}ut||(U=null)}}else"mouseover"==Q?U=E.fromElement:"mouseout"==Q&&(U=E.toElement);this.relatedTarget=U,ge?(this.clientX=void 0!==ge.clientX?ge.clientX:ge.pageX,this.clientY=void 0!==ge.clientY?ge.clientY:ge.pageY,this.screenX=ge.screenX||0,this.screenY=ge.screenY||0):(this.clientX=void 0!==E.clientX?E.clientX:E.pageX,this.clientY=void 0!==E.clientY?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType="string"==typeof E.pointerType?E.pointerType:Jy[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&ch.aa.h.call(this)}}Lt(ch,To);var Jy={2:"touch",3:"pen",4:"mouse"};ch.prototype.h=function(){ch.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var iu="closure_listenable_"+(1e6*Math.random()|0),Dm=0;function V_(E,U,Q,ge,ut){this.listener=E,this.proxy=null,this.src=U,this.type=Q,this.capture=!!ge,this.ha=ut,this.key=++Dm,this.da=this.fa=!1}function Df(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function Sf(E){this.src=E,this.g={},this.h=0}function ta(E,U){var Q=U.type;if(Q in E.g){var St,ge=E.g[Q],ut=Array.prototype.indexOf.call(ge,U,void 0);(St=0<=ut)&&Array.prototype.splice.call(ge,ut,1),St&&(Df(U),0==E.g[Q].length&&(delete E.g[Q],E.h--))}}function su(E,U,Q,ge){for(var ut=0;ut<E.length;++ut){var St=E[ut];if(!St.da&&St.listener==U&&St.capture==!!Q&&St.ha==ge)return ut}return-1}Sf.prototype.add=function(E,U,Q,ge,ut){var St=E.toString();(E=this.g[St])||(E=this.g[St]=[],this.h++);var yn=su(E,U,ge,ut);return-1<yn?(U=E[yn],Q||(U.fa=!1)):((U=new V_(U,this.src,St,!!ge,ut)).fa=Q,E.push(U)),U};var Na="closure_lm_"+(1e6*Math.random()|0),Mf={};function Sm(E,U,Q,ge,ut){if(ge&&ge.once)return lh(E,U,Q,ge,ut);if(Array.isArray(U)){for(var St=0;St<U.length;St++)Sm(E,U[St],Q,ge,ut);return null}return Q=tg(Q),E&&E[iu]?E.K(U,Q,K(ge)?!!ge.capture:!!ge,ut):Mm(E,U,Q,!1,ge,ut)}function Mm(E,U,Q,ge,ut,St){if(!U)throw Error("Invalid event type");var yn=K(ut)?!!ut.capture:!!ut,Fi=Pf(E);if(Fi||(E[Na]=Fi=new Sf(E)),(Q=Fi.add(U,Q,ge,yn,St)).proxy)return Q;if(ge=function U_(){const U=eE;return function E(Q){return U.call(E.src,E.listener,Q)}}(),Q.proxy=ge,ge.src=E,ge.listener=Q,E.addEventListener)Am||(ut=yn),void 0===ut&&(ut=!1),E.addEventListener(U.toString(),ge,ut);else if(E.attachEvent)E.attachEvent(dh(U.toString()),ge);else{if(!E.addListener||!E.removeListener)throw Error("addEventListener and attachEvent are unavailable.");E.addListener(ge)}return Q}function lh(E,U,Q,ge,ut){if(Array.isArray(U)){for(var St=0;St<U.length;St++)lh(E,U[St],Q,ge,ut);return null}return Q=tg(Q),E&&E[iu]?E.L(U,Q,K(ge)?!!ge.capture:!!ge,ut):Mm(E,U,Q,!0,ge,ut)}function Pm(E,U,Q,ge,ut){if(Array.isArray(U))for(var St=0;St<U.length;St++)Pm(E,U[St],Q,ge,ut);else ge=K(ge)?!!ge.capture:!!ge,Q=tg(Q),E&&E[iu]?(E=E.i,(U=String(U).toString())in E.g&&-1<(Q=su(St=E.g[U],Q,ge,ut))&&(Df(St[Q]),Array.prototype.splice.call(St,Q,1),0==St.length&&(delete E.g[U],E.h--))):E&&(E=Pf(E))&&(U=E.g[U.toString()],E=-1,U&&(E=su(U,Q,ge,ut)),(Q=-1<E?U[E]:null)&&uh(Q))}function uh(E){if("number"!=typeof E&&E&&!E.da){var U=E.src;if(U&&U[iu])ta(U.i,E);else{var Q=E.type,ge=E.proxy;U.removeEventListener?U.removeEventListener(Q,ge,E.capture):U.detachEvent?U.detachEvent(dh(Q),ge):U.addListener&&U.removeListener&&U.removeListener(ge),(Q=Pf(U))?(ta(Q,E),0==Q.h&&(Q.src=null,U[Na]=null)):Df(E)}}}function dh(E){return E in Mf?Mf[E]:Mf[E]="on"+E}function eE(E,U){if(E.da)E=!0;else{U=new ch(U,this);var Q=E.listener,ge=E.ha||E.src;E.fa&&uh(E),E=Q.call(ge,U)}return E}function Pf(E){return(E=E[Na])instanceof Sf?E:null}var eg="__closure_events_fn_"+(1e9*Math.random()>>>0);function tg(E){return"function"==typeof E?E:(E[eg]||(E[eg]=function(U){return E.handleEvent(U)}),E[eg])}function io(){ru.call(this),this.i=new Sf(this),this.M=this,this.F=null}function so(E,U){var Q,ge=E.F;if(ge)for(Q=[];ge;ge=ge.F)Q.push(ge);if(E=E.M,ge=U.type||U,"string"==typeof U)U=new To(U,E);else if(U instanceof To)U.target=U.target||E;else{var ut=U;tt(U=new To(ge,E),ut)}if(ut=!0,Q)for(var St=Q.length-1;0<=St;St--){var yn=U.g=Q[St];ut=ma(yn,ge,!0,U)&&ut}if(ut=ma(yn=U.g=E,ge,!0,U)&&ut,ut=ma(yn,ge,!1,U)&&ut,Q)for(St=0;St<Q.length;St++)ut=ma(yn=U.g=Q[St],ge,!1,U)&&ut}function ma(E,U,Q,ge){if(!(U=E.i.g[String(U)]))return!0;U=U.concat();for(var ut=!0,St=0;St<U.length;++St){var yn=U[St];if(yn&&!yn.da&&yn.capture==Q){var Fi=yn.listener,Qs=yn.ha||yn.src;yn.fa&&ta(E.i,yn),ut=!1!==Fi.call(Qs,ge)&&ut}}return ut&&!ge.defaultPrevented}function Rf(E,U,Q){if("function"==typeof E)Q&&(E=Le(E,Q));else{if(!E||"function"!=typeof E.handleEvent)throw Error("Invalid listener argument");E=Le(E.handleEvent,E)}return 2147483647<Number(U)?-1:R.setTimeout(E,U||0)}function Rm(E){E.g=Rf(()=>{E.g=null,E.i&&(E.i=!1,Rm(E))},E.l);const U=E.h;E.h=null,E.m.apply(null,U)}Lt(io,ru),io.prototype[iu]=!0,io.prototype.removeEventListener=function(E,U,Q,ge){Pm(this,E,U,Q,ge)},io.prototype.N=function(){if(io.aa.N.call(this),this.i){var U,E=this.i;for(U in E.g){for(var Q=E.g[U],ge=0;ge<Q.length;ge++)Df(Q[ge]);delete E.g[U],E.h--}}this.F=null},io.prototype.K=function(E,U,Q,ge){return this.i.add(String(E),U,!1,Q,ge)},io.prototype.L=function(E,U,Q,ge){return this.i.add(String(E),U,!0,Q,ge)};class xm extends ru{constructor(U,Q){super(),this.m=U,this.l=Q,this.h=null,this.i=!1,this.g=null}j(U){this.h=arguments,this.g?this.i=!0:Rm(this)}N(){super.N(),this.g&&(R.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hh(E){ru.call(this),this.h=E,this.g={}}Lt(hh,ru);var Om=[];function B_(E){Lr(E.g,function(U,Q){this.g.hasOwnProperty(Q)&&uh(U)},E),E.g={}}hh.prototype.N=function(){hh.aa.N.call(this),B_(this)},hh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fh=R.JSON.stringify,xf=R.JSON.parse,j_=class{stringify(E){return R.JSON.stringify(E,void 0)}parse(E){return R.JSON.parse(E,void 0)}};function ph(){}function ng(){}ph.prototype.h=null;var Ju={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rg(){To.call(this,"d")}function z_(){To.call(this,"c")}Lt(rg,To),Lt(z_,To);var gh={},H_=null;function mh(){return H_=H_||new io}function _a(E){To.call(this,gh.La,E)}function Nc(E){const U=mh();so(U,new _a(U))}function Of(E,U){To.call(this,gh.STAT_EVENT,E),this.stat=U}function Uo(E){const U=mh();so(U,new Of(U,E))}function G_(E,U){To.call(this,gh.Ma,E),this.size=U}function Xu(E,U){if("function"!=typeof E)throw Error("Fn must not be null and must be a function");return R.setTimeout(function(){E()},U)}function vl(){this.g=!0}function _h(E,U,Q,ge){E.info(function(){return"XMLHTTP TEXT ("+U+"): "+function tE(E,U){if(!E.g)return U;if(!U)return null;try{var Q=JSON.parse(U);if(Q)for(E=0;E<Q.length;E++)if(Array.isArray(Q[E])){var ge=Q[E];if(!(2>ge.length)){var ut=ge[1];if(Array.isArray(ut)&&!(1>ut.length)){var St=ut[0];if("noop"!=St&&"stop"!=St&&"close"!=St)for(var yn=1;yn<ut.length;yn++)ut[yn]=""}}}return fh(Q)}catch{return U}}(E,Q)+(ge?" "+ge:"")})}gh.La="serverreachability",Lt(_a,To),gh.STAT_EVENT="statevent",Lt(Of,To),gh.Ma="timingevent",Lt(G_,To),vl.prototype.xa=function(){this.g=!1},vl.prototype.info=function(){};var km,Nm={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},nv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function ig(){}function El(E,U,Q,ge){this.j=E,this.i=U,this.l=Q,this.R=ge||1,this.U=new hh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rv}function rv(){this.i=null,this.g="",this.h=!1}Lt(ig,ph),ig.prototype.g=function(){return new XMLHttpRequest},ig.prototype.i=function(){return{}},km=new ig;var sg={},q_={};function og(E,U,Q){E.L=1,E.v=cu(kc(U)),E.m=Q,E.P=!0,ag(E,null)}function ag(E,U){E.F=Date.now(),yh(E),E.A=kc(E.v);var Q=E.A,ge=E.R;Array.isArray(ge)||(ge=[String(ge)]),ey(Q.i,"t",ge),E.C=0,Q=E.j.J,E.h=new rv,E.g=yv(E.j,Q?U:null,!E.m),0<E.O&&(E.M=new xm(Le(E.Y,E,E.g),E.O)),U=E.U,Q=E.g,ge=E.ca;var ut="readystatechange";Array.isArray(ut)||(ut&&(Om[0]=ut.toString()),ut=Om);for(var St=0;St<ut.length;St++){var yn=Sm(Q,ut[St],ge||U.handleEvent,!1,U.h||U);if(!yn)break;U.g[yn.key]=yn}U=E.H?Oe(E.H):{},E.m?(E.u||(E.u="POST"),U["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,U)):(E.u="GET",E.g.ea(E.A,E.u,null,U)),Nc(),function Xy(E,U,Q,ge,ut,St){E.info(function(){if(E.g)if(St)for(var yn="",Fi=St.split("&"),Qs=0;Qs<Fi.length;Qs++){var ai=Fi[Qs].split("=");if(1<ai.length){var ao=ai[0];ai=ai[1];var wo=ao.split("_");yn=2<=wo.length&&"type"==wo[1]?yn+(ao+"=")+ai+"&":yn+(ao+"=redacted&")}}else yn=null;else yn=St;return"XMLHTTP REQ ("+ge+") [attempt "+ut+"]: "+U+"\n"+Q+"\n"+yn})}(E.i,E.u,E.A,E.l,E.R,E.m)}function cg(E){return!!E.g&&"GET"==E.u&&2!=E.L&&E.j.Ca}function nE(E,U){var Q=E.C,ge=U.indexOf("\n",Q);return-1==ge?q_:(Q=Number(U.substring(Q,ge)),isNaN(Q)?sg:(ge+=1)+Q>U.length?q_:(U=U.slice(ge,ge+Q),E.C=ge+Q,U))}function yh(E){E.S=Date.now()+E.I,W_(E,E.I)}function W_(E,U){if(null!=E.B)throw Error("WatchDog timer not null");E.B=Xu(Le(E.ba,E),U)}function lg(E){E.B&&(R.clearTimeout(E.B),E.B=null)}function Nf(E){0==E.j.G||E.J||mv(E.j,E)}function vh(E){lg(E);var U=E.M;U&&"function"==typeof U.ma&&U.ma(),E.M=null,B_(E.U),E.g&&(U=E.g,E.g=null,U.abort(),U.ma())}function Z_(E,U){try{var Q=E.j;if(0!=Q.G&&(Q.g==E||Y_(Q.h,E)))if(!E.K&&Y_(Q.h,E)&&3==Q.G){try{var ge=Q.Da.g.parse(U)}catch{ge=null}if(Array.isArray(ge)&&3==ge.length){var ut=ge;if(0==ut[0]){e:if(!Q.u){if(Q.g){if(!(Q.g.F+3e3<E.F))break e;zm(Q),ry(Q)}jm(Q),Uo(18)}}else Q.za=ut[1],0<Q.za-Q.T&&37500>ut[2]&&Q.F&&0==Q.v&&!Q.C&&(Q.C=Xu(Le(Q.Za,Q),6e3));if(1>=ug(Q.h)&&Q.ca){try{Q.ca()}catch{}Q.ca=void 0}}else id(Q,11)}else if((E.K||Q.g==E)&&zm(Q),!Jn(U))for(ut=Q.Da.g.parse(U),U=0;U<ut.length;U++){let ai=ut[U];if(Q.T=ai[0],ai=ai[1],2==Q.G)if("c"==ai[0]){Q.K=ai[1],Q.ia=ai[2];const ao=ai[3];null!=ao&&(Q.la=ao,Q.j.info("VER="+Q.la));const wo=ai[4];null!=wo&&(Q.Aa=wo,Q.j.info("SVER="+Q.Aa));const Uf=ai[5];null!=Uf&&"number"==typeof Uf&&0<Uf&&(Q.L=ge=1.5*Uf,Q.j.info("backChannelRequestTimeoutMs_="+ge)),ge=Q;const ec=E.g;if(ec){const yg=ec.g?ec.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yg){var St=ge.h;St.g||-1==yg.indexOf("spdy")&&-1==yg.indexOf("quic")&&-1==yg.indexOf("h2")||(St.j=St.l,St.g=new Set,St.h&&(Q_(St,St.h),St.h=null))}if(ge.D){const qm=ec.g?ec.g.getResponseHeader("X-HTTP-Session-Id"):null;qm&&(ge.ya=qm,Ai(ge.I,ge.D,qm))}}Q.G=3,Q.l&&Q.l.ua(),Q.ba&&(Q.R=Date.now()-E.F,Q.j.info("Handshake RTT: "+Q.R+"ms"));var yn=E;if((ge=Q).qa=Gm(ge,ge.J?ge.ia:null,ge.W),yn.K){Fm(ge.h,yn);var Fi=yn,Qs=ge.L;Qs&&(Fi.I=Qs),Fi.B&&(lg(Fi),yh(Fi)),ge.g=yn}else oy(ge);0<Q.i.length&&mg(Q)}else"stop"!=ai[0]&&"close"!=ai[0]||id(Q,7);else 3==Q.G&&("stop"==ai[0]||"close"==ai[0]?"stop"==ai[0]?id(Q,7):Ch(Q):"noop"!=ai[0]&&Q.l&&Q.l.ta(ai),Q.v=0)}Nc()}catch{}}function K_(E){this.l=E||10,E=R.PerformanceNavigationTiming?0<(E=R.performance.getEntriesByType("navigation")).length&&("hq"==E[0].nextHopProtocol||"h2"==E[0].nextHopProtocol):!!(R.chrome&&R.chrome.loadTimes&&R.chrome.loadTimes()&&R.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rE(E){return!!E.h||!!E.g&&E.g.size>=E.j}function ug(E){return E.h?1:E.g?E.g.size:0}function Y_(E,U){return E.h?E.h==U:!!E.g&&E.g.has(U)}function Q_(E,U){E.g?E.g.add(U):E.h=U}function Fm(E,U){E.h&&E.h==U?E.h=null:E.g&&E.g.has(U)&&E.g.delete(U)}function sv(E){if(null!=E.h)return E.i.concat(E.h.D);if(null!=E.g&&0!==E.g.size){let U=E.i;for(const Q of E.g.values())U=U.concat(Q.D);return U}return rn(E.i)}function Co(E,U){if(E.forEach&&"function"==typeof E.forEach)E.forEach(U,void 0);else if(V(E)||"string"==typeof E)Array.prototype.forEach.call(E,U,void 0);else for(var Q=function dg(E){if(E.na&&"function"==typeof E.na)return E.na();if(!E.V||"function"!=typeof E.V){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(V(E)||"string"==typeof E){var U=[];E=E.length;for(var Q=0;Q<E;Q++)U.push(Q);return U}U=[],Q=0;for(const ge in E)U[Q++]=ge;return U}}}(E),ge=function Il(E){if(E.V&&"function"==typeof E.V)return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if("string"==typeof E)return E.split("");if(V(E)){for(var U=[],Q=E.length,ge=0;ge<Q;ge++)U.push(E[ge]);return U}for(ge in U=[],Q=0,E)U[Q++]=E[ge];return U}(E),ut=ge.length,St=0;St<ut;St++)U.call(void 0,ge[St],Q&&Q[St],E)}El.prototype.ca=function(E){E=E.target;const U=this.M;U&&3==uu(E)?U.j():this.Y(E)},El.prototype.Y=function(E){try{if(E==this.g)e:{const wo=uu(this.g);var U=this.g.Ba();if(this.g.Z(),!(3>wo)&&(3!=wo||this.g&&(this.h.h||this.g.oa()||pv(this.g)))){this.J||4!=wo||7==U||Nc(),lg(this);var Q=this.g.Z();this.X=Q;t:if(cg(this)){var ge=pv(this.g);E="";var ut=ge.length,St=4==uu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){vh(this),Nf(this);var yn="";break t}this.h.i=new R.TextDecoder}for(U=0;U<ut;U++)this.h.h=!0,E+=this.h.i.decode(ge[U],{stream:!(St&&U==ut-1)});ge.length=0,this.h.g+=E,this.C=0,yn=this.h.g}else yn=this.g.oa();if(this.o=200==Q,function ev(E,U,Q,ge,ut,St,yn){E.info(function(){return"XMLHTTP RESP ("+ge+") [ attempt "+ut+"]: "+U+"\n"+Q+"\n"+St+" "+yn})}(this.i,this.u,this.A,this.l,this.R,wo,Q),this.o){if(this.T&&!this.K){t:{if(this.g){var Fi,Qs=this.g;if((Fi=Qs.g?Qs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jn(Fi)){var ai=Fi;break t}}ai=null}if(!(Q=ai)){this.o=!1,this.s=3,Uo(12),vh(this),Nf(this);break e}_h(this.i,this.l,Q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Z_(this,Q)}if(this.P){let ec;for(Q=!0;!this.J&&this.C<yn.length;){if(ec=nE(this,yn),ec==q_){4==wo&&(this.s=4,Uo(14),Q=!1),_h(this.i,this.l,null,"[Incomplete Response]");break}if(ec==sg){this.s=4,Uo(15),_h(this.i,this.l,yn,"[Invalid Chunk]"),Q=!1;break}_h(this.i,this.l,ec,null),Z_(this,ec)}if(cg(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=wo||0!=yn.length||this.h.h||(this.s=1,Uo(16),Q=!1),this.o=this.o&&Q,Q){if(0<yn.length&&!this.W){this.W=!0;var ao=this.j;ao.g==this&&ao.ba&&!ao.M&&(ao.j.info("Great, no buffering proxy detected. Bytes received: "+yn.length),$m(ao),ao.M=!0,Uo(11))}}else _h(this.i,this.l,yn,"[Invalid Chunked Response]"),vh(this),Nf(this)}else _h(this.i,this.l,yn,null),Z_(this,yn);4==wo&&vh(this),this.o&&!this.J&&(4==wo?mv(this.j,this):(this.o=!1,yh(this)))}else(function gv(E){const U={};E=(E.g&&2<=uu(E)&&E.g.getAllResponseHeaders()||"").split("\r\n");for(let ge=0;ge<E.length;ge++){if(Jn(E[ge]))continue;var Q=st(E[ge]);const ut=Q[0];if("string"!=typeof(Q=Q[1]))continue;Q=Q.trim();const St=U[ut]||[];U[ut]=St,St.push(Q)}!function Xe(E,U){for(const Q in E)U.call(void 0,E[Q],Q,E)}(U,function(ge){return ge.join(", ")})})(this.g),400==Q&&0<yn.indexOf("Unknown SID")?(this.s=3,Uo(12)):(this.s=0,Uo(13)),vh(this),Nf(this)}}}catch{}},El.prototype.cancel=function(){this.J=!0,vh(this)},El.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(function tv(E,U){E.info(function(){return"TIMEOUT: "+U})}(this.i,this.A),2!=this.L&&(Nc(),Uo(17)),vh(this),this.s=2,Nf(this)):W_(this,this.S-E)},K_.prototype.cancel=function(){if(this.i=sv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const E of this.g.values())E.cancel();this.g.clear()}};var ed=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oo(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof oo){this.h=E.h,ou(this,E.j),this.o=E.o,this.g=E.g,au(this,E.s),this.l=E.l;var U=E.i,Q=new Ff;Q.i=U.i,U.g&&(Q.g=new Map(U.g),Q.h=U.h),Eh(this,Q),this.m=E.m}else E&&(U=String(E).match(ed))?(this.h=!1,ou(this,U[1]||"",!0),this.o=bl(U[2]||""),this.g=bl(U[3]||"",!0),au(this,U[4]),this.l=bl(U[5]||"",!0),Eh(this,U[6]||"",!0),this.m=bl(U[7]||"")):(this.h=!1,this.i=new Ff(null,this.h))}function kc(E){return new oo(E)}function ou(E,U,Q){E.j=Q?bl(U,!0):U,E.j&&(E.j=E.j.replace(/:$/,""))}function au(E,U){if(U){if(U=Number(U),isNaN(U)||0>U)throw Error("Bad port number "+U);E.s=U}else E.s=null}function Eh(E,U,Q){U instanceof Ff?(E.i=U,function iE(E,U){U&&!E.j&&(lu(E),E.i=null,E.g.forEach(function(Q,ge){var ut=ge.toLowerCase();ge!=ut&&(J_(this,ge),ey(this,ut,Q))},E)),E.j=U}(E.i,E.h)):(Q||(U=Tl(U,cv)),E.i=new Ff(U,E.h))}function Ai(E,U,Q){E.i.set(U,Q)}function cu(E){return Ai(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function bl(E,U){return E?U?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function Tl(E,U,Q){return"string"==typeof E?(E=encodeURI(E).replace(U,kf),Q&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function kf(E){return"%"+((E=E.charCodeAt(0))>>4&15).toString(16)+(15&E).toString(16)}oo.prototype.toString=function(){var E=[],U=this.j;U&&E.push(Tl(U,Ih,!0),":");var Q=this.g;return(Q||"file"==U)&&(E.push("//"),(U=this.o)&&E.push(Tl(U,Ih,!0),"@"),E.push(encodeURIComponent(String(Q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(Q=this.s)&&E.push(":",String(Q))),(Q=this.l)&&(this.g&&"/"!=Q.charAt(0)&&E.push("/"),E.push(Tl(Q,"/"==Q.charAt(0)?av:ov,!0))),(Q=this.i.toString())&&E.push("?",Q),(Q=this.m)&&E.push("#",Tl(Q,lv)),E.join("")};var E,Ih=/[#\/\?@]/g,ov=/[#\?:]/g,av=/[#\?]/g,cv=/[#\?@]/g,lv=/#/g;function Ff(E,U){this.h=this.g=null,this.i=E||null,this.j=!!U}function lu(E){E.g||(E.g=new Map,E.h=0,E.i&&function Lm(E,U){if(E){E=E.split("&");for(var Q=0;Q<E.length;Q++){var ge=E[Q].indexOf("="),ut=null;if(0<=ge){var St=E[Q].substring(0,ge);ut=E[Q].substring(ge+1)}else St=E[Q];U(St,ut?decodeURIComponent(ut.replace(/\+/g," ")):"")}}}(E.i,function(U,Q){E.add(decodeURIComponent(U.replace(/\+/g," ")),Q)}))}function J_(E,U){lu(E),U=td(E,U),E.g.has(U)&&(E.i=null,E.h-=E.g.get(U).length,E.g.delete(U))}function X_(E,U){return lu(E),U=td(E,U),E.g.has(U)}function ey(E,U,Q){J_(E,U),0<Q.length&&(E.i=null,E.g.set(td(E,U),rn(Q)),E.h+=Q.length)}function td(E,U){return U=String(U),E.j&&(U=U.toLowerCase()),U}function nd(E,U,Q,ge,ut){try{ut&&(ut.onload=null,ut.onerror=null,ut.onabort=null,ut.ontimeout=null),ge(Q)}catch{}}function sE(){this.g=new j_}function FE(E,U,Q){const ge=Q||"";try{Co(E,function(ut,St){let yn=ut;K(ut)&&(yn=fh(ut)),U.push(ge+St+"="+encodeURIComponent(yn))})}catch(ut){throw U.push(ge+"type="+encodeURIComponent("_badmap")),ut}}function hg(E){this.l=E.Ub||null,this.j=E.eb||!1}function ty(E,U){io.call(this),this.D=E,this.o=U,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function uv(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}function fg(E){E.readyState=4,E.l=null,E.j=null,E.v=null,pg(E)}function pg(E){E.onreadystatechange&&E.onreadystatechange.call(E)}function Vm(E){let U="";return Lr(E,function(Q,ge){U+=ge,U+=":",U+=Q,U+="\r\n"}),U}function bh(E,U,Q){e:{for(ge in Q){var ge=!1;break e}ge=!0}ge||(Q=Vm(Q),"string"==typeof E?null!=Q&&encodeURIComponent(String(Q)):Ai(E,U,Q))}function os(E){io.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(l=Ff.prototype).add=function(E,U){lu(this),this.i=null,E=td(this,E);var Q=this.g.get(E);return Q||this.g.set(E,Q=[]),Q.push(U),this.h+=1,this},l.forEach=function(E,U){lu(this),this.g.forEach(function(Q,ge){Q.forEach(function(ut){E.call(U,ut,ge,this)},this)},this)},l.na=function(){lu(this);const E=Array.from(this.g.values()),U=Array.from(this.g.keys()),Q=[];for(let ge=0;ge<U.length;ge++){const ut=E[ge];for(let St=0;St<ut.length;St++)Q.push(U[ge])}return Q},l.V=function(E){lu(this);let U=[];if("string"==typeof E)X_(this,E)&&(U=U.concat(this.g.get(td(this,E))));else{E=Array.from(this.g.values());for(let Q=0;Q<E.length;Q++)U=U.concat(E[Q])}return U},l.set=function(E,U){return lu(this),this.i=null,X_(this,E=td(this,E))&&(this.h-=this.g.get(E).length),this.g.set(E,[U]),this.h+=1,this},l.get=function(E,U){return E&&0<(E=this.V(E)).length?String(E[0]):U},l.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],U=Array.from(this.g.keys());for(var Q=0;Q<U.length;Q++){var ge=U[Q];const St=encodeURIComponent(String(ge)),yn=this.V(ge);for(ge=0;ge<yn.length;ge++){var ut=St;""!==yn[ge]&&(ut+="="+encodeURIComponent(String(yn[ge]))),E.push(ut)}}return this.i=E.join("&")},Lt(hg,ph),hg.prototype.g=function(){return new ty(this.l,this.j)},hg.prototype.i=(E={},function(){return E}),Lt(ty,io),(l=ty.prototype).open=function(E,U){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=U,this.readyState=1,pg(this)},l.send=function(E){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const U={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(U.body=E),(this.D||R).fetch(new Request(this.A,U)).then(this.Sa.bind(this),this.ga.bind(this))},l.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fg(this)),this.readyState=0},l.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,pg(this)),this.g&&(this.readyState=3,pg(this),this.g)))if("arraybuffer"===this.responseType)E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof R.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;uv(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))},l.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var U=E.value?E.value:new Uint8Array(0);(U=this.v.decode(U,{stream:!E.done}))&&(this.response=this.responseText+=U)}E.done?fg(this):pg(this),3==this.readyState&&uv(this)}},l.Ra=function(E){this.g&&(this.response=this.responseText=E,fg(this))},l.Qa=function(E){this.g&&(this.response=E,fg(this))},l.ga=function(){this.g&&fg(this)},l.setRequestHeader=function(E,U){this.u.append(E,U)},l.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],U=this.h.entries();for(var Q=U.next();!Q.done;)E.push((Q=Q.value)[0]+": "+Q[1]),Q=U.next();return E.join("\r\n")},Object.defineProperty(ty.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(E){this.m=E?"include":"same-origin"}}),Lt(os,io);var Um=/^https?$/i,dv=["POST","PUT"];function Lf(E,U){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=U,E.m=5,ny(E),rd(E)}function ny(E){E.A||(E.A=!0,so(E,"complete"),so(E,"error"))}function hv(E){if(E.h&&typeof b<"u"&&(!E.v[1]||4!=uu(E)||2!=E.Z()))if(E.u&&4==uu(E))Rf(E.Ea,0,E);else if(so(E,"readystatechange"),4==uu(E)){E.h=!1;try{const yn=E.Z();e:switch(yn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var U=!0;break e;default:U=!1}var Q;if(!(Q=U)){var ge;if(ge=0===yn){var ut=String(E.D).match(ed)[1]||null;!ut&&R.self&&R.self.location&&(ut=R.self.location.protocol.slice(0,-1)),ge=!Um.test(ut?ut.toLowerCase():"")}Q=ge}if(Q)so(E,"complete"),so(E,"success");else{E.m=6;try{var St=2<uu(E)?E.g.statusText:""}catch{St=""}E.l=St+" ["+E.Z()+"]",ny(E)}}finally{rd(E)}}}function rd(E,U){if(E.g){fv(E);const Q=E.g,ge=E.v[0]?()=>{}:null;E.g=null,E.v=null,U||so(E,"ready");try{Q.onreadystatechange=ge}catch{}}}function fv(E){E.I&&(R.clearTimeout(E.I),E.I=null)}function uu(E){return E.g?E.g.readyState:0}function pv(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function Cl(E,U,Q){return Q&&Q.internalChannelParams&&Q.internalChannelParams[E]||U}function Th(E){this.Aa=0,this.i=[],this.j=new vl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cl("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cl("baseRetryDelayMs",5e3,E),this.cb=Cl("retryDelaySeedMs",1e4,E),this.Wa=Cl("forwardChannelMaxRetries",2,E),this.wa=Cl("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new K_(E&&E.concurrentRequestLimit),this.Da=new sE,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Ch(E){if(gg(E),3==E.G){var U=E.U++,Q=kc(E.I);if(Ai(Q,"SID",E.K),Ai(Q,"RID",U),Ai(Q,"TYPE","terminate"),wh(E,Q),(U=new El(E,E.j,U)).L=2,U.v=cu(kc(Q)),Q=!1,R.navigator&&R.navigator.sendBeacon)try{Q=R.navigator.sendBeacon(U.v.toString(),"")}catch{}!Q&&R.Image&&((new Image).src=U.v,Q=!0),Q||(U.g=yv(U.j,null),U.g.ea(U.v)),U.F=Date.now(),yh(U)}Hm(E)}function ry(E){E.g&&($m(E),E.g.cancel(),E.g=null)}function gg(E){ry(E),E.u&&(R.clearTimeout(E.u),E.u=null),zm(E),E.h.cancel(),E.s&&("number"==typeof E.s&&R.clearTimeout(E.s),E.s=null)}function mg(E){if(!rE(E.h)&&!E.s){E.s=!0;var U=E.Ga;Af||nu(),Vo||(Af(),Vo=!0),Jp.add(U,E),E.B=0}}function iy(E,U){var Q;Q=U?U.l:E.U++;const ge=kc(E.I);Ai(ge,"SID",E.K),Ai(ge,"RID",Q),Ai(ge,"AID",E.T),wh(E,ge),E.m&&E.o&&bh(ge,E.m,E.o),Q=new El(E,E.j,Q,E.B+1),null===E.m&&(Q.H=E.o),U&&(E.i=U.D.concat(E.i)),U=sy(E,Q,1e3),Q.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),Q_(E.h,Q),og(Q,ge,U)}function wh(E,U){E.H&&Lr(E.H,function(Q,ge){Ai(U,ge,Q)}),E.l&&Co({},function(Q,ge){Ai(U,ge,Q)})}function sy(E,U,Q){Q=Math.min(E.i.length,Q);var ge=E.l?Le(E.l.Na,E.l,E):null;e:{var ut=E.i;let St=-1;for(;;){const yn=["count="+Q];-1==St?0<Q?(St=ut[0].g,yn.push("ofs="+St)):St=0:yn.push("ofs="+St);let Fi=!0;for(let Qs=0;Qs<Q;Qs++){let ai=ut[Qs].g;const ao=ut[Qs].map;if(ai-=St,0>ai)St=Math.max(0,ut[Qs].g-100),Fi=!1;else try{FE(ao,yn,"req"+ai+"_")}catch{ge&&ge(ao)}}if(Fi){ge=yn.join("&");break e}}}return E=E.i.splice(0,Q),U.D=E,ge}function oy(E){if(!E.g&&!E.u){E.Y=1;var U=E.Fa;Af||nu(),Vo||(Af(),Vo=!0),Jp.add(U,E),E.v=0}}function jm(E){return!(E.g||E.u||3<=E.v||(E.Y++,E.u=Xu(Le(E.Fa,E),_v(E,E.v)),E.v++,0))}function $m(E){null!=E.A&&(R.clearTimeout(E.A),E.A=null)}function ay(E){E.g=new El(E,E.j,"rpc",E.Y),null===E.m&&(E.g.H=E.o),E.g.O=0;var U=kc(E.qa);Ai(U,"RID","rpc"),Ai(U,"SID",E.K),Ai(U,"AID",E.T),Ai(U,"CI",E.F?"0":"1"),!E.F&&E.ja&&Ai(U,"TO",E.ja),Ai(U,"TYPE","xmlhttp"),wh(E,U),E.m&&E.o&&bh(U,E.m,E.o),E.L&&(E.g.I=E.L);var Q=E.g;E=E.ia,Q.L=1,Q.v=cu(kc(U)),Q.m=null,Q.P=!0,ag(Q,E)}function zm(E){null!=E.C&&(R.clearTimeout(E.C),E.C=null)}function mv(E,U){var Q=null;if(E.g==U){zm(E),$m(E),E.g=null;var ge=2}else{if(!Y_(E.h,U))return;Q=U.D,Fm(E.h,U),ge=1}if(0!=E.G)if(U.o)if(1==ge){Q=U.m?U.m.length:0,U=Date.now()-U.F;var ut=E.B;so(ge=mh(),new G_(ge,Q)),mg(E)}else oy(E);else if(3==(ut=U.s)||0==ut&&0<U.X||!(1==ge&&function Bm(E,U){return!(ug(E.h)>=E.h.j-(E.s?1:0)||(E.s?(E.i=U.D.concat(E.i),0):1==E.G||2==E.G||E.B>=(E.Va?0:E.Wa)||(E.s=Xu(Le(E.Ga,E,U),_v(E,E.B)),E.B++,0)))}(E,U)||2==ge&&jm(E)))switch(Q&&0<Q.length&&(U=E.h,U.i=U.i.concat(Q)),ut){case 1:id(E,5);break;case 4:id(E,10);break;case 3:id(E,6);break;default:id(E,2)}}function _v(E,U){let Q=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(Q*=2),Q*U}function id(E,U){if(E.j.info("Error code "+U),2==U){var Q=Le(E.fb,E),ge=E.Xa;const ut=!ge;ge=new oo(ge||"//www.google.com/images/cleardot.gif"),R.location&&"http"==R.location.protocol||ou(ge,"https"),cu(ge),ut?function NE(E,U){const Q=new vl;if(R.Image){const ge=new Image;ge.onload=lt(nd,Q,"TestLoadImage: loaded",!0,U,ge),ge.onerror=lt(nd,Q,"TestLoadImage: error",!1,U,ge),ge.onabort=lt(nd,Q,"TestLoadImage: abort",!1,U,ge),ge.ontimeout=lt(nd,Q,"TestLoadImage: timeout",!1,U,ge),R.setTimeout(function(){ge.ontimeout&&ge.ontimeout()},1e4),ge.src=E}else U(!1)}(ge.toString(),Q):function kE(E,U){new vl;const ge=new AbortController,ut=setTimeout(()=>{ge.abort(),nd(0,0,!1,U)},1e4);fetch(E,{signal:ge.signal}).then(St=>{clearTimeout(ut),nd(0,0,!!St.ok,U)}).catch(()=>{clearTimeout(ut),nd(0,0,!1,U)})}(ge.toString(),Q)}else Uo(2);E.G=0,E.l&&E.l.sa(U),Hm(E),gg(E)}function Hm(E){if(E.G=0,E.ka=[],E.l){const U=sv(E.h);(0!=U.length||0!=E.i.length)&&(Gt(E.ka,U),Gt(E.ka,E.i),E.h.i.length=0,rn(E.i),E.i.length=0),E.l.ra()}}function Gm(E,U,Q){var ge=Q instanceof oo?kc(Q):new oo(Q);if(""!=ge.g)U&&(ge.g=U+"."+ge.g),au(ge,ge.s);else{var ut=R.location;ge=ut.protocol,U=U?U+"."+ut.hostname:ut.hostname,ut=+ut.port;var St=new oo(null);ge&&ou(St,ge),U&&(St.g=U),ut&&au(St,ut),Q&&(St.l=Q),ge=St}return U=E.ya,(Q=E.D)&&U&&Ai(ge,Q,U),Ai(ge,"VER",E.la),wh(E,ge),ge}function yv(E,U,Q){if(U&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return(U=new os(E.Ca&&!E.pa?new hg({eb:Q}):E.pa)).Ha(E.J),U}function _g(){}function Ah(){}function na(E,U){io.call(this),this.g=new Th(U),this.l=E,this.h=U&&U.messageUrlParams||null,E=U&&U.messageHeaders||null,U&&U.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=U&&U.initMessageHeaders||null,U&&U.messageContentType&&(E?E["X-WebChannel-Content-Type"]=U.messageContentType:E={"X-WebChannel-Content-Type":U.messageContentType}),U&&U.va&&(E?E["X-WebChannel-Client-Profile"]=U.va:E={"X-WebChannel-Client-Profile":U.va}),this.g.S=E,(E=U&&U.Sb)&&!Jn(E)&&(this.g.m=E),this.v=U&&U.supportsCrossDomainXhr||!1,this.u=U&&U.sendRawJson||!1,(U=U&&U.httpSessionIdParam)&&!Jn(U)&&(this.g.D=U,null!==(E=this.h)&&U in E&&U in(E=this.h)&&delete E[U]),this.j=new Vf(this)}function cy(E){rg.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var U=E.__sm__;if(U){e:{for(const Q in U){E=Q;break e}E=void 0}(this.i=E)&&(E=this.i,U=null!==U&&E in U?U[E]:void 0),this.data=U}else this.data=E}function vv(){z_.call(this),this.status=1}function Vf(E){this.g=E}(l=os.prototype).Ha=function(E){this.J=E},l.ea=function(E,U,Q,ge){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);U=U?U.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():km.g(),this.v=function $_(E){return E.h||(E.h=E.i())}(this.o?this.o:km),this.g.onreadystatechange=Le(this.Ea,this);try{this.B=!0,this.g.open(U,String(E),!0),this.B=!1}catch(St){return void Lf(this,St)}if(E=Q||"",Q=new Map(this.headers),ge)if(Object.getPrototypeOf(ge)===Object.prototype)for(var ut in ge)Q.set(ut,ge[ut]);else{if("function"!=typeof ge.keys||"function"!=typeof ge.get)throw Error("Unknown input type for opt_headers: "+String(ge));for(const St of ge.keys())Q.set(St,ge.get(St))}ge=Array.from(Q.keys()).find(St=>"content-type"==St.toLowerCase()),ut=R.FormData&&E instanceof R.FormData,!(0<=Array.prototype.indexOf.call(dv,U,void 0))||ge||ut||Q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[St,yn]of Q)this.g.setRequestHeader(St,yn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fv(this),this.u=!0,this.g.send(E),this.u=!1}catch(St){Lf(this,St)}},l.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,so(this,"complete"),so(this,"abort"),rd(this))},l.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rd(this,!0)),os.aa.N.call(this)},l.Ea=function(){this.s||(this.B||this.u||this.j?hv(this):this.bb())},l.bb=function(){hv(this)},l.isActive=function(){return!!this.g},l.Z=function(){try{return 2<uu(this)?this.g.status:-1}catch{return-1}},l.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},l.Oa=function(E){if(this.g){var U=this.g.responseText;return E&&0==U.indexOf(E)&&(U=U.substring(E.length)),xf(U)}},l.Ba=function(){return this.m},l.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(l=Th.prototype).la=8,l.G=1,l.connect=function(E,U,Q,ge){Uo(0),this.W=E,this.H=U||{},Q&&void 0!==ge&&(this.H.OSID=Q,this.H.OAID=ge),this.F=this.X,this.I=Gm(this,null,this.W),mg(this)},l.Ga=function(E){if(this.s)if(this.s=null,1==this.G){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const ut=new El(this,this.j,E);let St=this.o;if(this.S&&(St?(St=Oe(St),tt(St,this.S)):St=this.S),null!==this.m||this.O||(ut.H=St,St=null),this.P)e:{for(var U=0,Q=0;Q<this.i.length;Q++){var ge=this.i[Q];if(void 0===(ge="__data__"in ge.map&&"string"==typeof(ge=ge.map.__data__)?ge.length:void 0))break;if(4096<(U+=ge)){U=Q;break e}if(4096===U||Q===this.i.length-1){U=Q+1;break e}}U=1e3}else U=1e3;U=sy(this,ut,U),Ai(Q=kc(this.I),"RID",E),Ai(Q,"CVER",22),this.D&&Ai(Q,"X-HTTP-Session-Id",this.D),wh(this,Q),St&&(this.O?U="headers="+encodeURIComponent(String(Vm(St)))+"&"+U:this.m&&bh(Q,this.m,St)),Q_(this.h,ut),this.Ua&&Ai(Q,"TYPE","init"),this.P?(Ai(Q,"$req",U),Ai(Q,"SID","null"),ut.T=!0,og(ut,Q,null)):og(ut,Q,U),this.G=2}}else 3==this.G&&(E?iy(this,E):0==this.i.length||rE(this.h)||iy(this))},l.Fa=function(){if(this.u=null,ay(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=Xu(Le(this.ab,this),E)}},l.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Uo(10),ry(this),ay(this))},l.Za=function(){null!=this.C&&(this.C=null,ry(this),jm(this),Uo(19))},l.fb=function(E){E?(this.j.info("Successfully pinged google.com"),Uo(2)):(this.j.info("Failed to ping google.com"),Uo(1))},l.isActive=function(){return!!this.l&&this.l.isActive(this)},(l=_g.prototype).ua=function(){},l.ta=function(){},l.sa=function(){},l.ra=function(){},l.isActive=function(){return!0},l.Na=function(){},Ah.prototype.g=function(E,U){return new na(E,U)},Lt(na,io),na.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},na.prototype.close=function(){Ch(this.g)},na.prototype.o=function(E){var U=this.g;if("string"==typeof E){var Q={};Q.__data__=E,E=Q}else this.u&&((Q={}).__data__=fh(E),E=Q);U.i.push(new class{constructor(E,U){this.g=E,this.map=U}}(U.Ya++,E)),3==U.G&&mg(U)},na.prototype.N=function(){this.g.l=null,delete this.j,Ch(this.g),delete this.g,na.aa.N.call(this)},Lt(cy,rg),Lt(vv,z_),Lt(Vf,_g),Vf.prototype.ua=function(){so(this.g,"a")},Vf.prototype.ta=function(E){so(this.g,new cy(E))},Vf.prototype.sa=function(E){so(this.g,new vv)},Vf.prototype.ra=function(){so(this.g,"b")},Ah.prototype.createWebChannel=Ah.prototype.g,na.prototype.send=na.prototype.o,na.prototype.open=na.prototype.m,na.prototype.close=na.prototype.close,Qe=ie.createWebChannelTransport=function(){return new Ah},on=ie.getStatEventTarget=function(){return mh()},Et=ie.Event=gh,At=ie.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nm.NO_ERROR=0,Nm.TIMEOUT=8,Nm.HTTP_ERROR=6,vt=ie.ErrorCode=Nm,nv.COMPLETE="complete",Mt=ie.EventType=nv,ng.EventType=Ju,Ju.OPEN="a",Ju.CLOSE="b",Ju.ERROR="c",Ju.MESSAGE="d",io.prototype.listen=io.prototype.K,et=ie.WebChannel=ng,it=ie.FetchXmlHttpFactory=hg,os.prototype.listenOnce=os.prototype.L,os.prototype.getLastError=os.prototype.Ka,os.prototype.getLastErrorCode=os.prototype.Ba,os.prototype.getStatus=os.prototype.Z,os.prototype.getResponseJson=os.prototype.Oa,os.prototype.getResponseText=os.prototype.oa,os.prototype.send=os.prototype.ea,os.prototype.setWithCredentials=os.prototype.Ha,ve=ie.XhrIo=os}).apply(typeof ne<"u"?ne:typeof self<"u"?self:typeof window<"u"?window:{});const ze="@firebase/firestore";class ct{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ct.UNAUTHENTICATED=new ct(null),ct.GOOGLE_CREDENTIALS=new ct("google-credentials-uid"),ct.FIRST_PARTY=new ct("first-party-uid"),ct.MOCK_USER=new ct("mock-user");let Ge="10.12.1";const ot=new Ie.Yd("@firebase/firestore");function Dt(){return ot.logLevel}function Je(l){ot.setLogLevel(l)}function me(l,...e){if(ot.logLevel<=Ie.in.DEBUG){const r=e.map(jn);ot.debug(`Firestore (${Ge}): ${l}`,...r)}}function Ct(l,...e){if(ot.logLevel<=Ie.in.ERROR){const r=e.map(jn);ot.error(`Firestore (${Ge}): ${l}`,...r)}}function $t(l,...e){if(ot.logLevel<=Ie.in.WARN){const r=e.map(jn);ot.warn(`Firestore (${Ge}): ${l}`,...r)}}function jn(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch{return l}}function Tt(l="Unexpected state"){const e=`FIRESTORE (${Ge}) INTERNAL ASSERTION FAILED: `+l;throw Ct(e),new Error(e)}function Ft(l,e){l||Tt()}function Jt(l,e){l||Tt()}function dt(l,e){return l}const Ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Ee.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ue{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class nt{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rt{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(ct.UNAUTHENTICATED))}shutdown(){}}class _t{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class wt{constructor(e){this.t=e,this.currentUser=ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;let d=this.i;const y=K=>this.i!==d?(d=this.i,r(K)):Promise.resolve();let b=new Ue;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new Ue,e.enqueueRetryable(()=>y(this.currentUser))};const R=()=>{const K=b;e.enqueueRetryable((0,g.Z)(function*(){yield K.promise,yield y(s.currentUser)}))},V=K=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=K,this.auth.addAuthTokenListener(this.o),R()};this.t.onInit(K=>V(K)),setTimeout(()=>{if(!this.auth){const K=this.t.getImmediate({optional:!0});K?V(K):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new Ue)}},0),R()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft("string"==typeof s.accessToken),new nt(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ft(null===e||"string"==typeof e),new ct(e)}}class Xt{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=ct.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Kt{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new Xt(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const s=y=>{null!=y.error&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${y.error.message}`);const b=y.token!==this.R;return this.R=y.token,me("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?r(y.token):Promise.resolve()};this.o=y=>{e.enqueueRetryable(()=>s(y))};const d=y=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=y,this.appCheck.addTokenListener(this.o)};this.A.onInit(y=>d(y)),setTimeout(()=>{if(!this.appCheck){const y=this.A.getImmediate({optional:!0});y?d(y):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Ft("string"==typeof r.token),this.R=r.token,new qt(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function _n(l){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(l);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<l;s++)r[s]=Math.floor(256*Math.random());return r}class xn{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const d=_n(40);for(let y=0;y<d.length;++y)s.length<20&&d[y]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(d[y]%62))}return s}}function Yt(l,e){return l<e?-1:l>e?1:0}function mn(l,e,r){return l.length===e.length&&l.every((s,d)=>r(s,e[d]))}function Mn(l){return l+"\0"}class kn{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new _e(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new _e(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new _e(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return kn.fromMillis(Date.now())}static fromDate(e){return kn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new kn(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Yt(this.nanoseconds,e.nanoseconds):Yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class en{constructor(e){this.timestamp=e}static fromTimestamp(e){return new en(e)}static min(){return new en(new kn(0,0))}static max(){return new en(new kn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ci{constructor(e,r,s){void 0===r?r=0:r>e.length&&Tt(),void 0===s?s=e.length-r:s>e.length-r&&Tt(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===ci.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof ci?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let d=0;d<s;d++){const y=e.get(d),b=r.get(d);if(y<b)return-1;if(y>b)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class On extends ci{construct(e,r,s){return new On(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new _e(Ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(d=>d.length>0))}return new On(r)}static emptyPath(){return new On([])}}const vr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kn extends ci{construct(e,r,s){return new Kn(e,r,s)}static isValidIdentifier(e){return vr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Kn(["__name__"])}static fromServerFormat(e){const r=[];let s="",d=0;const y=()=>{if(0===s.length)throw new _e(Ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let b=!1;for(;d<e.length;){const R=e[d];if("\\"===R){if(d+1===e.length)throw new _e(Ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const V=e[d+1];if("\\"!==V&&"."!==V&&"`"!==V)throw new _e(Ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=V,d+=2}else"`"===R?(b=!b,d++):"."!==R||b?(s+=R,d++):(y(),d++)}if(y(),b)throw new _e(Ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kn(r)}static emptyPath(){return new Kn([])}}class Ut{constructor(e){this.path=e}static fromPath(e){return new Ut(On.fromString(e))}static fromName(e){return new Ut(On.fromString(e).popFirst(5))}static empty(){return new Ut(On.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===On.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return On.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ut(new On(e.slice()))}}class bn{constructor(e,r,s,d){this.indexId=e,this.collectionGroup=r,this.fields=s,this.indexState=d}}function Vn(l){return l.fields.find(e=>2===e.kind)}function Rn(l){return l.fields.filter(e=>2!==e.kind)}bn.UNKNOWN_ID=-1;class Rr{constructor(e,r){this.fieldPath=e,this.kind=r}}class Hn{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Hn(0,cn.min())}}function xr(l,e){const r=l.toTimestamp().seconds,s=l.toTimestamp().nanoseconds+1,d=en.fromTimestamp(1e9===s?new kn(r+1,0):new kn(r,s));return new cn(d,Ut.empty(),e)}function li(l){return new cn(l.readTime,l.key,-1)}class cn{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new cn(en.min(),Ut.empty(),-1)}static max(){return new cn(en.max(),Ut.empty(),-1)}}function ui(l,e){let r=l.readTime.compareTo(e.readTime);return 0!==r?r:(r=Ut.comparator(l.documentKey,e.documentKey),0!==r?r:Yt(l.largestBatchId,e.largestBatchId))}const er="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ar{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function gr(l){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,g.Z)(function*(l){if(l.code!==Ne.FAILED_PRECONDITION||l.message!==er)throw l;me("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Ze{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Ze((s,d)=>{this.nextCallback=y=>{this.wrapSuccess(e,y).next(s,d)},this.catchCallback=y=>{this.wrapFailure(r,y).next(s,d)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Ze?r:Ze.resolve(r)}catch(r){return Ze.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Ze.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Ze.reject(r)}static resolve(e){return new Ze((r,s)=>{r(e)})}static reject(e){return new Ze((r,s)=>{s(e)})}static waitFor(e){return new Ze((r,s)=>{let d=0,y=0,b=!1;e.forEach(R=>{++d,R.next(()=>{++y,b&&y===d&&r()},V=>s(V))}),b=!0,y===d&&r()})}static or(e){let r=Ze.resolve(!1);for(const s of e)r=r.next(d=>d?Ze.resolve(d):s());return r}static forEach(e,r){const s=[];return e.forEach((d,y)=>{s.push(r.call(this,d,y))}),this.waitFor(s)}static mapArray(e,r){return new Ze((s,d)=>{const y=e.length,b=new Array(y);let R=0;for(let V=0;V<y;V++){const K=V;r(e[K]).next(ae=>{b[K]=ae,++R,R===y&&s(b)},ae=>d(ae))}})}static doWhile(e,r){return new Ze((s,d)=>{const y=()=>{!0===e()?r().next(()=>{y()},d):s()};y()})}}class It{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Ue,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new zt(e,r.error)):this.V.resolve()},this.transaction.onerror=s=>{const d=J(s.target.error);this.V.reject(new zt(e,d))}}static open(e,r,s,d){try{return new It(r,e.transaction(d,s))}catch(y){throw new zt(r,y)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(me("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new ni(r)}}class oe{constructor(e,r,s){this.name=e,this.version=r,this.p=s,12.2===oe.S((0,Ee.z$)())&&Ct("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return me("SimpleDb","Removing database:",e),Bt(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Ee.hl)())return!1;if(oe.C())return!0;const e=(0,Ee.z$)(),r=oe.S(e),s=0<r&&r<10,d=Me(e),y=0<d&&d<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||y)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(e){var r=this;return(0,g.Z)(function*(){return r.db||(me("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,d)=>{const y=indexedDB.open(r.name,r.version);y.onsuccess=b=>{s(b.target.result)},y.onblocked=()=>{d(new zt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},y.onerror=b=>{const R=b.target.error;d("VersionError"===R.name?new _e(Ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===R.name?new _e(Ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+R):new zt(e,R))},y.onupgradeneeded=b=>{me("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',b.oldVersion),r.p.O(b.target.result,y.transaction,b.oldVersion,r.version).next(()=>{me("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=s=>r.N(s)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,s,d){var y=this;return(0,g.Z)(function*(){const b="readonly"===r;let R=0;for(;;){++R;try{y.db=yield y.M(e);const V=It.open(y.db,e,b?"readonly":"readwrite",s),K=d(V).next(ae=>(V.g(),ae)).catch(ae=>(V.abort(ae),Ze.reject(ae))).toPromise();return K.catch(()=>{}),yield V.m,K}catch(V){const K=V,ae="FirebaseError"!==K.name&&R<3;if(me("SimpleDb","Transaction failed with error:",K.message,"Retrying:",ae),y.close(),!ae)return Promise.reject(K)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Me(l){const e=l.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class yt{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Bt(this.B.delete())}}class zt extends _e{constructor(e,r){super(Ne.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Fn(l){return"IndexedDbTransactionError"===l.name}class ni{constructor(e){this.store=e}put(e,r){let s;return void 0!==r?(me("SimpleDb","PUT",this.store.name,e,r),s=this.store.put(r,e)):(me("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Bt(s)}add(e){return me("SimpleDb","ADD",this.store.name,e,e),Bt(this.store.add(e))}get(e){return Bt(this.store.get(e)).next(r=>(void 0===r&&(r=null),me("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return me("SimpleDb","DELETE",this.store.name,e),Bt(this.store.delete(e))}count(){return me("SimpleDb","COUNT",this.store.name),Bt(this.store.count())}U(e,r){const s=this.options(e,r),d=s.index?this.store.index(s.index):this.store;if("function"==typeof d.getAll){const y=d.getAll(s.range);return new Ze((b,R)=>{y.onerror=V=>{R(V.target.error)},y.onsuccess=V=>{b(V.target.result)}})}{const y=this.cursor(s),b=[];return this.W(y,(R,V)=>{b.push(V)}).next(()=>b)}}G(e,r){const s=this.store.getAll(e,null===r?void 0:r);return new Ze((d,y)=>{s.onerror=b=>{y(b.target.error)},s.onsuccess=b=>{d(b.target.result)}})}j(e,r){me("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,r);s.H=!1;const d=this.cursor(s);return this.W(d,(y,b,R)=>R.delete())}J(e,r){let s;r?s=e:(s={},r=e);const d=this.cursor(s);return this.W(d,r)}Y(e){const r=this.cursor({});return new Ze((s,d)=>{r.onerror=y=>{const b=J(y.target.error);d(b)},r.onsuccess=y=>{const b=y.target.result;b?e(b.primaryKey,b.value).next(R=>{R?b.continue():s()}):s()}})}W(e,r){const s=[];return new Ze((d,y)=>{e.onerror=b=>{y(b.target.error)},e.onsuccess=b=>{const R=b.target.result;if(!R)return void d();const V=new yt(R),K=r(R.primaryKey,R.value,V);if(K instanceof Ze){const ae=K.catch(ye=>(V.done(),Ze.reject(ye)));s.push(ae)}V.isDone?d():null===V.K?R.continue():R.continue(V.K)}}).next(()=>Ze.waitFor(s))}options(e,r){let s;return void 0!==e&&("string"==typeof e?s=e:r=e),{index:s,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const s=this.store.index(e.index);return e.H?s.openKeyCursor(e.range,r):s.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Bt(l){return new Ze((e,r)=>{l.onsuccess=s=>{e(s.target.result)},l.onerror=s=>{const d=J(s.target.error);r(d)}})}let de=!1;function J(l){const e=oe.S((0,Ee.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(l.message.indexOf(r)>=0){const s=new _e("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return de||(de=!0,setTimeout(()=>{throw s},0)),s}}return l}class z{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;me("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,g.Z)(function*(){r.task=null;try{me("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(s){Fn(s)?me("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield gr(s)}yield r.X(6e4)}))}}class j{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,g.Z)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>r.te(s,e))})()}te(e,r){const s=new Set;let d=r,y=!0;return Ze.doWhile(()=>!0===y&&d>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(b=>{if(null!==b&&!s.has(b))return me("IndexBackfiller",`Processing collection: ${b}`),this.ne(e,b,d).next(R=>{d-=R,s.add(b)});y=!1})).next(()=>r-d)}ne(e,r,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(d=>this.localStore.localDocuments.getNextDocuments(e,r,d,s).next(y=>{const b=y.changes;return this.localStore.indexManager.updateIndexEntries(e,b).next(()=>this.re(d,y)).next(R=>(me("IndexBackfiller",`Updating offset: ${R}`),this.localStore.indexManager.updateCollectionGroup(e,r,R))).next(()=>b.size)}))}re(e,r){let s=e;return r.changes.forEach((d,y)=>{const b=li(y);ui(b,s)>0&&(s=b)}),new cn(s.readTime,s.documentKey,Math.max(r.batchId,e.largestBatchId))}}let F=(()=>{class l{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=d=>this.ie(d),this.se=d=>s.writeSequenceNumber(d))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return l.oe=-1,l})();function pe(l){return null==l}function ke(l){return 0===l&&1/l==-1/0}function bt(l){return"number"==typeof l&&Number.isInteger(l)&&!ke(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}function kt(l){let e="";for(let r=0;r<l.length;r++)e.length>0&&(e=un(e)),e=ln(l.get(r),e);return un(e)}function ln(l,e){let r=e;const s=l.length;for(let d=0;d<s;d++){const y=l.charAt(d);switch(y){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=y}}return r}function un(l){return l+"\x01\x01"}function dn(l){const e=l.length;if(Ft(e>=2),2===e)return Ft("\x01"===l.charAt(0)&&"\x01"===l.charAt(1)),On.emptyPath();const r=e-2,s=[];let d="";for(let y=0;y<e;){const b=l.indexOf("\x01",y);switch((b<0||b>r)&&Tt(),l.charAt(b+1)){case"\x01":const R=l.substring(y,b);let V;0===d.length?V=R:(d+=R,V=d,d=""),s.push(V);break;case"\x10":d+=l.substring(y,b),d+="\0";break;case"\x11":d+=l.substring(y,b+1);break;default:Tt()}y=b+2}return new On(s)}const ar=["userId","batchId"];function Fe(l,e){return[l,kt(e)]}function Re(l,e,r){return[l,kt(e),r]}const Be={},xt=["prefixPath","collectionGroup","readTime","documentId"],Wt=["prefixPath","collectionGroup","documentId"],pn=["collectionGroup","readTime","prefixPath","documentId"],nn=["canonicalId","targetId"],Er=["targetId","path"],fn=["path","targetId"],ri=["collectionId","parent"],as=["indexId","uid"],Ui=["uid","sequenceNumber"],cs=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Si=["indexId","uid","orderedDocumentKey"],Sr=["userId","collectionPath","documentId"],qr=["userId","collectionPath","largestBatchId"],ir=["userId","collectionGroup","largestBatchId"],_s=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Xs=[..._s,"documentOverlays"],Ii=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],lr=Ii,bi=[...lr,"indexConfiguration","indexState","indexEntries"],ls=bi;class Zi extends Ar{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function Vr(l,e){const r=dt(l);return oe.F(r._e,e)}function Hs(l){let e=0;for(const r in l)Object.prototype.hasOwnProperty.call(l,r)&&e++;return e}function us(l,e){for(const r in l)Object.prototype.hasOwnProperty.call(l,r)&&e(r,l[r])}function Fa(l){for(const e in l)if(Object.prototype.hasOwnProperty.call(l,e))return!1;return!0}class Kr{constructor(e,r){this.comparator=e,this.root=r||Oi.EMPTY}insert(e,r){return new Kr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Oi.BLACK,null,null))}remove(e){return new Kr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Oi.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const d=this.comparator(e,s.key);if(0===d)return r+s.left.size;d<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new La(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new La(this.root,e,this.comparator,!1)}getReverseIterator(){return new La(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new La(this.root,e,this.comparator,!0)}}class La{constructor(e,r,s,d){this.isReverse=d,this.nodeStack=[];let y=1;for(;!e.isEmpty();)if(y=r?s(e.key,r):1,r&&d&&(y*=-1),y<0)e=this.isReverse?e.left:e.right;else{if(0===y){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Oi{constructor(e,r,s,d,y){this.key=e,this.value=r,this.color=s??Oi.RED,this.left=d??Oi.EMPTY,this.right=y??Oi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,d,y){return new Oi(e??this.key,r??this.value,s??this.color,d??this.left,y??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let d=this;const y=s(e,d.key);return d=y<0?d.copy(null,null,null,d.left.insert(e,r,s),null):0===y?d.copy(null,r,null,null,null):d.copy(null,null,null,null,d.right.insert(e,r,s)),d.fixUp()}removeMin(){if(this.left.isEmpty())return Oi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,d=this;if(r(e,d.key)<0)d.left.isEmpty()||d.left.isRed()||d.left.left.isRed()||(d=d.moveRedLeft()),d=d.copy(null,null,null,d.left.remove(e,r),null);else{if(d.left.isRed()&&(d=d.rotateRight()),d.right.isEmpty()||d.right.isRed()||d.right.left.isRed()||(d=d.moveRedRight()),0===r(e,d.key)){if(d.right.isEmpty())return Oi.EMPTY;s=d.right.min(),d=d.copy(s.key,s.value,null,null,d.right.removeMin())}d=d.copy(null,null,null,null,d.right.remove(e,r))}return d.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Oi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Oi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Tt();const e=this.left.check();if(e!==this.right.check())throw Tt();return e+(this.isRed()?0:1)}}Oi.EMPTY=null,Oi.RED=!0,Oi.BLACK=!1,Oi.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt()}get value(){throw Tt()}get color(){throw Tt()}get left(){throw Tt()}get right(){throw Tt()}copy(e,r,s,d,y){return this}insert(e,r,s){return new Oi(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jr{constructor(e){this.comparator=e,this.data=new Kr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const d=s.getNext();if(this.comparator(d.key,e[1])>=0)return;r(d.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new ia(this.data.getIterator())}getIteratorFrom(e){return new ia(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof jr)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const d=r.getNext().key,y=s.getNext().key;if(0!==this.comparator(d,y))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new jr(this.comparator);return r.data=e,r}}class ia{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Vs(l){return l.hasNext()?l.getNext():void 0}class Ni{constructor(e){this.fields=e,e.sort(Kn.comparator)}static empty(){return new Ni([])}unionWith(e){let r=new jr(Kn.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new Ni(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return mn(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class Xi extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function So(){return typeof atob<"u"}class di{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(d){try{return atob(d)}catch(y){throw typeof DOMException<"u"&&y instanceof DOMException?new Xi("Invalid base64 string: "+y):y}}(e);return new di(r)}static fromUint8Array(e){const r=function(d){let y="";for(let b=0;b<d.length;++b)y+=String.fromCharCode(d[b]);return y}(e);return new di(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let d=0;d<r.length;d++)s[d]=r.charCodeAt(d);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}di.EMPTY_BYTE_STRING=new di("");const Mo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(l){if(Ft(!!l),"string"==typeof l){let e=0;const r=Mo.exec(l);if(Ft(!!r),r[1]){let d=r[1];d=(d+"000000000").substr(0,9),e=Number(d)}const s=new Date(l);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:hi(l.seconds),nanos:hi(l.nanos)}}function hi(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function vs(l){return"string"==typeof l?di.fromBase64String(l):di.fromUint8Array(l)}function Ss(l){var e,r;return"server_timestamp"===(null===(r=((null===(e=l?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function co(l){const e=l.mapValue.fields.__previous_value__;return Ss(e)?co(e):e}function ji(l){const e=ys(l.mapValue.fields.__local_write_time__.timestampValue);return new kn(e.seconds,e.nanos)}class Po{constructor(e,r,s,d,y,b,R,V,K){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=d,this.ssl=y,this.forceLongPolling=b,this.autoDetectLongPolling=R,this.longPollingOptions=V,this.useFetchStreams=K}}class Un{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Un("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Un&&e.projectId===this.projectId&&e.database===this.database}}const $r={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Yr={nullValue:"NULL_VALUE"};function $i(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?Ss(l)?4:Tr(l)?9007199254740991:10:Tt()}function zr(l,e){if(l===e)return!0;const r=$i(l);if(r!==$i(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===e.booleanValue;case 4:return ji(l).isEqual(ji(e));case 3:return function(d,y){if("string"==typeof d.timestampValue&&"string"==typeof y.timestampValue&&d.timestampValue.length===y.timestampValue.length)return d.timestampValue===y.timestampValue;const b=ys(d.timestampValue),R=ys(y.timestampValue);return b.seconds===R.seconds&&b.nanos===R.nanos}(l,e);case 5:return l.stringValue===e.stringValue;case 6:return y=e,vs(l.bytesValue).isEqual(vs(y.bytesValue));case 7:return l.referenceValue===e.referenceValue;case 8:return function(d,y){return hi(d.geoPointValue.latitude)===hi(y.geoPointValue.latitude)&&hi(d.geoPointValue.longitude)===hi(y.geoPointValue.longitude)}(l,e);case 2:return function(d,y){if("integerValue"in d&&"integerValue"in y)return hi(d.integerValue)===hi(y.integerValue);if("doubleValue"in d&&"doubleValue"in y){const b=hi(d.doubleValue),R=hi(y.doubleValue);return b===R?ke(b)===ke(R):isNaN(b)&&isNaN(R)}return!1}(l,e);case 9:return mn(l.arrayValue.values||[],e.arrayValue.values||[],zr);case 10:return function(d,y){const b=d.mapValue.fields||{},R=y.mapValue.fields||{};if(Hs(b)!==Hs(R))return!1;for(const V in b)if(b.hasOwnProperty(V)&&(void 0===R[V]||!zr(b[V],R[V])))return!1;return!0}(l,e);default:return Tt()}var y}function es(l,e){return void 0!==(l.values||[]).find(r=>zr(r,e))}function Li(l,e){if(l===e)return 0;const r=$i(l),s=$i(e);if(r!==s)return Yt(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Yt(l.booleanValue,e.booleanValue);case 2:return function(y,b){const R=hi(y.integerValue||y.doubleValue),V=hi(b.integerValue||b.doubleValue);return R<V?-1:R>V?1:R===V?0:isNaN(R)?isNaN(V)?0:-1:1}(l,e);case 3:return Ro(l.timestampValue,e.timestampValue);case 4:return Ro(ji(l),ji(e));case 5:return Yt(l.stringValue,e.stringValue);case 6:return function(y,b){const R=vs(y),V=vs(b);return R.compareTo(V)}(l.bytesValue,e.bytesValue);case 7:return function(y,b){const R=y.split("/"),V=b.split("/");for(let K=0;K<R.length&&K<V.length;K++){const ae=Yt(R[K],V[K]);if(0!==ae)return ae}return Yt(R.length,V.length)}(l.referenceValue,e.referenceValue);case 8:return function(y,b){const R=Yt(hi(y.latitude),hi(b.latitude));return 0!==R?R:Yt(hi(y.longitude),hi(b.longitude))}(l.geoPointValue,e.geoPointValue);case 9:return function(y,b){const R=y.values||[],V=b.values||[];for(let K=0;K<R.length&&K<V.length;++K){const ae=Li(R[K],V[K]);if(ae)return ae}return Yt(R.length,V.length)}(l.arrayValue,e.arrayValue);case 10:return function(y,b){if(y===$r.mapValue&&b===$r.mapValue)return 0;if(y===$r.mapValue)return 1;if(b===$r.mapValue)return-1;const R=y.fields||{},V=Object.keys(R),K=b.fields||{},ae=Object.keys(K);V.sort(),ae.sort();for(let ye=0;ye<V.length&&ye<ae.length;++ye){const Le=Yt(V[ye],ae[ye]);if(0!==Le)return Le;const lt=Li(R[V[ye]],K[ae[ye]]);if(0!==lt)return lt}return Yt(V.length,ae.length)}(l.mapValue,e.mapValue);default:throw Tt()}}function Ro(l,e){if("string"==typeof l&&"string"==typeof e&&l.length===e.length)return Yt(l,e);const r=ys(l),s=ys(e),d=Yt(r.seconds,s.seconds);return 0!==d?d:Yt(r.nanos,s.nanos)}function zi(l){return Es(l)}function Es(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(r){const s=ys(r);return`time(${s.seconds},${s.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?vs(l.bytesValue).toBase64():"referenceValue"in l?Ut.fromName(l.referenceValue).toString():"geoPointValue"in l?function(r){return`geo(${r.latitude},${r.longitude})`}(l.geoPointValue):"arrayValue"in l?function(r){let s="[",d=!0;for(const y of r.values||[])d?d=!1:s+=",",s+=Es(y);return s+"]"}(l.arrayValue):"mapValue"in l?function(r){const s=Object.keys(r.fields||{}).sort();let d="{",y=!0;for(const b of s)y?y=!1:d+=",",d+=`${b}:${Es(r.fields[b])}`;return d+"}"}(l.mapValue):Tt()}function an(l,e){return{referenceValue:`projects/${l.projectId}/databases/${l.database}/documents/${e.path.canonicalString()}`}}function Wn(l){return!!l&&"integerValue"in l}function Cr(l){return!!l&&"arrayValue"in l}function Mi(l){return!!l&&"nullValue"in l}function Ms(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function Qr(l){return!!l&&"mapValue"in l}function fi(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const e={mapValue:{fields:{}}};return us(l.mapValue.fields,(r,s)=>e.mapValue.fields[r]=fi(s)),e}if(l.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(l.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=fi(l.arrayValue.values[r]);return e}return Object.assign({},l)}function Tr(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}function ts(l){return"nullValue"in l?Yr:"booleanValue"in l?{booleanValue:!1}:"integerValue"in l||"doubleValue"in l?{doubleValue:NaN}:"timestampValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in l?{stringValue:""}:"bytesValue"in l?{bytesValue:""}:"referenceValue"in l?an(Un.empty(),Ut.empty()):"geoPointValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in l?{arrayValue:{}}:"mapValue"in l?{mapValue:{}}:Tt()}function Ps(l){return"nullValue"in l?{booleanValue:!1}:"booleanValue"in l?{doubleValue:NaN}:"integerValue"in l||"doubleValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in l?{stringValue:""}:"stringValue"in l?{bytesValue:""}:"bytesValue"in l?an(Un.empty(),Ut.empty()):"referenceValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in l?{arrayValue:{}}:"arrayValue"in l?{mapValue:{}}:"mapValue"in l?$r:Tt()}function Qn(l,e){const r=Li(l.value,e.value);return 0!==r?r:l.inclusive&&!e.inclusive?-1:!l.inclusive&&e.inclusive?1:0}function ns(l,e){const r=Li(l.value,e.value);return 0!==r?r:l.inclusive&&!e.inclusive?1:!l.inclusive&&e.inclusive?-1:0}class pr{constructor(e){this.value=e}static empty(){return new pr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!Qr(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=fi(r)}setAll(e){let r=Kn.emptyPath(),s={},d=[];e.forEach((b,R)=>{if(!r.isImmediateParentOf(R)){const V=this.getFieldsMap(r);this.applyChanges(V,s,d),s={},d=[],r=R.popLast()}b?s[R.lastSegment()]=fi(b):d.push(R.lastSegment())});const y=this.getFieldsMap(r);this.applyChanges(y,s,d)}delete(e){const r=this.field(e.popLast());Qr(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return zr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let d=r.mapValue.fields[e.get(s)];Qr(d)&&d.mapValue.fields||(d={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=d),r=d}return r.mapValue.fields}applyChanges(e,r,s){us(r,(d,y)=>e[d]=y);for(const d of s)delete e[d]}clone(){return new pr(fi(this.value))}}function Pi(l){const e=[];return us(l.fields,(r,s)=>{const d=new Kn([r]);if(Qr(s)){const y=Pi(s.mapValue).fields;if(0===y.length)e.push(d);else for(const b of y)e.push(d.child(b))}else e.push(d)}),new Ni(e)}class zn{constructor(e,r,s,d,y,b,R){this.key=e,this.documentType=r,this.version=s,this.readTime=d,this.createTime=y,this.data=b,this.documentState=R}static newInvalidDocument(e){return new zn(e,0,en.min(),en.min(),en.min(),pr.empty(),0)}static newFoundDocument(e,r,s,d){return new zn(e,1,r,en.min(),s,d,0)}static newNoDocument(e,r){return new zn(e,2,r,en.min(),en.min(),pr.empty(),0)}static newUnknownDocument(e,r){return new zn(e,3,r,en.min(),en.min(),pr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(en.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=en.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ds{constructor(e,r){this.position=e,this.inclusive=r}}function Ri(l,e,r){let s=0;for(let d=0;d<l.position.length;d++){const y=e[d],b=l.position[d];if(s=y.field.isKeyField()?Ut.comparator(Ut.fromName(b.referenceValue),r.key):Li(b,r.data.field(y.field)),"desc"===y.dir&&(s*=-1),0!==s)break}return s}function Is(l,e){if(null===l)return null===e;if(null===e||l.inclusive!==e.inclusive||l.position.length!==e.position.length)return!1;for(let r=0;r<l.position.length;r++)if(!zr(l.position[r],e.position[r]))return!1;return!0}class Rs{constructor(e,r="asc"){this.field=e,this.dir=r}}function Va(l,e){return l.dir===e.dir&&l.field.isEqual(e.field)}class bs{}class sr extends bs{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new uo(e,r,s):"array-contains"===r?new qe(e,s):"in"===r?new Pt(e,s):"not-in"===r?new Ht(e,s):"array-contains-any"===r?new hn(e,s):new sr(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new ii(e,s):new fe(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(Li(r,this.value)):null!==r&&$i(this.value)===$i(r)&&this.matchesComparison(Li(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Tt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mr extends bs{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new mr(e,r)}matches(e){return Us(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Us(l){return"and"===l.op}function hr(l){return"or"===l.op}function sa(l){return rs(l)&&Us(l)}function rs(l){for(const e of l.filters)if(e instanceof mr)return!1;return!0}function Hi(l){if(l instanceof sr)return l.field.canonicalString()+l.op.toString()+zi(l.value);if(sa(l))return l.filters.map(e=>Hi(e)).join(",");{const e=l.filters.map(r=>Hi(r)).join(",");return`${l.op}(${e})`}}function hs(l,e){return l instanceof sr?(s=l,(d=e)instanceof sr&&s.op===d.op&&s.field.isEqual(d.field)&&zr(s.value,d.value)):l instanceof mr?function(s,d){return d instanceof mr&&s.op===d.op&&s.filters.length===d.filters.length&&s.filters.reduce((y,b,R)=>y&&hs(b,d.filters[R]),!0)}(l,e):void Tt();var s,d}function xs(l,e){const r=l.filters.concat(e);return mr.create(r,l.op)}function lo(l){return l instanceof sr?`${(r=l).field.canonicalString()} ${r.op} ${zi(r.value)}`:l instanceof mr?function(r){return r.op.toString()+" {"+r.getFilters().map(lo).join(" ,")+"}"}(l):"Filter";var r}class uo extends sr{constructor(e,r,s){super(e,r,s),this.key=Ut.fromName(s.referenceValue)}matches(e){const r=Ut.comparator(e.key,this.key);return this.matchesComparison(r)}}class ii extends sr{constructor(e,r){super(e,"in",r),this.keys=De(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class fe extends sr{constructor(e,r){super(e,"not-in",r),this.keys=De(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function De(l,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>Ut.fromName(s.referenceValue))}class qe extends sr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Cr(r)&&es(r.arrayValue,this.value)}}class Pt extends sr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&es(this.value.arrayValue,r)}}class Ht extends sr{constructor(e,r){super(e,"not-in",r)}matches(e){if(es(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!es(this.value.arrayValue,r)}}class hn extends sr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Cr(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>es(this.value.arrayValue,s))}}class En{constructor(e,r=null,s=[],d=[],y=null,b=null,R=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=d,this.limit=y,this.startAt=b,this.endAt=R,this.ue=null}}function nr(l,e=null,r=[],s=[],d=null,y=null,b=null){return new En(l,e,r,s,d,y,b)}function Bn(l){const e=dt(l);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>Hi(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(y=s).field.canonicalString()+y.dir;var y}).join(","),pe(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>zi(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>zi(s)).join(",")),e.ue=r}return e.ue}function ur(l,e){if(l.limit!==e.limit||l.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<l.orderBy.length;r++)if(!Va(l.orderBy[r],e.orderBy[r]))return!1;if(l.filters.length!==e.filters.length)return!1;for(let r=0;r<l.filters.length;r++)if(!hs(l.filters[r],e.filters[r]))return!1;return l.collectionGroup===e.collectionGroup&&!!l.path.isEqual(e.path)&&!!Is(l.startAt,e.startAt)&&Is(l.endAt,e.endAt)}function Ki(l){return Ut.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}function Ts(l,e){return l.filters.filter(r=>r instanceof sr&&r.field.isEqual(e))}function W(l,e,r){let s=Yr,d=!0;for(const y of Ts(l,e)){let b=Yr,R=!0;switch(y.op){case"<":case"<=":b=ts(y.value);break;case"==":case"in":case">=":b=y.value;break;case">":b=y.value,R=!1;break;case"!=":case"not-in":b=Yr}Qn({value:s,inclusive:d},{value:b,inclusive:R})<0&&(s=b,d=R)}if(null!==r)for(let y=0;y<l.orderBy.length;++y)if(l.orderBy[y].field.isEqual(e)){const b=r.position[y];Qn({value:s,inclusive:d},{value:b,inclusive:r.inclusive})<0&&(s=b,d=r.inclusive);break}return{value:s,inclusive:d}}function X(l,e,r){let s=$r,d=!0;for(const y of Ts(l,e)){let b=$r,R=!0;switch(y.op){case">=":case">":b=Ps(y.value),R=!1;break;case"==":case"in":case"<=":b=y.value;break;case"<":b=y.value,R=!1;break;case"!=":case"not-in":b=$r}ns({value:s,inclusive:d},{value:b,inclusive:R})>0&&(s=b,d=R)}if(null!==r)for(let y=0;y<l.orderBy.length;++y)if(l.orderBy[y].field.isEqual(e)){const b=r.position[y];ns({value:s,inclusive:d},{value:b,inclusive:r.inclusive})>0&&(s=b,d=r.inclusive);break}return{value:s,inclusive:d}}class L{constructor(e,r=null,s=[],d=[],y=null,b="F",R=null,V=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=d,this.limit=y,this.limitType=b,this.startAt=R,this.endAt=V,this.ce=null,this.le=null,this.he=null}}function le(l,e,r,s,d,y,b,R){return new L(l,e,r,s,d,y,b,R)}function Pe(l){return new L(l)}function Sn(l){return 0===l.filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())}function _r(l){return null!==l.collectionGroup}function fs(l){const e=dt(l);if(null===e.ce){e.ce=[];const r=new Set;for(const y of e.explicitOrderBy)e.ce.push(y),r.add(y.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(b){let R=new jr(Kn.comparator);return b.filters.forEach(V=>{V.getFlattenedFilters().forEach(K=>{K.isInequality()&&(R=R.add(K.field))})}),R})(e).forEach(y=>{r.has(y.canonicalString())||y.isKeyField()||e.ce.push(new Rs(y,s))}),r.has(Kn.keyField().canonicalString())||e.ce.push(new Rs(Kn.keyField(),s))}return e.ce}function pi(l){const e=dt(l);return e.le||(e.le=function Dl(l,e){if("F"===l.limitType)return nr(l.path,l.collectionGroup,e,l.filters,l.limit,l.startAt,l.endAt);{e=e.map(d=>new Rs(d.field,"desc"===d.dir?"asc":"desc"));const r=l.endAt?new ds(l.endAt.position,l.endAt.inclusive):null,s=l.startAt?new ds(l.startAt.position,l.startAt.inclusive):null;return nr(l.path,l.collectionGroup,e,l.filters,l.limit,r,s)}}(e,fs(l))),e.le}function rc(l,e){const r=l.filters.concat([e]);return new L(l.path,l.collectionGroup,l.explicitOrderBy.slice(),r,l.limit,l.limitType,l.startAt,l.endAt)}function ic(l,e,r){return new L(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),e,r,l.startAt,l.endAt)}function Ba(l,e){return ur(pi(l),pi(e))&&l.limitType===e.limitType}function Bc(l){return`${Bn(pi(l))}|lt:${l.limitType}`}function sc(l){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(d=>lo(d)).join(", ")}]`),pe(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(d=>{return`${(b=d).field.canonicalString()} (${b.dir})`;var b}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(d=>zi(d)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(d=>zi(d)).join(",")),`Target(${s})`}(pi(l))}; limitType=${l.limitType})`}function va(l,e){return e.isFoundDocument()&&function(s,d){const y=d.key.path;return null!==s.collectionGroup?d.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(y):Ut.isDocumentKey(s.path)?s.path.isEqual(y):s.path.isImmediateParentOf(y)}(l,e)&&function(s,d){for(const y of fs(s))if(!y.field.isKeyField()&&null===d.data.field(y.field))return!1;return!0}(l,e)&&function(s,d){for(const y of s.filters)if(!y.matches(d))return!1;return!0}(l,e)&&(d=e,!((s=l).startAt&&!function(b,R,V){const K=Ri(b,R,V);return b.inclusive?K<=0:K<0}(s.startAt,fs(s),d)||s.endAt&&!function(b,R,V){const K=Ri(b,R,V);return b.inclusive?K>=0:K>0}(s.endAt,fs(s),d)));var s,d}function jc(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function eo(l){return(e,r)=>{let s=!1;for(const d of fs(l)){const y=ho(d,e,r);if(0!==y)return y;s=s||d.field.isKeyField()}return 0}}function ho(l,e,r){const s=l.field.isKeyField()?Ut.comparator(e.key,r.key):function(y,b,R){const V=b.data.field(y),K=R.data.field(y);return null!==V&&null!==K?Li(V,K):Tt()}(l.field,e,r);switch(l.dir){case"asc":return s;case"desc":return-1*s;default:return Tt()}}class ps{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[d,y]of s)if(this.equalsFn(d,e))return y}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),d=this.inner[s];if(void 0===d)return this.inner[s]=[[e,r]],void this.innerSize++;for(let y=0;y<d.length;y++)if(this.equalsFn(d[y][0],e))return void(d[y]=[e,r]);d.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let d=0;d<s.length;d++)if(this.equalsFn(s[d][0],e))return 1===s.length?delete this.inner[r]:s.splice(d,1),this.innerSize--,!0;return!1}forEach(e){us(this.inner,(r,s)=>{for(const[d,y]of s)e(d,y)})}isEmpty(){return Fa(this.inner)}size(){return this.innerSize}}const ad=new Kr(Ut.comparator);function Nr(){return ad}const Ea=new Kr(Ut.comparator);function Yi(...l){let e=Ea;for(const r of l)e=e.insert(r.key,r);return e}function fu(l){let e=Ea;return l.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function to(){return po()}function fo(){return po()}function po(){return new ps(l=>l.toString(),(l,e)=>l.isEqual(e))}const Bo=new Kr(Ut.comparator),ja=new jr(Ut.comparator);function fr(...l){let e=ja;for(const r of l)e=e.add(r);return e}const $c=new jr(Yt);function zc(){return $c}function oc(l,e){if(l.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ke(e)?"-0":e}}function ac(l){return{integerValue:""+l}}function $a(l,e){return bt(e)?ac(e):oc(l,e)}class oa{constructor(){this._=void 0}}function jo(l,e,r){return l instanceof Hc?function(d,y){const b={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:d.seconds,nanos:d.nanoseconds}}}};return y&&Ss(y)&&(y=co(y)),y&&(b.fields.__previous_value__=y),{mapValue:b}}(r,e):l instanceof aa?Mh(l,e):l instanceof $o?cd(l,e):function(d,y){const b=Sl(d,y),R=lc(b)+lc(d.Pe);return Wn(b)&&Wn(d.Pe)?ac(R):oc(d.serializer,R)}(l,e)}function cc(l,e,r){return l instanceof aa?Mh(l,e):l instanceof $o?cd(l,e):r}function Sl(l,e){return l instanceof za?Wn(s=e)||(y=s)&&"doubleValue"in y?e:{integerValue:0}:null;var s,y}class Hc extends oa{}class aa extends oa{constructor(e){super(),this.elements=e}}function Mh(l,e){const r=Ml(e);for(const s of l.elements)r.some(d=>zr(d,s))||r.push(s);return{arrayValue:{values:r}}}class $o extends oa{constructor(e){super(),this.elements=e}}function cd(l,e){let r=Ml(e);for(const s of l.elements)r=r.filter(d=>!zr(d,s));return{arrayValue:{values:r}}}class za extends oa{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function lc(l){return hi(l.integerValue||l.doubleValue)}function Ml(l){return Cr(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class Ha{constructor(e,r){this.field=e,this.transform=r}}class Gc{constructor(e,r){this.version=e,this.transformResults=r}}class si{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new si}static exists(e){return new si(void 0,e)}static updateTime(e){return new si(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function P(l,e){return void 0!==l.updateTime?e.isFoundDocument()&&e.version.isEqual(l.updateTime):void 0===l.exists||l.exists===e.isFoundDocument()}class re{}function $(l,e){if(!l.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return l.isNoDocument()?new ei(l.key,si.none()):new Cn(l.key,l.data,si.none());{const r=l.data,s=pr.empty();let d=new jr(Kn.comparator);for(let y of e.fields)if(!d.has(y)){let b=r.field(y);null===b&&y.length>1&&(y=y.popLast(),b=r.field(y)),null===b?s.delete(y):s.set(y,b),d=d.add(y)}return new kr(l.key,s,new Ni(d.toArray()),si.none())}}function te(l,e,r){l instanceof Cn?function(d,y,b){const R=d.value.clone(),V=Wr(d.fieldTransforms,y,b.transformResults);R.setAll(V),y.convertToFoundDocument(b.version,R).setHasCommittedMutations()}(l,e,r):l instanceof kr?function(d,y,b){if(!P(d.precondition,y))return void y.convertToUnknownDocument(b.version);const R=Wr(d.fieldTransforms,y,b.transformResults),V=y.data;V.setAll(Jr(d)),V.setAll(R),y.convertToFoundDocument(b.version,V).setHasCommittedMutations()}(l,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function we(l,e,r,s){return l instanceof Cn?function(y,b,R,V){if(!P(y.precondition,b))return R;const K=y.value.clone(),ae=Ir(y.fieldTransforms,V,b);return K.setAll(ae),b.convertToFoundDocument(b.version,K).setHasLocalMutations(),null}(l,e,r,s):l instanceof kr?function(y,b,R,V){if(!P(y.precondition,b))return R;const K=Ir(y.fieldTransforms,V,b),ae=b.data;return ae.setAll(Jr(y)),ae.setAll(K),b.convertToFoundDocument(b.version,ae).setHasLocalMutations(),null===R?null:R.unionWith(y.fieldMask.fields).unionWith(y.fieldTransforms.map(ye=>ye.field))}(l,e,r,s):(R=r,P(l.precondition,b=e)?(b.convertToNoDocument(b.version).setHasLocalMutations(),null):R);var b,R}function mt(l,e){let r=null;for(const s of l.fieldTransforms){const d=e.data.field(s.field),y=Sl(s.transform,d||null);null!=y&&(null===r&&(r=pr.empty()),r.set(s.field,y))}return r||null}function Ot(l,e){return l.type===e.type&&!!l.key.isEqual(e.key)&&!!l.precondition.isEqual(e.precondition)&&(d=e.fieldTransforms,!!(void 0===(s=l.fieldTransforms)&&void 0===d||s&&d&&mn(s,d,(y,b)=>function ld(l,e){return l.field.isEqual(e.field)&&(d=e.transform,(s=l.transform)instanceof aa&&d instanceof aa||s instanceof $o&&d instanceof $o?mn(s.elements,d.elements,zr):s instanceof za&&d instanceof za?zr(s.Pe,d.Pe):s instanceof Hc&&d instanceof Hc);var s,d}(y,b))))&&(0===l.type?l.value.isEqual(e.value):1!==l.type||l.data.isEqual(e.data)&&l.fieldMask.isEqual(e.fieldMask));var s,d}class Cn extends re{constructor(e,r,s,d=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=d,this.type=0}getFieldMask(){return null}}class kr extends re{constructor(e,r,s,d,y=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=d,this.fieldTransforms=y,this.type=1}getFieldMask(){return this.fieldMask}}function Jr(l){const e=new Map;return l.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=l.data.field(r);e.set(r,s)}}),e}function Wr(l,e,r){const s=new Map;Ft(l.length===r.length);for(let d=0;d<r.length;d++){const y=l[d],b=y.transform,R=e.data.field(y.field);s.set(y.field,cc(b,R,r[d]))}return s}function Ir(l,e,r){const s=new Map;for(const d of l){const y=d.transform,b=r.data.field(d.field);s.set(d.field,jo(y,b,e))}return s}class ei extends re{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hr extends re{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Gi{constructor(e,r,s,d){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=d}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let d=0;d<this.mutations.length;d++){const y=this.mutations[d];y.key.isEqual(e.key)&&te(y,e,s[d])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=we(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=we(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=fo();return this.mutations.forEach(d=>{const y=e.get(d.key),b=y.overlayedDocument;let R=this.applyToLocalView(b,y.mutatedFields);R=r.has(d.key)?null:R;const V=$(b,R);null!==V&&s.set(d.key,V),b.isValidDocument()||b.convertToNoDocument(en.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),fr())}isEqual(e){return this.batchId===e.batchId&&mn(this.mutations,e.mutations,(r,s)=>Ot(r,s))&&mn(this.baseMutations,e.baseMutations,(r,s)=>Ot(r,s))}}class Cs{constructor(e,r,s,d){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=d}static from(e,r,s){Ft(e.mutations.length===s.length);let d=Bo;const y=e.mutations;for(let b=0;b<y.length;b++)d=d.insert(y[b].key,s[b].version);return new Cs(e,r,s,d)}}class gs{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Gs{constructor(e,r){this.count=e,this.unchangedNames=r}}var gi,or;function la(l){switch(l){default:return Tt();case Ne.CANCELLED:case Ne.UNKNOWN:case Ne.DEADLINE_EXCEEDED:case Ne.RESOURCE_EXHAUSTED:case Ne.INTERNAL:case Ne.UNAVAILABLE:case Ne.UNAUTHENTICATED:return!1;case Ne.INVALID_ARGUMENT:case Ne.NOT_FOUND:case Ne.ALREADY_EXISTS:case Ne.PERMISSION_DENIED:case Ne.FAILED_PRECONDITION:case Ne.ABORTED:case Ne.OUT_OF_RANGE:case Ne.UNIMPLEMENTED:case Ne.DATA_LOSS:return!0}}function no(l){if(void 0===l)return Ct("GRPC error has no .code"),Ne.UNKNOWN;switch(l){case gi.OK:return Ne.OK;case gi.CANCELLED:return Ne.CANCELLED;case gi.UNKNOWN:return Ne.UNKNOWN;case gi.DEADLINE_EXCEEDED:return Ne.DEADLINE_EXCEEDED;case gi.RESOURCE_EXHAUSTED:return Ne.RESOURCE_EXHAUSTED;case gi.INTERNAL:return Ne.INTERNAL;case gi.UNAVAILABLE:return Ne.UNAVAILABLE;case gi.UNAUTHENTICATED:return Ne.UNAUTHENTICATED;case gi.INVALID_ARGUMENT:return Ne.INVALID_ARGUMENT;case gi.NOT_FOUND:return Ne.NOT_FOUND;case gi.ALREADY_EXISTS:return Ne.ALREADY_EXISTS;case gi.PERMISSION_DENIED:return Ne.PERMISSION_DENIED;case gi.FAILED_PRECONDITION:return Ne.FAILED_PRECONDITION;case gi.ABORTED:return Ne.ABORTED;case gi.OUT_OF_RANGE:return Ne.OUT_OF_RANGE;case gi.UNIMPLEMENTED:return Ne.UNIMPLEMENTED;case gi.DATA_LOSS:return Ne.DATA_LOSS;default:return Tt()}}(or=gi||(gi={}))[or.OK=0]="OK",or[or.CANCELLED=1]="CANCELLED",or[or.UNKNOWN=2]="UNKNOWN",or[or.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",or[or.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",or[or.NOT_FOUND=5]="NOT_FOUND",or[or.ALREADY_EXISTS=6]="ALREADY_EXISTS",or[or.PERMISSION_DENIED=7]="PERMISSION_DENIED",or[or.UNAUTHENTICATED=16]="UNAUTHENTICATED",or[or.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",or[or.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",or[or.ABORTED=10]="ABORTED",or[or.OUT_OF_RANGE=11]="OUT_OF_RANGE",or[or.UNIMPLEMENTED=12]="UNIMPLEMENTED",or[or.INTERNAL=13]="INTERNAL",or[or.UNAVAILABLE=14]="UNAVAILABLE",or[or.DATA_LOSS=15]="DATA_LOSS";function Ia(){return new TextEncoder}const zo=new Ce([4294967295,4294967295],0);function Bs(l){const e=Ia().encode(l),r=new Ve;return r.update(e),new Uint8Array(r.digest())}function pu(l){const e=new DataView(l.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),d=e.getUint32(8,!0),y=e.getUint32(12,!0);return[new Ce([r,s],0),new Ce([d,y],0)]}class Pl{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new ua(`Invalid padding: ${r}`);if(s<0)throw new ua(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new ua(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new ua(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Ce.fromNumber(this.Ie)}Ee(e,r,s){let d=e.add(r.multiply(Ce.fromNumber(s)));return 1===d.compare(zo)&&(d=new Ce([d.getBits(0),d.getBits(1)],0)),d.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=Bs(e),[s,d]=pu(r);for(let y=0;y<this.hashCount;y++){const b=this.Ee(s,d,y);if(!this.de(b))return!1}return!0}static create(e,r,s){const d=e%8==0?0:8-e%8,y=new Uint8Array(Math.ceil(e/8)),b=new Pl(y,d,r);return s.forEach(R=>b.insert(R)),b}insert(e){if(0===this.Ie)return;const r=Bs(e),[s,d]=pu(r);for(let y=0;y<this.hashCount;y++){const b=this.Ee(s,d,y);this.Ae(b)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class ua extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class js{constructor(e,r,s,d,y){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=d,this.resolvedLimboDocuments=y}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const d=new Map;return d.set(e,qc.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new js(en.min(),d,new Kr(Yt),Nr(),fr())}}class qc{constructor(e,r,s,d,y){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=d,this.removedDocuments=y}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new qc(s,r,fr(),fr(),fr())}}class uc{constructor(e,r,s,d){this.Re=e,this.removedTargetIds=r,this.key=s,this.Ve=d}}class gu{constructor(e,r){this.targetId=e,this.me=r}}class go{constructor(e,r,s=di.EMPTY_BYTE_STRING,d=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=d}}class Ho{constructor(){this.fe=0,this.ge=Ph(),this.pe=di.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=fr(),r=fr(),s=fr();return this.ge.forEach((d,y)=>{switch(y){case 0:e=e.add(d);break;case 2:r=r.add(d);break;case 1:s=s.add(d);break;default:Tt()}}),new qc(this.pe,this.ye,e,r,s)}ve(){this.we=!1,this.ge=Ph()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ft(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Go{constructor(e){this.Le=e,this.Be=new Map,this.ke=Nr(),this.qe=ud(),this.Qe=new Kr(Yt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const s=this.Ge(r);switch(e.state){case 0:this.ze(r)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.ve(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),s.De(e.resumeToken));break;default:Tt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((s,d)=>{this.ze(d)&&r(d)})}He(e){const r=e.targetId,s=e.me.count,d=this.Je(r);if(d){const y=d.target;if(Ki(y))if(0===s){const b=new Ut(y.path);this.Ue(r,b,zn.newNoDocument(b,en.min()))}else Ft(1===s);else{const b=this.Ye(r);if(b!==s){const R=this.Ze(e),V=R?this.Xe(R,e,b):1;0!==V&&(this.je(r),this.Qe=this.Qe.insert(r,2===V?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:d=0},hashCount:y=0}=r;let b,R;try{b=vs(s).toUint8Array()}catch(V){if(V instanceof Xi)return $t("Decoding the base64 bloom filter in existence filter failed ("+V.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw V}try{R=new Pl(b,d,y)}catch(V){return $t(V instanceof ua?"BloomFilter error: ":"Applying bloom filter failed: ",V),null}return 0===R.Ie?null:R}Xe(e,r,s){return r.me.count===s-this.nt(e,r.targetId)?0:2}nt(e,r){const s=this.Le.getRemoteKeysForTarget(r);let d=0;return s.forEach(y=>{const b=this.Le.tt(),R=`projects/${b.projectId}/databases/${b.database}/documents/${y.path.canonicalString()}`;e.mightContain(R)||(this.Ue(r,y,null),d++)}),d}rt(e){const r=new Map;this.Be.forEach((y,b)=>{const R=this.Je(b);if(R){if(y.current&&Ki(R.target)){const V=new Ut(R.target.path);null!==this.ke.get(V)||this.it(b,V)||this.Ue(b,V,zn.newNoDocument(V,e))}y.be&&(r.set(b,y.Ce()),y.ve())}});let s=fr();this.qe.forEach((y,b)=>{let R=!0;b.forEachWhile(V=>{const K=this.Je(V);return!K||"TargetPurposeLimboResolution"===K.purpose||(R=!1,!1)}),R&&(s=s.add(y))}),this.ke.forEach((y,b)=>b.setReadTime(e));const d=new js(e,r,this.Qe,this.ke,s);return this.ke=Nr(),this.qe=ud(),this.Qe=new Kr(Yt),d}$e(e,r){if(!this.ze(e))return;const s=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,s),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,s){if(!this.ze(e))return;const d=this.Ge(e);this.it(e,r)?d.Fe(r,1):d.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),s&&(this.ke=this.ke.insert(r,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Ho,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new jr(Yt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||me("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ho),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function ud(){return new Kr(Ut.comparator)}function Ph(){return new Kr(Ut.comparator)}const Hf={asc:"ASCENDING",desc:"DESCENDING"},Ym={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cr={and:"AND",or:"OR"};class dd{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Wc(l,e){return l.useProto3Json||pe(e)?e:{value:e}}function Ga(l,e){return l.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rh(l,e){return l.useProto3Json?e.toBase64():e.toUint8Array()}function hd(l,e){return Ga(l,e.toTimestamp())}function ki(l){return Ft(!!l),en.fromTimestamp(function(r){const s=ys(r);return new kn(s.seconds,s.nanos)}(l))}function qa(l,e){return xh(l,e).canonicalString()}function xh(l,e){const r=(d=l,new On(["projects",d.projectId,"databases",d.database])).child("documents");var d;return void 0===e?r:r.child(e)}function Gf(l){const e=On.fromString(l);return Ft(Te(e)),e}function fd(l,e){return qa(l.databaseId,e.path)}function qo(l,e){const r=Gf(e);if(r.get(1)!==l.databaseId.projectId)throw new _e(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+l.databaseId.projectId);if(r.get(3)!==l.databaseId.database)throw new _e(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+l.databaseId.database);return new Ut(pd(r))}function bg(l,e){return qa(l.databaseId,e)}function Vt(l){const e=Gf(l);return 4===e.length?On.emptyPath():pd(e)}function Ur(l){return new On(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function pd(l){return Ft(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function dc(l,e,r){return{name:fd(l,e),fields:r.value.mapValue.fields}}function ws(l,e,r){const s=qo(l,e.name),d=ki(e.updateTime),y=e.createTime?ki(e.createTime):en.min(),b=new pr({mapValue:{fields:e.fields}}),R=zn.newFoundDocument(s,d,y,b);return r&&R.setHasCommittedMutations(),r?R.setHasCommittedMutations():R}function Os(l,e){let r;if(e instanceof Cn)r={update:dc(l,e.key,e.value)};else if(e instanceof ei)r={delete:fd(l,e.key)};else if(e instanceof kr)r={update:dc(l,e.key,e.data),updateMask:ce(e.fieldMask)};else{if(!(e instanceof Hr))return Tt();r={verify:fd(l,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(y,b){const R=b.transform;if(R instanceof Hc)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(R instanceof aa)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:R.elements}};if(R instanceof $o)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:R.elements}};if(R instanceof za)return{fieldPath:b.field.canonicalString(),increment:R.Pe};throw Tt()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(y=e.precondition).updateTime?{updateTime:hd(l,y.updateTime)}:void 0!==y.exists?{exists:y.exists}:Tt()),r;var y}function Zc(l,e){const r=e.currentDocument?void 0!==(y=e.currentDocument).updateTime?si.updateTime(ki(y.updateTime)):void 0!==y.exists?si.exists(y.exists):si.none():si.none(),s=e.updateTransforms?e.updateTransforms.map(d=>function(b,R){let V=null;"setToServerValue"in R?(Ft("REQUEST_TIME"===R.setToServerValue),V=new Hc):"appendMissingElements"in R?V=new aa(R.appendMissingElements.values||[]):"removeAllFromArray"in R?V=new $o(R.removeAllFromArray.values||[]):"increment"in R?V=new za(b,R.increment):Tt();const K=Kn.fromServerFormat(R.fieldPath);return new Ha(K,V)}(l,d)):[];var y;if(e.update){const d=qo(l,e.update.name),y=new pr({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new Ni((e.updateMask.fieldPaths||[]).map(ae=>Kn.fromServerFormat(ae)));return new kr(d,y,b,r,s)}return new Cn(d,y,r,s)}if(e.delete){const d=qo(l,e.delete);return new ei(d,r)}if(e.verify){const d=qo(l,e.verify);return new Hr(d,r)}return Tt()}function gd(l,e){return{documents:[bg(l,e.path)]}}function md(l,e){const r={structuredQuery:{}},s=e.path;let d;null!==e.collectionGroup?(d=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(d=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=bg(l,d);const y=function(K){if(0!==K.length)return q(mr.create(K,"and"))}(e.filters);y&&(r.structuredQuery.where=y);const b=function(K){if(0!==K.length)return K.map(ae=>{return{field:w((Le=ae).field),direction:ba(Le.dir)};var Le})}(e.orderBy);b&&(r.structuredQuery.orderBy=b);const R=Wc(l,e.limit);return null!==R&&(r.structuredQuery.limit=R),e.startAt&&(r.structuredQuery.startAt={before:(K=e.startAt).inclusive,values:K.position}),e.endAt&&(r.structuredQuery.endAt=function(K){return{before:!K.inclusive,values:K.position}}(e.endAt)),{_t:r,parent:d};var K}function qs(l){let e=Vt(l.parent);const r=l.structuredQuery,s=r.from?r.from.length:0;let d=null;if(s>0){Ft(1===s);const ae=r.from[0];ae.allDescendants?d=ae.collectionId:e=e.child(ae.collectionId)}let y=[];r.where&&(y=function(ye){const Le=_d(ye);return Le instanceof mr&&sa(Le)?Le.getFilters():[Le]}(r.where));let b=[];r.orderBy&&(b=r.orderBy.map(Le=>{return new Rs(N((Lt=Le).field),function(Gt){switch(Gt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Lt.direction));var Lt}));let R=null;r.limit&&(R=function(ye){let Le;return Le="object"==typeof ye?ye.value:ye,pe(Le)?null:Le}(r.limit));let V=null;var ye;r.startAt&&(V=new ds((ye=r.startAt).values||[],!!ye.before));let K=null;return r.endAt&&(K=function(ye){return new ds(ye.values||[],!ye.before)}(r.endAt)),le(e,d,b,y,R,"F",V,K)}function _d(l){return void 0!==l.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=N(r.unaryFilter.field);return sr.create(s,"==",{doubleValue:NaN});case"IS_NULL":const d=N(r.unaryFilter.field);return sr.create(d,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const y=N(r.unaryFilter.field);return sr.create(y,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const b=N(r.unaryFilter.field);return sr.create(b,"!=",{nullValue:"NULL_VALUE"});default:return Tt()}}(l):void 0!==l.fieldFilter?sr.create(N((r=l).fieldFilter.field),function(d){switch(d){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Tt()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==l.compositeFilter?function(r){return mr.create(r.compositeFilter.filters.map(s=>_d(s)),function(d){switch(d){case"AND":return"and";case"OR":return"or";default:return Tt()}}(r.compositeFilter.op))}(l):Tt();var r}function ba(l){return Hf[l]}function S(l){return Ym[l]}function O(l){return cr[l]}function w(l){return{fieldPath:l.canonicalString()}}function N(l){return Kn.fromServerFormat(l.fieldPath)}function q(l){return l instanceof sr?function(r){if("=="===r.op){if(Ms(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NAN"}};if(Mi(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Ms(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NOT_NAN"}};if(Mi(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:w(r.field),op:S(r.op),value:r.value}}}(l):l instanceof mr?function(r){const s=r.getFilters().map(d=>q(d));return 1===s.length?s[0]:{compositeFilter:{op:O(r.op),filters:s}}}(l):Tt()}function ce(l){const e=[];return l.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Te(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}class ft{constructor(e,r,s,d,y=en.min(),b=en.min(),R=di.EMPTY_BYTE_STRING,V=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=d,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=R,this.expectedCount=V}withSequenceNumber(e){return new ft(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ft(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ft(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ft(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class pt{constructor(e){this.ct=e}}function Dr(l,e){const r=e.key,s={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:Xr(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:fd(y=l.ct,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:Ga(y,b.version.toTimestamp()),createTime:Ga(y,b.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:r.path.toArray(),readTime:dr(e.version)};else{if(!e.isUnknownDocument())return Tt();s.unknownDocument={path:r.path.toArray(),version:dr(e.version)}}var y,b;return s}function Xr(l){const e=l.toTimestamp();return[e.seconds,e.nanoseconds]}function dr(l){const e=l.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ns(l){const e=new kn(l.seconds,l.nanoseconds);return en.fromTimestamp(e)}function ro(l,e){const r=(e.baseMutations||[]).map(y=>Zc(l.ct,y));for(let y=0;y<e.mutations.length-1;++y)y+1<e.mutations.length&&void 0!==e.mutations[y+1].transform&&(e.mutations[y].updateTransforms=e.mutations[y+1].transform.fieldTransforms,e.mutations.splice(y+1,1),++y);const s=e.mutations.map(y=>Zc(l.ct,y)),d=kn.fromMillis(e.localWriteTimeMs);return new Gi(e.batchId,d,r,s)}function mo(l){const e=Ns(l.readTime),r=void 0!==l.lastLimboFreeSnapshotVersion?Ns(l.lastLimboFreeSnapshotVersion):en.min();let s;return s=void 0!==l.query.documents?(Ft(1===(y=l.query).documents.length),pi(Pe(Vt(y.documents[0])))):function(y){return pi(qs(y))}(l.query),new ft(s,l.targetId,"TargetPurposeListen",l.lastListenSequenceNumber,e,r,di.fromBase64String(l.resumeToken));var y}function fc(l,e){const r=dr(e.snapshotVersion),s=dr(e.lastLimboFreeSnapshotVersion);let d;d=Ki(e.target)?gd(l.ct,e.target):md(l.ct,e.target)._t;const y=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Bn(e.target),readTime:r,resumeToken:y,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:d}}function _o(l){const e=qs({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?ic(e,e.limit,"L"):e}function _u(l,e){return new gs(e.largestBatchId,Zc(l.ct,e.overlayMutation))}function ks(l,e){const r=e.path.lastSegment();return[l,kt(e.path.popLast()),r]}function Kc(l,e,r,s){return{indexId:l,uid:e,sequenceNumber:r,readTime:dr(s.readTime),documentKey:kt(s.documentKey.path),largestBatchId:s.largestBatchId}}class vi{getBundleMetadata(e,r){return qf(e).get(r).next(s=>{if(s)return{id:(y=s).bundleId,createTime:Ns(y.createTime),version:y.version};var y})}saveBundleMetadata(e,r){return qf(e).put({bundleId:(d=r).id,createTime:dr(ki(d.createTime)),version:d.version});var d}getNamedQuery(e,r){return xl(e).get(r).next(s=>{if(s)return{name:(y=s).name,query:_o(y.bundledQuery),readTime:Ns(y.readTime)};var y})}saveNamedQuery(e,r){return xl(e).put({name:(d=r).name,readTime:dr(ki(d.readTime)),bundledQuery:d.bundledQuery});var d}}function qf(l){return Vr(l,"bundles")}function xl(l){return Vr(l,"namedQueries")}class yu{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new yu(e,r.uid||"")}getOverlay(e,r){return vu(e).get(ks(this.userId,r)).next(s=>s?_u(this.serializer,s):null)}getOverlays(e,r){const s=to();return Ze.forEach(r,d=>this.getOverlay(e,d).next(y=>{null!==y&&s.set(d,y)})).next(()=>s)}saveOverlays(e,r,s){const d=[];return s.forEach((y,b)=>{const R=new gs(r,b);d.push(this.ht(e,R))}),Ze.waitFor(d)}removeOverlaysForBatchId(e,r,s){const d=new Set;r.forEach(b=>d.add(kt(b.getCollectionPath())));const y=[];return d.forEach(b=>{const R=IDBKeyRange.bound([this.userId,b,s],[this.userId,b,s+1],!1,!0);y.push(vu(e).j("collectionPathOverlayIndex",R))}),Ze.waitFor(y)}getOverlaysForCollection(e,r,s){const d=to(),y=kt(r),b=IDBKeyRange.bound([this.userId,y,s],[this.userId,y,Number.POSITIVE_INFINITY],!0);return vu(e).U("collectionPathOverlayIndex",b).next(R=>{for(const V of R){const K=_u(this.serializer,V);d.set(K.getKey(),K)}return d})}getOverlaysForCollectionGroup(e,r,s,d){const y=to();let b;const R=IDBKeyRange.bound([this.userId,r,s],[this.userId,r,Number.POSITIVE_INFINITY],!0);return vu(e).J({index:"collectionGroupOverlayIndex",range:R},(V,K,ae)=>{const ye=_u(this.serializer,K);y.size()<d||ye.largestBatchId===b?(y.set(ye.getKey(),ye),b=ye.largestBatchId):ae.done()}).next(()=>y)}ht(e,r){return vu(e).put(function(d,y,b){const[R,V,K]=ks(y,b.mutation.key);return{userId:y,collectionPath:V,documentId:K,collectionGroup:b.mutation.key.getCollectionGroup(),largestBatchId:b.largestBatchId,overlayMutation:Os(d.ct,b.mutation)}}(this.serializer,this.userId,r))}}function vu(l){return Vr(l,"documentOverlays")}class Ta{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(hi(e.integerValue));else if("doubleValue"in e){const s=hi(e.doubleValue);isNaN(s)?this.Et(r,13):(this.Et(r,15),ke(s)?r.dt(0):r.dt(s))}else if("timestampValue"in e){let s=e.timestampValue;this.Et(r,20),"string"==typeof s&&(s=ys(s)),r.At(`${s.seconds||""}`),r.dt(s.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(vs(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.Et(r,45),r.dt(s.latitude||0),r.dt(s.longitude||0)}else"mapValue"in e?Tr(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):Tt()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const s=e.fields||{};this.Et(r,55);for(const d of Object.keys(s))this.Rt(d,r),this.It(s[d],r)}wt(e,r){const s=e.values||[];this.Et(r,50);for(const d of s)this.It(d,r)}gt(e,r){this.Et(r,37),Ut.fromName(e).path.forEach(s=>{this.Et(r,60),this.St(s,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}function Oh(l){if(0===l)return 8;let e=0;return!(l>>4)&&(e+=4,l<<=4),!(l>>6)&&(e+=2,l<<=2),!(l>>7)&&(e+=1),e}function da(l){const e=64-function(s){let d=0;for(let y=0;y<8;++y){const b=Oh(255&s[y]);if(d+=b,8!==b)break}return d}(l);return Math.ceil(e/8)}Ta.bt=new Ta;class Ca{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ct(s.value),s=r.next();this.vt()}Ft(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Mt(s.value),s=r.next();this.xt()}Ot(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Ct(s);else if(s<2048)this.Ct(960|s>>>6),this.Ct(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s);else{const d=r.codePointAt(0);this.Ct(240|d>>>18),this.Ct(128|63&d>>>12),this.Ct(128|63&d>>>6),this.Ct(128|63&d)}}this.vt()}Nt(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Mt(s);else if(s<2048)this.Mt(960|s>>>6),this.Mt(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s);else{const d=r.codePointAt(0);this.Mt(240|d>>>18),this.Mt(128|63&d>>>12),this.Mt(128|63&d>>>6),this.Mt(128|63&d)}}this.xt()}Lt(e){const r=this.Bt(e),s=da(r);this.kt(1+s),this.buffer[this.position++]=255&s;for(let d=r.length-s;d<r.length;++d)this.buffer[this.position++]=255&r[d]}qt(e){const r=this.Bt(e),s=da(r);this.kt(1+s),this.buffer[this.position++]=~(255&s);for(let d=r.length-s;d<r.length;++d)this.buffer[this.position++]=~(255&r[d])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const r=function(y){const b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,y,!1),new Uint8Array(b.buffer)}(e),s=0!=(128&r[0]);r[0]^=s?255:128;for(let d=1;d<r.length;++d)r[d]^=s?255:0;return r}Ct(e){const r=255&e;0===r?(this.Kt(0),this.Kt(255)):255===r?(this.Kt(255),this.Kt(0)):this.Kt(r)}Mt(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const r=e+this.position;if(r<=this.buffer.length)return;let s=2*this.buffer.length;s<r&&(s=r);const d=new Uint8Array(s);d.set(this.buffer),this.buffer=d}}class Nh{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class kh{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class xo{constructor(){this.Gt=new Ca,this.zt=new Nh(this.Gt),this.jt=new kh(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class ha{constructor(e,r,s,d){this.indexId=e,this.documentKey=r,this.arrayValue=s,this.directionalValue=d}Jt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(r);return s.set(this.directionalValue,0),r!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new ha(this.indexId,this.documentKey,this.arrayValue,s)}}function Zo(l,e){let r=l.indexId-e.indexId;return 0!==r?r:(r=Wf(l.arrayValue,e.arrayValue),0!==r?r:(r=Wf(l.directionalValue,e.directionalValue),0!==r?r:Ut.comparator(l.documentKey,e.documentKey)))}function Wf(l,e){for(let r=0;r<l.length&&r<e.length;++r){const s=l[r]-e[r];if(0!==s)return s}return l.length-e.length}class yd{constructor(e){this.Yt=new jr((r,s)=>Kn.comparator(r.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const r of e.filters){const s=r;s.isInequality()?this.Yt=this.Yt.add(s):this.Xt.push(s)}}get en(){return this.Yt.size>1}tn(e){if(Ft(e.collectionGroup===this.collectionId),this.en)return!1;const r=Vn(e);if(void 0!==r&&!this.nn(r))return!1;const s=Rn(e);let d=new Set,y=0,b=0;for(;y<s.length&&this.nn(s[y]);++y)d=d.add(s[y].fieldPath.canonicalString());if(y===s.length)return!0;if(this.Yt.size>0){const R=this.Yt.getIterator().getNext();if(!d.has(R.field.canonicalString())){const V=s[y];if(!this.rn(R,V)||!this.sn(this.Zt[b++],V))return!1}++y}for(;y<s.length;++y)if(b>=this.Zt.length||!this.sn(this.Zt[b++],s[y]))return!1;return!0}on(){if(this.en)return null;let e=new jr(Kn.comparator);const r=[];for(const s of this.Xt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)r.push(new Rr(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),r.push(new Rr(s.field,0))}for(const s of this.Zt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),r.push(new Rr(s.field,"asc"===s.dir?0:1)));return new bn(bn.UNKNOWN_ID,this.collectionId,r,Hn.empty())}nn(e){for(const r of this.Xt)if(this.rn(r,e))return!0;return!1}rn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function vd(l){var e,r;if(Ft(l instanceof sr||l instanceof mr),l instanceof sr){if(l instanceof Pt){const d=(null===(r=null===(e=l.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(y=>sr.create(l.field,"==",y)))||[];return mr.create(d,"or")}return l}const s=l.filters.map(d=>vd(d));return mr.create(s,l.op)}function pc(l){if(0===l.getFilters().length)return[];const e=wa(vd(l));return Ft(Qm(e)),Ol(e)||Ed(e)?[e]:e.getFilters()}function Ol(l){return l instanceof sr}function Ed(l){return l instanceof mr&&sa(l)}function Qm(l){return Ol(l)||Ed(l)||function(r){if(r instanceof mr&&hr(r)){for(const s of r.getFilters())if(!Ol(s)&&!Ed(s))return!1;return!0}return!1}(l)}function wa(l){if(Ft(l instanceof sr||l instanceof mr),l instanceof sr)return l;if(1===l.filters.length)return wa(l.filters[0]);const e=l.filters.map(s=>wa(s));let r=mr.create(e,l.op);return r=Fh(r),Qm(r)?r:(Ft(r instanceof mr),Ft(Us(r)),Ft(r.filters.length>1),r.filters.reduce((s,d)=>Id(s,d)))}function Id(l,e){let r;return Ft(l instanceof sr||l instanceof mr),Ft(e instanceof sr||e instanceof mr),r=l instanceof sr?e instanceof sr?mr.create([l,e],"and"):Tg(l,e):e instanceof sr?Tg(e,l):function(d,y){if(Ft(d.filters.length>0&&y.filters.length>0),Us(d)&&Us(y))return xs(d,y.getFilters());const b=hr(d)?d:y,R=hr(d)?y:d,V=b.filters.map(K=>Id(K,R));return mr.create(V,"or")}(l,e),Fh(r)}function Tg(l,e){if(Us(e))return xs(e,l.getFilters());{const r=e.filters.map(s=>Id(l,s));return mr.create(r,"or")}}function Fh(l){if(Ft(l instanceof sr||l instanceof mr),l instanceof sr)return l;const e=l.getFilters();if(1===e.length)return Fh(e[0]);if(rs(l))return l;const r=e.map(d=>Fh(d)),s=[];return r.forEach(d=>{d instanceof sr?s.push(d):d instanceof mr&&(d.op===l.op?s.push(...d.filters):s.push(d))}),1===s.length?s[0]:mr.create(s,l.op)}class my{constructor(){this._n=new Lh}addToCollectionParentIndex(e,r){return this._n.add(r),Ze.resolve()}getCollectionParents(e,r){return Ze.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return Ze.resolve()}deleteFieldIndex(e,r){return Ze.resolve()}deleteAllFieldIndexes(e){return Ze.resolve()}createTargetIndexes(e,r){return Ze.resolve()}getDocumentsMatchingTarget(e,r){return Ze.resolve(null)}getIndexType(e,r){return Ze.resolve(0)}getFieldIndexes(e,r){return Ze.resolve([])}getNextCollectionGroupToUpdate(e){return Ze.resolve(null)}getMinOffset(e,r){return Ze.resolve(cn.min())}getMinOffsetFromCollectionGroup(e,r){return Ze.resolve(cn.min())}updateCollectionGroup(e,r,s){return Ze.resolve()}updateIndexEntries(e,r){return Ze.resolve()}}class Lh{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),d=this.index[r]||new jr(On.comparator),y=!d.has(s);return this.index[r]=d.add(s),y}has(e){const r=e.lastSegment(),s=e.popLast(),d=this.index[r];return d&&d.has(s)}getEntries(e){return(this.index[e]||new jr(On.comparator)).toArray()}}const Nl=new Uint8Array(0);class Eu{constructor(e,r){this.databaseId=r,this.an=new Lh,this.un=new ps(s=>Bn(s),(s,d)=>ur(s,d)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.an.has(r)){const s=r.lastSegment(),d=r.popLast();e.addOnCommittedListener(()=>{this.an.add(r)});const y={collectionId:s,parent:kt(d)};return Cg(e).put(y)}return Ze.resolve()}getCollectionParents(e,r){const s=[],d=IDBKeyRange.bound([r,""],[Mn(r),""],!1,!0);return Cg(e).U(d).next(y=>{for(const b of y){if(b.collectionId!==r)break;s.push(dn(b.parent))}return s})}addFieldIndex(e,r){const s=kl(e),d={indexId:(R=r).indexId,collectionGroup:R.collectionGroup,fields:R.fields.map(V=>[V.fieldPath.canonicalString(),V.kind])};var R;delete d.indexId;const y=s.add(d);if(r.indexState){const b=Aa(e);return y.next(R=>{b.put(Kc(R,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return y.next()}deleteFieldIndex(e,r){const s=kl(e),d=Aa(e),y=fa(e);return s.delete(r.indexId).next(()=>d.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>y.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=kl(e),s=fa(e),d=Aa(e);return r.j().next(()=>s.j()).next(()=>d.j())}createTargetIndexes(e,r){return Ze.forEach(this.cn(r),s=>this.getIndexType(e,s).next(d=>{if(0===d||1===d){const y=new yd(s).on();if(null!=y)return this.addFieldIndex(e,y)}}))}getDocumentsMatchingTarget(e,r){const s=fa(e);let d=!0;const y=new Map;return Ze.forEach(this.cn(r),b=>this.ln(e,b).next(R=>{d&&(d=!!R),y.set(b,R)})).next(()=>{if(d){let b=fr();const R=[];return Ze.forEach(y,(V,K)=>{var $n;me("IndexedDbIndexManager",`Using index ${$n=V,`id=${$n.indexId}|cg=${$n.collectionGroup}|f=${$n.fields.map(wr=>`${wr.fieldPath}:${wr.kind}`).join(",")}`} to execute ${Bn(r)}`);const ae=function($n,wr){const oi=Vn(wr);if(void 0===oi)return null;for(const Lr of Ts($n,oi.fieldPath))switch(Lr.op){case"array-contains-any":return Lr.value.arrayValue.values||[];case"array-contains":return[Lr.value]}return null}(K,V),ye=function($n,wr){const oi=new Map;for(const Lr of Rn(wr))for(const Xe of Ts($n,Lr.fieldPath))switch(Xe.op){case"==":case"in":oi.set(Lr.fieldPath.canonicalString(),Xe.value);break;case"not-in":case"!=":return oi.set(Lr.fieldPath.canonicalString(),Xe.value),Array.from(oi.values())}return null}(K,V),Le=function($n,wr){const oi=[];let Lr=!0;for(const Xe of Rn(wr)){const Oe=0===Xe.kind?W($n,Xe.fieldPath,$n.startAt):X($n,Xe.fieldPath,$n.startAt);oi.push(Oe.value),Lr&&(Lr=Oe.inclusive)}return new ds(oi,Lr)}(K,V),lt=function($n,wr){const oi=[];let Lr=!0;for(const Xe of Rn(wr)){const Oe=0===Xe.kind?X($n,Xe.fieldPath,$n.endAt):W($n,Xe.fieldPath,$n.endAt);oi.push(Oe.value),Lr&&(Lr=Oe.inclusive)}return new ds(oi,Lr)}(K,V),Lt=this.hn(V,K,Le),rn=this.hn(V,K,lt),Gt=this.Pn(V,K,ye),Ln=this.In(V.indexId,ae,Lt,Le.inclusive,rn,lt.inclusive,Gt);return Ze.forEach(Ln,Jn=>s.G(Jn,r.limit).next($n=>{$n.forEach(wr=>{const oi=Ut.fromSegments(wr.documentKey);b.has(oi)||(b=b.add(oi),R.push(oi))})}))}).next(()=>R)}return Ze.resolve(null)})}cn(e){let r=this.un.get(e);return r||(r=0===e.filters.length?[e]:pc(mr.create(e.filters,"and")).map(s=>nr(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,r),r)}In(e,r,s,d,y,b,R){const V=(null!=r?r.length:1)*Math.max(s.length,y.length),K=V/(null!=r?r.length:1),ae=[];for(let ye=0;ye<V;++ye){const Le=r?this.Tn(r[ye/K]):Nl,lt=this.En(e,Le,s[ye%K],d),Lt=this.dn(e,Le,y[ye%K],b),rn=R.map(Gt=>this.En(e,Le,Gt,!0));ae.push(...this.createRange(lt,Lt,rn))}return ae}En(e,r,s,d){const y=new ha(e,Ut.empty(),r,s);return d?y:y.Jt()}dn(e,r,s,d){const y=new ha(e,Ut.empty(),r,s);return d?y.Jt():y}ln(e,r){const s=new yd(r),d=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,d).next(y=>{let b=null;for(const R of y)s.tn(R)&&(!b||R.fields.length>b.fields.length)&&(b=R);return b})}getIndexType(e,r){let s=2;const d=this.cn(r);return Ze.forEach(d,y=>this.ln(e,y).next(b=>{b?0!==s&&b.fields.length<function(V){let K=new jr(Kn.comparator),ae=!1;for(const ye of V.filters)for(const Le of ye.getFlattenedFilters())Le.field.isKeyField()||("array-contains"===Le.op||"array-contains-any"===Le.op?ae=!0:K=K.add(Le.field));for(const ye of V.orderBy)ye.field.isKeyField()||(K=K.add(ye.field));return K.size+(ae?1:0)}(y)&&(s=1):s=0})).next(()=>null!==r.limit&&d.length>1&&2===s?1:s)}An(e,r){const s=new xo;for(const d of Rn(e)){const y=r.data.field(d.fieldPath);if(null==y)return null;const b=s.Ht(d.kind);Ta.bt.Pt(y,b)}return s.Wt()}Tn(e){const r=new xo;return Ta.bt.Pt(e,r.Ht(0)),r.Wt()}Rn(e,r){const s=new xo;return Ta.bt.Pt(an(this.databaseId,r),s.Ht(function(y){const b=Rn(y);return 0===b.length?0:b[b.length-1].kind}(e))),s.Wt()}Pn(e,r,s){if(null===s)return[];let d=[];d.push(new xo);let y=0;for(const b of Rn(e)){const R=s[y++];for(const V of d)if(this.Vn(r,b.fieldPath)&&Cr(R))d=this.mn(d,b,R);else{const K=V.Ht(b.kind);Ta.bt.Pt(R,K)}}return this.fn(d)}hn(e,r,s){return this.Pn(e,r,s.position)}fn(e){const r=[];for(let s=0;s<e.length;++s)r[s]=e[s].Wt();return r}mn(e,r,s){const d=[...e],y=[];for(const b of s.arrayValue.values||[])for(const R of d){const V=new xo;V.seed(R.Wt()),Ta.bt.Pt(b,V.Ht(r.kind)),y.push(V)}return y}Vn(e,r){return!!e.filters.find(s=>s instanceof sr&&s.field.isEqual(r)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,r){const s=kl(e),d=Aa(e);return(r?s.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):s.U()).next(y=>{const b=[];return Ze.forEach(y,R=>d.get([R.indexId,this.uid]).next(V=>{b.push(function(ae,ye){const Le=ye?new Hn(ye.sequenceNumber,new cn(Ns(ye.readTime),new Ut(dn(ye.documentKey)),ye.largestBatchId)):Hn.empty(),lt=ae.fields.map(([Lt,rn])=>new Rr(Kn.fromServerFormat(Lt),rn));return new bn(ae.indexId,ae.collectionGroup,lt,Le)}(R,V))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((s,d)=>{const y=s.indexState.sequenceNumber-d.indexState.sequenceNumber;return 0!==y?y:Yt(s.collectionGroup,d.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,s){const d=kl(e),y=Aa(e);return this.gn(e).next(b=>d.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(R=>Ze.forEach(R,V=>y.put(Kc(V.indexId,this.uid,b,s)))))}updateIndexEntries(e,r){const s=new Map;return Ze.forEach(r,(d,y)=>{const b=s.get(d.collectionGroup);return(b?Ze.resolve(b):this.getFieldIndexes(e,d.collectionGroup)).next(R=>(s.set(d.collectionGroup,R),Ze.forEach(R,V=>this.pn(e,d,V).next(K=>{const ae=this.yn(y,V);return K.isEqual(ae)?Ze.resolve():this.wn(e,y,V,K,ae)}))))})}Sn(e,r,s,d){return fa(e).put({indexId:d.indexId,uid:this.uid,arrayValue:d.arrayValue,directionalValue:d.directionalValue,orderedDocumentKey:this.Rn(s,r.key),documentKey:r.key.path.toArray()})}bn(e,r,s,d){return fa(e).delete([d.indexId,this.uid,d.arrayValue,d.directionalValue,this.Rn(s,r.key),r.key.path.toArray()])}pn(e,r,s){const d=fa(e);let y=new jr(Zo);return d.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.Rn(s,r)])},(b,R)=>{y=y.add(new ha(s.indexId,r,R.arrayValue,R.directionalValue))}).next(()=>y)}yn(e,r){let s=new jr(Zo);const d=this.An(r,e);if(null==d)return s;const y=Vn(r);if(null!=y){const b=e.data.field(y.fieldPath);if(Cr(b))for(const R of b.arrayValue.values||[])s=s.add(new ha(r.indexId,e.key,this.Tn(R),d))}else s=s.add(new ha(r.indexId,e.key,Nl,d));return s}wn(e,r,s,d,y){me("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const b=[];return function(V,K,ae,ye,Le){const lt=V.getIterator(),Lt=K.getIterator();let rn=Vs(lt),Gt=Vs(Lt);for(;rn||Gt;){let Ln=!1,Jn=!1;if(rn&&Gt){const $n=ae(rn,Gt);$n<0?Jn=!0:$n>0&&(Ln=!0)}else null!=rn?Jn=!0:Ln=!0;Ln?(ye(Gt),Gt=Vs(Lt)):Jn?(Le(rn),rn=Vs(lt)):(rn=Vs(lt),Gt=Vs(Lt))}}(d,y,Zo,R=>{b.push(this.Sn(e,r,s,R))},R=>{b.push(this.bn(e,r,s,R))}),Ze.waitFor(b)}gn(e){let r=1;return Aa(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,d,y)=>{y.done(),r=d.sequenceNumber+1}).next(()=>r)}createRange(e,r,s){s=s.sort((b,R)=>Zo(b,R)).filter((b,R,V)=>!R||0!==Zo(b,V[R-1]));const d=[];d.push(e);for(const b of s){const R=Zo(b,e),V=Zo(b,r);if(0===R)d[0]=e.Jt();else if(R>0&&V<0)d.push(b),d.push(b.Jt());else if(V>0)break}d.push(r);const y=[];for(let b=0;b<d.length;b+=2){if(this.Dn(d[b],d[b+1]))return[];y.push(IDBKeyRange.bound([d[b].indexId,this.uid,d[b].arrayValue,d[b].directionalValue,Nl,[]],[d[b+1].indexId,this.uid,d[b+1].arrayValue,d[b+1].directionalValue,Nl,[]]))}return y}Dn(e,r){return Zo(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(Jm)}getMinOffset(e,r){return Ze.mapArray(this.cn(r),s=>this.ln(e,s).next(d=>d||Tt())).next(Jm)}}function Cg(l){return Vr(l,"collectionParents")}function fa(l){return Vr(l,"indexEntries")}function kl(l){return Vr(l,"indexConfiguration")}function Aa(l){return Vr(l,"indexState")}function Jm(l){Ft(0!==l.length);let e=l[0].indexState.offset,r=e.largestBatchId;for(let s=1;s<l.length;s++){const d=l[s].indexState.offset;ui(d,e)<0&&(e=d),r<d.largestBatchId&&(r=d.largestBatchId)}return new cn(e.readTime,e.documentKey,r)}const bd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class As{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new As(e,As.DEFAULT_COLLECTION_PERCENTILE,As.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function wg(l,e,r){const s=l.store("mutations"),d=l.store("documentMutations"),y=[],b=IDBKeyRange.only(r.batchId);let R=0;const V=s.J({range:b},(ae,ye,Le)=>(R++,Le.delete()));y.push(V.next(()=>{Ft(1===R)}));const K=[];for(const ae of r.mutations){const ye=Re(e,ae.key.path,r.batchId);y.push(d.delete(ye)),K.push(ae.key)}return Ze.waitFor(y).next(()=>K)}function Ws(l){if(!l)return 0;let e;if(l.document)e=l.document;else if(l.unknownDocument)e=l.unknownDocument;else{if(!l.noDocument)throw Tt();e=l.noDocument}return JSON.stringify(e).length}As.DEFAULT_COLLECTION_PERCENTILE=10,As.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,As.DEFAULT=new As(41943040,As.DEFAULT_COLLECTION_PERCENTILE,As.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),As.DISABLED=new As(-1,0,0);class Vh{constructor(e,r,s,d){this.userId=e,this.serializer=r,this.indexManager=s,this.referenceDelegate=d,this.Cn={}}static lt(e,r,s,d){Ft(""!==e.uid);const y=e.isAuthenticated()?e.uid:"";return new Vh(y,r,s,d)}checkEmpty(e){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fs(e).J({index:"userMutationsIndex",range:s},(d,y,b)=>{r=!1,b.done()}).next(()=>r)}addMutationBatch(e,r,s,d){const y=Da(e),b=Fs(e);return b.add({}).next(R=>{Ft("number"==typeof R);const V=new Gi(R,r,s,d),K=function(lt,Lt,rn){const Gt=rn.baseMutations.map(Jn=>Os(lt.ct,Jn)),Ln=rn.mutations.map(Jn=>Os(lt.ct,Jn));return{userId:Lt,batchId:rn.batchId,localWriteTimeMs:rn.localWriteTime.toMillis(),baseMutations:Gt,mutations:Ln}}(this.serializer,this.userId,V),ae=[];let ye=new jr((Le,lt)=>Yt(Le.canonicalString(),lt.canonicalString()));for(const Le of d){const lt=Re(this.userId,Le.key.path,R);ye=ye.add(Le.key.path.popLast()),ae.push(b.put(K)),ae.push(y.put(lt,Be))}return ye.forEach(Le=>{ae.push(this.indexManager.addToCollectionParentIndex(e,Le))}),e.addOnCommittedListener(()=>{this.Cn[R]=V.keys()}),Ze.waitFor(ae).next(()=>V)})}lookupMutationBatch(e,r){return Fs(e).get(r).next(s=>s?(Ft(s.userId===this.userId),ro(this.serializer,s)):null)}vn(e,r){return this.Cn[r]?Ze.resolve(this.Cn[r]):this.lookupMutationBatch(e,r).next(s=>{if(s){const d=s.keys();return this.Cn[r]=d,d}return null})}getNextMutationBatchAfterBatchId(e,r){const s=r+1,d=IDBKeyRange.lowerBound([this.userId,s]);let y=null;return Fs(e).J({index:"userMutationsIndex",range:d},(b,R,V)=>{R.userId===this.userId&&(Ft(R.batchId>=s),y=ro(this.serializer,R)),V.done()}).next(()=>y)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Fs(e).J({index:"userMutationsIndex",range:r,reverse:!0},(d,y,b)=>{s=y.batchId,b.done()}).next(()=>s)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fs(e).U("userMutationsIndex",r).next(s=>s.map(d=>ro(this.serializer,d)))}getAllMutationBatchesAffectingDocumentKey(e,r){const s=Fe(this.userId,r.path),d=IDBKeyRange.lowerBound(s),y=[];return Da(e).J({range:d},(b,R,V)=>{const[K,ae,ye]=b,Le=dn(ae);if(K===this.userId&&r.path.isEqual(Le))return Fs(e).get(ye).next(lt=>{if(!lt)throw Tt();Ft(lt.userId===this.userId),y.push(ro(this.serializer,lt))});V.done()}).next(()=>y)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new jr(Yt);const d=[];return r.forEach(y=>{const b=Fe(this.userId,y.path),R=IDBKeyRange.lowerBound(b),V=Da(e).J({range:R},(K,ae,ye)=>{const[Le,lt,Lt]=K,rn=dn(lt);Le===this.userId&&y.path.isEqual(rn)?s=s.add(Lt):ye.done()});d.push(V)}),Ze.waitFor(d).next(()=>this.Fn(e,s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,d=s.length+1,y=Fe(this.userId,s),b=IDBKeyRange.lowerBound(y);let R=new jr(Yt);return Da(e).J({range:b},(V,K,ae)=>{const[ye,Le,lt]=V,Lt=dn(Le);ye===this.userId&&s.isPrefixOf(Lt)?Lt.length===d&&(R=R.add(lt)):ae.done()}).next(()=>this.Fn(e,R))}Fn(e,r){const s=[],d=[];return r.forEach(y=>{d.push(Fs(e).get(y).next(b=>{if(null===b)throw Tt();Ft(b.userId===this.userId),s.push(ro(this.serializer,b))}))}),Ze.waitFor(d).next(()=>s)}removeMutationBatch(e,r){return wg(e._e,this.userId,r).next(s=>(e.addOnCommittedListener(()=>{this.Mn(r.batchId)}),Ze.forEach(s,d=>this.referenceDelegate.markPotentiallyOrphaned(e,d))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return Ze.resolve();const s=IDBKeyRange.lowerBound([this.userId]),d=[];return Da(e).J({range:s},(y,b,R)=>{if(y[0]===this.userId){const V=dn(y[1]);d.push(V)}else R.done()}).next(()=>{Ft(0===d.length)})})}containsKey(e,r){return Td(e,this.userId,r)}xn(e){return Fl(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Td(l,e,r){const s=Fe(e,r.path),d=s[1],y=IDBKeyRange.lowerBound(s);let b=!1;return Da(l).J({range:y,H:!0},(R,V,K)=>{const[ae,ye,Le]=R;ae===e&&ye===d&&(b=!0),K.done()}).next(()=>b)}function Fs(l){return Vr(l,"mutations")}function Da(l){return Vr(l,"documentMutations")}function Fl(l){return Vr(l,"mutationQueues")}class gc{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new gc(0)}static Ln(){return new gc(-1)}}class Zf{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Bn(e).next(r=>{const s=new gc(r.highestTargetId);return r.highestTargetId=s.next(),this.kn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(r=>en.fromTimestamp(new kn(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,s){return this.Bn(e).next(d=>(d.highestListenSequenceNumber=r,s&&(d.lastRemoteSnapshotVersion=s.toTimestamp()),r>d.highestListenSequenceNumber&&(d.highestListenSequenceNumber=r),this.kn(e,d)))}addTargetData(e,r){return this.qn(e,r).next(()=>this.Bn(e).next(s=>(s.targetCount+=1,this.Qn(r,s),this.kn(e,s))))}updateTargetData(e,r){return this.qn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Yc(e).delete(r.targetId)).next(()=>this.Bn(e)).next(s=>(Ft(s.targetCount>0),s.targetCount-=1,this.kn(e,s)))}removeTargets(e,r,s){let d=0;const y=[];return Yc(e).J((b,R)=>{const V=mo(R);V.sequenceNumber<=r&&null===s.get(V.targetId)&&(d++,y.push(this.removeTargetData(e,V)))}).next(()=>Ze.waitFor(y)).next(()=>d)}forEachTarget(e,r){return Yc(e).J((s,d)=>{const y=mo(d);r(y)})}Bn(e){return Ti(e).get("targetGlobalKey").next(r=>(Ft(null!==r),r))}kn(e,r){return Ti(e).put("targetGlobalKey",r)}qn(e,r){return Yc(e).put(fc(this.serializer,r))}Qn(e,r){let s=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,s=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Bn(e).next(r=>r.targetCount)}getTargetData(e,r){const s=Bn(r),d=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let y=null;return Yc(e).J({range:d,index:"queryTargetsIndex"},(b,R,V)=>{const K=mo(R);ur(r,K.target)&&(y=K,V.done())}).next(()=>y)}addMatchingKeys(e,r,s){const d=[],y=pa(e);return r.forEach(b=>{const R=kt(b.path);d.push(y.put({targetId:s,path:R})),d.push(this.referenceDelegate.addReference(e,s,b))}),Ze.waitFor(d)}removeMatchingKeys(e,r,s){const d=pa(e);return Ze.forEach(r,y=>{const b=kt(y.path);return Ze.waitFor([d.delete([s,b]),this.referenceDelegate.removeReference(e,s,y)])})}removeMatchingKeysForTargetId(e,r){const s=pa(e),d=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(d)}getMatchingKeysForTargetId(e,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),d=pa(e);let y=fr();return d.J({range:s,H:!0},(b,R,V)=>{const K=dn(b[1]),ae=new Ut(K);y=y.add(ae)}).next(()=>y)}containsKey(e,r){const s=kt(r.path),d=IDBKeyRange.bound([s],[Mn(s)],!1,!0);let y=0;return pa(e).J({index:"documentTargetsIndex",H:!0,range:d},([b,R],V,K)=>{0!==b&&(y++,K.done())}).next(()=>y>0)}ot(e,r){return Yc(e).get(r).next(s=>s?mo(s):null)}}function Yc(l){return Vr(l,"targets")}function Ti(l){return Vr(l,"targetGlobal")}function pa(l){return Vr(l,"targetDocuments")}function Ll([l,e],[r,s]){const d=Yt(l,r);return 0===d?Yt(e,s):d}class Uh{constructor(e){this.Kn=e,this.buffer=new jr(Ll),this.$n=0}Un(){return++this.$n}Wn(e){const r=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();Ll(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Iu{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var r=this;me("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,g.Z)(function*(){r.Gn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(s){Fn(s)?me("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield gr(s)}yield r.zn(3e5)}))}}class Qc{constructor(e,r){this.jn=e,this.params=r}calculateTargetCount(e,r){return this.jn.Hn(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(0===r)return Ze.resolve(F.oe);const s=new Uh(r);return this.jn.forEachTarget(e,d=>s.Wn(d.sequenceNumber)).next(()=>this.jn.Jn(e,d=>s.Wn(d))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.jn.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector","Garbage collection skipped; disabled"),Ze.resolve(bd)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bd):this.Yn(e,r))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,r){let s,d,y,b,R,V,K;const ae=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ye=>(ye>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ye}`),d=this.params.maximumSequenceNumbersToCollect):d=ye,b=Date.now(),this.nthSequenceNumber(e,d))).next(ye=>(s=ye,R=Date.now(),this.removeTargets(e,s,r))).next(ye=>(y=ye,V=Date.now(),this.removeOrphanedDocuments(e,s))).next(ye=>(K=Date.now(),Dt()<=Ie.in.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-ae}ms\n\tDetermined least recently used ${d} in `+(R-b)+`ms\n\tRemoved ${y} targets in `+(V-R)+`ms\n\tRemoved ${ye} documents in `+(K-V)+`ms\nTotal Duration: ${K-ae}ms`),Ze.resolve({didRun:!0,sequenceNumbersCollected:d,targetsRemoved:y,documentsRemoved:ye})))}}class Kf{constructor(e,r){this.db=e,this.garbageCollector=function Cd(l,e){return new Qc(l,e)}(this,r)}Hn(e){const r=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>r.next(d=>s+d))}Zn(e){let r=0;return this.Jn(e,s=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Jn(e,r){return this.Xn(e,(s,d)=>r(d))}addReference(e,r,s){return bu(e,s)}removeReference(e,r,s){return bu(e,s)}removeTargets(e,r,s){return this.db.getTargetCache().removeTargets(e,r,s)}markPotentiallyOrphaned(e,r){return bu(e,r)}er(e,r){return function(d,y){let b=!1;return Fl(d).Y(R=>Td(d,R,y).next(V=>(V&&(b=!0),Ze.resolve(!V)))).next(()=>b)}(e,r)}removeOrphanedDocuments(e,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),d=[];let y=0;return this.Xn(e,(b,R)=>{if(R<=r){const V=this.er(e,b).next(K=>{if(!K)return y++,s.getEntry(e,b).next(()=>(s.removeEntry(b,en.min()),pa(e).delete([0,kt(b.path)])))});d.push(V)}}).next(()=>Ze.waitFor(d)).next(()=>s.apply(e)).next(()=>y)}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,r){return bu(e,r)}Xn(e,r){const s=pa(e);let d,y=F.oe;return s.J({index:"documentTargetsIndex"},([b,R],{path:V,sequenceNumber:K})=>{0===b?(y!==F.oe&&r(new Ut(dn(d)),y),y=K,d=V):y=F.oe}).next(()=>{y!==F.oe&&r(new Ut(dn(d)),y)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function bu(l,e){return pa(l).put((d=l.currentSequenceNumber,{targetId:0,path:kt(e.path),sequenceNumber:d}));var d}class mc{constructor(){this.changes=new ps(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,zn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?Ze.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Yf{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,s){return Sa(e).put(s)}removeEntry(e,r,s){return Sa(e).delete(function(y,b){const R=y.path.toArray();return[R.slice(0,R.length-2),R[R.length-2],Xr(b),R[R.length-1]]}(r,s))}updateMetadata(e,r){return this.getMetadata(e).next(s=>(s.byteSize+=r,this.tr(e,s)))}getEntry(e,r){let s=zn.newInvalidDocument(r);return Sa(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(_c(r))},(d,y)=>{s=this.nr(r,y)}).next(()=>s)}rr(e,r){let s={size:0,document:zn.newInvalidDocument(r)};return Sa(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(_c(r))},(d,y)=>{s={document:this.nr(r,y),size:Ws(y)}}).next(()=>s)}getEntries(e,r){let s=Nr();return this.ir(e,r,(d,y)=>{const b=this.nr(d,y);s=s.insert(d,b)}).next(()=>s)}sr(e,r){let s=Nr(),d=new Kr(Ut.comparator);return this.ir(e,r,(y,b)=>{const R=this.nr(y,b);s=s.insert(y,R),d=d.insert(y,Ws(b))}).next(()=>({documents:s,_r:d}))}ir(e,r,s){if(r.isEmpty())return Ze.resolve();let d=new jr(Cu);r.forEach(V=>d=d.add(V));const y=IDBKeyRange.bound(_c(d.first()),_c(d.last())),b=d.getIterator();let R=b.getNext();return Sa(e).J({index:"documentKeyIndex",range:y},(V,K,ae)=>{const ye=Ut.fromSegments([...K.prefixPath,K.collectionGroup,K.documentId]);for(;R&&Cu(R,ye)<0;)s(R,null),R=b.getNext();R&&R.isEqual(ye)&&(s(R,K),R=b.hasNext()?b.getNext():null),R?ae.$(_c(R)):ae.done()}).next(()=>{for(;R;)s(R,null),R=b.hasNext()?b.getNext():null})}getDocumentsMatchingQuery(e,r,s,d,y){const b=r.path,R=[b.popLast().toArray(),b.lastSegment(),Xr(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],V=[b.popLast().toArray(),b.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Sa(e).U(IDBKeyRange.bound(R,V,!0)).next(K=>{y?.incrementDocumentReadCount(K.length);let ae=Nr();for(const ye of K){const Le=this.nr(Ut.fromSegments(ye.prefixPath.concat(ye.collectionGroup,ye.documentId)),ye);Le.isFoundDocument()&&(va(r,Le)||d.has(Le.key))&&(ae=ae.insert(Le.key,Le))}return ae})}getAllFromCollectionGroup(e,r,s,d){let y=Nr();const b=jh(r,s),R=jh(r,cn.max());return Sa(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,R,!0)},(V,K,ae)=>{const ye=this.nr(Ut.fromSegments(K.prefixPath.concat(K.collectionGroup,K.documentId)),K);y=y.insert(ye.key,ye),y.size===d&&ae.done()}).next(()=>y)}newChangeBuffer(e){return new Bh(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Tu(e).get("remoteDocumentGlobalKey").next(r=>(Ft(!!r),r))}tr(e,r){return Tu(e).put("remoteDocumentGlobalKey",r)}nr(e,r){if(r){const s=function Tn(l,e){let r;if(e.document)r=ws(l.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Ut.fromSegments(e.noDocument.path),d=Ns(e.noDocument.readTime);r=zn.newNoDocument(s,d),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return Tt();{const s=Ut.fromSegments(e.unknownDocument.path),d=Ns(e.unknownDocument.version);r=zn.newUnknownDocument(s,d)}}return e.readTime&&r.setReadTime(function(d){const y=new kn(d[0],d[1]);return en.fromTimestamp(y)}(e.readTime)),r}(this.serializer,r);if(!s.isNoDocument()||!s.version.isEqual(en.min()))return s}return zn.newInvalidDocument(e)}}function Ls(l){return new Yf(l)}class Bh extends mc{constructor(e,r){super(),this.ar=e,this.trackRemovals=r,this.ur=new ps(s=>s.toString(),(s,d)=>s.isEqual(d))}applyChanges(e){const r=[];let s=0,d=new jr((y,b)=>Yt(y.canonicalString(),b.canonicalString()));return this.changes.forEach((y,b)=>{const R=this.ur.get(y);if(r.push(this.ar.removeEntry(e,y,R.readTime)),b.isValidDocument()){const V=Dr(this.ar.serializer,b);d=d.add(y.path.popLast());const K=Ws(V);s+=K-R.size,r.push(this.ar.addEntry(e,y,V))}else if(s-=R.size,this.trackRemovals){const V=Dr(this.ar.serializer,b.convertToNoDocument(en.min()));r.push(this.ar.addEntry(e,y,V))}}),d.forEach(y=>{r.push(this.ar.indexManager.addToCollectionParentIndex(e,y))}),r.push(this.ar.updateMetadata(e,s)),Ze.waitFor(r)}getFromCache(e,r){return this.ar.rr(e,r).next(s=>(this.ur.set(r,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,r){return this.ar.sr(e,r).next(({documents:s,_r:d})=>(d.forEach((y,b)=>{this.ur.set(y,{size:b,readTime:s.get(y).readTime})}),s))}}function Tu(l){return Vr(l,"remoteDocumentGlobal")}function Sa(l){return Vr(l,"remoteDocumentsV14")}function _c(l){const e=l.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function jh(l,e){const r=e.documentKey.path.toArray();return[l,Xr(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Cu(l,e){const r=l.path.toArray(),s=e.path.toArray();let d=0;for(let y=0;y<r.length-2&&y<s.length-2;++y)if(d=Yt(r[y],s[y]),d)return d;return d=Yt(r.length,s.length),d||(d=Yt(r[r.length-2],s[s.length-2]),d||Yt(r[r.length-1],s[s.length-1]))}class Jc{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class yc{constructor(e,r,s,d){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=d}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(d=>(s=d,this.remoteDocumentCache.getEntry(e,r))).next(d=>(null!==s&&we(s.mutation,d,Ni.empty(),kn.now()),d))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,fr()).next(()=>s))}getLocalViewOfDocuments(e,r,s=fr()){const d=to();return this.populateOverlays(e,d,r).next(()=>this.computeViews(e,r,d,s).next(y=>{let b=Yi();return y.forEach((R,V)=>{b=b.insert(R,V.overlayedDocument)}),b}))}getOverlayedDocuments(e,r){const s=to();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,fr()))}populateOverlays(e,r,s){const d=[];return s.forEach(y=>{r.has(y)||d.push(y)}),this.documentOverlayCache.getOverlays(e,d).next(y=>{y.forEach((b,R)=>{r.set(b,R)})})}computeViews(e,r,s,d){let y=Nr();const b=po(),R=po();return r.forEach((V,K)=>{const ae=s.get(K.key);d.has(K.key)&&(void 0===ae||ae.mutation instanceof kr)?y=y.insert(K.key,K):void 0!==ae?(b.set(K.key,ae.mutation.getFieldMask()),we(ae.mutation,K,ae.mutation.getFieldMask(),kn.now())):b.set(K.key,Ni.empty())}),this.recalculateAndSaveOverlays(e,y).next(V=>(V.forEach((K,ae)=>b.set(K,ae)),r.forEach((K,ae)=>{var ye;return R.set(K,new Jc(ae,null!==(ye=b.get(K))&&void 0!==ye?ye:null))}),R))}recalculateAndSaveOverlays(e,r){const s=po();let d=new Kr((b,R)=>b-R),y=fr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(b=>{for(const R of b)R.keys().forEach(V=>{const K=r.get(V);if(null===K)return;let ae=s.get(V)||Ni.empty();ae=R.applyToLocalView(K,ae),s.set(V,ae);const ye=(d.get(R.batchId)||fr()).add(V);d=d.insert(R.batchId,ye)})}).next(()=>{const b=[],R=d.getReverseIterator();for(;R.hasNext();){const V=R.getNext(),K=V.key,ae=V.value,ye=fo();ae.forEach(Le=>{if(!y.has(Le)){const lt=$(r.get(Le),s.get(Le));null!==lt&&ye.set(Le,lt),y=y.add(Le)}}),b.push(this.documentOverlayCache.saveOverlays(e,K,ye))}return Ze.waitFor(b)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,d){return Ut.isDocumentKey((b=r).path)&&null===b.collectionGroup&&0===b.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):_r(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,d):this.getDocumentsMatchingCollectionQuery(e,r,s,d);var b}getNextDocuments(e,r,s,d){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,d).next(y=>{const b=d-y.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,d-y.size):Ze.resolve(to());let R=-1,V=y;return b.next(K=>Ze.forEach(K,(ae,ye)=>(R<ye.largestBatchId&&(R=ye.largestBatchId),y.get(ae)?Ze.resolve():this.remoteDocumentCache.getEntry(e,ae).next(Le=>{V=V.insert(ae,Le)}))).next(()=>this.populateOverlays(e,K,y)).next(()=>this.computeViews(e,V,K,fr())).next(ae=>({batchId:R,changes:fu(ae)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ut(r)).next(s=>{let d=Yi();return s.isFoundDocument()&&(d=d.insert(s.key,s)),d})}getDocumentsMatchingCollectionGroupQuery(e,r,s,d){const y=r.collectionGroup;let b=Yi();return this.indexManager.getCollectionParents(e,y).next(R=>Ze.forEach(R,V=>{const K=(ye=r,Le=V.child(y),new L(Le,null,ye.explicitOrderBy.slice(),ye.filters.slice(),ye.limit,ye.limitType,ye.startAt,ye.endAt));var ye,Le;return this.getDocumentsMatchingCollectionQuery(e,K,s,d).next(ae=>{ae.forEach((ye,Le)=>{b=b.insert(ye,Le)})})}).next(()=>b))}getDocumentsMatchingCollectionQuery(e,r,s,d){let y;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(b=>(y=b,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,y,d))).next(b=>{y.forEach((V,K)=>{const ae=K.getKey();null===b.get(ae)&&(b=b.insert(ae,zn.newInvalidDocument(ae)))});let R=Yi();return b.forEach((V,K)=>{const ae=y.get(V);void 0!==ae&&we(ae.mutation,K,Ni.empty(),kn.now()),va(r,K)&&(R=R.insert(V,K))}),R})}}class Wa{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return Ze.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(d=r).id,version:d.version,createTime:ki(d.createTime)}),Ze.resolve();var d}getNamedQuery(e,r){return Ze.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(d=r).name,query:_o(d.bundledQuery),readTime:ki(d.readTime)}),Ze.resolve();var d}}class vn{constructor(){this.overlays=new Kr(Ut.comparator),this.hr=new Map}getOverlay(e,r){return Ze.resolve(this.overlays.get(r))}getOverlays(e,r){const s=to();return Ze.forEach(r,d=>this.getOverlay(e,d).next(y=>{null!==y&&s.set(d,y)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((d,y)=>{this.ht(e,r,y)}),Ze.resolve()}removeOverlaysForBatchId(e,r,s){const d=this.hr.get(s);return void 0!==d&&(d.forEach(y=>this.overlays=this.overlays.remove(y)),this.hr.delete(s)),Ze.resolve()}getOverlaysForCollection(e,r,s){const d=to(),y=r.length+1,b=new Ut(r.child("")),R=this.overlays.getIteratorFrom(b);for(;R.hasNext();){const V=R.getNext().value,K=V.getKey();if(!r.isPrefixOf(K.path))break;K.path.length===y&&V.largestBatchId>s&&d.set(V.getKey(),V)}return Ze.resolve(d)}getOverlaysForCollectionGroup(e,r,s,d){let y=new Kr((K,ae)=>K-ae);const b=this.overlays.getIterator();for(;b.hasNext();){const K=b.getNext().value;if(K.getKey().getCollectionGroup()===r&&K.largestBatchId>s){let ae=y.get(K.largestBatchId);null===ae&&(ae=to(),y=y.insert(K.largestBatchId,ae)),ae.set(K.getKey(),K)}}const R=to(),V=y.getIterator();for(;V.hasNext()&&(V.getNext().value.forEach((K,ae)=>R.set(K,ae)),!(R.size()>=d)););return Ze.resolve(R)}ht(e,r,s){const d=this.overlays.get(s.key);if(null!==d){const b=this.hr.get(d.largestBatchId).delete(s.key);this.hr.set(d.largestBatchId,b)}this.overlays=this.overlays.insert(s.key,new gs(r,s));let y=this.hr.get(r);void 0===y&&(y=fr(),this.hr.set(r,y)),this.hr.set(r,y.add(s.key))}}class vc{constructor(){this.Pr=new jr(qi.Ir),this.Tr=new jr(qi.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const s=new qi(e,r);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Ar(new qi(e,r))}Rr(e,r){e.forEach(s=>this.removeReference(s,r))}Vr(e){const r=new Ut(new On([])),s=new qi(r,e),d=new qi(r,e+1),y=[];return this.Tr.forEachInRange([s,d],b=>{this.Ar(b),y.push(b.key)}),y}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new Ut(new On([])),s=new qi(r,e),d=new qi(r,e+1);let y=fr();return this.Tr.forEachInRange([s,d],b=>{y=y.add(b.key)}),y}containsKey(e){const r=new qi(e,0),s=this.Pr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class qi{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return Ut.comparator(e.key,r.key)||Yt(e.pr,r.pr)}static Er(e,r){return Yt(e.pr,r.pr)||Ut.comparator(e.key,r.key)}}class Xm{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new jr(qi.Ir)}checkEmpty(e){return Ze.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,d){const y=this.yr;this.yr++;const b=new Gi(y,r,s,d);this.mutationQueue.push(b);for(const R of d)this.wr=this.wr.add(new qi(R.key,y)),this.indexManager.addToCollectionParentIndex(e,R.key.path.popLast());return Ze.resolve(b)}lookupMutationBatch(e,r){return Ze.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const d=this.br(r+1),y=d<0?0:d;return Ze.resolve(this.mutationQueue.length>y?this.mutationQueue[y]:null)}getHighestUnacknowledgedBatchId(){return Ze.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return Ze.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new qi(r,0),d=new qi(r,Number.POSITIVE_INFINITY),y=[];return this.wr.forEachInRange([s,d],b=>{const R=this.Sr(b.pr);y.push(R)}),Ze.resolve(y)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new jr(Yt);return r.forEach(d=>{const y=new qi(d,0),b=new qi(d,Number.POSITIVE_INFINITY);this.wr.forEachInRange([y,b],R=>{s=s.add(R.pr)})}),Ze.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,d=s.length+1;let y=s;Ut.isDocumentKey(y)||(y=y.child(""));const b=new qi(new Ut(y),0);let R=new jr(Yt);return this.wr.forEachWhile(V=>{const K=V.key.path;return!!s.isPrefixOf(K)&&(K.length===d&&(R=R.add(V.pr)),!0)},b),Ze.resolve(this.Dr(R))}Dr(e){const r=[];return e.forEach(s=>{const d=this.Sr(s);null!==d&&r.push(d)}),r}removeMutationBatch(e,r){Ft(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return Ze.forEach(r.mutations,d=>{const y=new qi(d.key,r.batchId);return s=s.delete(y),this.referenceDelegate.markPotentiallyOrphaned(e,d.key)}).next(()=>{this.wr=s})}Mn(e){}containsKey(e,r){const s=new qi(r,0),d=this.wr.firstAfterOrEqual(s);return Ze.resolve(r.isEqual(d&&d.key))}performConsistencyCheck(e){return Ze.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class Ag{constructor(e){this.vr=e,this.docs=new Kr(Ut.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,d=this.docs.get(s),y=d?d.size:0,b=this.vr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:b}),this.size+=b-y,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return Ze.resolve(s?s.document.mutableCopy():zn.newInvalidDocument(r))}getEntries(e,r){let s=Nr();return r.forEach(d=>{const y=this.docs.get(d);s=s.insert(d,y?y.document.mutableCopy():zn.newInvalidDocument(d))}),Ze.resolve(s)}getDocumentsMatchingQuery(e,r,s,d){let y=Nr();const b=r.path,R=new Ut(b.child("")),V=this.docs.getIteratorFrom(R);for(;V.hasNext();){const{key:K,value:{document:ae}}=V.getNext();if(!b.isPrefixOf(K.path))break;K.path.length>b.length+1||ui(li(ae),s)<=0||(d.has(ae.key)||va(r,ae))&&(y=y.insert(ae.key,ae.mutableCopy()))}return Ze.resolve(y)}getAllFromCollectionGroup(e,r,s,d){Tt()}Fr(e,r){return Ze.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new Qf(this)}getSize(e){return Ze.resolve(this.size)}}class Qf extends mc{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((s,d)=>{d.isValidDocument()?r.push(this.ar.addEntry(e,d)):this.ar.removeEntry(s)}),Ze.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class e_{constructor(e){this.persistence=e,this.Mr=new ps(r=>Bn(r),ur),this.lastRemoteSnapshotVersion=en.min(),this.highestTargetId=0,this.Or=0,this.Nr=new vc,this.targetCount=0,this.Lr=gc.Nn()}forEachTarget(e,r){return this.Mr.forEach((s,d)=>r(d)),Ze.resolve()}getLastRemoteSnapshotVersion(e){return Ze.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ze.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Ze.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Or&&(this.Or=r),Ze.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Lr=new gc(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,Ze.resolve()}updateTargetData(e,r){return this.qn(r),Ze.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,Ze.resolve()}removeTargets(e,r,s){let d=0;const y=[];return this.Mr.forEach((b,R)=>{R.sequenceNumber<=r&&null===s.get(R.targetId)&&(this.Mr.delete(b),y.push(this.removeMatchingKeysForTargetId(e,R.targetId)),d++)}),Ze.waitFor(y).next(()=>d)}getTargetCount(e){return Ze.resolve(this.targetCount)}getTargetData(e,r){const s=this.Mr.get(r)||null;return Ze.resolve(s)}addMatchingKeys(e,r,s){return this.Nr.dr(r,s),Ze.resolve()}removeMatchingKeys(e,r,s){this.Nr.Rr(r,s);const d=this.persistence.referenceDelegate,y=[];return d&&r.forEach(b=>{y.push(d.markPotentiallyOrphaned(e,b))}),Ze.waitFor(y)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),Ze.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Nr.gr(r);return Ze.resolve(s)}containsKey(e,r){return Ze.resolve(this.Nr.containsKey(r))}}class Jf{constructor(e,r){this.Br={},this.overlays={},this.kr=new F(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new e_(this),this.indexManager=new my,this.remoteDocumentCache=new Ag(s=>this.referenceDelegate.Kr(s)),this.serializer=new pt(r),this.$r=new Wa(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new vn,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.Br[e.toKey()];return s||(s=new Xm(r,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,s){me("MemoryPersistence","Starting transaction:",e);const d=new Dg(this.kr.next());return this.referenceDelegate.Ur(),s(d).next(y=>this.referenceDelegate.Wr(d).next(()=>y)).toPromise().then(y=>(d.raiseOnCommittedEvent(),y))}Gr(e,r){return Ze.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,r)))}}class Dg extends Ar{constructor(e){super(),this.currentSequenceNumber=e}}class $h{constructor(e){this.persistence=e,this.zr=new vc,this.jr=null}static Hr(e){return new $h(e)}get Jr(){if(this.jr)return this.jr;throw Tt()}addReference(e,r,s){return this.zr.addReference(s,r),this.Jr.delete(s.toString()),Ze.resolve()}removeReference(e,r,s){return this.zr.removeReference(s,r),this.Jr.add(s.toString()),Ze.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),Ze.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(d=>this.Jr.add(d.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(d=>{d.forEach(y=>this.Jr.add(y.toString()))}).next(()=>s.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ze.forEach(this.Jr,s=>{const d=Ut.fromPath(s);return this.Yr(e,d).next(y=>{y||r.removeEntry(d,en.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(s=>{s?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return Ze.or([()=>Ze.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class Ul{constructor(e){this.serializer=e}O(e,r,s,d){const y=new It("createOrUpgrade",r);var V;s<1&&d>=1&&(e.createObjectStore("owner"),(V=e).createObjectStore("mutationQueues",{keyPath:"userId"}),V.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ar,{unique:!0}),V.createObjectStore("documentMutations"),Xf(e),function(V){V.createObjectStore("remoteDocuments")}(e));let b=Ze.resolve();return s<3&&d>=3&&(0!==s&&(function(V){V.deleteObjectStore("targetDocuments"),V.deleteObjectStore("targets"),V.deleteObjectStore("targetGlobal")}(e),Xf(e)),b=b.next(()=>function(V){const K=V.store("targetGlobal"),ae={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:en.min().toTimestamp(),targetCount:0};return K.put("targetGlobalKey",ae)}(y))),s<4&&d>=4&&(0!==s&&(b=b.next(()=>function(V,K){return K.store("mutations").U().next(ae=>{V.deleteObjectStore("mutations"),V.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ar,{unique:!0});const ye=K.store("mutations"),Le=ae.map(lt=>ye.put(lt));return Ze.waitFor(Le)})}(e,y))),b=b.next(()=>{!function(V){V.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&d>=5&&(b=b.next(()=>this.Xr(y))),s<6&&d>=6&&(b=b.next(()=>(function(V){V.createObjectStore("remoteDocumentGlobal")}(e),this.ei(y)))),s<7&&d>=7&&(b=b.next(()=>this.ti(y))),s<8&&d>=8&&(b=b.next(()=>this.ni(e,y))),s<9&&d>=9&&(b=b.next(()=>{!function(V){V.objectStoreNames.contains("remoteDocumentChanges")&&V.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&d>=10&&(b=b.next(()=>this.ri(y))),s<11&&d>=11&&(b=b.next(()=>{(function(V){V.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(V){V.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&d>=12&&(b=b.next(()=>{!function(V){const K=V.createObjectStore("documentOverlays",{keyPath:Sr});K.createIndex("collectionPathOverlayIndex",qr,{unique:!1}),K.createIndex("collectionGroupOverlayIndex",ir,{unique:!1})}(e)})),s<13&&d>=13&&(b=b.next(()=>function(V){const K=V.createObjectStore("remoteDocumentsV14",{keyPath:xt});K.createIndex("documentKeyIndex",Wt),K.createIndex("collectionGroupIndex",pn)}(e)).next(()=>this.ii(e,y)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&d>=14&&(b=b.next(()=>this.si(e,y))),s<15&&d>=15&&(b=b.next(()=>function(V){V.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),V.createObjectStore("indexState",{keyPath:as}).createIndex("sequenceNumberIndex",Ui,{unique:!1}),V.createObjectStore("indexEntries",{keyPath:cs}).createIndex("documentKeyIndex",Si,{unique:!1})}(e))),s<16&&d>=16&&(b=b.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),b}ei(e){let r=0;return e.store("remoteDocuments").J((s,d)=>{r+=Ws(d)}).next(()=>{const s={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Xr(e){const r=e.store("mutationQueues"),s=e.store("mutations");return r.U().next(d=>Ze.forEach(d,y=>{const b=IDBKeyRange.bound([y.userId,-1],[y.userId,y.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",b).next(R=>Ze.forEach(R,V=>{Ft(V.userId===y.userId);const K=ro(this.serializer,V);return wg(e,y.userId,K).next(()=>{})}))}))}ti(e){const r=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(d=>{const y=[];return s.J((b,R)=>{const V=new On(b),K=[0,kt(V)];y.push(r.get(K).next(ae=>ae?Ze.resolve():r.put({targetId:0,path:kt(V),sequenceNumber:d.highestListenSequenceNumber})))}).next(()=>Ze.waitFor(y))})}ni(e,r){e.createObjectStore("collectionParents",{keyPath:ri});const s=r.store("collectionParents"),d=new Lh,y=b=>{if(d.add(b)){const R=b.lastSegment(),V=b.popLast();return s.put({collectionId:R,parent:kt(V)})}};return r.store("remoteDocuments").J({H:!0},(b,R)=>{const V=new On(b);return y(V.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([b,R,V],K)=>{const ae=dn(R);return y(ae.popLast())}))}ri(e){const r=e.store("targets");return r.J((s,d)=>{const y=mo(d),b=fc(this.serializer,y);return r.put(b)})}ii(e,r){const s=r.store("remoteDocuments"),d=[];return s.J((y,b)=>{const R=r.store("remoteDocumentsV14"),V=(ye=b,ye.document?new Ut(On.fromString(ye.document.name).popFirst(5)):ye.noDocument?Ut.fromSegments(ye.noDocument.path):ye.unknownDocument?Ut.fromSegments(ye.unknownDocument.path):Tt()).path.toArray(),K={prefixPath:V.slice(0,V.length-2),collectionGroup:V[V.length-2],documentId:V[V.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};var ye;d.push(R.put(K))}).next(()=>Ze.waitFor(d))}si(e,r){const s=r.store("mutations"),d=Ls(this.serializer),y=new Jf($h.Hr,this.serializer.ct);return s.U().next(b=>{const R=new Map;return b.forEach(V=>{var K;let ae=null!==(K=R.get(V.userId))&&void 0!==K?K:fr();ro(this.serializer,V).keys().forEach(ye=>ae=ae.add(ye)),R.set(V.userId,ae)}),Ze.forEach(R,(V,K)=>{const ae=new ct(K),ye=yu.lt(this.serializer,ae),Le=y.getIndexManager(ae),lt=Vh.lt(ae,this.serializer,Le,y.referenceDelegate);return new yc(d,lt,ye,Le).recalculateAndSaveOverlaysForDocumentKeys(new Zi(r,F.oe),V).next()})})}}function Xf(l){l.createObjectStore("targetDocuments",{keyPath:Er}).createIndex("documentTargetsIndex",fn,{unique:!0}),l.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",nn,{unique:!0}),l.createObjectStore("targetGlobal")}const zh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class is{constructor(e,r,s,d,y,b,R,V,K,ae,ye=16){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=s,this.oi=y,this.window=b,this.document=R,this._i=K,this.ai=ae,this.ui=ye,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=Le=>Promise.resolve(),!is.D())throw new _e(Ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Kf(this,d),this.Ti=r+"main",this.serializer=new pt(V),this.Ei=new oe(this.Ti,this.ui,new Ul(this.serializer)),this.Qr=new Zf(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Ls(this.serializer),this.$r=new vi,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===ae&&Ct("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _e(Ne.FAILED_PRECONDITION,zh);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new F(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var r=this;return this.Ii=function(){var s=(0,g.Z)(function*(d){if(r.started)return e(d)});return function(d){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var r=(0,g.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,g.Z)(function*(){r.started&&(yield r.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ec(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(r=>{r||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(r=>this.isPrimary&&!r?this.yi(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(Fn(e))return me("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return me("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return wu(e).get("owner").next(r=>Ze.resolve(this.Si(r)))}bi(e){return Ec(e).delete(this.clientId)}Di(){var e=this;return(0,g.Z)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const d=Vr(s,"clientMetadata");return d.U().next(y=>{const b=e.vi(y,18e5),R=y.filter(V=>-1===b.indexOf(V));return Ze.forEach(R,V=>d.delete(V.clientId)).next(()=>R)})}).catch(()=>[]);if(e.di)for(const s of r)e.di.removeItem(e.Fi(s.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?Ze.resolve(!0):wu(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)){if(this.Si(r)&&this.networkEnabled)return!0;if(!this.Si(r)){if(!r.allowTabSynchronization)throw new _e(Ne.FAILED_PRECONDITION,zh);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ec(e).U().next(s=>void 0===this.vi(s,5e3).find(d=>!(this.clientId===d.clientId||!(!this.networkEnabled&&d.networkEnabled||!this.inForeground&&d.inForeground&&this.networkEnabled===d.networkEnabled))))}).next(r=>(this.isPrimary!==r&&me("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,g.Z)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const s=new Zi(r,F.oe);return e.yi(s).next(()=>e.bi(s))}),e.Ei.close(),e.Li()})()}vi(e,r){return e.filter(s=>this.Ci(s.updateTimeMs,r)&&!this.Mi(s.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Ec(e).U().next(r=>this.vi(r,18e5).map(s=>s.clientId)))}get started(){return this.qr}getMutationQueue(e,r){return Vh.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Eu(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return yu.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,r,s){me("IndexedDbPersistence","Starting transaction:",e);const d="readonly"===r?"readonly":"readwrite",y=16===(V=this.ui)?ls:15===V?bi:14===V?lr:13===V?Ii:12===V?Xs:11===V?_s:void Tt();var V;let b;return this.Ei.runTransaction(e,d,y,R=>(b=new Zi(R,this.kr?this.kr.next():F.oe),"readwrite-primary"===r?this.gi(b).next(V=>!!V||this.pi(b)).next(V=>{if(!V)throw Ct(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new _e(Ne.FAILED_PRECONDITION,er);return s(b)}).next(V=>this.wi(b).next(()=>V)):this.ki(b).next(()=>s(b)))).then(R=>(b.raiseOnCommittedEvent(),R))}ki(e){return wu(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)&&!this.Si(r)&&!(this.ai||this.allowTabSynchronization&&r.allowTabSynchronization))throw new _e(Ne.FAILED_PRECONDITION,zh)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return wu(e).put("owner",r)}static D(){return oe.D()}yi(e){const r=wu(e);return r.get("owner").next(s=>this.Si(s)?(me("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):Ze.resolve())}Ci(e,r){const s=Date.now();return!(e<s-r||e>s&&(Ct(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const r=/(?:Version|Mobile)\/1[456]/;(0,Ee.G6)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var r;try{const s=null!==(null===(r=this.di)||void 0===r?void 0:r.getItem(this.Fi(e)));return me("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Ct("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Ct("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function wu(l){return Vr(l,"owner")}function Ec(l){return Vr(l,"clientMetadata")}function Au(l,e){let r=l.projectId;return l.isDefaultDatabase||(r+="."+l.database),"firestore/"+e+"/"+r+"/"}class Fr{constructor(e,r,s,d){this.targetId=e,this.fromCache=r,this.qi=s,this.Qi=d}static Ki(e,r){let s=fr(),d=fr();for(const y of r.docChanges)switch(y.type){case 0:s=s.add(y.doc.key);break;case 1:d=d.add(y.doc.key)}return new Fr(e,r.fromCache,s,d)}}class Ko{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Xc{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,Ee.G6)()?8:Me((0,Ee.z$)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,s,d){const y={result:null};return this.ji(e,r).next(b=>{y.result=b}).next(()=>{if(!y.result)return this.Hi(e,r,d,s).next(b=>{y.result=b})}).next(()=>{if(y.result)return;const b=new Ko;return this.Ji(e,r,b).next(R=>{if(y.result=R,this.Ui)return this.Yi(e,r,b,R.size)})}).next(()=>y.result)}Yi(e,r,s,d){return s.documentReadCount<this.Wi?(Dt()<=Ie.in.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",sc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Ze.resolve()):(Dt()<=Ie.in.DEBUG&&me("QueryEngine","Query:",sc(r),"scans",s.documentReadCount,"local documents and returns",d,"documents as results."),s.documentReadCount>this.Gi*d?(Dt()<=Ie.in.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",sc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pi(r))):Ze.resolve())}ji(e,r){if(Sn(r))return Ze.resolve(null);let s=pi(r);return this.indexManager.getIndexType(e,s).next(d=>0===d?null:(null!==r.limit&&1===d&&(r=ic(r,null,"F"),s=pi(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(y=>{const b=fr(...y);return this.zi.getDocuments(e,b).next(R=>this.indexManager.getMinOffset(e,s).next(V=>{const K=this.Zi(r,R);return this.Xi(r,K,b,V.readTime)?this.ji(e,ic(r,null,"F")):this.es(e,K,r,V)}))})))}Hi(e,r,s,d){return Sn(r)||d.isEqual(en.min())?Ze.resolve(null):this.zi.getDocuments(e,s).next(y=>{const b=this.Zi(r,y);return this.Xi(r,b,s,d)?Ze.resolve(null):(Dt()<=Ie.in.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",d.toString(),sc(r)),this.es(e,b,r,xr(d,-1)).next(R=>R))})}Zi(e,r){let s=new jr(eo(e));return r.forEach((d,y)=>{va(e,y)&&(s=s.add(y))}),s}Xi(e,r,s,d){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const y="F"===e.limitType?r.last():r.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(d)>0)}Ji(e,r,s){return Dt()<=Ie.in.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",sc(r)),this.zi.getDocumentsMatchingQuery(e,r,cn.min(),s)}es(e,r,s,d){return this.zi.getDocumentsMatchingQuery(e,s,d).next(y=>(r.forEach(b=>{y=y.insert(b.key,b)}),y))}}class Yo{constructor(e,r,s,d){this.persistence=e,this.ts=r,this.serializer=d,this.ns=new Kr(Yt),this.rs=new ps(y=>Bn(y),ur),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(s)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yc(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function Bl(l,e,r,s){return new Yo(l,e,r,s)}function el(l,e){return tl.apply(this,arguments)}function tl(){return(tl=(0,g.Z)(function*(l,e){const r=dt(l);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let d;return r.mutationQueue.getAllMutationBatches(s).next(y=>(d=y,r._s(e),r.mutationQueue.getAllMutationBatches(s))).next(y=>{const b=[],R=[];let V=fr();for(const K of d){b.push(K.batchId);for(const ae of K.mutations)V=V.add(ae.key)}for(const K of y){R.push(K.batchId);for(const ae of K.mutations)V=V.add(ae.key)}return r.localDocuments.getDocuments(s,V).next(K=>({us:K,removedBatchIds:b,addedBatchIds:R}))})})})).apply(this,arguments)}function ep(l){const e=dt(l);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function Du(l,e,r){let s=fr(),d=fr();return r.forEach(y=>s=s.add(y)),e.getEntries(l,s).next(y=>{let b=Nr();return r.forEach((R,V)=>{const K=y.get(R);V.isFoundDocument()!==K.isFoundDocument()&&(d=d.add(R)),V.isNoDocument()&&V.version.isEqual(en.min())?(e.removeEntry(R,V.readTime),b=b.insert(R,V)):!K.isValidDocument()||V.version.compareTo(K.version)>0||0===V.version.compareTo(K.version)&&K.hasPendingWrites?(e.addEntry(V),b=b.insert(R,V)):me("LocalStore","Ignoring outdated watch update for ",R,". Current version:",K.version," Watch version:",V.version)}),{cs:b,ls:d}})}function jl(l,e){const r=dt(l);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Su(l,e){const r=dt(l);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let d;return r.Qr.getTargetData(s,e).next(y=>y?(d=y,Ze.resolve(d)):r.Qr.allocateTargetId(s).next(b=>(d=new ft(e,b,"TargetPurposeListen",s.currentSequenceNumber),r.Qr.addTargetData(s,d).next(()=>d))))}).then(s=>{const d=r.ns.get(s.targetId);return(null===d||s.snapshotVersion.compareTo(d.snapshotVersion)>0)&&(r.ns=r.ns.insert(s.targetId,s),r.rs.set(e,s.targetId)),s})}function Za(l,e,r){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,g.Z)(function*(l,e,r){const s=dt(l),d=s.ns.get(e),y=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",y,b=>s.persistence.referenceDelegate.removeTarget(b,d)))}catch(b){if(!Fn(b))throw b;me("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}s.ns=s.ns.remove(e),s.rs.delete(d.target)})).apply(this,arguments)}function wi(l,e,r){const s=dt(l);let d=en.min(),y=fr();return s.persistence.runTransaction("Execute query","readwrite",b=>function(V,K,ae){const ye=dt(V),Le=ye.rs.get(ae);return void 0!==Le?Ze.resolve(ye.ns.get(Le)):ye.Qr.getTargetData(K,ae)}(s,b,pi(e)).next(R=>{if(R)return d=R.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(b,R.targetId).next(V=>{y=V})}).next(()=>s.ts.getDocumentsMatchingQuery(b,e,r?d:en.min(),r?y:fr())).next(R=>(Hh(s,jc(e),R),{documents:R,hs:y})))}function $l(l,e){const r=dt(l),s=dt(r.Qr),d=r.ns.get(e);return d?Promise.resolve(d.target):r.persistence.runTransaction("Get target data","readonly",y=>s.ot(y,e).next(b=>b?b.target:null))}function wd(l,e){const r=dt(l),s=r.ss.get(e)||en.min();return r.persistence.runTransaction("Get new document changes","readonly",d=>r.os.getAllFromCollectionGroup(d,e,xr(s,-1),Number.MAX_SAFE_INTEGER)).then(d=>(Hh(r,e,d),d))}function Hh(l,e,r){let s=l.ss.get(e)||en.min();r.forEach((d,y)=>{y.readTime.compareTo(s)>0&&(s=y.readTime)}),l.ss.set(e,s)}function nl(){return(nl=(0,g.Z)(function*(l,e,r,s){const d=dt(l);let y=fr(),b=Nr();for(const K of r){const ae=e.Ps(K.metadata.name);K.document&&(y=y.add(ae));const ye=e.Is(K);ye.setReadTime(e.Ts(K.metadata.readTime)),b=b.insert(ae,ye)}const R=d.os.newChangeBuffer({trackRemovals:!0}),V=yield Su(d,(ae=s,pi(Pe(On.fromString(`__bundle__/docs/${ae}`)))));var ae;return d.persistence.runTransaction("Apply bundle documents","readwrite",K=>Du(K,R,b).next(ae=>(R.apply(K),ae)).next(ae=>d.Qr.removeMatchingKeysForTargetId(K,V.targetId).next(()=>d.Qr.addMatchingKeys(K,y,V.targetId)).next(()=>d.localDocuments.getLocalViewOfDocuments(K,ae.cs,ae.ls)).next(()=>ae.cs)))})).apply(this,arguments)}function Ad(l,e){return tp.apply(this,arguments)}function tp(){return(tp=(0,g.Z)(function*(l,e,r=fr()){const s=yield Su(l,pi(_o(e.bundledQuery))),d=dt(l);return d.persistence.runTransaction("Save named query","readwrite",y=>{const b=ki(e.readTime);if(s.snapshotVersion.compareTo(b)>=0)return d.$r.saveNamedQuery(y,e);const R=s.withResumeToken(di.EMPTY_BYTE_STRING,b);return d.ns=d.ns.insert(R.targetId,R),d.Qr.updateTargetData(y,R).next(()=>d.Qr.removeMatchingKeysForTargetId(y,s.targetId)).next(()=>d.Qr.addMatchingKeys(y,r,s.targetId)).next(()=>d.$r.saveNamedQuery(y,e))})})).apply(this,arguments)}function Ic(l,e){return`firestore_clients_${l}_${e}`}function Dd(l,e,r){let s=`firestore_mutations_${l}_${r}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Ka(l,e){return`firestore_targets_${l}_${e}`}class Mu{constructor(e,r,s,d){this.user=e,this.batchId=r,this.state=s,this.error=d}static Es(e,r,s){const d=JSON.parse(s);let y,b="object"==typeof d&&-1!==["pending","acknowledged","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error);return b&&d.error&&(b="string"==typeof d.error.message&&"string"==typeof d.error.code,b&&(y=new _e(d.error.code,d.error.message))),b?new Mu(e,r,d.state,y):(Ct("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class rl{constructor(e,r,s){this.targetId=e,this.state=r,this.error=s}static Es(e,r){const s=JSON.parse(r);let d,y="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return y&&s.error&&(y="string"==typeof s.error.message&&"string"==typeof s.error.code,y&&(d=new _e(s.error.code,s.error.message))),y?new rl(e,s.state,d):(Ct("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class il{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Es(e,r){const s=JSON.parse(r);let d="object"==typeof s&&s.activeTargetIds instanceof Array,y=zc();for(let b=0;d&&b<s.activeTargetIds.length;++b)d=bt(s.activeTargetIds[b]),y=y.add(s.activeTargetIds[b]);return d?new il(e,y):(Ct("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class zl{constructor(e,r){this.clientId=e,this.onlineState=r}static Es(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new zl(r.clientId,r.onlineState):(Ct("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Sd{constructor(){this.activeTargetIds=zc()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gh{constructor(e,r,s,d,y){this.window=e,this.oi=r,this.persistenceKey=s,this.Vs=d,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Kr(Yt),this.started=!1,this.ys=[];const b=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.ws=Ic(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new Sd),this.bs=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(V){return`firestore_bundle_loaded_v2_${V}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,g.Z)(function*(){const r=yield e.syncEngine.Bi();for(const d of r){if(d===e.Vs)continue;const y=e.getItem(Ic(e.persistenceKey,d));if(y){const b=il.Es(d,y);b&&(e.ps=e.ps.insert(b.clientId,b))}}e.Ms();const s=e.storage.getItem(e.vs);if(s){const d=e.xs(s);d&&e.Os(d)}for(const d of e.ys)e.gs(d);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let r=!1;return this.ps.forEach((s,d)=>{d.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,r,s){this.Ls(e,r,s),this.Bs(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Ka(this.persistenceKey,e));if(s){const d=rl.Es(e,s);d&&(r=d.state)}}return this.ks.As(e),this.Ms(),r}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ka(this.persistenceKey,e))}updateQueryState(e,r,s){this.qs(e,r,s)}handleUserChange(e,r,s){r.forEach(d=>{this.Bs(d)}),this.currentUser=e,s.forEach(d=>{this.addPendingMutation(d)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return me("SharedClientState","READ",e,r),r}setItem(e,r){me("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){me("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var r=this;const s=e;if(s.storageArea===this.storage){if(me("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ws)return void Ct("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,g.Z)(function*(){if(r.started){if(null!==s.key)if(r.bs.test(s.key)){if(null==s.newValue){const d=r.$s(s.key);return r.Us(d,null)}{const d=r.Ws(s.key,s.newValue);if(d)return r.Us(d.clientId,d)}}else if(r.Ds.test(s.key)){if(null!==s.newValue){const d=r.Gs(s.key,s.newValue);if(d)return r.zs(d)}}else if(r.Cs.test(s.key)){if(null!==s.newValue){const d=r.js(s.key,s.newValue);if(d)return r.Hs(d)}}else if(s.key===r.vs){if(null!==s.newValue){const d=r.xs(s.newValue);if(d)return r.Os(d)}}else if(s.key===r.Ss){const d=function(b){let R=F.oe;if(null!=b)try{const V=JSON.parse(b);Ft("number"==typeof V),R=V}catch(V){Ct("SharedClientState","Failed to read sequence number from WebStorage",V)}return R}(s.newValue);d!==F.oe&&r.sequenceNumberHandler(d)}else if(s.key===r.Fs){const d=r.Js(s.newValue);yield Promise.all(d.map(y=>r.syncEngine.Ys(y)))}}else r.ys.push(s)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,r,s){const d=new Mu(this.currentUser,e,r,s),y=Dd(this.persistenceKey,this.currentUser,e);this.setItem(y,d.ds())}Bs(e){const r=Dd(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,r,s){const d=Ka(this.persistenceKey,e),y=new rl(e,r,s);this.setItem(d,y.ds())}Ks(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Fs,r)}$s(e){const r=this.bs.exec(e);return r?r[1]:null}Ws(e,r){const s=this.$s(e);return il.Es(s,r)}Gs(e,r){const s=this.Ds.exec(e),d=Number(s[1]);return Mu.Es(new ct(void 0!==s[2]?s[2]:null),d,r)}js(e,r){const s=this.Cs.exec(e),d=Number(s[1]);return rl.Es(d,r)}xs(e){return zl.Es(e)}Js(e){return JSON.parse(e)}zs(e){var r=this;return(0,g.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Zs(e.batchId,e.state,e.error);me("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,r){const s=r?this.ps.insert(e,r):this.ps.remove(e),d=this.Ns(this.ps),y=this.Ns(s),b=[],R=[];return y.forEach(V=>{d.has(V)||b.push(V)}),d.forEach(V=>{y.has(V)||R.push(V)}),this.syncEngine.eo(b,R).then(()=>{this.ps=s})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let r=zc();return e.forEach((s,d)=>{r=r.unionWith(d.activeTargetIds)}),r}}class sl{constructor(){this.no=new Sd,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,s){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Sd,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class bc{io(e){}shutdown(){}}class ol{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let al=null;function Hl(){return null===al?al=268435456+Math.round(2147483648*Math.random()):al++,"0x"+al.toString(16)}const C={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const v="WebChannelConnection";class M extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",d=encodeURIComponent(this.databaseId.projectId),y=encodeURIComponent(this.databaseId.database);this.wo=s+"://"+r.host,this.So=`projects/${d}/databases/${y}`,this.bo="(default)"===this.databaseId.database?`project_id=${d}`:`project_id=${d}&database_id=${y}`}get Do(){return!1}Co(r,s,d,y,b){const R=Hl(),V=this.vo(r,s.toUriEncodedString());me("RestConnection",`Sending RPC '${r}' ${R}:`,V,d);const K={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(K,y,b),this.Mo(r,V,K,d).then(ae=>(me("RestConnection",`Received RPC '${r}' ${R}: `,ae),ae),ae=>{throw $t("RestConnection",`RPC '${r}' ${R} failed with error: `,ae,"url: ",V,"request:",d),ae})}xo(r,s,d,y,b,R){return this.Co(r,s,d,y,b)}Fo(r,s,d){r["X-Goog-Api-Client"]="gl-js/ fire/"+Ge,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((y,b)=>r[b]=y),d&&d.headers.forEach((y,b)=>r[b]=y)}vo(r,s){return`${this.wo}/v1/${s}:${C[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,r,s,d){const y=Hl();return new Promise((b,R)=>{const V=new ve;V.setWithCredentials(!0),V.listenOnce(Mt.COMPLETE,()=>{try{switch(V.getLastErrorCode()){case vt.NO_ERROR:const ae=V.getResponseJson();me(v,`XHR for RPC '${e}' ${y} received:`,JSON.stringify(ae)),b(ae);break;case vt.TIMEOUT:me(v,`RPC '${e}' ${y} timed out`),R(new _e(Ne.DEADLINE_EXCEEDED,"Request time out"));break;case vt.HTTP_ERROR:const ye=V.getStatus();if(me(v,`RPC '${e}' ${y} failed with status:`,ye,"response text:",V.getResponseText()),ye>0){let Le=V.getResponseJson();Array.isArray(Le)&&(Le=Le[0]);const lt=Le?.error;if(lt&&lt.status&&lt.message){const Lt=function(Gt){const Ln=Gt.toLowerCase().replace(/_/g,"-");return Object.values(Ne).indexOf(Ln)>=0?Ln:Ne.UNKNOWN}(lt.status);R(new _e(Lt,lt.message))}else R(new _e(Ne.UNKNOWN,"Server responded with status "+V.getStatus()))}else R(new _e(Ne.UNAVAILABLE,"Connection failed."));break;default:Tt()}}finally{me(v,`RPC '${e}' ${y} completed.`)}});const K=JSON.stringify(d);me(v,`RPC '${e}' ${y} sending request:`,d),V.send(r,"POST",K,s,15)})}Oo(e,r,s){const d=Hl(),y=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],b=Qe(),R=on(),V={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},K=this.longPollingOptions.timeoutSeconds;void 0!==K&&(V.longPollingTimeout=Math.round(1e3*K)),this.useFetchStreams&&(V.xmlHttpFactory=new it({})),this.Fo(V.initMessageHeaders,r,s),V.encodeInitMessageHeaders=!0;const ae=y.join("");me(v,`Creating RPC '${e}' stream ${d}: ${ae}`,V);const ye=b.createWebChannel(ae,V);let Le=!1,lt=!1;const Lt=new _({lo:Gt=>{lt?me(v,`Not sending because RPC '${e}' stream ${d} is closed:`,Gt):(Le||(me(v,`Opening RPC '${e}' stream ${d} transport.`),ye.open(),Le=!0),me(v,`RPC '${e}' stream ${d} sending:`,Gt),ye.send(Gt))},ho:()=>ye.close()}),rn=(Gt,Ln,Jn)=>{Gt.listen(Ln,$n=>{try{Jn($n)}catch(wr){setTimeout(()=>{throw wr},0)}})};return rn(ye,et.EventType.OPEN,()=>{lt||(me(v,`RPC '${e}' stream ${d} transport opened.`),Lt.mo())}),rn(ye,et.EventType.CLOSE,()=>{lt||(lt=!0,me(v,`RPC '${e}' stream ${d} transport closed`),Lt.po())}),rn(ye,et.EventType.ERROR,Gt=>{lt||(lt=!0,$t(v,`RPC '${e}' stream ${d} transport errored:`,Gt),Lt.po(new _e(Ne.UNAVAILABLE,"The operation could not be completed")))}),rn(ye,et.EventType.MESSAGE,Gt=>{var Ln;if(!lt){const Jn=Gt.data[0];Ft(!!Jn);const wr=Jn.error||(null===(Ln=Jn[0])||void 0===Ln?void 0:Ln.error);if(wr){me(v,`RPC '${e}' stream ${d} received error:`,wr);const oi=wr.status;let Lr=function(He){const tt=gi[He];if(void 0!==tt)return no(tt)}(oi),Xe=wr.message;void 0===Lr&&(Lr=Ne.INTERNAL,Xe="Unknown error status: "+oi+" with message "+wr.message),lt=!0,Lt.po(new _e(Lr,Xe)),ye.close()}else me(v,`RPC '${e}' stream ${d} received:`,Jn),Lt.yo(Jn)}}),rn(R,Et.STAT_EVENT,Gt=>{Gt.stat===At.PROXY?me(v,`RPC '${e}' stream ${d} detected buffering proxy`):Gt.stat===At.NOPROXY&&me(v,`RPC '${e}' stream ${d} detected no buffering proxy`)}),setTimeout(()=>{Lt.fo()},0),Lt}}function Y(){return typeof window<"u"?window:null}function ue(){return typeof document<"u"?document:null}function $e(l){return new dd(l,!0)}class ht{constructor(e,r,s=1e3,d=1.5,y=6e4){this.oi=e,this.timerId=r,this.No=s,this.Lo=d,this.Bo=y,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const r=Math.floor(this.ko+this.Uo()),s=Math.max(0,Date.now()-this.Qo),d=Math.max(0,r-s);d>0&&me("ExponentialBackoff",`Backing off for ${d} ms (base delay: ${this.ko} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,d,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class jt{constructor(e,r,s,d,y,b,R,V){this.oi=e,this.Go=s,this.zo=d,this.connection=y,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=R,this.listener=V,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new ht(e,r)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,g.Z)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,g.Z)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,r){var s=this;return(0,g.Z)(function*(){s.s_(),s.o_(),s.Yo.cancel(),s.jo++,4!==e?s.Yo.reset():r&&r.code===Ne.RESOURCE_EXHAUSTED?(Ct(r.toString()),Ct("Using maximum backoff delay to prevent overloading the backend."),s.Yo.Ko()):r&&r.code===Ne.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.__(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Ao(r)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),r=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,d])=>{this.jo===r&&this.u_(s,d)},s=>{e(()=>{const d=new _e(Ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.c_(d)})})}u_(e,r){const s=this.a_(this.jo);this.stream=this.l_(e,r),this.stream.Po(()=>{s(()=>this.listener.Po())}),this.stream.To(()=>{s(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(d=>{s(()=>this.c_(d))}),this.stream.onMessage(d=>{s(()=>this.onMessage(d))})}e_(){var e=this;this.state=5,this.Yo.$o((0,g.Z)(function*(){e.state=0,e.start()}))}c_(e){return me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return r=>{this.oi.enqueueAndForget(()=>this.jo===e?r():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wn extends jt{constructor(e,r,s,d,y,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,d,b),this.serializer=y}l_(e,r){return this.connection.Oo("Listen",e,r)}onMessage(e){this.Yo.reset();const r=function Rl(l,e){let r;if("targetChange"in e){const s="NO_CHANGE"===(K=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===K?1:"REMOVE"===K?2:"CURRENT"===K?3:"RESET"===K?4:Tt(),d=e.targetChange.targetIds||[],y=function(K,ae){return K.useProto3Json?(Ft(void 0===ae||"string"==typeof ae),di.fromBase64String(ae||"")):(Ft(void 0===ae||ae instanceof Buffer||ae instanceof Uint8Array),di.fromUint8Array(ae||new Uint8Array))}(l,e.targetChange.resumeToken),b=e.targetChange.cause,R=b&&function(K){const ae=void 0===K.code?Ne.UNKNOWN:no(K.code);return new _e(ae,K.message||"")}(b);r=new go(s,d,y,R||null)}else if("documentChange"in e){const s=e.documentChange,d=qo(l,s.document.name),y=ki(s.document.updateTime),b=s.document.createTime?ki(s.document.createTime):en.min(),R=new pr({mapValue:{fields:s.document.fields}}),V=zn.newFoundDocument(d,y,b,R);r=new uc(s.targetIds||[],s.removedTargetIds||[],V.key,V)}else if("documentDelete"in e){const s=e.documentDelete,d=qo(l,s.document),y=s.readTime?ki(s.readTime):en.min(),b=zn.newNoDocument(d,y);r=new uc([],s.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const s=e.documentRemove,d=qo(l,s.document);r=new uc([],s.removedTargetIds||[],d,null)}else{if(!("filter"in e))return Tt();{const s=e.filter,{count:d=0,unchangedNames:y}=s,b=new Gs(d,y);r=new gu(s.targetId,b)}}var K;return r}(this.serializer,e),s=function(y){if(!("targetChange"in y))return en.min();const b=y.targetChange;return b.targetIds&&b.targetIds.length?en.min():b.readTime?ki(b.readTime):en.min()}(e);return this.listener.h_(r,s)}P_(e){const r={};r.database=Ur(this.serializer),r.addTarget=function(y,b){let R;const V=b.target;if(R=Ki(V)?{documents:gd(y,V)}:{query:md(y,V)._t},R.targetId=b.targetId,b.resumeToken.approximateByteSize()>0){R.resumeToken=Rh(y,b.resumeToken);const K=Wc(y,b.expectedCount);null!==K&&(R.expectedCount=K)}else if(b.snapshotVersion.compareTo(en.min())>0){R.readTime=Ga(y,b.snapshotVersion.toTimestamp());const K=Wc(y,b.expectedCount);null!==K&&(R.expectedCount=K)}return R}(this.serializer,e);const s=function Wo(l,e){const r=function(d){switch(d){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.i_(r)}I_(e){const r={};r.database=Ur(this.serializer),r.removeTarget=e,this.i_(r)}}class qn extends jt{constructor(e,r,s,d,y,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,d,b),this.serializer=y,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,r){return this.connection.Oo("Write",e,r)}onMessage(e){if(Ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const r=function hc(l,e){return l&&l.length>0?(Ft(void 0!==e),l.map(r=>function(d,y){let b=ki(d.updateTime?d.updateTime:y);return b.isEqual(en.min())&&(b=ki(y)),new Gc(b,d.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=ki(e.commitTime);return this.listener.A_(s,r)}return Ft(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Ur(this.serializer),this.i_(e)}d_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>Os(this.serializer,s))};this.i_(r)}}class yr extends class{}{constructor(e,r,s,d){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=d,this.m_=!1}f_(){if(this.m_)throw new _e(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,r,s,d){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,b])=>this.connection.Co(e,xh(r,s),d,y,b)).catch(y=>{throw"FirebaseError"===y.name?(y.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new _e(Ne.UNKNOWN,y.toString())})}xo(e,r,s,d,y){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([b,R])=>this.connection.xo(e,xh(r,s),d,b,R,y)).catch(b=>{throw"FirebaseError"===b.name?(b.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),b):new _e(Ne.UNKNOWN,b.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class vo{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Ct(r),this.y_=!1):me("OnlineStateTracker",r)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class No{constructor(e,r,s,d,y){var b=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=y,this.O_.io(R=>{s.enqueueAndForget((0,g.Z)(function*(){var V;Tc(b)&&(me("RemoteStore","Restarting streams for network reachability change."),yield(V=(0,g.Z)(function*(ae){const ye=dt(ae);ye.M_.add(4),yield Ma(ye),ye.N_.set("Unknown"),ye.M_.delete(4),yield Ya(ye)}),function K(ae){return V.apply(this,arguments)})(b))}))}),this.N_=new vo(s,d)}}function Ya(l){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,g.Z)(function*(l){if(Tc(l))for(const e of l.x_)yield e(!0)})).apply(this,arguments)}function Ma(l){return qh.apply(this,arguments)}function qh(){return(qh=(0,g.Z)(function*(l){for(const e of l.x_)yield e(!1)})).apply(this,arguments)}function cl(l,e){const r=dt(l);r.F_.has(e.targetId)||(r.F_.set(e.targetId,e),Zh(r)?Md(r):ko(r).Xo()&&Wh(r,e))}function ll(l,e){const r=dt(l),s=ko(r);r.F_.delete(e),s.Xo()&&np(r,e),0===r.F_.size&&(s.Xo()?s.n_():Tc(r)&&r.N_.set("Unknown"))}function Wh(l,e){if(l.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(en.min())>0){const r=l.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}ko(l).P_(e)}function np(l,e){l.L_.xe(e),ko(l).I_(e)}function Md(l){l.L_=new Go({getRemoteKeysForTarget:e=>l.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>l.F_.get(e)||null,tt:()=>l.datastore.serializer.databaseId}),ko(l).start(),l.N_.w_()}function Zh(l){return Tc(l)&&!ko(l).Zo()&&l.F_.size>0}function Tc(l){return 0===dt(l).M_.size}function ul(l){l.L_=void 0}function Zs(l){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,g.Z)(function*(l){l.N_.set("Online")})).apply(this,arguments)}function rp(l){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,g.Z)(function*(l){l.F_.forEach((e,r)=>{Wh(l,e)})})).apply(this,arguments)}function Rd(l,e){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,g.Z)(function*(l,e){ul(l),Zh(l)?(l.N_.D_(e),Md(l)):l.N_.set("Unknown")})).apply(this,arguments)}function Mg(l,e,r){return xd.apply(this,arguments)}function xd(){return xd=(0,g.Z)(function*(l,e,r){if(l.N_.set("Online"),e instanceof go&&2===e.state&&e.cause)try{yield(s=(0,g.Z)(function*(y,b){const R=b.cause;for(const V of b.targetIds)y.F_.has(V)&&(yield y.remoteSyncer.rejectListen(V,R),y.F_.delete(V),y.L_.removeTarget(V))}),function d(y,b){return s.apply(this,arguments)})(l,e)}catch(s){me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Pu(l,s)}else if(e instanceof uc?l.L_.Ke(e):e instanceof gu?l.L_.He(e):l.L_.We(e),!r.isEqual(en.min()))try{const s=yield ep(l.localStore);r.compareTo(s)>=0&&(yield function(y,b){const R=y.L_.rt(b);return R.targetChanges.forEach((V,K)=>{if(V.resumeToken.approximateByteSize()>0){const ae=y.F_.get(K);ae&&y.F_.set(K,ae.withResumeToken(V.resumeToken,b))}}),R.targetMismatches.forEach((V,K)=>{const ae=y.F_.get(V);if(!ae)return;y.F_.set(V,ae.withResumeToken(di.EMPTY_BYTE_STRING,ae.snapshotVersion)),np(y,V);const ye=new ft(ae.target,V,K,ae.sequenceNumber);Wh(y,ye)}),y.remoteSyncer.applyRemoteEvent(R)}(l,r))}catch(s){me("RemoteStore","Failed to raise snapshot:",s),yield Pu(l,s)}var s}),xd.apply(this,arguments)}function Pu(l,e,r){return Od.apply(this,arguments)}function Od(){return(Od=(0,g.Z)(function*(l,e,r){if(!Fn(e))throw e;l.M_.add(1),yield Ma(l),l.N_.set("Offline"),r||(r=()=>ep(l.localStore)),l.asyncQueue.enqueueRetryable((0,g.Z)(function*(){me("RemoteStore","Retrying IndexedDB access"),yield r(),l.M_.delete(1),yield Ya(l)}))})).apply(this,arguments)}function Qa(l,e){return e().catch(r=>Pu(l,r,e))}function ql(l){return Pg.apply(this,arguments)}function Pg(){return(Pg=(0,g.Z)(function*(l){const e=dt(l),r=Ys(e);let s=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;t_(e);)try{const d=yield jl(e.localStore,s);if(null===d){0===e.v_.length&&r.n_();break}s=d.batchId,ip(e,d)}catch(d){yield Pu(e,d)}n_(e)&&Eo(e)})).apply(this,arguments)}function t_(l){return Tc(l)&&l.v_.length<10}function ip(l,e){l.v_.push(e);const r=Ys(l);r.Xo()&&r.E_&&r.d_(e.mutations)}function n_(l){return Tc(l)&&!Ys(l).Zo()&&l.v_.length>0}function Eo(l){Ys(l).start()}function sp(l){return op.apply(this,arguments)}function op(){return(op=(0,g.Z)(function*(l){Ys(l).V_()})).apply(this,arguments)}function Qh(l){return Rg.apply(this,arguments)}function Rg(){return(Rg=(0,g.Z)(function*(l){const e=Ys(l);for(const r of l.v_)e.d_(r.mutations)})).apply(this,arguments)}function Qo(l,e,r){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,g.Z)(function*(l,e,r){const s=l.v_.shift(),d=Cs.from(s,e,r);yield Qa(l,()=>l.remoteSyncer.applySuccessfulWrite(d)),yield ql(l)})).apply(this,arguments)}function r_(l,e){return Ru.apply(this,arguments)}function Ru(){return Ru=(0,g.Z)(function*(l,e){var r;e&&Ys(l).E_&&(yield(r=(0,g.Z)(function*(d,y){if(la(R=y.code)&&R!==Ne.ABORTED){const b=d.v_.shift();Ys(d).t_(),yield Qa(d,()=>d.remoteSyncer.rejectFailedWrite(b.batchId,y)),yield ql(d)}var R}),function s(d,y){return r.apply(this,arguments)})(l,e)),n_(l)&&Eo(l)}),Ru.apply(this,arguments)}function Ks(l,e){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,g.Z)(function*(l,e){const r=dt(l);r.asyncQueue.verifyOperationInProgress(),me("RemoteStore","RemoteStore received new credentials");const s=Tc(r);r.M_.add(3),yield Ma(r),s&&r.N_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.M_.delete(3),yield Ya(r)})).apply(this,arguments)}function ap(l,e){return cp.apply(this,arguments)}function cp(){return(cp=(0,g.Z)(function*(l,e){const r=dt(l);e?(r.M_.delete(2),yield Ya(r)):e||(r.M_.add(2),yield Ma(r),r.N_.set("Unknown"))})).apply(this,arguments)}function ko(l){return l.B_||(l.B_=function(r,s,d){const y=dt(r);return y.f_(),new wn(s,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,d)}(l.datastore,l.asyncQueue,{Po:Zs.bind(null,l),To:rp.bind(null,l),Ao:Rd.bind(null,l),h_:Mg.bind(null,l)}),l.x_.push(function(){var e=(0,g.Z)(function*(r){r?(l.B_.t_(),Zh(l)?Md(l):l.N_.set("Unknown")):(yield l.B_.stop(),ul(l))});return function(r){return e.apply(this,arguments)}}())),l.B_}function Ys(l){return l.k_||(l.k_=function(r,s,d){const y=dt(r);return y.f_(),new qn(s,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,d)}(l.datastore,l.asyncQueue,{Po:()=>Promise.resolve(),To:sp.bind(null,l),Ao:r_.bind(null,l),R_:Qh.bind(null,l),A_:Qo.bind(null,l)}),l.x_.push(function(){var e=(0,g.Z)(function*(r){r?(l.k_.t_(),yield ql(l)):(yield l.k_.stop(),l.v_.length>0&&(me("RemoteStore",`Stopping write stream with ${l.v_.length} pending writes`),l.v_=[]))});return function(r){return e.apply(this,arguments)}}())),l.k_}class kd{constructor(e,r,s,d,y){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=d,this.removalCallback=y,this.deferred=new Ue,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,d,y){const b=Date.now()+s,R=new kd(e,r,b,d,y);return R.start(s),R}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _e(Ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xu(l,e){if(Ct("AsyncQueue",`${e}: ${l}`),Fn(l))return new _e(Ne.UNAVAILABLE,`${e}: ${l}`);throw l}class Fd{constructor(e){this.comparator=e?(r,s)=>e(r,s)||Ut.comparator(r.key,s.key):(r,s)=>Ut.comparator(r.key,s.key),this.keyedMap=Yi(),this.sortedSet=new Kr(this.comparator)}static emptySet(e){return new Fd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Fd)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const d=r.getNext().key,y=s.getNext().key;if(!d.isEqual(y))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new Fd;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class Zl{constructor(){this.q_=new Kr(Ut.comparator)}track(e){const r=e.doc.key,s=this.q_.get(r);s?0!==e.type&&3===s.type?this.q_=this.q_.insert(r,e):3===e.type&&1!==s.type?this.q_=this.q_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.q_=this.q_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.q_=this.q_.remove(r):1===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):Tt():this.q_=this.q_.insert(r,e)}Q_(){const e=[];return this.q_.inorderTraversal((r,s)=>{e.push(s)}),e}}class Cc{constructor(e,r,s,d,y,b,R,V,K){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=d,this.mutatedKeys=y,this.fromCache=b,this.syncStateChanged=R,this.excludesMetadataChanges=V,this.hasCachedResults=K}static fromInitialDocuments(e,r,s,d,y){const b=[];return r.forEach(R=>{b.push({type:0,doc:R})}),new Cc(e,r,Fd.emptySet(r),b,s,d,!0,!1,y)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ba(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let d=0;d<r.length;d++)if(r[d].type!==s[d].type||!r[d].doc.isEqual(s[d].doc))return!1;return!0}}class i_{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class xg{constructor(){this.queries=new ps(e=>Bc(e),Ba),this.onlineState="Unknown",this.z_=new Set}}function Ld(l,e){return Og.apply(this,arguments)}function Og(){return(Og=(0,g.Z)(function*(l,e){const r=dt(l);let s=3;const d=e.query;let y=r.queries.get(d);y?!y.W_()&&e.G_()&&(s=2):(y=new i_,s=e.G_()?0:1);try{switch(s){case 0:y.K_=yield r.onListen(d,!0);break;case 1:y.K_=yield r.onListen(d,!1);break;case 2:yield r.onFirstRemoteStoreListen(d)}}catch(b){const R=xu(b,`Initialization of query '${sc(e.query)}' failed`);return void e.onError(R)}r.queries.set(d,y),y.U_.push(e),e.j_(r.onlineState),y.K_&&e.H_(y.K_)&&Jh(r)})).apply(this,arguments)}function Ou(l,e){return Ng.apply(this,arguments)}function Ng(){return(Ng=(0,g.Z)(function*(l,e){const r=dt(l),s=e.query;let d=3;const y=r.queries.get(s);if(y){const b=y.U_.indexOf(e);b>=0&&(y.U_.splice(b,1),0===y.U_.length?d=e.G_()?0:1:!y.W_()&&e.G_()&&(d=2))}switch(d){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function _y(l,e){const r=dt(l);let s=!1;for(const d of e){const b=r.queries.get(d.query);if(b){for(const R of b.U_)R.H_(d)&&(s=!0);b.K_=d}}s&&Jh(r)}function kg(l,e,r){const s=dt(l),d=s.queries.get(e);if(d)for(const y of d.U_)y.onError(r);s.queries.delete(e)}function Jh(l){l.z_.forEach(e=>{e.next()})}var Nu,dl;(dl=Nu||(Nu={})).J_="default",dl.Cache="cache";class Vd{constructor(e,r,s){this.query=e,this.Y_=r,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=s||{}}H_(e){if(!this.options.includeMetadataChanges){const s=[];for(const d of e.docChanges)3!==d.type&&s.push(d);e=new Cc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),r=!0):this.ta(e,this.onlineState)&&(this.na(e),r=!0),this.X_=e,r}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let r=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),r=!0),r}ta(e,r){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=Cc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Nu.Cache}}class s_{constructor(e,r){this.ia=e,this.byteLength=r}sa(){return"metadata"in this.ia}}class Xh{constructor(e){this.serializer=e}Ps(e){return qo(this.serializer,e)}Is(e){return e.metadata.exists?ws(this.serializer,e.document,!1):zn.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return ki(e)}}class lp{constructor(e,r,s){this.oa=e,this.localStore=r,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=o_(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++r;const s=On.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}aa(e){const r=new Map,s=new Xh(this.serializer);for(const d of e)if(d.metadata.queries){const y=s.Ps(d.metadata.name);for(const b of d.metadata.queries){const R=(r.get(b)||fr()).add(y);r.set(b,R)}}return r}complete(){var e=this;return(0,g.Z)(function*(){const r=yield function Sg(l,e,r,s){return nl.apply(this,arguments)}(e.localStore,new Xh(e.serializer),e.documents,e.oa.id),s=e.aa(e.documents);for(const d of e.queries)yield Ad(e.localStore,d,s.get(d.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:r}})()}}function o_(l){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:l.totalDocuments,totalBytes:l.totalBytes}}class Io{constructor(e){this.key=e}}class up{constructor(e){this.key=e}}class a_{constructor(e,r){this.query=e,this.la=r,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=fr(),this.mutatedKeys=fr(),this.Ia=eo(e),this.Ta=new Fd(this.Ia)}get Ea(){return this.la}da(e,r){const s=r?r.Aa:new Zl,d=r?r.Ta:this.Ta;let y=r?r.mutatedKeys:this.mutatedKeys,b=d,R=!1;const V="F"===this.query.limitType&&d.size===this.query.limit?d.last():null,K="L"===this.query.limitType&&d.size===this.query.limit?d.first():null;if(e.inorderTraversal((ae,ye)=>{const Le=d.get(ae),lt=va(this.query,ye)?ye:null,Lt=!!Le&&this.mutatedKeys.has(Le.key),rn=!!lt&&(lt.hasLocalMutations||this.mutatedKeys.has(lt.key)&&lt.hasCommittedMutations);let Gt=!1;Le&&lt?Le.data.isEqual(lt.data)?Lt!==rn&&(s.track({type:3,doc:lt}),Gt=!0):this.Ra(Le,lt)||(s.track({type:2,doc:lt}),Gt=!0,(V&&this.Ia(lt,V)>0||K&&this.Ia(lt,K)<0)&&(R=!0)):!Le&&lt?(s.track({type:0,doc:lt}),Gt=!0):Le&&!lt&&(s.track({type:1,doc:Le}),Gt=!0,(V||K)&&(R=!0)),Gt&&(lt?(b=b.add(lt),y=rn?y.add(ae):y.delete(ae)):(b=b.delete(ae),y=y.delete(ae)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const ae="F"===this.query.limitType?b.last():b.first();b=b.delete(ae.key),y=y.delete(ae.key),s.track({type:1,doc:ae})}return{Ta:b,Aa:s,Xi:R,mutatedKeys:y}}Ra(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,d){const y=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const b=e.Aa.Q_();b.sort((ae,ye)=>function(lt,Lt){const rn=Gt=>{switch(Gt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt()}};return rn(lt)-rn(Lt)}(ae.type,ye.type)||this.Ia(ae.doc,ye.doc)),this.Va(s),d=null!=d&&d;const R=r&&!d?this.ma():[],V=0===this.Pa.size&&this.current&&!d?1:0,K=V!==this.ha;return this.ha=V,0!==b.length||K?{snapshot:new Cc(this.query,e.Ta,y,b,e.mutatedKeys,0===V,K,!1,!!s&&s.resumeToken.approximateByteSize()>0),fa:R}:{fa:R}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Zl,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(r=>this.la=this.la.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.la=this.la.delete(r)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=fr(),this.Ta.forEach(s=>{this.ga(s.key)&&(this.Pa=this.Pa.add(s.key))});const r=[];return e.forEach(s=>{this.Pa.has(s)||r.push(new up(s))}),this.Pa.forEach(s=>{e.has(s)||r.push(new Io(s))}),r}pa(e){this.la=e.hs,this.Pa=fr();const r=this.da(e.documents);return this.applyChanges(r,!0)}ya(){return Cc.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class Ud{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class c_{constructor(e){this.key=e,this.wa=!1}}class l_{constructor(e,r,s,d,y,b){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=d,this.currentUser=y,this.maxConcurrentLimboResolutions=b,this.Sa={},this.ba=new ps(R=>Bc(R),Ba),this.Da=new Map,this.Ca=new Set,this.va=new Kr(Ut.comparator),this.Fa=new Map,this.Ma=new vc,this.xa={},this.Oa=new Map,this.Na=gc.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function dp(l,e){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,g.Z)(function*(l,e,r=!0){const s=Pa(l);let d;const y=s.ba.get(e);return y?(s.sharedClientState.addLocalQueryTarget(y.targetId),d=y.view.ya()):d=yield u_(s,e,r,!0),d})).apply(this,arguments)}function Fg(l,e){return Lg.apply(this,arguments)}function Lg(){return(Lg=(0,g.Z)(function*(l,e){const r=Pa(l);yield u_(r,e,!0,!1)})).apply(this,arguments)}function u_(l,e,r,s){return ef.apply(this,arguments)}function ef(){return(ef=(0,g.Z)(function*(l,e,r,s){const d=yield Su(l.localStore,pi(e)),y=d.targetId,b=r?l.sharedClientState.addLocalQueryTarget(y):"not-current";let R;return s&&(R=yield tf(l,e,y,"current"===b,d.resumeToken)),l.isPrimaryClient&&r&&cl(l.remoteStore,d),R})).apply(this,arguments)}function tf(l,e,r,s,d){return Lo.apply(this,arguments)}function Lo(){return Lo=(0,g.Z)(function*(l,e,r,s,d){l.Ba=(ye,Le,lt)=>{return(Lt=(0,g.Z)(function*(Gt,Ln,Jn,$n){let wr=Ln.view.da(Jn);wr.Xi&&(wr=yield wi(Gt.localStore,Ln.query,!1).then(({documents:Oe})=>Ln.view.da(Oe,wr)));const oi=$n&&$n.targetChanges.get(Ln.targetId),Lr=$n&&null!=$n.targetMismatches.get(Ln.targetId),Xe=Ln.view.applyChanges(wr,Gt.isPrimaryClient,oi,Lr);return vp(Gt,Ln.targetId,Xe.fa),Xe.snapshot}),function rn(Gt,Ln,Jn,$n){return Lt.apply(this,arguments)})(l,ye,Le,lt);var Lt};const y=yield wi(l.localStore,e,!0),b=new a_(e,y.hs),R=b.da(y.documents),V=qc.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==l.onlineState,d),K=b.applyChanges(R,l.isPrimaryClient,V);vp(l,r,K.fa);const ae=new Ud(e,r,b);return l.ba.set(e,ae),l.Da.has(r)?l.Da.get(r).push(e):l.Da.set(r,[e]),K.snapshot}),Lo.apply(this,arguments)}function d_(l,e,r){return hp.apply(this,arguments)}function hp(){return(hp=(0,g.Z)(function*(l,e,r){const s=dt(l),d=s.ba.get(e),y=s.Da.get(d.targetId);if(y.length>1)return s.Da.set(d.targetId,y.filter(b=>!Ba(b,e))),void s.ba.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(d.targetId),s.sharedClientState.isActiveQueryTarget(d.targetId)||(yield Za(s.localStore,d.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(d.targetId),r&&ll(s.remoteStore,d.targetId),jd(s,d.targetId)}).catch(gr))):(jd(s,d.targetId),yield Za(s.localStore,d.targetId,!0))})).apply(this,arguments)}function h_(l,e){return f_.apply(this,arguments)}function f_(){return(f_=(0,g.Z)(function*(l,e){const r=dt(l),s=r.ba.get(e),d=r.Da.get(s.targetId);r.isPrimaryClient&&1===d.length&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),ll(r.remoteStore,s.targetId))})).apply(this,arguments)}function Vg(){return(Vg=(0,g.Z)(function*(l,e,r){const s=Tp(l);try{const d=yield function(b,R){const V=dt(b),K=kn.now(),ae=R.reduce((lt,Lt)=>lt.add(Lt.key),fr());let ye,Le;return V.persistence.runTransaction("Locally write mutations","readwrite",lt=>{let Lt=Nr(),rn=fr();return V.os.getEntries(lt,ae).next(Gt=>{Lt=Gt,Lt.forEach((Ln,Jn)=>{Jn.isValidDocument()||(rn=rn.add(Ln))})}).next(()=>V.localDocuments.getOverlayedDocuments(lt,Lt)).next(Gt=>{ye=Gt;const Ln=[];for(const Jn of R){const $n=mt(Jn,ye.get(Jn.key).overlayedDocument);null!=$n&&Ln.push(new kr(Jn.key,$n,Pi($n.value.mapValue),si.exists(!0)))}return V.mutationQueue.addMutationBatch(lt,K,Ln,R)}).next(Gt=>{Le=Gt;const Ln=Gt.applyToLocalDocumentSet(ye,rn);return V.documentOverlayCache.saveOverlays(lt,Gt.batchId,Ln)})}).then(()=>({batchId:Le.batchId,changes:fu(ye)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(d.batchId),function(b,R,V){let K=b.xa[b.currentUser.toKey()];K||(K=new Kr(Yt)),K=K.insert(R,V),b.xa[b.currentUser.toKey()]=K}(s,d.batchId,r),yield hl(s,d.changes),yield ql(s.remoteStore)}catch(d){const y=xu(d,"Failed to persist write");r.reject(y)}})).apply(this,arguments)}function pp(l,e){return Bd.apply(this,arguments)}function Bd(){return(Bd=(0,g.Z)(function*(l,e){const r=dt(l);try{const s=yield function yo(l,e){const r=dt(l),s=e.snapshotVersion;let d=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",y=>{const b=r.os.newChangeBuffer({trackRemovals:!0});d=r.ns;const R=[];e.targetChanges.forEach((ae,ye)=>{const Le=d.get(ye);if(!Le)return;R.push(r.Qr.removeMatchingKeys(y,ae.removedDocuments,ye).next(()=>r.Qr.addMatchingKeys(y,ae.addedDocuments,ye)));let lt=Le.withSequenceNumber(y.currentSequenceNumber);var rn,Gt,Ln;null!==e.targetMismatches.get(ye)?lt=lt.withResumeToken(di.EMPTY_BYTE_STRING,en.min()).withLastLimboFreeSnapshotVersion(en.min()):ae.resumeToken.approximateByteSize()>0&&(lt=lt.withResumeToken(ae.resumeToken,s)),d=d.insert(ye,lt),Gt=lt,Ln=ae,(0===(rn=Le).resumeToken.approximateByteSize()||Gt.snapshotVersion.toMicroseconds()-rn.snapshotVersion.toMicroseconds()>=3e8||Ln.addedDocuments.size+Ln.modifiedDocuments.size+Ln.removedDocuments.size>0)&&R.push(r.Qr.updateTargetData(y,lt))});let V=Nr(),K=fr();if(e.documentUpdates.forEach(ae=>{e.resolvedLimboDocuments.has(ae)&&R.push(r.persistence.referenceDelegate.updateLimboDocument(y,ae))}),R.push(Du(y,b,e.documentUpdates).next(ae=>{V=ae.cs,K=ae.ls})),!s.isEqual(en.min())){const ae=r.Qr.getLastRemoteSnapshotVersion(y).next(ye=>r.Qr.setTargetsMetadata(y,y.currentSequenceNumber,s));R.push(ae)}return Ze.waitFor(R).next(()=>b.apply(y)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,V,K)).next(()=>V)}).then(y=>(r.ns=d,y))}(r.localStore,e);e.targetChanges.forEach((d,y)=>{const b=r.Fa.get(y);b&&(Ft(d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size<=1),d.addedDocuments.size>0?b.wa=!0:d.modifiedDocuments.size>0?Ft(b.wa):d.removedDocuments.size>0&&(Ft(b.wa),b.wa=!1))}),yield hl(r,s,e)}catch(s){yield gr(s)}})).apply(this,arguments)}function gp(l,e,r){const s=dt(l);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const d=[];s.ba.forEach((y,b)=>{const R=b.view.j_(e);R.snapshot&&d.push(R.snapshot)}),function(b,R){const V=dt(b);V.onlineState=R;let K=!1;V.queries.forEach((ae,ye)=>{for(const Le of ye.U_)Le.j_(R)&&(K=!0)}),K&&Jh(V)}(s.eventManager,e),d.length&&s.Sa.h_(d),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Ug(l,e,r){return mp.apply(this,arguments)}function mp(){return(mp=(0,g.Z)(function*(l,e,r){const s=dt(l);s.sharedClientState.updateQueryState(e,"rejected",r);const d=s.Fa.get(e),y=d&&d.key;if(y){let b=new Kr(Ut.comparator);b=b.insert(y,zn.newNoDocument(y,en.min()));const R=fr().add(y),V=new js(en.min(),new Map,new Kr(Yt),b,R);yield pp(s,V),s.va=s.va.remove(y),s.Fa.delete(e),Ep(s)}else yield Za(s.localStore,e,!1).then(()=>jd(s,e,r)).catch(gr)})).apply(this,arguments)}function _p(l,e){return ku.apply(this,arguments)}function ku(){return(ku=(0,g.Z)(function*(l,e){const r=dt(l),s=e.batch.batchId;try{const d=yield function Oo(l,e){const r=dt(l);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const d=e.batch.keys(),y=r.os.newChangeBuffer({trackRemovals:!0});return function(R,V,K,ae){const ye=K.batch,Le=ye.keys();let lt=Ze.resolve();return Le.forEach(Lt=>{lt=lt.next(()=>ae.getEntry(V,Lt)).next(rn=>{const Gt=K.docVersions.get(Lt);Ft(null!==Gt),rn.version.compareTo(Gt)<0&&(ye.applyToRemoteDocument(rn,K),rn.isValidDocument()&&(rn.setReadTime(K.commitVersion),ae.addEntry(rn)))})}),lt.next(()=>R.mutationQueue.removeMutationBatch(V,ye))}(r,s,e,y).next(()=>y.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,d,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(R){let V=fr();for(let K=0;K<R.mutationResults.length;++K)R.mutationResults[K].transformResults.length>0&&(V=V.add(R.batch.mutations[K].key));return V}(e))).next(()=>r.localDocuments.getDocuments(s,d))})}(r.localStore,e);Kl(r,s,null),sf(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield hl(r,d)}catch(d){yield gr(d)}})).apply(this,arguments)}function Bg(l,e,r){return nf.apply(this,arguments)}function nf(){return(nf=(0,g.Z)(function*(l,e,r){const s=dt(l);try{const d=yield function(b,R){const V=dt(b);return V.persistence.runTransaction("Reject batch","readwrite-primary",K=>{let ae;return V.mutationQueue.lookupMutationBatch(K,R).next(ye=>(Ft(null!==ye),ae=ye.keys(),V.mutationQueue.removeMutationBatch(K,ye))).next(()=>V.mutationQueue.performConsistencyCheck(K)).next(()=>V.documentOverlayCache.removeOverlaysForBatchId(K,ae,R)).next(()=>V.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(K,ae)).next(()=>V.localDocuments.getDocuments(K,ae))})}(s.localStore,e);Kl(s,e,r),sf(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield hl(s,d)}catch(d){yield gr(d)}})).apply(this,arguments)}function rf(){return(rf=(0,g.Z)(function*(l,e){const r=dt(l);Tc(r.remoteStore)||me("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(b){const R=dt(b);return R.persistence.runTransaction("Get highest unacknowledged batch id","readonly",V=>R.mutationQueue.getHighestUnacknowledgedBatchId(V))}(r.localStore);if(-1===s)return void e.resolve();const d=r.Oa.get(s)||[];d.push(e),r.Oa.set(s,d)}catch(s){const d=xu(s,"Initialization of waitForPendingWrites() operation failed");e.reject(d)}})).apply(this,arguments)}function sf(l,e){(l.Oa.get(e)||[]).forEach(r=>{r.resolve()}),l.Oa.delete(e)}function Kl(l,e,r){const s=dt(l);let d=s.xa[s.currentUser.toKey()];if(d){const y=d.get(e);y&&(r?y.reject(r):y.resolve(),d=d.remove(e)),s.xa[s.currentUser.toKey()]=d}}function jd(l,e,r=null){l.sharedClientState.removeLocalQueryTarget(e);for(const s of l.Da.get(e))l.ba.delete(s),r&&l.Sa.ka(s,r);l.Da.delete(e),l.isPrimaryClient&&l.Ma.Vr(e).forEach(s=>{l.Ma.containsKey(s)||af(l,s)})}function af(l,e){l.Ca.delete(e.path.canonicalString());const r=l.va.get(e);null!==r&&(ll(l.remoteStore,r),l.va=l.va.remove(e),l.Fa.delete(r),Ep(l))}function vp(l,e,r){for(const s of r)s instanceof Io?(l.Ma.addReference(s.key,e),p_(l,s)):s instanceof up?(me("SyncEngine","Document no longer in limbo: "+s.key),l.Ma.removeReference(s.key,e),l.Ma.containsKey(s.key)||af(l,s.key)):Tt()}function p_(l,e){const r=e.key,s=r.path.canonicalString();l.va.get(r)||l.Ca.has(s)||(me("SyncEngine","New document in limbo: "+r),l.Ca.add(s),Ep(l))}function Ep(l){for(;l.Ca.size>0&&l.va.size<l.maxConcurrentLimboResolutions;){const e=l.Ca.values().next().value;l.Ca.delete(e);const r=new Ut(On.fromString(e)),s=l.Na.next();l.Fa.set(s,new c_(r)),l.va=l.va.insert(r,s),cl(l.remoteStore,new ft(pi(Pe(r.path)),s,"TargetPurposeLimboResolution",F.oe))}}function hl(l,e,r){return jg.apply(this,arguments)}function jg(){return jg=(0,g.Z)(function*(l,e,r){const s=dt(l),d=[],y=[],b=[];var R;s.ba.isEmpty()||(s.ba.forEach((R,V)=>{b.push(s.Ba(V,e,r).then(K=>{if((K||r)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(V.targetId,K&&!K.fromCache?"current":"not-current"),K){d.push(K);const ae=Fr.Ki(V.targetId,K);y.push(ae)}}))}),yield Promise.all(b),s.Sa.h_(d),yield(R=(0,g.Z)(function*(K,ae){const ye=dt(K);try{yield ye.persistence.runTransaction("notifyLocalViewChanges","readwrite",Le=>Ze.forEach(ae,lt=>Ze.forEach(lt.qi,Lt=>ye.persistence.referenceDelegate.addReference(Le,lt.targetId,Lt)).next(()=>Ze.forEach(lt.Qi,Lt=>ye.persistence.referenceDelegate.removeReference(Le,lt.targetId,Lt)))))}catch(Le){if(!Fn(Le))throw Le;me("LocalStore","Failed to update sequence numbers: "+Le)}for(const Le of ae){const lt=Le.targetId;if(!Le.fromCache){const Lt=ye.ns.get(lt),Gt=Lt.withLastLimboFreeSnapshotVersion(Lt.snapshotVersion);ye.ns=ye.ns.insert(lt,Gt)}}}),function V(K,ae){return R.apply(this,arguments)})(s.localStore,y))}),jg.apply(this,arguments)}function $g(l,e){return cf.apply(this,arguments)}function cf(){return(cf=(0,g.Z)(function*(l,e){const r=dt(l);if(!r.currentUser.isEqual(e)){me("SyncEngine","User change. New user:",e.toKey());const s=yield el(r.localStore,e);r.currentUser=e,(y=r).Oa.forEach(R=>{R.forEach(V=>{V.reject(new _e(Ne.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),y.Oa.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield hl(r,s.us)}var y})).apply(this,arguments)}function $d(l,e){const r=dt(l),s=r.Fa.get(e);if(s&&s.wa)return fr().add(s.key);{let d=fr();const y=r.Da.get(e);if(!y)return d;for(const b of y){const R=r.ba.get(b);d=d.unionWith(R.view.Ea)}return d}}function yy(l,e){return zg.apply(this,arguments)}function zg(){return(zg=(0,g.Z)(function*(l,e){const r=dt(l),s=yield wi(r.localStore,e.query,!0),d=e.view.pa(s);return r.isPrimaryClient&&vp(r,e.targetId,d.fa),d})).apply(this,arguments)}function jv(l,e){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,g.Z)(function*(l,e){const r=dt(l);return wd(r.localStore,e).then(s=>hl(r,s))})).apply(this,arguments)}function Gg(l,e,r,s){return Ip.apply(this,arguments)}function Ip(){return(Ip=(0,g.Z)(function*(l,e,r,s){const d=dt(l),y=yield function(R,V){const K=dt(R),ae=dt(K.mutationQueue);return K.persistence.runTransaction("Lookup mutation documents","readonly",ye=>ae.vn(ye,V).next(Le=>Le?K.localDocuments.getDocuments(ye,Le):Ze.resolve(null)))}(d.localStore,e);var V;null!==y?("pending"===r?yield ql(d.remoteStore):"acknowledged"===r||"rejected"===r?(Kl(d,e,s||null),sf(d,e),V=e,dt(dt(d.localStore).mutationQueue).Mn(V)):Tt(),yield hl(d,y)):me("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Hd(){return(Hd=(0,g.Z)(function*(l,e){const r=dt(l);if(Pa(r),Tp(r),!0===e&&!0!==r.La){const s=r.sharedClientState.getAllActiveQueryTargets(),d=yield lf(r,s.toArray());r.La=!0,yield ap(r.remoteStore,!0);for(const y of d)cl(r.remoteStore,y)}else if(!1===e&&!1!==r.La){const s=[];let d=Promise.resolve();r.Da.forEach((y,b)=>{r.sharedClientState.isLocalQueryTarget(b)?s.push(b):d=d.then(()=>(jd(r,b),Za(r.localStore,b,!0))),ll(r.remoteStore,b)}),yield d,yield lf(r,s),function(b){const R=dt(b);R.Fa.forEach((V,K)=>{ll(R.remoteStore,K)}),R.Ma.mr(),R.Fa=new Map,R.va=new Kr(Ut.comparator)}(r),r.La=!1,yield ap(r.remoteStore,!1)}})).apply(this,arguments)}function lf(l,e,r){return qg.apply(this,arguments)}function qg(){return(qg=(0,g.Z)(function*(l,e,r){const s=dt(l),d=[],y=[];for(const b of e){let R;const V=s.Da.get(b);if(V&&0!==V.length){R=yield Su(s.localStore,pi(V[0]));for(const K of V){const ae=s.ba.get(K),ye=yield yy(s,ae);ye.snapshot&&y.push(ye.snapshot)}}else{const K=yield $l(s.localStore,b);R=yield Su(s.localStore,K),yield tf(s,g_(K),b,!1,R.resumeToken)}d.push(R)}return s.Sa.h_(y),d})).apply(this,arguments)}function g_(l){return le(l.path,l.collectionGroup,l.orderBy,l.filters,l.limit,"F",l.startAt,l.endAt)}function m_(l){return r=dt(l).localStore,dt(dt(r).persistence).Bi();var r}function Fu(l,e,r,s){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,g.Z)(function*(l,e,r,s){const d=dt(l);if(d.La)return void me("SyncEngine","Ignoring unexpected query state notification.");const y=d.Da.get(e);if(y&&y.length>0)switch(r){case"current":case"not-current":{const b=yield wd(d.localStore,jc(y[0])),R=js.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,di.EMPTY_BYTE_STRING);yield hl(d,b,R);break}case"rejected":yield Za(d.localStore,e,!0),jd(d,e,s);break;default:Tt()}})).apply(this,arguments)}function __(l,e,r){return bp.apply(this,arguments)}function bp(){return(bp=(0,g.Z)(function*(l,e,r){const s=Pa(l);if(s.La){for(const d of e){if(s.Da.has(d)&&s.sharedClientState.isActiveQueryTarget(d)){me("SyncEngine","Adding an already active target "+d);continue}const y=yield $l(s.localStore,d),b=yield Su(s.localStore,y);yield tf(s,g_(y),b.targetId,!1,b.resumeToken),cl(s.remoteStore,b)}for(const d of r)s.Da.has(d)&&(yield Za(s.localStore,d,!1).then(()=>{ll(s.remoteStore,d),jd(s,d)}).catch(gr))}})).apply(this,arguments)}function Pa(l){const e=dt(l);return e.remoteStore.remoteSyncer.applyRemoteEvent=pp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$d.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ug.bind(null,e),e.Sa.h_=_y.bind(null,e.eventManager),e.Sa.ka=kg.bind(null,e.eventManager),e}function Tp(l){const e=dt(l);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_p.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bg.bind(null,e),e}class Ac{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,g.Z)(function*(){r.serializer=$e(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return Bl(this.persistence,new Xc,e.initialUser,this.serializer)}createPersistence(e){return new Jf($h.Hr,this.serializer)}createSharedClientState(e){return new sl}terminate(){var e=this;return(0,g.Z)(function*(){var r,s;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(s=e.indexBackfillerScheduler)||void 0===s||s.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Wg extends Ac{constructor(e,r,s){super(),this.Qa=e,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,s=this;return(0,g.Z)(function*(){yield r().call(s,e),yield s.Qa.initialize(s,e),yield Tp(s.Qa.syncEngine),yield ql(s.Qa.remoteStore),yield s.persistence.fi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Bl(this.persistence,new Xc,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new Iu(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const s=new j(r,this.persistence);return new z(e.asyncQueue,s)}createPersistence(e){const r=Au(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?As.withCacheSize(this.cacheSizeBytes):As.DEFAULT;return new is(this.synchronizeTabs,r,e.clientId,s,e.asyncQueue,Y(),ue(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new sl}}class y_ extends Wg{constructor(e,r){super(e,r,!1),this.Qa=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,s=this;return(0,g.Z)(function*(){yield r().call(s,e);const d=s.Qa.syncEngine;s.sharedClientState instanceof Gh&&(s.sharedClientState.syncEngine={Zs:Gg.bind(null,d),Xs:Fu.bind(null,d),eo:__.bind(null,d),Bi:m_.bind(null,d),Ys:jv.bind(null,d)},yield s.sharedClientState.start()),yield s.persistence.fi(function(){var y=(0,g.Z)(function*(b){yield function zd(l,e){return Hd.apply(this,arguments)}(s.Qa.syncEngine,b),s.gcScheduler&&(b&&!s.gcScheduler.started?s.gcScheduler.start():b||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(b&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():b||s.indexBackfillerScheduler.stop())});return function(b){return y.apply(this,arguments)}}())})()}createSharedClientState(e){const r=Y();if(!Gh.D(r))throw new _e(Ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Au(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Gh(r,e.asyncQueue,s,e.clientId,e.initialUser)}}class qd{initialize(e,r){var s=this;return(0,g.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=d=>gp(s.syncEngine,d,1),s.remoteStore.remoteSyncer.handleCredentialChange=$g.bind(null,s.syncEngine),yield ap(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new xg}createDatastore(e){const r=$e(e.databaseInfo.databaseId),s=new M(e.databaseInfo);return new yr(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return s=this.localStore,d=this.datastore,y=e.asyncQueue,b=r=>gp(this.syncEngine,r,0),R=ol.D()?new ol:new bc,new No(s,d,y,b,R);var s,d,y,b,R}createSyncEngine(e,r){return function(d,y,b,R,V,K,ae){const ye=new l_(d,y,b,R,V,K);return ae&&(ye.La=!0),ye}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,g.Z)(function*(){var r,s;yield(s=(0,g.Z)(function*(y){const b=dt(y);me("RemoteStore","RemoteStore shutting down."),b.M_.add(5),yield Ma(b),b.O_.shutdown(),b.N_.set("Unknown")}),function d(y){return s.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}function v_(l,e=10240){let r=0;return{read:()=>(0,g.Z)(function*(){if(r<l.byteLength){const s={value:l.slice(r,r+e),done:!1};return r+=e,s}return{done:!0}})(),cancel:()=>(0,g.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Cp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Ct("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class Zg{constructor(e,r){this.Ua=e,this.serializer=r,this.metadata=new Ue,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(s=>{s&&s.sa()?this.metadata.resolve(s.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.ia)}`))},s=>this.metadata.reject(s))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,g.Z)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,g.Z)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,g.Z)(function*(){const r=yield e.za();if(null===r)return null;const s=e.Wa.decode(r),d=Number(s);isNaN(d)&&e.ja(`length string (${s}) is not valid number`);const y=yield e.Ha(d);return new s_(JSON.parse(y),r.length+d)})()}Ja(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}za(){var e=this;return(0,g.Z)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const r=e.Ja();r<0&&e.ja("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),s})()}Ha(e){var r=this;return(0,g.Z)(function*(){for(;r.buffer.length<e;)(yield r.Ya())&&r.ja("Reached the end of bundle when more is expected.");const s=r.Wa.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),s})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,g.Z)(function*(){const r=yield e.Ua.read();if(!r.done){const s=new Uint8Array(e.buffer.length+r.value.length);s.set(e.buffer),s.set(r.value,e.buffer.length),e.buffer=s}return r.done})()}}class wp{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,g.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new _e(Ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const s=yield(d=(0,g.Z)(function*(b,R){const V=dt(b),K={documents:R.map(lt=>fd(V.serializer,lt))},ae=yield V.xo("BatchGetDocuments",V.serializer.databaseId,On.emptyPath(),K,R.length),ye=new Map;ae.forEach(lt=>{const Lt=function Qi(l,e){return"found"in e?function(s,d){Ft(!!d.found);const y=qo(s,d.found.name),b=ki(d.found.updateTime),R=d.found.createTime?ki(d.found.createTime):en.min(),V=new pr({mapValue:{fields:d.found.fields}});return zn.newFoundDocument(y,b,R,V)}(l,e):"missing"in e?function(s,d){Ft(!!d.missing),Ft(!!d.readTime);const y=qo(s,d.missing),b=ki(d.readTime);return zn.newNoDocument(y,b)}(l,e):Tt()}(V.serializer,lt);ye.set(Lt.key.toString(),Lt)});const Le=[];return R.forEach(lt=>{const Lt=ye.get(lt.toString());Ft(!!Lt),Le.push(Lt)}),Le}),function y(b,R){return d.apply(this,arguments)})(r.datastore,e);var d;return s.forEach(d=>r.recordVersion(d)),s})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new ei(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,g.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var s;e.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,d)=>{const y=Ut.fromPath(d);e.mutations.push(new Hr(y,e.precondition(y)))}),yield(s=(0,g.Z)(function*(y,b){const R=dt(y),V={writes:b.map(K=>Os(R.serializer,K))};yield R.Co("Commit",R.serializer.databaseId,On.emptyPath(),V)}),function d(y,b){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw Tt();r=en.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!r.isEqual(s))throw new _e(Ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(en.min())?si.exists(!1):si.updateTime(r):si.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(en.min()))throw new _e(Ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return si.updateTime(r)}return si.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Ey{constructor(e,r,s,d,y){this.asyncQueue=e,this.datastore=r,this.options=s,this.updateFunction=d,this.deferred=y,this.Za=s.maxAttempts,this.Yo=new ht(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Yo.$o((0,g.Z)(function*(){const r=new wp(e.datastore),s=e.tu(r);s&&s.then(d=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(d)}).catch(y=>{e.nu(y)}))}).catch(d=>{e.nu(d)})}))}tu(e){try{const r=this.updateFunction(e);return!pe(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!la(r)}return!1}}class Iy{constructor(e,r,s,d){var y=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=d,this.user=ct.UNAUTHENTICATED,this.clientId=xn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var b=(0,g.Z)(function*(R){me("FirestoreClient","Received user=",R.uid),yield y.authCredentialListener(R),y.user=R});return function(R){return b.apply(this,arguments)}}()),this.appCheckCredentials.start(s,b=>(me("FirestoreClient","Received new app check token=",b),this.appCheckCredentialListener(b,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new _e(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Ue;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,g.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const d=xu(s,"Failed to shutdown persistence");r.reject(d)}})),r.promise}}function Ap(l,e){return Wd.apply(this,arguments)}function Wd(){return Wd=(0,g.Z)(function*(l,e){l.asyncQueue.verifyOperationInProgress(),me("FirestoreClient","Initializing OfflineComponentProvider");const r=l.configuration;yield e.initialize(r);let s=r.initialUser;l.setCredentialChangeListener(function(){var d=(0,g.Z)(function*(y){s.isEqual(y)||(yield el(e.localStore,y),s=y)});return function(y){return d.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>l.terminate()),l._offlineComponents=e}),Wd.apply(this,arguments)}function Ra(l,e){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,g.Z)(function*(l,e){l.asyncQueue.verifyOperationInProgress();const r=yield Dp(l);me("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,l.configuration),l.setCredentialChangeListener(s=>Ks(e.remoteStore,s)),l.setAppCheckTokenChangeListener((s,d)=>Ks(e.remoteStore,d)),l._onlineComponents=e})).apply(this,arguments)}function Kg(l){return"FirebaseError"===l.name?l.code===Ne.FAILED_PRECONDITION||l.code===Ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code}function Dp(l){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,g.Z)(function*(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){me("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ap(l,l._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!Kg(r))throw r;$t("Error using user provided cache. Falling back to memory cache: "+r),yield Ap(l,new Ac)}}else me("FirestoreClient","Using default OfflineComponentProvider"),yield Ap(l,new Ac);return l._offlineComponents})).apply(this,arguments)}function Yg(l){return Qg.apply(this,arguments)}function Qg(){return(Qg=(0,g.Z)(function*(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(me("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ra(l,l._uninitializedComponentsProvider._online)):(me("FirestoreClient","Using default OnlineComponentProvider"),yield Ra(l,new qd))),l._onlineComponents})).apply(this,arguments)}function by(l){return Dp(l).then(e=>e.persistence)}function Dc(l){return Dp(l).then(e=>e.localStore)}function Sp(l){return Yg(l).then(e=>e.remoteStore)}function E_(l){return Yg(l).then(e=>e.syncEngine)}function Lu(l){return Jg.apply(this,arguments)}function Jg(){return(Jg=(0,g.Z)(function*(l){const e=yield Yg(l),r=e.eventManager;return r.onListen=dp.bind(null,e.syncEngine),r.onUnlisten=d_.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Fg.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=h_.bind(null,e.syncEngine),r})).apply(this,arguments)}function Xg(l,e,r={}){const s=new Ue;return l.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function(y,b,R,V,K){const ae=new Cp({next:Le=>{b.enqueueAndForget(()=>Ou(y,ye));const lt=Le.docs.has(R);!lt&&Le.fromCache?K.reject(new _e(Ne.UNAVAILABLE,"Failed to get document because the client is offline.")):lt&&Le.fromCache&&V&&"server"===V.source?K.reject(new _e(Ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):K.resolve(Le)},error:Le=>K.reject(Le)}),ye=new Vd(Pe(R.path),ae,{includeMetadataChanges:!0,ra:!0});return Ld(y,ye)}(yield Lu(l),l.asyncQueue,e,r,s)})),s.promise}function em(l,e,r={}){const s=new Ue;return l.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function(y,b,R,V,K){const ae=new Cp({next:Le=>{b.enqueueAndForget(()=>Ou(y,ye)),Le.fromCache&&"server"===V.source?K.reject(new _e(Ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):K.resolve(Le)},error:Le=>K.reject(Le)}),ye=new Vd(R,ae,{includeMetadataChanges:!0,ra:!0});return Ld(y,ye)}(yield Lu(l),l.asyncQueue,e,r,s)})),s.promise}function T_(l){const e={};return void 0!==l.timeoutSeconds&&(e.timeoutSeconds=l.timeoutSeconds),e}const C_=new Map;function rm(l,e,r){if(!r)throw new _e(Ne.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${e}.`)}function w_(l,e,r,s){if(!0===e&&!0===s)throw new _e(Ne.INVALID_ARGUMENT,`${l} and ${r} cannot be used together.`)}function im(l){if(!Ut.isDocumentKey(l))throw new _e(Ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function My(l){if(Ut.isDocumentKey(l))throw new _e(Ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function sm(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const e=(s=l).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof l?"a function":Tt()}function Mr(l,e){if("_delegate"in l&&(l=l._delegate),!(l instanceof e)){if(e.name===l.constructor.name)throw new _e(Ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=sm(l);throw new _e(Ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return l}function Yd(l,e){if(e<=0)throw new _e(Ne.INVALID_ARGUMENT,`Function ${l}() requires a positive number, but it was: ${e}.`)}class om{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new _e(Ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new _e(Ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}w_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=T_(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(y){if(void 0!==y.timeoutSeconds){if(isNaN(y.timeoutSeconds))throw new _e(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (must not be NaN)`);if(y.timeoutSeconds<5)throw new _e(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (minimum allowed value is 5)`);if(y.timeoutSeconds>30)throw new _e(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uu{constructor(e,r,s,d){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=d,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new om({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new _e(Ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new _e(Ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new om(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new rt;switch(s.type){case"firstParty":return new Kt(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _e(Ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=C_.get(r);s&&(me("ComponentProvider","Removing Datastore"),C_.delete(r),s.terminate())}(this),Promise.resolve()}}function Bu(l,e,r,s={}){var d;const y=(l=Mr(l,Uu))._getSettings(),b=`${e}:${r}`;if("firestore.googleapis.com"!==y.host&&y.host!==b&&$t("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),l._setSettings(Object.assign(Object.assign({},y),{host:b,ssl:!1})),s.mockUserToken){let R,V;if("string"==typeof s.mockUserToken)R=s.mockUserToken,V=ct.MOCK_USER;else{R=(0,Ee.Sg)(s.mockUserToken,null===(d=l._app)||void 0===d?void 0:d.options.projectId);const K=s.mockUserToken.sub||s.mockUserToken.user_id;if(!K)throw new _e(Ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");V=new ct(K)}l._authCredentials=new _t(new nt(R,V))}}class $s{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new $s(this.firestore,e,this._query)}}class ss{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ss(this.firestore,e,this._key)}}class Sc extends $s{constructor(e,r,s){super(e,r,Pe(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ss(this.firestore,null,new Ut(e))}withConverter(e){return new Sc(this.firestore,e,this._path)}}function Py(l,e,...r){if(l=(0,Ee.m9)(l),rm("collection","path",e),l instanceof Uu){const s=On.fromString(e,...r);return My(s),new Sc(l,null,s)}{if(!(l instanceof ss||l instanceof Sc))throw new _e(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(On.fromString(e,...r));return My(s),new Sc(l.firestore,null,s)}}function am(l,e){if(l=Mr(l,Uu),rm("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new _e(Ne.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new $s(l,null,(s=e,new L(On.emptyPath(),s)));var s}function $v(l,e,...r){if(l=(0,Ee.m9)(l),1===arguments.length&&(e=xn.newId()),rm("doc","path",e),l instanceof Uu){const s=On.fromString(e,...r);return im(s),new ss(l,null,new Ut(s))}{if(!(l instanceof ss||l instanceof Sc))throw new _e(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(On.fromString(e,...r));return im(s),new ss(l.firestore,l instanceof Sc?l.converter:null,new Ut(s))}}function cm(l,e){return l=(0,Ee.m9)(l),e=(0,Ee.m9)(e),(l instanceof ss||l instanceof Sc)&&(e instanceof ss||e instanceof Sc)&&l.firestore===e.firestore&&l.path===e.path&&l.converter===e.converter}function lm(l,e){return l=(0,Ee.m9)(l),e=(0,Ee.m9)(e),l instanceof $s&&e instanceof $s&&l.firestore===e.firestore&&Ba(l._query,e._query)&&l.converter===e.converter}class um{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new ht(this,"async_queue_retry"),this.hu=()=>{const r=ue();r&&me("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Yo.Wo()};const e=ue();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const r=ue();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const r=new Ue;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,g.Z)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(r){if(!Fn(r))throw r;me("AsyncQueue","Operation failed with retryable error: "+r)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const r=this.iu.then(()=>(this.uu=!0,e().catch(s=>{throw this.au=s,this.uu=!1,Ct("INTERNAL UNHANDLED ERROR: ",function(b){let R=b.message||"";return b.stack&&(R=b.stack.includes(b.message)?b.stack:b.message+"\n"+b.stack),R}(s)),s}).then(s=>(this.uu=!1,s))));return this.iu=r,r}enqueueAfterDelay(e,r,s){this.Pu(),this.lu.indexOf(e)>-1&&(r=0);const d=kd.createAndSchedule(this,e,r,s,y=>this.Eu(y));return this._u.push(d),d}Pu(){this.au&&Tt()}verifyOperationInProgress(){}du(){var e=this;return(0,g.Z)(function*(){let r;do{r=e.iu,yield r}while(r!==e.iu)})()}Au(e){for(const r of this._u)if(r.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this._u)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const r=this._u.indexOf(e);this._u.splice(r,1)}}function Pp(l){return function(r,s){if("object"!=typeof r||null===r)return!1;const d=r;for(const y of["next","error","complete"])if(y in d&&"function"==typeof d[y])return!0;return!1}(l)}class A_{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ue,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,s){this._progressObserver={next:e,error:r,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const ju=-1;class xi extends Uu{constructor(e,r,s,d){super(e,r,s,d),this.type="firestore",this._queue=new um,this._persistenceKey=d?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||xa(this),this._firestoreClient.terminate()}}function uf(l,e){const r="object"==typeof l?l:(0,u.getApp)(),s="string"==typeof l?l:e||"(default)",d=(0,u._getProvider)(r,"firestore").getImmediate({identifier:s});if(!d._initialized){const y=(0,Ee.P0)("firestore");y&&Bu(d,...y)}return d}function Ji(l){return l._firestoreClient||xa(l),l._firestoreClient.verifyNotTerminated(),l._firestoreClient}function xa(l){var e,r,s;const d=l._freezeSettings(),y=(V=(null===(e=l._app)||void 0===e?void 0:e.options.appId)||"",new Po(l._databaseId,V,l._persistenceKey,(ae=d).host,ae.ssl,ae.experimentalForceLongPolling,ae.experimentalAutoDetectLongPolling,T_(ae.experimentalLongPollingOptions),ae.useFetchStreams));var V,ae;l._firestoreClient=new Iy(l._authCredentials,l._appCheckCredentials,l._queue,y),null!==(r=d.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(s=d.localCache)&&void 0!==s&&s._onlineComponentProvider&&(l._firestoreClient._uninitializedComponentsProvider={_offlineKind:d.localCache.kind,_offline:d.localCache._offlineComponentProvider,_online:d.localCache._onlineComponentProvider})}function dm(l,e){xy(l=Mr(l,xi));const r=Ji(l);if(r._uninitializedComponentsProvider)throw new _e(Ne.FAILED_PRECONDITION,"SDK cache is already specified.");$t("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=l._freezeSettings(),d=new qd;return Qd(r,d,new Wg(d,s.cacheSizeBytes,e?.forceOwnership))}function fl(l){xy(l=Mr(l,xi));const e=Ji(l);if(e._uninitializedComponentsProvider)throw new _e(Ne.FAILED_PRECONDITION,"SDK cache is already specified.");$t("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=l._freezeSettings(),s=new qd;return Qd(e,s,new y_(s,r.cacheSizeBytes))}function Qd(l,e,r){const s=new Ue;return l.asyncQueue.enqueue((0,g.Z)(function*(){try{yield Ap(l,r),yield Ra(l,e),s.resolve()}catch(d){const y=d;if(!Kg(y))throw y;$t("Error enabling indexeddb cache. Falling back to memory cache: "+y),s.reject(y)}})).then(()=>s.promise)}function Rp(l){if(l._initialized&&!l._terminated)throw new _e(Ne.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ue;return l._queue.enqueueAndForgetEvenWhileRestricted((0,g.Z)(function*(){try{yield(r=(0,g.Z)(function*(d){if(!oe.D())return Promise.resolve();const y=d+"main";yield oe.delete(y)}),function s(d){return r.apply(this,arguments)})(Au(l._databaseId,l._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function S_(l){return function(r){const s=new Ue;return r.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function yp(l,e){return rf.apply(this,arguments)}(yield E_(r),s)})),s.promise}(Ji(l=Mr(l,xi)))}function zv(l){return function Cy(l){return l.asyncQueue.enqueue((0,g.Z)(function*(){const e=yield by(l),r=yield Sp(l);return e.setNetworkEnabled(!0),function(d){const y=dt(d);return y.M_.delete(0),Ya(y)}(r)}))}(Ji(l=Mr(l,xi)))}function Ry(l){return function wy(l){return l.asyncQueue.enqueue((0,g.Z)(function*(){const e=yield by(l),r=yield Sp(l);return e.setNetworkEnabled(!1),(s=(0,g.Z)(function*(y){const b=dt(y);b.M_.add(0),yield Ma(b),b.N_.set("Offline")}),function d(y){return s.apply(this,arguments)})(r);var s}))}(Ji(l=Mr(l,xi)))}function Hv(l,e){const r=Ji(l=Mr(l,xi)),s=new A_;return function Vu(l,e,r,s){const d=function(b,R){let V;return V="string"==typeof b?Ia().encode(b):b,ae=function(ae,ye){if(ae instanceof Uint8Array)return v_(ae,void 0);if(ae instanceof ArrayBuffer)return v_(new Uint8Array(ae),void 0);if(ae instanceof ReadableStream)return ae.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(V),new Zg(ae,R);var ae}(r,$e(e));l.asyncQueue.enqueueAndForget((0,g.Z)(function*(){!function wc(l,e,r){const s=dt(l);var d;(d=(0,g.Z)(function*(b,R,V){try{const K=yield R.getMetadata();if(yield function(Lt,rn){const Gt=dt(Lt),Ln=ki(rn.createTime);return Gt.persistence.runTransaction("hasNewerBundle","readonly",Jn=>Gt.$r.getBundleMetadata(Jn,rn.id)).then(Jn=>!!Jn&&Jn.createTime.compareTo(Ln)>=0)}(b.localStore,K))return yield R.close(),V._completeWith({taskState:"Success",documentsLoaded:(Lt=K).totalDocuments,bytesLoaded:Lt.totalBytes,totalDocuments:Lt.totalDocuments,totalBytes:Lt.totalBytes}),Promise.resolve(new Set);V._updateProgress(o_(K));const ae=new lp(K,b.localStore,R.serializer);let ye=yield R.qa();for(;ye;){const lt=yield ae._a(ye);lt&&V._updateProgress(lt),ye=yield R.qa()}const Le=yield ae.complete();return yield hl(b,Le.ca,void 0),yield function(Lt,rn){const Gt=dt(Lt);return Gt.persistence.runTransaction("Save bundle","readwrite",Ln=>Gt.$r.saveBundleMetadata(Ln,rn))}(b.localStore,K),V._completeWith(Le.progress),Promise.resolve(Le.ua)}catch(K){return $t("SyncEngine",`Loading bundle failed with ${K}`),V._failWith(K),Promise.resolve(new Set)}var Lt}),function y(b,R,V){return d.apply(this,arguments)})(s,e,r).then(d=>{s.sharedClientState.notifyBundleLoaded(d)})}(yield E_(l),d,s)}))}(r,l._databaseId,e,s),s}function Gv(l,e){return function Dy(l,e){return l.asyncQueue.enqueue((0,g.Z)(function*(){return function(s,d){const y=dt(s);return y.persistence.runTransaction("Get named query","readonly",b=>y.$r.getNamedQuery(b,d))}(yield Dc(l),e)}))}(Ji(l=Mr(l,xi)),e).then(r=>r?new $s(l,null,r.query):null)}function xy(l){if(l._initialized||l._terminated)throw new _e(Ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oa(di.fromBase64String(e))}catch(r){throw new _e(Ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Oa(di.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Mc{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new _e(Ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class df{constructor(e){this._methodName=e}}class hf{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new _e(Ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new _e(Ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Yt(this._lat,e._lat)||Yt(this._long,e._long)}}const Ny=/^__.*__$/;class ky{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new kr(e,this.data,this.fieldMask,r,this.fieldTransforms):new Cn(e,this.data,r,this.fieldTransforms)}}class Fy{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new kr(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Ly(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt()}}class $u{constructor(e,r,s,d,y,b){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=d,void 0===y&&this.mu(),this.fieldTransforms=y||[],this.fieldMask=b||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new $u(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),d=this.gu({path:s,yu:!1});return d.wu(e),d}Su(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),d=this.gu({path:s,yu:!1});return d.mu(),d}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return ih(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(Ly(this.fu)&&Ny.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class Vy{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||$e(e)}Fu(e,r,s,d=!1){return new $u({fu:e,methodName:r,vu:s,path:Kn.emptyPath(),yu:!1,Cu:d},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pl(l){const e=l._freezeSettings(),r=$e(l._databaseId);return new Vy(l._databaseId,!!e.ignoreUndefinedProperties,r)}function Xd(l,e,r,s,d,y={}){const b=l.Fu(y.merge||y.mergeFields?2:0,e,r,d);hm("Data must be an object, but it was:",b,s);const R=Fp(s,b);let V,K;if(y.merge)V=new Ni(b.fieldMask),K=b.fieldTransforms;else if(y.mergeFields){const ae=[];for(const ye of y.mergeFields){const Le=rh(e,ye,r);if(!b.contains(Le))throw new _e(Ne.INVALID_ARGUMENT,`Field '${Le}' is specified in your field mask but missing from your input data.`);fm(ae,Le)||ae.push(Le)}V=new Ni(ae),K=b.fieldTransforms.filter(ye=>V.covers(ye.field))}else V=null,K=b.fieldTransforms;return new ky(new pr(R),V,K)}class Pc extends df{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pc}}function Np(l,e,r){return new $u({fu:3,vu:e.settings.vu,methodName:l._methodName,yu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class kp extends df{_toFieldTransform(e){return new Ha(e.path,new Hc)}isEqual(e){return e instanceof kp}}class zu extends df{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=Np(this,e,!0),s=this.Mu.map(y=>th(y,r)),d=new aa(s);return new Ha(e.path,d)}isEqual(e){return e instanceof zu&&(0,Ee.vZ)(this.Mu,e.Mu)}}class eh extends df{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=Np(this,e,!0),s=this.Mu.map(y=>th(y,r)),d=new $o(s);return new Ha(e.path,d)}isEqual(e){return e instanceof eh&&(0,Ee.vZ)(this.Mu,e.Mu)}}class Yl extends df{constructor(e,r){super(e),this.xu=r}_toFieldTransform(e){const r=new za(e.serializer,$a(e.serializer,this.xu));return new Ha(e.path,r)}isEqual(e){return e instanceof Yl&&this.xu===e.xu}}function ff(l,e,r,s){const d=l.Fu(1,e,r);hm("Data must be an object, but it was:",d,s);const y=[],b=pr.empty();us(s,(V,K)=>{const ae=Lp(e,V,r);K=(0,Ee.m9)(K);const ye=d.Su(ae);if(K instanceof Pc)y.push(ae);else{const Le=th(K,ye);null!=Le&&(y.push(ae),b.set(ae,Le))}});const R=new Ni(y);return new Fy(b,R,d.fieldTransforms)}function pf(l,e,r,s,d,y){const b=l.Fu(1,e,r),R=[rh(e,s,r)],V=[d];if(y.length%2!=0)throw new _e(Ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Le=0;Le<y.length;Le+=2)R.push(rh(e,y[Le])),V.push(y[Le+1]);const K=[],ae=pr.empty();for(let Le=R.length-1;Le>=0;--Le)if(!fm(K,R[Le])){const lt=R[Le];let Lt=V[Le];Lt=(0,Ee.m9)(Lt);const rn=b.Su(lt);if(Lt instanceof Pc)K.push(lt);else{const Gt=th(Lt,rn);null!=Gt&&(K.push(lt),ae.set(lt,Gt))}}const ye=new Ni(K);return new Fy(ae,ye,b.fieldTransforms)}function gf(l,e,r,s=!1){return th(r,l.Fu(s?4:3,e))}function th(l,e){if(nh(l=(0,Ee.m9)(l)))return hm("Unsupported field value:",e,l),Fp(l,e);if(l instanceof df)return function(s,d){if(!Ly(d.fu))throw d.Du(`${s._methodName}() can only be used with update() and set()`);if(!d.path)throw d.Du(`${s._methodName}() is not currently supported inside arrays`);const y=s._toFieldTransform(d);y&&d.fieldTransforms.push(y)}(l,e),null;if(void 0===l&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),l instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(s,d){const y=[];let b=0;for(const R of s){let V=th(R,d.bu(b));null==V&&(V={nullValue:"NULL_VALUE"}),y.push(V),b++}return{arrayValue:{values:y}}}(l,e)}return function(s,d){if(null===(s=(0,Ee.m9)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return $a(d.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const y=kn.fromDate(s);return{timestampValue:Ga(d.serializer,y)}}if(s instanceof kn){const y=new kn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ga(d.serializer,y)}}if(s instanceof hf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Oa)return{bytesValue:Rh(d.serializer,s._byteString)};if(s instanceof ss){const y=d.databaseId,b=s.firestore._databaseId;if(!b.isEqual(y))throw d.Du(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${y.projectId}/${y.database}`);return{referenceValue:qa(s.firestore._databaseId||d.databaseId,s._key.path)}}throw d.Du(`Unsupported field value: ${sm(s)}`)}(l,e)}function Fp(l,e){const r={};return Fa(l)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):us(l,(s,d)=>{const y=th(d,e.pu(s));null!=y&&(r[s]=y)}),{mapValue:{fields:r}}}function nh(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof kn||l instanceof hf||l instanceof Oa||l instanceof ss||l instanceof df)}function hm(l,e,r){if(!nh(r)||"object"!=typeof(d=r)||null===d||Object.getPrototypeOf(d)!==Object.prototype&&null!==Object.getPrototypeOf(d)){const s=sm(r);throw e.Du("an object"===s?l+" a custom object":l+" "+s)}var d}function rh(l,e,r){if((e=(0,Ee.m9)(e))instanceof Mc)return e._internalPath;if("string"==typeof e)return Lp(l,e);throw ih("Field path arguments must be of type string or ",l,!1,void 0,r)}const Uy=new RegExp("[~\\*/\\[\\]]");function Lp(l,e,r){if(e.search(Uy)>=0)throw ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,r);try{return new Mc(...e.split("."))._internalPath}catch{throw ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,r)}}function ih(l,e,r,s,d){const y=s&&!s.isEmpty(),b=void 0!==d;let R=`Function ${e}() called with invalid data`;r&&(R+=" (via `toFirestore()`)"),R+=". ";let V="";return(y||b)&&(V+=" (found",y&&(V+=` in field ${s}`),b&&(V+=` in document ${d}`),V+=")"),new _e(Ne.INVALID_ARGUMENT,R+l+V)}function fm(l,e){return l.some(r=>r.isEqual(e))}class mf{constructor(e,r,s,d,y){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=d,this._converter=y}get id(){return this._key.path.lastSegment()}get ref(){return new ss(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new By(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(pm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class By extends mf{data(){return super.data()}}function pm(l,e){return"string"==typeof e?Lp(l,e):e instanceof Mc?e._internalPath:e._delegate._internalPath}function M_(l){if("L"===l.limitType&&0===l.explicitOrderBy.length)throw new _e(Ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sh{}class Hu extends sh{}function jy(l,e,...r){let s=[];e instanceof sh&&s.push(e),s=s.concat(r),function(y){const b=y.filter(V=>V instanceof gl).length,R=y.filter(V=>V instanceof _f).length;if(b>1||b>0&&R>0)throw new _e(Ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const d of s)l=d._apply(l);return l}class _f extends Hu{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new _f(e,r,s)}_apply(e){const r=this._parse(e);return jp(e._query,r),new $s(e.firestore,e.converter,rc(e._query,r))}_parse(e){const r=pl(e.firestore);return function(y,b,R,V,K,ae,ye){let Le;if(K.isKeyField()){if("array-contains"===ae||"array-contains-any"===ae)throw new _e(Ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ae}' queries on documentId().`);if("in"===ae||"not-in"===ae){Bp(ye,ae);const lt=[];for(const Lt of ye)lt.push(R_(V,y,Lt));Le={arrayValue:{values:lt}}}else Le=R_(V,y,ye)}else"in"!==ae&&"not-in"!==ae&&"array-contains-any"!==ae||Bp(ye,ae),Le=gf(R,"where",ye,"in"===ae||"not-in"===ae);return sr.create(K,ae,Le)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function gm(l,e,r){const s=e,d=pm("where",l);return _f._create(d,s,r)}class gl extends sh{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new gl(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:mr.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(d,y){let b=d;const R=y.getFlattenedFilters();for(const V of R)jp(b,V),b=rc(b,V)}(e._query,r),new $s(e.firestore,e.converter,rc(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class yf extends Hu{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new yf(e,r)}_apply(e){const r=function(d,y,b){if(null!==d.startAt)throw new _e(Ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==d.endAt)throw new _e(Ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Rs(y,b)}(e._query,this._field,this._direction);return new $s(e.firestore,e.converter,function(d,y){const b=d.explicitOrderBy.concat([y]);return new L(d.path,d.collectionGroup,b,d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(e._query,r))}}function Vp(l,e="asc"){const r=e,s=pm("orderBy",l);return yf._create(s,r)}class vf extends Hu{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new vf(e,r,s)}_apply(e){return new $s(e.firestore,e.converter,ic(e._query,this._limit,this._limitType))}}function ga(l){return Yd("limit",l),vf._create("limit",l,"F")}function Ef(l){return Yd("limitToLast",l),vf._create("limitToLast",l,"L")}class Up extends Hu{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new Up(e,r,s)}_apply(e){const r=zy(e,this.type,this._docOrFields,this._inclusive);return new $s(e.firestore,e.converter,(y=r,new L((d=e._query).path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,y,d.endAt)));var d,y}}function Ql(...l){return Up._create("startAt",l,!0)}function If(...l){return Up._create("startAfter",l,!1)}class Rc extends Hu{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new Rc(e,r,s)}_apply(e){const r=zy(e,this.type,this._docOrFields,this._inclusive);return new $s(e.firestore,e.converter,(y=r,new L((d=e._query).path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,y)));var d,y}}function mm(...l){return Rc._create("endBefore",l,!1)}function $y(...l){return Rc._create("endAt",l,!0)}function zy(l,e,r,s){if(r[0]=(0,Ee.m9)(r[0]),r[0]instanceof mf)return function(y,b,R,V,K){if(!V)throw new _e(Ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${R}().`);const ae=[];for(const ye of fs(y))if(ye.field.isKeyField())ae.push(an(b,V.key));else{const Le=V.data.field(ye.field);if(Ss(Le))throw new _e(Ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ye.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Le){const lt=ye.field.canonicalString();throw new _e(Ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${lt}' (used as the orderBy) does not exist.`)}ae.push(Le)}return new ds(ae,K)}(l._query,l.firestore._databaseId,e,r[0]._document,s);{const d=pl(l.firestore);return function(b,R,V,K,ae,ye){const Le=b.explicitOrderBy;if(ae.length>Le.length)throw new _e(Ne.INVALID_ARGUMENT,`Too many arguments provided to ${K}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const lt=[];for(let Lt=0;Lt<ae.length;Lt++){const rn=ae[Lt];if(Le[Lt].field.isKeyField()){if("string"!=typeof rn)throw new _e(Ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${K}(), but got a ${typeof rn}`);if(!_r(b)&&-1!==rn.indexOf("/"))throw new _e(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${K}() must be a plain document ID, but '${rn}' contains a slash.`);const Gt=b.path.child(On.fromString(rn));if(!Ut.isDocumentKey(Gt))throw new _e(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${K}() must result in a valid document path, but '${Gt}' is not because it contains an odd number of segments.`);const Ln=new Ut(Gt);lt.push(an(R,Ln))}else{const Gt=gf(V,K,rn);lt.push(Gt)}}return new ds(lt,ye)}(l._query,l.firestore._databaseId,d,e,r,s)}}function R_(l,e,r){if("string"==typeof(r=(0,Ee.m9)(r))){if(""===r)throw new _e(Ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_r(e)&&-1!==r.indexOf("/"))throw new _e(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(On.fromString(r));if(!Ut.isDocumentKey(s))throw new _e(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return an(l,new Ut(s))}if(r instanceof ss)return an(l,r._key);throw new _e(Ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sm(r)}.`)}function Bp(l,e){if(!Array.isArray(l)||0===l.length)throw new _e(Ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jp(l,e){const r=function(d,y){for(const b of d)for(const R of b.getFlattenedFilters())if(y.indexOf(R.op)>=0)return R.op;return null}(l.filters,function(d){switch(d){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new _e(Ne.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class ym{convertValue(e,r="none"){switch($i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw Tt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return us(e,(d,y)=>{s[d]=this.convertValue(y,r)}),s}convertGeoPoint(e){return new hf(hi(e.latitude),hi(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=co(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(ji(e));default:return null}}convertTimestamp(e){const r=ys(e);return new kn(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=On.fromString(e);Ft(Te(s));const d=new Un(s.get(1),s.get(3)),y=new Ut(s.popFirst(5));return d.isEqual(r)||Ct(`Document ${y} contains a document reference within a different database (${d.projectId}/${d.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),y}}function Jl(l,e,r){let s;return s=l?r&&(r.merge||r.mergeFields)?l.toFirestore(e,r):l.toFirestore(e):e,s}class x_ extends ym{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oa(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new ss(this.firestore,null,r)}}class xc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xl extends mf{constructor(e,r,s,d,y,b){super(e,r,s,d,b),this._firestore=e,this._firestoreImpl=e,this.metadata=y}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(pm("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class oh extends Xl{data(e={}){return super.data(e)}}class bo{constructor(e,r,s,d){this._firestore=e,this._userDataWriter=r,this._snapshot=d,this.metadata=new xc(d.hasPendingWrites,d.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new oh(this._firestore,this._userDataWriter,s.key,s,new xc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new _e(Ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(d,y){if(d._snapshot.oldDocs.isEmpty()){let b=0;return d._snapshot.docChanges.map(R=>({type:"added",doc:new oh(d._firestore,d._userDataWriter,R.doc.key,R.doc,new xc(d._snapshot.mutatedKeys.has(R.doc.key),d._snapshot.fromCache),d.query.converter),oldIndex:-1,newIndex:b++}))}{let b=d._snapshot.oldDocs;return d._snapshot.docChanges.filter(R=>y||3!==R.type).map(R=>{const V=new oh(d._firestore,d._userDataWriter,R.doc.key,R.doc,new xc(d._snapshot.mutatedKeys.has(R.doc.key),d._snapshot.fromCache),d.query.converter);let K=-1,ae=-1;return 0!==R.type&&(K=b.indexOf(R.doc.key),b=b.delete(R.doc.key)),1!==R.type&&(b=b.add(R.doc),ae=b.indexOf(R.doc.key)),{type:Hp(R.type),doc:V,oldIndex:K,newIndex:ae}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Hp(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt()}}function Jo(l,e){return l instanceof Xl&&e instanceof Xl?l._firestore===e._firestore&&l._key.isEqual(e._key)&&(null===l._document?null===e._document:l._document.isEqual(e._document))&&l._converter===e._converter:l instanceof bo&&e instanceof bo&&l._firestore===e._firestore&&lm(l.query,e.query)&&l.metadata.isEqual(e.metadata)&&l._snapshot.isEqual(e._snapshot)}function O_(l){l=Mr(l,ss);const e=Mr(l.firestore,xi);return Xg(Ji(e),l._key).then(r=>Em(e,l,r))}class Ja extends ym{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oa(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new ss(this.firestore,null,r)}}function Gp(l){l=Mr(l,ss);const e=Mr(l.firestore,xi),r=Ji(e),s=new Ja(e);return function I_(l,e){const r=new Ue;return l.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return(s=(0,g.Z)(function*(y,b,R){try{const V=yield function(ae,ye){const Le=dt(ae);return Le.persistence.runTransaction("read document","readonly",lt=>Le.localDocuments.getDocument(lt,ye))}(y,b);V.isFoundDocument()?R.resolve(V):V.isNoDocument()?R.resolve(null):R.reject(new _e(Ne.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(V){const K=xu(V,`Failed to get document '${b} from cache`);R.reject(K)}}),function d(y,b,R){return s.apply(this,arguments)})(yield Dc(l),e,r);var s})),r.promise}(r,l._key).then(d=>new Xl(e,s,l._key,d,new xc(null!==d&&d.hasLocalMutations,!0),l.converter))}function eu(l){l=Mr(l,ss);const e=Mr(l.firestore,xi);return Xg(Ji(e),l._key,{source:"server"}).then(r=>Em(e,l,r))}function qp(l){l=Mr(l,$s);const e=Mr(l.firestore,xi),r=Ji(e),s=new Ja(e);return M_(l._query),em(r,l._query).then(d=>new bo(e,s,l,d))}function tu(l){l=Mr(l,$s);const e=Mr(l.firestore,xi),r=Ji(e),s=new Ja(e);return function Mp(l,e){const r=new Ue;return l.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return(s=(0,g.Z)(function*(y,b,R){try{const V=yield wi(y,b,!0),K=new a_(b,V.hs),ae=K.da(V.documents),ye=K.applyChanges(ae,!1);R.resolve(ye.snapshot)}catch(V){const K=xu(V,`Failed to execute query '${b} against cache`);R.reject(K)}}),function d(y,b,R){return s.apply(this,arguments)})(yield Dc(l),e,r);var s})),r.promise}(r,l._query).then(d=>new bo(e,s,l,d))}function ml(l){l=Mr(l,$s);const e=Mr(l.firestore,xi),r=Ji(e),s=new Ja(e);return em(r,l._query,{source:"server"}).then(d=>new bo(e,s,l,d))}function qu(l,e,r){l=Mr(l,ss);const s=Mr(l.firestore,xi),d=Jl(l.converter,e,r);return Vi(s,[Xd(pl(s),"setDoc",l._key,d,null!==l.converter,r).toMutation(l._key,si.none())])}function Wu(l,e,r,...s){l=Mr(l,ss);const d=Mr(l.firestore,xi),y=pl(d);let b;return b="string"==typeof(e=(0,Ee.m9)(e))||e instanceof Mc?pf(y,"updateDoc",l._key,e,r,s):ff(y,"updateDoc",l._key,e),Vi(d,[b.toMutation(l._key,si.exists(!0))])}function Oc(l){return Vi(Mr(l.firestore,xi),[new ei(l._key,si.none())])}function Wp(l,e){const r=Mr(l.firestore,xi),s=$v(l),d=Jl(l.converter,e);return Vi(r,[Xd(pl(l.firestore),"addDoc",s._key,d,null!==l.converter,{}).toMutation(s._key,si.exists(!1))]).then(()=>s)}function N_(l,...e){var r,s,d;l=(0,Ee.m9)(l);let y={includeMetadataChanges:!1,source:"default"},b=0;"object"!=typeof e[b]||Pp(e[b])||(y=e[b],b++);const R={includeMetadataChanges:y.includeMetadataChanges,source:y.source};if(Pp(e[b])){const ye=e[b];e[b]=null===(r=ye.next)||void 0===r?void 0:r.bind(ye),e[b+1]=null===(s=ye.error)||void 0===s?void 0:s.bind(ye),e[b+2]=null===(d=ye.complete)||void 0===d?void 0:d.bind(ye)}let V,K,ae;if(l instanceof ss)K=Mr(l.firestore,xi),ae=Pe(l._key.path),V={next:ye=>{e[b]&&e[b](Em(K,l,ye))},error:e[b+1],complete:e[b+2]};else{const ye=Mr(l,$s);K=Mr(ye.firestore,xi),ae=ye._query;const Le=new Ja(K);V={next:lt=>{e[b]&&e[b](new bo(K,Le,ye,lt))},error:e[b+1],complete:e[b+2]},M_(l._query)}return function(Le,lt,Lt,rn){const Gt=new Cp(rn),Ln=new Vd(lt,Gt,Lt);return Le.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return Ld(yield Lu(Le),Ln)})),()=>{Gt.$a(),Le.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return Ou(yield Lu(Le),Ln)}))}}(Ji(K),ae,R,V)}function Zp(l,e){return function Ay(l,e){const r=new Cp(e);return l.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return d=yield Lu(l),y=r,dt(d).z_.add(y),void y.next();var d,y})),()=>{r.$a(),l.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return d=yield Lu(l),y=r,void dt(d).z_.delete(y);var d,y}))}}(Ji(l=Mr(l,xi)),Pp(e)?e:{next:e})}function Vi(l,e){return function(s,d){const y=new Ue;return s.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function fp(l,e,r){return Vg.apply(this,arguments)}(yield E_(s),d,y)})),y.promise}(Ji(l),e)}function Em(l,e,r){const s=r.docs.get(e._key),d=new Ja(l);return new Xl(l,d,e._key,s,new xc(r.hasPendingWrites,r.fromCache),e.converter)}const _l={maxAttempts:5};class Zu{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=pl(e)}set(e,r,s){this._verifyNotCommitted();const d=Xa(e,this._firestore),y=Jl(d.converter,r,s),b=Xd(this._dataReader,"WriteBatch.set",d._key,y,null!==d.converter,s);return this._mutations.push(b.toMutation(d._key,si.none())),this}update(e,r,s,...d){this._verifyNotCommitted();const y=Xa(e,this._firestore);let b;return b="string"==typeof(r=(0,Ee.m9)(r))||r instanceof Mc?pf(this._dataReader,"WriteBatch.update",y._key,r,s,d):ff(this._dataReader,"WriteBatch.update",y._key,r),this._mutations.push(b.toMutation(y._key,si.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Xa(e,this._firestore);return this._mutations=this._mutations.concat(new ei(r._key,si.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _e(Ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xa(l,e){if((l=(0,Ee.m9)(l)).firestore!==e)throw new _e(Ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}class Yp extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=pl(r)}get(r){const s=Xa(r,this._firestore),d=new x_(this._firestore);return this._transaction.lookup([s._key]).then(y=>{if(!y||1!==y.length)return Tt();const b=y[0];if(b.isFoundDocument())return new mf(this._firestore,d,b.key,b,s.converter);if(b.isNoDocument())return new mf(this._firestore,d,s._key,null,s.converter);throw Tt()})}set(r,s,d){const y=Xa(r,this._firestore),b=Jl(y.converter,s,d),R=Xd(this._dataReader,"Transaction.set",y._key,b,null!==y.converter,d);return this._transaction.set(y._key,R),this}update(r,s,d,...y){const b=Xa(r,this._firestore);let R;return R="string"==typeof(s=(0,Ee.m9)(s))||s instanceof Mc?pf(this._dataReader,"Transaction.update",b._key,s,d,y):ff(this._dataReader,"Transaction.update",b._key,s),this._transaction.update(b._key,R),this}delete(r){const s=Xa(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=Xa(e,this._firestore),s=new Ja(this._firestore);return super.get(e).then(d=>new Xl(this._firestore,s,r._key,d._document,new xc(!1,!1),r.converter))}}function Tm(l,e,r){l=Mr(l,xi);const s=Object.assign(Object.assign({},_l),r);return function(y){if(y.maxAttempts<1)throw new _e(Ne.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(y,b,R){const V=new Ue;return y.asyncQueue.enqueueAndForget((0,g.Z)(function*(){const K=yield function Ty(l){return Yg(l).then(e=>e.datastore)}(y);new Ey(y.asyncQueue,K,R,b,V).Xa()})),V.promise}(Ji(l),d=>e(new Yp(l,d)),s)}function Cm(){return new Pc("deleteField")}function wm(){return new kp("serverTimestamp")}function Ku(...l){return new zu("arrayUnion",l)}function Cf(...l){return new eh("arrayRemove",l)}function k_(l){return new Yl("increment",l)}!function(e,r=!0){Ge=u.SDK_VERSION,(0,u._registerComponent)(new H.wA("firestore",(s,{instanceIdentifier:d,options:y})=>{const b=s.getProvider("app").getImmediate(),R=new xi(new wt(s.getProvider("auth-internal")),new gn(s.getProvider("app-check-internal")),function(K,ae){if(!Object.prototype.hasOwnProperty.apply(K.options,["projectId"]))throw new _e(Ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Un(K.options.projectId,ae)}(b,d),b);return y=Object.assign({useFetchStreams:r},y),R._setSettings(y),R},"PUBLIC").setMultipleInstances(!0)),(0,u.registerVersion)(ze,"4.6.3",e),(0,u.registerVersion)(ze,"4.6.3","esm2017")}()},9058:(Qt,Ke,B)=>{B.d(Ke,{$s:()=>zt,BH:()=>Ge,G6:()=>Ne,L:()=>Ve,LL:()=>wt,P0:()=>Qe,Pz:()=>ct,Sg:()=>ot,UG:()=>me,ZB:()=>ve,ZR:()=>_t,aH:()=>ze,b$:()=>jn,eu:()=>Ue,hl:()=>_e,jU:()=>Ct,m9:()=>Bt,ne:()=>Br,pd:()=>Vn,r3:()=>Mn,ru:()=>$t,tV:()=>ne,uI:()=>Je,vZ:()=>On,w1:()=>Ft,xO:()=>Ut,xb:()=>en,z$:()=>Dt,zI:()=>nt,zd:()=>bn});const Ie=function(de){const J=[];let z=0;for(let j=0;j<de.length;j++){let F=de.charCodeAt(j);F<128?J[z++]=F:F<2048?(J[z++]=F>>6|192,J[z++]=63&F|128):55296==(64512&F)&&j+1<de.length&&56320==(64512&de.charCodeAt(j+1))?(F=65536+((1023&F)<<10)+(1023&de.charCodeAt(++j)),J[z++]=F>>18|240,J[z++]=F>>12&63|128,J[z++]=F>>6&63|128,J[z++]=63&F|128):(J[z++]=F>>12|224,J[z++]=F>>6&63|128,J[z++]=63&F|128)}return J},Se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(de,J){if(!Array.isArray(de))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=J?this.byteToCharMapWebSafe_:this.byteToCharMap_,j=[];for(let F=0;F<de.length;F+=3){const pe=de[F],ke=F+1<de.length,bt=ke?de[F+1]:0,kt=F+2<de.length,ln=kt?de[F+2]:0;let ar=(15&bt)<<2|ln>>6,Fe=63&ln;kt||(Fe=64,ke||(ar=64)),j.push(z[pe>>2],z[(3&pe)<<4|bt>>4],z[ar],z[Fe])}return j.join("")},encodeString(de,J){return this.HAS_NATIVE_SUPPORT&&!J?btoa(de):this.encodeByteArray(Ie(de),J)},decodeString(de,J){return this.HAS_NATIVE_SUPPORT&&!J?atob(de):function(de){const J=[];let z=0,j=0;for(;z<de.length;){const F=de[z++];if(F<128)J[j++]=String.fromCharCode(F);else if(F>191&&F<224){const pe=de[z++];J[j++]=String.fromCharCode((31&F)<<6|63&pe)}else if(F>239&&F<365){const kt=((7&F)<<18|(63&de[z++])<<12|(63&de[z++])<<6|63&de[z++])-65536;J[j++]=String.fromCharCode(55296+(kt>>10)),J[j++]=String.fromCharCode(56320+(1023&kt))}else{const pe=de[z++],ke=de[z++];J[j++]=String.fromCharCode((15&F)<<12|(63&pe)<<6|63&ke)}}return J.join("")}(this.decodeStringToByteArray(de,J))},decodeStringToByteArray(de,J){this.init_();const z=J?this.charToByteMapWebSafe_:this.charToByteMap_,j=[];for(let F=0;F<de.length;){const pe=z[de.charAt(F++)],bt=F<de.length?z[de.charAt(F)]:0;++F;const ln=F<de.length?z[de.charAt(F)]:64;++F;const dn=F<de.length?z[de.charAt(F)]:64;if(++F,null==pe||null==bt||null==ln||null==dn)throw new Ae;j.push(pe<<2|bt>>4),64!==ln&&(j.push(bt<<4&240|ln>>2),64!==dn&&j.push(ln<<6&192|dn))}return j},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let de=0;de<this.ENCODED_VALS.length;de++)this.byteToCharMap_[de]=this.ENCODED_VALS.charAt(de),this.charToByteMap_[this.byteToCharMap_[de]]=de,this.byteToCharMapWebSafe_[de]=this.ENCODED_VALS_WEBSAFE.charAt(de),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[de]]=de,de>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(de)]=de,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(de)]=de)}}};class Ae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ve=function(de){return function(de){const J=Ie(de);return Se.encodeByteArray(J,!0)}(de).replace(/\./g,"")},ne=function(de){try{return Se.decodeString(de,!0)}catch(J){console.error("base64Decode failed: ",J)}return null};function ve(de,J){if(!(J instanceof Object))return J;switch(J.constructor){case Date:return new Date(J.getTime());case Object:void 0===de&&(de={});break;case Array:de=[];break;default:return J}for(const z in J)!J.hasOwnProperty(z)||!it(z)||(de[z]=ve(de[z],J[z]));return de}function it(de){return"__proto__"!==de}const Et=()=>{try{return function et(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const de=process.env.__FIREBASE_DEFAULTS__;return de?JSON.parse(de):void 0})()||(()=>{if(typeof document>"u")return;let de;try{de=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const J=de&&ne(de[1]);return J&&JSON.parse(J)})()}catch(de){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${de}`)}},Qe=de=>{const J=(de=>{var J,z;return null===(z=null===(J=Et())||void 0===J?void 0:J.emulatorHosts)||void 0===z?void 0:z[de]})(de);if(!J)return;const z=J.lastIndexOf(":");if(z<=0||z+1===J.length)throw new Error(`Invalid host ${J} with no separate hostname and port!`);const j=parseInt(J.substring(z+1),10);return"["===J[0]?[J.substring(1,z-1),j]:[J.substring(0,z),j]},ze=()=>{var de;return null===(de=Et())||void 0===de?void 0:de.config},ct=de=>{var J;return null===(J=Et())||void 0===J?void 0:J[`_${de}`]};class Ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((J,z)=>{this.resolve=J,this.reject=z})}wrapCallback(J){return(z,j)=>{z?this.reject(z):this.resolve(j),"function"==typeof J&&(this.promise.catch(()=>{}),1===J.length?J(z):J(z,j))}}}function ot(de,J){if(de.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const j=J||"demo-project",F=de.iat||0,pe=de.sub||de.user_id;if(!pe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ke=Object.assign({iss:`https://securetoken.google.com/${j}`,aud:j,iat:F,exp:F+3600,auth_time:F,sub:pe,user_id:pe,firebase:{sign_in_provider:"custom",identities:{}}},de);return[Ve(JSON.stringify({alg:"none",type:"JWT"})),Ve(JSON.stringify(ke)),""].join(".")}function Dt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Je(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function me(){var de;const J=null===(de=Et())||void 0===de?void 0:de.forceEnvironment;if("node"===J)return!0;if("browser"===J)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ct(){return"object"==typeof self&&self.self===self}function $t(){const de="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof de&&void 0!==de.id}function jn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ft(){const de=Dt();return de.indexOf("MSIE ")>=0||de.indexOf("Trident/")>=0}function Ne(){return!me()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _e(){try{return"object"==typeof indexedDB}catch{return!1}}function Ue(){return new Promise((de,J)=>{try{let z=!0;const j="validate-browser-context-for-indexeddb-analytics-module",F=self.indexedDB.open(j);F.onsuccess=()=>{F.result.close(),z||self.indexedDB.deleteDatabase(j),de(!0)},F.onupgradeneeded=()=>{z=!1},F.onerror=()=>{var pe;J((null===(pe=F.error)||void 0===pe?void 0:pe.message)||"")}}catch(z){J(z)}})}function nt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class _t extends Error{constructor(J,z,j){super(z),this.code=J,this.customData=j,this.name="FirebaseError",Object.setPrototypeOf(this,_t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wt.prototype.create)}}class wt{constructor(J,z,j){this.service=J,this.serviceName=z,this.errors=j}create(J,...z){const j=z[0]||{},F=`${this.service}/${J}`,pe=this.errors[J],ke=pe?function Xt(de,J){return de.replace(Kt,(z,j)=>{const F=J[j];return null!=F?String(F):`<${j}?>`})}(pe,j):"Error";return new _t(F,`${this.serviceName}: ${ke} (${F}).`,j)}}const Kt=/\{\$([^}]+)}/g;function Mn(de,J){return Object.prototype.hasOwnProperty.call(de,J)}function en(de){for(const J in de)if(Object.prototype.hasOwnProperty.call(de,J))return!1;return!0}function On(de,J){if(de===J)return!0;const z=Object.keys(de),j=Object.keys(J);for(const F of z){if(!j.includes(F))return!1;const pe=de[F],ke=J[F];if(vr(pe)&&vr(ke)){if(!On(pe,ke))return!1}else if(pe!==ke)return!1}for(const F of j)if(!z.includes(F))return!1;return!0}function vr(de){return null!==de&&"object"==typeof de}function Ut(de){const J=[];for(const[z,j]of Object.entries(de))Array.isArray(j)?j.forEach(F=>{J.push(encodeURIComponent(z)+"="+encodeURIComponent(F))}):J.push(encodeURIComponent(z)+"="+encodeURIComponent(j));return J.length?"&"+J.join("&"):""}function bn(de){const J={};return de.replace(/^\?/,"").split("&").forEach(j=>{if(j){const[F,pe]=j.split("=");J[decodeURIComponent(F)]=decodeURIComponent(pe)}}),J}function Vn(de){const J=de.indexOf("?");if(!J)return"";const z=de.indexOf("#",J);return de.substring(J,z>0?z:void 0)}function Br(de,J){const z=new Rr(de,J);return z.subscribe.bind(z)}class Rr{constructor(J,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{J(this)}).catch(j=>{this.error(j)})}next(J){this.forEachObserver(z=>{z.next(J)})}error(J){this.forEachObserver(z=>{z.error(J)}),this.close(J)}complete(){this.forEachObserver(J=>{J.complete()}),this.close()}subscribe(J,z,j){let F;if(void 0===J&&void 0===z&&void 0===j)throw new Error("Missing Observer.");F=function Hn(de,J){if("object"!=typeof de||null===de)return!1;for(const z of J)if(z in de&&"function"==typeof de[z])return!0;return!1}(J,["next","error","complete"])?J:{next:J,error:z,complete:j},void 0===F.next&&(F.next=xr),void 0===F.error&&(F.error=xr),void 0===F.complete&&(F.complete=xr);const pe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?F.error(this.finalError):F.complete()}catch{}}),this.observers.push(F),pe}unsubscribeOne(J){void 0===this.observers||void 0===this.observers[J]||(delete this.observers[J],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(J){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,J)}sendOne(J,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[J])try{z(this.observers[J])}catch(j){typeof console<"u"&&console.error&&console.error(j)}})}close(J){this.finalized||(this.finalized=!0,void 0!==J&&(this.finalError=J),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xr(){}const It=1e3,oe=2,Me=144e5,yt=.5;function zt(de,J=It,z=oe){const j=J*Math.pow(z,de),F=Math.round(yt*j*(Math.random()-.5)*2);return Math.min(Me,j+F)}function Bt(de){return de&&de._delegate?de._delegate:de}},769:(Qt,Ke,B)=>{B.d(Ke,{y:()=>Ce});var g=B(6306),u=B(2096),H=B(5879),Ie=B(7104),Ee=B(9862),Se=B(3914),Ae=B(6814);let Ce=(()=>{class Ve{constructor(ie,ve,it,et,Mt){this.firestore=ie,this.http=ve,this.route=it,this.location=et,this.router=Mt,this.analyticsCollection=this.firestore.collection("analytics")}getAnalytics(){return this.firestore.collection("analytics",ie=>ie.orderBy("timestamp","desc")).valueChanges()}logEvent(ie){console.log("Log Event :",ie),this.getIPAddress().subscribe(ve=>{const it=this.getMetrics();it.ipAddress=ve.ip,it.queryParams=this.getQueryParams(),it.pagePath=this.location.path(),this.analyticsCollection.add({eventType:ie,...it,timestamp:new Date}).catch(et=>{console.error("Error logging event: ",et)})})}getQueryParams(){let ie={};return this.route.queryParams.subscribe(ve=>{ie={...ve}}),ie}getMetrics(){const ie=navigator.userAgent;return{userAgent:ie,isMobile:/mobile/i.test(ie),browser:this.getBrowserType(ie),ipAddress:"",queryParams:{},pagePath:""}}getBrowserType(ie){return ie.includes("Firefox")?"Firefox":ie.includes("Chrome")?"Chrome":ie.includes("Safari")?"Safari":ie.includes("Edge")?"Edge":"Unknown"}getIPAddress(){return this.http.get("https://api.ipify.org/?format=json").pipe((0,g.K)(ie=>(console.error("Error getting IP address: ",ie),(0,u.of)({ip:"Unknown"}))))}static#e=this.\u0275fac=function(ve){return new(ve||Ve)(H.LFG(Ie.ST),H.LFG(Ee.eN),H.LFG(Se.gz),H.LFG(Ae.Ye),H.LFG(Se.F0))};static#t=this.\u0275prov=H.Yz7({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}return Ve})()},4626:(Qt,Ke,B)=>{B.d(Ke,{e:()=>Ce});var g=B(5861),u=B(2459),H=B(6306),Ie=B(7398),Ee=B(5879),Se=B(981),Ae=B(3914);let Ce=(()=>{class Ve{constructor(ie,ve){this.afAuth=ie,this.router=ve,this.user$=this.afAuth.authState}login(ie,ve){return this.router.navigate(["/admin"]),(0,u.D)(this.afAuth.signInWithEmailAndPassword(ie,ve)).pipe((0,H.K)(it=>{throw console.error("Login error: ",it),it}))}logout(){var ie=this;return(0,g.Z)(function*(){yield ie.afAuth.signOut(),ie.router.navigate(["/login"])})()}isLoggedIn(){return this.user$.pipe((0,Ie.U)(ie=>!!ie))}static#e=this.\u0275fac=function(ve){return new(ve||Ve)(Ee.LFG(Se.zQ),Ee.LFG(Ae.F0))};static#t=this.\u0275prov=Ee.Yz7({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}return Ve})()},5842:(Qt,Ke,B)=>{B.d(Ke,{I:()=>Ie});class g{constructor(){this.errorMessage="",this.errorContext="",this.errorDate=new Date,this.id=""}}var u=B(5879),H=B(7104);let Ie=(()=>{class Ee{constructor(Ae){this.firestore=Ae,this.err=new g,this.errorLogsCollection=this.firestore.collection("errorLogs")}logError(Ae,Ce){const Ve={message:Ae.message||Ae.toString(),stack:Ae.stack||"",timestamp:new Date,context:Ce||""};return this.firestore.collection("errorLogs").add(Object.assign({},Ve))}getErrorLogs(){return this.firestore.collection("errorLogs",Ae=>Ae.orderBy("timestamp","desc")).valueChanges()}static#e=this.\u0275fac=function(Ce){return new(Ce||Ee)(u.LFG(H.ST))};static#t=this.\u0275prov=u.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})()},3375:(Qt,Ke,B)=>{B.d(Ke,{n:()=>Ae});var g=B(7398),u=B(6306),H=B(8504),Ie=B(5879),Ee=B(7104),Se=B(5842);let Ae=(()=>{class Ce{constructor(ne,ie){this.firestore=ne,this.errorLoggingService=ie,this.eventsCollection=this.firestore.collection("Events")}getEvents(){return this.firestore.collection("Events",ne=>ne.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,g.U)(ne=>ne.map(ie=>{const ve=ie.payload.doc.data();return{id:ie.payload.doc.id,...ve}}))).pipe((0,g.U)(ne=>ne.filter(ie=>1==ie.Approved))).pipe((0,u.K)(ne=>(this.errorLoggingService.logError(ne,"getEvents"),(0,H._)(()=>new Error(ne)))))}getAllEvents(){return this.firestore.collection("Events",ne=>ne.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,g.U)(ne=>ne.map(ie=>{const ve=ie.payload.doc.data();return{id:ie.payload.doc.id,...ve}}))).pipe((0,u.K)(ne=>(this.errorLoggingService.logError(ne,"getAllEvents"),(0,H._)(()=>new Error(ne)))))}getEventById(ne){return this.eventsCollection.doc(ne).valueChanges().pipe((0,u.K)(ie=>(this.errorLoggingService.logError(ie,"getGetEventById: "+ne),(0,H._)(()=>new Error(ie)))))}addEvent(ne){const ie=this.firestore.createId();return ne.Date_Created=new Date,ne.Date_Updated=new Date,ne.ApprovedDate=new Date,ne.Approved=!0,this.firestore.collection("Events").doc(ie).set(ne).catch(ve=>{throw this.errorLoggingService.logError(ve,"addEvent"),ve})}updateEvent(ne,ie){return ie.Date_Updated=new Date,this.eventsCollection.doc(ne).update(ie).catch(ve=>{throw this.errorLoggingService.logError(ve,"updateEvent"),ve}),this.firestore.doc(`Events/${ne}`).valueChanges().pipe((0,g.U)(ve=>ve?{id:ne,...ve}:void 0))}deleteService(ne){return this.eventsCollection.doc(ne).delete().catch(ie=>{throw this.errorLoggingService.logError(ie,"deleteEvent"),ie})}static#e=this.\u0275fac=function(ie){return new(ie||Ce)(Ie.LFG(Ee.ST),Ie.LFG(Se.I))};static#t=this.\u0275prov=Ie.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}return Ce})()},8924:(Qt,Ke,B)=>{B.d(Ke,{b:()=>Ae});var g=B(7398),u=B(6306),H=B(8504),Ie=B(5879),Ee=B(7104),Se=B(5842);let Ae=(()=>{class Ce{constructor(ne,ie){this.firestore=ne,this.errorLoggingService=ie,this.offerCollection=this.firestore.collection("Offers")}getAllOffers(){return this.firestore.collection("Offers",ne=>ne.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,g.U)(ne=>ne.map(ie=>{const ve=ie.payload.doc.data();return{id:ie.payload.doc.id,...ve}}))).pipe((0,g.U)(ne=>ne.filter(ie=>1==ie.Approved))).pipe((0,u.K)(ne=>(this.errorLoggingService.logError(ne,"getAllOffers"),(0,H._)(()=>new Error(ne)))))}getOffers(){return this.firestore.collection("Offers",ne=>ne.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,g.U)(ne=>ne.map(ie=>{const ve=ie.payload.doc.data();return{id:ie.payload.doc.id,...ve}}))).pipe((0,g.U)(ne=>ne.filter(ie=>1==ie.Approved))).pipe((0,g.U)(ne=>ne.filter(ie=>1==ie.Approved))).pipe((0,u.K)(ne=>(this.errorLoggingService.logError(ne,"getApprovedOffers"),(0,H._)(()=>new Error(ne)))))}getOfferById(ne){return this.firestore.collection("Offers").doc(ne).valueChanges().pipe((0,u.K)(ie=>(this.errorLoggingService.logError(ie,"getGetOffersById: "+ne),(0,H._)(()=>new Error(ie)))))}addOffer(ne){const ie=this.firestore.createId();return ne.id=ie,ne.Date_Created=(new Date).toISOString(),ne.Date_Updated=(new Date).toISOString(),this.offerCollection.doc(ie).set(ne).catch(ve=>{throw this.errorLoggingService.logError(ve,"addOffer"),ve}),this.firestore.doc(`Offers/${ie}`).valueChanges().pipe((0,g.U)(ve=>ve?{id:ie,...ve}:void 0))}updateOffer(ne,ie){return console.log("Update Offer: "+ne),ie.Date_Updated=(new Date).toISOString(),this.offerCollection.doc(ne).update(ie).catch(ve=>{throw this.errorLoggingService.logError(ve,"updateOffer"),ve}),this.firestore.doc(`Offers/${ne}`).valueChanges().pipe((0,g.U)(ve=>ve?{id:ne,...ve}:void 0))}getAllOfferTypes(){return this.firestore.collection("OfferTypes").valueChanges().pipe((0,g.U)(ne=>{const ie=ne.map(ve=>ve.OfferType);return Array.from(new Set(ie))})).pipe((0,u.K)(ne=>(this.errorLoggingService.logError(ne,"getOfferTypes"),(0,H._)(()=>new Error(ne)))))}deleteOffer(ne){return this.offerCollection.doc(ne).delete().catch(ie=>{throw this.errorLoggingService.logError(ie,"deleteOffer"),ie})}static#e=this.\u0275fac=function(ie){return new(ie||Ce)(Ie.LFG(Ee.ST),Ie.LFG(Se.I))};static#t=this.\u0275prov=Ie.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}return Ce})()},614:(Qt,Ke,B)=>{B.d(Ke,{r:()=>Ae});var g=B(7398),u=B(6306),H=B(8504),Ie=B(5879),Ee=B(7104),Se=B(5842);let Ae=(()=>{class Ce{constructor(ne,ie){this.firestore=ne,this.errorLoggingService=ie,this.servicesCollection=this.firestore.collection("Services")}getServices(){return this.firestore.collection("Services",ne=>ne.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,g.U)(ne=>ne.map(ie=>{const ve=ie.payload.doc.data();return{id:ie.payload.doc.id,...ve}}))).pipe((0,g.U)(ne=>ne.filter(ie=>1==ie.Approved))).pipe((0,u.K)(ne=>(this.errorLoggingService.logError(ne,"getApprovedServices"),(0,H._)(()=>new Error(ne)))))}getAllServices(){return this.firestore.collection("Services",ne=>ne.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,g.U)(ne=>ne.map(ie=>{const ve=ie.payload.doc.data();return{id:ie.payload.doc.id,...ve}}))).pipe((0,u.K)(ne=>(this.errorLoggingService.logError(ne,"getAllServices"),(0,H._)(()=>new Error(ne)))))}getServiceById(ne){return this.servicesCollection.doc(ne).valueChanges().pipe((0,u.K)(ie=>(this.errorLoggingService.logError(ie,"getGetServiceById: "+ne),(0,H._)(()=>new Error(ie)))))}getServicesByType(ne){return this.firestore.collection("Services",ie=>ie.where("Service_Type","==",ne).orderBy("Community_Sponsor","desc")).valueChanges().pipe((0,u.K)(ie=>(this.errorLoggingService.logError(ie,"getServiceByServiceType: "+ne),(0,H._)(()=>new Error(ie)))))}getAllServiceTypes(){return this.firestore.collection("ListOfServices").valueChanges().pipe((0,g.U)(ne=>{const ie=ne.map(ve=>ve.Name);return Array.from(new Set(ie))})).pipe((0,u.K)(ne=>(this.errorLoggingService.logError(ne,"getServiceTypes"),(0,H._)(()=>new Error(ne)))))}addService(ne){const ie=this.firestore.createId();return ne.id=ie,ne.Date_Created=(new Date).toISOString(),ne.Date_Updated=(new Date).toISOString(),this.servicesCollection.doc(ie).set(ne).catch(ve=>{throw this.errorLoggingService.logError(ve,"addService"),ve}),this.firestore.doc(`Services/${ie}`).valueChanges().pipe((0,g.U)(ve=>ve?{id:ie,...ve}:void 0))}updateService(ne,ie){return ie.Date_Updated=(new Date).toISOString(),this.servicesCollection.doc(ne).update(ie).catch(ve=>{throw this.errorLoggingService.logError(ve,"updateService"),ve}),this.firestore.doc(`Services/${ne}`).valueChanges().pipe((0,g.U)(ve=>ve?{id:ne,...ve}:void 0))}deleteService(ne){return this.servicesCollection.doc(ne).delete().catch(ie=>{throw this.errorLoggingService.logError(ie,"deleteService"),ie})}static#e=this.\u0275fac=function(ie){return new(ie||Ce)(Ie.LFG(Ee.ST),Ie.LFG(Se.I))};static#t=this.\u0275prov=Ie.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}return Ce})()},2380:(Qt,Ke,B)=>{B.d(Ke,{d:()=>Ee});var g=B(5879),u=B(769),H=B(6814);function Ie(Se,Ae){if(1&Se&&(g.TgZ(0,"tr")(1,"td"),g._uU(2),g.ALo(3,"date"),g.qZA(),g.TgZ(4,"td"),g._uU(5),g.qZA(),g.TgZ(6,"td"),g._uU(7),g.qZA(),g.TgZ(8,"td"),g._uU(9),g.ALo(10,"json"),g.qZA(),g.TgZ(11,"td"),g._uU(12),g.qZA(),g.TgZ(13,"td"),g._uU(14),g.qZA(),g.TgZ(15,"td"),g._uU(16),g.qZA()()),2&Se){const Ce=Ae.$implicit;g.xp6(2),g.Oqu(g.xi3(3,7,null==Ce.timestamp?null:Ce.timestamp.toDate(),"short")),g.xp6(3),g.Oqu(Ce.eventType),g.xp6(2),g.Oqu(Ce.pagePath),g.xp6(2),g.Oqu(g.lcZ(10,10,Ce.queryParams)),g.xp6(3),g.Oqu(Ce.browser),g.xp6(2),g.Oqu(Ce.isMobile?"Mobile":"Desktop"),g.xp6(2),g.Oqu(Ce.ipAddress)}}let Ee=(()=>{class Se{constructor(Ce){this.analyticsService=Ce}ngOnInit(){this.analyticsService.getAnalytics().subscribe(Ce=>{this.analyticsLogs=Ce},Ce=>{console.error("Error fetching analytics:",Ce)})}static#e=this.\u0275fac=function(Ve){return new(Ve||Se)(g.Y36(u.y))};static#t=this.\u0275cmp=g.Xpm({type:Se,selectors:[["app-analytics"]],decls:22,vars:1,consts:[[1,"analytics-container"],[4,"ngFor","ngForOf"]],template:function(Ve,ne){1&Ve&&(g.TgZ(0,"div",0)(1,"h2"),g._uU(2,"Analytics Logs"),g.qZA(),g.TgZ(3,"table")(4,"thead")(5,"tr")(6,"th"),g._uU(7,"Timestamp"),g.qZA(),g.TgZ(8,"th"),g._uU(9,"Event Type"),g.qZA(),g.TgZ(10,"th"),g._uU(11,"Page Path"),g.qZA(),g.TgZ(12,"th"),g._uU(13,"Query Params"),g.qZA(),g.TgZ(14,"th"),g._uU(15,"Browser"),g.qZA(),g.TgZ(16,"th"),g._uU(17,"Device"),g.qZA(),g.TgZ(18,"th"),g._uU(19,"IP Address"),g.qZA()()(),g.TgZ(20,"tbody"),g.YNc(21,Ie,17,12,"tr",1),g.qZA()()()),2&Ve&&(g.xp6(21),g.Q6J("ngForOf",ne.analyticsLogs))},dependencies:[H.sg,H.Ts,H.uU],styles:[".analytics-container[_ngcontent-%COMP%]{padding:20px;max-width:1000px;margin:auto}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;text-align:left}th[_ngcontent-%COMP%]{background-color:#f2f2f2}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}"]})}return Se})()},1106:(Qt,Ke,B)=>{var g=B(6593),u=B(5879),H=B(6814);let Ie;try{Ie=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Ie=!1}let ne,Ee=(()=>{class f{constructor(a){this._platformId=a,this.isBrowser=this._platformId?(0,H.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ie)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(u.Lbi))};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();function ve(f){return function ie(){if(null==ne&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ne=!0}))}finally{ne=ne||!1}return ne}()?f:!!f.capture}function $i(f){return Array.isArray(f)?f:[f]}var Ro=B(8645),zi=B(2572),Es=B(5211),Or=B(5592),an=B(8180),Wn=B(2181),Mi=B(6321),Ms=B(9360),Qr=B(8251);function fi(f,c=Mi.z){return(0,Ms.e)((a,p)=>{let I=null,k=null,ee=null;const he=()=>{if(I){I.unsubscribe(),I=null;const Ye=k;k=null,p.next(Ye)}};function xe(){const Ye=ee+f,Rt=c.now();if(Rt<Ye)return I=this.schedule(void 0,Ye-Rt),void p.add(I);he()}a.subscribe((0,Qr.x)(p,Ye=>{k=Ye,ee=c.now(),I||(I=c.schedule(xe,f),p.add(I))},()=>{he(),p.complete()},void 0,()=>{k=I=null}))})}var Tr=B(7398),ts=B(7921),Ps=B(9773);const ns=new Set;let pr,Pi=(()=>{class f{constructor(a,p){this._platform=a,this._nonce=p,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ds}matchMedia(a){return(this._platform.WEBKIT||this._platform.BLINK)&&function zn(f,c){if(!ns.has(f))try{pr||(pr=document.createElement("style"),c&&(pr.nonce=c),pr.setAttribute("type","text/css"),document.head.appendChild(pr)),pr.sheet&&(pr.sheet.insertRule(`@media ${f} {body{ }}`,0),ns.add(f))}catch(a){console.error(a)}}(a,this._nonce),this._matchMedia(a)}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(Ee),u.LFG(u.Ojb,8))};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();function ds(f){return{matches:"all"===f||""===f,media:f,addListener:()=>{},removeListener:()=>{}}}let Ri=(()=>{class f{constructor(a,p){this._mediaMatcher=a,this._zone=p,this._queries=new Map,this._destroySubject=new Ro.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(a){return Is($i(a)).some(I=>this._registerQuery(I).mql.matches)}observe(a){const I=Is($i(a)).map(ee=>this._registerQuery(ee).observable);let k=(0,zi.a)(I);return k=(0,Es.z)(k.pipe((0,an.q)(1)),k.pipe(function Cr(f){return(0,Wn.h)((c,a)=>f<=a)}(1),fi(0))),k.pipe((0,Tr.U)(ee=>{const he={matches:!1,breakpoints:{}};return ee.forEach(({matches:xe,query:Ye})=>{he.matches=he.matches||xe,he.breakpoints[Ye]=xe}),he}))}_registerQuery(a){if(this._queries.has(a))return this._queries.get(a);const p=this._mediaMatcher.matchMedia(a),k={observable:new Or.y(ee=>{const he=xe=>this._zone.run(()=>ee.next(xe));return p.addListener(he),()=>{p.removeListener(he)}}).pipe((0,ts.O)(p),(0,Tr.U)(({matches:ee})=>({query:a,matches:ee})),(0,Ps.R)(this._destroySubject)),mql:p};return this._queries.set(a,k),k}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(Pi),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();function Is(f){return f.map(c=>c.split(",")).reduce((c,a)=>c.concat(a)).map(c=>c.trim())}const fo="cdk-high-contrast-black-on-white",po="cdk-high-contrast-white-on-black",Bo="cdk-high-contrast-active";let ja=(()=>{class f{constructor(a,p){this._platform=a,this._document=p,this._breakpointSubscription=(0,u.f3M)(Ri).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const a=this._document.createElement("div");a.style.backgroundColor="rgb(1,2,3)",a.style.position="absolute",this._document.body.appendChild(a);const p=this._document.defaultView||window,I=p&&p.getComputedStyle?p.getComputedStyle(a):null,k=(I&&I.backgroundColor||"").replace(/ /g,"");switch(a.remove(),k){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const a=this._document.body.classList;a.remove(Bo,fo,po),this._hasCheckedHighContrastMode=!0;const p=this.getHighContrastMode();1===p?a.add(Bo,fo):2===p&&a.add(Bo,po)}}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(Ee),u.LFG(H.K0))};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})(),jo=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=u.oAB({type:f});static#n=this.\u0275inj=u.cJS({})}return f})();const si=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function Gc(){return!0}});let P=(()=>{class f{constructor(a,p,I){this._sanityChecks=p,this._document=I,this._hasDoneGlobalChecks=!1,a._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(a){return!function ct(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[a])}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(ja),u.LFG(si,8),u.LFG(H.K0))};static#t=this.\u0275mod=u.oAB({type:f});static#n=this.\u0275inj=u.cJS({imports:[jo,jo]})}return f})(),zo=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=u.oAB({type:f});static#n=this.\u0275inj=u.cJS({imports:[P,P]})}return f})();const pu=ve({passive:!0,capture:!0});class Pl{constructor(){this._events=new Map,this._delegateEventHandler=c=>{const a=function ze(f){return f.composedPath?f.composedPath()[0]:f.target}(c);a&&this._events.get(c.type)?.forEach((p,I)=>{(I===a||I.contains(a))&&p.forEach(k=>k.handleEvent(c))})}}addHandler(c,a,p,I){const k=this._events.get(a);if(k){const ee=k.get(p);ee?ee.add(I):k.set(p,new Set([I]))}else this._events.set(a,new Map([[p,new Set([I])]])),c.runOutsideAngular(()=>{document.addEventListener(a,this._delegateEventHandler,pu)})}removeHandler(c,a,p){const I=this._events.get(c);if(!I)return;const k=I.get(a);k&&(k.delete(p),0===k.size&&I.delete(a),0===I.size&&(this._events.delete(c),document.removeEventListener(c,this._delegateEventHandler,pu)))}}class go{static#e=this._eventManager=new Pl;constructor(c,a,p,I){this._target=c,this._ngZone=a,this._platform=I,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,I.isBrowser&&(this._containerElement=es(p))}fadeInRipple(c,a,p={}){const I=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),k={...ua,...p.animation},ee=p.radius||function Ho(f,c,a){const p=Math.max(Math.abs(f-a.left),Math.abs(f-a.right)),I=Math.max(Math.abs(c-a.top),Math.abs(c-a.bottom));return Math.sqrt(p*p+I*I)}(c,a,I),he=c-I.left,xe=a-I.top,Ye=k.enterDuration,Rt=document.createElement("div");Rt.classList.add("mat-ripple-element"),Rt.style.left=he-ee+"px",Rt.style.top=xe-ee+"px",Rt.style.height=2*ee+"px",Rt.style.width=2*ee+"px",null!=p.color&&(Rt.style.backgroundColor=p.color),Rt.style.transitionDuration=`${Ye}ms`,this._containerElement.appendChild(Rt);const sn=window.getComputedStyle(Rt),Pn=sn.transitionDuration,In="none"===sn.transitionProperty||"0s"===Pn||"0s, 0s"===Pn||0===I.width&&0===I.height,An=new Bs(this,Rt,p,In);Rt.style.transform="scale3d(1, 1, 1)",An.state=0,p.persistent||(this._mostRecentTransientRipple=An);return!In&&(Ye||k.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const _i=()=>this._finishRippleTransition(An),Di=()=>this._destroyRipple(An);Rt.addEventListener("transitionend",_i),Rt.addEventListener("transitioncancel",Di)}),this._activeRipples.set(An,null),(In||!Ye)&&this._finishRippleTransition(An),An}fadeOutRipple(c){if(2===c.state||3===c.state)return;const a=c.element,p={...ua,...c.config.animation};a.style.transitionDuration=`${p.exitDuration}ms`,a.style.opacity="0",c.state=2,(c._animationForciblyDisabledThroughCss||!p.exitDuration)&&this._finishRippleTransition(c)}fadeOutAll(){this._getActiveRipples().forEach(c=>c.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(c=>{c.config.persistent||c.fadeOut()})}setupTriggerEvents(c){const a=es(c);!this._platform.isBrowser||!a||a===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=a,uc.forEach(p=>{go._eventManager.addHandler(this._ngZone,p,a,this)}))}handleEvent(c){"mousedown"===c.type?this._onMousedown(c):"touchstart"===c.type?this._onTouchStart(c):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{gu.forEach(a=>{this._triggerElement.addEventListener(a,this,qc)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(c){0===c.state?this._startFadeOutTransition(c):2===c.state&&this._destroyRipple(c)}_startFadeOutTransition(c){const a=c===this._mostRecentTransientRipple,{persistent:p}=c.config;c.state=1,!p&&(!a||!this._isPointerDown)&&c.fadeOut()}_destroyRipple(c){const a=this._activeRipples.get(c)??null;this._activeRipples.delete(c),this._activeRipples.size||(this._containerRect=null),c===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),c.state=3,null!==a&&(c.element.removeEventListener("transitionend",a.onTransitionEnd),c.element.removeEventListener("transitioncancel",a.onTransitionCancel)),c.element.remove()}_onMousedown(c){const a=function Dl(f){return 0===f.buttons||0===f.detail}(c),p=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!a&&!p&&(this._isPointerDown=!0,this.fadeInRipple(c.clientX,c.clientY,this._target.rippleConfig))}_onTouchStart(c){if(!this._target.rippleDisabled&&!function rc(f){const c=f.touches&&f.touches[0]||f.changedTouches&&f.changedTouches[0];return!(!c||-1!==c.identifier||null!=c.radiusX&&1!==c.radiusX||null!=c.radiusY&&1!==c.radiusY)}(c)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const a=c.changedTouches;if(a)for(let p=0;p<a.length;p++)this.fadeInRipple(a[p].clientX,a[p].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(c=>{!c.config.persistent&&(1===c.state||c.config.terminateOnPointerUp&&0===c.state)&&c.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const c=this._triggerElement;c&&(uc.forEach(a=>go._eventManager.removeHandler(a,c,this)),this._pointerUpEventsRegistered&&gu.forEach(a=>c.removeEventListener(a,this,qc)))}}let Xr=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=u.oAB({type:f});static#n=this.\u0275inj=u.cJS({imports:[P,H.ez,P]})}return f})();var dr=B(2096),ro=(B(8504),B(9315)),_o=(B(9397),B(6306),B(4716)),ks=(B(3020),B(9862));let Id=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=u.oAB({type:f});static#n=this.\u0275inj=u.cJS({imports:[P,P]})}return f})(),Zf=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=u.oAB({type:f});static#n=this.\u0275inj=u.cJS({imports:[zo,P,zo,P]})}return f})();var Ti=B(3914),pa=B(3375),Ll=B(8924);function Uh(f,c){1&f&&(u.TgZ(0,"span",12),u._uU(1,"\u2605"),u.qZA())}function Iu(f,c){1&f&&(u.TgZ(0,"p"),u._uU(1,"Oferta a expirat"),u.qZA())}function Qc(f,c){1&f&&(u.TgZ(0,"p"),u._uU(1,"Oferta este valabil\u0101"),u.qZA())}function Cd(f,c){if(1&f&&(u.TgZ(0,"div")(1,"a",13),u._UZ(2,"img",14),u.qZA(),u._UZ(3,"br"),u._uU(4," Facebook"),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.s9C("href",a.offer.Facebook,u.LSH)}}function Kf(f,c){if(1&f&&(u.TgZ(0,"div")(1,"a",13),u._UZ(2,"img",15),u.qZA(),u._UZ(3,"br"),u._uU(4," Instagram"),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.MGl("href","https://www.instagram.com/",a.offer.Instagram,"",u.LSH)}}function bu(f,c){if(1&f&&(u.TgZ(0,"div")(1,"a",16),u._UZ(2,"img",17),u.qZA(),u._UZ(3,"br"),u._uU(4," Email"),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.MGl("href","mailto:",a.offer.Email,"",u.LSH)}}function mc(f,c){if(1&f&&(u.TgZ(0,"div")(1,"a",13),u._UZ(2,"img",18),u.qZA(),u._UZ(3,"br"),u._uU(4," Website"),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.s9C("href",a.offer.Website,u.LSH)}}let Yf=(()=>{class f{constructor(a){this.router=a,this.currentImageIndex=1}ngOnInit(){this.offer.Image1||(this.offer.Image1="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/dafaultImage.jpg"),this.offer.Image2||(this.offer.Image2="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/dafaultImage.jpg"),this.offer.Image3||(this.offer.Image3="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/dafaultImage.jpg"),this.offer.Image4||(this.offer.Image4="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/dafaultImage.jpg"),this.offer.Image5||(this.offer.Image5="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/dafaultImage.jpg"),this.startImageCarousel()}startImageCarousel(){setInterval(()=>{this.currentImageIndex=this.currentImageIndex%5+1},3e3)}nextImage(){this.currentImageIndex=this.currentImageIndex%5+1}prevImage(){this.currentImageIndex=(this.currentImageIndex-2+5)%5+1}navigateToDetails(){console.log("Navigating to details:",this.offer.id),this.router.navigate(["/offers",this.offer.id])}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(Ti.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-offer-card"]],inputs:{offer:"offer"},decls:56,vars:21,consts:[[1,"offer-card"],[1,"carousel"],[1,"prev",3,"click"],[1,"next",3,"click"],[1,"image-container"],[3,"src","alt"],[1,"offer-details"],["class","sponsor-icon",4,"ngIf"],[4,"ngIf"],[3,"click"],[1,"offer-footer"],[1,"social-icons"],[1,"sponsor-icon"],["target","_blank",3,"href"],["src","../../../assets/images/SVG/facebook-icon.svg"],["src","../../../assets/images/SVG/instagram-icon.svg"],[3,"href"],["src","../../../assets/images/SVG/email-icon.svg"],["src","../../../assets/images/SVG/browser-icon.svg"]],template:function(p,I){1&p&&(u.TgZ(0,"div",0)(1,"div",1)(2,"button",2),u.NdJ("click",function(){return I.prevImage()}),u._uU(3,"\u276e"),u.qZA(),u.TgZ(4,"button",3),u.NdJ("click",function(){return I.nextImage()}),u._uU(5,"\u276f"),u.qZA(),u.TgZ(6,"div",4),u._UZ(7,"img",5),u.qZA()(),u.TgZ(8,"div",6)(9,"h3"),u._uU(10),u.qZA(),u.YNc(11,Uh,2,0,"span",7),u.TgZ(12,"p")(13,"strong"),u._uU(14,"Compania:"),u.qZA(),u._uU(15),u.qZA(),u.TgZ(16,"p")(17,"strong"),u._uU(18,"Persona de contact:"),u.qZA(),u._uU(19),u.qZA(),u._UZ(20,"hr"),u.TgZ(21,"p")(22,"strong"),u._uU(23,"Numar de Tel:"),u.qZA(),u._uU(24),u.qZA(),u.TgZ(25,"p")(26,"strong"),u._uU(27,"Locatie:"),u.qZA(),u._uU(28),u.qZA(),u.TgZ(29,"p")(30,"strong"),u._uU(31,"Descriiere:"),u.qZA(),u._uU(32),u.qZA(),u.TgZ(33,"p")(34,"strong"),u._uU(35,"Pret:"),u.qZA(),u._uU(36),u.qZA(),u.TgZ(37,"p")(38,"strong"),u._uU(39,"Tip de ofert\u0101:"),u.qZA(),u._uU(40),u.qZA(),u.TgZ(41,"p")(42,"strong"),u._uU(43,"Creata pe data de:"),u.qZA(),u._uU(44),u.ALo(45,"date"),u.qZA(),u.YNc(46,Iu,2,0,"p",8),u.YNc(47,Qc,2,0,"p",8),u.TgZ(48,"button",9),u.NdJ("click",function(){return I.navigateToDetails()}),u._uU(49,"Detalii"),u.qZA()(),u.TgZ(50,"div",10)(51,"div",11),u.YNc(52,Cd,5,1,"div",8),u.YNc(53,Kf,5,1,"div",8),u.YNc(54,bu,5,1,"div",8),u.YNc(55,mc,5,1,"div",8),u.qZA()()()),2&p&&(u.xp6(7),u.MGl("alt","Image ",I.currentImageIndex,""),u.Q6J("src",I.offer["Image"+I.currentImageIndex],u.LSH),u.xp6(3),u.Oqu(I.offer.Title),u.xp6(1),u.Q6J("ngIf",I.offer.Community_Sponsor),u.xp6(4),u.hij(" ",I.offer.Company_Name,""),u.xp6(4),u.hij(" ",I.offer.Contact_Name,""),u.xp6(5),u.hij(" ",I.offer.Phone_Number,""),u.xp6(4),u.hij(" ",I.offer.Location,""),u.xp6(4),u.Oqu(I.offer.Description),u.xp6(4),u.Oqu(I.offer.Price),u.xp6(4),u.Oqu(I.offer.OfferType),u.xp6(4),u.hij(" ",u.xi3(45,18,I.offer.Date_Created,"shortDate"),""),u.xp6(2),u.Q6J("ngIf",I.offer.Filled),u.xp6(1),u.Q6J("ngIf",!I.offer.Filled),u.xp6(5),u.Q6J("ngIf",I.offer.Facebook),u.xp6(1),u.Q6J("ngIf",I.offer.Instagram),u.xp6(1),u.Q6J("ngIf",I.offer.Email),u.xp6(1),u.Q6J("ngIf",I.offer.Website))},dependencies:[H.O5,H.uU],styles:[".offer-card[_ngcontent-%COMP%]{width:400px;min-height:550px;border-radius:8px;overflow:hidden;box-shadow:0 4px 8px #0000001a;transition:transform .3s;height:800px;position:relative;background-color:#fafafa}.offer-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.carousel[_ngcontent-%COMP%]{position:relative;width:100%;overflow:hidden}.carousel-inner[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;flex-shrink:0}.image-container[_ngcontent-%COMP%]{width:400px;height:250px;overflow:hidden;display:flex;justify-content:center;align-items:center}.prev[_ngcontent-%COMP%], .next[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background-color:#00000080;color:#fff;border:none;padding:10px;cursor:pointer;border-radius:50%}.prev[_ngcontent-%COMP%]{left:10px}.next[_ngcontent-%COMP%]{right:10px}.offer-details[_ngcontent-%COMP%]{padding:15px}.offer-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.offer-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.offer-footer[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:400px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px;color:gold}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}"]})}return f})();function Ls(f,c){if(1&f&&(u.TgZ(0,"div",8),u._UZ(1,"img",9),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.s9C("alt",a.event.Name),u.Q6J("src",a.event.Poster_Image,u.LSH)}}function Bh(f,c){if(1&f&&(u.TgZ(0,"p")(1,"strong"),u._uU(2,"Facebook:"),u.qZA(),u.TgZ(3,"a",4),u._uU(4),u.qZA()()),2&f){const a=u.oxw();u.xp6(3),u.Q6J("href",a.event.Facebook,u.LSH),u.xp6(1),u.Oqu(a.event.Facebook)}}function Tu(f,c){if(1&f&&(u.TgZ(0,"p")(1,"strong"),u._uU(2,"Instagram:"),u.qZA(),u.TgZ(3,"a",4),u._uU(4),u.qZA()()),2&f){const a=u.oxw();u.xp6(3),u.Q6J("href",a.event.Instagram,u.LSH),u.xp6(1),u.Oqu(a.event.Instagram)}}function Sa(f,c){1&f&&(u.TgZ(0,"div",10)(1,"span",11),u._uU(2,"Evenimentul a Expirat"),u.qZA()())}let _c=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-event-card"]],inputs:{event:"event"},decls:40,vars:17,consts:[[1,"event-card"],["class","event-image",4,"ngIf"],[1,"event-details"],[1,"card-title"],["target","_blank",3,"href"],[4,"ngIf"],[1,"card-subtitle"],["class","card-expired",4,"ngIf"],[1,"event-image"],[3,"src","alt"],[1,"card-expired"],[1,"expired"]],template:function(p,I){1&p&&(u.TgZ(0,"div",0),u.YNc(1,Ls,2,2,"div",1),u.TgZ(2,"div",2)(3,"div",3),u._uU(4),u.qZA(),u.TgZ(5,"p")(6,"strong"),u._uU(7,"Locatie:"),u.qZA(),u._UZ(8,"br"),u._uU(9),u.qZA(),u.TgZ(10,"p")(11,"strong"),u._uU(12,"Data Evenimentului:"),u.qZA(),u._uU(13),u.ALo(14,"date"),u.qZA(),u.TgZ(15,"p")(16,"strong"),u._uU(17,"Ora:"),u.qZA(),u._uU(18),u.qZA(),u.TgZ(19,"p")(20,"strong"),u._uU(21,"Pret:"),u.qZA(),u._uU(22),u.qZA(),u.TgZ(23,"p")(24,"strong"),u._uU(25,"Persoana de contact:"),u.qZA(),u._uU(26),u.qZA(),u.TgZ(27,"p")(28,"strong"),u._uU(29,"Pagina Web:"),u.qZA(),u.TgZ(30,"a",4),u._uU(31),u.qZA()(),u.YNc(32,Bh,5,2,"p",5),u.YNc(33,Tu,5,2,"p",5),u.TgZ(34,"div")(35,"strong"),u._uU(36," Detalii"),u.qZA(),u.TgZ(37,"div",6),u._uU(38),u.qZA(),u.YNc(39,Sa,3,0,"div",7),u.qZA()()()),2&p&&(u.xp6(1),u.Q6J("ngIf",I.event.Poster_Image),u.xp6(3),u.Oqu(I.event.Name),u.xp6(5),u.Oqu(I.event.Location),u.xp6(4),u.hij(" ",u.xi3(14,14,I.event.Event_Date,"short"),""),u.xp6(5),u.hij(" ",I.event.Time,""),u.xp6(4),u.hij(" ",I.event.Price,""),u.xp6(4),u.AsE(" ",I.event.Contact," - ",I.event.Phone_Number,""),u.xp6(4),u.Q6J("href",I.event.Website,u.LSH),u.xp6(1),u.Oqu(I.event.Website),u.xp6(1),u.Q6J("ngIf",I.event.Facebook),u.xp6(1),u.Q6J("ngIf",I.event.Instagram),u.xp6(5),u.Oqu(I.event.Description),u.xp6(1),u.Q6J("ngIf",I.event.Expired))},dependencies:[H.O5,H.uU],styles:[".event-card[_ngcontent-%COMP%]{width:400px;min-height:550px;border-radius:8px;overflow:hidden;display:flex;flex-direction:column;margin:16px;box-shadow:0 4px 8px #0000001a;background-color:#fafafa}.event-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.event-details[_ngcontent-%COMP%]{padding:16px;text-align:left}.event-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.event-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0}.event-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.event-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.service-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:10px;padding:40px;width:calc(25% - 32px);box-sizing:border-box;position:relative;min-width:400px}.card-header[_ngcontent-%COMP%]{text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333}.card-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-top:4px}.card-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:gold}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}.services-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:30px;padding:30px}.services-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.services-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px;font-size:1rem}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}.add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}.card-expired[_ngcontent-%COMP%]{padding:10px;text-align:center}.expired[_ngcontent-%COMP%]{color:red}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.services-control[_ngcontent-%COMP%]{flex-direction:column}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}"]})}return f})();function jh(f,c){1&f&&u._UZ(0,"app-event-card",25),2&f&&u.Q6J("event",c.$implicit)}function Cu(f,c){1&f&&u._UZ(0,"app-offer-card",26),2&f&&u.Q6J("offer",c.$implicit)}function Jc(f,c){if(1&f&&(u.TgZ(0,"li",27)(1,"a",28),u._uU(2),u.qZA()()),2&f){const a=c.$implicit;u.xp6(1),u.s9C("href",a.url,u.LSH),u.xp6(1),u.Oqu(a.name)}}let yc=(()=>{class f{constructor(a,p,I){this.eventService=a,this.offersService=p,this.router=I,this.resourceLinks=[{name:"Ambasada Romaniei in SUA",url:"https://washington.mae.ro/"},{name:"Ambasada SUA in Romania",url:"https://ro.usembassy.gov/"},{name:"American Romanian Cultural Society",url:"www.arcsproject.org"},{name:"Biserica Sfintii Trei Ierarhi",url:"http://www.ortodox.org/"},{name:"Romanian United Foundation",url:"https://www.romanianunitedfund.org/"}],this.events=[],this.offers=[]}ngOnInit(){this.eventService.getEvents().subscribe(a=>{this.events=a}),this.offersService.getOffers().subscribe(a=>{this.offers=a})}navigateToAddEvent(){this.router.navigate(["/add-event"])}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(pa.n),u.Y36(Ll.b),u.Y36(Ti.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-home"]],decls:97,vars:3,consts:[[1,"container"],[1,"hero"],[1,"container","hero-content"],[1,"hero-text"],["href","https://www.facebook.com/groups/RomaniinSeattle"],["href","https://www.facebook.com/groups/RomaniinSeattle",1,"btn"],[1,"hero-image"],["src","../../../assets/images/Seattle-Romania.png","alt","Seattle"],[1,"community-description"],[1,"community-descriptions"],[1,"description-card"],[1,"sharedContent-Section"],[1,"services-container"],[3,"event",4,"ngFor","ngForOf"],[1,"offer-list"],[3,"offer",4,"ngFor","ngForOf"],[1,"resource-consulate"],["target","_blank","href","http://newyork.mae.ro/"],["target","_blank","href","http://chicago.mae.ro/"],["target","_blank","href","http://losangeles.mae.ro/"],["target","_blank","href","http://miami.mae.ro/"],[1,"resources-section"],[1,"section-header"],[1,"resource-list"],["class","resource-item",4,"ngFor","ngForOf"],[3,"event"],[3,"offer"],[1,"resource-item"],["target","_blank",3,"href"]],template:function(p,I){1&p&&(u.TgZ(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"h1"),u._uU(5,"Bine ati venit in comunitatea "),u.TgZ(6,"a",4),u._uU(7,"Romani in Seattle"),u.qZA()(),u.TgZ(8,"p"),u._uU(9,"Servictii, oferte si evenimente pentru persoanele care locuiesc in zona Seattle."),u.qZA(),u.TgZ(10,"a",5),u._uU(11,"Join our Facebook Group"),u.qZA()(),u.TgZ(12,"div",6),u._UZ(13,"img",7),u.qZA()()(),u.TgZ(14,"section",8)(15,"div",0)(16,"h2"),u._uU(17,"Despre communitatea noastra"),u.qZA(),u.TgZ(18,"p"),u._uU(19,'Scopul al acestui website este de a beneficia Romani \xeen Seattle, prin schimbul de informa\u021bii utile si in acela\u0219i timp promov\xe2nd Companiile Romane\u0219ti din zona Seattle la \xa0Comunitatea Romaneasca de aici. Acesta a \xeenceput pe facebook prin grupul "Romani \xeen Seattle\u201d care acum con\u021bine peste 3700 de membri.'),u.qZA()()(),u.TgZ(20,"div",9)(21,"div",10)(22,"h2"),u._uU(23,"Evenimente"),u.qZA(),u.TgZ(24,"p"),u._uU(25,"Al\u0103tura\u021bi-v\u0103 nou\u0103 pentru o varietate de evenimente care reunesc comunitatea. De la festivaluri la ateliere, exist\u0103 ceva pentru toat\u0103 lumea."),u.qZA()(),u.TgZ(26,"div",10)(27,"h2"),u._uU(28,"Servicii"),u.qZA(),u.TgZ(29,"p"),u._uU(30,"Sprijini\u021bi-ne afacerile locale \u0219i descoperi\u021bi produse \u0219i servicii unice oferite de membrii comunit\u0103\u021bii."),u.qZA()(),u.TgZ(31,"div",10)(32,"h2"),u._uU(33,"Oportunit\u0103\u021bi si Oferte"),u.qZA(),u.TgZ(34,"p"),u._uU(35,"Implica\u021bi-v\u0103 \u0219i face\u021bi o diferen\u021b\u0103 prin voluntariat pentru diverse proiecte \u0219i ini\u021biative comunitare."),u.qZA()(),u.TgZ(36,"div",10)(37,"h2"),u._uU(38,"Resurse"),u.qZA(),u.TgZ(39,"p"),u._uU(40,"Accesa\u021bi resurse \u0219i servicii valoroase oferite de comunitate at\xe2t pentru reziden\u021bi, c\xe2t \u0219i pentru vizitatori."),u.qZA()()(),u.TgZ(41,"div",11)(42,"h1"),u._uU(43,"Evenimente"),u.qZA(),u.TgZ(44,"div",12),u.YNc(45,jh,1,1,"app-event-card",13),u.qZA()(),u.TgZ(46,"div",11)(47,"h1"),u._uU(48,"Oportunit\u0103\u021bi si Oferte"),u.qZA(),u.TgZ(49,"div",14),u.YNc(50,Cu,1,1,"app-offer-card",15),u.qZA()(),u.TgZ(51,"div",11)(52,"h1"),u._uU(53,"Resurse"),u.qZA(),u.TgZ(54,"section",16)(55,"div",9)(56,"div",10)(57,"h2"),u._uU(58,"Consulatul Rom\xe2niei la New York"),u.qZA(),u.TgZ(59,"h3"),u._uU(60,"CONSUL GENERAL: doamna Mihaela-Simona FLOREA"),u.qZA(),u.TgZ(61,"p"),u._uU(62,"Adres\u0103: 200 East 38th Street, New York, NY 10016"),u.qZA(),u.TgZ(63,"a",17),u._uU(64,"http://newyork.mae.ro/"),u.qZA()(),u.TgZ(65,"div",10)(66,"h2"),u._uU(67,"Consulatul Rom\xe2niei la Chicago"),u.qZA(),u.TgZ(68,"h3"),u._uU(69,"CONSUL GENERAL: "),u.qZA(),u.TgZ(70,"p"),u._uU(71,"Adres\u0103: 737 North Michigan Avenue, Suite 2300, Chicago, IL 60611"),u.qZA(),u.TgZ(72,"a",18),u._uU(73,"http://chicago.mae.ro/"),u.qZA()(),u.TgZ(74,"div",10)(75,"h2"),u._uU(76,"Consulatul Rom\xe2niei la Los Angeles"),u.qZA(),u.TgZ(77,"h3"),u._uU(78,"CONSUL GENERAL: doamna Lucia SAVA"),u.qZA(),u.TgZ(79,"p"),u._uU(80,"Adres\u0103: 11766 Wilshire Blvd. Suite 200, Los Angeles CA 90025"),u.qZA(),u.TgZ(81,"a",19),u._uU(82,"http://losangeles.mae.ro/"),u.qZA()(),u.TgZ(83,"div",10)(84,"h2"),u._uU(85,"Consulatul Rom\xe2niei la Miami"),u.qZA(),u.TgZ(86,"h3"),u._uU(87,"CONSUL GENERAL: doamna Elena-GabrielA EREMIA"),u.qZA(),u.TgZ(88,"p"),u._uU(89,"Adres\u0103: 1101 Brickell Ave, suite N 600, Miami, FL 33131"),u.qZA(),u.TgZ(90,"a",20),u._uU(91,"http://miami.mae.ro/"),u.qZA()()()()(),u.TgZ(92,"section",21)(93,"h2",22),u._uU(94,"Resurse utile pentru comunitate"),u.qZA(),u.TgZ(95,"ul",23),u.YNc(96,Jc,3,2,"li",24),u.qZA()()()),2&p&&(u.xp6(45),u.Q6J("ngForOf",I.events),u.xp6(5),u.Q6J("ngForOf",I.offers),u.xp6(46),u.Q6J("ngForOf",I.resourceLinks))},dependencies:[H.sg,Yf,_c],styles:[".container[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px;margin-bottom:20px}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px;color:var(--button-color)}.hero[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;background-color:#f5f5f5;padding:6rem 0 0rem}.hero-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.hero-text[_ngcontent-%COMP%]{flex:1;padding:0 2rem}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1.5rem}.btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;padding:.75rem 1.5rem;text-decoration:none;border-radius:5px;font-size:1rem}.hero-image[_ngcontent-%COMP%]{flex:1}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.community-description[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;padding:2rem 0;text-align:center}.community-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.community-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin:0 auto;max-width:800px;color:#f5f5f5}@media (max-width: 768px){.hero[_ngcontent-%COMP%]{flex-direction:column}.hero-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.hero-text[_ngcontent-%COMP%]{margin-bottom:2rem}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}}.community-descriptions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;padding:40px 20px}.description-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:20px;padding:20px;width:300px;text-align:center}.description-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--button-color);margin-bottom:10px}.description-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:var(--button-color)}.description-card-group[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:20px;padding:20px;width:100%;text-align:center}.resource-list[_ngcontent-%COMP%]{list-style-type:none;padding:0}.resource-item[_ngcontent-%COMP%]{margin:10px 0}.resource-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--button-color);font-size:18px;transition:color .3s ease}.resource-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0056b3}a[_ngcontent-%COMP%]{color:inherit}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.service-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:10px;padding:40px;width:calc(25% - 32px);box-sizing:border-box;position:relative;min-width:400px}.card-header[_ngcontent-%COMP%]{text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333}.card-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-top:4px}.card-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:gold}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}.offers[_ngcontent-%COMP%], .offer-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.offer-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;overflow:hidden;box-shadow:0 4px 8px #0000001a;transition:transform .3s;max-width:400px;height:800px;position:relative;text-align:left}.offer-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.carousel[_ngcontent-%COMP%]{position:relative;width:100%;overflow:hidden}.carousel-inner[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;flex-shrink:0}.image-container[_ngcontent-%COMP%]{width:400px;height:250px;overflow:hidden;display:flex;justify-content:center;align-items:center}.prev[_ngcontent-%COMP%], .next[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background-color:#00000080;color:#fff;border:none;padding:10px;cursor:pointer;border-radius:50%}.prev[_ngcontent-%COMP%]{left:10px}.next[_ngcontent-%COMP%]{right:10px}.offer-details[_ngcontent-%COMP%]{padding:15px}.offer-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.offer-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.offer-footer[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}.featured[_ngcontent-%COMP%]{color:#007bff;font-weight:700}.sharedContent-Section[_ngcontent-%COMP%]{padding:50px 0}.button-container[_ngcontent-%COMP%]{text-align:center}.fb-button[_ngcontent-%COMP%]{background-color:var(--button-bg-color);color:var(--button-text-color);padding:10px 20px;border-radius:5px;text-decoration:none;font-size:18px;display:inline-flex;align-items:center;transition:background-color .3s}.fb-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;font-size:20px}.fb-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-bg-color)}"]})}return f})();var Wa=B(614),vn=B(6223);function vc(f){return f?/^https?:\/\//i.test(f)?f:`http://${f}`:""}function qi(f,c){1&f&&(u.TgZ(0,"span",15),u._uU(1,"\u2605"),u.qZA())}function Xm(f,c){if(1&f&&(u.TgZ(0,"div")(1,"a",16),u._UZ(2,"img",17),u.qZA(),u._UZ(3,"br"),u._uU(4," Facebook"),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.s9C("href",a.svc.Facebook,u.LSH)}}function Ag(f,c){if(1&f&&(u.TgZ(0,"div")(1,"a",16),u._UZ(2,"img",18),u.qZA(),u._UZ(3,"br"),u._uU(4," Instagram"),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.MGl("href","https://www.instagram.com/",a.svc.Instagram,"",u.LSH)}}function Qf(f,c){if(1&f&&(u.TgZ(0,"div")(1,"a",19),u._UZ(2,"img",20),u.qZA(),u._UZ(3,"br"),u._uU(4," Email"),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.MGl("href","mailto:",a.svc.Email,"",u.LSH)}}function e_(f,c){if(1&f&&(u.TgZ(0,"div")(1,"a",16),u._UZ(2,"img",21),u.qZA(),u._UZ(3,"br"),u._uU(4," Website"),u.qZA()),2&f){const a=u.oxw();u.xp6(1),u.s9C("href",a.svc.Website,u.LSH)}}let Jf=(()=>{class f{constructor(a){this.router=a}ngOnInit(){(void 0===this.svc.Image||""==this.svc.Image)&&(this.svc.Image="https://firebasestorage.googleapis.com/v0/b/romaniinseattle.appspot.com/o/serviceImages%2FdafaultImage.jpg?alt=media&token=3b0787df-12f0-444a-a426-013843534f1e"),this.svc.Website=vc(this.svc.Website)}viewDetails(){this.router.navigate(["/services",this.svc.id])}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(Ti.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-service-card"]],inputs:{svc:"svc"},decls:23,vars:11,consts:[[1,"service-card"],[1,"service-card-image-container"],[1,"service-card-image",3,"src","alt"],[1,"service-card-content"],[1,"card-header"],[1,"card-title"],["class","sponsor-icon",4,"ngIf"],[1,"card-subtitle","service_type"],[1,"card-subtitle","contact_info"],[1,"card-description"],[1,"card-button"],[3,"click"],[1,"card-footer"],[1,"social-icons"],[4,"ngIf"],[1,"sponsor-icon"],["target","_blank",3,"href"],["src","../../../assets/images/SVG/facebook-icon.svg"],["src","../../../assets/images/SVG/instagram-icon.svg"],[3,"href"],["src","../../../assets/images/SVG/email-icon.svg"],["src","../../../assets/images/SVG/browser-icon.svg"]],template:function(p,I){1&p&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"img",2),u.qZA(),u.TgZ(3,"div",3)(4,"div",4)(5,"div",5),u._uU(6),u.YNc(7,qi,2,0,"span",6),u.qZA(),u.TgZ(8,"div",7),u._uU(9),u.qZA(),u.TgZ(10,"div",8),u._uU(11),u.qZA(),u.TgZ(12,"div",9),u._uU(13),u.qZA(),u.TgZ(14,"div",10)(15,"button",11),u.NdJ("click",function(){return I.viewDetails()}),u._uU(16,"Detalii"),u.qZA()()(),u.TgZ(17,"div",12)(18,"div",13),u.YNc(19,Xm,5,1,"div",14),u.YNc(20,Ag,5,1,"div",14),u.YNc(21,Qf,5,1,"div",14),u.YNc(22,e_,5,1,"div",14),u.qZA()()()()),2&p&&(u.xp6(2),u.s9C("alt",I.svc.Name),u.Q6J("src",I.svc.Image,u.LSH),u.xp6(4),u.Oqu(I.svc.Name),u.xp6(1),u.Q6J("ngIf",I.svc.Community_Sponsor),u.xp6(2),u.Oqu(I.svc.Service_Type),u.xp6(2),u.Oqu(I.svc.Phone_Number),u.xp6(2),u.Oqu(I.svc.Description),u.xp6(6),u.Q6J("ngIf",I.svc.Facebook),u.xp6(1),u.Q6J("ngIf",I.svc.Instagram),u.xp6(1),u.Q6J("ngIf",I.svc.Email),u.xp6(1),u.Q6J("ngIf",I.svc.Website))},dependencies:[H.O5],styles:[".service-card[_ngcontent-%COMP%]{background-color:#fafafa;width:400px;min-height:550px;display:flex;flex-direction:column;justify-content:space-between;border-radius:8px;box-shadow:0 4px 8px #00000080;margin:10px;padding:40px;box-sizing:border-box;position:relative}.service-card-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:5px}.service-card-image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover;border:2px solid #ddd}.card-header[_ngcontent-%COMP%]{text-align:center;margin:25px}.card-title[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:500;font-style:bold;font-size:1.7rem;font-weight:700;color:#333;line-height:1.2}.card-subtitle[_ngcontent-%COMP%]{font-family:Catamaran,sans-serif;font-optical-sizing:auto;font-weight:400;font-style:normal;font-size:1rem;color:#666;margin-top:4px}.card-description[_ngcontent-%COMP%]{text-align:left;font-family:Catamaran,sans-serif;font-optical-sizing:auto;font-weight:400;font-style:normal;color:#666;margin-top:4px;overflow:hidden;-webkit-box-orient:vertical;display:block;display:-webkit-box;overflow:hidden!important;text-overflow:ellipsis;-webkit-line-clamp:4}.service_type[_ngcontent-%COMP%]{text-transform:uppercase;padding:1rem 0}.contact_info[_ngcontent-%COMP%]{padding:0 0 1rem;font-size:1.2rem}.card-footer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 480px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 100px);min-width:175px;margin:2px;padding:2px;min-height:150px;min-height:330px}.card-title[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:100;font-style:bold;font-size:.9rem;font-weight:400;color:#333;line-height:1;padding:0;margin:0}.card-subtitle[_ngcontent-%COMP%]{font-family:Catamaran,sans-serif;font-optical-sizing:auto;font-weight:100;font-style:normal;color:#666;margin-top:1px}.card-description[_ngcontent-%COMP%]{display:none}.service_type[_ngcontent-%COMP%]{text-transform:uppercase;padding:0;font-size:.5rem}.card-footer[_ngcontent-%COMP%]{display:none}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:175px}.service-footer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}.services-control[_ngcontent-%COMP%]{flex-direction:column}@media screen and (max-width: 960px) and(min-width:480px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}.service-card-front[_ngcontent-%COMP%]{background-color:#fff;color:#000}.service-card-content[_ngcontent-%COMP%]{padding:0}.service-date[_ngcontent-%COMP%]{font-size:12px;color:#f1c40f}.service-footer[_ngcontent-%COMP%]{margin-top:10px}.featured[_ngcontent-%COMP%]{font-weight:700;color:#f39c12}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:400px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000}#browser-icon[_ngcontent-%COMP%]{fill:red;stroke:#000}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px;color:gold}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}"]})}return f})();function Dg(f,c){if(1&f&&(u.TgZ(0,"option",14),u._uU(1),u.qZA()),2&f){const a=c.$implicit;u.Q6J("value",a),u.xp6(1),u.Oqu(a)}}function $h(f,c){1&f&&u._UZ(0,"app-service-card",15),2&f&&u.Q6J("svc",c.$implicit)}let Vl=(()=>{class f{constructor(a,p,I){this.servicesService=a,this.route=p,this.router=I,this.services=[],this.filteredServices=[],this.serviceTypes=[],this.selectedServiceType=""}ngOnInit(){this.route.queryParams.subscribe(a=>{this.selectedServiceType=a.serviceType||""}),this.filterServices(this.selectedServiceType)}navigateToAddService(){this.router.navigate(["/add-service"])}handleChange(a){const{target:p}=a;return p&&console.log(p.value),p.value}fetchServiceTypes(){console.log("FetchServiceTypes Function"),this.servicesService.getAllServiceTypes().subscribe(a=>{this.serviceTypes=a,a.forEach(p=>{})}),console.log("Number of Service Types returned by the database : "+this.serviceTypes.length)}onFilterChange(a){console.log("Filter changed:",a),this.router.navigate([],{relativeTo:this.route,queryParams:{serviceType:a},queryParamsHandling:"merge"}),this.filterServices(a)}filterServices(a){console.log("Filter Serices: "+a),this.fetchServiceTypes(),a&&""!==a?this.servicesService.getServicesByType(a).subscribe(p=>{this.services=p.filter(I=>I.Approved),this.filteredServices=p.filter(I=>I.Approved),console.log("Number of Services returned by the Database :  "+this.services.length)}):this.servicesService.getServices().subscribe(p=>{this.services=p.filter(I=>I.Approved),this.filteredServices=p.filter(I=>I.Approved),console.log("Number of Services returned by the Database :  "+this.services.length)})}extractServiceTypes(){this.serviceTypes=[...new Set(this.services.map(a=>a.Service_Type))]}shareLink(){const p=this.router.url.split("?")[1]||"";navigator.clipboard.writeText("https://romaniinseattle.web.app/services"+(p?"?"+p:"")).then(()=>{alert("Link copied to clipboard!")},k=>{console.error("Could not copy text: ",k)})}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(Wa.r),u.Y36(Ti.gz),u.Y36(Ti.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-services"]],decls:24,vars:3,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"services-control"],[1,"service-control-container"],["for","service-type"],["id","service-type",1,"filter-dropdown",3,"ngModel","change","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[2,"min-width","150px",3,"click"],[1,"share-button",3,"click"],[1,"fas","fa-share-alt"],[1,"services-container"],[3,"svc",4,"ngFor","ngForOf"],[3,"value"],[3,"svc"]],template:function(p,I){1&p&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._uU(3,"Lista de Servicii"),u.qZA()(),u.TgZ(4,"div",2)(5,"h2"),u._uU(6,"Descoperi\u021bi serviciile oferite de membrii comunit\u0103\u021bii"),u.qZA()()(),u.TgZ(7,"div",3)(8,"div",4)(9,"label",5),u._uU(10,"Filtra\u021bi lista dup\u0103 tipul serviciului: "),u.qZA()(),u.TgZ(11,"div",4)(12,"select",6),u.NdJ("change",function(ee){return I.onFilterChange(I.handleChange(ee))})("ngModelChange",function(ee){return I.selectedServiceType=ee}),u.TgZ(13,"option",7),u._uU(14,"Toate serviciile"),u.qZA(),u.YNc(15,Dg,2,2,"option",8),u.qZA()(),u.TgZ(16,"div",4)(17,"button",9),u.NdJ("click",function(){return I.navigateToAddService()}),u._uU(18,"Adaugati un Serviciu"),u.qZA()(),u.TgZ(19,"button",10),u.NdJ("click",function(){return I.shareLink()}),u._UZ(20,"i",11),u._uU(21," Share "),u.qZA()(),u.TgZ(22,"div",12),u.YNc(23,$h,1,1,"app-service-card",13),u.qZA()),2&p&&(u.xp6(12),u.Q6J("ngModel",I.selectedServiceType),u.xp6(3),u.Q6J("ngForOf",I.serviceTypes),u.xp6(8),u.Q6J("ngForOf",I.filteredServices))},dependencies:[H.sg,vn.YN,vn.Kr,vn.EJ,vn.JJ,vn.On,Jf],styles:[".hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.services-control[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px;padding:20px;flex-wrap:wrap}.service-control-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:5px;padding:5px}.services-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.services-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px;font-size:1rem}.add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}label[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:16px;text-transform:uppercase}.filter-dropdown[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:16px;text-transform:uppercase;cursor:pointer}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;padding:1rem}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:3rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1rem;text-align:center}}"]})}return f})(),Ul=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-rules"]],decls:43,vars:0,consts:[[1,"hero-section"],[1,"overlay"],[1,"content"],["href","https://www.facebook.com/groups/RomaniinSeattle",1,"cta-button"],[1,"rules-section"],[1,"container"],[1,"rules-list"]],template:function(p,I){1&p&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"h1"),u._uU(4,"Regulile \u0219i Reglement\u0103rile"),u.qZA(),u.TgZ(5,"p"),u._uU(6,"Apreciem cooperarea \u0219i \xeen\u021belegerea dvs. \xeen respectarea regulilor grupului nostru."),u.qZA(),u.TgZ(7,"a",3),u._uU(8,"Join our Facebook Group"),u.qZA()()(),u.TgZ(9,"section",4)(10,"div",5)(11,"h2"),u._uU(12,"Regulile \u0219i Reglement\u0103rile"),u.qZA(),u.TgZ(13,"ol",6)(14,"li")(15,"span"),u._uU(16,"Respecta\u021bi to\u021bi membrii."),u.qZA(),u._uU(17," Trateaz\u0103 pe toat\u0103 lumea cu respect. Dezbaterile s\u0103n\u0103toase sunt naturale, dar amabilitatea este obligatorie."),u.qZA(),u.TgZ(18,"li")(19,"span"),u._uU(20,"F\u0103r\u0103 discursuri de ur\u0103 sau h\u0103r\u021buire."),u.qZA(),u._uU(21," Asigur\u0103-te c\u0103 toat\u0103 lumea se simte \xeen siguran\u021b\u0103. Bullying-ul de orice fel nu este permis, iar comentariile degradante despre lucruri precum rasa, religia, cultura, orientarea sexual\u0103, genul sau identitatea nu vor fi tolerate."),u.qZA(),u.TgZ(22,"li"),u._uU(23,"F\u0103r\u0103 limbaj ofensator."),u.qZA(),u.TgZ(24,"li")(25,"span"),u._uU(26,"F\u0103r\u0103 Promov\u0103ri sau Spam:"),u.qZA(),u._uU(27," Ofer\u0103 mai mult dec\xe2t prime\u0219ti \xeen acest grup. Auto-promovarea, spam-ul \u0219i link-urile irelevante nu sunt permise."),u.qZA(),u.TgZ(28,"li"),u._uU(29,"R\u0103m\xe2ne\u021bi la subiect."),u.qZA(),u.TgZ(30,"li")(31,"span"),u._uU(32,"Respect\u0103 Intimitatea Fiec\u0103ruia:"),u.qZA(),u._uU(33," Participarea \xeen acest grup necesit\u0103 \xeencredere reciproc\u0103. Discu\u021biile autentice \u0219i expresive fac grupurile grozave, dar pot fi \u0219i sensibile \u0219i private. Ce se \xeemp\u0103rt\u0103\u0219e\u0219te \xeen grup ar trebui s\u0103 r\u0103m\xe2n\u0103 \xeen grup."),u.qZA(),u.TgZ(34,"li")(35,"span"),u._uU(36,"Respecta\u021bi Standardele Comunit\u0103\u021bii Facebook."),u.qZA(),u._uU(37," Respect\u0103 toate liniile directoare ale comunit\u0103\u021bii pentru a asigura c\u0103 grupul r\u0103m\xe2ne un spa\u021biu sigur pentru to\u021bi."),u.qZA(),u.TgZ(38,"li"),u._uU(39,"Raporta\u021bi \xeenc\u0103lc\u0103rile regulilor c\u0103tre administratori."),u.qZA()()(),u.TgZ(40,"div")(41,"p"),u._uU(42,"Dac\u0103 dori\u021bi s\u0103 v\u0103 oferi\u021bi serviciile comunit\u0103\u021bii, v\u0103 rug\u0103m s\u0103 trimite\u021bi detaliile serviciilor dumneavoastr\u0103 prin intermediul site-ului nostru. Un administrator va revizui trimiterea dvs. \u0219i o va ad\u0103uga \xeen grup c\xe2t mai cur\xe2nd posibil. Apreciem cooperarea \u0219i \xeen\u021belegerea dvs. \xeen respectarea regulilor grupului nostru."),u.qZA()()())},styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Arial,sans-serif;height:100%}.hero-section[_ngcontent-%COMP%]{position:relative;height:100vh;background:url(Seattle-Romania.322e2da675d571d6.png) no-repeat center center/cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#fff}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:3em;margin:.5em 0}p[_ngcontent-%COMP%]{font-size:1.5em;margin:.5em 0}.cta-button[_ngcontent-%COMP%]{display:inline-block;padding:.75em 1.5em;margin-top:1em;font-size:1.2em;color:#fff;background-color:var(--button-color);border:none;border-radius:5px;text-decoration:none;cursor:pointer;transition:background-color .3s ease}.cta-button[_ngcontent-%COMP%]:hover{background-color:#e65c00}.rules-section[_ngcontent-%COMP%]{padding:40px 20px;background:#f4f4f4}.rules-section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.rules-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;font-size:32px}.rules-list[_ngcontent-%COMP%]{list-style:none}.rules-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background:#fff;padding:20px;margin-bottom:10px;border-left:5px solid #007BFF}.rules-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;color:#333}"]})}return f})();function Xf(f,c){1&f&&u._UZ(0,"app-event-card",7),2&f&&u.Q6J("event",c.$implicit)}let zh=(()=>{class f{constructor(a,p){this.eventService=a,this.router=p,this.events=[]}ngOnInit(){this.eventService.getEvents().subscribe(a=>{this.events=a})}navigateToAddEvent(){this.router.navigate(["/add-event"])}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(pa.n),u.Y36(Ti.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-events"]],decls:12,vars:1,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"add-service-container"],[3,"click"],[1,"services-container"],[3,"event",4,"ngFor","ngForOf"],[3,"event"]],template:function(p,I){1&p&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._uU(3,"Lista de Evenimente"),u.qZA()(),u.TgZ(4,"div",2)(5,"h2"),u._uU(6,"Descoperi\u021bi serviciile oferite de membrii comunit\u0103\u021bii"),u.qZA()()(),u.TgZ(7,"div",3)(8,"button",4),u.NdJ("click",function(){return I.navigateToAddEvent()}),u._uU(9,"Adaugati un Eveniment"),u.qZA()(),u.TgZ(10,"div",5),u.YNc(11,Xf,1,1,"app-event-card",6),u.qZA()),2&p&&(u.xp6(11),u.Q6J("ngForOf",I.events))},dependencies:[H.sg,_c],styles:[".hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.section-header[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;background-color:#f0f0f0}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:10px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.service-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:10px;padding:40px;width:calc(25% - 32px);box-sizing:border-box;position:relative;min-width:400px}.card-header[_ngcontent-%COMP%]{text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333}.card-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-top:4px}.card-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:gold}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}.services-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:30px;padding:30px}.services-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.services-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px;font-size:1rem}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}.add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.services-control[_ngcontent-%COMP%]{flex-direction:column}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}"]})}return f})();function is(f,c){1&f&&u._UZ(0,"app-offer-card",7),2&f&&u.Q6J("offer",c.$implicit)}let wu=(()=>{class f{constructor(a,p){this.offersService=a,this.router=p,this.offers=[]}ngOnInit(){this.offersService.getOffers().subscribe(a=>{console.log(a),this.offers=a})}navigateToAddOffer(){this.router.navigate(["/add-offers"])}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(Ll.b),u.Y36(Ti.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-offers"]],decls:12,vars:1,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"add-service-container"],[3,"click"],[1,"offer-list"],[3,"offer",4,"ngFor","ngForOf"],[3,"offer"]],template:function(p,I){1&p&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._uU(3,"De toate pentru to\u021bi"),u.qZA()(),u.TgZ(4,"div",2)(5,"h2"),u._uU(6,"Descoperi\u021bi oferte de membrii comunit\u0103\u021bii"),u.qZA()()(),u.TgZ(7,"div",3)(8,"button",4),u.NdJ("click",function(){return I.navigateToAddOffer()}),u._uU(9,"Adaugati oferte"),u.qZA()(),u.TgZ(10,"div",5),u.YNc(11,is,1,1,"app-offer-card",6),u.qZA()),2&p&&(u.xp6(11),u.Q6J("ngForOf",I.offers))},dependencies:[H.sg,Yf],styles:[".hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(http://source.unsplash.com/800x600/?Seattle);background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.section-header[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;background-color:#f0f0f0}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:10px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.add-offer-container[_ngcontent-%COMP%], .add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}.offer-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;justify-content:center}.offers[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.offers-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.offers-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a;margin:15px;width:calc(25% - 32px);overflow:hidden;transition:transform .3s,box-shadow .3s;min-width:400px}.offers-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 12px 24px #0003}.offer-card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:180px;object-fit:cover}.offers-card-content[_ngcontent-%COMP%]{padding:20px;text-align:left}.offers-card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;font-size:22px;font-weight:600}.offers-card-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 10px;font-size:18px;color:#666;font-weight:400}.offers-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 10px;font-size:16px;color:#777}.offers-footer[_ngcontent-%COMP%]{text-align:right;margin-top:10px}.featured[_ngcontent-%COMP%]{color:#007bff;font-weight:700}@media (max-width: 1024px){.offer-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.offer-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}"]})}return f})();class Ec{constructor(){this.Name="",this.Phone_Number="",this.Email="",this.Description="",this.Website="",this.Facebook="",this.Instagram="",this.Date_Created="",this.Date_Updated="",this.Image="",this.Approved=!1,this.OpenHour="",this.CloseHour=""}}class Au extends Ec{constructor(){super(...arguments),this.id=""}}var Fr=B(1920),Ko=B(2459),Xc=B(4664),Yo=B(7217),Bl=B(3106),el=B(5861),tl=B(4303),Oo=B(9058),ep=B(4537);const yo="firebasestorage.googleapis.com",Du="storageBucket";class Ci extends Oo.ZR{constructor(c,a,p=0){super($l(c),`Firebase Storage: ${a} (${$l(c)})`),this.status_=p,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ci.prototype)}get status(){return this.status_}set status(c){this.status_=c}_codeEquals(c){return $l(c)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(c){this.customData.serverResponse=c,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var wi=function(f){return f.UNKNOWN="unknown",f.OBJECT_NOT_FOUND="object-not-found",f.BUCKET_NOT_FOUND="bucket-not-found",f.PROJECT_NOT_FOUND="project-not-found",f.QUOTA_EXCEEDED="quota-exceeded",f.UNAUTHENTICATED="unauthenticated",f.UNAUTHORIZED="unauthorized",f.UNAUTHORIZED_APP="unauthorized-app",f.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",f.INVALID_CHECKSUM="invalid-checksum",f.CANCELED="canceled",f.INVALID_EVENT_NAME="invalid-event-name",f.INVALID_URL="invalid-url",f.INVALID_DEFAULT_BUCKET="invalid-default-bucket",f.NO_DEFAULT_BUCKET="no-default-bucket",f.CANNOT_SLICE_BLOB="cannot-slice-blob",f.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",f.NO_DOWNLOAD_URL="no-download-url",f.INVALID_ARGUMENT="invalid-argument",f.INVALID_ARGUMENT_COUNT="invalid-argument-count",f.APP_DELETED="app-deleted",f.INVALID_ROOT_OPERATION="invalid-root-operation",f.INVALID_FORMAT="invalid-format",f.INTERNAL_ERROR="internal-error",f.UNSUPPORTED_ENVIRONMENT="unsupported-environment",f}(wi||{});function $l(f){return"storage/"+f}function wd(){return new Ci(wi.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Ic(){return new Ci(wi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Dd(){return new Ci(wi.CANCELED,"User canceled the upload/download.")}function il(){return new Ci(wi.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function sl(f){return new Ci(wi.INVALID_ARGUMENT,f)}function bc(){return new Ci(wi.APP_DELETED,"The Firebase app was deleted.")}function ol(f){return new Ci(wi.INVALID_ROOT_OPERATION,"The operation '"+f+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function al(f,c){return new Ci(wi.INVALID_FORMAT,"String does not match format '"+f+"': "+c)}function Hl(f){throw new Ci(wi.INTERNAL_ERROR,"Internal error: "+f)}class C{constructor(c,a){this.bucket=c,this.path_=a}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const c=encodeURIComponent;return"/b/"+c(this.bucket)+"/o/"+c(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(c,a){let p;try{p=C.makeFromUrl(c,a)}catch{return new C(c,"")}if(""===p.path)return p;throw function Mu(f){return new Ci(wi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+f+"'.")}(c)}static makeFromUrl(c,a){let p=null;const I="([A-Za-z0-9.\\-_]+)",he=new RegExp("^gs://"+I+"(/(.*))?$","i");function Ye(ti){ti.path_=decodeURIComponent(ti.path)}const sn=a.replace(/[.]/g,"\\."),Ei=[{regex:he,indices:{bucket:1,path:3},postModify:function k(ti){"/"===ti.path.charAt(ti.path.length-1)&&(ti.path_=ti.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${sn}/v[A-Za-z0-9_]+/b/${I}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Ye},{regex:new RegExp(`^https?://${a===yo?"(?:storage.googleapis.com|storage.cloud.google.com)":a}/${I}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Ye}];for(let ti=0;ti<Ei.length;ti++){const tc=Ei[ti],Do=tc.regex.exec(c);if(Do){let ra=Do[tc.indices.path];ra||(ra=""),p=new C(Do[tc.indices.bucket],ra),tc.postModify(p);break}}if(null==p)throw function Ka(f){return new Ci(wi.INVALID_URL,"Invalid URL '"+f+"'.")}(c);return p}}class _{constructor(c){this.promise_=Promise.reject(c)}getPromise(){return this.promise_}cancel(c=!1){}}function ht(f){return"string"==typeof f||f instanceof String}function jt(f){return wn()&&f instanceof Blob}function wn(){return typeof Blob<"u"}function qn(f,c,a,p){if(p<c)throw sl(`Invalid value for '${f}'. Expected ${c} or greater.`);if(p>a)throw sl(`Invalid value for '${f}'. Expected ${a} or less.`)}function yr(f,c,a){let p=c;return null==a&&(p=`https://${c}`),`${a}://${p}/v0${f}`}function vo(f){const c=encodeURIComponent;let a="?";for(const p in f)f.hasOwnProperty(p)&&(a=a+(c(p)+"=")+c(f[p])+"&");return a=a.slice(0,-1),a}var No=function(f){return f[f.NO_ERROR=0]="NO_ERROR",f[f.NETWORK_ERROR=1]="NETWORK_ERROR",f[f.ABORT=2]="ABORT",f}(No||{});function Ya(f,c){const a=f>=500&&f<600,I=-1!==[408,429].indexOf(f),k=-1!==c.indexOf(f);return a||I||k}class Gl{constructor(c,a,p,I,k,ee,he,xe,Ye,Rt,sn,Nn=!0){this.url_=c,this.method_=a,this.headers_=p,this.body_=I,this.successCodes_=k,this.additionalRetryCodes_=ee,this.callback_=he,this.errorCallback_=xe,this.timeout_=Ye,this.progressCallback_=Rt,this.connectionFactory_=sn,this.retry=Nn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Pn,In)=>{this.resolve_=Pn,this.reject_=In,this.start_()})}start_(){const a=(p,I)=>{const k=this.resolve_,ee=this.reject_,he=I.connection;if(I.wasSuccessCode)try{const xe=this.callback_(he,he.getResponse());!function Y(f){return void 0!==f}(xe)?k():k(xe)}catch(xe){ee(xe)}else if(null!==he){const xe=wd();xe.serverResponse=he.getErrorText(),ee(this.errorCallback_?this.errorCallback_(he,xe):xe)}else ee(I.canceled?this.appDelete_?bc():Dd():Ic())};this.canceled_?a(0,new Ma(!1,null,!0)):this.backoffId_=function v(f,c,a){let p=1,I=null,k=null,ee=!1,he=0;function xe(){return 2===he}let Ye=!1;function Rt(...tr){Ye||(Ye=!0,c.apply(null,tr))}function sn(tr){I=setTimeout(()=>{I=null,f(Pn,xe())},tr)}function Nn(){k&&clearTimeout(k)}function Pn(tr,..._i){if(Ye)return void Nn();if(tr)return Nn(),void Rt.call(null,tr,..._i);if(xe()||ee)return Nn(),void Rt.call(null,tr,..._i);let Ei;p<64&&(p*=2),1===he?(he=2,Ei=0):Ei=1e3*(p+Math.random()),sn(Ei)}let In=!1;function An(tr){In||(In=!0,Nn(),!Ye&&(null!==I?(tr||(he=2),clearTimeout(I),sn(0)):tr||(he=1)))}return sn(0),k=setTimeout(()=>{ee=!0,An(!0)},a),An}((p,I)=>{if(I)return void p(!1,new Ma(!1,null,!0));const k=this.connectionFactory_();this.pendingConnection_=k;const ee=he=>{null!==this.progressCallback_&&this.progressCallback_(he.loaded,he.lengthComputable?he.total:-1)};null!==this.progressCallback_&&k.addUploadProgressListener(ee),k.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&k.removeUploadProgressListener(ee),this.pendingConnection_=null;const he=k.getErrorCode()===No.NO_ERROR,xe=k.getStatus();if(!he||Ya(xe,this.additionalRetryCodes_)&&this.retry){const Rt=k.getErrorCode()===No.ABORT;return void p(!1,new Ma(!1,null,Rt))}const Ye=-1!==this.successCodes_.indexOf(xe);p(!0,new Ma(Ye,k))})},a,this.timeout_)}getPromise(){return this.promise_}cancel(c){this.canceled_=!0,this.appDelete_=c||!1,null!==this.backoffId_&&function M(f){f(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Ma{constructor(c,a,p){this.wasSuccessCode=c,this.connection=a,this.canceled=!!p}}function Zh(...f){const c=function Md(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==c){const a=new c;for(let p=0;p<f.length;p++)a.append(f[p]);return a.getBlob()}if(wn())return new Blob(f);throw new Ci(wi.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Zs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Pd{constructor(c,a){this.data=c,this.contentType=a||null}}function rp(f,c){switch(f){case Zs.RAW:return new Pd(Kh(c));case Zs.BASE64:case Zs.BASE64URL:return new Pd(Yh(f,c));case Zs.DATA_URL:return new Pd(function xd(f){const c=new Mg(f);return c.base64?Yh(Zs.BASE64,c.rest):function Rd(f){let c;try{c=decodeURIComponent(f)}catch{throw al(Zs.DATA_URL,"Malformed data URL.")}return Kh(c)}(c.rest)}(c),function Pu(f){return new Mg(f).contentType}(c))}throw wd()}function Kh(f){const c=[];for(let a=0;a<f.length;a++){let p=f.charCodeAt(a);p<=127?c.push(p):p<=2047?c.push(192|p>>6,128|63&p):55296==(64512&p)?a<f.length-1&&56320==(64512&f.charCodeAt(a+1))?(p=65536|(1023&p)<<10|1023&f.charCodeAt(++a),c.push(240|p>>18,128|p>>12&63,128|p>>6&63,128|63&p)):c.push(239,191,189):56320==(64512&p)?c.push(239,191,189):c.push(224|p>>12,128|p>>6&63,128|63&p)}return new Uint8Array(c)}function Yh(f,c){switch(f){case Zs.BASE64:{const I=-1!==c.indexOf("-"),k=-1!==c.indexOf("_");if(I||k)throw al(f,"Invalid character '"+(I?"-":"_")+"' found: is it base64url encoded?");break}case Zs.BASE64URL:{const I=-1!==c.indexOf("+"),k=-1!==c.indexOf("/");if(I||k)throw al(f,"Invalid character '"+(I?"+":"/")+"' found: is it base64 encoded?");c=c.replace(/-/g,"+").replace(/_/g,"/");break}}let a;try{a=function ul(f){if(typeof atob>"u")throw function Gh(f){return new Ci(wi.UNSUPPORTED_ENVIRONMENT,`${f} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(f)}(c)}catch(I){throw I.message.includes("polyfill")?I:al(f,"Invalid character found")}const p=new Uint8Array(a.length);for(let I=0;I<a.length;I++)p[I]=a.charCodeAt(I);return p}class Mg{constructor(c){this.base64=!1,this.contentType=null;const a=c.match(/^data:([^,]+)?,/);if(null===a)throw al(Zs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const p=a[1]||null;null!=p&&(this.base64=function Od(f,c){return f.length>=c.length&&f.substring(f.length-c.length)===c}(p,";base64"),this.contentType=this.base64?p.substring(0,p.length-7):p),this.rest=c.substring(c.indexOf(",")+1)}}class Qa{constructor(c,a){let p=0,I="";jt(c)?(this.data_=c,p=c.size,I=c.type):c instanceof ArrayBuffer?(a?this.data_=new Uint8Array(c):(this.data_=new Uint8Array(c.byteLength),this.data_.set(new Uint8Array(c))),p=this.data_.length):c instanceof Uint8Array&&(a?this.data_=c:(this.data_=new Uint8Array(c.length),this.data_.set(c)),p=c.length),this.size_=p,this.type_=I}size(){return this.size_}type(){return this.type_}slice(c,a){if(jt(this.data_)){const I=function Tc(f,c,a){return f.webkitSlice?f.webkitSlice(c,a):f.mozSlice?f.mozSlice(c,a):f.slice?f.slice(c,a):null}(this.data_,c,a);return null===I?null:new Qa(I)}{const p=new Uint8Array(this.data_.buffer,c,a-c);return new Qa(p,!0)}}static getBlob(...c){if(wn()){const a=c.map(p=>p instanceof Qa?p.data_:p);return new Qa(Zh.apply(null,a))}{const a=c.map(ee=>ht(ee)?rp(Zs.RAW,ee).data:ee.data_);let p=0;a.forEach(ee=>{p+=ee.byteLength});const I=new Uint8Array(p);let k=0;return a.forEach(ee=>{for(let he=0;he<ee.length;he++)I[k++]=ee[he]}),new Qa(I,!0)}}uploadData(){return this.data_}}function ql(f){let c;try{c=JSON.parse(f)}catch{return null}return function $e(f){return"object"==typeof f&&!Array.isArray(f)}(c)?c:null}function ip(f){const c=f.lastIndexOf("/",f.length-2);return-1===c?f:f.slice(c+1)}function n_(f,c){return c}class Eo{constructor(c,a,p,I){this.server=c,this.local=a||c,this.writable=!!p,this.xform=I||n_}}let sp=null;function Qh(){if(sp)return sp;const f=[];f.push(new Eo("bucket")),f.push(new Eo("generation")),f.push(new Eo("metageneration")),f.push(new Eo("name","fullPath",!0));const a=new Eo("name");a.xform=function c(k,ee){return function op(f){return!ht(f)||f.length<2?f:ip(f)}(ee)},f.push(a);const I=new Eo("size");return I.xform=function p(k,ee){return void 0!==ee?Number(ee):ee},f.push(I),f.push(new Eo("timeCreated")),f.push(new Eo("updated")),f.push(new Eo("md5Hash",null,!0)),f.push(new Eo("cacheControl",null,!0)),f.push(new Eo("contentDisposition",null,!0)),f.push(new Eo("contentEncoding",null,!0)),f.push(new Eo("contentLanguage",null,!0)),f.push(new Eo("contentType",null,!0)),f.push(new Eo("metadata","customMetadata",!0)),sp=f,sp}function Nd(f,c,a){const p=ql(c);return null===p?null:function Qo(f,c,a){const p={type:"file"},I=a.length;for(let k=0;k<I;k++){const ee=a[k];p[ee.local]=ee.xform(p,c[ee.server])}return function Rg(f,c){Object.defineProperty(f,"ref",{get:function a(){const k=new C(f.bucket,f.fullPath);return c._makeStorageReference(k)}})}(p,f),p}(f,p,a)}function Ru(f,c){const a={},p=c.length;for(let I=0;I<p;I++){const k=c[I];k.writable&&(a[k.server]=f[k.local])}return JSON.stringify(a)}const Ks="prefixes",Wl="items";class ko{constructor(c,a,p,I){this.url=c,this.method=a,this.handler=p,this.timeout=I,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ys(f){if(!f)throw wd()}function kd(f,c){return function a(p,I){const k=Nd(f,I,c);return Ys(null!==k),k}}function Zl(f){return function c(a,p){let I;return I=401===a.getStatus()?a.getErrorText().includes("Firebase App Check token is invalid")?function Ad(){return new Ci(wi.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function nl(){return new Ci(wi.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===a.getStatus()?function Sg(f){return new Ci(wi.QUOTA_EXCEEDED,"Quota for bucket '"+f+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(f.bucket):403===a.getStatus()?function tp(f){return new Ci(wi.UNAUTHORIZED,"User does not have permission to access '"+f+"'.")}(f.path):p,I.status=a.getStatus(),I.serverResponse=p.serverResponse,I}}function Cc(f){const c=Zl(f);return function a(p,I){let k=c(p,I);return 404===p.getStatus()&&(k=function Hh(f){return new Ci(wi.OBJECT_NOT_FOUND,"Object '"+f+"' does not exist.")}(f.path)),k.serverResponse=I.serverResponse,k}}function i_(f,c,a){const I=yr(c.fullServerUrl(),f.host,f._protocol),ee=f.maxOperationRetryTime,he=new ko(I,"GET",kd(f,a),ee);return he.errorHandler=Cc(c),he}function xg(f,c,a,p,I){const k={};k.prefix=c.isRoot?"":c.path+"/",a&&a.length>0&&(k.delimiter=a),p&&(k.pageToken=p),I&&(k.maxResults=I);const he=yr(c.bucketOnlyServerUrl(),f.host,f._protocol),Ye=f.maxOperationRetryTime,Rt=new ko(he,"GET",function xu(f,c){return function a(p,I){const k=function cp(f,c,a){const p=ql(a);return null===p?null:function ap(f,c,a){const p={prefixes:[],items:[],nextPageToken:a.nextPageToken};if(a[Ks])for(const I of a[Ks]){const k=I.replace(/\/$/,""),ee=f._makeStorageReference(new C(c,k));p.prefixes.push(ee)}if(a[Wl])for(const I of a[Wl]){const k=f._makeStorageReference(new C(c,I.name));p.items.push(k)}return p}(f,c,p)}(f,c,I);return Ys(null!==k),k}}(f,c.bucket),Ye);return Rt.urlParams=k,Rt.errorHandler=Zl(c),Rt}function kg(f,c,a){const p=Object.assign({},a);return p.fullPath=f.path,p.size=c.size(),p.contentType||(p.contentType=function _y(f,c){return f&&f.contentType||c&&c.type()||"application/octet-stream"}(null,c)),p}class Nu{constructor(c,a,p,I){this.current=c,this.total=a,this.finalized=!!p,this.metadata=I||null}}function dl(f,c){let a=null;try{a=f.getResponseHeader("X-Goog-Upload-Status")}catch{Ys(!1)}return Ys(!!a&&-1!==(c||["active"]).indexOf(a)),a}const o_={STATE_CHANGED:"state_changed"},Io={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function up(f){switch(f){case"running":case"pausing":case"canceling":return Io.RUNNING;case"paused":return Io.PAUSED;case"success":return Io.SUCCESS;case"canceled":return Io.CANCELED;default:return Io.ERROR}}class a_{constructor(c,a,p){if(function ue(f){return"function"==typeof f}(c)||null!=a||null!=p)this.next=c,this.error=a??void 0,this.complete=p??void 0;else{const k=c;this.next=k.next,this.error=k.error,this.complete=k.complete}}}function Ud(f){return(...c)=>{Promise.resolve().then(()=>f(...c))}}let c_=null;class l_{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=No.NO_ERROR,this.sendPromise_=new Promise(c=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=No.ABORT,c()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=No.NETWORK_ERROR,c()}),this.xhr_.addEventListener("load",()=>{c()})})}send(c,a,p,I){if(this.sent_)throw Hl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(a,c,!0),void 0!==I)for(const k in I)I.hasOwnProperty(k)&&this.xhr_.setRequestHeader(k,I[k].toString());return void 0!==p?this.xhr_.send(p):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Hl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Hl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Hl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Hl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(c){return this.xhr_.getResponseHeader(c)}addUploadProgressListener(c){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",c)}removeUploadProgressListener(c){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",c)}}class dp extends l_{initXhr(){this.xhr_.responseType="text"}}function Fo(){return c_?c_():new dp}class tf{constructor(c,a,p=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=c,this._blob=a,this._metadata=p,this._mappings=Qh(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=I=>{if(this._request=void 0,this._chunkMultiplier=1,I._codeEquals(wi.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const k=this.isExponentialBackoffExpired();if(Ya(I.status,[])){if(!k)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();I=Ic()}this._error=I,this._transition("error")}},this._metadataErrorHandler=I=>{this._request=void 0,I._codeEquals(wi.CANCELED)?this.completeTransitions_():(this._error=I,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((I,k)=>{this._resolve=I,this._reject=k,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const c=this._transferred;return a=>this._updateProgress(c+a)}_shouldDoResumable(c){return c.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(c){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([a,p])=>{switch(this._state){case"running":c(a,p);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((c,a)=>{const p=function Vd(f,c,a,p,I){const k=c.bucketOnlyServerUrl(),ee=kg(c,p,I),he={name:ee.fullPath},xe=yr(k,f.host,f._protocol),Rt={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${p.size()}`,"X-Goog-Upload-Header-Content-Type":ee.contentType,"Content-Type":"application/json; charset=utf-8"},sn=Ru(ee,a),In=new ko(xe,"POST",function Pn(An){let tr;dl(An);try{tr=An.getResponseHeader("X-Goog-Upload-URL")}catch{Ys(!1)}return Ys(ht(tr)),tr},f.maxUploadRetryTime);return In.urlParams=he,In.headers=Rt,In.body=sn,In.errorHandler=Zl(c),In}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),I=this._ref.storage._makeRequest(p,Fo,c,a);this._request=I,I.getPromise().then(k=>{this._request=void 0,this._uploadUrl=k,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const c=this._uploadUrl;this._resolveToken((a,p)=>{const I=function s_(f,c,a,p){const xe=new ko(a,"POST",function k(Ye){const Rt=dl(Ye,["active","final"]);let sn=null;try{sn=Ye.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ys(!1)}sn||Ys(!1);const Nn=Number(sn);return Ys(!isNaN(Nn)),new Nu(Nn,p.size(),"final"===Rt)},f.maxUploadRetryTime);return xe.headers={"X-Goog-Upload-Command":"query"},xe.errorHandler=Zl(c),xe}(this._ref.storage,this._ref._location,c,this._blob),k=this._ref.storage._makeRequest(I,Fo,a,p);this._request=k,k.getPromise().then(ee=>{this._request=void 0,this._updateProgress(ee.current),this._needToFetchStatus=!1,ee.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const c=262144*this._chunkMultiplier,a=new Nu(this._transferred,this._blob.size()),p=this._uploadUrl;this._resolveToken((I,k)=>{let ee;try{ee=function lp(f,c,a,p,I,k,ee,he){const xe=new Nu(0,0);if(ee?(xe.current=ee.current,xe.total=ee.total):(xe.current=0,xe.total=p.size()),p.size()!==xe.total)throw function zl(){return new Ci(wi.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Ye=xe.total-xe.current;let Rt=Ye;I>0&&(Rt=Math.min(Rt,I));const sn=xe.current;let Pn="";Pn=0===Rt?"finalize":Ye===Rt?"upload, finalize":"upload";const In={"X-Goog-Upload-Command":Pn,"X-Goog-Upload-Offset":`${xe.current}`},An=p.slice(sn,sn+Rt);if(null===An)throw il();const Ei=new ko(a,"POST",function tr(ti,tc){const Do=dl(ti,["active","final"]),Js=xe.current+Rt,ra=p.size();let ka;return ka="final"===Do?kd(c,k)(ti,tc):null,new Nu(Js,ra,"final"===Do,ka)},c.maxUploadRetryTime);return Ei.headers=In,Ei.body=An.uploadData(),Ei.progressCallback=he||null,Ei.errorHandler=Zl(f),Ei}(this._ref._location,this._ref.storage,p,this._blob,c,this._mappings,a,this._makeProgressCallback())}catch(xe){return this._error=xe,void this._transition("error")}const he=this._ref.storage._makeRequest(ee,Fo,I,k,!1);this._request=he,he.getPromise().then(xe=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(xe.current),xe.finalized?(this._metadata=xe.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((c,a)=>{const p=i_(this._ref.storage,this._ref._location,this._mappings),I=this._ref.storage._makeRequest(p,Fo,c,a);this._request=I,I.getPromise().then(k=>{this._request=void 0,this._metadata=k,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((c,a)=>{const p=function Jh(f,c,a,p,I){const k=c.bucketOnlyServerUrl(),ee={"X-Goog-Upload-Protocol":"multipart"},xe=function he(){let Ei="";for(let ti=0;ti<2;ti++)Ei+=Math.random().toString().slice(2);return Ei}();ee["Content-Type"]="multipart/related; boundary="+xe;const Ye=kg(c,p,I),Rt=Ru(Ye,a),Pn=Qa.getBlob("--"+xe+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Rt+"\r\n--"+xe+"\r\nContent-Type: "+Ye.contentType+"\r\n\r\n",p,"\r\n--"+xe+"--");if(null===Pn)throw il();const In={name:Ye.fullPath},An=yr(k,f.host,f._protocol),_i=f.maxUploadRetryTime,Di=new ko(An,"POST",kd(f,a),_i);return Di.urlParams=In,Di.headers=ee,Di.body=Pn.uploadData(),Di.errorHandler=Zl(c),Di}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),I=this._ref.storage._makeRequest(p,Fo,c,a);this._request=I,I.getPromise().then(k=>{this._request=void 0,this._metadata=k,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(c){const a=this._transferred;this._transferred=c,this._transferred!==a&&this._notifyObservers()}_transition(c){if(this._state!==c)switch(c){case"canceling":case"pausing":this._state=c,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const a="paused"===this._state;this._state=c,a&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=c,this._notifyObservers();break;case"canceled":this._error=Dd(),this._state=c,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const c=up(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:c,metadata:this._metadata,task:this,ref:this._ref}}on(c,a,p,I){const k=new a_(a||void 0,p||void 0,I||void 0);return this._addObserver(k),()=>{this._removeObserver(k)}}then(c,a){return this._promise.then(c,a)}catch(c){return this.then(null,c)}_addObserver(c){this._observers.push(c),this._notifyObserver(c)}_removeObserver(c){const a=this._observers.indexOf(c);-1!==a&&this._observers.splice(a,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(a=>{this._notifyObserver(a)})}_finishPromise(){if(void 0!==this._resolve){let c=!0;switch(up(this._state)){case Io.SUCCESS:Ud(this._resolve.bind(null,this.snapshot))();break;case Io.CANCELED:case Io.ERROR:Ud(this._reject.bind(null,this._error))();break;default:c=!1}c&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(c){switch(up(this._state)){case Io.RUNNING:case Io.PAUSED:c.next&&Ud(c.next.bind(c,this.snapshot))();break;case Io.SUCCESS:c.complete&&Ud(c.complete.bind(c))();break;default:c.error&&Ud(c.error.bind(c,this._error))()}}resume(){const c="paused"===this._state||"pausing"===this._state;return c&&this._transition("running"),c}pause(){const c="running"===this._state;return c&&this._transition("pausing"),c}cancel(){const c="running"===this._state||"pausing"===this._state;return c&&this._transition("canceling"),c}}class Lo{constructor(c,a){this._service=c,this._location=a instanceof C?a:C.makeFromUrl(a,c.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(c,a){return new Lo(c,a)}get root(){const c=new C(this._location.bucket,"");return this._newRef(this._service,c)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ip(this._location.path)}get storage(){return this._service}get parent(){const c=function Pg(f){if(0===f.length)return null;const c=f.lastIndexOf("/");return-1===c?"":f.slice(0,c)}(this._location.path);if(null===c)return null;const a=new C(this._location.bucket,c);return new Lo(this._service,a)}_throwIfRoot(c){if(""===this._location.path)throw ol(c)}}function pp(f,c,a){return Bd.apply(this,arguments)}function Bd(){return(Bd=(0,el.Z)(function*(f,c,a){const I=yield gp(f,{pageToken:a});c.prefixes.push(...I.prefixes),c.items.push(...I.items),null!=I.nextPageToken&&(yield pp(f,c,I.nextPageToken))})).apply(this,arguments)}function gp(f,c){null!=c&&"number"==typeof c.maxResults&&qn("options.maxResults",1,1e3,c.maxResults);const a=c||{},p=xg(f.storage,f._location,"/",a.pageToken,a.maxResults);return f.storage.makeRequestWithTokens(p,Fo)}function _p(f){f._throwIfRoot("getDownloadURL");const c=function Og(f,c,a){const I=yr(c.fullServerUrl(),f.host,f._protocol),ee=f.maxOperationRetryTime,he=new ko(I,"GET",function Fd(f,c){return function a(p,I){const k=Nd(f,I,c);return Ys(null!==k),function r_(f,c,a,p){const I=ql(c);if(null===I||!ht(I.downloadTokens))return null;const k=I.downloadTokens;if(0===k.length)return null;const ee=encodeURIComponent;return k.split(",").map(Ye=>{const sn=f.fullPath;return yr("/b/"+ee(f.bucket)+"/o/"+ee(sn),a,p)+vo({alt:"media",token:Ye})})[0]}(k,I,f.host,f._protocol)}}(f,a),ee);return he.errorHandler=Cc(c),he}(f.storage,f._location,Qh());return f.storage.makeRequestWithTokens(c,Fo).then(a=>{if(null===a)throw function Sd(){return new Ci(wi.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return a})}function Bg(f,c){const a=function t_(f,c){const a=c.split("/").filter(p=>p.length>0).join("/");return 0===f.length?a:f+"/"+a}(f._location.path,c),p=new C(f._location.bucket,a);return new Lo(f.storage,p)}function rf(f,c){if(f instanceof af){const a=f;if(null==a._bucket)throw function rl(){return new Ci(wi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Du+"' property when initializing the app?")}();const p=new Lo(a,a._bucket);return null!=c?rf(p,c):p}return void 0!==c?Bg(f,c):f}function sf(f,c){if(c&&function nf(f){return/^[A-Za-z]+:\/\//.test(f)}(c)){if(f instanceof af)return function yp(f,c){return new Lo(f,c)}(f,c);throw sl("To use ref(service, url), the first argument must be a Storage instance.")}return rf(f,c)}function Kl(f,c){const a=c?.[Du];return null==a?null:C.makeFromBucketSpec(a,f)}class af{constructor(c,a,p,I,k){this.app=c,this._authProvider=a,this._appCheckProvider=p,this._url=I,this._firebaseVersion=k,this._bucket=null,this._host=yo,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=I?C.makeFromBucketSpec(I,this._host):Kl(this._host,this.app.options)}get host(){return this._host}set host(c){this._host=c,this._bucket=null!=this._url?C.makeFromBucketSpec(this._url,c):Kl(c,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(c){qn("time",0,Number.POSITIVE_INFINITY,c),this._maxUploadRetryTime=c}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(c){qn("time",0,Number.POSITIVE_INFINITY,c),this._maxOperationRetryTime=c}_getAuthToken(){var c=this;return(0,el.Z)(function*(){if(c._overrideAuthToken)return c._overrideAuthToken;const a=c._authProvider.getImmediate({optional:!0});if(a){const p=yield a.getToken();if(null!==p)return p.accessToken}return null})()}_getAppCheckToken(){var c=this;return(0,el.Z)(function*(){const a=c._appCheckProvider.getImmediate({optional:!0});return a?(yield a.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(c=>c.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(c){return new Lo(this,c)}_makeRequest(c,a,p,I,k=!0){if(this._deleted)return new _(bc());{const ee=function np(f,c,a,p,I,k,ee=!0){const he=vo(f.urlParams),xe=f.url+he,Ye=Object.assign({},f.headers);return function ll(f,c){c&&(f["X-Firebase-GMPID"]=c)}(Ye,c),function qh(f,c){null!==c&&c.length>0&&(f.Authorization="Firebase "+c)}(Ye,a),function cl(f,c){f["X-Firebase-Storage-Version"]="webjs/"+(c??"AppManager")}(Ye,k),function Wh(f,c){null!==c&&(f["X-Firebase-AppCheck"]=c)}(Ye,p),new Gl(xe,f.method,Ye,f.body,f.successCodes,f.additionalRetryCodes,f.handler,f.errorHandler,f.timeout,f.progressCallback,I,ee)}(c,this._appId,p,I,a,this._firebaseVersion,k);return this._requests.add(ee),ee.getPromise().then(()=>this._requests.delete(ee),()=>this._requests.delete(ee)),ee}}makeRequestWithTokens(c,a){var p=this;return(0,el.Z)(function*(){const[I,k]=yield Promise.all([p._getAuthToken(),p._getAppCheckToken()]);return p._makeRequest(c,a,I,k).getPromise()})()}}const vp="@firebase/storage",Ep="storage";function Ip(f,c){return sf(f=(0,Oo.m9)(f),c)}function Hd(f=(0,tl.getApp)(),c){f=(0,Oo.m9)(f);const p=(0,tl._getProvider)(f,Ep).getImmediate({identifier:c}),I=(0,Oo.P0)("storage");return I&&lf(p,...I),p}function lf(f,c,a,p={}){!function jd(f,c,a,p={}){f.host=`${c}:${a}`,f._protocol="http";const{mockUserToken:I}=p;I&&(f._overrideAuthToken="string"==typeof I?I:(0,Oo.Sg)(I,f.app.options.projectId))}(f,c,a,p)}function m_(f,{instanceIdentifier:c}){const a=f.getProvider("app").getImmediate(),p=f.getProvider("auth-internal"),I=f.getProvider("app-check-internal");return new af(a,p,I,c,tl.SDK_VERSION)}!function Fu(){(0,tl._registerComponent)(new ep.wA(Ep,m_,"PUBLIC").setMultipleInstances(!0)),(0,tl.registerVersion)(vp,"0.12.5",""),(0,tl.registerVersion)(vp,"0.12.5","esm2017")}();class Gd{constructor(c,a,p){this._delegate=c,this.task=a,this.ref=p}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class __{constructor(c,a){this._delegate=c,this._ref=a,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Gd(this._delegate.snapshot,this,this._ref)}then(c,a){return this._delegate.then(p=>{if(c)return c(new Gd(p,this,this._ref))},a)}on(c,a,p,I){let k;return a&&(k="function"==typeof a?ee=>a(new Gd(ee,this,this._ref)):{next:a.next?ee=>a.next(new Gd(ee,this,this._ref)):void 0,complete:a.complete||void 0,error:a.error||void 0}),this._delegate.on(c,k,p||void 0,I||void 0)}}class bp{constructor(c,a){this._delegate=c,this._service=a}get prefixes(){return this._delegate.prefixes.map(c=>new Pa(c,this._service))}get items(){return this._delegate.items.map(c=>new Pa(c,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Pa{constructor(c,a){this._delegate=c,this.storage=a}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(c){const a=function zd(f,c){return Bg(f,c)}(this._delegate,c);return new Pa(a,this.storage)}get root(){return new Pa(this._delegate.root,this.storage)}get parent(){const c=this._delegate.parent;return null==c?null:new Pa(c,this.storage)}put(c,a){return this._throwIfRoot("put"),new __(function cf(f,c,a){return function f_(f,c,a){return f._throwIfRoot("uploadBytesResumable"),new tf(f,new Qa(c),a)}(f=(0,Oo.m9)(f),c,a)}(this._delegate,c,a),this)}putString(c,a=Zs.RAW,p){this._throwIfRoot("putString");const I=rp(a,c),k=Object.assign({},p);return null==k.contentType&&null!=I.contentType&&(k.contentType=I.contentType),new __(new tf(this._delegate,new Qa(I.data,!0),k),this)}listAll(){return function jv(f){return function Vg(f){const c={prefixes:[],items:[]};return pp(f,c).then(()=>c)}(f=(0,Oo.m9)(f))}(this._delegate).then(c=>new bp(c,this.storage))}list(c){return function zg(f,c){return gp(f=(0,Oo.m9)(f),c)}(this._delegate,c||void 0).then(a=>new bp(a,this.storage))}getMetadata(){return function $d(f){return function Ug(f){f._throwIfRoot("getMetadata");const c=i_(f.storage,f._location,Qh());return f.storage.makeRequestWithTokens(c,Fo)}(f=(0,Oo.m9)(f))}(this._delegate)}updateMetadata(c){return function yy(f,c){return function mp(f,c){f._throwIfRoot("updateMetadata");const a=function Ou(f,c,a,p){const k=yr(c.fullServerUrl(),f.host,f._protocol),he=Ru(a,p),Ye=f.maxOperationRetryTime,Rt=new ko(k,"PATCH",kd(f,p),Ye);return Rt.headers={"Content-Type":"application/json; charset=utf-8"},Rt.body=he,Rt.errorHandler=Cc(c),Rt}(f.storage,f._location,c,Qh());return f.storage.makeRequestWithTokens(a,Fo)}(f=(0,Oo.m9)(f),c)}(this._delegate,c)}getDownloadURL(){return function Hg(f){return _p(f=(0,Oo.m9)(f))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Gg(f){return function ku(f){f._throwIfRoot("deleteObject");const c=function Ng(f,c){const p=yr(c.fullServerUrl(),f.host,f._protocol),he=new ko(p,"DELETE",function ee(xe,Ye){},f.maxOperationRetryTime);return he.successCodes=[200,204],he.errorHandler=Cc(c),he}(f.storage,f._location);return f.storage.makeRequestWithTokens(c,Fo)}(f=(0,Oo.m9)(f))}(this._delegate)}_throwIfRoot(c){if(""===this._delegate._location.path)throw ol(c)}}class Tp{constructor(c,a){this.app=c,this._delegate=a}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(c){if(wc(c))throw sl("ref() expected a child path but got a URL, use refFromURL instead.");return new Pa(Ip(this._delegate,c),this)}refFromURL(c){if(!wc(c))throw sl("refFromURL() expected a full URL but got a child path, use ref() instead.");try{C.makeFromUrl(c,this._delegate.host)}catch{throw sl("refFromUrl() expected a valid full URL but got an invalid one.")}return new Pa(Ip(this._delegate,c),this)}setMaxUploadRetryTime(c){this._delegate.maxUploadRetryTime=c}setMaxOperationRetryTime(c){this._delegate.maxOperationRetryTime=c}useEmulator(c,a,p={}){lf(this._delegate,c,a,p)}}function wc(f){return/^[A-Za-z]+:\/\//.test(f)}function y_(f,{instanceIdentifier:c}){const a=f.getProvider("app-compat").getImmediate(),p=f.getProvider("storage").getImmediate({identifier:c});return new Tp(a,p)}!function qd(f){const c={TaskState:Io,TaskEvent:o_,StringFormat:Zs,Storage:Tp,Reference:Pa};f.INTERNAL.registerComponent(new ep.wA("storage-compat",y_,"PUBLIC").setServiceProps(c).setMultipleInstances(!0)),f.registerVersion("@firebase/storage-compat","0.3.8")}(Bl.Z);var v_=B(7142);function Zg(f){const c=function Cp(f){return new Or.y(c=>{const a=ee=>c.next(ee);a(f.snapshot);const k=f.on("state_changed",a);return f.then(ee=>{a(ee),c.complete()},ee=>{a(f.snapshot),(ee=>{c.error(ee)})(ee)}),function(){k()}}).pipe(fi(0))}(f);return{task:f,then:f.then.bind(f),catch:f.catch.bind(f),pause:f.pause.bind(f),cancel:f.cancel.bind(f),resume:f.resume.bind(f),snapshotChanges:()=>c,percentageChanges:()=>c.pipe((0,Tr.U)(a=>a.bytesTransferred/a.totalBytes*100))}}function wp(f){return{getDownloadURL:()=>(0,dr.of)(void 0).pipe(Fr.fc,(0,Xc.w)(()=>f.getDownloadURL()),Fr.iC),getMetadata:()=>(0,dr.of)(void 0).pipe(Fr.fc,(0,Xc.w)(()=>f.getMetadata()),Fr.iC),delete:()=>(0,Ko.D)(f.delete()),child:c=>wp(f.child(c)),updateMetadata:c=>(0,Ko.D)(f.updateMetadata(c)),put:(c,a)=>Zg(f.put(c,a)),putString:(c,a,p)=>Zg(f.putString(c,a,p)),list:c=>(0,Ko.D)(f.list(c)),listAll:()=>(0,Ko.D)(f.listAll())}}const Ey=new u.OlP("angularfire2.storageBucket"),Iy=new u.OlP("angularfire2.storage.maxUploadRetryTime"),Ap=new u.OlP("angularfire2.storage.maxOperationRetryTime"),Wd=new u.OlP("angularfire2.storage.use-emulator");let Ra=(()=>{class f{storage;constructor(a,p,I,k,ee,he,xe,Ye,Rt,sn){const Nn=(0,Yo.on)(a,ee,p);this.storage=(0,Yo.cc)(`${Nn.name}.storage.${I}`,"AngularFireStorage",Nn.name,()=>{const Pn=ee.runOutsideAngular(()=>Nn.storage(I||void 0)),In=Rt;return In&&Pn.useEmulator(...In),xe&&Pn.setMaxUploadRetryTime(xe),Ye&&Pn.setMaxOperationRetryTime(Ye),Pn},[xe,Ye])}ref(a){return wp(this.storage.ref(a))}refFromURL(a){return wp(this.storage.refFromURL(a))}upload(a,p,I){return wp(this.storage.ref(a)).put(p,I)}static \u0275fac=function(p){return new(p||f)(u.LFG(Yo.Dh),u.LFG(Yo.xv,8),u.LFG(Ey,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Fr.HU),u.LFG(Iy,8),u.LFG(Ap,8),u.LFG(Wd,8),u.LFG(Fr.Rf,8))};static \u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"any"})}return f})(),Kg=(()=>{class f{static \u0275fac=function(p){return new(p||f)};static \u0275mod=u.oAB({type:f});static \u0275inj=u.cJS({})}return f})(),Dp=(()=>{class f{constructor(){v_.Z.registerVersion("angularfire",Fr.q4.full,"gcs-compat")}static \u0275fac=function(p){return new(p||f)};static \u0275mod=u.oAB({type:f});static \u0275inj=u.cJS({providers:[Ra],imports:[Kg]})}return f})(),Kd=(()=>{class f{constructor(a){this.storage=a}uploadImage(a,p){const I=`${p}/${a.name}`,k=this.storage.ref(I),ee=this.storage.upload(I,a);return new Or.y(he=>{ee.snapshotChanges().pipe((0,_o.x)(()=>{k.getDownloadURL().subscribe(xe=>{he.next(xe),he.complete()})})).subscribe()})}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(Ra))};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();function Yg(f,c){if(1&f&&(u.TgZ(0,"option",26),u._uU(1),u.qZA()),2&f){const a=c.$implicit;u.Q6J("value",a),u.xp6(1),u.Oqu(a)}}let Qg=(()=>{class f{constructor(a,p,I,k){this.fb=a,this.servicesService=p,this.imageUploadService=I,this.router=k,this.serviceTypes=[],this.selectedFile=null,this.serviceObj=new Au,this.serviceForm=this.fb.group({Name:["",vn.kI.required],Email:["",[vn.kI.email]],Phone_Number:[""],Website:[""],Facebook:[""],Instagram:[""],Image:[""],Description:[""],Date_Created:[""],Community_Sponsor:[""],Service_Type:["",vn.kI.required]})}ngOnInit(){this.fetchServiceTypes()}onFileSelected(a){this.selectedFile=a.target.files[0]}fetchServiceTypes(){this.servicesService.getAllServiceTypes().subscribe(a=>{this.serviceTypes=a})}onSubmit(){this.serviceForm.valid&&(this.serviceObj.Name=this.serviceForm.value.Name,this.serviceObj.Phone_Number=this.serviceForm.value.Phone_Number,this.serviceObj.Service_Type=this.serviceForm.value.Service_Type,this.serviceObj.Community_Sponsor=!1,this.serviceObj.Email=this.serviceForm.value.Email,this.serviceObj.Website=this.serviceForm.value.Website,this.serviceObj.Facebook=this.serviceForm.value.Facebook,this.serviceObj.Instagram=this.serviceForm.value.Instagram,this.serviceObj.Description=this.serviceForm.value.Description,this.serviceObj.Date_Created=this.serviceForm.value.Date_Created,this.serviceObj.Image=this.serviceForm.value.Image,this.serviceObj.Approved=!0,this.selectedFile?this.imageUploadService.uploadImage(this.selectedFile,"serviceImages").subscribe(a=>{this.serviceObj.Image=a,console.log(a),this.saveService()}):this.saveService())}saveService(){const a={id:this.serviceObj.id,Name:this.serviceObj.Name,Phone_Number:this.serviceObj.Phone_Number,Service_Type:this.serviceObj.Service_Type,Community_Sponsor:!1,Email:this.serviceObj.Email,Website:this.serviceObj.Website,Facebook:this.serviceObj.Facebook,Instagram:this.serviceObj.Instagram,Description:this.serviceObj.Description,Date_Created:(new Date).getDate.toString(),Date_Updated:(new Date).getDate.toString(),Image:this.serviceObj.Image,Approved:!1,OpenHour:"",CloseHour:""};this.servicesService.addService(a).subscribe(p=>{console.log("Service added successfully with ID:",p?.id),this.serviceForm.reset(),this.router.navigate(["/services",p?.id])})}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(vn.qu),u.Y36(Wa.r),u.Y36(Kd),u.Y36(Ti.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-add-service"]],decls:53,vars:3,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","Name",1,"required"],["id","Name","placeholder","Ion Dumitrescu","formControlName","Name","required",""],["for","Email"],["id","Email","type","Email","placeholder","info@website.com","formControlName","Email"],["for","Phone_Number"],["id","Phone_Number","type","text","placeholder","(425) 444-5555","formControlName","Phone_Number"],["for","Website"],["id","Website","type","text","placeholder","https://www.website.com","formControlName","Website"],["for","Facebook"],["id","Facebook","type","text","placeholder","https://www.facebook.com/yourname","formControlName","Facebook"],["for","Instagram"],["id","Instagram","type","text","placeholder","instaHandle..","formControlName","Instagram"],["for","Description",1,"required"],["id","Description","formControlName","Description"],["for","Service_Type",1,"required"],["id","Service_Type","formControlName","Service_Type","required",""],[3,"value",4,"ngFor","ngForOf"],["for","Image"],["type","file","formControlName","Image",3,"change"],["type","submit",3,"disabled"],[3,"value"]],template:function(p,I){1&p&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._uU(3,"Lista de Servicii"),u.qZA()(),u.TgZ(4,"div",2)(5,"h2"),u._uU(6,"Adaugati serviciile oferite pentru membrii comunit\u0103\u021bii"),u.qZA(),u._UZ(7,"p"),u.qZA()(),u.TgZ(8,"div",3)(9,"h2"),u._uU(10," Serviciile ad\u0103ugate prin aceast\u0103 pagin\u0103 sunt supuse aprob\u0103rii administratorului \xeenainte de a fi afi\u0219ate \xeen list\u0103."),u.qZA(),u.TgZ(11,"h3"),u._uU(12,"V\u0103 rug\u0103m s\u0103 introduce\u021bi cel pu\u021bin o metod\u0103 de contact."),u.qZA(),u.TgZ(13,"form",4),u.NdJ("ngSubmit",function(){return I.onSubmit()}),u.TgZ(14,"div",5)(15,"label",6),u._uU(16,"Nume:"),u.qZA(),u._UZ(17,"input",7),u.qZA(),u.TgZ(18,"div",5)(19,"label",8),u._uU(20,"Adresa Email:"),u.qZA(),u._UZ(21,"input",9),u.qZA(),u.TgZ(22,"div",5)(23,"label",10),u._uU(24,"Numar de telefon:"),u.qZA(),u._UZ(25,"input",11),u.qZA(),u.TgZ(26,"div",5)(27,"label",12),u._uU(28,"Pagina Web:"),u.qZA(),u._UZ(29,"input",13),u.qZA(),u.TgZ(30,"div",5)(31,"label",14),u._uU(32,"Pagina Facebook:"),u.qZA(),u._UZ(33,"input",15),u.qZA(),u.TgZ(34,"div",5)(35,"label",16),u._uU(36,"Instagram:(doar numele contului)"),u.qZA(),u._UZ(37,"input",17),u.qZA(),u.TgZ(38,"div",5)(39,"label",18),u._uU(40,"Descriere a serviciile oferite:"),u.qZA(),u._UZ(41,"textarea",19),u.qZA(),u.TgZ(42,"div",5)(43,"label",20),u._uU(44,"Categoria de serviciului:"),u.qZA(),u.TgZ(45,"select",21),u.YNc(46,Yg,2,2,"option",22),u.qZA()(),u.TgZ(47,"div",5)(48,"label",23),u._uU(49,"Imagine:"),u.qZA(),u.TgZ(50,"input",24),u.NdJ("change",function(ee){return I.onFileSelected(ee)}),u.qZA()(),u.TgZ(51,"button",25),u._uU(52,"Add Service"),u.qZA()()()),2&p&&(u.xp6(13),u.Q6J("formGroup",I.serviceForm),u.xp6(33),u.Q6J("ngForOf",I.serviceTypes),u.xp6(5),u.Q6J("disabled",I.serviceForm.invalid))},dependencies:[H.sg,vn._Y,vn.YN,vn.Kr,vn.Fj,vn.EJ,vn.JJ,vn.JL,vn.Q7,vn.sg,vn.u],styles:['.hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.section-header[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;background-color:#f0f0f0}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:10px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.form-container[_ngcontent-%COMP%]{max-width:600px;margin:50px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;color:#fff;background-color:#007bff;border:none;border-radius:4px;cursor:pointer}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}']})}return f})(),by=(()=>{class f{constructor(a,p){this.fb=a,this.eventsService=p,this.eventForm=this.fb.group({Approved:[""],Community_Sponsor:[""],Contact:[""],Description:["",vn.kI.required],Event_date:["",vn.kI.required],Location:["",vn.kI.required],Name:["",vn.kI.required],Phone_Number:[""],Poster_Image:["",vn.kI.required],Price:["",vn.kI.required],Website:[""]})}ngOnInit(){}onSubmit(){this.eventForm.valid&&this.eventsService.addEvent(this.eventForm.value).then(()=>{console.log("Event added successfully"),this.eventForm.reset()}).catch(p=>{console.error("Error adding event: ",p)})}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(vn.qu),u.Y36(pa.n))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-add-event"]],decls:40,vars:2,consts:[[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","Name",1,"required"],["id","Name","formControlName","Name","required",""],["for","Contact"],["id","Contact","formControlName","Contact","required",""],["for","Poster_Image",1,"required"],["id","Poster_Image","formControlName","Poster_Image","required",""],["for","Phone_Number"],["id","Phone_Number","formControlName","Phone_Number"],["for","Event_date",1,"required"],["id","Event_date","type","date","formControlName","Event_date","required",""],["for","Location",1,"required"],["id","Location","formControlName","Location","required",""],["for","Description",1,"required"],["id","Description","formControlName","Description","required",""],["for","Price",1,"required"],["id","Price","formControlName","Price","required",""],["for","Website"],["id","Website","formControlName","Website"],["type","submit",3,"disabled"]],template:function(p,I){1&p&&(u.TgZ(0,"div",0)(1,"form",1),u.NdJ("ngSubmit",function(){return I.onSubmit()}),u.TgZ(2,"div",2)(3,"label",3),u._uU(4,"Titlu:"),u.qZA(),u._UZ(5,"input",4),u.qZA(),u.TgZ(6,"div",2)(7,"label",5),u._uU(8,"Persoana de contact:"),u.qZA(),u._UZ(9,"input",6),u.qZA(),u.TgZ(10,"div",2)(11,"label",7),u._uU(12,"Imagine poster:"),u.qZA(),u._UZ(13,"input",8),u.qZA(),u.TgZ(14,"div",2)(15,"label",9),u._uU(16,"Numar de Telefon:"),u.qZA(),u._UZ(17,"input",10),u.qZA(),u.TgZ(18,"div",2)(19,"label",11),u._uU(20,"Data Evenimentului:"),u.qZA(),u._UZ(21,"input",12),u.qZA(),u.TgZ(22,"div",2)(23,"label",13),u._uU(24,"Locatie:"),u.qZA(),u._UZ(25,"input",14),u.qZA(),u.TgZ(26,"div",2)(27,"label",15),u._uU(28,"Descriere:"),u.qZA(),u._UZ(29,"textarea",16),u.qZA(),u.TgZ(30,"div",2)(31,"label",17),u._uU(32,"Pret:"),u.qZA(),u._UZ(33,"input",18),u.qZA(),u.TgZ(34,"div",2)(35,"label",19),u._uU(36,"Website:"),u.qZA(),u._UZ(37,"input",20),u.qZA(),u.TgZ(38,"button",21),u._uU(39,"Adauga Eveniment"),u.qZA()()()),2&p&&(u.xp6(1),u.Q6J("formGroup",I.eventForm),u.xp6(37),u.Q6J("disabled",I.eventForm.invalid))},dependencies:[vn._Y,vn.Fj,vn.JJ,vn.JL,vn.Q7,vn.sg,vn.u],styles:['.form-container[_ngcontent-%COMP%]{max-width:600px;margin:100px auto 0;padding:50px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;color:#fff;border:none;border-radius:4px;cursor:pointer}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}']})}return f})();var Dc=B(7104);function Sp(f,c){if(1&f&&(u.TgZ(0,"option",28),u._uU(1),u.qZA()),2&f){const a=c.$implicit;u.Q6J("value",a),u.xp6(1),u.Oqu(a)}}let E_=(()=>{class f{constructor(a,p,I,k,ee){this.fb=a,this.offersService=p,this.firestore=I,this.imageUploadService=k,this.router=ee,this.offerTypes=[],this.offer={Title:"",Company_Name:"",Contact_Name:"",Phone_Number:"",Email:"",Description:"",Location:"",Website:"",Filled:!1,Date_Created:(new Date).toISOString(),Date_Updated:"",Price:"",Image1:"",Image2:"",Image3:"",Image4:"",Image5:"",OfferType:"",Facebook:"",Instagram:"",id:"",Community_Sponsor:!1,Approved:!1,ApprovedDate:""},this.selectedFiles=null,this.offerForm=this.fb.group({Title:["",vn.kI.required],Company_Name:[""],Contact_Name:["",vn.kI.required],Phone_Number:["",vn.kI.required],Email:["",[vn.kI.email]],Location:["",vn.kI.required],Website:[""],Description:["",vn.kI.required],Price:[""],Image1:[""],Image2:[""],Image3:[""],Image4:[""],Image5:[""],Filled:!1,Date_Created:[""],ApprovedDate:[""],OfferType:[""],Community_Sponsor:!1})}onFileSelected(a){this.selectedFiles=a.target.files}ngOnInit(){this.offersService.getAllOfferTypes().subscribe(a=>{this.offerTypes=a})}onSubmit(a){var p=this;if(console.log(a),this.selectedFiles&&this.selectedFiles.length>0){const I=[];for(let k=0;k<this.selectedFiles.length;k++){const he=this.imageUploadService.uploadImage(this.selectedFiles[k],"offers");I.push(he)}(0,ro.D)(I).pipe((0,Tr.U)(k=>{this.offer.Image1=k[0]||"",this.offer.Image2=k[1]||"",this.offer.Image3=k[2]||"",this.offer.Image4=k[3]||"",this.offer.Image5=k[4]||""}),(0,Xc.w)((0,el.Z)(function*(){return p.saveOffer()}))).subscribe()}else this.saveOffer().subscribe()}saveOffer(){return(0,Ko.D)(this.firestore.collection("Offers").add(this.offer).then(a=>{console.log("Offer added with ID:",a.id),this.router.navigate(["/offers",a.id])}).catch(a=>{console.error("Error adding offer:",a)}))}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(vn.qu),u.Y36(Ll.b),u.Y36(Dc.ST),u.Y36(Kd),u.Y36(Ti.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-add-offers"]],decls:50,vars:11,consts:[[1,"form-container"],[3,"ngSubmit"],["offerForm","ngForm"],[1,"form-group"],["for","Title",1,"required"],["type","text","name","Title","required","","placeholder","Title",3,"ngModel","ngModelChange"],["for","Company_Name"],["type","text","name","Company_Name","required","","placeholder","Company Name",3,"ngModel","ngModelChange"],["for","Contact_Name",1,"required"],["type","text","name","Contact_Name","required","","placeholder","Contact Name",3,"ngModel","ngModelChange"],["for","Phone_Number",1,"required"],["type","text","name","Phone_Number","required","","placeholder","Phone Number",3,"ngModel","ngModelChange"],["for","Email"],["type","email","name","Email","required","","placeholder","Email",3,"ngModel","ngModelChange"],["for","Description",1,"required"],["name","Description","required","","placeholder","Description",3,"ngModel","ngModelChange"],["for","Price"],["type","text","name","Price","required","","placeholder","Price",3,"ngModel","ngModelChange"],["for","Location",1,"required"],["type","text","name","Location","required","","placeholder","Location",3,"ngModel","ngModelChange"],["for","Website"],["type","url","name","Website","placeholder","Website",3,"ngModel","ngModelChange"],["for","OfferType"],["id","OfferType","name","OfferType","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","Images"],["type","file","id","Images","multiple","","accept","image/*",1,"form-control",3,"change"],["type","submit"],[3,"value"]],template:function(p,I){if(1&p){const k=u.EpF();u.TgZ(0,"div",0)(1,"form",1,2),u.NdJ("ngSubmit",function(){u.CHM(k);const he=u.MAs(2);return u.KtG(I.onSubmit(he))}),u.TgZ(3,"div",3)(4,"label",4),u._uU(5,"Titlu:"),u.qZA(),u.TgZ(6,"input",5),u.NdJ("ngModelChange",function(he){return I.offer.Title=he}),u.qZA()(),u.TgZ(7,"div",3)(8,"label",6),u._uU(9,"Numele Companiei:"),u.qZA(),u.TgZ(10,"input",7),u.NdJ("ngModelChange",function(he){return I.offer.Company_Name=he}),u.qZA()(),u.TgZ(11,"div",3)(12,"label",8),u._uU(13,"Numele persoanei de contact:"),u.qZA(),u.TgZ(14,"input",9),u.NdJ("ngModelChange",function(he){return I.offer.Contact_Name=he}),u.qZA()(),u.TgZ(15,"div",3)(16,"label",10),u._uU(17,"Numar de telefon:"),u.qZA(),u.TgZ(18,"input",11),u.NdJ("ngModelChange",function(he){return I.offer.Phone_Number=he}),u.qZA()(),u.TgZ(19,"div",3)(20,"label",12),u._uU(21,"Adresa de Email:"),u.qZA(),u.TgZ(22,"input",13),u.NdJ("ngModelChange",function(he){return I.offer.Email=he}),u.qZA()(),u.TgZ(23,"div",3)(24,"label",14),u._uU(25,"Descriere:"),u.qZA(),u.TgZ(26,"textarea",15),u.NdJ("ngModelChange",function(he){return I.offer.Description=he}),u.qZA()(),u.TgZ(27,"div",3)(28,"label",16),u._uU(29,"Pret:"),u.qZA(),u.TgZ(30,"input",17),u.NdJ("ngModelChange",function(he){return I.offer.Price=he}),u.qZA()(),u.TgZ(31,"div",3)(32,"label",18),u._uU(33,"Locatie:"),u.qZA(),u.TgZ(34,"input",19),u.NdJ("ngModelChange",function(he){return I.offer.Location=he}),u.qZA()(),u.TgZ(35,"div",3)(36,"label",20),u._uU(37,"Website:"),u.qZA(),u.TgZ(38,"input",21),u.NdJ("ngModelChange",function(he){return I.offer.Website=he}),u.qZA()(),u.TgZ(39,"div",3)(40,"label",22),u._uU(41,"Tip de oferta"),u.qZA(),u.TgZ(42,"select",23),u.NdJ("ngModelChange",function(he){return I.offer.OfferType=he}),u.YNc(43,Sp,2,2,"option",24),u.qZA()(),u.TgZ(44,"div",3)(45,"label",25),u._uU(46,"Images"),u.qZA(),u.TgZ(47,"input",26),u.NdJ("change",function(he){return I.onFileSelected(he)}),u.qZA()(),u.TgZ(48,"button",27),u._uU(49,"Adauga Oferta"),u.qZA()()()}2&p&&(u.xp6(6),u.Q6J("ngModel",I.offer.Title),u.xp6(4),u.Q6J("ngModel",I.offer.Company_Name),u.xp6(4),u.Q6J("ngModel",I.offer.Contact_Name),u.xp6(4),u.Q6J("ngModel",I.offer.Phone_Number),u.xp6(4),u.Q6J("ngModel",I.offer.Email),u.xp6(4),u.Q6J("ngModel",I.offer.Description),u.xp6(4),u.Q6J("ngModel",I.offer.Price),u.xp6(4),u.Q6J("ngModel",I.offer.Location),u.xp6(4),u.Q6J("ngModel",I.offer.Website),u.xp6(4),u.Q6J("ngModel",I.offer.OfferType),u.xp6(1),u.Q6J("ngForOf",I.offerTypes))},dependencies:[H.sg,vn._Y,vn.YN,vn.Kr,vn.Fj,vn.EJ,vn.JJ,vn.JL,vn.Q7,vn.On,vn.F],styles:['.form-container[_ngcontent-%COMP%]{max-width:600px;margin:100px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;color:#fff;border:none;border-radius:4px;cursor:pointer}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}']})}return f})();function Ty(f,c){if(1&f&&(u.TgZ(0,"option",31),u._uU(1),u.qZA()),2&f){const a=c.$implicit;u.Q6J("value",a),u.xp6(1),u.Oqu(a)}}let Lu=(()=>{class f{constructor(a,p,I,k,ee){this.fb=a,this.route=p,this.router=I,this.servicesService=k,this.imageUploadService=ee,this.serviceId=null,this.serviceTypes=[],this.selectedFile=null,this.serviceObj=new Au,this.oldImage=null,this.serviceForm=this.fb.group({Name:["",vn.kI.required],Email:["",vn.kI.email],Phone_Number:["",vn.kI.required],Website:[""],Facebook:[""],Instagram:[""],Description:["",vn.kI.required],Service_Type:["",vn.kI.required],Image:[""],Date_Created:[""],Date_Updated:[""],Approved:[""]})}onFileSelected(a){this.selectedFile=a.target.files[0]}ngOnInit(){this.serviceId=this.route.snapshot.paramMap.get("id"),this.servicesService.getServiceById(this.serviceId).subscribe(a=>{this.serviceForm.patchValue({Id:this.serviceId,Name:a?.Name,Email:a?.Email?a.Email:"",Phone_Number:a?.Phone_Number?a.Phone_Number:"",Service_Type:a?.Service_Type,Website:a?.Website?a.Website:"",Facebook:a?.Facebook?a?.Facebook:"",Instagram:a?.Instagram?a?.Instagram:"",Description:a?.Description,Date_Created:a?.Date_Created,Date_Updated:a?.Date_Updated,Approved:!0}),a?.Image&&(this.oldImage=a?.Image)}),this.fetchServiceTypes()}fetchServiceTypes(){this.servicesService.getAllServiceTypes().subscribe(a=>{this.serviceTypes=a})}onSubmit(){this.serviceForm.valid&&(this.serviceObj.id=this.serviceId?this.serviceId:"0",this.serviceObj.Name=this.serviceForm.value.Name,this.serviceObj.Phone_Number=this.serviceForm.value.Phone_Number,this.serviceObj.Service_Type=this.serviceForm.value.Service_Type,this.serviceObj.Community_Sponsor=!1,this.serviceObj.Email=this.serviceForm.value.Email,this.serviceObj.Website=this.serviceForm.value.Website,this.serviceObj.Facebook=this.serviceForm.value.Facebook,this.serviceObj.Instagram=this.serviceForm.value.Instagram,this.serviceObj.Description=this.serviceForm.value.Description,this.serviceObj.Date_Created=this.serviceForm.value.Date_Created,this.serviceObj.Date_Updated=this.serviceForm.value.Date_Updated,this.serviceObj.Approved=this.serviceForm.value.Approved,this.serviceObj.Image=this.serviceForm.value.Image,this.selectedFile?(console.log(this.selectedFile),this.imageUploadService.uploadImage(this.selectedFile,"serviceImages").subscribe(a=>{this.serviceObj.Image=a,this.saveService()})):(this.oldImage&&(this.serviceObj.Image=this.oldImage),this.saveService()))}saveService(){const a={id:this.serviceObj.id,Name:this.serviceObj.Name,Phone_Number:this.serviceObj.Phone_Number,Service_Type:this.serviceObj.Service_Type,Community_Sponsor:!1,Email:this.serviceObj.Email,Website:this.serviceObj.Website,Facebook:this.serviceObj.Facebook,Instagram:this.serviceObj.Instagram,Description:this.serviceObj.Description,Date_Created:this.serviceObj.Date_Created,Date_Updated:(new Date).getDate.toString(),Image:this.serviceObj.Image,Approved:!1,OpenHour:"",CloseHour:""};console.log(a);let p=this.route.snapshot.paramMap.get("id");this.servicesService.updateService(p,a).subscribe(I=>{console.log("Service updated successfully  ID:",I?.id),this.serviceForm.reset(),this.router.navigate(["/services",I?.id])})}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(vn.qu),u.Y36(Ti.gz),u.Y36(Ti.F0),u.Y36(Wa.r),u.Y36(Kd))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-edit-services"]],decls:55,vars:4,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","Name",1,"required"],["id","Name","placeholder","Ion Dumitrescu","formControlName","Name","required",""],["for","Email"],["id","Email","placeholder","info@website.com","type","Email","formControlName","Email"],["for","Phone_Number"],["id","Phone_Number","laceholder","(425) 444-5555","formControlName","Phone_Number"],["for","Website"],["id","Website","placeholder","https://www.website.com","formControlName","Website"],["for","Facebook"],["id","Facebook","placeholder","https://www.facebook.com/yourname","formControlName","Facebook"],["for","Instagram"],["id","Instagram","type","text","placeholder","instaHandle..","formControlName","Instagram"],["for","Description",1,"required"],["id","Description","formControlName","Description"],["for","Image"],[1,"service-card-image-container"],[1,"service-card-image",3,"src"],["type","file","formControlName","Image",3,"change"],["for","Service_Type",1,"required"],["id","Service_Type","formControlName","Service_Type","required",""],[3,"value",4,"ngFor","ngForOf"],["type","submit",3,"disabled"],[2,"display","none"],["for","Approved"],["id","Approved","formControlName","Approved"],[3,"value"]],template:function(p,I){1&p&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._uU(3,"Lista de Servicii"),u.qZA()(),u.TgZ(4,"div",2)(5,"h2"),u._uU(6,"Adaugati serviciile oferite pentru membrii comunit\u0103\u021bii"),u.qZA()()(),u.TgZ(7,"div",3)(8,"form",4),u.NdJ("ngSubmit",function(){return I.onSubmit()}),u.TgZ(9,"div",5)(10,"label",6),u._uU(11,"Nume:"),u.qZA(),u._UZ(12,"input",7),u.qZA(),u.TgZ(13,"div",5)(14,"label",8),u._uU(15,"Adresa Email:"),u.qZA(),u._UZ(16,"input",9),u.qZA(),u.TgZ(17,"div",5)(18,"label",10),u._uU(19,"Numar de telefon:"),u.qZA(),u._UZ(20,"input",11),u.qZA(),u.TgZ(21,"div",5)(22,"label",12),u._uU(23,"Pagina Web:"),u.qZA(),u._UZ(24,"input",13),u.qZA(),u.TgZ(25,"div",5)(26,"label",14),u._uU(27,"Pagina Facebook:"),u.qZA(),u._UZ(28,"input",15),u.qZA(),u.TgZ(29,"div",5)(30,"label",16),u._uU(31,"Instagram: (doar numele contului)"),u.qZA(),u._UZ(32,"input",17),u.qZA(),u.TgZ(33,"div",5)(34,"label",18),u._uU(35,"Descriere a serviciile oferite:"),u.qZA(),u._UZ(36,"textarea",19),u.qZA(),u.TgZ(37,"div",5)(38,"label",20),u._uU(39,"Imagine:"),u.qZA(),u.TgZ(40,"div",21),u._UZ(41,"img",22),u.qZA(),u.TgZ(42,"input",23),u.NdJ("change",function(ee){return I.onFileSelected(ee)}),u.qZA()(),u.TgZ(43,"div",5)(44,"label",24),u._uU(45,"Categoria de serviciului:"),u.qZA(),u.TgZ(46,"select",25),u.YNc(47,Ty,2,2,"option",26),u.qZA()(),u.TgZ(48,"button",27),u._uU(49,"Salvati Serviciu"),u.qZA(),u.TgZ(50,"div",28)(51,"div")(52,"label",29),u._uU(53,"Approved:"),u.qZA(),u._UZ(54,"input",30),u.qZA()()()()),2&p&&(u.xp6(8),u.Q6J("formGroup",I.serviceForm),u.xp6(33),u.Q6J("src",I.oldImage,u.LSH),u.xp6(6),u.Q6J("ngForOf",I.serviceTypes),u.xp6(1),u.Q6J("disabled",I.serviceForm.invalid))},dependencies:[H.sg,vn._Y,vn.YN,vn.Kr,vn.Fj,vn.EJ,vn.JJ,vn.JL,vn.Q7,vn.sg,vn.u],styles:['.hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.form-container[_ngcontent-%COMP%]{max-width:600px;margin:50px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:10px 20px;font-size:16px;border-radius:5px;cursor:pointer;margin:10px 0;transition:background-color .3s ease}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}button[_ngcontent-%COMP%]:hover, select[_ngcontent-%COMP%]:hover{background-color:#0056b3}button[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #007bff40}.service-card-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.service-card-image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover;border:2px solid #ddd}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}']})}return f})();var Jg=B(2380);function Cy(f,c){if(1&f&&(u.TgZ(0,"div",5),u._UZ(1,"img",6),u.qZA()),2&f){const a=c.$implicit;u.xp6(1),u.Q6J("src",a,u.LSH)}}let wy=(()=>{class f{constructor(a,p,I){this.route=a,this.router=p,this.offerService=I,this.images=[]}ngOnInit(){const a=this.route.snapshot.paramMap.get("id");a&&this.offerService.getOfferById(a).subscribe(p=>{this.offer=p,this.images=[p.Image1,p.Image2,p.Image3,p.Image4,p.Image5].filter(I=>!!I)})}goBack(){this.router.navigate(["/offers"])}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(Ti.gz),u.Y36(Ti.F0),u.Y36(Ll.b))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-offer-detail"]],decls:45,vars:15,consts:[[1,"offer-detail"],[1,"carousel"],["class","image-container",4,"ngFor","ngForOf"],["target","_blank",3,"href"],[3,"click"],[1,"image-container"],["alt","Offer Image",3,"src"]],template:function(p,I){1&p&&(u.TgZ(0,"div",0)(1,"h2"),u._uU(2),u.qZA(),u.TgZ(3,"div",1),u.YNc(4,Cy,2,1,"div",2),u.qZA(),u.TgZ(5,"p")(6,"strong"),u._uU(7,"Company Name:"),u.qZA(),u._uU(8),u.qZA(),u.TgZ(9,"p")(10,"strong"),u._uU(11,"Contact Name:"),u.qZA(),u._uU(12),u.qZA(),u.TgZ(13,"p")(14,"strong"),u._uU(15,"Phone Number:"),u.qZA(),u._uU(16),u.qZA(),u.TgZ(17,"p")(18,"strong"),u._uU(19,"Email:"),u.qZA(),u._uU(20),u.qZA(),u.TgZ(21,"p")(22,"strong"),u._uU(23,"Description:"),u.qZA(),u._uU(24),u.qZA(),u.TgZ(25,"p")(26,"strong"),u._uU(27,"Location:"),u.qZA(),u._uU(28),u.qZA(),u.TgZ(29,"p")(30,"strong"),u._uU(31,"Website:"),u.qZA(),u.TgZ(32,"a",3),u._uU(33),u.qZA()(),u.TgZ(34,"p")(35,"strong"),u._uU(36,"Offer Type:"),u.qZA(),u._uU(37),u.qZA(),u.TgZ(38,"p")(39,"strong"),u._uU(40,"Date Created:"),u.qZA(),u._uU(41),u.ALo(42,"date"),u.qZA(),u.TgZ(43,"button",4),u.NdJ("click",function(){return I.goBack()}),u._uU(44,"Back to Offers"),u.qZA()()),2&p&&(u.xp6(2),u.Oqu(null==I.offer?null:I.offer.Title),u.xp6(2),u.Q6J("ngForOf",I.images),u.xp6(4),u.hij(" ",null==I.offer?null:I.offer.Company_Name,""),u.xp6(4),u.hij(" ",null==I.offer?null:I.offer.Contact_Name,""),u.xp6(4),u.hij(" ",null==I.offer?null:I.offer.Phone_Number,""),u.xp6(4),u.hij(" ",null==I.offer?null:I.offer.Email,""),u.xp6(4),u.hij(" ",null==I.offer?null:I.offer.Description,""),u.xp6(4),u.hij(" ",null==I.offer?null:I.offer.Location,""),u.xp6(4),u.Q6J("href",null==I.offer?null:I.offer.Website,u.LSH),u.xp6(1),u.Oqu(null==I.offer?null:I.offer.Website),u.xp6(4),u.hij(" ",null==I.offer?null:I.offer.OfferType,""),u.xp6(4),u.hij(" ",u.xi3(42,12,null==I.offer?null:I.offer.Date_Created,"shortDate"),""))},dependencies:[H.sg,H.uU],styles:[".offer-detail[_ngcontent-%COMP%]{max-width:600px;margin:100px auto auto;padding:16px;border:1px solid #ddd;border-radius:4px;box-shadow:0 2px 4px #0000001a}.carousel[_ngcontent-%COMP%]{display:flex;overflow:hidden;max-height:300px;margin-bottom:16px}.image-container[_ngcontent-%COMP%]{flex:0 0 400px;overflow:hidden;position:relative}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;max-height:300px;object-fit:cover}button[_ngcontent-%COMP%]{display:block;margin:16px auto;padding:8px 16px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return f})();var I_=B(4626);function Xg(f,c){if(1&f){const a=u.EpF();u.TgZ(0,"button",12),u.NdJ("click",function(){u.CHM(a);const I=u.oxw();return u.KtG(I.navigateToEditService(I.service.id))}),u._uU(1,"Edit"),u.qZA()}}let Mp=(()=>{class f{constructor(a,p,I,k){this.route=a,this.servicesService=p,this.router=I,this.authService=k,this.service=new Au,this.serviceId=null,this.isLoggedIn$=this.authService.isLoggedIn()}ngOnInit(){this.serviceId=this.route.snapshot.paramMap.get("id"),this.servicesService.getServiceById(this.serviceId).subscribe(a=>{a&&(this.service.Community_Sponsor=a?.Community_Sponsor,this.service.Name=a.Name,this.service.Date_Created=a.Date_Created,this.service.Description=a.Description,this.service.Email=a.Email,this.service.Facebook=a.Facebook,this.service.Instagram=a.Instagram,this.service.Phone_Number=a.Phone_Number,this.service.Service_Type=a.Service_Type,this.service.Website=vc(a.Website),this.service.Image=a.Image,this.serviceId&&(this.service.id=this.serviceId),console.log("Image",a?.Image),(""==a.Image||void 0===a.Image)&&(this.service.Image="https://firebasestorage.googleapis.com/v0/b/romaniinseattle.appspot.com/o/serviceImages%2FdafaultImage.jpg?alt=media&token=3b0787df-12f0-444a-a426-013843534f1e"))})}goBack(){this.router.navigate(["/services"])}navigateToEditService(a){this.router.navigate(["/edit-service",a])}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(Ti.gz),u.Y36(Wa.r),u.Y36(Ti.F0),u.Y36(I_.e))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-service-detail"]],decls:61,vars:22,consts:[[1,"service-details-container"],[1,"service-header"],[1,"forDebug"],[1,"service-content"],[1,"service-image"],[3,"src","alt"],[1,"service-details"],[1,"service-details-label"],["target","_blank",3,"href"],[1,"service-actions"],["class","editButton",3,"click",4,"ngIf"],[3,"click"],[1,"editButton",3,"click"]],template:function(p,I){1&p&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1")(3,"strong"),u._uU(4,"Name:"),u.qZA(),u._uU(5),u.qZA(),u.TgZ(6,"div",2)(7,"h3")(8,"strong"),u._uU(9,"Service Id:"),u.qZA(),u._uU(10),u.qZA()()(),u.TgZ(11,"div",3)(12,"div",4),u._UZ(13,"img",5),u.qZA(),u.TgZ(14,"div",6)(15,"div")(16,"label",7),u._uU(17,"Tip Serviciu:"),u.qZA(),u._uU(18),u.qZA(),u.TgZ(19,"div")(20,"label",7),u._uU(21,"Nr Telefon:"),u.qZA(),u._uU(22),u.qZA(),u.TgZ(23,"div")(24,"label",7),u._uU(25,"Email:"),u.qZA(),u._uU(26),u.qZA(),u.TgZ(27,"div")(28,"label",7),u._uU(29,"Website:"),u.qZA(),u.TgZ(30,"a",8),u._uU(31),u.qZA()(),u.TgZ(32,"div")(33,"label",7),u._uU(34,"Facebook:"),u.qZA(),u.TgZ(35,"a",8),u._uU(36),u.qZA()(),u.TgZ(37,"div")(38,"label",7),u._uU(39,"Instagram:"),u.qZA(),u.TgZ(40,"a",8),u._uU(41),u.qZA()(),u.TgZ(42,"div")(43,"label",7),u._uU(44,"Sponsor:"),u.qZA(),u._uU(45),u.qZA(),u.TgZ(46,"div")(47,"label",7),u._uU(48,"Date Created:"),u.qZA(),u._uU(49),u.ALo(50,"date"),u.qZA(),u.TgZ(51,"div")(52,"label",7),u._uU(53,"Description:"),u.qZA(),u._uU(54),u.qZA()()(),u.TgZ(55,"div",9),u.YNc(56,Xg,2,0,"button",10),u.ALo(57,"async"),u._uU(58," \xa0 "),u.TgZ(59,"button",11),u.NdJ("click",function(){return I.goBack()}),u._uU(60,"Inapoi la Servicii"),u.qZA()()()),2&p&&(u.xp6(5),u.Oqu(I.service.Name),u.xp6(5),u.Oqu(I.service.id),u.xp6(3),u.s9C("alt",I.service.Name),u.Q6J("src",I.service.Image,u.LSH),u.xp6(5),u.hij(" ",I.service.Service_Type,""),u.xp6(4),u.hij(" ",I.service.Phone_Number,""),u.xp6(4),u.hij(" ",I.service.Email,""),u.xp6(4),u.Q6J("href",I.service.Website,u.LSH),u.xp6(1),u.Oqu(I.service.Website),u.xp6(4),u.Q6J("href",I.service.Facebook,u.LSH),u.xp6(1),u.Oqu(I.service.Facebook),u.xp6(4),u.Q6J("href",I.service.Instagram,u.LSH),u.xp6(1),u.Oqu(I.service.Instagram),u.xp6(4),u.hij(" ",I.service.Community_Sponsor?"Yes":"No",""),u.xp6(4),u.hij(" ",u.xi3(50,17,I.service.Date_Created,"shortDate"),""),u.xp6(5),u.Oqu(I.service.Description),u.xp6(2),u.Q6J("ngIf",u.lcZ(57,20,I.isLoggedIn$)))},dependencies:[H.O5,H.Ov,H.uU],styles:[".forDebug[_ngcontent-%COMP%]{display:none}.editButton[_ngcontent-%COMP%]{visibility:hidden}.service-details-container[_ngcontent-%COMP%]{max-width:800px;margin:100px auto 0;padding:20px;background-color:#f8f9fa;border-radius:10px;box-shadow:0 0 10px #0000001a}.service-details-label[_ngcontent-%COMP%]{display:inline-block;font-size:1.1em;font-weight:700;padding:10px}.service-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;font-size:2.5em;margin-bottom:20px;color:#333}.service-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start}.service-image[_ngcontent-%COMP%]{flex:1;margin-right:20px}.service-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;border-radius:10px;box-shadow:0 0 10px #0000001a}.service-details[_ngcontent-%COMP%]{flex:2;font-size:1.2em;color:#555}.service-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2em;margin-bottom:10px;color:#444}.service-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px}.service-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.service-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.service-actions[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.service-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;font-size:1em;color:#fff;background-color:#007bff;border:none;border-radius:5px;cursor:pointer}.service-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return f})(),em=(()=>{class f{constructor(a,p){this.authService=a,this.router=p,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).subscribe({next:()=>this.router.navigate(["/admin"]),error:a=>this.handleLoginError(a)})}handleLoginError(a){switch(a.code){case"auth/user-not-found":this.errorMessage="No user found with this email.";break;case"auth/wrong-password":this.errorMessage="Incorrect password.";break;case"auth/invalid-email":this.errorMessage="Invalid email format.";break;default:this.errorMessage="Login failed. Please try again."}console.log(this.errorMessage)}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(I_.e),u.Y36(Ti.F0))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-login"]],decls:15,vars:2,consts:[[1,"login-container"],[1,"login-box"],[3,"submit"],[1,"input-group"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModel","ngModelChange"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModel","ngModelChange"],["type","submit"]],template:function(p,I){1&p&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h2"),u._uU(3,"Login"),u.qZA(),u.TgZ(4,"form",2),u.NdJ("submit",function(){return I.login()}),u.TgZ(5,"div",3)(6,"label",4),u._uU(7,"Email"),u.qZA(),u.TgZ(8,"input",5),u.NdJ("ngModelChange",function(ee){return I.email=ee}),u.qZA()(),u.TgZ(9,"div",3)(10,"label",6),u._uU(11,"Password"),u.qZA(),u.TgZ(12,"input",7),u.NdJ("ngModelChange",function(ee){return I.password=ee}),u.qZA()(),u.TgZ(13,"button",8),u._uU(14,"Login"),u.qZA()()()()),2&p&&(u.xp6(8),u.Q6J("ngModel",I.email),u.xp6(4),u.Q6J("ngModel",I.password))},dependencies:[vn._Y,vn.Fj,vn.JJ,vn.JL,vn.Q7,vn.On,vn.F],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:linear-gradient(to right,#007bff,#0056b3)}.login-box[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:8px;box-shadow:0 2px 4px #0000001a;width:300px;text-align:center}.login-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px;font-size:24px;color:#333}.input-group[_ngcontent-%COMP%]{margin-bottom:15px;text-align:left}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;color:#333}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;box-sizing:border-box}button[_ngcontent-%COMP%]{width:100%;padding:10px 20px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:16px;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return f})();const Ay=[{path:"",component:yc},{path:"rules",component:Ul},{path:"analytics",component:Jg.d},{path:"events",component:zh},{path:"add-event",component:by},{path:"offers",component:wu},{path:"add-offers",component:E_},{path:"offers/:id",component:wy},{path:"services",component:Vl},{path:"add-service",component:Qg},{path:"services/add",component:Qg},{path:"services/:id",component:Mp},{path:"edit-service/:id",component:Lu},{path:"test",component:(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-test"]],decls:17,vars:0,consts:[[1,"hero"],[1,"container","hero-content"],[1,"hero-text"],["href","https://www.facebook.com/groups/seattlecommunity",1,"btn"],[1,"hero-image"],["src","https://via.placeholder.com/600x400","alt","Seattle"],[1,"community-description"],[1,"container"]],template:function(p,I){1&p&&(u.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1"),u._uU(4,"Welcome to Seattle Community"),u.qZA(),u.TgZ(5,"p"),u._uU(6,"Your go-to place for community services and events"),u.qZA(),u.TgZ(7,"a",3),u._uU(8,"Join our Facebook Group"),u.qZA()(),u.TgZ(9,"div",4),u._UZ(10,"img",5),u.qZA()()(),u.TgZ(11,"section",6)(12,"div",7)(13,"h2"),u._uU(14,"About Our Community"),u.qZA(),u.TgZ(15,"p"),u._uU(16,"Seattle Community is dedicated to bringing together local residents, businesses, and organizations to foster a sense of unity and support. We offer a variety of services, events, and opportunities to connect with others in the area. Join us and be a part of a vibrant and active community!"),u.qZA()()())},styles:[".hero[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#f5f5f5;padding:2rem 0}.hero-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.hero-text[_ngcontent-%COMP%]{flex:1}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1.5rem}.btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:.75rem 1.5rem;text-decoration:none;border-radius:5px;font-size:1rem}.hero-image[_ngcontent-%COMP%]{flex:1}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:5px}.community-description[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:2rem 0;text-align:center}.community-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.community-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin:0 auto;max-width:800px}"]})}return f})()},{path:"login",component:em},{path:"",redirectTo:"/login",pathMatch:"full"},{path:"admin",loadChildren:()=>B.e(658).then(B.bind(B,7658)).then(f=>f.AdminModule)}];let Vu=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=u.oAB({type:f});static#n=this.\u0275inj=u.cJS({imports:[Ti.Bz.forRoot(Ay),Ti.Bz]})}return f})();var Dy=B(5513),Sy=B(6232),nm=B(3093),b_=B(940);const C_=new u.OlP("angularfire2.analytics.analyticsCollectionEnabled"),rm=new u.OlP("angularfire2.analytics.appVersion"),w_=new u.OlP("angularfire2.analytics.appName"),im=new u.OlP("angularfire2.analytics.debugMode"),My=new u.OlP("angularfire2.analytics.config"),Bu="dataLayer";let ss=(()=>{class f{measurementId;analyticsInitialized=new Promise(()=>{});updateConfig(a){var p=this;return(0,el.Z)(function*(){yield p.analyticsInitialized,window.gtag("config",p.measurementId,{...a,update:!0})})()}constructor(a,p,I,k,ee,he,xe,Ye,Rt){if((0,H.NF)(xe)){window[Bu]=window[Bu]||[];const Nn=(...An)=>"config"===An[0]&&"firebase"===An[2].origin&&(this.measurementId=An[1],!0),Pn=An=>{window.gtag=(...tr)=>{An&&An(...tr),"event"===tr[0]&&tr[2].send_to===this.measurementId&&(k&&(tr[2].app_name=k),I&&(tr[2].app_version=I)),ee&&typeof console<"u"&&console.info(...tr),function(..._i){window[Bu].push(arguments)}(...tr)}};window[Bu].some(Nn)?(this.analyticsInitialized=Promise.resolve(),Pn()):this.analyticsInitialized=new Promise(An=>{Pn((...tr)=>{Nn(...tr)&&An()})}),he&&this.updateConfig(he),ee&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const sn=(0,dr.of)(void 0).pipe((0,nm.Q)(Rt.outsideAngular),(0,Xc.w)(Dy.Gb),(0,Xc.w)(Nn=>Nn?Ye.runOutsideAngular(()=>B.e(861).then(B.bind(B,861))):Sy.E),(0,Tr.U)(()=>(0,Yo.cc)("analytics","AngularFireAnalytics",a.name,()=>{const Nn=a.analytics();return!1===p&&Nn.setAnalyticsCollectionEnabled(!1),Nn},[a,p,he,ee])),(0,b_.d)({bufferSize:1,refCount:!1}));return(0,Yo.pX)(this,sn,Ye)}static \u0275fac=function(p){return new(p||f)(u.LFG(Yo.Ot),u.LFG(C_,8),u.LFG(rm,8),u.LFG(w_,8),u.LFG(im,8),u.LFG(My,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Fr.HU))};static \u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"any"})}return f})();var cm=B(769);const lm=function(f){return{"open-bar1":f}},um=function(f){return{"open-bar2":f}},Pp=function(f){return{"open-bar3":f}},A_=function(f){return{active:f}};let ju=(()=>{class f{constructor(){this.menuOpen=!1}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-navigation"]],decls:25,vars:12,consts:[[1,"navbar"],[1,"navbar-container"],[1,"logo"],["routerLink","/"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item"],["routerLink","/",1,"nav-links",3,"click"],["routerLink","/services",1,"nav-links",3,"click"],["routerLink","/events",1,"nav-links",3,"click"],["routerLink","/offers",1,"nav-links",3,"click"],["routerLink","/rules",1,"nav-links",3,"click"]],template:function(p,I){1&p&&(u.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),u._uU(4,"Romani in Seattle"),u.qZA()(),u.TgZ(5,"div",4),u.NdJ("click",function(){return I.toggleMenu()}),u._UZ(6,"div",5)(7,"div",6)(8,"div",7),u.qZA(),u.TgZ(9,"ul",8)(10,"li",9)(11,"a",10),u.NdJ("click",function(){return I.closeMenu()}),u._uU(12,"Home"),u.qZA()(),u.TgZ(13,"li",9)(14,"a",11),u.NdJ("click",function(){return I.closeMenu()}),u._uU(15,"Servicii"),u.qZA()(),u.TgZ(16,"li",9)(17,"a",12),u.NdJ("click",function(){return I.closeMenu()}),u._uU(18,"Evenimente"),u.qZA()(),u.TgZ(19,"li",9)(20,"a",13),u.NdJ("click",function(){return I.closeMenu()}),u._uU(21,"Oferte"),u.qZA()(),u.TgZ(22,"li",9)(23,"a",14),u.NdJ("click",function(){return I.closeMenu()}),u._uU(24,"Regulament"),u.qZA()()()()()),2&p&&(u.xp6(6),u.Q6J("ngClass",u.VKq(4,lm,I.menuOpen)),u.xp6(1),u.Q6J("ngClass",u.VKq(6,um,I.menuOpen)),u.xp6(1),u.Q6J("ngClass",u.VKq(8,Pp,I.menuOpen)),u.xp6(1),u.Q6J("ngClass",u.VKq(10,A_,I.menuOpen)))},dependencies:[H.mk,Ti.rH],styles:[".navbar[_ngcontent-%COMP%]{background-color:var(--nav-background-color);position:fixed;width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:70px;max-width:1200px;margin:0 auto}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:34px;font-weight:700;color:var(--button-color);text-decoration:none}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);text-decoration:none;text-transform:uppercase;font-size:18px;font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:500;font-style:bold}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:#fff}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:#fff}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:flex-start}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;width:100%;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);text-decoration:none;text-transform:uppercase;font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:200;font-style:normal;color:var(--nav-active-text);font-size:24px}}"]})}return f})(),xi=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"footer"],[1,"footer-content"]],template:function(p,I){1&p&&(u.TgZ(0,"footer",0)(1,"div",1),u._uU(2," \xa9 2024 Romani in Seattle. All rights reserved. "),u.qZA()())},styles:[".footer[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%;height:50px;background-color:#333;color:#fff;display:flex;align-items:center;justify-content:center;text-align:center;box-shadow:0 -2px 5px #0000001a}.footer-content[_ngcontent-%COMP%]{font-size:.9rem}"]})}return f})(),D_=(()=>{class f{constructor(a,p,I,k,ee){this.router=a,this.analytics=p,this.activatedRoute=I,this.firestore=k,this.analyticsService=ee,this.title="romani-in-seattle"}ngOnInit(){this.analyticsService.logEvent("page_view")}trackButtonClick(){this.analyticsService.logEvent("button_click")}static#e=this.\u0275fac=function(p){return new(p||f)(u.Y36(Ti.F0),u.Y36(ss),u.Y36(Ti.gz),u.Y36(Dc.ST),u.Y36(cm.y))};static#t=this.\u0275cmp=u.Xpm({type:f,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"main-layout"]],template:function(p,I){1&p&&(u.TgZ(0,"div",0),u._UZ(1,"app-navigation")(2,"router-outlet")(3,"app-footer"),u.qZA())},dependencies:[Ti.lC,ju,xi],styles:[".content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;min-width:calc(100vw - 70px);min-height:calc(100vh - 70px);padding:20px}"]})}return f})();class uf{}class Ji{}const xa="*";function Rp(f,c=null){return{type:2,steps:f,options:c}}function S_(f){return{type:6,styles:f,offset:null}}class Oa{constructor(c=0,a=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=c+a}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(c=>c()),this._onDoneFns=[])}onStart(c){this._originalOnStartFns.push(c),this._onStartFns.push(c)}onDone(c){this._originalOnDoneFns.push(c),this._onDoneFns.push(c)}onDestroy(c){this._onDestroyFns.push(c)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(c=>c()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(c=>c()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(c){this._position=this.totalTime?c*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(c){const a="start"==c?this._onStartFns:this._onDoneFns;a.forEach(p=>p()),a.length=0}}class Mc{constructor(c){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=c;let a=0,p=0,I=0;const k=this.players.length;0==k?queueMicrotask(()=>this._onFinish()):this.players.forEach(ee=>{ee.onDone(()=>{++a==k&&this._onFinish()}),ee.onDestroy(()=>{++p==k&&this._onDestroy()}),ee.onStart(()=>{++I==k&&this._onStart()})}),this.totalTime=this.players.reduce((ee,he)=>Math.max(ee,he.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(c=>c()),this._onDoneFns=[])}init(){this.players.forEach(c=>c.init())}onStart(c){this._onStartFns.push(c)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(c=>c()),this._onStartFns=[])}onDone(c){this._onDoneFns.push(c)}onDestroy(c){this._onDestroyFns.push(c)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(c=>c.play())}pause(){this.players.forEach(c=>c.pause())}restart(){this.players.forEach(c=>c.restart())}finish(){this._onFinish(),this.players.forEach(c=>c.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(c=>c.destroy()),this._onDestroyFns.forEach(c=>c()),this._onDestroyFns=[])}reset(){this.players.forEach(c=>c.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(c){const a=c*this.totalTime;this.players.forEach(p=>{const I=p.totalTime?Math.min(1,a/p.totalTime):1;p.setPosition(I)})}getPosition(){const c=this.players.reduce((a,p)=>null===a||p.totalTime>a.totalTime?p:a,null);return null!=c?c.getPosition():0}beforeDestroy(){this.players.forEach(c=>{c.beforeDestroy&&c.beforeDestroy()})}triggerCallback(c){const a="start"==c?this._onStartFns:this._onDoneFns;a.forEach(p=>p()),a.length=0}}function hf(f){return new u.vHH(3e3,!1)}function Gu(f){switch(f.length){case 0:return new Oa;case 1:return f[0];default:return new Mc(f)}}function P_(f,c,a=new Map,p=new Map){const I=[],k=[];let ee=-1,he=null;if(c.forEach(xe=>{const Ye=xe.get("offset"),Rt=Ye==ee,sn=Rt&&he||new Map;xe.forEach((Nn,Pn)=>{let In=Pn,An=Nn;if("offset"!==Pn)switch(In=f.normalizePropertyName(In,I),An){case"!":An=a.get(Pn);break;case xa:An=p.get(Pn);break;default:An=f.normalizeStyleValue(Pn,In,An,I)}sn.set(In,An)}),Rt||k.push(sn),he=sn,ee=Ye}),I.length)throw function Lp(f){return new u.vHH(3502,!1)}();return k}function yf(f,c,a,p){switch(c){case"start":f.onStart(()=>p(a&&Vp(a,"start",f)));break;case"done":f.onDone(()=>p(a&&Vp(a,"done",f)));break;case"destroy":f.onDestroy(()=>p(a&&Vp(a,"destroy",f)))}}function Vp(f,c,a){const k=vf(f.element,f.triggerName,f.fromState,f.toState,c||f.phaseName,a.totalTime??f.totalTime,!!a.disabled),ee=f._data;return null!=ee&&(k._data=ee),k}function vf(f,c,a,p,I="",k=0,ee){return{element:f,triggerName:c,fromState:a,toState:p,phaseName:I,totalTime:k,disabled:!!ee}}function ga(f,c,a){let p=f.get(c);return p||f.set(c,p=a),p}function Ef(f){const c=f.indexOf(":");return[f.substring(1,c),f.slice(c+1)]}const Up=(()=>typeof document>"u"?null:document.documentElement)();function Ql(f){const c=f.parentNode||f.host||null;return c===Up?null:c}let Rc=null,mm=!1;function Bp(f,c){for(;c;){if(c===f)return!0;c=Ql(c)}return!1}function jp(f,c,a){if(a)return Array.from(f.querySelectorAll(c));const p=f.querySelector(c);return p?[p]:[]}let ym=(()=>{class f{validateStyleProperty(a){return function $y(f){Rc||(Rc=function R_(){return typeof document<"u"?document.body:null}()||{},mm=!!Rc.style&&"WebkitAppearance"in Rc.style);let c=!0;return Rc.style&&!function If(f){return"ebkit"==f.substring(1,6)}(f)&&(c=f in Rc.style,!c&&mm&&(c="Webkit"+f.charAt(0).toUpperCase()+f.slice(1)in Rc.style)),c}(a)}matchesElement(a,p){return!1}containsElement(a,p){return Bp(a,p)}getParentElement(a){return Ql(a)}query(a,p,I){return jp(a,p,I)}computeStyle(a,p,I){return I||""}animate(a,p,I,k,ee,he=[],xe){return new Oa(I,k)}static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac})}return f})(),Jl=(()=>{class f{static#e=this.NOOP=new ym}return f})();const x_=1e3,$p="ng-enter",vm="ng-leave",zp="ng-trigger",xc=".ng-trigger",Xl="ng-animating",oh=".ng-animating";function bo(f){if("number"==typeof f)return f;const c=f.match(/^(-?[\.\d]+)(m?s)/);return!c||c.length<2?0:Hp(parseFloat(c[1]),c[2])}function Hp(f,c){return"s"===c?f*x_:f}function Jo(f,c,a){return f.hasOwnProperty("duration")?f:function O_(f,c,a){let I,k=0,ee="";if("string"==typeof f){const he=f.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===he)return c.push(hf()),{duration:0,delay:0,easing:""};I=Hp(parseFloat(he[1]),he[2]);const xe=he[3];null!=xe&&(k=Hp(parseFloat(xe),he[4]));const Ye=he[5];Ye&&(ee=Ye)}else I=f;if(!a){let he=!1,xe=c.length;I<0&&(c.push(function Ny(){return new u.vHH(3100,!1)}()),he=!0),k<0&&(c.push(function ky(){return new u.vHH(3101,!1)}()),he=!0),he&&c.splice(xe,0,hf())}return{duration:I,delay:k,easing:ee}}(f,c,a)}function Ja(f,c={}){return Object.keys(f).forEach(a=>{c[a]=f[a]}),c}function Gp(f){const c=new Map;return Object.keys(f).forEach(a=>{c.set(a,f[a])}),c}function tu(f,c=new Map,a){if(a)for(let[p,I]of a)c.set(p,I);for(let[p,I]of f)c.set(p,I);return c}function ml(f,c,a){c.forEach((p,I)=>{const k=Kp(I);a&&!a.has(I)&&a.set(I,f.style[k]),f.style[k]=p})}function qu(f,c){c.forEach((a,p)=>{const I=Kp(p);f.style[I]=""})}function Wu(f){return Array.isArray(f)?1==f.length?f[0]:Rp(f):f}const Wp=new RegExp("{{\\s*(.+?)\\s*}}","g");function N_(f){let c=[];if("string"==typeof f){let a;for(;a=Wp.exec(f);)c.push(a[1]);Wp.lastIndex=0}return c}function Zp(f,c,a){const p=f.toString(),I=p.replace(Wp,(k,ee)=>{let he=c[ee];return null==he&&(a.push(function Ly(f){return new u.vHH(3003,!1)}()),he=""),he.toString()});return I==p?f:I}function Vi(f){const c=[];let a=f.next();for(;!a.done;)c.push(a.value),a=f.next();return c}const Em=/-+([a-z0-9])/g;function Kp(f){return f.replace(Em,(...c)=>c[1].toUpperCase())}function Xo(f,c,a){switch(c.type){case 7:return f.visitTrigger(c,a);case 0:return f.visitState(c,a);case 1:return f.visitTransition(c,a);case 2:return f.visitSequence(c,a);case 3:return f.visitGroup(c,a);case 4:return f.visitAnimate(c,a);case 5:return f.visitKeyframes(c,a);case 6:return f.visitStyle(c,a);case 8:return f.visitReference(c,a);case 9:return f.visitAnimateChild(c,a);case 10:return f.visitAnimateRef(c,a);case 11:return f.visitQuery(c,a);case 12:return f.visitStagger(c,a);default:throw function $u(f){return new u.vHH(3004,!1)}()}}function bm(f,c){return window.getComputedStyle(f)[c]}const bf="*";function Tf(f,c){const a=[];return"string"==typeof f?f.split(/\s*,\s*/).forEach(p=>function _l(f,c,a){if(":"==f[0]){const xe=function Zu(f,c){switch(f){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(a,p)=>parseFloat(p)>parseFloat(a);case":decrement":return(a,p)=>parseFloat(p)<parseFloat(a);default:return c.push(function nh(f){return new u.vHH(3016,!1)}()),"* => *"}}(f,a);if("function"==typeof xe)return void c.push(xe);f=xe}const p=f.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==p||p.length<4)return a.push(function Fp(f){return new u.vHH(3015,!1)}()),c;const I=p[1],k=p[2],ee=p[3];c.push(Tm(I,ee));"<"==k[0]&&!(I==bf&&ee==bf)&&c.push(Tm(ee,I))}(p,a,c)):a.push(f),a}const Xa=new Set(["true","1"]),Yp=new Set(["false","0"]);function Tm(f,c){const a=Xa.has(f)||Yp.has(f),p=Xa.has(c)||Yp.has(c);return(I,k)=>{let ee=f==bf||f==I,he=c==bf||c==k;return!ee&&a&&"boolean"==typeof I&&(ee=I?Xa.has(f):Yp.has(f)),!he&&p&&"boolean"==typeof k&&(he=k?Xa.has(c):Yp.has(c)),ee&&he}}const wm=new RegExp("s*:selfs*,?","g");function Ku(f,c,a,p){return new k_(f).build(c,a,p)}class k_{constructor(c){this._driver=c}build(c,a,p){const I=new F_(a);return this._resetContextStyleTimingState(I),Xo(this,Wu(c),I)}_resetContextStyleTimingState(c){c.currentQuerySelector="",c.collectedStyles=new Map,c.collectedStyles.set("",new Map),c.currentTime=0}visitTrigger(c,a){let p=a.queryCount=0,I=a.depCount=0;const k=[],ee=[];return"@"==c.name.charAt(0)&&a.errors.push(function pl(){return new u.vHH(3006,!1)}()),c.definitions.forEach(he=>{if(this._resetContextStyleTimingState(a),0==he.type){const xe=he,Ye=xe.name;Ye.toString().split(/\s*,\s*/).forEach(Rt=>{xe.name=Rt,k.push(this.visitState(xe,a))}),xe.name=Ye}else if(1==he.type){const xe=this.visitTransition(he,a);p+=xe.queryCount,I+=xe.depCount,ee.push(xe)}else a.errors.push(function Xd(){return new u.vHH(3007,!1)}())}),{type:7,name:c.name,states:k,transitions:ee,queryCount:p,depCount:I,options:null}}visitState(c,a){const p=this.visitStyle(c.styles,a),I=c.options&&c.options.params||null;if(p.containsDynamicStyles){const k=new Set,ee=I||{};p.styles.forEach(he=>{he instanceof Map&&he.forEach(xe=>{N_(xe).forEach(Ye=>{ee.hasOwnProperty(Ye)||k.add(Ye)})})}),k.size&&(Vi(k.values()),a.errors.push(function Pc(f,c){return new u.vHH(3008,!1)}()))}return{type:0,name:c.name,style:p,options:I?{params:I}:null}}visitTransition(c,a){a.queryCount=0,a.depCount=0;const p=Xo(this,Wu(c.animation),a);return{type:1,matchers:Tf(c.expr,a.errors),animation:p,queryCount:a.queryCount,depCount:a.depCount,options:Yu(c.options)}}visitSequence(c,a){return{type:2,steps:c.steps.map(p=>Xo(this,p,a)),options:Yu(c.options)}}visitGroup(c,a){const p=a.currentTime;let I=0;const k=c.steps.map(ee=>{a.currentTime=p;const he=Xo(this,ee,a);return I=Math.max(I,a.currentTime),he});return a.currentTime=I,{type:3,steps:k,options:Yu(c.options)}}visitAnimate(c,a){const p=function Xv(f,c){if(f.hasOwnProperty("duration"))return f;if("number"==typeof f)return Zy(Jo(f,c).duration,0,"");const a=f;if(a.split(/\s+/).some(k=>"{"==k.charAt(0)&&"{"==k.charAt(1))){const k=Zy(0,0,"");return k.dynamic=!0,k.strValue=a,k}const I=Jo(a,c);return Zy(I.duration,I.delay,I.easing)}(c.timings,a.errors);a.currentAnimateTimings=p;let I,k=c.styles?c.styles:S_({});if(5==k.type)I=this.visitKeyframes(k,a);else{let ee=c.styles,he=!1;if(!ee){he=!0;const Ye={};p.easing&&(Ye.easing=p.easing),ee=S_(Ye)}a.currentTime+=p.duration+p.delay;const xe=this.visitStyle(ee,a);xe.isEmptyStep=he,I=xe}return a.currentAnimateTimings=null,{type:4,timings:p,style:I,options:null}}visitStyle(c,a){const p=this._makeStyleAst(c,a);return this._validateStyleAst(p,a),p}_makeStyleAst(c,a){const p=[],I=Array.isArray(c.styles)?c.styles:[c.styles];for(let he of I)"string"==typeof he?he===xa?p.push(he):a.errors.push(new u.vHH(3002,!1)):p.push(Gp(he));let k=!1,ee=null;return p.forEach(he=>{if(he instanceof Map&&(he.has("easing")&&(ee=he.get("easing"),he.delete("easing")),!k))for(let xe of he.values())if(xe.toString().indexOf("{{")>=0){k=!0;break}}),{type:6,styles:p,easing:ee,offset:c.offset,containsDynamicStyles:k,options:null}}_validateStyleAst(c,a){const p=a.currentAnimateTimings;let I=a.currentTime,k=a.currentTime;p&&k>0&&(k-=p.duration+p.delay),c.styles.forEach(ee=>{"string"!=typeof ee&&ee.forEach((he,xe)=>{const Ye=a.collectedStyles.get(a.currentQuerySelector),Rt=Ye.get(xe);let sn=!0;Rt&&(k!=I&&k>=Rt.startTime&&I<=Rt.endTime&&(a.errors.push(function zu(f,c,a,p,I){return new u.vHH(3010,!1)}()),sn=!1),k=Rt.startTime),sn&&Ye.set(xe,{startTime:k,endTime:I}),a.options&&function Oc(f,c,a){const p=c.params||{},I=N_(f);I.length&&I.forEach(k=>{p.hasOwnProperty(k)||a.push(function Fy(f){return new u.vHH(3001,!1)}())})}(he,a.options,a.errors)})})}visitKeyframes(c,a){const p={type:5,styles:[],options:null};if(!a.currentAnimateTimings)return a.errors.push(function eh(){return new u.vHH(3011,!1)}()),p;let k=0;const ee=[];let he=!1,xe=!1,Ye=0;const Rt=c.steps.map(_i=>{const Di=this._makeStyleAst(_i,a);let Ei=null!=Di.offset?Di.offset:function Wy(f){if("string"==typeof f)return null;let c=null;if(Array.isArray(f))f.forEach(a=>{if(a instanceof Map&&a.has("offset")){const p=a;c=parseFloat(p.get("offset")),p.delete("offset")}});else if(f instanceof Map&&f.has("offset")){const a=f;c=parseFloat(a.get("offset")),a.delete("offset")}return c}(Di.styles),ti=0;return null!=Ei&&(k++,ti=Di.offset=Ei),xe=xe||ti<0||ti>1,he=he||ti<Ye,Ye=ti,ee.push(ti),Di});xe&&a.errors.push(function Yl(){return new u.vHH(3012,!1)}()),he&&a.errors.push(function ff(){return new u.vHH(3200,!1)}());const sn=c.steps.length;let Nn=0;k>0&&k<sn?a.errors.push(function pf(){return new u.vHH(3202,!1)}()):0==k&&(Nn=1/(sn-1));const Pn=sn-1,In=a.currentTime,An=a.currentAnimateTimings,tr=An.duration;return Rt.forEach((_i,Di)=>{const Ei=Nn>0?Di==Pn?1:Nn*Di:ee[Di],ti=Ei*tr;a.currentTime=In+An.delay+ti,An.duration=ti,this._validateStyleAst(_i,a),_i.offset=Ei,p.styles.push(_i)}),p}visitReference(c,a){return{type:8,animation:Xo(this,Wu(c.animation),a),options:Yu(c.options)}}visitAnimateChild(c,a){return a.depCount++,{type:9,options:Yu(c.options)}}visitAnimateRef(c,a){return{type:10,animation:this.visitReference(c.animation,a),options:Yu(c.options)}}visitQuery(c,a){const p=a.currentQuerySelector,I=c.options||{};a.queryCount++,a.currentQuery=c;const[k,ee]=function qy(f){const c=!!f.split(/\s*,\s*/).find(a=>":self"==a);return c&&(f=f.replace(wm,"")),f=f.replace(/@\*/g,xc).replace(/@\w+/g,a=>xc+"-"+a.slice(1)).replace(/:animating/g,oh),[f,c]}(c.selector);a.currentQuerySelector=p.length?p+" "+k:k,ga(a.collectedStyles,a.currentQuerySelector,new Map);const he=Xo(this,Wu(c.animation),a);return a.currentQuery=null,a.currentQuerySelector=p,{type:11,selector:k,limit:I.limit||0,optional:!!I.optional,includeSelf:ee,animation:he,originalSelector:c.selector,options:Yu(c.options)}}visitStagger(c,a){a.currentQuery||a.errors.push(function gf(){return new u.vHH(3013,!1)}());const p="full"===c.timings?{duration:0,delay:0,easing:"full"}:Jo(c.timings,a.errors,!0);return{type:12,animation:Xo(this,Wu(c.animation),a),timings:p,options:null}}}class F_{constructor(c){this.errors=c,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Yu(f){return f?(f=Ja(f)).params&&(f.params=function Jv(f){return f?Ja(f):null}(f.params)):f={},f}function Zy(f,c,a){return{duration:f,delay:c,easing:a}}function L_(f,c,a,p,I,k,ee=null,he=!1){return{type:1,element:f,keyframes:c,preStyleProps:a,postStyleProps:p,duration:I,delay:k,totalTime:I+k,easing:ee,subTimeline:he}}class Qp{constructor(){this._map=new Map}get(c){return this._map.get(c)||[]}append(c,a){let p=this._map.get(c);p||this._map.set(c,p=[]),p.push(...a)}has(c){return this._map.has(c)}clear(){this._map.clear()}}const Qy=new RegExp(":enter","g"),ah=new RegExp(":leave","g");function Qu(f,c,a,p,I,k=new Map,ee=new Map,he,xe,Ye=[]){return(new l).buildKeyframes(f,c,a,p,I,k,ee,he,xe,Ye)}class l{buildKeyframes(c,a,p,I,k,ee,he,xe,Ye,Rt=[]){Ye=Ye||new Qp;const sn=new r(c,a,Ye,I,k,Rt,[]);sn.options=xe;const Nn=xe.delay?bo(xe.delay):0;sn.currentTimeline.delayNextStep(Nn),sn.currentTimeline.setStyles([ee],null,sn.errors,xe),Xo(this,p,sn);const Pn=sn.timelines.filter(In=>In.containsAnimation());if(Pn.length&&he.size){let In;for(let An=Pn.length-1;An>=0;An--){const tr=Pn[An];if(tr.element===a){In=tr;break}}In&&!In.allowOnlyTimelineStyles()&&In.setStyles([he],null,sn.errors,xe)}return Pn.length?Pn.map(In=>In.buildKeyframes()):[L_(a,[],[],[],0,Nn,"",!1)]}visitTrigger(c,a){}visitState(c,a){}visitTransition(c,a){}visitAnimateChild(c,a){const p=a.subInstructions.get(a.element);if(p){const I=a.createSubContext(c.options),k=a.currentTimeline.currentTime,ee=this._visitSubInstructions(p,I,I.options);k!=ee&&a.transformIntoNewTimeline(ee)}a.previousNode=c}visitAnimateRef(c,a){const p=a.createSubContext(c.options);p.transformIntoNewTimeline(),this._applyAnimationRefDelays([c.options,c.animation.options],a,p),this.visitReference(c.animation,p),a.transformIntoNewTimeline(p.currentTimeline.currentTime),a.previousNode=c}_applyAnimationRefDelays(c,a,p){for(const I of c){const k=I?.delay;if(k){const ee="number"==typeof k?k:bo(Zp(k,I?.params??{},a.errors));p.delayNextStep(ee)}}}_visitSubInstructions(c,a,p){let k=a.currentTimeline.currentTime;const ee=null!=p.duration?bo(p.duration):null,he=null!=p.delay?bo(p.delay):null;return 0!==ee&&c.forEach(xe=>{const Ye=a.appendInstructionToTimeline(xe,ee,he);k=Math.max(k,Ye.duration+Ye.delay)}),k}visitReference(c,a){a.updateOptions(c.options,!0),Xo(this,c.animation,a),a.previousNode=c}visitSequence(c,a){const p=a.subContextCount;let I=a;const k=c.options;if(k&&(k.params||k.delay)&&(I=a.createSubContext(k),I.transformIntoNewTimeline(),null!=k.delay)){6==I.previousNode.type&&(I.currentTimeline.snapshotCurrentStyles(),I.previousNode=e);const ee=bo(k.delay);I.delayNextStep(ee)}c.steps.length&&(c.steps.forEach(ee=>Xo(this,ee,I)),I.currentTimeline.applyStylesToKeyframe(),I.subContextCount>p&&I.transformIntoNewTimeline()),a.previousNode=c}visitGroup(c,a){const p=[];let I=a.currentTimeline.currentTime;const k=c.options&&c.options.delay?bo(c.options.delay):0;c.steps.forEach(ee=>{const he=a.createSubContext(c.options);k&&he.delayNextStep(k),Xo(this,ee,he),I=Math.max(I,he.currentTimeline.currentTime),p.push(he.currentTimeline)}),p.forEach(ee=>a.currentTimeline.mergeTimelineCollectedStyles(ee)),a.transformIntoNewTimeline(I),a.previousNode=c}_visitTiming(c,a){if(c.dynamic){const p=c.strValue;return Jo(a.params?Zp(p,a.params,a.errors):p,a.errors)}return{duration:c.duration,delay:c.delay,easing:c.easing}}visitAnimate(c,a){const p=a.currentAnimateTimings=this._visitTiming(c.timings,a),I=a.currentTimeline;p.delay&&(a.incrementTime(p.delay),I.snapshotCurrentStyles());const k=c.style;5==k.type?this.visitKeyframes(k,a):(a.incrementTime(p.duration),this.visitStyle(k,a),I.applyStylesToKeyframe()),a.currentAnimateTimings=null,a.previousNode=c}visitStyle(c,a){const p=a.currentTimeline,I=a.currentAnimateTimings;!I&&p.hasCurrentStyleProperties()&&p.forwardFrame();const k=I&&I.easing||c.easing;c.isEmptyStep?p.applyEmptyStep(k):p.setStyles(c.styles,k,a.errors,a.options),a.previousNode=c}visitKeyframes(c,a){const p=a.currentAnimateTimings,I=a.currentTimeline.duration,k=p.duration,he=a.createSubContext().currentTimeline;he.easing=p.easing,c.styles.forEach(xe=>{he.forwardTime((xe.offset||0)*k),he.setStyles(xe.styles,xe.easing,a.errors,a.options),he.applyStylesToKeyframe()}),a.currentTimeline.mergeTimelineCollectedStyles(he),a.transformIntoNewTimeline(I+k),a.previousNode=c}visitQuery(c,a){const p=a.currentTimeline.currentTime,I=c.options||{},k=I.delay?bo(I.delay):0;k&&(6===a.previousNode.type||0==p&&a.currentTimeline.hasCurrentStyleProperties())&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=e);let ee=p;const he=a.invokeQuery(c.selector,c.originalSelector,c.limit,c.includeSelf,!!I.optional,a.errors);a.currentQueryTotal=he.length;let xe=null;he.forEach((Ye,Rt)=>{a.currentQueryIndex=Rt;const sn=a.createSubContext(c.options,Ye);k&&sn.delayNextStep(k),Ye===a.element&&(xe=sn.currentTimeline),Xo(this,c.animation,sn),sn.currentTimeline.applyStylesToKeyframe(),ee=Math.max(ee,sn.currentTimeline.currentTime)}),a.currentQueryIndex=0,a.currentQueryTotal=0,a.transformIntoNewTimeline(ee),xe&&(a.currentTimeline.mergeTimelineCollectedStyles(xe),a.currentTimeline.snapshotCurrentStyles()),a.previousNode=c}visitStagger(c,a){const p=a.parentContext,I=a.currentTimeline,k=c.timings,ee=Math.abs(k.duration),he=ee*(a.currentQueryTotal-1);let xe=ee*a.currentQueryIndex;switch(k.duration<0?"reverse":k.easing){case"reverse":xe=he-xe;break;case"full":xe=p.currentStaggerTime}const Rt=a.currentTimeline;xe&&Rt.delayNextStep(xe);const sn=Rt.currentTime;Xo(this,c.animation,a),a.previousNode=c,p.currentStaggerTime=I.currentTime-sn+(I.startTime-p.currentTimeline.startTime)}}const e={};class r{constructor(c,a,p,I,k,ee,he,xe){this._driver=c,this.element=a,this.subInstructions=p,this._enterClassName=I,this._leaveClassName=k,this.errors=ee,this.timelines=he,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=e,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=xe||new s(this._driver,a,0),he.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(c,a){if(!c)return;const p=c;let I=this.options;null!=p.duration&&(I.duration=bo(p.duration)),null!=p.delay&&(I.delay=bo(p.delay));const k=p.params;if(k){let ee=I.params;ee||(ee=this.options.params={}),Object.keys(k).forEach(he=>{(!a||!ee.hasOwnProperty(he))&&(ee[he]=Zp(k[he],ee,this.errors))})}}_copyOptions(){const c={};if(this.options){const a=this.options.params;if(a){const p=c.params={};Object.keys(a).forEach(I=>{p[I]=a[I]})}}return c}createSubContext(c=null,a,p){const I=a||this.element,k=new r(this._driver,I,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(I,p||0));return k.previousNode=this.previousNode,k.currentAnimateTimings=this.currentAnimateTimings,k.options=this._copyOptions(),k.updateOptions(c),k.currentQueryIndex=this.currentQueryIndex,k.currentQueryTotal=this.currentQueryTotal,k.parentContext=this,this.subContextCount++,k}transformIntoNewTimeline(c){return this.previousNode=e,this.currentTimeline=this.currentTimeline.fork(this.element,c),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(c,a,p){const I={duration:a??c.duration,delay:this.currentTimeline.currentTime+(p??0)+c.delay,easing:""},k=new d(this._driver,c.element,c.keyframes,c.preStyleProps,c.postStyleProps,I,c.stretchStartingKeyframe);return this.timelines.push(k),I}incrementTime(c){this.currentTimeline.forwardTime(this.currentTimeline.duration+c)}delayNextStep(c){c>0&&this.currentTimeline.delayNextStep(c)}invokeQuery(c,a,p,I,k,ee){let he=[];if(I&&he.push(this.element),c.length>0){c=(c=c.replace(Qy,"."+this._enterClassName)).replace(ah,"."+this._leaveClassName);let Ye=this._driver.query(this.element,c,1!=p);0!==p&&(Ye=p<0?Ye.slice(Ye.length+p,Ye.length):Ye.slice(0,p)),he.push(...Ye)}return!k&&0==he.length&&ee.push(function th(f){return new u.vHH(3014,!1)}()),he}}class s{constructor(c,a,p,I){this._driver=c,this.element=a,this.startTime=p,this._elementTimelineStylesLookup=I,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(a),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(a,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(c){const a=1===this._keyframes.size&&this._pendingStyles.size;this.duration||a?(this.forwardTime(this.currentTime+c),a&&this.snapshotCurrentStyles()):this.startTime+=c}fork(c,a){return this.applyStylesToKeyframe(),new s(this._driver,c,a||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(c){this.applyStylesToKeyframe(),this.duration=c,this._loadKeyframe()}_updateStyle(c,a){this._localTimelineStyles.set(c,a),this._globalTimelineStyles.set(c,a),this._styleSummary.set(c,{time:this.currentTime,value:a})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(c){c&&this._previousKeyframe.set("easing",c);for(let[a,p]of this._globalTimelineStyles)this._backFill.set(a,p||xa),this._currentKeyframe.set(a,xa);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(c,a,p,I){a&&this._previousKeyframe.set("easing",a);const k=I&&I.params||{},ee=function b(f,c){const a=new Map;let p;return f.forEach(I=>{if("*"===I){p=p||c.keys();for(let k of p)a.set(k,xa)}else tu(I,a)}),a}(c,this._globalTimelineStyles);for(let[he,xe]of ee){const Ye=Zp(xe,k,p);this._pendingStyles.set(he,Ye),this._localTimelineStyles.has(he)||this._backFill.set(he,this._globalTimelineStyles.get(he)??xa),this._updateStyle(he,Ye)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((c,a)=>{this._currentKeyframe.set(a,c)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((c,a)=>{this._currentKeyframe.has(a)||this._currentKeyframe.set(a,c)}))}snapshotCurrentStyles(){for(let[c,a]of this._localTimelineStyles)this._pendingStyles.set(c,a),this._updateStyle(c,a)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const c=[];for(let a in this._currentKeyframe)c.push(a);return c}mergeTimelineCollectedStyles(c){c._styleSummary.forEach((a,p)=>{const I=this._styleSummary.get(p);(!I||a.time>I.time)&&this._updateStyle(p,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const c=new Set,a=new Set,p=1===this._keyframes.size&&0===this.duration;let I=[];this._keyframes.forEach((he,xe)=>{const Ye=tu(he,new Map,this._backFill);Ye.forEach((Rt,sn)=>{"!"===Rt?c.add(sn):Rt===xa&&a.add(sn)}),p||Ye.set("offset",xe/this.duration),I.push(Ye)});const k=c.size?Vi(c.values()):[],ee=a.size?Vi(a.values()):[];if(p){const he=I[0],xe=new Map(he);he.set("offset",0),xe.set("offset",1),I=[he,xe]}return L_(this.element,I,k,ee,this.duration,this.startTime,this.easing,!1)}}class d extends s{constructor(c,a,p,I,k,ee,he=!1){super(c,a,ee.delay),this.keyframes=p,this.preStyleProps=I,this.postStyleProps=k,this._stretchStartingKeyframe=he,this.timings={duration:ee.duration,delay:ee.delay,easing:ee.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let c=this.keyframes,{delay:a,duration:p,easing:I}=this.timings;if(this._stretchStartingKeyframe&&a){const k=[],ee=p+a,he=a/ee,xe=tu(c[0]);xe.set("offset",0),k.push(xe);const Ye=tu(c[0]);Ye.set("offset",y(he)),k.push(Ye);const Rt=c.length-1;for(let sn=1;sn<=Rt;sn++){let Nn=tu(c[sn]);const Pn=Nn.get("offset");Nn.set("offset",y((a+Pn*p)/ee)),k.push(Nn)}p=ee,a=0,I="",c=k}return L_(this.element,c,this.preStyleProps,this.postStyleProps,p,a,I,!0)}}function y(f,c=3){const a=Math.pow(10,c-1);return Math.round(f*a)/a}class V{}const ae=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ye extends V{normalizePropertyName(c,a){return Kp(c)}normalizeStyleValue(c,a,p,I){let k="";const ee=p.toString().trim();if(ae.has(a)&&0!==p&&"0"!==p)if("number"==typeof p)k="px";else{const he=p.match(/^[+-]?[\d\.]+([a-z]*)$/);he&&0==he[1].length&&I.push(function Vy(f,c){return new u.vHH(3005,!1)}())}return ee+k}}function Le(f,c,a,p,I,k,ee,he,xe,Ye,Rt,sn,Nn){return{type:0,element:f,triggerName:c,isRemovalTransition:I,fromState:a,fromStyles:k,toState:p,toStyles:ee,timelines:he,queriedElements:xe,preStyleProps:Ye,postStyleProps:Rt,totalTime:sn,errors:Nn}}const lt={};class Lt{constructor(c,a,p){this._triggerName=c,this.ast=a,this._stateStyles=p}match(c,a,p,I){return function Gt(f,c,a,p,I){return f.some(k=>k(c,a,p,I))}(this.ast.matchers,c,a,p,I)}buildStyles(c,a,p){let I=this._stateStyles.get("*");return void 0!==c&&(I=this._stateStyles.get(c?.toString())||I),I?I.buildStyles(a,p):new Map}build(c,a,p,I,k,ee,he,xe,Ye,Rt){const sn=[],Nn=this.ast.options&&this.ast.options.params||lt,In=this.buildStyles(p,he&&he.params||lt,sn),An=xe&&xe.params||lt,tr=this.buildStyles(I,An,sn),_i=new Set,Di=new Map,Ei=new Map,ti="void"===I,tc={params:Ln(An,Nn),delay:this.ast.options?.delay},Do=Rt?[]:Qu(c,a,this.ast.animation,k,ee,In,tr,tc,Ye,sn);let Js=0;if(Do.forEach(ka=>{Js=Math.max(ka.duration+ka.delay,Js)}),sn.length)return Le(a,this._triggerName,p,I,ti,In,tr,[],[],Di,Ei,Js,sn);Do.forEach(ka=>{const hu=ka.element,Dv=ga(Di,hu,new Set);ka.preStyleProps.forEach(Dh=>Dv.add(Dh));const Eg=ga(Ei,hu,new Set);ka.postStyleProps.forEach(Dh=>Eg.add(Dh)),hu!==a&&_i.add(hu)});const ra=Vi(_i.values());return Le(a,this._triggerName,p,I,ti,In,tr,Do,ra,Di,Ei,Js)}}function Ln(f,c){const a=Ja(c);for(const p in f)f.hasOwnProperty(p)&&null!=f[p]&&(a[p]=f[p]);return a}class Jn{constructor(c,a,p){this.styles=c,this.defaultParams=a,this.normalizer=p}buildStyles(c,a){const p=new Map,I=Ja(this.defaultParams);return Object.keys(c).forEach(k=>{const ee=c[k];null!==ee&&(I[k]=ee)}),this.styles.styles.forEach(k=>{"string"!=typeof k&&k.forEach((ee,he)=>{ee&&(ee=Zp(ee,I,a));const xe=this.normalizer.normalizePropertyName(he,a);ee=this.normalizer.normalizeStyleValue(he,xe,ee,a),p.set(he,ee)})}),p}}class wr{constructor(c,a,p){this.name=c,this.ast=a,this._normalizer=p,this.transitionFactories=[],this.states=new Map,a.states.forEach(I=>{this.states.set(I.name,new Jn(I.style,I.options&&I.options.params||{},p))}),Lr(this.states,"true","1"),Lr(this.states,"false","0"),a.transitions.forEach(I=>{this.transitionFactories.push(new Lt(c,I,this.states))}),this.fallbackTransition=function oi(f,c,a){return new Lt(f,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ee,he)=>!0],options:null,queryCount:0,depCount:0},c)}(c,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(c,a,p,I){return this.transitionFactories.find(ee=>ee.match(c,a,p,I))||null}matchStyles(c,a,p){return this.fallbackTransition.buildStyles(c,a,p)}}function Lr(f,c,a){f.has(c)?f.has(a)||f.set(a,f.get(c)):f.has(a)&&f.set(c,f.get(a))}const Xe=new Qp;class Oe{constructor(c,a,p){this.bodyNode=c,this._driver=a,this._normalizer=p,this._animations=new Map,this._playersById=new Map,this.players=[]}register(c,a){const p=[],k=Ku(this._driver,a,p,[]);if(p.length)throw function ih(f){return new u.vHH(3503,!1)}();this._animations.set(c,k)}_buildPlayer(c,a,p){const I=c.element,k=P_(this._normalizer,c.keyframes,a,p);return this._driver.animate(I,k,c.duration,c.delay,c.easing,[],!0)}create(c,a,p={}){const I=[],k=this._animations.get(c);let ee;const he=new Map;if(k?(ee=Qu(this._driver,a,k,$p,vm,new Map,new Map,p,Xe,I),ee.forEach(Rt=>{const sn=ga(he,Rt.element,new Map);Rt.postStyleProps.forEach(Nn=>sn.set(Nn,null))})):(I.push(function fm(){return new u.vHH(3300,!1)}()),ee=[]),I.length)throw function mf(f){return new u.vHH(3504,!1)}();he.forEach((Rt,sn)=>{Rt.forEach((Nn,Pn)=>{Rt.set(Pn,this._driver.computeStyle(sn,Pn,xa))})});const Ye=Gu(ee.map(Rt=>{const sn=he.get(Rt.element);return this._buildPlayer(Rt,new Map,sn)}));return this._playersById.set(c,Ye),Ye.onDestroy(()=>this.destroy(c)),this.players.push(Ye),Ye}destroy(c){const a=this._getPlayer(c);a.destroy(),this._playersById.delete(c);const p=this.players.indexOf(a);p>=0&&this.players.splice(p,1)}_getPlayer(c){const a=this._playersById.get(c);if(!a)throw function By(f){return new u.vHH(3301,!1)}();return a}listen(c,a,p,I){const k=vf(a,"","","");return yf(this._getPlayer(c),p,k,I),()=>{}}command(c,a,p,I){if("register"==p)return void this.register(c,I[0]);if("create"==p)return void this.create(c,a,I[0]||{});const k=this._getPlayer(c);switch(p){case"play":k.play();break;case"pause":k.pause();break;case"reset":k.reset();break;case"restart":k.restart();break;case"finish":k.finish();break;case"init":k.init();break;case"setPosition":k.setPosition(parseFloat(I[0]));break;case"destroy":this.destroy(c)}}}const He="ng-animate-queued",st="ng-animate-disabled",wf=[],ea={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Af={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Vo="__ng_removed";class Jp{get params(){return this.options.params}constructor(c,a=""){this.namespaceId=a;const p=c&&c.hasOwnProperty("value");if(this.value=function Jy(f){return f??null}(p?c.value:c),p){const k=Ja(c);delete k.value,this.options=k}else this.options={};this.options.params||(this.options.params={})}absorbOptions(c){const a=c.params;if(a){const p=this.options.params;Object.keys(a).forEach(I=>{null==p[I]&&(p[I]=a[I])})}}}const nu="void",Xp=new Jp(nu);class ru{constructor(c,a,p){this.id=c,this.hostElement=a,this._engine=p,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+c,ta(a,this._hostClassName)}listen(c,a,p,I){if(!this._triggers.has(a))throw function pm(f,c){return new u.vHH(3302,!1)}();if(null==p||0==p.length)throw function M_(f){return new u.vHH(3303,!1)}();if(!function Dm(f){return"start"==f||"done"==f}(p))throw function sh(f,c){return new u.vHH(3400,!1)}();const k=ga(this._elementListeners,c,[]),ee={name:a,phase:p,callback:I};k.push(ee);const he=ga(this._engine.statesByElement,c,new Map);return he.has(a)||(ta(c,zp),ta(c,zp+"-"+a),he.set(a,Xp)),()=>{this._engine.afterFlush(()=>{const xe=k.indexOf(ee);xe>=0&&k.splice(xe,1),this._triggers.has(a)||he.delete(a)})}}register(c,a){return!this._triggers.has(c)&&(this._triggers.set(c,a),!0)}_getTrigger(c){const a=this._triggers.get(c);if(!a)throw function Hu(f){return new u.vHH(3401,!1)}();return a}trigger(c,a,p,I=!0){const k=this._getTrigger(a),ee=new Am(this.id,a,c);let he=this._engine.statesByElement.get(c);he||(ta(c,zp),ta(c,zp+"-"+a),this._engine.statesByElement.set(c,he=new Map));let xe=he.get(a);const Ye=new Jp(p,this.id);if(!(p&&p.hasOwnProperty("value"))&&xe&&Ye.absorbOptions(xe.options),he.set(a,Ye),xe||(xe=Xp),Ye.value!==nu&&xe.value===Ye.value){if(!function Mm(f,c){const a=Object.keys(f),p=Object.keys(c);if(a.length!=p.length)return!1;for(let I=0;I<a.length;I++){const k=a[I];if(!c.hasOwnProperty(k)||f[k]!==c[k])return!1}return!0}(xe.params,Ye.params)){const An=[],tr=k.matchStyles(xe.value,xe.params,An),_i=k.matchStyles(Ye.value,Ye.params,An);An.length?this._engine.reportError(An):this._engine.afterFlush(()=>{qu(c,tr),ml(c,_i)})}return}const Nn=ga(this._engine.playersByElement,c,[]);Nn.forEach(An=>{An.namespaceId==this.id&&An.triggerName==a&&An.queued&&An.destroy()});let Pn=k.matchTransition(xe.value,Ye.value,c,Ye.params),In=!1;if(!Pn){if(!I)return;Pn=k.fallbackTransition,In=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:a,transition:Pn,fromState:xe,toState:Ye,player:ee,isFallbackTransition:In}),In||(ta(c,He),ee.onStart(()=>{su(c,He)})),ee.onDone(()=>{let An=this.players.indexOf(ee);An>=0&&this.players.splice(An,1);const tr=this._engine.playersByElement.get(c);if(tr){let _i=tr.indexOf(ee);_i>=0&&tr.splice(_i,1)}}),this.players.push(ee),Nn.push(ee),ee}deregister(c){this._triggers.delete(c),this._engine.statesByElement.forEach(a=>a.delete(c)),this._elementListeners.forEach((a,p)=>{this._elementListeners.set(p,a.filter(I=>I.name!=c))})}clearElementCache(c){this._engine.statesByElement.delete(c),this._elementListeners.delete(c);const a=this._engine.playersByElement.get(c);a&&(a.forEach(p=>p.destroy()),this._engine.playersByElement.delete(c))}_signalRemovalForInnerTriggers(c,a){const p=this._engine.driver.query(c,xc,!0);p.forEach(I=>{if(I[Vo])return;const k=this._engine.fetchNamespacesByElement(I);k.size?k.forEach(ee=>ee.triggerLeaveAnimation(I,a,!1,!0)):this.clearElementCache(I)}),this._engine.afterFlushAnimationsDone(()=>p.forEach(I=>this.clearElementCache(I)))}triggerLeaveAnimation(c,a,p,I){const k=this._engine.statesByElement.get(c),ee=new Map;if(k){const he=[];if(k.forEach((xe,Ye)=>{if(ee.set(Ye,xe.value),this._triggers.has(Ye)){const Rt=this.trigger(c,Ye,nu,I);Rt&&he.push(Rt)}}),he.length)return this._engine.markElementAsRemoved(this.id,c,!0,a,ee),p&&Gu(he).onDone(()=>this._engine.processLeaveNode(c)),!0}return!1}prepareLeaveAnimationListeners(c){const a=this._elementListeners.get(c),p=this._engine.statesByElement.get(c);if(a&&p){const I=new Set;a.forEach(k=>{const ee=k.name;if(I.has(ee))return;I.add(ee);const xe=this._triggers.get(ee).fallbackTransition,Ye=p.get(ee)||Xp,Rt=new Jp(nu),sn=new Am(this.id,ee,c);this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:ee,transition:xe,fromState:Ye,toState:Rt,player:sn,isFallbackTransition:!0})})}}removeNode(c,a){const p=this._engine;if(c.childElementCount&&this._signalRemovalForInnerTriggers(c,a),this.triggerLeaveAnimation(c,a,!0))return;let I=!1;if(p.totalAnimations){const k=p.players.length?p.playersByQueriedElement.get(c):[];if(k&&k.length)I=!0;else{let ee=c;for(;ee=ee.parentNode;)if(p.statesByElement.get(ee)){I=!0;break}}}if(this.prepareLeaveAnimationListeners(c),I)p.markElementAsRemoved(this.id,c,!1,a);else{const k=c[Vo];(!k||k===ea)&&(p.afterFlush(()=>this.clearElementCache(c)),p.destroyInnerAnimations(c),p._onRemovalComplete(c,a))}}insertNode(c,a){ta(c,this._hostClassName)}drainQueuedTransitions(c){const a=[];return this._queue.forEach(p=>{const I=p.player;if(I.destroyed)return;const k=p.element,ee=this._elementListeners.get(k);ee&&ee.forEach(he=>{if(he.name==p.triggerName){const xe=vf(k,p.triggerName,p.fromState.value,p.toState.value);xe._data=c,yf(p.player,he.phase,xe,he.callback)}}),I.markedForDestroy?this._engine.afterFlush(()=>{I.destroy()}):a.push(p)}),this._queue=[],a.sort((p,I)=>{const k=p.transition.ast.depCount,ee=I.transition.ast.depCount;return 0==k||0==ee?k-ee:this._engine.driver.containsElement(p.element,I.element)?1:-1})}destroy(c){this.players.forEach(a=>a.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,c)}}class To{_onRemovalComplete(c,a){this.onRemovalComplete(c,a)}constructor(c,a,p){this.bodyNode=c,this.driver=a,this._normalizer=p,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(I,k)=>{}}get queuedPlayers(){const c=[];return this._namespaceList.forEach(a=>{a.players.forEach(p=>{p.queued&&c.push(p)})}),c}createNamespace(c,a){const p=new ru(c,a,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,a)?this._balanceNamespaceList(p,a):(this.newHostElements.set(a,p),this.collectEnterElement(a)),this._namespaceLookup[c]=p}_balanceNamespaceList(c,a){const p=this._namespaceList,I=this.namespacesByHostElement;if(p.length-1>=0){let ee=!1,he=this.driver.getParentElement(a);for(;he;){const xe=I.get(he);if(xe){const Ye=p.indexOf(xe);p.splice(Ye+1,0,c),ee=!0;break}he=this.driver.getParentElement(he)}ee||p.unshift(c)}else p.push(c);return I.set(a,c),c}register(c,a){let p=this._namespaceLookup[c];return p||(p=this.createNamespace(c,a)),p}registerTrigger(c,a,p){let I=this._namespaceLookup[c];I&&I.register(a,p)&&this.totalAnimations++}destroy(c,a){c&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const p=this._fetchNamespace(c);this.namespacesByHostElement.delete(p.hostElement);const I=this._namespaceList.indexOf(p);I>=0&&this._namespaceList.splice(I,1),p.destroy(a),delete this._namespaceLookup[c]}))}_fetchNamespace(c){return this._namespaceLookup[c]}fetchNamespacesByElement(c){const a=new Set,p=this.statesByElement.get(c);if(p)for(let I of p.values())if(I.namespaceId){const k=this._fetchNamespace(I.namespaceId);k&&a.add(k)}return a}trigger(c,a,p,I){if(iu(a)){const k=this._fetchNamespace(c);if(k)return k.trigger(a,p,I),!0}return!1}insertNode(c,a,p,I){if(!iu(a))return;const k=a[Vo];if(k&&k.setForRemoval){k.setForRemoval=!1,k.setForMove=!0;const ee=this.collectedLeaveElements.indexOf(a);ee>=0&&this.collectedLeaveElements.splice(ee,1)}if(c){const ee=this._fetchNamespace(c);ee&&ee.insertNode(a,p)}I&&this.collectEnterElement(a)}collectEnterElement(c){this.collectedEnterElements.push(c)}markElementAsDisabled(c,a){a?this.disabledNodes.has(c)||(this.disabledNodes.add(c),ta(c,st)):this.disabledNodes.has(c)&&(this.disabledNodes.delete(c),su(c,st))}removeNode(c,a,p){if(iu(a)){const I=c?this._fetchNamespace(c):null;I?I.removeNode(a,p):this.markElementAsRemoved(c,a,!1,p);const k=this.namespacesByHostElement.get(a);k&&k.id!==c&&k.removeNode(a,p)}else this._onRemovalComplete(a,p)}markElementAsRemoved(c,a,p,I,k){this.collectedLeaveElements.push(a),a[Vo]={namespaceId:c,setForRemoval:I,hasAnimation:p,removedBeforeQueried:!1,previousTriggersValues:k}}listen(c,a,p,I,k){return iu(a)?this._fetchNamespace(c).listen(a,p,I,k):()=>{}}_buildInstruction(c,a,p,I,k){return c.transition.build(this.driver,c.element,c.fromState.value,c.toState.value,p,I,c.fromState.options,c.toState.options,a,k)}destroyInnerAnimations(c){let a=this.driver.query(c,xc,!0);a.forEach(p=>this.destroyActiveAnimationsForElement(p)),0!=this.playersByQueriedElement.size&&(a=this.driver.query(c,oh,!0),a.forEach(p=>this.finishActiveQueriedAnimationOnElement(p)))}destroyActiveAnimationsForElement(c){const a=this.playersByElement.get(c);a&&a.forEach(p=>{p.queued?p.markedForDestroy=!0:p.destroy()})}finishActiveQueriedAnimationOnElement(c){const a=this.playersByQueriedElement.get(c);a&&a.forEach(p=>p.finish())}whenRenderingDone(){return new Promise(c=>{if(this.players.length)return Gu(this.players).onDone(()=>c());c()})}processLeaveNode(c){const a=c[Vo];if(a&&a.setForRemoval){if(c[Vo]=ea,a.namespaceId){this.destroyInnerAnimations(c);const p=this._fetchNamespace(a.namespaceId);p&&p.clearElementCache(c)}this._onRemovalComplete(c,a.setForRemoval)}c.classList?.contains(st)&&this.markElementAsDisabled(c,!1),this.driver.query(c,".ng-animate-disabled",!0).forEach(p=>{this.markElementAsDisabled(p,!1)})}flush(c=-1){let a=[];if(this.newHostElements.size&&(this.newHostElements.forEach((p,I)=>this._balanceNamespaceList(p,I)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let p=0;p<this.collectedEnterElements.length;p++)ta(this.collectedEnterElements[p],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const p=[];try{a=this._flushAnimations(p,c)}finally{for(let I=0;I<p.length;I++)p[I]()}}else for(let p=0;p<this.collectedLeaveElements.length;p++)this.processLeaveNode(this.collectedLeaveElements[p]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(p=>p()),this._flushFns=[],this._whenQuietFns.length){const p=this._whenQuietFns;this._whenQuietFns=[],a.length?Gu(a).onDone(()=>{p.forEach(I=>I())}):p.forEach(I=>I())}}reportError(c){throw function jy(f){return new u.vHH(3402,!1)}()}_flushAnimations(c,a){const p=new Qp,I=[],k=new Map,ee=[],he=new Map,xe=new Map,Ye=new Map,Rt=new Set;this.disabledNodes.forEach(Gn=>{Rt.add(Gn);const Xn=this.driver.query(Gn,".ng-animate-queued",!0);for(let br=0;br<Xn.length;br++)Rt.add(Xn[br])});const sn=this.bodyNode,Nn=Array.from(this.statesByElement.keys()),Pn=Sf(Nn,this.collectedEnterElements),In=new Map;let An=0;Pn.forEach((Gn,Xn)=>{const br=$p+An++;In.set(Xn,br),Gn.forEach(yi=>ta(yi,br))});const tr=[],_i=new Set,Di=new Set;for(let Gn=0;Gn<this.collectedLeaveElements.length;Gn++){const Xn=this.collectedLeaveElements[Gn],br=Xn[Vo];br&&br.setForRemoval&&(tr.push(Xn),_i.add(Xn),br.hasAnimation?this.driver.query(Xn,".ng-star-inserted",!0).forEach(yi=>_i.add(yi)):Di.add(Xn))}const Ei=new Map,ti=Sf(Nn,Array.from(_i));ti.forEach((Gn,Xn)=>{const br=vm+An++;Ei.set(Xn,br),Gn.forEach(yi=>ta(yi,br))}),c.push(()=>{Pn.forEach((Gn,Xn)=>{const br=In.get(Xn);Gn.forEach(yi=>su(yi,br))}),ti.forEach((Gn,Xn)=>{const br=Ei.get(Xn);Gn.forEach(yi=>su(yi,br))}),tr.forEach(Gn=>{this.processLeaveNode(Gn)})});const tc=[],Do=[];for(let Gn=this._namespaceList.length-1;Gn>=0;Gn--)this._namespaceList[Gn].drainQueuedTransitions(a).forEach(br=>{const yi=br.player,Ds=br.element;if(tc.push(yi),this.collectedEnterElements.length){const zs=Ds[Vo];if(zs&&zs.setForMove){if(zs.previousTriggersValues&&zs.previousTriggersValues.has(br.triggerName)){const $f=zs.previousTriggersValues.get(br.triggerName),Fc=this.statesByElement.get(br.element);if(Fc&&Fc.has(br.triggerName)){const dy=Fc.get(br.triggerName);dy.value=$f,Fc.set(br.triggerName,dy)}}return void yi.destroy()}}const od=!sn||!this.driver.containsElement(sn,Ds),ya=Ei.get(Ds),jf=In.get(Ds),ms=this._buildInstruction(br,p,jf,ya,od);if(ms.errors&&ms.errors.length)return void Do.push(ms);if(od)return yi.onStart(()=>qu(Ds,ms.fromStyles)),yi.onDestroy(()=>ml(Ds,ms.toStyles)),void I.push(yi);if(br.isFallbackTransition)return yi.onStart(()=>qu(Ds,ms.fromStyles)),yi.onDestroy(()=>ml(Ds,ms.toStyles)),void I.push(yi);const Pv=[];ms.timelines.forEach(zs=>{zs.stretchStartingKeyframe=!0,this.disabledNodes.has(zs.element)||Pv.push(zs)}),ms.timelines=Pv,p.append(Ds,ms.timelines),ee.push({instruction:ms,player:yi,element:Ds}),ms.queriedElements.forEach(zs=>ga(he,zs,[]).push(yi)),ms.preStyleProps.forEach((zs,$f)=>{if(zs.size){let Fc=xe.get($f);Fc||xe.set($f,Fc=new Set),zs.forEach((dy,Sh)=>Fc.add(Sh))}}),ms.postStyleProps.forEach((zs,$f)=>{let Fc=Ye.get($f);Fc||Ye.set($f,Fc=new Set),zs.forEach((dy,Sh)=>Fc.add(Sh))})});if(Do.length){const Gn=[];Do.forEach(Xn=>{Gn.push(function gm(f,c){return new u.vHH(3505,!1)}())}),tc.forEach(Xn=>Xn.destroy()),this.reportError(Gn)}const Js=new Map,ra=new Map;ee.forEach(Gn=>{const Xn=Gn.element;p.has(Xn)&&(ra.set(Xn,Xn),this._beforeAnimationBuild(Gn.player.namespaceId,Gn.instruction,Js))}),I.forEach(Gn=>{const Xn=Gn.element;this._getPreviousPlayers(Xn,!1,Gn.namespaceId,Gn.triggerName,null).forEach(yi=>{ga(Js,Xn,[]).push(yi),yi.destroy()})});const ka=tr.filter(Gn=>U_(Gn,xe,Ye)),hu=new Map;Df(hu,this.driver,Di,Ye,xa).forEach(Gn=>{U_(Gn,xe,Ye)&&ka.push(Gn)});const Eg=new Map;Pn.forEach((Gn,Xn)=>{Df(Eg,this.driver,new Set(Gn),xe,"!")}),ka.forEach(Gn=>{const Xn=hu.get(Gn),br=Eg.get(Gn);hu.set(Gn,new Map([...Xn?.entries()??[],...br?.entries()??[]]))});const Dh=[],Sv=[],Mv={};ee.forEach(Gn=>{const{element:Xn,player:br,instruction:yi}=Gn;if(p.has(Xn)){if(Rt.has(Xn))return br.onDestroy(()=>ml(Xn,yi.toStyles)),br.disabled=!0,br.overrideTotalTime(yi.totalTime),void I.push(br);let Ds=Mv;if(ra.size>1){let ya=Xn;const jf=[];for(;ya=ya.parentNode;){const ms=ra.get(ya);if(ms){Ds=ms;break}jf.push(ya)}jf.forEach(ms=>ra.set(ms,Ds))}const od=this._buildAnimation(br.namespaceId,yi,Js,k,Eg,hu);if(br.setRealPlayer(od),Ds===Mv)Dh.push(br);else{const ya=this.playersByElement.get(Ds);ya&&ya.length&&(br.parentPlayer=Gu(ya)),I.push(br)}}else qu(Xn,yi.fromStyles),br.onDestroy(()=>ml(Xn,yi.toStyles)),Sv.push(br),Rt.has(Xn)&&I.push(br)}),Sv.forEach(Gn=>{const Xn=k.get(Gn.element);if(Xn&&Xn.length){const br=Gu(Xn);Gn.setRealPlayer(br)}}),I.forEach(Gn=>{Gn.parentPlayer?Gn.syncPlayerEvents(Gn.parentPlayer):Gn.destroy()});for(let Gn=0;Gn<tr.length;Gn++){const Xn=tr[Gn],br=Xn[Vo];if(su(Xn,vm),br&&br.hasAnimation)continue;let yi=[];if(he.size){let od=he.get(Xn);od&&od.length&&yi.push(...od);let ya=this.driver.query(Xn,oh,!0);for(let jf=0;jf<ya.length;jf++){let ms=he.get(ya[jf]);ms&&ms.length&&yi.push(...ms)}}const Ds=yi.filter(od=>!od.destroyed);Ds.length?Na(this,Xn,Ds):this.processLeaveNode(Xn)}return tr.length=0,Dh.forEach(Gn=>{this.players.push(Gn),Gn.onDone(()=>{Gn.destroy();const Xn=this.players.indexOf(Gn);this.players.splice(Xn,1)}),Gn.play()}),Dh}afterFlush(c){this._flushFns.push(c)}afterFlushAnimationsDone(c){this._whenQuietFns.push(c)}_getPreviousPlayers(c,a,p,I,k){let ee=[];if(a){const he=this.playersByQueriedElement.get(c);he&&(ee=he)}else{const he=this.playersByElement.get(c);if(he){const xe=!k||k==nu;he.forEach(Ye=>{Ye.queued||!xe&&Ye.triggerName!=I||ee.push(Ye)})}}return(p||I)&&(ee=ee.filter(he=>!(p&&p!=he.namespaceId||I&&I!=he.triggerName))),ee}_beforeAnimationBuild(c,a,p){const k=a.element,ee=a.isRemovalTransition?void 0:c,he=a.isRemovalTransition?void 0:a.triggerName;for(const xe of a.timelines){const Ye=xe.element,Rt=Ye!==k,sn=ga(p,Ye,[]);this._getPreviousPlayers(Ye,Rt,ee,he,a.toState).forEach(Pn=>{const In=Pn.getRealPlayer();In.beforeDestroy&&In.beforeDestroy(),Pn.destroy(),sn.push(Pn)})}qu(k,a.fromStyles)}_buildAnimation(c,a,p,I,k,ee){const he=a.triggerName,xe=a.element,Ye=[],Rt=new Set,sn=new Set,Nn=a.timelines.map(In=>{const An=In.element;Rt.add(An);const tr=An[Vo];if(tr&&tr.removedBeforeQueried)return new Oa(In.duration,In.delay);const _i=An!==xe,Di=function Mf(f){const c=[];return Sm(f,c),c}((p.get(An)||wf).map(Js=>Js.getRealPlayer())).filter(Js=>!!Js.element&&Js.element===An),Ei=k.get(An),ti=ee.get(An),tc=P_(this._normalizer,In.keyframes,Ei,ti),Do=this._buildPlayer(In,tc,Di);if(In.subTimeline&&I&&sn.add(An),_i){const Js=new Am(c,he,An);Js.setRealPlayer(Do),Ye.push(Js)}return Do});Ye.forEach(In=>{ga(this.playersByQueriedElement,In.element,[]).push(In),In.onDone(()=>function ch(f,c,a){let p=f.get(c);if(p){if(p.length){const I=p.indexOf(a);p.splice(I,1)}0==p.length&&f.delete(c)}return p}(this.playersByQueriedElement,In.element,In))}),Rt.forEach(In=>ta(In,Xl));const Pn=Gu(Nn);return Pn.onDestroy(()=>{Rt.forEach(In=>su(In,Xl)),ml(xe,a.toStyles)}),sn.forEach(In=>{ga(I,In,[]).push(Pn)}),Pn}_buildPlayer(c,a,p){return a.length>0?this.driver.animate(c.element,a,c.duration,c.delay,c.easing,p):new Oa(c.duration,c.delay)}}class Am{constructor(c,a,p){this.namespaceId=c,this.triggerName=a,this.element=p,this._player=new Oa,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(c){this._containsRealPlayer||(this._player=c,this._queuedCallbacks.forEach((a,p)=>{a.forEach(I=>yf(c,p,void 0,I))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(c.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(c){this.totalTime=c}syncPlayerEvents(c){const a=this._player;a.triggerCallback&&c.onStart(()=>a.triggerCallback("start")),c.onDone(()=>this.finish()),c.onDestroy(()=>this.destroy())}_queueEvent(c,a){ga(this._queuedCallbacks,c,[]).push(a)}onDone(c){this.queued&&this._queueEvent("done",c),this._player.onDone(c)}onStart(c){this.queued&&this._queueEvent("start",c),this._player.onStart(c)}onDestroy(c){this.queued&&this._queueEvent("destroy",c),this._player.onDestroy(c)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(c){this.queued||this._player.setPosition(c)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(c){const a=this._player;a.triggerCallback&&a.triggerCallback(c)}}function iu(f){return f&&1===f.nodeType}function V_(f,c){const a=f.style.display;return f.style.display=c??"none",a}function Df(f,c,a,p,I){const k=[];a.forEach(xe=>k.push(V_(xe)));const ee=[];p.forEach((xe,Ye)=>{const Rt=new Map;xe.forEach(sn=>{const Nn=c.computeStyle(Ye,sn,I);Rt.set(sn,Nn),(!Nn||0==Nn.length)&&(Ye[Vo]=Af,ee.push(Ye))}),f.set(Ye,Rt)});let he=0;return a.forEach(xe=>V_(xe,k[he++])),ee}function Sf(f,c){const a=new Map;if(f.forEach(he=>a.set(he,[])),0==c.length)return a;const I=new Set(c),k=new Map;function ee(he){if(!he)return 1;let xe=k.get(he);if(xe)return xe;const Ye=he.parentNode;return xe=a.has(Ye)?Ye:I.has(Ye)?1:ee(Ye),k.set(he,xe),xe}return c.forEach(he=>{const xe=ee(he);1!==xe&&a.get(xe).push(he)}),a}function ta(f,c){f.classList?.add(c)}function su(f,c){f.classList?.remove(c)}function Na(f,c,a){Gu(a).onDone(()=>f.processLeaveNode(c))}function Sm(f,c){for(let a=0;a<f.length;a++){const p=f[a];p instanceof Mc?Sm(p.players,c):c.push(p)}}function U_(f,c,a){const p=a.get(f);if(!p)return!1;let I=c.get(f);return I?p.forEach(k=>I.add(k)):c.set(f,p),a.delete(f),!0}class lh{constructor(c,a,p){this.bodyNode=c,this._driver=a,this._normalizer=p,this._triggerCache={},this.onRemovalComplete=(I,k)=>{},this._transitionEngine=new To(c,a,p),this._timelineEngine=new Oe(c,a,p),this._transitionEngine.onRemovalComplete=(I,k)=>this.onRemovalComplete(I,k)}registerTrigger(c,a,p,I,k){const ee=c+"-"+I;let he=this._triggerCache[ee];if(!he){const xe=[],Rt=Ku(this._driver,k,xe,[]);if(xe.length)throw function Uy(f,c){return new u.vHH(3404,!1)}();he=function $n(f,c,a){return new wr(f,c,a)}(I,Rt,this._normalizer),this._triggerCache[ee]=he}this._transitionEngine.registerTrigger(a,I,he)}register(c,a){this._transitionEngine.register(c,a)}destroy(c,a){this._transitionEngine.destroy(c,a)}onInsert(c,a,p,I){this._transitionEngine.insertNode(c,a,p,I)}onRemove(c,a,p){this._transitionEngine.removeNode(c,a,p)}disableAnimations(c,a){this._transitionEngine.markElementAsDisabled(c,a)}process(c,a,p,I){if("@"==p.charAt(0)){const[k,ee]=Ef(p);this._timelineEngine.command(k,a,ee,I)}else this._transitionEngine.trigger(c,a,p,I)}listen(c,a,p,I,k){if("@"==p.charAt(0)){const[ee,he]=Ef(p);return this._timelineEngine.listen(ee,a,he,k)}return this._transitionEngine.listen(c,a,p,I,k)}flush(c=-1){this._transitionEngine.flush(c)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(c){this._transitionEngine.afterFlushAnimationsDone(c)}}let uh=(()=>{class f{static#e=this.initialStylesByElement=new WeakMap;constructor(a,p,I){this._element=a,this._startStyles=p,this._endStyles=I,this._state=0;let k=f.initialStylesByElement.get(a);k||f.initialStylesByElement.set(a,k=new Map),this._initialStyles=k}start(){this._state<1&&(this._startStyles&&ml(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ml(this._element,this._initialStyles),this._endStyles&&(ml(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(f.initialStylesByElement.delete(this._element),this._startStyles&&(qu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(qu(this._element,this._endStyles),this._endStyles=null),ml(this._element,this._initialStyles),this._state=3)}}return f})();function dh(f){let c=null;return f.forEach((a,p)=>{(function eE(f){return"display"===f||"position"===f})(p)&&(c=c||new Map,c.set(p,a))}),c}class Pf{constructor(c,a,p,I){this.element=c,this.keyframes=a,this.options=p,this._specialStyles=I,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=p.duration,this._delay=p.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(c=>c()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const c=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,c,this.options),this._finalKeyframe=c.length?c[c.length-1]:new Map;const a=()=>this._onFinish();this.domPlayer.addEventListener("finish",a),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",a)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(c){const a=[];return c.forEach(p=>{a.push(Object.fromEntries(p))}),a}_triggerWebAnimation(c,a,p){return c.animate(this._convertKeyframesToObject(a),p)}onStart(c){this._originalOnStartFns.push(c),this._onStartFns.push(c)}onDone(c){this._originalOnDoneFns.push(c),this._onDoneFns.push(c)}onDestroy(c){this._onDestroyFns.push(c)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(c=>c()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(c=>c()),this._onDestroyFns=[])}setPosition(c){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=c*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const c=new Map;this.hasStarted()&&this._finalKeyframe.forEach((p,I)=>{"offset"!==I&&c.set(I,this._finished?p:bm(this.element,I))}),this.currentSnapshot=c}triggerCallback(c){const a="start"===c?this._onStartFns:this._onDoneFns;a.forEach(p=>p()),a.length=0}}class eg{validateStyleProperty(c){return!0}validateAnimatableStyleProperty(c){return!0}matchesElement(c,a){return!1}containsElement(c,a){return Bp(c,a)}getParentElement(c){return Ql(c)}query(c,a,p){return jp(c,a,p)}computeStyle(c,a,p){return window.getComputedStyle(c)[a]}animate(c,a,p,I,k,ee=[]){const xe={duration:p,delay:I,fill:0==I?"both":"forwards"};k&&(xe.easing=k);const Ye=new Map,Rt=ee.filter(Pn=>Pn instanceof Pf);(function Gy(f,c){return 0===f||0===c})(p,I)&&Rt.forEach(Pn=>{Pn.currentSnapshot.forEach((In,An)=>Ye.set(An,In))});let sn=function eu(f){return f.length?f[0]instanceof Map?f:f.map(c=>Gp(c)):[]}(a).map(Pn=>tu(Pn));sn=function Im(f,c,a){if(a.size&&c.length){let p=c[0],I=[];if(a.forEach((k,ee)=>{p.has(ee)||I.push(ee),p.set(ee,k)}),I.length)for(let k=1;k<c.length;k++){let ee=c[k];I.forEach(he=>ee.set(he,bm(f,he)))}}return c}(c,sn,Ye);const Nn=function Pm(f,c){let a=null,p=null;return Array.isArray(c)&&c.length?(a=dh(c[0]),c.length>1&&(p=dh(c[c.length-1]))):c instanceof Map&&(a=dh(c)),a||p?new uh(f,a,p):null}(c,sn);return new Pf(c,sn,xe,Nn)}}let tg=(()=>{class f extends uf{constructor(a,p){super(),this._nextAnimationId=0,this._renderer=a.createRenderer(p.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(a){const p=this._nextAnimationId.toString();this._nextAnimationId++;const I=Array.isArray(a)?Rp(a):a;return ma(this._renderer,null,p,"register",[I]),new io(p,this._renderer)}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(u.FYo),u.LFG(H.K0))};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac})}return f})();class io extends Ji{constructor(c,a){super(),this._id=c,this._renderer=a}create(c,a){return new so(this._id,c,a||{},this._renderer)}}class so{constructor(c,a,p,I){this.id=c,this.element=a,this._renderer=I,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",p)}_listen(c,a){return this._renderer.listen(this.element,`@@${this.id}:${c}`,a)}_command(c,...a){return ma(this._renderer,this.element,this.id,c,a)}onDone(c){this._listen("done",c)}onStart(c){this._listen("start",c)}onDestroy(c){this._listen("destroy",c)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(c){this._command("setPosition",c)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function ma(f,c,a,p,I){return f.setProperty(c,`@@${a}:${p}`,I)}const Rm="@.disabled";let xm=(()=>{class f{constructor(a,p,I){this.delegate=a,this.engine=p,this._zone=I,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,p.onRemovalComplete=(k,ee)=>{const he=ee?.parentNode(k);he&&ee.removeChild(he,k)}}createRenderer(a,p){const k=this.delegate.createRenderer(a,p);if(!(a&&p&&p.data&&p.data.animation)){let Rt=this._rendererCache.get(k);return Rt||(Rt=new hh("",k,this.engine,()=>this._rendererCache.delete(k)),this._rendererCache.set(k,Rt)),Rt}const ee=p.id,he=p.id+"-"+this._currentId;this._currentId++,this.engine.register(he,a);const xe=Rt=>{Array.isArray(Rt)?Rt.forEach(xe):this.engine.registerTrigger(ee,he,a,Rt.name,Rt)};return p.data.animation.forEach(xe),new Om(this,he,k,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(a,p,I){a>=0&&a<this._microtaskId?this._zone.run(()=>p(I)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(k=>{const[ee,he]=k;ee(he)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([p,I]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(u.FYo),u.LFG(lh),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac})}return f})();class hh{constructor(c,a,p,I){this.namespaceId=c,this.delegate=a,this.engine=p,this._onDestroy=I}get data(){return this.delegate.data}destroyNode(c){this.delegate.destroyNode?.(c)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(c,a){return this.delegate.createElement(c,a)}createComment(c){return this.delegate.createComment(c)}createText(c){return this.delegate.createText(c)}appendChild(c,a){this.delegate.appendChild(c,a),this.engine.onInsert(this.namespaceId,a,c,!1)}insertBefore(c,a,p,I=!0){this.delegate.insertBefore(c,a,p),this.engine.onInsert(this.namespaceId,a,c,I)}removeChild(c,a,p){this.engine.onRemove(this.namespaceId,a,this.delegate)}selectRootElement(c,a){return this.delegate.selectRootElement(c,a)}parentNode(c){return this.delegate.parentNode(c)}nextSibling(c){return this.delegate.nextSibling(c)}setAttribute(c,a,p,I){this.delegate.setAttribute(c,a,p,I)}removeAttribute(c,a,p){this.delegate.removeAttribute(c,a,p)}addClass(c,a){this.delegate.addClass(c,a)}removeClass(c,a){this.delegate.removeClass(c,a)}setStyle(c,a,p,I){this.delegate.setStyle(c,a,p,I)}removeStyle(c,a,p){this.delegate.removeStyle(c,a,p)}setProperty(c,a,p){"@"==a.charAt(0)&&a==Rm?this.disableAnimations(c,!!p):this.delegate.setProperty(c,a,p)}setValue(c,a){this.delegate.setValue(c,a)}listen(c,a,p){return this.delegate.listen(c,a,p)}disableAnimations(c,a){this.engine.disableAnimations(c,a)}}class Om extends hh{constructor(c,a,p,I,k){super(a,p,I,k),this.factory=c,this.namespaceId=a}setProperty(c,a,p){"@"==a.charAt(0)?"."==a.charAt(1)&&a==Rm?this.disableAnimations(c,p=void 0===p||!!p):this.engine.process(this.namespaceId,c,a.slice(1),p):this.delegate.setProperty(c,a,p)}listen(c,a,p){if("@"==a.charAt(0)){const I=function B_(f){switch(f){case"body":return document.body;case"document":return document;case"window":return window;default:return f}}(c);let k=a.slice(1),ee="";return"@"!=k.charAt(0)&&([k,ee]=function fh(f){const c=f.indexOf(".");return[f.substring(0,c),f.slice(c+1)]}(k)),this.engine.listen(this.namespaceId,I,k,ee,he=>{this.factory.scheduleListenerCallback(he._data||-1,p,he)})}return this.delegate.listen(c,a,p)}}const $_=[{provide:uf,useClass:tg},{provide:V,useFactory:function j_(){return new ye}},{provide:lh,useClass:(()=>{class f extends lh{constructor(a,p,I,k){super(a.body,p,I)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(H.K0),u.LFG(Jl),u.LFG(V),u.LFG(u.z2F))};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac})}return f})()},{provide:u.FYo,useFactory:function ph(f,c,a){return new xm(f,c,a)},deps:[g.se,lh,u.R0b]}],ng=[{provide:Jl,useFactory:()=>new eg},{provide:u.QbO,useValue:"BrowserAnimations"},...$_],Ju=[{provide:Jl,useClass:ym},{provide:u.QbO,useValue:"NoopAnimations"},...$_];let rg=(()=>{class f{static withConfig(a){return{ngModule:f,providers:a.disableAnimations?Ju:ng}}static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=u.oAB({type:f});static#n=this.\u0275inj=u.cJS({providers:ng,imports:[g.b2]})}return f})();const mh_firebase={apiKey:"AIzaSyBfMHRYkwC16Pt-IuqcVJOYjkrRgOlEVH8",authDomain:"romaniinseattle.firebaseapp.com",projectId:"romaniinseattle",storageBucket:"romaniinseattle.appspot.com",messagingSenderId:"548714995927",appId:"1:548714995927:web:70a2631d9f5d8d2f8fd092"};var _a=B(3182);class Nc{constructor(c){return c}}class Of{constructor(){return(0,_a.C6)()}}const Xu=new u.OlP("angularfire2._apps"),vl={provide:Nc,useFactory:function G_(f){return f&&1===f.length?f[0]:new Nc((0,_a.Mq)())},deps:[[new u.FiY,Xu]]},Xy={provide:Of,deps:[[new u.FiY,Xu]]};function ev(f){return(c,a)=>{const p=c.runOutsideAngular(()=>f(a));return new Nc(p)}}let _h=(()=>{class f{constructor(a){(0,_a.KN)("angularfire",Fr.q4.full,"core"),(0,_a.KN)("angularfire",Fr.q4.full,"app"),(0,_a.KN)("angular",u.q4F.full,a.toString())}static \u0275fac=function(p){return new(p||f)(u.LFG(u.Lbi))};static \u0275mod=u.oAB({type:f});static \u0275inj=u.cJS({providers:[vl,Xy]})}return f})();function tv(f,...c){return{ngModule:_h,providers:[{provide:Xu,useFactory:ev(f),multi:!0,deps:[u.R0b,u.zs3,Fr.HU,...c]}]}}const km=(0,Fr.u3)(_a.ZF,!0);B(35),B(7879);class cg{constructor(){return(0,Fr.vb)("auth")}}var gv=B(5588);class Cl{constructor(c){return c}}const Th="firestore",gg=new u.OlP("angularfire2.firestore-instances");function Bm(f){return(c,a)=>{const p=c.runOutsideAngular(()=>f(a));return new Cl(p)}}const iy={provide:class Ch{constructor(){return(0,Fr.vb)(Th)}},deps:[[new u.FiY,gg]]},wh={provide:Cl,useFactory:function mg(f,c){const a=(0,Fr.JM)(Th,f,c);return a&&new Cl(a)},deps:[[new u.FiY,gg],Nc]};let sy=(()=>{class f{constructor(){(0,_a.KN)("angularfire",Fr.q4.full,"fst")}static \u0275fac=function(p){return new(p||f)};static \u0275mod=u.oAB({type:f});static \u0275inj=u.cJS({providers:[wh,iy]})}return f})();function oy(f,...c){return{ngModule:sy,providers:[{provide:gg,useFactory:Bm(f),multi:!0,deps:[u.R0b,u.zs3,Fr.HU,Of,[new u.FiY,cg],[new u.FiY,Fr.Rf],...c]}]}}const aE=(0,Fr.u3)(gv.ad,!0);var t0=B(981);class bv{constructor(c){return c}}const wl="storage",ly=new u.OlP("angularfire2.storage-instances");function n0(f){return(c,a)=>{const p=c.runOutsideAngular(()=>f(a));return new bv(p)}}const r0={provide:class Al{constructor(){return(0,Fr.vb)(wl)}},deps:[[new u.FiY,ly]]},s0={provide:bv,useFactory:function hE(f,c){const a=(0,Fr.JM)(wl,f,c);return a&&new bv(a)},deps:[[new u.FiY,ly],Nc]};let o0=(()=>{class f{constructor(){(0,_a.KN)("angularfire",Fr.q4.full,"gcs")}static \u0275fac=function(p){return new(p||f)};static \u0275mod=u.oAB({type:f});static \u0275inj=u.cJS({providers:[s0,r0]})}return f})();function Tv(f,...c){return{ngModule:o0,providers:[{provide:ly,useFactory:n0(f),multi:!0,deps:[u.R0b,u.zs3,Fr.HU,Of,[new u.FiY,cg],[new u.FiY,Fr.Rf],...c]}]}}const u0=(0,Fr.u3)(Hd,!0);var Av=B(5842);let gE=(()=>{class f{constructor(a){this.injector=a}handleError(a){this.injector.get(Av.I).logError(a)}static#e=this.\u0275fac=function(p){return new(p||f)(u.LFG(u.zs3))};static#t=this.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac})}return f})(),mE=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=u.oAB({type:f,bootstrap:[D_]});static#n=this.\u0275inj=u.cJS({providers:[{provide:u.qLn,useClass:gE},Av.I],imports:[g.b2,Vu,rg,Xr,Id,Zf,Dc.yb,Dp,t0.ww,Yo.hO.initializeApp(mh_firebase),tv(()=>km(mh_firebase)),oy(()=>aE()),Tv(()=>u0()),vn.UX,vn.u5,Ti.Bz,ks.JF,Ti.Bz]})}return f})();g.q6().bootstrapModule(mE).catch(f=>console.error(f))},5619:(Qt,Ke,B)=>{B.d(Ke,{X:()=>u});var g=B(8645);class u extends g.x{constructor(Ie){super(),this._value=Ie}get value(){return this.getValue()}_subscribe(Ie){const Ee=super._subscribe(Ie);return!Ee.closed&&Ie.next(this._value),Ee}getValue(){const{hasError:Ie,thrownError:Ee,_value:Se}=this;if(Ie)throw Ee;return this._throwIfClosed(),Se}next(Ie){super.next(this._value=Ie)}}},5592:(Qt,Ke,B)=>{B.d(Ke,{y:()=>Ce});var g=B(305),u=B(7394),H=B(4850),Ie=B(8407),Ee=B(2653),Se=B(4674),Ae=B(1441);let Ce=(()=>{class ve{constructor(et){et&&(this._subscribe=et)}lift(et){const Mt=new ve;return Mt.source=this,Mt.operator=et,Mt}subscribe(et,Mt,vt){const At=function ie(ve){return ve&&ve instanceof g.Lv||function ne(ve){return ve&&(0,Se.m)(ve.next)&&(0,Se.m)(ve.error)&&(0,Se.m)(ve.complete)}(ve)&&(0,u.Nn)(ve)}(et)?et:new g.Hp(et,Mt,vt);return(0,Ae.x)(()=>{const{operator:Et,source:on}=this;At.add(Et?Et.call(At,on):on?this._subscribe(At):this._trySubscribe(At))}),At}_trySubscribe(et){try{return this._subscribe(et)}catch(Mt){et.error(Mt)}}forEach(et,Mt){return new(Mt=Ve(Mt))((vt,At)=>{const Et=new g.Hp({next:on=>{try{et(on)}catch(Qe){At(Qe),Et.unsubscribe()}},error:At,complete:vt});this.subscribe(Et)})}_subscribe(et){var Mt;return null===(Mt=this.source)||void 0===Mt?void 0:Mt.subscribe(et)}[H.L](){return this}pipe(...et){return(0,Ie.U)(et)(this)}toPromise(et){return new(et=Ve(et))((Mt,vt)=>{let At;this.subscribe(Et=>At=Et,Et=>vt(Et),()=>Mt(At))})}}return ve.create=it=>new ve(it),ve})();function Ve(ve){var it;return null!==(it=ve??Ee.config.Promise)&&void 0!==it?it:Promise}},8645:(Qt,Ke,B)=>{B.d(Ke,{x:()=>Ae});var g=B(5592),u=B(7394);const Ie=(0,B(2306).d)(Ve=>function(){Ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ee=B(9039),Se=B(1441);let Ae=(()=>{class Ve extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ie){const ve=new Ce(this,this);return ve.operator=ie,ve}_throwIfClosed(){if(this.closed)throw new Ie}next(ie){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ve of this.currentObservers)ve.next(ie)}})}error(ie){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ie;const{observers:ve}=this;for(;ve.length;)ve.shift().error(ie)}})}complete(){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ie}=this;for(;ie.length;)ie.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ie;return(null===(ie=this.observers)||void 0===ie?void 0:ie.length)>0}_trySubscribe(ie){return this._throwIfClosed(),super._trySubscribe(ie)}_subscribe(ie){return this._throwIfClosed(),this._checkFinalizedStatuses(ie),this._innerSubscribe(ie)}_innerSubscribe(ie){const{hasError:ve,isStopped:it,observers:et}=this;return ve||it?u.Lc:(this.currentObservers=null,et.push(ie),new u.w0(()=>{this.currentObservers=null,(0,Ee.P)(et,ie)}))}_checkFinalizedStatuses(ie){const{hasError:ve,thrownError:it,isStopped:et}=this;ve?ie.error(it):et&&ie.complete()}asObservable(){const ie=new g.y;return ie.source=this,ie}}return Ve.create=(ne,ie)=>new Ce(ne,ie),Ve})();class Ce extends Ae{constructor(ne,ie){super(),this.destination=ne,this.source=ie}next(ne){var ie,ve;null===(ve=null===(ie=this.destination)||void 0===ie?void 0:ie.next)||void 0===ve||ve.call(ie,ne)}error(ne){var ie,ve;null===(ve=null===(ie=this.destination)||void 0===ie?void 0:ie.error)||void 0===ve||ve.call(ie,ne)}complete(){var ne,ie;null===(ie=null===(ne=this.destination)||void 0===ne?void 0:ne.complete)||void 0===ie||ie.call(ne)}_subscribe(ne){var ie,ve;return null!==(ve=null===(ie=this.source)||void 0===ie?void 0:ie.subscribe(ne))&&void 0!==ve?ve:u.Lc}}},305:(Qt,Ke,B)=>{B.d(Ke,{Hp:()=>vt,Lv:()=>ve});var g=B(4674),u=B(7394),H=B(2653),Ie=B(3894),Ee=B(2420);const Se=Ve("C",void 0,void 0);function Ve(ze,ct,Ge){return{kind:ze,value:ct,error:Ge}}var ne=B(7599),ie=B(1441);class ve extends u.w0{constructor(ct){super(),this.isStopped=!1,ct?(this.destination=ct,(0,u.Nn)(ct)&&ct.add(this)):this.destination=Qe}static create(ct,Ge,ot){return new vt(ct,Ge,ot)}next(ct){this.isStopped?on(function Ce(ze){return Ve("N",ze,void 0)}(ct),this):this._next(ct)}error(ct){this.isStopped?on(function Ae(ze){return Ve("E",void 0,ze)}(ct),this):(this.isStopped=!0,this._error(ct))}complete(){this.isStopped?on(Se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ct){this.destination.next(ct)}_error(ct){try{this.destination.error(ct)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const it=Function.prototype.bind;function et(ze,ct){return it.call(ze,ct)}class Mt{constructor(ct){this.partialObserver=ct}next(ct){const{partialObserver:Ge}=this;if(Ge.next)try{Ge.next(ct)}catch(ot){At(ot)}}error(ct){const{partialObserver:Ge}=this;if(Ge.error)try{Ge.error(ct)}catch(ot){At(ot)}else At(ct)}complete(){const{partialObserver:ct}=this;if(ct.complete)try{ct.complete()}catch(Ge){At(Ge)}}}class vt extends ve{constructor(ct,Ge,ot){let Dt;if(super(),(0,g.m)(ct)||!ct)Dt={next:ct??void 0,error:Ge??void 0,complete:ot??void 0};else{let Je;this&&H.config.useDeprecatedNextContext?(Je=Object.create(ct),Je.unsubscribe=()=>this.unsubscribe(),Dt={next:ct.next&&et(ct.next,Je),error:ct.error&&et(ct.error,Je),complete:ct.complete&&et(ct.complete,Je)}):Dt=ct}this.destination=new Mt(Dt)}}function At(ze){H.config.useDeprecatedSynchronousErrorHandling?(0,ie.O)(ze):(0,Ie.h)(ze)}function on(ze,ct){const{onStoppedNotification:Ge}=H.config;Ge&&ne.z.setTimeout(()=>Ge(ze,ct))}const Qe={closed:!0,next:Ee.Z,error:function Et(ze){throw ze},complete:Ee.Z}},7394:(Qt,Ke,B)=>{B.d(Ke,{Lc:()=>Se,w0:()=>Ee,Nn:()=>Ae});var g=B(4674);const H=(0,B(2306).d)(Ve=>function(ie){Ve(this),this.message=ie?`${ie.length} errors occurred during unsubscription:\n${ie.map((ve,it)=>`${it+1}) ${ve.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ie});var Ie=B(9039);class Ee{constructor(ne){this.initialTeardown=ne,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ne;if(!this.closed){this.closed=!0;const{_parentage:ie}=this;if(ie)if(this._parentage=null,Array.isArray(ie))for(const et of ie)et.remove(this);else ie.remove(this);const{initialTeardown:ve}=this;if((0,g.m)(ve))try{ve()}catch(et){ne=et instanceof H?et.errors:[et]}const{_finalizers:it}=this;if(it){this._finalizers=null;for(const et of it)try{Ce(et)}catch(Mt){ne=ne??[],Mt instanceof H?ne=[...ne,...Mt.errors]:ne.push(Mt)}}if(ne)throw new H(ne)}}add(ne){var ie;if(ne&&ne!==this)if(this.closed)Ce(ne);else{if(ne instanceof Ee){if(ne.closed||ne._hasParent(this))return;ne._addParent(this)}(this._finalizers=null!==(ie=this._finalizers)&&void 0!==ie?ie:[]).push(ne)}}_hasParent(ne){const{_parentage:ie}=this;return ie===ne||Array.isArray(ie)&&ie.includes(ne)}_addParent(ne){const{_parentage:ie}=this;this._parentage=Array.isArray(ie)?(ie.push(ne),ie):ie?[ie,ne]:ne}_removeParent(ne){const{_parentage:ie}=this;ie===ne?this._parentage=null:Array.isArray(ie)&&(0,Ie.P)(ie,ne)}remove(ne){const{_finalizers:ie}=this;ie&&(0,Ie.P)(ie,ne),ne instanceof Ee&&ne._removeParent(this)}}Ee.EMPTY=(()=>{const Ve=new Ee;return Ve.closed=!0,Ve})();const Se=Ee.EMPTY;function Ae(Ve){return Ve instanceof Ee||Ve&&"closed"in Ve&&(0,g.m)(Ve.remove)&&(0,g.m)(Ve.add)&&(0,g.m)(Ve.unsubscribe)}function Ce(Ve){(0,g.m)(Ve)?Ve():Ve.unsubscribe()}},2653:(Qt,Ke,B)=>{B.d(Ke,{config:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(Qt,Ke,B)=>{B.d(Ke,{a:()=>ne});var g=B(5592),u=B(7453),H=B(2459),Ie=B(2737),Ee=B(7400),Se=B(4564),Ae=B(2714),Ce=B(8251),Ve=B(7103);function ne(...it){const et=(0,Se.yG)(it),Mt=(0,Se.jO)(it),{args:vt,keys:At}=(0,u.D)(it);if(0===vt.length)return(0,H.D)([],et);const Et=new g.y(function ie(it,et,Mt=Ie.y){return vt=>{ve(et,()=>{const{length:At}=it,Et=new Array(At);let on=At,Qe=At;for(let ze=0;ze<At;ze++)ve(et,()=>{const ct=(0,H.D)(it[ze],et);let Ge=!1;ct.subscribe((0,Ce.x)(vt,ot=>{Et[ze]=ot,Ge||(Ge=!0,Qe--),Qe||vt.next(Mt(Et.slice()))},()=>{--on||vt.complete()}))},vt)},vt)}}(vt,et,At?on=>(0,Ae.n)(At,on):Ie.y));return Mt?Et.pipe((0,Ee.Z)(Mt)):Et}function ve(it,et,Mt){it?(0,Ve.f)(Mt,it,et):et()}},5211:(Qt,Ke,B)=>{B.d(Ke,{z:()=>Ee});var g=B(7537),H=B(4564),Ie=B(2459);function Ee(...Se){return function u(){return(0,g.J)(1)}()((0,Ie.D)(Se,(0,H.yG)(Se)))}},6232:(Qt,Ke,B)=>{B.d(Ke,{E:()=>u});const u=new(B(5592).y)(Ee=>Ee.complete())},9315:(Qt,Ke,B)=>{B.d(Ke,{D:()=>Ce});var g=B(5592),u=B(7453),H=B(4829),Ie=B(4564),Ee=B(8251),Se=B(7400),Ae=B(2714);function Ce(...Ve){const ne=(0,Ie.jO)(Ve),{args:ie,keys:ve}=(0,u.D)(Ve),it=new g.y(et=>{const{length:Mt}=ie;if(!Mt)return void et.complete();const vt=new Array(Mt);let At=Mt,Et=Mt;for(let on=0;on<Mt;on++){let Qe=!1;(0,H.Xf)(ie[on]).subscribe((0,Ee.x)(et,ze=>{Qe||(Qe=!0,Et--),vt[on]=ze},()=>At--,void 0,()=>{(!At||!Qe)&&(Et||et.next(ve?(0,Ae.n)(ve,vt):vt),et.complete())}))}});return ne?it.pipe((0,Se.Z)(ne)):it}},2459:(Qt,Ke,B)=>{B.d(Ke,{D:()=>ct});var g=B(4829),u=B(3093),H=B(5137),Se=B(5592),Ce=B(4971),Ve=B(4674),ne=B(7103);function ve(Ge,ot){if(!Ge)throw new Error("Iterable cannot be null");return new Se.y(Dt=>{(0,ne.f)(Dt,ot,()=>{const Je=Ge[Symbol.asyncIterator]();(0,ne.f)(Dt,ot,()=>{Je.next().then(me=>{me.done?Dt.complete():Dt.next(me.value)})},0,!0)})})}var it=B(8382),et=B(4026),Mt=B(4266),vt=B(3664),At=B(5726),Et=B(9853),on=B(541);function ct(Ge,ot){return ot?function ze(Ge,ot){if(null!=Ge){if((0,it.c)(Ge))return function Ie(Ge,ot){return(0,g.Xf)(Ge).pipe((0,H.R)(ot),(0,u.Q)(ot))}(Ge,ot);if((0,Mt.z)(Ge))return function Ae(Ge,ot){return new Se.y(Dt=>{let Je=0;return ot.schedule(function(){Je===Ge.length?Dt.complete():(Dt.next(Ge[Je++]),Dt.closed||this.schedule())})})}(Ge,ot);if((0,et.t)(Ge))return function Ee(Ge,ot){return(0,g.Xf)(Ge).pipe((0,H.R)(ot),(0,u.Q)(ot))}(Ge,ot);if((0,At.D)(Ge))return ve(Ge,ot);if((0,vt.T)(Ge))return function ie(Ge,ot){return new Se.y(Dt=>{let Je;return(0,ne.f)(Dt,ot,()=>{Je=Ge[Ce.h](),(0,ne.f)(Dt,ot,()=>{let me,Ct;try{({value:me,done:Ct}=Je.next())}catch($t){return void Dt.error($t)}Ct?Dt.complete():Dt.next(me)},0,!0)}),()=>(0,Ve.m)(Je?.return)&&Je.return()})}(Ge,ot);if((0,on.L)(Ge))return function Qe(Ge,ot){return ve((0,on.Q)(Ge),ot)}(Ge,ot)}throw(0,Et.z)(Ge)}(Ge,ot):(0,g.Xf)(Ge)}},4829:(Qt,Ke,B)=>{B.d(Ke,{Xf:()=>it});var g=B(7582),u=B(4266),H=B(4026),Ie=B(5592),Ee=B(8382),Se=B(5726),Ae=B(9853),Ce=B(3664),Ve=B(541),ne=B(4674),ie=B(3894),ve=B(4850);function it(ze){if(ze instanceof Ie.y)return ze;if(null!=ze){if((0,Ee.c)(ze))return function et(ze){return new Ie.y(ct=>{const Ge=ze[ve.L]();if((0,ne.m)(Ge.subscribe))return Ge.subscribe(ct);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ze);if((0,u.z)(ze))return function Mt(ze){return new Ie.y(ct=>{for(let Ge=0;Ge<ze.length&&!ct.closed;Ge++)ct.next(ze[Ge]);ct.complete()})}(ze);if((0,H.t)(ze))return function vt(ze){return new Ie.y(ct=>{ze.then(Ge=>{ct.closed||(ct.next(Ge),ct.complete())},Ge=>ct.error(Ge)).then(null,ie.h)})}(ze);if((0,Se.D)(ze))return Et(ze);if((0,Ce.T)(ze))return function At(ze){return new Ie.y(ct=>{for(const Ge of ze)if(ct.next(Ge),ct.closed)return;ct.complete()})}(ze);if((0,Ve.L)(ze))return function on(ze){return Et((0,Ve.Q)(ze))}(ze)}throw(0,Ae.z)(ze)}function Et(ze){return new Ie.y(ct=>{(function Qe(ze,ct){var Ge,ot,Dt,Je;return(0,g.mG)(this,void 0,void 0,function*(){try{for(Ge=(0,g.KL)(ze);!(ot=yield Ge.next()).done;)if(ct.next(ot.value),ct.closed)return}catch(me){Dt={error:me}}finally{try{ot&&!ot.done&&(Je=Ge.return)&&(yield Je.call(Ge))}finally{if(Dt)throw Dt.error}}ct.complete()})})(ze,ct).catch(Ge=>ct.error(Ge))})}},3019:(Qt,Ke,B)=>{B.d(Ke,{T:()=>Se});var g=B(7537),u=B(4829),H=B(6232),Ie=B(4564),Ee=B(2459);function Se(...Ae){const Ce=(0,Ie.yG)(Ae),Ve=(0,Ie._6)(Ae,1/0),ne=Ae;return ne.length?1===ne.length?(0,u.Xf)(ne[0]):(0,g.J)(Ve)((0,Ee.D)(ne,Ce)):H.E}},2096:(Qt,Ke,B)=>{B.d(Ke,{of:()=>H});var g=B(4564),u=B(2459);function H(...Ie){const Ee=(0,g.yG)(Ie);return(0,u.D)(Ie,Ee)}},8504:(Qt,Ke,B)=>{B.d(Ke,{_:()=>H});var g=B(5592),u=B(4674);function H(Ie,Ee){const Se=(0,u.m)(Ie)?Ie:()=>Ie,Ae=Ce=>Ce.error(Se());return new g.y(Ee?Ce=>Ee.schedule(Ae,0,Ce):Ae)}},8251:(Qt,Ke,B)=>{B.d(Ke,{x:()=>u});var g=B(305);function u(Ie,Ee,Se,Ae,Ce){return new H(Ie,Ee,Se,Ae,Ce)}class H extends g.Lv{constructor(Ee,Se,Ae,Ce,Ve,ne){super(Ee),this.onFinalize=Ve,this.shouldUnsubscribe=ne,this._next=Se?function(ie){try{Se(ie)}catch(ve){Ee.error(ve)}}:super._next,this._error=Ce?function(ie){try{Ce(ie)}catch(ve){Ee.error(ve)}finally{this.unsubscribe()}}:super._error,this._complete=Ae?function(){try{Ae()}catch(ie){Ee.error(ie)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Se}=this;super.unsubscribe(),!Se&&(null===(Ee=this.onFinalize)||void 0===Ee||Ee.call(this))}}}},6306:(Qt,Ke,B)=>{B.d(Ke,{K:()=>Ie});var g=B(4829),u=B(8251),H=B(9360);function Ie(Ee){return(0,H.e)((Se,Ae)=>{let ne,Ce=null,Ve=!1;Ce=Se.subscribe((0,u.x)(Ae,void 0,void 0,ie=>{ne=(0,g.Xf)(Ee(ie,Ie(Ee)(Se))),Ce?(Ce.unsubscribe(),Ce=null,ne.subscribe(Ae)):Ve=!0})),Ve&&(Ce.unsubscribe(),Ce=null,ne.subscribe(Ae))})}},6328:(Qt,Ke,B)=>{B.d(Ke,{b:()=>H});var g=B(1631),u=B(4674);function H(Ie,Ee){return(0,u.m)(Ee)?(0,g.z)(Ie,Ee,1):(0,g.z)(Ie,1)}},3572:(Qt,Ke,B)=>{B.d(Ke,{d:()=>H});var g=B(9360),u=B(8251);function H(Ie){return(0,g.e)((Ee,Se)=>{let Ae=!1;Ee.subscribe((0,u.x)(Se,Ce=>{Ae=!0,Se.next(Ce)},()=>{Ae||Se.next(Ie),Se.complete()}))})}},3997:(Qt,Ke,B)=>{B.d(Ke,{x:()=>Ie});var g=B(2737),u=B(9360),H=B(8251);function Ie(Se,Ae=g.y){return Se=Se??Ee,(0,u.e)((Ce,Ve)=>{let ne,ie=!0;Ce.subscribe((0,H.x)(Ve,ve=>{const it=Ae(ve);(ie||!Se(ne,it))&&(ie=!1,ne=it,Ve.next(ve))}))})}function Ee(Se,Ae){return Se===Ae}},2181:(Qt,Ke,B)=>{B.d(Ke,{h:()=>H});var g=B(9360),u=B(8251);function H(Ie,Ee){return(0,g.e)((Se,Ae)=>{let Ce=0;Se.subscribe((0,u.x)(Ae,Ve=>Ie.call(Ee,Ve,Ce++)&&Ae.next(Ve)))})}},4716:(Qt,Ke,B)=>{B.d(Ke,{x:()=>u});var g=B(9360);function u(H){return(0,g.e)((Ie,Ee)=>{try{Ie.subscribe(Ee)}finally{Ee.add(H)}})}},1374:(Qt,Ke,B)=>{B.d(Ke,{P:()=>Ae});var g=B(6973),u=B(2181),H=B(8180),Ie=B(3572),Ee=B(3026),Se=B(2737);function Ae(Ce,Ve){const ne=arguments.length>=2;return ie=>ie.pipe(Ce?(0,u.h)((ve,it)=>Ce(ve,it,ie)):Se.y,(0,H.q)(1),ne?(0,Ie.d)(Ve):(0,Ee.T)(()=>new g.K))}},7398:(Qt,Ke,B)=>{B.d(Ke,{U:()=>H});var g=B(9360),u=B(8251);function H(Ie,Ee){return(0,g.e)((Se,Ae)=>{let Ce=0;Se.subscribe((0,u.x)(Ae,Ve=>{Ae.next(Ie.call(Ee,Ve,Ce++))}))})}},7537:(Qt,Ke,B)=>{B.d(Ke,{J:()=>H});var g=B(1631),u=B(2737);function H(Ie=1/0){return(0,g.z)(u.y,Ie)}},1631:(Qt,Ke,B)=>{B.d(Ke,{z:()=>Ce});var g=B(7398),u=B(4829),H=B(9360),Ie=B(7103),Ee=B(8251),Ae=B(4674);function Ce(Ve,ne,ie=1/0){return(0,Ae.m)(ne)?Ce((ve,it)=>(0,g.U)((et,Mt)=>ne(ve,et,it,Mt))((0,u.Xf)(Ve(ve,it))),ie):("number"==typeof ne&&(ie=ne),(0,H.e)((ve,it)=>function Se(Ve,ne,ie,ve,it,et,Mt,vt){const At=[];let Et=0,on=0,Qe=!1;const ze=()=>{Qe&&!At.length&&!Et&&ne.complete()},ct=ot=>Et<ve?Ge(ot):At.push(ot),Ge=ot=>{et&&ne.next(ot),Et++;let Dt=!1;(0,u.Xf)(ie(ot,on++)).subscribe((0,Ee.x)(ne,Je=>{it?.(Je),et?ct(Je):ne.next(Je)},()=>{Dt=!0},void 0,()=>{if(Dt)try{for(Et--;At.length&&Et<ve;){const Je=At.shift();Mt?(0,Ie.f)(ne,Mt,()=>Ge(Je)):Ge(Je)}ze()}catch(Je){ne.error(Je)}}))};return Ve.subscribe((0,Ee.x)(ne,ct,()=>{Qe=!0,ze()})),()=>{vt?.()}}(ve,it,Ve,ie)))}},3093:(Qt,Ke,B)=>{B.d(Ke,{Q:()=>Ie});var g=B(7103),u=B(9360),H=B(8251);function Ie(Ee,Se=0){return(0,u.e)((Ae,Ce)=>{Ae.subscribe((0,H.x)(Ce,Ve=>(0,g.f)(Ce,Ee,()=>Ce.next(Ve),Se),()=>(0,g.f)(Ce,Ee,()=>Ce.complete(),Se),Ve=>(0,g.f)(Ce,Ee,()=>Ce.error(Ve),Se)))})}},6699:(Qt,Ke,B)=>{B.d(Ke,{R:()=>Ie});var g=B(9360),u=B(8251);function Ie(Ee,Se){return(0,g.e)(function H(Ee,Se,Ae,Ce,Ve){return(ne,ie)=>{let ve=Ae,it=Se,et=0;ne.subscribe((0,u.x)(ie,Mt=>{const vt=et++;it=ve?Ee(it,Mt,vt):(ve=!0,Mt),Ce&&ie.next(it)},Ve&&(()=>{ve&&ie.next(it),ie.complete()})))}}(Ee,Se,arguments.length>=2,!0))}},3020:(Qt,Ke,B)=>{B.d(Ke,{B:()=>Ee});var g=B(4829),u=B(8645),H=B(305),Ie=B(9360);function Ee(Ae={}){const{connector:Ce=(()=>new u.x),resetOnError:Ve=!0,resetOnComplete:ne=!0,resetOnRefCountZero:ie=!0}=Ae;return ve=>{let it,et,Mt,vt=0,At=!1,Et=!1;const on=()=>{et?.unsubscribe(),et=void 0},Qe=()=>{on(),it=Mt=void 0,At=Et=!1},ze=()=>{const ct=it;Qe(),ct?.unsubscribe()};return(0,Ie.e)((ct,Ge)=>{vt++,!Et&&!At&&on();const ot=Mt=Mt??Ce();Ge.add(()=>{vt--,0===vt&&!Et&&!At&&(et=Se(ze,ie))}),ot.subscribe(Ge),!it&&vt>0&&(it=new H.Hp({next:Dt=>ot.next(Dt),error:Dt=>{Et=!0,on(),et=Se(Qe,Ve,Dt),ot.error(Dt)},complete:()=>{At=!0,on(),et=Se(Qe,ne),ot.complete()}}),(0,g.Xf)(ct).subscribe(it))})(ve)}}function Se(Ae,Ce,...Ve){if(!0===Ce)return void Ae();if(!1===Ce)return;const ne=new H.Hp({next:()=>{ne.unsubscribe(),Ae()}});return(0,g.Xf)(Ce(...Ve)).subscribe(ne)}},940:(Qt,Ke,B)=>{B.d(Ke,{d:()=>Ee});var g=B(8645),u=B(4552);class H extends g.x{constructor(Ae=1/0,Ce=1/0,Ve=u.l){super(),this._bufferSize=Ae,this._windowTime=Ce,this._timestampProvider=Ve,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ce===1/0,this._bufferSize=Math.max(1,Ae),this._windowTime=Math.max(1,Ce)}next(Ae){const{isStopped:Ce,_buffer:Ve,_infiniteTimeWindow:ne,_timestampProvider:ie,_windowTime:ve}=this;Ce||(Ve.push(Ae),!ne&&Ve.push(ie.now()+ve)),this._trimBuffer(),super.next(Ae)}_subscribe(Ae){this._throwIfClosed(),this._trimBuffer();const Ce=this._innerSubscribe(Ae),{_infiniteTimeWindow:Ve,_buffer:ne}=this,ie=ne.slice();for(let ve=0;ve<ie.length&&!Ae.closed;ve+=Ve?1:2)Ae.next(ie[ve]);return this._checkFinalizedStatuses(Ae),Ce}_trimBuffer(){const{_bufferSize:Ae,_timestampProvider:Ce,_buffer:Ve,_infiniteTimeWindow:ne}=this,ie=(ne?1:2)*Ae;if(Ae<1/0&&ie<Ve.length&&Ve.splice(0,Ve.length-ie),!ne){const ve=Ce.now();let it=0;for(let et=1;et<Ve.length&&Ve[et]<=ve;et+=2)it=et;it&&Ve.splice(0,it+1)}}}var Ie=B(3020);function Ee(Se,Ae,Ce){let Ve,ne=!1;return Se&&"object"==typeof Se?({bufferSize:Ve=1/0,windowTime:Ae=1/0,refCount:ne=!1,scheduler:Ce}=Se):Ve=Se??1/0,(0,Ie.B)({connector:()=>new H(Ve,Ae,Ce),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ne})}},7921:(Qt,Ke,B)=>{B.d(Ke,{O:()=>Ie});var g=B(5211),u=B(4564),H=B(9360);function Ie(...Ee){const Se=(0,u.yG)(Ee);return(0,H.e)((Ae,Ce)=>{(Se?(0,g.z)(Ee,Ae,Se):(0,g.z)(Ee,Ae)).subscribe(Ce)})}},5137:(Qt,Ke,B)=>{B.d(Ke,{R:()=>u});var g=B(9360);function u(H,Ie=0){return(0,g.e)((Ee,Se)=>{Se.add(H.schedule(()=>Ee.subscribe(Se),Ie))})}},4664:(Qt,Ke,B)=>{B.d(Ke,{w:()=>Ie});var g=B(4829),u=B(9360),H=B(8251);function Ie(Ee,Se){return(0,u.e)((Ae,Ce)=>{let Ve=null,ne=0,ie=!1;const ve=()=>ie&&!Ve&&Ce.complete();Ae.subscribe((0,H.x)(Ce,it=>{Ve?.unsubscribe();let et=0;const Mt=ne++;(0,g.Xf)(Ee(it,Mt)).subscribe(Ve=(0,H.x)(Ce,vt=>Ce.next(Se?Se(it,vt,Mt,et++):vt),()=>{Ve=null,ve()}))},()=>{ie=!0,ve()}))})}},8180:(Qt,Ke,B)=>{B.d(Ke,{q:()=>Ie});var g=B(6232),u=B(9360),H=B(8251);function Ie(Ee){return Ee<=0?()=>g.E:(0,u.e)((Se,Ae)=>{let Ce=0;Se.subscribe((0,H.x)(Ae,Ve=>{++Ce<=Ee&&(Ae.next(Ve),Ee<=Ce&&Ae.complete())}))})}},9773:(Qt,Ke,B)=>{B.d(Ke,{R:()=>Ee});var g=B(9360),u=B(8251),H=B(4829),Ie=B(2420);function Ee(Se){return(0,g.e)((Ae,Ce)=>{(0,H.Xf)(Se).subscribe((0,u.x)(Ce,()=>Ce.complete(),Ie.Z)),!Ce.closed&&Ae.subscribe(Ce)})}},9397:(Qt,Ke,B)=>{B.d(Ke,{b:()=>Ee});var g=B(4674),u=B(9360),H=B(8251),Ie=B(2737);function Ee(Se,Ae,Ce){const Ve=(0,g.m)(Se)||Ae||Ce?{next:Se,error:Ae,complete:Ce}:Se;return Ve?(0,u.e)((ne,ie)=>{var ve;null===(ve=Ve.subscribe)||void 0===ve||ve.call(Ve);let it=!0;ne.subscribe((0,H.x)(ie,et=>{var Mt;null===(Mt=Ve.next)||void 0===Mt||Mt.call(Ve,et),ie.next(et)},()=>{var et;it=!1,null===(et=Ve.complete)||void 0===et||et.call(Ve),ie.complete()},et=>{var Mt;it=!1,null===(Mt=Ve.error)||void 0===Mt||Mt.call(Ve,et),ie.error(et)},()=>{var et,Mt;it&&(null===(et=Ve.unsubscribe)||void 0===et||et.call(Ve)),null===(Mt=Ve.finalize)||void 0===Mt||Mt.call(Ve)}))}):Ie.y}},3026:(Qt,Ke,B)=>{B.d(Ke,{T:()=>Ie});var g=B(6973),u=B(9360),H=B(8251);function Ie(Se=Ee){return(0,u.e)((Ae,Ce)=>{let Ve=!1;Ae.subscribe((0,H.x)(Ce,ne=>{Ve=!0,Ce.next(ne)},()=>Ve?Ce.complete():Ce.error(Se())))})}function Ee(){return new g.K}},1954:(Qt,Ke,B)=>{B.d(Ke,{o:()=>Ee});var g=B(7394);class u extends g.w0{constructor(Ae,Ce){super()}schedule(Ae,Ce=0){return this}}const H={setInterval(Se,Ae,...Ce){const{delegate:Ve}=H;return Ve?.setInterval?Ve.setInterval(Se,Ae,...Ce):setInterval(Se,Ae,...Ce)},clearInterval(Se){const{delegate:Ae}=H;return(Ae?.clearInterval||clearInterval)(Se)},delegate:void 0};var Ie=B(9039);class Ee extends u{constructor(Ae,Ce){super(Ae,Ce),this.scheduler=Ae,this.work=Ce,this.pending=!1}schedule(Ae,Ce=0){var Ve;if(this.closed)return this;this.state=Ae;const ne=this.id,ie=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(ie,ne,Ce)),this.pending=!0,this.delay=Ce,this.id=null!==(Ve=this.id)&&void 0!==Ve?Ve:this.requestAsyncId(ie,this.id,Ce),this}requestAsyncId(Ae,Ce,Ve=0){return H.setInterval(Ae.flush.bind(Ae,this),Ve)}recycleAsyncId(Ae,Ce,Ve=0){if(null!=Ve&&this.delay===Ve&&!1===this.pending)return Ce;null!=Ce&&H.clearInterval(Ce)}execute(Ae,Ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ve=this._execute(Ae,Ce);if(Ve)return Ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ae,Ce){let ne,Ve=!1;try{this.work(Ae)}catch(ie){Ve=!0,ne=ie||new Error("Scheduled action threw falsy error")}if(Ve)return this.unsubscribe(),ne}unsubscribe(){if(!this.closed){const{id:Ae,scheduler:Ce}=this,{actions:Ve}=Ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ie.P)(Ve,this),null!=Ae&&(this.id=this.recycleAsyncId(Ce,Ae,null)),this.delay=null,super.unsubscribe()}}}},2631:(Qt,Ke,B)=>{B.d(Ke,{v:()=>H});var g=B(4552);class u{constructor(Ee,Se=u.now){this.schedulerActionCtor=Ee,this.now=Se}schedule(Ee,Se=0,Ae){return new this.schedulerActionCtor(this,Ee).schedule(Ae,Se)}}u.now=g.l.now;class H extends u{constructor(Ee,Se=u.now){super(Ee,Se),this.actions=[],this._active=!1}flush(Ee){const{actions:Se}=this;if(this._active)return void Se.push(Ee);let Ae;this._active=!0;do{if(Ae=Ee.execute(Ee.state,Ee.delay))break}while(Ee=Se.shift());if(this._active=!1,Ae){for(;Ee=Se.shift();)Ee.unsubscribe();throw Ae}}}},6321:(Qt,Ke,B)=>{B.d(Ke,{z:()=>H});var g=B(1954);const H=new(B(2631).v)(g.o)},4552:(Qt,Ke,B)=>{B.d(Ke,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},7599:(Qt,Ke,B)=>{B.d(Ke,{z:()=>g});const g={setTimeout(u,H,...Ie){const{delegate:Ee}=g;return Ee?.setTimeout?Ee.setTimeout(u,H,...Ie):setTimeout(u,H,...Ie)},clearTimeout(u){const{delegate:H}=g;return(H?.clearTimeout||clearTimeout)(u)},delegate:void 0}},4971:(Qt,Ke,B)=>{B.d(Ke,{h:()=>u});const u=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Qt,Ke,B)=>{B.d(Ke,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Qt,Ke,B)=>{B.d(Ke,{K:()=>u});const u=(0,B(2306).d)(H=>function(){H(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(Qt,Ke,B)=>{B.d(Ke,{_6:()=>Se,jO:()=>Ie,yG:()=>Ee});var g=B(4674);function H(Ae){return Ae[Ae.length-1]}function Ie(Ae){return(0,g.m)(H(Ae))?Ae.pop():void 0}function Ee(Ae){return function u(Ae){return Ae&&(0,g.m)(Ae.schedule)}(H(Ae))?Ae.pop():void 0}function Se(Ae,Ce){return"number"==typeof H(Ae)?Ae.pop():Ce}},7453:(Qt,Ke,B)=>{B.d(Ke,{D:()=>Ee});const{isArray:g}=Array,{getPrototypeOf:u,prototype:H,keys:Ie}=Object;function Ee(Ae){if(1===Ae.length){const Ce=Ae[0];if(g(Ce))return{args:Ce,keys:null};if(function Se(Ae){return Ae&&"object"==typeof Ae&&u(Ae)===H}(Ce)){const Ve=Ie(Ce);return{args:Ve.map(ne=>Ce[ne]),keys:Ve}}}return{args:Ae,keys:null}}},9039:(Qt,Ke,B)=>{function g(u,H){if(u){const Ie=u.indexOf(H);0<=Ie&&u.splice(Ie,1)}}B.d(Ke,{P:()=>g})},2306:(Qt,Ke,B)=>{function g(u){const Ie=u(Ee=>{Error.call(Ee),Ee.stack=(new Error).stack});return Ie.prototype=Object.create(Error.prototype),Ie.prototype.constructor=Ie,Ie}B.d(Ke,{d:()=>g})},2714:(Qt,Ke,B)=>{function g(u,H){return u.reduce((Ie,Ee,Se)=>(Ie[Ee]=H[Se],Ie),{})}B.d(Ke,{n:()=>g})},1441:(Qt,Ke,B)=>{B.d(Ke,{O:()=>Ie,x:()=>H});var g=B(2653);let u=null;function H(Ee){if(g.config.useDeprecatedSynchronousErrorHandling){const Se=!u;if(Se&&(u={errorThrown:!1,error:null}),Ee(),Se){const{errorThrown:Ae,error:Ce}=u;if(u=null,Ae)throw Ce}}else Ee()}function Ie(Ee){g.config.useDeprecatedSynchronousErrorHandling&&u&&(u.errorThrown=!0,u.error=Ee)}},7103:(Qt,Ke,B)=>{function g(u,H,Ie,Ee=0,Se=!1){const Ae=H.schedule(function(){Ie(),Se?u.add(this.schedule(null,Ee)):this.unsubscribe()},Ee);if(u.add(Ae),!Se)return Ae}B.d(Ke,{f:()=>g})},2737:(Qt,Ke,B)=>{function g(u){return u}B.d(Ke,{y:()=>g})},4266:(Qt,Ke,B)=>{B.d(Ke,{z:()=>g});const g=u=>u&&"number"==typeof u.length&&"function"!=typeof u},5726:(Qt,Ke,B)=>{B.d(Ke,{D:()=>u});var g=B(4674);function u(H){return Symbol.asyncIterator&&(0,g.m)(H?.[Symbol.asyncIterator])}},4674:(Qt,Ke,B)=>{function g(u){return"function"==typeof u}B.d(Ke,{m:()=>g})},8382:(Qt,Ke,B)=>{B.d(Ke,{c:()=>H});var g=B(4850),u=B(4674);function H(Ie){return(0,u.m)(Ie[g.L])}},3664:(Qt,Ke,B)=>{B.d(Ke,{T:()=>H});var g=B(4971),u=B(4674);function H(Ie){return(0,u.m)(Ie?.[g.h])}},4026:(Qt,Ke,B)=>{B.d(Ke,{t:()=>u});var g=B(4674);function u(H){return(0,g.m)(H?.then)}},541:(Qt,Ke,B)=>{B.d(Ke,{L:()=>Ie,Q:()=>H});var g=B(7582),u=B(4674);function H(Ee){return(0,g.FC)(this,arguments,function*(){const Ae=Ee.getReader();try{for(;;){const{value:Ce,done:Ve}=yield(0,g.qq)(Ae.read());if(Ve)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(Ce)}}finally{Ae.releaseLock()}})}function Ie(Ee){return(0,u.m)(Ee?.getReader)}},9360:(Qt,Ke,B)=>{B.d(Ke,{A:()=>u,e:()=>H});var g=B(4674);function u(Ie){return(0,g.m)(Ie?.lift)}function H(Ie){return Ee=>{if(u(Ee))return Ee.lift(function(Se){try{return Ie(Se,this)}catch(Ae){this.error(Ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Qt,Ke,B)=>{B.d(Ke,{Z:()=>Ie});var g=B(7398);const{isArray:u}=Array;function Ie(Ee){return(0,g.U)(Se=>function H(Ee,Se){return u(Se)?Ee(...Se):Ee(Se)}(Ee,Se))}},2420:(Qt,Ke,B)=>{function g(){}B.d(Ke,{Z:()=>g})},8407:(Qt,Ke,B)=>{B.d(Ke,{U:()=>H,z:()=>u});var g=B(2737);function u(...Ie){return H(Ie)}function H(Ie){return 0===Ie.length?g.y:1===Ie.length?Ie[0]:function(Se){return Ie.reduce((Ae,Ce)=>Ce(Ae),Se)}}},3894:(Qt,Ke,B)=>{B.d(Ke,{h:()=>H});var g=B(2653),u=B(7599);function H(Ie){u.z.setTimeout(()=>{const{onUnhandledError:Ee}=g.config;if(!Ee)throw Ie;Ee(Ie)})}},9853:(Qt,Ke,B)=>{function g(u){return new TypeError(`You provided ${null!==u&&"object"==typeof u?"an invalid object":`'${u}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}B.d(Ke,{z:()=>g})},6814:(Qt,Ke,B)=>{B.d(Ke,{Do:()=>vt,EM:()=>Ri,HT:()=>Ie,JF:()=>bs,K0:()=>Se,Mx:()=>Si,NF:()=>ns,O5:()=>Zi,Ov:()=>hi,PM:()=>pr,S$:()=>it,Ts:()=>Li,V_:()=>Ce,Ye:()=>At,b0:()=>Mt,bD:()=>Tr,ez:()=>fi,mk:()=>ir,q:()=>H,sg:()=>lr,uU:()=>Yr,w_:()=>Ee});var g=B(5879);let u=null;function H(){return u}function Ie(P){u||(u=P)}class Ee{}const Se=new g.OlP("DocumentToken");let Ae=(()=>{class P{historyGo($){throw new Error("Not implemented")}static#e=this.\u0275fac=function(te){return new(te||P)};static#t=this.\u0275prov=g.Yz7({token:P,factory:function(){return(0,g.f3M)(Ve)},providedIn:"platform"})}return P})();const Ce=new g.OlP("Location Initialized");let Ve=(()=>{class P extends Ae{constructor(){super(),this._doc=(0,g.f3M)(Se),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState($){const te=H().getGlobalEventTarget(this._doc,"window");return te.addEventListener("popstate",$,!1),()=>te.removeEventListener("popstate",$)}onHashChange($){const te=H().getGlobalEventTarget(this._doc,"window");return te.addEventListener("hashchange",$,!1),()=>te.removeEventListener("hashchange",$)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname($){this._location.pathname=$}pushState($,te,we){this._history.pushState($,te,we)}replaceState($,te,we){this._history.replaceState($,te,we)}forward(){this._history.forward()}back(){this._history.back()}historyGo($=0){this._history.go($)}getState(){return this._history.state}static#e=this.\u0275fac=function(te){return new(te||P)};static#t=this.\u0275prov=g.Yz7({token:P,factory:function(){return new P},providedIn:"platform"})}return P})();function ne(P,re){if(0==P.length)return re;if(0==re.length)return P;let $=0;return P.endsWith("/")&&$++,re.startsWith("/")&&$++,2==$?P+re.substring(1):1==$?P+re:P+"/"+re}function ie(P){const re=P.match(/#|\?|$/),$=re&&re.index||P.length;return P.slice(0,$-("/"===P[$-1]?1:0))+P.slice($)}function ve(P){return P&&"?"!==P[0]?"?"+P:P}let it=(()=>{class P{historyGo($){throw new Error("Not implemented")}static#e=this.\u0275fac=function(te){return new(te||P)};static#t=this.\u0275prov=g.Yz7({token:P,factory:function(){return(0,g.f3M)(Mt)},providedIn:"root"})}return P})();const et=new g.OlP("appBaseHref");let Mt=(()=>{class P extends it{constructor($,te){super(),this._platformLocation=$,this._removeListenerFns=[],this._baseHref=te??this._platformLocation.getBaseHrefFromDOM()??(0,g.f3M)(Se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}prepareExternalUrl($){return ne(this._baseHref,$)}path($=!1){const te=this._platformLocation.pathname+ve(this._platformLocation.search),we=this._platformLocation.hash;return we&&$?`${te}${we}`:te}pushState($,te,we,mt){const Ot=this.prepareExternalUrl(we+ve(mt));this._platformLocation.pushState($,te,Ot)}replaceState($,te,we,mt){const Ot=this.prepareExternalUrl(we+ve(mt));this._platformLocation.replaceState($,te,Ot)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){this._platformLocation.historyGo?.($)}static#e=this.\u0275fac=function(te){return new(te||P)(g.LFG(Ae),g.LFG(et,8))};static#t=this.\u0275prov=g.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})(),vt=(()=>{class P extends it{constructor($,te){super(),this._platformLocation=$,this._baseHref="",this._removeListenerFns=[],null!=te&&(this._baseHref=te)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}path($=!1){let te=this._platformLocation.hash;return null==te&&(te="#"),te.length>0?te.substring(1):te}prepareExternalUrl($){const te=ne(this._baseHref,$);return te.length>0?"#"+te:te}pushState($,te,we,mt){let Ot=this.prepareExternalUrl(we+ve(mt));0==Ot.length&&(Ot=this._platformLocation.pathname),this._platformLocation.pushState($,te,Ot)}replaceState($,te,we,mt){let Ot=this.prepareExternalUrl(we+ve(mt));0==Ot.length&&(Ot=this._platformLocation.pathname),this._platformLocation.replaceState($,te,Ot)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){this._platformLocation.historyGo?.($)}static#e=this.\u0275fac=function(te){return new(te||P)(g.LFG(Ae),g.LFG(et,8))};static#t=this.\u0275prov=g.Yz7({token:P,factory:P.\u0275fac})}return P})(),At=(()=>{class P{constructor($){this._subject=new g.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=$;const te=this._locationStrategy.getBaseHref();this._basePath=function ze(P){if(new RegExp("^(https?:)?//").test(P)){const[,$]=P.split(/\/\/[^\/]+/);return $}return P}(ie(Qe(te))),this._locationStrategy.onPopState(we=>{this._subject.emit({url:this.path(!0),pop:!0,state:we.state,type:we.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path($=!1){return this.normalize(this._locationStrategy.path($))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo($,te=""){return this.path()==this.normalize($+ve(te))}normalize($){return P.stripTrailingSlash(function on(P,re){if(!P||!re.startsWith(P))return re;const $=re.substring(P.length);return""===$||["/",";","?","#"].includes($[0])?$:re}(this._basePath,Qe($)))}prepareExternalUrl($){return $&&"/"!==$[0]&&($="/"+$),this._locationStrategy.prepareExternalUrl($)}go($,te="",we=null){this._locationStrategy.pushState(we,"",$,te),this._notifyUrlChangeListeners(this.prepareExternalUrl($+ve(te)),we)}replaceState($,te="",we=null){this._locationStrategy.replaceState(we,"",$,te),this._notifyUrlChangeListeners(this.prepareExternalUrl($+ve(te)),we)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo($=0){this._locationStrategy.historyGo?.($)}onUrlChange($){return this._urlChangeListeners.push($),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(te=>{this._notifyUrlChangeListeners(te.url,te.state)})),()=>{const te=this._urlChangeListeners.indexOf($);this._urlChangeListeners.splice(te,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners($="",te){this._urlChangeListeners.forEach(we=>we($,te))}subscribe($,te,we){return this._subject.subscribe({next:$,error:te,complete:we})}static#e=this.normalizeQueryParams=ve;static#t=this.joinWithSlash=ne;static#n=this.stripTrailingSlash=ie;static#r=this.\u0275fac=function(te){return new(te||P)(g.LFG(it))};static#i=this.\u0275prov=g.Yz7({token:P,factory:function(){return function Et(){return new At((0,g.LFG)(it))}()},providedIn:"root"})}return P})();function Qe(P){return P.replace(/\/index.html$/,"")}var Dt=function(P){return P[P.Format=0]="Format",P[P.Standalone=1]="Standalone",P}(Dt||{}),Je=function(P){return P[P.Narrow=0]="Narrow",P[P.Abbreviated=1]="Abbreviated",P[P.Wide=2]="Wide",P[P.Short=3]="Short",P}(Je||{}),me=function(P){return P[P.Short=0]="Short",P[P.Medium=1]="Medium",P[P.Long=2]="Long",P[P.Full=3]="Full",P}(me||{}),Ct=function(P){return P[P.Decimal=0]="Decimal",P[P.Group=1]="Group",P[P.List=2]="List",P[P.PercentSign=3]="PercentSign",P[P.PlusSign=4]="PlusSign",P[P.MinusSign=5]="MinusSign",P[P.Exponential=6]="Exponential",P[P.SuperscriptingExponent=7]="SuperscriptingExponent",P[P.PerMille=8]="PerMille",P[P.Infinity=9]="Infinity",P[P.NaN=10]="NaN",P[P.TimeSeparator=11]="TimeSeparator",P[P.CurrencyDecimal=12]="CurrencyDecimal",P[P.CurrencyGroup=13]="CurrencyGroup",P}(Ct||{});function Ue(P,re){return Mn((0,g.cg1)(P)[g.wAp.DateFormat],re)}function nt(P,re){return Mn((0,g.cg1)(P)[g.wAp.TimeFormat],re)}function rt(P,re){return Mn((0,g.cg1)(P)[g.wAp.DateTimeFormat],re)}function _t(P,re){const $=(0,g.cg1)(P),te=$[g.wAp.NumberSymbols][re];if(typeof te>"u"){if(re===Ct.CurrencyDecimal)return $[g.wAp.NumberSymbols][Ct.Decimal];if(re===Ct.CurrencyGroup)return $[g.wAp.NumberSymbols][Ct.Group]}return te}function _n(P){if(!P[g.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${P[g.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Mn(P,re){for(let $=re;$>-1;$--)if(typeof P[$]<"u")return P[$];throw new Error("Locale data API: locale data undefined")}function kn(P){const[re,$]=P.split(":");return{hours:+re,minutes:+$}}const vr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Kn={},Ut=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var bn=function(P){return P[P.Short=0]="Short",P[P.ShortGMT=1]="ShortGMT",P[P.Long=2]="Long",P[P.Extended=3]="Extended",P}(bn||{}),Vn=function(P){return P[P.FullYear=0]="FullYear",P[P.Month=1]="Month",P[P.Date=2]="Date",P[P.Hours=3]="Hours",P[P.Minutes=4]="Minutes",P[P.Seconds=5]="Seconds",P[P.FractionalSeconds=6]="FractionalSeconds",P[P.Day=7]="Day",P}(Vn||{}),Rn=function(P){return P[P.DayPeriods=0]="DayPeriods",P[P.Days=1]="Days",P[P.Months=2]="Months",P[P.Eras=3]="Eras",P}(Rn||{});function Br(P,re,$,te){let we=function J(P){if(j(P))return P;if("number"==typeof P&&!isNaN(P))return new Date(P);if("string"==typeof P){if(P=P.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(P)){const[we,mt=1,Ot=1]=P.split("-").map(Cn=>+Cn);return Rr(we,mt-1,Ot)}const $=parseFloat(P);if(!isNaN(P-$))return new Date($);let te;if(te=P.match(vr))return function z(P){const re=new Date(0);let $=0,te=0;const we=P[8]?re.setUTCFullYear:re.setFullYear,mt=P[8]?re.setUTCHours:re.setHours;P[9]&&($=Number(P[9]+P[10]),te=Number(P[9]+P[11])),we.call(re,Number(P[1]),Number(P[2])-1,Number(P[3]));const Ot=Number(P[4]||0)-$,Cn=Number(P[5]||0)-te,kr=Number(P[6]||0),Jr=Math.floor(1e3*parseFloat("0."+(P[7]||0)));return mt.call(re,Ot,Cn,kr,Jr),re}(te)}const re=new Date(P);if(!j(re))throw new Error(`Unable to convert "${P}" into a date`);return re}(P);re=Yn($,re)||re;let Cn,Ot=[];for(;re;){if(Cn=Ut.exec(re),!Cn){Ot.push(re);break}{Ot=Ot.concat(Cn.slice(1));const Wr=Ot.pop();if(!Wr)break;re=Wr}}let kr=we.getTimezoneOffset();te&&(kr=ni(te,kr),we=function de(P,re,$){const te=$?-1:1,we=P.getTimezoneOffset();return function Bt(P,re){return(P=new Date(P.getTime())).setMinutes(P.getMinutes()+re),P}(P,te*(ni(re,we)-we))}(we,te,!0));let Jr="";return Ot.forEach(Wr=>{const Ir=function Fn(P){if(zt[P])return zt[P];let re;switch(P){case"G":case"GG":case"GGG":re=er(Rn.Eras,Je.Abbreviated);break;case"GGGG":re=er(Rn.Eras,Je.Wide);break;case"GGGGG":re=er(Rn.Eras,Je.Narrow);break;case"y":re=cn(Vn.FullYear,1,0,!1,!0);break;case"yy":re=cn(Vn.FullYear,2,0,!0,!0);break;case"yyy":re=cn(Vn.FullYear,3,0,!1,!0);break;case"yyyy":re=cn(Vn.FullYear,4,0,!1,!0);break;case"Y":re=yt(1);break;case"YY":re=yt(2,!0);break;case"YYY":re=yt(3);break;case"YYYY":re=yt(4);break;case"M":case"L":re=cn(Vn.Month,1,1);break;case"MM":case"LL":re=cn(Vn.Month,2,1);break;case"MMM":re=er(Rn.Months,Je.Abbreviated);break;case"MMMM":re=er(Rn.Months,Je.Wide);break;case"MMMMM":re=er(Rn.Months,Je.Narrow);break;case"LLL":re=er(Rn.Months,Je.Abbreviated,Dt.Standalone);break;case"LLLL":re=er(Rn.Months,Je.Wide,Dt.Standalone);break;case"LLLLL":re=er(Rn.Months,Je.Narrow,Dt.Standalone);break;case"w":re=Me(1);break;case"ww":re=Me(2);break;case"W":re=Me(1,!0);break;case"d":re=cn(Vn.Date,1);break;case"dd":re=cn(Vn.Date,2);break;case"c":case"cc":re=cn(Vn.Day,1);break;case"ccc":re=er(Rn.Days,Je.Abbreviated,Dt.Standalone);break;case"cccc":re=er(Rn.Days,Je.Wide,Dt.Standalone);break;case"ccccc":re=er(Rn.Days,Je.Narrow,Dt.Standalone);break;case"cccccc":re=er(Rn.Days,Je.Short,Dt.Standalone);break;case"E":case"EE":case"EEE":re=er(Rn.Days,Je.Abbreviated);break;case"EEEE":re=er(Rn.Days,Je.Wide);break;case"EEEEE":re=er(Rn.Days,Je.Narrow);break;case"EEEEEE":re=er(Rn.Days,Je.Short);break;case"a":case"aa":case"aaa":re=er(Rn.DayPeriods,Je.Abbreviated);break;case"aaaa":re=er(Rn.DayPeriods,Je.Wide);break;case"aaaaa":re=er(Rn.DayPeriods,Je.Narrow);break;case"b":case"bb":case"bbb":re=er(Rn.DayPeriods,Je.Abbreviated,Dt.Standalone,!0);break;case"bbbb":re=er(Rn.DayPeriods,Je.Wide,Dt.Standalone,!0);break;case"bbbbb":re=er(Rn.DayPeriods,Je.Narrow,Dt.Standalone,!0);break;case"B":case"BB":case"BBB":re=er(Rn.DayPeriods,Je.Abbreviated,Dt.Format,!0);break;case"BBBB":re=er(Rn.DayPeriods,Je.Wide,Dt.Format,!0);break;case"BBBBB":re=er(Rn.DayPeriods,Je.Narrow,Dt.Format,!0);break;case"h":re=cn(Vn.Hours,1,-12);break;case"hh":re=cn(Vn.Hours,2,-12);break;case"H":re=cn(Vn.Hours,1);break;case"HH":re=cn(Vn.Hours,2);break;case"m":re=cn(Vn.Minutes,1);break;case"mm":re=cn(Vn.Minutes,2);break;case"s":re=cn(Vn.Seconds,1);break;case"ss":re=cn(Vn.Seconds,2);break;case"S":re=cn(Vn.FractionalSeconds,1);break;case"SS":re=cn(Vn.FractionalSeconds,2);break;case"SSS":re=cn(Vn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":re=gr(bn.Short);break;case"ZZZZZ":re=gr(bn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":re=gr(bn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":re=gr(bn.Long);break;default:return null}return zt[P]=re,re}(Wr);Jr+=Ir?Ir(we,$,kr):"''"===Wr?"'":Wr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Jr}function Rr(P,re,$){const te=new Date(0);return te.setFullYear(P,re,$),te.setHours(0,0,0),te}function Yn(P,re){const $=function jn(P){return(0,g.cg1)(P)[g.wAp.LocaleId]}(P);if(Kn[$]=Kn[$]||{},Kn[$][re])return Kn[$][re];let te="";switch(re){case"shortDate":te=Ue(P,me.Short);break;case"mediumDate":te=Ue(P,me.Medium);break;case"longDate":te=Ue(P,me.Long);break;case"fullDate":te=Ue(P,me.Full);break;case"shortTime":te=nt(P,me.Short);break;case"mediumTime":te=nt(P,me.Medium);break;case"longTime":te=nt(P,me.Long);break;case"fullTime":te=nt(P,me.Full);break;case"short":const we=Yn(P,"shortTime"),mt=Yn(P,"shortDate");te=Hn(rt(P,me.Short),[we,mt]);break;case"medium":const Ot=Yn(P,"mediumTime"),Cn=Yn(P,"mediumDate");te=Hn(rt(P,me.Medium),[Ot,Cn]);break;case"long":const kr=Yn(P,"longTime"),Jr=Yn(P,"longDate");te=Hn(rt(P,me.Long),[kr,Jr]);break;case"full":const Wr=Yn(P,"fullTime"),Ir=Yn(P,"fullDate");te=Hn(rt(P,me.Full),[Wr,Ir])}return te&&(Kn[$][re]=te),te}function Hn(P,re){return re&&(P=P.replace(/\{([^}]+)}/g,function($,te){return null!=re&&te in re?re[te]:$})),P}function xr(P,re,$="-",te,we){let mt="";(P<0||we&&P<=0)&&(we?P=1-P:(P=-P,mt=$));let Ot=String(P);for(;Ot.length<re;)Ot="0"+Ot;return te&&(Ot=Ot.slice(Ot.length-re)),mt+Ot}function cn(P,re,$=0,te=!1,we=!1){return function(mt,Ot){let Cn=function ui(P,re){switch(P){case Vn.FullYear:return re.getFullYear();case Vn.Month:return re.getMonth();case Vn.Date:return re.getDate();case Vn.Hours:return re.getHours();case Vn.Minutes:return re.getMinutes();case Vn.Seconds:return re.getSeconds();case Vn.FractionalSeconds:return re.getMilliseconds();case Vn.Day:return re.getDay();default:throw new Error(`Unknown DateType value "${P}".`)}}(P,mt);if(($>0||Cn>-$)&&(Cn+=$),P===Vn.Hours)0===Cn&&-12===$&&(Cn=12);else if(P===Vn.FractionalSeconds)return function li(P,re){return xr(P,3).substring(0,re)}(Cn,re);const kr=_t(Ot,Ct.MinusSign);return xr(Cn,re,kr,te,we)}}function er(P,re,$=Dt.Format,te=!1){return function(we,mt){return function Ar(P,re,$,te,we,mt){switch($){case Rn.Months:return function Jt(P,re,$){const te=(0,g.cg1)(P),mt=Mn([te[g.wAp.MonthsFormat],te[g.wAp.MonthsStandalone]],re);return Mn(mt,$)}(re,we,te)[P.getMonth()];case Rn.Days:return function Ft(P,re,$){const te=(0,g.cg1)(P),mt=Mn([te[g.wAp.DaysFormat],te[g.wAp.DaysStandalone]],re);return Mn(mt,$)}(re,we,te)[P.getDay()];case Rn.DayPeriods:const Ot=P.getHours(),Cn=P.getMinutes();if(mt){const Jr=function xn(P){const re=(0,g.cg1)(P);return _n(re),(re[g.wAp.ExtraData][2]||[]).map(te=>"string"==typeof te?kn(te):[kn(te[0]),kn(te[1])])}(re),Wr=function Yt(P,re,$){const te=(0,g.cg1)(P);_n(te);const mt=Mn([te[g.wAp.ExtraData][0],te[g.wAp.ExtraData][1]],re)||[];return Mn(mt,$)||[]}(re,we,te),Ir=Jr.findIndex(ei=>{if(Array.isArray(ei)){const[Hr,Gi]=ei,Cs=Ot>=Hr.hours&&Cn>=Hr.minutes,gs=Ot<Gi.hours||Ot===Gi.hours&&Cn<Gi.minutes;if(Hr.hours<Gi.hours){if(Cs&&gs)return!0}else if(Cs||gs)return!0}else if(ei.hours===Ot&&ei.minutes===Cn)return!0;return!1});if(-1!==Ir)return Wr[Ir]}return function Tt(P,re,$){const te=(0,g.cg1)(P),mt=Mn([te[g.wAp.DayPeriodsFormat],te[g.wAp.DayPeriodsStandalone]],re);return Mn(mt,$)}(re,we,te)[Ot<12?0:1];case Rn.Eras:return function dt(P,re){return Mn((0,g.cg1)(P)[g.wAp.Eras],re)}(re,te)[P.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${$}`)}}(we,mt,P,re,$,te)}}function gr(P){return function(re,$,te){const we=-1*te,mt=_t($,Ct.MinusSign),Ot=we>0?Math.floor(we/60):Math.ceil(we/60);switch(P){case bn.Short:return(we>=0?"+":"")+xr(Ot,2,mt)+xr(Math.abs(we%60),2,mt);case bn.ShortGMT:return"GMT"+(we>=0?"+":"")+xr(Ot,1,mt);case bn.Long:return"GMT"+(we>=0?"+":"")+xr(Ot,2,mt)+":"+xr(Math.abs(we%60),2,mt);case bn.Extended:return 0===te?"Z":(we>=0?"+":"")+xr(Ot,2,mt)+":"+xr(Math.abs(we%60),2,mt);default:throw new Error(`Unknown zone width "${P}"`)}}}const Gr=0,Ze=4;function oe(P){return Rr(P.getFullYear(),P.getMonth(),P.getDate()+(Ze-P.getDay()))}function Me(P,re=!1){return function($,te){let we;if(re){const mt=new Date($.getFullYear(),$.getMonth(),1).getDay()-1,Ot=$.getDate();we=1+Math.floor((Ot+mt)/7)}else{const mt=oe($),Ot=function It(P){const re=Rr(P,Gr,1).getDay();return Rr(P,0,1+(re<=Ze?Ze:Ze+7)-re)}(mt.getFullYear()),Cn=mt.getTime()-Ot.getTime();we=1+Math.round(Cn/6048e5)}return xr(we,P,_t(te,Ct.MinusSign))}}function yt(P,re=!1){return function($,te){return xr(oe($).getFullYear(),P,_t(te,Ct.MinusSign),re)}}const zt={};function ni(P,re){P=P.replace(/:/g,"");const $=Date.parse("Jan 01, 1970 00:00:00 "+P)/6e4;return isNaN($)?re:$}function j(P){return P instanceof Date&&!isNaN(P.valueOf())}function Si(P,re){re=encodeURIComponent(re);for(const $ of P.split(";")){const te=$.indexOf("="),[we,mt]=-1==te?[$,""]:[$.slice(0,te),$.slice(te+1)];if(we.trim()===re)return decodeURIComponent(mt)}return null}const Sr=/\s+/,qr=[];let ir=(()=>{class P{constructor($,te,we,mt){this._iterableDiffers=$,this._keyValueDiffers=te,this._ngEl=we,this._renderer=mt,this.initialClasses=qr,this.stateMap=new Map}set klass($){this.initialClasses=null!=$?$.trim().split(Sr):qr}set ngClass($){this.rawClass="string"==typeof $?$.trim().split(Sr):$}ngDoCheck(){for(const te of this.initialClasses)this._updateState(te,!0);const $=this.rawClass;if(Array.isArray($)||$ instanceof Set)for(const te of $)this._updateState(te,!0);else if(null!=$)for(const te of Object.keys($))this._updateState(te,!!$[te]);this._applyStateDiff()}_updateState($,te){const we=this.stateMap.get($);void 0!==we?(we.enabled!==te&&(we.changed=!0,we.enabled=te),we.touched=!0):this.stateMap.set($,{enabled:te,changed:!0,touched:!0})}_applyStateDiff(){for(const $ of this.stateMap){const te=$[0],we=$[1];we.changed?(this._toggleClass(te,we.enabled),we.changed=!1):we.touched||(we.enabled&&this._toggleClass(te,!1),this.stateMap.delete(te)),we.touched=!1}}_toggleClass($,te){($=$.trim()).length>0&&$.split(Sr).forEach(we=>{te?this._renderer.addClass(this._ngEl.nativeElement,we):this._renderer.removeClass(this._ngEl.nativeElement,we)})}static#e=this.\u0275fac=function(te){return new(te||P)(g.Y36(g.ZZ4),g.Y36(g.aQg),g.Y36(g.SBq),g.Y36(g.Qsj))};static#t=this.\u0275dir=g.lG2({type:P,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return P})();class Ii{constructor(re,$,te,we){this.$implicit=re,this.ngForOf=$,this.index=te,this.count=we}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let lr=(()=>{class P{set ngForOf($){this._ngForOf=$,this._ngForOfDirty=!0}set ngForTrackBy($){this._trackByFn=$}get ngForTrackBy(){return this._trackByFn}constructor($,te,we){this._viewContainer=$,this._template=te,this._differs=we,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate($){$&&(this._template=$)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const $=this._ngForOf;!this._differ&&$&&(this._differ=this._differs.find($).create(this.ngForTrackBy))}if(this._differ){const $=this._differ.diff(this._ngForOf);$&&this._applyChanges($)}}_applyChanges($){const te=this._viewContainer;$.forEachOperation((we,mt,Ot)=>{if(null==we.previousIndex)te.createEmbeddedView(this._template,new Ii(we.item,this._ngForOf,-1,-1),null===Ot?void 0:Ot);else if(null==Ot)te.remove(null===mt?void 0:mt);else if(null!==mt){const Cn=te.get(mt);te.move(Cn,Ot),bi(Cn,we)}});for(let we=0,mt=te.length;we<mt;we++){const Cn=te.get(we).context;Cn.index=we,Cn.count=mt,Cn.ngForOf=this._ngForOf}$.forEachIdentityChange(we=>{bi(te.get(we.currentIndex),we)})}static ngTemplateContextGuard($,te){return!0}static#e=this.\u0275fac=function(te){return new(te||P)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))};static#t=this.\u0275dir=g.lG2({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return P})();function bi(P,re){P.context.$implicit=re.item}let Zi=(()=>{class P{constructor($,te){this._viewContainer=$,this._context=new Vr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=te}set ngIf($){this._context.$implicit=this._context.ngIf=$,this._updateView()}set ngIfThen($){Hs("ngIfThen",$),this._thenTemplateRef=$,this._thenViewRef=null,this._updateView()}set ngIfElse($){Hs("ngIfElse",$),this._elseTemplateRef=$,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard($,te){return!0}static#e=this.\u0275fac=function(te){return new(te||P)(g.Y36(g.s_b),g.Y36(g.Rgc))};static#t=this.\u0275dir=g.lG2({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return P})();class Vr{constructor(){this.$implicit=null,this.ngIf=null}}function Hs(P,re){if(re&&!re.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,g.AaK)(re)}'.`)}function Xi(P,re){return new g.vHH(2100,!1)}class So{createSubscription(re,$){return(0,g.rg0)(()=>re.subscribe({next:$,error:te=>{throw te}}))}dispose(re){(0,g.rg0)(()=>re.unsubscribe())}}class di{createSubscription(re,$){return re.then($,te=>{throw te})}dispose(re){}}const Mo=new di,ys=new So;let hi=(()=>{class P{constructor($){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=$}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform($){return this._obj?$!==this._obj?(this._dispose(),this.transform($)):this._latestValue:($&&this._subscribe($),this._latestValue)}_subscribe($){this._obj=$,this._strategy=this._selectStrategy($),this._subscription=this._strategy.createSubscription($,te=>this._updateLatestValue($,te))}_selectStrategy($){if((0,g.QGY)($))return Mo;if((0,g.F4k)($))return ys;throw Xi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue($,te){$===this._obj&&(this._latestValue=te,this._ref.markForCheck())}static#e=this.\u0275fac=function(te){return new(te||P)(g.Y36(g.sBO,16))};static#t=this.\u0275pipe=g.Yjl({name:"async",type:P,pure:!1,standalone:!0})}return P})();const Un=new g.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),$r=new g.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Yr=(()=>{class P{constructor($,te,we){this.locale=$,this.defaultTimezone=te,this.defaultOptions=we}transform($,te,we,mt){if(null==$||""===$||$!=$)return null;try{return Br($,te??this.defaultOptions?.dateFormat??"mediumDate",mt||this.locale,we??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Ot){throw Xi()}}static#e=this.\u0275fac=function(te){return new(te||P)(g.Y36(g.soG,16),g.Y36(Un,24),g.Y36($r,24))};static#t=this.\u0275pipe=g.Yjl({name:"date",type:P,pure:!0,standalone:!0})}return P})(),Li=(()=>{class P{transform($){return JSON.stringify($,null,2)}static#e=this.\u0275fac=function(te){return new(te||P)};static#t=this.\u0275pipe=g.Yjl({name:"json",type:P,pure:!1,standalone:!0})}return P})(),fi=(()=>{class P{static#e=this.\u0275fac=function(te){return new(te||P)};static#t=this.\u0275mod=g.oAB({type:P});static#n=this.\u0275inj=g.cJS({})}return P})();const Tr="browser",ts="server";function ns(P){return P===Tr}function pr(P){return P===ts}let Ri=(()=>{class P{static#e=this.\u0275prov=(0,g.Yz7)({token:P,providedIn:"root",factory:()=>new Is((0,g.LFG)(Se),window)})}return P})();class Is{constructor(re,$){this.document=re,this.window=$,this.offset=()=>[0,0]}setOffset(re){this.offset=Array.isArray(re)?()=>re:re}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(re){this.supportsScrolling()&&this.window.scrollTo(re[0],re[1])}scrollToAnchor(re){if(!this.supportsScrolling())return;const $=function Rs(P,re){const $=P.getElementById(re)||P.getElementsByName(re)[0];if($)return $;if("function"==typeof P.createTreeWalker&&P.body&&"function"==typeof P.body.attachShadow){const te=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let we=te.currentNode;for(;we;){const mt=we.shadowRoot;if(mt){const Ot=mt.getElementById(re)||mt.querySelector(`[name="${re}"]`);if(Ot)return Ot}we=te.nextNode()}}return null}(this.document,re);$&&(this.scrollToElement($),$.focus())}setHistoryScrollRestoration(re){this.supportsScrolling()&&(this.window.history.scrollRestoration=re)}scrollToElement(re){const $=re.getBoundingClientRect(),te=$.left+this.window.pageXOffset,we=$.top+this.window.pageYOffset,mt=this.offset();this.window.scrollTo(te-mt[0],we-mt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class bs{}},9862:(Qt,Ke,B)=>{B.d(Ke,{JF:()=>F,eN:()=>_e});var g=B(5879),u=B(2096),H=B(2459),Ie=B(5592),Ee=B(6328),Se=B(2181),Ae=B(7398),Ce=B(4716),Ve=B(4664),ne=B(6814);class ie{}class ve{}class it{constructor(Re){this.normalizedNames=new Map,this.lazyUpdate=null,Re?"string"==typeof Re?this.lazyInit=()=>{this.headers=new Map,Re.split("\n").forEach(Be=>{const xt=Be.indexOf(":");if(xt>0){const Wt=Be.slice(0,xt),pn=Wt.toLowerCase(),nn=Be.slice(xt+1).trim();this.maybeSetNormalizedName(Wt,pn),this.headers.has(pn)?this.headers.get(pn).push(nn):this.headers.set(pn,[nn])}})}:typeof Headers<"u"&&Re instanceof Headers?(this.headers=new Map,Re.forEach((Be,xt)=>{this.setHeaderEntries(xt,Be)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Re).forEach(([Be,xt])=>{this.setHeaderEntries(Be,xt)})}:this.headers=new Map}has(Re){return this.init(),this.headers.has(Re.toLowerCase())}get(Re){this.init();const Be=this.headers.get(Re.toLowerCase());return Be&&Be.length>0?Be[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Re){return this.init(),this.headers.get(Re.toLowerCase())||null}append(Re,Be){return this.clone({name:Re,value:Be,op:"a"})}set(Re,Be){return this.clone({name:Re,value:Be,op:"s"})}delete(Re,Be){return this.clone({name:Re,value:Be,op:"d"})}maybeSetNormalizedName(Re,Be){this.normalizedNames.has(Be)||this.normalizedNames.set(Be,Re)}init(){this.lazyInit&&(this.lazyInit instanceof it?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Re=>this.applyUpdate(Re)),this.lazyUpdate=null))}copyFrom(Re){Re.init(),Array.from(Re.headers.keys()).forEach(Be=>{this.headers.set(Be,Re.headers.get(Be)),this.normalizedNames.set(Be,Re.normalizedNames.get(Be))})}clone(Re){const Be=new it;return Be.lazyInit=this.lazyInit&&this.lazyInit instanceof it?this.lazyInit:this,Be.lazyUpdate=(this.lazyUpdate||[]).concat([Re]),Be}applyUpdate(Re){const Be=Re.name.toLowerCase();switch(Re.op){case"a":case"s":let xt=Re.value;if("string"==typeof xt&&(xt=[xt]),0===xt.length)return;this.maybeSetNormalizedName(Re.name,Be);const Wt=("a"===Re.op?this.headers.get(Be):void 0)||[];Wt.push(...xt),this.headers.set(Be,Wt);break;case"d":const pn=Re.value;if(pn){let nn=this.headers.get(Be);if(!nn)return;nn=nn.filter(Er=>-1===pn.indexOf(Er)),0===nn.length?(this.headers.delete(Be),this.normalizedNames.delete(Be)):this.headers.set(Be,nn)}else this.headers.delete(Be),this.normalizedNames.delete(Be)}}setHeaderEntries(Re,Be){const xt=(Array.isArray(Be)?Be:[Be]).map(pn=>pn.toString()),Wt=Re.toLowerCase();this.headers.set(Wt,xt),this.maybeSetNormalizedName(Re,Wt)}forEach(Re){this.init(),Array.from(this.normalizedNames.keys()).forEach(Be=>Re(this.normalizedNames.get(Be),this.headers.get(Be)))}}class Mt{encodeKey(Re){return on(Re)}encodeValue(Re){return on(Re)}decodeKey(Re){return decodeURIComponent(Re)}decodeValue(Re){return decodeURIComponent(Re)}}const At=/%(\d[a-f0-9])/gi,Et={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function on(Fe){return encodeURIComponent(Fe).replace(At,(Re,Be)=>Et[Be]??Re)}function Qe(Fe){return`${Fe}`}class ze{constructor(Re={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Re.encoder||new Mt,Re.fromString){if(Re.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function vt(Fe,Re){const Be=new Map;return Fe.length>0&&Fe.replace(/^\?/,"").split("&").forEach(Wt=>{const pn=Wt.indexOf("="),[nn,Er]=-1==pn?[Re.decodeKey(Wt),""]:[Re.decodeKey(Wt.slice(0,pn)),Re.decodeValue(Wt.slice(pn+1))],fn=Be.get(nn)||[];fn.push(Er),Be.set(nn,fn)}),Be}(Re.fromString,this.encoder)}else Re.fromObject?(this.map=new Map,Object.keys(Re.fromObject).forEach(Be=>{const xt=Re.fromObject[Be],Wt=Array.isArray(xt)?xt.map(Qe):[Qe(xt)];this.map.set(Be,Wt)})):this.map=null}has(Re){return this.init(),this.map.has(Re)}get(Re){this.init();const Be=this.map.get(Re);return Be?Be[0]:null}getAll(Re){return this.init(),this.map.get(Re)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Re,Be){return this.clone({param:Re,value:Be,op:"a"})}appendAll(Re){const Be=[];return Object.keys(Re).forEach(xt=>{const Wt=Re[xt];Array.isArray(Wt)?Wt.forEach(pn=>{Be.push({param:xt,value:pn,op:"a"})}):Be.push({param:xt,value:Wt,op:"a"})}),this.clone(Be)}set(Re,Be){return this.clone({param:Re,value:Be,op:"s"})}delete(Re,Be){return this.clone({param:Re,value:Be,op:"d"})}toString(){return this.init(),this.keys().map(Re=>{const Be=this.encoder.encodeKey(Re);return this.map.get(Re).map(xt=>Be+"="+this.encoder.encodeValue(xt)).join("&")}).filter(Re=>""!==Re).join("&")}clone(Re){const Be=new ze({encoder:this.encoder});return Be.cloneFrom=this.cloneFrom||this,Be.updates=(this.updates||[]).concat(Re),Be}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Re=>this.map.set(Re,this.cloneFrom.map.get(Re))),this.updates.forEach(Re=>{switch(Re.op){case"a":case"s":const Be=("a"===Re.op?this.map.get(Re.param):void 0)||[];Be.push(Qe(Re.value)),this.map.set(Re.param,Be);break;case"d":if(void 0===Re.value){this.map.delete(Re.param);break}{let xt=this.map.get(Re.param)||[];const Wt=xt.indexOf(Qe(Re.value));-1!==Wt&&xt.splice(Wt,1),xt.length>0?this.map.set(Re.param,xt):this.map.delete(Re.param)}}}),this.cloneFrom=this.updates=null)}}class Ge{constructor(){this.map=new Map}set(Re,Be){return this.map.set(Re,Be),this}get(Re){return this.map.has(Re)||this.map.set(Re,Re.defaultValue()),this.map.get(Re)}delete(Re){return this.map.delete(Re),this}has(Re){return this.map.has(Re)}keys(){return this.map.keys()}}function Dt(Fe){return typeof ArrayBuffer<"u"&&Fe instanceof ArrayBuffer}function Je(Fe){return typeof Blob<"u"&&Fe instanceof Blob}function me(Fe){return typeof FormData<"u"&&Fe instanceof FormData}class $t{constructor(Re,Be,xt,Wt){let pn;if(this.url=Be,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Re.toUpperCase(),function ot(Fe){switch(Fe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Wt?(this.body=void 0!==xt?xt:null,pn=Wt):pn=xt,pn&&(this.reportProgress=!!pn.reportProgress,this.withCredentials=!!pn.withCredentials,pn.responseType&&(this.responseType=pn.responseType),pn.headers&&(this.headers=pn.headers),pn.context&&(this.context=pn.context),pn.params&&(this.params=pn.params)),this.headers||(this.headers=new it),this.context||(this.context=new Ge),this.params){const nn=this.params.toString();if(0===nn.length)this.urlWithParams=Be;else{const Er=Be.indexOf("?");this.urlWithParams=Be+(-1===Er?"?":Er<Be.length-1?"&":"")+nn}}else this.params=new ze,this.urlWithParams=Be}serializeBody(){return null===this.body?null:Dt(this.body)||Je(this.body)||me(this.body)||function Ct(Fe){return typeof URLSearchParams<"u"&&Fe instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ze?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||me(this.body)?null:Je(this.body)?this.body.type||null:Dt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ze?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Re={}){const Be=Re.method||this.method,xt=Re.url||this.url,Wt=Re.responseType||this.responseType,pn=void 0!==Re.body?Re.body:this.body,nn=void 0!==Re.withCredentials?Re.withCredentials:this.withCredentials,Er=void 0!==Re.reportProgress?Re.reportProgress:this.reportProgress;let fn=Re.headers||this.headers,ri=Re.params||this.params;const as=Re.context??this.context;return void 0!==Re.setHeaders&&(fn=Object.keys(Re.setHeaders).reduce((Ui,cs)=>Ui.set(cs,Re.setHeaders[cs]),fn)),Re.setParams&&(ri=Object.keys(Re.setParams).reduce((Ui,cs)=>Ui.set(cs,Re.setParams[cs]),ri)),new $t(Be,xt,pn,{params:ri,headers:fn,context:as,reportProgress:Er,responseType:Wt,withCredentials:nn})}}var jn=function(Fe){return Fe[Fe.Sent=0]="Sent",Fe[Fe.UploadProgress=1]="UploadProgress",Fe[Fe.ResponseHeader=2]="ResponseHeader",Fe[Fe.DownloadProgress=3]="DownloadProgress",Fe[Fe.Response=4]="Response",Fe[Fe.User=5]="User",Fe}(jn||{});class Tt{constructor(Re,Be=200,xt="OK"){this.headers=Re.headers||new it,this.status=void 0!==Re.status?Re.status:Be,this.statusText=Re.statusText||xt,this.url=Re.url||null,this.ok=this.status>=200&&this.status<300}}class Ft extends Tt{constructor(Re={}){super(Re),this.type=jn.ResponseHeader}clone(Re={}){return new Ft({headers:Re.headers||this.headers,status:void 0!==Re.status?Re.status:this.status,statusText:Re.statusText||this.statusText,url:Re.url||this.url||void 0})}}class Jt extends Tt{constructor(Re={}){super(Re),this.type=jn.Response,this.body=void 0!==Re.body?Re.body:null}clone(Re={}){return new Jt({body:void 0!==Re.body?Re.body:this.body,headers:Re.headers||this.headers,status:void 0!==Re.status?Re.status:this.status,statusText:Re.statusText||this.statusText,url:Re.url||this.url||void 0})}}class dt extends Tt{constructor(Re){super(Re,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Re.url||"(unknown url)"}`:`Http failure response for ${Re.url||"(unknown url)"}: ${Re.status} ${Re.statusText}`,this.error=Re.error||null}}function Ne(Fe,Re){return{body:Re,headers:Fe.headers,context:Fe.context,observe:Fe.observe,params:Fe.params,reportProgress:Fe.reportProgress,responseType:Fe.responseType,withCredentials:Fe.withCredentials}}let _e=(()=>{class Fe{constructor(Be){this.handler=Be}request(Be,xt,Wt={}){let pn;if(Be instanceof $t)pn=Be;else{let fn,ri;fn=Wt.headers instanceof it?Wt.headers:new it(Wt.headers),Wt.params&&(ri=Wt.params instanceof ze?Wt.params:new ze({fromObject:Wt.params})),pn=new $t(Be,xt,void 0!==Wt.body?Wt.body:null,{headers:fn,context:Wt.context,params:ri,reportProgress:Wt.reportProgress,responseType:Wt.responseType||"json",withCredentials:Wt.withCredentials})}const nn=(0,u.of)(pn).pipe((0,Ee.b)(fn=>this.handler.handle(fn)));if(Be instanceof $t||"events"===Wt.observe)return nn;const Er=nn.pipe((0,Se.h)(fn=>fn instanceof Jt));switch(Wt.observe||"body"){case"body":switch(pn.responseType){case"arraybuffer":return Er.pipe((0,Ae.U)(fn=>{if(null!==fn.body&&!(fn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return fn.body}));case"blob":return Er.pipe((0,Ae.U)(fn=>{if(null!==fn.body&&!(fn.body instanceof Blob))throw new Error("Response is not a Blob.");return fn.body}));case"text":return Er.pipe((0,Ae.U)(fn=>{if(null!==fn.body&&"string"!=typeof fn.body)throw new Error("Response is not a string.");return fn.body}));default:return Er.pipe((0,Ae.U)(fn=>fn.body))}case"response":return Er;default:throw new Error(`Unreachable: unhandled observe type ${Wt.observe}}`)}}delete(Be,xt={}){return this.request("DELETE",Be,xt)}get(Be,xt={}){return this.request("GET",Be,xt)}head(Be,xt={}){return this.request("HEAD",Be,xt)}jsonp(Be,xt){return this.request("JSONP",Be,{params:(new ze).append(xt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Be,xt={}){return this.request("OPTIONS",Be,xt)}patch(Be,xt,Wt={}){return this.request("PATCH",Be,Ne(Wt,xt))}post(Be,xt,Wt={}){return this.request("POST",Be,Ne(Wt,xt))}put(Be,xt,Wt={}){return this.request("PUT",Be,Ne(Wt,xt))}static#e=this.\u0275fac=function(xt){return new(xt||Fe)(g.LFG(ie))};static#t=this.\u0275prov=g.Yz7({token:Fe,factory:Fe.\u0275fac})}return Fe})();function qt(Fe,Re){return Re(Fe)}function gn(Fe,Re){return(Be,xt)=>Re.intercept(Be,{handle:Wt=>Fe(Wt,xt)})}const _n=new g.OlP(""),xn=new g.OlP(""),Yt=new g.OlP("");function mn(){let Fe=null;return(Re,Be)=>{null===Fe&&(Fe=((0,g.f3M)(_n,{optional:!0})??[]).reduceRight(gn,qt));const xt=(0,g.f3M)(g.HDt),Wt=xt.add();return Fe(Re,Be).pipe((0,Ce.x)(()=>xt.remove(Wt)))}}let Mn=(()=>{class Fe extends ie{constructor(Be,xt){super(),this.backend=Be,this.injector=xt,this.chain=null,this.pendingTasks=(0,g.f3M)(g.HDt)}handle(Be){if(null===this.chain){const Wt=Array.from(new Set([...this.injector.get(xn),...this.injector.get(Yt,[])]));this.chain=Wt.reduceRight((pn,nn)=>function Zn(Fe,Re,Be){return(xt,Wt)=>Be.runInContext(()=>Re(xt,pn=>Fe(pn,Wt)))}(pn,nn,this.injector),qt)}const xt=this.pendingTasks.add();return this.chain(Be,Wt=>this.backend.handle(Wt)).pipe((0,Ce.x)(()=>this.pendingTasks.remove(xt)))}static#e=this.\u0275fac=function(xt){return new(xt||Fe)(g.LFG(ve),g.LFG(g.lqb))};static#t=this.\u0275prov=g.Yz7({token:Fe,factory:Fe.\u0275fac})}return Fe})();const Rr=/^\)\]\}',?\n/;let Hn=(()=>{class Fe{constructor(Be){this.xhrFactory=Be}handle(Be){if("JSONP"===Be.method)throw new g.vHH(-2800,!1);const xt=this.xhrFactory;return(xt.\u0275loadImpl?(0,H.D)(xt.\u0275loadImpl()):(0,u.of)(null)).pipe((0,Ve.w)(()=>new Ie.y(pn=>{const nn=xt.build();if(nn.open(Be.method,Be.urlWithParams),Be.withCredentials&&(nn.withCredentials=!0),Be.headers.forEach((qr,ir)=>nn.setRequestHeader(qr,ir.join(","))),Be.headers.has("Accept")||nn.setRequestHeader("Accept","application/json, text/plain, */*"),!Be.headers.has("Content-Type")){const qr=Be.detectContentTypeHeader();null!==qr&&nn.setRequestHeader("Content-Type",qr)}if(Be.responseType){const qr=Be.responseType.toLowerCase();nn.responseType="json"!==qr?qr:"text"}const Er=Be.serializeBody();let fn=null;const ri=()=>{if(null!==fn)return fn;const qr=nn.statusText||"OK",ir=new it(nn.getAllResponseHeaders()),_s=function Yn(Fe){return"responseURL"in Fe&&Fe.responseURL?Fe.responseURL:/^X-Request-URL:/m.test(Fe.getAllResponseHeaders())?Fe.getResponseHeader("X-Request-URL"):null}(nn)||Be.url;return fn=new Ft({headers:ir,status:nn.status,statusText:qr,url:_s}),fn},as=()=>{let{headers:qr,status:ir,statusText:_s,url:Xs}=ri(),Ii=null;204!==ir&&(Ii=typeof nn.response>"u"?nn.responseText:nn.response),0===ir&&(ir=Ii?200:0);let lr=ir>=200&&ir<300;if("json"===Be.responseType&&"string"==typeof Ii){const bi=Ii;Ii=Ii.replace(Rr,"");try{Ii=""!==Ii?JSON.parse(Ii):null}catch(ls){Ii=bi,lr&&(lr=!1,Ii={error:ls,text:Ii})}}lr?(pn.next(new Jt({body:Ii,headers:qr,status:ir,statusText:_s,url:Xs||void 0})),pn.complete()):pn.error(new dt({error:Ii,headers:qr,status:ir,statusText:_s,url:Xs||void 0}))},Ui=qr=>{const{url:ir}=ri(),_s=new dt({error:qr,status:nn.status||0,statusText:nn.statusText||"Unknown Error",url:ir||void 0});pn.error(_s)};let cs=!1;const Si=qr=>{cs||(pn.next(ri()),cs=!0);let ir={type:jn.DownloadProgress,loaded:qr.loaded};qr.lengthComputable&&(ir.total=qr.total),"text"===Be.responseType&&nn.responseText&&(ir.partialText=nn.responseText),pn.next(ir)},Sr=qr=>{let ir={type:jn.UploadProgress,loaded:qr.loaded};qr.lengthComputable&&(ir.total=qr.total),pn.next(ir)};return nn.addEventListener("load",as),nn.addEventListener("error",Ui),nn.addEventListener("timeout",Ui),nn.addEventListener("abort",Ui),Be.reportProgress&&(nn.addEventListener("progress",Si),null!==Er&&nn.upload&&nn.upload.addEventListener("progress",Sr)),nn.send(Er),pn.next({type:jn.Sent}),()=>{nn.removeEventListener("error",Ui),nn.removeEventListener("abort",Ui),nn.removeEventListener("load",as),nn.removeEventListener("timeout",Ui),Be.reportProgress&&(nn.removeEventListener("progress",Si),null!==Er&&nn.upload&&nn.upload.removeEventListener("progress",Sr)),nn.readyState!==nn.DONE&&nn.abort()}})))}static#e=this.\u0275fac=function(xt){return new(xt||Fe)(g.LFG(ne.JF))};static#t=this.\u0275prov=g.Yz7({token:Fe,factory:Fe.\u0275fac})}return Fe})();const xr=new g.OlP("XSRF_ENABLED"),cn=new g.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),er=new g.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Ar{}let gr=(()=>{class Fe{constructor(Be,xt,Wt){this.doc=Be,this.platform=xt,this.cookieName=Wt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Be=this.doc.cookie||"";return Be!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ne.Mx)(Be,this.cookieName),this.lastCookieString=Be),this.lastToken}static#e=this.\u0275fac=function(xt){return new(xt||Fe)(g.LFG(ne.K0),g.LFG(g.Lbi),g.LFG(cn))};static#t=this.\u0275prov=g.Yz7({token:Fe,factory:Fe.\u0275fac})}return Fe})();function Gr(Fe,Re){const Be=Fe.url.toLowerCase();if(!(0,g.f3M)(xr)||"GET"===Fe.method||"HEAD"===Fe.method||Be.startsWith("http://")||Be.startsWith("https://"))return Re(Fe);const xt=(0,g.f3M)(Ar).getToken(),Wt=(0,g.f3M)(er);return null!=xt&&!Fe.headers.has(Wt)&&(Fe=Fe.clone({headers:Fe.headers.set(Wt,xt)})),Re(Fe)}var It=function(Fe){return Fe[Fe.Interceptors=0]="Interceptors",Fe[Fe.LegacyInterceptors=1]="LegacyInterceptors",Fe[Fe.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Fe[Fe.NoXsrfProtection=3]="NoXsrfProtection",Fe[Fe.JsonpSupport=4]="JsonpSupport",Fe[Fe.RequestsMadeViaParent=5]="RequestsMadeViaParent",Fe[Fe.Fetch=6]="Fetch",Fe}(It||{});function Me(...Fe){const Re=[_e,Hn,Mn,{provide:ie,useExisting:Mn},{provide:ve,useExisting:Hn},{provide:xn,useValue:Gr,multi:!0},{provide:xr,useValue:!0},{provide:Ar,useClass:gr}];for(const Be of Fe)Re.push(...Be.\u0275providers);return(0,g.MR2)(Re)}const zt=new g.OlP("LEGACY_INTERCEPTOR_FN");function Fn(){return function oe(Fe,Re){return{\u0275kind:Fe,\u0275providers:Re}}(It.LegacyInterceptors,[{provide:zt,useFactory:mn},{provide:xn,useExisting:zt,multi:!0}])}let F=(()=>{class Fe{static#e=this.\u0275fac=function(xt){return new(xt||Fe)};static#t=this.\u0275mod=g.oAB({type:Fe});static#n=this.\u0275inj=g.cJS({providers:[Me(Fn())]})}return Fe})()},5879:(Qt,Ke,B)=>{B.d(Ke,{$8M:()=>Cu,$WT:()=>$i,$Z:()=>V,AFp:()=>Oy,ALo:()=>ib,AaK:()=>ve,AsE:()=>pE,CHM:()=>pd,CRH:()=>Eb,EJc:()=>Vw,EiD:()=>em,EpF:()=>Fi,F$t:()=>VE,F4k:()=>ai,FYo:()=>mm,FiY:()=>Ic,GfV:()=>Bp,Gpc:()=>Mt,HDt:()=>$b,Hsn:()=>UE,JOm:()=>Od,JVY:()=>Wg,JZr:()=>Qe,KtG:()=>dc,L6k:()=>y_,LAX:()=>v_,LFG:()=>kt,LSH:()=>nm,Lbi:()=>Op,Lck:()=>TC,MAs:()=>id,MGl:()=>Ev,MMx:()=>HI,MR2:()=>$s,NdJ:()=>ao,Ojb:()=>Ny,OlP:()=>cn,Oqu:()=>fE,P3R:()=>im,PXZ:()=>fA,Q6J:()=>Hm,QGY:()=>Qs,QbO:()=>hf,Qsj:()=>$y,R0b:()=>Vi,RDi:()=>Ip,Rgc:()=>Vv,SBq:()=>If,Sil:()=>jw,Suo:()=>vb,TTD:()=>Ir,TgZ:()=>_g,VKq:()=>JI,VuI:()=>KA,X6Q:()=>IA,XFs:()=>bn,Xpm:()=>di,Xq5:()=>K_,Xts:()=>Yd,Y36:()=>R,YKP:()=>$I,YNc:()=>jm,Yjl:()=>Po,Yz7:()=>_n,Z0I:()=>Mn,ZZ4:()=>q0,_Bn:()=>jI,_UZ:()=>na,_c5:()=>LA,_uU:()=>h0,aQg:()=>W0,c2e:()=>jb,cJS:()=>Yt,cg1:()=>ya,dDg:()=>lA,dqk:()=>Hn,eBb:()=>qd,eFA:()=>Jb,eJc:()=>P0,ekj:()=>dE,eoX:()=>Zb,f3M:()=>un,g9A:()=>Mc,h0i:()=>Zm,hGG:()=>VA,hij:()=>wv,iGM:()=>yb,ifc:()=>nn,ip1:()=>Bb,jDz:()=>GI,kL8:()=>ms,lG2:()=>ji,lcZ:()=>sb,lqb:()=>fl,lri:()=>qb,mCW:()=>Wd,n5z:()=>Tu,oAB:()=>vs,oxw:()=>LE,pB0:()=>Cp,q3G:()=>Vu,q4F:()=>jp,qFp:()=>QA,qLn:()=>eu,qOj:()=>El,qZA:()=>Ah,qzn:()=>Ac,rWj:()=>Wb,rg0:()=>mt,s9C:()=>oE,sBO:()=>bA,s_b:()=>TE,soG:()=>wE,tb:()=>B0,tp0:()=>Ka,uIk:()=>kc,vHH:()=>ze,vpe:()=>Oc,wAp:()=>zs,xi3:()=>ob,xp6:()=>y,z2F:()=>py,z3N:()=>wc,zSh:()=>D_,zs3:()=>Jo});var g=B(8645),u=B(7394),H=B(5592),Ie=B(3019),Ee=B(5619),Se=B(2096),Ae=B(3020),Ce=B(4664),Ve=B(3997);function ne(t){for(let n in t)if(t[n]===ne)return n;throw Error("Could not find renamed property on target object.")}function ie(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function ve(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ve).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function it(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const et=ne({__forward_ref__:ne});function Mt(t){return t.__forward_ref__=Mt,t.toString=function(){return ve(this())},t}function vt(t){return At(t)?t():t}function At(t){return"function"==typeof t&&t.hasOwnProperty(et)&&t.__forward_ref__===Mt}function Et(t){return t&&!!t.\u0275providers}const Qe="https://g.co/ng/security#xss";class ze extends Error{constructor(n,i){super(function ct(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function Ge(t){return"string"==typeof t?t:null==t?"":String(t)}function Ct(t,n){throw new ze(-201,!1)}function Xt(t,n){null==t&&function Kt(t,n,i,o){throw new Error(`ASSERTION ERROR: ${t}`+(null==o?"":` [Expected=> ${i} ${o} ${n} <=Actual]`))}(n,t,null,"!=")}function _n(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Yt(t){return{providers:t.providers||[],imports:t.imports||[]}}function mn(t){return kn(t,On)||kn(t,Kn)}function Mn(t){return null!==mn(t)}function kn(t,n){return t.hasOwnProperty(n)?t[n]:null}function ci(t){return t&&(t.hasOwnProperty(vr)||t.hasOwnProperty(Ut))?t[vr]:null}const On=ne({\u0275prov:ne}),vr=ne({\u0275inj:ne}),Kn=ne({ngInjectableDef:ne}),Ut=ne({ngInjectorDef:ne});var bn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(bn||{});let Vn;function Br(t){const n=Vn;return Vn=t,n}function Rr(t,n,i){const o=mn(t);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:i&bn.Optional?null:void 0!==n?n:void Ct(ve(t))}const Hn=globalThis;class cn{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=_n({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Fn={},ni="__NG_DI_FLAG__",Bt="ngTempTokenPath",J=/\n/gm,j="__source";let F;function ke(t){const n=F;return F=t,n}function bt(t,n=bn.Default){if(void 0===F)throw new ze(-203,!1);return null===F?Rr(t,void 0,n):F.get(t,n&bn.Optional?null:void 0,n)}function kt(t,n=bn.Default){return(function Rn(){return Vn}()||bt)(vt(t),n)}function un(t,n=bn.Default){return kt(t,dn(n))}function dn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ar(t){const n=[];for(let i=0;i<t.length;i++){const o=vt(t[i]);if(Array.isArray(o)){if(0===o.length)throw new ze(900,!1);let h,m=bn.Default;for(let T=0;T<o.length;T++){const D=o[T],x=Re(D);"number"==typeof x?-1===x?h=D.token:m|=x:h=D}n.push(kt(h,m))}else n.push(kt(o))}return n}function Fe(t,n){return t[ni]=n,t.prototype[ni]=n,t}function Re(t){return t[ni]}function Wt(t){return{toString:t}.toString()}var pn=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(pn||{}),nn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(nn||{});const Er={},fn=[],ri=ne({\u0275cmp:ne}),as=ne({\u0275dir:ne}),Ui=ne({\u0275pipe:ne}),cs=ne({\u0275mod:ne}),Si=ne({\u0275fac:ne}),Sr=ne({__NG_ELEMENT_ID__:ne}),qr=ne({__NG_ENV_ID__:ne});function ir(t,n,i){let o=t.length;for(;;){const h=t.indexOf(n,i);if(-1===h)return h;if(0===h||t.charCodeAt(h-1)<=32){const m=n.length;if(h+m===o||t.charCodeAt(h+m)<=32)return h}i=h+1}}function _s(t,n,i){let o=0;for(;o<i.length;){const h=i[o];if("number"==typeof h){if(0!==h)break;o++;const m=i[o++],T=i[o++],D=i[o++];t.setAttribute(n,T,D,m)}else{const m=h,T=i[++o];Ii(m)?t.setProperty(n,m,T):t.setAttribute(n,m,T),o++}}return o}function Xs(t){return 3===t||4===t||6===t}function Ii(t){return 64===t.charCodeAt(0)}function lr(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let o=0;o<n.length;o++){const h=n[o];"number"==typeof h?i=h:0===i||bi(t,i,h,null,-1===i||2===i?n[++o]:null)}}return t}function bi(t,n,i,o,h){let m=0,T=t.length;if(-1===n)T=-1;else for(;m<t.length;){const D=t[m++];if("number"==typeof D){if(D===n){T=-1;break}if(D>n){T=m-1;break}}}for(;m<t.length;){const D=t[m];if("number"==typeof D)break;if(D===i){if(null===o)return void(null!==h&&(t[m+1]=h));if(o===t[m+1])return void(t[m+2]=h)}m++,null!==o&&m++,null!==h&&m++}-1!==T&&(t.splice(T,0,n),m=T+1),t.splice(m++,0,i),null!==o&&t.splice(m++,0,o),null!==h&&t.splice(m++,0,h)}const ls="ng-template";function Zi(t,n,i){let o=0,h=!0;for(;o<t.length;){let m=t[o++];if("string"==typeof m&&h){const T=t[o++];if(i&&"class"===m&&-1!==ir(T.toLowerCase(),n,0))return!0}else{if(1===m){for(;o<t.length&&"string"==typeof(m=t[o++]);)if(m.toLowerCase()===n)return!0;return!1}"number"==typeof m&&(h=!1)}}return!1}function Vr(t){return 4===t.type&&t.value!==ls}function Hs(t,n,i){return n===(4!==t.type||i?t.value:ls)}function us(t,n,i){let o=4;const h=t.attrs||[],m=function Oi(t){for(let n=0;n<t.length;n++)if(Xs(t[n]))return n;return t.length}(h);let T=!1;for(let D=0;D<n.length;D++){const x=n[D];if("number"!=typeof x){if(!T)if(4&o){if(o=2|1&o,""!==x&&!Hs(t,x,i)||""===x&&1===n.length){if(Bi(o))return!1;T=!0}}else{const G=8&o?x:n[++D];if(8&o&&null!==t.attrs){if(!Zi(t.attrs,G,i)){if(Bi(o))return!1;T=!0}continue}const be=Fa(8&o?"class":x,h,Vr(t),i);if(-1===be){if(Bi(o))return!1;T=!0;continue}if(""!==G){let We;We=be>m?"":h[be+1].toLowerCase();const at=8&o?We:null;if(at&&-1!==ir(at,G,0)||2&o&&G!==We){if(Bi(o))return!1;T=!0}}}}else{if(!T&&!Bi(o)&&!Bi(x))return!1;if(T&&Bi(x))continue;T=!1,o=x|1&o}}return Bi(o)||T}function Bi(t){return 0==(1&t)}function Fa(t,n,i,o){if(null===n)return-1;let h=0;if(o||!i){let m=!1;for(;h<n.length;){const T=n[h];if(T===t)return h;if(3===T||6===T)m=!0;else{if(1===T||2===T){let D=n[++h];for(;"string"==typeof D;)D=n[++h];continue}if(4===T)break;if(0===T){h+=4;continue}}h+=m?1:2}return-1}return function jr(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const o=t[i];if("number"==typeof o)return-1;if(o===n)return i;i++}return-1}(n,t)}function Kr(t,n,i=!1){for(let o=0;o<n.length;o++)if(us(t,n[o],i))return!0;return!1}function ia(t,n){e:for(let i=0;i<n.length;i++){const o=n[i];if(t.length===o.length){for(let h=0;h<t.length;h++)if(t[h]!==o[h])continue e;return!0}}return!1}function Vs(t,n){return t?":not("+n.trim()+")":n}function Ni(t){let n=t[0],i=1,o=2,h="",m=!1;for(;i<t.length;){let T=t[i];if("string"==typeof T)if(2&o){const D=t[++i];h+="["+T+(D.length>0?'="'+D+'"':"")+"]"}else 8&o?h+="."+T:4&o&&(h+=" "+T);else""!==h&&!Bi(T)&&(n+=Vs(m,h),h=""),o=T,m=m||!Bi(o);i++}return""!==h&&(n+=Vs(m,h)),n}function di(t){return Wt(()=>{const n=es(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===pn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||nn.Emulated,styles:t.styles||fn,_:null,schemas:t.schemas||null,tView:null,id:""};Li(i);const o=t.dependencies;return i.directiveDefs=Ro(o,!1),i.pipeDefs=Ro(o,!0),i.id=function Es(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const h of i)n=Math.imul(31,n)+h.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function ys(t){return Un(t)||$r(t)}function hi(t){return null!==t}function vs(t){return Wt(()=>({type:t.type,bootstrap:t.bootstrap||fn,declarations:t.declarations||fn,imports:t.imports||fn,exports:t.exports||fn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function co(t,n){if(null==t)return Er;const i={};for(const o in t)if(t.hasOwnProperty(o)){let h=t[o],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),i[h]=o,n&&(n[h]=m)}return i}function ji(t){return Wt(()=>{const n=es(t);return Li(n),n})}function Po(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Un(t){return t[ri]||null}function $r(t){return t[as]||null}function Yr(t){return t[Ui]||null}function $i(t){const n=Un(t)||$r(t)||Yr(t);return null!==n&&n.standalone}function zr(t,n){const i=t[cs]||null;if(!i&&!0===n)throw new Error(`Type ${ve(t)} does not have '\u0275mod' property.`);return i}function es(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Er,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||fn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:co(t.inputs,n),outputs:co(t.outputs)}}function Li(t){t.features?.forEach(n=>n(t))}function Ro(t,n){if(!t)return null;const i=n?Yr:ys;return()=>("function"==typeof t?t():t).map(o=>i(o)).filter(hi)}const Or=0,an=1,Wn=2,Cr=3,Mi=4,Ms=5,Qr=6,fi=7,Tr=8,ts=9,Ps=10,Qn=11,ns=12,pr=13,Pi=14,zn=15,ds=16,Ri=17,Is=18,Rs=19,Va=20,bs=21,sr=22,mr=23,Us=24,hr=25,rs=1,Hi=2,hs=7,lo=9,ii=11;function De(t){return Array.isArray(t)&&"object"==typeof t[rs]}function qe(t){return Array.isArray(t)&&!0===t[rs]}function Pt(t){return 0!=(4&t.flags)}function Ht(t){return t.componentOffset>-1}function hn(t){return 1==(1&t.flags)}function En(t){return!!t.template}function nr(t){return 0!=(512&t[Wn])}function eo(t,n){return t.hasOwnProperty(Si)?t[Si]:null}let Nr=null,Ea=!1;function Yi(t){const n=Nr;return Nr=t,n}const fu={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function fo(t){if(!oa(t)||t.dirty){if(!t.producerMustRecompute(t)&&!zc(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function ja(t){t.dirty=!0,function po(t){if(void 0===t.liveConsumerNode)return;const n=Ea;Ea=!0;try{for(const i of t.liveConsumerNode)i.dirty||ja(i)}finally{Ea=n}}(t),t.consumerMarkedDirty?.(t)}function fr(t){return t&&(t.nextProducerIndex=0),Yi(t)}function $c(t,n){if(Yi(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(oa(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)$a(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function zc(t){jo(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],o=t.producerLastReadVersion[n];if(o!==i.version||(fo(i),o!==i.version))return!0}return!1}function oc(t){if(jo(t),oa(t))for(let n=0;n<t.producerNode.length;n++)$a(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function $a(t,n){if(function cc(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),jo(t),1===t.liveConsumerNode.length)for(let o=0;o<t.producerNode.length;o++)$a(t.producerNode[o],t.producerIndexOfThis[o]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const o=t.liveConsumerIndexOfThis[n],h=t.liveConsumerNode[n];jo(h),h.producerIndexOfThis[o]=n}}function oa(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function jo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let za=null;function mt(t){const n=Yi(null);try{return t()}finally{Yi(n)}}const Cn=()=>{},kr=(()=>({...fu,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Cn}))();class Wr{constructor(n,i,o){this.previousValue=n,this.currentValue=i,this.firstChange=o}isFirstChange(){return this.firstChange}}function Ir(){return ei}function ei(t){return t.type.prototype.ngOnChanges&&(t.setInput=Gi),Hr}function Hr(){const t=gs(this),n=t?.current;if(n){const i=t.previous;if(i===Er)t.previous=n;else for(let o in n)i[o]=n[o];t.current=null,this.ngOnChanges(n)}}function Gi(t,n,i,o){const h=this.declaredInputs[i],m=gs(t)||function ca(t,n){return t[Cs]=n}(t,{previous:Er,current:null}),T=m.current||(m.current={}),D=m.previous,x=D[h];T[h]=new Wr(x&&x.currentValue,n,D===Er),t[o]=n}Ir.ngInherit=!0;const Cs="__ngSimpleChanges__";function gs(t){return t[Cs]||null}const or=function(t,n,i){};function mi(t){for(;Array.isArray(t);)t=t[Or];return t}function zo(t,n){return mi(n[t])}function Bs(t,n){return mi(n[t.index])}function Pl(t,n){return t.data[n]}function ua(t,n){return t[n]}function js(t,n){const i=n[t];return De(i)?i:i[Or]}function go(t,n){return null==n?null:t[n]}function Ho(t){t[Ri]=0}function Go(t){1024&t[Wn]||(t[Wn]|=1024,Ph(t,1))}function ud(t){1024&t[Wn]&&(t[Wn]&=-1025,Ph(t,-1))}function Ph(t,n){let i=t[Cr];if(null===i)return;i[Ms]+=n;let o=i;for(i=i[Cr];null!==i&&(1===n&&1===o[Ms]||-1===n&&0===o[Ms]);)i[Ms]+=n,o=i,i=i[Cr]}const cr={lFrame:Ns(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ki(){return cr.bindingsEnabled}function qa(){return null!==cr.skipHydrationRootTNode}function Vt(){return cr.lFrame.lView}function Ur(){return cr.lFrame.tView}function pd(t){return cr.lFrame.contextLView=t,t[Tr]}function dc(t){return cr.lFrame.contextLView=null,t}function ws(){let t=Qi();for(;null!==t&&64===t.type;)t=t.parent;return t}function Qi(){return cr.lFrame.currentTNode}function Os(t,n){const i=cr.lFrame;i.currentTNode=t,i.isParent=n}function Zc(){return cr.lFrame.isParent}function hc(){cr.lFrame.isParent=!1}function qs(){const t=cr.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function ba(){return cr.lFrame.bindingIndex++}function S(t){const n=cr.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function N(t,n){const i=cr.lFrame;i.bindingIndex=i.bindingRootIndex=t,ce(n)}function ce(t){cr.lFrame.currentDirectiveIndex=t}function ft(){return cr.lFrame.currentQueryIndex}function pt(t){cr.lFrame.currentQueryIndex=t}function Tn(t){const n=t[an];return 2===n.type?n.declTNode:1===n.type?t[Qr]:null}function Dr(t,n,i){if(i&bn.SkipSelf){let h=n,m=t;for(;!(h=h.parent,null!==h||i&bn.Host||(h=Tn(m),null===h||(m=m[Pi],10&h.type))););if(null===h)return!1;n=h,t=m}const o=cr.lFrame=dr();return o.currentTNode=n,o.lView=t,!0}function Xr(t){const n=dr(),i=t[an];cr.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function dr(){const t=cr.lFrame,n=null===t?null:t.child;return null===n?Ns(t):n}function Ns(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function ro(){const t=cr.lFrame;return cr.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const mo=ro;function fc(){const t=ro();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ks(){return cr.lFrame.selectedIndex}function Kc(t){cr.lFrame.selectedIndex=t}function vi(){const t=cr.lFrame;return Pl(t.tView,t.selectedIndex)}let Oh=!0;function da(){return Oh}function Ca(t){Oh=t}function kh(t,n){for(let i=n.directiveStart,o=n.directiveEnd;i<o;i++){const m=t.data[i].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:D,ngAfterViewInit:x,ngAfterViewChecked:G,ngOnDestroy:se}=m;T&&(t.contentHooks??=[]).push(-i,T),D&&((t.contentHooks??=[]).push(i,D),(t.contentCheckHooks??=[]).push(i,D)),x&&(t.viewHooks??=[]).push(-i,x),G&&((t.viewHooks??=[]).push(i,G),(t.viewCheckHooks??=[]).push(i,G)),null!=se&&(t.destroyHooks??=[]).push(i,se)}}function xo(t,n,i){Wf(t,n,3,i)}function ha(t,n,i,o){(3&t[Wn])===i&&Wf(t,n,i,o)}function Zo(t,n){let i=t[Wn];(3&i)===n&&(i&=8191,i+=1,t[Wn]=i)}function Wf(t,n,i,o){const m=o??-1,T=n.length-1;let D=0;for(let x=void 0!==o?65535&t[Ri]:0;x<T;x++)if("number"==typeof n[x+1]){if(D=n[x],null!=o&&D>=o)break}else n[x]<0&&(t[Ri]+=65536),(D<m||-1==m)&&(vd(t,i,n,x),t[Ri]=(4294901760&t[Ri])+x+2),x++}function yd(t,n){or(4,t,n);const i=Yi(null);try{n.call(t)}finally{Yi(i),or(5,t,n)}}function vd(t,n,i,o){const h=i[o]<0,m=i[o+1],D=t[h?-i[o]:i[o]];h?t[Wn]>>13<t[Ri]>>16&&(3&t[Wn])===n&&(t[Wn]+=8192,yd(D,m)):yd(D,m)}const pc=-1;class Ol{constructor(n,i,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=o}}function Nl(t){return t!==pc}function Eu(t){return 32767&t}function fa(t,n){let i=function Cg(t){return t>>16}(t),o=n;for(;i>0;)o=o[Pi],i--;return o}let kl=!0;function Aa(t){const n=kl;return kl=t,n}const bd=255,As=5;let wg=0;const Ws={};function Td(t,n){const i=Da(t,n);if(-1!==i)return i;const o=n[an];o.firstCreatePass&&(t.injectorIndex=n.length,Fs(o.data,t),Fs(n,null),Fs(o.blueprint,null));const h=Fl(t,n),m=t.injectorIndex;if(Nl(h)){const T=Eu(h),D=fa(h,n),x=D[an].data;for(let G=0;G<8;G++)n[m+G]=D[T+G]|x[T+G]}return n[m+8]=h,m}function Fs(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Da(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Fl(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,o=null,h=n;for(;null!==h;){if(o=jh(h),null===o)return pc;if(i++,h=h[Pi],-1!==o.injectorIndex)return o.injectorIndex|i<<16}return pc}function gc(t,n,i){!function Vh(t,n,i){let o;"string"==typeof i?o=i.charCodeAt(0)||0:i.hasOwnProperty(Sr)&&(o=i[Sr]),null==o&&(o=i[Sr]=wg++);const h=o&bd;n.data[t+(h>>As)]|=1<<h}(t,n,i)}function Yc(t,n,i){if(i&bn.Optional||void 0!==t)return t;Ct()}function Ti(t,n,i,o){if(i&bn.Optional&&void 0===o&&(o=null),!(i&(bn.Self|bn.Host))){const h=t[ts],m=Br(void 0);try{return h?h.get(n,o,i&bn.Optional):Rr(n,o,i&bn.Optional)}finally{Br(m)}}return Yc(o,0,i)}function pa(t,n,i,o=bn.Default,h){if(null!==t){if(2048&n[Wn]&&!(o&bn.Self)){const T=function _c(t,n,i,o,h){let m=t,T=n;for(;null!==m&&null!==T&&2048&T[Wn]&&!(512&T[Wn]);){const D=Ll(m,T,i,o|bn.Self,Ws);if(D!==Ws)return D;let x=m.parent;if(!x){const G=T[Va];if(G){const se=G.get(i,Ws,o);if(se!==Ws)return se}x=jh(T),T=T[Pi]}m=x}return h}(t,n,i,o,Ws);if(T!==Ws)return T}const m=Ll(t,n,i,o,Ws);if(m!==Ws)return m}return Ti(n,i,o,h)}function Ll(t,n,i,o,h){const m=function Cd(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Sr)?t[Sr]:void 0;return"number"==typeof n?n>=0?n&bd:Bh:n}(i);if("function"==typeof m){if(!Dr(n,t,o))return o&bn.Host?Yc(h,0,o):Ti(n,i,o,h);try{let T;if(T=m(o),null!=T||o&bn.Optional)return T;Ct()}finally{mo()}}else if("number"==typeof m){let T=null,D=Da(t,n),x=pc,G=o&bn.Host?n[zn][Qr]:null;for((-1===D||o&bn.SkipSelf)&&(x=-1===D?Fl(t,n):n[D+8],x!==pc&&bu(o,!1)?(T=n[an],D=Eu(x),n=fa(x,n)):D=-1);-1!==D;){const se=n[an];if(Kf(m,D,se.data)){const be=Uh(D,n,i,T,o,G);if(be!==Ws)return be}x=n[D+8],x!==pc&&bu(o,n[an].data[D+8]===G)&&Kf(m,D,n)?(T=se,D=Eu(x),n=fa(x,n)):D=-1}}return h}function Uh(t,n,i,o,h,m){const T=n[an],D=T.data[t+8],se=Iu(D,T,i,null==o?Ht(D)&&kl:o!=T&&0!=(3&D.type),h&bn.Host&&m===D);return null!==se?Qc(n,T,se,D):Ws}function Iu(t,n,i,o,h){const m=t.providerIndexes,T=n.data,D=1048575&m,x=t.directiveStart,se=m>>20,We=h?D+se:t.directiveEnd;for(let at=o?D:D+se;at<We;at++){const Nt=T[at];if(at<x&&i===Nt||at>=x&&Nt.type===i)return at}if(h){const at=T[x];if(at&&En(at)&&at.type===i)return x}return null}function Qc(t,n,i,o){let h=t[i];const m=n.data;if(function Ed(t){return t instanceof Ol}(h)){const T=h;T.resolving&&function Dt(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new ze(-200,`Circular dependency in DI detected for ${t}${i}`)}(function ot(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ge(t)}(m[i]));const D=Aa(T.canSeeViewProviders);T.resolving=!0;const G=T.injectImpl?Br(T.injectImpl):null;Dr(t,o,bn.Default);try{h=t[i]=T.factory(void 0,m,t,o),n.firstCreatePass&&i>=o.directiveStart&&function Nh(t,n,i){const{ngOnChanges:o,ngOnInit:h,ngDoCheck:m}=n.type.prototype;if(o){const T=ei(n);(i.preOrderHooks??=[]).push(t,T),(i.preOrderCheckHooks??=[]).push(t,T)}h&&(i.preOrderHooks??=[]).push(0-t,h),m&&((i.preOrderHooks??=[]).push(t,m),(i.preOrderCheckHooks??=[]).push(t,m))}(i,m[i],n)}finally{null!==G&&Br(G),Aa(D),T.resolving=!1,mo()}}return h}function Kf(t,n,i){return!!(i[n+(t>>As)]&1<<t)}function bu(t,n){return!(t&bn.Self||t&bn.Host&&n)}class Ls{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,o){return pa(this._tNode,this._lView,n,dn(o),i)}}function Bh(){return new Ls(ws(),Vt())}function Tu(t){return Wt(()=>{const n=t.prototype.constructor,i=n[Si]||Sa(n),o=Object.prototype;let h=Object.getPrototypeOf(t.prototype).constructor;for(;h&&h!==o;){const m=h[Si]||Sa(h);if(m&&m!==i)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function Sa(t){return At(t)?()=>{const n=Sa(vt(t));return n&&n()}:eo(t)}function jh(t){const n=t[an],i=n.type;return 2===i?n.declTNode:1===i?t[Qr]:null}function Cu(t){return function Zf(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const o=i.length;let h=0;for(;h<o;){const m=i[h];if(Xs(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<o&&"string"==typeof i[h];)h++;else{if(m===n)return i[h+1];h+=2}}}return null}(ws(),t)}const yc="__parameters__";function qi(t,n,i){return Wt(()=>{const o=function vc(t){return function(...i){if(t){const o=t(...i);for(const h in o)this[h]=o[h]}}}(n);function h(...m){if(this instanceof h)return o.apply(this,m),this;const T=new h(...m);return D.annotation=T,D;function D(x,G,se){const be=x.hasOwnProperty(yc)?x[yc]:Object.defineProperty(x,yc,{value:[]})[yc];for(;be.length<=se;)be.push(null);return(be[se]=be[se]||[]).push(T),x}}return i&&(h.prototype=Object.create(i.prototype)),h.prototype.ngMetadataName=t,h.annotationCls=h,h})}function Ko(t,n){t.forEach(i=>Array.isArray(i)?Ko(i,n):n(i))}function Xc(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function Yo(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Bl(t,n){const i=[];for(let o=0;o<t;o++)i.push(n);return i}function yo(t,n,i){let o=jl(t,n);return o>=0?t[1|o]=i:(o=~o,function Oo(t,n,i,o){let h=t.length;if(h==n)t.push(i,o);else if(1===h)t.push(o,t[0]),t[0]=i;else{for(h--,t.push(t[h-1],t[h]);h>n;)t[h]=t[h-2],h--;t[n]=i,t[n+1]=o}}(t,o,n,i)),o}function Du(t,n){const i=jl(t,n);if(i>=0)return t[1|i]}function jl(t,n){return function Za(t,n,i){let o=0,h=t.length>>i;for(;h!==o;){const m=o+(h-o>>1),T=t[m<<i];if(n===T)return m<<i;T>n?h=m:o=m+1}return~(h<<i)}(t,n,1)}const Ic=Fe(qi("Optional"),8),Ka=Fe(qi("SkipSelf"),4);function xd(t){return 128==(128&t.flags)}var Od=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Od||{});const ip=new Map;let n_=0;const Ru="__ngContext__";function Ks(t,n){De(n)?(t[Ru]=n[Rs],function sp(t){ip.set(t[Rs],t)}(n)):t[Ru]=n}let xg;function Ld(t,n){return xg(t,n)}function Ou(t){const n=t[Cr];return qe(n)?n[Cr]:n}function kg(t){return Nu(t[ns])}function Jh(t){return Nu(t[Mi])}function Nu(t){for(;null!==t&&!qe(t);)t=t[Mi];return t}function dl(t,n,i,o,h){if(null!=o){let m,T=!1;qe(o)?m=o:De(o)&&(T=!0,o=o[Or]);const D=mi(o);0===t&&null!==i?null==h?d_(n,i,D):Lo(n,i,D,h||null,!0):1===t&&null!==i?Lo(n,i,D,h||null,!0):2===t?function yp(t,n,i){const o=fp(t,n);o&&function h_(t,n,i,o){t.removeChild(n,i,o)}(t,o,n,i)}(n,D,T):3===t&&n.destroyNode(D),null!=m&&function vp(t,n,i,o,h){const m=i[hs];m!==mi(i)&&dl(n,t,o,m,h);for(let D=ii;D<i.length;D++){const x=i[D];Kl(x[an],x,t,n,o,m)}}(n,t,m,i,h)}}function lp(t,n,i){return t.createElement(n,i)}function l_(t,n){const i=t[lo],o=i.indexOf(n);ud(n),i.splice(o,1)}function dp(t,n){if(t.length<=ii)return;const i=ii+n,o=t[i];if(o){const h=o[ds];null!==h&&h!==t&&l_(h,o),n>0&&(t[i-1][Mi]=o[Mi]);const m=Yo(t,ii+n);!function o_(t,n){Kl(t,n,n[Qn],2,null,null),n[Or]=null,n[Qr]=null}(o[an],o);const T=m[Is];null!==T&&T.detachView(m[an]),o[Cr]=null,o[Mi]=null,o[Wn]&=-129}return o}function Fo(t,n){if(!(256&n[Wn])){const i=n[Qn];n[mr]&&oc(n[mr]),n[Us]&&oc(n[Us]),i.destroyNode&&Kl(t,n,i,3,null,null),function a_(t){let n=t[ns];if(!n)return Fg(t[an],t);for(;n;){let i=null;if(De(n))i=n[ns];else{const o=n[ii];o&&(i=o)}if(!i){for(;n&&!n[Mi]&&n!==t;)De(n)&&Fg(n[an],n),n=n[Cr];null===n&&(n=t),De(n)&&Fg(n[an],n),i=n&&n[Mi]}n=i}}(n)}}function Fg(t,n){if(!(256&n[Wn])){n[Wn]&=-129,n[Wn]|=256,function u_(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let o=0;o<i.length;o+=2){const h=n[i[o]];if(!(h instanceof Ol)){const m=i[o+1];if(Array.isArray(m))for(let T=0;T<m.length;T+=2){const D=h[m[T]],x=m[T+1];or(4,D,x);try{x.call(D)}finally{or(5,D,x)}}else{or(4,h,m);try{m.call(h)}finally{or(5,h,m)}}}}}(t,n),function Lg(t,n){const i=t.cleanup,o=n[fi];if(null!==i)for(let m=0;m<i.length-1;m+=2)if("string"==typeof i[m]){const T=i[m+3];T>=0?o[T]():o[-T].unsubscribe(),m+=2}else i[m].call(o[i[m+1]]);null!==o&&(n[fi]=null);const h=n[bs];if(null!==h){n[bs]=null;for(let m=0;m<h.length;m++)(0,h[m])()}}(t,n),1===n[an].type&&n[Qn].destroy();const i=n[ds];if(null!==i&&qe(n[Cr])){i!==n[Cr]&&l_(i,n);const o=n[Is];null!==o&&o.detachView(t)}!function Qh(t){ip.delete(t[Rs])}(n)}}function ef(t,n,i){return function tf(t,n,i){let o=n;for(;null!==o&&40&o.type;)o=(n=o).parent;if(null===o)return i[Or];{const{componentOffset:h}=o;if(h>-1){const{encapsulation:m}=t.data[o.directiveStart+h];if(m===nn.None||m===nn.Emulated)return null}return Bs(o,i)}}(t,n.parent,i)}function Lo(t,n,i,o,h){t.insertBefore(n,i,o,h)}function d_(t,n,i){t.appendChild(n,i)}function hp(t,n,i,o,h){null!==o?Lo(t,n,i,o,h):d_(t,n,i)}function fp(t,n){return t.parentNode(n)}function pp(t,n,i){return gp(t,n,i)}let Ug,$g,Gg,Hd,gp=function Bd(t,n,i){return 40&t.type?Bs(t,i):null};function _p(t,n,i,o){const h=ef(t,o,n),m=n[Qn],D=pp(o.parent||n[Qr],o,n);if(null!=h)if(Array.isArray(i))for(let x=0;x<i.length;x++)hp(m,h,i[x],D,!1);else hp(m,h,i,D,!1);void 0!==Ug&&Ug(m,o,n,i,h)}function ku(t,n){if(null!==n){const i=n.type;if(3&i)return Bs(n,t);if(4&i)return nf(-1,t[n.index]);if(8&i){const o=n.child;if(null!==o)return ku(t,o);{const h=t[n.index];return qe(h)?nf(-1,h):mi(h)}}if(32&i)return Ld(n,t)()||mi(t[n.index]);{const o=Bg(t,n);return null!==o?Array.isArray(o)?o[0]:ku(Ou(t[zn]),o):ku(t,n.next)}}return null}function Bg(t,n){return null!==n?t[zn][Qr].projection[n.projection]:null}function nf(t,n){const i=ii+t+1;if(i<n.length){const o=n[i],h=o[an].firstChild;if(null!==h)return ku(o,h)}return n[hs]}function sf(t,n,i,o,h,m,T){for(;null!=i;){const D=o[i.index],x=i.type;if(T&&0===n&&(D&&Ks(mi(D),o),i.flags|=2),32!=(32&i.flags))if(8&x)sf(t,n,i.child,o,h,m,!1),dl(n,t,h,D,m);else if(32&x){const G=Ld(i,o);let se;for(;se=G();)dl(n,t,h,se,m);dl(n,t,h,D,m)}else 16&x?af(t,n,o,i,h,m):dl(n,t,h,D,m);i=T?i.projectionNext:i.next}}function Kl(t,n,i,o,h,m){sf(i,o,t.firstChild,n,h,m,!1)}function af(t,n,i,o,h,m){const T=i[zn],x=T[Qr].projection[o.projection];if(Array.isArray(x))for(let G=0;G<x.length;G++)dl(n,t,h,x[G],m);else{let G=x;const se=T[Cr];xd(o)&&(G.flags|=128),sf(t,n,G,se,h,m,!0)}}function hl(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function jg(t,n,i){const{mergedAttrs:o,classes:h,styles:m}=i;null!==o&&_s(t,n,o),null!==h&&hl(t,n,h),null!==m&&function Ep(t,n,i){t.setAttribute(n,"style",i)}(t,n,m)}function $d(t){return function cf(){if(void 0===$g&&($g=null,Hn.trustedTypes))try{$g=Hn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return $g}()?.createHTML(t)||t}function Ip(t){Gg=t}function m_(t){return function lf(){if(void 0===Hd&&(Hd=null,Hn.trustedTypes))try{Hd=Hn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Hd}()?.createScriptURL(t)||t}class Fu{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Qe})`}}class Gd extends Fu{getTypeName(){return"HTML"}}class __ extends Fu{getTypeName(){return"Style"}}class bp extends Fu{getTypeName(){return"Script"}}class Pa extends Fu{getTypeName(){return"URL"}}class Tp extends Fu{getTypeName(){return"ResourceURL"}}function wc(t){return t instanceof Fu?t.changingThisBreaksApplicationSecurity:t}function Ac(t,n){const i=function vy(t){return t instanceof Fu&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${Qe})`)}return i===n}function Wg(t){return new Gd(t)}function y_(t){return new __(t)}function qd(t){return new bp(t)}function v_(t){return new Pa(t)}function Cp(t){return new Tp(t)}class wp{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString($d(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class Ey{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=$d(n),i}}const Ap=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Wd(t){return(t=String(t)).match(Ap)?t:"unsafe:"+t}function Ra(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function Zd(...t){const n={};for(const i of t)for(const o in i)i.hasOwnProperty(o)&&(n[o]=!0);return n}const Kg=Ra("area,br,col,hr,img,wbr"),Dp=Ra("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Kd=Ra("rp,rt"),Dc=Zd(Kg,Zd(Dp,Ra("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zd(Kd,Ra("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zd(Kd,Dp)),Sp=Ra("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Lu=Zd(Sp,Ra("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ra("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Jg=Ra("script,style,template");class Cy{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,o=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?o=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,o&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let h=this.checkClobberedElement(i,i.nextSibling);if(h){i=h;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!Dc.hasOwnProperty(i))return this.sanitizedSomething=!0,!Jg.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const o=n.attributes;for(let h=0;h<o.length;h++){const m=o.item(h),T=m.name,D=T.toLowerCase();if(!Lu.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let x=m.value;Sp[D]&&(x=Wd(x)),this.buf.push(" ",T,'="',Xg(x),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();Dc.hasOwnProperty(i)&&!Kg.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(Xg(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const wy=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,I_=/([^\#-~ |!])/g;function Xg(t){return t.replace(/&/g,"&amp;").replace(wy,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(I_,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Mp;function em(t,n){let i=null;try{Mp=Mp||function Zg(t){const n=new Ey(t);return function Iy(){try{return!!(new window.DOMParser).parseFromString($d(""),"text/html")}catch{return!1}}()?new wp(n):n}(t);let o=n?String(n):"";i=Mp.getInertBodyElement(o);let h=5,m=o;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,o=m,m=i.innerHTML,i=Mp.getInertBodyElement(o)}while(o!==m);return $d((new Cy).sanitizeChildren(tm(i)||i))}finally{if(i){const o=tm(i)||i;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function tm(t){return"content"in t&&function Ay(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Vu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Vu||{});function nm(t){const n=Mr();return n?n.sanitize(Vu.URL,t)||"":Ac(t,"URL")?wc(t):Wd(Ge(t))}function b_(t){const n=Mr();if(n)return m_(n.sanitize(Vu.RESOURCE_URL,t)||"");if(Ac(t,"ResourceURL"))return m_(wc(t));throw new ze(904,!1)}function im(t,n,i){return function w_(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?b_:nm}(n,i)(t)}function Mr(){const t=Vt();return t&&t[Ps].sanitizer}const Yd=new cn("ENVIRONMENT_INITIALIZER"),om=new cn("INJECTOR",-1),Uu=new cn("INJECTOR_DEF_TYPES");class Bu{get(n,i=Fn){if(i===Fn){const o=new Error(`NullInjectorError: No provider for ${ve(n)}!`);throw o.name="NullInjectorError",o}return i}}function $s(t){return{\u0275providers:t}}function ss(...t){return{\u0275providers:Sc(0,t),\u0275fromNgModule:!0}}function Sc(t,...n){const i=[],o=new Set;let h;const m=T=>{i.push(T)};return Ko(n,T=>{const D=T;am(D,m,[],o)&&(h||=[],h.push(D))}),void 0!==h&&Py(h,m),i}function Py(t,n){for(let i=0;i<t.length;i++){const{ngModule:o,providers:h}=t[i];cm(h,m=>{n(m,o)})}}function am(t,n,i,o){if(!(t=vt(t)))return!1;let h=null,m=ci(t);const T=!m&&Un(t);if(m||T){if(T&&!T.standalone)return!1;h=t}else{const x=t.ngModule;if(m=ci(x),!m)return!1;h=x}const D=o.has(h);if(T){if(D)return!1;if(o.add(h),T.dependencies){const x="function"==typeof T.dependencies?T.dependencies():T.dependencies;for(const G of x)am(G,n,i,o)}}else{if(!m)return!1;{if(null!=m.imports&&!D){let G;o.add(h);try{Ko(m.imports,se=>{am(se,n,i,o)&&(G||=[],G.push(se))})}finally{}void 0!==G&&Py(G,n)}if(!D){const G=eo(h)||(()=>new h);n({provide:h,useFactory:G,deps:fn},h),n({provide:Uu,useValue:h,multi:!0},h),n({provide:Yd,useValue:()=>kt(h),multi:!0},h)}const x=m.providers;if(null!=x&&!D){const G=t;cm(x,se=>{n(se,G)})}}}return h!==t&&void 0!==t.providers}function cm(t,n){for(let i of t)Et(i)&&(i=i.\u0275providers),Array.isArray(i)?cm(i,n):n(i)}const lm=ne({provide:String,useValue:ne});function um(t){return null!==t&&"object"==typeof t&&lm in t}function ju(t){return"function"==typeof t}const D_=new cn("Set Injector scope."),uf={},Ji={};let xa;function dm(){return void 0===xa&&(xa=new Bu),xa}class fl{}class Qd extends fl{get destroyed(){return this._destroyed}constructor(n,i,o,h){super(),this.parent=i,this.source=o,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Jd(n,T=>this.processProvider(T)),this.records.set(om,xp(void 0,this)),h.has("environment")&&this.records.set(fl,xp(void 0,this));const m=this.records.get(D_);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Uu.multi,fn,bn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=ke(this),o=Br(void 0);try{return n()}finally{ke(i),Br(o)}}get(n,i=Fn,o=bn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(qr))return n[qr](this);o=dn(o);const m=ke(this),T=Br(void 0);try{if(!(o&bn.SkipSelf)){let x=this.records.get(n);if(void 0===x){const G=function xy(t){return"function"==typeof t||"object"==typeof t&&t instanceof cn}(n)&&mn(n);x=G&&this.injectableDefInScope(G)?xp(Rp(n),uf):null,this.records.set(n,x)}if(null!=x)return this.hydrate(n,x)}return(o&bn.Self?dm():this.parent).get(n,i=o&bn.Optional&&i===Fn?null:i)}catch(D){if("NullInjectorError"===D.name){if((D[Bt]=D[Bt]||[]).unshift(ve(n)),m)throw D;return function Be(t,n,i,o){const h=t[Bt];throw n[j]&&h.unshift(n[j]),t.message=function xt(t,n,i,o=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let h=ve(n);if(Array.isArray(n))h=n.map(ve).join(" -> ");else if("object"==typeof n){let m=[];for(let T in n)if(n.hasOwnProperty(T)){let D=n[T];m.push(T+":"+("string"==typeof D?JSON.stringify(D):ve(D)))}h=`{${m.join(", ")}}`}return`${i}${o?"("+o+")":""}[${h}]: ${t.replace(J,"\n  ")}`}("\n"+t.message,h,i,o),t.ngTokenPath=h,t[Bt]=null,t}(D,n,"R3InjectorError",this.source)}throw D}finally{Br(T),ke(m)}}resolveInjectorInitializers(){const n=ke(this),i=Br(void 0);try{const h=this.get(Yd.multi,fn,bn.Self);for(const m of h)m()}finally{ke(n),Br(i)}}toString(){const n=[],i=this.records;for(const o of i.keys())n.push(ve(o));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ze(205,!1)}processProvider(n){let i=ju(n=vt(n))?n:vt(n&&n.provide);const o=function zv(t){return um(t)?xp(void 0,t.useValue):xp(Ry(t),uf)}(n);if(ju(n)||!0!==n.multi)this.records.get(i);else{let h=this.records.get(i);h||(h=xp(void 0,uf,!0),h.factory=()=>ar(h.multi),this.records.set(i,h)),i=n,h.multi.push(n)}this.records.set(i,o)}hydrate(n,i){return i.value===uf&&(i.value=Ji,i.value=i.factory()),"object"==typeof i.value&&i.value&&function Gv(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=vt(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function Rp(t){const n=mn(t),i=null!==n?n.factory:eo(t);if(null!==i)return i;if(t instanceof cn)throw new ze(204,!1);if(t instanceof Function)return function S_(t){const n=t.length;if(n>0)throw Bl(n,"?"),new ze(204,!1);const i=function en(t){return t&&(t[On]||t[Kn])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new ze(204,!1)}function Ry(t,n,i){let o;if(ju(t)){const h=vt(t);return eo(h)||Rp(h)}if(um(t))o=()=>vt(t.useValue);else if(function A_(t){return!(!t||!t.useFactory)}(t))o=()=>t.useFactory(...ar(t.deps||[]));else if(function Pp(t){return!(!t||!t.useExisting)}(t))o=()=>kt(vt(t.useExisting));else{const h=vt(t&&(t.useClass||t.provide));if(!function Hv(t){return!!t.deps}(t))return eo(h)||Rp(h);o=()=>new h(...ar(t.deps))}return o}function xp(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function Jd(t,n){for(const i of t)Array.isArray(i)?Jd(i,n):i&&Et(i)?Jd(i.\u0275providers,n):n(i)}const Oy=new cn("AppId",{providedIn:"root",factory:()=>Oa}),Oa="ng",Mc=new cn("Platform Initializer"),Op=new cn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),hf=new cn("AnimationModuleType"),Ny=new cn("CSP nonce",{providedIn:"root",factory:()=>function zd(){if(void 0!==Gg)return Gg;if(typeof document<"u")return document;throw new ze(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let rh=(t,n,i)=>null;function ih(t,n,i=!1){return rh(t,n,i)}class Gu{}class P_{}class ga{resolveComponentFactory(n){throw function yf(t){const n=Error(`No component factory found for ${ve(t)}.`);return n.ngComponent=t,n}(n)}}let Ef=(()=>{class t{static#e=this.NULL=new ga}return t})();function Up(){return Ql(ws(),Vt())}function Ql(t,n){return new If(Bs(t,n))}let If=(()=>{class t{constructor(i){this.nativeElement=i}static#e=this.__NG_ELEMENT_ID__=Up}return t})();function Rc(t){return t instanceof If?t.nativeElement:t}class mm{}let $y=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function zy(){const t=Vt(),i=js(ws().index,t);return(De(i)?i:t)[Qn]}()}return t})(),R_=(()=>{class t{static#e=this.\u0275prov=_n({token:t,providedIn:"root",factory:()=>null})}return t})();class Bp{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const jp=new Bp("16.2.12"),_m={};function bo(t,n=null,i=null,o){const h=Hp(t,n,i,o);return h.resolveInjectorInitializers(),h}function Hp(t,n=null,i=null,o,h=new Set){const m=[i||fn,ss(t)];return o=o||("object"==typeof t?void 0:ve(t)),new Qd(m,n||dm(),o||null,h)}let Jo=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Fn;static#t=this.NULL=new Bu;static create(i,o){if(Array.isArray(i))return bo({name:""},o,i,"");{const h=i.name??"";return bo({name:h},i.parent,i.providers,h)}}static#n=this.\u0275prov=_n({token:t,providedIn:"any",factory:()=>kt(om)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Gp(t){return t.ngOriginalError}class eu{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&Gp(n);for(;i&&Gp(i);)i=Gp(i);return i||null}}function Wu(t){return n=>{setTimeout(t,void 0,n)}}const Oc=class qu extends g.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,o){let h=n,m=i||(()=>null),T=o;if(n&&"object"==typeof n){const x=n;h=x.next?.bind(x),m=x.error?.bind(x),T=x.complete?.bind(x)}this.__isAsync&&(m=Wu(m),h&&(h=Wu(h)),T&&(T=Wu(T)));const D=super.subscribe({next:h,error:m,complete:T});return n instanceof u.w0&&n.add(D),D}};function Wp(...t){}class Vi{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oc(!1),this.onMicrotaskEmpty=new Oc(!1),this.onStable=new Oc(!1),this.onError=new Oc(!1),typeof Zone>"u")throw new ze(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!o&&i,h.shouldCoalesceRunChangeDetection=o,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function N_(){const t="function"==typeof Hn.requestAnimationFrame;let n=Hn[t?"requestAnimationFrame":"setTimeout"],i=Hn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const h=i[Zone.__symbol__("OriginalDelegate")];h&&(i=h)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Gy(t){const n=()=>{!function Wv(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Hn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Im(t),t.isCheckStableRunning=!0,Kp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Im(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,o,h,m,T,D)=>{if(function xE(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(D))return i.invokeTask(h,m,T,D);try{return Xo(t),i.invokeTask(h,m,T,D)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||t.shouldCoalesceRunChangeDetection)&&n(),bm(t)}},onInvoke:(i,o,h,m,T,D,x)=>{try{return Xo(t),i.invoke(h,m,T,D,x)}finally{t.shouldCoalesceRunChangeDetection&&n(),bm(t)}},onHasTask:(i,o,h,m)=>{i.hasTask(h,m),o===h&&("microTask"==m.change?(t._hasPendingMicrotasks=m.microTask,Im(t),Kp(t)):"macroTask"==m.change&&(t.hasPendingMacrotasks=m.macroTask))},onHandleError:(i,o,h,m)=>(i.handleError(h,m),t.runOutsideAngular(()=>t.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vi.isInAngularZone())throw new ze(909,!1)}static assertNotInAngularZone(){if(Vi.isInAngularZone())throw new ze(909,!1)}run(n,i,o){return this._inner.run(n,i,o)}runTask(n,i,o,h){const m=this._inner,T=m.scheduleEventTask("NgZoneEvent: "+h,n,Em,Wp,Wp);try{return m.runTask(T,i,o)}finally{m.cancelTask(T)}}runGuarded(n,i,o){return this._inner.runGuarded(n,i,o)}runOutsideAngular(n){return this._outer.run(n)}}const Em={};function Kp(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Im(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Xo(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function bm(t){t._nesting--,Kp(t)}class RE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oc,this.onMicrotaskEmpty=new Oc,this.onStable=new Oc,this.onError=new Oc}run(n,i,o){return n.apply(i,o)}runGuarded(n,i,o){return n.apply(i,o)}runOutsideAngular(n){return n()}runTask(n,i,o,h){return n.apply(i,o)}}const Zv=new cn("",{providedIn:"root",factory:Kv});function Kv(){const t=un(Vi);let n=!0;const i=new H.y(h=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{h.next(n),h.complete()})}),o=new H.y(h=>{let m;t.runOutsideAngular(()=>{m=t.onStable.subscribe(()=>{Vi.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,h.next(!0))})})});const T=t.onUnstable.subscribe(()=>{Vi.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{h.next(!1)}))});return()=>{m.unsubscribe(),T.unsubscribe()}});return(0,Ie.T)(i,o.pipe((0,Ae.B)()))}function _l(t){return t instanceof Function?t():t}let wm=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=_n({token:t,providedIn:"root",factory:()=>new t})}return t})();function Ku(t){for(;t;){t[Wn]|=64;const n=Ou(t);if(nr(t)&&!n)return t;t=n}return null}const qy=new cn("",{providedIn:"root",factory:()=>!1});let ah=null;function Qu(t,n){return t[n]??s()}function l(t,n){const i=s();i.producerNode?.length&&(t[n]=ah,i.lView=t,ah=r())}const e={...fu,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ku(t.lView)},lView:null};function r(){return Object.create(e)}function s(){return ah??=r(),ah}const d={};function y(t){b(Ur(),Vt(),ks()+t,!1)}function b(t,n,i,o){if(!o)if(3==(3&n[Wn])){const m=t.preOrderCheckHooks;null!==m&&xo(n,m,i)}else{const m=t.preOrderHooks;null!==m&&ha(n,m,0,i)}Kc(i)}function R(t,n=bn.Default){const i=Vt();return null===i?kt(t,n):pa(ws(),i,vt(t),n)}function V(){throw new Error("invalid")}function ae(t,n,i,o,h,m,T,D,x,G,se){const be=n.blueprint.slice();return be[Or]=h,be[Wn]=140|o,(null!==G||t&&2048&t[Wn])&&(be[Wn]|=2048),Ho(be),be[Cr]=be[Pi]=t,be[Tr]=i,be[Ps]=T||t&&t[Ps],be[Qn]=D||t&&t[Qn],be[ts]=x||t&&t[ts]||null,be[Qr]=m,be[Rs]=function Eo(){return n_++}(),be[sr]=se,be[Va]=G,be[zn]=2==n.type?t[zn]:be,be}function ye(t,n,i,o,h){let m=t.data[n];if(null===m)m=function Le(t,n,i,o,h){const m=Qi(),T=Zc(),x=t.data[n]=function st(t,n,i,o,h,m){let T=n?n.injectorIndex:-1,D=0;return qa()&&(D|=128),{type:i,index:o,insertBeforeIndex:null,injectorIndex:T,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:D,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?m:m&&m.parent,i,n,o,h);return null===t.firstChild&&(t.firstChild=x),null!==m&&(T?null==m.child&&null!==x.parent&&(m.child=x):null===m.next&&(m.next=x,x.prev=m)),x}(t,n,i,o,h),function O(){return cr.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=i,m.value=o,m.attrs=h;const T=function Rl(){const t=cr.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();m.injectorIndex=null===T?-1:T.injectorIndex}return Os(m,!0),m}function lt(t,n,i,o){if(0===i)return-1;const h=n.length;for(let m=0;m<i;m++)n.push(o),t.blueprint.push(o),t.data.push(null);return h}function Lt(t,n,i,o,h){const m=Qu(n,mr),T=ks(),D=2&o;try{Kc(-1),D&&n.length>hr&&b(t,n,hr,!1),or(D?2:0,h);const G=D?m:null,se=fr(G);try{null!==G&&(G.dirty=!1),i(o,h)}finally{$c(G,se)}}finally{D&&null===n[mr]&&l(n,mr),Kc(T),or(D?3:1,h)}}function rn(t,n,i){if(Pt(n)){const o=Yi(null);try{const m=n.directiveEnd;for(let T=n.directiveStart;T<m;T++){const D=t.data[T];D.contentQueries&&D.contentQueries(1,i[T],T)}}finally{Yi(o)}}}function Gt(t,n,i){ki()&&(function Am(t,n,i,o){const h=i.directiveStart,m=i.directiveEnd;Ht(i)&&function su(t,n,i){const o=Bs(n,t),h=Jn(i);let T=16;i.signals?T=4096:i.onPush&&(T=64);const D=uh(t,ae(t,h,null,T,o,n,null,t[Ps].rendererFactory.createRenderer(o,i),null,null,null));t[n.index]=D}(n,i,t.data[h+i.componentOffset]),t.firstCreatePass||Td(i,n),Ks(o,n);const T=i.initialInputs;for(let D=h;D<m;D++){const x=t.data[D],G=Qc(n,t,D,i);Ks(G,n),null!==T&&Sm(0,D-h,G,x,0,T),En(x)&&(js(i.index,n)[Tr]=Qc(n,t,D,i))}}(t,n,i,Bs(i,n)),64==(64&i.flags)&&ch(t,n,i))}function Ln(t,n,i=Bs){const o=n.localNames;if(null!==o){let h=n.index+1;for(let m=0;m<o.length;m+=2){const T=o[m+1],D=-1===T?i(n,t):t[T];t[h++]=D}}}function Jn(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=$n(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function $n(t,n,i,o,h,m,T,D,x,G,se){const be=hr+o,We=be+h,at=function wr(t,n){const i=[];for(let o=0;o<n;o++)i.push(o<t?null:d);return i}(be,We),Nt="function"==typeof G?G():G;return at[an]={type:t,blueprint:at,template:i,queries:null,viewQuery:D,declTNode:n,data:at.slice().fill(null,be),bindingStartIndex:be,expandoStartIndex:We,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:x,consts:Nt,incompleteFirstPass:!1,ssrId:se}}let Xe=t=>null;function gt(t,n,i,o){for(let h in t)if(t.hasOwnProperty(h)){i=null===i?{}:i;const m=t[h];null===o?je(i,n,h,m):o.hasOwnProperty(h)&&je(i,n,o[h],m)}return i}function je(t,n,i,o){t.hasOwnProperty(i)?t[i].push(n,o):t[i]=[n,o]}function ea(t,n,i,o,h,m,T,D){const x=Bs(n,i);let se,G=n.inputs;!D&&null!=G&&(se=G[o])?(so(t,i,se,o,h),Ht(n)&&function Af(t,n){const i=js(n,t);16&i[Wn]||(i[Wn]|=64)}(i,n.index)):3&n.type&&(o=function wf(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(o),h=null!=T?T(h,n.value||"",o):h,m.setProperty(x,o,h))}function nu(t,n,i,o){if(ki()){const h=null===o?null:{"":-1},m=function iu(t,n){const i=t.directiveRegistry;let o=null,h=null;if(i)for(let m=0;m<i.length;m++){const T=i[m];if(Kr(n,T.selectors,!1))if(o||(o=[]),En(T))if(null!==T.findHostDirectiveDefs){const D=[];h=h||new Map,T.findHostDirectiveDefs(T,D,h),o.unshift(...D,T),Dm(t,n,D.length)}else o.unshift(T),Dm(t,n,0);else h=h||new Map,T.findHostDirectiveDefs?.(T,o,h),o.push(T)}return null===o?null:[o,h]}(t,i);let T,D;null===m?T=D=null:[T,D]=m,null!==T&&Xp(t,n,i,T,h,D),h&&function V_(t,n,i){if(n){const o=t.localNames=[];for(let h=0;h<n.length;h+=2){const m=i[n[h+1]];if(null==m)throw new ze(-301,!1);o.push(n[h],m)}}}(i,o,h)}i.mergedAttrs=lr(i.mergedAttrs,i.attrs)}function Xp(t,n,i,o,h,m){for(let G=0;G<o.length;G++)gc(Td(i,n),t,o[G].type);!function Sf(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,o.length);for(let G=0;G<o.length;G++){const se=o[G];se.providersResolver&&se.providersResolver(se)}let T=!1,D=!1,x=lt(t,n,o.length,null);for(let G=0;G<o.length;G++){const se=o[G];i.mergedAttrs=lr(i.mergedAttrs,se.hostAttrs),ta(t,i,n,x,se),Df(x,se,h),null!==se.contentQueries&&(i.flags|=4),(null!==se.hostBindings||null!==se.hostAttrs||0!==se.hostVars)&&(i.flags|=64);const be=se.type.prototype;!T&&(be.ngOnChanges||be.ngOnInit||be.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),T=!0),!D&&(be.ngOnChanges||be.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),D=!0),x++}!function yl(t,n,i){const h=n.directiveEnd,m=t.data,T=n.attrs,D=[];let x=null,G=null;for(let se=n.directiveStart;se<h;se++){const be=m[se],We=i?i.get(be):null,Nt=We?We.outputs:null;x=gt(be.inputs,se,x,We?We.inputs:null),G=gt(be.outputs,se,G,Nt);const tn=null===x||null===T||Vr(n)?null:U_(x,se,T);D.push(tn)}null!==x&&(x.hasOwnProperty("class")&&(n.flags|=8),x.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=D,n.inputs=x,n.outputs=G}(t,i,m)}function ch(t,n,i){const o=i.directiveStart,h=i.directiveEnd,m=i.index,T=function q(){return cr.lFrame.currentDirectiveIndex}();try{Kc(m);for(let D=o;D<h;D++){const x=t.data[D],G=n[D];ce(D),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&Jy(x,G)}}finally{Kc(-1),ce(T)}}function Jy(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Dm(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function Df(t,n,i){if(i){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)i[n.exportAs[o]]=t;En(n)&&(i[""]=t)}}function ta(t,n,i,o,h){t.data[o]=h;const m=h.factory||(h.factory=eo(h.type)),T=new Ol(m,En(h),R);t.blueprint[o]=T,i[o]=T,function ru(t,n,i,o,h){const m=h.hostBindings;if(m){let T=t.hostBindingOpCodes;null===T&&(T=t.hostBindingOpCodes=[]);const D=~n.index;(function To(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(T)!=D&&T.push(D),T.push(i,o,m)}}(t,n,o,lt(t,i,h.hostVars,d),h)}function Na(t,n,i,o,h,m){const T=Bs(t,n);!function Mf(t,n,i,o,h,m,T){if(null==m)t.removeAttribute(n,h,i);else{const D=null==T?Ge(m):T(m,o||"",h);t.setAttribute(n,h,D,i)}}(n[Qn],T,m,t.value,i,o,h)}function Sm(t,n,i,o,h,m){const T=m[n];if(null!==T)for(let D=0;D<T.length;)Mm(o,i,T[D++],T[D++],T[D++])}function Mm(t,n,i,o,h){const m=Yi(null);try{const T=t.inputTransforms;null!==T&&T.hasOwnProperty(o)&&(h=T[o].call(n,h)),null!==t.setInput?t.setInput(n,h,i,o):n[o]=h}finally{Yi(m)}}function U_(t,n,i){let o=null,h=0;for(;h<i.length;){const m=i[h];if(0!==m)if(5!==m){if("number"==typeof m)break;if(t.hasOwnProperty(m)){null===o&&(o=[]);const T=t[m];for(let D=0;D<T.length;D+=2)if(T[D]===n){o.push(m,T[D+1],i[h+1]);break}}h+=2}else h+=2;else h+=4}return o}function lh(t,n,i,o){return[t,!0,!1,n,null,0,o,i,null,null,null]}function Pm(t,n){const i=t.contentQueries;if(null!==i)for(let o=0;o<i.length;o+=2){const m=i[o+1];if(-1!==m){const T=t.data[m];pt(i[o]),T.contentQueries(2,n[m],m)}}}function uh(t,n){return t[ns]?t[pr][Mi]=n:t[ns]=n,t[pr]=n,n}function dh(t,n,i){pt(0);const o=Yi(null);try{n(t,i)}finally{Yi(o)}}function Pf(t){return t[fi]||(t[fi]=[])}function eg(t){return t.cleanup||(t.cleanup=[])}function io(t,n){const i=t[ts],o=i?i.get(eu,null):null;o&&o.handleError(n)}function so(t,n,i,o,h){for(let m=0;m<i.length;){const T=i[m++],D=i[m++];Mm(t.data[T],n[T],o,D,h)}}function ma(t,n,i){const o=zo(n,t);!function s_(t,n,i){t.setValue(n,i)}(t[Qn],o,i)}function Rf(t,n){const i=js(n,t),o=i[an];!function Rm(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(o,i);const h=i[Or];null!==h&&null===i[sr]&&(i[sr]=ih(h,i[ts])),xm(o,i,i[Tr])}function xm(t,n,i){Xr(n);try{const o=t.viewQuery;null!==o&&dh(1,o,i);const h=t.template;null!==h&&Lt(t,n,h,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Pm(t,n),t.staticViewQueries&&dh(2,t.viewQuery,i);const m=t.components;null!==m&&function hh(t,n){for(let i=0;i<n.length;i++)Rf(t,n[i])}(n,m)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{n[Wn]&=-5,fc()}}let Om=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,o,h){const m=typeof Zone>"u"?null:Zone.current,T=function Ot(t,n,i){const o=Object.create(kr);i&&(o.consumerAllowSignalWrites=!0),o.fn=t,o.schedule=n;const h=T=>{o.cleanupFn=T};return o.ref={notify:()=>ja(o),run:()=>{if(o.dirty=!1,o.hasRun&&!zc(o))return;o.hasRun=!0;const T=fr(o);try{o.cleanupFn(),o.cleanupFn=Cn,o.fn(h)}finally{$c(o,T)}},cleanup:()=>o.cleanupFn()},o.ref}(i,G=>{this.all.has(G)&&this.queue.set(G,m)},h);let D;this.all.add(T),T.notify();const x=()=>{T.cleanup(),D?.(),this.all.delete(T),this.queue.delete(T)};return D=o?.onDestroy(x),{destroy:x}}flush(){if(0!==this.queue.size)for(const[i,o]of this.queue)this.queue.delete(i),o?o.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=_n({token:t,providedIn:"root",factory:()=>new t})}return t})();function fh(t,n,i){let o=i?t.styles:null,h=i?t.classes:null,m=0;if(null!==n)for(let T=0;T<n.length;T++){const D=n[T];"number"==typeof D?m=D:1==m?h=it(h,D):2==m&&(o=it(o,D+": "+n[++T]+";"))}i?t.styles=o:t.stylesWithoutHost=o,i?t.classes=h:t.classesWithoutHost=h}function xf(t,n,i,o,h=!1){for(;null!==i;){const m=n[i.index];null!==m&&o.push(mi(m)),qe(m)&&j_(m,o);const T=i.type;if(8&T)xf(t,n,i.child,o);else if(32&T){const D=Ld(i,n);let x;for(;x=D();)o.push(x)}else if(16&T){const D=Bg(n,i);if(Array.isArray(D))o.push(...D);else{const x=Ou(n[zn]);xf(x[an],x,D,o,!0)}}i=h?i.projectionNext:i.next}return o}function j_(t,n){for(let i=ii;i<t.length;i++){const o=t[i],h=o[an].firstChild;null!==h&&xf(o[an],o,h,n)}t[hs]!==t[Or]&&n.push(t[hs])}function ph(t,n,i,o=!0){const h=n[Ps],m=h.rendererFactory,T=h.afterRenderEventManager;m.begin?.(),T?.begin();try{Ju(t,n,t.template,i)}catch(x){throw o&&io(n,x),x}finally{m.end?.(),h.effectManager?.flush(),T?.end()}}function Ju(t,n,i,o){const h=n[Wn];if(256!=(256&h)){n[Ps].effectManager?.flush(),Xr(n);try{Ho(n),function _d(t){return cr.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&Lt(t,n,i,2,o);const T=3==(3&h);if(T){const G=t.preOrderCheckHooks;null!==G&&xo(n,G,null)}else{const G=t.preOrderHooks;null!==G&&ha(n,G,0,null),Zo(n,0)}if(function z_(t){for(let n=kg(t);null!==n;n=Jh(n)){if(!n[Hi])continue;const i=n[lo];for(let o=0;o<i.length;o++){Go(i[o])}}}(n),rg(n,2),null!==t.contentQueries&&Pm(t,n),T){const G=t.contentCheckHooks;null!==G&&xo(n,G)}else{const G=t.contentHooks;null!==G&&ha(n,G,1),Zo(n,1)}!function K(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const o=Qu(n,Us);try{for(let h=0;h<i.length;h++){const m=i[h];if(m<0)Kc(~m);else{const T=m,D=i[++h],x=i[++h];N(D,T),o.dirty=!1;const G=fr(o);try{x(2,n[T])}finally{$c(o,G)}}}}finally{null===n[Us]&&l(n,Us),Kc(-1)}}(t,n);const D=t.components;null!==D&&mh(n,D,0);const x=t.viewQuery;if(null!==x&&dh(2,x,o),T){const G=t.viewCheckHooks;null!==G&&xo(n,G)}else{const G=t.viewHooks;null!==G&&ha(n,G,2),Zo(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Wn]&=-73,ud(n)}finally{fc()}}}function rg(t,n){for(let i=kg(t);null!==i;i=Jh(i))for(let o=ii;o<i.length;o++)H_(i[o],n)}function gh(t,n,i){H_(js(n,t),i)}function H_(t,n){if(!function uc(t){return 128==(128&t[Wn])}(t))return;const i=t[an],o=t[Wn];if(80&o&&0===n||1024&o||2===n)Ju(i,t,i.template,t[Tr]);else if(t[Ms]>0){rg(t,1);const h=i.components;null!==h&&mh(t,h,1)}}function mh(t,n,i){for(let o=0;o<n.length;o++)gh(t,n[o],i)}class _a{get rootNodes(){const n=this._lView,i=n[an];return xf(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Tr]}set context(n){this._lView[Tr]=n}get destroyed(){return 256==(256&this._lView[Wn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Cr];if(qe(n)){const i=n[8],o=i?i.indexOf(this):-1;o>-1&&(dp(n,o),Yo(i,o))}this._attachedToViewContainer=!1}Fo(this._lView[an],this._lView)}onDestroy(n){!function Hf(t,n){if(256==(256&t[Wn]))throw new ze(911,!1);null===t[bs]&&(t[bs]=[]),t[bs].push(n)}(this._lView,n)}markForCheck(){Ku(this._cdRefInjectingView||this._lView)}detach(){this._lView[Wn]&=-129}reattach(){this._lView[Wn]|=128}detectChanges(){ph(this._lView[an],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function up(t,n){Kl(t,n,n[Qn],2,null,null)}(this._lView[an],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new ze(902,!1);this._appRef=n}}class Nc extends _a{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;ph(n[an],n,n[Tr],!1)}checkNoChanges(){}get context(){return null}}class Of extends Ef{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Un(n);return new vl(i,this.ngModule)}}function Uo(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class Xu{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,o){o=dn(o);const h=this.injector.get(n,_m,o);return h!==_m||i===_m?h:this.parentInjector.get(n,i,o)}}class vl extends P_{get inputs(){const n=this.componentDef,i=n.inputTransforms,o=Uo(n.inputs);if(null!==i)for(const h of o)i.hasOwnProperty(h.propName)&&(h.transform=i[h.propName]);return o}get outputs(){return Uo(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Xi(t){return t.map(Ni).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,o,h){let m=(h=h||this.ngModule)instanceof fl?h:h?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const T=m?new Xu(n,m):n,D=T.get(mm,null);if(null===D)throw new ze(407,!1);const be={rendererFactory:D,sanitizer:T.get(R_,null),effectManager:T.get(Om,null),afterRenderEventManager:T.get(wm,null)},We=D.createRenderer(null,this.componentDef),at=this.componentDef.selectors[0][0]||"div",Nt=o?function oi(t,n,i,o){const m=o.get(qy,!1)||i===nn.ShadowDom,T=t.selectRootElement(n,m);return function Lr(t){Xe(t)}(T),T}(We,o,this.componentDef.encapsulation,T):lp(We,at,function G_(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(at)),rr=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Zt=null;null!==Nt&&(Zt=ih(Nt,T,!0));const Pr=$n(0,null,null,1,0,null,null,null,null,null,null),Zr=ae(null,Pr,null,rr,null,null,be,We,T,null,Zt);let Wi,Uc;Xr(Zr);try{const zf=this.componentDef;let gy,K0=null;zf.findHostDirectiveDefs?(gy=[],K0=new Map,zf.findHostDirectiveDefs(zf,gy,K0),gy.push(zf)):gy=[zf];const JA=function ev(t,n){const i=t[an],o=hr;return t[o]=n,ye(i,o,2,"#host",null)}(Zr,Nt),XA=function _h(t,n,i,o,h,m,T){const D=h[an];!function tv(t,n,i,o){for(const h of t)n.mergedAttrs=lr(n.mergedAttrs,h.hostAttrs);null!==n.mergedAttrs&&(fh(n,n.mergedAttrs,!0),null!==i&&jg(o,i,n))}(o,t,n,T);let x=null;null!==n&&(x=ih(n,h[ts]));const G=m.rendererFactory.createRenderer(n,i);let se=16;i.signals?se=4096:i.onPush&&(se=64);const be=ae(h,Jn(i),null,se,h[t.index],t,m,G,null,null,x);return D.firstCreatePass&&Dm(D,t,o.length-1),uh(h,be),h[t.index]=be}(JA,Nt,zf,gy,Zr,be,We);Uc=Pl(Pr,hr),Nt&&function Nm(t,n,i,o){if(o)_s(t,i,["ng-version",jp.full]);else{const{attrs:h,classes:m}=function So(t){const n=[],i=[];let o=1,h=2;for(;o<t.length;){let m=t[o];if("string"==typeof m)2===h?""!==m&&n.push(m,t[++o]):8===h&&i.push(m);else{if(!Bi(h))break;h=m}o++}return{attrs:n,classes:i}}(n.selectors[0]);h&&_s(t,i,h),m&&m.length>0&&hl(t,i,m.join(" "))}}(We,zf,Nt,o),void 0!==i&&function nv(t,n,i){const o=t.projection=[];for(let h=0;h<n.length;h++){const m=i[h];o.push(null!=m?Array.from(m):null)}}(Uc,this.ngContentSelectors,i),Wi=function tE(t,n,i,o,h,m){const T=ws(),D=h[an],x=Bs(T,h);Xp(D,h,T,i,null,o);for(let se=0;se<i.length;se++)Ks(Qc(h,D,T.directiveStart+se,T),h);ch(D,h,T),x&&Ks(x,h);const G=Qc(h,D,T.directiveStart+T.componentOffset,T);if(t[Tr]=h[Tr]=G,null!==m)for(const se of m)se(G,n);return rn(D,T,t),G}(XA,zf,gy,K0,Zr,[km]),xm(Pr,Zr,null)}finally{fc()}return new Xy(this.componentType,Wi,Ql(Uc,Zr),Zr,Uc)}}class Xy extends Gu{constructor(n,i,o,h,m){super(),this.location=o,this._rootLView=h,this._tNode=m,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new Nc(h),this.componentType=n}setInput(n,i){const o=this._tNode.inputs;let h;if(null!==o&&(h=o[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const m=this._rootLView;so(m[an],m,h,n,i),this.previousInputValues.set(n,i),Ku(js(this._tNode.index,m))}}get injector(){return new Ls(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function km(){const t=ws();kh(Vt()[an],t)}function El(t){let n=function ig(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const o=[t];for(;n;){let h;if(En(t))h=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new ze(903,!1);h=n.\u0275dir}if(h){if(i){o.push(h);const T=t;T.inputs=sg(t.inputs),T.inputTransforms=sg(t.inputTransforms),T.declaredInputs=sg(t.declaredInputs),T.outputs=sg(t.outputs);const D=h.hostBindings;D&&ag(t,D);const x=h.viewQuery,G=h.contentQueries;if(x&&q_(t,x),G&&og(t,G),ie(t.inputs,h.inputs),ie(t.declaredInputs,h.declaredInputs),ie(t.outputs,h.outputs),null!==h.inputTransforms&&(null===T.inputTransforms&&(T.inputTransforms={}),ie(T.inputTransforms,h.inputTransforms)),En(h)&&h.data.animation){const se=t.data;se.animation=(se.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let T=0;T<m.length;T++){const D=m[T];D&&D.ngInherit&&D(t),D===El&&(i=!1)}}n=Object.getPrototypeOf(n)}!function rv(t){let n=0,i=null;for(let o=t.length-1;o>=0;o--){const h=t[o];h.hostVars=n+=h.hostVars,h.hostAttrs=lr(h.hostAttrs,i=lr(i,h.hostAttrs))}}(o)}function sg(t){return t===Er?{}:t===fn?[]:t}function q_(t,n){const i=t.viewQuery;t.viewQuery=i?(o,h)=>{n(o,h),i(o,h)}:n}function og(t,n){const i=t.contentQueries;t.contentQueries=i?(o,h,m)=>{n(o,h,m),i(o,h,m)}:n}function ag(t,n){const i=t.hostBindings;t.hostBindings=i?(o,h)=>{n(o,h),i(o,h)}:n}function K_(t){const n=t.inputConfig,i={};for(const o in n)if(n.hasOwnProperty(o)){const h=n[o];Array.isArray(h)&&h[2]&&(i[o]=h[2])}t.inputTransforms=i}function ug(t){return!!Fm(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Fm(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Il(t,n,i){return t[n]=i}function Co(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function ed(t,n,i,o){const h=Co(t,n,i);return Co(t,n+1,o)||h}function kc(t,n,i,o){const h=Vt();return Co(h,ba(),n)&&(Ur(),Na(vi(),h,t,n,i,o)),kc}function au(t,n,i,o){return Co(t,ba(),i)?n+Ge(i)+o:d}function Eh(t,n,i,o,h,m){const D=ed(t,function Wo(){return cr.lFrame.bindingIndex}(),i,h);return S(2),D?n+Ge(i)+o+Ge(h)+m:d}function jm(t,n,i,o,h,m,T,D){const x=Vt(),G=Ur(),se=t+hr,be=G.firstCreatePass?function oy(t,n,i,o,h,m,T,D,x){const G=n.consts,se=ye(n,t,4,T||null,go(G,D));nu(n,i,se,go(G,x)),kh(n,se);const be=se.tView=$n(2,se,o,h,m,n.directiveRegistry,n.pipeRegistry,null,n.schemas,G,null);return null!==n.queries&&(n.queries.template(n,se),be.queries=n.queries.embeddedTView(se)),se}(se,G,x,n,i,o,h,m,T):G.data[se];Os(be,!1);const We=$m(G,x,be,t);da()&&_p(G,x,We,be),Ks(We,x),uh(x,x[se]=lh(We,x,We,be)),hn(be)&&Gt(G,x,be),null!=T&&Ln(x,be,D)}let $m=function ay(t,n,i,o){return Ca(!0),n[Qn].createComment("")};function id(t){return ua(function gd(){return cr.lFrame.contextLView}(),hr+t)}function Hm(t,n,i){const o=Vt();return Co(o,ba(),n)&&ea(Ur(),vi(),o,t,n,o[Qn],i,!1),Hm}function Gm(t,n,i,o,h){const T=h?"class":"style";so(t,i,n.inputs[T],T,o)}function _g(t,n,i,o){const h=Vt(),m=Ur(),T=hr+t,D=h[Qn],x=m.firstCreatePass?function yv(t,n,i,o,h,m){const T=n.consts,x=ye(n,t,2,o,go(T,h));return nu(n,i,x,go(T,m)),null!==x.attrs&&fh(x,x.attrs,!1),null!==x.mergedAttrs&&fh(x,x.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,x),x}(T,m,h,n,i,o):m.data[T],G=cy(m,h,x,D,n,t);h[T]=G;const se=hn(x);return Os(x,!0),jg(D,G,x),32!=(32&x.flags)&&da()&&_p(m,h,G,x),0===function Ga(){return cr.lFrame.elementDepthCount}()&&Ks(G,h),function Rh(){cr.lFrame.elementDepthCount++}(),se&&(Gt(m,h,x),rn(m,x,h)),null!==o&&Ln(h,x),_g}function Ah(){let t=ws();Zc()?hc():(t=t.parent,Os(t,!1));const n=t;(function xh(t){return cr.skipHydrationRootTNode===t})(n)&&function bg(){cr.skipHydrationRootTNode=null}(),function hd(){cr.lFrame.elementDepthCount--}();const i=Ur();return i.firstCreatePass&&(kh(i,t),Pt(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Tg(t){return 0!=(8&t.flags)}(n)&&Gm(i,n,Vt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Fh(t){return 0!=(16&t.flags)}(n)&&Gm(i,n,Vt(),n.stylesWithoutHost,!1),Ah}function na(t,n,i,o){return _g(t,n,i,o),Ah(),na}let cy=(t,n,i,o,h,m)=>(Ca(!0),lp(o,h,function Ta(){return cr.lFrame.currentNamespace}()));function Fi(){return Vt()}function Qs(t){return!!t&&"function"==typeof t.then}function ai(t){return!!t&&"function"==typeof t.subscribe}function ao(t,n,i,o){const h=Vt(),m=Ur(),T=ws();return function ec(t,n,i,o,h,m,T){const D=hn(o),G=t.firstCreatePass&&eg(t),se=n[Tr],be=Pf(n);let We=!0;if(3&o.type||T){const tn=Bs(o,n),Dn=T?T(tn):tn,rr=be.length,Zt=T?Zr=>T(mi(Zr[o.index])):o.index;let Pr=null;if(!T&&D&&(Pr=function Uf(t,n,i,o){const h=t.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const T=h[m];if(T===i&&h[m+1]===o){const D=n[fi],x=h[m+2];return D.length>x?D[x]:null}"string"==typeof T&&(m+=2)}return null}(t,n,h,o.index)),null!==Pr)(Pr.__ngLastListenerFn__||Pr).__ngNextListenerFn__=m,Pr.__ngLastListenerFn__=m,We=!1;else{m=qm(o,n,se,m,!1);const Zr=i.listen(Dn,h,m);be.push(m,Zr),G&&G.push(h,Zt,rr,rr+1)}}else m=qm(o,n,se,m,!1);const at=o.outputs;let Nt;if(We&&null!==at&&(Nt=at[h])){const tn=Nt.length;if(tn)for(let Dn=0;Dn<tn;Dn+=2){const Wi=n[Nt[Dn]][Nt[Dn+1]].subscribe(m),Uc=be.length;be.push(m,Wi),G&&G.push(h,o.index,Uc,-(Uc+1))}}}(m,h,h[Qn],T,t,n,o),ao}function yg(t,n,i,o){try{return or(6,n,i),!1!==i(o)}catch(h){return io(t,h),!1}finally{or(7,n,i)}}function qm(t,n,i,o,h){return function m(T){if(T===Function)return o;Ku(t.componentOffset>-1?js(t.index,n):n);let x=yg(n,i,o,T),G=m.__ngNextListenerFn__;for(;G;)x=yg(n,i,G,T)&&x,G=G.__ngNextListenerFn__;return h&&!1===x&&T.preventDefault(),x}}function LE(t=1){return function _o(t){return(cr.lFrame.contextLView=function _u(t,n){for(;t>0;)n=n[Pi],t--;return n}(t,cr.lFrame.contextLView))[Tr]}(t)}function Y0(t,n){let i=null;const o=function La(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(t);for(let h=0;h<n.length;h++){const m=n[h];if("*"!==m){if(null===o?Kr(t,m,!0):ia(o,m))return h}else i=h}return i}function VE(t){const n=Vt()[zn][Qr];if(!n.projection){const o=n.projection=Bl(t?t.length:1,null),h=o.slice();let m=n.child;for(;null!==m;){const T=t?Y0(m,t):0;null!==T&&(h[T]?h[T].projectionNext=m:o[T]=m,h[T]=m),m=m.next}}}function UE(t,n=0,i){const o=Vt(),h=Ur(),m=ye(h,hr+t,16,null,i||null);null===m.projection&&(m.projection=n),hc(),(!o[sr]||qa())&&32!=(32&m.flags)&&function jd(t,n,i){af(n[Qn],0,n,i,ef(t,i,n),pp(i.parent||n[Qr],i,n))}(h,o,m)}function oE(t,n,i){return Ev(t,"",n,"",i),oE}function Ev(t,n,i,o,h){const m=Vt(),T=au(m,n,i,o);return T!==d&&ea(Ur(),vi(),m,t,T,m[Qn],h,!1),Ev}function Iv(t,n){return t<<17|n<<2}function Bf(t){return t>>17&32767}function cE(t){return 2|t}function vg(t){return(131068&t)>>2}function lE(t,n){return-131069&t|n<<2}function uE(t){return 1|t}function WE(t,n,i,o,h){const m=t[i+1],T=null===n;let D=o?Bf(m):vg(m),x=!1;for(;0!==D&&(!1===x||T);){const se=t[D+1];nI(t[D],n)&&(x=!0,t[D+1]=o?uE(se):cE(se)),D=o?Bf(se):vg(se)}x&&(t[i+1]=o?cE(m):uE(m))}function nI(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&jl(t,n)>=0}function dE(t,n){return function Al(t,n,i,o){const h=Vt(),m=Ur(),T=S(2);m.firstUpdatePass&&function hE(t,n,i,o){const h=t.data;if(null===h[i+1]){const m=h[ks()],T=function ly(t,n){return n>=t.expandoStartIndex}(t,i);(function d0(t,n){return 0!=(t.flags&(n?8:16))})(m,o)&&null===n&&!T&&(n=!1),n=function n0(t,n,i,o){const h=function Te(t){const n=cr.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let m=o?n.residualClasses:n.residualStyles;if(null===h)0===(o?n.classBindings:n.styleBindings)&&(i=uy(i=Tv(null,t,n,i,o),n.attrs,o),m=null);else{const T=n.directiveStylingLast;if(-1===T||t[T]!==h)if(i=Tv(h,t,n,i,o),null===m){let x=function r0(t,n,i){const o=i?n.classBindings:n.styleBindings;if(0!==vg(o))return t[Bf(o)]}(t,n,o);void 0!==x&&Array.isArray(x)&&(x=Tv(null,t,n,x[1],o),x=uy(x,n.attrs,o),function s0(t,n,i,o){t[Bf(i?n.classBindings:n.styleBindings)]=o}(t,n,o,x))}else m=function o0(t,n,i){let o;const h=n.directiveEnd;for(let m=1+n.directiveStylingLast;m<h;m++)o=uy(o,t[m].hostAttrs,i);return uy(o,n.attrs,i)}(t,n,o)}return void 0!==m&&(o?n.residualClasses=m:n.residualStyles=m),i}(h,m,n,o),function eI(t,n,i,o,h,m){let T=m?n.classBindings:n.styleBindings,D=Bf(T),x=vg(T);t[o]=i;let se,G=!1;if(Array.isArray(i)?(se=i[1],(null===se||jl(i,se)>0)&&(G=!0)):se=i,h)if(0!==x){const We=Bf(t[D+1]);t[o+1]=Iv(We,D),0!==We&&(t[We+1]=lE(t[We+1],o)),t[D+1]=function J0(t,n){return 131071&t|n<<17}(t[D+1],o)}else t[o+1]=Iv(D,0),0!==D&&(t[D+1]=lE(t[D+1],o)),D=o;else t[o+1]=Iv(x,0),0===D?D=o:t[x+1]=lE(t[x+1],o),x=o;G&&(t[o+1]=cE(t[o+1])),WE(t,se,o,!0),WE(t,se,o,!1),function tI(t,n,i,o,h){const m=h?t.residualClasses:t.residualStyles;null!=m&&"string"==typeof n&&jl(m,n)>=0&&(i[o+1]=uE(i[o+1]))}(n,se,t,o,m),T=Iv(D,x),m?n.classBindings=T:n.styleBindings=T}(h,m,n,i,T,o)}}(m,t,T,o),n!==d&&Co(h,T,n)&&function c0(t,n,i,o,h,m,T,D){if(!(3&n.type))return;const x=t.data,G=x[D+1],se=function X0(t){return 1==(1&t)}(G)?l0(x,n,i,h,vg(G),T):void 0;Cv(se)||(Cv(m)||function Q0(t){return 2==(2&t)}(G)&&(m=l0(x,null,i,h,D,T)),function p_(t,n,i,o,h){if(n)h?t.addClass(i,o):t.removeClass(i,o);else{let m=-1===o.indexOf("-")?void 0:Od.DashCase;null==h?t.removeStyle(i,o,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=Od.Important),t.setStyle(i,o,h,m))}}(o,T,zo(ks(),i),h,m))}(m,m.data[ks()],h,h[Qn],t,h[T+1]=function u0(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=ve(wc(t)))),t}(n,i),o,T)}(t,n,null,!0),dE}function Tv(t,n,i,o,h){let m=null;const T=i.directiveEnd;let D=i.directiveStylingLast;for(-1===D?D=i.directiveStart:D++;D<T&&(m=n[D],o=uy(o,m.hostAttrs,h),m!==t);)D++;return null!==t&&(i.directiveStylingLast=D),o}function uy(t,n,i){const o=i?1:2;let h=-1;if(null!==n)for(let m=0;m<n.length;m++){const T=n[m];"number"==typeof T?h=T:h===o&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),yo(t,T,!!i||n[++m]))}return void 0===t?null:t}function l0(t,n,i,o,h,m){const T=null===n;let D;for(;h>0;){const x=t[h],G=Array.isArray(x),se=G?x[1]:x,be=null===se;let We=i[h+1];We===d&&(We=be?fn:void 0);let at=be?Du(We,o):se===o?We:void 0;if(G&&!Cv(at)&&(at=Du(x,o)),Cv(at)&&(D=at,T))return D;const Nt=t[h+1];h=T?Bf(Nt):vg(Nt)}if(null!==n){let x=m?n.residualClasses:n.residualStyles;null!=x&&(D=Du(x,o))}return D}function Cv(t){return void 0!==t}function h0(t,n=""){const i=Vt(),o=Ur(),h=t+hr,m=o.firstCreatePass?ye(o,h,1,n,null):o.data[h],T=f0(o,i,m,n,t);i[h]=T,da()&&_p(o,i,T,m),Os(m,!1)}let f0=(t,n,i,o,h)=>(Ca(!0),function Vd(t,n){return t.createText(n)}(n[Qn],o));function fE(t){return wv("",t,""),fE}function wv(t,n,i){const o=Vt(),h=au(o,t,n,i);return h!==d&&ma(o,ks(),h),wv}function pE(t,n,i,o,h){const m=Vt(),T=Eh(m,t,n,i,o,h);return T!==d&&ma(m,ks(),T),pE}const Xn=void 0;var yi=["en",[["a","p"],["AM","PM"],Xn],[["AM","PM"],Xn,Xn],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xn,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xn,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xn,"{1} 'at' {0}",Xn],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function br(t){const i=Math.floor(Math.abs(t)),o=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===o?1:5}];let Ds={};function ya(t){const n=function $f(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=Pv(n);if(i)return i;const o=n.split("-")[0];if(i=Pv(o),i)return i;if("en"===o)return yi;throw new ze(701,!1)}function ms(t){return ya(t)[zs.PluralCase]}function Pv(t){return t in Ds||(Ds[t]=Hn.ng&&Hn.ng.common&&Hn.ng.common.locales&&Hn.ng.common.locales[t]),Ds[t]}var zs=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(zs||{});const Sh="en-US";let gI=Sh;function m0(t,n,i,o,h){if(t=vt(t),Array.isArray(t))for(let m=0;m<t.length;m++)m0(t[m],n,i,o,h);else{const m=Ur(),T=Vt(),D=ws();let x=ju(t)?t:vt(t.provide);const G=Ry(t),se=1048575&D.providerIndexes,be=D.directiveStart,We=D.providerIndexes>>20;if(ju(t)||!t.multi){const at=new Ol(G,h,R),Nt=y0(x,n,h?se:se+We,be);-1===Nt?(gc(Td(D,T),m,x),_0(m,t,n.length),n.push(x),D.directiveStart++,D.directiveEnd++,h&&(D.providerIndexes+=1048576),i.push(at),T.push(at)):(i[Nt]=at,T[Nt]=at)}else{const at=y0(x,n,se+We,be),Nt=y0(x,n,se,se+We),Dn=Nt>=0&&i[Nt];if(h&&!Dn||!h&&!(at>=0&&i[at])){gc(Td(D,T),m,x);const rr=function bC(t,n,i,o,h){const m=new Ol(t,i,R);return m.multi=[],m.index=n,m.componentProviders=0,BI(m,h,o&&!i),m}(h?IC:EC,i.length,h,o,G);!h&&Dn&&(i[Nt].providerFactory=rr),_0(m,t,n.length,0),n.push(x),D.directiveStart++,D.directiveEnd++,h&&(D.providerIndexes+=1048576),i.push(rr),T.push(rr)}else _0(m,t,at>-1?at:Nt,BI(i[h?Nt:at],G,!h&&o));!h&&o&&Dn&&i[Nt].componentProviders++}}}function _0(t,n,i,o){const h=ju(n),m=function xi(t){return!!t.useClass}(n);if(h||m){const x=(m?vt(n.useClass):n).prototype.ngOnDestroy;if(x){const G=t.destroyHooks||(t.destroyHooks=[]);if(!h&&n.multi){const se=G.indexOf(i);-1===se?G.push(i,[o,x]):G[se+1].push(o,x)}else G.push(i,x)}}}function BI(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function y0(t,n,i,o){for(let h=i;h<o;h++)if(n[h]===t)return h;return-1}function EC(t,n,i,o){return v0(this.multi,[])}function IC(t,n,i,o){const h=this.multi;let m;if(this.providerFactory){const T=this.providerFactory.componentProviders,D=Qc(i,i[an],this.providerFactory.index,o);m=D.slice(0,T),v0(h,m);for(let x=T;x<D.length;x++)m.push(D[x])}else m=[],v0(h,m);return m}function v0(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function jI(t,n=[]){return i=>{i.providersResolver=(o,h)=>function vC(t,n,i){const o=Ur();if(o.firstCreatePass){const h=En(t);m0(i,o.data,o.blueprint,h,!0),m0(n,o.data,o.blueprint,h,!1)}}(o,h?h(t):t,n)}}class Zm{}class $I{}function TC(t,n){return new E0(t,n??null,[])}class E0 extends Zm{constructor(n,i,o){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Of(this);const h=zr(n);this._bootstrapComponents=_l(h.bootstrap),this._r3Injector=Hp(n,i,[{provide:Zm,useValue:this},{provide:Ef,useValue:this.componentFactoryResolver},...o],ve(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class I0 extends $I{constructor(n){super(),this.moduleType=n}create(n){return new E0(this.moduleType,n,[])}}class zI extends Zm{constructor(n){super(),this.componentFactoryResolver=new Of(this),this.instance=null;const i=new Qd([...n.providers,{provide:Zm,useValue:this},{provide:Ef,useValue:this.componentFactoryResolver}],n.parent||dm(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function HI(t,n,i=null){return new zI({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let wC=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const o=Sc(0,i.type),h=o.length>0?HI([o],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,h)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=_n({token:t,providedIn:"environment",factory:()=>new t(kt(fl))})}return t})();function GI(t){t.getStandaloneInjector=n=>n.get(wC).getOrCreateStandaloneInjector(t)}function JI(t,n,i,o){return XI(Vt(),qs(),t,n,i,o)}function Fv(t,n){const i=t[n];return i===d?void 0:i}function XI(t,n,i,o,h,m){const T=n+i;return Co(t,T,h)?Il(t,T+1,m?o.call(m,h):o(h)):Fv(t,T+1)}function ib(t,n){const i=Ur();let o;const h=t+hr;i.firstCreatePass?(o=function zC(t,n){if(n)for(let i=n.length-1;i>=0;i--){const o=n[i];if(t===o.name)return o}}(n,i.pipeRegistry),i.data[h]=o,o.onDestroy&&(i.destroyHooks??=[]).push(h,o.onDestroy)):o=i.data[h];const m=o.factory||(o.factory=eo(o.type)),D=Br(R);try{const x=Aa(!1),G=m();return Aa(x),function _v(t,n,i,o){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=o}(i,Vt(),h,G),G}finally{Br(D)}}function sb(t,n,i){const o=t+hr,h=Vt(),m=ua(h,o);return Lv(h,o)?XI(h,qs(),n,m.transform,i,m):m.transform(i)}function ob(t,n,i,o){const h=t+hr,m=Vt(),T=ua(m,h);return Lv(m,h)?function eb(t,n,i,o,h,m,T){const D=n+i;return ed(t,D,h,m)?Il(t,D+2,T?o.call(T,h,m):o(h,m)):Fv(t,D+2)}(m,qs(),n,T.transform,i,o,T):T.transform(i,o)}function Lv(t,n){return t[an].data[n].pure}function WC(){return this._results[Symbol.iterator]()}class T0{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Oc)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=T0.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=WC)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const o=this;o.dirty=!1;const h=function Fr(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Au(t,n,i){if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++){let h=t[o],m=n[o];if(i&&(h=i(h),m=i(m)),m!==h)return!1}return!0}(o._results,h,i))&&(o._results=h,o.length=h.length,o.last=h[this.length-1],o.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function KC(t,n,i,o=!0){const h=n[an];if(function Ud(t,n,i,o){const h=ii+o,m=i.length;o>0&&(i[h-1][Mi]=n),o<m-ii?(n[Mi]=i[h],Xc(i,ii+o,n)):(i.push(n),n[Mi]=null),n[Cr]=i;const T=n[ds];null!==T&&i!==T&&function c_(t,n){const i=t[lo];n[zn]!==n[Cr][Cr][zn]&&(t[Hi]=!0),null===i?t[lo]=[n]:i.push(n)}(T,n);const D=n[Is];null!==D&&D.insertView(t),n[Wn]|=128}(h,n,t,i),o){const m=nf(i,t),T=n[Qn],D=fp(T,t[hs]);null!==D&&function Io(t,n,i,o,h,m){o[Or]=h,o[Qr]=n,Kl(t,o,i,1,h,m)}(h,t[Qr],T,n,D,m)}}let Vv=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=JC}return t})();const YC=Vv,QC=class extends YC{constructor(n,i,o){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,o){const h=function ZC(t,n,i,o){const h=n.tView,D=ae(t,h,i,4096&t[Wn]?4096:16,null,n,null,null,null,o?.injector??null,o?.hydrationInfo??null);D[ds]=t[n.index];const G=t[Is];return null!==G&&(D[Is]=G.createEmbeddedView(h)),xm(h,D,i),D}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:o});return new _a(h)}};function JC(){return IE(ws(),Vt())}function IE(t,n){return 4&t.type?new QC(n,t,Ql(t,n)):null}let TE=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=iw}return t})();function iw(){return fb(ws(),Vt())}const sw=TE,db=class extends sw{constructor(n,i,o){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=o}get element(){return Ql(this._hostTNode,this._hostLView)}get injector(){return new Ls(this._hostTNode,this._hostLView)}get parentInjector(){const n=Fl(this._hostTNode,this._hostLView);if(Nl(n)){const i=fa(n,this._hostLView),o=Eu(n);return new Ls(i[an].data[o+8],i)}return new Ls(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=hb(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-ii}createEmbeddedView(n,i,o){let h,m;"number"==typeof o?h=o:null!=o&&(h=o.index,m=o.injector);const D=n.createEmbeddedViewImpl(i||{},m,null);return this.insertImpl(D,h,false),D}createComponent(n,i,o,h,m){const T=n&&!function Ec(t){return"function"==typeof t}(n);let D;if(T)D=i;else{const tn=i||{};D=tn.index,o=tn.injector,h=tn.projectableNodes,m=tn.environmentInjector||tn.ngModuleRef}const x=T?n:new vl(Un(n)),G=o||this.parentInjector;if(!m&&null==x.ngModule){const Dn=(T?G:this.parentInjector).get(fl,null);Dn&&(m=Dn)}Un(x.componentType??{});const at=x.create(G,h,null,m);return this.insertImpl(at.hostView,D,false),at}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,o){const h=n._lView;if(function gu(t){return qe(t[Cr])}(h)){const x=this.indexOf(n);if(-1!==x)this.detach(x);else{const G=h[Cr],se=new db(G,G[Qr],G[Cr]);se.detach(se.indexOf(n))}}const T=this._adjustIndex(i),D=this._lContainer;return KC(D,h,T,!o),n.attachToViewContainerRef(),Xc(C0(D),T,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=hb(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),o=dp(this._lContainer,i);o&&(Yo(C0(this._lContainer),i),Fo(o[an],o))}detach(n){const i=this._adjustIndex(n,-1),o=dp(this._lContainer,i);return o&&null!=Yo(C0(this._lContainer),i)?new _a(o):null}_adjustIndex(n,i=0){return n??this.length+i}};function hb(t){return t[8]}function C0(t){return t[8]||(t[8]=[])}function fb(t,n){let i;const o=n[t.index];return qe(o)?i=o:(i=lh(o,n,null,t),n[t.index]=i,uh(n,i)),pb(i,n,t,o),new db(i,t,n)}let pb=function gb(t,n,i,o){if(t[hs])return;let h;h=8&i.type?mi(o):function ow(t,n){const i=t[Qn],o=i.createComment(""),h=Bs(n,t);return Lo(i,fp(i,h),o,function Vg(t,n){return t.nextSibling(n)}(i,h),!1),o}(n,i),t[hs]=h};class w0{constructor(n){this.queryList=n,this.matches=null}clone(){return new w0(this.queryList)}setDirty(){this.queryList.setDirty()}}class A0{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const o=null!==n.contentQueries?n.contentQueries[0]:i.length,h=[];for(let m=0;m<o;m++){const T=i.getByIndex(m);h.push(this.queries[T.indexInDeclarationView].clone())}return new A0(h)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==Tb(n,i).matches&&this.queries[i].setDirty()}}class mb{constructor(n,i,o=null){this.predicate=n,this.flags=i,this.read=o}}class D0{constructor(n=[]){this.queries=n}elementStart(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let o=0;o<this.length;o++){const h=null!==i?i.length:0,m=this.getByIndex(o).embeddedTView(n,h);m&&(m.indexInDeclarationView=o,null!==i?i.push(m):i=[m])}return null!==i?new D0(i):null}template(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class S0{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new S0(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==i;)o=o.parent;return i===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const o=this.metadata.predicate;if(Array.isArray(o))for(let h=0;h<o.length;h++){const m=o[h];this.matchTNodeWithReadOption(n,i,lw(i,m)),this.matchTNodeWithReadOption(n,i,Iu(i,n,m,!1,!1))}else o===Vv?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Iu(i,n,o,!1,!1))}matchTNodeWithReadOption(n,i,o){if(null!==o){const h=this.metadata.read;if(null!==h)if(h===If||h===TE||h===Vv&&4&i.type)this.addMatch(i.index,-2);else{const m=Iu(i,n,h,!1,!1);null!==m&&this.addMatch(i.index,m)}else this.addMatch(i.index,o)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function lw(t,n){const i=t.localNames;if(null!==i)for(let o=0;o<i.length;o+=2)if(i[o]===n)return i[o+1];return null}function dw(t,n,i,o){return-1===i?function uw(t,n){return 11&t.type?Ql(t,n):4&t.type?IE(t,n):null}(n,t):-2===i?function hw(t,n,i){return i===If?Ql(n,t):i===Vv?IE(n,t):i===TE?fb(n,t):void 0}(t,n,o):Qc(t,t[an],i,n)}function _b(t,n,i,o){const h=n[Is].queries[o];if(null===h.matches){const m=t.data,T=i.matches,D=[];for(let x=0;x<T.length;x+=2){const G=T[x];D.push(G<0?null:dw(n,m[G],T[x+1],i.metadata.read))}h.matches=D}return h.matches}function M0(t,n,i,o){const h=t.queries.getByIndex(i),m=h.matches;if(null!==m){const T=_b(t,n,h,i);for(let D=0;D<m.length;D+=2){const x=m[D];if(x>0)o.push(T[D/2]);else{const G=m[D+1],se=n[-x];for(let be=ii;be<se.length;be++){const We=se[be];We[ds]===We[Cr]&&M0(We[an],We,G,o)}if(null!==se[lo]){const be=se[lo];for(let We=0;We<be.length;We++){const at=be[We];M0(at[an],at,G,o)}}}}}return o}function yb(t){const n=Vt(),i=Ur(),o=ft();pt(o+1);const h=Tb(i,o);if(t.dirty&&function qc(t){return 4==(4&t[Wn])}(n)===(2==(2&h.metadata.flags))){if(null===h.matches)t.reset([]);else{const m=h.crossesNgTemplate?M0(i,n,o,[]):_b(i,n,h,o);t.reset(m,Rc),t.notifyOnChanges()}return!0}return!1}function vb(t,n,i,o){const h=Ur();if(h.firstCreatePass){const m=ws();(function bb(t,n,i){null===t.queries&&(t.queries=new D0),t.queries.track(new S0(n,i))})(h,new mb(n,i,o),m.index),function gw(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(h,t),2==(2&i)&&(h.staticContentQueries=!0)}!function Ib(t,n,i){const o=new T0(4==(4&i));(function tt(t,n,i,o){const h=Pf(n);h.push(i),t.firstCreatePass&&eg(t).push(o,h.length-1)})(t,n,o,o.destroy),null===n[Is]&&(n[Is]=new A0),n[Is].queries.push(new w0(o))}(h,Vt(),i)}function Eb(){return function pw(t,n){return t[Is].queries[n].queryList}(Vt(),ft())}function Tb(t,n){return t.queries.getByIndex(n)}function P0(t){return!!zr(t)}const Bb=new cn("Application Initializer");let k0=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,o)=>{this.resolve=i,this.reject=o}),this.appInits=un(Bb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const h of this.appInits){const m=h();if(Qs(m))i.push(m);else if(ai(m)){const T=new Promise((D,x)=>{m.subscribe({complete:D,error:x})});i.push(T)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{o()}).catch(h=>{this.reject(h)}),0===i.length&&o(),this.initialized=!0}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),jb=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const wE=new cn("LocaleId",{providedIn:"root",factory:()=>un(wE,bn.Optional|bn.SkipSelf)||function Lw(){return typeof $localize<"u"&&$localize.locale||Sh}()}),Vw=new cn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let $b=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ee.X(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Bw{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let jw=(()=>{class t{compileModuleSync(i){return new I0(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const o=this.compileModuleSync(i),m=_l(zr(i).declarations).reduce((T,D)=>{const x=Un(D);return x&&T.push(new vl(x)),T},[]);return new Bw(o,m)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const qb=new cn(""),Wb=new cn("");let V0,lA=(()=>{class t{constructor(i,o,h){this._ngZone=i,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,V0||(function uA(t){V0=t}(h),h.addToWindow(o)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(i)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,o,h){let m=-1;o&&o>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==m),i(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:i,timeoutId:m,updateCb:h})}whenStable(i,o,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,o,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,o,h){return[]}static#e=this.\u0275fac=function(o){return new(o||t)(kt(Vi),kt(Zb),kt(Wb))};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac})}return t})(),Zb=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,o){this._applications.set(i,o)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,o=!0){return V0?.findTestabilityInTree(this,i,o)??null}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Ig=null;const Kb=new cn("AllowMultipleToken"),U0=new cn("PlatformDestroyListeners"),B0=new cn("appBootstrapListener");class fA{constructor(n,i){this.name=n,this.token=i}}function Jb(t,n,i=[]){const o=`Platform: ${n}`,h=new cn(o);return(m=[])=>{let T=j0();if(!T||T.injector.get(Kb,!1)){const D=[...i,...m,{provide:h,useValue:!0}];t?t(D):function pA(t){if(Ig&&!Ig.get(Kb,!1))throw new ze(400,!1);(function Yb(){!function Ml(t){za=t}(()=>{throw new ze(600,!1)})})(),Ig=t;const n=t.get(eT);(function Qb(t){t.get(Mc,null)?.forEach(i=>i())})(t)}(function Xb(t=[],n){return Jo.create({name:n,providers:[{provide:D_,useValue:"platform"},{provide:U0,useValue:new Set([()=>Ig=null])},...t]})}(D,o))}return function mA(t){const n=j0();if(!n)throw new ze(401,!1);return n}()}}function j0(){return Ig?.get(eT)??null}let eT=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,o){const h=function _A(t="zone.js",n){return"noop"===t?new RE:"zone.js"===t?new Vi(n):t}(o?.ngZone,function tT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return h.run(()=>{const m=function CC(t,n,i){return new E0(t,n,i)}(i.moduleType,this.injector,function oT(t){return[{provide:Vi,useFactory:t},{provide:Yd,multi:!0,useFactory:()=>{const n=un(vA,{optional:!0});return()=>n.initialize()}},{provide:sT,useFactory:yA},{provide:Zv,useFactory:Kv}]}(()=>h)),T=m.injector.get(eu,null);return h.runOutsideAngular(()=>{const D=h.onError.subscribe({next:x=>{T.handleError(x)}});m.onDestroy(()=>{DE(this._modules,m),D.unsubscribe()})}),function nT(t,n,i){try{const o=i();return Qs(o)?o.catch(h=>{throw n.runOutsideAngular(()=>t.handleError(h)),h}):o}catch(o){throw n.runOutsideAngular(()=>t.handleError(o)),o}}(T,h,()=>{const D=m.injector.get(k0);return D.runInitializers(),D.donePromise.then(()=>(function mI(t){Xt(t,"Expected localeId to be defined"),"string"==typeof t&&(gI=t.toLowerCase().replace(/_/g,"-"))}(m.injector.get(wE,Sh)||Sh),this._moduleDoBootstrap(m),m))})})}bootstrapModule(i,o=[]){const h=rT({},o);return function dA(t,n,i){const o=new I0(i);return Promise.resolve(o)}(0,0,i).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(i){const o=i.injector.get(py);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(h=>o.bootstrap(h));else{if(!i.instance.ngDoBootstrap)throw new ze(-403,!1);i.instance.ngDoBootstrap(o)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ze(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const i=this._injector.get(U0,null);i&&(i.forEach(o=>o()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(o){return new(o||t)(kt(Jo))};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function rT(t,n){return Array.isArray(n)?n.reduce(rT,t):{...t,...n}}let py=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=un(sT),this.zoneIsStable=un(Zv),this.componentTypes=[],this.components=[],this.isStable=un($b).hasPendingTasks.pipe((0,Ce.w)(i=>i?(0,Se.of)(!1):this.zoneIsStable),(0,Ve.x)(),(0,Ae.B)()),this._injector=un(fl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,o){const h=i instanceof P_;if(!this._injector.get(k0).done)throw!h&&$i(i),new ze(405,!1);let T;T=h?i:this._injector.get(Ef).resolveComponentFactory(i),this.componentTypes.push(T.componentType);const D=function hA(t){return t.isBoundToModule}(T)?void 0:this._injector.get(Zm),G=T.create(Jo.NULL,[],o||T.selector,D),se=G.location.nativeElement,be=G.injector.get(qb,null);return be?.registerApplication(se),G.onDestroy(()=>{this.detachView(G.hostView),DE(this.components,G),be?.unregisterApplication(se)}),this._loadComponent(G),G}tick(){if(this._runningTick)throw new ze(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const o=i;this._views.push(o),o.attachToAppRef(this)}detachView(i){const o=i;DE(this._views,o),o.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const o=this._injector.get(B0,[]);o.push(...this._bootstrapListeners),o.forEach(h=>h(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>DE(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new ze(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function DE(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const sT=new cn("",{providedIn:"root",factory:()=>un(eu).handleError.bind(void 0)});function yA(){const t=un(Vi),n=un(eu);return i=>t.runOutsideAngular(()=>n.handleError(i))}let vA=(()=>{class t{constructor(){this.zone=un(Vi),this.applicationRef=un(py)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function IA(){return!1}let bA=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=TA}return t})();function TA(t){return function CA(t,n,i){if(Ht(t)&&!i){const o=js(t.index,n);return new _a(o,o)}return 47&t.type?new _a(n[zn],n):null}(ws(),Vt(),16==(16&t))}class uT{constructor(){}supports(n){return ug(n)}create(n){return new PA(n)}}const MA=(t,n)=>n;class PA{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||MA}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,o=this._removalsHead,h=0,m=null;for(;i||o;){const T=!o||i&&i.currentIndex<hT(o,h,m)?i:o,D=hT(T,h,m),x=T.currentIndex;if(T===o)h--,o=o._nextRemoved;else if(i=i._next,null==T.previousIndex)h++;else{m||(m=[]);const G=D-h,se=x-h;if(G!=se){for(let We=0;We<G;We++){const at=We<m.length?m[We]:m[We]=0,Nt=at+We;se<=Nt&&Nt<G&&(m[We]=at+1)}m[T.previousIndex]=se-G}}D!==x&&n(T,D,x)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!ug(n))throw new ze(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let h,m,T,i=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let D=0;D<this.length;D++)m=n[D],T=this._trackByFn(D,m),null!==i&&Object.is(i.trackById,T)?(o&&(i=this._verifyReinsertion(i,m,T,D)),Object.is(i.item,m)||this._addIdentityChange(i,m)):(i=this._mismatch(i,m,T,D),o=!0),i=i._next}else h=0,function Q_(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let o;for(;!(o=i.next()).done;)n(o.value)}}(n,D=>{T=this._trackByFn(h,D),null!==i&&Object.is(i.trackById,T)?(o&&(i=this._verifyReinsertion(i,D,T,h)),Object.is(i.item,D)||this._addIdentityChange(i,D)):(i=this._mismatch(i,D,T,h),o=!0),i=i._next,h++}),this.length=h;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,o,h){let m;return null===n?m=this._itTail:(m=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,m,h)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,h))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,m,h)):n=this._addAfter(new RA(i,o),m,h),n}_verifyReinsertion(n,i,o,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==m?n=this._reinsertAfter(m,n._prev,h):n.currentIndex!=h&&(n.currentIndex=h,this._addToMoves(n,h)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const h=n._prevRemoved,m=n._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(n,i,o),this._addToMoves(n,o),n}_moveAfter(n,i,o){return this._unlink(n),this._insertAfter(n,i,o),this._addToMoves(n,o),n}_addAfter(n,i,o){return this._insertAfter(n,i,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,o){const h=null===i?this._itHead:i._next;return n._next=h,n._prev=i,null===h?this._itTail=n:h._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new dT),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,o=n._next;return null===i?this._itHead=o:i._next=o,null===o?this._itTail=i:o._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dT),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class RA{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xA{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===i||i<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const i=n._prevDup,o=n._nextDup;return null===i?this._head=o:i._nextDup=o,null===o?this._tail=i:o._prevDup=i,null===this._head}}class dT{constructor(){this.map=new Map}put(n){const i=n.trackById;let o=this.map.get(i);o||(o=new xA,this.map.set(i,o)),o.add(n)}get(n,i){const h=this.map.get(n);return h?h.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hT(t,n,i){const o=t.previousIndex;if(null===o)return o;let h=0;return i&&o<i.length&&(h=i[o]),o+n+h}class fT{constructor(){}supports(n){return n instanceof Map||Fm(n)}create(){return new OA}}class OA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||Fm(n)))throw new ze(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,h)=>{if(i&&i.key===h)this._maybeAddToChanges(i,o),this._appendAfter=i,i=i._next;else{const m=this._getOrCreateRecordForKey(h,o);i=this._insertBeforeOrAppend(i,m)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let o=i;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const o=n._prev;return i._next=n,i._prev=o,n._prev=i,o&&(o._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const h=this._records.get(n);this._maybeAddToChanges(h,i);const m=h._prev,T=h._next;return m&&(m._next=T),T&&(T._prev=m),h._next=null,h._prev=null,h}const o=new NA(n);return this._records.set(n,o),o.currentValue=i,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(o=>i(n[o],o))}}class NA{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function pT(){return new q0([new uT])}let q0=(()=>{class t{static#e=this.\u0275prov=_n({token:t,providedIn:"root",factory:pT});constructor(i){this.factories=i}static create(i,o){if(null!=o){const h=o.factories.slice();i=i.concat(h)}return new t(i)}static extend(i){return{provide:t,useFactory:o=>t.create(i,o||pT()),deps:[[t,new Ka,new Ic]]}}find(i){const o=this.factories.find(h=>h.supports(i));if(null!=o)return o;throw new ze(901,!1)}}return t})();function gT(){return new W0([new fT])}let W0=(()=>{class t{static#e=this.\u0275prov=_n({token:t,providedIn:"root",factory:gT});constructor(i){this.factories=i}static create(i,o){if(o){const h=o.factories.slice();i=i.concat(h)}return new t(i)}static extend(i){return{provide:t,useFactory:o=>t.create(i,o||gT()),deps:[[t,new Ka,new Ic]]}}find(i){const o=this.factories.find(h=>h.supports(i));if(o)return o;throw new ze(901,!1)}}return t})();const LA=Jb(null,"core",[]);let VA=(()=>{class t{constructor(i){}static#e=this.\u0275fac=function(o){return new(o||t)(kt(py))};static#t=this.\u0275mod=vs({type:t});static#n=this.\u0275inj=Yt({})}return t})();function KA(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function QA(t){const n=Un(t);if(!n)return null;const i=new vl(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},981:(Qt,Ke,B)=>{B.d(Ke,{zQ:()=>$t,ww:()=>jn,rT:()=>Dt,f7:()=>me,L6:()=>Ge,_Q:()=>ot,lh:()=>Je,Qv:()=>ct,nw:()=>Ct}),B(6365);var u=B(6814),H=B(5879),Ie=B(1920),Ee=B(7217),Se=B(8645),Ae=B(2096),Ce=B(5592),Ve=B(2459),ne=B(3019),ie=B(3093),ve=B(4664),it=B(7398),et=B(940),Mt=B(1374),vt=B(4674);function At(Tt,Ft){return(0,vt.m)(Ft)?(0,ve.w)(()=>Tt,Ft):(0,ve.w)(()=>Tt)}var Et=B(5137),on=B(2181),Qe=B(7142);const ct=new H.OlP("angularfire2.auth.use-emulator"),Ge=new H.OlP("angularfire2.auth.settings"),ot=new H.OlP("angularfire2.auth.tenant-id"),Dt=new H.OlP("angularfire2.auth.langugage-code"),Je=new H.OlP("angularfire2.auth.use-device-language"),me=new H.OlP("angularfire.auth.persistence"),Ct=(Tt,Ft,Jt,dt,Ne,_e,Ue,nt)=>(0,Ee.cc)(`${Tt.name}.auth`,"AngularFireAuth",Tt.name,()=>{const rt=Ft.runOutsideAngular(()=>Tt.auth());if(Jt&&rt.useEmulator(...Jt),dt&&(rt.tenantId=dt),rt.languageCode=Ne,_e&&rt.useDeviceLanguage(),Ue)for(const[_t,wt]of Object.entries(Ue))rt.settings[_t]=wt;return nt&&rt.setPersistence(nt),rt},[Jt,dt,Ne,_e,Ue,nt]);let $t=(()=>{class Tt{authState;idToken;user;idTokenResult;credential;constructor(Jt,dt,Ne,_e,Ue,nt,rt,_t,wt,Xt,Kt,qt){const gn=new Se.x,Zn=(0,Ae.of)(void 0).pipe((0,ie.Q)(Ue.outsideAngular),(0,ve.w)(()=>_e.runOutsideAngular(()=>Promise.resolve().then(B.bind(B,6365)))),(0,it.U)(()=>(0,Ee.on)(Jt,_e,dt)),(0,it.U)(_n=>Ct(_n,_e,nt,_t,wt,Xt,rt,Kt)),(0,et.d)({bufferSize:1,refCount:!1}));if((0,u.PM)(Ne))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ae.of)(null);else{Zn.pipe((0,Mt.P)()).subscribe();const _n=Zn.pipe((0,ve.w)(mn=>mn.getRedirectResult().then(Mn=>Mn,()=>null)),Ie.iC,(0,et.d)({bufferSize:1,refCount:!1})),xn=Zn.pipe((0,ve.w)(mn=>new Ce.y(Mn=>({unsubscribe:_e.runOutsideAngular(()=>mn.onAuthStateChanged(kn=>Mn.next(kn),kn=>Mn.error(kn),()=>Mn.complete()))})))),Yt=Zn.pipe((0,ve.w)(mn=>new Ce.y(Mn=>({unsubscribe:_e.runOutsideAngular(()=>mn.onIdTokenChanged(kn=>Mn.next(kn),kn=>Mn.error(kn),()=>Mn.complete()))}))));this.authState=_n.pipe(At(xn),(0,Et.R)(Ue.outsideAngular),(0,ie.Q)(Ue.insideAngular)),this.user=_n.pipe(At(Yt),(0,Et.R)(Ue.outsideAngular),(0,ie.Q)(Ue.insideAngular)),this.idToken=this.user.pipe((0,ve.w)(mn=>mn?(0,Ve.D)(mn.getIdToken()):(0,Ae.of)(null))),this.idTokenResult=this.user.pipe((0,ve.w)(mn=>mn?(0,Ve.D)(mn.getIdTokenResult()):(0,Ae.of)(null))),this.credential=(0,ne.T)(_n,gn,this.authState.pipe((0,on.h)(mn=>!mn))).pipe((0,it.U)(mn=>mn?.user?mn:null),(0,Et.R)(Ue.outsideAngular),(0,ie.Q)(Ue.insideAngular))}return(0,Ee.pX)(this,Zn,_e,{spy:{apply:(_n,xn,Yt)=>{(_n.startsWith("signIn")||_n.startsWith("createUser"))&&Yt.then(mn=>gn.next(mn))}}})}static \u0275fac=function(dt){return new(dt||Tt)(H.LFG(Ee.Dh),H.LFG(Ee.xv,8),H.LFG(H.Lbi),H.LFG(H.R0b),H.LFG(Ie.HU),H.LFG(ct,8),H.LFG(Ge,8),H.LFG(ot,8),H.LFG(Dt,8),H.LFG(Je,8),H.LFG(me,8),H.LFG(Ie.Rf,8))};static \u0275prov=H.Yz7({token:Tt,factory:Tt.\u0275fac,providedIn:"any"})}return Tt})(),jn=(()=>{class Tt{constructor(){Qe.Z.registerVersion("angularfire",Ie.q4.full,"auth-compat")}static \u0275fac=function(dt){return new(dt||Tt)};static \u0275mod=H.oAB({type:Tt});static \u0275inj=H.cJS({providers:[$t]})}return Tt})()},7104:(Qt,Ke,B)=>{B.d(Ke,{ST:()=>Gr,yb:()=>Ze});var g=B(6814),u=B(5879),H=B(1920),Ie=B(7217),Ee=B(981),Se=B(6321),Ae=B(5592),Ce=B(2459),Ve=B(2096),ne=B(7921),ie=B(9360),ve=B(8251);function it(){return(0,ie.e)((It,oe)=>{let Me,yt=!1;It.subscribe((0,ve.x)(oe,zt=>{const Fn=Me;Me=zt,yt&&oe.next([Fn,zt]),yt=!0}))})}var et=B(7398),Mt=B(6699),vt=B(3997),At=B(2181),on=(B(6365),B(3106)),Qe=B(5588),ze=B(9058),ct=B(4537);function Dt(It,oe){if(void 0===oe)return{merge:!1};if(void 0!==oe.mergeFields&&void 0!==oe.merge)throw new Qe.WA("invalid-argument",`Invalid options passed to function ${It}(): You cannot specify both "merge" and "mergeFields".`);return oe}function Je(){if(typeof Uint8Array>"u")throw new Qe.WA("unimplemented","Uint8Arrays are not available in this environment.")}function me(){if(!(0,Qe.Me)())throw new Qe.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Ct{constructor(oe){this._delegate=oe}static fromBase64String(oe){return me(),new Ct(Qe.Jj.fromBase64String(oe))}static fromUint8Array(oe){return Je(),new Ct(Qe.Jj.fromUint8Array(oe))}toBase64(){return me(),this._delegate.toBase64()}toUint8Array(){return Je(),this._delegate.toUint8Array()}isEqual(oe){return this._delegate.isEqual(oe._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function $t(It){return function jn(It,oe){if("object"!=typeof It||null===It)return!1;const Me=It;for(const yt of oe)if(yt in Me&&"function"==typeof Me[yt])return!0;return!1}(It,["next","error","complete"])}class Tt{enableIndexedDbPersistence(oe,Me){return(0,Qe.ST)(oe._delegate,{forceOwnership:Me})}enableMultiTabIndexedDbPersistence(oe){return(0,Qe.fH)(oe._delegate)}clearIndexedDbPersistence(oe){return(0,Qe.Fc)(oe._delegate)}}class Ft{constructor(oe,Me,yt){this._delegate=Me,this._persistenceProvider=yt,this.INTERNAL={delete:()=>this.terminate()},oe instanceof Qe.l7||(this._appCompat=oe)}get _databaseId(){return this._delegate._databaseId}settings(oe){const Me=this._delegate._getSettings();!oe.merge&&Me.host!==oe.host&&(0,Qe.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),oe.merge&&delete(oe=Object.assign(Object.assign({},Me),oe)).merge,this._delegate._setSettings(oe)}useEmulator(oe,Me,yt={}){(0,Qe.at)(this._delegate,oe,Me,yt)}enableNetwork(){return(0,Qe.Ix)(this._delegate)}disableNetwork(){return(0,Qe.TF)(this._delegate)}enablePersistence(oe){let Me=!1,yt=!1;return oe&&(Me=!!oe.synchronizeTabs,yt=!!oe.experimentalForceOwningTab,(0,Qe.Wi)("synchronizeTabs",Me,"experimentalForceOwningTab",yt)),Me?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,yt)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Qe.Mx)(this._delegate)}onSnapshotsInSync(oe){return(0,Qe.sc)(this._delegate,oe)}get app(){if(!this._appCompat)throw new Qe.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(oe){try{return new _n(this,(0,Qe.hJ)(this._delegate,oe))}catch(Me){throw rt(Me,"collection()","Firestore.collection()")}}doc(oe){try{return new nt(this,(0,Qe.JU)(this._delegate,oe))}catch(Me){throw rt(Me,"doc()","Firestore.doc()")}}collectionGroup(oe){try{return new qt(this,(0,Qe.B$)(this._delegate,oe))}catch(Me){throw rt(Me,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(oe){return(0,Qe.i3)(this._delegate,Me=>oe(new Ne(this,Me)))}batch(){return(0,Qe.qY)(this._delegate),new _e(new Qe.PU(this._delegate,oe=>(0,Qe.GL)(this._delegate,oe)))}loadBundle(oe){return(0,Qe.Pb)(this._delegate,oe)}namedQuery(oe){return(0,Qe.L$)(this._delegate,oe).then(Me=>Me?new qt(this,Me):null)}}class Jt extends Qe.u7{constructor(oe){super(),this.firestore=oe}convertBytes(oe){return new Ct(new Qe.Jj(oe))}convertReference(oe){const Me=this.convertDocumentKey(oe,this.firestore._databaseId);return nt.forKey(Me,this.firestore,null)}}class Ne{constructor(oe,Me){this._firestore=oe,this._delegate=Me,this._userDataWriter=new Jt(oe)}get(oe){const Me=xn(oe);return this._delegate.get(Me).then(yt=>new Xt(this._firestore,new Qe.xU(this._firestore._delegate,this._userDataWriter,yt._key,yt._document,yt.metadata,Me.converter)))}set(oe,Me,yt){const zt=xn(oe);return yt?(Dt("Transaction.set",yt),this._delegate.set(zt,Me,yt)):this._delegate.set(zt,Me),this}update(oe,Me,yt,...zt){const Fn=xn(oe);return 2===arguments.length?this._delegate.update(Fn,Me):this._delegate.update(Fn,Me,yt,...zt),this}delete(oe){const Me=xn(oe);return this._delegate.delete(Me),this}}class _e{constructor(oe){this._delegate=oe}set(oe,Me,yt){const zt=xn(oe);return yt?(Dt("WriteBatch.set",yt),this._delegate.set(zt,Me,yt)):this._delegate.set(zt,Me),this}update(oe,Me,yt,...zt){const Fn=xn(oe);return 2===arguments.length?this._delegate.update(Fn,Me):this._delegate.update(Fn,Me,yt,...zt),this}delete(oe){const Me=xn(oe);return this._delegate.delete(Me),this}commit(){return this._delegate.commit()}}class Ue{constructor(oe,Me,yt){this._firestore=oe,this._userDataWriter=Me,this._delegate=yt}fromFirestore(oe,Me){const yt=new Qe.$q(this._firestore._delegate,this._userDataWriter,oe._key,oe._document,oe.metadata,null);return this._delegate.fromFirestore(new Kt(this._firestore,yt),Me??{})}toFirestore(oe,Me){return Me?this._delegate.toFirestore(oe,Me):this._delegate.toFirestore(oe)}static getInstance(oe,Me){const yt=Ue.INSTANCES;let zt=yt.get(oe);zt||(zt=new WeakMap,yt.set(oe,zt));let Fn=zt.get(Me);return Fn||(Fn=new Ue(oe,new Jt(oe),Me),zt.set(Me,Fn)),Fn}}Ue.INSTANCES=new WeakMap;class nt{constructor(oe,Me){this.firestore=oe,this._delegate=Me,this._userDataWriter=new Jt(oe)}static forPath(oe,Me,yt){if(oe.length%2!=0)throw new Qe.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${oe.canonicalString()} has ${oe.length}`);return new nt(Me,new Qe.my(Me._delegate,yt,new Qe.Ky(oe)))}static forKey(oe,Me,yt){return new nt(Me,new Qe.my(Me._delegate,yt,oe))}get id(){return this._delegate.id}get parent(){return new _n(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(oe){try{return new _n(this.firestore,(0,Qe.hJ)(this._delegate,oe))}catch(Me){throw rt(Me,"collection()","DocumentReference.collection()")}}isEqual(oe){return(oe=(0,ze.m9)(oe))instanceof Qe.my&&(0,Qe.Eo)(this._delegate,oe)}set(oe,Me){Me=Dt("DocumentReference.set",Me);try{return Me?(0,Qe.pl)(this._delegate,oe,Me):(0,Qe.pl)(this._delegate,oe)}catch(yt){throw rt(yt,"setDoc()","DocumentReference.set()")}}update(oe,Me,...yt){try{return 1===arguments.length?(0,Qe.r7)(this._delegate,oe):(0,Qe.r7)(this._delegate,oe,Me,...yt)}catch(zt){throw rt(zt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Qe.oe)(this._delegate)}onSnapshot(...oe){const Me=_t(oe),yt=wt(oe,zt=>new Xt(this.firestore,new Qe.xU(this.firestore._delegate,this._userDataWriter,zt._key,zt._document,zt.metadata,this._delegate.converter)));return(0,Qe.cf)(this._delegate,Me,yt)}get(oe){let Me;return Me="cache"===oe?.source?(0,Qe.kl)(this._delegate):"server"===oe?.source?(0,Qe.Xk)(this._delegate):(0,Qe.QT)(this._delegate),Me.then(yt=>new Xt(this.firestore,new Qe.xU(this.firestore._delegate,this._userDataWriter,yt._key,yt._document,yt.metadata,this._delegate.converter)))}withConverter(oe){return new nt(this.firestore,this._delegate.withConverter(oe?Ue.getInstance(this.firestore,oe):null))}}function rt(It,oe,Me){return It.message=It.message.replace(oe,Me),It}function _t(It){for(const oe of It)if("object"==typeof oe&&!$t(oe))return oe;return{}}function wt(It,oe){var Me,yt;let zt;return zt=$t(It[0])?It[0]:$t(It[1])?It[1]:"function"==typeof It[0]?{next:It[0],error:It[1],complete:It[2]}:{next:It[1],error:It[2],complete:It[3]},{next:Fn=>{zt.next&&zt.next(oe(Fn))},error:null===(Me=zt.error)||void 0===Me?void 0:Me.bind(zt),complete:null===(yt=zt.complete)||void 0===yt?void 0:yt.bind(zt)}}class Xt{constructor(oe,Me){this._firestore=oe,this._delegate=Me}get ref(){return new nt(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(oe){return this._delegate.data(oe)}get(oe,Me){return this._delegate.get(oe,Me)}isEqual(oe){return(0,Qe.qK)(this._delegate,oe._delegate)}}class Kt extends Xt{data(oe){const Me=this._delegate.data(oe);return this._delegate._converter||(0,Qe.K9)(void 0!==Me,"Document in a QueryDocumentSnapshot should exist"),Me}}class qt{constructor(oe,Me){this.firestore=oe,this._delegate=Me,this._userDataWriter=new Jt(oe)}where(oe,Me,yt){try{return new qt(this.firestore,(0,Qe.IO)(this._delegate,(0,Qe.ar)(oe,Me,yt)))}catch(zt){throw rt(zt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(oe,Me){try{return new qt(this.firestore,(0,Qe.IO)(this._delegate,(0,Qe.Xo)(oe,Me)))}catch(yt){throw rt(yt,/(orderBy|where)\(\)/,"Query.$1()")}}limit(oe){try{return new qt(this.firestore,(0,Qe.IO)(this._delegate,(0,Qe.b9)(oe)))}catch(Me){throw rt(Me,"limit()","Query.limit()")}}limitToLast(oe){try{return new qt(this.firestore,(0,Qe.IO)(this._delegate,(0,Qe.vh)(oe)))}catch(Me){throw rt(Me,"limitToLast()","Query.limitToLast()")}}startAt(...oe){try{return new qt(this.firestore,(0,Qe.IO)(this._delegate,(0,Qe.e0)(...oe)))}catch(Me){throw rt(Me,"startAt()","Query.startAt()")}}startAfter(...oe){try{return new qt(this.firestore,(0,Qe.IO)(this._delegate,(0,Qe.TQ)(...oe)))}catch(Me){throw rt(Me,"startAfter()","Query.startAfter()")}}endBefore(...oe){try{return new qt(this.firestore,(0,Qe.IO)(this._delegate,(0,Qe.Lx)(...oe)))}catch(Me){throw rt(Me,"endBefore()","Query.endBefore()")}}endAt(...oe){try{return new qt(this.firestore,(0,Qe.IO)(this._delegate,(0,Qe.Wu)(...oe)))}catch(Me){throw rt(Me,"endAt()","Query.endAt()")}}isEqual(oe){return(0,Qe.iE)(this._delegate,oe._delegate)}get(oe){let Me;return Me="cache"===oe?.source?(0,Qe.UQ)(this._delegate):"server"===oe?.source?(0,Qe.zN)(this._delegate):(0,Qe.PL)(this._delegate),Me.then(yt=>new Zn(this.firestore,new Qe.W(this.firestore._delegate,this._userDataWriter,this._delegate,yt._snapshot)))}onSnapshot(...oe){const Me=_t(oe),yt=wt(oe,zt=>new Zn(this.firestore,new Qe.W(this.firestore._delegate,this._userDataWriter,this._delegate,zt._snapshot)));return(0,Qe.cf)(this._delegate,Me,yt)}withConverter(oe){return new qt(this.firestore,this._delegate.withConverter(oe?Ue.getInstance(this.firestore,oe):null))}}class gn{constructor(oe,Me){this._firestore=oe,this._delegate=Me}get type(){return this._delegate.type}get doc(){return new Kt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Zn{constructor(oe,Me){this._firestore=oe,this._delegate=Me}get query(){return new qt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(oe=>new Kt(this._firestore,oe))}docChanges(oe){return this._delegate.docChanges(oe).map(Me=>new gn(this._firestore,Me))}forEach(oe,Me){this._delegate.forEach(yt=>{oe.call(Me,new Kt(this._firestore,yt))})}isEqual(oe){return(0,Qe.qK)(this._delegate,oe._delegate)}}class _n extends qt{constructor(oe,Me){super(oe,Me),this.firestore=oe,this._delegate=Me}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const oe=this._delegate.parent;return oe?new nt(this.firestore,oe):null}doc(oe){try{return new nt(this.firestore,void 0===oe?(0,Qe.JU)(this._delegate):(0,Qe.JU)(this._delegate,oe))}catch(Me){throw rt(Me,"doc()","CollectionReference.doc()")}}add(oe){return(0,Qe.ET)(this._delegate,oe).then(Me=>new nt(this.firestore,Me))}isEqual(oe){return(0,Qe.Eo)(this._delegate,oe._delegate)}withConverter(oe){return new _n(this.firestore,this._delegate.withConverter(oe?Ue.getInstance(this.firestore,oe):null))}}function xn(It){return(0,Qe.Cf)(It,Qe.my)}class Yt{constructor(...oe){this._delegate=new Qe.Lz(...oe)}static documentId(){return new Yt(Qe.Xb.keyField().canonicalString())}isEqual(oe){return(oe=(0,ze.m9)(oe))instanceof Qe.Lz&&this._delegate._internalPath.isEqual(oe._internalPath)}}class mn{constructor(oe){this._delegate=oe}static serverTimestamp(){const oe=(0,Qe.Bt)();return oe._methodName="FieldValue.serverTimestamp",new mn(oe)}static delete(){const oe=(0,Qe.AK)();return oe._methodName="FieldValue.delete",new mn(oe)}static arrayUnion(...oe){const Me=(0,Qe.vr)(...oe);return Me._methodName="FieldValue.arrayUnion",new mn(Me)}static arrayRemove(...oe){const Me=(0,Qe.Ab)(...oe);return Me._methodName="FieldValue.arrayRemove",new mn(Me)}static increment(oe){const Me=(0,Qe.nP)(oe);return Me._methodName="FieldValue.increment",new mn(Me)}isEqual(oe){return this._delegate.isEqual(oe._delegate)}}const Mn={Firestore:Ft,GeoPoint:Qe.F8,Timestamp:Qe.EK,Blob:Ct,Transaction:Ne,WriteBatch:_e,DocumentReference:nt,DocumentSnapshot:Xt,Query:qt,QueryDocumentSnapshot:Kt,QuerySnapshot:Zn,CollectionReference:_n,FieldPath:Yt,FieldValue:mn,setLogLevel:function dt(It){(0,Qe.Ub)(It)},CACHE_SIZE_UNLIMITED:Qe.IX};!function en(It){(function kn(It,oe){It.INTERNAL.registerComponent(new ct.wA("firestore-compat",Me=>{const yt=Me.getProvider("app-compat").getImmediate(),zt=Me.getProvider("firestore").getImmediate();return oe(yt,zt)},"PUBLIC").setServiceProps(Object.assign({},Mn)))})(It,(oe,Me)=>new Ft(oe,Me,new Tt)),It.registerVersion("@firebase/firestore-compat","0.3.32")}(on.Z);var ci=B(7142);function vr(It,oe){return function On(It,oe=Se.z){return new Ae.y(Me=>{let yt;return null!=oe?oe.schedule(()=>{yt=It.onSnapshot({includeMetadataChanges:!0},Me)}):yt=It.onSnapshot({includeMetadataChanges:!0},Me),()=>{yt?.()}})}(It,oe)}function Ut(It,oe){return vr(It,oe).pipe((0,et.U)(Me=>({payload:Me,type:"query"})))}class bn{ref;afs;constructor(oe,Me){this.ref=oe,this.afs=Me}set(oe,Me){return this.ref.set(oe,Me)}update(oe){return this.ref.update(oe)}delete(){return this.ref.delete()}collection(oe,Me){const yt=this.ref.collection(oe),{ref:zt,query:Fn}=gr(yt,Me);return new xr(zt,Fn,this.afs)}snapshotChanges(){return function Kn(It,oe){return vr(It,oe).pipe((0,ne.O)(void 0),it(),(0,et.U)(Me=>{const[yt,zt]=Me;return zt.exists?yt?.exists?{payload:zt,type:"modified"}:{payload:zt,type:"added"}:{payload:zt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(H.iC)}valueChanges(oe={}){return this.snapshotChanges().pipe((0,et.U)(({payload:Me})=>oe.idField?{...Me.data(),[oe.idField]:Me.id}:Me.data()))}get(oe){return(0,Ce.D)(this.ref.get(oe)).pipe(H.iC)}}function Vn(It,oe){return Ut(It,oe).pipe((0,ne.O)(void 0),it(),(0,et.U)(Me=>{const[yt,zt]=Me,Fn=zt.payload.docChanges(),ni=Fn.map(Bt=>({type:Bt.type,payload:Bt}));return yt&&JSON.stringify(yt.payload.metadata)!==JSON.stringify(zt.payload.metadata)&&zt.payload.docs.forEach((Bt,de)=>{const J=Fn.find(j=>j.doc.ref.isEqual(Bt.ref)),z=yt?.payload.docs.find(j=>j.ref.isEqual(Bt.ref));J&&JSON.stringify(J.doc.metadata)===JSON.stringify(Bt.metadata)||!J&&z&&JSON.stringify(z.metadata)===JSON.stringify(Bt.metadata)||ni.push({type:"modified",payload:{oldIndex:de,newIndex:de,type:"modified",doc:Bt}})}),ni}))}function Rn(It,oe,Me){return Vn(It,Me).pipe((0,Mt.R)((yt,zt)=>function Br(It,oe,Me){return oe.forEach(yt=>{Me.indexOf(yt.type)>-1&&(It=function Yn(It,oe){switch(oe.type){case"added":if(!It[oe.newIndex]||!It[oe.newIndex].doc.ref.isEqual(oe.doc.ref))return Rr(It,oe.newIndex,0,oe);break;case"modified":if(null==It[oe.oldIndex]||It[oe.oldIndex].doc.ref.isEqual(oe.doc.ref)){if(oe.oldIndex!==oe.newIndex){const Me=It.slice();return Me.splice(oe.oldIndex,1),Me.splice(oe.newIndex,0,oe),Me}return Rr(It,oe.newIndex,1,oe)}break;case"removed":if(It[oe.oldIndex]&&It[oe.oldIndex].doc.ref.isEqual(oe.doc.ref))return Rr(It,oe.oldIndex,1)}return It}(It,yt))}),It}(yt,zt.map(Fn=>Fn.payload),oe),[]),(0,vt.x)(),(0,et.U)(yt=>yt.map(zt=>({type:zt.type,payload:zt}))))}function Rr(It,oe,Me,...yt){const zt=It.slice();return zt.splice(oe,Me,...yt),zt}function Hn(It){return(!It||0===It.length)&&(It=["added","removed","modified"]),It}class xr{ref;query;afs;constructor(oe,Me,yt){this.ref=oe,this.query=Me,this.afs=yt}stateChanges(oe){let Me=Vn(this.query,this.afs.schedulers.outsideAngular);return oe&&oe.length>0&&(Me=Me.pipe((0,et.U)(yt=>yt.filter(zt=>oe.indexOf(zt.type)>-1)))),Me.pipe((0,ne.O)(void 0),it(),(0,At.h)(([yt,zt])=>zt.length>0||!yt),(0,et.U)(([,yt])=>yt),H.iC)}auditTrail(oe){return this.stateChanges(oe).pipe((0,Mt.R)((Me,yt)=>[...Me,...yt],[]))}snapshotChanges(oe){const Me=Hn(oe);return Rn(this.query,Me,this.afs.schedulers.outsideAngular).pipe(H.iC)}valueChanges(oe={}){return Ut(this.query,this.afs.schedulers.outsideAngular).pipe((0,et.U)(Me=>Me.payload.docs.map(yt=>oe.idField?{...yt.data(),[oe.idField]:yt.id}:yt.data())),H.iC)}get(oe){return(0,Ce.D)(this.query.get(oe)).pipe(H.iC)}add(oe){return this.ref.add(oe)}doc(oe){return new bn(this.ref.doc(oe),this.afs)}}class li{query;afs;constructor(oe,Me){this.query=oe,this.afs=Me}stateChanges(oe){return oe&&0!==oe.length?Vn(this.query,this.afs.schedulers.outsideAngular).pipe((0,et.U)(Me=>Me.filter(yt=>oe.indexOf(yt.type)>-1)),(0,At.h)(Me=>Me.length>0),H.iC):Vn(this.query,this.afs.schedulers.outsideAngular).pipe(H.iC)}auditTrail(oe){return this.stateChanges(oe).pipe((0,Mt.R)((Me,yt)=>[...Me,...yt],[]))}snapshotChanges(oe){const Me=Hn(oe);return Rn(this.query,Me,this.afs.schedulers.outsideAngular).pipe(H.iC)}valueChanges(oe={}){return Ut(this.query,this.afs.schedulers.outsideAngular).pipe((0,et.U)(yt=>yt.payload.docs.map(zt=>oe.idField?{[oe.idField]:zt.id,...zt.data()}:zt.data())),H.iC)}get(oe){return(0,Ce.D)(this.query.get(oe)).pipe(H.iC)}}const cn=new u.OlP("angularfire2.enableFirestorePersistence"),ui=new u.OlP("angularfire2.firestore.persistenceSettings"),er=new u.OlP("angularfire2.firestore.settings"),Ar=new u.OlP("angularfire2.firestore.use-emulator");function gr(It,oe=(Me=>Me)){return{query:oe(It),ref:It}}let Gr=(()=>{class It{schedulers;firestore;persistenceEnabled$;constructor(Me,yt,zt,Fn,ni,Bt,de,J,z,j,F,pe,ke,bt,kt,ln,un){this.schedulers=de;const dn=(0,Ie.on)(Me,Bt,yt),ar=z;j&&(0,Ee.nw)(dn,Bt,F,ke,bt,kt,pe,ln),[this.firestore,this.persistenceEnabled$]=(0,Ie.cc)(`${dn.name}.firestore`,"AngularFirestore",dn.name,()=>{const Fe=Bt.runOutsideAngular(()=>dn.firestore());if(Fn&&Fe.settings(Fn),ar&&Fe.useEmulator(...ar),zt&&!(0,g.PM)(ni)){const Re=()=>{try{return(0,Ce.D)(Fe.enablePersistence(J||void 0).then(()=>!0,()=>!1))}catch(Be){return typeof console<"u"&&console.warn(Be),(0,Ve.of)(!1)}};return[Fe,Bt.runOutsideAngular(Re)]}return[Fe,(0,Ve.of)(!1)]},[Fn,ar,zt])}collection(Me,yt){let zt;zt="string"==typeof Me?this.firestore.collection(Me):Me;const{ref:Fn,query:ni}=gr(zt,yt),Bt=this.schedulers.ngZone.run(()=>Fn);return new xr(Bt,ni,this)}collectionGroup(Me,yt){const zt=yt||(ni=>ni),Fn=this.firestore.collectionGroup(Me);return new li(zt(Fn),this)}doc(Me){let yt;yt="string"==typeof Me?this.firestore.doc(Me):Me;const zt=this.schedulers.ngZone.run(()=>yt);return new bn(zt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(yt){return new(yt||It)(u.LFG(Ie.Dh),u.LFG(Ie.xv,8),u.LFG(cn,8),u.LFG(er,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(H.HU),u.LFG(ui,8),u.LFG(Ar,8),u.LFG(Ee.zQ,8),u.LFG(Ee.Qv,8),u.LFG(Ee.L6,8),u.LFG(Ee._Q,8),u.LFG(Ee.rT,8),u.LFG(Ee.lh,8),u.LFG(Ee.f7,8),u.LFG(H.Rf,8))};static \u0275prov=u.Yz7({token:It,factory:It.\u0275fac,providedIn:"any"})}return It})(),Ze=(()=>{class It{constructor(){ci.Z.registerVersion("angularfire",H.q4.full,"fst-compat")}static enablePersistence(Me){return{ngModule:It,providers:[{provide:cn,useValue:!0},{provide:ui,useValue:Me}]}}static \u0275fac=function(yt){return new(yt||It)};static \u0275mod=u.oAB({type:It});static \u0275inj=u.cJS({providers:[Gr]})}return It})()},7217:(Qt,Ke,B)=>{B.d(Ke,{Dh:()=>Ce,GT:()=>Se,Ot:()=>Ae,cc:()=>et,hO:()=>it,on:()=>ne,pX:()=>Ee,xv:()=>Ve});var g=B(5879),u=B(1920),H=B(7142);const Ie=["ngOnDestroy"],Ee=(Et,on,Qe,ze={})=>new Proxy(Et,{get:(ct,Ge)=>Qe.runOutsideAngular(()=>{if(Et[Ge])return ze?.spy?.get&&ze.spy.get(Ge,Et[Ge]),Et[Ge];if(Ie.indexOf(Ge)>-1)return()=>{};const ot=on.toPromise().then(Dt=>{const Je=Dt?.[Ge];return"function"==typeof Je?Je.bind(Dt):Je?.then?Je.then(me=>Qe.run(()=>me)):Qe.run(()=>Je)});return new Proxy(()=>{},{get:(Dt,Je)=>ot[Je],apply:(Dt,Je,me)=>ot.then(Ct=>{const $t=Ct?.(...me);return ze?.spy?.apply&&ze.spy.apply(Ge,me,$t),$t})})})}),Se=(Et,on)=>{on.forEach(Qe=>{Object.getOwnPropertyNames(Qe.prototype||Qe).forEach(ze=>{Object.defineProperty(Et.prototype,ze,Object.getOwnPropertyDescriptor(Qe.prototype||Qe,ze))})})};class Ae{constructor(on){return on}}const Ce=new g.OlP("angularfire2.app.options"),Ve=new g.OlP("angularfire2.app.name");function ne(Et,on,Qe){const ct="object"==typeof Qe&&Qe||{};ct.name=ct.name||"string"==typeof Qe&&Qe||"[DEFAULT]";const ot=H.Z.apps.filter(Dt=>Dt&&Dt.name===ct.name)[0]||on.runOutsideAngular(()=>H.Z.initializeApp(Et,ct));try{if(JSON.stringify(Et)!==JSON.stringify(ot.options)){const Dt=!!module.hot;ie("error",`${ot.name} Firebase App already initialized with different options${Dt?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Ae(ot)}const ie=(Et,...on)=>{(0,g.X6Q)()&&typeof console<"u"&&console[Et](...on)},ve={provide:Ae,useFactory:ne,deps:[Ce,g.R0b,[new g.FiY,Ve]]};let it=(()=>{class Et{static initializeApp(Qe,ze){return{ngModule:Et,providers:[{provide:Ce,useValue:Qe},{provide:Ve,useValue:ze}]}}constructor(Qe){H.Z.registerVersion("angularfire",u.q4.full,"core"),H.Z.registerVersion("angularfire",u.q4.full,"app-compat"),H.Z.registerVersion("angular",g.q4F.full,Qe.toString())}static \u0275fac=function(ze){return new(ze||Et)(g.LFG(g.Lbi))};static \u0275mod=g.oAB({type:Et});static \u0275inj=g.cJS({providers:[ve]})}return Et})();function et(Et,on,Qe,ze,ct){const[,Ge,ot]=globalThis.\u0275AngularfireInstanceCache.find(Dt=>Dt[0]===Et)||[];if(Ge)return function Mt(Et,on){try{return Et.toString()===on.toString()}catch{return Et===on}}(ct,ot)||(At("error",`${on} was already initialized on the ${Qe} Firebase App with different settings.${vt?" You may need to reload as Firebase is not HMR aware.":""}`),At("warn",{is:ct,was:ot})),Ge;{const Dt=ze();return globalThis.\u0275AngularfireInstanceCache.push([Et,Dt,ct]),Dt}}const vt=typeof module<"u"&&!!module.hot,At=(Et,...on)=>{(0,g.X6Q)()&&typeof console<"u"&&console[Et](...on)};globalThis.\u0275AngularfireInstanceCache||=[]},1920:(Qt,Ke,B)=>{B.d(Ke,{q4:()=>et,iC:()=>$t,fc:()=>me,HU:()=>Ge,Rf:()=>Et,vb:()=>At,JM:()=>vt,u3:()=>Ft});var g=B(5879),u=B(3182),H=B(1954),Ee=B(2631);const Ae=new class Se extends Ee.v{}(class Ie extends H.o{constructor(dt,Ne){super(dt,Ne),this.scheduler=dt,this.work=Ne}schedule(dt,Ne=0){return Ne>0?super.schedule(dt,Ne):(this.delay=Ne,this.state=dt,this.scheduler.flush(this),this)}execute(dt,Ne){return Ne>0||this.closed?super.execute(dt,Ne):this._execute(dt,Ne)}requestAsyncId(dt,Ne,_e=0){return null!=_e&&_e>0||null==_e&&this.delay>0?super.requestAsyncId(dt,Ne,_e):(dt.flush(this),0)}});var Ve=B(6321),ne=B(5592),ie=B(9397),ve=B(3093),it=B(5137);const et=new g.GfV("ANGULARFIRE2_VERSION");function vt(Jt,dt,Ne){if(dt){if(1===dt.length)return dt[0];const nt=dt.filter(rt=>rt.app===Ne);if(1===nt.length)return nt[0]}return Ne.container.getProvider(Jt).getImmediate({optional:!0})}const At=(Jt,dt)=>{const Ne=dt?[dt]:(0,u.C6)(),_e=[];return Ne.forEach(Ue=>{Ue.container.getProvider(Jt).instances.forEach(rt=>{_e.includes(rt)||_e.push(rt)})}),_e};class Et{constructor(){return At(on)}}const on="app-check";function Qe(){}class ze{zone;delegate;constructor(dt,Ne=Ae){this.zone=dt,this.delegate=Ne}now(){return this.delegate.now()}schedule(dt,Ne,_e){const Ue=this.zone;return this.delegate.schedule(function(rt){Ue.runGuarded(()=>{dt.apply(this,[rt])})},Ne,_e)}}class ct{zone;task=null;constructor(dt){this.zone=dt}call(dt,Ne){const _e=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qe,{},Qe,Qe)),Ne.pipe((0,ie.b)({next:_e,complete:_e,error:_e})).subscribe(dt).add(_e)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ge=(()=>{class Jt{ngZone;outsideAngular;insideAngular;constructor(Ne){this.ngZone=Ne,this.outsideAngular=Ne.runOutsideAngular(()=>new ze(Zone.current)),this.insideAngular=Ne.run(()=>new ze(Zone.current,Ve.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(_e){return new(_e||Jt)(g.LFG(g.R0b))};static \u0275prov=g.Yz7({token:Jt,factory:Jt.\u0275fac,providedIn:"root"})}return Jt})();function ot(){const Jt=globalThis.\u0275AngularFireScheduler;if(!Jt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Jt}function Je(Jt){return ot().ngZone.run(()=>Jt())}function me(Jt){return Jt.pipe((0,ve.Q)(ot().outsideAngular))}function $t(Jt){return function jn(Jt){return function(Ne){return(Ne=Ne.lift(new ct(Jt.ngZone))).pipe((0,it.R)(Jt.outsideAngular),(0,ve.Q)(Jt.insideAngular))}}(ot())(Jt)}const Tt=(Jt,dt)=>function(){const _e=arguments;return dt&&setTimeout(()=>{"scheduled"===dt.state&&dt.invoke()},10),Je(()=>Jt.apply(void 0,_e))},Ft=(Jt,dt)=>function(){let Ne;const _e=arguments;for(let nt=0;nt<arguments.length;nt++)"function"==typeof _e[nt]&&(dt&&(Ne||=Je(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qe,{},Qe,Qe))),_e[nt]=Tt(_e[nt],Ne));const Ue=function Dt(Jt){return ot().ngZone.runOutsideAngular(()=>Jt())}(()=>Jt.apply(this,_e));if(!dt){if(Ue instanceof ne.y){const nt=ot();return Ue.pipe((0,it.R)(nt.outsideAngular),(0,ve.Q)(nt.insideAngular))}return Je(()=>Ue)}return Ue instanceof ne.y?Ue.pipe($t):Ue instanceof Promise?Je(()=>new Promise((nt,rt)=>Ue.then(_t=>Je(()=>nt(_t)),_t=>Je(()=>rt(_t))))):"function"==typeof Ue&&Ne?function(){return setTimeout(()=>{Ne&&"scheduled"===Ne.state&&Ne.invoke()},10),Ue.apply(this,arguments)}:Je(()=>Ue)}},6223:(Qt,Ke,B)=>{B.d(Ke,{EJ:()=>Ms,F:()=>bi,Fj:()=>et,JJ:()=>en,JL:()=>ci,Kr:()=>ns,On:()=>Xi,Q7:()=>sr,UX:()=>Ts,YN:()=>Qr,_Y:()=>So,kI:()=>Qe,qu:()=>En,sg:()=>zr,u:()=>an,u5:()=>Ki});var g=B(5879),u=B(6814),H=B(2459),Ie=B(9315),Ee=B(7398);let Se=(()=>{class W{constructor(L,le){this._renderer=L,this._elementRef=le,this.onChange=Pe=>{},this.onTouched=()=>{}}setProperty(L,le){this._renderer.setProperty(this._elementRef.nativeElement,L,le)}registerOnTouched(L){this.onTouched=L}registerOnChange(L){this.onChange=L}setDisabledState(L){this.setProperty("disabled",L)}static#e=this.\u0275fac=function(le){return new(le||W)(g.Y36(g.Qsj),g.Y36(g.SBq))};static#t=this.\u0275dir=g.lG2({type:W})}return W})(),Ae=(()=>{class W extends Se{static#e=this.\u0275fac=function(){let L;return function(Pe){return(L||(L=g.n5z(W)))(Pe||W)}}();static#t=this.\u0275dir=g.lG2({type:W,features:[g.qOj]})}return W})();const Ce=new g.OlP("NgValueAccessor"),ie={provide:Ce,useExisting:(0,g.Gpc)(()=>et),multi:!0},it=new g.OlP("CompositionEventMode");let et=(()=>{class W extends Se{constructor(L,le,Pe){super(L,le),this._compositionMode=Pe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ve(){const W=(0,u.q)()?(0,u.q)().getUserAgent():"";return/android (\d+)/.test(W.toLowerCase())}())}writeValue(L){this.setProperty("value",L??"")}_handleInput(L){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(L)}_compositionStart(){this._composing=!0}_compositionEnd(L){this._composing=!1,this._compositionMode&&this.onChange(L)}static#e=this.\u0275fac=function(le){return new(le||W)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(it,8))};static#t=this.\u0275dir=g.lG2({type:W,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(le,Pe){1&le&&g.NdJ("input",function(_r){return Pe._handleInput(_r.target.value)})("blur",function(){return Pe.onTouched()})("compositionstart",function(){return Pe._compositionStart()})("compositionend",function(_r){return Pe._compositionEnd(_r.target.value)})},features:[g._Bn([ie]),g.qOj]})}return W})();function Mt(W){return null==W||("string"==typeof W||Array.isArray(W))&&0===W.length}function vt(W){return null!=W&&"number"==typeof W.length}const At=new g.OlP("NgValidators"),Et=new g.OlP("NgAsyncValidators"),on=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Qe{static min(X){return function ze(W){return X=>{if(Mt(X.value)||Mt(W))return null;const L=parseFloat(X.value);return!isNaN(L)&&L<W?{min:{min:W,actual:X.value}}:null}}(X)}static max(X){return function ct(W){return X=>{if(Mt(X.value)||Mt(W))return null;const L=parseFloat(X.value);return!isNaN(L)&&L>W?{max:{max:W,actual:X.value}}:null}}(X)}static required(X){return Ge(X)}static requiredTrue(X){return function ot(W){return!0===W.value?null:{required:!0}}(X)}static email(X){return function Dt(W){return Mt(W.value)||on.test(W.value)?null:{email:!0}}(X)}static minLength(X){return function Je(W){return X=>Mt(X.value)||!vt(X.value)?null:X.value.length<W?{minlength:{requiredLength:W,actualLength:X.value.length}}:null}(X)}static maxLength(X){return function me(W){return X=>vt(X.value)&&X.value.length>W?{maxlength:{requiredLength:W,actualLength:X.value.length}}:null}(X)}static pattern(X){return function Ct(W){if(!W)return $t;let X,L;return"string"==typeof W?(L="","^"!==W.charAt(0)&&(L+="^"),L+=W,"$"!==W.charAt(W.length-1)&&(L+="$"),X=new RegExp(L)):(L=W.toString(),X=W),le=>{if(Mt(le.value))return null;const Pe=le.value;return X.test(Pe)?null:{pattern:{requiredPattern:L,actualValue:Pe}}}}(X)}static nullValidator(X){return null}static compose(X){return _e(X)}static composeAsync(X){return nt(X)}}function Ge(W){return Mt(W.value)?{required:!0}:null}function $t(W){return null}function jn(W){return null!=W}function Tt(W){return(0,g.QGY)(W)?(0,H.D)(W):W}function Ft(W){let X={};return W.forEach(L=>{X=null!=L?{...X,...L}:X}),0===Object.keys(X).length?null:X}function Jt(W,X){return X.map(L=>L(W))}function Ne(W){return W.map(X=>function dt(W){return!W.validate}(X)?X:L=>X.validate(L))}function _e(W){if(!W)return null;const X=W.filter(jn);return 0==X.length?null:function(L){return Ft(Jt(L,X))}}function Ue(W){return null!=W?_e(Ne(W)):null}function nt(W){if(!W)return null;const X=W.filter(jn);return 0==X.length?null:function(L){const le=Jt(L,X).map(Tt);return(0,Ie.D)(le).pipe((0,Ee.U)(Ft))}}function rt(W){return null!=W?nt(Ne(W)):null}function _t(W,X){return null===W?[X]:Array.isArray(W)?[...W,X]:[W,X]}function wt(W){return W._rawValidators}function Xt(W){return W._rawAsyncValidators}function Kt(W){return W?Array.isArray(W)?W:[W]:[]}function qt(W,X){return Array.isArray(W)?W.includes(X):W===X}function gn(W,X){const L=Kt(X);return Kt(W).forEach(Pe=>{qt(L,Pe)||L.push(Pe)}),L}function Zn(W,X){return Kt(X).filter(L=>!qt(W,L))}class _n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(X){this._rawValidators=X||[],this._composedValidatorFn=Ue(this._rawValidators)}_setAsyncValidators(X){this._rawAsyncValidators=X||[],this._composedAsyncValidatorFn=rt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(X){this._onDestroyCallbacks.push(X)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(X=>X()),this._onDestroyCallbacks=[]}reset(X=void 0){this.control&&this.control.reset(X)}hasError(X,L){return!!this.control&&this.control.hasError(X,L)}getError(X,L){return this.control?this.control.getError(X,L):null}}class xn extends _n{get formDirective(){return null}get path(){return null}}class Yt extends _n{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class mn{constructor(X){this._cd=X}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let en=(()=>{class W extends mn{constructor(L){super(L)}static#e=this.\u0275fac=function(le){return new(le||W)(g.Y36(Yt,2))};static#t=this.\u0275dir=g.lG2({type:W,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(le,Pe){2&le&&g.ekj("ng-untouched",Pe.isUntouched)("ng-touched",Pe.isTouched)("ng-pristine",Pe.isPristine)("ng-dirty",Pe.isDirty)("ng-valid",Pe.isValid)("ng-invalid",Pe.isInvalid)("ng-pending",Pe.isPending)},features:[g.qOj]})}return W})(),ci=(()=>{class W extends mn{constructor(L){super(L)}static#e=this.\u0275fac=function(le){return new(le||W)(g.Y36(xn,10))};static#t=this.\u0275dir=g.lG2({type:W,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(le,Pe){2&le&&g.ekj("ng-untouched",Pe.isUntouched)("ng-touched",Pe.isTouched)("ng-pristine",Pe.isPristine)("ng-dirty",Pe.isDirty)("ng-valid",Pe.isValid)("ng-invalid",Pe.isInvalid)("ng-pending",Pe.isPending)("ng-submitted",Pe.isSubmitted)},features:[g.qOj]})}return W})();const gr="VALID",Gr="INVALID",Ze="PENDING",It="DISABLED";function oe(W){return(Fn(W)?W.validators:W)||null}function yt(W,X){return(Fn(X)?X.asyncValidators:W)||null}function Fn(W){return null!=W&&!Array.isArray(W)&&"object"==typeof W}function ni(W,X,L){const le=W.controls;if(!(X?Object.keys(le):le).length)throw new g.vHH(1e3,"");if(!le[L])throw new g.vHH(1001,"")}function Bt(W,X,L){W._forEachChild((le,Pe)=>{if(void 0===L[Pe])throw new g.vHH(1002,"")})}class de{constructor(X,L){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(X),this._assignAsyncValidators(L)}get validator(){return this._composedValidatorFn}set validator(X){this._rawValidators=this._composedValidatorFn=X}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(X){this._rawAsyncValidators=this._composedAsyncValidatorFn=X}get parent(){return this._parent}get valid(){return this.status===gr}get invalid(){return this.status===Gr}get pending(){return this.status==Ze}get disabled(){return this.status===It}get enabled(){return this.status!==It}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(X){this._assignValidators(X)}setAsyncValidators(X){this._assignAsyncValidators(X)}addValidators(X){this.setValidators(gn(X,this._rawValidators))}addAsyncValidators(X){this.setAsyncValidators(gn(X,this._rawAsyncValidators))}removeValidators(X){this.setValidators(Zn(X,this._rawValidators))}removeAsyncValidators(X){this.setAsyncValidators(Zn(X,this._rawAsyncValidators))}hasValidator(X){return qt(this._rawValidators,X)}hasAsyncValidator(X){return qt(this._rawAsyncValidators,X)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(X={}){this.touched=!0,this._parent&&!X.onlySelf&&this._parent.markAsTouched(X)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(X=>X.markAllAsTouched())}markAsUntouched(X={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(L=>{L.markAsUntouched({onlySelf:!0})}),this._parent&&!X.onlySelf&&this._parent._updateTouched(X)}markAsDirty(X={}){this.pristine=!1,this._parent&&!X.onlySelf&&this._parent.markAsDirty(X)}markAsPristine(X={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(L=>{L.markAsPristine({onlySelf:!0})}),this._parent&&!X.onlySelf&&this._parent._updatePristine(X)}markAsPending(X={}){this.status=Ze,!1!==X.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!X.onlySelf&&this._parent.markAsPending(X)}disable(X={}){const L=this._parentMarkedDirty(X.onlySelf);this.status=It,this.errors=null,this._forEachChild(le=>{le.disable({...X,onlySelf:!0})}),this._updateValue(),!1!==X.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...X,skipPristineCheck:L}),this._onDisabledChange.forEach(le=>le(!0))}enable(X={}){const L=this._parentMarkedDirty(X.onlySelf);this.status=gr,this._forEachChild(le=>{le.enable({...X,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:X.emitEvent}),this._updateAncestors({...X,skipPristineCheck:L}),this._onDisabledChange.forEach(le=>le(!1))}_updateAncestors(X){this._parent&&!X.onlySelf&&(this._parent.updateValueAndValidity(X),X.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(X){this._parent=X}getRawValue(){return this.value}updateValueAndValidity(X={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gr||this.status===Ze)&&this._runAsyncValidator(X.emitEvent)),!1!==X.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!X.onlySelf&&this._parent.updateValueAndValidity(X)}_updateTreeValidity(X={emitEvent:!0}){this._forEachChild(L=>L._updateTreeValidity(X)),this.updateValueAndValidity({onlySelf:!0,emitEvent:X.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?It:gr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(X){if(this.asyncValidator){this.status=Ze,this._hasOwnPendingAsyncValidator=!0;const L=Tt(this.asyncValidator(this));this._asyncValidationSubscription=L.subscribe(le=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(le,{emitEvent:X})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(X,L={}){this.errors=X,this._updateControlsErrors(!1!==L.emitEvent)}get(X){let L=X;return null==L||(Array.isArray(L)||(L=L.split(".")),0===L.length)?null:L.reduce((le,Pe)=>le&&le._find(Pe),this)}getError(X,L){const le=L?this.get(L):this;return le&&le.errors?le.errors[X]:null}hasError(X,L){return!!this.getError(X,L)}get root(){let X=this;for(;X._parent;)X=X._parent;return X}_updateControlsErrors(X){this.status=this._calculateStatus(),X&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(X)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?It:this.errors?Gr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ze)?Ze:this._anyControlsHaveStatus(Gr)?Gr:gr}_anyControlsHaveStatus(X){return this._anyControls(L=>L.status===X)}_anyControlsDirty(){return this._anyControls(X=>X.dirty)}_anyControlsTouched(){return this._anyControls(X=>X.touched)}_updatePristine(X={}){this.pristine=!this._anyControlsDirty(),this._parent&&!X.onlySelf&&this._parent._updatePristine(X)}_updateTouched(X={}){this.touched=this._anyControlsTouched(),this._parent&&!X.onlySelf&&this._parent._updateTouched(X)}_registerOnCollectionChange(X){this._onCollectionChange=X}_setUpdateStrategy(X){Fn(X)&&null!=X.updateOn&&(this._updateOn=X.updateOn)}_parentMarkedDirty(X){return!X&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(X){return null}_assignValidators(X){this._rawValidators=Array.isArray(X)?X.slice():X,this._composedValidatorFn=function Me(W){return Array.isArray(W)?Ue(W):W||null}(this._rawValidators)}_assignAsyncValidators(X){this._rawAsyncValidators=Array.isArray(X)?X.slice():X,this._composedAsyncValidatorFn=function zt(W){return Array.isArray(W)?rt(W):W||null}(this._rawAsyncValidators)}}class J extends de{constructor(X,L,le){super(oe(L),yt(le,L)),this.controls=X,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(X,L){return this.controls[X]?this.controls[X]:(this.controls[X]=L,L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange),L)}addControl(X,L,le={}){this.registerControl(X,L),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}removeControl(X,L={}){this.controls[X]&&this.controls[X]._registerOnCollectionChange(()=>{}),delete this.controls[X],this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}setControl(X,L,le={}){this.controls[X]&&this.controls[X]._registerOnCollectionChange(()=>{}),delete this.controls[X],L&&this.registerControl(X,L),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}contains(X){return this.controls.hasOwnProperty(X)&&this.controls[X].enabled}setValue(X,L={}){Bt(this,0,X),Object.keys(X).forEach(le=>{ni(this,!0,le),this.controls[le].setValue(X[le],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(X,L={}){null!=X&&(Object.keys(X).forEach(le=>{const Pe=this.controls[le];Pe&&Pe.patchValue(X[le],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(X={},L={}){this._forEachChild((le,Pe)=>{le.reset(X?X[Pe]:null,{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this._reduceChildren({},(X,L,le)=>(X[le]=L.getRawValue(),X))}_syncPendingControls(){let X=this._reduceChildren(!1,(L,le)=>!!le._syncPendingControls()||L);return X&&this.updateValueAndValidity({onlySelf:!0}),X}_forEachChild(X){Object.keys(this.controls).forEach(L=>{const le=this.controls[L];le&&X(le,L)})}_setUpControls(){this._forEachChild(X=>{X.setParent(this),X._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(X){for(const[L,le]of Object.entries(this.controls))if(this.contains(L)&&X(le))return!0;return!1}_reduceValue(){return this._reduceChildren({},(L,le,Pe)=>((le.enabled||this.disabled)&&(L[Pe]=le.value),L))}_reduceChildren(X,L){let le=X;return this._forEachChild((Pe,Sn)=>{le=L(le,Pe,Sn)}),le}_allControlsDisabled(){for(const X of Object.keys(this.controls))if(this.controls[X].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(X){return this.controls.hasOwnProperty(X)?this.controls[X]:null}}class F extends J{}const ke=new g.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>bt}),bt="always";function kt(W,X){return[...X.path,W]}function ln(W,X,L=bt){Fe(W,X),X.valueAccessor.writeValue(W.value),(W.disabled||"always"===L)&&X.valueAccessor.setDisabledState?.(W.disabled),function Be(W,X){X.valueAccessor.registerOnChange(L=>{W._pendingValue=L,W._pendingChange=!0,W._pendingDirty=!0,"change"===W.updateOn&&Wt(W,X)})}(W,X),function pn(W,X){const L=(le,Pe)=>{X.valueAccessor.writeValue(le),Pe&&X.viewToModelUpdate(le)};W.registerOnChange(L),X._registerOnDestroy(()=>{W._unregisterOnChange(L)})}(W,X),function xt(W,X){X.valueAccessor.registerOnTouched(()=>{W._pendingTouched=!0,"blur"===W.updateOn&&W._pendingChange&&Wt(W,X),"submit"!==W.updateOn&&W.markAsTouched()})}(W,X),function ar(W,X){if(X.valueAccessor.setDisabledState){const L=le=>{X.valueAccessor.setDisabledState(le)};W.registerOnDisabledChange(L),X._registerOnDestroy(()=>{W._unregisterOnDisabledChange(L)})}}(W,X)}function un(W,X,L=!0){const le=()=>{};X.valueAccessor&&(X.valueAccessor.registerOnChange(le),X.valueAccessor.registerOnTouched(le)),Re(W,X),W&&(X._invokeOnDestroyCallbacks(),W._registerOnCollectionChange(()=>{}))}function dn(W,X){W.forEach(L=>{L.registerOnValidatorChange&&L.registerOnValidatorChange(X)})}function Fe(W,X){const L=wt(W);null!==X.validator?W.setValidators(_t(L,X.validator)):"function"==typeof L&&W.setValidators([L]);const le=Xt(W);null!==X.asyncValidator?W.setAsyncValidators(_t(le,X.asyncValidator)):"function"==typeof le&&W.setAsyncValidators([le]);const Pe=()=>W.updateValueAndValidity();dn(X._rawValidators,Pe),dn(X._rawAsyncValidators,Pe)}function Re(W,X){let L=!1;if(null!==W){if(null!==X.validator){const Pe=wt(W);if(Array.isArray(Pe)&&Pe.length>0){const Sn=Pe.filter(_r=>_r!==X.validator);Sn.length!==Pe.length&&(L=!0,W.setValidators(Sn))}}if(null!==X.asyncValidator){const Pe=Xt(W);if(Array.isArray(Pe)&&Pe.length>0){const Sn=Pe.filter(_r=>_r!==X.asyncValidator);Sn.length!==Pe.length&&(L=!0,W.setAsyncValidators(Sn))}}}const le=()=>{};return dn(X._rawValidators,le),dn(X._rawAsyncValidators,le),L}function Wt(W,X){W._pendingDirty&&W.markAsDirty(),W.setValue(W._pendingValue,{emitModelToViewChange:!1}),X.viewToModelUpdate(W._pendingValue),W._pendingChange=!1}function nn(W,X){Fe(W,X)}function Si(W,X){if(!W.hasOwnProperty("model"))return!1;const L=W.model;return!!L.isFirstChange()||!Object.is(X,L.currentValue)}function qr(W,X){W._syncPendingControls(),X.forEach(L=>{const le=L.control;"submit"===le.updateOn&&le._pendingChange&&(L.viewToModelUpdate(le._pendingValue),le._pendingChange=!1)})}function ir(W,X){if(!X)return null;let L,le,Pe;return Array.isArray(X),X.forEach(Sn=>{Sn.constructor===et?L=Sn:function Sr(W){return Object.getPrototypeOf(W.constructor)===Ae}(Sn)?le=Sn:Pe=Sn}),Pe||le||L||null}const Ii={provide:xn,useExisting:(0,g.Gpc)(()=>bi)},lr=(()=>Promise.resolve())();let bi=(()=>{class W extends xn{constructor(L,le,Pe){super(),this.callSetDisabledState=Pe,this.submitted=!1,this._directives=new Set,this.ngSubmit=new g.vpe,this.form=new J({},Ue(L),rt(le))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(L){lr.then(()=>{const le=this._findContainer(L.path);L.control=le.registerControl(L.name,L.control),ln(L.control,L,this.callSetDisabledState),L.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(L)})}getControl(L){return this.form.get(L.path)}removeControl(L){lr.then(()=>{const le=this._findContainer(L.path);le&&le.removeControl(L.name),this._directives.delete(L)})}addFormGroup(L){lr.then(()=>{const le=this._findContainer(L.path),Pe=new J({});nn(Pe,L),le.registerControl(L.name,Pe),Pe.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(L){lr.then(()=>{const le=this._findContainer(L.path);le&&le.removeControl(L.name)})}getFormGroup(L){return this.form.get(L.path)}updateModel(L,le){lr.then(()=>{this.form.get(L.path).setValue(le)})}setValue(L){this.control.setValue(L)}onSubmit(L){return this.submitted=!0,qr(this.form,this._directives),this.ngSubmit.emit(L),"dialog"===L?.target?.method}onReset(){this.resetForm()}resetForm(L=void 0){this.form.reset(L),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(L){return L.pop(),L.length?this.form.get(L):this.form}static#e=this.\u0275fac=function(le){return new(le||W)(g.Y36(At,10),g.Y36(Et,10),g.Y36(ke,8))};static#t=this.\u0275dir=g.lG2({type:W,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(le,Pe){1&le&&g.NdJ("submit",function(_r){return Pe.onSubmit(_r)})("reset",function(){return Pe.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([Ii]),g.qOj]})}return W})();function ls(W,X){const L=W.indexOf(X);L>-1&&W.splice(L,1)}function Zi(W){return"object"==typeof W&&null!==W&&2===Object.keys(W).length&&"value"in W&&"disabled"in W}const Vr=class extends de{constructor(X=null,L,le){super(oe(L),yt(le,L)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(X),this._setUpdateStrategy(L),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Fn(L)&&(L.nonNullable||L.initialValueIsDefault)&&(this.defaultValue=Zi(X)?X.value:X)}setValue(X,L={}){this.value=this._pendingValue=X,this._onChange.length&&!1!==L.emitModelToViewChange&&this._onChange.forEach(le=>le(this.value,!1!==L.emitViewToModelChange)),this.updateValueAndValidity(L)}patchValue(X,L={}){this.setValue(X,L)}reset(X=this.defaultValue,L={}){this._applyFormState(X),this.markAsPristine(L),this.markAsUntouched(L),this.setValue(this.value,L),this._pendingChange=!1}_updateValue(){}_anyControls(X){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(X){this._onChange.push(X)}_unregisterOnChange(X){ls(this._onChange,X)}registerOnDisabledChange(X){this._onDisabledChange.push(X)}_unregisterOnDisabledChange(X){ls(this._onDisabledChange,X)}_forEachChild(X){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(X){Zi(X)?(this.value=this._pendingValue=X.value,X.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=X}},Vs={provide:Yt,useExisting:(0,g.Gpc)(()=>Xi)},Ni=(()=>Promise.resolve())();let Xi=(()=>{class W extends Yt{constructor(L,le,Pe,Sn,_r,fs){super(),this._changeDetectorRef=_r,this.callSetDisabledState=fs,this.control=new Vr,this._registered=!1,this.name="",this.update=new g.vpe,this._parent=L,this._setValidators(le),this._setAsyncValidators(Pe),this.valueAccessor=ir(0,Sn)}ngOnChanges(L){if(this._checkForErrors(),!this._registered||"name"in L){if(this._registered&&(this._checkName(),this.formDirective)){const le=L.name.previousValue;this.formDirective.removeControl({name:le,path:this._getPath(le)})}this._setUpControl()}"isDisabled"in L&&this._updateDisabled(L),Si(L,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ln(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(L){Ni.then(()=>{this.control.setValue(L,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(L){const le=L.isDisabled.currentValue,Pe=0!==le&&(0,g.VuI)(le);Ni.then(()=>{Pe&&!this.control.disabled?this.control.disable():!Pe&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(L){return this._parent?kt(L,this._parent):[L]}static#e=this.\u0275fac=function(le){return new(le||W)(g.Y36(xn,9),g.Y36(At,10),g.Y36(Et,10),g.Y36(Ce,10),g.Y36(g.sBO,8),g.Y36(ke,8))};static#t=this.\u0275dir=g.lG2({type:W,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[g._Bn([Vs]),g.qOj,g.TTD]})}return W})(),So=(()=>{class W{static#e=this.\u0275fac=function(le){return new(le||W)};static#t=this.\u0275dir=g.lG2({type:W,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return W})(),vs=(()=>{class W{static#e=this.\u0275fac=function(le){return new(le||W)};static#t=this.\u0275mod=g.oAB({type:W});static#n=this.\u0275inj=g.cJS({})}return W})();const Un=new g.OlP("NgModelWithFormControlWarning"),$i={provide:xn,useExisting:(0,g.Gpc)(()=>zr)};let zr=(()=>{class W extends xn{constructor(L,le,Pe){super(),this.callSetDisabledState=Pe,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new g.vpe,this._setValidators(L),this._setAsyncValidators(le)}ngOnChanges(L){this._checkFormPresent(),L.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Re(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(L){const le=this.form.get(L.path);return ln(le,L,this.callSetDisabledState),le.updateValueAndValidity({emitEvent:!1}),this.directives.push(L),le}getControl(L){return this.form.get(L.path)}removeControl(L){un(L.control||null,L,!1),function _s(W,X){const L=W.indexOf(X);L>-1&&W.splice(L,1)}(this.directives,L)}addFormGroup(L){this._setUpFormContainer(L)}removeFormGroup(L){this._cleanUpFormContainer(L)}getFormGroup(L){return this.form.get(L.path)}addFormArray(L){this._setUpFormContainer(L)}removeFormArray(L){this._cleanUpFormContainer(L)}getFormArray(L){return this.form.get(L.path)}updateModel(L,le){this.form.get(L.path).setValue(le)}onSubmit(L){return this.submitted=!0,qr(this.form,this.directives),this.ngSubmit.emit(L),"dialog"===L?.target?.method}onReset(){this.resetForm()}resetForm(L=void 0){this.form.reset(L),this.submitted=!1}_updateDomValue(){this.directives.forEach(L=>{const le=L.control,Pe=this.form.get(L.path);le!==Pe&&(un(le||null,L),(W=>W instanceof Vr)(Pe)&&(ln(Pe,L,this.callSetDisabledState),L.control=Pe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(L){const le=this.form.get(L.path);nn(le,L),le.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(L){if(this.form){const le=this.form.get(L.path);le&&function Er(W,X){return Re(W,X)}(le,L)&&le.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Fe(this.form,this),this._oldForm&&Re(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(le){return new(le||W)(g.Y36(At,10),g.Y36(Et,10),g.Y36(ke,8))};static#t=this.\u0275dir=g.lG2({type:W,selectors:[["","formGroup",""]],hostBindings:function(le,Pe){1&le&&g.NdJ("submit",function(_r){return Pe.onSubmit(_r)})("reset",function(){return Pe.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([$i]),g.qOj,g.TTD]})}return W})();const Or={provide:Yt,useExisting:(0,g.Gpc)(()=>an)};let an=(()=>{class W extends Yt{set isDisabled(L){}static#e=this._ngModelWarningSentOnce=!1;constructor(L,le,Pe,Sn,_r){super(),this._ngModelWarningConfig=_r,this._added=!1,this.name=null,this.update=new g.vpe,this._ngModelWarningSent=!1,this._parent=L,this._setValidators(le),this._setAsyncValidators(Pe),this.valueAccessor=ir(0,Sn)}ngOnChanges(L){this._added||this._setUpControl(),Si(L,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}get path(){return kt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(le){return new(le||W)(g.Y36(xn,13),g.Y36(At,10),g.Y36(Et,10),g.Y36(Ce,10),g.Y36(Un,8))};static#n=this.\u0275dir=g.lG2({type:W,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[g._Bn([Or]),g.qOj,g.TTD]})}return W})();const Wn={provide:Ce,useExisting:(0,g.Gpc)(()=>Ms),multi:!0};function Cr(W,X){return null==W?`${X}`:(X&&"object"==typeof X&&(X="Object"),`${W}: ${X}`.slice(0,50))}let Ms=(()=>{class W extends Ae{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(L){this._compareWith=L}writeValue(L){this.value=L;const Pe=Cr(this._getOptionId(L),L);this.setProperty("value",Pe)}registerOnChange(L){this.onChange=le=>{this.value=this._getOptionValue(le),L(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(L){for(const le of this._optionMap.keys())if(this._compareWith(this._optionMap.get(le),L))return le;return null}_getOptionValue(L){const le=function Mi(W){return W.split(":")[0]}(L);return this._optionMap.has(le)?this._optionMap.get(le):L}static#e=this.\u0275fac=function(){let L;return function(Pe){return(L||(L=g.n5z(W)))(Pe||W)}}();static#t=this.\u0275dir=g.lG2({type:W,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(le,Pe){1&le&&g.NdJ("change",function(_r){return Pe.onChange(_r.target.value)})("blur",function(){return Pe.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([Wn]),g.qOj]})}return W})(),Qr=(()=>{class W{constructor(L,le,Pe){this._element=L,this._renderer=le,this._select=Pe,this._select&&(this.id=this._select._registerOption())}set ngValue(L){null!=this._select&&(this._select._optionMap.set(this.id,L),this._setElementValue(Cr(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._setElementValue(L),this._select&&this._select.writeValue(this._select.value)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(le){return new(le||W)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(Ms,9))};static#t=this.\u0275dir=g.lG2({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return W})();const fi={provide:Ce,useExisting:(0,g.Gpc)(()=>Qn),multi:!0};function Tr(W,X){return null==W?`${X}`:("string"==typeof X&&(X=`'${X}'`),X&&"object"==typeof X&&(X="Object"),`${W}: ${X}`.slice(0,50))}let Qn=(()=>{class W extends Ae{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(L){this._compareWith=L}writeValue(L){let le;if(this.value=L,Array.isArray(L)){const Pe=L.map(Sn=>this._getOptionId(Sn));le=(Sn,_r)=>{Sn._setSelected(Pe.indexOf(_r.toString())>-1)}}else le=(Pe,Sn)=>{Pe._setSelected(!1)};this._optionMap.forEach(le)}registerOnChange(L){this.onChange=le=>{const Pe=[],Sn=le.selectedOptions;if(void 0!==Sn){const _r=Sn;for(let fs=0;fs<_r.length;fs++){const Ua=this._getOptionValue(_r[fs].value);Pe.push(Ua)}}else{const _r=le.options;for(let fs=0;fs<_r.length;fs++){const pi=_r[fs];if(pi.selected){const Ua=this._getOptionValue(pi.value);Pe.push(Ua)}}}this.value=Pe,L(Pe)}}_registerOption(L){const le=(this._idCounter++).toString();return this._optionMap.set(le,L),le}_getOptionId(L){for(const le of this._optionMap.keys())if(this._compareWith(this._optionMap.get(le)._value,L))return le;return null}_getOptionValue(L){const le=function ts(W){return W.split(":")[0]}(L);return this._optionMap.has(le)?this._optionMap.get(le)._value:L}static#e=this.\u0275fac=function(){let L;return function(Pe){return(L||(L=g.n5z(W)))(Pe||W)}}();static#t=this.\u0275dir=g.lG2({type:W,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(le,Pe){1&le&&g.NdJ("change",function(_r){return Pe.onChange(_r.target)})("blur",function(){return Pe.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([fi]),g.qOj]})}return W})(),ns=(()=>{class W{constructor(L,le,Pe){this._element=L,this._renderer=le,this._select=Pe,this._select&&(this.id=this._select._registerOption(this))}set ngValue(L){null!=this._select&&(this._value=L,this._setElementValue(Tr(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._select?(this._value=L,this._setElementValue(Tr(this.id,L)),this._select.writeValue(this._select.value)):this._setElementValue(L)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}_setSelected(L){this._renderer.setProperty(this._element.nativeElement,"selected",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(le){return new(le||W)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(Qn,9))};static#t=this.\u0275dir=g.lG2({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return W})(),zn=(()=>{class W{constructor(){this._validator=$t}ngOnChanges(L){if(this.inputName in L){const le=this.normalizeInput(L[this.inputName].currentValue);this._enabled=this.enabled(le),this._validator=this._enabled?this.createValidator(le):$t,this._onChange&&this._onChange()}}validate(L){return this._validator(L)}registerOnValidatorChange(L){this._onChange=L}enabled(L){return null!=L}static#e=this.\u0275fac=function(le){return new(le||W)};static#t=this.\u0275dir=g.lG2({type:W,features:[g.TTD]})}return W})();const Va={provide:At,useExisting:(0,g.Gpc)(()=>sr),multi:!0};let sr=(()=>{class W extends zn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=g.VuI,this.createValidator=L=>Ge}enabled(L){return L}static#e=this.\u0275fac=function(){let L;return function(Pe){return(L||(L=g.n5z(W)))(Pe||W)}}();static#t=this.\u0275dir=g.lG2({type:W,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(le,Pe){2&le&&g.uIk("required",Pe._enabled?"":null)},inputs:{required:"required"},features:[g._Bn([Va]),g.qOj]})}return W})(),De=(()=>{class W{static#e=this.\u0275fac=function(le){return new(le||W)};static#t=this.\u0275mod=g.oAB({type:W});static#n=this.\u0275inj=g.cJS({imports:[vs]})}return W})();class qe extends de{constructor(X,L,le){super(oe(L),yt(le,L)),this.controls=X,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(X){return this.controls[this._adjustIndex(X)]}push(X,L={}){this.controls.push(X),this._registerControl(X),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}insert(X,L,le={}){this.controls.splice(X,0,L),this._registerControl(L),this.updateValueAndValidity({emitEvent:le.emitEvent})}removeAt(X,L={}){let le=this._adjustIndex(X);le<0&&(le=0),this.controls[le]&&this.controls[le]._registerOnCollectionChange(()=>{}),this.controls.splice(le,1),this.updateValueAndValidity({emitEvent:L.emitEvent})}setControl(X,L,le={}){let Pe=this._adjustIndex(X);Pe<0&&(Pe=0),this.controls[Pe]&&this.controls[Pe]._registerOnCollectionChange(()=>{}),this.controls.splice(Pe,1),L&&(this.controls.splice(Pe,0,L),this._registerControl(L)),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(X,L={}){Bt(this,0,X),X.forEach((le,Pe)=>{ni(this,!1,Pe),this.at(Pe).setValue(le,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(X,L={}){null!=X&&(X.forEach((le,Pe)=>{this.at(Pe)&&this.at(Pe).patchValue(le,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(X=[],L={}){this._forEachChild((le,Pe)=>{le.reset(X[Pe],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this.controls.map(X=>X.getRawValue())}clear(X={}){this.controls.length<1||(this._forEachChild(L=>L._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:X.emitEvent}))}_adjustIndex(X){return X<0?X+this.length:X}_syncPendingControls(){let X=this.controls.reduce((L,le)=>!!le._syncPendingControls()||L,!1);return X&&this.updateValueAndValidity({onlySelf:!0}),X}_forEachChild(X){this.controls.forEach((L,le)=>{X(L,le)})}_updateValue(){this.value=this.controls.filter(X=>X.enabled||this.disabled).map(X=>X.value)}_anyControls(X){return this.controls.some(L=>L.enabled&&X(L))}_setUpControls(){this._forEachChild(X=>this._registerControl(X))}_allControlsDisabled(){for(const X of this.controls)if(X.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(X){X.setParent(this),X._registerOnCollectionChange(this._onCollectionChange)}_find(X){return this.at(X)??null}}function hn(W){return!!W&&(void 0!==W.asyncValidators||void 0!==W.validators||void 0!==W.updateOn)}let En=(()=>{class W{constructor(){this.useNonNullable=!1}get nonNullable(){const L=new W;return L.useNonNullable=!0,L}group(L,le=null){const Pe=this._reduceControls(L);let Sn={};return hn(le)?Sn=le:null!==le&&(Sn.validators=le.validator,Sn.asyncValidators=le.asyncValidator),new J(Pe,Sn)}record(L,le=null){const Pe=this._reduceControls(L);return new F(Pe,le)}control(L,le,Pe){let Sn={};return this.useNonNullable?(hn(le)?Sn=le:(Sn.validators=le,Sn.asyncValidators=Pe),new Vr(L,{...Sn,nonNullable:!0})):new Vr(L,le,Pe)}array(L,le,Pe){const Sn=L.map(_r=>this._createControl(_r));return new qe(Sn,le,Pe)}_reduceControls(L){const le={};return Object.keys(L).forEach(Pe=>{le[Pe]=this._createControl(L[Pe])}),le}_createControl(L){return L instanceof Vr||L instanceof de?L:Array.isArray(L)?this.control(L[0],L.length>1?L[1]:null,L.length>2?L[2]:null):this.control(L)}static#e=this.\u0275fac=function(le){return new(le||W)};static#t=this.\u0275prov=g.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})(),Ki=(()=>{class W{static withConfig(L){return{ngModule:W,providers:[{provide:ke,useValue:L.callSetDisabledState??bt}]}}static#e=this.\u0275fac=function(le){return new(le||W)};static#t=this.\u0275mod=g.oAB({type:W});static#n=this.\u0275inj=g.cJS({imports:[De]})}return W})(),Ts=(()=>{class W{static withConfig(L){return{ngModule:W,providers:[{provide:Un,useValue:L.warnOnNgModelWithFormControl??"always"},{provide:ke,useValue:L.callSetDisabledState??bt}]}}static#e=this.\u0275fac=function(le){return new(le||W)};static#t=this.\u0275mod=g.oAB({type:W});static#n=this.\u0275inj=g.cJS({imports:[De]})}return W})()},6593:(Qt,Ke,B)=>{B.d(Ke,{Dx:()=>vr,H7:()=>Gr,b2:()=>Mn,q6:()=>_n,se:()=>Je});var g=B(5879),u=B(6814);class H extends u.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ie extends H{static makeCurrent(){(0,u.HT)(new Ie)}onAndCancel(z,j,F){return z.addEventListener(j,F),()=>{z.removeEventListener(j,F)}}dispatchEvent(z,j){z.dispatchEvent(j)}remove(z){z.parentNode&&z.parentNode.removeChild(z)}createElement(z,j){return(j=j||this.getDefaultDocument()).createElement(z)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(z){return z.nodeType===Node.ELEMENT_NODE}isShadowRoot(z){return z instanceof DocumentFragment}getGlobalEventTarget(z,j){return"window"===j?window:"document"===j?z:"body"===j?z.body:null}getBaseHref(z){const j=function Se(){return Ee=Ee||document.querySelector("base"),Ee?Ee.getAttribute("href"):null}();return null==j?null:function Ce(J){Ae=Ae||document.createElement("a"),Ae.setAttribute("href",J);const z=Ae.pathname;return"/"===z.charAt(0)?z:`/${z}`}(j)}resetBaseElement(){Ee=null}getUserAgent(){return window.navigator.userAgent}getCookie(z){return(0,u.Mx)(document.cookie,z)}}let Ae,Ee=null,ne=(()=>{class J{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(F){return new(F||J)};static#t=this.\u0275prov=g.Yz7({token:J,factory:J.\u0275fac})}return J})();const ie=new g.OlP("EventManagerPlugins");let ve=(()=>{class J{constructor(j,F){this._zone=F,this._eventNameToPlugin=new Map,j.forEach(pe=>{pe.manager=this}),this._plugins=j.slice().reverse()}addEventListener(j,F,pe){return this._findPluginFor(F).addEventListener(j,F,pe)}getZone(){return this._zone}_findPluginFor(j){let F=this._eventNameToPlugin.get(j);if(F)return F;if(F=this._plugins.find(ke=>ke.supports(j)),!F)throw new g.vHH(5101,!1);return this._eventNameToPlugin.set(j,F),F}static#e=this.\u0275fac=function(F){return new(F||J)(g.LFG(ie),g.LFG(g.R0b))};static#t=this.\u0275prov=g.Yz7({token:J,factory:J.\u0275fac})}return J})();class it{constructor(z){this._doc=z}}const et="ng-app-id";let Mt=(()=>{class J{constructor(j,F,pe,ke={}){this.doc=j,this.appId=F,this.nonce=pe,this.platformId=ke,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,u.PM)(ke),this.resetHostNodes()}addStyles(j){for(const F of j)1===this.changeUsageCount(F,1)&&this.onStyleAdded(F)}removeStyles(j){for(const F of j)this.changeUsageCount(F,-1)<=0&&this.onStyleRemoved(F)}ngOnDestroy(){const j=this.styleNodesInDOM;j&&(j.forEach(F=>F.remove()),j.clear());for(const F of this.getAllStyles())this.onStyleRemoved(F);this.resetHostNodes()}addHost(j){this.hostNodes.add(j);for(const F of this.getAllStyles())this.addStyleToHost(j,F)}removeHost(j){this.hostNodes.delete(j)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(j){for(const F of this.hostNodes)this.addStyleToHost(F,j)}onStyleRemoved(j){const F=this.styleRef;F.get(j)?.elements?.forEach(pe=>pe.remove()),F.delete(j)}collectServerRenderedStyles(){const j=this.doc.head?.querySelectorAll(`style[${et}="${this.appId}"]`);if(j?.length){const F=new Map;return j.forEach(pe=>{null!=pe.textContent&&F.set(pe.textContent,pe)}),F}return null}changeUsageCount(j,F){const pe=this.styleRef;if(pe.has(j)){const ke=pe.get(j);return ke.usage+=F,ke.usage}return pe.set(j,{usage:F,elements:[]}),F}getStyleElement(j,F){const pe=this.styleNodesInDOM,ke=pe?.get(F);if(ke?.parentNode===j)return pe.delete(F),ke.removeAttribute(et),ke;{const bt=this.doc.createElement("style");return this.nonce&&bt.setAttribute("nonce",this.nonce),bt.textContent=F,this.platformIsServer&&bt.setAttribute(et,this.appId),bt}}addStyleToHost(j,F){const pe=this.getStyleElement(j,F);j.appendChild(pe);const ke=this.styleRef,bt=ke.get(F)?.elements;bt?bt.push(pe):ke.set(F,{elements:[pe],usage:1})}resetHostNodes(){const j=this.hostNodes;j.clear(),j.add(this.doc.head)}static#e=this.\u0275fac=function(F){return new(F||J)(g.LFG(u.K0),g.LFG(g.AFp),g.LFG(g.Ojb,8),g.LFG(g.Lbi))};static#t=this.\u0275prov=g.Yz7({token:J,factory:J.\u0275fac})}return J})();const vt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},At=/%COMP%/g,ct=new g.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Dt(J,z){return z.map(j=>j.replace(At,J))}let Je=(()=>{class J{constructor(j,F,pe,ke,bt,kt,ln,un=null){this.eventManager=j,this.sharedStylesHost=F,this.appId=pe,this.removeStylesOnCompDestroy=ke,this.doc=bt,this.platformId=kt,this.ngZone=ln,this.nonce=un,this.rendererByCompId=new Map,this.platformIsServer=(0,u.PM)(kt),this.defaultRenderer=new me(j,bt,ln,this.platformIsServer)}createRenderer(j,F){if(!j||!F)return this.defaultRenderer;this.platformIsServer&&F.encapsulation===g.ifc.ShadowDom&&(F={...F,encapsulation:g.ifc.Emulated});const pe=this.getOrCreateRenderer(j,F);return pe instanceof Jt?pe.applyToHost(j):pe instanceof Ft&&pe.applyStyles(),pe}getOrCreateRenderer(j,F){const pe=this.rendererByCompId;let ke=pe.get(F.id);if(!ke){const bt=this.doc,kt=this.ngZone,ln=this.eventManager,un=this.sharedStylesHost,dn=this.removeStylesOnCompDestroy,ar=this.platformIsServer;switch(F.encapsulation){case g.ifc.Emulated:ke=new Jt(ln,un,F,this.appId,dn,bt,kt,ar);break;case g.ifc.ShadowDom:return new Tt(ln,un,j,F,bt,kt,this.nonce,ar);default:ke=new Ft(ln,un,F,dn,bt,kt,ar)}pe.set(F.id,ke)}return ke}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(F){return new(F||J)(g.LFG(ve),g.LFG(Mt),g.LFG(g.AFp),g.LFG(ct),g.LFG(u.K0),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(g.Ojb))};static#t=this.\u0275prov=g.Yz7({token:J,factory:J.\u0275fac})}return J})();class me{constructor(z,j,F,pe){this.eventManager=z,this.doc=j,this.ngZone=F,this.platformIsServer=pe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(z,j){return j?this.doc.createElementNS(vt[j]||j,z):this.doc.createElement(z)}createComment(z){return this.doc.createComment(z)}createText(z){return this.doc.createTextNode(z)}appendChild(z,j){(jn(z)?z.content:z).appendChild(j)}insertBefore(z,j,F){z&&(jn(z)?z.content:z).insertBefore(j,F)}removeChild(z,j){z&&z.removeChild(j)}selectRootElement(z,j){let F="string"==typeof z?this.doc.querySelector(z):z;if(!F)throw new g.vHH(-5104,!1);return j||(F.textContent=""),F}parentNode(z){return z.parentNode}nextSibling(z){return z.nextSibling}setAttribute(z,j,F,pe){if(pe){j=pe+":"+j;const ke=vt[pe];ke?z.setAttributeNS(ke,j,F):z.setAttribute(j,F)}else z.setAttribute(j,F)}removeAttribute(z,j,F){if(F){const pe=vt[F];pe?z.removeAttributeNS(pe,j):z.removeAttribute(`${F}:${j}`)}else z.removeAttribute(j)}addClass(z,j){z.classList.add(j)}removeClass(z,j){z.classList.remove(j)}setStyle(z,j,F,pe){pe&(g.JOm.DashCase|g.JOm.Important)?z.style.setProperty(j,F,pe&g.JOm.Important?"important":""):z.style[j]=F}removeStyle(z,j,F){F&g.JOm.DashCase?z.style.removeProperty(j):z.style[j]=""}setProperty(z,j,F){z[j]=F}setValue(z,j){z.nodeValue=j}listen(z,j,F){if("string"==typeof z&&!(z=(0,u.q)().getGlobalEventTarget(this.doc,z)))throw new Error(`Unsupported event target ${z} for event ${j}`);return this.eventManager.addEventListener(z,j,this.decoratePreventDefault(F))}decoratePreventDefault(z){return j=>{if("__ngUnwrap__"===j)return z;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>z(j)):z(j))&&j.preventDefault()}}}function jn(J){return"TEMPLATE"===J.tagName&&void 0!==J.content}class Tt extends me{constructor(z,j,F,pe,ke,bt,kt,ln){super(z,ke,bt,ln),this.sharedStylesHost=j,this.hostEl=F,this.shadowRoot=F.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const un=Dt(pe.id,pe.styles);for(const dn of un){const ar=document.createElement("style");kt&&ar.setAttribute("nonce",kt),ar.textContent=dn,this.shadowRoot.appendChild(ar)}}nodeOrShadowRoot(z){return z===this.hostEl?this.shadowRoot:z}appendChild(z,j){return super.appendChild(this.nodeOrShadowRoot(z),j)}insertBefore(z,j,F){return super.insertBefore(this.nodeOrShadowRoot(z),j,F)}removeChild(z,j){return super.removeChild(this.nodeOrShadowRoot(z),j)}parentNode(z){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(z)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ft extends me{constructor(z,j,F,pe,ke,bt,kt,ln){super(z,ke,bt,kt),this.sharedStylesHost=j,this.removeStylesOnCompDestroy=pe,this.styles=ln?Dt(ln,F.styles):F.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Jt extends Ft{constructor(z,j,F,pe,ke,bt,kt,ln){const un=pe+"-"+F.id;super(z,j,F,ke,bt,kt,ln,un),this.contentAttr=function Ge(J){return"_ngcontent-%COMP%".replace(At,J)}(un),this.hostAttr=function ot(J){return"_nghost-%COMP%".replace(At,J)}(un)}applyToHost(z){this.applyStyles(),this.setAttribute(z,this.hostAttr,"")}createElement(z,j){const F=super.createElement(z,j);return super.setAttribute(F,this.contentAttr,""),F}}let dt=(()=>{class J extends it{constructor(j){super(j)}supports(j){return!0}addEventListener(j,F,pe){return j.addEventListener(F,pe,!1),()=>this.removeEventListener(j,F,pe)}removeEventListener(j,F,pe){return j.removeEventListener(F,pe)}static#e=this.\u0275fac=function(F){return new(F||J)(g.LFG(u.K0))};static#t=this.\u0275prov=g.Yz7({token:J,factory:J.\u0275fac})}return J})();const Ne=["alt","control","meta","shift"],_e={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ue={alt:J=>J.altKey,control:J=>J.ctrlKey,meta:J=>J.metaKey,shift:J=>J.shiftKey};let nt=(()=>{class J extends it{constructor(j){super(j)}supports(j){return null!=J.parseEventName(j)}addEventListener(j,F,pe){const ke=J.parseEventName(F),bt=J.eventCallback(ke.fullKey,pe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,u.q)().onAndCancel(j,ke.domEventName,bt))}static parseEventName(j){const F=j.toLowerCase().split("."),pe=F.shift();if(0===F.length||"keydown"!==pe&&"keyup"!==pe)return null;const ke=J._normalizeKey(F.pop());let bt="",kt=F.indexOf("code");if(kt>-1&&(F.splice(kt,1),bt="code."),Ne.forEach(un=>{const dn=F.indexOf(un);dn>-1&&(F.splice(dn,1),bt+=un+".")}),bt+=ke,0!=F.length||0===ke.length)return null;const ln={};return ln.domEventName=pe,ln.fullKey=bt,ln}static matchEventFullKeyCode(j,F){let pe=_e[j.key]||j.key,ke="";return F.indexOf("code.")>-1&&(pe=j.code,ke="code."),!(null==pe||!pe)&&(pe=pe.toLowerCase()," "===pe?pe="space":"."===pe&&(pe="dot"),Ne.forEach(bt=>{bt!==pe&&(0,Ue[bt])(j)&&(ke+=bt+".")}),ke+=pe,ke===F)}static eventCallback(j,F,pe){return ke=>{J.matchEventFullKeyCode(ke,j)&&pe.runGuarded(()=>F(ke))}}static _normalizeKey(j){return"esc"===j?"escape":j}static#e=this.\u0275fac=function(F){return new(F||J)(g.LFG(u.K0))};static#t=this.\u0275prov=g.Yz7({token:J,factory:J.\u0275fac})}return J})();const _n=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:u.bD},{provide:g.g9A,useValue:function Kt(){Ie.makeCurrent()},multi:!0},{provide:u.K0,useFactory:function gn(){return(0,g.RDi)(document),document},deps:[]}]),xn=new g.OlP(""),Yt=[{provide:g.rWj,useClass:class Ve{addToWindow(z){g.dqk.getAngularTestability=(F,pe=!0)=>{const ke=z.findTestabilityInTree(F,pe);if(null==ke)throw new g.vHH(5103,!1);return ke},g.dqk.getAllAngularTestabilities=()=>z.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>z.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(F=>{const pe=g.dqk.getAllAngularTestabilities();let ke=pe.length,bt=!1;const kt=function(ln){bt=bt||ln,ke--,0==ke&&F(bt)};pe.forEach(ln=>{ln.whenStable(kt)})})}findTestabilityInTree(z,j,F){return null==j?null:z.getTestability(j)??(F?(0,u.q)().isShadowRoot(j)?this.findTestabilityInTree(z,j.host,!0):this.findTestabilityInTree(z,j.parentElement,!0):null)}},deps:[]},{provide:g.lri,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]}],mn=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function qt(){return new g.qLn},deps:[]},{provide:ie,useClass:dt,multi:!0,deps:[u.K0,g.R0b,g.Lbi]},{provide:ie,useClass:nt,multi:!0,deps:[u.K0]},Je,Mt,ve,{provide:g.FYo,useExisting:Je},{provide:u.JF,useClass:ne,deps:[]},[]];let Mn=(()=>{class J{constructor(j){}static withServerTransition(j){return{ngModule:J,providers:[{provide:g.AFp,useValue:j.appId}]}}static#e=this.\u0275fac=function(F){return new(F||J)(g.LFG(xn,12))};static#t=this.\u0275mod=g.oAB({type:J});static#n=this.\u0275inj=g.cJS({providers:[...mn,...Yt],imports:[u.ez,g.hGG]})}return J})(),vr=(()=>{class J{constructor(j){this._doc=j}getTitle(){return this._doc.title}setTitle(j){this._doc.title=j||""}static#e=this.\u0275fac=function(F){return new(F||J)(g.LFG(u.K0))};static#t=this.\u0275prov=g.Yz7({token:J,factory:function(F){let pe=null;return pe=F?new F:function On(){return new vr((0,g.LFG)(u.K0))}(),pe},providedIn:"root"})}return J})();typeof window<"u"&&window;let Gr=(()=>{class J{static#e=this.\u0275fac=function(F){return new(F||J)};static#t=this.\u0275prov=g.Yz7({token:J,factory:function(F){let pe=null;return pe=F?new(F||J):g.LFG(It),pe},providedIn:"root"})}return J})(),It=(()=>{class J extends Gr{constructor(j){super(),this._doc=j}sanitize(j,F){if(null==F)return null;switch(j){case g.q3G.NONE:return F;case g.q3G.HTML:return(0,g.qzn)(F,"HTML")?(0,g.z3N)(F):(0,g.EiD)(this._doc,String(F)).toString();case g.q3G.STYLE:return(0,g.qzn)(F,"Style")?(0,g.z3N)(F):F;case g.q3G.SCRIPT:if((0,g.qzn)(F,"Script"))return(0,g.z3N)(F);throw new g.vHH(5200,!1);case g.q3G.URL:return(0,g.qzn)(F,"URL")?(0,g.z3N)(F):(0,g.mCW)(String(F));case g.q3G.RESOURCE_URL:if((0,g.qzn)(F,"ResourceURL"))return(0,g.z3N)(F);throw new g.vHH(5201,!1);default:throw new g.vHH(5202,!1)}}bypassSecurityTrustHtml(j){return(0,g.JVY)(j)}bypassSecurityTrustStyle(j){return(0,g.L6k)(j)}bypassSecurityTrustScript(j){return(0,g.eBb)(j)}bypassSecurityTrustUrl(j){return(0,g.LAX)(j)}bypassSecurityTrustResourceUrl(j){return(0,g.pB0)(j)}static#e=this.\u0275fac=function(F){return new(F||J)(g.LFG(u.K0))};static#t=this.\u0275prov=g.Yz7({token:J,factory:function(F){let pe=null;return pe=F?new F:function Ze(J){return new It(J.get(u.K0))}(g.LFG(g.zs3)),pe},providedIn:"root"})}return J})()},3914:(Qt,Ke,B)=>{B.d(Ke,{gz:()=>es,F0:()=>no,rH:()=>zo,Bz:()=>dc,lC:()=>Mi});var g=B(5879),u=B(5592),H=B(4674),Ee=B(2459),Se=B(2096),Ae=B(5619),Ce=B(2572),Ve=B(6973),ne=B(5211),ie=B(4829);function ve(S){return new u.y(O=>{(0,ie.Xf)(S()).subscribe(O)})}var it=B(8407),et=B(8504),Mt=B(6232),vt=B(7394),At=B(9360),Et=B(8251);function on(){return(0,At.e)((S,O)=>{let w=null;S._refCount++;const N=(0,Et.x)(O,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(w=null);const q=S._connection,ce=w;w=null,q&&(!ce||q===ce)&&q.unsubscribe(),O.unsubscribe()});S.subscribe(N),N.closed||(w=S.connect())})}class Qe extends u.y{constructor(O,w){super(),this.source=O,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,At.A)(O)&&(this.lift=O.lift)}_subscribe(O){return this.getSubject().subscribe(O)}getSubject(){const O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:O}=this;this._subject=this._connection=null,O?.unsubscribe()}connect(){let O=this._connection;if(!O){O=this._connection=new vt.w0;const w=this.getSubject();O.add(this.source.subscribe((0,Et.x)(w,void 0,()=>{this._teardown(),w.complete()},N=>{this._teardown(),w.error(N)},()=>this._teardown()))),O.closed&&(this._connection=null,O=vt.w0.EMPTY)}return O}refCount(){return on()(this)}}var ze=B(8645),ct=B(6814),Ge=B(7398),ot=B(4664),Dt=B(8180),Je=B(7921),me=B(2181),Ct=B(1631),$t=B(1374),jn=B(6328),Tt=B(9397),Ft=B(6306),Jt=B(6699),dt=B(3572);function Ne(S){return S<=0?()=>Mt.E:(0,At.e)((O,w)=>{let N=[];O.subscribe((0,Et.x)(w,q=>{N.push(q),S<N.length&&N.shift()},()=>{for(const q of N)w.next(q);w.complete()},void 0,()=>{N=null}))})}var _e=B(3026),Ue=B(2737),_t=B(4716),wt=B(9773),Xt=B(7537),Kt=B(6593);const qt="primary",gn=Symbol("RouteTitle");class Zn{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w[0]:w}return null}getAll(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function _n(S){return new Zn(S)}function xn(S,O,w){const N=w.path.split("/");if(N.length>S.length||"full"===w.pathMatch&&(O.hasChildren()||N.length<S.length))return null;const q={};for(let ce=0;ce<N.length;ce++){const Te=N[ce],ft=S[ce];if(Te.startsWith(":"))q[Te.substring(1)]=ft;else if(Te!==ft.path)return null}return{consumed:S.slice(0,N.length),posParams:q}}function mn(S,O){const w=S?Object.keys(S):void 0,N=O?Object.keys(O):void 0;if(!w||!N||w.length!=N.length)return!1;let q;for(let ce=0;ce<w.length;ce++)if(q=w[ce],!Mn(S[q],O[q]))return!1;return!0}function Mn(S,O){if(Array.isArray(S)&&Array.isArray(O)){if(S.length!==O.length)return!1;const w=[...S].sort(),N=[...O].sort();return w.every((q,ce)=>N[ce]===q)}return S===O}function kn(S){return S.length>0?S[S.length-1]:null}function en(S){return function Ie(S){return!!S&&(S instanceof u.y||(0,H.m)(S.lift)&&(0,H.m)(S.subscribe))}(S)?S:(0,g.QGY)(S)?(0,Ee.D)(Promise.resolve(S)):(0,Se.of)(S)}const ci={exact:function Ut(S,O,w){if(!li(S.segments,O.segments)||!Br(S.segments,O.segments,w)||S.numberOfChildren!==O.numberOfChildren)return!1;for(const N in O.children)if(!S.children[N]||!Ut(S.children[N],O.children[N],w))return!1;return!0},subset:Vn},On={exact:function Kn(S,O){return mn(S,O)},subset:function bn(S,O){return Object.keys(O).length<=Object.keys(S).length&&Object.keys(O).every(w=>Mn(S[w],O[w]))},ignored:()=>!0};function vr(S,O,w){return ci[w.paths](S.root,O.root,w.matrixParams)&&On[w.queryParams](S.queryParams,O.queryParams)&&!("exact"===w.fragment&&S.fragment!==O.fragment)}function Vn(S,O,w){return Rn(S,O,O.segments,w)}function Rn(S,O,w,N){if(S.segments.length>w.length){const q=S.segments.slice(0,w.length);return!(!li(q,w)||O.hasChildren()||!Br(q,w,N))}if(S.segments.length===w.length){if(!li(S.segments,w)||!Br(S.segments,w,N))return!1;for(const q in O.children)if(!S.children[q]||!Vn(S.children[q],O.children[q],N))return!1;return!0}{const q=w.slice(0,S.segments.length),ce=w.slice(S.segments.length);return!!(li(S.segments,q)&&Br(S.segments,q,N)&&S.children[qt])&&Rn(S.children[qt],O,ce,N)}}function Br(S,O,w){return O.every((N,q)=>On[w](S[q].parameters,N.parameters))}class Rr{constructor(O=new Yn([],{}),w={},N=null){this.root=O,this.queryParams=w,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_n(this.queryParams)),this._queryParamMap}toString(){return Ar.serialize(this)}}class Yn{constructor(O,w){this.segments=O,this.children=w,this.parent=null,Object.values(w).forEach(N=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gr(this)}}class Hn{constructor(O,w){this.path=O,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=_n(this.parameters)),this._parameterMap}toString(){return Fn(this)}}function li(S,O){return S.length===O.length&&S.every((w,N)=>w.path===O[N].path)}let ui=(()=>{class S{static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:function(){return new er},providedIn:"root"})}return S})();class er{parse(O){const w=new kt(O);return new Rr(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(O){const w=`/${Gr(O.root,!0)}`,N=function Bt(S){const O=Object.keys(S).map(w=>{const N=S[w];return Array.isArray(N)?N.map(q=>`${It(w)}=${It(q)}`).join("&"):`${It(w)}=${It(N)}`}).filter(w=>!!w);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${w}${N}${"string"==typeof O.fragment?`#${function oe(S){return encodeURI(S)}(O.fragment)}`:""}`}}const Ar=new er;function gr(S){return S.segments.map(O=>Fn(O)).join("/")}function Gr(S,O){if(!S.hasChildren())return gr(S);if(O){const w=S.children[qt]?Gr(S.children[qt],!1):"",N=[];return Object.entries(S.children).forEach(([q,ce])=>{q!==qt&&N.push(`${q}:${Gr(ce,!1)}`)}),N.length>0?`${w}(${N.join("//")})`:w}{const w=function cn(S,O){let w=[];return Object.entries(S.children).forEach(([N,q])=>{N===qt&&(w=w.concat(O(q,N)))}),Object.entries(S.children).forEach(([N,q])=>{N!==qt&&(w=w.concat(O(q,N)))}),w}(S,(N,q)=>q===qt?[Gr(S.children[qt],!1)]:[`${q}:${Gr(N,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[qt]?`${gr(S)}/${w[0]}`:`${gr(S)}/(${w.join("//")})`}}function Ze(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function It(S){return Ze(S).replace(/%3B/gi,";")}function Me(S){return Ze(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yt(S){return decodeURIComponent(S)}function zt(S){return yt(S.replace(/\+/g,"%20"))}function Fn(S){return`${Me(S.path)}${function ni(S){return Object.keys(S).map(O=>`;${Me(O)}=${Me(S[O])}`).join("")}(S.parameters)}`}const de=/^[^\/()?;#]+/;function J(S){const O=S.match(de);return O?O[0]:""}const z=/^[^\/()?;=#]+/,F=/^[^=?&#]+/,ke=/^[^&#]+/;class kt{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yn([],{}):new Yn([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(O.length>0||Object.keys(w).length>0)&&(N[qt]=new Yn(O,w)),N}parseSegment(){const O=J(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new g.vHH(4009,!1);return this.capture(O),new Hn(yt(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const w=function j(S){const O=S.match(z);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const q=J(this.remaining);q&&(N=q,this.capture(N))}O[yt(w)]=yt(N)}parseQueryParam(O){const w=function pe(S){const O=S.match(F);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const Te=function bt(S){const O=S.match(ke);return O?O[0]:""}(this.remaining);Te&&(N=Te,this.capture(N))}const q=zt(w),ce=zt(N);if(O.hasOwnProperty(q)){let Te=O[q];Array.isArray(Te)||(Te=[Te],O[q]=Te),Te.push(ce)}else O[q]=ce}parseParens(O){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=J(this.remaining),q=this.remaining[N.length];if("/"!==q&&")"!==q&&";"!==q)throw new g.vHH(4010,!1);let ce;N.indexOf(":")>-1?(ce=N.slice(0,N.indexOf(":")),this.capture(ce),this.capture(":")):O&&(ce=qt);const Te=this.parseChildren();w[ce]=1===Object.keys(Te).length?Te[qt]:new Yn([],Te),this.consumeOptional("//")}return w}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new g.vHH(4011,!1)}}function ln(S){return S.segments.length>0?new Yn([],{[qt]:S}):S}function un(S){const O={};for(const N of Object.keys(S.children)){const ce=un(S.children[N]);if(N===qt&&0===ce.segments.length&&ce.hasChildren())for(const[Te,ft]of Object.entries(ce.children))O[Te]=ft;else(ce.segments.length>0||ce.hasChildren())&&(O[N]=ce)}return function dn(S){if(1===S.numberOfChildren&&S.children[qt]){const O=S.children[qt];return new Yn(S.segments.concat(O.segments),O.children)}return S}(new Yn(S.segments,O))}function ar(S){return S instanceof Rr}function Re(S){let O;const q=ln(function w(ce){const Te={};for(const pt of ce.children){const Tn=w(pt);Te[pt.outlet]=Tn}const ft=new Yn(ce.url,Te);return ce===S&&(O=ft),ft}(S.root));return O??q}function Be(S,O,w,N){let q=S;for(;q.parent;)q=q.parent;if(0===O.length)return pn(q,q,q,w,N);const ce=function fn(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new Er(!0,0,S);let O=0,w=!1;const N=S.reduce((q,ce,Te)=>{if("object"==typeof ce&&null!=ce){if(ce.outlets){const ft={};return Object.entries(ce.outlets).forEach(([pt,Tn])=>{ft[pt]="string"==typeof Tn?Tn.split("/"):Tn}),[...q,{outlets:ft}]}if(ce.segmentPath)return[...q,ce.segmentPath]}return"string"!=typeof ce?[...q,ce]:0===Te?(ce.split("/").forEach((ft,pt)=>{0==pt&&"."===ft||(0==pt&&""===ft?w=!0:".."===ft?O++:""!=ft&&q.push(ft))}),q):[...q,ce]},[]);return new Er(w,O,N)}(O);if(ce.toRoot())return pn(q,q,new Yn([],{}),w,N);const Te=function as(S,O,w){if(S.isAbsolute)return new ri(O,!0,0);if(!w)return new ri(O,!1,NaN);if(null===w.parent)return new ri(w,!0,0);const N=xt(S.commands[0])?0:1;return function Ui(S,O,w){let N=S,q=O,ce=w;for(;ce>q;){if(ce-=q,N=N.parent,!N)throw new g.vHH(4005,!1);q=N.segments.length}return new ri(N,!1,q-ce)}(w,w.segments.length-1+N,S.numberOfDoubleDots)}(ce,q,S),ft=Te.processChildren?Sr(Te.segmentGroup,Te.index,ce.commands):Si(Te.segmentGroup,Te.index,ce.commands);return pn(q,Te.segmentGroup,ft,w,N)}function xt(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function Wt(S){return"object"==typeof S&&null!=S&&S.outlets}function pn(S,O,w,N,q){let Te,ce={};N&&Object.entries(N).forEach(([pt,Tn])=>{ce[pt]=Array.isArray(Tn)?Tn.map(Dr=>`${Dr}`):`${Tn}`}),Te=S===O?w:nn(S,O,w);const ft=ln(un(Te));return new Rr(ft,ce,q)}function nn(S,O,w){const N={};return Object.entries(S.children).forEach(([q,ce])=>{N[q]=ce===O?w:nn(ce,O,w)}),new Yn(S.segments,N)}class Er{constructor(O,w,N){if(this.isAbsolute=O,this.numberOfDoubleDots=w,this.commands=N,O&&N.length>0&&xt(N[0]))throw new g.vHH(4003,!1);const q=N.find(Wt);if(q&&q!==kn(N))throw new g.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ri{constructor(O,w,N){this.segmentGroup=O,this.processChildren=w,this.index=N}}function Si(S,O,w){if(S||(S=new Yn([],{})),0===S.segments.length&&S.hasChildren())return Sr(S,O,w);const N=function qr(S,O,w){let N=0,q=O;const ce={match:!1,pathIndex:0,commandIndex:0};for(;q<S.segments.length;){if(N>=w.length)return ce;const Te=S.segments[q],ft=w[N];if(Wt(ft))break;const pt=`${ft}`,Tn=N<w.length-1?w[N+1]:null;if(q>0&&void 0===pt)break;if(pt&&Tn&&"object"==typeof Tn&&void 0===Tn.outlets){if(!Ii(pt,Tn,Te))return ce;N+=2}else{if(!Ii(pt,{},Te))return ce;N++}q++}return{match:!0,pathIndex:q,commandIndex:N}}(S,O,w),q=w.slice(N.commandIndex);if(N.match&&N.pathIndex<S.segments.length){const ce=new Yn(S.segments.slice(0,N.pathIndex),{});return ce.children[qt]=new Yn(S.segments.slice(N.pathIndex),S.children),Sr(ce,0,q)}return N.match&&0===q.length?new Yn(S.segments,{}):N.match&&!S.hasChildren()?ir(S,O,w):N.match?Sr(S,0,q):ir(S,O,w)}function Sr(S,O,w){if(0===w.length)return new Yn(S.segments,{});{const N=function cs(S){return Wt(S[0])?S[0].outlets:{[qt]:S}}(w),q={};if(Object.keys(N).some(ce=>ce!==qt)&&S.children[qt]&&1===S.numberOfChildren&&0===S.children[qt].segments.length){const ce=Sr(S.children[qt],O,w);return new Yn(S.segments,ce.children)}return Object.entries(N).forEach(([ce,Te])=>{"string"==typeof Te&&(Te=[Te]),null!==Te&&(q[ce]=Si(S.children[ce],O,Te))}),Object.entries(S.children).forEach(([ce,Te])=>{void 0===N[ce]&&(q[ce]=Te)}),new Yn(S.segments,q)}}function ir(S,O,w){const N=S.segments.slice(0,O);let q=0;for(;q<w.length;){const ce=w[q];if(Wt(ce)){const pt=_s(ce.outlets);return new Yn(N,pt)}if(0===q&&xt(w[0])){N.push(new Hn(S.segments[O].path,Xs(w[0]))),q++;continue}const Te=Wt(ce)?ce.outlets[qt]:`${ce}`,ft=q<w.length-1?w[q+1]:null;Te&&ft&&xt(ft)?(N.push(new Hn(Te,Xs(ft))),q+=2):(N.push(new Hn(Te,{})),q++)}return new Yn(N,{})}function _s(S){const O={};return Object.entries(S).forEach(([w,N])=>{"string"==typeof N&&(N=[N]),null!==N&&(O[w]=ir(new Yn([],{}),0,N))}),O}function Xs(S){const O={};return Object.entries(S).forEach(([w,N])=>O[w]=`${N}`),O}function Ii(S,O,w){return S==w.path&&mn(O,w.parameters)}const lr="imperative";class bi{constructor(O,w){this.id=O,this.url=w}}class ls extends bi{constructor(O,w,N="imperative",q=null){super(O,w),this.type=0,this.navigationTrigger=N,this.restoredState=q}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Zi extends bi{constructor(O,w,N){super(O,w),this.urlAfterRedirects=N,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vr extends bi{constructor(O,w,N,q){super(O,w),this.reason=N,this.code=q,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Hs extends bi{constructor(O,w,N,q){super(O,w),this.reason=N,this.code=q,this.type=16}}class us extends bi{constructor(O,w,N,q){super(O,w),this.error=N,this.target=q,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Bi extends bi{constructor(O,w,N,q){super(O,w),this.urlAfterRedirects=N,this.state=q,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fa extends bi{constructor(O,w,N,q){super(O,w),this.urlAfterRedirects=N,this.state=q,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kr extends bi{constructor(O,w,N,q,ce){super(O,w),this.urlAfterRedirects=N,this.state=q,this.shouldActivate=ce,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class La extends bi{constructor(O,w,N,q){super(O,w),this.urlAfterRedirects=N,this.state=q,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oi extends bi{constructor(O,w,N,q){super(O,w),this.urlAfterRedirects=N,this.state=q,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jr{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ia{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vs{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ni{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xi{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class So{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class di{constructor(O,w,N){this.routerEvent=O,this.position=w,this.anchor=N,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Mo{}class ys{constructor(O){this.url=O}}class vs{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ss,this.attachRef=null}}let Ss=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(w,N){const q=this.getOrCreateContext(w);q.outlet=N,this.contexts.set(w,q)}onChildOutletDestroyed(w){const N=this.getContext(w);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let N=this.getContext(w);return N||(N=new vs,this.contexts.set(w,N)),N}getContext(w){return this.contexts.get(w)||null}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();class co{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const w=this.pathFromRoot(O);return w.length>1?w[w.length-2]:null}children(O){const w=ji(O,this._root);return w?w.children.map(N=>N.value):[]}firstChild(O){const w=ji(O,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(O){const w=Po(O,this._root);return w.length<2?[]:w[w.length-2].children.map(q=>q.value).filter(q=>q!==O)}pathFromRoot(O){return Po(O,this._root).map(w=>w.value)}}function ji(S,O){if(S===O.value)return O;for(const w of O.children){const N=ji(S,w);if(N)return N}return null}function Po(S,O){if(S===O.value)return[O];for(const w of O.children){const N=Po(S,w);if(N.length)return N.unshift(O),N}return[]}class Un{constructor(O,w){this.value=O,this.children=w}toString(){return`TreeNode(${this.value})`}}function $r(S){const O={};return S&&S.children.forEach(w=>O[w.value.outlet]=w),O}class Yr extends co{constructor(O,w){super(O),this.snapshot=w,Or(this,O)}toString(){return this.snapshot.toString()}}function $i(S,O){const w=function zr(S,O){const Te=new zi([],{},{},"",{},qt,O,null,{});return new Es("",new Un(Te,[]))}(0,O),N=new Ae.X([new Hn("",{})]),q=new Ae.X({}),ce=new Ae.X({}),Te=new Ae.X({}),ft=new Ae.X(""),pt=new es(N,q,Te,ft,ce,qt,O,w.root);return pt.snapshot=w.root,new Yr(new Un(pt,[]),w)}class es{constructor(O,w,N,q,ce,Te,ft,pt){this.urlSubject=O,this.paramsSubject=w,this.queryParamsSubject=N,this.fragmentSubject=q,this.dataSubject=ce,this.outlet=Te,this.component=ft,this._futureSnapshot=pt,this.title=this.dataSubject?.pipe((0,Ge.U)(Tn=>Tn[gn]))??(0,Se.of)(void 0),this.url=O,this.params=w,this.queryParams=N,this.fragment=q,this.data=ce}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ge.U)(O=>_n(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ge.U)(O=>_n(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Li(S,O="emptyOnly"){const w=S.pathFromRoot;let N=0;if("always"!==O)for(N=w.length-1;N>=1;){const q=w[N],ce=w[N-1];if(q.routeConfig&&""===q.routeConfig.path)N--;else{if(ce.component)break;N--}}return function Ro(S){return S.reduce((O,w)=>({params:{...O.params,...w.params},data:{...O.data,...w.data},resolve:{...w.data,...O.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(N))}class zi{get title(){return this.data?.[gn]}constructor(O,w,N,q,ce,Te,ft,pt,Tn){this.url=O,this.params=w,this.queryParams=N,this.fragment=q,this.data=ce,this.outlet=Te,this.component=ft,this.routeConfig=pt,this._resolve=Tn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_n(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_n(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Es extends co{constructor(O,w){super(w),this.url=O,Or(this,w)}toString(){return an(this._root)}}function Or(S,O){O.value._routerState=S,O.children.forEach(w=>Or(S,w))}function an(S){const O=S.children.length>0?` { ${S.children.map(an).join(", ")} } `:"";return`${S.value}${O}`}function Wn(S){if(S.snapshot){const O=S.snapshot,w=S._futureSnapshot;S.snapshot=w,mn(O.queryParams,w.queryParams)||S.queryParamsSubject.next(w.queryParams),O.fragment!==w.fragment&&S.fragmentSubject.next(w.fragment),mn(O.params,w.params)||S.paramsSubject.next(w.params),function Yt(S,O){if(S.length!==O.length)return!1;for(let w=0;w<S.length;++w)if(!mn(S[w],O[w]))return!1;return!0}(O.url,w.url)||S.urlSubject.next(w.url),mn(O.data,w.data)||S.dataSubject.next(w.data)}else S.snapshot=S._futureSnapshot,S.dataSubject.next(S._futureSnapshot.data)}function Cr(S,O){const w=mn(S.params,O.params)&&function xr(S,O){return li(S,O)&&S.every((w,N)=>mn(w.parameters,O[N].parameters))}(S.url,O.url);return w&&!(!S.parent!=!O.parent)&&(!S.parent||Cr(S.parent,O.parent))}let Mi=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=qt,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.parentContexts=(0,g.f3M)(Ss),this.location=(0,g.f3M)(g.s_b),this.changeDetector=(0,g.f3M)(g.sBO),this.environmentInjector=(0,g.f3M)(g.lqb),this.inputBinder=(0,g.f3M)(Qr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:N,previousValue:q}=w.name;if(N)return;this.isTrackedInParentContexts(q)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(q)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new g.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new g.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new g.vHH(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,N){this.activated=w,this._activatedRoute=N,this.location.insert(w.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,N){if(this.isActivated)throw new g.vHH(4013,!1);this._activatedRoute=w;const q=this.location,Te=w.snapshot.component,ft=this.parentContexts.getOrCreateContext(this.name).children,pt=new Ms(w,ft,q.injector);this.activated=q.createComponent(Te,{index:q.length,injector:pt,environmentInjector:N??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275dir=g.lG2({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[g.TTD]})}return S})();class Ms{constructor(O,w,N){this.route=O,this.childContexts=w,this.parent=N}get(O,w){return O===es?this.route:O===Ss?this.childContexts:this.parent.get(O,w)}}const Qr=new g.OlP("");let fi=(()=>{class S{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){this.outletDataSubscriptions.get(w)?.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:N}=w,q=(0,Ce.a)([N.queryParams,N.params,N.data]).pipe((0,ot.w)(([ce,Te,ft],pt)=>(ft={...ce,...Te,...ft},0===pt?(0,Se.of)(ft):Promise.resolve(ft)))).subscribe(ce=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(w);const Te=(0,g.qFp)(N.component);if(Te)for(const{templateName:ft}of Te.inputs)w.activatedComponentRef.setInput(ft,ce[ft]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,q)}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac})}return S})();function ts(S,O,w){if(w&&S.shouldReuseRoute(O.value,w.value.snapshot)){const N=w.value;N._futureSnapshot=O.value;const q=function Ps(S,O,w){return O.children.map(N=>{for(const q of w.children)if(S.shouldReuseRoute(N.value,q.value.snapshot))return ts(S,N,q);return ts(S,N)})}(S,O,w);return new Un(N,q)}{if(S.shouldAttach(O.value)){const ce=S.retrieve(O.value);if(null!==ce){const Te=ce.route;return Te.value._futureSnapshot=O.value,Te.children=O.children.map(ft=>ts(S,ft)),Te}}const N=function Qn(S){return new es(new Ae.X(S.url),new Ae.X(S.params),new Ae.X(S.queryParams),new Ae.X(S.fragment),new Ae.X(S.data),S.outlet,S.component,S)}(O.value),q=O.children.map(ce=>ts(S,ce));return new Un(N,q)}}const ns="ngNavigationCancelingError";function pr(S,O){const{redirectTo:w,navigationBehaviorOptions:N}=ar(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,q=Pi(!1,0,O);return q.url=w,q.navigationBehaviorOptions=N,q}function Pi(S,O,w){const N=new Error("NavigationCancelingError: "+(S||""));return N[ns]=!0,N.cancellationCode=O,w&&(N.url=w),N}function ds(S){return S&&S[ns]}let Ri=(()=>{class S{static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275cmp=g.Xpm({type:S,selectors:[["ng-component"]],standalone:!0,features:[g.jDz],decls:1,vars:0,template:function(N,q){1&N&&g._UZ(0,"router-outlet")},dependencies:[Mi],encapsulation:2})}return S})();function rs(S){const O=S.children&&S.children.map(rs),w=O?{...S,children:O}:{...S};return!w.component&&!w.loadComponent&&(O||w.loadChildren)&&w.outlet&&w.outlet!==qt&&(w.component=Ri),w}function Hi(S){return S.outlet||qt}function xs(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let O=S.parent;O;O=O.parent){const w=O.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class ii{constructor(O,w,N,q,ce){this.routeReuseStrategy=O,this.futureState=w,this.currState=N,this.forwardEvent=q,this.inputBindingEnabled=ce}activate(O){const w=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,N,O),Wn(this.futureState.root),this.activateChildRoutes(w,N,O)}deactivateChildRoutes(O,w,N){const q=$r(w);O.children.forEach(ce=>{const Te=ce.value.outlet;this.deactivateRoutes(ce,q[Te],N),delete q[Te]}),Object.values(q).forEach(ce=>{this.deactivateRouteAndItsChildren(ce,N)})}deactivateRoutes(O,w,N){const q=O.value,ce=w?w.value:null;if(q===ce)if(q.component){const Te=N.getContext(q.outlet);Te&&this.deactivateChildRoutes(O,w,Te.children)}else this.deactivateChildRoutes(O,w,N);else ce&&this.deactivateRouteAndItsChildren(w,N)}deactivateRouteAndItsChildren(O,w){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,w):this.deactivateRouteAndOutlet(O,w)}detachAndStoreRouteSubtree(O,w){const N=w.getContext(O.value.outlet),q=N&&O.value.component?N.children:w,ce=$r(O);for(const Te of Object.keys(ce))this.deactivateRouteAndItsChildren(ce[Te],q);if(N&&N.outlet){const Te=N.outlet.detach(),ft=N.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:Te,route:O,contexts:ft})}}deactivateRouteAndOutlet(O,w){const N=w.getContext(O.value.outlet),q=N&&O.value.component?N.children:w,ce=$r(O);for(const Te of Object.keys(ce))this.deactivateRouteAndItsChildren(ce[Te],q);N&&(N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated()),N.attachRef=null,N.route=null)}activateChildRoutes(O,w,N){const q=$r(w);O.children.forEach(ce=>{this.activateRoutes(ce,q[ce.value.outlet],N),this.forwardEvent(new So(ce.value.snapshot))}),O.children.length&&this.forwardEvent(new Ni(O.value.snapshot))}activateRoutes(O,w,N){const q=O.value,ce=w?w.value:null;if(Wn(q),q===ce)if(q.component){const Te=N.getOrCreateContext(q.outlet);this.activateChildRoutes(O,w,Te.children)}else this.activateChildRoutes(O,w,N);else if(q.component){const Te=N.getOrCreateContext(q.outlet);if(this.routeReuseStrategy.shouldAttach(q.snapshot)){const ft=this.routeReuseStrategy.retrieve(q.snapshot);this.routeReuseStrategy.store(q.snapshot,null),Te.children.onOutletReAttached(ft.contexts),Te.attachRef=ft.componentRef,Te.route=ft.route.value,Te.outlet&&Te.outlet.attach(ft.componentRef,ft.route.value),Wn(ft.route.value),this.activateChildRoutes(O,null,Te.children)}else{const ft=xs(q.snapshot);Te.attachRef=null,Te.route=q,Te.injector=ft,Te.outlet&&Te.outlet.activateWith(q,Te.injector),this.activateChildRoutes(O,null,Te.children)}}else this.activateChildRoutes(O,null,N)}}class fe{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class De{constructor(O,w){this.component=O,this.route=w}}function qe(S,O,w){const N=S._root;return hn(N,O?O._root:null,w,[N.value])}function Ht(S,O){const w=Symbol(),N=O.get(S,w);return N===w?"function"!=typeof S||(0,g.Z0I)(S)?O.get(S):S:N}function hn(S,O,w,N,q={canDeactivateChecks:[],canActivateChecks:[]}){const ce=$r(O);return S.children.forEach(Te=>{(function En(S,O,w,N,q={canDeactivateChecks:[],canActivateChecks:[]}){const ce=S.value,Te=O?O.value:null,ft=w?w.getContext(S.value.outlet):null;if(Te&&ce.routeConfig===Te.routeConfig){const pt=function nr(S,O,w){if("function"==typeof w)return w(S,O);switch(w){case"pathParamsChange":return!li(S.url,O.url);case"pathParamsOrQueryParamsChange":return!li(S.url,O.url)||!mn(S.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cr(S,O)||!mn(S.queryParams,O.queryParams);default:return!Cr(S,O)}}(Te,ce,ce.routeConfig.runGuardsAndResolvers);pt?q.canActivateChecks.push(new fe(N)):(ce.data=Te.data,ce._resolvedData=Te._resolvedData),hn(S,O,ce.component?ft?ft.children:null:w,N,q),pt&&ft&&ft.outlet&&ft.outlet.isActivated&&q.canDeactivateChecks.push(new De(ft.outlet.component,Te))}else Te&&Bn(O,ft,q),q.canActivateChecks.push(new fe(N)),hn(S,null,ce.component?ft?ft.children:null:w,N,q)})(Te,ce[Te.value.outlet],w,N.concat([Te.value]),q),delete ce[Te.value.outlet]}),Object.entries(ce).forEach(([Te,ft])=>Bn(ft,w.getContext(Te),q)),q}function Bn(S,O,w){const N=$r(S),q=S.value;Object.entries(N).forEach(([ce,Te])=>{Bn(Te,q.component?O?O.children.getContext(ce):null:O,w)}),w.canDeactivateChecks.push(new De(q.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,q))}function ur(S){return"function"==typeof S}function _r(S){return S instanceof Ve.K||"EmptyError"===S?.name}const fs=Symbol("INITIAL_VALUE");function pi(){return(0,ot.w)(S=>(0,Ce.a)(S.map(O=>O.pipe((0,Dt.q)(1),(0,Je.O)(fs)))).pipe((0,Ge.U)(O=>{for(const w of O)if(!0!==w){if(w===fs)return fs;if(!1===w||w instanceof Rr)return w}return!0}),(0,me.h)(O=>O!==fs),(0,Dt.q)(1)))}function eo(S){return(0,it.z)((0,Tt.b)(O=>{if(ar(O))throw pr(0,O)}),(0,Ge.U)(O=>!0===O))}class ps{constructor(O){this.segmentGroup=O||null}}class ad{constructor(O){this.urlTree=O}}function Nr(S){return(0,et._)(new ps(S))}function Ea(S){return(0,et._)(new ad(S))}class to{constructor(O,w){this.urlSerializer=O,this.urlTree=w}noMatchError(O){return new g.vHH(4002,!1)}lineralizeSegments(O,w){let N=[],q=w.root;for(;;){if(N=N.concat(q.segments),0===q.numberOfChildren)return(0,Se.of)(N);if(q.numberOfChildren>1||!q.children[qt])return(0,et._)(new g.vHH(4e3,!1));q=q.children[qt]}}applyRedirectCommands(O,w,N){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),O,N)}applyRedirectCreateUrlTree(O,w,N,q){const ce=this.createSegmentGroup(O,w.root,N,q);return new Rr(ce,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(O,w){const N={};return Object.entries(O).forEach(([q,ce])=>{if("string"==typeof ce&&ce.startsWith(":")){const ft=ce.substring(1);N[q]=w[ft]}else N[q]=ce}),N}createSegmentGroup(O,w,N,q){const ce=this.createSegments(O,w.segments,N,q);let Te={};return Object.entries(w.children).forEach(([ft,pt])=>{Te[ft]=this.createSegmentGroup(O,pt,N,q)}),new Yn(ce,Te)}createSegments(O,w,N,q){return w.map(ce=>ce.path.startsWith(":")?this.findPosParam(O,ce,q):this.findOrReturn(ce,N))}findPosParam(O,w,N){const q=N[w.path.substring(1)];if(!q)throw new g.vHH(4001,!1);return q}findOrReturn(O,w){let N=0;for(const q of w){if(q.path===O.path)return w.splice(N),q;N++}return O}}const fo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function po(S,O,w,N,q){const ce=Bo(S,O,w);return ce.matched?(N=function Is(S,O){return S.providers&&!S._injector&&(S._injector=(0,g.MMx)(S.providers,O,`Route: ${S.path}`)),S._injector??O}(O,N),function ho(S,O,w,N){const q=O.canMatch;if(!q||0===q.length)return(0,Se.of)(!0);const ce=q.map(Te=>{const ft=Ht(Te,S);return en(function le(S){return S&&ur(S.canMatch)}(ft)?ft.canMatch(O,w):S.runInContext(()=>ft(O,w)))});return(0,Se.of)(ce).pipe(pi(),eo())}(N,O,w).pipe((0,Ge.U)(Te=>!0===Te?ce:{...fo}))):(0,Se.of)(ce)}function Bo(S,O,w){if(""===O.path)return"full"===O.pathMatch&&(S.hasChildren()||w.length>0)?{...fo}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const q=(O.matcher||xn)(w,S,O);if(!q)return{...fo};const ce={};Object.entries(q.posParams??{}).forEach(([ft,pt])=>{ce[ft]=pt.path});const Te=q.consumed.length>0?{...ce,...q.consumed[q.consumed.length-1].parameters}:ce;return{matched:!0,consumedSegments:q.consumed,remainingSegments:w.slice(q.consumed.length),parameters:Te,positionalParamSegments:q.posParams??{}}}function ja(S,O,w,N){return w.length>0&&function zc(S,O,w){return w.some(N=>ac(S,O,N)&&Hi(N)!==qt)}(S,w,N)?{segmentGroup:new Yn(O,$c(N,new Yn(w,S.children))),slicedSegments:[]}:0===w.length&&function oc(S,O,w){return w.some(N=>ac(S,O,N))}(S,w,N)?{segmentGroup:new Yn(S.segments,fr(S,0,w,N,S.children)),slicedSegments:w}:{segmentGroup:new Yn(S.segments,S.children),slicedSegments:w}}function fr(S,O,w,N,q){const ce={};for(const Te of N)if(ac(S,w,Te)&&!q[Hi(Te)]){const ft=new Yn([],{});ce[Hi(Te)]=ft}return{...q,...ce}}function $c(S,O){const w={};w[qt]=O;for(const N of S)if(""===N.path&&Hi(N)!==qt){const q=new Yn([],{});w[Hi(N)]=q}return w}function ac(S,O,w){return(!(S.hasChildren()||O.length>0)||"full"!==w.pathMatch)&&""===w.path}class cc{constructor(O,w,N,q,ce,Te,ft){this.injector=O,this.configLoader=w,this.rootComponentType=N,this.config=q,this.urlTree=ce,this.paramsInheritanceStrategy=Te,this.urlSerializer=ft,this.allowRedirects=!0,this.applyRedirects=new to(this.urlSerializer,this.urlTree)}noMatchError(O){return new g.vHH(4002,!1)}recognize(){const O=ja(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,qt).pipe((0,Ft.K)(w=>{if(w instanceof ad)return this.allowRedirects=!1,this.urlTree=w.urlTree,this.match(w.urlTree);throw w instanceof ps?this.noMatchError(w):w}),(0,Ge.U)(w=>{const N=new zi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},qt,this.rootComponentType,null,{}),q=new Un(N,w),ce=new Es("",q),Te=function Fe(S,O,w=null,N=null){return Be(Re(S),O,w,N)}(N,[],this.urlTree.queryParams,this.urlTree.fragment);return Te.queryParams=this.urlTree.queryParams,ce.url=this.urlSerializer.serialize(Te),this.inheritParamsAndData(ce._root),{state:ce,tree:Te}}))}match(O){return this.processSegmentGroup(this.injector,this.config,O.root,qt).pipe((0,Ft.K)(N=>{throw N instanceof ps?this.noMatchError(N):N}))}inheritParamsAndData(O){const w=O.value,N=Li(w,this.paramsInheritanceStrategy);w.params=Object.freeze(N.params),w.data=Object.freeze(N.data),O.children.forEach(q=>this.inheritParamsAndData(q))}processSegmentGroup(O,w,N,q){return 0===N.segments.length&&N.hasChildren()?this.processChildren(O,w,N):this.processSegment(O,w,N,N.segments,q,!0)}processChildren(O,w,N){const q=[];for(const ce of Object.keys(N.children))"primary"===ce?q.unshift(ce):q.push(ce);return(0,Ee.D)(q).pipe((0,jn.b)(ce=>{const Te=N.children[ce],ft=function hs(S,O){const w=S.filter(N=>Hi(N)===O);return w.push(...S.filter(N=>Hi(N)!==O)),w}(w,ce);return this.processSegmentGroup(O,ft,Te,ce)}),(0,Jt.R)((ce,Te)=>(ce.push(...Te),ce)),(0,dt.d)(null),function nt(S,O){const w=arguments.length>=2;return N=>N.pipe(S?(0,me.h)((q,ce)=>S(q,ce,N)):Ue.y,Ne(1),w?(0,dt.d)(O):(0,_e.T)(()=>new Ve.K))}(),(0,Ct.z)(ce=>{if(null===ce)return Nr(N);const Te=aa(ce);return function Sl(S){S.sort((O,w)=>O.value.outlet===qt?-1:w.value.outlet===qt?1:O.value.outlet.localeCompare(w.value.outlet))}(Te),(0,Se.of)(Te)}))}processSegment(O,w,N,q,ce,Te){return(0,Ee.D)(w).pipe((0,jn.b)(ft=>this.processSegmentAgainstRoute(ft._injector??O,w,ft,N,q,ce,Te).pipe((0,Ft.K)(pt=>{if(pt instanceof ps)return(0,Se.of)(null);throw pt}))),(0,$t.P)(ft=>!!ft),(0,Ft.K)(ft=>{if(_r(ft))return function oa(S,O,w){return 0===O.length&&!S.children[w]}(N,q,ce)?(0,Se.of)([]):Nr(N);throw ft}))}processSegmentAgainstRoute(O,w,N,q,ce,Te,ft){return function $a(S,O,w,N){return!!(Hi(S)===N||N!==qt&&ac(O,w,S))&&("**"===S.path||Bo(O,S,w).matched)}(N,q,ce,Te)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(O,q,N,ce,Te,ft):ft&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,q,w,N,ce,Te):Nr(q):Nr(q)}expandSegmentAgainstRouteUsingRedirect(O,w,N,q,ce,Te){return"**"===q.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,N,q,Te):this.expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,q,ce,Te)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,w,N,q){const ce=this.applyRedirects.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?Ea(ce):this.applyRedirects.lineralizeSegments(N,ce).pipe((0,Ct.z)(Te=>{const ft=new Yn(Te,{});return this.processSegment(O,w,ft,Te,q,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,q,ce,Te){const{matched:ft,consumedSegments:pt,remainingSegments:Tn,positionalParamSegments:Dr}=Bo(w,q,ce);if(!ft)return Nr(w);const Xr=this.applyRedirects.applyRedirectCommands(pt,q.redirectTo,Dr);return q.redirectTo.startsWith("/")?Ea(Xr):this.applyRedirects.lineralizeSegments(q,Xr).pipe((0,Ct.z)(dr=>this.processSegment(O,N,w,dr.concat(Tn),Te,!1)))}matchSegmentAgainstRoute(O,w,N,q,ce,Te){let ft;if("**"===N.path){const pt=q.length>0?kn(q).parameters:{},Tn=new zi(q,pt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$o(N),Hi(N),N.component??N._loadedComponent??null,N,cd(N));ft=(0,Se.of)({snapshot:Tn,consumedSegments:[],remainingSegments:[]}),w.children={}}else ft=po(w,N,q,O).pipe((0,Ge.U)(({matched:pt,consumedSegments:Tn,remainingSegments:Dr,parameters:Xr})=>pt?{snapshot:new zi(Tn,Xr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$o(N),Hi(N),N.component??N._loadedComponent??null,N,cd(N)),consumedSegments:Tn,remainingSegments:Dr}:null));return ft.pipe((0,ot.w)(pt=>null===pt?Nr(w):this.getChildConfig(O=N._injector??O,N,q).pipe((0,ot.w)(({routes:Tn})=>{const Dr=N._loadedInjector??O,{snapshot:Xr,consumedSegments:dr,remainingSegments:Ns}=pt,{segmentGroup:ro,slicedSegments:mo}=ja(w,dr,Ns,Tn);if(0===mo.length&&ro.hasChildren())return this.processChildren(Dr,Tn,ro).pipe((0,Ge.U)(_o=>null===_o?null:[new Un(Xr,_o)]));if(0===Tn.length&&0===mo.length)return(0,Se.of)([new Un(Xr,[])]);const fc=Hi(N)===ce;return this.processSegment(Dr,Tn,ro,mo,fc?qt:ce,!0).pipe((0,Ge.U)(_o=>[new Un(Xr,_o)]))}))))}getChildConfig(O,w,N){return w.children?(0,Se.of)({routes:w.children,injector:O}):w.loadChildren?void 0!==w._loadedRoutes?(0,Se.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function jc(S,O,w,N){const q=O.canLoad;if(void 0===q||0===q.length)return(0,Se.of)(!0);const ce=q.map(Te=>{const ft=Ht(Te,S);return en(function Ts(S){return S&&ur(S.canLoad)}(ft)?ft.canLoad(O,w):S.runInContext(()=>ft(O,w)))});return(0,Se.of)(ce).pipe(pi(),eo())}(O,w,N).pipe((0,Ct.z)(q=>q?this.configLoader.loadChildren(O,w).pipe((0,Tt.b)(ce=>{w._loadedRoutes=ce.routes,w._loadedInjector=ce.injector})):function fu(S){return(0,et._)(Pi(!1,3))}())):(0,Se.of)({routes:[],injector:O})}}function Hc(S){const O=S.value.routeConfig;return O&&""===O.path}function aa(S){const O=[],w=new Set;for(const N of S){if(!Hc(N)){O.push(N);continue}const q=O.find(ce=>N.value.routeConfig===ce.value.routeConfig);void 0!==q?(q.children.push(...N.children),w.add(q)):O.push(N)}for(const N of w){const q=aa(N.children);O.push(new Un(N.value,q))}return O.filter(N=>!w.has(N))}function $o(S){return S.data||{}}function cd(S){return S.resolve||{}}function si(S){return"string"==typeof S.title||null===S.title}function P(S){return(0,ot.w)(O=>{const w=S(O);return w?(0,Ee.D)(w).pipe((0,Ge.U)(()=>O)):(0,Se.of)(O)})}const re=new g.OlP("ROUTES");let $=(()=>{class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,g.f3M)(g.Sil)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,Se.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const N=en(w.loadComponent()).pipe((0,Ge.U)(mt),(0,Tt.b)(ce=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=ce}),(0,_t.x)(()=>{this.componentLoaders.delete(w)})),q=new Qe(N,()=>new ze.x).pipe(on());return this.componentLoaders.set(w,q),q}loadChildren(w,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,Se.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const ce=function te(S,O,w,N){return en(S.loadChildren()).pipe((0,Ge.U)(mt),(0,Ct.z)(q=>q instanceof g.YKP||Array.isArray(q)?(0,Se.of)(q):(0,Ee.D)(O.compileModuleAsync(q))),(0,Ge.U)(q=>{N&&N(S);let ce,Te,ft=!1;return Array.isArray(q)?(Te=q,!0):(ce=q.create(w).injector,Te=ce.get(re,[],{optional:!0,self:!0}).flat()),{routes:Te.map(rs),injector:ce}}))}(N,this.compiler,w,this.onLoadEndListener).pipe((0,_t.x)(()=>{this.childrenLoaders.delete(N)})),Te=new Qe(ce,()=>new ze.x).pipe(on());return this.childrenLoaders.set(N,Te),Te}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function mt(S){return function we(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let Ot=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ze.x,this.transitionAbortSubject=new ze.x,this.configLoader=(0,g.f3M)($),this.environmentInjector=(0,g.f3M)(g.lqb),this.urlSerializer=(0,g.f3M)(ui),this.rootContexts=(0,g.f3M)(Ss),this.inputBindingEnabled=null!==(0,g.f3M)(Qr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Se.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=q=>this.events.next(new ia(q)),this.configLoader.onLoadStartListener=q=>this.events.next(new jr(q))}complete(){this.transitions?.complete()}handleNavigationRequest(w){const N=++this.navigationId;this.transitions?.next({...this.transitions.value,...w,id:N})}setupNavigations(w,N,q){return this.transitions=new Ae.X({id:0,currentUrlTree:N,currentRawUrl:N,currentBrowserUrl:N,extractedUrl:w.urlHandlingStrategy.extract(N),urlAfterRedirects:w.urlHandlingStrategy.extract(N),rawUrl:N,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:lr,restoredState:null,currentSnapshot:q.snapshot,targetSnapshot:null,currentRouterState:q,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,me.h)(ce=>0!==ce.id),(0,Ge.U)(ce=>({...ce,extractedUrl:w.urlHandlingStrategy.extract(ce.rawUrl)})),(0,ot.w)(ce=>{this.currentTransition=ce;let Te=!1,ft=!1;return(0,Se.of)(ce).pipe((0,Tt.b)(pt=>{this.currentNavigation={id:pt.id,initialUrl:pt.rawUrl,extractedUrl:pt.extractedUrl,trigger:pt.source,extras:pt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ot.w)(pt=>{const Tn=pt.currentBrowserUrl.toString(),Dr=!w.navigated||pt.extractedUrl.toString()!==Tn||Tn!==pt.currentUrlTree.toString();if(!Dr&&"reload"!==(pt.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const dr="";return this.events.next(new Hs(pt.id,this.urlSerializer.serialize(pt.rawUrl),dr,0)),pt.resolve(null),Mt.E}if(w.urlHandlingStrategy.shouldProcessUrl(pt.rawUrl))return(0,Se.of)(pt).pipe((0,ot.w)(dr=>{const Ns=this.transitions?.getValue();return this.events.next(new ls(dr.id,this.urlSerializer.serialize(dr.extractedUrl),dr.source,dr.restoredState)),Ns!==this.transitions?.getValue()?Mt.E:Promise.resolve(dr)}),function za(S,O,w,N,q,ce){return(0,Ct.z)(Te=>function jo(S,O,w,N,q,ce,Te="emptyOnly"){return new cc(S,O,w,N,q,Te,ce).recognize()}(S,O,w,N,Te.extractedUrl,q,ce).pipe((0,Ge.U)(({state:ft,tree:pt})=>({...Te,targetSnapshot:ft,urlAfterRedirects:pt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,Tt.b)(dr=>{ce.targetSnapshot=dr.targetSnapshot,ce.urlAfterRedirects=dr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:dr.urlAfterRedirects};const Ns=new Bi(dr.id,this.urlSerializer.serialize(dr.extractedUrl),this.urlSerializer.serialize(dr.urlAfterRedirects),dr.targetSnapshot);this.events.next(Ns)}));if(Dr&&w.urlHandlingStrategy.shouldProcessUrl(pt.currentRawUrl)){const{id:dr,extractedUrl:Ns,source:ro,restoredState:mo,extras:fc}=pt,_o=new ls(dr,this.urlSerializer.serialize(Ns),ro,mo);this.events.next(_o);const _u=$i(0,this.rootComponentType).snapshot;return this.currentTransition=ce={...pt,targetSnapshot:_u,urlAfterRedirects:Ns,extras:{...fc,skipLocationChange:!1,replaceUrl:!1}},(0,Se.of)(ce)}{const dr="";return this.events.next(new Hs(pt.id,this.urlSerializer.serialize(pt.extractedUrl),dr,1)),pt.resolve(null),Mt.E}}),(0,Tt.b)(pt=>{const Tn=new Fa(pt.id,this.urlSerializer.serialize(pt.extractedUrl),this.urlSerializer.serialize(pt.urlAfterRedirects),pt.targetSnapshot);this.events.next(Tn)}),(0,Ge.U)(pt=>(this.currentTransition=ce={...pt,guards:qe(pt.targetSnapshot,pt.currentSnapshot,this.rootContexts)},ce)),function Ua(S,O){return(0,Ct.z)(w=>{const{targetSnapshot:N,currentSnapshot:q,guards:{canActivateChecks:ce,canDeactivateChecks:Te}}=w;return 0===Te.length&&0===ce.length?(0,Se.of)({...w,guardsResult:!0}):function Dl(S,O,w,N){return(0,Ee.D)(S).pipe((0,Ct.z)(q=>function va(S,O,w,N,q){const ce=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!ce||0===ce.length)return(0,Se.of)(!0);const Te=ce.map(ft=>{const pt=xs(O)??q,Tn=Ht(ft,pt);return en(function L(S){return S&&ur(S.canDeactivate)}(Tn)?Tn.canDeactivate(S,O,w,N):pt.runInContext(()=>Tn(S,O,w,N))).pipe((0,$t.P)())});return(0,Se.of)(Te).pipe(pi())}(q.component,q.route,w,O,N)),(0,$t.P)(q=>!0!==q,!0))}(Te,N,q,S).pipe((0,Ct.z)(ft=>ft&&function Ki(S){return"boolean"==typeof S}(ft)?function rc(S,O,w,N){return(0,Ee.D)(O).pipe((0,jn.b)(q=>(0,ne.z)(function Ba(S,O){return null!==S&&O&&O(new Vs(S)),(0,Se.of)(!0)}(q.route.parent,N),function ic(S,O){return null!==S&&O&&O(new Xi(S)),(0,Se.of)(!0)}(q.route,N),function sc(S,O,w){const N=O[O.length-1],ce=O.slice(0,O.length-1).reverse().map(Te=>function Pt(S){const O=S.routeConfig?S.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:S,guards:O}:null}(Te)).filter(Te=>null!==Te).map(Te=>ve(()=>{const ft=Te.guards.map(pt=>{const Tn=xs(Te.node)??w,Dr=Ht(pt,Tn);return en(function X(S){return S&&ur(S.canActivateChild)}(Dr)?Dr.canActivateChild(N,S):Tn.runInContext(()=>Dr(N,S))).pipe((0,$t.P)())});return(0,Se.of)(ft).pipe(pi())}));return(0,Se.of)(ce).pipe(pi())}(S,q.path,w),function Bc(S,O,w){const N=O.routeConfig?O.routeConfig.canActivate:null;if(!N||0===N.length)return(0,Se.of)(!0);const q=N.map(ce=>ve(()=>{const Te=xs(O)??w,ft=Ht(ce,Te);return en(function W(S){return S&&ur(S.canActivate)}(ft)?ft.canActivate(O,S):Te.runInContext(()=>ft(O,S))).pipe((0,$t.P)())}));return(0,Se.of)(q).pipe(pi())}(S,q.route,w))),(0,$t.P)(q=>!0!==q,!0))}(N,ce,S,O):(0,Se.of)(ft)),(0,Ge.U)(ft=>({...w,guardsResult:ft})))})}(this.environmentInjector,pt=>this.events.next(pt)),(0,Tt.b)(pt=>{if(ce.guardsResult=pt.guardsResult,ar(pt.guardsResult))throw pr(0,pt.guardsResult);const Tn=new Kr(pt.id,this.urlSerializer.serialize(pt.extractedUrl),this.urlSerializer.serialize(pt.urlAfterRedirects),pt.targetSnapshot,!!pt.guardsResult);this.events.next(Tn)}),(0,me.h)(pt=>!!pt.guardsResult||(this.cancelNavigationTransition(pt,"",3),!1)),P(pt=>{if(pt.guards.canActivateChecks.length)return(0,Se.of)(pt).pipe((0,Tt.b)(Tn=>{const Dr=new La(Tn.id,this.urlSerializer.serialize(Tn.extractedUrl),this.urlSerializer.serialize(Tn.urlAfterRedirects),Tn.targetSnapshot);this.events.next(Dr)}),(0,ot.w)(Tn=>{let Dr=!1;return(0,Se.of)(Tn).pipe(function lc(S,O){return(0,Ct.z)(w=>{const{targetSnapshot:N,guards:{canActivateChecks:q}}=w;if(!q.length)return(0,Se.of)(w);let ce=0;return(0,Ee.D)(q).pipe((0,jn.b)(Te=>function Ml(S,O,w,N){const q=S.routeConfig,ce=S._resolve;return void 0!==q?.title&&!si(q)&&(ce[gn]=q.title),function Ha(S,O,w,N){const q=function ld(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===q.length)return(0,Se.of)({});const ce={};return(0,Ee.D)(q).pipe((0,Ct.z)(Te=>function Gc(S,O,w,N){const q=xs(O)??N,ce=Ht(S,q);return en(ce.resolve?ce.resolve(O,w):q.runInContext(()=>ce(O,w)))}(S[Te],O,w,N).pipe((0,$t.P)(),(0,Tt.b)(ft=>{ce[Te]=ft}))),Ne(1),function rt(S){return(0,Ge.U)(()=>S)}(ce),(0,Ft.K)(Te=>_r(Te)?Mt.E:(0,et._)(Te)))}(ce,S,O,N).pipe((0,Ge.U)(Te=>(S._resolvedData=Te,S.data=Li(S,w).resolve,q&&si(q)&&(S.data[gn]=q.title),null)))}(Te.route,N,S,O)),(0,Tt.b)(()=>ce++),Ne(1),(0,Ct.z)(Te=>ce===q.length?(0,Se.of)(w):Mt.E))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,Tt.b)({next:()=>Dr=!0,complete:()=>{Dr||this.cancelNavigationTransition(Tn,"",2)}}))}),(0,Tt.b)(Tn=>{const Dr=new Oi(Tn.id,this.urlSerializer.serialize(Tn.extractedUrl),this.urlSerializer.serialize(Tn.urlAfterRedirects),Tn.targetSnapshot);this.events.next(Dr)}))}),P(pt=>{const Tn=Dr=>{const Xr=[];Dr.routeConfig?.loadComponent&&!Dr.routeConfig._loadedComponent&&Xr.push(this.configLoader.loadComponent(Dr.routeConfig).pipe((0,Tt.b)(dr=>{Dr.component=dr}),(0,Ge.U)(()=>{})));for(const dr of Dr.children)Xr.push(...Tn(dr));return Xr};return(0,Ce.a)(Tn(pt.targetSnapshot.root)).pipe((0,dt.d)(),(0,Dt.q)(1))}),P(()=>this.afterPreactivation()),(0,Ge.U)(pt=>{const Tn=function Tr(S,O,w){const N=ts(S,O._root,w?w._root:void 0);return new Yr(N,O)}(w.routeReuseStrategy,pt.targetSnapshot,pt.currentRouterState);return this.currentTransition=ce={...pt,targetRouterState:Tn},ce}),(0,Tt.b)(()=>{this.events.next(new Mo)}),((S,O,w,N)=>(0,Ge.U)(q=>(new ii(O,q.targetRouterState,q.currentRouterState,w,N).activate(S),q)))(this.rootContexts,w.routeReuseStrategy,pt=>this.events.next(pt),this.inputBindingEnabled),(0,Dt.q)(1),(0,Tt.b)({next:pt=>{Te=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Zi(pt.id,this.urlSerializer.serialize(pt.extractedUrl),this.urlSerializer.serialize(pt.urlAfterRedirects))),w.titleStrategy?.updateTitle(pt.targetRouterState.snapshot),pt.resolve(!0)},complete:()=>{Te=!0}}),(0,wt.R)(this.transitionAbortSubject.pipe((0,Tt.b)(pt=>{throw pt}))),(0,_t.x)(()=>{Te||ft||this.cancelNavigationTransition(ce,"",1),this.currentNavigation?.id===ce.id&&(this.currentNavigation=null)}),(0,Ft.K)(pt=>{if(ft=!0,ds(pt))this.events.next(new Vr(ce.id,this.urlSerializer.serialize(ce.extractedUrl),pt.message,pt.cancellationCode)),function zn(S){return ds(S)&&ar(S.url)}(pt)?this.events.next(new ys(pt.url)):ce.resolve(!1);else{this.events.next(new us(ce.id,this.urlSerializer.serialize(ce.extractedUrl),pt,ce.targetSnapshot??void 0));try{ce.resolve(w.errorHandler(pt))}catch(Tn){ce.reject(Tn)}}return Mt.E}))}))}cancelNavigationTransition(w,N,q){const ce=new Vr(w.id,this.urlSerializer.serialize(w.extractedUrl),N,q);this.events.next(ce),w.resolve(!1)}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function Cn(S){return S!==lr}let kr=(()=>{class S{buildTitle(w){let N,q=w.root;for(;void 0!==q;)N=this.getResolvedTitleForRoute(q)??N,q=q.children.find(ce=>ce.outlet===qt);return N}getResolvedTitleForRoute(w){return w.data[gn]}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:function(){return(0,g.f3M)(Jr)},providedIn:"root"})}return S})(),Jr=(()=>{class S extends kr{constructor(w){super(),this.title=w}updateTitle(w){const N=this.buildTitle(w);void 0!==N&&this.title.setTitle(N)}static#e=this.\u0275fac=function(N){return new(N||S)(g.LFG(Kt.Dx))};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})(),Wr=(()=>{class S{static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:function(){return(0,g.f3M)(ei)},providedIn:"root"})}return S})();class Ir{shouldDetach(O){return!1}store(O,w){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,w){return O.routeConfig===w.routeConfig}}let ei=(()=>{class S extends Ir{static#e=this.\u0275fac=function(){let w;return function(q){return(w||(w=g.n5z(S)))(q||S)}}();static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const Hr=new g.OlP("",{providedIn:"root",factory:()=>({})});let Gi=(()=>{class S{static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:function(){return(0,g.f3M)(Cs)},providedIn:"root"})}return S})(),Cs=(()=>{class S{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,N){return w}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();var gs=function(S){return S[S.COMPLETE=0]="COMPLETE",S[S.FAILED=1]="FAILED",S[S.REDIRECTING=2]="REDIRECTING",S}(gs||{});function ca(S,O){S.events.pipe((0,me.h)(w=>w instanceof Zi||w instanceof Vr||w instanceof us||w instanceof Hs),(0,Ge.U)(w=>w instanceof Zi||w instanceof Hs?gs.COMPLETE:w instanceof Vr&&(0===w.code||1===w.code)?gs.REDIRECTING:gs.FAILED),(0,me.h)(w=>w!==gs.REDIRECTING),(0,Dt.q)(1)).subscribe(()=>{O()})}function Gs(S){throw S}function gi(S,O,w){return O.parse("/")}const or={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},la={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let no=(()=>{class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,g.f3M)(g.c2e),this.isNgZoneEnabled=!1,this._events=new ze.x,this.options=(0,g.f3M)(Hr,{optional:!0})||{},this.pendingTasks=(0,g.f3M)(g.HDt),this.errorHandler=this.options.errorHandler||Gs,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||gi,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,g.f3M)(Gi),this.routeReuseStrategy=(0,g.f3M)(Wr),this.titleStrategy=(0,g.f3M)(kr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,g.f3M)(re,{optional:!0})?.flat()??[],this.navigationTransitions=(0,g.f3M)(Ot),this.urlSerializer=(0,g.f3M)(ui),this.location=(0,g.f3M)(ct.Ye),this.componentInputBindingEnabled=!!(0,g.f3M)(Qr,{optional:!0}),this.eventsSubscription=new vt.w0,this.isNgZoneEnabled=(0,g.f3M)(g.R0b)instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Rr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=$i(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(w=>{this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(N=>{try{const{currentTransition:q}=this.navigationTransitions;if(null===q)return void(Ia(N)&&this._events.next(N));if(N instanceof ls)Cn(q.source)&&(this.browserUrlTree=q.extractedUrl);else if(N instanceof Hs)this.rawUrlTree=q.rawUrl;else if(N instanceof Bi){if("eager"===this.urlUpdateStrategy){if(!q.extras.skipLocationChange){const ce=this.urlHandlingStrategy.merge(q.urlAfterRedirects,q.rawUrl);this.setBrowserUrl(ce,q)}this.browserUrlTree=q.urlAfterRedirects}}else if(N instanceof Mo)this.currentUrlTree=q.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(q.urlAfterRedirects,q.rawUrl),this.routerState=q.targetRouterState,"deferred"===this.urlUpdateStrategy&&(q.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,q),this.browserUrlTree=q.urlAfterRedirects);else if(N instanceof Vr)0!==N.code&&1!==N.code&&(this.navigated=!0),(3===N.code||2===N.code)&&this.restoreHistory(q);else if(N instanceof ys){const ce=this.urlHandlingStrategy.merge(N.url,q.currentRawUrl),Te={skipLocationChange:q.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Cn(q.source)};this.scheduleNavigation(ce,lr,null,Te,{resolve:q.resolve,reject:q.reject,promise:q.promise})}N instanceof us&&this.restoreHistory(q,!0),N instanceof Zi&&(this.navigated=!0),Ia(N)&&this._events.next(N)}catch(q){this.navigationTransitions.transitionAbortSubject.next(q)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),lr,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const N="popstate"===w.type?"popstate":"hashchange";"popstate"===N&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,N,w.state)},0)}))}navigateToSyncWithBrowser(w,N,q){const ce={replaceUrl:!0},Te=q?.navigationId?q:null;if(q){const pt={...q};delete pt.navigationId,delete pt.\u0275routerPageId,0!==Object.keys(pt).length&&(ce.state=pt)}const ft=this.parseUrl(w);this.scheduleNavigation(ft,N,Te,ce)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(rs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,N={}){const{relativeTo:q,queryParams:ce,fragment:Te,queryParamsHandling:ft,preserveFragment:pt}=N,Tn=pt?this.currentUrlTree.fragment:Te;let Xr,Dr=null;switch(ft){case"merge":Dr={...this.currentUrlTree.queryParams,...ce};break;case"preserve":Dr=this.currentUrlTree.queryParams;break;default:Dr=ce||null}null!==Dr&&(Dr=this.removeEmptyProps(Dr));try{Xr=Re(q?q.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||!w[0].startsWith("/"))&&(w=[]),Xr=this.currentUrlTree.root}return Be(Xr,w,Dr,Tn??null)}navigateByUrl(w,N={skipLocationChange:!1}){const q=ar(w)?w:this.parseUrl(w),ce=this.urlHandlingStrategy.merge(q,this.rawUrlTree);return this.scheduleNavigation(ce,lr,null,N)}navigate(w,N={skipLocationChange:!1}){return function mi(S){for(let O=0;O<S.length;O++)if(null==S[O])throw new g.vHH(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,N),N)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let N;try{N=this.urlSerializer.parse(w)}catch(q){N=this.malformedUriErrorHandler(q,this.urlSerializer,w)}return N}isActive(w,N){let q;if(q=!0===N?{...or}:!1===N?{...la}:N,ar(w))return vr(this.currentUrlTree,w,q);const ce=this.parseUrl(w);return vr(this.currentUrlTree,ce,q)}removeEmptyProps(w){return Object.keys(w).reduce((N,q)=>{const ce=w[q];return null!=ce&&(N[q]=ce),N},{})}scheduleNavigation(w,N,q,ce,Te){if(this.disposed)return Promise.resolve(!1);let ft,pt,Tn;Te?(ft=Te.resolve,pt=Te.reject,Tn=Te.promise):Tn=new Promise((Xr,dr)=>{ft=Xr,pt=dr});const Dr=this.pendingTasks.add();return ca(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Dr))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:q,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:w,extras:ce,resolve:ft,reject:pt,promise:Tn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Tn.catch(Xr=>Promise.reject(Xr))}setBrowserUrl(w,N){const q=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(q)||N.extras.replaceUrl){const Te={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId)};this.location.replaceState(q,"",Te)}else{const ce={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId+1)};this.location.go(q,"",ce)}}restoreHistory(w,N=!1){if("computed"===this.canceledNavigationResolution){const ce=this.currentPageId-this.browserPageId;0!==ce?this.location.historyGo(ce):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ce&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,N){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:N}:{navigationId:w}}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function Ia(S){return!(S instanceof Mo||S instanceof ys)}let zo=(()=>{class S{constructor(w,N,q,ce,Te,ft){this.router=w,this.route=N,this.tabIndexAttribute=q,this.renderer=ce,this.el=Te,this.locationStrategy=ft,this.href=null,this.commands=null,this.onChanges=new ze.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const pt=Te.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===pt||"area"===pt,this.isAnchorElement?this.subscription=w.events.subscribe(Tn=>{Tn instanceof Zi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,N,q,ce,Te){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||N||q||ce||Te||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const w=null===this.href?null:(0,g.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",w)}applyAttributeValue(w,N){const q=this.renderer,ce=this.el.nativeElement;null!==N?q.setAttribute(ce,w,N):q.removeAttribute(ce,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(N){return new(N||S)(g.Y36(no),g.Y36(es),g.$8M("tabindex"),g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(ct.S$))};static#t=this.\u0275dir=g.lG2({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(N,q){1&N&&g.NdJ("click",function(Te){return q.onClick(Te.button,Te.ctrlKey,Te.shiftKey,Te.altKey,Te.metaKey)}),2&N&&g.uIk("target",q.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",g.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",g.VuI],replaceUrl:["replaceUrl","replaceUrl",g.VuI],routerLink:"routerLink"},standalone:!0,features:[g.Xq5,g.TTD]})}return S})();class Pl{}let qc=(()=>{class S{constructor(w,N,q,ce,Te){this.router=w,this.injector=q,this.preloadingStrategy=ce,this.loader=Te}setUpPreloading(){this.subscription=this.router.events.pipe((0,me.h)(w=>w instanceof Zi),(0,jn.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,N){const q=[];for(const ce of N){ce.providers&&!ce._injector&&(ce._injector=(0,g.MMx)(ce.providers,w,`Route: ${ce.path}`));const Te=ce._injector??w,ft=ce._loadedInjector??Te;(ce.loadChildren&&!ce._loadedRoutes&&void 0===ce.canLoad||ce.loadComponent&&!ce._loadedComponent)&&q.push(this.preloadConfig(Te,ce)),(ce.children||ce._loadedRoutes)&&q.push(this.processRoutes(ft,ce.children??ce._loadedRoutes))}return(0,Ee.D)(q).pipe((0,Xt.J)())}preloadConfig(w,N){return this.preloadingStrategy.preload(N,()=>{let q;q=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(w,N):(0,Se.of)(null);const ce=q.pipe((0,Ct.z)(Te=>null===Te?(0,Se.of)(void 0):(N._loadedRoutes=Te.routes,N._loadedInjector=Te.injector,this.processRoutes(Te.injector??w,Te.routes))));if(N.loadComponent&&!N._loadedComponent){const Te=this.loader.loadComponent(N);return(0,Ee.D)([ce,Te]).pipe((0,Xt.J)())}return ce})}static#e=this.\u0275fac=function(N){return new(N||S)(g.LFG(no),g.LFG(g.Sil),g.LFG(g.lqb),g.LFG(Pl),g.LFG($))};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const uc=new g.OlP("");let gu=(()=>{class S{constructor(w,N,q,ce,Te={}){this.urlSerializer=w,this.transitions=N,this.viewportScroller=q,this.zone=ce,this.options=Te,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Te.scrollPositionRestoration=Te.scrollPositionRestoration||"disabled",Te.anchorScrolling=Te.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof ls?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof Zi?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof Hs&&0===w.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof di&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,N){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new di(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(N){g.$Z()};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac})}return S})();function Go(S,O){return{\u0275kind:S,\u0275providers:O}}function cr(){const S=(0,g.f3M)(g.zs3);return O=>{const w=S.get(g.z2F);if(O!==w.components[0])return;const N=S.get(no),q=S.get(dd);1===S.get(Wc)&&N.initialNavigation(),S.get(ki,null,g.XFs.Optional)?.setUpPreloading(),S.get(uc,null,g.XFs.Optional)?.init(),N.resetRootComponentType(w.componentTypes[0]),q.closed||(q.next(),q.complete(),q.unsubscribe())}}const dd=new g.OlP("",{factory:()=>new ze.x}),Wc=new g.OlP("",{providedIn:"root",factory:()=>1}),ki=new g.OlP("");function qa(S){return Go(0,[{provide:ki,useExisting:qc},{provide:Pl,useExisting:S}])}const Vt=new g.OlP("ROUTER_FORROOT_GUARD"),Ur=[ct.Ye,{provide:ui,useClass:er},no,Ss,{provide:es,useFactory:function Ho(S){return S.routerState.root},deps:[no]},$,[]];function pd(){return new g.PXZ("Router",no)}let dc=(()=>{class S{constructor(w){}static forRoot(w,N){return{ngModule:S,providers:[Ur,[],{provide:re,multi:!0,useValue:w},{provide:Vt,useFactory:Os,deps:[[no,new g.FiY,new g.tp0]]},{provide:Hr,useValue:N||{}},N?.useHash?{provide:ct.S$,useClass:ct.Do}:{provide:ct.S$,useClass:ct.b0},{provide:uc,useFactory:()=>{const S=(0,g.f3M)(ct.EM),O=(0,g.f3M)(g.R0b),w=(0,g.f3M)(Hr),N=(0,g.f3M)(Ot),q=(0,g.f3M)(ui);return w.scrollOffset&&S.setOffset(w.scrollOffset),new gu(q,N,S,O,w)}},N?.preloadingStrategy?qa(N.preloadingStrategy).\u0275providers:[],{provide:g.PXZ,multi:!0,useFactory:pd},N?.initialNavigation?Zc(N):[],N?.bindToComponentInputs?Go(8,[fi,{provide:Qr,useExisting:fi}]).\u0275providers:[],[{provide:hc,useFactory:cr},{provide:g.tb,multi:!0,useExisting:hc}]]}}static forChild(w){return{ngModule:S,providers:[{provide:re,multi:!0,useValue:w}]}}static#e=this.\u0275fac=function(N){return new(N||S)(g.LFG(Vt,8))};static#t=this.\u0275mod=g.oAB({type:S});static#n=this.\u0275inj=g.cJS({})}return S})();function Os(S){return"guarded"}function Zc(S){return["disabled"===S.initialNavigation?Go(3,[{provide:g.ip1,multi:!0,useFactory:()=>{const O=(0,g.f3M)(no);return()=>{O.setUpLocationChangeListener()}}},{provide:Wc,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?Go(2,[{provide:Wc,useValue:0},{provide:g.ip1,multi:!0,deps:[g.zs3],useFactory:O=>{const w=O.get(ct.V_,Promise.resolve());return()=>w.then(()=>new Promise(N=>{const q=O.get(no),ce=O.get(dd);ca(q,()=>{N(!0)}),O.get(Ot).afterPreactivation=()=>(N(!0),ce.closed?(0,Se.of)(void 0):ce),q.initialNavigation()}))}}]).\u0275providers:[]]}const hc=new g.OlP("")},5513:(Qt,Ke,B)=>{B.d(Ke,{Gb:()=>Va,Kz:()=>hs,EI:()=>rs,lT:()=>sr,Iv:()=>hr,xP:()=>sa,Xd:()=>zn});var g=B(5861),u=B(4303),H=B(7879),Ie=B(9058),Ee=B(4537),Se=B(1878);const Ae="@firebase/installations",Ce="0.6.7",Ve=1e4,ne=`w:${Ce}`,ie="FIS_v2",ve="https://firebaseinstallations.googleapis.com/v1",it=36e5,At=new Ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Et(fe){return fe instanceof Ie.ZR&&fe.code.includes("request-failed")}function on({projectId:fe}){return`${ve}/projects/${fe}/installations`}function Qe(fe){return{token:fe.token,requestStatus:2,expiresIn:me(fe.expiresIn),creationTime:Date.now()}}function ze(fe,De){return ct.apply(this,arguments)}function ct(){return(ct=(0,g.Z)(function*(fe,De){const Pt=(yield De.json()).error;return At.create("request-failed",{requestName:fe,serverCode:Pt.code,serverMessage:Pt.message,serverStatus:Pt.status})})).apply(this,arguments)}function Ge({apiKey:fe}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":fe})}function Dt(fe){return Je.apply(this,arguments)}function Je(){return(Je=(0,g.Z)(function*(fe){const De=yield fe();return De.status>=500&&De.status<600?fe():De})).apply(this,arguments)}function me(fe){return Number(fe.replace("s","000"))}function jn(){return(jn=(0,g.Z)(function*({appConfig:fe,heartbeatServiceProvider:De},{fid:qe}){const Pt=on(fe),Ht=Ge(fe),hn=De.getImmediate({optional:!0});if(hn){const ur=yield hn.getHeartbeatsHeader();ur&&Ht.append("x-firebase-client",ur)}const nr={method:"POST",headers:Ht,body:JSON.stringify({fid:qe,authVersion:ie,appId:fe.appId,sdkVersion:ne})},Bn=yield Dt(()=>fetch(Pt,nr));if(Bn.ok){const ur=yield Bn.json();return{fid:ur.fid||qe,registrationStatus:2,refreshToken:ur.refreshToken,authToken:Qe(ur.authToken)}}throw yield ze("Create Installation",Bn)})).apply(this,arguments)}function Tt(fe){return new Promise(De=>{setTimeout(De,fe)})}const Jt=/^[cdef][\w-]{21}$/,dt="";function Ne(){try{const fe=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(fe),fe[0]=112+fe[0]%16;const qe=function _e(fe){return function Ft(fe){return btoa(String.fromCharCode(...fe)).replace(/\+/g,"-").replace(/\//g,"_")}(fe).substr(0,22)}(fe);return Jt.test(qe)?qe:dt}catch{return dt}}function Ue(fe){return`${fe.appName}!${fe.appId}`}const nt=new Map;function rt(fe,De){const qe=Ue(fe);Xt(qe,De),function Kt(fe,De){const qe=function gn(){return!qt&&"BroadcastChannel"in self&&(qt=new BroadcastChannel("[Firebase] FID Change"),qt.onmessage=fe=>{Xt(fe.data.key,fe.data.fid)}),qt}();qe&&qe.postMessage({key:fe,fid:De}),function Zn(){0===nt.size&&qt&&(qt.close(),qt=null)}()}(qe,De)}function Xt(fe,De){const qe=nt.get(fe);if(qe)for(const Pt of qe)Pt(De)}let qt=null;const _n="firebase-installations-database",xn=1,Yt="firebase-installations-store";let mn=null;function Mn(){return mn||(mn=(0,Se.X3)(_n,xn,{upgrade:(fe,De)=>{0===De&&fe.createObjectStore(Yt)}})),mn}function kn(fe,De){return en.apply(this,arguments)}function en(){return(en=(0,g.Z)(function*(fe,De){const qe=Ue(fe),Ht=(yield Mn()).transaction(Yt,"readwrite"),hn=Ht.objectStore(Yt),En=yield hn.get(qe);return yield hn.put(De,qe),yield Ht.done,(!En||En.fid!==De.fid)&&rt(fe,De.fid),De})).apply(this,arguments)}function ci(fe){return On.apply(this,arguments)}function On(){return(On=(0,g.Z)(function*(fe){const De=Ue(fe),Pt=(yield Mn()).transaction(Yt,"readwrite");yield Pt.objectStore(Yt).delete(De),yield Pt.done})).apply(this,arguments)}function vr(fe,De){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,g.Z)(function*(fe,De){const qe=Ue(fe),Ht=(yield Mn()).transaction(Yt,"readwrite"),hn=Ht.objectStore(Yt),En=yield hn.get(qe),nr=De(En);return void 0===nr?yield hn.delete(qe):yield hn.put(nr,qe),yield Ht.done,nr&&(!En||En.fid!==nr.fid)&&rt(fe,nr.fid),nr})).apply(this,arguments)}function Ut(fe){return bn.apply(this,arguments)}function bn(){return bn=(0,g.Z)(function*(fe){let De;const qe=yield vr(fe.appConfig,Pt=>{const Ht=function Vn(fe){return li(fe||{fid:Ne(),registrationStatus:0})}(Pt),hn=function Rn(fe,De){if(0===De.registrationStatus){if(!navigator.onLine)return{installationEntry:De,registrationPromise:Promise.reject(At.create("app-offline"))};const qe={fid:De.fid,registrationStatus:1,registrationTime:Date.now()},Pt=function Br(fe,De){return Rr.apply(this,arguments)}(fe,qe);return{installationEntry:qe,registrationPromise:Pt}}return 1===De.registrationStatus?{installationEntry:De,registrationPromise:Yn(fe)}:{installationEntry:De}}(fe,Ht);return De=hn.registrationPromise,hn.installationEntry});return qe.fid===dt?{installationEntry:yield De}:{installationEntry:qe,registrationPromise:De}}),bn.apply(this,arguments)}function Rr(){return Rr=(0,g.Z)(function*(fe,De){try{const qe=yield function $t(fe,De){return jn.apply(this,arguments)}(fe,De);return kn(fe.appConfig,qe)}catch(qe){throw Et(qe)&&409===qe.customData.serverCode?yield ci(fe.appConfig):yield kn(fe.appConfig,{fid:De.fid,registrationStatus:0}),qe}}),Rr.apply(this,arguments)}function Yn(fe){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,g.Z)(function*(fe){let De=yield xr(fe.appConfig);for(;1===De.registrationStatus;)yield Tt(100),De=yield xr(fe.appConfig);if(0===De.registrationStatus){const{installationEntry:qe,registrationPromise:Pt}=yield Ut(fe);return Pt||qe}return De})).apply(this,arguments)}function xr(fe){return vr(fe,De=>{if(!De)throw At.create("installation-not-found");return li(De)})}function li(fe){return function cn(fe){return 1===fe.registrationStatus&&fe.registrationTime+Ve<Date.now()}(fe)?{fid:fe.fid,registrationStatus:0}:fe}function er(){return(er=(0,g.Z)(function*({appConfig:fe,heartbeatServiceProvider:De},qe){const Pt=function Ar(fe,{fid:De}){return`${on(fe)}/${De}/authTokens:generate`}(fe,qe),Ht=function ot(fe,{refreshToken:De}){const qe=Ge(fe);return qe.append("Authorization",function Ct(fe){return`${ie} ${fe}`}(De)),qe}(fe,qe),hn=De.getImmediate({optional:!0});if(hn){const ur=yield hn.getHeartbeatsHeader();ur&&Ht.append("x-firebase-client",ur)}const nr={method:"POST",headers:Ht,body:JSON.stringify({installation:{sdkVersion:ne,appId:fe.appId}})},Bn=yield Dt(()=>fetch(Pt,nr));if(Bn.ok)return Qe(yield Bn.json());throw yield ze("Generate Auth Token",Bn)})).apply(this,arguments)}function gr(fe){return Gr.apply(this,arguments)}function Gr(){return Gr=(0,g.Z)(function*(fe,De=!1){let qe;const Pt=yield vr(fe.appConfig,hn=>{if(!zt(hn))throw At.create("not-registered");const En=hn.authToken;if(!De&&function Fn(fe){return 2===fe.requestStatus&&!function ni(fe){const De=Date.now();return De<fe.creationTime||fe.creationTime+fe.expiresIn<De+it}(fe)}(En))return hn;if(1===En.requestStatus)return qe=function Ze(fe,De){return It.apply(this,arguments)}(fe,De),hn;{if(!navigator.onLine)throw At.create("app-offline");const nr=function Bt(fe){const De={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},fe),{authToken:De})}(hn);return qe=function Me(fe,De){return yt.apply(this,arguments)}(fe,nr),nr}});return qe?yield qe:Pt.authToken}),Gr.apply(this,arguments)}function It(){return(It=(0,g.Z)(function*(fe,De){let qe=yield oe(fe.appConfig);for(;1===qe.authToken.requestStatus;)yield Tt(100),qe=yield oe(fe.appConfig);const Pt=qe.authToken;return 0===Pt.requestStatus?gr(fe,De):Pt})).apply(this,arguments)}function oe(fe){return vr(fe,De=>{if(!zt(De))throw At.create("not-registered");return function de(fe){return 1===fe.requestStatus&&fe.requestTime+Ve<Date.now()}(De.authToken)?Object.assign(Object.assign({},De),{authToken:{requestStatus:0}}):De})}function yt(){return yt=(0,g.Z)(function*(fe,De){try{const qe=yield function ui(fe,De){return er.apply(this,arguments)}(fe,De),Pt=Object.assign(Object.assign({},De),{authToken:qe});return yield kn(fe.appConfig,Pt),qe}catch(qe){if(!Et(qe)||401!==qe.customData.serverCode&&404!==qe.customData.serverCode){const Pt=Object.assign(Object.assign({},De),{authToken:{requestStatus:0}});yield kn(fe.appConfig,Pt)}else yield ci(fe.appConfig);throw qe}}),yt.apply(this,arguments)}function zt(fe){return void 0!==fe&&2===fe.registrationStatus}function z(){return(z=(0,g.Z)(function*(fe){const De=fe,{installationEntry:qe,registrationPromise:Pt}=yield Ut(De);return Pt?Pt.catch(console.error):gr(De).catch(console.error),qe.fid})).apply(this,arguments)}function F(){return F=(0,g.Z)(function*(fe,De=!1){const qe=fe;return yield function pe(fe){return ke.apply(this,arguments)}(qe),(yield gr(qe,De)).token}),F.apply(this,arguments)}function ke(){return(ke=(0,g.Z)(function*(fe){const{registrationPromise:De}=yield Ut(fe);De&&(yield De)})).apply(this,arguments)}function Be(fe){return At.create("missing-app-config-values",{valueName:fe})}const xt="installations",pn=fe=>{const De=fe.getProvider("app").getImmediate(),qe=function Re(fe){if(!fe||!fe.options)throw Be("App Configuration");if(!fe.name)throw Be("App Name");const De=["projectId","apiKey","appId"];for(const qe of De)if(!fe.options[qe])throw Be(qe);return{appName:fe.name,projectId:fe.options.projectId,apiKey:fe.options.apiKey,appId:fe.options.appId}}(De);return{app:De,appConfig:qe,heartbeatServiceProvider:(0,u._getProvider)(De,"heartbeat"),_delete:()=>Promise.resolve()}},nn=fe=>{const De=fe.getProvider("app").getImmediate(),qe=(0,u._getProvider)(De,xt).getImmediate();return{getId:()=>function J(fe){return z.apply(this,arguments)}(qe),getToken:Ht=>function j(fe){return F.apply(this,arguments)}(qe,Ht)}};(function Er(){(0,u._registerComponent)(new Ee.wA(xt,pn,"PUBLIC")),(0,u._registerComponent)(new Ee.wA("installations-internal",nn,"PRIVATE"))})(),(0,u.registerVersion)(Ae,Ce),(0,u.registerVersion)(Ae,Ce,"esm2017");const fn="analytics",ri="firebase_id",as="origin",Ui=6e4,cs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Si="https://www.googletagmanager.com/gtag/js",Sr=new H.Yd("@firebase/analytics"),ir=new Ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function _s(fe){if(!fe.startsWith(Si)){const De=ir.create("invalid-gtag-resource",{gtagURL:fe});return Sr.warn(De.message),""}return fe}function Xs(fe){return Promise.all(fe.map(De=>De.catch(qe=>qe)))}function Zi(){return(Zi=(0,g.Z)(function*(fe,De,qe,Pt,Ht,hn){const En=Pt[Ht];try{if(En)yield De[En];else{const Bn=(yield Xs(qe)).find(ur=>ur.measurementId===Ht);Bn&&(yield De[Bn.appId])}}catch(nr){Sr.error(nr)}fe("config",Ht,hn)})).apply(this,arguments)}function Hs(){return(Hs=(0,g.Z)(function*(fe,De,qe,Pt,Ht){try{let hn=[];if(Ht&&Ht.send_to){let En=Ht.send_to;Array.isArray(En)||(En=[En]);const nr=yield Xs(qe);for(const Bn of En){const ur=nr.find(Ts=>Ts.measurementId===Bn),Ki=ur&&De[ur.appId];if(!Ki){hn=[];break}hn.push(Ki)}}0===hn.length&&(hn=Object.values(De)),yield Promise.all(hn),fe("event",Pt,Ht||{})}catch(hn){Sr.error(hn)}})).apply(this,arguments)}const Kr=30,jr=new class Oi{constructor(De={},qe=1e3){this.throttleMetadata=De,this.intervalMillis=qe}getThrottleMetadata(De){return this.throttleMetadata[De]}setThrottleMetadata(De,qe){this.throttleMetadata[De]=qe}deleteThrottleMetadata(De){delete this.throttleMetadata[De]}};function ia(fe){return new Headers({Accept:"application/json","x-goog-api-key":fe})}function Ni(){return(Ni=(0,g.Z)(function*(fe){var De;const{appId:qe,apiKey:Pt}=fe,Ht={method:"GET",headers:ia(Pt)},hn=cs.replace("{app-id}",qe),En=yield fetch(hn,Ht);if(200!==En.status&&304!==En.status){let nr="";try{const Bn=yield En.json();null!==(De=Bn.error)&&void 0!==De&&De.message&&(nr=Bn.error.message)}catch{}throw ir.create("config-fetch-failed",{httpStatus:En.status,responseMessage:nr})}return En.json()})).apply(this,arguments)}function So(){return(So=(0,g.Z)(function*(fe,De=jr,qe){const{appId:Pt,apiKey:Ht,measurementId:hn}=fe.options;if(!Pt)throw ir.create("no-app-id");if(!Ht){if(hn)return{measurementId:hn,appId:Pt};throw ir.create("no-api-key")}const En=De.getThrottleMetadata(Pt)||{backoffCount:0,throttleEndTimeMillis:Date.now()},nr=new vs;return setTimeout((0,g.Z)(function*(){nr.abort()}),void 0!==qe?qe:Ui),di({appId:Pt,apiKey:Ht,measurementId:hn},En,nr,De)})).apply(this,arguments)}function di(fe,De,qe){return Mo.apply(this,arguments)}function Mo(){return Mo=(0,g.Z)(function*(fe,{throttleEndTimeMillis:De,backoffCount:qe},Pt,Ht=jr){var hn;const{appId:En,measurementId:nr}=fe;try{yield function ys(fe,De){return new Promise((qe,Pt)=>{const Ht=Math.max(De-Date.now(),0),hn=setTimeout(qe,Ht);fe.addEventListener(()=>{clearTimeout(hn),Pt(ir.create("fetch-throttle",{throttleEndTimeMillis:De}))})})}(Pt,De)}catch(Bn){if(nr)return Sr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${nr} provided in the "measurementId" field in the local Firebase config. [${Bn?.message}]`),{appId:En,measurementId:nr};throw Bn}try{const Bn=yield function Vs(fe){return Ni.apply(this,arguments)}(fe);return Ht.deleteThrottleMetadata(En),Bn}catch(Bn){const ur=Bn;if(!function hi(fe){if(!(fe instanceof Ie.ZR&&fe.customData))return!1;const De=Number(fe.customData.httpStatus);return 429===De||500===De||503===De||504===De}(ur)){if(Ht.deleteThrottleMetadata(En),nr)return Sr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${nr} provided in the "measurementId" field in the local Firebase config. [${ur?.message}]`),{appId:En,measurementId:nr};throw Bn}const Ki=503===Number(null===(hn=ur?.customData)||void 0===hn?void 0:hn.httpStatus)?(0,Ie.$s)(qe,Ht.intervalMillis,Kr):(0,Ie.$s)(qe,Ht.intervalMillis),Ts={throttleEndTimeMillis:Date.now()+Ki,backoffCount:qe+1};return Ht.setThrottleMetadata(En,Ts),Sr.debug(`Calling attemptFetch again in ${Ki} millis`),di(fe,Ts,Pt,Ht)}}),Mo.apply(this,arguments)}class vs{constructor(){this.listeners=[]}addEventListener(De){this.listeners.push(De)}abort(){this.listeners.forEach(De=>De())}}let Ss,Es;function ji(){return(ji=(0,g.Z)(function*(fe,De,qe,Pt,Ht){if(Ht&&Ht.global)fe("event",qe,Pt);else{const hn=yield De;fe("event",qe,Object.assign(Object.assign({},Pt),{send_to:hn}))}})).apply(this,arguments)}function Un(){return(Un=(0,g.Z)(function*(fe,De,qe,Pt){if(Pt&&Pt.global)return fe("set",{screen_name:qe}),Promise.resolve();fe("config",yield De,{update:!0,screen_name:qe})})).apply(this,arguments)}function Yr(){return(Yr=(0,g.Z)(function*(fe,De,qe,Pt){if(Pt&&Pt.global)return fe("set",{user_id:qe}),Promise.resolve();fe("config",yield De,{update:!0,user_id:qe})})).apply(this,arguments)}function zr(){return(zr=(0,g.Z)(function*(fe,De,qe,Pt){if(Pt&&Pt.global){const Ht={};for(const hn of Object.keys(qe))Ht[`user_properties.${hn}`]=qe[hn];return fe("set",Ht),Promise.resolve()}fe("config",yield De,{update:!0,user_properties:qe})})).apply(this,arguments)}function zi(){return(zi=(0,g.Z)(function*(fe,De){const qe=yield fe;window[`ga-disable-${qe}`]=!De})).apply(this,arguments)}function Cr(){return(Cr=(0,g.Z)(function*(){if(!(0,Ie.hl)())return Sr.warn(ir.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ie.eu)()}catch(fe){return Sr.warn(ir.create("indexeddb-unavailable",{errorInfo:fe?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ms(){return Ms=(0,g.Z)(function*(fe,De,qe,Pt,Ht,hn,En){var nr;const Bn=function Xi(fe){return So.apply(this,arguments)}(fe);Bn.then(X=>{qe[X.measurementId]=X.appId,fe.options.measurementId&&X.measurementId!==fe.options.measurementId&&Sr.warn(`The measurement ID in the local Firebase config (${fe.options.measurementId}) does not match the measurement ID fetched from the server (${X.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(X=>Sr.error(X)),De.push(Bn);const ur=function Wn(){return Cr.apply(this,arguments)}().then(X=>{if(X)return Pt.getId()}),[Ki,Ts]=yield Promise.all([Bn,ur]);(function Fa(fe){const De=window.document.getElementsByTagName("script");for(const qe of Object.values(De))if(qe.src&&qe.src.includes(Si)&&qe.src.includes(fe))return qe;return null})(hn)||function lr(fe,De){const qe=function Ii(fe,De){let qe;return window.trustedTypes&&(qe=window.trustedTypes.createPolicy(fe,De)),qe}("firebase-js-sdk-policy",{createScriptURL:_s}),Pt=document.createElement("script"),Ht=`${Si}?l=${fe}&id=${De}`;Pt.src=qe?qe?.createScriptURL(Ht):Ht,Pt.async=!0,document.head.appendChild(Pt)}(hn,Ki.measurementId),Es&&(Ht("consent","default",Es),function Or(fe){Es=fe}(void 0)),Ht("js",new Date);const W=null!==(nr=En?.config)&&void 0!==nr?nr:{};return W[as]="firebase",W.update=!0,null!=Ts&&(W[ri]=Ts),Ht("config",Ki.measurementId,W),Ss&&(Ht("set",Ss),function an(fe){Ss=fe}(void 0)),Ki.measurementId}),Ms.apply(this,arguments)}class Qr{constructor(De){this.app=De}_delete(){return delete fi[this.app.options.appId],Promise.resolve()}}let fi={},Tr=[];const ts={};let ns,pr,Ps="dataLayer",Qn="gtag",Pi=!1;function zn(fe){if(Pi)throw ir.create("already-initialized");fe.dataLayerName&&(Ps=fe.dataLayerName),fe.gtagName&&(Qn=fe.gtagName)}function Ri(fe,De,qe){!function ds(){const fe=[];if((0,Ie.ru)()&&fe.push("This is a browser extension environment."),(0,Ie.zI)()||fe.push("Cookies are not available."),fe.length>0){const De=fe.map((Pt,Ht)=>`(${Ht+1}) ${Pt}`).join(" "),qe=ir.create("invalid-analytics-context",{errorInfo:De});Sr.warn(qe.message)}}();const Pt=fe.options.appId;if(!Pt)throw ir.create("no-app-id");if(!fe.options.apiKey){if(!fe.options.measurementId)throw ir.create("no-api-key");Sr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${fe.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=fi[Pt])throw ir.create("already-exists",{id:Pt});if(!Pi){!function bi(fe){let De=[];Array.isArray(window[fe])?De=window[fe]:window[fe]=De}(Ps);const{wrappedGtag:hn,gtagCore:En}=function Bi(fe,De,qe,Pt,Ht){let hn=function(...En){window[Pt].push(arguments)};return window[Ht]&&"function"==typeof window[Ht]&&(hn=window[Ht]),window[Ht]=function us(fe,De,qe,Pt){function hn(){return hn=(0,g.Z)(function*(En,...nr){try{if("event"===En){const[Bn,ur]=nr;yield function Vr(fe,De,qe,Pt,Ht){return Hs.apply(this,arguments)}(fe,De,qe,Bn,ur)}else if("config"===En){const[Bn,ur]=nr;yield function ls(fe,De,qe,Pt,Ht,hn){return Zi.apply(this,arguments)}(fe,De,qe,Pt,Bn,ur)}else if("consent"===En){const[Bn,ur]=nr;fe("consent",Bn,ur)}else if("get"===En){const[Bn,ur,Ki]=nr;fe("get",Bn,ur,Ki)}else if("set"===En){const[Bn]=nr;fe("set",Bn)}else fe(En,...nr)}catch(Bn){Sr.error(Bn)}}),hn.apply(this,arguments)}return function Ht(En){return hn.apply(this,arguments)}}(hn,fe,De,qe),{gtagCore:hn,wrappedGtag:window[Ht]}}(fi,Tr,ts,Ps,Qn);pr=hn,ns=En,Pi=!0}return fi[Pt]=function Mi(fe,De,qe,Pt,Ht,hn,En){return Ms.apply(this,arguments)}(fe,Tr,ts,De,ns,Ps,qe),new Qr(fe)}function Va(){return bs.apply(this,arguments)}function bs(){return(bs=(0,g.Z)(function*(){if((0,Ie.ru)()||!(0,Ie.zI)()||!(0,Ie.hl)())return!1;try{return yield(0,Ie.eu)()}catch{return!1}})).apply(this,arguments)}function sr(fe,De,qe){fe=(0,Ie.m9)(fe),function Po(fe,De,qe,Pt){return Un.apply(this,arguments)}(pr,fi[fe.app.options.appId],De,qe).catch(Pt=>Sr.error(Pt))}function hr(fe,De,qe){fe=(0,Ie.m9)(fe),function $r(fe,De,qe,Pt){return Yr.apply(this,arguments)}(pr,fi[fe.app.options.appId],De,qe).catch(Pt=>Sr.error(Pt))}function sa(fe,De,qe){fe=(0,Ie.m9)(fe),function $i(fe,De,qe,Pt){return zr.apply(this,arguments)}(pr,fi[fe.app.options.appId],De,qe).catch(Pt=>Sr.error(Pt))}function rs(fe,De){fe=(0,Ie.m9)(fe),function Ro(fe,De){return zi.apply(this,arguments)}(fi[fe.app.options.appId],De).catch(qe=>Sr.error(qe))}function hs(fe,De,qe,Pt){fe=(0,Ie.m9)(fe),function co(fe,De,qe,Pt,Ht){return ji.apply(this,arguments)}(pr,fi[fe.app.options.appId],De,qe,Pt).catch(Ht=>Sr.error(Ht))}const lo="@firebase/analytics";!function ii(){(0,u._registerComponent)(new Ee.wA(fn,(De,{options:qe})=>Ri(De.getProvider("app").getImmediate(),De.getProvider("installations-internal").getImmediate(),qe),"PUBLIC")),(0,u._registerComponent)(new Ee.wA("analytics-internal",function fe(De){try{const qe=De.getProvider(fn).getImmediate();return{logEvent:(Pt,Ht,hn)=>hs(qe,Pt,Ht,hn)}}catch(qe){throw ir.create("interop-component-reg-failed",{reason:qe})}},"PRIVATE")),(0,u.registerVersion)(lo,"0.10.4"),(0,u.registerVersion)(lo,"0.10.4","esm2017")}()},3106:(Qt,Ke,B)=>{B.d(Ke,{Z:()=>Mt});var g=B(9058),u=B(4537),H=B(4303),Ie=B(7879);class Ee{constructor(At,Et){this._delegate=At,this.firebase=Et,(0,H._addComponent)(At,new u.wA("app-compat",()=>this,"PUBLIC")),this.container=At.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(At){this._delegate.automaticDataCollectionEnabled=At}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(At=>{this._delegate.checkDestroyed(),At()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(At,Et=H._DEFAULT_ENTRY_NAME){var on;this._delegate.checkDestroyed();const Qe=this._delegate.container.getProvider(At);return!Qe.isInitialized()&&"EXPLICIT"===(null===(on=Qe.getComponent())||void 0===on?void 0:on.instantiationMode)&&Qe.initialize(),Qe.getImmediate({identifier:Et})}_removeServiceInstance(At,Et=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(At).clearInstance(Et)}_addComponent(At){(0,H._addComponent)(this._delegate,At)}_addOrOverwriteComponent(At){(0,H._addOrOverwriteComponent)(this._delegate,At)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ae=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ne=function Ve(){const vt=function Ce(vt){const At={},Et={__esModule:!0,initializeApp:function ze(Dt,Je={}){const me=H.initializeApp(Dt,Je);if((0,g.r3)(At,me.name))return At[me.name];const Ct=new vt(me,Et);return At[me.name]=Ct,Ct},app:Qe,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function Ge(Dt){const Je=Dt.name,me=Je.replace("-compat","");if(H._registerComponent(Dt)&&"PUBLIC"===Dt.type){const Ct=($t=Qe())=>{if("function"!=typeof $t[me])throw Ae.create("invalid-app-argument",{appName:Je});return $t[me]()};void 0!==Dt.serviceProps&&(0,g.ZB)(Ct,Dt.serviceProps),Et[me]=Ct,vt.prototype[me]=function(...$t){return this._getService.bind(this,Je).apply(this,Dt.multipleInstances?$t:[])}}return"PUBLIC"===Dt.type?Et[me]:null},removeApp:function on(Dt){delete At[Dt]},useAsService:function ot(Dt,Je){return"serverAuth"===Je?null:Je},modularAPIs:H}};function Qe(Dt){if(!(0,g.r3)(At,Dt=Dt||H._DEFAULT_ENTRY_NAME))throw Ae.create("no-app",{appName:Dt});return At[Dt]}return Et.default=Et,Object.defineProperty(Et,"apps",{get:function ct(){return Object.keys(At).map(Dt=>At[Dt])}}),Qe.App=vt,Et}(Ee);return vt.INTERNAL=Object.assign(Object.assign({},vt.INTERNAL),{createFirebaseNamespace:Ve,extendNamespace:function At(Et){(0,g.ZB)(vt,Et)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),vt}(),ie=new Ie.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){ie.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const vt=self.firebase.SDK_VERSION;vt&&vt.indexOf("LITE")>=0&&ie.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Mt=ne;!function et(vt){(0,H.registerVersion)("@firebase/app-compat","0.2.35",vt)}()},4303:(Qt,Ke,B)=>{B.r(Ke),B.d(Ke,{FirebaseError:()=>Ie.ZR,SDK_VERSION:()=>ci,_DEFAULT_ENTRY_NAME:()=>Ue,_addComponent:()=>Xt,_addOrOverwriteComponent:()=>Kt,_apps:()=>rt,_clearComponents:()=>Yt,_components:()=>wt,_getProvider:()=>gn,_isFirebaseApp:()=>_n,_isFirebaseServerApp:()=>xn,_registerComponent:()=>qt,_removeServiceInstance:()=>Zn,_serverApps:()=>_t,deleteApp:()=>bn,getApp:()=>Kn,getApps:()=>Ut,initializeApp:()=>On,initializeServerApp:()=>vr,onLog:()=>Br,registerVersion:()=>Rn,setLogLevel:()=>Rr});var g=B(5861),u=B(4537),H=B(7879),Ie=B(9058),Ee=B(1878);class Se{constructor(de){this.container=de}getPlatformInfoString(){return this.container.getProviders().map(J=>{if(function Ae(Bt){const de=Bt.getComponent();return"VERSION"===de?.type}(J)){const z=J.getImmediate();return`${z.library}/${z.version}`}return null}).filter(J=>J).join(" ")}}const Ce="@firebase/app",Ve="0.10.5",ne=new H.Yd("@firebase/app"),Ue="[DEFAULT]",nt={[Ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},rt=new Map,_t=new Map,wt=new Map;function Xt(Bt,de){try{Bt.container.addComponent(de)}catch(J){ne.debug(`Component ${de.name} failed to register with FirebaseApp ${Bt.name}`,J)}}function Kt(Bt,de){Bt.container.addOrOverwriteComponent(de)}function qt(Bt){const de=Bt.name;if(wt.has(de))return ne.debug(`There were multiple attempts to register component ${de}.`),!1;wt.set(de,Bt);for(const J of rt.values())Xt(J,Bt);for(const J of _t.values())Xt(J,Bt);return!0}function gn(Bt,de){const J=Bt.container.getProvider("heartbeat").getImmediate({optional:!0});return J&&J.triggerHeartbeat(),Bt.container.getProvider(de)}function Zn(Bt,de,J=Ue){gn(Bt,de).clearInstance(J)}function _n(Bt){return void 0!==Bt.options}function xn(Bt){return void 0!==Bt.settings}function Yt(){wt.clear()}const Mn=new Ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class kn{constructor(de,J,z){this._isDeleted=!1,this._options=Object.assign({},de),this._config=Object.assign({},J),this._name=J.name,this._automaticDataCollectionEnabled=J.automaticDataCollectionEnabled,this._container=z,this.container.addComponent(new u.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(de){this.checkDestroyed(),this._automaticDataCollectionEnabled=de}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(de){this._isDeleted=de}checkDestroyed(){if(this.isDeleted)throw Mn.create("app-deleted",{appName:this._name})}}class en extends kn{constructor(de,J,z,j){const F=void 0!==J.automaticDataCollectionEnabled&&J.automaticDataCollectionEnabled,pe={name:z,automaticDataCollectionEnabled:F};super(void 0!==de.apiKey?de:de.options,pe,j),this._serverConfig=Object.assign({automaticDataCollectionEnabled:F},J),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,J.releaseOnDeref=void 0,Rn(Ce,Ve,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(de){this.isDeleted||(this._refCount++,void 0!==de&&this._finalizationRegistry.register(de,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){bn(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Mn.create("server-app-deleted")}}const ci="10.12.2";function On(Bt,de={}){let J=Bt;"object"!=typeof de&&(de={name:de});const z=Object.assign({name:Ue,automaticDataCollectionEnabled:!1},de),j=z.name;if("string"!=typeof j||!j)throw Mn.create("bad-app-name",{appName:String(j)});if(J||(J=(0,Ie.aH)()),!J)throw Mn.create("no-options");const F=rt.get(j);if(F){if((0,Ie.vZ)(J,F.options)&&(0,Ie.vZ)(z,F.config))return F;throw Mn.create("duplicate-app",{appName:j})}const pe=new u.H0(j);for(const bt of wt.values())pe.addComponent(bt);const ke=new kn(J,z,pe);return rt.set(j,ke),ke}function vr(Bt,de){if((0,Ie.jU)())throw Mn.create("invalid-server-app-environment");let J;void 0===de.automaticDataCollectionEnabled&&(de.automaticDataCollectionEnabled=!1),J=_n(Bt)?Bt.options:Bt;const z=Object.assign(Object.assign({},de),J);if(void 0!==z.releaseOnDeref&&delete z.releaseOnDeref,void 0!==de.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Mn.create("finalization-registry-not-supported",{});const F=""+(kt=JSON.stringify(z),[...kt].reduce((ln,un)=>Math.imul(31,ln)+un.charCodeAt(0)|0,0)),pe=_t.get(F);var kt;if(pe)return pe.incRefCount(de.releaseOnDeref),pe;const ke=new u.H0(F);for(const kt of wt.values())ke.addComponent(kt);const bt=new en(J,de,F,ke);return _t.set(F,bt),bt}function Kn(Bt=Ue){const de=rt.get(Bt);if(!de&&Bt===Ue&&(0,Ie.aH)())return On();if(!de)throw Mn.create("no-app",{appName:Bt});return de}function Ut(){return Array.from(rt.values())}function bn(Bt){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,g.Z)(function*(Bt){let de=!1;const J=Bt.name;rt.has(J)?(de=!0,rt.delete(J)):_t.has(J)&&Bt.decRefCount()<=0&&(_t.delete(J),de=!0),de&&(yield Promise.all(Bt.container.getProviders().map(z=>z.delete())),Bt.isDeleted=!0)})).apply(this,arguments)}function Rn(Bt,de,J){var z;let j=null!==(z=nt[Bt])&&void 0!==z?z:Bt;J&&(j+=`-${J}`);const F=j.match(/\s|\//),pe=de.match(/\s|\//);if(F||pe){const ke=[`Unable to register library "${j}" with version "${de}":`];return F&&ke.push(`library name "${j}" contains illegal characters (whitespace or "/")`),F&&pe&&ke.push("and"),pe&&ke.push(`version name "${de}" contains illegal characters (whitespace or "/")`),void ne.warn(ke.join(" "))}qt(new u.wA(`${j}-version`,()=>({library:j,version:de}),"VERSION"))}function Br(Bt,de){if(null!==Bt&&"function"!=typeof Bt)throw Mn.create("invalid-log-argument");(0,H.Am)(Bt,de)}function Rr(Bt){(0,H.Ub)(Bt)}const Yn="firebase-heartbeat-database",Hn=1,xr="firebase-heartbeat-store";let li=null;function cn(){return li||(li=(0,Ee.X3)(Yn,Hn,{upgrade:(Bt,de)=>{if(0===de)try{Bt.createObjectStore(xr)}catch(J){console.warn(J)}}}).catch(Bt=>{throw Mn.create("idb-open",{originalErrorMessage:Bt.message})})),li}function er(){return(er=(0,g.Z)(function*(Bt){try{const J=(yield cn()).transaction(xr),z=yield J.objectStore(xr).get(Gr(Bt));return yield J.done,z}catch(de){if(de instanceof Ie.ZR)ne.warn(de.message);else{const J=Mn.create("idb-get",{originalErrorMessage:de?.message});ne.warn(J.message)}}})).apply(this,arguments)}function Ar(Bt,de){return gr.apply(this,arguments)}function gr(){return(gr=(0,g.Z)(function*(Bt,de){try{const z=(yield cn()).transaction(xr,"readwrite");yield z.objectStore(xr).put(de,Gr(Bt)),yield z.done}catch(J){if(J instanceof Ie.ZR)ne.warn(J.message);else{const z=Mn.create("idb-set",{originalErrorMessage:J?.message});ne.warn(z.message)}}})).apply(this,arguments)}function Gr(Bt){return`${Bt.name}!${Bt.options.appId}`}class oe{constructor(de){this.container=de,this._heartbeatsCache=null;const J=this.container.getProvider("app").getImmediate();this._storage=new zt(J),this._heartbeatsCachePromise=this._storage.read().then(z=>(this._heartbeatsCache=z,z))}triggerHeartbeat(){var de=this;return(0,g.Z)(function*(){var J,z;const F=de.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),pe=Me();if((null!=(null===(J=de._heartbeatsCache)||void 0===J?void 0:J.heartbeats)||(de._heartbeatsCache=yield de._heartbeatsCachePromise,null!=(null===(z=de._heartbeatsCache)||void 0===z?void 0:z.heartbeats)))&&de._heartbeatsCache.lastSentHeartbeatDate!==pe&&!de._heartbeatsCache.heartbeats.some(ke=>ke.date===pe))return de._heartbeatsCache.heartbeats.push({date:pe,agent:F}),de._heartbeatsCache.heartbeats=de._heartbeatsCache.heartbeats.filter(ke=>{const bt=new Date(ke.date).valueOf();return Date.now()-bt<=2592e6}),de._storage.overwrite(de._heartbeatsCache)})()}getHeartbeatsHeader(){var de=this;return(0,g.Z)(function*(){var J;if(null===de._heartbeatsCache&&(yield de._heartbeatsCachePromise),null==(null===(J=de._heartbeatsCache)||void 0===J?void 0:J.heartbeats)||0===de._heartbeatsCache.heartbeats.length)return"";const z=Me(),{heartbeatsToSend:j,unsentEntries:F}=function yt(Bt,de=1024){const J=[];let z=Bt.slice();for(const j of Bt){const F=J.find(pe=>pe.agent===j.agent);if(F){if(F.dates.push(j.date),Fn(J)>de){F.dates.pop();break}}else if(J.push({agent:j.agent,dates:[j.date]}),Fn(J)>de){J.pop();break}z=z.slice(1)}return{heartbeatsToSend:J,unsentEntries:z}}(de._heartbeatsCache.heartbeats),pe=(0,Ie.L)(JSON.stringify({version:2,heartbeats:j}));return de._heartbeatsCache.lastSentHeartbeatDate=z,F.length>0?(de._heartbeatsCache.heartbeats=F,yield de._storage.overwrite(de._heartbeatsCache)):(de._heartbeatsCache.heartbeats=[],de._storage.overwrite(de._heartbeatsCache)),pe})()}}function Me(){return(new Date).toISOString().substring(0,10)}class zt{constructor(de){this.app=de,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,Ie.hl)()&&(0,Ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var de=this;return(0,g.Z)(function*(){if(yield de._canUseIndexedDBPromise){const z=yield function ui(Bt){return er.apply(this,arguments)}(de.app);return z?.heartbeats?z:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(de){var J=this;return(0,g.Z)(function*(){var z;if(yield J._canUseIndexedDBPromise){const F=yield J.read();return Ar(J.app,{lastSentHeartbeatDate:null!==(z=de.lastSentHeartbeatDate)&&void 0!==z?z:F.lastSentHeartbeatDate,heartbeats:de.heartbeats})}})()}add(de){var J=this;return(0,g.Z)(function*(){var z;if(yield J._canUseIndexedDBPromise){const F=yield J.read();return Ar(J.app,{lastSentHeartbeatDate:null!==(z=de.lastSentHeartbeatDate)&&void 0!==z?z:F.lastSentHeartbeatDate,heartbeats:[...F.heartbeats,...de.heartbeats]})}})()}}function Fn(Bt){return(0,Ie.L)(JSON.stringify({version:2,heartbeats:Bt})).length}!function ni(Bt){qt(new u.wA("platform-logger",de=>new Se(de),"PRIVATE")),qt(new u.wA("heartbeat",de=>new oe(de),"PRIVATE")),Rn(Ce,Ve,Bt),Rn(Ce,Ve,"esm2017"),Rn("fire-js","")}("")},4537:(Qt,Ke,B)=>{B.d(Ke,{H0:()=>Ce,wA:()=>H});var g=B(5861),u=B(9058);class H{constructor(ne,ie,ve){this.name=ne,this.instanceFactory=ie,this.type=ve,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ne){return this.instantiationMode=ne,this}setMultipleInstances(ne){return this.multipleInstances=ne,this}setServiceProps(ne){return this.serviceProps=ne,this}setInstanceCreatedCallback(ne){return this.onInstanceCreated=ne,this}}const Ie="[DEFAULT]";class Ee{constructor(ne,ie){this.name=ne,this.container=ie,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ne){const ie=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(ie)){const ve=new u.BH;if(this.instancesDeferred.set(ie,ve),this.isInitialized(ie)||this.shouldAutoInitialize())try{const it=this.getOrInitializeService({instanceIdentifier:ie});it&&ve.resolve(it)}catch{}}return this.instancesDeferred.get(ie).promise}getImmediate(ne){var ie;const ve=this.normalizeInstanceIdentifier(ne?.identifier),it=null!==(ie=ne?.optional)&&void 0!==ie&&ie;if(!this.isInitialized(ve)&&!this.shouldAutoInitialize()){if(it)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ve})}catch(et){if(it)return null;throw et}}getComponent(){return this.component}setComponent(ne){if(ne.name!==this.name)throw Error(`Mismatching Component ${ne.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ne,this.shouldAutoInitialize()){if(function Ae(Ve){return"EAGER"===Ve.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:Ie})}catch{}for(const[ie,ve]of this.instancesDeferred.entries()){const it=this.normalizeInstanceIdentifier(ie);try{const et=this.getOrInitializeService({instanceIdentifier:it});ve.resolve(et)}catch{}}}}clearInstance(ne=Ie){this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)}delete(){var ne=this;return(0,g.Z)(function*(){const ie=Array.from(ne.instances.values());yield Promise.all([...ie.filter(ve=>"INTERNAL"in ve).map(ve=>ve.INTERNAL.delete()),...ie.filter(ve=>"_delete"in ve).map(ve=>ve._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ne=Ie){return this.instances.has(ne)}getOptions(ne=Ie){return this.instancesOptions.get(ne)||{}}initialize(ne={}){const{options:ie={}}=ne,ve=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(ve))throw Error(`${this.name}(${ve}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const it=this.getOrInitializeService({instanceIdentifier:ve,options:ie});for(const[et,Mt]of this.instancesDeferred.entries())ve===this.normalizeInstanceIdentifier(et)&&Mt.resolve(it);return it}onInit(ne,ie){var ve;const it=this.normalizeInstanceIdentifier(ie),et=null!==(ve=this.onInitCallbacks.get(it))&&void 0!==ve?ve:new Set;et.add(ne),this.onInitCallbacks.set(it,et);const Mt=this.instances.get(it);return Mt&&ne(Mt,it),()=>{et.delete(ne)}}invokeOnInitCallbacks(ne,ie){const ve=this.onInitCallbacks.get(ie);if(ve)for(const it of ve)try{it(ne,ie)}catch{}}getOrInitializeService({instanceIdentifier:ne,options:ie={}}){let ve=this.instances.get(ne);if(!ve&&this.component&&(ve=this.component.instanceFactory(this.container,{instanceIdentifier:(Ve=ne,Ve===Ie?void 0:Ve),options:ie}),this.instances.set(ne,ve),this.instancesOptions.set(ne,ie),this.invokeOnInitCallbacks(ve,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,ve)}catch{}var Ve;return ve||null}normalizeInstanceIdentifier(ne=Ie){return this.component?this.component.multipleInstances?ne:Ie:ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ce{constructor(ne){this.name=ne,this.providers=new Map}addComponent(ne){const ie=this.getProvider(ne.name);if(ie.isComponentSet())throw new Error(`Component ${ne.name} has already been registered with ${this.name}`);ie.setComponent(ne)}addOrOverwriteComponent(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)}getProvider(ne){if(this.providers.has(ne))return this.providers.get(ne);const ie=new Ee(ne,this);return this.providers.set(ne,ie),ie}getProviders(){return Array.from(this.providers.values())}}},7879:(Qt,Ke,B)=>{B.d(Ke,{Am:()=>Ve,Ub:()=>Ce,Yd:()=>Ae,in:()=>u});const g=[];var u=function(ne){return ne[ne.DEBUG=0]="DEBUG",ne[ne.VERBOSE=1]="VERBOSE",ne[ne.INFO=2]="INFO",ne[ne.WARN=3]="WARN",ne[ne.ERROR=4]="ERROR",ne[ne.SILENT=5]="SILENT",ne}(u||{});const H={debug:u.DEBUG,verbose:u.VERBOSE,info:u.INFO,warn:u.WARN,error:u.ERROR,silent:u.SILENT},Ie=u.INFO,Ee={[u.DEBUG]:"log",[u.VERBOSE]:"log",[u.INFO]:"info",[u.WARN]:"warn",[u.ERROR]:"error"},Se=(ne,ie,...ve)=>{if(ie<ne.logLevel)return;const it=(new Date).toISOString(),et=Ee[ie];if(!et)throw new Error(`Attempted to log a message with an invalid logType (value: ${ie})`);console[et](`[${it}]  ${ne.name}:`,...ve)};class Ae{constructor(ie){this.name=ie,this._logLevel=Ie,this._logHandler=Se,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(ie){if(!(ie in u))throw new TypeError(`Invalid value "${ie}" assigned to \`logLevel\``);this._logLevel=ie}setLogLevel(ie){this._logLevel="string"==typeof ie?H[ie]:ie}get logHandler(){return this._logHandler}set logHandler(ie){if("function"!=typeof ie)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ie}get userLogHandler(){return this._userLogHandler}set userLogHandler(ie){this._userLogHandler=ie}debug(...ie){this._userLogHandler&&this._userLogHandler(this,u.DEBUG,...ie),this._logHandler(this,u.DEBUG,...ie)}log(...ie){this._userLogHandler&&this._userLogHandler(this,u.VERBOSE,...ie),this._logHandler(this,u.VERBOSE,...ie)}info(...ie){this._userLogHandler&&this._userLogHandler(this,u.INFO,...ie),this._logHandler(this,u.INFO,...ie)}warn(...ie){this._userLogHandler&&this._userLogHandler(this,u.WARN,...ie),this._logHandler(this,u.WARN,...ie)}error(...ie){this._userLogHandler&&this._userLogHandler(this,u.ERROR,...ie),this._logHandler(this,u.ERROR,...ie)}}function Ce(ne){g.forEach(ie=>{ie.setLogLevel(ne)})}function Ve(ne,ie){for(const ve of g){let it=null;ie&&ie.level&&(it=H[ie.level]),ve.userLogHandler=null===ne?null:(et,Mt,...vt)=>{const At=vt.map(Et=>{if(null==Et)return null;if("string"==typeof Et)return Et;if("number"==typeof Et||"boolean"==typeof Et)return Et.toString();if(Et instanceof Error)return Et.message;try{return JSON.stringify(Et)}catch{return null}}).filter(Et=>Et).join(" ");Mt>=(it??et.logLevel)&&ne({level:u[Mt].toLowerCase(),message:At,args:vt,type:et.name})}}}},3182:(Qt,Ke,B)=>{B.d(Ke,{C6:()=>g.getApps,KN:()=>g.registerVersion,Mq:()=>g.getApp,ZF:()=>g.initializeApp});var g=B(4303);(0,g.registerVersion)("firebase","10.12.2","app")},7142:(Qt,Ke,B)=>{B.d(Ke,{Z:()=>g.Z});var g=B(3106);g.Z.registerVersion("firebase","10.12.2","app-compat")},6365:(Qt,Ke,B)=>{B.r(Ke);var g=B(5861),u=B(3106),H=B(35),Ie=B(9058),Ae=(B(4303),B(7879),B(4537));function Ce(){return window}function ie(){return ie=(0,g.Z)(function*(z,j,F){var pe;const{BuildInfo:ke}=Ce();(0,H.au)(j.sessionId,"AuthEvent did not contain a session ID");const bt=yield function Et(z){return on.apply(this,arguments)}(j.sessionId),kt={};return(0,H.av)()?kt.ibi=ke.packageName:(0,H.aw)()?kt.apn=ke.packageName:(0,H.ax)(z,"operation-not-supported-in-this-environment"),ke.displayName&&(kt.appDisplayName=ke.displayName),kt.sessionId=bt,(0,H.ay)(z,F,j.type,void 0,null!==(pe=j.eventId)&&void 0!==pe?pe:void 0,kt)}),ie.apply(this,arguments)}function it(){return(it=(0,g.Z)(function*(z){const{BuildInfo:j}=Ce(),F={};(0,H.av)()?F.iosBundleId=j.packageName:(0,H.aw)()?F.androidPackageName=j.packageName:(0,H.ax)(z,"operation-not-supported-in-this-environment"),yield(0,H.az)(z,F)})).apply(this,arguments)}function vt(){return(vt=(0,g.Z)(function*(z,j,F){const{cordova:pe}=Ce();let ke=()=>{};try{yield new Promise((bt,kt)=>{let ln=null;function un(){var Fe;bt();const Re=null===(Fe=pe.plugins.browsertab)||void 0===Fe?void 0:Fe.close;"function"==typeof Re&&Re(),"function"==typeof F?.close&&F.close()}function dn(){ln||(ln=window.setTimeout(()=>{kt((0,H.aB)(z,"redirect-cancelled-by-user"))},2e3))}function ar(){"visible"===document?.visibilityState&&dn()}j.addPassiveListener(un),document.addEventListener("resume",dn,!1),(0,H.aw)()&&document.addEventListener("visibilitychange",ar,!1),ke=()=>{j.removePassiveListener(un),document.removeEventListener("resume",dn,!1),document.removeEventListener("visibilitychange",ar,!1),ln&&window.clearTimeout(ln)}})}finally{ke()}})).apply(this,arguments)}function on(){return(on=(0,g.Z)(function*(z){const j=function Qe(z){if((0,H.au)(/[0-9a-zA-Z]+/.test(z),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(z);const j=new ArrayBuffer(z.length),F=new Uint8Array(j);for(let pe=0;pe<z.length;pe++)F[pe]=z.charCodeAt(pe);return F}(z),F=yield crypto.subtle.digest("SHA-256",j);return Array.from(new Uint8Array(F)).map(ke=>ke.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class ct extends H.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(j=>{this.resolveInialized=j})}addPassiveListener(j){this.passiveListeners.add(j)}removePassiveListener(j){this.passiveListeners.delete(j)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(j){return this.resolveInialized(),this.passiveListeners.forEach(F=>F(j)),super.onEvent(j)}initialized(){var j=this;return(0,g.Z)(function*(){yield j.initPromise})()}}function Dt(z){return Je.apply(this,arguments)}function Je(){return(Je=(0,g.Z)(function*(z){const j=yield $t()._get(jn(z));return j&&(yield $t()._remove(jn(z))),j})).apply(this,arguments)}function Ct(){const z=[];for(let F=0;F<20;F++){const pe=Math.floor(62*Math.random());z.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(pe))}return z.join("")}function $t(){return(0,H.aE)(H.b)}function jn(z){return(0,H.aF)("authEvent",z.config.apiKey,z.name)}function Jt(z){if(!z?.includes("?"))return{};const[j,...F]=z.split("?");return(0,Ie.zd)(F.join("?"))}const _e=class Ne{constructor(){this._redirectPersistence=H.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=H.aG,this._overrideRedirectResult=H.aH}_initialize(j){var F=this;return(0,g.Z)(function*(){const pe=j._key();let ke=F.eventManagers.get(pe);return ke||(ke=new ct(j),F.eventManagers.set(pe,ke),F.attachCallbackListeners(j,ke)),ke})()}_openPopup(j){(0,H.ax)(j,"operation-not-supported-in-this-environment")}_openRedirect(j,F,pe,ke){var bt=this;return(0,g.Z)(function*(){!function At(z){var j,F,pe,ke,bt,kt,ln,un,dn,ar;const Fe=Ce();(0,H.aC)("function"==typeof(null===(j=Fe?.universalLinks)||void 0===j?void 0:j.subscribe),z,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,H.aC)(typeof(null===(F=Fe?.BuildInfo)||void 0===F?void 0:F.packageName)<"u",z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,H.aC)("function"==typeof(null===(bt=null===(ke=null===(pe=Fe?.cordova)||void 0===pe?void 0:pe.plugins)||void 0===ke?void 0:ke.browsertab)||void 0===bt?void 0:bt.openUrl),z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.aC)("function"==typeof(null===(un=null===(ln=null===(kt=Fe?.cordova)||void 0===kt?void 0:kt.plugins)||void 0===ln?void 0:ln.browsertab)||void 0===un?void 0:un.isAvailable),z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.aC)("function"==typeof(null===(ar=null===(dn=Fe?.cordova)||void 0===dn?void 0:dn.InAppBrowser)||void 0===ar?void 0:ar.open),z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(j);const kt=yield bt._initialize(j);yield kt.initialized(),kt.resetRedirect(),(0,H.aI)(),yield bt._originValidation(j);const ln=function Ge(z,j,F=null){return{type:j,eventId:F,urlResponse:null,sessionId:Ct(),postBody:null,tenantId:z.tenantId,error:(0,H.aB)(z,"no-auth-event")}}(j,pe,ke);yield function ot(z,j){return $t()._set(jn(z),j)}(j,ln);const un=yield function ne(z,j,F){return ie.apply(this,arguments)}(j,ln,F),dn=yield function et(z){const{cordova:j}=Ce();return new Promise(F=>{j.plugins.browsertab.isAvailable(pe=>{let ke=null;pe?j.plugins.browsertab.openUrl(z):ke=j.InAppBrowser.open(z,(0,H.aA)()?"_blank":"_system","location=yes"),F(ke)})})}(un);return function Mt(z,j,F){return vt.apply(this,arguments)}(j,kt,dn)})()}_isIframeWebStorageSupported(j,F){throw new Error("Method not implemented.")}_originValidation(j){const F=j._key();return this.originValidationPromises[F]||(this.originValidationPromises[F]=function ve(z){return it.apply(this,arguments)}(j)),this.originValidationPromises[F]}attachCallbackListeners(j,F){const{universalLinks:pe,handleOpenURL:ke,BuildInfo:bt}=Ce(),kt=setTimeout((0,g.Z)(function*(){yield Dt(j),F.onEvent(Ue())}),500),ln=function(){var ar=(0,g.Z)(function*(Fe){clearTimeout(kt);const Re=yield Dt(j);let Be=null;Re&&Fe?.url&&(Be=function me(z,j){var F,pe;const ke=function Ft(z){const j=Jt(z),F=j.link?decodeURIComponent(j.link):void 0,pe=Jt(F).link,ke=j.deep_link_id?decodeURIComponent(j.deep_link_id):void 0;return Jt(ke).link||ke||pe||F||z}(j);if(ke.includes("/__/auth/callback")){const bt=Jt(ke),kt=bt.firebaseError?function Tt(z){try{return JSON.parse(z)}catch{return null}}(decodeURIComponent(bt.firebaseError)):null,ln=null===(pe=null===(F=kt?.code)||void 0===F?void 0:F.split("auth/"))||void 0===pe?void 0:pe[1],un=ln?(0,H.aB)(ln):null;return un?{type:z.type,eventId:z.eventId,tenantId:z.tenantId,error:un,urlResponse:null,sessionId:null,postBody:null}:{type:z.type,eventId:z.eventId,tenantId:z.tenantId,sessionId:z.sessionId,urlResponse:ke,postBody:null}}return null}(Re,Fe.url)),F.onEvent(Be||Ue())});return function(Re){return ar.apply(this,arguments)}}();typeof pe<"u"&&"function"==typeof pe.subscribe&&pe.subscribe(null,ln);const un=ke,dn=`${bt.packageName.toLowerCase()}://`;Ce().handleOpenURL=function(){var ar=(0,g.Z)(function*(Fe){if(Fe.toLowerCase().startsWith(dn)&&ln({url:Fe}),"function"==typeof un)try{un(Fe)}catch(Re){console.error(Re)}});return function(Fe){return ar.apply(this,arguments)}}()}};function Ue(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,H.aB)("no-auth-event")}}function Xt(){var z;return(null===(z=self?.location)||void 0===z?void 0:z.protocol)||null}function qt(z=(0,Ie.z$)()){return!("file:"!==Xt()&&"ionic:"!==Xt()&&"capacitor:"!==Xt()||!z.toLowerCase().match(/iphone|ipad|ipod|android/))}function Yt(){try{const z=self.localStorage,j=H.aN();if(z)return z.setItem(j,"1"),z.removeItem(j),!function xn(z=(0,Ie.z$)()){return function Zn(){return(0,Ie.w1)()&&11===document?.documentMode}()||function _n(z=(0,Ie.z$)()){return/Edge\/\d+/.test(z)}(z)}()||(0,Ie.hl)()}catch{return mn()&&(0,Ie.hl)()}return!1}function mn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Mn(){return(function Kt(){return"http:"===Xt()||"https:"===Xt()}()||(0,Ie.ru)()||qt())&&!function gn(){return(0,Ie.b$)()||(0,Ie.UG)()}()&&Yt()&&!mn()}function kn(){return qt()&&typeof document<"u"}function ci(){return(ci=(0,g.Z)(function*(){return!!kn()&&new Promise(z=>{const j=setTimeout(()=>{z(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(j),z(!0)})})})).apply(this,arguments)}const vr={LOCAL:"local",NONE:"none",SESSION:"session"},Kn=H.aC,Ut="persistence";function Vn(z){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,g.Z)(function*(z){yield z._initializationPromise;const j=Rr(),F=H.aF(Ut,z.config.apiKey,z.name);j&&j.setItem(F,z._getPersistence())})).apply(this,arguments)}function Rr(){var z;try{return(null===(z=function On(){return typeof window<"u"?window:null}())||void 0===z?void 0:z.sessionStorage)||null}catch{return null}}const Yn=H.aC;class Hn{constructor(){this.browserResolver=H.aE(H.k),this.cordovaResolver=H.aE(_e),this.underlyingResolver=null,this._redirectPersistence=H.a,this._completeRedirectFn=H.aG,this._overrideRedirectResult=H.aH}_initialize(j){var F=this;return(0,g.Z)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._initialize(j)})()}_openPopup(j,F,pe,ke){var bt=this;return(0,g.Z)(function*(){return yield bt.selectUnderlyingResolver(),bt.assertedUnderlyingResolver._openPopup(j,F,pe,ke)})()}_openRedirect(j,F,pe,ke){var bt=this;return(0,g.Z)(function*(){return yield bt.selectUnderlyingResolver(),bt.assertedUnderlyingResolver._openRedirect(j,F,pe,ke)})()}_isIframeWebStorageSupported(j,F){this.assertedUnderlyingResolver._isIframeWebStorageSupported(j,F)}_originValidation(j){return this.assertedUnderlyingResolver._originValidation(j)}get _shouldInitProactively(){return kn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Yn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var j=this;return(0,g.Z)(function*(){if(j.underlyingResolver)return;const F=yield function en(){return ci.apply(this,arguments)}();j.underlyingResolver=F?j.cordovaResolver:j.browserResolver})()}}function xr(z){return z.unwrap()}function cn(z){return er(z)}function er(z){const{_tokenResponse:j}=z instanceof Ie.ZR?z.customData:z;if(!j)return null;if(!(z instanceof Ie.ZR)&&"temporaryProof"in j&&"phoneNumber"in j)return H.P.credentialFromResult(z);const F=j.providerId;if(!F||F===H.p.PASSWORD)return null;let pe;switch(F){case H.p.GOOGLE:pe=H.X;break;case H.p.FACEBOOK:pe=H.W;break;case H.p.GITHUB:pe=H.Y;break;case H.p.TWITTER:pe=H.$;break;default:const{oauthIdToken:ke,oauthAccessToken:bt,oauthTokenSecret:kt,pendingToken:ln,nonce:un}=j;return bt||kt||ke||ln?ln?F.startsWith("saml.")?H.aQ._create(F,ln):H.N._fromParams({providerId:F,signInMethod:F,pendingToken:ln,idToken:ke,accessToken:bt}):new H.Z(F).credential({idToken:ke,accessToken:bt,rawNonce:un}):null}return z instanceof Ie.ZR?pe.credentialFromError(z):pe.credentialFromResult(z)}function Ar(z,j){return j.catch(F=>{throw F instanceof Ie.ZR&&function ui(z,j){var F;const pe=null===(F=j.customData)||void 0===F?void 0:F._tokenResponse;if("auth/multi-factor-auth-required"===j?.code)j.resolver=new Ze(z,H.as(z,j));else if(pe){const ke=er(j),bt=j;ke&&(bt.credential=ke,bt.tenantId=pe.tenantId||void 0,bt.email=pe.email||void 0,bt.phoneNumber=pe.phoneNumber||void 0)}}(z,F),F}).then(F=>{const ke=F.user;return{operationType:F.operationType,credential:cn(F),additionalUserInfo:H.aq(F),user:It.getOrCreate(ke)}})}function gr(z,j){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,g.Z)(function*(z,j){const F=yield j;return{verificationId:F.verificationId,confirm:pe=>Ar(z,F.confirm(pe))}})).apply(this,arguments)}class Ze{constructor(j,F){this.resolver=F,this.auth=function li(z){return z.wrapped()}(j)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(j){return Ar(xr(this.auth),this.resolver.resolveSignIn(j))}}class It{constructor(j){this._delegate=j,this.multiFactor=H.at(j)}static getOrCreate(j){return It.USER_MAP.has(j)||It.USER_MAP.set(j,new It(j)),It.USER_MAP.get(j)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(j){return this._delegate.getIdTokenResult(j)}getIdToken(j){return this._delegate.getIdToken(j)}linkAndRetrieveDataWithCredential(j){return this.linkWithCredential(j)}linkWithCredential(j){var F=this;return(0,g.Z)(function*(){return Ar(F.auth,H.a2(F._delegate,j))})()}linkWithPhoneNumber(j,F){var pe=this;return(0,g.Z)(function*(){return gr(pe.auth,H.l(pe._delegate,j,F))})()}linkWithPopup(j){var F=this;return(0,g.Z)(function*(){return Ar(F.auth,H.d(F._delegate,j,Hn))})()}linkWithRedirect(j){var F=this;return(0,g.Z)(function*(){return yield Vn(H.aJ(F.auth)),H.g(F._delegate,j,Hn)})()}reauthenticateAndRetrieveDataWithCredential(j){return this.reauthenticateWithCredential(j)}reauthenticateWithCredential(j){var F=this;return(0,g.Z)(function*(){return Ar(F.auth,H.a3(F._delegate,j))})()}reauthenticateWithPhoneNumber(j,F){return gr(this.auth,H.r(this._delegate,j,F))}reauthenticateWithPopup(j){return Ar(this.auth,H.e(this._delegate,j,Hn))}reauthenticateWithRedirect(j){var F=this;return(0,g.Z)(function*(){return yield Vn(H.aJ(F.auth)),H.h(F._delegate,j,Hn)})()}sendEmailVerification(j){return H.ag(this._delegate,j)}unlink(j){var F=this;return(0,g.Z)(function*(){return yield H.ap(F._delegate,j),F})()}updateEmail(j){return H.al(this._delegate,j)}updatePassword(j){return H.am(this._delegate,j)}updatePhoneNumber(j){return H.u(this._delegate,j)}updateProfile(j){return H.ak(this._delegate,j)}verifyBeforeUpdateEmail(j,F){return H.ah(this._delegate,j,F)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}It.USER_MAP=new WeakMap;const oe=H.aC;let Me=(()=>{class z{constructor(F,pe){if(this.app=F,pe.isInitialized())return this._delegate=pe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ke}=F.options;oe(ke,"invalid-api-key",{appName:F.name}),oe(ke,"invalid-api-key",{appName:F.name});const bt=typeof window<"u"?Hn:void 0;this._delegate=pe.initialize({options:{persistence:zt(ke,F.name),popupRedirectResolver:bt}}),this._delegate._updateErrorMap(H.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?It.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(F){this._delegate.languageCode=F}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(F){this._delegate.tenantId=F}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(F,pe){H.K(this._delegate,F,pe)}applyActionCode(F){return H.a7(this._delegate,F)}checkActionCode(F){return H.a8(this._delegate,F)}confirmPasswordReset(F,pe){return H.a6(this._delegate,F,pe)}createUserWithEmailAndPassword(F,pe){var ke=this;return(0,g.Z)(function*(){return Ar(ke._delegate,H.aa(ke._delegate,F,pe))})()}fetchProvidersForEmail(F){return this.fetchSignInMethodsForEmail(F)}fetchSignInMethodsForEmail(F){return H.af(this._delegate,F)}isSignInWithEmailLink(F){return H.ad(this._delegate,F)}getRedirectResult(){var F=this;return(0,g.Z)(function*(){oe(Mn(),F._delegate,"operation-not-supported-in-this-environment");const pe=yield H.j(F._delegate,Hn);return pe?Ar(F._delegate,Promise.resolve(pe)):{credential:null,user:null}})()}addFrameworkForLogging(F){!function nt(z,j){(0,H.aJ)(z)._logFramework(j)}(this._delegate,F)}onAuthStateChanged(F,pe,ke){const{next:bt,error:kt,complete:ln}=yt(F,pe,ke);return this._delegate.onAuthStateChanged(bt,kt,ln)}onIdTokenChanged(F,pe,ke){const{next:bt,error:kt,complete:ln}=yt(F,pe,ke);return this._delegate.onIdTokenChanged(bt,kt,ln)}sendSignInLinkToEmail(F,pe){return H.ac(this._delegate,F,pe)}sendPasswordResetEmail(F,pe){return H.a5(this._delegate,F,pe||void 0)}setPersistence(F){var pe=this;return(0,g.Z)(function*(){let ke;switch(function bn(z,j){Kn(Object.values(vr).includes(j),z,"invalid-persistence-type"),(0,Ie.b$)()?Kn(j!==vr.SESSION,z,"unsupported-persistence-type"):(0,Ie.UG)()?Kn(j===vr.NONE,z,"unsupported-persistence-type"):mn()?Kn(j===vr.NONE||j===vr.LOCAL&&(0,Ie.hl)(),z,"unsupported-persistence-type"):Kn(j===vr.NONE||Yt(),z,"unsupported-persistence-type")}(pe._delegate,F),F){case vr.SESSION:ke=H.a;break;case vr.LOCAL:ke=(yield H.aE(H.i)._isAvailable())?H.i:H.b;break;case vr.NONE:ke=H.U;break;default:return H.ax("argument-error",{appName:pe._delegate.name})}return pe._delegate.setPersistence(ke)})()}signInAndRetrieveDataWithCredential(F){return this.signInWithCredential(F)}signInAnonymously(){return Ar(this._delegate,H.a0(this._delegate))}signInWithCredential(F){return Ar(this._delegate,H.a1(this._delegate,F))}signInWithCustomToken(F){return Ar(this._delegate,H.a4(this._delegate,F))}signInWithEmailAndPassword(F,pe){return Ar(this._delegate,H.ab(this._delegate,F,pe))}signInWithEmailLink(F,pe){return Ar(this._delegate,H.ae(this._delegate,F,pe))}signInWithPhoneNumber(F,pe){return gr(this._delegate,H.s(this._delegate,F,pe))}signInWithPopup(F){var pe=this;return(0,g.Z)(function*(){return oe(Mn(),pe._delegate,"operation-not-supported-in-this-environment"),Ar(pe._delegate,H.c(pe._delegate,F,Hn))})()}signInWithRedirect(F){var pe=this;return(0,g.Z)(function*(){return oe(Mn(),pe._delegate,"operation-not-supported-in-this-environment"),yield Vn(pe._delegate),H.f(pe._delegate,F,Hn)})()}updateCurrentUser(F){return this._delegate.updateCurrentUser(F)}verifyPasswordResetCode(F){return H.a9(this._delegate,F)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return z.Persistence=vr,z})();function yt(z,j,F){let pe=z;"function"!=typeof z&&({next:pe,error:j,complete:F}=z);const ke=pe;return{next:kt=>ke(kt&&It.getOrCreate(kt)),error:j,complete:F}}function zt(z,j){const F=function Br(z,j){const F=Rr();if(!F)return[];const pe=H.aF(Ut,z,j);switch(F.getItem(pe)){case vr.NONE:return[H.U];case vr.LOCAL:return[H.i,H.a];case vr.SESSION:return[H.a];default:return[]}}(z,j);if(typeof self<"u"&&!F.includes(H.i)&&F.push(H.i),typeof window<"u")for(const pe of[H.b,H.a])F.includes(pe)||F.push(pe);return F.includes(H.U)||F.push(H.U),F}class Fn{constructor(){this.providerId="phone",this._delegate=new H.P(xr(u.Z.auth()))}static credential(j,F){return H.P.credential(j,F)}verifyPhoneNumber(j,F){return this._delegate.verifyPhoneNumber(j,F)}unwrap(){return this._delegate}}Fn.PHONE_SIGN_IN_METHOD=H.P.PHONE_SIGN_IN_METHOD,Fn.PROVIDER_ID=H.P.PROVIDER_ID;const ni=H.aC;class Bt{constructor(j,F,pe=u.Z.app()){var ke;ni(null===(ke=pe.options)||void 0===ke?void 0:ke.apiKey,"invalid-api-key",{appName:pe.name}),this._delegate=new H.R(pe.auth(),j,F),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function J(z){z.INTERNAL.registerComponent(new Ae.wA("auth-compat",j=>{const F=j.getProvider("app-compat").getImmediate(),pe=j.getProvider("auth");return new Me(F,pe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:H.A.EMAIL_SIGNIN,PASSWORD_RESET:H.A.PASSWORD_RESET,RECOVER_EMAIL:H.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:H.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:H.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:H.A.VERIFY_EMAIL}},EmailAuthProvider:H.V,FacebookAuthProvider:H.W,GithubAuthProvider:H.Y,GoogleAuthProvider:H.X,OAuthProvider:H.Z,SAMLAuthProvider:H._,PhoneAuthProvider:Fn,PhoneMultiFactorGenerator:H.m,RecaptchaVerifier:Bt,TwitterAuthProvider:H.$,Auth:Me,AuthCredential:H.L,Error:Ie.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),z.registerVersion("@firebase/auth-compat","0.5.9")}(u.Z)},1878:(Qt,Ke,B)=>{B.d(Ke,{X3:()=>Qe});var g=B(5861);const u=(Je,me)=>me.some(Ct=>Je instanceof Ct);let H,Ie;const Ae=new WeakMap,Ce=new WeakMap,Ve=new WeakMap,ne=new WeakMap,ie=new WeakMap;let et={get(Je,me,Ct){if(Je instanceof IDBTransaction){if("done"===me)return Ce.get(Je);if("objectStoreNames"===me)return Je.objectStoreNames||Ve.get(Je);if("store"===me)return Ct.objectStoreNames[1]?void 0:Ct.objectStore(Ct.objectStoreNames[0])}return Et(Je[me])},set:(Je,me,Ct)=>(Je[me]=Ct,!0),has:(Je,me)=>Je instanceof IDBTransaction&&("done"===me||"store"===me)||me in Je};function At(Je){return"function"==typeof Je?function vt(Je){return Je!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Se(){return Ie||(Ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Je)?function(...me){return Je.apply(on(this),me),Et(Ae.get(this))}:function(...me){return Et(Je.apply(on(this),me))}:function(me,...Ct){const $t=Je.call(on(this),me,...Ct);return Ve.set($t,me.sort?me.sort():[me]),Et($t)}}(Je):(Je instanceof IDBTransaction&&function it(Je){if(Ce.has(Je))return;const me=new Promise((Ct,$t)=>{const jn=()=>{Je.removeEventListener("complete",Tt),Je.removeEventListener("error",Ft),Je.removeEventListener("abort",Ft)},Tt=()=>{Ct(),jn()},Ft=()=>{$t(Je.error||new DOMException("AbortError","AbortError")),jn()};Je.addEventListener("complete",Tt),Je.addEventListener("error",Ft),Je.addEventListener("abort",Ft)});Ce.set(Je,me)}(Je),u(Je,function Ee(){return H||(H=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Je,et):Je)}function Et(Je){if(Je instanceof IDBRequest)return function ve(Je){const me=new Promise((Ct,$t)=>{const jn=()=>{Je.removeEventListener("success",Tt),Je.removeEventListener("error",Ft)},Tt=()=>{Ct(Et(Je.result)),jn()},Ft=()=>{$t(Je.error),jn()};Je.addEventListener("success",Tt),Je.addEventListener("error",Ft)});return me.then(Ct=>{Ct instanceof IDBCursor&&Ae.set(Ct,Je)}).catch(()=>{}),ie.set(me,Je),me}(Je);if(ne.has(Je))return ne.get(Je);const me=At(Je);return me!==Je&&(ne.set(Je,me),ie.set(me,Je)),me}const on=Je=>ie.get(Je);function Qe(Je,me,{blocked:Ct,upgrade:$t,blocking:jn,terminated:Tt}={}){const Ft=indexedDB.open(Je,me),Jt=Et(Ft);return $t&&Ft.addEventListener("upgradeneeded",dt=>{$t(Et(Ft.result),dt.oldVersion,dt.newVersion,Et(Ft.transaction),dt)}),Ct&&Ft.addEventListener("blocked",dt=>Ct(dt.oldVersion,dt.newVersion,dt)),Jt.then(dt=>{Tt&&dt.addEventListener("close",()=>Tt()),jn&&dt.addEventListener("versionchange",Ne=>jn(Ne.oldVersion,Ne.newVersion,Ne))}).catch(()=>{}),Jt}const ct=["get","getKey","getAll","getAllKeys","count"],Ge=["put","add","delete","clear"],ot=new Map;function Dt(Je,me){if(!(Je instanceof IDBDatabase)||me in Je||"string"!=typeof me)return;if(ot.get(me))return ot.get(me);const Ct=me.replace(/FromIndex$/,""),$t=me!==Ct,jn=Ge.includes(Ct);if(!(Ct in($t?IDBIndex:IDBObjectStore).prototype)||!jn&&!ct.includes(Ct))return;const Tt=function(){var Ft=(0,g.Z)(function*(Jt,...dt){const Ne=this.transaction(Jt,jn?"readwrite":"readonly");let _e=Ne.store;return $t&&(_e=_e.index(dt.shift())),(yield Promise.all([_e[Ct](...dt),jn&&Ne.done]))[0]});return function(dt){return Ft.apply(this,arguments)}}();return ot.set(me,Tt),Tt}!function Mt(Je){et=Je(et)}(Je=>({...Je,get:(me,Ct,$t)=>Dt(me,Ct)||Je.get(me,Ct,$t),has:(me,Ct)=>!!Dt(me,Ct)||Je.has(me,Ct)}))},5861:(Qt,Ke,B)=>{function g(H,Ie,Ee,Se,Ae,Ce,Ve){try{var ne=H[Ce](Ve),ie=ne.value}catch(ve){return void Ee(ve)}ne.done?Ie(ie):Promise.resolve(ie).then(Se,Ae)}function u(H){return function(){var Ie=this,Ee=arguments;return new Promise(function(Se,Ae){var Ce=H.apply(Ie,Ee);function Ve(ie){g(Ce,Se,Ae,Ve,ne,"next",ie)}function ne(ie){g(Ce,Se,Ae,Ve,ne,"throw",ie)}Ve(void 0)})}}B.d(Ke,{Z:()=>u})},7582:(Qt,Ke,B)=>{function Ie(_e,Ue){var nt={};for(var rt in _e)Object.prototype.hasOwnProperty.call(_e,rt)&&Ue.indexOf(rt)<0&&(nt[rt]=_e[rt]);if(null!=_e&&"function"==typeof Object.getOwnPropertySymbols){var _t=0;for(rt=Object.getOwnPropertySymbols(_e);_t<rt.length;_t++)Ue.indexOf(rt[_t])<0&&Object.prototype.propertyIsEnumerable.call(_e,rt[_t])&&(nt[rt[_t]]=_e[rt[_t]])}return nt}function ve(_e,Ue,nt,rt){return new(nt||(nt=Promise))(function(wt,Xt){function Kt(Zn){try{gn(rt.next(Zn))}catch(_n){Xt(_n)}}function qt(Zn){try{gn(rt.throw(Zn))}catch(_n){Xt(_n)}}function gn(Zn){Zn.done?wt(Zn.value):function _t(wt){return wt instanceof nt?wt:new nt(function(Xt){Xt(wt)})}(Zn.value).then(Kt,qt)}gn((rt=rt.apply(_e,Ue||[])).next())})}function ze(_e){return this instanceof ze?(this.v=_e,this):new ze(_e)}function ct(_e,Ue,nt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _t,rt=nt.apply(_e,Ue||[]),wt=[];return _t={},Xt("next"),Xt("throw"),Xt("return"),_t[Symbol.asyncIterator]=function(){return this},_t;function Xt(xn){rt[xn]&&(_t[xn]=function(Yt){return new Promise(function(mn,Mn){wt.push([xn,Yt,mn,Mn])>1||Kt(xn,Yt)})})}function Kt(xn,Yt){try{!function qt(xn){xn.value instanceof ze?Promise.resolve(xn.value.v).then(gn,Zn):_n(wt[0][2],xn)}(rt[xn](Yt))}catch(mn){_n(wt[0][3],mn)}}function gn(xn){Kt("next",xn)}function Zn(xn){Kt("throw",xn)}function _n(xn,Yt){xn(Yt),wt.shift(),wt.length&&Kt(wt[0][0],wt[0][1])}}function ot(_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var nt,Ue=_e[Symbol.asyncIterator];return Ue?Ue.call(_e):(_e=function vt(_e){var Ue="function"==typeof Symbol&&Symbol.iterator,nt=Ue&&_e[Ue],rt=0;if(nt)return nt.call(_e);if(_e&&"number"==typeof _e.length)return{next:function(){return _e&&rt>=_e.length&&(_e=void 0),{value:_e&&_e[rt++],done:!_e}}};throw new TypeError(Ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(_e),nt={},rt("next"),rt("throw"),rt("return"),nt[Symbol.asyncIterator]=function(){return this},nt);function rt(wt){nt[wt]=_e[wt]&&function(Xt){return new Promise(function(Kt,qt){!function _t(wt,Xt,Kt,qt){Promise.resolve(qt).then(function(gn){wt({value:gn,done:Kt})},Xt)}(Kt,qt,(Xt=_e[wt](Xt)).done,Xt.value)})}}}B.d(Ke,{FC:()=>ct,KL:()=>ot,_T:()=>Ie,mG:()=>ve,qq:()=>ze}),"function"==typeof SuppressedError&&SuppressedError}},Qt=>{Qt(Qt.s=1106)}]);