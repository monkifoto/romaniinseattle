(self.webpackChunkromani_in_seattle=self.webpackChunkromani_in_seattle||[]).push([[179],{35:(sn,lt,k)=>{"use strict";k.d(lt,{$:()=>wo,A:()=>z,G:()=>ye,K:()=>Ts,L:()=>Ji,N:()=>$e,P:()=>Tg,R:()=>Cu,U:()=>mn,V:()=>us,W:()=>Ii,X:()=>go,Y:()=>rs,Z:()=>Kr,_:()=>Rs,a:()=>Zt,a0:()=>F,a1:()=>Ic,a2:()=>ao,a3:()=>gu,a4:()=>bc,a5:()=>nl,a6:()=>ua,a7:()=>$o,a8:()=>rl,a9:()=>wc,aA:()=>yn,aB:()=>tt,aC:()=>Ee,aD:()=>Vl,aE:()=>Nt,aF:()=>on,aG:()=>Zd,aH:()=>xu,aI:()=>di,aJ:()=>dr,aN:()=>Qa,aQ:()=>$i,aa:()=>xd,ab:()=>sl,ac:()=>Ra,ad:()=>Ol,ae:()=>ha,af:()=>R,ag:()=>j,ah:()=>Ue,ak:()=>Fr,al:()=>ti,am:()=>Ar,ap:()=>ds,aq:()=>qs,as:()=>_u,at:()=>kd,au:()=>Vt,av:()=>fr,aw:()=>Xt,ax:()=>Oe,ay:()=>Va,az:()=>Wd,b:()=>Ro,c:()=>vp,d:()=>Dg,e:()=>ll,f:()=>La,g:()=>nf,h:()=>Ll,i:()=>ui,j:()=>Ep,k:()=>Jd,l:()=>ka,m:()=>Hl,p:()=>ae,r:()=>Bd,s:()=>wu,u:()=>al});var f=k(5861),o=k(534),B=k(9058),Se=k(7879),me=k(7582),Ae=k(4537);const ae={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ye=function oe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},De=function be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},xe=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),We=new Se.Yd("@firebase/auth");function ke(T,...g){We.logLevel<=Se.in.ERROR&&We.error(`Auth (${o.SDK_VERSION}): ${T}`,...g)}function Oe(T,...g){throw bt(T,...g)}function tt(T,...g){return bt(T,...g)}function Ge(T,g,v){const M=Object.assign(Object.assign({},De()),{[g]:v});return new B.LL("auth","Firebase",M).create(g,{appName:T.name})}function Ze(T){return Ge(T,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dt(T,g,v){if(!(g instanceof v))throw v.name!==g.constructor.name&&Oe(T,"argument-error"),Ge(T,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bt(T,...g){if("string"!=typeof T){const v=g[0],M=[...g.slice(1)];return M[0]&&(M[0].appName=T.name),T._errorFactory.create(v,...M)}return xe.create(T,...g)}function Ee(T,g,...v){if(!T)throw bt(g,...v)}function Ot(T){const g="INTERNAL ASSERTION FAILED: "+T;throw ke(g),new Error(g)}function Vt(T,g){T||Ot(g)}function Sn(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.href)||""}function Tt(){return"http:"===Ke()||"https:"===Ke()}function Ke(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.protocol)||null}class we{constructor(g,v){this.shortDelay=g,this.longDelay=v,Vt(v>g,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function ut(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Tt()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function te(T,g){Vt(T.emulator,"Emulator should always be set here");const{url:v}=T.emulator;return g?`${v}${g.startsWith("/")?g.slice(1):g}`:v}class Ie{static initialize(g,v,M){this.fetchImpl=g,v&&(this.headersImpl=v),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ot("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ot("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ot("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Pe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},je=new we(3e4,6e4);function it(T,g){return T.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:T.tenantId}):g}function _t(T,g,v,M){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,f.Z)(function*(T,g,v,M,X={}){return Gt(T,X,(0,f.Z)(function*(){let pe={},st={};M&&("GET"===g?st=M:pe={body:JSON.stringify(M)});const Pt=(0,B.xO)(Object.assign({key:T.config.apiKey},st)).slice(1),Jt=yield T._getAdditionalHeaders();return Jt["Content-Type"]="application/json",T.languageCode&&(Jt["X-Firebase-Locale"]=T.languageCode),Ie.fetch()(Rn(T,T.config.apiHost,v,Pt),Object.assign({method:g,headers:Jt,referrerPolicy:"no-referrer"},pe))}))})).apply(this,arguments)}function Gt(T,g,v){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,f.Z)(function*(T,g,v){T._canInitEmulator=!1;const M=Object.assign(Object.assign({},Pe),g);try{const X=new rn(T),pe=yield Promise.race([v(),X.promise]);X.clearNetworkTimeout();const st=yield pe.json();if("needConfirmation"in st)throw kn(T,"account-exists-with-different-credential",st);if(pe.ok&&!("errorMessage"in st))return st;{const Pt=pe.ok?st.errorMessage:st.error.message,[Jt,Fn]=Pt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Jt)throw kn(T,"credential-already-in-use",st);if("EMAIL_EXISTS"===Jt)throw kn(T,"email-already-in-use",st);if("USER_DISABLED"===Jt)throw kn(T,"user-disabled",st);const tr=M[Jt]||Jt.toLowerCase().replace(/[_\s]+/g,"-");if(Fn)throw Ge(T,tr,Fn);Oe(T,tr)}}catch(X){if(X instanceof B.ZR)throw X;Oe(T,"network-request-failed",{message:String(X)})}})).apply(this,arguments)}function bn(T,g,v,M){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,f.Z)(function*(T,g,v,M,X={}){const pe=yield _t(T,g,v,M,X);return"mfaPendingCredential"in pe&&Oe(T,"multi-factor-auth-required",{_serverResponse:pe}),pe})).apply(this,arguments)}function Rn(T,g,v,M){const X=`${g}${v}?${M}`;return T.config.emulator?te(T.config,X):`${T.config.apiScheme}://${X}`}function Nn(T){switch(T){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((v,M)=>{this.timer=setTimeout(()=>M(tt(this.auth,"network-request-failed")),je.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kn(T,g,v){const M={appName:T.name};v.email&&(M.email=v.email),v.phoneNumber&&(M.phoneNumber=v.phoneNumber);const X=tt(T,g,M);return X.customData._tokenResponse=v,X}function mr(T){return void 0!==T&&void 0!==T.getResponse}function Jn(T){return void 0!==T&&void 0!==T.enterprise}class Qt{constructor(g){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=g.recaptchaEnforcementState}getProviderEnforcementState(g){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===g)return Nn(v.enforcementState);return null}isProviderEnabled(g){return"ENFORCE"===this.getProviderEnforcementState(g)||"AUDIT"===this.getProviderEnforcementState(g)}}function xn(){return(xn=(0,f.Z)(function*(T){return(yield _t(T,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Pr(T,g){return sr.apply(this,arguments)}function sr(){return(sr=(0,f.Z)(function*(T,g){return _t(T,"GET","/v2/recaptchaConfig",it(T,g))})).apply(this,arguments)}function In(){return(In=(0,f.Z)(function*(T,g){return _t(T,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function zn(){return(zn=(0,f.Z)(function*(T,g){return _t(T,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Er(T,g){return br.apply(this,arguments)}function br(){return(br=(0,f.Z)(function*(T,g){return _t(T,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function qn(T){if(T)try{const g=new Date(Number(T));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function yi(){return(yi=(0,f.Z)(function*(T,g=!1){const v=(0,B.m9)(T),M=yield v.getIdToken(g),X=Ur(M);Ee(X&&X.exp&&X.auth_time&&X.iat,v.auth,"internal-error");const pe="object"==typeof X.firebase?X.firebase:void 0,st=pe?.sign_in_provider;return{claims:X,token:M,authTime:qn(gn(X.auth_time)),issuedAtTime:qn(gn(X.iat)),expirationTime:qn(gn(X.exp)),signInProvider:st||null,signInSecondFactor:pe?.sign_in_second_factor||null}})).apply(this,arguments)}function gn(T){return 1e3*Number(T)}function Ur(T){const[g,v,M]=T.split(".");if(void 0===g||void 0===v||void 0===M)return ke("JWT malformed, contained fewer than 3 sections"),null;try{const X=(0,B.tV)(v);return X?JSON.parse(X):(ke("Failed to decode base64 JWT payload"),null)}catch(X){return ke("Caught error parsing JWT payload as JSON",X?.toString()),null}}function ar(T){const g=Ur(T);return Ee(g,"internal-error"),Ee(typeof g.exp<"u","internal-error"),Ee(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}function Rr(T,g){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,f.Z)(function*(T,g,v=!1){if(v)return g;try{return yield g}catch(M){throw M instanceof B.ZR&&function ri({code:T}){return"auth/user-disabled"===T||"auth/user-token-expired"===T}(M)&&T.auth.currentUser===T&&(yield T.auth.signOut()),M}})).apply(this,arguments)}class at{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var v;if(g){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const X=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,X)}}schedule(g=!1){var v=this;if(!this.isRunning)return;const M=this.getInterval(g);this.timerId=setTimeout((0,f.Z)(function*(){yield v.iteration()}),M)}iteration(){var g=this;return(0,f.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&g.schedule(!0))}g.schedule()})()}}class wt{constructor(g,v){this.createdAt=g,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=qn(this.lastLoginAt),this.creationTime=qn(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ue(T){return Be.apply(this,arguments)}function Be(){return(Be=(0,f.Z)(function*(T){var g;const v=T.auth,M=yield T.getIdToken(),X=yield Rr(T,Er(v,{idToken:M}));Ee(X?.users.length,v,"internal-error");const pe=X.users[0];T._notifyReloadListener(pe);const st=null!==(g=pe.providerUserInfo)&&void 0!==g&&g.length?hi(pe.providerUserInfo):[],Pt=function $n(T,g){return[...T.filter(M=>!g.some(X=>X.providerId===M.providerId)),...g]}(T.providerData,st),tr=!!T.isAnonymous&&!(T.email&&pe.passwordHash||Pt?.length),Zr={uid:pe.localId,displayName:pe.displayName||null,photoURL:pe.photoUrl||null,email:pe.email||null,emailVerified:pe.emailVerified||!1,phoneNumber:pe.phoneNumber||null,tenantId:pe.tenantId||null,providerData:Pt,metadata:new wt(pe.createdAt,pe.lastLoginAt),isAnonymous:tr};Object.assign(T,Zr)})).apply(this,arguments)}function en(){return(en=(0,f.Z)(function*(T){const g=(0,B.m9)(T);yield ue(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function hi(T){return T.map(g=>{var{providerId:v}=g,M=(0,me._T)(g,["providerId"]);return{providerId:v,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}function qe(){return(qe=(0,f.Z)(function*(T,g){const v=yield Gt(T,{},(0,f.Z)(function*(){const M=(0,B.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:X,apiKey:pe}=T.config,st=Rn(T,X,"/v1/token",`key=${pe}`),Pt=yield T._getAdditionalHeaders();return Pt["Content-Type"]="application/x-www-form-urlencoded",Ie.fetch()(st,{method:"POST",headers:Pt,body:M})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function K(){return(K=(0,f.Z)(function*(T,g){return _t(T,"POST","/v2/accounts:revokeToken",it(T,g))})).apply(this,arguments)}class H{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Ee(g.idToken,"internal-error"),Ee(typeof g.idToken<"u","internal-error"),Ee(typeof g.refreshToken<"u","internal-error");const v="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):ar(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,v)}updateFromIdToken(g){Ee(0!==g.length,"internal-error");const v=ar(g);this.updateTokensAndExpiration(g,null,v)}getToken(g,v=!1){var M=this;return(0,f.Z)(function*(){return v||!M.accessToken||M.isExpired?(Ee(M.refreshToken,g,"user-token-expired"),M.refreshToken?(yield M.refresh(g,M.refreshToken),M.accessToken):null):M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,v){var M=this;return(0,f.Z)(function*(){const{accessToken:X,refreshToken:pe,expiresIn:st}=yield function Cr(T,g){return qe.apply(this,arguments)}(g,v);M.updateTokensAndExpiration(X,pe,Number(st))})()}updateTokensAndExpiration(g,v,M){this.refreshToken=v||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(g,v){const{refreshToken:M,accessToken:X,expirationTime:pe}=v,st=new H;return M&&(Ee("string"==typeof M,"internal-error",{appName:g}),st.refreshToken=M),X&&(Ee("string"==typeof X,"internal-error",{appName:g}),st.accessToken=X),pe&&(Ee("number"==typeof pe,"internal-error",{appName:g}),st.expirationTime=pe),st}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new H,this.toJSON())}_performRefresh(){return Ot("not implemented")}}function U(T,g){Ee("string"==typeof T||typeof T>"u","internal-error",{appName:g})}class Te{constructor(g){var{uid:v,auth:M,stsTokenManager:X}=g,pe=(0,me._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new at(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=M,this.stsTokenManager=X,this.accessToken=X.accessToken,this.displayName=pe.displayName||null,this.email=pe.email||null,this.emailVerified=pe.emailVerified||!1,this.phoneNumber=pe.phoneNumber||null,this.photoURL=pe.photoURL||null,this.isAnonymous=pe.isAnonymous||!1,this.tenantId=pe.tenantId||null,this.providerData=pe.providerData?[...pe.providerData]:[],this.metadata=new wt(pe.createdAt||void 0,pe.lastLoginAt||void 0)}getIdToken(g){var v=this;return(0,f.Z)(function*(){const M=yield Rr(v,v.stsTokenManager.getToken(v.auth,g));return Ee(M,v.auth,"internal-error"),v.accessToken!==M&&(v.accessToken=M,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),M})()}getIdTokenResult(g){return function Yr(T){return yi.apply(this,arguments)}(this,g)}reload(){return function Mt(T){return en.apply(this,arguments)}(this)}_assign(g){this!==g&&(Ee(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(v=>Object.assign({},v)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const v=new Te(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(g){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,v=!1){var M=this;return(0,f.Z)(function*(){let X=!1;g.idToken&&g.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(g),X=!0),v&&(yield ue(M)),yield M.auth._persistUserIfCurrent(M),X&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var g=this;return(0,f.Z)(function*(){if((0,o._isFirebaseServerApp)(g.auth.app))return Promise.reject(Ze(g.auth));const v=yield g.getIdToken();return yield Rr(g,function Yt(T,g){return In.apply(this,arguments)}(g.auth,{idToken:v})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,v){var M,X,pe,st,Pt,Jt,Fn,tr;const Zr=null!==(M=v.displayName)&&void 0!==M?M:void 0,Lo=null!==(X=v.email)&&void 0!==X?X:void 0,zc=null!==(pe=v.phoneNumber)&&void 0!==pe?pe:void 0,$c=null!==(st=v.photoURL)&&void 0!==st?st:void 0,$l=null!==(Pt=v.tenantId)&&void 0!==Pt?Pt:void 0,vl=null!==(Jt=v._redirectEventId)&&void 0!==Jt?Jt:void 0,gf=null!==(Fn=v.createdAt)&&void 0!==Fn?Fn:void 0,yl=null!==(tr=v.lastLoginAt)&&void 0!==tr?tr:void 0,{uid:ia,emailVerified:ju,isAnonymous:Hu,providerData:nh,stsTokenManager:zu}=v;Ee(ia&&zu,g,"internal-error");const rc=H.fromJSON(this.name,zu);Ee("string"==typeof ia,g,"internal-error"),U(Zr,g.name),U(Lo,g.name),Ee("boolean"==typeof ju,g,"internal-error"),Ee("boolean"==typeof Hu,g,"internal-error"),U(zc,g.name),U($c,g.name),U($l,g.name),U(vl,g.name),U(gf,g.name),U(yl,g.name);const Gc=new Te({uid:ia,auth:g,email:Lo,emailVerified:ju,displayName:Zr,isAnonymous:Hu,photoURL:$c,phoneNumber:zc,tenantId:$l,stsTokenManager:rc,createdAt:gf,lastLoginAt:yl});return nh&&Array.isArray(nh)&&(Gc.providerData=nh.map($u=>Object.assign({},$u))),vl&&(Gc._redirectEventId=vl),Gc}static _fromIdTokenResponse(g,v,M=!1){return(0,f.Z)(function*(){const X=new H;X.updateFromServerResponse(v);const pe=new Te({uid:v.localId,auth:g,stsTokenManager:X,isAnonymous:M});return yield ue(pe),pe})()}static _fromGetAccountInfoResponse(g,v,M){return(0,f.Z)(function*(){const X=v.users[0];Ee(void 0!==X.localId,"internal-error");const pe=void 0!==X.providerUserInfo?hi(X.providerUserInfo):[],st=!(X.email&&X.passwordHash||pe?.length),Pt=new H;Pt.updateFromIdToken(M);const Jt=new Te({uid:X.localId,auth:g,stsTokenManager:Pt,isAnonymous:st}),Fn={uid:X.localId,displayName:X.displayName||null,photoURL:X.photoUrl||null,email:X.email||null,emailVerified:X.emailVerified||!1,phoneNumber:X.phoneNumber||null,tenantId:X.tenantId||null,providerData:pe,metadata:new wt(X.createdAt,X.lastLoginAt),isAnonymous:!(X.email&&X.passwordHash||pe?.length)};return Object.assign(Jt,Fn),Jt})()}}const Xe=new Map;function Nt(T){Vt(T instanceof Function,"Expected a class definition");let g=Xe.get(T);return g?(Vt(g instanceof T,"Instance stored in cache mismatched with class"),g):(g=new T,Xe.set(T,g),g)}const mn=(()=>{class T{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(v,M){var X=this;return(0,f.Z)(function*(){X.storage[v]=M})()}_get(v){var M=this;return(0,f.Z)(function*(){const X=M.storage[v];return void 0===X?null:X})()}_remove(v){var M=this;return(0,f.Z)(function*(){delete M.storage[v]})()}_addListener(v,M){}_removeListener(v,M){}}return T.type="NONE",T})();function on(T,g,v){return`firebase:${T}:${g}:${v}`}class hn{constructor(g,v,M){this.persistence=g,this.auth=v,this.userKey=M;const{config:X,name:pe}=this.auth;this.fullUserKey=on(this.userKey,X.apiKey,pe),this.fullPersistenceKey=on("persistence",X.apiKey,pe),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,f.Z)(function*(){const v=yield g.persistence._get(g.fullUserKey);return v?Te._fromJSON(g.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var v=this;return(0,f.Z)(function*(){if(v.persistence===g)return;const M=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=g,M?v.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,v,M="authUser"){return(0,f.Z)(function*(){if(!v.length)return new hn(Nt(mn),g,M);const X=(yield Promise.all(v.map(function(){var Fn=(0,f.Z)(function*(tr){if(yield tr._isAvailable())return tr});return function(tr){return Fn.apply(this,arguments)}}()))).filter(Fn=>Fn);let pe=X[0]||Nt(mn);const st=on(M,g.config.apiKey,g.name);let Pt=null;for(const Fn of v)try{const tr=yield Fn._get(st);if(tr){const Zr=Te._fromJSON(g,tr);Fn!==pe&&(Pt=Zr),pe=Fn;break}}catch{}const Jt=X.filter(Fn=>Fn._shouldAllowMigration);return pe._shouldAllowMigration&&Jt.length?(pe=Jt[0],Pt&&(yield pe._set(st,Pt.toJSON())),yield Promise.all(v.map(function(){var Fn=(0,f.Z)(function*(tr){if(tr!==pe)try{yield tr._remove(st)}catch{}});return function(tr){return Fn.apply(this,arguments)}}())),new hn(pe,g,M)):new hn(pe,g,M)})()}}function Xn(T){const g=T.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(jt(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Je(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(En(g))return"Blackberry";if(an(g))return"Webos";if(He(g))return"Safari";if((g.includes("chrome/")||nt(g))&&!g.includes("edge/"))return"Chrome";if(Xt(g))return"Android";{const M=T.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===M?.length)return M[1]}return"Other"}function Je(T=(0,B.z$)()){return/firefox\//i.test(T)}function He(T=(0,B.z$)()){const g=T.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function nt(T=(0,B.z$)()){return/crios\//i.test(T)}function jt(T=(0,B.z$)()){return/iemobile/i.test(T)}function Xt(T=(0,B.z$)()){return/android/i.test(T)}function En(T=(0,B.z$)()){return/blackberry/i.test(T)}function an(T=(0,B.z$)()){return/webos/i.test(T)}function fr(T=(0,B.z$)()){return/iphone|ipad|ipod/i.test(T)||/macintosh/i.test(T)&&/mobile/i.test(T)}function yn(T=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(T)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(T)}function kt(T=(0,B.z$)()){return fr(T)||Xt(T)||an(T)||En(T)||/windows phone/i.test(T)||jt(T)}function Vn(T,g=[]){let v;switch(T){case"Browser":v=Xn((0,B.z$)());break;case"Worker":v=`${Xn((0,B.z$)())}-${T}`;break;default:v=T}const M=g.length?g.join(","):"FirebaseCore-web";return`${v}/JsCore/${o.SDK_VERSION}/${M}`}class Un{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,v){const M=pe=>new Promise((st,Pt)=>{try{st(g(pe))}catch(Jt){Pt(Jt)}});M.onAbort=v,this.queue.push(M);const X=this.queue.length-1;return()=>{this.queue[X]=()=>Promise.resolve()}}runMiddleware(g){var v=this;return(0,f.Z)(function*(){if(v.auth.currentUser===g)return;const M=[];try{for(const X of v.queue)yield X(g),X.onAbort&&M.push(X.onAbort)}catch(X){M.reverse();for(const pe of M)try{pe()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:X?.message})}})()}}function Gn(){return(Gn=(0,f.Z)(function*(T,g={}){return _t(T,"GET","/v2/passwordPolicy",it(T,g))})).apply(this,arguments)}class fi{constructor(g){var v,M,X,pe;const st=g.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=st.minPasswordLength)&&void 0!==v?v:6,st.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=st.maxPasswordLength),void 0!==st.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=st.containsLowercaseCharacter),void 0!==st.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=st.containsUppercaseCharacter),void 0!==st.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=st.containsNumericCharacter),void 0!==st.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=st.containsNonAlphanumericCharacter),this.enforcementState=g.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(X=null===(M=g.allowedNonAlphanumericCharacters)||void 0===M?void 0:M.join(""))&&void 0!==X?X:"",this.forceUpgradeOnSignin=null!==(pe=g.forceUpgradeOnSignin)&&void 0!==pe&&pe,this.schemaVersion=g.schemaVersion}validatePassword(g){var v,M,X,pe,st,Pt;const Jt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(g,Jt),this.validatePasswordCharacterOptions(g,Jt),Jt.isValid&&(Jt.isValid=null===(v=Jt.meetsMinPasswordLength)||void 0===v||v),Jt.isValid&&(Jt.isValid=null===(M=Jt.meetsMaxPasswordLength)||void 0===M||M),Jt.isValid&&(Jt.isValid=null===(X=Jt.containsLowercaseLetter)||void 0===X||X),Jt.isValid&&(Jt.isValid=null===(pe=Jt.containsUppercaseLetter)||void 0===pe||pe),Jt.isValid&&(Jt.isValid=null===(st=Jt.containsNumericCharacter)||void 0===st||st),Jt.isValid&&(Jt.isValid=null===(Pt=Jt.containsNonAlphanumericCharacter)||void 0===Pt||Pt),Jt}validatePasswordLengthOptions(g,v){const M=this.customStrengthOptions.minPasswordLength,X=this.customStrengthOptions.maxPasswordLength;M&&(v.meetsMinPasswordLength=g.length>=M),X&&(v.meetsMaxPasswordLength=g.length<=X)}validatePasswordCharacterOptions(g,v){let M;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let X=0;X<g.length;X++)M=g.charAt(X),this.updatePasswordCharacterOptionsStatuses(v,M>="a"&&M<="z",M>="A"&&M<="Z",M>="0"&&M<="9",this.allowedNonAlphanumericCharacters.includes(M))}updatePasswordCharacterOptionsStatuses(g,v,M,X,pe){this.customStrengthOptions.containsLowercaseLetter&&(g.containsLowercaseLetter||(g.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(g.containsUppercaseLetter||(g.containsUppercaseLetter=M)),this.customStrengthOptions.containsNumericCharacter&&(g.containsNumericCharacter||(g.containsNumericCharacter=X)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(g.containsNonAlphanumericCharacter||(g.containsNonAlphanumericCharacter=pe))}}class ei{constructor(g,v,M,X){this.app=g,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=M,this.config=X,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mi(this),this.idTokenSubscription=new Mi(this),this.beforeStateQueue=new Un(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=X.sdkClientVersion}_initializeWithPersistence(g,v){var M=this;return v&&(this._popupRedirectResolver=Nt(v)),this._initializationPromise=this.queue((0,f.Z)(function*(){var X,pe;if(!M._deleted&&(M.persistenceManager=yield hn.create(M,g),!M._deleted)){if(null!==(X=M._popupRedirectResolver)&&void 0!==X&&X._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(v),M.lastNotifiedUid=(null===(pe=M.currentUser)||void 0===pe?void 0:pe.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,f.Z)(function*(){if(g._deleted)return;const v=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||v){if(g.currentUser&&v&&g.currentUser.uid===v.uid)return g._currentUser._assign(v),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(g){var v=this;return(0,f.Z)(function*(){try{const M=yield Er(v,{idToken:g}),X=yield Te._fromGetAccountInfoResponse(v,M,g);yield v.directlySetCurrentUser(X)}catch(M){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",M),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(g){var v=this;return(0,f.Z)(function*(){var M;if((0,o._isFirebaseServerApp)(v.app)){const Pt=v.app.settings.authIdToken;return Pt?new Promise(Jt=>{setTimeout(()=>v.initializeCurrentUserFromIdToken(Pt).then(Jt,Jt))}):v.directlySetCurrentUser(null)}const X=yield v.assertedPersistence.getCurrentUser();let pe=X,st=!1;if(g&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Pt=null===(M=v.redirectUser)||void 0===M?void 0:M._redirectEventId,Jt=pe?._redirectEventId,Fn=yield v.tryRedirectSignIn(g);(!Pt||Pt===Jt)&&Fn?.user&&(pe=Fn.user,st=!0)}if(!pe)return v.directlySetCurrentUser(null);if(!pe._redirectEventId){if(st)try{yield v.beforeStateQueue.runMiddleware(pe)}catch(Pt){pe=X,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Pt))}return pe?v.reloadAndSetCurrentUserOrClear(pe):v.directlySetCurrentUser(null)}return Ee(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===pe._redirectEventId?v.directlySetCurrentUser(pe):v.reloadAndSetCurrentUserOrClear(pe)})()}tryRedirectSignIn(g){var v=this;return(0,f.Z)(function*(){let M=null;try{M=yield v._popupRedirectResolver._completeRedirectFn(v,g,!0)}catch{yield v._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(g){var v=this;return(0,f.Z)(function*(){try{yield ue(g)}catch(M){if("auth/network-request-failed"!==M?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Fe(){if(typeof navigator>"u")return null;const T=navigator;return T.languages&&T.languages[0]||T.language||null}()}_delete(){var g=this;return(0,f.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var v=this;return(0,f.Z)(function*(){if((0,o._isFirebaseServerApp)(v.app))return Promise.reject(Ze(v));const M=g?(0,B.m9)(g):null;return M&&Ee(M.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(M&&M._clone(v))})()}_updateCurrentUser(g,v=!1){var M=this;return(0,f.Z)(function*(){if(!M._deleted)return g&&Ee(M.tenantId===g.tenantId,M,"tenant-id-mismatch"),v||(yield M.beforeStateQueue.runMiddleware(g)),M.queue((0,f.Z)(function*(){yield M.directlySetCurrentUser(g),M.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,f.Z)(function*(){return(0,o._isFirebaseServerApp)(g.app)?Promise.reject(Ze(g)):(yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0))})()}setPersistence(g){var v=this;return(0,o._isFirebaseServerApp)(this.app)?Promise.reject(Ze(this)):this.queue((0,f.Z)(function*(){yield v.assertedPersistence.setPersistence(Nt(g))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(g){var v=this;return(0,f.Z)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const M=v._getPasswordPolicyInternal();return M.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):M.validatePassword(g)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var g=this;return(0,f.Z)(function*(){const v=yield function vn(T){return Gn.apply(this,arguments)}(g),M=new fi(v);null===g.tenantId?g._projectPasswordPolicy=M:g._tenantPasswordPolicies[g.tenantId]=M})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new B.LL("auth","Firebase",g())}onAuthStateChanged(g,v,M){return this.registerStateListener(this.authStateSubscription,g,v,M)}beforeAuthStateChanged(g,v){return this.beforeStateQueue.pushCallback(g,v)}onIdTokenChanged(g,v,M){return this.registerStateListener(this.idTokenSubscription,g,v,M)}authStateReady(){return new Promise((g,v)=>{if(this.currentUser)g();else{const M=this.onAuthStateChanged(()=>{M(),g()},v)}})}revokeAccessToken(g){var v=this;return(0,f.Z)(function*(){if(v.currentUser){const M=yield v.currentUser.getIdToken(),X={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:g,idToken:M};null!=v.tenantId&&(X.tenantId=v.tenantId),yield function ce(T,g){return K.apply(this,arguments)}(v,X)}})()}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,v){var M=this;return(0,f.Z)(function*(){const X=yield M.getOrInitRedirectPersistenceManager(v);return null===g?X.removeCurrentUser():X.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var v=this;return(0,f.Z)(function*(){if(!v.redirectPersistenceManager){const M=g&&Nt(g)||v._popupRedirectResolver;Ee(M,v,"argument-error"),v.redirectPersistenceManager=yield hn.create(v,[Nt(M._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(g){var v=this;return(0,f.Z)(function*(){var M,X;return v._isInitialized&&(yield v.queue((0,f.Z)(function*(){}))),(null===(M=v._currentUser)||void 0===M?void 0:M._redirectEventId)===g?v._currentUser:(null===(X=v.redirectUser)||void 0===X?void 0:X._redirectEventId)===g?v.redirectUser:null})()}_persistUserIfCurrent(g){var v=this;return(0,f.Z)(function*(){if(g===v.currentUser)return v.queue((0,f.Z)(function*(){return v.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(v=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,v,M,X){if(this._deleted)return()=>{};const pe="function"==typeof v?v:v.next.bind(v);let st=!1;const Pt=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(Pt,this,"internal-error"),Pt.then(()=>{st||pe(this.currentUser)}),"function"==typeof v){const Jt=g.addObserver(v,M,X);return()=>{st=!0,Jt()}}{const Jt=g.addObserver(v);return()=>{st=!0,Jt()}}}directlySetCurrentUser(g){var v=this;return(0,f.Z)(function*(){v.currentUser&&v.currentUser!==g&&v._currentUser._stopProactiveRefresh(),g&&v.isProactiveRefreshEnabled&&g._startProactiveRefresh(),v.currentUser=g,g?yield v.assertedPersistence.setCurrentUser(g):yield v.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Vn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,f.Z)(function*(){var v;const M={"X-Client-Version":g.clientVersion};g.app.options.appId&&(M["X-Firebase-gmpid"]=g.app.options.appId);const X=yield null===(v=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();X&&(M["X-Firebase-Client"]=X);const pe=yield g._getAppCheckToken();return pe&&(M["X-Firebase-AppCheck"]=pe),M})()}_getAppCheckToken(){var g=this;return(0,f.Z)(function*(){var v;const M=yield null===(v=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return M?.error&&function mt(T,...g){We.logLevel<=Se.in.WARN&&We.warn(`Auth (${o.SDK_VERSION}): ${T}`,...g)}(`Error while retrieving App Check token: ${M.error}`),M?.token})()}}function dr(T){return(0,B.m9)(T)}class Mi{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,B.ne)(v=>this.observer=v)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let gi={loadJS:()=>(0,f.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hr(T){return gi.loadJS(T)}function Ys(T){return`__${T}${Math.floor(1e6*Math.random())}`}class xi{constructor(g){this.type="recaptcha-enterprise",this.auth=dr(g)}verify(g="verify",v=!1){var M=this;return(0,f.Z)(function*(){function pe(){return pe=(0,f.Z)(function*(Pt){if(!v){if(null==Pt.tenantId&&null!=Pt._agentRecaptchaConfig)return Pt._agentRecaptchaConfig.siteKey;if(null!=Pt.tenantId&&void 0!==Pt._tenantRecaptchaConfigs[Pt.tenantId])return Pt._tenantRecaptchaConfigs[Pt.tenantId].siteKey}return new Promise(function(){var Jt=(0,f.Z)(function*(Fn,tr){Pr(Pt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Zr=>{if(void 0!==Zr.recaptchaKey){const Lo=new Qt(Zr);return null==Pt.tenantId?Pt._agentRecaptchaConfig=Lo:Pt._tenantRecaptchaConfigs[Pt.tenantId]=Lo,Fn(Lo.siteKey)}tr(new Error("recaptcha Enterprise site key undefined"))}).catch(Zr=>{tr(Zr)})});return function(Fn,tr){return Jt.apply(this,arguments)}}())}),pe.apply(this,arguments)}function st(Pt,Jt,Fn){const tr=window.grecaptcha;Jn(tr)?tr.enterprise.ready(()=>{tr.enterprise.execute(Pt,{action:g}).then(Zr=>{Jt(Zr)}).catch(()=>{Jt("NO_RECAPTCHA")})}):Fn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Pt,Jt)=>{(function X(Pt){return pe.apply(this,arguments)})(M.auth).then(Fn=>{if(!v&&Jn(window.grecaptcha))st(Fn,Pt,Jt);else{if(typeof window>"u")return void Jt(new Error("RecaptchaVerifier is only supported in browser"));let tr=function fs(){return gi.recaptchaEnterpriseScript}();0!==tr.length&&(tr+=Fn),Hr(tr).then(()=>{st(Fn,Pt,Jt)}).catch(Zr=>{Jt(Zr)})}}).catch(Fn=>{Jt(Fn)})})})()}}function Jr(T,g,v){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,f.Z)(function*(T,g,v,M=!1){const X=new xi(T);let pe;try{pe=yield X.verify(v)}catch{pe=yield X.verify(v,!0)}const st=Object.assign({},g);return Object.assign(st,M?{captchaResp:pe}:{captchaResponse:pe}),Object.assign(st,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(st,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),st})).apply(this,arguments)}function Bs(T,g,v,M){return Vi.apply(this,arguments)}function Vi(){return Vi=(0,f.Z)(function*(T,g,v,M){var X;if(null!==(X=T._getRecaptchaConfig())&&void 0!==X&&X.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const pe=yield Jr(T,g,v,"getOobCode"===v);return M(T,pe)}return M(T,g).catch(function(){var pe=(0,f.Z)(function*(st){if("auth/missing-recaptcha-token"===st.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Pt=yield Jr(T,g,v,"getOobCode"===v);return M(T,Pt)}return Promise.reject(st)});return function(st){return pe.apply(this,arguments)}}())}),Vi.apply(this,arguments)}function Ts(T,g,v){const M=dr(T);Ee(M._canInitEmulator,M,"emulator-config-failed"),Ee(/^https?:\/\//.test(g),M,"invalid-emulator-scheme");const X=!!v?.disableWarnings,pe=Ei(g),{host:st,port:Pt}=function ps(T){const g=Ei(T),v=/(\/\/)?([^?#/]+)/.exec(T.substr(g.length));if(!v)return{host:"",port:null};const M=v[2].split("@").pop()||"",X=/^(\[[^\]]+\])(:|$)/.exec(M);if(X){const pe=X[1];return{host:pe,port:Gs(M.substr(pe.length+1))}}{const[pe,st]=M.split(":");return{host:pe,port:Gs(st)}}}(g);M.config.emulator={url:`${pe}//${st}${null===Pt?"":`:${Pt}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:st,port:Pt,protocol:pe.replace(":",""),options:Object.freeze({disableWarnings:X})}),X||function so(){function T(){const g=document.createElement("p"),v=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",T):T())}()}function Ei(T){const g=T.indexOf(":");return g<0?"":T.substr(0,g+1)}function Gs(T){if(!T)return null;const g=Number(T);return isNaN(g)?null:g}class Ji{constructor(g,v){this.providerId=g,this.signInMethod=v}toJSON(){return Ot("not implemented")}_getIdTokenResponse(g){return Ot("not implemented")}_linkToIdToken(g,v){return Ot("not implemented")}_getReauthenticationResolver(g){return Ot("not implemented")}}function po(T,g){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,f.Z)(function*(T,g){return _t(T,"POST","/v1/accounts:resetPassword",it(T,g))})).apply(this,arguments)}function si(){return(si=(0,f.Z)(function*(T,g){return _t(T,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ui(T,g){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,f.Z)(function*(T,g){return _t(T,"POST","/v1/accounts:signUp",g)})).apply(this,arguments)}function es(){return(es=(0,f.Z)(function*(T,g){return _t(T,"POST","/v1/accounts:update",it(T,g))})).apply(this,arguments)}function To(T,g){return gs.apply(this,arguments)}function gs(){return(gs=(0,f.Z)(function*(T,g){return bn(T,"POST","/v1/accounts:signInWithPassword",it(T,g))})).apply(this,arguments)}function js(T,g){return zr.apply(this,arguments)}function zr(){return(zr=(0,f.Z)(function*(T,g){return _t(T,"POST","/v1/accounts:sendOobCode",it(T,g))})).apply(this,arguments)}function er(){return(er=(0,f.Z)(function*(T,g){return js(T,g)})).apply(this,arguments)}function xr(T,g){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,f.Z)(function*(T,g){return js(T,g)})).apply(this,arguments)}function ts(T,g){return ai.apply(this,arguments)}function ai(){return(ai=(0,f.Z)(function*(T,g){return js(T,g)})).apply(this,arguments)}function oi(){return(oi=(0,f.Z)(function*(T,g){return js(T,g)})).apply(this,arguments)}function ms(){return(ms=(0,f.Z)(function*(T,g){return bn(T,"POST","/v1/accounts:signInWithEmailLink",it(T,g))})).apply(this,arguments)}function Ds(){return(Ds=(0,f.Z)(function*(T,g){return bn(T,"POST","/v1/accounts:signInWithEmailLink",it(T,g))})).apply(this,arguments)}class ci extends Ji{constructor(g,v,M,X=null){super("password",M),this._email=g,this._password=v,this._tenantId=X}static _fromEmailAndPassword(g,v){return new ci(g,v,"password")}static _fromEmailAndCode(g,v,M=null){return new ci(g,v,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(g){var v=this;return(0,f.Z)(function*(){switch(v.signInMethod){case"password":return Bs(g,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",To);case"emailLink":return function ns(T,g){return ms.apply(this,arguments)}(g,{email:v._email,oobCode:v._password});default:Oe(g,"internal-error")}})()}_linkToIdToken(g,v){var M=this;return(0,f.Z)(function*(){switch(M.signInMethod){case"password":return Bs(g,{idToken:v,returnSecureToken:!0,email:M._email,password:M._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ui);case"emailLink":return function rr(T,g){return Ds.apply(this,arguments)}(g,{idToken:v,email:M._email,oobCode:M._password});default:Oe(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function re(T,g){return Y.apply(this,arguments)}function Y(){return(Y=(0,f.Z)(function*(T,g){return bn(T,"POST","/v1/accounts:signInWithIdp",it(T,g))})).apply(this,arguments)}class $e extends Ji{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const v=new $e(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(v.idToken=g.idToken),g.accessToken&&(v.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(v.nonce=g.nonce),g.pendingToken&&(v.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(v.accessToken=g.oauthToken,v.secret=g.oauthTokenSecret):Oe("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:M,signInMethod:X}=v,pe=(0,me._T)(v,["providerId","signInMethod"]);if(!M||!X)return null;const st=new $e(M,X);return st.idToken=pe.idToken||void 0,st.accessToken=pe.accessToken||void 0,st.secret=pe.secret,st.nonce=pe.nonce,st.pendingToken=pe.pendingToken||null,st}_getIdTokenResponse(g){return re(g,this.buildRequest())}_linkToIdToken(g,v){const M=this.buildRequest();return M.idToken=v,re(g,M)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,re(g,v)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),g.postBody=(0,B.xO)(v)}return g}}function Lt(){return(Lt=(0,f.Z)(function*(T,g){return _t(T,"POST","/v1/accounts:sendVerificationCode",it(T,g))})).apply(this,arguments)}function Mn(){return(Mn=(0,f.Z)(function*(T,g){return bn(T,"POST","/v1/accounts:signInWithPhoneNumber",it(T,g))})).apply(this,arguments)}function An(){return(An=(0,f.Z)(function*(T,g){const v=yield bn(T,"POST","/v1/accounts:signInWithPhoneNumber",it(T,g));if(v.temporaryProof)throw kn(T,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const _r={USER_NOT_FOUND:"user-not-found"};function Ai(){return(Ai=(0,f.Z)(function*(T,g){return bn(T,"POST","/v1/accounts:signInWithPhoneNumber",it(T,Object.assign(Object.assign({},g),{operation:"REAUTH"})),_r)})).apply(this,arguments)}class $r extends Ji{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,v){return new $r({verificationId:g,verificationCode:v})}static _fromTokenResponse(g,v){return new $r({phoneNumber:g,temporaryProof:v})}_getIdTokenResponse(g){return function fn(T,g){return Mn.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,v){return function Kt(T,g){return An.apply(this,arguments)}(g,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function jn(T,g){return Ai.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:v,verificationId:M,verificationCode:X}=this.params;return g&&v?{temporaryProof:g,phoneNumber:v}:{sessionInfo:M,code:X}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:v,verificationCode:M,phoneNumber:X,temporaryProof:pe}=g;return M||v||X||pe?new $r({verificationId:v,verificationCode:M,phoneNumber:X,temporaryProof:pe}):null}}class Br{constructor(g){var v,M,X,pe,st,Pt;const Jt=(0,B.zd)((0,B.pd)(g)),Fn=null!==(v=Jt.apiKey)&&void 0!==v?v:null,tr=null!==(M=Jt.oobCode)&&void 0!==M?M:null,Zr=function Or(T){switch(T){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(X=Jt.mode)&&void 0!==X?X:null);Ee(Fn&&tr&&Zr,"argument-error"),this.apiKey=Fn,this.operation=Zr,this.code=tr,this.continueUrl=null!==(pe=Jt.continueUrl)&&void 0!==pe?pe:null,this.languageCode=null!==(st=Jt.languageCode)&&void 0!==st?st:null,this.tenantId=null!==(Pt=Jt.tenantId)&&void 0!==Pt?Pt:null}static parseLink(g){const v=function mi(T){const g=(0,B.zd)((0,B.pd)(T)).link,v=g?(0,B.zd)((0,B.pd)(g)).deep_link_id:null,M=(0,B.zd)((0,B.pd)(T)).deep_link_id;return(M?(0,B.zd)((0,B.pd)(M)).link:null)||M||v||g||T}(g);try{return new Br(v)}catch{return null}}}let us=(()=>{class T{constructor(){this.providerId=T.PROVIDER_ID}static credential(v,M){return ci._fromEmailAndPassword(v,M)}static credentialWithLink(v,M){const X=Br.parseLink(M);return Ee(X,"argument-error"),ci._fromEmailAndCode(v,X.code,X.tenantId)}}return T.PROVIDER_ID="password",T.EMAIL_PASSWORD_SIGN_IN_METHOD="password",T.EMAIL_LINK_SIGN_IN_METHOD="emailLink",T})();class yr{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Pi extends yr{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Kr extends Pi{static credentialFromJSON(g){const v="string"==typeof g?JSON.parse(g):g;return Ee("providerId"in v&&"signInMethod"in v,"argument-error"),$e._fromParams(v)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Ee(g.idToken||g.accessToken,"argument-error"),$e._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Kr.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Kr.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:M,oauthTokenSecret:X,pendingToken:pe,nonce:st,providerId:Pt}=g;if(!M&&!X&&!v&&!pe||!Pt)return null;try{return new Kr(Pt)._credential({idToken:v,accessToken:M,nonce:st,pendingToken:pe})}catch{return null}}}let Ii=(()=>{class T extends Pi{constructor(){super("facebook.com")}static credential(v){return $e._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return T.credential(v.oauthAccessToken)}catch{return null}}}return T.FACEBOOK_SIGN_IN_METHOD="facebook.com",T.PROVIDER_ID="facebook.com",T})(),go=(()=>{class T extends Pi{constructor(){super("google.com"),this.addScope("profile")}static credential(v,M){return $e._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:M})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:M,oauthAccessToken:X}=v;if(!M&&!X)return null;try{return T.credential(M,X)}catch{return null}}}return T.GOOGLE_SIGN_IN_METHOD="google.com",T.PROVIDER_ID="google.com",T})(),rs=(()=>{class T extends Pi{constructor(){super("github.com")}static credential(v){return $e._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return T.credential(v.oauthAccessToken)}catch{return null}}}return T.GITHUB_SIGN_IN_METHOD="github.com",T.PROVIDER_ID="github.com",T})();class $i extends Ji{constructor(g,v){super(g,g),this.pendingToken=v}_getIdTokenResponse(g){return re(g,this.buildRequest())}_linkToIdToken(g,v){const M=this.buildRequest();return M.idToken=v,re(g,M)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,re(g,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:M,signInMethod:X,pendingToken:pe}=v;return M&&X&&pe&&M===X?new $i(M,pe):null}static _create(g,v){return new $i(g,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Rs extends yr{constructor(g){Ee(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Rs.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Rs.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const v=$i.fromJSON(g);return Ee(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:v,providerId:M}=g;if(!v||!M)return null;try{return $i._create(M,v)}catch{return null}}}let wo=(()=>{class T extends Pi{constructor(){super("twitter.com")}static credential(v,M){return $e._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:M})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:M,oauthTokenSecret:X}=v;if(!M||!X)return null;try{return T.credential(M,X)}catch{return null}}}return T.TWITTER_SIGN_IN_METHOD="twitter.com",T.PROVIDER_ID="twitter.com",T})();function Za(T,g){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,f.Z)(function*(T,g){return bn(T,"POST","/v1/accounts:signUp",it(T,g))})).apply(this,arguments)}class Q{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,v,M,X=!1){return(0,f.Z)(function*(){const pe=yield Te._fromIdTokenResponse(g,M,X),st=ie(M);return new Q({user:pe,providerId:st,_tokenResponse:M,operationType:v})})()}static _forOperation(g,v,M){return(0,f.Z)(function*(){yield g._updateTokensIfNecessary(M,!0);const X=ie(M);return new Q({user:g,providerId:X,_tokenResponse:M,operationType:v})})()}}function ie(T){return T.providerId?T.providerId:"phoneNumber"in T?"phone":null}function F(T){return ge.apply(this,arguments)}function ge(){return(ge=(0,f.Z)(function*(T){var g;if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(Ze(T));const v=dr(T);if(yield v._initializationPromise,null!==(g=v.currentUser)&&void 0!==g&&g.isAnonymous)return new Q({user:v.currentUser,providerId:null,operationType:"signIn"});const M=yield Za(v,{returnSecureToken:!0}),X=yield Q._fromIdTokenResponse(v,"signIn",M,!0);return yield v._updateCurrentUser(X.user),X})).apply(this,arguments)}class ze extends B.ZR{constructor(g,v,M,X){var pe;super(v.code,v.message),this.operationType=M,this.user=X,Object.setPrototypeOf(this,ze.prototype),this.customData={appName:g.name,tenantId:null!==(pe=g.tenantId)&&void 0!==pe?pe:void 0,_serverResponse:v.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(g,v,M,X){return new ze(g,v,M,X)}}function Ln(T,g,v,M){return("reauthenticate"===g?v._getReauthenticationResolver(T):v._getIdTokenResponse(T)).catch(pe=>{throw"auth/multi-factor-auth-required"===pe.code?ze._fromErrorAndOperation(T,pe,g,M):pe})}function vr(T){return new Set(T.map(({providerId:g})=>g).filter(g=>!!g))}function ds(T,g){return _i.apply(this,arguments)}function _i(){return _i=(0,f.Z)(function*(T,g){const v=(0,B.m9)(T);yield Ec(!0,v,g);const{providerUserInfo:M}=yield function Bn(T,g){return zn.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[g]}),X=vr(M||[]);return v.providerData=v.providerData.filter(pe=>X.has(pe.providerId)),X.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),_i.apply(this,arguments)}function wa(T,g){return xl.apply(this,arguments)}function xl(){return(xl=(0,f.Z)(function*(T,g,v=!1){const M=yield Rr(T,g._linkToIdToken(T.auth,yield T.getIdToken()),v);return Q._forOperation(T,"link",M)})).apply(this,arguments)}function Ec(T,g,v){return qa.apply(this,arguments)}function qa(){return(qa=(0,f.Z)(function*(T,g,v){yield ue(g);const X=!1===T?"provider-already-linked":"no-such-provider";Ee(vr(g.providerData).has(v)===T,g.auth,X)})).apply(this,arguments)}function Da(T,g){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,f.Z)(function*(T,g,v=!1){const{auth:M}=T;if((0,o._isFirebaseServerApp)(M.app))return Promise.reject(Ze(M));const X="reauthenticate";try{const pe=yield Rr(T,Ln(M,X,g,T),v);Ee(pe.idToken,M,"internal-error");const st=Ur(pe.idToken);Ee(st,M,"internal-error");const{sub:Pt}=st;return Ee(T.uid===Pt,M,"user-mismatch"),Q._forOperation(T,X,pe)}catch(pe){throw"auth/user-not-found"===pe?.code&&Oe(M,"user-mismatch"),pe}})).apply(this,arguments)}function Sa(T,g){return ca.apply(this,arguments)}function ca(){return(ca=(0,f.Z)(function*(T,g,v=!1){if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(Ze(T));const M="signIn",X=yield Ln(T,M,g),pe=yield Q._fromIdTokenResponse(T,M,X);return v||(yield T._updateCurrentUser(pe.user)),pe})).apply(this,arguments)}function Ic(T,g){return oo.apply(this,arguments)}function oo(){return(oo=(0,f.Z)(function*(T,g){return Sa(dr(T),g)})).apply(this,arguments)}function ao(T,g){return _s.apply(this,arguments)}function _s(){return(_s=(0,f.Z)(function*(T,g){const v=(0,B.m9)(T);return yield Ec(!1,v,g.providerId),wa(v,g)})).apply(this,arguments)}function gu(T,g){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,f.Z)(function*(T,g){return Da((0,B.m9)(T),g)})).apply(this,arguments)}function Bi(){return(Bi=(0,f.Z)(function*(T,g){return bn(T,"POST","/v1/accounts:signInWithCustomToken",it(T,g))})).apply(this,arguments)}function bc(T,g){return xs.apply(this,arguments)}function xs(){return xs=(0,f.Z)(function*(T,g){if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(Ze(T));const v=dr(T),M=yield function la(T,g){return Bi.apply(this,arguments)}(v,{token:g,returnSecureToken:!0}),X=yield Q._fromIdTokenResponse(v,"signIn",M);return yield v._updateCurrentUser(X.user),X}),xs.apply(this,arguments)}class mo{constructor(g,v){this.factorId=g,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(g,v){return"phoneInfo"in v?Do._fromServerResponse(g,v):"totpInfo"in v?Ma._fromServerResponse(g,v):Oe(g,"internal-error")}}class Do extends mo{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,v){return new Do(v)}}class Ma extends mo{constructor(g){super("totp",g)}static _fromServerResponse(g,v){return new Ma(v)}}function Pa(T,g,v){var M;Ee((null===(M=v.url)||void 0===M?void 0:M.length)>0,T,"invalid-continue-uri"),Ee(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,T,"invalid-dynamic-link-domain"),g.continueUrl=v.url,g.dynamicLinkDomain=v.dynamicLinkDomain,g.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Ee(v.iOS.bundleId.length>0,T,"missing-ios-bundle-id"),g.iOSBundleId=v.iOS.bundleId),v.android&&(Ee(v.android.packageName.length>0,T,"missing-android-pkg-name"),g.androidInstallApp=v.android.installApp,g.androidMinimumVersionCode=v.android.minimumVersion,g.androidPackageName=v.android.packageName)}function pr(T){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,f.Z)(function*(T){const g=dr(T);g._getPasswordPolicyInternal()&&(yield g._updatePasswordPolicy())})).apply(this,arguments)}function nl(T,g,v){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,f.Z)(function*(T,g,v){const M=dr(T),X={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};v&&Pa(M,X,v),yield Bs(M,X,"getOobCode",xr)})).apply(this,arguments)}function ua(T,g,v){return zo.apply(this,arguments)}function zo(){return zo=(0,f.Z)(function*(T,g,v){yield po((0,B.m9)(T),{oobCode:g,newPassword:v}).catch(function(){var M=(0,f.Z)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&pr(T),X});return function(X){return M.apply(this,arguments)}}())}),zo.apply(this,arguments)}function $o(T,g){return da.apply(this,arguments)}function da(){return da=(0,f.Z)(function*(T,g){yield function Xi(T,g){return es.apply(this,arguments)}((0,B.m9)(T),{oobCode:g})}),da.apply(this,arguments)}function rl(T,g){return il.apply(this,arguments)}function il(){return(il=(0,f.Z)(function*(T,g){const v=(0,B.m9)(T),M=yield po(v,{oobCode:g}),X=M.requestType;switch(Ee(X,v,"internal-error"),X){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ee(M.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ee(M.mfaInfo,v,"internal-error");default:Ee(M.email,v,"internal-error")}let pe=null;return M.mfaInfo&&(pe=mo._fromServerResponse(dr(v),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:pe},operation:X}})).apply(this,arguments)}function wc(T,g){return Go.apply(this,arguments)}function Go(){return(Go=(0,f.Z)(function*(T,g){const{data:v}=yield rl((0,B.m9)(T),g);return v.email})).apply(this,arguments)}function xd(T,g,v){return So.apply(this,arguments)}function So(){return(So=(0,f.Z)(function*(T,g,v){if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(Ze(T));const M=dr(T),st=yield Bs(M,{returnSecureToken:!0,email:g,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Za).catch(Jt=>{throw"auth/password-does-not-meet-requirements"===Jt.code&&pr(T),Jt}),Pt=yield Q._fromIdTokenResponse(M,"signIn",st);return yield M._updateCurrentUser(Pt.user),Pt})).apply(this,arguments)}function sl(T,g,v){return(0,o._isFirebaseServerApp)(T.app)?Promise.reject(Ze(T)):Ic((0,B.m9)(T),us.credential(g,v)).catch(function(){var M=(0,f.Z)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&pr(T),X});return function(X){return M.apply(this,arguments)}}())}function Ra(T,g,v){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,f.Z)(function*(T,g,v){const M=dr(T),X={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};(function pe(st,Pt){Ee(Pt.handleCodeInApp,M,"argument-error"),Pt&&Pa(M,st,Pt)})(X,v),yield Bs(M,X,"getOobCode",ts)})).apply(this,arguments)}function Ol(T,g){const v=Br.parseLink(g);return"EMAIL_SIGNIN"===v?.operation}function ha(T,g,v){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,f.Z)(function*(T,g,v){if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(Ze(T));const M=(0,B.m9)(T),X=us.credentialWithLink(g,v||Sn());return Ee(X._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),Ic(M,X)})).apply(this,arguments)}function bi(){return(bi=(0,f.Z)(function*(T,g){return _t(T,"POST","/v1/accounts:createAuthUri",it(T,g))})).apply(this,arguments)}function R(T,g){return se.apply(this,arguments)}function se(){return se=(0,f.Z)(function*(T,g){const M={identifier:g,continueUri:Tt()?Sn():"http://localhost"},{signinMethods:X}=yield function ol(T,g){return bi.apply(this,arguments)}((0,B.m9)(T),M);return X||[]}),se.apply(this,arguments)}function j(T,g){return ne.apply(this,arguments)}function ne(){return ne=(0,f.Z)(function*(T,g){const v=(0,B.m9)(T),X={requestType:"VERIFY_EMAIL",idToken:yield T.getIdToken()};g&&Pa(v.auth,X,g);const{email:pe}=yield function _n(T,g){return er.apply(this,arguments)}(v.auth,X);pe!==T.email&&(yield T.reload())}),ne.apply(this,arguments)}function Ue(T,g,v){return xt.apply(this,arguments)}function xt(){return xt=(0,f.Z)(function*(T,g,v){const M=(0,B.m9)(T),pe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield T.getIdToken(),newEmail:g};v&&Pa(M.auth,pe,v);const{email:st}=yield function ws(T,g){return oi.apply(this,arguments)}(M.auth,pe);st!==T.email&&(yield T.reload())}),xt.apply(this,arguments)}function Pn(){return(Pn=(0,f.Z)(function*(T,g){return _t(T,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Fr(T,g){return li.apply(this,arguments)}function li(){return li=(0,f.Z)(function*(T,{displayName:g,photoURL:v}){if(void 0===g&&void 0===v)return;const M=(0,B.m9)(T),pe={idToken:yield M.getIdToken(),displayName:g,photoUrl:v,returnSecureToken:!0},st=yield Rr(M,function Ht(T,g){return Pn.apply(this,arguments)}(M.auth,pe));M.displayName=st.displayName||null,M.photoURL=st.photoUrl||null;const Pt=M.providerData.find(({providerId:Jt})=>"password"===Jt);Pt&&(Pt.displayName=M.displayName,Pt.photoURL=M.photoURL),yield M._updateTokensIfNecessary(st)}),li.apply(this,arguments)}function ti(T,g){const v=(0,B.m9)(T);return(0,o._isFirebaseServerApp)(v.auth.app)?Promise.reject(Ze(v.auth)):pi(v,g,null)}function Ar(T,g){return pi((0,B.m9)(T),null,g)}function pi(T,g,v){return Qr.apply(this,arguments)}function Qr(){return Qr=(0,f.Z)(function*(T,g,v){const{auth:M}=T,pe={idToken:yield T.getIdToken(),returnSecureToken:!0};g&&(pe.email=g),v&&(pe.password=v);const st=yield Rr(T,function Wr(T,g){return si.apply(this,arguments)}(M,pe));yield T._updateTokensIfNecessary(st,!0)}),Qr.apply(this,arguments)}class Ss{constructor(g,v,M={}){this.isNewUser=g,this.providerId=v,this.profile=M}}class vs extends Ss{constructor(g,v,M,X){super(g,v,M),this.username=X}}class Zo extends Ss{constructor(g,v){super(g,"facebook.com",v)}}class Zs extends vs{constructor(g,v){super(g,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class Ci extends Ss{constructor(g,v){super(g,"google.com",v)}}class lr extends vs{constructor(g,v,M){super(g,"twitter.com",v,M)}}function qs(T){const{user:g,_tokenResponse:v}=T;return g.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Gi(T){var g,v;if(!T)return null;const{providerId:M}=T,X=T.rawUserInfo?JSON.parse(T.rawUserInfo):{},pe=T.isNewUser||"identitytoolkit#SignupNewUserResponse"===T.kind;if(!M&&T?.idToken){const st=null===(v=null===(g=Ur(T.idToken))||void 0===g?void 0:g.firebase)||void 0===v?void 0:v.sign_in_provider;if(st)return new Ss(pe,"anonymous"!==st&&"custom"!==st?st:null)}if(!M)return null;switch(M){case"facebook.com":return new Zo(pe,X);case"github.com":return new Zs(pe,X);case"google.com":return new Ci(pe,X);case"twitter.com":return new lr(pe,X,T.screenName||null);case"custom":case"anonymous":return new Ss(pe,null);default:return new Ss(pe,M,X)}}(v)}class Qo{constructor(g,v,M){this.type=g,this.credential=v,this.user=M}static _fromIdtoken(g,v){return new Qo("enroll",g,v)}static _fromMfaPendingCredential(g){return new Qo("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var v,M;if(g?.multiFactorSession){if(null!==(v=g.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Qo._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(M=g.multiFactorSession)&&void 0!==M&&M.idToken)return Qo._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Po{constructor(g,v,M){this.session=g,this.hints=v,this.signInResolver=M}static _fromError(g,v){const M=dr(g),X=v.customData._serverResponse,pe=(X.mfaInfo||[]).map(Pt=>mo._fromServerResponse(M,Pt));Ee(X.mfaPendingCredential,M,"internal-error");const st=Qo._fromMfaPendingCredential(X.mfaPendingCredential);return new Po(st,pe,function(){var Pt=(0,f.Z)(function*(Jt){const Fn=yield Jt._process(M,st);delete X.mfaInfo,delete X.mfaPendingCredential;const tr=Object.assign(Object.assign({},X),{idToken:Fn.idToken,refreshToken:Fn.refreshToken});switch(v.operationType){case"signIn":const Zr=yield Q._fromIdTokenResponse(M,v.operationType,tr);return yield M._updateCurrentUser(Zr.user),Zr;case"reauthenticate":return Ee(v.user,M,"internal-error"),Q._forOperation(v.user,v.operationType,tr);default:Oe(M,"internal-error")}});return function(Jt){return Pt.apply(this,arguments)}}())}resolveSignIn(g){var v=this;return(0,f.Z)(function*(){return v.signInResolver(g)})()}}function _u(T,g){var v;const M=(0,B.m9)(T),X=g;return Ee(g.customData.operationType,M,"argument-error"),Ee(null===(v=X.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,M,"argument-error"),Po._fromError(M,X)}class Pc{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(M=>mo._fromServerResponse(g.auth,M)))})}static _fromUser(g){return new Pc(g)}getSession(){var g=this;return(0,f.Z)(function*(){return Qo._fromIdtoken(yield g.user.getIdToken(),g.user)})()}enroll(g,v){var M=this;return(0,f.Z)(function*(){const X=g,pe=yield M.getSession(),st=yield Rr(M.user,X._process(M.user.auth,pe,v));return yield M.user._updateTokensIfNecessary(st),M.user.reload()})()}unenroll(g){var v=this;return(0,f.Z)(function*(){const M="string"==typeof g?g:g.uid,X=yield v.user.getIdToken();try{const pe=yield Rr(v.user,function vu(T,g){return _t(T,"POST","/v2/accounts/mfaEnrollment:withdraw",it(T,g))}(v.user.auth,{idToken:X,mfaEnrollmentId:M}));v.enrolledFactors=v.enrolledFactors.filter(({uid:st})=>st!==M),yield v.user._updateTokensIfNecessary(pe),yield v.user.reload()}catch(pe){throw pe}})()}}const xa=new WeakMap;function kd(T){const g=(0,B.m9)(T);return xa.has(g)||xa.set(g,Pc._fromUser(g)),xa.get(g)}const yu="__sak";class ki{constructor(g,v){this.storageRetriever=g,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(yu,"1"),this.storage.removeItem(yu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,v){return this.storage.setItem(g,JSON.stringify(v)),Promise.resolve()}_get(g){const v=this.storage.getItem(g);return Promise.resolve(v?JSON.parse(v):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ro=(()=>{class T extends ki{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,M)=>this.onStorageEvent(v,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Oa(){const T=(0,B.z$)();return He(T)||fr(T)}()&&function ln(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=kt(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const M of Object.keys(this.listeners)){const X=this.storage.getItem(M),pe=this.localCache[M];X!==pe&&v(M,pe,X)}}onStorageEvent(v,M=!1){if(!v.key)return void this.forAllChangedKeys((Pt,Jt,Fn)=>{this.notifyListeners(Pt,Fn)});const X=v.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Pt=this.storage.getItem(X);if(v.newValue!==Pt)null!==v.newValue?this.storage.setItem(X,v.newValue):this.storage.removeItem(X);else if(this.localCache[X]===v.newValue&&!M)return}const pe=()=>{const Pt=this.storage.getItem(X);!M&&this.localCache[X]===Pt||this.notifyListeners(X,Pt)},st=this.storage.getItem(X);!function ft(){return(0,B.w1)()&&10===document.documentMode}()||st===v.newValue||v.newValue===v.oldValue?pe():setTimeout(pe,10)}notifyListeners(v,M){this.localCache[v]=M;const X=this.listeners[v];if(X)for(const pe of Array.from(X))pe(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,M,X)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:M,newValue:X}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(M)}_removeListener(v,M){this.listeners[v]&&(this.listeners[v].delete(M),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,M){var X=()=>super._set,pe=this;return(0,f.Z)(function*(){yield X().call(pe,v,M),pe.localCache[v]=JSON.stringify(M)})()}_get(v){var M=()=>super._get,X=this;return(0,f.Z)(function*(){const pe=yield M().call(X,v);return X.localCache[v]=JSON.stringify(pe),pe})()}_remove(v){var M=()=>super._remove,X=this;return(0,f.Z)(function*(){yield M().call(X,v),delete X.localCache[v]})()}}return T.type="LOCAL",T})(),Zt=(()=>{class T extends ki{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,M){}_removeListener(v,M){}}return T.type="SESSION",T})();let Au=(()=>{class T{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const M=this.receivers.find(pe=>pe.isListeningto(v));if(M)return M;const X=new T(v);return this.receivers.push(X),X}isListeningto(v){return this.eventTarget===v}handleEvent(v){var M=this;return(0,f.Z)(function*(){const X=v,{eventId:pe,eventType:st,data:Pt}=X.data,Jt=M.handlersMap[st];if(!Jt?.size)return;X.ports[0].postMessage({status:"ack",eventId:pe,eventType:st});const Fn=Array.from(Jt).map(function(){var Zr=(0,f.Z)(function*(Lo){return Lo(X.origin,Pt)});return function(Lo){return Zr.apply(this,arguments)}}()),tr=yield function Gr(T){return Promise.all(T.map(function(){var g=(0,f.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(M){return{fulfilled:!1,reason:M}}});return function(v){return g.apply(this,arguments)}}()))}(Fn);X.ports[0].postMessage({status:"done",eventId:pe,eventType:st,response:tr})})()}_subscribe(v,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(M)}_unsubscribe(v,M){this.handlersMap[v]&&M&&this.handlersMap[v].delete(M),(!M||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return T.receivers=[],T})();function Qa(T="",g=10){let v="";for(let M=0;M<g;M++)v+=Math.floor(10*Math.random());return T+v}class ys{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,v,M=50){var X=this;return(0,f.Z)(function*(){const pe=typeof MessageChannel<"u"?new MessageChannel:null;if(!pe)throw new Error("connection_unavailable");let st,Pt;return new Promise((Jt,Fn)=>{const tr=Qa("",20);pe.port1.start();const Zr=setTimeout(()=>{Fn(new Error("unsupported_event"))},M);Pt={messageChannel:pe,onMessage(Lo){const zc=Lo;if(zc.data.eventId===tr)switch(zc.data.status){case"ack":clearTimeout(Zr),st=setTimeout(()=>{Fn(new Error("timeout"))},3e3);break;case"done":clearTimeout(st),Jt(zc.data.response);break;default:clearTimeout(Zr),clearTimeout(st),Fn(new Error("invalid_response"))}}},X.handlers.add(Pt),pe.port1.addEventListener("message",Pt.onMessage),X.target.postMessage({eventType:g,eventId:tr,data:v},[pe.port2])}).finally(()=>{Pt&&X.removeMessageHandler(Pt)})})()}}function Zi(){return window}function ks(){return typeof Zi().WorkerGlobalScope<"u"&&"function"==typeof Zi().importScripts}function Ya(){return(Ya=(0,f.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Iu="firebaseLocalStorageDb",xo="firebaseLocalStorage",bu="fbase_key";class fa{constructor(g){this.request=g}toPromise(){return new Promise((g,v)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function S(T,g){return T.transaction([xo],g?"readwrite":"readonly").objectStore(xo)}function w(){const T=indexedDB.open(Iu,1);return new Promise((g,v)=>{T.addEventListener("error",()=>{v(T.error)}),T.addEventListener("upgradeneeded",()=>{const M=T.result;try{M.createObjectStore(xo,{keyPath:bu})}catch(X){v(X)}}),T.addEventListener("success",(0,f.Z)(function*(){const M=T.result;M.objectStoreNames.contains(xo)?g(M):(M.close(),yield function O(){const T=indexedDB.deleteDatabase(Iu);return new fa(T).toPromise()}(),g(yield w()))}))})}function N(T,g,v){return W.apply(this,arguments)}function W(){return(W=(0,f.Z)(function*(T,g,v){const M=S(T,!0).put({[bu]:g,value:v});return new fa(M).toPromise()})).apply(this,arguments)}function Ve(){return(Ve=(0,f.Z)(function*(T,g){const v=S(T,!1).get(g),M=yield new fa(v).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function Dt(T,g){const v=S(T,!0).delete(g);return new fa(v).toPromise()}const ui=(()=>{class T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,f.Z)(function*(){return v.db||(v.db=yield w()),v.db})()}_withRetries(v){var M=this;return(0,f.Z)(function*(){let X=0;for(;;)try{const pe=yield M._openDb();return yield v(pe)}catch(pe){if(X++>3)throw pe;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,f.Z)(function*(){return ks()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,f.Z)(function*(){v.receiver=Au._getInstance(function Vd(){return ks()?self:null}()),v.receiver._subscribe("keyChanged",function(){var M=(0,f.Z)(function*(X,pe){return{keyProcessed:(yield v._poll()).includes(pe.key)}});return function(X,pe){return M.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var M=(0,f.Z)(function*(X,pe){return["keyChanged"]});return function(X,pe){return M.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,f.Z)(function*(){var M,X;if(v.activeServiceWorker=yield function xc(){return Ya.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new ys(v.activeServiceWorker);const pe=yield v.sender._send("ping",{},800);pe&&null!==(M=pe[0])&&void 0!==M&&M.fulfilled&&null!==(X=pe[0])&&void 0!==X&&X.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var M=this;return(0,f.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function Ld(){var T;return(null===(T=navigator?.serviceWorker)||void 0===T?void 0:T.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:v},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const v=yield w();return yield N(v,yu,"1"),yield Dt(v,yu),!0}catch{}return!1})()}_withPendingWrite(v){var M=this;return(0,f.Z)(function*(){M.pendingWrites++;try{yield v()}finally{M.pendingWrites--}})()}_set(v,M){var X=this;return(0,f.Z)(function*(){return X._withPendingWrite((0,f.Z)(function*(){return yield X._withRetries(pe=>N(pe,v,M)),X.localCache[v]=M,X.notifyServiceWorker(v)}))})()}_get(v){var M=this;return(0,f.Z)(function*(){const X=yield M._withRetries(pe=>function fe(T,g){return Ve.apply(this,arguments)}(pe,v));return M.localCache[v]=X,X})()}_remove(v){var M=this;return(0,f.Z)(function*(){return M._withPendingWrite((0,f.Z)(function*(){return yield M._withRetries(X=>Dt(X,v)),delete M.localCache[v],M.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,f.Z)(function*(){const M=yield v._withRetries(st=>{const Pt=S(st,!1).getAll();return new fa(Pt).toPromise()});if(!M)return[];if(0!==v.pendingWrites)return[];const X=[],pe=new Set;if(0!==M.length)for(const{fbase_key:st,value:Pt}of M)pe.add(st),JSON.stringify(v.localCache[st])!==JSON.stringify(Pt)&&(v.notifyListeners(st,Pt),X.push(st));for(const st of Object.keys(v.localCache))v.localCache[st]&&!pe.has(st)&&(v.notifyListeners(st,null),X.push(st));return X})()}notifyListeners(v,M){this.localCache[v]=M;const X=this.listeners[v];if(X)for(const pe of Array.from(X))pe(M)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(M)}_removeListener(v,M){this.listeners[v]&&(this.listeners[v].delete(M),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return T.type="LOCAL",T})(),No=1e12;class Ja{constructor(g){this.auth=g,this.counter=No,this._widgets=new Map}render(g,v){const M=this.counter;return this._widgets.set(M,new Ks(g,this.auth.name,v||{})),this.counter++,M}reset(g){var v;const M=g||No;null===(v=this._widgets.get(M))||void 0===v||v.delete(),this._widgets.delete(M)}getResponse(g){var v;return(null===(v=this._widgets.get(g||No))||void 0===v?void 0:v.getResponse())||""}execute(g){var v=this;return(0,f.Z)(function*(){var M;return null===(M=v._widgets.get(g||No))||void 0===M||M.execute(),""})()}}class Ks{constructor(g,v,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const X="string"==typeof g?document.getElementById(g):g;Ee(X,"argument-error",{appName:v}),this.container=X,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ko(T){const g=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<T;M++)g.push(v.charAt(Math.floor(62*Math.random())));return g.join("")}(50);const{callback:g,"expired-callback":v}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ni=Ys("rcb"),ef=new we(3e4,6e4);class Ud{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Zi().grecaptcha)||void 0===g||!g.render)}load(g,v=""){return Ee(function Nl(T){return T.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(T)}(v),g,"argument-error"),this.shouldResolveImmediately(v)&&mr(Zi().grecaptcha)?Promise.resolve(Zi().grecaptcha):new Promise((M,X)=>{const pe=Zi().setTimeout(()=>{X(tt(g,"network-request-failed"))},ef.get());Zi()[Ni]=()=>{Zi().clearTimeout(pe),delete Zi()[Ni];const Pt=Zi().grecaptcha;if(!Pt||!mr(Pt))return void X(tt(g,"internal-error"));const Jt=Pt.render;Pt.render=(Fn,tr)=>{const Zr=Jt(Fn,tr);return this.counter++,Zr},this.hostLanguage=v,M(Pt)},Hr(`${function io(){return gi.recaptchaV2Script}()}?${(0,B.xO)({onload:Ni,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(pe),X(tt(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var v;return!(null===(v=Zi().grecaptcha)||void 0===v||!v.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Yo{load(g){return(0,f.Z)(function*(){return new Ja(g)})()}clearedOneInstance(){}}const Jo="recaptcha",tf={theme:"light",type:"image"};class Cu{constructor(g,v,M=Object.assign({},tf)){this.parameters=M,this.type=Jo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=dr(g),this.isInvisible="invisible"===this.parameters.size,Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const X="string"==typeof v?document.getElementById(v):v;Ee(X,this.auth,"argument-error"),this.container=X,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Yo:new Ud,this.validateStartingState()}verify(){var g=this;return(0,f.Z)(function*(){g.assertNotDestroyed();const v=yield g.render(),M=g.getAssertedRecaptcha();return M.getResponse(v)||new Promise(pe=>{const st=Pt=>{Pt&&(g.tokenChangeListeners.delete(st),pe(Pt))};g.tokenChangeListeners.add(st),g.isInvisible&&M.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Ee(!this.parameters.sitekey,this.auth,"argument-error"),Ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return v=>{if(this.tokenChangeListeners.forEach(M=>M(v)),"function"==typeof g)g(v);else if("string"==typeof g){const M=Zi()[g];"function"==typeof M&&M(v)}}}assertNotDestroyed(){Ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,f.Z)(function*(){if(yield g.init(),!g.widgetId){let v=g.container;if(!g.isInvisible){const M=document.createElement("div");v.appendChild(M),v=M}g.widgetId=g.getAssertedRecaptcha().render(v,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,f.Z)(function*(){Ee(Tt()&&!ks(),g.auth,"internal-error"),yield function Xo(){let T=null;return new Promise(g=>{"complete"!==document.readyState?(T=()=>g(),window.addEventListener("load",T)):g()}).catch(g=>{throw T&&window.removeEventListener("load",T),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const v=yield function jr(T){return xn.apply(this,arguments)}(g.auth);Ee(v,g.auth,"internal-error"),g.parameters.sitekey=v})()}getAssertedRecaptcha(){return Ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Tu{constructor(g,v){this.verificationId=g,this.onConfirmation=v}confirm(g){const v=$r._fromVerification(this.verificationId,g);return this.onConfirmation(v)}}function wu(T,g,v){return Na.apply(this,arguments)}function Na(){return(Na=(0,f.Z)(function*(T,g,v){if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(Ze(T));const M=dr(T),X=yield Su(M,g,(0,B.m9)(v));return new Tu(X,pe=>Ic(M,pe))})).apply(this,arguments)}function ka(T,g,v){return ea.apply(this,arguments)}function ea(){return(ea=(0,f.Z)(function*(T,g,v){const M=(0,B.m9)(T);yield Ec(!1,M,"phone");const X=yield Su(M.auth,g,(0,B.m9)(v));return new Tu(X,pe=>ao(M,pe))})).apply(this,arguments)}function Bd(T,g,v){return Du.apply(this,arguments)}function Du(){return(Du=(0,f.Z)(function*(T,g,v){const M=(0,B.m9)(T);if((0,o._isFirebaseServerApp)(M.auth.app))return Promise.reject(Ze(M.auth));const X=yield Su(M.auth,g,(0,B.m9)(v));return new Tu(X,pe=>gu(M,pe))})).apply(this,arguments)}function Su(T,g,v){return Oc.apply(this,arguments)}function Oc(){return Oc=(0,f.Z)(function*(T,g,v){var M;const X=yield v.verify();try{let pe;if(Ee("string"==typeof X,T,"argument-error"),Ee(v.type===Jo,T,"argument-error"),pe="string"==typeof g?{phoneNumber:g}:g,"session"in pe){const st=pe.session;if("phoneNumber"in pe)return Ee("enroll"===st.type,T,"internal-error"),(yield function Nd(T,g){return _t(T,"POST","/v2/accounts/mfaEnrollment:start",it(T,g))}(T,{idToken:st.credential,phoneEnrollmentInfo:{phoneNumber:pe.phoneNumber,recaptchaToken:X}})).phoneSessionInfo.sessionInfo;{Ee("signin"===st.type,T,"internal-error");const Pt=(null===(M=pe.multiFactorHint)||void 0===M?void 0:M.uid)||pe.multiFactorUid;return Ee(Pt,T,"missing-multi-factor-info"),(yield function Ir(T,g){return _t(T,"POST","/v2/accounts/mfaSignIn:start",it(T,g))}(T,{mfaPendingCredential:st.credential,mfaEnrollmentId:Pt,phoneSignInInfo:{recaptchaToken:X}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:st}=yield function ht(T,g){return Lt.apply(this,arguments)}(T,{phoneNumber:pe.phoneNumber,recaptchaToken:X});return st}}finally{v._reset()}}),Oc.apply(this,arguments)}function al(T,g){return kl.apply(this,arguments)}function kl(){return(kl=(0,f.Z)(function*(T,g){const v=(0,B.m9)(T);if((0,o._isFirebaseServerApp)(v.auth.app))return Promise.reject(Ze(v.auth));yield wa(v,g)})).apply(this,arguments)}let Tg=(()=>{class T{constructor(v){this.providerId=T.PROVIDER_ID,this.auth=dr(v)}verifyPhoneNumber(v,M){return Su(this.auth,v,(0,B.m9)(M))}static credential(v,M){return $r._fromVerification(v,M)}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:M,temporaryProof:X}=v;return M&&X?$r._fromTokenResponse(M,X):null}}return T.PROVIDER_ID="phone",T.PHONE_SIGN_IN_METHOD="phone",T})();function ga(T,g){return g?Nt(g):(Ee(T._popupRedirectResolver,T,"argument-error"),T._popupRedirectResolver)}class jd extends Ji{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return re(g,this._buildIdpRequest())}_linkToIdToken(g,v){return re(g,this._buildIdpRequest(v))}_getReauthenticationResolver(g){return re(g,this._buildIdpRequest())}_buildIdpRequest(g){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(v.idToken=g),v}}function _p(T){return Sa(T.auth,new jd(T),T.bypassAuthState)}function Hd(T){const{auth:g,user:v}=T;return Ee(v,g,"internal-error"),Da(v,new jd(T),T.bypassAuthState)}function wg(T){return zd.apply(this,arguments)}function zd(){return(zd=(0,f.Z)(function*(T){const{auth:g,user:v}=T;return Ee(v,g,"internal-error"),wa(v,new jd(T),T.bypassAuthState)})).apply(this,arguments)}class cl{constructor(g,v,M,X,pe=!1){this.auth=g,this.resolver=M,this.user=X,this.bypassAuthState=pe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var g=this;return new Promise(function(){var v=(0,f.Z)(function*(M,X){g.pendingPromise={resolve:M,reject:X};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(pe){g.reject(pe)}});return function(M,X){return v.apply(this,arguments)}}())}onAuthEvent(g){var v=this;return(0,f.Z)(function*(){const{urlResponse:M,sessionId:X,postBody:pe,tenantId:st,error:Pt,type:Jt}=g;if(Pt)return void v.reject(Pt);const Fn={auth:v.auth,requestUri:M,sessionId:X,tenantId:st||void 0,postBody:pe||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Jt)(Fn))}catch(tr){v.reject(tr)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return _p;case"linkViaPopup":case"linkViaRedirect":return wg;case"reauthViaPopup":case"reauthViaRedirect":return Hd;default:Oe(this.auth,"internal-error")}}resolve(g){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Mu=new we(2e3,1e4);function vp(T,g,v){return ta.apply(this,arguments)}function ta(){return(ta=(0,f.Z)(function*(T,g,v){if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(tt(T,"operation-not-supported-in-this-environment"));const M=dr(T);dt(T,g,yr);const X=ga(M,v);return new Ls(M,"signInViaPopup",g,X).executeNotNull()})).apply(this,arguments)}function ll(T,g,v){return na.apply(this,arguments)}function na(){return(na=(0,f.Z)(function*(T,g,v){const M=(0,B.m9)(T);if((0,o._isFirebaseServerApp)(M.auth.app))return Promise.reject(tt(M.auth,"operation-not-supported-in-this-environment"));dt(M.auth,g,yr);const X=ga(M.auth,v);return new Ls(M.auth,"reauthViaPopup",g,X,M).executeNotNull()})).apply(this,arguments)}function Dg(T,g,v){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,f.Z)(function*(T,g,v){const M=(0,B.m9)(T);dt(M.auth,g,yr);const X=ga(M.auth,v);return new Ls(M.auth,"linkViaPopup",g,X,M).executeNotNull()})).apply(this,arguments)}let Ls=(()=>{class T extends cl{constructor(v,M,X,pe,st){super(v,M,pe,st),this.provider=X,this.authWindow=null,this.pollId=null,T.currentPopupAction&&T.currentPopupAction.cancel(),T.currentPopupAction=this}executeNotNull(){var v=this;return(0,f.Z)(function*(){const M=yield v.execute();return Ee(M,v.auth,"internal-error"),M})()}onExecution(){var v=this;return(0,f.Z)(function*(){Vt(1===v.filter.length,"Popup operations only handle one event");const M=Qa();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],M),v.authWindow.associatedEvent=M,v.resolver._originValidation(v.auth).catch(X=>{v.reject(X)}),v.resolver._isIframeWebStorageSupported(v.auth,X=>{X||v.reject(tt(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(tt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,T.currentPopupAction=null}pollUserCancellation(){const v=()=>{var M,X;this.pollId=null!==(X=null===(M=this.authWindow)||void 0===M?void 0:M.window)&&void 0!==X&&X.closed?window.setTimeout(()=>{this.pollId=null,this.reject(tt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,Mu.get())};v()}}return T.currentPopupAction=null,T})();const yp="pendingRedirect",qi=new Map;class Fl extends cl{constructor(g,v,M=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,M),this.eventId=null}execute(){var g=()=>super.execute,v=this;return(0,f.Z)(function*(){let M=qi.get(v.auth._key());if(!M){try{const pe=(yield function Ru(T,g){return ra.apply(this,arguments)}(v.resolver,v.auth))?yield g().call(v):null;M=()=>Promise.resolve(pe)}catch(X){M=()=>Promise.reject(X)}qi.set(v.auth._key(),M)}return v.bypassAuthState||qi.set(v.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(g){var v=()=>super.onAuthEvent,M=this;return(0,f.Z)(function*(){if("signInViaRedirect"===g.type)return v().call(M,g);if("unknown"!==g.type){if(g.eventId){const X=yield M.auth._redirectUserForId(g.eventId);if(X)return M.user=X,v().call(M,g);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function ra(){return(ra=(0,f.Z)(function*(T,g){const v=Ou(g),M=Fo(T);if(!(yield M._isAvailable()))return!1;const X="true"===(yield M._get(v));return yield M._remove(v),X})).apply(this,arguments)}function Fa(T,g){return ul.apply(this,arguments)}function ul(){return(ul=(0,f.Z)(function*(T,g){return Fo(T)._set(Ou(g),"true")})).apply(this,arguments)}function di(){qi.clear()}function xu(T,g){qi.set(T._key(),g)}function Fo(T){return Nt(T._redirectPersistence)}function Ou(T){return on(yp,T.config.apiKey,T.name)}function La(T,g,v){return function $d(T,g,v){return Gd.apply(this,arguments)}(T,g,v)}function Gd(){return(Gd=(0,f.Z)(function*(T,g,v){if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(Ze(T));const M=dr(T);dt(T,g,yr),yield M._initializationPromise;const X=ga(M,v);return yield Fa(X,M),X._openRedirect(M,g,"signInViaRedirect")})).apply(this,arguments)}function Ll(T,g,v){return function Nc(T,g,v){return Nu.apply(this,arguments)}(T,g,v)}function Nu(){return(Nu=(0,f.Z)(function*(T,g,v){const M=(0,B.m9)(T);if(dt(M.auth,g,yr),(0,o._isFirebaseServerApp)(M.auth.app))return Promise.reject(Ze(M.auth));yield M.auth._initializationPromise;const X=ga(M.auth,v);yield Fa(X,M.auth);const pe=yield ma(M);return X._openRedirect(M.auth,g,"reauthViaRedirect",pe)})).apply(this,arguments)}function nf(T,g,v){return function dl(T,g,v){return Xa.apply(this,arguments)}(T,g,v)}function Xa(){return(Xa=(0,f.Z)(function*(T,g,v){const M=(0,B.m9)(T);dt(M.auth,g,yr),yield M.auth._initializationPromise;const X=ga(M.auth,v);yield Ec(!1,M,g.providerId),yield Fa(X,M.auth);const pe=yield ma(M);return X._openRedirect(M.auth,g,"linkViaRedirect",pe)})).apply(this,arguments)}function Ep(T,g){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,f.Z)(function*(T,g){return yield dr(T)._initializationPromise,Zd(T,g,!1)})).apply(this,arguments)}function Zd(T,g){return hl.apply(this,arguments)}function hl(){return(hl=(0,f.Z)(function*(T,g,v=!1){if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(Ze(T));const M=dr(T),X=ga(M,g),st=yield new Fl(M,X,v).execute();return st&&!v&&(delete st.user._redirectEventId,yield M._persistUserIfCurrent(st.user),yield M._setRedirectUser(null,g)),st})).apply(this,arguments)}function ma(T){return kc.apply(this,arguments)}function kc(){return(kc=(0,f.Z)(function*(T){const g=Qa(`${T.uid}:::`);return T._redirectEventId=g,yield T.auth._setRedirectUser(T),yield T.auth._persistUserIfCurrent(T),g})).apply(this,arguments)}class Vl{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let v=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(g,M)&&(v=!0,this.sendToConsumer(g,M),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Fc(T){switch(T.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cn(T);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=g,v=!0)),v}sendToConsumer(g,v){var M;if(g.error&&!cn(g)){const X=(null===(M=g.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";v.onError(tt(this.auth,X))}else v.onAuthEvent(g)}isEventForConsumer(g,v){const M=null===v.eventId||!!g.eventId&&g.eventId===v.eventId;return v.filter.includes(g.type)&&M}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(_a(g))}saveEventToCache(g){this.cachedEventUids.add(_a(g)),this.lastProcessedEventTime=Date.now()}}function _a(T){return[T.type,T.eventId,T.sessionId,T.tenantId].filter(g=>g).join("-")}function cn({type:T,error:g}){return"unknown"===T&&"auth/no-auth-event"===g?.code}function Wd(T){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,f.Z)(function*(T,g={}){return _t(T,"GET","/v1/projects",g)})).apply(this,arguments)}const Wi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sg=/^https?/;function rf(){return(rf=(0,f.Z)(function*(T){if(T.config.emulator)return;const{authorizedDomains:g}=yield Wd(T);for(const v of g)try{if(Mg(v))return}catch{}Oe(T,"unauthorized-domain")})).apply(this,arguments)}function Mg(T){const g=Sn(),{protocol:v,hostname:M}=new URL(g);if(T.startsWith("chrome-extension://")){const st=new URL(T);return""===st.hostname&&""===M?"chrome-extension:"===v&&T.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===v&&st.hostname===M}if(!Sg.test(v))return!1;if(Wi.test(T))return M===T;const X=T.replace(/\./g,"\\.");return new RegExp("^(.+\\."+X+"|"+X+")$","i").test(M)}const sf=new we(3e4,6e4);function Ip(){const T=Zi().___jsl;if(T?.H)for(const g of Object.keys(T.H))if(T.H[g].r=T.H[g].r||[],T.H[g].L=T.H[g].L||[],T.H[g].r=[...T.H[g].L],T.CP)for(let v=0;v<T.CP.length;v++)T.CP[v]=null}let fl=null;const af=new we(5e3,15e3),Qd="__/auth/iframe",ji="emulator/auth/iframe",Ul={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ec=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yd(T){const g=T.config;Ee(g.authDomain,T,"auth-domain-config-required");const v=g.emulator?te(g,ji):`https://${T.config.authDomain}/${Qd}`,M={apiKey:g.apiKey,appName:T.name,v:o.SDK_VERSION},X=ec.get(T.config.apiHost);X&&(M.eid=X);const pe=T._getFrameworks();return pe.length&&(M.fw=pe.join(",")),`${v}?${(0,B.xO)(M).slice(1)}`}function tc(){return tc=(0,f.Z)(function*(T){const g=yield function pl(T){return fl=fl||function Kd(T){return new Promise((g,v)=>{var M,X,pe;function st(){Ip(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Ip(),v(tt(T,"network-request-failed"))},timeout:sf.get()})}if(null!==(X=null===(M=Zi().gapi)||void 0===M?void 0:M.iframes)&&void 0!==X&&X.Iframe)g(gapi.iframes.getContext());else{if(null===(pe=Zi().gapi)||void 0===pe||!pe.load){const Pt=Ys("iframefcb");return Zi()[Pt]=()=>{gapi.load?st():v(tt(T,"network-request-failed"))},Hr(`${function Li(){return gi.gapiScript}()}?onload=${Pt}`).catch(Jt=>v(Jt))}st()}}).catch(g=>{throw fl=null,g})}(T),fl}(T),v=Zi().gapi;return Ee(v,T,"internal-error"),g.open({where:document.body,url:Yd(T),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ul,dontclear:!0},M=>new Promise(function(){var X=(0,f.Z)(function*(pe,st){yield M.restyle({setHideOnLeave:!1});const Pt=tt(T,"network-request-failed"),Jt=Zi().setTimeout(()=>{st(Pt)},af.get());function Fn(){Zi().clearTimeout(Jt),pe(M)}M.ping(Fn).then(Fn,()=>{st(Pt)})});return function(pe,st){return X.apply(this,arguments)}}()))}),tc.apply(this,arguments)}const ku={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class uf{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Lu="__/auth/handler",Vc="emulator/auth/handler",Bl=encodeURIComponent("fac");function Va(T,g,v,M,X,pe){return jl.apply(this,arguments)}function jl(){return(jl=(0,f.Z)(function*(T,g,v,M,X,pe){Ee(T.config.authDomain,T,"auth-domain-config-required"),Ee(T.config.apiKey,T,"invalid-api-key");const st={apiKey:T.config.apiKey,appName:T.name,authType:v,redirectUrl:M,v:o.SDK_VERSION,eventId:X};if(g instanceof yr){g.setDefaultLanguage(T.languageCode),st.providerId=g.providerId||"",(0,B.xb)(g.getCustomParameters())||(st.customParameters=JSON.stringify(g.getCustomParameters()));for(const[tr,Zr]of Object.entries(pe||{}))st[tr]=Zr}if(g instanceof Pi){const tr=g.getScopes().filter(Zr=>""!==Zr);tr.length>0&&(st.scopes=tr.join(","))}T.tenantId&&(st.tid=T.tenantId);const Pt=st;for(const tr of Object.keys(Pt))void 0===Pt[tr]&&delete Pt[tr];const Jt=yield T._getAppCheckToken(),Fn=Jt?`#${Bl}=${encodeURIComponent(Jt)}`:"";return`${function Vu({config:T}){return T.emulator?te(T,Vc):`https://${T.authDomain}/${Lu}`}(T)}?${(0,B.xO)(Pt).slice(1)}${Fn}`})).apply(this,arguments)}const Uu="webStorageSupport",Jd=class df{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zt,this._completeRedirectFn=Zd,this._overrideRedirectResult=xu}_openPopup(g,v,M,X){var pe=this;return(0,f.Z)(function*(){var st;Vt(null===(st=pe.eventManagers[g._key()])||void 0===st?void 0:st.manager,"_initialize() not called before _openPopup()");const Pt=yield Va(g,v,M,Sn(),X);return function bp(T,g,v,M=500,X=600){const pe=Math.max((window.screen.availHeight-X)/2,0).toString(),st=Math.max((window.screen.availWidth-M)/2,0).toString();let Pt="";const Jt=Object.assign(Object.assign({},ku),{width:M.toString(),height:X.toString(),top:pe,left:st}),Fn=(0,B.z$)().toLowerCase();v&&(Pt=nt(Fn)?"_blank":v),Je(Fn)&&(g=g||"http://localhost",Jt.scrollbars="yes");const tr=Object.entries(Jt).reduce((Lo,[zc,$c])=>`${Lo}${zc}=${$c},`,"");if(function vt(T=(0,B.z$)()){var g;return fr(T)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Fn)&&"_self"!==Pt)return function _o(T,g){const v=document.createElement("a");v.href=T,v.target=g;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(M)}(g||"",Pt),new uf(null);const Zr=window.open(g||"",Pt,tr);Ee(Zr,T,"popup-blocked");try{Zr.focus()}catch{}return new uf(Zr)}(g,Pt,Qa())})()}_openRedirect(g,v,M,X){var pe=this;return(0,f.Z)(function*(){return yield pe._originValidation(g),function Rc(T){Zi().location.href=T}(yield Va(g,v,M,Sn(),X)),new Promise(()=>{})})()}_initialize(g){const v=g._key();if(this.eventManagers[v]){const{manager:X,promise:pe}=this.eventManagers[v];return X?Promise.resolve(X):(Vt(pe,"If manager is not set, promise should be"),pe)}const M=this.initAndGetManager(g);return this.eventManagers[v]={promise:M},M.catch(()=>{delete this.eventManagers[v]}),M}initAndGetManager(g){var v=this;return(0,f.Z)(function*(){const M=yield function lo(T){return tc.apply(this,arguments)}(g),X=new Vl(g);return M.register("authEvent",pe=>(Ee(pe?.authEvent,g,"invalid-auth-event"),{status:X.onEvent(pe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[g._key()]={manager:X},v.iframes[g._key()]=M,X})()}_isIframeWebStorageSupported(g,v){this.iframes[g._key()].send(Uu,{type:Uu},X=>{var pe;const st=null===(pe=X?.[0])||void 0===pe?void 0:pe[Uu];void 0!==st&&v(!!st),Oe(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const v=g._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Ap(T){return rf.apply(this,arguments)}(g)),this.originValidationPromises[v]}get _shouldInitProactively(){return kt()||He()||fr()}};class Cp{constructor(g){this.factorId=g}_process(g,v,M){switch(v.type){case"enroll":return this._finalizeEnroll(g,v.credential,M);case"signin":return this._finalizeSignIn(g,v.credential);default:return Ot("unexpected MultiFactorSessionType")}}}class Uc extends Cp{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Uc(g)}_finalizeEnroll(g,v,M){return function Jh(T,g){return _t(T,"POST","/v2/accounts/mfaEnrollment:finalize",it(T,g))}(g,{idToken:v,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,v){return function Fs(T,g){return _t(T,"POST","/v2/accounts/mfaSignIn:finalize",it(T,g))}(g,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Hl=(()=>{class T{constructor(){}static assertion(v){return Uc._fromCredential(v)}}return T.FACTOR_ID="phone",T})();var zl="@firebase/auth";class gl{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var v=this;return(0,f.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const v=this.auth.onIdTokenChanged(M=>{g(M?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,v),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const v=this.internalListeners.get(g);v&&(this.internalListeners.delete(g),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,B.Pz)("authIdTokenMaxAge"),function cs(T){gi=T}({loadJS:T=>new Promise((g,v)=>{const M=document.createElement("script");M.setAttribute("src",T),M.onload=g,M.onerror=X=>{const pe=tt("internal-error");pe.customData=X,v(pe)},M.type="text/javascript",M.charset="UTF-8",function pf(){var T,g;return null!==(g=null===(T=document.getElementsByTagName("head"))||void 0===T?void 0:T[0])&&void 0!==g?g:document}().appendChild(M)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Bu(T){(0,o._registerComponent)(new Ae.wA("auth",(g,{options:v})=>{const M=g.getProvider("app").getImmediate(),X=g.getProvider("heartbeat"),pe=g.getProvider("app-check-internal"),{apiKey:st,authDomain:Pt}=M.options;Ee(st&&!st.includes(":"),"invalid-api-key",{appName:M.name});const Jt={apiKey:st,authDomain:Pt,clientPlatform:T,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vn(T)},Fn=new ei(M,X,pe,Jt);return function jo(T,g){const v=g?.persistence||[],M=(Array.isArray(v)?v:[v]).map(Nt);g?.errorMap&&T._updateErrorMap(g.errorMap),T._initializeWithPersistence(M,g?.popupRedirectResolver)}(Fn,v),Fn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,v,M)=>{g.getProvider("auth-internal").initialize()})),(0,o._registerComponent)(new Ae.wA("auth-internal",g=>{const v=dr(g.getProvider("auth").getImmediate());return new gl(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,o.registerVersion)(zl,"1.7.4",function ml(T){switch(T){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(T)),(0,o.registerVersion)(zl,"1.7.4","esm2017")}("Browser")},5588:(sn,lt,k)=>{"use strict";k.d(lt,{u7:()=>b_,Jj:()=>Qc,IX:()=>ou,my:()=>hs,xU:()=>vd,Lz:()=>ja,WA:()=>te,F8:()=>Kp,$q:()=>tg,W:()=>lu,EK:()=>Jn,PU:()=>Ad,l7:()=>Wn,Ky:()=>Yt,Xb:()=>sr,Cf:()=>Nr,K9:()=>ut,Me:()=>Co,yq:()=>Vt,Wi:()=>Bf,ET:()=>S_,Ab:()=>Xf,vr:()=>Fh,Fc:()=>dd,hJ:()=>iu,B$:()=>jf,at:()=>Ih,oe:()=>Jc,AK:()=>Em,TF:()=>qp,JU:()=>p_,ST:()=>Gf,fH:()=>uc,Ix:()=>g_,Wu:()=>hv,Lx:()=>E_,qY:()=>is,GL:()=>As,QT:()=>D_,kl:()=>pm,Xk:()=>uu,PL:()=>gm,UQ:()=>pv,zN:()=>_y,ad:()=>bh,nP:()=>N_,b9:()=>dv,vh:()=>Yp,Pb:()=>m_,L$:()=>__,cf:()=>mv,sc:()=>vy,Xo:()=>y_,IO:()=>v_,iE:()=>Zp,Eo:()=>Hf,i3:()=>ym,Bt:()=>ng,pl:()=>gv,Ub:()=>bt,qK:()=>hc,TQ:()=>Yf,e0:()=>Nh,r7:()=>mm,Mx:()=>nm,ar:()=>lm});var ae,ve,f=k(5861),o=k(534),B=k(4537),Se=k(7879),me=k(9058),Ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},de={};(function(){var c;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function l(pt,Qe,ot){ot||(ot=0);var gt=Array(16);if("string"==typeof Qe)for(var At=0;16>At;++At)gt[At]=Qe.charCodeAt(ot++)|Qe.charCodeAt(ot++)<<8|Qe.charCodeAt(ot++)<<16|Qe.charCodeAt(ot++)<<24;else for(At=0;16>At;++At)gt[At]=Qe[ot++]|Qe[ot++]<<8|Qe[ot++]<<16|Qe[ot++]<<24;var Rt=pt.g[3],rt=(Qe=pt.g[0])+(Rt^(ot=pt.g[1])&((At=pt.g[2])^Rt))+gt[0]+3614090360&4294967295;rt=(ot=(At=(Rt=(Qe=(ot=(At=(Rt=(Qe=(ot=(At=(Rt=(Qe=(ot=(At=(Rt=(Qe=(ot=(At=(Rt=(Qe=(ot=(At=(Rt=(Qe=(ot=(At=(Rt=(Qe=(ot=(At=(Rt=(Qe=(ot=(At=(Rt=(Qe=(ot=(At=(Rt=(Qe=(ot=(At=(Rt=(Qe=(ot=(At=(Rt=(Qe=(ot=(At=(Rt=(Qe=(ot=(At=(Rt=(Qe=(ot=(At=(Rt=(Qe=ot+(rt<<7&4294967295|rt>>>25))+((rt=Rt+(At^Qe&(ot^At))+gt[1]+3905402710&4294967295)<<12&4294967295|rt>>>20))+((rt=At+(ot^Rt&(Qe^ot))+gt[2]+606105819&4294967295)<<17&4294967295|rt>>>15))+((rt=ot+(Qe^At&(Rt^Qe))+gt[3]+3250441966&4294967295)<<22&4294967295|rt>>>10))+((rt=Qe+(Rt^ot&(At^Rt))+gt[4]+4118548399&4294967295)<<7&4294967295|rt>>>25))+((rt=Rt+(At^Qe&(ot^At))+gt[5]+1200080426&4294967295)<<12&4294967295|rt>>>20))+((rt=At+(ot^Rt&(Qe^ot))+gt[6]+2821735955&4294967295)<<17&4294967295|rt>>>15))+((rt=ot+(Qe^At&(Rt^Qe))+gt[7]+4249261313&4294967295)<<22&4294967295|rt>>>10))+((rt=Qe+(Rt^ot&(At^Rt))+gt[8]+1770035416&4294967295)<<7&4294967295|rt>>>25))+((rt=Rt+(At^Qe&(ot^At))+gt[9]+2336552879&4294967295)<<12&4294967295|rt>>>20))+((rt=At+(ot^Rt&(Qe^ot))+gt[10]+4294925233&4294967295)<<17&4294967295|rt>>>15))+((rt=ot+(Qe^At&(Rt^Qe))+gt[11]+2304563134&4294967295)<<22&4294967295|rt>>>10))+((rt=Qe+(Rt^ot&(At^Rt))+gt[12]+1804603682&4294967295)<<7&4294967295|rt>>>25))+((rt=Rt+(At^Qe&(ot^At))+gt[13]+4254626195&4294967295)<<12&4294967295|rt>>>20))+((rt=At+(ot^Rt&(Qe^ot))+gt[14]+2792965006&4294967295)<<17&4294967295|rt>>>15))+((rt=ot+(Qe^At&(Rt^Qe))+gt[15]+1236535329&4294967295)<<22&4294967295|rt>>>10))+((rt=Qe+(At^Rt&(ot^At))+gt[1]+4129170786&4294967295)<<5&4294967295|rt>>>27))+((rt=Rt+(ot^At&(Qe^ot))+gt[6]+3225465664&4294967295)<<9&4294967295|rt>>>23))+((rt=At+(Qe^ot&(Rt^Qe))+gt[11]+643717713&4294967295)<<14&4294967295|rt>>>18))+((rt=ot+(Rt^Qe&(At^Rt))+gt[0]+3921069994&4294967295)<<20&4294967295|rt>>>12))+((rt=Qe+(At^Rt&(ot^At))+gt[5]+3593408605&4294967295)<<5&4294967295|rt>>>27))+((rt=Rt+(ot^At&(Qe^ot))+gt[10]+38016083&4294967295)<<9&4294967295|rt>>>23))+((rt=At+(Qe^ot&(Rt^Qe))+gt[15]+3634488961&4294967295)<<14&4294967295|rt>>>18))+((rt=ot+(Rt^Qe&(At^Rt))+gt[4]+3889429448&4294967295)<<20&4294967295|rt>>>12))+((rt=Qe+(At^Rt&(ot^At))+gt[9]+568446438&4294967295)<<5&4294967295|rt>>>27))+((rt=Rt+(ot^At&(Qe^ot))+gt[14]+3275163606&4294967295)<<9&4294967295|rt>>>23))+((rt=At+(Qe^ot&(Rt^Qe))+gt[3]+4107603335&4294967295)<<14&4294967295|rt>>>18))+((rt=ot+(Rt^Qe&(At^Rt))+gt[8]+1163531501&4294967295)<<20&4294967295|rt>>>12))+((rt=Qe+(At^Rt&(ot^At))+gt[13]+2850285829&4294967295)<<5&4294967295|rt>>>27))+((rt=Rt+(ot^At&(Qe^ot))+gt[2]+4243563512&4294967295)<<9&4294967295|rt>>>23))+((rt=At+(Qe^ot&(Rt^Qe))+gt[7]+1735328473&4294967295)<<14&4294967295|rt>>>18))+((rt=ot+(Rt^Qe&(At^Rt))+gt[12]+2368359562&4294967295)<<20&4294967295|rt>>>12))+((rt=Qe+(ot^At^Rt)+gt[5]+4294588738&4294967295)<<4&4294967295|rt>>>28))+((rt=Rt+(Qe^ot^At)+gt[8]+2272392833&4294967295)<<11&4294967295|rt>>>21))+((rt=At+(Rt^Qe^ot)+gt[11]+1839030562&4294967295)<<16&4294967295|rt>>>16))+((rt=ot+(At^Rt^Qe)+gt[14]+4259657740&4294967295)<<23&4294967295|rt>>>9))+((rt=Qe+(ot^At^Rt)+gt[1]+2763975236&4294967295)<<4&4294967295|rt>>>28))+((rt=Rt+(Qe^ot^At)+gt[4]+1272893353&4294967295)<<11&4294967295|rt>>>21))+((rt=At+(Rt^Qe^ot)+gt[7]+4139469664&4294967295)<<16&4294967295|rt>>>16))+((rt=ot+(At^Rt^Qe)+gt[10]+3200236656&4294967295)<<23&4294967295|rt>>>9))+((rt=Qe+(ot^At^Rt)+gt[13]+681279174&4294967295)<<4&4294967295|rt>>>28))+((rt=Rt+(Qe^ot^At)+gt[0]+3936430074&4294967295)<<11&4294967295|rt>>>21))+((rt=At+(Rt^Qe^ot)+gt[3]+3572445317&4294967295)<<16&4294967295|rt>>>16))+((rt=ot+(At^Rt^Qe)+gt[6]+76029189&4294967295)<<23&4294967295|rt>>>9))+((rt=Qe+(ot^At^Rt)+gt[9]+3654602809&4294967295)<<4&4294967295|rt>>>28))+((rt=Rt+(Qe^ot^At)+gt[12]+3873151461&4294967295)<<11&4294967295|rt>>>21))+((rt=At+(Rt^Qe^ot)+gt[15]+530742520&4294967295)<<16&4294967295|rt>>>16))+((rt=ot+(At^Rt^Qe)+gt[2]+3299628645&4294967295)<<23&4294967295|rt>>>9))+((rt=Qe+(At^(ot|~Rt))+gt[0]+4096336452&4294967295)<<6&4294967295|rt>>>26))+((rt=Rt+(ot^(Qe|~At))+gt[7]+1126891415&4294967295)<<10&4294967295|rt>>>22))+((rt=At+(Qe^(Rt|~ot))+gt[14]+2878612391&4294967295)<<15&4294967295|rt>>>17))+((rt=ot+(Rt^(At|~Qe))+gt[5]+4237533241&4294967295)<<21&4294967295|rt>>>11))+((rt=Qe+(At^(ot|~Rt))+gt[12]+1700485571&4294967295)<<6&4294967295|rt>>>26))+((rt=Rt+(ot^(Qe|~At))+gt[3]+2399980690&4294967295)<<10&4294967295|rt>>>22))+((rt=At+(Qe^(Rt|~ot))+gt[10]+4293915773&4294967295)<<15&4294967295|rt>>>17))+((rt=ot+(Rt^(At|~Qe))+gt[1]+2240044497&4294967295)<<21&4294967295|rt>>>11))+((rt=Qe+(At^(ot|~Rt))+gt[8]+1873313359&4294967295)<<6&4294967295|rt>>>26))+((rt=Rt+(ot^(Qe|~At))+gt[15]+4264355552&4294967295)<<10&4294967295|rt>>>22))+((rt=At+(Qe^(Rt|~ot))+gt[6]+2734768916&4294967295)<<15&4294967295|rt>>>17))+((rt=ot+(Rt^(At|~Qe))+gt[13]+1309151649&4294967295)<<21&4294967295|rt>>>11))+((Rt=(Qe=ot+((rt=Qe+(At^(ot|~Rt))+gt[4]+4149444226&4294967295)<<6&4294967295|rt>>>26))+((rt=Rt+(ot^(Qe|~At))+gt[11]+3174756917&4294967295)<<10&4294967295|rt>>>22))^((At=Rt+((rt=At+(Qe^(Rt|~ot))+gt[2]+718787259&4294967295)<<15&4294967295|rt>>>17))|~Qe))+gt[9]+3951481745&4294967295,pt.g[0]=pt.g[0]+Qe&4294967295,pt.g[1]=pt.g[1]+(At+(rt<<21&4294967295|rt>>>11))&4294967295,pt.g[2]=pt.g[2]+At&4294967295,pt.g[3]=pt.g[3]+Rt&4294967295}function I(pt,Qe){this.h=Qe;for(var ot=[],gt=!0,At=pt.length-1;0<=At;At--){var Rt=0|pt[At];gt&&Rt==Qe||(ot[At]=Rt,gt=!1)}this.g=ot}(function e(pt,Qe){function ot(){}ot.prototype=Qe.prototype,pt.D=Qe.prototype,pt.prototype=new ot,pt.prototype.constructor=pt,pt.C=function(gt,At,Rt){for(var rt=Array(arguments.length-2),Ml=2;Ml<arguments.length;Ml++)rt[Ml-2]=arguments[Ml];return Qe.prototype[At].apply(gt,rt)}})(s,function r(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(pt,Qe){void 0===Qe&&(Qe=pt.length);for(var ot=Qe-this.blockSize,gt=this.B,At=this.h,Rt=0;Rt<Qe;){if(0==At)for(;Rt<=ot;)l(this,pt,Rt),Rt+=this.blockSize;if("string"==typeof pt){for(;Rt<Qe;)if(gt[At++]=pt.charCodeAt(Rt++),At==this.blockSize){l(this,gt),At=0;break}}else for(;Rt<Qe;)if(gt[At++]=pt[Rt++],At==this.blockSize){l(this,gt),At=0;break}}this.h=At,this.o+=Qe},s.prototype.v=function(){var pt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);pt[0]=128;for(var Qe=1;Qe<pt.length-8;++Qe)pt[Qe]=0;var ot=8*this.o;for(Qe=pt.length-8;Qe<pt.length;++Qe)pt[Qe]=255&ot,ot/=256;for(this.u(pt),pt=Array(16),Qe=ot=0;4>Qe;++Qe)for(var gt=0;32>gt;gt+=8)pt[ot++]=this.g[Qe]>>>gt&255;return pt};var P={};function L(pt){return-128<=pt&&128>pt?function m(pt,Qe){var ot=P;return Object.prototype.hasOwnProperty.call(ot,pt)?ot[pt]:ot[pt]=Qe(pt)}(pt,function(Qe){return new I([0|Qe],0>Qe?-1:0)}):new I([0|pt],0>pt?-1:0)}function J(pt){if(isNaN(pt)||!isFinite(pt))return Me;if(0>pt)return tn(J(-pt));for(var Qe=[],ot=1,gt=0;pt>=ot;gt++)Qe[gt]=pt/ot|0,ot*=4294967296;return new I(Qe,0)}var Me=L(0),et=L(1),Ct=L(16777216);function qt(pt){if(0!=pt.h)return!1;for(var Qe=0;Qe<pt.g.length;Qe++)if(0!=pt.g[Qe])return!1;return!0}function dn(pt){return-1==pt.h}function tn(pt){for(var Qe=pt.g.length,ot=[],gt=0;gt<Qe;gt++)ot[gt]=~pt.g[gt];return new I(ot,~pt.h).add(et)}function Zn(pt,Qe){return pt.add(tn(Qe))}function or(pt,Qe){for(;(65535&pt[Qe])!=pt[Qe];)pt[Qe+1]+=pt[Qe]>>>16,pt[Qe]&=65535,Qe++}function Qn(pt,Qe){this.g=pt,this.h=Qe}function Mr(pt,Qe){if(qt(Qe))throw Error("division by zero");if(qt(pt))return new Qn(Me,Me);if(dn(pt))return Qe=Mr(tn(pt),Qe),new Qn(tn(Qe.g),tn(Qe.h));if(dn(Qe))return Qe=Mr(pt,tn(Qe)),new Qn(tn(Qe.g),Qe.h);if(30<pt.g.length){if(dn(pt)||dn(Qe))throw Error("slowDivide_ only works with positive integers.");for(var ot=et,gt=Qe;0>=gt.l(pt);)ot=Ti(ot),gt=Ti(gt);var At=qr(ot,1),Rt=qr(gt,1);for(gt=qr(gt,2),ot=qr(ot,2);!qt(gt);){var rt=Rt.add(gt);0>=rt.l(pt)&&(At=At.add(ot),Rt=rt),gt=qr(gt,1),ot=qr(ot,1)}return Qe=Zn(pt,At.j(Qe)),new Qn(At,Qe)}for(At=Me;0<=pt.l(Qe);){for(ot=Math.max(1,Math.floor(pt.m()/Qe.m())),gt=48>=(gt=Math.ceil(Math.log(ot)/Math.LN2))?1:Math.pow(2,gt-48),rt=(Rt=J(ot)).j(Qe);dn(rt)||0<rt.l(pt);)rt=(Rt=J(ot-=gt)).j(Qe);qt(Rt)&&(Rt=et),At=At.add(Rt),pt=Zn(pt,rt)}return new Qn(At,pt)}function Ti(pt){for(var Qe=pt.g.length+1,ot=[],gt=0;gt<Qe;gt++)ot[gt]=pt.i(gt)<<1|pt.i(gt-1)>>>31;return new I(ot,pt.h)}function qr(pt,Qe){var ot=Qe>>5;Qe%=32;for(var gt=pt.g.length-ot,At=[],Rt=0;Rt<gt;Rt++)At[Rt]=0<Qe?pt.i(Rt+ot)>>>Qe|pt.i(Rt+ot+1)<<32-Qe:pt.i(Rt+ot);return new I(At,pt.h)}(c=I.prototype).m=function(){if(dn(this))return-tn(this).m();for(var pt=0,Qe=1,ot=0;ot<this.g.length;ot++){var gt=this.i(ot);pt+=(0<=gt?gt:4294967296+gt)*Qe,Qe*=4294967296}return pt},c.toString=function(pt){if(2>(pt=pt||10)||36<pt)throw Error("radix out of range: "+pt);if(qt(this))return"0";if(dn(this))return"-"+tn(this).toString(pt);for(var Qe=J(Math.pow(pt,6)),ot=this,gt="";;){var At=Mr(ot,Qe).g,Rt=((0<(ot=Zn(ot,At.j(Qe))).g.length?ot.g[0]:ot.h)>>>0).toString(pt);if(qt(ot=At))return Rt+gt;for(;6>Rt.length;)Rt="0"+Rt;gt=Rt+gt}},c.i=function(pt){return 0>pt?0:pt<this.g.length?this.g[pt]:this.h},c.l=function(pt){return dn(pt=Zn(this,pt))?-1:qt(pt)?0:1},c.abs=function(){return dn(this)?tn(this):this},c.add=function(pt){for(var Qe=Math.max(this.g.length,pt.g.length),ot=[],gt=0,At=0;At<=Qe;At++){var Rt=gt+(65535&this.i(At))+(65535&pt.i(At)),rt=(Rt>>>16)+(this.i(At)>>>16)+(pt.i(At)>>>16);gt=rt>>>16,ot[At]=(rt&=65535)<<16|(Rt&=65535)}return new I(ot,-2147483648&ot[ot.length-1]?-1:0)},c.j=function(pt){if(qt(this)||qt(pt))return Me;if(dn(this))return dn(pt)?tn(this).j(tn(pt)):tn(tn(this).j(pt));if(dn(pt))return tn(this.j(tn(pt)));if(0>this.l(Ct)&&0>pt.l(Ct))return J(this.m()*pt.m());for(var Qe=this.g.length+pt.g.length,ot=[],gt=0;gt<2*Qe;gt++)ot[gt]=0;for(gt=0;gt<this.g.length;gt++)for(var At=0;At<pt.g.length;At++){var Rt=this.i(gt)>>>16,rt=65535&this.i(gt),Ml=pt.i(At)>>>16,tp=65535&pt.i(At);ot[2*gt+2*At]+=rt*tp,or(ot,2*gt+2*At),ot[2*gt+2*At+1]+=Rt*tp,or(ot,2*gt+2*At+1),ot[2*gt+2*At+1]+=rt*Ml,or(ot,2*gt+2*At+1),ot[2*gt+2*At+2]+=Rt*Ml,or(ot,2*gt+2*At+2)}for(gt=0;gt<Qe;gt++)ot[gt]=ot[2*gt+1]<<16|ot[2*gt];for(gt=Qe;gt<2*Qe;gt++)ot[gt]=0;return new I(ot,0)},c.A=function(pt){return Mr(this,pt).h},c.and=function(pt){for(var Qe=Math.max(this.g.length,pt.g.length),ot=[],gt=0;gt<Qe;gt++)ot[gt]=this.i(gt)&pt.i(gt);return new I(ot,this.h&pt.h)},c.or=function(pt){for(var Qe=Math.max(this.g.length,pt.g.length),ot=[],gt=0;gt<Qe;gt++)ot[gt]=this.i(gt)|pt.i(gt);return new I(ot,this.h|pt.h)},c.xor=function(pt){for(var Qe=Math.max(this.g.length,pt.g.length),ot=[],gt=0;gt<Qe;gt++)ot[gt]=this.i(gt)^pt.i(gt);return new I(ot,this.h^pt.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ve=de.Md5=s,I.prototype.add=I.prototype.add,I.prototype.multiply=I.prototype.j,I.prototype.modulo=I.prototype.A,I.prototype.compare=I.prototype.l,I.prototype.toNumber=I.prototype.m,I.prototype.toString=I.prototype.toString,I.prototype.getBits=I.prototype.i,I.fromNumber=J,I.fromString=function he(pt,Qe){if(0==pt.length)throw Error("number format error: empty string");if(2>(Qe=Qe||10)||36<Qe)throw Error("radix out of range: "+Qe);if("-"==pt.charAt(0))return tn(he(pt.substring(1),Qe));if(0<=pt.indexOf("-"))throw Error('number format error: interior "-" character');for(var ot=J(Math.pow(Qe,8)),gt=Me,At=0;At<pt.length;At+=8){var Rt=Math.min(8,pt.length-At),rt=parseInt(pt.substring(At,At+Rt),Qe);8>Rt?(Rt=J(Math.pow(Qe,Rt)),gt=gt.j(Rt).add(J(rt))):gt=(gt=gt.j(ot)).add(J(rt))}return gt},ae=de.Integer=I}).apply(typeof Ae<"u"?Ae:typeof self<"u"?self:typeof window<"u"?window:{});var oe,be,ye,De,xe,Ye,We,mt,ke,$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},z={};(function(){var c,e="function"==typeof Object.defineProperties?Object.defineProperty:function(y,V,ee){return y==Array.prototype||y==Object.prototype||(y[V]=ee.value),y},s=function r(y){y=["object"==typeof globalThis&&globalThis,y,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof $&&$];for(var V=0;V<y.length;++V){var ee=y[V];if(ee&&ee.Math==Math)return ee}throw Error("Cannot find global object")}(this);!function l(y,V){if(V)e:{var ee=s;y=y.split(".");for(var Ce=0;Ce<y.length-1;Ce++){var It=y[Ce];if(!(It in ee))break e;ee=ee[It]}(V=V(Ce=ee[y=y[y.length-1]]))!=Ce&&null!=V&&e(ee,y,{configurable:!0,writable:!0,value:V})}}("Array.prototype.values",function(y){return y||function(){return function m(y,V){y instanceof String&&(y+="");var ee=0,Ce=!1,It={next:function(){if(!Ce&&ee<y.length){var Ut=ee++;return{value:V(Ut,y[Ut]),done:!1}}return Ce=!0,{done:!0,value:void 0}}};return It[Symbol.iterator]=function(){return It},It}(this,function(V,ee){return ee})}});var I=I||{},P=this||self;function L(y){var V=typeof y;return"array"==(V="object"!=V?V:y?Array.isArray(y)?"array":V:"null")||"object"==V&&"number"==typeof y.length}function J(y){var V=typeof y;return"object"==V&&null!=y||"function"==V}function he(y,V,ee){return y.call.apply(y.bind,arguments)}function Me(y,V,ee){if(!y)throw Error();if(2<arguments.length){var Ce=Array.prototype.slice.call(arguments,2);return function(){var It=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(It,Ce),y.apply(V,It)}}return function(){return y.apply(V,arguments)}}function et(y,V,ee){return(et=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?he:Me).apply(null,arguments)}function Ct(y,V){var ee=Array.prototype.slice.call(arguments,1);return function(){var Ce=ee.slice();return Ce.push.apply(Ce,arguments),y.apply(this,Ce)}}function qt(y,V){function ee(){}ee.prototype=V.prototype,y.aa=V.prototype,y.prototype=new ee,y.prototype.constructor=y,y.Qb=function(Ce,It,Ut){for(var Dn=Array(arguments.length-2),Hi=2;Hi<arguments.length;Hi++)Dn[Hi-2]=arguments[Hi];return V.prototype[It].apply(Ce,Dn)}}function dn(y){const V=y.length;if(0<V){const ee=Array(V);for(let Ce=0;Ce<V;Ce++)ee[Ce]=y[Ce];return ee}return[]}function tn(y,V){for(let ee=1;ee<arguments.length;ee++){const Ce=arguments[ee];if(L(Ce)){const It=y.length||0,Ut=Ce.length||0;y.length=It+Ut;for(let Dn=0;Dn<Ut;Dn++)y[It+Dn]=Ce[Dn]}else y.push(Ce)}}function or(y){return/^[\s\xa0]*$/.test(y)}function Qn(){var y=P.navigator;return y&&(y=y.userAgent)?y:""}function Mr(y){return Mr[" "](y),y}Mr[" "]=function(){};var Ti=!(-1==Qn().indexOf("Gecko")||-1!=Qn().toLowerCase().indexOf("webkit")&&-1==Qn().indexOf("Edge")||-1!=Qn().indexOf("Trident")||-1!=Qn().indexOf("MSIE")||-1!=Qn().indexOf("Edge"));function qr(y,V,ee){for(const Ce in y)V.call(ee,y[Ce],Ce,y)}function Qe(y){const V={};for(const ee in y)V[ee]=y[ee];return V}const ot="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gt(y,V){let ee,Ce;for(let It=1;It<arguments.length;It++){for(ee in Ce=arguments[It],Ce)y[ee]=Ce[ee];for(let Ut=0;Ut<ot.length;Ut++)ee=ot[Ut],Object.prototype.hasOwnProperty.call(Ce,ee)&&(y[ee]=Ce[ee])}}function At(y){var V=1;y=y.split(":");const ee=[];for(;0<V&&y.length;)ee.push(y.shift()),V--;return y.length&&ee.push(y.join(":")),ee}function Rt(y){P.setTimeout(()=>{throw y},0)}function rt(){var y=F_;let V=null;return y.g&&(V=y.g,y.g=y.g.next,y.g||(y.h=null),V.next=null),V}var tp=new class Zn{constructor(V,ee){this.i=V,this.j=ee,this.h=0,this.g=null}get(){let V;return 0<this.h?(this.h--,V=this.g,this.g=V.next,V.next=null):V=this.i(),V}}(()=>new Ia,y=>y.reset());class Ia{constructor(){this.next=this.g=this.h=null}set(V,ee){this.h=V,this.g=ee,this.next=null}reset(){this.next=this.g=this.h=null}}let np,rp=!1,F_=new class Ml{constructor(){this.h=this.g=null}add(V,ee){const Ce=tp.get();Ce.set(V,ee),this.h?this.h.next=Ce:this.g=Ce,this.h=Ce}},rg=()=>{const y=P.Promise.resolve(void 0);np=()=>{y.then(L_)}};var L_=()=>{for(var y;y=rt();){try{y.h.call(y.g)}catch(ee){Rt(ee)}var V=tp;V.j(y),100>V.h&&(V.h++,y.next=V.g,V.g=y)}rp=!1};function du(){this.s=this.s,this.C=this.C}function yo(y,V){this.type=y,this.g=this.target=V,this.defaultPrevented=!1}du.prototype.s=!1,du.prototype.ma=function(){this.s||(this.s=!0,this.N())},du.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},yo.prototype.h=function(){this.defaultPrevented=!0};var Mv=function(){if(!P.addEventListener||!Object.defineProperty)return!1;var y=!1,V=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const ee=()=>{};P.addEventListener("test",ee,V),P.removeEventListener("test",ee,V)}catch{}return y}();function Vh(y,V){if(yo.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var ee=this.type=y.type,Ce=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=V,V=y.relatedTarget){if(Ti){e:{try{Mr(V.nodeName);var It=!0;break e}catch{}It=!1}It||(V=null)}}else"mouseover"==ee?V=y.fromElement:"mouseout"==ee&&(V=y.toElement);this.relatedTarget=V,Ce?(this.clientX=void 0!==Ce.clientX?Ce.clientX:Ce.pageX,this.clientY=void 0!==Ce.clientY?Ce.clientY:Ce.pageY,this.screenX=Ce.screenX||0,this.screenY=Ce.screenY||0):(this.clientX=void 0!==y.clientX?y.clientX:y.pageX,this.clientY=void 0!==y.clientY?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType="string"==typeof y.pointerType?y.pointerType:Pv[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&Vh.aa.h.call(this)}}qt(Vh,yo);var Pv={2:"touch",3:"pen",4:"mouse"};Vh.prototype.h=function(){Vh.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var ip="closure_listenable_"+(1e6*Math.random()|0),Am=0;function Rv(y,V,ee,Ce,It){this.listener=y,this.proxy=null,this.src=V,this.type=ee,this.capture=!!Ce,this.ha=It,this.key=++Am,this.da=this.fa=!1}function ig(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function sg(y){this.src=y,this.g={},this.h=0}function Im(y,V){var ee=V.type;if(ee in y.g){var Ut,Ce=y.g[ee],It=Array.prototype.indexOf.call(Ce,V,void 0);(Ut=0<=It)&&Array.prototype.splice.call(Ce,It,1),Ut&&(ig(V),0==y.g[ee].length&&(delete y.g[ee],y.h--))}}function bm(y,V,ee,Ce){for(var It=0;It<y.length;++It){var Ut=y[It];if(!Ut.da&&Ut.listener==V&&Ut.capture==!!ee&&Ut.ha==Ce)return It}return-1}sg.prototype.add=function(y,V,ee,Ce,It){var Ut=y.toString();(y=this.g[Ut])||(y=this.g[Ut]=[],this.h++);var Dn=bm(y,V,Ce,It);return-1<Dn?(V=y[Dn],ee||(V.fa=!1)):((V=new Rv(V,this.src,Ut,!!Ce,It)).fa=ee,y.push(V)),V};var za="closure_lm_"+(1e6*Math.random()|0),sp={};function V_(y,V,ee,Ce,It){if(Ce&&Ce.once)return Tm(y,V,ee,Ce,It);if(Array.isArray(V)){for(var Ut=0;Ut<V.length;Ut++)V_(y,V[Ut],ee,Ce,It);return null}return ee=lg(ee),y&&y[ip]?y.K(V,ee,J(Ce)?!!Ce.capture:!!Ce,It):Cm(y,V,ee,!1,Ce,It)}function Cm(y,V,ee,Ce,It,Ut){if(!V)throw Error("Invalid event type");var Dn=J(It)?!!It.capture:!!It,Hi=ag(y);if(Hi||(y[za]=Hi=new sg(y)),(ee=Hi.add(V,ee,Ce,Dn,Ut)).proxy)return ee;if(Ce=function xv(){const V=Cy;return function y(ee){return V.call(y.src,y.listener,ee)}}(),ee.proxy=Ce,Ce.src=y,Ce.listener=ee,y.addEventListener)Mv||(It=Dn),void 0===It&&(It=!1),y.addEventListener(V.toString(),Ce,It);else if(y.attachEvent)y.attachEvent(og(V.toString()),Ce);else{if(!y.addListener||!y.removeListener)throw Error("addEventListener and attachEvent are unavailable.");y.addListener(Ce)}return ee}function Tm(y,V,ee,Ce,It){if(Array.isArray(V)){for(var Ut=0;Ut<V.length;Ut++)Tm(y,V[Ut],ee,Ce,It);return null}return ee=lg(ee),y&&y[ip]?y.L(V,ee,J(Ce)?!!Ce.capture:!!Ce,It):Cm(y,V,ee,!0,Ce,It)}function wm(y,V,ee,Ce,It){if(Array.isArray(V))for(var Ut=0;Ut<V.length;Ut++)wm(y,V[Ut],ee,Ce,It);else Ce=J(Ce)?!!Ce.capture:!!Ce,ee=lg(ee),y&&y[ip]?(y=y.i,(V=String(V).toString())in y.g&&-1<(ee=bm(Ut=y.g[V],ee,Ce,It))&&(ig(Ut[ee]),Array.prototype.splice.call(Ut,ee,1),0==Ut.length&&(delete y.g[V],y.h--))):y&&(y=ag(y))&&(V=y.g[V.toString()],y=-1,V&&(y=bm(V,ee,Ce,It)),(ee=-1<y?V[y]:null)&&Uh(ee))}function Uh(y){if("number"!=typeof y&&y&&!y.da){var V=y.src;if(V&&V[ip])Im(V.i,y);else{var ee=y.type,Ce=y.proxy;V.removeEventListener?V.removeEventListener(ee,Ce,y.capture):V.detachEvent?V.detachEvent(og(ee),Ce):V.addListener&&V.removeListener&&V.removeListener(Ce),(ee=ag(V))?(Im(ee,y),0==ee.h&&(ee.src=null,V[za]=null)):ig(y)}}}function og(y){return y in sp?sp[y]:sp[y]="on"+y}function Cy(y,V){if(y.da)y=!0;else{V=new Vh(V,this);var ee=y.listener,Ce=y.ha||y.src;y.fa&&Uh(y),y=ee.call(Ce,V)}return y}function ag(y){return(y=y[za])instanceof sg?y:null}var cg="__closure_events_fn_"+(1e9*Math.random()>>>0);function lg(y){return"function"==typeof y?y:(y[cg]||(y[cg]=function(V){return y.handleEvent(V)}),y[cg])}function Xs(){du.call(this),this.i=new sg(this),this.M=this,this.F=null}function eo(y,V){var ee,Ce=y.F;if(Ce)for(ee=[];Ce;Ce=Ce.F)ee.push(Ce);if(y=y.M,Ce=V.type||V,"string"==typeof V)V=new yo(V,y);else if(V instanceof yo)V.target=V.target||y;else{var It=V;gt(V=new yo(Ce,y),It)}if(It=!0,ee)for(var Ut=ee.length-1;0<=Ut;Ut--){var Dn=V.g=ee[Ut];It=ba(Dn,Ce,!0,V)&&It}if(It=ba(Dn=V.g=y,Ce,!0,V)&&It,It=ba(Dn,Ce,!1,V)&&It,ee)for(Ut=0;Ut<ee.length;Ut++)It=ba(Dn=V.g=ee[Ut],Ce,!1,V)&&It}function ba(y,V,ee,Ce){if(!(V=y.i.g[String(V)]))return!0;V=V.concat();for(var It=!0,Ut=0;Ut<V.length;++Ut){var Dn=V[Ut];if(Dn&&!Dn.da&&Dn.capture==ee){var Hi=Dn.listener,ro=Dn.ha||Dn.src;Dn.fa&&Im(y.i,Dn),It=!1!==Hi.call(ro,Ce)&&It}}return It&&!Ce.defaultPrevented}function Dm(y,V,ee){if("function"==typeof y)ee&&(y=et(y,ee));else{if(!y||"function"!=typeof y.handleEvent)throw Error("Invalid listener argument");y=et(y.handleEvent,y)}return 2147483647<Number(V)?-1:P.setTimeout(y,V||0)}function Sm(y){y.g=Dm(()=>{y.g=null,y.i&&(y.i=!1,Sm(y))},y.l);const V=y.h;y.h=null,y.m.apply(null,V)}qt(Xs,du),Xs.prototype[ip]=!0,Xs.prototype.removeEventListener=function(y,V,ee,Ce){wm(this,y,V,ee,Ce)},Xs.prototype.N=function(){if(Xs.aa.N.call(this),this.i){var V,y=this.i;for(V in y.g){for(var ee=y.g[V],Ce=0;Ce<ee.length;Ce++)ig(ee[Ce]);delete y.g[V],y.h--}}this.F=null},Xs.prototype.K=function(y,V,ee,Ce){return this.i.add(String(y),V,!1,ee,Ce)},Xs.prototype.L=function(y,V,ee,Ce){return this.i.add(String(y),V,!0,ee,Ce)};class Bh extends du{constructor(V,ee){super(),this.m=V,this.l=ee,this.h=null,this.i=!1,this.g=null}j(V){this.h=arguments,this.g?this.i=!0:Sm(this)}N(){super.N(),this.g&&(P.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Id(y){du.call(this),this.h=y,this.g={}}qt(Id,du);var ug=[];function U_(y){qr(y.g,function(V,ee){this.g.hasOwnProperty(ee)&&Uh(V)},y),y.g={}}Id.prototype.N=function(){Id.aa.N.call(this),U_(this)},Id.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pl=P.JSON.stringify,jh=P.JSON.parse,Mm=class{stringify(y){return P.JSON.stringify(y,void 0)}parse(y){return P.JSON.parse(y,void 0)}};function bd(){}function Pm(){}bd.prototype.h=null;var Cd={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function dg(){yo.call(this,"d")}function Rm(){yo.call(this,"c")}qt(dg,yo),qt(Rm,yo);var Td={},xm=null;function op(){return xm=xm||new Xs}function Hh(y){yo.call(this,Td.La,y)}function ap(y){const V=op();eo(V,new Hh(V))}function Om(y,V){yo.call(this,Td.STAT_EVENT,y),this.stat=V}function uo(y){const V=op();eo(V,new Om(V,y))}function j_(y,V){yo.call(this,Td.Ma,y),this.size=V}function cp(y,V){if("function"!=typeof y)throw Error("Fn must not be null and must be a function");return P.setTimeout(function(){y()},V)}function Rl(){this.g=!0}function zh(y,V,ee,Ce){y.info(function(){return"XMLHTTP TEXT ("+V+"): "+function Fv(y,V){if(!y.g)return V;if(!V)return null;try{var ee=JSON.parse(V);if(ee)for(y=0;y<ee.length;y++)if(Array.isArray(ee[y])){var Ce=ee[y];if(!(2>Ce.length)){var It=Ce[1];if(Array.isArray(It)&&!(1>It.length)){var Ut=It[0];if("noop"!=Ut&&"stop"!=Ut&&"close"!=Ut)for(var Dn=1;Dn<It.length;Dn++)It[Dn]=""}}}return Pl(ee)}catch{return V}}(y,ee)+(Ce?" "+Ce:"")})}Td.La="serverreachability",qt(Hh,yo),Td.STAT_EVENT="statevent",qt(Om,yo),Td.Ma="timingevent",qt(j_,yo),Rl.prototype.xa=function(){this.g=!1},Rl.prototype.info=function(){};var hg,$h={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nm={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function E(){}function h(y,V,ee,Ce){this.j=y,this.i=V,this.l=ee,this.R=Ce||1,this.U=new Id(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new u}function u(){this.i=null,this.g="",this.h=!1}qt(E,bd),E.prototype.g=function(){return new XMLHttpRequest},E.prototype.i=function(){return{}},hg=new E;var _={},C={};function G(y,V,ee){y.L=1,y.v=ir(no(V)),y.m=ee,y.P=!0,_e(y,null)}function _e(y,V){y.F=Date.now(),Ft(y),y.A=no(y.v);var ee=y.A,Ce=y.R;Array.isArray(Ce)||(Ce=[String(Ce)]),Zh(ee.i,"t",Ce),y.C=0,ee=y.j.J,y.h=new u,y.g=Wv(y.j,ee?V:null,!y.m),0<y.O&&(y.M=new Bh(et(y.Y,y,y.g),y.O)),V=y.U,ee=y.g,Ce=y.ca;var It="readystatechange";Array.isArray(It)||(It&&(ug[0]=It.toString()),It=ug);for(var Ut=0;Ut<It.length;Ut++){var Dn=V_(ee,It[Ut],Ce||V.handleEvent,!1,V.h||V);if(!Dn)break;V.g[Dn.key]=Dn}V=y.H?Qe(y.H):{},y.m?(y.u||(y.u="POST"),V["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,V)):(y.u="GET",y.g.ea(y.A,y.u,null,V)),ap(),function Ov(y,V,ee,Ce,It,Ut){y.info(function(){if(y.g)if(Ut)for(var Dn="",Hi=Ut.split("&"),ro=0;ro<Hi.length;ro++){var wi=Hi[ro].split("=");if(1<wi.length){var fo=wi[0];wi=wi[1];var Io=fo.split("_");Dn=2<=Io.length&&"type"==Io[1]?Dn+(fo+"=")+wi+"&":Dn+(fo+"=redacted&")}}else Dn=null;else Dn=Ut;return"XMLHTTP REQ ("+Ce+") [attempt "+It+"]: "+V+"\n"+ee+"\n"+Dn})}(y.i,y.u,y.A,y.l,y.R,y.m)}function Le(y){return!!y.g&&"GET"==y.u&&2!=y.L&&y.j.Ca}function yt(y,V){var ee=y.C,Ce=V.indexOf("\n",ee);return-1==Ce?C:(ee=Number(V.substring(ee,Ce)),isNaN(ee)?_:(Ce+=1)+ee>V.length?C:(V=V.slice(Ce,Ce+ee),y.C=Ce+ee,V))}function Ft(y){y.S=Date.now()+y.I,pn(y,y.I)}function pn(y,V){if(null!=y.B)throw Error("WatchDog timer not null");y.B=cp(et(y.ba,y),V)}function wn(y){y.B&&(P.clearTimeout(y.B),y.B=null)}function wr(y){0==y.j.G||y.J||Zv(y.j,y)}function gr(y){wn(y);var V=y.M;V&&"function"==typeof V.ma&&V.ma(),y.M=null,U_(y.U),y.g&&(V=y.g,y.g=null,V.abort(),V.ma())}function nr(y,V){try{var ee=y.j;if(0!=ee.G&&(ee.g==y||to(ee.h,y)))if(!y.K&&to(ee.h,y)&&3==ee.G){try{var Ce=ee.Da.g.parse(V)}catch{Ce=null}if(Array.isArray(Ce)&&3==Ce.length){var It=Ce;if(0==It[0]){e:if(!ee.u){if(ee.g){if(!(ee.g.F+3e3<y.F))break e;jm(ee),$_(ee)}Um(ee),uo(18)}}else ee.za=It[1],0<ee.za-ee.T&&37500>It[2]&&ee.F&&0==ee.v&&!ee.C&&(ee.C=cp(et(ee.Za,ee),6e3));if(1>=Ki(ee.h)&&ee.ca){try{ee.ca()}catch{}ee.ca=void 0}}else Kh(ee,11)}else if((y.K||ee.g==y)&&jm(ee),!or(V))for(It=ee.Da.g.parse(V),V=0;V<It.length;V++){let wi=It[V];if(ee.T=wi[0],wi=wi[1],2==ee.G)if("c"==wi[0]){ee.K=wi[1],ee.ia=wi[2];const fo=wi[3];null!=fo&&(ee.la=fo,ee.j.info("VER="+ee.la));const Io=wi[4];null!=Io&&(ee.Aa=Io,ee.j.info("SVER="+ee.Aa));const fp=wi[5];null!=fp&&"number"==typeof fp&&0<fp&&(ee.L=Ce=1.5*fp,ee.j.info("backChannelRequestTimeoutMs_="+Ce)),Ce=ee;const mc=y.g;if(mc){const yg=mc.g?mc.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yg){var Ut=Ce.h;Ut.g||-1==yg.indexOf("spdy")&&-1==yg.indexOf("quic")&&-1==yg.indexOf("h2")||(Ut.j=Ut.l,Ut.g=new Set,Ut.h&&(zs(Ut,Ut.h),Ut.h=null))}if(Ce.D){const $m=mc.g?mc.g.getResponseHeader("X-HTTP-Session-Id"):null;$m&&(Ce.ya=$m,Cn(Ce.I,Ce.D,$m))}}ee.G=3,ee.l&&ee.l.ua(),ee.ba&&(ee.R=Date.now()-y.F,ee.j.info("Handshake RTT: "+ee.R+"ms"));var Dn=y;if((Ce=ee).qa=zm(Ce,Ce.J?Ce.ia:null,Ce.W),Dn.K){el(Ce.h,Dn);var Hi=Dn,ro=Ce.L;ro&&(Hi.I=ro),Hi.B&&(wn(Hi),Ft(Hi)),Ce.g=Dn}else Gv(Ce);0<ee.i.length&&Vm(ee)}else"stop"!=wi[0]&&"close"!=wi[0]||Kh(ee,7);else 3==ee.G&&("stop"==wi[0]||"close"==wi[0]?"stop"==wi[0]?Kh(ee,7):up(ee):"noop"!=wi[0]&&ee.l&&ee.l.ta(wi),ee.v=0)}ap()}catch{}}function Ri(y){this.l=y||10,y=P.PerformanceNavigationTiming?0<(y=P.performance.getEntriesByType("navigation")).length&&("hq"==y[0].nextHopProtocol||"h2"==y[0].nextHopProtocol):!!(P.chrome&&P.chrome.loadTimes&&P.chrome.loadTimes()&&P.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Is(y){return!!y.h||!!y.g&&y.g.size>=y.j}function Ki(y){return y.h?1:y.g?y.g.size:0}function to(y,V){return y.h?y.h==V:!!y.g&&y.g.has(V)}function zs(y,V){y.g?y.g.add(V):y.h=V}function el(y,V){y.h&&y.h==V?y.h=null:y.g&&y.g.has(V)&&y.g.delete(V)}function $a(y){if(null!=y.h)return y.i.concat(y.h.D);if(null!=y.g&&0!==y.g.size){let V=y.i;for(const ee of y.g.values())V=V.concat(ee.D);return V}return dn(y.i)}function Qi(y,V){if(y.forEach&&"function"==typeof y.forEach)y.forEach(V,void 0);else if(L(y)||"string"==typeof y)Array.prototype.forEach.call(y,V,void 0);else for(var ee=function oa(y){if(y.na&&"function"==typeof y.na)return y.na();if(!y.V||"function"!=typeof y.V){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(L(y)||"string"==typeof y){var V=[];y=y.length;for(var ee=0;ee<y;ee++)V.push(ee);return V}V=[],ee=0;for(const Ce in y)V[ee++]=Ce;return V}}}(y),Ce=function os(y){if(y.V&&"function"==typeof y.V)return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if("string"==typeof y)return y.split("");if(L(y)){for(var V=[],ee=y.length,Ce=0;Ce<ee;Ce++)V.push(y[Ce]);return V}for(Ce in V=[],ee=0,y)V[ee++]=y[Ce];return V}(y),It=Ce.length,Ut=0;Ut<It;Ut++)V.call(void 0,Ce[Ut],ee&&ee[Ut],y)}h.prototype.ca=function(y){y=y.target;const V=this.M;V&&3==hu(y)?V.j():this.Y(y)},h.prototype.Y=function(y){try{if(y==this.g)e:{const Io=hu(this.g);var V=this.g.Ba();if(this.g.Z(),!(3>Io)&&(3!=Io||this.g&&(this.h.h||this.g.oa()||jv(this.g)))){this.J||4!=Io||7==V||ap(),wn(this);var ee=this.g.Z();this.X=ee;t:if(Le(this)){var Ce=jv(this.g);y="";var It=Ce.length,Ut=4==hu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){gr(this),wr(this);var Dn="";break t}this.h.i=new P.TextDecoder}for(V=0;V<It;V++)this.h.h=!0,y+=this.h.i.decode(Ce[V],{stream:!(Ut&&V==It-1)});Ce.length=0,this.h.g+=y,this.C=0,Dn=this.h.g}else Dn=this.g.oa();if(this.o=200==ee,function Nv(y,V,ee,Ce,It,Ut,Dn){y.info(function(){return"XMLHTTP RESP ("+Ce+") [ attempt "+It+"]: "+V+"\n"+ee+"\n"+Ut+" "+Dn})}(this.i,this.u,this.A,this.l,this.R,Io,ee),this.o){if(this.T&&!this.K){t:{if(this.g){var Hi,ro=this.g;if((Hi=ro.g?ro.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!or(Hi)){var wi=Hi;break t}}wi=null}if(!(ee=wi)){this.o=!1,this.s=3,uo(12),gr(this),wr(this);break e}zh(this.i,this.l,ee,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nr(this,ee)}if(this.P){let mc;for(ee=!0;!this.J&&this.C<Dn.length;){if(mc=yt(this,Dn),mc==C){4==Io&&(this.s=4,uo(14),ee=!1),zh(this.i,this.l,null,"[Incomplete Response]");break}if(mc==_){this.s=4,uo(15),zh(this.i,this.l,Dn,"[Invalid Chunk]"),ee=!1;break}zh(this.i,this.l,mc,null),nr(this,mc)}if(Le(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Io||0!=Dn.length||this.h.h||(this.s=1,uo(16),ee=!1),this.o=this.o&&ee,ee){if(0<Dn.length&&!this.W){this.W=!0;var fo=this.j;fo.g==this&&fo.ba&&!fo.M&&(fo.j.info("Great, no buffering proxy detected. Bytes received: "+Dn.length),Bm(fo),fo.M=!0,uo(11))}}else zh(this.i,this.l,Dn,"[Invalid Chunked Response]"),gr(this),wr(this)}else zh(this.i,this.l,Dn,null),nr(this,Dn);4==Io&&gr(this),this.o&&!this.J&&(4==Io?Zv(this.j,this):(this.o=!1,Ft(this)))}else(function Dy(y){const V={};y=(y.g&&2<=hu(y)&&y.g.getAllResponseHeaders()||"").split("\r\n");for(let Ce=0;Ce<y.length;Ce++){if(or(y[Ce]))continue;var ee=At(y[Ce]);const It=ee[0];if("string"!=typeof(ee=ee[1]))continue;ee=ee.trim();const Ut=V[It]||[];V[It]=Ut,Ut.push(ee)}!function pt(y,V){for(const ee in y)V.call(void 0,y[ee],ee,y)}(V,function(Ce){return Ce.join(", ")})})(this.g),400==ee&&0<Dn.indexOf("Unknown SID")?(this.s=3,uo(12)):(this.s=0,uo(13)),gr(this),wr(this)}}}catch{}},h.prototype.cancel=function(){this.J=!0,gr(this)},h.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(function kv(y,V){y.info(function(){return"TIMEOUT: "+V})}(this.i,this.A),2!=this.L&&(ap(),uo(17)),gr(this),this.s=2,wr(this)):pn(this,this.S-y)},Ri.prototype.cancel=function(){if(this.i=$a(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const y of this.g.values())y.cancel();this.g.clear()}};var ho=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bs(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof bs){this.h=y.h,pc(this,y.j),this.o=y.o,this.g=y.g,gc(this,y.s),this.l=y.l;var V=y.i,ee=new Ms;ee.i=V.i,V.g&&(ee.g=new Map(V.g),ee.h=V.h),Hn(this,ee),this.m=y.m}else y&&(V=String(y).match(ho))?(this.h=!1,pc(this,V[1]||"",!0),this.o=Lr(V[2]||""),this.g=Lr(V[3]||"",!0),gc(this,V[4]),this.l=Lr(V[5]||"",!0),Hn(this,V[6]||"",!0),this.m=Lr(V[7]||"")):(this.h=!1,this.i=new Ms(null,this.h))}function no(y){return new bs(y)}function pc(y,V,ee){y.j=ee?Lr(V,!0):V,y.j&&(y.j=y.j.replace(/:$/,""))}function gc(y,V){if(V){if(V=Number(V),isNaN(V)||0>V)throw Error("Bad port number "+V);y.s=V}else y.s=null}function Hn(y,V,ee){V instanceof Ms?(y.i=V,function Ty(y,V){V&&!y.j&&(Ao(y),y.i=null,y.g.forEach(function(ee,Ce){var It=Ce.toLowerCase();Ce!=It&&(Uo(this,Ce),Zh(this,It,ee))},y)),y.j=V}(y.i,y.h)):(ee||(V=Fi(V,fg)),y.i=new Ms(V,y.h))}function Cn(y,V,ee){y.i.set(V,ee)}function ir(y){return Cn(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function Lr(y,V){return y?V?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Fi(y,V,ee){return"string"==typeof y?(y=encodeURI(y).replace(V,Eo),ee&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Eo(y){return"%"+((y=y.charCodeAt(0))>>4&15).toString(16)+(15&y).toString(16)}bs.prototype.toString=function(){var y=[],V=this.j;V&&y.push(Fi(V,$s,!0),":");var ee=this.g;return(ee||"file"==V)&&(y.push("//"),(V=this.o)&&y.push(Fi(V,$s,!0),"@"),y.push(encodeURIComponent(String(ee)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(ee=this.s)&&y.push(":",String(ee))),(ee=this.l)&&(this.g&&"/"!=ee.charAt(0)&&y.push("/"),y.push(Fi(ee,"/"==ee.charAt(0)?as:tl,!0))),(ee=this.i.toString())&&y.push("?",ee),(ee=this.m)&&y.push("#",Fi(ee,km)),y.join("")};var y,$s=/[#\/\?@]/g,tl=/[#\?:]/g,as=/[#\?]/g,fg=/[#\?@]/g,km=/#/g;function Ms(y,V){this.h=this.g=null,this.i=y||null,this.j=!!V}function Ao(y){y.g||(y.g=new Map,y.h=0,y.i&&function Gh(y,V){if(y){y=y.split("&");for(var ee=0;ee<y.length;ee++){var Ce=y[ee].indexOf("="),It=null;if(0<=Ce){var Ut=y[ee].substring(0,Ce);It=y[ee].substring(Ce+1)}else Ut=y[ee];V(Ut,It?decodeURIComponent(It.replace(/\+/g," ")):"")}}}(y.i,function(V,ee){y.add(decodeURIComponent(V.replace(/\+/g," ")),ee)}))}function Uo(y,V){Ao(y),V=Dd(y,V),y.g.has(V)&&(y.i=null,y.h-=y.g.get(V).length,y.g.delete(V))}function wd(y,V){return Ao(y),V=Dd(y,V),y.g.has(V)}function Zh(y,V,ee){Uo(y,V),0<ee.length&&(y.i=null,y.g.set(Dd(y,V),dn(ee)),y.h+=ee.length)}function Dd(y,V){return V=String(V),y.j&&(V=V.toLowerCase()),V}function Sd(y,V,ee,Ce,It){try{It&&(It.onload=null,It.onerror=null,It.onabort=null,It.ontimeout=null),Ce(ee)}catch{}}function wy(){this.g=new Mm}function T0(y,V,ee){const Ce=ee||"";try{Qi(y,function(It,Ut){let Dn=It;J(It)&&(Dn=Pl(It)),V.push(Ce+Ut+"="+encodeURIComponent(Dn))})}catch(It){throw V.push(Ce+"type="+encodeURIComponent("_badmap")),It}}function pg(y){this.l=y.Ub||null,this.j=y.eb||!1}function H_(y,V){Xs.call(this),this.D=y,this.o=V,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Lv(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}function gg(y){y.readyState=4,y.l=null,y.j=null,y.v=null,mg(y)}function mg(y){y.onreadystatechange&&y.onreadystatechange.call(y)}function Fm(y){let V="";return qr(y,function(ee,Ce){V+=Ce,V+=":",V+=ee,V+="\r\n"}),V}function qh(y,V,ee){e:{for(Ce in ee){var Ce=!1;break e}Ce=!0}Ce||(ee=Fm(ee),"string"==typeof y?null!=ee&&encodeURIComponent(String(ee)):Cn(y,V,ee))}function Cs(y){Xs.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(c=Ms.prototype).add=function(y,V){Ao(this),this.i=null,y=Dd(this,y);var ee=this.g.get(y);return ee||this.g.set(y,ee=[]),ee.push(V),this.h+=1,this},c.forEach=function(y,V){Ao(this),this.g.forEach(function(ee,Ce){ee.forEach(function(It){y.call(V,It,Ce,this)},this)},this)},c.na=function(){Ao(this);const y=Array.from(this.g.values()),V=Array.from(this.g.keys()),ee=[];for(let Ce=0;Ce<V.length;Ce++){const It=y[Ce];for(let Ut=0;Ut<It.length;Ut++)ee.push(V[Ce])}return ee},c.V=function(y){Ao(this);let V=[];if("string"==typeof y)wd(this,y)&&(V=V.concat(this.g.get(Dd(this,y))));else{y=Array.from(this.g.values());for(let ee=0;ee<y.length;ee++)V=V.concat(y[ee])}return V},c.set=function(y,V){return Ao(this),this.i=null,wd(this,y=Dd(this,y))&&(this.h-=this.g.get(y).length),this.g.set(y,[V]),this.h+=1,this},c.get=function(y,V){return y&&0<(y=this.V(y)).length?String(y[0]):V},c.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],V=Array.from(this.g.keys());for(var ee=0;ee<V.length;ee++){var Ce=V[ee];const Ut=encodeURIComponent(String(Ce)),Dn=this.V(Ce);for(Ce=0;Ce<Dn.length;Ce++){var It=Ut;""!==Dn[Ce]&&(It+="="+encodeURIComponent(String(Dn[Ce]))),y.push(It)}}return this.i=y.join("&")},qt(pg,bd),pg.prototype.g=function(){return new H_(this.l,this.j)},pg.prototype.i=(y={},function(){return y}),qt(H_,Xs),(c=H_.prototype).open=function(y,V){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=V,this.readyState=1,mg(this)},c.send=function(y){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const V={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(V.body=y),(this.D||P).fetch(new Request(this.A,V)).then(this.Sa.bind(this),this.ga.bind(this))},c.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gg(this)),this.readyState=0},c.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,mg(this)),this.g&&(this.readyState=3,mg(this),this.g)))if("arraybuffer"===this.responseType)y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof P.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lv(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))},c.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var V=y.value?y.value:new Uint8Array(0);(V=this.v.decode(V,{stream:!y.done}))&&(this.response=this.responseText+=V)}y.done?gg(this):mg(this),3==this.readyState&&Lv(this)}},c.Ra=function(y){this.g&&(this.response=this.responseText=y,gg(this))},c.Qa=function(y){this.g&&(this.response=y,gg(this))},c.ga=function(){this.g&&gg(this)},c.setRequestHeader=function(y,V){this.u.append(y,V)},c.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},c.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],V=this.h.entries();for(var ee=V.next();!ee.done;)y.push((ee=ee.value)[0]+": "+ee[1]),ee=V.next();return y.join("\r\n")},Object.defineProperty(H_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(y){this.m=y?"include":"same-origin"}}),qt(Cs,Xs);var Lm=/^https?$/i,Vv=["POST","PUT"];function lp(y,V){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=V,y.m=5,z_(y),Md(y)}function z_(y){y.A||(y.A=!0,eo(y,"complete"),eo(y,"error"))}function Uv(y){if(y.h&&typeof I<"u"&&(!y.v[1]||4!=hu(y)||2!=y.Z()))if(y.u&&4==hu(y))Dm(y.Ea,0,y);else if(eo(y,"readystatechange"),4==hu(y)){y.h=!1;try{const Dn=y.Z();e:switch(Dn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var V=!0;break e;default:V=!1}var ee;if(!(ee=V)){var Ce;if(Ce=0===Dn){var It=String(y.D).match(ho)[1]||null;!It&&P.self&&P.self.location&&(It=P.self.location.protocol.slice(0,-1)),Ce=!Lm.test(It?It.toLowerCase():"")}ee=Ce}if(ee)eo(y,"complete"),eo(y,"success");else{y.m=6;try{var Ut=2<hu(y)?y.g.statusText:""}catch{Ut=""}y.l=Ut+" ["+y.Z()+"]",z_(y)}}finally{Md(y)}}}function Md(y,V){if(y.g){Bv(y);const ee=y.g,Ce=y.v[0]?()=>{}:null;y.g=null,y.v=null,V||eo(y,"ready");try{ee.onreadystatechange=Ce}catch{}}}function Bv(y){y.I&&(P.clearTimeout(y.I),y.I=null)}function hu(y){return y.g?y.g.readyState:0}function jv(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Wh(y,V,ee){return ee&&ee.internalChannelParams&&ee.internalChannelParams[y]||V}function _g(y){this.Aa=0,this.i=[],this.j=new Rl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wh("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wh("baseRetryDelayMs",5e3,y),this.cb=Wh("retryDelaySeedMs",1e4,y),this.Wa=Wh("forwardChannelMaxRetries",2,y),this.wa=Wh("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new Ri(y&&y.concurrentRequestLimit),this.Da=new wy,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function up(y){if(Hv(y),3==y.G){var V=y.U++,ee=no(y.I);if(Cn(ee,"SID",y.K),Cn(ee,"RID",V),Cn(ee,"TYPE","terminate"),dp(y,ee),(V=new h(y,y.j,V)).L=2,V.v=ir(no(ee)),ee=!1,P.navigator&&P.navigator.sendBeacon)try{ee=P.navigator.sendBeacon(V.v.toString(),"")}catch{}!ee&&P.Image&&((new Image).src=V.v,ee=!0),ee||(V.g=Wv(V.j,null),V.g.ea(V.v)),V.F=Date.now(),Ft(V)}Hm(y)}function $_(y){y.g&&(Bm(y),y.g.cancel(),y.g=null)}function Hv(y){$_(y),y.u&&(P.clearTimeout(y.u),y.u=null),jm(y),y.h.cancel(),y.s&&("number"==typeof y.s&&P.clearTimeout(y.s),y.s=null)}function Vm(y){if(!Is(y.h)&&!y.s){y.s=!0;var V=y.Ga;np||rg(),rp||(np(),rp=!0),F_.add(V,y),y.B=0}}function zv(y,V){var ee;ee=V?V.l:y.U++;const Ce=no(y.I);Cn(Ce,"SID",y.K),Cn(Ce,"RID",ee),Cn(Ce,"AID",y.T),dp(y,Ce),y.m&&y.o&&qh(Ce,y.m,y.o),ee=new h(y,y.j,ee,y.B+1),null===y.m&&(ee.H=y.o),V&&(y.i=V.D.concat(y.i)),V=$v(y,ee,1e3),ee.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),zs(y.h,ee),G(ee,Ce,V)}function dp(y,V){y.H&&qr(y.H,function(ee,Ce){Cn(V,Ce,ee)}),y.l&&Qi({},function(ee,Ce){Cn(V,Ce,ee)})}function $v(y,V,ee){ee=Math.min(y.i.length,ee);var Ce=y.l?et(y.l.Na,y.l,y):null;e:{var It=y.i;let Ut=-1;for(;;){const Dn=["count="+ee];-1==Ut?0<ee?(Ut=It[0].g,Dn.push("ofs="+Ut)):Ut=0:Dn.push("ofs="+Ut);let Hi=!0;for(let ro=0;ro<ee;ro++){let wi=It[ro].g;const fo=It[ro].map;if(wi-=Ut,0>wi)Ut=Math.max(0,It[ro].g-100),Hi=!1;else try{T0(fo,Dn,"req"+wi+"_")}catch{Ce&&Ce(fo)}}if(Hi){Ce=Dn.join("&");break e}}}return y=y.i.splice(0,ee),V.D=y,Ce}function Gv(y){if(!y.g&&!y.u){y.Y=1;var V=y.Fa;np||rg(),rp||(np(),rp=!0),F_.add(V,y),y.v=0}}function Um(y){return!(y.g||y.u||3<=y.v||(y.Y++,y.u=cp(et(y.Fa,y),qv(y,y.v)),y.v++,0))}function Bm(y){null!=y.A&&(P.clearTimeout(y.A),y.A=null)}function Z_(y){y.g=new h(y,y.j,"rpc",y.Y),null===y.m&&(y.g.H=y.o),y.g.O=0;var V=no(y.qa);Cn(V,"RID","rpc"),Cn(V,"SID",y.K),Cn(V,"AID",y.T),Cn(V,"CI",y.F?"0":"1"),!y.F&&y.ja&&Cn(V,"TO",y.ja),Cn(V,"TYPE","xmlhttp"),dp(y,V),y.m&&y.o&&qh(V,y.m,y.o),y.L&&(y.g.I=y.L);var ee=y.g;y=y.ia,ee.L=1,ee.v=ir(no(V)),ee.m=null,ee.P=!0,_e(ee,y)}function jm(y){null!=y.C&&(P.clearTimeout(y.C),y.C=null)}function Zv(y,V){var ee=null;if(y.g==V){jm(y),Bm(y),y.g=null;var Ce=2}else{if(!to(y.h,V))return;ee=V.D,el(y.h,V),Ce=1}if(0!=y.G)if(V.o)if(1==Ce){ee=V.m?V.m.length:0,V=Date.now()-V.F;var It=y.B;eo(Ce=op(),new j_(Ce,ee)),Vm(y)}else Gv(y);else if(3==(It=V.s)||0==It&&0<V.X||!(1==Ce&&function G_(y,V){return!(Ki(y.h)>=y.h.j-(y.s?1:0)||(y.s?(y.i=V.D.concat(y.i),0):1==y.G||2==y.G||y.B>=(y.Va?0:y.Wa)||(y.s=cp(et(y.Ga,y,V),qv(y,y.B)),y.B++,0)))}(y,V)||2==Ce&&Um(y)))switch(ee&&0<ee.length&&(V=y.h,V.i=V.i.concat(ee)),It){case 1:Kh(y,5);break;case 4:Kh(y,10);break;case 3:Kh(y,6);break;default:Kh(y,2)}}function qv(y,V){let ee=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(ee*=2),ee*V}function Kh(y,V){if(y.j.info("Error code "+V),2==V){var ee=et(y.fb,y),Ce=y.Xa;const It=!Ce;Ce=new bs(Ce||"//www.google.com/images/cleardot.gif"),P.location&&"http"==P.location.protocol||pc(Ce,"https"),ir(Ce),It?function b0(y,V){const ee=new Rl;if(P.Image){const Ce=new Image;Ce.onload=Ct(Sd,ee,"TestLoadImage: loaded",!0,V,Ce),Ce.onerror=Ct(Sd,ee,"TestLoadImage: error",!1,V,Ce),Ce.onabort=Ct(Sd,ee,"TestLoadImage: abort",!1,V,Ce),Ce.ontimeout=Ct(Sd,ee,"TestLoadImage: timeout",!1,V,Ce),P.setTimeout(function(){Ce.ontimeout&&Ce.ontimeout()},1e4),Ce.src=y}else V(!1)}(Ce.toString(),ee):function C0(y,V){new Rl;const Ce=new AbortController,It=setTimeout(()=>{Ce.abort(),Sd(0,0,!1,V)},1e4);fetch(y,{signal:Ce.signal}).then(Ut=>{clearTimeout(It),Sd(0,0,!!Ut.ok,V)}).catch(()=>{clearTimeout(It),Sd(0,0,!1,V)})}(Ce.toString(),ee)}else uo(2);y.G=0,y.l&&y.l.sa(V),Hm(y),Hv(y)}function Hm(y){if(y.G=0,y.ka=[],y.l){const V=$a(y.h);(0!=V.length||0!=y.i.length)&&(tn(y.ka,V),tn(y.ka,y.i),y.h.i.length=0,dn(y.i),y.i.length=0),y.l.ra()}}function zm(y,V,ee){var Ce=ee instanceof bs?no(ee):new bs(ee);if(""!=Ce.g)V&&(Ce.g=V+"."+Ce.g),gc(Ce,Ce.s);else{var It=P.location;Ce=It.protocol,V=V?V+"."+It.hostname:It.hostname,It=+It.port;var Ut=new bs(null);Ce&&pc(Ut,Ce),V&&(Ut.g=V),It&&gc(Ut,It),ee&&(Ut.l=ee),Ce=Ut}return V=y.ya,(ee=y.D)&&V&&Cn(Ce,ee,V),Cn(Ce,"VER",y.la),dp(y,Ce),Ce}function Wv(y,V,ee){if(V&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return(V=new Cs(y.Ca&&!y.pa?new pg({eb:ee}):y.pa)).Ha(y.J),V}function vg(){}function Qh(){}function aa(y,V){Xs.call(this),this.g=new _g(V),this.l=y,this.h=V&&V.messageUrlParams||null,y=V&&V.messageHeaders||null,V&&V.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=V&&V.initMessageHeaders||null,V&&V.messageContentType&&(y?y["X-WebChannel-Content-Type"]=V.messageContentType:y={"X-WebChannel-Content-Type":V.messageContentType}),V&&V.va&&(y?y["X-WebChannel-Client-Profile"]=V.va:y={"X-WebChannel-Client-Profile":V.va}),this.g.S=y,(y=V&&V.Sb)&&!or(y)&&(this.g.m=y),this.v=V&&V.supportsCrossDomainXhr||!1,this.u=V&&V.sendRawJson||!1,(V=V&&V.httpSessionIdParam)&&!or(V)&&(this.g.D=V,null!==(y=this.h)&&V in y&&V in(y=this.h)&&delete y[V]),this.j=new hp(this)}function q_(y){dg.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var V=y.__sm__;if(V){e:{for(const ee in V){y=ee;break e}y=void 0}(this.i=y)&&(y=this.i,V=null!==V&&y in V?V[y]:void 0),this.data=V}else this.data=y}function Kv(){Rm.call(this),this.status=1}function hp(y){this.g=y}(c=Cs.prototype).Ha=function(y){this.J=y},c.ea=function(y,V,ee,Ce){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);V=V?V.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hg.g(),this.v=function B_(y){return y.h||(y.h=y.i())}(this.o?this.o:hg),this.g.onreadystatechange=et(this.Ea,this);try{this.B=!0,this.g.open(V,String(y),!0),this.B=!1}catch(Ut){return void lp(this,Ut)}if(y=ee||"",ee=new Map(this.headers),Ce)if(Object.getPrototypeOf(Ce)===Object.prototype)for(var It in Ce)ee.set(It,Ce[It]);else{if("function"!=typeof Ce.keys||"function"!=typeof Ce.get)throw Error("Unknown input type for opt_headers: "+String(Ce));for(const Ut of Ce.keys())ee.set(Ut,Ce.get(Ut))}Ce=Array.from(ee.keys()).find(Ut=>"content-type"==Ut.toLowerCase()),It=P.FormData&&y instanceof P.FormData,!(0<=Array.prototype.indexOf.call(Vv,V,void 0))||Ce||It||ee.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ut,Dn]of ee)this.g.setRequestHeader(Ut,Dn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bv(this),this.u=!0,this.g.send(y),this.u=!1}catch(Ut){lp(this,Ut)}},c.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,eo(this,"complete"),eo(this,"abort"),Md(this))},c.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Md(this,!0)),Cs.aa.N.call(this)},c.Ea=function(){this.s||(this.B||this.u||this.j?Uv(this):this.bb())},c.bb=function(){Uv(this)},c.isActive=function(){return!!this.g},c.Z=function(){try{return 2<hu(this)?this.g.status:-1}catch{return-1}},c.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},c.Oa=function(y){if(this.g){var V=this.g.responseText;return y&&0==V.indexOf(y)&&(V=V.substring(y.length)),jh(V)}},c.Ba=function(){return this.m},c.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(c=_g.prototype).la=8,c.G=1,c.connect=function(y,V,ee,Ce){uo(0),this.W=y,this.H=V||{},ee&&void 0!==Ce&&(this.H.OSID=ee,this.H.OAID=Ce),this.F=this.X,this.I=zm(this,null,this.W),Vm(this)},c.Ga=function(y){if(this.s)if(this.s=null,1==this.G){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const It=new h(this,this.j,y);let Ut=this.o;if(this.S&&(Ut?(Ut=Qe(Ut),gt(Ut,this.S)):Ut=this.S),null!==this.m||this.O||(It.H=Ut,Ut=null),this.P)e:{for(var V=0,ee=0;ee<this.i.length;ee++){var Ce=this.i[ee];if(void 0===(Ce="__data__"in Ce.map&&"string"==typeof(Ce=Ce.map.__data__)?Ce.length:void 0))break;if(4096<(V+=Ce)){V=ee;break e}if(4096===V||ee===this.i.length-1){V=ee+1;break e}}V=1e3}else V=1e3;V=$v(this,It,V),Cn(ee=no(this.I),"RID",y),Cn(ee,"CVER",22),this.D&&Cn(ee,"X-HTTP-Session-Id",this.D),dp(this,ee),Ut&&(this.O?V="headers="+encodeURIComponent(String(Fm(Ut)))+"&"+V:this.m&&qh(ee,this.m,Ut)),zs(this.h,It),this.Ua&&Cn(ee,"TYPE","init"),this.P?(Cn(ee,"$req",V),Cn(ee,"SID","null"),It.T=!0,G(It,ee,null)):G(It,ee,V),this.G=2}}else 3==this.G&&(y?zv(this,y):0==this.i.length||Is(this.h)||zv(this))},c.Fa=function(){if(this.u=null,Z_(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=cp(et(this.ab,this),y)}},c.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,uo(10),$_(this),Z_(this))},c.Za=function(){null!=this.C&&(this.C=null,$_(this),Um(this),uo(19))},c.fb=function(y){y?(this.j.info("Successfully pinged google.com"),uo(2)):(this.j.info("Failed to ping google.com"),uo(1))},c.isActive=function(){return!!this.l&&this.l.isActive(this)},(c=vg.prototype).ua=function(){},c.ta=function(){},c.sa=function(){},c.ra=function(){},c.isActive=function(){return!0},c.Na=function(){},Qh.prototype.g=function(y,V){return new aa(y,V)},qt(aa,Xs),aa.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},aa.prototype.close=function(){up(this.g)},aa.prototype.o=function(y){var V=this.g;if("string"==typeof y){var ee={};ee.__data__=y,y=ee}else this.u&&((ee={}).__data__=Pl(y),y=ee);V.i.push(new class{constructor(y,V){this.g=y,this.map=V}}(V.Ya++,y)),3==V.G&&Vm(V)},aa.prototype.N=function(){this.g.l=null,delete this.j,up(this.g),delete this.g,aa.aa.N.call(this)},qt(q_,dg),qt(Kv,Rm),qt(hp,vg),hp.prototype.ua=function(){eo(this.g,"a")},hp.prototype.ta=function(y){eo(this.g,new q_(y))},hp.prototype.sa=function(y){eo(this.g,new Kv)},hp.prototype.ra=function(){eo(this.g,"b")},Qh.prototype.createWebChannel=Qh.prototype.g,aa.prototype.send=aa.prototype.o,aa.prototype.open=aa.prototype.m,aa.prototype.close=aa.prototype.close,ke=z.createWebChannelTransport=function(){return new Qh},mt=z.getStatEventTarget=function(){return op()},We=z.Event=Td,Ye=z.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$h.NO_ERROR=0,$h.TIMEOUT=8,$h.HTTP_ERROR=6,xe=z.ErrorCode=$h,Nm.COMPLETE="complete",De=z.EventType=Nm,Pm.EventType=Cd,Cd.OPEN="a",Cd.CLOSE="b",Cd.ERROR="c",Cd.MESSAGE="d",Xs.prototype.listen=Xs.prototype.K,ye=z.WebChannel=Pm,be=z.FetchXmlHttpFactory=pg,Cs.prototype.listenOnce=Cs.prototype.L,Cs.prototype.getLastError=Cs.prototype.Ka,Cs.prototype.getLastErrorCode=Cs.prototype.Ba,Cs.prototype.getStatus=Cs.prototype.Z,Cs.prototype.getResponseJson=Cs.prototype.Oa,Cs.prototype.getResponseText=Cs.prototype.oa,Cs.prototype.send=Cs.prototype.ea,Cs.prototype.setWithCredentials=Cs.prototype.Ha,oe=z.XhrIo=Cs}).apply(typeof $<"u"?$:typeof self<"u"?self:typeof window<"u"?window:{});const Oe="@firebase/firestore";class tt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tt.UNAUTHENTICATED=new tt(null),tt.GOOGLE_CREDENTIALS=new tt("google-credentials-uid"),tt.FIRST_PARTY=new tt("first-party-uid"),tt.MOCK_USER=new tt("mock-user");let Ge="10.12.1";const Ze=new Se.Yd("@firebase/firestore");function dt(){return Ze.logLevel}function bt(c){Ze.setLogLevel(c)}function Ee(c,...e){if(Ze.logLevel<=Se.in.DEBUG){const r=e.map(Sn);Ze.debug(`Firestore (${Ge}): ${c}`,...r)}}function Ot(c,...e){if(Ze.logLevel<=Se.in.ERROR){const r=e.map(Sn);Ze.error(`Firestore (${Ge}): ${c}`,...r)}}function Vt(c,...e){if(Ze.logLevel<=Se.in.WARN){const r=e.map(Sn);Ze.warn(`Firestore (${Ge}): ${c}`,...r)}}function Sn(c){if("string"==typeof c)return c;try{return JSON.stringify(c)}catch{return c}}function Tt(c="Unexpected state"){const e=`FIRESTORE (${Ge}) INTERNAL ASSERTION FAILED: `+c;throw Ot(e),new Error(e)}function Ke(c,e){c||Tt()}function ut(c,e){c||Tt()}function Fe(c,e){return c}const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends me.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ie{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Pe{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class je{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(tt.UNAUTHENTICATED))}shutdown(){}}class it{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class _t{constructor(e){this.t=e,this.currentUser=tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;let l=this.i;const m=J=>this.i!==l?(l=this.i,r(J)):Promise.resolve();let I=new Ie;this.o=()=>{this.i++,this.currentUser=this.u(),I.resolve(),I=new Ie,e.enqueueRetryable(()=>m(this.currentUser))};const P=()=>{const J=I;e.enqueueRetryable((0,f.Z)(function*(){yield J.promise,yield m(s.currentUser)}))},L=J=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=J,this.auth.addAuthTokenListener(this.o),P()};this.t.onInit(J=>L(J)),setTimeout(()=>{if(!this.auth){const J=this.t.getImmediate({optional:!0});J?L(J):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),I.resolve(),I=new Ie)}},0),P()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke("string"==typeof s.accessToken),new Pe(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ke(null===e||"string"==typeof e),new tt(e)}}class Bt{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=tt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Gt{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new Bt(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Wt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const s=m=>{null!=m.error&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const I=m.token!==this.R;return this.R=m.token,Ee("FirebaseAppCheckTokenProvider",`Received ${I?"new":"existing"} token.`),I?r(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>s(m))};const l=m=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.A.onInit(m=>l(m)),setTimeout(()=>{if(!this.appCheck){const m=this.A.getImmediate({optional:!0});m?l(m):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Ke("string"==typeof r.token),this.R=r.token,new Wt(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Rn(c){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(c);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<c;s++)r[s]=Math.floor(256*Math.random());return r}class Nn{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const l=Rn(40);for(let m=0;m<l.length;++m)s.length<20&&l[m]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[m]%62))}return s}}function rn(c,e){return c<e?-1:c>e?1:0}function kn(c,e,r){return c.length===e.length&&c.every((s,l)=>r(s,e[l]))}function mr(c){return c+"\0"}class Jn{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new te(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new te(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new te(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Jn.fromMillis(Date.now())}static fromDate(e){return Jn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new Jn(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?rn(this.nanoseconds,e.nanoseconds):rn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Qt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Qt(e)}static min(){return new Qt(new Jn(0,0))}static max(){return new Qt(new Jn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class jr{constructor(e,r,s){void 0===r?r=0:r>e.length&&Tt(),void 0===s?s=e.length-r:s>e.length-r&&Tt(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===jr.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof jr?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let l=0;l<s;l++){const m=e.get(l),I=r.get(l);if(m<I)return-1;if(m>I)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class xn extends jr{construct(e,r,s){return new xn(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new te(we.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(l=>l.length>0))}return new xn(r)}static emptyPath(){return new xn([])}}const Pr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sr extends jr{construct(e,r,s){return new sr(e,r,s)}static isValidIdentifier(e){return Pr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new sr(["__name__"])}static fromServerFormat(e){const r=[];let s="",l=0;const m=()=>{if(0===s.length)throw new te(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let I=!1;for(;l<e.length;){const P=e[l];if("\\"===P){if(l+1===e.length)throw new te(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const L=e[l+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new te(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=L,l+=2}else"`"===P?(I=!I,l++):"."!==P||I?(s+=P,l++):(m(),l++)}if(m(),I)throw new te(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sr(r)}static emptyPath(){return new sr([])}}class Yt{constructor(e){this.path=e}static fromPath(e){return new Yt(xn.fromString(e))}static fromName(e){return new Yt(xn.fromString(e).popFirst(5))}static empty(){return new Yt(xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===xn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return xn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Yt(new xn(e.slice()))}}class In{constructor(e,r,s,l){this.indexId=e,this.collectionGroup=r,this.fields=s,this.indexState=l}}function Bn(c){return c.fields.find(e=>2===e.kind)}function zn(c){return c.fields.filter(e=>2!==e.kind)}In.UNKNOWN_ID=-1;class br{constructor(e,r){this.fieldPath=e,this.kind=r}}class Kn{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Kn(0,gn.min())}}function Yr(c,e){const r=c.toTimestamp().seconds,s=c.toTimestamp().nanoseconds+1,l=Qt.fromTimestamp(1e9===s?new Jn(r+1,0):new Jn(r,s));return new gn(l,Yt.empty(),e)}function yi(c){return new gn(c.readTime,c.key,-1)}class gn{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new gn(Qt.min(),Yt.empty(),-1)}static max(){return new gn(Qt.max(),Yt.empty(),-1)}}function Ur(c,e){let r=c.readTime.compareTo(e.readTime);return 0!==r?r:(r=Yt.comparator(c.documentKey,e.documentKey),0!==r?r:rn(c.largestBatchId,e.largestBatchId))}const ar="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Rr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Dr(c){return ri.apply(this,arguments)}function ri(){return(ri=(0,f.Z)(function*(c){if(c.code!==we.FAILED_PRECONDITION||c.message!==ar)throw c;Ee("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class at{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new at((s,l)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(s,l)},this.catchCallback=m=>{this.wrapFailure(r,m).next(s,l)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof at?r:at.resolve(r)}catch(r){return at.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):at.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):at.reject(r)}static resolve(e){return new at((r,s)=>{r(e)})}static reject(e){return new at((r,s)=>{s(e)})}static waitFor(e){return new at((r,s)=>{let l=0,m=0,I=!1;e.forEach(P=>{++l,P.next(()=>{++m,I&&m===l&&r()},L=>s(L))}),I=!0,m===l&&r()})}static or(e){let r=at.resolve(!1);for(const s of e)r=r.next(l=>l?at.resolve(l):s());return r}static forEach(e,r){const s=[];return e.forEach((l,m)=>{s.push(r.call(this,l,m))}),this.waitFor(s)}static mapArray(e,r){return new at((s,l)=>{const m=e.length,I=new Array(m);let P=0;for(let L=0;L<m;L++){const J=L;r(e[J]).next(he=>{I[J]=he,++P,P===m&&s(I)},he=>l(he))}})}static doWhile(e,r){return new at((s,l)=>{const m=()=>{!0===e()?r().next(()=>{m()},l):s()};m()})}}class wt{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Ie,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new en(e,r.error)):this.V.resolve()},this.transaction.onerror=s=>{const l=ce(s.target.error);this.V.reject(new en(e,l))}}static open(e,r,s,l){try{return new wt(r,e.transaction(l,s))}catch(m){throw new en(r,m)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ee("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new hi(r)}}class ue{constructor(e,r,s){this.name=e,this.version=r,this.p=s,12.2===ue.S((0,me.z$)())&&Ot("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ee("SimpleDb","Removing database:",e),Cr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,me.hl)())return!1;if(ue.C())return!0;const e=(0,me.z$)(),r=ue.S(e),s=0<r&&r<10,l=Be(e),m=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||m)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(e){var r=this;return(0,f.Z)(function*(){return r.db||(Ee("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,l)=>{const m=indexedDB.open(r.name,r.version);m.onsuccess=I=>{s(I.target.result)},m.onblocked=()=>{l(new en(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=I=>{const P=I.target.error;l("VersionError"===P.name?new te(we.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===P.name?new te(we.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+P):new en(e,P))},m.onupgradeneeded=I=>{Ee("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',I.oldVersion),r.p.O(I.target.result,m.transaction,I.oldVersion,r.version).next(()=>{Ee("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=s=>r.N(s)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,s,l){var m=this;return(0,f.Z)(function*(){const I="readonly"===r;let P=0;for(;;){++P;try{m.db=yield m.M(e);const L=wt.open(m.db,e,I?"readonly":"readwrite",s),J=l(L).next(he=>(L.g(),he)).catch(he=>(L.abort(he),at.reject(he))).toPromise();return J.catch(()=>{}),yield L.m,J}catch(L){const J=L,he="FirebaseError"!==J.name&&P<3;if(Ee("SimpleDb","Transaction failed with error:",J.message,"Retrying:",he),m.close(),!he)return Promise.reject(J)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Be(c){const e=c.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class Mt{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Cr(this.B.delete())}}class en extends te{constructor(e,r){super(we.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function $n(c){return"IndexedDbTransactionError"===c.name}class hi{constructor(e){this.store=e}put(e,r){let s;return void 0!==r?(Ee("SimpleDb","PUT",this.store.name,e,r),s=this.store.put(r,e)):(Ee("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Cr(s)}add(e){return Ee("SimpleDb","ADD",this.store.name,e,e),Cr(this.store.add(e))}get(e){return Cr(this.store.get(e)).next(r=>(void 0===r&&(r=null),Ee("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return Ee("SimpleDb","DELETE",this.store.name,e),Cr(this.store.delete(e))}count(){return Ee("SimpleDb","COUNT",this.store.name),Cr(this.store.count())}U(e,r){const s=this.options(e,r),l=s.index?this.store.index(s.index):this.store;if("function"==typeof l.getAll){const m=l.getAll(s.range);return new at((I,P)=>{m.onerror=L=>{P(L.target.error)},m.onsuccess=L=>{I(L.target.result)}})}{const m=this.cursor(s),I=[];return this.W(m,(P,L)=>{I.push(L)}).next(()=>I)}}G(e,r){const s=this.store.getAll(e,null===r?void 0:r);return new at((l,m)=>{s.onerror=I=>{m(I.target.error)},s.onsuccess=I=>{l(I.target.result)}})}j(e,r){Ee("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,r);s.H=!1;const l=this.cursor(s);return this.W(l,(m,I,P)=>P.delete())}J(e,r){let s;r?s=e:(s={},r=e);const l=this.cursor(s);return this.W(l,r)}Y(e){const r=this.cursor({});return new at((s,l)=>{r.onerror=m=>{const I=ce(m.target.error);l(I)},r.onsuccess=m=>{const I=m.target.result;I?e(I.primaryKey,I.value).next(P=>{P?I.continue():s()}):s()}})}W(e,r){const s=[];return new at((l,m)=>{e.onerror=I=>{m(I.target.error)},e.onsuccess=I=>{const P=I.target.result;if(!P)return void l();const L=new Mt(P),J=r(P.primaryKey,P.value,L);if(J instanceof at){const he=J.catch(Me=>(L.done(),at.reject(Me)));s.push(he)}L.isDone?l():null===L.K?P.continue():P.continue(L.K)}}).next(()=>at.waitFor(s))}options(e,r){let s;return void 0!==e&&("string"==typeof e?s=e:r=e),{index:s,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const s=this.store.index(e.index);return e.H?s.openKeyCursor(e.range,r):s.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Cr(c){return new at((e,r)=>{c.onsuccess=s=>{e(s.target.result)},c.onerror=s=>{const l=ce(s.target.error);r(l)}})}let qe=!1;function ce(c){const e=ue.S((0,me.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(c.message.indexOf(r)>=0){const s=new te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return qe||(qe=!0,setTimeout(()=>{throw s},0)),s}}return c}class K{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;Ee("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,f.Z)(function*(){r.task=null;try{Ee("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(s){$n(s)?Ee("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield Dr(s)}yield r.X(6e4)}))}}class H{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,f.Z)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>r.te(s,e))})()}te(e,r){const s=new Set;let l=r,m=!0;return at.doWhile(()=>!0===m&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(I=>{if(null!==I&&!s.has(I))return Ee("IndexBackfiller",`Processing collection: ${I}`),this.ne(e,I,l).next(P=>{l-=P,s.add(I)});m=!1})).next(()=>r-l)}ne(e,r,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(l=>this.localStore.localDocuments.getNextDocuments(e,r,l,s).next(m=>{const I=m.changes;return this.localStore.indexManager.updateIndexEntries(e,I).next(()=>this.re(l,m)).next(P=>(Ee("IndexBackfiller",`Updating offset: ${P}`),this.localStore.indexManager.updateCollectionGroup(e,r,P))).next(()=>I.size)}))}re(e,r){let s=e;return r.changes.forEach((l,m)=>{const I=yi(m);Ur(I,s)>0&&(s=I)}),new gn(s.readTime,s.documentKey,Math.max(r.batchId,e.largestBatchId))}}let U=(()=>{class c{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=l=>this.ie(l),this.se=l=>s.writeSequenceNumber(l))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return c.oe=-1,c})();function Te(c){return null==c}function Xe(c){return 0===c&&1/c==-1/0}function Nt(c){return"number"==typeof c&&Number.isInteger(c)&&!Xe(c)&&c<=Number.MAX_SAFE_INTEGER&&c>=Number.MIN_SAFE_INTEGER}function $t(c){let e="";for(let r=0;r<c.length;r++)e.length>0&&(e=on(e)),e=mn(c.get(r),e);return on(e)}function mn(c,e){let r=e;const s=c.length;for(let l=0;l<s;l++){const m=c.charAt(l);switch(m){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=m}}return r}function on(c){return c+"\x01\x01"}function hn(c){const e=c.length;if(Ke(e>=2),2===e)return Ke("\x01"===c.charAt(0)&&"\x01"===c.charAt(1)),xn.emptyPath();const r=e-2,s=[];let l="";for(let m=0;m<e;){const I=c.indexOf("\x01",m);switch((I<0||I>r)&&Tt(),c.charAt(I+1)){case"\x01":const P=c.substring(m,I);let L;0===l.length?L=P:(l+=P,L=l,l=""),s.push(L);break;case"\x10":l+=c.substring(m,I),l+="\0";break;case"\x11":l+=c.substring(m,I+1);break;default:Tt()}m=I+2}return new xn(s)}const Xn=["userId","batchId"];function Je(c,e){return[c,$t(e)]}function He(c,e,r){return[c,$t(e),r]}const nt={},jt=["prefixPath","collectionGroup","readTime","documentId"],Xt=["prefixPath","collectionGroup","documentId"],En=["collectionGroup","readTime","prefixPath","documentId"],an=["canonicalId","targetId"],fr=["targetId","path"],yn=["path","targetId"],vt=["collectionId","parent"],ft=["indexId","uid"],kt=["uid","sequenceNumber"],ln=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Vn=["indexId","uid","orderedDocumentKey"],Un=["userId","collectionPath","documentId"],vn=["userId","collectionPath","largestBatchId"],Gn=["userId","collectionGroup","largestBatchId"],Sr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],fi=[...Sr,"documentOverlays"],ei=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],dr=ei,Mi=[...dr,"indexConfiguration","indexState","indexEntries"],gi=Mi;class cs extends Rr{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function Hr(c,e){const r=Fe(c);return ue.F(r._e,e)}function io(c){let e=0;for(const r in c)Object.prototype.hasOwnProperty.call(c,r)&&e++;return e}function fs(c,e){for(const r in c)Object.prototype.hasOwnProperty.call(c,r)&&e(r,c[r])}function Ys(c){for(const e in c)if(Object.prototype.hasOwnProperty.call(c,e))return!1;return!0}class ii{constructor(e,r){this.comparator=e,this.root=r||xi.EMPTY}insert(e,r){return new ii(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,xi.BLACK,null,null))}remove(e){return new ii(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xi.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return r+s.left.size;l<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ca(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ca(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ca(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ca(this.root,e,this.comparator,!0)}}class Ca{constructor(e,r,s,l){this.isReverse=l,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=r?s(e.key,r):1,r&&l&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xi{constructor(e,r,s,l,m){this.key=e,this.value=r,this.color=s??xi.RED,this.left=l??xi.EMPTY,this.right=m??xi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,l,m){return new xi(e??this.key,r??this.value,s??this.color,l??this.left,m??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let l=this;const m=s(e,l.key);return l=m<0?l.copy(null,null,null,l.left.insert(e,r,s),null):0===m?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(e,r,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return xi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,l=this;if(r(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===r(e,l.key)){if(l.right.isEmpty())return xi.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Tt();const e=this.left.check();if(e!==this.right.check())throw Tt();return e+(this.isRed()?0:1)}}xi.EMPTY=null,xi.RED=!0,xi.BLACK=!1,xi.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt()}get value(){throw Tt()}get color(){throw Tt()}get left(){throw Tt()}get right(){throw Tt()}copy(e,r,s,l,m){return this}insert(e,r,s){return new xi(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jr{constructor(e){this.comparator=e,this.data=new ii(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;r(l.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Bo(this.data.getIterator())}getIteratorFrom(e){return new Bo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof Jr)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,m=s.getNext().key;if(0!==this.comparator(l,m))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Jr(this.comparator);return r.data=e,r}}class Bo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Bs(c){return c.hasNext()?c.getNext():void 0}class Vi{constructor(e){this.fields=e,e.sort(sr.comparator)}static empty(){return new Vi([])}unionWith(e){let r=new Jr(sr.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new Vi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return kn(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class zi extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Co(){return typeof atob<"u"}class Di{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(l){try{return atob(l)}catch(m){throw typeof DOMException<"u"&&m instanceof DOMException?new zi("Invalid base64 string: "+m):m}}(e);return new Di(r)}static fromUint8Array(e){const r=function(l){let m="";for(let I=0;I<l.length;++I)m+=String.fromCharCode(l[I]);return m}(e);return new Di(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let l=0;l<r.length;l++)s[l]=r.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Di.EMPTY_BYTE_STRING=new Di("");const jo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(c){if(Ke(!!c),"string"==typeof c){let e=0;const r=jo.exec(c);if(Ke(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(c);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ei(c.seconds),nanos:Ei(c.nanos)}}function Ei(c){return"number"==typeof c?c:"string"==typeof c?Number(c):0}function ps(c){return"string"==typeof c?Di.fromBase64String(c):Di.fromUint8Array(c)}function Gs(c){var e,r;return"server_timestamp"===(null===(r=((null===(e=c?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function so(c){const e=c.mapValue.fields.__previous_value__;return Gs(e)?so(e):e}function Ji(c){const e=Ts(c.mapValue.fields.__local_write_time__.timestampValue);return new Jn(e.seconds,e.nanos)}class po{constructor(e,r,s,l,m,I,P,L,J){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=l,this.ssl=m,this.forceLongPolling=I,this.autoDetectLongPolling=P,this.longPollingOptions=L,this.useFetchStreams=J}}class Wn{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Wn("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Wn&&e.projectId===this.projectId&&e.database===this.database}}const Wr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},si={nullValue:"NULL_VALUE"};function Ui(c){return"nullValue"in c?0:"booleanValue"in c?1:"integerValue"in c||"doubleValue"in c?2:"timestampValue"in c?3:"stringValue"in c?5:"bytesValue"in c?6:"referenceValue"in c?7:"geoPointValue"in c?8:"arrayValue"in c?9:"mapValue"in c?Gs(c)?4:oi(c)?9007199254740991:10:Tt()}function Xr(c,e){if(c===e)return!0;const r=Ui(c);if(r!==Ui(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return c.booleanValue===e.booleanValue;case 4:return Ji(c).isEqual(Ji(e));case 3:return function(l,m){if("string"==typeof l.timestampValue&&"string"==typeof m.timestampValue&&l.timestampValue.length===m.timestampValue.length)return l.timestampValue===m.timestampValue;const I=Ts(l.timestampValue),P=Ts(m.timestampValue);return I.seconds===P.seconds&&I.nanos===P.nanos}(c,e);case 5:return c.stringValue===e.stringValue;case 6:return m=e,ps(c.bytesValue).isEqual(ps(m.bytesValue));case 7:return c.referenceValue===e.referenceValue;case 8:return function(l,m){return Ei(l.geoPointValue.latitude)===Ei(m.geoPointValue.latitude)&&Ei(l.geoPointValue.longitude)===Ei(m.geoPointValue.longitude)}(c,e);case 2:return function(l,m){if("integerValue"in l&&"integerValue"in m)return Ei(l.integerValue)===Ei(m.integerValue);if("doubleValue"in l&&"doubleValue"in m){const I=Ei(l.doubleValue),P=Ei(m.doubleValue);return I===P?Xe(I)===Xe(P):isNaN(I)&&isNaN(P)}return!1}(c,e);case 9:return kn(c.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:return function(l,m){const I=l.mapValue.fields||{},P=m.mapValue.fields||{};if(io(I)!==io(P))return!1;for(const L in I)if(I.hasOwnProperty(L)&&(void 0===P[L]||!Xr(I[L],P[L])))return!1;return!0}(c,e);default:return Tt()}var m}function Xi(c,e){return void 0!==(c.values||[]).find(r=>Xr(r,e))}function es(c,e){if(c===e)return 0;const r=Ui(c),s=Ui(e);if(r!==s)return rn(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return rn(c.booleanValue,e.booleanValue);case 2:return function(m,I){const P=Ei(m.integerValue||m.doubleValue),L=Ei(I.integerValue||I.doubleValue);return P<L?-1:P>L?1:P===L?0:isNaN(P)?isNaN(L)?0:-1:1}(c,e);case 3:return To(c.timestampValue,e.timestampValue);case 4:return To(Ji(c),Ji(e));case 5:return rn(c.stringValue,e.stringValue);case 6:return function(m,I){const P=ps(m),L=ps(I);return P.compareTo(L)}(c.bytesValue,e.bytesValue);case 7:return function(m,I){const P=m.split("/"),L=I.split("/");for(let J=0;J<P.length&&J<L.length;J++){const he=rn(P[J],L[J]);if(0!==he)return he}return rn(P.length,L.length)}(c.referenceValue,e.referenceValue);case 8:return function(m,I){const P=rn(Ei(m.latitude),Ei(I.latitude));return 0!==P?P:rn(Ei(m.longitude),Ei(I.longitude))}(c.geoPointValue,e.geoPointValue);case 9:return function(m,I){const P=m.values||[],L=I.values||[];for(let J=0;J<P.length&&J<L.length;++J){const he=es(P[J],L[J]);if(he)return he}return rn(P.length,L.length)}(c.arrayValue,e.arrayValue);case 10:return function(m,I){if(m===Wr.mapValue&&I===Wr.mapValue)return 0;if(m===Wr.mapValue)return 1;if(I===Wr.mapValue)return-1;const P=m.fields||{},L=Object.keys(P),J=I.fields||{},he=Object.keys(J);L.sort(),he.sort();for(let Me=0;Me<L.length&&Me<he.length;++Me){const et=rn(L[Me],he[Me]);if(0!==et)return et;const Ct=es(P[L[Me]],J[he[Me]]);if(0!==Ct)return Ct}return rn(L.length,he.length)}(c.mapValue,e.mapValue);default:throw Tt()}}function To(c,e){if("string"==typeof c&&"string"==typeof e&&c.length===e.length)return rn(c,e);const r=Ts(c),s=Ts(e),l=rn(r.seconds,s.seconds);return 0!==l?l:rn(r.nanos,s.nanos)}function gs(c){return js(c)}function js(c){return"nullValue"in c?"null":"booleanValue"in c?""+c.booleanValue:"integerValue"in c?""+c.integerValue:"doubleValue"in c?""+c.doubleValue:"timestampValue"in c?function(r){const s=Ts(r);return`time(${s.seconds},${s.nanos})`}(c.timestampValue):"stringValue"in c?c.stringValue:"bytesValue"in c?ps(c.bytesValue).toBase64():"referenceValue"in c?Yt.fromName(c.referenceValue).toString():"geoPointValue"in c?function(r){return`geo(${r.latitude},${r.longitude})`}(c.geoPointValue):"arrayValue"in c?function(r){let s="[",l=!0;for(const m of r.values||[])l?l=!1:s+=",",s+=js(m);return s+"]"}(c.arrayValue):"mapValue"in c?function(r){const s=Object.keys(r.fields||{}).sort();let l="{",m=!0;for(const I of s)m?m=!1:l+=",",l+=`${I}:${js(r.fields[I])}`;return l+"}"}(c.mapValue):Tt()}function _n(c,e){return{referenceValue:`projects/${c.projectId}/databases/${c.database}/documents/${e.path.canonicalString()}`}}function er(c){return!!c&&"integerValue"in c}function xr(c){return!!c&&"arrayValue"in c}function Oi(c){return!!c&&"nullValue"in c}function ts(c){return!!c&&"doubleValue"in c&&isNaN(Number(c.doubleValue))}function ai(c){return!!c&&"mapValue"in c}function ws(c){if(c.geoPointValue)return{geoPointValue:Object.assign({},c.geoPointValue)};if(c.timestampValue&&"object"==typeof c.timestampValue)return{timestampValue:Object.assign({},c.timestampValue)};if(c.mapValue){const e={mapValue:{fields:{}}};return fs(c.mapValue.fields,(r,s)=>e.mapValue.fields[r]=ws(s)),e}if(c.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(c.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=ws(c.arrayValue.values[r]);return e}return Object.assign({},c)}function oi(c){return"__max__"===(((c.mapValue||{}).fields||{}).__type__||{}).stringValue}function ns(c){return"nullValue"in c?si:"booleanValue"in c?{booleanValue:!1}:"integerValue"in c||"doubleValue"in c?{doubleValue:NaN}:"timestampValue"in c?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in c?{stringValue:""}:"bytesValue"in c?{bytesValue:""}:"referenceValue"in c?_n(Wn.empty(),Yt.empty()):"geoPointValue"in c?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in c?{arrayValue:{}}:"mapValue"in c?{mapValue:{}}:Tt()}function ms(c){return"nullValue"in c?{booleanValue:!1}:"booleanValue"in c?{doubleValue:NaN}:"integerValue"in c||"doubleValue"in c?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in c?{stringValue:""}:"stringValue"in c?{bytesValue:""}:"bytesValue"in c?_n(Wn.empty(),Yt.empty()):"referenceValue"in c?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in c?{arrayValue:{}}:"arrayValue"in c?{mapValue:{}}:"mapValue"in c?Wr:Tt()}function rr(c,e){const r=es(c.value,e.value);return 0!==r?r:c.inclusive&&!e.inclusive?-1:!c.inclusive&&e.inclusive?1:0}function Ds(c,e){const r=es(c.value,e.value);return 0!==r?r:c.inclusive&&!e.inclusive?1:!c.inclusive&&e.inclusive?-1:0}class ci{constructor(e){this.value=e}static empty(){return new ci({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!ai(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=ws(r)}setAll(e){let r=sr.emptyPath(),s={},l=[];e.forEach((I,P)=>{if(!r.isImmediateParentOf(P)){const L=this.getFieldsMap(r);this.applyChanges(L,s,l),s={},l=[],r=P.popLast()}I?s[P.lastSegment()]=ws(I):l.push(P.lastSegment())});const m=this.getFieldsMap(r);this.applyChanges(m,s,l)}delete(e){const r=this.field(e.popLast());ai(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=r.mapValue.fields[e.get(s)];ai(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=l),r=l}return r.mapValue.fields}applyChanges(e,r,s){fs(r,(l,m)=>e[l]=m);for(const l of s)delete e[l]}clone(){return new ci(ws(this.value))}}function re(c){const e=[];return fs(c.fields,(r,s)=>{const l=new sr([r]);if(ai(s)){const m=re(s.mapValue).fields;if(0===m.length)e.push(l);else for(const I of m)e.push(l.child(I))}else e.push(l)}),new Vi(e)}class Y{constructor(e,r,s,l,m,I,P){this.key=e,this.documentType=r,this.version=s,this.readTime=l,this.createTime=m,this.data=I,this.documentState=P}static newInvalidDocument(e){return new Y(e,0,Qt.min(),Qt.min(),Qt.min(),ci.empty(),0)}static newFoundDocument(e,r,s,l){return new Y(e,1,r,Qt.min(),s,l,0)}static newNoDocument(e,r){return new Y(e,2,r,Qt.min(),Qt.min(),ci.empty(),0)}static newUnknownDocument(e,r){return new Y(e,3,r,Qt.min(),Qt.min(),ci.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Qt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ci.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Y&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Y(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ne{constructor(e,r){this.position=e,this.inclusive=r}}function $e(c,e,r){let s=0;for(let l=0;l<c.position.length;l++){const m=e[l],I=c.position[l];if(s=m.field.isKeyField()?Yt.comparator(Yt.fromName(I.referenceValue),r.key):es(I,r.data.field(m.field)),"desc"===m.dir&&(s*=-1),0!==s)break}return s}function ht(c,e){if(null===c)return null===e;if(null===e||c.inclusive!==e.inclusive||c.position.length!==e.position.length)return!1;for(let r=0;r<c.position.length;r++)if(!Xr(c.position[r],e.position[r]))return!1;return!0}class Lt{constructor(e,r="asc"){this.field=e,this.dir=r}}function fn(c,e){return c.dir===e.dir&&c.field.isEqual(e.field)}class Mn{}class Kt extends Mn{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new us(e,r,s):"array-contains"===r?new Ii(e,s):"in"===r?new go(e,s):"not-in"===r?new rs(e,s):"array-contains-any"===r?new Ps(e,s):new Kt(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new yr(e,s):new Pi(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(es(r,this.value)):null!==r&&Ui(this.value)===Ui(r)&&this.matchesComparison(es(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Tt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class An extends Mn{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new An(e,r)}matches(e){return _r(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function _r(c){return"and"===c.op}function jn(c){return"or"===c.op}function Ai(c){return $r(c)&&_r(c)}function $r(c){for(const e of c.filters)if(e instanceof An)return!1;return!0}function Or(c){if(c instanceof Kt)return c.field.canonicalString()+c.op.toString()+gs(c.value);if(Ai(c))return c.filters.map(e=>Or(e)).join(",");{const e=c.filters.map(r=>Or(r)).join(",");return`${c.op}(${e})`}}function mi(c,e){return c instanceof Kt?(s=c,(l=e)instanceof Kt&&s.op===l.op&&s.field.isEqual(l.field)&&Xr(s.value,l.value)):c instanceof An?function(s,l){return l instanceof An&&s.op===l.op&&s.filters.length===l.filters.length&&s.filters.reduce((m,I,P)=>m&&mi(I,l.filters[P]),!0)}(c,e):void Tt();var s,l}function Br(c,e){const r=c.filters.concat(e);return An.create(r,c.op)}function ls(c){return c instanceof Kt?`${(r=c).field.canonicalString()} ${r.op} ${gs(r.value)}`:c instanceof An?function(r){return r.op.toString()+" {"+r.getFilters().map(ls).join(" ,")+"}"}(c):"Filter";var r}class us extends Kt{constructor(e,r,s){super(e,r,s),this.key=Yt.fromName(s.referenceValue)}matches(e){const r=Yt.comparator(e.key,this.key);return this.matchesComparison(r)}}class yr extends Kt{constructor(e,r){super(e,"in",r),this.keys=Kr(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Pi extends Kt{constructor(e,r){super(e,"not-in",r),this.keys=Kr(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Kr(c,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>Yt.fromName(s.referenceValue))}class Ii extends Kt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return xr(r)&&Xi(r.arrayValue,this.value)}}class go extends Kt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Xi(this.value.arrayValue,r)}}class rs extends Kt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Xi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Xi(this.value.arrayValue,r)}}class Ps extends Kt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!xr(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>Xi(this.value.arrayValue,s))}}class $i{constructor(e,r=null,s=[],l=[],m=null,I=null,P=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=l,this.limit=m,this.startAt=I,this.endAt=P,this.ue=null}}function Ta(c,e=null,r=[],s=[],l=null,m=null,I=null){return new $i(c,e,r,s,l,m,I)}function Rs(c){const e=Fe(c);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>Or(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(m=s).field.canonicalString()+m.dir;var m}).join(","),Te(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>gs(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>gs(s)).join(",")),e.ue=r}return e.ue}function wo(c,e){if(c.limit!==e.limit||c.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<c.orderBy.length;r++)if(!fn(c.orderBy[r],e.orderBy[r]))return!1;if(c.filters.length!==e.filters.length)return!1;for(let r=0;r<c.filters.length;r++)if(!mi(c.filters[r],e.filters[r]))return!1;return c.collectionGroup===e.collectionGroup&&!!c.path.isEqual(e.path)&&!!ht(c.startAt,e.startAt)&&ht(c.endAt,e.endAt)}function Za(c){return Yt.isDocumentKey(c.path)&&null===c.collectionGroup&&0===c.filters.length}function Ho(c,e){return c.filters.filter(r=>r instanceof Kt&&r.field.isEqual(e))}function Q(c,e,r){let s=si,l=!0;for(const m of Ho(c,e)){let I=si,P=!0;switch(m.op){case"<":case"<=":I=ns(m.value);break;case"==":case"in":case">=":I=m.value;break;case">":I=m.value,P=!1;break;case"!=":case"not-in":I=si}rr({value:s,inclusive:l},{value:I,inclusive:P})<0&&(s=I,l=P)}if(null!==r)for(let m=0;m<c.orderBy.length;++m)if(c.orderBy[m].field.isEqual(e)){const I=r.position[m];rr({value:s,inclusive:l},{value:I,inclusive:r.inclusive})<0&&(s=I,l=r.inclusive);break}return{value:s,inclusive:l}}function ie(c,e,r){let s=Wr,l=!0;for(const m of Ho(c,e)){let I=Wr,P=!0;switch(m.op){case">=":case">":I=ms(m.value),P=!1;break;case"==":case"in":case"<=":I=m.value;break;case"<":I=m.value,P=!1;break;case"!=":case"not-in":I=Wr}Ds({value:s,inclusive:l},{value:I,inclusive:P})>0&&(s=I,l=P)}if(null!==r)for(let m=0;m<c.orderBy.length;++m)if(c.orderBy[m].field.isEqual(e)){const I=r.position[m];Ds({value:s,inclusive:l},{value:I,inclusive:r.inclusive})>0&&(s=I,l=r.inclusive);break}return{value:s,inclusive:l}}class F{constructor(e,r=null,s=[],l=[],m=null,I="F",P=null,L=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=l,this.limit=m,this.limitType=I,this.startAt=P,this.endAt=L,this.ce=null,this.le=null,this.he=null}}function ge(c,e,r,s,l,m,I,P){return new F(c,e,r,s,l,m,I,P)}function ze(c){return new F(c)}function Ln(c){return 0===c.filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())}function vr(c){return null!==c.collectionGroup}function ds(c){const e=Fe(c);if(null===e.ce){e.ce=[];const r=new Set;for(const m of e.explicitOrderBy)e.ce.push(m),r.add(m.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(I){let P=new Jr(sr.comparator);return I.filters.forEach(L=>{L.getFlattenedFilters().forEach(J=>{J.isInequality()&&(P=P.add(J.field))})}),P})(e).forEach(m=>{r.has(m.canonicalString())||m.isKeyField()||e.ce.push(new Lt(m,s))}),r.has(sr.keyField().canonicalString())||e.ce.push(new Lt(sr.keyField(),s))}return e.ce}function _i(c){const e=Fe(c);return e.le||(e.le=function xl(c,e){if("F"===c.limitType)return Ta(c.path,c.collectionGroup,e,c.filters,c.limit,c.startAt,c.endAt);{e=e.map(l=>new Lt(l.field,"desc"===l.dir?"asc":"desc"));const r=c.endAt?new Ne(c.endAt.position,c.endAt.inclusive):null,s=c.startAt?new Ne(c.startAt.position,c.startAt.inclusive):null;return Ta(c.path,c.collectionGroup,e,c.filters,c.limit,r,s)}}(e,ds(c))),e.le}function Ec(c,e){const r=c.filters.concat([e]);return new F(c.path,c.collectionGroup,c.explicitOrderBy.slice(),r,c.limit,c.limitType,c.startAt,c.endAt)}function qa(c,e,r){return new F(c.path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),e,r,c.startAt,c.endAt)}function Da(c,e){return wo(_i(c),_i(e))&&c.limitType===e.limitType}function Ac(c){return`${Rs(_i(c))}|lt:${c.limitType}`}function Sa(c){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(l=>ls(l)).join(", ")}]`),Te(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(l=>{return`${(I=l).field.canonicalString()} (${I.dir})`;var I}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(l=>gs(l)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(l=>gs(l)).join(",")),`Target(${s})`}(_i(c))}; limitType=${c.limitType})`}function ca(c,e){return e.isFoundDocument()&&function(s,l){const m=l.key.path;return null!==s.collectionGroup?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(m):Yt.isDocumentKey(s.path)?s.path.isEqual(m):s.path.isImmediateParentOf(m)}(c,e)&&function(s,l){for(const m of ds(s))if(!m.field.isKeyField()&&null===l.data.field(m.field))return!1;return!0}(c,e)&&function(s,l){for(const m of s.filters)if(!m.matches(l))return!1;return!0}(c,e)&&(l=e,!((s=c).startAt&&!function(I,P,L){const J=$e(I,P,L);return I.inclusive?J<=0:J<0}(s.startAt,ds(s),l)||s.endAt&&!function(I,P,L){const J=$e(I,P,L);return I.inclusive?J>=0:J>0}(s.endAt,ds(s),l)));var s,l}function Ic(c){return c.collectionGroup||(c.path.length%2==1?c.path.lastSegment():c.path.get(c.path.length-2))}function oo(c){return(e,r)=>{let s=!1;for(const l of ds(c)){const m=ao(l,e,r);if(0!==m)return m;s=s||l.field.isKeyField()}return 0}}function ao(c,e,r){const s=c.field.isKeyField()?Yt.comparator(e.key,r.key):function(m,I,P){const L=I.data.field(m),J=P.data.field(m);return null!==L&&null!==J?es(L,J):Tt()}(c.field,e,r);switch(c.dir){case"asc":return s;case"desc":return-1*s;default:return Tt()}}class _s{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[l,m]of s)if(this.equalsFn(l,e))return m}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),l=this.inner[s];if(void 0===l)return this.inner[s]=[[e,r]],void this.innerSize++;for(let m=0;m<l.length;m++)if(this.equalsFn(l[m][0],e))return void(l[m]=[e,r]);l.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return 1===s.length?delete this.inner[r]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){fs(this.inner,(r,s)=>{for(const[l,m]of s)e(l,m)})}isEmpty(){return Ys(this.inner)}size(){return this.innerSize}}const gu=new ii(Yt.comparator);function Vr(){return gu}const la=new ii(Yt.comparator);function Bi(...c){let e=la;for(const r of c)e=e.insert(r.key,r);return e}function bc(c){let e=la;return c.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function xs(){return Do()}function mo(){return Do()}function Do(){return new _s(c=>c.toString(),(c,e)=>c.isEqual(e))}const Ma=new ii(Yt.comparator),Pa=new Jr(Yt.comparator);function pr(...c){let e=Pa;for(const r of c)e=e.add(r);return e}const Cc=new Jr(rn);function nl(){return Cc}function Tc(c,e){if(c.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xe(e)?"-0":e}}function ua(c){return{integerValue:""+c}}function zo(c,e){return Nt(e)?ua(e):Tc(c,e)}class $o{constructor(){this._=void 0}}function da(c,e,r){return c instanceof wc?function(l,m){const I={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return m&&Gs(m)&&(m=so(m)),m&&(I.fields.__previous_value__=m),{mapValue:I}}(r,e):c instanceof Go?xd(c,e):c instanceof So?sl(c,e):function(l,m){const I=il(l,m),P=Wa(I)+Wa(l.Pe);return er(I)&&er(l.Pe)?ua(P):Tc(l.serializer,P)}(c,e)}function rl(c,e,r){return c instanceof Go?xd(c,e):c instanceof So?sl(c,e):r}function il(c,e){return c instanceof Ra?er(s=e)||(m=s)&&"doubleValue"in m?e:{integerValue:0}:null;var s,m}class wc extends $o{}class Go extends $o{constructor(e){super(),this.elements=e}}function xd(c,e){const r=Ol(e);for(const s of c.elements)r.some(l=>Xr(l,s))||r.push(s);return{arrayValue:{values:r}}}class So extends $o{constructor(e){super(),this.elements=e}}function sl(c,e){let r=Ol(e);for(const s of c.elements)r=r.filter(l=>!Xr(l,s));return{arrayValue:{values:r}}}class Ra extends $o{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Wa(c){return Ei(c.integerValue||c.doubleValue)}function Ol(c){return xr(c)&&c.arrayValue.values?c.arrayValue.values.slice():[]}class ha{constructor(e,r){this.field=e,this.transform=r}}class ol{constructor(e,r){this.version=e,this.transformResults=r}}class bi{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new bi}static exists(e){return new bi(void 0,e)}static updateTime(e){return new bi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function R(c,e){return void 0!==c.updateTime?e.isFoundDocument()&&e.version.isEqual(c.updateTime):void 0===c.exists||c.exists===e.isFoundDocument()}class se{}function j(c,e){if(!c.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return c.isNoDocument()?new pi(c.key,bi.none()):new Pn(c.key,c.data,bi.none());{const r=c.data,s=ci.empty();let l=new Jr(sr.comparator);for(let m of e.fields)if(!l.has(m)){let I=r.field(m);null===I&&m.length>1&&(m=m.popLast(),I=r.field(m)),null===I?s.delete(m):s.set(m,I),l=l.add(m)}return new Fr(c.key,s,new Vi(l.toArray()),bi.none())}}function ne(c,e,r){c instanceof Pn?function(l,m,I){const P=l.value.clone(),L=ti(l.fieldTransforms,m,I.transformResults);P.setAll(L),m.convertToFoundDocument(I.version,P).setHasCommittedMutations()}(c,e,r):c instanceof Fr?function(l,m,I){if(!R(l.precondition,m))return void m.convertToUnknownDocument(I.version);const P=ti(l.fieldTransforms,m,I.transformResults),L=m.data;L.setAll(li(l)),L.setAll(P),m.convertToFoundDocument(I.version,L).setHasCommittedMutations()}(c,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Ue(c,e,r,s){return c instanceof Pn?function(m,I,P,L){if(!R(m.precondition,I))return P;const J=m.value.clone(),he=Ar(m.fieldTransforms,L,I);return J.setAll(he),I.convertToFoundDocument(I.version,J).setHasLocalMutations(),null}(c,e,r,s):c instanceof Fr?function(m,I,P,L){if(!R(m.precondition,I))return P;const J=Ar(m.fieldTransforms,L,I),he=I.data;return he.setAll(li(m)),he.setAll(J),I.convertToFoundDocument(I.version,he).setHasLocalMutations(),null===P?null:P.unionWith(m.fieldMask.fields).unionWith(m.fieldTransforms.map(Me=>Me.field))}(c,e,r,s):(P=r,R(c.precondition,I=e)?(I.convertToNoDocument(I.version).setHasLocalMutations(),null):P);var I,P}function xt(c,e){let r=null;for(const s of c.fieldTransforms){const l=e.data.field(s.field),m=il(s.transform,l||null);null!=m&&(null===r&&(r=ci.empty()),r.set(s.field,m))}return r||null}function Ht(c,e){return c.type===e.type&&!!c.key.isEqual(e.key)&&!!c.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(s=c.fieldTransforms)&&void 0===l||s&&l&&kn(s,l,(m,I)=>function Mo(c,e){return c.field.isEqual(e.field)&&(l=e.transform,(s=c.transform)instanceof Go&&l instanceof Go||s instanceof So&&l instanceof So?kn(s.elements,l.elements,Xr):s instanceof Ra&&l instanceof Ra?Xr(s.Pe,l.Pe):s instanceof wc&&l instanceof wc);var s,l}(m,I))))&&(0===c.type?c.value.isEqual(e.value):1!==c.type||c.data.isEqual(e.data)&&c.fieldMask.isEqual(e.fieldMask));var s,l}class Pn extends se{constructor(e,r,s,l=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Fr extends se{constructor(e,r,s,l,m=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=l,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function li(c){const e=new Map;return c.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=c.data.field(r);e.set(r,s)}}),e}function ti(c,e,r){const s=new Map;Ke(c.length===r.length);for(let l=0;l<r.length;l++){const m=c[l],I=m.transform,P=e.data.field(m.field);s.set(m.field,rl(I,P,r[l]))}return s}function Ar(c,e,r){const s=new Map;for(const l of c){const m=l.transform,I=r.data.field(l.field);s.set(l.field,da(m,I,e))}return s}class pi extends se{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qr extends se{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Gi{constructor(e,r,s,l){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const m=this.mutations[l];m.key.isEqual(e.key)&&ne(m,e,s[l])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=Ue(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=Ue(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=mo();return this.mutations.forEach(l=>{const m=e.get(l.key),I=m.overlayedDocument;let P=this.applyToLocalView(I,m.mutatedFields);P=r.has(l.key)?null:P;const L=j(I,P);null!==L&&s.set(l.key,L),I.isValidDocument()||I.convertToNoDocument(Qt.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),pr())}isEqual(e){return this.batchId===e.batchId&&kn(this.mutations,e.mutations,(r,s)=>Ht(r,s))&&kn(this.baseMutations,e.baseMutations,(r,s)=>Ht(r,s))}}class Ss{constructor(e,r,s,l){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=l}static from(e,r,s){Ke(e.mutations.length===s.length);let l=Ma;const m=e.mutations;for(let I=0;I<m.length;I++)l=l.insert(m[I].key,s[I].version);return new Ss(e,r,s,l)}}class vs{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Zs{constructor(e,r){this.count=e,this.unchangedNames=r}}var Ci,lr;function qs(c){switch(c){default:return Tt();case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0}}function Hs(c){if(void 0===c)return Ot("GRPC error has no .code"),we.UNKNOWN;switch(c){case Ci.OK:return we.OK;case Ci.CANCELLED:return we.CANCELLED;case Ci.UNKNOWN:return we.UNKNOWN;case Ci.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case Ci.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case Ci.INTERNAL:return we.INTERNAL;case Ci.UNAVAILABLE:return we.UNAVAILABLE;case Ci.UNAUTHENTICATED:return we.UNAUTHENTICATED;case Ci.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case Ci.NOT_FOUND:return we.NOT_FOUND;case Ci.ALREADY_EXISTS:return we.ALREADY_EXISTS;case Ci.PERMISSION_DENIED:return we.PERMISSION_DENIED;case Ci.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case Ci.ABORTED:return we.ABORTED;case Ci.OUT_OF_RANGE:return we.OUT_OF_RANGE;case Ci.UNIMPLEMENTED:return we.UNIMPLEMENTED;case Ci.DATA_LOSS:return we.DATA_LOSS;default:return Tt()}}(lr=Ci||(Ci={}))[lr.OK=0]="OK",lr[lr.CANCELLED=1]="CANCELLED",lr[lr.UNKNOWN=2]="UNKNOWN",lr[lr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lr[lr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lr[lr.NOT_FOUND=5]="NOT_FOUND",lr[lr.ALREADY_EXISTS=6]="ALREADY_EXISTS",lr[lr.PERMISSION_DENIED=7]="PERMISSION_DENIED",lr[lr.UNAUTHENTICATED=16]="UNAUTHENTICATED",lr[lr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lr[lr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lr[lr.ABORTED=10]="ABORTED",lr[lr.OUT_OF_RANGE=11]="OUT_OF_RANGE",lr[lr.UNIMPLEMENTED=12]="UNIMPLEMENTED",lr[lr.INTERNAL=13]="INTERNAL",lr[lr.UNAVAILABLE=14]="UNAVAILABLE",lr[lr.DATA_LOSS=15]="DATA_LOSS";function Dc(){return new TextEncoder}const qo=new ae([4294967295,4294967295],0);function Os(c){const e=Dc().encode(c),r=new ve;return r.update(e),new Uint8Array(r.digest())}function mu(c){const e=new DataView(c.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),m=e.getUint32(12,!0);return[new ae([r,s],0),new ae([l,m],0)]}class Sc{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new Wo(`Invalid padding: ${r}`);if(s<0)throw new Wo(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Wo(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new Wo(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=ae.fromNumber(this.Ie)}Ee(e,r,s){let l=e.add(r.multiply(ae.fromNumber(s)));return 1===l.compare(qo)&&(l=new ae([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=Os(e),[s,l]=mu(r);for(let m=0;m<this.hashCount;m++){const I=this.Ee(s,l,m);if(!this.de(I))return!1}return!0}static create(e,r,s){const l=e%8==0?0:8-e%8,m=new Uint8Array(Math.ceil(e/8)),I=new Sc(m,l,r);return s.forEach(P=>I.insert(P)),I}insert(e){if(0===this.Ie)return;const r=Os(e),[s,l]=mu(r);for(let m=0;m<this.hashCount;m++){const I=this.Ee(s,l,m);this.Ae(I)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class Wo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ns{constructor(e,r,s,l,m){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const l=new Map;return l.set(e,Ka.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new Ns(Qt.min(),l,new ii(rn),Vr(),pr())}}class Ka{constructor(e,r,s,l,m){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new Ka(s,r,pr(),pr(),pr())}}class Mc{constructor(e,r,s,l){this.Re=e,this.removedTargetIds=r,this.key=s,this.Ve=l}}class Od{constructor(e,r){this.targetId=e,this.me=r}}class Ko{constructor(e,r,s=Di.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=l}}class Qo{constructor(){this.fe=0,this.ge=Nd(),this.pe=Di.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=pr(),r=pr(),s=pr();return this.ge.forEach((l,m)=>{switch(m){case 0:e=e.add(l);break;case 2:r=r.add(l);break;case 1:s=s.add(l);break;default:Tt()}}),new Ka(this.pe,this.ye,e,r,s)}ve(){this.we=!1,this.ge=Nd()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Po{constructor(e){this.Le=e,this.Be=new Map,this.ke=Vr(),this.qe=_u(),this.Qe=new ii(rn)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const s=this.Ge(r);switch(e.state){case 0:this.ze(r)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.ve(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),s.De(e.resumeToken));break;default:Tt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((s,l)=>{this.ze(l)&&r(l)})}He(e){const r=e.targetId,s=e.me.count,l=this.Je(r);if(l){const m=l.target;if(Za(m))if(0===s){const I=new Yt(m.path);this.Ue(r,I,Y.newNoDocument(I,Qt.min()))}else Ke(1===s);else{const I=this.Ye(r);if(I!==s){const P=this.Ze(e),L=P?this.Xe(P,e,I):1;0!==L&&(this.je(r),this.Qe=this.Qe.insert(r,2===L?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:m=0}=r;let I,P;try{I=ps(s).toUint8Array()}catch(L){if(L instanceof zi)return Vt("Decoding the base64 bloom filter in existence filter failed ("+L.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw L}try{P=new Sc(I,l,m)}catch(L){return Vt(L instanceof Wo?"BloomFilter error: ":"Applying bloom filter failed: ",L),null}return 0===P.Ie?null:P}Xe(e,r,s){return r.me.count===s-this.nt(e,r.targetId)?0:2}nt(e,r){const s=this.Le.getRemoteKeysForTarget(r);let l=0;return s.forEach(m=>{const I=this.Le.tt(),P=`projects/${I.projectId}/databases/${I.database}/documents/${m.path.canonicalString()}`;e.mightContain(P)||(this.Ue(r,m,null),l++)}),l}rt(e){const r=new Map;this.Be.forEach((m,I)=>{const P=this.Je(I);if(P){if(m.current&&Za(P.target)){const L=new Yt(P.target.path);null!==this.ke.get(L)||this.it(I,L)||this.Ue(I,L,Y.newNoDocument(L,e))}m.be&&(r.set(I,m.Ce()),m.ve())}});let s=pr();this.qe.forEach((m,I)=>{let P=!0;I.forEachWhile(L=>{const J=this.Je(L);return!J||"TargetPurposeLimboResolution"===J.purpose||(P=!1,!1)}),P&&(s=s.add(m))}),this.ke.forEach((m,I)=>I.setReadTime(e));const l=new Ns(e,r,this.Qe,this.ke,s);return this.ke=Vr(),this.qe=_u(),this.Qe=new ii(rn),l}$e(e,r){if(!this.ze(e))return;const s=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,s),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,s){if(!this.ze(e))return;const l=this.Ge(e);this.it(e,r)?l.Fe(r,1):l.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),s&&(this.ke=this.ke.insert(r,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Qo,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Jr(rn),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||Ee("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Qo),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function _u(){return new ii(Yt.comparator)}function Nd(){return new ii(Yt.comparator)}const Jh={asc:"ASCENDING",desc:"DESCENDING"},Cg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hr={and:"AND",or:"OR"};class vu{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Pc(c,e){return c.useProto3Json||Te(e)?e:{value:e}}function xa(c,e){return c.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kd(c,e){return c.useProto3Json?e.toBase64():e.toUint8Array()}function yu(c,e){return xa(c,e.toTimestamp())}function ki(c){return Ke(!!c),Qt.fromTimestamp(function(r){const s=Ts(r);return new Jn(s.seconds,s.nanos)}(c))}function Oa(c,e){return Fd(c,e).canonicalString()}function Fd(c,e){const r=(l=c,new xn(["projects",l.projectId,"databases",l.database])).child("documents");var l;return void 0===e?r:r.child(e)}function Xh(c){const e=xn.fromString(c);return Ke(Ve(e)),e}function Eu(c,e){return Oa(c.databaseId,e.path)}function Ro(c,e){const r=Xh(e);if(r.get(1)!==c.databaseId.projectId)throw new te(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+c.databaseId.projectId);if(r.get(3)!==c.databaseId.database)throw new te(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+c.databaseId.database);return new Yt(Au(r))}function mp(c,e){return Oa(c.databaseId,e)}function Zt(c){const e=Xh(c);return 4===e.length?xn.emptyPath():Au(e)}function Gr(c){return new xn(["projects",c.databaseId.projectId,"databases",c.databaseId.database]).canonicalString()}function Au(c){return Ke(c.length>4&&"documents"===c.get(4)),c.popFirst(5)}function Qa(c,e,r){return{name:Eu(c,e),fields:r.value.mapValue.fields}}function ys(c,e,r){const s=Ro(c,e.name),l=ki(e.updateTime),m=e.createTime?ki(e.createTime):Qt.min(),I=new ci({mapValue:{fields:e.fields}}),P=Y.newFoundDocument(s,l,m,I);return r&&P.setHasCommittedMutations(),r?P.setHasCommittedMutations():P}function ks(c,e){let r;if(e instanceof Pn)r={update:Qa(c,e.key,e.value)};else if(e instanceof pi)r={delete:Eu(c,e.key)};else if(e instanceof Fr)r={update:Qa(c,e.key,e.data),updateMask:fe(e.fieldMask)};else{if(!(e instanceof Qr))return Tt();r={verify:Eu(c,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(m,I){const P=I.transform;if(P instanceof wc)return{fieldPath:I.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(P instanceof Go)return{fieldPath:I.field.canonicalString(),appendMissingElements:{values:P.elements}};if(P instanceof So)return{fieldPath:I.field.canonicalString(),removeAllFromArray:{values:P.elements}};if(P instanceof Ra)return{fieldPath:I.field.canonicalString(),increment:P.Pe};throw Tt()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(m=e.precondition).updateTime?{updateTime:yu(c,m.updateTime)}:void 0!==m.exists?{exists:m.exists}:Tt()),r;var m}function xc(c,e){const r=e.currentDocument?void 0!==(m=e.currentDocument).updateTime?bi.updateTime(ki(m.updateTime)):void 0!==m.exists?bi.exists(m.exists):bi.none():bi.none(),s=e.updateTransforms?e.updateTransforms.map(l=>function(I,P){let L=null;"setToServerValue"in P?(Ke("REQUEST_TIME"===P.setToServerValue),L=new wc):"appendMissingElements"in P?L=new Go(P.appendMissingElements.values||[]):"removeAllFromArray"in P?L=new So(P.removeAllFromArray.values||[]):"increment"in P?L=new Ra(I,P.increment):Tt();const J=sr.fromServerFormat(P.fieldPath);return new ha(J,L)}(c,l)):[];var m;if(e.update){const l=Ro(c,e.update.name),m=new ci({mapValue:{fields:e.update.fields}});if(e.updateMask){const I=new Vi((e.updateMask.fieldPaths||[]).map(he=>sr.fromServerFormat(he)));return new Fr(l,m,I,r,s)}return new Pn(l,m,r,s)}if(e.delete){const l=Ro(c,e.delete);return new pi(l,r)}if(e.verify){const l=Ro(c,e.verify);return new Qr(l,r)}return Tt()}function Ld(c,e){return{documents:[mp(c,e.path)]}}function Vd(c,e){const r={structuredQuery:{}},s=e.path;let l;null!==e.collectionGroup?(l=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=mp(c,l);const m=function(J){if(0!==J.length)return W(An.create(J,"and"))}(e.filters);m&&(r.structuredQuery.where=m);const I=function(J){if(0!==J.length)return J.map(he=>{return{field:w((et=he).field),direction:fa(et.dir)};var et})}(e.orderBy);I&&(r.structuredQuery.orderBy=I);const P=Pc(c,e.limit);return null!==P&&(r.structuredQuery.limit=P),e.startAt&&(r.structuredQuery.startAt={before:(J=e.startAt).inclusive,values:J.position}),e.endAt&&(r.structuredQuery.endAt=function(J){return{before:!J.inclusive,values:J.position}}(e.endAt)),{_t:r,parent:l};var J}function Ws(c){let e=Zt(c.parent);const r=c.structuredQuery,s=r.from?r.from.length:0;let l=null;if(s>0){Ke(1===s);const he=r.from[0];he.allDescendants?l=he.collectionId:e=e.child(he.collectionId)}let m=[];r.where&&(m=function(Me){const et=bu(Me);return et instanceof An&&Ai(et)?et.getFilters():[et]}(r.where));let I=[];r.orderBy&&(I=r.orderBy.map(et=>{return new Lt(N((qt=et).field),function(tn){switch(tn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(qt.direction));var qt}));let P=null;r.limit&&(P=function(Me){let et;return et="object"==typeof Me?Me.value:Me,Te(et)?null:et}(r.limit));let L=null;var Me;r.startAt&&(L=new Ne((Me=r.startAt).values||[],!!Me.before));let J=null;return r.endAt&&(J=function(Me){return new Ne(Me.values||[],!Me.before)}(r.endAt)),ge(e,l,I,m,P,"F",L,J)}function bu(c){return void 0!==c.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=N(r.unaryFilter.field);return Kt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=N(r.unaryFilter.field);return Kt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const m=N(r.unaryFilter.field);return Kt.create(m,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const I=N(r.unaryFilter.field);return Kt.create(I,"!=",{nullValue:"NULL_VALUE"});default:return Tt()}}(c):void 0!==c.fieldFilter?Kt.create(N((r=c).fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Tt()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==c.compositeFilter?function(r){return An.create(r.compositeFilter.filters.map(s=>bu(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Tt()}}(r.compositeFilter.op))}(c):Tt();var r}function fa(c){return Jh[c]}function S(c){return Cg[c]}function O(c){return hr[c]}function w(c){return{fieldPath:c.canonicalString()}}function N(c){return sr.fromServerFormat(c.fieldPath)}function W(c){return c instanceof Kt?function(r){if("=="===r.op){if(ts(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NAN"}};if(Oi(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(ts(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NOT_NAN"}};if(Oi(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:w(r.field),op:S(r.op),value:r.value}}}(c):c instanceof An?function(r){const s=r.getFilters().map(l=>W(l));return 1===s.length?s[0]:{compositeFilter:{op:O(r.op),filters:s}}}(c):Tt()}function fe(c){const e=[];return c.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Ve(c){return c.length>=4&&"projects"===c.get(0)&&"databases"===c.get(2)}class Dt{constructor(e,r,s,l,m=Qt.min(),I=Qt.min(),P=Di.EMPTY_BYTE_STRING,L=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=I,this.resumeToken=P,this.expectedCount=L}withSequenceNumber(e){return new Dt(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Dt(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Dt(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Dt(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class St{constructor(e){this.ct=e}}function Tr(c,e){const r=e.key,s={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:ui(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Eu(m=c.ct,(I=e).key),fields:I.data.value.mapValue.fields,updateTime:xa(m,I.version.toTimestamp()),createTime:xa(m,I.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:r.path.toArray(),readTime:Ir(e.version)};else{if(!e.isUnknownDocument())return Tt();s.unknownDocument={path:r.path.toArray(),version:Ir(e.version)}}var m,I;return s}function ui(c){const e=c.toTimestamp();return[e.seconds,e.nanoseconds]}function Ir(c){const e=c.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Fs(c){const e=new Jn(c.seconds,c.nanoseconds);return Qt.fromTimestamp(e)}function co(c,e){const r=(e.baseMutations||[]).map(m=>xc(c.ct,m));for(let m=0;m<e.mutations.length-1;++m)m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(e.mutations[m].updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m);const s=e.mutations.map(m=>xc(c.ct,m)),l=Jn.fromMillis(e.localWriteTimeMs);return new Gi(e.batchId,l,r,s)}function Oo(c){const e=Fs(c.readTime),r=void 0!==c.lastLimboFreeSnapshotVersion?Fs(c.lastLimboFreeSnapshotVersion):Qt.min();let s;return s=void 0!==c.query.documents?(Ke(1===(m=c.query).documents.length),_i(ze(Zt(m.documents[0])))):function(m){return _i(Ws(m))}(c.query),new Dt(s,c.targetId,"TargetPurposeListen",c.lastListenSequenceNumber,e,r,Di.fromBase64String(c.resumeToken));var m}function pa(c,e){const r=Ir(e.snapshotVersion),s=Ir(e.lastLimboFreeSnapshotVersion);let l;l=Za(e.target)?Ld(c.ct,e.target):Vd(c.ct,e.target)._t;const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Rs(e.target),readTime:r,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:l}}function No(c){const e=Ws({parent:c.parent,structuredQuery:c.structuredQuery});return"LAST"===c.limitType?qa(e,e.limit,"L"):e}function Ja(c,e){return new vs(e.largestBatchId,xc(c.ct,e.overlayMutation))}function Ks(c,e){const r=e.path.lastSegment();return[c,$t(e.path.popLast()),r]}function ko(c,e,r,s){return{indexId:c,uid:e,sequenceNumber:r,readTime:Ir(s.readTime),documentKey:$t(s.documentKey.path),largestBatchId:s.largestBatchId}}class Ni{getBundleMetadata(e,r){return ef(e).get(r).next(s=>{if(s)return{id:(m=s).bundleId,createTime:Fs(m.createTime),version:m.version};var m})}saveBundleMetadata(e,r){return ef(e).put({bundleId:(l=r).id,createTime:Ir(ki(l.createTime)),version:l.version});var l}getNamedQuery(e,r){return Ud(e).get(r).next(s=>{if(s)return{name:(m=s).name,query:No(m.bundledQuery),readTime:Fs(m.readTime)};var m})}saveNamedQuery(e,r){return Ud(e).put({name:(l=r).name,readTime:Ir(ki(l.readTime)),bundledQuery:l.bundledQuery});var l}}function ef(c){return Hr(c,"bundles")}function Ud(c){return Hr(c,"namedQueries")}class Nl{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new Nl(e,r.uid||"")}getOverlay(e,r){return Yo(e).get(Ks(this.userId,r)).next(s=>s?Ja(this.serializer,s):null)}getOverlays(e,r){const s=xs();return at.forEach(r,l=>this.getOverlay(e,l).next(m=>{null!==m&&s.set(l,m)})).next(()=>s)}saveOverlays(e,r,s){const l=[];return s.forEach((m,I)=>{const P=new vs(r,I);l.push(this.ht(e,P))}),at.waitFor(l)}removeOverlaysForBatchId(e,r,s){const l=new Set;r.forEach(I=>l.add($t(I.getCollectionPath())));const m=[];return l.forEach(I=>{const P=IDBKeyRange.bound([this.userId,I,s],[this.userId,I,s+1],!1,!0);m.push(Yo(e).j("collectionPathOverlayIndex",P))}),at.waitFor(m)}getOverlaysForCollection(e,r,s){const l=xs(),m=$t(r),I=IDBKeyRange.bound([this.userId,m,s],[this.userId,m,Number.POSITIVE_INFINITY],!0);return Yo(e).U("collectionPathOverlayIndex",I).next(P=>{for(const L of P){const J=Ja(this.serializer,L);l.set(J.getKey(),J)}return l})}getOverlaysForCollectionGroup(e,r,s,l){const m=xs();let I;const P=IDBKeyRange.bound([this.userId,r,s],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Yo(e).J({index:"collectionGroupOverlayIndex",range:P},(L,J,he)=>{const Me=Ja(this.serializer,J);m.size()<l||Me.largestBatchId===I?(m.set(Me.getKey(),Me),I=Me.largestBatchId):he.done()}).next(()=>m)}ht(e,r){return Yo(e).put(function(l,m,I){const[P,L,J]=Ks(m,I.mutation.key);return{userId:m,collectionPath:L,documentId:J,collectionGroup:I.mutation.key.getCollectionGroup(),largestBatchId:I.largestBatchId,overlayMutation:ks(l.ct,I.mutation)}}(this.serializer,this.userId,r))}}function Yo(c){return Hr(c,"documentOverlays")}class Jo{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(Ei(e.integerValue));else if("doubleValue"in e){const s=Ei(e.doubleValue);isNaN(s)?this.Et(r,13):(this.Et(r,15),Xe(s)?r.dt(0):r.dt(s))}else if("timestampValue"in e){let s=e.timestampValue;this.Et(r,20),"string"==typeof s&&(s=Ts(s)),r.At(`${s.seconds||""}`),r.dt(s.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(ps(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.Et(r,45),r.dt(s.latitude||0),r.dt(s.longitude||0)}else"mapValue"in e?oi(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):Tt()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const s=e.fields||{};this.Et(r,55);for(const l of Object.keys(s))this.Rt(l,r),this.It(s[l],r)}wt(e,r){const s=e.values||[];this.Et(r,50);for(const l of s)this.It(l,r)}gt(e,r){this.Et(r,37),Yt.fromName(e).path.forEach(s=>{this.Et(r,60),this.St(s,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}function tf(c){if(0===c)return 8;let e=0;return!(c>>4)&&(e+=4,c<<=4),!(c>>6)&&(e+=2,c<<=2),!(c>>7)&&(e+=1),e}function Cu(c){const e=64-function(s){let l=0;for(let m=0;m<8;++m){const I=tf(255&s[m]);if(l+=I,8!==I)break}return l}(c);return Math.ceil(e/8)}Jo.bt=new Jo;class Xo{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ct(s.value),s=r.next();this.vt()}Ft(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Mt(s.value),s=r.next();this.xt()}Ot(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Ct(s);else if(s<2048)this.Ct(960|s>>>6),this.Ct(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s);else{const l=r.codePointAt(0);this.Ct(240|l>>>18),this.Ct(128|63&l>>>12),this.Ct(128|63&l>>>6),this.Ct(128|63&l)}}this.vt()}Nt(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Mt(s);else if(s<2048)this.Mt(960|s>>>6),this.Mt(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s);else{const l=r.codePointAt(0);this.Mt(240|l>>>18),this.Mt(128|63&l>>>12),this.Mt(128|63&l>>>6),this.Mt(128|63&l)}}this.xt()}Lt(e){const r=this.Bt(e),s=Cu(r);this.kt(1+s),this.buffer[this.position++]=255&s;for(let l=r.length-s;l<r.length;++l)this.buffer[this.position++]=255&r[l]}qt(e){const r=this.Bt(e),s=Cu(r);this.kt(1+s),this.buffer[this.position++]=~(255&s);for(let l=r.length-s;l<r.length;++l)this.buffer[this.position++]=~(255&r[l])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const r=function(m){const I=new DataView(new ArrayBuffer(8));return I.setFloat64(0,m,!1),new Uint8Array(I.buffer)}(e),s=0!=(128&r[0]);r[0]^=s?255:128;for(let l=1;l<r.length;++l)r[l]^=s?255:0;return r}Ct(e){const r=255&e;0===r?(this.Kt(0),this.Kt(255)):255===r?(this.Kt(255),this.Kt(0)):this.Kt(r)}Mt(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const r=e+this.position;if(r<=this.buffer.length)return;let s=2*this.buffer.length;s<r&&(s=r);const l=new Uint8Array(s);l.set(this.buffer),this.buffer=l}}class Tu{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class wu{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Na{constructor(){this.Gt=new Xo,this.zt=new Tu(this.Gt),this.jt=new wu(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class ka{constructor(e,r,s,l){this.indexId=e,this.documentKey=r,this.arrayValue=s,this.directionalValue=l}Jt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(r);return s.set(this.directionalValue,0),r!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new ka(this.indexId,this.documentKey,this.arrayValue,s)}}function ea(c,e){let r=c.indexId-e.indexId;return 0!==r?r:(r=Bd(c.arrayValue,e.arrayValue),0!==r?r:(r=Bd(c.directionalValue,e.directionalValue),0!==r?r:Yt.comparator(c.documentKey,e.documentKey)))}function Bd(c,e){for(let r=0;r<c.length&&r<e.length;++r){const s=c[r]-e[r];if(0!==s)return s}return c.length-e.length}class Du{constructor(e){this.Yt=new Jr((r,s)=>sr.comparator(r.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const r of e.filters){const s=r;s.isInequality()?this.Yt=this.Yt.add(s):this.Xt.push(s)}}get en(){return this.Yt.size>1}tn(e){if(Ke(e.collectionGroup===this.collectionId),this.en)return!1;const r=Bn(e);if(void 0!==r&&!this.nn(r))return!1;const s=zn(e);let l=new Set,m=0,I=0;for(;m<s.length&&this.nn(s[m]);++m)l=l.add(s[m].fieldPath.canonicalString());if(m===s.length)return!0;if(this.Yt.size>0){const P=this.Yt.getIterator().getNext();if(!l.has(P.field.canonicalString())){const L=s[m];if(!this.rn(P,L)||!this.sn(this.Zt[I++],L))return!1}++m}for(;m<s.length;++m)if(I>=this.Zt.length||!this.sn(this.Zt[I++],s[m]))return!1;return!0}on(){if(this.en)return null;let e=new Jr(sr.comparator);const r=[];for(const s of this.Xt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)r.push(new br(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),r.push(new br(s.field,0))}for(const s of this.Zt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),r.push(new br(s.field,"asc"===s.dir?0:1)));return new In(In.UNKNOWN_ID,this.collectionId,r,Kn.empty())}nn(e){for(const r of this.Xt)if(this.rn(r,e))return!0;return!1}rn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function Su(c){var e,r;if(Ke(c instanceof Kt||c instanceof An),c instanceof Kt){if(c instanceof go){const l=(null===(r=null===(e=c.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(m=>Kt.create(c.field,"==",m)))||[];return An.create(l,"or")}return c}const s=c.filters.map(l=>Su(l));return An.create(s,c.op)}function Oc(c){if(0===c.getFilters().length)return[];const e=ga(Su(c));return Ke(Tg(e)),al(e)||kl(e)?[e]:e.getFilters()}function al(c){return c instanceof Kt}function kl(c){return c instanceof An&&Ai(c)}function Tg(c){return al(c)||kl(c)||function(r){if(r instanceof An&&jn(r)){for(const s of r.getFilters())if(!al(s)&&!kl(s))return!1;return!0}return!1}(c)}function ga(c){if(Ke(c instanceof Kt||c instanceof An),c instanceof Kt)return c;if(1===c.filters.length)return ga(c.filters[0]);const e=c.filters.map(s=>ga(s));let r=An.create(e,c.op);return r=Hd(r),Tg(r)?r:(Ke(r instanceof An),Ke(_r(r)),Ke(r.filters.length>1),r.filters.reduce((s,l)=>jd(s,l)))}function jd(c,e){let r;return Ke(c instanceof Kt||c instanceof An),Ke(e instanceof Kt||e instanceof An),r=c instanceof Kt?e instanceof Kt?An.create([c,e],"and"):_p(c,e):e instanceof Kt?_p(e,c):function(l,m){if(Ke(l.filters.length>0&&m.filters.length>0),_r(l)&&_r(m))return Br(l,m.getFilters());const I=jn(l)?l:m,P=jn(l)?m:l,L=I.filters.map(J=>jd(J,P));return An.create(L,"or")}(c,e),Hd(r)}function _p(c,e){if(_r(e))return Br(e,c.getFilters());{const r=e.filters.map(s=>jd(c,s));return An.create(r,"or")}}function Hd(c){if(Ke(c instanceof Kt||c instanceof An),c instanceof Kt)return c;const e=c.getFilters();if(1===e.length)return Hd(e[0]);if($r(c))return c;const r=e.map(l=>Hd(l)),s=[];return r.forEach(l=>{l instanceof Kt?s.push(l):l instanceof An&&(l.op===c.op?s.push(...l.filters):s.push(l))}),1===s.length?s[0]:An.create(s,c.op)}class wg{constructor(){this._n=new zd}addToCollectionParentIndex(e,r){return this._n.add(r),at.resolve()}getCollectionParents(e,r){return at.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return at.resolve()}deleteFieldIndex(e,r){return at.resolve()}deleteAllFieldIndexes(e){return at.resolve()}createTargetIndexes(e,r){return at.resolve()}getDocumentsMatchingTarget(e,r){return at.resolve(null)}getIndexType(e,r){return at.resolve(0)}getFieldIndexes(e,r){return at.resolve([])}getNextCollectionGroupToUpdate(e){return at.resolve(null)}getMinOffset(e,r){return at.resolve(gn.min())}getMinOffsetFromCollectionGroup(e,r){return at.resolve(gn.min())}updateCollectionGroup(e,r,s){return at.resolve()}updateIndexEntries(e,r){return at.resolve()}}class zd{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),l=this.index[r]||new Jr(xn.comparator),m=!l.has(s);return this.index[r]=l.add(s),m}has(e){const r=e.lastSegment(),s=e.popLast(),l=this.index[r];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Jr(xn.comparator)).toArray()}}const cl=new Uint8Array(0);class Mu{constructor(e,r){this.databaseId=r,this.an=new zd,this.un=new _s(s=>Rs(s),(s,l)=>wo(s,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.an.has(r)){const s=r.lastSegment(),l=r.popLast();e.addOnCommittedListener(()=>{this.an.add(r)});const m={collectionId:s,parent:$t(l)};return vp(e).put(m)}return at.resolve()}getCollectionParents(e,r){const s=[],l=IDBKeyRange.bound([r,""],[mr(r),""],!1,!0);return vp(e).U(l).next(m=>{for(const I of m){if(I.collectionId!==r)break;s.push(hn(I.parent))}return s})}addFieldIndex(e,r){const s=ll(e),l={indexId:(P=r).indexId,collectionGroup:P.collectionGroup,fields:P.fields.map(L=>[L.fieldPath.canonicalString(),L.kind])};var P;delete l.indexId;const m=s.add(l);if(r.indexState){const I=na(e);return m.next(P=>{I.put(ko(P,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return m.next()}deleteFieldIndex(e,r){const s=ll(e),l=na(e),m=ta(e);return s.delete(r.indexId).next(()=>l.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=ll(e),s=ta(e),l=na(e);return r.j().next(()=>s.j()).next(()=>l.j())}createTargetIndexes(e,r){return at.forEach(this.cn(r),s=>this.getIndexType(e,s).next(l=>{if(0===l||1===l){const m=new Du(s).on();if(null!=m)return this.addFieldIndex(e,m)}}))}getDocumentsMatchingTarget(e,r){const s=ta(e);let l=!0;const m=new Map;return at.forEach(this.cn(r),I=>this.ln(e,I).next(P=>{l&&(l=!!P),m.set(I,P)})).next(()=>{if(l){let I=pr();const P=[];return at.forEach(m,(L,J)=>{var Qn;Ee("IndexedDbIndexManager",`Using index ${Qn=L,`id=${Qn.indexId}|cg=${Qn.collectionGroup}|f=${Qn.fields.map(Mr=>`${Mr.fieldPath}:${Mr.kind}`).join(",")}`} to execute ${Rs(r)}`);const he=function(Qn,Mr){const Ti=Bn(Mr);if(void 0===Ti)return null;for(const qr of Ho(Qn,Ti.fieldPath))switch(qr.op){case"array-contains-any":return qr.value.arrayValue.values||[];case"array-contains":return[qr.value]}return null}(J,L),Me=function(Qn,Mr){const Ti=new Map;for(const qr of zn(Mr))for(const pt of Ho(Qn,qr.fieldPath))switch(pt.op){case"==":case"in":Ti.set(qr.fieldPath.canonicalString(),pt.value);break;case"not-in":case"!=":return Ti.set(qr.fieldPath.canonicalString(),pt.value),Array.from(Ti.values())}return null}(J,L),et=function(Qn,Mr){const Ti=[];let qr=!0;for(const pt of zn(Mr)){const Qe=0===pt.kind?Q(Qn,pt.fieldPath,Qn.startAt):ie(Qn,pt.fieldPath,Qn.startAt);Ti.push(Qe.value),qr&&(qr=Qe.inclusive)}return new Ne(Ti,qr)}(J,L),Ct=function(Qn,Mr){const Ti=[];let qr=!0;for(const pt of zn(Mr)){const Qe=0===pt.kind?ie(Qn,pt.fieldPath,Qn.endAt):Q(Qn,pt.fieldPath,Qn.endAt);Ti.push(Qe.value),qr&&(qr=Qe.inclusive)}return new Ne(Ti,qr)}(J,L),qt=this.hn(L,J,et),dn=this.hn(L,J,Ct),tn=this.Pn(L,J,Me),Zn=this.In(L.indexId,he,qt,et.inclusive,dn,Ct.inclusive,tn);return at.forEach(Zn,or=>s.G(or,r.limit).next(Qn=>{Qn.forEach(Mr=>{const Ti=Yt.fromSegments(Mr.documentKey);I.has(Ti)||(I=I.add(Ti),P.push(Ti))})}))}).next(()=>P)}return at.resolve(null)})}cn(e){let r=this.un.get(e);return r||(r=0===e.filters.length?[e]:Oc(An.create(e.filters,"and")).map(s=>Ta(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,r),r)}In(e,r,s,l,m,I,P){const L=(null!=r?r.length:1)*Math.max(s.length,m.length),J=L/(null!=r?r.length:1),he=[];for(let Me=0;Me<L;++Me){const et=r?this.Tn(r[Me/J]):cl,Ct=this.En(e,et,s[Me%J],l),qt=this.dn(e,et,m[Me%J],I),dn=P.map(tn=>this.En(e,et,tn,!0));he.push(...this.createRange(Ct,qt,dn))}return he}En(e,r,s,l){const m=new ka(e,Yt.empty(),r,s);return l?m:m.Jt()}dn(e,r,s,l){const m=new ka(e,Yt.empty(),r,s);return l?m.Jt():m}ln(e,r){const s=new Du(r),l=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,l).next(m=>{let I=null;for(const P of m)s.tn(P)&&(!I||P.fields.length>I.fields.length)&&(I=P);return I})}getIndexType(e,r){let s=2;const l=this.cn(r);return at.forEach(l,m=>this.ln(e,m).next(I=>{I?0!==s&&I.fields.length<function(L){let J=new Jr(sr.comparator),he=!1;for(const Me of L.filters)for(const et of Me.getFlattenedFilters())et.field.isKeyField()||("array-contains"===et.op||"array-contains-any"===et.op?he=!0:J=J.add(et.field));for(const Me of L.orderBy)Me.field.isKeyField()||(J=J.add(Me.field));return J.size+(he?1:0)}(m)&&(s=1):s=0})).next(()=>null!==r.limit&&l.length>1&&2===s?1:s)}An(e,r){const s=new Na;for(const l of zn(e)){const m=r.data.field(l.fieldPath);if(null==m)return null;const I=s.Ht(l.kind);Jo.bt.Pt(m,I)}return s.Wt()}Tn(e){const r=new Na;return Jo.bt.Pt(e,r.Ht(0)),r.Wt()}Rn(e,r){const s=new Na;return Jo.bt.Pt(_n(this.databaseId,r),s.Ht(function(m){const I=zn(m);return 0===I.length?0:I[I.length-1].kind}(e))),s.Wt()}Pn(e,r,s){if(null===s)return[];let l=[];l.push(new Na);let m=0;for(const I of zn(e)){const P=s[m++];for(const L of l)if(this.Vn(r,I.fieldPath)&&xr(P))l=this.mn(l,I,P);else{const J=L.Ht(I.kind);Jo.bt.Pt(P,J)}}return this.fn(l)}hn(e,r,s){return this.Pn(e,r,s.position)}fn(e){const r=[];for(let s=0;s<e.length;++s)r[s]=e[s].Wt();return r}mn(e,r,s){const l=[...e],m=[];for(const I of s.arrayValue.values||[])for(const P of l){const L=new Na;L.seed(P.Wt()),Jo.bt.Pt(I,L.Ht(r.kind)),m.push(L)}return m}Vn(e,r){return!!e.filters.find(s=>s instanceof Kt&&s.field.isEqual(r)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,r){const s=ll(e),l=na(e);return(r?s.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):s.U()).next(m=>{const I=[];return at.forEach(m,P=>l.get([P.indexId,this.uid]).next(L=>{I.push(function(he,Me){const et=Me?new Kn(Me.sequenceNumber,new gn(Fs(Me.readTime),new Yt(hn(Me.documentKey)),Me.largestBatchId)):Kn.empty(),Ct=he.fields.map(([qt,dn])=>new br(sr.fromServerFormat(qt),dn));return new In(he.indexId,he.collectionGroup,Ct,et)}(P,L))})).next(()=>I)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((s,l)=>{const m=s.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==m?m:rn(s.collectionGroup,l.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,s){const l=ll(e),m=na(e);return this.gn(e).next(I=>l.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(P=>at.forEach(P,L=>m.put(ko(L.indexId,this.uid,I,s)))))}updateIndexEntries(e,r){const s=new Map;return at.forEach(r,(l,m)=>{const I=s.get(l.collectionGroup);return(I?at.resolve(I):this.getFieldIndexes(e,l.collectionGroup)).next(P=>(s.set(l.collectionGroup,P),at.forEach(P,L=>this.pn(e,l,L).next(J=>{const he=this.yn(m,L);return J.isEqual(he)?at.resolve():this.wn(e,m,L,J,he)}))))})}Sn(e,r,s,l){return ta(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.Rn(s,r.key),documentKey:r.key.path.toArray()})}bn(e,r,s,l){return ta(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.Rn(s,r.key),r.key.path.toArray()])}pn(e,r,s){const l=ta(e);let m=new Jr(ea);return l.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.Rn(s,r)])},(I,P)=>{m=m.add(new ka(s.indexId,r,P.arrayValue,P.directionalValue))}).next(()=>m)}yn(e,r){let s=new Jr(ea);const l=this.An(r,e);if(null==l)return s;const m=Bn(r);if(null!=m){const I=e.data.field(m.fieldPath);if(xr(I))for(const P of I.arrayValue.values||[])s=s.add(new ka(r.indexId,e.key,this.Tn(P),l))}else s=s.add(new ka(r.indexId,e.key,cl,l));return s}wn(e,r,s,l,m){Ee("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const I=[];return function(L,J,he,Me,et){const Ct=L.getIterator(),qt=J.getIterator();let dn=Bs(Ct),tn=Bs(qt);for(;dn||tn;){let Zn=!1,or=!1;if(dn&&tn){const Qn=he(dn,tn);Qn<0?or=!0:Qn>0&&(Zn=!0)}else null!=dn?or=!0:Zn=!0;Zn?(Me(tn),tn=Bs(qt)):or?(et(dn),dn=Bs(Ct)):(dn=Bs(Ct),tn=Bs(qt))}}(l,m,ea,P=>{I.push(this.Sn(e,r,s,P))},P=>{I.push(this.bn(e,r,s,P))}),at.waitFor(I)}gn(e){let r=1;return na(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,l,m)=>{m.done(),r=l.sequenceNumber+1}).next(()=>r)}createRange(e,r,s){s=s.sort((I,P)=>ea(I,P)).filter((I,P,L)=>!P||0!==ea(I,L[P-1]));const l=[];l.push(e);for(const I of s){const P=ea(I,e),L=ea(I,r);if(0===P)l[0]=e.Jt();else if(P>0&&L<0)l.push(I),l.push(I.Jt());else if(L>0)break}l.push(r);const m=[];for(let I=0;I<l.length;I+=2){if(this.Dn(l[I],l[I+1]))return[];m.push(IDBKeyRange.bound([l[I].indexId,this.uid,l[I].arrayValue,l[I].directionalValue,cl,[]],[l[I+1].indexId,this.uid,l[I+1].arrayValue,l[I+1].directionalValue,cl,[]]))}return m}Dn(e,r){return ea(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(Dg)}getMinOffset(e,r){return at.mapArray(this.cn(r),s=>this.ln(e,s).next(l=>l||Tt())).next(Dg)}}function vp(c){return Hr(c,"collectionParents")}function ta(c){return Hr(c,"indexEntries")}function ll(c){return Hr(c,"indexConfiguration")}function na(c){return Hr(c,"indexState")}function Dg(c){Ke(0!==c.length);let e=c[0].indexState.offset,r=e.largestBatchId;for(let s=1;s<c.length;s++){const l=c[s].indexState.offset;Ur(l,e)<0&&(e=l),r<l.largestBatchId&&(r=l.largestBatchId)}return new gn(e.readTime,e.documentKey,r)}const Pu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ls{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Ls(e,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function yp(c,e,r){const s=c.store("mutations"),l=c.store("documentMutations"),m=[],I=IDBKeyRange.only(r.batchId);let P=0;const L=s.J({range:I},(he,Me,et)=>(P++,et.delete()));m.push(L.next(()=>{Ke(1===P)}));const J=[];for(const he of r.mutations){const Me=He(e,he.key.path,r.batchId);m.push(l.delete(Me)),J.push(he.key)}return at.waitFor(m).next(()=>J)}function qi(c){if(!c)return 0;let e;if(c.document)e=c.document;else if(c.unknownDocument)e=c.unknownDocument;else{if(!c.noDocument)throw Tt();e=c.noDocument}return JSON.stringify(e).length}Ls.DEFAULT_COLLECTION_PERCENTILE=10,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ls.DEFAULT=new Ls(41943040,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ls.DISABLED=new Ls(-1,0,0);class Fl{constructor(e,r,s,l){this.userId=e,this.serializer=r,this.indexManager=s,this.referenceDelegate=l,this.Cn={}}static lt(e,r,s,l){Ke(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new Fl(m,r,s,l)}checkEmpty(e){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ra(e).J({index:"userMutationsIndex",range:s},(l,m,I)=>{r=!1,I.done()}).next(()=>r)}addMutationBatch(e,r,s,l){const m=Fa(e),I=ra(e);return I.add({}).next(P=>{Ke("number"==typeof P);const L=new Gi(P,r,s,l),J=function(Ct,qt,dn){const tn=dn.baseMutations.map(or=>ks(Ct.ct,or)),Zn=dn.mutations.map(or=>ks(Ct.ct,or));return{userId:qt,batchId:dn.batchId,localWriteTimeMs:dn.localWriteTime.toMillis(),baseMutations:tn,mutations:Zn}}(this.serializer,this.userId,L),he=[];let Me=new Jr((et,Ct)=>rn(et.canonicalString(),Ct.canonicalString()));for(const et of l){const Ct=He(this.userId,et.key.path,P);Me=Me.add(et.key.path.popLast()),he.push(I.put(J)),he.push(m.put(Ct,nt))}return Me.forEach(et=>{he.push(this.indexManager.addToCollectionParentIndex(e,et))}),e.addOnCommittedListener(()=>{this.Cn[P]=L.keys()}),at.waitFor(he).next(()=>L)})}lookupMutationBatch(e,r){return ra(e).get(r).next(s=>s?(Ke(s.userId===this.userId),co(this.serializer,s)):null)}vn(e,r){return this.Cn[r]?at.resolve(this.Cn[r]):this.lookupMutationBatch(e,r).next(s=>{if(s){const l=s.keys();return this.Cn[r]=l,l}return null})}getNextMutationBatchAfterBatchId(e,r){const s=r+1,l=IDBKeyRange.lowerBound([this.userId,s]);let m=null;return ra(e).J({index:"userMutationsIndex",range:l},(I,P,L)=>{P.userId===this.userId&&(Ke(P.batchId>=s),m=co(this.serializer,P)),L.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return ra(e).J({index:"userMutationsIndex",range:r,reverse:!0},(l,m,I)=>{s=m.batchId,I.done()}).next(()=>s)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ra(e).U("userMutationsIndex",r).next(s=>s.map(l=>co(this.serializer,l)))}getAllMutationBatchesAffectingDocumentKey(e,r){const s=Je(this.userId,r.path),l=IDBKeyRange.lowerBound(s),m=[];return Fa(e).J({range:l},(I,P,L)=>{const[J,he,Me]=I,et=hn(he);if(J===this.userId&&r.path.isEqual(et))return ra(e).get(Me).next(Ct=>{if(!Ct)throw Tt();Ke(Ct.userId===this.userId),m.push(co(this.serializer,Ct))});L.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Jr(rn);const l=[];return r.forEach(m=>{const I=Je(this.userId,m.path),P=IDBKeyRange.lowerBound(I),L=Fa(e).J({range:P},(J,he,Me)=>{const[et,Ct,qt]=J,dn=hn(Ct);et===this.userId&&m.path.isEqual(dn)?s=s.add(qt):Me.done()});l.push(L)}),at.waitFor(l).next(()=>this.Fn(e,s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,l=s.length+1,m=Je(this.userId,s),I=IDBKeyRange.lowerBound(m);let P=new Jr(rn);return Fa(e).J({range:I},(L,J,he)=>{const[Me,et,Ct]=L,qt=hn(et);Me===this.userId&&s.isPrefixOf(qt)?qt.length===l&&(P=P.add(Ct)):he.done()}).next(()=>this.Fn(e,P))}Fn(e,r){const s=[],l=[];return r.forEach(m=>{l.push(ra(e).get(m).next(I=>{if(null===I)throw Tt();Ke(I.userId===this.userId),s.push(co(this.serializer,I))}))}),at.waitFor(l).next(()=>s)}removeMutationBatch(e,r){return yp(e._e,this.userId,r).next(s=>(e.addOnCommittedListener(()=>{this.Mn(r.batchId)}),at.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return at.resolve();const s=IDBKeyRange.lowerBound([this.userId]),l=[];return Fa(e).J({range:s},(m,I,P)=>{if(m[0]===this.userId){const L=hn(m[1]);l.push(L)}else P.done()}).next(()=>{Ke(0===l.length)})})}containsKey(e,r){return Ru(e,this.userId,r)}xn(e){return ul(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Ru(c,e,r){const s=Je(e,r.path),l=s[1],m=IDBKeyRange.lowerBound(s);let I=!1;return Fa(c).J({range:m,H:!0},(P,L,J)=>{const[he,Me,et]=P;he===e&&Me===l&&(I=!0),J.done()}).next(()=>I)}function ra(c){return Hr(c,"mutations")}function Fa(c){return Hr(c,"documentMutations")}function ul(c){return Hr(c,"mutationQueues")}class di{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new di(0)}static Ln(){return new di(-1)}}class xu{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Bn(e).next(r=>{const s=new di(r.highestTargetId);return r.highestTargetId=s.next(),this.kn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(r=>Qt.fromTimestamp(new Jn(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,s){return this.Bn(e).next(l=>(l.highestListenSequenceNumber=r,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),r>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=r),this.kn(e,l)))}addTargetData(e,r){return this.qn(e,r).next(()=>this.Bn(e).next(s=>(s.targetCount+=1,this.Qn(r,s),this.kn(e,s))))}updateTargetData(e,r){return this.qn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Fo(e).delete(r.targetId)).next(()=>this.Bn(e)).next(s=>(Ke(s.targetCount>0),s.targetCount-=1,this.kn(e,s)))}removeTargets(e,r,s){let l=0;const m=[];return Fo(e).J((I,P)=>{const L=Oo(P);L.sequenceNumber<=r&&null===s.get(L.targetId)&&(l++,m.push(this.removeTargetData(e,L)))}).next(()=>at.waitFor(m)).next(()=>l)}forEachTarget(e,r){return Fo(e).J((s,l)=>{const m=Oo(l);r(m)})}Bn(e){return Ou(e).get("targetGlobalKey").next(r=>(Ke(null!==r),r))}kn(e,r){return Ou(e).put("targetGlobalKey",r)}qn(e,r){return Fo(e).put(pa(this.serializer,r))}Qn(e,r){let s=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,s=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Bn(e).next(r=>r.targetCount)}getTargetData(e,r){const s=Rs(r),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let m=null;return Fo(e).J({range:l,index:"queryTargetsIndex"},(I,P,L)=>{const J=Oo(P);wo(r,J.target)&&(m=J,L.done())}).next(()=>m)}addMatchingKeys(e,r,s){const l=[],m=La(e);return r.forEach(I=>{const P=$t(I.path);l.push(m.put({targetId:s,path:P})),l.push(this.referenceDelegate.addReference(e,s,I))}),at.waitFor(l)}removeMatchingKeys(e,r,s){const l=La(e);return at.forEach(r,m=>{const I=$t(m.path);return at.waitFor([l.delete([s,I]),this.referenceDelegate.removeReference(e,s,m)])})}removeMatchingKeysForTargetId(e,r){const s=La(e),l=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(e,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),l=La(e);let m=pr();return l.J({range:s,H:!0},(I,P,L)=>{const J=hn(I[1]),he=new Yt(J);m=m.add(he)}).next(()=>m)}containsKey(e,r){const s=$t(r.path),l=IDBKeyRange.bound([s],[mr(s)],!1,!0);let m=0;return La(e).J({index:"documentTargetsIndex",H:!0,range:l},([I,P],L,J)=>{0!==I&&(m++,J.done())}).next(()=>m>0)}ot(e,r){return Fo(e).get(r).next(s=>s?Oo(s):null)}}function Fo(c){return Hr(c,"targets")}function Ou(c){return Hr(c,"targetGlobal")}function La(c){return Hr(c,"targetDocuments")}function $d([c,e],[r,s]){const l=rn(c,r);return 0===l?rn(e,s):l}class Gd{constructor(e){this.Kn=e,this.buffer=new Jr($d),this.$n=0}Un(){return++this.$n}Wn(e){const r=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();$d(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Ll{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var r=this;Ee("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,f.Z)(function*(){r.Gn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(s){$n(s)?Ee("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Dr(s)}yield r.zn(3e5)}))}}class Nc{constructor(e,r){this.jn=e,this.params=r}calculateTargetCount(e,r){return this.jn.Hn(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(0===r)return at.resolve(U.oe);const s=new Gd(r);return this.jn.forEachTarget(e,l=>s.Wn(l.sequenceNumber)).next(()=>this.jn.Jn(e,l=>s.Wn(l))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.jn.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(Pu)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Pu):this.Yn(e,r))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,r){let s,l,m,I,P,L,J;const he=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Me=>(Me>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Me}`),l=this.params.maximumSequenceNumbersToCollect):l=Me,I=Date.now(),this.nthSequenceNumber(e,l))).next(Me=>(s=Me,P=Date.now(),this.removeTargets(e,s,r))).next(Me=>(m=Me,L=Date.now(),this.removeOrphanedDocuments(e,s))).next(Me=>(J=Date.now(),dt()<=Se.in.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${I-he}ms\n\tDetermined least recently used ${l} in `+(P-I)+`ms\n\tRemoved ${m} targets in `+(L-P)+`ms\n\tRemoved ${Me} documents in `+(J-L)+`ms\nTotal Duration: ${J-he}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:m,documentsRemoved:Me})))}}class nf{constructor(e,r){this.db=e,this.garbageCollector=function Nu(c,e){return new Nc(c,e)}(this,r)}Hn(e){const r=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>r.next(l=>s+l))}Zn(e){let r=0;return this.Jn(e,s=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Jn(e,r){return this.Xn(e,(s,l)=>r(l))}addReference(e,r,s){return dl(e,s)}removeReference(e,r,s){return dl(e,s)}removeTargets(e,r,s){return this.db.getTargetCache().removeTargets(e,r,s)}markPotentiallyOrphaned(e,r){return dl(e,r)}er(e,r){return function(l,m){let I=!1;return ul(l).Y(P=>Ru(l,P,m).next(L=>(L&&(I=!0),at.resolve(!L)))).next(()=>I)}(e,r)}removeOrphanedDocuments(e,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let m=0;return this.Xn(e,(I,P)=>{if(P<=r){const L=this.er(e,I).next(J=>{if(!J)return m++,s.getEntry(e,I).next(()=>(s.removeEntry(I,Qt.min()),La(e).delete([0,$t(I.path)])))});l.push(L)}}).next(()=>at.waitFor(l)).next(()=>s.apply(e)).next(()=>m)}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,r){return dl(e,r)}Xn(e,r){const s=La(e);let l,m=U.oe;return s.J({index:"documentTargetsIndex"},([I,P],{path:L,sequenceNumber:J})=>{0===I?(m!==U.oe&&r(new Yt(hn(l)),m),m=J,l=L):m=U.oe}).next(()=>{m!==U.oe&&r(new Yt(hn(l)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function dl(c,e){return La(c).put((l=c.currentSequenceNumber,{targetId:0,path:$t(e.path),sequenceNumber:l}));var l}class Xa{constructor(){this.changes=new _s(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Y.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?at.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ep{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,s){return ma(e).put(s)}removeEntry(e,r,s){return ma(e).delete(function(m,I){const P=m.path.toArray();return[P.slice(0,P.length-2),P[P.length-2],ui(I),P[P.length-1]]}(r,s))}updateMetadata(e,r){return this.getMetadata(e).next(s=>(s.byteSize+=r,this.tr(e,s)))}getEntry(e,r){let s=Y.newInvalidDocument(r);return ma(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(kc(r))},(l,m)=>{s=this.nr(r,m)}).next(()=>s)}rr(e,r){let s={size:0,document:Y.newInvalidDocument(r)};return ma(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(kc(r))},(l,m)=>{s={document:this.nr(r,m),size:qi(m)}}).next(()=>s)}getEntries(e,r){let s=Vr();return this.ir(e,r,(l,m)=>{const I=this.nr(l,m);s=s.insert(l,I)}).next(()=>s)}sr(e,r){let s=Vr(),l=new ii(Yt.comparator);return this.ir(e,r,(m,I)=>{const P=this.nr(m,I);s=s.insert(m,P),l=l.insert(m,qi(I))}).next(()=>({documents:s,_r:l}))}ir(e,r,s){if(r.isEmpty())return at.resolve();let l=new Jr(Vl);r.forEach(L=>l=l.add(L));const m=IDBKeyRange.bound(kc(l.first()),kc(l.last())),I=l.getIterator();let P=I.getNext();return ma(e).J({index:"documentKeyIndex",range:m},(L,J,he)=>{const Me=Yt.fromSegments([...J.prefixPath,J.collectionGroup,J.documentId]);for(;P&&Vl(P,Me)<0;)s(P,null),P=I.getNext();P&&P.isEqual(Me)&&(s(P,J),P=I.hasNext()?I.getNext():null),P?he.$(kc(P)):he.done()}).next(()=>{for(;P;)s(P,null),P=I.hasNext()?I.getNext():null})}getDocumentsMatchingQuery(e,r,s,l,m){const I=r.path,P=[I.popLast().toArray(),I.lastSegment(),ui(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],L=[I.popLast().toArray(),I.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ma(e).U(IDBKeyRange.bound(P,L,!0)).next(J=>{m?.incrementDocumentReadCount(J.length);let he=Vr();for(const Me of J){const et=this.nr(Yt.fromSegments(Me.prefixPath.concat(Me.collectionGroup,Me.documentId)),Me);et.isFoundDocument()&&(ca(r,et)||l.has(et.key))&&(he=he.insert(et.key,et))}return he})}getAllFromCollectionGroup(e,r,s,l){let m=Vr();const I=qd(r,s),P=qd(r,gn.max());return ma(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(I,P,!0)},(L,J,he)=>{const Me=this.nr(Yt.fromSegments(J.prefixPath.concat(J.collectionGroup,J.documentId)),J);m=m.insert(Me.key,Me),m.size===l&&he.done()}).next(()=>m)}newChangeBuffer(e){return new Zd(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return hl(e).get("remoteDocumentGlobalKey").next(r=>(Ke(!!r),r))}tr(e,r){return hl(e).put("remoteDocumentGlobalKey",r)}nr(e,r){if(r){const s=function Tn(c,e){let r;if(e.document)r=ys(c.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Yt.fromSegments(e.noDocument.path),l=Fs(e.noDocument.readTime);r=Y.newNoDocument(s,l),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return Tt();{const s=Yt.fromSegments(e.unknownDocument.path),l=Fs(e.unknownDocument.version);r=Y.newUnknownDocument(s,l)}}return e.readTime&&r.setReadTime(function(l){const m=new Jn(l[0],l[1]);return Qt.fromTimestamp(m)}(e.readTime)),r}(this.serializer,r);if(!s.isNoDocument()||!s.version.isEqual(Qt.min()))return s}return Y.newInvalidDocument(e)}}function Vs(c){return new Ep(c)}class Zd extends Xa{constructor(e,r){super(),this.ar=e,this.trackRemovals=r,this.ur=new _s(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(e){const r=[];let s=0,l=new Jr((m,I)=>rn(m.canonicalString(),I.canonicalString()));return this.changes.forEach((m,I)=>{const P=this.ur.get(m);if(r.push(this.ar.removeEntry(e,m,P.readTime)),I.isValidDocument()){const L=Tr(this.ar.serializer,I);l=l.add(m.path.popLast());const J=qi(L);s+=J-P.size,r.push(this.ar.addEntry(e,m,L))}else if(s-=P.size,this.trackRemovals){const L=Tr(this.ar.serializer,I.convertToNoDocument(Qt.min()));r.push(this.ar.addEntry(e,m,L))}}),l.forEach(m=>{r.push(this.ar.indexManager.addToCollectionParentIndex(e,m))}),r.push(this.ar.updateMetadata(e,s)),at.waitFor(r)}getFromCache(e,r){return this.ar.rr(e,r).next(s=>(this.ur.set(r,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,r){return this.ar.sr(e,r).next(({documents:s,_r:l})=>(l.forEach((m,I)=>{this.ur.set(m,{size:I,readTime:s.get(m).readTime})}),s))}}function hl(c){return Hr(c,"remoteDocumentGlobal")}function ma(c){return Hr(c,"remoteDocumentsV14")}function kc(c){const e=c.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function qd(c,e){const r=e.documentKey.path.toArray();return[c,ui(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Vl(c,e){const r=c.path.toArray(),s=e.path.toArray();let l=0;for(let m=0;m<r.length-2&&m<s.length-2;++m)if(l=rn(r[m],s[m]),l)return l;return l=rn(r.length,s.length),l||(l=rn(r[r.length-2],s[s.length-2]),l||rn(r[r.length-1],s[s.length-1]))}class _a{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class cn{constructor(e,r,s,l){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,r))).next(l=>(null!==s&&Ue(s.mutation,l,Vi.empty(),Jn.now()),l))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,pr()).next(()=>s))}getLocalViewOfDocuments(e,r,s=pr()){const l=xs();return this.populateOverlays(e,l,r).next(()=>this.computeViews(e,r,l,s).next(m=>{let I=Bi();return m.forEach((P,L)=>{I=I.insert(P,L.overlayedDocument)}),I}))}getOverlayedDocuments(e,r){const s=xs();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,pr()))}populateOverlays(e,r,s){const l=[];return s.forEach(m=>{r.has(m)||l.push(m)}),this.documentOverlayCache.getOverlays(e,l).next(m=>{m.forEach((I,P)=>{r.set(I,P)})})}computeViews(e,r,s,l){let m=Vr();const I=Do(),P=Do();return r.forEach((L,J)=>{const he=s.get(J.key);l.has(J.key)&&(void 0===he||he.mutation instanceof Fr)?m=m.insert(J.key,J):void 0!==he?(I.set(J.key,he.mutation.getFieldMask()),Ue(he.mutation,J,he.mutation.getFieldMask(),Jn.now())):I.set(J.key,Vi.empty())}),this.recalculateAndSaveOverlays(e,m).next(L=>(L.forEach((J,he)=>I.set(J,he)),r.forEach((J,he)=>{var Me;return P.set(J,new _a(he,null!==(Me=I.get(J))&&void 0!==Me?Me:null))}),P))}recalculateAndSaveOverlays(e,r){const s=Do();let l=new ii((I,P)=>I-P),m=pr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(I=>{for(const P of I)P.keys().forEach(L=>{const J=r.get(L);if(null===J)return;let he=s.get(L)||Vi.empty();he=P.applyToLocalView(J,he),s.set(L,he);const Me=(l.get(P.batchId)||pr()).add(L);l=l.insert(P.batchId,Me)})}).next(()=>{const I=[],P=l.getReverseIterator();for(;P.hasNext();){const L=P.getNext(),J=L.key,he=L.value,Me=mo();he.forEach(et=>{if(!m.has(et)){const Ct=j(r.get(et),s.get(et));null!==Ct&&Me.set(et,Ct),m=m.add(et)}}),I.push(this.documentOverlayCache.saveOverlays(e,J,Me))}return at.waitFor(I)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,l){return Yt.isDocumentKey((I=r).path)&&null===I.collectionGroup&&0===I.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):vr(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,l):this.getDocumentsMatchingCollectionQuery(e,r,s,l);var I}getNextDocuments(e,r,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,l).next(m=>{const I=l-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,l-m.size):at.resolve(xs());let P=-1,L=m;return I.next(J=>at.forEach(J,(he,Me)=>(P<Me.largestBatchId&&(P=Me.largestBatchId),m.get(he)?at.resolve():this.remoteDocumentCache.getEntry(e,he).next(et=>{L=L.insert(he,et)}))).next(()=>this.populateOverlays(e,J,m)).next(()=>this.computeViews(e,L,J,pr())).next(he=>({batchId:P,changes:bc(he)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Yt(r)).next(s=>{let l=Bi();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,r,s,l){const m=r.collectionGroup;let I=Bi();return this.indexManager.getCollectionParents(e,m).next(P=>at.forEach(P,L=>{const J=(Me=r,et=L.child(m),new F(et,null,Me.explicitOrderBy.slice(),Me.filters.slice(),Me.limit,Me.limitType,Me.startAt,Me.endAt));var Me,et;return this.getDocumentsMatchingCollectionQuery(e,J,s,l).next(he=>{he.forEach((Me,et)=>{I=I.insert(Me,et)})})}).next(()=>I))}getDocumentsMatchingCollectionQuery(e,r,s,l){let m;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(I=>(m=I,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,m,l))).next(I=>{m.forEach((L,J)=>{const he=J.getKey();null===I.get(he)&&(I=I.insert(he,Y.newInvalidDocument(he)))});let P=Bi();return I.forEach((L,J)=>{const he=m.get(L);void 0!==he&&Ue(he.mutation,J,Vi.empty(),Jn.now()),ca(r,J)&&(P=P.insert(L,J))}),P})}}class Fc{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return at.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(l=r).id,version:l.version,createTime:ki(l.createTime)}),at.resolve();var l}getNamedQuery(e,r){return at.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(l=r).name,query:No(l.bundledQuery),readTime:ki(l.readTime)}),at.resolve();var l}}class Wd{constructor(){this.overlays=new ii(Yt.comparator),this.hr=new Map}getOverlay(e,r){return at.resolve(this.overlays.get(r))}getOverlays(e,r){const s=xs();return at.forEach(r,l=>this.getOverlay(e,l).next(m=>{null!==m&&s.set(l,m)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((l,m)=>{this.ht(e,r,m)}),at.resolve()}removeOverlaysForBatchId(e,r,s){const l=this.hr.get(s);return void 0!==l&&(l.forEach(m=>this.overlays=this.overlays.remove(m)),this.hr.delete(s)),at.resolve()}getOverlaysForCollection(e,r,s){const l=xs(),m=r.length+1,I=new Yt(r.child("")),P=this.overlays.getIteratorFrom(I);for(;P.hasNext();){const L=P.getNext().value,J=L.getKey();if(!r.isPrefixOf(J.path))break;J.path.length===m&&L.largestBatchId>s&&l.set(L.getKey(),L)}return at.resolve(l)}getOverlaysForCollectionGroup(e,r,s,l){let m=new ii((J,he)=>J-he);const I=this.overlays.getIterator();for(;I.hasNext();){const J=I.getNext().value;if(J.getKey().getCollectionGroup()===r&&J.largestBatchId>s){let he=m.get(J.largestBatchId);null===he&&(he=xs(),m=m.insert(J.largestBatchId,he)),he.set(J.getKey(),J)}}const P=xs(),L=m.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach((J,he)=>P.set(J,he)),!(P.size()>=l)););return at.resolve(P)}ht(e,r,s){const l=this.overlays.get(s.key);if(null!==l){const I=this.hr.get(l.largestBatchId).delete(s.key);this.hr.set(l.largestBatchId,I)}this.overlays=this.overlays.insert(s.key,new vs(r,s));let m=this.hr.get(r);void 0===m&&(m=pr(),this.hr.set(r,m)),this.hr.set(r,m.add(s.key))}}class Lc{constructor(){this.Pr=new Jr(Wi.Ir),this.Tr=new Jr(Wi.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const s=new Wi(e,r);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Ar(new Wi(e,r))}Rr(e,r){e.forEach(s=>this.removeReference(s,r))}Vr(e){const r=new Yt(new xn([])),s=new Wi(r,e),l=new Wi(r,e+1),m=[];return this.Tr.forEachInRange([s,l],I=>{this.Ar(I),m.push(I.key)}),m}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new Yt(new xn([])),s=new Wi(r,e),l=new Wi(r,e+1);let m=pr();return this.Tr.forEachInRange([s,l],I=>{m=m.add(I.key)}),m}containsKey(e){const r=new Wi(e,0),s=this.Pr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class Wi{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return Yt.comparator(e.key,r.key)||rn(e.pr,r.pr)}static Er(e,r){return rn(e.pr,r.pr)||Yt.comparator(e.key,r.key)}}class Sg{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new Jr(Wi.Ir)}checkEmpty(e){return at.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,l){const m=this.yr;this.yr++;const I=new Gi(m,r,s,l);this.mutationQueue.push(I);for(const P of l)this.wr=this.wr.add(new Wi(P.key,m)),this.indexManager.addToCollectionParentIndex(e,P.key.path.popLast());return at.resolve(I)}lookupMutationBatch(e,r){return at.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const l=this.br(r+1),m=l<0?0:l;return at.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new Wi(r,0),l=new Wi(r,Number.POSITIVE_INFINITY),m=[];return this.wr.forEachInRange([s,l],I=>{const P=this.Sr(I.pr);m.push(P)}),at.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Jr(rn);return r.forEach(l=>{const m=new Wi(l,0),I=new Wi(l,Number.POSITIVE_INFINITY);this.wr.forEachInRange([m,I],P=>{s=s.add(P.pr)})}),at.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,l=s.length+1;let m=s;Yt.isDocumentKey(m)||(m=m.child(""));const I=new Wi(new Yt(m),0);let P=new Jr(rn);return this.wr.forEachWhile(L=>{const J=L.key.path;return!!s.isPrefixOf(J)&&(J.length===l&&(P=P.add(L.pr)),!0)},I),at.resolve(this.Dr(P))}Dr(e){const r=[];return e.forEach(s=>{const l=this.Sr(s);null!==l&&r.push(l)}),r}removeMutationBatch(e,r){Ke(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return at.forEach(r.mutations,l=>{const m=new Wi(l.key,r.batchId);return s=s.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.wr=s})}Mn(e){}containsKey(e,r){const s=new Wi(r,0),l=this.wr.firstAfterOrEqual(s);return at.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(e){return at.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class Ap{constructor(e){this.vr=e,this.docs=new ii(Yt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,l=this.docs.get(s),m=l?l.size:0,I=this.vr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:I}),this.size+=I-m,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return at.resolve(s?s.document.mutableCopy():Y.newInvalidDocument(r))}getEntries(e,r){let s=Vr();return r.forEach(l=>{const m=this.docs.get(l);s=s.insert(l,m?m.document.mutableCopy():Y.newInvalidDocument(l))}),at.resolve(s)}getDocumentsMatchingQuery(e,r,s,l){let m=Vr();const I=r.path,P=new Yt(I.child("")),L=this.docs.getIteratorFrom(P);for(;L.hasNext();){const{key:J,value:{document:he}}=L.getNext();if(!I.isPrefixOf(J.path))break;J.path.length>I.length+1||Ur(yi(he),s)<=0||(l.has(he.key)||ca(r,he))&&(m=m.insert(he.key,he.mutableCopy()))}return at.resolve(m)}getAllFromCollectionGroup(e,r,s,l){Tt()}Fr(e,r){return at.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new rf(this)}getSize(e){return at.resolve(this.size)}}class rf extends Xa{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?r.push(this.ar.addEntry(e,l)):this.ar.removeEntry(s)}),at.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class Mg{constructor(e){this.persistence=e,this.Mr=new _s(r=>Rs(r),wo),this.lastRemoteSnapshotVersion=Qt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Lc,this.targetCount=0,this.Lr=di.Nn()}forEachTarget(e,r){return this.Mr.forEach((s,l)=>r(l)),at.resolve()}getLastRemoteSnapshotVersion(e){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return at.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Or&&(this.Or=r),at.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Lr=new di(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,at.resolve()}updateTargetData(e,r){return this.qn(r),at.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,at.resolve()}removeTargets(e,r,s){let l=0;const m=[];return this.Mr.forEach((I,P)=>{P.sequenceNumber<=r&&null===s.get(P.targetId)&&(this.Mr.delete(I),m.push(this.removeMatchingKeysForTargetId(e,P.targetId)),l++)}),at.waitFor(m).next(()=>l)}getTargetCount(e){return at.resolve(this.targetCount)}getTargetData(e,r){const s=this.Mr.get(r)||null;return at.resolve(s)}addMatchingKeys(e,r,s){return this.Nr.dr(r,s),at.resolve()}removeMatchingKeys(e,r,s){this.Nr.Rr(r,s);const l=this.persistence.referenceDelegate,m=[];return l&&r.forEach(I=>{m.push(l.markPotentiallyOrphaned(e,I))}),at.waitFor(m)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),at.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Nr.gr(r);return at.resolve(s)}containsKey(e,r){return at.resolve(this.Nr.containsKey(r))}}class sf{constructor(e,r){this.Br={},this.overlays={},this.kr=new U(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Mg(this),this.indexManager=new wg,this.remoteDocumentCache=new Ap(s=>this.referenceDelegate.Kr(s)),this.serializer=new St(r),this.$r=new Fc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Wd,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.Br[e.toKey()];return s||(s=new Sg(r,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,s){Ee("MemoryPersistence","Starting transaction:",e);const l=new Ip(this.kr.next());return this.referenceDelegate.Ur(),s(l).next(m=>this.referenceDelegate.Wr(l).next(()=>m)).toPromise().then(m=>(l.raiseOnCommittedEvent(),m))}Gr(e,r){return at.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,r)))}}class Ip extends Rr{constructor(e){super(),this.currentSequenceNumber=e}}class Kd{constructor(e){this.persistence=e,this.zr=new Lc,this.jr=null}static Hr(e){return new Kd(e)}get Jr(){if(this.jr)return this.jr;throw Tt()}addReference(e,r,s){return this.zr.addReference(s,r),this.Jr.delete(s.toString()),at.resolve()}removeReference(e,r,s){return this.zr.removeReference(s,r),this.Jr.add(s.toString()),at.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),at.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(l=>this.Jr.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(l=>{l.forEach(m=>this.Jr.add(m.toString()))}).next(()=>s.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.Jr,s=>{const l=Yt.fromPath(s);return this.Yr(e,l).next(m=>{m||r.removeEntry(l,Qt.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(s=>{s?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return at.or([()=>at.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class pl{constructor(e){this.serializer=e}O(e,r,s,l){const m=new wt("createOrUpgrade",r);var L;s<1&&l>=1&&(e.createObjectStore("owner"),(L=e).createObjectStore("mutationQueues",{keyPath:"userId"}),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Xn,{unique:!0}),L.createObjectStore("documentMutations"),af(e),function(L){L.createObjectStore("remoteDocuments")}(e));let I=at.resolve();return s<3&&l>=3&&(0!==s&&(function(L){L.deleteObjectStore("targetDocuments"),L.deleteObjectStore("targets"),L.deleteObjectStore("targetGlobal")}(e),af(e)),I=I.next(()=>function(L){const J=L.store("targetGlobal"),he={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Qt.min().toTimestamp(),targetCount:0};return J.put("targetGlobalKey",he)}(m))),s<4&&l>=4&&(0!==s&&(I=I.next(()=>function(L,J){return J.store("mutations").U().next(he=>{L.deleteObjectStore("mutations"),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Xn,{unique:!0});const Me=J.store("mutations"),et=he.map(Ct=>Me.put(Ct));return at.waitFor(et)})}(e,m))),I=I.next(()=>{!function(L){L.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&l>=5&&(I=I.next(()=>this.Xr(m))),s<6&&l>=6&&(I=I.next(()=>(function(L){L.createObjectStore("remoteDocumentGlobal")}(e),this.ei(m)))),s<7&&l>=7&&(I=I.next(()=>this.ti(m))),s<8&&l>=8&&(I=I.next(()=>this.ni(e,m))),s<9&&l>=9&&(I=I.next(()=>{!function(L){L.objectStoreNames.contains("remoteDocumentChanges")&&L.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&l>=10&&(I=I.next(()=>this.ri(m))),s<11&&l>=11&&(I=I.next(()=>{(function(L){L.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(L){L.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&l>=12&&(I=I.next(()=>{!function(L){const J=L.createObjectStore("documentOverlays",{keyPath:Un});J.createIndex("collectionPathOverlayIndex",vn,{unique:!1}),J.createIndex("collectionGroupOverlayIndex",Gn,{unique:!1})}(e)})),s<13&&l>=13&&(I=I.next(()=>function(L){const J=L.createObjectStore("remoteDocumentsV14",{keyPath:jt});J.createIndex("documentKeyIndex",Xt),J.createIndex("collectionGroupIndex",En)}(e)).next(()=>this.ii(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&l>=14&&(I=I.next(()=>this.si(e,m))),s<15&&l>=15&&(I=I.next(()=>function(L){L.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),L.createObjectStore("indexState",{keyPath:ft}).createIndex("sequenceNumberIndex",kt,{unique:!1}),L.createObjectStore("indexEntries",{keyPath:ln}).createIndex("documentKeyIndex",Vn,{unique:!1})}(e))),s<16&&l>=16&&(I=I.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),I}ei(e){let r=0;return e.store("remoteDocuments").J((s,l)=>{r+=qi(l)}).next(()=>{const s={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Xr(e){const r=e.store("mutationQueues"),s=e.store("mutations");return r.U().next(l=>at.forEach(l,m=>{const I=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",I).next(P=>at.forEach(P,L=>{Ke(L.userId===m.userId);const J=co(this.serializer,L);return yp(e,m.userId,J).next(()=>{})}))}))}ti(e){const r=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const m=[];return s.J((I,P)=>{const L=new xn(I),J=[0,$t(L)];m.push(r.get(J).next(he=>he?at.resolve():r.put({targetId:0,path:$t(L),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>at.waitFor(m))})}ni(e,r){e.createObjectStore("collectionParents",{keyPath:vt});const s=r.store("collectionParents"),l=new zd,m=I=>{if(l.add(I)){const P=I.lastSegment(),L=I.popLast();return s.put({collectionId:P,parent:$t(L)})}};return r.store("remoteDocuments").J({H:!0},(I,P)=>{const L=new xn(I);return m(L.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([I,P,L],J)=>{const he=hn(P);return m(he.popLast())}))}ri(e){const r=e.store("targets");return r.J((s,l)=>{const m=Oo(l),I=pa(this.serializer,m);return r.put(I)})}ii(e,r){const s=r.store("remoteDocuments"),l=[];return s.J((m,I)=>{const P=r.store("remoteDocumentsV14"),L=(Me=I,Me.document?new Yt(xn.fromString(Me.document.name).popFirst(5)):Me.noDocument?Yt.fromSegments(Me.noDocument.path):Me.unknownDocument?Yt.fromSegments(Me.unknownDocument.path):Tt()).path.toArray(),J={prefixPath:L.slice(0,L.length-2),collectionGroup:L[L.length-2],documentId:L[L.length-1],readTime:I.readTime||[0,0],unknownDocument:I.unknownDocument,noDocument:I.noDocument,document:I.document,hasCommittedMutations:!!I.hasCommittedMutations};var Me;l.push(P.put(J))}).next(()=>at.waitFor(l))}si(e,r){const s=r.store("mutations"),l=Vs(this.serializer),m=new sf(Kd.Hr,this.serializer.ct);return s.U().next(I=>{const P=new Map;return I.forEach(L=>{var J;let he=null!==(J=P.get(L.userId))&&void 0!==J?J:pr();co(this.serializer,L).keys().forEach(Me=>he=he.add(Me)),P.set(L.userId,he)}),at.forEach(P,(L,J)=>{const he=new tt(J),Me=Nl.lt(this.serializer,he),et=m.getIndexManager(he),Ct=Fl.lt(he,this.serializer,et,m.referenceDelegate);return new cn(l,Ct,Me,et).recalculateAndSaveOverlaysForDocumentKeys(new cs(r,U.oe),L).next()})})}}function af(c){c.createObjectStore("targetDocuments",{keyPath:fr}).createIndex("documentTargetsIndex",yn,{unique:!0}),c.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",an,{unique:!0}),c.createObjectStore("targetGlobal")}const Qd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ji{constructor(e,r,s,l,m,I,P,L,J,he,Me=16){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=s,this.oi=m,this.window=I,this.document=P,this._i=J,this.ai=he,this.ui=Me,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=et=>Promise.resolve(),!ji.D())throw new te(we.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new nf(this,l),this.Ti=r+"main",this.serializer=new St(L),this.Ei=new ue(this.Ti,this.ui,new pl(this.serializer)),this.Qr=new xu(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Vs(this.serializer),this.$r=new Ni,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===he&&Ot("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new te(we.FAILED_PRECONDITION,Qd);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new U(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var r=this;return this.Ii=function(){var s=(0,f.Z)(function*(l){if(r.started)return e(l)});return function(l){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var r=(0,f.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,f.Z)(function*(){r.started&&(yield r.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ec(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(r=>{r||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(r=>this.isPrimary&&!r?this.yi(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if($n(e))return Ee("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ee("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Ul(e).get("owner").next(r=>at.resolve(this.Si(r)))}bi(e){return ec(e).delete(this.clientId)}Di(){var e=this;return(0,f.Z)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=Hr(s,"clientMetadata");return l.U().next(m=>{const I=e.vi(m,18e5),P=m.filter(L=>-1===I.indexOf(L));return at.forEach(P,L=>l.delete(L.clientId)).next(()=>P)})}).catch(()=>[]);if(e.di)for(const s of r)e.di.removeItem(e.Fi(s.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?at.resolve(!0):Ul(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)){if(this.Si(r)&&this.networkEnabled)return!0;if(!this.Si(r)){if(!r.allowTabSynchronization)throw new te(we.FAILED_PRECONDITION,Qd);return!1}}return!(!this.networkEnabled||!this.inForeground)||ec(e).U().next(s=>void 0===this.vi(s,5e3).find(l=>!(this.clientId===l.clientId||!(!this.networkEnabled&&l.networkEnabled||!this.inForeground&&l.inForeground&&this.networkEnabled===l.networkEnabled))))}).next(r=>(this.isPrimary!==r&&Ee("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,f.Z)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const s=new cs(r,U.oe);return e.yi(s).next(()=>e.bi(s))}),e.Ei.close(),e.Li()})()}vi(e,r){return e.filter(s=>this.Ci(s.updateTimeMs,r)&&!this.Mi(s.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>ec(e).U().next(r=>this.vi(r,18e5).map(s=>s.clientId)))}get started(){return this.qr}getMutationQueue(e,r){return Fl.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Mu(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Nl.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,r,s){Ee("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===r?"readonly":"readwrite",m=16===(L=this.ui)?gi:15===L?Mi:14===L?dr:13===L?ei:12===L?fi:11===L?Sr:void Tt();var L;let I;return this.Ei.runTransaction(e,l,m,P=>(I=new cs(P,this.kr?this.kr.next():U.oe),"readwrite-primary"===r?this.gi(I).next(L=>!!L||this.pi(I)).next(L=>{if(!L)throw Ot(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new te(we.FAILED_PRECONDITION,ar);return s(I)}).next(L=>this.wi(I).next(()=>L)):this.ki(I).next(()=>s(I)))).then(P=>(I.raiseOnCommittedEvent(),P))}ki(e){return Ul(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)&&!this.Si(r)&&!(this.ai||this.allowTabSynchronization&&r.allowTabSynchronization))throw new te(we.FAILED_PRECONDITION,Qd)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ul(e).put("owner",r)}static D(){return ue.D()}yi(e){const r=Ul(e);return r.get("owner").next(s=>this.Si(s)?(Ee("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):at.resolve())}Ci(e,r){const s=Date.now();return!(e<s-r||e>s&&(Ot(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const r=/(?:Version|Mobile)\/1[456]/;(0,me.G6)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var r;try{const s=null!==(null===(r=this.di)||void 0===r?void 0:r.getItem(this.Fi(e)));return Ee("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Ot("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Ot("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ul(c){return Hr(c,"owner")}function ec(c){return Hr(c,"clientMetadata")}function Yd(c,e){let r=c.projectId;return c.isDefaultDatabase||(r+="."+c.database),"firestore/"+e+"/"+r+"/"}class lo{constructor(e,r,s,l){this.targetId=e,this.fromCache=r,this.qi=s,this.Qi=l}static Ki(e,r){let s=pr(),l=pr();for(const m of r.docChanges)switch(m.type){case 0:s=s.add(m.doc.key);break;case 1:l=l.add(m.doc.key)}return new lo(e,r.fromCache,s,l)}}class tc{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ku{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,me.G6)()?8:Be((0,me.z$)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,s,l){const m={result:null};return this.ji(e,r).next(I=>{m.result=I}).next(()=>{if(!m.result)return this.Hi(e,r,l,s).next(I=>{m.result=I})}).next(()=>{if(m.result)return;const I=new tc;return this.Ji(e,r,I).next(P=>{if(m.result=P,this.Ui)return this.Yi(e,r,I,P.size)})}).next(()=>m.result)}Yi(e,r,s,l){return s.documentReadCount<this.Wi?(dt()<=Se.in.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Sa(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),at.resolve()):(dt()<=Se.in.DEBUG&&Ee("QueryEngine","Query:",Sa(r),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.Gi*l?(dt()<=Se.in.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Sa(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_i(r))):at.resolve())}ji(e,r){if(Ln(r))return at.resolve(null);let s=_i(r);return this.indexManager.getIndexType(e,s).next(l=>0===l?null:(null!==r.limit&&1===l&&(r=qa(r,null,"F"),s=_i(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(m=>{const I=pr(...m);return this.zi.getDocuments(e,I).next(P=>this.indexManager.getMinOffset(e,s).next(L=>{const J=this.Zi(r,P);return this.Xi(r,J,I,L.readTime)?this.ji(e,qa(r,null,"F")):this.es(e,J,r,L)}))})))}Hi(e,r,s,l){return Ln(r)||l.isEqual(Qt.min())?at.resolve(null):this.zi.getDocuments(e,s).next(m=>{const I=this.Zi(r,m);return this.Xi(r,I,s,l)?at.resolve(null):(dt()<=Se.in.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Sa(r)),this.es(e,I,r,Yr(l,-1)).next(P=>P))})}Zi(e,r){let s=new Jr(oo(e));return r.forEach((l,m)=>{ca(e,m)&&(s=s.add(m))}),s}Xi(e,r,s,l){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const m="F"===e.limitType?r.last():r.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(l)>0)}Ji(e,r,s){return dt()<=Se.in.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Sa(r)),this.zi.getDocumentsMatchingQuery(e,r,gn.min(),s)}es(e,r,s,l){return this.zi.getDocumentsMatchingQuery(e,s,l).next(m=>(r.forEach(I=>{m=m.insert(I.key,I)}),m))}}class Fu{constructor(e,r,s,l){this.persistence=e,this.ts=r,this.serializer=l,this.ns=new ii(rn),this.rs=new _s(m=>Rs(m),wo),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(s)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cn(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function nc(c,e,r,s){return new Fu(c,e,r,s)}function cf(c,e){return lf.apply(this,arguments)}function lf(){return(lf=(0,f.Z)(function*(c,e){const r=Fe(c);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let l;return r.mutationQueue.getAllMutationBatches(s).next(m=>(l=m,r._s(e),r.mutationQueue.getAllMutationBatches(s))).next(m=>{const I=[],P=[];let L=pr();for(const J of l){I.push(J.batchId);for(const he of J.mutations)L=L.add(he.key)}for(const J of m){P.push(J.batchId);for(const he of J.mutations)L=L.add(he.key)}return r.localDocuments.getDocuments(s,L).next(J=>({us:J,removedBatchIds:I,addedBatchIds:P}))})})})).apply(this,arguments)}function bp(c){const e=Fe(c);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function Lu(c,e,r){let s=pr(),l=pr();return r.forEach(m=>s=s.add(m)),e.getEntries(c,s).next(m=>{let I=Vr();return r.forEach((P,L)=>{const J=m.get(P);L.isFoundDocument()!==J.isFoundDocument()&&(l=l.add(P)),L.isNoDocument()&&L.version.isEqual(Qt.min())?(e.removeEntry(P,L.readTime),I=I.insert(P,L)):!J.isValidDocument()||L.version.compareTo(J.version)>0||0===L.version.compareTo(J.version)&&J.hasPendingWrites?(e.addEntry(L),I=I.insert(P,L)):Ee("LocalStore","Ignoring outdated watch update for ",P,". Current version:",J.version," Watch version:",L.version)}),{cs:I,ls:l}})}function Vc(c,e){const r=Fe(c);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Bl(c,e){const r=Fe(c);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return r.Qr.getTargetData(s,e).next(m=>m?(l=m,at.resolve(l)):r.Qr.allocateTargetId(s).next(I=>(l=new Dt(e,I,"TargetPurposeListen",s.currentSequenceNumber),r.Qr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=r.ns.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.ns=r.ns.insert(s.targetId,s),r.rs.set(e,s.targetId)),s})}function Va(c,e,r){return jl.apply(this,arguments)}function jl(){return(jl=(0,f.Z)(function*(c,e,r){const s=Fe(c),l=s.ns.get(e),m=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",m,I=>s.persistence.referenceDelegate.removeTarget(I,l)))}catch(I){if(!$n(I))throw I;Ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${I}`)}s.ns=s.ns.remove(e),s.rs.delete(l.target)})).apply(this,arguments)}function Vu(c,e,r){const s=Fe(c);let l=Qt.min(),m=pr();return s.persistence.runTransaction("Execute query","readwrite",I=>function(L,J,he){const Me=Fe(L),et=Me.rs.get(he);return void 0!==et?at.resolve(Me.ns.get(et)):Me.Qr.getTargetData(J,he)}(s,I,_i(e)).next(P=>{if(P)return l=P.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(I,P.targetId).next(L=>{m=L})}).next(()=>s.ts.getDocumentsMatchingQuery(I,e,r?l:Qt.min(),r?m:pr())).next(P=>(Jd(s,Ic(e),P),{documents:P,hs:m})))}function Uu(c,e){const r=Fe(c),s=Fe(r.Qr),l=r.ns.get(e);return l?Promise.resolve(l.target):r.persistence.runTransaction("Get target data","readonly",m=>s.ot(m,e).next(I=>I?I.target:null))}function df(c,e){const r=Fe(c),s=r.ss.get(e)||Qt.min();return r.persistence.runTransaction("Get new document changes","readonly",l=>r.os.getAllFromCollectionGroup(l,e,Yr(s,-1),Number.MAX_SAFE_INTEGER)).then(l=>(Jd(r,e,l),l))}function Jd(c,e,r){let s=c.ss.get(e)||Qt.min();r.forEach((l,m)=>{m.readTime.compareTo(s)>0&&(s=m.readTime)}),c.ss.set(e,s)}function Uc(){return(Uc=(0,f.Z)(function*(c,e,r,s){const l=Fe(c);let m=pr(),I=Vr();for(const J of r){const he=e.Ps(J.metadata.name);J.document&&(m=m.add(he));const Me=e.Is(J);Me.setReadTime(e.Ts(J.metadata.readTime)),I=I.insert(he,Me)}const P=l.os.newChangeBuffer({trackRemovals:!0}),L=yield Bl(l,(he=s,_i(ze(xn.fromString(`__bundle__/docs/${he}`)))));var he;return l.persistence.runTransaction("Apply bundle documents","readwrite",J=>Lu(J,P,I).next(he=>(P.apply(J),he)).next(he=>l.Qr.removeMatchingKeysForTargetId(J,L.targetId).next(()=>l.Qr.addMatchingKeys(J,m,L.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(J,he.cs,he.ls)).next(()=>he.cs)))})).apply(this,arguments)}function Hl(c,e){return hf.apply(this,arguments)}function hf(){return(hf=(0,f.Z)(function*(c,e,r=pr()){const s=yield Bl(c,_i(No(e.bundledQuery))),l=Fe(c);return l.persistence.runTransaction("Save named query","readwrite",m=>{const I=ki(e.readTime);if(s.snapshotVersion.compareTo(I)>=0)return l.$r.saveNamedQuery(m,e);const P=s.withResumeToken(Di.EMPTY_BYTE_STRING,I);return l.ns=l.ns.insert(P.targetId,P),l.Qr.updateTargetData(m,P).next(()=>l.Qr.removeMatchingKeysForTargetId(m,s.targetId)).next(()=>l.Qr.addMatchingKeys(m,r,s.targetId)).next(()=>l.$r.saveNamedQuery(m,e))})})).apply(this,arguments)}function Bc(c,e){return`firestore_clients_${c}_${e}`}function Xd(c,e,r){let s=`firestore_mutations_${c}_${r}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Ua(c,e){return`firestore_targets_${c}_${e}`}class zl{constructor(e,r,s,l){this.user=e,this.batchId=r,this.state=s,this.error=l}static Es(e,r,s){const l=JSON.parse(s);let m,I="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return I&&l.error&&(I="string"==typeof l.error.message&&"string"==typeof l.error.code,I&&(m=new te(l.error.code,l.error.message))),I?new zl(e,r,l.state,m):(Ot("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jc{constructor(e,r,s){this.targetId=e,this.state=r,this.error=s}static Es(e,r){const s=JSON.parse(r);let l,m="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return m&&s.error&&(m="string"==typeof s.error.message&&"string"==typeof s.error.code,m&&(l=new te(s.error.code,s.error.message))),m?new jc(e,s.state,l):(Ot("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gl{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Es(e,r){const s=JSON.parse(r);let l="object"==typeof s&&s.activeTargetIds instanceof Array,m=nl();for(let I=0;l&&I<s.activeTargetIds.length;++I)l=Nt(s.activeTargetIds[I]),m=m.add(s.activeTargetIds[I]);return l?new gl(e,m):(Ot("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class ml{constructor(e,r){this.clientId=e,this.onlineState=r}static Es(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new ml(r.clientId,r.onlineState):(Ot("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Bu{constructor(){this.activeTargetIds=nl()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eh{constructor(e,r,s,l,m){this.window=e,this.oi=r,this.persistenceKey=s,this.Vs=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new ii(rn),this.started=!1,this.ys=[];const I=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.ws=Bc(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new Bu),this.bs=new RegExp(`^firestore_clients_${I}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${I}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${I}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(L){return`firestore_bundle_loaded_v2_${L}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,f.Z)(function*(){const r=yield e.syncEngine.Bi();for(const l of r){if(l===e.Vs)continue;const m=e.getItem(Bc(e.persistenceKey,l));if(m){const I=gl.Es(l,m);I&&(e.ps=e.ps.insert(I.clientId,I))}}e.Ms();const s=e.storage.getItem(e.vs);if(s){const l=e.xs(s);l&&e.Os(l)}for(const l of e.ys)e.gs(l);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let r=!1;return this.ps.forEach((s,l)=>{l.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,r,s){this.Ls(e,r,s),this.Bs(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Ua(this.persistenceKey,e));if(s){const l=jc.Es(e,s);l&&(r=l.state)}}return this.ks.As(e),this.Ms(),r}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ua(this.persistenceKey,e))}updateQueryState(e,r,s){this.qs(e,r,s)}handleUserChange(e,r,s){r.forEach(l=>{this.Bs(l)}),this.currentUser=e,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return Ee("SharedClientState","READ",e,r),r}setItem(e,r){Ee("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){Ee("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var r=this;const s=e;if(s.storageArea===this.storage){if(Ee("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ws)return void Ot("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,f.Z)(function*(){if(r.started){if(null!==s.key)if(r.bs.test(s.key)){if(null==s.newValue){const l=r.$s(s.key);return r.Us(l,null)}{const l=r.Ws(s.key,s.newValue);if(l)return r.Us(l.clientId,l)}}else if(r.Ds.test(s.key)){if(null!==s.newValue){const l=r.Gs(s.key,s.newValue);if(l)return r.zs(l)}}else if(r.Cs.test(s.key)){if(null!==s.newValue){const l=r.js(s.key,s.newValue);if(l)return r.Hs(l)}}else if(s.key===r.vs){if(null!==s.newValue){const l=r.xs(s.newValue);if(l)return r.Os(l)}}else if(s.key===r.Ss){const l=function(I){let P=U.oe;if(null!=I)try{const L=JSON.parse(I);Ke("number"==typeof L),P=L}catch(L){Ot("SharedClientState","Failed to read sequence number from WebStorage",L)}return P}(s.newValue);l!==U.oe&&r.sequenceNumberHandler(l)}else if(s.key===r.Fs){const l=r.Js(s.newValue);yield Promise.all(l.map(m=>r.syncEngine.Ys(m)))}}else r.ys.push(s)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,r,s){const l=new zl(this.currentUser,e,r,s),m=Xd(this.persistenceKey,this.currentUser,e);this.setItem(m,l.ds())}Bs(e){const r=Xd(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,r,s){const l=Ua(this.persistenceKey,e),m=new jc(e,r,s);this.setItem(l,m.ds())}Ks(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Fs,r)}$s(e){const r=this.bs.exec(e);return r?r[1]:null}Ws(e,r){const s=this.$s(e);return gl.Es(s,r)}Gs(e,r){const s=this.Ds.exec(e),l=Number(s[1]);return zl.Es(new tt(void 0!==s[2]?s[2]:null),l,r)}js(e,r){const s=this.Cs.exec(e),l=Number(s[1]);return jc.Es(l,r)}xs(e){return ml.Es(e)}Js(e){return JSON.parse(e)}zs(e){var r=this;return(0,f.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Zs(e.batchId,e.state,e.error);Ee("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,r){const s=r?this.ps.insert(e,r):this.ps.remove(e),l=this.Ns(this.ps),m=this.Ns(s),I=[],P=[];return m.forEach(L=>{l.has(L)||I.push(L)}),l.forEach(L=>{m.has(L)||P.push(L)}),this.syncEngine.eo(I,P).then(()=>{this.ps=s})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let r=nl();return e.forEach((s,l)=>{r=r.unionWith(l.activeTargetIds)}),r}}class ff{constructor(){this.no=new Bu,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,s){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Bu,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Hc{io(e){}shutdown(){}}class _l{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let th=null;function pf(){return null===th?th=268435456+Math.round(2147483648*Math.random()):th++,"0x"+th.toString(16)}const T={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class g{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const v="WebChannelConnection";class M extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),m=encodeURIComponent(this.databaseId.database);this.wo=s+"://"+r.host,this.So=`projects/${l}/databases/${m}`,this.bo="(default)"===this.databaseId.database?`project_id=${l}`:`project_id=${l}&database_id=${m}`}get Do(){return!1}Co(r,s,l,m,I){const P=pf(),L=this.vo(r,s.toUriEncodedString());Ee("RestConnection",`Sending RPC '${r}' ${P}:`,L,l);const J={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(J,m,I),this.Mo(r,L,J,l).then(he=>(Ee("RestConnection",`Received RPC '${r}' ${P}: `,he),he),he=>{throw Vt("RestConnection",`RPC '${r}' ${P} failed with error: `,he,"url: ",L,"request:",l),he})}xo(r,s,l,m,I,P){return this.Co(r,s,l,m,I)}Fo(r,s,l){r["X-Goog-Api-Client"]="gl-js/ fire/"+Ge,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((m,I)=>r[I]=m),l&&l.headers.forEach((m,I)=>r[I]=m)}vo(r,s){return`${this.wo}/v1/${s}:${T[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,r,s,l){const m=pf();return new Promise((I,P)=>{const L=new oe;L.setWithCredentials(!0),L.listenOnce(De.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case xe.NO_ERROR:const he=L.getResponseJson();Ee(v,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(he)),I(he);break;case xe.TIMEOUT:Ee(v,`RPC '${e}' ${m} timed out`),P(new te(we.DEADLINE_EXCEEDED,"Request time out"));break;case xe.HTTP_ERROR:const Me=L.getStatus();if(Ee(v,`RPC '${e}' ${m} failed with status:`,Me,"response text:",L.getResponseText()),Me>0){let et=L.getResponseJson();Array.isArray(et)&&(et=et[0]);const Ct=et?.error;if(Ct&&Ct.status&&Ct.message){const qt=function(tn){const Zn=tn.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(Zn)>=0?Zn:we.UNKNOWN}(Ct.status);P(new te(qt,Ct.message))}else P(new te(we.UNKNOWN,"Server responded with status "+L.getStatus()))}else P(new te(we.UNAVAILABLE,"Connection failed."));break;default:Tt()}}finally{Ee(v,`RPC '${e}' ${m} completed.`)}});const J=JSON.stringify(l);Ee(v,`RPC '${e}' ${m} sending request:`,l),L.send(r,"POST",J,s,15)})}Oo(e,r,s){const l=pf(),m=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],I=ke(),P=mt(),L={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},J=this.longPollingOptions.timeoutSeconds;void 0!==J&&(L.longPollingTimeout=Math.round(1e3*J)),this.useFetchStreams&&(L.xmlHttpFactory=new be({})),this.Fo(L.initMessageHeaders,r,s),L.encodeInitMessageHeaders=!0;const he=m.join("");Ee(v,`Creating RPC '${e}' stream ${l}: ${he}`,L);const Me=I.createWebChannel(he,L);let et=!1,Ct=!1;const qt=new g({lo:tn=>{Ct?Ee(v,`Not sending because RPC '${e}' stream ${l} is closed:`,tn):(et||(Ee(v,`Opening RPC '${e}' stream ${l} transport.`),Me.open(),et=!0),Ee(v,`RPC '${e}' stream ${l} sending:`,tn),Me.send(tn))},ho:()=>Me.close()}),dn=(tn,Zn,or)=>{tn.listen(Zn,Qn=>{try{or(Qn)}catch(Mr){setTimeout(()=>{throw Mr},0)}})};return dn(Me,ye.EventType.OPEN,()=>{Ct||(Ee(v,`RPC '${e}' stream ${l} transport opened.`),qt.mo())}),dn(Me,ye.EventType.CLOSE,()=>{Ct||(Ct=!0,Ee(v,`RPC '${e}' stream ${l} transport closed`),qt.po())}),dn(Me,ye.EventType.ERROR,tn=>{Ct||(Ct=!0,Vt(v,`RPC '${e}' stream ${l} transport errored:`,tn),qt.po(new te(we.UNAVAILABLE,"The operation could not be completed")))}),dn(Me,ye.EventType.MESSAGE,tn=>{var Zn;if(!Ct){const or=tn.data[0];Ke(!!or);const Mr=or.error||(null===(Zn=or[0])||void 0===Zn?void 0:Zn.error);if(Mr){Ee(v,`RPC '${e}' stream ${l} received error:`,Mr);const Ti=Mr.status;let qr=function(ot){const gt=Ci[ot];if(void 0!==gt)return Hs(gt)}(Ti),pt=Mr.message;void 0===qr&&(qr=we.INTERNAL,pt="Unknown error status: "+Ti+" with message "+Mr.message),Ct=!0,qt.po(new te(qr,pt)),Me.close()}else Ee(v,`RPC '${e}' stream ${l} received:`,or),qt.yo(or)}}),dn(P,We.STAT_EVENT,tn=>{tn.stat===Ye.PROXY?Ee(v,`RPC '${e}' stream ${l} detected buffering proxy`):tn.stat===Ye.NOPROXY&&Ee(v,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{qt.fo()},0),qt}}function X(){return typeof window<"u"?window:null}function pe(){return typeof document<"u"?document:null}function st(c){return new vu(c,!0)}class Pt{constructor(e,r,s=1e3,l=1.5,m=6e4){this.oi=e,this.timerId=r,this.No=s,this.Lo=l,this.Bo=m,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const r=Math.floor(this.ko+this.Uo()),s=Math.max(0,Date.now()-this.Qo),l=Math.max(0,r-s);l>0&&Ee("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.ko} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,l,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class Jt{constructor(e,r,s,l,m,I,P,L){this.oi=e,this.Go=s,this.zo=l,this.connection=m,this.authCredentialsProvider=I,this.appCheckCredentialsProvider=P,this.listener=L,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Pt(e,r)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,f.Z)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,f.Z)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,r){var s=this;return(0,f.Z)(function*(){s.s_(),s.o_(),s.Yo.cancel(),s.jo++,4!==e?s.Yo.reset():r&&r.code===we.RESOURCE_EXHAUSTED?(Ot(r.toString()),Ot("Using maximum backoff delay to prevent overloading the backend."),s.Yo.Ko()):r&&r.code===we.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.__(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Ao(r)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),r=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.jo===r&&this.u_(s,l)},s=>{e(()=>{const l=new te(we.UNKNOWN,"Fetching auth token failed: "+s.message);return this.c_(l)})})}u_(e,r){const s=this.a_(this.jo);this.stream=this.l_(e,r),this.stream.Po(()=>{s(()=>this.listener.Po())}),this.stream.To(()=>{s(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(l=>{s(()=>this.c_(l))}),this.stream.onMessage(l=>{s(()=>this.onMessage(l))})}e_(){var e=this;this.state=5,this.Yo.$o((0,f.Z)(function*(){e.state=0,e.start()}))}c_(e){return Ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return r=>{this.oi.enqueueAndForget(()=>this.jo===e?r():(Ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fn extends Jt{constructor(e,r,s,l,m,I){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,l,I),this.serializer=m}l_(e,r){return this.connection.Oo("Listen",e,r)}onMessage(e){this.Yo.reset();const r=function Rc(c,e){let r;if("targetChange"in e){const s="NO_CHANGE"===(J=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===J?1:"REMOVE"===J?2:"CURRENT"===J?3:"RESET"===J?4:Tt(),l=e.targetChange.targetIds||[],m=function(J,he){return J.useProto3Json?(Ke(void 0===he||"string"==typeof he),Di.fromBase64String(he||"")):(Ke(void 0===he||he instanceof Buffer||he instanceof Uint8Array),Di.fromUint8Array(he||new Uint8Array))}(c,e.targetChange.resumeToken),I=e.targetChange.cause,P=I&&function(J){const he=void 0===J.code?we.UNKNOWN:Hs(J.code);return new te(he,J.message||"")}(I);r=new Ko(s,l,m,P||null)}else if("documentChange"in e){const s=e.documentChange,l=Ro(c,s.document.name),m=ki(s.document.updateTime),I=s.document.createTime?ki(s.document.createTime):Qt.min(),P=new ci({mapValue:{fields:s.document.fields}}),L=Y.newFoundDocument(l,m,I,P);r=new Mc(s.targetIds||[],s.removedTargetIds||[],L.key,L)}else if("documentDelete"in e){const s=e.documentDelete,l=Ro(c,s.document),m=s.readTime?ki(s.readTime):Qt.min(),I=Y.newNoDocument(l,m);r=new Mc([],s.removedTargetIds||[],I.key,I)}else if("documentRemove"in e){const s=e.documentRemove,l=Ro(c,s.document);r=new Mc([],s.removedTargetIds||[],l,null)}else{if(!("filter"in e))return Tt();{const s=e.filter,{count:l=0,unchangedNames:m}=s,I=new Zs(l,m);r=new Od(s.targetId,I)}}var J;return r}(this.serializer,e),s=function(m){if(!("targetChange"in m))return Qt.min();const I=m.targetChange;return I.targetIds&&I.targetIds.length?Qt.min():I.readTime?ki(I.readTime):Qt.min()}(e);return this.listener.h_(r,s)}P_(e){const r={};r.database=Gr(this.serializer),r.addTarget=function(m,I){let P;const L=I.target;if(P=Za(L)?{documents:Ld(m,L)}:{query:Vd(m,L)._t},P.targetId=I.targetId,I.resumeToken.approximateByteSize()>0){P.resumeToken=kd(m,I.resumeToken);const J=Pc(m,I.expectedCount);null!==J&&(P.expectedCount=J)}else if(I.snapshotVersion.compareTo(Qt.min())>0){P.readTime=xa(m,I.snapshotVersion.toTimestamp());const J=Pc(m,I.expectedCount);null!==J&&(P.expectedCount=J)}return P}(this.serializer,e);const s=function xo(c,e){const r=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.i_(r)}I_(e){const r={};r.database=Gr(this.serializer),r.removeTarget=e,this.i_(r)}}class tr extends Jt{constructor(e,r,s,l,m,I){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,l,I),this.serializer=m,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,r){return this.connection.Oo("Write",e,r)}onMessage(e){if(Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const r=function Ya(c,e){return c&&c.length>0?(Ke(void 0!==e),c.map(r=>function(l,m){let I=ki(l.updateTime?l.updateTime:m);return I.isEqual(Qt.min())&&(I=ki(m)),new ol(I,l.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=ki(e.commitTime);return this.listener.A_(s,r)}return Ke(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Gr(this.serializer),this.i_(e)}d_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>ks(this.serializer,s))};this.i_(r)}}class Zr extends class{}{constructor(e,r,s,l){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=l,this.m_=!1}f_(){if(this.m_)throw new te(we.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,r,s,l){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,I])=>this.connection.Co(e,Fd(r,s),l,m,I)).catch(m=>{throw"FirebaseError"===m.name?(m.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new te(we.UNKNOWN,m.toString())})}xo(e,r,s,l,m){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([I,P])=>this.connection.xo(e,Fd(r,s),l,I,P,m)).catch(I=>{throw"FirebaseError"===I.name?(I.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),I):new te(we.UNKNOWN,I.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class Lo{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Ot(r),this.y_=!1):Ee("OnlineStateTracker",r)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class zc{constructor(e,r,s,l,m){var I=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=m,this.O_.io(P=>{s.enqueueAndForget((0,f.Z)(function*(){var L;rc(I)&&(Ee("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,f.Z)(function*(he){const Me=Fe(he);Me.M_.add(4),yield vl(Me),Me.N_.set("Unknown"),Me.M_.delete(4),yield $c(Me)}),function J(he){return L.apply(this,arguments)})(I))}))}),this.N_=new Lo(s,l)}}function $c(c){return $l.apply(this,arguments)}function $l(){return($l=(0,f.Z)(function*(c){if(rc(c))for(const e of c.x_)yield e(!0)})).apply(this,arguments)}function vl(c){return gf.apply(this,arguments)}function gf(){return(gf=(0,f.Z)(function*(c){for(const e of c.x_)yield e(!1)})).apply(this,arguments)}function yl(c,e){const r=Fe(c);r.F_.has(e.targetId)||(r.F_.set(e.targetId,e),zu(r)?nh(r):Qu(r).Xo()&&ju(r,e))}function ia(c,e){const r=Fe(c),s=Qu(r);r.F_.delete(e),s.Xo()&&Hu(r,e),0===r.F_.size&&(s.Xo()?s.n_():rc(r)&&r.N_.set("Unknown"))}function ju(c,e){if(c.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qt.min())>0){const r=c.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Qu(c).P_(e)}function Hu(c,e){c.L_.xe(e),Qu(c).I_(e)}function nh(c){c.L_=new Po({getRemoteKeysForTarget:e=>c.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>c.F_.get(e)||null,tt:()=>c.datastore.serializer.databaseId}),Qu(c).start(),c.N_.w_()}function zu(c){return rc(c)&&!Qu(c).Zo()&&c.F_.size>0}function rc(c){return 0===Fe(c).M_.size}function Gc(c){c.L_=void 0}function $u(c){return mf.apply(this,arguments)}function mf(){return(mf=(0,f.Z)(function*(c){c.N_.set("Online")})).apply(this,arguments)}function Pg(c){return _f.apply(this,arguments)}function _f(){return(_f=(0,f.Z)(function*(c){c.F_.forEach((e,r)=>{ju(c,e)})})).apply(this,arguments)}function Gu(c,e){return vf.apply(this,arguments)}function vf(){return(vf=(0,f.Z)(function*(c,e){Gc(c),zu(c)?(c.N_.D_(e),nh(c)):c.N_.set("Unknown")})).apply(this,arguments)}function Rg(c,e,r){return Zu.apply(this,arguments)}function Zu(){return Zu=(0,f.Z)(function*(c,e,r){if(c.N_.set("Online"),e instanceof Ko&&2===e.state&&e.cause)try{yield(s=(0,f.Z)(function*(m,I){const P=I.cause;for(const L of I.targetIds)m.F_.has(L)&&(yield m.remoteSyncer.rejectListen(L,P),m.F_.delete(L),m.L_.removeTarget(L))}),function l(m,I){return s.apply(this,arguments)})(c,e)}catch(s){Ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield qu(c,s)}else if(e instanceof Mc?c.L_.Ke(e):e instanceof Od?c.L_.He(e):c.L_.We(e),!r.isEqual(Qt.min()))try{const s=yield bp(c.localStore);r.compareTo(s)>=0&&(yield function(m,I){const P=m.L_.rt(I);return P.targetChanges.forEach((L,J)=>{if(L.resumeToken.approximateByteSize()>0){const he=m.F_.get(J);he&&m.F_.set(J,he.withResumeToken(L.resumeToken,I))}}),P.targetMismatches.forEach((L,J)=>{const he=m.F_.get(L);if(!he)return;m.F_.set(L,he.withResumeToken(Di.EMPTY_BYTE_STRING,he.snapshotVersion)),Hu(m,L);const Me=new Dt(he.target,L,J,he.sequenceNumber);ju(m,Me)}),m.remoteSyncer.applyRemoteEvent(P)}(c,r))}catch(s){Ee("RemoteStore","Failed to raise snapshot:",s),yield qu(c,s)}var s}),Zu.apply(this,arguments)}function qu(c,e,r){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,f.Z)(function*(c,e,r){if(!$n(e))throw e;c.M_.add(1),yield vl(c),c.N_.set("Offline"),r||(r=()=>bp(c.localStore)),c.asyncQueue.enqueueRetryable((0,f.Z)(function*(){Ee("RemoteStore","Retrying IndexedDB access"),yield r(),c.M_.delete(1),yield $c(c)}))})).apply(this,arguments)}function xg(c,e){return e().catch(r=>qu(c,r,e))}function Ku(c){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,f.Z)(function*(c){const e=Fe(c),r=Zc(e);let s=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;Og(e);)try{const l=yield Vc(e.localStore,s);if(null===l){0===e.v_.length&&r.n_();break}s=l.batchId,wp(e,l)}catch(l){yield qu(e,l)}Ng(e)&&kg(e)})).apply(this,arguments)}function Og(c){return rc(c)&&c.v_.length<10}function wp(c,e){c.v_.push(e);const r=Zc(c);r.Xo()&&r.E_&&r.d_(e.mutations)}function Ng(c){return rc(c)&&!Zc(c).Zo()&&c.v_.length>0}function kg(c){Zc(c).start()}function Xm(c){return yf.apply(this,arguments)}function yf(){return(yf=(0,f.Z)(function*(c){Zc(c).V_()})).apply(this,arguments)}function e_(c){return Dp.apply(this,arguments)}function Dp(){return(Dp=(0,f.Z)(function*(c){const e=Zc(c);for(const r of c.v_)e.d_(r.mutations)})).apply(this,arguments)}function Vo(c,e,r){return rh.apply(this,arguments)}function rh(){return(rh=(0,f.Z)(function*(c,e,r){const s=c.v_.shift(),l=Ss.from(s,e,r);yield xg(c,()=>c.remoteSyncer.applySuccessfulWrite(l)),yield Ku(c)})).apply(this,arguments)}function Fg(c,e){return ih.apply(this,arguments)}function ih(){return ih=(0,f.Z)(function*(c,e){var r;e&&Zc(c).E_&&(yield(r=(0,f.Z)(function*(l,m){if(qs(P=m.code)&&P!==we.ABORTED){const I=l.v_.shift();Zc(l).t_(),yield xg(l,()=>l.remoteSyncer.rejectFailedWrite(I.batchId,m)),yield Ku(l)}var P}),function s(l,m){return r.apply(this,arguments)})(c,e)),Ng(c)&&kg(c)}),ih.apply(this,arguments)}function Js(c,e){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,f.Z)(function*(c,e){const r=Fe(c);r.asyncQueue.verifyOperationInProgress(),Ee("RemoteStore","RemoteStore received new credentials");const s=rc(r);r.M_.add(3),yield vl(r),s&&r.N_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.M_.delete(3),yield $c(r)})).apply(this,arguments)}function Ef(c,e){return Af.apply(this,arguments)}function Af(){return(Af=(0,f.Z)(function*(c,e){const r=Fe(c);e?(r.M_.delete(2),yield $c(r)):e||(r.M_.add(2),yield vl(r),r.N_.set("Unknown"))})).apply(this,arguments)}function Qu(c){return c.B_||(c.B_=function(r,s,l){const m=Fe(r);return m.f_(),new Fn(s,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,l)}(c.datastore,c.asyncQueue,{Po:$u.bind(null,c),To:Pg.bind(null,c),Ao:Gu.bind(null,c),h_:Rg.bind(null,c)}),c.x_.push(function(){var e=(0,f.Z)(function*(r){r?(c.B_.t_(),zu(c)?nh(c):c.N_.set("Unknown")):(yield c.B_.stop(),Gc(c))});return function(r){return e.apply(this,arguments)}}())),c.B_}function Zc(c){return c.k_||(c.k_=function(r,s,l){const m=Fe(r);return m.f_(),new tr(s,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,l)}(c.datastore,c.asyncQueue,{Po:()=>Promise.resolve(),To:Xm.bind(null,c),Ao:Fg.bind(null,c),R_:e_.bind(null,c),A_:Vo.bind(null,c)}),c.x_.push(function(){var e=(0,f.Z)(function*(r){r?(c.k_.t_(),yield Ku(c)):(yield c.k_.stop(),c.v_.length>0&&(Ee("RemoteStore",`Stopping write stream with ${c.v_.length} pending writes`),c.v_=[]))});return function(r){return e.apply(this,arguments)}}())),c.k_}class Lg{constructor(e,r,s,l,m){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=l,this.removalCallback=m,this.deferred=new Ie,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(I=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,l,m){const I=Date.now()+s,P=new Lg(e,r,I,l,m);return P.start(s),P}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new te(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zl(c,e){if(Ot("AsyncQueue",`${e}: ${c}`),$n(c))return new te(we.UNAVAILABLE,`${e}: ${c}`);throw c}class Yu{constructor(e){this.comparator=e?(r,s)=>e(r,s)||Yt.comparator(r.key,s.key):(r,s)=>Yt.comparator(r.key,s.key),this.keyedMap=Bi(),this.sortedSet=new ii(this.comparator)}static emptySet(e){return new Yu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Yu)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,m=s.getNext().key;if(!l.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new Yu;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class ic{constructor(){this.q_=new ii(Yt.comparator)}track(e){const r=e.doc.key,s=this.q_.get(r);s?0!==e.type&&3===s.type?this.q_=this.q_.insert(r,e):3===e.type&&1!==s.type?this.q_=this.q_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.q_=this.q_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.q_=this.q_.remove(r):1===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):Tt():this.q_=this.q_.insert(r,e)}Q_(){const e=[];return this.q_.inorderTraversal((r,s)=>{e.push(s)}),e}}class ql{constructor(e,r,s,l,m,I,P,L,J){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=m,this.fromCache=I,this.syncStateChanged=P,this.excludesMetadataChanges=L,this.hasCachedResults=J}static fromInitialDocuments(e,r,s,l,m){const I=[];return r.forEach(P=>{I.push({type:0,doc:P})}),new ql(e,r,Yu.emptySet(r),I,s,l,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Da(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==s[l].type||!r[l].doc.isEqual(s[l].doc))return!1;return!0}}class Sp{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class sh{constructor(){this.queries=new _s(e=>Ac(e),Da),this.onlineState="Unknown",this.z_=new Set}}function Wl(c,e){return vo.apply(this,arguments)}function vo(){return(vo=(0,f.Z)(function*(c,e){const r=Fe(c);let s=3;const l=e.query;let m=r.queries.get(l);m?!m.W_()&&e.G_()&&(s=2):(m=new Sp,s=e.G_()?0:1);try{switch(s){case 0:m.K_=yield r.onListen(l,!0);break;case 1:m.K_=yield r.onListen(l,!1);break;case 2:yield r.onFirstRemoteStoreListen(l)}}catch(I){const P=Zl(I,`Initialization of query '${Sa(e.query)}' failed`);return void e.onError(P)}r.queries.set(l,m),m.U_.push(e),e.j_(r.onlineState),m.K_&&e.H_(m.K_)&&sc(r)})).apply(this,arguments)}function El(c,e){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,f.Z)(function*(c,e){const r=Fe(c),s=e.query;let l=3;const m=r.queries.get(s);if(m){const I=m.U_.indexOf(e);I>=0&&(m.U_.splice(I,1),0===m.U_.length?l=e.G_()?0:1:!m.W_()&&e.G_()&&(l=2))}switch(l){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function Pp(c,e){const r=Fe(c);let s=!1;for(const l of e){const I=r.queries.get(l.query);if(I){for(const P of I.U_)P.H_(l)&&(s=!0);I.K_=l}}s&&sc(r)}function Vg(c,e,r){const s=Fe(c),l=s.queries.get(e);if(l)for(const m of l.U_)m.onError(r);s.queries.delete(e)}function sc(c){c.z_.forEach(e=>{e.next()})}var oh,Kl;(Kl=oh||(oh={})).J_="default",Kl.Cache="cache";class ah{constructor(e,r,s){this.query=e,this.Y_=r,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=s||{}}H_(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)3!==l.type&&s.push(l);e=new ql(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),r=!0):this.ta(e,this.onlineState)&&(this.na(e),r=!0),this.X_=e,r}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let r=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),r=!0),r}ta(e,r){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=ql.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==oh.Cache}}class Ug{constructor(e,r){this.ia=e,this.byteLength=r}sa(){return"metadata"in this.ia}}class ch{constructor(e){this.serializer=e}Ps(e){return Ro(this.serializer,e)}Is(e){return e.metadata.exists?ys(this.serializer,e.document,!1):Y.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return ki(e)}}class lh{constructor(e,r,s){this.oa=e,this.localStore=r,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=t_(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++r;const s=xn.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}aa(e){const r=new Map,s=new ch(this.serializer);for(const l of e)if(l.metadata.queries){const m=s.Ps(l.metadata.name);for(const I of l.metadata.queries){const P=(r.get(I)||pr()).add(m);r.set(I,P)}}return r}complete(){var e=this;return(0,f.Z)(function*(){const r=yield function Cp(c,e,r,s){return Uc.apply(this,arguments)}(e.localStore,new ch(e.serializer),e.documents,e.oa.id),s=e.aa(e.documents);for(const l of e.queries)yield Hl(e.localStore,l,s.get(l.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:r}})()}}function t_(c){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:c.totalDocuments,totalBytes:c.totalBytes}}class Rp{constructor(e){this.key=e}}class If{constructor(e){this.key=e}}class Bg{constructor(e,r){this.query=e,this.la=r,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=pr(),this.mutatedKeys=pr(),this.Ia=oo(e),this.Ta=new Yu(this.Ia)}get Ea(){return this.la}da(e,r){const s=r?r.Aa:new ic,l=r?r.Ta:this.Ta;let m=r?r.mutatedKeys:this.mutatedKeys,I=l,P=!1;const L="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,J="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((he,Me)=>{const et=l.get(he),Ct=ca(this.query,Me)?Me:null,qt=!!et&&this.mutatedKeys.has(et.key),dn=!!Ct&&(Ct.hasLocalMutations||this.mutatedKeys.has(Ct.key)&&Ct.hasCommittedMutations);let tn=!1;et&&Ct?et.data.isEqual(Ct.data)?qt!==dn&&(s.track({type:3,doc:Ct}),tn=!0):this.Ra(et,Ct)||(s.track({type:2,doc:Ct}),tn=!0,(L&&this.Ia(Ct,L)>0||J&&this.Ia(Ct,J)<0)&&(P=!0)):!et&&Ct?(s.track({type:0,doc:Ct}),tn=!0):et&&!Ct&&(s.track({type:1,doc:et}),tn=!0,(L||J)&&(P=!0)),tn&&(Ct?(I=I.add(Ct),m=dn?m.add(he):m.delete(he)):(I=I.delete(he),m=m.delete(he)))}),null!==this.query.limit)for(;I.size>this.query.limit;){const he="F"===this.query.limitType?I.last():I.first();I=I.delete(he.key),m=m.delete(he.key),s.track({type:1,doc:he})}return{Ta:I,Aa:s,Xi:P,mutatedKeys:m}}Ra(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,l){const m=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const I=e.Aa.Q_();I.sort((he,Me)=>function(Ct,qt){const dn=tn=>{switch(tn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt()}};return dn(Ct)-dn(qt)}(he.type,Me.type)||this.Ia(he.doc,Me.doc)),this.Va(s),l=null!=l&&l;const P=r&&!l?this.ma():[],L=0===this.Pa.size&&this.current&&!l?1:0,J=L!==this.ha;return this.ha=L,0!==I.length||J?{snapshot:new ql(this.query,e.Ta,m,I,e.mutatedKeys,0===L,J,!1,!!s&&s.resumeToken.approximateByteSize()>0),fa:P}:{fa:P}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new ic,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(r=>this.la=this.la.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.la=this.la.delete(r)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=pr(),this.Ta.forEach(s=>{this.ga(s.key)&&(this.Pa=this.Pa.add(s.key))});const r=[];return e.forEach(s=>{this.Pa.has(s)||r.push(new If(s))}),this.Pa.forEach(s=>{e.has(s)||r.push(new Rp(s))}),r}pa(e){this.la=e.hs,this.Pa=pr();const r=this.da(e.documents);return this.applyChanges(r,!0)}ya(){return ql.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class jg{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class n_{constructor(e){this.key=e,this.wa=!1}}class bf{constructor(e,r,s,l,m,I){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=l,this.currentUser=m,this.maxConcurrentLimboResolutions=I,this.Sa={},this.ba=new _s(P=>Ac(P),Da),this.Da=new Map,this.Ca=new Set,this.va=new ii(Yt.comparator),this.Fa=new Map,this.Ma=new Lc,this.xa={},this.Oa=new Map,this.Na=di.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function Ql(c,e){return Al.apply(this,arguments)}function Al(){return(Al=(0,f.Z)(function*(c,e,r=!0){const s=sd(c);let l;const m=s.ba.get(e);return m?(s.sharedClientState.addLocalQueryTarget(m.targetId),l=m.view.ya()):l=yield Tf(s,e,r,!0),l})).apply(this,arguments)}function Ju(c,e){return Cf.apply(this,arguments)}function Cf(){return(Cf=(0,f.Z)(function*(c,e){const r=sd(c);yield Tf(r,e,!0,!1)})).apply(this,arguments)}function Tf(c,e,r,s){return sa.apply(this,arguments)}function sa(){return(sa=(0,f.Z)(function*(c,e,r,s){const l=yield Bl(c.localStore,_i(e)),m=l.targetId,I=r?c.sharedClientState.addLocalQueryTarget(m):"not-current";let P;return s&&(P=yield Xu(c,e,m,"current"===I,l.resumeToken)),c.isPrimaryClient&&r&&yl(c.remoteStore,l),P})).apply(this,arguments)}function Xu(c,e,r,s,l){return va.apply(this,arguments)}function va(){return va=(0,f.Z)(function*(c,e,r,s,l){c.Ba=(Me,et,Ct)=>{return(qt=(0,f.Z)(function*(tn,Zn,or,Qn){let Mr=Zn.view.da(or);Mr.Xi&&(Mr=yield Vu(tn.localStore,Zn.query,!1).then(({documents:Qe})=>Zn.view.da(Qe,Mr)));const Ti=Qn&&Qn.targetChanges.get(Zn.targetId),qr=Qn&&null!=Qn.targetMismatches.get(Zn.targetId),pt=Zn.view.applyChanges(Mr,tn.isPrimaryClient,Ti,qr);return Gg(tn,Zn.targetId,pt.fa),pt.snapshot}),function dn(tn,Zn,or,Qn){return qt.apply(this,arguments)})(c,Me,et,Ct);var qt};const m=yield Vu(c.localStore,e,!0),I=new Bg(e,m.hs),P=I.da(m.documents),L=Ka.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==c.onlineState,l),J=I.applyChanges(P,c.isPrimaryClient,L);Gg(c,r,J.fa);const he=new jg(e,r,I);return c.ba.set(e,he),c.Da.has(r)?c.Da.get(r).push(e):c.Da.set(r,[e]),J.snapshot}),va.apply(this,arguments)}function Hg(c,e,r){return Il.apply(this,arguments)}function Il(){return(Il=(0,f.Z)(function*(c,e,r){const s=Fe(c),l=s.ba.get(e),m=s.Da.get(l.targetId);if(m.length>1)return s.Da.set(l.targetId,m.filter(I=>!Da(I,e))),void s.ba.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||(yield Va(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),r&&ia(s.remoteStore,l.targetId),Qs(s,l.targetId)}).catch(Dr))):(Qs(s,l.targetId),yield Va(s.localStore,l.targetId,!0))})).apply(this,arguments)}function zg(c,e){return $g.apply(this,arguments)}function $g(){return($g=(0,f.Z)(function*(c,e){const r=Fe(c),s=r.ba.get(e),l=r.Da.get(s.targetId);r.isPrimaryClient&&1===l.length&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),ia(r.remoteStore,s.targetId))})).apply(this,arguments)}function oc(){return(oc=(0,f.Z)(function*(c,e,r){const s=mh(c);try{const l=yield function(I,P){const L=Fe(I),J=Jn.now(),he=P.reduce((Ct,qt)=>Ct.add(qt.key),pr());let Me,et;return L.persistence.runTransaction("Locally write mutations","readwrite",Ct=>{let qt=Vr(),dn=pr();return L.os.getEntries(Ct,he).next(tn=>{qt=tn,qt.forEach((Zn,or)=>{or.isValidDocument()||(dn=dn.add(Zn))})}).next(()=>L.localDocuments.getOverlayedDocuments(Ct,qt)).next(tn=>{Me=tn;const Zn=[];for(const or of P){const Qn=xt(or,Me.get(or.key).overlayedDocument);null!=Qn&&Zn.push(new Fr(or.key,Qn,re(Qn.value.mapValue),bi.exists(!0)))}return L.mutationQueue.addMutationBatch(Ct,J,Zn,P)}).next(tn=>{et=tn;const Zn=tn.applyToLocalDocumentSet(Me,dn);return L.documentOverlayCache.saveOverlays(Ct,tn.batchId,Zn)})}).then(()=>({batchId:et.batchId,changes:bc(Me)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(I,P,L){let J=I.xa[I.currentUser.toKey()];J||(J=new ii(rn)),J=J.insert(P,L),I.xa[I.currentUser.toKey()]=J}(s,l.batchId,r),yield qc(s,l.changes),yield Ku(s.remoteStore)}catch(l){const m=Zl(l,"Failed to persist write");r.reject(m)}})).apply(this,arguments)}function ya(c,e){return ac.apply(this,arguments)}function ac(){return(ac=(0,f.Z)(function*(c,e){const r=Fe(c);try{const s=yield function _o(c,e){const r=Fe(c),s=e.snapshotVersion;let l=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const I=r.os.newChangeBuffer({trackRemovals:!0});l=r.ns;const P=[];e.targetChanges.forEach((he,Me)=>{const et=l.get(Me);if(!et)return;P.push(r.Qr.removeMatchingKeys(m,he.removedDocuments,Me).next(()=>r.Qr.addMatchingKeys(m,he.addedDocuments,Me)));let Ct=et.withSequenceNumber(m.currentSequenceNumber);var dn,tn,Zn;null!==e.targetMismatches.get(Me)?Ct=Ct.withResumeToken(Di.EMPTY_BYTE_STRING,Qt.min()).withLastLimboFreeSnapshotVersion(Qt.min()):he.resumeToken.approximateByteSize()>0&&(Ct=Ct.withResumeToken(he.resumeToken,s)),l=l.insert(Me,Ct),tn=Ct,Zn=he,(0===(dn=et).resumeToken.approximateByteSize()||tn.snapshotVersion.toMicroseconds()-dn.snapshotVersion.toMicroseconds()>=3e8||Zn.addedDocuments.size+Zn.modifiedDocuments.size+Zn.removedDocuments.size>0)&&P.push(r.Qr.updateTargetData(m,Ct))});let L=Vr(),J=pr();if(e.documentUpdates.forEach(he=>{e.resolvedLimboDocuments.has(he)&&P.push(r.persistence.referenceDelegate.updateLimboDocument(m,he))}),P.push(Lu(m,I,e.documentUpdates).next(he=>{L=he.cs,J=he.ls})),!s.isEqual(Qt.min())){const he=r.Qr.getLastRemoteSnapshotVersion(m).next(Me=>r.Qr.setTargetsMetadata(m,m.currentSequenceNumber,s));P.push(he)}return at.waitFor(P).next(()=>I.apply(m)).next(()=>r.localDocuments.getLocalViewOfDocuments(m,L,J)).next(()=>L)}).then(m=>(r.ns=l,m))}(r.localStore,e);e.targetChanges.forEach((l,m)=>{const I=r.Fa.get(m);I&&(Ke(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?I.wa=!0:l.modifiedDocuments.size>0?Ke(I.wa):l.removedDocuments.size>0&&(Ke(I.wa),I.wa=!1))}),yield qc(r,s,e)}catch(s){yield Dr(s)}})).apply(this,arguments)}function Yl(c,e,r){const s=Fe(c);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const l=[];s.ba.forEach((m,I)=>{const P=I.view.j_(e);P.snapshot&&l.push(P.snapshot)}),function(I,P){const L=Fe(I);L.onlineState=P;let J=!1;L.queries.forEach((he,Me)=>{for(const et of Me.U_)et.j_(P)&&(J=!0)}),J&&sc(L)}(s.eventManager,e),l.length&&s.Sa.h_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function xp(c,e,r){return ed.apply(this,arguments)}function ed(){return(ed=(0,f.Z)(function*(c,e,r){const s=Fe(c);s.sharedClientState.updateQueryState(e,"rejected",r);const l=s.Fa.get(e),m=l&&l.key;if(m){let I=new ii(Yt.comparator);I=I.insert(m,Y.newNoDocument(m,Qt.min()));const P=pr().add(m),L=new Ns(Qt.min(),new Map,new ii(rn),I,P);yield ya(s,L),s.va=s.va.remove(m),s.Fa.delete(e),Zg(s)}else yield Va(s.localStore,e,!1).then(()=>Qs(s,e,r)).catch(Dr)})).apply(this,arguments)}function dh(c,e){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,f.Z)(function*(c,e){const r=Fe(c),s=e.batch.batchId;try{const l=yield function uf(c,e){const r=Fe(c);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),m=r.os.newChangeBuffer({trackRemovals:!0});return function(P,L,J,he){const Me=J.batch,et=Me.keys();let Ct=at.resolve();return et.forEach(qt=>{Ct=Ct.next(()=>he.getEntry(L,qt)).next(dn=>{const tn=J.docVersions.get(qt);Ke(null!==tn),dn.version.compareTo(tn)<0&&(Me.applyToRemoteDocument(dn,J),dn.isValidDocument()&&(dn.setReadTime(J.commitVersion),he.addEntry(dn)))})}),Ct.next(()=>P.mutationQueue.removeMutationBatch(L,Me))}(r,s,e,m).next(()=>m.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(P){let L=pr();for(let J=0;J<P.mutationResults.length;++J)P.mutationResults[J].transformResults.length>0&&(L=L.add(P.batch.mutations[J].key));return L}(e))).next(()=>r.localDocuments.getDocuments(s,l))})}(r.localStore,e);Jl(r,s,null),ph(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield qc(r,l)}catch(l){yield Dr(l)}})).apply(this,arguments)}function hh(c,e,r){return fh.apply(this,arguments)}function fh(){return(fh=(0,f.Z)(function*(c,e,r){const s=Fe(c);try{const l=yield function(I,P){const L=Fe(I);return L.persistence.runTransaction("Reject batch","readwrite-primary",J=>{let he;return L.mutationQueue.lookupMutationBatch(J,P).next(Me=>(Ke(null!==Me),he=Me.keys(),L.mutationQueue.removeMutationBatch(J,Me))).next(()=>L.mutationQueue.performConsistencyCheck(J)).next(()=>L.documentOverlayCache.removeOverlaysForBatchId(J,he,P)).next(()=>L.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(J,he)).next(()=>L.localDocuments.getDocuments(J,he))})}(s.localStore,e);Jl(s,e,r),ph(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield qc(s,l)}catch(l){yield Dr(l)}})).apply(this,arguments)}function Op(){return(Op=(0,f.Z)(function*(c,e){const r=Fe(c);rc(r.remoteStore)||Ee("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(I){const P=Fe(I);return P.persistence.runTransaction("Get highest unacknowledged batch id","readonly",L=>P.mutationQueue.getHighestUnacknowledgedBatchId(L))}(r.localStore);if(-1===s)return void e.resolve();const l=r.Oa.get(s)||[];l.push(e),r.Oa.set(s,l)}catch(s){const l=Zl(s,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}})).apply(this,arguments)}function ph(c,e){(c.Oa.get(e)||[]).forEach(r=>{r.resolve()}),c.Oa.delete(e)}function Jl(c,e,r){const s=Fe(c);let l=s.xa[s.currentUser.toKey()];if(l){const m=l.get(e);m&&(r?m.reject(r):m.resolve(),l=l.remove(e)),s.xa[s.currentUser.toKey()]=l}}function Qs(c,e,r=null){c.sharedClientState.removeLocalQueryTarget(e);for(const s of c.Da.get(e))c.ba.delete(s),r&&c.Sa.ka(s,r);c.Da.delete(e),c.isPrimaryClient&&c.Ma.Vr(e).forEach(s=>{c.Ma.containsKey(s)||wf(c,s)})}function wf(c,e){c.Ca.delete(e.path.canonicalString());const r=c.va.get(e);null!==r&&(ia(c.remoteStore,r),c.va=c.va.remove(e),c.Fa.delete(r),Zg(c))}function Gg(c,e,r){for(const s of r)s instanceof Rp?(c.Ma.addReference(s.key,e),sv(c,s)):s instanceof If?(Ee("SyncEngine","Document no longer in limbo: "+s.key),c.Ma.removeReference(s.key,e),c.Ma.containsKey(s.key)||wf(c,s.key)):Tt()}function sv(c,e){const r=e.key,s=r.path.canonicalString();c.va.get(r)||c.Ca.has(s)||(Ee("SyncEngine","New document in limbo: "+r),c.Ca.add(s),Zg(c))}function Zg(c){for(;c.Ca.size>0&&c.va.size<c.maxConcurrentLimboResolutions;){const e=c.Ca.values().next().value;c.Ca.delete(e);const r=new Yt(xn.fromString(e)),s=c.Na.next();c.Fa.set(s,new n_(r)),c.va=c.va.insert(r,s),yl(c.remoteStore,new Dt(_i(ze(r.path)),s,"TargetPurposeLimboResolution",U.oe))}}function qc(c,e,r){return Np.apply(this,arguments)}function Np(){return Np=(0,f.Z)(function*(c,e,r){const s=Fe(c),l=[],m=[],I=[];var P;s.ba.isEmpty()||(s.ba.forEach((P,L)=>{I.push(s.Ba(L,e,r).then(J=>{if((J||r)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(L.targetId,J&&!J.fromCache?"current":"not-current"),J){l.push(J);const he=lo.Ki(L.targetId,J);m.push(he)}}))}),yield Promise.all(I),s.Sa.h_(l),yield(P=(0,f.Z)(function*(J,he){const Me=Fe(J);try{yield Me.persistence.runTransaction("notifyLocalViewChanges","readwrite",et=>at.forEach(he,Ct=>at.forEach(Ct.qi,qt=>Me.persistence.referenceDelegate.addReference(et,Ct.targetId,qt)).next(()=>at.forEach(Ct.Qi,qt=>Me.persistence.referenceDelegate.removeReference(et,Ct.targetId,qt)))))}catch(et){if(!$n(et))throw et;Ee("LocalStore","Failed to update sequence numbers: "+et)}for(const et of he){const Ct=et.targetId;if(!et.fromCache){const qt=Me.ns.get(Ct),tn=qt.withLastLimboFreeSnapshotVersion(qt.snapshotVersion);Me.ns=Me.ns.insert(Ct,tn)}}}),function L(J,he){return P.apply(this,arguments)})(s.localStore,m))}),Np.apply(this,arguments)}function kp(c,e){return bl.apply(this,arguments)}function bl(){return(bl=(0,f.Z)(function*(c,e){const r=Fe(c);if(!r.currentUser.isEqual(e)){Ee("SyncEngine","User change. New user:",e.toKey());const s=yield cf(r.localStore,e);r.currentUser=e,(m=r).Oa.forEach(P=>{P.forEach(L=>{L.reject(new te(we.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),m.Oa.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield qc(r,s.us)}var m})).apply(this,arguments)}function nd(c,e){const r=Fe(c),s=r.Fa.get(e);if(s&&s.wa)return pr().add(s.key);{let l=pr();const m=r.Da.get(e);if(!m)return l;for(const I of m){const P=r.ba.get(I);l=l.unionWith(P.view.Ea)}return l}}function r_(c,e){return Fp.apply(this,arguments)}function Fp(){return(Fp=(0,f.Z)(function*(c,e){const r=Fe(c),s=yield Vu(r.localStore,e.query,!0),l=e.view.pa(s);return r.isPrimaryClient&&Gg(r,e.targetId,l.fa),l})).apply(this,arguments)}function Lp(c,e){return rd.apply(this,arguments)}function rd(){return(rd=(0,f.Z)(function*(c,e){const r=Fe(c);return df(r.localStore,e).then(s=>qc(r,s))})).apply(this,arguments)}function Df(c,e,r,s){return Sf.apply(this,arguments)}function Sf(){return(Sf=(0,f.Z)(function*(c,e,r,s){const l=Fe(c),m=yield function(P,L){const J=Fe(P),he=Fe(J.mutationQueue);return J.persistence.runTransaction("Lookup mutation documents","readonly",Me=>he.vn(Me,L).next(et=>et?J.localDocuments.getDocuments(Me,et):at.resolve(null)))}(l.localStore,e);var L;null!==m?("pending"===r?yield Ku(l.remoteStore):"acknowledged"===r||"rejected"===r?(Jl(l,e,s||null),ph(l,e),L=e,Fe(Fe(l.localStore).mutationQueue).Mn(L)):Tt(),yield qc(l,m)):Ee("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Cl(){return(Cl=(0,f.Z)(function*(c,e){const r=Fe(c);if(sd(r),mh(r),!0===e&&!0!==r.La){const s=r.sharedClientState.getAllActiveQueryTargets(),l=yield gh(r,s.toArray());r.La=!0,yield Ef(r.remoteStore,!0);for(const m of l)yl(r.remoteStore,m)}else if(!1===e&&!1!==r.La){const s=[];let l=Promise.resolve();r.Da.forEach((m,I)=>{r.sharedClientState.isLocalQueryTarget(I)?s.push(I):l=l.then(()=>(Qs(r,I),Va(r.localStore,I,!0))),ia(r.remoteStore,I)}),yield l,yield gh(r,s),function(I){const P=Fe(I);P.Fa.forEach((L,J)=>{ia(P.remoteStore,J)}),P.Ma.mr(),P.Fa=new Map,P.va=new ii(Yt.comparator)}(r),r.La=!1,yield Ef(r.remoteStore,!1)}})).apply(this,arguments)}function gh(c,e,r){return Mf.apply(this,arguments)}function Mf(){return(Mf=(0,f.Z)(function*(c,e,r){const s=Fe(c),l=[],m=[];for(const I of e){let P;const L=s.Da.get(I);if(L&&0!==L.length){P=yield Bl(s.localStore,_i(L[0]));for(const J of L){const he=s.ba.get(J),Me=yield r_(s,he);Me.snapshot&&m.push(Me.snapshot)}}else{const J=yield Uu(s.localStore,I);P=yield Bl(s.localStore,J),yield Xu(s,Vp(J),I,!1,P.resumeToken)}l.push(P)}return s.Sa.h_(m),l})).apply(this,arguments)}function Vp(c){return ge(c.path,c.collectionGroup,c.orderBy,c.filters,c.limit,"F",c.startAt,c.endAt)}function qg(c){return r=Fe(c).localStore,Fe(Fe(r).persistence).Bi();var r}function Xl(c,e,r,s){return Up.apply(this,arguments)}function Up(){return(Up=(0,f.Z)(function*(c,e,r,s){const l=Fe(c);if(l.La)return void Ee("SyncEngine","Ignoring unexpected query state notification.");const m=l.Da.get(e);if(m&&m.length>0)switch(r){case"current":case"not-current":{const I=yield df(l.localStore,Ic(m[0])),P=Ns.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,Di.EMPTY_BYTE_STRING);yield qc(l,I,P);break}case"rejected":yield Va(l.localStore,e,!0),Qs(l,e,s);break;default:Tt()}})).apply(this,arguments)}function i_(c,e,r){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,f.Z)(function*(c,e,r){const s=sd(c);if(s.La){for(const l of e){if(s.Da.has(l)&&s.sharedClientState.isActiveQueryTarget(l)){Ee("SyncEngine","Adding an already active target "+l);continue}const m=yield Uu(s.localStore,l),I=yield Bl(s.localStore,m);yield Xu(s,Vp(m),I.targetId,!1,I.resumeToken),yl(s.remoteStore,I)}for(const l of r)s.Da.has(l)&&(yield Va(s.localStore,l,!1).then(()=>{ia(s.remoteStore,l),Qs(s,l)}).catch(Dr))}})).apply(this,arguments)}function sd(c){const e=Fe(c);return e.remoteStore.remoteSyncer.applyRemoteEvent=ya.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nd.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xp.bind(null,e),e.Sa.h_=Pp.bind(null,e.eventManager),e.Sa.ka=Vg.bind(null,e.eventManager),e}function mh(c){const e=Fe(c);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dh.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hh.bind(null,e),e}class cc{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,f.Z)(function*(){r.serializer=st(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return nc(this.persistence,new ku,e.initialUser,this.serializer)}createPersistence(e){return new sf(Kd.Hr,this.serializer)}createSharedClientState(e){return new ff}terminate(){var e=this;return(0,f.Z)(function*(){var r,s;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(s=e.indexBackfillerScheduler)||void 0===s||s.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Bp extends cc{constructor(e,r,s){super(),this.Qa=e,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,s=this;return(0,f.Z)(function*(){yield r().call(s,e),yield s.Qa.initialize(s,e),yield mh(s.Qa.syncEngine),yield Ku(s.Qa.remoteStore),yield s.persistence.fi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return nc(this.persistence,new ku,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new Ll(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const s=new H(r,this.persistence);return new K(e.asyncQueue,s)}createPersistence(e){const r=Yd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Ls.withCacheSize(this.cacheSizeBytes):Ls.DEFAULT;return new ji(this.synchronizeTabs,r,e.clientId,s,e.asyncQueue,X(),pe(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new ff}}class Wg extends Bp{constructor(e,r){super(e,r,!1),this.Qa=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,s=this;return(0,f.Z)(function*(){yield r().call(s,e);const l=s.Qa.syncEngine;s.sharedClientState instanceof eh&&(s.sharedClientState.syncEngine={Zs:Df.bind(null,l),Xs:Xl.bind(null,l),eo:i_.bind(null,l),Bi:qg.bind(null,l),Ys:Lp.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.fi(function(){var m=(0,f.Z)(function*(I){yield function id(c,e){return Cl.apply(this,arguments)}(s.Qa.syncEngine,I),s.gcScheduler&&(I&&!s.gcScheduler.started?s.gcScheduler.start():I||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(I&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():I||s.indexBackfillerScheduler.stop())});return function(I){return m.apply(this,arguments)}}())})()}createSharedClientState(e){const r=X();if(!eh.D(r))throw new te(we.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Yd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new eh(r,e.asyncQueue,s,e.clientId,e.initialUser)}}class od{initialize(e,r){var s=this;return(0,f.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>Yl(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=kp.bind(null,s.syncEngine),yield Ef(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new sh}createDatastore(e){const r=st(e.databaseInfo.databaseId),s=new M(e.databaseInfo);return new Zr(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return s=this.localStore,l=this.datastore,m=e.asyncQueue,I=r=>Yl(this.syncEngine,r,0),P=_l.D()?new _l:new Hc,new zc(s,l,m,I,P);var s,l,m,I,P}createSyncEngine(e,r){return function(l,m,I,P,L,J,he){const Me=new bf(l,m,I,P,L,J);return he&&(Me.La=!0),Me}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,f.Z)(function*(){var r,s;yield(s=(0,f.Z)(function*(m){const I=Fe(m);Ee("RemoteStore","RemoteStore shutting down."),I.M_.add(5),yield vl(I),I.O_.shutdown(),I.N_.set("Unknown")}),function l(m){return s.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}function Pf(c,e=10240){let r=0;return{read:()=>(0,f.Z)(function*(){if(r<c.byteLength){const s={value:c.slice(r,r+e),done:!1};return r+=e,s}return{done:!0}})(),cancel:()=>(0,f.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Rf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Ot("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class _h{constructor(e,r){this.Ua=e,this.serializer=r,this.metadata=new Ie,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(s=>{s&&s.sa()?this.metadata.resolve(s.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.ia)}`))},s=>this.metadata.reject(s))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,f.Z)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,f.Z)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,f.Z)(function*(){const r=yield e.za();if(null===r)return null;const s=e.Wa.decode(r),l=Number(s);isNaN(l)&&e.ja(`length string (${s}) is not valid number`);const m=yield e.Ha(l);return new Ug(JSON.parse(m),r.length+l)})()}Ja(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}za(){var e=this;return(0,f.Z)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const r=e.Ja();r<0&&e.ja("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),s})()}Ha(e){var r=this;return(0,f.Z)(function*(){for(;r.buffer.length<e;)(yield r.Ya())&&r.ja("Reached the end of bundle when more is expected.");const s=r.Wa.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),s})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,f.Z)(function*(){const r=yield e.Ua.read();if(!r.done){const s=new Uint8Array(e.buffer.length+r.value.length);s.set(e.buffer),s.set(r.value,e.buffer.length),e.buffer=s}return r.done})()}}class jp{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,f.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new te(we.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const s=yield(l=(0,f.Z)(function*(I,P){const L=Fe(I),J={documents:P.map(Ct=>Eu(L.serializer,Ct))},he=yield L.xo("BatchGetDocuments",L.serializer.databaseId,xn.emptyPath(),J,P.length),Me=new Map;he.forEach(Ct=>{const qt=function Zi(c,e){return"found"in e?function(s,l){Ke(!!l.found);const m=Ro(s,l.found.name),I=ki(l.found.updateTime),P=l.found.createTime?ki(l.found.createTime):Qt.min(),L=new ci({mapValue:{fields:l.found.fields}});return Y.newFoundDocument(m,I,P,L)}(c,e):"missing"in e?function(s,l){Ke(!!l.missing),Ke(!!l.readTime);const m=Ro(s,l.missing),I=ki(l.readTime);return Y.newNoDocument(m,I)}(c,e):Tt()}(L.serializer,Ct);Me.set(qt.key.toString(),qt)});const et=[];return P.forEach(Ct=>{const qt=Me.get(Ct.toString());Ke(!!qt),et.push(qt)}),et}),function m(I,P){return l.apply(this,arguments)})(r.datastore,e);var l;return s.forEach(l=>r.recordVersion(l)),s})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new pi(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,f.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var s;e.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,l)=>{const m=Yt.fromPath(l);e.mutations.push(new Qr(m,e.precondition(m)))}),yield(s=(0,f.Z)(function*(m,I){const P=Fe(m),L={writes:I.map(J=>ks(P.serializer,J))};yield P.Co("Commit",P.serializer.databaseId,xn.emptyPath(),L)}),function l(m,I){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw Tt();r=Qt.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!r.isEqual(s))throw new te(we.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Qt.min())?bi.exists(!1):bi.updateTime(r):bi.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Qt.min()))throw new te(we.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bi.updateTime(r)}return bi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class xf{constructor(e,r,s,l,m){this.asyncQueue=e,this.datastore=r,this.options=s,this.updateFunction=l,this.deferred=m,this.Za=s.maxAttempts,this.Yo=new Pt(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Yo.$o((0,f.Z)(function*(){const r=new jp(e.datastore),s=e.tu(r);s&&s.then(l=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(l)}).catch(m=>{e.nu(m)}))}).catch(l=>{e.nu(l)})}))}tu(e){try{const r=this.updateFunction(e);return!Te(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!qs(r)}return!1}}class o_{constructor(e,r,s,l){var m=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=l,this.user=tt.UNAUTHENTICATED,this.clientId=Nn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var I=(0,f.Z)(function*(P){Ee("FirestoreClient","Received user=",P.uid),yield m.authCredentialListener(P),m.user=P});return function(P){return I.apply(this,arguments)}}()),this.appCheckCredentials.start(s,I=>(Ee("FirestoreClient","Received new app check token=",I),this.appCheckCredentialListener(I,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te(we.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Ie;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,f.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const l=Zl(s,"Failed to shutdown persistence");r.reject(l)}})),r.promise}}function vh(c,e){return ad.apply(this,arguments)}function ad(){return ad=(0,f.Z)(function*(c,e){c.asyncQueue.verifyOperationInProgress(),Ee("FirestoreClient","Initializing OfflineComponentProvider");const r=c.configuration;yield e.initialize(r);let s=r.initialUser;c.setCredentialChangeListener(function(){var l=(0,f.Z)(function*(m){s.isEqual(m)||(yield cf(e.localStore,m),s=m)});return function(m){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>c.terminate()),c._offlineComponents=e}),ad.apply(this,arguments)}function lc(c,e){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,f.Z)(function*(c,e){c.asyncQueue.verifyOperationInProgress();const r=yield Of(c);Ee("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,c.configuration),c.setCredentialChangeListener(s=>Js(e.remoteStore,s)),c.setAppCheckTokenChangeListener((s,l)=>Js(e.remoteStore,l)),c._onlineComponents=e})).apply(this,arguments)}function Kg(c){return"FirebaseError"===c.name?c.code===we.FAILED_PRECONDITION||c.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code}function Of(c){return Nf.apply(this,arguments)}function Nf(){return(Nf=(0,f.Z)(function*(c){if(!c._offlineComponents)if(c._uninitializedComponentsProvider){Ee("FirestoreClient","Using user provided OfflineComponentProvider");try{yield vh(c,c._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!Kg(r))throw r;Vt("Error using user provided cache. Falling back to memory cache: "+r),yield vh(c,new cc)}}else Ee("FirestoreClient","Using default OfflineComponentProvider"),yield vh(c,new cc);return c._offlineComponents})).apply(this,arguments)}function kf(c){return Ff.apply(this,arguments)}function Ff(){return(Ff=(0,f.Z)(function*(c){return c._onlineComponents||(c._uninitializedComponentsProvider?(Ee("FirestoreClient","Using user provided OnlineComponentProvider"),yield lc(c,c._uninitializedComponentsProvider._online)):(Ee("FirestoreClient","Using default OnlineComponentProvider"),yield lc(c,new od))),c._onlineComponents})).apply(this,arguments)}function Qg(c){return Of(c).then(e=>e.persistence)}function eu(c){return Of(c).then(e=>e.localStore)}function Lf(c){return kf(c).then(e=>e.remoteStore)}function Yg(c){return kf(c).then(e=>e.syncEngine)}function tu(c){return Hp.apply(this,arguments)}function Hp(){return(Hp=(0,f.Z)(function*(c){const e=yield kf(c),r=e.eventManager;return r.onListen=Ql.bind(null,e.syncEngine),r.onUnlisten=Hg.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Ju.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=zg.bind(null,e.syncEngine),r})).apply(this,arguments)}function zp(c,e,r={}){const s=new Ie;return c.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(m,I,P,L,J){const he=new Rf({next:et=>{I.enqueueAndForget(()=>El(m,Me));const Ct=et.docs.has(P);!Ct&&et.fromCache?J.reject(new te(we.UNAVAILABLE,"Failed to get document because the client is offline.")):Ct&&et.fromCache&&L&&"server"===L.source?J.reject(new te(we.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):J.resolve(et)},error:et=>J.reject(et)}),Me=new ah(ze(P.path),he,{includeMetadataChanges:!0,ra:!0});return Wl(m,Me)}(yield tu(c),c.asyncQueue,e,r,s)})),s.promise}function $p(c,e,r={}){const s=new Ie;return c.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(m,I,P,L,J){const he=new Rf({next:et=>{I.enqueueAndForget(()=>El(m,Me)),et.fromCache&&"server"===L.source?J.reject(new te(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):J.resolve(et)},error:et=>J.reject(et)}),Me=new ah(P,he,{includeMetadataChanges:!0,ra:!0});return Wl(m,Me)}(yield tu(c),c.asyncQueue,e,r,s)})),s.promise}function Aa(c){const e={};return void 0!==c.timeoutSeconds&&(e.timeoutSeconds=c.timeoutSeconds),e}const Uf=new Map;function ru(c,e,r){if(!r)throw new te(we.INVALID_ARGUMENT,`Function ${c}() cannot be called with an empty ${e}.`)}function Bf(c,e,r,s){if(!0===e&&!0===s)throw new te(we.INVALID_ARGUMENT,`${c} and ${r} cannot be used together.`)}function Gp(c){if(!Yt.isDocumentKey(c))throw new te(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${c} has ${c.length}.`)}function f_(c){if(Yt.isDocumentKey(c))throw new te(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${c} has ${c.length}.`)}function Ah(c){if(void 0===c)return"undefined";if(null===c)return"null";if("string"==typeof c)return c.length>20&&(c=`${c.substring(0,20)}...`),JSON.stringify(c);if("number"==typeof c||"boolean"==typeof c)return""+c;if("object"==typeof c){if(c instanceof Array)return"an array";{const e=(s=c).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof c?"a function":Tt()}function Nr(c,e){if("_delegate"in c&&(c=c._delegate),!(c instanceof e)){if(e.name===c.constructor.name)throw new te(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Ah(c);throw new te(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return c}function cd(c,e){if(e<=0)throw new te(we.INVALID_ARGUMENT,`Function ${c}() requires a positive number, but it was: ${e}.`)}class ld{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new te(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new te(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Bf("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Aa(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(m){if(void 0!==m.timeoutSeconds){if(isNaN(m.timeoutSeconds))throw new te(we.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (must not be NaN)`);if(m.timeoutSeconds<5)throw new te(we.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (minimum allowed value is 5)`);if(m.timeoutSeconds>30)throw new te(we.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ud{constructor(e,r,s,l){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ld({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new te(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new te(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ld(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new je;switch(s.type){case"firstParty":return new Gt(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new te(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=Uf.get(r);s&&(Ee("ComponentProvider","Removing Datastore"),Uf.delete(r),s.terminate())}(this),Promise.resolve()}}function Ih(c,e,r,s={}){var l;const m=(c=Nr(c,ud))._getSettings(),I=`${e}:${r}`;if("firestore.googleapis.com"!==m.host&&m.host!==I&&Vt("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),c._setSettings(Object.assign(Object.assign({},m),{host:I,ssl:!1})),s.mockUserToken){let P,L;if("string"==typeof s.mockUserToken)P=s.mockUserToken,L=tt.MOCK_USER;else{P=(0,me.Sg)(s.mockUserToken,null===(l=c._app)||void 0===l?void 0:l.options.projectId);const J=s.mockUserToken.sub||s.mockUserToken.user_id;if(!J)throw new te(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");L=new tt(J)}c._authCredentials=new it(new Pe(P,L))}}class Us{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Us(this.firestore,e,this._query)}}class hs{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hs(this.firestore,e,this._key)}}class Es extends Us{constructor(e,r,s){super(e,r,ze(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hs(this.firestore,null,new Yt(e))}withConverter(e){return new Es(this.firestore,e,this._path)}}function iu(c,e,...r){if(c=(0,me.m9)(c),ru("collection","path",e),c instanceof ud){const s=xn.fromString(e,...r);return f_(s),new Es(c,null,s)}{if(!(c instanceof hs||c instanceof Es))throw new te(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=c._path.child(xn.fromString(e,...r));return f_(s),new Es(c.firestore,null,s)}}function jf(c,e){if(c=Nr(c,ud),ru("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new te(we.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Us(c,null,(s=e,new F(xn.emptyPath(),s)));var s}function p_(c,e,...r){if(c=(0,me.m9)(c),1===arguments.length&&(e=Nn.newId()),ru("doc","path",e),c instanceof ud){const s=xn.fromString(e,...r);return Gp(s),new hs(c,null,new Yt(s))}{if(!(c instanceof hs||c instanceof Es))throw new te(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=c._path.child(xn.fromString(e,...r));return Gp(s),new hs(c.firestore,c instanceof Es?c.converter:null,new Yt(s))}}function Hf(c,e){return c=(0,me.m9)(c),e=(0,me.m9)(e),(c instanceof hs||c instanceof Es)&&(e instanceof hs||e instanceof Es)&&c.firestore===e.firestore&&c.path===e.path&&c.converter===e.converter}function Zp(c,e){return c=(0,me.m9)(c),e=(0,me.m9)(e),c instanceof Us&&e instanceof Us&&c.firestore===e.firestore&&Da(c._query,e._query)&&c.converter===e.converter}class zf{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Pt(this,"async_queue_retry"),this.hu=()=>{const r=pe();r&&Ee("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Yo.Wo()};const e=pe();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const r=pe();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const r=new Ie;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,f.Z)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(r){if(!$n(r))throw r;Ee("AsyncQueue","Operation failed with retryable error: "+r)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const r=this.iu.then(()=>(this.uu=!0,e().catch(s=>{throw this.au=s,this.uu=!1,Ot("INTERNAL UNHANDLED ERROR: ",function(I){let P=I.message||"";return I.stack&&(P=I.stack.includes(I.message)?I.stack:I.message+"\n"+I.stack),P}(s)),s}).then(s=>(this.uu=!1,s))));return this.iu=r,r}enqueueAfterDelay(e,r,s){this.Pu(),this.lu.indexOf(e)>-1&&(r=0);const l=Lg.createAndSchedule(this,e,r,s,m=>this.Eu(m));return this._u.push(l),l}Pu(){this.au&&Tt()}verifyOperationInProgress(){}du(){var e=this;return(0,f.Z)(function*(){let r;do{r=e.iu,yield r}while(r!==e.iu)})()}Au(e){for(const r of this._u)if(r.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this._u)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const r=this._u.indexOf(e);this._u.splice(r,1)}}function su(c){return function(r,s){if("object"!=typeof r||null===r)return!1;const l=r;for(const m of["next","error","complete"])if(m in l&&"function"==typeof l[m])return!0;return!1}(c)}class em{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ie,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,s){this._progressObserver={next:e,error:r,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const ou=-1;class Si extends ud{constructor(e,r,s,l){super(e,r,s,l),this.type="firestore",this._queue=new zf,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||$f(this),this._firestoreClient.terminate()}}function bh(c,e){const r="object"==typeof c?c:(0,o.getApp)(),s="string"==typeof c?c:e||"(default)",l=(0,o._getProvider)(r,"firestore").getImmediate({identifier:s});if(!l._initialized){const m=(0,me.P0)("firestore");m&&Ih(l,...m)}return l}function is(c){return c._firestoreClient||$f(c),c._firestoreClient.verifyNotTerminated(),c._firestoreClient}function $f(c){var e,r,s;const l=c._freezeSettings(),m=(L=(null===(e=c._app)||void 0===e?void 0:e.options.appId)||"",new po(c._databaseId,L,c._persistenceKey,(he=l).host,he.ssl,he.experimentalForceLongPolling,he.experimentalAutoDetectLongPolling,Aa(he.experimentalLongPollingOptions),he.useFetchStreams));var L,he;c._firestoreClient=new o_(c._authCredentials,c._appCheckCredentials,c._queue,m),null!==(r=l.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(s=l.localCache)&&void 0!==s&&s._onlineComponentProvider&&(c._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.localCache.kind,_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider})}function Gf(c,e){rm(c=Nr(c,Si));const r=is(c);if(r._uninitializedComponentsProvider)throw new te(we.FAILED_PRECONDITION,"SDK cache is already specified.");Vt("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=c._freezeSettings(),l=new od;return Tl(r,l,new Bp(l,s.cacheSizeBytes,e?.forceOwnership))}function uc(c){rm(c=Nr(c,Si));const e=is(c);if(e._uninitializedComponentsProvider)throw new te(we.FAILED_PRECONDITION,"SDK cache is already specified.");Vt("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=c._freezeSettings(),s=new od;return Tl(e,s,new Wg(s,r.cacheSizeBytes))}function Tl(c,e,r){const s=new Ie;return c.asyncQueue.enqueue((0,f.Z)(function*(){try{yield vh(c,r),yield lc(c,e),s.resolve()}catch(l){const m=l;if(!Kg(m))throw m;Vt("Error enabling indexeddb cache. Falling back to memory cache: "+m),s.reject(m)}})).then(()=>s.promise)}function dd(c){if(c._initialized&&!c._terminated)throw new te(we.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ie;return c._queue.enqueueAndForgetEvenWhileRestricted((0,f.Z)(function*(){try{yield(r=(0,f.Z)(function*(l){if(!ue.D())return Promise.resolve();const m=l+"main";yield ue.delete(m)}),function s(l){return r.apply(this,arguments)})(Yd(c._databaseId,c._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function nm(c){return function(r){const s=new Ie;return r.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function td(c,e){return Op.apply(this,arguments)}(yield Yg(r),s)})),s.promise}(is(c=Nr(c,Si)))}function g_(c){return function c_(c){return c.asyncQueue.enqueue((0,f.Z)(function*(){const e=yield Qg(c),r=yield Lf(c);return e.setNetworkEnabled(!0),function(l){const m=Fe(l);return m.M_.delete(0),$c(m)}(r)}))}(is(c=Nr(c,Si)))}function qp(c){return function Jg(c){return c.asyncQueue.enqueue((0,f.Z)(function*(){const e=yield Qg(c),r=yield Lf(c);return e.setNetworkEnabled(!1),(s=(0,f.Z)(function*(m){const I=Fe(m);I.M_.add(0),yield vl(I),I.N_.set("Offline")}),function l(m){return s.apply(this,arguments)})(r);var s}))}(is(c=Nr(c,Si)))}function m_(c,e){const r=is(c=Nr(c,Si)),s=new em;return function nu(c,e,r,s){const l=function(I,P){let L;return L="string"==typeof I?Dc().encode(I):I,he=function(he,Me){if(he instanceof Uint8Array)return Pf(he,void 0);if(he instanceof ArrayBuffer)return Pf(new Uint8Array(he),void 0);if(he instanceof ReadableStream)return he.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(L),new _h(he,P);var he}(r,st(e));c.asyncQueue.enqueueAndForget((0,f.Z)(function*(){!function Ea(c,e,r){const s=Fe(c);var l;(l=(0,f.Z)(function*(I,P,L){try{const J=yield P.getMetadata();if(yield function(qt,dn){const tn=Fe(qt),Zn=ki(dn.createTime);return tn.persistence.runTransaction("hasNewerBundle","readonly",or=>tn.$r.getBundleMetadata(or,dn.id)).then(or=>!!or&&or.createTime.compareTo(Zn)>=0)}(I.localStore,J))return yield P.close(),L._completeWith({taskState:"Success",documentsLoaded:(qt=J).totalDocuments,bytesLoaded:qt.totalBytes,totalDocuments:qt.totalDocuments,totalBytes:qt.totalBytes}),Promise.resolve(new Set);L._updateProgress(t_(J));const he=new lh(J,I.localStore,P.serializer);let Me=yield P.qa();for(;Me;){const Ct=yield he._a(Me);Ct&&L._updateProgress(Ct),Me=yield P.qa()}const et=yield he.complete();return yield qc(I,et.ca,void 0),yield function(qt,dn){const tn=Fe(qt);return tn.persistence.runTransaction("Save bundle","readwrite",Zn=>tn.$r.saveBundleMetadata(Zn,dn))}(I.localStore,J),L._completeWith(et.progress),Promise.resolve(et.ua)}catch(J){return Vt("SyncEngine",`Loading bundle failed with ${J}`),L._failWith(J),Promise.resolve(new Set)}var qt}),function m(I,P,L){return l.apply(this,arguments)})(s,e,r).then(l=>{s.sharedClientState.notifyBundleLoaded(l)})}(yield Yg(c),l,s)}))}(r,c._databaseId,e,s),s}function __(c,e){return function d_(c,e){return c.asyncQueue.enqueue((0,f.Z)(function*(){return function(s,l){const m=Fe(s);return m.persistence.runTransaction("Get named query","readonly",I=>m.$r.getNamedQuery(I,l))}(yield eu(c),e)}))}(is(c=Nr(c,Si)),e).then(r=>r?new Us(c,null,r.query):null)}function rm(c){if(c._initialized||c._terminated)throw new te(we.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Qc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qc(Di.fromBase64String(e))}catch(r){throw new te(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Qc(Di.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ja{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new te(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hd{constructor(e){this._methodName=e}}class Kp{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new te(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new te(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rn(this._lat,e._lat)||rn(this._long,e._long)}}const ov=/^__.*__$/;class av{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new Fr(e,this.data,this.fieldMask,r,this.fieldTransforms):new Pn(e,this.data,r,this.fieldTransforms)}}class sm{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new Fr(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function wl(c){switch(c){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt()}}class ss{constructor(e,r,s,l,m,I){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=l,void 0===m&&this.mu(),this.fieldTransforms=m||[],this.fieldMask=I||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new ss(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),l=this.gu({path:s,yu:!1});return l.wu(e),l}Su(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),l=this.gu({path:s,yu:!1});return l.mu(),l}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Rh(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(wl(this.fu)&&ov.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class fd{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||st(e)}Fu(e,r,s,l=!1){return new ss({fu:e,methodName:r,vu:s,path:sr.emptyPath(),yu:!1,Cu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ha(c){const e=c._freezeSettings(),r=st(c._databaseId);return new fd(c._databaseId,!!e.ignoreUndefinedProperties,r)}function Th(c,e,r,s,l,m={}){const I=c.Fu(m.merge||m.mergeFields?2:0,e,r,l);om("Data must be an object, but it was:",I,s);const P=Wf(s,I);let L,J;if(m.merge)L=new Vi(I.fieldMask),J=I.fieldTransforms;else if(m.mergeFields){const he=[];for(const Me of m.mergeFields){const et=Ph(e,Me,r);if(!I.contains(et))throw new te(we.INVALID_ARGUMENT,`Field '${et}' is specified in your field mask but missing from your input data.`);am(he,et)||he.push(et)}L=new Vi(he),J=I.fieldTransforms.filter(Me=>L.covers(Me.field))}else L=null,J=I.fieldTransforms;return new av(new ci(P),L,J)}class dc extends hd{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dc}}function pd(c,e,r){return new ss({fu:3,vu:e.settings.vu,methodName:c._methodName,yu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class wh extends hd{_toFieldTransform(e){return new ha(e.path,new wc)}isEqual(e){return e instanceof wh}}class cu extends hd{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=pd(this,e,!0),s=this.Mu.map(m=>Sh(m,r)),l=new Go(s);return new ha(e.path,l)}isEqual(e){return e instanceof cu&&(0,me.vZ)(this.Mu,e.Mu)}}class gd extends hd{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=pd(this,e,!0),s=this.Mu.map(m=>Sh(m,r)),l=new So(s);return new ha(e.path,l)}isEqual(e){return e instanceof gd&&(0,me.vZ)(this.Mu,e.Mu)}}class Dl extends hd{constructor(e,r){super(e),this.xu=r}_toFieldTransform(e){const r=new Ra(e.serializer,zo(e.serializer,this.xu));return new ha(e.path,r)}isEqual(e){return e instanceof Dl&&this.xu===e.xu}}function Dh(c,e,r,s){const l=c.Fu(1,e,r);om("Data must be an object, but it was:",l,s);const m=[],I=ci.empty();fs(s,(L,J)=>{const he=Qp(e,L,r);J=(0,me.m9)(J);const Me=l.Su(he);if(J instanceof dc)m.push(he);else{const et=Sh(J,Me);null!=et&&(m.push(he),I.set(he,et))}});const P=new Vi(m);return new sm(I,P,l.fieldTransforms)}function Zf(c,e,r,s,l,m){const I=c.Fu(1,e,r),P=[Ph(e,s,r)],L=[l];if(m.length%2!=0)throw new te(we.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let et=0;et<m.length;et+=2)P.push(Ph(e,m[et])),L.push(m[et+1]);const J=[],he=ci.empty();for(let et=P.length-1;et>=0;--et)if(!am(J,P[et])){const Ct=P[et];let qt=L[et];qt=(0,me.m9)(qt);const dn=I.Su(Ct);if(qt instanceof dc)J.push(Ct);else{const tn=Sh(qt,dn);null!=tn&&(J.push(Ct),he.set(Ct,tn))}}const Me=new Vi(J);return new sm(he,Me,I.fieldTransforms)}function qf(c,e,r,s=!1){return Sh(r,c.Fu(s?4:3,e))}function Sh(c,e){if(Mh(c=(0,me.m9)(c)))return om("Unsupported field value:",e,c),Wf(c,e);if(c instanceof hd)return function(s,l){if(!wl(l.fu))throw l.Du(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Du(`${s._methodName}() is not currently supported inside arrays`);const m=s._toFieldTransform(l);m&&l.fieldTransforms.push(m)}(c,e),null;if(void 0===c&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),c instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(s,l){const m=[];let I=0;for(const P of s){let L=Sh(P,l.bu(I));null==L&&(L={nullValue:"NULL_VALUE"}),m.push(L),I++}return{arrayValue:{values:m}}}(c,e)}return function(s,l){if(null===(s=(0,me.m9)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return zo(l.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const m=Jn.fromDate(s);return{timestampValue:xa(l.serializer,m)}}if(s instanceof Jn){const m=new Jn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:xa(l.serializer,m)}}if(s instanceof Kp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Qc)return{bytesValue:kd(l.serializer,s._byteString)};if(s instanceof hs){const m=l.databaseId,I=s.firestore._databaseId;if(!I.isEqual(m))throw l.Du(`Document reference is for database ${I.projectId}/${I.database} but should be for database ${m.projectId}/${m.database}`);return{referenceValue:Oa(s.firestore._databaseId||l.databaseId,s._key.path)}}throw l.Du(`Unsupported field value: ${Ah(s)}`)}(c,e)}function Wf(c,e){const r={};return Ys(c)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fs(c,(s,l)=>{const m=Sh(l,e.pu(s));null!=m&&(r[s]=m)}),{mapValue:{fields:r}}}function Mh(c){return!("object"!=typeof c||null===c||c instanceof Array||c instanceof Date||c instanceof Jn||c instanceof Kp||c instanceof Qc||c instanceof hs||c instanceof hd)}function om(c,e,r){if(!Mh(r)||"object"!=typeof(l=r)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const s=Ah(r);throw e.Du("an object"===s?c+" a custom object":c+" "+s)}var l}function Ph(c,e,r){if((e=(0,me.m9)(e))instanceof ja)return e._internalPath;if("string"==typeof e)return Qp(c,e);throw Rh("Field path arguments must be of type string or ",c,!1,void 0,r)}const cv=new RegExp("[~\\*/\\[\\]]");function Qp(c,e,r){if(e.search(cv)>=0)throw Rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,c,!1,void 0,r);try{return new ja(...e.split("."))._internalPath}catch{throw Rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,c,!1,void 0,r)}}function Rh(c,e,r,s,l){const m=s&&!s.isEmpty(),I=void 0!==l;let P=`Function ${e}() called with invalid data`;r&&(P+=" (via `toFirestore()`)"),P+=". ";let L="";return(m||I)&&(L+=" (found",m&&(L+=` in field ${s}`),I&&(L+=` in document ${l}`),L+=")"),new te(we.INVALID_ARGUMENT,P+c+L)}function am(c,e){return c.some(r=>r.isEqual(e))}class Kf{constructor(e,r,s,l,m){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=l,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new hs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new cm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(xh("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class cm extends Kf{data(){return super.data()}}function xh(c,e){return"string"==typeof e?Qp(c,e):e instanceof ja?e._internalPath:e._delegate._internalPath}function Qf(c){if("L"===c.limitType&&0===c.explicitOrderBy.length)throw new te(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Oh{}class Yc extends Oh{}function v_(c,e,...r){let s=[];e instanceof Oh&&s.push(e),s=s.concat(r),function(m){const I=m.filter(L=>L instanceof Sl).length,P=m.filter(L=>L instanceof md).length;if(I>1||I>0&&P>0)throw new te(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)c=l._apply(c);return c}class md extends Yc{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new md(e,r,s)}_apply(e){const r=this._parse(e);return fm(e._query,r),new Us(e.firestore,e.converter,Ec(e._query,r))}_parse(e){const r=Ha(e.firestore);return function(m,I,P,L,J,he,Me){let et;if(J.isKeyField()){if("array-contains"===he||"array-contains-any"===he)throw new te(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${he}' queries on documentId().`);if("in"===he||"not-in"===he){hm(Me,he);const Ct=[];for(const qt of Me)Ct.push(I_(L,m,qt));et={arrayValue:{values:Ct}}}else et=I_(L,m,Me)}else"in"!==he&&"not-in"!==he&&"array-contains-any"!==he||hm(Me,he),et=qf(P,"where",Me,"in"===he||"not-in"===he);return Kt.create(J,he,et)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function lm(c,e,r){const s=e,l=xh("where",c);return md._create(l,s,r)}class Sl extends Oh{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Sl(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:An.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(l,m){let I=l;const P=m.getFlattenedFilters();for(const L of P)fm(I,L),I=Ec(I,L)}(e._query,r),new Us(e.firestore,e.converter,Ec(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class um extends Yc{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new um(e,r)}_apply(e){const r=function(l,m,I){if(null!==l.startAt)throw new te(we.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new te(we.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lt(m,I)}(e._query,this._field,this._direction);return new Us(e.firestore,e.converter,function(l,m){const I=l.explicitOrderBy.concat([m]);return new F(l.path,l.collectionGroup,I,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,r))}}function y_(c,e="asc"){const r=e,s=xh("orderBy",c);return um._create(s,r)}class dm extends Yc{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new dm(e,r,s)}_apply(e){return new Us(e.firestore,e.converter,qa(e._query,this._limit,this._limitType))}}function dv(c){return cd("limit",c),dm._create("limit",c,"F")}function Yp(c){return cd("limitToLast",c),dm._create("limitToLast",c,"L")}class Jp extends Yc{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new Jp(e,r,s)}_apply(e){const r=A_(e,this.type,this._docOrFields,this._inclusive);return new Us(e.firestore,e.converter,(m=r,new F((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,m,l.endAt)));var l,m}}function Nh(...c){return Jp._create("startAt",c,!0)}function Yf(...c){return Jp._create("startAfter",c,!1)}class Xp extends Yc{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new Xp(e,r,s)}_apply(e){const r=A_(e,this.type,this._docOrFields,this._inclusive);return new Us(e.firestore,e.converter,(m=r,new F((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,m)));var l,m}}function E_(...c){return Xp._create("endBefore",c,!1)}function hv(...c){return Xp._create("endAt",c,!0)}function A_(c,e,r,s){if(r[0]=(0,me.m9)(r[0]),r[0]instanceof Kf)return function(m,I,P,L,J){if(!L)throw new te(we.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${P}().`);const he=[];for(const Me of ds(m))if(Me.field.isKeyField())he.push(_n(I,L.key));else{const et=L.data.field(Me.field);if(Gs(et))throw new te(we.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Me.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===et){const Ct=Me.field.canonicalString();throw new te(we.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ct}' (used as the orderBy) does not exist.`)}he.push(et)}return new Ne(he,J)}(c._query,c.firestore._databaseId,e,r[0]._document,s);{const l=Ha(c.firestore);return function(I,P,L,J,he,Me){const et=I.explicitOrderBy;if(he.length>et.length)throw new te(we.INVALID_ARGUMENT,`Too many arguments provided to ${J}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ct=[];for(let qt=0;qt<he.length;qt++){const dn=he[qt];if(et[qt].field.isKeyField()){if("string"!=typeof dn)throw new te(we.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${J}(), but got a ${typeof dn}`);if(!vr(I)&&-1!==dn.indexOf("/"))throw new te(we.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${J}() must be a plain document ID, but '${dn}' contains a slash.`);const tn=I.path.child(xn.fromString(dn));if(!Yt.isDocumentKey(tn))throw new te(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${J}() must result in a valid document path, but '${tn}' is not because it contains an odd number of segments.`);const Zn=new Yt(tn);Ct.push(_n(P,Zn))}else{const tn=qf(L,J,dn);Ct.push(tn)}}return new Ne(Ct,Me)}(c._query,c.firestore._databaseId,l,e,r,s)}}function I_(c,e,r){if("string"==typeof(r=(0,me.m9)(r))){if(""===r)throw new te(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vr(e)&&-1!==r.indexOf("/"))throw new te(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(xn.fromString(r));if(!Yt.isDocumentKey(s))throw new te(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return _n(c,new Yt(s))}if(r instanceof hs)return _n(c,r._key);throw new te(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ah(r)}.`)}function hm(c,e){if(!Array.isArray(c)||0===c.length)throw new te(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fm(c,e){const r=function(l,m){for(const I of l)for(const P of I.getFlattenedFilters())if(m.indexOf(P.op)>=0)return P.op;return null}(c.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new te(we.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class b_{convertValue(e,r="none"){switch(Ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ei(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw Tt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return fs(e,(l,m)=>{s[l]=this.convertValue(m,r)}),s}convertGeoPoint(e){return new Kp(Ei(e.latitude),Ei(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=so(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Ji(e));default:return null}}convertTimestamp(e){const r=Ts(e);return new Jn(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=xn.fromString(e);Ke(Ve(s));const l=new Wn(s.get(1),s.get(3)),m=new Yt(s.popFirst(5));return l.isEqual(r)||Ot(`Document ${m} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),m}}function kh(c,e,r){let s;return s=c?r&&(r.merge||r.mergeFields)?c.toFirestore(e,r):c.toFirestore(e):e,s}class C_ extends b_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qc(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new hs(this.firestore,null,r)}}class _d{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vd extends Kf{constructor(e,r,s,l,m,I){super(e,r,s,l,I),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new tg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(xh("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class tg extends vd{data(e={}){return super.data(e)}}class lu{constructor(e,r,s,l){this._firestore=e,this._userDataWriter=r,this._snapshot=l,this.metadata=new _d(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new tg(this._firestore,this._userDataWriter,s.key,s,new _d(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new te(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(l,m){if(l._snapshot.oldDocs.isEmpty()){let I=0;return l._snapshot.docChanges.map(P=>({type:"added",doc:new tg(l._firestore,l._userDataWriter,P.doc.key,P.doc,new _d(l._snapshot.mutatedKeys.has(P.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:I++}))}{let I=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(P=>m||3!==P.type).map(P=>{const L=new tg(l._firestore,l._userDataWriter,P.doc.key,P.doc,new _d(l._snapshot.mutatedKeys.has(P.doc.key),l._snapshot.fromCache),l.query.converter);let J=-1,he=-1;return 0!==P.type&&(J=I.indexOf(P.doc.key),I=I.delete(P.doc.key)),1!==P.type&&(I=I.add(P.doc),he=I.indexOf(P.doc.key)),{type:w_(P.type),doc:L,oldIndex:J,newIndex:he}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function w_(c){switch(c){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt()}}function hc(c,e){return c instanceof vd&&e instanceof vd?c._firestore===e._firestore&&c._key.isEqual(e._key)&&(null===c._document?null===e._document:c._document.isEqual(e._document))&&c._converter===e._converter:c instanceof lu&&e instanceof lu&&c._firestore===e._firestore&&Zp(c.query,e.query)&&c.metadata.isEqual(e.metadata)&&c._snapshot.isEqual(e._snapshot)}function D_(c){c=Nr(c,hs);const e=Nr(c.firestore,Si);return zp(is(e),c._key).then(r=>_m(e,c,r))}class yd extends b_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qc(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new hs(this.firestore,null,r)}}function pm(c){c=Nr(c,hs);const e=Nr(c.firestore,Si),r=is(e),s=new yd(e);return function l_(c,e){const r=new Ie;return c.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return(s=(0,f.Z)(function*(m,I,P){try{const L=yield function(he,Me){const et=Fe(he);return et.persistence.runTransaction("read document","readonly",Ct=>et.localDocuments.getDocument(Ct,Me))}(m,I);L.isFoundDocument()?P.resolve(L):L.isNoDocument()?P.resolve(null):P.reject(new te(we.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(L){const J=Zl(L,`Failed to get document '${I} from cache`);P.reject(J)}}),function l(m,I,P){return s.apply(this,arguments)})(yield eu(c),e,r);var s})),r.promise}(r,c._key).then(l=>new vd(e,s,c._key,l,new _d(null!==l&&l.hasLocalMutations,!0),c.converter))}function uu(c){c=Nr(c,hs);const e=Nr(c.firestore,Si);return zp(is(e),c._key,{source:"server"}).then(r=>_m(e,c,r))}function gm(c){c=Nr(c,Us);const e=Nr(c.firestore,Si),r=is(e),s=new yd(e);return Qf(c._query),$p(r,c._query).then(l=>new lu(e,s,c,l))}function pv(c){c=Nr(c,Us);const e=Nr(c.firestore,Si),r=is(e),s=new yd(e);return function yh(c,e){const r=new Ie;return c.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return(s=(0,f.Z)(function*(m,I,P){try{const L=yield Vu(m,I,!0),J=new Bg(I,L.hs),he=J.da(L.documents),Me=J.applyChanges(he,!1);P.resolve(Me.snapshot)}catch(L){const J=Zl(L,`Failed to execute query '${I} against cache`);P.reject(J)}}),function l(m,I,P){return s.apply(this,arguments)})(yield eu(c),e,r);var s})),r.promise}(r,c._query).then(l=>new lu(e,s,c,l))}function _y(c){c=Nr(c,Us);const e=Nr(c.firestore,Si),r=is(e),s=new yd(e);return $p(r,c._query,{source:"server"}).then(l=>new lu(e,s,c,l))}function gv(c,e,r){c=Nr(c,hs);const s=Nr(c.firestore,Si),l=kh(c.converter,e,r);return As(s,[Th(Ha(s),"setDoc",c._key,l,null!==c.converter,r).toMutation(c._key,bi.none())])}function mm(c,e,r,...s){c=Nr(c,hs);const l=Nr(c.firestore,Si),m=Ha(l);let I;return I="string"==typeof(e=(0,me.m9)(e))||e instanceof ja?Zf(m,"updateDoc",c._key,e,r,s):Dh(m,"updateDoc",c._key,e),As(l,[I.toMutation(c._key,bi.exists(!0))])}function Jc(c){return As(Nr(c.firestore,Si),[new pi(c._key,bi.none())])}function S_(c,e){const r=Nr(c.firestore,Si),s=p_(c),l=kh(c.converter,e);return As(r,[Th(Ha(c.firestore),"addDoc",s._key,l,null!==c.converter,{}).toMutation(s._key,bi.exists(!1))]).then(()=>s)}function mv(c,...e){var r,s,l;c=(0,me.m9)(c);let m={includeMetadataChanges:!1,source:"default"},I=0;"object"!=typeof e[I]||su(e[I])||(m=e[I],I++);const P={includeMetadataChanges:m.includeMetadataChanges,source:m.source};if(su(e[I])){const Me=e[I];e[I]=null===(r=Me.next)||void 0===r?void 0:r.bind(Me),e[I+1]=null===(s=Me.error)||void 0===s?void 0:s.bind(Me),e[I+2]=null===(l=Me.complete)||void 0===l?void 0:l.bind(Me)}let L,J,he;if(c instanceof hs)J=Nr(c.firestore,Si),he=ze(c._key.path),L={next:Me=>{e[I]&&e[I](_m(J,c,Me))},error:e[I+1],complete:e[I+2]};else{const Me=Nr(c,Us);J=Nr(Me.firestore,Si),he=Me._query;const et=new yd(J);L={next:Ct=>{e[I]&&e[I](new lu(J,et,Me,Ct))},error:e[I+1],complete:e[I+2]},Qf(c._query)}return function(et,Ct,qt,dn){const tn=new Rf(dn),Zn=new ah(Ct,tn,qt);return et.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return Wl(yield tu(et),Zn)})),()=>{tn.$a(),et.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return El(yield tu(et),Zn)}))}}(is(J),he,P,L)}function vy(c,e){return function u_(c,e){const r=new Rf(e);return c.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return l=yield tu(c),m=r,Fe(l).z_.add(m),void m.next();var l,m})),()=>{r.$a(),c.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return l=yield tu(c),m=r,void Fe(l).z_.delete(m);var l,m}))}}(is(c=Nr(c,Si)),su(e)?e:{next:e})}function As(c,e){return function(s,l){const m=new Ie;return s.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function uh(c,e,r){return oc.apply(this,arguments)}(yield Yg(s),l,m)})),m.promise}(is(c),e)}function _m(c,e,r){const s=r.docs.get(e._key),l=new yd(c);return new vd(c,l,e._key,s,new _d(r.hasPendingWrites,r.fromCache),e.converter)}const Xc={maxAttempts:5};class Ad{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Ha(e)}set(e,r,s){this._verifyNotCommitted();const l=fc(e,this._firestore),m=kh(l.converter,r,s),I=Th(this._dataReader,"WriteBatch.set",l._key,m,null!==l.converter,s);return this._mutations.push(I.toMutation(l._key,bi.none())),this}update(e,r,s,...l){this._verifyNotCommitted();const m=fc(e,this._firestore);let I;return I="string"==typeof(r=(0,me.m9)(r))||r instanceof ja?Zf(this._dataReader,"WriteBatch.update",m._key,r,s,l):Dh(this._dataReader,"WriteBatch.update",m._key,r),this._mutations.push(I.toMutation(m._key,bi.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=fc(e,this._firestore);return this._mutations=this._mutations.concat(new pi(r._key,bi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new te(we.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function fc(c,e){if((c=(0,me.m9)(c)).firestore!==e)throw new te(we.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return c}class O_ extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=Ha(r)}get(r){const s=fc(r,this._firestore),l=new C_(this._firestore);return this._transaction.lookup([s._key]).then(m=>{if(!m||1!==m.length)return Tt();const I=m[0];if(I.isFoundDocument())return new Kf(this._firestore,l,I.key,I,s.converter);if(I.isNoDocument())return new Kf(this._firestore,l,s._key,null,s.converter);throw Tt()})}set(r,s,l){const m=fc(r,this._firestore),I=kh(m.converter,s,l),P=Th(this._dataReader,"Transaction.set",m._key,I,null!==m.converter,l);return this._transaction.set(m._key,P),this}update(r,s,l,...m){const I=fc(r,this._firestore);let P;return P="string"==typeof(s=(0,me.m9)(s))||s instanceof ja?Zf(this._dataReader,"Transaction.update",I._key,s,l,m):Dh(this._dataReader,"Transaction.update",I._key,s),this._transaction.update(I._key,P),this}delete(r){const s=fc(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=fc(e,this._firestore),s=new yd(this._firestore);return super.get(e).then(l=>new vd(this._firestore,s,r._key,l._document,new _d(!1,!1),r.converter))}}function ym(c,e,r){c=Nr(c,Si);const s=Object.assign(Object.assign({},Xc),r);return function(m){if(m.maxAttempts<1)throw new te(we.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(m,I,P){const L=new Ie;return m.asyncQueue.enqueueAndForget((0,f.Z)(function*(){const J=yield function a_(c){return kf(c).then(e=>e.datastore)}(m);new xf(m.asyncQueue,J,P,I,L).Xa()})),L.promise}(is(c),l=>e(new O_(c,l)),s)}function Em(){return new dc("deleteField")}function ng(){return new wh("serverTimestamp")}function Fh(...c){return new cu("arrayUnion",c)}function Xf(...c){return new gd("arrayRemove",c)}function N_(c){return new Dl("increment",c)}!function(e,r=!0){Ge=o.SDK_VERSION,(0,o._registerComponent)(new B.wA("firestore",(s,{instanceIdentifier:l,options:m})=>{const I=s.getProvider("app").getImmediate(),P=new Si(new _t(s.getProvider("auth-internal")),new bn(s.getProvider("app-check-internal")),function(J,he){if(!Object.prototype.hasOwnProperty.apply(J.options,["projectId"]))throw new te(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wn(J.options.projectId,he)}(I,l),I);return m=Object.assign({useFetchStreams:r},m),P._setSettings(m),P},"PUBLIC").setMultipleInstances(!0)),(0,o.registerVersion)(Oe,"4.6.3",e),(0,o.registerVersion)(Oe,"4.6.3","esm2017")}()},8153:(sn,lt,k)=>{"use strict";k.d(lt,{$Y:()=>vn,B0:()=>js,FN:()=>Un,IX:()=>Li,Jt:()=>Oi,UJ:()=>Ur,Ym:()=>_n,a1:()=>ns,aF:()=>xr,bm:()=>In,cF:()=>oi,g6:()=>ws,gE:()=>ut,gH:()=>Ot,iH:()=>ai,oq:()=>ts,pb:()=>er,qm:()=>zn,sd:()=>zr,y4:()=>Sn});var f=k(5861),o=k(534),B=k(9058),Se=k(4537);const me="firebasestorage.googleapis.com",Ae="storageBucket";class $ extends B.ZR{constructor(Y,Ne,$e=0){super(oe(Y),`Firebase Storage: ${Ne} (${oe(Y)})`),this.status_=$e,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$.prototype)}get status(){return this.status_}set status(Y){this.status_=Y}_codeEquals(Y){return oe(Y)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(Y){this.customData.serverResponse=Y,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var z=function(re){return re.UNKNOWN="unknown",re.OBJECT_NOT_FOUND="object-not-found",re.BUCKET_NOT_FOUND="bucket-not-found",re.PROJECT_NOT_FOUND="project-not-found",re.QUOTA_EXCEEDED="quota-exceeded",re.UNAUTHENTICATED="unauthenticated",re.UNAUTHORIZED="unauthorized",re.UNAUTHORIZED_APP="unauthorized-app",re.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",re.INVALID_CHECKSUM="invalid-checksum",re.CANCELED="canceled",re.INVALID_EVENT_NAME="invalid-event-name",re.INVALID_URL="invalid-url",re.INVALID_DEFAULT_BUCKET="invalid-default-bucket",re.NO_DEFAULT_BUCKET="no-default-bucket",re.CANNOT_SLICE_BLOB="cannot-slice-blob",re.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",re.NO_DOWNLOAD_URL="no-download-url",re.INVALID_ARGUMENT="invalid-argument",re.INVALID_ARGUMENT_COUNT="invalid-argument-count",re.APP_DELETED="app-deleted",re.INVALID_ROOT_OPERATION="invalid-root-operation",re.INVALID_FORMAT="invalid-format",re.INTERNAL_ERROR="internal-error",re.UNSUPPORTED_ENVIRONMENT="unsupported-environment",re}(z||{});function oe(re){return"storage/"+re}function be(){return new $(z.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function mt(){return new $(z.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ke(){return new $(z.CANCELED,"User canceled the upload/download.")}function Ze(){return new $(z.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ot(re){return new $(z.INVALID_ARGUMENT,re)}function Vt(){return new $(z.APP_DELETED,"The Firebase app was deleted.")}function Sn(re){return new $(z.INVALID_ROOT_OPERATION,"The operation '"+re+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Tt(re,Y){return new $(z.INVALID_FORMAT,"String does not match format '"+re+"': "+Y)}function Ke(re){throw new $(z.INTERNAL_ERROR,"Internal error: "+re)}class ut{constructor(Y,Ne){this.bucket=Y,this.path_=Ne}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const Y=encodeURIComponent;return"/b/"+Y(this.bucket)+"/o/"+Y(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(Y,Ne){let $e;try{$e=ut.makeFromUrl(Y,Ne)}catch{return new ut(Y,"")}if(""===$e.path)return $e;throw function tt(re){return new $(z.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+re+"'.")}(Y)}static makeFromUrl(Y,Ne){let $e=null;const ht="([A-Za-z0-9.\\-_]+)",Mn=new RegExp("^gs://"+ht+"(/(.*))?$","i");function An(Pi){Pi.path_=decodeURIComponent(Pi.path)}const jn=Ne.replace(/[.]/g,"\\."),yr=[{regex:Mn,indices:{bucket:1,path:3},postModify:function Lt(Pi){"/"===Pi.path.charAt(Pi.path.length-1)&&(Pi.path_=Pi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${jn}/v[A-Za-z0-9_]+/b/${ht}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:An},{regex:new RegExp(`^https?://${Ne===me?"(?:storage.googleapis.com|storage.cloud.google.com)":Ne}/${ht}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:An}];for(let Pi=0;Pi<yr.length;Pi++){const Kr=yr[Pi],Ii=Kr.regex.exec(Y);if(Ii){let rs=Ii[Kr.indices.path];rs||(rs=""),$e=new ut(Ii[Kr.indices.bucket],rs),Kr.postModify($e);break}}if(null==$e)throw function Oe(re){return new $(z.INVALID_URL,"Invalid URL '"+re+"'.")}(Y);return $e}}class Fe{constructor(Y){this.promise_=Promise.reject(Y)}getPromise(){return this.promise_}cancel(Y=!1){}}function it(re){return"string"==typeof re||re instanceof String}function _t(re){return Bt()&&re instanceof Blob}function Bt(){return typeof Blob<"u"}function Gt(re,Y,Ne,$e){if($e<Y)throw Ot(`Invalid value for '${re}'. Expected ${Y} or greater.`);if($e>Ne)throw Ot(`Invalid value for '${re}'. Expected ${Ne} or less.`)}function Wt(re,Y,Ne){let $e=Y;return null==Ne&&($e=`https://${Y}`),`${Ne}://${$e}/v0${re}`}function bn(re){const Y=encodeURIComponent;let Ne="?";for(const $e in re)re.hasOwnProperty($e)&&(Ne=Ne+(Y($e)+"=")+Y(re[$e])+"&");return Ne=Ne.slice(0,-1),Ne}var Yn=function(re){return re[re.NO_ERROR=0]="NO_ERROR",re[re.NETWORK_ERROR=1]="NETWORK_ERROR",re[re.ABORT=2]="ABORT",re}(Yn||{});function Rn(re,Y){const Ne=re>=500&&re<600,ht=-1!==[408,429].indexOf(re),Lt=-1!==Y.indexOf(re);return Ne||ht||Lt}class Nn{constructor(Y,Ne,$e,ht,Lt,fn,Mn,Kt,An,_r,jn,Ai=!0){this.url_=Y,this.method_=Ne,this.headers_=$e,this.body_=ht,this.successCodes_=Lt,this.additionalRetryCodes_=fn,this.callback_=Mn,this.errorCallback_=Kt,this.timeout_=An,this.progressCallback_=_r,this.connectionFactory_=jn,this.retry=Ai,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(($r,Or)=>{this.resolve_=$r,this.reject_=Or,this.start_()})}start_(){const Ne=($e,ht)=>{const Lt=this.resolve_,fn=this.reject_,Mn=ht.connection;if(ht.wasSuccessCode)try{const Kt=this.callback_(Mn,Mn.getResponse());!function Ie(re){return void 0!==re}(Kt)?Lt():Lt(Kt)}catch(Kt){fn(Kt)}else if(null!==Mn){const Kt=be();Kt.serverResponse=Mn.getErrorText(),fn(this.errorCallback_?this.errorCallback_(Mn,Kt):Kt)}else fn(ht.canceled?this.appDelete_?Vt():ke():mt())};this.canceled_?Ne(0,new rn(!1,null,!0)):this.backoffId_=function we(re,Y,Ne){let $e=1,ht=null,Lt=null,fn=!1,Mn=0;function Kt(){return 2===Mn}let An=!1;function _r(...Br){An||(An=!0,Y.apply(null,Br))}function jn(Br){ht=setTimeout(()=>{ht=null,re($r,Kt())},Br)}function Ai(){Lt&&clearTimeout(Lt)}function $r(Br,...ls){if(An)return void Ai();if(Br)return Ai(),void _r.call(null,Br,...ls);if(Kt()||fn)return Ai(),void _r.call(null,Br,...ls);let yr;$e<64&&($e*=2),1===Mn?(Mn=2,yr=0):yr=1e3*($e+Math.random()),jn(yr)}let Or=!1;function mi(Br){Or||(Or=!0,Ai(),!An&&(null!==ht?(Br||(Mn=2),clearTimeout(ht),jn(0)):Br||(Mn=1)))}return jn(0),Lt=setTimeout(()=>{fn=!0,mi(!0)},Ne),mi}(($e,ht)=>{if(ht)return void $e(!1,new rn(!1,null,!0));const Lt=this.connectionFactory_();this.pendingConnection_=Lt;const fn=Mn=>{null!==this.progressCallback_&&this.progressCallback_(Mn.loaded,Mn.lengthComputable?Mn.total:-1)};null!==this.progressCallback_&&Lt.addUploadProgressListener(fn),Lt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Lt.removeUploadProgressListener(fn),this.pendingConnection_=null;const Mn=Lt.getErrorCode()===Yn.NO_ERROR,Kt=Lt.getStatus();if(!Mn||Rn(Kt,this.additionalRetryCodes_)&&this.retry){const _r=Lt.getErrorCode()===Yn.ABORT;return void $e(!1,new rn(!1,null,_r))}const An=-1!==this.successCodes_.indexOf(Kt);$e(!0,new rn(An,Lt))})},Ne,this.timeout_)}getPromise(){return this.promise_}cancel(Y){this.canceled_=!0,this.appDelete_=Y||!1,null!==this.backoffId_&&function te(re){re(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class rn{constructor(Y,Ne,$e){this.wasSuccessCode=Y,this.connection=Ne,this.canceled=!!$e}}function Pr(...re){const Y=function xn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==Y){const Ne=new Y;for(let $e=0;$e<re.length;$e++)Ne.append(re[$e]);return Ne.getBlob()}if(Bt())return new Blob(re);throw new $(z.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const In={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Bn{constructor(Y,Ne){this.data=Y,this.contentType=Ne||null}}function zn(re,Y){switch(re){case In.RAW:return new Bn(Er(Y));case In.BASE64:case In.BASE64URL:return new Bn(qn(re,Y));case In.DATA_URL:return new Bn(function Yr(re){const Y=new Kn(re);return Y.base64?qn(In.BASE64,Y.rest):function br(re){let Y;try{Y=decodeURIComponent(re)}catch{throw Tt(In.DATA_URL,"Malformed data URL.")}return Er(Y)}(Y.rest)}(Y),function yi(re){return new Kn(re).contentType}(Y))}throw be()}function Er(re){const Y=[];for(let Ne=0;Ne<re.length;Ne++){let $e=re.charCodeAt(Ne);$e<=127?Y.push($e):$e<=2047?Y.push(192|$e>>6,128|63&$e):55296==(64512&$e)?Ne<re.length-1&&56320==(64512&re.charCodeAt(Ne+1))?($e=65536|(1023&$e)<<10|1023&re.charCodeAt(++Ne),Y.push(240|$e>>18,128|$e>>12&63,128|$e>>6&63,128|63&$e)):Y.push(239,191,189):56320==(64512&$e)?Y.push(239,191,189):Y.push(224|$e>>12,128|$e>>6&63,128|63&$e)}return new Uint8Array(Y)}function qn(re,Y){switch(re){case In.BASE64:{const ht=-1!==Y.indexOf("-"),Lt=-1!==Y.indexOf("_");if(ht||Lt)throw Tt(re,"Invalid character '"+(ht?"-":"_")+"' found: is it base64url encoded?");break}case In.BASE64URL:{const ht=-1!==Y.indexOf("+"),Lt=-1!==Y.indexOf("/");if(ht||Lt)throw Tt(re,"Invalid character '"+(ht?"+":"/")+"' found: is it base64 encoded?");Y=Y.replace(/-/g,"+").replace(/_/g,"/");break}}let Ne;try{Ne=function Yt(re){if(typeof atob>"u")throw function Ee(re){return new $(z.UNSUPPORTED_ENVIRONMENT,`${re} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(re)}(Y)}catch(ht){throw ht.message.includes("polyfill")?ht:Tt(re,"Invalid character found")}const $e=new Uint8Array(Ne.length);for(let ht=0;ht<Ne.length;ht++)$e[ht]=Ne.charCodeAt(ht);return $e}class Kn{constructor(Y){this.base64=!1,this.contentType=null;const Ne=Y.match(/^data:([^,]+)?,/);if(null===Ne)throw Tt(In.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const $e=Ne[1]||null;null!=$e&&(this.base64=function gn(re,Y){return re.length>=Y.length&&re.substring(re.length-Y.length)===Y}($e,";base64"),this.contentType=this.base64?$e.substring(0,$e.length-7):$e),this.rest=Y.substring(Y.indexOf(",")+1)}}class Ur{constructor(Y,Ne){let $e=0,ht="";_t(Y)?(this.data_=Y,$e=Y.size,ht=Y.type):Y instanceof ArrayBuffer?(Ne?this.data_=new Uint8Array(Y):(this.data_=new Uint8Array(Y.byteLength),this.data_.set(new Uint8Array(Y))),$e=this.data_.length):Y instanceof Uint8Array&&(Ne?this.data_=Y:(this.data_=new Uint8Array(Y.length),this.data_.set(Y)),$e=Y.length),this.size_=$e,this.type_=ht}size(){return this.size_}type(){return this.type_}slice(Y,Ne){if(_t(this.data_)){const ht=function sr(re,Y,Ne){return re.webkitSlice?re.webkitSlice(Y,Ne):re.mozSlice?re.mozSlice(Y,Ne):re.slice?re.slice(Y,Ne):null}(this.data_,Y,Ne);return null===ht?null:new Ur(ht)}{const $e=new Uint8Array(this.data_.buffer,Y,Ne-Y);return new Ur($e,!0)}}static getBlob(...Y){if(Bt()){const Ne=Y.map($e=>$e instanceof Ur?$e.data_:$e);return new Ur(Pr.apply(null,Ne))}{const Ne=Y.map(fn=>it(fn)?zn(In.RAW,fn).data:fn.data_);let $e=0;Ne.forEach(fn=>{$e+=fn.byteLength});const ht=new Uint8Array($e);let Lt=0;return Ne.forEach(fn=>{for(let Mn=0;Mn<fn.length;Mn++)ht[Lt++]=fn[Mn]}),new Ur(ht,!0)}}uploadData(){return this.data_}}function ar(re){let Y;try{Y=JSON.parse(re)}catch{return null}return function je(re){return"object"==typeof re&&!Array.isArray(re)}(Y)?Y:null}function ri(re){const Y=re.lastIndexOf("/",re.length-2);return-1===Y?re:re.slice(Y+1)}function at(re,Y){return Y}class wt{constructor(Y,Ne,$e,ht){this.server=Y,this.local=Ne||Y,this.writable=!!$e,this.xform=ht||at}}let ue=null;function Mt(){if(ue)return ue;const re=[];re.push(new wt("bucket")),re.push(new wt("generation")),re.push(new wt("metageneration")),re.push(new wt("name","fullPath",!0));const Ne=new wt("name");Ne.xform=function Y(Lt,fn){return function Be(re){return!it(re)||re.length<2?re:ri(re)}(fn)},re.push(Ne);const ht=new wt("size");return ht.xform=function $e(Lt,fn){return void 0!==fn?Number(fn):fn},re.push(ht),re.push(new wt("timeCreated")),re.push(new wt("updated")),re.push(new wt("md5Hash",null,!0)),re.push(new wt("cacheControl",null,!0)),re.push(new wt("contentDisposition",null,!0)),re.push(new wt("contentEncoding",null,!0)),re.push(new wt("contentLanguage",null,!0)),re.push(new wt("contentType",null,!0)),re.push(new wt("metadata","customMetadata",!0)),ue=re,ue}function hi(re,Y,Ne){const $e=ar(Y);return null===$e?null:function $n(re,Y,Ne){const $e={type:"file"},ht=Ne.length;for(let Lt=0;Lt<ht;Lt++){const fn=Ne[Lt];$e[fn.local]=fn.xform($e,Y[fn.server])}return function en(re,Y){Object.defineProperty(re,"ref",{get:function Ne(){const Lt=new ut(re.bucket,re.fullPath);return Y._makeStorageReference(Lt)}})}($e,re),$e}(re,$e,Ne)}function qe(re,Y){const Ne={},$e=Y.length;for(let ht=0;ht<$e;ht++){const Lt=Y[ht];Lt.writable&&(Ne[Lt.server]=re[Lt.local])}return JSON.stringify(Ne)}const ce="prefixes",K="items";class Te{constructor(Y,Ne,$e,ht){this.url=Y,this.method=Ne,this.handler=$e,this.timeout=ht,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Xe(re){if(!re)throw be()}function Nt(re,Y){return function Ne($e,ht){const Lt=hi(re,ht,Y);return Xe(null!==Lt),Lt}}function on(re){return function Y(Ne,$e){let ht;return ht=401===Ne.getStatus()?Ne.getErrorText().includes("Firebase App Check token is invalid")?function Ye(){return new $(z.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function xe(){return new $(z.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===Ne.getStatus()?function De(re){return new $(z.QUOTA_EXCEEDED,"Quota for bucket '"+re+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(re.bucket):403===Ne.getStatus()?function We(re){return new $(z.UNAUTHORIZED,"User does not have permission to access '"+re+"'.")}(re.path):$e,ht.status=Ne.getStatus(),ht.serverResponse=$e.serverResponse,ht}}function hn(re){const Y=on(re);return function Ne($e,ht){let Lt=Y($e,ht);return 404===$e.getStatus()&&(Lt=function ye(re){return new $(z.OBJECT_NOT_FOUND,"Object '"+re+"' does not exist.")}(re.path)),Lt.serverResponse=ht.serverResponse,Lt}}function Xn(re,Y,Ne){const ht=Wt(Y.fullServerUrl(),re.host,re._protocol),fn=re.maxOperationRetryTime,Mn=new Te(ht,"GET",Nt(re,Ne),fn);return Mn.errorHandler=hn(Y),Mn}function Je(re,Y,Ne,$e,ht){const Lt={};Lt.prefix=Y.isRoot?"":Y.path+"/",Ne&&Ne.length>0&&(Lt.delimiter=Ne),$e&&(Lt.pageToken=$e),ht&&(Lt.maxResults=ht);const Mn=Wt(Y.bucketOnlyServerUrl(),re.host,re._protocol),An=re.maxOperationRetryTime,_r=new Te(Mn,"GET",function $t(re,Y){return function Ne($e,ht){const Lt=function U(re,Y,Ne){const $e=ar(Ne);return null===$e?null:function H(re,Y,Ne){const $e={prefixes:[],items:[],nextPageToken:Ne.nextPageToken};if(Ne[ce])for(const ht of Ne[ce]){const Lt=ht.replace(/\/$/,""),fn=re._makeStorageReference(new ut(Y,Lt));$e.prefixes.push(fn)}if(Ne[K])for(const ht of Ne[K]){const Lt=re._makeStorageReference(new ut(Y,ht.name));$e.items.push(Lt)}return $e}(re,Y,$e)}(re,Y,ht);return Xe(null!==Lt),Lt}}(re,Y.bucket),An);return _r.urlParams=Lt,_r.errorHandler=on(Y),_r}function an(re,Y,Ne){const $e=Object.assign({},Ne);return $e.fullPath=re.path,$e.size=Y.size(),$e.contentType||($e.contentType=function En(re,Y){return re&&re.contentType||Y&&Y.type()||"application/octet-stream"}(null,Y)),$e}class yn{constructor(Y,Ne,$e,ht){this.current=Y,this.total=Ne,this.finalized=!!$e,this.metadata=ht||null}}function vt(re,Y){let Ne=null;try{Ne=re.getResponseHeader("X-Goog-Upload-Status")}catch{Xe(!1)}return Xe(!!Ne&&-1!==(Y||["active"]).indexOf(Ne)),Ne}const Un={STATE_CHANGED:"state_changed"},vn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Gn(re){switch(re){case"running":case"pausing":case"canceling":return vn.RUNNING;case"paused":return vn.PAUSED;case"success":return vn.SUCCESS;case"canceled":return vn.CANCELED;default:return vn.ERROR}}class Sr{constructor(Y,Ne,$e){if(function Pe(re){return"function"==typeof re}(Y)||null!=Ne||null!=$e)this.next=Y,this.error=Ne??void 0,this.complete=$e??void 0;else{const Lt=Y;this.next=Lt.next,this.error=Lt.error,this.complete=Lt.complete}}}function fi(re){return(...Y)=>{Promise.resolve().then(()=>re(...Y))}}let ei=null;class dr{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Yn.NO_ERROR,this.sendPromise_=new Promise(Y=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Yn.ABORT,Y()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Yn.NETWORK_ERROR,Y()}),this.xhr_.addEventListener("load",()=>{Y()})})}send(Y,Ne,$e,ht){if(this.sent_)throw Ke("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Ne,Y,!0),void 0!==ht)for(const Lt in ht)ht.hasOwnProperty(Lt)&&this.xhr_.setRequestHeader(Lt,ht[Lt].toString());return void 0!==$e?this.xhr_.send($e):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ke("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ke("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ke("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ke("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(Y){return this.xhr_.getResponseHeader(Y)}addUploadProgressListener(Y){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",Y)}removeUploadProgressListener(Y){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",Y)}}class Mi extends dr{initXhr(){this.xhr_.responseType="text"}}function gi(){return ei?ei():new Mi}class Li{constructor(Y,Ne,$e=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=Y,this._blob=Ne,this._metadata=$e,this._mappings=Mt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=ht=>{if(this._request=void 0,this._chunkMultiplier=1,ht._codeEquals(z.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const Lt=this.isExponentialBackoffExpired();if(Rn(ht.status,[])){if(!Lt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();ht=mt()}this._error=ht,this._transition("error")}},this._metadataErrorHandler=ht=>{this._request=void 0,ht._codeEquals(z.CANCELED)?this.completeTransitions_():(this._error=ht,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((ht,Lt)=>{this._resolve=ht,this._reject=Lt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const Y=this._transferred;return Ne=>this._updateProgress(Y+Ne)}_shouldDoResumable(Y){return Y.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(Y){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([Ne,$e])=>{switch(this._state){case"running":Y(Ne,$e);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((Y,Ne)=>{const $e=function ft(re,Y,Ne,$e,ht){const Lt=Y.bucketOnlyServerUrl(),fn=an(Y,$e,ht),Mn={name:fn.fullPath},Kt=Wt(Lt,re.host,re._protocol),_r={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${$e.size()}`,"X-Goog-Upload-Header-Content-Type":fn.contentType,"Content-Type":"application/json; charset=utf-8"},jn=qe(fn,Ne),Or=new Te(Kt,"POST",function $r(mi){let Br;vt(mi);try{Br=mi.getResponseHeader("X-Goog-Upload-URL")}catch{Xe(!1)}return Xe(it(Br)),Br},re.maxUploadRetryTime);return Or.urlParams=Mn,Or.headers=_r,Or.body=jn,Or.errorHandler=on(Y),Or}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ht=this._ref.storage._makeRequest($e,gi,Y,Ne);this._request=ht,ht.getPromise().then(Lt=>{this._request=void 0,this._uploadUrl=Lt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const Y=this._uploadUrl;this._resolveToken((Ne,$e)=>{const ht=function kt(re,Y,Ne,$e){const Kt=new Te(Ne,"POST",function Lt(An){const _r=vt(An,["active","final"]);let jn=null;try{jn=An.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Xe(!1)}jn||Xe(!1);const Ai=Number(jn);return Xe(!isNaN(Ai)),new yn(Ai,$e.size(),"final"===_r)},re.maxUploadRetryTime);return Kt.headers={"X-Goog-Upload-Command":"query"},Kt.errorHandler=on(Y),Kt}(this._ref.storage,this._ref._location,Y,this._blob),Lt=this._ref.storage._makeRequest(ht,gi,Ne,$e);this._request=Lt,Lt.getPromise().then(fn=>{this._request=void 0,this._updateProgress(fn.current),this._needToFetchStatus=!1,fn.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const Y=262144*this._chunkMultiplier,Ne=new yn(this._transferred,this._blob.size()),$e=this._uploadUrl;this._resolveToken((ht,Lt)=>{let fn;try{fn=function Vn(re,Y,Ne,$e,ht,Lt,fn,Mn){const Kt=new yn(0,0);if(fn?(Kt.current=fn.current,Kt.total=fn.total):(Kt.current=0,Kt.total=$e.size()),$e.size()!==Kt.total)throw function dt(){return new $(z.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const An=Kt.total-Kt.current;let _r=An;ht>0&&(_r=Math.min(_r,ht));const jn=Kt.current;let $r="";$r=0===_r?"finalize":An===_r?"upload, finalize":"upload";const Or={"X-Goog-Upload-Command":$r,"X-Goog-Upload-Offset":`${Kt.current}`},mi=$e.slice(jn,jn+_r);if(null===mi)throw Ze();const yr=new Te(Ne,"POST",function Br(Pi,Kr){const Ii=vt(Pi,["active","final"]),go=Kt.current+_r,rs=$e.size();let Ps;return Ps="final"===Ii?Nt(Y,Lt)(Pi,Kr):null,new yn(go,rs,"final"===Ii,Ps)},Y.maxUploadRetryTime);return yr.headers=Or,yr.body=mi.uploadData(),yr.progressCallback=Mn||null,yr.errorHandler=on(re),yr}(this._ref._location,this._ref.storage,$e,this._blob,Y,this._mappings,Ne,this._makeProgressCallback())}catch(Kt){return this._error=Kt,void this._transition("error")}const Mn=this._ref.storage._makeRequest(fn,gi,ht,Lt,!1);this._request=Mn,Mn.getPromise().then(Kt=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Kt.current),Kt.finalized?(this._metadata=Kt.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((Y,Ne)=>{const $e=Xn(this._ref.storage,this._ref._location,this._mappings),ht=this._ref.storage._makeRequest($e,gi,Y,Ne);this._request=ht,ht.getPromise().then(Lt=>{this._request=void 0,this._metadata=Lt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((Y,Ne)=>{const $e=function fr(re,Y,Ne,$e,ht){const Lt=Y.bucketOnlyServerUrl(),fn={"X-Goog-Upload-Protocol":"multipart"},Kt=function Mn(){let yr="";for(let Pi=0;Pi<2;Pi++)yr+=Math.random().toString().slice(2);return yr}();fn["Content-Type"]="multipart/related; boundary="+Kt;const An=an(Y,$e,ht),_r=qe(An,Ne),$r=Ur.getBlob("--"+Kt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+_r+"\r\n--"+Kt+"\r\nContent-Type: "+An.contentType+"\r\n\r\n",$e,"\r\n--"+Kt+"--");if(null===$r)throw Ze();const Or={name:An.fullPath},mi=Wt(Lt,re.host,re._protocol),ls=re.maxUploadRetryTime,us=new Te(mi,"POST",Nt(re,Ne),ls);return us.urlParams=Or,us.headers=fn,us.body=$r.uploadData(),us.errorHandler=on(Y),us}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ht=this._ref.storage._makeRequest($e,gi,Y,Ne);this._request=ht,ht.getPromise().then(Lt=>{this._request=void 0,this._metadata=Lt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(Y){const Ne=this._transferred;this._transferred=Y,this._transferred!==Ne&&this._notifyObservers()}_transition(Y){if(this._state!==Y)switch(Y){case"canceling":case"pausing":this._state=Y,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const Ne="paused"===this._state;this._state=Y,Ne&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=Y,this._notifyObservers();break;case"canceled":this._error=ke(),this._state=Y,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const Y=Gn(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:Y,metadata:this._metadata,task:this,ref:this._ref}}on(Y,Ne,$e,ht){const Lt=new Sr(Ne||void 0,$e||void 0,ht||void 0);return this._addObserver(Lt),()=>{this._removeObserver(Lt)}}then(Y,Ne){return this._promise.then(Y,Ne)}catch(Y){return this.then(null,Y)}_addObserver(Y){this._observers.push(Y),this._notifyObserver(Y)}_removeObserver(Y){const Ne=this._observers.indexOf(Y);-1!==Ne&&this._observers.splice(Ne,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(Ne=>{this._notifyObserver(Ne)})}_finishPromise(){if(void 0!==this._resolve){let Y=!0;switch(Gn(this._state)){case vn.SUCCESS:fi(this._resolve.bind(null,this.snapshot))();break;case vn.CANCELED:case vn.ERROR:fi(this._reject.bind(null,this._error))();break;default:Y=!1}Y&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(Y){switch(Gn(this._state)){case vn.RUNNING:case vn.PAUSED:Y.next&&fi(Y.next.bind(Y,this.snapshot))();break;case vn.SUCCESS:Y.complete&&fi(Y.complete.bind(Y))();break;default:Y.error&&fi(Y.error.bind(Y,this._error))()}}resume(){const Y="paused"===this._state||"pausing"===this._state;return Y&&this._transition("running"),Y}pause(){const Y="running"===this._state;return Y&&this._transition("pausing"),Y}cancel(){const Y="running"===this._state||"pausing"===this._state;return Y&&this._transition("canceling"),Y}}class Ys{constructor(Y,Ne){this._service=Y,this._location=Ne instanceof ut?Ne:ut.makeFromUrl(Ne,Y.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(Y,Ne){return new Ys(Y,Ne)}get root(){const Y=new ut(this._location.bucket,"");return this._newRef(this._service,Y)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ri(this._location.path)}get storage(){return this._service}get parent(){const Y=function Rr(re){if(0===re.length)return null;const Y=re.lastIndexOf("/");return-1===Y?"":re.slice(0,Y)}(this._location.path);if(null===Y)return null;const Ne=new ut(this._location.bucket,Y);return new Ys(this._service,Ne)}_throwIfRoot(Y){if(""===this._location.path)throw Sn(Y)}}function Vi(re,Y,Ne){return zi.apply(this,arguments)}function zi(){return(zi=(0,f.Z)(function*(re,Y,Ne){const ht=yield Co(re,{pageToken:Ne});Y.prefixes.push(...ht.prefixes),Y.items.push(...ht.items),null!=ht.nextPageToken&&(yield Vi(re,Y,ht.nextPageToken))})).apply(this,arguments)}function Co(re,Y){null!=Y&&"number"==typeof Y.maxResults&&Gt("options.maxResults",1,1e3,Y.maxResults);const Ne=Y||{},$e=Je(re.storage,re._location,"/",Ne.pageToken,Ne.maxResults);return re.storage.makeRequestWithTokens($e,gi)}function Ts(re){re._throwIfRoot("getDownloadURL");const Y=function nt(re,Y,Ne){const ht=Wt(Y.fullServerUrl(),re.host,re._protocol),fn=re.maxOperationRetryTime,Mn=new Te(ht,"GET",function mn(re,Y){return function Ne($e,ht){const Lt=hi(re,ht,Y);return Xe(null!==Lt),function Cr(re,Y,Ne,$e){const ht=ar(Y);if(null===ht||!it(ht.downloadTokens))return null;const Lt=ht.downloadTokens;if(0===Lt.length)return null;const fn=encodeURIComponent;return Lt.split(",").map(An=>{const jn=re.fullPath;return Wt("/b/"+fn(re.bucket)+"/o/"+fn(jn),Ne,$e)+bn({alt:"media",token:An})})[0]}(Lt,ht,re.host,re._protocol)}}(re,Ne),fn);return Mn.errorHandler=hn(Y),Mn}(re.storage,re._location,Mt());return re.storage.makeRequestWithTokens(Y,gi).then(Ne=>{if(null===Ne)throw function bt(){return new $(z.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return Ne})}function ps(re,Y){const Ne=function Dr(re,Y){const Ne=Y.split("/").filter($e=>$e.length>0).join("/");return 0===re.length?Ne:re+"/"+Ne}(re._location.path,Y),$e=new ut(re._location.bucket,Ne);return new Ys(re.storage,$e)}function Ji(re,Y){if(re instanceof si){const Ne=re;if(null==Ne._bucket)throw function Ge(){return new $(z.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ae+"' property when initializing the app?")}();const $e=new Ys(Ne,Ne._bucket);return null!=Y?Ji($e,Y):$e}return void 0!==Y?ps(re,Y):re}function po(re,Y){if(Y&&function Gs(re){return/^[A-Za-z]+:\/\//.test(re)}(Y)){if(re instanceof si)return function so(re,Y){return new Ys(re,Y)}(re,Y);throw Ot("To use ref(service, url), the first argument must be a Storage instance.")}return Ji(re,Y)}function Wn(re,Y){const Ne=Y?.[Ae];return null==Ne?null:ut.makeFromBucketSpec(Ne,re)}class si{constructor(Y,Ne,$e,ht,Lt){this.app=Y,this._authProvider=Ne,this._appCheckProvider=$e,this._url=ht,this._firebaseVersion=Lt,this._bucket=null,this._host=me,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=ht?ut.makeFromBucketSpec(ht,this._host):Wn(this._host,this.app.options)}get host(){return this._host}set host(Y){this._host=Y,this._bucket=null!=this._url?ut.makeFromBucketSpec(this._url,Y):Wn(Y,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(Y){Gt("time",0,Number.POSITIVE_INFINITY,Y),this._maxUploadRetryTime=Y}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(Y){Gt("time",0,Number.POSITIVE_INFINITY,Y),this._maxOperationRetryTime=Y}_getAuthToken(){var Y=this;return(0,f.Z)(function*(){if(Y._overrideAuthToken)return Y._overrideAuthToken;const Ne=Y._authProvider.getImmediate({optional:!0});if(Ne){const $e=yield Ne.getToken();if(null!==$e)return $e.accessToken}return null})()}_getAppCheckToken(){var Y=this;return(0,f.Z)(function*(){const Ne=Y._appCheckProvider.getImmediate({optional:!0});return Ne?(yield Ne.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(Y=>Y.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(Y){return new Ys(this,Y)}_makeRequest(Y,Ne,$e,ht,Lt=!0){if(this._deleted)return new Fe(Vt());{const fn=function jr(re,Y,Ne,$e,ht,Lt,fn=!0){const Mn=bn(re.urlParams),Kt=re.url+Mn,An=Object.assign({},re.headers);return function Jn(re,Y){Y&&(re["X-Firebase-GMPID"]=Y)}(An,Y),function kn(re,Y){null!==Y&&Y.length>0&&(re.Authorization="Firebase "+Y)}(An,Ne),function mr(re,Y){re["X-Firebase-Storage-Version"]="webjs/"+(Y??"AppManager")}(An,Lt),function Qt(re,Y){null!==Y&&(re["X-Firebase-AppCheck"]=Y)}(An,$e),new Nn(Kt,re.method,An,re.body,re.successCodes,re.additionalRetryCodes,re.handler,re.errorHandler,re.timeout,re.progressCallback,ht,fn)}(Y,this._appId,$e,ht,Ne,this._firebaseVersion,Lt);return this._requests.add(fn),fn.getPromise().then(()=>this._requests.delete(fn),()=>this._requests.delete(fn)),fn}}makeRequestWithTokens(Y,Ne){var $e=this;return(0,f.Z)(function*(){const[ht,Lt]=yield Promise.all([$e._getAuthToken(),$e._getAppCheckToken()]);return $e._makeRequest(Y,Ne,ht,Lt).getPromise()})()}}const Ui="@firebase/storage",Xi="storage";function js(re,Y,Ne){return function Jr(re,Y,Ne){return re._throwIfRoot("uploadBytesResumable"),new Li(re,new Ur(Y),Ne)}(re=(0,B.m9)(re),Y,Ne)}function zr(re){return function Di(re){re._throwIfRoot("getMetadata");const Y=Xn(re.storage,re._location,Mt());return re.storage.makeRequestWithTokens(Y,gi)}(re=(0,B.m9)(re))}function _n(re,Y){return function jo(re,Y){re._throwIfRoot("updateMetadata");const Ne=function jt(re,Y,Ne,$e){const Lt=Wt(Y.fullServerUrl(),re.host,re._protocol),Mn=qe(Ne,$e),An=re.maxOperationRetryTime,_r=new Te(Lt,"PATCH",Nt(re,$e),An);return _r.headers={"Content-Type":"application/json; charset=utf-8"},_r.body=Mn,_r.errorHandler=hn(Y),_r}(re.storage,re._location,Y,Mt());return re.storage.makeRequestWithTokens(Ne,gi)}(re=(0,B.m9)(re),Y)}function er(re,Y){return Co(re=(0,B.m9)(re),Y)}function xr(re){return function Bs(re){const Y={prefixes:[],items:[]};return Vi(re,Y).then(()=>Y)}(re=(0,B.m9)(re))}function Oi(re){return Ts(re=(0,B.m9)(re))}function ts(re){return function Ei(re){re._throwIfRoot("deleteObject");const Y=function Xt(re,Y){const $e=Wt(Y.fullServerUrl(),re.host,re._protocol),Mn=new Te($e,"DELETE",function fn(Kt,An){},re.maxOperationRetryTime);return Mn.successCodes=[200,204],Mn.errorHandler=hn(Y),Mn}(re.storage,re._location);return re.storage.makeRequestWithTokens(Y,gi)}(re=(0,B.m9)(re))}function ai(re,Y){return po(re=(0,B.m9)(re),Y)}function ws(re,Y){return ps(re,Y)}function oi(re=(0,o.getApp)(),Y){re=(0,B.m9)(re);const $e=(0,o._getProvider)(re,Xi).getImmediate({identifier:Y}),ht=(0,B.P0)("storage");return ht&&ns($e,...ht),$e}function ns(re,Y,Ne,$e={}){!function Wr(re,Y,Ne,$e={}){re.host=`${Y}:${Ne}`,re._protocol="http";const{mockUserToken:ht}=$e;ht&&(re._overrideAuthToken="string"==typeof ht?ht:(0,B.Sg)(ht,re.app.options.projectId))}(re,Y,Ne,$e)}function Ds(re,{instanceIdentifier:Y}){const Ne=re.getProvider("app").getImmediate(),$e=re.getProvider("auth-internal"),ht=re.getProvider("app-check-internal");return new si(Ne,$e,ht,Y,o.SDK_VERSION)}!function ci(){(0,o._registerComponent)(new Se.wA(Xi,Ds,"PUBLIC").setMultipleInstances(!0)),(0,o.registerVersion)(Ui,"0.12.5",""),(0,o.registerVersion)(Ui,"0.12.5","esm2017")}()},9058:(sn,lt,k)=>{"use strict";k.d(lt,{BH:()=>Ge,G6:()=>we,L:()=>ve,LL:()=>_t,P0:()=>ke,Pz:()=>tt,Sg:()=>Ze,UG:()=>Ee,ZB:()=>oe,ZR:()=>it,aH:()=>Oe,b$:()=>Sn,eu:()=>Ie,hl:()=>te,jU:()=>Ot,m9:()=>Cr,ne:()=>Er,pd:()=>Bn,r3:()=>mr,ru:()=>Vt,tV:()=>$,uI:()=>bt,vZ:()=>xn,w1:()=>Ke,xO:()=>Yt,xb:()=>Qt,z$:()=>dt,zd:()=>In});const Se=function(qe){const ce=[];let K=0;for(let H=0;H<qe.length;H++){let U=qe.charCodeAt(H);U<128?ce[K++]=U:U<2048?(ce[K++]=U>>6|192,ce[K++]=63&U|128):55296==(64512&U)&&H+1<qe.length&&56320==(64512&qe.charCodeAt(H+1))?(U=65536+((1023&U)<<10)+(1023&qe.charCodeAt(++H)),ce[K++]=U>>18|240,ce[K++]=U>>12&63|128,ce[K++]=U>>6&63|128,ce[K++]=63&U|128):(ce[K++]=U>>12|224,ce[K++]=U>>6&63|128,ce[K++]=63&U|128)}return ce},Ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(qe,ce){if(!Array.isArray(qe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=ce?this.byteToCharMapWebSafe_:this.byteToCharMap_,H=[];for(let U=0;U<qe.length;U+=3){const Te=qe[U],Xe=U+1<qe.length,Nt=Xe?qe[U+1]:0,$t=U+2<qe.length,mn=$t?qe[U+2]:0;let Xn=(15&Nt)<<2|mn>>6,Je=63&mn;$t||(Je=64,Xe||(Xn=64)),H.push(K[Te>>2],K[(3&Te)<<4|Nt>>4],K[Xn],K[Je])}return H.join("")},encodeString(qe,ce){return this.HAS_NATIVE_SUPPORT&&!ce?btoa(qe):this.encodeByteArray(Se(qe),ce)},decodeString(qe,ce){return this.HAS_NATIVE_SUPPORT&&!ce?atob(qe):function(qe){const ce=[];let K=0,H=0;for(;K<qe.length;){const U=qe[K++];if(U<128)ce[H++]=String.fromCharCode(U);else if(U>191&&U<224){const Te=qe[K++];ce[H++]=String.fromCharCode((31&U)<<6|63&Te)}else if(U>239&&U<365){const $t=((7&U)<<18|(63&qe[K++])<<12|(63&qe[K++])<<6|63&qe[K++])-65536;ce[H++]=String.fromCharCode(55296+($t>>10)),ce[H++]=String.fromCharCode(56320+(1023&$t))}else{const Te=qe[K++],Xe=qe[K++];ce[H++]=String.fromCharCode((15&U)<<12|(63&Te)<<6|63&Xe)}}return ce.join("")}(this.decodeStringToByteArray(qe,ce))},decodeStringToByteArray(qe,ce){this.init_();const K=ce?this.charToByteMapWebSafe_:this.charToByteMap_,H=[];for(let U=0;U<qe.length;){const Te=K[qe.charAt(U++)],Nt=U<qe.length?K[qe.charAt(U)]:0;++U;const mn=U<qe.length?K[qe.charAt(U)]:64;++U;const hn=U<qe.length?K[qe.charAt(U)]:64;if(++U,null==Te||null==Nt||null==mn||null==hn)throw new de;H.push(Te<<2|Nt>>4),64!==mn&&(H.push(Nt<<4&240|mn>>2),64!==hn&&H.push(mn<<6&192|hn))}return H},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let qe=0;qe<this.ENCODED_VALS.length;qe++)this.byteToCharMap_[qe]=this.ENCODED_VALS.charAt(qe),this.charToByteMap_[this.byteToCharMap_[qe]]=qe,this.byteToCharMapWebSafe_[qe]=this.ENCODED_VALS_WEBSAFE.charAt(qe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[qe]]=qe,qe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(qe)]=qe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(qe)]=qe)}}};class de extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ve=function(qe){return function(qe){const ce=Se(qe);return Ae.encodeByteArray(ce,!0)}(qe).replace(/\./g,"")},$=function(qe){try{return Ae.decodeString(qe,!0)}catch(ce){console.error("base64Decode failed: ",ce)}return null};function oe(qe,ce){if(!(ce instanceof Object))return ce;switch(ce.constructor){case Date:return new Date(ce.getTime());case Object:void 0===qe&&(qe={});break;case Array:qe=[];break;default:return ce}for(const K in ce)!ce.hasOwnProperty(K)||!be(K)||(qe[K]=oe(qe[K],ce[K]));return qe}function be(qe){return"__proto__"!==qe}const We=()=>{try{return function ye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const qe=process.env.__FIREBASE_DEFAULTS__;return qe?JSON.parse(qe):void 0})()||(()=>{if(typeof document>"u")return;let qe;try{qe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ce=qe&&$(qe[1]);return ce&&JSON.parse(ce)})()}catch(qe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${qe}`)}},ke=qe=>{const ce=(qe=>{var ce,K;return null===(K=null===(ce=We())||void 0===ce?void 0:ce.emulatorHosts)||void 0===K?void 0:K[qe]})(qe);if(!ce)return;const K=ce.lastIndexOf(":");if(K<=0||K+1===ce.length)throw new Error(`Invalid host ${ce} with no separate hostname and port!`);const H=parseInt(ce.substring(K+1),10);return"["===ce[0]?[ce.substring(1,K-1),H]:[ce.substring(0,K),H]},Oe=()=>{var qe;return null===(qe=We())||void 0===qe?void 0:qe.config},tt=qe=>{var ce;return null===(ce=We())||void 0===ce?void 0:ce[`_${qe}`]};class Ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ce,K)=>{this.resolve=ce,this.reject=K})}wrapCallback(ce){return(K,H)=>{K?this.reject(K):this.resolve(H),"function"==typeof ce&&(this.promise.catch(()=>{}),1===ce.length?ce(K):ce(K,H))}}}function Ze(qe,ce){if(qe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const H=ce||"demo-project",U=qe.iat||0,Te=qe.sub||qe.user_id;if(!Te)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Xe=Object.assign({iss:`https://securetoken.google.com/${H}`,aud:H,iat:U,exp:U+3600,auth_time:U,sub:Te,user_id:Te,firebase:{sign_in_provider:"custom",identities:{}}},qe);return[ve(JSON.stringify({alg:"none",type:"JWT"})),ve(JSON.stringify(Xe)),""].join(".")}function dt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function bt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function Ee(){var qe;const ce=null===(qe=We())||void 0===qe?void 0:qe.forceEnvironment;if("node"===ce)return!0;if("browser"===ce)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ot(){return"object"==typeof self&&self.self===self}function Vt(){const qe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof qe&&void 0!==qe.id}function Sn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ke(){const qe=dt();return qe.indexOf("MSIE ")>=0||qe.indexOf("Trident/")>=0}function we(){return!Ee()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function te(){try{return"object"==typeof indexedDB}catch{return!1}}function Ie(){return new Promise((qe,ce)=>{try{let K=!0;const H="validate-browser-context-for-indexeddb-analytics-module",U=self.indexedDB.open(H);U.onsuccess=()=>{U.result.close(),K||self.indexedDB.deleteDatabase(H),qe(!0)},U.onupgradeneeded=()=>{K=!1},U.onerror=()=>{var Te;ce((null===(Te=U.error)||void 0===Te?void 0:Te.message)||"")}}catch(K){ce(K)}})}class it extends Error{constructor(ce,K,H){super(K),this.code=ce,this.customData=H,this.name="FirebaseError",Object.setPrototypeOf(this,it.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_t.prototype.create)}}class _t{constructor(ce,K,H){this.service=ce,this.serviceName=K,this.errors=H}create(ce,...K){const H=K[0]||{},U=`${this.service}/${ce}`,Te=this.errors[ce],Xe=Te?function Bt(qe,ce){return qe.replace(Gt,(K,H)=>{const U=ce[H];return null!=U?String(U):`<${H}?>`})}(Te,H):"Error";return new it(U,`${this.serviceName}: ${Xe} (${U}).`,H)}}const Gt=/\{\$([^}]+)}/g;function mr(qe,ce){return Object.prototype.hasOwnProperty.call(qe,ce)}function Qt(qe){for(const ce in qe)if(Object.prototype.hasOwnProperty.call(qe,ce))return!1;return!0}function xn(qe,ce){if(qe===ce)return!0;const K=Object.keys(qe),H=Object.keys(ce);for(const U of K){if(!H.includes(U))return!1;const Te=qe[U],Xe=ce[U];if(Pr(Te)&&Pr(Xe)){if(!xn(Te,Xe))return!1}else if(Te!==Xe)return!1}for(const U of H)if(!K.includes(U))return!1;return!0}function Pr(qe){return null!==qe&&"object"==typeof qe}function Yt(qe){const ce=[];for(const[K,H]of Object.entries(qe))Array.isArray(H)?H.forEach(U=>{ce.push(encodeURIComponent(K)+"="+encodeURIComponent(U))}):ce.push(encodeURIComponent(K)+"="+encodeURIComponent(H));return ce.length?"&"+ce.join("&"):""}function In(qe){const ce={};return qe.replace(/^\?/,"").split("&").forEach(H=>{if(H){const[U,Te]=H.split("=");ce[decodeURIComponent(U)]=decodeURIComponent(Te)}}),ce}function Bn(qe){const ce=qe.indexOf("?");if(!ce)return"";const K=qe.indexOf("#",ce);return qe.substring(ce,K>0?K:void 0)}function Er(qe,ce){const K=new br(qe,ce);return K.subscribe.bind(K)}class br{constructor(ce,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{ce(this)}).catch(H=>{this.error(H)})}next(ce){this.forEachObserver(K=>{K.next(ce)})}error(ce){this.forEachObserver(K=>{K.error(ce)}),this.close(ce)}complete(){this.forEachObserver(ce=>{ce.complete()}),this.close()}subscribe(ce,K,H){let U;if(void 0===ce&&void 0===K&&void 0===H)throw new Error("Missing Observer.");U=function Kn(qe,ce){if("object"!=typeof qe||null===qe)return!1;for(const K of ce)if(K in qe&&"function"==typeof qe[K])return!0;return!1}(ce,["next","error","complete"])?ce:{next:ce,error:K,complete:H},void 0===U.next&&(U.next=Yr),void 0===U.error&&(U.error=Yr),void 0===U.complete&&(U.complete=Yr);const Te=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?U.error(this.finalError):U.complete()}catch{}}),this.observers.push(U),Te}unsubscribeOne(ce){void 0===this.observers||void 0===this.observers[ce]||(delete this.observers[ce],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ce){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,ce)}sendOne(ce,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ce])try{K(this.observers[ce])}catch(H){typeof console<"u"&&console.error&&console.error(H)}})}close(ce){this.finalized||(this.finalized=!0,void 0!==ce&&(this.finalError=ce),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yr(){}function Cr(qe){return qe&&qe._delegate?qe._delegate:qe}},769:(sn,lt,k)=>{"use strict";k.d(lt,{y:()=>oe});var f=k(5861),o=k(2181),B=k(7398),Se=k(1631),me=k(6306),Ae=k(2096),de=k(3914),ae=k(5879),ve=k(7104),$=k(9862),z=k(6814);let oe=(()=>{class be{constructor(De,xe,Ye,We,mt,ke){this.firestore=De,this.http=xe,this.route=Ye,this.location=We,this.router=mt,this.activatedRoute=ke,this.analyticsCollection=this.firestore.collection("analytics"),this.trackPageViews()}getAnalytics(){return this.firestore.collection("analytics",De=>De.orderBy("timestamp","desc")).valueChanges()}trackPageViews(){this.router.events.pipe((0,o.h)(De=>De instanceof de.m2),(0,B.U)(()=>this.activatedRoute),(0,B.U)(De=>{for(;De.firstChild;)De=De.firstChild;return De}),(0,Se.z)(De=>De.queryParams),(0,Se.z)(De=>this.router.events.pipe((0,o.h)(xe=>xe instanceof de.m2),(0,B.U)(xe=>({navigationEvent:xe,queryParams:De}))))).subscribe(({navigationEvent:De,queryParams:xe})=>{this.logAnalyticsData(De.urlAfterRedirects,xe,De.type)})}logAnalyticsData(De,xe,Ye){var We=this;return(0,f.Z)(function*(){const mt=navigator.userAgent,ke=new Date,Oe=We.getBrowserType(mt),tt=/mobile/i.test(mt),Ge={pagePath:De,queryParams:xe,timestamp:ke,browser:Oe,isMobile:tt,event_type:Ye};return We.firestore.collection("analytics").add(Ge)})()}getBrowserType(De){return De.includes("Firefox")?"Firefox":De.includes("Chrome")?"Chrome":De.includes("Safari")?"Safari":De.includes("Edge")?"Edge":"Unknown"}getIPAddress(){return this.http.get("https://api.ipify.org/?format=json").pipe((0,me.K)(De=>(console.error("Error getting IP address: ",De),(0,Ae.of)({ip:"Unknown"}))))}static#e=this.\u0275fac=function(xe){return new(xe||be)(ae.LFG(ve.ST),ae.LFG($.eN),ae.LFG(de.gz),ae.LFG(z.Ye),ae.LFG(de.F0),ae.LFG(de.gz))};static#t=this.\u0275prov=ae.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})()},4626:(sn,lt,k)=>{"use strict";k.d(lt,{e:()=>ae});var f=k(5861),o=k(2459),B=k(6306),Se=k(7398),me=k(5879),Ae=k(7213),de=k(3914);let ae=(()=>{class ve{constructor(z,oe){this.afAuth=z,this.router=oe,this.user$=this.afAuth.authState}login(z,oe){return this.router.navigate(["/admin"]),(0,o.D)(this.afAuth.signInWithEmailAndPassword(z,oe)).pipe((0,B.K)(be=>{throw console.error("Login error: ",be),be}))}logout(){var z=this;return(0,f.Z)(function*(){yield z.afAuth.signOut(),z.router.navigate(["/login"])})()}isLoggedIn(){return this.user$.pipe((0,Se.U)(z=>!!z))}static#e=this.\u0275fac=function(oe){return new(oe||ve)(me.LFG(Ae.zQ),me.LFG(de.F0))};static#t=this.\u0275prov=me.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})()},5842:(sn,lt,k)=>{"use strict";k.d(lt,{I:()=>Ae});var f=k(5861);class o{constructor(){this.message="",this.context="",this.stack="",this.timestamp=new Date,this.id=""}}var B=k(1043),Se=k(5879),me=k(7104);let Ae=(()=>{class de{constructor(ve){this.firestore=ve,this.err=new o,this.errorLogsCollection=this.firestore.collection("errorLogs")}logError(ve,$){const z={message:ve.message||ve.toString(),stack:ve.stack||"",timestamp:B.EK.now(),context:$||""};return this.firestore.collection("errorLogs").add(Object.assign({},z))}getErrorLogs(){return this.firestore.collection("errorLogs",ve=>ve.orderBy("timestamp","desc").limit(200)).valueChanges()}clearErrorLogs(){var ve=this;return(0,f.Z)(function*(){const $=yield ve.firestore.collection("errorLogs").get().toPromise();if($&&!$.empty){const z=ve.firestore.firestore.batch();return $.forEach(oe=>{z.delete(oe.ref)}),z.commit()}console.warn("No error logs to clear.")})()}static#e=this.\u0275fac=function($){return new($||de)(Se.LFG(me.ST))};static#t=this.\u0275prov=Se.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})()},3375:(sn,lt,k)=>{"use strict";k.d(lt,{n:()=>de});var f=k(7398),o=k(6306),B=k(8504),Se=k(5879),me=k(7104),Ae=k(5842);let de=(()=>{class ae{constructor($,z){this.firestore=$,this.errorLoggingService=z,this.eventsCollection=this.firestore.collection("Events")}getEvents(){return this.firestore.collection("Events",$=>$.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,f.U)($=>$.map(z=>{const oe=z.payload.doc.data();return{id:z.payload.doc.id,...oe}}))).pipe((0,f.U)($=>$.filter(z=>1==z.Approved))).pipe((0,o.K)($=>(this.errorLoggingService.logError($,"getEvents"),(0,B._)(()=>new Error($)))))}getAllEvents(){return this.firestore.collection("Events",$=>$.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,f.U)($=>$.map(z=>{const oe=z.payload.doc.data();return{id:z.payload.doc.id,...oe}}))).pipe((0,o.K)($=>(this.errorLoggingService.logError($,"getAllEvents"),(0,B._)(()=>new Error($)))))}getEventById($){return this.eventsCollection.doc($).valueChanges().pipe((0,o.K)(z=>(this.errorLoggingService.logError(z,"getGetEventById: "+$),(0,B._)(()=>new Error(z)))))}addEvent($){const z=this.firestore.createId();return $.Date_Created=new Date,$.Date_Updated=new Date,$.ApprovedDate=new Date,$.Approved=!0,this.firestore.collection("Events").doc(z).set($).catch(oe=>{throw this.errorLoggingService.logError(oe,"addEvent"),oe})}updateEvent($,z){return z.Date_Updated=new Date,this.eventsCollection.doc($).update(z).catch(oe=>{throw this.errorLoggingService.logError(oe,"updateEvent"),oe}),this.firestore.doc(`Events/${$}`).valueChanges().pipe((0,f.U)(oe=>oe?{id:$,...oe}:void 0))}deleteService($){return this.eventsCollection.doc($).delete().catch(z=>{throw this.errorLoggingService.logError(z,"deleteEvent"),z})}static#e=this.\u0275fac=function(z){return new(z||ae)(Se.LFG(me.ST),Se.LFG(Ae.I))};static#t=this.\u0275prov=Se.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})()},8779:(sn,lt,k)=>{"use strict";k.d(lt,{K:()=>$});var f=k(4716),o=k(4664),B=k(6306),Se=k(5592),me=k(2459),Ae=k(8504),de=k(5879),ae=k(243),ve=k(5842);let $=(()=>{class z{constructor(be,ye){this.storage=be,this.errorLoggingService=ye}uploadImage(be,ye){const De=`${ye}/${be.name}`,xe=this.storage.ref(De),Ye=this.storage.upload(De,be);return new Se.y(We=>{Ye.snapshotChanges().pipe((0,f.x)(()=>{xe.getDownloadURL().subscribe(mt=>{We.next(mt),We.complete()})})).subscribe()})}uploadOfferImage(be,ye){const De=`offers/${ye}/${be.name}`,xe=this.storage.ref(De),Ye=this.storage.upload(De,be);return(0,me.D)(Ye).pipe((0,o.w)(()=>xe.getDownloadURL()),(0,B.K)(We=>{throw this.errorLoggingService.logError(We,"uploadImage"),We}))}deleteOfferImage(be){return this.storage.refFromURL(be).delete().pipe((0,B.K)(De=>(this.errorLoggingService.logError(De,"deleteImage"),(0,Ae._)(()=>new Error(De)))))}static#e=this.\u0275fac=function(ye){return new(ye||z)(de.LFG(ae.Q1),de.LFG(ve.I))};static#t=this.\u0275prov=de.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})()},8924:(sn,lt,k)=>{"use strict";k.d(lt,{b:()=>$});var f=k(7398),o=k(6306),B=k(8504),Se=k(2459),me=k(4664),Ae=k(5879),de=k(7104),ae=k(5842),ve=k(8779);let $=(()=>{class z{constructor(be,ye,De){this.firestore=be,this.errorLoggingService=ye,this.imageService=De,this.offerCollection=this.firestore.collection("Offers")}generateOfferId(){return this.firestore.createId()}getAllOffers(){return this.firestore.collection("Offers",be=>be.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,f.U)(be=>be.map(ye=>{const De=ye.payload.doc.data();return{id:ye.payload.doc.id,...De}}))).pipe((0,o.K)(be=>(this.errorLoggingService.logError(be,"getAllOffers"),(0,B._)(()=>new Error(be)))))}getOffers(){return this.firestore.collection("Offers",be=>be.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,f.U)(be=>be.map(ye=>{const De=ye.payload.doc.data();return{id:ye.payload.doc.id,...De}}))).pipe((0,f.U)(be=>be.filter(ye=>1==ye.Approved))).pipe((0,f.U)(be=>be.filter(ye=>1==ye.Approved))).pipe((0,o.K)(be=>(this.errorLoggingService.logError(be,"getApprovedOffers"),(0,B._)(()=>new Error(be)))))}getOfferById(be){return this.firestore.collection("Offers").doc(be).valueChanges().pipe((0,f.U)(ye=>{if(!ye)throw new Error(`Offer with ID ${be} not found`);return{id:be,...ye}}),(0,o.K)(ye=>(this.errorLoggingService.logError(ye,"getOfferById: "+be),(0,B._)(()=>new Error(ye)))))}getAllOfferTypes(){return this.firestore.collection("OfferTypes").valueChanges().pipe((0,f.U)(be=>{const ye=be.map(De=>De.OfferType);return Array.from(new Set(ye))})).pipe((0,o.K)(be=>(this.errorLoggingService.logError(be,"getOfferTypes"),(0,B._)(()=>new Error(be)))))}addOffer(be){console.log(be);const ye=this.firestore.createId();return be.id=ye,be.Date_Created=(new Date).toISOString(),be.Date_Updated=(new Date).toISOString(),this.offerCollection.doc(ye).set(Object.assign({},be)).catch(De=>{throw this.errorLoggingService.logError(De,"addOffer"),De}),this.firestore.doc(`Offers/${ye}`).valueChanges().pipe((0,f.U)(De=>De?{id:ye,...De}:void 0))}addOfferWithId(be,ye){return be.id=ye,be.Date_Created=(new Date).toISOString(),be.Date_Updated=(new Date).toISOString(),(0,Se.D)(this.offerCollection.doc(ye).set(Object.assign({},be))).pipe((0,me.w)(()=>this.firestore.doc(`Offers/${ye}`).valueChanges().pipe((0,f.U)(De=>{if(!De)throw new Error(`Offer with ID ${ye} not found`);return{...De,id:ye}}),(0,o.K)(De=>(this.errorLoggingService.logError(De,"addOffer"),(0,B._)(()=>new Error(De)))))))}updateOffer(be,ye){return console.log("Update Offer: "+be),ye.Date_Updated=(new Date).toISOString(),this.offerCollection.doc(be).update(ye).catch(De=>{throw this.errorLoggingService.logError(De,"updateOffer"),De}),this.firestore.doc(`Offers/${be}`).valueChanges().pipe((0,f.U)(De=>De?{id:be,...De}:void 0))}deleteOffer(be){return this.offerCollection.doc(be).delete().catch(ye=>{throw this.errorLoggingService.logError(ye,"deleteOffer"),ye})}static#e=this.\u0275fac=function(ye){return new(ye||z)(Ae.LFG(de.ST),Ae.LFG(ae.I),Ae.LFG(ve.K))};static#t=this.\u0275prov=Ae.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})()},614:(sn,lt,k)=>{"use strict";k.d(lt,{r:()=>de});var f=k(7398),o=k(6306),B=k(8504),Se=k(5879),me=k(7104),Ae=k(5842);let de=(()=>{class ae{constructor($,z){this.firestore=$,this.errorLoggingService=z,this.servicesCollection=this.firestore.collection("Services")}getServices(){return this.firestore.collection("Services",$=>$.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,f.U)($=>$.map(z=>{const oe=z.payload.doc.data();return{id:z.payload.doc.id,...oe}}))).pipe((0,f.U)($=>$.filter(z=>1==z.Approved))).pipe((0,o.K)($=>(this.errorLoggingService.logError($,"getApprovedServices"),(0,B._)(()=>new Error($)))))}getAllServices(){return this.firestore.collection("Services",$=>$.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,f.U)($=>$.map(z=>{const oe=z.payload.doc.data();return{id:z.payload.doc.id,...oe}}))).pipe((0,o.K)($=>(this.errorLoggingService.logError($,"getAllServices"),(0,B._)(()=>new Error($)))))}getServiceById($){return this.servicesCollection.doc($).valueChanges().pipe((0,o.K)(z=>(this.errorLoggingService.logError(z,"getGetServiceById: "+$),(0,B._)(()=>new Error(z)))))}getServicesByType($){return this.firestore.collection("Services",z=>z.where("Service_Type","==",$).orderBy("Community_Sponsor","desc")).valueChanges().pipe((0,o.K)(z=>(this.errorLoggingService.logError(z,"getServiceByServiceType: "+$),(0,B._)(()=>new Error(z)))))}getAllServiceTypes(){return this.firestore.collection("ListOfServices").valueChanges().pipe((0,f.U)($=>{const z=$.map(oe=>oe.Name);return Array.from(new Set(z))})).pipe((0,o.K)($=>(this.errorLoggingService.logError($,"getServiceTypes"),(0,B._)(()=>new Error($)))))}addService($){const z=this.firestore.createId();return $.id=z,$.Date_Created=(new Date).toISOString(),$.Date_Updated=(new Date).toISOString(),this.servicesCollection.doc(z).set(Object.assign({},$)).catch(oe=>{throw this.errorLoggingService.logError(oe,"addService"),oe}),this.firestore.doc(`Services/${z}`).valueChanges().pipe((0,f.U)(oe=>oe?{id:z,...oe}:void 0))}updateService($,z){return z.Date_Updated=(new Date).toISOString(),this.servicesCollection.doc($).update(Object.assign({},z)).catch(oe=>{throw this.errorLoggingService.logError(oe,"updateService"),oe}),this.firestore.doc(`Services/${$}`).valueChanges().pipe((0,f.U)(oe=>oe?{id:$,...oe}:void 0))}deleteService($){return this.servicesCollection.doc($).delete().catch(z=>{throw this.errorLoggingService.logError(z,"deleteService"),z})}static#e=this.\u0275fac=function(z){return new(z||ae)(Se.LFG(me.ST),Se.LFG(Ae.I))};static#t=this.\u0275prov=Se.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})()},2380:(sn,lt,k)=>{"use strict";k.d(lt,{d:()=>me});var f=k(5879),o=k(769),B=k(6814);function Se(Ae,de){if(1&Ae&&(f.TgZ(0,"tr")(1,"td"),f._uU(2),f.ALo(3,"date"),f.qZA(),f.TgZ(4,"td"),f._uU(5),f.qZA(),f.TgZ(6,"td"),f._uU(7),f.qZA(),f.TgZ(8,"td"),f._uU(9),f.ALo(10,"json"),f.qZA(),f.TgZ(11,"td"),f._uU(12),f.qZA(),f.TgZ(13,"td"),f._uU(14),f.qZA(),f.TgZ(15,"td"),f._uU(16),f.qZA()()),2&Ae){const ae=de.$implicit;f.xp6(2),f.Oqu(f.xi3(3,7,null==ae.timestamp?null:ae.timestamp.toDate(),"short")),f.xp6(3),f.Oqu(ae.eventType),f.xp6(2),f.Oqu(ae.pagePath),f.xp6(2),f.Oqu(f.lcZ(10,10,ae.queryParams)),f.xp6(3),f.Oqu(ae.browser),f.xp6(2),f.Oqu(ae.isMobile?"Mobile":"Desktop"),f.xp6(2),f.Oqu(ae.ipAddress)}}let me=(()=>{class Ae{constructor(ae){this.analyticsService=ae}ngOnInit(){this.analyticsService.getAnalytics().subscribe(ae=>{this.analyticsLogs=ae},ae=>{console.error("Error fetching analytics:",ae)})}static#e=this.\u0275fac=function(ve){return new(ve||Ae)(f.Y36(o.y))};static#t=this.\u0275cmp=f.Xpm({type:Ae,selectors:[["app-analytics"]],decls:22,vars:1,consts:[[1,"analytics-container"],[4,"ngFor","ngForOf"]],template:function(ve,$){1&ve&&(f.TgZ(0,"div",0)(1,"h2"),f._uU(2,"Analytics Logs"),f.qZA(),f.TgZ(3,"table")(4,"thead")(5,"tr")(6,"th"),f._uU(7,"Timestamp"),f.qZA(),f.TgZ(8,"th"),f._uU(9,"Event Type"),f.qZA(),f.TgZ(10,"th"),f._uU(11,"Page Path"),f.qZA(),f.TgZ(12,"th"),f._uU(13,"Query Params"),f.qZA(),f.TgZ(14,"th"),f._uU(15,"Browser"),f.qZA(),f.TgZ(16,"th"),f._uU(17,"Device"),f.qZA(),f.TgZ(18,"th"),f._uU(19,"IP Address"),f.qZA()()(),f.TgZ(20,"tbody"),f.YNc(21,Se,17,12,"tr",1),f.qZA()()()),2&ve&&(f.xp6(21),f.Q6J("ngForOf",$.analyticsLogs))},dependencies:[B.sg,B.Ts,B.uU],styles:[".analytics-container[_ngcontent-%COMP%]{padding:20px;margin:auto}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;text-align:left}th[_ngcontent-%COMP%]{background-color:#f2f2f2}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}"]})}return Ae})()},5902:(sn,lt,k)=>{"use strict";var f=k(6593),o=k(5879),B=k(6814);let Se;try{Se=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Se=!1}let $,me=(()=>{class E{constructor(u){this._platformId=u,this.isBrowser=this._platformId?(0,B.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Se)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(_){return new(_||E)(o.LFG(o.Lbi))};static#t=this.\u0275prov=o.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();function oe(E){return function z(){if(null==$&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>$=!0}))}finally{$=$||!1}return $}()?E:!!E.capture}function Ui(E){return Array.isArray(E)?E:[E]}var To=k(8645),gs=k(2572),js=k(5211),zr=k(5592),_n=k(8180),er=k(2181),Oi=k(3620),ts=k(7398),ai=k(7921),ws=k(9773);const ns=new Set;let ms,rr=(()=>{class E{constructor(u,_){this._platform=u,this._nonce=_,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ci}matchMedia(u){return(this._platform.WEBKIT||this._platform.BLINK)&&function Ds(E,h){if(!ns.has(E))try{ms||(ms=document.createElement("style"),h&&(ms.nonce=h),ms.setAttribute("type","text/css"),document.head.appendChild(ms)),ms.sheet&&(ms.sheet.insertRule(`@media ${E} {body{ }}`,0),ns.add(E))}catch(u){console.error(u)}}(u,this._nonce),this._matchMedia(u)}static#e=this.\u0275fac=function(_){return new(_||E)(o.LFG(me),o.LFG(o.Ojb,8))};static#t=this.\u0275prov=o.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();function ci(E){return{matches:"all"===E||""===E,media:E,addListener:()=>{},removeListener:()=>{}}}let re=(()=>{class E{constructor(u,_){this._mediaMatcher=u,this._zone=_,this._queries=new Map,this._destroySubject=new To.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(u){return Y(Ui(u)).some(C=>this._registerQuery(C).mql.matches)}observe(u){const C=Y(Ui(u)).map(_e=>this._registerQuery(_e).observable);let G=(0,gs.a)(C);return G=(0,js.z)(G.pipe((0,_n.q)(1)),G.pipe(function xr(E){return(0,er.h)((h,u)=>E<=u)}(1),(0,Oi.b)(0))),G.pipe((0,ts.U)(_e=>{const Le={matches:!1,breakpoints:{}};return _e.forEach(({matches:yt,query:Ft})=>{Le.matches=Le.matches||yt,Le.breakpoints[Ft]=yt}),Le}))}_registerQuery(u){if(this._queries.has(u))return this._queries.get(u);const _=this._mediaMatcher.matchMedia(u),G={observable:new zr.y(_e=>{const Le=yt=>this._zone.run(()=>_e.next(yt));return _.addListener(Le),()=>{_.removeListener(Le)}}).pipe((0,ai.O)(_),(0,ts.U)(({matches:_e})=>({query:u,matches:_e})),(0,ws.R)(this._destroySubject)),mql:_};return this._queries.set(u,G),G}static#e=this.\u0275fac=function(_){return new(_||E)(o.LFG(rr),o.LFG(o.R0b))};static#t=this.\u0275prov=o.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();function Y(E){return E.map(h=>h.split(",")).reduce((h,u)=>h.concat(u)).map(h=>h.trim())}const Bi="cdk-high-contrast-black-on-white",bc="cdk-high-contrast-white-on-black",xs="cdk-high-contrast-active";let mo=(()=>{class E{constructor(u,_){this._platform=u,this._document=_,this._breakpointSubscription=(0,o.f3M)(re).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const u=this._document.createElement("div");u.style.backgroundColor="rgb(1,2,3)",u.style.position="absolute",this._document.body.appendChild(u);const _=this._document.defaultView||window,C=_&&_.getComputedStyle?_.getComputedStyle(u):null,G=(C&&C.backgroundColor||"").replace(/ /g,"");switch(u.remove(),G){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const u=this._document.body.classList;u.remove(xs,Bi,bc),this._hasCheckedHighContrastMode=!0;const _=this.getHighContrastMode();1===_?u.add(xs,Bi):2===_&&u.add(xs,bc)}}static#e=this.\u0275fac=function(_){return new(_||E)(o.LFG(me),o.LFG(B.K0))};static#t=this.\u0275prov=o.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})(),ua=(()=>{class E{static#e=this.\u0275fac=function(_){return new(_||E)};static#t=this.\u0275mod=o.oAB({type:E});static#n=this.\u0275inj=o.cJS({})}return E})();const ha=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function Ol(){return!0}});let Mo=(()=>{class E{constructor(u,_,C){this._sanityChecks=_,this._document=C,this._hasDoneGlobalChecks=!1,u._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(u){return!function tt(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[u])}static#e=this.\u0275fac=function(_){return new(_||E)(o.LFG(mo),o.LFG(ha,8),o.LFG(B.K0))};static#t=this.\u0275mod=o.oAB({type:E});static#n=this.\u0275inj=o.cJS({imports:[ua,ua]})}return E})(),Hs=(()=>{class E{static#e=this.\u0275fac=function(_){return new(_||E)};static#t=this.\u0275mod=o.oAB({type:E});static#n=this.\u0275inj=o.cJS({imports:[Mo,Mo]})}return E})();const Dc=oe({passive:!0,capture:!0});class qo{constructor(){this._events=new Map,this._delegateEventHandler=h=>{const u=function Oe(E){return E.composedPath?E.composedPath()[0]:E.target}(h);u&&this._events.get(h.type)?.forEach((_,C)=>{(C===u||C.contains(u))&&_.forEach(G=>G.handleEvent(h))})}}addHandler(h,u,_,C){const G=this._events.get(u);if(G){const _e=G.get(_);_e?_e.add(C):G.set(_,new Set([C]))}else this._events.set(u,new Map([[_,new Set([C])]])),h.runOutsideAngular(()=>{document.addEventListener(u,this._delegateEventHandler,Dc)})}removeHandler(h,u,_){const C=this._events.get(h);if(!C)return;const G=C.get(u);G&&(G.delete(_),0===G.size&&C.delete(u),0===C.size&&(this._events.delete(h),document.removeEventListener(h,this._delegateEventHandler,Dc)))}}class Ka{static#e=this._eventManager=new qo;constructor(h,u,_,C){this._target=h,this._ngZone=u,this._platform=C,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,C.isBrowser&&(this._containerElement=Xi(_))}fadeInRipple(h,u,_={}){const C=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),G={...Os,..._.animation},_e=_.radius||function Mc(E,h,u){const _=Math.max(Math.abs(E-u.left),Math.abs(E-u.right)),C=Math.max(Math.abs(h-u.top),Math.abs(h-u.bottom));return Math.sqrt(_*_+C*C)}(h,u,C),Le=h-C.left,yt=u-C.top,Ft=G.enterDuration,pn=document.createElement("div");pn.classList.add("mat-ripple-element"),pn.style.left=Le-_e+"px",pn.style.top=yt-_e+"px",pn.style.height=2*_e+"px",pn.style.width=2*_e+"px",null!=_.color&&(pn.style.backgroundColor=_.color),pn.style.transitionDuration=`${Ft}ms`,this._containerElement.appendChild(pn);const wn=window.getComputedStyle(pn),gr=wn.transitionDuration,nr="none"===wn.transitionProperty||"0s"===gr||"0s, 0s"===gr||0===C.width&&0===C.height,ur=new vi(this,pn,_,nr);pn.style.transform="scale3d(1, 1, 1)",ur.state=0,_.persistent||(this._mostRecentTransientRipple=ur);return!nr&&(Ft||G.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Is=()=>this._finishRippleTransition(ur),Ki=()=>this._destroyRipple(ur);pn.addEventListener("transitionend",Is),pn.addEventListener("transitioncancel",Ki)}),this._activeRipples.set(ur,null),(nr||!Ft)&&this._finishRippleTransition(ur),ur}fadeOutRipple(h){if(2===h.state||3===h.state)return;const u=h.element,_={...Os,...h.config.animation};u.style.transitionDuration=`${_.exitDuration}ms`,u.style.opacity="0",h.state=2,(h._animationForciblyDisabledThroughCss||!_.exitDuration)&&this._finishRippleTransition(h)}fadeOutAll(){this._getActiveRipples().forEach(h=>h.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(h=>{h.config.persistent||h.fadeOut()})}setupTriggerEvents(h){const u=Xi(h);!this._platform.isBrowser||!u||u===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=u,Wo.forEach(_=>{Ka._eventManager.addHandler(this._ngZone,_,u,this)}))}handleEvent(h){"mousedown"===h.type?this._onMousedown(h):"touchstart"===h.type?this._onTouchStart(h):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Ns.forEach(u=>{this._triggerElement.addEventListener(u,this,Sc)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(h){0===h.state?this._startFadeOutTransition(h):2===h.state&&this._destroyRipple(h)}_startFadeOutTransition(h){const u=h===this._mostRecentTransientRipple,{persistent:_}=h.config;h.state=1,!_&&(!u||!this._isPointerDown)&&h.fadeOut()}_destroyRipple(h){const u=this._activeRipples.get(h)??null;this._activeRipples.delete(h),this._activeRipples.size||(this._containerRect=null),h===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),h.state=3,null!==u&&(h.element.removeEventListener("transitionend",u.onTransitionEnd),h.element.removeEventListener("transitioncancel",u.onTransitionCancel)),h.element.remove()}_onMousedown(h){const u=function ds(E){return 0===E.buttons||0===E.detail}(h),_=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!u&&!_&&(this._isPointerDown=!0,this.fadeInRipple(h.clientX,h.clientY,this._target.rippleConfig))}_onTouchStart(h){if(!this._target.rippleDisabled&&!function _i(E){const h=E.touches&&E.touches[0]||E.changedTouches&&E.changedTouches[0];return!(!h||-1!==h.identifier||null!=h.radiusX&&1!==h.radiusX||null!=h.radiusY&&1!==h.radiusY)}(h)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const u=h.changedTouches;if(u)for(let _=0;_<u.length;_++)this.fadeInRipple(u[_].clientX,u[_].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(h=>{!h.config.persistent&&(1===h.state||h.config.terminateOnPointerUp&&0===h.state)&&h.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const h=this._triggerElement;h&&(Wo.forEach(u=>Ka._eventManager.removeHandler(u,h,this)),this._pointerUpEventsRegistered&&Ns.forEach(u=>h.removeEventListener(u,this,Sc)))}}let St=(()=>{class E{static#e=this.\u0275fac=function(_){return new(_||E)};static#t=this.\u0275mod=o.oAB({type:E});static#n=this.\u0275inj=o.cJS({imports:[Mo,B.ez,Mo]})}return E})();k(2096),k(8504),k(9315),k(9397),k(6306),k(4716),k(3020);var pa=k(9862);let kl=(()=>{class E{static#e=this.\u0275fac=function(_){return new(_||E)};static#t=this.\u0275mod=o.oAB({type:E});static#n=this.\u0275inj=o.cJS({imports:[Mo,Mo]})}return E})(),Fa=(()=>{class E{static#e=this.\u0275fac=function(_){return new(_||E)};static#t=this.\u0275mod=o.oAB({type:E});static#n=this.\u0275inj=o.cJS({imports:[Hs,Mo,Hs,Mo]})}return E})();var di=k(3914),xu=k(3375),Fo=k(8924);function Ou(E,h){if(1&E&&(o.TgZ(0,"div",13),o._UZ(1,"img",14),o.qZA()),2&E){const u=h.$implicit,_=h.index,C=o.oxw();o.ekj("active",_===C.currentImageIndex),o.xp6(1),o.MGl("alt","Offer Image ",_+1,""),o.Q6J("src",u,o.LSH)}}function La(E,h){1&E&&(o.TgZ(0,"span",15),o._uU(1,"\u2605"),o.qZA())}function $d(E,h){1&E&&(o.TgZ(0,"p"),o._uU(1,"Oferta a expirat"),o.qZA())}function Gd(E,h){1&E&&(o.TgZ(0,"p"),o._uU(1,"Oferta este valabil\u0101"),o.qZA())}function Ll(E,h){if(1&E&&(o.TgZ(0,"div")(1,"a",16),o._UZ(2,"img",17),o.qZA(),o._UZ(3,"br"),o._uU(4," Facebook"),o.qZA()),2&E){const u=o.oxw();o.xp6(1),o.s9C("href",u.offer.Facebook,o.LSH)}}function Nc(E,h){if(1&E&&(o.TgZ(0,"div")(1,"a",16),o._UZ(2,"img",18),o.qZA(),o._UZ(3,"br"),o._uU(4," Instagram"),o.qZA()),2&E){const u=o.oxw();o.xp6(1),o.MGl("href","https://www.instagram.com/",u.offer.Instagram,"",o.LSH)}}function Nu(E,h){if(1&E&&(o.TgZ(0,"div")(1,"a",19),o._UZ(2,"img",20),o.qZA(),o._UZ(3,"br"),o._uU(4," Email"),o.qZA()),2&E){const u=o.oxw();o.xp6(1),o.MGl("href","mailto:",u.offer.Email,"",o.LSH)}}function nf(E,h){if(1&E&&(o.TgZ(0,"div")(1,"a",16),o._UZ(2,"img",21),o.qZA(),o._UZ(3,"br"),o._uU(4," Website"),o.qZA()),2&E){const u=o.oxw();o.xp6(1),o.s9C("href",u.offer.Website,o.LSH)}}let dl=(()=>{class E{constructor(u){this.router=u,this.currentImageIndex=0,this.images=[],this.defaultImage="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/defaultImage.jpg"}ngOnInit(){console.log(this.offer),this.images=this.offer?.Images?.length?this.offer.Images:[this.defaultImage],this.startImageCarousel()}startImageCarousel(){setInterval(()=>{this.currentImageIndex=(this.currentImageIndex+1)%this.images.length},3e3)}nextImage(){this.currentImageIndex=(this.currentImageIndex+1)%this.images.length}prevImage(){this.currentImageIndex=(this.currentImageIndex-1+this.images.length)%this.images.length}navigateToDetails(){console.log("Navigating to details:",this.offer.id),this.router.navigate(["/offers",this.offer.id])}static#e=this.\u0275fac=function(_){return new(_||E)(o.Y36(di.F0))};static#t=this.\u0275cmp=o.Xpm({type:E,selectors:[["app-offer-card"]],inputs:{offer:"offer"},decls:44,vars:14,consts:[[1,"offer-card"],[1,"offer-carousel-container"],[1,"carousel"],[1,"carousel-inner"],["class","carousel-item",3,"active",4,"ngFor","ngForOf"],[1,"carousel-control","prev",3,"click"],[1,"carousel-control","next",3,"click"],[1,"offer-details"],["class","sponsor-icon",4,"ngIf"],[4,"ngIf"],[3,"click"],[1,"offer-footer"],[1,"social-icons"],[1,"carousel-item"],[1,"carousel-image",3,"src","alt"],[1,"sponsor-icon"],["target","_blank",3,"href"],["src","../../../assets/images/SVG/facebook-icon.svg"],["src","../../../assets/images/SVG/instagram-icon.svg"],[3,"href"],["src","../../../assets/images/SVG/email-icon.svg"],["src","../../../assets/images/SVG/browser-icon.svg"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),o.YNc(4,Ou,2,4,"div",4),o.qZA(),o.TgZ(5,"a",5),o.NdJ("click",function(){return C.prevImage()}),o._uU(6,"\u276e"),o.qZA(),o.TgZ(7,"a",6),o.NdJ("click",function(){return C.nextImage()}),o._uU(8,"\u276f"),o.qZA()()(),o.TgZ(9,"div",7)(10,"h3"),o._uU(11),o.qZA(),o.YNc(12,La,2,0,"span",8),o.TgZ(13,"p")(14,"strong"),o._uU(15,"Compania:"),o.qZA(),o._uU(16),o.qZA(),o._UZ(17,"hr"),o.TgZ(18,"p")(19,"strong"),o._uU(20,"Locatie:"),o.qZA(),o._uU(21),o.qZA(),o.TgZ(22,"p")(23,"strong"),o._uU(24,"Descriiere:"),o.qZA(),o._uU(25),o.qZA(),o.TgZ(26,"p")(27,"strong"),o._uU(28,"Pret:"),o.qZA(),o._uU(29),o.qZA(),o.TgZ(30,"p")(31,"strong"),o._uU(32,"Tip de ofert\u0101:"),o.qZA(),o._uU(33),o.qZA(),o.YNc(34,$d,2,0,"p",9),o.YNc(35,Gd,2,0,"p",9),o.TgZ(36,"button",10),o.NdJ("click",function(){return C.navigateToDetails()}),o._uU(37,"Detalii"),o.qZA()(),o.TgZ(38,"div",11)(39,"div",12),o.YNc(40,Ll,5,1,"div",9),o.YNc(41,Nc,5,1,"div",9),o.YNc(42,Nu,5,1,"div",9),o.YNc(43,nf,5,1,"div",9),o.qZA()()()),2&_&&(o.xp6(4),o.Q6J("ngForOf",C.images),o.xp6(7),o.Oqu(C.offer.Title),o.xp6(1),o.Q6J("ngIf",C.offer.Community_Sponsor),o.xp6(4),o.hij(" ",C.offer.Company_Name,""),o.xp6(5),o.hij(" ",C.offer.Location,""),o.xp6(4),o.Oqu(C.offer.Description),o.xp6(4),o.Oqu(C.offer.Price),o.xp6(4),o.Oqu(C.offer.OfferType),o.xp6(1),o.Q6J("ngIf",C.offer.Filled),o.xp6(1),o.Q6J("ngIf",!C.offer.Filled),o.xp6(5),o.Q6J("ngIf",C.offer.Facebook),o.xp6(1),o.Q6J("ngIf",C.offer.Instagram),o.xp6(1),o.Q6J("ngIf",C.offer.Email),o.xp6(1),o.Q6J("ngIf",C.offer.Website))},dependencies:[B.sg,B.O5],styles:[".offer-card[_ngcontent-%COMP%]{width:400px;min-height:550px;border-radius:8px;overflow:hidden;box-shadow:0 4px 8px #0000001a;transition:transform .3s;height:800px;position:relative;background-color:#fafafa}.offer-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.offer-carousel-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:400px;margin:0 auto}.carousel[_ngcontent-%COMP%]{width:100%;position:relative}.carousel-inner[_ngcontent-%COMP%]{overflow:hidden;border-radius:8px;min-height:300px}.carousel-item[_ngcontent-%COMP%]{display:none;text-align:center}.carousel-item.active[_ngcontent-%COMP%]{display:block}.carousel-image[_ngcontent-%COMP%]{width:400px;height:300px;object-fit:cover}.carousel-control[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);font-size:24px;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.5);cursor:pointer;-webkit-user-select:none;user-select:none}.carousel-control.prev[_ngcontent-%COMP%]{left:10px}.carousel-control.next[_ngcontent-%COMP%]{right:10px}.offer-details[_ngcontent-%COMP%]{padding:15px;text-align:left}.offer-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.offer-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.offer-footer[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:400px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px;color:gold}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}"]})}return E})();function Xa(E,h){if(1&E&&(o.TgZ(0,"div",8),o._UZ(1,"img",9),o.qZA()),2&E){const u=o.oxw();o.xp6(1),o.s9C("alt",u.event.Name),o.Q6J("src",u.event.Poster_Image,o.LSH)}}function Ep(E,h){if(1&E&&(o.TgZ(0,"p")(1,"strong"),o._uU(2,"Facebook:"),o.qZA(),o.TgZ(3,"a",4),o._uU(4),o.qZA()()),2&E){const u=o.oxw();o.xp6(3),o.Q6J("href",u.event.Facebook,o.LSH),o.xp6(1),o.Oqu(u.event.Facebook)}}function Vs(E,h){if(1&E&&(o.TgZ(0,"p")(1,"strong"),o._uU(2,"Instagram:"),o.qZA(),o.TgZ(3,"a",4),o._uU(4),o.qZA()()),2&E){const u=o.oxw();o.xp6(3),o.Q6J("href",u.event.Instagram,o.LSH),o.xp6(1),o.Oqu(u.event.Instagram)}}function Zd(E,h){1&E&&(o.TgZ(0,"div",10)(1,"span",11),o._uU(2,"Evenimentul a Expirat"),o.qZA()())}let hl=(()=>{class E{static#e=this.\u0275fac=function(_){return new(_||E)};static#t=this.\u0275cmp=o.Xpm({type:E,selectors:[["app-event-card"]],inputs:{event:"event"},decls:40,vars:17,consts:[[1,"event-card"],["class","event-image",4,"ngIf"],[1,"event-details"],[1,"card-title"],["target","_blank",3,"href"],[4,"ngIf"],[1,"card-subtitle"],["class","card-expired",4,"ngIf"],[1,"event-image"],[3,"src","alt"],[1,"card-expired"],[1,"expired"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0),o.YNc(1,Xa,2,2,"div",1),o.TgZ(2,"div",2)(3,"div",3),o._uU(4),o.qZA(),o.TgZ(5,"p")(6,"strong"),o._uU(7,"Locatie:"),o.qZA(),o._UZ(8,"br"),o._uU(9),o.qZA(),o.TgZ(10,"p")(11,"strong"),o._uU(12,"Data Evenimentului:"),o.qZA(),o._uU(13),o.ALo(14,"date"),o.qZA(),o.TgZ(15,"p")(16,"strong"),o._uU(17,"Ora:"),o.qZA(),o._uU(18),o.qZA(),o.TgZ(19,"p")(20,"strong"),o._uU(21,"Pret:"),o.qZA(),o._uU(22),o.qZA(),o.TgZ(23,"p")(24,"strong"),o._uU(25,"Persoana de contact:"),o.qZA(),o._uU(26),o.qZA(),o.TgZ(27,"p")(28,"strong"),o._uU(29,"Pagina Web:"),o.qZA(),o.TgZ(30,"a",4),o._uU(31),o.qZA()(),o.YNc(32,Ep,5,2,"p",5),o.YNc(33,Vs,5,2,"p",5),o.TgZ(34,"div")(35,"strong"),o._uU(36," Detalii"),o.qZA(),o.TgZ(37,"div",6),o._uU(38),o.qZA(),o.YNc(39,Zd,3,0,"div",7),o.qZA()()()),2&_&&(o.xp6(1),o.Q6J("ngIf",C.event.Poster_Image),o.xp6(3),o.Oqu(C.event.Name),o.xp6(5),o.Oqu(C.event.Location),o.xp6(4),o.hij(" ",o.xi3(14,14,C.event.Event_Date,"short"),""),o.xp6(5),o.hij(" ",C.event.Time,""),o.xp6(4),o.hij(" ",C.event.Price,""),o.xp6(4),o.AsE(" ",C.event.Contact," - ",C.event.Phone_Number,""),o.xp6(4),o.Q6J("href",C.event.Website,o.LSH),o.xp6(1),o.Oqu(C.event.Website),o.xp6(1),o.Q6J("ngIf",C.event.Facebook),o.xp6(1),o.Q6J("ngIf",C.event.Instagram),o.xp6(5),o.Oqu(C.event.Description),o.xp6(1),o.Q6J("ngIf",C.event.Expired))},dependencies:[B.O5,B.uU],styles:[".event-card[_ngcontent-%COMP%]{width:400px;min-height:550px;border-radius:8px;overflow:hidden;display:flex;flex-direction:column;margin:16px;box-shadow:0 4px 8px #0000001a;background-color:#fafafa}.event-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.event-details[_ngcontent-%COMP%]{padding:16px;text-align:left}.event-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.event-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0}.event-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.event-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.service-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:10px;padding:40px;width:calc(25% - 32px);box-sizing:border-box;position:relative;min-width:400px}.card-header[_ngcontent-%COMP%]{text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333}.card-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-top:4px}.card-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:gold}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}.services-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:30px;padding:30px}.services-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.services-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px;font-size:1rem}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}.add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}.card-expired[_ngcontent-%COMP%]{padding:10px;text-align:center}.expired[_ngcontent-%COMP%]{color:red}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.services-control[_ngcontent-%COMP%]{flex-direction:column}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}"]})}return E})();function ma(E,h){1&E&&o._UZ(0,"app-event-card",28),2&E&&o.Q6J("event",h.$implicit)}function kc(E,h){1&E&&o._UZ(0,"app-offer-card",29),2&E&&o.Q6J("offer",h.$implicit)}function qd(E,h){if(1&E&&(o.TgZ(0,"li",30)(1,"a",31),o._uU(2),o.qZA()()),2&E){const u=h.$implicit;o.xp6(1),o.s9C("href",u.url,o.LSH),o.xp6(1),o.Oqu(u.name)}}let Vl=(()=>{class E{constructor(u,_,C){this.eventService=u,this.offersService=_,this.router=C,this.resourceLinks=[{name:"Ambasada Romaniei in SUA",url:"https://washington.mae.ro/"},{name:"Ambasada SUA in Romania",url:"https://ro.usembassy.gov/"},{name:"American Romanian Cultural Society",url:"www.arcsproject.org"},{name:"Biserica Sfintii Trei Ierarhi",url:"http://www.ortodox.org/"},{name:"Romanian United Foundation",url:"https://www.romanianunitedfund.org/"}],this.events=[],this.offers=[]}ngOnInit(){this.eventService.getEvents().subscribe(u=>{this.events=u}),this.offersService.getOffers().subscribe(u=>{this.offers=u})}navigateToAddEvent(){this.router.navigate(["/add-event"])}static#e=this.\u0275fac=function(_){return new(_||E)(o.Y36(xu.n),o.Y36(Fo.b),o.Y36(di.F0))};static#t=this.\u0275cmp=o.Xpm({type:E,selectors:[["app-home"]],decls:100,vars:3,consts:[[1,"container"],[1,"hero"],[1,"container","hero-content"],[1,"hero-text"],["href","https://www.facebook.com/groups/RomaniinSeattle"],["href","https://www.facebook.com/groups/RomaniinSeattle",1,"btn"],[1,"hero-image"],["src","../../../assets/images/Seattle-Romania.png","alt","Seattle"],[1,"community-description"],[1,"community-descriptions"],[1,"description-card"],["href","/services/"],["href","/offers"],["href","/events"],[1,"sharedContent-Section"],[1,"services-container"],[3,"event",4,"ngFor","ngForOf"],[1,"offer-list"],[3,"offer",4,"ngFor","ngForOf"],[1,"resource-consulate"],["target","_blank","href","http://newyork.mae.ro/"],["target","_blank","href","http://chicago.mae.ro/"],["target","_blank","href","http://losangeles.mae.ro/"],["target","_blank","href","http://miami.mae.ro/"],[1,"resources-section"],[1,"section-header"],[1,"resource-list"],["class","resource-item",4,"ngFor","ngForOf"],[3,"event"],[3,"offer"],[1,"resource-item"],["target","_blank",3,"href"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"h1"),o._uU(5,"Bine ati venit in comunitatea "),o.TgZ(6,"a",4),o._uU(7,"Romani in Seattle"),o.qZA()(),o.TgZ(8,"p"),o._uU(9,"Servictii, oferte si evenimente pentru persoanele care locuiesc in zona Seattle."),o.qZA(),o.TgZ(10,"a",5),o._uU(11,"Join our Facebook Group"),o.qZA()(),o.TgZ(12,"div",6),o._UZ(13,"img",7),o.qZA()()(),o.TgZ(14,"section",8)(15,"div",0)(16,"h2"),o._uU(17,"Despre communitatea noastra"),o.qZA(),o.TgZ(18,"p"),o._uU(19,'Scopul al acestui website este de a beneficia Romani \xeen Seattle, prin schimbul de informa\u021bii utile si in acela\u0219i timp promov\xe2nd Companiile Romane\u0219ti din zona Seattle la \xa0Comunitatea Romaneasca de aici. Acesta a \xeenceput pe facebook prin grupul "Romani \xeen Seattle\u201d care acum con\u021bine peste 3700 de membri.'),o.qZA()()(),o.TgZ(20,"div",9)(21,"div",10)(22,"a",11)(23,"h2"),o._uU(24,"Servicii"),o.qZA()(),o.TgZ(25,"p"),o._uU(26,"Sprijini\u021bi-ne afacerile locale \u0219i descoperi\u021bi produse \u0219i servicii unice oferite de membrii comunit\u0103\u021bii."),o.qZA()(),o.TgZ(27,"div",10)(28,"a",12)(29,"h2"),o._uU(30,"Oportunit\u0103\u021bi si Oferte"),o.qZA()(),o.TgZ(31,"p"),o._uU(32,"Implica\u021bi-v\u0103 \u0219i face\u021bi o diferen\u021b\u0103 prin voluntariat pentru diverse proiecte \u0219i ini\u021biative comunitare."),o.qZA()(),o.TgZ(33,"div",10)(34,"a",13)(35,"h2"),o._uU(36,"Evenimente"),o.qZA()(),o.TgZ(37,"p"),o._uU(38,"Al\u0103tura\u021bi-v\u0103 nou\u0103 pentru o varietate de evenimente care reunesc comunitatea. De la festivaluri la ateliere, exist\u0103 ceva pentru toat\u0103 lumea."),o.qZA()(),o.TgZ(39,"div",10)(40,"h2"),o._uU(41,"Resurse"),o.qZA(),o.TgZ(42,"p"),o._uU(43,"Accesa\u021bi resurse \u0219i servicii valoroase oferite de comunitate at\xe2t pentru reziden\u021bi, c\xe2t \u0219i pentru vizitatori."),o.qZA()()(),o.TgZ(44,"div",14)(45,"h1"),o._uU(46,"Evenimente"),o.qZA(),o.TgZ(47,"div",15),o.YNc(48,ma,1,1,"app-event-card",16),o.qZA()(),o.TgZ(49,"div",14)(50,"h1"),o._uU(51,"Oportunit\u0103\u021bi si Oferte"),o.qZA(),o.TgZ(52,"div",17),o.YNc(53,kc,1,1,"app-offer-card",18),o.qZA()(),o.TgZ(54,"div",14)(55,"h1"),o._uU(56,"Resurse"),o.qZA(),o.TgZ(57,"section",19)(58,"div",9)(59,"div",10)(60,"h2"),o._uU(61,"Consulatul Rom\xe2niei la New York"),o.qZA(),o.TgZ(62,"h3"),o._uU(63,"CONSUL GENERAL: doamna Mihaela-Simona FLOREA"),o.qZA(),o.TgZ(64,"p"),o._uU(65,"Adres\u0103: 200 East 38th Street, New York, NY 10016"),o.qZA(),o.TgZ(66,"a",20),o._uU(67,"http://newyork.mae.ro/"),o.qZA()(),o.TgZ(68,"div",10)(69,"h2"),o._uU(70,"Consulatul Rom\xe2niei la Chicago"),o.qZA(),o.TgZ(71,"h3"),o._uU(72,"CONSUL GENERAL: "),o.qZA(),o.TgZ(73,"p"),o._uU(74,"Adres\u0103: 737 North Michigan Avenue, Suite 2300, Chicago, IL 60611"),o.qZA(),o.TgZ(75,"a",21),o._uU(76,"http://chicago.mae.ro/"),o.qZA()(),o.TgZ(77,"div",10)(78,"h2"),o._uU(79,"Consulatul Rom\xe2niei la Los Angeles"),o.qZA(),o.TgZ(80,"h3"),o._uU(81,"CONSUL GENERAL: doamna Lucia SAVA"),o.qZA(),o.TgZ(82,"p"),o._uU(83,"Adres\u0103: 11766 Wilshire Blvd. Suite 200, Los Angeles CA 90025"),o.qZA(),o.TgZ(84,"a",22),o._uU(85,"http://losangeles.mae.ro/"),o.qZA()(),o.TgZ(86,"div",10)(87,"h2"),o._uU(88,"Consulatul Rom\xe2niei la Miami"),o.qZA(),o.TgZ(89,"h3"),o._uU(90,"CONSUL GENERAL: doamna Elena-GabrielA EREMIA"),o.qZA(),o.TgZ(91,"p"),o._uU(92,"Adres\u0103: 1101 Brickell Ave, suite N 600, Miami, FL 33131"),o.qZA(),o.TgZ(93,"a",23),o._uU(94,"http://miami.mae.ro/"),o.qZA()()()()(),o.TgZ(95,"section",24)(96,"h2",25),o._uU(97,"Resurse utile pentru comunitate"),o.qZA(),o.TgZ(98,"ul",26),o.YNc(99,qd,3,2,"li",27),o.qZA()()()),2&_&&(o.xp6(48),o.Q6J("ngForOf",C.events),o.xp6(5),o.Q6J("ngForOf",C.offers),o.xp6(46),o.Q6J("ngForOf",C.resourceLinks))},dependencies:[B.sg,dl,hl],styles:[".container[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px;margin-bottom:20px}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px;color:var(--button-color)}.hero[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;background-color:#f5f5f5;padding:6rem 0 0rem}.hero-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.hero-text[_ngcontent-%COMP%]{flex:1;padding:0 2rem}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1.5rem}.btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;padding:.75rem 1.5rem;text-decoration:none;border-radius:5px;font-size:1rem}.hero-image[_ngcontent-%COMP%]{flex:1}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.community-description[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;padding:2rem 0;text-align:center}.community-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.community-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin:0 auto;max-width:800px;color:#f5f5f5}@media (max-width: 768px){.hero[_ngcontent-%COMP%]{flex-direction:column}.hero-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.hero-text[_ngcontent-%COMP%]{margin-bottom:2rem}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}}.community-descriptions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;padding:40px 20px}.description-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:20px;padding:20px;width:300px;text-align:center}.description-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--button-color);margin-bottom:10px}.description-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:var(--button-color)}.description-card-group[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:20px;padding:20px;width:100%;text-align:center}.resource-list[_ngcontent-%COMP%]{list-style-type:none;padding:0}.resource-item[_ngcontent-%COMP%]{margin:10px 0}.resource-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--button-color);font-size:18px;transition:color .3s ease}.resource-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0056b3}a[_ngcontent-%COMP%]{color:inherit}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.service-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:10px;padding:40px;width:calc(25% - 32px);box-sizing:border-box;position:relative;min-width:400px}.card-header[_ngcontent-%COMP%]{text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333}.card-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-top:4px}.card-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:gold}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}.offers[_ngcontent-%COMP%], .offer-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.offer-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;overflow:hidden;box-shadow:0 4px 8px #0000001a;transition:transform .3s;max-width:400px;height:800px;position:relative;text-align:left}.offer-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.carousel[_ngcontent-%COMP%]{position:relative;width:100%;overflow:hidden}.carousel-inner[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;flex-shrink:0}.image-container[_ngcontent-%COMP%]{width:400px;height:250px;overflow:hidden;display:flex;justify-content:center;align-items:center}.prev[_ngcontent-%COMP%], .next[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background-color:#00000080;color:#fff;border:none;padding:10px;cursor:pointer;border-radius:50%}.prev[_ngcontent-%COMP%]{left:10px}.next[_ngcontent-%COMP%]{right:10px}.offer-details[_ngcontent-%COMP%]{padding:15px}.offer-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.offer-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.offer-footer[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}.featured[_ngcontent-%COMP%]{color:#007bff;font-weight:700}.sharedContent-Section[_ngcontent-%COMP%]{padding:50px 0}.button-container[_ngcontent-%COMP%]{text-align:center}.fb-button[_ngcontent-%COMP%]{background-color:var(--button-bg-color);color:var(--button-text-color);padding:10px 20px;border-radius:5px;text-decoration:none;font-size:18px;display:inline-flex;align-items:center;transition:background-color .3s}.fb-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;font-size:20px}.fb-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-bg-color)}"]})}return E})();var _a=k(614),cn=k(6223);function Fc(E){return E?/^https?:\/\//i.test(E)?E:`http://${E}`:""}function Wd(E,h){1&E&&(o.TgZ(0,"span",15),o._uU(1,"\u2605"),o.qZA())}function Lc(E,h){if(1&E&&(o.TgZ(0,"div")(1,"a",16),o._UZ(2,"img",17),o.qZA(),o._UZ(3,"br"),o._uU(4," Facebook"),o.qZA()),2&E){const u=o.oxw();o.xp6(1),o.s9C("href",u.svc.Facebook,o.LSH)}}function Wi(E,h){if(1&E&&(o.TgZ(0,"div")(1,"a",16),o._UZ(2,"img",18),o.qZA(),o._UZ(3,"br"),o._uU(4," Instagram"),o.qZA()),2&E){const u=o.oxw();o.xp6(1),o.MGl("href","https://www.instagram.com/",u.svc.Instagram,"",o.LSH)}}function Sg(E,h){if(1&E&&(o.TgZ(0,"div")(1,"a",19),o._UZ(2,"img",20),o.qZA(),o._UZ(3,"br"),o._uU(4," Email"),o.qZA()),2&E){const u=o.oxw();o.xp6(1),o.MGl("href","mailto:",u.svc.Email,"",o.LSH)}}function Ap(E,h){if(1&E&&(o.TgZ(0,"div")(1,"a",16),o._UZ(2,"img",21),o.qZA(),o._UZ(3,"br"),o._uU(4," Website"),o.qZA()),2&E){const u=o.oxw();o.xp6(1),o.s9C("href",u.svc.Website,o.LSH)}}let rf=(()=>{class E{constructor(u){this.router=u}ngOnInit(){(void 0===this.svc.Image||""==this.svc.Image)&&(this.svc.Image="https://firebasestorage.googleapis.com/v0/b/romaniinseattle.appspot.com/o/serviceImages%2FdafaultImage.jpg?alt=media&token=3b0787df-12f0-444a-a426-013843534f1e"),this.svc.Website=Fc(this.svc.Website)}viewDetails(){this.router.navigate(["/services",this.svc.id])}static#e=this.\u0275fac=function(_){return new(_||E)(o.Y36(di.F0))};static#t=this.\u0275cmp=o.Xpm({type:E,selectors:[["app-service-card"]],inputs:{svc:"svc"},decls:23,vars:11,consts:[[1,"service-card"],[1,"service-card-image-container"],[1,"service-card-image",3,"src","alt"],[1,"service-card-content"],[1,"card-header"],[1,"card-title"],["class","sponsor-icon",4,"ngIf"],[1,"card-subtitle","service_type"],[1,"card-subtitle","contact_info"],[1,"card-description"],[1,"card-button"],[3,"click"],[1,"card-footer"],[1,"social-icons"],[4,"ngIf"],[1,"sponsor-icon"],["target","_blank",3,"href"],["src","../../../assets/images/SVG/facebook-icon.svg"],["src","../../../assets/images/SVG/instagram-icon.svg"],[3,"href"],["src","../../../assets/images/SVG/email-icon.svg"],["src","../../../assets/images/SVG/browser-icon.svg"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0)(1,"div",1),o._UZ(2,"img",2),o.qZA(),o.TgZ(3,"div",3)(4,"div",4)(5,"div",5),o._uU(6),o.YNc(7,Wd,2,0,"span",6),o.qZA(),o.TgZ(8,"div",7),o._uU(9),o.qZA(),o.TgZ(10,"div",8),o._uU(11),o.qZA(),o.TgZ(12,"div",9),o._uU(13),o.qZA(),o.TgZ(14,"div",10)(15,"button",11),o.NdJ("click",function(){return C.viewDetails()}),o._uU(16,"Detalii"),o.qZA()()(),o.TgZ(17,"div",12)(18,"div",13),o.YNc(19,Lc,5,1,"div",14),o.YNc(20,Wi,5,1,"div",14),o.YNc(21,Sg,5,1,"div",14),o.YNc(22,Ap,5,1,"div",14),o.qZA()()()()),2&_&&(o.xp6(2),o.s9C("alt",C.svc.Name),o.Q6J("src",C.svc.Image,o.LSH),o.xp6(4),o.Oqu(C.svc.Name),o.xp6(1),o.Q6J("ngIf",C.svc.Community_Sponsor),o.xp6(2),o.Oqu(C.svc.Service_Type),o.xp6(2),o.Oqu(C.svc.Phone_Number),o.xp6(2),o.Oqu(C.svc.Description),o.xp6(6),o.Q6J("ngIf",C.svc.Facebook),o.xp6(1),o.Q6J("ngIf",C.svc.Instagram),o.xp6(1),o.Q6J("ngIf",C.svc.Email),o.xp6(1),o.Q6J("ngIf",C.svc.Website))},dependencies:[B.O5],styles:[".service-card[_ngcontent-%COMP%]{background-color:#fafafa;width:400px;min-height:550px;display:flex;flex-direction:column;justify-content:space-between;border-radius:8px;box-shadow:0 4px 8px #00000080;margin:10px;padding:40px;box-sizing:border-box;position:relative}.service-card-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:5px}.service-card-image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover;border:2px solid #ddd}.card-header[_ngcontent-%COMP%]{text-align:center;margin:25px}.card-title[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:500;font-style:bold;font-size:1.7rem;font-weight:700;color:#333;line-height:1.2}.card-subtitle[_ngcontent-%COMP%]{font-family:Catamaran,sans-serif;font-optical-sizing:auto;font-weight:400;font-style:normal;font-size:1rem;color:#666;margin-top:4px}.card-description[_ngcontent-%COMP%]{text-align:left;font-family:Catamaran,sans-serif;font-optical-sizing:auto;font-weight:400;font-style:normal;color:#666;margin-top:4px;overflow:hidden;-webkit-box-orient:vertical;display:block;display:-webkit-box;overflow:hidden!important;text-overflow:ellipsis;-webkit-line-clamp:4}.service_type[_ngcontent-%COMP%]{text-transform:uppercase;padding:1rem 0}.contact_info[_ngcontent-%COMP%]{padding:0 0 1rem;font-size:1.2rem}.card-footer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 480px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 100px);min-width:175px;margin:2px;padding:2px;min-height:150px;min-height:330px}.card-title[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:100;font-style:bold;font-size:.9rem;font-weight:400;color:#333;line-height:1;padding:0;margin:0}.card-subtitle[_ngcontent-%COMP%]{font-family:Catamaran,sans-serif;font-optical-sizing:auto;font-weight:100;font-style:normal;color:#666;margin-top:1px}.card-description[_ngcontent-%COMP%]{display:none}.service_type[_ngcontent-%COMP%]{text-transform:uppercase;padding:0;font-size:.5rem}.card-footer[_ngcontent-%COMP%]{display:none}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:175px}.service-footer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}.services-control[_ngcontent-%COMP%]{flex-direction:column}@media screen and (max-width: 960px) and(min-width:480px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}.service-card-front[_ngcontent-%COMP%]{background-color:#fff;color:#000}.service-card-content[_ngcontent-%COMP%]{padding:0}.service-date[_ngcontent-%COMP%]{font-size:12px;color:#f1c40f}.service-footer[_ngcontent-%COMP%]{margin-top:10px}.featured[_ngcontent-%COMP%]{font-weight:700;color:#f39c12}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:400px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000}#browser-icon[_ngcontent-%COMP%]{fill:red;stroke:#000}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px;color:gold}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}"]})}return E})();function Mg(E,h){if(1&E&&(o.TgZ(0,"option",14),o._uU(1),o.qZA()),2&E){const u=h.$implicit;o.Q6J("value",u),o.xp6(1),o.Oqu(u)}}function sf(E,h){1&E&&o._UZ(0,"app-service-card",15),2&E&&o.Q6J("svc",h.$implicit)}let Ip=(()=>{class E{constructor(u,_,C){this.servicesService=u,this.route=_,this.router=C,this.services=[],this.filteredServices=[],this.serviceTypes=[],this.selectedServiceType=""}ngOnInit(){this.route.queryParams.subscribe(u=>{this.selectedServiceType=u.serviceType||""}),this.filterServices(this.selectedServiceType)}navigateToAddService(){this.router.navigate(["/add-service"])}handleChange(u){const{target:_}=u;return _&&console.log(_.value),_.value}fetchServiceTypes(){console.log("FetchServiceTypes Function"),this.servicesService.getAllServiceTypes().subscribe(u=>{this.serviceTypes=u,u.forEach(_=>{})}),console.log("Number of Service Types returned by the database : "+this.serviceTypes.length)}onFilterChange(u){console.log("Filter changed:",u),this.router.navigate([],{relativeTo:this.route,queryParams:{serviceType:u},queryParamsHandling:"merge"}),this.filterServices(u)}filterServices(u){console.log("Filter Serices: "+u),this.fetchServiceTypes(),u&&""!==u?this.servicesService.getServicesByType(u).subscribe(_=>{this.services=_.filter(C=>C.Approved),this.filteredServices=_.filter(C=>C.Approved),console.log("Number of Services returned by the Database :  "+this.services.length)}):this.servicesService.getServices().subscribe(_=>{this.services=_.filter(C=>C.Approved),this.filteredServices=_.filter(C=>C.Approved),console.log("Number of Services returned by the Database :  "+this.services.length)})}extractServiceTypes(){this.serviceTypes=[...new Set(this.services.map(u=>u.Service_Type))]}shareLink(){const _=this.router.url.split("?")[1]||"";navigator.clipboard.writeText("https://romaniinseattle.web.app/services"+(_?"?"+_:"")).then(()=>{alert("Link copied to clipboard!")},G=>{console.error("Could not copy text: ",G)})}static#e=this.\u0275fac=function(_){return new(_||E)(o.Y36(_a.r),o.Y36(di.gz),o.Y36(di.F0))};static#t=this.\u0275cmp=o.Xpm({type:E,selectors:[["app-services"]],decls:24,vars:3,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"services-control"],[1,"service-control-container"],["for","service-type"],["id","service-type",1,"filter-dropdown",3,"ngModel","change","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[2,"min-width","150px",3,"click"],[1,"share-button",3,"click"],[1,"fas","fa-share-alt"],[1,"services-container"],[3,"svc",4,"ngFor","ngForOf"],[3,"value"],[3,"svc"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1"),o._uU(3,"Lista de Servicii"),o.qZA()(),o.TgZ(4,"div",2)(5,"h2"),o._uU(6,"Descoperi\u021bi serviciile oferite de membrii comunit\u0103\u021bii"),o.qZA()()(),o.TgZ(7,"div",3)(8,"div",4)(9,"label",5),o._uU(10,"Filtra\u021bi lista dup\u0103 tipul serviciului: "),o.qZA()(),o.TgZ(11,"div",4)(12,"select",6),o.NdJ("change",function(_e){return C.onFilterChange(C.handleChange(_e))})("ngModelChange",function(_e){return C.selectedServiceType=_e}),o.TgZ(13,"option",7),o._uU(14,"Toate serviciile"),o.qZA(),o.YNc(15,Mg,2,2,"option",8),o.qZA()(),o.TgZ(16,"div",4)(17,"button",9),o.NdJ("click",function(){return C.navigateToAddService()}),o._uU(18,"Adaugati un Serviciu"),o.qZA()(),o.TgZ(19,"button",10),o.NdJ("click",function(){return C.shareLink()}),o._UZ(20,"i",11),o._uU(21," Share "),o.qZA()(),o.TgZ(22,"div",12),o.YNc(23,sf,1,1,"app-service-card",13),o.qZA()),2&_&&(o.xp6(12),o.Q6J("ngModel",C.selectedServiceType),o.xp6(3),o.Q6J("ngForOf",C.serviceTypes),o.xp6(8),o.Q6J("ngForOf",C.filteredServices))},dependencies:[B.sg,cn.YN,cn.Kr,cn.EJ,cn.JJ,cn.On,rf],styles:[".hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.services-control[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px;padding:20px;flex-wrap:wrap}.service-control-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:5px;padding:5px}.services-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.services-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px;font-size:1rem}.add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}label[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:16px;text-transform:uppercase}.filter-dropdown[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:16px;text-transform:uppercase;cursor:pointer}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;padding:1rem}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:3rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1rem;text-align:center}}"]})}return E})(),Kd=(()=>{class E{static#e=this.\u0275fac=function(_){return new(_||E)};static#t=this.\u0275cmp=o.Xpm({type:E,selectors:[["app-rules"]],decls:43,vars:0,consts:[[1,"hero-section"],[1,"overlay"],[1,"content"],["href","https://www.facebook.com/groups/RomaniinSeattle",1,"cta-button"],[1,"rules-section"],[1,"container"],[1,"rules-list"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0),o._UZ(1,"div",1),o.TgZ(2,"div",2)(3,"h1"),o._uU(4,"Regulile \u0219i Reglement\u0103rile"),o.qZA(),o.TgZ(5,"p"),o._uU(6,"Apreciem cooperarea \u0219i \xeen\u021belegerea dvs. \xeen respectarea regulilor grupului nostru."),o.qZA(),o.TgZ(7,"a",3),o._uU(8,"Join our Facebook Group"),o.qZA()()(),o.TgZ(9,"section",4)(10,"div",5)(11,"h2"),o._uU(12,"Regulile \u0219i Reglement\u0103rile"),o.qZA(),o.TgZ(13,"ol",6)(14,"li")(15,"span"),o._uU(16,"Respecta\u021bi to\u021bi membrii."),o.qZA(),o._uU(17," Trateaz\u0103 pe toat\u0103 lumea cu respect. Dezbaterile s\u0103n\u0103toase sunt naturale, dar amabilitatea este obligatorie."),o.qZA(),o.TgZ(18,"li")(19,"span"),o._uU(20,"F\u0103r\u0103 discursuri de ur\u0103 sau h\u0103r\u021buire."),o.qZA(),o._uU(21," Asigur\u0103-te c\u0103 toat\u0103 lumea se simte \xeen siguran\u021b\u0103. Bullying-ul de orice fel nu este permis, iar comentariile degradante despre lucruri precum rasa, religia, cultura, orientarea sexual\u0103, genul sau identitatea nu vor fi tolerate."),o.qZA(),o.TgZ(22,"li"),o._uU(23,"F\u0103r\u0103 limbaj ofensator."),o.qZA(),o.TgZ(24,"li")(25,"span"),o._uU(26,"F\u0103r\u0103 Promov\u0103ri sau Spam:"),o.qZA(),o._uU(27," Ofer\u0103 mai mult dec\xe2t prime\u0219ti \xeen acest grup. Auto-promovarea, spam-ul \u0219i link-urile irelevante nu sunt permise."),o.qZA(),o.TgZ(28,"li"),o._uU(29,"R\u0103m\xe2ne\u021bi la subiect."),o.qZA(),o.TgZ(30,"li")(31,"span"),o._uU(32,"Respect\u0103 Intimitatea Fiec\u0103ruia:"),o.qZA(),o._uU(33," Participarea \xeen acest grup necesit\u0103 \xeencredere reciproc\u0103. Discu\u021biile autentice \u0219i expresive fac grupurile grozave, dar pot fi \u0219i sensibile \u0219i private. Ce se \xeemp\u0103rt\u0103\u0219e\u0219te \xeen grup ar trebui s\u0103 r\u0103m\xe2n\u0103 \xeen grup."),o.qZA(),o.TgZ(34,"li")(35,"span"),o._uU(36,"Respecta\u021bi Standardele Comunit\u0103\u021bii Facebook."),o.qZA(),o._uU(37," Respect\u0103 toate liniile directoare ale comunit\u0103\u021bii pentru a asigura c\u0103 grupul r\u0103m\xe2ne un spa\u021biu sigur pentru to\u021bi."),o.qZA(),o.TgZ(38,"li"),o._uU(39,"Raporta\u021bi \xeenc\u0103lc\u0103rile regulilor c\u0103tre administratori."),o.qZA()()(),o.TgZ(40,"div")(41,"p"),o._uU(42,"Dac\u0103 dori\u021bi s\u0103 v\u0103 oferi\u021bi serviciile comunit\u0103\u021bii, v\u0103 rug\u0103m s\u0103 trimite\u021bi detaliile serviciilor dumneavoastr\u0103 prin intermediul site-ului nostru. Un administrator va revizui trimiterea dvs. \u0219i o va ad\u0103uga \xeen grup c\xe2t mai cur\xe2nd posibil. Apreciem cooperarea \u0219i \xeen\u021belegerea dvs. \xeen respectarea regulilor grupului nostru."),o.qZA()()())},styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Arial,sans-serif;height:100%}.hero-section[_ngcontent-%COMP%]{position:relative;height:100vh;background:url(Seattle-Romania.322e2da675d571d6.png) no-repeat center center/cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#fff}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:3em;margin:.5em 0}p[_ngcontent-%COMP%]{font-size:1.5em;margin:.5em 0}.cta-button[_ngcontent-%COMP%]{display:inline-block;padding:.75em 1.5em;margin-top:1em;font-size:1.2em;color:#fff;background-color:var(--button-color);border:none;border-radius:5px;text-decoration:none;cursor:pointer;transition:background-color .3s ease}.cta-button[_ngcontent-%COMP%]:hover{background-color:#e65c00}.rules-section[_ngcontent-%COMP%]{padding:40px 20px;background:#f4f4f4}.rules-section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.rules-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;font-size:32px}.rules-list[_ngcontent-%COMP%]{list-style:none}.rules-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background:#fff;padding:20px;margin-bottom:10px;border-left:5px solid #007BFF}.rules-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;color:#333}"]})}return E})();function fl(E,h){1&E&&o._UZ(0,"app-event-card",7),2&E&&o.Q6J("event",h.$implicit)}let pl=(()=>{class E{constructor(u,_){this.eventService=u,this.router=_,this.events=[]}ngOnInit(){this.eventService.getEvents().subscribe(u=>{this.events=u})}navigateToAddEvent(){this.router.navigate(["/add-event"])}static#e=this.\u0275fac=function(_){return new(_||E)(o.Y36(xu.n),o.Y36(di.F0))};static#t=this.\u0275cmp=o.Xpm({type:E,selectors:[["app-events"]],decls:12,vars:1,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"add-service-container"],[3,"click"],[1,"services-container"],[3,"event",4,"ngFor","ngForOf"],[3,"event"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1"),o._uU(3,"Lista de Evenimente"),o.qZA()(),o.TgZ(4,"div",2)(5,"h2"),o._uU(6,"Descoperi\u021bi serviciile oferite de membrii comunit\u0103\u021bii"),o.qZA()()(),o.TgZ(7,"div",3)(8,"button",4),o.NdJ("click",function(){return C.navigateToAddEvent()}),o._uU(9,"Adaugati un Eveniment"),o.qZA()(),o.TgZ(10,"div",5),o.YNc(11,fl,1,1,"app-event-card",6),o.qZA()),2&_&&(o.xp6(11),o.Q6J("ngForOf",C.events))},dependencies:[B.sg,hl],styles:[".hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.section-header[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;background-color:#f0f0f0}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:10px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.service-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:10px;padding:40px;width:calc(25% - 32px);box-sizing:border-box;position:relative;min-width:400px}.card-header[_ngcontent-%COMP%]{text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333}.card-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-top:4px}.card-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:gold}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}.services-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:30px;padding:30px}.services-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.services-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px;font-size:1rem}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}.add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.services-control[_ngcontent-%COMP%]{flex-direction:column}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}"]})}return E})();function af(E,h){1&E&&o._UZ(0,"app-offer-card",7),2&E&&o.Q6J("offer",h.$implicit)}let Qd=(()=>{class E{constructor(u,_){this.offersService=u,this.router=_,this.offers=[]}ngOnInit(){this.offersService.getOffers().subscribe(u=>{console.log(u),this.offers=u})}navigateToAddOffer(){this.router.navigate(["/add-offers"])}static#e=this.\u0275fac=function(_){return new(_||E)(o.Y36(Fo.b),o.Y36(di.F0))};static#t=this.\u0275cmp=o.Xpm({type:E,selectors:[["app-offers"]],decls:12,vars:1,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"add-service-container"],[3,"click"],[1,"offer-list"],[3,"offer",4,"ngFor","ngForOf"],[3,"offer"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1"),o._uU(3,"De toate pentru to\u021bi"),o.qZA()(),o.TgZ(4,"div",2)(5,"h2"),o._uU(6,"Descoperi\u021bi oferte de membrii comunit\u0103\u021bii"),o.qZA()()(),o.TgZ(7,"div",3)(8,"button",4),o.NdJ("click",function(){return C.navigateToAddOffer()}),o._uU(9,"Adaugati oferta"),o.qZA()(),o.TgZ(10,"div",5),o.YNc(11,af,1,1,"app-offer-card",6),o.qZA()),2&_&&(o.xp6(11),o.Q6J("ngForOf",C.offers))},dependencies:[B.sg,dl],styles:[".hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(http://source.unsplash.com/800x600/?Seattle);background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.section-header[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;background-color:#f0f0f0}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:10px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.add-offer-container[_ngcontent-%COMP%], .add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}.offer-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;justify-content:center}.offers[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.offers-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.offers-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a;margin:15px;width:calc(25% - 32px);overflow:hidden;transition:transform .3s,box-shadow .3s;min-width:400px}.offers-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 12px 24px #0003}.offer-card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:180px;object-fit:cover}.offers-card-content[_ngcontent-%COMP%]{padding:20px;text-align:left}.offers-card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;font-size:22px;font-weight:600}.offers-card-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 10px;font-size:18px;color:#666;font-weight:400}.offers-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 10px;font-size:16px;color:#777}.offers-footer[_ngcontent-%COMP%]{text-align:right;margin-top:10px}.featured[_ngcontent-%COMP%]{color:#007bff;font-weight:700}@media (max-width: 1024px){.offer-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.offer-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}"]})}return E})();var ji=k(8779);function Ul(E,h){if(1&E&&(o.TgZ(0,"option",30),o._uU(1),o.qZA()),2&E){const u=h.$implicit;o.Q6J("value",u),o.xp6(1),o.Oqu(u)}}function ec(E,h){if(1&E&&(o.TgZ(0,"option",30),o._uU(1),o.qZA()),2&E){const u=h.$implicit;o.Q6J("value",u),o.xp6(1),o.Oqu(u)}}function Yd(E,h){if(1&E&&(o.TgZ(0,"option",30),o._uU(1),o.qZA()),2&E){const u=h.$implicit;o.Q6J("value",u),o.xp6(1),o.Oqu(u)}}function lo(E,h){if(1&E&&(o.TgZ(0,"div",31)(1,"h2"),o._uU(2),o.qZA(),o.TgZ(3,"label",32),o._uU(4,"Open:"),o.qZA(),o.TgZ(5,"select",33),o.YNc(6,ec,2,2,"option",8),o.qZA(),o.TgZ(7,"label",32),o._uU(8,"Close:"),o.qZA(),o.TgZ(9,"select",34),o.YNc(10,Yd,2,2,"option",8),o.qZA()()),2&E){const u=h.$implicit,_=o.oxw();o.Q6J("formGroupName",u),o.xp6(2),o.Oqu(u),o.xp6(1),o.MGl("for","",u,"-open"),o.xp6(3),o.Q6J("ngForOf",_.hoursOptions),o.xp6(1),o.MGl("for","",u,"-close"),o.xp6(3),o.Q6J("ngForOf",_.hoursOptions)}}const tc=function(){return["Luni","Marti","Miercuri","Joi","Vineri","Sambata","Duminica"]};let ku=(()=>{class E{constructor(u,_,C,G){this.fb=u,this.servicesService=_,this.imageUploadService=C,this.router=G,this.serviceTypes=[],this.selectedFile=null,this.hoursOptions=["Closed","7:00 AM","8:00 AM","9:00 AM","10:00 AM","11:00 AM","12:00 PM","1:00 PM","2:00 PM","3:00 PM","4:00 PM","5:00 PM","6:00 PM","7:00 PM","8:00 PM","9:00 PM"],this.serviceForm=this.fb.group({Name:["",cn.kI.required],Email:["",[cn.kI.email]],Phone_Number:[""],Website:[""],Facebook:[""],Instagram:[""],Image:[""],Description:[""],Date_Created:[""],Community_Sponsor:[!1],Service_Type:["",cn.kI.required],Hours:this.fb.group({Luni:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Marti:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Miercuri:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Joi:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Vineri:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Sambata:this.fb.group({open:["Closed"],close:["Closed"]}),Duminica:this.fb.group({open:["Closed"],close:["Closed"]})})})}ngOnInit(){this.fetchServiceTypes()}onFileSelected(u){this.selectedFile=u.target.files[0]}fetchServiceTypes(){this.servicesService.getAllServiceTypes().subscribe(u=>{this.serviceTypes=u})}onSubmit(){this.serviceForm.valid&&(this.selectedFile?this.imageUploadService.uploadImage(this.selectedFile,"serviceImages").subscribe(u=>{this.serviceForm.value.Image=u,console.log(u),this.saveService()}):this.saveService())}formatHours(u){for(const _ of Object.keys(u))""===u[_].open&&""===u[_].close&&(u[_]=null);return u}saveService(){this.servicesService.addService(this.serviceForm.value).subscribe(u=>{console.log("Service added successfully with ID:",u?.id),this.serviceForm.reset(),this.router.navigate(["/services",u?.id])})}static#e=this.\u0275fac=function(_){return new(_||E)(o.Y36(cn.qu),o.Y36(_a.r),o.Y36(ji.K),o.Y36(di.F0))};static#t=this.\u0275cmp=o.Xpm({type:E,selectors:[["app-add-service"]],decls:59,vars:5,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","Service_Type",1,"required"],["id","Service_Type","formControlName","Service_Type","required",""],[3,"value",4,"ngFor","ngForOf"],["for","Name",1,"required"],["id","Name","placeholder","Ion Dumitrescu","formControlName","Name","required",""],["for","Email"],["id","Email","type","Email","placeholder","info@website.com","formControlName","Email"],["for","Phone_Number"],["id","Phone_Number","type","text","placeholder","(425) 444-5555","formControlName","Phone_Number"],["for","Website"],["id","Website","type","text","placeholder","https://www.website.com","formControlName","Website"],["for","Facebook"],["id","Facebook","type","text","placeholder","https://www.facebook.com/yourname","formControlName","Facebook"],["for","Instagram"],["id","Instagram","type","text","placeholder","instaHandle..","formControlName","Instagram"],["for","Description",1,"required"],["id","Description","formControlName","Description"],["for","Hours"],["formGroupName","Hours"],[1,"day-container"],["class","day",3,"formGroupName",4,"ngFor","ngForOf"],["for","Image"],["type","file","formControlName","Image",3,"change"],["type","submit",3,"disabled"],[3,"value"],[1,"day",3,"formGroupName"],[3,"for"],["formControlName","open"],["formControlName","close"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1"),o._uU(3,"Lista de Servicii"),o.qZA()(),o.TgZ(4,"div",2)(5,"h2"),o._uU(6,"Adaugati serviciile dumneavoastra pentru membrii comunit\u0103\u021bii"),o.qZA(),o._UZ(7,"p"),o.qZA()(),o.TgZ(8,"div",3)(9,"h2"),o._uU(10," Serviciile ad\u0103ugate prin aceast\u0103 pagin\u0103 sunt supuse aprob\u0103rii administratorului \xeenainte de a fi afi\u0219ate \xeen list\u0103."),o.qZA(),o.TgZ(11,"h3"),o._uU(12,"V\u0103 rug\u0103m s\u0103 introduce\u021bi cel pu\u021bin o metod\u0103 de contact."),o.qZA(),o.TgZ(13,"form",4),o.NdJ("ngSubmit",function(){return C.onSubmit()}),o.TgZ(14,"div",5)(15,"label",6),o._uU(16,"Categoria de serviciului:"),o.qZA(),o.TgZ(17,"select",7),o.YNc(18,Ul,2,2,"option",8),o.qZA()(),o.TgZ(19,"div",5)(20,"label",9),o._uU(21,"Nume:"),o.qZA(),o._UZ(22,"input",10),o.qZA(),o.TgZ(23,"div",5)(24,"label",11),o._uU(25,"Adresa Email:"),o.qZA(),o._UZ(26,"input",12),o.qZA(),o.TgZ(27,"div",5)(28,"label",13),o._uU(29,"Numar de telefon:"),o.qZA(),o._UZ(30,"input",14),o.qZA(),o.TgZ(31,"div",5)(32,"label",15),o._uU(33,"Pagina Web:"),o.qZA(),o._UZ(34,"input",16),o.qZA(),o.TgZ(35,"div",5)(36,"label",17),o._uU(37,"Pagina Facebook:"),o.qZA(),o._UZ(38,"input",18),o.qZA(),o.TgZ(39,"div",5)(40,"label",19),o._uU(41,"Instagram:(doar numele contului)"),o.qZA(),o._UZ(42,"input",20),o.qZA(),o.TgZ(43,"div",5)(44,"label",21),o._uU(45,"Descriere a serviciile oferite:"),o.qZA(),o._UZ(46,"textarea",22),o.qZA(),o.TgZ(47,"div",5)(48,"label",23),o._uU(49,"Orele de contactare:"),o.qZA(),o.TgZ(50,"div",24)(51,"div",25),o.YNc(52,lo,11,6,"div",26),o.qZA()()(),o.TgZ(53,"div",5)(54,"label",27),o._uU(55,"Imagine:"),o.qZA(),o.TgZ(56,"input",28),o.NdJ("change",function(_e){return C.onFileSelected(_e)}),o.qZA()(),o.TgZ(57,"button",29),o._uU(58,"Adaugati Serviciul"),o.qZA()()()),2&_&&(o.xp6(13),o.Q6J("formGroup",C.serviceForm),o.xp6(5),o.Q6J("ngForOf",C.serviceTypes),o.xp6(34),o.Q6J("ngForOf",o.DdM(4,tc)),o.xp6(5),o.Q6J("disabled",C.serviceForm.invalid))},dependencies:[B.sg,cn._Y,cn.YN,cn.Kr,cn.Fj,cn.EJ,cn.JJ,cn.JL,cn.Q7,cn.sg,cn.u,cn.x0],styles:['.hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.form-container[_ngcontent-%COMP%]{max-width:600px;margin:50px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.day-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.day[_ngcontent-%COMP%]{width:20%;padding:10px;box-sizing:border-box}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;border:none;padding:10px 20px;font-size:16px;border-radius:5px;cursor:pointer;margin:10px 0;transition:background-color .3s ease}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}']})}return E})(),Fu=(()=>{class E{constructor(u,_){this.fb=u,this.eventsService=_,this.eventForm=this.fb.group({Approved:[""],Community_Sponsor:[""],Contact:[""],Description:["",cn.kI.required],Event_date:["",cn.kI.required],Location:["",cn.kI.required],Name:["",cn.kI.required],Phone_Number:[""],Poster_Image:["",cn.kI.required],Price:["",cn.kI.required],Website:[""]})}ngOnInit(){}onSubmit(){this.eventForm.valid&&this.eventsService.addEvent(this.eventForm.value).then(()=>{console.log("Event added successfully"),this.eventForm.reset()}).catch(_=>{console.error("Error adding event: ",_)})}static#e=this.\u0275fac=function(_){return new(_||E)(o.Y36(cn.qu),o.Y36(xu.n))};static#t=this.\u0275cmp=o.Xpm({type:E,selectors:[["app-add-event"]],decls:40,vars:2,consts:[[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","Name",1,"required"],["id","Name","formControlName","Name","required",""],["for","Contact"],["id","Contact","formControlName","Contact","required",""],["for","Poster_Image",1,"required"],["id","Poster_Image","formControlName","Poster_Image","required",""],["for","Phone_Number"],["id","Phone_Number","formControlName","Phone_Number"],["for","Event_date",1,"required"],["id","Event_date","type","date","formControlName","Event_date","required",""],["for","Location",1,"required"],["id","Location","formControlName","Location","required",""],["for","Description",1,"required"],["id","Description","formControlName","Description","required",""],["for","Price",1,"required"],["id","Price","formControlName","Price","required",""],["for","Website"],["id","Website","formControlName","Website"],["type","submit",3,"disabled"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0)(1,"form",1),o.NdJ("ngSubmit",function(){return C.onSubmit()}),o.TgZ(2,"div",2)(3,"label",3),o._uU(4,"Titlu:"),o.qZA(),o._UZ(5,"input",4),o.qZA(),o.TgZ(6,"div",2)(7,"label",5),o._uU(8,"Persoana de contact:"),o.qZA(),o._UZ(9,"input",6),o.qZA(),o.TgZ(10,"div",2)(11,"label",7),o._uU(12,"Imagine poster:"),o.qZA(),o._UZ(13,"input",8),o.qZA(),o.TgZ(14,"div",2)(15,"label",9),o._uU(16,"Numar de Telefon:"),o.qZA(),o._UZ(17,"input",10),o.qZA(),o.TgZ(18,"div",2)(19,"label",11),o._uU(20,"Data Evenimentului:"),o.qZA(),o._UZ(21,"input",12),o.qZA(),o.TgZ(22,"div",2)(23,"label",13),o._uU(24,"Locatie:"),o.qZA(),o._UZ(25,"input",14),o.qZA(),o.TgZ(26,"div",2)(27,"label",15),o._uU(28,"Descriere:"),o.qZA(),o._UZ(29,"textarea",16),o.qZA(),o.TgZ(30,"div",2)(31,"label",17),o._uU(32,"Pret:"),o.qZA(),o._UZ(33,"input",18),o.qZA(),o.TgZ(34,"div",2)(35,"label",19),o._uU(36,"Website:"),o.qZA(),o._UZ(37,"input",20),o.qZA(),o.TgZ(38,"button",21),o._uU(39,"Adauga Eveniment"),o.qZA()()()),2&_&&(o.xp6(1),o.Q6J("formGroup",C.eventForm),o.xp6(37),o.Q6J("disabled",C.eventForm.invalid))},dependencies:[cn._Y,cn.Fj,cn.JJ,cn.JL,cn.Q7,cn.sg,cn.u],styles:['.form-container[_ngcontent-%COMP%]{max-width:600px;margin:100px auto 0;padding:50px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;color:#fff;border:none;border-radius:4px;cursor:pointer}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}']})}return E})();var nc=k(5861),cf=k(8963),lf=k.n(cf);function uf(E,h){if(1&E&&(o.TgZ(0,"option",31),o._uU(1),o.qZA()),2&E){const u=h.$implicit;o.Q6J("value",u),o.xp6(1),o.Oqu(u)}}function bp(E,h){if(1&E){const u=o.EpF();o.TgZ(0,"div"),o._UZ(1,"img",32),o.TgZ(2,"span"),o._uU(3),o.qZA(),o.TgZ(4,"button",33),o.NdJ("click",function(){const G=o.CHM(u).$implicit,_e=o.oxw();return o.KtG(_e.removeImage(G))}),o._uU(5,"Remove"),o.qZA(),o.TgZ(6,"span"),o._uU(7),o.qZA()()}if(2&E){const u=h.$implicit,_=o.oxw();o.xp6(1),o.Q6J("src",u.url,o.LSH)("alt",u.name),o.xp6(2),o.Oqu(u.name),o.xp6(4),o.Oqu(_.imageUploadStatus[u.name])}}let _o=(()=>{class E{constructor(u,_,C,G){this.fb=u,this.offersService=_,this.imageUploadService=C,this.router=G,this.offerTypes=[],this.images=[],this.imageUploadStatus={},this.offerId="",this.offer={Title:"",Company_Name:"",Contact_Name:"",Phone_Number:"",Email:"",Description:"",Price:"",Location:"",Website:"",OfferType:"",Community_Sponsor:!1,Date_Created:"",Date_Updated:"",Hours:{},Images:[],id:"",Facebook:"",Instagram:"",Filled:!1,Approved:!1,ApprovedDate:""},this.offerForm=this.fb.group({Title:["",cn.kI.required],Company_Name:[""],Contact_Name:["",cn.kI.required],Phone_Number:[""],Email:["",[cn.kI.email]],Location:[""],Website:[""],Description:["",cn.kI.required],Price:[""],Images:[],Filled:!1,Date_Created:[""],ApprovedDate:[""],OfferType:[""],Community_Sponsor:!1})}ngOnInit(){this.fetchOfferTypes(),this.offerId=this.offersService.generateOfferId()}onFileSelected(u){var _=this;return(0,nc.Z)(function*(){const C=u.target.files;for(let G=0;G<C.length;G++){const _e=C[G],Le=yield _.resizeImage(_e);_.imageUploadStatus[_e.name]="Uploading...",_.imageUploadService.uploadOfferImage(Le,_.offerId).subscribe(yt=>{_.offer.Images.push(yt),_.images.push({name:_e.name,url:yt,file:_e}),_.imageUploadStatus[_e.name]="Uploaded"},yt=>{console.error("Image upload failed: ",yt),_.imageUploadStatus[_e.name]="Failed to upload"})}})()}removeImage(u){this.images=this.images.filter(_=>_!==u),this.offer.Images=this.offer.Images.filter(_=>_!==u.url)}fetchOfferTypes(){this.offersService.getAllOfferTypes().subscribe(u=>{this.offerTypes=u})}onSubmit(){this.offerForm.valid&&(this.offer.Title=this.offerForm.value.Title,this.offer.Phone_Number=this.offerForm.value.Phone_Number,this.offer.Price=this.offerForm.value.Price,this.offer.Community_Sponsor=this.offerForm.value.Community_Sponsor,this.offer.Company_Name=this.offerForm.value.Company_Name,this.offer.Contact_Name=this.offerForm.value.Contact_Name,this.offer.Website=this.offerForm.value.Website,this.offer.Email=this.offerForm.value.Email,this.offer.Location=this.offerForm.value.Location,this.offer.OfferType=this.offerForm.value.OfferType,this.offer.Description=this.offerForm.value.Description,this.offer.Date_Created=(new Date).toISOString(),this.offer.Date_Updated=(new Date).toISOString(),this.offersService.addOfferWithId(this.offer,this.offerId).subscribe(()=>{this.router.navigate(["/offers"])}))}resizeImage(u){return(0,nc.Z)(function*(){const _=lf()(),C=new Image;return C.src=URL.createObjectURL(u),new Promise((G,_e)=>{C.onload=(0,nc.Z)(function*(){const Le=document.createElement("canvas"),pn=(Le.getContext("2d"),Math.min(1024/C.width,1024/C.height));Le.width=C.width*pn,Le.height=C.height*pn;try{yield _.resize(C,Le),Le.toBlob(wn=>{if(wn){const wr=new File([wn],u.name,{type:u.type});G(wr)}else _e(new Error("Image resizing failed"))},u.type)}catch(wn){_e(wn)}}),C.onerror=Le=>_e(Le)})})()}static#e=this.\u0275fac=function(_){return new(_||E)(o.Y36(cn.qu),o.Y36(Fo.b),o.Y36(ji.K),o.Y36(di.F0))};static#t=this.\u0275cmp=o.Xpm({type:E,selectors:[["app-add-offers"]],decls:60,vars:4,consts:[[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","OfferType"],["id","OfferType","id","OfferType","formControlName","OfferType","required","",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","Title",1,"required"],["type","text","id","Title","formControlName","Title","required","","placeholder","Titlu"],["for","Company_Name"],["type","text","id","Company_Name","formControlName","Company_Name","required","","placeholder","Numele Companiei"],["for","Contact_Name",1,"required"],["type","text","id","Contact_Name","formControlName","Contact_Name","required","","placeholder","Persoana de contact"],["for","Phone_Number"],["type","text","id","Phone_Number","formControlName","Phone_Number","placeholder","Numar de telefon"],["for","Email",1,"required"],["type","email","id","Email","formControlName","Email","required","","placeholder","Adresa de Email"],["for","Facebook"],["type","text","id","Facebook","formControlName","Facebook","required","","placeholder","Adresa de Facebook"],["for","Instagram"],["type","text","id","Instagram","formControlName","Instagram","required","","placeholder","cont_de_instagram"],["for","Description",1,"required"],["id","Description","formControlName","Description","required","","placeholder","Descriere"],["for","Price"],["type","text","id","Price","formControlName","Price","placeholder","Pret"],["for","Location"],["type","text","id","Location","formControlName","Location","placeholder","Locatie"],["for","Website"],["type","url","id","Website","formControlName","Website","placeholder","Pagina de Web"],["type","file","multiple","",3,"change"],[4,"ngFor","ngForOf"],["type","submit",3,"disabled"],[3,"value"],["width","100",3,"src","alt"],["type","button",3,"click"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0)(1,"h2"),o._uU(2," Ofertele ad\u0103ugate prin aceast\u0103 pagin\u0103 sunt supuse aprob\u0103rii administratorului \xeenainte de a fi afi\u0219ate \xeen list\u0103."),o.qZA(),o.TgZ(3,"h3"),o._uU(4,"V\u0103 rug\u0103m s\u0103 introduce\u021bi cel pu\u021bin o metod\u0103 de contact."),o.qZA(),o.TgZ(5,"form",1),o.NdJ("ngSubmit",function(){return C.onSubmit()}),o.TgZ(6,"div",2)(7,"label",3),o._uU(8,"Tip de oferta"),o.qZA(),o.TgZ(9,"select",4),o.YNc(10,uf,2,2,"option",5),o.qZA()(),o.TgZ(11,"div",2)(12,"label",6),o._uU(13,"Titlu:"),o.qZA(),o._UZ(14,"input",7),o.qZA(),o.TgZ(15,"div",2)(16,"label",8),o._uU(17,"Numele Companiei:"),o.qZA(),o._UZ(18,"input",9),o.qZA(),o.TgZ(19,"div",2)(20,"label",10),o._uU(21,"Numele persoanei de contact:"),o.qZA(),o._UZ(22,"input",11),o.qZA(),o.TgZ(23,"div",2)(24,"label",12),o._uU(25,"Numar de telefon:"),o.qZA(),o._UZ(26,"input",13),o.qZA(),o.TgZ(27,"div",2)(28,"label",14),o._uU(29,"Adresa de Email:"),o.qZA(),o._UZ(30,"input",15),o.qZA(),o.TgZ(31,"div",2)(32,"label",16),o._uU(33,"Adresa de Facebook:"),o.qZA(),o._UZ(34,"input",17),o.qZA(),o.TgZ(35,"div",2)(36,"label",18),o._uU(37,"Cont de Instagram:"),o.qZA(),o._UZ(38,"input",19),o.qZA(),o.TgZ(39,"div",2)(40,"label",20),o._uU(41,"Descriere:"),o.qZA(),o._UZ(42,"textarea",21),o.qZA(),o.TgZ(43,"div",2)(44,"label",22),o._uU(45,"Pret:"),o.qZA(),o._UZ(46,"input",23),o.qZA(),o.TgZ(47,"div",2)(48,"label",24),o._uU(49,"Locatie:"),o.qZA(),o._UZ(50,"input",25),o.qZA(),o.TgZ(51,"div",2)(52,"label",26),o._uU(53,"Website:"),o.qZA(),o._UZ(54,"input",27),o.qZA(),o.TgZ(55,"div",2)(56,"input",28),o.NdJ("change",function(_e){return C.onFileSelected(_e)}),o.qZA(),o.YNc(57,bp,8,4,"div",29),o.qZA(),o.TgZ(58,"button",30),o._uU(59,"Adauga Oferta"),o.qZA()()()),2&_&&(o.xp6(5),o.Q6J("formGroup",C.offerForm),o.xp6(5),o.Q6J("ngForOf",C.offerTypes),o.xp6(47),o.Q6J("ngForOf",C.images),o.xp6(1),o.Q6J("disabled",C.offerForm.invalid))},dependencies:[B.sg,cn._Y,cn.YN,cn.Kr,cn.Fj,cn.EJ,cn.JJ,cn.JL,cn.Q7,cn.sg,cn.u],styles:['.form-container[_ngcontent-%COMP%]{max-width:600px;margin:100px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;color:#fff;border:none;border-radius:4px;cursor:pointer;background-color:var(--button-color)}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}.offer-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.offer-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em;margin:0}.company-name[_ngcontent-%COMP%]{font-size:1.2em;color:#555}.contact-name[_ngcontent-%COMP%], .contact-info[_ngcontent-%COMP%], .location[_ngcontent-%COMP%]{font-size:1em;color:#777}.offer-images[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;margin-bottom:20px}.offer-thumbnail[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:cover;border-radius:5px;box-shadow:0 0 10px #0000001a}.offer-details[_ngcontent-%COMP%]{text-align:left}.description[_ngcontent-%COMP%]{font-size:1.2em;margin-bottom:15px}.price[_ngcontent-%COMP%]{font-size:1.1em;font-weight:700;margin-bottom:10px}.website[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.website[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.offer-type[_ngcontent-%COMP%], .date-created[_ngcontent-%COMP%], .date-updated[_ngcontent-%COMP%]{font-size:.9em;color:#555;margin-bottom:5px}@media (max-width: 600px){.offer-container[_ngcontent-%COMP%]{padding:15px}.offer-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5em}.company-name[_ngcontent-%COMP%], .contact-name[_ngcontent-%COMP%], .contact-info[_ngcontent-%COMP%], .location[_ngcontent-%COMP%], .description[_ngcontent-%COMP%], .price[_ngcontent-%COMP%], .offer-type[_ngcontent-%COMP%], .date-created[_ngcontent-%COMP%], .date-updated[_ngcontent-%COMP%]{font-size:1em}.offer-thumbnail[_ngcontent-%COMP%]{width:80px;height:80px}}.image-preview[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.image-preview[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:relative;margin-right:10px;margin-bottom:10px}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100px;max-height:100px;border-radius:4px;border:1px solid #ddd}.image-preview[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:0;right:0;background:rgba(0,0,0,.5);color:#fff;border:none;border-radius:50%;padding:5px;cursor:pointer}']})}return E})();class Lu{constructor(){this.Name="",this.Phone_Number="",this.Email="",this.Description="",this.Website="",this.Facebook="",this.Instagram="",this.Date_Created="",this.Date_Updated="",this.Image="",this.Approved=!1,this.OpenHour="",this.CloseHour="",this.Hours={}}}class Vc extends Lu{constructor(){super(...arguments),this.id=""}}function Bl(E,h){if(1&E&&(o.TgZ(0,"option",35),o._uU(1),o.qZA()),2&E){const u=h.$implicit;o.Q6J("value",u),o.xp6(1),o.Oqu(u)}}function Va(E,h){if(1&E&&(o.TgZ(0,"option",35),o._uU(1),o.qZA()),2&E){const u=h.$implicit;o.Q6J("value",u),o.xp6(1),o.Oqu(u)}}function jl(E,h){if(1&E&&(o.TgZ(0,"option",35),o._uU(1),o.qZA()),2&E){const u=h.$implicit;o.Q6J("value",u),o.xp6(1),o.Oqu(u)}}function Vu(E,h){if(1&E&&(o.TgZ(0,"div",36)(1,"h2"),o._uU(2),o.qZA(),o.TgZ(3,"label",37),o._uU(4,"Open:"),o.qZA(),o.TgZ(5,"select",38),o.YNc(6,Va,2,2,"option",8),o.qZA(),o.TgZ(7,"label",37),o._uU(8,"Close:"),o.qZA(),o.TgZ(9,"select",39),o.YNc(10,jl,2,2,"option",8),o.qZA()()),2&E){const u=h.$implicit,_=o.oxw();o.Q6J("formGroupName",u),o.xp6(2),o.Oqu(u),o.xp6(1),o.MGl("for","",u,"-open"),o.xp6(3),o.Q6J("ngForOf",_.hoursOptions),o.xp6(1),o.MGl("for","",u,"-close"),o.xp6(3),o.Q6J("ngForOf",_.hoursOptions)}}const Uu=function(){return["Luni","Marti","Miercuri","Joi","Vineri","Sambata","Duminica"]};let df=(()=>{class E{constructor(u,_,C,G,_e){this.fb=u,this.route=_,this.router=C,this.servicesService=G,this.imageUploadService=_e,this.serviceId=null,this.serviceTypes=[],this.selectedFile=null,this.serviceObj=new Vc,this.oldImage=null,this.hoursOptions=["Closed","7:00 AM","8:00 AM","9:00 AM","10:00 AM","11:00 AM","12:00 PM","1:00 PM","2:00 PM","3:00 PM","4:00 PM","5:00 PM","6:00 PM","7:00 PM","8:00 PM","9:00 PM"],this.serviceForm=this.fb.group({Name:["",cn.kI.required],Email:["",[cn.kI.email]],Phone_Number:[""],Website:[""],Facebook:[""],Instagram:[""],Image:[""],Description:[""],Date_Created:[""],Community_Sponsor:[!1],Service_Type:["",cn.kI.required],Hours:this.fb.group({Luni:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Marti:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Miercuri:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Joi:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Vineri:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Sambata:this.fb.group({open:["Closed"],close:["Closed"]}),Duminica:this.fb.group({open:["Closed"],close:["Closed"]})})})}onFileSelected(u){this.selectedFile=u.target.files[0]}ngOnInit(){this.serviceId=this.route.snapshot.paramMap.get("id"),console.log(this.serviceId),this.servicesService.getServiceById(this.serviceId).subscribe(u=>{this.serviceForm.patchValue({Id:this.serviceId,Name:u?.Name,Email:u?.Email?u.Email:"",Phone_Number:u?.Phone_Number?u.Phone_Number:"",Service_Type:u?.Service_Type,Website:u?.Website?u.Website:"",Facebook:u?.Facebook?u?.Facebook:"",Instagram:u?.Instagram?u?.Instagram:"",Description:u?.Description,Date_Created:u?.Date_Created,Date_Updated:u?.Date_Updated,Approved:!0,Hours:u?.Hours}),console.log(this.serviceForm.value),u?.Image&&(this.oldImage=u?.Image)}),this.fetchServiceTypes()}fetchServiceTypes(){this.servicesService.getAllServiceTypes().subscribe(u=>{this.serviceTypes=u})}onSubmit(){this.serviceForm.valid&&(this.serviceObj.id=this.serviceId?this.serviceId:"0",this.serviceObj.Name=this.serviceForm.value.Name,this.serviceObj.Phone_Number=this.serviceForm.value.Phone_Number,this.serviceObj.Service_Type=this.serviceForm.value.Service_Type,this.serviceObj.Community_Sponsor=!1,this.serviceObj.Email=this.serviceForm.value.Email,this.serviceObj.Website=this.serviceForm.value.Website,this.serviceObj.Facebook=this.serviceForm.value.Facebook,this.serviceObj.Instagram=this.serviceForm.value.Instagram,this.serviceObj.Description=this.serviceForm.value.Description,this.serviceObj.Date_Created=this.serviceForm.value.Date_Created,this.serviceObj.Date_Updated=this.serviceForm.value.Date_Updated,this.serviceObj.Image=this.serviceForm.value.Image,this.serviceObj.Hours=this.serviceForm.value.Hours,this.selectedFile?(console.log(this.selectedFile),this.imageUploadService.uploadImage(this.selectedFile,"serviceImages").subscribe(u=>{this.serviceObj.Image=u,this.saveService()})):(this.oldImage&&(this.serviceObj.Image=this.oldImage),this.saveService()))}saveService(){let u=this.route.snapshot.paramMap.get("id");this.servicesService.updateService(u,this.serviceObj).subscribe(_=>{console.log("Service updated successfully  ID:",_?.id),this.serviceForm.reset(),this.router.navigate(["/services",_?.id])})}static#e=this.\u0275fac=function(_){return new(_||E)(o.Y36(cn.qu),o.Y36(di.gz),o.Y36(di.F0),o.Y36(_a.r),o.Y36(ji.K))};static#t=this.\u0275cmp=o.Xpm({type:E,selectors:[["app-edit-services"]],decls:61,vars:6,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","Service_Type",1,"required"],["id","Service_Type","formControlName","Service_Type","required",""],[3,"value",4,"ngFor","ngForOf"],["for","Name",1,"required"],["id","Name","placeholder","Ion Dumitrescu","formControlName","Name","required",""],["for","Email"],["id","Email","type","Email","placeholder","info@website.com","formControlName","Email"],["for","Phone_Number"],["id","Phone_Number","type","text","placeholder","(425) 444-5555","formControlName","Phone_Number"],["for","Website"],["id","Website","type","text","placeholder","https://www.website.com","formControlName","Website"],["for","Facebook"],["id","Facebook","type","text","placeholder","https://www.facebook.com/yourname","formControlName","Facebook"],["for","Instagram"],["id","Instagram","type","text","placeholder","instaHandle..","formControlName","Instagram"],["for","Description",1,"required"],["id","Description","formControlName","Description"],["for","Hours"],["formGroupName","Hours"],[1,"day-container"],["class","day",3,"formGroupName",4,"ngFor","ngForOf"],["for","Image"],[1,"service-card-image-container"],[1,"service-card-image",3,"src"],["type","file","formControlName","Image",3,"change"],["type","submit",3,"disabled"],[2,"display","none"],["for","Approved"],["id","Approved","formControlName","Approved"],[3,"value"],[1,"day",3,"formGroupName"],[3,"for"],["formControlName","open"],["formControlName","close"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1"),o._uU(3,"Lista de Servicii"),o.qZA()(),o.TgZ(4,"div",2)(5,"h2"),o._uU(6,"Adaugati serviciile oferite pentru membrii comunit\u0103\u021bii"),o.qZA()()(),o.TgZ(7,"div",3)(8,"form",4),o.NdJ("ngSubmit",function(){return C.onSubmit()}),o.TgZ(9,"div",5)(10,"label",6),o._uU(11,"Categoria de serviciului:"),o.qZA(),o.TgZ(12,"select",7),o.YNc(13,Bl,2,2,"option",8),o.qZA()(),o.TgZ(14,"div",5)(15,"label",9),o._uU(16,"Nume:"),o.qZA(),o._UZ(17,"input",10),o.qZA(),o.TgZ(18,"div",5)(19,"label",11),o._uU(20,"Adresa Email:"),o.qZA(),o._UZ(21,"input",12),o.qZA(),o.TgZ(22,"div",5)(23,"label",13),o._uU(24,"Numar de telefon:"),o.qZA(),o._UZ(25,"input",14),o.qZA(),o.TgZ(26,"div",5)(27,"label",15),o._uU(28,"Pagina Web:"),o.qZA(),o._UZ(29,"input",16),o.qZA(),o.TgZ(30,"div",5)(31,"label",17),o._uU(32,"Pagina Facebook:"),o.qZA(),o._UZ(33,"input",18),o.qZA(),o.TgZ(34,"div",5)(35,"label",19),o._uU(36,"Instagram:(doar numele contului)"),o.qZA(),o._UZ(37,"input",20),o.qZA(),o.TgZ(38,"div",5)(39,"label",21),o._uU(40,"Descriere a serviciile oferite:"),o.qZA(),o._UZ(41,"textarea",22),o.qZA(),o.TgZ(42,"div",5)(43,"label",23),o._uU(44,"Orele de contactare:"),o.qZA(),o.TgZ(45,"div",24)(46,"div",25),o.YNc(47,Vu,11,6,"div",26),o.qZA()()(),o.TgZ(48,"div",5)(49,"label",27),o._uU(50,"Imagine:"),o.qZA(),o.TgZ(51,"div",28),o._UZ(52,"img",29),o.qZA(),o.TgZ(53,"input",30),o.NdJ("change",function(_e){return C.onFileSelected(_e)}),o.qZA()(),o.TgZ(54,"button",31),o._uU(55,"Salvati Serviciu"),o.qZA(),o.TgZ(56,"div",32)(57,"div")(58,"label",33),o._uU(59,"Approved:"),o.qZA(),o._UZ(60,"input",34),o.qZA()()()()),2&_&&(o.xp6(8),o.Q6J("formGroup",C.serviceForm),o.xp6(5),o.Q6J("ngForOf",C.serviceTypes),o.xp6(34),o.Q6J("ngForOf",o.DdM(5,Uu)),o.xp6(5),o.Q6J("src",C.oldImage,o.LSH),o.xp6(2),o.Q6J("disabled",C.serviceForm.invalid))},dependencies:[B.sg,cn._Y,cn.YN,cn.Kr,cn.Fj,cn.EJ,cn.JJ,cn.JL,cn.Q7,cn.sg,cn.u,cn.x0],styles:['.hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.form-container[_ngcontent-%COMP%]{max-width:600px;margin:50px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.day-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.day[_ngcontent-%COMP%]{width:20%;padding:10px;box-sizing:border-box}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;border:none;padding:10px 20px;font-size:16px;border-radius:5px;cursor:pointer;margin:10px 0;transition:background-color .3s ease}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}button[_ngcontent-%COMP%]:hover, select[_ngcontent-%COMP%]:hover{background-color:#0056b3}button[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #007bff40}.service-card-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.service-card-image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover;border:2px solid #ddd}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}']})}return E})();var Jd=k(2380);function Cp(E,h){if(1&E&&(o.TgZ(0,"div",17),o._UZ(1,"img",18),o.qZA()),2&E){const u=h.$implicit,_=h.index,C=o.oxw();o.ekj("active",_===C.currentIndex),o.xp6(1),o.MGl("alt","Offer Image ",_+1,""),o.Q6J("src",u,o.LSH)}}let Uc=(()=>{class E{constructor(u,_,C){this.route=u,this.router=_,this.offerService=C,this.images=[],this.currentIndex=0}ngOnInit(){const u=this.route.snapshot.paramMap.get("id");u&&this.offerService.getOfferById(u).subscribe(_=>{this.offer=_,this.offer&&this.offer.Images&&(this.images=this.offer.Images.filter(C=>!!C)),this.initCarousel()})}goBack(){this.router.navigate(["/offers"])}initCarousel(){setTimeout(()=>{const u=document.querySelectorAll(".carousel-item");u.length>0&&u[0].classList.add("active")},0)}prevSlide(){this.images.length&&(this.currentIndex=this.currentIndex>0?this.currentIndex-1:this.images.length-1,this.updateSlide())}nextSlide(){this.images.length&&(this.currentIndex=(this.currentIndex+1)%this.images.length,this.updateSlide())}updateSlide(){document.querySelectorAll(".carousel-item").forEach((_,C)=>{_.classList.toggle("active",C===this.currentIndex)})}static#e=this.\u0275fac=function(_){return new(_||E)(o.Y36(di.gz),o.Y36(di.F0),o.Y36(Fo.b))};static#t=this.\u0275cmp=o.Xpm({type:E,selectors:[["app-offer-detail"]],decls:75,vars:22,consts:[[1,"offer-details-container"],[1,"offer-header"],[1,"offer-company"],[1,"offer-carousel-container"],[1,"carousel"],[1,"carousel-inner"],["class","carousel-item",3,"active",4,"ngFor","ngForOf"],[1,"carousel-control","prev",3,"click"],[1,"carousel-control","next",3,"click"],[1,"offer-content"],[1,"offer-info"],["target","_blank",3,"href"],[1,"offer-description"],[1,"offer-hours"],[1,"offer-sponsor"],[1,"offer-dates"],[1,"return-button",3,"click"],[1,"carousel-item"],[3,"src","alt"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1"),o._uU(3),o.qZA(),o.TgZ(4,"div",2)(5,"strong"),o._uU(6,"Company:"),o.qZA(),o._uU(7),o.qZA()(),o.TgZ(8,"div",3)(9,"div",4)(10,"div",5),o.YNc(11,Cp,2,4,"div",6),o.qZA(),o.TgZ(12,"a",7),o.NdJ("click",function(){return C.prevSlide()}),o._uU(13,"\u276e"),o.qZA(),o.TgZ(14,"a",8),o.NdJ("click",function(){return C.nextSlide()}),o._uU(15,"\u276f"),o.qZA()()(),o.TgZ(16,"div",9)(17,"div",10)(18,"div")(19,"strong"),o._uU(20,"Contact Name:"),o.qZA(),o._uU(21),o.qZA(),o.TgZ(22,"div")(23,"strong"),o._uU(24,"Phone Number:"),o.qZA(),o._uU(25),o.qZA(),o.TgZ(26,"div")(27,"strong"),o._uU(28,"Email:"),o.qZA(),o._uU(29),o.qZA(),o.TgZ(30,"div")(31,"strong"),o._uU(32,"Website:"),o.qZA(),o.TgZ(33,"a",11),o._uU(34),o.qZA()(),o.TgZ(35,"div")(36,"strong"),o._uU(37,"Facebool:"),o.qZA(),o._uU(38),o.qZA(),o.TgZ(39,"div")(40,"strong"),o._uU(41,"Instagram:"),o.qZA(),o._uU(42),o.qZA(),o.TgZ(43,"div")(44,"strong"),o._uU(45,"Location:"),o.qZA(),o._uU(46),o.qZA(),o.TgZ(47,"div")(48,"strong"),o._uU(49,"Offer Type:"),o.qZA(),o._uU(50),o.qZA()(),o.TgZ(51,"div",12)(52,"strong"),o._uU(53,"Description:"),o.qZA(),o._uU(54),o.qZA(),o.TgZ(55,"div",13)(56,"strong"),o._uU(57,"Hours:"),o.qZA(),o._UZ(58,"ul"),o.qZA(),o.TgZ(59,"div",14)(60,"strong"),o._uU(61,"Sponsor:"),o.qZA(),o._uU(62),o.qZA(),o.TgZ(63,"div",15)(64,"strong"),o._uU(65,"Created Date:"),o.qZA(),o._uU(66),o.ALo(67,"date"),o._UZ(68,"br"),o.TgZ(69,"strong"),o._uU(70,"Updated Date:"),o.qZA(),o._uU(71),o.ALo(72,"date"),o.qZA(),o.TgZ(73,"button",16),o.NdJ("click",function(){return C.goBack()}),o._uU(74,"Return to Offers"),o.qZA()()()),2&_&&(o.xp6(3),o.Oqu(null==C.offer?null:C.offer.Title),o.xp6(4),o.hij(" ",null==C.offer?null:C.offer.Company_Name," "),o.xp6(4),o.Q6J("ngForOf",C.images),o.xp6(10),o.hij(" ",null==C.offer?null:C.offer.Contact_Name,""),o.xp6(4),o.hij(" ",null==C.offer?null:C.offer.Phone_Number,""),o.xp6(4),o.hij(" ",null==C.offer?null:C.offer.Email,""),o.xp6(4),o.Q6J("href",null==C.offer?null:C.offer.Website,o.LSH),o.xp6(1),o.Oqu(null==C.offer?null:C.offer.Website),o.xp6(4),o.hij(" ",null==C.offer?null:C.offer.Facebook,""),o.xp6(4),o.hij(" ",null==C.offer?null:C.offer.Instagram,""),o.xp6(4),o.hij(" ",null==C.offer?null:C.offer.Location,""),o.xp6(4),o.hij(" ",null==C.offer?null:C.offer.OfferType,""),o.xp6(4),o.hij(" ",null==C.offer?null:C.offer.Description," "),o.xp6(8),o.hij(" ",null!=C.offer&&C.offer.Community_Sponsor?"Yes":"No"," "),o.xp6(4),o.hij(" ",o.xi3(67,16,null==C.offer?null:C.offer.Date_Created,"shortDate"),""),o.xp6(5),o.hij(" ",o.xi3(72,19,null==C.offer?null:C.offer.Date_Updated,"shortDate")," "))},dependencies:[B.sg,B.uU],styles:[".offer-details-container[_ngcontent-%COMP%]{padding:16px;margin:100px auto;max-width:1024px;background-color:#f9f9f9;border-radius:10px;box-shadow:0 2px 4px #0000001a}.offer-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;font-size:1.7rem}.offer-carousel-container[_ngcontent-%COMP%]{position:relative;width:100%;overflow:hidden;margin-bottom:20px}.carousel[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;transition:transform .5s ease-in-out}.carousel-inner[_ngcontent-%COMP%]{display:flex;width:100%}.carousel-item[_ngcontent-%COMP%]{min-width:100%;transition:transform .5s ease-in-out;opacity:0;display:none}.carousel-item.active[_ngcontent-%COMP%]{opacity:1;display:block}.carousel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.carousel-control[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background-color:#00000080;color:#fff;border:none;padding:10px;cursor:pointer;font-size:18px}.carousel-control.prev[_ngcontent-%COMP%]{left:10px}.carousel-control.next[_ngcontent-%COMP%]{right:10px}.offer-content[_ngcontent-%COMP%]{margin-top:20px}.offer-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:10px}.offer-description[_ngcontent-%COMP%], .offer-hours[_ngcontent-%COMP%], .offer-sponsor[_ngcontent-%COMP%], .offer-dates[_ngcontent-%COMP%]{margin-top:20px}.return-button[_ngcontent-%COMP%]{display:block;margin-top:20px;padding:10px 20px;background-color:var(--button-color);color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.return-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return E})();var Hl=k(4626);function hf(E,h){if(1&E){const u=o.EpF();o.TgZ(0,"button",16),o.NdJ("click",function(){o.CHM(u);const C=o.oxw();return o.KtG(C.navigateToEditService(C.service.id))}),o._uU(1,"Edit"),o.qZA()}}let Bc=(()=>{class E{constructor(u,_,C,G){this.route=u,this.servicesService=_,this.router=C,this.authService=G,this.service=new Vc,this.serviceId=null,this.isLoggedIn$=this.authService.isLoggedIn()}ngOnInit(){this.serviceId=this.route.snapshot.paramMap.get("id"),this.servicesService.getServiceById(this.serviceId).subscribe(u=>{u&&(this.service.Community_Sponsor=u?.Community_Sponsor??!1,this.service.Name=u.Name??"",this.service.Date_Created=u.Date_Created??"",this.service.Description=u.Description??"",this.service.Email=u.Email??"",this.service.Facebook=u.Facebook??"",this.service.Instagram=u.Instagram??"",this.service.Phone_Number=u.Phone_Number??"",this.service.Service_Type=u.Service_Type??"",this.service.Website=Fc(u.Website)??"",this.service.Image=u.Image??"",this.service.Hours=u.Hours??{},this.serviceId&&(this.service.id=this.serviceId),console.log("Image",u?.Image),(""==u.Image||void 0===u.Image)&&(this.service.Image="https://firebasestorage.googleapis.com/v0/b/romaniinseattle.appspot.com/o/serviceImages%2FdafaultImage.jpg?alt=media&token=3b0787df-12f0-444a-a426-013843534f1e"))})}goBack(){this.router.navigate(["/services"])}navigateToEditService(u){this.router.navigate(["/edit-service",u])}static#e=this.\u0275fac=function(_){return new(_||E)(o.Y36(di.gz),o.Y36(_a.r),o.Y36(di.F0),o.Y36(Hl.e))};static#t=this.\u0275cmp=o.Xpm({type:E,selectors:[["app-service-detail"]],decls:91,vars:36,consts:[[1,"service-details-container"],[1,"service-header"],[1,"forDebug"],[1,"service-content"],[1,"service-image"],[3,"src","alt"],[1,"service-details"],[1,"service-details-label"],["target","_blank",3,"href"],[1,"date-created"],[1,"service-description"],[1,"hours-label"],[1,"dayLabel"],[1,"service-actions"],["class","editButton",3,"click",4,"ngIf"],[3,"click"],[1,"editButton",3,"click"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3")(4,"strong"),o._uU(5,"Service Id:"),o.qZA(),o._uU(6),o.qZA()()(),o.TgZ(7,"div",3)(8,"div",4),o._UZ(9,"img",5),o.TgZ(10,"h1"),o._uU(11),o.qZA()(),o.TgZ(12,"div",6)(13,"div")(14,"label",7),o._uU(15,"Tip Serviciu:"),o.qZA(),o._uU(16),o.qZA(),o.TgZ(17,"div")(18,"label",7),o._uU(19,"Nr Telefon:"),o.qZA(),o._uU(20),o.qZA(),o.TgZ(21,"div")(22,"label",7),o._uU(23,"Email:"),o.qZA(),o._uU(24),o.qZA(),o.TgZ(25,"div")(26,"label",7),o._uU(27,"Website:"),o.qZA(),o.TgZ(28,"a",8),o._uU(29),o.qZA()(),o.TgZ(30,"div")(31,"label",7),o._uU(32,"Facebook:"),o.qZA(),o.TgZ(33,"a",8),o._uU(34),o.qZA()(),o.TgZ(35,"div")(36,"label",7),o._uU(37,"Instagram:"),o.qZA(),o.TgZ(38,"a",8),o._uU(39),o.qZA()(),o.TgZ(40,"div")(41,"label",7),o._uU(42,"Sponsor:"),o.qZA(),o._uU(43),o.qZA(),o.TgZ(44,"div",9)(45,"label",7),o._uU(46,"Data:"),o.qZA(),o._uU(47),o.ALo(48,"date"),o.qZA(),o.TgZ(49,"div",10)(50,"label",7),o._uU(51,"Descriere:"),o.qZA(),o._uU(52),o.qZA(),o.TgZ(53,"div")(54,"label",11),o._uU(55,"Orele de contactare:"),o.qZA(),o.TgZ(56,"ul")(57,"li")(58,"strong",12),o._uU(59,"Monday:"),o.qZA(),o._uU(60),o.qZA(),o.TgZ(61,"li")(62,"strong",12),o._uU(63,"Tuesday:"),o.qZA(),o._uU(64),o.qZA(),o.TgZ(65,"li")(66,"strong",12),o._uU(67,"Wednesday:"),o.qZA(),o._uU(68),o.qZA(),o.TgZ(69,"li")(70,"strong",12),o._uU(71,"Thursday:"),o.qZA(),o._uU(72),o.qZA(),o.TgZ(73,"li")(74,"strong",12),o._uU(75,"Friday:"),o.qZA(),o._uU(76),o.qZA(),o.TgZ(77,"li")(78,"strong",12),o._uU(79,"Saturday:"),o.qZA(),o._uU(80),o.qZA(),o.TgZ(81,"li")(82,"strong",12),o._uU(83,"Sunday:"),o.qZA(),o._uU(84),o.qZA()()()()(),o.TgZ(85,"div",13),o.YNc(86,hf,2,0,"button",14),o.ALo(87,"async"),o._uU(88," \xa0 "),o.TgZ(89,"button",15),o.NdJ("click",function(){return C.goBack()}),o._uU(90,"Inapoi la Servicii"),o.qZA()()()),2&_&&(o.xp6(6),o.hij(" ",C.service.id,""),o.xp6(3),o.s9C("alt",C.service.Name),o.Q6J("src",C.service.Image,o.LSH),o.xp6(2),o.Oqu(C.service.Name),o.xp6(5),o.hij(" ",C.service.Service_Type,""),o.xp6(4),o.hij(" ",C.service.Phone_Number,""),o.xp6(4),o.hij(" ",C.service.Email,""),o.xp6(4),o.Q6J("href",C.service.Website,o.LSH),o.xp6(1),o.Oqu(C.service.Website),o.xp6(4),o.Q6J("href",C.service.Facebook,o.LSH),o.xp6(1),o.Oqu(C.service.Facebook),o.xp6(4),o.Q6J("href",C.service.Instagram,o.LSH),o.xp6(1),o.Oqu(C.service.Instagram),o.xp6(4),o.hij(" ",C.service.Community_Sponsor?"Yes":"No",""),o.xp6(4),o.hij(" ",o.xi3(48,31,C.service.Date_Created,"shortDate"),""),o.xp6(5),o.hij(" ",C.service.Description," "),o.xp6(8),o.AsE(" ",null==C.service.Hours.Luni?null:C.service.Hours.Luni.open," - ",null==C.service.Hours.Luni?null:C.service.Hours.Luni.close,""),o.xp6(4),o.AsE(" ",null==C.service.Hours.Marti?null:C.service.Hours.Marti.open," - ",null==C.service.Hours.Marti?null:C.service.Hours.Marti.close,""),o.xp6(4),o.AsE(" ",null==C.service.Hours.Miercuri?null:C.service.Hours.Miercuri.open," - ",null==C.service.Hours.Miercuri?null:C.service.Hours.Miercuri.close,""),o.xp6(4),o.AsE(" ",null==C.service.Hours.Joi?null:C.service.Hours.Joi.open," - ",null==C.service.Hours.Joi?null:C.service.Hours.Joi.close,""),o.xp6(4),o.AsE(" ",null==C.service.Hours.Vineri?null:C.service.Hours.Vineri.open," - ",null==C.service.Hours.Vineri?null:C.service.Hours.Vineri.close,""),o.xp6(4),o.AsE(" ",null==C.service.Hours.Sambata?null:C.service.Hours.Sambata.open," - ",null==C.service.Hours.Sambata?null:C.service.Hours.Sambata.close,""),o.xp6(4),o.AsE(" ",null==C.service.Hours.Duminica?null:C.service.Hours.Duminica.open," - ",null==C.service.Hours.Duminica?null:C.service.Hours.Duminica.close,""),o.xp6(2),o.Q6J("ngIf",o.lcZ(87,34,C.isLoggedIn$)))},dependencies:[B.O5,B.Ov,B.uU],styles:[".forDebug[_ngcontent-%COMP%]{display:none}.service-details-container[_ngcontent-%COMP%]{padding:16px;margin:100px auto;max-width:1024px;background-color:#f9f9f9;border-radius:10px;box-shadow:0 2px 4px #0000001a}.service-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px}.service-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em}.service-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.service-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:400px;height:auto;border-radius:10px}.service-image[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{align-items:center;text-align:center}.service-details[_ngcontent-%COMP%]{width:100%;margin-top:16px}.service-details-label[_ngcontent-%COMP%]{font-weight:700;font-size:1.1em;color:var(--button-color);display:inline-block;width:100px}.service-details[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .service-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:4px 0;font-size:.9em}.service-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0}.service-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.8em;margin:4px 0}.service-description[_ngcontent-%COMP%]{font-size:1em;margin-top:16px;border-top:1px solid #ccc;padding-top:16px}.service-actions[_ngcontent-%COMP%]{margin-top:16px;display:flex;justify-content:space-between;width:100%}.service-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:5px;background-color:var(--button-color);color:#fff;cursor:pointer;font-size:1em}.service-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.date-created[_ngcontent-%COMP%]{display:none}.dayLabel[_ngcontent-%COMP%]{display:inline-block;width:80px;color:var(--button-color)}.hours-label[_ngcontent-%COMP%]{display:inline-block;width:100%;font-size:1.2rem;color:var(--button-color)}@media (min-width: 768px){.service-content[_ngcontent-%COMP%]{flex-direction:row;align-items:flex-start}.service-image[_ngcontent-%COMP%]{margin-right:16px}.service-details[_ngcontent-%COMP%]{flex:1}}@media (max-width: 767px){.service-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5em}.service-details[_ngcontent-%COMP%]{text-align:left}.service-actions[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.service-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:4px 0}}"]})}return E})(),Xd=(()=>{class E{constructor(u,_){this.authService=u,this.router=_,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).subscribe({next:()=>this.router.navigate(["/admin"]),error:u=>this.handleLoginError(u)})}handleLoginError(u){switch(u.code){case"auth/user-not-found":this.errorMessage="No user found with this email.";break;case"auth/wrong-password":this.errorMessage="Incorrect password.";break;case"auth/invalid-email":this.errorMessage="Invalid email format.";break;default:this.errorMessage="Login failed. Please try again."}console.log(this.errorMessage)}static#e=this.\u0275fac=function(_){return new(_||E)(o.Y36(Hl.e),o.Y36(di.F0))};static#t=this.\u0275cmp=o.Xpm({type:E,selectors:[["app-login"]],decls:15,vars:2,consts:[[1,"login-container"],[1,"login-box"],[3,"submit"],[1,"input-group"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModel","ngModelChange"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModel","ngModelChange"],["type","submit"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h2"),o._uU(3,"Login"),o.qZA(),o.TgZ(4,"form",2),o.NdJ("submit",function(){return C.login()}),o.TgZ(5,"div",3)(6,"label",4),o._uU(7,"Email"),o.qZA(),o.TgZ(8,"input",5),o.NdJ("ngModelChange",function(_e){return C.email=_e}),o.qZA()(),o.TgZ(9,"div",3)(10,"label",6),o._uU(11,"Password"),o.qZA(),o.TgZ(12,"input",7),o.NdJ("ngModelChange",function(_e){return C.password=_e}),o.qZA()(),o.TgZ(13,"button",8),o._uU(14,"Login"),o.qZA()()()()),2&_&&(o.xp6(8),o.Q6J("ngModel",C.email),o.xp6(4),o.Q6J("ngModel",C.password))},dependencies:[cn._Y,cn.Fj,cn.JJ,cn.JL,cn.Q7,cn.On,cn.F],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:linear-gradient(to right,#007bff,#0056b3)}.login-box[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:8px;box-shadow:0 2px 4px #0000001a;width:300px;text-align:center}.login-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px;font-size:24px;color:#333}.input-group[_ngcontent-%COMP%]{margin-bottom:15px;text-align:left}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;color:#333}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;box-sizing:border-box}button[_ngcontent-%COMP%]{width:100%;padding:10px 20px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:16px;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return E})(),Ua=(()=>{class E{static#e=this.\u0275fac=function(_){return new(_||E)};static#t=this.\u0275cmp=o.Xpm({type:E,selectors:[["app-test"]],decls:17,vars:0,consts:[[1,"hero"],[1,"container","hero-content"],[1,"hero-text"],["href","https://www.facebook.com/groups/seattlecommunity",1,"btn"],[1,"hero-image"],["src","https://via.placeholder.com/600x400","alt","Seattle"],[1,"community-description"],[1,"container"]],template:function(_,C){1&_&&(o.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1"),o._uU(4,"Welcome to Seattle Community"),o.qZA(),o.TgZ(5,"p"),o._uU(6,"Your go-to place for community services and events"),o.qZA(),o.TgZ(7,"a",3),o._uU(8,"Join our Facebook Group"),o.qZA()(),o.TgZ(9,"div",4),o._UZ(10,"img",5),o.qZA()()(),o.TgZ(11,"section",6)(12,"div",7)(13,"h2"),o._uU(14,"About Our Community"),o.qZA(),o.TgZ(15,"p"),o._uU(16,"Seattle Community is dedicated to bringing together local residents, businesses, and organizations to foster a sense of unity and support. We offer a variety of services, events, and opportunities to connect with others in the area. Join us and be a part of a vibrant and active community!"),o.qZA()()())},styles:[".hero[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#f5f5f5;padding:2rem 0}.hero-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.hero-text[_ngcontent-%COMP%]{flex:1}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1.5rem}.btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:.75rem 1.5rem;text-decoration:none;border-radius:5px;font-size:1rem}.hero-image[_ngcontent-%COMP%]{flex:1}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:5px}.community-description[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:2rem 0;text-align:center}.community-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.community-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin:0 auto;max-width:800px}"]})}return E})();function zl(E,h){if(1&E&&(o.TgZ(0,"option",32),o._uU(1),o.qZA()),2&E){const u=h.$implicit;o.Q6J("value",u),o.xp6(1),o.Oqu(u)}}function jc(E,h){if(1&E&&(o.TgZ(0,"div",37),o._UZ(1,"div",38),o.qZA()),2&E){const u=o.oxw().$implicit;o.xp6(1),o.Udp("width",u.progress,"%")}}function gl(E,h){if(1&E){const u=o.EpF();o.TgZ(0,"div",33),o._UZ(1,"img",34),o.YNc(2,jc,2,2,"div",35),o.TgZ(3,"button",36),o.NdJ("click",function(){const G=o.CHM(u).$implicit,_e=o.oxw();return o.KtG(_e.removeImage(G))}),o._uU(4,"Remove"),o.qZA()()}if(2&E){const u=h.$implicit;o.xp6(1),o.s9C("alt",u.name),o.Q6J("src",u.url,o.LSH),o.xp6(1),o.Q6J("ngIf",void 0!==u.progress)}}const Bu=[{path:"",component:Vl},{path:"rules",component:Kd},{path:"analytics",component:Jd.d},{path:"events",component:pl},{path:"add-event",component:Fu},{path:"offers",component:Qd},{path:"add-offers",component:_o},{path:"offers/:id",component:Uc},{path:"services",component:Ip},{path:"add-service",component:ku},{path:"services/add",component:ku},{path:"services/:id",component:Bc},{path:"edit-service/:id",component:df},{path:"edit-oferte/:id",component:(()=>{class E{constructor(u,_,C,G,_e){this.fb=u,this.offersService=_,this.imageUploadService=C,this.router=G,this.route=_e,this.offerTypes=[],this.images=[],this.imageUploadStatus={},this.offerId="",this.offerForm=this.fb.group({Title:["",cn.kI.required],Company_Name:[""],Contact_Name:["",cn.kI.required],Phone_Number:[""],Email:["",[cn.kI.email]],Location:[""],Website:[""],Description:["",cn.kI.required],Price:[""],Images:[],Filled:!1,Date_Created:[""],ApprovedDate:[""],OfferType:[""],Community_Sponsor:!1})}ngOnInit(){this.route.paramMap.subscribe(u=>{this.offerId=u.get("id"),this.offersService.getOfferById(this.offerId).subscribe(_=>{_&&(this.offer=_,this.offerForm.patchValue(_),this.images=_.Images.map(C=>({name:"",url:C})))})}),this.fetchOfferTypes()}onFileSelected(u){const _=u.target.files;for(let C=0;C<_.length;C++){const G=_[C];this.imageUploadStatus[G.name]="Uploading...";const _e={name:G.name,url:"",file:G,progress:0};this.images.push(_e),this.imageUploadService.uploadOfferImage(G,this.offerId).subscribe({next:Le=>{"string"==typeof Le?(_e.url=Le,this.offer.Images.push(Le),this.imageUploadStatus[G.name]="Uploaded"):_e.progress=Le},error:Le=>{console.error("Image upload failed: ",Le),this.imageUploadStatus[G.name]="Failed to upload"}})}}removeImage(u){this.images=this.images.filter(_=>_!==u),this.offer.Images=this.offer.Images.filter(_=>_!==u.url),this.imageUploadService.deleteOfferImage(u.url).subscribe(()=>{this.offersService.updateOffer(this.offerId,this.offer).subscribe()})}fetchOfferTypes(){this.offersService.getAllOfferTypes().subscribe(u=>{this.offerTypes=u})}onSubmit(){this.offerForm.valid&&(this.offer.Title=this.offerForm.value.Title,this.offer.Phone_Number=this.offerForm.value.Phone_Number,this.offer.Price=this.offerForm.value.Price,this.offer.Community_Sponsor=this.offerForm.value.Community_Sponsor,this.offer.Company_Name=this.offerForm.value.Company_Name,this.offer.Contact_Name=this.offerForm.value.Contact_Name,this.offer.Website=this.offerForm.value.Website,this.offer.Email=this.offerForm.value.Email,this.offer.Location=this.offerForm.value.Location,this.offer.OfferType=this.offerForm.value.OfferType,this.offer.Description=this.offerForm.value.Description,this.offer.Date_Updated=(new Date).toISOString(),this.offersService.updateOffer(this.offerId,this.offer).subscribe(()=>{this.router.navigate(["/offers"])}))}static#e=this.\u0275fac=function(_){return new(_||E)(o.Y36(cn.qu),o.Y36(Fo.b),o.Y36(ji.K),o.Y36(di.F0),o.Y36(di.gz))};static#t=this.\u0275cmp=o.Xpm({type:E,selectors:[["app-edit-oferte"]],decls:59,vars:3,consts:[[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","OfferType"],["id","OfferType","id","OfferType","formControlName","OfferType","required","",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","Title",1,"required"],["type","text","id","Title","formControlName","Title","required","","placeholder","Titlu"],["for","Company_Name"],["type","text","id","Company_Name","formControlName","Company_Name","required","","placeholder","Numele Companiei"],["for","Contact_Name",1,"required"],["type","text","id","Contact_Name","formControlName","Contact_Name","required","","placeholder","Persoana de contact"],["for","Phone_Number"],["type","text","id","Phone_Number","formControlName","Phone_Number","placeholder","Numar de telefon"],["for","Email",1,"required"],["type","email","id","Email","formControlName","Email","required","","placeholder","Adresa de Email"],["for","Email"],["type","email","id","Facebook","formControlName","Facebook","required","","placeholder","Adresa de Facebook"],["type","email","id","Instagram","formControlName","Instagram","required","","placeholder","cont_de_instagram"],["for","Description",1,"required"],["id","Description","formControlName","Description","required","","placeholder","Descriere"],["for","Price"],["type","text","id","Price","formControlName","Price","placeholder","Pret"],["for","Location"],["type","text","id","Location","formControlName","Location","placeholder","Locatie"],["for","Website"],["type","url","id","Website","formControlName","Website","placeholder","Pagina de Web"],["for","Images"],["id","Images","type","file","multiple","",1,"form-control-file",3,"change"],[1,"image-preview-container"],["class","image-preview",4,"ngFor","ngForOf"],["type","submit"],[3,"value"],[1,"image-preview"],[1,"img-thumbnail",3,"src","alt"],["class","progress",4,"ngIf"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"progress"],[1,"progress-bar"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0)(1,"form",1),o.NdJ("ngSubmit",function(){return C.onSubmit()}),o.TgZ(2,"div",2)(3,"label",3),o._uU(4,"Tip de oferta"),o.qZA(),o.TgZ(5,"select",4),o.YNc(6,zl,2,2,"option",5),o.qZA()(),o.TgZ(7,"div",2)(8,"label",6),o._uU(9,"Titlu:"),o.qZA(),o._UZ(10,"input",7),o.qZA(),o.TgZ(11,"div",2)(12,"label",8),o._uU(13,"Numele Companiei:"),o.qZA(),o._UZ(14,"input",9),o.qZA(),o.TgZ(15,"div",2)(16,"label",10),o._uU(17,"Numele persoanei de contact:"),o.qZA(),o._UZ(18,"input",11),o.qZA(),o.TgZ(19,"div",2)(20,"label",12),o._uU(21,"Numar de telefon:"),o.qZA(),o._UZ(22,"input",13),o.qZA(),o.TgZ(23,"div",2)(24,"label",14),o._uU(25,"Adresa de Email:"),o.qZA(),o._UZ(26,"input",15),o.qZA(),o.TgZ(27,"div",2)(28,"label",16),o._uU(29,"Adresa de Facebook:"),o.qZA(),o._UZ(30,"input",17),o.qZA(),o.TgZ(31,"div",2)(32,"label",16),o._uU(33,"Cont de Instagram:"),o.qZA(),o._UZ(34,"input",18),o.qZA(),o.TgZ(35,"div",2)(36,"label",19),o._uU(37,"Descriere:"),o.qZA(),o._UZ(38,"textarea",20),o.qZA(),o.TgZ(39,"div",2)(40,"label",21),o._uU(41,"Pret:"),o.qZA(),o._UZ(42,"input",22),o.qZA(),o.TgZ(43,"div",2)(44,"label",23),o._uU(45,"Locatie:"),o.qZA(),o._UZ(46,"input",24),o.qZA(),o.TgZ(47,"div",2)(48,"label",25),o._uU(49,"Website:"),o.qZA(),o._UZ(50,"input",26),o.qZA(),o.TgZ(51,"div",2)(52,"label",27),o._uU(53,"Images"),o.qZA(),o.TgZ(54,"input",28),o.NdJ("change",function(_e){return C.onFileSelected(_e)}),o.qZA(),o.TgZ(55,"div",29),o.YNc(56,gl,5,3,"div",30),o.qZA()(),o.TgZ(57,"button",31),o._uU(58,"Salveaza Oferta"),o.qZA()()()),2&_&&(o.xp6(1),o.Q6J("formGroup",C.offerForm),o.xp6(5),o.Q6J("ngForOf",C.offerTypes),o.xp6(50),o.Q6J("ngForOf",C.images))},dependencies:[B.sg,B.O5,cn._Y,cn.YN,cn.Kr,cn.Fj,cn.EJ,cn.JJ,cn.JL,cn.Q7,cn.sg,cn.u],styles:['.form-container[_ngcontent-%COMP%]{max-width:600px;margin:100px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;color:#fff;border:none;border-radius:4px;cursor:pointer}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}.image-preview-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.image-preview[_ngcontent-%COMP%]{position:relative;display:inline-block;width:100px;height:100px}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:5px}.image-preview[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;background-color:#00000080}.image-preview[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:5px;background-color:#4caf50}.image-preview[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;background-color:#ff0000b3;border:none;border-radius:3px}']})}return E})()},{path:"test",component:Ua},{path:"login",component:Xd},{path:"",redirectTo:"/login",pathMatch:"full"},{path:"admin",loadChildren:()=>k.e(658).then(k.bind(k,7658)).then(E=>E.AdminModule)}];let eh=(()=>{class E{static#e=this.\u0275fac=function(_){return new(_||E)};static#t=this.\u0275mod=o.oAB({type:E});static#n=this.\u0275inj=o.cJS({imports:[di.Bz.forRoot(Bu),di.Bz]})}return E})();var ff=k(769);const Hc=function(E){return{"open-bar1":E}},_l=function(E){return{"open-bar2":E}},th=function(E){return{"open-bar3":E}},pf=function(E){return{active:E}};let T=(()=>{class E{constructor(){this.menuOpen=!1}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static#e=this.\u0275fac=function(_){return new(_||E)};static#t=this.\u0275cmp=o.Xpm({type:E,selectors:[["app-navigation"]],decls:25,vars:12,consts:[[1,"navbar"],[1,"navbar-container"],[1,"logo"],["routerLink","/"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item"],["routerLink","/",1,"nav-links",3,"click"],["routerLink","/services",1,"nav-links",3,"click"],["routerLink","/events",1,"nav-links",3,"click"],["routerLink","/offers",1,"nav-links",3,"click"],["routerLink","/rules",1,"nav-links",3,"click"]],template:function(_,C){1&_&&(o.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),o._uU(4,"Romani in Seattle"),o.qZA()(),o.TgZ(5,"div",4),o.NdJ("click",function(){return C.toggleMenu()}),o._UZ(6,"div",5)(7,"div",6)(8,"div",7),o.qZA(),o.TgZ(9,"ul",8)(10,"li",9)(11,"a",10),o.NdJ("click",function(){return C.closeMenu()}),o._uU(12,"Home"),o.qZA()(),o.TgZ(13,"li",9)(14,"a",11),o.NdJ("click",function(){return C.closeMenu()}),o._uU(15,"Servicii"),o.qZA()(),o.TgZ(16,"li",9)(17,"a",12),o.NdJ("click",function(){return C.closeMenu()}),o._uU(18,"Evenimente"),o.qZA()(),o.TgZ(19,"li",9)(20,"a",13),o.NdJ("click",function(){return C.closeMenu()}),o._uU(21,"Oferte"),o.qZA()(),o.TgZ(22,"li",9)(23,"a",14),o.NdJ("click",function(){return C.closeMenu()}),o._uU(24,"Regulament"),o.qZA()()()()()),2&_&&(o.xp6(6),o.Q6J("ngClass",o.VKq(4,Hc,C.menuOpen)),o.xp6(1),o.Q6J("ngClass",o.VKq(6,_l,C.menuOpen)),o.xp6(1),o.Q6J("ngClass",o.VKq(8,th,C.menuOpen)),o.xp6(1),o.Q6J("ngClass",o.VKq(10,pf,C.menuOpen)))},dependencies:[B.mk,di.rH],styles:[".navbar[_ngcontent-%COMP%]{background-color:var(--nav-background-color);position:fixed;width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:70px;max-width:1200px;margin:0 auto}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:34px;font-weight:700;color:var(--button-color);text-decoration:none}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);text-decoration:none;text-transform:uppercase;font-size:18px;font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:500;font-style:bold}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:#fff}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:#fff}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:flex-start}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;width:100%;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);text-decoration:none;text-transform:uppercase;font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:200;font-style:normal;color:var(--nav-active-text);font-size:24px}}"]})}return E})(),g=(()=>{class E{static#e=this.\u0275fac=function(_){return new(_||E)};static#t=this.\u0275cmp=o.Xpm({type:E,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"footer"],[1,"footer-content"]],template:function(_,C){1&_&&(o.TgZ(0,"footer",0)(1,"div",1),o._uU(2," \xa9 2024 Romani in Seattle. All rights reserved. "),o.qZA()())},styles:[".footer[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%;height:50px;background-color:#333;color:#fff;display:flex;align-items:center;justify-content:center;text-align:center;box-shadow:0 -2px 5px #0000001a}.footer-content[_ngcontent-%COMP%]{font-size:.9rem}"]})}return E})(),v=(()=>{class E{constructor(u){this.analyticsService=u,this.title="romani-in-seattle"}ngOnInit(){}trackButtonClick(){}static#e=this.\u0275fac=function(_){return new(_||E)(o.Y36(ff.y))};static#t=this.\u0275cmp=o.Xpm({type:E,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"main-layout"]],template:function(_,C){1&_&&(o.TgZ(0,"div",0),o._UZ(1,"app-navigation")(2,"router-outlet")(3,"app-footer"),o.qZA())},dependencies:[di.lC,T,g],styles:[".content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;min-width:calc(100vw - 70px);min-height:calc(100vh - 70px);padding:20px}"]})}return E})();class M{}class X{}const pe="*";function Fn(E,h=null){return{type:2,steps:E,options:h}}function tr(E){return{type:6,styles:E,offset:null}}class ia{constructor(h=0,u=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=h+u}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}onStart(h){this._originalOnStartFns.push(h),this._onStartFns.push(h)}onDone(h){this._originalOnDoneFns.push(h),this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(h=>h()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(h){this._position=this.totalTime?h*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(h){const u="start"==h?this._onStartFns:this._onDoneFns;u.forEach(_=>_()),u.length=0}}class ju{constructor(h){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=h;let u=0,_=0,C=0;const G=this.players.length;0==G?queueMicrotask(()=>this._onFinish()):this.players.forEach(_e=>{_e.onDone(()=>{++u==G&&this._onFinish()}),_e.onDestroy(()=>{++_==G&&this._onDestroy()}),_e.onStart(()=>{++C==G&&this._onStart()})}),this.totalTime=this.players.reduce((_e,Le)=>Math.max(_e,Le.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}init(){this.players.forEach(h=>h.init())}onStart(h){this._onStartFns.push(h)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(h=>h()),this._onStartFns=[])}onDone(h){this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(h=>h.play())}pause(){this.players.forEach(h=>h.pause())}restart(){this.players.forEach(h=>h.restart())}finish(){this._onFinish(),this.players.forEach(h=>h.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(h=>h.destroy()),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}reset(){this.players.forEach(h=>h.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(h){const u=h*this.totalTime;this.players.forEach(_=>{const C=_.totalTime?Math.min(1,u/_.totalTime):1;_.setPosition(C)})}getPosition(){const h=this.players.reduce((u,_)=>null===u||_.totalTime>u.totalTime?_:u,null);return null!=h?h.getPosition():0}beforeDestroy(){this.players.forEach(h=>{h.beforeDestroy&&h.beforeDestroy()})}triggerCallback(h){const u="start"==h?this._onStartFns:this._onDoneFns;u.forEach(_=>_()),u.length=0}}function zu(E){return new o.vHH(3e3,!1)}function ic(E){switch(E.length){case 0:return new ia;case 1:return E[0];default:return new ju(E)}}function ql(E,h,u=new Map,_=new Map){const C=[],G=[];let _e=-1,Le=null;if(h.forEach(yt=>{const Ft=yt.get("offset"),pn=Ft==_e,wn=pn&&Le||new Map;yt.forEach((wr,gr)=>{let nr=gr,ur=wr;if("offset"!==gr)switch(nr=E.normalizePropertyName(nr,C),ur){case"!":ur=u.get(gr);break;case pe:ur=_.get(gr);break;default:ur=E.normalizeStyleValue(gr,nr,ur,C)}wn.set(nr,ur)}),pn||G.push(wn),Le=wn,_e=Ft}),C.length)throw function Vo(E){return new o.vHH(3502,!1)}();return G}function Sp(E,h,u,_){switch(h){case"start":E.onStart(()=>_(u&&sh(u,"start",E)));break;case"done":E.onDone(()=>_(u&&sh(u,"done",E)));break;case"destroy":E.onDestroy(()=>_(u&&sh(u,"destroy",E)))}}function sh(E,h,u){const G=Wl(E.element,E.triggerName,E.fromState,E.toState,h||E.phaseName,u.totalTime??E.totalTime,!!u.disabled),_e=E._data;return null!=_e&&(G._data=_e),G}function Wl(E,h,u,_,C="",G=0,_e){return{element:E,triggerName:h,fromState:u,toState:_,phaseName:C,totalTime:G,disabled:!!_e}}function vo(E,h,u){let _=E.get(h);return _||E.set(h,_=u),_}function El(E){const h=E.indexOf(":");return[E.substring(1,h),E.slice(h+1)]}const Mp=(()=>typeof document>"u"?null:document.documentElement)();function Pp(E){const h=E.parentNode||E.host||null;return h===Mp?null:h}let sc=null,oh=!1;function ch(E,h){for(;h;){if(h===E)return!0;h=Pp(h)}return!1}function lh(E,h,u){if(u)return Array.from(E.querySelectorAll(h));const _=E.querySelector(h);return _?[_]:[]}let Rp=(()=>{class E{validateStyleProperty(u){return function Kl(E){sc||(sc=function Ug(){return typeof document<"u"?document.body:null}()||{},oh=!!sc.style&&"WebkitAppearance"in sc.style);let h=!0;return sc.style&&!function Vg(E){return"ebkit"==E.substring(1,6)}(E)&&(h=E in sc.style,!h&&oh&&(h="Webkit"+E.charAt(0).toUpperCase()+E.slice(1)in sc.style)),h}(u)}matchesElement(u,_){return!1}containsElement(u,_){return ch(u,_)}getParentElement(u){return Pp(u)}query(u,_,C){return lh(u,_,C)}computeStyle(u,_,C){return C||""}animate(u,_,C,G,_e,Le=[],yt){return new ia(C,G)}static#e=this.\u0275fac=function(_){return new(_||E)};static#t=this.\u0275prov=o.Yz7({token:E,factory:E.\u0275fac})}return E})(),If=(()=>{class E{static#e=this.NOOP=new Rp}return E})();const Bg=1e3,bf="ng-enter",Ql="ng-leave",Al="ng-trigger",Ju=".ng-trigger",Cf="ng-animating",Tf=".ng-animating";function sa(E){if("number"==typeof E)return E;const h=E.match(/^(-?[\.\d]+)(m?s)/);return!h||h.length<2?0:Xu(parseFloat(h[1]),h[2])}function Xu(E,h){return"s"===h?E*Bg:E}function va(E,h,u){return E.hasOwnProperty("duration")?E:function Hg(E,h,u){let C,G=0,_e="";if("string"==typeof E){const Le=E.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Le)return h.push(zu()),{duration:0,delay:0,easing:""};C=Xu(parseFloat(Le[1]),Le[2]);const yt=Le[3];null!=yt&&(G=Xu(parseFloat(yt),Le[4]));const Ft=Le[5];Ft&&(_e=Ft)}else C=E;if(!u){let Le=!1,yt=h.length;C<0&&(h.push(function rc(){return new o.vHH(3100,!1)}()),Le=!0),G<0&&(h.push(function Gc(){return new o.vHH(3101,!1)}()),Le=!0),Le&&h.splice(yt,0,zu())}return{duration:C,delay:G,easing:_e}}(E,h,u)}function Il(E,h={}){return Object.keys(E).forEach(u=>{h[u]=E[u]}),h}function zg(E){const h=new Map;return Object.keys(E).forEach(u=>{h.set(u,E[u])}),h}function oc(E,h=new Map,u){if(u)for(let[_,C]of u)h.set(_,C);for(let[_,C]of E)h.set(_,C);return h}function ya(E,h,u){h.forEach((_,C)=>{const G=td(C);u&&!u.has(C)&&u.set(C,E.style[G]),E.style[G]=_})}function ac(E,h){h.forEach((u,_)=>{const C=td(_);E.style[C]=""})}function Yl(E){return Array.isArray(E)?1==E.length?E[0]:Fn(E):E}const ed=new RegExp("{{\\s*(.+?)\\s*}}","g");function dh(E){let h=[];if("string"==typeof E){let u;for(;u=ed.exec(E);)h.push(u[1]);ed.lastIndex=0}return h}function Ba(E,h,u){const _=E.toString(),C=_.replace(ed,(G,_e)=>{let Le=h[_e];return null==Le&&(u.push(function mf(E){return new o.vHH(3003,!1)}()),Le=""),Le.toString()});return C==_?E:C}function hh(E){const h=[];let u=E.next();for(;!u.done;)h.push(u.value),u=E.next();return h}const fh=/-+([a-z0-9])/g;function td(E){return E.replace(fh,(...h)=>h[1].toUpperCase())}function Qs(E,h,u){switch(h.type){case 7:return E.visitTrigger(h,u);case 0:return E.visitState(h,u);case 1:return E.visitTransition(h,u);case 2:return E.visitSequence(h,u);case 3:return E.visitGroup(h,u);case 4:return E.visitAnimate(h,u);case 5:return E.visitKeyframes(h,u);case 6:return E.visitStyle(h,u);case 8:return E.visitReference(h,u);case 9:return E.visitAnimateChild(h,u);case 10:return E.visitAnimateRef(h,u);case 11:return E.visitQuery(h,u);case 12:return E.visitStagger(h,u);default:throw function Pg(E){return new o.vHH(3004,!1)}()}}function wf(E,h){return window.getComputedStyle(E)[h]}const bl="*";function nd(E,h){const u=[];return"string"==typeof E?E.split(/\s*,\s*/).forEach(_=>function r_(E,h,u){if(":"==E[0]){const yt=function Fp(E,h){switch(E){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(u,_)=>parseFloat(_)>parseFloat(u);case":decrement":return(u,_)=>parseFloat(_)<parseFloat(u);default:return h.push(function Xm(E){return new o.vHH(3016,!1)}()),"* => *"}}(E,u);if("function"==typeof yt)return void h.push(yt);E=yt}const _=E.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==_||_.length<4)return u.push(function kg(E){return new o.vHH(3015,!1)}()),h;const C=_[1],G=_[2],_e=_[3];h.push(Df(C,_e));"<"==G[0]&&!(C==bl&&_e==bl)&&h.push(Df(_e,C))}(_,u,h)):u.push(E),u}const Lp=new Set(["true","1"]),rd=new Set(["false","0"]);function Df(E,h){const u=Lp.has(E)||rd.has(E),_=Lp.has(h)||rd.has(h);return(C,G)=>{let _e=E==bl||E==C,Le=h==bl||h==G;return!_e&&u&&"boolean"==typeof C&&(_e=C?Lp.has(E):rd.has(E)),!Le&&_&&"boolean"==typeof G&&(Le=G?Lp.has(h):rd.has(h)),_e&&Le}}const id=new RegExp("s*:selfs*,?","g");function Cl(E,h,u,_){return new Mf(E).build(h,u,_)}class Mf{constructor(h){this._driver=h}build(h,u,_){const C=new Xl(u);return this._resetContextStyleTimingState(C),Qs(this,Yl(h),C)}_resetContextStyleTimingState(h){h.currentQuerySelector="",h.collectedStyles=new Map,h.collectedStyles.set("",new Map),h.currentTime=0}visitTrigger(h,u){let _=u.queryCount=0,C=u.depCount=0;const G=[],_e=[];return"@"==h.name.charAt(0)&&u.errors.push(function Gu(){return new o.vHH(3006,!1)}()),h.definitions.forEach(Le=>{if(this._resetContextStyleTimingState(u),0==Le.type){const yt=Le,Ft=yt.name;Ft.toString().split(/\s*,\s*/).forEach(pn=>{yt.name=pn,G.push(this.visitState(yt,u))}),yt.name=Ft}else if(1==Le.type){const yt=this.visitTransition(Le,u);_+=yt.queryCount,C+=yt.depCount,_e.push(yt)}else u.errors.push(function vf(){return new o.vHH(3007,!1)}())}),{type:7,name:h.name,states:G,transitions:_e,queryCount:_,depCount:C,options:null}}visitState(h,u){const _=this.visitStyle(h.styles,u),C=h.options&&h.options.params||null;if(_.containsDynamicStyles){const G=new Set,_e=C||{};_.styles.forEach(Le=>{Le instanceof Map&&Le.forEach(yt=>{dh(yt).forEach(Ft=>{_e.hasOwnProperty(Ft)||G.add(Ft)})})}),G.size&&(hh(G.values()),u.errors.push(function Rg(E,h){return new o.vHH(3008,!1)}()))}return{type:0,name:h.name,style:_,options:C?{params:C}:null}}visitTransition(h,u){u.queryCount=0,u.depCount=0;const _=Qs(this,Yl(h.animation),u);return{type:1,matchers:nd(h.expr,u.errors),animation:_,queryCount:u.queryCount,depCount:u.depCount,options:Wc(h.options)}}visitSequence(h,u){return{type:2,steps:h.steps.map(_=>Qs(this,_,u)),options:Wc(h.options)}}visitGroup(h,u){const _=u.currentTime;let C=0;const G=h.steps.map(_e=>{u.currentTime=_;const Le=Qs(this,_e,u);return C=Math.max(C,u.currentTime),Le});return u.currentTime=C,{type:3,steps:G,options:Wc(h.options)}}visitAnimate(h,u){const _=function i_(E,h){if(E.hasOwnProperty("duration"))return E;if("number"==typeof E)return sd(va(E,h).duration,0,"");const u=E;if(u.split(/\s+/).some(G=>"{"==G.charAt(0)&&"{"==G.charAt(1))){const G=sd(0,0,"");return G.dynamic=!0,G.strValue=u,G}const C=va(u,h);return sd(C.duration,C.delay,C.easing)}(h.timings,u.errors);u.currentAnimateTimings=_;let C,G=h.styles?h.styles:tr({});if(5==G.type)C=this.visitKeyframes(G,u);else{let _e=h.styles,Le=!1;if(!_e){Le=!0;const Ft={};_.easing&&(Ft.easing=_.easing),_e=tr(Ft)}u.currentTime+=_.duration+_.delay;const yt=this.visitStyle(_e,u);yt.isEmptyStep=Le,C=yt}return u.currentAnimateTimings=null,{type:4,timings:_,style:C,options:null}}visitStyle(h,u){const _=this._makeStyleAst(h,u);return this._validateStyleAst(_,u),_}_makeStyleAst(h,u){const _=[],C=Array.isArray(h.styles)?h.styles:[h.styles];for(let Le of C)"string"==typeof Le?Le===pe?_.push(Le):u.errors.push(new o.vHH(3002,!1)):_.push(zg(Le));let G=!1,_e=null;return _.forEach(Le=>{if(Le instanceof Map&&(Le.has("easing")&&(_e=Le.get("easing"),Le.delete("easing")),!G))for(let yt of Le.values())if(yt.toString().indexOf("{{")>=0){G=!0;break}}),{type:6,styles:_,easing:_e,offset:h.offset,containsDynamicStyles:G,options:null}}_validateStyleAst(h,u){const _=u.currentAnimateTimings;let C=u.currentTime,G=u.currentTime;_&&G>0&&(G-=_.duration+_.delay),h.styles.forEach(_e=>{"string"!=typeof _e&&_e.forEach((Le,yt)=>{const Ft=u.collectedStyles.get(u.currentQuerySelector),pn=Ft.get(yt);let wn=!0;pn&&(G!=C&&G>=pn.startTime&&C<=pn.endTime&&(u.errors.push(function Wu(E,h,u,_,C){return new o.vHH(3010,!1)}()),wn=!1),G=pn.startTime),wn&&Ft.set(yt,{startTime:G,endTime:C}),u.options&&function xp(E,h,u){const _=h.params||{},C=dh(E);C.length&&C.forEach(G=>{_.hasOwnProperty(G)||u.push(function $u(E){return new o.vHH(3001,!1)}())})}(Le,u.options,u.errors)})})}visitKeyframes(h,u){const _={type:5,styles:[],options:null};if(!u.currentAnimateTimings)return u.errors.push(function xg(){return new o.vHH(3011,!1)}()),_;let G=0;const _e=[];let Le=!1,yt=!1,Ft=0;const pn=h.steps.map(Is=>{const Ki=this._makeStyleAst(Is,u);let to=null!=Ki.offset?Ki.offset:function Up(E){if("string"==typeof E)return null;let h=null;if(Array.isArray(E))E.forEach(u=>{if(u instanceof Map&&u.has("offset")){const _=u;h=parseFloat(_.get("offset")),_.delete("offset")}});else if(E instanceof Map&&E.has("offset")){const u=E;h=parseFloat(u.get("offset")),u.delete("offset")}return h}(Ki.styles),zs=0;return null!=to&&(G++,zs=Ki.offset=to),yt=yt||zs<0||zs>1,Le=Le||zs<Ft,Ft=zs,_e.push(zs),Ki});yt&&u.errors.push(function Ku(){return new o.vHH(3012,!1)}()),Le&&u.errors.push(function Tp(){return new o.vHH(3200,!1)}());const wn=h.steps.length;let wr=0;G>0&&G<wn?u.errors.push(function Og(){return new o.vHH(3202,!1)}()):0==G&&(wr=1/(wn-1));const gr=wn-1,nr=u.currentTime,ur=u.currentAnimateTimings,Ri=ur.duration;return pn.forEach((Is,Ki)=>{const to=wr>0?Ki==gr?1:wr*Ki:_e[Ki],zs=to*Ri;u.currentTime=nr+ur.delay+zs,ur.duration=zs,this._validateStyleAst(Is,u),Is.offset=to,_.styles.push(Is)}),_}visitReference(h,u){return{type:8,animation:Qs(this,Yl(h.animation),u),options:Wc(h.options)}}visitAnimateChild(h,u){return u.depCount++,{type:9,options:Wc(h.options)}}visitAnimateRef(h,u){return{type:10,animation:this.visitReference(h.animation,u),options:Wc(h.options)}}visitQuery(h,u){const _=u.currentQuerySelector,C=h.options||{};u.queryCount++,u.currentQuery=h;const[G,_e]=function Vp(E){const h=!!E.split(/\s*,\s*/).find(u=>":self"==u);return h&&(E=E.replace(id,"")),E=E.replace(/@\*/g,Ju).replace(/@\w+/g,u=>Ju+"-"+u.slice(1)).replace(/:animating/g,Tf),[E,h]}(h.selector);u.currentQuerySelector=_.length?_+" "+G:G,vo(u.collectedStyles,u.currentQuerySelector,new Map);const Le=Qs(this,Yl(h.animation),u);return u.currentQuery=null,u.currentQuerySelector=_,{type:11,selector:G,limit:C.limit||0,optional:!!C.optional,includeSelf:_e,animation:Le,originalSelector:h.selector,options:Wc(h.options)}}visitStagger(h,u){u.currentQuery||u.errors.push(function wp(){return new o.vHH(3013,!1)}());const _="full"===h.timings?{duration:0,delay:0,easing:"full"}:va(h.timings,u.errors,!0);return{type:12,animation:Qs(this,Yl(h.animation),u),timings:_,options:null}}}class Xl{constructor(h){this.errors=h,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Wc(E){return E?(E=Il(E)).params&&(E.params=function qg(E){return E?Il(E):null}(E.params)):E={},E}function sd(E,h,u){return{duration:E,delay:h,easing:u}}function mh(E,h,u,_,C,G,_e=null,Le=!1){return{type:1,element:E,keyframes:h,preStyleProps:u,postStyleProps:_,duration:C,delay:G,totalTime:C+G,easing:_e,subTimeline:Le}}class Ea{constructor(){this._map=new Map}get(h){return this._map.get(h)||[]}append(h,u){let _=this._map.get(h);_||this._map.set(h,_=[]),_.push(...u)}has(h){return this._map.has(h)}clear(){this._map.clear()}}const Bp=new RegExp(":enter","g"),od=new RegExp(":leave","g");function Pf(E,h,u,_,C,G=new Map,_e=new Map,Le,yt,Ft=[]){return(new Rf).buildKeyframes(E,h,u,_,C,G,_e,Le,yt,Ft)}class Rf{buildKeyframes(h,u,_,C,G,_e,Le,yt,Ft,pn=[]){Ft=Ft||new Ea;const wn=new jp(h,u,Ft,C,G,pn,[]);wn.options=yt;const wr=yt.delay?sa(yt.delay):0;wn.currentTimeline.delayNextStep(wr),wn.currentTimeline.setStyles([_e],null,wn.errors,yt),Qs(this,_,wn);const gr=wn.timelines.filter(nr=>nr.containsAnimation());if(gr.length&&Le.size){let nr;for(let ur=gr.length-1;ur>=0;ur--){const Ri=gr[ur];if(Ri.element===u){nr=Ri;break}}nr&&!nr.allowOnlyTimelineStyles()&&nr.setStyles([Le],null,wn.errors,yt)}return gr.length?gr.map(nr=>nr.buildKeyframes()):[mh(u,[],[],[],0,wr,"",!1)]}visitTrigger(h,u){}visitState(h,u){}visitTransition(h,u){}visitAnimateChild(h,u){const _=u.subInstructions.get(u.element);if(_){const C=u.createSubContext(h.options),G=u.currentTimeline.currentTime,_e=this._visitSubInstructions(_,C,C.options);G!=_e&&u.transformIntoNewTimeline(_e)}u.previousNode=h}visitAnimateRef(h,u){const _=u.createSubContext(h.options);_.transformIntoNewTimeline(),this._applyAnimationRefDelays([h.options,h.animation.options],u,_),this.visitReference(h.animation,_),u.transformIntoNewTimeline(_.currentTimeline.currentTime),u.previousNode=h}_applyAnimationRefDelays(h,u,_){for(const C of h){const G=C?.delay;if(G){const _e="number"==typeof G?G:sa(Ba(G,C?.params??{},u.errors));_.delayNextStep(_e)}}}_visitSubInstructions(h,u,_){let G=u.currentTimeline.currentTime;const _e=null!=_.duration?sa(_.duration):null,Le=null!=_.delay?sa(_.delay):null;return 0!==_e&&h.forEach(yt=>{const Ft=u.appendInstructionToTimeline(yt,_e,Le);G=Math.max(G,Ft.duration+Ft.delay)}),G}visitReference(h,u){u.updateOptions(h.options,!0),Qs(this,h.animation,u),u.previousNode=h}visitSequence(h,u){const _=u.subContextCount;let C=u;const G=h.options;if(G&&(G.params||G.delay)&&(C=u.createSubContext(G),C.transformIntoNewTimeline(),null!=G.delay)){6==C.previousNode.type&&(C.currentTimeline.snapshotCurrentStyles(),C.previousNode=_h);const _e=sa(G.delay);C.delayNextStep(_e)}h.steps.length&&(h.steps.forEach(_e=>Qs(this,_e,C)),C.currentTimeline.applyStylesToKeyframe(),C.subContextCount>_&&C.transformIntoNewTimeline()),u.previousNode=h}visitGroup(h,u){const _=[];let C=u.currentTimeline.currentTime;const G=h.options&&h.options.delay?sa(h.options.delay):0;h.steps.forEach(_e=>{const Le=u.createSubContext(h.options);G&&Le.delayNextStep(G),Qs(this,_e,Le),C=Math.max(C,Le.currentTimeline.currentTime),_.push(Le.currentTimeline)}),_.forEach(_e=>u.currentTimeline.mergeTimelineCollectedStyles(_e)),u.transformIntoNewTimeline(C),u.previousNode=h}_visitTiming(h,u){if(h.dynamic){const _=h.strValue;return va(u.params?Ba(_,u.params,u.errors):_,u.errors)}return{duration:h.duration,delay:h.delay,easing:h.easing}}visitAnimate(h,u){const _=u.currentAnimateTimings=this._visitTiming(h.timings,u),C=u.currentTimeline;_.delay&&(u.incrementTime(_.delay),C.snapshotCurrentStyles());const G=h.style;5==G.type?this.visitKeyframes(G,u):(u.incrementTime(_.duration),this.visitStyle(G,u),C.applyStylesToKeyframe()),u.currentAnimateTimings=null,u.previousNode=h}visitStyle(h,u){const _=u.currentTimeline,C=u.currentAnimateTimings;!C&&_.hasCurrentStyleProperties()&&_.forwardFrame();const G=C&&C.easing||h.easing;h.isEmptyStep?_.applyEmptyStep(G):_.setStyles(h.styles,G,u.errors,u.options),u.previousNode=h}visitKeyframes(h,u){const _=u.currentAnimateTimings,C=u.currentTimeline.duration,G=_.duration,Le=u.createSubContext().currentTimeline;Le.easing=_.easing,h.styles.forEach(yt=>{Le.forwardTime((yt.offset||0)*G),Le.setStyles(yt.styles,yt.easing,u.errors,u.options),Le.applyStylesToKeyframe()}),u.currentTimeline.mergeTimelineCollectedStyles(Le),u.transformIntoNewTimeline(C+G),u.previousNode=h}visitQuery(h,u){const _=u.currentTimeline.currentTime,C=h.options||{},G=C.delay?sa(C.delay):0;G&&(6===u.previousNode.type||0==_&&u.currentTimeline.hasCurrentStyleProperties())&&(u.currentTimeline.snapshotCurrentStyles(),u.previousNode=_h);let _e=_;const Le=u.invokeQuery(h.selector,h.originalSelector,h.limit,h.includeSelf,!!C.optional,u.errors);u.currentQueryTotal=Le.length;let yt=null;Le.forEach((Ft,pn)=>{u.currentQueryIndex=pn;const wn=u.createSubContext(h.options,Ft);G&&wn.delayNextStep(G),Ft===u.element&&(yt=wn.currentTimeline),Qs(this,h.animation,wn),wn.currentTimeline.applyStylesToKeyframe(),_e=Math.max(_e,wn.currentTimeline.currentTime)}),u.currentQueryIndex=0,u.currentQueryTotal=0,u.transformIntoNewTimeline(_e),yt&&(u.currentTimeline.mergeTimelineCollectedStyles(yt),u.currentTimeline.snapshotCurrentStyles()),u.previousNode=h}visitStagger(h,u){const _=u.parentContext,C=u.currentTimeline,G=h.timings,_e=Math.abs(G.duration),Le=_e*(u.currentQueryTotal-1);let yt=_e*u.currentQueryIndex;switch(G.duration<0?"reverse":G.easing){case"reverse":yt=Le-yt;break;case"full":yt=_.currentStaggerTime}const pn=u.currentTimeline;yt&&pn.delayNextStep(yt);const wn=pn.currentTime;Qs(this,h.animation,u),u.previousNode=h,_.currentStaggerTime=C.currentTime-wn+(C.startTime-_.currentTimeline.startTime)}}const _h={};class jp{constructor(h,u,_,C,G,_e,Le,yt){this._driver=h,this.element=u,this.subInstructions=_,this._enterClassName=C,this._leaveClassName=G,this.errors=_e,this.timelines=Le,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_h,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=yt||new xf(this._driver,u,0),Le.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(h,u){if(!h)return;const _=h;let C=this.options;null!=_.duration&&(C.duration=sa(_.duration)),null!=_.delay&&(C.delay=sa(_.delay));const G=_.params;if(G){let _e=C.params;_e||(_e=this.options.params={}),Object.keys(G).forEach(Le=>{(!u||!_e.hasOwnProperty(Le))&&(_e[Le]=Ba(G[Le],_e,this.errors))})}}_copyOptions(){const h={};if(this.options){const u=this.options.params;if(u){const _=h.params={};Object.keys(u).forEach(C=>{_[C]=u[C]})}}return h}createSubContext(h=null,u,_){const C=u||this.element,G=new jp(this._driver,C,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(C,_||0));return G.previousNode=this.previousNode,G.currentAnimateTimings=this.currentAnimateTimings,G.options=this._copyOptions(),G.updateOptions(h),G.currentQueryIndex=this.currentQueryIndex,G.currentQueryTotal=this.currentQueryTotal,G.parentContext=this,this.subContextCount++,G}transformIntoNewTimeline(h){return this.previousNode=_h,this.currentTimeline=this.currentTimeline.fork(this.element,h),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(h,u,_){const C={duration:u??h.duration,delay:this.currentTimeline.currentTime+(_??0)+h.delay,easing:""},G=new o_(this._driver,h.element,h.keyframes,h.preStyleProps,h.postStyleProps,C,h.stretchStartingKeyframe);return this.timelines.push(G),C}incrementTime(h){this.currentTimeline.forwardTime(this.currentTimeline.duration+h)}delayNextStep(h){h>0&&this.currentTimeline.delayNextStep(h)}invokeQuery(h,u,_,C,G,_e){let Le=[];if(C&&Le.push(this.element),h.length>0){h=(h=h.replace(Bp,"."+this._enterClassName)).replace(od,"."+this._leaveClassName);let Ft=this._driver.query(this.element,h,1!=_);0!==_&&(Ft=_<0?Ft.slice(Ft.length+_,Ft.length):Ft.slice(0,_)),Le.push(...Ft)}return!G&&0==Le.length&&_e.push(function Ng(E){return new o.vHH(3014,!1)}()),Le}}class xf{constructor(h,u,_,C){this._driver=h,this.element=u,this.startTime=_,this._elementTimelineStylesLookup=C,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(u),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(u,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(h){const u=1===this._keyframes.size&&this._pendingStyles.size;this.duration||u?(this.forwardTime(this.currentTime+h),u&&this.snapshotCurrentStyles()):this.startTime+=h}fork(h,u){return this.applyStylesToKeyframe(),new xf(this._driver,h,u||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(h){this.applyStylesToKeyframe(),this.duration=h,this._loadKeyframe()}_updateStyle(h,u){this._localTimelineStyles.set(h,u),this._globalTimelineStyles.set(h,u),this._styleSummary.set(h,{time:this.currentTime,value:u})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(h){h&&this._previousKeyframe.set("easing",h);for(let[u,_]of this._globalTimelineStyles)this._backFill.set(u,_||pe),this._currentKeyframe.set(u,pe);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(h,u,_,C){u&&this._previousKeyframe.set("easing",u);const G=C&&C.params||{},_e=function ad(E,h){const u=new Map;let _;return E.forEach(C=>{if("*"===C){_=_||h.keys();for(let G of _)u.set(G,pe)}else oc(C,u)}),u}(h,this._globalTimelineStyles);for(let[Le,yt]of _e){const Ft=Ba(yt,G,_);this._pendingStyles.set(Le,Ft),this._localTimelineStyles.has(Le)||this._backFill.set(Le,this._globalTimelineStyles.get(Le)??pe),this._updateStyle(Le,Ft)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((h,u)=>{this._currentKeyframe.set(u,h)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((h,u)=>{this._currentKeyframe.has(u)||this._currentKeyframe.set(u,h)}))}snapshotCurrentStyles(){for(let[h,u]of this._localTimelineStyles)this._pendingStyles.set(h,u),this._updateStyle(h,u)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const h=[];for(let u in this._currentKeyframe)h.push(u);return h}mergeTimelineCollectedStyles(h){h._styleSummary.forEach((u,_)=>{const C=this._styleSummary.get(_);(!C||u.time>C.time)&&this._updateStyle(_,u.value)})}buildKeyframes(){this.applyStylesToKeyframe();const h=new Set,u=new Set,_=1===this._keyframes.size&&0===this.duration;let C=[];this._keyframes.forEach((Le,yt)=>{const Ft=oc(Le,new Map,this._backFill);Ft.forEach((pn,wn)=>{"!"===pn?h.add(wn):pn===pe&&u.add(wn)}),_||Ft.set("offset",yt/this.duration),C.push(Ft)});const G=h.size?hh(h.values()):[],_e=u.size?hh(u.values()):[];if(_){const Le=C[0],yt=new Map(Le);Le.set("offset",0),yt.set("offset",1),C=[Le,yt]}return mh(this.element,C,G,_e,this.duration,this.startTime,this.easing,!1)}}class o_ extends xf{constructor(h,u,_,C,G,_e,Le=!1){super(h,u,_e.delay),this.keyframes=_,this.preStyleProps=C,this.postStyleProps=G,this._stretchStartingKeyframe=Le,this.timings={duration:_e.duration,delay:_e.delay,easing:_e.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let h=this.keyframes,{delay:u,duration:_,easing:C}=this.timings;if(this._stretchStartingKeyframe&&u){const G=[],_e=_+u,Le=u/_e,yt=oc(h[0]);yt.set("offset",0),G.push(yt);const Ft=oc(h[0]);Ft.set("offset",vh(Le)),G.push(Ft);const pn=h.length-1;for(let wn=1;wn<=pn;wn++){let wr=oc(h[wn]);const gr=wr.get("offset");wr.set("offset",vh((u+gr*_)/_e)),G.push(wr)}_=_e,u=0,C="",h=G}return mh(this.element,h,this.preStyleProps,this.postStyleProps,_,u,C,!0)}}function vh(E,h=3){const u=Math.pow(10,h-1);return Math.round(E*u)/u}class Kc{}const Of=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Nf extends Kc{normalizePropertyName(h,u){return td(h)}normalizeStyleValue(h,u,_,C){let G="";const _e=_.toString().trim();if(Of.has(u)&&0!==_&&"0"!==_)if("number"==typeof _)G="px";else{const Le=_.match(/^[+-]?[\d\.]+([a-z]*)$/);Le&&0==Le[1].length&&C.push(function _f(E,h){return new o.vHH(3005,!1)}())}return _e+G}}function kf(E,h,u,_,C,G,_e,Le,yt,Ft,pn,wn,wr){return{type:0,element:E,triggerName:h,isRemovalTransition:C,fromState:u,fromStyles:G,toState:_,toStyles:_e,timelines:Le,queriedElements:yt,preStyleProps:Ft,postStyleProps:pn,totalTime:wn,errors:wr}}const Ff={};class Qg{constructor(h,u,_){this._triggerName=h,this.ast=u,this._stateStyles=_}match(h,u,_,C){return function Lf(E,h,u,_,C){return E.some(G=>G(h,u,_,C))}(this.ast.matchers,h,u,_,C)}buildStyles(h,u,_){let C=this._stateStyles.get("*");return void 0!==h&&(C=this._stateStyles.get(h?.toString())||C),C?C.buildStyles(u,_):new Map}build(h,u,_,C,G,_e,Le,yt,Ft,pn){const wn=[],wr=this.ast.options&&this.ast.options.params||Ff,nr=this.buildStyles(_,Le&&Le.params||Ff,wn),ur=yt&&yt.params||Ff,Ri=this.buildStyles(C,ur,wn),Is=new Set,Ki=new Map,to=new Map,zs="void"===C,el={params:Yg(ur,wr),delay:this.ast.options?.delay},$a=pn?[]:Pf(h,u,this.ast.animation,G,_e,nr,Ri,el,Ft,wn);let os=0;if($a.forEach(Qi=>{os=Math.max(Qi.duration+Qi.delay,os)}),wn.length)return kf(u,this._triggerName,_,C,zs,nr,Ri,[],[],Ki,to,os,wn);$a.forEach(Qi=>{const ho=Qi.element,Gh=vo(Ki,ho,new Set);Qi.preStyleProps.forEach(no=>Gh.add(no));const bs=vo(to,ho,new Set);Qi.postStyleProps.forEach(no=>bs.add(no)),ho!==u&&Is.add(ho)});const oa=hh(Is.values());return kf(u,this._triggerName,_,C,zs,nr,Ri,$a,oa,Ki,to,os)}}function Yg(E,h){const u=Il(h);for(const _ in E)E.hasOwnProperty(_)&&null!=E[_]&&(u[_]=E[_]);return u}class a_{constructor(h,u,_){this.styles=h,this.defaultParams=u,this.normalizer=_}buildStyles(h,u){const _=new Map,C=Il(this.defaultParams);return Object.keys(h).forEach(G=>{const _e=h[G];null!==_e&&(C[G]=_e)}),this.styles.styles.forEach(G=>{"string"!=typeof G&&G.forEach((_e,Le)=>{_e&&(_e=Ba(_e,C,u));const yt=this.normalizer.normalizePropertyName(Le,u);_e=this.normalizer.normalizeStyleValue(Le,yt,_e,u),_.set(Le,_e)})}),_}}class Hp{constructor(h,u,_){this.name=h,this.ast=u,this._normalizer=_,this.transitionFactories=[],this.states=new Map,u.states.forEach(C=>{this.states.set(C.name,new a_(C.style,C.options&&C.options.params||{},_))}),Jg(this.states,"true","1"),Jg(this.states,"false","0"),u.transitions.forEach(C=>{this.transitionFactories.push(new Qg(h,C,this.states))}),this.fallbackTransition=function c_(E,h,u){return new Qg(E,{type:1,animation:{type:2,steps:[],options:null},matchers:[(_e,Le)=>!0],options:null,queryCount:0,depCount:0},h)}(h,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(h,u,_,C){return this.transitionFactories.find(_e=>_e.match(h,u,_,C))||null}matchStyles(h,u,_){return this.fallbackTransition.buildStyles(h,u,_)}}function Jg(E,h,u){E.has(h)?E.has(u)||E.set(u,E.get(h)):E.has(u)&&E.set(h,E.get(u))}const l_=new Ea;class zp{constructor(h,u,_){this.bodyNode=h,this._driver=u,this._normalizer=_,this._animations=new Map,this._playersById=new Map,this.players=[]}register(h,u){const _=[],G=Cl(this._driver,u,_,[]);if(_.length)throw function rh(E){return new o.vHH(3503,!1)}();this._animations.set(h,G)}_buildPlayer(h,u,_){const C=h.element,G=ql(this._normalizer,h.keyframes,u,_);return this._driver.animate(C,G,h.duration,h.delay,h.easing,[],!0)}create(h,u,_={}){const C=[],G=this._animations.get(h);let _e;const Le=new Map;if(G?(_e=Pf(this._driver,u,G,bf,Ql,new Map,new Map,_,l_,C),_e.forEach(pn=>{const wn=vo(Le,pn.element,new Map);pn.postStyleProps.forEach(wr=>wn.set(wr,null))})):(C.push(function Fg(){return new o.vHH(3300,!1)}()),_e=[]),C.length)throw function ih(E){return new o.vHH(3504,!1)}();Le.forEach((pn,wn)=>{pn.forEach((wr,gr)=>{pn.set(gr,this._driver.computeStyle(wn,gr,pe))})});const Ft=ic(_e.map(pn=>{const wn=Le.get(pn.element);return this._buildPlayer(pn,new Map,wn)}));return this._playersById.set(h,Ft),Ft.onDestroy(()=>this.destroy(h)),this.players.push(Ft),Ft}destroy(h){const u=this._getPlayer(h);u.destroy(),this._playersById.delete(h);const _=this.players.indexOf(u);_>=0&&this.players.splice(_,1)}_getPlayer(h){const u=this._playersById.get(h);if(!u)throw function Js(E){return new o.vHH(3301,!1)}();return u}listen(h,u,_,C){const G=Wl(u,"","","");return Sp(this._getPlayer(h),_,G,C),()=>{}}command(h,u,_,C){if("register"==_)return void this.register(h,C[0]);if("create"==_)return void this.create(h,u,C[0]||{});const G=this._getPlayer(h);switch(_){case"play":G.play();break;case"pause":G.pause();break;case"reset":G.reset();break;case"restart":G.restart();break;case"finish":G.finish();break;case"init":G.init();break;case"setPosition":G.setPosition(parseFloat(C[0]));break;case"destroy":this.destroy(h)}}}const yh="ng-animate-queued",Eh="ng-animate-disabled",h_=[],Vf={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Xg={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Aa="__ng_removed";class Uf{get params(){return this.options.params}constructor(h,u=""){this.namespaceId=u;const _=h&&h.hasOwnProperty("value");if(this.value=function cd(E){return E??null}(_?h.value:h),_){const G=Il(h);delete G.value,this.options=G}else this.options={};this.options.params||(this.options.params={})}absorbOptions(h){const u=h.params;if(u){const _=this.options.params;Object.keys(u).forEach(C=>{null==_[C]&&(_[C]=u[C])})}}}const ru="void",Bf=new Uf(ru);class Gp{constructor(h,u,_){this.id=h,this.hostElement=u,this._engine=_,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+h,Es(u,this._hostClassName)}listen(h,u,_,C){if(!this._triggers.has(u))throw function Gl(E,h){return new o.vHH(3302,!1)}();if(null==_||0==_.length)throw function Ef(E){return new o.vHH(3303,!1)}();if(!function ud(E){return"start"==E||"done"==E}(_))throw function Af(E,h){return new o.vHH(3400,!1)}();const G=vo(this._elementListeners,h,[]),_e={name:u,phase:_,callback:C};G.push(_e);const Le=vo(this._engine.statesByElement,h,new Map);return Le.has(u)||(Es(h,Al),Es(h,Al+"-"+u),Le.set(u,Bf)),()=>{this._engine.afterFlush(()=>{const yt=G.indexOf(_e);yt>=0&&G.splice(yt,1),this._triggers.has(u)||Le.delete(u)})}}register(h,u){return!this._triggers.has(h)&&(this._triggers.set(h,u),!0)}_getTrigger(h){const u=this._triggers.get(h);if(!u)throw function Qu(E){return new o.vHH(3401,!1)}();return u}trigger(h,u,_,C=!0){const G=this._getTrigger(u),_e=new Ah(this.id,u,h);let Le=this._engine.statesByElement.get(h);Le||(Es(h,Al),Es(h,Al+"-"+u),this._engine.statesByElement.set(h,Le=new Map));let yt=Le.get(u);const Ft=new Uf(_,this.id);if(!(_&&_.hasOwnProperty("value"))&&yt&&Ft.absorbOptions(yt.options),Le.set(u,Ft),yt||(yt=Bf),Ft.value!==ru&&yt.value===Ft.value){if(!function Zp(E,h){const u=Object.keys(E),_=Object.keys(h);if(u.length!=_.length)return!1;for(let C=0;C<u.length;C++){const G=u[C];if(!h.hasOwnProperty(G)||E[G]!==h[G])return!1}return!0}(yt.params,Ft.params)){const ur=[],Ri=G.matchStyles(yt.value,yt.params,ur),Is=G.matchStyles(Ft.value,Ft.params,ur);ur.length?this._engine.reportError(ur):this._engine.afterFlush(()=>{ac(h,Ri),ya(h,Is)})}return}const wr=vo(this._engine.playersByElement,h,[]);wr.forEach(ur=>{ur.namespaceId==this.id&&ur.triggerName==u&&ur.queued&&ur.destroy()});let gr=G.matchTransition(yt.value,Ft.value,h,Ft.params),nr=!1;if(!gr){if(!C)return;gr=G.fallbackTransition,nr=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:h,triggerName:u,transition:gr,fromState:yt,toState:Ft,player:_e,isFallbackTransition:nr}),nr||(Es(h,yh),_e.onStart(()=>{iu(h,yh)})),_e.onDone(()=>{let ur=this.players.indexOf(_e);ur>=0&&this.players.splice(ur,1);const Ri=this._engine.playersByElement.get(h);if(Ri){let Is=Ri.indexOf(_e);Is>=0&&Ri.splice(Is,1)}}),this.players.push(_e),wr.push(_e),_e}deregister(h){this._triggers.delete(h),this._engine.statesByElement.forEach(u=>u.delete(h)),this._elementListeners.forEach((u,_)=>{this._elementListeners.set(_,u.filter(C=>C.name!=h))})}clearElementCache(h){this._engine.statesByElement.delete(h),this._elementListeners.delete(h);const u=this._engine.playersByElement.get(h);u&&(u.forEach(_=>_.destroy()),this._engine.playersByElement.delete(h))}_signalRemovalForInnerTriggers(h,u){const _=this._engine.driver.query(h,Ju,!0);_.forEach(C=>{if(C[Aa])return;const G=this._engine.fetchNamespacesByElement(C);G.size?G.forEach(_e=>_e.triggerLeaveAnimation(C,u,!1,!0)):this.clearElementCache(C)}),this._engine.afterFlushAnimationsDone(()=>_.forEach(C=>this.clearElementCache(C)))}triggerLeaveAnimation(h,u,_,C){const G=this._engine.statesByElement.get(h),_e=new Map;if(G){const Le=[];if(G.forEach((yt,Ft)=>{if(_e.set(Ft,yt.value),this._triggers.has(Ft)){const pn=this.trigger(h,Ft,ru,C);pn&&Le.push(pn)}}),Le.length)return this._engine.markElementAsRemoved(this.id,h,!0,u,_e),_&&ic(Le).onDone(()=>this._engine.processLeaveNode(h)),!0}return!1}prepareLeaveAnimationListeners(h){const u=this._elementListeners.get(h),_=this._engine.statesByElement.get(h);if(u&&_){const C=new Set;u.forEach(G=>{const _e=G.name;if(C.has(_e))return;C.add(_e);const yt=this._triggers.get(_e).fallbackTransition,Ft=_.get(_e)||Bf,pn=new Uf(ru),wn=new Ah(this.id,_e,h);this._engine.totalQueuedPlayers++,this._queue.push({element:h,triggerName:_e,transition:yt,fromState:Ft,toState:pn,player:wn,isFallbackTransition:!0})})}}removeNode(h,u){const _=this._engine;if(h.childElementCount&&this._signalRemovalForInnerTriggers(h,u),this.triggerLeaveAnimation(h,u,!0))return;let C=!1;if(_.totalAnimations){const G=_.players.length?_.playersByQueriedElement.get(h):[];if(G&&G.length)C=!0;else{let _e=h;for(;_e=_e.parentNode;)if(_.statesByElement.get(_e)){C=!0;break}}}if(this.prepareLeaveAnimationListeners(h),C)_.markElementAsRemoved(this.id,h,!1,u);else{const G=h[Aa];(!G||G===Vf)&&(_.afterFlush(()=>this.clearElementCache(h)),_.destroyInnerAnimations(h),_._onRemovalComplete(h,u))}}insertNode(h,u){Es(h,this._hostClassName)}drainQueuedTransitions(h){const u=[];return this._queue.forEach(_=>{const C=_.player;if(C.destroyed)return;const G=_.element,_e=this._elementListeners.get(G);_e&&_e.forEach(Le=>{if(Le.name==_.triggerName){const yt=Wl(G,_.triggerName,_.fromState.value,_.toState.value);yt._data=h,Sp(_.player,Le.phase,yt,Le.callback)}}),C.markedForDestroy?this._engine.afterFlush(()=>{C.destroy()}):u.push(_)}),this._queue=[],u.sort((_,C)=>{const G=_.transition.ast.depCount,_e=C.transition.ast.depCount;return 0==G||0==_e?G-_e:this._engine.driver.containsElement(_.element,C.element)?1:-1})}destroy(h){this.players.forEach(u=>u.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,h)}}class f_{_onRemovalComplete(h,u){this.onRemovalComplete(h,u)}constructor(h,u,_){this.bodyNode=h,this.driver=u,this._normalizer=_,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(C,G)=>{}}get queuedPlayers(){const h=[];return this._namespaceList.forEach(u=>{u.players.forEach(_=>{_.queued&&h.push(_)})}),h}createNamespace(h,u){const _=new Gp(h,u,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,u)?this._balanceNamespaceList(_,u):(this.newHostElements.set(u,_),this.collectEnterElement(u)),this._namespaceLookup[h]=_}_balanceNamespaceList(h,u){const _=this._namespaceList,C=this.namespacesByHostElement;if(_.length-1>=0){let _e=!1,Le=this.driver.getParentElement(u);for(;Le;){const yt=C.get(Le);if(yt){const Ft=_.indexOf(yt);_.splice(Ft+1,0,h),_e=!0;break}Le=this.driver.getParentElement(Le)}_e||_.unshift(h)}else _.push(h);return C.set(u,h),h}register(h,u){let _=this._namespaceLookup[h];return _||(_=this.createNamespace(h,u)),_}registerTrigger(h,u,_){let C=this._namespaceLookup[h];C&&C.register(u,_)&&this.totalAnimations++}destroy(h,u){h&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const _=this._fetchNamespace(h);this.namespacesByHostElement.delete(_.hostElement);const C=this._namespaceList.indexOf(_);C>=0&&this._namespaceList.splice(C,1),_.destroy(u),delete this._namespaceLookup[h]}))}_fetchNamespace(h){return this._namespaceLookup[h]}fetchNamespacesByElement(h){const u=new Set,_=this.statesByElement.get(h);if(_)for(let C of _.values())if(C.namespaceId){const G=this._fetchNamespace(C.namespaceId);G&&u.add(G)}return u}trigger(h,u,_,C){if(ld(u)){const G=this._fetchNamespace(h);if(G)return G.trigger(u,_,C),!0}return!1}insertNode(h,u,_,C){if(!ld(u))return;const G=u[Aa];if(G&&G.setForRemoval){G.setForRemoval=!1,G.setForMove=!0;const _e=this.collectedLeaveElements.indexOf(u);_e>=0&&this.collectedLeaveElements.splice(_e,1)}if(h){const _e=this._fetchNamespace(h);_e&&_e.insertNode(u,_)}C&&this.collectEnterElement(u)}collectEnterElement(h){this.collectedEnterElements.push(h)}markElementAsDisabled(h,u){u?this.disabledNodes.has(h)||(this.disabledNodes.add(h),Es(h,Eh)):this.disabledNodes.has(h)&&(this.disabledNodes.delete(h),iu(h,Eh))}removeNode(h,u,_){if(ld(u)){const C=h?this._fetchNamespace(h):null;C?C.removeNode(u,_):this.markElementAsRemoved(h,u,!1,_);const G=this.namespacesByHostElement.get(u);G&&G.id!==h&&G.removeNode(u,_)}else this._onRemovalComplete(u,_)}markElementAsRemoved(h,u,_,C,G){this.collectedLeaveElements.push(u),u[Aa]={namespaceId:h,setForRemoval:C,hasAnimation:_,removedBeforeQueried:!1,previousTriggersValues:G}}listen(h,u,_,C,G){return ld(u)?this._fetchNamespace(h).listen(u,_,C,G):()=>{}}_buildInstruction(h,u,_,C,G){return h.transition.build(this.driver,h.element,h.fromState.value,h.toState.value,_,C,h.fromState.options,h.toState.options,u,G)}destroyInnerAnimations(h){let u=this.driver.query(h,Ju,!0);u.forEach(_=>this.destroyActiveAnimationsForElement(_)),0!=this.playersByQueriedElement.size&&(u=this.driver.query(h,Tf,!0),u.forEach(_=>this.finishActiveQueriedAnimationOnElement(_)))}destroyActiveAnimationsForElement(h){const u=this.playersByElement.get(h);u&&u.forEach(_=>{_.queued?_.markedForDestroy=!0:_.destroy()})}finishActiveQueriedAnimationOnElement(h){const u=this.playersByQueriedElement.get(h);u&&u.forEach(_=>_.finish())}whenRenderingDone(){return new Promise(h=>{if(this.players.length)return ic(this.players).onDone(()=>h());h()})}processLeaveNode(h){const u=h[Aa];if(u&&u.setForRemoval){if(h[Aa]=Vf,u.namespaceId){this.destroyInnerAnimations(h);const _=this._fetchNamespace(u.namespaceId);_&&_.clearElementCache(h)}this._onRemovalComplete(h,u.setForRemoval)}h.classList?.contains(Eh)&&this.markElementAsDisabled(h,!1),this.driver.query(h,".ng-animate-disabled",!0).forEach(_=>{this.markElementAsDisabled(_,!1)})}flush(h=-1){let u=[];if(this.newHostElements.size&&(this.newHostElements.forEach((_,C)=>this._balanceNamespaceList(_,C)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let _=0;_<this.collectedEnterElements.length;_++)Es(this.collectedEnterElements[_],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const _=[];try{u=this._flushAnimations(_,h)}finally{for(let C=0;C<_.length;C++)_[C]()}}else for(let _=0;_<this.collectedLeaveElements.length;_++)this.processLeaveNode(this.collectedLeaveElements[_]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(_=>_()),this._flushFns=[],this._whenQuietFns.length){const _=this._whenQuietFns;this._whenQuietFns=[],u.length?ic(u).onDone(()=>{_.forEach(C=>C())}):_.forEach(C=>C())}}reportError(h){throw function Zc(E){return new o.vHH(3402,!1)}()}_flushAnimations(h,u){const _=new Ea,C=[],G=new Map,_e=[],Le=new Map,yt=new Map,Ft=new Map,pn=new Set;this.disabledNodes.forEach(Hn=>{pn.add(Hn);const Cn=this.driver.query(Hn,".ng-animate-queued",!0);for(let ir=0;ir<Cn.length;ir++)pn.add(Cn[ir])});const wn=this.bodyNode,wr=Array.from(this.statesByElement.keys()),gr=hs(wr,this.collectedEnterElements),nr=new Map;let ur=0;gr.forEach((Hn,Cn)=>{const ir=bf+ur++;nr.set(Cn,ir),Hn.forEach(Lr=>Es(Lr,ir))});const Ri=[],Is=new Set,Ki=new Set;for(let Hn=0;Hn<this.collectedLeaveElements.length;Hn++){const Cn=this.collectedLeaveElements[Hn],ir=Cn[Aa];ir&&ir.setForRemoval&&(Ri.push(Cn),Is.add(Cn),ir.hasAnimation?this.driver.query(Cn,".ng-star-inserted",!0).forEach(Lr=>Is.add(Lr)):Ki.add(Cn))}const to=new Map,zs=hs(wr,Array.from(Is));zs.forEach((Hn,Cn)=>{const ir=Ql+ur++;to.set(Cn,ir),Hn.forEach(Lr=>Es(Lr,ir))}),h.push(()=>{gr.forEach((Hn,Cn)=>{const ir=nr.get(Cn);Hn.forEach(Lr=>iu(Lr,ir))}),zs.forEach((Hn,Cn)=>{const ir=to.get(Cn);Hn.forEach(Lr=>iu(Lr,ir))}),Ri.forEach(Hn=>{this.processLeaveNode(Hn)})});const el=[],$a=[];for(let Hn=this._namespaceList.length-1;Hn>=0;Hn--)this._namespaceList[Hn].drainQueuedTransitions(u).forEach(ir=>{const Lr=ir.player,Fi=ir.element;if(el.push(Lr),this.collectedEnterElements.length){const Ms=Fi[Aa];if(Ms&&Ms.setForMove){if(Ms.previousTriggersValues&&Ms.previousTriggersValues.has(ir.triggerName)){const Ao=Ms.previousTriggersValues.get(ir.triggerName),Uo=this.statesByElement.get(ir.element);if(Uo&&Uo.has(ir.triggerName)){const wd=Uo.get(ir.triggerName);wd.value=Ao,Uo.set(ir.triggerName,wd)}}return void Lr.destroy()}}const Eo=!wn||!this.driver.containsElement(wn,Fi),$s=to.get(Fi),tl=nr.get(Fi),as=this._buildInstruction(ir,_,tl,$s,Eo);if(as.errors&&as.errors.length)return void $a.push(as);if(Eo)return Lr.onStart(()=>ac(Fi,as.fromStyles)),Lr.onDestroy(()=>ya(Fi,as.toStyles)),void C.push(Lr);if(ir.isFallbackTransition)return Lr.onStart(()=>ac(Fi,as.fromStyles)),Lr.onDestroy(()=>ya(Fi,as.toStyles)),void C.push(Lr);const fg=[];as.timelines.forEach(Ms=>{Ms.stretchStartingKeyframe=!0,this.disabledNodes.has(Ms.element)||fg.push(Ms)}),as.timelines=fg,_.append(Fi,as.timelines),_e.push({instruction:as,player:Lr,element:Fi}),as.queriedElements.forEach(Ms=>vo(Le,Ms,[]).push(Lr)),as.preStyleProps.forEach((Ms,Ao)=>{if(Ms.size){let Uo=yt.get(Ao);Uo||yt.set(Ao,Uo=new Set),Ms.forEach((wd,Zh)=>Uo.add(Zh))}}),as.postStyleProps.forEach((Ms,Ao)=>{let Uo=Ft.get(Ao);Uo||Ft.set(Ao,Uo=new Set),Ms.forEach((wd,Zh)=>Uo.add(Zh))})});if($a.length){const Hn=[];$a.forEach(Cn=>{Hn.push(function Zl(E,h){return new o.vHH(3505,!1)}())}),el.forEach(Cn=>Cn.destroy()),this.reportError(Hn)}const os=new Map,oa=new Map;_e.forEach(Hn=>{const Cn=Hn.element;_.has(Cn)&&(oa.set(Cn,Cn),this._beforeAnimationBuild(Hn.player.namespaceId,Hn.instruction,os))}),C.forEach(Hn=>{const Cn=Hn.element;this._getPreviousPlayers(Cn,!1,Hn.namespaceId,Hn.triggerName,null).forEach(Lr=>{vo(os,Cn,[]).push(Lr),Lr.destroy()})});const Qi=Ri.filter(Hn=>zf(Hn,yt,Ft)),ho=new Map;Us(ho,this.driver,Ki,Ft,pe).forEach(Hn=>{zf(Hn,yt,Ft)&&Qi.push(Hn)});const bs=new Map;gr.forEach((Hn,Cn)=>{Us(bs,this.driver,new Set(Hn),yt,"!")}),Qi.forEach(Hn=>{const Cn=ho.get(Hn),ir=bs.get(Hn);ho.set(Hn,new Map([...Cn?.entries()??[],...ir?.entries()??[]]))});const no=[],pc=[],gc={};_e.forEach(Hn=>{const{element:Cn,player:ir,instruction:Lr}=Hn;if(_.has(Cn)){if(pn.has(Cn))return ir.onDestroy(()=>ya(Cn,Lr.toStyles)),ir.disabled=!0,ir.overrideTotalTime(Lr.totalTime),void C.push(ir);let Fi=gc;if(oa.size>1){let $s=Cn;const tl=[];for(;$s=$s.parentNode;){const as=oa.get($s);if(as){Fi=as;break}tl.push($s)}tl.forEach(as=>oa.set(as,Fi))}const Eo=this._buildAnimation(ir.namespaceId,Lr,os,G,bs,ho);if(ir.setRealPlayer(Eo),Fi===gc)no.push(ir);else{const $s=this.playersByElement.get(Fi);$s&&$s.length&&(ir.parentPlayer=ic($s)),C.push(ir)}}else ac(Cn,Lr.fromStyles),ir.onDestroy(()=>ya(Cn,Lr.toStyles)),pc.push(ir),pn.has(Cn)&&C.push(ir)}),pc.forEach(Hn=>{const Cn=G.get(Hn.element);if(Cn&&Cn.length){const ir=ic(Cn);Hn.setRealPlayer(ir)}}),C.forEach(Hn=>{Hn.parentPlayer?Hn.syncPlayerEvents(Hn.parentPlayer):Hn.destroy()});for(let Hn=0;Hn<Ri.length;Hn++){const Cn=Ri[Hn],ir=Cn[Aa];if(iu(Cn,Ql),ir&&ir.hasAnimation)continue;let Lr=[];if(Le.size){let Eo=Le.get(Cn);Eo&&Eo.length&&Lr.push(...Eo);let $s=this.driver.query(Cn,Tf,!0);for(let tl=0;tl<$s.length;tl++){let as=Le.get($s[tl]);as&&as.length&&Lr.push(...as)}}const Fi=Lr.filter(Eo=>!Eo.destroyed);Fi.length?jf(this,Cn,Fi):this.processLeaveNode(Cn)}return Ri.length=0,no.forEach(Hn=>{this.players.push(Hn),Hn.onDone(()=>{Hn.destroy();const Cn=this.players.indexOf(Hn);this.players.splice(Cn,1)}),Hn.play()}),no}afterFlush(h){this._flushFns.push(h)}afterFlushAnimationsDone(h){this._whenQuietFns.push(h)}_getPreviousPlayers(h,u,_,C,G){let _e=[];if(u){const Le=this.playersByQueriedElement.get(h);Le&&(_e=Le)}else{const Le=this.playersByElement.get(h);if(Le){const yt=!G||G==ru;Le.forEach(Ft=>{Ft.queued||!yt&&Ft.triggerName!=C||_e.push(Ft)})}}return(_||C)&&(_e=_e.filter(Le=>!(_&&_!=Le.namespaceId||C&&C!=Le.triggerName))),_e}_beforeAnimationBuild(h,u,_){const G=u.element,_e=u.isRemovalTransition?void 0:h,Le=u.isRemovalTransition?void 0:u.triggerName;for(const yt of u.timelines){const Ft=yt.element,pn=Ft!==G,wn=vo(_,Ft,[]);this._getPreviousPlayers(Ft,pn,_e,Le,u.toState).forEach(gr=>{const nr=gr.getRealPlayer();nr.beforeDestroy&&nr.beforeDestroy(),gr.destroy(),wn.push(gr)})}ac(G,u.fromStyles)}_buildAnimation(h,u,_,C,G,_e){const Le=u.triggerName,yt=u.element,Ft=[],pn=new Set,wn=new Set,wr=u.timelines.map(nr=>{const ur=nr.element;pn.add(ur);const Ri=ur[Aa];if(Ri&&Ri.removedBeforeQueried)return new ia(nr.duration,nr.delay);const Is=ur!==yt,Ki=function p_(E){const h=[];return Hf(E,h),h}((_.get(ur)||h_).map(os=>os.getRealPlayer())).filter(os=>!!os.element&&os.element===ur),to=G.get(ur),zs=_e.get(ur),el=ql(this._normalizer,nr.keyframes,to,zs),$a=this._buildPlayer(nr,el,Ki);if(nr.subTimeline&&C&&wn.add(ur),Is){const os=new Ah(h,Le,ur);os.setRealPlayer($a),Ft.push(os)}return $a});Ft.forEach(nr=>{vo(this.playersByQueriedElement,nr.element,[]).push(nr),nr.onDone(()=>function Nr(E,h,u){let _=E.get(h);if(_){if(_.length){const C=_.indexOf(u);_.splice(C,1)}0==_.length&&E.delete(h)}return _}(this.playersByQueriedElement,nr.element,nr))}),pn.forEach(nr=>Es(nr,Cf));const gr=ic(wr);return gr.onDestroy(()=>{pn.forEach(nr=>iu(nr,Cf)),ya(yt,u.toStyles)}),wn.forEach(nr=>{vo(C,nr,[]).push(gr)}),gr}_buildPlayer(h,u,_){return u.length>0?this.driver.animate(h.element,u,h.duration,h.delay,h.easing,_):new ia(h.duration,h.delay)}}class Ah{constructor(h,u,_){this.namespaceId=h,this.triggerName=u,this.element=_,this._player=new ia,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(h){this._containsRealPlayer||(this._player=h,this._queuedCallbacks.forEach((u,_)=>{u.forEach(C=>Sp(h,_,void 0,C))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(h.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(h){this.totalTime=h}syncPlayerEvents(h){const u=this._player;u.triggerCallback&&h.onStart(()=>u.triggerCallback("start")),h.onDone(()=>this.finish()),h.onDestroy(()=>this.destroy())}_queueEvent(h,u){vo(this._queuedCallbacks,h,[]).push(u)}onDone(h){this.queued&&this._queueEvent("done",h),this._player.onDone(h)}onStart(h){this.queued&&this._queueEvent("start",h),this._player.onStart(h)}onDestroy(h){this.queued&&this._queueEvent("destroy",h),this._player.onDestroy(h)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(h){this.queued||this._player.setPosition(h)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(h){const u=this._player;u.triggerCallback&&u.triggerCallback(h)}}function ld(E){return E&&1===E.nodeType}function Ih(E,h){const u=E.style.display;return E.style.display=h??"none",u}function Us(E,h,u,_,C){const G=[];u.forEach(yt=>G.push(Ih(yt)));const _e=[];_.forEach((yt,Ft)=>{const pn=new Map;yt.forEach(wn=>{const wr=h.computeStyle(Ft,wn,C);pn.set(wn,wr),(!wr||0==wr.length)&&(Ft[Aa]=Xg,_e.push(Ft))}),E.set(Ft,pn)});let Le=0;return u.forEach(yt=>Ih(yt,G[Le++])),_e}function hs(E,h){const u=new Map;if(E.forEach(Le=>u.set(Le,[])),0==h.length)return u;const C=new Set(h),G=new Map;function _e(Le){if(!Le)return 1;let yt=G.get(Le);if(yt)return yt;const Ft=Le.parentNode;return yt=u.has(Ft)?Ft:C.has(Ft)?1:_e(Ft),G.set(Le,yt),yt}return h.forEach(Le=>{const yt=_e(Le);1!==yt&&u.get(yt).push(Le)}),u}function Es(E,h){E.classList?.add(h)}function iu(E,h){E.classList?.remove(h)}function jf(E,h,u){ic(u).onDone(()=>E.processLeaveNode(h))}function Hf(E,h){for(let u=0;u<E.length;u++){const _=E[u];_ instanceof ju?Hf(_.players,h):h.push(_)}}function zf(E,h,u){const _=u.get(E);if(!_)return!1;let C=h.get(E);return C?_.forEach(G=>C.add(G)):h.set(E,_),u.delete(E),!0}class su{constructor(h,u,_){this.bodyNode=h,this._driver=u,this._normalizer=_,this._triggerCache={},this.onRemovalComplete=(C,G)=>{},this._transitionEngine=new f_(h,u,_),this._timelineEngine=new zp(h,u,_),this._transitionEngine.onRemovalComplete=(C,G)=>this.onRemovalComplete(C,G)}registerTrigger(h,u,_,C,G){const _e=h+"-"+C;let Le=this._triggerCache[_e];if(!Le){const yt=[],pn=Cl(this._driver,G,yt,[]);if(yt.length)throw function Dp(E,h){return new o.vHH(3404,!1)}();Le=function tu(E,h,u){return new Hp(E,h,u)}(C,pn,this._normalizer),this._triggerCache[_e]=Le}this._transitionEngine.registerTrigger(u,C,Le)}register(h,u){this._transitionEngine.register(h,u)}destroy(h,u){this._transitionEngine.destroy(h,u)}onInsert(h,u,_,C){this._transitionEngine.insertNode(h,u,_,C)}onRemove(h,u,_){this._transitionEngine.removeNode(h,u,_)}disableAnimations(h,u){this._transitionEngine.markElementAsDisabled(h,u)}process(h,u,_,C){if("@"==_.charAt(0)){const[G,_e]=El(_);this._timelineEngine.command(G,u,_e,C)}else this._transitionEngine.trigger(h,u,_,C)}listen(h,u,_,C,G){if("@"==_.charAt(0)){const[_e,Le]=El(_);return this._timelineEngine.listen(_e,u,Le,G)}return this._transitionEngine.listen(h,u,_,C,G)}flush(h=-1){this._transitionEngine.flush(h)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(h){this._transitionEngine.afterFlushAnimationsDone(h)}}let ou=(()=>{class E{static#e=this.initialStylesByElement=new WeakMap;constructor(u,_,C){this._element=u,this._startStyles=_,this._endStyles=C,this._state=0;let G=E.initialStylesByElement.get(u);G||E.initialStylesByElement.set(u,G=new Map),this._initialStyles=G}start(){this._state<1&&(this._startStyles&&ya(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ya(this._element,this._initialStyles),this._endStyles&&(ya(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(E.initialStylesByElement.delete(this._element),this._startStyles&&(ac(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ac(this._element,this._endStyles),this._endStyles=null),ya(this._element,this._initialStyles),this._state=3)}}return E})();function Si(E){let h=null;return E.forEach((u,_)=>{(function tm(E){return"display"===E||"position"===E})(_)&&(h=h||new Map,h.set(_,u))}),h}class bh{constructor(h,u,_,C){this.element=h,this.keyframes=u,this.options=_,this._specialStyles=C,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=_.duration,this._delay=_.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const h=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,h,this.options),this._finalKeyframe=h.length?h[h.length-1]:new Map;const u=()=>this._onFinish();this.domPlayer.addEventListener("finish",u),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",u)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(h){const u=[];return h.forEach(_=>{u.push(Object.fromEntries(_))}),u}_triggerWebAnimation(h,u,_){return h.animate(this._convertKeyframesToObject(u),_)}onStart(h){this._originalOnStartFns.push(h),this._onStartFns.push(h)}onDone(h){this._originalOnDoneFns.push(h),this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(h=>h()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}setPosition(h){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=h*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const h=new Map;this.hasStarted()&&this._finalKeyframe.forEach((_,C)=>{"offset"!==C&&h.set(C,this._finished?_:wf(this.element,C))}),this.currentSnapshot=h}triggerCallback(h){const u="start"===h?this._onStartFns:this._onDoneFns;u.forEach(_=>_()),u.length=0}}class is{validateStyleProperty(h){return!0}validateAnimatableStyleProperty(h){return!0}matchesElement(h,u){return!1}containsElement(h,u){return ch(h,u)}getParentElement(h){return Pp(h)}query(h,u,_){return lh(h,u,_)}computeStyle(h,u,_){return window.getComputedStyle(h)[u]}animate(h,u,_,C,G,_e=[]){const yt={duration:_,delay:C,fill:0==C?"both":"forwards"};G&&(yt.easing=G);const Ft=new Map,pn=_e.filter(gr=>gr instanceof bh);(function ph(E,h){return 0===E||0===h})(_,C)&&pn.forEach(gr=>{gr.currentSnapshot.forEach((nr,ur)=>Ft.set(ur,nr))});let wn=function $g(E){return E.length?E[0]instanceof Map?E:E.map(h=>zg(h)):[]}(u).map(gr=>oc(gr));wn=function Jl(E,h,u){if(u.size&&h.length){let _=h[0],C=[];if(u.forEach((G,_e)=>{_.has(_e)||C.push(_e),_.set(_e,G)}),C.length)for(let G=1;G<h.length;G++){let _e=h[G];C.forEach(Le=>_e.set(Le,wf(E,Le)))}}return h}(h,wn,Ft);const wr=function em(E,h){let u=null,_=null;return Array.isArray(h)&&h.length?(u=Si(h[0]),h.length>1&&(_=Si(h[h.length-1]))):h instanceof Map&&(u=Si(h)),u||_?new ou(E,u,_):null}(h,wn);return new bh(h,wn,yt,wr)}}let $f=(()=>{class E extends M{constructor(u,_){super(),this._nextAnimationId=0,this._renderer=u.createRenderer(_.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(u){const _=this._nextAnimationId.toString();this._nextAnimationId++;const C=Array.isArray(u)?Fn(u):u;return Tl(this._renderer,null,_,"register",[C]),new Gf(_,this._renderer)}static#e=this.\u0275fac=function(_){return new(_||E)(o.LFG(o.FYo),o.LFG(B.K0))};static#t=this.\u0275prov=o.Yz7({token:E,factory:E.\u0275fac})}return E})();class Gf extends X{constructor(h,u){super(),this._id=h,this._renderer=u}create(h,u){return new uc(this._id,h,u||{},this._renderer)}}class uc{constructor(h,u,_,C){this.id=h,this.element=u,this._renderer=C,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",_)}_listen(h,u){return this._renderer.listen(this.element,`@@${this.id}:${h}`,u)}_command(h,...u){return Tl(this._renderer,this.element,this.id,h,u)}onDone(h){this._listen("done",h)}onStart(h){this._listen("start",h)}onDestroy(h){this._listen("destroy",h)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(h){this._command("setPosition",h)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Tl(E,h,u,_,C){return E.setProperty(h,`@@${u}:${_}`,C)}const nm="@.disabled";let g_=(()=>{class E{constructor(u,_,C){this.delegate=u,this.engine=_,this._zone=C,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,_.onRemovalComplete=(G,_e)=>{const Le=_e?.parentNode(G);Le&&_e.removeChild(Le,G)}}createRenderer(u,_){const G=this.delegate.createRenderer(u,_);if(!(u&&_&&_.data&&_.data.animation)){let pn=this._rendererCache.get(G);return pn||(pn=new qp("",G,this.engine,()=>this._rendererCache.delete(G)),this._rendererCache.set(G,pn)),pn}const _e=_.id,Le=_.id+"-"+this._currentId;this._currentId++,this.engine.register(Le,u);const yt=pn=>{Array.isArray(pn)?pn.forEach(yt):this.engine.registerTrigger(_e,Le,u,pn.name,pn)};return _.data.animation.forEach(yt),new Ch(this,Le,G,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(u,_,C){u>=0&&u<this._microtaskId?this._zone.run(()=>_(C)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(G=>{const[_e,Le]=G;_e(Le)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([_,C]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(_){return new(_||E)(o.LFG(o.FYo),o.LFG(su),o.LFG(o.R0b))};static#t=this.\u0275prov=o.Yz7({token:E,factory:E.\u0275fac})}return E})();class qp{constructor(h,u,_,C){this.namespaceId=h,this.delegate=u,this.engine=_,this._onDestroy=C}get data(){return this.delegate.data}destroyNode(h){this.delegate.destroyNode?.(h)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(h,u){return this.delegate.createElement(h,u)}createComment(h){return this.delegate.createComment(h)}createText(h){return this.delegate.createText(h)}appendChild(h,u){this.delegate.appendChild(h,u),this.engine.onInsert(this.namespaceId,u,h,!1)}insertBefore(h,u,_,C=!0){this.delegate.insertBefore(h,u,_),this.engine.onInsert(this.namespaceId,u,h,C)}removeChild(h,u,_){this.engine.onRemove(this.namespaceId,u,this.delegate)}selectRootElement(h,u){return this.delegate.selectRootElement(h,u)}parentNode(h){return this.delegate.parentNode(h)}nextSibling(h){return this.delegate.nextSibling(h)}setAttribute(h,u,_,C){this.delegate.setAttribute(h,u,_,C)}removeAttribute(h,u,_){this.delegate.removeAttribute(h,u,_)}addClass(h,u){this.delegate.addClass(h,u)}removeClass(h,u){this.delegate.removeClass(h,u)}setStyle(h,u,_,C){this.delegate.setStyle(h,u,_,C)}removeStyle(h,u,_){this.delegate.removeStyle(h,u,_)}setProperty(h,u,_){"@"==u.charAt(0)&&u==nm?this.disableAnimations(h,!!_):this.delegate.setProperty(h,u,_)}setValue(h,u){this.delegate.setValue(h,u)}listen(h,u,_){return this.delegate.listen(h,u,_)}disableAnimations(h,u){this.engine.disableAnimations(h,u)}}class Ch extends qp{constructor(h,u,_,C,G){super(u,_,C,G),this.factory=h,this.namespaceId=u}setProperty(h,u,_){"@"==u.charAt(0)?"."==u.charAt(1)&&u==nm?this.disableAnimations(h,_=void 0===_||!!_):this.engine.process(this.namespaceId,h,u.slice(1),_):this.delegate.setProperty(h,u,_)}listen(h,u,_){if("@"==u.charAt(0)){const C=function m_(E){switch(E){case"body":return document.body;case"document":return document;case"window":return window;default:return E}}(h);let G=u.slice(1),_e="";return"@"!=G.charAt(0)&&([G,_e]=function __(E){const h=E.indexOf(".");return[E.substring(0,h),E.slice(h+1)]}(G)),this.engine.listen(this.namespaceId,C,G,_e,Le=>{this.factory.scheduleListenerCallback(Le._data||-1,_,Le)})}return this.delegate.listen(h,u,_)}}const Qc=[{provide:M,useClass:$f},{provide:Kc,useFactory:function au(){return new Nf}},{provide:su,useClass:(()=>{class E extends su{constructor(u,_,C,G){super(u.body,_,C)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(_){return new(_||E)(o.LFG(B.K0),o.LFG(If),o.LFG(Kc),o.LFG(o.z2F))};static#t=this.\u0275prov=o.Yz7({token:E,factory:E.\u0275fac})}return E})()},{provide:o.FYo,useFactory:function im(E,h,u){return new g_(E,h,u)},deps:[f.se,su,o.R0b]}],ja=[{provide:If,useFactory:()=>new is},{provide:o.QbO,useValue:"BrowserAnimations"},...Qc],Wp=[{provide:If,useClass:Rp},{provide:o.QbO,useValue:"NoopAnimations"},...Qc];let hd=(()=>{class E{static withConfig(u){return{ngModule:E,providers:u.disableAnimations?Wp:ja}}static#e=this.\u0275fac=function(_){return new(_||E)};static#t=this.\u0275mod=o.oAB({type:E});static#n=this.\u0275inj=o.cJS({providers:ja,imports:[f.b2]})}return E})();const sm_firebase={apiKey:"AIzaSyBfMHRYkwC16Pt-IuqcVJOYjkrRgOlEVH8",authDomain:"romaniinseattle.firebaseapp.com",projectId:"romaniinseattle",storageBucket:"romaniinseattle.appspot.com",messagingSenderId:"548714995927",appId:"1:548714995927:web:70a2631d9f5d8d2f8fd092"};var wl=k(3182),ss=k(1920);class fd{constructor(h){return h}}class Ha{constructor(){return(0,wl.C6)()}}const pd=new o.OlP("angularfire2._apps"),wh={provide:fd,useFactory:function dc(E){return E&&1===E.length?E[0]:new fd((0,wl.Mq)())},deps:[[new o.FiY,pd]]},cu={provide:Ha,deps:[[new o.FiY,pd]]};function gd(E){return(h,u)=>{const _=h.runOutsideAngular(()=>E(u));return new fd(_)}}let Dl=(()=>{class E{constructor(u){(0,wl.KN)("angularfire",ss.q4.full,"core"),(0,wl.KN)("angularfire",ss.q4.full,"app"),(0,wl.KN)("angular",o.q4F.full,u.toString())}static \u0275fac=function(_){return new(_||E)(o.LFG(o.Lbi))};static \u0275mod=o.oAB({type:E});static \u0275inj=o.cJS({providers:[wh,cu]})}return E})();function Dh(E,...h){return{ngModule:Dl,providers:[{provide:pd,useFactory:gd(E),multi:!0,deps:[o.R0b,o.zs3,ss.HU,...h]}]}}const Wf=(0,ss.u3)(wl.ZF,!0);k(35),k(534),k(9058),k(7879),k(4537);class Qf{constructor(){return(0,ss.vb)("auth")}}var x_=k(1043);class Jf{constructor(h){return h}}const Ed="firestore",fc=new o.OlP("angularfire2.firestore-instances");function ym(E){return(h,u)=>{const _=h.runOutsideAngular(()=>E(u));return new Jf(_)}}const Em={provide:class Xc{constructor(){return(0,ss.vb)(Ed)}},deps:[[new o.FiY,fc]]},ng={provide:Jf,useFactory:function O_(E,h){const u=(0,ss.JM)(Ed,E,h);return u&&new Jf(u)},deps:[[new o.FiY,fc],fd]};let Fh=(()=>{class E{constructor(){(0,wl.KN)("angularfire",ss.q4.full,"fst")}static \u0275fac=function(_){return new(_||E)};static \u0275mod=o.oAB({type:E});static \u0275inj=o.cJS({providers:[ng,Em]})}return E})();function Xf(E,...h){return{ngModule:Fh,providers:[{provide:fc,useFactory:ym(E),multi:!0,deps:[o.R0b,o.zs3,ss.HU,Ha,[new o.FiY,Qf],[new o.FiY,ss.Rf],...h]}]}}const Rt=(0,ss.u3)(x_.ad,!0);var Xs=k(7217),eo=k(7104),ba=k(243),Dm=k(7213),Sm=k(8153);class Bh{constructor(h){return h}}const Id="storage",Pl=new o.OlP("angularfire2.storage-instances");function Mm(E){return(h,u)=>{const _=h.runOutsideAngular(()=>E(u));return new Bh(_)}}const bd={provide:class ug{constructor(){return(0,ss.vb)(Id)}},deps:[[new o.FiY,Pl]]},B_={provide:Bh,useFactory:function jh(E,h){const u=(0,ss.JM)(Id,E,h);return u&&new Bh(u)},deps:[[new o.FiY,Pl],fd]};let Pm=(()=>{class E{constructor(){(0,wl.KN)("angularfire",ss.q4.full,"gcs")}static \u0275fac=function(_){return new(_||E)};static \u0275mod=o.oAB({type:E});static \u0275inj=o.cJS({providers:[B_,bd]})}return E})();function Cd(E,...h){return{ngModule:Pm,providers:[{provide:Pl,useFactory:Mm(E),multi:!0,deps:[o.R0b,o.zs3,ss.HU,Ha,[new o.FiY,Qf],[new o.FiY,ss.Rf],...h]}]}}const uo=(0,ss.u3)(Sm.cF,!0);var $h=k(5842);let Nm=(()=>{class E{constructor(u){this.injector=u}handleError(u){this.injector.get($h.I).logError(u)}static#e=this.\u0275fac=function(_){return new(_||E)(o.LFG(o.zs3))};static#t=this.\u0275prov=o.Yz7({token:E,factory:E.\u0275fac})}return E})(),hg=(()=>{class E{static#e=this.\u0275fac=function(_){return new(_||E)};static#t=this.\u0275mod=o.oAB({type:E,bootstrap:[v]});static#n=this.\u0275inj=o.cJS({providers:[{provide:o.qLn,useClass:Nm},$h.I],imports:[f.b2,pa.JF,di.Bz,eh,hd,St,kl,Fa,eo.yb,ba.TE,Dm.ww,Xs.hO.initializeApp(sm_firebase),Dh(()=>Wf(sm_firebase)),Xf(()=>Rt()),Cd(()=>uo()),cn.UX,cn.u5,di.Bz]})}return E})();f.q6().bootstrapModule(hg).catch(E=>console.error(E))},8963:sn=>{sn.exports=function o(B,Se,me){function Ae(ve,$){if(!Se[ve]){if(!B[ve]){if(de)return de(ve,!0);var oe=new Error("Cannot find module '"+ve+"'");throw oe.code="MODULE_NOT_FOUND",oe}var be=Se[ve]={exports:{}};B[ve][0].call(be.exports,function(ye){return Ae(B[ve][1][ye]||ye)},be,be.exports,o,B,Se,me)}return Se[ve].exports}for(var de=void 0,ae=0;ae<me.length;ae++)Ae(me[ae]);return Ae}({1:[function(o,B,Se){"use strict";var me=o("multimath"),Ae=o("./mm_unsharp_mask"),de=o("./mm_resize");function ae(ve){var $=ve||[],z={js:$.indexOf("js")>=0,wasm:$.indexOf("wasm")>=0};me.call(this,z),this.features={js:z.js,wasm:z.wasm&&this.has_wasm()},this.use(Ae),this.use(de)}(ae.prototype=Object.create(me.prototype)).constructor=ae,ae.prototype.resizeAndUnsharp=function($,z){var oe=this.resize($,z);return $.unsharpAmount&&this.unsharp_mask(oe,$.toWidth,$.toHeight,$.unsharpAmount,$.unsharpRadius,$.unsharpThreshold),oe},B.exports=ae},{"./mm_resize":4,"./mm_unsharp_mask":9,multimath:19}],2:[function(o,B,Se){"use strict";function me(z){return z<0?0:z>255?255:z}function Ae(z){return z>=0?z:0}B.exports={convolveHor:function de(z,oe,be,ye,De,xe){var Ye,We,mt,ke,Oe,tt,Ge,Ze,dt,bt,Ee,Ot=0,Vt=0;for(dt=0;dt<ye;dt++){for(Oe=0,bt=0;bt<De;bt++){for(tt=xe[Oe++],Ge=xe[Oe++],Ze=Ot+4*tt|0,Ye=We=mt=ke=0;Ge>0;Ge--)ke=ke+(Ee=xe[Oe++])*z[Ze+3]|0,mt=mt+Ee*z[Ze+2]|0,We=We+Ee*z[Ze+1]|0,Ye=Ye+Ee*z[Ze]|0,Ze=Ze+4|0;oe[Vt+3]=Ae(ke>>7),oe[Vt+2]=Ae(mt>>7),oe[Vt+1]=Ae(We>>7),oe[Vt]=Ae(Ye>>7),Vt=Vt+4*ye|0}Vt=4*(dt+1)|0,Ot=(dt+1)*be*4|0}},convolveVert:function ae(z,oe,be,ye,De,xe){var Ye,We,mt,ke,Oe,tt,Ge,Ze,dt,bt,Ee,Ot=0,Vt=0;for(dt=0;dt<ye;dt++){for(Oe=0,bt=0;bt<De;bt++){for(tt=xe[Oe++],Ge=xe[Oe++],Ze=Ot+4*tt|0,Ye=We=mt=ke=0;Ge>0;Ge--)ke=ke+(Ee=xe[Oe++])*z[Ze+3]|0,mt=mt+Ee*z[Ze+2]|0,We=We+Ee*z[Ze+1]|0,Ye=Ye+Ee*z[Ze]|0,Ze=Ze+4|0;Ye>>=7,We>>=7,mt>>=7,oe[Vt+3]=me(8192+(ke>>=7)>>14),oe[Vt+2]=me(mt+8192>>14),oe[Vt+1]=me(We+8192>>14),oe[Vt]=me(Ye+8192>>14),Vt=Vt+4*ye|0}Vt=4*(dt+1)|0,Ot=(dt+1)*be*4|0}},convolveHorWithPre:function ve(z,oe,be,ye,De,xe){var Ye,We,mt,ke,Oe,tt,Ge,Ze,dt,bt,Ee,Ot,Vt=0,Sn=0;for(bt=0;bt<ye;bt++){for(tt=0,Ee=0;Ee<De;Ee++){for(Ge=xe[tt++],Ze=xe[tt++],dt=Vt+4*Ge|0,Ye=We=mt=ke=0;Ze>0;Ze--)ke=ke+(Ot=xe[tt++])*(Oe=z[dt+3])|0,mt=mt+Ot*z[dt+2]*Oe|0,We=We+Ot*z[dt+1]*Oe|0,Ye=Ye+Ot*z[dt]*Oe|0,dt=dt+4|0;mt=mt/255|0,We=We/255|0,Ye=Ye/255|0,oe[Sn+3]=Ae(ke>>7),oe[Sn+2]=Ae(mt>>7),oe[Sn+1]=Ae(We>>7),oe[Sn]=Ae(Ye>>7),Sn=Sn+4*ye|0}Sn=4*(bt+1)|0,Vt=(bt+1)*be*4|0}},convolveVertWithPre:function $(z,oe,be,ye,De,xe){var Ye,We,mt,ke,Oe,tt,Ge,Ze,dt,bt,Ee,Ot=0,Vt=0;for(dt=0;dt<ye;dt++){for(Oe=0,bt=0;bt<De;bt++){for(tt=xe[Oe++],Ge=xe[Oe++],Ze=Ot+4*tt|0,Ye=We=mt=ke=0;Ge>0;Ge--)ke=ke+(Ee=xe[Oe++])*z[Ze+3]|0,mt=mt+Ee*z[Ze+2]|0,We=We+Ee*z[Ze+1]|0,Ye=Ye+Ee*z[Ze]|0,Ze=Ze+4|0;Ye>>=7,We>>=7,mt>>=7,(ke=me(8192+(ke>>=7)>>14))>0&&(Ye=255*Ye/ke|0,We=255*We/ke|0,mt=255*mt/ke|0),oe[Vt+3]=ke,oe[Vt+2]=me(mt+8192>>14),oe[Vt+1]=me(We+8192>>14),oe[Vt]=me(Ye+8192>>14),Vt=Vt+4*ye|0}Vt=4*(dt+1)|0,Ot=(dt+1)*be*4|0}}}},{}],3:[function(o,B,Se){"use strict";B.exports="AGFzbQEAAAAADAZkeWxpbmsAAAAAAAEYA2AGf39/f39/AGAAAGAIf39/f39/f38AAg8BA2VudgZtZW1vcnkCAAADBwYBAAAAAAIGBgF/AEEACweUAQgRX193YXNtX2NhbGxfY3RvcnMAAAtjb252b2x2ZUhvcgABDGNvbnZvbHZlVmVydAACEmNvbnZvbHZlSG9yV2l0aFByZQADE2NvbnZvbHZlVmVydFdpdGhQcmUABApjb252b2x2ZUhWAAUMX19kc29faGFuZGxlAwAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAAKyA4GAwABC4wDARB/AkAgA0UNACAERQ0AIANBAnQhFQNAQQAhE0EAIQsDQCALQQJqIQcCfyALQQF0IAVqIgYuAQIiC0UEQEEAIQhBACEGQQAhCUEAIQogBwwBCyASIAYuAQBqIQhBACEJQQAhCiALIRRBACEOIAchBkEAIQ8DQCAFIAZBAXRqLgEAIhAgACAIQQJ0aigCACIRQRh2bCAPaiEPIBFB/wFxIBBsIAlqIQkgEUEQdkH/AXEgEGwgDmohDiARQQh2Qf8BcSAQbCAKaiEKIAhBAWohCCAGQQFqIQYgFEEBayIUDQALIAlBB3UhCCAKQQd1IQYgDkEHdSEJIA9BB3UhCiAHIAtqCyELIAEgDEEBdCIHaiAIQQAgCEEAShs7AQAgASAHQQJyaiAGQQAgBkEAShs7AQAgASAHQQRyaiAJQQAgCUEAShs7AQAgASAHQQZyaiAKQQAgCkEAShs7AQAgDCAVaiEMIBNBAWoiEyAERw0ACyANQQFqIg0gAmwhEiANQQJ0IQwgAyANRw0ACwsL2gMBD38CQCADRQ0AIARFDQAgAkECdCEUA0AgCyEMQQAhE0EAIQIDQCACQQJqIQYCfyACQQF0IAVqIgcuAQIiAkUEQEEAIQhBACEHQQAhCkEAIQkgBgwBCyAHLgEAQQJ0IBJqIQhBACEJIAIhCkEAIQ0gBiEHQQAhDkEAIQ8DQCAFIAdBAXRqLgEAIhAgACAIQQF0IhFqLwEAbCAJaiEJIAAgEUEGcmovAQAgEGwgDmohDiAAIBFBBHJqLwEAIBBsIA9qIQ8gACARQQJyai8BACAQbCANaiENIAhBBGohCCAHQQFqIQcgCkEBayIKDQALIAlBB3UhCCANQQd1IQcgDkEHdSEKIA9BB3UhCSACIAZqCyECIAEgDEECdGogB0GAQGtBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobQQh0QYD+A3EgCUGAQGtBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobQRB0QYCA/AdxIApBgEBrQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG0EYdHJyIAhBgEBrQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG3I2AgAgAyAMaiEMIBNBAWoiEyAERw0ACyAUIAtBAWoiC2whEiADIAtHDQALCwuSAwEQfwJAIANFDQAgBEUNACADQQJ0IRUDQEEAIRNBACEGA0AgBkECaiEIAn8gBkEBdCAFaiIGLgECIgdFBEBBACEJQQAhDEEAIQ1BACEOIAgMAQsgEiAGLgEAaiEJQQAhDkEAIQ1BACEMIAchFEEAIQ8gCCEGA0AgBSAGQQF0ai4BACAAIAlBAnRqKAIAIhBBGHZsIhEgD2ohDyARIBBBEHZB/wFxbCAMaiEMIBEgEEEIdkH/AXFsIA1qIQ0gESAQQf8BcWwgDmohDiAJQQFqIQkgBkEBaiEGIBRBAWsiFA0ACyAPQQd1IQkgByAIagshBiABIApBAXQiCGogDkH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEECcmogDUH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEEEcmogDEH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEEGcmogCUEAIAlBAEobOwEAIAogFWohCiATQQFqIhMgBEcNAAsgC0EBaiILIAJsIRIgC0ECdCEKIAMgC0cNAAsLC4IEAQ9/AkAgA0UNACAERQ0AIAJBAnQhFANAIAshDEEAIRJBACEHA0AgB0ECaiEKAn8gB0EBdCAFaiICLgECIhNFBEBBACEIQQAhCUEAIQYgCiEHQQAMAQsgAi4BAEECdCARaiEJQQAhByATIQJBACENIAohBkEAIQ5BACEPA0AgBSAGQQF0ai4BACIIIAAgCUEBdCIQai8BAGwgB2ohByAAIBBBBnJqLwEAIAhsIA5qIQ4gACAQQQRyai8BACAIbCAPaiEPIAAgEEECcmovAQAgCGwgDWohDSAJQQRqIQkgBkEBaiEGIAJBAWsiAg0ACyAHQQd1IQggDUEHdSEJIA9BB3UhBiAKIBNqIQcgDkEHdQtBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKGyIKQf8BcQRAIAlB/wFsIAJtIQkgCEH/AWwgAm0hCCAGQf8BbCACbSEGCyABIAxBAnRqIAlBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKG0EIdEGA/gNxIAZBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKG0EQdEGAgPwHcSAKQRh0ciAIQYBAa0EOdSICQf8BIAJB/wFIGyICQQAgAkEAShtycjYCACADIAxqIQwgEkEBaiISIARHDQALIBQgC0EBaiILbCERIAMgC0cNAAsLC0AAIAcEQEEAIAIgAyAEIAUgABADIAJBACAEIAUgBiABEAQPC0EAIAIgAyAEIAUgABABIAJBACAEIAUgBiABEAIL"},{}],4:[function(o,B,Se){"use strict";B.exports={name:"resize",fn:o("./resize"),wasm_fn:o("./resize_wasm"),wasm_src:o("./convolve_wasm_base64")}},{"./convolve_wasm_base64":3,"./resize":5,"./resize_wasm":8}],5:[function(o,B,Se){"use strict";var me=o("./resize_filter_gen"),Ae=o("./convolve"),de=Ae.convolveHor,ae=Ae.convolveVert,ve=Ae.convolveHorWithPre,$=Ae.convolveVertWithPre;B.exports=function(ye){var De=ye.src,xe=ye.width,Ye=ye.height,We=ye.toWidth,mt=ye.toHeight,ke=ye.scaleX||ye.toWidth/ye.width,Oe=ye.scaleY||ye.toHeight/ye.height,tt=ye.offsetX||0,Ge=ye.offsetY||0,Ze=ye.dest||new Uint8Array(We*mt*4),dt=typeof ye.filter>"u"?"mks2013":ye.filter,bt=me(dt,xe,We,ke,tt),Ee=me(dt,Ye,mt,Oe,Ge),Ot=new Uint16Array(We*Ye*4);return function z(be,ye,De){for(var xe=3,Ye=ye*De*4|0;xe<Ye;){if(255!==be[xe])return!0;xe=xe+4|0}return!1}(De,xe,Ye)?(ve(De,Ot,xe,Ye,We,bt),$(Ot,Ze,Ye,We,mt,Ee)):(de(De,Ot,xe,Ye,We,bt),ae(Ot,Ze,Ye,We,mt,Ee),function oe(be,ye,De){for(var xe=3,Ye=ye*De*4|0;xe<Ye;)be[xe]=255,xe=xe+4|0}(Ze,We,mt)),Ze}},{"./convolve":2,"./resize_filter_gen":6}],6:[function(o,B,Se){"use strict";var me=o("./resize_filter_info");function de(ae){return Math.round(16383*ae)}B.exports=function(ve,$,z,oe,be){var We,mt,ke,Oe,tt,Ge,Ze,dt,bt,Ee,Ot,Vt,Sn,Tt,Ke,Fe,ye=me.filter[ve].fn,De=1/oe,xe=Math.min(1,oe),Ye=me.filter[ve].win/xe,we=Math.floor(2*(Ye+1)),te=new Int16Array((we+2)*z),Ie=0,Pe=!te.subarray||!te.set;for(We=0;We<z;We++){for(mt=(We+.5)*De+be,ke=Math.max(0,Math.floor(mt-Ye)),tt=(Oe=Math.min($-1,Math.ceil(mt+Ye)))-ke+1,Ge=new Float32Array(tt),Ze=new Int16Array(tt),dt=0,bt=ke,Ee=0;bt<=Oe;bt++,Ee++)dt+=Ot=ye((bt+.5-mt)*xe),Ge[Ee]=Ot;for(Vt=0,Ee=0;Ee<Ge.length;Ee++)Vt+=Sn=Ge[Ee]/dt,Ze[Ee]=de(Sn);for(Ze[z>>1]+=de(1-Vt),Tt=0;Tt<Ze.length&&0===Ze[Tt];)Tt++;if(Tt<Ze.length){for(Ke=Ze.length-1;Ke>0&&0===Ze[Ke];)Ke--;if(Fe=Ke-Tt+1,te[Ie++]=ke+Tt,te[Ie++]=Fe,Pe)for(Ee=Tt;Ee<=Ke;Ee++)te[Ie++]=Ze[Ee];else te.set(Ze.subarray(Tt,Ke+1),Ie),Ie+=Fe}else te[Ie++]=0,te[Ie++]=0}return te}},{"./resize_filter_info":7}],7:[function(o,B,Se){"use strict";B.exports={filter:{box:{win:.5,fn:function(de){return de<0&&(de=-de),de<.5?1:0}},hamming:{win:1,fn:function(de){if(de<0&&(de=-de),de>=1)return 0;if(de<1.1920929e-7)return 1;var ae=de*Math.PI;return Math.sin(ae)/ae*(.54+.46*Math.cos(ae/1))}},lanczos2:{win:2,fn:function(de){if(de<0&&(de=-de),de>=2)return 0;if(de<1.1920929e-7)return 1;var ae=de*Math.PI;return Math.sin(ae)/ae*Math.sin(ae/2)/(ae/2)}},lanczos3:{win:3,fn:function(de){if(de<0&&(de=-de),de>=3)return 0;if(de<1.1920929e-7)return 1;var ae=de*Math.PI;return Math.sin(ae)/ae*Math.sin(ae/3)/(ae/3)}},mks2013:{win:2.5,fn:function(de){return de<0&&(de=-de),de>=2.5?0:de>=1.5?-.125*(de-2.5)*(de-2.5):de>=.5?.25*(4*de*de-11*de+7):1.0625-1.75*de*de}}},f2q:{box:0,hamming:1,lanczos2:2,lanczos3:3},q2f:["box","hamming","lanczos2","lanczos3"]}},{}],8:[function(o,B,Se){"use strict";var me=o("./resize_filter_gen");var ve=!0;try{ve=1===new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]}catch{}function $(z,oe,be){if(ve)oe.set(function ae(z){return new Uint8Array(z.buffer,0,z.byteLength)}(z),be);else for(var ye=be,De=0;De<z.length;De++){var xe=z[De];oe[ye++]=255&xe,oe[ye++]=xe>>8&255}}B.exports=function(oe){var be=oe.src,ye=oe.width,De=oe.height,xe=oe.toWidth,Ye=oe.toHeight,We=oe.scaleX||oe.toWidth/oe.width,mt=oe.scaleY||oe.toHeight/oe.height,ke=oe.offsetX||0,Oe=oe.offsetY||0,tt=oe.dest||new Uint8Array(xe*Ye*4),Ge=typeof oe.filter>"u"?"mks2013":oe.filter,Ze=me(Ge,ye,xe,We,ke),dt=me(Ge,De,Ye,mt,Oe),Ee=Math.max(be.byteLength,tt.byteLength),Ot=this.__align(0+Ee),Sn=this.__align(Ot+De*xe*4*2),Tt=this.__align(Sn+Ze.byteLength),ut=this.__instance("resize",Tt+dt.byteLength),Fe=new Uint8Array(this.__memory.buffer),we=new Uint32Array(this.__memory.buffer),te=new Uint32Array(be.buffer);we.set(te),$(Ze,Fe,Sn),$(dt,Fe,Tt);var Ie=ut.exports.convolveHV||ut.exports._convolveHV;return function Ae(z,oe,be){for(var ye=3,De=oe*be*4|0;ye<De;){if(255!==z[ye])return!0;ye=ye+4|0}return!1}(be,ye,De)?Ie(Sn,Tt,Ot,ye,De,xe,Ye,1):(Ie(Sn,Tt,Ot,ye,De,xe,Ye,0),function de(z,oe,be){for(var ye=3,De=oe*be*4|0;ye<De;)z[ye]=255,ye=ye+4|0}(tt,xe,Ye)),new Uint32Array(tt.buffer).set(new Uint32Array(this.__memory.buffer,0,Ye*xe)),tt}},{"./resize_filter_gen":6}],9:[function(o,B,Se){"use strict";B.exports={name:"unsharp_mask",fn:o("./unsharp_mask"),wasm_fn:o("./unsharp_mask_wasm"),wasm_src:o("./unsharp_mask_wasm_base64")}},{"./unsharp_mask":10,"./unsharp_mask_wasm":11,"./unsharp_mask_wasm_base64":12}],10:[function(o,B,Se){"use strict";var me=o("glur/mono16");B.exports=function(ae,ve,$,z,oe,be){var ye,De,xe,Ye,We;if(!(0===z||oe<.5)){oe>2&&(oe=2);var mt=function Ae(de,ae,ve){for(var oe,be,ye,$=ae*ve,z=new Uint16Array($),xe=0;xe<$;xe++)ye=de[4*xe+2],z[xe]=((oe=de[4*xe])>=(be=de[4*xe+1])&&oe>=ye?oe:be>=ye&&be>=oe?be:ye)<<8;return z}(ae,ve,$),ke=new Uint16Array(mt);me(ke,ve,$,oe);for(var Oe=z/100*4096+.5|0,tt=be<<8,Ge=ve*$,Ze=0;Ze<Ge;Ze++)Ye=(ye=mt[Ze])-ke[Ze],Math.abs(Ye)>=tt&&(ae[We=4*Ze]=ae[We]*(xe=((De=(De=(De=ye+(Oe*Ye+2048>>12))>65280?65280:De)<0?0:De)<<12)/(ye=0!==ye?ye:1)|0)+2048>>12,ae[We+1]=ae[We+1]*xe+2048>>12,ae[We+2]=ae[We+2]*xe+2048>>12)}}},{"glur/mono16":18}],11:[function(o,B,Se){"use strict";B.exports=function(Ae,de,ae,ve,$,z){if(!(0===ve||$<.5)){$>2&&($=2);var oe=de*ae,be=4*oe,ye=2*oe,De=2*oe,xe=4*Math.max(de,ae),mt=be,ke=mt+ye,Oe=ke+De,tt=Oe+De,Ge=tt+xe,Ze=this.__instance("unsharp_mask",be+ye+2*De+xe+32,{exp:Math.exp}),dt=new Uint32Array(Ae.buffer);new Uint32Array(this.__memory.buffer).set(dt);var Ee=Ze.exports.hsv_v16||Ze.exports._hsv_v16;Ee(0,mt,de,ae),(Ee=Ze.exports.blurMono16||Ze.exports._blurMono16)(mt,ke,Oe,tt,Ge,de,ae,$),(Ee=Ze.exports.unsharp||Ze.exports._unsharp)(0,0,mt,ke,de,ae,ve,z),dt.set(new Uint32Array(this.__memory.buffer,0,oe))}}},{}],12:[function(o,B,Se){"use strict";B.exports="AGFzbQEAAAAADAZkeWxpbmsAAAAAAAE0B2AAAGAEf39/fwBgBn9/f39/fwBgCH9/f39/f39/AGAIf39/f39/f30AYAJ9fwBgAXwBfAIZAgNlbnYDZXhwAAYDZW52Bm1lbW9yeQIAAAMHBgAFAgQBAwYGAX8AQQALB4oBCBFfX3dhc21fY2FsbF9jdG9ycwABFl9fYnVpbGRfZ2F1c3NpYW5fY29lZnMAAg5fX2dhdXNzMTZfbGluZQADCmJsdXJNb25vMTYABAdoc3ZfdjE2AAUHdW5zaGFycAAGDF9fZHNvX2hhbmRsZQMAGF9fd2FzbV9hcHBseV9kYXRhX3JlbG9jcwABCsUMBgMAAQvWAQEHfCABRNuGukOCGvs/IAC7oyICRAAAAAAAAADAohAAIgW2jDgCFCABIAKaEAAiAyADoCIGtjgCECABRAAAAAAAAPA/IAOhIgQgBKIgAyACIAKgokQAAAAAAADwP6AgBaGjIgS2OAIAIAEgBSAEmqIiB7Y4AgwgASADIAJEAAAAAAAA8D+gIASioiIItjgCCCABIAMgAkQAAAAAAADwv6AgBKKiIgK2OAIEIAEgByAIoCAFRAAAAAAAAPA/IAahoCIDo7Y4AhwgASAEIAKgIAOjtjgCGAuGBQMGfwl8An0gAyoCDCEVIAMqAgghFiADKgIUuyERIAMqAhC7IRACQCAEQQFrIghBAEgiCQRAIAIhByAAIQYMAQsgAiAALwEAuCIPIAMqAhi7oiIMIBGiIg0gDCAQoiAPIAMqAgS7IhOiIhQgAyoCALsiEiAPoqCgoCIOtjgCACACQQRqIQcgAEECaiEGIAhFDQAgCEEBIAhBAUgbIgpBf3MhCwJ/IAQgCmtBAXFFBEAgDiENIAgMAQsgAiANIA4gEKIgFCASIAAvAQK4Ig+ioKCgIg22OAIEIAJBCGohByAAQQRqIQYgDiEMIARBAmsLIQIgC0EAIARrRg0AA0AgByAMIBGiIA0gEKIgDyAToiASIAYvAQC4Ig6ioKCgIgy2OAIAIAcgDSARoiAMIBCiIA4gE6IgEiAGLwECuCIPoqCgoCINtjgCBCAHQQhqIQcgBkEEaiEGIAJBAkohACACQQJrIQIgAA0ACwsCQCAJDQAgASAFIAhsQQF0aiIAAn8gBkECay8BACICuCINIBW7IhKiIA0gFrsiE6KgIA0gAyoCHLuiIgwgEKKgIAwgEaKgIg8gB0EEayIHKgIAu6AiDkQAAAAAAADwQWMgDkQAAAAAAAAAAGZxBEAgDqsMAQtBAAs7AQAgCEUNACAGQQRrIQZBACAFa0EBdCEBA0ACfyANIBKiIAJB//8DcbgiDSAToqAgDyIOIBCioCAMIBGioCIPIAdBBGsiByoCALugIgxEAAAAAAAA8EFjIAxEAAAAAAAAAABmcQRAIAyrDAELQQALIQMgBi8BACECIAAgAWoiACADOwEAIAZBAmshBiAIQQFKIQMgDiEMIAhBAWshCCADDQALCwvRAgIBfwd8AkAgB0MAAAAAWw0AIARE24a6Q4Ia+z8gB0MAAAA/l7ujIglEAAAAAAAAAMCiEAAiDLaMOAIUIAQgCZoQACIKIAqgIg22OAIQIAREAAAAAAAA8D8gCqEiCyALoiAKIAkgCaCiRAAAAAAAAPA/oCAMoaMiC7Y4AgAgBCAMIAuaoiIOtjgCDCAEIAogCUQAAAAAAADwP6AgC6KiIg+2OAIIIAQgCiAJRAAAAAAAAPC/oCALoqIiCbY4AgQgBCAOIA+gIAxEAAAAAAAA8D8gDaGgIgqjtjgCHCAEIAsgCaAgCqO2OAIYIAYEQANAIAAgBSAIbEEBdGogAiAIQQF0aiADIAQgBSAGEAMgCEEBaiIIIAZHDQALCyAFRQ0AQQAhCANAIAIgBiAIbEEBdGogASAIQQF0aiADIAQgBiAFEAMgCEEBaiIIIAVHDQALCwtxAQN/IAIgA2wiBQRAA0AgASAAKAIAIgRBEHZB/wFxIgIgAiAEQQh2Qf8BcSIDIAMgBEH/AXEiBEkbIAIgA0sbIgYgBiAEIAIgBEsbIAMgBEsbQQh0OwEAIAFBAmohASAAQQRqIQAgBUEBayIFDQALCwuZAgIDfwF8IAQgBWwhBAJ/IAazQwAAgEWUQwAAyEKVu0QAAAAAAADgP6AiC5lEAAAAAAAA4EFjBEAgC6oMAQtBgICAgHgLIQUgBARAIAdBCHQhCUEAIQYDQCAJIAIgBkEBdCIHai8BACIBIAMgB2ovAQBrIgcgB0EfdSIIaiAIc00EQCAAIAZBAnQiCGoiCiAFIAdsQYAQakEMdSABaiIHQYD+AyAHQYD+A0gbIgdBACAHQQBKG0EMdCABQQEgARtuIgEgCi0AAGxBgBBqQQx2OgAAIAAgCEEBcmoiByABIActAABsQYAQakEMdjoAACAAIAhBAnJqIgcgASAHLQAAbEGAEGpBDHY6AAALIAZBAWoiBiAERw0ACwsL"},{}],13:[function(o,B,Se){"use strict";function Ae(de,ae){this.create=de,this.available=[],this.acquired={},this.lastId=1,this.timeoutId=0,this.idle=ae||2e3}Ae.prototype.acquire=function(){var ae,de=this;return 0!==this.available.length?ae=this.available.pop():((ae=this.create()).id=this.lastId++,ae.release=function(){return de.release(ae)}),this.acquired[ae.id]=ae,ae},Ae.prototype.release=function(de){var ae=this;delete this.acquired[de.id],de.lastUsed=Date.now(),this.available.push(de),0===this.timeoutId&&(this.timeoutId=setTimeout(function(){return ae.gc()},100))},Ae.prototype.gc=function(){var de=this,ae=Date.now();this.available=this.available.filter(function(ve){return!(ae-ve.lastUsed>de.idle&&(ve.destroy(),1))}),this.timeoutId=0!==this.available.length?setTimeout(function(){return de.gc()},100):0},B.exports=Ae},{}],14:[function(o,B,Se){"use strict";B.exports=function(de,ae,ve,$,z,oe){var De=(2*oe+2+1)/z;if(De>.5)return[[ve,$]];var xe=Math.ceil(Math.log(Math.min(ve/de,$/ae))/Math.log(De));if(xe<=1)return[[ve,$]];for(var Ye=[],We=0;We<xe;We++){var mt=Math.round(Math.pow(Math.pow(de,xe-We-1)*Math.pow(ve,We+1),1/xe)),ke=Math.round(Math.pow(Math.pow(ae,xe-We-1)*Math.pow($,We+1),1/xe));Ye.push([mt,ke])}return Ye}},{}],15:[function(o,B,Se){"use strict";function Ae(ae){var ve=Math.round(ae);return Math.abs(ae-ve)<1e-5?ve:Math.floor(ae)}function de(ae){var ve=Math.round(ae);return Math.abs(ae-ve)<1e-5?ve:Math.ceil(ae)}B.exports=function(ve){var $=ve.toWidth/ve.width,z=ve.toHeight/ve.height,oe=Ae(ve.srcTileSize*$)-2*ve.destTileBorder,be=Ae(ve.srcTileSize*z)-2*ve.destTileBorder;if(oe<1||be<1)throw new Error("Internal error in pica: target tile width/height is too small.");var ye,De,xe,Ye,We,mt,Oe,ke=[];for(Ye=0;Ye<ve.toHeight;Ye+=be)for(xe=0;xe<ve.toWidth;xe+=oe)(ye=xe-ve.destTileBorder)<0&&(ye=0),ye+(We=xe+oe+ve.destTileBorder-ye)>=ve.toWidth&&(We=ve.toWidth-ye),(De=Ye-ve.destTileBorder)<0&&(De=0),De+(mt=Ye+be+ve.destTileBorder-De)>=ve.toHeight&&(mt=ve.toHeight-De),Oe={toX:ye,toY:De,toWidth:We,toHeight:mt,toInnerX:xe,toInnerY:Ye,toInnerWidth:oe,toInnerHeight:be,offsetX:ye/$-Ae(ye/$),offsetY:De/z-Ae(De/z),scaleX:$,scaleY:z,x:Ae(ye/$),y:Ae(De/z),width:de(We/$),height:de(mt/z)},ke.push(Oe);return ke}},{}],16:[function(o,B,Se){"use strict";function me(Ae){return Object.prototype.toString.call(Ae)}B.exports.isCanvas=function(de){var ae=me(de);return"[object HTMLCanvasElement]"===ae||"[object OffscreenCanvas]"===ae||"[object Canvas]"===ae},B.exports.isImage=function(de){return"[object HTMLImageElement]"===me(de)},B.exports.isImageBitmap=function(de){return"[object ImageBitmap]"===me(de)},B.exports.limiter=function(de){var ae=0,ve=[];function $(){ae<de&&ve.length&&(ae++,ve.shift()())}return function(oe){return new Promise(function(be,ye){ve.push(function(){oe().then(function(De){be(De),ae--,$()},function(De){ye(De),ae--,$()})}),$()})}},B.exports.cib_quality_name=function(de){switch(de){case 0:return"pixelated";case 1:return"low";case 2:return"medium"}return"high"},B.exports.cib_support=function(de){return Promise.resolve().then(function(){if(typeof createImageBitmap>"u")return!1;var ae=de(100,100);return createImageBitmap(ae,0,0,100,100,{resizeWidth:10,resizeHeight:10,resizeQuality:"high"}).then(function(ve){var $=10===ve.width;return ve.close(),ae=null,$})}).catch(function(){return!1})},B.exports.worker_offscreen_canvas_support=function(){return new Promise(function(de,ae){if(typeof OffscreenCanvas>"u")de(!1);else{var $=btoa("(".concat(function ve(oe){typeof createImageBitmap>"u"?oe.postMessage(!1):Promise.resolve().then(function(){var be=new OffscreenCanvas(10,10);return be.getContext("2d").rect(0,0,1,1),createImageBitmap(be,0,0,1,1)}).then(function(){return oe.postMessage(!0)},function(){return oe.postMessage(!1)})}.toString(),")(self);")),z=new Worker("data:text/javascript;base64,".concat($));z.onmessage=function(oe){return de(oe.data)},z.onerror=ae}}).then(function(de){return de},function(){return!1})},B.exports.can_use_canvas=function(de){var ae=!1;try{var $=de(2,1).getContext("2d"),z=$.createImageData(2,1);z.data[0]=12,z.data[1]=23,z.data[2]=34,z.data[3]=255,z.data[4]=45,z.data[5]=56,z.data[6]=67,z.data[7]=255,$.putImageData(z,0,0),z=null,12===(z=$.getImageData(0,0,2,1)).data[0]&&23===z.data[1]&&34===z.data[2]&&255===z.data[3]&&45===z.data[4]&&56===z.data[5]&&67===z.data[6]&&255===z.data[7]&&(ae=!0)}catch{}return ae},B.exports.cib_can_use_region=function(){return new Promise(function(de){if(typeof Image>"u"||typeof createImageBitmap>"u")de(!1);else{var ae=new Image;ae.src="data:image/jpeg;base64,/9j/4QBiRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAYAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAABIAAAAAQAAAEgAAAAB/9sAQwAEAwMEAwMEBAMEBQQEBQYKBwYGBgYNCQoICg8NEBAPDQ8OERMYFBESFxIODxUcFRcZGRsbGxAUHR8dGh8YGhsa/9sAQwEEBQUGBQYMBwcMGhEPERoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoa/8IAEQgAAQACAwERAAIRAQMRAf/EABQAAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAF/P//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAQUCf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Bf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Bf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEABj8Cf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8hf//aAAwDAQACAAMAAAAQH//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Qf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Qf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8Qf//Z",ae.onload=function(){createImageBitmap(ae,0,0,ae.width,ae.height).then(function(ve){de(ve.width===ae.width&&ve.height===ae.height)},function(){return de(!1)})},ae.onerror=function(){return de(!1)}}})}},{}],17:[function(o,B,Se){"use strict";B.exports=function(){var Ae,me=o("./mathlib");onmessage=function(ae){var ve=ae.data.opts;if(!ve.src&&ve.srcBitmap){var z=new OffscreenCanvas(ve.width,ve.height),oe=z.getContext("2d");oe.drawImage(ve.srcBitmap,0,0),ve.src=oe.getImageData(0,0,ve.width,ve.height).data,z.width=z.height=0,z=null,ve.srcBitmap.close(),ve.srcBitmap=null}Ae||(Ae=new me(ae.data.features));var be=Ae.resizeAndUnsharp(ve);postMessage({data:be},[be.buffer])}}},{"./mathlib":1}],18:[function(o,B,Se){var me,Ae,de,ae,ve,$;function ye(xe,Ye,We,mt,ke,Oe){var tt,Ge,Ze,dt,bt,Ee,Ot,Vt,Sn,Tt,Ke,ut,Fe,we;for(Sn=0;Sn<Oe;Sn++){for(Ot=Sn,Vt=0,dt=bt=(tt=xe[Ee=Sn*ke])*mt[6],Ke=mt[0],ut=mt[1],Fe=mt[4],we=mt[5],Tt=0;Tt<ke;Tt++)Ze=(Ge=xe[Ee])*Ke+tt*ut+dt*Fe+bt*we,bt=dt,tt=Ge,We[Vt]=dt=Ze,Vt++,Ee++;for(Vt--,Ot+=Oe*(ke-1),dt=bt=(tt=xe[--Ee])*mt[7],Ge=tt,Ke=mt[2],ut=mt[3],Tt=ke-1;Tt>=0;Tt--)Ze=Ge*Ke+tt*ut+dt*Fe+bt*we,bt=dt,tt=Ge,Ge=xe[Ee],Ye[Ot]=We[Vt]+(dt=Ze),Ee--,Vt--,Ot-=Oe}}B.exports=function De(xe,Ye,We,mt){if(mt){var ke=new Uint16Array(xe.length),Oe=new Float32Array(Math.max(Ye,We)),tt=function be(xe){xe<.5&&(xe=.5);var Ye=Math.exp(.527076)/xe,We=Math.exp(-Ye),mt=Math.exp(-2*Ye),ke=(1-We)*(1-We)/(1+2*Ye*We-mt);return me=ke,Ae=ke*(Ye-1)*We,de=ke*(Ye+1)*We,ae=-ke*mt,ve=2*We,$=-mt,new Float32Array([me,Ae,de,ae,ve,$,(me+Ae)/(1-ve-$),(de+ae)/(1-ve-$)])}(mt);ye(xe,ke,Oe,tt,Ye,We),ye(ke,xe,Oe,tt,We,Ye)}}},{}],19:[function(o,B,Se){"use strict";var me=o("object-assign"),Ae=o("./lib/base64decode"),de=o("./lib/wa_detect"),ae={js:!0,wasm:!0};function ve($){if(!(this instanceof ve))return new ve($);var z=me({},ae,$||{});if(this.options=z,this.__cache={},this.__init_promise=null,this.__modules=z.modules||{},this.__memory=null,this.__wasm={},this.__isLE=1===new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0],!this.options.js&&!this.options.wasm)throw new Error('mathlib: at least "js" or "wasm" should be enabled')}ve.prototype.has_wasm=de,ve.prototype.use=function($){return this.__modules[$.name]=$,this[$.name]=this.options.wasm&&this.has_wasm()&&$.wasm_fn?$.wasm_fn:$.fn,this},ve.prototype.init=function(){if(this.__init_promise)return this.__init_promise;if(!this.options.js&&this.options.wasm&&!this.has_wasm())return Promise.reject(new Error('mathlib: only "wasm" was enabled, but it\'s not supported'));var $=this;return this.__init_promise=Promise.all(Object.keys($.__modules).map(function(z){var oe=$.__modules[z];return $.options.wasm&&$.has_wasm()&&oe.wasm_fn&&!$.__wasm[z]?WebAssembly.compile($.__base64decode(oe.wasm_src)).then(function(be){$.__wasm[z]=be}):null})).then(function(){return $}),this.__init_promise},ve.prototype.__base64decode=Ae,ve.prototype.__reallocate=function(z){if(!this.__memory)return this.__memory=new WebAssembly.Memory({initial:Math.ceil(z/65536)}),this.__memory;var oe=this.__memory.buffer.byteLength;return oe<z&&this.__memory.grow(Math.ceil((z-oe)/65536)),this.__memory},ve.prototype.__instance=function(z,oe,be){if(oe&&this.__reallocate(oe),this.__wasm[z]||(this.__wasm[z]=new WebAssembly.Module(this.__base64decode(this.__modules[z].wasm_src))),!this.__cache[z]){var De={memoryBase:0,memory:this.__memory,tableBase:0,table:new WebAssembly.Table({initial:0,element:"anyfunc"})};this.__cache[z]=new WebAssembly.Instance(this.__wasm[z],{env:me(De,be||{})})}return this.__cache[z]},ve.prototype.__align=function(z,oe){var be=z%(oe=oe||8);return z+(be?oe-be:0)},B.exports=ve},{"./lib/base64decode":20,"./lib/wa_detect":21,"object-assign":22}],20:[function(o,B,Se){"use strict";B.exports=function(de){for(var ae=de.replace(/[\r\n=]/g,""),ve=ae.length,$=new Uint8Array(3*ve>>2),z=0,oe=0,be=0;be<ve;be++)be%4==0&&be&&($[oe++]=z>>16&255,$[oe++]=z>>8&255,$[oe++]=255&z),z=z<<6|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(ae.charAt(be));var ye=ve%4*6;return 0===ye?($[oe++]=z>>16&255,$[oe++]=z>>8&255,$[oe++]=255&z):18===ye?($[oe++]=z>>10&255,$[oe++]=z>>2&255):12===ye&&($[oe++]=z>>4&255),$}},{}],21:[function(o,B,Se){"use strict";var me;B.exports=function(){if(typeof me<"u"||(me=!1,typeof WebAssembly>"u"))return me;try{var de=new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]),ae=new WebAssembly.Module(de);return 0!==new WebAssembly.Instance(ae,{}).exports.test(4)&&(me=!0),me}catch{}return me}},{}],22:[function(o,B,Se){"use strict";var me=Object.getOwnPropertySymbols,Ae=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable;B.exports=function ve(){try{if(!Object.assign)return!1;var $=new String("abc");if($[5]="de","5"===Object.getOwnPropertyNames($)[0])return!1;for(var z={},oe=0;oe<10;oe++)z["_"+String.fromCharCode(oe)]=oe;if("0123456789"!==Object.getOwnPropertyNames(z).map(function(De){return z[De]}).join(""))return!1;var ye={};return"abcdefghijklmnopqrst".split("").forEach(function(De){ye[De]=De}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},ye)).join("")}catch{return!1}}()?Object.assign:function($,z){for(var oe,ye,be=function ae($){if(null==$)throw new TypeError("Object.assign cannot be called with null or undefined");return Object($)}($),De=1;De<arguments.length;De++){for(var xe in oe=Object(arguments[De]))Ae.call(oe,xe)&&(be[xe]=oe[xe]);if(me){ye=me(oe);for(var Ye=0;Ye<ye.length;Ye++)de.call(oe,ye[Ye])&&(be[ye[Ye]]=oe[ye[Ye]])}}return be}},{}],23:[function(o,B,Se){var me=arguments[3],Ae=arguments[4],de=arguments[5],ae=JSON.stringify;B.exports=function(ve,$){for(var z,oe=Object.keys(de),be=0,ye=oe.length;be<ye;be++){var xe=de[De=oe[be]].exports;if(xe===ve||xe&&xe.default===ve){z=De;break}}if(!z){z=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var Ye={};for(be=0,ye=oe.length;be<ye;be++){var De;Ye[De=oe[be]]=De}Ae[z]=["function(require,module,exports){"+ve+"(self); }",Ye]}var We=Math.floor(Math.pow(16,8)*Math.random()).toString(16),mt={};mt[z]=z,Ae[We]=["function(require,module,exports){var f = require("+ae(z)+");(f.default ? f.default : f)(self);}",mt];var ke={};!function Oe(Ee){for(var Ot in ke[Ee]=!0,Ae[Ee][1]){var Vt=Ae[Ee][1][Ot];ke[Vt]||Oe(Vt)}}(We);var tt="("+me+")({"+Object.keys(ke).map(function(Ee){return ae(Ee)+":["+Ae[Ee][0]+","+ae(Ae[Ee][1])+"]"}).join(",")+"},{},["+ae(We)+"])",Ge=window.URL||window.webkitURL||window.mozURL||window.msURL,Ze=new Blob([tt],{type:"text/javascript"});if($&&$.bare)return Ze;var dt=Ge.createObjectURL(Ze),bt=new Worker(dt);return bt.objectURL=dt,bt}},{}],"/index.js":[function(o,B,Se){"use strict";function me(Ke,ut){return function $(Ke){if(Array.isArray(Ke))return Ke}(Ke)||function ve(Ke,ut){var Fe=null==Ke?null:typeof Symbol<"u"&&Ke[Symbol.iterator]||Ke["@@iterator"];if(null!=Fe){var Pe,je,we=[],te=!0,Ie=!1;try{for(Fe=Fe.call(Ke);!(te=(Pe=Fe.next()).done)&&(we.push(Pe.value),!ut||we.length!==ut);te=!0);}catch(it){Ie=!0,je=it}finally{try{!te&&null!=Fe.return&&Fe.return()}finally{if(Ie)throw je}}return we}}(Ke,ut)||function de(Ke,ut){if(Ke){if("string"==typeof Ke)return ae(Ke,ut);var Fe=Object.prototype.toString.call(Ke).slice(8,-1);if("Object"===Fe&&Ke.constructor&&(Fe=Ke.constructor.name),"Map"===Fe||"Set"===Fe)return Array.from(Ke);if("Arguments"===Fe||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Fe))return ae(Ke,ut)}}(Ke,ut)||function Ae(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(Ke,ut){(null==ut||ut>Ke.length)&&(ut=Ke.length);for(var Fe=0,we=new Array(ut);Fe<ut;Fe++)we[Fe]=Ke[Fe];return we}var z=o("object-assign"),oe=o("webworkify"),be=o("./lib/mathlib"),ye=o("./lib/pool"),De=o("./lib/utils"),xe=o("./lib/worker"),Ye=o("./lib/stepper"),We=o("./lib/tiler"),mt=o("./lib/mm_resize/resize_filter_info"),ke={},Oe=!1;try{typeof navigator<"u"&&navigator.userAgent&&(Oe=navigator.userAgent.indexOf("Safari")>=0)}catch{}var tt=1;typeof navigator<"u"&&(tt=Math.min(navigator.hardwareConcurrency||1,4));var Ge={tile:1024,concurrency:tt,features:["js","wasm","ww"],idle:2e3,createCanvas:function(ut,Fe){var we=document.createElement("canvas");return we.width=ut,we.height=Fe,we}},Ze={filter:"mks2013",unsharpAmount:0,unsharpRadius:0,unsharpThreshold:0},dt=!1,bt=!1,Ee=!1,Ot=!1,Vt=!1;function Sn(){return{value:oe(xe),destroy:function(){if(this.value.terminate(),typeof window<"u"){var ut=window.URL||window.webkitURL||window.mozURL||window.msURL;ut&&ut.revokeObjectURL&&this.value.objectURL&&ut.revokeObjectURL(this.value.objectURL)}}}}function Tt(Ke){if(!(this instanceof Tt))return new Tt(Ke);this.options=z({},Ge,Ke||{});var ut="lk_".concat(this.options.concurrency);this.__limit=ke[ut]||De.limiter(this.options.concurrency),ke[ut]||(ke[ut]=this.__limit),this.features={js:!1,wasm:!1,cib:!1,ww:!1},this.__workersPool=null,this.__requested_features=[],this.__mathlib=null}Tt.prototype.init=function(){var Ke=this;if(this.__initPromise)return this.__initPromise;if(typeof ImageData<"u"&&typeof Uint8ClampedArray<"u")try{new ImageData(new Uint8ClampedArray(400),10,10),dt=!0}catch{}typeof ImageBitmap<"u"&&(ImageBitmap.prototype&&ImageBitmap.prototype.close?bt=!0:this.debug("ImageBitmap does not support .close(), disabled"));var ut=this.options.features.slice();if(ut.indexOf("all")>=0&&(ut=["cib","wasm","js","ww"]),this.__requested_features=ut,this.__mathlib=new be(ut),ut.indexOf("ww")>=0&&typeof window<"u"&&"Worker"in window)try{o("webworkify")(function(){}).terminate(),this.features.ww=!0;var we="wp_".concat(JSON.stringify(this.options));ke[we]?this.__workersPool=ke[we]:(this.__workersPool=new ye(Sn,this.options.idle),ke[we]=this.__workersPool)}catch{}var Ie,Pe,te=this.__mathlib.init().then(function(it){z(Ke.features,it.features)});Ie=bt?De.cib_support(this.options.createCanvas).then(function(it){Ke.features.cib&&ut.indexOf("cib")<0?Ke.debug("createImageBitmap() resize supported, but disabled by config"):ut.indexOf("cib")>=0&&(Ke.features.cib=it)}):Promise.resolve(!1),Ee=De.can_use_canvas(this.options.createCanvas),Pe=(Pe=bt&&dt&&-1!==ut.indexOf("ww")?De.worker_offscreen_canvas_support():Promise.resolve(!1)).then(function(it){Ot=it});var je=De.cib_can_use_region().then(function(it){Vt=it});return this.__initPromise=Promise.all([te,Ie,Pe,je]).then(function(){return Ke}),this.__initPromise},Tt.prototype.__invokeResize=function(Ke,ut){var Fe=this;return ut.__mathCache=ut.__mathCache||{},Promise.resolve().then(function(){return Fe.features.ww?new Promise(function(we,te){var Ie=Fe.__workersPool.acquire();ut.cancelToken&&ut.cancelToken.catch(function(je){return te(je)}),Ie.value.onmessage=function(je){Ie.release(),je.data.err?te(je.data.err):we(je.data)};var Pe=[];Ke.src&&Pe.push(Ke.src.buffer),Ke.srcBitmap&&Pe.push(Ke.srcBitmap),Ie.value.postMessage({opts:Ke,features:Fe.__requested_features,preload:{wasm_nodule:Fe.__mathlib.__}},Pe)}):{data:Fe.__mathlib.resizeAndUnsharp(Ke,ut.__mathCache)}})},Tt.prototype.__extractTileData=function(Ke,ut,Fe,we,te){if(this.features.ww&&Ot&&(De.isCanvas(ut)||Vt))return this.debug("Create tile for OffscreenCanvas"),createImageBitmap(we.srcImageBitmap||ut,Ke.x,Ke.y,Ke.width,Ke.height).then(function(je){return te.srcBitmap=je,te});if(De.isCanvas(ut))return we.srcCtx||(we.srcCtx=ut.getContext("2d")),this.debug("Get tile pixel data"),te.src=we.srcCtx.getImageData(Ke.x,Ke.y,Ke.width,Ke.height).data,te;this.debug("Draw tile imageBitmap/image to temporary canvas");var Ie=this.options.createCanvas(Ke.width,Ke.height),Pe=Ie.getContext("2d");return Pe.globalCompositeOperation="copy",Pe.drawImage(we.srcImageBitmap||ut,Ke.x,Ke.y,Ke.width,Ke.height,0,0,Ke.width,Ke.height),this.debug("Get tile pixel data"),te.src=Pe.getImageData(0,0,Ke.width,Ke.height).data,Ie.width=Ie.height=0,te},Tt.prototype.__landTileData=function(Ke,ut,Fe){var we;if(this.debug("Convert raw rgba tile result to ImageData"),ut.bitmap)return Fe.toCtx.drawImage(ut.bitmap,Ke.toX,Ke.toY),null;if(dt)we=new ImageData(new Uint8ClampedArray(ut.data),Ke.toWidth,Ke.toHeight);else if((we=Fe.toCtx.createImageData(Ke.toWidth,Ke.toHeight)).data.set)we.data.set(ut.data);else for(var te=we.data.length-1;te>=0;te--)we.data[te]=ut.data[te];return this.debug("Draw tile"),Oe?Fe.toCtx.putImageData(we,Ke.toX,Ke.toY,Ke.toInnerX-Ke.toX,Ke.toInnerY-Ke.toY,Ke.toInnerWidth+1e-5,Ke.toInnerHeight+1e-5):Fe.toCtx.putImageData(we,Ke.toX,Ke.toY,Ke.toInnerX-Ke.toX,Ke.toInnerY-Ke.toY,Ke.toInnerWidth,Ke.toInnerHeight),null},Tt.prototype.__tileAndResize=function(Ke,ut,Fe){var we=this,te={srcCtx:null,srcImageBitmap:null,isImageBitmapReused:!1,toCtx:null};return Promise.resolve().then(function(){if(te.toCtx=ut.getContext("2d"),De.isCanvas(Ke))return null;if(De.isImageBitmap(Ke))return te.srcImageBitmap=Ke,te.isImageBitmapReused=!0,null;if(De.isImage(Ke))return bt?(we.debug("Decode image via createImageBitmap"),createImageBitmap(Ke).then(function(Pe){te.srcImageBitmap=Pe}).catch(function(Pe){return null})):null;throw new Error('Pica: ".from" should be Image, Canvas or ImageBitmap')}).then(function(){if(Fe.canceled)return Fe.cancelToken;we.debug("Calculate tiles");var je=We({width:Fe.width,height:Fe.height,srcTileSize:we.options.tile,toWidth:Fe.toWidth,toHeight:Fe.toHeight,destTileBorder:Fe.__destTileBorder}).map(function(_t){return function(je){return we.__limit(function(){if(Fe.canceled)return Fe.cancelToken;var it={width:je.width,height:je.height,toWidth:je.toWidth,toHeight:je.toHeight,scaleX:je.scaleX,scaleY:je.scaleY,offsetX:je.offsetX,offsetY:je.offsetY,filter:Fe.filter,unsharpAmount:Fe.unsharpAmount,unsharpRadius:Fe.unsharpRadius,unsharpThreshold:Fe.unsharpThreshold};return we.debug("Invoke resize math"),Promise.resolve(it).then(function(_t){return we.__extractTileData(je,Ke,Fe,te,_t)}).then(function(_t){return we.debug("Invoke resize math"),we.__invokeResize(_t,Fe)}).then(function(_t){return Fe.canceled?Fe.cancelToken:(te.srcImageData=null,we.__landTileData(je,_t,te))})})}(_t)});function it(_t){_t.srcImageBitmap&&(_t.isImageBitmapReused||_t.srcImageBitmap.close(),_t.srcImageBitmap=null)}return we.debug("Process tiles"),Promise.all(je).then(function(){return we.debug("Finished!"),it(te),ut},function(_t){throw it(te),_t})})},Tt.prototype.__processStages=function(Ke,ut,Fe,we){var te=this;if(we.canceled)return we.cancelToken;var Bt,Gt,Pe=me(Ke.shift(),2),je=Pe[0],it=Pe[1],_t=0===Ke.length;return Bt=_t||mt.q2f.indexOf(we.filter)<0?we.filter:"box"===we.filter?"box":"hamming",we=z({},we,{toWidth:je,toHeight:it,filter:Bt}),_t||(Gt=this.options.createCanvas(je,it)),this.__tileAndResize(ut,_t?Fe:Gt,we).then(function(){return _t?Fe:(we.width=je,we.height=it,te.__processStages(Ke,Gt,Fe,we))}).then(function(Wt){return Gt&&(Gt.width=Gt.height=0),Wt})},Tt.prototype.__resizeViaCreateImageBitmap=function(Ke,ut,Fe){var we=this,te=ut.getContext("2d");return this.debug("Resize via createImageBitmap()"),createImageBitmap(Ke,{resizeWidth:Fe.toWidth,resizeHeight:Fe.toHeight,resizeQuality:De.cib_quality_name(mt.f2q[Fe.filter])}).then(function(Ie){if(Fe.canceled)return Fe.cancelToken;if(!Fe.unsharpAmount)return te.drawImage(Ie,0,0),Ie.close(),te=null,we.debug("Finished!"),ut;we.debug("Unsharp result");var Pe=we.options.createCanvas(Fe.toWidth,Fe.toHeight),je=Pe.getContext("2d");je.drawImage(Ie,0,0),Ie.close();var it=je.getImageData(0,0,Fe.toWidth,Fe.toHeight);return we.__mathlib.unsharp_mask(it.data,Fe.toWidth,Fe.toHeight,Fe.unsharpAmount,Fe.unsharpRadius,Fe.unsharpThreshold),te.putImageData(it,0,0),Pe.width=Pe.height=0,it=je=Pe=te=null,we.debug("Finished!"),ut})},Tt.prototype.resize=function(Ke,ut,Fe){var we=this;this.debug("Start resize...");var te=z({},Ze);if(isNaN(Fe)?Fe&&(te=z(te,Fe)):te=z(te,{quality:Fe}),te.toWidth=ut.width,te.toHeight=ut.height,te.width=Ke.naturalWidth||Ke.width,te.height=Ke.naturalHeight||Ke.height,Object.prototype.hasOwnProperty.call(te,"quality")){if(te.quality<0||te.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(te.quality));te.filter=mt.q2f[te.quality]}return 0===ut.width||0===ut.height?Promise.reject(new Error("Invalid output size: ".concat(ut.width,"x").concat(ut.height))):(te.unsharpRadius>2&&(te.unsharpRadius=2),te.canceled=!1,te.cancelToken&&(te.cancelToken=te.cancelToken.then(function(Pe){throw te.canceled=!0,Pe},function(Pe){throw te.canceled=!0,Pe})),te.__destTileBorder=Math.ceil(Math.max(3,2.5*te.unsharpRadius|0)),this.init().then(function(){if(te.canceled)return te.cancelToken;if(we.features.cib){if(mt.q2f.indexOf(te.filter)>=0)return we.__resizeViaCreateImageBitmap(Ke,ut,te);we.debug("cib is enabled, but not supports provided filter, fallback to manual math")}if(!Ee){var Pe=new Error("Pica: cannot use getImageData on canvas, make sure fingerprinting protection isn't enabled");throw Pe.code="ERR_GET_IMAGE_DATA",Pe}var je=Ye(te.width,te.height,te.toWidth,te.toHeight,we.options.tile,te.__destTileBorder);return we.__processStages(je,Ke,ut,te)}))},Tt.prototype.resizeBuffer=function(Ke){var ut=this,Fe=z({},Ze,Ke);if(Object.prototype.hasOwnProperty.call(Fe,"quality")){if(Fe.quality<0||Fe.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(Fe.quality));Fe.filter=mt.q2f[Fe.quality]}return this.init().then(function(){return ut.__mathlib.resizeAndUnsharp(Fe)})},Tt.prototype.toBlob=function(Ke,ut,Fe){return ut=ut||"image/png",new Promise(function(we){if(Ke.toBlob)Ke.toBlob(function(it){return we(it)},ut,Fe);else if(Ke.convertToBlob)we(Ke.convertToBlob({type:ut,quality:Fe}));else{for(var te=atob(Ke.toDataURL(ut,Fe).split(",")[1]),Ie=te.length,Pe=new Uint8Array(Ie),je=0;je<Ie;je++)Pe[je]=te.charCodeAt(je);we(new Blob([Pe],{type:ut}))}})},Tt.prototype.debug=function(){},B.exports=Tt},{"./lib/mathlib":1,"./lib/mm_resize/resize_filter_info":7,"./lib/pool":13,"./lib/stepper":14,"./lib/tiler":15,"./lib/utils":16,"./lib/worker":17,"object-assign":22,webworkify:23}]},{},[])("/index.js")},5619:(sn,lt,k)=>{"use strict";k.d(lt,{X:()=>o});var f=k(8645);class o extends f.x{constructor(Se){super(),this._value=Se}get value(){return this.getValue()}_subscribe(Se){const me=super._subscribe(Se);return!me.closed&&Se.next(this._value),me}getValue(){const{hasError:Se,thrownError:me,_value:Ae}=this;if(Se)throw me;return this._throwIfClosed(),Ae}next(Se){super.next(this._value=Se)}}},5592:(sn,lt,k)=>{"use strict";k.d(lt,{y:()=>ae});var f=k(305),o=k(7394),B=k(4850),Se=k(8407),me=k(2653),Ae=k(4674),de=k(1441);let ae=(()=>{class oe{constructor(ye){ye&&(this._subscribe=ye)}lift(ye){const De=new oe;return De.source=this,De.operator=ye,De}subscribe(ye,De,xe){const Ye=function z(oe){return oe&&oe instanceof f.Lv||function $(oe){return oe&&(0,Ae.m)(oe.next)&&(0,Ae.m)(oe.error)&&(0,Ae.m)(oe.complete)}(oe)&&(0,o.Nn)(oe)}(ye)?ye:new f.Hp(ye,De,xe);return(0,de.x)(()=>{const{operator:We,source:mt}=this;Ye.add(We?We.call(Ye,mt):mt?this._subscribe(Ye):this._trySubscribe(Ye))}),Ye}_trySubscribe(ye){try{return this._subscribe(ye)}catch(De){ye.error(De)}}forEach(ye,De){return new(De=ve(De))((xe,Ye)=>{const We=new f.Hp({next:mt=>{try{ye(mt)}catch(ke){Ye(ke),We.unsubscribe()}},error:Ye,complete:xe});this.subscribe(We)})}_subscribe(ye){var De;return null===(De=this.source)||void 0===De?void 0:De.subscribe(ye)}[B.L](){return this}pipe(...ye){return(0,Se.U)(ye)(this)}toPromise(ye){return new(ye=ve(ye))((De,xe)=>{let Ye;this.subscribe(We=>Ye=We,We=>xe(We),()=>De(Ye))})}}return oe.create=be=>new oe(be),oe})();function ve(oe){var be;return null!==(be=oe??me.config.Promise)&&void 0!==be?be:Promise}},8645:(sn,lt,k)=>{"use strict";k.d(lt,{x:()=>de});var f=k(5592),o=k(7394);const Se=(0,k(2306).d)(ve=>function(){ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=k(9039),Ae=k(1441);let de=(()=>{class ve extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const oe=new ae(this,this);return oe.operator=z,oe}_throwIfClosed(){if(this.closed)throw new Se}next(z){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const oe of this.currentObservers)oe.next(z)}})}error(z){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:oe}=this;for(;oe.length;)oe.shift().error(z)}})}complete(){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:oe,isStopped:be,observers:ye}=this;return oe||be?o.Lc:(this.currentObservers=null,ye.push(z),new o.w0(()=>{this.currentObservers=null,(0,me.P)(ye,z)}))}_checkFinalizedStatuses(z){const{hasError:oe,thrownError:be,isStopped:ye}=this;oe?z.error(be):ye&&z.complete()}asObservable(){const z=new f.y;return z.source=this,z}}return ve.create=($,z)=>new ae($,z),ve})();class ae extends de{constructor($,z){super(),this.destination=$,this.source=z}next($){var z,oe;null===(oe=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===oe||oe.call(z,$)}error($){var z,oe;null===(oe=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===oe||oe.call(z,$)}complete(){var $,z;null===(z=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===z||z.call($)}_subscribe($){var z,oe;return null!==(oe=null===(z=this.source)||void 0===z?void 0:z.subscribe($))&&void 0!==oe?oe:o.Lc}}},305:(sn,lt,k)=>{"use strict";k.d(lt,{Hp:()=>xe,Lv:()=>oe});var f=k(4674),o=k(7394),B=k(2653),Se=k(3894),me=k(2420);const Ae=ve("C",void 0,void 0);function ve(Oe,tt,Ge){return{kind:Oe,value:tt,error:Ge}}var $=k(7599),z=k(1441);class oe extends o.w0{constructor(tt){super(),this.isStopped=!1,tt?(this.destination=tt,(0,o.Nn)(tt)&&tt.add(this)):this.destination=ke}static create(tt,Ge,Ze){return new xe(tt,Ge,Ze)}next(tt){this.isStopped?mt(function ae(Oe){return ve("N",Oe,void 0)}(tt),this):this._next(tt)}error(tt){this.isStopped?mt(function de(Oe){return ve("E",void 0,Oe)}(tt),this):(this.isStopped=!0,this._error(tt))}complete(){this.isStopped?mt(Ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(tt){this.destination.next(tt)}_error(tt){try{this.destination.error(tt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const be=Function.prototype.bind;function ye(Oe,tt){return be.call(Oe,tt)}class De{constructor(tt){this.partialObserver=tt}next(tt){const{partialObserver:Ge}=this;if(Ge.next)try{Ge.next(tt)}catch(Ze){Ye(Ze)}}error(tt){const{partialObserver:Ge}=this;if(Ge.error)try{Ge.error(tt)}catch(Ze){Ye(Ze)}else Ye(tt)}complete(){const{partialObserver:tt}=this;if(tt.complete)try{tt.complete()}catch(Ge){Ye(Ge)}}}class xe extends oe{constructor(tt,Ge,Ze){let dt;if(super(),(0,f.m)(tt)||!tt)dt={next:tt??void 0,error:Ge??void 0,complete:Ze??void 0};else{let bt;this&&B.config.useDeprecatedNextContext?(bt=Object.create(tt),bt.unsubscribe=()=>this.unsubscribe(),dt={next:tt.next&&ye(tt.next,bt),error:tt.error&&ye(tt.error,bt),complete:tt.complete&&ye(tt.complete,bt)}):dt=tt}this.destination=new De(dt)}}function Ye(Oe){B.config.useDeprecatedSynchronousErrorHandling?(0,z.O)(Oe):(0,Se.h)(Oe)}function mt(Oe,tt){const{onStoppedNotification:Ge}=B.config;Ge&&$.z.setTimeout(()=>Ge(Oe,tt))}const ke={closed:!0,next:me.Z,error:function We(Oe){throw Oe},complete:me.Z}},7394:(sn,lt,k)=>{"use strict";k.d(lt,{Lc:()=>Ae,w0:()=>me,Nn:()=>de});var f=k(4674);const B=(0,k(2306).d)(ve=>function(z){ve(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((oe,be)=>`${be+1}) ${oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var Se=k(9039);class me{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const ye of z)ye.remove(this);else z.remove(this);const{initialTeardown:oe}=this;if((0,f.m)(oe))try{oe()}catch(ye){$=ye instanceof B?ye.errors:[ye]}const{_finalizers:be}=this;if(be){this._finalizers=null;for(const ye of be)try{ae(ye)}catch(De){$=$??[],De instanceof B?$=[...$,...De.errors]:$.push(De)}}if($)throw new B($)}}add($){var z;if($&&$!==this)if(this.closed)ae($);else{if($ instanceof me){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push($)}}_hasParent($){const{_parentage:z}=this;return z===$||Array.isArray(z)&&z.includes($)}_addParent($){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push($),z):z?[z,$]:$}_removeParent($){const{_parentage:z}=this;z===$?this._parentage=null:Array.isArray(z)&&(0,Se.P)(z,$)}remove($){const{_finalizers:z}=this;z&&(0,Se.P)(z,$),$ instanceof me&&$._removeParent(this)}}me.EMPTY=(()=>{const ve=new me;return ve.closed=!0,ve})();const Ae=me.EMPTY;function de(ve){return ve instanceof me||ve&&"closed"in ve&&(0,f.m)(ve.remove)&&(0,f.m)(ve.add)&&(0,f.m)(ve.unsubscribe)}function ae(ve){(0,f.m)(ve)?ve():ve.unsubscribe()}},2653:(sn,lt,k)=>{"use strict";k.d(lt,{config:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(sn,lt,k)=>{"use strict";k.d(lt,{a:()=>$});var f=k(5592),o=k(7453),B=k(2459),Se=k(2737),me=k(7400),Ae=k(4564),de=k(2714),ae=k(8251),ve=k(7103);function $(...be){const ye=(0,Ae.yG)(be),De=(0,Ae.jO)(be),{args:xe,keys:Ye}=(0,o.D)(be);if(0===xe.length)return(0,B.D)([],ye);const We=new f.y(function z(be,ye,De=Se.y){return xe=>{oe(ye,()=>{const{length:Ye}=be,We=new Array(Ye);let mt=Ye,ke=Ye;for(let Oe=0;Oe<Ye;Oe++)oe(ye,()=>{const tt=(0,B.D)(be[Oe],ye);let Ge=!1;tt.subscribe((0,ae.x)(xe,Ze=>{We[Oe]=Ze,Ge||(Ge=!0,ke--),ke||xe.next(De(We.slice()))},()=>{--mt||xe.complete()}))},xe)},xe)}}(xe,ye,Ye?mt=>(0,de.n)(Ye,mt):Se.y));return De?We.pipe((0,me.Z)(De)):We}function oe(be,ye,De){be?(0,ve.f)(De,be,ye):ye()}},5211:(sn,lt,k)=>{"use strict";k.d(lt,{z:()=>me});var f=k(7537),B=k(4564),Se=k(2459);function me(...Ae){return function o(){return(0,f.J)(1)}()((0,Se.D)(Ae,(0,B.yG)(Ae)))}},6232:(sn,lt,k)=>{"use strict";k.d(lt,{E:()=>o});const o=new(k(5592).y)(me=>me.complete())},9315:(sn,lt,k)=>{"use strict";k.d(lt,{D:()=>ae});var f=k(5592),o=k(7453),B=k(4829),Se=k(4564),me=k(8251),Ae=k(7400),de=k(2714);function ae(...ve){const $=(0,Se.jO)(ve),{args:z,keys:oe}=(0,o.D)(ve),be=new f.y(ye=>{const{length:De}=z;if(!De)return void ye.complete();const xe=new Array(De);let Ye=De,We=De;for(let mt=0;mt<De;mt++){let ke=!1;(0,B.Xf)(z[mt]).subscribe((0,me.x)(ye,Oe=>{ke||(ke=!0,We--),xe[mt]=Oe},()=>Ye--,void 0,()=>{(!Ye||!ke)&&(We||ye.next(oe?(0,de.n)(oe,xe):xe),ye.complete())}))}});return $?be.pipe((0,Ae.Z)($)):be}},2459:(sn,lt,k)=>{"use strict";k.d(lt,{D:()=>tt});var f=k(4829),o=k(3093),B=k(5137),Ae=k(5592),ae=k(4971),ve=k(4674),$=k(7103);function oe(Ge,Ze){if(!Ge)throw new Error("Iterable cannot be null");return new Ae.y(dt=>{(0,$.f)(dt,Ze,()=>{const bt=Ge[Symbol.asyncIterator]();(0,$.f)(dt,Ze,()=>{bt.next().then(Ee=>{Ee.done?dt.complete():dt.next(Ee.value)})},0,!0)})})}var be=k(8382),ye=k(4026),De=k(4266),xe=k(3664),Ye=k(5726),We=k(9853),mt=k(541);function tt(Ge,Ze){return Ze?function Oe(Ge,Ze){if(null!=Ge){if((0,be.c)(Ge))return function Se(Ge,Ze){return(0,f.Xf)(Ge).pipe((0,B.R)(Ze),(0,o.Q)(Ze))}(Ge,Ze);if((0,De.z)(Ge))return function de(Ge,Ze){return new Ae.y(dt=>{let bt=0;return Ze.schedule(function(){bt===Ge.length?dt.complete():(dt.next(Ge[bt++]),dt.closed||this.schedule())})})}(Ge,Ze);if((0,ye.t)(Ge))return function me(Ge,Ze){return(0,f.Xf)(Ge).pipe((0,B.R)(Ze),(0,o.Q)(Ze))}(Ge,Ze);if((0,Ye.D)(Ge))return oe(Ge,Ze);if((0,xe.T)(Ge))return function z(Ge,Ze){return new Ae.y(dt=>{let bt;return(0,$.f)(dt,Ze,()=>{bt=Ge[ae.h](),(0,$.f)(dt,Ze,()=>{let Ee,Ot;try{({value:Ee,done:Ot}=bt.next())}catch(Vt){return void dt.error(Vt)}Ot?dt.complete():dt.next(Ee)},0,!0)}),()=>(0,ve.m)(bt?.return)&&bt.return()})}(Ge,Ze);if((0,mt.L)(Ge))return function ke(Ge,Ze){return oe((0,mt.Q)(Ge),Ze)}(Ge,Ze)}throw(0,We.z)(Ge)}(Ge,Ze):(0,f.Xf)(Ge)}},4829:(sn,lt,k)=>{"use strict";k.d(lt,{Xf:()=>be});var f=k(7582),o=k(4266),B=k(4026),Se=k(5592),me=k(8382),Ae=k(5726),de=k(9853),ae=k(3664),ve=k(541),$=k(4674),z=k(3894),oe=k(4850);function be(Oe){if(Oe instanceof Se.y)return Oe;if(null!=Oe){if((0,me.c)(Oe))return function ye(Oe){return new Se.y(tt=>{const Ge=Oe[oe.L]();if((0,$.m)(Ge.subscribe))return Ge.subscribe(tt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Oe);if((0,o.z)(Oe))return function De(Oe){return new Se.y(tt=>{for(let Ge=0;Ge<Oe.length&&!tt.closed;Ge++)tt.next(Oe[Ge]);tt.complete()})}(Oe);if((0,B.t)(Oe))return function xe(Oe){return new Se.y(tt=>{Oe.then(Ge=>{tt.closed||(tt.next(Ge),tt.complete())},Ge=>tt.error(Ge)).then(null,z.h)})}(Oe);if((0,Ae.D)(Oe))return We(Oe);if((0,ae.T)(Oe))return function Ye(Oe){return new Se.y(tt=>{for(const Ge of Oe)if(tt.next(Ge),tt.closed)return;tt.complete()})}(Oe);if((0,ve.L)(Oe))return function mt(Oe){return We((0,ve.Q)(Oe))}(Oe)}throw(0,de.z)(Oe)}function We(Oe){return new Se.y(tt=>{(function ke(Oe,tt){var Ge,Ze,dt,bt;return(0,f.mG)(this,void 0,void 0,function*(){try{for(Ge=(0,f.KL)(Oe);!(Ze=yield Ge.next()).done;)if(tt.next(Ze.value),tt.closed)return}catch(Ee){dt={error:Ee}}finally{try{Ze&&!Ze.done&&(bt=Ge.return)&&(yield bt.call(Ge))}finally{if(dt)throw dt.error}}tt.complete()})})(Oe,tt).catch(Ge=>tt.error(Ge))})}},3019:(sn,lt,k)=>{"use strict";k.d(lt,{T:()=>Ae});var f=k(7537),o=k(4829),B=k(6232),Se=k(4564),me=k(2459);function Ae(...de){const ae=(0,Se.yG)(de),ve=(0,Se._6)(de,1/0),$=de;return $.length?1===$.length?(0,o.Xf)($[0]):(0,f.J)(ve)((0,me.D)($,ae)):B.E}},2096:(sn,lt,k)=>{"use strict";k.d(lt,{of:()=>B});var f=k(4564),o=k(2459);function B(...Se){const me=(0,f.yG)(Se);return(0,o.D)(Se,me)}},8504:(sn,lt,k)=>{"use strict";k.d(lt,{_:()=>B});var f=k(5592),o=k(4674);function B(Se,me){const Ae=(0,o.m)(Se)?Se:()=>Se,de=ae=>ae.error(Ae());return new f.y(me?ae=>me.schedule(de,0,ae):de)}},8251:(sn,lt,k)=>{"use strict";k.d(lt,{x:()=>o});var f=k(305);function o(Se,me,Ae,de,ae){return new B(Se,me,Ae,de,ae)}class B extends f.Lv{constructor(me,Ae,de,ae,ve,$){super(me),this.onFinalize=ve,this.shouldUnsubscribe=$,this._next=Ae?function(z){try{Ae(z)}catch(oe){me.error(oe)}}:super._next,this._error=ae?function(z){try{ae(z)}catch(oe){me.error(oe)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(z){me.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ae}=this;super.unsubscribe(),!Ae&&(null===(me=this.onFinalize)||void 0===me||me.call(this))}}}},6306:(sn,lt,k)=>{"use strict";k.d(lt,{K:()=>Se});var f=k(4829),o=k(8251),B=k(9360);function Se(me){return(0,B.e)((Ae,de)=>{let $,ae=null,ve=!1;ae=Ae.subscribe((0,o.x)(de,void 0,void 0,z=>{$=(0,f.Xf)(me(z,Se(me)(Ae))),ae?(ae.unsubscribe(),ae=null,$.subscribe(de)):ve=!0})),ve&&(ae.unsubscribe(),ae=null,$.subscribe(de))})}},6328:(sn,lt,k)=>{"use strict";k.d(lt,{b:()=>B});var f=k(1631),o=k(4674);function B(Se,me){return(0,o.m)(me)?(0,f.z)(Se,me,1):(0,f.z)(Se,1)}},3620:(sn,lt,k)=>{"use strict";k.d(lt,{b:()=>Se});var f=k(6321),o=k(9360),B=k(8251);function Se(me,Ae=f.z){return(0,o.e)((de,ae)=>{let ve=null,$=null,z=null;const oe=()=>{if(ve){ve.unsubscribe(),ve=null;const ye=$;$=null,ae.next(ye)}};function be(){const ye=z+me,De=Ae.now();if(De<ye)return ve=this.schedule(void 0,ye-De),void ae.add(ve);oe()}de.subscribe((0,B.x)(ae,ye=>{$=ye,z=Ae.now(),ve||(ve=Ae.schedule(be,me),ae.add(ve))},()=>{oe(),ae.complete()},void 0,()=>{$=ve=null}))})}},3572:(sn,lt,k)=>{"use strict";k.d(lt,{d:()=>B});var f=k(9360),o=k(8251);function B(Se){return(0,f.e)((me,Ae)=>{let de=!1;me.subscribe((0,o.x)(Ae,ae=>{de=!0,Ae.next(ae)},()=>{de||Ae.next(Se),Ae.complete()}))})}},3997:(sn,lt,k)=>{"use strict";k.d(lt,{x:()=>Se});var f=k(2737),o=k(9360),B=k(8251);function Se(Ae,de=f.y){return Ae=Ae??me,(0,o.e)((ae,ve)=>{let $,z=!0;ae.subscribe((0,B.x)(ve,oe=>{const be=de(oe);(z||!Ae($,be))&&(z=!1,$=be,ve.next(oe))}))})}function me(Ae,de){return Ae===de}},2181:(sn,lt,k)=>{"use strict";k.d(lt,{h:()=>B});var f=k(9360),o=k(8251);function B(Se,me){return(0,f.e)((Ae,de)=>{let ae=0;Ae.subscribe((0,o.x)(de,ve=>Se.call(me,ve,ae++)&&de.next(ve)))})}},4716:(sn,lt,k)=>{"use strict";k.d(lt,{x:()=>o});var f=k(9360);function o(B){return(0,f.e)((Se,me)=>{try{Se.subscribe(me)}finally{me.add(B)}})}},1374:(sn,lt,k)=>{"use strict";k.d(lt,{P:()=>de});var f=k(6973),o=k(2181),B=k(8180),Se=k(3572),me=k(3026),Ae=k(2737);function de(ae,ve){const $=arguments.length>=2;return z=>z.pipe(ae?(0,o.h)((oe,be)=>ae(oe,be,z)):Ae.y,(0,B.q)(1),$?(0,Se.d)(ve):(0,me.T)(()=>new f.K))}},7398:(sn,lt,k)=>{"use strict";k.d(lt,{U:()=>B});var f=k(9360),o=k(8251);function B(Se,me){return(0,f.e)((Ae,de)=>{let ae=0;Ae.subscribe((0,o.x)(de,ve=>{de.next(Se.call(me,ve,ae++))}))})}},7537:(sn,lt,k)=>{"use strict";k.d(lt,{J:()=>B});var f=k(1631),o=k(2737);function B(Se=1/0){return(0,f.z)(o.y,Se)}},1631:(sn,lt,k)=>{"use strict";k.d(lt,{z:()=>ae});var f=k(7398),o=k(4829),B=k(9360),Se=k(7103),me=k(8251),de=k(4674);function ae(ve,$,z=1/0){return(0,de.m)($)?ae((oe,be)=>(0,f.U)((ye,De)=>$(oe,ye,be,De))((0,o.Xf)(ve(oe,be))),z):("number"==typeof $&&(z=$),(0,B.e)((oe,be)=>function Ae(ve,$,z,oe,be,ye,De,xe){const Ye=[];let We=0,mt=0,ke=!1;const Oe=()=>{ke&&!Ye.length&&!We&&$.complete()},tt=Ze=>We<oe?Ge(Ze):Ye.push(Ze),Ge=Ze=>{ye&&$.next(Ze),We++;let dt=!1;(0,o.Xf)(z(Ze,mt++)).subscribe((0,me.x)($,bt=>{be?.(bt),ye?tt(bt):$.next(bt)},()=>{dt=!0},void 0,()=>{if(dt)try{for(We--;Ye.length&&We<oe;){const bt=Ye.shift();De?(0,Se.f)($,De,()=>Ge(bt)):Ge(bt)}Oe()}catch(bt){$.error(bt)}}))};return ve.subscribe((0,me.x)($,tt,()=>{ke=!0,Oe()})),()=>{xe?.()}}(oe,be,ve,z)))}},3093:(sn,lt,k)=>{"use strict";k.d(lt,{Q:()=>Se});var f=k(7103),o=k(9360),B=k(8251);function Se(me,Ae=0){return(0,o.e)((de,ae)=>{de.subscribe((0,B.x)(ae,ve=>(0,f.f)(ae,me,()=>ae.next(ve),Ae),()=>(0,f.f)(ae,me,()=>ae.complete(),Ae),ve=>(0,f.f)(ae,me,()=>ae.error(ve),Ae)))})}},6699:(sn,lt,k)=>{"use strict";k.d(lt,{R:()=>Se});var f=k(9360),o=k(8251);function Se(me,Ae){return(0,f.e)(function B(me,Ae,de,ae,ve){return($,z)=>{let oe=de,be=Ae,ye=0;$.subscribe((0,o.x)(z,De=>{const xe=ye++;be=oe?me(be,De,xe):(oe=!0,De),ae&&z.next(be)},ve&&(()=>{oe&&z.next(be),z.complete()})))}}(me,Ae,arguments.length>=2,!0))}},3020:(sn,lt,k)=>{"use strict";k.d(lt,{B:()=>me});var f=k(4829),o=k(8645),B=k(305),Se=k(9360);function me(de={}){const{connector:ae=(()=>new o.x),resetOnError:ve=!0,resetOnComplete:$=!0,resetOnRefCountZero:z=!0}=de;return oe=>{let be,ye,De,xe=0,Ye=!1,We=!1;const mt=()=>{ye?.unsubscribe(),ye=void 0},ke=()=>{mt(),be=De=void 0,Ye=We=!1},Oe=()=>{const tt=be;ke(),tt?.unsubscribe()};return(0,Se.e)((tt,Ge)=>{xe++,!We&&!Ye&&mt();const Ze=De=De??ae();Ge.add(()=>{xe--,0===xe&&!We&&!Ye&&(ye=Ae(Oe,z))}),Ze.subscribe(Ge),!be&&xe>0&&(be=new B.Hp({next:dt=>Ze.next(dt),error:dt=>{We=!0,mt(),ye=Ae(ke,ve,dt),Ze.error(dt)},complete:()=>{Ye=!0,mt(),ye=Ae(ke,$),Ze.complete()}}),(0,f.Xf)(tt).subscribe(be))})(oe)}}function Ae(de,ae,...ve){if(!0===ae)return void de();if(!1===ae)return;const $=new B.Hp({next:()=>{$.unsubscribe(),de()}});return(0,f.Xf)(ae(...ve)).subscribe($)}},7921:(sn,lt,k)=>{"use strict";k.d(lt,{O:()=>Se});var f=k(5211),o=k(4564),B=k(9360);function Se(...me){const Ae=(0,o.yG)(me);return(0,B.e)((de,ae)=>{(Ae?(0,f.z)(me,de,Ae):(0,f.z)(me,de)).subscribe(ae)})}},5137:(sn,lt,k)=>{"use strict";k.d(lt,{R:()=>o});var f=k(9360);function o(B,Se=0){return(0,f.e)((me,Ae)=>{Ae.add(B.schedule(()=>me.subscribe(Ae),Se))})}},4664:(sn,lt,k)=>{"use strict";k.d(lt,{w:()=>Se});var f=k(4829),o=k(9360),B=k(8251);function Se(me,Ae){return(0,o.e)((de,ae)=>{let ve=null,$=0,z=!1;const oe=()=>z&&!ve&&ae.complete();de.subscribe((0,B.x)(ae,be=>{ve?.unsubscribe();let ye=0;const De=$++;(0,f.Xf)(me(be,De)).subscribe(ve=(0,B.x)(ae,xe=>ae.next(Ae?Ae(be,xe,De,ye++):xe),()=>{ve=null,oe()}))},()=>{z=!0,oe()}))})}},8180:(sn,lt,k)=>{"use strict";k.d(lt,{q:()=>Se});var f=k(6232),o=k(9360),B=k(8251);function Se(me){return me<=0?()=>f.E:(0,o.e)((Ae,de)=>{let ae=0;Ae.subscribe((0,B.x)(de,ve=>{++ae<=me&&(de.next(ve),me<=ae&&de.complete())}))})}},9773:(sn,lt,k)=>{"use strict";k.d(lt,{R:()=>me});var f=k(9360),o=k(8251),B=k(4829),Se=k(2420);function me(Ae){return(0,f.e)((de,ae)=>{(0,B.Xf)(Ae).subscribe((0,o.x)(ae,()=>ae.complete(),Se.Z)),!ae.closed&&de.subscribe(ae)})}},9397:(sn,lt,k)=>{"use strict";k.d(lt,{b:()=>me});var f=k(4674),o=k(9360),B=k(8251),Se=k(2737);function me(Ae,de,ae){const ve=(0,f.m)(Ae)||de||ae?{next:Ae,error:de,complete:ae}:Ae;return ve?(0,o.e)(($,z)=>{var oe;null===(oe=ve.subscribe)||void 0===oe||oe.call(ve);let be=!0;$.subscribe((0,B.x)(z,ye=>{var De;null===(De=ve.next)||void 0===De||De.call(ve,ye),z.next(ye)},()=>{var ye;be=!1,null===(ye=ve.complete)||void 0===ye||ye.call(ve),z.complete()},ye=>{var De;be=!1,null===(De=ve.error)||void 0===De||De.call(ve,ye),z.error(ye)},()=>{var ye,De;be&&(null===(ye=ve.unsubscribe)||void 0===ye||ye.call(ve)),null===(De=ve.finalize)||void 0===De||De.call(ve)}))}):Se.y}},3026:(sn,lt,k)=>{"use strict";k.d(lt,{T:()=>Se});var f=k(6973),o=k(9360),B=k(8251);function Se(Ae=me){return(0,o.e)((de,ae)=>{let ve=!1;de.subscribe((0,B.x)(ae,$=>{ve=!0,ae.next($)},()=>ve?ae.complete():ae.error(Ae())))})}function me(){return new f.K}},1954:(sn,lt,k)=>{"use strict";k.d(lt,{o:()=>me});var f=k(7394);class o extends f.w0{constructor(de,ae){super()}schedule(de,ae=0){return this}}const B={setInterval(Ae,de,...ae){const{delegate:ve}=B;return ve?.setInterval?ve.setInterval(Ae,de,...ae):setInterval(Ae,de,...ae)},clearInterval(Ae){const{delegate:de}=B;return(de?.clearInterval||clearInterval)(Ae)},delegate:void 0};var Se=k(9039);class me extends o{constructor(de,ae){super(de,ae),this.scheduler=de,this.work=ae,this.pending=!1}schedule(de,ae=0){var ve;if(this.closed)return this;this.state=de;const $=this.id,z=this.scheduler;return null!=$&&(this.id=this.recycleAsyncId(z,$,ae)),this.pending=!0,this.delay=ae,this.id=null!==(ve=this.id)&&void 0!==ve?ve:this.requestAsyncId(z,this.id,ae),this}requestAsyncId(de,ae,ve=0){return B.setInterval(de.flush.bind(de,this),ve)}recycleAsyncId(de,ae,ve=0){if(null!=ve&&this.delay===ve&&!1===this.pending)return ae;null!=ae&&B.clearInterval(ae)}execute(de,ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ve=this._execute(de,ae);if(ve)return ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,ae){let $,ve=!1;try{this.work(de)}catch(z){ve=!0,$=z||new Error("Scheduled action threw falsy error")}if(ve)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:de,scheduler:ae}=this,{actions:ve}=ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Se.P)(ve,this),null!=de&&(this.id=this.recycleAsyncId(ae,de,null)),this.delay=null,super.unsubscribe()}}}},2631:(sn,lt,k)=>{"use strict";k.d(lt,{v:()=>B});var f=k(4552);class o{constructor(me,Ae=o.now){this.schedulerActionCtor=me,this.now=Ae}schedule(me,Ae=0,de){return new this.schedulerActionCtor(this,me).schedule(de,Ae)}}o.now=f.l.now;class B extends o{constructor(me,Ae=o.now){super(me,Ae),this.actions=[],this._active=!1}flush(me){const{actions:Ae}=this;if(this._active)return void Ae.push(me);let de;this._active=!0;do{if(de=me.execute(me.state,me.delay))break}while(me=Ae.shift());if(this._active=!1,de){for(;me=Ae.shift();)me.unsubscribe();throw de}}}},6321:(sn,lt,k)=>{"use strict";k.d(lt,{z:()=>B});var f=k(1954);const B=new(k(2631).v)(f.o)},4552:(sn,lt,k)=>{"use strict";k.d(lt,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},7599:(sn,lt,k)=>{"use strict";k.d(lt,{z:()=>f});const f={setTimeout(o,B,...Se){const{delegate:me}=f;return me?.setTimeout?me.setTimeout(o,B,...Se):setTimeout(o,B,...Se)},clearTimeout(o){const{delegate:B}=f;return(B?.clearTimeout||clearTimeout)(o)},delegate:void 0}},4971:(sn,lt,k)=>{"use strict";k.d(lt,{h:()=>o});const o=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(sn,lt,k)=>{"use strict";k.d(lt,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(sn,lt,k)=>{"use strict";k.d(lt,{K:()=>o});const o=(0,k(2306).d)(B=>function(){B(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(sn,lt,k)=>{"use strict";k.d(lt,{_6:()=>Ae,jO:()=>Se,yG:()=>me});var f=k(4674);function B(de){return de[de.length-1]}function Se(de){return(0,f.m)(B(de))?de.pop():void 0}function me(de){return function o(de){return de&&(0,f.m)(de.schedule)}(B(de))?de.pop():void 0}function Ae(de,ae){return"number"==typeof B(de)?de.pop():ae}},7453:(sn,lt,k)=>{"use strict";k.d(lt,{D:()=>me});const{isArray:f}=Array,{getPrototypeOf:o,prototype:B,keys:Se}=Object;function me(de){if(1===de.length){const ae=de[0];if(f(ae))return{args:ae,keys:null};if(function Ae(de){return de&&"object"==typeof de&&o(de)===B}(ae)){const ve=Se(ae);return{args:ve.map($=>ae[$]),keys:ve}}}return{args:de,keys:null}}},9039:(sn,lt,k)=>{"use strict";function f(o,B){if(o){const Se=o.indexOf(B);0<=Se&&o.splice(Se,1)}}k.d(lt,{P:()=>f})},2306:(sn,lt,k)=>{"use strict";function f(o){const Se=o(me=>{Error.call(me),me.stack=(new Error).stack});return Se.prototype=Object.create(Error.prototype),Se.prototype.constructor=Se,Se}k.d(lt,{d:()=>f})},2714:(sn,lt,k)=>{"use strict";function f(o,B){return o.reduce((Se,me,Ae)=>(Se[me]=B[Ae],Se),{})}k.d(lt,{n:()=>f})},1441:(sn,lt,k)=>{"use strict";k.d(lt,{O:()=>Se,x:()=>B});var f=k(2653);let o=null;function B(me){if(f.config.useDeprecatedSynchronousErrorHandling){const Ae=!o;if(Ae&&(o={errorThrown:!1,error:null}),me(),Ae){const{errorThrown:de,error:ae}=o;if(o=null,de)throw ae}}else me()}function Se(me){f.config.useDeprecatedSynchronousErrorHandling&&o&&(o.errorThrown=!0,o.error=me)}},7103:(sn,lt,k)=>{"use strict";function f(o,B,Se,me=0,Ae=!1){const de=B.schedule(function(){Se(),Ae?o.add(this.schedule(null,me)):this.unsubscribe()},me);if(o.add(de),!Ae)return de}k.d(lt,{f:()=>f})},2737:(sn,lt,k)=>{"use strict";function f(o){return o}k.d(lt,{y:()=>f})},4266:(sn,lt,k)=>{"use strict";k.d(lt,{z:()=>f});const f=o=>o&&"number"==typeof o.length&&"function"!=typeof o},5726:(sn,lt,k)=>{"use strict";k.d(lt,{D:()=>o});var f=k(4674);function o(B){return Symbol.asyncIterator&&(0,f.m)(B?.[Symbol.asyncIterator])}},4674:(sn,lt,k)=>{"use strict";function f(o){return"function"==typeof o}k.d(lt,{m:()=>f})},8382:(sn,lt,k)=>{"use strict";k.d(lt,{c:()=>B});var f=k(4850),o=k(4674);function B(Se){return(0,o.m)(Se[f.L])}},3664:(sn,lt,k)=>{"use strict";k.d(lt,{T:()=>B});var f=k(4971),o=k(4674);function B(Se){return(0,o.m)(Se?.[f.h])}},4026:(sn,lt,k)=>{"use strict";k.d(lt,{t:()=>o});var f=k(4674);function o(B){return(0,f.m)(B?.then)}},541:(sn,lt,k)=>{"use strict";k.d(lt,{L:()=>Se,Q:()=>B});var f=k(7582),o=k(4674);function B(me){return(0,f.FC)(this,arguments,function*(){const de=me.getReader();try{for(;;){const{value:ae,done:ve}=yield(0,f.qq)(de.read());if(ve)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(ae)}}finally{de.releaseLock()}})}function Se(me){return(0,o.m)(me?.getReader)}},9360:(sn,lt,k)=>{"use strict";k.d(lt,{A:()=>o,e:()=>B});var f=k(4674);function o(Se){return(0,f.m)(Se?.lift)}function B(Se){return me=>{if(o(me))return me.lift(function(Ae){try{return Se(Ae,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(sn,lt,k)=>{"use strict";k.d(lt,{Z:()=>Se});var f=k(7398);const{isArray:o}=Array;function Se(me){return(0,f.U)(Ae=>function B(me,Ae){return o(Ae)?me(...Ae):me(Ae)}(me,Ae))}},2420:(sn,lt,k)=>{"use strict";function f(){}k.d(lt,{Z:()=>f})},8407:(sn,lt,k)=>{"use strict";k.d(lt,{U:()=>B,z:()=>o});var f=k(2737);function o(...Se){return B(Se)}function B(Se){return 0===Se.length?f.y:1===Se.length?Se[0]:function(Ae){return Se.reduce((de,ae)=>ae(de),Ae)}}},3894:(sn,lt,k)=>{"use strict";k.d(lt,{h:()=>B});var f=k(2653),o=k(7599);function B(Se){o.z.setTimeout(()=>{const{onUnhandledError:me}=f.config;if(!me)throw Se;me(Se)})}},9853:(sn,lt,k)=>{"use strict";function f(o){return new TypeError(`You provided ${null!==o&&"object"==typeof o?"an invalid object":`'${o}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(lt,{z:()=>f})},6814:(sn,lt,k)=>{"use strict";k.d(lt,{Do:()=>xe,EM:()=>$e,HT:()=>Se,JF:()=>Mn,K0:()=>Ae,Mx:()=>Vn,NF:()=>Ds,O5:()=>cs,Ov:()=>Ei,PM:()=>ci,S$:()=>be,Ts:()=>es,V_:()=>ae,Ye:()=>Ye,b0:()=>De,bD:()=>oi,ez:()=>ws,mk:()=>Gn,q:()=>B,sg:()=>dr,uU:()=>si,w_:()=>me});var f=k(5879);let o=null;function B(){return o}function Se(R){o||(o=R)}class me{}const Ae=new f.OlP("DocumentToken");let de=(()=>{class R{historyGo(j){throw new Error("Not implemented")}static#e=this.\u0275fac=function(ne){return new(ne||R)};static#t=this.\u0275prov=f.Yz7({token:R,factory:function(){return(0,f.f3M)(ve)},providedIn:"platform"})}return R})();const ae=new f.OlP("Location Initialized");let ve=(()=>{class R extends de{constructor(){super(),this._doc=(0,f.f3M)(Ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(j){const ne=B().getGlobalEventTarget(this._doc,"window");return ne.addEventListener("popstate",j,!1),()=>ne.removeEventListener("popstate",j)}onHashChange(j){const ne=B().getGlobalEventTarget(this._doc,"window");return ne.addEventListener("hashchange",j,!1),()=>ne.removeEventListener("hashchange",j)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(j){this._location.pathname=j}pushState(j,ne,Ue){this._history.pushState(j,ne,Ue)}replaceState(j,ne,Ue){this._history.replaceState(j,ne,Ue)}forward(){this._history.forward()}back(){this._history.back()}historyGo(j=0){this._history.go(j)}getState(){return this._history.state}static#e=this.\u0275fac=function(ne){return new(ne||R)};static#t=this.\u0275prov=f.Yz7({token:R,factory:function(){return new R},providedIn:"platform"})}return R})();function $(R,se){if(0==R.length)return se;if(0==se.length)return R;let j=0;return R.endsWith("/")&&j++,se.startsWith("/")&&j++,2==j?R+se.substring(1):1==j?R+se:R+"/"+se}function z(R){const se=R.match(/#|\?|$/),j=se&&se.index||R.length;return R.slice(0,j-("/"===R[j-1]?1:0))+R.slice(j)}function oe(R){return R&&"?"!==R[0]?"?"+R:R}let be=(()=>{class R{historyGo(j){throw new Error("Not implemented")}static#e=this.\u0275fac=function(ne){return new(ne||R)};static#t=this.\u0275prov=f.Yz7({token:R,factory:function(){return(0,f.f3M)(De)},providedIn:"root"})}return R})();const ye=new f.OlP("appBaseHref");let De=(()=>{class R extends be{constructor(j,ne){super(),this._platformLocation=j,this._removeListenerFns=[],this._baseHref=ne??this._platformLocation.getBaseHrefFromDOM()??(0,f.f3M)(Ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}prepareExternalUrl(j){return $(this._baseHref,j)}path(j=!1){const ne=this._platformLocation.pathname+oe(this._platformLocation.search),Ue=this._platformLocation.hash;return Ue&&j?`${ne}${Ue}`:ne}pushState(j,ne,Ue,xt){const Ht=this.prepareExternalUrl(Ue+oe(xt));this._platformLocation.pushState(j,ne,Ht)}replaceState(j,ne,Ue,xt){const Ht=this.prepareExternalUrl(Ue+oe(xt));this._platformLocation.replaceState(j,ne,Ht)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static#e=this.\u0275fac=function(ne){return new(ne||R)(f.LFG(de),f.LFG(ye,8))};static#t=this.\u0275prov=f.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"})}return R})(),xe=(()=>{class R extends be{constructor(j,ne){super(),this._platformLocation=j,this._baseHref="",this._removeListenerFns=[],null!=ne&&(this._baseHref=ne)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){let ne=this._platformLocation.hash;return null==ne&&(ne="#"),ne.length>0?ne.substring(1):ne}prepareExternalUrl(j){const ne=$(this._baseHref,j);return ne.length>0?"#"+ne:ne}pushState(j,ne,Ue,xt){let Ht=this.prepareExternalUrl(Ue+oe(xt));0==Ht.length&&(Ht=this._platformLocation.pathname),this._platformLocation.pushState(j,ne,Ht)}replaceState(j,ne,Ue,xt){let Ht=this.prepareExternalUrl(Ue+oe(xt));0==Ht.length&&(Ht=this._platformLocation.pathname),this._platformLocation.replaceState(j,ne,Ht)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static#e=this.\u0275fac=function(ne){return new(ne||R)(f.LFG(de),f.LFG(ye,8))};static#t=this.\u0275prov=f.Yz7({token:R,factory:R.\u0275fac})}return R})(),Ye=(()=>{class R{constructor(j){this._subject=new f.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=j;const ne=this._locationStrategy.getBaseHref();this._basePath=function Oe(R){if(new RegExp("^(https?:)?//").test(R)){const[,j]=R.split(/\/\/[^\/]+/);return j}return R}(z(ke(ne))),this._locationStrategy.onPopState(Ue=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ue.state,type:Ue.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(j=!1){return this.normalize(this._locationStrategy.path(j))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(j,ne=""){return this.path()==this.normalize(j+oe(ne))}normalize(j){return R.stripTrailingSlash(function mt(R,se){if(!R||!se.startsWith(R))return se;const j=se.substring(R.length);return""===j||["/",";","?","#"].includes(j[0])?j:se}(this._basePath,ke(j)))}prepareExternalUrl(j){return j&&"/"!==j[0]&&(j="/"+j),this._locationStrategy.prepareExternalUrl(j)}go(j,ne="",Ue=null){this._locationStrategy.pushState(Ue,"",j,ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+oe(ne)),Ue)}replaceState(j,ne="",Ue=null){this._locationStrategy.replaceState(Ue,"",j,ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+oe(ne)),Ue)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(j=0){this._locationStrategy.historyGo?.(j)}onUrlChange(j){return this._urlChangeListeners.push(j),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ne=>{this._notifyUrlChangeListeners(ne.url,ne.state)})),()=>{const ne=this._urlChangeListeners.indexOf(j);this._urlChangeListeners.splice(ne,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(j="",ne){this._urlChangeListeners.forEach(Ue=>Ue(j,ne))}subscribe(j,ne,Ue){return this._subject.subscribe({next:j,error:ne,complete:Ue})}static#e=this.normalizeQueryParams=oe;static#t=this.joinWithSlash=$;static#n=this.stripTrailingSlash=z;static#r=this.\u0275fac=function(ne){return new(ne||R)(f.LFG(be))};static#i=this.\u0275prov=f.Yz7({token:R,factory:function(){return function We(){return new Ye((0,f.LFG)(be))}()},providedIn:"root"})}return R})();function ke(R){return R.replace(/\/index.html$/,"")}var dt=function(R){return R[R.Format=0]="Format",R[R.Standalone=1]="Standalone",R}(dt||{}),bt=function(R){return R[R.Narrow=0]="Narrow",R[R.Abbreviated=1]="Abbreviated",R[R.Wide=2]="Wide",R[R.Short=3]="Short",R}(bt||{}),Ee=function(R){return R[R.Short=0]="Short",R[R.Medium=1]="Medium",R[R.Long=2]="Long",R[R.Full=3]="Full",R}(Ee||{}),Ot=function(R){return R[R.Decimal=0]="Decimal",R[R.Group=1]="Group",R[R.List=2]="List",R[R.PercentSign=3]="PercentSign",R[R.PlusSign=4]="PlusSign",R[R.MinusSign=5]="MinusSign",R[R.Exponential=6]="Exponential",R[R.SuperscriptingExponent=7]="SuperscriptingExponent",R[R.PerMille=8]="PerMille",R[R.Infinity=9]="Infinity",R[R.NaN=10]="NaN",R[R.TimeSeparator=11]="TimeSeparator",R[R.CurrencyDecimal=12]="CurrencyDecimal",R[R.CurrencyGroup=13]="CurrencyGroup",R}(Ot||{});function Ie(R,se){return mr((0,f.cg1)(R)[f.wAp.DateFormat],se)}function Pe(R,se){return mr((0,f.cg1)(R)[f.wAp.TimeFormat],se)}function je(R,se){return mr((0,f.cg1)(R)[f.wAp.DateTimeFormat],se)}function it(R,se){const j=(0,f.cg1)(R),ne=j[f.wAp.NumberSymbols][se];if(typeof ne>"u"){if(se===Ot.CurrencyDecimal)return j[f.wAp.NumberSymbols][Ot.Decimal];if(se===Ot.CurrencyGroup)return j[f.wAp.NumberSymbols][Ot.Group]}return ne}function Rn(R){if(!R[f.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${R[f.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function mr(R,se){for(let j=se;j>-1;j--)if(typeof R[j]<"u")return R[j];throw new Error("Locale data API: locale data undefined")}function Jn(R){const[se,j]=R.split(":");return{hours:+se,minutes:+j}}const Pr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,sr={},Yt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var In=function(R){return R[R.Short=0]="Short",R[R.ShortGMT=1]="ShortGMT",R[R.Long=2]="Long",R[R.Extended=3]="Extended",R}(In||{}),Bn=function(R){return R[R.FullYear=0]="FullYear",R[R.Month=1]="Month",R[R.Date=2]="Date",R[R.Hours=3]="Hours",R[R.Minutes=4]="Minutes",R[R.Seconds=5]="Seconds",R[R.FractionalSeconds=6]="FractionalSeconds",R[R.Day=7]="Day",R}(Bn||{}),zn=function(R){return R[R.DayPeriods=0]="DayPeriods",R[R.Days=1]="Days",R[R.Months=2]="Months",R[R.Eras=3]="Eras",R}(zn||{});function Er(R,se,j,ne){let Ue=function ce(R){if(H(R))return R;if("number"==typeof R&&!isNaN(R))return new Date(R);if("string"==typeof R){if(R=R.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(R)){const[Ue,xt=1,Ht=1]=R.split("-").map(Pn=>+Pn);return br(Ue,xt-1,Ht)}const j=parseFloat(R);if(!isNaN(R-j))return new Date(j);let ne;if(ne=R.match(Pr))return function K(R){const se=new Date(0);let j=0,ne=0;const Ue=R[8]?se.setUTCFullYear:se.setFullYear,xt=R[8]?se.setUTCHours:se.setHours;R[9]&&(j=Number(R[9]+R[10]),ne=Number(R[9]+R[11])),Ue.call(se,Number(R[1]),Number(R[2])-1,Number(R[3]));const Ht=Number(R[4]||0)-j,Pn=Number(R[5]||0)-ne,Fr=Number(R[6]||0),li=Math.floor(1e3*parseFloat("0."+(R[7]||0)));return xt.call(se,Ht,Pn,Fr,li),se}(ne)}const se=new Date(R);if(!H(se))throw new Error(`Unable to convert "${R}" into a date`);return se}(R);se=qn(j,se)||se;let Pn,Ht=[];for(;se;){if(Pn=Yt.exec(se),!Pn){Ht.push(se);break}{Ht=Ht.concat(Pn.slice(1));const ti=Ht.pop();if(!ti)break;se=ti}}let Fr=Ue.getTimezoneOffset();ne&&(Fr=hi(ne,Fr),Ue=function qe(R,se,j){const ne=j?-1:1,Ue=R.getTimezoneOffset();return function Cr(R,se){return(R=new Date(R.getTime())).setMinutes(R.getMinutes()+se),R}(R,ne*(hi(se,Ue)-Ue))}(Ue,ne,!0));let li="";return Ht.forEach(ti=>{const Ar=function $n(R){if(en[R])return en[R];let se;switch(R){case"G":case"GG":case"GGG":se=ar(zn.Eras,bt.Abbreviated);break;case"GGGG":se=ar(zn.Eras,bt.Wide);break;case"GGGGG":se=ar(zn.Eras,bt.Narrow);break;case"y":se=gn(Bn.FullYear,1,0,!1,!0);break;case"yy":se=gn(Bn.FullYear,2,0,!0,!0);break;case"yyy":se=gn(Bn.FullYear,3,0,!1,!0);break;case"yyyy":se=gn(Bn.FullYear,4,0,!1,!0);break;case"Y":se=Mt(1);break;case"YY":se=Mt(2,!0);break;case"YYY":se=Mt(3);break;case"YYYY":se=Mt(4);break;case"M":case"L":se=gn(Bn.Month,1,1);break;case"MM":case"LL":se=gn(Bn.Month,2,1);break;case"MMM":se=ar(zn.Months,bt.Abbreviated);break;case"MMMM":se=ar(zn.Months,bt.Wide);break;case"MMMMM":se=ar(zn.Months,bt.Narrow);break;case"LLL":se=ar(zn.Months,bt.Abbreviated,dt.Standalone);break;case"LLLL":se=ar(zn.Months,bt.Wide,dt.Standalone);break;case"LLLLL":se=ar(zn.Months,bt.Narrow,dt.Standalone);break;case"w":se=Be(1);break;case"ww":se=Be(2);break;case"W":se=Be(1,!0);break;case"d":se=gn(Bn.Date,1);break;case"dd":se=gn(Bn.Date,2);break;case"c":case"cc":se=gn(Bn.Day,1);break;case"ccc":se=ar(zn.Days,bt.Abbreviated,dt.Standalone);break;case"cccc":se=ar(zn.Days,bt.Wide,dt.Standalone);break;case"ccccc":se=ar(zn.Days,bt.Narrow,dt.Standalone);break;case"cccccc":se=ar(zn.Days,bt.Short,dt.Standalone);break;case"E":case"EE":case"EEE":se=ar(zn.Days,bt.Abbreviated);break;case"EEEE":se=ar(zn.Days,bt.Wide);break;case"EEEEE":se=ar(zn.Days,bt.Narrow);break;case"EEEEEE":se=ar(zn.Days,bt.Short);break;case"a":case"aa":case"aaa":se=ar(zn.DayPeriods,bt.Abbreviated);break;case"aaaa":se=ar(zn.DayPeriods,bt.Wide);break;case"aaaaa":se=ar(zn.DayPeriods,bt.Narrow);break;case"b":case"bb":case"bbb":se=ar(zn.DayPeriods,bt.Abbreviated,dt.Standalone,!0);break;case"bbbb":se=ar(zn.DayPeriods,bt.Wide,dt.Standalone,!0);break;case"bbbbb":se=ar(zn.DayPeriods,bt.Narrow,dt.Standalone,!0);break;case"B":case"BB":case"BBB":se=ar(zn.DayPeriods,bt.Abbreviated,dt.Format,!0);break;case"BBBB":se=ar(zn.DayPeriods,bt.Wide,dt.Format,!0);break;case"BBBBB":se=ar(zn.DayPeriods,bt.Narrow,dt.Format,!0);break;case"h":se=gn(Bn.Hours,1,-12);break;case"hh":se=gn(Bn.Hours,2,-12);break;case"H":se=gn(Bn.Hours,1);break;case"HH":se=gn(Bn.Hours,2);break;case"m":se=gn(Bn.Minutes,1);break;case"mm":se=gn(Bn.Minutes,2);break;case"s":se=gn(Bn.Seconds,1);break;case"ss":se=gn(Bn.Seconds,2);break;case"S":se=gn(Bn.FractionalSeconds,1);break;case"SS":se=gn(Bn.FractionalSeconds,2);break;case"SSS":se=gn(Bn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":se=Dr(In.Short);break;case"ZZZZZ":se=Dr(In.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":se=Dr(In.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":se=Dr(In.Long);break;default:return null}return en[R]=se,se}(ti);li+=Ar?Ar(Ue,j,Fr):"''"===ti?"'":ti.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),li}function br(R,se,j){const ne=new Date(0);return ne.setFullYear(R,se,j),ne.setHours(0,0,0),ne}function qn(R,se){const j=function Sn(R){return(0,f.cg1)(R)[f.wAp.LocaleId]}(R);if(sr[j]=sr[j]||{},sr[j][se])return sr[j][se];let ne="";switch(se){case"shortDate":ne=Ie(R,Ee.Short);break;case"mediumDate":ne=Ie(R,Ee.Medium);break;case"longDate":ne=Ie(R,Ee.Long);break;case"fullDate":ne=Ie(R,Ee.Full);break;case"shortTime":ne=Pe(R,Ee.Short);break;case"mediumTime":ne=Pe(R,Ee.Medium);break;case"longTime":ne=Pe(R,Ee.Long);break;case"fullTime":ne=Pe(R,Ee.Full);break;case"short":const Ue=qn(R,"shortTime"),xt=qn(R,"shortDate");ne=Kn(je(R,Ee.Short),[Ue,xt]);break;case"medium":const Ht=qn(R,"mediumTime"),Pn=qn(R,"mediumDate");ne=Kn(je(R,Ee.Medium),[Ht,Pn]);break;case"long":const Fr=qn(R,"longTime"),li=qn(R,"longDate");ne=Kn(je(R,Ee.Long),[Fr,li]);break;case"full":const ti=qn(R,"fullTime"),Ar=qn(R,"fullDate");ne=Kn(je(R,Ee.Full),[ti,Ar])}return ne&&(sr[j][se]=ne),ne}function Kn(R,se){return se&&(R=R.replace(/\{([^}]+)}/g,function(j,ne){return null!=se&&ne in se?se[ne]:j})),R}function Yr(R,se,j="-",ne,Ue){let xt="";(R<0||Ue&&R<=0)&&(Ue?R=1-R:(R=-R,xt=j));let Ht=String(R);for(;Ht.length<se;)Ht="0"+Ht;return ne&&(Ht=Ht.slice(Ht.length-se)),xt+Ht}function gn(R,se,j=0,ne=!1,Ue=!1){return function(xt,Ht){let Pn=function Ur(R,se){switch(R){case Bn.FullYear:return se.getFullYear();case Bn.Month:return se.getMonth();case Bn.Date:return se.getDate();case Bn.Hours:return se.getHours();case Bn.Minutes:return se.getMinutes();case Bn.Seconds:return se.getSeconds();case Bn.FractionalSeconds:return se.getMilliseconds();case Bn.Day:return se.getDay();default:throw new Error(`Unknown DateType value "${R}".`)}}(R,xt);if((j>0||Pn>-j)&&(Pn+=j),R===Bn.Hours)0===Pn&&-12===j&&(Pn=12);else if(R===Bn.FractionalSeconds)return function yi(R,se){return Yr(R,3).substring(0,se)}(Pn,se);const Fr=it(Ht,Ot.MinusSign);return Yr(Pn,se,Fr,ne,Ue)}}function ar(R,se,j=dt.Format,ne=!1){return function(Ue,xt){return function Rr(R,se,j,ne,Ue,xt){switch(j){case zn.Months:return function ut(R,se,j){const ne=(0,f.cg1)(R),xt=mr([ne[f.wAp.MonthsFormat],ne[f.wAp.MonthsStandalone]],se);return mr(xt,j)}(se,Ue,ne)[R.getMonth()];case zn.Days:return function Ke(R,se,j){const ne=(0,f.cg1)(R),xt=mr([ne[f.wAp.DaysFormat],ne[f.wAp.DaysStandalone]],se);return mr(xt,j)}(se,Ue,ne)[R.getDay()];case zn.DayPeriods:const Ht=R.getHours(),Pn=R.getMinutes();if(xt){const li=function Nn(R){const se=(0,f.cg1)(R);return Rn(se),(se[f.wAp.ExtraData][2]||[]).map(ne=>"string"==typeof ne?Jn(ne):[Jn(ne[0]),Jn(ne[1])])}(se),ti=function rn(R,se,j){const ne=(0,f.cg1)(R);Rn(ne);const xt=mr([ne[f.wAp.ExtraData][0],ne[f.wAp.ExtraData][1]],se)||[];return mr(xt,j)||[]}(se,Ue,ne),Ar=li.findIndex(pi=>{if(Array.isArray(pi)){const[Qr,Gi]=pi,Ss=Ht>=Qr.hours&&Pn>=Qr.minutes,vs=Ht<Gi.hours||Ht===Gi.hours&&Pn<Gi.minutes;if(Qr.hours<Gi.hours){if(Ss&&vs)return!0}else if(Ss||vs)return!0}else if(pi.hours===Ht&&pi.minutes===Pn)return!0;return!1});if(-1!==Ar)return ti[Ar]}return function Tt(R,se,j){const ne=(0,f.cg1)(R),xt=mr([ne[f.wAp.DayPeriodsFormat],ne[f.wAp.DayPeriodsStandalone]],se);return mr(xt,j)}(se,Ue,ne)[Ht<12?0:1];case zn.Eras:return function Fe(R,se){return mr((0,f.cg1)(R)[f.wAp.Eras],se)}(se,ne)[R.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${j}`)}}(Ue,xt,R,se,j,ne)}}function Dr(R){return function(se,j,ne){const Ue=-1*ne,xt=it(j,Ot.MinusSign),Ht=Ue>0?Math.floor(Ue/60):Math.ceil(Ue/60);switch(R){case In.Short:return(Ue>=0?"+":"")+Yr(Ht,2,xt)+Yr(Math.abs(Ue%60),2,xt);case In.ShortGMT:return"GMT"+(Ue>=0?"+":"")+Yr(Ht,1,xt);case In.Long:return"GMT"+(Ue>=0?"+":"")+Yr(Ht,2,xt)+":"+Yr(Math.abs(Ue%60),2,xt);case In.Extended:return 0===ne?"Z":(Ue>=0?"+":"")+Yr(Ht,2,xt)+":"+Yr(Math.abs(Ue%60),2,xt);default:throw new Error(`Unknown zone width "${R}"`)}}}const ri=0,at=4;function ue(R){return br(R.getFullYear(),R.getMonth(),R.getDate()+(at-R.getDay()))}function Be(R,se=!1){return function(j,ne){let Ue;if(se){const xt=new Date(j.getFullYear(),j.getMonth(),1).getDay()-1,Ht=j.getDate();Ue=1+Math.floor((Ht+xt)/7)}else{const xt=ue(j),Ht=function wt(R){const se=br(R,ri,1).getDay();return br(R,0,1+(se<=at?at:at+7)-se)}(xt.getFullYear()),Pn=xt.getTime()-Ht.getTime();Ue=1+Math.round(Pn/6048e5)}return Yr(Ue,R,it(ne,Ot.MinusSign))}}function Mt(R,se=!1){return function(j,ne){return Yr(ue(j).getFullYear(),R,it(ne,Ot.MinusSign),se)}}const en={};function hi(R,se){R=R.replace(/:/g,"");const j=Date.parse("Jan 01, 1970 00:00:00 "+R)/6e4;return isNaN(j)?se:j}function H(R){return R instanceof Date&&!isNaN(R.valueOf())}function Vn(R,se){se=encodeURIComponent(se);for(const j of R.split(";")){const ne=j.indexOf("="),[Ue,xt]=-1==ne?[j,""]:[j.slice(0,ne),j.slice(ne+1)];if(Ue.trim()===se)return decodeURIComponent(xt)}return null}const Un=/\s+/,vn=[];let Gn=(()=>{class R{constructor(j,ne,Ue,xt){this._iterableDiffers=j,this._keyValueDiffers=ne,this._ngEl=Ue,this._renderer=xt,this.initialClasses=vn,this.stateMap=new Map}set klass(j){this.initialClasses=null!=j?j.trim().split(Un):vn}set ngClass(j){this.rawClass="string"==typeof j?j.trim().split(Un):j}ngDoCheck(){for(const ne of this.initialClasses)this._updateState(ne,!0);const j=this.rawClass;if(Array.isArray(j)||j instanceof Set)for(const ne of j)this._updateState(ne,!0);else if(null!=j)for(const ne of Object.keys(j))this._updateState(ne,!!j[ne]);this._applyStateDiff()}_updateState(j,ne){const Ue=this.stateMap.get(j);void 0!==Ue?(Ue.enabled!==ne&&(Ue.changed=!0,Ue.enabled=ne),Ue.touched=!0):this.stateMap.set(j,{enabled:ne,changed:!0,touched:!0})}_applyStateDiff(){for(const j of this.stateMap){const ne=j[0],Ue=j[1];Ue.changed?(this._toggleClass(ne,Ue.enabled),Ue.changed=!1):Ue.touched||(Ue.enabled&&this._toggleClass(ne,!1),this.stateMap.delete(ne)),Ue.touched=!1}}_toggleClass(j,ne){(j=j.trim()).length>0&&j.split(Un).forEach(Ue=>{ne?this._renderer.addClass(this._ngEl.nativeElement,Ue):this._renderer.removeClass(this._ngEl.nativeElement,Ue)})}static#e=this.\u0275fac=function(ne){return new(ne||R)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))};static#t=this.\u0275dir=f.lG2({type:R,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return R})();class ei{constructor(se,j,ne,Ue){this.$implicit=se,this.ngForOf=j,this.index=ne,this.count=Ue}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let dr=(()=>{class R{set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}constructor(j,ne,Ue){this._viewContainer=j,this._template=ne,this._differs=Ue,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const ne=this._viewContainer;j.forEachOperation((Ue,xt,Ht)=>{if(null==Ue.previousIndex)ne.createEmbeddedView(this._template,new ei(Ue.item,this._ngForOf,-1,-1),null===Ht?void 0:Ht);else if(null==Ht)ne.remove(null===xt?void 0:xt);else if(null!==xt){const Pn=ne.get(xt);ne.move(Pn,Ht),Mi(Pn,Ue)}});for(let Ue=0,xt=ne.length;Ue<xt;Ue++){const Pn=ne.get(Ue).context;Pn.index=Ue,Pn.count=xt,Pn.ngForOf=this._ngForOf}j.forEachIdentityChange(Ue=>{Mi(ne.get(Ue.currentIndex),Ue)})}static ngTemplateContextGuard(j,ne){return!0}static#e=this.\u0275fac=function(ne){return new(ne||R)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))};static#t=this.\u0275dir=f.lG2({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return R})();function Mi(R,se){R.context.$implicit=se.item}let cs=(()=>{class R{constructor(j,ne){this._viewContainer=j,this._context=new Hr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ne}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){io("ngIfThen",j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){io("ngIfElse",j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(j,ne){return!0}static#e=this.\u0275fac=function(ne){return new(ne||R)(f.Y36(f.s_b),f.Y36(f.Rgc))};static#t=this.\u0275dir=f.lG2({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return R})();class Hr{constructor(){this.$implicit=null,this.ngIf=null}}function io(R,se){if(se&&!se.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,f.AaK)(se)}'.`)}function zi(R,se){return new f.vHH(2100,!1)}class Co{createSubscription(se,j){return(0,f.rg0)(()=>se.subscribe({next:j,error:ne=>{throw ne}}))}dispose(se){(0,f.rg0)(()=>se.unsubscribe())}}class Di{createSubscription(se,j){return se.then(j,ne=>{throw ne})}dispose(se){}}const jo=new Di,Ts=new Co;let Ei=(()=>{class R{constructor(j){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=j}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(j){return this._obj?j!==this._obj?(this._dispose(),this.transform(j)):this._latestValue:(j&&this._subscribe(j),this._latestValue)}_subscribe(j){this._obj=j,this._strategy=this._selectStrategy(j),this._subscription=this._strategy.createSubscription(j,ne=>this._updateLatestValue(j,ne))}_selectStrategy(j){if((0,f.QGY)(j))return jo;if((0,f.F4k)(j))return Ts;throw zi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(j,ne){j===this._obj&&(this._latestValue=ne,this._ref.markForCheck())}static#e=this.\u0275fac=function(ne){return new(ne||R)(f.Y36(f.sBO,16))};static#t=this.\u0275pipe=f.Yjl({name:"async",type:R,pure:!1,standalone:!0})}return R})();const Wn=new f.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Wr=new f.OlP("DATE_PIPE_DEFAULT_OPTIONS");let si=(()=>{class R{constructor(j,ne,Ue){this.locale=j,this.defaultTimezone=ne,this.defaultOptions=Ue}transform(j,ne,Ue,xt){if(null==j||""===j||j!=j)return null;try{return Er(j,ne??this.defaultOptions?.dateFormat??"mediumDate",xt||this.locale,Ue??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Ht){throw zi()}}static#e=this.\u0275fac=function(ne){return new(ne||R)(f.Y36(f.soG,16),f.Y36(Wn,24),f.Y36(Wr,24))};static#t=this.\u0275pipe=f.Yjl({name:"date",type:R,pure:!0,standalone:!0})}return R})(),es=(()=>{class R{transform(j){return JSON.stringify(j,null,2)}static#e=this.\u0275fac=function(ne){return new(ne||R)};static#t=this.\u0275pipe=f.Yjl({name:"json",type:R,pure:!1,standalone:!0})}return R})(),ws=(()=>{class R{static#e=this.\u0275fac=function(ne){return new(ne||R)};static#t=this.\u0275mod=f.oAB({type:R});static#n=this.\u0275inj=f.cJS({})}return R})();const oi="browser",ns="server";function Ds(R){return R===oi}function ci(R){return R===ns}let $e=(()=>{class R{static#e=this.\u0275prov=(0,f.Yz7)({token:R,providedIn:"root",factory:()=>new ht((0,f.LFG)(Ae),window)})}return R})();class ht{constructor(se,j){this.document=se,this.window=j,this.offset=()=>[0,0]}setOffset(se){this.offset=Array.isArray(se)?()=>se:se}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(se){this.supportsScrolling()&&this.window.scrollTo(se[0],se[1])}scrollToAnchor(se){if(!this.supportsScrolling())return;const j=function Lt(R,se){const j=R.getElementById(se)||R.getElementsByName(se)[0];if(j)return j;if("function"==typeof R.createTreeWalker&&R.body&&"function"==typeof R.body.attachShadow){const ne=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let Ue=ne.currentNode;for(;Ue;){const xt=Ue.shadowRoot;if(xt){const Ht=xt.getElementById(se)||xt.querySelector(`[name="${se}"]`);if(Ht)return Ht}Ue=ne.nextNode()}}return null}(this.document,se);j&&(this.scrollToElement(j),j.focus())}setHistoryScrollRestoration(se){this.supportsScrolling()&&(this.window.history.scrollRestoration=se)}scrollToElement(se){const j=se.getBoundingClientRect(),ne=j.left+this.window.pageXOffset,Ue=j.top+this.window.pageYOffset,xt=this.offset();this.window.scrollTo(ne-xt[0],Ue-xt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Mn{}},9862:(sn,lt,k)=>{"use strict";k.d(lt,{JF:()=>U,eN:()=>te});var f=k(5879),o=k(2096),B=k(2459),Se=k(5592),me=k(6328),Ae=k(2181),de=k(7398),ae=k(4716),ve=k(4664),$=k(6814);class z{}class oe{}class be{constructor(He){this.normalizedNames=new Map,this.lazyUpdate=null,He?"string"==typeof He?this.lazyInit=()=>{this.headers=new Map,He.split("\n").forEach(nt=>{const jt=nt.indexOf(":");if(jt>0){const Xt=nt.slice(0,jt),En=Xt.toLowerCase(),an=nt.slice(jt+1).trim();this.maybeSetNormalizedName(Xt,En),this.headers.has(En)?this.headers.get(En).push(an):this.headers.set(En,[an])}})}:typeof Headers<"u"&&He instanceof Headers?(this.headers=new Map,He.forEach((nt,jt)=>{this.setHeaderEntries(jt,nt)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(He).forEach(([nt,jt])=>{this.setHeaderEntries(nt,jt)})}:this.headers=new Map}has(He){return this.init(),this.headers.has(He.toLowerCase())}get(He){this.init();const nt=this.headers.get(He.toLowerCase());return nt&&nt.length>0?nt[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(He){return this.init(),this.headers.get(He.toLowerCase())||null}append(He,nt){return this.clone({name:He,value:nt,op:"a"})}set(He,nt){return this.clone({name:He,value:nt,op:"s"})}delete(He,nt){return this.clone({name:He,value:nt,op:"d"})}maybeSetNormalizedName(He,nt){this.normalizedNames.has(nt)||this.normalizedNames.set(nt,He)}init(){this.lazyInit&&(this.lazyInit instanceof be?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(He=>this.applyUpdate(He)),this.lazyUpdate=null))}copyFrom(He){He.init(),Array.from(He.headers.keys()).forEach(nt=>{this.headers.set(nt,He.headers.get(nt)),this.normalizedNames.set(nt,He.normalizedNames.get(nt))})}clone(He){const nt=new be;return nt.lazyInit=this.lazyInit&&this.lazyInit instanceof be?this.lazyInit:this,nt.lazyUpdate=(this.lazyUpdate||[]).concat([He]),nt}applyUpdate(He){const nt=He.name.toLowerCase();switch(He.op){case"a":case"s":let jt=He.value;if("string"==typeof jt&&(jt=[jt]),0===jt.length)return;this.maybeSetNormalizedName(He.name,nt);const Xt=("a"===He.op?this.headers.get(nt):void 0)||[];Xt.push(...jt),this.headers.set(nt,Xt);break;case"d":const En=He.value;if(En){let an=this.headers.get(nt);if(!an)return;an=an.filter(fr=>-1===En.indexOf(fr)),0===an.length?(this.headers.delete(nt),this.normalizedNames.delete(nt)):this.headers.set(nt,an)}else this.headers.delete(nt),this.normalizedNames.delete(nt)}}setHeaderEntries(He,nt){const jt=(Array.isArray(nt)?nt:[nt]).map(En=>En.toString()),Xt=He.toLowerCase();this.headers.set(Xt,jt),this.maybeSetNormalizedName(He,Xt)}forEach(He){this.init(),Array.from(this.normalizedNames.keys()).forEach(nt=>He(this.normalizedNames.get(nt),this.headers.get(nt)))}}class De{encodeKey(He){return mt(He)}encodeValue(He){return mt(He)}decodeKey(He){return decodeURIComponent(He)}decodeValue(He){return decodeURIComponent(He)}}const Ye=/%(\d[a-f0-9])/gi,We={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function mt(Je){return encodeURIComponent(Je).replace(Ye,(He,nt)=>We[nt]??He)}function ke(Je){return`${Je}`}class Oe{constructor(He={}){if(this.updates=null,this.cloneFrom=null,this.encoder=He.encoder||new De,He.fromString){if(He.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function xe(Je,He){const nt=new Map;return Je.length>0&&Je.replace(/^\?/,"").split("&").forEach(Xt=>{const En=Xt.indexOf("="),[an,fr]=-1==En?[He.decodeKey(Xt),""]:[He.decodeKey(Xt.slice(0,En)),He.decodeValue(Xt.slice(En+1))],yn=nt.get(an)||[];yn.push(fr),nt.set(an,yn)}),nt}(He.fromString,this.encoder)}else He.fromObject?(this.map=new Map,Object.keys(He.fromObject).forEach(nt=>{const jt=He.fromObject[nt],Xt=Array.isArray(jt)?jt.map(ke):[ke(jt)];this.map.set(nt,Xt)})):this.map=null}has(He){return this.init(),this.map.has(He)}get(He){this.init();const nt=this.map.get(He);return nt?nt[0]:null}getAll(He){return this.init(),this.map.get(He)||null}keys(){return this.init(),Array.from(this.map.keys())}append(He,nt){return this.clone({param:He,value:nt,op:"a"})}appendAll(He){const nt=[];return Object.keys(He).forEach(jt=>{const Xt=He[jt];Array.isArray(Xt)?Xt.forEach(En=>{nt.push({param:jt,value:En,op:"a"})}):nt.push({param:jt,value:Xt,op:"a"})}),this.clone(nt)}set(He,nt){return this.clone({param:He,value:nt,op:"s"})}delete(He,nt){return this.clone({param:He,value:nt,op:"d"})}toString(){return this.init(),this.keys().map(He=>{const nt=this.encoder.encodeKey(He);return this.map.get(He).map(jt=>nt+"="+this.encoder.encodeValue(jt)).join("&")}).filter(He=>""!==He).join("&")}clone(He){const nt=new Oe({encoder:this.encoder});return nt.cloneFrom=this.cloneFrom||this,nt.updates=(this.updates||[]).concat(He),nt}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(He=>this.map.set(He,this.cloneFrom.map.get(He))),this.updates.forEach(He=>{switch(He.op){case"a":case"s":const nt=("a"===He.op?this.map.get(He.param):void 0)||[];nt.push(ke(He.value)),this.map.set(He.param,nt);break;case"d":if(void 0===He.value){this.map.delete(He.param);break}{let jt=this.map.get(He.param)||[];const Xt=jt.indexOf(ke(He.value));-1!==Xt&&jt.splice(Xt,1),jt.length>0?this.map.set(He.param,jt):this.map.delete(He.param)}}}),this.cloneFrom=this.updates=null)}}class Ge{constructor(){this.map=new Map}set(He,nt){return this.map.set(He,nt),this}get(He){return this.map.has(He)||this.map.set(He,He.defaultValue()),this.map.get(He)}delete(He){return this.map.delete(He),this}has(He){return this.map.has(He)}keys(){return this.map.keys()}}function dt(Je){return typeof ArrayBuffer<"u"&&Je instanceof ArrayBuffer}function bt(Je){return typeof Blob<"u"&&Je instanceof Blob}function Ee(Je){return typeof FormData<"u"&&Je instanceof FormData}class Vt{constructor(He,nt,jt,Xt){let En;if(this.url=nt,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=He.toUpperCase(),function Ze(Je){switch(Je){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Xt?(this.body=void 0!==jt?jt:null,En=Xt):En=jt,En&&(this.reportProgress=!!En.reportProgress,this.withCredentials=!!En.withCredentials,En.responseType&&(this.responseType=En.responseType),En.headers&&(this.headers=En.headers),En.context&&(this.context=En.context),En.params&&(this.params=En.params)),this.headers||(this.headers=new be),this.context||(this.context=new Ge),this.params){const an=this.params.toString();if(0===an.length)this.urlWithParams=nt;else{const fr=nt.indexOf("?");this.urlWithParams=nt+(-1===fr?"?":fr<nt.length-1?"&":"")+an}}else this.params=new Oe,this.urlWithParams=nt}serializeBody(){return null===this.body?null:dt(this.body)||bt(this.body)||Ee(this.body)||function Ot(Je){return typeof URLSearchParams<"u"&&Je instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Oe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ee(this.body)?null:bt(this.body)?this.body.type||null:dt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Oe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(He={}){const nt=He.method||this.method,jt=He.url||this.url,Xt=He.responseType||this.responseType,En=void 0!==He.body?He.body:this.body,an=void 0!==He.withCredentials?He.withCredentials:this.withCredentials,fr=void 0!==He.reportProgress?He.reportProgress:this.reportProgress;let yn=He.headers||this.headers,vt=He.params||this.params;const ft=He.context??this.context;return void 0!==He.setHeaders&&(yn=Object.keys(He.setHeaders).reduce((kt,ln)=>kt.set(ln,He.setHeaders[ln]),yn)),He.setParams&&(vt=Object.keys(He.setParams).reduce((kt,ln)=>kt.set(ln,He.setParams[ln]),vt)),new Vt(nt,jt,En,{params:vt,headers:yn,context:ft,reportProgress:fr,responseType:Xt,withCredentials:an})}}var Sn=function(Je){return Je[Je.Sent=0]="Sent",Je[Je.UploadProgress=1]="UploadProgress",Je[Je.ResponseHeader=2]="ResponseHeader",Je[Je.DownloadProgress=3]="DownloadProgress",Je[Je.Response=4]="Response",Je[Je.User=5]="User",Je}(Sn||{});class Tt{constructor(He,nt=200,jt="OK"){this.headers=He.headers||new be,this.status=void 0!==He.status?He.status:nt,this.statusText=He.statusText||jt,this.url=He.url||null,this.ok=this.status>=200&&this.status<300}}class Ke extends Tt{constructor(He={}){super(He),this.type=Sn.ResponseHeader}clone(He={}){return new Ke({headers:He.headers||this.headers,status:void 0!==He.status?He.status:this.status,statusText:He.statusText||this.statusText,url:He.url||this.url||void 0})}}class ut extends Tt{constructor(He={}){super(He),this.type=Sn.Response,this.body=void 0!==He.body?He.body:null}clone(He={}){return new ut({body:void 0!==He.body?He.body:this.body,headers:He.headers||this.headers,status:void 0!==He.status?He.status:this.status,statusText:He.statusText||this.statusText,url:He.url||this.url||void 0})}}class Fe extends Tt{constructor(He){super(He,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${He.url||"(unknown url)"}`:`Http failure response for ${He.url||"(unknown url)"}: ${He.status} ${He.statusText}`,this.error=He.error||null}}function we(Je,He){return{body:He,headers:Je.headers,context:Je.context,observe:Je.observe,params:Je.params,reportProgress:Je.reportProgress,responseType:Je.responseType,withCredentials:Je.withCredentials}}let te=(()=>{class Je{constructor(nt){this.handler=nt}request(nt,jt,Xt={}){let En;if(nt instanceof Vt)En=nt;else{let yn,vt;yn=Xt.headers instanceof be?Xt.headers:new be(Xt.headers),Xt.params&&(vt=Xt.params instanceof Oe?Xt.params:new Oe({fromObject:Xt.params})),En=new Vt(nt,jt,void 0!==Xt.body?Xt.body:null,{headers:yn,context:Xt.context,params:vt,reportProgress:Xt.reportProgress,responseType:Xt.responseType||"json",withCredentials:Xt.withCredentials})}const an=(0,o.of)(En).pipe((0,me.b)(yn=>this.handler.handle(yn)));if(nt instanceof Vt||"events"===Xt.observe)return an;const fr=an.pipe((0,Ae.h)(yn=>yn instanceof ut));switch(Xt.observe||"body"){case"body":switch(En.responseType){case"arraybuffer":return fr.pipe((0,de.U)(yn=>{if(null!==yn.body&&!(yn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return yn.body}));case"blob":return fr.pipe((0,de.U)(yn=>{if(null!==yn.body&&!(yn.body instanceof Blob))throw new Error("Response is not a Blob.");return yn.body}));case"text":return fr.pipe((0,de.U)(yn=>{if(null!==yn.body&&"string"!=typeof yn.body)throw new Error("Response is not a string.");return yn.body}));default:return fr.pipe((0,de.U)(yn=>yn.body))}case"response":return fr;default:throw new Error(`Unreachable: unhandled observe type ${Xt.observe}}`)}}delete(nt,jt={}){return this.request("DELETE",nt,jt)}get(nt,jt={}){return this.request("GET",nt,jt)}head(nt,jt={}){return this.request("HEAD",nt,jt)}jsonp(nt,jt){return this.request("JSONP",nt,{params:(new Oe).append(jt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(nt,jt={}){return this.request("OPTIONS",nt,jt)}patch(nt,jt,Xt={}){return this.request("PATCH",nt,we(Xt,jt))}post(nt,jt,Xt={}){return this.request("POST",nt,we(Xt,jt))}put(nt,jt,Xt={}){return this.request("PUT",nt,we(Xt,jt))}static#e=this.\u0275fac=function(jt){return new(jt||Je)(f.LFG(z))};static#t=this.\u0275prov=f.Yz7({token:Je,factory:Je.\u0275fac})}return Je})();function Wt(Je,He){return He(Je)}function bn(Je,He){return(nt,jt)=>He.intercept(nt,{handle:Xt=>Je(Xt,jt)})}const Rn=new f.OlP(""),Nn=new f.OlP(""),rn=new f.OlP("");function kn(){let Je=null;return(He,nt)=>{null===Je&&(Je=((0,f.f3M)(Rn,{optional:!0})??[]).reduceRight(bn,Wt));const jt=(0,f.f3M)(f.HDt),Xt=jt.add();return Je(He,nt).pipe((0,ae.x)(()=>jt.remove(Xt)))}}let mr=(()=>{class Je extends z{constructor(nt,jt){super(),this.backend=nt,this.injector=jt,this.chain=null,this.pendingTasks=(0,f.f3M)(f.HDt)}handle(nt){if(null===this.chain){const Xt=Array.from(new Set([...this.injector.get(Nn),...this.injector.get(rn,[])]));this.chain=Xt.reduceRight((En,an)=>function Yn(Je,He,nt){return(jt,Xt)=>nt.runInContext(()=>He(jt,En=>Je(En,Xt)))}(En,an,this.injector),Wt)}const jt=this.pendingTasks.add();return this.chain(nt,Xt=>this.backend.handle(Xt)).pipe((0,ae.x)(()=>this.pendingTasks.remove(jt)))}static#e=this.\u0275fac=function(jt){return new(jt||Je)(f.LFG(oe),f.LFG(f.lqb))};static#t=this.\u0275prov=f.Yz7({token:Je,factory:Je.\u0275fac})}return Je})();const br=/^\)\]\}',?\n/;let Kn=(()=>{class Je{constructor(nt){this.xhrFactory=nt}handle(nt){if("JSONP"===nt.method)throw new f.vHH(-2800,!1);const jt=this.xhrFactory;return(jt.\u0275loadImpl?(0,B.D)(jt.\u0275loadImpl()):(0,o.of)(null)).pipe((0,ve.w)(()=>new Se.y(En=>{const an=jt.build();if(an.open(nt.method,nt.urlWithParams),nt.withCredentials&&(an.withCredentials=!0),nt.headers.forEach((vn,Gn)=>an.setRequestHeader(vn,Gn.join(","))),nt.headers.has("Accept")||an.setRequestHeader("Accept","application/json, text/plain, */*"),!nt.headers.has("Content-Type")){const vn=nt.detectContentTypeHeader();null!==vn&&an.setRequestHeader("Content-Type",vn)}if(nt.responseType){const vn=nt.responseType.toLowerCase();an.responseType="json"!==vn?vn:"text"}const fr=nt.serializeBody();let yn=null;const vt=()=>{if(null!==yn)return yn;const vn=an.statusText||"OK",Gn=new be(an.getAllResponseHeaders()),Sr=function qn(Je){return"responseURL"in Je&&Je.responseURL?Je.responseURL:/^X-Request-URL:/m.test(Je.getAllResponseHeaders())?Je.getResponseHeader("X-Request-URL"):null}(an)||nt.url;return yn=new Ke({headers:Gn,status:an.status,statusText:vn,url:Sr}),yn},ft=()=>{let{headers:vn,status:Gn,statusText:Sr,url:fi}=vt(),ei=null;204!==Gn&&(ei=typeof an.response>"u"?an.responseText:an.response),0===Gn&&(Gn=ei?200:0);let dr=Gn>=200&&Gn<300;if("json"===nt.responseType&&"string"==typeof ei){const Mi=ei;ei=ei.replace(br,"");try{ei=""!==ei?JSON.parse(ei):null}catch(gi){ei=Mi,dr&&(dr=!1,ei={error:gi,text:ei})}}dr?(En.next(new ut({body:ei,headers:vn,status:Gn,statusText:Sr,url:fi||void 0})),En.complete()):En.error(new Fe({error:ei,headers:vn,status:Gn,statusText:Sr,url:fi||void 0}))},kt=vn=>{const{url:Gn}=vt(),Sr=new Fe({error:vn,status:an.status||0,statusText:an.statusText||"Unknown Error",url:Gn||void 0});En.error(Sr)};let ln=!1;const Vn=vn=>{ln||(En.next(vt()),ln=!0);let Gn={type:Sn.DownloadProgress,loaded:vn.loaded};vn.lengthComputable&&(Gn.total=vn.total),"text"===nt.responseType&&an.responseText&&(Gn.partialText=an.responseText),En.next(Gn)},Un=vn=>{let Gn={type:Sn.UploadProgress,loaded:vn.loaded};vn.lengthComputable&&(Gn.total=vn.total),En.next(Gn)};return an.addEventListener("load",ft),an.addEventListener("error",kt),an.addEventListener("timeout",kt),an.addEventListener("abort",kt),nt.reportProgress&&(an.addEventListener("progress",Vn),null!==fr&&an.upload&&an.upload.addEventListener("progress",Un)),an.send(fr),En.next({type:Sn.Sent}),()=>{an.removeEventListener("error",kt),an.removeEventListener("abort",kt),an.removeEventListener("load",ft),an.removeEventListener("timeout",kt),nt.reportProgress&&(an.removeEventListener("progress",Vn),null!==fr&&an.upload&&an.upload.removeEventListener("progress",Un)),an.readyState!==an.DONE&&an.abort()}})))}static#e=this.\u0275fac=function(jt){return new(jt||Je)(f.LFG($.JF))};static#t=this.\u0275prov=f.Yz7({token:Je,factory:Je.\u0275fac})}return Je})();const Yr=new f.OlP("XSRF_ENABLED"),gn=new f.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),ar=new f.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Rr{}let Dr=(()=>{class Je{constructor(nt,jt,Xt){this.doc=nt,this.platform=jt,this.cookieName=Xt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const nt=this.doc.cookie||"";return nt!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,$.Mx)(nt,this.cookieName),this.lastCookieString=nt),this.lastToken}static#e=this.\u0275fac=function(jt){return new(jt||Je)(f.LFG($.K0),f.LFG(f.Lbi),f.LFG(gn))};static#t=this.\u0275prov=f.Yz7({token:Je,factory:Je.\u0275fac})}return Je})();function ri(Je,He){const nt=Je.url.toLowerCase();if(!(0,f.f3M)(Yr)||"GET"===Je.method||"HEAD"===Je.method||nt.startsWith("http://")||nt.startsWith("https://"))return He(Je);const jt=(0,f.f3M)(Rr).getToken(),Xt=(0,f.f3M)(ar);return null!=jt&&!Je.headers.has(Xt)&&(Je=Je.clone({headers:Je.headers.set(Xt,jt)})),He(Je)}var wt=function(Je){return Je[Je.Interceptors=0]="Interceptors",Je[Je.LegacyInterceptors=1]="LegacyInterceptors",Je[Je.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Je[Je.NoXsrfProtection=3]="NoXsrfProtection",Je[Je.JsonpSupport=4]="JsonpSupport",Je[Je.RequestsMadeViaParent=5]="RequestsMadeViaParent",Je[Je.Fetch=6]="Fetch",Je}(wt||{});function Be(...Je){const He=[te,Kn,mr,{provide:z,useExisting:mr},{provide:oe,useExisting:Kn},{provide:Nn,useValue:ri,multi:!0},{provide:Yr,useValue:!0},{provide:Rr,useClass:Dr}];for(const nt of Je)He.push(...nt.\u0275providers);return(0,f.MR2)(He)}const en=new f.OlP("LEGACY_INTERCEPTOR_FN");function $n(){return function ue(Je,He){return{\u0275kind:Je,\u0275providers:He}}(wt.LegacyInterceptors,[{provide:en,useFactory:kn},{provide:Nn,useExisting:en,multi:!0}])}let U=(()=>{class Je{static#e=this.\u0275fac=function(jt){return new(jt||Je)};static#t=this.\u0275mod=f.oAB({type:Je});static#n=this.\u0275inj=f.cJS({providers:[Be($n())]})}return Je})()},5879:(sn,lt,k)=>{"use strict";k.d(lt,{$8M:()=>Vl,$WT:()=>Ui,$Z:()=>L,AFp:()=>im,ALo:()=>cA,AaK:()=>oe,AsE:()=>Fy,CHM:()=>Au,CRH:()=>CA,DdM:()=>tA,EJc:()=>xT,EiD:()=>$p,EpF:()=>Hi,F$t:()=>D0,F4k:()=>wi,FYo:()=>E_,FiY:()=>Bc,GfV:()=>hm,Gpc:()=>De,HDt:()=>ZA,Hsn:()=>S0,JOm:()=>Wu,JVY:()=>Bp,JZr:()=>ke,KtG:()=>Qa,L6k:()=>Wg,LAX:()=>Pf,LFG:()=>$t,LSH:()=>Vf,Lbi:()=>Wp,Lck:()=>vC,MGl:()=>Qv,MMx:()=>qE,MR2:()=>Us,NdJ:()=>fo,Ojb:()=>ov,OlP:()=>gn,Oqu:()=>ky,P3R:()=>Gp,PXZ:()=>aw,Q6J:()=>Hm,QGY:()=>ro,QbO:()=>Kp,Qsj:()=>hv,R0b:()=>As,RDi:()=>Sf,Rgc:()=>nv,SBq:()=>Yf,Sil:()=>kT,Suo:()=>bA,TTD:()=>Ar,TgZ:()=>vg,Udp:()=>xy,VKq:()=>nA,VuI:()=>zw,X6Q:()=>gw,XFs:()=>In,Xpm:()=>Di,Xq5:()=>Ri,Xts:()=>cd,Y36:()=>P,YKP:()=>GE,YNc:()=>Um,Yjl:()=>po,Yz7:()=>Rn,Z0I:()=>mr,ZZ4:()=>_0,_Bn:()=>$E,_UZ:()=>aa,_c5:()=>Rw,_uU:()=>Q0,aQg:()=>v0,c2e:()=>GA,cJS:()=>rn,cg1:()=>Ly,dDg:()=>rw,dqk:()=>Kn,eBb:()=>od,eFA:()=>nI,eJc:()=>e0,ekj:()=>Oy,eoX:()=>JA,f3M:()=>on,g9A:()=>ja,h0i:()=>Ig,hGG:()=>xw,hij:()=>Xv,iGM:()=>IA,ifc:()=>an,ip1:()=>$A,jDz:()=>WE,kL8:()=>mE,lG2:()=>Ji,lcZ:()=>lA,lqb:()=>uc,lri:()=>QA,mCW:()=>ad,n5z:()=>hl,oAB:()=>ps,oxw:()=>w0,pB0:()=>Rf,q3G:()=>nu,q4F:()=>fm,qFp:()=>Gw,qLn:()=>uu,qOj:()=>h,qZA:()=>Qh,qzn:()=>cc,rWj:()=>YA,rg0:()=>xt,s9C:()=>Sy,sBO:()=>mw,s_b:()=>oy,soG:()=>cy,tb:()=>d0,tp0:()=>Ua,uIk:()=>no,vHH:()=>Oe,vpe:()=>Jc,wAp:()=>qm,xi3:()=>uA,xp6:()=>m,z2F:()=>Ym,z3N:()=>Ea,zSh:()=>tm,zs3:()=>hc});var f=k(8645),o=k(7394),B=k(5592),Se=k(3019),me=k(5619),Ae=k(2096),de=k(3020),ae=k(4664),ve=k(3997);function $(t){for(let n in t)if(t[n]===$)return n;throw Error("Could not find renamed property on target object.")}function z(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function oe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(oe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function be(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const ye=$({__forward_ref__:$});function De(t){return t.__forward_ref__=De,t.toString=function(){return oe(this())},t}function xe(t){return Ye(t)?t():t}function Ye(t){return"function"==typeof t&&t.hasOwnProperty(ye)&&t.__forward_ref__===De}function We(t){return t&&!!t.\u0275providers}const ke="https://g.co/ng/security#xss";class Oe extends Error{constructor(n,i){super(function tt(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function Ge(t){return"string"==typeof t?t:null==t?"":String(t)}function Ot(t,n){throw new Oe(-201,!1)}function Bt(t,n){null==t&&function Gt(t,n,i,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${i} ${a} ${n} <=Actual]`))}(n,t,null,"!=")}function Rn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function rn(t){return{providers:t.providers||[],imports:t.imports||[]}}function kn(t){return Jn(t,xn)||Jn(t,sr)}function mr(t){return null!==kn(t)}function Jn(t,n){return t.hasOwnProperty(n)?t[n]:null}function jr(t){return t&&(t.hasOwnProperty(Pr)||t.hasOwnProperty(Yt))?t[Pr]:null}const xn=$({\u0275prov:$}),Pr=$({\u0275inj:$}),sr=$({ngInjectableDef:$}),Yt=$({ngInjectorDef:$});var In=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(In||{});let Bn;function Er(t){const n=Bn;return Bn=t,n}function br(t,n,i){const a=kn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:i&In.Optional?null:void 0!==n?n:void Ot(oe(t))}const Kn=globalThis;class gn{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Rn({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const $n={},hi="__NG_DI_FLAG__",Cr="ngTempTokenPath",ce=/\n/gm,H="__source";let U;function Xe(t){const n=U;return U=t,n}function Nt(t,n=In.Default){if(void 0===U)throw new Oe(-203,!1);return null===U?br(t,void 0,n):U.get(t,n&In.Optional?null:void 0,n)}function $t(t,n=In.Default){return(function zn(){return Bn}()||Nt)(xe(t),n)}function on(t,n=In.Default){return $t(t,hn(n))}function hn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Xn(t){const n=[];for(let i=0;i<t.length;i++){const a=xe(t[i]);if(Array.isArray(a)){if(0===a.length)throw new Oe(900,!1);let d,p=In.Default;for(let b=0;b<a.length;b++){const D=a[b],x=He(D);"number"==typeof x?-1===x?d=D.token:p|=x:d=D}n.push($t(d,p))}else n.push($t(a))}return n}function Je(t,n){return t[hi]=n,t.prototype[hi]=n,t}function He(t){return t[hi]}function Xt(t){return{toString:t}.toString()}var En=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(En||{}),an=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(an||{});const fr={},yn=[],vt=$({\u0275cmp:$}),ft=$({\u0275dir:$}),kt=$({\u0275pipe:$}),ln=$({\u0275mod:$}),Vn=$({\u0275fac:$}),Un=$({__NG_ELEMENT_ID__:$}),vn=$({__NG_ENV_ID__:$});function Gn(t,n,i){let a=t.length;for(;;){const d=t.indexOf(n,i);if(-1===d)return d;if(0===d||t.charCodeAt(d-1)<=32){const p=n.length;if(d+p===a||t.charCodeAt(d+p)<=32)return d}i=d+1}}function Sr(t,n,i){let a=0;for(;a<i.length;){const d=i[a];if("number"==typeof d){if(0!==d)break;a++;const p=i[a++],b=i[a++],D=i[a++];t.setAttribute(n,b,D,p)}else{const p=d,b=i[++a];ei(p)?t.setProperty(n,p,b):t.setAttribute(n,p,b),a++}}return a}function fi(t){return 3===t||4===t||6===t}function ei(t){return 64===t.charCodeAt(0)}function dr(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let a=0;a<n.length;a++){const d=n[a];"number"==typeof d?i=d:0===i||Mi(t,i,d,null,-1===i||2===i?n[++a]:null)}}return t}function Mi(t,n,i,a,d){let p=0,b=t.length;if(-1===n)b=-1;else for(;p<t.length;){const D=t[p++];if("number"==typeof D){if(D===n){b=-1;break}if(D>n){b=p-1;break}}}for(;p<t.length;){const D=t[p];if("number"==typeof D)break;if(D===i){if(null===a)return void(null!==d&&(t[p+1]=d));if(a===t[p+1])return void(t[p+2]=d)}p++,null!==a&&p++,null!==d&&p++}-1!==b&&(t.splice(b,0,n),p=b+1),t.splice(p++,0,i),null!==a&&t.splice(p++,0,a),null!==d&&t.splice(p++,0,d)}const gi="ng-template";function cs(t,n,i){let a=0,d=!0;for(;a<t.length;){let p=t[a++];if("string"==typeof p&&d){const b=t[a++];if(i&&"class"===p&&-1!==Gn(b.toLowerCase(),n,0))return!0}else{if(1===p){for(;a<t.length&&"string"==typeof(p=t[a++]);)if(p.toLowerCase()===n)return!0;return!1}"number"==typeof p&&(d=!1)}}return!1}function Hr(t){return 4===t.type&&t.value!==gi}function io(t,n,i){return n===(4!==t.type||i?t.value:gi)}function fs(t,n,i){let a=4;const d=t.attrs||[],p=function xi(t){for(let n=0;n<t.length;n++)if(fi(t[n]))return n;return t.length}(d);let b=!1;for(let D=0;D<n.length;D++){const x=n[D];if("number"!=typeof x){if(!b)if(4&a){if(a=2|1&a,""!==x&&!io(t,x,i)||""===x&&1===n.length){if(Li(a))return!1;b=!0}}else{const q=8&a?x:n[++D];if(8&a&&null!==t.attrs){if(!cs(t.attrs,q,i)){if(Li(a))return!1;b=!0}continue}const Re=Ys(8&a?"class":x,d,Hr(t),i);if(-1===Re){if(Li(a))return!1;b=!0;continue}if(""!==q){let ct;ct=Re>p?"":d[Re+1].toLowerCase();const Et=8&a?ct:null;if(Et&&-1!==Gn(Et,q,0)||2&a&&q!==ct){if(Li(a))return!1;b=!0}}}}else{if(!b&&!Li(a)&&!Li(x))return!1;if(b&&Li(x))continue;b=!1,a=x|1&a}}return Li(a)||b}function Li(t){return 0==(1&t)}function Ys(t,n,i,a){if(null===n)return-1;let d=0;if(a||!i){let p=!1;for(;d<n.length;){const b=n[d];if(b===t)return d;if(3===b||6===b)p=!0;else{if(1===b||2===b){let D=n[++d];for(;"string"==typeof D;)D=n[++d];continue}if(4===b)break;if(0===b){d+=4;continue}}d+=p?1:2}return-1}return function Jr(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const a=t[i];if("number"==typeof a)return-1;if(a===n)return i;i++}return-1}(n,t)}function ii(t,n,i=!1){for(let a=0;a<n.length;a++)if(fs(t,n[a],i))return!0;return!1}function Bo(t,n){e:for(let i=0;i<n.length;i++){const a=n[i];if(t.length===a.length){for(let d=0;d<t.length;d++)if(t[d]!==a[d])continue e;return!0}}return!1}function Bs(t,n){return t?":not("+n.trim()+")":n}function Vi(t){let n=t[0],i=1,a=2,d="",p=!1;for(;i<t.length;){let b=t[i];if("string"==typeof b)if(2&a){const D=t[++i];d+="["+b+(D.length>0?'="'+D+'"':"")+"]"}else 8&a?d+="."+b:4&a&&(d+=" "+b);else""!==d&&!Li(b)&&(n+=Bs(p,d),d=""),a=b,p=p||!Li(a);i++}return""!==d&&(n+=Bs(p,d)),n}function Di(t){return Xt(()=>{const n=Xi(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===En.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||an.Emulated,styles:t.styles||yn,_:null,schemas:t.schemas||null,tView:null,id:""};es(i);const a=t.dependencies;return i.directiveDefs=To(a,!1),i.pipeDefs=To(a,!0),i.id=function js(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const d of i)n=Math.imul(31,n)+d.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function Ts(t){return Wn(t)||Wr(t)}function Ei(t){return null!==t}function ps(t){return Xt(()=>({type:t.type,bootstrap:t.bootstrap||yn,declarations:t.declarations||yn,imports:t.imports||yn,exports:t.exports||yn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function so(t,n){if(null==t)return fr;const i={};for(const a in t)if(t.hasOwnProperty(a)){let d=t[a],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),i[d]=a,n&&(n[d]=p)}return i}function Ji(t){return Xt(()=>{const n=Xi(t);return es(n),n})}function po(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Wn(t){return t[vt]||null}function Wr(t){return t[ft]||null}function si(t){return t[kt]||null}function Ui(t){const n=Wn(t)||Wr(t)||si(t);return null!==n&&n.standalone}function Xr(t,n){const i=t[ln]||null;if(!i&&!0===n)throw new Error(`Type ${oe(t)} does not have '\u0275mod' property.`);return i}function Xi(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||fr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||yn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:so(t.inputs,n),outputs:so(t.outputs)}}function es(t){t.features?.forEach(n=>n(t))}function To(t,n){if(!t)return null;const i=n?si:Ts;return()=>("function"==typeof t?t():t).map(a=>i(a)).filter(Ei)}const zr=0,_n=1,er=2,xr=3,Oi=4,ts=5,ai=6,ws=7,oi=8,ns=9,ms=10,rr=11,Ds=12,ci=13,re=14,Y=15,Ne=16,$e=17,ht=18,Lt=19,fn=20,Mn=21,Kt=22,An=23,_r=24,jn=25,$r=1,Or=2,mi=7,ls=9,yr=11;function Kr(t){return Array.isArray(t)&&"object"==typeof t[$r]}function Ii(t){return Array.isArray(t)&&!0===t[$r]}function go(t){return 0!=(4&t.flags)}function rs(t){return t.componentOffset>-1}function Ps(t){return 1==(1&t.flags)}function $i(t){return!!t.template}function Ta(t){return 0!=(512&t[er])}function oo(t,n){return t.hasOwnProperty(Vn)?t[Vn]:null}let Vr=null,la=!1;function Bi(t){const n=Vr;return Vr=t,n}const bc={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function mo(t){if(!$o(t)||t.dirty){if(!t.producerMustRecompute(t)&&!nl(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Pa(t){t.dirty=!0,function Do(t){if(void 0===t.liveConsumerNode)return;const n=la;la=!0;try{for(const i of t.liveConsumerNode)i.dirty||Pa(i)}finally{la=n}}(t),t.consumerMarkedDirty?.(t)}function pr(t){return t&&(t.nextProducerIndex=0),Bi(t)}function Cc(t,n){if(Bi(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if($o(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)zo(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function nl(t){da(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],a=t.producerLastReadVersion[n];if(a!==i.version||(mo(i),a!==i.version))return!0}return!1}function Tc(t){if(da(t),$o(t))for(let n=0;n<t.producerNode.length;n++)zo(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function zo(t,n){if(function rl(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),da(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)zo(t.producerNode[a],t.producerIndexOfThis[a]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[n],d=t.liveConsumerNode[n];da(d),d.producerIndexOfThis[a]=n}}function $o(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function da(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Ra=null;function xt(t){const n=Bi(null);try{return t()}finally{Bi(n)}}const Pn=()=>{},Fr=(()=>({...bc,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Pn}))();class ti{constructor(n,i,a){this.previousValue=n,this.currentValue=i,this.firstChange=a}isFirstChange(){return this.firstChange}}function Ar(){return pi}function pi(t){return t.type.prototype.ngOnChanges&&(t.setInput=Gi),Qr}function Qr(){const t=vs(this),n=t?.current;if(n){const i=t.previous;if(i===fr)t.previous=n;else for(let a in n)i[a]=n[a];t.current=null,this.ngOnChanges(n)}}function Gi(t,n,i,a){const d=this.declaredInputs[i],p=vs(t)||function Zo(t,n){return t[Ss]=n}(t,{previous:fr,current:null}),b=p.current||(p.current={}),D=p.previous,x=D[d];b[d]=new ti(x&&x.currentValue,n,D===fr),t[a]=n}Ar.ngInherit=!0;const Ss="__ngSimpleChanges__";function vs(t){return t[Ss]||null}const lr=function(t,n,i){};function vi(t){for(;Array.isArray(t);)t=t[zr];return t}function qo(t,n){return vi(n[t])}function Os(t,n){return vi(n[t.index])}function Sc(t,n){return t.data[n]}function Wo(t,n){return t[n]}function Ns(t,n){const i=n[t];return Kr(i)?i:i[zr]}function Ko(t,n){return null==n?null:t[n]}function Qo(t){t[$e]=0}function Po(t){1024&t[er]||(t[er]|=1024,Nd(t,1))}function _u(t){1024&t[er]&&(t[er]&=-1025,Nd(t,-1))}function Nd(t,n){let i=t[xr];if(null===i)return;i[ts]+=n;let a=i;for(i=i[xr];null!==i&&(1===n&&1===a[ts]||-1===n&&0===a[ts]);)i[ts]+=n,a=i,i=i[xr]}const hr={lFrame:Fs(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ki(){return hr.bindingsEnabled}function Oa(){return null!==hr.skipHydrationRootTNode}function Zt(){return hr.lFrame.lView}function Gr(){return hr.lFrame.tView}function Au(t){return hr.lFrame.contextLView=t,t[oi]}function Qa(t){return hr.lFrame.contextLView=null,t}function ys(){let t=Zi();for(;null!==t&&64===t.type;)t=t.parent;return t}function Zi(){return hr.lFrame.currentTNode}function ks(t,n){const i=hr.lFrame;i.currentTNode=t,i.isParent=n}function xc(){return hr.lFrame.isParent}function Ya(){hr.lFrame.isParent=!1}function Ws(){const t=hr.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function fa(){return hr.lFrame.bindingIndex++}function S(t){const n=hr.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function N(t,n){const i=hr.lFrame;i.bindingIndex=i.bindingRootIndex=t,fe(n)}function fe(t){hr.lFrame.currentDirectiveIndex=t}function Dt(){return hr.lFrame.currentQueryIndex}function St(t){hr.lFrame.currentQueryIndex=t}function Tn(t){const n=t[_n];return 2===n.type?n.declTNode:1===n.type?t[ai]:null}function Tr(t,n,i){if(i&In.SkipSelf){let d=n,p=t;for(;!(d=d.parent,null!==d||i&In.Host||(d=Tn(p),null===d||(p=p[re],10&d.type))););if(null===d)return!1;n=d,t=p}const a=hr.lFrame=Ir();return a.currentTNode=n,a.lView=t,!0}function ui(t){const n=Ir(),i=t[_n];hr.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function Ir(){const t=hr.lFrame,n=null===t?null:t.child;return null===n?Fs(t):n}function Fs(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function co(){const t=hr.lFrame;return hr.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Oo=co;function pa(){const t=co();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ks(){return hr.lFrame.selectedIndex}function ko(t){hr.lFrame.selectedIndex=t}function Ni(){const t=hr.lFrame;return Sc(t.tView,t.selectedIndex)}let tf=!0;function Cu(){return tf}function Xo(t){tf=t}function wu(t,n){for(let i=n.directiveStart,a=n.directiveEnd;i<a;i++){const p=t.data[i].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:D,ngAfterViewInit:x,ngAfterViewChecked:q,ngOnDestroy:le}=p;b&&(t.contentHooks??=[]).push(-i,b),D&&((t.contentHooks??=[]).push(i,D),(t.contentCheckHooks??=[]).push(i,D)),x&&(t.viewHooks??=[]).push(-i,x),q&&((t.viewHooks??=[]).push(i,q),(t.viewCheckHooks??=[]).push(i,q)),null!=le&&(t.destroyHooks??=[]).push(i,le)}}function Na(t,n,i){Bd(t,n,3,i)}function ka(t,n,i,a){(3&t[er])===i&&Bd(t,n,i,a)}function ea(t,n){let i=t[er];(3&i)===n&&(i&=8191,i+=1,t[er]=i)}function Bd(t,n,i,a){const p=a??-1,b=n.length-1;let D=0;for(let x=void 0!==a?65535&t[$e]:0;x<b;x++)if("number"==typeof n[x+1]){if(D=n[x],null!=a&&D>=a)break}else n[x]<0&&(t[$e]+=65536),(D<p||-1==p)&&(Su(t,i,n,x),t[$e]=(4294901760&t[$e])+x+2),x++}function Du(t,n){lr(4,t,n);const i=Bi(null);try{n.call(t)}finally{Bi(i),lr(5,t,n)}}function Su(t,n,i,a){const d=i[a]<0,p=i[a+1],D=t[d?-i[a]:i[a]];d?t[er]>>13<t[$e]>>16&&(3&t[er])===n&&(t[er]+=8192,Du(D,p)):Du(D,p)}const Oc=-1;class al{constructor(n,i,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=a}}function cl(t){return t!==Oc}function Mu(t){return 32767&t}function ta(t,n){let i=function vp(t){return t>>16}(t),a=n;for(;i>0;)a=a[re],i--;return a}let ll=!0;function na(t){const n=ll;return ll=t,n}const Pu=255,Ls=5;let yp=0;const qi={};function Ru(t,n){const i=Fa(t,n);if(-1!==i)return i;const a=n[_n];a.firstCreatePass&&(t.injectorIndex=n.length,ra(a.data,t),ra(n,null),ra(a.blueprint,null));const d=ul(t,n),p=t.injectorIndex;if(cl(d)){const b=Mu(d),D=ta(d,n),x=D[_n].data;for(let q=0;q<8;q++)n[p+q]=D[b+q]|x[b+q]}return n[p+8]=d,p}function ra(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Fa(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function ul(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,a=null,d=n;for(;null!==d;){if(a=qd(d),null===a)return Oc;if(i++,d=d[re],-1!==a.injectorIndex)return a.injectorIndex|i<<16}return Oc}function di(t,n,i){!function Fl(t,n,i){let a;"string"==typeof i?a=i.charCodeAt(0)||0:i.hasOwnProperty(Un)&&(a=i[Un]),null==a&&(a=i[Un]=yp++);const d=a&Pu;n.data[t+(d>>Ls)]|=1<<d}(t,n,i)}function Fo(t,n,i){if(i&In.Optional||void 0!==t)return t;Ot()}function Ou(t,n,i,a){if(i&In.Optional&&void 0===a&&(a=null),!(i&(In.Self|In.Host))){const d=t[ns],p=Er(void 0);try{return d?d.get(n,a,i&In.Optional):br(n,a,i&In.Optional)}finally{Er(p)}}return Fo(a,0,i)}function La(t,n,i,a=In.Default,d){if(null!==t){if(2048&n[er]&&!(a&In.Self)){const b=function kc(t,n,i,a,d){let p=t,b=n;for(;null!==p&&null!==b&&2048&b[er]&&!(512&b[er]);){const D=$d(p,b,i,a|In.Self,qi);if(D!==qi)return D;let x=p.parent;if(!x){const q=b[fn];if(q){const le=q.get(i,qi,a);if(le!==qi)return le}x=qd(b),b=b[re]}p=x}return d}(t,n,i,a,qi);if(b!==qi)return b}const p=$d(t,n,i,a,qi);if(p!==qi)return p}return Ou(n,i,a,d)}function $d(t,n,i,a,d){const p=function Nu(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Un)?t[Un]:void 0;return"number"==typeof n?n>=0?n&Pu:Zd:n}(i);if("function"==typeof p){if(!Tr(n,t,a))return a&In.Host?Fo(d,0,a):Ou(n,i,a,d);try{let b;if(b=p(a),null!=b||a&In.Optional)return b;Ot()}finally{Oo()}}else if("number"==typeof p){let b=null,D=Fa(t,n),x=Oc,q=a&In.Host?n[Y][ai]:null;for((-1===D||a&In.SkipSelf)&&(x=-1===D?ul(t,n):n[D+8],x!==Oc&&dl(a,!1)?(b=n[_n],D=Mu(x),n=ta(x,n)):D=-1);-1!==D;){const le=n[_n];if(nf(p,D,le.data)){const Re=Gd(D,n,i,b,a,q);if(Re!==qi)return Re}x=n[D+8],x!==Oc&&dl(a,n[_n].data[D+8]===q)&&nf(p,D,n)?(b=le,D=Mu(x),n=ta(x,n)):D=-1}}return d}function Gd(t,n,i,a,d,p){const b=n[_n],D=b.data[t+8],le=Ll(D,b,i,null==a?rs(D)&&ll:a!=b&&0!=(3&D.type),d&In.Host&&p===D);return null!==le?Nc(n,b,le,D):qi}function Ll(t,n,i,a,d){const p=t.providerIndexes,b=n.data,D=1048575&p,x=t.directiveStart,le=p>>20,ct=d?D+le:t.directiveEnd;for(let Et=a?D:D+le;Et<ct;Et++){const zt=b[Et];if(Et<x&&i===zt||Et>=x&&zt.type===i)return Et}if(d){const Et=b[x];if(Et&&$i(Et)&&Et.type===i)return x}return null}function Nc(t,n,i,a){let d=t[i];const p=n.data;if(function kl(t){return t instanceof al}(d)){const b=d;b.resolving&&function dt(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Oe(-200,`Circular dependency in DI detected for ${t}${i}`)}(function Ze(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ge(t)}(p[i]));const D=na(b.canSeeViewProviders);b.resolving=!0;const q=b.injectImpl?Er(b.injectImpl):null;Tr(t,a,In.Default);try{d=t[i]=b.factory(void 0,p,t,a),n.firstCreatePass&&i>=a.directiveStart&&function Tu(t,n,i){const{ngOnChanges:a,ngOnInit:d,ngDoCheck:p}=n.type.prototype;if(a){const b=pi(n);(i.preOrderHooks??=[]).push(t,b),(i.preOrderCheckHooks??=[]).push(t,b)}d&&(i.preOrderHooks??=[]).push(0-t,d),p&&((i.preOrderHooks??=[]).push(t,p),(i.preOrderCheckHooks??=[]).push(t,p))}(i,p[i],n)}finally{null!==q&&Er(q),na(D),b.resolving=!1,Oo()}}return d}function nf(t,n,i){return!!(i[n+(t>>Ls)]&1<<t)}function dl(t,n){return!(t&In.Self||t&In.Host&&n)}class Vs{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,a){return La(this._tNode,this._lView,n,hn(a),i)}}function Zd(){return new Vs(ys(),Zt())}function hl(t){return Xt(()=>{const n=t.prototype.constructor,i=n[Vn]||ma(n),a=Object.prototype;let d=Object.getPrototypeOf(t.prototype).constructor;for(;d&&d!==a;){const p=d[Vn]||ma(d);if(p&&p!==i)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function ma(t){return Ye(t)?()=>{const n=ma(xe(t));return n&&n()}:oo(t)}function qd(t){const n=t[_n],i=n.type;return 2===i?n.declTNode:1===i?t[ai]:null}function Vl(t){return function xu(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const a=i.length;let d=0;for(;d<a;){const p=i[d];if(fi(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<a&&"string"==typeof i[d];)d++;else{if(p===n)return i[d+1];d+=2}}}return null}(ys(),t)}const cn="__parameters__";function Wi(t,n,i){return Xt(()=>{const a=function Lc(t){return function(...i){if(t){const a=t(...i);for(const d in a)this[d]=a[d]}}}(n);function d(...p){if(this instanceof d)return a.apply(this,p),this;const b=new d(...p);return D.annotation=b,D;function D(x,q,le){const Re=x.hasOwnProperty(cn)?x[cn]:Object.defineProperty(x,cn,{value:[]})[cn];for(;Re.length<=le;)Re.push(null);return(Re[le]=Re[le]||[]).push(b),x}}return i&&(d.prototype=Object.create(i.prototype)),d.prototype.ngMetadataName=t,d.annotationCls=d,d})}function tc(t,n){t.forEach(i=>Array.isArray(i)?tc(i,n):n(i))}function ku(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function Fu(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function nc(t,n){const i=[];for(let a=0;a<t;a++)i.push(n);return i}function _o(t,n,i){let a=Vc(t,n);return a>=0?t[1|a]=i:(a=~a,function uf(t,n,i,a){let d=t.length;if(d==n)t.push(i,a);else if(1===d)t.push(a,t[0]),t[0]=i;else{for(d--,t.push(t[d-1],t[d]);d>n;)t[d]=t[d-2],d--;t[n]=i,t[n+1]=a}}(t,a,n,i)),a}function Lu(t,n){const i=Vc(t,n);if(i>=0)return t[1|i]}function Vc(t,n){return function Va(t,n,i){let a=0,d=t.length>>i;for(;d!==a;){const p=a+(d-a>>1),b=t[p<<i];if(n===b)return p<<i;b>n?d=p:a=p+1}return~(d<<i)}(t,n,1)}const Bc=Je(Wi("Optional"),8),Ua=Je(Wi("SkipSelf"),4);function Zu(t){return 128==(128&t.flags)}var Wu=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Wu||{});const wp=new Map;let Ng=0;const ih="__ngContext__";function Js(t,n){Kr(n)?(t[ih]=n[Lt],function Xm(t){wp.set(t[Lt],t)}(n)):t[ih]=n}let sh;function Wl(t,n){return sh(t,n)}function El(t){const n=t[xr];return Ii(n)?n[xr]:n}function Vg(t){return oh(t[Ds])}function sc(t){return oh(t[Oi])}function oh(t){for(;null!==t&&!Ii(t);)t=t[Oi];return t}function Kl(t,n,i,a,d){if(null!=a){let p,b=!1;Ii(a)?p=a:Kr(a)&&(b=!0,a=a[zr]);const D=vi(a);0===t&&null!==i?null==d?Hg(n,i,D):va(n,i,D,d||null,!0):1===t&&null!==i?va(n,i,D,d||null,!0):2===t?function td(t,n,i){const a=uh(t,n);a&&function zg(t,n,i,a){t.removeChild(n,i,a)}(t,a,n,i)}(n,D,b):3===t&&n.destroyNode(D),null!=p&&function Gg(t,n,i,a,d){const p=i[mi];p!==vi(i)&&Kl(n,t,a,p,d);for(let D=yr;D<i.length;D++){const x=i[D];Jl(x[_n],x,t,n,a,p)}}(n,t,p,i,d)}}function lh(t,n,i){return t.createElement(n,i)}function bf(t,n){const i=t[ls],a=i.indexOf(n);_u(n),i.splice(a,1)}function Ql(t,n){if(t.length<=yr)return;const i=yr+n,a=t[i];if(a){const d=a[Ne];null!==d&&d!==t&&bf(d,a),n>0&&(t[i-1][Oi]=a[Oi]);const p=Fu(t,yr+n);!function t_(t,n){Jl(t,n,n[rr],2,null,null),n[zr]=null,n[ai]=null}(a[_n],a);const b=p[ht];null!==b&&b.detachView(p[_n]),a[xr]=null,a[Oi]=null,a[er]&=-129}return a}function Al(t,n){if(!(256&n[er])){const i=n[rr];n[An]&&Tc(n[An]),n[_r]&&Tc(n[_r]),i.destroyNode&&Jl(t,n,i,3,null,null),function Bg(t){let n=t[Ds];if(!n)return Ju(t[_n],t);for(;n;){let i=null;if(Kr(n))i=n[Ds];else{const a=n[yr];a&&(i=a)}if(!i){for(;n&&!n[Oi]&&n!==t;)Kr(n)&&Ju(n[_n],n),n=n[xr];null===n&&(n=t),Kr(n)&&Ju(n[_n],n),i=n&&n[Oi]}n=i}}(n)}}function Ju(t,n){if(!(256&n[er])){n[er]&=-129,n[er]|=256,function Tf(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let a=0;a<i.length;a+=2){const d=n[i[a]];if(!(d instanceof al)){const p=i[a+1];if(Array.isArray(p))for(let b=0;b<p.length;b+=2){const D=d[p[b]],x=p[b+1];lr(4,D,x);try{x.call(D)}finally{lr(5,D,x)}}else{lr(4,d,p);try{p.call(d)}finally{lr(5,d,p)}}}}}(t,n),function Cf(t,n){const i=t.cleanup,a=n[ws];if(null!==i)for(let p=0;p<i.length-1;p+=2)if("string"==typeof i[p]){const b=i[p+3];b>=0?a[b]():a[-b].unsubscribe(),p+=2}else i[p].call(a[i[p+1]]);null!==a&&(n[ws]=null);const d=n[Mn];if(null!==d){n[Mn]=null;for(let p=0;p<d.length;p++)(0,d[p])()}}(t,n),1===n[_n].type&&n[rr].destroy();const i=n[Ne];if(null!==i&&Ii(n[xr])){i!==n[xr]&&bf(i,n);const a=n[ht];null!==a&&a.detachView(t)}!function e_(t){wp.delete(t[Lt])}(n)}}function sa(t,n,i){return function Xu(t,n,i){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return i[zr];{const{componentOffset:d}=a;if(d>-1){const{encapsulation:p}=t.data[a.directiveStart+d];if(p===an.None||p===an.Emulated)return null}return Os(a,i)}}(t,n.parent,i)}function va(t,n,i,a,d){t.insertBefore(n,i,a,d)}function Hg(t,n,i){t.appendChild(n,i)}function Il(t,n,i,a,d){null!==a?va(t,n,i,a,d):Hg(t,n,i)}function uh(t,n){return t.parentNode(n)}function ya(t,n,i){return Yl(t,n,i)}let xp,kp,Df,Cl,Yl=function ac(t,n,i){return 40&t.type?Os(t,i):null};function dh(t,n,i,a){const d=sa(t,a,n),p=n[rr],D=ya(a.parent||n[ai],a,n);if(null!=d)if(Array.isArray(i))for(let x=0;x<i.length;x++)Il(p,d,i[x],D,!1);else Il(p,d,i,D,!1);void 0!==xp&&xp(p,a,n,i,d)}function Ba(t,n){if(null!==n){const i=n.type;if(3&i)return Os(n,t);if(4&i)return fh(-1,t[n.index]);if(8&i){const a=n.child;if(null!==a)return Ba(t,a);{const d=t[n.index];return Ii(d)?fh(-1,d):vi(d)}}if(32&i)return Wl(n,t)()||vi(t[n.index]);{const a=hh(t,n);return null!==a?Array.isArray(a)?a[0]:Ba(El(t[Y]),a):Ba(t,n.next)}}return null}function hh(t,n){return null!==n?t[Y][ai].projection[n.projection]:null}function fh(t,n){const i=yr+t+1;if(i<n.length){const a=n[i],d=a[_n].firstChild;if(null!==d)return Ba(a,d)}return n[mi]}function ph(t,n,i,a,d,p,b){for(;null!=i;){const D=a[i.index],x=i.type;if(b&&0===n&&(D&&Js(vi(D),a),i.flags|=2),32!=(32&i.flags))if(8&x)ph(t,n,i.child,a,d,p,!1),Kl(n,t,d,D,p);else if(32&x){const q=Wl(i,a);let le;for(;le=q();)Kl(n,t,d,le,p);Kl(n,t,d,D,p)}else 16&x?wf(t,n,a,i,d,p):Kl(n,t,d,D,p);i=b?i.projectionNext:i.next}}function Jl(t,n,i,a,d,p){ph(i,a,t.firstChild,n,d,p,!1)}function wf(t,n,i,a,d,p){const b=i[Y],x=b[ai].projection[a.projection];if(Array.isArray(x))for(let q=0;q<x.length;q++)Kl(n,t,d,x[q],p);else{let q=x;const le=b[xr];Zu(a)&&(q.flags|=128),ph(t,n,q,le,d,p,!0)}}function qc(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function Np(t,n,i){const{mergedAttrs:a,classes:d,styles:p}=i;null!==a&&Sr(t,n,a),null!==d&&qc(t,n,d),null!==p&&function Zg(t,n,i){t.setAttribute(n,"style",i)}(t,n,p)}function nd(t){return function bl(){if(void 0===kp&&(kp=null,Kn.trustedTypes))try{kp=Kn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return kp}()?.createHTML(t)||t}function Sf(t){Df=t}function qg(t){return function gh(){if(void 0===Cl&&(Cl=null,Kn.trustedTypes))try{Cl=Kn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Cl}()?.createScriptURL(t)||t}class Xl{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ke})`}}class Up extends Xl{getTypeName(){return"HTML"}}class i_ extends Xl{getTypeName(){return"Style"}}class Wc extends Xl{getTypeName(){return"Script"}}class sd extends Xl{getTypeName(){return"URL"}}class mh extends Xl{getTypeName(){return"ResourceURL"}}function Ea(t){return t instanceof Xl?t.changingThisBreaksApplicationSecurity:t}function cc(t,n){const i=function s_(t){return t instanceof Xl&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${ke})`)}return i===n}function Bp(t){return new Up(t)}function Wg(t){return new i_(t)}function od(t){return new Wc(t)}function Pf(t){return new sd(t)}function Rf(t){return new mh(t)}class jp{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(nd(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class xf{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=nd(n),i}}const vh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ad(t){return(t=String(t)).match(vh)?t:"unsafe:"+t}function lc(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function Kc(...t){const n={};for(const i of t)for(const a in i)i.hasOwnProperty(a)&&(n[a]=!0);return n}const Kg=lc("area,br,col,hr,img,wbr"),Of=lc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Nf=lc("rp,rt"),eu=Kc(Kg,Kc(Of,lc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Kc(Nf,lc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Kc(Nf,Of)),Lf=lc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tu=Kc(Lf,lc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),lc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Hp=lc("script,style,template");class c_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,a=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?a=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,a&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let d=this.checkClobberedElement(i,i.nextSibling);if(d){i=d;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!eu.hasOwnProperty(i))return this.sanitizedSomething=!0,!Hp.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const a=n.attributes;for(let d=0;d<a.length;d++){const p=a.item(d),b=p.name,D=b.toLowerCase();if(!tu.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let x=p.value;Lf[D]&&(x=ad(x)),this.buf.push(" ",b,'="',zp(x),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();eu.hasOwnProperty(i)&&!Kg.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(zp(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const Jg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l_=/([^\#-~ |!])/g;function zp(t){return t.replace(/&/g,"&amp;").replace(Jg,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(l_,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let yh;function $p(t,n){let i=null;try{yh=yh||function _h(t){const n=new xf(t);return function o_(){try{return!!(new window.DOMParser).parseFromString(nd(""),"text/html")}catch{return!1}}()?new jp(n):n}(t);let a=n?String(n):"";i=yh.getInertBodyElement(a);let d=5,p=a;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,a=p,p=i.innerHTML,i=yh.getInertBodyElement(a)}while(a!==p);return nd((new c_).sanitizeChildren(Eh(i)||i))}finally{if(i){const a=Eh(i)||i;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Eh(t){return"content"in t&&function u_(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var nu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(nu||{});function Vf(t){const n=Nr();return n?n.sanitize(nu.URL,t)||"":cc(t,"URL")?Ea(t):ad(Ge(t))}function Xg(t){const n=Nr();if(n)return qg(n.sanitize(nu.RESOURCE_URL,t)||"");if(cc(t,"ResourceURL"))return qg(Ea(t));throw new Oe(904,!1)}function Gp(t,n,i){return function Bf(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Xg:Vf}(n,i)(t)}function Nr(){const t=Zt();return t&&t[ms].sanitizer}const cd=new gn("ENVIRONMENT_INITIALIZER"),ld=new gn("INJECTOR",-1),ud=new gn("INJECTOR_DEF_TYPES");class Ih{get(n,i=$n){if(i===$n){const a=new Error(`NullInjectorError: No provider for ${oe(n)}!`);throw a.name="NullInjectorError",a}return i}}function Us(t){return{\u0275providers:t}}function hs(...t){return{\u0275providers:Es(0,t),\u0275fromNgModule:!0}}function Es(t,...n){const i=[],a=new Set;let d;const p=b=>{i.push(b)};return tc(n,b=>{const D=b;jf(D,p,[],a)&&(d||=[],d.push(D))}),void 0!==d&&iu(d,p),i}function iu(t,n){for(let i=0;i<t.length;i++){const{ngModule:a,providers:d}=t[i];Hf(d,p=>{n(p,a)})}}function jf(t,n,i,a){if(!(t=xe(t)))return!1;let d=null,p=jr(t);const b=!p&&Wn(t);if(p||b){if(b&&!b.standalone)return!1;d=t}else{const x=t.ngModule;if(p=jr(x),!p)return!1;d=x}const D=a.has(d);if(b){if(D)return!1;if(a.add(d),b.dependencies){const x="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const q of x)jf(q,n,i,a)}}else{if(!p)return!1;{if(null!=p.imports&&!D){let q;a.add(d);try{tc(p.imports,le=>{jf(le,n,i,a)&&(q||=[],q.push(le))})}finally{}void 0!==q&&iu(q,n)}if(!D){const q=oo(d)||(()=>new d);n({provide:d,useFactory:q,deps:yn},d),n({provide:ud,useValue:d,multi:!0},d),n({provide:cd,useValue:()=>$t(d),multi:!0},d)}const x=p.providers;if(null!=x&&!D){const q=t;Hf(x,le=>{n(le,q)})}}}return d!==t&&void 0!==t.providers}function Hf(t,n){for(let i of t)We(i)&&(i=i.\u0275providers),Array.isArray(i)?Hf(i,n):n(i)}const Zp=$({provide:String,useValue:$});function zf(t){return null!==t&&"object"==typeof t&&Zp in t}function ou(t){return"function"==typeof t}const tm=new gn("Set Injector scope."),bh={},is={};let $f;function Gf(){return void 0===$f&&($f=new Ih),$f}class uc{}class Tl extends uc{get destroyed(){return this._destroyed}constructor(n,i,a,d){super(),this.parent=i,this.source=a,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,au(n,b=>this.processProvider(b)),this.records.set(ld,Ch(void 0,this)),d.has("environment")&&this.records.set(uc,Ch(void 0,this));const p=this.records.get(tm);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(ud.multi,yn,In.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=Xe(this),a=Er(void 0);try{return n()}finally{Xe(i),Er(a)}}get(n,i=$n,a=In.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(vn))return n[vn](this);a=hn(a);const p=Xe(this),b=Er(void 0);try{if(!(a&In.SkipSelf)){let x=this.records.get(n);if(void 0===x){const q=function rm(t){return"function"==typeof t||"object"==typeof t&&t instanceof gn}(n)&&kn(n);x=q&&this.injectableDefInScope(q)?Ch(dd(n),bh):null,this.records.set(n,x)}if(null!=x)return this.hydrate(n,x)}return(a&In.Self?Gf():this.parent).get(n,i=a&In.Optional&&i===$n?null:i)}catch(D){if("NullInjectorError"===D.name){if((D[Cr]=D[Cr]||[]).unshift(oe(n)),p)throw D;return function nt(t,n,i,a){const d=t[Cr];throw n[H]&&d.unshift(n[H]),t.message=function jt(t,n,i,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let d=oe(n);if(Array.isArray(n))d=n.map(oe).join(" -> ");else if("object"==typeof n){let p=[];for(let b in n)if(n.hasOwnProperty(b)){let D=n[b];p.push(b+":"+("string"==typeof D?JSON.stringify(D):oe(D)))}d=`{${p.join(", ")}}`}return`${i}${a?"("+a+")":""}[${d}]: ${t.replace(ce,"\n  ")}`}("\n"+t.message,d,i,a),t.ngTokenPath=d,t[Cr]=null,t}(D,n,"R3InjectorError",this.source)}throw D}finally{Er(b),Xe(p)}}resolveInjectorInitializers(){const n=Xe(this),i=Er(void 0);try{const d=this.get(cd.multi,yn,In.Self);for(const p of d)p()}finally{Xe(n),Er(i)}}toString(){const n=[],i=this.records;for(const a of i.keys())n.push(oe(a));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Oe(205,!1)}processProvider(n){let i=ou(n=xe(n))?n:xe(n&&n.provide);const a=function g_(t){return zf(t)?Ch(void 0,t.useValue):Ch(qp(t),bh)}(n);if(ou(n)||!0!==n.multi)this.records.get(i);else{let d=this.records.get(i);d||(d=Ch(void 0,bh,!0),d.factory=()=>Xn(d.multi),this.records.set(i,d)),i=n,d.multi.push(n)}this.records.set(i,a)}hydrate(n,i){return i.value===bh&&(i.value=is,i.value=i.factory()),"object"==typeof i.value&&i.value&&function __(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=xe(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function dd(t){const n=kn(t),i=null!==n?n.factory:oo(t);if(null!==i)return i;if(t instanceof gn)throw new Oe(204,!1);if(t instanceof Function)return function nm(t){const n=t.length;if(n>0)throw nc(n,"?"),new Oe(204,!1);const i=function Qt(t){return t&&(t[xn]||t[sr])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new Oe(204,!1)}function qp(t,n,i){let a;if(ou(t)){const d=xe(t);return oo(d)||dd(d)}if(zf(t))a=()=>xe(t.useValue);else if(function em(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Xn(t.deps||[]));else if(function su(t){return!(!t||!t.useExisting)}(t))a=()=>$t(xe(t.useExisting));else{const d=xe(t&&(t.useClass||t.provide));if(!function m_(t){return!!t.deps}(t))return oo(d)||dd(d);a=()=>new d(...Xn(t.deps))}return a}function Ch(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function au(t,n){for(const i of t)Array.isArray(i)?au(i,n):i&&We(i)?au(i.\u0275providers,n):n(i)}const im=new gn("AppId",{providedIn:"root",factory:()=>Qc}),Qc="ng",ja=new gn("Platform Initializer"),Wp=new gn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Kp=new gn("AnimationModuleType"),ov=new gn("CSP nonce",{providedIn:"root",factory:()=>function id(){if(void 0!==Df)return Df;if(typeof document<"u")return document;throw new Oe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Ph=(t,n,i)=>null;function Rh(t,n,i=!1){return Ph(t,n,i)}class lv{}class uv{}class dv{resolveComponentFactory(n){throw function um(t){const n=Error(`No component factory found for ${oe(t)}.`);return n.ngComponent=t,n}(n)}}let Yp=(()=>{class t{static#e=this.NULL=new dv}return t})();function Jp(){return Nh(ys(),Zt())}function Nh(t,n){return new Yf(Os(t,n))}let Yf=(()=>{class t{constructor(i){this.nativeElement=i}static#e=this.__NG_ELEMENT_ID__=Jp}return t})();function Xp(t){return t instanceof Yf?t.nativeElement:t}class E_{}let hv=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function A_(){const t=Zt(),i=Ns(ys().index,t);return(Kr(i)?i:t)[rr]}()}return t})(),I_=(()=>{class t{static#e=this.\u0275prov=Rn({token:t,providedIn:"root",factory:()=>null})}return t})();class hm{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const fm=new hm("16.2.12"),eg={};function lu(t,n=null,i=null,a){const d=w_(t,n,i,a);return d.resolveInjectorInitializers(),d}function w_(t,n=null,i=null,a,d=new Set){const p=[i||yn,hs(t)];return a=a||("object"==typeof t?void 0:oe(t)),new Tl(p,n||Gf(),a||null,d)}let hc=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=$n;static#t=this.NULL=new Ih;static create(i,a){if(Array.isArray(i))return lu({name:""},a,i,"");{const d=i.name??"";return lu({name:d},i.parent,i.providers,d)}}static#n=this.\u0275prov=Rn({token:t,providedIn:"any",factory:()=>$t(ld)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function pm(t){return t.ngOriginalError}class uu{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&pm(n);for(;i&&pm(i);)i=pm(i);return i||null}}function mm(t){return n=>{setTimeout(t,void 0,n)}}const Jc=class gv extends f.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,a){let d=n,p=i||(()=>null),b=a;if(n&&"object"==typeof n){const x=n;d=x.next?.bind(x),p=x.error?.bind(x),b=x.complete?.bind(x)}this.__isAsync&&(p=mm(p),d&&(d=mm(d)),b&&(b=mm(b)));const D=super.subscribe({next:d,error:p,complete:b});return n instanceof o.w0&&n.add(D),D}};function S_(...t){}class As{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Jc(!1),this.onMicrotaskEmpty=new Jc(!1),this.onStable=new Jc(!1),this.onError=new Jc(!1),typeof Zone>"u")throw new Oe(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!a&&i,d.shouldCoalesceRunChangeDetection=a,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function mv(){const t="function"==typeof Kn.requestAnimationFrame;let n=Kn[t?"requestAnimationFrame":"setTimeout"],i=Kn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const d=i[Zone.__symbol__("OriginalDelegate")];d&&(i=d)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function vv(t){const n=()=>{!function _v(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Kn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,vm(t),t.isCheckStableRunning=!0,M_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),vm(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,a,d,p,b,D)=>{if(function Ey(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(D))return i.invokeTask(d,p,b,D);try{return P_(t),i.invokeTask(d,p,b,D)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||t.shouldCoalesceRunChangeDetection)&&n(),R_(t)}},onInvoke:(i,a,d,p,b,D,x)=>{try{return P_(t),i.invoke(d,p,b,D,x)}finally{t.shouldCoalesceRunChangeDetection&&n(),R_(t)}},onHasTask:(i,a,d,p)=>{i.hasTask(d,p),a===d&&("microTask"==p.change?(t._hasPendingMicrotasks=p.microTask,vm(t),M_(t)):"macroTask"==p.change&&(t.hasPendingMacrotasks=p.macroTask))},onHandleError:(i,a,d,p)=>(i.handleError(d,p),t.runOutsideAngular(()=>t.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!As.isInAngularZone())throw new Oe(909,!1)}static assertNotInAngularZone(){if(As.isInAngularZone())throw new Oe(909,!1)}run(n,i,a){return this._inner.run(n,i,a)}runTask(n,i,a,d){const p=this._inner,b=p.scheduleEventTask("NgZoneEvent: "+d,n,_m,S_,S_);try{return p.runTask(b,i,a)}finally{p.cancelTask(b)}}runGuarded(n,i,a){return this._inner.runGuarded(n,i,a)}runOutsideAngular(n){return this._outer.run(n)}}const _m={};function M_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vm(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function P_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function R_(t){t._nesting--,M_(t)}class yy{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Jc,this.onMicrotaskEmpty=new Jc,this.onStable=new Jc,this.onError=new Jc}run(n,i,a){return n.apply(i,a)}runGuarded(n,i,a){return n.apply(i,a)}runOutsideAngular(n){return n()}runTask(n,i,a,d){return n.apply(i,a)}}const yv=new gn("",{providedIn:"root",factory:Ev});function Ev(){const t=on(As);let n=!0;const i=new B.y(d=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{d.next(n),d.complete()})}),a=new B.y(d=>{let p;t.runOutsideAngular(()=>{p=t.onStable.subscribe(()=>{As.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,d.next(!0))})})});const b=t.onUnstable.subscribe(()=>{As.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{d.next(!1)}))});return()=>{p.unsubscribe(),b.unsubscribe()}});return(0,Se.T)(i,a.pipe((0,de.B)()))}function Xc(t){return t instanceof Function?t():t}let ng=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Rn({token:t,providedIn:"root",factory:()=>new t})}return t})();function Fh(t){for(;t;){t[er]|=64;const n=El(t);if(Ta(t)&&!n)return t;t=n}return null}const Iv=new gn("",{providedIn:"root",factory:()=>!1});let Lh=null;function ep(t,n){return t[n]??s()}function c(t,n){const i=s();i.producerNode?.length&&(t[n]=Lh,i.lView=t,Lh=r())}const e={...bc,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Fh(t.lView)},lView:null};function r(){return Object.create(e)}function s(){return Lh??=r(),Lh}const l={};function m(t){I(Gr(),Zt(),Ks()+t,!1)}function I(t,n,i,a){if(!a)if(3==(3&n[er])){const p=t.preOrderCheckHooks;null!==p&&Na(n,p,i)}else{const p=t.preOrderHooks;null!==p&&ka(n,p,0,i)}ko(i)}function P(t,n=In.Default){const i=Zt();return null===i?$t(t,n):La(ys(),i,xe(t),n)}function L(){throw new Error("invalid")}function he(t,n,i,a,d,p,b,D,x,q,le){const Re=n.blueprint.slice();return Re[zr]=d,Re[er]=140|a,(null!==q||t&&2048&t[er])&&(Re[er]|=2048),Qo(Re),Re[xr]=Re[re]=t,Re[oi]=i,Re[ms]=b||t&&t[ms],Re[rr]=D||t&&t[rr],Re[ns]=x||t&&t[ns]||null,Re[ai]=p,Re[Lt]=function kg(){return Ng++}(),Re[Kt]=le,Re[fn]=q,Re[Y]=2==n.type?t[Y]:Re,Re}function Me(t,n,i,a,d){let p=t.data[n];if(null===p)p=function et(t,n,i,a,d){const p=Zi(),b=xc(),x=t.data[n]=function At(t,n,i,a,d,p){let b=n?n.injectorIndex:-1,D=0;return Oa()&&(D|=128),{type:i,index:a,insertBeforeIndex:null,injectorIndex:b,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:D,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?p:p&&p.parent,i,n,a,d);return null===t.firstChild&&(t.firstChild=x),null!==p&&(b?null==p.child&&null!==x.parent&&(p.child=x):null===p.next&&(p.next=x,x.prev=p)),x}(t,n,i,a,d),function O(){return hr.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=i,p.value=a,p.attrs=d;const b=function Rc(){const t=hr.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();p.injectorIndex=null===b?-1:b.injectorIndex}return ks(p,!0),p}function Ct(t,n,i,a){if(0===i)return-1;const d=n.length;for(let p=0;p<i;p++)n.push(a),t.blueprint.push(a),t.data.push(null);return d}function qt(t,n,i,a,d){const p=ep(n,An),b=Ks(),D=2&a;try{ko(-1),D&&n.length>jn&&I(t,n,jn,!1),lr(D?2:0,d);const q=D?p:null,le=pr(q);try{null!==q&&(q.dirty=!1),i(a,d)}finally{Cc(q,le)}}finally{D&&null===n[An]&&c(n,An),ko(b),lr(D?3:1,d)}}function dn(t,n,i){if(go(n)){const a=Bi(null);try{const p=n.directiveEnd;for(let b=n.directiveStart;b<p;b++){const D=t.data[b];D.contentQueries&&D.contentQueries(1,i[b],b)}}finally{Bi(a)}}}function tn(t,n,i){ki()&&(function Mv(t,n,i,a){const d=i.directiveStart,p=i.directiveEnd;rs(i)&&function bm(t,n,i){const a=Os(n,t),d=or(i);let b=16;i.signals?b=4096:i.onPush&&(b=64);const D=Uh(t,he(t,d,null,b,a,n,null,t[ms].rendererFactory.createRenderer(a,i),null,null,null));t[n.index]=D}(n,i,t.data[d+i.componentOffset]),t.firstCreatePass||Ru(i,n),Js(a,n);const b=i.initialInputs;for(let D=d;D<p;D++){const x=t.data[D],q=Nc(n,t,D,i);Js(q,n),null!==b&&V_(0,D-d,q,x,0,b),$i(x)&&(Ns(i.index,n)[oi]=Nc(n,t,D,i))}}(t,n,i,Os(i,n)),64==(64&i.flags)&&Vh(t,n,i))}function Zn(t,n,i=Os){const a=n.localNames;if(null!==a){let d=n.index+1;for(let p=0;p<a.length;p+=2){const b=a[p+1],D=-1===b?i(n,t):t[b];t[d++]=D}}}function or(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Qn(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Qn(t,n,i,a,d,p,b,D,x,q,le){const Re=jn+a,ct=Re+d,Et=function Mr(t,n){const i=[];for(let a=0;a<n;a++)i.push(a<t?null:l);return i}(Re,ct),zt="function"==typeof q?q():q;return Et[_n]={type:t,blueprint:Et,template:i,queries:null,viewQuery:D,declTNode:n,data:Et.slice().fill(null,Re),bindingStartIndex:Re,expandoStartIndex:ct,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:x,consts:zt,incompleteFirstPass:!1,ssrId:le}}let pt=t=>null;function Rt(t,n,i,a){for(let d in t)if(t.hasOwnProperty(d)){i=null===i?{}:i;const p=t[d];null===a?rt(i,n,d,p):a.hasOwnProperty(d)&&rt(i,n,a[d],p)}return i}function rt(t,n,i,a){t.hasOwnProperty(i)?t[i].push(n,a):t[i]=[n,a]}function Ia(t,n,i,a,d,p,b,D){const x=Os(n,i);let le,q=n.inputs;!D&&null!=q&&(le=q[a])?(eo(t,i,le,a,d),rs(n)&&function np(t,n){const i=Ns(n,t);16&i[er]||(i[er]|=64)}(i,n.index)):3&n.type&&(a=function tp(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),d=null!=b?b(d,n.value||"",a):d,p.setProperty(x,a,d))}function rg(t,n,i,a){if(ki()){const d=null===a?null:{"":-1},p=function ip(t,n){const i=t.directiveRegistry;let a=null,d=null;if(i)for(let p=0;p<i.length;p++){const b=i[p];if(ii(n,b.selectors,!1))if(a||(a=[]),$i(b))if(null!==b.findHostDirectiveDefs){const D=[];d=d||new Map,b.findHostDirectiveDefs(b,D,d),a.unshift(...D,b),Am(t,n,D.length)}else a.unshift(b),Am(t,n,0);else d=d||new Map,b.findHostDirectiveDefs?.(b,a,d),a.push(b)}return null===a?null:[a,d]}(t,i);let b,D;null===p?b=D=null:[b,D]=p,null!==b&&L_(t,n,i,b,d,D),d&&function Rv(t,n,i){if(n){const a=t.localNames=[];for(let d=0;d<n.length;d+=2){const p=i[n[d+1]];if(null==p)throw new Oe(-301,!1);a.push(n[d],p)}}}(i,a,d)}i.mergedAttrs=dr(i.mergedAttrs,i.attrs)}function L_(t,n,i,a,d,p){for(let q=0;q<a.length;q++)di(Ru(i,n),t,a[q].type);!function sg(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,a.length);for(let q=0;q<a.length;q++){const le=a[q];le.providersResolver&&le.providersResolver(le)}let b=!1,D=!1,x=Ct(t,n,a.length,null);for(let q=0;q<a.length;q++){const le=a[q];i.mergedAttrs=dr(i.mergedAttrs,le.hostAttrs),Im(t,i,n,x,le),ig(x,le,d),null!==le.contentQueries&&(i.flags|=4),(null!==le.hostBindings||null!==le.hostAttrs||0!==le.hostVars)&&(i.flags|=64);const Re=le.type.prototype;!b&&(Re.ngOnChanges||Re.ngOnInit||Re.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),b=!0),!D&&(Re.ngOnChanges||Re.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),D=!0),x++}!function Ml(t,n,i){const d=n.directiveEnd,p=t.data,b=n.attrs,D=[];let x=null,q=null;for(let le=n.directiveStart;le<d;le++){const Re=p[le],ct=i?i.get(Re):null,zt=ct?ct.outputs:null;x=Rt(Re.inputs,le,x,ct?ct.inputs:null),q=Rt(Re.outputs,le,q,zt);const un=null===x||null===b||Hr(n)?null:xv(x,le,b);D.push(un)}null!==x&&(x.hasOwnProperty("class")&&(n.flags|=8),x.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=D,n.inputs=x,n.outputs=q}(t,i,p)}function Vh(t,n,i){const a=i.directiveStart,d=i.directiveEnd,p=i.index,b=function W(){return hr.lFrame.currentDirectiveIndex}();try{ko(p);for(let D=a;D<d;D++){const x=t.data[D],q=n[D];fe(D),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&Pv(x,q)}}finally{ko(-1),fe(b)}}function Pv(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Am(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function ig(t,n,i){if(i){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)i[n.exportAs[a]]=t;$i(n)&&(i[""]=t)}}function Im(t,n,i,a,d){t.data[a]=d;const p=d.factory||(d.factory=oo(d.type)),b=new al(p,$i(d),P);t.blueprint[a]=b,i[a]=b,function du(t,n,i,a,d){const p=d.hostBindings;if(p){let b=t.hostBindingOpCodes;null===b&&(b=t.hostBindingOpCodes=[]);const D=~n.index;(function yo(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(b)!=D&&b.push(D),b.push(i,a,p)}}(t,n,a,Ct(t,i,d.hostVars,l),d)}function za(t,n,i,a,d,p){const b=Os(t,n);!function sp(t,n,i,a,d,p,b){if(null==p)t.removeAttribute(n,d,i);else{const D=null==b?Ge(p):b(p,a||"",d);t.setAttribute(n,d,D,i)}}(n[rr],b,p,t.value,i,a,d)}function V_(t,n,i,a,d,p){const b=p[n];if(null!==b)for(let D=0;D<b.length;)Cm(a,i,b[D++],b[D++],b[D++])}function Cm(t,n,i,a,d){const p=Bi(null);try{const b=t.inputTransforms;null!==b&&b.hasOwnProperty(a)&&(d=b[a].call(n,d)),null!==t.setInput?t.setInput(n,d,i,a):n[a]=d}finally{Bi(p)}}function xv(t,n,i){let a=null,d=0;for(;d<i.length;){const p=i[d];if(0!==p)if(5!==p){if("number"==typeof p)break;if(t.hasOwnProperty(p)){null===a&&(a=[]);const b=t[p];for(let D=0;D<b.length;D+=2)if(b[D]===n){a.push(p,b[D+1],i[d+1]);break}}d+=2}else d+=2;else d+=4}return a}function Tm(t,n,i,a){return[t,!0,!1,n,null,0,a,i,null,null,null]}function wm(t,n){const i=t.contentQueries;if(null!==i)for(let a=0;a<i.length;a+=2){const p=i[a+1];if(-1!==p){const b=t.data[p];St(i[a]),b.contentQueries(2,n[p],p)}}}function Uh(t,n){return t[Ds]?t[ci][Oi]=n:t[Ds]=n,t[ci]=n,n}function og(t,n,i){St(0);const a=Bi(null);try{n(t,i)}finally{Bi(a)}}function ag(t){return t[ws]||(t[ws]=[])}function cg(t){return t.cleanup||(t.cleanup=[])}function Xs(t,n){const i=t[ns],a=i?i.get(uu,null):null;a&&a.handleError(n)}function eo(t,n,i,a,d){for(let p=0;p<i.length;){const b=i[p++],D=i[p++];Cm(t.data[b],n[b],a,D,d)}}function ba(t,n,i){const a=qo(n,t);!function Ug(t,n,i){t.setValue(n,i)}(t[rr],a,i)}function Dm(t,n){const i=Ns(n,t),a=i[_n];!function Sm(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(a,i);const d=i[zr];null!==d&&null===i[Kt]&&(i[Kt]=Rh(d,i[ns])),Bh(a,i,i[oi])}function Bh(t,n,i){ui(n);try{const a=t.viewQuery;null!==a&&og(1,a,i);const d=t.template;null!==d&&qt(t,n,d,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&wm(t,n),t.staticViewQueries&&og(2,t.viewQuery,i);const p=t.components;null!==p&&function Id(t,n){for(let i=0;i<n.length;i++)Dm(t,n[i])}(n,p)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[er]&=-5,pa()}}let ug=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,a,d){const p=typeof Zone>"u"?null:Zone.current,b=function Ht(t,n,i){const a=Object.create(Fr);i&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=n;const d=b=>{a.cleanupFn=b};return a.ref={notify:()=>Pa(a),run:()=>{if(a.dirty=!1,a.hasRun&&!nl(a))return;a.hasRun=!0;const b=pr(a);try{a.cleanupFn(),a.cleanupFn=Pn,a.fn(d)}finally{Cc(a,b)}},cleanup:()=>a.cleanupFn()},a.ref}(i,q=>{this.all.has(q)&&this.queue.set(q,p)},d);let D;this.all.add(b),b.notify();const x=()=>{b.cleanup(),D?.(),this.all.delete(b),this.queue.delete(b)};return D=a?.onDestroy(x),{destroy:x}}flush(){if(0!==this.queue.size)for(const[i,a]of this.queue)this.queue.delete(i),a?a.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Rn({token:t,providedIn:"root",factory:()=>new t})}return t})();function Pl(t,n,i){let a=i?t.styles:null,d=i?t.classes:null,p=0;if(null!==n)for(let b=0;b<n.length;b++){const D=n[b];"number"==typeof D?p=D:1==p?d=be(d,D):2==p&&(a=be(a,D+": "+n[++b]+";"))}i?t.styles=a:t.stylesWithoutHost=a,i?t.classes=d:t.classesWithoutHost=d}function jh(t,n,i,a,d=!1){for(;null!==i;){const p=n[i.index];null!==p&&a.push(vi(p)),Ii(p)&&Mm(p,a);const b=i.type;if(8&b)jh(t,n,i.child,a);else if(32&b){const D=Wl(i,n);let x;for(;x=D();)a.push(x)}else if(16&b){const D=hh(n,i);if(Array.isArray(D))a.push(...D);else{const x=El(n[Y]);jh(x[_n],x,D,a,!0)}}i=d?i.projectionNext:i.next}return a}function Mm(t,n){for(let i=yr;i<t.length;i++){const a=t[i],d=a[_n].firstChild;null!==d&&jh(a[_n],a,d,n)}t[mi]!==t[zr]&&n.push(t[mi])}function bd(t,n,i,a=!0){const d=n[ms],p=d.rendererFactory,b=d.afterRenderEventManager;p.begin?.(),b?.begin();try{Cd(t,n,t.template,i)}catch(x){throw a&&Xs(n,x),x}finally{p.end?.(),d.effectManager?.flush(),b?.end()}}function Cd(t,n,i,a){const d=n[er];if(256!=(256&d)){n[ms].effectManager?.flush(),ui(n);try{Qo(n),function bu(t){return hr.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&qt(t,n,i,2,a);const b=3==(3&d);if(b){const q=t.preOrderCheckHooks;null!==q&&Na(n,q,null)}else{const q=t.preOrderHooks;null!==q&&ka(n,q,0,null),ea(n,0)}if(function Rm(t){for(let n=Vg(t);null!==n;n=sc(n)){if(!n[Or])continue;const i=n[ls];for(let a=0;a<i.length;a++){Po(i[a])}}}(n),dg(n,2),null!==t.contentQueries&&wm(t,n),b){const q=t.contentCheckHooks;null!==q&&Na(n,q)}else{const q=t.contentHooks;null!==q&&ka(n,q,1),ea(n,1)}!function J(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const a=ep(n,_r);try{for(let d=0;d<i.length;d++){const p=i[d];if(p<0)ko(~p);else{const b=p,D=i[++d],x=i[++d];N(D,b),a.dirty=!1;const q=pr(a);try{x(2,n[b])}finally{Cc(a,q)}}}}finally{null===n[_r]&&c(n,_r),ko(-1)}}(t,n);const D=t.components;null!==D&&op(n,D,0);const x=t.viewQuery;if(null!==x&&og(2,x,a),b){const q=t.viewCheckHooks;null!==q&&Na(n,q)}else{const q=t.viewHooks;null!==q&&ka(n,q,2),ea(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[er]&=-73,_u(n)}finally{pa()}}}function dg(t,n){for(let i=Vg(t);null!==i;i=sc(i))for(let a=yr;a<i.length;a++)xm(i[a],n)}function Td(t,n,i){xm(Ns(n,t),i)}function xm(t,n){if(!function Mc(t){return 128==(128&t[er])}(t))return;const i=t[_n],a=t[er];if(80&a&&0===n||1024&a||2===n)Cd(i,t,i.template,t[oi]);else if(t[ts]>0){dg(t,1);const d=i.components;null!==d&&op(t,d,1)}}function op(t,n,i){for(let a=0;a<n.length;a++)Td(t,n[a],i)}class Hh{get rootNodes(){const n=this._lView,i=n[_n];return jh(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[oi]}set context(n){this._lView[oi]=n}get destroyed(){return 256==(256&this._lView[er])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[xr];if(Ii(n)){const i=n[8],a=i?i.indexOf(this):-1;a>-1&&(Ql(n,a),Fu(i,a))}this._attachedToViewContainer=!1}Al(this._lView[_n],this._lView)}onDestroy(n){!function Jh(t,n){if(256==(256&t[er]))throw new Oe(911,!1);null===t[Mn]&&(t[Mn]=[]),t[Mn].push(n)}(this._lView,n)}markForCheck(){Fh(this._cdRefInjectingView||this._lView)}detach(){this._lView[er]&=-129}reattach(){this._lView[er]|=128}detectChanges(){bd(this._lView[_n],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Oe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function If(t,n){Jl(t,n,n[rr],2,null,null)}(this._lView[_n],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Oe(902,!1);this._appRef=n}}class ap extends Hh{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;bd(n[_n],n,n[oi],!1)}checkNoChanges(){}get context(){return null}}class Om extends Yp{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Wn(n);return new Rl(i,this.ngModule)}}function uo(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class cp{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,a){a=hn(a);const d=this.injector.get(n,eg,a);return d!==eg||i===eg?d:this.parentInjector.get(n,i,a)}}class Rl extends uv{get inputs(){const n=this.componentDef,i=n.inputTransforms,a=uo(n.inputs);if(null!==i)for(const d of a)i.hasOwnProperty(d.propName)&&(d.transform=i[d.propName]);return a}get outputs(){return uo(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function zi(t){return t.map(Vi).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,a,d){let p=(d=d||this.ngModule)instanceof uc?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const b=p?new cp(n,p):n,D=b.get(E_,null);if(null===D)throw new Oe(407,!1);const Re={rendererFactory:D,sanitizer:b.get(I_,null),effectManager:b.get(ug,null),afterRenderEventManager:b.get(ng,null)},ct=D.createRenderer(null,this.componentDef),Et=this.componentDef.selectors[0][0]||"div",zt=a?function Ti(t,n,i,a){const p=a.get(Iv,!1)||i===an.ShadowDom,b=t.selectRootElement(n,p);return function qr(t){pt(t)}(b),b}(ct,a,this.componentDef.encapsulation,b):lh(ct,Et,function j_(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Et)),cr=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let nn=null;null!==zt&&(nn=Rh(zt,b,!0));const kr=Qn(0,null,null,1,0,null,null,null,null,null,null),ni=he(null,kr,null,cr,null,null,Re,ct,b,null,nn);let Yi,yc;ui(ni);try{const Yh=this.componentDef;let Jm,E0=null;Yh.findHostDirectiveDefs?(Jm=[],E0=new Map,Yh.findHostDirectiveDefs(Yh,Jm,E0),Jm.push(Yh)):Jm=[Yh];const Zw=function Nv(t,n){const i=t[_n],a=jn;return t[a]=n,Me(i,a,2,"#host",null)}(ni,zt),qw=function zh(t,n,i,a,d,p,b){const D=d[_n];!function kv(t,n,i,a){for(const d of t)n.mergedAttrs=dr(n.mergedAttrs,d.hostAttrs);null!==n.mergedAttrs&&(Pl(n,n.mergedAttrs,!0),null!==i&&Np(a,i,n))}(a,t,n,b);let x=null;null!==n&&(x=Rh(n,d[ns]));const q=p.rendererFactory.createRenderer(n,i);let le=16;i.signals?le=4096:i.onPush&&(le=64);const Re=he(d,or(i),null,le,d[t.index],t,p,q,null,null,x);return D.firstCreatePass&&Am(D,t,a.length-1),Uh(d,Re),d[t.index]=Re}(Zw,zt,Yh,Jm,ni,Re,ct);yc=Sc(kr,jn),zt&&function $h(t,n,i,a){if(a)Sr(t,i,["ng-version",fm.full]);else{const{attrs:d,classes:p}=function Co(t){const n=[],i=[];let a=1,d=2;for(;a<t.length;){let p=t[a];if("string"==typeof p)2===d?""!==p&&n.push(p,t[++a]):8===d&&i.push(p);else{if(!Li(d))break;d=p}a++}return{attrs:n,classes:i}}(n.selectors[0]);d&&Sr(t,i,d),p&&p.length>0&&qc(t,i,p.join(" "))}}(ct,Yh,zt,a),void 0!==i&&function Nm(t,n,i){const a=t.projection=[];for(let d=0;d<n.length;d++){const p=i[d];a.push(null!=p?Array.from(p):null)}}(yc,this.ngContentSelectors,i),Yi=function Fv(t,n,i,a,d,p){const b=ys(),D=d[_n],x=Os(b,d);L_(D,d,b,i,null,a);for(let le=0;le<i.length;le++)Js(Nc(d,D,b.directiveStart+le,b),d);Vh(D,d,b),x&&Js(x,d);const q=Nc(d,D,b.directiveStart+b.componentOffset,b);if(t[oi]=d[oi]=q,null!==p)for(const le of p)le(q,n);return dn(D,b,t),q}(qw,Yh,Jm,E0,ni,[hg]),Bh(kr,ni,null)}finally{pa()}return new Ov(this.componentType,Yi,Nh(yc,ni),ni,yc)}}class Ov extends lv{constructor(n,i,a,d,p){super(),this.location=a,this._rootLView=d,this._tNode=p,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new ap(d),this.componentType=n}setInput(n,i){const a=this._tNode.inputs;let d;if(null!==a&&(d=a[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const p=this._rootLView;eo(p[_n],p,d,n,i),this.previousInputValues.set(n,i),Fh(Ns(this._tNode.index,p))}}get injector(){return new Vs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function hg(){const t=ys();wu(Zt()[_n],t)}function h(t){let n=function E(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const a=[t];for(;n;){let d;if($i(t))d=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Oe(903,!1);d=n.\u0275dir}if(d){if(i){a.push(d);const b=t;b.inputs=_(t.inputs),b.inputTransforms=_(t.inputTransforms),b.declaredInputs=_(t.declaredInputs),b.outputs=_(t.outputs);const D=d.hostBindings;D&&_e(t,D);const x=d.viewQuery,q=d.contentQueries;if(x&&C(t,x),q&&G(t,q),z(t.inputs,d.inputs),z(t.declaredInputs,d.declaredInputs),z(t.outputs,d.outputs),null!==d.inputTransforms&&(null===b.inputTransforms&&(b.inputTransforms={}),z(b.inputTransforms,d.inputTransforms)),$i(d)&&d.data.animation){const le=t.data;le.animation=(le.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let b=0;b<p.length;b++){const D=p[b];D&&D.ngInherit&&D(t),D===h&&(i=!1)}}n=Object.getPrototypeOf(n)}!function u(t){let n=0,i=null;for(let a=t.length-1;a>=0;a--){const d=t[a];d.hostVars=n+=d.hostVars,d.hostAttrs=dr(d.hostAttrs,i=dr(i,d.hostAttrs))}}(a)}function _(t){return t===fr?{}:t===yn?[]:t}function C(t,n){const i=t.viewQuery;t.viewQuery=i?(a,d)=>{n(a,d),i(a,d)}:n}function G(t,n){const i=t.contentQueries;t.contentQueries=i?(a,d,p)=>{n(a,d,p),i(a,d,p)}:n}function _e(t,n){const i=t.hostBindings;t.hostBindings=i?(a,d)=>{n(a,d),i(a,d)}:n}function Ri(t){const n=t.inputConfig,i={};for(const a in n)if(n.hasOwnProperty(a)){const d=n[a];Array.isArray(d)&&d[2]&&(i[a]=d[2])}t.inputTransforms=i}function Ki(t){return!!el(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function el(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function os(t,n,i){return t[n]=i}function Qi(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function ho(t,n,i,a){const d=Qi(t,n,i);return Qi(t,n+1,a)||d}function no(t,n,i,a){const d=Zt();return Qi(d,fa(),n)&&(Gr(),za(Ni(),d,t,n,i,a)),no}function gc(t,n,i,a){return Qi(t,fa(),i)?n+Ge(i)+a:l}function Hn(t,n,i,a,d,p){const D=ho(t,function xo(){return hr.lFrame.bindingIndex}(),i,d);return S(2),D?n+Ge(i)+a+Ge(d)+p:l}function Um(t,n,i,a,d,p,b,D){const x=Zt(),q=Gr(),le=t+jn,Re=q.firstCreatePass?function Gv(t,n,i,a,d,p,b,D,x){const q=n.consts,le=Me(n,t,4,b||null,Ko(q,D));rg(n,i,le,Ko(q,x)),wu(n,le);const Re=le.tView=Qn(2,le,a,d,p,n.directiveRegistry,n.pipeRegistry,null,n.schemas,q,null);return null!==n.queries&&(n.queries.template(n,le),Re.queries=n.queries.embeddedTView(le)),le}(le,q,x,n,i,a,d,p,b):q.data[le];ks(Re,!1);const ct=Bm(q,x,Re,t);Cu()&&dh(q,x,ct,Re),Js(ct,x),Uh(x,x[le]=Tm(ct,x,ct,Re)),Ps(Re)&&tn(q,x,Re),null!=b&&Zn(x,Re,D)}let Bm=function Z_(t,n,i,a){return Xo(!0),n[rr].createComment("")};function Hm(t,n,i){const a=Zt();return Qi(a,fa(),n)&&Ia(Gr(),Ni(),a,t,n,a[rr],i,!1),Hm}function zm(t,n,i,a,d){const b=d?"class":"style";eo(t,i,n.inputs[b],b,a)}function vg(t,n,i,a){const d=Zt(),p=Gr(),b=jn+t,D=d[rr],x=p.firstCreatePass?function Wv(t,n,i,a,d,p){const b=n.consts,x=Me(n,t,2,a,Ko(b,d));return rg(n,i,x,Ko(b,p)),null!==x.attrs&&Pl(x,x.attrs,!1),null!==x.mergedAttrs&&Pl(x,x.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,x),x}(b,p,d,n,i,a):p.data[b],q=q_(p,d,x,D,n,t);d[b]=q;const le=Ps(x);return ks(x,!0),Np(D,q,x),32!=(32&x.flags)&&Cu()&&dh(p,d,q,x),0===function xa(){return hr.lFrame.elementDepthCount}()&&Js(q,d),function kd(){hr.lFrame.elementDepthCount++}(),le&&(tn(p,d,x),dn(p,x,d)),null!==a&&Zn(d,x),vg}function Qh(){let t=ys();xc()?Ya():(t=t.parent,ks(t,!1));const n=t;(function Fd(t){return hr.skipHydrationRootTNode===t})(n)&&function mp(){hr.skipHydrationRootTNode=null}(),function yu(){hr.lFrame.elementDepthCount--}();const i=Gr();return i.firstCreatePass&&(wu(i,t),go(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function _p(t){return 0!=(8&t.flags)}(n)&&zm(i,n,Zt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Hd(t){return 0!=(16&t.flags)}(n)&&zm(i,n,Zt(),n.stylesWithoutHost,!1),Qh}function aa(t,n,i,a){return vg(t,n,i,a),Qh(),aa}let q_=(t,n,i,a,d,p)=>(Xo(!0),lh(a,d,function Jo(){return hr.lFrame.currentNamespace}()));function Hi(){return Zt()}function ro(t){return!!t&&"function"==typeof t.then}function wi(t){return!!t&&"function"==typeof t.subscribe}function fo(t,n,i,a){const d=Zt(),p=Gr(),b=ys();return function mc(t,n,i,a,d,p,b){const D=Ps(a),q=t.firstCreatePass&&cg(t),le=n[oi],Re=ag(n);let ct=!0;if(3&a.type||b){const un=Os(a,n),On=b?b(un):un,cr=Re.length,nn=b?ni=>b(vi(ni[a.index])):a.index;let kr=null;if(!b&&D&&(kr=function fp(t,n,i,a){const d=t.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const b=d[p];if(b===i&&d[p+1]===a){const D=n[ws],x=d[p+2];return D.length>x?D[x]:null}"string"==typeof b&&(p+=2)}return null}(t,n,d,a.index)),null!==kr)(kr.__ngLastListenerFn__||kr).__ngNextListenerFn__=p,kr.__ngLastListenerFn__=p,ct=!1;else{p=$m(a,n,le,p,!1);const ni=i.listen(On,d,p);Re.push(p,ni),q&&q.push(d,nn,cr,cr+1)}}else p=$m(a,n,le,p,!1);const Et=a.outputs;let zt;if(ct&&null!==Et&&(zt=Et[d])){const un=zt.length;if(un)for(let On=0;On<un;On+=2){const Yi=n[zt[On]][zt[On+1]].subscribe(p),yc=Re.length;Re.push(p,Yi),q&&q.push(d,a.index,yc,-(yc+1))}}}(p,d,d[rr],b,t,n,a),fo}function yg(t,n,i,a){try{return lr(6,n,i),!1!==i(a)}catch(d){return Xs(t,d),!1}finally{lr(7,n,i)}}function $m(t,n,i,a,d){return function p(b){if(b===Function)return a;Fh(t.componentOffset>-1?Ns(t.index,n):n);let x=yg(n,i,a,b),q=p.__ngNextListenerFn__;for(;q;)x=yg(n,i,q,b)&&x,q=q.__ngNextListenerFn__;return d&&!1===x&&b.preventDefault(),x}}function w0(t=1){return function No(t){return(hr.lFrame.contextLView=function Ja(t,n){for(;t>0;)n=n[re],t--;return n}(t,hr.lFrame.contextLView))[oi]}(t)}function SI(t,n){let i=null;const a=function Ca(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(t);for(let d=0;d<n.length;d++){const p=n[d];if("*"!==p){if(null===a?ii(t,p,!0):Bo(a,p))return d}else i=d}return i}function D0(t){const n=Zt()[Y][ai];if(!n.projection){const a=n.projection=nc(t?t.length:1,null),d=a.slice();let p=n.child;for(;null!==p;){const b=t?SI(p,t):0;null!==b&&(d[b]?d[b].projectionNext=p:a[b]=p,d[b]=p),p=p.next}}}function S0(t,n=0,i){const a=Zt(),d=Gr(),p=Me(d,jn+t,16,null,i||null);null===p.projection&&(p.projection=n),Ya(),(!a[Kt]||Oa())&&32!=(32&p.flags)&&function Qs(t,n,i){wf(n[rr],0,n,i,sa(t,i,n),ya(i.parent||n[ai],i,n))}(d,a,p)}function Sy(t,n,i){return Qv(t,"",n,"",i),Sy}function Qv(t,n,i,a,d){const p=Zt(),b=gc(p,n,i,a);return b!==l&&Ia(Gr(),Ni(),p,t,b,p[rr],d,!1),Qv}function Yv(t,n){return t<<17|n<<2}function pp(t){return t>>17&32767}function My(t){return 2|t}function Eg(t){return(131068&t)>>2}function Py(t,n){return-131069&t|n<<2}function Ry(t){return 1|t}function L0(t,n,i,a,d){const p=t[i+1],b=null===n;let D=a?pp(p):Eg(p),x=!1;for(;0!==D&&(!1===x||b);){const le=t[D+1];NI(t[D],n)&&(x=!0,t[D+1]=a?Ry(le):My(le)),D=a?pp(le):Eg(le)}x&&(t[i+1]=a?My(p):Ry(p))}function NI(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Vc(t,n)>=0}function xy(t,n,i){return fu(t,n,i,!1),xy}function Oy(t,n){return fu(t,n,null,!0),Oy}function fu(t,n,i,a){const d=Zt(),p=Gr(),b=S(2);p.firstUpdatePass&&function G0(t,n,i,a){const d=t.data;if(null===d[i+1]){const p=d[Ks()],b=function $0(t,n){return n>=t.expandoStartIndex}(t,i);(function K0(t,n){return 0!=(t.flags&(n?8:16))})(p,a)&&null===n&&!b&&(n=!1),n=function zI(t,n,i,a){const d=function Ve(t){const n=hr.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let p=a?n.residualClasses:n.residualStyles;if(null===d)0===(a?n.classBindings:n.styleBindings)&&(i=W_(i=Ny(null,t,n,i,a),n.attrs,a),p=null);else{const b=n.directiveStylingLast;if(-1===b||t[b]!==d)if(i=Ny(d,t,n,i,a),null===p){let x=function $I(t,n,i){const a=i?n.classBindings:n.styleBindings;if(0!==Eg(a))return t[pp(a)]}(t,n,a);void 0!==x&&Array.isArray(x)&&(x=Ny(null,t,n,x[1],a),x=W_(x,n.attrs,a),function GI(t,n,i,a){t[pp(i?n.classBindings:n.styleBindings)]=a}(t,n,a,x))}else p=function ZI(t,n,i){let a;const d=n.directiveEnd;for(let p=1+n.directiveStylingLast;p<d;p++)a=W_(a,t[p].hostAttrs,i);return W_(a,n.attrs,i)}(t,n,a)}return void 0!==p&&(a?n.residualClasses=p:n.residualStyles=p),i}(d,p,n,a),function xI(t,n,i,a,d,p){let b=p?n.classBindings:n.styleBindings,D=pp(b),x=Eg(b);t[a]=i;let le,q=!1;if(Array.isArray(i)?(le=i[1],(null===le||Vc(i,le)>0)&&(q=!0)):le=i,d)if(0!==x){const ct=pp(t[D+1]);t[a+1]=Yv(ct,D),0!==ct&&(t[ct+1]=Py(t[ct+1],a)),t[D+1]=function PI(t,n){return 131071&t|n<<17}(t[D+1],a)}else t[a+1]=Yv(D,0),0!==D&&(t[D+1]=Py(t[D+1],a)),D=a;else t[a+1]=Yv(x,0),0===D?D=a:t[x+1]=Py(t[x+1],a),x=a;q&&(t[a+1]=My(t[a+1])),L0(t,le,a,!0),L0(t,le,a,!1),function OI(t,n,i,a,d){const p=d?t.residualClasses:t.residualStyles;null!=p&&"string"==typeof n&&Vc(p,n)>=0&&(i[a+1]=Ry(i[a+1]))}(n,le,t,a,p),b=Yv(D,x),p?n.classBindings=b:n.styleBindings=b}(d,p,n,i,b,a)}}(p,t,b,a),n!==l&&Qi(d,b,n)&&function q0(t,n,i,a,d,p,b,D){if(!(3&n.type))return;const x=t.data,q=x[D+1],le=function RI(t){return 1==(1&t)}(q)?W0(x,n,i,d,Eg(q),b):void 0;Jv(le)||(Jv(p)||function MI(t){return 2==(2&t)}(q)&&(p=W0(x,null,i,d,D,b)),function sv(t,n,i,a,d){if(n)d?t.addClass(i,a):t.removeClass(i,a);else{let p=-1===a.indexOf("-")?void 0:Wu.DashCase;null==d?t.removeStyle(i,a,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=Wu.Important),t.setStyle(i,a,d,p))}}(a,b,qo(Ks(),i),d,p))}(p,p.data[Ks()],d,d[rr],t,d[b+1]=function QI(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=oe(Ea(t)))),t}(n,i),a,b)}function Ny(t,n,i,a,d){let p=null;const b=i.directiveEnd;let D=i.directiveStylingLast;for(-1===D?D=i.directiveStart:D++;D<b&&(p=n[D],a=W_(a,p.hostAttrs,d),p!==t);)D++;return null!==t&&(i.directiveStylingLast=D),a}function W_(t,n,i){const a=i?1:2;let d=-1;if(null!==n)for(let p=0;p<n.length;p++){const b=n[p];"number"==typeof b?d=b:d===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),_o(t,b,!!i||n[++p]))}return void 0===t?null:t}function W0(t,n,i,a,d,p){const b=null===n;let D;for(;d>0;){const x=t[d],q=Array.isArray(x),le=q?x[1]:x,Re=null===le;let ct=i[d+1];ct===l&&(ct=Re?yn:void 0);let Et=Re?Lu(ct,a):le===a?ct:void 0;if(q&&!Jv(Et)&&(Et=Lu(x,a)),Jv(Et)&&(D=Et,b))return D;const zt=t[d+1];d=b?pp(zt):Eg(zt)}if(null!==n){let x=p?n.residualClasses:n.residualStyles;null!=x&&(D=Lu(x,a))}return D}function Jv(t){return void 0!==t}function Q0(t,n=""){const i=Zt(),a=Gr(),d=t+jn,p=a.firstCreatePass?Me(a,d,1,n,null):a.data[d],b=Y0(a,i,p,n,t);i[d]=b,Cu()&&dh(a,i,b,p),ks(p,!1)}let Y0=(t,n,i,a,d)=>(Xo(!0),function ah(t,n){return t.createText(n)}(n[rr],a));function ky(t){return Xv("",t,""),ky}function Xv(t,n,i){const a=Zt(),d=gc(a,t,n,i);return d!==l&&ba(a,Ks(),d),Xv}function Fy(t,n,i,a,d){const p=Zt(),b=Hn(p,t,n,i,a,d);return b!==l&&ba(p,Ks(),b),Fy}const Ag=void 0;var vb=["en",[["a","p"],["AM","PM"],Ag],[["AM","PM"],Ag,Ag],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ag,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ag,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ag,"{1} 'at' {0}",Ag],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function _b(t){const i=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===a?1:5}];let Zm={};function Ly(t){const n=function yb(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=_E(n);if(i)return i;const a=n.split("-")[0];if(i=_E(a),i)return i;if("en"===a)return vb;throw new Oe(701,!1)}function mE(t){return Ly(t)[qm.PluralCase]}function _E(t){return t in Zm||(Zm[t]=Kn.ng&&Kn.ng.common&&Kn.ng.common.locales&&Kn.ng.common.locales[t]),Zm[t]}var qm=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(qm||{});const Wm="en-US";let vE=Wm;function By(t,n,i,a,d){if(t=xe(t),Array.isArray(t))for(let p=0;p<t.length;p++)By(t[p],n,i,a,d);else{const p=Gr(),b=Zt(),D=ys();let x=ou(t)?t:xe(t.provide);const q=qp(t),le=1048575&D.providerIndexes,Re=D.directiveStart,ct=D.providerIndexes>>20;if(ou(t)||!t.multi){const Et=new al(q,d,P),zt=Hy(x,n,d?le:le+ct,Re);-1===zt?(di(Ru(D,b),p,x),jy(p,t,n.length),n.push(x),D.directiveStart++,D.directiveEnd++,d&&(D.providerIndexes+=1048576),i.push(Et),b.push(Et)):(i[zt]=Et,b[zt]=Et)}else{const Et=Hy(x,n,le+ct,Re),zt=Hy(x,n,le,le+ct),On=zt>=0&&i[zt];if(d&&!On||!d&&!(Et>=0&&i[Et])){di(Ru(D,b),p,x);const cr=function _C(t,n,i,a,d){const p=new al(t,i,P);return p.multi=[],p.index=n,p.componentProviders=0,zE(p,d,a&&!i),p}(d?mC:gC,i.length,d,a,q);!d&&On&&(i[zt].providerFactory=cr),jy(p,t,n.length,0),n.push(x),D.directiveStart++,D.directiveEnd++,d&&(D.providerIndexes+=1048576),i.push(cr),b.push(cr)}else jy(p,t,Et>-1?Et:zt,zE(i[d?zt:Et],q,!d&&a));!d&&a&&On&&i[zt].componentProviders++}}}function jy(t,n,i,a){const d=ou(n),p=function Si(t){return!!t.useClass}(n);if(d||p){const x=(p?xe(n.useClass):n).prototype.ngOnDestroy;if(x){const q=t.destroyHooks||(t.destroyHooks=[]);if(!d&&n.multi){const le=q.indexOf(i);-1===le?q.push(i,[a,x]):q[le+1].push(a,x)}else q.push(i,x)}}}function zE(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function Hy(t,n,i,a){for(let d=i;d<a;d++)if(n[d]===t)return d;return-1}function gC(t,n,i,a){return zy(this.multi,[])}function mC(t,n,i,a){const d=this.multi;let p;if(this.providerFactory){const b=this.providerFactory.componentProviders,D=Nc(i,i[_n],this.providerFactory.index,a);p=D.slice(0,b),zy(d,p);for(let x=b;x<D.length;x++)p.push(D[x])}else p=[],zy(d,p);return p}function zy(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function $E(t,n=[]){return i=>{i.providersResolver=(a,d)=>function pC(t,n,i){const a=Gr();if(a.firstCreatePass){const d=$i(t);By(i,a.data,a.blueprint,d,!0),By(n,a.data,a.blueprint,d,!1)}}(a,d?d(t):t,n)}}class Ig{}class GE{}function vC(t,n){return new $y(t,n??null,[])}class $y extends Ig{constructor(n,i,a){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Om(this);const d=Xr(n);this._bootstrapComponents=Xc(d.bootstrap),this._r3Injector=w_(n,i,[{provide:Ig,useValue:this},{provide:Yp,useValue:this.componentFactoryResolver},...a],oe(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Gy extends GE{constructor(n){super(),this.moduleType=n}create(n){return new $y(this.moduleType,n,[])}}class ZE extends Ig{constructor(n){super(),this.componentFactoryResolver=new Om(this),this.instance=null;const i=new Tl([...n.providers,{provide:Ig,useValue:this},{provide:Yp,useValue:this.componentFactoryResolver}],n.parent||Gf(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function qE(t,n,i=null){return new ZE({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let EC=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const a=Es(0,i.type),d=a.length>0?qE([a],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,d)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Rn({token:t,providedIn:"environment",factory:()=>new t($t(uc))})}return t})();function WE(t){t.getStandaloneInjector=n=>n.get(EC).getOrCreateStandaloneInjector(t)}function tA(t,n,i){const a=Ws()+t,d=Zt();return d[a]===l?os(d,a,i?n.call(i):n()):function oa(t,n){return t[n]}(d,a)}function nA(t,n,i,a){return rA(Zt(),Ws(),t,n,i,a)}function ev(t,n){const i=t[n];return i===l?void 0:i}function rA(t,n,i,a,d,p){const b=n+i;return Qi(t,b,d)?os(t,b+1,p?a.call(p,d):a(d)):ev(t,b+1)}function cA(t,n){const i=Gr();let a;const d=t+jn;i.firstCreatePass?(a=function LC(t,n){if(n)for(let i=n.length-1;i>=0;i--){const a=n[i];if(t===a.name)return a}}(n,i.pipeRegistry),i.data[d]=a,a.onDestroy&&(i.destroyHooks??=[]).push(d,a.onDestroy)):a=i.data[d];const p=a.factory||(a.factory=oo(a.type)),D=Er(P);try{const x=na(!1),q=p();return na(x),function qv(t,n,i,a){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=a}(i,Zt(),d,q),q}finally{Er(D)}}function lA(t,n,i){const a=t+jn,d=Zt(),p=Wo(d,a);return tv(d,a)?rA(d,Ws(),n,p.transform,i,p):p.transform(i)}function uA(t,n,i,a){const d=t+jn,p=Zt(),b=Wo(p,d);return tv(p,d)?function iA(t,n,i,a,d,p,b){const D=n+i;return ho(t,D,d,p)?os(t,D+2,b?a.call(b,d,p):a(d,p)):ev(t,D+2)}(p,Ws(),n,b.transform,i,a,b):b.transform(i,a)}function tv(t,n){return t[_n].data[n].pure}function jC(){return this._results[Symbol.iterator]()}class qy{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Jc)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=qy.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=jC)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const a=this;a.dirty=!1;const d=function lo(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Yd(t,n,i){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let d=t[a],p=n[a];if(i&&(d=i(d),p=i(p)),p!==d)return!1}return!0}(a._results,d,i))&&(a._results=d,a.length=d.length,a.last=d[this.length-1],a.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function zC(t,n,i,a=!0){const d=n[_n];if(function jg(t,n,i,a){const d=yr+a,p=i.length;a>0&&(i[d-1][Oi]=n),a<p-yr?(n[Oi]=i[d],ku(i,yr+a,n)):(i.push(n),n[Oi]=null),n[xr]=i;const b=n[Ne];null!==b&&i!==b&&function n_(t,n){const i=t[ls];n[Y]!==n[xr][xr][Y]&&(t[Or]=!0),null===i?t[ls]=[n]:i.push(n)}(b,n);const D=n[ht];null!==D&&D.insertView(t),n[er]|=128}(d,n,t,i),a){const p=fh(i,t),b=n[rr],D=uh(b,t[mi]);null!==D&&function Rp(t,n,i,a,d,p){a[zr]=d,a[ai]=n,Jl(t,a,i,1,d,p)}(d,t[ai],b,n,D,p)}}let nv=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=ZC}return t})();const $C=nv,GC=class extends $C{constructor(n,i,a){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,a){const d=function HC(t,n,i,a){const d=n.tView,D=he(t,d,i,4096&t[er]?4096:16,null,n,null,null,null,a?.injector??null,a?.hydrationInfo??null);D[Ne]=t[n.index];const q=t[ht];return null!==q&&(D[ht]=q.createEmbeddedView(d)),Bh(d,D,i),D}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:a});return new Hh(d)}};function ZC(){return iy(ys(),Zt())}function iy(t,n){return 4&t.type?new GC(n,t,Nh(t,n)):null}let oy=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=JC}return t})();function JC(){return _A(ys(),Zt())}const XC=oy,gA=class extends XC{constructor(n,i,a){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=a}get element(){return Nh(this._hostTNode,this._hostLView)}get injector(){return new Vs(this._hostTNode,this._hostLView)}get parentInjector(){const n=ul(this._hostTNode,this._hostLView);if(cl(n)){const i=ta(n,this._hostLView),a=Mu(n);return new Vs(i[_n].data[a+8],i)}return new Vs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=mA(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-yr}createEmbeddedView(n,i,a){let d,p;"number"==typeof a?d=a:null!=a&&(d=a.index,p=a.injector);const D=n.createEmbeddedViewImpl(i||{},p,null);return this.insertImpl(D,d,false),D}createComponent(n,i,a,d,p){const b=n&&!function ec(t){return"function"==typeof t}(n);let D;if(b)D=i;else{const un=i||{};D=un.index,a=un.injector,d=un.projectableNodes,p=un.environmentInjector||un.ngModuleRef}const x=b?n:new Rl(Wn(n)),q=a||this.parentInjector;if(!p&&null==x.ngModule){const On=(b?q:this.parentInjector).get(uc,null);On&&(p=On)}Wn(x.componentType??{});const Et=x.create(q,d,null,p);return this.insertImpl(Et.hostView,D,false),Et}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,a){const d=n._lView;if(function Od(t){return Ii(t[xr])}(d)){const x=this.indexOf(n);if(-1!==x)this.detach(x);else{const q=d[xr],le=new gA(q,q[ai],q[xr]);le.detach(le.indexOf(n))}}const b=this._adjustIndex(i),D=this._lContainer;return zC(D,d,b,!a),n.attachToViewContainerRef(),ku(Wy(D),b,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=mA(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),a=Ql(this._lContainer,i);a&&(Fu(Wy(this._lContainer),i),Al(a[_n],a))}detach(n){const i=this._adjustIndex(n,-1),a=Ql(this._lContainer,i);return a&&null!=Fu(Wy(this._lContainer),i)?new Hh(a):null}_adjustIndex(n,i=0){return n??this.length+i}};function mA(t){return t[8]}function Wy(t){return t[8]||(t[8]=[])}function _A(t,n){let i;const a=n[t.index];return Ii(a)?i=a:(i=Tm(a,n,null,t),n[t.index]=i,Uh(n,i)),vA(i,n,t,a),new gA(i,t,n)}let vA=function yA(t,n,i,a){if(t[mi])return;let d;d=8&i.type?vi(a):function eT(t,n){const i=t[rr],a=i.createComment(""),d=Os(n,t);return va(i,uh(i,d),a,function oc(t,n){return t.nextSibling(n)}(i,d),!1),a}(n,i),t[mi]=d};class Ky{constructor(n){this.queryList=n,this.matches=null}clone(){return new Ky(this.queryList)}setDirty(){this.queryList.setDirty()}}class Qy{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const a=null!==n.contentQueries?n.contentQueries[0]:i.length,d=[];for(let p=0;p<a;p++){const b=i.getByIndex(p);d.push(this.queries[b.indexInDeclarationView].clone())}return new Qy(d)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==DA(n,i).matches&&this.queries[i].setDirty()}}class EA{constructor(n,i,a=null){this.predicate=n,this.flags=i,this.read=a}}class Yy{constructor(n=[]){this.queries=n}elementStart(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let a=0;a<this.length;a++){const d=null!==i?i.length:0,p=this.getByIndex(a).embeddedTView(n,d);p&&(p.indexInDeclarationView=a,null!==i?i.push(p):i=[p])}return null!==i?new Yy(i):null}template(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Jy{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new Jy(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==i;)a=a.parent;return i===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const a=this.metadata.predicate;if(Array.isArray(a))for(let d=0;d<a.length;d++){const p=a[d];this.matchTNodeWithReadOption(n,i,rT(i,p)),this.matchTNodeWithReadOption(n,i,Ll(i,n,p,!1,!1))}else a===nv?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Ll(i,n,a,!1,!1))}matchTNodeWithReadOption(n,i,a){if(null!==a){const d=this.metadata.read;if(null!==d)if(d===Yf||d===oy||d===nv&&4&i.type)this.addMatch(i.index,-2);else{const p=Ll(i,n,d,!1,!1);null!==p&&this.addMatch(i.index,p)}else this.addMatch(i.index,a)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function rT(t,n){const i=t.localNames;if(null!==i)for(let a=0;a<i.length;a+=2)if(i[a]===n)return i[a+1];return null}function sT(t,n,i,a){return-1===i?function iT(t,n){return 11&t.type?Nh(t,n):4&t.type?iy(t,n):null}(n,t):-2===i?function oT(t,n,i){return i===Yf?Nh(n,t):i===nv?iy(n,t):i===oy?_A(n,t):void 0}(t,n,a):Nc(t,t[_n],i,n)}function AA(t,n,i,a){const d=n[ht].queries[a];if(null===d.matches){const p=t.data,b=i.matches,D=[];for(let x=0;x<b.length;x+=2){const q=b[x];D.push(q<0?null:sT(n,p[q],b[x+1],i.metadata.read))}d.matches=D}return d.matches}function Xy(t,n,i,a){const d=t.queries.getByIndex(i),p=d.matches;if(null!==p){const b=AA(t,n,d,i);for(let D=0;D<p.length;D+=2){const x=p[D];if(x>0)a.push(b[D/2]);else{const q=p[D+1],le=n[-x];for(let Re=yr;Re<le.length;Re++){const ct=le[Re];ct[Ne]===ct[xr]&&Xy(ct[_n],ct,q,a)}if(null!==le[ls]){const Re=le[ls];for(let ct=0;ct<Re.length;ct++){const Et=Re[ct];Xy(Et[_n],Et,q,a)}}}}}return a}function IA(t){const n=Zt(),i=Gr(),a=Dt();St(a+1);const d=DA(i,a);if(t.dirty&&function Ka(t){return 4==(4&t[er])}(n)===(2==(2&d.metadata.flags))){if(null===d.matches)t.reset([]);else{const p=d.crossesNgTemplate?Xy(i,n,a,[]):AA(i,n,d,a);t.reset(p,Xp),t.notifyOnChanges()}return!0}return!1}function bA(t,n,i,a){const d=Gr();if(d.firstCreatePass){const p=ys();(function wA(t,n,i){null===t.queries&&(t.queries=new Yy),t.queries.track(new Jy(n,i))})(d,new EA(n,i,a),p.index),function lT(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(d,t),2==(2&i)&&(d.staticContentQueries=!0)}!function TA(t,n,i){const a=new qy(4==(4&i));(function gt(t,n,i,a){const d=ag(n);d.push(i),t.firstCreatePass&&cg(t).push(a,d.length-1)})(t,n,a,a.destroy),null===n[ht]&&(n[ht]=new Qy),n[ht].queries.push(new Ky(a))}(d,Zt(),i)}function CA(){return function cT(t,n){return t[ht].queries[n].queryList}(Zt(),Dt())}function DA(t,n){return t.queries.getByIndex(n)}function e0(t){return!!Xr(t)}const $A=new gn("Application Initializer");let o0=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,a)=>{this.resolve=i,this.reject=a}),this.appInits=on($A,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const d of this.appInits){const p=d();if(ro(p))i.push(p);else if(wi(p)){const b=new Promise((D,x)=>{p.subscribe({complete:D,error:x})});i.push(b)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{a()}).catch(d=>{this.reject(d)}),0===i.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Rn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),GA=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Rn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const cy=new gn("LocaleId",{providedIn:"root",factory:()=>on(cy,In.Optional|In.SkipSelf)||function RT(){return typeof $localize<"u"&&$localize.locale||Wm}()}),xT=new gn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let ZA=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new me.X(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Rn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class NT{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let kT=(()=>{class t{compileModuleSync(i){return new Gy(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const a=this.compileModuleSync(i),p=Xc(Xr(i).declarations).reduce((b,D)=>{const x=Wn(D);return x&&b.push(new Rl(x)),b},[]);return new NT(a,p)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Rn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const QA=new gn(""),YA=new gn("");let l0,rw=(()=>{class t{constructor(i,a,d){this._ngZone=i,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,l0||(function iw(t){l0=t}(d),d.addToWindow(a)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{As.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(i)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,a,d){let p=-1;a&&a>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==p),i(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:i,timeoutId:p,updateCb:d})}whenStable(i,a,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,a,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,a,d){return[]}static#e=this.\u0275fac=function(a){return new(a||t)($t(As),$t(JA),$t(YA))};static#t=this.\u0275prov=Rn({token:t,factory:t.\u0275fac})}return t})(),JA=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,a){this._applications.set(i,a)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,a=!0){return l0?.findTestabilityInTree(this,i,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Rn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),gp=null;const XA=new gn("AllowMultipleToken"),u0=new gn("PlatformDestroyListeners"),d0=new gn("appBootstrapListener");class aw{constructor(n,i){this.name=n,this.token=i}}function nI(t,n,i=[]){const a=`Platform: ${n}`,d=new gn(a);return(p=[])=>{let b=h0();if(!b||b.injector.get(XA,!1)){const D=[...i,...p,{provide:d,useValue:!0}];t?t(D):function cw(t){if(gp&&!gp.get(XA,!1))throw new Oe(400,!1);(function eI(){!function Ol(t){Ra=t}(()=>{throw new Oe(600,!1)})})(),gp=t;const n=t.get(iI);(function tI(t){t.get(ja,null)?.forEach(i=>i())})(t)}(function rI(t=[],n){return hc.create({name:n,providers:[{provide:tm,useValue:"platform"},{provide:u0,useValue:new Set([()=>gp=null])},...t]})}(D,a))}return function uw(t){const n=h0();if(!n)throw new Oe(401,!1);return n}()}}function h0(){return gp?.get(iI)??null}let iI=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,a){const d=function dw(t="zone.js",n){return"noop"===t?new yy:"zone.js"===t?new As(n):t}(a?.ngZone,function sI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return d.run(()=>{const p=function yC(t,n,i){return new $y(t,n,i)}(i.moduleType,this.injector,function uI(t){return[{provide:As,useFactory:t},{provide:cd,multi:!0,useFactory:()=>{const n=on(fw,{optional:!0});return()=>n.initialize()}},{provide:lI,useFactory:hw},{provide:yv,useFactory:Ev}]}(()=>d)),b=p.injector.get(uu,null);return d.runOutsideAngular(()=>{const D=d.onError.subscribe({next:x=>{b.handleError(x)}});p.onDestroy(()=>{uy(this._modules,p),D.unsubscribe()})}),function oI(t,n,i){try{const a=i();return ro(a)?a.catch(d=>{throw n.runOutsideAngular(()=>t.handleError(d)),d}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(b,d,()=>{const D=p.injector.get(o0);return D.runInitializers(),D.donePromise.then(()=>(function yE(t){Bt(t,"Expected localeId to be defined"),"string"==typeof t&&(vE=t.toLowerCase().replace(/_/g,"-"))}(p.injector.get(cy,Wm)||Wm),this._moduleDoBootstrap(p),p))})})}bootstrapModule(i,a=[]){const d=aI({},a);return function sw(t,n,i){const a=new Gy(i);return Promise.resolve(a)}(0,0,i).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(i){const a=i.injector.get(Ym);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(d=>a.bootstrap(d));else{if(!i.instance.ngDoBootstrap)throw new Oe(-403,!1);i.instance.ngDoBootstrap(a)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Oe(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const i=this._injector.get(u0,null);i&&(i.forEach(a=>a()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)($t(hc))};static#t=this.\u0275prov=Rn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function aI(t,n){return Array.isArray(n)?n.reduce(aI,t):{...t,...n}}let Ym=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=on(lI),this.zoneIsStable=on(yv),this.componentTypes=[],this.components=[],this.isStable=on(ZA).hasPendingTasks.pipe((0,ae.w)(i=>i?(0,Ae.of)(!1):this.zoneIsStable),(0,ve.x)(),(0,de.B)()),this._injector=on(uc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,a){const d=i instanceof uv;if(!this._injector.get(o0).done)throw!d&&Ui(i),new Oe(405,!1);let b;b=d?i:this._injector.get(Yp).resolveComponentFactory(i),this.componentTypes.push(b.componentType);const D=function ow(t){return t.isBoundToModule}(b)?void 0:this._injector.get(Ig),q=b.create(hc.NULL,[],a||b.selector,D),le=q.location.nativeElement,Re=q.injector.get(QA,null);return Re?.registerApplication(le),q.onDestroy(()=>{this.detachView(q.hostView),uy(this.components,q),Re?.unregisterApplication(le)}),this._loadComponent(q),q}tick(){if(this._runningTick)throw new Oe(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const a=i;this._views.push(a),a.attachToAppRef(this)}detachView(i){const a=i;uy(this._views,a),a.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const a=this._injector.get(d0,[]);a.push(...this._bootstrapListeners),a.forEach(d=>d(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>uy(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Oe(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Rn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function uy(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const lI=new gn("",{providedIn:"root",factory:()=>on(uu).handleError.bind(void 0)});function hw(){const t=on(As),n=on(uu);return i=>t.runOutsideAngular(()=>n.handleError(i))}let fw=(()=>{class t{constructor(){this.zone=on(As),this.applicationRef=on(Ym)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Rn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gw(){return!1}let mw=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=_w}return t})();function _w(t){return function vw(t,n,i){if(rs(t)&&!i){const a=Ns(t.index,n);return new Hh(a,a)}return 47&t.type?new Hh(n[Y],n):null}(ys(),Zt(),16==(16&t))}class pI{constructor(){}supports(n){return Ki(n)}create(n){return new Cw(n)}}const bw=(t,n)=>n;class Cw{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||bw}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,a=this._removalsHead,d=0,p=null;for(;i||a;){const b=!a||i&&i.currentIndex<mI(a,d,p)?i:a,D=mI(b,d,p),x=b.currentIndex;if(b===a)d--,a=a._nextRemoved;else if(i=i._next,null==b.previousIndex)d++;else{p||(p=[]);const q=D-d,le=x-d;if(q!=le){for(let ct=0;ct<q;ct++){const Et=ct<p.length?p[ct]:p[ct]=0,zt=Et+ct;le<=zt&&zt<q&&(p[ct]=Et+1)}p[b.previousIndex]=le-q}}D!==x&&n(b,D,x)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!Ki(n))throw new Oe(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let d,p,b,i=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let D=0;D<this.length;D++)p=n[D],b=this._trackByFn(D,p),null!==i&&Object.is(i.trackById,b)?(a&&(i=this._verifyReinsertion(i,p,b,D)),Object.is(i.item,p)||this._addIdentityChange(i,p)):(i=this._mismatch(i,p,b,D),a=!0),i=i._next}else d=0,function zs(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let a;for(;!(a=i.next()).done;)n(a.value)}}(n,D=>{b=this._trackByFn(d,D),null!==i&&Object.is(i.trackById,b)?(a&&(i=this._verifyReinsertion(i,D,b,d)),Object.is(i.item,D)||this._addIdentityChange(i,D)):(i=this._mismatch(i,D,b,d),a=!0),i=i._next,d++}),this.length=d;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,a,d){let p;return null===n?p=this._itTail:(p=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,p,d)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,d))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,p,d)):n=this._addAfter(new Tw(i,a),p,d),n}_verifyReinsertion(n,i,a,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==p?n=this._reinsertAfter(p,n._prev,d):n.currentIndex!=d&&(n.currentIndex=d,this._addToMoves(n,d)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const d=n._prevRemoved,p=n._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(n,i,a),this._addToMoves(n,a),n}_moveAfter(n,i,a){return this._unlink(n),this._insertAfter(n,i,a),this._addToMoves(n,a),n}_addAfter(n,i,a){return this._insertAfter(n,i,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,a){const d=null===i?this._itHead:i._next;return n._next=d,n._prev=i,null===d?this._itTail=n:d._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new gI),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,a=n._next;return null===i?this._itHead=a:i._next=a,null===a?this._itTail=i:a._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gI),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class Tw{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ww{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===i||i<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const i=n._prevDup,a=n._nextDup;return null===i?this._head=a:i._nextDup=a,null===a?this._tail=i:a._prevDup=i,null===this._head}}class gI{constructor(){this.map=new Map}put(n){const i=n.trackById;let a=this.map.get(i);a||(a=new ww,this.map.set(i,a)),a.add(n)}get(n,i){const d=this.map.get(n);return d?d.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mI(t,n,i){const a=t.previousIndex;if(null===a)return a;let d=0;return i&&a<i.length&&(d=i[a]),a+n+d}class _I{constructor(){}supports(n){return n instanceof Map||el(n)}create(){return new Dw}}class Dw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||el(n)))throw new Oe(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,d)=>{if(i&&i.key===d)this._maybeAddToChanges(i,a),this._appendAfter=i,i=i._next;else{const p=this._getOrCreateRecordForKey(d,a);i=this._insertBeforeOrAppend(i,p)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let a=i;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const a=n._prev;return i._next=n,i._prev=a,n._prev=i,a&&(a._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const d=this._records.get(n);this._maybeAddToChanges(d,i);const p=d._prev,b=d._next;return p&&(p._next=b),b&&(b._prev=p),d._next=null,d._prev=null,d}const a=new Sw(n);return this._records.set(n,a),a.currentValue=i,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(a=>i(n[a],a))}}class Sw{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vI(){return new _0([new pI])}let _0=(()=>{class t{static#e=this.\u0275prov=Rn({token:t,providedIn:"root",factory:vI});constructor(i){this.factories=i}static create(i,a){if(null!=a){const d=a.factories.slice();i=i.concat(d)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||vI()),deps:[[t,new Ua,new Bc]]}}find(i){const a=this.factories.find(d=>d.supports(i));if(null!=a)return a;throw new Oe(901,!1)}}return t})();function yI(){return new v0([new _I])}let v0=(()=>{class t{static#e=this.\u0275prov=Rn({token:t,providedIn:"root",factory:yI});constructor(i){this.factories=i}static create(i,a){if(a){const d=a.factories.slice();i=i.concat(d)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||yI()),deps:[[t,new Ua,new Bc]]}}find(i){const a=this.factories.find(d=>d.supports(i));if(a)return a;throw new Oe(901,!1)}}return t})();const Rw=nI(null,"core",[]);let xw=(()=>{class t{constructor(i){}static#e=this.\u0275fac=function(a){return new(a||t)($t(Ym))};static#t=this.\u0275mod=ps({type:t});static#n=this.\u0275inj=rn({})}return t})();function zw(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function Gw(t){const n=Wn(t);if(!n)return null;const i=new Rl(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},7213:(sn,lt,k)=>{"use strict";k.d(lt,{zQ:()=>Ke,ww:()=>ut,rT:()=>Ot,f7:()=>Sn,L6:()=>bt,_Q:()=>Ee,lh:()=>Vt,Qv:()=>dt,nw:()=>Tt}),k(6365);var o=k(6814),B=k(5879),Se=k(1920),me=k(7217),Ae=k(8645),de=k(2096),ae=k(5592),ve=k(2459),$=k(3019),z=k(3093),oe=k(4664),be=k(7398),ye=k(4552);class De extends Ae.x{constructor(we=1/0,te=1/0,Ie=ye.l){super(),this._bufferSize=we,this._windowTime=te,this._timestampProvider=Ie,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=te===1/0,this._bufferSize=Math.max(1,we),this._windowTime=Math.max(1,te)}next(we){const{isStopped:te,_buffer:Ie,_infiniteTimeWindow:Pe,_timestampProvider:je,_windowTime:it}=this;te||(Ie.push(we),!Pe&&Ie.push(je.now()+it)),this._trimBuffer(),super.next(we)}_subscribe(we){this._throwIfClosed(),this._trimBuffer();const te=this._innerSubscribe(we),{_infiniteTimeWindow:Ie,_buffer:Pe}=this,je=Pe.slice();for(let it=0;it<je.length&&!we.closed;it+=Ie?1:2)we.next(je[it]);return this._checkFinalizedStatuses(we),te}_trimBuffer(){const{_bufferSize:we,_timestampProvider:te,_buffer:Ie,_infiniteTimeWindow:Pe}=this,je=(Pe?1:2)*we;if(we<1/0&&je<Ie.length&&Ie.splice(0,Ie.length-je),!Pe){const it=te.now();let _t=0;for(let Bt=1;Bt<Ie.length&&Ie[Bt]<=it;Bt+=2)_t=Bt;_t&&Ie.splice(0,_t+1)}}}var xe=k(3020);function Ye(Fe,we,te){let Ie,Pe=!1;return Fe&&"object"==typeof Fe?({bufferSize:Ie=1/0,windowTime:we=1/0,refCount:Pe=!1,scheduler:te}=Fe):Ie=Fe??1/0,(0,xe.B)({connector:()=>new De(Ie,we,te),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Pe})}var We=k(1374),mt=k(4674);function ke(Fe,we){return(0,mt.m)(we)?(0,oe.w)(()=>Fe,we):(0,oe.w)(()=>Fe)}var Oe=k(5137),tt=k(2181),Ge=k(7142);const dt=new B.OlP("angularfire2.auth.use-emulator"),bt=new B.OlP("angularfire2.auth.settings"),Ee=new B.OlP("angularfire2.auth.tenant-id"),Ot=new B.OlP("angularfire2.auth.langugage-code"),Vt=new B.OlP("angularfire2.auth.use-device-language"),Sn=new B.OlP("angularfire.auth.persistence"),Tt=(Fe,we,te,Ie,Pe,je,it,_t)=>(0,me.cc)(`${Fe.name}.auth`,"AngularFireAuth",Fe.name,()=>{const Bt=we.runOutsideAngular(()=>Fe.auth());if(te&&Bt.useEmulator(...te),Ie&&(Bt.tenantId=Ie),Bt.languageCode=Pe,je&&Bt.useDeviceLanguage(),it)for(const[Gt,Wt]of Object.entries(it))Bt.settings[Gt]=Wt;return _t&&Bt.setPersistence(_t),Bt},[te,Ie,Pe,je,it,_t]);let Ke=(()=>{class Fe{authState;idToken;user;idTokenResult;credential;constructor(te,Ie,Pe,je,it,_t,Bt,Gt,Wt,bn,Yn,Rn){const Nn=new Ae.x,rn=(0,de.of)(void 0).pipe((0,z.Q)(it.outsideAngular),(0,oe.w)(()=>je.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,6365)))),(0,be.U)(()=>(0,me.on)(te,je,Ie)),(0,be.U)(kn=>Tt(kn,je,_t,Gt,Wt,bn,Bt,Yn)),Ye({bufferSize:1,refCount:!1}));if((0,o.PM)(Pe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,de.of)(null);else{rn.pipe((0,We.P)()).subscribe();const kn=rn.pipe((0,oe.w)(Qt=>Qt.getRedirectResult().then(jr=>jr,()=>null)),Se.iC,Ye({bufferSize:1,refCount:!1})),mr=rn.pipe((0,oe.w)(Qt=>new ae.y(jr=>({unsubscribe:je.runOutsideAngular(()=>Qt.onAuthStateChanged(xn=>jr.next(xn),xn=>jr.error(xn),()=>jr.complete()))})))),Jn=rn.pipe((0,oe.w)(Qt=>new ae.y(jr=>({unsubscribe:je.runOutsideAngular(()=>Qt.onIdTokenChanged(xn=>jr.next(xn),xn=>jr.error(xn),()=>jr.complete()))}))));this.authState=kn.pipe(ke(mr),(0,Oe.R)(it.outsideAngular),(0,z.Q)(it.insideAngular)),this.user=kn.pipe(ke(Jn),(0,Oe.R)(it.outsideAngular),(0,z.Q)(it.insideAngular)),this.idToken=this.user.pipe((0,oe.w)(Qt=>Qt?(0,ve.D)(Qt.getIdToken()):(0,de.of)(null))),this.idTokenResult=this.user.pipe((0,oe.w)(Qt=>Qt?(0,ve.D)(Qt.getIdTokenResult()):(0,de.of)(null))),this.credential=(0,$.T)(kn,Nn,this.authState.pipe((0,tt.h)(Qt=>!Qt))).pipe((0,be.U)(Qt=>Qt?.user?Qt:null),(0,Oe.R)(it.outsideAngular),(0,z.Q)(it.insideAngular))}return(0,me.pX)(this,rn,je,{spy:{apply:(kn,mr,Jn)=>{(kn.startsWith("signIn")||kn.startsWith("createUser"))&&Jn.then(Qt=>Nn.next(Qt))}}})}static \u0275fac=function(Ie){return new(Ie||Fe)(B.LFG(me.Dh),B.LFG(me.xv,8),B.LFG(B.Lbi),B.LFG(B.R0b),B.LFG(Se.HU),B.LFG(dt,8),B.LFG(bt,8),B.LFG(Ee,8),B.LFG(Ot,8),B.LFG(Vt,8),B.LFG(Sn,8),B.LFG(Se.Rf,8))};static \u0275prov=B.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"any"})}return Fe})(),ut=(()=>{class Fe{constructor(){Ge.Z.registerVersion("angularfire",Se.q4.full,"auth-compat")}static \u0275fac=function(Ie){return new(Ie||Fe)};static \u0275mod=B.oAB({type:Fe});static \u0275inj=B.cJS({providers:[Ke]})}return Fe})()},7104:(sn,lt,k)=>{"use strict";k.d(lt,{ST:()=>ri,yb:()=>at});var f=k(6814),o=k(5879),B=k(1920),Se=k(7217),me=k(7213),Ae=k(6321),de=k(5592),ae=k(2459),ve=k(2096),$=k(7921),z=k(9360),oe=k(8251);function be(){return(0,z.e)((wt,ue)=>{let Be,Mt=!1;wt.subscribe((0,oe.x)(ue,en=>{const $n=Be;Be=en,Mt&&ue.next([$n,en]),Mt=!0}))})}var ye=k(7398),De=k(6699),xe=k(3997),Ye=k(2181),mt=(k(6365),k(3106)),ke=k(5588),Oe=k(9058),tt=k(4537);function dt(wt,ue){if(void 0===ue)return{merge:!1};if(void 0!==ue.mergeFields&&void 0!==ue.merge)throw new ke.WA("invalid-argument",`Invalid options passed to function ${wt}(): You cannot specify both "merge" and "mergeFields".`);return ue}function bt(){if(typeof Uint8Array>"u")throw new ke.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Ee(){if(!(0,ke.Me)())throw new ke.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Ot{constructor(ue){this._delegate=ue}static fromBase64String(ue){return Ee(),new Ot(ke.Jj.fromBase64String(ue))}static fromUint8Array(ue){return bt(),new Ot(ke.Jj.fromUint8Array(ue))}toBase64(){return Ee(),this._delegate.toBase64()}toUint8Array(){return bt(),this._delegate.toUint8Array()}isEqual(ue){return this._delegate.isEqual(ue._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Vt(wt){return function Sn(wt,ue){if("object"!=typeof wt||null===wt)return!1;const Be=wt;for(const Mt of ue)if(Mt in Be&&"function"==typeof Be[Mt])return!0;return!1}(wt,["next","error","complete"])}class Tt{enableIndexedDbPersistence(ue,Be){return(0,ke.ST)(ue._delegate,{forceOwnership:Be})}enableMultiTabIndexedDbPersistence(ue){return(0,ke.fH)(ue._delegate)}clearIndexedDbPersistence(ue){return(0,ke.Fc)(ue._delegate)}}class Ke{constructor(ue,Be,Mt){this._delegate=Be,this._persistenceProvider=Mt,this.INTERNAL={delete:()=>this.terminate()},ue instanceof ke.l7||(this._appCompat=ue)}get _databaseId(){return this._delegate._databaseId}settings(ue){const Be=this._delegate._getSettings();!ue.merge&&Be.host!==ue.host&&(0,ke.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),ue.merge&&delete(ue=Object.assign(Object.assign({},Be),ue)).merge,this._delegate._setSettings(ue)}useEmulator(ue,Be,Mt={}){(0,ke.at)(this._delegate,ue,Be,Mt)}enableNetwork(){return(0,ke.Ix)(this._delegate)}disableNetwork(){return(0,ke.TF)(this._delegate)}enablePersistence(ue){let Be=!1,Mt=!1;return ue&&(Be=!!ue.synchronizeTabs,Mt=!!ue.experimentalForceOwningTab,(0,ke.Wi)("synchronizeTabs",Be,"experimentalForceOwningTab",Mt)),Be?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Mt)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,ke.Mx)(this._delegate)}onSnapshotsInSync(ue){return(0,ke.sc)(this._delegate,ue)}get app(){if(!this._appCompat)throw new ke.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(ue){try{return new Rn(this,(0,ke.hJ)(this._delegate,ue))}catch(Be){throw je(Be,"collection()","Firestore.collection()")}}doc(ue){try{return new Pe(this,(0,ke.JU)(this._delegate,ue))}catch(Be){throw je(Be,"doc()","Firestore.doc()")}}collectionGroup(ue){try{return new Wt(this,(0,ke.B$)(this._delegate,ue))}catch(Be){throw je(Be,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(ue){return(0,ke.i3)(this._delegate,Be=>ue(new we(this,Be)))}batch(){return(0,ke.qY)(this._delegate),new te(new ke.PU(this._delegate,ue=>(0,ke.GL)(this._delegate,ue)))}loadBundle(ue){return(0,ke.Pb)(this._delegate,ue)}namedQuery(ue){return(0,ke.L$)(this._delegate,ue).then(Be=>Be?new Wt(this,Be):null)}}class ut extends ke.u7{constructor(ue){super(),this.firestore=ue}convertBytes(ue){return new Ot(new ke.Jj(ue))}convertReference(ue){const Be=this.convertDocumentKey(ue,this.firestore._databaseId);return Pe.forKey(Be,this.firestore,null)}}class we{constructor(ue,Be){this._firestore=ue,this._delegate=Be,this._userDataWriter=new ut(ue)}get(ue){const Be=Nn(ue);return this._delegate.get(Be).then(Mt=>new Bt(this._firestore,new ke.xU(this._firestore._delegate,this._userDataWriter,Mt._key,Mt._document,Mt.metadata,Be.converter)))}set(ue,Be,Mt){const en=Nn(ue);return Mt?(dt("Transaction.set",Mt),this._delegate.set(en,Be,Mt)):this._delegate.set(en,Be),this}update(ue,Be,Mt,...en){const $n=Nn(ue);return 2===arguments.length?this._delegate.update($n,Be):this._delegate.update($n,Be,Mt,...en),this}delete(ue){const Be=Nn(ue);return this._delegate.delete(Be),this}}class te{constructor(ue){this._delegate=ue}set(ue,Be,Mt){const en=Nn(ue);return Mt?(dt("WriteBatch.set",Mt),this._delegate.set(en,Be,Mt)):this._delegate.set(en,Be),this}update(ue,Be,Mt,...en){const $n=Nn(ue);return 2===arguments.length?this._delegate.update($n,Be):this._delegate.update($n,Be,Mt,...en),this}delete(ue){const Be=Nn(ue);return this._delegate.delete(Be),this}commit(){return this._delegate.commit()}}class Ie{constructor(ue,Be,Mt){this._firestore=ue,this._userDataWriter=Be,this._delegate=Mt}fromFirestore(ue,Be){const Mt=new ke.$q(this._firestore._delegate,this._userDataWriter,ue._key,ue._document,ue.metadata,null);return this._delegate.fromFirestore(new Gt(this._firestore,Mt),Be??{})}toFirestore(ue,Be){return Be?this._delegate.toFirestore(ue,Be):this._delegate.toFirestore(ue)}static getInstance(ue,Be){const Mt=Ie.INSTANCES;let en=Mt.get(ue);en||(en=new WeakMap,Mt.set(ue,en));let $n=en.get(Be);return $n||($n=new Ie(ue,new ut(ue),Be),en.set(Be,$n)),$n}}Ie.INSTANCES=new WeakMap;class Pe{constructor(ue,Be){this.firestore=ue,this._delegate=Be,this._userDataWriter=new ut(ue)}static forPath(ue,Be,Mt){if(ue.length%2!=0)throw new ke.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${ue.canonicalString()} has ${ue.length}`);return new Pe(Be,new ke.my(Be._delegate,Mt,new ke.Ky(ue)))}static forKey(ue,Be,Mt){return new Pe(Be,new ke.my(Be._delegate,Mt,ue))}get id(){return this._delegate.id}get parent(){return new Rn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(ue){try{return new Rn(this.firestore,(0,ke.hJ)(this._delegate,ue))}catch(Be){throw je(Be,"collection()","DocumentReference.collection()")}}isEqual(ue){return(ue=(0,Oe.m9)(ue))instanceof ke.my&&(0,ke.Eo)(this._delegate,ue)}set(ue,Be){Be=dt("DocumentReference.set",Be);try{return Be?(0,ke.pl)(this._delegate,ue,Be):(0,ke.pl)(this._delegate,ue)}catch(Mt){throw je(Mt,"setDoc()","DocumentReference.set()")}}update(ue,Be,...Mt){try{return 1===arguments.length?(0,ke.r7)(this._delegate,ue):(0,ke.r7)(this._delegate,ue,Be,...Mt)}catch(en){throw je(en,"updateDoc()","DocumentReference.update()")}}delete(){return(0,ke.oe)(this._delegate)}onSnapshot(...ue){const Be=it(ue),Mt=_t(ue,en=>new Bt(this.firestore,new ke.xU(this.firestore._delegate,this._userDataWriter,en._key,en._document,en.metadata,this._delegate.converter)));return(0,ke.cf)(this._delegate,Be,Mt)}get(ue){let Be;return Be="cache"===ue?.source?(0,ke.kl)(this._delegate):"server"===ue?.source?(0,ke.Xk)(this._delegate):(0,ke.QT)(this._delegate),Be.then(Mt=>new Bt(this.firestore,new ke.xU(this.firestore._delegate,this._userDataWriter,Mt._key,Mt._document,Mt.metadata,this._delegate.converter)))}withConverter(ue){return new Pe(this.firestore,this._delegate.withConverter(ue?Ie.getInstance(this.firestore,ue):null))}}function je(wt,ue,Be){return wt.message=wt.message.replace(ue,Be),wt}function it(wt){for(const ue of wt)if("object"==typeof ue&&!Vt(ue))return ue;return{}}function _t(wt,ue){var Be,Mt;let en;return en=Vt(wt[0])?wt[0]:Vt(wt[1])?wt[1]:"function"==typeof wt[0]?{next:wt[0],error:wt[1],complete:wt[2]}:{next:wt[1],error:wt[2],complete:wt[3]},{next:$n=>{en.next&&en.next(ue($n))},error:null===(Be=en.error)||void 0===Be?void 0:Be.bind(en),complete:null===(Mt=en.complete)||void 0===Mt?void 0:Mt.bind(en)}}class Bt{constructor(ue,Be){this._firestore=ue,this._delegate=Be}get ref(){return new Pe(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(ue){return this._delegate.data(ue)}get(ue,Be){return this._delegate.get(ue,Be)}isEqual(ue){return(0,ke.qK)(this._delegate,ue._delegate)}}class Gt extends Bt{data(ue){const Be=this._delegate.data(ue);return this._delegate._converter||(0,ke.K9)(void 0!==Be,"Document in a QueryDocumentSnapshot should exist"),Be}}class Wt{constructor(ue,Be){this.firestore=ue,this._delegate=Be,this._userDataWriter=new ut(ue)}where(ue,Be,Mt){try{return new Wt(this.firestore,(0,ke.IO)(this._delegate,(0,ke.ar)(ue,Be,Mt)))}catch(en){throw je(en,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(ue,Be){try{return new Wt(this.firestore,(0,ke.IO)(this._delegate,(0,ke.Xo)(ue,Be)))}catch(Mt){throw je(Mt,/(orderBy|where)\(\)/,"Query.$1()")}}limit(ue){try{return new Wt(this.firestore,(0,ke.IO)(this._delegate,(0,ke.b9)(ue)))}catch(Be){throw je(Be,"limit()","Query.limit()")}}limitToLast(ue){try{return new Wt(this.firestore,(0,ke.IO)(this._delegate,(0,ke.vh)(ue)))}catch(Be){throw je(Be,"limitToLast()","Query.limitToLast()")}}startAt(...ue){try{return new Wt(this.firestore,(0,ke.IO)(this._delegate,(0,ke.e0)(...ue)))}catch(Be){throw je(Be,"startAt()","Query.startAt()")}}startAfter(...ue){try{return new Wt(this.firestore,(0,ke.IO)(this._delegate,(0,ke.TQ)(...ue)))}catch(Be){throw je(Be,"startAfter()","Query.startAfter()")}}endBefore(...ue){try{return new Wt(this.firestore,(0,ke.IO)(this._delegate,(0,ke.Lx)(...ue)))}catch(Be){throw je(Be,"endBefore()","Query.endBefore()")}}endAt(...ue){try{return new Wt(this.firestore,(0,ke.IO)(this._delegate,(0,ke.Wu)(...ue)))}catch(Be){throw je(Be,"endAt()","Query.endAt()")}}isEqual(ue){return(0,ke.iE)(this._delegate,ue._delegate)}get(ue){let Be;return Be="cache"===ue?.source?(0,ke.UQ)(this._delegate):"server"===ue?.source?(0,ke.zN)(this._delegate):(0,ke.PL)(this._delegate),Be.then(Mt=>new Yn(this.firestore,new ke.W(this.firestore._delegate,this._userDataWriter,this._delegate,Mt._snapshot)))}onSnapshot(...ue){const Be=it(ue),Mt=_t(ue,en=>new Yn(this.firestore,new ke.W(this.firestore._delegate,this._userDataWriter,this._delegate,en._snapshot)));return(0,ke.cf)(this._delegate,Be,Mt)}withConverter(ue){return new Wt(this.firestore,this._delegate.withConverter(ue?Ie.getInstance(this.firestore,ue):null))}}class bn{constructor(ue,Be){this._firestore=ue,this._delegate=Be}get type(){return this._delegate.type}get doc(){return new Gt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Yn{constructor(ue,Be){this._firestore=ue,this._delegate=Be}get query(){return new Wt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(ue=>new Gt(this._firestore,ue))}docChanges(ue){return this._delegate.docChanges(ue).map(Be=>new bn(this._firestore,Be))}forEach(ue,Be){this._delegate.forEach(Mt=>{ue.call(Be,new Gt(this._firestore,Mt))})}isEqual(ue){return(0,ke.qK)(this._delegate,ue._delegate)}}class Rn extends Wt{constructor(ue,Be){super(ue,Be),this.firestore=ue,this._delegate=Be}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const ue=this._delegate.parent;return ue?new Pe(this.firestore,ue):null}doc(ue){try{return new Pe(this.firestore,void 0===ue?(0,ke.JU)(this._delegate):(0,ke.JU)(this._delegate,ue))}catch(Be){throw je(Be,"doc()","CollectionReference.doc()")}}add(ue){return(0,ke.ET)(this._delegate,ue).then(Be=>new Pe(this.firestore,Be))}isEqual(ue){return(0,ke.Eo)(this._delegate,ue._delegate)}withConverter(ue){return new Rn(this.firestore,this._delegate.withConverter(ue?Ie.getInstance(this.firestore,ue):null))}}function Nn(wt){return(0,ke.Cf)(wt,ke.my)}class rn{constructor(...ue){this._delegate=new ke.Lz(...ue)}static documentId(){return new rn(ke.Xb.keyField().canonicalString())}isEqual(ue){return(ue=(0,Oe.m9)(ue))instanceof ke.Lz&&this._delegate._internalPath.isEqual(ue._internalPath)}}class kn{constructor(ue){this._delegate=ue}static serverTimestamp(){const ue=(0,ke.Bt)();return ue._methodName="FieldValue.serverTimestamp",new kn(ue)}static delete(){const ue=(0,ke.AK)();return ue._methodName="FieldValue.delete",new kn(ue)}static arrayUnion(...ue){const Be=(0,ke.vr)(...ue);return Be._methodName="FieldValue.arrayUnion",new kn(Be)}static arrayRemove(...ue){const Be=(0,ke.Ab)(...ue);return Be._methodName="FieldValue.arrayRemove",new kn(Be)}static increment(ue){const Be=(0,ke.nP)(ue);return Be._methodName="FieldValue.increment",new kn(Be)}isEqual(ue){return this._delegate.isEqual(ue._delegate)}}const mr={Firestore:Ke,GeoPoint:ke.F8,Timestamp:ke.EK,Blob:Ot,Transaction:we,WriteBatch:te,DocumentReference:Pe,DocumentSnapshot:Bt,Query:Wt,QueryDocumentSnapshot:Gt,QuerySnapshot:Yn,CollectionReference:Rn,FieldPath:rn,FieldValue:kn,setLogLevel:function Fe(wt){(0,ke.Ub)(wt)},CACHE_SIZE_UNLIMITED:ke.IX};!function Qt(wt){(function Jn(wt,ue){wt.INTERNAL.registerComponent(new tt.wA("firestore-compat",Be=>{const Mt=Be.getProvider("app-compat").getImmediate(),en=Be.getProvider("firestore").getImmediate();return ue(Mt,en)},"PUBLIC").setServiceProps(Object.assign({},mr)))})(wt,(ue,Be)=>new Ke(ue,Be,new Tt)),wt.registerVersion("@firebase/firestore-compat","0.3.32")}(mt.Z);var jr=k(7142);function Pr(wt,ue){return function xn(wt,ue=Ae.z){return new de.y(Be=>{let Mt;return null!=ue?ue.schedule(()=>{Mt=wt.onSnapshot({includeMetadataChanges:!0},Be)}):Mt=wt.onSnapshot({includeMetadataChanges:!0},Be),()=>{Mt?.()}})}(wt,ue)}function Yt(wt,ue){return Pr(wt,ue).pipe((0,ye.U)(Be=>({payload:Be,type:"query"})))}class In{ref;afs;constructor(ue,Be){this.ref=ue,this.afs=Be}set(ue,Be){return this.ref.set(ue,Be)}update(ue){return this.ref.update(ue)}delete(){return this.ref.delete()}collection(ue,Be){const Mt=this.ref.collection(ue),{ref:en,query:$n}=Dr(Mt,Be);return new Yr(en,$n,this.afs)}snapshotChanges(){return function sr(wt,ue){return Pr(wt,ue).pipe((0,$.O)(void 0),be(),(0,ye.U)(Be=>{const[Mt,en]=Be;return en.exists?Mt?.exists?{payload:en,type:"modified"}:{payload:en,type:"added"}:{payload:en,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(B.iC)}valueChanges(ue={}){return this.snapshotChanges().pipe((0,ye.U)(({payload:Be})=>ue.idField?{...Be.data(),[ue.idField]:Be.id}:Be.data()))}get(ue){return(0,ae.D)(this.ref.get(ue)).pipe(B.iC)}}function Bn(wt,ue){return Yt(wt,ue).pipe((0,$.O)(void 0),be(),(0,ye.U)(Be=>{const[Mt,en]=Be,$n=en.payload.docChanges(),hi=$n.map(Cr=>({type:Cr.type,payload:Cr}));return Mt&&JSON.stringify(Mt.payload.metadata)!==JSON.stringify(en.payload.metadata)&&en.payload.docs.forEach((Cr,qe)=>{const ce=$n.find(H=>H.doc.ref.isEqual(Cr.ref)),K=Mt?.payload.docs.find(H=>H.ref.isEqual(Cr.ref));ce&&JSON.stringify(ce.doc.metadata)===JSON.stringify(Cr.metadata)||!ce&&K&&JSON.stringify(K.metadata)===JSON.stringify(Cr.metadata)||hi.push({type:"modified",payload:{oldIndex:qe,newIndex:qe,type:"modified",doc:Cr}})}),hi}))}function zn(wt,ue,Be){return Bn(wt,Be).pipe((0,De.R)((Mt,en)=>function Er(wt,ue,Be){return ue.forEach(Mt=>{Be.indexOf(Mt.type)>-1&&(wt=function qn(wt,ue){switch(ue.type){case"added":if(!wt[ue.newIndex]||!wt[ue.newIndex].doc.ref.isEqual(ue.doc.ref))return br(wt,ue.newIndex,0,ue);break;case"modified":if(null==wt[ue.oldIndex]||wt[ue.oldIndex].doc.ref.isEqual(ue.doc.ref)){if(ue.oldIndex!==ue.newIndex){const Be=wt.slice();return Be.splice(ue.oldIndex,1),Be.splice(ue.newIndex,0,ue),Be}return br(wt,ue.newIndex,1,ue)}break;case"removed":if(wt[ue.oldIndex]&&wt[ue.oldIndex].doc.ref.isEqual(ue.doc.ref))return br(wt,ue.oldIndex,1)}return wt}(wt,Mt))}),wt}(Mt,en.map($n=>$n.payload),ue),[]),(0,xe.x)(),(0,ye.U)(Mt=>Mt.map(en=>({type:en.type,payload:en}))))}function br(wt,ue,Be,...Mt){const en=wt.slice();return en.splice(ue,Be,...Mt),en}function Kn(wt){return(!wt||0===wt.length)&&(wt=["added","removed","modified"]),wt}class Yr{ref;query;afs;constructor(ue,Be,Mt){this.ref=ue,this.query=Be,this.afs=Mt}stateChanges(ue){let Be=Bn(this.query,this.afs.schedulers.outsideAngular);return ue&&ue.length>0&&(Be=Be.pipe((0,ye.U)(Mt=>Mt.filter(en=>ue.indexOf(en.type)>-1)))),Be.pipe((0,$.O)(void 0),be(),(0,Ye.h)(([Mt,en])=>en.length>0||!Mt),(0,ye.U)(([,Mt])=>Mt),B.iC)}auditTrail(ue){return this.stateChanges(ue).pipe((0,De.R)((Be,Mt)=>[...Be,...Mt],[]))}snapshotChanges(ue){const Be=Kn(ue);return zn(this.query,Be,this.afs.schedulers.outsideAngular).pipe(B.iC)}valueChanges(ue={}){return Yt(this.query,this.afs.schedulers.outsideAngular).pipe((0,ye.U)(Be=>Be.payload.docs.map(Mt=>ue.idField?{...Mt.data(),[ue.idField]:Mt.id}:Mt.data())),B.iC)}get(ue){return(0,ae.D)(this.query.get(ue)).pipe(B.iC)}add(ue){return this.ref.add(ue)}doc(ue){return new In(this.ref.doc(ue),this.afs)}}class yi{query;afs;constructor(ue,Be){this.query=ue,this.afs=Be}stateChanges(ue){return ue&&0!==ue.length?Bn(this.query,this.afs.schedulers.outsideAngular).pipe((0,ye.U)(Be=>Be.filter(Mt=>ue.indexOf(Mt.type)>-1)),(0,Ye.h)(Be=>Be.length>0),B.iC):Bn(this.query,this.afs.schedulers.outsideAngular).pipe(B.iC)}auditTrail(ue){return this.stateChanges(ue).pipe((0,De.R)((Be,Mt)=>[...Be,...Mt],[]))}snapshotChanges(ue){const Be=Kn(ue);return zn(this.query,Be,this.afs.schedulers.outsideAngular).pipe(B.iC)}valueChanges(ue={}){return Yt(this.query,this.afs.schedulers.outsideAngular).pipe((0,ye.U)(Mt=>Mt.payload.docs.map(en=>ue.idField?{[ue.idField]:en.id,...en.data()}:en.data())),B.iC)}get(ue){return(0,ae.D)(this.query.get(ue)).pipe(B.iC)}}const gn=new o.OlP("angularfire2.enableFirestorePersistence"),Ur=new o.OlP("angularfire2.firestore.persistenceSettings"),ar=new o.OlP("angularfire2.firestore.settings"),Rr=new o.OlP("angularfire2.firestore.use-emulator");function Dr(wt,ue=(Be=>Be)){return{query:ue(wt),ref:wt}}let ri=(()=>{class wt{schedulers;firestore;persistenceEnabled$;constructor(Be,Mt,en,$n,hi,Cr,qe,ce,K,H,U,Te,Xe,Nt,$t,mn,on){this.schedulers=qe;const hn=(0,Se.on)(Be,Cr,Mt),Xn=K;H&&(0,me.nw)(hn,Cr,U,Xe,Nt,$t,Te,mn),[this.firestore,this.persistenceEnabled$]=(0,Se.cc)(`${hn.name}.firestore`,"AngularFirestore",hn.name,()=>{const Je=Cr.runOutsideAngular(()=>hn.firestore());if($n&&Je.settings($n),Xn&&Je.useEmulator(...Xn),en&&!(0,f.PM)(hi)){const He=()=>{try{return(0,ae.D)(Je.enablePersistence(ce||void 0).then(()=>!0,()=>!1))}catch(nt){return typeof console<"u"&&console.warn(nt),(0,ve.of)(!1)}};return[Je,Cr.runOutsideAngular(He)]}return[Je,(0,ve.of)(!1)]},[$n,Xn,en])}collection(Be,Mt){let en;en="string"==typeof Be?this.firestore.collection(Be):Be;const{ref:$n,query:hi}=Dr(en,Mt),Cr=this.schedulers.ngZone.run(()=>$n);return new Yr(Cr,hi,this)}collectionGroup(Be,Mt){const en=Mt||(hi=>hi),$n=this.firestore.collectionGroup(Be);return new yi(en($n),this)}doc(Be){let Mt;Mt="string"==typeof Be?this.firestore.doc(Be):Be;const en=this.schedulers.ngZone.run(()=>Mt);return new In(en,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(Mt){return new(Mt||wt)(o.LFG(Se.Dh),o.LFG(Se.xv,8),o.LFG(gn,8),o.LFG(ar,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(B.HU),o.LFG(Ur,8),o.LFG(Rr,8),o.LFG(me.zQ,8),o.LFG(me.Qv,8),o.LFG(me.L6,8),o.LFG(me._Q,8),o.LFG(me.rT,8),o.LFG(me.lh,8),o.LFG(me.f7,8),o.LFG(B.Rf,8))};static \u0275prov=o.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"any"})}return wt})(),at=(()=>{class wt{constructor(){jr.Z.registerVersion("angularfire",B.q4.full,"fst-compat")}static enablePersistence(Be){return{ngModule:wt,providers:[{provide:gn,useValue:!0},{provide:Ur,useValue:Be}]}}static \u0275fac=function(Mt){return new(Mt||wt)};static \u0275mod=o.oAB({type:wt});static \u0275inj=o.cJS({providers:[ri]})}return wt})()},243:(sn,lt,k)=>{"use strict";k.d(lt,{Q1:()=>Ke,TE:()=>we});var f=k(1920),o=k(5592),B=k(2096),Se=k(2459),me=k(3620),Ae=k(7398),de=k(4664),ae=k(5879),ve=k(7217),$=k(3106),z=k(8153),oe=k(4537);class be{constructor(Ie,Pe,je){this._delegate=Ie,this.task=Pe,this.ref=je}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class ye{constructor(Ie,Pe){this._delegate=Ie,this._ref=Pe,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new be(this._delegate.snapshot,this,this._ref)}then(Ie,Pe){return this._delegate.then(je=>{if(Ie)return Ie(new be(je,this,this._ref))},Pe)}on(Ie,Pe,je,it){let _t;return Pe&&(_t="function"==typeof Pe?Bt=>Pe(new be(Bt,this,this._ref)):{next:Pe.next?Bt=>Pe.next(new be(Bt,this,this._ref)):void 0,complete:Pe.complete||void 0,error:Pe.error||void 0}),this._delegate.on(Ie,_t,je||void 0,it||void 0)}}class De{constructor(Ie,Pe){this._delegate=Ie,this._service=Pe}get prefixes(){return this._delegate.prefixes.map(Ie=>new xe(Ie,this._service))}get items(){return this._delegate.items.map(Ie=>new xe(Ie,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class xe{constructor(Ie,Pe){this._delegate=Ie,this.storage=Pe}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(Ie){const Pe=(0,z.g6)(this._delegate,Ie);return new xe(Pe,this.storage)}get root(){return new xe(this._delegate.root,this.storage)}get parent(){const Ie=this._delegate.parent;return null==Ie?null:new xe(Ie,this.storage)}put(Ie,Pe){return this._throwIfRoot("put"),new ye((0,z.B0)(this._delegate,Ie,Pe),this)}putString(Ie,Pe=z.bm.RAW,je){this._throwIfRoot("putString");const it=(0,z.qm)(Pe,Ie),_t=Object.assign({},je);return null==_t.contentType&&null!=it.contentType&&(_t.contentType=it.contentType),new ye(new z.IX(this._delegate,new z.UJ(it.data,!0),_t),this)}listAll(){return(0,z.aF)(this._delegate).then(Ie=>new De(Ie,this.storage))}list(Ie){return(0,z.pb)(this._delegate,Ie||void 0).then(Pe=>new De(Pe,this.storage))}getMetadata(){return(0,z.sd)(this._delegate)}updateMetadata(Ie){return(0,z.Ym)(this._delegate,Ie)}getDownloadURL(){return(0,z.Jt)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,z.oq)(this._delegate)}_throwIfRoot(Ie){if(""===this._delegate._location.path)throw(0,z.y4)(Ie)}}class Ye{constructor(Ie,Pe){this.app=Ie,this._delegate=Pe}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(Ie){if(We(Ie))throw(0,z.gH)("ref() expected a child path but got a URL, use refFromURL instead.");return new xe((0,z.iH)(this._delegate,Ie),this)}refFromURL(Ie){if(!We(Ie))throw(0,z.gH)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{z.gE.makeFromUrl(Ie,this._delegate.host)}catch{throw(0,z.gH)("refFromUrl() expected a valid full URL but got an invalid one.")}return new xe((0,z.iH)(this._delegate,Ie),this)}setMaxUploadRetryTime(Ie){this._delegate.maxUploadRetryTime=Ie}setMaxOperationRetryTime(Ie){this._delegate.maxOperationRetryTime=Ie}useEmulator(Ie,Pe,je={}){(0,z.a1)(this._delegate,Ie,Pe,je)}}function We(te){return/^[A-Za-z]+:\/\//.test(te)}function tt(te,{instanceIdentifier:Ie}){const Pe=te.getProvider("app-compat").getImmediate(),je=te.getProvider("storage").getImmediate({identifier:Ie});return new Ye(Pe,je)}!function Ge(te){const Ie={TaskState:z.$Y,TaskEvent:z.FN,StringFormat:z.bm,Storage:Ye,Reference:xe};te.INTERNAL.registerComponent(new oe.wA("storage-compat",tt,"PUBLIC").setServiceProps(Ie).setMultipleInstances(!0)),te.registerVersion("@firebase/storage-compat","0.3.8")}($.Z);var Ze=k(7142);function bt(te){const Ie=function dt(te){return new o.y(Ie=>{const Pe=Bt=>Ie.next(Bt);Pe(te.snapshot);const _t=te.on("state_changed",Pe);return te.then(Bt=>{Pe(Bt),Ie.complete()},Bt=>{Pe(te.snapshot),(Bt=>{Ie.error(Bt)})(Bt)}),function(){_t()}}).pipe((0,me.b)(0))}(te);return{task:te,then:te.then.bind(te),catch:te.catch.bind(te),pause:te.pause.bind(te),cancel:te.cancel.bind(te),resume:te.resume.bind(te),snapshotChanges:()=>Ie,percentageChanges:()=>Ie.pipe((0,Ae.U)(Pe=>Pe.bytesTransferred/Pe.totalBytes*100))}}function Ee(te){return{getDownloadURL:()=>(0,B.of)(void 0).pipe(f.fc,(0,de.w)(()=>te.getDownloadURL()),f.iC),getMetadata:()=>(0,B.of)(void 0).pipe(f.fc,(0,de.w)(()=>te.getMetadata()),f.iC),delete:()=>(0,Se.D)(te.delete()),child:Ie=>Ee(te.child(Ie)),updateMetadata:Ie=>(0,Se.D)(te.updateMetadata(Ie)),put:(Ie,Pe)=>bt(te.put(Ie,Pe)),putString:(Ie,Pe,je)=>bt(te.putString(Ie,Pe,je)),list:Ie=>(0,Se.D)(te.list(Ie)),listAll:()=>(0,Se.D)(te.listAll())}}const Ot=new ae.OlP("angularfire2.storageBucket"),Vt=new ae.OlP("angularfire2.storage.maxUploadRetryTime"),Sn=new ae.OlP("angularfire2.storage.maxOperationRetryTime"),Tt=new ae.OlP("angularfire2.storage.use-emulator");let Ke=(()=>{class te{storage;constructor(Pe,je,it,_t,Bt,Gt,Wt,bn,Yn,Rn){const Nn=(0,ve.on)(Pe,Bt,je);this.storage=(0,ve.cc)(`${Nn.name}.storage.${it}`,"AngularFireStorage",Nn.name,()=>{const rn=Bt.runOutsideAngular(()=>Nn.storage(it||void 0)),kn=Yn;return kn&&rn.useEmulator(...kn),Wt&&rn.setMaxUploadRetryTime(Wt),bn&&rn.setMaxOperationRetryTime(bn),rn},[Wt,bn])}ref(Pe){return Ee(this.storage.ref(Pe))}refFromURL(Pe){return Ee(this.storage.refFromURL(Pe))}upload(Pe,je,it){return Ee(this.storage.ref(Pe)).put(je,it)}static \u0275fac=function(je){return new(je||te)(ae.LFG(ve.Dh),ae.LFG(ve.xv,8),ae.LFG(Ot,8),ae.LFG(ae.Lbi),ae.LFG(ae.R0b),ae.LFG(f.HU),ae.LFG(Vt,8),ae.LFG(Sn,8),ae.LFG(Tt,8),ae.LFG(f.Rf,8))};static \u0275prov=ae.Yz7({token:te,factory:te.\u0275fac,providedIn:"any"})}return te})(),Fe=(()=>{class te{static \u0275fac=function(je){return new(je||te)};static \u0275mod=ae.oAB({type:te});static \u0275inj=ae.cJS({})}return te})(),we=(()=>{class te{constructor(){Ze.Z.registerVersion("angularfire",f.q4.full,"gcs-compat")}static \u0275fac=function(je){return new(je||te)};static \u0275mod=ae.oAB({type:te});static \u0275inj=ae.cJS({providers:[Ke],imports:[Fe]})}return te})()},7217:(sn,lt,k)=>{"use strict";k.d(lt,{Dh:()=>ae,GT:()=>Ae,cc:()=>ye,hO:()=>be,on:()=>$,pX:()=>me,xv:()=>ve});var f=k(5879),o=k(1920),B=k(7142);const Se=["ngOnDestroy"],me=(We,mt,ke,Oe={})=>new Proxy(We,{get:(tt,Ge)=>ke.runOutsideAngular(()=>{if(We[Ge])return Oe?.spy?.get&&Oe.spy.get(Ge,We[Ge]),We[Ge];if(Se.indexOf(Ge)>-1)return()=>{};const Ze=mt.toPromise().then(dt=>{const bt=dt?.[Ge];return"function"==typeof bt?bt.bind(dt):bt?.then?bt.then(Ee=>ke.run(()=>Ee)):ke.run(()=>bt)});return new Proxy(()=>{},{get:(dt,bt)=>Ze[bt],apply:(dt,bt,Ee)=>Ze.then(Ot=>{const Vt=Ot?.(...Ee);return Oe?.spy?.apply&&Oe.spy.apply(Ge,Ee,Vt),Vt})})})}),Ae=(We,mt)=>{mt.forEach(ke=>{Object.getOwnPropertyNames(ke.prototype||ke).forEach(Oe=>{Object.defineProperty(We.prototype,Oe,Object.getOwnPropertyDescriptor(ke.prototype||ke,Oe))})})};class de{constructor(mt){return mt}}const ae=new f.OlP("angularfire2.app.options"),ve=new f.OlP("angularfire2.app.name");function $(We,mt,ke){const tt="object"==typeof ke&&ke||{};tt.name=tt.name||"string"==typeof ke&&ke||"[DEFAULT]";const Ze=B.Z.apps.filter(dt=>dt&&dt.name===tt.name)[0]||mt.runOutsideAngular(()=>B.Z.initializeApp(We,tt));try{if(JSON.stringify(We)!==JSON.stringify(Ze.options)){const dt=!!module.hot;z("error",`${Ze.name} Firebase App already initialized with different options${dt?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new de(Ze)}const z=(We,...mt)=>{(0,f.X6Q)()&&typeof console<"u"&&console[We](...mt)},oe={provide:de,useFactory:$,deps:[ae,f.R0b,[new f.FiY,ve]]};let be=(()=>{class We{static initializeApp(ke,Oe){return{ngModule:We,providers:[{provide:ae,useValue:ke},{provide:ve,useValue:Oe}]}}constructor(ke){B.Z.registerVersion("angularfire",o.q4.full,"core"),B.Z.registerVersion("angularfire",o.q4.full,"app-compat"),B.Z.registerVersion("angular",f.q4F.full,ke.toString())}static \u0275fac=function(Oe){return new(Oe||We)(f.LFG(f.Lbi))};static \u0275mod=f.oAB({type:We});static \u0275inj=f.cJS({providers:[oe]})}return We})();function ye(We,mt,ke,Oe,tt){const[,Ge,Ze]=globalThis.\u0275AngularfireInstanceCache.find(dt=>dt[0]===We)||[];if(Ge)return function De(We,mt){try{return We.toString()===mt.toString()}catch{return We===mt}}(tt,Ze)||(Ye("error",`${mt} was already initialized on the ${ke} Firebase App with different settings.${xe?" You may need to reload as Firebase is not HMR aware.":""}`),Ye("warn",{is:tt,was:Ze})),Ge;{const dt=Oe();return globalThis.\u0275AngularfireInstanceCache.push([We,dt,tt]),dt}}const xe=typeof module<"u"&&!!module.hot,Ye=(We,...mt)=>{(0,f.X6Q)()&&typeof console<"u"&&console[We](...mt)};globalThis.\u0275AngularfireInstanceCache||=[]},1920:(sn,lt,k)=>{"use strict";k.d(lt,{q4:()=>ye,iC:()=>Vt,fc:()=>Ee,HU:()=>Ge,Rf:()=>We,vb:()=>Ye,JM:()=>xe,u3:()=>Ke});var f=k(5879),o=k(3182),B=k(1954),me=k(2631);const de=new class Ae extends me.v{}(class Se extends B.o{constructor(Fe,we){super(Fe,we),this.scheduler=Fe,this.work=we}schedule(Fe,we=0){return we>0?super.schedule(Fe,we):(this.delay=we,this.state=Fe,this.scheduler.flush(this),this)}execute(Fe,we){return we>0||this.closed?super.execute(Fe,we):this._execute(Fe,we)}requestAsyncId(Fe,we,te=0){return null!=te&&te>0||null==te&&this.delay>0?super.requestAsyncId(Fe,we,te):(Fe.flush(this),0)}});var ve=k(6321),$=k(5592),z=k(9397),oe=k(3093),be=k(5137);const ye=new f.GfV("ANGULARFIRE2_VERSION");function xe(ut,Fe,we){if(Fe){if(1===Fe.length)return Fe[0];const Pe=Fe.filter(je=>je.app===we);if(1===Pe.length)return Pe[0]}return we.container.getProvider(ut).getImmediate({optional:!0})}const Ye=(ut,Fe)=>{const we=Fe?[Fe]:(0,o.C6)(),te=[];return we.forEach(Ie=>{Ie.container.getProvider(ut).instances.forEach(je=>{te.includes(je)||te.push(je)})}),te};class We{constructor(){return Ye(mt)}}const mt="app-check";function ke(){}class Oe{zone;delegate;constructor(Fe,we=de){this.zone=Fe,this.delegate=we}now(){return this.delegate.now()}schedule(Fe,we,te){const Ie=this.zone;return this.delegate.schedule(function(je){Ie.runGuarded(()=>{Fe.apply(this,[je])})},we,te)}}class tt{zone;task=null;constructor(Fe){this.zone=Fe}call(Fe,we){const te=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ke,{},ke,ke)),we.pipe((0,z.b)({next:te,complete:te,error:te})).subscribe(Fe).add(te)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ge=(()=>{class ut{ngZone;outsideAngular;insideAngular;constructor(we){this.ngZone=we,this.outsideAngular=we.runOutsideAngular(()=>new Oe(Zone.current)),this.insideAngular=we.run(()=>new Oe(Zone.current,ve.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(te){return new(te||ut)(f.LFG(f.R0b))};static \u0275prov=f.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"root"})}return ut})();function Ze(){const ut=globalThis.\u0275AngularFireScheduler;if(!ut)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return ut}function bt(ut){return Ze().ngZone.run(()=>ut())}function Ee(ut){return ut.pipe((0,oe.Q)(Ze().outsideAngular))}function Vt(ut){return function Sn(ut){return function(we){return(we=we.lift(new tt(ut.ngZone))).pipe((0,be.R)(ut.outsideAngular),(0,oe.Q)(ut.insideAngular))}}(Ze())(ut)}const Tt=(ut,Fe)=>function(){const te=arguments;return Fe&&setTimeout(()=>{"scheduled"===Fe.state&&Fe.invoke()},10),bt(()=>ut.apply(void 0,te))},Ke=(ut,Fe)=>function(){let we;const te=arguments;for(let Pe=0;Pe<arguments.length;Pe++)"function"==typeof te[Pe]&&(Fe&&(we||=bt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ke,{},ke,ke))),te[Pe]=Tt(te[Pe],we));const Ie=function dt(ut){return Ze().ngZone.runOutsideAngular(()=>ut())}(()=>ut.apply(this,te));if(!Fe){if(Ie instanceof $.y){const Pe=Ze();return Ie.pipe((0,be.R)(Pe.outsideAngular),(0,oe.Q)(Pe.insideAngular))}return bt(()=>Ie)}return Ie instanceof $.y?Ie.pipe(Vt):Ie instanceof Promise?bt(()=>new Promise((Pe,je)=>Ie.then(it=>bt(()=>Pe(it)),it=>bt(()=>je(it))))):"function"==typeof Ie&&we?function(){return setTimeout(()=>{we&&"scheduled"===we.state&&we.invoke()},10),Ie.apply(this,arguments)}:bt(()=>Ie)}},6223:(sn,lt,k)=>{"use strict";k.d(lt,{EJ:()=>ts,F:()=>Mi,Fj:()=>ye,JJ:()=>Qt,JL:()=>jr,Kr:()=>Ds,On:()=>zi,Q7:()=>Kt,UX:()=>Ho,YN:()=>ai,_Y:()=>Co,kI:()=>ke,qu:()=>$i,sg:()=>Xr,u:()=>_n,u5:()=>Za,x0:()=>es});var f=k(5879),o=k(6814),B=k(2459),Se=k(9315),me=k(7398);let Ae=(()=>{class Q{constructor(F,ge){this._renderer=F,this._elementRef=ge,this.onChange=ze=>{},this.onTouched=()=>{}}setProperty(F,ge){this._renderer.setProperty(this._elementRef.nativeElement,F,ge)}registerOnTouched(F){this.onTouched=F}registerOnChange(F){this.onChange=F}setDisabledState(F){this.setProperty("disabled",F)}static#e=this.\u0275fac=function(ge){return new(ge||Q)(f.Y36(f.Qsj),f.Y36(f.SBq))};static#t=this.\u0275dir=f.lG2({type:Q})}return Q})(),de=(()=>{class Q extends Ae{static#e=this.\u0275fac=function(){let F;return function(ze){return(F||(F=f.n5z(Q)))(ze||Q)}}();static#t=this.\u0275dir=f.lG2({type:Q,features:[f.qOj]})}return Q})();const ae=new f.OlP("NgValueAccessor"),z={provide:ae,useExisting:(0,f.Gpc)(()=>ye),multi:!0},be=new f.OlP("CompositionEventMode");let ye=(()=>{class Q extends Ae{constructor(F,ge,ze){super(F,ge),this._compositionMode=ze,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function oe(){const Q=(0,o.q)()?(0,o.q)().getUserAgent():"";return/android (\d+)/.test(Q.toLowerCase())}())}writeValue(F){this.setProperty("value",F??"")}_handleInput(F){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(F)}_compositionStart(){this._composing=!0}_compositionEnd(F){this._composing=!1,this._compositionMode&&this.onChange(F)}static#e=this.\u0275fac=function(ge){return new(ge||Q)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(be,8))};static#t=this.\u0275dir=f.lG2({type:Q,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ge,ze){1&ge&&f.NdJ("input",function(vr){return ze._handleInput(vr.target.value)})("blur",function(){return ze.onTouched()})("compositionstart",function(){return ze._compositionStart()})("compositionend",function(vr){return ze._compositionEnd(vr.target.value)})},features:[f._Bn([z]),f.qOj]})}return Q})();function De(Q){return null==Q||("string"==typeof Q||Array.isArray(Q))&&0===Q.length}function xe(Q){return null!=Q&&"number"==typeof Q.length}const Ye=new f.OlP("NgValidators"),We=new f.OlP("NgAsyncValidators"),mt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ke{static min(ie){return function Oe(Q){return ie=>{if(De(ie.value)||De(Q))return null;const F=parseFloat(ie.value);return!isNaN(F)&&F<Q?{min:{min:Q,actual:ie.value}}:null}}(ie)}static max(ie){return function tt(Q){return ie=>{if(De(ie.value)||De(Q))return null;const F=parseFloat(ie.value);return!isNaN(F)&&F>Q?{max:{max:Q,actual:ie.value}}:null}}(ie)}static required(ie){return Ge(ie)}static requiredTrue(ie){return function Ze(Q){return!0===Q.value?null:{required:!0}}(ie)}static email(ie){return function dt(Q){return De(Q.value)||mt.test(Q.value)?null:{email:!0}}(ie)}static minLength(ie){return function bt(Q){return ie=>De(ie.value)||!xe(ie.value)?null:ie.value.length<Q?{minlength:{requiredLength:Q,actualLength:ie.value.length}}:null}(ie)}static maxLength(ie){return function Ee(Q){return ie=>xe(ie.value)&&ie.value.length>Q?{maxlength:{requiredLength:Q,actualLength:ie.value.length}}:null}(ie)}static pattern(ie){return function Ot(Q){if(!Q)return Vt;let ie,F;return"string"==typeof Q?(F="","^"!==Q.charAt(0)&&(F+="^"),F+=Q,"$"!==Q.charAt(Q.length-1)&&(F+="$"),ie=new RegExp(F)):(F=Q.toString(),ie=Q),ge=>{if(De(ge.value))return null;const ze=ge.value;return ie.test(ze)?null:{pattern:{requiredPattern:F,actualValue:ze}}}}(ie)}static nullValidator(ie){return null}static compose(ie){return te(ie)}static composeAsync(ie){return Pe(ie)}}function Ge(Q){return De(Q.value)?{required:!0}:null}function Vt(Q){return null}function Sn(Q){return null!=Q}function Tt(Q){return(0,f.QGY)(Q)?(0,B.D)(Q):Q}function Ke(Q){let ie={};return Q.forEach(F=>{ie=null!=F?{...ie,...F}:ie}),0===Object.keys(ie).length?null:ie}function ut(Q,ie){return ie.map(F=>F(Q))}function we(Q){return Q.map(ie=>function Fe(Q){return!Q.validate}(ie)?ie:F=>ie.validate(F))}function te(Q){if(!Q)return null;const ie=Q.filter(Sn);return 0==ie.length?null:function(F){return Ke(ut(F,ie))}}function Ie(Q){return null!=Q?te(we(Q)):null}function Pe(Q){if(!Q)return null;const ie=Q.filter(Sn);return 0==ie.length?null:function(F){const ge=ut(F,ie).map(Tt);return(0,Se.D)(ge).pipe((0,me.U)(Ke))}}function je(Q){return null!=Q?Pe(we(Q)):null}function it(Q,ie){return null===Q?[ie]:Array.isArray(Q)?[...Q,ie]:[Q,ie]}function _t(Q){return Q._rawValidators}function Bt(Q){return Q._rawAsyncValidators}function Gt(Q){return Q?Array.isArray(Q)?Q:[Q]:[]}function Wt(Q,ie){return Array.isArray(Q)?Q.includes(ie):Q===ie}function bn(Q,ie){const F=Gt(ie);return Gt(Q).forEach(ze=>{Wt(F,ze)||F.push(ze)}),F}function Yn(Q,ie){return Gt(ie).filter(F=>!Wt(Q,F))}class Rn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ie){this._rawValidators=ie||[],this._composedValidatorFn=Ie(this._rawValidators)}_setAsyncValidators(ie){this._rawAsyncValidators=ie||[],this._composedAsyncValidatorFn=je(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ie){this._onDestroyCallbacks.push(ie)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ie=>ie()),this._onDestroyCallbacks=[]}reset(ie=void 0){this.control&&this.control.reset(ie)}hasError(ie,F){return!!this.control&&this.control.hasError(ie,F)}getError(ie,F){return this.control?this.control.getError(ie,F):null}}class Nn extends Rn{get formDirective(){return null}get path(){return null}}class rn extends Rn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class kn{constructor(ie){this._cd=ie}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Qt=(()=>{class Q extends kn{constructor(F){super(F)}static#e=this.\u0275fac=function(ge){return new(ge||Q)(f.Y36(rn,2))};static#t=this.\u0275dir=f.lG2({type:Q,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ge,ze){2&ge&&f.ekj("ng-untouched",ze.isUntouched)("ng-touched",ze.isTouched)("ng-pristine",ze.isPristine)("ng-dirty",ze.isDirty)("ng-valid",ze.isValid)("ng-invalid",ze.isInvalid)("ng-pending",ze.isPending)},features:[f.qOj]})}return Q})(),jr=(()=>{class Q extends kn{constructor(F){super(F)}static#e=this.\u0275fac=function(ge){return new(ge||Q)(f.Y36(Nn,10))};static#t=this.\u0275dir=f.lG2({type:Q,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ge,ze){2&ge&&f.ekj("ng-untouched",ze.isUntouched)("ng-touched",ze.isTouched)("ng-pristine",ze.isPristine)("ng-dirty",ze.isDirty)("ng-valid",ze.isValid)("ng-invalid",ze.isInvalid)("ng-pending",ze.isPending)("ng-submitted",ze.isSubmitted)},features:[f.qOj]})}return Q})();const Dr="VALID",ri="INVALID",at="PENDING",wt="DISABLED";function ue(Q){return($n(Q)?Q.validators:Q)||null}function Mt(Q,ie){return($n(ie)?ie.asyncValidators:Q)||null}function $n(Q){return null!=Q&&!Array.isArray(Q)&&"object"==typeof Q}function hi(Q,ie,F){const ge=Q.controls;if(!(ie?Object.keys(ge):ge).length)throw new f.vHH(1e3,"");if(!ge[F])throw new f.vHH(1001,"")}function Cr(Q,ie,F){Q._forEachChild((ge,ze)=>{if(void 0===F[ze])throw new f.vHH(1002,"")})}class qe{constructor(ie,F){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(ie),this._assignAsyncValidators(F)}get validator(){return this._composedValidatorFn}set validator(ie){this._rawValidators=this._composedValidatorFn=ie}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ie){this._rawAsyncValidators=this._composedAsyncValidatorFn=ie}get parent(){return this._parent}get valid(){return this.status===Dr}get invalid(){return this.status===ri}get pending(){return this.status==at}get disabled(){return this.status===wt}get enabled(){return this.status!==wt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ie){this._assignValidators(ie)}setAsyncValidators(ie){this._assignAsyncValidators(ie)}addValidators(ie){this.setValidators(bn(ie,this._rawValidators))}addAsyncValidators(ie){this.setAsyncValidators(bn(ie,this._rawAsyncValidators))}removeValidators(ie){this.setValidators(Yn(ie,this._rawValidators))}removeAsyncValidators(ie){this.setAsyncValidators(Yn(ie,this._rawAsyncValidators))}hasValidator(ie){return Wt(this._rawValidators,ie)}hasAsyncValidator(ie){return Wt(this._rawAsyncValidators,ie)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ie={}){this.touched=!0,this._parent&&!ie.onlySelf&&this._parent.markAsTouched(ie)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(ie=>ie.markAllAsTouched())}markAsUntouched(ie={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(F=>{F.markAsUntouched({onlySelf:!0})}),this._parent&&!ie.onlySelf&&this._parent._updateTouched(ie)}markAsDirty(ie={}){this.pristine=!1,this._parent&&!ie.onlySelf&&this._parent.markAsDirty(ie)}markAsPristine(ie={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(F=>{F.markAsPristine({onlySelf:!0})}),this._parent&&!ie.onlySelf&&this._parent._updatePristine(ie)}markAsPending(ie={}){this.status=at,!1!==ie.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!ie.onlySelf&&this._parent.markAsPending(ie)}disable(ie={}){const F=this._parentMarkedDirty(ie.onlySelf);this.status=wt,this.errors=null,this._forEachChild(ge=>{ge.disable({...ie,onlySelf:!0})}),this._updateValue(),!1!==ie.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ie,skipPristineCheck:F}),this._onDisabledChange.forEach(ge=>ge(!0))}enable(ie={}){const F=this._parentMarkedDirty(ie.onlySelf);this.status=Dr,this._forEachChild(ge=>{ge.enable({...ie,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ie.emitEvent}),this._updateAncestors({...ie,skipPristineCheck:F}),this._onDisabledChange.forEach(ge=>ge(!1))}_updateAncestors(ie){this._parent&&!ie.onlySelf&&(this._parent.updateValueAndValidity(ie),ie.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(ie){this._parent=ie}getRawValue(){return this.value}updateValueAndValidity(ie={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Dr||this.status===at)&&this._runAsyncValidator(ie.emitEvent)),!1!==ie.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ie.onlySelf&&this._parent.updateValueAndValidity(ie)}_updateTreeValidity(ie={emitEvent:!0}){this._forEachChild(F=>F._updateTreeValidity(ie)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ie.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wt:Dr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ie){if(this.asyncValidator){this.status=at,this._hasOwnPendingAsyncValidator=!0;const F=Tt(this.asyncValidator(this));this._asyncValidationSubscription=F.subscribe(ge=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ge,{emitEvent:ie})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(ie,F={}){this.errors=ie,this._updateControlsErrors(!1!==F.emitEvent)}get(ie){let F=ie;return null==F||(Array.isArray(F)||(F=F.split(".")),0===F.length)?null:F.reduce((ge,ze)=>ge&&ge._find(ze),this)}getError(ie,F){const ge=F?this.get(F):this;return ge&&ge.errors?ge.errors[ie]:null}hasError(ie,F){return!!this.getError(ie,F)}get root(){let ie=this;for(;ie._parent;)ie=ie._parent;return ie}_updateControlsErrors(ie){this.status=this._calculateStatus(),ie&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(ie)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?wt:this.errors?ri:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(at)?at:this._anyControlsHaveStatus(ri)?ri:Dr}_anyControlsHaveStatus(ie){return this._anyControls(F=>F.status===ie)}_anyControlsDirty(){return this._anyControls(ie=>ie.dirty)}_anyControlsTouched(){return this._anyControls(ie=>ie.touched)}_updatePristine(ie={}){this.pristine=!this._anyControlsDirty(),this._parent&&!ie.onlySelf&&this._parent._updatePristine(ie)}_updateTouched(ie={}){this.touched=this._anyControlsTouched(),this._parent&&!ie.onlySelf&&this._parent._updateTouched(ie)}_registerOnCollectionChange(ie){this._onCollectionChange=ie}_setUpdateStrategy(ie){$n(ie)&&null!=ie.updateOn&&(this._updateOn=ie.updateOn)}_parentMarkedDirty(ie){return!ie&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ie){return null}_assignValidators(ie){this._rawValidators=Array.isArray(ie)?ie.slice():ie,this._composedValidatorFn=function Be(Q){return Array.isArray(Q)?Ie(Q):Q||null}(this._rawValidators)}_assignAsyncValidators(ie){this._rawAsyncValidators=Array.isArray(ie)?ie.slice():ie,this._composedAsyncValidatorFn=function en(Q){return Array.isArray(Q)?je(Q):Q||null}(this._rawAsyncValidators)}}class ce extends qe{constructor(ie,F,ge){super(ue(F),Mt(ge,F)),this.controls=ie,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(ie,F){return this.controls[ie]?this.controls[ie]:(this.controls[ie]=F,F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange),F)}addControl(ie,F,ge={}){this.registerControl(ie,F),this.updateValueAndValidity({emitEvent:ge.emitEvent}),this._onCollectionChange()}removeControl(ie,F={}){this.controls[ie]&&this.controls[ie]._registerOnCollectionChange(()=>{}),delete this.controls[ie],this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}setControl(ie,F,ge={}){this.controls[ie]&&this.controls[ie]._registerOnCollectionChange(()=>{}),delete this.controls[ie],F&&this.registerControl(ie,F),this.updateValueAndValidity({emitEvent:ge.emitEvent}),this._onCollectionChange()}contains(ie){return this.controls.hasOwnProperty(ie)&&this.controls[ie].enabled}setValue(ie,F={}){Cr(this,0,ie),Object.keys(ie).forEach(ge=>{hi(this,!0,ge),this.controls[ge].setValue(ie[ge],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(ie,F={}){null!=ie&&(Object.keys(ie).forEach(ge=>{const ze=this.controls[ge];ze&&ze.patchValue(ie[ge],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(ie={},F={}){this._forEachChild((ge,ze)=>{ge.reset(ie?ie[ze]:null,{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this._reduceChildren({},(ie,F,ge)=>(ie[ge]=F.getRawValue(),ie))}_syncPendingControls(){let ie=this._reduceChildren(!1,(F,ge)=>!!ge._syncPendingControls()||F);return ie&&this.updateValueAndValidity({onlySelf:!0}),ie}_forEachChild(ie){Object.keys(this.controls).forEach(F=>{const ge=this.controls[F];ge&&ie(ge,F)})}_setUpControls(){this._forEachChild(ie=>{ie.setParent(this),ie._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(ie){for(const[F,ge]of Object.entries(this.controls))if(this.contains(F)&&ie(ge))return!0;return!1}_reduceValue(){return this._reduceChildren({},(F,ge,ze)=>((ge.enabled||this.disabled)&&(F[ze]=ge.value),F))}_reduceChildren(ie,F){let ge=ie;return this._forEachChild((ze,Ln)=>{ge=F(ge,ze,Ln)}),ge}_allControlsDisabled(){for(const ie of Object.keys(this.controls))if(this.controls[ie].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(ie){return this.controls.hasOwnProperty(ie)?this.controls[ie]:null}}class U extends ce{}const Xe=new f.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Nt}),Nt="always";function $t(Q,ie){return[...ie.path,Q]}function mn(Q,ie,F=Nt){Je(Q,ie),ie.valueAccessor.writeValue(Q.value),(Q.disabled||"always"===F)&&ie.valueAccessor.setDisabledState?.(Q.disabled),function nt(Q,ie){ie.valueAccessor.registerOnChange(F=>{Q._pendingValue=F,Q._pendingChange=!0,Q._pendingDirty=!0,"change"===Q.updateOn&&Xt(Q,ie)})}(Q,ie),function En(Q,ie){const F=(ge,ze)=>{ie.valueAccessor.writeValue(ge),ze&&ie.viewToModelUpdate(ge)};Q.registerOnChange(F),ie._registerOnDestroy(()=>{Q._unregisterOnChange(F)})}(Q,ie),function jt(Q,ie){ie.valueAccessor.registerOnTouched(()=>{Q._pendingTouched=!0,"blur"===Q.updateOn&&Q._pendingChange&&Xt(Q,ie),"submit"!==Q.updateOn&&Q.markAsTouched()})}(Q,ie),function Xn(Q,ie){if(ie.valueAccessor.setDisabledState){const F=ge=>{ie.valueAccessor.setDisabledState(ge)};Q.registerOnDisabledChange(F),ie._registerOnDestroy(()=>{Q._unregisterOnDisabledChange(F)})}}(Q,ie)}function on(Q,ie,F=!0){const ge=()=>{};ie.valueAccessor&&(ie.valueAccessor.registerOnChange(ge),ie.valueAccessor.registerOnTouched(ge)),He(Q,ie),Q&&(ie._invokeOnDestroyCallbacks(),Q._registerOnCollectionChange(()=>{}))}function hn(Q,ie){Q.forEach(F=>{F.registerOnValidatorChange&&F.registerOnValidatorChange(ie)})}function Je(Q,ie){const F=_t(Q);null!==ie.validator?Q.setValidators(it(F,ie.validator)):"function"==typeof F&&Q.setValidators([F]);const ge=Bt(Q);null!==ie.asyncValidator?Q.setAsyncValidators(it(ge,ie.asyncValidator)):"function"==typeof ge&&Q.setAsyncValidators([ge]);const ze=()=>Q.updateValueAndValidity();hn(ie._rawValidators,ze),hn(ie._rawAsyncValidators,ze)}function He(Q,ie){let F=!1;if(null!==Q){if(null!==ie.validator){const ze=_t(Q);if(Array.isArray(ze)&&ze.length>0){const Ln=ze.filter(vr=>vr!==ie.validator);Ln.length!==ze.length&&(F=!0,Q.setValidators(Ln))}}if(null!==ie.asyncValidator){const ze=Bt(Q);if(Array.isArray(ze)&&ze.length>0){const Ln=ze.filter(vr=>vr!==ie.asyncValidator);Ln.length!==ze.length&&(F=!0,Q.setAsyncValidators(Ln))}}}const ge=()=>{};return hn(ie._rawValidators,ge),hn(ie._rawAsyncValidators,ge),F}function Xt(Q,ie){Q._pendingDirty&&Q.markAsDirty(),Q.setValue(Q._pendingValue,{emitModelToViewChange:!1}),ie.viewToModelUpdate(Q._pendingValue),Q._pendingChange=!1}function an(Q,ie){Je(Q,ie)}function Vn(Q,ie){if(!Q.hasOwnProperty("model"))return!1;const F=Q.model;return!!F.isFirstChange()||!Object.is(ie,F.currentValue)}function vn(Q,ie){Q._syncPendingControls(),ie.forEach(F=>{const ge=F.control;"submit"===ge.updateOn&&ge._pendingChange&&(F.viewToModelUpdate(ge._pendingValue),ge._pendingChange=!1)})}function Gn(Q,ie){if(!ie)return null;let F,ge,ze;return Array.isArray(ie),ie.forEach(Ln=>{Ln.constructor===ye?F=Ln:function Un(Q){return Object.getPrototypeOf(Q.constructor)===de}(Ln)?ge=Ln:ze=Ln}),ze||ge||F||null}const ei={provide:Nn,useExisting:(0,f.Gpc)(()=>Mi)},dr=(()=>Promise.resolve())();let Mi=(()=>{class Q extends Nn{constructor(F,ge,ze){super(),this.callSetDisabledState=ze,this.submitted=!1,this._directives=new Set,this.ngSubmit=new f.vpe,this.form=new ce({},Ie(F),je(ge))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(F){dr.then(()=>{const ge=this._findContainer(F.path);F.control=ge.registerControl(F.name,F.control),mn(F.control,F,this.callSetDisabledState),F.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(F)})}getControl(F){return this.form.get(F.path)}removeControl(F){dr.then(()=>{const ge=this._findContainer(F.path);ge&&ge.removeControl(F.name),this._directives.delete(F)})}addFormGroup(F){dr.then(()=>{const ge=this._findContainer(F.path),ze=new ce({});an(ze,F),ge.registerControl(F.name,ze),ze.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(F){dr.then(()=>{const ge=this._findContainer(F.path);ge&&ge.removeControl(F.name)})}getFormGroup(F){return this.form.get(F.path)}updateModel(F,ge){dr.then(()=>{this.form.get(F.path).setValue(ge)})}setValue(F){this.control.setValue(F)}onSubmit(F){return this.submitted=!0,vn(this.form,this._directives),this.ngSubmit.emit(F),"dialog"===F?.target?.method}onReset(){this.resetForm()}resetForm(F=void 0){this.form.reset(F),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(F){return F.pop(),F.length?this.form.get(F):this.form}static#e=this.\u0275fac=function(ge){return new(ge||Q)(f.Y36(Ye,10),f.Y36(We,10),f.Y36(Xe,8))};static#t=this.\u0275dir=f.lG2({type:Q,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ge,ze){1&ge&&f.NdJ("submit",function(vr){return ze.onSubmit(vr)})("reset",function(){return ze.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([ei]),f.qOj]})}return Q})();function gi(Q,ie){const F=Q.indexOf(ie);F>-1&&Q.splice(F,1)}function cs(Q){return"object"==typeof Q&&null!==Q&&2===Object.keys(Q).length&&"value"in Q&&"disabled"in Q}const Hr=class extends qe{constructor(ie=null,F,ge){super(ue(F),Mt(ge,F)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ie),this._setUpdateStrategy(F),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$n(F)&&(F.nonNullable||F.initialValueIsDefault)&&(this.defaultValue=cs(ie)?ie.value:ie)}setValue(ie,F={}){this.value=this._pendingValue=ie,this._onChange.length&&!1!==F.emitModelToViewChange&&this._onChange.forEach(ge=>ge(this.value,!1!==F.emitViewToModelChange)),this.updateValueAndValidity(F)}patchValue(ie,F={}){this.setValue(ie,F)}reset(ie=this.defaultValue,F={}){this._applyFormState(ie),this.markAsPristine(F),this.markAsUntouched(F),this.setValue(this.value,F),this._pendingChange=!1}_updateValue(){}_anyControls(ie){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ie){this._onChange.push(ie)}_unregisterOnChange(ie){gi(this._onChange,ie)}registerOnDisabledChange(ie){this._onDisabledChange.push(ie)}_unregisterOnDisabledChange(ie){gi(this._onDisabledChange,ie)}_forEachChild(ie){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ie){cs(ie)?(this.value=this._pendingValue=ie.value,ie.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ie}};let Li=(()=>{class Q extends Nn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return $t(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let F;return function(ze){return(F||(F=f.n5z(Q)))(ze||Q)}}();static#t=this.\u0275dir=f.lG2({type:Q,features:[f.qOj]})}return Q})();const Bs={provide:rn,useExisting:(0,f.Gpc)(()=>zi)},Vi=(()=>Promise.resolve())();let zi=(()=>{class Q extends rn{constructor(F,ge,ze,Ln,vr,ds){super(),this._changeDetectorRef=vr,this.callSetDisabledState=ds,this.control=new Hr,this._registered=!1,this.name="",this.update=new f.vpe,this._parent=F,this._setValidators(ge),this._setAsyncValidators(ze),this.valueAccessor=Gn(0,Ln)}ngOnChanges(F){if(this._checkForErrors(),!this._registered||"name"in F){if(this._registered&&(this._checkName(),this.formDirective)){const ge=F.name.previousValue;this.formDirective.removeControl({name:ge,path:this._getPath(ge)})}this._setUpControl()}"isDisabled"in F&&this._updateDisabled(F),Vn(F,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){mn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(F){Vi.then(()=>{this.control.setValue(F,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(F){const ge=F.isDisabled.currentValue,ze=0!==ge&&(0,f.VuI)(ge);Vi.then(()=>{ze&&!this.control.disabled?this.control.disable():!ze&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(F){return this._parent?$t(F,this._parent):[F]}static#e=this.\u0275fac=function(ge){return new(ge||Q)(f.Y36(Nn,9),f.Y36(Ye,10),f.Y36(We,10),f.Y36(ae,10),f.Y36(f.sBO,8),f.Y36(Xe,8))};static#t=this.\u0275dir=f.lG2({type:Q,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f._Bn([Bs]),f.qOj,f.TTD]})}return Q})(),Co=(()=>{class Q{static#e=this.\u0275fac=function(ge){return new(ge||Q)};static#t=this.\u0275dir=f.lG2({type:Q,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return Q})(),ps=(()=>{class Q{static#e=this.\u0275fac=function(ge){return new(ge||Q)};static#t=this.\u0275mod=f.oAB({type:Q});static#n=this.\u0275inj=f.cJS({})}return Q})();const Wn=new f.OlP("NgModelWithFormControlWarning"),Ui={provide:Nn,useExisting:(0,f.Gpc)(()=>Xr)};let Xr=(()=>{class Q extends Nn{constructor(F,ge,ze){super(),this.callSetDisabledState=ze,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(F),this._setAsyncValidators(ge)}ngOnChanges(F){this._checkFormPresent(),F.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(He(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(F){const ge=this.form.get(F.path);return mn(ge,F,this.callSetDisabledState),ge.updateValueAndValidity({emitEvent:!1}),this.directives.push(F),ge}getControl(F){return this.form.get(F.path)}removeControl(F){on(F.control||null,F,!1),function Sr(Q,ie){const F=Q.indexOf(ie);F>-1&&Q.splice(F,1)}(this.directives,F)}addFormGroup(F){this._setUpFormContainer(F)}removeFormGroup(F){this._cleanUpFormContainer(F)}getFormGroup(F){return this.form.get(F.path)}addFormArray(F){this._setUpFormContainer(F)}removeFormArray(F){this._cleanUpFormContainer(F)}getFormArray(F){return this.form.get(F.path)}updateModel(F,ge){this.form.get(F.path).setValue(ge)}onSubmit(F){return this.submitted=!0,vn(this.form,this.directives),this.ngSubmit.emit(F),"dialog"===F?.target?.method}onReset(){this.resetForm()}resetForm(F=void 0){this.form.reset(F),this.submitted=!1}_updateDomValue(){this.directives.forEach(F=>{const ge=F.control,ze=this.form.get(F.path);ge!==ze&&(on(ge||null,F),(Q=>Q instanceof Hr)(ze)&&(mn(ze,F,this.callSetDisabledState),F.control=ze))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(F){const ge=this.form.get(F.path);an(ge,F),ge.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(F){if(this.form){const ge=this.form.get(F.path);ge&&function fr(Q,ie){return He(Q,ie)}(ge,F)&&ge.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Je(this.form,this),this._oldForm&&He(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(ge){return new(ge||Q)(f.Y36(Ye,10),f.Y36(We,10),f.Y36(Xe,8))};static#t=this.\u0275dir=f.lG2({type:Q,selectors:[["","formGroup",""]],hostBindings:function(ge,ze){1&ge&&f.NdJ("submit",function(vr){return ze.onSubmit(vr)})("reset",function(){return ze.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([Ui]),f.qOj,f.TTD]})}return Q})();const Xi={provide:Nn,useExisting:(0,f.Gpc)(()=>es)};let es=(()=>{class Q extends Li{constructor(F,ge,ze){super(),this.name=null,this._parent=F,this._setValidators(ge),this._setAsyncValidators(ze)}_checkParentType(){js(this._parent)}static#e=this.\u0275fac=function(ge){return new(ge||Q)(f.Y36(Nn,13),f.Y36(Ye,10),f.Y36(We,10))};static#t=this.\u0275dir=f.lG2({type:Q,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[f._Bn([Xi]),f.qOj]})}return Q})();const To={provide:Nn,useExisting:(0,f.Gpc)(()=>gs)};let gs=(()=>{class Q extends Nn{constructor(F,ge,ze){super(),this.name=null,this._parent=F,this._setValidators(ge),this._setAsyncValidators(ze)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return $t(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){js(this._parent)}static#e=this.\u0275fac=function(ge){return new(ge||Q)(f.Y36(Nn,13),f.Y36(Ye,10),f.Y36(We,10))};static#t=this.\u0275dir=f.lG2({type:Q,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[f._Bn([To]),f.qOj]})}return Q})();function js(Q){return!(Q instanceof es||Q instanceof Xr||Q instanceof gs)}const zr={provide:rn,useExisting:(0,f.Gpc)(()=>_n)};let _n=(()=>{class Q extends rn{set isDisabled(F){}static#e=this._ngModelWarningSentOnce=!1;constructor(F,ge,ze,Ln,vr){super(),this._ngModelWarningConfig=vr,this._added=!1,this.name=null,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=F,this._setValidators(ge),this._setAsyncValidators(ze),this.valueAccessor=Gn(0,Ln)}ngOnChanges(F){this._added||this._setUpControl(),Vn(F,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}get path(){return $t(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(ge){return new(ge||Q)(f.Y36(Nn,13),f.Y36(Ye,10),f.Y36(We,10),f.Y36(ae,10),f.Y36(Wn,8))};static#n=this.\u0275dir=f.lG2({type:Q,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([zr]),f.qOj,f.TTD]})}return Q})();const er={provide:ae,useExisting:(0,f.Gpc)(()=>ts),multi:!0};function xr(Q,ie){return null==Q?`${ie}`:(ie&&"object"==typeof ie&&(ie="Object"),`${Q}: ${ie}`.slice(0,50))}let ts=(()=>{class Q extends de{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(F){this._compareWith=F}writeValue(F){this.value=F;const ze=xr(this._getOptionId(F),F);this.setProperty("value",ze)}registerOnChange(F){this.onChange=ge=>{this.value=this._getOptionValue(ge),F(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(F){for(const ge of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ge),F))return ge;return null}_getOptionValue(F){const ge=function Oi(Q){return Q.split(":")[0]}(F);return this._optionMap.has(ge)?this._optionMap.get(ge):F}static#e=this.\u0275fac=function(){let F;return function(ze){return(F||(F=f.n5z(Q)))(ze||Q)}}();static#t=this.\u0275dir=f.lG2({type:Q,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ge,ze){1&ge&&f.NdJ("change",function(vr){return ze.onChange(vr.target.value)})("blur",function(){return ze.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([er]),f.qOj]})}return Q})(),ai=(()=>{class Q{constructor(F,ge,ze){this._element=F,this._renderer=ge,this._select=ze,this._select&&(this.id=this._select._registerOption())}set ngValue(F){null!=this._select&&(this._select._optionMap.set(this.id,F),this._setElementValue(xr(this.id,F)),this._select.writeValue(this._select.value))}set value(F){this._setElementValue(F),this._select&&this._select.writeValue(this._select.value)}_setElementValue(F){this._renderer.setProperty(this._element.nativeElement,"value",F)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ge){return new(ge||Q)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(ts,9))};static#t=this.\u0275dir=f.lG2({type:Q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return Q})();const ws={provide:ae,useExisting:(0,f.Gpc)(()=>rr),multi:!0};function oi(Q,ie){return null==Q?`${ie}`:("string"==typeof ie&&(ie=`'${ie}'`),ie&&"object"==typeof ie&&(ie="Object"),`${Q}: ${ie}`.slice(0,50))}let rr=(()=>{class Q extends de{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(F){this._compareWith=F}writeValue(F){let ge;if(this.value=F,Array.isArray(F)){const ze=F.map(Ln=>this._getOptionId(Ln));ge=(Ln,vr)=>{Ln._setSelected(ze.indexOf(vr.toString())>-1)}}else ge=(ze,Ln)=>{ze._setSelected(!1)};this._optionMap.forEach(ge)}registerOnChange(F){this.onChange=ge=>{const ze=[],Ln=ge.selectedOptions;if(void 0!==Ln){const vr=Ln;for(let ds=0;ds<vr.length;ds++){const wa=this._getOptionValue(vr[ds].value);ze.push(wa)}}else{const vr=ge.options;for(let ds=0;ds<vr.length;ds++){const _i=vr[ds];if(_i.selected){const wa=this._getOptionValue(_i.value);ze.push(wa)}}}this.value=ze,F(ze)}}_registerOption(F){const ge=(this._idCounter++).toString();return this._optionMap.set(ge,F),ge}_getOptionId(F){for(const ge of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ge)._value,F))return ge;return null}_getOptionValue(F){const ge=function ns(Q){return Q.split(":")[0]}(F);return this._optionMap.has(ge)?this._optionMap.get(ge)._value:F}static#e=this.\u0275fac=function(){let F;return function(ze){return(F||(F=f.n5z(Q)))(ze||Q)}}();static#t=this.\u0275dir=f.lG2({type:Q,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ge,ze){1&ge&&f.NdJ("change",function(vr){return ze.onChange(vr.target)})("blur",function(){return ze.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([ws]),f.qOj]})}return Q})(),Ds=(()=>{class Q{constructor(F,ge,ze){this._element=F,this._renderer=ge,this._select=ze,this._select&&(this.id=this._select._registerOption(this))}set ngValue(F){null!=this._select&&(this._value=F,this._setElementValue(oi(this.id,F)),this._select.writeValue(this._select.value))}set value(F){this._select?(this._value=F,this._setElementValue(oi(this.id,F)),this._select.writeValue(this._select.value)):this._setElementValue(F)}_setElementValue(F){this._renderer.setProperty(this._element.nativeElement,"value",F)}_setSelected(F){this._renderer.setProperty(this._element.nativeElement,"selected",F)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ge){return new(ge||Q)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(rr,9))};static#t=this.\u0275dir=f.lG2({type:Q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return Q})(),Y=(()=>{class Q{constructor(){this._validator=Vt}ngOnChanges(F){if(this.inputName in F){const ge=this.normalizeInput(F[this.inputName].currentValue);this._enabled=this.enabled(ge),this._validator=this._enabled?this.createValidator(ge):Vt,this._onChange&&this._onChange()}}validate(F){return this._validator(F)}registerOnValidatorChange(F){this._onChange=F}enabled(F){return null!=F}static#e=this.\u0275fac=function(ge){return new(ge||Q)};static#t=this.\u0275dir=f.lG2({type:Q,features:[f.TTD]})}return Q})();const fn={provide:Ye,useExisting:(0,f.Gpc)(()=>Kt),multi:!0};let Kt=(()=>{class Q extends Y{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=f.VuI,this.createValidator=F=>Ge}enabled(F){return F}static#e=this.\u0275fac=function(){let F;return function(ze){return(F||(F=f.n5z(Q)))(ze||Q)}}();static#t=this.\u0275dir=f.lG2({type:Q,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ge,ze){2&ge&&f.uIk("required",ze._enabled?"":null)},inputs:{required:"required"},features:[f._Bn([fn]),f.qOj]})}return Q})(),Kr=(()=>{class Q{static#e=this.\u0275fac=function(ge){return new(ge||Q)};static#t=this.\u0275mod=f.oAB({type:Q});static#n=this.\u0275inj=f.cJS({imports:[ps]})}return Q})();class Ii extends qe{constructor(ie,F,ge){super(ue(F),Mt(ge,F)),this.controls=ie,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(ie){return this.controls[this._adjustIndex(ie)]}push(ie,F={}){this.controls.push(ie),this._registerControl(ie),this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}insert(ie,F,ge={}){this.controls.splice(ie,0,F),this._registerControl(F),this.updateValueAndValidity({emitEvent:ge.emitEvent})}removeAt(ie,F={}){let ge=this._adjustIndex(ie);ge<0&&(ge=0),this.controls[ge]&&this.controls[ge]._registerOnCollectionChange(()=>{}),this.controls.splice(ge,1),this.updateValueAndValidity({emitEvent:F.emitEvent})}setControl(ie,F,ge={}){let ze=this._adjustIndex(ie);ze<0&&(ze=0),this.controls[ze]&&this.controls[ze]._registerOnCollectionChange(()=>{}),this.controls.splice(ze,1),F&&(this.controls.splice(ze,0,F),this._registerControl(F)),this.updateValueAndValidity({emitEvent:ge.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(ie,F={}){Cr(this,0,ie),ie.forEach((ge,ze)=>{hi(this,!1,ze),this.at(ze).setValue(ge,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(ie,F={}){null!=ie&&(ie.forEach((ge,ze)=>{this.at(ze)&&this.at(ze).patchValue(ge,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(ie=[],F={}){this._forEachChild((ge,ze)=>{ge.reset(ie[ze],{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this.controls.map(ie=>ie.getRawValue())}clear(ie={}){this.controls.length<1||(this._forEachChild(F=>F._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:ie.emitEvent}))}_adjustIndex(ie){return ie<0?ie+this.length:ie}_syncPendingControls(){let ie=this.controls.reduce((F,ge)=>!!ge._syncPendingControls()||F,!1);return ie&&this.updateValueAndValidity({onlySelf:!0}),ie}_forEachChild(ie){this.controls.forEach((F,ge)=>{ie(F,ge)})}_updateValue(){this.value=this.controls.filter(ie=>ie.enabled||this.disabled).map(ie=>ie.value)}_anyControls(ie){return this.controls.some(F=>F.enabled&&ie(F))}_setUpControls(){this._forEachChild(ie=>this._registerControl(ie))}_allControlsDisabled(){for(const ie of this.controls)if(ie.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(ie){ie.setParent(this),ie._registerOnCollectionChange(this._onCollectionChange)}_find(ie){return this.at(ie)??null}}function Ps(Q){return!!Q&&(void 0!==Q.asyncValidators||void 0!==Q.validators||void 0!==Q.updateOn)}let $i=(()=>{class Q{constructor(){this.useNonNullable=!1}get nonNullable(){const F=new Q;return F.useNonNullable=!0,F}group(F,ge=null){const ze=this._reduceControls(F);let Ln={};return Ps(ge)?Ln=ge:null!==ge&&(Ln.validators=ge.validator,Ln.asyncValidators=ge.asyncValidator),new ce(ze,Ln)}record(F,ge=null){const ze=this._reduceControls(F);return new U(ze,ge)}control(F,ge,ze){let Ln={};return this.useNonNullable?(Ps(ge)?Ln=ge:(Ln.validators=ge,Ln.asyncValidators=ze),new Hr(F,{...Ln,nonNullable:!0})):new Hr(F,ge,ze)}array(F,ge,ze){const Ln=F.map(vr=>this._createControl(vr));return new Ii(Ln,ge,ze)}_reduceControls(F){const ge={};return Object.keys(F).forEach(ze=>{ge[ze]=this._createControl(F[ze])}),ge}_createControl(F){return F instanceof Hr||F instanceof qe?F:Array.isArray(F)?this.control(F[0],F.length>1?F[1]:null,F.length>2?F[2]:null):this.control(F)}static#e=this.\u0275fac=function(ge){return new(ge||Q)};static#t=this.\u0275prov=f.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"})}return Q})(),Za=(()=>{class Q{static withConfig(F){return{ngModule:Q,providers:[{provide:Xe,useValue:F.callSetDisabledState??Nt}]}}static#e=this.\u0275fac=function(ge){return new(ge||Q)};static#t=this.\u0275mod=f.oAB({type:Q});static#n=this.\u0275inj=f.cJS({imports:[Kr]})}return Q})(),Ho=(()=>{class Q{static withConfig(F){return{ngModule:Q,providers:[{provide:Wn,useValue:F.warnOnNgModelWithFormControl??"always"},{provide:Xe,useValue:F.callSetDisabledState??Nt}]}}static#e=this.\u0275fac=function(ge){return new(ge||Q)};static#t=this.\u0275mod=f.oAB({type:Q});static#n=this.\u0275inj=f.cJS({imports:[Kr]})}return Q})()},6593:(sn,lt,k)=>{"use strict";k.d(lt,{Dx:()=>Pr,H7:()=>ri,b2:()=>mr,q6:()=>Rn,se:()=>bt});var f=k(5879),o=k(6814);class B extends o.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Se extends B{static makeCurrent(){(0,o.HT)(new Se)}onAndCancel(K,H,U){return K.addEventListener(H,U),()=>{K.removeEventListener(H,U)}}dispatchEvent(K,H){K.dispatchEvent(H)}remove(K){K.parentNode&&K.parentNode.removeChild(K)}createElement(K,H){return(H=H||this.getDefaultDocument()).createElement(K)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(K){return K.nodeType===Node.ELEMENT_NODE}isShadowRoot(K){return K instanceof DocumentFragment}getGlobalEventTarget(K,H){return"window"===H?window:"document"===H?K:"body"===H?K.body:null}getBaseHref(K){const H=function Ae(){return me=me||document.querySelector("base"),me?me.getAttribute("href"):null}();return null==H?null:function ae(ce){de=de||document.createElement("a"),de.setAttribute("href",ce);const K=de.pathname;return"/"===K.charAt(0)?K:`/${K}`}(H)}resetBaseElement(){me=null}getUserAgent(){return window.navigator.userAgent}getCookie(K){return(0,o.Mx)(document.cookie,K)}}let de,me=null,$=(()=>{class ce{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(U){return new(U||ce)};static#t=this.\u0275prov=f.Yz7({token:ce,factory:ce.\u0275fac})}return ce})();const z=new f.OlP("EventManagerPlugins");let oe=(()=>{class ce{constructor(H,U){this._zone=U,this._eventNameToPlugin=new Map,H.forEach(Te=>{Te.manager=this}),this._plugins=H.slice().reverse()}addEventListener(H,U,Te){return this._findPluginFor(U).addEventListener(H,U,Te)}getZone(){return this._zone}_findPluginFor(H){let U=this._eventNameToPlugin.get(H);if(U)return U;if(U=this._plugins.find(Xe=>Xe.supports(H)),!U)throw new f.vHH(5101,!1);return this._eventNameToPlugin.set(H,U),U}static#e=this.\u0275fac=function(U){return new(U||ce)(f.LFG(z),f.LFG(f.R0b))};static#t=this.\u0275prov=f.Yz7({token:ce,factory:ce.\u0275fac})}return ce})();class be{constructor(K){this._doc=K}}const ye="ng-app-id";let De=(()=>{class ce{constructor(H,U,Te,Xe={}){this.doc=H,this.appId=U,this.nonce=Te,this.platformId=Xe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,o.PM)(Xe),this.resetHostNodes()}addStyles(H){for(const U of H)1===this.changeUsageCount(U,1)&&this.onStyleAdded(U)}removeStyles(H){for(const U of H)this.changeUsageCount(U,-1)<=0&&this.onStyleRemoved(U)}ngOnDestroy(){const H=this.styleNodesInDOM;H&&(H.forEach(U=>U.remove()),H.clear());for(const U of this.getAllStyles())this.onStyleRemoved(U);this.resetHostNodes()}addHost(H){this.hostNodes.add(H);for(const U of this.getAllStyles())this.addStyleToHost(H,U)}removeHost(H){this.hostNodes.delete(H)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(H){for(const U of this.hostNodes)this.addStyleToHost(U,H)}onStyleRemoved(H){const U=this.styleRef;U.get(H)?.elements?.forEach(Te=>Te.remove()),U.delete(H)}collectServerRenderedStyles(){const H=this.doc.head?.querySelectorAll(`style[${ye}="${this.appId}"]`);if(H?.length){const U=new Map;return H.forEach(Te=>{null!=Te.textContent&&U.set(Te.textContent,Te)}),U}return null}changeUsageCount(H,U){const Te=this.styleRef;if(Te.has(H)){const Xe=Te.get(H);return Xe.usage+=U,Xe.usage}return Te.set(H,{usage:U,elements:[]}),U}getStyleElement(H,U){const Te=this.styleNodesInDOM,Xe=Te?.get(U);if(Xe?.parentNode===H)return Te.delete(U),Xe.removeAttribute(ye),Xe;{const Nt=this.doc.createElement("style");return this.nonce&&Nt.setAttribute("nonce",this.nonce),Nt.textContent=U,this.platformIsServer&&Nt.setAttribute(ye,this.appId),Nt}}addStyleToHost(H,U){const Te=this.getStyleElement(H,U);H.appendChild(Te);const Xe=this.styleRef,Nt=Xe.get(U)?.elements;Nt?Nt.push(Te):Xe.set(U,{elements:[Te],usage:1})}resetHostNodes(){const H=this.hostNodes;H.clear(),H.add(this.doc.head)}static#e=this.\u0275fac=function(U){return new(U||ce)(f.LFG(o.K0),f.LFG(f.AFp),f.LFG(f.Ojb,8),f.LFG(f.Lbi))};static#t=this.\u0275prov=f.Yz7({token:ce,factory:ce.\u0275fac})}return ce})();const xe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ye=/%COMP%/g,tt=new f.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function dt(ce,K){return K.map(H=>H.replace(Ye,ce))}let bt=(()=>{class ce{constructor(H,U,Te,Xe,Nt,$t,mn,on=null){this.eventManager=H,this.sharedStylesHost=U,this.appId=Te,this.removeStylesOnCompDestroy=Xe,this.doc=Nt,this.platformId=$t,this.ngZone=mn,this.nonce=on,this.rendererByCompId=new Map,this.platformIsServer=(0,o.PM)($t),this.defaultRenderer=new Ee(H,Nt,mn,this.platformIsServer)}createRenderer(H,U){if(!H||!U)return this.defaultRenderer;this.platformIsServer&&U.encapsulation===f.ifc.ShadowDom&&(U={...U,encapsulation:f.ifc.Emulated});const Te=this.getOrCreateRenderer(H,U);return Te instanceof ut?Te.applyToHost(H):Te instanceof Ke&&Te.applyStyles(),Te}getOrCreateRenderer(H,U){const Te=this.rendererByCompId;let Xe=Te.get(U.id);if(!Xe){const Nt=this.doc,$t=this.ngZone,mn=this.eventManager,on=this.sharedStylesHost,hn=this.removeStylesOnCompDestroy,Xn=this.platformIsServer;switch(U.encapsulation){case f.ifc.Emulated:Xe=new ut(mn,on,U,this.appId,hn,Nt,$t,Xn);break;case f.ifc.ShadowDom:return new Tt(mn,on,H,U,Nt,$t,this.nonce,Xn);default:Xe=new Ke(mn,on,U,hn,Nt,$t,Xn)}Te.set(U.id,Xe)}return Xe}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(U){return new(U||ce)(f.LFG(oe),f.LFG(De),f.LFG(f.AFp),f.LFG(tt),f.LFG(o.K0),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(f.Ojb))};static#t=this.\u0275prov=f.Yz7({token:ce,factory:ce.\u0275fac})}return ce})();class Ee{constructor(K,H,U,Te){this.eventManager=K,this.doc=H,this.ngZone=U,this.platformIsServer=Te,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(K,H){return H?this.doc.createElementNS(xe[H]||H,K):this.doc.createElement(K)}createComment(K){return this.doc.createComment(K)}createText(K){return this.doc.createTextNode(K)}appendChild(K,H){(Sn(K)?K.content:K).appendChild(H)}insertBefore(K,H,U){K&&(Sn(K)?K.content:K).insertBefore(H,U)}removeChild(K,H){K&&K.removeChild(H)}selectRootElement(K,H){let U="string"==typeof K?this.doc.querySelector(K):K;if(!U)throw new f.vHH(-5104,!1);return H||(U.textContent=""),U}parentNode(K){return K.parentNode}nextSibling(K){return K.nextSibling}setAttribute(K,H,U,Te){if(Te){H=Te+":"+H;const Xe=xe[Te];Xe?K.setAttributeNS(Xe,H,U):K.setAttribute(H,U)}else K.setAttribute(H,U)}removeAttribute(K,H,U){if(U){const Te=xe[U];Te?K.removeAttributeNS(Te,H):K.removeAttribute(`${U}:${H}`)}else K.removeAttribute(H)}addClass(K,H){K.classList.add(H)}removeClass(K,H){K.classList.remove(H)}setStyle(K,H,U,Te){Te&(f.JOm.DashCase|f.JOm.Important)?K.style.setProperty(H,U,Te&f.JOm.Important?"important":""):K.style[H]=U}removeStyle(K,H,U){U&f.JOm.DashCase?K.style.removeProperty(H):K.style[H]=""}setProperty(K,H,U){K[H]=U}setValue(K,H){K.nodeValue=H}listen(K,H,U){if("string"==typeof K&&!(K=(0,o.q)().getGlobalEventTarget(this.doc,K)))throw new Error(`Unsupported event target ${K} for event ${H}`);return this.eventManager.addEventListener(K,H,this.decoratePreventDefault(U))}decoratePreventDefault(K){return H=>{if("__ngUnwrap__"===H)return K;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>K(H)):K(H))&&H.preventDefault()}}}function Sn(ce){return"TEMPLATE"===ce.tagName&&void 0!==ce.content}class Tt extends Ee{constructor(K,H,U,Te,Xe,Nt,$t,mn){super(K,Xe,Nt,mn),this.sharedStylesHost=H,this.hostEl=U,this.shadowRoot=U.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const on=dt(Te.id,Te.styles);for(const hn of on){const Xn=document.createElement("style");$t&&Xn.setAttribute("nonce",$t),Xn.textContent=hn,this.shadowRoot.appendChild(Xn)}}nodeOrShadowRoot(K){return K===this.hostEl?this.shadowRoot:K}appendChild(K,H){return super.appendChild(this.nodeOrShadowRoot(K),H)}insertBefore(K,H,U){return super.insertBefore(this.nodeOrShadowRoot(K),H,U)}removeChild(K,H){return super.removeChild(this.nodeOrShadowRoot(K),H)}parentNode(K){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(K)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ke extends Ee{constructor(K,H,U,Te,Xe,Nt,$t,mn){super(K,Xe,Nt,$t),this.sharedStylesHost=H,this.removeStylesOnCompDestroy=Te,this.styles=mn?dt(mn,U.styles):U.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ut extends Ke{constructor(K,H,U,Te,Xe,Nt,$t,mn){const on=Te+"-"+U.id;super(K,H,U,Xe,Nt,$t,mn,on),this.contentAttr=function Ge(ce){return"_ngcontent-%COMP%".replace(Ye,ce)}(on),this.hostAttr=function Ze(ce){return"_nghost-%COMP%".replace(Ye,ce)}(on)}applyToHost(K){this.applyStyles(),this.setAttribute(K,this.hostAttr,"")}createElement(K,H){const U=super.createElement(K,H);return super.setAttribute(U,this.contentAttr,""),U}}let Fe=(()=>{class ce extends be{constructor(H){super(H)}supports(H){return!0}addEventListener(H,U,Te){return H.addEventListener(U,Te,!1),()=>this.removeEventListener(H,U,Te)}removeEventListener(H,U,Te){return H.removeEventListener(U,Te)}static#e=this.\u0275fac=function(U){return new(U||ce)(f.LFG(o.K0))};static#t=this.\u0275prov=f.Yz7({token:ce,factory:ce.\u0275fac})}return ce})();const we=["alt","control","meta","shift"],te={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ie={alt:ce=>ce.altKey,control:ce=>ce.ctrlKey,meta:ce=>ce.metaKey,shift:ce=>ce.shiftKey};let Pe=(()=>{class ce extends be{constructor(H){super(H)}supports(H){return null!=ce.parseEventName(H)}addEventListener(H,U,Te){const Xe=ce.parseEventName(U),Nt=ce.eventCallback(Xe.fullKey,Te,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,o.q)().onAndCancel(H,Xe.domEventName,Nt))}static parseEventName(H){const U=H.toLowerCase().split("."),Te=U.shift();if(0===U.length||"keydown"!==Te&&"keyup"!==Te)return null;const Xe=ce._normalizeKey(U.pop());let Nt="",$t=U.indexOf("code");if($t>-1&&(U.splice($t,1),Nt="code."),we.forEach(on=>{const hn=U.indexOf(on);hn>-1&&(U.splice(hn,1),Nt+=on+".")}),Nt+=Xe,0!=U.length||0===Xe.length)return null;const mn={};return mn.domEventName=Te,mn.fullKey=Nt,mn}static matchEventFullKeyCode(H,U){let Te=te[H.key]||H.key,Xe="";return U.indexOf("code.")>-1&&(Te=H.code,Xe="code."),!(null==Te||!Te)&&(Te=Te.toLowerCase()," "===Te?Te="space":"."===Te&&(Te="dot"),we.forEach(Nt=>{Nt!==Te&&(0,Ie[Nt])(H)&&(Xe+=Nt+".")}),Xe+=Te,Xe===U)}static eventCallback(H,U,Te){return Xe=>{ce.matchEventFullKeyCode(Xe,H)&&Te.runGuarded(()=>U(Xe))}}static _normalizeKey(H){return"esc"===H?"escape":H}static#e=this.\u0275fac=function(U){return new(U||ce)(f.LFG(o.K0))};static#t=this.\u0275prov=f.Yz7({token:ce,factory:ce.\u0275fac})}return ce})();const Rn=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:o.bD},{provide:f.g9A,useValue:function Gt(){Se.makeCurrent()},multi:!0},{provide:o.K0,useFactory:function bn(){return(0,f.RDi)(document),document},deps:[]}]),Nn=new f.OlP(""),rn=[{provide:f.rWj,useClass:class ve{addToWindow(K){f.dqk.getAngularTestability=(U,Te=!0)=>{const Xe=K.findTestabilityInTree(U,Te);if(null==Xe)throw new f.vHH(5103,!1);return Xe},f.dqk.getAllAngularTestabilities=()=>K.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>K.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(U=>{const Te=f.dqk.getAllAngularTestabilities();let Xe=Te.length,Nt=!1;const $t=function(mn){Nt=Nt||mn,Xe--,0==Xe&&U(Nt)};Te.forEach(mn=>{mn.whenStable($t)})})}findTestabilityInTree(K,H,U){return null==H?null:K.getTestability(H)??(U?(0,o.q)().isShadowRoot(H)?this.findTestabilityInTree(K,H.host,!0):this.findTestabilityInTree(K,H.parentElement,!0):null)}},deps:[]},{provide:f.lri,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]}],kn=[{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function Wt(){return new f.qLn},deps:[]},{provide:z,useClass:Fe,multi:!0,deps:[o.K0,f.R0b,f.Lbi]},{provide:z,useClass:Pe,multi:!0,deps:[o.K0]},bt,De,oe,{provide:f.FYo,useExisting:bt},{provide:o.JF,useClass:$,deps:[]},[]];let mr=(()=>{class ce{constructor(H){}static withServerTransition(H){return{ngModule:ce,providers:[{provide:f.AFp,useValue:H.appId}]}}static#e=this.\u0275fac=function(U){return new(U||ce)(f.LFG(Nn,12))};static#t=this.\u0275mod=f.oAB({type:ce});static#n=this.\u0275inj=f.cJS({providers:[...kn,...rn],imports:[o.ez,f.hGG]})}return ce})(),Pr=(()=>{class ce{constructor(H){this._doc=H}getTitle(){return this._doc.title}setTitle(H){this._doc.title=H||""}static#e=this.\u0275fac=function(U){return new(U||ce)(f.LFG(o.K0))};static#t=this.\u0275prov=f.Yz7({token:ce,factory:function(U){let Te=null;return Te=U?new U:function xn(){return new Pr((0,f.LFG)(o.K0))}(),Te},providedIn:"root"})}return ce})();typeof window<"u"&&window;let ri=(()=>{class ce{static#e=this.\u0275fac=function(U){return new(U||ce)};static#t=this.\u0275prov=f.Yz7({token:ce,factory:function(U){let Te=null;return Te=U?new(U||ce):f.LFG(wt),Te},providedIn:"root"})}return ce})(),wt=(()=>{class ce extends ri{constructor(H){super(),this._doc=H}sanitize(H,U){if(null==U)return null;switch(H){case f.q3G.NONE:return U;case f.q3G.HTML:return(0,f.qzn)(U,"HTML")?(0,f.z3N)(U):(0,f.EiD)(this._doc,String(U)).toString();case f.q3G.STYLE:return(0,f.qzn)(U,"Style")?(0,f.z3N)(U):U;case f.q3G.SCRIPT:if((0,f.qzn)(U,"Script"))return(0,f.z3N)(U);throw new f.vHH(5200,!1);case f.q3G.URL:return(0,f.qzn)(U,"URL")?(0,f.z3N)(U):(0,f.mCW)(String(U));case f.q3G.RESOURCE_URL:if((0,f.qzn)(U,"ResourceURL"))return(0,f.z3N)(U);throw new f.vHH(5201,!1);default:throw new f.vHH(5202,!1)}}bypassSecurityTrustHtml(H){return(0,f.JVY)(H)}bypassSecurityTrustStyle(H){return(0,f.L6k)(H)}bypassSecurityTrustScript(H){return(0,f.eBb)(H)}bypassSecurityTrustUrl(H){return(0,f.LAX)(H)}bypassSecurityTrustResourceUrl(H){return(0,f.pB0)(H)}static#e=this.\u0275fac=function(U){return new(U||ce)(f.LFG(o.K0))};static#t=this.\u0275prov=f.Yz7({token:ce,factory:function(U){let Te=null;return Te=U?new U:function at(ce){return new wt(ce.get(o.K0))}(f.LFG(f.zs3)),Te},providedIn:"root"})}return ce})()},3914:(sn,lt,k)=>{"use strict";k.d(lt,{gz:()=>Xi,m2:()=>cs,F0:()=>Hs,rH:()=>qo,Bz:()=>Qa,lC:()=>Oi});var f=k(5879),o=k(5592),B=k(4674),me=k(2459),Ae=k(2096),de=k(5619),ae=k(2572),ve=k(6973),$=k(5211),z=k(4829);function oe(S){return new o.y(O=>{(0,z.Xf)(S()).subscribe(O)})}var be=k(8407),ye=k(8504),De=k(6232),xe=k(7394),Ye=k(9360),We=k(8251);function mt(){return(0,Ye.e)((S,O)=>{let w=null;S._refCount++;const N=(0,We.x)(O,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(w=null);const W=S._connection,fe=w;w=null,W&&(!fe||W===fe)&&W.unsubscribe(),O.unsubscribe()});S.subscribe(N),N.closed||(w=S.connect())})}class ke extends o.y{constructor(O,w){super(),this.source=O,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,Ye.A)(O)&&(this.lift=O.lift)}_subscribe(O){return this.getSubject().subscribe(O)}getSubject(){const O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:O}=this;this._subject=this._connection=null,O?.unsubscribe()}connect(){let O=this._connection;if(!O){O=this._connection=new xe.w0;const w=this.getSubject();O.add(this.source.subscribe((0,We.x)(w,void 0,()=>{this._teardown(),w.complete()},N=>{this._teardown(),w.error(N)},()=>this._teardown()))),O.closed&&(this._connection=null,O=xe.w0.EMPTY)}return O}refCount(){return mt()(this)}}var Oe=k(8645),tt=k(6814),Ge=k(7398),Ze=k(4664),dt=k(8180),bt=k(7921),Ee=k(2181),Ot=k(1631),Vt=k(1374),Sn=k(6328),Tt=k(9397),Ke=k(6306),ut=k(6699),Fe=k(3572);function we(S){return S<=0?()=>De.E:(0,Ye.e)((O,w)=>{let N=[];O.subscribe((0,We.x)(w,W=>{N.push(W),S<N.length&&N.shift()},()=>{for(const W of N)w.next(W);w.complete()},void 0,()=>{N=null}))})}var te=k(3026),Ie=k(2737),it=k(4716),_t=k(9773),Bt=k(7537),Gt=k(6593);const Wt="primary",bn=Symbol("RouteTitle");class Yn{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w[0]:w}return null}getAll(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function Rn(S){return new Yn(S)}function Nn(S,O,w){const N=w.path.split("/");if(N.length>S.length||"full"===w.pathMatch&&(O.hasChildren()||N.length<S.length))return null;const W={};for(let fe=0;fe<N.length;fe++){const Ve=N[fe],Dt=S[fe];if(Ve.startsWith(":"))W[Ve.substring(1)]=Dt;else if(Ve!==Dt.path)return null}return{consumed:S.slice(0,N.length),posParams:W}}function kn(S,O){const w=S?Object.keys(S):void 0,N=O?Object.keys(O):void 0;if(!w||!N||w.length!=N.length)return!1;let W;for(let fe=0;fe<w.length;fe++)if(W=w[fe],!mr(S[W],O[W]))return!1;return!0}function mr(S,O){if(Array.isArray(S)&&Array.isArray(O)){if(S.length!==O.length)return!1;const w=[...S].sort(),N=[...O].sort();return w.every((W,fe)=>N[fe]===W)}return S===O}function Jn(S){return S.length>0?S[S.length-1]:null}function Qt(S){return function Se(S){return!!S&&(S instanceof o.y||(0,B.m)(S.lift)&&(0,B.m)(S.subscribe))}(S)?S:(0,f.QGY)(S)?(0,me.D)(Promise.resolve(S)):(0,Ae.of)(S)}const jr={exact:function Yt(S,O,w){if(!yi(S.segments,O.segments)||!Er(S.segments,O.segments,w)||S.numberOfChildren!==O.numberOfChildren)return!1;for(const N in O.children)if(!S.children[N]||!Yt(S.children[N],O.children[N],w))return!1;return!0},subset:Bn},xn={exact:function sr(S,O){return kn(S,O)},subset:function In(S,O){return Object.keys(O).length<=Object.keys(S).length&&Object.keys(O).every(w=>mr(S[w],O[w]))},ignored:()=>!0};function Pr(S,O,w){return jr[w.paths](S.root,O.root,w.matrixParams)&&xn[w.queryParams](S.queryParams,O.queryParams)&&!("exact"===w.fragment&&S.fragment!==O.fragment)}function Bn(S,O,w){return zn(S,O,O.segments,w)}function zn(S,O,w,N){if(S.segments.length>w.length){const W=S.segments.slice(0,w.length);return!(!yi(W,w)||O.hasChildren()||!Er(W,w,N))}if(S.segments.length===w.length){if(!yi(S.segments,w)||!Er(S.segments,w,N))return!1;for(const W in O.children)if(!S.children[W]||!Bn(S.children[W],O.children[W],N))return!1;return!0}{const W=w.slice(0,S.segments.length),fe=w.slice(S.segments.length);return!!(yi(S.segments,W)&&Er(S.segments,W,N)&&S.children[Wt])&&zn(S.children[Wt],O,fe,N)}}function Er(S,O,w){return O.every((N,W)=>xn[w](S[W].parameters,N.parameters))}class br{constructor(O=new qn([],{}),w={},N=null){this.root=O,this.queryParams=w,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rn(this.queryParams)),this._queryParamMap}toString(){return Rr.serialize(this)}}class qn{constructor(O,w){this.segments=O,this.children=w,this.parent=null,Object.values(w).forEach(N=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dr(this)}}class Kn{constructor(O,w){this.path=O,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=Rn(this.parameters)),this._parameterMap}toString(){return $n(this)}}function yi(S,O){return S.length===O.length&&S.every((w,N)=>w.path===O[N].path)}let Ur=(()=>{class S{static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:function(){return new ar},providedIn:"root"})}return S})();class ar{parse(O){const w=new $t(O);return new br(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(O){const w=`/${ri(O.root,!0)}`,N=function Cr(S){const O=Object.keys(S).map(w=>{const N=S[w];return Array.isArray(N)?N.map(W=>`${wt(w)}=${wt(W)}`).join("&"):`${wt(w)}=${wt(N)}`}).filter(w=>!!w);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${w}${N}${"string"==typeof O.fragment?`#${function ue(S){return encodeURI(S)}(O.fragment)}`:""}`}}const Rr=new ar;function Dr(S){return S.segments.map(O=>$n(O)).join("/")}function ri(S,O){if(!S.hasChildren())return Dr(S);if(O){const w=S.children[Wt]?ri(S.children[Wt],!1):"",N=[];return Object.entries(S.children).forEach(([W,fe])=>{W!==Wt&&N.push(`${W}:${ri(fe,!1)}`)}),N.length>0?`${w}(${N.join("//")})`:w}{const w=function gn(S,O){let w=[];return Object.entries(S.children).forEach(([N,W])=>{N===Wt&&(w=w.concat(O(W,N)))}),Object.entries(S.children).forEach(([N,W])=>{N!==Wt&&(w=w.concat(O(W,N)))}),w}(S,(N,W)=>W===Wt?[ri(S.children[Wt],!1)]:[`${W}:${ri(N,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[Wt]?`${Dr(S)}/${w[0]}`:`${Dr(S)}/(${w.join("//")})`}}function at(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wt(S){return at(S).replace(/%3B/gi,";")}function Be(S){return at(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mt(S){return decodeURIComponent(S)}function en(S){return Mt(S.replace(/\+/g,"%20"))}function $n(S){return`${Be(S.path)}${function hi(S){return Object.keys(S).map(O=>`;${Be(O)}=${Be(S[O])}`).join("")}(S.parameters)}`}const qe=/^[^\/()?;#]+/;function ce(S){const O=S.match(qe);return O?O[0]:""}const K=/^[^\/()?;=#]+/,U=/^[^=?&#]+/,Xe=/^[^&#]+/;class $t{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qn([],{}):new qn([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(O.length>0||Object.keys(w).length>0)&&(N[Wt]=new qn(O,w)),N}parseSegment(){const O=ce(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new f.vHH(4009,!1);return this.capture(O),new Kn(Mt(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const w=function H(S){const O=S.match(K);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const W=ce(this.remaining);W&&(N=W,this.capture(N))}O[Mt(w)]=Mt(N)}parseQueryParam(O){const w=function Te(S){const O=S.match(U);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const Ve=function Nt(S){const O=S.match(Xe);return O?O[0]:""}(this.remaining);Ve&&(N=Ve,this.capture(N))}const W=en(w),fe=en(N);if(O.hasOwnProperty(W)){let Ve=O[W];Array.isArray(Ve)||(Ve=[Ve],O[W]=Ve),Ve.push(fe)}else O[W]=fe}parseParens(O){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=ce(this.remaining),W=this.remaining[N.length];if("/"!==W&&")"!==W&&";"!==W)throw new f.vHH(4010,!1);let fe;N.indexOf(":")>-1?(fe=N.slice(0,N.indexOf(":")),this.capture(fe),this.capture(":")):O&&(fe=Wt);const Ve=this.parseChildren();w[fe]=1===Object.keys(Ve).length?Ve[Wt]:new qn([],Ve),this.consumeOptional("//")}return w}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new f.vHH(4011,!1)}}function mn(S){return S.segments.length>0?new qn([],{[Wt]:S}):S}function on(S){const O={};for(const N of Object.keys(S.children)){const fe=on(S.children[N]);if(N===Wt&&0===fe.segments.length&&fe.hasChildren())for(const[Ve,Dt]of Object.entries(fe.children))O[Ve]=Dt;else(fe.segments.length>0||fe.hasChildren())&&(O[N]=fe)}return function hn(S){if(1===S.numberOfChildren&&S.children[Wt]){const O=S.children[Wt];return new qn(S.segments.concat(O.segments),O.children)}return S}(new qn(S.segments,O))}function Xn(S){return S instanceof br}function He(S){let O;const W=mn(function w(fe){const Ve={};for(const St of fe.children){const Tn=w(St);Ve[St.outlet]=Tn}const Dt=new qn(fe.url,Ve);return fe===S&&(O=Dt),Dt}(S.root));return O??W}function nt(S,O,w,N){let W=S;for(;W.parent;)W=W.parent;if(0===O.length)return En(W,W,W,w,N);const fe=function yn(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new fr(!0,0,S);let O=0,w=!1;const N=S.reduce((W,fe,Ve)=>{if("object"==typeof fe&&null!=fe){if(fe.outlets){const Dt={};return Object.entries(fe.outlets).forEach(([St,Tn])=>{Dt[St]="string"==typeof Tn?Tn.split("/"):Tn}),[...W,{outlets:Dt}]}if(fe.segmentPath)return[...W,fe.segmentPath]}return"string"!=typeof fe?[...W,fe]:0===Ve?(fe.split("/").forEach((Dt,St)=>{0==St&&"."===Dt||(0==St&&""===Dt?w=!0:".."===Dt?O++:""!=Dt&&W.push(Dt))}),W):[...W,fe]},[]);return new fr(w,O,N)}(O);if(fe.toRoot())return En(W,W,new qn([],{}),w,N);const Ve=function ft(S,O,w){if(S.isAbsolute)return new vt(O,!0,0);if(!w)return new vt(O,!1,NaN);if(null===w.parent)return new vt(w,!0,0);const N=jt(S.commands[0])?0:1;return function kt(S,O,w){let N=S,W=O,fe=w;for(;fe>W;){if(fe-=W,N=N.parent,!N)throw new f.vHH(4005,!1);W=N.segments.length}return new vt(N,!1,W-fe)}(w,w.segments.length-1+N,S.numberOfDoubleDots)}(fe,W,S),Dt=Ve.processChildren?Un(Ve.segmentGroup,Ve.index,fe.commands):Vn(Ve.segmentGroup,Ve.index,fe.commands);return En(W,Ve.segmentGroup,Dt,w,N)}function jt(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function Xt(S){return"object"==typeof S&&null!=S&&S.outlets}function En(S,O,w,N,W){let Ve,fe={};N&&Object.entries(N).forEach(([St,Tn])=>{fe[St]=Array.isArray(Tn)?Tn.map(Tr=>`${Tr}`):`${Tn}`}),Ve=S===O?w:an(S,O,w);const Dt=mn(on(Ve));return new br(Dt,fe,W)}function an(S,O,w){const N={};return Object.entries(S.children).forEach(([W,fe])=>{N[W]=fe===O?w:an(fe,O,w)}),new qn(S.segments,N)}class fr{constructor(O,w,N){if(this.isAbsolute=O,this.numberOfDoubleDots=w,this.commands=N,O&&N.length>0&&jt(N[0]))throw new f.vHH(4003,!1);const W=N.find(Xt);if(W&&W!==Jn(N))throw new f.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class vt{constructor(O,w,N){this.segmentGroup=O,this.processChildren=w,this.index=N}}function Vn(S,O,w){if(S||(S=new qn([],{})),0===S.segments.length&&S.hasChildren())return Un(S,O,w);const N=function vn(S,O,w){let N=0,W=O;const fe={match:!1,pathIndex:0,commandIndex:0};for(;W<S.segments.length;){if(N>=w.length)return fe;const Ve=S.segments[W],Dt=w[N];if(Xt(Dt))break;const St=`${Dt}`,Tn=N<w.length-1?w[N+1]:null;if(W>0&&void 0===St)break;if(St&&Tn&&"object"==typeof Tn&&void 0===Tn.outlets){if(!ei(St,Tn,Ve))return fe;N+=2}else{if(!ei(St,{},Ve))return fe;N++}W++}return{match:!0,pathIndex:W,commandIndex:N}}(S,O,w),W=w.slice(N.commandIndex);if(N.match&&N.pathIndex<S.segments.length){const fe=new qn(S.segments.slice(0,N.pathIndex),{});return fe.children[Wt]=new qn(S.segments.slice(N.pathIndex),S.children),Un(fe,0,W)}return N.match&&0===W.length?new qn(S.segments,{}):N.match&&!S.hasChildren()?Gn(S,O,w):N.match?Un(S,0,W):Gn(S,O,w)}function Un(S,O,w){if(0===w.length)return new qn(S.segments,{});{const N=function ln(S){return Xt(S[0])?S[0].outlets:{[Wt]:S}}(w),W={};if(Object.keys(N).some(fe=>fe!==Wt)&&S.children[Wt]&&1===S.numberOfChildren&&0===S.children[Wt].segments.length){const fe=Un(S.children[Wt],O,w);return new qn(S.segments,fe.children)}return Object.entries(N).forEach(([fe,Ve])=>{"string"==typeof Ve&&(Ve=[Ve]),null!==Ve&&(W[fe]=Vn(S.children[fe],O,Ve))}),Object.entries(S.children).forEach(([fe,Ve])=>{void 0===N[fe]&&(W[fe]=Ve)}),new qn(S.segments,W)}}function Gn(S,O,w){const N=S.segments.slice(0,O);let W=0;for(;W<w.length;){const fe=w[W];if(Xt(fe)){const St=Sr(fe.outlets);return new qn(N,St)}if(0===W&&jt(w[0])){N.push(new Kn(S.segments[O].path,fi(w[0]))),W++;continue}const Ve=Xt(fe)?fe.outlets[Wt]:`${fe}`,Dt=W<w.length-1?w[W+1]:null;Ve&&Dt&&jt(Dt)?(N.push(new Kn(Ve,fi(Dt))),W+=2):(N.push(new Kn(Ve,{})),W++)}return new qn(N,{})}function Sr(S){const O={};return Object.entries(S).forEach(([w,N])=>{"string"==typeof N&&(N=[N]),null!==N&&(O[w]=Gn(new qn([],{}),0,N))}),O}function fi(S){const O={};return Object.entries(S).forEach(([w,N])=>O[w]=`${N}`),O}function ei(S,O,w){return S==w.path&&kn(O,w.parameters)}const dr="imperative";class Mi{constructor(O,w){this.id=O,this.url=w}}class gi extends Mi{constructor(O,w,N="imperative",W=null){super(O,w),this.type=0,this.navigationTrigger=N,this.restoredState=W}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class cs extends Mi{constructor(O,w,N){super(O,w),this.urlAfterRedirects=N,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Hr extends Mi{constructor(O,w,N,W){super(O,w),this.reason=N,this.code=W,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class io extends Mi{constructor(O,w,N,W){super(O,w),this.reason=N,this.code=W,this.type=16}}class fs extends Mi{constructor(O,w,N,W){super(O,w),this.error=N,this.target=W,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Li extends Mi{constructor(O,w,N,W){super(O,w),this.urlAfterRedirects=N,this.state=W,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ys extends Mi{constructor(O,w,N,W){super(O,w),this.urlAfterRedirects=N,this.state=W,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ii extends Mi{constructor(O,w,N,W,fe){super(O,w),this.urlAfterRedirects=N,this.state=W,this.shouldActivate=fe,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ca extends Mi{constructor(O,w,N,W){super(O,w),this.urlAfterRedirects=N,this.state=W,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xi extends Mi{constructor(O,w,N,W){super(O,w),this.urlAfterRedirects=N,this.state=W,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jr{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Bo{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Bs{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vi{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zi{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Co{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Di{constructor(O,w,N){this.routerEvent=O,this.position=w,this.anchor=N,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class jo{}class Ts{constructor(O){this.url=O}}class ps{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Gs,this.attachRef=null}}let Gs=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(w,N){const W=this.getOrCreateContext(w);W.outlet=N,this.contexts.set(w,W)}onChildOutletDestroyed(w){const N=this.getContext(w);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let N=this.getContext(w);return N||(N=new ps,this.contexts.set(w,N)),N}getContext(w){return this.contexts.get(w)||null}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();class so{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const w=this.pathFromRoot(O);return w.length>1?w[w.length-2]:null}children(O){const w=Ji(O,this._root);return w?w.children.map(N=>N.value):[]}firstChild(O){const w=Ji(O,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(O){const w=po(O,this._root);return w.length<2?[]:w[w.length-2].children.map(W=>W.value).filter(W=>W!==O)}pathFromRoot(O){return po(O,this._root).map(w=>w.value)}}function Ji(S,O){if(S===O.value)return O;for(const w of O.children){const N=Ji(S,w);if(N)return N}return null}function po(S,O){if(S===O.value)return[O];for(const w of O.children){const N=po(S,w);if(N.length)return N.unshift(O),N}return[]}class Wn{constructor(O,w){this.value=O,this.children=w}toString(){return`TreeNode(${this.value})`}}function Wr(S){const O={};return S&&S.children.forEach(w=>O[w.value.outlet]=w),O}class si extends so{constructor(O,w){super(O),this.snapshot=w,zr(this,O)}toString(){return this.snapshot.toString()}}function Ui(S,O){const w=function Xr(S,O){const Ve=new gs([],{},{},"",{},Wt,O,null,{});return new js("",new Wn(Ve,[]))}(0,O),N=new de.X([new Kn("",{})]),W=new de.X({}),fe=new de.X({}),Ve=new de.X({}),Dt=new de.X(""),St=new Xi(N,W,Ve,Dt,fe,Wt,O,w.root);return St.snapshot=w.root,new si(new Wn(St,[]),w)}class Xi{constructor(O,w,N,W,fe,Ve,Dt,St){this.urlSubject=O,this.paramsSubject=w,this.queryParamsSubject=N,this.fragmentSubject=W,this.dataSubject=fe,this.outlet=Ve,this.component=Dt,this._futureSnapshot=St,this.title=this.dataSubject?.pipe((0,Ge.U)(Tn=>Tn[bn]))??(0,Ae.of)(void 0),this.url=O,this.params=w,this.queryParams=N,this.fragment=W,this.data=fe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ge.U)(O=>Rn(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ge.U)(O=>Rn(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function es(S,O="emptyOnly"){const w=S.pathFromRoot;let N=0;if("always"!==O)for(N=w.length-1;N>=1;){const W=w[N],fe=w[N-1];if(W.routeConfig&&""===W.routeConfig.path)N--;else{if(fe.component)break;N--}}return function To(S){return S.reduce((O,w)=>({params:{...O.params,...w.params},data:{...O.data,...w.data},resolve:{...w.data,...O.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(N))}class gs{get title(){return this.data?.[bn]}constructor(O,w,N,W,fe,Ve,Dt,St,Tn){this.url=O,this.params=w,this.queryParams=N,this.fragment=W,this.data=fe,this.outlet=Ve,this.component=Dt,this.routeConfig=St,this._resolve=Tn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Rn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class js extends so{constructor(O,w){super(w),this.url=O,zr(this,w)}toString(){return _n(this._root)}}function zr(S,O){O.value._routerState=S,O.children.forEach(w=>zr(S,w))}function _n(S){const O=S.children.length>0?` { ${S.children.map(_n).join(", ")} } `:"";return`${S.value}${O}`}function er(S){if(S.snapshot){const O=S.snapshot,w=S._futureSnapshot;S.snapshot=w,kn(O.queryParams,w.queryParams)||S.queryParamsSubject.next(w.queryParams),O.fragment!==w.fragment&&S.fragmentSubject.next(w.fragment),kn(O.params,w.params)||S.paramsSubject.next(w.params),function rn(S,O){if(S.length!==O.length)return!1;for(let w=0;w<S.length;++w)if(!kn(S[w],O[w]))return!1;return!0}(O.url,w.url)||S.urlSubject.next(w.url),kn(O.data,w.data)||S.dataSubject.next(w.data)}else S.snapshot=S._futureSnapshot,S.dataSubject.next(S._futureSnapshot.data)}function xr(S,O){const w=kn(S.params,O.params)&&function Yr(S,O){return yi(S,O)&&S.every((w,N)=>kn(w.parameters,O[N].parameters))}(S.url,O.url);return w&&!(!S.parent!=!O.parent)&&(!S.parent||xr(S.parent,O.parent))}let Oi=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=Wt,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.parentContexts=(0,f.f3M)(Gs),this.location=(0,f.f3M)(f.s_b),this.changeDetector=(0,f.f3M)(f.sBO),this.environmentInjector=(0,f.f3M)(f.lqb),this.inputBinder=(0,f.f3M)(ai,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:N,previousValue:W}=w.name;if(N)return;this.isTrackedInParentContexts(W)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(W)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.vHH(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,N){this.activated=w,this._activatedRoute=N,this.location.insert(w.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,N){if(this.isActivated)throw new f.vHH(4013,!1);this._activatedRoute=w;const W=this.location,Ve=w.snapshot.component,Dt=this.parentContexts.getOrCreateContext(this.name).children,St=new ts(w,Dt,W.injector);this.activated=W.createComponent(Ve,{index:W.length,injector:St,environmentInjector:N??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275dir=f.lG2({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[f.TTD]})}return S})();class ts{constructor(O,w,N){this.route=O,this.childContexts=w,this.parent=N}get(O,w){return O===Xi?this.route:O===Gs?this.childContexts:this.parent.get(O,w)}}const ai=new f.OlP("");let ws=(()=>{class S{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){this.outletDataSubscriptions.get(w)?.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:N}=w,W=(0,ae.a)([N.queryParams,N.params,N.data]).pipe((0,Ze.w)(([fe,Ve,Dt],St)=>(Dt={...fe,...Ve,...Dt},0===St?(0,Ae.of)(Dt):Promise.resolve(Dt)))).subscribe(fe=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(w);const Ve=(0,f.qFp)(N.component);if(Ve)for(const{templateName:Dt}of Ve.inputs)w.activatedComponentRef.setInput(Dt,fe[Dt]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,W)}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac})}return S})();function ns(S,O,w){if(w&&S.shouldReuseRoute(O.value,w.value.snapshot)){const N=w.value;N._futureSnapshot=O.value;const W=function ms(S,O,w){return O.children.map(N=>{for(const W of w.children)if(S.shouldReuseRoute(N.value,W.value.snapshot))return ns(S,N,W);return ns(S,N)})}(S,O,w);return new Wn(N,W)}{if(S.shouldAttach(O.value)){const fe=S.retrieve(O.value);if(null!==fe){const Ve=fe.route;return Ve.value._futureSnapshot=O.value,Ve.children=O.children.map(Dt=>ns(S,Dt)),Ve}}const N=function rr(S){return new Xi(new de.X(S.url),new de.X(S.params),new de.X(S.queryParams),new de.X(S.fragment),new de.X(S.data),S.outlet,S.component,S)}(O.value),W=O.children.map(fe=>ns(S,fe));return new Wn(N,W)}}const Ds="ngNavigationCancelingError";function ci(S,O){const{redirectTo:w,navigationBehaviorOptions:N}=Xn(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,W=re(!1,0,O);return W.url=w,W.navigationBehaviorOptions=N,W}function re(S,O,w){const N=new Error("NavigationCancelingError: "+(S||""));return N[Ds]=!0,N.cancellationCode=O,w&&(N.url=w),N}function Ne(S){return S&&S[Ds]}let $e=(()=>{class S{static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275cmp=f.Xpm({type:S,selectors:[["ng-component"]],standalone:!0,features:[f.jDz],decls:1,vars:0,template:function(N,W){1&N&&f._UZ(0,"router-outlet")},dependencies:[Oi],encapsulation:2})}return S})();function $r(S){const O=S.children&&S.children.map($r),w=O?{...S,children:O}:{...S};return!w.component&&!w.loadComponent&&(O||w.loadChildren)&&w.outlet&&w.outlet!==Wt&&(w.component=$e),w}function Or(S){return S.outlet||Wt}function Br(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let O=S.parent;O;O=O.parent){const w=O.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class yr{constructor(O,w,N,W,fe){this.routeReuseStrategy=O,this.futureState=w,this.currState=N,this.forwardEvent=W,this.inputBindingEnabled=fe}activate(O){const w=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,N,O),er(this.futureState.root),this.activateChildRoutes(w,N,O)}deactivateChildRoutes(O,w,N){const W=Wr(w);O.children.forEach(fe=>{const Ve=fe.value.outlet;this.deactivateRoutes(fe,W[Ve],N),delete W[Ve]}),Object.values(W).forEach(fe=>{this.deactivateRouteAndItsChildren(fe,N)})}deactivateRoutes(O,w,N){const W=O.value,fe=w?w.value:null;if(W===fe)if(W.component){const Ve=N.getContext(W.outlet);Ve&&this.deactivateChildRoutes(O,w,Ve.children)}else this.deactivateChildRoutes(O,w,N);else fe&&this.deactivateRouteAndItsChildren(w,N)}deactivateRouteAndItsChildren(O,w){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,w):this.deactivateRouteAndOutlet(O,w)}detachAndStoreRouteSubtree(O,w){const N=w.getContext(O.value.outlet),W=N&&O.value.component?N.children:w,fe=Wr(O);for(const Ve of Object.keys(fe))this.deactivateRouteAndItsChildren(fe[Ve],W);if(N&&N.outlet){const Ve=N.outlet.detach(),Dt=N.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:Ve,route:O,contexts:Dt})}}deactivateRouteAndOutlet(O,w){const N=w.getContext(O.value.outlet),W=N&&O.value.component?N.children:w,fe=Wr(O);for(const Ve of Object.keys(fe))this.deactivateRouteAndItsChildren(fe[Ve],W);N&&(N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated()),N.attachRef=null,N.route=null)}activateChildRoutes(O,w,N){const W=Wr(w);O.children.forEach(fe=>{this.activateRoutes(fe,W[fe.value.outlet],N),this.forwardEvent(new Co(fe.value.snapshot))}),O.children.length&&this.forwardEvent(new Vi(O.value.snapshot))}activateRoutes(O,w,N){const W=O.value,fe=w?w.value:null;if(er(W),W===fe)if(W.component){const Ve=N.getOrCreateContext(W.outlet);this.activateChildRoutes(O,w,Ve.children)}else this.activateChildRoutes(O,w,N);else if(W.component){const Ve=N.getOrCreateContext(W.outlet);if(this.routeReuseStrategy.shouldAttach(W.snapshot)){const Dt=this.routeReuseStrategy.retrieve(W.snapshot);this.routeReuseStrategy.store(W.snapshot,null),Ve.children.onOutletReAttached(Dt.contexts),Ve.attachRef=Dt.componentRef,Ve.route=Dt.route.value,Ve.outlet&&Ve.outlet.attach(Dt.componentRef,Dt.route.value),er(Dt.route.value),this.activateChildRoutes(O,null,Ve.children)}else{const Dt=Br(W.snapshot);Ve.attachRef=null,Ve.route=W,Ve.injector=Dt,Ve.outlet&&Ve.outlet.activateWith(W,Ve.injector),this.activateChildRoutes(O,null,Ve.children)}}else this.activateChildRoutes(O,null,N)}}class Pi{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class Kr{constructor(O,w){this.component=O,this.route=w}}function Ii(S,O,w){const N=S._root;return Ps(N,O?O._root:null,w,[N.value])}function rs(S,O){const w=Symbol(),N=O.get(S,w);return N===w?"function"!=typeof S||(0,f.Z0I)(S)?O.get(S):S:N}function Ps(S,O,w,N,W={canDeactivateChecks:[],canActivateChecks:[]}){const fe=Wr(O);return S.children.forEach(Ve=>{(function $i(S,O,w,N,W={canDeactivateChecks:[],canActivateChecks:[]}){const fe=S.value,Ve=O?O.value:null,Dt=w?w.getContext(S.value.outlet):null;if(Ve&&fe.routeConfig===Ve.routeConfig){const St=function Ta(S,O,w){if("function"==typeof w)return w(S,O);switch(w){case"pathParamsChange":return!yi(S.url,O.url);case"pathParamsOrQueryParamsChange":return!yi(S.url,O.url)||!kn(S.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xr(S,O)||!kn(S.queryParams,O.queryParams);default:return!xr(S,O)}}(Ve,fe,fe.routeConfig.runGuardsAndResolvers);St?W.canActivateChecks.push(new Pi(N)):(fe.data=Ve.data,fe._resolvedData=Ve._resolvedData),Ps(S,O,fe.component?Dt?Dt.children:null:w,N,W),St&&Dt&&Dt.outlet&&Dt.outlet.isActivated&&W.canDeactivateChecks.push(new Kr(Dt.outlet.component,Ve))}else Ve&&Rs(O,Dt,W),W.canActivateChecks.push(new Pi(N)),Ps(S,null,fe.component?Dt?Dt.children:null:w,N,W)})(Ve,fe[Ve.value.outlet],w,N.concat([Ve.value]),W),delete fe[Ve.value.outlet]}),Object.entries(fe).forEach(([Ve,Dt])=>Rs(Dt,w.getContext(Ve),W)),W}function Rs(S,O,w){const N=Wr(S),W=S.value;Object.entries(N).forEach(([fe,Ve])=>{Rs(Ve,W.component?O?O.children.getContext(fe):null:O,w)}),w.canDeactivateChecks.push(new Kr(W.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,W))}function wo(S){return"function"==typeof S}function vr(S){return S instanceof ve.K||"EmptyError"===S?.name}const ds=Symbol("INITIAL_VALUE");function _i(){return(0,Ze.w)(S=>(0,ae.a)(S.map(O=>O.pipe((0,dt.q)(1),(0,bt.O)(ds)))).pipe((0,Ge.U)(O=>{for(const w of O)if(!0!==w){if(w===ds)return ds;if(!1===w||w instanceof br)return w}return!0}),(0,Ee.h)(O=>O!==ds),(0,dt.q)(1)))}function oo(S){return(0,be.z)((0,Tt.b)(O=>{if(Xn(O))throw ci(0,O)}),(0,Ge.U)(O=>!0===O))}class _s{constructor(O){this.segmentGroup=O||null}}class gu{constructor(O){this.urlTree=O}}function Vr(S){return(0,ye._)(new _s(S))}function la(S){return(0,ye._)(new gu(S))}class xs{constructor(O,w){this.urlSerializer=O,this.urlTree=w}noMatchError(O){return new f.vHH(4002,!1)}lineralizeSegments(O,w){let N=[],W=w.root;for(;;){if(N=N.concat(W.segments),0===W.numberOfChildren)return(0,Ae.of)(N);if(W.numberOfChildren>1||!W.children[Wt])return(0,ye._)(new f.vHH(4e3,!1));W=W.children[Wt]}}applyRedirectCommands(O,w,N){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),O,N)}applyRedirectCreateUrlTree(O,w,N,W){const fe=this.createSegmentGroup(O,w.root,N,W);return new br(fe,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(O,w){const N={};return Object.entries(O).forEach(([W,fe])=>{if("string"==typeof fe&&fe.startsWith(":")){const Dt=fe.substring(1);N[W]=w[Dt]}else N[W]=fe}),N}createSegmentGroup(O,w,N,W){const fe=this.createSegments(O,w.segments,N,W);let Ve={};return Object.entries(w.children).forEach(([Dt,St])=>{Ve[Dt]=this.createSegmentGroup(O,St,N,W)}),new qn(fe,Ve)}createSegments(O,w,N,W){return w.map(fe=>fe.path.startsWith(":")?this.findPosParam(O,fe,W):this.findOrReturn(fe,N))}findPosParam(O,w,N){const W=N[w.path.substring(1)];if(!W)throw new f.vHH(4001,!1);return W}findOrReturn(O,w){let N=0;for(const W of w){if(W.path===O.path)return w.splice(N),W;N++}return O}}const mo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Do(S,O,w,N,W){const fe=Ma(S,O,w);return fe.matched?(N=function ht(S,O){return S.providers&&!S._injector&&(S._injector=(0,f.MMx)(S.providers,O,`Route: ${S.path}`)),S._injector??O}(O,N),function ao(S,O,w,N){const W=O.canMatch;if(!W||0===W.length)return(0,Ae.of)(!0);const fe=W.map(Ve=>{const Dt=rs(Ve,S);return Qt(function ge(S){return S&&wo(S.canMatch)}(Dt)?Dt.canMatch(O,w):S.runInContext(()=>Dt(O,w)))});return(0,Ae.of)(fe).pipe(_i(),oo())}(N,O,w).pipe((0,Ge.U)(Ve=>!0===Ve?fe:{...mo}))):(0,Ae.of)(fe)}function Ma(S,O,w){if(""===O.path)return"full"===O.pathMatch&&(S.hasChildren()||w.length>0)?{...mo}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const W=(O.matcher||Nn)(w,S,O);if(!W)return{...mo};const fe={};Object.entries(W.posParams??{}).forEach(([Dt,St])=>{fe[Dt]=St.path});const Ve=W.consumed.length>0?{...fe,...W.consumed[W.consumed.length-1].parameters}:fe;return{matched:!0,consumedSegments:W.consumed,remainingSegments:w.slice(W.consumed.length),parameters:Ve,positionalParamSegments:W.posParams??{}}}function Pa(S,O,w,N){return w.length>0&&function nl(S,O,w){return w.some(N=>ua(S,O,N)&&Or(N)!==Wt)}(S,w,N)?{segmentGroup:new qn(O,Cc(N,new qn(w,S.children))),slicedSegments:[]}:0===w.length&&function Tc(S,O,w){return w.some(N=>ua(S,O,N))}(S,w,N)?{segmentGroup:new qn(S.segments,pr(S,0,w,N,S.children)),slicedSegments:w}:{segmentGroup:new qn(S.segments,S.children),slicedSegments:w}}function pr(S,O,w,N,W){const fe={};for(const Ve of N)if(ua(S,w,Ve)&&!W[Or(Ve)]){const Dt=new qn([],{});fe[Or(Ve)]=Dt}return{...W,...fe}}function Cc(S,O){const w={};w[Wt]=O;for(const N of S)if(""===N.path&&Or(N)!==Wt){const W=new qn([],{});w[Or(N)]=W}return w}function ua(S,O,w){return(!(S.hasChildren()||O.length>0)||"full"!==w.pathMatch)&&""===w.path}class rl{constructor(O,w,N,W,fe,Ve,Dt){this.injector=O,this.configLoader=w,this.rootComponentType=N,this.config=W,this.urlTree=fe,this.paramsInheritanceStrategy=Ve,this.urlSerializer=Dt,this.allowRedirects=!0,this.applyRedirects=new xs(this.urlSerializer,this.urlTree)}noMatchError(O){return new f.vHH(4002,!1)}recognize(){const O=Pa(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,Wt).pipe((0,Ke.K)(w=>{if(w instanceof gu)return this.allowRedirects=!1,this.urlTree=w.urlTree,this.match(w.urlTree);throw w instanceof _s?this.noMatchError(w):w}),(0,Ge.U)(w=>{const N=new gs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Wt,this.rootComponentType,null,{}),W=new Wn(N,w),fe=new js("",W),Ve=function Je(S,O,w=null,N=null){return nt(He(S),O,w,N)}(N,[],this.urlTree.queryParams,this.urlTree.fragment);return Ve.queryParams=this.urlTree.queryParams,fe.url=this.urlSerializer.serialize(Ve),this.inheritParamsAndData(fe._root),{state:fe,tree:Ve}}))}match(O){return this.processSegmentGroup(this.injector,this.config,O.root,Wt).pipe((0,Ke.K)(N=>{throw N instanceof _s?this.noMatchError(N):N}))}inheritParamsAndData(O){const w=O.value,N=es(w,this.paramsInheritanceStrategy);w.params=Object.freeze(N.params),w.data=Object.freeze(N.data),O.children.forEach(W=>this.inheritParamsAndData(W))}processSegmentGroup(O,w,N,W){return 0===N.segments.length&&N.hasChildren()?this.processChildren(O,w,N):this.processSegment(O,w,N,N.segments,W,!0)}processChildren(O,w,N){const W=[];for(const fe of Object.keys(N.children))"primary"===fe?W.unshift(fe):W.push(fe);return(0,me.D)(W).pipe((0,Sn.b)(fe=>{const Ve=N.children[fe],Dt=function mi(S,O){const w=S.filter(N=>Or(N)===O);return w.push(...S.filter(N=>Or(N)!==O)),w}(w,fe);return this.processSegmentGroup(O,Dt,Ve,fe)}),(0,ut.R)((fe,Ve)=>(fe.push(...Ve),fe)),(0,Fe.d)(null),function Pe(S,O){const w=arguments.length>=2;return N=>N.pipe(S?(0,Ee.h)((W,fe)=>S(W,fe,N)):Ie.y,we(1),w?(0,Fe.d)(O):(0,te.T)(()=>new ve.K))}(),(0,Ot.z)(fe=>{if(null===fe)return Vr(N);const Ve=Go(fe);return function il(S){S.sort((O,w)=>O.value.outlet===Wt?-1:w.value.outlet===Wt?1:O.value.outlet.localeCompare(w.value.outlet))}(Ve),(0,Ae.of)(Ve)}))}processSegment(O,w,N,W,fe,Ve){return(0,me.D)(w).pipe((0,Sn.b)(Dt=>this.processSegmentAgainstRoute(Dt._injector??O,w,Dt,N,W,fe,Ve).pipe((0,Ke.K)(St=>{if(St instanceof _s)return(0,Ae.of)(null);throw St}))),(0,Vt.P)(Dt=>!!Dt),(0,Ke.K)(Dt=>{if(vr(Dt))return function $o(S,O,w){return 0===O.length&&!S.children[w]}(N,W,fe)?(0,Ae.of)([]):Vr(N);throw Dt}))}processSegmentAgainstRoute(O,w,N,W,fe,Ve,Dt){return function zo(S,O,w,N){return!!(Or(S)===N||N!==Wt&&ua(O,w,S))&&("**"===S.path||Ma(O,S,w).matched)}(N,W,fe,Ve)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(O,W,N,fe,Ve,Dt):Dt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,W,w,N,fe,Ve):Vr(W):Vr(W)}expandSegmentAgainstRouteUsingRedirect(O,w,N,W,fe,Ve){return"**"===W.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,N,W,Ve):this.expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,W,fe,Ve)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,w,N,W){const fe=this.applyRedirects.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?la(fe):this.applyRedirects.lineralizeSegments(N,fe).pipe((0,Ot.z)(Ve=>{const Dt=new qn(Ve,{});return this.processSegment(O,w,Dt,Ve,W,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,W,fe,Ve){const{matched:Dt,consumedSegments:St,remainingSegments:Tn,positionalParamSegments:Tr}=Ma(w,W,fe);if(!Dt)return Vr(w);const ui=this.applyRedirects.applyRedirectCommands(St,W.redirectTo,Tr);return W.redirectTo.startsWith("/")?la(ui):this.applyRedirects.lineralizeSegments(W,ui).pipe((0,Ot.z)(Ir=>this.processSegment(O,N,w,Ir.concat(Tn),Ve,!1)))}matchSegmentAgainstRoute(O,w,N,W,fe,Ve){let Dt;if("**"===N.path){const St=W.length>0?Jn(W).parameters:{},Tn=new gs(W,St,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,So(N),Or(N),N.component??N._loadedComponent??null,N,sl(N));Dt=(0,Ae.of)({snapshot:Tn,consumedSegments:[],remainingSegments:[]}),w.children={}}else Dt=Do(w,N,W,O).pipe((0,Ge.U)(({matched:St,consumedSegments:Tn,remainingSegments:Tr,parameters:ui})=>St?{snapshot:new gs(Tn,ui,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,So(N),Or(N),N.component??N._loadedComponent??null,N,sl(N)),consumedSegments:Tn,remainingSegments:Tr}:null));return Dt.pipe((0,Ze.w)(St=>null===St?Vr(w):this.getChildConfig(O=N._injector??O,N,W).pipe((0,Ze.w)(({routes:Tn})=>{const Tr=N._loadedInjector??O,{snapshot:ui,consumedSegments:Ir,remainingSegments:Fs}=St,{segmentGroup:co,slicedSegments:Oo}=Pa(w,Ir,Fs,Tn);if(0===Oo.length&&co.hasChildren())return this.processChildren(Tr,Tn,co).pipe((0,Ge.U)(No=>null===No?null:[new Wn(ui,No)]));if(0===Tn.length&&0===Oo.length)return(0,Ae.of)([new Wn(ui,[])]);const pa=Or(N)===fe;return this.processSegment(Tr,Tn,co,Oo,pa?Wt:fe,!0).pipe((0,Ge.U)(No=>[new Wn(ui,No)]))}))))}getChildConfig(O,w,N){return w.children?(0,Ae.of)({routes:w.children,injector:O}):w.loadChildren?void 0!==w._loadedRoutes?(0,Ae.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function Ic(S,O,w,N){const W=O.canLoad;if(void 0===W||0===W.length)return(0,Ae.of)(!0);const fe=W.map(Ve=>{const Dt=rs(Ve,S);return Qt(function Ho(S){return S&&wo(S.canLoad)}(Dt)?Dt.canLoad(O,w):S.runInContext(()=>Dt(O,w)))});return(0,Ae.of)(fe).pipe(_i(),oo())}(O,w,N).pipe((0,Ot.z)(W=>W?this.configLoader.loadChildren(O,w).pipe((0,Tt.b)(fe=>{w._loadedRoutes=fe.routes,w._loadedInjector=fe.injector})):function bc(S){return(0,ye._)(re(!1,3))}())):(0,Ae.of)({routes:[],injector:O})}}function wc(S){const O=S.value.routeConfig;return O&&""===O.path}function Go(S){const O=[],w=new Set;for(const N of S){if(!wc(N)){O.push(N);continue}const W=O.find(fe=>N.value.routeConfig===fe.value.routeConfig);void 0!==W?(W.children.push(...N.children),w.add(W)):O.push(N)}for(const N of w){const W=Go(N.children);O.push(new Wn(N.value,W))}return O.filter(N=>!w.has(N))}function So(S){return S.data||{}}function sl(S){return S.resolve||{}}function bi(S){return"string"==typeof S.title||null===S.title}function R(S){return(0,Ze.w)(O=>{const w=S(O);return w?(0,me.D)(w).pipe((0,Ge.U)(()=>O)):(0,Ae.of)(O)})}const se=new f.OlP("ROUTES");let j=(()=>{class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,f.f3M)(f.Sil)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,Ae.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const N=Qt(w.loadComponent()).pipe((0,Ge.U)(xt),(0,Tt.b)(fe=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=fe}),(0,it.x)(()=>{this.componentLoaders.delete(w)})),W=new ke(N,()=>new Oe.x).pipe(mt());return this.componentLoaders.set(w,W),W}loadChildren(w,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,Ae.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const fe=function ne(S,O,w,N){return Qt(S.loadChildren()).pipe((0,Ge.U)(xt),(0,Ot.z)(W=>W instanceof f.YKP||Array.isArray(W)?(0,Ae.of)(W):(0,me.D)(O.compileModuleAsync(W))),(0,Ge.U)(W=>{N&&N(S);let fe,Ve,Dt=!1;return Array.isArray(W)?(Ve=W,!0):(fe=W.create(w).injector,Ve=fe.get(se,[],{optional:!0,self:!0}).flat()),{routes:Ve.map($r),injector:fe}}))}(N,this.compiler,w,this.onLoadEndListener).pipe((0,it.x)(()=>{this.childrenLoaders.delete(N)})),Ve=new ke(fe,()=>new Oe.x).pipe(mt());return this.childrenLoaders.set(N,Ve),Ve}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function xt(S){return function Ue(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let Ht=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Oe.x,this.transitionAbortSubject=new Oe.x,this.configLoader=(0,f.f3M)(j),this.environmentInjector=(0,f.f3M)(f.lqb),this.urlSerializer=(0,f.f3M)(Ur),this.rootContexts=(0,f.f3M)(Gs),this.inputBindingEnabled=null!==(0,f.f3M)(ai,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ae.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=W=>this.events.next(new Bo(W)),this.configLoader.onLoadStartListener=W=>this.events.next(new Jr(W))}complete(){this.transitions?.complete()}handleNavigationRequest(w){const N=++this.navigationId;this.transitions?.next({...this.transitions.value,...w,id:N})}setupNavigations(w,N,W){return this.transitions=new de.X({id:0,currentUrlTree:N,currentRawUrl:N,currentBrowserUrl:N,extractedUrl:w.urlHandlingStrategy.extract(N),urlAfterRedirects:w.urlHandlingStrategy.extract(N),rawUrl:N,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:dr,restoredState:null,currentSnapshot:W.snapshot,targetSnapshot:null,currentRouterState:W,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ee.h)(fe=>0!==fe.id),(0,Ge.U)(fe=>({...fe,extractedUrl:w.urlHandlingStrategy.extract(fe.rawUrl)})),(0,Ze.w)(fe=>{this.currentTransition=fe;let Ve=!1,Dt=!1;return(0,Ae.of)(fe).pipe((0,Tt.b)(St=>{this.currentNavigation={id:St.id,initialUrl:St.rawUrl,extractedUrl:St.extractedUrl,trigger:St.source,extras:St.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ze.w)(St=>{const Tn=St.currentBrowserUrl.toString(),Tr=!w.navigated||St.extractedUrl.toString()!==Tn||Tn!==St.currentUrlTree.toString();if(!Tr&&"reload"!==(St.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const Ir="";return this.events.next(new io(St.id,this.urlSerializer.serialize(St.rawUrl),Ir,0)),St.resolve(null),De.E}if(w.urlHandlingStrategy.shouldProcessUrl(St.rawUrl))return(0,Ae.of)(St).pipe((0,Ze.w)(Ir=>{const Fs=this.transitions?.getValue();return this.events.next(new gi(Ir.id,this.urlSerializer.serialize(Ir.extractedUrl),Ir.source,Ir.restoredState)),Fs!==this.transitions?.getValue()?De.E:Promise.resolve(Ir)}),function Ra(S,O,w,N,W,fe){return(0,Ot.z)(Ve=>function da(S,O,w,N,W,fe,Ve="emptyOnly"){return new rl(S,O,w,N,W,Ve,fe).recognize()}(S,O,w,N,Ve.extractedUrl,W,fe).pipe((0,Ge.U)(({state:Dt,tree:St})=>({...Ve,targetSnapshot:Dt,urlAfterRedirects:St}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,Tt.b)(Ir=>{fe.targetSnapshot=Ir.targetSnapshot,fe.urlAfterRedirects=Ir.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ir.urlAfterRedirects};const Fs=new Li(Ir.id,this.urlSerializer.serialize(Ir.extractedUrl),this.urlSerializer.serialize(Ir.urlAfterRedirects),Ir.targetSnapshot);this.events.next(Fs)}));if(Tr&&w.urlHandlingStrategy.shouldProcessUrl(St.currentRawUrl)){const{id:Ir,extractedUrl:Fs,source:co,restoredState:Oo,extras:pa}=St,No=new gi(Ir,this.urlSerializer.serialize(Fs),co,Oo);this.events.next(No);const Ja=Ui(0,this.rootComponentType).snapshot;return this.currentTransition=fe={...St,targetSnapshot:Ja,urlAfterRedirects:Fs,extras:{...pa,skipLocationChange:!1,replaceUrl:!1}},(0,Ae.of)(fe)}{const Ir="";return this.events.next(new io(St.id,this.urlSerializer.serialize(St.extractedUrl),Ir,1)),St.resolve(null),De.E}}),(0,Tt.b)(St=>{const Tn=new Ys(St.id,this.urlSerializer.serialize(St.extractedUrl),this.urlSerializer.serialize(St.urlAfterRedirects),St.targetSnapshot);this.events.next(Tn)}),(0,Ge.U)(St=>(this.currentTransition=fe={...St,guards:Ii(St.targetSnapshot,St.currentSnapshot,this.rootContexts)},fe)),function wa(S,O){return(0,Ot.z)(w=>{const{targetSnapshot:N,currentSnapshot:W,guards:{canActivateChecks:fe,canDeactivateChecks:Ve}}=w;return 0===Ve.length&&0===fe.length?(0,Ae.of)({...w,guardsResult:!0}):function xl(S,O,w,N){return(0,me.D)(S).pipe((0,Ot.z)(W=>function ca(S,O,w,N,W){const fe=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!fe||0===fe.length)return(0,Ae.of)(!0);const Ve=fe.map(Dt=>{const St=Br(O)??W,Tn=rs(Dt,St);return Qt(function F(S){return S&&wo(S.canDeactivate)}(Tn)?Tn.canDeactivate(S,O,w,N):St.runInContext(()=>Tn(S,O,w,N))).pipe((0,Vt.P)())});return(0,Ae.of)(Ve).pipe(_i())}(W.component,W.route,w,O,N)),(0,Vt.P)(W=>!0!==W,!0))}(Ve,N,W,S).pipe((0,Ot.z)(Dt=>Dt&&function Za(S){return"boolean"==typeof S}(Dt)?function Ec(S,O,w,N){return(0,me.D)(O).pipe((0,Sn.b)(W=>(0,$.z)(function Da(S,O){return null!==S&&O&&O(new Bs(S)),(0,Ae.of)(!0)}(W.route.parent,N),function qa(S,O){return null!==S&&O&&O(new zi(S)),(0,Ae.of)(!0)}(W.route,N),function Sa(S,O,w){const N=O[O.length-1],fe=O.slice(0,O.length-1).reverse().map(Ve=>function go(S){const O=S.routeConfig?S.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:S,guards:O}:null}(Ve)).filter(Ve=>null!==Ve).map(Ve=>oe(()=>{const Dt=Ve.guards.map(St=>{const Tn=Br(Ve.node)??w,Tr=rs(St,Tn);return Qt(function ie(S){return S&&wo(S.canActivateChild)}(Tr)?Tr.canActivateChild(N,S):Tn.runInContext(()=>Tr(N,S))).pipe((0,Vt.P)())});return(0,Ae.of)(Dt).pipe(_i())}));return(0,Ae.of)(fe).pipe(_i())}(S,W.path,w),function Ac(S,O,w){const N=O.routeConfig?O.routeConfig.canActivate:null;if(!N||0===N.length)return(0,Ae.of)(!0);const W=N.map(fe=>oe(()=>{const Ve=Br(O)??w,Dt=rs(fe,Ve);return Qt(function Q(S){return S&&wo(S.canActivate)}(Dt)?Dt.canActivate(O,S):Ve.runInContext(()=>Dt(O,S))).pipe((0,Vt.P)())}));return(0,Ae.of)(W).pipe(_i())}(S,W.route,w))),(0,Vt.P)(W=>!0!==W,!0))}(N,fe,S,O):(0,Ae.of)(Dt)),(0,Ge.U)(Dt=>({...w,guardsResult:Dt})))})}(this.environmentInjector,St=>this.events.next(St)),(0,Tt.b)(St=>{if(fe.guardsResult=St.guardsResult,Xn(St.guardsResult))throw ci(0,St.guardsResult);const Tn=new ii(St.id,this.urlSerializer.serialize(St.extractedUrl),this.urlSerializer.serialize(St.urlAfterRedirects),St.targetSnapshot,!!St.guardsResult);this.events.next(Tn)}),(0,Ee.h)(St=>!!St.guardsResult||(this.cancelNavigationTransition(St,"",3),!1)),R(St=>{if(St.guards.canActivateChecks.length)return(0,Ae.of)(St).pipe((0,Tt.b)(Tn=>{const Tr=new Ca(Tn.id,this.urlSerializer.serialize(Tn.extractedUrl),this.urlSerializer.serialize(Tn.urlAfterRedirects),Tn.targetSnapshot);this.events.next(Tr)}),(0,Ze.w)(Tn=>{let Tr=!1;return(0,Ae.of)(Tn).pipe(function Wa(S,O){return(0,Ot.z)(w=>{const{targetSnapshot:N,guards:{canActivateChecks:W}}=w;if(!W.length)return(0,Ae.of)(w);let fe=0;return(0,me.D)(W).pipe((0,Sn.b)(Ve=>function Ol(S,O,w,N){const W=S.routeConfig,fe=S._resolve;return void 0!==W?.title&&!bi(W)&&(fe[bn]=W.title),function ha(S,O,w,N){const W=function Mo(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===W.length)return(0,Ae.of)({});const fe={};return(0,me.D)(W).pipe((0,Ot.z)(Ve=>function ol(S,O,w,N){const W=Br(O)??N,fe=rs(S,W);return Qt(fe.resolve?fe.resolve(O,w):W.runInContext(()=>fe(O,w)))}(S[Ve],O,w,N).pipe((0,Vt.P)(),(0,Tt.b)(Dt=>{fe[Ve]=Dt}))),we(1),function je(S){return(0,Ge.U)(()=>S)}(fe),(0,Ke.K)(Ve=>vr(Ve)?De.E:(0,ye._)(Ve)))}(fe,S,O,N).pipe((0,Ge.U)(Ve=>(S._resolvedData=Ve,S.data=es(S,w).resolve,W&&bi(W)&&(S.data[bn]=W.title),null)))}(Ve.route,N,S,O)),(0,Tt.b)(()=>fe++),we(1),(0,Ot.z)(Ve=>fe===W.length?(0,Ae.of)(w):De.E))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,Tt.b)({next:()=>Tr=!0,complete:()=>{Tr||this.cancelNavigationTransition(Tn,"",2)}}))}),(0,Tt.b)(Tn=>{const Tr=new xi(Tn.id,this.urlSerializer.serialize(Tn.extractedUrl),this.urlSerializer.serialize(Tn.urlAfterRedirects),Tn.targetSnapshot);this.events.next(Tr)}))}),R(St=>{const Tn=Tr=>{const ui=[];Tr.routeConfig?.loadComponent&&!Tr.routeConfig._loadedComponent&&ui.push(this.configLoader.loadComponent(Tr.routeConfig).pipe((0,Tt.b)(Ir=>{Tr.component=Ir}),(0,Ge.U)(()=>{})));for(const Ir of Tr.children)ui.push(...Tn(Ir));return ui};return(0,ae.a)(Tn(St.targetSnapshot.root)).pipe((0,Fe.d)(),(0,dt.q)(1))}),R(()=>this.afterPreactivation()),(0,Ge.U)(St=>{const Tn=function oi(S,O,w){const N=ns(S,O._root,w?w._root:void 0);return new si(N,O)}(w.routeReuseStrategy,St.targetSnapshot,St.currentRouterState);return this.currentTransition=fe={...St,targetRouterState:Tn},fe}),(0,Tt.b)(()=>{this.events.next(new jo)}),((S,O,w,N)=>(0,Ge.U)(W=>(new yr(O,W.targetRouterState,W.currentRouterState,w,N).activate(S),W)))(this.rootContexts,w.routeReuseStrategy,St=>this.events.next(St),this.inputBindingEnabled),(0,dt.q)(1),(0,Tt.b)({next:St=>{Ve=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new cs(St.id,this.urlSerializer.serialize(St.extractedUrl),this.urlSerializer.serialize(St.urlAfterRedirects))),w.titleStrategy?.updateTitle(St.targetRouterState.snapshot),St.resolve(!0)},complete:()=>{Ve=!0}}),(0,_t.R)(this.transitionAbortSubject.pipe((0,Tt.b)(St=>{throw St}))),(0,it.x)(()=>{Ve||Dt||this.cancelNavigationTransition(fe,"",1),this.currentNavigation?.id===fe.id&&(this.currentNavigation=null)}),(0,Ke.K)(St=>{if(Dt=!0,Ne(St))this.events.next(new Hr(fe.id,this.urlSerializer.serialize(fe.extractedUrl),St.message,St.cancellationCode)),function Y(S){return Ne(S)&&Xn(S.url)}(St)?this.events.next(new Ts(St.url)):fe.resolve(!1);else{this.events.next(new fs(fe.id,this.urlSerializer.serialize(fe.extractedUrl),St,fe.targetSnapshot??void 0));try{fe.resolve(w.errorHandler(St))}catch(Tn){fe.reject(Tn)}}return De.E}))}))}cancelNavigationTransition(w,N,W){const fe=new Hr(w.id,this.urlSerializer.serialize(w.extractedUrl),N,W);this.events.next(fe),w.resolve(!1)}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function Pn(S){return S!==dr}let Fr=(()=>{class S{buildTitle(w){let N,W=w.root;for(;void 0!==W;)N=this.getResolvedTitleForRoute(W)??N,W=W.children.find(fe=>fe.outlet===Wt);return N}getResolvedTitleForRoute(w){return w.data[bn]}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:function(){return(0,f.f3M)(li)},providedIn:"root"})}return S})(),li=(()=>{class S extends Fr{constructor(w){super(),this.title=w}updateTitle(w){const N=this.buildTitle(w);void 0!==N&&this.title.setTitle(N)}static#e=this.\u0275fac=function(N){return new(N||S)(f.LFG(Gt.Dx))};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})(),ti=(()=>{class S{static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:function(){return(0,f.f3M)(pi)},providedIn:"root"})}return S})();class Ar{shouldDetach(O){return!1}store(O,w){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,w){return O.routeConfig===w.routeConfig}}let pi=(()=>{class S extends Ar{static#e=this.\u0275fac=function(){let w;return function(W){return(w||(w=f.n5z(S)))(W||S)}}();static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const Qr=new f.OlP("",{providedIn:"root",factory:()=>({})});let Gi=(()=>{class S{static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:function(){return(0,f.f3M)(Ss)},providedIn:"root"})}return S})(),Ss=(()=>{class S{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,N){return w}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();var vs=function(S){return S[S.COMPLETE=0]="COMPLETE",S[S.FAILED=1]="FAILED",S[S.REDIRECTING=2]="REDIRECTING",S}(vs||{});function Zo(S,O){S.events.pipe((0,Ee.h)(w=>w instanceof cs||w instanceof Hr||w instanceof fs||w instanceof io),(0,Ge.U)(w=>w instanceof cs||w instanceof io?vs.COMPLETE:w instanceof Hr&&(0===w.code||1===w.code)?vs.REDIRECTING:vs.FAILED),(0,Ee.h)(w=>w!==vs.REDIRECTING),(0,dt.q)(1)).subscribe(()=>{O()})}function Zs(S){throw S}function Ci(S,O,w){return O.parse("/")}const lr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hs=(()=>{class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,f.f3M)(f.c2e),this.isNgZoneEnabled=!1,this._events=new Oe.x,this.options=(0,f.f3M)(Qr,{optional:!0})||{},this.pendingTasks=(0,f.f3M)(f.HDt),this.errorHandler=this.options.errorHandler||Zs,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ci,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,f.f3M)(Gi),this.routeReuseStrategy=(0,f.f3M)(ti),this.titleStrategy=(0,f.f3M)(Fr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,f.f3M)(se,{optional:!0})?.flat()??[],this.navigationTransitions=(0,f.f3M)(Ht),this.urlSerializer=(0,f.f3M)(Ur),this.location=(0,f.f3M)(tt.Ye),this.componentInputBindingEnabled=!!(0,f.f3M)(ai,{optional:!0}),this.eventsSubscription=new xe.w0,this.isNgZoneEnabled=(0,f.f3M)(f.R0b)instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new br,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ui(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(w=>{this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(N=>{try{const{currentTransition:W}=this.navigationTransitions;if(null===W)return void(Dc(N)&&this._events.next(N));if(N instanceof gi)Pn(W.source)&&(this.browserUrlTree=W.extractedUrl);else if(N instanceof io)this.rawUrlTree=W.rawUrl;else if(N instanceof Li){if("eager"===this.urlUpdateStrategy){if(!W.extras.skipLocationChange){const fe=this.urlHandlingStrategy.merge(W.urlAfterRedirects,W.rawUrl);this.setBrowserUrl(fe,W)}this.browserUrlTree=W.urlAfterRedirects}}else if(N instanceof jo)this.currentUrlTree=W.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(W.urlAfterRedirects,W.rawUrl),this.routerState=W.targetRouterState,"deferred"===this.urlUpdateStrategy&&(W.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,W),this.browserUrlTree=W.urlAfterRedirects);else if(N instanceof Hr)0!==N.code&&1!==N.code&&(this.navigated=!0),(3===N.code||2===N.code)&&this.restoreHistory(W);else if(N instanceof Ts){const fe=this.urlHandlingStrategy.merge(N.url,W.currentRawUrl),Ve={skipLocationChange:W.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Pn(W.source)};this.scheduleNavigation(fe,dr,null,Ve,{resolve:W.resolve,reject:W.reject,promise:W.promise})}N instanceof fs&&this.restoreHistory(W,!0),N instanceof cs&&(this.navigated=!0),Dc(N)&&this._events.next(N)}catch(W){this.navigationTransitions.transitionAbortSubject.next(W)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),dr,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const N="popstate"===w.type?"popstate":"hashchange";"popstate"===N&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,N,w.state)},0)}))}navigateToSyncWithBrowser(w,N,W){const fe={replaceUrl:!0},Ve=W?.navigationId?W:null;if(W){const St={...W};delete St.navigationId,delete St.\u0275routerPageId,0!==Object.keys(St).length&&(fe.state=St)}const Dt=this.parseUrl(w);this.scheduleNavigation(Dt,N,Ve,fe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map($r),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,N={}){const{relativeTo:W,queryParams:fe,fragment:Ve,queryParamsHandling:Dt,preserveFragment:St}=N,Tn=St?this.currentUrlTree.fragment:Ve;let ui,Tr=null;switch(Dt){case"merge":Tr={...this.currentUrlTree.queryParams,...fe};break;case"preserve":Tr=this.currentUrlTree.queryParams;break;default:Tr=fe||null}null!==Tr&&(Tr=this.removeEmptyProps(Tr));try{ui=He(W?W.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||!w[0].startsWith("/"))&&(w=[]),ui=this.currentUrlTree.root}return nt(ui,w,Tr,Tn??null)}navigateByUrl(w,N={skipLocationChange:!1}){const W=Xn(w)?w:this.parseUrl(w),fe=this.urlHandlingStrategy.merge(W,this.rawUrlTree);return this.scheduleNavigation(fe,dr,null,N)}navigate(w,N={skipLocationChange:!1}){return function vi(S){for(let O=0;O<S.length;O++)if(null==S[O])throw new f.vHH(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,N),N)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let N;try{N=this.urlSerializer.parse(w)}catch(W){N=this.malformedUriErrorHandler(W,this.urlSerializer,w)}return N}isActive(w,N){let W;if(W=!0===N?{...lr}:!1===N?{...qs}:N,Xn(w))return Pr(this.currentUrlTree,w,W);const fe=this.parseUrl(w);return Pr(this.currentUrlTree,fe,W)}removeEmptyProps(w){return Object.keys(w).reduce((N,W)=>{const fe=w[W];return null!=fe&&(N[W]=fe),N},{})}scheduleNavigation(w,N,W,fe,Ve){if(this.disposed)return Promise.resolve(!1);let Dt,St,Tn;Ve?(Dt=Ve.resolve,St=Ve.reject,Tn=Ve.promise):Tn=new Promise((ui,Ir)=>{Dt=ui,St=Ir});const Tr=this.pendingTasks.add();return Zo(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Tr))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:W,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:w,extras:fe,resolve:Dt,reject:St,promise:Tn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Tn.catch(ui=>Promise.reject(ui))}setBrowserUrl(w,N){const W=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(W)||N.extras.replaceUrl){const Ve={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId)};this.location.replaceState(W,"",Ve)}else{const fe={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId+1)};this.location.go(W,"",fe)}}restoreHistory(w,N=!1){if("computed"===this.canceledNavigationResolution){const fe=this.currentPageId-this.browserPageId;0!==fe?this.location.historyGo(fe):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===fe&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,N){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:N}:{navigationId:w}}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function Dc(S){return!(S instanceof jo||S instanceof Ts)}let qo=(()=>{class S{constructor(w,N,W,fe,Ve,Dt){this.router=w,this.route=N,this.tabIndexAttribute=W,this.renderer=fe,this.el=Ve,this.locationStrategy=Dt,this.href=null,this.commands=null,this.onChanges=new Oe.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const St=Ve.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===St||"area"===St,this.isAnchorElement?this.subscription=w.events.subscribe(Tn=>{Tn instanceof cs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,N,W,fe,Ve){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||N||W||fe||Ve||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const w=null===this.href?null:(0,f.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",w)}applyAttributeValue(w,N){const W=this.renderer,fe=this.el.nativeElement;null!==N?W.setAttribute(fe,w,N):W.removeAttribute(fe,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(N){return new(N||S)(f.Y36(Hs),f.Y36(Xi),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(tt.S$))};static#t=this.\u0275dir=f.lG2({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(N,W){1&N&&f.NdJ("click",function(Ve){return W.onClick(Ve.button,Ve.ctrlKey,Ve.shiftKey,Ve.altKey,Ve.metaKey)}),2&N&&f.uIk("target",W.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",f.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",f.VuI],replaceUrl:["replaceUrl","replaceUrl",f.VuI],routerLink:"routerLink"},standalone:!0,features:[f.Xq5,f.TTD]})}return S})();class Sc{}let Ka=(()=>{class S{constructor(w,N,W,fe,Ve){this.router=w,this.injector=W,this.preloadingStrategy=fe,this.loader=Ve}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ee.h)(w=>w instanceof cs),(0,Sn.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,N){const W=[];for(const fe of N){fe.providers&&!fe._injector&&(fe._injector=(0,f.MMx)(fe.providers,w,`Route: ${fe.path}`));const Ve=fe._injector??w,Dt=fe._loadedInjector??Ve;(fe.loadChildren&&!fe._loadedRoutes&&void 0===fe.canLoad||fe.loadComponent&&!fe._loadedComponent)&&W.push(this.preloadConfig(Ve,fe)),(fe.children||fe._loadedRoutes)&&W.push(this.processRoutes(Dt,fe.children??fe._loadedRoutes))}return(0,me.D)(W).pipe((0,Bt.J)())}preloadConfig(w,N){return this.preloadingStrategy.preload(N,()=>{let W;W=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(w,N):(0,Ae.of)(null);const fe=W.pipe((0,Ot.z)(Ve=>null===Ve?(0,Ae.of)(void 0):(N._loadedRoutes=Ve.routes,N._loadedInjector=Ve.injector,this.processRoutes(Ve.injector??w,Ve.routes))));if(N.loadComponent&&!N._loadedComponent){const Ve=this.loader.loadComponent(N);return(0,me.D)([fe,Ve]).pipe((0,Bt.J)())}return fe})}static#e=this.\u0275fac=function(N){return new(N||S)(f.LFG(Hs),f.LFG(f.Sil),f.LFG(f.lqb),f.LFG(Sc),f.LFG(j))};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const Mc=new f.OlP("");let Od=(()=>{class S{constructor(w,N,W,fe,Ve={}){this.urlSerializer=w,this.transitions=N,this.viewportScroller=W,this.zone=fe,this.options=Ve,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ve.scrollPositionRestoration=Ve.scrollPositionRestoration||"disabled",Ve.anchorScrolling=Ve.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof gi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof cs?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof io&&0===w.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Di&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,N){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Di(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(N){f.$Z()};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac})}return S})();function Po(S,O){return{\u0275kind:S,\u0275providers:O}}function hr(){const S=(0,f.f3M)(f.zs3);return O=>{const w=S.get(f.z2F);if(O!==w.components[0])return;const N=S.get(Hs),W=S.get(vu);1===S.get(Pc)&&N.initialNavigation(),S.get(ki,null,f.XFs.Optional)?.setUpPreloading(),S.get(Mc,null,f.XFs.Optional)?.init(),N.resetRootComponentType(w.componentTypes[0]),W.closed||(W.next(),W.complete(),W.unsubscribe())}}const vu=new f.OlP("",{factory:()=>new Oe.x}),Pc=new f.OlP("",{providedIn:"root",factory:()=>1}),ki=new f.OlP("");function Oa(S){return Po(0,[{provide:ki,useExisting:Ka},{provide:Sc,useExisting:S}])}const Zt=new f.OlP("ROUTER_FORROOT_GUARD"),Gr=[tt.Ye,{provide:Ur,useClass:ar},Hs,Gs,{provide:Xi,useFactory:function Qo(S){return S.routerState.root},deps:[Hs]},j,[]];function Au(){return new f.PXZ("Router",Hs)}let Qa=(()=>{class S{constructor(w){}static forRoot(w,N){return{ngModule:S,providers:[Gr,[],{provide:se,multi:!0,useValue:w},{provide:Zt,useFactory:ks,deps:[[Hs,new f.FiY,new f.tp0]]},{provide:Qr,useValue:N||{}},N?.useHash?{provide:tt.S$,useClass:tt.Do}:{provide:tt.S$,useClass:tt.b0},{provide:Mc,useFactory:()=>{const S=(0,f.f3M)(tt.EM),O=(0,f.f3M)(f.R0b),w=(0,f.f3M)(Qr),N=(0,f.f3M)(Ht),W=(0,f.f3M)(Ur);return w.scrollOffset&&S.setOffset(w.scrollOffset),new Od(W,N,S,O,w)}},N?.preloadingStrategy?Oa(N.preloadingStrategy).\u0275providers:[],{provide:f.PXZ,multi:!0,useFactory:Au},N?.initialNavigation?xc(N):[],N?.bindToComponentInputs?Po(8,[ws,{provide:ai,useExisting:ws}]).\u0275providers:[],[{provide:Ya,useFactory:hr},{provide:f.tb,multi:!0,useExisting:Ya}]]}}static forChild(w){return{ngModule:S,providers:[{provide:se,multi:!0,useValue:w}]}}static#e=this.\u0275fac=function(N){return new(N||S)(f.LFG(Zt,8))};static#t=this.\u0275mod=f.oAB({type:S});static#n=this.\u0275inj=f.cJS({})}return S})();function ks(S){return"guarded"}function xc(S){return["disabled"===S.initialNavigation?Po(3,[{provide:f.ip1,multi:!0,useFactory:()=>{const O=(0,f.f3M)(Hs);return()=>{O.setUpLocationChangeListener()}}},{provide:Pc,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?Po(2,[{provide:Pc,useValue:0},{provide:f.ip1,multi:!0,deps:[f.zs3],useFactory:O=>{const w=O.get(tt.V_,Promise.resolve());return()=>w.then(()=>new Promise(N=>{const W=O.get(Hs),fe=O.get(vu);Zo(W,()=>{N(!0)}),O.get(Ht).afterPreactivation=()=>(N(!0),fe.closed?(0,Ae.of)(void 0):fe),W.initialNavigation()}))}}]).\u0275providers:[]]}const Ya=new f.OlP("")},3106:(sn,lt,k)=>{"use strict";k.d(lt,{Z:()=>De});var f=k(9058),o=k(4537),B=k(534),Se=k(7879);class me{constructor(Ye,We){this._delegate=Ye,this.firebase=We,(0,B._addComponent)(Ye,new o.wA("app-compat",()=>this,"PUBLIC")),this.container=Ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ye){this._delegate.automaticDataCollectionEnabled=Ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ye=>{this._delegate.checkDestroyed(),Ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(Ye,We=B._DEFAULT_ENTRY_NAME){var mt;this._delegate.checkDestroyed();const ke=this._delegate.container.getProvider(Ye);return!ke.isInitialized()&&"EXPLICIT"===(null===(mt=ke.getComponent())||void 0===mt?void 0:mt.instantiationMode)&&ke.initialize(),ke.getImmediate({identifier:We})}_removeServiceInstance(Ye,We=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ye).clearInstance(We)}_addComponent(Ye){(0,B._addComponent)(this._delegate,Ye)}_addOrOverwriteComponent(Ye){(0,B._addOrOverwriteComponent)(this._delegate,Ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function ve(){const xe=function ae(xe){const Ye={},We={__esModule:!0,initializeApp:function Oe(dt,bt={}){const Ee=B.initializeApp(dt,bt);if((0,f.r3)(Ye,Ee.name))return Ye[Ee.name];const Ot=new xe(Ee,We);return Ye[Ee.name]=Ot,Ot},app:ke,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function Ge(dt){const bt=dt.name,Ee=bt.replace("-compat","");if(B._registerComponent(dt)&&"PUBLIC"===dt.type){const Ot=(Vt=ke())=>{if("function"!=typeof Vt[Ee])throw de.create("invalid-app-argument",{appName:bt});return Vt[Ee]()};void 0!==dt.serviceProps&&(0,f.ZB)(Ot,dt.serviceProps),We[Ee]=Ot,xe.prototype[Ee]=function(...Vt){return this._getService.bind(this,bt).apply(this,dt.multipleInstances?Vt:[])}}return"PUBLIC"===dt.type?We[Ee]:null},removeApp:function mt(dt){delete Ye[dt]},useAsService:function Ze(dt,bt){return"serverAuth"===bt?null:bt},modularAPIs:B}};function ke(dt){if(!(0,f.r3)(Ye,dt=dt||B._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:dt});return Ye[dt]}return We.default=We,Object.defineProperty(We,"apps",{get:function tt(){return Object.keys(Ye).map(dt=>Ye[dt])}}),ke.App=xe,We}(me);return xe.INTERNAL=Object.assign(Object.assign({},xe.INTERNAL),{createFirebaseNamespace:ve,extendNamespace:function Ye(We){(0,f.ZB)(xe,We)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),xe}(),z=new Se.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const xe=self.firebase.SDK_VERSION;xe&&xe.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const De=$;!function ye(xe){(0,B.registerVersion)("@firebase/app-compat","0.2.35",xe)}()},534:(sn,lt,k)=>{"use strict";k.r(lt),k.d(lt,{FirebaseError:()=>Se.ZR,SDK_VERSION:()=>Be,_DEFAULT_ENTRY_NAME:()=>Bn,_addComponent:()=>Kn,_addOrOverwriteComponent:()=>Yr,_apps:()=>Er,_clearComponents:()=>Dr,_components:()=>qn,_getProvider:()=>gn,_isFirebaseApp:()=>ar,_isFirebaseServerApp:()=>Rr,_registerComponent:()=>yi,_removeServiceInstance:()=>Ur,_serverApps:()=>br,deleteApp:()=>Cr,getApp:()=>$n,getApps:()=>hi,initializeApp:()=>Mt,initializeServerApp:()=>en,onLog:()=>K,registerVersion:()=>ce,setLogLevel:()=>H});var f=k(5861),o=k(4537),B=k(7879),Se=k(9058);const me=(vt,ft)=>ft.some(kt=>vt instanceof kt);let Ae,de;const $=new WeakMap,z=new WeakMap,oe=new WeakMap,be=new WeakMap,ye=new WeakMap;let Ye={get(vt,ft,kt){if(vt instanceof IDBTransaction){if("done"===ft)return z.get(vt);if("objectStoreNames"===ft)return vt.objectStoreNames||oe.get(vt);if("store"===ft)return kt.objectStoreNames[1]?void 0:kt.objectStore(kt.objectStoreNames[0])}return Oe(vt[ft])},set:(vt,ft,kt)=>(vt[ft]=kt,!0),has:(vt,ft)=>vt instanceof IDBTransaction&&("done"===ft||"store"===ft)||ft in vt};function ke(vt){return"function"==typeof vt?function mt(vt){return vt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(vt)?function(...ft){return vt.apply(tt(this),ft),Oe($.get(this))}:function(...ft){return Oe(vt.apply(tt(this),ft))}:function(ft,...kt){const ln=vt.call(tt(this),ft,...kt);return oe.set(ln,ft.sort?ft.sort():[ft]),Oe(ln)}}(vt):(vt instanceof IDBTransaction&&function xe(vt){if(z.has(vt))return;const ft=new Promise((kt,ln)=>{const Vn=()=>{vt.removeEventListener("complete",Un),vt.removeEventListener("error",vn),vt.removeEventListener("abort",vn)},Un=()=>{kt(),Vn()},vn=()=>{ln(vt.error||new DOMException("AbortError","AbortError")),Vn()};vt.addEventListener("complete",Un),vt.addEventListener("error",vn),vt.addEventListener("abort",vn)});z.set(vt,ft)}(vt),me(vt,function ae(){return Ae||(Ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(vt,Ye):vt)}function Oe(vt){if(vt instanceof IDBRequest)return function De(vt){const ft=new Promise((kt,ln)=>{const Vn=()=>{vt.removeEventListener("success",Un),vt.removeEventListener("error",vn)},Un=()=>{kt(Oe(vt.result)),Vn()},vn=()=>{ln(vt.error),Vn()};vt.addEventListener("success",Un),vt.addEventListener("error",vn)});return ft.then(kt=>{kt instanceof IDBCursor&&$.set(kt,vt)}).catch(()=>{}),ye.set(ft,vt),ft}(vt);if(be.has(vt))return be.get(vt);const ft=ke(vt);return ft!==vt&&(be.set(vt,ft),ye.set(ft,vt)),ft}const tt=vt=>ye.get(vt),dt=["get","getKey","getAll","getAllKeys","count"],bt=["put","add","delete","clear"],Ee=new Map;function Ot(vt,ft){if(!(vt instanceof IDBDatabase)||ft in vt||"string"!=typeof ft)return;if(Ee.get(ft))return Ee.get(ft);const kt=ft.replace(/FromIndex$/,""),ln=ft!==kt,Vn=bt.includes(kt);if(!(kt in(ln?IDBIndex:IDBObjectStore).prototype)||!Vn&&!dt.includes(kt))return;const Un=function(){var vn=(0,f.Z)(function*(Gn,...Sr){const fi=this.transaction(Gn,Vn?"readwrite":"readonly");let ei=fi.store;return ln&&(ei=ei.index(Sr.shift())),(yield Promise.all([ei[kt](...Sr),Vn&&fi.done]))[0]});return function(Sr){return vn.apply(this,arguments)}}();return Ee.set(ft,Un),Un}!function We(vt){Ye=vt(Ye)}(vt=>({...vt,get:(ft,kt,ln)=>Ot(ft,kt)||vt.get(ft,kt,ln),has:(ft,kt)=>!!Ot(ft,kt)||vt.has(ft,kt)}));class Vt{constructor(ft){this.container=ft}getPlatformInfoString(){return this.container.getProviders().map(kt=>{if(function Sn(vt){const ft=vt.getComponent();return"VERSION"===ft?.type}(kt)){const ln=kt.getImmediate();return`${ln.library}/${ln.version}`}return null}).filter(kt=>kt).join(" ")}}const Tt="@firebase/app",Ke="0.10.5",ut=new B.Yd("@firebase/app"),Bn="[DEFAULT]",zn={[Tt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Er=new Map,br=new Map,qn=new Map;function Kn(vt,ft){try{vt.container.addComponent(ft)}catch(kt){ut.debug(`Component ${ft.name} failed to register with FirebaseApp ${vt.name}`,kt)}}function Yr(vt,ft){vt.container.addOrOverwriteComponent(ft)}function yi(vt){const ft=vt.name;if(qn.has(ft))return ut.debug(`There were multiple attempts to register component ${ft}.`),!1;qn.set(ft,vt);for(const kt of Er.values())Kn(kt,vt);for(const kt of br.values())Kn(kt,vt);return!0}function gn(vt,ft){const kt=vt.container.getProvider("heartbeat").getImmediate({optional:!0});return kt&&kt.triggerHeartbeat(),vt.container.getProvider(ft)}function Ur(vt,ft,kt=Bn){gn(vt,ft).clearInstance(kt)}function ar(vt){return void 0!==vt.options}function Rr(vt){return void 0!==vt.settings}function Dr(){qn.clear()}const at=new Se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class wt{constructor(ft,kt,ln){this._isDeleted=!1,this._options=Object.assign({},ft),this._config=Object.assign({},kt),this._name=kt.name,this._automaticDataCollectionEnabled=kt.automaticDataCollectionEnabled,this._container=ln,this.container.addComponent(new o.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ft){this.checkDestroyed(),this._automaticDataCollectionEnabled=ft}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ft){this._isDeleted=ft}checkDestroyed(){if(this.isDeleted)throw at.create("app-deleted",{appName:this._name})}}class ue extends wt{constructor(ft,kt,ln,Vn){const Un=void 0!==kt.automaticDataCollectionEnabled&&kt.automaticDataCollectionEnabled,vn={name:ln,automaticDataCollectionEnabled:Un};super(void 0!==ft.apiKey?ft:ft.options,vn,Vn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Un},kt),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,kt.releaseOnDeref=void 0,ce(Tt,Ke,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(ft){this.isDeleted||(this._refCount++,void 0!==ft&&this._finalizationRegistry.register(ft,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Cr(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw at.create("server-app-deleted")}}const Be="10.12.2";function Mt(vt,ft={}){let kt=vt;"object"!=typeof ft&&(ft={name:ft});const ln=Object.assign({name:Bn,automaticDataCollectionEnabled:!1},ft),Vn=ln.name;if("string"!=typeof Vn||!Vn)throw at.create("bad-app-name",{appName:String(Vn)});if(kt||(kt=(0,Se.aH)()),!kt)throw at.create("no-options");const Un=Er.get(Vn);if(Un){if((0,Se.vZ)(kt,Un.options)&&(0,Se.vZ)(ln,Un.config))return Un;throw at.create("duplicate-app",{appName:Vn})}const vn=new o.H0(Vn);for(const Sr of qn.values())vn.addComponent(Sr);const Gn=new wt(kt,ln,vn);return Er.set(Vn,Gn),Gn}function en(vt,ft){if((0,Se.jU)())throw at.create("invalid-server-app-environment");let kt;void 0===ft.automaticDataCollectionEnabled&&(ft.automaticDataCollectionEnabled=!1),kt=ar(vt)?vt.options:vt;const ln=Object.assign(Object.assign({},ft),kt);if(void 0!==ln.releaseOnDeref&&delete ln.releaseOnDeref,void 0!==ft.releaseOnDeref&&typeof FinalizationRegistry>"u")throw at.create("finalization-registry-not-supported",{});const Un=""+(fi=JSON.stringify(ln),[...fi].reduce((ei,dr)=>Math.imul(31,ei)+dr.charCodeAt(0)|0,0)),vn=br.get(Un);var fi;if(vn)return vn.incRefCount(ft.releaseOnDeref),vn;const Gn=new o.H0(Un);for(const fi of qn.values())Gn.addComponent(fi);const Sr=new ue(kt,ft,Un,Gn);return br.set(Un,Sr),Sr}function $n(vt=Bn){const ft=Er.get(vt);if(!ft&&vt===Bn&&(0,Se.aH)())return Mt();if(!ft)throw at.create("no-app",{appName:vt});return ft}function hi(){return Array.from(Er.values())}function Cr(vt){return qe.apply(this,arguments)}function qe(){return(qe=(0,f.Z)(function*(vt){let ft=!1;const kt=vt.name;Er.has(kt)?(ft=!0,Er.delete(kt)):br.has(kt)&&vt.decRefCount()<=0&&(br.delete(kt),ft=!0),ft&&(yield Promise.all(vt.container.getProviders().map(ln=>ln.delete())),vt.isDeleted=!0)})).apply(this,arguments)}function ce(vt,ft,kt){var ln;let Vn=null!==(ln=zn[vt])&&void 0!==ln?ln:vt;kt&&(Vn+=`-${kt}`);const Un=Vn.match(/\s|\//),vn=ft.match(/\s|\//);if(Un||vn){const Gn=[`Unable to register library "${Vn}" with version "${ft}":`];return Un&&Gn.push(`library name "${Vn}" contains illegal characters (whitespace or "/")`),Un&&vn&&Gn.push("and"),vn&&Gn.push(`version name "${ft}" contains illegal characters (whitespace or "/")`),void ut.warn(Gn.join(" "))}yi(new o.wA(`${Vn}-version`,()=>({library:Vn,version:ft}),"VERSION"))}function K(vt,ft){if(null!==vt&&"function"!=typeof vt)throw at.create("invalid-log-argument");(0,B.Am)(vt,ft)}function H(vt){(0,B.Ub)(vt)}const U="firebase-heartbeat-database",Te=1,Xe="firebase-heartbeat-store";let Nt=null;function $t(){return Nt||(Nt=function Ge(vt,ft,{blocked:kt,upgrade:ln,blocking:Vn,terminated:Un}={}){const vn=indexedDB.open(vt,ft),Gn=Oe(vn);return ln&&vn.addEventListener("upgradeneeded",Sr=>{ln(Oe(vn.result),Sr.oldVersion,Sr.newVersion,Oe(vn.transaction),Sr)}),kt&&vn.addEventListener("blocked",Sr=>kt(Sr.oldVersion,Sr.newVersion,Sr)),Gn.then(Sr=>{Un&&Sr.addEventListener("close",()=>Un()),Vn&&Sr.addEventListener("versionchange",fi=>Vn(fi.oldVersion,fi.newVersion,fi))}).catch(()=>{}),Gn}(U,Te,{upgrade:(vt,ft)=>{if(0===ft)try{vt.createObjectStore(Xe)}catch(kt){console.warn(kt)}}}).catch(vt=>{throw at.create("idb-open",{originalErrorMessage:vt.message})})),Nt}function on(){return(on=(0,f.Z)(function*(vt){try{const kt=(yield $t()).transaction(Xe),ln=yield kt.objectStore(Xe).get(Je(vt));return yield kt.done,ln}catch(ft){if(ft instanceof Se.ZR)ut.warn(ft.message);else{const kt=at.create("idb-get",{originalErrorMessage:ft?.message});ut.warn(kt.message)}}})).apply(this,arguments)}function hn(vt,ft){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,f.Z)(function*(vt,ft){try{const ln=(yield $t()).transaction(Xe,"readwrite");yield ln.objectStore(Xe).put(ft,Je(vt)),yield ln.done}catch(kt){if(kt instanceof Se.ZR)ut.warn(kt.message);else{const ln=at.create("idb-set",{originalErrorMessage:kt?.message});ut.warn(ln.message)}}})).apply(this,arguments)}function Je(vt){return`${vt.name}!${vt.options.appId}`}class jt{constructor(ft){this.container=ft,this._heartbeatsCache=null;const kt=this.container.getProvider("app").getImmediate();this._storage=new an(kt),this._heartbeatsCachePromise=this._storage.read().then(ln=>(this._heartbeatsCache=ln,ln))}triggerHeartbeat(){var ft=this;return(0,f.Z)(function*(){var kt,ln;const Un=ft.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),vn=Xt();if((null!=(null===(kt=ft._heartbeatsCache)||void 0===kt?void 0:kt.heartbeats)||(ft._heartbeatsCache=yield ft._heartbeatsCachePromise,null!=(null===(ln=ft._heartbeatsCache)||void 0===ln?void 0:ln.heartbeats)))&&ft._heartbeatsCache.lastSentHeartbeatDate!==vn&&!ft._heartbeatsCache.heartbeats.some(Gn=>Gn.date===vn))return ft._heartbeatsCache.heartbeats.push({date:vn,agent:Un}),ft._heartbeatsCache.heartbeats=ft._heartbeatsCache.heartbeats.filter(Gn=>{const Sr=new Date(Gn.date).valueOf();return Date.now()-Sr<=2592e6}),ft._storage.overwrite(ft._heartbeatsCache)})()}getHeartbeatsHeader(){var ft=this;return(0,f.Z)(function*(){var kt;if(null===ft._heartbeatsCache&&(yield ft._heartbeatsCachePromise),null==(null===(kt=ft._heartbeatsCache)||void 0===kt?void 0:kt.heartbeats)||0===ft._heartbeatsCache.heartbeats.length)return"";const ln=Xt(),{heartbeatsToSend:Vn,unsentEntries:Un}=function En(vt,ft=1024){const kt=[];let ln=vt.slice();for(const Vn of vt){const Un=kt.find(vn=>vn.agent===Vn.agent);if(Un){if(Un.dates.push(Vn.date),fr(kt)>ft){Un.dates.pop();break}}else if(kt.push({agent:Vn.agent,dates:[Vn.date]}),fr(kt)>ft){kt.pop();break}ln=ln.slice(1)}return{heartbeatsToSend:kt,unsentEntries:ln}}(ft._heartbeatsCache.heartbeats),vn=(0,Se.L)(JSON.stringify({version:2,heartbeats:Vn}));return ft._heartbeatsCache.lastSentHeartbeatDate=ln,Un.length>0?(ft._heartbeatsCache.heartbeats=Un,yield ft._storage.overwrite(ft._heartbeatsCache)):(ft._heartbeatsCache.heartbeats=[],ft._storage.overwrite(ft._heartbeatsCache)),vn})()}}function Xt(){return(new Date).toISOString().substring(0,10)}class an{constructor(ft){this.app=ft,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,Se.hl)()&&(0,Se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ft=this;return(0,f.Z)(function*(){if(yield ft._canUseIndexedDBPromise){const ln=yield function mn(vt){return on.apply(this,arguments)}(ft.app);return ln?.heartbeats?ln:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(ft){var kt=this;return(0,f.Z)(function*(){var ln;if(yield kt._canUseIndexedDBPromise){const Un=yield kt.read();return hn(kt.app,{lastSentHeartbeatDate:null!==(ln=ft.lastSentHeartbeatDate)&&void 0!==ln?ln:Un.lastSentHeartbeatDate,heartbeats:ft.heartbeats})}})()}add(ft){var kt=this;return(0,f.Z)(function*(){var ln;if(yield kt._canUseIndexedDBPromise){const Un=yield kt.read();return hn(kt.app,{lastSentHeartbeatDate:null!==(ln=ft.lastSentHeartbeatDate)&&void 0!==ln?ln:Un.lastSentHeartbeatDate,heartbeats:[...Un.heartbeats,...ft.heartbeats]})}})()}}function fr(vt){return(0,Se.L)(JSON.stringify({version:2,heartbeats:vt})).length}!function yn(vt){yi(new o.wA("platform-logger",ft=>new Vt(ft),"PRIVATE")),yi(new o.wA("heartbeat",ft=>new jt(ft),"PRIVATE")),ce(Tt,Ke,vt),ce(Tt,Ke,"esm2017"),ce("fire-js","")}("")},4537:(sn,lt,k)=>{"use strict";k.d(lt,{H0:()=>ae,wA:()=>B});var f=k(5861),o=k(9058);class B{constructor($,z,oe){this.name=$,this.instanceFactory=z,this.type=oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const Se="[DEFAULT]";class me{constructor($,z){this.name=$,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const z=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(z)){const oe=new o.BH;if(this.instancesDeferred.set(z,oe),this.isInitialized(z)||this.shouldAutoInitialize())try{const be=this.getOrInitializeService({instanceIdentifier:z});be&&oe.resolve(be)}catch{}}return this.instancesDeferred.get(z).promise}getImmediate($){var z;const oe=this.normalizeInstanceIdentifier($?.identifier),be=null!==(z=$?.optional)&&void 0!==z&&z;if(!this.isInitialized(oe)&&!this.shouldAutoInitialize()){if(be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:oe})}catch(ye){if(be)return null;throw ye}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function de(ve){return"EAGER"===ve.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:Se})}catch{}for(const[z,oe]of this.instancesDeferred.entries()){const be=this.normalizeInstanceIdentifier(z);try{const ye=this.getOrInitializeService({instanceIdentifier:be});oe.resolve(ye)}catch{}}}}clearInstance($=Se){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,f.Z)(function*(){const z=Array.from($.instances.values());yield Promise.all([...z.filter(oe=>"INTERNAL"in oe).map(oe=>oe.INTERNAL.delete()),...z.filter(oe=>"_delete"in oe).map(oe=>oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=Se){return this.instances.has($)}getOptions($=Se){return this.instancesOptions.get($)||{}}initialize($={}){const{options:z={}}=$,oe=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(oe))throw Error(`${this.name}(${oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const be=this.getOrInitializeService({instanceIdentifier:oe,options:z});for(const[ye,De]of this.instancesDeferred.entries())oe===this.normalizeInstanceIdentifier(ye)&&De.resolve(be);return be}onInit($,z){var oe;const be=this.normalizeInstanceIdentifier(z),ye=null!==(oe=this.onInitCallbacks.get(be))&&void 0!==oe?oe:new Set;ye.add($),this.onInitCallbacks.set(be,ye);const De=this.instances.get(be);return De&&$(De,be),()=>{ye.delete($)}}invokeOnInitCallbacks($,z){const oe=this.onInitCallbacks.get(z);if(oe)for(const be of oe)try{be($,z)}catch{}}getOrInitializeService({instanceIdentifier:$,options:z={}}){let oe=this.instances.get($);if(!oe&&this.component&&(oe=this.component.instanceFactory(this.container,{instanceIdentifier:(ve=$,ve===Se?void 0:ve),options:z}),this.instances.set($,oe),this.instancesOptions.set($,z),this.invokeOnInitCallbacks(oe,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,oe)}catch{}var ve;return oe||null}normalizeInstanceIdentifier($=Se){return this.component?this.component.multipleInstances?$:Se:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ae{constructor($){this.name=$,this.providers=new Map}addComponent($){const z=this.getProvider($.name);if(z.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);z.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const z=new me($,this);return this.providers.set($,z),z}getProviders(){return Array.from(this.providers.values())}}},7879:(sn,lt,k)=>{"use strict";k.d(lt,{Am:()=>ve,Ub:()=>ae,Yd:()=>de,in:()=>o});const f=[];var o=function($){return $[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",$}(o||{});const B={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},Se=o.INFO,me={[o.DEBUG]:"log",[o.VERBOSE]:"log",[o.INFO]:"info",[o.WARN]:"warn",[o.ERROR]:"error"},Ae=($,z,...oe)=>{if(z<$.logLevel)return;const be=(new Date).toISOString(),ye=me[z];if(!ye)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[ye](`[${be}]  ${$.name}:`,...oe)};class de{constructor(z){this.name=z,this._logLevel=Se,this._logHandler=Ae,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in o))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?B[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,o.DEBUG,...z),this._logHandler(this,o.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,o.VERBOSE,...z),this._logHandler(this,o.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,o.INFO,...z),this._logHandler(this,o.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,o.WARN,...z),this._logHandler(this,o.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,o.ERROR,...z),this._logHandler(this,o.ERROR,...z)}}function ae($){f.forEach(z=>{z.setLogLevel($)})}function ve($,z){for(const oe of f){let be=null;z&&z.level&&(be=B[z.level]),oe.userLogHandler=null===$?null:(ye,De,...xe)=>{const Ye=xe.map(We=>{if(null==We)return null;if("string"==typeof We)return We;if("number"==typeof We||"boolean"==typeof We)return We.toString();if(We instanceof Error)return We.message;try{return JSON.stringify(We)}catch{return null}}).filter(We=>We).join(" ");De>=(be??ye.logLevel)&&$({level:o[De].toLowerCase(),message:Ye,args:xe,type:ye.name})}}}},3182:(sn,lt,k)=>{"use strict";k.d(lt,{C6:()=>f.getApps,KN:()=>f.registerVersion,Mq:()=>f.getApp,ZF:()=>f.initializeApp});var f=k(534);(0,f.registerVersion)("firebase","10.12.2","app")},7142:(sn,lt,k)=>{"use strict";k.d(lt,{Z:()=>f.Z});var f=k(3106);f.Z.registerVersion("firebase","10.12.2","app-compat")},6365:(sn,lt,k)=>{"use strict";k.r(lt);var f=k(5861),o=k(3106),B=k(35),Se=k(9058),de=(k(534),k(7879),k(4537));function ae(){return window}function z(){return z=(0,f.Z)(function*(K,H,U){var Te;const{BuildInfo:Xe}=ae();(0,B.au)(H.sessionId,"AuthEvent did not contain a session ID");const Nt=yield function We(K){return mt.apply(this,arguments)}(H.sessionId),$t={};return(0,B.av)()?$t.ibi=Xe.packageName:(0,B.aw)()?$t.apn=Xe.packageName:(0,B.ax)(K,"operation-not-supported-in-this-environment"),Xe.displayName&&($t.appDisplayName=Xe.displayName),$t.sessionId=Nt,(0,B.ay)(K,U,H.type,void 0,null!==(Te=H.eventId)&&void 0!==Te?Te:void 0,$t)}),z.apply(this,arguments)}function be(){return(be=(0,f.Z)(function*(K){const{BuildInfo:H}=ae(),U={};(0,B.av)()?U.iosBundleId=H.packageName:(0,B.aw)()?U.androidPackageName=H.packageName:(0,B.ax)(K,"operation-not-supported-in-this-environment"),yield(0,B.az)(K,U)})).apply(this,arguments)}function xe(){return(xe=(0,f.Z)(function*(K,H,U){const{cordova:Te}=ae();let Xe=()=>{};try{yield new Promise((Nt,$t)=>{let mn=null;function on(){var Je;Nt();const He=null===(Je=Te.plugins.browsertab)||void 0===Je?void 0:Je.close;"function"==typeof He&&He(),"function"==typeof U?.close&&U.close()}function hn(){mn||(mn=window.setTimeout(()=>{$t((0,B.aB)(K,"redirect-cancelled-by-user"))},2e3))}function Xn(){"visible"===document?.visibilityState&&hn()}H.addPassiveListener(on),document.addEventListener("resume",hn,!1),(0,B.aw)()&&document.addEventListener("visibilitychange",Xn,!1),Xe=()=>{H.removePassiveListener(on),document.removeEventListener("resume",hn,!1),document.removeEventListener("visibilitychange",Xn,!1),mn&&window.clearTimeout(mn)}})}finally{Xe()}})).apply(this,arguments)}function mt(){return(mt=(0,f.Z)(function*(K){const H=function ke(K){if((0,B.au)(/[0-9a-zA-Z]+/.test(K),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(K);const H=new ArrayBuffer(K.length),U=new Uint8Array(H);for(let Te=0;Te<K.length;Te++)U[Te]=K.charCodeAt(Te);return U}(K),U=yield crypto.subtle.digest("SHA-256",H);return Array.from(new Uint8Array(U)).map(Xe=>Xe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class tt extends B.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(H=>{this.resolveInialized=H})}addPassiveListener(H){this.passiveListeners.add(H)}removePassiveListener(H){this.passiveListeners.delete(H)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(H){return this.resolveInialized(),this.passiveListeners.forEach(U=>U(H)),super.onEvent(H)}initialized(){var H=this;return(0,f.Z)(function*(){yield H.initPromise})()}}function dt(K){return bt.apply(this,arguments)}function bt(){return(bt=(0,f.Z)(function*(K){const H=yield Vt()._get(Sn(K));return H&&(yield Vt()._remove(Sn(K))),H})).apply(this,arguments)}function Ot(){const K=[];for(let U=0;U<20;U++){const Te=Math.floor(62*Math.random());K.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Te))}return K.join("")}function Vt(){return(0,B.aE)(B.b)}function Sn(K){return(0,B.aF)("authEvent",K.config.apiKey,K.name)}function ut(K){if(!K?.includes("?"))return{};const[H,...U]=K.split("?");return(0,Se.zd)(U.join("?"))}const te=class we{constructor(){this._redirectPersistence=B.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=B.aG,this._overrideRedirectResult=B.aH}_initialize(H){var U=this;return(0,f.Z)(function*(){const Te=H._key();let Xe=U.eventManagers.get(Te);return Xe||(Xe=new tt(H),U.eventManagers.set(Te,Xe),U.attachCallbackListeners(H,Xe)),Xe})()}_openPopup(H){(0,B.ax)(H,"operation-not-supported-in-this-environment")}_openRedirect(H,U,Te,Xe){var Nt=this;return(0,f.Z)(function*(){!function Ye(K){var H,U,Te,Xe,Nt,$t,mn,on,hn,Xn;const Je=ae();(0,B.aC)("function"==typeof(null===(H=Je?.universalLinks)||void 0===H?void 0:H.subscribe),K,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,B.aC)(typeof(null===(U=Je?.BuildInfo)||void 0===U?void 0:U.packageName)<"u",K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,B.aC)("function"==typeof(null===(Nt=null===(Xe=null===(Te=Je?.cordova)||void 0===Te?void 0:Te.plugins)||void 0===Xe?void 0:Xe.browsertab)||void 0===Nt?void 0:Nt.openUrl),K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.aC)("function"==typeof(null===(on=null===(mn=null===($t=Je?.cordova)||void 0===$t?void 0:$t.plugins)||void 0===mn?void 0:mn.browsertab)||void 0===on?void 0:on.isAvailable),K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.aC)("function"==typeof(null===(Xn=null===(hn=Je?.cordova)||void 0===hn?void 0:hn.InAppBrowser)||void 0===Xn?void 0:Xn.open),K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(H);const $t=yield Nt._initialize(H);yield $t.initialized(),$t.resetRedirect(),(0,B.aI)(),yield Nt._originValidation(H);const mn=function Ge(K,H,U=null){return{type:H,eventId:U,urlResponse:null,sessionId:Ot(),postBody:null,tenantId:K.tenantId,error:(0,B.aB)(K,"no-auth-event")}}(H,Te,Xe);yield function Ze(K,H){return Vt()._set(Sn(K),H)}(H,mn);const on=yield function $(K,H,U){return z.apply(this,arguments)}(H,mn,U),hn=yield function ye(K){const{cordova:H}=ae();return new Promise(U=>{H.plugins.browsertab.isAvailable(Te=>{let Xe=null;Te?H.plugins.browsertab.openUrl(K):Xe=H.InAppBrowser.open(K,(0,B.aA)()?"_blank":"_system","location=yes"),U(Xe)})})}(on);return function De(K,H,U){return xe.apply(this,arguments)}(H,$t,hn)})()}_isIframeWebStorageSupported(H,U){throw new Error("Method not implemented.")}_originValidation(H){const U=H._key();return this.originValidationPromises[U]||(this.originValidationPromises[U]=function oe(K){return be.apply(this,arguments)}(H)),this.originValidationPromises[U]}attachCallbackListeners(H,U){const{universalLinks:Te,handleOpenURL:Xe,BuildInfo:Nt}=ae(),$t=setTimeout((0,f.Z)(function*(){yield dt(H),U.onEvent(Ie())}),500),mn=function(){var Xn=(0,f.Z)(function*(Je){clearTimeout($t);const He=yield dt(H);let nt=null;He&&Je?.url&&(nt=function Ee(K,H){var U,Te;const Xe=function Ke(K){const H=ut(K),U=H.link?decodeURIComponent(H.link):void 0,Te=ut(U).link,Xe=H.deep_link_id?decodeURIComponent(H.deep_link_id):void 0;return ut(Xe).link||Xe||Te||U||K}(H);if(Xe.includes("/__/auth/callback")){const Nt=ut(Xe),$t=Nt.firebaseError?function Tt(K){try{return JSON.parse(K)}catch{return null}}(decodeURIComponent(Nt.firebaseError)):null,mn=null===(Te=null===(U=$t?.code)||void 0===U?void 0:U.split("auth/"))||void 0===Te?void 0:Te[1],on=mn?(0,B.aB)(mn):null;return on?{type:K.type,eventId:K.eventId,tenantId:K.tenantId,error:on,urlResponse:null,sessionId:null,postBody:null}:{type:K.type,eventId:K.eventId,tenantId:K.tenantId,sessionId:K.sessionId,urlResponse:Xe,postBody:null}}return null}(He,Je.url)),U.onEvent(nt||Ie())});return function(He){return Xn.apply(this,arguments)}}();typeof Te<"u"&&"function"==typeof Te.subscribe&&Te.subscribe(null,mn);const on=Xe,hn=`${Nt.packageName.toLowerCase()}://`;ae().handleOpenURL=function(){var Xn=(0,f.Z)(function*(Je){if(Je.toLowerCase().startsWith(hn)&&mn({url:Je}),"function"==typeof on)try{on(Je)}catch(He){console.error(He)}});return function(Je){return Xn.apply(this,arguments)}}()}};function Ie(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,B.aB)("no-auth-event")}}function Bt(){var K;return(null===(K=self?.location)||void 0===K?void 0:K.protocol)||null}function Wt(K=(0,Se.z$)()){return!("file:"!==Bt()&&"ionic:"!==Bt()&&"capacitor:"!==Bt()||!K.toLowerCase().match(/iphone|ipad|ipod|android/))}function rn(){try{const K=self.localStorage,H=B.aN();if(K)return K.setItem(H,"1"),K.removeItem(H),!function Nn(K=(0,Se.z$)()){return function Yn(){return(0,Se.w1)()&&11===document?.documentMode}()||function Rn(K=(0,Se.z$)()){return/Edge\/\d+/.test(K)}(K)}()||(0,Se.hl)()}catch{return kn()&&(0,Se.hl)()}return!1}function kn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function mr(){return(function Gt(){return"http:"===Bt()||"https:"===Bt()}()||(0,Se.ru)()||Wt())&&!function bn(){return(0,Se.b$)()||(0,Se.UG)()}()&&rn()&&!kn()}function Jn(){return Wt()&&typeof document<"u"}function jr(){return(jr=(0,f.Z)(function*(){return!!Jn()&&new Promise(K=>{const H=setTimeout(()=>{K(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(H),K(!0)})})})).apply(this,arguments)}const Pr={LOCAL:"local",NONE:"none",SESSION:"session"},sr=B.aC,Yt="persistence";function Bn(K){return zn.apply(this,arguments)}function zn(){return(zn=(0,f.Z)(function*(K){yield K._initializationPromise;const H=br(),U=B.aF(Yt,K.config.apiKey,K.name);H&&H.setItem(U,K._getPersistence())})).apply(this,arguments)}function br(){var K;try{return(null===(K=function xn(){return typeof window<"u"?window:null}())||void 0===K?void 0:K.sessionStorage)||null}catch{return null}}const qn=B.aC;class Kn{constructor(){this.browserResolver=B.aE(B.k),this.cordovaResolver=B.aE(te),this.underlyingResolver=null,this._redirectPersistence=B.a,this._completeRedirectFn=B.aG,this._overrideRedirectResult=B.aH}_initialize(H){var U=this;return(0,f.Z)(function*(){return yield U.selectUnderlyingResolver(),U.assertedUnderlyingResolver._initialize(H)})()}_openPopup(H,U,Te,Xe){var Nt=this;return(0,f.Z)(function*(){return yield Nt.selectUnderlyingResolver(),Nt.assertedUnderlyingResolver._openPopup(H,U,Te,Xe)})()}_openRedirect(H,U,Te,Xe){var Nt=this;return(0,f.Z)(function*(){return yield Nt.selectUnderlyingResolver(),Nt.assertedUnderlyingResolver._openRedirect(H,U,Te,Xe)})()}_isIframeWebStorageSupported(H,U){this.assertedUnderlyingResolver._isIframeWebStorageSupported(H,U)}_originValidation(H){return this.assertedUnderlyingResolver._originValidation(H)}get _shouldInitProactively(){return Jn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return qn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var H=this;return(0,f.Z)(function*(){if(H.underlyingResolver)return;const U=yield function Qt(){return jr.apply(this,arguments)}();H.underlyingResolver=U?H.cordovaResolver:H.browserResolver})()}}function Yr(K){return K.unwrap()}function gn(K){return ar(K)}function ar(K){const{_tokenResponse:H}=K instanceof Se.ZR?K.customData:K;if(!H)return null;if(!(K instanceof Se.ZR)&&"temporaryProof"in H&&"phoneNumber"in H)return B.P.credentialFromResult(K);const U=H.providerId;if(!U||U===B.p.PASSWORD)return null;let Te;switch(U){case B.p.GOOGLE:Te=B.X;break;case B.p.FACEBOOK:Te=B.W;break;case B.p.GITHUB:Te=B.Y;break;case B.p.TWITTER:Te=B.$;break;default:const{oauthIdToken:Xe,oauthAccessToken:Nt,oauthTokenSecret:$t,pendingToken:mn,nonce:on}=H;return Nt||$t||Xe||mn?mn?U.startsWith("saml.")?B.aQ._create(U,mn):B.N._fromParams({providerId:U,signInMethod:U,pendingToken:mn,idToken:Xe,accessToken:Nt}):new B.Z(U).credential({idToken:Xe,accessToken:Nt,rawNonce:on}):null}return K instanceof Se.ZR?Te.credentialFromError(K):Te.credentialFromResult(K)}function Rr(K,H){return H.catch(U=>{throw U instanceof Se.ZR&&function Ur(K,H){var U;const Te=null===(U=H.customData)||void 0===U?void 0:U._tokenResponse;if("auth/multi-factor-auth-required"===H?.code)H.resolver=new at(K,B.as(K,H));else if(Te){const Xe=ar(H),Nt=H;Xe&&(Nt.credential=Xe,Nt.tenantId=Te.tenantId||void 0,Nt.email=Te.email||void 0,Nt.phoneNumber=Te.phoneNumber||void 0)}}(K,U),U}).then(U=>{const Xe=U.user;return{operationType:U.operationType,credential:gn(U),additionalUserInfo:B.aq(U),user:wt.getOrCreate(Xe)}})}function Dr(K,H){return ri.apply(this,arguments)}function ri(){return(ri=(0,f.Z)(function*(K,H){const U=yield H;return{verificationId:U.verificationId,confirm:Te=>Rr(K,U.confirm(Te))}})).apply(this,arguments)}class at{constructor(H,U){this.resolver=U,this.auth=function yi(K){return K.wrapped()}(H)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(H){return Rr(Yr(this.auth),this.resolver.resolveSignIn(H))}}class wt{constructor(H){this._delegate=H,this.multiFactor=B.at(H)}static getOrCreate(H){return wt.USER_MAP.has(H)||wt.USER_MAP.set(H,new wt(H)),wt.USER_MAP.get(H)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(H){return this._delegate.getIdTokenResult(H)}getIdToken(H){return this._delegate.getIdToken(H)}linkAndRetrieveDataWithCredential(H){return this.linkWithCredential(H)}linkWithCredential(H){var U=this;return(0,f.Z)(function*(){return Rr(U.auth,B.a2(U._delegate,H))})()}linkWithPhoneNumber(H,U){var Te=this;return(0,f.Z)(function*(){return Dr(Te.auth,B.l(Te._delegate,H,U))})()}linkWithPopup(H){var U=this;return(0,f.Z)(function*(){return Rr(U.auth,B.d(U._delegate,H,Kn))})()}linkWithRedirect(H){var U=this;return(0,f.Z)(function*(){return yield Bn(B.aJ(U.auth)),B.g(U._delegate,H,Kn)})()}reauthenticateAndRetrieveDataWithCredential(H){return this.reauthenticateWithCredential(H)}reauthenticateWithCredential(H){var U=this;return(0,f.Z)(function*(){return Rr(U.auth,B.a3(U._delegate,H))})()}reauthenticateWithPhoneNumber(H,U){return Dr(this.auth,B.r(this._delegate,H,U))}reauthenticateWithPopup(H){return Rr(this.auth,B.e(this._delegate,H,Kn))}reauthenticateWithRedirect(H){var U=this;return(0,f.Z)(function*(){return yield Bn(B.aJ(U.auth)),B.h(U._delegate,H,Kn)})()}sendEmailVerification(H){return B.ag(this._delegate,H)}unlink(H){var U=this;return(0,f.Z)(function*(){return yield B.ap(U._delegate,H),U})()}updateEmail(H){return B.al(this._delegate,H)}updatePassword(H){return B.am(this._delegate,H)}updatePhoneNumber(H){return B.u(this._delegate,H)}updateProfile(H){return B.ak(this._delegate,H)}verifyBeforeUpdateEmail(H,U){return B.ah(this._delegate,H,U)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}wt.USER_MAP=new WeakMap;const ue=B.aC;let Be=(()=>{class K{constructor(U,Te){if(this.app=U,Te.isInitialized())return this._delegate=Te.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Xe}=U.options;ue(Xe,"invalid-api-key",{appName:U.name}),ue(Xe,"invalid-api-key",{appName:U.name});const Nt=typeof window<"u"?Kn:void 0;this._delegate=Te.initialize({options:{persistence:en(Xe,U.name),popupRedirectResolver:Nt}}),this._delegate._updateErrorMap(B.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?wt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(U){this._delegate.languageCode=U}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(U){this._delegate.tenantId=U}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(U,Te){B.K(this._delegate,U,Te)}applyActionCode(U){return B.a7(this._delegate,U)}checkActionCode(U){return B.a8(this._delegate,U)}confirmPasswordReset(U,Te){return B.a6(this._delegate,U,Te)}createUserWithEmailAndPassword(U,Te){var Xe=this;return(0,f.Z)(function*(){return Rr(Xe._delegate,B.aa(Xe._delegate,U,Te))})()}fetchProvidersForEmail(U){return this.fetchSignInMethodsForEmail(U)}fetchSignInMethodsForEmail(U){return B.af(this._delegate,U)}isSignInWithEmailLink(U){return B.ad(this._delegate,U)}getRedirectResult(){var U=this;return(0,f.Z)(function*(){ue(mr(),U._delegate,"operation-not-supported-in-this-environment");const Te=yield B.j(U._delegate,Kn);return Te?Rr(U._delegate,Promise.resolve(Te)):{credential:null,user:null}})()}addFrameworkForLogging(U){!function Pe(K,H){(0,B.aJ)(K)._logFramework(H)}(this._delegate,U)}onAuthStateChanged(U,Te,Xe){const{next:Nt,error:$t,complete:mn}=Mt(U,Te,Xe);return this._delegate.onAuthStateChanged(Nt,$t,mn)}onIdTokenChanged(U,Te,Xe){const{next:Nt,error:$t,complete:mn}=Mt(U,Te,Xe);return this._delegate.onIdTokenChanged(Nt,$t,mn)}sendSignInLinkToEmail(U,Te){return B.ac(this._delegate,U,Te)}sendPasswordResetEmail(U,Te){return B.a5(this._delegate,U,Te||void 0)}setPersistence(U){var Te=this;return(0,f.Z)(function*(){let Xe;switch(function In(K,H){sr(Object.values(Pr).includes(H),K,"invalid-persistence-type"),(0,Se.b$)()?sr(H!==Pr.SESSION,K,"unsupported-persistence-type"):(0,Se.UG)()?sr(H===Pr.NONE,K,"unsupported-persistence-type"):kn()?sr(H===Pr.NONE||H===Pr.LOCAL&&(0,Se.hl)(),K,"unsupported-persistence-type"):sr(H===Pr.NONE||rn(),K,"unsupported-persistence-type")}(Te._delegate,U),U){case Pr.SESSION:Xe=B.a;break;case Pr.LOCAL:Xe=(yield B.aE(B.i)._isAvailable())?B.i:B.b;break;case Pr.NONE:Xe=B.U;break;default:return B.ax("argument-error",{appName:Te._delegate.name})}return Te._delegate.setPersistence(Xe)})()}signInAndRetrieveDataWithCredential(U){return this.signInWithCredential(U)}signInAnonymously(){return Rr(this._delegate,B.a0(this._delegate))}signInWithCredential(U){return Rr(this._delegate,B.a1(this._delegate,U))}signInWithCustomToken(U){return Rr(this._delegate,B.a4(this._delegate,U))}signInWithEmailAndPassword(U,Te){return Rr(this._delegate,B.ab(this._delegate,U,Te))}signInWithEmailLink(U,Te){return Rr(this._delegate,B.ae(this._delegate,U,Te))}signInWithPhoneNumber(U,Te){return Dr(this._delegate,B.s(this._delegate,U,Te))}signInWithPopup(U){var Te=this;return(0,f.Z)(function*(){return ue(mr(),Te._delegate,"operation-not-supported-in-this-environment"),Rr(Te._delegate,B.c(Te._delegate,U,Kn))})()}signInWithRedirect(U){var Te=this;return(0,f.Z)(function*(){return ue(mr(),Te._delegate,"operation-not-supported-in-this-environment"),yield Bn(Te._delegate),B.f(Te._delegate,U,Kn)})()}updateCurrentUser(U){return this._delegate.updateCurrentUser(U)}verifyPasswordResetCode(U){return B.a9(this._delegate,U)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return K.Persistence=Pr,K})();function Mt(K,H,U){let Te=K;"function"!=typeof K&&({next:Te,error:H,complete:U}=K);const Xe=Te;return{next:$t=>Xe($t&&wt.getOrCreate($t)),error:H,complete:U}}function en(K,H){const U=function Er(K,H){const U=br();if(!U)return[];const Te=B.aF(Yt,K,H);switch(U.getItem(Te)){case Pr.NONE:return[B.U];case Pr.LOCAL:return[B.i,B.a];case Pr.SESSION:return[B.a];default:return[]}}(K,H);if(typeof self<"u"&&!U.includes(B.i)&&U.push(B.i),typeof window<"u")for(const Te of[B.b,B.a])U.includes(Te)||U.push(Te);return U.includes(B.U)||U.push(B.U),U}class $n{constructor(){this.providerId="phone",this._delegate=new B.P(Yr(o.Z.auth()))}static credential(H,U){return B.P.credential(H,U)}verifyPhoneNumber(H,U){return this._delegate.verifyPhoneNumber(H,U)}unwrap(){return this._delegate}}$n.PHONE_SIGN_IN_METHOD=B.P.PHONE_SIGN_IN_METHOD,$n.PROVIDER_ID=B.P.PROVIDER_ID;const hi=B.aC;class Cr{constructor(H,U,Te=o.Z.app()){var Xe;hi(null===(Xe=Te.options)||void 0===Xe?void 0:Xe.apiKey,"invalid-api-key",{appName:Te.name}),this._delegate=new B.R(Te.auth(),H,U),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ce(K){K.INTERNAL.registerComponent(new de.wA("auth-compat",H=>{const U=H.getProvider("app-compat").getImmediate(),Te=H.getProvider("auth");return new Be(U,Te)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:B.A.EMAIL_SIGNIN,PASSWORD_RESET:B.A.PASSWORD_RESET,RECOVER_EMAIL:B.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:B.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:B.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:B.A.VERIFY_EMAIL}},EmailAuthProvider:B.V,FacebookAuthProvider:B.W,GithubAuthProvider:B.Y,GoogleAuthProvider:B.X,OAuthProvider:B.Z,SAMLAuthProvider:B._,PhoneAuthProvider:$n,PhoneMultiFactorGenerator:B.m,RecaptchaVerifier:Cr,TwitterAuthProvider:B.$,Auth:Be,AuthCredential:B.L,Error:Se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),K.registerVersion("@firebase/auth-compat","0.5.9")}(o.Z)},1043:(sn,lt,k)=>{"use strict";k.d(lt,{EK:()=>f.EK,ad:()=>f.ad});var f=k(5588)},5861:(sn,lt,k)=>{"use strict";function f(B,Se,me,Ae,de,ae,ve){try{var $=B[ae](ve),z=$.value}catch(oe){return void me(oe)}$.done?Se(z):Promise.resolve(z).then(Ae,de)}function o(B){return function(){var Se=this,me=arguments;return new Promise(function(Ae,de){var ae=B.apply(Se,me);function ve(z){f(ae,Ae,de,ve,$,"next",z)}function $(z){f(ae,Ae,de,ve,$,"throw",z)}ve(void 0)})}}k.d(lt,{Z:()=>o})},7582:(sn,lt,k)=>{"use strict";function Se(te,Ie){var Pe={};for(var je in te)Object.prototype.hasOwnProperty.call(te,je)&&Ie.indexOf(je)<0&&(Pe[je]=te[je]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var it=0;for(je=Object.getOwnPropertySymbols(te);it<je.length;it++)Ie.indexOf(je[it])<0&&Object.prototype.propertyIsEnumerable.call(te,je[it])&&(Pe[je[it]]=te[je[it]])}return Pe}function oe(te,Ie,Pe,je){return new(Pe||(Pe=Promise))(function(_t,Bt){function Gt(Yn){try{bn(je.next(Yn))}catch(Rn){Bt(Rn)}}function Wt(Yn){try{bn(je.throw(Yn))}catch(Rn){Bt(Rn)}}function bn(Yn){Yn.done?_t(Yn.value):function it(_t){return _t instanceof Pe?_t:new Pe(function(Bt){Bt(_t)})}(Yn.value).then(Gt,Wt)}bn((je=je.apply(te,Ie||[])).next())})}function Oe(te){return this instanceof Oe?(this.v=te,this):new Oe(te)}function tt(te,Ie,Pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var it,je=Pe.apply(te,Ie||[]),_t=[];return it={},Bt("next"),Bt("throw"),Bt("return"),it[Symbol.asyncIterator]=function(){return this},it;function Bt(Nn){je[Nn]&&(it[Nn]=function(rn){return new Promise(function(kn,mr){_t.push([Nn,rn,kn,mr])>1||Gt(Nn,rn)})})}function Gt(Nn,rn){try{!function Wt(Nn){Nn.value instanceof Oe?Promise.resolve(Nn.value.v).then(bn,Yn):Rn(_t[0][2],Nn)}(je[Nn](rn))}catch(kn){Rn(_t[0][3],kn)}}function bn(Nn){Gt("next",Nn)}function Yn(Nn){Gt("throw",Nn)}function Rn(Nn,rn){Nn(rn),_t.shift(),_t.length&&Gt(_t[0][0],_t[0][1])}}function Ze(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,Ie=te[Symbol.asyncIterator];return Ie?Ie.call(te):(te=function xe(te){var Ie="function"==typeof Symbol&&Symbol.iterator,Pe=Ie&&te[Ie],je=0;if(Pe)return Pe.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&je>=te.length&&(te=void 0),{value:te&&te[je++],done:!te}}};throw new TypeError(Ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),Pe={},je("next"),je("throw"),je("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe);function je(_t){Pe[_t]=te[_t]&&function(Bt){return new Promise(function(Gt,Wt){!function it(_t,Bt,Gt,Wt){Promise.resolve(Wt).then(function(bn){_t({value:bn,done:Gt})},Bt)}(Gt,Wt,(Bt=te[_t](Bt)).done,Bt.value)})}}}k.d(lt,{FC:()=>tt,KL:()=>Ze,_T:()=>Se,mG:()=>oe,qq:()=>Oe}),"function"==typeof SuppressedError&&SuppressedError}},sn=>{sn(sn.s=5902)}]);